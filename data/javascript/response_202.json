[{"tags": ["javascript", "regex"], "comments": [{"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1542844877, "post_id": 53422114, "comment_id": 93718752, "body": "Can you provide the regex?"}, {"owner": {"reputation": 30501, "user_id": 1029146, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a659be962c006e43e110b5a9dfda538e?s=128&d=identicon&r=PG", "display_name": "temporary_user_name", "link": "https://stackoverflow.com/users/1029146/temporary-user-name"}, "reply_to_user": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 1, "creation_date": 1542845165, "post_id": 53422114, "comment_id": 93718838, "body": "I mean I could but it shouldn&#39;t make any difference to the question, it&#39;s arbitrary. It applies equally to all regexes. But it&#39;s the email-matching regex <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/email#Validation\" rel=\"nofollow noreferrer\">from the MDN docs</a>. And yeah that&#39;s true I could do it that way, but it&#39;s not really exactly what I&#39;m looking for here and more of a work-around."}], "answers": [{"tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 4, "last_activity_date": 1542846531, "last_edit_date": 1542846531, "creation_date": 1542845302, "answer_id": 53422171, "question_id": 53422114, "link": "https://stackoverflow.com/questions/53422114/how-can-i-place-newlines-in-my-regex-to-make-it-more-readable/53422171#53422171", "title": "How can I place newlines in my regex to make it more readable?", "body": "<p>There's no <em>built-in</em> way to accomplish such a thing, but it's not hard to accomplish it yourself. You can use a template literal with <code>String.raw</code>, which will allow you to use newlines in the regex string, <em>without having to double-escape backslashes</em>, and then you can replace all newlines with the empty string before passing it to <code>new RegExp</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const patternStr = String.raw`^\r\n[fg]oo\r\n=\r\n\\war`;\r\nconst pattern = new RegExp(patternStr.replace(/\\n/g, ''));\r\nconsole.log(pattern.test('foo=bar'));\r\nconsole.log(pattern.test('goo=bar'));\r\nconsole.log(pattern.test('hoo=bar'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You can use a similar technique to allow comments as well:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const patternStr = String.raw`\r\n^         // Match the beginning of the string\r\n[fg]oo    // Match either f or g, followed by oo\r\n=         // Match an equals sign\r\n\\war      // Match a word character, followed by \"ar\"\r\n`;    \r\nconst pattern = new RegExp(\r\n  patternStr.replace(/(?: *\\/\\/.*)?\\n/g, '')\r\n);\r\nconsole.log(pattern.test('foo=bar'));\r\nconsole.log(pattern.test('goo=bar'));\r\nconsole.log(pattern.test('hoo=bar'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The <code>(?: *\\/\\/.*)?\\n</code> pattern means: </p>\n\n<p><code>(?: *\\/\\/.*)?</code> - An optional group of zero or more spaces, followed by <code>//</code>, followed by non-newline characters</p>\n\n<p><code>\\n</code> - followed by a newline</p>\n\n<p>Of course, this means it'll be impossible to write <code>//</code> as is in the regex, but that's OK, you can just escape forward slashes just like you do with regular expression literals (it'll be parsed by the RegExp constructor as an unnecessary escape character):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const patternStr = String.raw`\r\n^         // Match the beginning of the string\r\n\\/\\/      // Match two literal forward slashes\r\n`;\r\nconst pattern = new RegExp(\r\n  patternStr.replace(/(?: *\\/\\/.*)?\\n/g, '')\r\n);\r\nconsole.log(pattern.test('//foo'));\r\nconsole.log(pattern.test('foo'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Another way would be to allow literal <code>//</code>s in the template literal by, when matching the comment <code>// &lt;text&gt; \\n</code>, make sure that <code>&lt;text&gt;</code> doesn't have any <code>//</code>s in it. This would mean that only the <em>final</em> <code>//</code> on a line would be parsed as a comment, allowing you to use <code>//</code>s earlier on the line, without escaping, without problems, by using <code>(?:(?!\\/\\/).)*</code> instead of <code>.*</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const patternStr = String.raw`\r\n^         // Match the beginning of the string\r\n//        // Match two literal forward slashes\r\n`;\r\nconst pattern = new RegExp(\r\n  patternStr.replace(/(?: *\\/\\/(?:(?!\\/\\/).)*)?\\n/g, '')\r\n);\r\nconsole.log(pattern.test('//foo'));\r\nconsole.log(pattern.test('foo'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Of course, this will mean that <code>//</code>s will only be parsed as actual double-forward-slashes in the regex if there's <em>another</em> <code>//</code> farther right in the line. (If there isn't another <code>//</code> later, you'll have to use <code>\\/\\/</code> instead)</p>\n"}], "owner": {"reputation": 30501, "user_id": 1029146, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a659be962c006e43e110b5a9dfda538e?s=128&d=identicon&r=PG", "display_name": "temporary_user_name", "link": "https://stackoverflow.com/users/1029146/temporary-user-name"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "closed_date": 1542879017, "accepted_answer_id": 53422171, "answer_count": 1, "score": 3, "last_activity_date": 1542880606, "creation_date": 1542844785, "question_id": 53422114, "link": "https://stackoverflow.com/questions/53422114/how-can-i-place-newlines-in-my-regex-to-make-it-more-readable", "closed_reason": "Duplicate", "title": "How can I place newlines in my regex to make it more readable?", "body": "<p>I have a really long email-matching regex in JavasScript that I would like to break into multiple lines without changing the regex functionality. I know some regex engines offer a way to insert newlines for readability, is there a way to do that in JS?</p>\n"}, {"tags": ["javascript", "css"], "comments": [{"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1542844792, "post_id": 53422105, "comment_id": 93718728, "body": "probably talking about this question (<a href=\"https://stackoverflow.com/questions/53421475/css-text-animation-for-scrolling-text\" title=\"css text animation for scrolling text\">stackoverflow.com/questions/53421475/&hellip;</a>) where there is an easy CSS solution"}, {"owner": {"reputation": 917, "user_id": 7365949, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fafca5759ac06d50277c66b284f2fd77?s=128&d=identicon&r=PG&f=1", "display_name": "ptts", "link": "https://stackoverflow.com/users/7365949/ptts"}, "reply_to_user": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1542844854, "post_id": 53422105, "comment_id": 93718743, "body": "Well, the easy CSS solution is not responsive and the element still overflows."}, {"owner": {"reputation": 917, "user_id": 7365949, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fafca5759ac06d50277c66b284f2fd77?s=128&d=identicon&r=PG&f=1", "display_name": "ptts", "link": "https://stackoverflow.com/users/7365949/ptts"}, "reply_to_user": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1542844927, "post_id": 53422105, "comment_id": 93718767, "body": "And that is besides the point, I am talking about trying this new, potentialy very valuable technology."}, {"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1542844928, "post_id": 53422105, "comment_id": 93718769, "body": "it&#39;s responsive, check the duplicate"}, {"owner": {"reputation": 917, "user_id": 7365949, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fafca5759ac06d50277c66b284f2fd77?s=128&d=identicon&r=PG&f=1", "display_name": "ptts", "link": "https://stackoverflow.com/users/7365949/ptts"}, "reply_to_user": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1542845151, "post_id": 53422105, "comment_id": 93718829, "body": "It cannot be really responsive when the parent element has a hard coded px width. It is an unsatisfying reply, nobody would deploy that to a live website/app. If the OP is happy with that answer, fine, but this is a new question with new scope. How to add keyframe % values to the array."}, {"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1542845298, "post_id": 53422105, "comment_id": 93718882, "body": "it has nothing to do with the parent element .. the solution provided doesn&#39;t consider any width of the parent element and it uses percentage values only"}, {"owner": {"reputation": 917, "user_id": 7365949, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fafca5759ac06d50277c66b284f2fd77?s=128&d=identicon&r=PG&f=1", "display_name": "ptts", "link": "https://stackoverflow.com/users/7365949/ptts"}, "reply_to_user": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1542845549, "post_id": 53422105, "comment_id": 93718947, "body": "Actually, that solution that is posted now is decent. Ok, back to topic, can we experiment with this Element.animate, this is something that is overdue imo."}, {"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1542845583, "post_id": 53422105, "comment_id": 93718953, "body": "check my answer below ;)"}], "answers": [{"comments": [{"owner": {"reputation": 917, "user_id": 7365949, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fafca5759ac06d50277c66b284f2fd77?s=128&d=identicon&r=PG&f=1", "display_name": "ptts", "link": "https://stackoverflow.com/users/7365949/ptts"}, "edited": false, "score": 0, "creation_date": 1542846197, "post_id": 53422153, "comment_id": 93719098, "body": "Fantastic, yes, offset value was what I was looking for. Does this stuff work on anything else than Chrome?"}, {"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "reply_to_user": {"reputation": 917, "user_id": 7365949, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fafca5759ac06d50277c66b284f2fd77?s=128&d=identicon&r=PG&f=1", "display_name": "ptts", "link": "https://stackoverflow.com/users/7365949/ptts"}, "edited": false, "score": 0, "creation_date": 1542846372, "post_id": 53422153, "comment_id": 93719127, "body": "@ptts according to MDN <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Web_Animations_API/Keyframe_Formats\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/Web_Animations_API/&zwnj;&#8203;&hellip;</a> it may also work on Firefox but it remain experimental, so don&#39;t rely on it"}], "tags": [], "owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "is_accepted": true, "score": 1, "last_activity_date": 1542845479, "last_edit_date": 1542845479, "creation_date": 1542845164, "answer_id": 53422153, "question_id": 53422105, "link": "https://stackoverflow.com/questions/53422105/trying-the-native-element-animate-method-but-cannot-add-keyframe-percentages/53422153#53422153", "title": "Trying the native Element.animate method, but cannot add keyframe percentages", "body": "<p>You need to consider the fact that the text is initially on the left edge of the container, so you need to translate form <code>0</code> to <code>width of container - width of text</code>:</p>\n\n<p>And what you are looking for is the <code>offset</code> value<sup><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Web_Animations_API/Keyframe_Formats\" rel=\"nofollow noreferrer\">ref</a></sup></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var container = document.querySelector(\".container\");\r\nvar movingText = document.getElementById(\"movetxt\");\r\nvar containerWidth = container.offsetWidth;\r\nvar textWidth = movingText.offsetWidth;\r\nvar totalDistance = containerWidth - textWidth;\r\nvar oneWayDistance = totalDistance / 2;\r\nconsole.log(containerWidth);\r\nconsole.log(textWidth);\r\nmovingText.animate([\r\n  // keyframes\r\n  { transform: 'translateX(0)',offset:0 },  /*0%*/\r\n  {  transform: 'translateX(' + totalDistance + 'px)',offset:0.3 }, /*30%*/\r\n  {  transform: 'translateX(0)',offset:1 } /*100%*/\r\n], { \r\n  // timing options\r\n  duration: 1000,\r\n  iterations: Infinity\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.container {\r\n  margin: 0 auto;\r\n  width: 300px;\r\n  border: 1px solid red;\r\n}\r\n\r\n#movetxt {\r\n  width: 180px;\r\n  border:1px solid;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"container\"&gt;\r\n&lt;div id=\"movetxt\"&gt;left to right, right to left&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 374, "user_id": 2689766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/397fd304fbe8fcfb12f1f582869c88b6?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulsattar Alkhalaf", "link": "https://stackoverflow.com/users/2689766/abdulsattar-alkhalaf"}, "is_accepted": false, "score": 1, "last_activity_date": 1542845828, "creation_date": 1542845828, "answer_id": 53422226, "question_id": 53422105, "link": "https://stackoverflow.com/questions/53422105/trying-the-native-element-animate-method-but-cannot-add-keyframe-percentages/53422226#53422226", "title": "Trying the native Element.animate method, but cannot add keyframe percentages", "body": "<p>You should use offset like this</p>\n\n<pre><code>element.animate({\n    opacity: [ 0, 0.9, 1 ],\n    offset: [ 0, 0.8 ], // Shorthand for [ 0, 0.8, 1 ]\n    easing: [ 'ease-in', 'ease-out' ],\n}, 2000);\n</code></pre>\n\n<p>and in your case you can use like this and change your own</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var container = document.querySelector(\".container\");\r\nvar movingText = document.getElementById(\"movetxt\");\r\nvar containerWidth = container.offsetWidth;\r\nvar textWidth = movingText.offsetWidth;\r\nvar totalDistance = containerWidth - textWidth;\r\nvar oneWayDistance = totalDistance / 2;\r\nmovingText.animate(\r\n  {transform:['translateX(' + oneWayDistance + 'px)','translateX(-' + totalDistance + 'px)','translateX(' + oneWayDistance + 'px)'],\r\n  offset: [0,0.1]\r\n}, { \r\n  duration: 1000,\r\n  iterations: Infinity\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.container {\r\n  margin: 0 auto;\r\n  width: 300px;\r\n  border: 1px solid red;\r\n}\r\n\r\n#movetxt {\r\n  width: 180px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"container\"&gt;\r\n&lt;div id=\"movetxt\"&gt;left to right, right to left&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 917, "user_id": 7365949, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fafca5759ac06d50277c66b284f2fd77?s=128&d=identicon&r=PG&f=1", "display_name": "ptts", "link": "https://stackoverflow.com/users/7365949/ptts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 53422153, "answer_count": 2, "score": 1, "last_activity_date": 1542846845, "creation_date": 1542844665, "question_id": 53422105, "link": "https://stackoverflow.com/questions/53422105/trying-the-native-element-animate-method-but-cannot-add-keyframe-percentages", "title": "Trying the native Element.animate method, but cannot add keyframe percentages", "body": "<p>Someone asked a related question and I am trying to make it work with the  experimental technology Element.animate.\nThe MDN documentation is rather...slim and the state of the technology is lets say infantile.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/animate\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Element/animate</a></p>\n\n<p>What I have is this markup:</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n&lt;div id=\"movetxt\"&gt;left to right, right to left&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Just want the movetxt div to move from left to right ad infinity within the container div.</p>\n\n<p>Css is hard coded, as I do not know how to get the width of the div text node.</p>\n\n<pre><code>.container {\nmargin: 0 auto;\nwidth: 300px;\nborder: 1px solid red;\n}\n\n#movetxt {\nwidth: 180px;\n}\n</code></pre>\n\n<p>Now, the JS</p>\n\n<pre><code>var container = document.querySelector(\".container\");\nvar movingText = document.getElementById(\"movetxt\");\n var containerWidth = container.offsetWidth;\nvar textWidth = movingText.offsetWidth;\nvar totalDistance = containerWidth - textWidth;\nvar oneWayDistance = totalDistance / 2; //just establishing the travel distance\n</code></pre>\n\n<p>And now the experiment part:</p>\n\n<pre><code> movingText.animate([\n// keyframes\n{ transform: 'translateX(' + oneWayDistance + 'px)' }, \n{ transform: 'translateX(-' + totalDistance + 'px)' }\n], { \n// timing options\nduration: 1000,\niterations: Infinity\n});\n</code></pre>\n\n<p>This kind of works, the console throws some errors, but the thing runs.</p>\n\n<p>But, I want to have this kind of keyframas format, just an example:</p>\n\n<pre><code>  0%   { transform: 'translateX(' + oneWayDistance + 'px)' },\n        10%  { transform: 'translateX(-' + totalDistance + 'px)' }\n</code></pre>\n\n<p>If I try that, I get Failed to execute 'animate' on 'Element': Keyframes must be objects, or null or undefined.</p>\n\n<p>Link to fiddle:</p>\n\n<p><a href=\"http://jsfiddle.net/vdb3ofmL/1135/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/vdb3ofmL/1135/</a></p>\n\n<p>There must be some way to place the keyframe % values there, can anyone figure this out?</p>\n\n<p>Cheers</p>\n"}, {"tags": ["javascript", "arrays", "string", "foreach"], "comments": [{"owner": {"reputation": 2105, "user_id": 5884037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sjyWD.jpg?s=128&g=1", "display_name": "blaze_125", "link": "https://stackoverflow.com/users/5884037/blaze-125"}, "edited": false, "score": 0, "creation_date": 1542845969, "post_id": 53422104, "comment_id": 93719049, "body": "append the <b>or</b> at the beginning of the string when index &gt; 0 instead of adding it at the end when index &gt; -1"}, {"owner": {"reputation": 39638, "user_id": 8690857, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-47_HcdolAr0/AAAAAAAAAAI/AAAAAAAAB30/lD6xAXOWlu4/photo.jpg?sz=128", "display_name": "Drew Reese", "link": "https://stackoverflow.com/users/8690857/drew-reese"}, "edited": false, "score": 0, "creation_date": 1542848021, "post_id": 53422104, "comment_id": 93719457, "body": "The classic Fence Post problem. The basic algorithm is to start at your first post (element at index 0 in this case) and post-pend your fence (the <code>&quot; OR &quot;</code>) up until the second to last element, then add your last post.   As others have pointed out, the array join function does this for you."}], "answers": [{"tags": [], "owner": {"reputation": 920, "user_id": 5482045, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/930882390318811/picture?type=large", "display_name": "Nunchy", "link": "https://stackoverflow.com/users/5482045/nunchy"}, "is_accepted": true, "score": 1, "last_activity_date": 1542845220, "creation_date": 1542845220, "answer_id": 53422160, "question_id": 53422104, "link": "https://stackoverflow.com/questions/53422104/looping-over-javascript-object-and-adding-string-to-end-if-not-the-last-item/53422160#53422160", "title": "Looping over JavaScript object and adding string to end if not the last item", "body": "<p>Your conditional expression <code>if (i == 1)</code> would only trigger on the second iteration of the loop since <code>i</code> will only equal <code>1</code> one time.</p>\n\n<p>Try something like:</p>\n\n<pre><code>if (i &lt; (facetResults.length - 1)) {\n    // only add OR if this isn't the last element of the array\n    filter = \"'\" + facetKey + \"'\" + \":'\" + facetResults[i] + \" OR\";\n    return filter;\n}\n</code></pre>\n\n<p>Here's your updated code:</p>\n\n<pre><code>Object.keys(facets).forEach(function(facetKey) {\n  if (facets[facetKey].length &gt; 1) {\n    facetResults = facets[facetKey];\n    for (var i = 0; i &lt; facetResults.length; i ++) {\n      if (i &lt; (facetResults.length - 1)) {\n        filter = \"'\" + facetKey + \"'\" + \":'\" + facetResults[i] + \" OR\";\n        return filter;\n      } else {\n        filter = \"'\" + facetKey + \"'\" + \":'\" + facetResults[i];\n      }\n   }\n} else {\n  filter = \"'\" + facetKey + \"'\" + \": \" + facets[facetKey] + \"'\";\n  return filter;\n}\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11289, "user_id": 1822698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/725a332cc5b93972e715f071b631f4a8?s=128&d=identicon&r=PG", "display_name": "slider", "link": "https://stackoverflow.com/users/1822698/slider"}, "edited": false, "score": 1, "creation_date": 1542846551, "post_id": 53422164, "comment_id": 93719180, "body": "Instead of <code>v.toString().replace(&#47;,&#47;g, &#39; OR &#39;)</code> you can use join: <code>v.join(&#39; OR &#39;)</code>."}, {"owner": {"reputation": 15562, "user_id": 155819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yXygz.jpg?s=128&g=1", "display_name": "Akrion", "link": "https://stackoverflow.com/users/155819/akrion"}, "reply_to_user": {"reputation": 11289, "user_id": 1822698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/725a332cc5b93972e715f071b631f4a8?s=128&d=identicon&r=PG", "display_name": "slider", "link": "https://stackoverflow.com/users/1822698/slider"}, "edited": false, "score": 0, "creation_date": 1542846613, "post_id": 53422164, "comment_id": 93719190, "body": "Sure. Good call. Thanks."}], "tags": [], "owner": {"reputation": 15562, "user_id": 155819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yXygz.jpg?s=128&g=1", "display_name": "Akrion", "link": "https://stackoverflow.com/users/155819/akrion"}, "is_accepted": false, "score": 2, "last_activity_date": 1542846999, "last_edit_date": 1542846999, "creation_date": 1542845241, "answer_id": 53422164, "question_id": 53422104, "link": "https://stackoverflow.com/questions/53422104/looping-over-javascript-object-and-adding-string-to-end-if-not-the-last-item/53422164#53422164", "title": "Looping over JavaScript object and adding string to end if not the last item", "body": "<p>You can do something like this with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries\" rel=\"nofollow noreferrer\"><code>Object.entries</code></a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"nofollow noreferrer\"><code>Array.reduce</code></a> if you would like to get the final result in the form of an object:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = { field_country: [\"England\", \"Netherlands\", \"India\", \"Italy\"], field_continent: [\"Europe\"], field_group: [\"Building\", \"People\", \"Landscape\"] }\r\n\r\nconst result = Object.entries(data).reduce((r, [k, v]) =&gt; {\r\n  r[k] = v.join(' OR ')\r\n  return r\r\n}, {})\r\n\r\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It is somewhat unclear what is the final format you need to result in but that should help you to get the idea. If ES6 is not an option you can convert this to:</p>\n\n<pre><code>const result = Object.entries(data).reduce(function(r, [k, v]) {\n   r[k] = v.join(' OR ')\n   return r\n}, {})\n</code></pre>\n\n<p>So there are is no <code>arrow function</code> etc.</p>\n\n<p>The idea is to get the arrays into the arrays of strings and use the Array.join to do the \"replacement\" for you via <code>join(' OR ')</code></p>\n"}, {"comments": [{"owner": {"reputation": 39638, "user_id": 8690857, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-47_HcdolAr0/AAAAAAAAAAI/AAAAAAAAB30/lD6xAXOWlu4/photo.jpg?sz=128", "display_name": "Drew Reese", "link": "https://stackoverflow.com/users/8690857/drew-reese"}, "edited": false, "score": 1, "creation_date": 1542847836, "post_id": 53422413, "comment_id": 93719421, "body": "Just set <code>retval = some words[0];</code>, start at index 1, and do just your else branch."}, {"owner": {"reputation": 2105, "user_id": 5884037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sjyWD.jpg?s=128&g=1", "display_name": "blaze_125", "link": "https://stackoverflow.com/users/5884037/blaze-125"}, "reply_to_user": {"reputation": 39638, "user_id": 8690857, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-47_HcdolAr0/AAAAAAAAAAI/AAAAAAAAB30/lD6xAXOWlu4/photo.jpg?sz=128", "display_name": "Drew Reese", "link": "https://stackoverflow.com/users/8690857/drew-reese"}, "edited": false, "score": 0, "creation_date": 1542853152, "post_id": 53422413, "comment_id": 93720445, "body": "@DrewReese, it took me a moment to understand but you are so right! Changed it and I&#39;ll remember this comment!"}, {"owner": {"reputation": 159, "user_id": 8470768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Iyi8.jpg?s=128&g=1", "display_name": "P.Banerjee", "link": "https://stackoverflow.com/users/8470768/p-banerjee"}, "edited": false, "score": 0, "creation_date": 1568796217, "post_id": 53422413, "comment_id": 102384774, "body": "Brilliant one !"}], "tags": [], "owner": {"reputation": 2105, "user_id": 5884037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sjyWD.jpg?s=128&g=1", "display_name": "blaze_125", "link": "https://stackoverflow.com/users/5884037/blaze-125"}, "is_accepted": false, "score": 2, "last_activity_date": 1542853047, "last_edit_date": 1542853047, "creation_date": 1542847492, "answer_id": 53422413, "question_id": 53422104, "link": "https://stackoverflow.com/questions/53422104/looping-over-javascript-object-and-adding-string-to-end-if-not-the-last-item/53422413#53422413", "title": "Looping over JavaScript object and adding string to end if not the last item", "body": "<p>Here's the idea. In your code you are appending \" or \" at the end of your strings starting at index 0. I suggest you append it at the the beginning starting at index 1.</p>\n\n<pre><code>var somewords = [\"ORANGE\", \"GREEN\", \"BLUE\", \"WHITE\" ];\nvar retval = somewords[0];\nfor(var i = 1; i&lt; somewords.length; i++)\n  {\n    retval += \" or \" + somewords[i];\n  }\nconsole.log(retval);\n\n//result is: ORANGE or GREEN or BLUE or WHITE\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 7015957, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9d73f56b899a45651a3e9f6b2172713d?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Ayello Wright", "link": "https://stackoverflow.com/users/7015957/peter-ayello-wright"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1295, "favorite_count": 0, "accepted_answer_id": 53422160, "answer_count": 3, "score": 1, "last_activity_date": 1542883736, "creation_date": 1542844657, "question_id": 53422104, "link": "https://stackoverflow.com/questions/53422104/looping-over-javascript-object-and-adding-string-to-end-if-not-the-last-item", "title": "Looping over JavaScript object and adding string to end if not the last item", "body": "<pre><code>{\nfield_country: [\"England\", \"Netherlands\", \"India\", \"Italy\"],\nfield_continent: [\"Europe\"],\nfield_group: [\"Building\", \"People\", \"Landscape\"\n}\n</code></pre>\n\n<p>I want to loop over each item and return the key and the array together with ending 'OR' for example:\nfield_country: \"England\" OR field_country: \"Netherlands\"\nThe last item should not end with 'OR' in the loop. I am not sure what the best process is for this using vanilla JS. So far my code is as follows:</p>\n\n<pre><code>Object.keys(facets).forEach(function(facetKey) {\n  if (facets[facetKey].length &gt; 1) {\n    facetResults = facets[facetKey];\n    for (var i = 0; i &lt; facetResults.length; i ++) {\n      if (i == 1) {\n        filter = \"'\" + facetKey + \"'\" + \":'\" + facetResults[i] + \" OR\";\n        return filter;\n      } else {\n        filter = \"'\" + facetKey + \"'\" + \":'\" + facetResults[i];\n      }\n   }\n} else {\n  filter = \"'\" + facetKey + \"'\" + \": \" + facets[facetKey] + \"'\";\n  return filter;\n}\n});\n</code></pre>\n\n<p>I would be very grateful for any assistance.\nThanks in advance.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 486, "user_id": 5626740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c31f35fe07cab0f1f2f47879fd43f1d8?s=128&d=identicon&r=PG", "display_name": "Damien", "link": "https://stackoverflow.com/users/5626740/damien"}, "edited": false, "score": 3, "creation_date": 1542844804, "post_id": 53422099, "comment_id": 93718733, "body": "I suspect that you are overflowing the <code>int</code> in JS, which has a maximum of <code>9007199254740991</code>"}, {"owner": {"reputation": 6256, "user_id": 9507270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHaNG.jpg?s=128&g=1", "display_name": "Sebastian Speitel", "link": "https://stackoverflow.com/users/9507270/sebastian-speitel"}, "edited": false, "score": 0, "creation_date": 1542844950, "post_id": 53422099, "comment_id": 93718772, "body": "The precision of float64 isn&#39;t enough to store such detailed numbers."}], "owner": {"reputation": 3011, "user_id": 3089840, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/BSs2k.png?s=128&g=1", "display_name": "user3089840", "link": "https://stackoverflow.com/users/3089840/user3089840"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "closed_date": 1542844971, "answer_count": 0, "score": 0, "last_activity_date": 1542844609, "creation_date": 1542844609, "question_id": 53422099, "link": "https://stackoverflow.com/questions/53422099/converting-a-javascript-string-to-an-integer-problem", "closed_reason": "Duplicate", "title": "Converting a Javascript String to an Integer problem", "body": "<p>I have what I thought was a simple Javascript formula:</p>\n\n<pre><code>parseInt(Math.ceil(Math.random() * 1000000).toString() + Date.now())\n</code></pre>\n\n<p>which I would expect to give me a number that is simply a random number concatenated (not added) with a timestamp.  </p>\n\n<p>When I look at just part of the code:  <code>Math.ceil(Math.random() * 1000000).toString() + Date.now()</code> this does give me the string I would expect, such as <code>\"9220291542844303075\"</code>.</p>\n\n<p>However, when I try converting this string into a number using <code>parseInt()</code> or <code>Number()</code>, those methods both return the desired number with three zeros at the end of it, such as: <code>9220291542844303075000</code></p>\n\n<p>How can I get the actual String I have converted to its same number so that <code>\"9220291542844303075\"</code> becomes <code>9220291542844303075</code> without the extra zeros, and why is the way I am doing it not working?</p>\n"}, {"tags": ["javascript", "mongodb"], "answers": [{"comments": [{"owner": {"reputation": 257, "user_id": 6238512, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/W8pZ8.jpg?s=128&g=1", "display_name": "Kris", "link": "https://stackoverflow.com/users/6238512/kris"}, "edited": false, "score": 0, "creation_date": 1543251446, "post_id": 53422653, "comment_id": 93841206, "body": "Thank you for this great explanation. This is super helpful!"}], "tags": [], "owner": {"reputation": 129250, "user_id": 2313887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/259593de18972d36e25f230c2be19d9f?s=128&d=identicon&r=PG", "display_name": "Neil Lunn", "link": "https://stackoverflow.com/users/2313887/neil-lunn"}, "is_accepted": true, "score": 4, "last_activity_date": 1542853059, "last_edit_date": 1542853059, "creation_date": 1542849692, "answer_id": 53422653, "question_id": 53422086, "link": "https://stackoverflow.com/questions/53422086/mongodb-change-the-order-of-an-array/53422653#53422653", "title": "Mongodb change the order of an array", "body": "<p>So that is not actually the way you would do this. Basically there is no need to actually send an update request to the server for every single indexed position for the array. Also the <a href=\"https://mongoosejs.com/docs/api.html#model_Model.update\" rel=\"nofollow noreferrer\"><code>update()</code></a> method is <em>asynchronous</em>, so it's not something you ever put inside a <code>forEach()</code> which does not respect awaiting the completion of an asynchronous call.</p>\n\n<p>Instead what is usually the most practical solution is to just <a href=\"https://docs.mongodb.com/manual/reference/operator/update/set/\" rel=\"nofollow noreferrer\"><code>$set</code></a> the entire array content in one request. Also mocking up your <code>imagesOrder</code> to something practical since <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow noreferrer\"><code>forEach()</code></a> even actually has the signature of <code>.forEach((&lt;element&gt;,&gt;&lt;index&gt;) =&gt; ...</code>, which seems different to what you were expecting given the code in the question.</p>\n\n<pre><code> var imagesOrder = [\n  { index: 0, url: '/one' }, { index: 1, url: '/two' }, { index: 2, url: '/three' }\n ];\n\n let response = await Users.updateOne(\n   { id },\n   { \"$set\": { \"images\": imagesOrder.map(({ url }) =&gt; url) } }\n );\n\n // { \"$set\": { \"images\": [\"/one\",\"/two\",\"/three\"] } }\n</code></pre>\n\n<p>Much like the <code>forEach()</code> a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\"><code>map()</code></a> does the same array iteration but with the difference that it actually returns an array generated by the processing function. This is actually what you want since all that is needed here is to simply extract the values of the <code>url</code> property from each object.</p>\n\n<p>Note the <code>index</code> properties are actually already in order and really redundant here, but I'm just approximating what it sounds like you have from your question. Since an \"array\" actually maintains it's own order then such a property \"should\" be redundant and it would be advisable that your source array data actually conforms to this.</p>\n\n<p>If however you managed to record such <code>index</code> values in a way they are actually out of order, then the best solution is to add a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\" rel=\"nofollow noreferrer\"><code>sort()</code></a>:</p>\n\n<pre><code> var imagesOrder = [\n  { index: 2, url: '/three' }, { index: 0, url: '/one' }, { index: 1, url: '/two' }\n ];\n\n let response = await Users.updateOne(\n   { id },\n   { \"$set\": {\n     \"images\": imagesOrder.sort((a,b) =&gt; a.index - b.index)\n       .map(({ url }) =&gt; url)\n   }}\n );\n\n // { \"$set\": { \"images\": [\"/one\",\"/two\",\"/three\"] } }\n</code></pre>\n\n<hr>\n\n<p>As for what you \"attempted\", it's not really benefiting you in any way to actually attempt updating each element at a given position. But if you really wanted to see it done, then again you actually would just instead build up a single update request:</p>\n\n<pre><code> var imagesOrder = [\n  { index: 2, url: '/three' }, { index: 0, url: '/one' }, { index: 1, url: '/two' }\n ];\n\n var update = { $set: {} };\n\n for ( let { url, index } of imagesOrder.sort((a,b) =&gt; a.index - b.index) ) {\n    update.$set['images.'+index] = url;\n }\n\n /*\n  * Creates:\n  *\n  * { \"$set\": {\n  *   \"images.0\": \"/one\",\n  *   \"images.1\": \"/two\",\n  *   \"images.2\": \"/three\"\n  * }}\n  */       \n\n let response = await Users.updateOne({ id }, update);\n</code></pre>\n\n<p>Or in the case where the <code>index</code> property was not there or irrelevant since the array is already ordered:</p>\n\n<pre><code> var imagesOrder = [\n  { index: 2, url: '/three' }, { index: 0, url: '/one' }, { index: 1, url: '/two' }\n ];\n\n for ( let [index, { url }] of Object.entries(imagesOrder) ) {\n    update.$set['images.'+index] = url;\n }\n\n /*\n  * Creates:\n  *\n  * { \"$set\": {\n  *   \"images.0\": \"/one\",\n  *   \"images.1\": \"/two\",\n  *   \"images.2\": \"/three\"\n  * }}\n  */       \n\n let response = await Users.updateOne({ id }, update);\n</code></pre>\n\n<p>So it's all pretty much the same thing. Note the common form of notation is actually a \"string\" for the key which includes the index position numerically. This is described in <a href=\"https://docs.mongodb.com/manual/core/document/#dot-notation\" rel=\"nofollow noreferrer\">Dot Notation</a> within the core documentation for the MongoDB query language.</p>\n\n<p>The one main difference here is that should your new array contain more entries than the actual array stored in the document to be modified, that second form using the \"dot notation\" to the indexed position is going to fail since it cannot \"set\" an index position which does not exist.</p>\n\n<p>For this reason even though there are other pitfalls to \"replacing\" the array as the original examples show, it's a lot safer than attempting to update via the positional index in the stored document.</p>\n\n<hr>\n\n<p>Note that this should be enough to have you at least started in the right direction. Making this work with multiple users possibly updating the data at once can become pretty complicated in terms of update statements for both checking and merging changes.</p>\n\n<p>In most cases the simple \"replace\" will be more than adequate at least for a while. And of course the main lesson here should be to not loop \"async\" methods in places where it is completely unnecessary. Most of the time what you really want to \"loop\" is the construction of the statement, if of course any looping is required at all and most of the time it really isn't.</p>\n\n<hr>\n\n<h2>Addendum</h2>\n\n<p>Just in case you or anyone had it in mind to actually store an array of objects with the <code>index</code> position values stored within them, this can become a little more complex, but it can also serve as an example of how to actually issue an update statement which does not \"replace\" the array and actually is <em>safe</em> considering it does not rely on indexed positions of the array but instead using matching conditions.</p>\n\n<p>This is possible with the <a href=\"https://docs.mongodb.com/manual/reference/operator/update/positional-filtered/\" rel=\"nofollow noreferrer\">positional filtered <code>$[&lt;identifier&gt;]</code></a> syntax introduced in MongoDB 3.6. This allows conditions to specify which element to update ( i.e by matching url ) instead of including the index positions within the statement directly. It's <em>safer</em> since if no matching element is found, then the syntax allows for not attempting to change anything at all.</p>\n\n<p>Also as demonstration the method to <a href=\"https://docs.mongodb.com/manual/reference/operator/update/sort/\" rel=\"nofollow noreferrer\"><code>$sort</code></a> the elements based on updated <code>index</code> values is shown. Noting this actually uses the <a href=\"https://docs.mongodb.com/manual/reference/operator/update/push\" rel=\"nofollow noreferrer\"><code>$push</code></a> modifier even though in this statement we are not actually adding anything to the array. Just reordering the elements. But it's how you actually do that atomically:</p>\n\n<pre><code>const { Schema, Types: { ObjectId } } = mongoose = require('mongoose');\n\nconst uri = 'mongodb://localhost:27017/longorder';\nconst opts = { useNewUrlParser: true };\n\n// sensible defaults\nmongoose.Promise = global.Promise;\nmongoose.set('debug', true);\nmongoose.set('useFindAndModify', false);\nmongoose.set('useCreateIndex', true);\n\n// schema defs\n\nconst imageSchema = new Schema({\n  index: Number,\n  url: String\n})\n\nconst userSchema = new Schema({\n  images: [imageSchema]\n});\n\nconst User = mongoose.model('User', userSchema);\n\n// log helper\n\nconst log = data =&gt; console.log(JSON.stringify(data, undefined, 2));\n\n(async function() {\n\n  try {\n\n    const conn = await mongoose.connect(uri, opts);\n\n    // clean models\n    await Promise.all(\n      Object.entries(conn.models).map(([k,m]) =&gt; m.deleteMany())\n    );\n\n    // Create data\n\n    let _id = new ObjectId();\n\n    let user = await User.findOneAndUpdate(\n      { _id },\n      {\n        '$push': {\n          'images': {\n            '$each': [\n              { index: 2, url: '/one' },\n              { index: 0, url: '/three' },\n              { index: 1, url: '/two' }\n            ],\n            '$sort': { 'index': 1 }\n          }\n        }\n      },\n      { 'new': true, 'upsert': true }\n    );\n\n    log(user);\n\n    // Change order request\n    let orderImages = [\n      { index: 2, url: '/three' },\n      { index: 0, url: '/one' },\n      { index: 1, url: '/two' }\n    ];\n\n    let $set = { };\n    let arrayFilters = [];\n\n    for ( { index, url } of orderImages ) {\n      let key = url.replace(/^\\//,'');\n      arrayFilters.push({ [`${key}.url`]: url });\n      $set[`images.$[${key}].index`] = index;\n    }\n\n    let ops = [\n      // Update the index value of each matching item\n      { 'updateOne': {\n        'filter': { _id },\n        'update': { $set },\n        arrayFilters\n      }},\n      // Re-sort the array by index value\n      { 'updateOne': {\n        'filter': { _id },\n        'update': {\n          '$push': {\n            'images': { '$each': [], '$sort': { 'index': 1 } }\n          }\n        }\n      }}\n    ];\n\n    log(ops);\n\n    let response = await User.bulkWrite(ops);\n    log(response);\n\n    let newuser = await User.findOne({ _id });\n    log(newuser);\n\n\n  } catch(e) {\n    console.error(e)\n  } finally {\n    mongoose.disconnect()\n  }\n\n})()\n</code></pre>\n\n<p>And the output, showing initial document state, the update and actual changes made:</p>\n\n<pre><code>Mongoose: users.deleteMany({}, {})\nMongoose: users.findOneAndUpdate({ _id: ObjectId(\"5bf6116621293f2ab3dec3d3\") }, { '$setOnInsert': { __v: 0 }, '$push': { images: { '$each': [ { _id: ObjectId(\"5bf6116621293f2ab3dec3d6\"), index: 2, url: '/one' }, { _id: ObjectId(\"5bf6116621293f2ab3dec3d5\"), index: 0, url: '/three' }, { _id: ObjectId(\"5bf6116621293f2ab3dec3d4\"), index: 1, url: '/two' } ], '$sort': { index: 1 } } } }, { upsert: true, remove: false, projection: {}, returnOriginal: false })\n{\n  \"_id\": \"5bf6116621293f2ab3dec3d3\",\n  \"__v\": 0,\n  \"images\": [\n    {\n      \"_id\": \"5bf6116621293f2ab3dec3d5\",\n      \"index\": 0,\n      \"url\": \"/three\"\n    },\n    {\n      \"_id\": \"5bf6116621293f2ab3dec3d4\",\n      \"index\": 1,\n      \"url\": \"/two\"\n    },\n    {\n      \"_id\": \"5bf6116621293f2ab3dec3d6\",\n      \"index\": 2,\n      \"url\": \"/one\"\n    }\n  ]\n}\n[\n  {\n    \"updateOne\": {\n      \"filter\": {\n        \"_id\": \"5bf6116621293f2ab3dec3d3\"\n      },\n      \"update\": {\n        \"$set\": {\n          \"images.$[three].index\": 2,\n          \"images.$[one].index\": 0,\n          \"images.$[two].index\": 1\n        }\n      },\n      \"arrayFilters\": [\n        {\n          \"three.url\": \"/three\"\n        },\n        {\n          \"one.url\": \"/one\"\n        },\n        {\n          \"two.url\": \"/two\"\n        }\n      ]\n    }\n  },\n  {\n    \"updateOne\": {\n      \"filter\": {\n        \"_id\": \"5bf6116621293f2ab3dec3d3\"\n      },\n      \"update\": {\n        \"$push\": {\n          \"images\": {\n            \"$each\": [],\n            \"$sort\": {\n              \"index\": 1\n            }\n          }\n        }\n      }\n    }\n  }\n]\nMongoose: users.bulkWrite([ { updateOne: { filter: { _id: 5bf6116621293f2ab3dec3d3 }, update: { '$set': { 'images.$[three].index': 2, 'images.$[one].index': 0, 'images.$[two].index': 1 } }, arrayFilters: [ { 'three.url': '/three' }, { 'one.url': '/one' }, { 'two.url': '/two' } ] } }, { updateOne: { filter: { _id: 5bf6116621293f2ab3dec3d3 }, update: { '$push': { images: { '$each': [], '$sort': { index: 1 } } } } } } ], {})\n{\n  \"ok\": 1,\n  \"writeErrors\": [],\n  \"writeConcernErrors\": [],\n  \"insertedIds\": [],\n  \"nInserted\": 0,\n  \"nUpserted\": 0,\n  \"nMatched\": 2,\n  \"nModified\": 2,\n  \"nRemoved\": 0,\n  \"upserted\": [],\n  \"lastOp\": {\n    \"ts\": \"6626503031506599940\",\n    \"t\": 139\n  }\n}\nMongoose: users.findOne({ _id: ObjectId(\"5bf6116621293f2ab3dec3d3\") }, { projection: {} })\n{\n  \"_id\": \"5bf6116621293f2ab3dec3d3\",\n  \"__v\": 0,\n  \"images\": [\n    {\n      \"_id\": \"5bf6116621293f2ab3dec3d6\",\n      \"index\": 0,\n      \"url\": \"/one\"\n    },\n    {\n      \"_id\": \"5bf6116621293f2ab3dec3d4\",\n      \"index\": 1,\n      \"url\": \"/two\"\n    },\n    {\n      \"_id\": \"5bf6116621293f2ab3dec3d5\",\n      \"index\": 2,\n      \"url\": \"/three\"\n    }\n  ]\n}\n</code></pre>\n"}], "owner": {"reputation": 257, "user_id": 6238512, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/W8pZ8.jpg?s=128&g=1", "display_name": "Kris", "link": "https://stackoverflow.com/users/6238512/kris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 714, "favorite_count": 1, "accepted_answer_id": 53422653, "answer_count": 1, "score": 0, "last_activity_date": 1542853059, "creation_date": 1542844537, "question_id": 53422086, "link": "https://stackoverflow.com/questions/53422086/mongodb-change-the-order-of-an-array", "title": "Mongodb change the order of an array", "body": "<p>I am stumped on this one. I have an images array with in my collection, the users can rearrange the order of images on the client side and I am trying to save the new order to the database. The imagesOrder array is the new images in the new order and it only has the url so I want to match the url to the urls in the database. I am not sure how to make the index a variable or if this is possible: </p>\n\n<p>this is what I have so far. my code editor shows and error on [index] so I know that is not the proper format but not sure what is:</p>\n\n<pre><code>imagesOrder.forEach((index, image) =&gt; {\n  const imageUrl = image.url\n  const index = index \n  Users.update({\n    id\n    }, {\n      $set: {\n        images[index]: imageUrl\n      }\n    })\n  });\n</code></pre>\n"}, {"tags": ["javascript", "html", "regex"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8360529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d186805644c960dcfd40987fe74a4cb?s=128&d=identicon&r=PG&f=1", "display_name": "user8360529", "link": "https://stackoverflow.com/users/8360529/user8360529"}, "is_accepted": false, "score": 0, "last_activity_date": 1542919103, "last_edit_date": 1542919103, "creation_date": 1542918648, "answer_id": 53437668, "question_id": 53421943, "link": "https://stackoverflow.com/questions/53421943/a-bookmarklet-that-reads-source-html-for-match-then-searches-with-google/53437668#53437668", "title": "A bookmarklet that reads source html for match then searches with google", "body": "<p>You need to be more specific when matching the id if you expect more text to follow it. Here I assumed you only need alphanumeric characters per identifier.<br>\nReadable:</p>\n\n<pre><code>var url = document.body.innerHTML.match(/https:\\/\\/www\\.street-scene\\.com\\/([A-Z0-9]+)/i);\nwindow.open(\"https://www.google.com/search?q=street-scene \" + url[1]);\n</code></pre>\n\n<p>Bookmarklet:</p>\n\n<pre><code>javascript:window.open(\"https://www.google.com/search?q=street-scene \"+document.body.innerHTML.match(/https:\\/\\/www\\.street-scene\\.com\\/([A-Z0-9]+)/i)[1]);\n</code></pre>\n\n<p>I use <a href=\"https://regex101.com\" rel=\"nofollow noreferrer\">this resource</a> to test regular expressions, called Regex 101.<br>\nYour first bookmarklet redirects the user to a Google search involving a dash, which happens to be a search modifier. As far as I know, there is no way to preserve special characters when searching with Google.</p>\n"}], "owner": {"reputation": 9, "user_id": 7237720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af994f50aad368a184572579389ec36c?s=128&d=identicon&r=PG&f=1", "display_name": "Markko", "link": "https://stackoverflow.com/users/7237720/markko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1542919103, "creation_date": 1542843364, "last_edit_date": 1542843531, "question_id": 53421943, "link": "https://stackoverflow.com/questions/53421943/a-bookmarklet-that-reads-source-html-for-match-then-searches-with-google", "title": "A bookmarklet that reads source html for match then searches with google", "body": "<p>I already have a bookmarklet to extract an ID number from a page URL, that works perfectly - see below.</p>\n\n<pre><code>javascript:var%20q=document.location.href.match(/UserID=(.*?)(?=&amp;|$)/i);{q=q[1];\nwindow.open('http://google.com/search?q=street-scene+'+q);}\n</code></pre>\n\n<p>However I\u2019m looking for a second bookmarklet that searches the html source code in a webpage to find an ID number and then search google for that number.</p>\n\n<p>The piece of source code is below;</p>\n\n<pre><code>&lt;p class=\"Padded\" align=\"center\"&gt;Link to this Profile using https://www.street-scene.com/4A416B62  or &lt;span itemprop=\"url\"&gt;\n</code></pre>\n\n<p>I\u2019m looking to extract the 4A416B62 and search google for that ID, so the ID is between <code>www.street-scene.com/</code> and <code>. or &lt;span itemprop=</code></p>\n\n<p>Are there any experts that can help, thank you?</p>\n"}, {"tags": ["javascript", "firebase", "firebase-realtime-database"], "answers": [{"comments": [{"owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "reply_to_user": {"reputation": 309, "user_id": 10266228, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215275612417027/picture?type=large", "display_name": "Gabriella Csernus", "link": "https://stackoverflow.com/users/10266228/gabriella-csernus"}, "edited": false, "score": 1, "creation_date": 1542883532, "post_id": 53426552, "comment_id": 93732394, "body": "You are welcome. Note that you can let Firebase generating the Unique Ids, see <a href=\"https://firebase.google.com/docs/reference/js/firebase.database.Reference#push\" rel=\"nofollow noreferrer\">firebase.google.com/docs/reference/js/&hellip;</a>"}], "tags": [], "owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "is_accepted": true, "score": 1, "last_activity_date": 1542884178, "last_edit_date": 1542884178, "creation_date": 1542874790, "answer_id": 53426552, "question_id": 53421915, "link": "https://stackoverflow.com/questions/53421915/javascript-firebase-blog-addpost-function-firstid-returns-undefined/53426552#53426552", "title": "Javascript + Firebase blog addpost function firstId returns undefined", "body": "<p>This is because your function <code>uniqueId()</code> is not correct. You can see it by having a button in your page with the following code:</p>\n\n<pre><code>&lt;input\n  id=\"clickMe\"\n  type=\"button\"\n  value=\"clickme\"\n  onclick=\"console.log(uniqueId());\"\n/&gt;\n</code></pre>\n\n<p>So if you change your function to something like the following it will work:</p>\n\n<pre><code>var counter = 0;\nfunction uniqueId() {\n  return 'myid-' + counter++;\n}\n\nfunction writeUserData(title, content, postID) {\n    firebase.database().ref('posts/' + postID).set({\n    title: title,\n    content: content\n    });\n}\n</code></pre>\n\n<p>......</p>\n\n<pre><code>&lt;button onclick=\"writeUserData(document.getElementById('blog-title').value, document.getElementById('blog-content').value, uniqueId())\"&gt;Add&lt;/button&gt;\n</code></pre>\n\n<hr>\n\n<p>Note however that you can let Firebase generating the UniqueIds, see <a href=\"https://firebase.google.com/docs/reference/js/firebase.database.Reference#push\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/reference/js/firebase.database.Reference#push</a></p>\n"}], "owner": {"reputation": 309, "user_id": 10266228, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215275612417027/picture?type=large", "display_name": "Gabriella Csernus", "link": "https://stackoverflow.com/users/10266228/gabriella-csernus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 53426552, "answer_count": 1, "score": 0, "last_activity_date": 1542884178, "creation_date": 1542843161, "last_edit_date": 1542847274, "question_id": 53421915, "link": "https://stackoverflow.com/questions/53421915/javascript-firebase-blog-addpost-function-firstid-returns-undefined", "title": "Javascript + Firebase blog addpost function firstId returns undefined", "body": "<p>I am creating a blog with Js and Firebase. When I add the posts to the firebase database the first one's Id is <code>undefined</code> then in starts increasing from <code>myid-0</code>. \nHere is my code:</p>\n\n<pre><code>&lt;button onclick=\"writeUserData(document.getElementById('blog-title').value, document.getElementById('blog-content').value, uniqueId(uniqueId))\"&gt;Add&lt;/button&gt;\n</code></pre>\n\n<p>...........</p>\n\n<pre><code>function uniqueId(uniqueId) {\n    var counter = 0;\n    window.uniqueId = function(){\n        return ('myid-' + counter++);\n    }\n}\n\nfunction writeUserData(title, content, postID) {\n    firebase.database().ref('posts/' + postID).set({\n    title: title,\n    content: content\n    });\n}\n</code></pre>\n\n<p>Why is it not starting to add the post from myid-0?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 1, "creation_date": 1542843210, "post_id": 53421900, "comment_id": 93718294, "body": "Can you clarify what you mean? I seems you are saying that Safari on iOS has JS disabled, but you expect a JS application to work anyway. It seems the answer is to enable JS in Safari iOS. What am I missing?"}, {"owner": {"reputation": 2426, "user_id": 9175721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f37fbd10ad96be35360143fbbcbb1a6e?s=128&d=identicon&r=PG&f=1", "display_name": "AlejoDev", "link": "https://stackoverflow.com/users/9175721/alejodev"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1542843661, "post_id": 53421900, "comment_id": 93718407, "body": "The problem is that this option is disabled by default in IOS, then every user who wants to use my application must enable javascript. This is something that can cause my application not to be used, because they may think it does not work, so the idea is to prevent each user from having to do this ... how could he do it?"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1542843950, "post_id": 53421900, "comment_id": 93718501, "body": "show a message in case of js not being enabled saying they have to enable it?"}, {"owner": {"reputation": 2426, "user_id": 9175721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f37fbd10ad96be35360143fbbcbb1a6e?s=128&d=identicon&r=PG&f=1", "display_name": "AlejoDev", "link": "https://stackoverflow.com/users/9175721/alejodev"}, "edited": false, "score": 0, "creation_date": 1542844253, "post_id": 53421900, "comment_id": 93718575, "body": "How could I do something like that?"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 1, "creation_date": 1542845183, "post_id": 53421900, "comment_id": 93718845, "body": "<a href=\"https://www.w3schools.com/tags/tag_noscript.asp\" rel=\"nofollow noreferrer\">w3schools.com/tags/tag_noscript.asp</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2964, "user_id": 5208606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wmCN5.jpg?s=128&g=1", "display_name": "Maarti", "link": "https://stackoverflow.com/users/5208606/maarti"}, "is_accepted": false, "score": 0, "last_activity_date": 1542844588, "last_edit_date": 1542844588, "creation_date": 1542843257, "answer_id": 53421925, "question_id": 53421900, "link": "https://stackoverflow.com/questions/53421900/angular-5-app-doesnt-render-in-safari-mobile-browser/53421925#53421925", "title": "Angular 5 app doesn&#39;t render in safari mobile browser", "body": "<p>An Angular app (in Typescript) is transpiled in Javascript, so it will not work until JavaScript is enabled.</p>\n\n<p>It looks like <a href=\"https://stackoverflow.com/questions/4822857/iphone-javascript-defaults\">the default value of this setting is \"enabled\"</a> so don't worry about your visitors.</p>\n"}, {"tags": [], "owner": {"reputation": 2426, "user_id": 9175721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f37fbd10ad96be35360143fbbcbb1a6e?s=128&d=identicon&r=PG&f=1", "display_name": "AlejoDev", "link": "https://stackoverflow.com/users/9175721/alejodev"}, "is_accepted": false, "score": 0, "last_activity_date": 1542845312, "creation_date": 1542845312, "answer_id": 53422172, "question_id": 53421900, "link": "https://stackoverflow.com/questions/53421900/angular-5-app-doesnt-render-in-safari-mobile-browser/53422172#53422172", "title": "Angular 5 app doesn&#39;t render in safari mobile browser", "body": "<p>The problem is with the IOS version (11.4.1) that I have, because when you've never manipulated it, the button looks like it's disabled, but it's actually active ... but when you manipulate it, it actually shows the status button ... that is, active or inactive...which means that JS is active by default in IOS, but it is shown as inactive</p>\n\n<p><a href=\"https://discussions.apple.com/thread/8476294\" rel=\"nofollow noreferrer\">See more details</a></p>\n"}], "owner": {"reputation": 2426, "user_id": 9175721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f37fbd10ad96be35360143fbbcbb1a6e?s=128&d=identicon&r=PG&f=1", "display_name": "AlejoDev", "link": "https://stackoverflow.com/users/9175721/alejodev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1512, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1542845312, "creation_date": 1542843034, "last_edit_date": 1542843331, "question_id": 53421900, "link": "https://stackoverflow.com/questions/53421900/angular-5-app-doesnt-render-in-safari-mobile-browser", "title": "Angular 5 app doesn&#39;t render in safari mobile browser", "body": "<p>Hi I have a simple angular 5 application that uploads an image to my web server. This angular 5 app works perfectly in chrome(mobile/desktop) and only Safari desktop version. but when I access it from my iPhone using Safari as a web browser, it does not render.....to be able to work I have to enable JS:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hY37Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hY37Y.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I make this configuration in IOS the web application works without problems...then my question is....what can I do so that my angular web app be rendered in mobile safari, without having to make this configuration in IOS?</p>\n\n<p>Angular Code:</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div class=\"custom-file\"&gt;\n  &lt;input type=\"file\" class=\"custom-file-input\" lang=\"es\" (change)=\"onFileChange($event)\"&gt;\n  &lt;label class=\"custom-file-label\" for=\"customFileLang\"&gt;{{fileName}}&lt;/label&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>TS</strong></p>\n\n<pre><code>export class AppComponent{\n  title = 'app';\n  fileName:string;\n  base64:string;\n\n  constructor(private imageService: ImageService) {\n  }\n\n  onFileChange(event) {\n    let image:File = event.target.files[0];\n    this.base64=image.name;\n    this.imageService.saveImage(image).subscribe();\n  }\n</code></pre>\n\n<p>Many thanks!</p>\n"}, {"tags": ["javascript", "angularjs"], "comments": [{"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1542843573, "post_id": 53421888, "comment_id": 93718386, "body": "It is because you&#39;ve created a new person based upon the person passed to the function rather than changing the original person."}, {"owner": {"reputation": 85, "user_id": 10423601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iasJx.jpg?s=128&g=1", "display_name": "Cybermate", "link": "https://stackoverflow.com/users/10423601/cybermate"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1542843723, "post_id": 53421888, "comment_id": 93718428, "body": "Ok I see so by doing &quot;this.person.alive = !person.alive&quot; it should work."}], "answers": [{"tags": [], "owner": {"reputation": 1915, "user_id": 3991628, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j2pFg.png?s=128&g=1", "display_name": "Christopher Bradshaw", "link": "https://stackoverflow.com/users/3991628/christopher-bradshaw"}, "is_accepted": false, "score": 0, "last_activity_date": 1542843841, "creation_date": 1542843841, "answer_id": 53421998, "question_id": 53421888, "link": "https://stackoverflow.com/questions/53421888/angularjs-update-an-element-only-works-if-one-of-its-property-is-changed/53421998#53421998", "title": "AngularJS Update an element only works if one of its property is changed", "body": "<p>The problem with the first function that you wrote is that you create a new person instead of modifying the one that was passed to you. The second function you wrote is correct because it modifies the correct property on the existing person.</p>\n"}], "owner": {"reputation": 85, "user_id": 10423601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iasJx.jpg?s=128&g=1", "display_name": "Cybermate", "link": "https://stackoverflow.com/users/10423601/cybermate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542843841, "creation_date": 1542842983, "question_id": 53421888, "link": "https://stackoverflow.com/questions/53421888/angularjs-update-an-element-only-works-if-one-of-its-property-is-changed", "title": "AngularJS Update an element only works if one of its property is changed", "body": "<p>My question may be silly as I'm a beginner in JS and AngularJS but I noticed something. I have a list and a function :</p>\n\n<pre><code>$scope.persons = [{\n        \"id\": 1,\n        \"name\": \"Mark\",\n        \"alive\": true\n    }, {\n        \"id\": 2,\n        \"name\": \"Tom\",\n        \"alive\": true\n    }, {\n        \"id\": 3,\n        \"name\": \"Jack\",\n        \"alive\": false\n    }, {\n        \"id\": 4,\n        \"name\": \"William\",\n        \"alive\": true\n    }, {\n        \"id\": 5,\n        \"name\": \"Scott\",\n        \"alive\": true\n    }, ];\n$scope.kill = function(person) {\n        person = {\n            \"id\": person.id,\n            \"name\": person.name,\n            \"alive\": !person.alive\n        };\n    console.log(person);\n}\n</code></pre>\n\n<p>This list is used to create a table.</p>\n\n<pre><code>&lt;table&gt;\n    &lt;tbody&gt;\n    &lt;tr ng-repeat=\"person in persons\"&gt;\n        &lt;td&gt;Name : {{person.name}}&lt;/td&gt;\n        &lt;td&gt;Alive? : {{person.alive}}&lt;/td&gt;\n        &lt;td&gt;\n            &lt;button ng-click=\"kill(person)\"&gt;{{person.alive?  'Kill' : 'Reborn'}}&lt;/button&gt;\n        &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>When I click the button it is supposed to toggle the value of person.alive. With this code it doesn't work. But, If the functions kill() is :</p>\n\n<pre><code>$scope.kill = function (person) {\n        person.alive = !person.alive;\n        console.log(person);\n    }\n</code></pre>\n\n<p>It works ! Did I make a mistake in the first function or is it just normal ?</p>\n\n<p>Regards,</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 1, "creation_date": 1542843889, "post_id": 53421868, "comment_id": 93718487, "body": "Try <code>setAttribute(&#39;onclick&#39;, &#39;clickCreatedDiv()&#39;)</code>"}, {"owner": {"reputation": 5269, "user_id": 1021122, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb605b61849584a132761e7a03a202b5?s=128&d=identicon&r=PG", "display_name": "Ricardo Casta&#241;eda", "link": "https://stackoverflow.com/users/1021122/ricardo-casta%c3%b1eda"}, "reply_to_user": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 0, "creation_date": 1542844193, "post_id": 53421868, "comment_id": 93718559, "body": "@KoshVery that makes me get the message &#39;clickCreatedDiv is not defined&#39;."}, {"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 1, "creation_date": 1542844571, "post_id": 53421868, "comment_id": 93718669, "body": "It means that <code>onclick</code> works, now you have to reach the function. Probably <code>MyPage.clickCreatedDiv()</code> would work?"}, {"owner": {"reputation": 5269, "user_id": 1021122, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb605b61849584a132761e7a03a202b5?s=128&d=identicon&r=PG", "display_name": "Ricardo Casta&#241;eda", "link": "https://stackoverflow.com/users/1021122/ricardo-casta%c3%b1eda"}, "reply_to_user": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 0, "creation_date": 1542845208, "post_id": 53421868, "comment_id": 93718855, "body": "Not yet, now MyPage is not defined. Even when I&#39;m importing it within MyProvider. Something must be missing..."}, {"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 1, "creation_date": 1542845418, "post_id": 53421868, "comment_id": 93718910, "body": "<code>onclick</code> attribute function should be available from the global scope. Otherwise it would be better to set the event handler in that scope where <code>clickCreatedDiv</code> is available."}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 1, "creation_date": 1542851262, "post_id": 53421868, "comment_id": 93720054, "body": "What string do you want to pass as an argument to <code>clickCreateDiv</code>? Is it the <code>comment</code> parameter of <code>wrapSelection(comment)</code>?"}, {"owner": {"reputation": 5269, "user_id": 1021122, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb605b61849584a132761e7a03a202b5?s=128&d=identicon&r=PG", "display_name": "Ricardo Casta&#241;eda", "link": "https://stackoverflow.com/users/1021122/ricardo-casta%c3%b1eda"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1542852877, "post_id": 53421868, "comment_id": 93720388, "body": "@ConnorsFan it would be an attribute from the same div, however, I didn&#39;t include it in my question for not making it too long, but only to expect an answer compatible with the usage of attributes."}], "answers": [{"comments": [{"owner": {"reputation": 5269, "user_id": 1021122, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb605b61849584a132761e7a03a202b5?s=128&d=identicon&r=PG", "display_name": "Ricardo Casta&#241;eda", "link": "https://stackoverflow.com/users/1021122/ricardo-casta%c3%b1eda"}, "edited": false, "score": 0, "creation_date": 1542854377, "post_id": 53422520, "comment_id": 93720725, "body": "setAttribute(&#39;(click)&#39;, onClick) generates this error: &quot;String contains an invalid character&quot;."}, {"owner": {"reputation": 5269, "user_id": 1021122, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb605b61849584a132761e7a03a202b5?s=128&d=identicon&r=PG", "display_name": "Ricardo Casta&#241;eda", "link": "https://stackoverflow.com/users/1021122/ricardo-casta%c3%b1eda"}, "edited": false, "score": 0, "creation_date": 1542854396, "post_id": 53422520, "comment_id": 93720733, "body": "But using, setAttribute(&#39;onclick&#39;, onClick) renders this: &lt;div onclick=&quot;function (arg) {alert(&#39;click &#39; + arg);}&quot;&gt;&lt;/div&gt;, but clicking it shows this error: function statement requires a name"}, {"owner": {"reputation": 784, "user_id": 5280880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290a9668d336b4e58de36ae2de407f9f?s=128&d=identicon&r=PG&f=1", "display_name": "AndrWeisR", "link": "https://stackoverflow.com/users/5280880/andrweisr"}, "reply_to_user": {"reputation": 5269, "user_id": 1021122, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb605b61849584a132761e7a03a202b5?s=128&d=identicon&r=PG", "display_name": "Ricardo Casta&#241;eda", "link": "https://stackoverflow.com/users/1021122/ricardo-casta%c3%b1eda"}, "edited": false, "score": 1, "creation_date": 1542857050, "post_id": 53422520, "comment_id": 93721215, "body": "Hmmm, what if you try: element.addEventListener(&quot;click&quot;, onClick);"}], "tags": [], "owner": {"reputation": 784, "user_id": 5280880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290a9668d336b4e58de36ae2de407f9f?s=128&d=identicon&r=PG&f=1", "display_name": "AndrWeisR", "link": "https://stackoverflow.com/users/5280880/andrweisr"}, "is_accepted": false, "score": 1, "last_activity_date": 1542848482, "creation_date": 1542848482, "answer_id": 53422520, "question_id": 53421868, "link": "https://stackoverflow.com/questions/53421868/ionic-add-a-click-function-to-dynamically-created-div/53422520#53422520", "title": "Ionic add a click function to dynamically created div", "body": "<p>I would pass the click function as a callback to wrapSelection.\nE.g. something like:</p>\n\n<pre><code>export class MyProvider {\n  wrapSelection(comment, onClick) {\n    let element = document.createElement(\"div\")\n    element.setAttribute('(click)', onClick);\n    element.surroundContents(element);\n  }\n}\n\nexport class MyPage {\n  constructor(public myprovider: MyProvider) {}\n  createDiv() {\n    this.myprovider.wrapSelection('Some comment', this.clickCreatedDiv);\n  }\n\n  clickCreatedDiv(arg) { // This is what I want to trigger with click\n    alert('click ' + arg);\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "is_accepted": true, "score": 1, "last_activity_date": 1542854527, "creation_date": 1542854527, "answer_id": 53423152, "question_id": 53421868, "link": "https://stackoverflow.com/questions/53421868/ionic-add-a-click-function-to-dynamically-created-div/53423152#53423152", "title": "Ionic add a click function to dynamically created div", "body": "<p>The Angular event binding syntax <code>(click)=\"doSomething()\"</code> cannot be used to set the event handler on a dynamically created HTML element. To make it work, you can pass the event handler from the <code>MyPage</code> class, and set it with <code>element.addEventListener</code>:</p>\n\n<pre><code>export class MyProvider {\n  wrapSelection(eventHandler) {\n    let element = document.createElement(\"div\")\n    element.addEventListener(\"click\", () =&gt; { eventHandler(\"Some text\"); });\n    ...\n  }\n}\n</code></pre>\n\n<p>In <code>MyPage</code>, the event handler should be defined as an arrow function to preserve <code>this</code> and allow to access the class members:</p>\n\n<pre><code>createDiv() {\n  this.myProvider.wrapSelection(this.clickCreatedDiv);\n}\n\nclickCreatedDiv = (arg) =&gt; {\n  alert('Clicked: ' + arg);\n}\n</code></pre>\n\n<p>See <a href=\"https://stackblitz.com/edit/angular-skbc2x\" rel=\"nofollow noreferrer\">this stackblitz</a> for a demo.</p>\n"}], "owner": {"reputation": 5269, "user_id": 1021122, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb605b61849584a132761e7a03a202b5?s=128&d=identicon&r=PG", "display_name": "Ricardo Casta&#241;eda", "link": "https://stackoverflow.com/users/1021122/ricardo-casta%c3%b1eda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2118, "favorite_count": 1, "accepted_answer_id": 53423152, "answer_count": 2, "score": 1, "last_activity_date": 1542854527, "creation_date": 1542842856, "question_id": 53421868, "link": "https://stackoverflow.com/questions/53421868/ionic-add-a-click-function-to-dynamically-created-div", "title": "Ionic add a click function to dynamically created div", "body": "<p>From my code I have a function that can create div elements multiple times (with <code>surroundContents()</code>), how can I make these created div elements to trigger a function inside the class of the very same page?</p>\n\n<p>More precisely, I need that any of these div elements (created with function <code>createDiv()</code>) be able to trigger with click the function called <code>clickCreatedDiv(arg)</code> located in <code>MyPage class</code> and pass any string as an argument. I have tried this <code>element.setAttribute('(click)', 'clickCreatedDiv()');</code> but with no success. How can I achieve this behavior?</p>\n\n<pre><code>export class MyProvider {\n  wrapSelection(comment) {\n    let element = document.createElement(\"div\")\n    element.setAttribute('(click)', 'clickCreatedDiv()');\n    element.surroundContents(element);\n  }\n}\n\nimport { MyProvider } from '../../providers/my-provider';\n@Component({\n    selector: 'page-mypage',\n    templateUrl: 'mypage.html',\n}) \nexport class MyPage {\n  constructor(public myprovider: MyProvider) {}\n  createDiv() {\n    this.myprovider.wrapSelection();\n  }\n\n  clickCreatedDiv(arg) { // This is what I want to trigger with click\n    alert('click ' + arg);\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "xmlhttprequest"], "comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1542842676, "post_id": 53421773, "comment_id": 93718118, "body": "Might need to share your webpack config, but: <a href=\"https://stackoverflow.com/questions/30000827/webpack-and-typescript-cannot-resolve-module-child-process-in-node-d-ts\" title=\"webpack and typescript cannot resolve module child process in node d ts\">stackoverflow.com/questions/30000827/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 4143794, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/b091e5efb03aab920117628a9d9ef47a?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Jones", "link": "https://stackoverflow.com/users/4143794/cody-jones"}, "edited": false, "score": 0, "creation_date": 1542845854, "post_id": 53421896, "comment_id": 93719019, "body": "I suppose it\u2019s possible that I\u2019m doing it wrong, I\u2019m trying to build a front end component, it\u2019s a complex component that i was trying to modularize so that I could utilize OOP while building it.  I know that the browser has XMLHTTPRequest but I\u2019m trying to bundle this file into a single file so that I can distribute it as a single component with easy set up.  Is there another way to use classes in JavaScript components?  I\u2019m not sure why this would be an issue if it\u2019s supported in both node and browsers."}, {"owner": {"reputation": 1049, "user_id": 4856301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4702bc684e908ea109e5a8046c71af5e?s=128&d=identicon&r=PG", "display_name": "Charles Stover", "link": "https://stackoverflow.com/users/4856301/charles-stover"}, "edited": false, "score": 0, "creation_date": 1542846484, "post_id": 53421896, "comment_id": 93719156, "body": "XMLHttpRequest is supported on the browser, because it&#39;s <i>built in</i> to the browser. The package you are using is <i>not</i> supported by the browser. It is supported by NodeJS on the <i>server</i>, because it is meant to provide the browser&#39;s built in XMLHttpRequest functionality to the server. Since you are not developing a server-side application, you do not need the package at all."}], "tags": [], "owner": {"reputation": 1049, "user_id": 4856301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4702bc684e908ea109e5a8046c71af5e?s=128&d=identicon&r=PG", "display_name": "Charles Stover", "link": "https://stackoverflow.com/users/4856301/charles-stover"}, "is_accepted": false, "score": 1, "last_activity_date": 1542843017, "creation_date": 1542843017, "answer_id": 53421896, "question_id": 53421773, "link": "https://stackoverflow.com/questions/53421773/cant-resolve-child-process-in-module-xmlhttprequest/53421896#53421896", "title": "Can&#39;t Resolve &quot;child_process&quot; in module xmlhttprequest", "body": "<p>The <code>xmlhttprequest</code> package is meant for <em>server-side</em> JavaScript. The <code>child_process</code> package is built into NodeJS. It is not an NPM package, so cannot be downloaded or included in any application outside of running on NodeJS. It is a package designed specifically for handling functionality internal to NodeJS.</p>\n\n<p>It appears if you are trying to use the <code>xmlhttprequest</code> package on the front end. Since the <code>xmlhttprequest</code> package only works on NodeJS, you are receiving the error that <code>child_process</code> does not exist, because it does not exist in a front end browser. If that is the case, you may be pleased to know that <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\" rel=\"nofollow noreferrer\">XMLHttpRequest</a> is built into browsers. The reason the NodeJS package exists is to mimic the browser's innate functionality. You may be able to just remove the package as a whole and refer to the <code>XMLHttpRequest</code> class without error.</p>\n\n<p>If you are working on code to support both back end and front end, you may result to something like this:</p>\n\n<pre><code>if (typeof XMLHttpRequest === 'undefined') {\n  global.XMLHttpRequest = require('xmlhttprequest').XMLHttpRequest;\n}\n</code></pre>\n\n<p>If you are using Webpack to bundle a <em>back end</em> application, you may need to configure it to target <code>node</code> instead of a browser.</p>\n"}], "owner": {"reputation": 320, "user_id": 4143794, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/b091e5efb03aab920117628a9d9ef47a?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Jones", "link": "https://stackoverflow.com/users/4143794/cody-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1682, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1542843017, "creation_date": 1542842134, "question_id": 53421773, "link": "https://stackoverflow.com/questions/53421773/cant-resolve-child-process-in-module-xmlhttprequest", "title": "Can&#39;t Resolve &quot;child_process&quot; in module xmlhttprequest", "body": "<p>I am working on a DataConnector class that is loading a JSON file.  Everything outside of this class is working perfectly fine in my app, so I don't think the issue is arrising anywhere else.  </p>\n\n<pre><code>var XMLHttpRequest = require(\"xmlhttprequest\").XMLHttpRequest;\n\n//#File: DataConnector.js\nvar DataConnector = {};\n\n\nDataConnector.LoadJSON = (function(file,callback) {   \n\n    var xobj = new XMLHttpRequest();\n    console.log(xobj);\n    xobj.open('GET', file, true); \n    xobj.overrideMimeType = \"application/json\";\n\n    xobj.onreadystatechange = function () {\n          if (xobj.readyState == 4 &amp;&amp; xobj.status == \"200\") {\n\n                callback(xobj.responseText);\n          }\n    };\n    xobj.send(null);  \n})\n\nDataConnector.getMessage = function(){\n    return 'Hello DataConnector';\n}\n\n\n\nmodule.exports = DataConnector;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/lDPWg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lDPWg.png\" alt=\"enter image description here\"></a>\nmain.js</p>\n\n<pre><code>//#File: QuestionJS.js\n//var $ = require('jquery');\nAnswer = require('./Answer');\nQuestion = require('./Question');\nThemeGenerator = require('./ThemeGenerator');\nDataConnector = require('./DataConnector')\n\n//console.log(DataConnector.getMessage());\n</code></pre>\n\n<p>If I comment DataConnector out from being required, webpack is able to bundle my app perfectly fine.  I was also working on this earlier today on a different PC and it actualy worked perfectly fine every time.</p>\n\n<p>I have used \nnpm i -g xmlhttprequest\nnpm i xmlhttprequest\nnpm i xmlhttprequest --save</p>\n\n<p>xmlhttprequest has files in the node_modules folder in my project folder and I am following the readme precisely.</p>\n\n<p>I have honestly never been more confused, especially since this error never even showed up on the other system despite both being windows 10 systems with the save software installed.</p>\n\n<p>Thanks for any help guys!</p>\n"}, {"tags": ["javascript", "json", "gson"], "comments": [{"owner": {"reputation": 585, "user_id": 6805354, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/495d4c92db2b0abc8aa669a843683066?s=128&d=identicon&r=PG&f=1", "display_name": "SallyRothroat", "link": "https://stackoverflow.com/users/6805354/sallyrothroat"}, "edited": false, "score": 0, "creation_date": 1542842183, "post_id": 53421764, "comment_id": 93717956, "body": "why the downvote ?"}, {"owner": {"reputation": 585, "user_id": 6805354, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/495d4c92db2b0abc8aa669a843683066?s=128&d=identicon&r=PG&f=1", "display_name": "SallyRothroat", "link": "https://stackoverflow.com/users/6805354/sallyrothroat"}, "edited": false, "score": 0, "creation_date": 1542993242, "post_id": 53421764, "comment_id": 93773941, "body": "<a href=\"https://stackoverflow.com/questions/8360836/gson-is-there-an-easier-way-to-serialize-a-map\" title=\"gson is there an easier way to serialize a map\">stackoverflow.com/questions/8360836/&hellip;</a> here&#39;s the answer."}, {"owner": {"reputation": 2831, "user_id": 5729579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yFKzq.jpg?s=128&g=1", "display_name": "Derick Daniel", "link": "https://stackoverflow.com/users/5729579/derick-daniel"}, "edited": false, "score": 0, "creation_date": 1543820641, "post_id": 53421764, "comment_id": 94041011, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/8360836/gson-is-there-an-easier-way-to-serialize-a-map\">Gson: Is there an easier way to serialize a map</a>"}], "owner": {"reputation": 585, "user_id": 6805354, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/495d4c92db2b0abc8aa669a843683066?s=128&d=identicon&r=PG&f=1", "display_name": "SallyRothroat", "link": "https://stackoverflow.com/users/6805354/sallyrothroat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542842081, "creation_date": 1542842081, "question_id": 53421764, "link": "https://stackoverflow.com/questions/53421764/gson-not-converting-object-to-json", "title": "Gson not converting object to JSON", "body": "<p>I want to send back a Map> in a response from a servlet:</p>\n\n<pre><code>Map&lt;UserAccount,ArrayList&lt;CardSet&gt;&gt; sharedsets = DataDAO.getPublicSets();\n        String responseMessage = gson.toJson(sharedsets,Map.class);\n        response.setContentType(\"application/json\");\n        response.setCharacterEncoding(\"UTF-8\");\n        response.setStatus(HttpServletResponse.SC_ACCEPTED);\n        response.getWriter().write(responseMessage);\n        response.getWriter().flush(); \n</code></pre>\n\n<p>... I recieve this in javascript:</p>\n\n<pre><code>$.get(\"/lod1/Scuttlebutt\",{name:\"onload\",data: -1},function(jsondata){\n    console.log(jsondata);   \n});\n</code></pre>\n\n<p>.. it seems that the list is getting correctly converted but not the key. What should I do so that I can access the attributes of the key too ? And how would I do that in Javascript? This is the output I seee in the console: </p>\n\n<pre><code> Object\nflashcardshark.bean.UserAccount@54\n\nArray(16)\n0\n{Name: \"a\", setID: 1, description: \"empty\", status: \"Shared\"}\n1\n{Name: \"d\", setID: 2, description: \"d\", status: \"Shared\"}\n2\n{Name: \"d\", setID: 3, description: \"d\", status: \"Shared\"}\n3\n{Name: \"d\", setID: 4, description: \"d\", status: \"Shared\"}\n4\n{Name: \"d\", setID: 5, description: \"ds\", status: \"Shared\"}\n5\n{Name: \"d\", setID: 6, description: \"dsadf\", status: \"Shared\"}\n6\n{Name: \"d\", setID: 37, description: \"d\", status: \"Shared\"}\n7\n{Name: \"a\", setID: 59, description: \"a\", status: \"Shared\"}\n8\n{Name: \"d\", setID: 89, description: \"d\", status: \"Shared\"}\n9\n{Name: \"d\", setID: 90, description: \"d\", status: \"Shared\"}\n10\n{Name: \"d\", setID: 91, description: \"dd\", status: \"Shared\"}\n11\n{Name: \"d\", setID: 97, description: \"d\", status: \"Shared\"}\n12\n{Name: \"d\", setID: 100, description: \"d\", status: \"Shared\"}\n13\n{Name: \"a\", setID: 101, description: \"a\", status: \"Shared\"}\n14\n{Name: \"d\", setID: 102, description: \"d\", status: \"Shared\"}\n15\n{Name: \"a\", setID: 103, description: \"a\", status: \"Shared\"}\n</code></pre>\n\n<p>... So everything about this is ok <code>flashcardshark.bean.UserAccount@54</code></p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1542842135, "post_id": 53421746, "comment_id": 93717938, "body": "Hi William, welcome to StackOverflow. Could you please post your html markup as well?"}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1542842162, "post_id": 53421746, "comment_id": 93717950, "body": "We need the rest of your code to help you."}, {"owner": {"reputation": 3, "user_id": 10681300, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wSZUK993HI0/AAAAAAAAAAI/AAAAAAAAAAc/8KZFlZi7Ruo/photo.jpg?sz=128", "display_name": "William Richardson", "link": "https://stackoverflow.com/users/10681300/william-richardson"}, "edited": false, "score": 0, "creation_date": 1542842513, "post_id": 53421746, "comment_id": 93718061, "body": "Ok, I updated my question with the HTML, thanks guys!"}, {"owner": {"reputation": 12211, "user_id": 5411817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z0g8T.png?s=128&g=1", "display_name": "SherylHohman", "link": "https://stackoverflow.com/users/5411817/sherylhohman"}, "edited": false, "score": 0, "creation_date": 1542847789, "post_id": 53421746, "comment_id": 93719412, "body": "Thanks for adding the relevant code. Please explain exactly what isn&#39;t working about the code you entered.  Specifically what you <i>expect</i> to happen vs. what <i>is</i> happening.  <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10681300, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wSZUK993HI0/AAAAAAAAAAI/AAAAAAAAAAc/8KZFlZi7Ruo/photo.jpg?sz=128", "display_name": "William Richardson", "link": "https://stackoverflow.com/users/10681300/william-richardson"}, "edited": false, "score": 0, "creation_date": 1542843727, "post_id": 53421958, "comment_id": 93718429, "body": "I want the span#js-cost to display the sum of both the select and the input regardless of which one got changed, what happens here is when I change the value of the input it only shows that and ignore the value of the select"}], "tags": [], "owner": {"reputation": 905, "user_id": 5330050, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4New3.jpg?s=128&g=1", "display_name": "Iskandar Reza", "link": "https://stackoverflow.com/users/5330050/iskandar-reza"}, "is_accepted": false, "score": 0, "last_activity_date": 1542843521, "creation_date": 1542843521, "answer_id": 53421958, "question_id": 53421746, "link": "https://stackoverflow.com/questions/53421746/how-do-i-update-a-div-with-the-sum-value-of-2-form-inputs-and-update-when-they-c/53421958#53421958", "title": "How do I update a div with the sum value of 2 form inputs and update when they change", "body": "<p>You are very close. Your <code>change</code> event is okay for a select list, but for realtime change of an input that is invariant to whether you are using a keyboard or clicking on arrow keys, use the <code>.bind('input', callback)</code> method.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n    var display = $('#js-cost');\r\n    var base_price = 14;\r\n    var price = 0;\r\n\r\n    $('#js-price').bind('input', function() { \r\n        base_price = $('#js-price').val();\r\n        display.html(base_price);\r\n    });\r\n\r\n    $('#js-duration').on('change', function() {\r\n        if ($(this).val() == 30) price = 10;\r\n        if ($(this).val() == 45) price = 15;\r\n        if ($(this).val() == 60) price = 30;\r\n\r\n        display.html(parseInt(base_price) + parseInt(price));\r\n    });\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;form&gt;\r\n    &lt;select id=\"js-duration\"&gt;\r\n        &lt;option value=\"15\"&gt;15 sec&lt;/option&gt;\r\n        &lt;option value=\"30\"&gt;30 sec (+ $10)&lt;/option&gt;\r\n        &lt;option value=\"45\"&gt;45 sec (+ $15)&lt;/option&gt;\r\n        &lt;option value=\"60\"&gt;60 sec (+ $30)&lt;/option&gt;\r\n    &lt;/select&gt;\r\n\r\n    &lt;input id=\"js-price\" type=\"number\" value=\"14\" min=\"14\"&gt;\r\n&lt;/form&gt;\r\n\r\n&lt;p&gt;Current cost: ($&lt;span id=\"js-cost\"&gt;14&lt;/span&gt; per view)&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 894, "user_id": 9369880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RVGz4.jpg?s=128&g=1", "display_name": "Aaron McGuire", "link": "https://stackoverflow.com/users/9369880/aaron-mcguire"}, "edited": false, "score": 0, "creation_date": 1542843723, "post_id": 53421975, "comment_id": 93718427, "body": "I may have completely misinterpreted the question but my answer regarding the addition is still valid in relation to the question code so i will leave it anyway."}, {"owner": {"reputation": 3, "user_id": 10681300, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wSZUK993HI0/AAAAAAAAAAI/AAAAAAAAAAc/8KZFlZi7Ruo/photo.jpg?sz=128", "display_name": "William Richardson", "link": "https://stackoverflow.com/users/10681300/william-richardson"}, "edited": false, "score": 0, "creation_date": 1542844096, "post_id": 53421975, "comment_id": 93718539, "body": "the problem I have is, when I select say 60 sec, it goes on to display 44 ($30 + 14) which works but when I increase the value of the input to say 15, it doesn&#39;t add instead it overwrites the number and just shows 15 instead of 45"}], "tags": [], "owner": {"reputation": 894, "user_id": 9369880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RVGz4.jpg?s=128&g=1", "display_name": "Aaron McGuire", "link": "https://stackoverflow.com/users/9369880/aaron-mcguire"}, "is_accepted": false, "score": 0, "last_activity_date": 1542843624, "creation_date": 1542843624, "answer_id": 53421975, "question_id": 53421746, "link": "https://stackoverflow.com/questions/53421746/how-do-i-update-a-div-with-the-sum-value-of-2-form-inputs-and-update-when-they-c/53421975#53421975", "title": "How do I update a div with the sum value of 2 form inputs and update when they change", "body": "<p>If i'm interpreting the question correctly you have almost everything working, you only needed to add the final values together. this initially wasn't working because the <code>.val</code> was being returned as a string rather than a number so passing it through a <code>parseInt</code> converts it to a number allowing it to work correctly.</p>\n\n<p>Note that <code>parseInt()</code> will generally only work on whole numbers, you can use <code>parseFloat()</code> to work with decimals</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n    var display = $('#js-cost');\r\n    var base_price = 14;\r\n    var price = 0;\r\n\r\n    $('#js-price').on('change', function() {\r\n        base_price = parseInt($('#js-price').val());\r\n        \r\n        display.html(base_price);\r\n    });\r\n\r\n    $('#js-duration').on('change', function() {\r\n        if ($(this).val() == 30) price = 10;\r\n        if ($(this).val() == 45) price = 15;\r\n        if ($(this).val() == 60) price = 30;\r\n\r\n        display.html(base_price+price);\r\n    });\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;form&gt;\r\n    &lt;select id=\"js-duration\"&gt;\r\n        &lt;option value=\"15\"&gt;15 sec&lt;/option&gt;\r\n        &lt;option value=\"30\"&gt;30 sec (+ $10)&lt;/option&gt;\r\n        &lt;option value=\"45\"&gt;45 sec (+ $15)&lt;/option&gt;\r\n        &lt;option value=\"60\"&gt;60 sec (+ $30)&lt;/option&gt;\r\n    &lt;/select&gt;\r\n\r\n    &lt;input id=\"js-price\" type=\"number\" value=\"14\" min=\"14\"&gt;\r\n&lt;/form&gt;\r\n\r\n&lt;p&gt;Current cost: ($&lt;span id=\"js-cost\"&gt;14&lt;/span&gt; per view)&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 374, "user_id": 2689766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/397fd304fbe8fcfb12f1f582869c88b6?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulsattar Alkhalaf", "link": "https://stackoverflow.com/users/2689766/abdulsattar-alkhalaf"}, "is_accepted": true, "score": 0, "last_activity_date": 1542844122, "creation_date": 1542844122, "answer_id": 53422034, "question_id": 53421746, "link": "https://stackoverflow.com/questions/53421746/how-do-i-update-a-div-with-the-sum-value-of-2-form-inputs-and-update-when-they-c/53422034#53422034", "title": "How do I update a div with the sum value of 2 form inputs and update when they change", "body": "<p>Hope this help</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n    var display = $('#js-cost');\r\n    $('#js-price').on('change', function() {\r\n        display.html(getTotalPrice());\r\n    });\r\n\r\n    $('#js-duration').on('change', function() {\r\n        display.html(getTotalPrice());\r\n    });\r\n    function getTotalPrice(){\r\n      var base_price = parseInt($('#js-price').val());\r\n        var duration = parseInt($('#js-duration').val());\r\n        var price = 0;\r\n        15===duration?price=0:30===duration?price=10:45===duration?price=15:60===duration&amp;&amp;(price=20);\r\n      return base_price+price;\r\n    }\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;form&gt;\r\n    &lt;select id=\"js-duration\"&gt;\r\n        &lt;option value=\"15\"&gt;15 sec&lt;/option&gt;\r\n        &lt;option value=\"30\"&gt;30 sec (+ $10)&lt;/option&gt;\r\n        &lt;option value=\"45\"&gt;45 sec (+ $15)&lt;/option&gt;\r\n        &lt;option value=\"60\"&gt;60 sec (+ $30)&lt;/option&gt;\r\n    &lt;/select&gt;\r\n\r\n    &lt;input id=\"js-price\" type=\"number\" value=\"14\" min=\"14\"&gt;\r\n&lt;/form&gt;\r\n\r\n&lt;p&gt;Current cost: ($&lt;span id=\"js-cost\"&gt;14&lt;/span&gt; per view)&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3, "user_id": 10681300, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wSZUK993HI0/AAAAAAAAAAI/AAAAAAAAAAc/8KZFlZi7Ruo/photo.jpg?sz=128", "display_name": "William Richardson", "link": "https://stackoverflow.com/users/10681300/william-richardson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 53422034, "answer_count": 3, "score": 0, "last_activity_date": 1542848779, "creation_date": 1542841918, "last_edit_date": 1542848779, "question_id": 53421746, "link": "https://stackoverflow.com/questions/53421746/how-do-i-update-a-div-with-the-sum-value-of-2-form-inputs-and-update-when-they-c", "title": "How do I update a div with the sum value of 2 form inputs and update when they change", "body": "<p>I have 2 inputs (one number input and one select) with values that can change, I want to display the sum of both values even when they change on a div.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n  var display = $('#js-cost');\r\n  var base_price = 14;\r\n  var price = 0;\r\n\r\n  $('#js-price').on('change', function() {\r\n    base_price = $('#js-price').val();\r\n    display.html(base_price);\r\n  });\r\n\r\n  $('#js-duration').on('change', function() {\r\n    if ($(this).val() == 30) price = 10;\r\n    if ($(this).val() == 45) price = 15;\r\n    if ($(this).val() == 60) price = 30;\r\n\r\n    display.html(base_price + price);\r\n  });\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;form&gt;\r\n  &lt;select id=\"js-duration\"&gt;\r\n    &lt;option value=\"15\"&gt;15 sec&lt;/option&gt;\r\n    &lt;option value=\"30\"&gt;30 sec (+ $10)&lt;/option&gt;\r\n    &lt;option value=\"45\"&gt;45 sec (+ $15)&lt;/option&gt;\r\n    &lt;option value=\"60\"&gt;60 sec (+ $30)&lt;/option&gt;\r\n  &lt;/select&gt;\r\n\r\n  &lt;input id=\"js-price\" type=\"number\" value=\"14\" min=\"14\"&gt;\r\n&lt;/form&gt;\r\n\r\n&lt;p&gt;Current cost: ($&lt;span id=\"js-cost\"&gt;14&lt;/span&gt; per view)&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>How do I make this work?</p>\n"}, {"tags": ["javascript", "google-chrome-devtools"], "comments": [{"owner": {"reputation": 905, "user_id": 5330050, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4New3.jpg?s=128&g=1", "display_name": "Iskandar Reza", "link": "https://stackoverflow.com/users/5330050/iskandar-reza"}, "edited": false, "score": 0, "creation_date": 1542842144, "post_id": 53421742, "comment_id": 93717941, "body": "I believe you are looking for this: <a href=\"https://stackoverflow.com/questions/7444399/getting-scope-of-function-caller\" title=\"getting scope of function caller\">stackoverflow.com/questions/7444399/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 186, "user_id": 10681733, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-67GGRLUwft0/AAAAAAAAAAI/AAAAAAAABZc/SCv4VF-ls84/photo.jpg?sz=128", "display_name": "degreerichi", "link": "https://stackoverflow.com/users/10681733/degreerichi"}, "is_accepted": true, "score": 0, "last_activity_date": 1542842768, "creation_date": 1542842768, "answer_id": 53421858, "question_id": 53421742, "link": "https://stackoverflow.com/questions/53421742/is-there-a-way-to-get-the-scopes-of-a-function-from-outside-the-function-js/53421858#53421858", "title": "Is there a way to get the scopes of a function from outside the function - JS", "body": "<p>I think is not possible, because may represent a security problem for Javascript</p>\n\n<p>And if that is not the case, maybe the variables that you\u00b4re looking for were deleted by the garbage collector at the moment when you try to get those</p>\n\n<p>You can read more about Memory Management here:</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Memory_Management\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Memory_Management</a></p>\n"}, {"tags": [], "owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "is_accepted": false, "score": 0, "last_activity_date": 1542844446, "creation_date": 1542844446, "answer_id": 53422072, "question_id": 53421742, "link": "https://stackoverflow.com/questions/53421742/is-there-a-way-to-get-the-scopes-of-a-function-from-outside-the-function-js/53422072#53422072", "title": "Is there a way to get the scopes of a function from outside the function - JS", "body": "<blockquote>\n  <p>Is there any sort of function or method that will return these variables automatically.</p>\n</blockquote>\n\n<p>No, it's not possible. EnvironmentRecords are not accessible in \"userland\" code. The association between a function and an environment is internal to the function and the specification doesn't define any way to access that information.</p>\n\n<p>But of course the association exists and so the developer tools can expose that information for debugging purposes.</p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 10348516, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tR6iYyXJ59I/AAAAAAAAAAI/AAAAAAAAABk/JX9SeKQTkv0/photo.jpg?sz=128", "display_name": "Aiden Waterman", "link": "https://stackoverflow.com/users/10348516/aiden-waterman"}, "is_accepted": false, "score": 0, "last_activity_date": 1550161005, "creation_date": 1550161005, "answer_id": 54694749, "question_id": 53421742, "link": "https://stackoverflow.com/questions/53421742/is-there-a-way-to-get-the-scopes-of-a-function-from-outside-the-function-js/54694749#54694749", "title": "Is there a way to get the scopes of a function from outside the function - JS", "body": "<p>firstly, you would have to use</p>\n\n<p><code>var foo = getEventListeners(window).load[2].listener['[[Scopes]]']</code></p>\n\n<p>because you forgot the extra square brackets, and secondly, they aren't actually available for your JavaScript, only for devTools.</p>\n\n<p>there is also a fake <code>[[FunctionLocation]]</code> that isn't available either</p>\n"}], "owner": {"reputation": 103, "user_id": 9555593, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "wilson wilson", "link": "https://stackoverflow.com/users/9555593/wilson-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 53421858, "answer_count": 3, "score": 0, "last_activity_date": 1550161005, "creation_date": 1542841891, "question_id": 53421742, "link": "https://stackoverflow.com/questions/53421742/is-there-a-way-to-get-the-scopes-of-a-function-from-outside-the-function-js", "title": "Is there a way to get the scopes of a function from outside the function - JS", "body": "<p>While using chrome devtools console on a web page, searching for how I would access local variables from within a function, I realized that you can view scopes when manually inspecting a function in an object.</p>\n\n<p>I accessed the function with <code>getEventListeners(window).load[2]</code> which returned</p>\n\n<p><code>\u25bc{listener: \u0192, useCapture: false, passive: false, once: false, type: \"load\"}</code>\n<code>\n   \u25balistener: \u0192 ()\n    once: false\n    passive: false\n    type: \"load\"\n    useCapture: false\n   \u25ba__proto__: Object</code></p>\n\n<p>when I clicked on the listener function, it showed an object\n<code>\u25ba[[Scopes]]: Scopes[3]</code></p>\n\n<p>The scopes object gave a list of all the variables that were used in the function (which was what I was looking for). However, I can only access these manually. There is nothing like <code>getEventListeners(window).load[2].listener.Scopes</code> </p>\n\n<p>Is there any sort of function or method that will return these variables automatically. Such as:</p>\n\n<p><code>var foo = getEventListeners(window).load[2].listener.Scopes[0]</code></p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "node.js"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1542842466, "post_id": 53421730, "comment_id": 93718048, "body": "The nested array seems off; the outermost array&#39;s first element has two <code>%s</code>, so it should either have three elements total, where the 2nd to last are inserted into the first, or it should have two elements, where the 2nd is an array that has in turn two elements, reflecting the two <code>%s</code>. The nested array you have doesn&#39;t seem to have a consistent grammar."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1542842586, "post_id": 53421730, "comment_id": 93718085, "body": "The rule is any array that is to the right of a string, gets interpolated into the string. I double-checked and the example seems fine."}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1542842828, "post_id": 53421730, "comment_id": 93718168, "body": "Are there only <code>Map</code> types, or the type is dynamic (could be others)?"}, {"owner": {"reputation": 3794, "user_id": 803398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40a594408dfe75da824757ca107a42a1?s=128&d=identicon&r=PG", "display_name": "Darlesson", "link": "https://stackoverflow.com/users/803398/darlesson"}, "edited": false, "score": 0, "creation_date": 1542842882, "post_id": 53421730, "comment_id": 93718188, "body": "You could do this <code>list.join(&#39;&#39;).replace(&#47;%s,%s&gt;&#47;g, &#39;&#39;).replace(&#47;&lt;,&#47;g, &#39;&lt;&#39;) + &#39;&gt;&gt;&#39;</code> if your Array format is guaranteed to be always the same."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "reply_to_user": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1542843064, "post_id": 53421730, "comment_id": 93718251, "body": "@ibrahimmahrir there could many types besides Map, it has to be generic etc"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "edited": false, "score": 0, "creation_date": 1542845906, "post_id": 53422028, "comment_id": 93719034, "body": "One thing to check is if this works for arrays with length 0 and 1, instead of only length greater than 1"}, {"owner": {"reputation": 11289, "user_id": 1822698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/725a332cc5b93972e715f071b631f4a8?s=128&d=identicon&r=PG", "display_name": "slider", "link": "https://stackoverflow.com/users/1822698/slider"}, "edited": false, "score": 1, "creation_date": 1542846120, "post_id": 53422028, "comment_id": 93719080, "body": "@MrCholo With length 0, this returns <code>undefined</code> and with length 1 it returns the first string in the array (which I think can be considered acceptable behavior)."}], "tags": [], "owner": {"reputation": 11289, "user_id": 1822698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/725a332cc5b93972e715f071b631f4a8?s=128&d=identicon&r=PG", "display_name": "slider", "link": "https://stackoverflow.com/users/1822698/slider"}, "is_accepted": true, "score": 3, "last_activity_date": 1542845402, "last_edit_date": 1542845402, "creation_date": 1542844067, "answer_id": 53422028, "question_id": 53421730, "link": "https://stackoverflow.com/questions/53421730/reduce-nested-array-to-formatted-string/53422028#53422028", "title": "Reduce nested array to formatted string", "body": "<p>One approach can be to \"reduce\" any element that is an array (going down to the deepest level) and then do your replacements as you keep returning from the stack for any element whose \"next element\" is an array:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const list = ['Map&lt;%s,%s,%s&gt;', ['string', 'Map&lt;%s,%s&gt;', ['string', 'boolean'], 'Number']];\r\n\r\nfunction merge(list) {\r\n  function reduce(arr) {\r\n    arr = arr.map(e =&gt; Array.isArray(e) ? reduce(e) : e);\r\n    return arr\r\n      .map((e, i) =&gt; Array.isArray(arr[i + 1])\r\n        ? arr[i + 1].reduce((a, c) =&gt; a.replace('%s', c), e)\r\n        : e)\r\n      .filter(e =&gt; !Array.isArray(e));\r\n  }\r\n  return reduce(list)[0];\r\n}\r\n\r\n\r\nconsole.log(merge(list));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "edited": false, "score": 0, "creation_date": 1542845221, "post_id": 53422056, "comment_id": 93718858, "body": "Also, good call with your data input, that is more general and accurate than the original input in the OP, thank you (even though no Map I know of has 3 params, maybe change the OP to <code>Map&lt;?,&lt;?,?&gt;&gt;</code>, idk"}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 1, "creation_date": 1542845383, "post_id": 53422056, "comment_id": 93718903, "body": "Yeah, I would like to make the magic number go away\u2026when you are replacing you need to skip over the arrays in the list. That&#39;s why I added the extra <code>%s</code> because it&#39;s easy to miss. If I think of a purer recursive way, I&#39;ll edit."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "edited": false, "score": 0, "creation_date": 1542845477, "post_id": 53422056, "comment_id": 93718929, "body": "sure I updated my comment above as well, yeah any number besides 0 or 1 in code is magic right haha, although 3 is even scarier than 2 lulz"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "edited": false, "score": 0, "creation_date": 1542845913, "post_id": 53422056, "comment_id": 93719036, "body": "One thing to check is if this works for arrays with length 0 and 1, instead of only length greater than 1.. I checked for length 1, and it returns undefined instead of a placeholder. How about return a question mark ?, if there is no corresponding value in the array?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "edited": false, "score": 0, "creation_date": 1542846711, "post_id": 53422056, "comment_id": 93719209, "body": "I still can&#39;t figure out what <code>i+=2</code> is doing. The only time you seem to use <code>i</code> again is the next line where you subtract 2 from it."}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1542847892, "post_id": 53422056, "comment_id": 93719429, "body": "@MrCholo :) yeah, it&#39;s a little hard on the eyes. <code>i</code> is used again in <code>next[i++]</code>. I posted a different idea that&#39;s a little wordier, but probably easier to understand and more flexible."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "edited": false, "score": 0, "creation_date": 1542849760, "post_id": 53422056, "comment_id": 93719764, "body": "I created a solution too, check it out"}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 1, "creation_date": 1542850149, "post_id": 53422056, "comment_id": 93719839, "body": "That looks pretty nice @MrCholo -- popping from the array is a nice way to handle this."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "edited": false, "score": 0, "creation_date": 1542857800, "post_id": 53422056, "comment_id": 93721385, "body": "thanks I am working on a types generator for JSON. Given some info, can generate the JSON interfaces in any language. The world needs this. When using a command line tool or hitting an API, you would be able to get type information about the JSON coming back. <a href=\"https://github.com/ORESoftware/oredoc\" rel=\"nofollow noreferrer\">github.com/ORESoftware/oredoc</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "edited": false, "score": 0, "creation_date": 1542857882, "post_id": 53422056, "comment_id": 93721410, "body": "I need a way to allow the user to express arbitrary nested types. Before the placeholders, I had this <code>[&#39;Array&#39;,&#39;Array&#39;, &#39;int&#39;]</code> which would be transformed to <code>Array&lt;Array&lt;int&gt;&gt;</code> (or a different syntax depending on the language), but that&#39;s not generic enough, I needed nestedness."}], "tags": [], "owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "is_accepted": false, "score": 2, "last_activity_date": 1542847830, "last_edit_date": 1542847830, "creation_date": 1542844285, "answer_id": 53422056, "question_id": 53421730, "link": "https://stackoverflow.com/questions/53421730/reduce-nested-array-to-formatted-string/53422056#53422056", "title": "Reduce nested array to formatted string", "body": "<p>You can do this recursively with <code>replace()</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const list = ['Map&lt;%s,%s,%s&gt;', ['string', 'Map&lt;%s,%s&gt;', ['string', 'boolean'], 'Number']];\r\n\r\nfunction replaceMatch(arr, i=0){\r\n    let str = arr[0]\r\n    return str.replace(/%s/g, () =&gt; {\r\n        let next = arr[1]\r\n        if (Array.isArray(next[i+1])) {\r\n            i+=2\r\n            return replaceMatch(next.slice(i-2))       \r\n        }\r\n        else return next[i++]\r\n    })\r\n}\r\nstr = replaceMatch(list)\r\nconsole.log(str)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here's a longer, but probably easier-to-read recursive version. It returns an array rather than a string to allow non-mappings to end up in the result (for example the first and last elements. It will add a <code>?</code> if the mapping has more slots than array values and ignore extra array values that don't have corresponding <code>%s</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const list = [\"Name\", 'Map&lt;%s,%s,%s&gt;', ['string', 'Map&lt;%s,%s,%s&gt;', ['string', 'boolean'], 'Number'], 'Set&lt;%s,%s&gt;', ['val_1', 'val_2']];\r\n\r\nfunction replaceArr(str, arr){ // helper function for replace\r\n    let i = 0\r\n    return str.replace(/\\%s/g, () =&gt; arr[i++] || '?')\r\n}\r\n\r\nfunction replaceMatch(arr){\r\n  let res = []\r\n  for (let i = 0; i &lt; arr.length ; i++){\r\n      if (Array.isArray(arr[i])) continue\r\n      res.push(Array.isArray(arr[i+1])\r\n          ? replaceArr(arr[i], replaceMatch(arr[i+1]))\r\n          : arr[i]\r\n        )\r\n  }\r\n  return res\r\n}\r\nstr = replaceMatch(list)\r\nconsole.log(str)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 11289, "user_id": 1822698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/725a332cc5b93972e715f071b631f4a8?s=128&d=identicon&r=PG", "display_name": "slider", "link": "https://stackoverflow.com/users/1822698/slider"}, "edited": false, "score": 1, "creation_date": 1542850159, "post_id": 53422655, "comment_id": 93719842, "body": "This is equivalent to the inner <code>reduce</code> helper in the solution I posted. If your final desired output is an array, you can use that directly."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "reply_to_user": {"reputation": 11289, "user_id": 1822698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/725a332cc5b93972e715f071b631f4a8?s=128&d=identicon&r=PG", "display_name": "slider", "link": "https://stackoverflow.com/users/1822698/slider"}, "edited": false, "score": 0, "creation_date": 1542853362, "post_id": 53422655, "comment_id": 93720481, "body": "the best way to understand how this works is to put <code>console.log({a,b})</code> inside the Array.prototype reduce callback."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "is_accepted": false, "score": 2, "last_activity_date": 1542853409, "last_edit_date": 1542853409, "creation_date": 1542849726, "answer_id": 53422655, "question_id": 53421730, "link": "https://stackoverflow.com/questions/53421730/reduce-nested-array-to-formatted-string/53422655#53422655", "title": "Reduce nested array to formatted string", "body": "<p>This was much harder than I thought it would be. This solution returns an array, and is more generic than other solutions and what the OP originally asked for. Since it can handle two strings in a row. </p>\n\n<pre><code>const util = require('util');\nconst list = ['Array','Map&lt;%s,%s, %s&gt;', ['xxx','Map&lt;%s,%s&gt;', ['string', 'boolean'], 'number']];\n\nconst reduce = function(list){\n  return list.slice(1).reduce((a,b) =&gt; {\n\n    if(Array.isArray(b)){\n      const pop = a.pop();\n      const format = util.format(pop,...reduce(b));\n      return a.concat(format);\n    }\n\n    return (a.push(b), a);  // comma operator\n\n  },\n    [list[0]]\n  );\n};\n\n\nconsole.log(reduce(list));\n</code></pre>\n\n<p>The above will yield:</p>\n\n<pre><code>[ 'Array', 'Map&lt;xxx,Map&lt;string,boolean&gt;, number&gt;' ]\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 1, "accepted_answer_id": 53422028, "answer_count": 3, "score": 2, "last_activity_date": 1542853409, "creation_date": 1542841828, "last_edit_date": 1542845729, "question_id": 53421730, "link": "https://stackoverflow.com/questions/53421730/reduce-nested-array-to-formatted-string", "title": "Reduce nested array to formatted string", "body": "<p>I want to reduce this nested array:</p>\n\n<pre><code>const list = ['Map&lt;%s,%s&gt;', ['string', 'Map&lt;%s,%s&gt;', ['string', 'boolean']]];\n</code></pre>\n\n<p>so that list becomes:</p>\n\n<pre><code>'Map&lt;string,Map&lt;string,boolean&gt;&gt;'\n</code></pre>\n\n<p>Here is a start, but the recusion is really confusing to me:</p>\n\n<pre><code>const util = require('util');\n\nconst reduceToString = function(l){\n  return l.reduceRight((a,b) =&gt; {\n    if(Array.isArray(a)){\n      return reduceToString(a);\n    }\n\n    return util.format(b, a);\n\n  });\n};\n\n\nconsole.log(reduce(list));\n</code></pre>\n\n<p><em>For better understanding to see how this needs to work generically, this input:</em></p>\n\n<pre><code>const list = ['Map&lt;%s,%s,%s&gt;', ['string', 'Map&lt;%s,%s&gt;', ['string', 'boolean'], 'number']];\n</code></pre>\n\n<p>should yield:</p>\n\n<pre><code>'Map&lt;string,Map&lt;string,boolean&gt;,number&gt;'\n</code></pre>\n\n<p>The <strong>general rule</strong> is: any array to the right of a string, should be interpolated into the string, and the reduceToString function should always return a string.</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1542841986, "post_id": 53421713, "comment_id": 93717897, "body": "Just matching first names seems very flaky since in general first names aren&#39;t unique. Don&#39;t you have a reference to the original object at the time you are editing it? Show how you use <code>editChild()</code>"}, {"owner": {"reputation": 702, "user_id": 9259310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sz9ZX.png?s=128&g=1", "display_name": "Katie.Sun", "link": "https://stackoverflow.com/users/9259310/katie-sun"}, "edited": false, "score": 0, "creation_date": 1542842016, "post_id": 53421713, "comment_id": 93717907, "body": "if you do a console.log after <code>if (children[i].firstName === first)</code>, do you get something when you would expect it? Also I don&#39;t think this is what you want... this would remove the <code>schedules</code> and <code>id</code> properties."}, {"owner": {"reputation": 73, "user_id": 10656057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d834863b03ff63a8c65aa2d97c7011?s=128&d=identicon&r=PG&f=1", "display_name": "Tearz", "link": "https://stackoverflow.com/users/10656057/tearz"}, "reply_to_user": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1542843080, "post_id": 53421713, "comment_id": 93718257, "body": "@charlietfl I just updated the post to show the editChild() in action."}], "answers": [{"tags": [], "owner": {"reputation": 81718, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "is_accepted": true, "score": 2, "last_activity_date": 1542842479, "creation_date": 1542842479, "answer_id": 53421820, "question_id": 53421713, "link": "https://stackoverflow.com/questions/53421713/how-to-edit-update-an-object-in-an-array-and-keep-all-other-nested-data/53421820#53421820", "title": "How to edit/update an object in an array and keep all other nested data?", "body": "<p>You can get the index of the child with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex\" rel=\"nofollow noreferrer\"><code>findIndex</code></a> and then replace the object with that index in a new array with a copy of the original object with all the properties in <code>updatedChild</code> added to it.</p>\n\n<p><strong>Example</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class App extends React.Component {\r\n  state = {\r\n    children: [\r\n      {\r\n        id: 1,\r\n        firstName: \"Bella\",\r\n        lastName: \"Laupama\",\r\n        profile: \"child_care\",\r\n        schedules: [\r\n          {\r\n            id: 1,\r\n            date: \"25 December, 2018\",\r\n            parent: \"Chris\",\r\n            activity: \"Christmas\"\r\n          },\r\n          {\r\n            id: 2,\r\n            date: \"28 December, 2018\",\r\n            parent: \"Mischa\",\r\n            activity: \"Christmas with Malane Whanau\"\r\n          },\r\n          {\r\n            id: 3,\r\n            date: \"31 December, 2018\",\r\n            parent: \"Laura\",\r\n            activity: \"New Years Eve\"\r\n          },\r\n          {\r\n            id: 4,\r\n            date: \"1 January, 2019\",\r\n            parent: \"Laura\",\r\n            activity: \"New Years Day\"\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  };\r\n\r\n  editChild = (first, last, prof) =&gt; {\r\n    var updatedChild = {\r\n      firstName: first,\r\n      lastName: last,\r\n      profile: prof\r\n    };\r\n\r\n    this.setState(prevState =&gt; {\r\n      const children = [...prevState.children];\r\n      const childIndex = children.findIndex(child =&gt; child.firstName === first);\r\n\r\n      children[childIndex] = { ...children[childIndex], ...updatedChild };\r\n\r\n      return { children };\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      &lt;div&gt;\r\n        &lt;div&gt;{JSON.stringify(this.state)}&lt;/div&gt;\r\n        &lt;button onClick={() =&gt; this.editChild(\"Bella\", \"Doe\", \"Programmer\")}&gt;\r\n          Edit child\r\n        &lt;/button&gt;\r\n      &lt;/div&gt;\r\n    );\r\n  }\r\n}\r\n\r\nReactDOM.render(&lt;App /&gt;, document.getElementById(\"root\"));</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react-dom.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"root\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "is_accepted": false, "score": 0, "last_activity_date": 1542842524, "creation_date": 1542842524, "answer_id": 53421828, "question_id": 53421713, "link": "https://stackoverflow.com/questions/53421713/how-to-edit-update-an-object-in-an-array-and-keep-all-other-nested-data/53421828#53421828", "title": "How to edit/update an object in an array and keep all other nested data?", "body": "<p>You can do what you're looking for using ES6 Object spread syntax:</p>\n\n<pre><code>import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nclass App extends React.Component {\n  state = {\n    firstName: \"Bill\",\n    lastName: \"Gates\",\n    age: 2018\n  };\n\n  update = (firstName, lastName) =&gt; {\n    const newObj = { firstName, lastName };\n    this.setState({ ...newObj });\n  };\n\n  render() {\n    return (\n      &lt;h1&gt;\n        &lt;button onClick={() =&gt; this.update(\"Steve\", \"Jobs\")}&gt;\n          Click to update\n        &lt;/button&gt;\n        &lt;hr /&gt;\n        {this.state.firstName} {this.state.lastName} {this.state.age}\n      &lt;/h1&gt;\n    );\n  }\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(&lt;App /&gt;, rootElement);\n</code></pre>\n\n<p>CodeSandbox example <a href=\"https://codesandbox.io/s/3qww0l20xq\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>What's happening here with <code>this.setState({ ... newObj })</code> is that any values in <code>this.state.</code> which have the keys which match the keys in <code>newObj</code> will be overwritten with the values from <code>newObj</code>, and leave the other values unchanged. </p>\n"}], "owner": {"reputation": 73, "user_id": 10656057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d834863b03ff63a8c65aa2d97c7011?s=128&d=identicon&r=PG&f=1", "display_name": "Tearz", "link": "https://stackoverflow.com/users/10656057/tearz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 1, "accepted_answer_id": 53421820, "answer_count": 2, "score": 2, "last_activity_date": 1542844402, "creation_date": 1542841723, "last_edit_date": 1542843750, "question_id": 53421713, "link": "https://stackoverflow.com/questions/53421713/how-to-edit-update-an-object-in-an-array-and-keep-all-other-nested-data", "title": "How to edit/update an object in an array and keep all other nested data?", "body": "<p>I am trying to update purely just the firstName, lastName and profile for an object without destroying any other data within that object...</p>\n\n<p>Here's an example of the current state.</p>\n\n<pre><code>  state = {\n    children: [\n      {\n        id: 1,\n        firstName: 'Bella',\n        lastName: 'Laupama',\n        profile: 'child_care',\n        schedules: [\n          {\n            id: 1,\n            date: '25 December, 2018',\n            parent: 'Chris',\n            activity: 'Christmas'\n          },\n          {\n            id: 2,\n            date: '28 December, 2018',\n            parent: 'Mischa',\n            activity: 'Christmas with Malane Whanau'\n          },\n          {\n            id: 3,\n            date: '31 December, 2018',\n            parent: 'Laura',\n            activity: 'New Years Eve'\n          },\n          {\n            id: 4,\n            date: '1 January, 2019',\n            parent: 'Laura',\n            activity: 'New Years Day'\n          }\n        ]\n      }\n    ]\n  }\n</code></pre>\n\n<p>And here's the current function I'm trying to pass it to update the current state...</p>\n\n<pre><code>      editChild = (first, last, prof) =&gt; {\n        var updatedChild = {\n          firstName: first,\n          lastName: last,\n          profile: prof\n        }\n        var children = this.state.children\n\n        for (var i = 0; i &lt; children.length; i++) {\n          if (children[i].firstName === first) {\n            children[i] = updatedChild\n          }\n        }\n        this.setState({ children })\n      }\n\n**UPDATE**\n\nHere's the code where I'm calling the function ( from a child component )\n\nexport default class EditChild extends React.Component {\n  state = {\n    firstName: '',\n    lastName: '',\n    profile: '',\n  }\n\n  handleChange = e =&gt; {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n\n  submitHandler = e =&gt; {\n    e.preventDefault()\n    this.props.editChild(this.state.firstName, this.state.lastName, this.state.profile)\n    // Final validation before submitting to server\n    console.log('SUBMITTED:', this.state)\n    // Clear the state to clear the form\n    this.setState({\n      firstName: '',\n      lastName: '',\n      profile: ''\n    })\n  }\n</code></pre>\n\n<p>...form etc is in the render etc...</p>\n\n<p>The form works fine and console logs the result like this: </p>\n\n<pre><code>SUBMITTED: \n{firstName: \"Donald\", lastName: \"Trump\", profile: \"face\"}\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Thank you to @Tholle and @charlietfl for leading me in the right direction. Basically I needed to be passing the ID as well, and not trying to match based off the first name, as the first name is obviously something that can be changed from the edit form as well. So if I changed Bella Laupama to Charlie Chaplan, it wouldn't find the id.</p>\n\n<p>So I used @Tholle code and modified it to search and replace by id and it worked perfectly :)</p>\n\n<pre><code> editChild = (id, first, last, prof) =&gt; {\n    var updatedChild = {\n      firstName: first,\n      lastName: last,\n      profile: prof\n    }\n\n    this.setState(prevState =&gt; {\n      const children = [...prevState.children]\n      const childIndex = children.findIndex(child =&gt; child.id === id)\n\n      children[childIndex] = { ...children[childIndex], ...updatedChild }\n\n      return { children }\n    })\n    console.log(this.state)\n  } \n</code></pre>\n"}, {"tags": ["javascript", "html", "vue.js", "vuejs2"], "answers": [{"tags": [], "owner": {"reputation": 428, "user_id": 6082441, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZXVH2.png?s=128&g=1", "display_name": "Blitz", "link": "https://stackoverflow.com/users/6082441/blitz"}, "is_accepted": true, "score": 1, "last_activity_date": 1542848829, "creation_date": 1542848829, "answer_id": 53422569, "question_id": 53421706, "link": "https://stackoverflow.com/questions/53421706/passing-data-from-a-component-that-contains-slot-content-to-that-slot-content-co/53422569#53422569", "title": "Passing data from a component that contains slot content to that slot content component", "body": "<p>I think you should use Scoped Slots.</p>\n\n<p><a href=\"https://vuejs.org/v2/guide/components-slots.html#Scoped-Slots\" rel=\"nofollow noreferrer\">https://vuejs.org/v2/guide/components-slots.html#Scoped-Slots</a>\n<a href=\"https://medium.com/binarcode/understanding-scoped-slots-in-vue-js-db5315a42391\" rel=\"nofollow noreferrer\">https://medium.com/binarcode/understanding-scoped-slots-in-vue-js-db5315a42391</a></p>\n\n<p>Something like this:</p>\n\n<blockquote>\n  <p>Sponsors.vue</p>\n</blockquote>\n\n<pre><code>&lt;template&gt;\n  &lt;sponsor-card-wrapper&gt;\n    &lt;sponsor-card\n      slot-scope=\"{ tier }\"\n      :tier=\"tier\"\n    &gt;&lt;/sponsor-card&gt;\n  &lt;/sponsor-card-wrapper&gt;\n&lt;/template&gt;\n</code></pre>\n\n<blockquote>\n  <p>SponsorCardWrapper.vue</p>\n</blockquote>\n\n<pre><code>&lt;template&gt;\n  &lt;div&gt;\n    &lt;h2&gt;title&lt;/h2&gt;\n    &lt;layout-card-overflow&gt;\n      &lt;slot\n        v-bind:tier=\"tier\"\n      &gt;&lt;/slot&gt;\n    &lt;/layout-card-overflow&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n&lt;script&gt;\nexport default {\n  props: ['tier']\n}\n&lt;/script&gt;\n</code></pre>\n\n<blockquote>\n  <p>SponsorCard.vue</p>\n</blockquote>\n\n<pre><code>&lt;template&gt;\n  &lt;div&gt;\n    &lt;h3&gt;{{ tier }}&lt;/h3&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n&lt;script&gt;\nexport default {\n  props: ['tier']\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>This is very useful for lists rendering.</p>\n\n<p>In your case, why don't you just do:</p>\n\n<pre><code>&lt;template&gt;\n  &lt;sponsor-card-wrapper tier=\"gold\"&gt;\n    &lt;sponsor-card showSponsor=\"gamma\" tier=\"gold\"&gt;&lt;/sponsor-card&gt;\n  &lt;/sponsor-card-wrapper&gt;\n&lt;/template&gt;\n</code></pre>\n"}], "owner": {"reputation": 355, "user_id": 9367643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c256553199b9851cdcd565766fc042?s=128&d=identicon&r=PG", "display_name": "edwin", "link": "https://stackoverflow.com/users/9367643/edwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 351, "favorite_count": 0, "accepted_answer_id": 53422569, "answer_count": 1, "score": 0, "last_activity_date": 1542848829, "creation_date": 1542841691, "question_id": 53421706, "link": "https://stackoverflow.com/questions/53421706/passing-data-from-a-component-that-contains-slot-content-to-that-slot-content-co", "title": "Passing data from a component that contains slot content to that slot content component", "body": "<p>This is simpler than it sounds. I don't think I know the proper terminology to improve the title.</p>\n\n<p>I want to pass data from a component that contains slot content to that slot content component.\nSpecifically, I have data I want to pass called <code>tier</code> in <code>Sponsors.vue</code>. I want to pass that data to <code>SponsorCard.vue</code>.</p>\n\n<p>Right now, some <code>SponsorCard.vue</code> components are being send to a slot inside a <code>SponsorCardWrapper.vue</code> component within my <code>Sponsors.vue</code> file. I want to use <code>tier</code> inside my <code>SponsorCard.vue</code> component. (Specifically, I want to change the width of the image depending on the tier level of the sponsor, which I can do provided that I send the <code>tier</code> prop).</p>\n\n<p><code>Sponsors.vue</code></p>\n\n<pre><code>&lt;template&gt;\n  &lt;sponsor-card-wrapper tier=\"gold\"&gt;\n    &lt;sponsor-card showSponsor=\"gamma\"&gt;&lt;/sponsor-card&gt;\n  &lt;/sponsor-card-wrapper&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p><br/>\n<code>SponsorCardWrapper.vue</code></p>\n\n<pre><code>&lt;template&gt;\n  &lt;div class=\"sponsor-card-wrapper\"&gt;\n    &lt;h2&gt; {{ tier }} &lt;/h2&gt;\n    &lt;layout-card-overflow :class=\"tier\"&gt;\n      &lt;slot&gt;&lt;/slot&gt;\n    &lt;/layout-card-overflow&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p><br/>\n<code>SponsorCard.vue</code></p>\n\n<pre><code>&lt;template&gt;\n  &lt;div class=\"sponsor\"&gt;\n    &lt;h3&gt; {{ sponsor.name }} &lt;/h3&gt;\n    &lt;img :src=\"sponsor.image\" :alt=\"sponsor.imageAltText\" width=\"250px\"/&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n&lt;script&gt;\n  data() {\n    computed: {\n      sponsor: function() {\n        return this.sponsors[this.showSponsor]\n      }\n    }\n  }\n&lt;/script&gt;\n</code></pre>\n\n<p>One approach is to pass a prop even single one of my SponsorCard component directly, <code>&lt;sponsor-card tier=\"gold\" showSponsor=\"gamma\"&gt;&lt;/sponsor-card&gt;</code>. But I don't want to do that because I'd like to just move a <code>SponsorCard</code> component from inside one <code>SponsorCardWrapper</code> to another. I also tried to create scoped slots, but I don't think I'm supposed to be using them here.</p>\n\n<p>Any help would be appreciated. If there is any problems with my description or I need improvements to my terminology, let me know!</p>\n"}, {"tags": ["javascript", "jquery"], "answers": [{"comments": [{"owner": {"reputation": 4592, "user_id": 3179492, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ZHPUJ.jpg?s=128&g=1", "display_name": "Peter VARGA", "link": "https://stackoverflow.com/users/3179492/peter-varga"}, "edited": false, "score": 0, "creation_date": 1542843773, "post_id": 53421809, "comment_id": 93718447, "body": "OMG Steve0. I never saw this. OK, this works! I get - as you write - all changed values. Is there a way I would get the <code>id</code> of the <code>optgroup</code> if I assign one? +1 for the solution!"}, {"owner": {"reputation": 2021, "user_id": 903014, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/bnzFu.jpg?s=128&g=1", "display_name": "Steve0", "link": "https://stackoverflow.com/users/903014/steve0"}, "reply_to_user": {"reputation": 4592, "user_id": 3179492, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ZHPUJ.jpg?s=128&g=1", "display_name": "Peter VARGA", "link": "https://stackoverflow.com/users/3179492/peter-varga"}, "edited": false, "score": 0, "creation_date": 1542844170, "post_id": 53421809, "comment_id": 93718554, "body": "You need to be a little more specific.  What do you want when an optgroup is selected and what do you want when a single option is selected."}, {"owner": {"reputation": 4592, "user_id": 3179492, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ZHPUJ.jpg?s=128&g=1", "display_name": "Peter VARGA", "link": "https://stackoverflow.com/users/3179492/peter-varga"}, "edited": false, "score": 0, "creation_date": 1542844248, "post_id": 53421809, "comment_id": 93718572, "body": "When the option <code>MyGroup</code> is clicked I need in the <code>onChange</code> callback function the <code>id</code> from the <code>optgroup</code> with the label <code>MyGroup</code> which has in my example the value <code>MyGroupId</code>. That&#39;s all."}, {"owner": {"reputation": 4592, "user_id": 3179492, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ZHPUJ.jpg?s=128&g=1", "display_name": "Peter VARGA", "link": "https://stackoverflow.com/users/3179492/peter-varga"}, "edited": false, "score": 0, "creation_date": 1542844567, "post_id": 53421809, "comment_id": 93718668, "body": "Bingo! I can only upvote once. I will study the function <code>map</code> and <code>closest</code> you are using. I never heard of them but as I wrote my JavaScript/jQuery knowledge is poor. Thank you Steve0, good night."}, {"owner": {"reputation": 4592, "user_id": 3179492, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ZHPUJ.jpg?s=128&g=1", "display_name": "Peter VARGA", "link": "https://stackoverflow.com/users/3179492/peter-varga"}, "edited": false, "score": 2, "creation_date": 1542895279, "post_id": 53421809, "comment_id": 93738921, "body": "I added some code to your answer. I hope you don&#39;t mind."}], "tags": [], "owner": {"reputation": 2021, "user_id": 903014, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/bnzFu.jpg?s=128&g=1", "display_name": "Steve0", "link": "https://stackoverflow.com/users/903014/steve0"}, "is_accepted": true, "score": 4, "last_activity_date": 1542911337, "last_edit_date": 1542911337, "creation_date": 1542842412, "answer_id": 53421809, "question_id": 53421703, "link": "https://stackoverflow.com/questions/53421703/check-which-optgroup-has-been-clicked-in-jquery-bootstrap-multiselect/53421809#53421809", "title": "Check which optgroup has been clicked in jQuery Bootstrap Multiselect", "body": "<p><code>option</code> in your function parameters is potentially an array of jQuery objects.</p>\n\n<p>Because <code>option</code> in this example can be an array of options that changed due to the selection of an <code>optgroup</code> you need to iterate or <a href=\"http://api.jquery.com/jquery.map/\" rel=\"nofollow noreferrer\">Map</a> the array and extract the information you need.</p>\n\n<p>In this example an array of the option values is outputted to the console.</p>\n\n<p><strong>Edited</strong> as requested this example now outputs an array of option <code>id</code> also.</p>\n\n<p><strong>Edited by Al Bundy:</strong></p>\n\n<p>Placing the following code into the <code>onChange</code> callback function works for all possibilities. The first version from Steve0 doesn't work when <code>optgroup</code> has only 1 element. Also, my extended code - based on the original Steve0's answer - returns the <code>id</code> either for <code>optgroup</code> or the <code>item</code> depending which one was clicked:</p>\n\n<p><code>optionId = Array.isArray(option)\n   ? $(option[0]).closest(\"optgroup\").attr(\"id\") \n   : option.attr(\"id\");\n</code>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Bootstrap onChange Example&lt;/title&gt;\r\n        &lt;meta charset=\"utf-8\"&gt;\r\n        &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\r\n        &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js\"&gt;&lt;/script&gt;\r\n        &lt;script src=\"http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js\"&gt;&lt;/script&gt;\r\n        &lt;script type=\"text/javascript\" src=\"https://cdn.jsdelivr.net/gh/davidstutz/bootstrap-multiselect/dist/js/bootstrap-multiselect.js\"&gt;&lt;/script&gt;\r\n        &lt;link rel=\"stylesheet\" href=\"http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css\"&gt;\r\n        &lt;link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/gh/davidstutz/bootstrap-multiselect/dist/css/bootstrap-multiselect.css\" type=\"text/css\"/&gt;\r\n        &lt;script type=\"text/javascript\"&gt;\r\n        $(document).ready(function() {\r\n            $('#example').multiselect(\r\n                {\r\n                    enableClickableOptGroups: true,\r\n                    onChange:function(option, checked, value)\r\n                    {\r\n                        //console.log(option);\r\n                        console.log($.map(option, x=&gt;{return $(x).val();}));\r\n                        //console.log($.map(option, x=&gt;{return $(x).attr(\"id\");}));\r\n                        if(option.length &gt; 1){\r\n                          //if I have more than one picked, then return the ID of the first-items group\r\n                          console.log($(option[0]).closest(\"optgroup\").attr(\"id\"));\r\n                        }\r\n                        // how to access option.???\r\n                        //console.log($(option).val());\r\n\r\n                        // Al Bundy extension:\r\n                        optionId = Array.isArray(option)\r\n                           ? $(option[0]).closest(\"optgroup\").attr(\"id\") \r\n                           : option.attr(\"id\");\r\n                    }\r\n                }\r\n            )\r\n        });\r\n        &lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;select id=\"example\" multiple=\"multiple\"&gt;\r\n            &lt;optgroup label=\"MyGroup\" id='YourGroup'&gt;\r\n                &lt;option id=\"opt1\" value=\"1\"&gt;Option 1&lt;/option&gt;\r\n                &lt;option id=\"opt2\" value=\"2\"&gt;Option 2&lt;/option&gt;\r\n                &lt;option id=\"opt3\" value=\"3\"&gt;Option 3&lt;/option&gt;\r\n            &lt;/optgroup&gt;\r\n        &lt;/select&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 4592, "user_id": 3179492, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ZHPUJ.jpg?s=128&g=1", "display_name": "Peter VARGA", "link": "https://stackoverflow.com/users/3179492/peter-varga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 53421809, "answer_count": 1, "score": 3, "last_activity_date": 1542911337, "creation_date": 1542841679, "last_edit_date": 1542844093, "question_id": 53421703, "link": "https://stackoverflow.com/questions/53421703/check-which-optgroup-has-been-clicked-in-jquery-bootstrap-multiselect", "title": "Check which optgroup has been clicked in jQuery Bootstrap Multiselect", "body": "<p>I would like to know if the provided <code>option</code> parameter in the <code>onChange</code> callback function represents the <code>optgroup MyGroup</code> element.</p>\n\n<p>When I explore <code>option</code> in the Chrome debugger I get the following output which I don't understand:\n<a href=\"https://i.stack.imgur.com/SD0sH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SD0sH.png\" alt=\"enter image description here\"></a></p>\n\n<p>Information I found in internet regarding <code>n.fn.init</code> tells me that the object hasn't been instantiated yet and therefore it is displayed in that way. My knowledge in Javascript/jQuery is too poor to understand it and fix this issue on my own.</p>\n\n<p><strong>My Question:</strong></p>\n\n<p>How do I have in the <code>onChange</code> function access the <code>option</code> parameter?</p>\n\n<p>It would for example help me when I assign an <code>id</code> to the <code>optgroup</code> and this <code>id</code> is returned and I can check it easily.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Bootstrap onChange Example&lt;/title&gt;\r\n        &lt;meta charset=\"utf-8\"&gt;\r\n        &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\r\n        &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js\"&gt;&lt;/script&gt;\r\n        &lt;script src=\"http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js\"&gt;&lt;/script&gt;\r\n        &lt;script type=\"text/javascript\" src=\"https://cdn.jsdelivr.net/gh/davidstutz/bootstrap-multiselect/dist/js/bootstrap-multiselect.js\"&gt;&lt;/script&gt;\r\n        &lt;link rel=\"stylesheet\" href=\"http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css\"&gt;\r\n        &lt;link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/gh/davidstutz/bootstrap-multiselect/dist/css/bootstrap-multiselect.css\" type=\"text/css\"/&gt;\r\n        &lt;script type=\"text/javascript\"&gt;\r\n        $(document).ready(function() {\r\n            $('#example').multiselect(\r\n                {\r\n                    enableClickableOptGroups: true,\r\n                    onChange:                 function(option, select)\r\n                    {\r\n                        // how to access option.???\r\n                    }\r\n                }\r\n            )\r\n        });\r\n        &lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;select id=\"example\" multiple=\"multiple\"&gt;\r\n            &lt;optgroup label=\"MyGroup\" id=\"MyGroupId\"&gt;\r\n                &lt;option value=\"1\"&gt;Option 1&lt;/option&gt;\r\n                &lt;option value=\"2\"&gt;Option 2&lt;/option&gt;\r\n                &lt;option value=\"3\"&gt;Option 3&lt;/option&gt;\r\n            &lt;/optgroup&gt;\r\n        &lt;/select&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs", "image", "orientation", "setstate"], "comments": [{"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1542841839, "post_id": 53421688, "comment_id": 93717846, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/30528348/setstate-inside-of-componentdidupdate\" title=\"setstate inside of componentdidupdate\">stackoverflow.com/questions/30528348/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2072, "user_id": 7317408, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-mMn0XC-_zd8/AAAAAAAAAAI/AAAAAAAACag/6sAIuewEPiY/photo.jpg?sz=128", "display_name": "A7DC", "link": "https://stackoverflow.com/users/7317408/a7dc"}, "edited": false, "score": 0, "creation_date": 1542843626, "post_id": 53421902, "comment_id": 93718396, "body": "I have already? Check inside the componentDidUpdate() method in the Sandbox"}, {"owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "reply_to_user": {"reputation": 2072, "user_id": 7317408, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-mMn0XC-_zd8/AAAAAAAAAAI/AAAAAAAACag/6sAIuewEPiY/photo.jpg?sz=128", "display_name": "A7DC", "link": "https://stackoverflow.com/users/7317408/a7dc"}, "edited": false, "score": 1, "creation_date": 1542843675, "post_id": 53421902, "comment_id": 93718408, "body": "No, your sandbox has:  <code>componentDidUpdate(prevState)</code>. Notice there&#39;s only one parameter instead of two :)"}], "tags": [], "owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "is_accepted": true, "score": 7, "last_activity_date": 1542844641, "last_edit_date": 1542844641, "creation_date": 1542843044, "answer_id": 53421902, "question_id": 53421688, "link": "https://stackoverflow.com/questions/53421688/repeatedly-calling-setstate-inside-componentwillupdate-or-componentdidupdate/53421902#53421902", "title": "Repeatedly calling setState inside componentWillUpdate or componentDidUpdate?", "body": "<p>You need to include <code>prevProps</code> like so: </p>\n\n<pre><code>componentDidUpdate(prevProps, prevState) {\n  ...\n}\n</code></pre>\n\n<p>For more see <a href=\"https://reactjs.org/docs/react-component.html\" rel=\"noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 2072, "user_id": 7317408, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-mMn0XC-_zd8/AAAAAAAAAAI/AAAAAAAACag/6sAIuewEPiY/photo.jpg?sz=128", "display_name": "A7DC", "link": "https://stackoverflow.com/users/7317408/a7dc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6772, "favorite_count": 1, "accepted_answer_id": 53421902, "answer_count": 1, "score": 6, "last_activity_date": 1542844641, "creation_date": 1542841559, "question_id": 53421688, "link": "https://stackoverflow.com/questions/53421688/repeatedly-calling-setstate-inside-componentwillupdate-or-componentdidupdate", "title": "Repeatedly calling setState inside componentWillUpdate or componentDidUpdate?", "body": "<p>I'm trying to figure out the orientation of background-images in a React component that are passed in as props. </p>\n\n<p>I start off by creating an Image object and setting its src to the new Image:</p>\n\n<pre><code>  getImage() {\n    const src = this.props.url;\n    const image = new Image();\n    image.src = src;\n\n    this.setState({\n      height: image.height,\n      width: image.width\n    });\n  }\n</code></pre>\n\n<p>After I've updated the state with the heights and widths, I try calling <code>getOrientation()</code> inside of <code>componentDidUpdate()</code>:</p>\n\n<pre><code>  getOrientation() {\n    const { height, width } = this.state;\n    if (height &gt; width) {\n      this.setState({ orientation: \"portrait\" });\n    } else {\n      this.setState({ orientation: \"landscape\" });\n    }\n  }\n</code></pre>\n\n<p>I then get the following error:</p>\n\n<pre><code>Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate.\n</code></pre>\n\n<p>Any ideas what's going on here?</p>\n\n<p><a href=\"https://codesandbox.io/s/8zxzm48y69\" rel=\"noreferrer\">Link to Sandbox</a></p>\n"}, {"tags": ["javascript", "jquery", "tabs", "google-visualization", "semantic-ui"], "comments": [{"owner": {"reputation": 53495, "user_id": 5090771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2EOZG.png?s=128&g=1", "display_name": "WhiteHat", "link": "https://stackoverflow.com/users/5090771/whitehat"}, "edited": false, "score": 1, "creation_date": 1542845834, "post_id": 53421676, "comment_id": 93719014, "body": "is the tab hidden when the chart is drawn the first time? check <a href=\"https://stackoverflow.com/a/35868433/5090771\">this answer</a>..."}, {"owner": {"reputation": 5048, "user_id": 4262057, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e3b73d68ee4019a7d5cc982522310555?s=128&d=identicon&r=PG&f=1", "display_name": "JohnAndrews", "link": "https://stackoverflow.com/users/4262057/johnandrews"}, "reply_to_user": {"reputation": 53495, "user_id": 5090771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2EOZG.png?s=128&g=1", "display_name": "WhiteHat", "link": "https://stackoverflow.com/users/5090771/whitehat"}, "edited": false, "score": 0, "creation_date": 1546943960, "post_id": 53421676, "comment_id": 95012296, "body": "For everyone who had the same problem, check @WhiteHat answer. I was using AngularJS and had put it under ng-show=&quot;..&quot; which resulted that the chart window size was incorrect."}], "owner": {"reputation": 85, "user_id": 2619691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4c0af5015122f4a59ae310a8c09b05?s=128&d=identicon&r=PG", "display_name": "Bogdan", "link": "https://stackoverflow.com/users/2619691/bogdan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 240, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1542841491, "creation_date": 1542841491, "question_id": 53421676, "link": "https://stackoverflow.com/questions/53421676/google-chart-displayed-wrong-in-tab-until-i-resize-the-window", "title": "Google Chart displayed wrong in tab until I resize the window", "body": "<p>When I click the tab with the Google Chart, first it is showed small and the width style not applied:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ADO6u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ADO6u.png\" alt=\"Google Chart is not showing properly\"></a></p>\n\n<p>But when I resize the window, it \"jumps\" as it should look:</p>\n\n<p><a href=\"https://i.stack.imgur.com/QZwnx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QZwnx.png\" alt=\"Correct way to be\"></a></p>\n\n<p>I would like to see it from the start as it is scaled in the second picture.\nHere's one thing I noticed: after it \"jumped\" to correct format, if I go to a previous tab and resize the window even just a little, when I press the \"Macros\" tab, it's small again.</p>\n\n<p>This is the code:</p>\n\n<pre><code>&lt;script src=\"https://rawgit.com/louisremi/jquery-smartresize/master/jquery.throttledresize.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://www.google.com/jsapi?fake=.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    $(window).on(\"throttledresize\", function (event) {\n        var options = {\n            width: '100%',\n            height: '100%'\n        };\n\n        var data = google.visualization.arrayToDataTable([]);\n        drawChart(data, options);\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>The CSS from header:</p>\n\n<pre><code>&lt;style&gt;\n    #chart_wrap {\n        position: relative;\n        padding-bottom: 100%;\n        height: 0;\n        overflow:hidden;\n    }\n\n    #piechart {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n    }\n&lt;/style&gt;\n</code></pre>\n\n<p>And the HTML code - I am using Semantic UI:</p>\n\n<pre><code>&lt;div class=\"ui tab segment\" data-tab=\"macros\"&gt;\n\n        &lt;div id=\"chart_wrap\"&gt;\n            &lt;div id=\"piechart\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "d3.js", "legend", "scatter-plot"], "comments": [{"owner": {"reputation": 11834, "user_id": 9938317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b72fceef5630b6b962624fed6ac9c82?s=128&d=identicon&r=PG&f=1", "display_name": "rioV8", "link": "https://stackoverflow.com/users/9938317/riov8"}, "edited": false, "score": 2, "creation_date": 1542842414, "post_id": 53421526, "comment_id": 93718033, "body": "have you played with <code>margin.right</code>?"}, {"owner": {"reputation": 1983, "user_id": 8676170, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d42975a323a135b9a5721f45c511c45d?s=128&d=identicon&r=PG&f=1", "display_name": "patL", "link": "https://stackoverflow.com/users/8676170/patl"}, "reply_to_user": {"reputation": 11834, "user_id": 9938317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b72fceef5630b6b962624fed6ac9c82?s=128&d=identicon&r=PG&f=1", "display_name": "rioV8", "link": "https://stackoverflow.com/users/9938317/riov8"}, "edited": false, "score": 0, "creation_date": 1542843426, "post_id": 53421526, "comment_id": 93718360, "body": "That&#39;s what I wanted! I feel stupid now. Thank you though"}, {"owner": {"reputation": 11834, "user_id": 9938317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b72fceef5630b6b962624fed6ac9c82?s=128&d=identicon&r=PG&f=1", "display_name": "rioV8", "link": "https://stackoverflow.com/users/9938317/riov8"}, "edited": false, "score": 0, "creation_date": 1542855331, "post_id": 53421526, "comment_id": 93720901, "body": "why have you hard coded the position of the legend?"}, {"owner": {"reputation": 11834, "user_id": 9938317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b72fceef5630b6b962624fed6ac9c82?s=128&d=identicon&r=PG&f=1", "display_name": "rioV8", "link": "https://stackoverflow.com/users/9938317/riov8"}, "edited": false, "score": 0, "creation_date": 1542858037, "post_id": 53421526, "comment_id": 93721446, "body": "have a second look at your domain calculations"}, {"owner": {"reputation": 1983, "user_id": 8676170, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d42975a323a135b9a5721f45c511c45d?s=128&d=identicon&r=PG&f=1", "display_name": "patL", "link": "https://stackoverflow.com/users/8676170/patl"}, "reply_to_user": {"reputation": 11834, "user_id": 9938317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b72fceef5630b6b962624fed6ac9c82?s=128&d=identicon&r=PG&f=1", "display_name": "rioV8", "link": "https://stackoverflow.com/users/9938317/riov8"}, "edited": false, "score": 0, "creation_date": 1543014646, "post_id": 53421526, "comment_id": 93780127, "body": "@rioV8 As I told in the question, I&#39;m learning <code>D3</code> from a month. I am a <code>R</code> programmer and there&#39;re something that I still don&#39;t understand. What is the easiest way to calculate domain?"}], "answers": [{"comments": [{"owner": {"reputation": 1983, "user_id": 8676170, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d42975a323a135b9a5721f45c511c45d?s=128&d=identicon&r=PG&f=1", "display_name": "patL", "link": "https://stackoverflow.com/users/8676170/patl"}, "edited": false, "score": 0, "creation_date": 1543015841, "post_id": 53429048, "comment_id": 93780355, "body": "This is a nice approach! I didn&#39;t know that you could append a div like that. Thank you!"}, {"owner": {"reputation": 13193, "user_id": 5385381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/48SvP.jpg?s=128&g=1", "display_name": "ksav", "link": "https://stackoverflow.com/users/5385381/ksav"}, "reply_to_user": {"reputation": 1983, "user_id": 8676170, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d42975a323a135b9a5721f45c511c45d?s=128&d=identicon&r=PG&f=1", "display_name": "patL", "link": "https://stackoverflow.com/users/8676170/patl"}, "edited": false, "score": 0, "creation_date": 1543057442, "post_id": 53429048, "comment_id": 93786875, "body": "In your code you are appending regular html &lt;select&gt; tags as controls. So It makes sense that you could be able to do something similar for the legend."}, {"owner": {"reputation": 1983, "user_id": 8676170, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d42975a323a135b9a5721f45c511c45d?s=128&d=identicon&r=PG&f=1", "display_name": "patL", "link": "https://stackoverflow.com/users/8676170/patl"}, "edited": false, "score": 0, "creation_date": 1543099538, "post_id": 53429048, "comment_id": 93797373, "body": "Thank you @ksav. I&#39;m still learning <code>D3</code> and html... It helped me a lot! ;) No I have to figure out a way to use <code>.on</code> and &quot;click&quot; to hide and show my data."}], "tags": [], "owner": {"reputation": 13193, "user_id": 5385381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/48SvP.jpg?s=128&g=1", "display_name": "ksav", "link": "https://stackoverflow.com/users/5385381/ksav"}, "is_accepted": true, "score": 1, "last_activity_date": 1543069630, "last_edit_date": 1543069630, "creation_date": 1542883083, "answer_id": 53429048, "question_id": 53421526, "link": "https://stackoverflow.com/questions/53421526/d3-js-legend-overlapping-chart-area/53429048#53429048", "title": "d3.js legend overlapping chart area", "body": "<p>Why not just render your legend as HTML and use CSS to help with layout?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>d3.csv('https://gist.githubusercontent.com/netj/8836201/raw/6f9306ad21398ea43cba4f7d537619d0e07d5ae3/iris.csv', function(data) {\r\n  // CSV section\r\n  var body = d3.select('body')\r\n  var selectData = [{\r\n      \"text\": \"sepal.length\"\r\n    },\r\n    {\r\n      \"text\": \"sepal.width\"\r\n    },\r\n    {\r\n      \"text\": \"petal.length\"\r\n    },\r\n    {\r\n      \"text\": \"petal.width\"\r\n    },\r\n  ]\r\n\r\n  // setup fill color\r\n  var colors = ['#575757', '#5FB1B9', '#C94257'];\r\n\r\n  var symbol = d3.svg.symbol()\r\n    .type('circle')\r\n    .size(\"160\")\r\n\r\n  var cValue = function(d) {\r\n      return d.variety;\r\n    },\r\n    color = d3.scale.ordinal()\r\n    .range(colors);\r\n\r\n  var controls = body.append('div').attr('class', 'controls')\r\n\r\n\r\n  // Select Y-axis Variable\r\n  var yControls = controls.append('div')\r\n  var span = yControls.append('span')\r\n    .text('Select Y-Axis variable: ')\r\n  var yInput = yControls.append('select')\r\n    .attr('id', 'ySelect')\r\n    .on('change', yChange)\r\n    .selectAll('option')\r\n    .data(selectData)\r\n    .enter()\r\n    .append('option')\r\n    .attr('value', function(d) {\r\n      return d.text\r\n    })\r\n    .text(function(d) {\r\n      return d.text;\r\n    })\r\n\r\n\r\n\r\n  // Select X-axis Variable\r\n  var xControls = controls.append('div')\r\n  var span = xControls.append('span')\r\n    .text('Select X-Axis variable: ')\r\n  var yInput = xControls.append('select')\r\n    .attr('id', 'xSelect')\r\n    .on('change', xChange)\r\n    .selectAll('option')\r\n    .data(selectData)\r\n    .enter()\r\n    .append('option')\r\n    .attr('value', function(d) {\r\n      return d.text\r\n    })\r\n    .text(function(d) {\r\n      return d.text;\r\n    })\r\n\r\n\r\n  // Variables\r\n  var body = d3.select('body')\r\n  var margin = {\r\n    top: 50,\r\n    right: 50,\r\n    bottom: 50,\r\n    left: 50\r\n  }\r\n  var h = 500 - margin.top - margin.bottom\r\n  var w = 500 - margin.left - margin.right\r\n\r\n  var xScale = d3.scale.linear()\r\n    .domain([\r\n      d3.min([0, d3.min(data, function(d) {\r\n        return d['sepal.length']\r\n      })]),\r\n      d3.max([0, d3.max(data, function(d) {\r\n        return d['sepal.length']\r\n      })])\r\n    ])\r\n    .range([0, w])\r\n  var yScale = d3.scale.linear()\r\n    .domain([\r\n      d3.min([0, d3.min(data, function(d) {\r\n        return d['sepal.length']\r\n      })]),\r\n      d3.max([0, d3.max(data, function(d) {\r\n        return d['sepal.length']\r\n      })])\r\n    ])\r\n    .range([h, 0])\r\n\r\n  // SVG\r\n  var svgContainer = body.append('div').attr('class', 'svg-container')\r\n\r\n  var svg = svgContainer.append('svg')\r\n    .attr('height', h + margin.top + margin.bottom)\r\n    .attr('width', w + margin.left + margin.right)\r\n    .append('g')\r\n    .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')\r\n\r\n  // X-axis\r\n  var xAxis = d3.svg.axis()\r\n    .scale(xScale)\r\n    // .tickFormat(formatPercent)\r\n    .ticks(6)\r\n    .outerTickSize(0)\r\n    .tickSize(0)\r\n\r\n    .orient('bottom')\r\n\r\n  // Y-axis\r\n  var yAxis = d3.svg.axis()\r\n    .scale(yScale)\r\n    // .tickFormat(formatPercent)\r\n    .ticks(6)\r\n    .tickSize(-w)\r\n    .outerTickSize(0)\r\n    .orient('left')\r\n\r\n  // Circles\r\n  var circles = svg.selectAll('circle')\r\n    .data(data)\r\n    .enter()\r\n    .append('circle')\r\n    .attr('cx', function(d) {\r\n      return xScale(d['sepal.length'])\r\n    })\r\n    .attr('cy', function(d) {\r\n      return yScale(d['sepal.length'])\r\n    })\r\n    .attr('r', '10')\r\n    // .attr('stroke', 'black')\r\n    .attr('stroke-width', 0.2)\r\n    .attr(\"fill\", function(d) {\r\n      return color(cValue(d));\r\n    })\r\n    .attr('fill-opacity', 0.8)\r\n    // .attr('fill', function(d, i) {\r\n    //   return colorScale(i)\r\n    // })\r\n    .on('mouseover', function() {\r\n      d3.select(this)\r\n        .transition()\r\n        .duration(300)\r\n        .ease('elastic')\r\n        .attr('r', 15)\r\n        .attr('stroke-width', 1)\r\n        .attr('fill-opacity', 1)\r\n\r\n    })\r\n    .on('mouseout', function() {\r\n      d3.select(this)\r\n        .transition()\r\n        .duration(100)\r\n        .attr('r', 10)\r\n        .attr('stroke-width', 0.5)\r\n    })\r\n    .append('title') // Tooltip\r\n    .text(function(d) {\r\n      return d.variety +\r\n        '\\nSepal Length: ' + d['sepal.length'] +\r\n        '\\nSepal Width: ' + d['sepal.width'] +\r\n        '\\nPetal Length: ' + d['petal.length'] +\r\n        '\\nPetal Width: ' + d['petal.width']\r\n    })\r\n\r\n  // X-axis\r\n  svg.append('g')\r\n    .attr('class', 'axis')\r\n    .attr('id', 'xAxis')\r\n    .attr('transform', 'translate(0,' + h + ')')\r\n    .call(xAxis)\r\n    .append('text') // X-axis Label\r\n    .attr('id', 'xAxisLabel')\r\n    .attr('y', -25)\r\n    .attr('x', w)\r\n    .attr('dy', '.71em')\r\n    .style('text-anchor', 'end')\r\n    .text('Sepal Length')\r\n\r\n  // labels distance from xaxis\r\n  svg.selectAll(\".axis text\")\r\n    .attr(\"dy\", 15);\r\n\r\n  // Y-axis\r\n  svg.append('g')\r\n    .attr('class', 'axis')\r\n    .attr('id', 'yAxis')\r\n    .call(yAxis)\r\n    .append('text') // y-axis Label\r\n    .attr('id', 'yAxisLabel')\r\n    .attr('transform', 'rotate(-90)')\r\n    .attr('x', 0)\r\n    .attr('y', 5)\r\n    .attr('dy', '.71em')\r\n    .style('text-anchor', 'end')\r\n    .text('Sepal Length')\r\n\r\n  function yChange() {\r\n    var value = this.value // get the new y value\r\n    yScale // change the yScale\r\n      .domain([\r\n        d3.min([0, d3.min(data, function(d) {\r\n          return d[value]\r\n        })]),\r\n        d3.max([0, d3.max(data, function(d) {\r\n          return d[value]\r\n        })])\r\n      ])\r\n    yAxis.scale(yScale) // change the yScale\r\n    d3.select('#yAxis') // redraw the yAxis\r\n      .transition().duration(500)\r\n      .call(yAxis)\r\n    d3.select('#yAxisLabel') // change the yAxisLabel\r\n      .text(value)\r\n    d3.selectAll('circle') // move the circles\r\n      .transition().duration(500)\r\n      .delay(function(d, i) {\r\n        return i * 10\r\n      })\r\n      .attr('cy', function(d) {\r\n        return yScale(d[value])\r\n      })\r\n  }\r\n\r\n  function xChange() {\r\n    var value = this.value // get the new x value\r\n    xScale // change the xScale\r\n      .domain([\r\n        d3.min([0, d3.min(data, function(d) {\r\n          return d[value]\r\n        })]),\r\n        d3.max([0, d3.max(data, function(d) {\r\n          return d[value]\r\n        })])\r\n      ])\r\n    xAxis.scale(xScale) // change the xScale\r\n    d3.select('#xAxis') // redraw the xAxis\r\n      .transition().duration(500)\r\n      .call(xAxis)\r\n    d3.select('#xAxisLabel') // change the xAxisLabel\r\n      .transition().duration(500)\r\n      .text(value)\r\n    d3.selectAll('circle') // move the circles\r\n      .transition().duration(500)\r\n      .delay(function(d, i) {\r\n        return i * 10\r\n      })\r\n      .attr('cx', function(d) {\r\n        return xScale(d[value])\r\n      })\r\n  }\r\n\r\n  // create legend\r\n  var legendContainer = body.append('div')\r\n    .attr('class', 'legend-container')\r\n\r\n  var legend = legendContainer.selectAll(\".legend\")\r\n    .data(color.domain())\r\n    .enter().append(\"div\")\r\n    .attr(\"class\", \"legend\")\r\n\r\n  // draw legend colored rectangles\r\n  legend.append(\"span\")\r\n    .attr(\"class\", \"legend-color\")\r\n    .style(\"background-color\", color);\r\n\r\n  // draw legend text\r\n  legend.append(\"span\")\r\n    .text(function(d) {\r\n      return d;\r\n    })\r\n\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  font-size: 16px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.controls {\r\n  flex: 1 1 100%;\r\n}\r\n\r\n.legend-container {\r\n  align-items: center;\r\n  flex: 0 1 auto;\r\n  align-self: center;\r\n  margin: 0 auto;\r\n}\r\n\r\ncircle:hover {\r\n  fill: orange;\r\n}\r\n\r\n.axis text {\r\n  font-size: 13px;\r\n}\r\n\r\n.axis path,\r\n.axis line {\r\n  fill: none;\r\n  stroke: #000;\r\n  shape-rendering: crispEdges;\r\n  stroke-width: 0.02px;\r\n}\r\n\r\nlabel {\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n}\r\n\r\n.legend {\r\n  margin-bottom: 0.5em;\r\n}\r\n\r\n.legend-color {\r\n  width: 20px;\r\n  height: 20px;\r\n  display: inline-block;\r\n  border-radius: 50%;\r\n  vertical-align: middle;\r\n  margin-right: 1em;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/3.4.10/d3.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;body&gt;&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>With this approach you end up with a structure like this:</p>\n\n<pre><code>body\n  .controls\n  .svg-container\n    svg\n  .legend-container\n</code></pre>\n\n<p>which can make responsive layouts especially easy with CSS.</p>\n"}], "owner": {"reputation": 1983, "user_id": 8676170, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d42975a323a135b9a5721f45c511c45d?s=128&d=identicon&r=PG&f=1", "display_name": "patL", "link": "https://stackoverflow.com/users/8676170/patl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 919, "favorite_count": 0, "accepted_answer_id": 53429048, "answer_count": 1, "score": 1, "last_activity_date": 1543069630, "creation_date": 1542840609, "last_edit_date": 1542881040, "question_id": 53421526, "link": "https://stackoverflow.com/questions/53421526/d3-js-legend-overlapping-chart-area", "title": "d3.js legend overlapping chart area", "body": "<p>I'm pretty new to <code>D3.js</code> (I'm a <code>R</code> programmer).</p>\n\n<p>I'm trying to create a scatter and put a legend in the right bottom. However, it's overlapping with chart area.</p>\n\n<p>I've been trying to take some examples in internet with no lucky.\nWhen I try to move it to the right, the names and/or symbols are not visible.</p>\n\n<p>I want to place the legend outside the chart frame, so it won't overlap.</p>\n\n<p>Any help is appreciated.</p>\n\n<p>Here's what I tried so far:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>d3.csv('https://gist.githubusercontent.com/netj/8836201/raw/6f9306ad21398ea43cba4f7d537619d0e07d5ae3/iris.csv', function(data) {\r\n  // CSV section\r\n  var body = d3.select('body')\r\n  var selectData = [{\r\n      \"text\": \"sepal.length\"\r\n    },\r\n    {\r\n      \"text\": \"sepal.width\"\r\n    },\r\n    {\r\n      \"text\": \"petal.length\"\r\n    },\r\n    {\r\n      \"text\": \"petal.width\"\r\n    },\r\n  ]\r\n\r\n  // setup fill color\r\n  var colors = ['#575757', '#5FB1B9', '#C94257'];\r\n\r\n  var symbol = d3.svg.symbol()\r\n    .type('circle')\r\n    .size(\"160\")\r\n\r\n  var cValue = function(d) {\r\n      return d.variety;\r\n    },\r\n    color = d3.scale.ordinal()\r\n    .range(colors);\r\n\r\n  // Select Y-axis Variable\r\n  var span = body.append('span')\r\n    .text('Select Y-Axis variable: ')\r\n  var yInput = body.append('select')\r\n    .attr('id', 'ySelect')\r\n    .on('change', yChange)\r\n    .selectAll('option')\r\n    .data(selectData)\r\n    .enter()\r\n    .append('option')\r\n    .attr('value', function(d) {\r\n      return d.text\r\n    })\r\n    .text(function(d) {\r\n      return d.text;\r\n    })\r\n  body.append('br')\r\n\r\n\r\n  // Select X-axis Variable\r\n  var span = body.append('span')\r\n    .text('Select X-Axis variable: ')\r\n  var yInput = body.append('select')\r\n    .attr('id', 'xSelect')\r\n    .on('change', xChange)\r\n    .selectAll('option')\r\n    .data(selectData)\r\n    .enter()\r\n    .append('option')\r\n    .attr('value', function(d) {\r\n      return d.text\r\n    })\r\n    .text(function(d) {\r\n      return d.text;\r\n    })\r\n  body.append('br')\r\n\r\n\r\n  // Variables\r\n  var body = d3.select('body')\r\n  var margin = {\r\n    top: 50,\r\n    right: 50,\r\n    bottom: 50,\r\n    left: 50\r\n  }\r\n  var h = 500 - margin.top - margin.bottom\r\n  var w = 500 - margin.left - margin.right\r\n  // var formatPercent = d3.format('.2%')\r\n  // Scales\r\n  // var colorScale = d3.scale.category20()\r\n  var xScale = d3.scale.linear()\r\n    .domain([\r\n      d3.min([0, d3.min(data, function(d) {\r\n        return d['sepal.length']\r\n      })]),\r\n      d3.max([0, d3.max(data, function(d) {\r\n        return d['sepal.length']\r\n      })])\r\n    ])\r\n    .range([0, w])\r\n  var yScale = d3.scale.linear()\r\n    .domain([\r\n      d3.min([0, d3.min(data, function(d) {\r\n        return d['sepal.length']\r\n      })]),\r\n      d3.max([0, d3.max(data, function(d) {\r\n        return d['sepal.length']\r\n      })])\r\n    ])\r\n    .range([h, 0])\r\n\r\n  // SVG\r\n  var svg = body.append('svg')\r\n    .attr('height', h + margin.top + margin.bottom)\r\n    .attr('width', w + margin.left + margin.right)\r\n    .append('g')\r\n    .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')\r\n\r\n  // X-axis\r\n  var xAxis = d3.svg.axis()\r\n    .scale(xScale)\r\n    // .tickFormat(formatPercent)\r\n    .ticks(6)\r\n    .outerTickSize(0)\r\n    .tickSize(0)\r\n\r\n    .orient('bottom')\r\n\r\n  // Y-axis\r\n  var yAxis = d3.svg.axis()\r\n    .scale(yScale)\r\n    // .tickFormat(formatPercent)\r\n    .ticks(6)\r\n    .tickSize(-w)\r\n    .outerTickSize(0)\r\n    .orient('left')\r\n\r\n  // Circles\r\n  var circles = svg.selectAll('circle')\r\n    .data(data)\r\n    .enter()\r\n    .append('circle')\r\n    .attr('cx', function(d) {\r\n      return xScale(d['sepal.length'])\r\n    })\r\n    .attr('cy', function(d) {\r\n      return yScale(d['sepal.length'])\r\n    })\r\n    .attr('r', '10')\r\n    // .attr('stroke', 'black')\r\n    .attr('stroke-width', 0.2)\r\n    .attr(\"fill\", function(d) {\r\n      return color(cValue(d));\r\n    })\r\n    .attr('fill-opacity', 0.8)\r\n    // .attr('fill', function(d, i) {\r\n    //   return colorScale(i)\r\n    // })\r\n    .on('mouseover', function() {\r\n      d3.select(this)\r\n        .transition()\r\n        .duration(300)\r\n        .ease('elastic')\r\n        .attr('r', 15)\r\n        .attr('stroke-width', 1)\r\n        .attr('fill-opacity', 1)\r\n\r\n    })\r\n    .on('mouseout', function() {\r\n      d3.select(this)\r\n        .transition()\r\n        .duration(100)\r\n        .attr('r', 10)\r\n        .attr('stroke-width', 0.5)\r\n    })\r\n    .append('title') // Tooltip\r\n    .text(function(d) {\r\n      return d.variety +\r\n        '\\nSepal Length: ' + d['sepal.length'] +\r\n        '\\nSepal Width: ' + d['sepal.width'] +\r\n        '\\nPetal Length: ' + d['petal.length'] +\r\n        '\\nPetal Width: ' + d['petal.width']\r\n    })\r\n\r\n  // X-axis\r\n  svg.append('g')\r\n    .attr('class', 'axis')\r\n    .attr('id', 'xAxis')\r\n    .attr('transform', 'translate(0,' + h + ')')\r\n    .call(xAxis)\r\n    .append('text') // X-axis Label\r\n    .attr('id', 'xAxisLabel')\r\n    .attr('y', -25)\r\n    .attr('x', w)\r\n    .attr('dy', '.71em')\r\n    .style('text-anchor', 'end')\r\n    .text('Sepal Length')\r\n\r\n  // labels distance from xaxis\r\n  svg.selectAll(\".axis text\")\r\n    .attr(\"dy\", 15);\r\n\r\n  // Y-axis\r\n  svg.append('g')\r\n    .attr('class', 'axis')\r\n    .attr('id', 'yAxis')\r\n    .call(yAxis)\r\n    .append('text') // y-axis Label\r\n    .attr('id', 'yAxisLabel')\r\n    .attr('transform', 'rotate(-90)')\r\n    .attr('x', 0)\r\n    .attr('y', 5)\r\n    .attr('dy', '.71em')\r\n    .style('text-anchor', 'end')\r\n    .text('Sepal Length')\r\n\r\n  function yChange() {\r\n    var value = this.value // get the new y value\r\n    yScale // change the yScale\r\n      .domain([\r\n        d3.min([0, d3.min(data, function(d) {\r\n          return d[value]\r\n        })]),\r\n        d3.max([0, d3.max(data, function(d) {\r\n          return d[value]\r\n        })])\r\n      ])\r\n    yAxis.scale(yScale) // change the yScale\r\n    d3.select('#yAxis') // redraw the yAxis\r\n      .transition().duration(500)\r\n      .call(yAxis)\r\n    d3.select('#yAxisLabel') // change the yAxisLabel\r\n      .text(value)\r\n    d3.selectAll('circle') // move the circles\r\n      .transition().duration(500)\r\n      .delay(function(d, i) {\r\n        return i * 10\r\n      })\r\n      .attr('cy', function(d) {\r\n        return yScale(d[value])\r\n      })\r\n  }\r\n\r\n  function xChange() {\r\n    var value = this.value // get the new x value\r\n    xScale // change the xScale\r\n      .domain([\r\n        d3.min([0, d3.min(data, function(d) {\r\n          return d[value]\r\n        })]),\r\n        d3.max([0, d3.max(data, function(d) {\r\n          return d[value]\r\n        })])\r\n      ])\r\n    xAxis.scale(xScale) // change the xScale\r\n    d3.select('#xAxis') // redraw the xAxis\r\n      .transition().duration(500)\r\n      .call(xAxis)\r\n    d3.select('#xAxisLabel') // change the xAxisLabel\r\n      .transition().duration(500)\r\n      .text(value)\r\n    d3.selectAll('circle') // move the circles\r\n      .transition().duration(500)\r\n      .delay(function(d, i) {\r\n        return i * 10\r\n      })\r\n      .attr('cx', function(d) {\r\n        return xScale(d[value])\r\n      })\r\n  }\r\n\r\n  // create legend\r\n  var legend = svg.selectAll(\".legend\")\r\n    .data(color.domain())\r\n    .enter().append(\"g\")\r\n    .attr(\"class\", \"legend\")\r\n    .attr(\"transform\", function(d, i) {\r\n      return \"translate(0,\" + i * 25 + \")\";\r\n    });\r\n\r\n  // draw legend colored rectangles\r\n  legend.append(\"path\")\r\n    .attr('d', symbol)\r\n    .attr(\"transform\", \"translate(434, 313)\") //much easier approach to position the symbols\r\n    // .attr(\"x\", w + 34)\r\n    // .attr(\"y\", h - 97)\r\n    // .attr(\"width\", 18)\r\n    // .attr(\"height\", 18)\r\n    .style(\"fill\", color);\r\n\r\n  // draw legend text\r\n  legend.append(\"text\")\r\n    .attr(\"transform\", \"translate(422, 311)\")\r\n    // .attr(\"x\", w + 24)\r\n    // .attr(\"y\", h - 89)\r\n    .attr(\"dy\", \".35em\")\r\n    .style(\"text-anchor\", \"end\")\r\n    .text(function(d) {\r\n      return d;\r\n    })\r\n\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  font-size: 16px;\r\n}\r\n\r\n\r\n/*\r\n      circle {\r\n        fill: steelblue;\r\n      } */\r\n\r\ncircle:hover {\r\n  fill: orange;\r\n}\r\n\r\n.axis text {\r\n  font-size: 13px;\r\n  /* font-weight: bold; */\r\n}\r\n\r\n.axis path,\r\n.axis line {\r\n  fill: none;\r\n  stroke: #000;\r\n  shape-rendering: crispEdges;\r\n  stroke-width: 0.02px;\r\n}\r\n\r\n\r\n/* .circle {\r\n        fill: orange;\r\n      } */\r\n\r\nlabel {\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/3.4.10/d3.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;body&gt;&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "angular", "typescript", "youtube-api"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 1, "creation_date": 1542842728, "post_id": 53421500, "comment_id": 93718132, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/20279484/how-to-access-the-correct-this-inside-a-callback\">How to access the correct `this` inside a callback?</a>"}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1542842835, "post_id": 53421500, "comment_id": 93718170, "body": "Define the callbacks as arrow functions: (1) <code>window[&#39;onYouTubeIframeAPIReady&#39;] = () =&gt; { ... }</code>, (2) <code>private onPlayerStateChange = (event) =&gt; { ...; this.currentTime = time; ... }</code>, (3) and set <code>onStateChange: this.onPlayerStateChange</code> (and do (2) and (3) for <code>onPlayerReady</code> also)."}, {"owner": {"reputation": 534, "user_id": 6683120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/d54Aq.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/6683120/robert"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1542846136, "post_id": 53421500, "comment_id": 93719083, "body": "@ConnorsFan thanks, i readed the other question and it&#39;s work! but seems not to understand why i need the strange timeout to get the data updated on screen"}], "owner": {"reputation": 534, "user_id": 6683120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/d54Aq.jpg?s=128&g=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/6683120/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542846114, "creation_date": 1542840454, "last_edit_date": 1542846114, "question_id": 53421500, "link": "https://stackoverflow.com/questions/53421500/variable-scope-cant-access-the-value", "title": "Variable scope, can&#39;t access the value", "body": "<p>I can't assign the current time to my variable 'currentTime', any idea how to get a workaround to let the variable get che current time of the video? it's seem a classic problem about scope variable, but i can't get a solution, any tips? thanks !</p>\n\n<pre><code> import {Component, OnInit} from '@angular/core';\n\n\n@Component({\n  selector: 'app-player',\n  templateUrl: './player.component.html',\n  styleUrls: ['./player.component.css']\n})\nexport class PlayerComponent implements OnInit {\n\n  currentTime = 0;\n\n  ngOnInit() {\n\n    let player;\n    let myTimer;\n\n\n    window['onYouTubeIframeAPIReady'] = function () {\n      player = new window['YT'].Player('video', {\n        events: {\n          'onReady': onPlayerReady,\n          'onStateChange': onPlayerReady\n        }\n      });\n    };\n\n    function onPlayerReady(event) {\n      event.target.playVideo();\n    }\n\n    function onPlayerStateChange(event) {\n        if (event.data === 1) { // playing\n          myTimer = setInterval(() =&gt; {\n            const time = player.getCurrentTime();\n            console.log(time); // I want to set the currentTime declared on top equal to player.getCurrentTime();\n          }, 100);\n        } else { // not playing\n          clearInterval(myTimer);\n        }\n    }\n\n    if (!window['YT']) {\n      const tag = document.createElement('script');\n      tag.src = '//www.youtube.com/player_api';\n      const firstScriptTag = document.getElementsByTagName('script')[0];\n      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n    }\n  }\n\n\n  constructor() {\n\n  }\n}\n</code></pre>\n\n<p>Thanks for all your responses, it's ended by me doing the classic this trick but after reading : <a href=\"https://stackoverflow.com/questions/20279484/how-to-access-the-correct-this-inside-a-callback\">How to access the correct `this` inside a callback?</a>, It's ended using the bind function.\nThe weird part of that code is that without the 'checkCurrentTime' interval the currentTime is not updated on html layout, definetly don't understand why. </p>\n\n<pre><code>import {AfterViewInit, Component, ElementRef, OnInit, ViewChild} from '@angular/core';\n\n\n@Component({\n  selector: 'app-player',\n  templateUrl: './player.component.html',\n  styleUrls: ['./player.component.css']\n})\nexport class PlayerComponent implements OnInit, AfterViewInit {\n\n  tempoAttuale = 0;\n\n  ngAfterViewInit() {\n\n\n    let player;\n    let myTimer;\n\n    window['onYouTubeIframeAPIReady'] = function () {\n      player = new window['YT'].Player('video', {\n        events: {\n          'onReady': onPlayerReady,\n          'onStateChange': onPlayerStateChange\n        }\n      });\n    };\n\n    function onPlayerReady(event) {\n      event.target.playVideo();\n    }\n\n    const tis = this;\n    function onPlayerStateChange(event) {\n      if (event.data === 1) { // playing\n        myTimer = setInterval(() =&gt; {\n          const time = player.getCurrentTime();\n          tis.tempoAttuale = time;\n        }, 100);\n      } else { // not playing\n        clearInterval(myTimer);\n      }\n    }\n\n    /*\n    I don't know why, but thanks to that the value of 'tempoAttuale' time on html is updated\n     */\n    const checkCurrentTime = setInterval(() =&gt; {\n    }, 100);\n\n\n    if (!window['YT']) {\n      const tag = document.createElement('script');\n      tag.src = '//www.youtube.com/player_api';\n      const firstScriptTag = document.getElementsByTagName('script')[0];\n      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n    }\n  }\n\n  ngOnInit() {\n\n  }\n\n\n  constructor() {\n\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 173187, "user_id": 128165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cdef5bd2099545a776ee86fb8049bdc6?s=128&d=identicon&r=PG", "display_name": "Gabriele Petrioli", "link": "https://stackoverflow.com/users/128165/gabriele-petrioli"}, "edited": false, "score": 1, "creation_date": 1542840966, "post_id": 53421432, "comment_id": 93717555, "body": "Remove the <code>$(&#39;img&#39;).each</code> completely as you are already in the <code>load</code> event which is fired for each image."}, {"owner": {"reputation": 11, "user_id": 10688180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdeceac408b803a5153f946703016f05?s=128&d=identicon&r=PG", "display_name": "moai-kun", "link": "https://stackoverflow.com/users/10688180/moai-kun"}, "reply_to_user": {"reputation": 173187, "user_id": 128165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cdef5bd2099545a776ee86fb8049bdc6?s=128&d=identicon&r=PG", "display_name": "Gabriele Petrioli", "link": "https://stackoverflow.com/users/128165/gabriele-petrioli"}, "edited": false, "score": 0, "creation_date": 1542841173, "post_id": 53421432, "comment_id": 93717617, "body": "Brilliant! That did the trick. Thank you."}], "owner": {"reputation": 11, "user_id": 10688180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdeceac408b803a5153f946703016f05?s=128&d=identicon&r=PG", "display_name": "moai-kun", "link": "https://stackoverflow.com/users/10688180/moai-kun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1542841085, "creation_date": 1542840055, "last_edit_date": 1542841085, "question_id": 53421432, "link": "https://stackoverflow.com/questions/53421432/using-jquery-to-display-text-information-about-multiple-images", "title": "Using jQuery to display text information about multiple images", "body": "<p>I'm creating a self-contained sort of local web app using jQuery that\n1) gets a list of image filenames from the user (assuming the images are all in the same folder as the .html file)\n2) for each image, displays a thumbnail, the image file name, and the image's actual dimensions using image.naturalWidth and image.naturalHeight.</p>\n\n<p>I managed to get it pretty much working the way I want - except that for each image displayed, the accompanying text info gets displayed after its respective the same number of times as the total number of images - i.e., the text is there once if there's a total of one images, twice if there's a total of 2 images, three times if there's 3 images, etc.</p>\n\n<p>I think it has something to do with the use of $('img').each but I can't figure out how to structure it differently or even how to phrase a search for an answer.</p>\n\n<p>I tried doing a JSfiddle but I can't get images to load from any remote servers for some reason. But that's fine for my purposes since I usually want to get a list of image dimensions locally.</p>\n\n<p>The incremental number IDs for each image are sort of a vestigial part of an older version of this, but I'd like to keep it around in case I can think of another use for it - unless that's what's causing the problem.</p>\n\n<p>Web boilerplate included just for context...</p>\n\n<pre><code>    &lt;!doctype html&gt;\n&lt;html class=\"no-js\" lang=\"\"&gt;\n\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;meta http-equiv=\"x-ua-compatible\" content=\"ie=edge\"&gt;\n    &lt;title&gt;&lt;/title&gt;\n    &lt;meta name=\"description\" content=\"\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n    &lt;style&gt;\n    img {\n        width: 250px;\n    }\n\n    .inner {\n        font-size: 12px;\n    }\n    &lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;textarea textarea id=\"image_list\" rows=\"10\" cols=\"70\" /&gt;&lt;/textarea&gt;\n    &lt;input type='button' value='add to list' id='add' /&gt;\n    &lt;table&gt;\n        &lt;div class=\"inner\"&gt;\n            &lt;ul id='list'&gt;&lt;/ul&gt;\n        &lt;/div&gt;\n    &lt;/table&gt;\n    &lt;script src=\"vendor/jquery.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n    $(function() {\n        /* increase ID by 1 for each iteration */\n        var n = 0;\n\n        function increment() {\n            n++;\n            return n;\n        }\n        /* add image thumbnail and dimensions on click */\n\n\n        document.getElementById(\"add\").onclick = function() {\n            var arrayOfLines = $('#image_list').val().split('\\n');\n            $.each(arrayOfLines, function(index, item) {\n\n                var text = arrayOfLines[n];\n                increment();\n                /* var text = arrayOfLines[].value; //.value gets input values */\n\n                //Now construct a quick list element\n                var li = '&lt;li class=\"test\" id=\"' + n + '\"&gt;' + '&lt;img src=\"' + text + '\"&gt;' + '&lt;/li&gt;';\n\n                $('#list').append(li);\n\n            });\n\n            $('img').load(function() {\n                $('img').each(function() {\n                    var image = this;\n                    var theWidth = image.naturalWidth;\n                    var theHeight = image.naturalHeight;\n\n                    $(this).parent().append(' - ' + $(this).attr(\"src\") + ' - ' + theWidth + 'x' + theHeight + ' ');\n                });\n            });\n        };\n\n\n    });\n    &lt;/script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 1785, "user_id": 6284581, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/IrC6b.png?s=128&g=1", "display_name": "Axis", "link": "https://stackoverflow.com/users/6284581/axis"}, "is_accepted": true, "score": 0, "last_activity_date": 1542851705, "creation_date": 1542851705, "answer_id": 53422852, "question_id": 53421422, "link": "https://stackoverflow.com/questions/53421422/react-js-stop-looping-background-video/53422852#53422852", "title": "React js stop looping background video", "body": "<p>I figure out and might someone have the same problem.</p>\n\n<p>use <strong>autoPlay loop muted</strong> so;</p>\n\n<pre><code>&lt;video className='VideoTag' autoPlay loop muted&gt;\n      &lt;source src={BackVideo} type='video/mp4'/&gt;\n&lt;/video&gt;\n</code></pre>\n"}], "owner": {"reputation": 1785, "user_id": 6284581, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/IrC6b.png?s=128&g=1", "display_name": "Axis", "link": "https://stackoverflow.com/users/6284581/axis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1367, "favorite_count": 0, "accepted_answer_id": 53422852, "answer_count": 1, "score": 0, "last_activity_date": 1542851705, "creation_date": 1542839970, "last_edit_date": 1542847751, "question_id": 53421422, "link": "https://stackoverflow.com/questions/53421422/react-js-stop-looping-background-video", "title": "React js stop looping background video", "body": "<p>I am trying to make a page with looping background video with <code>React js</code>.</p>\n\n<p>When I compile the code I can see the video is playing straight away on the browser but when I click the link of website, the video is not playing. I should click the <code>Home</code> button in the page and starts again.</p>\n\n<p>I used </p>\n\n<pre><code>&lt;video src={BackVideo} autoplay=\"true\" loop=\"true\"&gt;\n</code></pre>\n\n<p>I could not use :</p>\n\n<p><code>react-native-video</code></p>\n\n<p>library because I got an error when I import the library in the code.</p>\n\n<p>Also I have one more problem that the video is not playing in <code>Safari</code> at all.</p>\n\n<p>Can someone help me please.</p>\n\n<p>Here is my part of <code>Javascript</code> file</p>\n\n<pre><code>render() {\n    return (\n      &lt;div&gt;\n        &lt;div className=\"bgded overlay\"&gt;\n        {/* Menu, call the menu component with the ChangeViewButtonClick function recieved from Dashbaord */}\n          &lt;Menu ChangeViewButtonClick={this.props.ChangeViewButtonClick} /&gt;\n\n        &lt;/div&gt;\n\n        &lt;header className=\"v-header container\"&gt;\n\n      &lt;div class=\"fullscreen-video-wrap\"&gt;\n\n        &lt;video src={BackVideo} autoplay=\"true\" loop=\"true\"&gt; &lt;/video&gt;\n\n    &lt;/div&gt;\n    &lt;div className=\"header-overlay\"&gt;&lt;/div&gt;\n    &lt;div className=\"header-content\"&gt;\n\n       &lt;article&gt;\n              &lt;h1 className=\"heading\"&gt;Something&lt;/h1&gt;\n              &lt;h2 className=\"heading\"&gt;something too&lt;/h2&gt;\n\n\n\n            &lt;/article&gt;\n\n    &lt;/div&gt;\n       &lt;/header&gt;\n\n        {/* Start of Overview */}\n        &lt;div className=\"wrapper row3\"&gt;\n          &lt;main className=\"hoc container clear\"&gt;\n            &lt;article className=\"two_third first\"&gt;\n              &lt;h4 className=\"font-x2 font-x3\"&gt;\n                Lorem ipsum dolor sit, amet consectetur adipisicing elit. \n                Exercitationem, nihil.\n              &lt;/h4&gt;\n\n\n            &lt;/article&gt;\n\n          &lt;/main&gt;\n        &lt;/div&gt;\n        {/* End of Overview */}\n      &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "rest", "unit-testing", "jasmine", "axios"], "answers": [{"tags": [], "owner": {"reputation": 385, "user_id": 10670087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NTWeL.png?s=128&g=1", "display_name": "freepowder", "link": "https://stackoverflow.com/users/10670087/freepowder"}, "is_accepted": false, "score": 0, "last_activity_date": 1543060396, "creation_date": 1543060396, "answer_id": 53457863, "question_id": 53421411, "link": "https://stackoverflow.com/questions/53421411/rest-api-testing-with-jasmine-and-axios/53457863#53457863", "title": "rest api testing with jasmine and axios", "body": "<p>You can maybe try to place done() inside the promise. </p>\n\n<pre><code> describe('api exists', () =&gt; {\n\n it('GET /info should return 200 response', (done) =&gt; {\n   axios.get(\"https://somesite.com/info\")\n    .then((response) =&gt; {\n      console.log(response); \n      expect(response.statusCode).toBe(200); \n      done();\n    })\n });\n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 1, "user_id": 4765740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b98c9b4f158fb47a53dd05bf1ade56f3?s=128&d=identicon&r=PG&f=1", "display_name": "RajMyTaj", "link": "https://stackoverflow.com/users/4765740/rajmytaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 714, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543060396, "creation_date": 1542839897, "question_id": 53421411, "link": "https://stackoverflow.com/questions/53421411/rest-api-testing-with-jasmine-and-axios", "title": "rest api testing with jasmine and axios", "body": "<p><a href=\"https://blog.kuldeepkamboj.com/node-rest-api-testing-with-jasmine/\" rel=\"nofollow noreferrer\">https://blog.kuldeepkamboj.com/node-rest-api-testing-with-jasmine/</a>\nI'm already familiar with the above writing unit tests using the request package.</p>\n\n<p>Currently attempting to write unit tests using Axios <a href=\"https://www.npmjs.com/package/axios\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/axios</a>.</p>\n\n<p>There is no failure when running the spec, but I'm confident that my code is failing silently and its not actually checking the statuscode. The console.log(response) does not print anything either. </p>\n\n<p>How can I fix this testcase and was there a better way to debug this? </p>\n\n<pre><code>describe('api exists', () =&gt; {\n\nit('GET /info should return 200 response', (done) =&gt; {\n    axios.get(\"https://somesite.com/info\")\n    .then((response) =&gt; {\n        //console.log(response); &lt;-- does not print out anything \n        expect(response.statusCode).toBe(200); \n    })\n    done();\n});\n</code></pre>\n"}, {"tags": ["javascript", "php", "jquery", "html", "mysql"], "comments": [{"owner": {"reputation": 16863, "user_id": 1767412, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/25izH.png?s=128&g=1", "display_name": "billynoah", "link": "https://stackoverflow.com/users/1767412/billynoah"}, "edited": false, "score": 1, "creation_date": 1542845314, "post_id": 53421405, "comment_id": 93718887, "body": "if you want to do something to your database based on client side interaction, you need to either submit a form or send an ajax request. one way or another, the server needs to know what happened and update/insert rows accordingly"}, {"owner": {"reputation": 16863, "user_id": 1767412, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/25izH.png?s=128&g=1", "display_name": "billynoah", "link": "https://stackoverflow.com/users/1767412/billynoah"}, "edited": false, "score": 1, "creation_date": 1542845458, "post_id": 53421405, "comment_id": 93718922, "body": "also, this is way too much information - we don&#39;t really need to know I was able to do this and I was able to do that \u2013 this is mostly just seen as noise and decreases the likelihood of someone reading your question all the way through.  Try to edit this question to be a bit more concise about where you hit a wall and what you want to do.  You will get more responses this way."}, {"owner": {"reputation": 21, "user_id": 10688113, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--XrR5z-BrC0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iGZfmcOaN0llgxwBiAUQm6NwUJvA/mo/photo.jpg?sz=128", "display_name": "Moses", "link": "https://stackoverflow.com/users/10688113/moses"}, "reply_to_user": {"reputation": 16863, "user_id": 1767412, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/25izH.png?s=128&g=1", "display_name": "billynoah", "link": "https://stackoverflow.com/users/1767412/billynoah"}, "edited": false, "score": 0, "creation_date": 1542849867, "post_id": 53421405, "comment_id": 93719786, "body": "I&#39;ve edited my post. Upon doing this I figured that JS is processed only after PHP, so running lots of PHP scripts on a single page are all processed at once, even the one within the modal popup which I was assuming will be run after the popup pops."}, {"owner": {"reputation": 16863, "user_id": 1767412, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/25izH.png?s=128&g=1", "display_name": "billynoah", "link": "https://stackoverflow.com/users/1767412/billynoah"}, "edited": false, "score": 0, "creation_date": 1542851998, "post_id": 53421405, "comment_id": 93720211, "body": "as I said, to interact with your database based on clicks, you need ajax.  the basic idea is, (1) set up an event that triggers an ajax request on a click event, (2) receive the request on your server, run a query and return either html to display or a json to parse, (3) render the data on your page in the success() callback"}], "owner": {"reputation": 21, "user_id": 10688113, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--XrR5z-BrC0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iGZfmcOaN0llgxwBiAUQm6NwUJvA/mo/photo.jpg?sz=128", "display_name": "Moses", "link": "https://stackoverflow.com/users/10688113/moses"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1542847230, "creation_date": 1542839861, "last_edit_date": 1542847230, "question_id": 53421405, "link": "https://stackoverflow.com/questions/53421405/mysql-select-with-same-id-from-a-table-based-on-row-click-js-of-a-previous-t", "title": "MySQL SELECT * with same ID from a table based on row click (js) of a previous table with that ID", "body": "<p>I have three tables: <strong>learners</strong>, <strong>sessions</strong> and <strong>enrollments</strong>. Please see relationships image bellow:</p>\n\n<p><a href=\"https://i.stack.imgur.com/iI6vU.png\" rel=\"nofollow noreferrer\">Relationships Image</a></p>\n\n<p>Now to explain how I've set this up: I'm using DataTables for sessions, on record click of a session I get a popup with all its record details - I have used something like the below. Plus a further note on this, I'm not using Ajax, only <strong>html</strong>, <strong>php</strong>, <strong>mysql</strong> and <strong>js</strong> to interact with the database:</p>\n\n<p><strong>Script:</strong></p>\n\n<pre><code>$('#table_id tbody').on('click', 'tr', function () {    \n    var data = dataTable.row( this ).data();\n    modal.style.display = \"block\";\n    $('#Course').html(data[1]);\n    $('#Begin').html(data[2]);\n    $('#End').html(data[3]);\n    $('#Location').html(data[4]);\n    $('#Trainer').html(data[5]);\n    $('#Type').html(data[6]);\n});\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;!--Fetch session prints here--&gt;\n&lt;p id=\"Course\"&gt;&lt;span id=\"Course\"&gt;&lt;/p&gt;\n&lt;p id=\"sess_desc\"&gt;\n     &lt;b&gt;Offered: &lt;/b&gt;&lt;span id=\"Begin\"&gt;&lt;/span&gt; to &lt;span id=\"End\"&gt;&lt;/span&gt;&lt;br /&gt;\n     &lt;b&gt;Location: &lt;/b&gt;&lt;span id=\"Location\"&gt;&lt;/span&gt;&lt;br /&gt;\n     &lt;b&gt;Trainer: &lt;/b&gt;&lt;span id=\"Trainer\"&gt;&lt;/span&gt;&lt;br /&gt;\n     &lt;b&gt;Training Type: &lt;/b&gt;&lt;span id=\"Type\"&gt;&lt;/span&gt;\n&lt;/p&gt;\n</code></pre>\n\n<p>See here: <a href=\"https://i.stack.imgur.com/kYlGH.png\" rel=\"nofollow noreferrer\">Popup Image</a></p>\n\n<p>I'd like to know how to display enrolled learners from the clicked session table. I'm unable to create an SQL query based on the js \"click\" event of this row, which would allow me to display all enrolments based on clicked rows ID.</p>\n\n<p>I've tried this but it doesn't work for me as I'm unable to structure my query based on the clicked session record:</p>\n\n<pre><code>                            &lt;div id=\"modal_showlearners\"&gt;\n                            &lt;p&gt;Learners enrolled in this session:&lt;/p&gt;\n                            &lt;form action=\"#\" method=\"post\"&gt;\n                                &lt;?php\n                                    $result = mysqli_query($con, \"SELECT * FROM enrolments WHERE SessionID = sessions.\" . $row['ID'] . \"\") or die (mysqli_error());\n                                    while ( $row=mysqli_fetch_assoc($result)) {\n                                        echo $row['SessionID'] . \" \" . $row['LearnerID'] . \" \" . $row['FirstName'] . \"&lt;br /&gt;\";\n                                    }\n\n                                ?&gt;\n                            &lt;/form&gt;\n                        &lt;/div&gt;\n</code></pre>\n\n<p>Hope I've given enough information, I've been struggling with this for over 2 weeks now. Any help would be appreciated, thanks.</p>\n"}, {"tags": ["javascript", "node.js"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "edited": false, "score": 0, "creation_date": 1542840137, "post_id": 53421424, "comment_id": 93717306, "body": "probably a good idea to make a note on the comma operator, or explain that in the comments here. Oh just kidding, that&#39;s not a comma operator."}, {"owner": {"reputation": 6256, "user_id": 9507270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHaNG.jpg?s=128&g=1", "display_name": "Sebastian Speitel", "link": "https://stackoverflow.com/users/9507270/sebastian-speitel"}, "edited": false, "score": 0, "creation_date": 1542840169, "post_id": 53421424, "comment_id": 93717318, "body": "What do you mean by comma operator?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "edited": false, "score": 0, "creation_date": 1542840196, "post_id": 53421424, "comment_id": 93717323, "body": "I misread your code, but this is the comma op: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comma_Operator\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "edited": false, "score": 0, "creation_date": 1542840477, "post_id": 53421424, "comment_id": 93717404, "body": "It&#39;s unclear to me whether you liked the OP or not? :)"}, {"owner": {"reputation": 6256, "user_id": 9507270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHaNG.jpg?s=128&g=1", "display_name": "Sebastian Speitel", "link": "https://stackoverflow.com/users/9507270/sebastian-speitel"}, "edited": false, "score": 0, "creation_date": 1542840708, "post_id": 53421424, "comment_id": 93717471, "body": "Why shouldn&#39;t I?"}, {"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 1, "creation_date": 1542840725, "post_id": 53421424, "comment_id": 93717478, "body": "This is probably the best answer possible. I&#39;m just miffed that I never thought of iterating over a string like this, and especially in a way that works with a <code>const</code> string. Nice answer!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "edited": false, "score": 0, "creation_date": 1542840753, "post_id": 53421424, "comment_id": 93717487, "body": "@SebastianSpeitel idk maybe think about it a little harder"}, {"owner": {"reputation": 6256, "user_id": 9507270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHaNG.jpg?s=128&g=1", "display_name": "Sebastian Speitel", "link": "https://stackoverflow.com/users/9507270/sebastian-speitel"}, "edited": false, "score": 0, "creation_date": 1542840852, "post_id": 53421424, "comment_id": 93717523, "body": "@MrCholo You sad you can&#39;t use template strings maybe you can&#39;t use any es6?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "edited": false, "score": 0, "creation_date": 1542840942, "post_id": 53421424, "comment_id": 93717550, "body": "@SebastianSpeitel your answer is perfect but there is one thing missing"}, {"owner": {"reputation": 6256, "user_id": 9507270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHaNG.jpg?s=128&g=1", "display_name": "Sebastian Speitel", "link": "https://stackoverflow.com/users/9507270/sebastian-speitel"}, "edited": false, "score": 0, "creation_date": 1542840970, "post_id": 53421424, "comment_id": 93717557, "body": "Using <code>%s</code> as the key?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "edited": false, "score": 0, "creation_date": 1542840981, "post_id": 53421424, "comment_id": 93717562, "body": "Nope, like I said your answer is perfect"}, {"owner": {"reputation": 6256, "user_id": 9507270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHaNG.jpg?s=128&g=1", "display_name": "Sebastian Speitel", "link": "https://stackoverflow.com/users/9507270/sebastian-speitel"}, "edited": false, "score": 0, "creation_date": 1542841137, "post_id": 53421424, "comment_id": 93717603, "body": "Sorry, I don&#39;t get it"}, {"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1542841380, "post_id": 53421424, "comment_id": 93717699, "body": "It seems to me as though he had everything you wanted @MrCholo - no idea what you&#39;re referring to."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "edited": false, "score": 0, "creation_date": 1542841872, "post_id": 53421424, "comment_id": 93717859, "body": "I created a well-formatted question for which you received 4+ upvotes, common courtesy suggests returning the favor - here is another related question if you want to continue your conquests: <a href=\"https://stackoverflow.com/questions/53421730/reduce-nested-array-to-formatted-string\" title=\"reduce nested array to formatted string\">stackoverflow.com/questions/53421730/&hellip;</a>"}], "tags": [], "owner": {"reputation": 6256, "user_id": 9507270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHaNG.jpg?s=128&g=1", "display_name": "Sebastian Speitel", "link": "https://stackoverflow.com/users/9507270/sebastian-speitel"}, "is_accepted": true, "score": 3, "last_activity_date": 1542840689, "last_edit_date": 1542840689, "creation_date": 1542840002, "answer_id": 53421424, "question_id": 53421388, "link": "https://stackoverflow.com/questions/53421388/create-string-template-and-replace-with-contents-of-array/53421424#53421424", "title": "Create string template and replace with contents of array", "body": "<p>The smallest way is probably using a combination of <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"nofollow noreferrer\"><code>reduce</code></a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace\" rel=\"nofollow noreferrer\"><code>replace</code></a>.</p>\n\n<p>Replace only replaces the first found position and reduce makes it easy to iterate over the given replacements.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const m = 'Map&lt;?,?&gt;';\r\n\r\nconst types = ['string', 'boolean'];\r\n\r\nconst n = types.reduce((n, t) =&gt; n.replace('?', t), m);\r\nconsole.log(n);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Or to formalize it into a function:</p>\n\n<pre><code>function format(str, key, replacements){\n    return replacements.reduce((s, t) =&gt; s.replace(k, t), str);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14499, "user_id": 3589092, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/7ROkk.jpg?s=128&g=1", "display_name": "kemicofa ghost", "link": "https://stackoverflow.com/users/3589092/kemicofa-ghost"}, "is_accepted": false, "score": 0, "last_activity_date": 1542882468, "last_edit_date": 1542882468, "creation_date": 1542840179, "answer_id": 53421453, "question_id": 53421388, "link": "https://stackoverflow.com/questions/53421388/create-string-template-and-replace-with-contents-of-array/53421453#53421453", "title": "Create string template and replace with contents of array", "body": "<p>You only need one <code>?</code>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const types = ['string', 'boolean'];\r\n\r\nconsole.log('Map&lt;?&gt;'.split('?').join(types))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>or</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const types = ['string', 'boolean'];\r\n\r\nconsole.log('Map&lt;?&gt;'.replace('?', types))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>or if you wished to keep <code>?,?</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const types = ['string', 'boolean'];\r\n\r\nconsole.log('Map&lt;?,?&gt;'.replace('?,?', types))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 1, "creation_date": 1542841297, "post_id": 53421564, "comment_id": 93717671, "body": "Interesting answer! That is one <i>weird</i> looking closure"}], "tags": [], "owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "is_accepted": false, "score": 1, "last_activity_date": 1542842141, "last_edit_date": 1542842141, "creation_date": 1542840798, "answer_id": 53421564, "question_id": 53421388, "link": "https://stackoverflow.com/questions/53421388/create-string-template-and-replace-with-contents-of-array/53421564#53421564", "title": "Create string template and replace with contents of array", "body": "<p>You can also use <code>replace()</code> directly with a little fancy closure work to capture the index (which sadly isn't passed to the replace callback function):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const m = 'Map&lt;?,?&gt;';\r\nconst types = ['string', 'boolean'];\r\n\r\nlet rep = m.replace(/\\?/g, ((i) =&gt; () =&gt; types[i++])(0)) // i is simple a count of matches starting at 0\r\nconsole.log(rep)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If the immediately-executed function is too weird, you can wrap the whole thing as a simple function that's a little easier on the eyes:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const m = 'Map&lt;?,?&gt;';\r\nconst types = ['string', 'boolean'];\r\n\r\nfunction replaceMatch(str, arr){\r\n    let i = 0\r\n    return str.replace(/\\?/g, () =&gt; arr[i++])\r\n}\r\n\r\nconsole.log(replaceMatch(m, types))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5047085"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 53421424, "answer_count": 3, "score": 0, "last_activity_date": 1542882468, "creation_date": 1542839746, "question_id": 53421388, "link": "https://stackoverflow.com/questions/53421388/create-string-template-and-replace-with-contents-of-array", "title": "Create string template and replace with contents of array", "body": "<p>Say I have a string like so:</p>\n\n<pre><code>const m = 'Map&lt;?,?&gt;';\n</code></pre>\n\n<p>and an array like so:</p>\n\n<pre><code>const types = ['string', 'boolean'];\n</code></pre>\n\n<p>and I am looking to generate:</p>\n\n<pre><code>const r = 'Map&lt;string,boolean&gt;'\n</code></pre>\n\n<p>how can I do that? <strong>Note</strong> that I don't need to use a question mark in the template string, I can use a different character, maybe like this:</p>\n\n<pre><code>const m = 'Map&lt;%s,%s&gt;';\n</code></pre>\n\n<p>Also please <strong>note</strong> that I <em>cannot use ES6 template strings</em> of this nature <code>${}</code> because my template is not wrapped in a function.</p>\n\n<p>I believe this will work in Node.js:</p>\n\n<pre><code>util.format(m, ...types);\n</code></pre>\n\n<p>but I guess what I am looking for is a way to use a question mark character (?) instead of using %s.</p>\n"}, {"tags": ["javascript", "html", "url"], "comments": [{"owner": {"reputation": 340, "user_id": 10460106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/294413d313a6d070b4f1776ab806f87e?s=128&d=identicon&r=PG&f=1", "display_name": "LDS", "link": "https://stackoverflow.com/users/10460106/lds"}, "edited": false, "score": 0, "creation_date": 1542866245, "post_id": 53421380, "comment_id": 93723574, "body": "your code is looking good .But check the url may not provide a static image"}, {"owner": {"reputation": 1, "user_id": 10688202, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-O4_FQ8PubnU/AAAAAAAAAAI/AAAAAAAAPYY/WzB6yRgQWaM/photo.jpg?sz=128", "display_name": "Matt", "link": "https://stackoverflow.com/users/10688202/matt"}, "reply_to_user": {"reputation": 340, "user_id": 10460106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/294413d313a6d070b4f1776ab806f87e?s=128&d=identicon&r=PG&f=1", "display_name": "LDS", "link": "https://stackoverflow.com/users/10460106/lds"}, "edited": false, "score": 0, "creation_date": 1542897055, "post_id": 53421380, "comment_id": 93739987, "body": "Thanks...If I paste the url in a browser its an active video. Currently I have 2 streams copied 3 times each as a test in a table and they play and display with out problem. I&#39;ve used a few different strict html methods to open in new tab or just open straight and it works. Once I try to parse and recombine with the js something breaks."}, {"owner": {"reputation": 1, "user_id": 10688202, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-O4_FQ8PubnU/AAAAAAAAAAI/AAAAAAAAPYY/WzB6yRgQWaM/photo.jpg?sz=128", "display_name": "Matt", "link": "https://stackoverflow.com/users/10688202/matt"}, "reply_to_user": {"reputation": 340, "user_id": 10460106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/294413d313a6d070b4f1776ab806f87e?s=128&d=identicon&r=PG&f=1", "display_name": "LDS", "link": "https://stackoverflow.com/users/10460106/lds"}, "edited": false, "score": 0, "creation_date": 1542897539, "post_id": 53421380, "comment_id": 93740237, "body": "It looks like somethings wrong with my request.getparameter call. In chrome there are developer tools there&#39;s three different urls showing when its stepping through the code. After the var1=1 there&#39;s &quot;:11&quot;, &quot;:16&quot;, &quot;:18&quot; and the request.getparameter errors with &quot;uncaught referenceerror:request not defined&quot; hmmm...and it changes on refreshes. One if for urlname, load and onload.  and okay I just realized those are line numbers. rip."}], "owner": {"reputation": 1, "user_id": 10688202, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-O4_FQ8PubnU/AAAAAAAAAAI/AAAAAAAAPYY/WzB6yRgQWaM/photo.jpg?sz=128", "display_name": "Matt", "link": "https://stackoverflow.com/users/10688202/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542839714, "creation_date": 1542839714, "question_id": 53421380, "link": "https://stackoverflow.com/questions/53421380/java-script-to-create-dynamic-url-in-img", "title": "Java Script to create dynamic URL in img", "body": "<p>I've searched and tried many similar question/answer combinations on here. The only difference I can see is I'm trying to present an IP camera video feed and not an img. </p>\n\n<p>I have an existing and working page that takes various IP camera feeds and presents them in a grid that you can load in any webpage (chrome in this case). I want to add a hyper link to each one so that when you click it it opens a web page with a fullscreen version of the feed. Here is an example of one of the hyperlink and img..note these work. :) - </p>\n\n<p>myurl = 10.0.0.200:9080/zm/cgi-bin/nph-zms?scale=100&amp;mode=jpeg&amp;maxfps=30&amp;monitor=1&amp;buffer=500</p>\n\n<pre><code>&lt;a href=\"http://myurl\" target=\"_blank\"&gt;\n    &lt;img src=\"myurl\"&gt;&lt;/a&gt;\n</code></pre>\n\n<p>The goal is to open this page on a raspberry pi with 7\" touch screen and since the raspberry pi doesn't support gesture well, when you full screen the web page (F11) there's no way to go back or close the tab that is open. To solve this I want to open the href in a new page, dynamically pass the value after \"monitor=\" and have a button in that page the close the tab when you're done viewing. </p>\n\n<p>I got the button to work but can't get the feed to load. To confirm the url works I just don't know how to dynamically create it properly and then show it. Any help would be greatly appreciated. </p>\n\n<p>This is the current piece of code on the montage making the call</p>\n\n<pre><code>&lt;a href=\"./cameraclick3.html?var1=1\" target=\"_blank\"&gt;\n    &lt;img src=\"http://10.0.0.200:9080/zm/cgi-bin/nph-zms?scale=30&amp;mode=jpeg&amp;maxfps=30&amp;monitor=1&amp;buffer=500\"&gt;&lt;/a&gt;\n</code></pre>\n\n<p>The code for cameraclick3.html is:</p>\n\n<pre><code>&lt;head&gt;\n    &lt;link rel=\"shortcut icon\" href=\"/cctv.ico\" /&gt;\n    &lt;title&gt;CCTV&lt;/title&gt;\n&lt;script&gt;\nfunction load()\n{\n    document.getElementById('image').src = urlname();\n}\nfunction urlname()\n{\n    var mon = request.getParameter(\"var1\");\n    var urlname1 = \"http://10.0.0.200:9080/zm/cgi-bin/nph-zms?scale=30&amp;mode=jpeg&amp;maxfps=30&amp;monitor=\" + mon + \"&amp;buffer=500\";\n    return urlname1;\n}   \n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body bgcolor=\"black\" onload=\"load()\"&gt;\n\n&lt;button type=\"button\" onclick=\"javascript:window.close()\"&gt;Discard&lt;/button&gt;\n&lt;img src=\"\" id=\"image\"/&gt;\n\n&lt;/body&gt;\n</code></pre>\n"}, {"tags": ["javascript", "mongodb", "mongoose"], "comments": [{"owner": {"reputation": 129250, "user_id": 2313887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/259593de18972d36e25f230c2be19d9f?s=128&d=identicon&r=PG", "display_name": "Neil Lunn", "link": "https://stackoverflow.com/users/2313887/neil-lunn"}, "edited": false, "score": 0, "creation_date": 1542854638, "post_id": 53421368, "comment_id": 93720783, "body": "Don&#39;t separate the find and update, there&#39;s a single method for that. There&#39;s also <a href=\"https://docs.mongodb.com/manual/reference/operator/update/inc/\" rel=\"nofollow noreferrer\"><code>$inc</code></a> which increments atomically. Not to mention use <a href=\"https://stackoverflow.com/a/4293047/2313887\">JSON.stringify</a> to avoid the <code>[object Object]</code> thing."}, {"owner": {"reputation": 119, "user_id": 3720200, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c1bdafe218864764dcffa52b8ec74ba0?s=128&d=identicon&r=PG&f=1", "display_name": "mcplums", "link": "https://stackoverflow.com/users/3720200/mcplums"}, "reply_to_user": {"reputation": 129250, "user_id": 2313887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/259593de18972d36e25f230c2be19d9f?s=128&d=identicon&r=PG", "display_name": "Neil Lunn", "link": "https://stackoverflow.com/users/2313887/neil-lunn"}, "edited": false, "score": 0, "creation_date": 1542898654, "post_id": 53421368, "comment_id": 93740850, "body": "Thanks I&#39;ve updated to use the $inc!"}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 3720200, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c1bdafe218864764dcffa52b8ec74ba0?s=128&d=identicon&r=PG&f=1", "display_name": "mcplums", "link": "https://stackoverflow.com/users/3720200/mcplums"}, "edited": false, "score": 0, "creation_date": 1542898620, "post_id": 53421458, "comment_id": 93740828, "body": "Dude this is super helpful, thank you so much. Yes I have no understanding at all of the async nature of javascript. I will get learning!"}], "tags": [], "owner": {"reputation": 1982, "user_id": 3170151, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/38207faa73f40f487c7e7b5da9617a76?s=128&d=identicon&r=PG&f=1", "display_name": "iagowp", "link": "https://stackoverflow.com/users/3170151/iagowp"}, "is_accepted": true, "score": 0, "last_activity_date": 1542900069, "last_edit_date": 1542900069, "creation_date": 1542840200, "answer_id": 53421458, "question_id": 53421368, "link": "https://stackoverflow.com/questions/53421368/mongodb-update-set-only-works-every-other-time-function-is-called-and-returns/53421458#53421458", "title": "Mongodb update/$set only works every other time function is called- and returns [object Object]", "body": "<p>You're having a problem with async code.</p>\n\n<p>You are increasing current count after your database has responded, but you send the set query before you have incremented the response</p>\n\n<p>Also, you dont need to query it twice, you can get the result from the findOne, change it and save</p>\n\n<pre><code>function saveUserReview(review) {\n    var query = { 'filmId': review._filmId.toNumber() }\n\n    collections.ReviewModel.findOne(query, function(err, result) {\n        if (err) throw err;\n        result.userReviewCount++;\n        // could also be result.set(userReviewCount, result.userReviewCount + 1)\n        result.save();\n\n    });\n}\n</code></pre>\n\n<p>I recommend reading about the async nature of javascript</p>\n\n<p>Also, the reason you can't debug, is you are adding an object to a string so it transforms the object to a string [Object object] and prints it. The right way would be <code>console.log(\"Result of update:\", res);</code> or make two different <code>console.log</code></p>\n"}], "owner": {"reputation": 119, "user_id": 3720200, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c1bdafe218864764dcffa52b8ec74ba0?s=128&d=identicon&r=PG&f=1", "display_name": "mcplums", "link": "https://stackoverflow.com/users/3720200/mcplums"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "closed_date": 1542854480, "accepted_answer_id": 53421458, "answer_count": 1, "score": 0, "last_activity_date": 1542900069, "creation_date": 1542839575, "question_id": 53421368, "link": "https://stackoverflow.com/questions/53421368/mongodb-update-set-only-works-every-other-time-function-is-called-and-returns", "closed_reason": "Duplicate", "title": "Mongodb update/$set only works every other time function is called- and returns [object Object]", "body": "<p>I have a movie review website. I have two collections in my mongo db, one for my movie reviews, and one for reviews submitted by users. </p>\n\n<p>Whenever a user submits their own review, I want to increment the variable userReviewCount within the collection of my reviews.</p>\n\n<p>I'm using mongoose and running everything within javascript:</p>\n\n<pre><code>function saveUserReview(review) {\n\ncollections.ReviewModel.findOne(\n    { 'filmId': review._filmId.toNumber() }, \n    function(err, result) {\n        if (err) throw err;\n        currentCount = result.userReviewCount;\n        currentCount++;\n    });\n\ncollections.ReviewModel.update(\n    { 'filmId': review._filmId.toNumber() }, \n    { $set: { \"userReviewCount\": currentCount } }, \n    function(err, res) {\n        if (err) throw err;\n        console.log(\"Result of update:\" + res);\n    });  \n</code></pre>\n\n<p>So this function is called whenever a user submits a review. First, it uses findOne to find my review by its Id, and fetches the current value of userReviewCount. Then, it increments this by 1, and adds it back to the collection. </p>\n\n<p>But what is super weird, is that the $set thing only seems to work every other time I call the function. The first time I call it the variable userReviewCount stays at 0, the second time I call it it goes to 1, the third time it stays at 1, the fourth time it goes to 2 and so forth. I cannot get my head around why it is operating like this. To debug I outputed the res to the console, but the result is always \"Result of update:[object Object]\" Which gives me no information. </p>\n\n<p>Does anyone have any ideas how I can debug this? I've thought of everything. </p>\n"}, {"tags": ["javascript", "discord.js"], "comments": [{"owner": {"reputation": 2912, "user_id": 3081206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaKOY.jpg?s=128&g=1", "display_name": "takendarkk", "link": "https://stackoverflow.com/users/3081206/takendarkk"}, "edited": false, "score": 1, "creation_date": 1542839957, "post_id": 53421365, "comment_id": 93717261, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/10398931/how-to-remove-text-from-a-string-in-javascript\">How to remove text from a string in JavaScript?</a>"}, {"owner": {"reputation": 1, "user_id": 10688222, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cscAnWEZQFc/AAAAAAAAAAI/AAAAAAAAATs/jo2dhBM1QIM/photo.jpg?sz=128", "display_name": "The Light Blue Gamer", "link": "https://stackoverflow.com/users/10688222/the-light-blue-gamer"}, "reply_to_user": {"reputation": 2912, "user_id": 3081206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaKOY.jpg?s=128&g=1", "display_name": "takendarkk", "link": "https://stackoverflow.com/users/3081206/takendarkk"}, "edited": false, "score": 0, "creation_date": 1542841959, "post_id": 53421365, "comment_id": 93717892, "body": "It didnt really fix the problem with that i had to change alot of the coding in the replace but it was easy to do i just had a problem finding what the code was i didnt find that link when i originally searched for it thanks for mentioning it"}], "answers": [{"tags": [], "owner": {"reputation": 3141, "user_id": 5793873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/meUde.jpg?s=128&g=1", "display_name": "T. Dirks", "link": "https://stackoverflow.com/users/5793873/t-dirks"}, "is_accepted": false, "score": 0, "last_activity_date": 1542898030, "creation_date": 1542898030, "answer_id": 53433413, "question_id": 53421365, "link": "https://stackoverflow.com/questions/53421365/how-do-i-make-so-it-only-sends-a-part-of-the-message-discord-js/53433413#53433413", "title": "How do i make so it only sends a part of the message? discord.js", "body": "<p>A possibility is to split the message on every space (' '), removing the first element (which is always the command), and recombining the string array.</p>\n\n<p><strong>Example:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let message = \"!suggest add a goodbye command\"\r\nconst args = message.trim().split(' ');\r\nargs.shift();\r\nconsole.log(args.join(' '));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 24, "user_id": 15750405, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/81681eb5c036291a05b2eb1066d347bd?s=128&d=identicon&r=PG", "display_name": "MrMythical", "link": "https://stackoverflow.com/users/15750405/mrmythical"}, "is_accepted": false, "score": 0, "last_activity_date": 1619280673, "creation_date": 1619280673, "answer_id": 67244869, "question_id": 53421365, "link": "https://stackoverflow.com/questions/53421365/how-do-i-make-so-it-only-sends-a-part-of-the-message-discord-js/67244869#67244869", "title": "How do i make so it only sends a part of the message? discord.js", "body": "<pre><code>client.on('message', msg =&gt; {\nif(msg.content.startsWith('!suggest')) {\nlet message = msg.content.split(&quot; &quot;);\nconst suggestion = message[1];\nclient.channels.get('514917785248202773').send(message.author.tag+&quot; \nsuggested &quot; + suggestion)\n}\n}\n</code></pre>\n<p>this makes 'message' an array</p>\n"}], "owner": {"reputation": 1, "user_id": 10688222, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cscAnWEZQFc/AAAAAAAAAAI/AAAAAAAAATs/jo2dhBM1QIM/photo.jpg?sz=128", "display_name": "The Light Blue Gamer", "link": "https://stackoverflow.com/users/10688222/the-light-blue-gamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 384, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1619280673, "creation_date": 1542839571, "last_edit_date": 1619277341, "question_id": 53421365, "link": "https://stackoverflow.com/questions/53421365/how-do-i-make-so-it-only-sends-a-part-of-the-message-discord-js", "title": "How do i make so it only sends a part of the message? discord.js", "body": "<p>I got a problem here where i cant find out how i make so it will remove the !suggest in the message thats gonna be sent im trying to make it so when someone uses !suggest {suggestion} in the specific channel a message will be sent in the #suggestions channel ive got the specific channel up i just want to remove so instead of the bot saying \"@user#1234 have suggested !suggest add a goodbye command\" it will only say \"@user#1234 have suggested: add a goodbye command\" basically just removing !suggest heres the code its JavaScript</p>\n\n<pre><code>//Suggestions\nclient.on(\"message\", message =&gt; {\nif (message.content.startsWith(\"!suggest\")){\nreturn client.channels.get('514917785248202773').send(message.author.tag+\" \nsuggested \" + message.content)\n}\n});\n</code></pre>\n\n<p>how would i make it so it removes the !suggest part only? cant find anything on here or internet at all</p>\n"}, {"tags": ["javascript", "node.js", "firebase", "dialogflow-es", "actions-on-google"], "answers": [{"tags": [], "owner": {"reputation": 3325, "user_id": 2472282, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/weiBx.jpg?s=128&g=1", "display_name": "matthewayne", "link": "https://stackoverflow.com/users/2472282/matthewayne"}, "is_accepted": false, "score": 1, "last_activity_date": 1542840866, "creation_date": 1542840866, "answer_id": 53421580, "question_id": 53421333, "link": "https://stackoverflow.com/questions/53421333/can-dialogflow-inline-editor-handle-multiple-different-functions/53421580#53421580", "title": "Can dialogflow inline editor handle multiple different functions?", "body": "<p>There are a few problems with your code.  I'd recommend looking at <a href=\"https://github.com/dialogflow\" rel=\"nofollow noreferrer\">Dialogflow's examples</a> to get an understand of how you should structure your code.  For starters:</p>\n\n<ul>\n<li>In your code you have multiple intent maps and <code>handleRequest</code> method calls. There should only be one intent map and one <code>handleRequest</code> method call per Dialogflow agent.</li>\n<li>You have multiple <code>exports.dialogflowFirebaseFulfillment</code> statements and there should only be one</li>\n</ul>\n\n<p>You may want to <a href=\"https://firebase.google.com/docs/functions/http-events\" rel=\"nofollow noreferrer\">checkout Firebase's functions documentation</a> to get a better understanding of how they work (this is the product powering Dialogflow's inline editor feature.</p>\n"}], "owner": {"reputation": 729, "user_id": 10541940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27b27664e2738f269f925ae0e984ae22?s=128&d=identicon&r=PG&f=1", "display_name": "Landon G", "link": "https://stackoverflow.com/users/10541940/landon-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 584, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1542840866, "creation_date": 1542839347, "question_id": 53421333, "link": "https://stackoverflow.com/questions/53421333/can-dialogflow-inline-editor-handle-multiple-different-functions", "title": "Can dialogflow inline editor handle multiple different functions?", "body": "<p>I'm making a dialogflow agent that that can do the following (through dialogflow fulfillment inline editor) :</p>\n\n<p><strong>1) Change calendar a dates (headed by the function makeappointment)</strong></p>\n\n<p><strong>2) Book a reservation time (headed by the function makeboooking)</strong></p>\n\n<p><strong>3) Change information in the firestore database</strong></p>\n\n<p>(1 and 2 both change events on a Google Calendar, so mechanically speaking they are the same but the intents are different).</p>\n\n<p>The problem I am having is I can't seem to get all three of these functions working at the same time. I can comment out 2 of them and the third will work, or comment the first and the third, and the second function will work ect.</p>\n\n<p>The code is way to long to post on stackoverflow, so i made a github to post to it <a href=\"https://github.com/lando22/dialogflowbot/blob/master/code\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>How can I get all three of these functions working in the fullfilment?</p>\n\n<p>Thanks for your help!</p>\n\n<p><strong>Note</strong>: Lines that have credentials on them have been taken out for security reasons. Please trust me that I have the correct credentials in the code.</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1542839157, "post_id": 53421265, "comment_id": 93717000, "body": "code runs fine above. So what is different? Do you attach anything else to the element? Is jQuery finding the element?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1542839254, "post_id": 53421265, "comment_id": 93717034, "body": "Are you using any other libraries or frameworks in addition to jQuery?"}, {"owner": {"reputation": 1202, "user_id": 5032550, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6MWmL.jpg?s=128&g=1", "display_name": "Luis Cabrera Benito", "link": "https://stackoverflow.com/users/5032550/luis-cabrera-benito"}, "edited": false, "score": 0, "creation_date": 1542839354, "post_id": 53421265, "comment_id": 93717063, "body": "I ran your code and it works fine. Are you waiting for $(document).ready?"}, {"owner": {"reputation": 211, "user_id": 10091982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d76a52c506107f07e77d95a861de69a3?s=128&d=identicon&r=PG&f=1", "display_name": "Hunteerq", "link": "https://stackoverflow.com/users/10091982/hunteerq"}, "edited": false, "score": 0, "creation_date": 1542839417, "post_id": 53421265, "comment_id": 93717083, "body": "Bootstrap, but even without it doesn&#39;t work. $(&quot;#account-number&quot;).ready(function() { console.log(&quot;hello);}); works, so it is just a problem with focusout"}, {"owner": {"reputation": 1202, "user_id": 5032550, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6MWmL.jpg?s=128&g=1", "display_name": "Luis Cabrera Benito", "link": "https://stackoverflow.com/users/5032550/luis-cabrera-benito"}, "edited": false, "score": 0, "creation_date": 1542839540, "post_id": 53421265, "comment_id": 93717121, "body": "You should show us the exact code that you are using"}, {"owner": {"reputation": 211, "user_id": 10091982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d76a52c506107f07e77d95a861de69a3?s=128&d=identicon&r=PG&f=1", "display_name": "Hunteerq", "link": "https://stackoverflow.com/users/10091982/hunteerq"}, "edited": false, "score": 0, "creation_date": 1542839707, "post_id": 53421265, "comment_id": 93717181, "body": "It is super weird, codepen.io invokes jquery function correctly with my whole code, but my firefox browser doesn&#39;t."}, {"owner": {"reputation": 211, "user_id": 10091982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d76a52c506107f07e77d95a861de69a3?s=128&d=identicon&r=PG&f=1", "display_name": "Hunteerq", "link": "https://stackoverflow.com/users/10091982/hunteerq"}, "edited": false, "score": 0, "creation_date": 1542839885, "post_id": 53421265, "comment_id": 93717238, "body": "<a href=\"https://codepen.io/anon/pen/bQLaZy\" rel=\"nofollow noreferrer\">codepen.io/anon/pen/bQLaZy</a> my code, it works on codepen (though styling isn&#39;t perfect)"}, {"owner": {"reputation": 917, "user_id": 7365949, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fafca5759ac06d50277c66b284f2fd77?s=128&d=identicon&r=PG&f=1", "display_name": "ptts", "link": "https://stackoverflow.com/users/7365949/ptts"}, "edited": false, "score": 0, "creation_date": 1542840160, "post_id": 53421265, "comment_id": 93717316, "body": "Did you try $(&quot;#account-number&quot;).blur(function() {   console.log(&quot;number ready&quot;); });"}, {"owner": {"reputation": 211, "user_id": 10091982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d76a52c506107f07e77d95a861de69a3?s=128&d=identicon&r=PG&f=1", "display_name": "Hunteerq", "link": "https://stackoverflow.com/users/10091982/hunteerq"}, "edited": false, "score": 0, "creation_date": 1542840274, "post_id": 53421265, "comment_id": 93717343, "body": "Yes, still no effect."}, {"owner": {"reputation": 917, "user_id": 7365949, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fafca5759ac06d50277c66b284f2fd77?s=128&d=identicon&r=PG&f=1", "display_name": "ptts", "link": "https://stackoverflow.com/users/7365949/ptts"}, "edited": false, "score": 0, "creation_date": 1542840654, "post_id": 53421265, "comment_id": 93717455, "body": "$(document).on(&quot;focusout&quot;,&quot;#account-number&quot;,function(){     alert(&quot;fnumber ready&quot;); });  Try that, and what happens if you try onchange?"}, {"owner": {"reputation": 211, "user_id": 10091982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d76a52c506107f07e77d95a861de69a3?s=128&d=identicon&r=PG&f=1", "display_name": "Hunteerq", "link": "https://stackoverflow.com/users/10091982/hunteerq"}, "edited": false, "score": 0, "creation_date": 1542841015, "post_id": 53421265, "comment_id": 93717571, "body": "Dear God, it works. But why my previous code didn&#39;t work?"}], "answers": [{"tags": [], "owner": {"reputation": 917, "user_id": 7365949, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fafca5759ac06d50277c66b284f2fd77?s=128&d=identicon&r=PG&f=1", "display_name": "ptts", "link": "https://stackoverflow.com/users/7365949/ptts"}, "is_accepted": false, "score": 1, "last_activity_date": 1542842427, "creation_date": 1542842427, "answer_id": 53421811, "question_id": 53421265, "link": "https://stackoverflow.com/questions/53421265/jquery-focusout-doesnt-fire/53421811#53421811", "title": "Jquery focusout doesn&#39;t fire", "body": "<p>Just do the following:</p>\n\n<pre><code>$(document).on(\"focusout\",\"#account-number\",function(){ alert(\"number ready\"); }); \n</code></pre>\n\n<p>Why this is happening? I do not know, but this is what I try when all else fails. I have read that this is actually logical and to be expected on input elements, but I cannot find the resource. </p>\n"}], "owner": {"reputation": 211, "user_id": 10091982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d76a52c506107f07e77d95a861de69a3?s=128&d=identicon&r=PG&f=1", "display_name": "Hunteerq", "link": "https://stackoverflow.com/users/10091982/hunteerq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542842427, "creation_date": 1542838942, "last_edit_date": 1542839219, "question_id": 53421265, "link": "https://stackoverflow.com/questions/53421265/jquery-focusout-doesnt-fire", "title": "Jquery focusout doesn&#39;t fire", "body": "<p>I am trying to invoke method after losing focus, unfortunately my Jquery doesn't invoke .focusout method.</p>\n\n<p>Code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\"#account-number\").focusout(function() {\r\n  console.log(\"number ready\");\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;form class=\"col-sm-8\"&gt;\r\n  &lt;div class=\"form-group\" id=\"number\"&gt;\r\n    &lt;label for=\"exampleFormControlInput1\"&gt;Account number&lt;/label&gt;\r\n    &lt;input type=\"account-number\" class=\"form-control\" id=\"account-number\" placeholder=\"1234 5678 1234 5678\"&gt;\r\n  &lt;/div&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>script is linked properly, other JS functions are working.</p>\n"}, {"tags": ["javascript", "polymer-starter-kit", "polymer-3.x", "lit-element"], "comments": [{"owner": {"reputation": 2292, "user_id": 8412352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzHvQ.jpg?s=128&g=1", "display_name": "pmkro", "link": "https://stackoverflow.com/users/8412352/pmkro"}, "edited": false, "score": 1, "creation_date": 1542838698, "post_id": 53421210, "comment_id": 93716836, "body": "Why not just set <code>this.page = 1</code> in the constructor? Or <code>this.page = store.page</code>?"}, {"owner": {"reputation": 3, "user_id": 7266256, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5j-nrMUq48Y/AAAAAAAAAAI/AAAAAAAAAAo/YQnvMdKP8nI/photo.jpg?sz=128", "display_name": "brackets web", "link": "https://stackoverflow.com/users/7266256/brackets-web"}, "reply_to_user": {"reputation": 2292, "user_id": 8412352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzHvQ.jpg?s=128&g=1", "display_name": "pmkro", "link": "https://stackoverflow.com/users/8412352/pmkro"}, "edited": false, "score": 0, "creation_date": 1542838950, "post_id": 53421210, "comment_id": 93716933, "body": "the point is i try to do the same like redux is doing and so i try to build a dynamic menu so that i have for changes just to edit 1 file and not the view and the controller."}, {"owner": {"reputation": 2292, "user_id": 8412352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzHvQ.jpg?s=128&g=1", "display_name": "pmkro", "link": "https://stackoverflow.com/users/8412352/pmkro"}, "edited": false, "score": 0, "creation_date": 1542839011, "post_id": 53421210, "comment_id": 93716952, "body": "I would just do <code>this.page = store.page</code> in the constructor."}, {"owner": {"reputation": 3, "user_id": 7266256, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5j-nrMUq48Y/AAAAAAAAAAI/AAAAAAAAAAo/YQnvMdKP8nI/photo.jpg?sz=128", "display_name": "brackets web", "link": "https://stackoverflow.com/users/7266256/brackets-web"}, "reply_to_user": {"reputation": 2292, "user_id": 8412352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzHvQ.jpg?s=128&g=1", "display_name": "pmkro", "link": "https://stackoverflow.com/users/8412352/pmkro"}, "edited": false, "score": 0, "creation_date": 1542839649, "post_id": 53421210, "comment_id": 93717153, "body": "yes for the menu it works fine thanks!!! haven&#39;t seen that idea. but this isn&#39;t working for changes between different views, like redux (what my actually target is) is doing."}, {"owner": {"reputation": 2292, "user_id": 8412352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzHvQ.jpg?s=128&g=1", "display_name": "pmkro", "link": "https://stackoverflow.com/users/8412352/pmkro"}, "edited": false, "score": 1, "creation_date": 1542840042, "post_id": 53421210, "comment_id": 93717284, "body": "Ya this isn&#39;t the way to do it if you want changes to <code>store</code> in this view to affect another. In each view they will have their own version of store. You will need to create a higher order component that passes the same reference to both places. Redux stores are (essentially) a function that stores an object and has prescribed methods for interacting with it."}, {"owner": {"reputation": 2292, "user_id": 8412352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzHvQ.jpg?s=128&g=1", "display_name": "pmkro", "link": "https://stackoverflow.com/users/8412352/pmkro"}, "edited": false, "score": 1, "creation_date": 1542840330, "post_id": 53421210, "comment_id": 93717362, "body": "You could also use the Redux helper for litElement found <a href=\"https://github.com/Polymer/pwa-helpers#redux-helpers\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 3, "user_id": 7266256, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5j-nrMUq48Y/AAAAAAAAAAI/AAAAAAAAAAo/YQnvMdKP8nI/photo.jpg?sz=128", "display_name": "brackets web", "link": "https://stackoverflow.com/users/7266256/brackets-web"}, "reply_to_user": {"reputation": 2292, "user_id": 8412352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzHvQ.jpg?s=128&g=1", "display_name": "pmkro", "link": "https://stackoverflow.com/users/8412352/pmkro"}, "edited": false, "score": 0, "creation_date": 1542840467, "post_id": 53421210, "comment_id": 93717401, "body": "yes i saw that coming. so i try my best to get closer to redux to understand redux a bit better. but yes the question above is clear thx !!!"}, {"owner": {"reputation": 3, "user_id": 7266256, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5j-nrMUq48Y/AAAAAAAAAAI/AAAAAAAAAAo/YQnvMdKP8nI/photo.jpg?sz=128", "display_name": "brackets web", "link": "https://stackoverflow.com/users/7266256/brackets-web"}, "reply_to_user": {"reputation": 2292, "user_id": 8412352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzHvQ.jpg?s=128&g=1", "display_name": "pmkro", "link": "https://stackoverflow.com/users/8412352/pmkro"}, "edited": false, "score": 0, "creation_date": 1542840698, "post_id": 53421210, "comment_id": 93717468, "body": "yes, I&#39;ve tried it before and this is the actually goal but i&#39;m not ready enough (by understanding redux under the hood) to implement redux right now."}], "answers": [{"tags": [], "owner": {"reputation": 1509, "user_id": 3227915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44949e9cfd6b2f1d4e87c185612aa217?s=128&d=identicon&r=PG&f=1", "display_name": "daKmoR", "link": "https://stackoverflow.com/users/3227915/dakmor"}, "is_accepted": false, "score": 0, "last_activity_date": 1570099414, "creation_date": 1570099414, "answer_id": 58217449, "question_id": 53421210, "link": "https://stackoverflow.com/questions/53421210/lit-elements-external-js-file-as-storage-changed-by-a-property-data-binding/58217449#58217449", "title": "Lit-Elements external js file as storage changed by a property data binding", "body": "<p>To quote dracco</p>\n\n<blockquote>\n  <p>Actually it's not about JS, every objective language can have a collection structure, but modifying the collection does not modify the object.\n  Comparing in JS means comparing references (it would be impossible to make a universal and fast content comparison), so pushing things to an array keeps the reference the same (as it is still the same instance of an Array class) - just the contents change.\n  Similarly in class Person { constructor() { this.isBanned = false; } }, if you create a new instance (const p = new Person();) and then modify the property (p.isBanned = true;), it is still the same instance it was before, just the property differs.</p>\n</blockquote>\n\n<p>You can read the full story at <a href=\"https://open-wc.org/faq/rerender.html\" rel=\"nofollow noreferrer\">https://open-wc.org/faq/rerender.html</a></p>\n\n<p>In the object reference for the external store never changes and therefore no render is triggered.</p>\n\n<h2>What you can do</h2>\n\n<h3>Trigger it manually</h3>\n\n<p>with something like this</p>\n\n<pre><code>changePage() {\n  store.page = 1;\n  this.requestUpdate();\n}\n</code></pre>\n\n<h3>Use a state library</h3>\n\n<p>For example</p>\n\n<ul>\n<li><a href=\"https://github.com/adobe/lit-mobx\" rel=\"nofollow noreferrer\">https://github.com/adobe/lit-mobx</a></li>\n<li><a href=\"https://www.npmjs.com/package/lit-robot\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/lit-robot</a></li>\n<li>...</li>\n</ul>\n\n<p>they, of course, all come with their own set of rules and know how.</p>\n"}], "owner": {"reputation": 3, "user_id": 7266256, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5j-nrMUq48Y/AAAAAAAAAAI/AAAAAAAAAAo/YQnvMdKP8nI/photo.jpg?sz=128", "display_name": "brackets web", "link": "https://stackoverflow.com/users/7266256/brackets-web"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 362, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570099414, "creation_date": 1542838589, "question_id": 53421210, "link": "https://stackoverflow.com/questions/53421210/lit-elements-external-js-file-as-storage-changed-by-a-property-data-binding", "title": "Lit-Elements external js file as storage changed by a property data binding", "body": "<p>i try to use in lit-elements a external js file for init values but if i do so, it isnt changebel anymore via property binding. if i write it without the extanal storage file just use this. scope and declare it in the constructor, everything works fine. But as an external file not ... ?:/</p>\n\n<p>but why?</p>\n\n<p>i have two files menu.js:</p>\n\n<pre><code>import { LitElement, html } from '@polymer/lit-element';\nimport '@polymer/iron-pages/iron-pages.js';\nimport './main.js'\nimport { store } from './store'\n\nclass MenuElement extends LitElement {\n\n  constructor() {\n    super()\n    this.page = 0;\n    this.ninjas = ['Ninja1', 'Ninja2', 'Ninja3']\n    this.log()\n  }\n  static get properties() {\n    return {\n      page: {\n        type: Number\n      },\n      header: String,\n      ninjas: Array,\n      store: {\n        type: Object,\n        page: {\n          type: Number\n        }\n      }\n    }\n  }\n\n  render() {\n    return html`\n      &lt;style&gt;\n        /* :host {\n          border: solid 10px blue;\n        } */\n        ::slotted(h3) {\n          border: solid 1px red\n        }\n      &lt;/style&gt;\n      &lt;div&gt;\n        &lt;ul&gt;\n          &lt;li @click=\"${ (e) =&gt; { this.changePage2(e) } }\"&gt;Home&lt;/li&gt;\n          &lt;li @click=\"${ (e) =&gt; { this.changePage(e) } }\"&gt;Page&lt;/li&gt;\n        &lt;/ul&gt;\n        &lt;ul&gt;\n          ${this.ninjas.map(i =&gt; html`&lt;li&gt;${i}&lt;/li&gt;`)}\n        &lt;/ul&gt;\n      &lt;/div&gt;\n\n      &lt;iron-pages selected=\"${ store.page }\"&gt;\n        &lt;slot name=\"lala\"&gt;&lt;/slot&gt;\n        &lt;div&gt;&lt;slot name=\"testSlot\"&gt;&lt;/slot&gt; Page 0&lt;/div&gt;\n        &lt;main-view&gt;&lt;/main-view&gt;\n      &lt;/iron-pages&gt;\n\n    `;\n  }\n\n  changePage() {\n    store.page = 1;\n    console.log(store.page)\n  }\n  changePage2() {\n    store.page = 0;\n    console.log(store.page)\n  }\n  log() {\n    console.log(store)\n    console.log(store.page)\n  }\n}\ncustomElements.define('app-menu', MenuElement);\n</code></pre>\n\n<p>and b store.js</p>\n\n<pre><code>export let store = {\n  page: 1\n}\n</code></pre>\n\n<p>thank You for any ideas =)</p>\n"}, {"tags": ["javascript", "vue.js", "vuejs2", "vue-component"], "comments": [{"owner": {"reputation": 40556, "user_id": 8172857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1BNQ.png?s=128&g=1", "display_name": "Boussadjra Brahim", "link": "https://stackoverflow.com/users/8172857/boussadjra-brahim"}, "edited": false, "score": 0, "creation_date": 1542839869, "post_id": 53421207, "comment_id": 93717232, "body": "what&#39;s your use case?"}, {"owner": {"reputation": 899, "user_id": 4158987, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/14b1d92ab438758ba8dc8082ffa796ec?s=128&d=identicon&r=PG&f=1", "display_name": "Mountain", "link": "https://stackoverflow.com/users/4158987/mountain"}, "reply_to_user": {"reputation": 40556, "user_id": 8172857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1BNQ.png?s=128&g=1", "display_name": "Boussadjra Brahim", "link": "https://stackoverflow.com/users/8172857/boussadjra-brahim"}, "edited": false, "score": 0, "creation_date": 1542840176, "post_id": 53421207, "comment_id": 93717320, "body": "The intention is to handle routing with the navigation. The buttons of the navigation differ from page to page. For some buttons it&#39;s necessary to handle a fixed routing path but for others it&#39;s just intended to go one step back in the routing history which should be done by a simple method."}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1542840475, "post_id": 53421207, "comment_id": 93717402, "body": "What is meant to trigger the method execution?"}, {"owner": {"reputation": 40556, "user_id": 8172857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1BNQ.png?s=128&g=1", "display_name": "Boussadjra Brahim", "link": "https://stackoverflow.com/users/8172857/boussadjra-brahim"}, "edited": false, "score": 0, "creation_date": 1542896280, "post_id": 53421207, "comment_id": 93739531, "body": "did you try to emit events from child component to the parent component and do what you want in the parent?"}], "answers": [{"comments": [{"owner": {"reputation": 1548, "user_id": 3233770, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/ayPN6.png?s=128&g=1", "display_name": "John Halsey", "link": "https://stackoverflow.com/users/3233770/john-halsey"}, "edited": false, "score": 0, "creation_date": 1542894145, "post_id": 53421546, "comment_id": 93738256, "body": "Yes this would work, but I&#39;m struggling to think of a use case for this.  If you want different functionality of an event (button left in this case) every time you implement the component, I would probably emit that he event happened, and let the parent component decide what needs to happen. Like <code>&lt;navigation @button-left=&quot;call-some-method-on-parent-component&quot; &#47;&gt;</code>"}, {"owner": {"reputation": 899, "user_id": 4158987, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/14b1d92ab438758ba8dc8082ffa796ec?s=128&d=identicon&r=PG&f=1", "display_name": "Mountain", "link": "https://stackoverflow.com/users/4158987/mountain"}, "edited": false, "score": 0, "creation_date": 1543084648, "post_id": 53421546, "comment_id": 93793888, "body": "I adopted this way and it fits my need. This is right for me. Thanks a lot."}], "tags": [], "owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "is_accepted": true, "score": 0, "last_activity_date": 1542840690, "creation_date": 1542840690, "answer_id": 53421546, "question_id": 53421207, "link": "https://stackoverflow.com/questions/53421207/trigger-a-vue-components-method-by-property/53421546#53421546", "title": "Trigger a Vue components method by property", "body": "<p>Yes, this is definitely possible.</p>\n\n<p>The easiest way would be to pass a plain string, eg</p>\n\n<pre><code>&lt;navigation button-left=\"goback\" /&gt;\n</code></pre>\n\n<p>Note there's no <code>v-bind</code>.</p>\n\n<p>Then in your component, you can use the prop value. Something like...</p>\n\n<pre><code>export default {\n  template: `&lt;button @click=\"runButtonLeft\"&gt;Go&lt;/button&gt;`,\n  props: ['buttonLeft'],\n  methods: {\n    runButtonLeft () {\n      if (typeof this[this.buttonLeft] === 'function') {\n        this[this.buttonLeft]()\n      } else {\n        console.error('Invalid method name:', this.buttonLeft)\n      }\n    },\n    goback () {\n      console.log('Run this.')\n    }\n  }\n}\n</code></pre>\n\n<p>You didn't specify what should be used to trigger the method execution so I've gone with a <em>click</em> event.</p>\n"}], "owner": {"reputation": 899, "user_id": 4158987, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/14b1d92ab438758ba8dc8082ffa796ec?s=128&d=identicon&r=PG&f=1", "display_name": "Mountain", "link": "https://stackoverflow.com/users/4158987/mountain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 584, "favorite_count": 1, "accepted_answer_id": 53421546, "answer_count": 1, "score": 0, "last_activity_date": 1542896790, "creation_date": 1542838577, "last_edit_date": 1542839736, "question_id": 53421207, "link": "https://stackoverflow.com/questions/53421207/trigger-a-vue-components-method-by-property", "title": "Trigger a Vue components method by property", "body": "<p>Is it possible to trigger a Vue components method by handling the methods name to one of it's properties?</p>\n\n<pre><code>// main.vue\n&lt;navigation :button-left=\"goback()\"&gt;&lt;/navigation&gt;\n\n\n\n// navigation.component.vue\n...\nprops: [\"buttonLeft\"],\n...\nmethods: {\n  goback() {\n    console.log('Run this.');\n  },\n},\n...\n</code></pre>\n\n<p>I tried it like this but it gives me an error:</p>\n\n<blockquote>\n  <p>[Vue warn]: Property or method \"goback\" is not defined on the instance but referenced during render. Make sure that this property is reactive, either in the data option, or for class-based components, by initializing the property. See: <a href=\"https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties\" rel=\"nofollow noreferrer\">https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties</a>.</p>\n</blockquote>\n"}, {"tags": ["javascript", "ios", "html", "audio", "socket.io"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10124491"}, "edited": false, "score": 0, "creation_date": 1549150286, "post_id": 54378837, "comment_id": 95802117, "body": "Okay. :( Is there any alternative?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10971514"}, "is_accepted": true, "score": 1, "last_activity_date": 1548509461, "creation_date": 1548509461, "answer_id": 54378837, "question_id": 53421204, "link": "https://stackoverflow.com/questions/53421204/ios-pwa-audio-restrictions/54378837#54378837", "title": "iOS PWA Audio Restrictions", "body": "<p>No, Safari restricts audio playing quite a lot. It seems in your scenario, there is no work around unfortunately.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10124491"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 328, "favorite_count": 0, "accepted_answer_id": 54378837, "answer_count": 1, "score": 0, "last_activity_date": 1548509461, "creation_date": 1542838564, "question_id": 53421204, "link": "https://stackoverflow.com/questions/53421204/ios-pwa-audio-restrictions", "title": "iOS PWA Audio Restrictions", "body": "<p>I'm making a platform which involves the server triggering Audio to be played with Socket.io. I'm trying to make a PWA for iOS using similar code, but it just doesn't work and I've heard that Safari requires user interaction (I am using this with the full screen PWA meta tag, not through Safari directly). It works fine on the latest version of Chrome on desktop.</p>\n\n<p>Is there anyway to make this work?</p>\n\n<p>Web Interface (uses same audio \nplaying and socket.io code): <a href=\"https://github.com/archiebaer/bithop-web-interface\" rel=\"nofollow noreferrer\">https://github.com/archiebaer/bithop-web-interface</a></p>\n"}, {"tags": ["javascript", "html5-canvas"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 991761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oJHru.jpg?s=128&g=1", "display_name": "CodeTheInternet", "link": "https://stackoverflow.com/users/991761/codetheinternet"}, "is_accepted": false, "score": -1, "last_activity_date": 1542839216, "creation_date": 1542839216, "answer_id": 53421310, "question_id": 53421187, "link": "https://stackoverflow.com/questions/53421187/detect-close-path-in-canvas/53421310#53421310", "title": "detect close path in canvas", "body": "<p>Save the value of your first point to a variable. If a subsequent <code>x,y</code> is within the threshold you want, close the ploygon and apply the fill.</p>\n"}, {"tags": [], "owner": {"reputation": 3491, "user_id": 3522957, "user_type": "registered", "profile_image": "https://graph.facebook.com/1439386163/picture?type=large", "display_name": "Eriks Klotins", "link": "https://stackoverflow.com/users/3522957/eriks-klotins"}, "is_accepted": true, "score": 2, "last_activity_date": 1542921059, "last_edit_date": 1542921059, "creation_date": 1542839241, "answer_id": 53421313, "question_id": 53421187, "link": "https://stackoverflow.com/questions/53421187/detect-close-path-in-canvas/53421313#53421313", "title": "detect close path in canvas", "body": "<p>EDIT: There is a simpler solution. Remember the position of the first click and check if any of the subsequent clicks are nearby.</p>\n\n<p><a href=\"https://codepen.io/anon/pen/pQLwGK\" rel=\"nofollow noreferrer\">https://codepen.io/anon/pen/pQLwGK</a></p>\n\n<pre><code>var startX = -1, startY = -1; \n\nfunction dist(x0,y0,x1,y1)\n{\n  return Math.sqrt( Math.pow(x1-x0,2) + Math.pow(y1-y0,2));\n}\n\n$(document).ready(function()\n{\n    var canvas = $('#myCanvas').get(0);\n    if (!canvas.getContext) { return; }\n    var ctx = canvas.getContext('2d');\n    ctx.fillStyle = '#f00';\n    ctx.beginPath();\n    $('#myCanvas').on('click', function(e)\n    {\n        console.log('click');\n        var offset = $(this).offset();\n        var x = e.pageX - offset.left;\n        var y = e.pageY - offset.top;\n        if (startX === -1)\n        {\n          console.log('start position is set to ',x ,y);\n          startX = x;\n          startY = y;\n          ctx.moveTo(x,y);\n        }\n        else\n        {\n          // checking if a click is within 20px of the starting point\n          if (dist(startX, startY,x,y ) &lt; 20)\n          {\n             // assume that polygon is closed\n             ctx.lineTo(startX,startY);\n             ctx.fill();\n             console.log('fill');\n          }\n          else\n          {\n             ctx.lineTo(x,y);\n          }\n          ctx.stroke();\n        }\n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 2231, "user_id": 6485567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/516c9dda1e4829e2971d3d35870703fd?s=128&d=identicon&r=PG&f=1", "display_name": "sonia maklouf", "link": "https://stackoverflow.com/users/6485567/sonia-maklouf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 1, "accepted_answer_id": 53421313, "answer_count": 2, "score": 1, "last_activity_date": 1542921059, "creation_date": 1542838441, "last_edit_date": 1592644375, "question_id": 53421187, "link": "https://stackoverflow.com/questions/53421187/detect-close-path-in-canvas", "title": "detect close path in canvas", "body": "<p>Hi I'm searching to find a way to close path with javascript.\nI can draw a series of straight lines by clicking on the canvas but I want that when the line are closed the object create takes a grey background.\nLike in this <a href=\"https://aalavandhaann.github.io/blueprint-js/build/\" rel=\"nofollow noreferrer\">example</a> when you close the wall the room appears</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var needFirstPoint = true;\n\nfunction drawNextLine(ctx, x, y) {\n    if (needFirstPoint) {\n        ctx.lineWidth = 5;\n        ctx.beginPath();\n        ctx.moveTo(x, y);\n        needFirstPoint = false;\n    }\n    else {\n        ctx.lineTo(x, y);\n        ctx.stroke();\n    }\n}\n\n$(document).ready(function(){\n    var canvas = $('#myCanvas').get(0);\n    if (!canvas.getContext) { return; }\n    var ctx = canvas.getContext('2d');\n    \n    $('#myCanvas').on('click', function(e){\n        var offset = $(this).offset();\n        var x = e.pageX - offset.left;\n        var y = e.pageY - offset.top;\n        drawNextLine(ctx, x, y);\n    });\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>canvas {\n    border: 1px solid #000;\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;canvas id=\"myCanvas\" width=\"600\" height=\"600\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I don't know how to detect a close path that could form an object</p>\n"}, {"tags": ["javascript", "jquery", "html", "post", "request"], "comments": [{"owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1542839115, "post_id": 53421178, "comment_id": 93716986, "body": "Can use websockets which will reduce server load"}], "answers": [{"tags": [], "owner": {"reputation": 67, "user_id": 6673535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e702b03033a79b656c4fbec2e4abbcf0?s=128&d=identicon&r=PG&f=1", "display_name": "N. Kue", "link": "https://stackoverflow.com/users/6673535/n-kue"}, "is_accepted": false, "score": 0, "last_activity_date": 1542838755, "creation_date": 1542838755, "answer_id": 53421232, "question_id": 53421178, "link": "https://stackoverflow.com/questions/53421178/automatically-save-data-using-jquery-javascript/53421232#53421232", "title": "Automatically Save Data Using JQuery/Javascript", "body": "<p>Have you thought about using a timer? For example you could still use the on change event, but instead of transmitting on every change you could start a count-down and only if the user didnt typed for for example 10 seconds you transmit.</p>\n"}, {"tags": [], "owner": {"reputation": 3147, "user_id": 4715679, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e8fb33e77612402c2d8031b852cc5c09?s=128&d=identicon&r=PG&f=1", "display_name": "BlueM", "link": "https://stackoverflow.com/users/4715679/bluem"}, "is_accepted": true, "score": 0, "last_activity_date": 1542838952, "creation_date": 1542838952, "answer_id": 53421268, "question_id": 53421178, "link": "https://stackoverflow.com/questions/53421178/automatically-save-data-using-jquery-javascript/53421268#53421268", "title": "Automatically Save Data Using JQuery/Javascript", "body": "<p>The terms you are looking for a \u201cthrottle\u201d and \u201cdebounce\u201d. There are numerous solutions (e.g., jQuery plugins such as <a href=\"https://code.google.com/archive/p/jquery-debounce/\" rel=\"nofollow noreferrer\">https://code.google.com/archive/p/jquery-debounce/</a> \u2013 disclaimer: I haven\u2019t used jQuery in years, and therefore have no experience with this plugin), but reading a little bit about it, this is not hard to implement it yourself. In case you use RxJS (not likely in a project that still uses jQuery), there are also methods <code>debounce</code> and <code>throttle</code> in it.</p>\n"}], "owner": {"reputation": 477, "user_id": 10241813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd69132baf62f7182de79f22e9ea049b?s=128&d=identicon&r=PG&f=1", "display_name": "CodeRocks", "link": "https://stackoverflow.com/users/10241813/coderocks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 53421268, "answer_count": 2, "score": -1, "last_activity_date": 1542838952, "creation_date": 1542838415, "question_id": 53421178, "link": "https://stackoverflow.com/questions/53421178/automatically-save-data-using-jquery-javascript", "title": "Automatically Save Data Using JQuery/Javascript", "body": "<p>I am working on a website, and want to allow my user to work without having to click save to manually save their data (similar to how Google Docs allow you to work without having to press save). I was able to achieve this by using a on change event in JQuery and using AJAX to post to the server every time that event occurred. The only problem is that this results in MANY requests to the server. How do I achieve the same result, while reducing the number times requests are sent to the server.</p>\n\n<p>Any help would be greatly appreciated!</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "math", "integer"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1542838473, "post_id": 53421128, "comment_id": 93716754, "body": "I guess the most straightforward way would be to have 256 digits and powers, like with binary or decimal. So if you have <code>[x, y, z]</code>, the value is <code>x * 256&#178; + y * 256 + z</code> That way an array of length x can encode 256 to the power of x, or 2 to the power of 8x numbers."}, {"owner": {"reputation": 66677, "user_id": 169992, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/OeNfG.png?s=128&g=1", "display_name": "Lance Pollard", "link": "https://stackoverflow.com/users/169992/lance-pollard"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1542838663, "post_id": 53421128, "comment_id": 93716824, "body": "I was hoping it would be something like that, but I haven&#39;t been able to figure out how that is even possible to represent it that way."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1542838853, "post_id": 53421128, "comment_id": 93716895, "body": "I&#39;m not sure I understand; I just told you it&#39;s possible, and how, didn&#39;t I?"}, {"owner": {"reputation": 66677, "user_id": 169992, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/OeNfG.png?s=128&g=1", "display_name": "Lance Pollard", "link": "https://stackoverflow.com/users/169992/lance-pollard"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1542838872, "post_id": 53421128, "comment_id": 93716900, "body": "I don&#39;t know how to write the function to do it. <code>splitIntoArray(15918591891598) =&gt; [x, y, z]</code> I don&#39;t see how to do that."}], "answers": [{"comments": [{"owner": {"reputation": 66677, "user_id": 169992, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/OeNfG.png?s=128&g=1", "display_name": "Lance Pollard", "link": "https://stackoverflow.com/users/169992/lance-pollard"}, "edited": false, "score": 0, "creation_date": 1542839809, "post_id": 53421384, "comment_id": 93717208, "body": "Wow, that is neat. I am not sure how anyone figured that out originally, would be interesting to know who first figured this out."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "reply_to_user": {"reputation": 66677, "user_id": 169992, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/OeNfG.png?s=128&g=1", "display_name": "Lance Pollard", "link": "https://stackoverflow.com/users/169992/lance-pollard"}, "edited": false, "score": 0, "creation_date": 1542839902, "post_id": 53421384, "comment_id": 93717244, "body": "These are just basic conversion algorithms. They&#39;ll work for any system if you  replace the <code>256</code> with the base you want. I did write them from scratch though :)"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "reply_to_user": {"reputation": 66677, "user_id": 169992, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/OeNfG.png?s=128&g=1", "display_name": "Lance Pollard", "link": "https://stackoverflow.com/users/169992/lance-pollard"}, "edited": false, "score": 0, "creation_date": 1542840205, "post_id": 53421384, "comment_id": 93717326, "body": "..... I just found <a href=\"https://stackoverflow.com/questions/53402560/how-to-split-large-integer-into-an-array-of-8-bit-integers\">this</a> ... how do you go from that question to this one...? As a 30k+ user...? I must be missing something."}], "tags": [], "owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "is_accepted": true, "score": 0, "last_activity_date": 1542839734, "creation_date": 1542839734, "answer_id": 53421384, "question_id": 53421128, "link": "https://stackoverflow.com/questions/53421128/how-to-represent-a-integer-by-a-chain-of-8-bit-numbers/53421384#53421384", "title": "How to represent a integer by a chain of 8 bit numbers", "body": "<p>So, here's the conversion to and from the 256 system:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const To256 = x =&gt; {\r\n  var res = [];\r\n  while (x &gt; 0) {\r\n    res.push(x % 256);\r\n    x = Math.floor(x / 256)\r\n  }\r\n  return res;\r\n}\r\n\r\nconst From256 = x =&gt; {\r\n  var res = 0;\r\n  while (x.length) res = 256 * res + x.pop();\r\n  return res;\r\n}\r\n\r\nvar t = 9483593483;\r\nconsole.log(t);\r\nt = To256(t);\r\nconsole.log(t);\r\nt = From256(t);\r\nconsole.log(t);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Note that the array is in reverse order.</p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 6525214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bd1b3103bed9a71fb72708bdc47efc9?s=128&d=identicon&r=PG&f=1", "display_name": "CrackaJackDev", "link": "https://stackoverflow.com/users/6525214/crackajackdev"}, "is_accepted": false, "score": 0, "last_activity_date": 1542840366, "creation_date": 1542840366, "answer_id": 53421489, "question_id": 53421128, "link": "https://stackoverflow.com/questions/53421128/how-to-represent-a-integer-by-a-chain-of-8-bit-numbers/53421489#53421489", "title": "How to represent a integer by a chain of 8 bit numbers", "body": "<p>It sounds like you're essentially describing base-256 arithmetic, although in a kind of circuitous way. Given some list of integers [a, b, c, d] you could compute the number they represent as (parentheses added for clarity):</p>\n\n<pre><code>a*(256**3) + b*(256**2) + c*(256**1) + d*(256**0)\n</code></pre>\n\n<p>The power to use for the 256 base is determined by the position of the integer in the list. Using this scheme, your example number of 15809158915 could be represented as:</p>\n\n<pre><code>[3, 174, 76, 159, 3]\n# 3*256**4 + 174*256**3 + 76*256**2 + 159*256**1 + 3*256**0\n</code></pre>\n\n<p>This can of course extend to any arbitrarily-sized list. Of course, you could always write out the list of integers in their hexadecimal form instead of base-10:</p>\n\n<pre><code>[0x3, 0xae, 0x4c, 0x9f, 0x03]\n</code></pre>\n\n<p>Taking things further, you could write the list out as a string with a single 0x prefix to identify the entire string as a hexadecimal number:</p>\n\n<pre><code>0x3ae4c9f03\n</code></pre>\n\n<p>And voila: you've now duplicated python's hex() function!</p>\n\n<pre><code>&gt;&gt;&gt; hex(15809158915)\n'0x3ae4c9f03'\n</code></pre>\n\n<p>And since python already supports arbitrarily-sized integers, you can represent really, really big numbers this way:</p>\n\n<pre><code>hex(861324987629387561923756912874369128734619287346921367419273)\n'0x89378c76db3e9b3e808eea75a42d7ff7d43840e0f41cf43989L'\n</code></pre>\n\n<p>The \"L\" at the end of the string indicates that this is a \"long\" integer, meaning python has engaged its arbitrarily-sized integer support behind the scenes.</p>\n\n<p>In summary, all modern PCs represent numbers internally as a chain of 8-bit integers. 32-bit ints are a chain of 4 8-bit integers, 64-bit ints are a chain of 8 8-bit integers, etc.</p>\n\n<p>If you get a tiny bit fancier, you can represent negative numbers using <a href=\"https://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow noreferrer\">twos-complement</a>, or floating point numbers using <a href=\"https://en.wikipedia.org/wiki/Single-precision_floating-point_format\" rel=\"nofollow noreferrer\">IEEE-754</a>. (Note that I'm ignoring <a href=\"https://en.wikipedia.org/wiki/Endianness\" rel=\"nofollow noreferrer\">endianness</a> for now.)</p>\n"}], "owner": {"reputation": 66677, "user_id": 169992, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/OeNfG.png?s=128&g=1", "display_name": "Lance Pollard", "link": "https://stackoverflow.com/users/169992/lance-pollard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "accepted_answer_id": 53421384, "answer_count": 2, "score": 0, "last_activity_date": 1542840366, "creation_date": 1542838113, "last_edit_date": 1542838594, "question_id": 53421128, "link": "https://stackoverflow.com/questions/53421128/how-to-represent-a-integer-by-a-chain-of-8-bit-numbers", "title": "How to represent a integer by a chain of 8 bit numbers", "body": "<p>I am wondering how you can represent an integer as a chain of 8-bit numbers.</p>\n\n<p>That is, (and I don't know how to actually calculate this so the example is wrong, but should demonstrate the basic idea), say you have an integer <em>of arbitrary size</em>, meaning it can be extremely large like <code>Math.pow(100, 100) \u2248 1e+200</code> or some small number like <code>1</code> or <code>0</code>. You want to be able to compute that number by using a chain of 8-bit values. The question is how to do that.</p>\n\n<p>For example, I can represent <code>255</code> like this:</p>\n\n<pre><code>[ 255, 1 ]\n</code></pre>\n\n<p>That is, our representation has the first value be 8-bits, and then the second value is also 8-bits, and we multiply them together as <code>255 * 1 = 255</code>. Another case would be <code>256</code>. We could represent that like this:</p>\n\n<pre><code>[ 255, 1, 1 ]\n</code></pre>\n\n<p>Meaning <code>(255 * 1) + 1 = 256</code>, but now we don't necessarily know what to add vs. what to multiply. Imagine a large number like <code>1589158915</code>. I have no idea what it's array of values would be, but say they ended up being like this:</p>\n\n<pre><code>[ 15, 12, 1, 141, 12, 250 ]\n</code></pre>\n\n<p>And say that from those numbers we could compute the value like this:</p>\n\n<pre><code>15 * 12 + 1 * 141 / 12 - 250\n</code></pre>\n\n<p>That wouldn't be very ideal, unless perhaps the system also stored the <em>operation</em> with the value, like this:</p>\n\n<pre><code>[ 15, 2, 12, 0, 1, 2, 141, 3, 12, 1, 250 ]\n</code></pre>\n\n<p>But I have no idea where to begin to figure out how to calculate the number like this, or how to say \"given some integer, figure out how to break it apart into some <em>equation</em> that will generate its value\". That is the basis of the question. I guess (actually) this would probably be the best approach.</p>\n\n<p>As a sidenote, you can't take the integer <code>1589158915</code> and just represent it like this:</p>\n\n<pre><code>[ 1589158914, 1 ] == (1589158914 + 1)\n</code></pre>\n\n<p>because <code>1589158915</code> is not an 8-bit value. This is why it's tricky. In addition, we don't want to do it like this:</p>\n\n<pre><code>[ 255, 255, 255, 255, ... ]\n==\n255 + 255 + 255 + 255 + ...\n</code></pre>\n\n<p>Because that would be very inefficient. The solution should be a <em>compact</em> representation.</p>\n\n<p>So the question is, <em>how to take an integer and create an equation from it that will generate its value, where each component of the equation can be represented as an 8-bit integer</em>.</p>\n"}, {"tags": ["javascript", "javascript-objects"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1542838425, "post_id": 53421122, "comment_id": 93716737, "body": "What&#39;s with that <code>var i = 0l</code> in the first snippet? Is this the actual code?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1542838470, "post_id": 53421122, "comment_id": 93716752, "body": "Your problem appears to be that you moved the <code>var i</code> declaration from an outer scope into the <code>next</code> function, where it now is initialised to <code>0</code> on every call. Instead of being incremented as you expect."}], "answers": [{"tags": [], "owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "is_accepted": false, "score": 1, "last_activity_date": 1542839425, "last_edit_date": 1542839425, "creation_date": 1542838551, "answer_id": 53421202, "question_id": 53421122, "link": "https://stackoverflow.com/questions/53421122/making-an-iterator-with-es6/53421202#53421202", "title": "Making an Iterator with ES6", "body": "<p>In the first example <code>i</code> is captured in a closure so it works. In the second example <code>i</code> gets created new every time you call the function. You <em>could</em> make is a property of the object:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var literal = {\r\n    letters: [\"a\", \"b\", \"c\"],\r\n    i: 0,\r\n    next: function(){        //same next function as before\r\n       return this.i &lt; this.letters.length ? \r\n        {value: this.letters[this.i++], done: false}:\r\n        {value: undefined, done: true};\r\n         }\r\n}\r\n\r\nconsole.log(literal.next()) \r\nconsole.log(literal.next()) \r\nconsole.log(literal.next()) \r\nconsole.log(literal.next()) </code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Of course you can also implement this in a way that it will work as an iterator in other contexts and is simpler:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var G = {\r\n    letters: [\"a\", \"b\", \"c\"],\r\n    [Symbol.iterator]: function*(){      \r\n       yield *this.letters\r\n    }\r\n}\r\n\r\n// now the object works as an iterable:\r\nconsole.log([...G])\r\n// or\r\nlet iter = G[Symbol.iterator]()\r\nconsole.log(iter.next()) \r\nconsole.log(iter.next()) \r\nconsole.log(iter.next()) \r\nconsole.log(iter.next())</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 59, "user_id": 6201679, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/228904861e7eaa436d91a0b571256064?s=128&d=identicon&r=PG&f=1", "display_name": "brnn", "link": "https://stackoverflow.com/users/6201679/brnn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542839425, "creation_date": 1542838058, "last_edit_date": 1542838575, "question_id": 53421122, "link": "https://stackoverflow.com/questions/53421122/making-an-iterator-with-es6", "title": "Making an Iterator with ES6", "body": "<p>This question has a lot of moving parts, but I'm going to start with the my first miscomprehension.</p>\n\n<p>Context: An <code>Iterator</code> is defined as an Object that implements a <code>next()</code> method, which both of my examples down below have. The difference is that I'm creating an Object with a <code>next()</code> method differently. In my first example, I'm creating a function that returns an Object that contains a <code>next()</code> method. I then assign a variable to this function, so if I'm not mistaken, I am essentially making an Object on the fly with a predefined function.</p>\n\n<pre><code>var letters = [\"a\",\"b\",\"c\"];\n\nfunction createIterator(array) {\n    var i = 0;\n\n    return {                //return an Object with a next() method\n        next: function(){\n            i &lt; array.length ?    //if statement\n            {value: array[i++], done: false}:\n            {value: undefined, done: true};\n         }\n    }\n}\n\nvar myIterator = createIterator(letters);\nconsole.log(myIterator.next()) //{value: a, done: false}\nconsole.log(myIterator.next()) //{value: b, done: false}\nconsole.log(myIterator.next()) //{value: c, done: false}\nconsole.log(myIterator.next()) //{value: undefined, done: true}\n</code></pre>\n\n<p>So, by putting the <code>createIterator</code> function inside a variable, <code>myIterator</code>, each time I run the <code>next()</code> function, I get the next element in the array I pass.</p>\n\n<p>Okay, I thought. What if I just made the Object without the function?</p>\n\n<pre><code>var literal = {\n    letters: [\"a\", \"b\", \"c\"],\n    next: function(){        //same next function as before\n        var i = 0;\n        i &lt; this.letters.length ? \n        {value: this.letters[i++], done: false}:\n        {value: undefined, done: true};\n         }\n}\n\nconsole.log(literal.next()) //{value: a, done: false}\nconsole.log(literal.next()) //{value: a, done: false}\nconsole.log(literal.next()) //{value: a, done: false}\nconsole.log(literal.next()) //{value: a, done: false}\n</code></pre>\n\n<p>I think this is due to my misunderstanding of how I'm invoking the <code>next()</code> method with different ways of creating my Objects. It could be something with scope, but I'm really not entirely sure.</p>\n"}, {"tags": ["javascript", "jquery", "html", "ajax"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 991761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oJHru.jpg?s=128&g=1", "display_name": "CodeTheInternet", "link": "https://stackoverflow.com/users/991761/codetheinternet"}, "is_accepted": false, "score": 0, "last_activity_date": 1542838747, "creation_date": 1542838747, "answer_id": 53421230, "question_id": 53421083, "link": "https://stackoverflow.com/questions/53421083/ajax-post-formdata-and-the-form/53421230#53421230", "title": "Ajax post FormData and the form", "body": "<p>Your last block using <code>formData</code> is only appending the file. This is why <code>data</code> only contains the file no other form data. Be sure to fully populate <code>formData</code> first.</p>\n"}, {"tags": [], "owner": {"reputation": 3016, "user_id": 10470860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h8V0D.png?s=128&g=1", "display_name": "AnonymousSB", "link": "https://stackoverflow.com/users/10470860/anonymoussb"}, "is_accepted": true, "score": 5, "last_activity_date": 1542838859, "creation_date": 1542838859, "answer_id": 53421251, "question_id": 53421083, "link": "https://stackoverflow.com/questions/53421083/ajax-post-formdata-and-the-form/53421251#53421251", "title": "Ajax post FormData and the form", "body": "<p>Try passing <code>this</code> to <code>FormData</code> Also, you were setting <code>type</code> twice.</p>\n\n<pre><code>var frm = $('#my_form');\nfrm.submit(function (e) {\n  e.preventDefault(e);\n\n  var formData = new FormData(this);\n\n  $.ajax({\n    async: true,\n    type: frm.attr('method'),\n    url: frm.attr('action'),\n    data: formData,\n    cache: false,\n    processData: false,\n    contentType: false,\n\n    success: function (data) {\n      console.log(\"success\")\n    },\n    error: function(request, status, error) {\n      console.log(\"error\")\n    }\n  });\n});\n</code></pre>\n"}], "owner": {"reputation": 3400, "user_id": 5881884, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/be2f31d6dd614035752705c636b7b824?s=128&d=identicon&r=PG&f=1", "display_name": "DevB2F", "link": "https://stackoverflow.com/users/5881884/devb2f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5547, "favorite_count": 0, "accepted_answer_id": 53421251, "answer_count": 2, "score": 3, "last_activity_date": 1542839641, "creation_date": 1542837744, "question_id": 53421083, "link": "https://stackoverflow.com/questions/53421083/ajax-post-formdata-and-the-form", "title": "Ajax post FormData and the form", "body": "<p>I have this form:</p>\n\n<pre><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js\"&gt; &lt;/script&gt;\n&lt;link rel=\"stylesheet\" href=\"https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css\"&gt;\n\n\n&lt;div class='col-sm-6' style=\"padding-left:0px;\" &gt;\n    &lt;form action=\"/main/\" method=\"post\" id=\"my_form\" enctype=\"multipart/form-data\"&gt;\n      {% csrf_token %}\n      &lt;br&gt;\n\n      &lt;div&gt; &lt;input type=\"text\" name=\"description\" id=\"id_description\" /&gt; &lt;/div&gt;\n      &lt;div&gt; &lt;input type=\"file\" name=\"image\" id=\"id_image\" /&gt; &lt;/div&gt;\n\n\n      &lt;button type=\"submit\" disabled style=\"display: none\" aria-hidden=\"true\"&gt;&lt;/button&gt;\n      &lt;input class=\"btn btn-success\" type=\"submit\" name=\"submit\" value=\"Gem\" /&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This successfully sends the form and it is valid on the server side. But I can\u00b4t access the image from the form on the server.</p>\n\n<pre><code>&lt;script&gt;\n    var frm = $('#my_form');\n    frm.submit(function (e) {\n        e.preventDefault(e);\n        $.ajax({\n            async: true,\n            type: frm.attr('method'),\n            url: frm.attr('action'),\n            data: frm.serialize(),\n            success: function (data) {\n                console.log(\"success\")\n            },\n            error: function(request, status, error) {\n                console.log(\"error\")\n            }\n       });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>This solution sends the FormData with the image file, but it does not include the other form data and the form is not valid on the server side:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var frm = $('#my_form');\n    frm.submit(function (e) {\n        e.preventDefault(e);\n\n        var formData = new FormData();\n        formData.append(\n            \"image\",\n            document.getElementById(\"id_image\").files[0]\n        );\n\n        $.ajax({\n            async: true,\n            type: frm.attr('method'),\n            url: frm.attr('action'),\n            data: formData,\n            cache: false,\n            processData: false,\n            contentType: false,\n            type: 'POST',\n\n            success: function (data) {\n                console.log(\"success\")\n            },\n            error: function(request, status, error) {\n                console.log(\"error\")\n            }\n       });\n   });\n\n\n&lt;/script&gt;\n</code></pre>\n\n<p>Is there a way to send both the file and the other form  dara at the same time?</p>\n"}, {"tags": ["javascript", "google-chrome", "google-chrome-extension"], "answers": [{"comments": [{"owner": {"reputation": 66485, "user_id": 934239, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f6278534f82406052d8aac1da327b84c?s=128&d=identicon&r=PG", "display_name": "Xan", "link": "https://stackoverflow.com/users/934239/xan"}, "edited": false, "score": 0, "creation_date": 1542886771, "post_id": 53421917, "comment_id": 93734261, "body": "Note for the future: please use code formatting, <i>not</i> snippets, unless it&#39;s code that can actually run as an example (extension APIs obviously can&#39;t)"}], "tags": [], "owner": {"reputation": 385, "user_id": 10671361, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fWJ_Np7Bo_I/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hVq5fE60_s-tZzmUkI0DhzXfAj5Q/mo/photo.jpg?sz=128", "display_name": "Max Kurtz", "link": "https://stackoverflow.com/users/10671361/max-kurtz"}, "is_accepted": true, "score": 1, "last_activity_date": 1542886731, "last_edit_date": 1542886731, "creation_date": 1542843177, "answer_id": 53421917, "question_id": 53421080, "link": "https://stackoverflow.com/questions/53421080/chrome-extension-add-listener-not-responding/53421917#53421917", "title": "Chrome Extension, Add Listener Not Responding", "body": "<p>Look at the Summary table <a href=\"https://developer.chrome.com/extensions/tabs\" rel=\"nofollow noreferrer\">here</a>. There is no Method, Event or Property \"audible\" inside it, so your <strong>chrome.tabs.audible</strong> shouldn't work. It is equal to undefined. \nYou should use <a href=\"https://developer.chrome.com/extensions/tabs#event-onUpdated\" rel=\"nofollow noreferrer\">onupdate</a> event. So, you code looks like:</p>\n\n<pre><code>chrome.tabs.onUpdated.addListener(function(tabId, changeInfo, Tab){\n    if(changeInfo.audible){\n       console.log(\"The tab with id = \" + tabId + \"has changed its audible state.\");\n    }\n})\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7846017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa6a28f8ae7e4d12c851fc2a8e9505e3?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hill", "link": "https://stackoverflow.com/users/7846017/michael-hill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 53421917, "answer_count": 1, "score": 0, "last_activity_date": 1542886731, "creation_date": 1542837729, "question_id": 53421080, "link": "https://stackoverflow.com/questions/53421080/chrome-extension-add-listener-not-responding", "title": "Chrome Extension, Add Listener Not Responding", "body": "<p>I'm trying to create an alert on when chrome.tabs.audible changes condition. After reading the Google developer API information, I do not understand what I'm doing incorrectly. I'm not familiar with JS, so it is possible I'm doing something stupid...</p>\n\n<p>manifest.json:</p>\n\n<pre><code>{\n   \"name\": \"Extension\",\n   \"author\": \"Extension Author\",\n   \"description\": \"Extension description\",\n   \"manifest_version\": 2,\n   \"version\": \"1\",\n   \"permissions\": [\n          \"tabs\",\n        ],\n   \"browser_action\": {\n     \"default_popup\": \"popup.html\"\n   },\n   \"background\": {\n     \"scripts\": [\n       \"js/background.js\"\n     ],\n     \"persistent\": false\n   }\n}\n</code></pre>\n\n<p>background.js:</p>\n\n<pre><code>chrome.tabs.audible.addListener(function(tabs) {\n  alert(\"AUDIO\");\n});\n</code></pre>\n\n<p>I'm able to load the extension and load the 'popup.html' menu. If I add alert(\"test\"); to 'backgournd.js' outside of a function, it will create the alert.</p>\n"}, {"tags": ["javascript", "node.js", "express", "handlebars.js", "body-parser"], "comments": [{"owner": {"reputation": 2292, "user_id": 8412352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzHvQ.jpg?s=128&g=1", "display_name": "pmkro", "link": "https://stackoverflow.com/users/8412352/pmkro"}, "edited": false, "score": 1, "creation_date": 1542837911, "post_id": 53421058, "comment_id": 93716583, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/20089582/how-to-get-a-url-parameter-in-express\">How to get a URL parameter in Express?</a>"}], "owner": {"reputation": 11, "user_id": 10688129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1725b9e65b7daf46561805f39b1effe?s=128&d=identicon&r=PG&f=1", "display_name": "Keywar", "link": "https://stackoverflow.com/users/10688129/keywar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1542837631, "creation_date": 1542837631, "question_id": 53421058, "link": "https://stackoverflow.com/questions/53421058/node-js-cannot-get-my-data-right-any-input", "title": "NODE.JS Cannot get my data right, any input?", "body": "<p>I am new to Node (frameworks in general), and I have some problems that I cannot find answers to after searching for days. </p>\n\n<p>When I click on a specific client, I now get redirected to 'create-survey' which is correct. But after that I want the url to be something like '/create-survey/companyx' and get the data with me from that specific client that I clicked on in the new view '/create-survey/companyx'. </p>\n\n<p>index.js: </p>\n\n<pre><code> router.get('/create-survey/:company', ensureAuthenticated, function(req, res) {\nClient.find({}, {}, function (err, docs){\n    res.render('create-survey/:company', {\"client\" : docs});\n})\n});\n</code></pre>\n\n<p>app.js</p>\n\n<pre><code>var express = require('express');\nvar path = require('path');\nvar cookieParser = require('cookie-parser');\nvar bodyParser = require('body-parser');\nvar exphbs = require('express-handlebars');\nvar expressValidator = require('express-validator');\nvar flash = require('connect-flash');\nvar session = require('express-session');\nvar passport = require('passport');\nvar LocalStrategy = require('passport-local').Strategy;\nvar mongo = require('mongodb');\nvar mongoose = require('mongoose');\n\nmongoose.connect('mongodb://localhost/loginapp');\nvar db = mongoose.connection;\n\n// Routes\n\nvar routes = require('./routes/index');\nvar users = require('./routes/users');\n\n// Init App\nvar app = express();\n\n// View Engine\napp.set('views', path.join(__dirname, 'views'));\napp.engine('handlebars', exphbs({defaultLayout:'layout'}));\napp.set('view engine', 'handlebars');\n\n// BodyParser Middleware\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: false }));\napp.use(cookieParser());\n\n// Set Static Folder\napp.use(express.static(path.join(__dirname, 'public')));\n\n// Express Session\napp.use(session({\n    secret: 'secret',\n    saveUninitialized: true,\n    resave: true\n}));\n\n\n// Passport init\napp.use(passport.initialize());\napp.use(passport.session());\n\n// Express Validator\napp.use(expressValidator({\n  errorFormatter: function(param, msg, value) {\n      var namespace = param.split('.')\n      , root    = namespace.shift()\n      , formParam = root;\n\n    while(namespace.length) {\n      formParam += '[' + namespace.shift() + ']';\n    }\n    return {\n      param : formParam,\n      msg   : msg,\n      value : value\n    };\n  }\n}));\n\n// Connect to Flash\napp.use(flash());\n\n// Global Vars\napp.use(function (req, res, next) {\n  res.locals.success_msg = req.flash('success_msg');\n  res.locals.error_msg = req.flash('error_msg');\n  res.locals.error = req.flash('error');\n  res.locals.user = req.user || null;\n  next();\n});\n\n\napp.use('/', routes);\napp.use('/users', users);\napp.use(express.static('public'));\n\n\n// Set Port\napp.set('port', (process.env.PORT || 3000));\n\napp.listen(app.get('port'), function(){\n    console.log('Server started on port '+app.get('port'));\n});\n</code></pre>\n\n<p>and the last, create-survey.handlebars</p>\n\n<pre><code>&lt;h2 class=\"page-header\"&gt;Create a survey for {{client.company}}&lt;/h2&gt;\n\n\n&lt;tr&gt;\n&lt;strong&gt;Company&lt;/strong&gt;\n&lt;td&gt;&lt;p&gt;{{client.company}}&lt;/p&gt;&lt;/td&gt;\n&lt;strong&gt;Contact person&lt;/strong&gt;\n&lt;td&gt;&lt;p&gt;{{client.contact}}&lt;/p&gt;&lt;/td&gt;\n&lt;strong&gt;Email adress&lt;/strong&gt;\n&lt;td&gt;&lt;p&gt;{{client.email}}&lt;/p&gt;&lt;/td&gt;\n\n\n\n&lt;/div&gt;\n</code></pre>\n\n<p>As I said, I'm a beginner that still is trying to learn, so come with all kind of feedback and help and I'll be happy! </p>\n"}, {"tags": ["javascript", "jquery", "laravel"], "answers": [{"tags": [], "owner": {"reputation": 20397, "user_id": 3965631, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/T7nII.png?s=128&g=1", "display_name": "Tim Lewis", "link": "https://stackoverflow.com/users/3965631/tim-lewis"}, "is_accepted": true, "score": 1, "last_activity_date": 1542837638, "creation_date": 1542837638, "answer_id": 53421063, "question_id": 53421024, "link": "https://stackoverflow.com/questions/53421024/laravel-javascript-select-specific-html-table-in-the-blade/53421063#53421063", "title": "Laravel | Javascript | Select specific html table in the blade", "body": "<p>Instead of using</p>\n\n<pre><code>table = $('table');\n</code></pre>\n\n<p>which targets all <code>&lt;table&gt;</code> elements in your HTML, use </p>\n\n<pre><code>table = $(\"#example\");\n</code></pre>\n\n<p>To only target an element with <code>id=\"example\"</code>.</p>\n"}], "owner": {"reputation": 405, "user_id": 10321202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/085fcde37787e86fe291de767a33cc6f?s=128&d=identicon&r=PG&f=1", "display_name": "yassine j", "link": "https://stackoverflow.com/users/10321202/yassine-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 53421063, "answer_count": 1, "score": 0, "last_activity_date": 1542837759, "creation_date": 1542837384, "last_edit_date": 1542837759, "question_id": 53421024, "link": "https://stackoverflow.com/questions/53421024/laravel-javascript-select-specific-html-table-in-the-blade", "title": "Laravel | Javascript | Select specific html table in the blade", "body": "<p>I have <code>javascript</code> code that selects data in all tables existing in my Laravel blade.</p>\n\n<p>I would like to apply this code only for a specific table with <code>id=\"exemple\"</code>. How can I accomplish that?</p>\n\n<p>My javascript code :</p>\n\n<pre><code>&lt;script&gt;\n  function groupDataByDate() {\n    var columns, columnOrder, data,\n    table = $('table'), mainObj = {};\n    columns = [{\n      title: 'date',\n      values: [4,9]\n    }];\n\n    table.find('tbody tr').each(function() {\n  }\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "cordova", "ionic-framework", "ionic3"], "comments": [{"owner": {"reputation": 2292, "user_id": 8412352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzHvQ.jpg?s=128&g=1", "display_name": "pmkro", "link": "https://stackoverflow.com/users/8412352/pmkro"}, "edited": false, "score": 1, "creation_date": 1542837530, "post_id": 53421021, "comment_id": 93716458, "body": "<a href=\"https://github.com/ionic-team/ionic-app-scripts/issues/1036\" rel=\"nofollow noreferrer\">github.com/ionic-team/ionic-app-scripts/issues/1036</a> &lt;&lt; have you tried these?"}, {"owner": {"reputation": 613, "user_id": 6227808, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/agzBm.jpg?s=128&g=1", "display_name": "Guilherme Felipe Reis", "link": "https://stackoverflow.com/users/6227808/guilherme-felipe-reis"}, "reply_to_user": {"reputation": 2292, "user_id": 8412352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzHvQ.jpg?s=128&g=1", "display_name": "pmkro", "link": "https://stackoverflow.com/users/8412352/pmkro"}, "edited": false, "score": 0, "creation_date": 1542838145, "post_id": 53421021, "comment_id": 93716644, "body": "@pmkro I have been trying most of this issues, but seems that the big problem is firebase. Trying to dig around that now."}], "answers": [{"tags": [], "owner": {"reputation": 143, "user_id": 5538293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc085209436088037f9d72964253dfd0?s=128&d=identicon&r=PG", "display_name": "aRealPerson", "link": "https://stackoverflow.com/users/5538293/arealperson"}, "is_accepted": false, "score": 8, "last_activity_date": 1580307590, "creation_date": 1580307590, "answer_id": 59969095, "question_id": 53421021, "link": "https://stackoverflow.com/questions/53421021/ionic-cordova-build-ios-prod-gets-an-javascript-heap-out-of-memory/59969095#59969095", "title": "ionic cordova build ios --prod gets an JavaScript heap out of memory", "body": "<p>Node's max memory size can be increased:</p>\n\n<p>In <strong>terminal</strong> console:</p>\n\n<pre><code>export NODE_OPTIONS=--max_old_space_size=8096\n</code></pre>\n\n<p>If using <strong>Windows</strong>:</p>\n\n<pre><code>set NODE_OPTIONS=--max_old_space_size=8096\n</code></pre>\n\n<p>Prior to running ionic build --prod</p>\n\n<p>I faced the same issue and this resolved my problem. \nCredit: <a href=\"https://github.com/ionic-team/ionic/issues/16868\" rel=\"noreferrer\">https://github.com/ionic-team/ionic/issues/16868</a></p>\n"}], "owner": {"reputation": 613, "user_id": 6227808, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/agzBm.jpg?s=128&g=1", "display_name": "Guilherme Felipe Reis", "link": "https://stackoverflow.com/users/6227808/guilherme-felipe-reis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2876, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1580307590, "creation_date": 1542837370, "last_edit_date": 1542840014, "question_id": 53421021, "link": "https://stackoverflow.com/questions/53421021/ionic-cordova-build-ios-prod-gets-an-javascript-heap-out-of-memory", "title": "ionic cordova build ios --prod gets an JavaScript heap out of memory", "body": "<p>I am building an app with IONIC 3 and I am having a problem with JS while I am building a production app.</p>\n\n<p>I use the code <code>ionic cordova build ios --prod</code>\nand the follow error appear </p>\n\n<pre><code>&lt;--- Last few GCs ---&gt;\n\n[2769:0x104000000]   198493 ms: Mark-sweep 8037.6 (8188.4) -&gt; 8037.6 (8189.4) MB, 10477.9 / 0.0 ms  (average mu = 0.108, current mu = 0.001) allocation failure scavenge might not succeed\n[2769:0x104000000]   211226 ms: Mark-sweep 8038.6 (8189.4) -&gt; 8038.5 (8190.9) MB, 12720.3 / 0.0 ms  (average mu = 0.048, current mu = 0.001) allocation failure scavenge might not succeed\n\n\n&lt;--- JS stacktrace ---&gt;\n\n==== JS stack trace =========================================\n\n    0: ExitFrame [pc: 0xc2936adc01d]\n    1: StubFrame [pc: 0xc2936add3df]\nSecurity context: 0x16d7fc81e681 &lt;JSObject&gt;\n    2: write [0x16d90d9e6691] [/Users/guifeliper/My Apps/TalkABit2019/node_modules/typescript/lib/typescript.js:~9597] [pc=0xc2936afd123](this=0x16d90d9e6739 &lt;Object map = 0x16d706426959&gt;,s=0x16d7bd9bf491 &lt;String[1]: V&gt;)\n    3: write(aka write) [0x16d90d9e7021] [/Users/guifeliper/My Apps/TalkABit2019/node_modules/typescrip...\n\nFATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory\n 1: 0x100039dbf node::Abort() [/usr/local/bin/node]\n 2: 0x100039fc9 node::OnFatalError(char const*, char const*) [/usr/local/bin/node]\n 3: 0x1001d1375 v8::internal::V8::FatalProcessOutOfMemory(v8::internal::Isolate*, char const*, bool) [/usr/local/bin/node]\n 4: 0x10059c572 v8::internal::Heap::FatalProcessOutOfMemory(char const*) [/usr/local/bin/node]\n 5: 0x10059f045 v8::internal::Heap::CheckIneffectiveMarkCompact(unsigned long, double) [/usr/local/bin/node]\n 6: 0x10059aeef v8::internal::Heap::PerformGarbageCollection(v8::internal::GarbageCollector, v8::GCCallbackFlags) [/usr/local/bin/node]\n 7: 0x1005990c4 v8::internal::Heap::CollectGarbage(v8::internal::AllocationSpace, v8::internal::GarbageCollectionReason, v8::GCCallbackFlags) [/usr/local/bin/node]\n 8: 0x1005a594c v8::internal::Heap::AllocateRawWithLigthRetry(int, v8::internal::AllocationSpace, v8::internal::AllocationAlignment) [/usr/local/bin/node]\n 9: 0x1005a59cf v8::internal::Heap::AllocateRawWithRetryOrFail(int, v8::internal::AllocationSpace, v8::internal::AllocationAlignment) [/usr/local/bin/node]\n[ERROR] Non-zero exit from subprocess.\n</code></pre>\n\n<p>I have added the --max_old_space_size=4096 on node, but sadly it just slows to the error shows up. What could I do? </p>\n\n<p><strong>IONIC INFO</strong></p>\n\n<pre><code>Ionic:\n\n   ionic (Ionic CLI)  : 4.2.1 (/usr/local/lib/node_modules/ionic)\n   Ionic Framework    : ionic-angular 3.9.2\n   @ionic/app-scripts : 3.2.0\n\nCordova:\n\n   cordova (Cordova CLI) : 8.1.2 (cordova-lib@8.1.1)\n   Cordova Platforms     : android 7.0.0, ios 4.5.5\n   Cordova Plugins       : cordova-plugin-ionic-keyboard 2.1.3, cordova-plugin-ionic-webview 2.2.0, (and 5 other plugins)\n\nSystem:\n\n   NodeJS : v10.10.0 (/usr/local/lib/node_modules/node/bin/node)\n   npm    : 5.6.0\n   OS     : macOS\n   Xcode  : Xcode 10.1 Build version 10B61\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I followed exactly this environment <a href=\"https://github.com/ionic-team/ionic-app-scripts/issues/1426#issuecomment-407485178\" rel=\"noreferrer\">here</a>, but now the stops again on firebase. It just stop without say nothing. </p>\n\n<pre><code>&gt; cordova build ios\nPreparing Firebase on iOS\nBuilding for iPhone X Simulator\nBuilding project: /Users/guifeliper/My Apps/TalkABit2019/platforms/ios/talkaBit.xcworkspace\n        Configuration: Debug\n        Platform: emulator\nBuild settings from command line:\n    CONFIGURATION_BUILD_DIR = /Users/guifeliper/My Apps/TalkABit2019/platforms/ios/build/emulator\n    SDKROOT = iphonesimulator12.1\n    SHARED_PRECOMPS_DIR = /Users/guifeliper/My Apps/TalkABit2019/platforms/ios/build/sharedpch\n\nBuild settings from configuration file '/Users/guifeliper/My Apps/TalkABit2019/platforms/ios/cordova/build-debug.xcconfig':\n    CLANG_ALLOW_NON_MODULAR_INCLUDES_IN_FRAMEWORK_MODULES = YES\n    CODE_SIGN_ENTITLEMENTS = $(PROJECT_DIR)/$(PROJECT_NAME)/Entitlements-$(CONFIGURATION).plist\n    CODE_SIGN_IDENTITY = iPhone Developer\n    ENABLE_BITCODE = NO\n    GCC_PREPROCESSOR_DEFINITIONS = DEBUG=1\n    HEADER_SEARCH_PATHS = \"$(TARGET_BUILD_DIR)/usr/local/lib/include\" \"$(OBJROOT)/UninstalledProducts/include\" \"$(OBJROOT)/UninstalledProducts/$(PLATFORM_NAME)/include\" \"$(BUILT_PRODUCTS_DIR)\"\n    OTHER_LDFLAGS = -ObjC\n    SWIFT_OBJC_BRIDGING_HEADER = $(PROJECT_DIR)/$(PROJECT_NAME)/Bridging-Header.h\n</code></pre>\n"}, {"tags": ["javascript", "html", "function"], "answers": [{"tags": [], "owner": {"reputation": 5461, "user_id": 5366891, "user_type": "registered", "profile_image": "https://graph.facebook.com/718933983/picture?type=large", "display_name": "Daniel Tran", "link": "https://stackoverflow.com/users/5366891/daniel-tran"}, "is_accepted": false, "score": -2, "last_activity_date": 1542837477, "creation_date": 1542837477, "answer_id": 53421035, "question_id": 53420991, "link": "https://stackoverflow.com/questions/53420991/how-to-force-refresh-all-devices-connected-to-the-website-using-javascript/53421035#53421035", "title": "How to force refresh all devices connected to the website using javascript?", "body": "<p>You need to maintain a websocket connection to the server for all clients.</p>\n\n<p>When admin page push the button, call the api to broadcast a message to all clients.</p>\n\n<p>Once getting the message, refresh the page.</p>\n"}], "owner": {"reputation": 23, "user_id": 10177028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9baa45301876ad58ba992360dc4354b?s=128&d=identicon&r=PG", "display_name": "Braythor Codes", "link": "https://stackoverflow.com/users/10177028/braythor-codes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542838678, "creation_date": 1542837256, "last_edit_date": 1542837631, "question_id": 53420991, "link": "https://stackoverflow.com/questions/53420991/how-to-force-refresh-all-devices-connected-to-the-website-using-javascript", "title": "How to force refresh all devices connected to the website using javascript?", "body": "<p>I have a website and sometimes I need to force refresh all devices to it. I have an admin panel button for this:</p>\n\n<pre><code>&lt;button onClick=\"forceRefreshAllDevices()\"&gt;Force refresh all devices connected to the website&lt;/button&gt;\n</code></pre>\n\n<p>And the function code:</p>\n\n<pre><code>function forceRefreshAllDevices() {\n    location.reload();\n}\n</code></pre>\n\n<p>But it only does the admin's page. How would I send a reload to all devices connected? Something along the lines of an alert box that says \"You will be reloaded in X seconds\" or something like that would work great.</p>\n"}, {"tags": ["javascript", "postgresql", "date", "sequelize.js"], "answers": [{"comments": [{"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1542846444, "post_id": 53420978, "comment_id": 93719148, "body": "You can also accept your answer. I think it&#39;s useful. ;-)"}, {"owner": {"reputation": 4751, "user_id": 814463, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Q8MQn.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/814463/tom"}, "reply_to_user": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1543020930, "post_id": 53420978, "comment_id": 93781134, "body": "Had to wait 2 days. Still might delete it... we&#39;ll see how much hate it collects."}], "tags": [], "owner": {"reputation": 4751, "user_id": 814463, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Q8MQn.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/814463/tom"}, "is_accepted": true, "score": 1, "last_activity_date": 1542837192, "creation_date": 1542837192, "answer_id": 53420978, "question_id": 53420866, "link": "https://stackoverflow.com/questions/53420866/how-to-perform-date-comparisons-against-postgres-with-sequelize/53420978#53420978", "title": "How to perform date comparisons against postgres with sequelize", "body": "<p>Well, this is pretty embarrassing. I structured the <code>where</code> clause incorrectly.</p>\n\n<pre><code>// BAD CODE\nawait SomeModel.destroy({\n  where: {\n    [ Sequelize.Op.lt ]: {\n      dateColumn: deletionCutoff\n    }\n  }\n})\n\n\n// GOOD CODE\nawait SomeModel.destroy({\n  where: {\n    dateColumn: {\n      [ Sequelize.Op.lt ]: deletionCutoff\n    }\n  }\n})\n</code></pre>\n\n<p>Maybe I should delete the question. Maybe not -- the error I got probably could be more helpful.</p>\n"}], "owner": {"reputation": 4751, "user_id": 814463, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Q8MQn.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/814463/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "accepted_answer_id": 53420978, "answer_count": 1, "score": 0, "last_activity_date": 1542837192, "creation_date": 1542836559, "question_id": 53420866, "link": "https://stackoverflow.com/questions/53420866/how-to-perform-date-comparisons-against-postgres-with-sequelize", "title": "How to perform date comparisons against postgres with sequelize", "body": "<p>I want to delete all records with dates before 20 minutes ago. Postgres (or Sequelize) is not satisfied with the bare javascript <code>Date</code> object I provide as the comparison value.</p>\n\n<p>I'm using sequelize 4.37 on top of a postgres 9.6 database.</p>\n\n<p>The column in question was declared with <code>type: Sequelize.DATE</code>, which research suggests is equivalent to <code>TIMESTAMP WITH TIME ZONE</code>: a full date and time with microsecond precision and a timezone signifier. (That is also what I see when I use the psql CLI tool to describe the table.)</p>\n\n<p>So, I do this:</p>\n\n<pre><code>const Sequelize = require('sequelize')\nconst { SomeModel } = require('../models.js')\n\n// calculate 20 minutes ago\nasync function deleteStuff() {\n  const deletionCutoff = new Date()\n  deletionCutoff.setMinutes( deletionCutoff.getMinutes() - 20 ) \n\n  await SomeModel.destroy({\n    where: {\n      [ Sequelize.Op.lt ]: { dateColumn: deletionCutoff }\n    }\n  })\n</code></pre>\n\n<p>But I get this error:</p>\n\n<pre><code>Error: Invalid value { dateColumn: 2018-11-21T21:26:16.849Z }\n</code></pre>\n\n<p>The docs suggest I should be able to provide either a bare javascript Date, or an ISO8601 string, but both throw the same <code>Invalid Value</code> error. The only difference is that, if I pass a string, the error shows single quotes around the value:</p>\n\n<pre><code>// error when dateColumn: deletionCutoff.toISOString()\nError: Invalid value { dateColumn: '2018-11-21T21:26:16.849Z' }\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "ecmascript-6", "eslint"], "answers": [{"comments": [{"owner": {"reputation": 804, "user_id": 305466, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4e72596a4b399e2f8aac38393714eba7?s=128&d=identicon&r=PG", "display_name": "sshevlyagin", "link": "https://stackoverflow.com/users/305466/sshevlyagin"}, "edited": false, "score": 0, "creation_date": 1542837761, "post_id": 53420875, "comment_id": 93716530, "body": "Yes! Thank you, I forgot that arrow functions had access to the outer context. I&#39;ll mark your answer as correct, but to make it even blunter can you replace &#39;this.setState(prevState =&gt;&#39; with &#39;this.setState( () =&gt;&#39; ?"}, {"owner": {"reputation": 1072, "user_id": 3882878, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1dafa934bec9656c0a04f89d1bf355d2?s=128&d=identicon&r=PG&f=1", "display_name": "fiddlest", "link": "https://stackoverflow.com/users/3882878/fiddlest"}, "reply_to_user": {"reputation": 804, "user_id": 305466, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4e72596a4b399e2f8aac38393714eba7?s=128&d=identicon&r=PG", "display_name": "sshevlyagin", "link": "https://stackoverflow.com/users/305466/sshevlyagin"}, "edited": false, "score": 0, "creation_date": 1542838198, "post_id": 53420875, "comment_id": 93716658, "body": "Can you just use this.setState({ ...this.state.companies_checked, [target.value]: target.checked}) ? If its not like real time related project, just using setState should be fine."}, {"owner": {"reputation": 804, "user_id": 305466, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4e72596a4b399e2f8aac38393714eba7?s=128&d=identicon&r=PG", "display_name": "sshevlyagin", "link": "https://stackoverflow.com/users/305466/sshevlyagin"}, "edited": false, "score": 0, "creation_date": 1542838505, "post_id": 53420875, "comment_id": 93716768, "body": "Sure, even better"}, {"owner": {"reputation": 2646, "user_id": 40751, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VVvwi.jpg?s=128&g=1", "display_name": "tex", "link": "https://stackoverflow.com/users/40751/tex"}, "edited": false, "score": 2, "creation_date": 1542838599, "post_id": 53420875, "comment_id": 93716806, "body": "This isn&#39;t a naming conflict, and the proposed solution isn&#39;t the correct one. The correct solution would be to delete <code>const prevState = this.state;</code> and leave everything else as is. The problem is that <code>prevState</code> is declared and never used, thus <code>eslint</code> complains about the unused variable. The solution is to not declare the variable in the first place, since it will never be used."}, {"owner": {"reputation": 2646, "user_id": 40751, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VVvwi.jpg?s=128&g=1", "display_name": "tex", "link": "https://stackoverflow.com/users/40751/tex"}, "edited": false, "score": 0, "creation_date": 1542839101, "post_id": 53420875, "comment_id": 93716981, "body": "Your second comment may get rid of the eslint error, but it doesn&#39;t fix the actual mistake in the code."}, {"owner": {"reputation": 2646, "user_id": 40751, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VVvwi.jpg?s=128&g=1", "display_name": "tex", "link": "https://stackoverflow.com/users/40751/tex"}, "edited": false, "score": 1, "creation_date": 1542872342, "post_id": 53420875, "comment_id": 93726071, "body": "I downvoted this answer because it suggests an incorrect usage of <code>setState</code>. The first argument to <code>setState</code> is usually an updater function. The first parameter sent to the updater function by <code>setState</code> is the previous state. The correct way to solve the problem is to remove the erroneous <code>prevState</code> declaration and use the previous state argument sent to the updater function by <code>setState</code>. Following the advice in this answer will lead to non standard behavior. It is likely to appear to work in some cases, but will break in many other cases."}, {"owner": {"reputation": 804, "user_id": 305466, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4e72596a4b399e2f8aac38393714eba7?s=128&d=identicon&r=PG", "display_name": "sshevlyagin", "link": "https://stackoverflow.com/users/305466/sshevlyagin"}, "edited": false, "score": 1, "creation_date": 1542887989, "post_id": 53420875, "comment_id": 93734962, "body": "Thanks for the detailed explanation Tex, I changed the correct mark and feel much smarter :)"}], "tags": [], "owner": {"reputation": 1072, "user_id": 3882878, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1dafa934bec9656c0a04f89d1bf355d2?s=128&d=identicon&r=PG&f=1", "display_name": "fiddlest", "link": "https://stackoverflow.com/users/3882878/fiddlest"}, "is_accepted": false, "score": 0, "last_activity_date": 1542836603, "creation_date": 1542836603, "answer_id": 53420875, "question_id": 53420835, "link": "https://stackoverflow.com/questions/53420835/why-am-i-getting-a-no-unused-var-error-when-using-in-an-inline-function/53420875#53420875", "title": "Why am I getting a &#39;no-unused-var&#39; error when using in an inline function", "body": "<p>I think it is just naming conflict.</p>\n\n<pre><code>  // you already declared prevState\n    const prevState = this.state;\n    // change to this.setState(previousState =&gt; \n    this.setState(prevState =&gt; ({\n      companies_checked: {\n        ...prevState.companies_checked,\n        [target.value]: target.checked\n      }\n    }));\n</code></pre>\n\n<p>You actually did not use prevState that you declared</p>\n"}, {"tags": [], "owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": false, "score": 2, "last_activity_date": 1542838199, "creation_date": 1542838199, "answer_id": 53421140, "question_id": 53420835, "link": "https://stackoverflow.com/questions/53420835/why-am-i-getting-a-no-unused-var-error-when-using-in-an-inline-function/53421140#53421140", "title": "Why am I getting a &#39;no-unused-var&#39; error when using in an inline function", "body": "<blockquote>\n  <p>I'm using the variable in the inline/arrow function.</p>\n</blockquote>\n\n<p>No, you don't. The <code>prevState</code> that you use in the function is declared as the function's parameter. It is shadowing the <code>const</code>-declared <code>prevState</code> from the outer scope.</p>\n\n<blockquote>\n  <p>What's the best way to make the error go away?</p>\n</blockquote>\n\n<p>Assuming the function is working as is, just omit the <code>const</code> declaration.</p>\n"}, {"tags": [], "owner": {"reputation": 2646, "user_id": 40751, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VVvwi.jpg?s=128&g=1", "display_name": "tex", "link": "https://stackoverflow.com/users/40751/tex"}, "is_accepted": true, "score": 2, "last_activity_date": 1542839228, "last_edit_date": 1542839228, "creation_date": 1542838838, "answer_id": 53421245, "question_id": 53420835, "link": "https://stackoverflow.com/questions/53420835/why-am-i-getting-a-no-unused-var-error-when-using-in-an-inline-function/53421245#53421245", "title": "Why am I getting a &#39;no-unused-var&#39; error when using in an inline function", "body": "<p>Try this (i.e. remove the line where you declare <code>prevState</code>):</p>\n\n<pre><code>this.setState(prevState =&gt; ({\n  companies_checked: {\n    ...prevState.companies_checked,\n    [target.value]: target.checked\n  }\n}));\n</code></pre>\n\n<p>Eslint is complaining that you have declared the constant <code>prevState</code> without ever using it, afterwards. The correct way to fix the problem is to simply not declare it in the first place.</p>\n\n<p>The <code>prevState</code> inside your <code>setState</code> call is correct - the first argument <code>setState</code> sends to your callback function is the previous state, and this is the one you want to use inside the callback function.</p>\n"}], "owner": {"reputation": 804, "user_id": 305466, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4e72596a4b399e2f8aac38393714eba7?s=128&d=identicon&r=PG", "display_name": "sshevlyagin", "link": "https://stackoverflow.com/users/305466/sshevlyagin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 803, "favorite_count": 0, "accepted_answer_id": 53421245, "answer_count": 3, "score": 2, "last_activity_date": 1542839228, "creation_date": 1542836368, "question_id": 53420835, "link": "https://stackoverflow.com/questions/53420835/why-am-i-getting-a-no-unused-var-error-when-using-in-an-inline-function", "title": "Why am I getting a &#39;no-unused-var&#39; error when using in an inline function", "body": "<p>Here's a snippent of my code:</p>\n\n<pre><code>const prevState = this.state;\nthis.setState(prevState =&gt; ({\n  companies_checked: {\n    ...prevState.companies_checked,\n    [target.value]: target.checked\n  }\n}));\n</code></pre>\n\n<p>It is generating the following error:</p>\n\n<pre><code>Line 52:  'prevState' is assigned a value but \nnever used  no-unused-vars\n</code></pre>\n\n<p>I'm using the variable in the inline/arrow function. What's the best way to make the error go away?</p>\n"}, {"tags": ["javascript", "electron", "xmpp", "node-xmpp"], "answers": [{"tags": [], "owner": {"reputation": 6282, "user_id": 4706711, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-dlNFOguGD_A/AAAAAAAAAAI/AAAAAAAABwA/BMlWtrTgZtY/photo.jpg?sz=128", "display_name": "Dimitrios Desyllas", "link": "https://stackoverflow.com/users/4706711/dimitrios-desyllas"}, "is_accepted": true, "score": 1, "last_activity_date": 1543004971, "last_edit_date": 1543004971, "creation_date": 1542886755, "answer_id": 53430189, "question_id": 53420830, "link": "https://stackoverflow.com/questions/53420830/electron-xmpp-js-how-i-can-debug-ssl-self-signed-error-messages/53430189#53430189", "title": "Electron + xmpp.js: How I can Debug SSL Self-signed error messages?", "body": "<p>The <code>@xmpp/client</code> library seems that lacks the api calls when connection error happens as seen in the following example:</p>\n\n<pre><code>const {client, xml, jid} = require('@xmpp/client')\n\nconst initXmpp=function(xmpp){\n\n  xmpp.on('error', err =&gt; {\n    console.error(\"Error occured\",err.toString())\n    // dialog.showErrorBox('Internal Error',err.toString())\n  })\n\n  xmpp.on('offline', () =&gt; {\n    console.log('\ud83d\udec8', 'offline')\n  })\n\n  xmpp.on('online', async address =&gt; {\n    dialog.showMessageBox({'type':'info','message':\"Online as:\"+address.toString()})\n  })\n\n  xmpp.on('stanza', stanza =&gt; {\n    console.log('\u2b88', stanza.toString())\n    xmpp.stop()\n  })\n\n  process.on('unhandledRejection', function (reason, p) {\n    console.error('Possibly Unhandled Rejection at: Promise ', p, ' reason: ', reason)\n  })\n\n  try{\n    xmpp.start()\n  } catch(e) {\n    console.error(e.message)\n  }\n}\n\ntry{\n  clientInstance=new client({\n    'service':\"xmpp://0.0.0.0:5222\",\n    'domain': \"example.com\",\n    'username':\"admin\",\n    'password':\"admin\",\n  });\n\n  initXmpp(clientInstance);\n} catch(e) {\n  console.error(e);\n}\n</code></pre>\n\n<p>That I get the following error:</p>\n\n<pre><code> events.js:183\n      throw er; // Unhandled 'error' event\n      ^\nError: self signed certificate\n    at TLSSocket.&lt;anonymous&gt; (_tls_wrap.js:1105:38)\n    at emitNone (events.js:106:13)\n    at TLSSocket.emit (events.js:208:7)\n    at TLSSocket._finishInit (_tls_wrap.js:639:8)\n    at TLSWrap.ssl.onhandshakedone (_tls_wrap.js:469:38)\n</code></pre>\n\n<p>And offers no way to handle it, that is because the SSL/TLS connections are handled by the nodejs itself thus the only solution can be found on this gthub <a href=\"https://github.com/xmppjs/xmpp.js/issues/598#issuecomment-441139677\" rel=\"nofollow noreferrer\">answer</a>.</p>\n\n<p>Based on the solution mentioned above actually combined with <code>NODE_ENV</code> environmental variable I placed the following code snippet on <code>index.js</code>:</p>\n\n<pre><code>if(env==='dev' || env=='debug'){\n  process.env.NODE_TLS_REJECT_UNAUTHORIZED=0;\n}\n</code></pre>\n\n<p>Also if using <a href=\"https://github.com/sameersbn/docker-openfire\" rel=\"nofollow noreferrer\">this</a> I would suggest to fork it and modify it to use latest version of ubuntu (or even a more stable docker image) and later version of openfire such as <a href=\"https://github.com/pc-magas/docker-openfire\" rel=\"nofollow noreferrer\">this</a> guy did.</p>\n"}], "owner": {"reputation": 6282, "user_id": 4706711, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-dlNFOguGD_A/AAAAAAAAAAI/AAAAAAAABwA/BMlWtrTgZtY/photo.jpg?sz=128", "display_name": "Dimitrios Desyllas", "link": "https://stackoverflow.com/users/4706711/dimitrios-desyllas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 558, "favorite_count": 0, "accepted_answer_id": 53430189, "answer_count": 1, "score": 0, "last_activity_date": 1543004971, "creation_date": 1542836332, "question_id": 53420830, "link": "https://stackoverflow.com/questions/53420830/electron-xmpp-js-how-i-can-debug-ssl-self-signed-error-messages", "title": "Electron + xmpp.js: How I can Debug SSL Self-signed error messages?", "body": "<p>I am using a combination of electron.js and xmpp.js in order to make my own client. My main project is consisted of these 2 files:</p>\n\n<p>Boostrapping electron on: <code>index.js</code>:</p>\n\n<pre><code>const {app,BrowserWindow,ipcMain,dialog}=require('electron');\n// const app=electron.app;\n// const BrowserWindow=electron.BrowserWindow;\n\n// Handle creating/removing shortcuts on Windows when installing/uninstalling.\nif (require('electron-squirrel-startup')) { // eslint-disable-line global-require\n  app.quit();\n}\n\n// Keep a global reference of the window object, if you don't, the window will\n// be closed automatically when the JavaScript object is garbage collected.\nlet mainWindow;\n\nconst createWindow = () =&gt; {\n  console.log(\"Message\");\n  // Create the browser window.\n  mainWindow = new BrowserWindow();\n\n  // and load the index.html of the app.\n  mainWindow.loadURL(`file://${__dirname}/ui/index.html`);\n  var env = process.env.NODE_ENV || 'production';\n\n  if(env==='dev'){\n    // Open the DevTools.\n    mainWindow.webContents.openDevTools();\n  }\n\n  // Emitted when the window is closed.\n  mainWindow.on('closed', () =&gt; {\n    // Dereference the window object, usually you would store windows\n    // in an array if your app supports multi windows, this is the time\n    // when you should delete the corresponding element.\n    mainWindow = null;\n  });\n\n  mainWindow.maximize();\n\n  const xmpp=require('./xmpp.js');\n  console.log(xmpp)\n  xmpp.xmppCli(mainWindow,ipcMain,dialog);\n};\n\n// This method will be called when Electron has finished\n// initialization and is ready to create browser windows.\n// Some APIs can only be used after this event occurs.\napp.on('ready', createWindow);\n\n// Quit when all windows are closed.\napp.on('window-all-closed', () =&gt; {\n  // On OS X it is common for applications and their menu bar\n  // to stay active until the user quits explicitly with Cmd + Q\n  if (process.platform !== 'darwin') {\n    app.quit();\n  }\n});\n\napp.on('activate', () =&gt; {\n  // On OS X it's common to re-create a window in the app when the\n  // dock icon is clicked and there are no other windows open.\n  if (mainWindow === null) {\n    createWindow();\n  }\n});\n\n// In this file you can include the rest of your app's specific main process\n// code. You can also put them in separate files and import them here.\n</code></pre>\n\n<p>And handling it with this file <code>xmpp.js</code>:</p>\n\n<pre><code>const {client, xml, jid} = require('@xmpp/client')\n\nvar clientInstance=null;\n\nconsole.log('xmpp.js loaded')\n\nconst initXmpp= function(xmpp){\n\n  xmpp.on('error', err =&gt; {\n    console.error(\"Error occured\",err.toString())\n    dialog.showErrorBox('Internal Error',err.toString())\n  })\n\n  xmpp.on('offline', () =&gt; {\n    console.log('\ud83d\udec8', 'offline')\n  })\n\n  xmpp.on('online', async address =&gt; {\n    dialog.showMessageBox({'type':'info','message':\"Online as:\"+address.toString()})\n  })\n\n  xmpp.on('stanza', stanza =&gt; {\n    console.log('\u2b88', stanza.toString())\n    xmpp.stop()\n  })\n\n  process.on('unhandledRejection', function (reason, p) {\n    console.log('Possibly Unhandled Rejection at: Promise ', p, ' reason: ', reason)\n  })\n\n  xmpp.start()\n}\n\nmodule.exports.xmppCli=function(mainWindow,ipcMain,dialog){\n\n\n  ipcMain.on('login',(event,params)=&gt;{\n    let jidVal=jid(params.username);\n    params.server=\"xmpp://\"+params.server\n    console.log(jidVal.getLocal(),jidVal.getDomain(),params.server)\n\n    if(!clientInstance){\n      console.log(\"Client Works\");\n      try{\n          clientInstance=new client({\n            'service':params.server,\n            'domain': jidVal.getDomain(),\n            'username':jidVal.getLocal(),\n            'password':params.password,\n          })\n          initXmpp(clientInstance)\n      } catch(e) {\n        console.error('Internal Error',e.message)\n        console.error(e.stack)\n        clientInstance=null;\n      }\n    }\n\n  });\n}\n</code></pre>\n\n<p>Also my ui is consisted by <code>index.html</code>:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;Login Page&lt;/title&gt;\n\n    &lt;link rel=\"stylesheet\" href=\"../../node_modules/bootstrap/dist/css/bootstrap.min.css\"&gt;\n    &lt;link rel=\"stylesheet\" href=\"../../node_modules/roboto-fontface/css/roboto/roboto-fontface.css\"&gt;\n    &lt;style&gt;\n      html, body, .container-fluid {\n          height: 100%;\n          font-family: 'Roboto', sans-serif;\n      }\n\n      #form_wrapper{\n          border:1px solid;\n          border-radius: 10px;\n      }\n    &lt;/style&gt;\n\n    &lt;script&gt;window.$ = window.jQuery = require('../../node_modules/jquery/dist/jquery.min.js');&lt;/script&gt;\n    &lt;script src=\"../../node_modules/jquery/dist/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"./index_renderer.js\"&gt;&lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body class=\"bg-secondary\"&gt;\n    &lt;div class=\"container-fluid d-flex justify-content-center align-items-center\"&gt;\n      &lt;div id=\"form_wrapper\" class=\"p-2\" style=\"background-color:white;\"&gt;\n          &lt;h1 class=\"text-center\"&gt;XMPP KEY AGREEMENT CLI&lt;/h1&gt;\n          &lt;form id=\"loginForm\"&gt;\n            &lt;div class=\"form-group\"&gt;\n              &lt;label for=\"server\"&gt;XMPP Server&lt;/label&gt;\n              &lt;input id=\"server\" class=\"form-control\" type=\"text\" name=\"server\" placeholder=\"eg. example.com\" required&gt;\n            &lt;/div&gt;\n            &lt;div class=\"form-group\"&gt;\n              &lt;label for=\"username\"&gt;Username&lt;/label&gt;\n              &lt;input id=\"username\" class=\"form-control\" type=\"text\" name=\"username\" placeholder=\"eg. user@example.com\" required&gt;\n            &lt;/div&gt;\n            &lt;div class=\"form-group\"&gt;\n              &lt;label for=\"password\"&gt;Password&lt;/label&gt;\n              &lt;input id=\"password\" class=\"form-control\" type=\"text\" name=\"password\" placeholder=\"Type your password here\" required&gt;\n            &lt;/div&gt;\n            &lt;button type=\"submit\" class=\"btn btn-primary btn-lg btn-block\"&gt;Login&lt;/button&gt;\n          &lt;/form&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>With the following renderer:</p>\n\n<pre><code>$(document).ready(function(){\n  const ipcRenderer = require('electron').ipcRenderer;\n\n  $(\"#loginForm\").on('submit',function(e){\n    e.preventDefault();\n    console.log(\"Form Submitted\");\n    //https://stackoverflow.com/a/29000408/4706711\n    let data=$(this).serializeArray().reduce(function(a, x) { a[x.name] = x.value; return a; }, {});\n    ipcRenderer.send('login',data)\n  })\n\n})\n</code></pre>\n\n<p>But my problem is that when I fired up my own local opefireserver using self-signed certificates. Because of that I get a mysterious error that is displayed like that:</p>\n\n<p><a href=\"https://i.stack.imgur.com/VExL0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VExL0.png\" alt=\"Error Shown\"></a></p>\n\n<p>So my problems are:</p>\n\n<ul>\n<li>How I can debug these types of errors? I mean I cannot find out the location of this error.</li>\n<li>How I can manually tell either to electron or xmpp.js manually to accept self-signed certificates></li>\n</ul>\n\n<p>I tried to manually figure out where this error is generated via changing:</p>\n\n<pre><code>  xmpp.on('error', err =&gt; {\n    console.error(\"Error occured\",err.toString())\n    dialog.showErrorBox('Internal Error',err.toString())\n  })\n</code></pre>\n\n<p>Into this:</p>\n\n<pre><code>  xmpp.on('error', err =&gt; {\n    console.error(\"Error occured\",err.toString())\n  })\n</code></pre>\n\n<p>Still getting strange errors.</p>\n"}, {"tags": ["javascript", "node.js", "json", "jq"], "answers": [{"comments": [{"owner": {"reputation": 513, "user_id": 8293226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ccfWx.png?s=128&g=1", "display_name": "mustachioed", "link": "https://stackoverflow.com/users/8293226/mustachioed"}, "edited": false, "score": 0, "creation_date": 1542837618, "post_id": 53421048, "comment_id": 93716486, "body": "I think you could also pipe the output as an array into <code>add</code>."}], "tags": [], "owner": {"reputation": 70791, "user_id": 997358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f849cfde4e526e22e916fa69103ef7e7?s=128&d=identicon&r=PG", "display_name": "peak", "link": "https://stackoverflow.com/users/997358/peak"}, "is_accepted": false, "score": 0, "last_activity_date": 1542868683, "last_edit_date": 1542868683, "creation_date": 1542837541, "answer_id": 53421048, "question_id": 53420766, "link": "https://stackoverflow.com/questions/53420766/how-can-i-combine-a-sequence-of-json-with-jq-without-using-the-slurp-flag/53421048#53421048", "title": "How can I combine a sequence of JSON with jq without using the slurp flag?", "body": "<p>If the stream of objects is already in a file, use <code>inputs</code> with the -n command-line option. </p>\n\n<p>This will avoid the overhead of \"slurping\" but will still require enough RAM for the entire result to fit into memory.  If that doesn't work for you, then you will have to resort to desperate measures :-)</p>\n\n<p>This might be a useful starting point:</p>\n\n<pre><code>jq -n 'reduce inputs as $in ({}; . + $in)'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 295, "user_id": 2287812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca31b2a249abb061e0ba9361e3432f68?s=128&d=identicon&r=PG", "display_name": "Sam Bantner", "link": "https://stackoverflow.com/users/2287812/sam-bantner"}, "edited": false, "score": 0, "creation_date": 1542978710, "post_id": 53421552, "comment_id": 93767518, "body": "Everything is in memory and this is a very self-explanatory answer. Thanks for the help! I didn&#39;t think to bounce reducing up one level, which completely makes sense as my brain is clear :)"}], "tags": [], "owner": {"reputation": 70791, "user_id": 997358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f849cfde4e526e22e916fa69103ef7e7?s=128&d=identicon&r=PG", "display_name": "peak", "link": "https://stackoverflow.com/users/997358/peak"}, "is_accepted": true, "score": 1, "last_activity_date": 1542841249, "last_edit_date": 1542841249, "creation_date": 1542840716, "answer_id": 53421552, "question_id": 53420766, "link": "https://stackoverflow.com/questions/53420766/how-can-i-combine-a-sequence-of-json-with-jq-without-using-the-slurp-flag/53421552#53421552", "title": "How can I combine a sequence of JSON with jq without using the slurp flag?", "body": "<p>If everything is already in memory, you could modify the <code>group_by</code> line as follows:</p>\n\n<pre><code>reduce group_by(.day)[] as $in ({}; . + { ($in[0].day): $in }\n</code></pre>\n\n<h2>Alternatives to <code>group_by</code></h2>\n\n<p>Since <code>group_by</code> entails a sort, it may be unnecessarily inefficient.  You might like to consider using a variant such as the following:</p>\n\n<pre><code># sort-free variant of group_by/1\n# f must always evaluate to an integer or always to a string.\n# Output: an array in the former case, or an object in the latter case\ndef GROUP_BY(f): reduce .[] as $x ({}; .[$x|f] += [$x] );\n</code></pre>\n"}], "owner": {"reputation": 295, "user_id": 2287812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca31b2a249abb061e0ba9361e3432f68?s=128&d=identicon&r=PG", "display_name": "Sam Bantner", "link": "https://stackoverflow.com/users/2287812/sam-bantner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 53421552, "answer_count": 2, "score": 0, "last_activity_date": 1542868683, "creation_date": 1542836012, "question_id": 53420766, "link": "https://stackoverflow.com/questions/53420766/how-can-i-combine-a-sequence-of-json-with-jq-without-using-the-slurp-flag", "title": "How can I combine a sequence of JSON with jq without using the slurp flag?", "body": "<p>I have a ton of records (~4,500) that I've processed (using jq) down to a sequence of JSON grouped by hourly UTC time (~680 groups, all unique). </p>\n\n<pre><code>{\n    \"2018-10-09T19:00:00.000Z\": []\n}\n{\n    \"2018-10-09T20:00:00.000Z\": []\n}\n{\n    \"2018-10-09T21:00:00.000Z\": []\n}\n</code></pre>\n\n<p>I'm pretty sure you can see where this is going, but I want to combine all these into a single JSON object to hand over to another system for more fun.</p>\n\n<pre><code>{\n    \"2018-10-09T19:00:00.000Z\": [],\n    \"2018-10-09T20:00:00.000Z\": [],\n    \"2018-10-09T21:00:00.000Z\": []\n}\n</code></pre>\n\n<p>The last two things I'm doing before I get to the sequence of objects is:</p>\n\n<pre><code>group_by(.day)[] | { (.[0].day): . }\n</code></pre>\n\n<p>Where <code>.day</code> is the ISO Date you see referenced above. </p>\n\n<p>I've tried a few things around <code>map</code> and <code>reduce</code> functions, but can't seem to massage the data the way I want. I've spent a few hours on this and need to take a break, so any help or direction you can point me would be great!</p>\n"}, {"tags": ["javascript", "html", "timer", "counter"], "answers": [{"comments": [{"owner": {"reputation": 355, "user_id": 10475603, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QU6icJEi3lk/AAAAAAAAAAI/AAAAAAAAAJs/r3s8B2c2Tj8/photo.jpg?sz=128", "display_name": "Kinan Alamdar", "link": "https://stackoverflow.com/users/10475603/kinan-alamdar"}, "edited": false, "score": 0, "creation_date": 1542840014, "post_id": 53421249, "comment_id": 93717273, "body": "Sven Liivak. thank brother it works. i&#39;m actually new in programming and your advice about for loop was really helpful."}, {"owner": {"reputation": 1205, "user_id": 10299681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab9bd96bac8b4a8d64ffea445386a266?s=128&d=identicon&r=PG&f=1", "display_name": "Sven Liivak", "link": "https://stackoverflow.com/users/10299681/sven-liivak"}, "reply_to_user": {"reputation": 355, "user_id": 10475603, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QU6icJEi3lk/AAAAAAAAAAI/AAAAAAAAAJs/r3s8B2c2Tj8/photo.jpg?sz=128", "display_name": "Kinan Alamdar", "link": "https://stackoverflow.com/users/10475603/kinan-alamdar"}, "edited": false, "score": 0, "creation_date": 1542872285, "post_id": 53421249, "comment_id": 93726043, "body": "Now and in the future in SO: instead of &quot;thanks&quot; &quot;wow&quot; etc. comments use upvote and &quot;accept answer&quot; options."}], "tags": [], "owner": {"reputation": 1205, "user_id": 10299681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab9bd96bac8b4a8d64ffea445386a266?s=128&d=identicon&r=PG&f=1", "display_name": "Sven Liivak", "link": "https://stackoverflow.com/users/10299681/sven-liivak"}, "is_accepted": true, "score": 1, "last_activity_date": 1542838853, "creation_date": 1542838853, "answer_id": 53421249, "question_id": 53420755, "link": "https://stackoverflow.com/questions/53420755/how-to-add-counter-on-multiple-text/53421249#53421249", "title": "How to add Counter on multiple text", "body": "<p>You dont need for statement as you are accessing all elements manually and you want numbers to change while their value is smaller than target:</p>\n\n<pre><code>function count(){\n       if(c &lt;= 82)\n           text[0].textContent = c + '%';\n       if(c &lt;= 46)\n           text[1].textContent = c + '%';\n       if(c &lt;= 76)\n           text[2].textContent = c + '%';\n       if(c &lt;= 56)\n           text[3].textContent = c + '%';\n       if(c &lt;= 26)\n           text[4].textContent = c + '%';\n\n//after reaching to highest number you need to stop the clock\n\n       if(c &lt;= 96)\n           text[5].textContent = c + '%'\n       else \n           clearInterval(time);\n\n    c++;\n}\n</code></pre>\n"}], "owner": {"reputation": 355, "user_id": 10475603, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QU6icJEi3lk/AAAAAAAAAAI/AAAAAAAAAJs/r3s8B2c2Tj8/photo.jpg?sz=128", "display_name": "Kinan Alamdar", "link": "https://stackoverflow.com/users/10475603/kinan-alamdar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 53421249, "answer_count": 1, "score": 0, "last_activity_date": 1542838853, "creation_date": 1542835984, "question_id": 53420755, "link": "https://stackoverflow.com/questions/53420755/how-to-add-counter-on-multiple-text", "title": "How to add Counter on multiple text", "body": "<p>I have a multiple Pie chart that has text inside it to show the percentage and I want to animate it. below code increment, the count until the number reaches to hundred.</p>\n\n<pre><code>var text = document.querySelectorAll('text');\nvar duration = setInterval(count, 14);\nvar c = 0;\nfunction count(){\n    for (var i = 0; i &lt; text.length; i++) {\n       if(c == 101){\n            clearInterval(time);\n       }else {\n           text[i].textContent = c + '%';\n       }\n    }\n    c++;\n}\n</code></pre>\n\n<p>but i want to have different text/number on each item. i tried below code but the number jumps from 0 to the value that i specified.</p>\n\n<pre><code>var text = document.querySelectorAll('text');\nvar duration = setInterval(count, 14);\nvar c = 0;\nfunction count(){\n    for (var i = 0; i &lt; text.length; i++) {\n       if(c == 82){\n           text[0].textContent = c + '%';\n       }else if(c == 46){\n           text[1].textContent = c + '%';\n       }else if(c == 76){\n           text[2].textContent = c + '%';\n       }else if(c == 56){\n           text[3].textContent = c + '%';\n       }else if(c == 26){\n           text[4].textContent = c + '%';\n       }else if(c == 96){\n           text[5].textContent = c + '%';\n       }\n    }\n    c++;\n\n}\nsetInterval(count, 14);\n</code></pre>\n"}, {"tags": ["javascript", "angular", "angular6", "blur", "ngzone"], "comments": [{"owner": {"reputation": 742, "user_id": 3836110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bc374a15c13eb039eb2c19c141a5bf1?s=128&d=identicon&r=PG&f=1", "display_name": "Arne", "link": "https://stackoverflow.com/users/3836110/arne"}, "edited": false, "score": 0, "creation_date": 1542837725, "post_id": 53420708, "comment_id": 93716519, "body": "Are you entirely sure the blur doesn&#39;t fire because angular wouldn&#39;t register the blur? I am pretty suspicious that has nothing to do with it. Could you try an old fashioned <code>onblur=&quot;alert(&#39;blur&#39;)&quot;</code>?"}, {"owner": {"reputation": 133, "user_id": 8056544, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d521f741463c1cc9079904d63bfc5a62?s=128&d=identicon&r=PG&f=1", "display_name": "M. Gamie", "link": "https://stackoverflow.com/users/8056544/m-gamie"}, "reply_to_user": {"reputation": 742, "user_id": 3836110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bc374a15c13eb039eb2c19c141a5bf1?s=128&d=identicon&r=PG&f=1", "display_name": "Arne", "link": "https://stackoverflow.com/users/3836110/arne"}, "edited": false, "score": 0, "creation_date": 1542864732, "post_id": 53420708, "comment_id": 93723122, "body": "yes i tried the native one also not working, i created a test div, and both the native onblur, and (blur) are working on the test div normally !!"}, {"owner": {"reputation": 742, "user_id": 3836110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bc374a15c13eb039eb2c19c141a5bf1?s=128&d=identicon&r=PG&f=1", "display_name": "Arne", "link": "https://stackoverflow.com/users/3836110/arne"}, "edited": false, "score": 0, "creation_date": 1542958873, "post_id": 53420708, "comment_id": 93757760, "body": "One thing is for sure; it has nothing to do with the whole angular zone. I think the calendar shows as a modal with an overlay, essentially covering your whole page with a new (transparent) div. So clicking outside the calendar simply doesn&#39;t mean clicking outside the div containing the calendar and thus there is no lose of focus and no blur."}], "answers": [{"tags": [], "owner": {"reputation": 133, "user_id": 8056544, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d521f741463c1cc9079904d63bfc5a62?s=128&d=identicon&r=PG&f=1", "display_name": "M. Gamie", "link": "https://stackoverflow.com/users/8056544/m-gamie"}, "is_accepted": true, "score": 0, "last_activity_date": 1543726993, "creation_date": 1543726993, "answer_id": 53577558, "question_id": 53420708, "link": "https://stackoverflow.com/questions/53420708/blur-event-handler-not-working-when-using-runoutsideangular-method-angular-2/53577558#53577558", "title": "blur event handler not working when using runOutsideAngular method (Angular 2+)", "body": "<p>This workaround did the trick</p>\n\n<pre><code>      body.addEventListener('click', event =&gt; {\n       let isDatepicker = false;\n       event['path'].forEach(item =&gt; {\n        if (item.nodeName === 'SP-DATEPICKER') {\n         isDatepicker = true;\n        }\n       });\n\n      if (!isDatepicker) {\n        this.zone.run(() =&gt; {\n          this.closeDatePicker();\n        });\n      }\n     });\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 8056544, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d521f741463c1cc9079904d63bfc5a62?s=128&d=identicon&r=PG&f=1", "display_name": "M. Gamie", "link": "https://stackoverflow.com/users/8056544/m-gamie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 558, "favorite_count": 0, "accepted_answer_id": 53577558, "answer_count": 1, "score": 0, "last_activity_date": 1543726993, "creation_date": 1542835735, "question_id": 53420708, "link": "https://stackoverflow.com/questions/53420708/blur-event-handler-not-working-when-using-runoutsideangular-method-angular-2", "title": "blur event handler not working when using runOutsideAngular method (Angular 2+)", "body": "<p>I am using this <a href=\"http://chrisdavies.github.io/tiny-date-picker/\" rel=\"nofollow noreferrer\">Tiny Date Picker</a> library to implement a range datepicker, I am using the <a href=\"https://angular.io/api/core/NgZone\" rel=\"nofollow noreferrer\">NgZone</a>, to run it outside the angular, using the <a href=\"https://angular.io/api/core/NgZone#runOutsideAngular\" rel=\"nofollow noreferrer\">runOutsideAngular()</a> method, now I want to implement a blur event handler, so that when I click outside the calender the picker closes, but the angular is not firing the function when the div is blured because it is not detecting any changes as it is running outside the angular, any ideas for this?</p>\n\n<p>my html</p>\n\n<pre><code>  &lt;div type=\"text\" class=\"sp-datepicker-input\" tabindex=\"1\" (blur)='closeDatePicker()' [class.sp-datepicker-inputopen]=\"modalRangeOpen\"&gt;\n     &lt;div class=\"sp-datepicker-calendar\"&gt;&lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>my ts.</p>\n\n<pre><code>ngAfterViewInit() {\nthis.zone.runOutsideAngular(() =&gt; {\n  const input = document.querySelector('sp-datepicker .sp-datepicker-input');\n  let eventType = 'select';\n  if (this.range) {\n    this.datePicker = DateRangePicker(input, {\n      startOpts: this.options,\n      endOpts: this.to_options\n    });\n    eventType = 'statechange';\n  } else {\n    this.datePicker = TinyDatePicker(input, this.options);\n  }\n  this.datePicker.on(eventType, (_, picker) =&gt; {\n    let date = picker.state.selectedDate;\n\n    if (this.range) {\n      date = {\n        start: picker.state.start,\n        end: picker.state.end\n      };\n    }\n    // here i am using the .run() method to capture the values,\n    this.zone.run(() =&gt; {\n      this.start_value = date.start;\n      this.end_value = date.end;\n      this.onChange(date);\n    });\n    return date;\n  });\n});\n}\n   closeDatePicker() {\n    this.modalRangeOpen = false;\n   }\n</code></pre>\n"}, {"tags": ["javascript", "html", "angularjs"], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 10636708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae2e943fbc0911ee5923675cf5be6f9?s=128&d=identicon&r=PG&f=1", "display_name": "Vaibhav27", "link": "https://stackoverflow.com/users/10636708/vaibhav27"}, "edited": false, "score": 0, "creation_date": 1542838789, "post_id": 53420878, "comment_id": 93716873, "body": "I tried it. Its not working. I am getting [object, object] in the listbox. I have updated the code in my question please check that."}, {"owner": {"reputation": 2628, "user_id": 9870107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oknef.png?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/9870107/david"}, "reply_to_user": {"reputation": 19, "user_id": 10636708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae2e943fbc0911ee5923675cf5be6f9?s=128&d=identicon&r=PG&f=1", "display_name": "Vaibhav27", "link": "https://stackoverflow.com/users/10636708/vaibhav27"}, "edited": false, "score": 0, "creation_date": 1542839654, "post_id": 53420878, "comment_id": 93717157, "body": "The fact that you see <code>[object Object]</code> in the <code>&lt;select&gt;</code> elements has nothing to do with the way the array is divided, but it has to do with how Angular constructs the final HTML from the array contents. I&#39;m not much of an expert on Angular to be honest, but by looking at the code you provided I&#39;d suggest looking into <code>ng-options</code> and <code>ng-model</code>"}, {"owner": {"reputation": 2628, "user_id": 9870107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oknef.png?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/9870107/david"}, "reply_to_user": {"reputation": 19, "user_id": 10636708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae2e943fbc0911ee5923675cf5be6f9?s=128&d=identicon&r=PG&f=1", "display_name": "Vaibhav27", "link": "https://stackoverflow.com/users/10636708/vaibhav27"}, "edited": false, "score": 0, "creation_date": 1542840033, "post_id": 53420878, "comment_id": 93717278, "body": "@Vaibhav27  According to the AngularJS docs, you have to change <code>ng-options</code> to something like this: <code>company.name for company in companies</code> to display the name part: <a href=\"https://docs.angularjs.org/api/ng/directive/ngOptions\" rel=\"nofollow noreferrer\">docs.angularjs.org/api/ng/directive/ngOptions</a>"}], "tags": [], "owner": {"reputation": 2628, "user_id": 9870107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oknef.png?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/9870107/david"}, "is_accepted": false, "score": 0, "last_activity_date": 1542839240, "last_edit_date": 1542839240, "creation_date": 1542836634, "answer_id": 53420878, "question_id": 53420686, "link": "https://stackoverflow.com/questions/53420686/how-do-i-split-and-array-into-two-parts-based-on-type-angular-js/53420878#53420878", "title": "How do I split and Array into two parts based on type- Angular JS", "body": "<p>With a reduce:</p>\n\n<pre><code>var companies = JSON.parse(window.localStorage.getItem('newCompany'));\n\nvar splitted = companies.reduce(function (obj, item) {\n  if (obj[item.type] == null) { obj[item.type] = []; }\n  obj[item.type].push(item);\n  return obj;\n}, {});\n</code></pre>\n\n<p>Will result in <code>splitted</code> looking like this:</p>\n\n<pre><code>{\n  buyer: [{name: \"Huawei\", ... }],\n  supplier: [{name: \"Asus\", ... }, {name: \"Acer\", ... }]\n}\n</code></pre>\n\n<p>And then grab the information from <code>splitted</code>:</p>\n\n<pre><code>splitted.buyer;    // -&gt; [{name: \"Huawei\", ... }]\nsplitted.supplier; // -&gt; [{name: \"Asus\", ... }, {name: \"Acer\", ... }]\n</code></pre>\n\n<p>This has the additional benefit, that if you add a third \"type\" of company later, you won't have to change a single line of code.</p>\n"}, {"comments": [{"owner": {"reputation": 19, "user_id": 10636708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae2e943fbc0911ee5923675cf5be6f9?s=128&d=identicon&r=PG&f=1", "display_name": "Vaibhav27", "link": "https://stackoverflow.com/users/10636708/vaibhav27"}, "edited": false, "score": 0, "creation_date": 1542906624, "post_id": 53420898, "comment_id": 93745017, "body": "Thank you so much. It totally works! Can you please tell me how this&quot; let company of newCompany&quot; works?"}, {"owner": {"reputation": 409, "user_id": 5337213, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2125dc4ec1798c070a91f2153db37f2f?s=128&d=identicon&r=PG&f=1", "display_name": "Becks", "link": "https://stackoverflow.com/users/5337213/becks"}, "reply_to_user": {"reputation": 19, "user_id": 10636708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae2e943fbc0911ee5923675cf5be6f9?s=128&d=identicon&r=PG&f=1", "display_name": "Vaibhav27", "link": "https://stackoverflow.com/users/10636708/vaibhav27"}, "edited": false, "score": 0, "creation_date": 1542993557, "post_id": 53420898, "comment_id": 93774036, "body": "It&#39;s a foreach loop for iterables (like arrays, maps, strings, etc.), you can learn more about it <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Statements/for...of\" rel=\"nofollow noreferrer\">here</a>"}], "tags": [], "owner": {"reputation": 409, "user_id": 5337213, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2125dc4ec1798c070a91f2153db37f2f?s=128&d=identicon&r=PG&f=1", "display_name": "Becks", "link": "https://stackoverflow.com/users/5337213/becks"}, "is_accepted": true, "score": 1, "last_activity_date": 1542836710, "creation_date": 1542836710, "answer_id": 53420898, "question_id": 53420686, "link": "https://stackoverflow.com/questions/53420686/how-do-i-split-and-array-into-two-parts-based-on-type-angular-js/53420898#53420898", "title": "How do I split and Array into two parts based on type- Angular JS", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var newCompany = [{\r\n    name: \"Huawei\", // --&gt;COMPANY NAME\r\n    email: \"Drath@yahoo.com\",\r\n    phone: \"123-123-1234\",\r\n    owner: \"Drath\",\r\n    type: \"buyer\"\r\n  },\r\n  {\r\n    name: \"Asus\", // --&gt;COMPANY NAME\r\n    email: \"Vadar@yahoo.com\",\r\n    phone: \"999-123-8888\",\r\n    owner: \"Vadar\",\r\n    type: \"supplier\"\r\n  },\r\n  {\r\n    name: \"Acer\", // --&gt;COMPANY NAME\r\n    email: \"Radal@yahoo.com\",\r\n    phone: \"676-989-8888\",\r\n    owner: \"Randall\",\r\n    type: \"supplier\"\r\n  }\r\n];\r\n\r\nlet buyers = [], suppliers = [];\r\nfor (let company of newCompany) {\r\n  if (company.type === \"buyer\")\r\n    buyers.push(company);\r\n  else\r\n    suppliers.push(company);\r\n}\r\n\r\nconsole.log(\"Buyers:\");\r\nconsole.log(buyers);\r\nconsole.log(\"Suppliers:\");\r\nconsole.log(suppliers);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 19, "user_id": 10636708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae2e943fbc0911ee5923675cf5be6f9?s=128&d=identicon&r=PG&f=1", "display_name": "Vaibhav27", "link": "https://stackoverflow.com/users/10636708/vaibhav27"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 53420898, "answer_count": 2, "score": 0, "last_activity_date": 1542842116, "creation_date": 1542835627, "last_edit_date": 1542842116, "question_id": 53420686, "link": "https://stackoverflow.com/questions/53420686/how-do-i-split-and-array-into-two-parts-based-on-type-angular-js", "title": "How do I split and Array into two parts based on type- Angular JS", "body": "<p>I am trying to split an array into 2 types based on type: Buyer or Supplier. If you look at the last snippet, there is an array called newCompanies where there are company names with the type of company. </p>\n\n<p>I am trying to get that company array data from local storage and I want to split them into 2 arrays so that I can have 2 types of listboxes. One is the Buyer listbpx and the other is supplier listbox.</p>\n\n<p>Thanks in advance</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var companies = JSON.parse(localStorage.getItem(\"newCompany\"));\n\nvar splitted = companies.reduce(function(obj, item) {\n  if (obj[item.type] == null) {\n    obj[item.type] = [];\n  }\n  obj[item.type].push(item);\n  return obj;\n}, {});\n\nsplitted.buyer;\nsplitted.supplier;\n$scope.companies.push(splitted.supplier);\n\n$scope.companies.push(splitted.buyer);\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"form-group\"&gt;\n  &lt;label class=\"control-label col-sm-2\"&gt;Company&lt;/label&gt;\n  &lt;div class=\"col-sm-10\" ng-class=\"{ 'has-error' : addForm.addCompany.$invalid &amp;&amp; !addForm.addCompany.$pristine }\"&gt;\n    &lt;select class=\"form-control\" name=\"addCompany\"\n            placeholder=\"Select Company\"\n            ng-options=\"company for company in companies\"\n            ng-model=\"newUser.company\" ng-required=\"true\"&gt;\n    &lt;/select&gt;\n    &lt;span class=\"help-block\" ng-show=\"addForm.addCompany.$invalid &amp;&amp; !addForm.addCompany.$pristine\"&gt;\nYour Company is required.\n   &lt;/span&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n\n\n<pre class=\"lang-js prettyprint-override\"><code>var newCompany = [{\n    name: \"Huawei\", // --&gt;COMPANY NAME\n    email: \"Drath@yahoo.com\",\n    phone: \"123-123-1234\",\n    owner: \"Drath\",\n    type: \"buyer\"\n  },\n  {\n    name: \"Asus\", // --&gt;COMPANY NAME\n    email: \"Vadar@yahoo.com\",\n    phone: \"999-123-8888\",\n    owner: \"Vadar\",\n    type: \"supplier\"\n  },\n  {\n    name: \"Acer\", // --&gt;COMPANY NAME\n    email: \"Radal@yahoo.com\",\n    phone: \"676-989-8888\",\n    owner: \"Randall\",\n    type: \"supplier\"\n  }\n];\nwindow.localStorage.setItem(\"newCompany\", JSON.stringify(newCompany));\n</code></pre>\n\n\n"}, {"tags": ["javascript", "node.js", "express"], "answers": [{"comments": [{"owner": {"reputation": 314, "user_id": 6810982, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/1178334388891506/picture?type=large", "display_name": "Sam Vruggink", "link": "https://stackoverflow.com/users/6810982/sam-vruggink"}, "edited": false, "score": 0, "creation_date": 1542884152, "post_id": 53422505, "comment_id": 93732744, "body": "Cant seem to figure out where to put logic, can you help me how I can rewrite the code in index.js to use normal logic like fiddling with the parameters and calling other functions? I would like to maintain the standard and correct way of using express."}, {"owner": {"reputation": 636, "user_id": 3425506, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f7626c2b455a5c3a1b64b1cbb6a7f27f?s=128&d=identicon&r=PG&f=1", "display_name": "user3425506", "link": "https://stackoverflow.com/users/3425506/user3425506"}, "reply_to_user": {"reputation": 314, "user_id": 6810982, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/1178334388891506/picture?type=large", "display_name": "Sam Vruggink", "link": "https://stackoverflow.com/users/6810982/sam-vruggink"}, "edited": false, "score": 0, "creation_date": 1542923657, "post_id": 53422505, "comment_id": 93750451, "body": "I am quite new to node development. I am using express including the express application generator. That seems similar to the diegohaz/rest system. One thing I noticed is that the diegohaz app wants to install globally as opposed to just in a specific app directory. Not sure if I would want that. Just wondering why you are using diegohaz not express? Steve"}, {"owner": {"reputation": 636, "user_id": 3425506, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f7626c2b455a5c3a1b64b1cbb6a7f27f?s=128&d=identicon&r=PG&f=1", "display_name": "user3425506", "link": "https://stackoverflow.com/users/3425506/user3425506"}, "reply_to_user": {"reputation": 314, "user_id": 6810982, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/1178334388891506/picture?type=large", "display_name": "Sam Vruggink", "link": "https://stackoverflow.com/users/6810982/sam-vruggink"}, "edited": false, "score": 0, "creation_date": 1542924830, "post_id": 53422505, "comment_id": 93750724, "body": "Apologies: I have just noticed the express application generator is installed globally!"}], "tags": [], "owner": {"reputation": 636, "user_id": 3425506, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f7626c2b455a5c3a1b64b1cbb6a7f27f?s=128&d=identicon&r=PG&f=1", "display_name": "user3425506", "link": "https://stackoverflow.com/users/3425506/user3425506"}, "is_accepted": false, "score": 1, "last_activity_date": 1542848294, "creation_date": 1542848294, "answer_id": 53422505, "question_id": 53420639, "link": "https://stackoverflow.com/questions/53420639/where-to-write-logic-in-nodejs-express-route/53422505#53422505", "title": "Where to write logic in nodejs express route", "body": "<p>You can write the code in index.js which may be a good way to start developing. As the app grows it would be a good idea to move the code to other files to follow some organized pattern eg Model View Controller.</p>\n"}], "owner": {"reputation": 314, "user_id": 6810982, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/1178334388891506/picture?type=large", "display_name": "Sam Vruggink", "link": "https://stackoverflow.com/users/6810982/sam-vruggink"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542848294, "creation_date": 1542835347, "question_id": 53420639, "link": "https://stackoverflow.com/questions/53420639/where-to-write-logic-in-nodejs-express-route", "title": "Where to write logic in nodejs express route", "body": "<p>I'm using \n<a href=\"https://github.com/diegohaz/rest/\" rel=\"nofollow noreferrer\">https://github.com/diegohaz/rest/</a> boilerplate\n and I do not fully get what the best practice is to put my logic like QR generation and extra validation.</p>\n\n<p>I was thinking of putting validation and password generation in <code>index.js</code> How can I add logic in here? Never seen this type of function before.</p>\n\n<p>`</p>\n\n<pre><code>router.post('/',\n  token({ required: true }),\n  body({ link, reward, accountid, message, startdate, enddate }),\n  create);\n</code></pre>\n\n<p>Or do I write it in the controller and call an import an <code>qrcodeservice.js</code> file. And where can I put logic in this function? Also quite a new type of function for me.</p>\n\n<pre><code>export const index = ({ querymen: { query, select, cursor } }, res, next) =&gt;\n  Key.count(query)\n    .then(count =&gt; Key.find(query, select, cursor)\n      .then((keys) =&gt; ({\n        count,\n        rows: keys.map((key) =&gt; key.view())\n      }))\n    )\n    .then(success(res))\n    .catch(next)\n</code></pre>\n\n<p>I do get the flow of the program and understand the models (some validation is done in there).</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "jquery", "css", "video", "slick.js"], "answers": [{"comments": [{"owner": {"reputation": 1223, "user_id": 1121315, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/5HjoI.jpg?s=128&g=1", "display_name": "Murphy1976", "link": "https://stackoverflow.com/users/1121315/murphy1976"}, "edited": false, "score": 0, "creation_date": 1543239589, "post_id": 53421585, "comment_id": 93834297, "body": "What errors were you getting?  I explained in the original issue that I have a jQuery function on window resize that calls the reloadBGVid function."}, {"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "reply_to_user": {"reputation": 1223, "user_id": 1121315, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/5HjoI.jpg?s=128&g=1", "display_name": "Murphy1976", "link": "https://stackoverflow.com/users/1121315/murphy1976"}, "edited": false, "score": 0, "creation_date": 1543239992, "post_id": 53421585, "comment_id": 93834567, "body": "@Murphy1976, the error was <code>SyntaxError: missing ) after formal parameters</code> because of ths: <code>.on(&#39;init&#39;, function(event. slick)</code> -- <code>&#39;event.&#39;</code> argument looks strange to me."}, {"owner": {"reputation": 1223, "user_id": 1121315, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/5HjoI.jpg?s=128&g=1", "display_name": "Murphy1976", "link": "https://stackoverflow.com/users/1121315/murphy1976"}, "edited": false, "score": 0, "creation_date": 1543241779, "post_id": 53421585, "comment_id": 93835705, "body": "I&#39;ve copied your syntax to my functions and I&#39;m still having video issues.  I&#39;m starting to think it may be another script I have loaded on the page that is interfering with the video playback."}], "tags": [], "owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "is_accepted": false, "score": 0, "last_activity_date": 1542840906, "creation_date": 1542840906, "answer_id": 53421585, "question_id": 53420638, "link": "https://stackoverflow.com/questions/53420638/video-background-of-slide-on-slick-carousel-issues/53421585#53421585", "title": "Video Background of slide on Slick Carousel Issues", "body": "<p>The code you posted in your question contains errors and does not work at all.<br>\nI cannot find a reason to have both <code>autoplay</code> attribute in <code>video</code> tag and <code>oninit</code> event handler.<br>\nAlso it is not clear where you're calling <code>reloadBGVid</code> function.</p>\n\n<p>So I'm just leaving for you the snippet below in hope it helps:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n\r\n  $(\"#mySlick\").on('init', function(event) {\r\n    $(\".carousel-item-background .bgVid\").each(function(i, e) {\r\n      e.play();\r\n    });\r\n  });\r\n\r\n  $(\"#mySlick\").slick({\r\n    dots: false,\r\n    infinite: true,\r\n    speed: 1000,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    autoplay: true,\r\n    autoplaySpeed: 10000,\r\n    arrows: true,\r\n    focusOnSelect: true\r\n  });\r\n\r\n  function reloadBGVid() {\r\n    $(\"video.bgVid\").each(function(i, e) {\r\n      if (e.paused) e.play();\r\n    });\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {background: #259}\r\n#mySlick {width:436px; height:300px; margin: auto}\r\nvideo {width:426px; height:240px; object-fit:cover}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://kenwheeler.github.io/slick/slick/slick-theme.css\" rel=\"stylesheet\" /&gt;\r\n&lt;link href=\"https://kenwheeler.github.io/slick/slick/slick.css\" rel=\"stylesheet\" /&gt;\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://kenwheeler.github.io/slick/slick/slick.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"mySlick\"&gt;\r\n  &lt;div class=\"item\"&gt;\r\n    &lt;img class=\"carousel-item-background\" src=\"https://picsum.photos/426/240?1\"&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"item\"&gt;\r\n    &lt;img class=\"carousel-item-background\" src=\"https://picsum.photos/426/240?2\"&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"item\"&gt;\r\n    &lt;img class=\"carousel-item-background\" src=\"https://picsum.photos/426/240?3\"&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"item\"&gt;\r\n    &lt;div class=\"carousel-item-background\"&gt;\r\n      &lt;video class=\"bgVid\" muted loop preload&gt;\r\n       &lt;source src=\"http://dash.akamaized.net/akamai/bbb/bbb_1280x720_60fps_6000k.mp4\" type=\"video/mp4\"&gt;\r\n      &lt;/video&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1223, "user_id": 1121315, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/5HjoI.jpg?s=128&g=1", "display_name": "Murphy1976", "link": "https://stackoverflow.com/users/1121315/murphy1976"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1281, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542840906, "creation_date": 1542835346, "question_id": 53420638, "link": "https://stackoverflow.com/questions/53420638/video-background-of-slide-on-slick-carousel-issues", "title": "Video Background of slide on Slick Carousel Issues", "body": "<p>There's a few issues with video backgrounds in the Slick.js carousel that I am running into.</p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;div id=\"mySlick\"&gt;\n     &lt;div class=\"item\"&gt;\n          &lt;img class=\"carousel-item-background\" src=\"images/01.jpg\"&gt;     \n     &lt;/div&gt;\n     &lt;div class=\"item\"&gt;\n          &lt;img class=\"carousel-item-background\" src=\"images/02.jpg\"&gt;     \n     &lt;/div&gt;\n     &lt;div class=\"item\"&gt;\n          &lt;img class=\"carousel-item-background\" src=\"images/03.jpg\"&gt;     \n     &lt;/div&gt;\n     &lt;div class=\"item\"&gt;\n          &lt;div class=\"carousel-item-background\"&gt;\n               &lt;video class=\"bgVid\" autoplay muted loop preload&gt;\n                    &lt;source src=\"video.mp4\" type=\"video/mp4\"&gt;\n               &lt;/video&gt;\n          &lt;/div&gt;    \n     &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>JS:</strong></p>\n\n<pre><code>$(\"#mySlick\").on('init', function(event. slick){\n     $(\".carousel-item-background\").each(function(){\n          $(this).find('.bgVid').get(0).play();\n     });\n});\n\n$(\"#mySlick\").slick({\n     dots: false,\n     infinite: true,\n     speed: 1000,\n     slidesToShow: 1,\n     slidesToScroll: 1,\n     autoplay: true,\n     autoplaySpeed: 10000,\n     arrows: true,\n     focusOnSelect: true\n});\n\nfunction reloadBGVid(){\n     $(\"video[class='bgVid']\").each(function(){\n          var ve = $(this);\n          var $video = ve.get(0);\n          if ($video.paused){\n               $video.play();          \n          }\n     });\n};\n</code></pre>\n\n<p>Barring the CSS I excluded, the slider loads and appears fine. I can click next and previous through the slider all the way around. The first time I click NEXT all through the slider, when I arrive at the video slide, the video will start from the beginning, and the first time I click PREVIOUS to the video slide, even if I have waited a few seconds for the video to start playing, I can see during the transition between the FIRST slide and the LAST slide that the video has progressed, but when the transition ends, the video rewinds to the beginning and plays from there.  I have NO afterChange calls in my script.</p>\n\n<p>The second issue I have is responsive. I have a media query in the CSS, if the window is less than 768px wide, the video is set to <code>display: none</code>. I have a jQuery function, if the window is 768px or larger, the media query is nullified and the <code>reloadBGVid()</code> function is called. But no matter how I target the <code>.bgVid</code>, it simply will not play the video again.</p>\n"}, {"tags": ["javascript", "jsp", "session", "location", "href"], "comments": [{"owner": {"reputation": 5136, "user_id": 2553191, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e4f2ea35a69b90cd49c463281a1eeed7?s=128&d=identicon&r=PG", "display_name": "ehacinom", "link": "https://stackoverflow.com/users/2553191/ehacinom"}, "edited": false, "score": 0, "creation_date": 1542836274, "post_id": 53420612, "comment_id": 93716010, "body": "please include code you&#39;ve tried"}, {"owner": {"reputation": 1, "user_id": 9761180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/297070343984b0c21ac73ec8aa0edd53?s=128&d=identicon&r=PG&f=1", "display_name": "Ersualo", "link": "https://stackoverflow.com/users/9761180/ersualo"}, "reply_to_user": {"reputation": 5136, "user_id": 2553191, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e4f2ea35a69b90cd49c463281a1eeed7?s=128&d=identicon&r=PG", "display_name": "ehacinom", "link": "https://stackoverflow.com/users/2553191/ehacinom"}, "edited": false, "score": 0, "creation_date": 1542838079, "post_id": 53420612, "comment_id": 93716623, "body": "I update it, thanks!"}, {"owner": {"reputation": 5136, "user_id": 2553191, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e4f2ea35a69b90cd49c463281a1eeed7?s=128&d=identicon&r=PG", "display_name": "ehacinom", "link": "https://stackoverflow.com/users/2553191/ehacinom"}, "edited": false, "score": 0, "creation_date": 1542838473, "post_id": 53420612, "comment_id": 93716755, "body": "make sure your function that calls <code>setAttribute</code> is in the callback of the <code>ajax</code> call"}, {"owner": {"reputation": 5136, "user_id": 2553191, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e4f2ea35a69b90cd49c463281a1eeed7?s=128&d=identicon&r=PG", "display_name": "ehacinom", "link": "https://stackoverflow.com/users/2553191/ehacinom"}, "edited": false, "score": 0, "creation_date": 1542838495, "post_id": 53420612, "comment_id": 93716764, "body": "if that doesn&#39;t help try console logging the session after you do <code>session.setAttribute</code> to make sure the session is actually what you expect. I don&#39;t know jsp but does the line <code>value=&quot;&lt;%=session.getAttribute(&quot;clte_code_cliente&quot;)%&gt;&quot;</code> with double quotes <code>&quot;</code> inside of another double quotes work or do you need to use single quotes?"}, {"owner": {"reputation": 1, "user_id": 9761180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/297070343984b0c21ac73ec8aa0edd53?s=128&d=identicon&r=PG&f=1", "display_name": "Ersualo", "link": "https://stackoverflow.com/users/9761180/ersualo"}, "reply_to_user": {"reputation": 5136, "user_id": 2553191, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e4f2ea35a69b90cd49c463281a1eeed7?s=128&d=identicon&r=PG", "display_name": "ehacinom", "link": "https://stackoverflow.com/users/2553191/ehacinom"}, "edited": false, "score": 0, "creation_date": 1542838848, "post_id": 53420612, "comment_id": 93716892, "body": "It is in the callback and the answer is yes, It works in that way. This was working perfect but for two weeks it started to happen. I&#39;m wondering if this is related to the browser or something on the client side, maybe cache."}, {"owner": {"reputation": 5136, "user_id": 2553191, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e4f2ea35a69b90cd49c463281a1eeed7?s=128&d=identicon&r=PG", "display_name": "ehacinom", "link": "https://stackoverflow.com/users/2553191/ehacinom"}, "edited": false, "score": 0, "creation_date": 1542839224, "post_id": 53420612, "comment_id": 93717019, "body": "can you put the code that calls <code>setAttribute</code> there? I don&#39;t see how it is in the callback right now"}], "owner": {"reputation": 1, "user_id": 9761180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/297070343984b0c21ac73ec8aa0edd53?s=128&d=identicon&r=PG&f=1", "display_name": "Ersualo", "link": "https://stackoverflow.com/users/9761180/ersualo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542838052, "creation_date": 1542835169, "last_edit_date": 1542838052, "question_id": 53420612, "link": "https://stackoverflow.com/questions/53420612/jsp-get-data-from-another-session-when-i-switch-to-another-jsp-file", "title": "JSP get data from another session when I switch to another jsp file", "body": "<p>I have two jsp files login.jsp and index.jsp, login.jsp do an ajax call where after authentication are set values in session with setAttribute('key', value) then a javascript switch to a index.jsp using window.location.href='index.jsp'. index.jsp is calling getAttribute('key') to get the value but the value obtained is not de same which set in login.jsp.</p>\n\n<p>this is the ajax call in login.jsp</p>\n\n<pre><code> 75         function login() {\n 76             var usuario = $(\"#usuario\").val();\n 77             var password = $(\"#password\").val();\n 78             var agente = navigator.userAgent;\n 79\n 80             $.post(\"app/bd.jsp\", {\n 81                 funcion: \"login\",\n 82                 \"usuario\": usuario,\n 83                 \"password\": password,\n 84                 \"agente\": agente\n 85             }, function (data) {\n 86                 if (data.trim() === \"ok\") {\n 87                     \n 88                     window.location.href = 'index.jsp';\n 89                 } else {\n 90                     $(\".has-usuario\").addClass(\"has-error\");\n 91                     $(\".has-password\").addClass(\"has-error\");\n 92                     $(\"#mensaje-login\").html(\"Usuario o password invalido\");\n 93                 }\n 94             });\n</code></pre>\n\n<p>After authentication validation, this is executed in bd.jsp when the ajax call is performed:</p>\n\n<pre><code> 287 session.setAttribute(\"clte_code_cliente\", \n resultado.getString(\"usrw_clte_code_cliente\"));\n 288 session.setAttribute(\"clte_nombre_razon\", resultado.getString(\"clte_nombre_razon\"));\n 289 session.setAttribute(\"usrw_usuario\", resultado.getString(\"usrw_usuario\"));\n 290 session.setAttribute(\"usrw_nombre\", resultado.getString(\"usrw_nombre\"));\n 291 session.setAttribute(\"usrw_tipo\", resultado.getInt(\"usrw_tipo\"));\n 292 session.setAttribute(\"usrw_id\", resultado.getInt(\"usrw_id\"));\n</code></pre>\n\n<p>Then window.location.href = 'index.jsp'; switch to index.jsp when the callback of the ajax call is executed. </p>\n\n<p>Finally in the index.jsp I try to retrieve the session values as:</p>\n\n<pre><code> 488 &lt;div class=\"col-sm-8\"&gt;\n 489   &lt;input type=\"text\"\n 490     value=\"&lt;%=session.getAttribute(\"clte_code_cliente\")%&gt;\"\n 491     onblur=\"traerRazonSocial();\" class=\"form-control\" id=\"inputCodigo\"\n 492     placeholder=\"Codigo de cliente\" required autofocus disabled&gt;\n 493 &lt;/div&gt;\n</code></pre>\n\n<p>But the information which retrieves session.getAttribute() function is not the correct user information, that information belongs to another user logged before.</p>\n\n<p>thanks!</p>\n"}, {"tags": ["javascript", "c#", "jquery", "asp.net-core", "file-upload"], "comments": [{"owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "edited": false, "score": 1, "creation_date": 1542835823, "post_id": 53420580, "comment_id": 93715826, "body": "<a href=\"https://stackoverflow.com/questions/31839449/how-to-upload-image-via-webapi\" title=\"how to upload image via webapi\">stackoverflow.com/questions/31839449/&hellip;</a>"}, {"owner": {"reputation": 333, "user_id": 9169938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb83d369ca8ec0d225c9c8b7f31d50d?s=128&d=identicon&r=PG&f=1", "display_name": "szkut", "link": "https://stackoverflow.com/users/9169938/szkut"}, "reply_to_user": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "edited": false, "score": 0, "creation_date": 1542839695, "post_id": 53420580, "comment_id": 93717177, "body": "all your suggestions require the use of <code>HttpContext.Current.Request.Files</code> - my controller doesn&#39;t know what it is. I&#39;m using asp core mvc 2 and can&#39;t find the right <code>using</code>.   <b>Edit:</b> more accurately - HttpContext doesn&#39;t have Current. <code>HttpContext</code> comes from <code>ControllerBase.HttpContext</code>"}, {"owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "edited": false, "score": 1, "creation_date": 1542844088, "post_id": 53420580, "comment_id": 93718538, "body": "you need to register httpcontext and pass it as dependecy"}, {"owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "edited": false, "score": 1, "creation_date": 1542844281, "post_id": 53420580, "comment_id": 93718586, "body": "see <a href=\"https://stackoverflow.com/questions/31243068/access-the-current-httpcontext-in-asp-net-core\" title=\"access the current httpcontext in asp net core\">stackoverflow.com/questions/31243068/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 49639, "user_id": 231716, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f983f7a23d33aa383453583cbf20bf2a?s=128&d=identicon&r=PG", "display_name": "Brian Mains", "link": "https://stackoverflow.com/users/231716/brian-mains"}, "is_accepted": false, "score": 1, "last_activity_date": 1542836533, "creation_date": 1542836533, "answer_id": 53420858, "question_id": 53420580, "link": "https://stackoverflow.com/questions/53420580/how-to-add-custom-properties-to-file-form-javascript-jquery/53420858#53420858", "title": "How to add custom properties to file form javascript / jquery", "body": "<p>This is <a href=\"https://www.c-sharpcorner.com/UploadFile/manas1/upload-files-through-jquery-ajax-in-Asp-Net-mvc/\" rel=\"nofollow noreferrer\">one approach</a>; taken from there:</p>\n\n<pre><code>$('#btnUpload').click(function () {  \n\n    // Checking whether FormData is available in browser  \n    if (window.FormData !== undefined) {  \n\n        var fileUpload = $(\"#FileUpload1\").get(0);  \n        var files = fileUpload.files;  \n\n        // Create FormData object  \n        var fileData = new FormData();  \n\n        // Looping over all files and add it to FormData object  \n        for (var i = 0; i &lt; files.length; i++) {  \n            fileData.append(files[i].name, files[i]);  \n        }  \n\n        // Adding one more key to FormData object  \n        fileData.append('username', \u2018Manas\u2019);  \n\n        $.ajax({  \n            url: '/Home/UploadFiles',  \n            type: \"POST\",  \n            contentType: false, // Not to set any content header  \n            processData: false, // Not to process data  \n            data: fileData,  \n            success: function (result) {  \n                alert(result);  \n            },  \n            error: function (err) {  \n                alert(err.statusText);  \n            }  \n        });  \n    } else {  \n        alert(\"FormData is not supported.\");  \n    }  \n});  \n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/36280818/how-to-convert-file-to-base64-in-javascript\">Another approach</a> is to use the FileReader class to read the uploaded file, convert it to a base 64 string.  Then you can send the base 64 string to the server.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10550549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5Jv5C.jpg?s=128&g=1", "display_name": "T&#226;n", "link": "https://stackoverflow.com/users/10550549/t%c3%a2n"}, "is_accepted": true, "score": 1, "last_activity_date": 1542864149, "creation_date": 1542864149, "answer_id": 53424354, "question_id": 53420580, "link": "https://stackoverflow.com/questions/53420580/how-to-add-custom-properties-to-file-form-javascript-jquery/53424354#53424354", "title": "How to add custom properties to file form javascript / jquery", "body": "<p>If you want to get the <code>Width</code> and <code>Height</code> properties while uploading images in ASP.NET Core. I suggest you to install this package: <a href=\"https://www.nuget.org/packages/CoreCompat.System.Drawing/\" rel=\"nofollow noreferrer\">CoreCompat.System.Drawing</a></p>\n\n<blockquote>\n  <p>Install-Package CoreCompat.System.Drawing -Version 1.0.0-beta006</p>\n</blockquote>\n\n<hr>\n\n<p>In the server, after saving your files to the specific path. You could use <code>System.Drawing.Image</code> class to get the <code>Width</code> and <code>Height</code> properties:</p>\n\n<pre><code>using (var image = System.Drawing.Image.FromFile(filePath))\n{\n    int width = image.Width;\n    int height = image.Height;\n}\n</code></pre>\n\n<p>You don't have to add <code>files_h</code> and <code>files_w</code> properties to your client model before sending to server.</p>\n\n<hr>\n\n<p>And then, by using this way, I've edited your js code to:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code> $(\"#saveImg\").on('click', function () {\n    var formData = new FormData();\n\n    for (var input of Array.from($('input[name=fileUpload]')))\n    {\n        if (inputFileValidation(input) &amp;&amp; input.files.length) {\n            formData.append('files', input.files[0]);\n        }\n    }\n\n    $.ajax({\n        url: '@Url.Action(\"Upload\", \"Image\")',\n        data: formData,\n        processData: false,\n        contentType: false,\n        type: \"POST\",\n        success: function () {}\n        errors: function () {}\n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 333, "user_id": 9169938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb83d369ca8ec0d225c9c8b7f31d50d?s=128&d=identicon&r=PG&f=1", "display_name": "szkut", "link": "https://stackoverflow.com/users/9169938/szkut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1208, "favorite_count": 0, "accepted_answer_id": 53424354, "answer_count": 2, "score": 0, "last_activity_date": 1542903819, "creation_date": 1542834974, "last_edit_date": 1542903819, "question_id": 53420580, "link": "https://stackoverflow.com/questions/53420580/how-to-add-custom-properties-to-file-form-javascript-jquery", "title": "How to add custom properties to file form javascript / jquery", "body": "<p>I'm aiming to send fileform with images and additional information like <code>height</code> and <code>width</code>. I can't figure out how to add some custom props to file form object.</p>\n\n<pre><code> $(\"#saveImg\").on('click', function () {\n        var formData = new FormData(),\n            allFiles = [];\n    $('input[name=fileUpload]').each(function (index) {\n        if (inputFileValidation(this)) {\n            (function (files) {\n                if (files.length != 0) { allFiles.push(files[0]); }\n            })(this.files)\n        }\n    });\n\n    for (var i = 0; i != allFiles.length; i++) {\n        var img = new Image()\n        img.src = window.URL.createObjectURL(allFiles[i]);\n        $(img).on('load', function () {\n            formData.append(\"files_h\", img.naturalHeight);\n            formData.append(\"files_w\", img.naturalWidth);\n            formData.append(\"files\", allFiles[i]);\n            window.URL.revokeObjectURL(allFiles[i]);\n        });\n    }\n\n    $.ajax({\n        url: '@Url.Action(\"Upload\", \"Image\")',\n        data: formData,\n        processData: false,\n        contentType: false,\n        type: \"POST\",\n        success: function () {}\n        errors: function () {}\n    });\n});\n\n\n[HttpPost]\npublic async Task&lt;IActionResult&gt; Upload (IList&lt;IFormFile&gt; files)\n{\n    //do something ;\n}\n</code></pre>\n\n<p>I also tried:</p>\n\n<pre><code>[HttpPost]\npublic async Task&lt;IActionResult&gt; Upload (IList&lt;IFormFile&gt; files, IList&lt;IFormFile&gt; files_h, IList&lt;IFormFile&gt; files_w)\n{\n    //do something ;\n}\n</code></pre>\n\n<p>Maybe you have another idea how to send image with additional data? I tried to convert file form and additional info to JSON by that didn't work.</p>\n\n<p><strong>Edit</strong>\nThank you all for your suggestion, they are really important to me because I will definitely use them in the future.</p>\n\n<p>However, in this project I have already given up using the <code>file reader</code> due to its <code>asynchrony</code> and having fun with <code>promise</code>. The aim is simple and less <code>javascript</code> and more <code>c#</code></p>\n\n<p>I apologize for misleading you in the title <code>javascript</code> and<code>jquery</code> - and I mark the answer related to <code>c #</code>. I did this because this answer is related to my next task because the <code>CoreCompat.System.Drawing</code> library is undoubtedly still useful for editing photos in the future.</p>\n\n<p><em>Thanks!!</em></p>\n"}, {"tags": ["javascript", "reactjs", "react-native", "input", "user-input"], "comments": [{"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1542835788, "post_id": 53420509, "comment_id": 93715817, "body": "To be honest, from your question, I have very little idea what you want. Can you please show or explain clearly what it is you&#39;re trying to do compared to what you have?"}, {"owner": {"reputation": 35, "user_id": 9513775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ead96dd7a8c12a71080b6e128e1b6f4?s=128&d=identicon&r=PG&f=1", "display_name": "SeriousEngineer", "link": "https://stackoverflow.com/users/9513775/seriousengineer"}, "reply_to_user": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1542836420, "post_id": 53420509, "comment_id": 93716065, "body": "@zfrisch I would like to get inputs from the user by text ares. I can get the inputs and it shows the added product-color-price as 3 rows. It should be a single line for an added item. You can get the project and try it at <a href=\"https://github.com/ErkAydogan/React\" rel=\"nofollow noreferrer\">github.com/ErkAydogan/React</a>"}, {"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1542836699, "post_id": 53420509, "comment_id": 93716177, "body": "Oh, I see. Where is your code that shows what happens when the user clicks add option?"}, {"owner": {"reputation": 35, "user_id": 9513775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ead96dd7a8c12a71080b6e128e1b6f4?s=128&d=identicon&r=PG&f=1", "display_name": "SeriousEngineer", "link": "https://stackoverflow.com/users/9513775/seriousengineer"}, "reply_to_user": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1542837646, "post_id": 53420509, "comment_id": 93716500, "body": "It is the handleAddOption function at AddOption.js @zfrisch"}], "answers": [{"comments": [{"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1542839313, "post_id": 53420907, "comment_id": 93717054, "body": "The concept is correct, but I&#39;m confused by the option tags in OPs code. I&#39;m not sure if this would affect the output or the input."}], "tags": [], "owner": {"reputation": 161, "user_id": 10580802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3544b689fb6aaf5d7320537199969ed?s=128&d=identicon&r=PG", "display_name": "Rodrigo Mart&#237;n de Lamo", "link": "https://stackoverflow.com/users/10580802/rodrigo-mart%c3%adn-de-lamo"}, "is_accepted": true, "score": 0, "last_activity_date": 1542836740, "creation_date": 1542836740, "answer_id": 53420907, "question_id": 53420509, "link": "https://stackoverflow.com/questions/53420509/how-can-i-get-the-user-inputs-and-print-it-in-a-single-row/53420907#53420907", "title": "How can I get the user Inputs and print it in a single row?", "body": "<p>Well, what's happening is that you are printing the whole array so instead of getting the desire result of one of each you get first all of one type and then all of the other.</p>\n\n<p>One approach can be:</p>\n\n<pre><code>&lt;/div&gt;\n{props.options.length === 0 &amp;&amp; &lt;p className=\"widget__message\"&gt;Please add a Product to get started!&lt;/p&gt;}\n{\n  props.options.map((option, index) =&gt; (\n&lt;div key={option}&gt;\n    &lt;Option\n      optionText={option}      \n      count= {index + 1}\n      handleDeleteOption={props.handleDeleteOption}\n    /&gt;\n    &lt;Option       \n      colorText = {props.colors[index]}\n      count= {index + 1}\n      handleDeleteOption={props.handleDeleteOption}\n    /&gt;\n   &lt;Option       \n      priceText = {props.prices[index]}          \n      count= {index + 1}\n      handleDeleteOption={props.handleDeleteOption}\n    /&gt;\n&lt;/div&gt;\n  )) \n}\n&lt;/div&gt;\n</code></pre>\n\n<p>I did it while writing so maybe I forgot some parenthesis or bracket but the idea is only one map and inside that map getting one element each iteration.</p>\n\n<p>This could be much better is the array had an object with 3 properties, one for each type(option, color, price) and then passing object.option, object.color and object.price to each Option component.</p>\n\n<p>In this approach I'm also not taking into account that props.prices[index] or props.colores[index] might not exist, I don't know if that might happen, it was just to show the concept.</p>\n"}], "owner": {"reputation": 35, "user_id": 9513775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ead96dd7a8c12a71080b6e128e1b6f4?s=128&d=identicon&r=PG&f=1", "display_name": "SeriousEngineer", "link": "https://stackoverflow.com/users/9513775/seriousengineer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 53420907, "answer_count": 1, "score": 0, "last_activity_date": 1542928052, "creation_date": 1542834579, "last_edit_date": 1542928052, "question_id": 53420509, "link": "https://stackoverflow.com/questions/53420509/how-can-i-get-the-user-inputs-and-print-it-in-a-single-row", "title": "How can I get the user Inputs and print it in a single row?", "body": "<p>I want to add an Item with <strong>(name color and price)</strong> however when I try it adds them like that. It should make a row such as <strong>PHONE - Color: 0 - Price: 1000</strong> instead of it displays three things. I tried to make a one method but it did not work too. How can I write the code in order to get these inputs on a line.</p>\n\n<pre><code>&lt;/div&gt;\n{props.options.length === 0 &amp;&amp; &lt;p className=\"widget__message\"&gt;Please add a Product to get started!&lt;/p&gt;}\n{\n  props.options.map((option, index) =&gt; (\n    &lt;Option\n      key={option}\n      optionText={option}      \n      count= {index + 1}\n      handleDeleteOption={props.handleDeleteOption}\n    /&gt;     \n  ))     \n}\n{\n  props.colors.map((color, index) =&gt; (\n    &lt;Option        \n      colorText = {color}\n      count= {index + 1}\n      handleDeleteOption={props.handleDeleteOption}\n    /&gt;\n  ))     \n}\n\n{\n  props.prices.map((price, index) =&gt; (\n    &lt;Option       \n      priceText = {price}          \n      count= {index + 1}\n      handleDeleteOption={props.handleDeleteOption}\n    /&gt;\n  ))  \n}\n</code></pre>\n\n<p></p>\n\n<p>export default Options;</p>\n"}, {"tags": ["javascript", "objective-c", "parse-platform", "parse-server", "mailgun"], "comments": [{"owner": {"reputation": 1599, "user_id": 3871910, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/nbjY7.jpg?s=128&g=1", "display_name": "Freddy", "link": "https://stackoverflow.com/users/3871910/freddy"}, "edited": false, "score": 0, "creation_date": 1543044905, "post_id": 53420495, "comment_id": 93784366, "body": "I recommend you reading cloud code <a href=\"https://docs.parseplatform.org/cloudcode/guide/#cloud-functions\" rel=\"nofollow noreferrer\">documentation</a>."}], "answers": [{"tags": [], "owner": {"reputation": 2207, "user_id": 451471, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/571b798ac940e96fd466f2712eacc9b8?s=128&d=identicon&r=PG", "display_name": "Trond Kristiansen", "link": "https://stackoverflow.com/users/451471/trond-kristiansen"}, "is_accepted": true, "score": 1, "last_activity_date": 1542905899, "last_edit_date": 1542905899, "creation_date": 1542860868, "answer_id": 53423895, "question_id": 53420495, "link": "https://stackoverflow.com/questions/53420495/nil-return-in-parse-cloud-function/53423895#53423895", "title": "Nil return in Parse Cloud function", "body": "<p>This was easily fixed once I figured out how to. Here is my working solution:</p>\n\n<pre><code>Parse.Cloud.define('validateEmail',  async (request) =&gt; {\n    var mailgun = require('mailgun.js');\n\n    var mg = mailgun.client({\n        username: 'api',\n        key: process.env.MAILGUN_API_KEY,\n        public_key: process.env.MAILGUN_PUBLIC_KEY\n      });\n\n   return mg.validate.get(request.params.email, true).then(data =&gt; {\n       return data}) \n        .catch(err =&gt; handleParseError(err));\n})\n</code></pre>\n"}], "owner": {"reputation": 2207, "user_id": 451471, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/571b798ac940e96fd466f2712eacc9b8?s=128&d=identicon&r=PG", "display_name": "Trond Kristiansen", "link": "https://stackoverflow.com/users/451471/trond-kristiansen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 53423895, "answer_count": 1, "score": -1, "last_activity_date": 1542905899, "creation_date": 1542834501, "last_edit_date": 1542857289, "question_id": 53420495, "link": "https://stackoverflow.com/questions/53420495/nil-return-in-parse-cloud-function", "title": "Nil return in Parse Cloud function", "body": "<p>I am trying to implement a Parse cloud function that utilizes the Mailgun API validation method for an email address. I am obviously doing something wrong as when I call this method from objective-c I get nil back, but the cloud log (console.log) shows that the method is executing correctly - just not returning any value.  I am pretty new to async/Promise thinking in Javascript so I am wondering if anyone can see where I go wrong here.</p>\n\n<p>My cloud function implemmented in my node.js Parse Server is:</p>\n\n<pre><code>Parse.Cloud.define('validateEmail', async(request) =&gt; {\n\n    var mailgun = require('mailgun.js');\n\n    var mg = mailgun.client({\n        username: 'api',\n        key: process.env.MAILGUN_API_KEY,\n        public_key: process.env.MAILGUN_PUBLIC_KEY\n      });\n\n    mg.validate.get(request.params.email, {useMasterKey: true}).then(data =&gt; {\n        console.log(data);\n        return Promise.resolve(JSON.stringify(data));\n    })\n    .catch(err =&gt; {\n        console.log(err);\n        return Promise.resolve(error);\n    });\n})\n</code></pre>\n\n<p>the cloud function is called from objective-c code as:</p>\n\n<pre><code> [PFCloud callFunctionInBackground:@\"validateEmail\" withParameters:@{@\"email\":user.email} block:^(NSString *bodydata, NSError *error) {\n\n                 NSDictionary *body = [NSJSONSerialization JSONObjectWithData:[bodydata dataUsingEncoding:NSUTF8StringEncoding] options:0 error:nil];\n\n                NSLog(@\"validateEmail : %@\", body);\n           }];\n</code></pre>\n"}, {"tags": ["javascript", "node.js"], "comments": [{"owner": {"reputation": 1456, "user_id": 4687200, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cI2-p128ddU/AAAAAAAAAAI/AAAAAAAAAM4/Kt4Cqhjfyao/photo.jpg?sz=128", "display_name": "dotconnor", "link": "https://stackoverflow.com/users/4687200/dotconnor"}, "edited": false, "score": 3, "creation_date": 1542834414, "post_id": 53420449, "comment_id": 93715250, "body": "the <code>fs</code> module is for interactive with the local file system and can&#39;t make network request, to get the conents of <code>http:&#47;&#47;example.com&#47;file2.json</code> look at the <code>http</code> module example here: <a href=\"https://stackoverflow.com/questions/38284765/get-file-from-external-url-with-fs-readfile\" title=\"get file from external url with fs readfile\">stackoverflow.com/questions/38284765/&hellip;</a>"}, {"owner": {"reputation": 1262, "user_id": 3208225, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a21d763ca87f53dc475eaec179516649?s=128&d=identicon&r=PG&f=1", "display_name": "stckvrw", "link": "https://stackoverflow.com/users/3208225/stckvrw"}, "reply_to_user": {"reputation": 1456, "user_id": 4687200, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cI2-p128ddU/AAAAAAAAAAI/AAAAAAAAAM4/Kt4Cqhjfyao/photo.jpg?sz=128", "display_name": "dotconnor", "link": "https://stackoverflow.com/users/4687200/dotconnor"}, "edited": false, "score": 0, "creation_date": 1542834637, "post_id": 53420449, "comment_id": 93715345, "body": "Can I do it only with Express or without as well?"}, {"owner": {"reputation": 1456, "user_id": 4687200, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cI2-p128ddU/AAAAAAAAAAI/AAAAAAAAAM4/Kt4Cqhjfyao/photo.jpg?sz=128", "display_name": "dotconnor", "link": "https://stackoverflow.com/users/4687200/dotconnor"}, "edited": false, "score": 1, "creation_date": 1542834871, "post_id": 53420449, "comment_id": 93715450, "body": "No, you can use it without as well, <code>http.get(&quot;http:&#47;&#47;example.com&#47;file2.json&quot;, (contents) =&gt; { contents.pipe(res); });</code>"}, {"owner": {"reputation": 1262, "user_id": 3208225, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a21d763ca87f53dc475eaec179516649?s=128&d=identicon&r=PG&f=1", "display_name": "stckvrw", "link": "https://stackoverflow.com/users/3208225/stckvrw"}, "reply_to_user": {"reputation": 1456, "user_id": 4687200, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cI2-p128ddU/AAAAAAAAAAI/AAAAAAAAAM4/Kt4Cqhjfyao/photo.jpg?sz=128", "display_name": "dotconnor", "link": "https://stackoverflow.com/users/4687200/dotconnor"}, "edited": false, "score": 0, "creation_date": 1543178056, "post_id": 53420449, "comment_id": 93813958, "body": "@dotconnor thank you! One more question: how to handle errors so that if the online <code>file2.json</code> is not accessed, the code would be getting local <code>file1.json</code> ?"}], "owner": {"reputation": 1262, "user_id": 3208225, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a21d763ca87f53dc475eaec179516649?s=128&d=identicon&r=PG&f=1", "display_name": "stckvrw", "link": "https://stackoverflow.com/users/3208225/stckvrw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "closed_date": 1542834531, "answer_count": 0, "score": 0, "last_activity_date": 1543099180, "creation_date": 1542834231, "last_edit_date": 1543099180, "question_id": 53420449, "link": "https://stackoverflow.com/questions/53420449/cant-read-content-of-online-file-in-node-js-with-xmlhttprequest-on-the-client", "closed_reason": "Duplicate", "title": "Can&#39;t read content of online file in Node.js with XMLHttpRequest on the client", "body": "<p>This is my server in Node.js</p>\n\n<pre><code>var http = require('http'),\n    fs = require('fs');\n\nhttp.createServer(function(req, res) {\n\n    if(req.url == '/req_to_node') {\n        res.writeHead(200);\n        if(fs.existsSync(__dirname+'/file1.json')) {\n            fs.readFile('http://example.com/file2.json', (err, contents) =&gt; {\n                res.end(contents.toString());\n            });\n        }\n    }\n\n    fs.readFile(__dirname+'/index.html', (err, contents) =&gt; {\n        res.writeHead(200);\n        res.end(contents);\n    });\n\n}).listen(80, 'localhost');\n</code></pre>\n\n<p>And this is code of my <code>index.html</code></p>\n\n<pre><code>&lt;script&gt;\najaxReq('req_to_node', function(result) {\n    if(result != '') {\n        console.log(result);\n    }\n});\n\nfunction ajaxReq(slug,callback) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', 'http://localhost/'+slug);\n    xhr.send();\n    xhr.onreadystatechange = function() {\n        if(this.readyState == 4 &amp;&amp; this.status == 200) {\n            callback(this.responseText);\n        }\n    };\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>As you see, with <code>XMLHttpRequest</code> on the client I'm trying to check if local <code>file1.json</code> exists and if yes, trying to read content of another <code>file2.json</code> which is online (on my own domain).</p>\n\n<p>But in console I get the error</p>\n\n<blockquote>\n  <p>GET <a href=\"http://localhost/req_to_node\" rel=\"nofollow noreferrer\">http://localhost/req_to_node</a> net::ERR_CONNECTION_RESET</p>\n</blockquote>\n\n<p>While if I switch the file reading to the same local <code>file1.json</code> instead of the online <code>file2.json</code>, it works i.e.</p>\n\n<pre><code>...\nfs.readFile(__dirname+'/file1.json', (err, contents) =&gt; {\n...\n</code></pre>\n\n<p>ps. I'm interested in a solution without Express, if it's possible</p>\n"}, {"tags": ["javascript", "mongodb"], "comments": [{"owner": {"reputation": 30283, "user_id": 1583522, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/674bb2f209522d5ca7c900eb9999d2bc?s=128&d=identicon&r=PG", "display_name": "Devon", "link": "https://stackoverflow.com/users/1583522/devon"}, "edited": false, "score": 1, "creation_date": 1542834262, "post_id": 53420399, "comment_id": 93715182, "body": "Client side code should never be able to directly update something in your database."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 1, "creation_date": 1542834383, "post_id": 53420399, "comment_id": 93715233, "body": "How would they be able to do something to it in the db from the client?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 2, "creation_date": 1542834997, "post_id": 53420399, "comment_id": 93715502, "body": "It could give away details about your application&#39;s internal structure, but it should not be a security issue. An actual security issue would be when anyone could access your database (with or without document ids, that doesn&#39;t matter)."}, {"owner": {"reputation": 129250, "user_id": 2313887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/259593de18972d36e25f230c2be19d9f?s=128&d=identicon&r=PG", "display_name": "Neil Lunn", "link": "https://stackoverflow.com/users/2313887/neil-lunn"}, "edited": false, "score": 0, "creation_date": 1542856631, "post_id": 53420399, "comment_id": 93721140, "body": "It&#39;s actually kind of an epidemic here that we do get a lot of questions where people posting them remove or obfuscate the <code>ObjectId</code> value from sample documents in a question. I think what <i>scares</i> people are the two lines <i>&quot;a 3-byte machine identifier, a 2-byte process id,&quot;</i>. So much so that current documentation does not actually say that anymore and says <i>&quot;5-byte random value&quot;</i>. But the possibility that anyone could use that data for a &quot;hacking exploit&quot; is pretty infinitesimal."}, {"owner": {"reputation": 129250, "user_id": 2313887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/259593de18972d36e25f230c2be19d9f?s=128&d=identicon&r=PG", "display_name": "Neil Lunn", "link": "https://stackoverflow.com/users/2313887/neil-lunn"}, "edited": false, "score": 0, "creation_date": 1542856714, "post_id": 53420399, "comment_id": 93721152, "body": "Moreover those 5-bytes have <a href=\"https://github.com/mongodb/js-bson/blob/master/lib/objectid.js#L177-L182\" rel=\"nofollow noreferrer\">actually changed.</a>. So in most driver implementations those bytes truly are random, and nothing about the machine or process anymore."}], "owner": {"reputation": 4347, "user_id": 280100, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/942f846bdcccb8ba79b5b9d0e1bd21b3?s=128&d=identicon&r=PG", "display_name": "fear_matrix", "link": "https://stackoverflow.com/users/280100/fear-matrix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542833949, "creation_date": 1542833949, "question_id": 53420399, "link": "https://stackoverflow.com/questions/53420399/will-there-be-any-security-issues-when-storing-mongodb-document-id-in-the-javasc", "title": "Will there be any security issues when storing mongodb document id in the javascript global variable?", "body": "<p>I am working on a project where I need to store the document id in the javascript global variable and update the id. Although it is not exposed in the URL but I am a bit worried whether if someone opens the source code and get the document ID and performs something malicious. Is it safe to do what I am doing ?.</p>\n"}, {"tags": ["javascript", "php", "jquery", "html", "css"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10226920"}, "edited": false, "score": 2, "creation_date": 1542835071, "post_id": 53420391, "comment_id": 93715531, "body": "how is hover a thing without a (mouse) pointer?"}, {"owner": {"reputation": 11132, "user_id": 2453432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8316bb81f12a04897cd36169fdadfbd9?s=128&d=identicon&r=PG", "display_name": "Magnus Eriksson", "link": "https://stackoverflow.com/users/2453432/magnus-eriksson"}, "edited": false, "score": 0, "creation_date": 1542837149, "post_id": 53420391, "comment_id": 93716327, "body": "<code>$(&quot;.menu-desc&quot;).css(&quot;left&quot;, &quot;0px&quot;);</code> will select <i>all</i> items with that class. You should only get the elements within the current active element: <code>$(this).find(&#39;.menu-desc&#39;).css(&quot;left&quot;, &quot;0px&quot;);</code>"}, {"owner": {"reputation": 289, "user_id": 9042004, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RodII.jpg?s=128&g=1", "display_name": "RolandF", "link": "https://stackoverflow.com/users/9042004/rolandf"}, "edited": false, "score": 0, "creation_date": 1542837689, "post_id": 53420391, "comment_id": 93716505, "body": "yeah you right, but now the problem is that I use the click event and it displays the information correctly when I click or do scroll on a box but if I click in other box, the information on the before clicked box doesn&#39;t hidden. It keeps displayed. The correct behavior should be that when I click on other box the information that was displayed on the last box become hidden."}, {"owner": {"reputation": 11132, "user_id": 2453432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8316bb81f12a04897cd36169fdadfbd9?s=128&d=identicon&r=PG", "display_name": "Magnus Eriksson", "link": "https://stackoverflow.com/users/2453432/magnus-eriksson"}, "edited": false, "score": 0, "creation_date": 1542838175, "post_id": 53420391, "comment_id": 93716653, "body": "Before setting the css on the active item, use <code>$(&#39;.menu-desc&#39;)</code> to hide all."}, {"owner": {"reputation": 289, "user_id": 9042004, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RodII.jpg?s=128&g=1", "display_name": "RolandF", "link": "https://stackoverflow.com/users/9042004/rolandf"}, "edited": false, "score": 0, "creation_date": 1542838997, "post_id": 53420391, "comment_id": 93716942, "body": "Thank you very much. It&#39;s working now. Thanks,"}], "answers": [{"comments": [{"owner": {"reputation": 289, "user_id": 9042004, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RodII.jpg?s=128&g=1", "display_name": "RolandF", "link": "https://stackoverflow.com/users/9042004/rolandf"}, "edited": false, "score": 0, "creation_date": 1542836912, "post_id": 53420478, "comment_id": 93716242, "body": "it doesn&#39;t work in this case"}, {"owner": {"reputation": 516, "user_id": 2286743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d1220c0aed837851f651727cc30a9c7?s=128&d=identicon&r=PG", "display_name": "Marius", "link": "https://stackoverflow.com/users/2286743/marius"}, "reply_to_user": {"reputation": 289, "user_id": 9042004, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RodII.jpg?s=128&g=1", "display_name": "RolandF", "link": "https://stackoverflow.com/users/9042004/rolandf"}, "edited": false, "score": 0, "creation_date": 1542838837, "post_id": 53420478, "comment_id": 93716889, "body": "Added example in my answer"}, {"owner": {"reputation": 510, "user_id": 5562683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1279526c11cf3e5069c668bc351e2287?s=128&d=identicon&r=PG&f=1", "display_name": "pjones235", "link": "https://stackoverflow.com/users/5562683/pjones235"}, "edited": false, "score": 0, "creation_date": 1542839506, "post_id": 53420478, "comment_id": 93717113, "body": "You have to reserve hover effects for desktop because they don&#39;t work on mobile...."}, {"owner": {"reputation": 516, "user_id": 2286743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d1220c0aed837851f651727cc30a9c7?s=128&d=identicon&r=PG", "display_name": "Marius", "link": "https://stackoverflow.com/users/2286743/marius"}, "reply_to_user": {"reputation": 510, "user_id": 5562683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1279526c11cf3e5069c668bc351e2287?s=128&d=identicon&r=PG&f=1", "display_name": "pjones235", "link": "https://stackoverflow.com/users/5562683/pjones235"}, "edited": false, "score": 0, "creation_date": 1542877229, "post_id": 53420478, "comment_id": 93728483, "body": "@pjones235, I disagree. Mobile handles them fine. Also remember some mobile devices work with a stylus, like the S-Pen from Samsung. You can easily hover with them over an element."}, {"owner": {"reputation": 510, "user_id": 5562683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1279526c11cf3e5069c668bc351e2287?s=128&d=identicon&r=PG&f=1", "display_name": "pjones235", "link": "https://stackoverflow.com/users/5562683/pjones235"}, "edited": false, "score": 0, "creation_date": 1543239555, "post_id": 53420478, "comment_id": 93834276, "body": "You can&#39;t sufficiently provide a true hover effect."}], "tags": [], "owner": {"reputation": 516, "user_id": 2286743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d1220c0aed837851f651727cc30a9c7?s=128&d=identicon&r=PG", "display_name": "Marius", "link": "https://stackoverflow.com/users/2286743/marius"}, "is_accepted": false, "score": -1, "last_activity_date": 1542838857, "last_edit_date": 1542838857, "creation_date": 1542834397, "answer_id": 53420478, "question_id": 53420391, "link": "https://stackoverflow.com/questions/53420391/how-can-i-achieve-a-hover-effect-on-mobile-devices/53420478#53420478", "title": "How can I achieve a hover effect on mobile devices?", "body": "<p>Try adding <code>:active</code>. Though because of how quick taps are on mobile, having hover effects is quite pointless. I always reserve hover effects for web on PC. Mobile works nicely with <code>:active</code>.</p>\n\n<p>Alternative would be to add a class through javascript that triggers an animation using keyframes, and remove the class after the length of the animation using a timeout.</p>\n\n<p><strong>Example:</strong> <a href=\"https://jsfiddle.net/votnd2zy/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/votnd2zy/</a></p>\n"}], "owner": {"reputation": 289, "user_id": 9042004, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RodII.jpg?s=128&g=1", "display_name": "RolandF", "link": "https://stackoverflow.com/users/9042004/rolandf"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 372, "favorite_count": 1, "closed_date": 1542840368, "answer_count": 1, "score": -1, "last_activity_date": 1542838857, "creation_date": 1542833932, "last_edit_date": 1542836650, "question_id": 53420391, "link": "https://stackoverflow.com/questions/53420391/how-can-i-achieve-a-hover-effect-on-mobile-devices", "closed_reason": "Duplicate", "title": "How can I achieve a hover effect on mobile devices?", "body": "<p>I have created a list ul and in each element I have placed images, the fact is that when I hover over these images in desktop, a layer is displayed over the image that I had previously hidden, in that layer information about the image is displayed. When I do not put the cursor over the image, this layer is hidden again. The problem is that in mobile version the hover effect does not work as in desktop but you have to do two clicks on the image so you can show this layer with information.</p>\n\n<p>I have this code in javascript so that on mobile devices when I touch on each image it will show me the information:</p>\n\n<pre><code>$(\".item\").on('click touchend', function(e) {\n\n    var mediaquery = window.matchMedia(\"(max-width: 767px)\");\n\n    if (mediaquery.matches) \n    {\n        // mediaquery yes\n        $(\".menu-desc\").css(\"left\", \"0px\");\n    } \n    else \n    {\n        // mediaquery no\n    }\n\n});//click event\n</code></pre>\n\n<p>this could work for what I need the problem is that when it detects the click in one of the boxes, the information appears in all the boxes at the same time, which is not the desired thing, if the touched is made in one of the boxes only in that box the information should appear. I can not refer to the boxes by means of an id since I have no control of how many boxes are created, since these boxes are being added by means of a content management panel that I created. There may be as many boxes as the user wants, so I do not know how to do it so that I can detect exactly each box individually.</p>\n\n<p>How could I achieve this? The idea is to replace hover, in mobile version.</p>\n\n<p>HTML code: </p>\n\n<pre><code>&lt;ul id=\"menu-pricing\" class=\"menu-price\"&gt;\n&lt;?php \nfor ($j=0; $j &lt;count($categories); $j++) \n{ \n?&gt;\n    &lt;li class=\"item &lt;?php echo $categories[$j][1];?&gt;\"&gt;\n        &lt;a href=\"#\"&gt;\n            &lt;img src=\"admin/&lt;?php echo $categories[$j][4];?&gt;\" class=\"img-responsive\" alt=\"Referenzen Works\" &gt;\n            &lt;div class=\"menu-desc text-center\"&gt;\n                &lt;span&gt;\n                    &lt;h3&gt;&lt;?php echo $categories[$j][5];?&gt;&lt;/h3&gt;\n                    &lt;?php \n                    if ($categories[$j][6] !== \"empty\") \n                    {\n                    ?&gt;\n                        &lt;h4&gt;&lt;?php echo $categories[$j][6]; ?&gt;&lt;/h4&gt;\n                    &lt;?php \n                    }\n                    ?&gt;\n                &lt;/span&gt;\n            &lt;/div&gt;\n        &lt;/a&gt;\n    &lt;/li&gt;\n&lt;?php \n} //for\n?&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>html without php</p>\n\n<pre><code>&lt;ul id=\"menu-pricing\" class=\"menu-price\"&gt;\n\n    &lt;li class=\"item here-go place-a-class-created-by-the-user-in-Adminpanel\"&gt;\n        &lt;a href=\"#\"&gt;\n            &lt;img src=\"admin/public/image.png\" class=\"img-responsive\" alt=\"Referenzen Works\" &gt;\n            &lt;div class=\"menu-desc text-center\"&gt;\n                &lt;span&gt;\n                    &lt;h3&gt;Title of box&lt;/h3&gt;\n\n                    &lt;h4&gt;Subtitle of box (optionl)&lt;/h4&gt;\n                &lt;/span&gt;\n            &lt;/div&gt;\n        &lt;/a&gt;\n    &lt;/li&gt;\n\n&lt;/ul&gt;\n</code></pre>\n\n<p>the information in the boxes comes from the database.</p>\n\n<p>CSS Code:</p>\n\n<pre><code>/** menu-pricing list **/\n#images_li_options_container\n{\n  margin-left: 0px !important;\n  margin-right: 0px !important;\n  padding-left: 0px !important;\n  padding-right: 0px !important;\n}\n\n#images_li_options_container .row\n{\n  padding-left: 0px !important;\n  padding-right: 0px !important;\n}\n\n#menu-pricing {\n  display: block;\n    width: 100%;\n    padding: 50px 0px 25px 0px;\n    margin-bottom: 0;\n  text-align: left;\n}\n\n#menu-pricing .item {\n  background-color: white;\n  /*box-shadow: 0px 2px 5px white; #948E8E;*/\n  display: none;\n  /*opacity: 0;*/\n  vertical-align: top;\n  margin-bottom: 0px;\n  margin-right: 0px;\n  color: #fff;\n  text-align: center;\n  width: 33.1%;\n  height: 220px;\n  -moz-box-sizing: border-box;\n}\n\n#menu-pricing .item a {\n  display: inline-block;\n  max-width: 100%;\n  max-height: 220px;\n  text-decoration: none;\n  background: #fff;\n  text-align: center;\n\n}\n\n@media (min-width: 991px) {\n  #menu-pricing .item:nth-child(7),\n  #menu-pricing .item:nth-child(8),\n  #menu-pricing .item:nth-child(9) {\n    margin-bottom: 0px;\n  }\n}\n\n@media (min-width: 1200px)\n{\n#images_li_options_container.container {\n    width: 100% !important;\n}\n\n}\n\n/*  --========================    for  hover direction  =============================-- */\n\n.menu-price li a,\n.menu-price li a img {\n  display: block;\n  position: relative;\n}\n.menu-price li a {\n  overflow: hidden;\n  color: #fff;\n}\n.menu-price li a .menu-desc {\n  position: absolute;\n  font-size: 14px;\n  background: rgba(255, 255, 255, 0.7); /*rgba(29, 136, 197, 0.4); blue */\n  width: 100%;\n  height: 100%;\n  top: 0px;\n  left: -100%;\n\n  -webkit-transition: all 0.3s ease;\n  -moz-transition: all 0.3s ease-in-out;\n  -o-transition: all 0.3s ease-in-out;\n  -ms-transition: all 0.3s ease-in-out;\n  transition: all 0.3s ease-in-out;\n\n}\n\n.menu-price li a .menu-desc span h3 {\n  font-size: 30px;\n  margin-bottom: 15px;\n}\n\n.menu-price li a:hover .menu-desc {\n  left: 0px;\n}\n\n#menu-pricing .item img {\n  max-width: 100%;\n  height: 220px;\n  text-align: center;\n  -webkit-transition: all .2s ease-in-out;\n  -moz-transition: all .2s ease-in-out;\n  -o-transition: all .2s ease-in-out;\n  -ms-transition: all .2s ease-in-out;\n}\n\n#menu-pricing .item:hover img \n{\n -webkit-transform: scale(1.8); \n    -moz-transform: scale(1.8);\n    -o-transform: scale(1.8);\n    transform: scale(1.8);\n}\n\n.menu-price li a:hover .menu-desc span {\n  display: block;\n  /*color: rgba(255,255,255,0.9);*/\n  font-size: 23px;\n  padding: 22% 20px;\n  line-height: 23px;\n  color: black !important;\n  font-weight: bold !important;\n}  \n</code></pre>\n"}, {"tags": ["javascript", "wordpress", "shortcode"], "comments": [{"owner": {"reputation": 1472, "user_id": 5634314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fBdet.jpg?s=128&g=1", "display_name": "zipkundan", "link": "https://stackoverflow.com/users/5634314/zipkundan"}, "edited": false, "score": 0, "creation_date": 1542834065, "post_id": 53420376, "comment_id": 93715096, "body": "Can you try escaping the square brackets (with &#41;?"}, {"owner": {"reputation": 622, "user_id": 6631465, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/ZsKMh.png?s=128&g=1", "display_name": "Top-Bot", "link": "https://stackoverflow.com/users/6631465/top-bot"}, "reply_to_user": {"reputation": 1472, "user_id": 5634314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fBdet.jpg?s=128&g=1", "display_name": "zipkundan", "link": "https://stackoverflow.com/users/5634314/zipkundan"}, "edited": false, "score": 0, "creation_date": 1542834323, "post_id": 53420376, "comment_id": 93715208, "body": "Why are only some of the brackets affected do you think?"}, {"owner": {"reputation": 1472, "user_id": 5634314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fBdet.jpg?s=128&g=1", "display_name": "zipkundan", "link": "https://stackoverflow.com/users/5634314/zipkundan"}, "edited": false, "score": 0, "creation_date": 1542834642, "post_id": 53420376, "comment_id": 93715348, "body": "I guess thats because you are trying render it through shortcode. Shortcode itself is rendered via square brackets. Though I am not very sure about the reason, its just the very first thought top of the mind."}, {"owner": {"reputation": 622, "user_id": 6631465, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/ZsKMh.png?s=128&g=1", "display_name": "Top-Bot", "link": "https://stackoverflow.com/users/6631465/top-bot"}, "reply_to_user": {"reputation": 1472, "user_id": 5634314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fBdet.jpg?s=128&g=1", "display_name": "zipkundan", "link": "https://stackoverflow.com/users/5634314/zipkundan"}, "edited": false, "score": 0, "creation_date": 1542834968, "post_id": 53420376, "comment_id": 93715485, "body": "If that were the case then it should be changing all the square brackets but it is not"}], "answers": [{"tags": [], "owner": {"reputation": 622, "user_id": 6631465, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/ZsKMh.png?s=128&g=1", "display_name": "Top-Bot", "link": "https://stackoverflow.com/users/6631465/top-bot"}, "is_accepted": false, "score": 0, "last_activity_date": 1542836069, "last_edit_date": 1542836069, "creation_date": 1542835667, "answer_id": 53420697, "question_id": 53420376, "link": "https://stackoverflow.com/questions/53420376/square-brackets-getting-changed-to-encoded-character-wordpress/53420697#53420697", "title": "Square brackets getting changed to encoded character [WordPress]", "body": "<p>So... Not sure why this worked but I converted the 2 offending areas into JS vars and then the code was no longer getting encoded. </p>\n\n<pre><code> function get_price(arr, val) {\n          var price = Object.keys(arr).reduce((a, c) =&gt; {\n            var s = c.trim();\n            if (/\\d+\\-\\d+/.test(s)) {\n              var range = s.split(\"-\");\n              var t1 = parseInt(range[1]); // new added var\n              var t2 = arr[c];  // new added var \n              if (+val &gt;= parseInt(range[0]) &amp;&amp; +val &lt;= t1) { // replaced code with t1 here\n                a = t2; // replaced code with t2 here\n              }\n            } else {\n              s = s.replace(/\\D/g, \"\");\n              if (+val &gt;= +s) {\n                a = arr[c];\n              }\n            }\n            return a;\n          }, 0);\n          return price;\n}\n</code></pre>\n\n<p>If anyone know why and wants to help the universe by sharing their knowledge then go right ahead. If not then hopefully this helps someone!</p>\n"}], "owner": {"reputation": 622, "user_id": 6631465, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/ZsKMh.png?s=128&g=1", "display_name": "Top-Bot", "link": "https://stackoverflow.com/users/6631465/top-bot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542911858, "creation_date": 1542833860, "question_id": 53420376, "link": "https://stackoverflow.com/questions/53420376/square-brackets-getting-changed-to-encoded-character-wordpress", "title": "Square brackets getting changed to encoded character [WordPress]", "body": "<p>Here is the problem, I have a JS code block that I would very much like to keep inline for speed reasons. This has not presented a problem in the past but for this specific function this is happening. I am using the PHP Output Buffer to render this through a shortcode.</p>\n\n<p>Code that is rendered: </p>\n\n<pre><code>function get_price(arr, val) {\n          var price = Object.keys(arr).reduce((a, c) =&gt; {\n            var s = c.trim();\n            if (/\\d+\\-\\d+/.test(s)) {\n              var range = s.split(\"-\");\n              if (+val &gt;= parseInt(range[0]) &amp;&amp; +val &lt;= parseInt(range&amp;#091;1&amp;#093;)) {\n                a = arr&amp;#091;c&amp;#093;;\n              }\n            } else {\n              s = s.replace(/\\D/g, \"\");\n              if (+val &gt;= +s) {\n                a = arr[c];\n              }\n            }\n            return a;\n          }, 0);\n          return price;\n}\n</code></pre>\n\n<p>Code that is sent: </p>\n\n<pre><code>    function get_price(arr, val) {\n                    var price = Object.keys(arr).reduce((a, c) =&gt; {\n                      var s = c.trim();\n                      if (/\\d+\\-\\d+/.test(s)) {\n                        var range = s.split(\"-\");\n                        if (+val &gt;= parseInt(range[0]) &amp;&amp; +val &lt;= parseInt(range[1])) {\n                          a = arr[c];\n                        }\n                      } else {\n                        s = s.replace(/\\D/g, \"\");\n                        if (+val &gt;= +s) {\n                          a = arr[c];\n                        }\n                      }\n                      return a;\n                    }, 0);\n                    return price;\n    }\n</code></pre>\n\n<p>I am at my wits end as too why this is happening so any help is appreciated!</p>\n\n<p>I can also send more code if needed but don't want to overload my question with unnecessary code. </p>\n"}, {"tags": ["javascript", "html", "function", "textarea"], "comments": [{"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1542834048, "post_id": 53420368, "comment_id": 93715089, "body": "Since you are doing this all client side, why are you wrapping your textarea in a form? Just remove the form, or why are you passing the string &#39;sentence&#39; to the function when you overwrite it with the value of your textarea? Make the function parameterless. Also as pointed out, you are using the wrong programming syntax."}, {"owner": {"reputation": 584, "user_id": 5558829, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YcCYp.jpg?s=128&g=1", "display_name": "Ziyo", "link": "https://stackoverflow.com/users/5558829/ziyo"}, "edited": false, "score": 0, "creation_date": 1542834152, "post_id": 53420368, "comment_id": 93715137, "body": "You are using mixture of Java. It is not a proper syntax."}], "answers": [{"tags": [], "owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 0, "last_activity_date": 1542834157, "creation_date": 1542834157, "answer_id": 53420436, "question_id": 53420368, "link": "https://stackoverflow.com/questions/53420368/how-to-get-input-from-textarea-to-javascript-function/53420436#53420436", "title": "How to get input from textarea to javascript function?", "body": "<p>Open the Developer Tools in your browser. Look at the Console. You will see numerous error messages.</p>\n\n<p>You appear to be writing Java, but JavaScript is a completely different programming language with little more in common with Java than Carpet does with Car. </p>\n\n<p>The question you ask in the title is one of the things you actually got correct: <code>document.getElementById(\"sentence\").value;</code></p>\n\n<p><a href=\"https://developer.mozilla.org/bm/docs/Web/JavaScript\" rel=\"nofollow noreferrer\">MDN has some introductory JavaScript tutorials</a>. You need to learn that language and not just write Java.</p>\n"}, {"tags": [], "owner": {"reputation": 291, "user_id": 4544981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceea5628409ee7ff4bec5fa50df2b395?s=128&d=identicon&r=PG&f=1", "display_name": "BennyHilarious", "link": "https://stackoverflow.com/users/4544981/bennyhilarious"}, "is_accepted": false, "score": 0, "last_activity_date": 1542835747, "creation_date": 1542835747, "answer_id": 53420711, "question_id": 53420368, "link": "https://stackoverflow.com/questions/53420368/how-to-get-input-from-textarea-to-javascript-function/53420711#53420711", "title": "How to get input from textarea to javascript function?", "body": "<p>Your code is Java, not javascript. </p>\n\n<p>The code can be rewritten for example like this (syntactically speaking). I'm affraid, it does not do what you expect it to do, but it works and the browser understands it.</p>\n\n<pre><code>function translate() {\n\n  var sentence = document.getElementById(\"sentence\").value;\n  var wordStart = -1;\n  var wordEnd = -1;\n  var letter;\n\n  var fullSentence;\n  for (var i = 0; i &lt; sentence.length; i++) {\n    var trans;\n    var c = sentence.charAt(i).toLowerCase();\n\n    if (wordStart === -1 &amp;&amp; (c !== ' ' || c !== '.' || c !== ',' || c !== '!' || c !== '?')) {\n      wordStart = i;\n      letter = c;\n    }\n\n    if (wordEnd === -1 &amp;&amp; (c === ' ' || c === '.' || c === ',' || c === '!' || c === '?' || i === sentence.length - 1)) {\n      wordEnd = i;\n    }\n\n    if (wordStart !== -1 &amp;&amp; wordEnd !== -1 &amp;&amp; (letter !== 'a' || letter !== 'e' || letter !== 'i' || letter !== 'o' || letter !== 'u')) {\n      trans = sentence.substring(wordStart + 1, wordEnd) + letter + \"ay\";\n\n      wordStart = -1;\n      wordEnd = -1;\n    }\n\n    if (wordStart !== -1 &amp;&amp; wordEnd !== -1 &amp;&amp; (letter === 'a' || letter === 'e' || letter === 'i' || letter === 'o' || letter === 'u')) {\n      trans = sentence.substring(wordStart, wordEnd) + \"way\";\n\n      wordStart = -1;\n      wordEnd = -1;\n    }\n\n    fullSentence = fullSentence + trans + \" \";\n  }\n\n  document.getElementById(\"output\").innerHTML = fullSentence;\n\n}\n</code></pre>\n\n<p>Looking to some decent JS tutorial as mentioned in other answers would help. </p>\n\n<p>Happy coding</p>\n\n<p>You can experiment with the javascript function for your page fragmet  here in <a href=\"https://jsfiddle.net/4xewjkqy/2/\" rel=\"nofollow noreferrer\">JSFidddle</a> I created.</p>\n"}, {"tags": [], "owner": {"reputation": 584, "user_id": 5558829, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YcCYp.jpg?s=128&g=1", "display_name": "Ziyo", "link": "https://stackoverflow.com/users/5558829/ziyo"}, "is_accepted": false, "score": 0, "last_activity_date": 1542835829, "creation_date": 1542835829, "answer_id": 53420726, "question_id": 53420368, "link": "https://stackoverflow.com/questions/53420368/how-to-get-input-from-textarea-to-javascript-function/53420726#53420726", "title": "How to get input from textarea to javascript function?", "body": "<p>Here is somewhat working code. You still need to modify your logic, because your result is not accurate.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n\r\n&lt;head&gt;\r\n  &lt;meta charset=\"UTF-8\" /&gt;\r\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /&gt;\r\n  &lt;title&gt;Document&lt;/title&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;div style=\"font-size: 25pt; text-align: center\"&gt;Pig Latin Translator&lt;/div&gt;\r\n  &lt;br /&gt;&lt;br /&gt;\r\n\r\n  &lt;div style=\"font-size: 15pt; text-align: center\"&gt;\r\n    Enter text to be translated:\r\n    &lt;/br&gt;\r\n    &lt;textarea id=\"sentence\" rows=\"5\" cols=\"30\"&gt;&lt;/textarea&gt;&lt;br /&gt;\r\n    &lt;button onclick=\"Translate()\"&gt;Submit&lt;/button&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div id=\"output\"&gt;&lt;/div&gt;\r\n\r\n  &lt;script type=\"text/javascript\"&gt;\r\n    function Translate() {\r\n      var sentence = document.getElementById(\"sentence\").value;\r\n      var wordStart = -1;\r\n      var wordEnd = -1;\r\n      var letter;\r\n      var fullSentence;\r\n      for (let i = 0; i &lt; sentence.length; i++) {\r\n        var trans;\r\n        var c = sentence.charAt(i).toLowerCase();\r\n        if (wordStart === -1 &amp;&amp; (c !== \" \" || c !== \".\" || c !== \",\" || c !== \"!\" || c !== \"?\")) {\r\n          wordStart = i;\r\n          letter = c;\r\n        }\r\n\r\n        if (\r\n          wordEnd === -1 &amp;&amp;\r\n          (c === \" \" || c === \".\" || c === \",\" || c === \"!\" || c === \"?\" || i === sentence.length - 1)\r\n        ) {\r\n          wordEnd = i;\r\n        }\r\n\r\n        if (\r\n          wordStart !== -1 &amp;&amp;\r\n          wordEnd !== -1 &amp;&amp;\r\n          (letter !== \"a\" || letter !== \"e\" || letter !== \"i\" || letter !== \"o\" || letter !== \"u\")\r\n        ) {\r\n          trans = sentence.substring(wordStart + 1, wordEnd) + letter + \"ay\";\r\n          wordStart = -1;\r\n          wordEnd = -1;\r\n        }\r\n\r\n        if (\r\n          wordStart !== -1 &amp;&amp;\r\n          wordEnd !== -1 &amp;&amp;\r\n          (letter === \"a\" || letter === \"e\" || letter === \"i\" || letter === \"o\" || letter === \"u\")\r\n        ) {\r\n          trans = sentence.substring(wordStart, wordEnd) + \"way\";\r\n          wordStart = -1;\r\n          wordEnd = -1;\r\n        }\r\n\r\n        fullSentence = fullSentence + trans + \" \";\r\n      }\r\n      document.getElementById(\"output\").innerHTML = fullSentence;\r\n    }\r\n  &lt;/script&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 39, "user_id": 8550301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5e5161c56af0f6a7f7c573701293214?s=128&d=identicon&r=PG&f=1", "display_name": "lilelithi", "link": "https://stackoverflow.com/users/8550301/lilelithi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 574, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1542835829, "creation_date": 1542833823, "last_edit_date": 1542834105, "question_id": 53420368, "link": "https://stackoverflow.com/questions/53420368/how-to-get-input-from-textarea-to-javascript-function", "title": "How to get input from textarea to javascript function?", "body": "<p>I'm trying to create a pig latin translator that takes input from a textarea and sends it to my javascript function for translation. I hit the submit button and nothing happens when I try it out.</p>\n\n<p>Here is my javascript code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function translate(String sentence) {\r\n\r\n  String sentence = document.getElementById(\"sentence\").value;\r\n  int wordStart = -1;\r\n  int wordEnd = -1;\r\n  String letter;\r\n\r\n  String fullSentence;\r\n  for (int i = 0; i &lt; sentence.length(); i++) {\r\n    String trans;\r\n    char c = Character.toLowerCase(sentence.charAt(i))\r\n\r\n    if (wordStart === -1 &amp;&amp; (c !== ' ' || c !== '.' || c !== ',' || c !== '!' || c !== '?')) {\r\n      wordStart = i;\r\n      letter = c;\r\n    }\r\n\r\n    if (wordEnd === -1 &amp;&amp; (c === ' ' || c === '.' || c === ',' || c === '!' || c === '?' || i === sentence.length() - 1)) {\r\n      wordEnd = i;\r\n    }\r\n\r\n    if (wordStart !== -1 &amp;&amp; wordEnd !== -1 &amp;&amp; (letter !== 'a' || letter !== 'e' || letter !== 'i' || letter !== 'o' || letter !== 'u')) {\r\n      trans = sentence.subString(wordStart + 1, wordEnd) + letter + \"ay\";\r\n\r\n      wordStart = -1;\r\n      wordEnd = -1;\r\n    }\r\n\r\n    if (wordStart !== -1 &amp;&amp; wordEnd !== -1 &amp;&amp; (letter === 'a' || letter === 'e' || letter === 'i' || letter === 'o' || letter === 'u')) {\r\n      trans = sentence.subString(wordStart, wordEnd) + \"way\";\r\n\r\n      wordStart = -1;\r\n      wordEnd = -1;\r\n    }\r\n\r\n    fullSentence = fullSentence + trans + \" \";\r\n  }\r\n\r\n  document.getElementById(\"output\").innerHTML = fullSentence;\r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div style=\"font-size: 25pt; text-align: center\"&gt;Pig Latin Translator&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;\r\n\r\n&lt;div style=\"font-size: 15pt; text-align: center\"&gt;\r\n\r\n  Enter text to be translated:\r\n\r\n  &lt;form id=\"piglatin\" action=\"\"&gt;\r\n    &lt;textarea id=\"sentence\" rows=\"5\" cols=\"30\"&gt;&lt;/textarea&gt;&lt;br /&gt;\r\n\r\n    &lt;input type=\"button\" name=\"submit\" value=\"Submit\" onclick=\"translate('sentence')\" /&gt;\r\n  &lt;/form&gt;\r\n\r\n&lt;/div&gt;\r\n\r\n&lt;div id=\"output\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Basically I'm not sure if the problem lies where I'm trying to send the info to my JS function, or if the problem is IN the JS function.</p>\n"}, {"tags": ["javascript", "encryption"], "comments": [{"owner": {"reputation": 5287, "user_id": 1813169, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/wTAkF.jpg?s=128&g=1", "display_name": "MTCoster", "link": "https://stackoverflow.com/users/1813169/mtcoster"}, "edited": false, "score": 1, "creation_date": 1542840360, "post_id": 53420359, "comment_id": 93717373, "body": "The typical method of transmitting binary data as ASCII is <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding\" rel=\"nofollow noreferrer\">base64 encoding</a>"}, {"owner": {"reputation": 18759, "user_id": 2226988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6fbec3a71b2e95e4a6e41478deb379?s=128&d=identicon&r=PG", "display_name": "Tom Blodget", "link": "https://stackoverflow.com/users/2226988/tom-blodget"}, "edited": false, "score": 1, "creation_date": 1542847825, "post_id": 53420359, "comment_id": 93719418, "body": "In JavaScript, strings are counted sequences of UTF-16 code units. (UTF-16 is a character encoding for the Unicode character set.) XOR-ing one with another could possibly create invalid code units or sequences. It definitely would work if both strings are from the <a href=\"http://www.unicode.org/charts/nameslist/index.html\" rel=\"nofollow noreferrer\">C0 Controls and Basic Latin</a> block plus the C1 Controls and Latin-1 Supplement block\u2014but you should check your inputs."}, {"owner": {"reputation": 276, "user_id": 9608344, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ninja47", "link": "https://stackoverflow.com/users/9608344/ninja47"}, "edited": false, "score": 0, "creation_date": 1543008426, "post_id": 53420359, "comment_id": 93778730, "body": "so what possible way is there to get over this problem.i.e. i get answer in 128bit keycodes"}], "owner": {"reputation": 276, "user_id": 9608344, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ninja47", "link": "https://stackoverflow.com/users/9608344/ninja47"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 131, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542837973, "creation_date": 1542833764, "last_edit_date": 1542837973, "question_id": 53420359, "link": "https://stackoverflow.com/questions/53420359/vernam-cipher-outputs-in-hexadecimal-numbers", "title": "vernam cipher outputs in hexadecimal numbers", "body": "<p>I am using the same Vernam Cipher algorithm both on the server side and front to encrypt/decrypt passwords. however I do get the correct value when I decrypt the encrypted password, the encrypted password is not in ASCII (8 bit) characters. I want to encrypt the password only into 8-bit ASCII and then want to send to/from the server but since the output is only a bunch of hexadecimal numbers which i assume are not ASCII, it's becoming difficult for me to send it over the network and save in a database. any help would be appreciated.</p>\n\n<pre><code>const crypto = {\n\n    key: 'catchmeifyoucan', \n\n    hash: function(string, key) {\n        const len = string.length\n        let ASCII = undefined; \n        let vernomChar = undefined;    \n        let output = '';\n\n        if(this.key.length &lt; string.length) {\n            this.key += this.key\n        }\n\n        for (let i = 0; i &lt; string.length; i++) {\n            ASCII = (string.charCodeAt(i) ^ key.charCodeAt(i))\n            vernomChar = String.fromCharCode(ASCII)\n            output += vernomChar\n        }\n        return output\n    },\n\n    encrypt: function(string) {\n        return this.hash(string, this.key)\n    },\n\n    decrypt: function(string) {\n        return this.hash(string, this.key)\n    }\n}\n\nlet encrypted = crypto.encrypt('text')\nlet decrypted = crypto.decrypt(encrypted)\n\n\nconsole.log('encrypted',encrypted) // output: &lt;0x17&gt;&lt;0X04&gt;&lt;0x0c&gt;&lt;0x17&gt;\nconsole.log('decrypted',decrypted) // output: text\n</code></pre>\n"}, {"tags": ["javascript", "html"], "owner": {"reputation": 21, "user_id": 9621666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ec5a2f2a65794593e14b5544172f152?s=128&d=identicon&r=PG&f=1", "display_name": "Davila", "link": "https://stackoverflow.com/users/9621666/davila"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1542833740, "creation_date": 1542833740, "question_id": 53420353, "link": "https://stackoverflow.com/questions/53420353/scraping-info-from-youtube", "title": "Scraping Info from YouTube", "body": "<p>I'm trying to scrape the category of a video from YouTube and I've encountered some issues with the handling of data. As of now I've been trying to set a delay and then going through the possible links to create an HTML collection and then iterating through that. </p>\n\n<p>However, when I iterate through the collection, some of the values are different when the loop is executing and logging to the console as compared to the HTML collection elements.</p>\n\n<p>Specifically, the element of the collection that has the category is logged differently in the script's loop.</p>\n\n<p>My code is about as follows:</p>\n\n<pre><code>document.getElementsByClassName(\"more-button style-scope ytd-video-secondary-info-renderer\")[0].click()\n    console.log(\"in the conditional\")\n    categories = document.getElementsByClassName(\"yt-simple-endpoint style-scope yt-formatted-string\");\n    console.log(categories);\n    console.log(\"checking category\");\n    Array.prototype.forEach.call(categories, function (category) {\n        console.log(category.innerText);\n        if (category.innerText == \"Entertainment\" || category.innerText == \"Gaming\" || category.innerText == \"Comedy\") {\n            isBadCategory = true;\n        }\n    });\n</code></pre>\n\n<p>Any guidance would be greatly appreciated!</p>\n"}, {"tags": ["javascript", "jquery", "arrays", "json", "parsing"], "comments": [{"owner": {"reputation": 45386, "user_id": 1264804, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/oYX71.png?s=128&g=1", "display_name": "isherwood", "link": "https://stackoverflow.com/users/1264804/isherwood"}, "edited": false, "score": 0, "creation_date": 1542833742, "post_id": 53420323, "comment_id": 93714945, "body": "Are you asking about parsing strings or targeting nested arrays? That doesn&#39;t look like valid JavaScript syntax, so I&#39;m not sure what you&#39;re after."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 1, "creation_date": 1542833830, "post_id": 53420323, "comment_id": 93714986, "body": "I mean, that&#39;s not valid JSON.  Why not make it valid JSON?"}, {"owner": {"reputation": 11, "user_id": 8255887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/173fc2d90529753794b1ae36275711c3?s=128&d=identicon&r=PG&f=1", "display_name": "Mi\u0161kyns", "link": "https://stackoverflow.com/users/8255887/mi%c5%a1kyns"}, "edited": false, "score": 0, "creation_date": 1542833908, "post_id": 53420323, "comment_id": 93715022, "body": "Yeah I want to parse it and save those strings in brackets to the arrays, which are named like the first string in bracket. So if you do something like tihs: form_settings[&#39;settings&#39;][&#39;title&#39;] you will get a Titulek string."}, {"owner": {"reputation": 11, "user_id": 8255887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/173fc2d90529753794b1ae36275711c3?s=128&d=identicon&r=PG&f=1", "display_name": "Mi\u0161kyns", "link": "https://stackoverflow.com/users/8255887/mi%c5%a1kyns"}, "edited": false, "score": 0, "creation_date": 1542834024, "post_id": 53420323, "comment_id": 93715075, "body": "I&#39;ve got them from html, because I have a name=&quot;form_settings[&#39;settings&#39;][&#39;title&#39;]&quot; and I got it by javascript I have more of these names on the same page, but there are different second bracket names. And I want to do it like in PHP."}, {"owner": {"reputation": 45386, "user_id": 1264804, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/oYX71.png?s=128&g=1", "display_name": "isherwood", "link": "https://stackoverflow.com/users/1264804/isherwood"}, "edited": false, "score": 0, "creation_date": 1542834037, "post_id": 53420323, "comment_id": 93715083, "body": "If you do <code>form_settings[&#39;settings&#39;][&#39;title&#39;]</code> in JavaScript you&#39;ll get only the title string. (I had to look up &quot;titulek&quot;.)"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1542834082, "post_id": 53420323, "comment_id": 93715104, "body": "Are you familiar with object notation in javascript?  <code>x[&#39;a&#39;][&#39;b&#39;][&#39;c&#39;]</code> would follow the pattern of <code>var x = {a:{b:{c:&#39;my value&#39;}}}</code>"}, {"owner": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "edited": false, "score": 0, "creation_date": 1542834108, "post_id": 53420323, "comment_id": 93715112, "body": "something like <code>thing:&quot;form_settings[settings][title]&quot;</code>"}, {"owner": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "edited": false, "score": 0, "creation_date": 1542834329, "post_id": 53420323, "comment_id": 93715211, "body": "Check this post <a href=\"https://stackoverflow.com/a/6580961/125981\">stackoverflow.com/a/6580961/125981</a>"}, {"owner": {"reputation": 11, "user_id": 8255887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/173fc2d90529753794b1ae36275711c3?s=128&d=identicon&r=PG&f=1", "display_name": "Mi\u0161kyns", "link": "https://stackoverflow.com/users/8255887/mi%c5%a1kyns"}, "edited": false, "score": 0, "creation_date": 1542834381, "post_id": 53420323, "comment_id": 93715231, "body": "If I do the form_settings[&#39;settings&#39;][&#39;title&#39;]. There comes an error Uncaught TypeError: Cannot read property &#39;settings&#39; of undefined"}, {"owner": {"reputation": 45386, "user_id": 1264804, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/oYX71.png?s=128&g=1", "display_name": "isherwood", "link": "https://stackoverflow.com/users/1264804/isherwood"}, "edited": false, "score": 0, "creation_date": 1542834617, "post_id": 53420323, "comment_id": 93715332, "body": "In that example, <code>settings</code> would be a key in an object, not an array element. Is that what you have?"}, {"owner": {"reputation": 11, "user_id": 8255887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/173fc2d90529753794b1ae36275711c3?s=128&d=identicon&r=PG&f=1", "display_name": "Mi\u0161kyns", "link": "https://stackoverflow.com/users/8255887/mi%c5%a1kyns"}, "edited": false, "score": 0, "creation_date": 1542834721, "post_id": 53420323, "comment_id": 93715381, "body": "Yeah and the settings element is an array and there is another one element like title and this is the element, which have some string in it (&quot;Titulek&quot;) for example."}, {"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1542835083, "post_id": 53420323, "comment_id": 93715536, "body": "I&#39;m sorry, none of this or the comments are shedding a whole lot of light. Is what you are trying to parse a <i>string</i>? You want to turn it into a JavaScript <i>object</i> ? <i>fyi</i> It can&#39;t be an <i>array</i> because arrays are <code>indexed</code>, not <code>key-&gt;value</code> pairs. Lastly, unlike PHP, in JavaScript you have to declare your variables. <code>form_settings</code> has to be  declared before you try to assign anything at all to it."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8255887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/173fc2d90529753794b1ae36275711c3?s=128&d=identicon&r=PG&f=1", "display_name": "Mi\u0161kyns", "link": "https://stackoverflow.com/users/8255887/mi%c5%a1kyns"}, "edited": false, "score": 0, "creation_date": 1542866678, "post_id": 53422352, "comment_id": 93723729, "body": "Yes that is the thing I want to do from the first &quot;mything&quot; to &quot;mything2&quot;, I want to get it from HTML &quot;name&quot; and inside the elements mything2.form_settings[&#39;settings&#39;][&#39;title&#39;] would be value with title. How can I do that?"}, {"owner": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "reply_to_user": {"reputation": 11, "user_id": 8255887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/173fc2d90529753794b1ae36275711c3?s=128&d=identicon&r=PG&f=1", "display_name": "Mi\u0161kyns", "link": "https://stackoverflow.com/users/8255887/mi%c5%a1kyns"}, "edited": false, "score": 0, "creation_date": 1542902521, "post_id": 53422352, "comment_id": 93742951, "body": "@Mi\u0161kyns  So, first get <code>mything</code> you do not have that.  That is the point."}], "tags": [], "owner": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "is_accepted": false, "score": 1, "last_activity_date": 1542902886, "last_edit_date": 1542902886, "creation_date": 1542846889, "answer_id": 53422352, "question_id": 53420323, "link": "https://stackoverflow.com/questions/53420323/parse-text-with-multiple-strings-in-brackets-into-arrays/53422352#53422352", "title": "Parse text with multiple strings in brackets into arrays", "body": "<p>This is not something you can parse.  That \"parse\" indicates a string or something that can be. THIS: cannot be \"parsed\":</p>\n\n<ol>\n<li>It has both single <code>'</code> and double <code>\"</code> quotes so NEITHER will work to make it a string which is a parse-able object.</li>\n<li>It has internal elements with no quotes also  </li>\n</ol>\n\n<blockquote>\n  <p>{form_settings['settings']['title']: \"Titulek\",\n  form_settings['settings']['description']: \"Popisek formul\u00e1\u0159e...\",\n  form_settings['settings']['gdpr']: \"ip\",\n  form_settings['settings']['acquisition']: \"n\",\n  form_settings['settings']['style_form']: \"without_border\",\u00a0\u2026}</p>\n</blockquote>\n\n<p>EDIT: I added <code>mythingString</code> and the parse of that to be more patently obvious.</p>\n\n<p>Perhaps pass a better object:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var mything = {\r\n  \"form_settings['settings']['title']\": \"Titulek\",\r\n  \"form_settings['settings']['description']\": \"Popisek formul\u00e1\u0159e...\",\r\n  \"form_settings['settings']['gdpr']\": \"ip\",\r\n  \"form_settings['settings']['acquisition']\": \"n\",\r\n  \"form_settings['settings']['style_form']\": \"without_border\"\r\n};\r\n\r\nconsole.log(mything[\"form_settings['settings']['title']\"]);\r\n\r\nvar mything2 = {\r\n  form_settings: {\r\n    settings: {\r\n      'title': \"Titulek\",\r\n      'description': \"Popisek formul\u00e1\u0159e...\",\r\n      'gdpr': \"ip\",\r\n      'acquisition': \"n\",\r\n      'style_form': \"without_border\"\r\n    }\r\n  }\r\n};\r\nconsole.log(mything2.form_settings['settings']['title']);\r\nconsole.log(mything2.form_settings.settings.title);\r\n\r\nvar mythingString = '{\"form_settings[settings][title]\": \"Titulek\",  \"form_settings[settings][description]\": \"Popisek formul\u00e1\u0159e...\", \"form_settings[settings][gdpr]\": \"ip\",  \"form_settings[settings][acquisition]\": \"n\", \"form_settings[settings][style_form]\": \"without_border\"}';\r\n\r\nvar parsedThing = JSON.parse(mythingString);\r\nconsole.log(parsedThing[\"form_settings[settings][title]\"]);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 11, "user_id": 8255887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/173fc2d90529753794b1ae36275711c3?s=128&d=identicon&r=PG&f=1", "display_name": "Mi\u0161kyns", "link": "https://stackoverflow.com/users/8255887/mi%c5%a1kyns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1542902886, "creation_date": 1542833646, "last_edit_date": 1542834257, "question_id": 53420323, "link": "https://stackoverflow.com/questions/53420323/parse-text-with-multiple-strings-in-brackets-into-arrays", "title": "Parse text with multiple strings in brackets into arrays", "body": "<p>I have a problem with parsing something like this:</p>\n\n<pre><code>{form_settings['settings']['title']: \"Titulek\", form_settings['settings']['description']: \"Popisek formul\u00e1\u0159e...\", form_settings['settings']['gdpr']: \"ip\", form_settings['settings']['acquisition']: \"n\", form_settings['settings']['style_form']: \"without_border\",\u00a0\u2026}\n</code></pre>\n\n<p>I want something like in the PHP, where you can call this</p>\n\n<pre><code>$form_settings['settings']['title']\n</code></pre>\n\n<p>But you can't do it in javascript and i want to use similiar array like in the php I want to do something like that</p>\n\n<pre><code>form_settings['settings']['title']\n</code></pre>\n\n<p>Because it doesn't work, do you know how to parse it? Thanks for the answers!</p>\n\n<p>//EDIT</p>\n\n<pre><code>&lt;div class=\"col-md-10 col-form-label\"&gt;\n  &lt;input type=\"text\" id=\"title-for-receiver\" class=\"form-control\" name=\"form_settings['email']['{$input_form['EMAIL']['title_for_receiver']-&gt;name}']\" value={$input_form['EMAIL']['title_for_receiver']-&gt;value} /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And I got these values through javascript</p>\n\n<pre><code>function getFormData(form){\nvar unindexed_array = form.serializeArray();\nvar indexed_array = {};\n\n$.map(unindexed_array, function(n, i){\n    indexed_array[n['name']] = n['value'];\n});\n\nreturn indexed_array;\n}\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "duplicates", "set"], "comments": [{"owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 1, "creation_date": 1542834411, "post_id": 53420290, "comment_id": 93715249, "body": "equality for arrays is not well defined, for example, are these &quot;equal&quot;: <code>[1,2,3] vs [1,,2,,3]</code>?  Or <code>[1,&quot;2&quot;] vs [&quot;1&quot;,2]</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 2, "last_activity_date": 1542833675, "creation_date": 1542833675, "answer_id": 53420335, "question_id": 53420290, "link": "https://stackoverflow.com/questions/53420290/javascript-remove-duplicate-arrays-from-a-set/53420335#53420335", "title": "Javascript - Remove duplicate arrays from a set", "body": "<p>You could take stringed arrays as value for the set and map then the arrays back.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var array = [[1, 2, 3], [1, 2, 3], [3, 4, 5], [5, 6, 7], [5, 6, 7]],\r\n    unique = Array.from(\r\n        new Set(array.map(a =&gt; JSON.stringify(a))),\r\n        json =&gt; JSON.parse(json)\r\n    );\r\n    \r\nconsole.log(unique);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you need the original arrays, then you could filter with a <code>Set</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var array = [[1, 2, 3], [1, 2, 3], [3, 4, 5], [5, 6, 7], [5, 6, 7]],\r\n    unique = array.filter(\r\n        (s =&gt; a =&gt; (j =&gt; !s.has(j) || s.set(j))(JSON.stringify(a)))\r\n        (new Set)\r\n    );\r\n    \r\nconsole.log(unique);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1954, "user_id": 5308487, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/q4Iw1.jpg?s=128&g=1", "display_name": "A.khalifa", "link": "https://stackoverflow.com/users/5308487/a-khalifa"}, "is_accepted": false, "score": 0, "last_activity_date": 1542833714, "creation_date": 1542833714, "answer_id": 53420346, "question_id": 53420290, "link": "https://stackoverflow.com/questions/53420290/javascript-remove-duplicate-arrays-from-a-set/53420346#53420346", "title": "Javascript - Remove duplicate arrays from a set", "body": "<p>Try this: </p>\n\n<pre><code> function remove(myArr) {\n    let s = new Set(myArr);\n    let it = s.values();\n    return Array.from(it);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 188, "user_id": 9074052, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-70FMC2y0vG0/AAAAAAAAAAI/AAAAAAAAABM/TlZ3cH9OesA/photo.jpg?sz=128", "display_name": "nitrodmr", "link": "https://stackoverflow.com/users/9074052/nitrodmr"}, "is_accepted": false, "score": 1, "last_activity_date": 1542833924, "creation_date": 1542833924, "answer_id": 53420387, "question_id": 53420290, "link": "https://stackoverflow.com/questions/53420290/javascript-remove-duplicate-arrays-from-a-set/53420387#53420387", "title": "Javascript - Remove duplicate arrays from a set", "body": "<p>You can use JSON to identify duplicates in a set and keep only the unique arrays in your list.</p>\n\n<pre><code>const elem_sets = new Set();\nconst result = arr.filter(item =&gt; !elem_sets.has(JSON.stringify(item)) ? elem_sets.add(JSON.stringify(item)) : false);\n\nconsole.log(result);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15562, "user_id": 155819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yXygz.jpg?s=128&g=1", "display_name": "Akrion", "link": "https://stackoverflow.com/users/155819/akrion"}, "is_accepted": false, "score": 0, "last_activity_date": 1542836030, "last_edit_date": 1542836030, "creation_date": 1542835678, "answer_id": 53420698, "question_id": 53420290, "link": "https://stackoverflow.com/questions/53420290/javascript-remove-duplicate-arrays-from-a-set/53420698#53420698", "title": "Javascript - Remove duplicate arrays from a set", "body": "<p>You can also solve this with a single <code>Array.reduce</code> where you group on the <code>Array.toString()</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [[1, 2, 3], [1, 2, 3], [3, 4, 5], [5, 6, 7], [5, 6, 7]]\r\n\r\nconst r = Object.values(data.reduce((r,c) =&gt; (r[c.toString()] = c, r), {}))\r\n\r\nconsole.log(r)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 11603006, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wcr2k3Rz1uM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfgXs41Y7mXABCIv6NIXFnrm60h4w/mo/photo.jpg?sz=128", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/11603006/jonathan"}, "is_accepted": false, "score": 0, "last_activity_date": 1614699490, "creation_date": 1614699490, "answer_id": 66442427, "question_id": 53420290, "link": "https://stackoverflow.com/questions/53420290/javascript-remove-duplicate-arrays-from-a-set/66442427#66442427", "title": "Javascript - Remove duplicate arrays from a set", "body": "<p>With <a href=\"https://lodash.com/docs/4.17.15#uniqWith\" rel=\"nofollow noreferrer\">Lodash</a> you can filter the Array:</p>\n<pre><code>const myArr = _.uniqWith(objects, _.isEqual);\n</code></pre>\n<p>And than  convert to a Set with Vanilla JS:</p>\n<pre><code>const mySet = new Set(uniqueArr)\n</code></pre>\n"}], "owner": {"reputation": 537, "user_id": 7754048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b444ee32318f1dac381d347f998d9483?s=128&d=identicon&r=PG&f=1", "display_name": "EDJ", "link": "https://stackoverflow.com/users/7754048/edj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 53420335, "answer_count": 5, "score": 1, "last_activity_date": 1614699490, "creation_date": 1542833507, "question_id": 53420290, "link": "https://stackoverflow.com/questions/53420290/javascript-remove-duplicate-arrays-from-a-set", "title": "Javascript - Remove duplicate arrays from a set", "body": "<p>I have an array of arrays. </p>\n\n<pre><code>let myArr = [[1,2,3],[1,2,3],[3,4,5],[5,6,7],[5,6,7]];\n</code></pre>\n\n<p>I want to filter all repeating arrays in <code>myArr</code> so it stores only unique ones:</p>\n\n<pre><code>let myArr = [[1,2,3],[3,4,5],[5,6,7]];\n</code></pre>\n\n<p>I thought that by converting <code>myArr</code> into a set it would clear all 'duplicate' values, however, it did not:</p>\n\n<pre><code>let mySet = new Set(myArr);\n// Set is: {[1,2,3],[1,2,3],[3,4,5],[5,6,7],[5,6,7]}\n</code></pre>\n\n<p>How can I properly filter <code>myArr</code> to hold only unique elements?</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 848, "user_id": 3026744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/F3DIj.jpg?s=128&g=1", "display_name": "gatsbyz", "link": "https://stackoverflow.com/users/3026744/gatsbyz"}, "edited": false, "score": 0, "creation_date": 1542833326, "post_id": 53420176, "comment_id": 93714774, "body": "Why are people downvoting? Please state a reason in comments."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 10656057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d834863b03ff63a8c65aa2d97c7011?s=128&d=identicon&r=PG&f=1", "display_name": "Tearz", "link": "https://stackoverflow.com/users/10656057/tearz"}, "edited": false, "score": 1, "creation_date": 1542834075, "post_id": 53420248, "comment_id": 93715100, "body": "Thank you for the reply Gatsby, how would I return this to state? - The 5th line sort of confuses me on what to do?"}, {"owner": {"reputation": 848, "user_id": 3026744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/F3DIj.jpg?s=128&g=1", "display_name": "gatsbyz", "link": "https://stackoverflow.com/users/3026744/gatsbyz"}, "reply_to_user": {"reputation": 73, "user_id": 10656057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d834863b03ff63a8c65aa2d97c7011?s=128&d=identicon&r=PG&f=1", "display_name": "Tearz", "link": "https://stackoverflow.com/users/10656057/tearz"}, "edited": false, "score": 0, "creation_date": 1542834332, "post_id": 53420248, "comment_id": 93715213, "body": "@Tearz When you change a reference to an object, it will also change the actual object. <code>findChild.schedules = newSched;</code> will change <code>state.children[0 or whatever].schedules</code>"}, {"owner": {"reputation": 73, "user_id": 10656057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d834863b03ff63a8c65aa2d97c7011?s=128&d=identicon&r=PG&f=1", "display_name": "Tearz", "link": "https://stackoverflow.com/users/10656057/tearz"}, "edited": false, "score": 0, "creation_date": 1542834632, "post_id": 53420248, "comment_id": 93715340, "body": "it seems to crash when I try and use this? - would you mind maybe having a look for me if I gave you the repo?"}, {"owner": {"reputation": 848, "user_id": 3026744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/F3DIj.jpg?s=128&g=1", "display_name": "gatsbyz", "link": "https://stackoverflow.com/users/3026744/gatsbyz"}, "reply_to_user": {"reputation": 73, "user_id": 10656057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d834863b03ff63a8c65aa2d97c7011?s=128&d=identicon&r=PG&f=1", "display_name": "Tearz", "link": "https://stackoverflow.com/users/10656057/tearz"}, "edited": false, "score": 0, "creation_date": 1542834672, "post_id": 53420248, "comment_id": 93715363, "body": "@Tearz Yes. I will."}], "tags": [], "owner": {"reputation": 848, "user_id": 3026744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/F3DIj.jpg?s=128&g=1", "display_name": "gatsbyz", "link": "https://stackoverflow.com/users/3026744/gatsbyz"}, "is_accepted": false, "score": 1, "last_activity_date": 1542834096, "last_edit_date": 1542834096, "creation_date": 1542833294, "answer_id": 53420248, "question_id": 53420176, "link": "https://stackoverflow.com/questions/53420176/how-to-delete-an-object-in-an-array-of-an-object-in-an-array/53420248#53420248", "title": "How to delete an object in an array of an object in an array?", "body": "<p>Your code fixed: </p>\n\n<pre><code>delSched = (firstName, date) =&gt; {\n  const children = state.children;\n  const findChild = children.find(child =&gt; child.firstName === firstName)\n  const newSched = findChild.filter(sched =&gt; sched.date !== date)\n  findChild.schedules = newSched;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 10656057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d834863b03ff63a8c65aa2d97c7011?s=128&d=identicon&r=PG&f=1", "display_name": "Tearz", "link": "https://stackoverflow.com/users/10656057/tearz"}, "edited": false, "score": 0, "creation_date": 1542834025, "post_id": 53420263, "comment_id": 93715078, "body": "Thanks Velimir, but I think this seems to delete the schedules as a whole?  After I do this, it crashes the schedules.map within a parent component."}, {"owner": {"reputation": 848, "user_id": 3026744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/F3DIj.jpg?s=128&g=1", "display_name": "gatsbyz", "link": "https://stackoverflow.com/users/3026744/gatsbyz"}, "edited": false, "score": 0, "creation_date": 1542834468, "post_id": 53420263, "comment_id": 93715270, "body": "state does not equal findChild.schedules. It should not be placing it there."}], "tags": [], "owner": {"reputation": 2487, "user_id": 2628903, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/kIwNY.jpg?s=128&g=1", "display_name": "Velimir Tchatchevsky", "link": "https://stackoverflow.com/users/2628903/velimir-tchatchevsky"}, "is_accepted": false, "score": 0, "last_activity_date": 1542834562, "last_edit_date": 1542834562, "creation_date": 1542833363, "answer_id": 53420263, "question_id": 53420176, "link": "https://stackoverflow.com/questions/53420176/how-to-delete-an-object-in-an-array-of-an-object-in-an-array/53420263#53420263", "title": "How to delete an object in an array of an object in an array?", "body": "<p>It should work, with a small correction:</p>\n\n<pre><code>delSched = (firstName, date) =&gt; {\n  let children = [...this.state.children]\n  let findChild = children.find(child =&gt; child.firstName == firstName)\n  let newState = findChild;\n  newState.schedules = newState.schedules.filter(sched =&gt; sched.date !== date)\n  this.setState({\n    children: newState\n  })\n}\n</code></pre>\n\n<p>Your <code>findChild</code> is the object that contains the <code>schedules</code> array, you need to go one level deeper to grab the array and use <code>filter</code> on it</p>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 10656057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d834863b03ff63a8c65aa2d97c7011?s=128&d=identicon&r=PG&f=1", "display_name": "Tearz", "link": "https://stackoverflow.com/users/10656057/tearz"}, "edited": false, "score": 0, "creation_date": 1542835786, "post_id": 53420545, "comment_id": 93715816, "body": "Thank you @Akrion for your response, however, I&#39;m really struggling to find a way to make this work as I&#39;m not sure how to make this work without it being just one single function?"}, {"owner": {"reputation": 15562, "user_id": 155819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yXygz.jpg?s=128&g=1", "display_name": "Akrion", "link": "https://stackoverflow.com/users/155819/akrion"}, "reply_to_user": {"reputation": 73, "user_id": 10656057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d834863b03ff63a8c65aa2d97c7011?s=128&d=identicon&r=PG&f=1", "display_name": "Tearz", "link": "https://stackoverflow.com/users/10656057/tearz"}, "edited": false, "score": 0, "creation_date": 1542835875, "post_id": 53420545, "comment_id": 93715845, "body": "Not sure I understand ... you want to change the state inside <code>delSchedule</code>?"}, {"owner": {"reputation": 73, "user_id": 10656057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d834863b03ff63a8c65aa2d97c7011?s=128&d=identicon&r=PG&f=1", "display_name": "Tearz", "link": "https://stackoverflow.com/users/10656057/tearz"}, "edited": false, "score": 0, "creation_date": 1542836060, "post_id": 53420545, "comment_id": 93715922, "body": "Kind of yeah, I&#39;m setting the state from within the function, much like this...      delSched = (firstName, date) =&gt; {         let children = [...this.state.children]         let findChild = children.find(child =&gt; child.firstName == firstName)         let newState = findChild;         newState.schedules = newState.schedules.filter(sched =&gt; sched.date !== date)         this.setState({           children: newState         })       }"}], "tags": [], "owner": {"reputation": 15562, "user_id": 155819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yXygz.jpg?s=128&g=1", "display_name": "Akrion", "link": "https://stackoverflow.com/users/155819/akrion"}, "is_accepted": false, "score": 0, "last_activity_date": 1542836518, "last_edit_date": 1542836518, "creation_date": 1542834806, "answer_id": 53420545, "question_id": 53420176, "link": "https://stackoverflow.com/questions/53420176/how-to-delete-an-object-in-an-array-of-an-object-in-an-array/53420545#53420545", "title": "How to delete an object in an array of an object in an array?", "body": "<p>You can also make it slightly shorter by doing something like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let state = { children: [{ id: 1, firstName: 'Bella', lastName: 'Laupama', profile: 'child_care', schedules: [{ date: '25 December, 2018', parent: 'Chris', activity: 'Christmas' }, { date: '28 December, 2018', parent: 'Mischa', activity: 'Christmas with Malane Whanau' }, { date: '31 December, 2018', parent: 'Laura', activity: 'New Years Eve' }, { date: '1 January, 2019', parent: 'Laura', activity: 'New Years Day' } ] }] }\r\n\r\nconst delSchedule = (arr, name, date) =&gt; {\r\n  let f = arr.find(x =&gt; x.firstName == name)\t\r\n  f.schedules = f ? f.schedules.filter(y =&gt; y.date != date) : f.schedules\r\n}\r\n\r\nthis.setState({\r\n  children: delSchedule(this.state.children, 'Bella', '1 January, 2019')\r\n})</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This way <code>delSchedule</code> is not modifying the state but returns the new one which you assign in <code>this.setState</code> etc.</p>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 10656057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d834863b03ff63a8c65aa2d97c7011?s=128&d=identicon&r=PG&f=1", "display_name": "Tearz", "link": "https://stackoverflow.com/users/10656057/tearz"}, "edited": false, "score": 0, "creation_date": 1542838614, "post_id": 53421117, "comment_id": 93716808, "body": "YES! thank you so much @Marius, this worked perfectly with slight modifications...  I will edit my original post to show the modification."}], "tags": [], "owner": {"reputation": 516, "user_id": 2286743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d1220c0aed837851f651727cc30a9c7?s=128&d=identicon&r=PG", "display_name": "Marius", "link": "https://stackoverflow.com/users/2286743/marius"}, "is_accepted": true, "score": 1, "last_activity_date": 1542838023, "creation_date": 1542838023, "answer_id": 53421117, "question_id": 53420176, "link": "https://stackoverflow.com/questions/53420176/how-to-delete-an-object-in-an-array-of-an-object-in-an-array/53421117#53421117", "title": "How to delete an object in an array of an object in an array?", "body": "<p>Good ol' for loops. The newer Array prototypes are good, but not supported everywhere. Plus having it in a loop, you can change things if you need.</p>\n\n<p>Working example:</p>\n\n<pre><code>var state = {\n  children: [\n    {\n      id: 1,\n      firstName: 'Bella',\n      lastName: 'Laupama',\n      profile: 'child_care',\n      schedules: [\n        {\n          date: '25 December, 2018',\n          parent: 'Chris',\n          activity: 'Christmas'\n        },\n        {\n          date: '28 December, 2018',\n          parent: 'Mischa',\n          activity: 'Christmas with Malane Whanau'\n        },\n        {\n          date: '31 December, 2018',\n          parent: 'Laura',\n          activity: 'New Years Eve'\n        },\n        {\n          date: '1 January, 2019',\n          parent: 'Laura',\n          activity: 'New Years Day'\n        }\n      ]\n    }\n  ]\n}\n\nvar children = state.children;\n\nfor (var i = 0; i &lt; children.length; i++) {\n  var child = state.children[i];\n\n  if (child.firstName == \"Bella\") {\n\n    //Loop through the schedules\n    for (var k = 0; k &lt; child.schedules.length; k++) {\n      var schedule = child.schedules[k];\n\n      //remove schedule if date == date\n      if (schedule.date == \"25 December, 2018\") {\n        child.schedules.splice(k, 1);\n      }\n\n    }\n\n  }\n}\n\nconsole.log(state);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6795, "user_id": 6124657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7495ab593769f0b51cec8aa260dec79f?s=128&d=identicon&r=PG", "display_name": "xadm", "link": "https://stackoverflow.com/users/6124657/xadm"}, "is_accepted": false, "score": 0, "last_activity_date": 1542840121, "creation_date": 1542840121, "answer_id": 53421446, "question_id": 53420176, "link": "https://stackoverflow.com/questions/53420176/how-to-delete-an-object-in-an-array-of-an-object-in-an-array/53421446#53421446", "title": "How to delete an object in an array of an object in an array?", "body": "<p>You probably searched for sth like:</p>\n\n<pre><code>delSched = (firstName, date) =&gt; {\n  let newChildren = this.state.children.map( child =&gt; {\n    // don't modify other people\n    if( child.firstName != firstName ) return child;\n\n    // new object\n    let newChild = {...child}\n    // mutate schedule by date\n    newChild.schedules = child.schedules.filter(sched =&gt; sched.date !== date)\n    console.log(newChild);\n    return newChild\n  })\n  this.setState({\n    children: newChildren\n  }, () =&gt; console.log(this.state.children) )\n}  \n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/react-a87m6a\" rel=\"nofollow noreferrer\">Working code</a></p>\n"}], "owner": {"reputation": 73, "user_id": 10656057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d834863b03ff63a8c65aa2d97c7011?s=128&d=identicon&r=PG&f=1", "display_name": "Tearz", "link": "https://stackoverflow.com/users/10656057/tearz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 53421117, "answer_count": 5, "score": 0, "last_activity_date": 1542840121, "creation_date": 1542832921, "last_edit_date": 1542838742, "question_id": 53420176, "link": "https://stackoverflow.com/questions/53420176/how-to-delete-an-object-in-an-array-of-an-object-in-an-array", "title": "How to delete an object in an array of an object in an array?", "body": "<p>I'm trying to create a function that deletes an object within a nested array of an object which is within an array...</p>\n\n<p>How would I delete one of the schedules by date?</p>\n\n<pre><code>state = {\nchildren: [\n  {\n    id: 1,\n    firstName: 'Bella',\n    lastName: 'Laupama',\n    profile: 'child_care',\n    schedules: [\n      {\n        date: '25 December, 2018',\n        parent: 'Chris',\n        activity: 'Christmas'\n      },\n      {\n        date: '28 December, 2018',\n        parent: 'Mischa',\n        activity: 'Christmas with Malane Whanau'\n      },\n      {\n        date: '31 December, 2018',\n        parent: 'Laura',\n        activity: 'New Years Eve'\n      },\n      {\n        date: '1 January, 2019',\n        parent: 'Laura',\n        activity: 'New Years Day'\n      }\n    ]\n  }\n ]\n}\n</code></pre>\n\n<p>Would something like this work?...</p>\n\n<pre><code>delSched = (firstName, date) =&gt; {\n  let children = [...this.state.children]\n  let findChild = children.find(child =&gt; child.firstName == firstName)\n  let newState = findChild.filter(sched =&gt; sched.date !== date)\n  this.setState({\n    children: newState\n  })\n}\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Even though most of these solutions would most probably work, the one I could get working was thank you to @Marius. I used a modified version of his code.</p>\n\n<pre><code>delSched = (firstName, date) =&gt; {\n    var children = this.state.children\n\n    for (var i = 0; i &lt; children.length; i++) {\n      var child = this.state.children[i]\n\n      if (child.firstName == firstName) {\n        //Loop through the schedules\n        for (var k = 0; k &lt; child.schedules.length; k++) {\n          var schedule = child.schedules[k]\n\n          //remove schedule if date == date\n          if (schedule.date == date) {\n            child.schedules.splice(k, 1)\n          }\n          this.setState({children})\n        }\n      }\n    }\n  }\n</code></pre>\n"}, {"tags": ["javascript", "slider"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 8328317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0v8KT.jpg?s=128&g=1", "display_name": "trip1e", "link": "https://stackoverflow.com/users/8328317/trip1e"}, "edited": false, "score": 0, "creation_date": 1542833709, "post_id": 53420270, "comment_id": 93714927, "body": "Yes, but I don&#39;t how to do it, becasue my JS skills are very bad"}, {"owner": {"reputation": 516, "user_id": 2286743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d1220c0aed837851f651727cc30a9c7?s=128&d=identicon&r=PG", "display_name": "Marius", "link": "https://stackoverflow.com/users/2286743/marius"}, "reply_to_user": {"reputation": 47, "user_id": 8328317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0v8KT.jpg?s=128&g=1", "display_name": "trip1e", "link": "https://stackoverflow.com/users/8328317/trip1e"}, "edited": false, "score": 0, "creation_date": 1542833838, "post_id": 53420270, "comment_id": 93714991, "body": "You cannot downvote someone based on an answer that does not make you happy. If you need functionality to be added, ask them on their GitHub."}, {"owner": {"reputation": 47, "user_id": 8328317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0v8KT.jpg?s=128&g=1", "display_name": "trip1e", "link": "https://stackoverflow.com/users/8328317/trip1e"}, "edited": false, "score": 0, "creation_date": 1543058430, "post_id": 53420270, "comment_id": 93787099, "body": "I&#39;m asking how to make it by myself. I try modify stop on hover function but I can&#39;t do it because I don&#39;t know how."}], "tags": [], "owner": {"reputation": 516, "user_id": 2286743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d1220c0aed837851f651727cc30a9c7?s=128&d=identicon&r=PG", "display_name": "Marius", "link": "https://stackoverflow.com/users/2286743/marius"}, "is_accepted": false, "score": -1, "last_activity_date": 1542833390, "creation_date": 1542833390, "answer_id": 53420270, "question_id": 53420173, "link": "https://stackoverflow.com/questions/53420173/how-make-slider-work-only-if-is-in-viewport/53420270#53420270", "title": "How make slider work only if is in viewport?", "body": "<p>Their Javascript does not support it. They do not return the interval that is created, so it cannot be cleared (this is how they pause it). Nor do they have a pause function, except for the one on hover. You will need to update their Javascript to support the ability to pause and play.</p>\n"}], "owner": {"reputation": 47, "user_id": 8328317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0v8KT.jpg?s=128&g=1", "display_name": "trip1e", "link": "https://stackoverflow.com/users/8328317/trip1e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1542833390, "creation_date": 1542832910, "question_id": 53420173, "link": "https://stackoverflow.com/questions/53420173/how-make-slider-work-only-if-is-in-viewport", "title": "How make slider work only if is in viewport?", "body": "<p><strong>Hello!</strong>\nI would to ask, how can I make this slider to work only if slider is on the viewport?</p>\n\n<p>I use this slider: <a href=\"http://responsiveslides.com/\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["javascript", "jquery"], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 3877972, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4456be31a11ba798ad5c9ff73a625dab?s=128&d=identicon&r=PG&f=1", "display_name": "generalcb", "link": "https://stackoverflow.com/users/3877972/generalcb"}, "edited": false, "score": 0, "creation_date": 1542833897, "post_id": 53420244, "comment_id": 93715014, "body": "Awesome cheers. Nothing like realizing you have a lot to learn after posting a question, ha ha."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "reply_to_user": {"reputation": 133, "user_id": 3877972, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4456be31a11ba798ad5c9ff73a625dab?s=128&d=identicon&r=PG&f=1", "display_name": "generalcb", "link": "https://stackoverflow.com/users/3877972/generalcb"}, "edited": false, "score": 0, "creation_date": 1542833965, "post_id": 53420244, "comment_id": 93715055, "body": "@generalcb the important point here is that you can&#39;t really use jQuery wrap with a string.  It&#39;s meant to be used with dom nodes.  So if you are trying to change part of text node, imho, it&#39;s easier to just replace the value with what you want."}], "tags": [], "owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "is_accepted": true, "score": 2, "last_activity_date": 1542833707, "last_edit_date": 1542833707, "creation_date": 1542833283, "answer_id": 53420244, "question_id": 53420172, "link": "https://stackoverflow.com/questions/53420172/how-can-i-wrap-the-last-character-in-an-element-if-its-a-certain-character/53420244#53420244", "title": "How can I wrap the last character in an element if it&#39;s a certain character?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function() {\r\n    $('.content h1').each(function() {\r\n      // get the text\r\n      var text = this.innerHTML.trim();\r\n      \r\n      //do logic if the last character is a period or question mark\r\n      if (['.', '?'].indexOf(text.slice(-1)) &gt; -1) {\r\n        // set the html back to what it was, replacing the last \r\n        // character with the wrapped html\r\n        this.innerHTML = text.slice(0, -1) \r\n                       + '&lt;span class=\"orange-end\"&gt;'\r\n                       + text.slice(-1)\r\n                       + '&lt;/span&gt;'; \r\n      }\r\n    });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.orange-end { color: orange; }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"content\"&gt;\r\n  &lt;h1&gt;What is the meaning of this?&lt;/h1&gt;\r\n  &lt;h1&gt;No way!&lt;/h1&gt;\r\n  &lt;h1&gt;I know.&lt;/h1&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 133, "user_id": 3877972, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4456be31a11ba798ad5c9ff73a625dab?s=128&d=identicon&r=PG&f=1", "display_name": "generalcb", "link": "https://stackoverflow.com/users/3877972/generalcb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 53420244, "answer_count": 1, "score": 0, "last_activity_date": 1542833707, "creation_date": 1542832900, "last_edit_date": 1542833558, "question_id": 53420172, "link": "https://stackoverflow.com/questions/53420172/how-can-i-wrap-the-last-character-in-an-element-if-its-a-certain-character", "title": "How can I wrap the last character in an element if it&#39;s a certain character?", "body": "<p>I am back and forth with this but I think I am so close. I want to wrap the last character of all H1 tags in a div with class .content if it is a full stop or question mark (to apply color). Here is what I have:</p>\n\n<pre><code>$(function() {\n    $('.content h1').each(function() {\n        last = $(this).text().trim().slice(-1);\n        if(last === '.' || last === '?') {\n            alert(last);\n            //last.wrap('&lt;span class=\"orange-end\"&gt;&lt;/span&gt;');\n        }\n    });\n});\n</code></pre>\n\n<p>This will alert the last character correctly, I am just struggling to wrap and return.</p>\n\n<p>Cheers all.</p>\n"}, {"tags": ["javascript", "get"], "comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1542833556, "post_id": 53420170, "comment_id": 93714860, "body": "To request a script file you should be using <a href=\"https://api.jquery.com/jquery.getscript/\" rel=\"nofollow noreferrer\"><code>.getScript()</code></a> or be setting <code>dataType: &quot;script&quot;</code> in your <code>.get()</code> call."}, {"owner": {"reputation": 931, "user_id": 966549, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f7f981d4976768a50abf94a03e063752?s=128&d=identicon&r=PG", "display_name": "Justin Reeves", "link": "https://stackoverflow.com/users/966549/justin-reeves"}, "edited": false, "score": 0, "creation_date": 1542834106, "post_id": 53420170, "comment_id": 93715110, "body": "Try the full path. Relative pathing is a recipe for future pain, and reversing up the file tree isn&#39;t always supported."}, {"owner": {"reputation": 87, "user_id": 10613683, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nd9QN1QQNQE/AAAAAAAAAAI/AAAAAAAAAq4/KbVNOdGWpI0/photo.jpg?sz=128", "display_name": "Pok3r Princ3", "link": "https://stackoverflow.com/users/10613683/pok3r-princ3"}, "reply_to_user": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1542834261, "post_id": 53420170, "comment_id": 93715180, "body": "@ScottMarcus I&#39;ve just tried both <code>dataType: &quot;script&quot;;</code> and <code>$.getScript(&quot;..&#47;invoiceNumber.js&quot;, function(data) {   console.log(data);   alert(&quot;Load was performed.&quot;); });</code> Same result."}, {"owner": {"reputation": 87, "user_id": 10613683, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nd9QN1QQNQE/AAAAAAAAAAI/AAAAAAAAAq4/KbVNOdGWpI0/photo.jpg?sz=128", "display_name": "Pok3r Princ3", "link": "https://stackoverflow.com/users/10613683/pok3r-princ3"}, "reply_to_user": {"reputation": 931, "user_id": 966549, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f7f981d4976768a50abf94a03e063752?s=128&d=identicon&r=PG", "display_name": "Justin Reeves", "link": "https://stackoverflow.com/users/966549/justin-reeves"}, "edited": false, "score": 0, "creation_date": 1542834562, "post_id": 53420170, "comment_id": 93715308, "body": "@nonconvergent Also tried the full path, even renamed the file for good measure. Tried to make a get request to another file in the root directory, didn&#39;t work either &gt;.&lt;"}], "owner": {"reputation": 87, "user_id": 10613683, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nd9QN1QQNQE/AAAAAAAAAAI/AAAAAAAAAq4/KbVNOdGWpI0/photo.jpg?sz=128", "display_name": "Pok3r Princ3", "link": "https://stackoverflow.com/users/10613683/pok3r-princ3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542837362, "creation_date": 1542832891, "last_edit_date": 1542837362, "question_id": 53420170, "link": "https://stackoverflow.com/questions/53420170/get-404-not-found-javascript-issue", "title": "GET 404 (Not Found) JavaScript Issue", "body": "<pre><code>$.get(\"../invoiceNumber.js\", function(data) {\n  console.log(data);\n  alert(\"Load was performed.\");\n});\n</code></pre>\n\n<p>What i'm trying to achieve with this code snippet is: I'm trying to make $.get() request from .js file located in root/public/\"said.js file\" to another .js file located in the root directory (not public). The error i'm getting in my Chrome dev tools is <code>GET http://127.0.0.1:3000/invoiceNumber.js 404 (Not Found)</code> Can you tell me what i'm doing wrong ? So far, i've tried every syntax i could come up with, and i tested this .get to make a request to another file in root/public/\"another random file\" and it works perfectly, the issue is when i try to make a get request to a file one directory up. Thanks in advance!</p>\n\n<p>Also tried this code snippet:</p>\n\n<pre><code>$.getScript(\"../invoices.js\", function(data, textStatus, jqxhr) {\n  console.log(data); // Data returned\n  console.log(textStatus); // Success\n  console.log(jqxhr.status); // 200\n  console.log(\"Load was performed.\");\n});\n</code></pre>\n\n<p>And got an extra error:\n<a href=\"https://i.stack.imgur.com/GgwXv.png\" rel=\"nofollow noreferrer\">Error Image</a></p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 45386, "user_id": 1264804, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/oYX71.png?s=128&g=1", "display_name": "isherwood", "link": "https://stackoverflow.com/users/1264804/isherwood"}, "edited": false, "score": 0, "creation_date": 1542832861, "post_id": 53420135, "comment_id": 93714579, "body": "Ideally, code posted in a snippet actually behaves as described. Can you make that happen?"}, {"owner": {"reputation": 2912, "user_id": 3081206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaKOY.jpg?s=128&g=1", "display_name": "takendarkk", "link": "https://stackoverflow.com/users/3081206/takendarkk"}, "edited": false, "score": 2, "creation_date": 1542832877, "post_id": 53420135, "comment_id": 93714586, "body": "Your js is changing the text, then the form submits which reloads the page which resets the text back to normal. There are many ways to prevent a form from submitting which I am sure you can find on google."}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1542833632, "post_id": 53420135, "comment_id": 93714892, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/11223591/onclick-shouldnt-trigger-form-data-submission\">Onclick shouldn&#39;t trigger form data submission</a>"}], "answers": [{"tags": [], "owner": {"reputation": 45386, "user_id": 1264804, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/oYX71.png?s=128&g=1", "display_name": "isherwood", "link": "https://stackoverflow.com/users/1264804/isherwood"}, "is_accepted": false, "score": 0, "last_activity_date": 1542833484, "last_edit_date": 1542833484, "creation_date": 1542833115, "answer_id": 53420215, "question_id": 53420135, "link": "https://stackoverflow.com/questions/53420135/html-flickering-when-using-js-function/53420215#53420215", "title": "HTML Flickering when using JS function", "body": "<p>Change your button type from <code>submit</code> to just <code>button</code> so the form doesn't actually submit.</p>\n\n<pre><code>&lt;input type=\"button\" value=\"Next\" onclick=\"answerNext();\"&gt;\n</code></pre>\n\n<p>You'll also want to fix the typo (<code>documet</code>) and implement a radio group to prevent both from being selected. Finally, wrap your radio buttons and their text in <code>label</code> elements for accessibility and better usability (the label text becomes clickable).</p>\n\n<p><strong><a href=\"https://jsfiddle.net/isherwood/wouch3ve/\" rel=\"nofollow noreferrer\">Demo of all that</a></strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function answerNext() {\r\n  if (document.getElementById(\"question1\").checked == true) {\r\n    document.getElementById(\"qtext\").innerText = \"You chose the first option\";\r\n  } else if (document.getElementById(\"question2\").checked == true) {\r\n    document.getElementById(\"qtext\").innerText = \"You chose the second option\";\r\n  } else {\r\n    document.getElementById(\"qtext\").innerText = \"You chose neither option\";\r\n    document.getElementById(\"testdiv\").innerHTML = \"&lt;h1&gt;You clicked next&lt;/h1&gt;\";\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h1&gt;Is now a good time to get a dog?&lt;/h1&gt;\r\n&lt;h2 id=\"qtext\"&gt;Do you like to run a lot&lt;/h2&gt;\r\n&lt;div id=\"testdiv\"&gt;&lt;/div&gt;\r\n&lt;form&gt;\r\n  &lt;label&gt;&lt;input type=\"radio\" id=\"question1\" value=\"option1\" name=\"blah\"&gt; Option 1&lt;/label&gt;\r\n  &lt;label&gt;&lt;input type=\"radio\" id=\"question2\" value=\"option1\" name=\"blah\"&gt; Option 2&lt;/label&gt;\r\n  &lt;input type=\"button\" value=\"Next\" onclick=\"answerNext(event);\"&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 497, "user_id": 10658167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r57A7.png?s=128&g=1", "display_name": "Studio KonKon", "link": "https://stackoverflow.com/users/10658167/studio-konkon"}, "is_accepted": true, "score": 0, "last_activity_date": 1542834665, "creation_date": 1542834665, "answer_id": 53420526, "question_id": 53420135, "link": "https://stackoverflow.com/questions/53420135/html-flickering-when-using-js-function/53420526#53420526", "title": "HTML Flickering when using JS function", "body": "<p>First of all, you could change the input's attribute <code>type</code> to <code>\"button\"</code> but if you wish to keep it as a <code>submit</code> button you'll need to stop the forms submit event to prevent the page navigating away/refreshing.</p>\n\n<p>You do this by using the first argument of the event's function. The first argument holds the event that was triggered. If the browser doesn't support this, there is a fallback using <code>window.event</code> (we are checking this first because some browsers only support the <code>argument</code> and some only the <code>window.event</code>).</p>\n\n<p>Stop browser from triggering the submit event using this example:</p>\n\n<pre><code>function answerNext(evt)\n{\n    if (evt == null)\n    {\n        evt = window.event;\n    }\n\n    evt.preventDefault();\n    evt.stopPropagation();\n\n    . . .\n</code></pre>\n\n<p>Secondly, you'll want to group the ratio inputs so only one can be selected at a time. Do this by creating a <code>fieldset</code> element and adding the name attribute to the inputs, connecting them to that group:</p>\n\n<pre><code>&lt;fieldset id=\"group1\"&gt;\n    &lt;input type=\"radio\" id=\"question1\" value=\"option1\" name=\"group1\"&gt; Option 1\n    &lt;input type=\"radio\" id=\"question2\" value=\"option2\" name=\"group1\"&gt; Option 2\n&lt;/fieldset&gt;\n</code></pre>\n\n<p>Also, there was an error in the <code>if else</code> statement where there's a typo <code>documet</code> should be <code>document</code>.</p>\n\n<p><strong>Try out this code I've fixed for you:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function answerNext(evt)\r\n{\r\n\tif (evt == null)\r\n\t{\r\n\t\tevt = window.event;\r\n\t}\r\n  \r\n  evt.preventDefault();\r\n\tevt.stopPropagation();\r\n  \r\n  if(document.getElementById(\"question1\").checked == true)\r\n\t{\r\n\t\tdocument.getElementById(\"qtext\").innerText=\"You chose the first option\";\r\n\t}else if (document.getElementById(\"question2\").checked == true)\r\n\t{\r\n\t\tdocument.getElementById(\"qtext\").innerText=\"You chose the second option\";\r\n\t}else\r\n\t{\r\n\t\tdocument.getElementById(\"qtext\").innerText=\"You chose neither option\";\r\n\t\tdocument.getElementById(\"testdiv\").innerHTML=\"&lt;h1&gt;You clicked next&lt;/h1&gt;\";\r\n\t}\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>fieldset#group1\r\n{\r\n  border: none;\r\n  display: inline;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\t&lt;head&gt;\r\n\t\t&lt;title&gt;Dog Personailty Quiz&lt;/title&gt;\r\n\t\t&lt;link href=\"css/style.css\" rel=\"stylesheet\" type=\"text/css\"&gt;\r\n\t\t&lt;script src=\"js/script.js\"&gt;&lt;/script&gt;\r\n\t&lt;/head&gt;\r\n\t&lt;body&gt;\r\n\t\t&lt;h1&gt;Is now a good time to get a dog?&lt;/h1&gt;\r\n\t\t&lt;h2 id=\"qtext\"&gt;Do you like to run a lot&lt;/h2&gt;\r\n\t\t&lt;div id=\"testdiv\"&gt;&lt;/div&gt;\r\n\t\t&lt;form&gt;\r\n      &lt;fieldset id=\"group1\"&gt;\r\n        &lt;input type=\"radio\" id=\"question1\" value=\"option1\" name=\"group1\"&gt; Option 1\r\n        &lt;input type=\"radio\" id=\"question2\" value=\"option2\" name=\"group1\"&gt; Option 2\r\n      &lt;/fieldset&gt;\r\n\t\t\t&lt;input type=\"submit\" value=\"Next\" onclick=\"answerNext();\"&gt;\r\n\t\t&lt;/form&gt;\r\n\t&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 13, "user_id": 9600353, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zTD9tGt6vNw/AAAAAAAAAAI/AAAAAAAAABw/k0v-ulH4vnE/photo.jpg?sz=128", "display_name": "Renz", "link": "https://stackoverflow.com/users/9600353/renz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 53420526, "answer_count": 2, "score": 1, "last_activity_date": 1542834665, "creation_date": 1542832715, "question_id": 53420135, "link": "https://stackoverflow.com/questions/53420135/html-flickering-when-using-js-function", "title": "HTML Flickering when using JS function", "body": "<p>I am trying to change text in html using the DOM. I have a form with 2 radio buttons and a submit button. When submitted, it runs a JS function that should change text in HTML to reflect what answer they chose. However, whenever you click the submit button, it changes the text and then instantly flickers back to what the html shows. Why is it doing this? I've never seen this before. Here is the code...</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function answerNext()\r\n{\r\n\tif(document.getElementById(\"question1\").checked == true)\r\n\t{\r\n\t\tdocument.getElementById(\"qtext\").innerText=\"You chose the first option\";\r\n\t}else if (document.getElementById(\"question2\").checked == true)\r\n\t{\r\n\t\tdocumet.getElementById(\"qtext\").innerText=\"You chose the second option\";\r\n\t}else\r\n\t{\r\n\t\tdocument.getElementById(\"qtext\").innerText=\"You chose neither option\";\r\n\t\tdocument.getElementById(\"testdiv\").innerHTML=\"&lt;h1&gt;You clicked next&lt;/h1&gt;\";\r\n\t}\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!doctype html&gt;\r\n&lt;html&gt;\r\n\t&lt;head&gt;\r\n\t\t&lt;title&gt;Dog Personailty Quiz&lt;/title&gt;\r\n\t\t&lt;link href=\"css/style.css\" rel=\"stylesheet\" type=\"text/css\"&gt;\r\n\t\t&lt;script src=\"js/script.js\"&gt;&lt;/script&gt;\r\n\t&lt;/head&gt;\r\n\t&lt;body&gt;\r\n\t\t&lt;h1&gt;Is now a good time to get a dog?&lt;/h1&gt;\r\n\t\t&lt;h2 id=\"qtext\"&gt;Do you like to run a lot&lt;/h2&gt;\r\n\t\t&lt;div id=\"testdiv\"&gt;&lt;/div&gt;\r\n\t\t&lt;form&gt;\r\n\t\t\t&lt;input type=\"radio\" id=\"question1\" value=\"option1\"&gt; Option 1\r\n\t\t\t&lt;input type=\"radio\" id=\"question2\" value=\"option1\"&gt; Option 2\r\n\t\t\t&lt;input type=\"submit\" value=\"Next\" onclick=\"answerNext();\"&gt;\r\n\t\t&lt;/form&gt;\r\n\t&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "html", "css", "twitter-bootstrap"], "comments": [{"owner": {"reputation": 149, "user_id": 2296368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e2i1z.jpg?s=128&g=1", "display_name": "vkoves", "link": "https://stackoverflow.com/users/2296368/vkoves"}, "edited": false, "score": 0, "creation_date": 1542832906, "post_id": 53420111, "comment_id": 93714604, "body": "How do you want to make the hexagons? If you are fine with using an image (SVG or a normal bitmap), then using CSS grid to make a responsive grid of items should work for this. Learn more about CSS grid <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/grid\" rel=\"nofollow noreferrer\">from MDN</a>"}, {"owner": {"reputation": 13, "user_id": 10687835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1cd26c48b7fa2f7ce24808de624f064?s=128&d=identicon&r=PG&f=1", "display_name": "FlushBG", "link": "https://stackoverflow.com/users/10687835/flushbg"}, "reply_to_user": {"reputation": 149, "user_id": 2296368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e2i1z.jpg?s=128&g=1", "display_name": "vkoves", "link": "https://stackoverflow.com/users/2296368/vkoves"}, "edited": false, "score": 0, "creation_date": 1542834266, "post_id": 53420111, "comment_id": 93715184, "body": "The thing is, the grid included in the link I&#39;m referencing works perfectly for me, I just need to transfer excess items to a new carousel slide, based on the screen size. Let&#39;s say I have 5-4-5 items (total 14) on a laptop and bigger screen, and only 2-1-2 (total 5) on a mobile screen, having the extra items transferred to new slides."}, {"owner": {"reputation": 1069, "user_id": 5300921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xj8w4.png?s=128&g=1", "display_name": "Rustyjim", "link": "https://stackoverflow.com/users/5300921/rustyjim"}, "edited": false, "score": 0, "creation_date": 1542917791, "post_id": 53420111, "comment_id": 93748796, "body": "Can you share the code maybe of the carousel you use? Then I believe someone can improve javascript to make this work, hope it helps."}], "owner": {"reputation": 13, "user_id": 10687835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1cd26c48b7fa2f7ce24808de624f064?s=128&d=identicon&r=PG&f=1", "display_name": "FlushBG", "link": "https://stackoverflow.com/users/10687835/flushbg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1542979376, "creation_date": 1542832568, "last_edit_date": 1542979376, "question_id": 53420111, "link": "https://stackoverflow.com/questions/53420111/how-can-i-add-a-grid-of-shapes-to-a-slick-carousel", "title": "How can I add a grid of shapes to a slick carousel?", "body": "<p>I'm working on a class project at the moment and I'm having some trouble with the front-end part of it.</p>\n\n<p>What I'm trying to do is implement a grid of hexagonal like shapes (I'm using <a href=\"https://github.com/web-tiki/responsive-grid-of-hexagons\" rel=\"nofollow noreferrer\">this</a> example by web-tiki), that works exactly as I want when resizing the screen. </p>\n\n<p>I want to put this grid in a carousel-like div, that adds a page with the same number of items when resizing, instead of stacking them underneath, thus taking up more space downwards.</p>\n\n<p>I've been through a lot of research, but none of the examples given seemed to fit my case. Can anybody give me an insight on how to do that?</p>\n\n<p><strong>Edit:  Based on Rustyjim's comment, I actually edited the carousel's js file to fit my needs, so consider the issue solved. Thanks for the responses!</strong></p>\n"}, {"tags": ["javascript", "mapbox", "mapbox-gl-js"], "answers": [{"tags": [], "owner": {"reputation": 340, "user_id": 10460106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/294413d313a6d070b4f1776ab806f87e?s=128&d=identicon&r=PG&f=1", "display_name": "LDS", "link": "https://stackoverflow.com/users/10460106/lds"}, "is_accepted": false, "score": 0, "last_activity_date": 1542869127, "creation_date": 1542869127, "answer_id": 53425253, "question_id": 53420104, "link": "https://stackoverflow.com/questions/53420104/mapbox-store-locator-number-items-on-list-and-match-numbers-as-markers-on-the-m/53425253#53425253", "title": "Mapbox Store locator, number items on list and match numbers as markers on the map", "body": "<p>You can change the url for icon as per your require ment</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>geojson.features.forEach(function(marker) {\r\n    // create a DOM element for the marker\r\n    var el = document.createElement('div');\r\n    el.className = 'marker';\r\n    el.style.backgroundImage = 'url(https://placekitten.com/g/' + marker.properties.iconSize.join('/') + '/)';\r\n    el.style.width = marker.properties.iconSize[0] + 'px';\r\n    el.style.height = marker.properties.iconSize[1] + 'px';\r\n\r\n    el.addEventListener('click', function() {\r\n        window.alert(marker.properties.message);\r\n    });\r\n\r\n    // add marker to map\r\n    new mapboxgl.Marker(el)\r\n        .setLngLat(marker.geometry.coordinates)\r\n        .addTo(map);\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 8501898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/052db925169d8463ff716d72502ad031?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/8501898/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542869127, "creation_date": 1542832524, "question_id": 53420104, "link": "https://stackoverflow.com/questions/53420104/mapbox-store-locator-number-items-on-list-and-match-numbers-as-markers-on-the-m", "title": "Mapbox Store locator, number items on list and match numbers as markers on the map", "body": "<p>I am following the example in this tutorial: <a href=\"https://www.mapbox.com/help/geocode-and-sort-stores/\" rel=\"nofollow noreferrer\">https://www.mapbox.com/help/geocode-and-sort-stores/</a></p>\n\n<p>I am trying to give the stores a number (or letter) on the list and have the same number appear as a marker on the map. </p>\n\n<p>Could not find much about how to do this on mapbox documentation. Would really appreciate your help!</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "vue.js"], "answers": [{"comments": [{"owner": {"reputation": 359, "user_id": 11563286, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cHFrOz2ieog/AAAAAAAAAAI/AAAAAAAAAAc/GIfw-5QcZtk/photo.jpg?sz=128", "display_name": "Shunjid Rahman", "link": "https://stackoverflow.com/users/11563286/shunjid-rahman"}, "edited": false, "score": 0, "creation_date": 1604995543, "post_id": 53420129, "comment_id": 114510218, "body": "This one actually makes sense."}], "tags": [], "owner": {"reputation": 1779, "user_id": 4899818, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qryDVrx3kqw/AAAAAAAAAAI/AAAAAAAAADw/9njsX-dGfOI/photo.jpg?sz=128", "display_name": "William Chong", "link": "https://stackoverflow.com/users/4899818/william-chong"}, "is_accepted": false, "score": 28, "last_activity_date": 1542832668, "creation_date": 1542832668, "answer_id": 53420129, "question_id": 53420082, "link": "https://stackoverflow.com/questions/53420082/vue-warn-avoid-using-non-primitive-value-as-key-use-string-number-value-inst/53420129#53420129", "title": "[Vue warn]: Avoid using non-primitive value as key, use string/number value instead", "body": "<p>The warning sources from <code>&lt;div v-for=\"comment in comments\" :key=\"comment\"&gt;</code>, where the object <code>comment</code> is used as a <code>key</code> for <code>v-for</code>. The meaning of the warning is quite literal, don't use Object as key.</p>\n\n<p>Use unique primitive value as key, maybe something like <code>comment.id</code> or <code>${comment.time}${comment.by}</code></p>\n"}, {"comments": [{"owner": {"reputation": 5204, "user_id": 1683466, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/0JtGE.jpg?s=128&g=1", "display_name": "Vasil Valchev", "link": "https://stackoverflow.com/users/1683466/vasil-valchev"}, "edited": false, "score": 14, "creation_date": 1558102019, "post_id": 53420156, "comment_id": 99001234, "body": "This is working but it result whit IDE warning &quot;Element in iteration expect to have v-bind:key derictives&quot;"}, {"owner": {"reputation": 1682, "user_id": 3428749, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/njizM.jpg?s=128&g=1", "display_name": "Nuno Ribeiro", "link": "https://stackoverflow.com/users/3428749/nuno-ribeiro"}, "edited": false, "score": 1, "creation_date": 1577370629, "post_id": 53420156, "comment_id": 105153817, "body": "It is recommended to follow the guidelines. Why you not use a computed propety to return a comment in string format? :key=&quot;getComents(comment)&quot;. That works."}], "tags": [], "owner": {"reputation": 360, "user_id": 1845971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c159a09897217c367a1d4d0d3814d5?s=128&d=identicon&r=PG", "display_name": "jotade", "link": "https://stackoverflow.com/users/1845971/jotade"}, "is_accepted": true, "score": 16, "last_activity_date": 1542832820, "creation_date": 1542832820, "answer_id": 53420156, "question_id": 53420082, "link": "https://stackoverflow.com/questions/53420082/vue-warn-avoid-using-non-primitive-value-as-key-use-string-number-value-inst/53420156#53420156", "title": "[Vue warn]: Avoid using non-primitive value as key, use string/number value instead", "body": "<p>You can simply avoid the use of <code>:key</code> in your <code>v-for</code>.</p>\n\n<pre><code>...\n&lt;div v-for=\"comment in comments\"&gt;\n...\n</code></pre>\n\n<p>As vuejs <a href=\"https://vuejs.org/v2/guide/list.html#key\" rel=\"noreferrer\">documentation</a> said:</p>\n\n<blockquote>\n  <p>It is recommended to provide a key with v-for whenever possible, unless the\n  iterated DOM content is simple, or you are intentionally relying on the\n  default behavior for performance gains.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 1845, "user_id": 2551591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HhCx2.png?s=128&g=1", "display_name": "Sweet Chilly Philly", "link": "https://stackoverflow.com/users/2551591/sweet-chilly-philly"}, "edited": false, "score": 5, "creation_date": 1568070691, "post_id": 55620729, "comment_id": 102150323, "body": "Thank you this is perfect"}, {"owner": {"reputation": 1779, "user_id": 4899818, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qryDVrx3kqw/AAAAAAAAAAI/AAAAAAAAADw/9njsX-dGfOI/photo.jpg?sz=128", "display_name": "William Chong", "link": "https://stackoverflow.com/users/4899818/william-chong"}, "edited": false, "score": 0, "creation_date": 1588654807, "post_id": 55620729, "comment_id": 108974138, "body": "Index should only be used as key when you are sure the array content is immutable though."}], "tags": [], "owner": {"reputation": 875, "user_id": 9026041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fFBB0.png?s=128&g=1", "display_name": "silvan", "link": "https://stackoverflow.com/users/9026041/silvan"}, "is_accepted": false, "score": 62, "last_activity_date": 1554941609, "last_edit_date": 1554941609, "creation_date": 1554927574, "answer_id": 55620729, "question_id": 53420082, "link": "https://stackoverflow.com/questions/53420082/vue-warn-avoid-using-non-primitive-value-as-key-use-string-number-value-inst/55620729#55620729", "title": "[Vue warn]: Avoid using non-primitive value as key, use string/number value instead", "body": "<p>Other answers work, but the following is also worth a try:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div v-for=\"(comment, idx) in comments\" :key=\"idx\"&gt;\n  &lt;!-- ... --&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 853, "user_id": 8518207, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/5072d7142146fd8f55e4a3b86ccaa8b0?s=128&d=identicon&r=PG&f=1", "display_name": "asus", "link": "https://stackoverflow.com/users/8518207/asus"}, "edited": false, "score": 4, "creation_date": 1573671693, "post_id": 57815926, "comment_id": 103961491, "body": "Not recommended as explained here <a href=\"https://stackoverflow.com/questions/44531510/why-not-always-use-the-index-as-the-key-in-a-vue-js-for-loop\" title=\"why not always use the index as the key in a vue js for loop\">stackoverflow.com/questions/44531510/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2940, "user_id": 7259986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AyQd5.png?s=128&g=1", "display_name": "EsterlingAccime  Youtuber", "link": "https://stackoverflow.com/users/7259986/esterlingaccime-youtuber"}, "is_accepted": false, "score": 8, "last_activity_date": 1567745618, "creation_date": 1567745618, "answer_id": 57815926, "question_id": 53420082, "link": "https://stackoverflow.com/questions/53420082/vue-warn-avoid-using-non-primitive-value-as-key-use-string-number-value-inst/57815926#57815926", "title": "[Vue warn]: Avoid using non-primitive value as key, use string/number value instead", "body": "<p>Below is an example of what works for me. Hope that helps</p>\n\n<p><a href=\"https://i.stack.imgur.com/qnV5o.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qnV5o.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 844, "user_id": 11613455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3X8Zt.png?s=128&g=1", "display_name": "Vishal Vaghasiya", "link": "https://stackoverflow.com/users/11613455/vishal-vaghasiya"}, "is_accepted": false, "score": 7, "last_activity_date": 1578482201, "creation_date": 1578482201, "answer_id": 59644666, "question_id": 53420082, "link": "https://stackoverflow.com/questions/53420082/vue-warn-avoid-using-non-primitive-value-as-key-use-string-number-value-inst/59644666#59644666", "title": "[Vue warn]: Avoid using non-primitive value as key, use string/number value instead", "body": "<p>Use unique primitive value as key,\nIt is recommended to provide a <code>key</code> attribute with <code>v-for</code> whenever possible.</p>\n\n<blockquote>\n  <p>like <code>:key=\"design.uniqueId\"</code></p>\n</blockquote>\n\n<pre><code>&lt;li v-for=\"design in designs\" :key=\"design.id\"&gt;\n    &lt;!-- code --&gt;\n&lt;/li&gt;\n\n&lt;li v-for=\"loop in loops\" :key=\"loop.id\"&gt;\n    &lt;!-- code --&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p>Such as <a href=\"https://vuejs.org/v2/guide/list.html#Maintaining-State\" rel=\"noreferrer\">Vue.js Documentation</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 1583954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f264d41611169dece4f43b7af0a82705?s=128&d=identicon&r=PG&f=1", "display_name": "Necowood", "link": "https://stackoverflow.com/users/1583954/necowood"}, "is_accepted": false, "score": 0, "last_activity_date": 1610942267, "creation_date": 1610942267, "answer_id": 65768639, "question_id": 53420082, "link": "https://stackoverflow.com/questions/53420082/vue-warn-avoid-using-non-primitive-value-as-key-use-string-number-value-inst/65768639#65768639", "title": "[Vue warn]: Avoid using non-primitive value as key, use string/number value instead", "body": "<p>Maybe you are using an Object type as the key, if it can be converted into a unique string, use the string instead of the instance by calling such as <code>toString</code>.</p>\n<p>I had same issue when I used <code>mongoose.Types.ObjectId()</code> as the key, after I changed to <code>mongoose.Types.ObjectId().toHexString()</code> the warning disappear.</p>\n"}, {"tags": [], "owner": {"reputation": 2550, "user_id": 8626173, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/MIoLW.jpg?s=128&g=1", "display_name": "TarangP", "link": "https://stackoverflow.com/users/8626173/tarangp"}, "is_accepted": false, "score": 0, "last_activity_date": 1613652182, "creation_date": 1613652182, "answer_id": 66260203, "question_id": 53420082, "link": "https://stackoverflow.com/questions/53420082/vue-warn-avoid-using-non-primitive-value-as-key-use-string-number-value-inst/66260203#66260203", "title": "[Vue warn]: Avoid using non-primitive value as key, use string/number value instead", "body": "<p>as per vue js <a href=\"https://vuejs.org/v2/guide/list.html#Maintaining-State\" rel=\"nofollow noreferrer\">Maintaining State</a> Doc it says your id is find multiple times</p>\n<p>That means your code should look like this</p>\n<p><code>div v-for=&quot;comment in comments&quot; :key=&quot;comment.id&quot;&gt;</code></p>\n<p>insted of</p>\n<p><code>div v-for=&quot;comment in comments&quot; :key=&quot;comment&quot;&gt;</code></p>\n<p>To give Vue a hint so that it can track each node\u2019s identity, and thus reuse and reorder existing elements, you need to provide a unique key attribute for each item</p>\n"}], "owner": {"reputation": 1577, "user_id": 6864770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7e1f627ba11ff79ac58aeab31fc1f719?s=128&d=identicon&r=PG&f=1", "display_name": "Drostan", "link": "https://stackoverflow.com/users/6864770/drostan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49998, "favorite_count": 8, "accepted_answer_id": 53420156, "answer_count": 7, "score": 26, "last_activity_date": 1613652182, "creation_date": 1542832420, "question_id": 53420082, "link": "https://stackoverflow.com/questions/53420082/vue-warn-avoid-using-non-primitive-value-as-key-use-string-number-value-inst", "title": "[Vue warn]: Avoid using non-primitive value as key, use string/number value instead", "body": "<p>I'm building a clone of HackerNews and am getting the following error:</p>\n\n<pre><code>vue.esm.js?efeb:591 [Vue warn]: Avoid using non-primitive value as key, use string/number value instead.\n\nfound in\n\n---&gt; &lt;Single&gt; at src/components/Single.vue\n       &lt;App&gt; at src/App.vue\n         &lt;Root&gt;\n</code></pre>\n\n<p>The error seems to be coming from Single.vue but I can't work what it is? The template is as follows:</p>\n\n<pre><code>&lt;template&gt;\n    &lt;div class=\"container\"&gt;\n        &lt;h2&gt;{{ story.title }}&lt;/h2&gt;\n        &lt;p&gt;Score: {{ story.score }}&lt;/p&gt;\n        &lt;p&gt;{{ story.url }}&lt;/p&gt;\n        &lt;div v-for=\"comment in comments\" :key=\"comment\"&gt;\n          &lt;div class=\"comment-wrap\"&gt;\n                &lt;div class=\"comment-block\"&gt;\n                    &lt;p class=\"comment-text\"&gt;{{ comment.text }}&lt;/p&gt;\n                    &lt;div class=\"bottom-comment\"&gt;\n                        &lt;div class=\"comment-author\"&gt;{{ comment.by }}&lt;/div&gt;\n                        &lt;div class=\"comment-date\"&gt;{{ comment.time }}&lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p>If anyone out there can help, that would be great!?</p>\n"}, {"tags": ["javascript", "sorting"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 2, "creation_date": 1542832403, "post_id": 53420055, "comment_id": 93714375, "body": "It doesn&#39;t make sense to sort object properties; the ordering is not really under your control. If you need things in a specific order, put them in an array."}, {"owner": {"reputation": 1779, "user_id": 4899818, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qryDVrx3kqw/AAAAAAAAAAI/AAAAAAAAADw/9njsX-dGfOI/photo.jpg?sz=128", "display_name": "William Chong", "link": "https://stackoverflow.com/users/4899818/william-chong"}, "edited": false, "score": 1, "creation_date": 1542832490, "post_id": 53420055, "comment_id": 93714410, "body": "Your code seems fine, the error probably come from other parts of your code?"}, {"owner": {"reputation": 1294, "user_id": 8602776, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10213515526101331/picture?type=large", "display_name": "MazMat", "link": "https://stackoverflow.com/users/8602776/mazmat"}, "edited": false, "score": 0, "creation_date": 1542832553, "post_id": 53420055, "comment_id": 93714440, "body": "I want to sort array of objects by their properties (meaning first elemnt in the array would be the one with the biggest stats.speed value) though, not objects themselves, I cant even imagine that would make sense"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1542832620, "post_id": 53420055, "comment_id": 93714470, "body": "@MazMat I was re-reading your question. It&#39;s not really clear because what you posted is not complete (or even syntactically correct).  Is it the case that you have an array of objects, and each object has one of those &quot;stats&quot; sub-objects? And you want to sort the objects by &quot;speed&quot; value?"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1542832749, "post_id": 53420055, "comment_id": 93714529, "body": "Based on the error it sounds like the array has been <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\" rel=\"nofollow noreferrer\">frozen</a>."}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1542832802, "post_id": 53420055, "comment_id": 93714555, "body": "@PatrickRoberts agreed; I tried a quick experiment to make an array slot be <code>writable: false</code> and that <i>works</i> but it does not trigger an exception. <i>edit</i> wait except freezing the object <i>also</i> does not cause an exception."}, {"owner": {"reputation": 1294, "user_id": 8602776, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10213515526101331/picture?type=large", "display_name": "MazMat", "link": "https://stackoverflow.com/users/8602776/mazmat"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1542832852, "post_id": 53420055, "comment_id": 93714575, "body": "That is correct @Pointy"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1542832910, "post_id": 53420055, "comment_id": 93714606, "body": "Well it&#39;s not clear from what I know about your code how you&#39;d get an exception like that. Where does the array come from?"}, {"owner": {"reputation": 920, "user_id": 5482045, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/930882390318811/picture?type=large", "display_name": "Nunchy", "link": "https://stackoverflow.com/users/5482045/nunchy"}, "edited": false, "score": 0, "creation_date": 1542832917, "post_id": 53420055, "comment_id": 93714607, "body": "Can we see the entire code where you&#39;re assigning the object to the variable that&#39;s being sorted?"}, {"owner": {"reputation": 1294, "user_id": 8602776, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10213515526101331/picture?type=large", "display_name": "MazMat", "link": "https://stackoverflow.com/users/8602776/mazmat"}, "edited": false, "score": 0, "creation_date": 1542833055, "post_id": 53420055, "comment_id": 93714661, "body": "Updated, is it enough?"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1542833084, "post_id": 53420055, "comment_id": 93714674, "body": "@Pointy I said the array, not the object. The <i>array</i> is frozen, e.g. <code>Object.freeze(Array.from(&#39;gfedcba&#39;)).sort()</code>"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1542833155, "post_id": 53420055, "comment_id": 93714703, "body": "@PatrickRoberts yes I understood that; try it in your own console. Freezing the array itself does prevent assignment to any slot of the array, but no exception is thrown. (Sorry; I meant &quot;freezing the array&quot;.)"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1542833246, "post_id": 53420055, "comment_id": 93714733, "body": "@Pointy <a href=\"https://i.imgur.com/X4kQNvC.png\" rel=\"nofollow noreferrer\">you were saying?</a>"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1542833294, "post_id": 53420055, "comment_id": 93714755, "body": "Interesting; Firefox throws no exception as far as I can tell. Like, if I make an array and freeze it and then immediately do <code>array[0] = &quot;hello world&quot;;</code> the assignment does not happen but the browser throws no exception."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 2, "creation_date": 1542833401, "post_id": 53420055, "comment_id": 93714796, "body": "Try evaluating with a <code>&#39;use strict&#39;;</code> above the expression."}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1542833439, "post_id": 53420055, "comment_id": 93714814, "body": "ah that&#39;s probably it! <i>edit</i> yes, well that&#39;s a mystery solved :)  Thanks"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1542833490, "post_id": 53420055, "comment_id": 93714834, "body": "For the record, <a href=\"https://i.imgur.com/gRf27FE.png\" rel=\"nofollow noreferrer\">Firefox does the same thing as Chrome for me</a>."}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1542833577, "post_id": 53420055, "comment_id": 93714868, "body": "@MazMat so in the end it looks like Redux maybe freezes those objects for its own reasons? In any case that&#39;s what causes that error: the array itself is flagged as frozen and so slots of the array cannot be reassigned."}], "answers": [{"comments": [{"owner": {"reputation": 1294, "user_id": 8602776, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10213515526101331/picture?type=large", "display_name": "MazMat", "link": "https://stackoverflow.com/users/8602776/mazmat"}, "edited": false, "score": 0, "creation_date": 1542833952, "post_id": 53420326, "comment_id": 93715046, "body": "And this solves it, thank you. Must read on the <code>freeze</code> because I often sorted my arrays and never encountered such issue"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 1294, "user_id": 8602776, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10213515526101331/picture?type=large", "display_name": "MazMat", "link": "https://stackoverflow.com/users/8602776/mazmat"}, "edited": false, "score": 0, "creation_date": 1542847407, "post_id": 53420326, "comment_id": 93719344, "body": "@MazMat it&#39;s possible one of your dependencies has some sort of development flag enabled that uses runtime enforcement of immutable data so that you can catch problem areas early where you&#39;re mutating objects provided by the framework."}, {"owner": {"reputation": 460, "user_id": 4254647, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3f0e90d099f3d0aac48de91a79092736?s=128&d=identicon&r=PG", "display_name": "Mark Hkr", "link": "https://stackoverflow.com/users/4254647/mark-hkr"}, "edited": false, "score": 12, "creation_date": 1586982821, "post_id": 53420326, "comment_id": 108334814, "body": "This also solves the same issue using &quot;immer&quot; when storing objects in a reducer. You can also use a spread version <code>[...array].sort()</code>"}], "tags": [], "owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "is_accepted": true, "score": 238, "last_activity_date": 1542833650, "creation_date": 1542833650, "answer_id": 53420326, "question_id": 53420055, "link": "https://stackoverflow.com/questions/53420055/error-while-sorting-array-of-objects-cannot-assign-to-read-only-property-2-of/53420326#53420326", "title": "Error while sorting array of objects Cannot assign to read only property &#39;2&#39; of object &#39;[object Array]&#39;", "body": "<p>Because the array is <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\" rel=\"noreferrer\">frozen</a> in <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode\" rel=\"noreferrer\">strict mode</a>, you'll need to copy the array before sorting it:</p>\n\n<pre><code>array = array.slice().sort((a, b) =&gt; b.stats.speed - a.stats.speed)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 291, "user_id": 10296360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a72de94db4a8f2d0fbb630caa6afbec?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Friedman", "link": "https://stackoverflow.com/users/10296360/nick-friedman"}, "is_accepted": false, "score": 18, "last_activity_date": 1566240688, "creation_date": 1566240688, "answer_id": 57562429, "question_id": 53420055, "link": "https://stackoverflow.com/questions/53420055/error-while-sorting-array-of-objects-cannot-assign-to-read-only-property-2-of/57562429#57562429", "title": "Error while sorting array of objects Cannot assign to read only property &#39;2&#39; of object &#39;[object Array]&#39;", "body": "<p>The reason as Patrick stated is because the array is frozen. So any method of copying the array will work such as the one he suggests.</p>\n\n<p><code>array = array.slice().sort((a, b) =&gt; b.stats.speed - a.stats.speed)</code></p>\n\n<p>I just want to add that the <strong>reason</strong> the array is frozen in your case is because your using the array as props from the redux store and props in React are immutable hence your not being able to mutate the array.</p>\n"}, {"comments": [{"owner": {"reputation": 894, "user_id": 5824563, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-0qg29g0-VN0/AAAAAAAAAAI/AAAAAAAAAAA/Yty34orMZiA/photo.jpg?sz=128", "display_name": "Phil Lucks", "link": "https://stackoverflow.com/users/5824563/phil-lucks"}, "edited": false, "score": 0, "creation_date": 1588976119, "post_id": 57917728, "comment_id": 109118199, "body": "if using redux, this is an amazing catch and should be considered a great answer.  thank you"}], "tags": [], "owner": {"reputation": 147, "user_id": 2986224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83d3bb00fb19867f2660a567a775186b?s=128&d=identicon&r=PG&f=1", "display_name": "slash", "link": "https://stackoverflow.com/users/2986224/slash"}, "is_accepted": false, "score": 13, "last_activity_date": 1568352361, "creation_date": 1568352361, "answer_id": 57917728, "question_id": 53420055, "link": "https://stackoverflow.com/questions/53420055/error-while-sorting-array-of-objects-cannot-assign-to-read-only-property-2-of/57917728#57917728", "title": "Error while sorting array of objects Cannot assign to read only property &#39;2&#39; of object &#39;[object Array]&#39;", "body": "<p>The array is frozen to prevent mutation of the redux state. You use react cloneElement():\n<a href=\"https://reactjs.org/docs/react-api.html#cloneelement\" rel=\"noreferrer\">https://reactjs.org/docs/react-api.html#cloneelement</a></p>\n\n<pre><code>[...enemies].sort((a, b) =&gt; {\n                return b.stats.speed - a.stats.speed\n            })\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 473, "user_id": 8800839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50ab71298e09d7df19b9741966f9af09?s=128&d=identicon&r=PG&f=1", "display_name": "JFFIGK", "link": "https://stackoverflow.com/users/8800839/jffigk"}, "edited": false, "score": 0, "creation_date": 1599159375, "post_id": 62505847, "comment_id": 112695580, "body": "thanks for the clue, it is not apparent that it is being sorted in place"}], "tags": [], "owner": {"reputation": 20977, "user_id": 2518231, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3ea4d08629a1d5ce591b415bdb5cd365?s=128&d=identicon&r=PG", "display_name": "Matthew Herbst", "link": "https://stackoverflow.com/users/2518231/matthew-herbst"}, "is_accepted": false, "score": 4, "last_activity_date": 1592785546, "creation_date": 1592785546, "answer_id": 62505847, "question_id": 53420055, "link": "https://stackoverflow.com/questions/53420055/error-while-sorting-array-of-objects-cannot-assign-to-read-only-property-2-of/62505847#62505847", "title": "Error while sorting array of objects Cannot assign to read only property &#39;2&#39; of object &#39;[object Array]&#39;", "body": "<p>To be clear, the issue is not purely that the array is frozen. Frozen arrays can be iterated over. As noted in <a href=\"https://stackoverflow.com/questions/49278578/reactjs-sorting-typeerror-0-is-read-only\">ReactJS - sorting - TypeError: 0 is read only</a>, the issue is that <code>Array.sort</code> sorts the array in-place, meaning it attempts to mutate the array. That's why you need to pass it a mutable copy of the array.</p>\n"}], "owner": {"reputation": 1294, "user_id": 8602776, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10213515526101331/picture?type=large", "display_name": "MazMat", "link": "https://stackoverflow.com/users/8602776/mazmat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42685, "favorite_count": 6, "accepted_answer_id": 53420326, "answer_count": 4, "score": 83, "last_activity_date": 1592785546, "creation_date": 1542832329, "last_edit_date": 1542833041, "question_id": 53420055, "link": "https://stackoverflow.com/questions/53420055/error-while-sorting-array-of-objects-cannot-assign-to-read-only-property-2-of", "title": "Error while sorting array of objects Cannot assign to read only property &#39;2&#39; of object &#39;[object Array]&#39;", "body": "<p>I'm having array of objects where object looks like this (values change):</p>\n\n<pre><code>   {\n     stats: {\n        hp: 2,\n        mp: 0,\n        defence: 4,\n        agility: 11,\n        speed: 6,\n        strength: 31\n     }\n   }\n</code></pre>\n\n<p>I want to sort them in descending order by speed doing:</p>\n\n<pre><code>  array.sort((a, b) =&gt; {\n            return b.stats.speed - a.stats.speed\n        })\n</code></pre>\n\n<p>However I'm getting this error and I can't really decipher whats going on:</p>\n\n<p>TypeError: Cannot assign to read only property '2' of object '[object Array]'</p>\n\n<p>What am I missing?</p>\n\n<p>Edit:\nArray of object in redux store:</p>\n\n<pre><code>const enemyDefaultState = [\n{\n    name: 'European Boy1',\n    stats: {\n        hp: 2,\n        mp: 0,\n        defence: 4,\n        agility: 11,\n        speed: 6,\n        strength: 31\n    }\n},\n{\n    name: 'European Boy2',\n    stats: {\n        hp: 2,\n        mp: 0,\n        defence: 4,\n        agility: 4,\n        speed: 2,\n        strength: 31\n    }\n},\n{\n    name: 'European Boy3',\n    stats: {\n        hp: 2,\n        mp: 0,\n        defence: 4,\n        agility: 7,\n        speed: 7,\n        strength: 31\n    }\n},\n</code></pre>\n\n<p>]</p>\n\n<p>I import the array and assign it to the variable:</p>\n\n<pre><code> let enemies = getState().enemy;\n        if (enemies) {\n            //sort by speed stat\n            enemies.sort((a, b) =&gt; {\n                return b.stats.speed - a.stats.speed\n            })\n        }\n</code></pre>\n"}, {"tags": ["javascript", "php", "mysqli", "html-table"], "comments": [{"owner": {"reputation": 1181, "user_id": 8634812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wc6ev.jpg?s=128&g=1", "display_name": "lovelace", "link": "https://stackoverflow.com/users/8634812/lovelace"}, "edited": false, "score": 0, "creation_date": 1542832771, "post_id": 53419986, "comment_id": 93714541, "body": "you say you tried to create a html table... where is the &lt;table&gt; &lt;/table&gt; block?"}, {"owner": {"reputation": 91, "user_id": 10663657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb27705cf420cf80f70e5dfadcfa74c3?s=128&d=identicon&r=PG&f=1", "display_name": "AlexLogic", "link": "https://stackoverflow.com/users/10663657/alexlogic"}, "reply_to_user": {"reputation": 1181, "user_id": 8634812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wc6ev.jpg?s=128&g=1", "display_name": "lovelace", "link": "https://stackoverflow.com/users/8634812/lovelace"}, "edited": false, "score": 0, "creation_date": 1542833144, "post_id": 53419986, "comment_id": 93714698, "body": "I tried white &#39;&lt;table&gt;&#39; but it does not work ... I preferred to put this so it is clearer .. @lovelace"}], "answers": [{"tags": [], "owner": {"reputation": 149, "user_id": 10546797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MxUUs.png?s=128&g=1", "display_name": "ErDiablo", "link": "https://stackoverflow.com/users/10546797/erdiablo"}, "is_accepted": false, "score": 0, "last_activity_date": 1542840112, "last_edit_date": 1542840112, "creation_date": 1542835459, "answer_id": 53420660, "question_id": 53419986, "link": "https://stackoverflow.com/questions/53419986/dynamic-table-with-html-and-php/53420660#53420660", "title": "Dynamic Table with HTML and PHP", "body": "<p>Try this, but I'm not sure if it's what you asked for, because I did not understand what you wanted.</p>\n\n<pre><code>    &lt;?php \n\n    session_start();\n\n    if(!isset($_SESSION[\"username\"])){\n        header('location: ../index.php');\n    }\n\n\n\n    $servername = \"localhost\";\n    $username = \"root\";\n    $password = \"\";\n    $dbname = \"my_progettocantiere\";\n\n\n\n    $idCantiere = $_GET[\"idCantiere\"]; \n\n    // Create connection\n    $conn = new mysqli($servername, $username, $password, $dbname);\n\n    // Check connection\n    if ($conn-&gt;connect_error) \n    {\n        die(\"Connection failed: \" . $conn-&gt;connect_error);\n    } \n\n?&gt;\n\n&lt;!DOCTYPE html&gt;\n\n&lt;html lang=\"en\"&gt;\n\n    &lt;head&gt;\n\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;\n        &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n        &lt;title&gt;Progetto Cantiere&lt;/title&gt;\n        &lt;!-- Bootstrap --&gt;\n        &lt;link href=\"../paginaIniziale/css/bootstrap-4.0.0.css\" rel=\"stylesheet\"&gt;\n        &lt;link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css\"&gt;\n\n\n    &lt;/head&gt;\n\n    &lt;body&gt;\n\n        &lt;div class=\"container\"&gt;\n\n            &lt;div class=\"row\"&gt;\n\n                &lt;?php\n\n                    $sql = \"SELECT idCantiere,nomeCantiere,codiceCommessa,indirizzoCantiere FROM Cantiere WHERE idCantiere = '$idCantiere'\";\n\n                    $result = $conn-&gt;query($sql);\n\n\n                    if ($result-&gt;num_rows &gt; 0) {\n\n                        while($row = $result-&gt;fetch_assoc()) \n                        {   \n\n                            ?&gt;\n                                &lt;div class=\"col-sm-12\"&gt;\n                                    &lt;h1&gt; &lt;?php echo $row[\"codiceCommessa\"] . '-' . $row[\"nomeCantiere\"] ?&gt;&lt;/h1&gt;\n                                &lt;/div&gt;\n                            &lt;?php\n                        }\n\n                    } else {\n\n                        echo \"0 results\";\n\n                    }\n\n            ?&gt;\n            &lt;/div&gt;\n\n                &lt;?php                           \n                    $sql1 = \"SELECT idAffidataria,nomeCantiere FROM Affidataria WHERE fkIDCantiere = '$idCantiere'\";\n                    $result1 = $conn-&gt;query($sql1);\n\n\n                    if ($result1-&gt;num_rows &gt; 0)\n                    {\n                        // output data of each row\n                        while($row1 = $result1-&gt;fetch_assoc()) \n                        {\n\n                            ?&gt;  \n                            &lt;div class=\"row\"&gt;\n\n                                &lt;div class=\"col-sm-11 offset-sm-1\"&gt;\n\n                                    &lt;h1&gt;Affidataria&lt;/h1&gt;\n                                    &lt;a class=\"myButton\" href=\"../../pagineHtml/visualizza/visualizzazione/affidatario.php?idAffidataria= &lt;?php echo $row1[\"idAffidataria\"] ?&gt;\"&gt;\n                                        &lt;?php echo $row1[\"nomeCantiere\"] ?&gt; \n                                    &lt;/a&gt;\n\n                                &lt;/div&gt;\n\n\n                                &lt;div class=\"col-sm-6 offset-sm-2\"&gt;\n                                    &lt;h1&gt;SubAffidatario&lt;/h1&gt;\n\n                                    &lt;?php\n\n                                        $idAffidataria = $row1[\"idAffidataria\"];\n\n                                        $sql2 = \"SELECT * FROM SubAffidatario WHERE fkIdAffidataria = '$idAffidataria'\";\n                                        $result2 = $conn-&gt;query($sql2);\n\n                                        if ($result2-&gt;num_rows &gt; 0)\n                                        {\n                                            // output data of each row\n                                            while($row2 = $result2-&gt;fetch_assoc()) \n                                            {\n                                                ?&gt;  \n                                                    &lt;div class=\"col-sm-10\"&gt;\n                                                        &lt;br&gt;\n                                                        &lt;a class=\"myButton\" href=\"../../pagineHtml/visualizza/visualizzazione/affidatario.php?idAffidataria=&lt;?php echo $row2[\"ragioneSocialeSubAffidatario\"]  ?&gt;\"&gt; \n                                                            &lt;?php echo $row2[\"ragioneSocialeSubAffidatario\"]  ?&gt;\n\n                                                        &lt;/a&gt;\n                                                    &lt;/div&gt;\n                                                &lt;?php\n                                            }\n\n                                        }else {\n                                            echo \"0 results\";\n                                        }\n\n                        }\n\n                            ?&gt;\n                                &lt;/div&gt;\n                            &lt;?php\n\n                    }else{\n\n                        echo \"0 results\";\n\n                    }\n\n                    $conn-&gt;close();\n\n                ?&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n    &lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 127, "user_id": 10170504, "user_type": "registered", "profile_image": "https://graph.facebook.com/1943092695733790/picture?type=large", "display_name": "NarcosZTK_10", "link": "https://stackoverflow.com/users/10170504/narcosztk-10"}, "is_accepted": true, "score": 1, "last_activity_date": 1542839456, "last_edit_date": 1542839456, "creation_date": 1542837557, "answer_id": 53421051, "question_id": 53419986, "link": "https://stackoverflow.com/questions/53419986/dynamic-table-with-html-and-php/53421051#53421051", "title": "Dynamic Table with HTML and PHP", "body": "<p>Try with the following code ..</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;?php \n    session_start();\n    if(!isset($_SESSION[\"username\"])){\n        header('location: ../index.php');\n    }else\n    {\n\n?&gt;\n&lt;?php\n$servername = \"localhost\";\n$username = \"root\";\n$password = \"\";\n$dbname = \"my_progettocantiere\";\n\n\n$idCantiere = $_GET[\"idCantiere\"]; \n// Create connection\n$conn = new mysqli($servername, $username, $password, $dbname);\n// Check connection\nif ($conn-&gt;connect_error) {\n    die(\"Connection failed: \" . $conn-&gt;connect_error);\n} \n$sql = \"SELECT idCantiere,nomeCantiere,codiceCommessa,indirizzoCantiere FROM Cantiere WHERE idCantiere = '$idCantiere'\";\n$result = $conn-&gt;query($sql);\n\n\nif ($result-&gt;num_rows &gt; 0) {\n    // output data of each row\n    while($row = $result-&gt;fetch_assoc()) {\n\n    echo'&lt;h1 align=\"center\"&gt;' . $row[\"codiceCommessa\"] . '-' . $row[\"nomeCantiere\"] . '&lt;/h1&gt;';\n    }\n\n\n} else {\n    echo \"0 results\";\n}\n$conn1 = new mysqli($servername, $username, $password, $dbname);\n// Check connection\nif ($conn1-&gt;connect_error) {\n    die(\"Connection failed: \" . $conn1-&gt;connect_error);\n} \n\n$sql1 = \"SELECT * FROM Affidataria WHERE fkIDCantiere = '$idCantiere'\";\n$result1 = $conn1-&gt;query($sql1);\n\n\n//echo \"&lt;script type='text/javascript'&gt;alert('$idAffidataria');&lt;/script&gt;\";\n\nif ($result1-&gt;num_rows &gt; 0)\n    {\n    // output data of each row\n    while($row1 = $result1-&gt;fetch_assoc()) \n    {\n\n\n\n        echo '&lt;table align=\"center\" border=\"3px\" width = \"900px\"&gt;';\n\n    echo '&lt;tr&gt;';\n        echo '&lt;td&gt;&lt;h1&gt;Anagrafica&lt;/h1&gt;';\n        echo '&lt;td&gt;&lt;h1&gt; Affidataria&lt;/h1&gt;&lt;/td&gt;';\n        echo '&lt;td&gt;&lt;h1&gt; SubAffidatario&lt;/h1&gt;&lt;/td&gt;&lt;/tr&gt;';\n        echo '&lt;tr&gt;&lt;td&gt;&lt;a class=\"myButton\" href=\"../../pagineHtml/modifica/modifica/inserimentoCantiere.php?idCantiere=' . $row1[\"fkIDCantiere\"] . '\"&gt;Anagrafica&lt;/a&gt;&lt;/td&gt;';\n        echo '&lt;td&gt;&lt;a class=\"myButton\" href=\"../../pagineHtml/modifica/modifica/affidatario.php?idAffidataria=' . $row1[\"idAffidataria\"] . '\"&gt;' . $row1[\"nomeCantiere\"] . '&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;';\n\n        $idAffidataria = $row1[\"idAffidataria\"];\n\n        $conn2 = new mysqli($servername, $username, $password, $dbname);\n// Check connection\n    if ($conn2-&gt;connect_error) \n        {\n    die(\"Connection failed: \" . $conn2-&gt;connect_error);\n        } \n\n    $sql2 = \"SELECT * FROM SubAffidatario WHERE fkIdAffidataria = '$idAffidataria'\";\n    $result2 = $conn2-&gt;query($sql2);\n    if ($result2-&gt;num_rows &gt; 0)\n        {\n    // output data of each row\n        while($row2 = $result2-&gt;fetch_assoc()) \n        {\n\n      //  echo '&lt;a class=\"myButton\" href=\"../../pagineHtml/visualizza/visualizzazione/affidatario.php?idAffidataria=' . $row1[\"idAffidataria\"] . '\"&gt;' . $row1[\"nomeCantiere\"] . '&lt;/a&gt;';\n        echo'&lt;br&gt;&lt;br&gt;&lt;br&gt;';\n        echo '&lt;tr&gt;';\n        echo '&lt;td&gt;&lt;/td&gt;';\n        echo '&lt;td&gt;&lt;/td&gt;';\n        echo '&lt;td&gt;&lt;a class=\"myButton\" href=\"../../pagineHtml/modifica/modifica/subAffidatario.php?idSubAffidatario=' . $row2[\"idSubAffidatario\"] . '\"&gt;' . $row2[\"ragioneSocialeSubAffidatario\"] . '&lt;/a&gt;&lt;/td&gt;';\n        }\n    //echo'&lt;br&gt;&lt;br&gt;&lt;br&gt;';\n    //echo '&lt;a href=\"../pagineHtml/inserimento/inserimentoGenerale/inserimentoCantiere.php\" class=\"myButton\" alt=\"Nuovo Cantiere +\"&gt;Nuovo Cantiere +&lt;/a&gt;';\n\n        } \n        else {\n        echo \"0 results\";\n        }\n\n    }\n    //echo'&lt;br&gt;&lt;br&gt;&lt;br&gt;';\n    //echo '&lt;a href=\"../pagineHtml/inserimento/inserimentoGenerale/inserimentoCantiere.php\" class=\"myButton\" alt=\"Nuovo Cantiere +\"&gt;Nuovo Cantiere +&lt;/a&gt;';\n\n    } \n    else\n    {\n    echo \"0 results\";\n    }\n    echo'&lt;/tr&gt;';\n    echo '&lt;/table&gt;';\n\n$conn-&gt;close();\n\n$conn1-&gt;close();\n\n\n$conn2-&gt;close();\n\n\n?&gt;\n\n&lt;html lang=\"en\"&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n   &lt;title&gt;Progetto Cantiere&lt;/title&gt;\n    &lt;!-- Bootstrap --&gt;\n    &lt;link href=\"../paginaIniziale/css/bootstrap-4.0.0.css\" rel=\"stylesheet\"&gt;\n  &lt;/head&gt;\n    &lt;style&gt;\n\n    .myButton {\n    -moz-box-shadow:inset 0px 1px 0px 0px #97c4fe;\n    -webkit-box-shadow:inset 0px 1px 0px 0px #97c4fe;\n    box-shadow:inset 0px 1px 0px 0px #97c4fe;\n    background:-webkit-gradient(linear, left top, left bottom, color-stop(0.05, #3d94f6), color-stop(1, #1e62d0));\n    background:-moz-linear-gradient(top, #3d94f6 5%, #1e62d0 100%);\n    background:-webkit-linear-gradient(top, #3d94f6 5%, #1e62d0 100%);\n    background:-o-linear-gradient(top, #3d94f6 5%, #1e62d0 100%);\n    background:-ms-linear-gradient(top, #3d94f6 5%, #1e62d0 100%);\n    background:linear-gradient(to bottom, #3d94f6 5%, #1e62d0 100%);\n    filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#3d94f6', endColorstr='#1e62d0',GradientType=0);\n    background-color:#3d94f6;\n    -moz-border-radius:6px;\n    -webkit-border-radius:6px;\n    border-radius:6px;\n    border:1px solid #0f73ff;\n    display:inline-block;\n    cursor:pointer;\n    color:#ffffff;\n    font-family:Arial;\n    font-size:28px;\n    font-weight:bold;\n    padding:32px 76px;\n    text-decoration:none;\n    text-shadow:0px 1px 0px #1570cd;\n}\n.myButton:hover {\n    background:-webkit-gradient(linear, left top, left bottom, color-stop(0.05, #1e62d0), color-stop(1, #3d94f6));\n    background:-moz-linear-gradient(top, #1e62d0 5%, #3d94f6 100%);\n    background:-webkit-linear-gradient(top, #1e62d0 5%, #3d94f6 100%);\n    background:-o-linear-gradient(top, #1e62d0 5%, #3d94f6 100%);\n    background:-ms-linear-gradient(top, #1e62d0 5%, #3d94f6 100%);\n    background:linear-gradient(to bottom, #1e62d0 5%, #3d94f6 100%);\n    filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#1e62d0', endColorstr='#3d94f6',GradientType=0);\n    background-color:#1e62d0;\n}\n.myButton:active {\n    position:relative;\n    top:1px;\n}\n\n    &lt;/style&gt;\n\n  &lt;body&gt;\n\n\n  &lt;/body&gt;\n&lt;/html&gt;\n&lt;?php } ?&gt;\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 10663657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb27705cf420cf80f70e5dfadcfa74c3?s=128&d=identicon&r=PG&f=1", "display_name": "AlexLogic", "link": "https://stackoverflow.com/users/10663657/alexlogic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 53421051, "answer_count": 2, "score": 1, "last_activity_date": 1542840112, "creation_date": 1542831986, "last_edit_date": 1542838663, "question_id": 53419986, "link": "https://stackoverflow.com/questions/53419986/dynamic-table-with-html-and-php", "title": "Dynamic Table with HTML and PHP", "body": "<p>I show you my following problem .. I basically have the following database .. to understand it I think a practical example is the best way ..</p>\n\n<p>I have a building site where N entrusters can intervene, these N trustees can in turn delegate N Sub-Affidiates.\nthen pulling the sums I have some relationships between the three tables (which in my language are \"Cantiere\" \"Affidataria\" \"SubAffidataria\")</p>\n\n<p>Building site 1 ------> N Reliable</p>\n\n<p>Relater 1 -----> N Sub-Affidiates</p>\n\n<p>Having said that my problem is the following I have to do a control panel in which for each construction site I have to show the carers and the sub-contractors.\nI would like to point out that the Sub-Affiliates do not have \"direct\" links with the Shipyards, but they have the FK of the Affilatories</p>\n\n<p>It must be structured as follows ...<a href=\"https://i.stack.imgur.com/eVenM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eVenM.png\" alt=\"\"></a></p>\n\n<p>Under Each Relevant (\"Affidataria\") the results of the $ sql1 query must be placed\nUnder each Subsidiary (\"SubAffidatari\") the results of the $ sql2 query must be placed.</p>\n\n<p>The question is how do I divide everything by columns?\nI tried creating a dynamic HTML table .. but it does not work ..</p>\n\n<p>I am attaching my proof ...</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;?php \n    session_start();\n    if(!isset($_SESSION[\"username\"])){\n        header('location: ../index.php');\n    }else\n    {\n\n?&gt;\n&lt;?php\n$servername = \"localhost\";\n$username = \"root\";\n$password = \"\";\n$dbname = \"my_progettocantiere\";\n\n\n$idCantiere = $_GET[\"idCantiere\"]; \n// Create connection\n$conn = new mysqli($servername, $username, $password, $dbname);\n// Check connection\nif ($conn-&gt;connect_error) {\n    die(\"Connection failed: \" . $conn-&gt;connect_error);\n} \n\n$sql = \"SELECT idCantiere,nomeCantiere,codiceCommessa,indirizzoCantiere FROM Cantiere WHERE idCantiere = '$idCantiere'\";\n$result = $conn-&gt;query($sql);\n\n\nif ($result-&gt;num_rows &gt; 0) {\n    // output data of each row\n    while($row = $result-&gt;fetch_assoc()) {\n\n    echo'&lt;h1 align=\"center\"&gt;' . $row[\"codiceCommessa\"] . '-' . $row[\"nomeCantiere\"] . '&lt;/h1&gt;';\n    }\n\n\n} else {\n    echo \"0 results\";\n}\n$conn1 = new mysqli($servername, $username, $password, $dbname);\n// Check connection\nif ($conn1-&gt;connect_error) {\n    die(\"Connection failed: \" . $conn1-&gt;connect_error);\n} \n\n$sql1 = \"SELECT idAffidataria,nomeCantiere FROM Affidataria WHERE fkIDCantiere = '$idCantiere'\";\n$result1 = $conn1-&gt;query($sql1);\n\n\n//echo \"&lt;script type='text/javascript'&gt;alert('$idAffidataria');&lt;/script&gt;\";\n\nif ($result1-&gt;num_rows &gt; 0)\n    {\n    // output data of each row\n    while($row1 = $result1-&gt;fetch_assoc()) \n    {\n\n\n\n        echo'&lt;br&gt;&lt;br&gt;&lt;br&gt;';\n        echo '&lt;h1&gt; Affidataria&lt;/h1&gt;';\n       echo '&lt;a class=\"myButton\" href=\"../../pagineHtml/visualizza/visualizzazione/affidatario.php?idAffidataria=' . $row1[\"idAffidataria\"] . '\"&gt;' . $row1[\"nomeCantiere\"] . '&lt;/a&gt;';\n       echo '&lt;h1&gt; SubAffidatario&lt;/h1&gt;';\n        $idAffidataria = $row1[\"idAffidataria\"];\n\n        $conn2 = new mysqli($servername, $username, $password, $dbname);\n// Check connection\n    if ($conn2-&gt;connect_error) \n        {\n    die(\"Connection failed: \" . $conn2-&gt;connect_error);\n        } \n\n    $sql2 = \"SELECT * FROM SubAffidatario WHERE fkIdAffidataria = '$idAffidataria'\";\n    $result2 = $conn2-&gt;query($sql2);\n    if ($result2-&gt;num_rows &gt; 0)\n        {\n    // output data of each row\n        while($row2 = $result2-&gt;fetch_assoc()) \n        {\n\n      //  echo '&lt;a class=\"myButton\" href=\"../../pagineHtml/visualizza/visualizzazione/affidatario.php?idAffidataria=' . $row1[\"idAffidataria\"] . '\"&gt;' . $row1[\"nomeCantiere\"] . '&lt;/a&gt;';\n        echo'&lt;br&gt;&lt;br&gt;&lt;br&gt;';\n        echo '&lt;a class=\"myButton\" href=\"../../pagineHtml/visualizza/visualizzazione/affidatario.php?idAffidataria=' . $row2[\"ragioneSocialeSubAffidatario\"] . '\"&gt;' . $row2[\"ragioneSocialeSubAffidatario\"] . '&lt;/a&gt;';\n        }\n    //echo'&lt;br&gt;&lt;br&gt;&lt;br&gt;';\n    //echo '&lt;a href=\"../pagineHtml/inserimento/inserimentoGenerale/inserimentoCantiere.php\" class=\"myButton\" alt=\"Nuovo Cantiere +\"&gt;Nuovo Cantiere +&lt;/a&gt;';\n\n        } \n        else {\n        echo \"0 results\";\n        }\n\n    }\n    //echo'&lt;br&gt;&lt;br&gt;&lt;br&gt;';\n    //echo '&lt;a href=\"../pagineHtml/inserimento/inserimentoGenerale/inserimentoCantiere.php\" class=\"myButton\" alt=\"Nuovo Cantiere +\"&gt;Nuovo Cantiere +&lt;/a&gt;';\n\n    } \n    else\n    {\n    echo \"0 results\";\n    }\n\n\n$conn-&gt;close();\n\n$conn1-&gt;close();\n\n\n$conn2-&gt;close();\n\n\n?&gt;\n\n&lt;html lang=\"en\"&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n   &lt;title&gt;Progetto Cantiere&lt;/title&gt;\n    &lt;!-- Bootstrap --&gt;\n    &lt;link href=\"../paginaIniziale/css/bootstrap-4.0.0.css\" rel=\"stylesheet\"&gt;\n  &lt;/head&gt;\n    &lt;style&gt;\n\n    .myButton {\n    -moz-box-shadow:inset 0px 1px 0px 0px #97c4fe;\n    -webkit-box-shadow:inset 0px 1px 0px 0px #97c4fe;\n    box-shadow:inset 0px 1px 0px 0px #97c4fe;\n    background:-webkit-gradient(linear, left top, left bottom, color-stop(0.05, #3d94f6), color-stop(1, #1e62d0));\n    background:-moz-linear-gradient(top, #3d94f6 5%, #1e62d0 100%);\n    background:-webkit-linear-gradient(top, #3d94f6 5%, #1e62d0 100%);\n    background:-o-linear-gradient(top, #3d94f6 5%, #1e62d0 100%);\n    background:-ms-linear-gradient(top, #3d94f6 5%, #1e62d0 100%);\n    background:linear-gradient(to bottom, #3d94f6 5%, #1e62d0 100%);\n    filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#3d94f6', endColorstr='#1e62d0',GradientType=0);\n    background-color:#3d94f6;\n    -moz-border-radius:6px;\n    -webkit-border-radius:6px;\n    border-radius:6px;\n    border:1px solid #0f73ff;\n    display:inline-block;\n    cursor:pointer;\n    color:#ffffff;\n    font-family:Arial;\n    font-size:28px;\n    font-weight:bold;\n    padding:32px 76px;\n    text-decoration:none;\n    text-shadow:0px 1px 0px #1570cd;\n}\n.myButton:hover {\n    background:-webkit-gradient(linear, left top, left bottom, color-stop(0.05, #1e62d0), color-stop(1, #3d94f6));\n    background:-moz-linear-gradient(top, #1e62d0 5%, #3d94f6 100%);\n    background:-webkit-linear-gradient(top, #1e62d0 5%, #3d94f6 100%);\n    background:-o-linear-gradient(top, #1e62d0 5%, #3d94f6 100%);\n    background:-ms-linear-gradient(top, #1e62d0 5%, #3d94f6 100%);\n    background:linear-gradient(to bottom, #1e62d0 5%, #3d94f6 100%);\n    filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#1e62d0', endColorstr='#3d94f6',GradientType=0);\n    background-color:#1e62d0;\n}\n.myButton:active {\n    position:relative;\n    top:1px;\n}\n\n    &lt;/style&gt;\n\n  &lt;body&gt;\n\n\n  &lt;/body&gt;\n&lt;/html&gt;\n&lt;?php } ?&gt;\n</code></pre>\n\n<p>and this is the result I got:</p>\n\n<p><a href=\"https://i.stack.imgur.com/EkvTo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EkvTo.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "python", "json"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10649535"}, "edited": false, "score": 0, "creation_date": 1542833718, "post_id": 53420069, "comment_id": 93714935, "body": "Your first code and second code is giving me ReferenceError: fetch is not defined"}, {"owner": {"reputation": 848, "user_id": 3026744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/F3DIj.jpg?s=128&g=1", "display_name": "gatsbyz", "link": "https://stackoverflow.com/users/3026744/gatsbyz"}, "edited": false, "score": 0, "creation_date": 1543260904, "post_id": 53420069, "comment_id": 93845446, "body": "@Anonymous You can use fetch() and JSON.parse() methods, both built-in JavaScript."}], "tags": [], "owner": {"reputation": 848, "user_id": 3026744, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/F3DIj.jpg?s=128&g=1", "display_name": "gatsbyz", "link": "https://stackoverflow.com/users/3026744/gatsbyz"}, "is_accepted": false, "score": 0, "last_activity_date": 1542832603, "last_edit_date": 1542832603, "creation_date": 1542832373, "answer_id": 53420069, "question_id": 53419984, "link": "https://stackoverflow.com/questions/53419984/how-to-take-an-array-of-json-data-in-javascript/53420069#53420069", "title": "How to take an array of JSON data in JavaScript?", "body": "<p>Your code translate to TS/JS: \n    function getData():\n       const fetchData = </p>\n\n<pre><code>fetch('https://data.cityofnewyork.us/resource/734v-jeq5.json').then(response =&gt; {\n         let data = JSON.parse(response);\n         let result = [];\n         for (i in data) {\n           try {\n             result.push(parseInt(data[i].sat_critical_reading_avg_score));\n           } catch (err) {}\n         }\n         return result;\n       });\n       return fetchData;\n\n    console.log(getData());\n</code></pre>\n\n<p>ES7 style simplified:</p>\n\n<pre><code>const data = fetch('https://data.cityofnewyork.us/resource/734v-jeq5.json').then(response =&gt; response.json().map(item =&gt; item.sat_critical_reading_avg_score));\nconsole.log(data);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19724, "user_id": 6539317, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/feded6c8f60453abde4e6bf81a877693?s=128&d=identicon&r=PG&f=1", "display_name": "felixmosh", "link": "https://stackoverflow.com/users/6539317/felixmosh"}, "edited": false, "score": 0, "creation_date": 1542868083, "post_id": 53420228, "comment_id": 93724229, "body": "You can skip <code>JSON.parse</code> to <code>response.json()</code> a built-in method on fetch response."}], "tags": [], "owner": {"reputation": 86, "user_id": 10677269, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zxpfbKhKkFk/AAAAAAAAAAI/AAAAAAAAAAU/AoReYY60O4A/photo.jpg?sz=128", "display_name": "perotta", "link": "https://stackoverflow.com/users/10677269/perotta"}, "is_accepted": false, "score": 1, "last_activity_date": 1542833206, "creation_date": 1542833206, "answer_id": 53420228, "question_id": 53419984, "link": "https://stackoverflow.com/questions/53419984/how-to-take-an-array-of-json-data-in-javascript/53420228#53420228", "title": "How to take an array of JSON data in JavaScript?", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\" rel=\"nofollow noreferrer\">fetch()</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse\" rel=\"nofollow noreferrer\">JSON.parse()</a> methods, both built-in JavaScript.</p>\n\n<p>Here a simple example of getting a JSON string from the server, transforming it in to a JS object and outputting the results to the console:</p>\n\n<pre><code>    let JSobject; \n\n    fetch('https://data.cityofnewyork.us/resource/734v-jeq5.json')\n    .then(function(JSONstring) {\n        JSobject = JSON.parse(JSONstring);\n    });\n\n    console.log(JSobject.sat_critical_reading_avg_score);\n</code></pre>\n\n<p>For further knowledge on JavaScript I recommend Eloquent JavaScript book. A pretty good book with a free version available online:\n<a href=\"http://eloquentjavascript.net/\" rel=\"nofollow noreferrer\">http://eloquentjavascript.net/</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10649535"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1542833206, "creation_date": 1542831983, "question_id": 53419984, "link": "https://stackoverflow.com/questions/53419984/how-to-take-an-array-of-json-data-in-javascript", "title": "How to take an array of JSON data in JavaScript?", "body": "<p>How can I do the following in JavaScript? I want to load JSON data from the url \"<a href=\"https://data.cityofnewyork.us/resource/734v-jeq5.json\" rel=\"nofollow noreferrer\">https://data.cityofnewyork.us/resource/734v-jeq5.json</a>\". And then, take the JSON data that consists of an array of only 'sat_critical_reading_avg_score'. Any help is greatly appreciated.</p>\n\n<pre><code>import json\nimport urllib.request\n\ndef get_data():\n  response = urllib.request.urlopen(\"https://data.cityofnewyork.us/resource/734v-jeq5.json\")\n  content = response.read().decode()\n  response1 = json.loads(content)\n  result = []\n  for i in response1:\n    try:\n      result.append(\n        int(i['sat_critical_reading_avg_score'])\n      )\n    except:\n      pass\n  return result\n\n\nprint(get_data())\n</code></pre>\n"}, {"tags": ["javascript", "css"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 8954796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ce8b180f3c3940b24edce02447e39b9?s=128&d=identicon&r=PG&f=1", "display_name": "PhilippG", "link": "https://stackoverflow.com/users/8954796/philippg"}, "edited": false, "score": 1, "creation_date": 1542834624, "post_id": 53420418, "comment_id": 93715338, "body": "Wow, this is super-awesome, thanks a lot!  elementFromPoint() was what I was missing, goot to know that one."}, {"owner": {"reputation": 10379, "user_id": 1666071, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/T4WHS.jpg?s=128&g=1", "display_name": "enapupe", "link": "https://stackoverflow.com/users/1666071/enapupe"}, "reply_to_user": {"reputation": 43, "user_id": 8954796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ce8b180f3c3940b24edce02447e39b9?s=128&d=identicon&r=PG&f=1", "display_name": "PhilippG", "link": "https://stackoverflow.com/users/8954796/philippg"}, "edited": false, "score": 0, "creation_date": 1542834732, "post_id": 53420418, "comment_id": 93715388, "body": "Glad it works for you. As for browser support it seems to be fine <a href=\"https://caniuse.com/#feat=element-from-point\" rel=\"nofollow noreferrer\">caniuse.com/#feat=element-from-point</a>"}], "tags": [], "owner": {"reputation": 10379, "user_id": 1666071, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/T4WHS.jpg?s=128&g=1", "display_name": "enapupe", "link": "https://stackoverflow.com/users/1666071/enapupe"}, "is_accepted": true, "score": 0, "last_activity_date": 1542834636, "last_edit_date": 1542834636, "creation_date": 1542834065, "answer_id": 53420418, "question_id": 53419970, "link": "https://stackoverflow.com/questions/53419970/keep-scroll-position-when-elements-above-toggle-visible-invisible/53420418#53420418", "title": "Keep Scroll position when elements above toggle visible/invisible", "body": "<p>I was able to do it using <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/DocumentOrShadowRoot/elementFromPoint\" rel=\"nofollow noreferrer\">document.elementFromPoint</a>, below there's a working demo but it doesn't seem to be working 100% inside SO's sandbox so please also check <a href=\"https://jsbin.com/hozazusone/1\" rel=\"nofollow noreferrer\">https://jsbin.com/hozazusone/1</a> (it might need some fine-tuning):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#toggle').on('click', function(){\r\n  var top = $(document.elementFromPoint(window.innerWidth/2, 10))\r\n  var howMuchFromTop = top.offset().top - window.scrollY\r\n  $('.invisible').removeClass('invisible').addClass('red')\r\n  window.scrollTo(0, top.offset().top - howMuchFromTop)\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.invisible {\r\n    visibility:hidden;\r\n    height:0px;\r\n    margin:0 !important;\r\n    padding:0 !important;\r\n    border-width:0 !important;\r\n    min-height:0 !important;\r\n}\r\n\r\ndiv {\r\n  background: #cccaaa;\r\n  height: 110px;\r\n  margin: 4px 0 0 0;\r\n}\r\n\r\n.red {\r\n  background: red;\r\n}\r\n\r\n\r\n#toggle {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div&gt;1&lt;/div&gt;\r\n&lt;div&gt;2&lt;/div&gt;\r\n&lt;div class=\"invisible\"&gt;3&lt;/div&gt;\r\n&lt;div class=\"invisible\"&gt;4&lt;/div&gt;\r\n&lt;div&gt;5&lt;/div&gt;\r\n&lt;div class=\"invisible\"&gt;6&lt;/div&gt;\r\n&lt;div&gt;7&lt;/div&gt;\r\n&lt;div class=\"invisible\"&gt;8&lt;/div&gt;\r\n&lt;div&gt;9&lt;/div&gt;\r\n&lt;div&gt;10&lt;/div&gt;\r\n&lt;div&gt;11&lt;/div&gt;\r\n&lt;div&gt;12&lt;/div&gt;\r\n&lt;div class=\"invisible\"&gt;13&lt;/div&gt;\r\n&lt;div class=\"invisible\"&gt;14&lt;/div&gt;\r\n&lt;div class=\"invisible\"&gt;15&lt;/div&gt;\r\n&lt;div&gt;16&lt;/div&gt;\r\n&lt;div&gt;17&lt;/div&gt;\r\n&lt;div&gt;18&lt;/div&gt;\r\n&lt;div&gt;19&lt;/div&gt;\r\n  &lt;div&gt;20&lt;/div&gt;\r\n  &lt;div&gt;21&lt;/div&gt;\r\n  &lt;div&gt;22&lt;/div&gt;\r\n  \r\n  \r\n  &lt;button id=\"toggle\"&gt;toggle&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 43, "user_id": 8954796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ce8b180f3c3940b24edce02447e39b9?s=128&d=identicon&r=PG&f=1", "display_name": "PhilippG", "link": "https://stackoverflow.com/users/8954796/philippg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 0, "accepted_answer_id": 53420418, "answer_count": 1, "score": 1, "last_activity_date": 1542834657, "creation_date": 1542831902, "last_edit_date": 1542834657, "question_id": 53419970, "link": "https://stackoverflow.com/questions/53419970/keep-scroll-position-when-elements-above-toggle-visible-invisible", "title": "Keep Scroll position when elements above toggle visible/invisible", "body": "<p>searching for this did not find a proper answer, yet I am sure I am not the only one having this issue.</p>\n\n<p>I do have a loooong page (up to more than 10000px height) with lots of 's. Some of them are set to display:hidden and zero height using this css class:</p>\n\n<pre><code>.invisible {\n    visibility:hidden;\n    height:0px;\n    margin:0 !important;\n    padding:0 !important;\n    border-width:0 !important;\n    min-height:0 !important;\n}\n</code></pre>\n\n<p>So my html basically looks like this (I omitted the closing tags):</p>\n\n<pre><code>&lt;div class=\"invisible\"&gt;\n&lt;div class=\"invisible\"&gt;\n&lt;div class=\"invisible\"&gt;\n&lt;div class=\"invisible\"&gt;\n&lt;div class=\"invisible\"&gt;\n&lt;div class=\"invisible\"&gt;\n&lt;div&gt;\n&lt;div class=\"invisible\"&gt;\n&lt;div&gt;\n&lt;div&gt;\n&lt;div&gt;\n&lt;div&gt;\n&lt;div class=\"invisible\"&gt;\n&lt;div class=\"invisible\"&gt;\n&lt;div class=\"invisible\"&gt;\n&lt;div&gt;\n&lt;div&gt;\n&lt;div&gt;\n&lt;div&gt;\n</code></pre>\n\n<p>So if I am in the middle of the page and toggle all .invisible classes, the page gets a lot higher (because all the divs that were .invisible regain their real height), and the element(s) that were on screen before are not any more.</p>\n\n<p>And that is exactly what I want to achieve: Keep the element that was on-screen before toggling on-screen after toggling, so the user does not really notice any scrolling.</p>\n\n<p>I can think of a way doing this:\n1) Somehow find out which element is on screen and how far it is from the screen top (thats where I fail at this idea)\n2) when toggling, scoll until exactly this state is reached again</p>\n\n<p>As my JS aint too good, there maybe a better way than my initial idea...</p>\n\n<p>Best regards\nPhilipp</p>\n"}, {"tags": ["javascript", "dom", "addeventlistener"], "answers": [{"tags": [], "owner": {"reputation": 920, "user_id": 5482045, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/930882390318811/picture?type=large", "display_name": "Nunchy", "link": "https://stackoverflow.com/users/5482045/nunchy"}, "is_accepted": true, "score": 0, "last_activity_date": 1542831940, "creation_date": 1542831940, "answer_id": 53419975, "question_id": 53419948, "link": "https://stackoverflow.com/questions/53419948/changing-style-properties-inside-click-events-in-multiple-elements-using-if-s/53419975#53419975", "title": "Changing style properties inside &#39;click&#39; events in multiple elements, using if statements", "body": "<p>You are using a single <code>=</code> assignment operator to compare:</p>\n\n<pre><code>if ((li.style.textDecoration = 'none'))\n</code></pre>\n\n<p>Replace it with either <code>==</code> or <code>===</code>:</p>\n\n<pre><code>if ((li.style.textDecoration == 'none'))\n</code></pre>\n\n<p>Also, not sure why the double <code>(())</code> parenthesis?</p>\n\n<pre><code>if (li.style.textDecoration === 'none')\n</code></pre>\n\n<p>Should work fine.</p>\n"}], "owner": {"reputation": 259, "user_id": 9926797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd897591d78b3f394de4bcf43315ab3b?s=128&d=identicon&r=PG&f=1", "display_name": "max23701", "link": "https://stackoverflow.com/users/9926797/max23701"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13, "favorite_count": 0, "accepted_answer_id": 53419975, "answer_count": 1, "score": 0, "last_activity_date": 1542831940, "creation_date": 1542831783, "question_id": 53419948, "link": "https://stackoverflow.com/questions/53419948/changing-style-properties-inside-click-events-in-multiple-elements-using-if-s", "title": "Changing style properties inside &#39;click&#39; events in multiple elements, using if statements", "body": "<p>I have a simple todo list (<code>&lt;ul&gt;</code>). When user clicks <code>&lt;li&gt;</code>, the textDecoration property changes to \"line-through\". I want to be able to \"undo\" this somehow. Here's my code...</p>\n\n<pre><code>const lis = document.querySelectorAll('li');\nlis.forEach(li =&gt; li.addEventListener('click', taskHandler));\n\nfunction taskHandler(e) {\n    const li = e.target;\n    if ((li.style.textDecoration = 'none')) {\n        li.style.textDecoration = 'line-through';\n        console.log(`${li.textContent} is done`);\n    } else {\n        li.style.textDecoration = 'none';\n        console.log(`${li.textContent} is undone`);\n    }\n}\n</code></pre>\n\n<p>My question is : <strong>why <code>else</code> block doesn't work ? And how do I fix this code ?</strong></p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript"], "answers": [{"tags": [], "owner": {"reputation": 1114, "user_id": 875401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882b7f2441b2f9e8b3e3c0aac9ca77aa?s=128&d=identicon&r=PG", "display_name": "stillatmylinux", "link": "https://stackoverflow.com/users/875401/stillatmylinux"}, "is_accepted": false, "score": 0, "last_activity_date": 1542859236, "creation_date": 1542859236, "answer_id": 53423688, "question_id": 53419934, "link": "https://stackoverflow.com/questions/53419934/date-range-logic-for-past-dates/53423688#53423688", "title": "Date range logic for past dates", "body": "<p>You only need to assign today's date (formatted) to pDate.</p>\n\n<pre><code>function RunLedgerAndPV() {\n    var now = new Date();\n    var nowMonth = (\"0\" + now.getMonth()).slice(-2);\n    var nowDate  = (\"0\" + now.getDate()).slice(-2);\n    var nowYear  = now.getFullYear();\n\n    // \"11/21/2018\"\n    var pDate =  nowMonth + '/' + nowDate + '/' + nowYear;\n    console.log(pDate);\n\n    var stDate = \"10/5/2015\";\n    var etDate = \"12/4/2019\";\n    createLedger(pDate, etDate);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 10474208, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-41333WKqYBg/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXNBXKFrDHyViDDxgj-cFeOUYjC1g/mo/photo.jpg?sz=128", "display_name": "ace23", "link": "https://stackoverflow.com/users/10474208/ace23"}, "is_accepted": true, "score": 0, "last_activity_date": 1543251924, "creation_date": 1543251924, "answer_id": 53485897, "question_id": 53419934, "link": "https://stackoverflow.com/questions/53419934/date-range-logic-for-past-dates/53485897#53485897", "title": "Date range logic for past dates", "body": "<p>Doing the following worked for me. I created a new date using start 'day' and present month and year and created an array using that day instead.</p>\n\n<pre><code>            var pastDT = stDate.getUTCDate();\n            var pastMT = pDate.getUTCMonth()+2;\n            var pastYR = pDT.getUTCFullYear();\n            var LedgerDT = pastMT + '/' + pastDT + '/' + pastYR;\n\n            var pastStart = presentDate &gt; startDate;\n\n            if (startDate &amp;&amp; pastStart){\n                var stDate = moment.utc(new Date(LedgerDT)).format(\"MM/DD/YYYY\");\n            }\n\n            else if (startDate &amp;&amp; !pastStart)\n                var stDate = moment.utc(new Date(presentDate)).format(\"MM/DD/YYYY\");\n\n            var etDate = moment.utc(new Date(endDate)).format(\"MM/DD/YYYY\");\n            createLedger(stDate, etDate);\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 10474208, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-41333WKqYBg/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXNBXKFrDHyViDDxgj-cFeOUYjC1g/mo/photo.jpg?sz=128", "display_name": "ace23", "link": "https://stackoverflow.com/users/10474208/ace23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 53485897, "answer_count": 2, "score": 0, "last_activity_date": 1543251924, "creation_date": 1542831721, "question_id": 53419934, "link": "https://stackoverflow.com/questions/53419934/date-range-logic-for-past-dates", "title": "Date range logic for past dates", "body": "<p>I have 3 dates: <code>Present</code>, <code>Start</code> and <code>End</code>.</p>\n\n<p>Present date = '11/21/2018' (today's date)</p>\n\n<p>Start = '10/5/2015'</p>\n\n<p>End = '12/4/2019</p>\n\n<p>I need to create a daterange using these dates. </p>\n\n<p><a href=\"https://i.stack.imgur.com/UlUwX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UlUwX.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I have the following code to calculate date range.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function createLedger(stDate, etDate) {\r\n\r\n  if (stDate &amp;&amp; etDate) {\r\n    var endOfLeaseDate = moment(etDate, \"MM/DD/YYYY\");\r\n    var startOfLeaseDate = moment(stDate, \"MM/DD/YYYY\");\r\n    dateRange(startOfLeaseDate, endOfLeaseDate);\r\n  }\r\n}\r\n\r\nfunction dateRange(stDate, etDate) {\r\n  var dates = [];\r\n\r\n  var now = stDate.clone();\r\n  var day = stDate.date();\r\n\r\n  while(now.isBefore(etDate)) {\r\n    //deal with variable month end days\r\n    var monthEnd = now.clone().endOf(\"month\");\r\n    if (now.date() &lt; day &amp;&amp; day &lt;= monthEnd.date()) { now.date(day); }\r\n\r\n    dates.push(now.format(\"YYYY-MM-DD\"));\r\n    now = now.clone().add({ \"months\" : 1 });\r\n  }\r\n  console.log(dates);\r\n}\r\n\r\nfunction RunLedgerAndPV() {\r\n  var pDate = \"11/21/2018\" \r\n  var stDate = \"10/5/2015\";\r\n  var etDate = \"12/4/2019\";\r\n  createLedger(stDate, etDate);\r\n}\r\nRunLedgerAndPV();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I need to edit this in a way where the date ranges from Present date to enddate instead of StartDate but the range itself is based on the day of startdate.</p>\n\n<p>Any help is appreciated! Thank you.</p>\n"}, {"tags": ["javascript", "ecmascript-6", "array.prototype.map"], "comments": [{"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1542832121, "post_id": 53419914, "comment_id": 93714258, "body": "<i>map</i> returns a new array, it doesn&#39;t modify the array it&#39;s called on so when you do <code>tab.map(() =&gt; +readline())</code>, <i>tab</i> is not modified, so the unmodified array is passed to <i>sort</i> in the next statement. In <code>.map(() =&gt; +readline()).sort((a, b) =&gt; a &gt; b)</code> the new array is passed to <i>sort</i>. So you are effectively removing the two <i>map</i> operations."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1542835374, "post_id": 53419914, "comment_id": 93715654, "body": "It should work like <code>const tab1 = new Array(+readline()); tab1.fill(); const tab2 = tab1.map(() =&gt; +readline()); tab2.sort(\u2026); const tab3 = tab2.map(\u2026); return tab3</code>"}], "answers": [{"tags": [], "owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "is_accepted": true, "score": 2, "last_activity_date": 1542912616, "last_edit_date": 1542912616, "creation_date": 1542832168, "answer_id": 53420030, "question_id": 53419914, "link": "https://stackoverflow.com/questions/53419914/i-would-like-to-use-a-different-syntax-in-order-to-facilitate-debugging-why-doe/53420030#53420030", "title": "I would like to use a different syntax in order to facilitate debugging. Why doesn&#39;t it work?", "body": "<blockquote>\n  <p>Why can't I do this:</p>\n</blockquote>\n\n<p>Because some the <code>map</code> method <strong>returns a new array</strong> with the changes, instead of making the changes in-place.</p>\n\n<p>In your example, only <code>sort</code> mutate the array in-place, so your code is really equivalent to:</p>\n\n<pre><code>let tab = new Array(+readline())\ntab.sort((a, b) =&gt; a &gt; b)\n</code></pre>\n\n<hr>\n\n<p>Note that the <code>sort</code> callback is supposed to return a positive number, negative number or <code>0</code>. <a href=\"https://stackoverflow.com/q/24080785/1048572\">It should not return a Boolean</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1982, "user_id": 3170151, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/38207faa73f40f487c7e7b5da9617a76?s=128&d=identicon&r=PG&f=1", "display_name": "iagowp", "link": "https://stackoverflow.com/users/3170151/iagowp"}, "is_accepted": false, "score": 1, "last_activity_date": 1542835518, "creation_date": 1542835518, "answer_id": 53420670, "question_id": 53419914, "link": "https://stackoverflow.com/questions/53419914/i-would-like-to-use-a-different-syntax-in-order-to-facilitate-debugging-why-doe/53420670#53420670", "title": "I would like to use a different syntax in order to facilitate debugging. Why doesn&#39;t it work?", "body": "<p>In order for it to be the same, it would need reassigning tab when the method does not mutate in place. like this:</p>\n\n<pre><code>let tab = new Array(+readline())\ntab.fill()\ntab = tab.map(() =&gt; +readline())\ntab.sort((a, b) =&gt; a &gt; b)\ntab = tab.map((x, i, arr) =&gt; Math.abs(x - arr[i + 1])) \nprint(tab)\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 10364675, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1CMN-q1ACJo/AAAAAAAAAAI/AAAAAAAABhc/M6RmJDjob3c/photo.jpg?sz=128", "display_name": "Benjamin Maine", "link": "https://stackoverflow.com/users/10364675/benjamin-maine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 53420030, "answer_count": 2, "score": 0, "last_activity_date": 1542912616, "creation_date": 1542831623, "last_edit_date": 1542832079, "question_id": 53419914, "link": "https://stackoverflow.com/questions/53419914/i-would-like-to-use-a-different-syntax-in-order-to-facilitate-debugging-why-doe", "title": "I would like to use a different syntax in order to facilitate debugging. Why doesn&#39;t it work?", "body": "<p>Here is a problem I can't manage, it comes from codingGame. I saw a solution but I tried to use a different syntax in order to better understand. </p>\n\n<p>Context </p>\n\n<pre><code>/** Horse Racing Duals (easy) https://www.codingame.com/training/easy/horse-racing-duals\n * This puzzle shows that sometimes, the simplest solution is not performant\n * enough. You will also learn to handle large arrays and gain experience\n * with their processing time.\n *\n * STATEMENT:\n * In this problem you have to find the two numbers that are closest to each\n * other among a list of numbers. The list might be really large and force\n * you to search for the best possible algorithmic complexity for your\n * solution.\n *\n * STORY:\n * To make a race between two horses interesting, you will have to find the\n * horses with the closest strength.\n**/\nprint(\n    new Array(+readline())\n        .fill()             \n        .map(() =&gt; +readline())   \n        .sort((a, b) =&gt; a &gt; b)\n        .map((x, i, arr) =&gt; Math.abs(x - arr[i + 1])) \n        .sort((a, b)  =&gt; a &gt; b) [0] \n);\n</code></pre>\n\n<p>Why can't I do this:</p>\n\n<pre><code>let tab = new Array(+readline())\ntab.fill()\ntab.map(() =&gt; +readline())\ntab.sort((a, b) =&gt; a &gt; b)\ntab.map((x, i, arr) =&gt; Math.abs(x - arr[i + 1])) \ntab\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "css", "svg"], "comments": [{"owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1542834576, "post_id": 53419893, "comment_id": 93715317, "body": "I suggest you to read this: <a href=\"https://stackoverflow.com/questions/14376732/work-with-elements-from-embed-or-object-tag\" title=\"work with elements from embed or object tag\">stackoverflow.com/questions/14376732/&hellip;</a>. First add an <code>ID</code> to your object tag, and then you have to wait it to load before querying they elements."}, {"owner": {"reputation": 31, "user_id": 10687744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b83554e283329ef25fdf838d15ed47c?s=128&d=identicon&r=PG&f=1", "display_name": "strahinja", "link": "https://stackoverflow.com/users/10687744/strahinja"}, "reply_to_user": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1542836082, "post_id": 53419893, "comment_id": 93715933, "body": "@D.Smania I&#39;ve tried that too, returns the same error: <code>Cannot read property &#39;getElementById&#39; of null at HTMLObjectElement.&lt;anonymous&gt;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1542832605, "post_id": 53419963, "comment_id": 93714458, "body": "or with JQuery place this: <code>$(&quot;#element&quot;).css(&quot;fill&quot;, &quot;blue&quot;);</code> at document ready..."}, {"owner": {"reputation": 31, "user_id": 10687744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b83554e283329ef25fdf838d15ed47c?s=128&d=identicon&r=PG&f=1", "display_name": "strahinja", "link": "https://stackoverflow.com/users/10687744/strahinja"}, "edited": false, "score": 0, "creation_date": 1542832901, "post_id": 53419963, "comment_id": 93714601, "body": "That did not work, but I got this error though: Uncaught TypeError: Cannot read property &#39;style&#39; of null     at HTMLDocument.&lt;anonymous&gt;"}, {"owner": {"reputation": 31, "user_id": 10687744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b83554e283329ef25fdf838d15ed47c?s=128&d=identicon&r=PG&f=1", "display_name": "strahinja", "link": "https://stackoverflow.com/users/10687744/strahinja"}, "reply_to_user": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1542832974, "post_id": 53419963, "comment_id": 93714623, "body": "@D.Smania I tried that too, doesn&#39;t seem to work. No errors were outputted, but nothing happens."}, {"owner": {"reputation": 2000, "user_id": 2625561, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/93r6x.png?s=128&g=1", "display_name": "klenium", "link": "https://stackoverflow.com/users/2625561/klenium"}, "edited": false, "score": 0, "creation_date": 1542833006, "post_id": 53419963, "comment_id": 93714641, "body": "@connexo You&#39;re wrong. In general, a <code>&lt;path&gt;</code> does have both <code>fill</code> attribute and <code>fill</code> style property, but an SVG path object doesn&#39;t have a <code>fill</code> property bounded to the <code>fill</code> attribute. That&#39;s why <code>path.fill</code> would return <code>undefined</code>. If you use <code>path.getAttribute(&quot;fill&quot;)</code>, but this attribute is not set, it&#39;d return <code>null</code>."}, {"owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "reply_to_user": {"reputation": 31, "user_id": 10687744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b83554e283329ef25fdf838d15ed47c?s=128&d=identicon&r=PG&f=1", "display_name": "strahinja", "link": "https://stackoverflow.com/users/10687744/strahinja"}, "edited": false, "score": 0, "creation_date": 1542833199, "post_id": 53419963, "comment_id": 93714717, "body": "@strahinja Have you tried to log the element on the console, to check if it is right, and the property availables? Do <code>console.log($(&quot;#element&quot;));</code>."}, {"owner": {"reputation": 31, "user_id": 10687744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b83554e283329ef25fdf838d15ed47c?s=128&d=identicon&r=PG&f=1", "display_name": "strahinja", "link": "https://stackoverflow.com/users/10687744/strahinja"}, "reply_to_user": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1542833345, "post_id": 53419963, "comment_id": 93714782, "body": "@D.Smania Yes, yes I did. The output was an object, more precisly w.fn.init {}"}, {"owner": {"reputation": 2000, "user_id": 2625561, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/93r6x.png?s=128&g=1", "display_name": "klenium", "link": "https://stackoverflow.com/users/2625561/klenium"}, "reply_to_user": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1542833352, "post_id": 53419963, "comment_id": 93714784, "body": "@D.Smania It is not right. You would search for <code>#element</code> in the HTML&#39;s document, not in the SVG&#39;s own space. Check my flag comment and the linked question."}, {"owner": {"reputation": 31, "user_id": 10687744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b83554e283329ef25fdf838d15ed47c?s=128&d=identicon&r=PG&f=1", "display_name": "strahinja", "link": "https://stackoverflow.com/users/10687744/strahinja"}, "reply_to_user": {"reputation": 2000, "user_id": 2625561, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/93r6x.png?s=128&g=1", "display_name": "klenium", "link": "https://stackoverflow.com/users/2625561/klenium"}, "edited": false, "score": 0, "creation_date": 1542834012, "post_id": 53419963, "comment_id": 93715070, "body": "@klenium I just tried that solution, and that didn&#39;t do the work for me. It broke at <code>var element = svgDoc.getElementById(&quot;element&quot;);</code>. The error is: <code>Cannot read property &#39;getElementById&#39; of null     at HTMLObjectElement.&lt;anonymous&gt;</code>."}, {"owner": {"reputation": 101196, "user_id": 1038015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d912dac5c74b47bbaff7164f5f8bb8?s=128&d=identicon&r=PG", "display_name": "Robert Longson", "link": "https://stackoverflow.com/users/1038015/robert-longson"}, "reply_to_user": {"reputation": 31, "user_id": 10687744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b83554e283329ef25fdf838d15ed47c?s=128&d=identicon&r=PG&f=1", "display_name": "strahinja", "link": "https://stackoverflow.com/users/10687744/strahinja"}, "edited": false, "score": 0, "creation_date": 1542834410, "post_id": 53419963, "comment_id": 93715248, "body": "@strahinja does your object element have id=&quot;element&quot; it doesn&#39;t in your question? Did you add that?"}, {"owner": {"reputation": 31, "user_id": 10687744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b83554e283329ef25fdf838d15ed47c?s=128&d=identicon&r=PG&f=1", "display_name": "strahinja", "link": "https://stackoverflow.com/users/10687744/strahinja"}, "reply_to_user": {"reputation": 101196, "user_id": 1038015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d912dac5c74b47bbaff7164f5f8bb8?s=128&d=identicon&r=PG", "display_name": "Robert Longson", "link": "https://stackoverflow.com/users/1038015/robert-longson"}, "edited": false, "score": 0, "creation_date": 1542834693, "post_id": 53419963, "comment_id": 93715370, "body": "@RobertLongson It does, i tried the other solution after I posted the question. I did exactly everything that solution has. The solution that got my answer flagged."}, {"owner": {"reputation": 81, "user_id": 9113122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/492f166007d2466bddd0aa2ff094b6e3?s=128&d=identicon&r=PG&f=1", "display_name": "chars", "link": "https://stackoverflow.com/users/9113122/chars"}, "edited": false, "score": 0, "creation_date": 1618350074, "post_id": 53419963, "comment_id": 118574731, "body": "<code>document.getElementById(&#39;element&#39;).style.fill=&#39;blue&#39;</code>this worked on plain svg object"}], "tags": [], "owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "is_accepted": false, "score": 0, "last_activity_date": 1542831839, "creation_date": 1542831839, "answer_id": 53419963, "question_id": 53419893, "link": "https://stackoverflow.com/questions/53419893/cant-find-path-element-by-its-id/53419963#53419963", "title": "Can&#39;t find &lt;path&gt; element by its id", "body": "<p>Instead of </p>\n\n<pre><code>$(document).ready(function () {\n    $(\"#element\").attr(\"fill\", \"blue\");\n});\n</code></pre>\n\n<p>you should try the following:</p>\n\n<pre><code>document.addEventListener('DOMContentLoaded', function() {\n  document.getElementById('element').style.fill = 'blue';\n})\n</code></pre>\n\n<p>because as you've shown, the element doesn't have a <code>fill</code> <em><code>attribute</code></em>, but a <code>fill</code> <em><code>style</code></em>.</p>\n\n<p>Following this, your secondary question is what is expected: <code>console.log($(\"#element\").attr(\"fill\"));</code>. It does not have an attribute <code>fill</code>, so it returns <code>undefined</code>. Instead try <code>console.log(element.style.fill)</code>.</p>\n"}], "owner": {"reputation": 31, "user_id": 10687744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b83554e283329ef25fdf838d15ed47c?s=128&d=identicon&r=PG&f=1", "display_name": "strahinja", "link": "https://stackoverflow.com/users/10687744/strahinja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 753, "favorite_count": 1, "closed_date": 1542833495, "answer_count": 1, "score": 0, "last_activity_date": 1542831839, "creation_date": 1542831532, "question_id": 53419893, "link": "https://stackoverflow.com/questions/53419893/cant-find-path-element-by-its-id", "closed_reason": "Duplicate", "title": "Can&#39;t find &lt;path&gt; element by its id", "body": "<p>My goal is to change a <code>fill</code> attribute of a <code>&lt;path&gt;</code> element, upon the loading of a page.</p>\n\n<p>This is the path element:</p>\n\n<pre><code>&lt;path xmlns=\"http://www.w3.org/2000/svg\" \nstyle=\"fill:#ff0000;stroke:#000000;stroke-width:0.26458332px;stroke- \nlinecap:butt;stroke-linejoin:miter;stroke-opacity:1;fill-opacity:1\" \nd=\"M 71.895501,10.754349 94.88068,-28.80154 112.52047,12.892505 Z\"\nid=\"element\"/&gt;\n</code></pre>\n\n<p>The path element is located inside of a map.svg file, I load the SVG in my html file, with a <code>&lt;object&gt;</code> element, since I've seen <a href=\"https://stackoverflow.com/a/4482962/10687744\">this</a> answer, I decided to use <code>&lt;object&gt;</code> element.</p>\n\n<h1>index.html</h1>\n\n<p>This is the HTML file:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\" dir=\"ltr\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;title&gt;Dental Ordination&lt;/title&gt;\n        &lt;script src=\"svg.min.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;object type=\"image/svg+xml\" data=\"map.svg\"/&gt;\n        &lt;script src=\"main.js\"&gt;&lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<h1>main.js</h1>\n\n<p>And this is my JavaScript file:</p>\n\n<pre><code>$(document).ready(function () {\n    $(\"#element\").attr(\"fill\", \"blue\");\n});\n</code></pre>\n\n<p>When executed, paths fill doesn't change. So I tried to debug it, I've put <code>console.log($(\"#element\").attr(\"fill\"));</code>, to see what it returns, and it returned <code>undefined</code>.</p>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 2, "creation_date": 1542832253, "post_id": 53419888, "comment_id": 93714308, "body": "<code>Test</code> isn&#39;t a class, it&#39;s an object. All you&#39;re doing is creating two objects <code>a</code> and <code>b</code> with the same shared prototype <code>Test</code>."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 10687839, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-k9l5lsBdq-M/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jyGApPEI8UFdZa6HtqLVWylN8p5w/mo/photo.jpg?sz=128", "display_name": "Robert Pavlovic", "link": "https://stackoverflow.com/users/10687839/robert-pavlovic"}, "edited": false, "score": 0, "creation_date": 1542832149, "post_id": 53419990, "comment_id": 93714267, "body": "Is there a other way to create array or the obect so they dont have same reference?"}], "tags": [], "owner": {"reputation": 385, "user_id": 3842596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xwIi0.jpg?s=128&g=1", "display_name": "Oleksandr  Fedotov", "link": "https://stackoverflow.com/users/3842596/oleksandr-fedotov"}, "is_accepted": true, "score": 2, "last_activity_date": 1542832302, "last_edit_date": 1542832302, "creation_date": 1542832008, "answer_id": 53419990, "question_id": 53419888, "link": "https://stackoverflow.com/questions/53419888/js-as-array-property-in-object-single-instance/53419990#53419990", "title": "JS as Array property in Object single instance", "body": "<p>You're right about <code>2 instances of the object</code>, but inside they have the same array reference, therefore mutating it in one place will mutate it in another place.</p>\n\n<pre><code>var Test = {\n    TestArray: [],\n}\n\nvar a = Object.create(Test);\nvar b = Object.create(Test);\n\na === b // false\na.TestArray === a.TestArray // true\n</code></pre>\n\n<p>There are quite a lot of ways to avoid this problem. Below is an option in order to keep <code>Object.create</code></p>\n\n<pre><code>var getTest = () =&gt; ({\n    TestArray: [],\n});\n\nvar a = Object.create(getTest());\nvar b = Object.create(getTest());\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19724, "user_id": 6539317, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/feded6c8f60453abde4e6bf81a877693?s=128&d=identicon&r=PG&f=1", "display_name": "felixmosh", "link": "https://stackoverflow.com/users/6539317/felixmosh"}, "is_accepted": false, "score": 3, "last_activity_date": 1542832087, "creation_date": 1542832087, "answer_id": 53420011, "question_id": 53419888, "link": "https://stackoverflow.com/questions/53419888/js-as-array-property-in-object-single-instance/53420011#53420011", "title": "JS as Array property in Object single instance", "body": "<p>You are right, <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\" rel=\"nofollow noreferrer\"><code>Object.create</code></a> is creating a new object, but whenever you pass an object to it, it makes that object as a prototype of it.</p>\n\n<p>Meaning, if that prototype object as an array, the will share the same instance.</p>\n\n<p>Check out the example given in MDN, the function that they call is on the prototype, therefore there is only one instance of it.</p>\n\n<p>In order to gain your request, you can use ES6 class syntax:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Test {\r\n  constructor() {\r\n    this.TestArray = [];\r\n  }\r\n}\r\n\r\nconst t1 = new Test();\r\nconst t2 = new Test();\r\n\r\nt1.TestArray.push('item1');\r\nconsole.log(t1.TestArray);\r\nconsole.log(t2.TestArray); // Should print an empty array</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 33, "user_id": 10687839, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-k9l5lsBdq-M/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jyGApPEI8UFdZa6HtqLVWylN8p5w/mo/photo.jpg?sz=128", "display_name": "Robert Pavlovic", "link": "https://stackoverflow.com/users/10687839/robert-pavlovic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 1, "accepted_answer_id": 53419990, "answer_count": 2, "score": 3, "last_activity_date": 1542832302, "creation_date": 1542831511, "question_id": 53419888, "link": "https://stackoverflow.com/questions/53419888/js-as-array-property-in-object-single-instance", "title": "JS as Array property in Object single instance", "body": "<p>Been searching for a while to fully understand how arrays works in object. I am familiar with other languages but this causes a lot of confusion for me.\nHaving an object</p>\n\n<pre><code>var Test = {\n    TestArray: [],\n}\nvar a = Object.create(Test);\nvar b = Object.create(Test);\n</code></pre>\n\n<p>From my expectation this should create 2 instances of the object and having 2 different arrays however having an array inside behave like 1 instance adding values to the array affects both instances could anyone explain why? </p>\n"}, {"tags": ["javascript", "angularjs", "svg", "embed", "onload"], "comments": [{"owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "edited": false, "score": 0, "creation_date": 1542843296, "post_id": 53419873, "comment_id": 93718322, "body": "With the AngularJS framework use a <a href=\"https://docs.angularjs.org/guide/directive\" rel=\"nofollow noreferrer\">custom directive</a> or use the new <a href=\"https://docs.angularjs.org/api/ng/directive/ngOn\" rel=\"nofollow noreferrer\">ng-on directive</a> to attach an event handler to an element."}, {"owner": {"reputation": 1128, "user_id": 2550940, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/188596724cddd5444ae629042981be73?s=128&d=identicon&r=PG", "display_name": "gunslingor", "link": "https://stackoverflow.com/users/2550940/gunslingor"}, "reply_to_user": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "edited": false, "score": 0, "creation_date": 1542844189, "post_id": 53419873, "comment_id": 93718557, "body": "Tried equivalent solutions, will not work. ng-on-load isn&#39;t different than onload and would have to go on the svg object inside the svg file; but the file cannot be modified. As far as I can tell, a custom directive wouldn&#39;t be able to tell be when the child directive, the svg document, is fully loaded by the browser ."}], "answers": [{"tags": [], "owner": {"reputation": 1128, "user_id": 2550940, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/188596724cddd5444ae629042981be73?s=128&d=identicon&r=PG", "display_name": "gunslingor", "link": "https://stackoverflow.com/users/2550940/gunslingor"}, "is_accepted": false, "score": 0, "last_activity_date": 1542858923, "creation_date": 1542858923, "answer_id": 53423649, "question_id": 53419873, "link": "https://stackoverflow.com/questions/53419873/detect-when-embedded-svg-is-loaded-with-angular/53423649#53423649", "title": "Detect when embedded svg is loaded with Angular", "body": "<p>This is by far the prettiest and best solution I found that doesn't require much code. In essence, we GET the svg file and parse it as a document fragment so everything is added to the DOM (apparently and magically), then we assign the result back to the original div and can then access the svg directive by id.</p>\n\n<p>View:</p>\n\n<pre><code>&lt;div style=\"width:1000px\" ng-controller=\"Controller\"&gt;\n    &lt;div id=\"svgObject\" style=\"width: 600px; height: 600px;\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>.controller('HomeController',['BaseController','$scope','$location',function (BaseController,scope,location) {\n            scope.modelSVG = location.protocol() + '://' + location.host() + '/svg/pic.svg';\n            http({\n               method : \"GET\",\n               url : scope.svgPath\n            }).then(function mySuccess(response) {\n               var svgObject = document.getElementById('svgObject');\n               svgObject.appendChild(parseSVG(response.data));\n\n               var svgDocument = document.getElementById(\"svgDocument\");//the id of the actual svg tag.\n               //do anything to fully loaded svg\n            }, function myError(response) {\n                alert(response.statusText);\n            });\n</code></pre>\n\n<p>The Magic Function:</p>\n\n<pre><code>function parseSVG(svg) {\n    var div= document.createElementNS('http://www.w3.org/1999/xhtml', 'div');\n    div.innerHTML= '&lt;svg xmlns=\"http://www.w3.org/2000/svg\"&gt;'+svg+'&lt;/svg&gt;';\n    var frag= document.createDocumentFragment();\n    while (div.firstChild.firstChild)\n        frag.appendChild(div.firstChild.firstChild);\n    return frag;\n}\n</code></pre>\n\n<p>Approach was discovered here: <a href=\"https://stackoverflow.com/questions/3642035/jquerys-append-not-working-with-svg-element\">jquery&#39;s append not working with svg element?</a></p>\n"}], "owner": {"reputation": 1128, "user_id": 2550940, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/188596724cddd5444ae629042981be73?s=128&d=identicon&r=PG", "display_name": "gunslingor", "link": "https://stackoverflow.com/users/2550940/gunslingor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 666, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542858923, "creation_date": 1542831442, "last_edit_date": 1542836041, "question_id": 53419873, "link": "https://stackoverflow.com/questions/53419873/detect-when-embedded-svg-is-loaded-with-angular", "title": "Detect when embedded svg is loaded with Angular", "body": "<p>I've been struggling a long time with this, lots of older posts address the issue but in incomplete, indirect or obsolete ways. Its such a common issue, a common solution would be ideal. I cannot/should-not modify the SVG. The svg has an id and all the various groups have ids that I need to interact with. </p>\n\n<p>The issue is that I can't assign a load event to the svg element itself because it isn't loaded yet when my controller runs; And if I assign the on load event to the parent embed tag, well, then I can't access the elements via getElementByID because they aren't loaded yet either.</p>\n\n<p>View:</p>\n\n<pre><code>&lt;div style=\"width:1000px\" ng-controller=\"Controller\"&gt;\n    &lt;embed id=\"svgObject\" width=\"100%\" height=\"100%\" ng-src=\"{{modelSVG}}\" type=\"image/svg+xml\"&gt;&lt;/embed&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>   .controller('HomeController',['BaseController','$scope','$location',function (BaseController,scope,location) {\n            scope.modelSVG = location.protocol() + '://' + location.host() + '/svg/pic.svg';\n            var svgObject = document.getElementById(\"svgObject\");\n\n            svgObject.addEventListener('load', function(){\n                var svgDocument = svgObject.contentDocument;\n                **Do lots of stuff to EACH and every shape loadeded (e.g. show/hide, set hover/click events, etc\n            })\n   }])\n</code></pre>\n\n<p>Another attempt to get at the actual svg document</p>\n\n<pre><code>var svgDocument = svgObject.contentDocument ? svgObject.contentDocument : svgObject.contentWindow.document;\n</code></pre>\n\n<p>I can't believe this is so difficult.</p>\n"}, {"tags": ["javascript", "node.js", "asynchronous", "promise"], "comments": [{"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1542831605, "post_id": 53419853, "comment_id": 93714057, "body": "Don&#39;t promiscuously mix syntaxes. Use try/catch/async/await <b>or</b> .then.catch. I can&#39;t even read this. One error I see immediately is that you aren&#39;t returning anything from your callback to map, although it looks like you&#39;re not doing anything with it? What is all of this?"}, {"owner": {"reputation": 385, "user_id": 3842596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xwIi0.jpg?s=128&g=1", "display_name": "Oleksandr  Fedotov", "link": "https://stackoverflow.com/users/3842596/oleksandr-fedotov"}, "edited": false, "score": 0, "creation_date": 1542831723, "post_id": 53419853, "comment_id": 93714108, "body": "Try to change the line where you assign response, as basically it will reassign every time new value. Or maybe you should assign response with result returned from <code>Promise.all</code>."}, {"owner": {"reputation": 1926, "user_id": 1861292, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Y3IHo.jpg?s=128&g=1", "display_name": "Gere", "link": "https://stackoverflow.com/users/1861292/gere"}, "edited": false, "score": 0, "creation_date": 1542831737, "post_id": 53419853, "comment_id": 93714113, "body": "I got it. That&#39;s is not my complete/real code, I &quot;simplify it&quot; for this question"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1542831915, "post_id": 53419853, "comment_id": 93714183, "body": "Don&#39;t think in terms of &quot;nesting&quot;. There is no &quot;waiting for the return&quot; so there technically isn&#39;t any nesting happening. When working with async/await think in terms of delegation. Is it okay to delegate tasks as part of a task that is itself delegated? Of course. Good task management means only doing what you need to do and delegate everything else."}, {"owner": {"reputation": 1926, "user_id": 1861292, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Y3IHo.jpg?s=128&g=1", "display_name": "Gere", "link": "https://stackoverflow.com/users/1861292/gere"}, "edited": false, "score": 0, "creation_date": 1542832087, "post_id": 53419853, "comment_id": 93714250, "body": "I think I don&#39;t need a response. I need that the getProductInfo() method will be execute for the all products listed."}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 1, "creation_date": 1542832606, "post_id": 53419853, "comment_id": 93714459, "body": "If you don&#39;t need the response, then why <code>await</code> anything? Why even build a promise? Just run <code>products.forEach(p =&gt; getProductInfo(p.id))</code> in your main code?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1542834606, "post_id": 53419853, "comment_id": 93715324, "body": "@Gere Please show your actual code, or a minimal example that still exhibits the unexpected behaviour."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1542834704, "post_id": 53419853, "comment_id": 93715375, "body": "@Mike Never use <code>forEach</code> :-) In this case, calling <code>getProductInfo</code> without waiting for anything will potentially cause cause unhandled rejections. Make sure to <a href=\"https://stackoverflow.com/a/32385430/1048572\">do something about that</a>"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1542846703, "post_id": 53419853, "comment_id": 93719206, "body": "That&#39;s a bizarre thing to say, @Bergi =)"}], "answers": [{"comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1542834822, "post_id": 53420301, "comment_id": 93715424, "body": "Avoid the <a href=\"https://stackoverflow.com/q/23803743/1048572?What-is-the-promise-construction-antipattern-and-how-to-avoid-it\"><code>Promise</code> constructor antipattern</a>! Even (or especially) if <code>getProductInfo</code> is just an example mock. And don&#39;t use <code>async</code> functions as callbacks to e.g. <code>setTimeout</code>."}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1542846872, "post_id": 53420301, "comment_id": 93719242, "body": "It&#39;s not, I&#39;m very intentionally not doing any then/catching inside these demonstration promises that are very mcuh placeholders for database API calls, and the same goes for setTimeout: there is nothing wrong with marking the function as async which in this case is strictly necessary for that <code>await</code> to even work. I&#39;m all for es-today evangelism, but code that&#39;s used as stand-in for real APIs is just code that&#39;s used as stand-in for real APIs."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1542877160, "post_id": 53420301, "comment_id": 93728443, "body": "But you don&#39;t even need to <code>await</code> anything in those callbacks! The first one is entirely synchronous, and the second one should simply <code>resolve</code> the promise with the other promise (which properly forwards rejections)."}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1542904799, "post_id": 53420301, "comment_id": 93744089, "body": "But database API calls are not synchronous, and that&#39;s what we&#39;re simulating with the timeouts: highly artificial asynchronous flow. Feel free to write your own answer with what you feel is better code, of course. More than happy to see your take."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1542917146, "post_id": 53420301, "comment_id": 93748619, "body": "<code>setTimeout</code> is not synchronous, but the callback that you pass to it is. No need to make that <code>async</code>."}], "tags": [], "owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "is_accepted": false, "score": 0, "last_activity_date": 1542833541, "creation_date": 1542833541, "answer_id": 53420301, "question_id": 53419853, "link": "https://stackoverflow.com/questions/53419853/how-to-use-nested-functions-using-async-and-await/53420301#53420301", "title": "How to use nested functions using async and await?", "body": "<p>Just make sure you're <code>await</code>ing the right thing, and that any function that has an await is itself <code>async</code>, and you should be just fine. The following code for example works just fine.</p>\n\n<pre><code>const products = [1,2,3,4,5,6];\n\nasync function updateRecord(data) {\n  return new Promise((resolve, reject) =&gt; {\n    // using timeout for demonstration purposes\n    setTimeout(async() =&gt; {\n      console.log(\"pretending I updated\", data.id);\n      resolve();\n    }, 1000 * Math.random());\n  });\n};\n\nasync function getProductInfo(id) {\n  return new Promise((resolve, reject) =&gt; {\n    // again using timeout for demonstration purposes\n    setTimeout(async() =&gt; {\n      console.log(\"fake-retrieved product info for\", id);\n      resolve(await updateRecord({ id }));\n    }, 1000 * Math.random());\n  });\n};\n\nPromise.all(products.map(pid =&gt; getProductInfo(pid)))\n       .then(() =&gt; console.log(\"we're done.\"));\n       .catch(e =&gt; console.error(\"what?\", e));\n</code></pre>\n"}], "owner": {"reputation": 1926, "user_id": 1861292, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Y3IHo.jpg?s=128&g=1", "display_name": "Gere", "link": "https://stackoverflow.com/users/1861292/gere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1542833541, "creation_date": 1542831372, "question_id": 53419853, "link": "https://stackoverflow.com/questions/53419853/how-to-use-nested-functions-using-async-and-await", "title": "How to use nested functions using async and await?", "body": "<p>I'm doing a admin script in my node backend includes mongo queries/updates and api calls. Im using async and await but it does not work as I want.</p>\n\n<pre><code>(async () =&gt; {\n// connect to mongo (works ok)\n\n const products = await getProducts(); // Here I have my 10 elements\n\n await Promise.all(products.map(async (prod) =&gt; {\n    response = await getProductInfo(prod.id);\n  })); // here I call to getProductInfo ten times.\n\n})()\n  .catch(err =&gt; console.error(err));\n\nconst getProductInfo = async(idProduct) =&gt; {\n\n  const response = await rq(optionsProductInfo); //request to API\n\n  await Product.updateOne({ sku: response.sku }, { $set: {\n    priority: response.priority,\n    price: response.price,\n  } });  // update product info\n};\n</code></pre>\n\n<p>The problem is that the update in the database is not execute 10 times. Sometimes executed 2, 3, 4 times but never execute for the 10 elements.</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 886, "user_id": 2184449, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a8fc41244d47a3aa594fdeea90983863?s=128&d=identicon&r=PG", "display_name": "Jere", "link": "https://stackoverflow.com/users/2184449/jere"}, "edited": false, "score": 0, "creation_date": 1542831436, "post_id": 53419833, "comment_id": 93713974, "body": "Please try and shorten the code to a minimum. Check <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 33, "user_id": 10682660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0ad49aa5f7a50937ec49cda90b72450?s=128&d=identicon&r=PG&f=1", "display_name": "SunX", "link": "https://stackoverflow.com/users/10682660/sunx"}, "reply_to_user": {"reputation": 886, "user_id": 2184449, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a8fc41244d47a3aa594fdeea90983863?s=128&d=identicon&r=PG", "display_name": "Jere", "link": "https://stackoverflow.com/users/2184449/jere"}, "edited": false, "score": 0, "creation_date": 1542836997, "post_id": 53419833, "comment_id": 93716268, "body": "Applied that and it worked! Thank you :D"}, {"owner": {"reputation": 886, "user_id": 2184449, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a8fc41244d47a3aa594fdeea90983863?s=128&d=identicon&r=PG", "display_name": "Jere", "link": "https://stackoverflow.com/users/2184449/jere"}, "edited": false, "score": 0, "creation_date": 1542898829, "post_id": 53419833, "comment_id": 93740945, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/224602/how-do-you-make-div-elements-display-inline\">How do you make div elements display inline?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "is_accepted": true, "score": 1, "last_activity_date": 1542836595, "creation_date": 1542836595, "answer_id": 53420871, "question_id": 53419833, "link": "https://stackoverflow.com/questions/53419833/how-to-display-buttons-in-a-horizontal-row/53420871#53420871", "title": "How to display buttons in a horizontal row?", "body": "<p>To achieve expected result , use below option of display: inline-block for footer divs</p>\n\n<pre><code>.footer &gt; div{\n   display:inline-block;\n}\n</code></pre>\n\n<p>codepen - <a href=\"https://codepen.io/nagasai/pen/bQLYPM\" rel=\"nofollow noreferrer\">https://codepen.io/nagasai/pen/bQLYPM</a></p>\n\n<p><strong>Issue</strong>: div is block level element by default hence it is displaying footer divs in separate line</p>\n"}], "owner": {"reputation": 33, "user_id": 10682660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0ad49aa5f7a50937ec49cda90b72450?s=128&d=identicon&r=PG&f=1", "display_name": "SunX", "link": "https://stackoverflow.com/users/10682660/sunx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1270, "favorite_count": 0, "accepted_answer_id": 53420871, "answer_count": 1, "score": 1, "last_activity_date": 1542836595, "creation_date": 1542831286, "last_edit_date": 1542835654, "question_id": 53419833, "link": "https://stackoverflow.com/questions/53419833/how-to-display-buttons-in-a-horizontal-row", "title": "How to display buttons in a horizontal row?", "body": "<p><a href=\"https://i.stack.imgur.com/HQL1a.jpg\" rel=\"nofollow noreferrer\">Desired Output</a></p>\n\n<p>I want to get the buttons aligned like the attached image but however, on executing the code, I am getting <a href=\"https://i.stack.imgur.com/TxW6e.jpg\" rel=\"nofollow noreferrer\">Output like this</a>, where the buttons are below one another. \nI have attached the HTML, CSS and JS code. I am new to UI design and so I am failing to find out the error in the CSS code.\nI shall be very grateful if anyone suggests me how can I get the Desired Output.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.form').find('input').on('keyup blur focus', function (e) {\r\n  \r\n  var $this = $(this),\r\n      label = $this.prev('label');\r\n\r\n\t  if (e.type === 'keyup') {\r\n\t\t\tif ($this.val() === '') {\r\n          label.removeClass('active highlight');\r\n        } else {\r\n          label.addClass('active highlight');\r\n        }\r\n    } else if (e.type === 'blur') {\r\n    \tif( $this.val() === '' ) {\r\n    \t\tlabel.removeClass('active highlight'); \r\n\t\t\t} else {\r\n\t\t    label.removeClass('highlight');   \r\n\t\t\t}   \r\n    } else if (e.type === 'focus') {\r\n      \r\n      if( $this.val() === '' ) {\r\n    \t\tlabel.removeClass('highlight'); \r\n\t\t\t} \r\n      else if( $this.val() !== '' ) {\r\n\t\t    label.addClass('highlight');\r\n\t\t\t}\r\n    }\r\n\r\n});\r\n\r\n$('.tab a').on('click', function (e) {\r\n  \r\n  e.preventDefault();\r\n  \r\n  $(this).parent().addClass('active');\r\n  $(this).parent().siblings().removeClass('active');\r\n  \r\n  target = $(this).attr('href');\r\n\r\n  $('.tab-content &gt; div').not(target).hide();\r\n  \r\n  $(target).fadeIn(600);\r\n  \r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>*{\r\n  box-sizing: border-box;\r\n  margin:0px;\r\n  padding:0px;\r\n}\r\n\r\n\r\nbody {\r\n  background:url(../background.jpg);\r\n  /*font-family: 'Titillium Web', sans-serif;*/\r\n  font-family: 'Roboto', sans-serif;\r\n  background-size:cover;\r\n}\r\n.user{\r\nwidth: 80px;\r\nheight: 80px;\r\nborder-radius: 50%;\r\nposition: relative;\r\ntop: -10px;\r\nleft: calc(50%-50px);\r\nright: -170px;\r\n}\r\n\r\na {\r\n  text-decoration: none;\r\n  color: #040675;\r\n  transition: .5s ease;\r\n}\r\na:hover {\r\n  color: #179b77;\r\n}\r\n\r\n.form {\r\n  padding: 40px;\r\n  max-width: 500px;\r\n  margin: 40px auto;\r\n  border-radius: 4px;\r\n  box-shadow: 0 4px 10px 4px rgba(19, 35, 47, 0.3);\r\n  transition: .5s ease;\r\n  position: relative;\r\n  \r\n}\r\n\r\n.form:hover {\r\n\tbox-shadow: 0px 0px 40px 16px rgba(18,18,18,1.00);\r\n\t}\r\n\r\n.tab-group {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0 5px 20px 0;\r\n}\r\n.tab-group:after {\r\n  content: \"\";\r\n  display: table;\r\n  clear: both;\r\n}\r\n.tab-group li a {\r\n  display: block;\r\n  text-decoration: none;\r\n  padding: 15px;\r\n  background: #0C0E67;\r\n  color: #fff;\r\n  font-size: 20px;\r\n  float: left;\r\n  width: 50%;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  transition: .5s ease;\r\n}\r\n.tab-group li a:hover {\r\n  background: #0C0E67;\r\n  color: #ffffff;\r\n}\r\n.tab-group .active a {\r\n  background:#1316FA;\r\n  color: #ffffff;\r\n}\r\n\r\n.tab-content &gt; div:last-child {\r\n  display:none;\r\n}\r\n\r\nh1 {\r\n  text-align: center;\r\n  color: #fff;\r\n  font-weight: 300;\r\n  margin: 0 0 40px;\r\n}\r\n\r\n/*label {\r\n  position: absolute;\r\n  transform: translateY(6px);\r\n  left: 13px;\r\n  color: rgba(255,255,255,0.7);\r\n  transition: all 0.25s ease;\r\n  pointer-events: none;\r\n  font-size: 22px;\r\n}\r\nlabel .req {\r\n  margin: 2px;\r\n  color: red;\r\n}*/\r\n\r\nlabel.active {\r\n  transform: translateY(50px);\r\n  left: 2px;\r\n  font-size: 0px;\r\n}\r\nlabel.active .req {\r\n  opacity: 0;\r\n}\r\n\r\nlabel.highlight {\r\n  color: #000;\r\n  margin-top:-10px;\r\n}\r\n\r\n/*input[type=\"radio\"] {\r\n  height: 10px;\r\n  width: 10px;\r\n\r\n  }*/\r\n\r\ninput[type=\"text\"],input[type=\"email\"],input[type=\"tel\"],input [type=\"password\"] {\r\n  font-size: 18px;\r\n  display: block;\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 1px 3px;\r\n  background-image: none;\r\n  border: 1px solid #fff;\r\n  color: #fff;\r\n  border-radius: 0;\r\n  transition: border-color .25s ease, box-shadow .25s ease;\r\n}\r\ninput:focus{\r\n  outline: 0;\r\n  border-color: #000;\r\n}\r\n\r\n.field-wrap input{\r\n  padding-left: 40px;\r\n  width: 100%;\r\n  height: 28px;\r\n}\r\n\r\n.field-wrap i{\r\n  position: absolute;\r\n  left:0;\r\n  top: -5px;\r\n  padding: 9px 8px;\r\n  color: silver;\r\n}\r\n.field-wrap {\r\n  position: relative;\r\n  margin-bottom: 30px;\r\n  \r\n}\r\n\r\n.top-row:after {\r\n  content: \"\";\r\n  display: table;\r\n  clear: both;\r\n}\r\n.top-row &gt; div {\r\n  float: left;\r\n  width: 48%;\r\n  margin-right: 4%;\r\n}\r\n.top-row &gt; div:last-child {\r\n  margin: 0;\r\n}\r\n\r\n\r\n.button {\r\n  border: 0;\r\n  outline: none;\r\n  border-radius: 20px;\r\n  cursor: pointer;\r\n  padding: 5px 5px;\r\n  font-size: 2rem;\r\n  font-weight: 50rem;\r\n  text-transform: uppercase;\r\n  letter-spacing: .1em;\r\n  background: rgb(54, 57, 221);\r\n  color: #ffffff;\r\n  transition: all 0.5s ease;\r\n}\r\n.button:hover, .button:focus {\r\n  background: #1316FA;\r\n}\r\n\r\n.bday,\r\n.form-gender{\r\nposition: relative;\r\nmargin-bottom: 20px;\r\ncolor: #fff;\r\n}\r\n.button-block {\r\n  display: block;\r\n  width: 100%;\r\n}\r\n\r\n.forgot {\r\n  margin-top: -20px;\r\n  text-align: right;\r\n  margin-bottom:10px;\r\n}\r\nfieldset.date { \r\n  margin: 0; \r\n  padding: 0; \r\n  padding-left: 20px; \r\n  padding-bottom: .5em; \r\n  display: block; \r\n  border: none; \r\n} \r\nfieldset.date legend { \r\n  margin: 0; \r\n  padding: 0; \r\n  margin-top: .25em; \r\n  font-size: 100%; \r\n} \r\n\r\n\r\nfieldset.date label { \r\n  position: absolute; \r\n  top: -20em; \r\n  left: -200em; \r\n} \r\n\r\nfieldset.date select { \r\nmargin: 0; \r\npadding: 0; \r\nfont-size: 100%; \r\ndisplay: inline; \r\n} \r\n\r\n.birth{\r\n  padding-left: 30px;\r\n  padding-right: 34px;\r\n  padding-bottom: 8px;\r\n}\r\n\r\n#check1{\r\n  padding-bottom: 10px;\r\n  color: #fff;\r\n}\r\n#check2{\r\n  color: #fff;\r\n}\r\n\r\n.footer{\r\n  position: relative;\r\n /* width: 70%\r\n  padding-left: 180px;*/\r\n  text-align: right;\r\n  color: #fff;\r\n  margin-top: 20px;\r\n}\r\n\r\n.footer&gt; div.social{\r\nposition: relative;\r\nfloat: right;\r\ncolor:#fff;\r\nfont-size:19px;\r\ncursor: pointer;\r\n}\r\n\r\n.footer i{\r\n  position: relative;\r\n  width: 60px;\r\n  height:40px;\r\n  left:0px;\r\n  line-height: 40px;\r\n  background: rgb(0,0,0,0);\r\n  text-align: center;\r\n}\r\n\r\n.footer.facebook{\r\n  background: #3b5999;\r\n}\r\n\r\n.footer.linkedin{\r\n  background: #0077B5;\r\n}\r\n\r\n.footer.google{\r\n  background: #dd4b39;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n  &lt;title&gt;Sign-Up/Login Form&lt;/title&gt;\r\n  &lt;link href='https://fonts.googleapis.com/css?family=Titillium+Web:400,300,600' rel='stylesheet' type='text/css'&gt;\r\n  &lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css\"&gt;\r\n  &lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"&gt;\r\n  &lt;link href=\"https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\" rel=\"stylesheet\" integrity=\"sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN\" crossorigin=\"anonymous\"&gt;\r\n  &lt;link href=\"https://fonts.googleapis.com/css?family=Roboto\" rel=\"stylesheet\"&gt;\r\n  &lt;link rel=\"stylesheet\" href=\"css/style.css\"&gt; \r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;div class=\"form\"&gt;\r\n      \r\n      &lt;ul class=\"tab-group\"&gt;\r\n        &lt;li class=\"tab active\"&gt;&lt;a href=\"#signup\"&gt;Sign Up&lt;/a&gt;&lt;/li&gt;\r\n        &lt;li class=\"tab\"&gt;&lt;a href=\"#login\"&gt;Log In&lt;/a&gt;&lt;/li&gt;\r\n      &lt;/ul&gt;\r\n      \r\n      &lt;div class=\"tab-content\"&gt;\r\n        &lt;div id=\"signup\"&gt;   \r\n        \r\n          &lt;form action=\"\" method=\"post\"&gt;\r\n          \r\n         \r\n            &lt;div class=\"field-wrap\"&gt;\r\n              &lt;input type=\"text\" placeholder=\"First Name\" required autocomplete=\"off\" /&gt;\r\n              &lt;i class=\"fa fa-user icon\"&gt;&lt;/i&gt;\r\n            &lt;/div&gt;\r\n        \r\n            \r\n          &lt;div class=\"field-wrap\"&gt;\r\n              \r\n            &lt;input type=\"text\" placeholder=\"Last Name\" required autocomplete=\"off\"/&gt;\r\n            &lt;i class=\"fa fa-user icon\"&gt;&lt;/i&gt;\r\n          &lt;/div&gt;\r\n\r\n          &lt;div class=\"field-wrap\"&gt;\r\n            \r\n            &lt;input type=\"email\" placeholder=\"E-mail\" required autocomplete=\"off\"/&gt;\r\n            &lt;i class=\"fa fa-envelope icon\"&gt;&lt;/i&gt;\r\n          &lt;/div&gt;\r\n          \r\n          \r\n\r\n          &lt;div class=\"field-wrap\"&gt;\r\n              &lt;input type=\"tel\" placeholder=\"Phone\" required autocomplete=\"off\"/&gt;\r\n              &lt;i class=\"fa fa-phone icon\"&gt;&lt;/i&gt;\r\n            &lt;/div&gt;\r\n          \r\n            &lt;div class=\"field-wrap\"&gt;\r\n                &lt;input type=\"text\" placeholder=\"Post Code\" pattern=\"[0-9]{5}\" required autocomplete=\"off\"/&gt;\r\n                &lt;i class=\"fa fa-map-marker icon\"&gt;&lt;/i&gt;\r\n              &lt;/div&gt;\r\n\r\n              &lt;div class=\"bday\"&gt;\r\n                  &lt;labe&gt;\r\n                      Birthday&lt;br&gt;\r\n                    &lt;/label&gt;\r\n                    &lt;select name=\"DoBday\" class=\"birth\"&gt;\r\n                        &lt;option &gt;Month&lt;/option&gt;\r\n                        &lt;option value=\"1\"&gt; 1 &lt;/option&gt;\r\n                        &lt;option value=\"2\"&gt; 2 &lt;/option&gt;\r\n                        &lt;option value=\"3\"&gt; 3 &lt;/option&gt;\r\n                        \r\n                  &lt;/select&gt;\r\n                  &lt;select name=\"DoBMonth\" class=\"birth\"&gt;\r\n                      &lt;option &gt;Day&lt;/option&gt;\r\n                      &lt;option value=\"January\"&gt; January &lt;/option&gt;\r\n                      &lt;option value=\"February\"&gt; February &lt;/option&gt;\r\n                      &lt;option value=\"March\"&gt; March &lt;/option&gt;\r\n                      \r\n                  &lt;/select&gt;\r\n                  \r\n                      &lt;select name=\"DoByear\" class=\"birth\"&gt;\r\n                              &lt;option&gt;Year&lt;/option&gt;\r\n                              &lt;option value=\"2000\"&gt; 2000 &lt;/option&gt;\r\n                              &lt;option value=\"1990\"&gt; 1990 &lt;/option&gt;\r\n                              &lt;option value=\"1991\"&gt; 1991 &lt;/option&gt;\r\n                              \r\n                       &lt;/select&gt;\r\n              &lt;/div&gt;\r\n\r\n              &lt;div class=\"form-gender\"&gt;\r\n                  &lt;span id=\"gend\"&gt;\r\n                          Gender&lt;br&gt;\r\n                   &lt;/span&gt;\r\n                  &lt;input type=\"radio\" name=\"male\" value=\"male\" id=\"\" checked&gt; Male &amp;nbsp; &amp;nbsp; &amp;nbsp;\r\n                  &lt;input type=\"radio\" name=\"male\" value=\"female\" id=\"\"&gt; Female &amp;nbsp; &amp;nbsp; &amp;nbsp;\r\n                  &lt;input type=\"radio\" name=\"male\" value=\"other\" id=\"\"&gt; Other\r\n              &lt;/div&gt;\r\n\r\n              &lt;div class=\"field-wrap\"&gt;\r\n                  &lt;input type=\"password\" placeholder=\"Password\" required autocomplete=\"off\"/&gt;\r\n                  &lt;i class=\"fa fa-lock icon\"&gt;&lt;/i&gt;\r\n                &lt;/div&gt;\r\n\r\n              &lt;div class=\"field-wrap\"&gt;\r\n                 &lt;input type=\"password\" placeholder=\"Confirm Password\" required autocomplete=\"off\"/&gt;\r\n                  &lt;i class=\"fa fa-lock icon\"&gt;&lt;/i&gt;\r\n              &lt;/div&gt;\r\n              &lt;div id=\"check1\"&gt;\r\n                  &lt;input type=\"checkbox\"  id=\"chk1\"&gt; I accept the &lt;a href=\"#\" style=\"color:dodgerblue\"&gt;Terms &lt;/a&gt;and &lt;a href=\"#\" style=\"color:dodgerblue\"&gt;Conditions&lt;/a&gt;\r\n              &lt;/div&gt;\r\n          &lt;button type=\"submit\" class=\"button button-block\"/&gt;Register &lt;/button&gt;\r\n          \r\n          &lt;/form&gt;\r\n\r\n        &lt;/div&gt;\r\n        \r\n        &lt;div id=\"login\"&gt;   \r\n      \r\n         &lt;img src=\"./user.png\" class=\"user\"&gt;\r\n          \r\n          &lt;form action=\"/\" method=\"post\"&gt;\r\n          \r\n           &lt;div class=\"field-wrap\"&gt;\r\n            \r\n            &lt;input type=\"email\" placeholder=\"E-mail\" required autocomplete=\"off\"/&gt;\r\n            &lt;i class=\"fa fa-envelope icon\"&gt;&lt;/i&gt;\r\n          &lt;/div&gt;\r\n          \r\n          &lt;div class=\"field-wrap\"&gt;\r\n            &lt;input type=\"password\" placeholder=\"Password\" required autocomplete=\"off\"/&gt;\r\n            &lt;i class=\"fa fa-lock icon\"&gt;&lt;/i&gt;\r\n          &lt;/div&gt;\r\n          &lt;div id=\"check2\"&gt;\r\n              &lt;input type=\"checkbox\"  id=\"chk2\"&gt; Remember Me\r\n          &lt;/div&gt;\r\n          &lt;p class=\"forgot\"&gt;&lt;a href=\"#\"&gt;Forgot Password?&lt;/a&gt;&lt;/p&gt;\r\n          \r\n          &lt;button class=\"button button-block\"/&gt;Log In&lt;/button&gt;\r\n          &lt;!--&lt;div class=\"span\"&gt;\r\n            &lt;span&gt;OR&lt;/span&gt;\r\n          &lt;/div&gt;--&gt;\r\n          &lt;div class=\"footer\"&gt;\r\n            OR Login With\r\n            &lt;div class=\"social-facebook\"&gt;\r\n                &lt;i class=\"fa fa-facebook\" aria-hidden=\"true\"&gt;&lt;/i&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=\"social-linkedin\"&gt;\r\n                &lt;i class=\"fa fa-linkedin\" aria-hidden=\"true\"&gt;&lt;/i&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=\"social-google\"&gt;\r\n                &lt;i class=\"fa fa-google-plus\" aria-hidden=\"true\"&gt;&lt;/i&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n          \r\n          &lt;/form&gt;\r\n\r\n        &lt;/div&gt;\r\n        \r\n      &lt;/div&gt;&lt;!-- tab-content --&gt;\r\n      \r\n&lt;/div&gt; &lt;!-- /form --&gt;\r\n&lt;script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'&gt;&lt;/script&gt;\r\n&lt;script  src=\"js/index.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "boolean", "character", "case", "palindrome"], "comments": [{"owner": {"reputation": 2330, "user_id": 7237062, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/z4Nky.jpg?s=128&g=1", "display_name": "LoneWanderer", "link": "https://stackoverflow.com/users/7237062/lonewanderer"}, "edited": false, "score": 0, "creation_date": 1542834617, "post_id": 53419815, "comment_id": 93715333, "body": "Characters case is one thing, The other I see: &quot;Madam I&#39;m Adam&quot; is not strictly speaking a palindrome. unless there is unspoken rule concerning characters others than letters."}, {"owner": {"reputation": 2330, "user_id": 7237062, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/z4Nky.jpg?s=128&g=1", "display_name": "LoneWanderer", "link": "https://stackoverflow.com/users/7237062/lonewanderer"}, "edited": false, "score": 0, "creation_date": 1542834774, "post_id": 53419815, "comment_id": 93715406, "body": "<code>Madam I&#39;m Adam</code>  reverses in <code>madA m&#39;I madam</code>"}], "answers": [{"tags": [], "owner": {"reputation": 145, "user_id": 7853201, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207466216368401/picture?type=large", "display_name": "Sean Dvir", "link": "https://stackoverflow.com/users/7853201/sean-dvir"}, "is_accepted": false, "score": 0, "last_activity_date": 1542837411, "last_edit_date": 1542837411, "creation_date": 1542832164, "answer_id": 53420027, "question_id": 53419815, "link": "https://stackoverflow.com/questions/53419815/javascript-jgrasp-palindrome/53420027#53420027", "title": "Javascript - JGRASP- Palindrome", "body": "<p>It fails because of the spaces, the &lt;'> char and the letter-case in the 'Madam I'm Adam' string.</p>\n\n<p>Edit the function to ignore these characters and other characters that you don't want your algorithm to consider, or better yet use ascii to verify each character in the string before you check whether it is a palindrome, \nthen convert all the characters to lower case using toLowerCase() method and it should work like you want it to.</p>\n"}], "owner": {"reputation": 49, "user_id": 10687824, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KIBek0eyATs/AAAAAAAAAAI/AAAAAAAAAIg/PavUGLRjfIU/photo.jpg?sz=128", "display_name": "Spartan Noah- 458", "link": "https://stackoverflow.com/users/10687824/spartan-noah-458"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542837411, "creation_date": 1542831206, "question_id": 53419815, "link": "https://stackoverflow.com/questions/53419815/javascript-jgrasp-palindrome", "title": "Javascript - JGRASP- Palindrome", "body": "<p>The case is to get strings from a file input to check if the statement is a palindrome or not. For instance, the if input.txt is \"Madam I'm Adam.\\n racecar \\n boat \\n 123 321 \\n 1234\" the output would be</p>\n\n<p>True\nTrue\nFalse\nTrue\nFalse</p>\n\n<p>Here is my Palindrome method:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public static boolean isPalindrome(String word){// Source: http://www.codenuclear.com/java-program-to-check-palindrome/\r\n      String reverse = \"\";\r\n      \r\n      if(word == null){\r\n         return false;\r\n      }else if(word.length() == 1){\r\n         return true;\r\n      }\r\n      \r\n      for(int i = word.length()-1; i &gt;= 0; i--){\r\n         reverse += word.charAt(i);\r\n      }\r\n      \r\n      if(word.equalsIgnoreCase(reverse)){\r\n         return true;\r\n      }\r\n      \r\n      return false;\r\n   }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The output so far has been:</p>\n\n<p>False\nTrue\nFalse\nTrue\nFalse</p>\n\n<p>I think the problem is with the statement \"Madam I'm Adam\" and the uppercase getting in the way. How can I run the code to ignore the Upper Case to get the palindrome to be true? I know there's a .equalsIgnoreUpperCase() method or some sort.</p>\n"}, {"tags": ["javascript", "node.js", "webstorm", "code-completion"], "comments": [{"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 1, "creation_date": 1542831010, "post_id": 53419752, "comment_id": 93713803, "body": "This is your editor, correct? Which likely either doesn&#39;t know about introspecting required files, or isn&#39;t able to introspect it. That&#39;s an issue with dynamic languages--but it&#39;s not a programming error. If you need help with your <i>editor</i> you need to say what editor you&#39;re using, versions, all the normal stuff. Please see the <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> page."}, {"owner": {"reputation": 400, "user_id": 6872876, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-p9s9Xu0JF9c/AAAAAAAAAAI/AAAAAAAAABU/r_jJeRSGa9A/photo.jpg?sz=128", "display_name": "The Forgotten Warrior", "link": "https://stackoverflow.com/users/6872876/the-forgotten-warrior"}, "reply_to_user": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1542831140, "post_id": 53419752, "comment_id": 93713854, "body": "I&#39;m using Webstorm 2018.1.14"}], "answers": [{"tags": [], "owner": {"reputation": 72396, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "is_accepted": true, "score": 2, "last_activity_date": 1542893546, "creation_date": 1542893546, "answer_id": 53432137, "question_id": 53419752, "link": "https://stackoverflow.com/questions/53419752/yargs-argv-unresolved-variable/53432137#53432137", "title": "Yargs.argv unresolved variable", "body": "<p>The properties are created dynamically, that's why WebStorm is not able to resolve them during static code analysis.</p>\n\n<p>To work out the issue, you need installing <code>yargs</code> typings (<code>@types/yargs</code>): hit <code>Alt+Enter</code> on <code>\"yargs\"</code> in <code>require(\"yargs\")</code>, choose <em>Install Typescript definitions for better type information</em>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WCVZ4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WCVZ4.png\" alt=\"enter image description here\"></a></p>\n\n<p>See <a href=\"https://www.jetbrains.com/help/webstorm/configuring-javascript-libraries.html#ws_jsconfigure_libraries_ts_definition_files\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/webstorm/configuring-javascript-libraries.html#ws_jsconfigure_libraries_ts_definition_files</a></p>\n\n<p>This should help:</p>\n\n<p><a href=\"https://i.stack.imgur.com/z0GZi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z0GZi.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 400, "user_id": 6872876, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-p9s9Xu0JF9c/AAAAAAAAAAI/AAAAAAAAABU/r_jJeRSGa9A/photo.jpg?sz=128", "display_name": "The Forgotten Warrior", "link": "https://stackoverflow.com/users/6872876/the-forgotten-warrior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "accepted_answer_id": 53432137, "answer_count": 1, "score": 0, "last_activity_date": 1542893546, "creation_date": 1542830863, "last_edit_date": 1542832120, "question_id": 53419752, "link": "https://stackoverflow.com/questions/53419752/yargs-argv-unresolved-variable", "title": "Yargs.argv unresolved variable", "body": "<p><a href=\"https://i.stack.imgur.com/rAzVn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rAzVn.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm new to NodeJS, I've installed yargs already but it argv can not be recognized. Any idea why?!</p>\n"}, {"tags": ["javascript", "jquery", "twitter-bootstrap-3"], "comments": [{"owner": {"reputation": 905, "user_id": 5330050, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4New3.jpg?s=128&g=1", "display_name": "Iskandar Reza", "link": "https://stackoverflow.com/users/5330050/iskandar-reza"}, "edited": false, "score": 0, "creation_date": 1542841393, "post_id": 53419727, "comment_id": 93717702, "body": "Have you tried showing the tabs by directly calling it&#39;s id? <code>$(&#39;#summary&#39;).tab(&#39;show&#39;)</code> . <code>$(&quot;tabs&quot;)</code> seems like it might be the wrong selector."}, {"owner": {"reputation": 1, "user_id": 10567361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f93fce64695f7630cf55ba02345d9f3?s=128&d=identicon&r=PG", "display_name": "user10567361", "link": "https://stackoverflow.com/users/10567361/user10567361"}, "reply_to_user": {"reputation": 905, "user_id": 5330050, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4New3.jpg?s=128&g=1", "display_name": "Iskandar Reza", "link": "https://stackoverflow.com/users/5330050/iskandar-reza"}, "edited": false, "score": 0, "creation_date": 1542901596, "post_id": 53419727, "comment_id": 93742503, "body": "I did - for both the tabs that are loaded with the page, as well as the dynamically added tabs.  Didn&#39;t work for any of them."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10567361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f93fce64695f7630cf55ba02345d9f3?s=128&d=identicon&r=PG", "display_name": "user10567361", "link": "https://stackoverflow.com/users/10567361/user10567361"}, "is_accepted": false, "score": 0, "last_activity_date": 1543011788, "creation_date": 1543011788, "answer_id": 53453479, "question_id": 53419727, "link": "https://stackoverflow.com/questions/53419727/dynamically-adding-a-tab-in-bootstrap-doesnt-show-tab-pane-content-after-naviga/53453479#53453479", "title": "Dynamically adding a tab in bootstrap doesn&#39;t show tab-pane content after navigating away and back", "body": "<p>so chalk this one up to looking at the same code for too long on my part.  The solution is:</p>\n\n<pre><code>$(\"&lt;li class='active' data-toggle='tab'&gt;&lt;a href='#summary' aria-expanded='true'&gt;Summary&lt;/a&gt;&lt;/li&gt;\").appendTo(\"#tabs\")\n</code></pre>\n\n<p>Notice the '#' in front of the href that I forgot in the first post.</p>\n"}], "owner": {"reputation": 1, "user_id": 10567361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f93fce64695f7630cf55ba02345d9f3?s=128&d=identicon&r=PG", "display_name": "user10567361", "link": "https://stackoverflow.com/users/10567361/user10567361"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543011788, "creation_date": 1542830750, "question_id": 53419727, "link": "https://stackoverflow.com/questions/53419727/dynamically-adding-a-tab-in-bootstrap-doesnt-show-tab-pane-content-after-naviga", "title": "Dynamically adding a tab in bootstrap doesn&#39;t show tab-pane content after navigating away and back", "body": "<p>Ive seen a lot of similar questions, but nothing that is quite like this (that I can find).</p>\n\n<p>This is in a rails 5 app, bootstrap-sass 3.3, jquery 1.12.4.</p>\n\n<pre><code>$(\"#opendata\").on(\"click\", function(){\n  $(\"&lt;div class='tab-pane active' id='summary'&gt;hi&lt;/div&gt;\").appendTo(\"#tab-content\");\n  $(\"&lt;li class='active' data-toggle='tab'&gt;&lt;a href='summary' aria-expanded='true'&gt;Summary&lt;/a&gt;&lt;/li&gt;\").appendTo(\"#tabs\")\n })\n</code></pre>\n\n<p>I have 2 tabs that are loaded with the page, and need to add other tabs dynamically.  The above code works - the tab is added, and the tab-pane contents are displayed.  However if I navigate away from that tab, and navigate back (the tab itself will go active) the tab-pane is showing the contents of the previous tab.</p>\n\n<p>I've narrowed the issue down to the dynamic tab-pane not getting an 'active' class put on it.  I've tried to do this via console as well, and it doesn't work either.</p>\n\n<p>The main solution I saw for dynamic tabs was to add something like this</p>\n\n<pre><code>jQuery(function($){\n  $(\"tabs\").on(\"click\", \"a\", function(e){\n    e.preventDefault();\n    $(this).tab('show');\n  })\n})\n</code></pre>\n\n<p>But to no avail.  It seems like the added tab-pane just doesn't respond to anything, console or otherwise.  Am I missing something or going about this the wrong way?  The tab gets added fine, just when navigating away and back that it doesn't respond.</p>\n"}, {"tags": ["javascript", "ruby-on-rails", "ajax", "url", "post"], "comments": [{"owner": {"reputation": 394580, "user_id": 479863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ArUCE.jpg?s=128&g=1", "display_name": "mu is too short", "link": "https://stackoverflow.com/users/479863/mu-is-too-short"}, "edited": false, "score": 0, "creation_date": 1542834519, "post_id": 53419716, "comment_id": 93715292, "body": "The <code>$.ajax</code> call in your JavaScript isn&#39;t the problem, the problem is how you&#39;re trying to include jQuery in the page. You should probably have <code>gem &#39;jquery-rails&#39;</code> in your Gemfile and <code>&#47;&#47;= require jquery3</code> in your <code>app&#47;assets&#47;javascript&#47;application.js</code> file."}, {"owner": {"reputation": 13378, "user_id": 1430810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v669u.jpg?s=128&g=1", "display_name": "arieljuod", "link": "https://stackoverflow.com/users/1430810/arieljuod"}, "edited": false, "score": 0, "creation_date": 1542850611, "post_id": 53419716, "comment_id": 93719921, "body": "you don&#39;t need to add jquery with a script tag, you already have it on your application.js, and also you are adding jquery twice with different versions with two script tags, just remove all and leave the application.js reference to jquery, then check the browser console and see if there&#39;s any error when running the site"}], "answers": [{"comments": [{"owner": {"reputation": 442, "user_id": 9666795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf51883733cb3335d251059e5956a3d5?s=128&d=identicon&r=PG&f=1", "display_name": "mrpepo877", "link": "https://stackoverflow.com/users/9666795/mrpepo877"}, "edited": false, "score": 0, "creation_date": 1542987767, "post_id": 53432758, "comment_id": 93771669, "body": "thanks for the help in that part of my code, really thanks, but i was referred to other error that i can t see, i don t know why (i update the question to give more information)"}], "tags": [], "owner": {"reputation": 1388, "user_id": 2087775, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/34af15a57984ebac74f4b606b810aa69?s=128&d=identicon&r=PG&f=1", "display_name": "Remon Amin", "link": "https://stackoverflow.com/users/2087775/remon-amin"}, "is_accepted": false, "score": 0, "last_activity_date": 1542895640, "creation_date": 1542895640, "answer_id": 53432758, "question_id": 53419716, "link": "https://stackoverflow.com/questions/53419716/ajax-in-ruby-on-rails-doesn-t-send-the-data/53432758#53432758", "title": "ajax in ruby on rails doesn t send the data", "body": "<p>when you have jquery gem in your gem files \nyou can include jquery library using </p>\n\n<pre><code>//= require jquery\n</code></pre>\n\n<p>in your application.js </p>\n\n<p>which you already have done .</p>\n\n<p>you need to remove these lines from your views </p>\n\n<pre><code>&lt;script src=\"jquery-3.3.1.min.js\"&gt;&lt;/script&gt;\n\n&lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>and replace them with this line </p>\n\n<pre><code>&lt;%= javascript_include_tag \"application\" %&gt;\n</code></pre>\n"}], "owner": {"reputation": 442, "user_id": 9666795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf51883733cb3335d251059e5956a3d5?s=128&d=identicon&r=PG&f=1", "display_name": "mrpepo877", "link": "https://stackoverflow.com/users/9666795/mrpepo877"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542988240, "creation_date": 1542830675, "last_edit_date": 1542988240, "question_id": 53419716, "link": "https://stackoverflow.com/questions/53419716/ajax-in-ruby-on-rails-doesn-t-send-the-data", "title": "ajax in ruby on rails doesn t send the data", "body": "<p>i am doing a test of ajax (because i am so new in ajax) to send data from the view welcome(index.html.erb) to the controller(welcome_controller.rb) but all the times that i have tried show me the same error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/C5Thm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C5Thm.png\" alt=\"enter image description here\"></a>\nwith same change:\n<a href=\"https://i.stack.imgur.com/4Ab7h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Ab7h.png\" alt=\"enter image description here\"></a></p>\n\n<p>but i don t know what that mean and all the the times the view show me the alert \"error\"(error) when i do the request.</p>\n\n<p>here is what i have done in the view:</p>\n\n<pre><code>   &lt;%= javascript_include_tag \"application\" %&gt;\n\n    &lt;script src=\"//ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js\"&gt;&lt;/script&gt;\n\n    &lt;link href=\"//netdna.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css\" rel=\"stylesheet\"&gt;\n\n    &lt;script src=\"//netdna.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js\"&gt;&lt;/script&gt;\n\n$(document).ready(function(){\n    $(\"#petition\").click(function(){\n        $.ajax({\n            url: 'http://192.168.99.100:3000/welcome_controller/index/',\n            type: 'POST',    \n            dataType: 'json',\n            data: { max_id: {id: \"5\"} },\n            success: function (data) {\n                alert(\"success\");\n            },\n            error: function(xhr, status, error) {\n\n                alert(xhr+status+error);    \\\\to take the second photo i change this for this \"alert(JSON.stringify(xhr));\" \n            }           \n        });\n    });\n});\n</code></pre>\n\n<p>here is my routes.rb:</p>\n\n<pre><code>Rails.application.routes.draw do\n  resources :welcome do\n    collection do\n      get 'index'\n    end\n  end\n\n  get 'welcome/page'\n  root 'welcome#index'\n  get 'menu/index'\nend\n</code></pre>\n\n<p>here is me application.js:</p>\n\n<pre><code>// This is a manifest file that'll be compiled into application.js, which will include all the files\n// listed below.\n//\n// Any JavaScript/Coffee file within this directory, lib/assets/javascripts, or any plugin's\n// vendor/assets/javascripts directory can be referenced here using a relative path.\n//\n// It's not advisable to add code directly here, but if you do, it'll appear at the bottom of the\n// compiled file. JavaScript code in this file should be added after the last require_* statement.\n//\n// Read Sprockets README (https://github.com/rails/sprockets#sprockets-directives) for details\n// about supported directives.\n//\n//= require jquery  \n//= require jquery_ujs \n//= require tinymce\n//= require rails-ujs\n//= require turbolinks\n//= require_tree .\n</code></pre>\n\n<p>and here is the ruby gem:</p>\n\n<pre><code># frozen_string_literal: true\n\nsource 'https://rubygems.org'\n\ngit_source(:github) do |repo_name|\n  repo_name = \"#{repo_name}/#{repo_name}\" unless repo_name.include?('/')\n  \"https://github.com/#{repo_name}.git\"\nend\n\n#propiedades de usuario\ngem 'devise', '~&gt; 4.4', '&gt;= 4.4.1'\n\n#text editor to post with link and imagens\ngem 'tinymce-rails'\n\n#admin y moderator\ngem 'cancancan'\ngem 'rolify'\n\n#votar like y dislike\ngem 'acts_as_votable', '~&gt; 0.11.1'\n\n#consultas rails para mesclar con js\ngem 'jquery-rails'\n\n\n# Bundle edge Rails instead: gem 'rails', github: 'rails/rails'\ngem 'rails', '~&gt; 5.1.5'\n# Use postgresql as the database for Active Record\ngem 'pg', '&gt;= 0.18', '&lt; 2.0'\n# Use Puma as the app server\ngem 'puma', '~&gt; 3.7'\n# Use SCSS for stylesheets\ngem 'sass-rails', '~&gt; 5.0'\n# Use Uglifier as compressor for JavaScript assets\ngem 'uglifier', '&gt;= 1.3.0'\n# See https://github.com/rails/execjs#readme for more supported runtimes\n# gem 'therubyracer', platforms: :ruby\n\n# Use CoffeeScript for .coffee assets and views\ngem 'coffee-rails', '~&gt; 4.2'\n# Turbolinks makes navigating your web application faster. Read more: https://github.com/turbolinks/turbolinks\ngem 'turbolinks', '~&gt; 5'\n# Build JSON APIs with ease. Read more: https://github.com/rails/jbuilder\ngem 'jbuilder', '~&gt; 2.5'\n# Use Redis adapter to run Action Cable in production\n# gem 'redis', '~&gt; 4.0'\n# Use ActiveModel has_secure_password\n# gem 'bcrypt', '~&gt; 3.1.7'\n\n# Use Capistrano for deployment\n# gem 'capistrano-rails', group: :development\n\ngroup :development, :test do\n  # Call 'byebug' anywhere in the code to stop execution and get a debugger console\n  gem 'byebug', platforms: %i[mri mingw x64_mingw]\n  # Adds support for Capybara system testing and selenium driver\n  gem 'capybara', '~&gt; 2.13'\n  gem 'selenium-webdriver'\nend\n\ngroup :development do\n  # Access an IRB console on exception pages or by using &lt;%= console %&gt; anywhere in the code.\n  gem 'listen', '&gt;= 3.0.5', '&lt; 3.2'\n  gem 'web-console', '&gt;= 3.3.0'\n  # Spring speeds up development by keeping your application running in the background. Read more: https://github.com/rails/spring\n  gem 'spring'\n  gem 'spring-watcher-listen', '~&gt; 2.0.0'\nend\n\n# Windows does not include zoneinfo files, so bundle the tzinfo-data gem\ngem 'tzinfo-data', platforms: %i[mingw mswin x64_mingw jruby]\n</code></pre>\n\n<p>my controller name is :welcome_controller.rb\nand have 2 method index and show i will put the controller anyways:</p>\n\n<pre><code>class WelcomeController &lt; ApplicationController\n  before_action :set_welcome, only: [:show]\n  protect_from_forgery :except =&gt; :receive_guest\n  helper_method :current_or_guest_user\n\n  def index\n    puts params[:max_id]\n  end\n\n  def show\n  end\n\nend\n</code></pre>\n"}, {"tags": ["javascript", "php", "html", "charts", "google-visualization"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10687759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb66897e2bea2ee266ca156ee9764b9e?s=128&d=identicon&r=PG&f=1", "display_name": "FallenSuper", "link": "https://stackoverflow.com/users/10687759/fallensuper"}, "edited": false, "score": 0, "creation_date": 1542874786, "post_id": 53422216, "comment_id": 93727238, "body": "This does work, but only applies the first 5 indexes. I want to see the last 5 at all times. Thanks for the help already. @WhiteHat"}, {"owner": {"reputation": 23, "user_id": 10687759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb66897e2bea2ee266ca156ee9764b9e?s=128&d=identicon&r=PG&f=1", "display_name": "FallenSuper", "link": "https://stackoverflow.com/users/10687759/fallensuper"}, "edited": false, "score": 0, "creation_date": 1543073605, "post_id": 53422216, "comment_id": 93791022, "body": "Umm, I just figured our that your solution shows the last 5 rows, but shows them backwards. The first last one comes upfront and the 5th one comes at the end. Making it look like progress is going down if you see what I mean. Any way around this? Appreciate the help so far."}, {"owner": {"reputation": 23, "user_id": 10687759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb66897e2bea2ee266ca156ee9764b9e?s=128&d=identicon&r=PG&f=1", "display_name": "FallenSuper", "link": "https://stackoverflow.com/users/10687759/fallensuper"}, "edited": false, "score": 0, "creation_date": 1543074833, "post_id": 53422216, "comment_id": 93791339, "body": "Never mind, direction: &#39;-1&#39;, did the job. Thanks a lot."}], "tags": [], "owner": {"reputation": 53495, "user_id": 5090771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2EOZG.png?s=128&g=1", "display_name": "WhiteHat", "link": "https://stackoverflow.com/users/5090771/whitehat"}, "is_accepted": true, "score": 0, "last_activity_date": 1542896413, "last_edit_date": 1542896413, "creation_date": 1542845714, "answer_id": 53422216, "question_id": 53419696, "link": "https://stackoverflow.com/questions/53419696/how-can-i-limit-my-google-chart-to-7-items/53422216#53422216", "title": "How can I limit my Google chart to 7 items?", "body": "<p>an easy way would be to use a data view and the <code>setRows</code> method.<br>\nthen use the view to draw the chart.  </p>\n\n<pre><code>var data = new google.visualization.DataTable(jsonData);\nvar view = new google.visualization.DataView(data);\nview.setRows([0, 1, 2, 3, 4]);  //&lt;-- provide an array of the row indexes you want to see\n...\nchart.draw(view, options);  //&lt;-- use view here\n</code></pre>\n\n<p><strong>EDIT</strong>  </p>\n\n<p>to show the last 5 rows...  </p>\n\n<pre><code>  var viewRows = [];\n  for (var i = data.getNumberOfRows() - 1; i &gt; data.getNumberOfRows() - 6; i--) {\n    viewRows.push(i);\n  }\n  view.setRows(viewRows);\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10687759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb66897e2bea2ee266ca156ee9764b9e?s=128&d=identicon&r=PG&f=1", "display_name": "FallenSuper", "link": "https://stackoverflow.com/users/10687759/fallensuper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "accepted_answer_id": 53422216, "answer_count": 1, "score": 2, "last_activity_date": 1542896413, "creation_date": 1542830555, "last_edit_date": 1542895910, "question_id": 53419696, "link": "https://stackoverflow.com/questions/53419696/how-can-i-limit-my-google-chart-to-7-items", "title": "How can I limit my Google chart to 7 items?", "body": "<p>I'm wondering how I could limit the MAX amount of items it can display to my chart to 5. I've got a cron job updating the .json daily, and currently it just tries to fit them all onto there.</p>\n\n<p>This is my code: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>&lt;script&gt;\r\ngoogle.charts.load(\"visualization\", \"1\", {packages:[\"corechart\"]});\r\ngoogle.charts.setOnLoadCallback(drawChart);\r\nfunction drawChart() {\r\n\tvar jsonData = $.ajax({\r\n        url: \"/server/database.json\",\r\n        dataType: \"json\",\r\n        async: false\r\n    }).responseText;\r\n\r\n\tvar data = new google.visualization.DataTable(jsonData);\r\n\r\n\tvar options = {\r\n\t\ttitle: 'Players Hourly',\r\n\t\t'is3D':true,\r\n\t\tlegend: 'bottom',\r\n\t\thAxis: { \r\n\t\t\tminValue: 0,\r\n\t\t\tformat: 'long'\r\n\t\t},\r\n\t\tvAxis: {\r\n\t\t\tminValue: 0,\r\n        \tscaleType: 'log',\r\n        \tformat: 'long'\r\n  \t\t},\r\n\t\tpointSize: 5,\r\n        series: {\r\n            0: { pointShape: 'circle' },\r\n        }\t\r\n\t};\r\n\tvar chart = new google.visualization.LineChart(document.getElementById('serverstats'));\r\n\tchart.draw(data, options);\r\n}\r\n$(window).resize(function(){\r\n\tdrawChart();\r\n});\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["javascript", "canvas", "fabricjs", "alpha-transparency"], "owner": {"reputation": 81, "user_id": 3153054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VfM2j.png?s=128&g=1", "display_name": "Alper AKPINAR", "link": "https://stackoverflow.com/users/3153054/alper-akpinar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1543411842, "creation_date": 1542829989, "last_edit_date": 1543411842, "question_id": 53419584, "link": "https://stackoverflow.com/questions/53419584/place-image-to-alpha-channels-in-canvas", "title": "Place image to alpha channels in canvas", "body": "<p>I need to find top, left, max width and max height values of all transparent places in canvas.</p>\n\n<p><a href=\"http://jsfiddle.net/alperxx/t521jra4/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/alperxx/t521jra4/</a> (fiddle)</p>\n\n<p>I have 4 transparent place in canvas. but i can't detect true places. First alpha channel corners colour must be red. Next is: black, yellow and green. But my groups is not correct.</p>\n\n<p>If I complete the groups truely, every uploading photos will place to alpha places.</p>\n\n<p>My Processes are in comment.</p>\n\n<pre><code>    function alphaRatio(ctx) {\n      var pixelData = ctx.getImageData(0, 0, ctx.canvas.width, ctx.canvas.height);\n\n      const data = pixelData.data;\n      const pixel_groups = [];\n\n      var total = 0;\n      for (let i = 0, dx = 0; dx &lt; data.length; i++, dx = i &lt;&lt; 2) {\n        if (data[dx + 3] == 0) {\n          //First, I'm catching all transparent pixels.\n          total++;\n          var x = (dx / 4) % ctx.canvas.width;\n          var y = ~~((dx / 4) / ctx.canvas.width);\n\n          // if pixel after a last grouped item add to in.\n          var found = false;\n          if (pixel_groups.length) {\n            for (im = 0; im &lt; pixel_groups.length; im++) {\n              last_pixels = pixel_groups[im][pixel_groups[im].length - 1];\n              if (\n                last_pixels.x + 1 == x || last_pixels.x - 1 == x ||\n                last_pixels.y + 1 == y || last_pixels.y - 1 == y\n              ) {\n                found = true;\n                pixel_groups[im].push({\n                  x: x,\n                  y: y\n                });\n                break;\n              }\n            }\n          }\n          if (!found) {\n            pixel_groups.push([{\n              x: x,\n              y: y\n            }]);\n          }\n        }\n      }\n\n      // i grouped all them\n      if (pixel_groups.length) {\n        console.debug(pixel_groups);\n        for (i = 0; i &lt; pixel_groups.length; i++) {\n          var alphawidth = {};\n          var alphaheight = {};\n          for (im = 0; im &lt; pixel_groups[i].length; im++) {\n            //now lets calculate first pixel left and top for width and height \n            if (typeof(alphawidth['min']) === 'undefined') {\n              alphawidth['min'] = pixel_groups[i][im].x;\n              alphawidth['max'] = pixel_groups[i][im].x;\n            } else {\n              if (pixel_groups[i][im].x &lt; alphawidth['min']) {\n                alphawidth['min'] = pixel_groups[i][im].x;\n              }\n              if (pixel_groups[i][im].x &gt; alphawidth['max']) {\n                alphawidth['max'] = pixel_groups[i][im].x;\n              }\n            }\n\n            if (typeof(alphaheight['min']) === 'undefined') {\n              alphaheight['min'] = pixel_groups[i][im].y;\n              alphaheight['max'] = pixel_groups[i][im].y;\n            } else {\n              if (pixel_groups[i][im].y &lt; alphaheight['min']) {\n                alphaheight['min'] = pixel_groups[i][im].y;\n              }\n              if (pixel_groups[i][im].y &gt; alphaheight['max']) {\n                alphaheight['max'] = pixel_groups[i][im].y;\n              }\n            }\n          }\n\n          // update group key for only x y w h\n          pixel_groups[i] = {\n            x: pixel_groups[i][0].x,\n            y: pixel_groups[i][0].y,\n            w: alphawidth['max'] - alphawidth['min'],\n            h: alphaheight['max'] - alphaheight['min']\n          };\n        }\n\n        // for test alpha places put a colour all corners \n        for (i = 0; i &lt; pixel_groups.length; i++) {\n          var colour = ['red', 'black', 'yellow', 'green'];\n          canvas.add(new fabric.Circle({\n            left: pixel_groups[i].x,\n            top: pixel_groups[i].y,\n            radius: 4,\n            fill: colour[i],\n            originX: 'center',\n            originY: 'center',\n            hasControls: false\n          }));\n          canvas.add(new fabric.Circle({\n            left: pixel_groups[i].x + pixel_groups[i].w,\n            top: pixel_groups[i].y + pixel_groups[i].h,\n            radius: 4,\n            fill: colour[i],\n            originX: 'center',\n            originY: 'center',\n            hasControls: false\n          }));\n          canvas.add(new fabric.Circle({\n            left: pixel_groups[i].x + pixel_groups[i].w,\n            top: pixel_groups[i].y,\n            radius: 4,\n            fill: colour[i],\n            originX: 'center',\n            originY: 'center',\n            hasControls: false\n          }));\n\n          canvas.add(new fabric.Circle({\n            left: pixel_groups[i].x,\n            top: pixel_groups[i].y + pixel_groups[i].h,\n            radius: 4,\n            fill: colour[i],\n            originX: 'center',\n            originY: 'center',\n            hasControls: false\n          }));\n\n        }\n\n        return pixel_groups;\n      }\n      return false;\n    }\n</code></pre>\n"}, {"tags": ["javascript", "ajax", "google-chrome", "firefox", "mime-types"], "comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1542830404, "post_id": 53419555, "comment_id": 93713545, "body": "<i>This process may be repeated in a loop which is the reason for the synchronous ajax as the loop would need to be interrupted should the ajax call return an error of some kind.</i> Huh? Asynchronous calls can be aborted and can have <code>error</code> callbacks."}, {"owner": {"reputation": 161, "user_id": 8972079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64ceadcbc6d39c2202cf404725ac4e52?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/8972079/sam"}, "reply_to_user": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1542838713, "post_id": 53419555, "comment_id": 93716843, "body": "Right, but as I indicate the ajax call must return its data before the loop is repeated. Not only that but the user has no idea what&#39;s happening because chrome is not allowing anything to display. The server-side process can take some time to complete so I need to show something otherwise he&#39;ll think it&#39;s frozen. Firefox doesn&#39;t do that. Anything I add to a div&#39;s innerHTML appears instantly."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1542844922, "post_id": 53419555, "comment_id": 93718763, "body": "So, don&#39;t use a loop at all. Use a regular asynchronous AJAX call and separate the loop code into its own function. Then, in the success callback, call the function that used to be the loop body. Then, the browser won&#39;t become unresponsive and you won&#39;t perform the next task until the previous one is done."}, {"owner": {"reputation": 161, "user_id": 8972079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64ceadcbc6d39c2202cf404725ac4e52?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/8972079/sam"}, "reply_to_user": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1542888339, "post_id": 53419555, "comment_id": 93735144, "body": "Good advice but it doesn&#39;t answer the main point of the question: why is chrome behaving differently from firefox? Is it due to buffering (I read somewhere that chrome buffers 1K before displaying) and if so how can that be overcome? I&#39;d like an answer to that before I restructure my logic."}], "answers": [{"tags": [], "owner": {"reputation": 161, "user_id": 8972079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64ceadcbc6d39c2202cf404725ac4e52?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/8972079/sam"}, "is_accepted": false, "score": 0, "last_activity_date": 1543417648, "creation_date": 1543417648, "answer_id": 53522479, "question_id": 53419555, "link": "https://stackoverflow.com/questions/53419555/how-to-keep-google-chrome-from-buffering/53522479#53522479", "title": "How to keep google-chrome from buffering", "body": "<p>This is not so much an answer to my original question but given that nobody was able to answer it or even give me advice or point me in the right direction I reworked my code completely to eliminate client-side code with reliance on ajax for server-side processing. My solution relies almost entirely on server-side code with minimal client-side limited to messaging and informational visuals and no ajax. The fact that no solution was forthcoming from the community is a source of great disappointment as I've come to rely on stackoverflow for advice and examples. It begs the question: was it that nobody had the answer or that it was deemed answered?</p>\n"}], "owner": {"reputation": 161, "user_id": 8972079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64ceadcbc6d39c2202cf404725ac4e52?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/8972079/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546962758, "creation_date": 1542829838, "last_edit_date": 1546962758, "question_id": 53419555, "link": "https://stackoverflow.com/questions/53419555/how-to-keep-google-chrome-from-buffering", "title": "How to keep google-chrome from buffering", "body": "<p>I have a situation where I am calling a js function when a button is clicked in a php page, a hidden dialog is displayed and some data is painted in the dialog prior to issuing a series of synchronous ajax calls which generate SQL statements server-side. This process may be repeated in a loop which is the reason for the synchronous ajax as the loop would need to be interrupted should the ajax call return an error of some kind.</p>\n\n<p>My problem is that Chrome will not display the data prior to the ajax call whereas firefox will. I've tried setting the contentType method of the jqXHR Object to \"application/octet-stream\" but no luck. </p>\n\n<p>Here's the ajax code:</p>\n\n<pre><code> $.ajax({\n    async : false,\n    url : \"url\",\n    method : \"GET\", // redudntant, GET is the default\n    dataType : \"text\",\n    beforeSend : function(xhr) {\n        xhr.overrideMimeType(\"application/octet-stream;\");\n    },\n    success : function(data) {\n        // do stuff with data\n    }\n}).fail(function(xhr, status, error) {\n    // do stuff with error\n});\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "express", "checkbox", "sqlite"], "answers": [{"tags": [], "owner": {"reputation": 3, "user_id": 4493521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e72e0a54e9b91078f603279767a839b?s=128&d=identicon&r=PG&f=1", "display_name": "Bbleds", "link": "https://stackoverflow.com/users/4493521/bbleds"}, "is_accepted": false, "score": 0, "last_activity_date": 1542831520, "creation_date": 1542831520, "answer_id": 53419890, "question_id": 53419531, "link": "https://stackoverflow.com/questions/53419531/save-checked-chechbox-into-sqlite-database-with-javascript/53419890#53419890", "title": "Save checked Chechbox into sqlite database with javascript", "body": "<p>Your server.js file should usually work data that has been <a href=\"https://fullstack-developer.academy/how-do-you-extract-post-data-in-node-js/\" rel=\"nofollow noreferrer\">posted</a> from your form. Process should look something like:</p>\n\n<ol>\n<li>Display front end form</li>\n<li>Post front end form data to your server</li>\n<li>Manipulate or work with data on your server</li>\n<li>Send some response from your server back to the front end.</li>\n</ol>\n\n<p>In your case, instead of trying to look at DOM elements that would result from <code>document.getElementsByName (\"interesse\")</code>, you should probably be working with data stored on <code>res.body</code>. So that might look something like:</p>\n\n<pre><code>app.post('/first_steps', function(req, res) {\n    data = req.body.interesse;\n    db.run(`INSERT INTO interessen(interesse) VALUES (?)`, [data], function(err) {\n            return res.redirect('/profil');\n        });\n  }\n } \n});\n</code></pre>\n\n<p>Or something similar. Check out <a href=\"https://fullstack-developer.academy/how-do-you-extract-post-data-in-node-js/\" rel=\"nofollow noreferrer\">this</a> article for an example of getting post data, and then look at the data being posted from your form in a console log like</p>\n\n<pre><code> var postBody = req.body;\n console.log(postBody);\n</code></pre>\n\n<p>(That console log output will be in whatever terminal your express server is running in)</p>\n"}], "owner": {"reputation": 3, "user_id": 10652095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GQmE0.jpg?s=128&g=1", "display_name": "Joseffa Steuernagel", "link": "https://stackoverflow.com/users/10652095/joseffa-steuernagel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542831520, "creation_date": 1542829736, "question_id": 53419531, "link": "https://stackoverflow.com/questions/53419531/save-checked-chechbox-into-sqlite-database-with-javascript", "title": "Save checked Chechbox into sqlite database with javascript", "body": "<p>I have a form in my ejs with several checkboxes. In the application the user should be able to choose his interests by checking the checkboxes and this should be saved into a sqlite Database table. \nI'm building the table via bootstrap:</p>\n\n<pre><code>db.exec('CREATE TABLE interests(interest text)');\n</code></pre>\n\n<p>(not sure which type to choose, so I set it to \"text\", but this is probably wrong?).\nMy Form looks like this</p>\n\n<pre><code>&lt;form name=\"first_steps\" action=\"first_steps\" method=\"post\"&gt;\n  &lt;ul&gt;\n    &lt;li&gt;\n        &lt;input type=\"checkbox\" name=\"interesse\" value=\"theater\" id=\"check1\"&gt;Theater&lt;/label&gt;\n    &lt;/li&gt;\n    &lt;li&gt;\n        &lt;input type=\"checkbox\" name=\"interesse\" value=\"musik\" id=\"check2\"&gt;Musik&lt;/label&gt;\n    &lt;/li&gt;\n    &lt;li&gt;\n        &lt;input type=\"checkbox\" name=\"interesse\" value=\"party\" id=\"check3\"&gt;Party&lt;/label&gt;\n    &lt;/li&gt;\n    &lt;li&gt;\n        &lt;input type=\"checkbox\" name=\"interesse\" value=\"sport\" id=\"check4\"&gt;Sport&lt;/label&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n&lt;input type=\"submit\" value=\"submit\"&gt;\n</code></pre>\n\n<p></p>\n\n<p>I found this Article <a href=\"https://stackoverflow.com/questions/21114407/save-result-checkboxes-checked-in-form-into-sqlite-database-with-javascript\">Save result checkboxes checked in form into sqlite database with javascript</a> and tried to convert this into my server.js</p>\n\n<p>(Something like this </p>\n\n<pre><code>app.post('/first_steps', function(req, res) {\nvar elementen = document.getElementsByName (\"interesse\");\nvar tmpChoise;\nfor (var r= 0; r &lt; elementen.length; r++) {\n    if (elementen[r].checked) {\n    tmpChoise = elementen[r].value;\n    alert(tmpChoise);\n    db.run(`INSERT INTO interessen(interesse) VALUES (?)`, [interesse], function(err) {\n            return res.redirect('/profil');\n        });\n  }\n } \n});\n</code></pre>\n\n<p>but this doesn't work. It says \"ReferenceError: document is not defined\").</p>\n\n<p>Can someone tell me how the right code would look like? I'm a bloody beginner and couldn't really figure anything out.</p>\n\n<p>(Javascript, express, sqlite3, node.js)</p>\n"}, {"tags": ["javascript", "node.js", "express"], "comments": [{"owner": {"reputation": 11736, "user_id": 1987838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2tIuS.jpg?s=128&g=1", "display_name": "Hackerman", "link": "https://stackoverflow.com/users/1987838/hackerman"}, "edited": false, "score": 0, "creation_date": 1542830202, "post_id": 53419482, "comment_id": 93713460, "body": "Hi @Roberto, it seems that you are from Chile, and me too :) ...what I think it&#39;s the cause of that issue are some misconceptions on how to serve nodejs content. You are using <code>express</code> and <code>http</code> together and you shouldn&#39;t. You should use <code>express</code> or <code>http</code>, since <code>express</code> uses the http module under the hood. You should have <code>app.listen</code> and that&#39;s it. Please take a look at this Q&amp;A for more clarification: <a href=\"https://stackoverflow.com/questions/35167824/difference-between-a-server-with-http-createserver-and-a-server-using-express-in\" title=\"difference between a server with http createserver and a server using express in\">stackoverflow.com/questions/35167824/&hellip;</a>"}, {"owner": {"reputation": 11736, "user_id": 1987838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2tIuS.jpg?s=128&g=1", "display_name": "Hackerman", "link": "https://stackoverflow.com/users/1987838/hackerman"}, "edited": false, "score": 0, "creation_date": 1542830226, "post_id": 53419482, "comment_id": 93713467, "body": "Also <a href=\"https://developer.mozilla.org/es/docs/Learn/Server-side/Express_Nodejs/Introduction\" rel=\"nofollow noreferrer\">developer.mozilla.org/es/docs/Learn/Server-side/Express_Node&zwnj;&#8203;js/&hellip;</a>"}, {"owner": {"reputation": 81, "user_id": 10576140, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Enp0XIcgdMw/AAAAAAAAAAI/AAAAAAAAAKE/zpFgfitDLzk/photo.jpg?sz=128", "display_name": "Roberto Matus", "link": "https://stackoverflow.com/users/10576140/roberto-matus"}, "reply_to_user": {"reputation": 11736, "user_id": 1987838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2tIuS.jpg?s=128&g=1", "display_name": "Hackerman", "link": "https://stackoverflow.com/users/1987838/hackerman"}, "edited": false, "score": 0, "creation_date": 1542830981, "post_id": 53419482, "comment_id": 93713784, "body": "thank you @Hackerman for those tips, bit still causing to run the middleware  twice. it runs before showing the response and after it."}, {"owner": {"reputation": 11736, "user_id": 1987838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2tIuS.jpg?s=128&g=1", "display_name": "Hackerman", "link": "https://stackoverflow.com/users/1987838/hackerman"}, "edited": false, "score": 0, "creation_date": 1542831180, "post_id": 53419482, "comment_id": 93713867, "body": "Mira Roberto, lo que pasa es que est&#225;s usando estas dos cosas para hacer lo mismo <code>const express = require(&#39;express&#39;); const http = require(&#39;http&#39;);</code>. Ac&#225; s&#243;lo debieses usar express y no los dos. Por ejemplo, la escoba te queda en esta l&#237;nea <code>var server = http.createServer(app);</code>...eso est&#225; super mal. Express no necesita del m&#243;dulo <code>http</code>, el ya lo usa en el background, me captas?"}, {"owner": {"reputation": 81, "user_id": 10576140, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Enp0XIcgdMw/AAAAAAAAAAI/AAAAAAAAAKE/zpFgfitDLzk/photo.jpg?sz=128", "display_name": "Roberto Matus", "link": "https://stackoverflow.com/users/10576140/roberto-matus"}, "reply_to_user": {"reputation": 11736, "user_id": 1987838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2tIuS.jpg?s=128&g=1", "display_name": "Hackerman", "link": "https://stackoverflow.com/users/1987838/hackerman"}, "edited": false, "score": 1, "creation_date": 1542831412, "post_id": 53419482, "comment_id": 93713961, "body": "@Hackerman si te entiendo perfectamente  y lo modifiqu&#233; solo para usar express y continua ejecut&#225;ndose 2 veces."}, {"owner": {"reputation": 11736, "user_id": 1987838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2tIuS.jpg?s=128&g=1", "display_name": "Hackerman", "link": "https://stackoverflow.com/users/1987838/hackerman"}, "edited": false, "score": 0, "creation_date": 1542831783, "post_id": 53419482, "comment_id": 93714137, "body": "Just for testing purposes, stop the nodejs server and try again...ps: se ve excelente el juego y en steam, congrats!"}, {"owner": {"reputation": 81, "user_id": 10576140, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Enp0XIcgdMw/AAAAAAAAAAI/AAAAAAAAAKE/zpFgfitDLzk/photo.jpg?sz=128", "display_name": "Roberto Matus", "link": "https://stackoverflow.com/users/10576140/roberto-matus"}, "reply_to_user": {"reputation": 11736, "user_id": 1987838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2tIuS.jpg?s=128&g=1", "display_name": "Hackerman", "link": "https://stackoverflow.com/users/1987838/hackerman"}, "edited": false, "score": 1, "creation_date": 1542832275, "post_id": 53419482, "comment_id": 93714321, "body": "@Hackerman still, i&#39;m going to try adding a simple middleware, maybe it has something to do with promises and next is being called twice.  The game looks amazing looking forward for next week launch!"}, {"owner": {"reputation": 11736, "user_id": 1987838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2tIuS.jpg?s=128&g=1", "display_name": "Hackerman", "link": "https://stackoverflow.com/users/1987838/hackerman"}, "edited": false, "score": 0, "creation_date": 1542832643, "post_id": 53419482, "comment_id": 93714485, "body": "That&#39;s the other hunch that I had....maybe some async promises related issue. Anyway, this question also helped you to have a better undertanding on express, imho. Glad to help :)"}, {"owner": {"reputation": 81, "user_id": 10576140, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Enp0XIcgdMw/AAAAAAAAAAI/AAAAAAAAAKE/zpFgfitDLzk/photo.jpg?sz=128", "display_name": "Roberto Matus", "link": "https://stackoverflow.com/users/10576140/roberto-matus"}, "reply_to_user": {"reputation": 11736, "user_id": 1987838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2tIuS.jpg?s=128&g=1", "display_name": "Hackerman", "link": "https://stackoverflow.com/users/1987838/hackerman"}, "edited": false, "score": 1, "creation_date": 1542928291, "post_id": 53419482, "comment_id": 93751483, "body": "@Hackerman found it!! it was a call to a favicon, thank you a lot for your time"}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 10576140, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Enp0XIcgdMw/AAAAAAAAAAI/AAAAAAAAAKE/zpFgfitDLzk/photo.jpg?sz=128", "display_name": "Roberto Matus", "link": "https://stackoverflow.com/users/10576140/roberto-matus"}, "is_accepted": true, "score": 7, "last_activity_date": 1542975210, "creation_date": 1542975210, "answer_id": 53446530, "question_id": 53419482, "link": "https://stackoverflow.com/questions/53419482/express-middleware-is-executed-twice/53446530#53446530", "title": "express middleware is executed twice", "body": "<p>Added this line of code in the middleware function to know what was the call.</p>\n\n<pre><code>console.log(req.method, req.path)\n</code></pre>\n\n<p>Turns out that was the call from the browser to the server to get the favicon that made express to call the middleware. </p>\n"}], "owner": {"reputation": 81, "user_id": 10576140, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Enp0XIcgdMw/AAAAAAAAAAI/AAAAAAAAAKE/zpFgfitDLzk/photo.jpg?sz=128", "display_name": "Roberto Matus", "link": "https://stackoverflow.com/users/10576140/roberto-matus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 936, "favorite_count": 0, "accepted_answer_id": 53446530, "answer_count": 1, "score": 1, "last_activity_date": 1542975210, "creation_date": 1542829525, "last_edit_date": 1542831100, "question_id": 53419482, "link": "https://stackoverflow.com/questions/53419482/express-middleware-is-executed-twice", "title": "express middleware is executed twice", "body": "<p>I wrote a middle ware that update some variable that I have in cache, so if the data is supposed to be expired it will updated but actually is happening twice and is not chrome, I'm using firefox.\nThis is my server js file(i commented mustache express as templates to be sure that it's not because of it):</p>\n\n<pre><code>const express = require('express') ;\n\nconst path = require('path');\nvar mustacheExpress = require('mustache-express');\nvar request = require('request');\nvar {updateAllDecks} = require('./utils/deck-request');\nvar cache = require('memory-cache');\n\nconst port = process.env.PORT || 3000;\nvar app = express();    \n\n// Register '.html' extension with The Mustache Express\napp.engine('html', mustacheExpress());\napp.set('view engine','mustache');\n\napp.set('views', __dirname + '/views');\n\n//const publicPath = path.join(__dirname, '/public');\n//app.use('/', express.static(publicPath));\n\napp.use(function (req, res, next) {\n  debugger;\n  updateAllDecks(next);\n})\n\napp.get('/', (req, res) =&gt; {\n     res.send('hola');\n});\n\napp.listen(port, () =&gt; {\n  console.log(`Server is up on port ${port}`);\n});\n</code></pre>\n\n<p>So when I go to '/' through the browser updateAllDecks() should be called:</p>\n\n<pre><code>var rp = require('request-promise-native');\nvar cache = require('memory-cache');\nvar {Deck} = require('../classes/deck');\nvar cacheDeck = require('./cache-decks');\nvar moment = require('moment');\n\n\nvar updateDeck =  async (set,resolve) =&gt; {\n  //console.log(`${cacheDeck.getCachedExpirationDate(set)}  &gt; ${moment(Date.now()).unix()}`);\n\n    if (cacheDeck.getCachedExpirationDate(set) &gt; moment(Date.now()).unix()) {\n      //let deck =  await getDeckCached(set);\n      console.log('Cached Deck Back');\n      resolve();\n\n    } else {\n      let url = `https://playartifact.com/cardset/${set}/`;\n      console.log('Getting URL');\n      response = await  rp({url:url, json: true});\n      var deck = new Deck(set, response.expire_time);\n      getDeckRequest(deck,response,resolve)\n\n    }\n\n\n}\n\nvar getDeckRequest =  async (deck, body,resolve) =&gt; {\n    console.log('Caching deck', deck);\n    response = await rp({url:body.cdn_root + body.url.substring(1), json: true});\n    deck.setName(response.card_set.set_info.name.english);\n    deck.setCards(response.card_set.card_list);\n    cacheDeck.addDeck(deck);\n    console.log(cacheDeck.getCachedDecksNames());\n    resolve();\n\n}\n\nvar getDeckCached = (id) =&gt; {\n  return new Promise((resolve,reject) =&gt;  {\n      resolve(cacheDeck.getCachedDeckById(id));\n  });\n}\n\nvar updateAllDecks = (callback) =&gt; {\n\n  let decks = [0,1];\n  var request = decks.map((deck) =&gt;  {\n    return new Promise( (resolve) =&gt; {\n       updateDeck(deck,resolve);\n    });\n\n  });\n\n  Promise.all(request).then(() =&gt; {\n    callback();\n    console.log('Finished');\n  });\n};\n\nmodule.exports = {updateAllDecks}\n</code></pre>\n\n<p>The callback(); in the updateAllDecks() Function is the next() call to advance to show the page.</p>\n"}, {"tags": ["javascript", "google-maps", "geometry", "distance", "haversine"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1542829803, "post_id": 53419464, "comment_id": 93713274, "body": "That is interesting.  Definitely a precision error or rounding error of some sort.  Or maybe something to do with the trig functions."}, {"owner": {"reputation": 162, "user_id": 6086481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pb7pY.jpg?s=128&g=1", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/6086481/alvaro"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1542831593, "post_id": 53419464, "comment_id": 93714049, "body": "I&#39;ve tried four different approaches and all of them return the very same point coordinates, always on the line but not the nearest/perpendicular to C."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1542831833, "post_id": 53419464, "comment_id": 93714154, "body": "If I were to guess, I&#39;d say that the precision error is occurring somewhere in here: <code>t = ((C.lat-A.lat)*(B.lat-A.lat)+(C.lng-A.lng)*(B.lng-A.lng))&#47;((&zwnj;&#8203;B.lat-A.lat)*(B.lat-&zwnj;&#8203;A.lat)+(B.lng-A.lng)&zwnj;&#8203;*(B.lng-A.lng));</code>"}, {"owner": {"reputation": 162, "user_id": 6086481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pb7pY.jpg?s=128&g=1", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/6086481/alvaro"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1542843701, "post_id": 53419464, "comment_id": 93718418, "body": "I&#39;ve been playing around in geogebra with the function and it&#39;s right! It always returns the exact perpendicular point so the error is when the google maps api places that point in the line. I honestly don&#39;t know why. I&#39;ve edited and put the geogebra link."}, {"owner": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "edited": false, "score": 1, "creation_date": 1542907466, "post_id": 53419464, "comment_id": 93745343, "body": "See this <a href=\"https://stackoverflow.com/a/53147219/3871028\">answer</a>, easy to port to javascript"}, {"owner": {"reputation": 162, "user_id": 6086481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pb7pY.jpg?s=128&g=1", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/6086481/alvaro"}, "reply_to_user": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "edited": false, "score": 0, "creation_date": 1542977915, "post_id": 53419464, "comment_id": 93767093, "body": "Thanks @Ripi2, I&#39;m not sure if this solves the problem with the point representation in Google Maps API but I bookmark your solution to improve the distance calculation."}, {"owner": {"reputation": 378, "user_id": 3989340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3790310fe9ffc65469420f586b758013?s=128&d=identicon&r=PG&f=1", "display_name": "Davidos", "link": "https://stackoverflow.com/users/3989340/davidos"}, "edited": false, "score": 0, "creation_date": 1618244804, "post_id": 53419464, "comment_id": 118538302, "body": "I&#39;m using this code, It works but could you please add explanation what is &#39;t&#39; and &#39;D&#39; and from where is it equation and why it works :)?"}], "answers": [{"comments": [{"owner": {"reputation": 162, "user_id": 6086481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pb7pY.jpg?s=128&g=1", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/6086481/alvaro"}, "edited": false, "score": 0, "creation_date": 1542876604, "post_id": 53423709, "comment_id": 93728147, "body": "Thanks @MBo, but the problem is before I use Haversine. In the <a href=\"http://jsfiddle.net/alvarop/yknL1h6t/\" rel=\"nofollow noreferrer\">fiddle</a> I don&#39;t even use it. I calculate the point with the get_perp() function, its coordinates are <i>euclideanly</i> right but when representing it in maps api it&#39;s not where it should."}, {"owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "reply_to_user": {"reputation": 162, "user_id": 6086481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pb7pY.jpg?s=128&g=1", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/6086481/alvaro"}, "edited": false, "score": 0, "creation_date": 1542878018, "post_id": 53423709, "comment_id": 93728919, "body": "Is saw that fiddle. Again - it is completely wrong to apply plane approaches to spherical coordinates. <code>get_perp()</code> is not valid here.  Also note that the shortest way between points on the earth is not straight line on the map (excuding equal longitude case)"}, {"owner": {"reputation": 162, "user_id": 6086481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pb7pY.jpg?s=128&g=1", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/6086481/alvaro"}, "edited": false, "score": 0, "creation_date": 1542879106, "post_id": 53423709, "comment_id": 93729595, "body": "I know you must be right, problem can&#39;t be other than plane/spherical discrepancy. But I can&#39;t see why google then paints any AB line as a straight line, shouldn&#39;t it be curved? And why if I put near AB points over a straight street and then choose a C  point over a perpendicular street it doesn&#39;t get it right either, even in very very short distances, where I suppose Earth curvature doesn&#39;t matter that much <a href=\"https://imgur.com/a/aKUNB7x\" rel=\"nofollow noreferrer\">image</a>."}, {"owner": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 0, "creation_date": 1542880069, "post_id": 53423709, "comment_id": 93730190, "body": "@MBo: IMO the distance between the points is not sufficient to explain the anomaly shown by the OP. We are inside a square of less than 1&#176;."}, {"owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "edited": false, "score": 0, "creation_date": 1542880080, "post_id": 53423709, "comment_id": 93730198, "body": "Shortest path is great circle arc, it should be curved for far points. But gmap draws connecting line straight on the map (not geodesics/loxodrome/smth else) - I checked for 9000 km airplane route"}, {"owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "reply_to_user": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 0, "creation_date": 1542880213, "post_id": 53423709, "comment_id": 93730308, "body": "@Yves Daoust But 1 degree arc length by longitude and latitude differs in cos(lat) times. It is one of possible reasons."}, {"owner": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 0, "creation_date": 1542881066, "post_id": 53423709, "comment_id": 93730828, "body": "@MBo: this effect is of the second order, on a delta of about 0.0045 radians."}, {"owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "reply_to_user": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 0, "creation_date": 1542881389, "post_id": 53423709, "comment_id": 93731045, "body": "@Yves Daoust But there might be another factors - projection does not show angles as-is and so on. So I think that  gmap picture cannot prove or disprove that calculation is correct/wrong."}, {"owner": {"reputation": 162, "user_id": 6086481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pb7pY.jpg?s=128&g=1", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/6086481/alvaro"}, "edited": false, "score": 0, "creation_date": 1542884020, "post_id": 53423709, "comment_id": 93732654, "body": "API lines are indeed great circle arcs <a href=\"http://jsfiddle.net/alvarop/uek1h05t/2/\" rel=\"nofollow noreferrer\">California-Morocco</a>, completely imperceptible in my case with less than 1&#39; lat difference from A to B, even less in long."}, {"owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "edited": false, "score": 0, "creation_date": 1542884478, "post_id": 53423709, "comment_id": 93732963, "body": "OK. Title says that your primary goal is to find correct distance from point to point-point line. Correct approach is described in my citation. Why GMap shows weird things?  - it is the secondary question, I hope."}, {"owner": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 0, "creation_date": 1542885179, "post_id": 53423709, "comment_id": 93733398, "body": "Exact phrasing is &quot;shortest to a line&quot;, not &quot;correct&quot;. So you should convert the points to 3D Cartesian coordinates and compute the Euclidean distance to a straight line, not to a great arc. ;-)"}, {"owner": {"reputation": 162, "user_id": 6086481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pb7pY.jpg?s=128&g=1", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/6086481/alvaro"}, "edited": false, "score": 0, "creation_date": 1542886383, "post_id": 53423709, "comment_id": 93734055, "body": "I just wanted to calculate the distance from any selected house to the beach, what I seemed to do right, problem came when I thought about representing that distance so the client knows how it was measured. Then I saw the angle wasn&#39;t right in the representation and I&#39;m thinking to just say &quot;xxx meters approx.&quot; and don&#39;t paint the line because... you know, lawyers :)"}], "tags": [], "owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "is_accepted": false, "score": 1, "last_activity_date": 1542865707, "last_edit_date": 1542865707, "creation_date": 1542859383, "answer_id": 53423709, "question_id": 53419464, "link": "https://stackoverflow.com/questions/53419464/shortest-distance-between-a-point-and-a-line-google-maps-api-issue/53423709#53423709", "title": "Shortest distance between a point and a line (Google Maps API issue?)", "body": "<p>You make your calculations using <strong>plane geometry</strong> approach but they are wrong for <strong>spherical geometry</strong>. (C.f.: note that you found distance with Haversine formula, not Pythagorean formula).</p>\n\n<p>At <a href=\"https://www.movable-type.co.uk/scripts/latlong.html\" rel=\"nofollow noreferrer\">this page</a> you can find algorithm and JS code to find cross-track distance and along-track distance (that might be used to find D point using bearing from the first point and this distance)</p>\n\n<pre><code>Cross-track distance\nHere\u2019s a new one: I\u2019ve sometimes been asked about distance of a\npoint from a great-circle path (sometimes called cross track\nerror).\n\nFormula:    dxt = asin( sin(\u03b413) \u22c5 sin(\u03b813\u2212\u03b812) ) \u22c5 R\nwhere   \u03b413 is (angular) distance from start point to third point\n\u03b813 is (initial) bearing from start point to third point\n\u03b812 is (initial) bearing from start point to end point\nR is the earth\u2019s radius\nJavaScript: \nvar \u03b413 = d13 / R;\nvar dXt = Math.asin(Math.sin(\u03b413)*Math.sin(\u03b813-\u03b812)) * R;\nHere, the great-circle path is identified by a start point and \nan end point \u2013 depending on what initial data you\u2019re working from,\nyou can use the formul\u00e6 above to obtain the relevant distance \nand bearings. The sign of dxt tells you which side of the path\nthe third point is on.\n\nThe along-track distance, from the start point to the closest \npoint on the path to the third point, is\n\nFormula:    dat = acos( cos(\u03b413) / cos(\u03b4xt) ) \u22c5 R\nwhere   \u03b413 is (angular) distance from start point to third point\n\u03b4xt is (angular) cross-track distance\nR is the earth\u2019s radius\nJavaScript: \nvar \u03b413 = d13 / R;\nvar dAt = Math.acos(Math.cos(\u03b413)/Math.cos(dXt/R)) * R;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 162, "user_id": 6086481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pb7pY.jpg?s=128&g=1", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/6086481/alvaro"}, "edited": false, "score": 0, "creation_date": 1542883053, "post_id": 53428321, "comment_id": 93732108, "body": "I googled it and it seems Google Maps changed the projection used 3 months ago. Now they use an azimuthal perspective projection (aka vertical perspective projection). Projection before was <a href=\"https://en.wikipedia.org/wiki/Web_Mercator_projection\" rel=\"nofollow noreferrer\">Web Mercator</a>. But I don&#39;t really know if  GMaps API still uses Mercator since if you zoom all the way out with the API you can&#39;t see the sphere of the Earth, as happens in Google Maps now."}, {"owner": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "reply_to_user": {"reputation": 162, "user_id": 6086481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pb7pY.jpg?s=128&g=1", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/6086481/alvaro"}, "edited": false, "score": 0, "creation_date": 1542884026, "post_id": 53428321, "comment_id": 93732657, "body": "@Alvaro: if you can display the meridians and parallels, you&#39;ll soon know."}, {"owner": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "reply_to_user": {"reputation": 162, "user_id": 6086481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pb7pY.jpg?s=128&g=1", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/6086481/alvaro"}, "edited": false, "score": 0, "creation_date": 1542885030, "post_id": 53428321, "comment_id": 93733307, "body": "IMO, correction for Earth curvature is unnecessary."}, {"owner": {"reputation": 162, "user_id": 6086481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pb7pY.jpg?s=128&g=1", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/6086481/alvaro"}, "edited": false, "score": 0, "creation_date": 1542887332, "post_id": 53428321, "comment_id": 93734601, "body": "Just saw your edit... so, this means vertical distances are represented longer than horizontal distances? If so, objects like street roundabouts shouldn&#39;t appear oval-shaped?"}, {"owner": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "reply_to_user": {"reputation": 162, "user_id": 6086481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pb7pY.jpg?s=128&g=1", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/6086481/alvaro"}, "edited": false, "score": 0, "creation_date": 1542897358, "post_id": 53428321, "comment_id": 93740151, "body": "@Alvaro: the red rectangle is 0.1&#176; lat and long."}], "tags": [], "owner": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "is_accepted": true, "score": 1, "last_activity_date": 1542884661, "last_edit_date": 1542884661, "creation_date": 1542880784, "answer_id": 53428321, "question_id": 53419464, "link": "https://stackoverflow.com/questions/53419464/shortest-distance-between-a-point-and-a-line-google-maps-api-issue/53428321#53428321", "title": "Shortest distance between a point and a line (Google Maps API issue?)", "body": "<p>As far as I can see, your formula for D is correct, and the linear approximation is justified at such a small scale (deltas about a quarter of a degree; relative errors due to non-linearity should be on the order of 10^-5).</p>\n\n<p>What you see can be due to the fact that the map projection is not conformant (does not preserve angles), so that the angle is not displayed as right. But the point is correct.</p>\n\n<p>Do you know which projection they use ?</p>\n\n<hr>\n\n<p>Bingo, the angle is right, just a display artifact due to the projection.</p>\n\n<p><a href=\"https://i.stack.imgur.com/u3nLL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u3nLL.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 162, "user_id": 6086481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pb7pY.jpg?s=128&g=1", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/6086481/alvaro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1255, "favorite_count": 2, "accepted_answer_id": 53428321, "answer_count": 2, "score": 0, "last_activity_date": 1542884661, "creation_date": 1542829436, "last_edit_date": 1542843869, "question_id": 53419464, "link": "https://stackoverflow.com/questions/53419464/shortest-distance-between-a-point-and-a-line-google-maps-api-issue", "title": "Shortest distance between a point and a line (Google Maps API issue?)", "body": "<p>I am trying to find the straight distance from a point C to the beach. Beach line is defined by points A and B and with the Haversine formula I get the distance from C (my marker in Google Maps) to a point D in the AB beach line perpendicular to C.</p>\n\n<p>Everything works fine but the point D is not the right one. I use this code to find D:</p>\n\n<pre><code>function get_perp(C){\n        var A = { lat:33.345678, lng:-117.518921 };\n        var B = { lat:33.100678, lng:-117.318492 };\n\n        t = ((C.lat-A.lat)*(B.lat-A.lat)+(C.lng-A.lng)*(B.lng-A.lng))/((B.lat-A.lat)*(B.lat-A.lat)+(B.lng-A.lng)*(B.lng-A.lng));\n\n        var D = { lat:0,lng:0};\n        D.lat = A.lat + t*(B.lat-A.lat);\n        D.lng = A.lng + t*(B.lng-A.lng);\n\n        return D;\n}\n</code></pre>\n\n<p>Returned D point is indeed a point on the line but it is not perpendicular to C. It is when the AB line is horizontal or vertical, but when it is not the angle between AB and CD is not right.</p>\n\n<p>I've tried another functions I've found here but all of them cause the same result.</p>\n\n<p>In this fiddle it is the whole process and if you zoom enough you can see the AB and CD lines are not perpendicular: <a href=\"http://jsfiddle.net/alvarop/yknL1h6t/\" rel=\"nofollow noreferrer\">Shortest distance from AB to C</a></p>\n\n<p>EDIT: playing with it in geogebra I can see the function is OK in finding the point. The error happens then when google maps api represents the point. <a href=\"https://www.geogebra.org/graphing/vwmchqyd\" rel=\"nofollow noreferrer\">Geogebra</a></p>\n"}, {"tags": ["javascript", "jquery", "json", "foreach", "average"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 1, "creation_date": 1542829503, "post_id": 53419463, "comment_id": 93713145, "body": "<i>I tried to add them to an array but not able to</i>  show us what you tried"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1542829544, "post_id": 53419463, "comment_id": 93713161, "body": "Otherwise, conceptually, you&#39;d set a variable to 0 before the forEach, add the values to it in the forEach, and after the forEach divide by the number of values."}, {"owner": {"reputation": 1678, "user_id": 2510939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NesRS.jpg?s=128&g=1", "display_name": "admcfajn", "link": "https://stackoverflow.com/users/2510939/admcfajn"}, "edited": false, "score": 0, "creation_date": 1542829659, "post_id": 53419463, "comment_id": 93713211, "body": "You would add them all together &amp; then divide them by the number of items. That&#39;s how you calculate the average of a set."}, {"owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1542829670, "post_id": 53419463, "comment_id": 93713220, "body": "The math is pretty basic. How many <code>Object.values()</code> are there? What&#39;s the total? How do you add numbers in javscript?"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1542829740, "post_id": 53419463, "comment_id": 93713246, "body": "Also, slight smell.  Your model variable is called &quot;values&quot;, but it appears to only have a single value in it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10354541"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1542829834, "post_id": 53419463, "comment_id": 93713291, "body": "@Taplar Ive added the array push"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10354541"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1542829861, "post_id": 53419463, "comment_id": 93713314, "body": "@Taplar I showed in the results that it has 4 values"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1542829905, "post_id": 53419463, "comment_id": 93713338, "body": "@newbierp that&#39;s four different console logs.  Each logging a single value originating from a variable of &quot;values&quot; on the <code>d</code>.  That&#39;s a smell"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1542830066, "post_id": 53419463, "comment_id": 93713404, "body": "The issue with your snippet is <code>var theArray = [];</code> is creating a new array every iteration.  Only create it once before the loop"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10354541"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1542830839, "post_id": 53419463, "comment_id": 93713726, "body": "@Taplar, makes sense! Thanks!!!"}], "answers": [{"tags": [], "owner": {"reputation": 1525, "user_id": 3892581, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dae32fcc936ef195027395d01c16680e?s=128&d=identicon&r=PG&f=1", "display_name": "Hodrobond", "link": "https://stackoverflow.com/users/3892581/hodrobond"}, "is_accepted": false, "score": 0, "last_activity_date": 1542829876, "creation_date": 1542829876, "answer_id": 53419565, "question_id": 53419463, "link": "https://stackoverflow.com/questions/53419463/calculate-average-of-json-values/53419565#53419565", "title": "Calculate Average of JSON Values", "body": "<p>Depends how you have your data structured, but an <code>Array.reduce</code> should get you the sum, and divide by the length for the average.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = {\r\n  a: {\r\n    values: 9892308,\r\n  },\r\n  b: {\r\n    values: 9894522,\r\n  },\r\n  c: {\r\n    values: 3298714,\r\n  },\r\n  something_weird: {\r\n    values: 3300055,\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\nconst sum = Object.values(data).reduce((acc, current) =&gt; acc + current.values, 0);\r\n\r\nconst average = sum / Object.values(data).length;\r\nconsole.log(average);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 0, "last_activity_date": 1542829887, "creation_date": 1542829887, "answer_id": 53419568, "question_id": 53419463, "link": "https://stackoverflow.com/questions/53419463/calculate-average-of-json-values/53419568#53419568", "title": "Calculate Average of JSON Values", "body": "<p>You could reduce the data by taking the nth (length) of the value and add it to the average in a single loop.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = { a: { values: 9892308 }, b: { values: 9894522 }, c: { values: 3298714 }, d: { values: 3300055 } },\r\n    average = Object\r\n        .values(data)\r\n        .reduce((avg, { values }, _, { length }) =&gt; avg + values / length, 0);\r\n        \r\nconsole.log(average);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10354541"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3128, "favorite_count": 0, "accepted_answer_id": 53419568, "answer_count": 2, "score": 0, "last_activity_date": 1542829887, "creation_date": 1542829423, "last_edit_date": 1542829817, "question_id": 53419463, "link": "https://stackoverflow.com/questions/53419463/calculate-average-of-json-values", "title": "Calculate Average of JSON Values", "body": "<p>I am trying to calculate the average of JSON values, I tried to add them to an array but not able to. Can someone please help?</p>\n\n<p>My code:</p>\n\n<pre><code>Object.values(data).forEach(d =&gt; {\n  var yo = d.values;\n  console.log(yo);\n});\n</code></pre>\n\n<p>My results:</p>\n\n<pre><code>9892308\n9894522\n3298714\n3300055\n</code></pre>\n\n<p>I need to calculate the average of these values. How do I do that?</p>\n\n<p>Code to push values in an array: </p>\n\n<pre><code>Object.values(data).forEach(d =&gt; {\n  var theArray = [];\n  var yo = d.values;\n  theArray = theArray.push(yo);\n  console.log(theArray);\n});\n</code></pre>\n\n<p>Result: </p>\n\n<pre><code>  1\n</code></pre>\n\n<p>I am not able to push the values for me to calculate the array.</p>\n"}, {"tags": ["javascript", "vue.js"], "comments": [{"owner": {"reputation": 1577, "user_id": 6864770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7e1f627ba11ff79ac58aeab31fc1f719?s=128&d=identicon&r=PG&f=1", "display_name": "Drostan", "link": "https://stackoverflow.com/users/6864770/drostan"}, "edited": false, "score": 0, "creation_date": 1542828969, "post_id": 53419363, "comment_id": 93712914, "body": "Btw, my code compiles okay"}, {"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1542829583, "post_id": 53419363, "comment_id": 93713182, "body": "Show the HTML that uses your <code>data()</code>. The one from <code>New.vue</code>."}, {"owner": {"reputation": 1577, "user_id": 6864770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7e1f627ba11ff79ac58aeab31fc1f719?s=128&d=identicon&r=PG&f=1", "display_name": "Drostan", "link": "https://stackoverflow.com/users/6864770/drostan"}, "reply_to_user": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1542829648, "post_id": 53419363, "comment_id": 93713204, "body": "&lt;template&gt;   &lt;div&gt;     &lt;h2&gt;Homepage&lt;/h2&gt;     &lt;item v-for=&quot;story in stories&quot; :key=&quot;story.data.id&quot; :story=&quot;story&quot;/&gt;   &lt;/div&gt; &lt;/template&gt;"}, {"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1542829700, "post_id": 53419363, "comment_id": 93713233, "body": "<code>&lt;item v-for=&quot;story in stories&quot; :key=&quot;story.data.id&quot; :story=&quot;story&quot; v-if=&quot;stories.length&quot; &#47;&gt;</code>"}, {"owner": {"reputation": 12805, "user_id": 1403714, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a5b424d4146905962a24acd6815aeb84?s=128&d=identicon&r=PG", "display_name": "Stephen Thomas", "link": "https://stackoverflow.com/users/1403714/stephen-thomas"}, "edited": false, "score": 0, "creation_date": 1542829902, "post_id": 53419363, "comment_id": 93713336, "body": "You have a <code>story</code> object without a <code>.data</code> property. Look at the JSON response to see what&#39;s up."}, {"owner": {"reputation": 1577, "user_id": 6864770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7e1f627ba11ff79ac58aeab31fc1f719?s=128&d=identicon&r=PG&f=1", "display_name": "Drostan", "link": "https://stackoverflow.com/users/6864770/drostan"}, "edited": false, "score": 0, "creation_date": 1542829932, "post_id": 53419363, "comment_id": 93713349, "body": "Okay, that might&#39;ve helped, however the error has changed to..."}, {"owner": {"reputation": 1577, "user_id": 6864770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7e1f627ba11ff79ac58aeab31fc1f719?s=128&d=identicon&r=PG&f=1", "display_name": "Drostan", "link": "https://stackoverflow.com/users/6864770/drostan"}, "edited": false, "score": 0, "creation_date": 1542829947, "post_id": 53419363, "comment_id": 93713360, "body": "---&gt; &lt;Item&gt; at src/components/Item.vue        &lt;Homepage&gt; at src/components/New.vue          &lt;App&gt; at src/App.vue            &lt;Root&gt;"}, {"owner": {"reputation": 1577, "user_id": 6864770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7e1f627ba11ff79ac58aeab31fc1f719?s=128&d=identicon&r=PG&f=1", "display_name": "Drostan", "link": "https://stackoverflow.com/users/6864770/drostan"}, "edited": false, "score": 0, "creation_date": 1542830096, "post_id": 53419363, "comment_id": 93713420, "body": "I&#39;m pulling in the data from HackerNews, so is there a problem there, with the json?"}, {"owner": {"reputation": 905, "user_id": 5330050, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4New3.jpg?s=128&g=1", "display_name": "Iskandar Reza", "link": "https://stackoverflow.com/users/5330050/iskandar-reza"}, "edited": false, "score": 1, "creation_date": 1542841753, "post_id": 53419363, "comment_id": 93717818, "body": "<code>if (!result.data) return</code>; should  handle the unexpected. Put that before processing the results in your success callback."}], "owner": {"reputation": 1577, "user_id": 6864770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7e1f627ba11ff79ac58aeab31fc1f719?s=128&d=identicon&r=PG&f=1", "display_name": "Drostan", "link": "https://stackoverflow.com/users/6864770/drostan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3864, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1542828915, "creation_date": 1542828915, "question_id": 53419363, "link": "https://stackoverflow.com/questions/53419363/vue-warn-error-in-render-typeerror-cannot-read-property-id-of-null", "title": "[Vue warn]: Error in render: &quot;TypeError: Cannot read property &#39;id&#39; of null&quot;", "body": "<p>I'm currently building a clone of HackerNews and am encountering the following error:</p>\n\n<pre><code>vue.esm.js?efeb:591 [Vue warn]: Error in render: \"TypeError: Cannot read property 'id' of null\"\n\nfound in\n\n---&gt; &lt;Homepage&gt; at src/components/New.vue\n       &lt;App&gt; at src/App.vue\n         &lt;Root&gt;\n</code></pre>\n\n<p>I'm not sure how this error is occuring! Has anyone out there encountered this before? \nDoes this mean the error is in New.vue? Here is that code:</p>\n\n<pre><code>&lt;script&gt;\nimport axios from 'axios'\nimport Item from '@/components/Item'\nexport default {\n  name: 'Homepage',\n  components: {\n    'item': Item\n  },\n  data: function () {\n    return {\n      err: '',\n      stories: []\n    }\n  },\n  created: function () {\n    axios.get('https://hacker-news.firebaseio.com/v0/newstories.json')\n      .then((result) =&gt; {\n        this.results = result.data.slice(0, 10)\n        this.results.forEach(element =&gt; {\n          axios.get('https://hacker-news.firebaseio.com/v0/item/' + element + '.json')\n            .then((result) =&gt; {\n              this.stories.push(result)\n            })\n            .catch((err) =&gt; {\n              console.log(err)\n            })\n        })\n      })\n      .catch((err) =&gt; { this.err = err })\n  }\n}\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "php"], "comments": [{"owner": {"reputation": 1000, "user_id": 5297281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh3.googleusercontent.com/-tuLq7hkdAU8/AAAAAAAAAAI/AAAAAAAAAAs/GD0n66bWVoM/photo.jpg?sz=128", "display_name": "Puya Sarmidani", "link": "https://stackoverflow.com/users/5297281/puya-sarmidani"}, "edited": false, "score": 0, "creation_date": 1542829332, "post_id": 53419341, "comment_id": 93713080, "body": "If i understand your question correctly you need to check the selected value not the value see this example var optionSelected = $(&quot;option:selected&quot;, this);  VS var valueSelected = this.value;`"}, {"owner": {"reputation": 3132, "user_id": 3960815, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QKWIX.jpg?s=128&g=1", "display_name": "basic", "link": "https://stackoverflow.com/users/3960815/basic"}, "edited": false, "score": 0, "creation_date": 1542829683, "post_id": 53419341, "comment_id": 93713227, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/610336/retrieving-the-text-of-the-selected-option-in-select-element\">Retrieving the text of the selected &lt;option&gt; in &lt;select&gt; element</a>"}, {"owner": {"reputation": 286, "user_id": 5749464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91c9b63a2552cfe24e60add27e317703?s=128&d=identicon&r=PG&f=1", "display_name": "J. Schmale", "link": "https://stackoverflow.com/users/5749464/j-schmale"}, "edited": false, "score": 0, "creation_date": 1542829886, "post_id": 53419341, "comment_id": 93713324, "body": "As Puya described you need to get the value of the selected option. See this SO article: <a href=\"https://stackoverflow.com/questions/1085801/get-selected-value-in-dropdown-list-using-javascript\" title=\"get selected value in dropdown list using javascript\">stackoverflow.com/questions/1085801/&hellip;</a>"}, {"owner": {"reputation": 6486, "user_id": 1116230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55a894894150db28d6641f0c57e48bac?s=128&d=identicon&r=PG", "display_name": "Nico Haase", "link": "https://stackoverflow.com/users/1116230/nico-haase"}, "edited": false, "score": 0, "creation_date": 1542829900, "post_id": 53419341, "comment_id": 93713332, "body": "Can you at least clarify where the problem exactly is? If there is some problem reading out a selected item in the browser, the problem is in no way related to PHP. If the markup is not generated properly, the problem is in no way related to JS"}, {"owner": {"reputation": 11799, "user_id": 754119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NEeio.jpg?s=128&g=1", "display_name": "Alon Eitan", "link": "https://stackoverflow.com/users/754119/alon-eitan"}, "edited": false, "score": 0, "creation_date": 1542830246, "post_id": 53419341, "comment_id": 93713478, "body": "Why are you doing <code>document.getElementById (&#39;availabilityChoice&#39;).innerHTML = val;</code>? Why are you trying to replace the inner HTML of the select element with its value?"}, {"owner": {"reputation": 461, "user_id": 10608322, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-npZqFUbLqYc/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDz26XacBfNbjjiwyL4S-AXdm1N7Q/mo/photo.jpg?sz=128", "display_name": "Rolvernew", "link": "https://stackoverflow.com/users/10608322/rolvernew"}, "edited": false, "score": 0, "creation_date": 1542830537, "post_id": 53419341, "comment_id": 93713609, "body": "Can you show us how/where the <code>$rowrentals[&quot;id&quot;]</code> variable is set in you php file?"}, {"owner": {"reputation": 11, "user_id": 10687678, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2QaGw2nMPfM/AAAAAAAAAAI/AAAAAAAADto/DDdyhTLQSuU/photo.jpg?sz=128", "display_name": "Joshua Stokes", "link": "https://stackoverflow.com/users/10687678/joshua-stokes"}, "edited": false, "score": 0, "creation_date": 1542851932, "post_id": 53419341, "comment_id": 93720193, "body": "The Javascript is working to retrieve the value of the selected item. My problem is the value of Id. I updated my post to show where $rowrentals[&quot;id&quot;] is coming from."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10687678, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2QaGw2nMPfM/AAAAAAAAAAI/AAAAAAAADto/DDdyhTLQSuU/photo.jpg?sz=128", "display_name": "Joshua Stokes", "link": "https://stackoverflow.com/users/10687678/joshua-stokes"}, "edited": false, "score": 0, "creation_date": 1542853999, "post_id": 53419589, "comment_id": 93720641, "body": "I tried to replace the double quotes with single quotes like you suggested. But it doesn&#39;t change a thing. Like you said my problem is to extract the value from the loop and I do not know how."}], "tags": [], "owner": {"reputation": 41, "user_id": 2827359, "user_type": "registered", "profile_image": "https://graph.facebook.com/577642276/picture?type=large", "display_name": "Erdem Medre", "link": "https://stackoverflow.com/users/2827359/erdem-medre"}, "is_accepted": false, "score": 0, "last_activity_date": 1542830008, "creation_date": 1542830008, "answer_id": 53419589, "question_id": 53419341, "link": "https://stackoverflow.com/questions/53419341/php-and-javascript-issue-function-return-always-the-last-value/53419589#53419589", "title": "PHP and Javascript issue. Function return always the last value", "body": "<p>Try with this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction showSelected(val){\n    document.getElementById ('availabilityChoice').innerHTML = val;\n    window.location.replace(\"status-update.php?rented=\" + val + \"&amp;id=&lt;?php echo ($rowrentals['id']) ?&gt;\");\n}\n</code></pre>\n\n<p></p>\n\n<p>If showSelected javascript function inside a foreach/while loop you need to extract it from loop and send id+value at the same time to showSelected function.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10687678, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2QaGw2nMPfM/AAAAAAAAAAI/AAAAAAAADto/DDdyhTLQSuU/photo.jpg?sz=128", "display_name": "Joshua Stokes", "link": "https://stackoverflow.com/users/10687678/joshua-stokes"}, "is_accepted": false, "score": 0, "last_activity_date": 1542865936, "creation_date": 1542865936, "answer_id": 53424642, "question_id": 53419341, "link": "https://stackoverflow.com/questions/53419341/php-and-javascript-issue-function-return-always-the-last-value/53424642#53424642", "title": "PHP and Javascript issue. Function return always the last value", "body": "<p>Thank you everybody. I found my answer. I added a counter, so this create a different function name for each database Id.</p>\n\n<p>Here is the code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>$rentalquery = \"SELECT * FROM rentals WHERE $AvailabilityCondition ORDER BY region_name, rental_name\";\r\n$counter =0;\t\r\nif ($rentalresult = $link-&gt;query($rentalquery)) {\r\n    /* fetch associative array */\r\n    while ($rowrentals = $rentalresult-&gt;fetch_assoc()) {\r\n\t\t$NumberOfResults = $rentalresult-&gt;num_rows;\r\n\t$counter = $counter+1;\r\n?&gt;\r\n\r\n\t\r\n&lt;!-- ************************* This display a table with a short rental description (Region name - Rental name)\r\n****************************** with and EDIT link, a DELETE link and an AVAILABILITY selector. ******************* --&gt;\r\n&lt;div align=\"center\"&gt;\r\n&lt;table &gt;\r\n\t&lt;tr &gt;\r\n\t    &lt;td width=\"300\" &gt;\r\n\t\t&lt;?php echo ($rowrentals[\"region_name\"]).' - '.($rowrentals[\"rental_name\"]).'&lt;br/&gt;'; ?&gt;\t\r\n\t\t&lt;/td&gt;\r\n\t\t&lt;td width=\"50\"&gt;\r\n\t\t&lt;a href=\"rental-mod.php?id=&lt;?php echo ($rowrentals[\"id\"]) ?&gt;\"&gt;EDIT&lt;/a&gt;\r\n\t\t&lt;/td&gt;\r\n\t\t&lt;td width=\"100\" align=\"right\"&gt;\r\n\t\t\t\r\n\t\t&lt;!-- *********** This form display the actual availability state. On change, it updates the database **************** --&gt;\t\r\n\t\t&lt;form name=\"updateAvailability&lt;?php echo $counter ?&gt;\" method=POST\" class=\"form-horizontal\" &gt;\r\n\t\t\t\r\n\t\t\t&lt;select  onChange=\"showSelected&lt;?php echo $counter ;?&gt;(this.value)\"  id =\"availabilityChoice&lt;?php echo $counter ?&gt;\" name=\"availabilityChoice&lt;?php echo $counter ?&gt;\" style=\"width: auto\"&gt;\r\n\t\t\r\n\t\t\t&lt;option value=\"No\" &lt;?php if (($rowrentals[\"rented\"]) == \"No\") echo 'selected=\"selected\"' ?&gt;&gt;Available&lt;/option&gt;\r\n\t\t\r\n\t\t\t&lt;option value=\"Yes\" &lt;?php if (($rowrentals[\"rented\"]) == \"Yes\") echo 'selected=\"selected\"' ?&gt;&gt;Rented&lt;/option&gt;\r\n\t\t\t&lt;/select&gt;\r\n\t\t\r\n\t\t&lt;/form&gt;\r\n\t\t\t\r\n&lt;script type=\"text/javascript\"&gt;\r\n\tfunction showSelected&lt;?php echo $counter ;?&gt;(val){\r\n\t\tdocument.getElementById ('availabilityChoice&lt;?php echo $counter ;?&gt;').innerHTML = val;\r\n\t\twindow.location.replace(\"status-update.php?rented=\" + val + \"&amp;id=&lt;?php echo ($rowrentals[\"id\"]) ?&gt;\");\r\n\t}\r\n&lt;/script&gt;\t\u200b</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 11, "user_id": 10687678, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2QaGw2nMPfM/AAAAAAAAAAI/AAAAAAAADto/DDdyhTLQSuU/photo.jpg?sz=128", "display_name": "Joshua Stokes", "link": "https://stackoverflow.com/users/10687678/joshua-stokes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1542865936, "creation_date": 1542828814, "last_edit_date": 1542850117, "question_id": 53419341, "link": "https://stackoverflow.com/questions/53419341/php-and-javascript-issue-function-return-always-the-last-value", "title": "PHP and Javascript issue. Function return always the last value", "body": "<p>I searched this website and couldn't find an answer.\nI have a php page that display a dropdown list with 2 choices. When on change, a Javascript execute a function that opens a php page to update my database, sending the ID and another parameter with the URL. The problem is the ID value is always the same (the last of the list). Can you help me please, I am very new in PHP and Javascript. Thank you in advance. Here is the PHP code and the javascript:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>\t&lt;?php\r\n\t$AvailabilityCondition = \"1=1\";\r\n\t\r\n\tif ((isset($_POST[\"availabilityChoice\"])) &amp;&amp;  ($_POST[\"availabilityChoice\"] !== \"All\")){\r\n\t$AvailabilityCondition = \"rented = \".\"'\".$_POST[\"availabilityChoice\"].\"'\";\t\r\n\t}\r\n\t\t\t\t\r\n\t\t\t\r\n$rentalquery = \"SELECT * FROM rentals WHERE $AvailabilityCondition ORDER BY region_name, rental_name\";\r\n\r\n\t\t\t\t\r\n\t\r\nif ($rentalresult = $link-&gt;query($rentalquery)) {\r\n    /* fetch associative array */\r\n    while ($rowrentals = $rentalresult-&gt;fetch_assoc()) {\r\n\t\t$NumberOfResults = $rentalresult-&gt;num_rows;\r\n\t\r\n?&gt;\r\n\r\n\t\r\n\t\r\n\t\r\n\t\r\n\r\n&lt;!-- ************************* This display a table with a short rental description (Region name - Rental name)\r\n****************************** with and EDIT link, a DELETE link and an AVAILABILITY selector. ******************* --&gt;\r\n&lt;div align=\"center\"&gt;\r\n&lt;table &gt;\r\n\t&lt;tr &gt;\r\n\t    &lt;td width=\"300\" &gt;\r\n\t\t&lt;?php echo ($rowrentals[\"region_name\"]).' - '.($rowrentals[\"rental_name\"]).'&lt;br/&gt;'; ?&gt;\t\r\n\t\t&lt;/td&gt;\r\n\t\t&lt;td width=\"50\"&gt;\r\n\t\t&lt;a href=\"rental-mod.php?id=&lt;?php echo ($rowrentals[\"id\"]) ?&gt;\"&gt;EDIT&lt;/a&gt;\r\n\t\t&lt;/td&gt;\r\n\t\t&lt;td width=\"100\" align=\"right\"&gt;\r\n\t\t\t\r\n\t\t&lt;!-- *********** This form display the actual availability state. On change, it updates the database **************** --&gt;\t\r\n\t\t&lt;form name=\"updateAvailability\" method=POST\" class=\"form-horizontal\" &gt;\r\n\t\t\t\r\n\t\t\t&lt;select  onChange=\"showSelected(this.value)\"  id =\"availabilityChoice\" name=\"availabilityChoice\" style=\"width: auto\"&gt;\r\n\t\t\r\n\t\t\t&lt;option value=\"No\" &lt;?php if (($rowrentals[\"rented\"]) == \"No\") echo 'selected=\"selected\"' ?&gt;&gt;Available&lt;/option&gt;\r\n\t\t\r\n\t\t\t&lt;option value=\"Yes\" &lt;?php if (($rowrentals[\"rented\"]) == \"Yes\") echo 'selected=\"selected\"' ?&gt;&gt;Rented&lt;/option&gt;\r\n\t\t\t&lt;/select&gt; &lt;?php echo ($rowrentals[\"id\"]) ?&gt;\r\n\t\t\r\n\t\t&lt;/form&gt;\r\n\t\t\t\r\n&lt;script type=\"text/javascript\"&gt;\r\n\tfunction showSelected(val){\r\n\t\tdocument.getElementById ('availabilityChoice').innerHTML = val;\r\n\t\twindow.location.replace(\"status-update.php?rented=\" + val + \"&amp;id=&lt;?php echo ($rowrentals[\"id\"]) ?&gt;\");\r\n\t}\r\n&lt;/script&gt;\t\r\n\r\n\r\n\r\n\t\t&lt;!-- **************************************************************************************************************** --&gt;\r\n\t\t&lt;/td&gt;\r\n\t\t&lt;td&gt;\r\n\t\t&lt;a href=\"rental-delete.php?id=&lt;?php echo ($rowrentals[\"id\"])?&gt;\" onclick=\"return confirm('Are you sure? This CAN NOT be undone!')\"&gt;!!! DELETE !!!&lt;/a&gt;\r\n\t\t&lt;/td&gt;\r\n\t&lt;/tr&gt;\r\n&lt;/table&gt;\r\n&lt;/div&gt;\t\r\n\r\n        \r\n &lt;?php \r\n\t}}\t\r\n\r\n\t\t\t\t\r\n\t\t\t\t\r\n    /* free result set */\r\n    $rentalresult-&gt;free();\r\n\r\n/* close connection */\r\n$link-&gt;close();\r\n\t?&gt;\t\r\n\t\r\n&lt;br/&gt;&lt;br/&gt;\r\n&lt;div align=\"center\"&gt;\r\n\t&lt;a href=\"index.php\"&gt;&lt;b&gt;Back to Managers Main Menu&lt;/b&gt;&lt;/a&gt;\r\n\t&lt;/div&gt;\r\n\r\n&lt;/body&gt;\t\u200b</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I just posted more of my PHP page. So you can see the query and the WHILE, where $rowrentals[\"id\"] is coming from. </p>\n\n<p>Here is also a screen capture of how the page looks like: <a href=\"https://i.stack.imgur.com/9PdGJ.png\" rel=\"nofollow noreferrer\">screen capture</a></p>\n\n<p>I echoed the $rowrentals[\"id\"] under each availability dropdown.\nBut whatever row I chose to change the availability, it always pass Id=9, the last one. That is what confuses me.</p>\n\n<p>Before the screen capture, all five rows where \"Available\". Then I selected \"Rented\" on the first row. The page updated and since Id always =9, you can see the last row \"Rented\".</p>\n\n<p>The Javascript is working to retrieve the value of the selected item. Because it opens this page perfectly:  status-update.php?rented=Yes&amp;Id=9\nBut again, Id is always 9...</p>\n"}]