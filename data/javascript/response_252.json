[{"tags": ["javascript", "webpack", "jestjs", "webpack-file-loader"], "comments": [{"owner": {"reputation": 848, "user_id": 115495, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bb1065979aa25b47e4c65d3648531a83?s=128&d=identicon&r=PG", "display_name": "stralsi", "link": "https://stackoverflow.com/users/115495/stralsi"}, "edited": false, "score": 0, "creation_date": 1575384091, "post_id": 58740088, "comment_id": 104543348, "body": "I have the same problem, our code is using <code>webpack-resolver</code> and we&#39;re using jest for testing. The problem is jest (at least in our configuration) is not using webpack to resolve modules. And it has no implementation of <code>file-loader</code> which is a webpack feature"}], "answers": [{"tags": [], "owner": {"reputation": 103, "user_id": 3444127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b27659319ef29ef4fa13480da360be7b?s=128&d=identicon&r=PG", "display_name": "BlueFlyExcavator", "link": "https://stackoverflow.com/users/3444127/blueflyexcavator"}, "is_accepted": false, "score": 5, "last_activity_date": 1599449996, "last_edit_date": 1599449996, "creation_date": 1580161072, "answer_id": 59939267, "question_id": 58740088, "link": "https://stackoverflow.com/questions/58740088/file-loader-with-jest-and-webpack-gives-me-a/59939267#59939267", "title": "file-loader with jest and webpack gives me a", "body": "<p>I added: <code>&quot;ace-builds&quot;: &quot;&lt;rootDir&gt;/node_modules/ace-builds&quot;</code> in <code>Jest</code> <code>moduleNameMapper</code>, and it worked for me.</p>\n"}], "owner": {"reputation": 439, "user_id": 3399767, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/fhW1I.jpg?s=128&g=1", "display_name": "Ruegen", "link": "https://stackoverflow.com/users/3399767/ruegen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 673, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1599449996, "creation_date": 1573084612, "last_edit_date": 1573110548, "question_id": 58740088, "link": "https://stackoverflow.com/questions/58740088/file-loader-with-jest-and-webpack-gives-me-a", "title": "file-loader with jest and webpack gives me a", "body": "<p>I am using ace code editor package which uses a webpack-resolver.js file in its package that has inline <code>file-loader!</code> in each require statement\ne.g.</p>\n\n<p>This works fine for my webpack config and everything builds fine when using it however when I go to use jest, it isn't recognizing the file-loader! and fails</p>\n\n<pre><code>require('file-loader!./src-noconflict/ext-beautify.js')\n</code></pre>\n\n<p>Is there something in the jest config to fix this?</p>\n\n<p>I get the following error</p>\n\n<pre><code> Cannot find module 'file-loader!./src-noconflict/ext-beautify.js' from 'webpack-resolver.js'\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "react-hooks", "react-hook-form"], "comments": [{"owner": {"reputation": 985, "user_id": 5594492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac1e8866226fb038d2222eca991ea23a?s=128&d=identicon&r=PG&f=1", "display_name": "Safi Nettah", "link": "https://stackoverflow.com/users/5594492/safi-nettah"}, "edited": false, "score": 0, "creation_date": 1573117296, "post_id": 58740073, "comment_id": 103779265, "body": "you showing all the code ? because it&#39;s looks good"}, {"owner": {"reputation": 778, "user_id": 13798886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b419a7d78aafd4a59cb8724c02994c9?s=128&d=identicon&r=PG&f=1", "display_name": "jpmarks", "link": "https://stackoverflow.com/users/13798886/jpmarks"}, "edited": false, "score": 0, "creation_date": 1593755703, "post_id": 58740073, "comment_id": 110895155, "body": "What is Techniques exactly? It seems like its missing to return some html and its missing a closing }. Im also very ocnfused on why you have your App component in here and only export the Techniques Component by default with the router. The whole structure of those componnets seem to be incomplete and very confusing. Can you share a codePen or CodeSandbox?"}], "answers": [{"tags": [], "owner": {"reputation": 13505, "user_id": 409275, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/c8QD2.jpg?s=128&g=1", "display_name": "Bill", "link": "https://stackoverflow.com/users/409275/bill"}, "is_accepted": false, "score": 2, "last_activity_date": 1577769083, "creation_date": 1577769083, "answer_id": 59539847, "question_id": 58740073, "link": "https://stackoverflow.com/questions/58740073/react-hooks-at-the-top-level-of-a-multi-page-form-built-with-react-hook-form/59539847#59539847", "title": "React Hooks at the top level of a multi page form built with react-hook-form", "body": "<p>I would recommend build pages into multiple routes and with each page submit your data into a local store: <code>redux</code>, <code>mobx</code>, <code>little-state-machine</code> and ect... at last you can submit all your data into a service.</p>\n\n<p><strong>your routes:</strong></p>\n\n<pre><code>&lt;Routes&gt;\n  &lt;Page1 /&gt;\n  &lt;Page2 /&gt;\n&lt;/Routes&gt;\n</code></pre>\n\n<p><strong>your individual page:</strong></p>\n\n<pre><code>const Page1 = (props) =&gt; {\n  const { register, handleSubmit } = useForm();\n\n  const onSubmit = (data) =&gt; {\n    // update your data into your store\n    props.history.push('/page2')    \n  }\n\n  return &lt;form onSubmit={handleSubmit(onSubmit)}&gt;\n    &lt;input name=\"data\" ref={register} /&gt;\n   &lt;/form&gt;\n}\n</code></pre>\n\n<p>As reference you can refer to our documentation website as well:</p>\n\n<p><a href=\"https://react-hook-form.com/advanced-usage#WizardFormFunnel\" rel=\"nofollow noreferrer\">https://react-hook-form.com/advanced-usage#WizardFormFunnel</a></p>\n"}], "owner": {"reputation": 3634, "user_id": 2860931, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/968ddbc21b4695b3fba4665b69d231b5?s=128&d=identicon&r=PG&f=1", "display_name": "Mel", "link": "https://stackoverflow.com/users/2860931/mel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2542, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1577769083, "creation_date": 1573084491, "last_edit_date": 1575960672, "question_id": 58740073, "link": "https://stackoverflow.com/questions/58740073/react-hooks-at-the-top-level-of-a-multi-page-form-built-with-react-hook-form", "title": "React Hooks at the top level of a multi page form built with react-hook-form", "body": "<p>I'm trying to use a react-hook-form which is a multi step form and where one of the steps has a conditional <code>form field</code>.</p>\n\n<p>The condition on the field is that a <code>boolean</code> attribute is true. If it is true, I want to display a set of questions relating to that attribute.</p>\n\n<p>I have found this <a href=\"https://codesandbox.io/s/react-hook-fom-unregister-controlled-component-hu990\" rel=\"nofollow noreferrer\">example</a>, and I have tried to follow the logic of it in my attempt, which is set out below:    </p>\n\n<pre><code>import React, { useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport useForm from \"react-hook-form\";\nimport { withRouter } from \"react-router-dom\";\nimport { useStateMachine } from \"little-state-machine\";\nimport updateAction from \"./updateAction\";\n\n\n\n\nconst Techniques = props =&gt; {\n  const { register, unregister, handleSubmit, setValue, watch, errors } = useForm();\n  const { action } = useStateMachine(updateAction);\n  const onSubit = data =&gt; {\n    action(data);\n    props.history.push(\"./ProposalInnovation\");\n  };\n\nconst fundingOffer = watch(\"fundingOffer\");\n\nconst CustomInput = React.memo(({ register, unregister, setValue, fundingOffer }) =&gt; {\n  useEffect(() =&gt; {\n    register({ fundingOffer });\n\n    return () =&gt; unregister(fundingOffer);\n  }, [fundingOffer, register, unregister]);\n  return &lt;input onChange={e =&gt; setValue(fundingOffer, e.target.value)} /&gt;;\n});\n\nfunction App() {\n  const { register, unregister, handleSubmit, setValue, watch } = useForm();\n  const fundingOffer = watch(\"fundingOffer\");\n\n\n  return (\n\n    &lt;div&gt;\n      &lt;form onSubmit={handleSubmit(onSubit)}&gt;\n\n        &lt;label&gt;Test for condition:&lt;/label&gt;\n        &lt;radio \n          ref={register} \n          name=\"fundingOffer\"\n\n        /&gt;\n\n        &lt;label&gt;Conditional Field:&lt;/label&gt;\n        {fundingOffer == true &amp;&amp; (\n          &lt;CustomInput {...{ register, unregister, setValue, fundingOffer: false }} /&gt;\n        )}\n\n\n\n        &lt;input type=\"submit\" value=\"next\" /&gt;    \n\n\n\n\n      &lt;/form&gt;\n\n    &lt;/div&gt;  \n  );\n};\n};\n\nexport default withRouter(Techniques);\n</code></pre>\n\n<p>When I try this in my code, I get an error that says:</p>\n\n<p>React Hook <code>useEffect</code> cannot be called inside a callback. React Hooks must be called in a React function component or a custom React Hook function</p>\n\n<p>I think the problem is that I have used the hook inside the multi step form - so maybe that counts as not being at the top level (when I'm a few steps into my multi step form).</p>\n\n<p>Does anyone know how to use conditional logic in hooks in this form construct?</p>\n"}, {"tags": ["javascript", "php", "error-handling", "syntax-error", "runtime-error"], "comments": [{"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 3, "creation_date": 1573084602, "post_id": 58740070, "comment_id": 103770056, "body": "Can you give an example of the rendered Javascript too, so we can see what gets echoed?"}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1573085034, "post_id": 58740070, "comment_id": 103770169, "body": "You should remove the quotes <code>&quot;</code> because <code>json_encode</code> adds its own: <code>JSON.parse(&lt;?php echo json_encode(find_detailed_forecast()); ?&gt;);</code>"}, {"owner": {"reputation": 1, "user_id": 9872447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/911131722ba4c300a6da85dae4b1c4de?s=128&d=identicon&r=PG&f=1", "display_name": "TheOneJellyFish", "link": "https://stackoverflow.com/users/9872447/theonejellyfish"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1573085124, "post_id": 58740070, "comment_id": 103770186, "body": "@CertainPerformance Does the edit above help?"}, {"owner": {"reputation": 1, "user_id": 9872447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/911131722ba4c300a6da85dae4b1c4de?s=128&d=identicon&r=PG&f=1", "display_name": "TheOneJellyFish", "link": "https://stackoverflow.com/users/9872447/theonejellyfish"}, "reply_to_user": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1573085263, "post_id": 58740070, "comment_id": 103770204, "body": "@ibrahimmahrir I tried that, but then I get a &quot;Not Found The requested URL /[object Object] was not found on this server.&quot; error. I&#39;m not sure which error I should be attempting to find a solution to, as I am new to javascript."}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 5768130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8lWit.jpg?s=128&g=1", "display_name": "Rachel Wirtz", "link": "https://stackoverflow.com/users/5768130/rachel-wirtz"}, "is_accepted": false, "score": 0, "last_activity_date": 1573086701, "creation_date": 1573086701, "answer_id": 58740345, "question_id": 58740070, "link": "https://stackoverflow.com/questions/58740070/javascript-php-syntaxerror-missing-after-argument-list/58740345#58740345", "title": "JavaScript/PHP SyntaxError: missing ) after argument list", "body": "<p>JSON.parse outputs data with double quotes, so you have to use single quotes.</p>\n\n<pre><code>var moredata = JSON.parse('&lt;?php echo json_encode(find_detailed_forecast()); ?&gt;');\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9872447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/911131722ba4c300a6da85dae4b1c4de?s=128&d=identicon&r=PG&f=1", "display_name": "TheOneJellyFish", "link": "https://stackoverflow.com/users/9872447/theonejellyfish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573086701, "creation_date": 1573084471, "last_edit_date": 1573085309, "question_id": 58740070, "link": "https://stackoverflow.com/questions/58740070/javascript-php-syntaxerror-missing-after-argument-list", "title": "JavaScript/PHP SyntaxError: missing ) after argument list", "body": "<p>I am getting a \"Uncaught SyntaxError: missing ) after argument list\" error when running the line below (which returns a json formatted file from my PHP to my javascript). </p>\n\n<pre><code>var moredata = JSON.parse(\"&lt;?php echo json_encode(find_detailed_forecast()); ?&gt;\");\n\n</code></pre>\n\n<p>I'm not sure how to fix this. If I edit the line to remove the parentheses or add a '' pair, then I get a \"Not Found The requested URL /[object Object] was not found on this server.\" When I look at the console, the php echo code is running correctly, so I get a JSON.parse(\"\"long string here\"\"). Not sure what is exactly wrong with my javascript and any help would be much appreciated. If it matters, my php, javascript, and html code are all in the same file.</p>\n\n<p>Edit: The code looks like below on execution (its a really long file so I wasn't sure if I should copy paste the entire thing):</p>\n\n<pre><code>var moredata = JSON.parse(\"\"{\\\"latitude\\\":999.123456,\\\"longitude\\\":-999.123456,\\\"timezone\\\":\\\"America\\/New_York\\\",\\\"currently\\\":{ .... }\"\\n\"\");\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "object", "data-conversion", "map-function"], "comments": [{"owner": {"reputation": 277, "user_id": 12333471, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0GUgTX35bXk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcPE6shKp3Tyo7oRqAn7vjm1PXZBA/photo.jpg?sz=128", "display_name": "Viktor Garba", "link": "https://stackoverflow.com/users/12333471/viktor-garba"}, "edited": false, "score": 0, "creation_date": 1573084550, "post_id": 58740061, "comment_id": 103770046, "body": "Could you describe the input data ?"}, {"owner": {"reputation": 65, "user_id": 8804560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb3b6f98400ebff4f3de38bd14d1a580?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/8804560/kyle"}, "reply_to_user": {"reputation": 277, "user_id": 12333471, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0GUgTX35bXk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcPE6shKp3Tyo7oRqAn7vjm1PXZBA/photo.jpg?sz=128", "display_name": "Viktor Garba", "link": "https://stackoverflow.com/users/12333471/viktor-garba"}, "edited": false, "score": 0, "creation_date": 1573084685, "post_id": 58740061, "comment_id": 103770075, "body": "mapData is  <code>[   {     &quot;date&quot;: &quot;2019-10-01T00:00:00Z&quot;,     &quot;total&quot;: 20   } ]</code>"}, {"owner": {"reputation": 15273, "user_id": 893578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RdhGt.jpg?s=128&g=1", "display_name": "Sheepy", "link": "https://stackoverflow.com/users/893578/sheepy"}, "edited": false, "score": 2, "creation_date": 1573093742, "post_id": 58740061, "comment_id": 103771983, "body": "How does &quot;2019-10-01T00:00:00Z&quot; maps to &quot;2019-01-01 00:00:00 -0800&quot;? They are not the same time.  And your output has two identical keys.  Do not say &quot;it is just an example&quot;; be precise if you want useful help.  Garbage in, garbage out."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 8804560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb3b6f98400ebff4f3de38bd14d1a580?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/8804560/kyle"}, "edited": false, "score": 0, "creation_date": 1573086356, "post_id": 58740127, "comment_id": 103770451, "body": "Didn&#39;t work for me, syntax errors and then when I fix those it says <code>&quot;TypeError: Cannot set property &#39;2019-10-28T00:00:00Z&#39; of undefined&quot;</code>"}, {"owner": {"reputation": 277, "user_id": 12333471, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0GUgTX35bXk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcPE6shKp3Tyo7oRqAn7vjm1PXZBA/photo.jpg?sz=128", "display_name": "Viktor Garba", "link": "https://stackoverflow.com/users/12333471/viktor-garba"}, "reply_to_user": {"reputation": 65, "user_id": 8804560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb3b6f98400ebff4f3de38bd14d1a580?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/8804560/kyle"}, "edited": false, "score": 0, "creation_date": 1573086783, "post_id": 58740127, "comment_id": 103770542, "body": "Yea sorry corrected the syntax. That function will turn [ { date: , total: } , ] =&gt; { name: &#39;Total Call Volume&#39;, data: { date: total, } }"}, {"owner": {"reputation": 65, "user_id": 8804560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb3b6f98400ebff4f3de38bd14d1a580?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/8804560/kyle"}, "edited": false, "score": 0, "creation_date": 1573087741, "post_id": 58740127, "comment_id": 103770745, "body": "That worked! Is there any way I can get a comma after the item.total?"}, {"owner": {"reputation": 277, "user_id": 12333471, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0GUgTX35bXk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcPE6shKp3Tyo7oRqAn7vjm1PXZBA/photo.jpg?sz=128", "display_name": "Viktor Garba", "link": "https://stackoverflow.com/users/12333471/viktor-garba"}, "reply_to_user": {"reputation": 65, "user_id": 8804560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb3b6f98400ebff4f3de38bd14d1a580?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/8804560/kyle"}, "edited": false, "score": 0, "creation_date": 1573144057, "post_id": 58740127, "comment_id": 103794107, "body": "What do you mean a comma after item.total"}, {"owner": {"reputation": 65, "user_id": 8804560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb3b6f98400ebff4f3de38bd14d1a580?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/8804560/kyle"}, "edited": false, "score": 0, "creation_date": 1573144956, "post_id": 58740127, "comment_id": 103794581, "body": "So it prints out like this <code>&#39;2019-10-01T00:00:00Z&#39;: 20,</code> instead of <code>&#39;2019-10-01T00:00:00Z&#39;: 20</code>"}, {"owner": {"reputation": 277, "user_id": 12333471, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0GUgTX35bXk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcPE6shKp3Tyo7oRqAn7vjm1PXZBA/photo.jpg?sz=128", "display_name": "Viktor Garba", "link": "https://stackoverflow.com/users/12333471/viktor-garba"}, "reply_to_user": {"reputation": 65, "user_id": 8804560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb3b6f98400ebff4f3de38bd14d1a580?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/8804560/kyle"}, "edited": false, "score": 0, "creation_date": 1573146187, "post_id": 58740127, "comment_id": 103795255, "body": "hmmm. I worried as to why you would want to do that. If you really need the comma you can turn the number into a string. Do something like obj.data[item.date] = item.total + &#39;,&#39;"}, {"owner": {"reputation": 65, "user_id": 8804560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb3b6f98400ebff4f3de38bd14d1a580?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/8804560/kyle"}, "edited": false, "score": 0, "creation_date": 1573147366, "post_id": 58740127, "comment_id": 103795875, "body": "basically im trying to use my response.data in a chartkick.com/vue lineChart and I can&#39;t get it formatted correctly."}], "tags": [], "owner": {"reputation": 277, "user_id": 12333471, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0GUgTX35bXk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcPE6shKp3Tyo7oRqAn7vjm1PXZBA/photo.jpg?sz=128", "display_name": "Viktor Garba", "link": "https://stackoverflow.com/users/12333471/viktor-garba"}, "is_accepted": false, "score": 0, "last_activity_date": 1573086597, "last_edit_date": 1573086597, "creation_date": 1573084881, "answer_id": 58740127, "question_id": 58740061, "link": "https://stackoverflow.com/questions/58740061/how-can-i-format-my-array-of-objects-in-javascript/58740127#58740127", "title": "How can I format my array of objects in javascript?", "body": "<pre><code>arr.reduce((obj, item) =&gt; {\n  obj.data[item.date] = item.total;\n  return obj;\n}, {\n  name: 'Total Call Volume',\n  data: {}\n})\n</code></pre>\n\n<p>something like that. You might need to switch around the 'obj' and 'item' param. Basically the obj param is the second argument in the reduce function. So the obj is that base object I added at the end, and the 'item' param is each item in the array. So we loop and keep adding the values on to the 'obj' and return it for the next loop to add onto</p>\n"}], "owner": {"reputation": 65, "user_id": 8804560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb3b6f98400ebff4f3de38bd14d1a580?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/8804560/kyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 331, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573093913, "creation_date": 1573084367, "last_edit_date": 1573093913, "question_id": 58740061, "link": "https://stackoverflow.com/questions/58740061/how-can-i-format-my-array-of-objects-in-javascript", "title": "How can I format my array of objects in javascript?", "body": "<p>Need to format my array of objects to have a nested object.</p>\n\n<p>Tried using map, and reduce. Can't seem to get the formatting correct.\nCurrently getting this.</p>\n\n<pre><code>[\n  {\n    \"date\": \"2019-10-01T00:00:00Z\",\n    \"total\": 20\n  }\n]\n</code></pre>\n\n<p>Need it to be in this format.</p>\n\n<pre><code>[\n  {\n    name: 'Total Call Volume',\n    data: {\n      '2019-01-01 00:00:00 -0800': 0,\n      '2019-01-01 00:00:00 -0800': 88,\n\n    }\n  }\n]\n</code></pre>\n\n<pre><code>var arr = this.$store.state.aggregatedCallVolumeData;\nvar mapData = arr.map(item =&gt; ({\n  date: item.startTime,\n  total: item.dataValues.TOTAL_CALL_VOLUME\n}));\nvar data = mapData.reduce((acc, value) =&gt; {\n  acc[value.date] = acc[value.date] ? acc[value.date] : [];\n  acc[value.date] ? acc[value.date].push(value.total) : [value.total];\n  return acc;\n}, {});\n\nlet result = Object.entries(data).map(d =&gt; ({ id: d[0] + ':' + d[1] }) );\nconsole.log(result)\n</code></pre>\n\n<p>console output is</p>\n\n<pre><code>0: {id: \"2019-10-27T00:00:00Z:0\"}\n1: {id: \"2019-10-28T00:00:00Z:88\"}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "firebase", "google-cloud-functions"], "answers": [{"comments": [{"owner": {"reputation": 2527, "user_id": 10116367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ixorG.jpg?s=128&g=1", "display_name": "Kevvv", "link": "https://stackoverflow.com/users/10116367/kevvv"}, "edited": false, "score": 0, "creation_date": 1573100155, "post_id": 58741671, "comment_id": 103773224, "body": "Thank you for your response. What should be inside the parenthesis of <code>zohoCrmHook(...)</code> and <code>createEmail(...)</code> in your example? Can they be left blank since they are just being imported from another component?"}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "reply_to_user": {"reputation": 2527, "user_id": 10116367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ixorG.jpg?s=128&g=1", "display_name": "Kevvv", "link": "https://stackoverflow.com/users/10116367/kevvv"}, "edited": false, "score": 0, "creation_date": 1573100494, "post_id": 58741671, "comment_id": 103773286, "body": "As said, you&#39;ll need to change those functions. You can&#39;t simply pass the request and response along, since only one of these functions should be writing to the response (or at least writing headers/closing it)."}, {"owner": {"reputation": 2527, "user_id": 10116367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ixorG.jpg?s=128&g=1", "display_name": "Kevvv", "link": "https://stackoverflow.com/users/10116367/kevvv"}, "edited": false, "score": 0, "creation_date": 1573103100, "post_id": 58741671, "comment_id": 103773793, "body": "If were to call the two endpoints at the same time using <code>axios.all</code> with two <code>axios.post</code> as an array, is it possible to keep two <code>functions.https.onRequest</code> declarations?"}, {"owner": {"reputation": 2527, "user_id": 10116367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ixorG.jpg?s=128&g=1", "display_name": "Kevvv", "link": "https://stackoverflow.com/users/10116367/kevvv"}, "edited": false, "score": 0, "creation_date": 1573103194, "post_id": 58741671, "comment_id": 103773811, "body": "for example, <code>axios.all([axios.post(...), axios.post(...)]).then(...).catch(...)</code>.  I&#39;ve been trying that method with futility, but I just want to know if I&#39;m on the right track."}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "reply_to_user": {"reputation": 2527, "user_id": 10116367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ixorG.jpg?s=128&g=1", "display_name": "Kevvv", "link": "https://stackoverflow.com/users/10116367/kevvv"}, "edited": false, "score": 0, "creation_date": 1573110486, "post_id": 58741671, "comment_id": 103776093, "body": "Where would this axios call happen? And: why do you want two separate Cloud Functions?"}], "tags": [], "owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "is_accepted": true, "score": 1, "last_activity_date": 1573098095, "creation_date": 1573098095, "answer_id": 58741671, "question_id": 58740000, "link": "https://stackoverflow.com/questions/58740000/only-one-of-many-firebase-functions-being-invoked/58741671#58741671", "title": "Only one of many Firebase Functions being invoked", "body": "<p>Since you're exporting two <code>functions.https.onRequest</code> declarations, you'll end up with two Cloud Functions, each with their own URL/endpoint. So if that's what you need, you'll need to configure two web hooks that call these functions.</p>\n\n<hr>\n\n<p>From reading your question however, it sounds more like you want a single Cloud Function that does two things, in which case you should only have one <code>functions.https.onRequest</code> declaration that then calls two regular JavaScript functions (for example).</p>\n\n<p>So something more like:</p>\n\n<pre><code>exports.myWebHook = functions.https.onRequest(function(req, res) {\n  zohoCrmHook(...);\n  createEmailList(...);\n})\n</code></pre>\n\n<p>You'll need to figure out what to pass into the two function calls here, as you can't pass the request and response along.</p>\n\n<p>Alternatively you can call the two Cloud Functions from here, but that typically just drives up your cost with little benefit.</p>\n"}], "owner": {"reputation": 2527, "user_id": 10116367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ixorG.jpg?s=128&g=1", "display_name": "Kevvv", "link": "https://stackoverflow.com/users/10116367/kevvv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 58741671, "answer_count": 1, "score": 0, "last_activity_date": 1573098095, "creation_date": 1573083919, "question_id": 58740000, "link": "https://stackoverflow.com/questions/58740000/only-one-of-many-firebase-functions-being-invoked", "title": "Only one of many Firebase Functions being invoked", "body": "<p>I have 2 Firebase functions that I want to execute when there is an Http request, one function (<code>createEmailList</code>) to save data in the Firebase database, the other (<code>zohoCrmHook</code>) to to save in a 3rd party CRM called Zoho.  </p>\n\n<p>When the functions are deployed to Firebase, the functions log shows that both are properly deployed.  However, when the Http request is made from the frontend, the log shows that only one of the functions (<code>createEmailList</code>) is being executed.  </p>\n\n<p><a href=\"https://i.stack.imgur.com/MrKpo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MrKpo.png\" alt=\"enter image description here\"></a></p>\n\n<p>As the log shows, the first function <code>createEmailList</code> is being executed and the data shows up in the Firebase database with no problem.  However, The second function <code>zohoCrmHook</code> is not even being executed.</p>\n\n<p>index.js</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const functions = require('firebase-functions');\nconst admin = require(\"firebase-admin\")\nconst serviceAccount = require(\"./service_account.json\");\nconst createEmailList = require('./createEmailList')\n\n// zoho\nconst zohoCrmHook = require('./zohoCrmHook')\n\nadmin.initializeApp({\n  credential: admin.credential.cert(serviceAccount),\n  databaseURL: \"https://landing-page.firebaseio.com\"\n})\n\nexports.zohoCrmHook = functions.https.onRequest(zohoCrmHook)\nexports.createEmailList = functions.https.onRequest(createEmailList)\n</code></pre>\n\n<p>createEmailList.js</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const admin = require('firebase-admin')\nconst cors = require('cors')({ origin: true })\n\nmodule.exports = (req, res) =&gt; {\n    cors(req, res, () =&gt; {\n        if (!req.body.email) {\n            return res.status(422).send({ error: 'Bad Input'})\n        }\n\n        const email = String(req.body.email)\n        const firstName = String(req.body.firstName)\n        const lastName = String(req.body.lastName)\n\n        const data = {\n            email,\n            firstName,\n            lastName\n        }\n\n        const db = admin.firestore()\n        const docRef = db.collection('users')\n            .doc(email)\n            .set(data, { merge: false })\n            .catch(err =&gt; res.status(422).send({ error: err }))\n\n        res.status(204).end();    \n    })\n}\n</code></pre>\n\n<p>zohoCrmHook.js</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const axios = require('axios');\nconst functions = require('firebase-functions');\n\n// zoho\nconst clientId = functions.config().zoho.client_id;\nconst clientSecret = functions.config().zoho.client_secret;\nconst refreshToken = functions.config().zoho.refresh_token;\nconst baseURL = 'https://accounts.zoho.com';\n\nmodule.exports = async (req, res) =&gt; {\n    const newLead = {\n        'data': [\n        {\n            'Email': req.body.email,\n            'Last_Name': req.body.lastName,\n            'First_Name': req.body.firstName,\n        }\n        ],\n        'trigger': [\n            'approval',\n            'workflow',\n            'blueprint'\n        ]\n    };\n\n    const { data } = await getAccessToken();\n    const accessToken = data.access_token;\n\n    const leads = await getLeads(accessToken);\n    const result = checkLeads(leads.data.data, newLead.data[0].Email);\n\n    if (result.length &lt; 1) {\n        try {\n            return res.json(await createLead(accessToken, newLead));\n        }\n        catch (e) {\n            console.log(e);\n        }\n    }\n    else res.json({ message: 'Lead already in CRM' })\n}\n\nfunction getAccessToken () {\n    const url = `https://accounts.zoho.com/oauth/v2/token?refresh_token=${refreshToken}&amp;client_id=${clientId}&amp;client_secret=${clientSecret}&amp;grant_type=refresh_token`;\n\n    return new Promise((resolve, reject) =&gt; {\n      axios.post(url)\n        .then((response) =&gt; {\n          return resolve(response);\n        })\n        .catch(e =&gt; console.log(e))\n    });\n}\n\nfunction getLeads(token) {\n    const url = 'https://www.zohoapis.com/crm/v2/Leads';\n\n    return new Promise((resolve, reject) =&gt; {\n      axios.get(url, {\n        headers: {\n          'Authorization': `Zoho-oauthtoken ${token}`\n        }\n      })\n        .then((response) =&gt; {\n          return resolve(response);\n        })\n        .catch(e =&gt; console.log(e))\n    })\n}\n\nfunction createLead(token, lead) {\n    const url = 'https://www.zohoapis.com/crm/v2/Leads';\n\n    return new Promise((resolve, reject) =&gt; {\n        const data = JSON.stringify(lead);\n        axios.post(url, data, {\n        headers: {\n            'Authorization': `Zoho-oauthtoken ${token}`\n        }\n        })\n        .then((response) =&gt; {\n            console.log(response.data)\n            return resolve(response);\n        })\n        .catch(e =&gt; reject(e))\n    })\n}\n\nfunction checkLeads(leads, currentLead) {\n    return leads.filter(lead =&gt; lead.Email === currentLead)\n}\n</code></pre>\n"}, {"tags": ["javascript", "php", "mysql", "loops"], "comments": [{"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 1, "creation_date": 1573083923, "post_id": 58739980, "comment_id": 103769915, "body": "What is the resulting client-side code that this creates?  Is it what you expect it to create?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1573083925, "post_id": 58739980, "comment_id": 103769918, "body": "All your buttons are using the same <code>theTotal</code> variable. Is that what you want?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1573084346, "post_id": 58739980, "comment_id": 103770012, "body": "You shouldn&#39;t redeclare the same global variable during the loop. It should be declared once before the loop."}, {"owner": {"reputation": 1, "user_id": 9356874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586d1441207e0e0a0a6f80dcb4e9ca1f?s=128&d=identicon&r=PG&f=1", "display_name": "Anas Naomi", "link": "https://stackoverflow.com/users/9356874/anas-naomi"}, "edited": false, "score": 0, "creation_date": 1573084380, "post_id": 58739980, "comment_id": 103770019, "body": "for example, on my data base i have 2 records, and when i use php to select data from sql the data will show in text-box, then i want to click on the button to increase the number by one, what is happening if i click the button all text box for the 2 results will add 2"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1573084626, "post_id": 58739980, "comment_id": 103770061, "body": "Why do you need the variable <code>theTotal</code>? Just use <code>$(&#39;#&lt;?php echo $row[&quot;number&quot;];?&gt;&#39;).val(Number($(this).val())+1)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 1, "user_id": 9356874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586d1441207e0e0a0a6f80dcb4e9ca1f?s=128&d=identicon&r=PG&f=1", "display_name": "Anas Naomi", "link": "https://stackoverflow.com/users/9356874/anas-naomi"}, "edited": false, "score": 0, "creation_date": 1573091124, "post_id": 58740115, "comment_id": 103771477, "body": "I already knew out that this is part of a loop processing the results of a database query. The <code>$row</code> variable makes this obvious."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1573084793, "creation_date": 1573084793, "answer_id": 58740115, "question_id": 58739980, "link": "https://stackoverflow.com/questions/58739980/i-am-trying-to-use-javascript-in-php-while-loop-and-give-me-action-for-each/58740115#58740115", "title": "I am trying to use JavaScript in (php &gt; while loop) and give me action for each result", "body": "<p>You don't need the <code>theTotal</code> variable, just get the value from the input field, add 1 to it, and put that back.</p>\n\n<pre><code>$('#&lt;?php echo $row[\"id\"];?&gt;').click(function(){\n    var val = Number($('#&lt;?php echo $row[\"number\"];?&gt;'));\n    $('#&lt;?php echo $row[\"number\"];?&gt;').val(val + 1);        \n});\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9356874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586d1441207e0e0a0a6f80dcb4e9ca1f?s=128&d=identicon&r=PG&f=1", "display_name": "Anas Naomi", "link": "https://stackoverflow.com/users/9356874/anas-naomi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 58740115, "answer_count": 1, "score": 0, "last_activity_date": 1573087203, "creation_date": 1573083752, "question_id": 58739980, "link": "https://stackoverflow.com/questions/58739980/i-am-trying-to-use-javascript-in-php-while-loop-and-give-me-action-for-each", "title": "I am trying to use JavaScript in (php &gt; while loop) and give me action for each result", "body": "<p>after getting data from sql I tried to click ok the button to add 1 number (sum sql data number + 1)\nbut the Java is still working on all the inputs for all the results that I an getting </p>\n\n<pre><code>&lt;input  type=\"text\"   id=\"&lt;?php echo $row['number'];?&gt;\"  &gt;\n\n &lt;button value=\"1\" id=\"&lt;?php echo $row[\"id\"];?&gt;\"&gt;1&lt;/button&gt;     \n&lt;script&gt;\n\nvar theTotal = 0;\n$('#&lt;?php echo $row[\"id\"];?&gt;').click(function(){\n   theTotal = Number(theTotal) + Number($(this).val());\n    $('#&lt;?php echo $row[\"number\"];?&gt;').val(theTotal);        \n});\n\n$('#&lt;?php echo $row[\"number\"];?&gt;').val(theTotal);\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "json", "electron"], "comments": [{"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 1, "creation_date": 1573084043, "post_id": 58739949, "comment_id": 103769947, "body": "A relevant question: <a href=\"https://stackoverflow.com/questions/46027816/electron-package-how-to-write-read-files\" title=\"electron package how to write read files\">stackoverflow.com/questions/46027816/&hellip;</a>"}, {"owner": {"reputation": 141, "user_id": 12232127, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VJWMJq-FZ-k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcD0vbmwUl6XQj7zCBvhF-z1p98bg/photo.jpg?sz=128", "display_name": "luong vy", "link": "https://stackoverflow.com/users/12232127/luong-vy"}, "reply_to_user": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1573095616, "post_id": 58739949, "comment_id": 103772365, "body": "@jfriend00 it still not work, i add &quot;test.json&quot; in package.json but it still not work"}], "owner": {"reputation": 141, "user_id": 12232127, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VJWMJq-FZ-k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcD0vbmwUl6XQj7zCBvhF-z1p98bg/photo.jpg?sz=128", "display_name": "luong vy", "link": "https://stackoverflow.com/users/12232127/luong-vy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1573083498, "creation_date": 1573083498, "question_id": 58739949, "link": "https://stackoverflow.com/questions/58739949/fs-writefilesync-not-working-after-build-electron-app-with-electron-buider", "title": "fs.writeFileSync not working after build electron app with electron-buider", "body": "<p>im working with electron like below</p>\n\n<pre><code> var data = JSON.parse(fs.readFileSync(path.join(__dirname,'test.json')));\ndata.push('test data')\nfs.writeFileSync(path.join(__dirname,'test.json'), JSON.stringify(data));\n</code></pre>\n\n<p>before build with electron-builder, every thing work correctly, test.json change fs.writeFileSync but when i build app with electron-builder fs.readFileSync still working correctly but writeFileSync not work. test.json does not change when i add some data</p>\n"}, {"tags": ["javascript", "google-maps"], "comments": [{"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 1, "creation_date": 1573083664, "post_id": 58739939, "comment_id": 103769857, "body": "You should not assume that <code>search</code> always returns some valid object."}, {"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1573083708, "post_id": 58739939, "comment_id": 103769872, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/8004617/javascript-cannot-read-property-bar-of-undefined\">JavaScript &quot;cannot read property &quot;bar&quot; of undefined</a>"}, {"owner": {"reputation": 147337, "user_id": 1210329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d432c94998d9fb0a28f6bf2af22cdf96?s=128&d=identicon&r=PG", "display_name": "geocodezip", "link": "https://stackoverflow.com/users/1210329/geocodezip"}, "edited": false, "score": 0, "creation_date": 1573126788, "post_id": 58739939, "comment_id": 103784348, "body": "If <code>obj</code> is <code>false</code>, it won&#39;t have <code>.Latitude</code> and <code>.Longitude</code> properties."}], "answers": [{"comments": [{"owner": {"reputation": 4879, "user_id": 3213172, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/9h5GT.jpg?s=128&g=1", "display_name": "djfdev", "link": "https://stackoverflow.com/users/3213172/djfdev"}, "reply_to_user": {"reputation": 53, "user_id": 10381466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c91221872938d0d9774f7f749036a91b?s=128&d=identicon&r=PG&f=1", "display_name": "user10381466", "link": "https://stackoverflow.com/users/10381466/user10381466"}, "edited": false, "score": 0, "creation_date": 1573085414, "post_id": 58739992, "comment_id": 103770247, "body": "That&#39;s not really what I was suggesting. I was suggesting that you check the return value of <code>search</code> before trying to use it. Returning <code>false</code> will yield the exact same problem as you already have. If the return value of the function is not an object, then you shouldn&#39;t attempt to treat it like one."}, {"owner": {"reputation": 255, "user_id": 11969499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c83ce546b7378b1b774e977174928872?s=128&d=identicon&r=PG", "display_name": "Zachary Blumstein", "link": "https://stackoverflow.com/users/11969499/zachary-blumstein"}, "reply_to_user": {"reputation": 53, "user_id": 10381466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c91221872938d0d9774f7f749036a91b?s=128&d=identicon&r=PG&f=1", "display_name": "user10381466", "link": "https://stackoverflow.com/users/10381466/user10381466"}, "edited": false, "score": 0, "creation_date": 1573085819, "post_id": 58739992, "comment_id": 103770326, "body": "@user10381466 what is <code>namek, myarray</code> can you show the updated code?"}], "tags": [], "owner": {"reputation": 4879, "user_id": 3213172, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/9h5GT.jpg?s=128&g=1", "display_name": "djfdev", "link": "https://stackoverflow.com/users/3213172/djfdev"}, "is_accepted": false, "score": 1, "last_activity_date": 1573086125, "last_edit_date": 1573086125, "creation_date": 1573083839, "answer_id": 58739992, "question_id": 58739939, "link": "https://stackoverflow.com/questions/58739939/how-to-fix-cannot-read-property-latitude-of-undefined/58739992#58739992", "title": "How to fix Cannot read property &#39;Latitude&#39; of undefined", "body": "<p>Your <code>search</code> function has a conditional return value. So in the case that none of the items in the array argument match the condition, it will return undefined. You need to handle this case before trying to reference properties on the function's return value.</p>\n\n<p>Edit: I'm hesitant to provide a working example because I have no idea what your spec is, but here's one that would work:</p>\n\n<pre><code>function showauto() {\n  const obj = search(ret, auto1)\n  if (obj) {\n    var retu = new google.maps.LatLng(obj.Latitude,obj.Longitude)\n    map.setCenter(retu)\n  }\n}\n</code></pre>\n\n<p>In the case that <code>search</code> returns a falsy value, the <code>showauto</code> function will not attempt to run the maps logic.</p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 10381466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c91221872938d0d9774f7f749036a91b?s=128&d=identicon&r=PG&f=1", "display_name": "user10381466", "link": "https://stackoverflow.com/users/10381466/user10381466"}, "edited": false, "score": 0, "creation_date": 1573224656, "post_id": 58740238, "comment_id": 103823396, "body": "Thanks @ShoeShineBoy. You are right, ret variable have error. I changed var obj = search(ret,auto1) for var obj = search(digit.value,auto1). It&#39;s works for me"}], "tags": [], "owner": {"reputation": 72, "user_id": 12275765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46552bc183dafdc774cf9f2722b28f47?s=128&d=identicon&r=PG&f=1", "display_name": "ShoeShineBoy", "link": "https://stackoverflow.com/users/12275765/shoeshineboy"}, "is_accepted": true, "score": 0, "last_activity_date": 1573086803, "last_edit_date": 1573086803, "creation_date": 1573085898, "answer_id": 58740238, "question_id": 58739939, "link": "https://stackoverflow.com/questions/58739939/how-to-fix-cannot-read-property-latitude-of-undefined/58740238#58740238", "title": "How to fix Cannot read property &#39;Latitude&#39; of undefined", "body": "<p>Try something like this:</p>\n\n<pre><code>function search(name, myarray) {\n    const foundItem = myarray.find(element =&gt; {\n        return element.title === name\n    })\n    return foundItem\n}\n</code></pre>\n\n<p>Also I'm not quite sure what are you doing, but maybe you have error in that ret variable </p>\n\n<pre><code>var ret = digit.value\n</code></pre>\n\n<p>You are not providing correct value to the function search on line:\n<code>var obj = search(ret,auto1)</code> so your search function fails to find anything and it returns no value, and <code>obj</code> becomes <code>undefined</code> and you can't access property of <code>undefined</code> because there is none.</p>\n"}], "owner": {"reputation": 53, "user_id": 10381466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c91221872938d0d9774f7f749036a91b?s=128&d=identicon&r=PG&f=1", "display_name": "user10381466", "link": "https://stackoverflow.com/users/10381466/user10381466"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 58740238, "answer_count": 2, "score": 1, "last_activity_date": 1573086803, "creation_date": 1573083461, "last_edit_date": 1573085149, "question_id": 58739939, "link": "https://stackoverflow.com/questions/58739939/how-to-fix-cannot-read-property-latitude-of-undefined", "title": "How to fix Cannot read property &#39;Latitude&#39; of undefined", "body": "<p>My code does not work. I need to compare the value of the array to the value that was entered and return the latitude and longitude values in order to plot this point on the map, but only get the error Cannot read property Latitude of undefined.</p>\n\n<pre><code>var auto1 = [{\"Latitude\": 42.389, \"Longitude\": -8.567, title: \"test\"}];\n\nvar digit = document.getElementById('searchmap');\nvar ret = digit.value;\n\nfunction search(namek, myarray){\n   for(var i=0; i&lt;myarray.length; i++){\n      if(myarray[i].title === namek){\n         return myarray[i];\n       } else{ return false;\n       }\n    }\n }\n\nvar obj = search(ret,auto1);\nfunction showauto(){\n     var retu = new google.maps.LatLng(obj.Latitude,obj.Longitude);\n     map.setCenter(retu);\n }\n</code></pre>\n\n<p>I want map.setCenter(retu) works. Thanks</p>\n"}, {"tags": ["javascript", "reactjs", "socket.io"], "comments": [{"owner": {"reputation": 88, "user_id": 12300412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93d460dccab4b3a252700a0ffe846c89?s=128&d=identicon&r=PG&f=1", "display_name": "emzki", "link": "https://stackoverflow.com/users/12300412/emzki"}, "edited": false, "score": 0, "creation_date": 1573086847, "post_id": 58739926, "comment_id": 103770554, "body": "For example the first order arrived which is: [ { &quot;id&quot;: &quot;71xz0&quot; &quot;name&quot;: &quot;Cheese Pizza&quot;, &quot;event_name&quot;: &quot;DRIVER_RECEIVED&quot;, &quot;sent_at_second&quot;: 123, &quot;destination&quot;: &quot;1041 S Fairfax Ave, Los Angeles, CA 90019&quot; }, ... ]"}, {"owner": {"reputation": 3843, "user_id": 1795408, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2a01f8c1d28a4e13e393619737965c1b?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Mojica", "link": "https://stackoverflow.com/users/1795408/adrian-mojica"}, "reply_to_user": {"reputation": 88, "user_id": 12300412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93d460dccab4b3a252700a0ffe846c89?s=128&d=identicon&r=PG&f=1", "display_name": "emzki", "link": "https://stackoverflow.com/users/12300412/emzki"}, "edited": false, "score": 0, "creation_date": 1573090396, "post_id": 58739926, "comment_id": 103771299, "body": "yes, the subsequent orders come in the same format."}, {"owner": {"reputation": 716, "user_id": 2540318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JG8ZN.jpg?s=128&g=1", "display_name": "Mke Spa Guy", "link": "https://stackoverflow.com/users/2540318/mke-spa-guy"}, "edited": false, "score": 0, "creation_date": 1573091063, "post_id": 58739926, "comment_id": 103771464, "body": "See <a href=\"https://reactjs.org/docs/thinking-in-react.html\" rel=\"nofollow noreferrer\">reactjs.org/docs/thinking-in-react.html</a>.  showBoard is very jQuery like, not React.    &quot;onClick&quot; should update state.  Pass state to cards and have cards hide or show self.  Good luck"}], "answers": [{"tags": [], "owner": {"reputation": 88, "user_id": 12300412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93d460dccab4b3a252700a0ffe846c89?s=128&d=identicon&r=PG&f=1", "display_name": "emzki", "link": "https://stackoverflow.com/users/12300412/emzki"}, "is_accepted": false, "score": 0, "last_activity_date": 1573101094, "creation_date": 1573101094, "answer_id": 58742017, "question_id": 58739926, "link": "https://stackoverflow.com/questions/58739926/react-components-only-one-displays-the-data/58742017#58742017", "title": "react components only one displays the data", "body": "<p>The placing of parameters on this line is not in right order</p>\n\n<pre><code>this.filterBy(order,this.props.Filter);\n</code></pre>\n\n<p>It should be:</p>\n\n<pre><code>this.filterBy(this.props.Filter, order);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1302, "user_id": 6677742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bMUAo.jpg?s=128&g=1", "display_name": "ibtsam", "link": "https://stackoverflow.com/users/6677742/ibtsam"}, "is_accepted": false, "score": 0, "last_activity_date": 1573103542, "creation_date": 1573103542, "answer_id": 58742303, "question_id": 58739926, "link": "https://stackoverflow.com/questions/58739926/react-components-only-one-displays-the-data/58742303#58742303", "title": "react components only one displays the data", "body": "<p>Ok I don't fully understand your problem, but I want to suggest some things here</p>\n\n<p>In your App component you have a constructor and class state property to initialize the state, I think you can shift your subscribeToTimer to componentDidMount and initialize state as you are doing now  </p>\n\n<pre><code>componentDidMount() {\n   subscribeToTimer((err, Order) =&gt; this.setState(\n  state =&gt; ({\n  Orders: [...state.Orders, Order] ,\n  OrdersCr: [...state.OrdersCr, Order] ,\n  OrdersCo: [...state.OrdersCo, Order] ,\n  })));\n}\n</code></pre>\n\n<p>and no need for constructor now only state as </p>\n\n<pre><code> state = {\n  Orders: [],\n  OrdersCr: [],\n  OrdersCo: []\n };\n</code></pre>\n\n<p>and in your Board component where you are calling your filterBy method you are not passing arguments in correct order pass as</p>\n\n<pre><code>this.filterBy(this.props.Filter, order); // Filter first and order array second\n</code></pre>\n\n<p>One other thing is when you can and are accessing this.props in your methods there is not need to pass this.props to your class methods as in here </p>\n\n<pre><code>{ this.renderTableRows(this.props)} // no need to pass \n</code></pre>\n\n<p>Hope it helps</p>\n"}], "owner": {"reputation": 3843, "user_id": 1795408, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2a01f8c1d28a4e13e393619737965c1b?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Mojica", "link": "https://stackoverflow.com/users/1795408/adrian-mojica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1573103542, "creation_date": 1573083367, "last_edit_date": 1573085064, "question_id": 58739926, "link": "https://stackoverflow.com/questions/58739926/react-components-only-one-displays-the-data", "title": "react components only one displays the data", "body": "<p>I am about to give up on this hope someone can help.\nI have a react component used 3 times withing my app.js\nI want the data to be shown, normally in one, and filtered through a function in the other two. the way I'm showing and hiding the panels its a  bit primitive but it'll do for now. \nwhat is happening at the moment is that the first tab shows the data as it comes from the sockets server i have, the other two tabs show nothing.</p>\n\n<p>here are my components:</p>\n\n<pre><code>import React, { Component } from 'react';\nimport './App.scss';\nimport { subscribeToTimer } from './api';\nimport Board from './components/Board';\nimport Stream from './components/orderStream';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    subscribeToTimer((err, Order) =&gt; this.setState(\n      state =&gt; ({\n      Orders: [...state.Orders, Order] ,\n      OrdersCr: [...state.OrdersCr, Order] ,\n      OrdersCo: [...state.OrdersCo, Order] ,\n    })));\n  }\n\n  showBoard(board){\n    let a = document.getElementsByClassName('history-board')[0];\n    let b = document.getElementsByClassName('created-board')[0];\n    let c = document.getElementsByClassName('cooked-board')[0];\n\n    if (board ===\"history\") {\n      console.log(board);\n      a.classList.add('show');\n      a.classList.remove(\"hidden\");\n      b.classList.add('hidden');\n      b.classList.remove(\"show\");\n      c.classList.add('hidden');\n      c.classList.remove(\"show\");\n    }\n    if (board === \"created\") {\n      console.log(board);\n      a.classList.remove(\"show\");\n      a.classList.add('hidden');\n      b.classList.remove(\"hidden\");\n      b.classList.add('show');\n      c.classList.add('hidden');\n      c.classList.remove(\"show\");\n    }\n\n    if (board === \"cooked\") {\n      console.log(board);\n      a.classList.add('hidden');\n      a.classList.remove(\"show\");\n      b.classList.add('hidden');\n      b.classList.remove(\"show\");\n      c.classList.add('show');\n      c.classList.remove(\"hidden\");\n    }\n  }\n\n  state = {\n    Orders: [],\n    OrdersCr: [],\n    OrdersCo: []\n  };\n  render() {\n    const { Orders, OrdersCr, OrdersCo } = this.state;\n    return (\n      &lt;div className=\"App\"&gt;\n        &lt;Stream/&gt;\n        &lt;div className=\"filters\"&gt;\n            &lt;div&gt;\n              &lt;button className=\"history\" href=\"#\" onClick={() =&gt; { this.showBoard(\"history\")}}&gt;\n                History\n              &lt;/button&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n              &lt;button className=\"created\" href=\"#\" onClick={() =&gt; { this.showBoard(\"created\")}}&gt;\n                filter By Cooking\n              &lt;/button&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n              &lt;button className=\"cooked\" href=\"#\" onClick={() =&gt; { this.showBoard(\"cooked\")}}&gt;\n                filter By Cooked\n              &lt;/button&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;div className=\"history-board\"&gt;\n          &lt;Board \n          Filter ={'history'}\n          Orders = {Orders}\n          /&gt;\n        &lt;/div&gt;\n        &lt;div className=\"created-board hidden\"&gt;\n          &lt;Board \n          Filter = {'Created-history'}\n          Orders = {OrdersCr}\n          /&gt;\n        &lt;/div&gt;\n        &lt;div className=\"cooked-board hidden\"&gt;\n          &lt;Board \n            Filter = {'Cooked-history'}\n            Orders = {OrdersCo}\n          /&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;  \n    );\n  }\n}\n\nexport default App;\n</code></pre>\n\n<pre><code>import React, { Component } from 'react'\nimport Card from '../components/Card'\n\n\nclass Board extends Component {\n\n\n    constructor(props){\n      super(props);\n      this.renderTableRows= this.renderTableRows.bind(this);\n      this.filterBy = this.filterBy.bind(this);\n    }\n\n    filterBy(event,order){\n      console.log('hey hey',order,event);\n      var filtered = [];\n      for (var i = 0; i &lt; order.length; i++) {\n          if (order[i].event_name === event) {\n              filtered.push(order[i]);\n          }\n          if (order[i].event_name !== event){\n            filtered.splice(i,1);\n          }\n      }\n      console.log('here', filtered);\n      return filtered.map(order =&gt; (\n        &lt;Card\n          key = {order.id}\n          ID = {order.id}\n          Name ={order.name}\n          Status ={order.event_name}\n          Time = {order.sent_at_second}\n          Destination ={order.destination}\n        /&gt;\n      ));\n    }\n\n    renderTableRows(){\n      let order = this.props.Orders;\n      // console.log(this.props);\n      if (this.props.Filter !== \"history\" ) {\n        this.filterBy(order,this.props.Filter);\n      } else {\n        //massage data\n          if (order.length &gt; 2 ) {\n            let element  = order[order.length-1];\n            for(var i = 0; i &lt; order.length; i++) {\n                if (order[i].id === element.id) {\n                    order[i]=element;\n                }\n            }\n          }\n          return order.map(order =&gt; (\n            &lt;Card\n              // key = {order.id}\n              ID = {order.id}\n              Name ={order.name}\n              Status ={order.event_name}\n              Time = {order.sent_at_second}\n              Destination ={order.destination}\n            /&gt;\n          ));\n        }\n      }\n\n\n\n\n\n    render() {\n        return (\n          &lt;div&gt;\n          &lt;div className=\"main-board flex-grid\"&gt;\n            &lt;div id='resp-table'&gt;\n              &lt;div id='resp-table-header'&gt;\n                &lt;div className='table-header-cell order-ID'&gt;\n                  Order ID\n                &lt;/div&gt;\n                &lt;div className='table-header-cell order-name'&gt;\n                  Order Name\n                &lt;/div&gt;\n                &lt;div className='table-header-cell order-status'&gt;\n                  Status\n                &lt;/div&gt;\n                &lt;div className='table-header-cell order-time'&gt;\n                  Time\n                &lt;/div&gt;\n                &lt;div className='table-header-cell order-destination'&gt;\n                  Destination\n                &lt;/div&gt;\n              &lt;/div&gt;\n              &lt;div id='resp-table-body'&gt;\n                { this.renderTableRows(this.props)}\n              &lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n          &lt;/div&gt;\n        )\n    };\n}\n\nexport default Board;\n\n\n</code></pre>\n\n<p>the data coming from the sockets looks like this </p>\n\n<pre><code>[\n{\n\"id\": \"71xz0\"\n\"name\": \"Cheese Pizza\",\n\"event_name\": \"DRIVER_RECEIVED\",\n\"sent_at_second\": 123,\n\"destination\": \"1041 S Fairfax Ave, Los Angeles, CA 90019\"\n},\n...\n]\n</code></pre>\n\n<p>thank you SO, you are my only hope. </p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 4879, "user_id": 3213172, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/9h5GT.jpg?s=128&g=1", "display_name": "djfdev", "link": "https://stackoverflow.com/users/3213172/djfdev"}, "edited": false, "score": 1, "creation_date": 1573083537, "post_id": 58739921, "comment_id": 103769827, "body": "Please share your code, it&#39;s hard to provide advice without seeing it."}, {"owner": {"reputation": 31, "user_id": 12329333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b925889977712c10cdd7e7f67d9f84ee?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Carlos", "link": "https://stackoverflow.com/users/12329333/kevin-carlos"}, "reply_to_user": {"reputation": 4879, "user_id": 3213172, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/9h5GT.jpg?s=128&g=1", "display_name": "djfdev", "link": "https://stackoverflow.com/users/3213172/djfdev"}, "edited": false, "score": 0, "creation_date": 1573087174, "post_id": 58739921, "comment_id": 103770626, "body": "I&#39;ve edited my post to include code, sorry about that"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 12329333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b925889977712c10cdd7e7f67d9f84ee?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Carlos", "link": "https://stackoverflow.com/users/12329333/kevin-carlos"}, "edited": false, "score": 0, "creation_date": 1573087158, "post_id": 58740195, "comment_id": 103770621, "body": "I&#39;ve edited my post to include code, sorry about that"}, {"owner": {"reputation": 314, "user_id": 11904900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d88e8473781728cc1fb769a1844175b?s=128&d=identicon&r=PG&f=1", "display_name": "paoiherpoais", "link": "https://stackoverflow.com/users/11904900/paoiherpoais"}, "reply_to_user": {"reputation": 31, "user_id": 12329333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b925889977712c10cdd7e7f67d9f84ee?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Carlos", "link": "https://stackoverflow.com/users/12329333/kevin-carlos"}, "edited": false, "score": 0, "creation_date": 1573089674, "post_id": 58740195, "comment_id": 103771123, "body": "Okay. 1) Where&#39;s the parsePorts() code, I don&#39;t see it?  2) It looks like functionCall() is already being fed an array (&quot;portArr&quot;), so where are things going wrong?  Are you just trying to take that array and return it as a value on an object with the key &quot;ports&quot;? 3) I&#39;m not sure I understand what the desired outcome is and where your code isn&#39;t working."}, {"owner": {"reputation": 31, "user_id": 12329333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b925889977712c10cdd7e7f67d9f84ee?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Carlos", "link": "https://stackoverflow.com/users/12329333/kevin-carlos"}, "edited": false, "score": 0, "creation_date": 1573097456, "post_id": 58740195, "comment_id": 103772704, "body": "parsePorts is just determining what kind of port it is, e.g. <code>3000:3000, 3000-3005, 127.0.0.1:3000:3001</code> and determining from there what to do with them. So in the instance of a port range such as 3000-3005, I need to generate each port in that range, 3000, 3001, 3002, 3003, 3004, 3005 to be able to expose each individual one. so <code>const val = parsePorts(p);</code> the return value might be an array containing each port listed above. The desired outcome is after <code>const val = parsePorts(p)</code> to return <b>each</b> individual element to the parent function."}, {"owner": {"reputation": 314, "user_id": 11904900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d88e8473781728cc1fb769a1844175b?s=128&d=identicon&r=PG&f=1", "display_name": "paoiherpoais", "link": "https://stackoverflow.com/users/11904900/paoiherpoais"}, "reply_to_user": {"reputation": 31, "user_id": 12329333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b925889977712c10cdd7e7f67d9f84ee?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Carlos", "link": "https://stackoverflow.com/users/12329333/kevin-carlos"}, "edited": false, "score": 0, "creation_date": 1573099741, "post_id": 58740195, "comment_id": 103773140, "body": "Okay I&#39;m still a little confused at the flow of everything, but just updated my answer so let me know if that&#39;s what you&#39;re looking for."}], "tags": [], "owner": {"reputation": 314, "user_id": 11904900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d88e8473781728cc1fb769a1844175b?s=128&d=identicon&r=PG&f=1", "display_name": "paoiherpoais", "link": "https://stackoverflow.com/users/11904900/paoiherpoais"}, "is_accepted": false, "score": 0, "last_activity_date": 1573099989, "last_edit_date": 1573099989, "creation_date": 1573085481, "answer_id": 58740195, "question_id": 58739921, "link": "https://stackoverflow.com/questions/58739921/unpacking-an-array-and-returning-its-elements/58740195#58740195", "title": "Unpacking an array and returning its elements", "body": "<p>Below is one way to achieve this using a few array methods like .split() and .splice().  Without seeing your code I'm not sure if this will work in your broader program.  For instance, is port: [] a key in some object and its value should be the returned array?   </p>\n\n<pre><code>const sampleLine = '3000-3005';\nconst baseArray = sampleLine.split('-');\nconsole.log(baseArray); // Returns an array with the two values provided in sampleLine.\n\nconst midArray = []; // Setting up the array where we dynamically push the values that fall between the initial two values.\n\n// Here I'm saying that we are going to start by pushing a value that's 1 greater than the minimum in our array and go until we reach the maximum.  We push every value between the two.\nfor (let x = parseInt(baseArray[0]) + 1; x &lt; baseArray[1]; x++) {\n  midArray.push(x.toString());\n};\n\nbaseArray.splice(1, 0, ...midArray); // Use splice and spread operator to inject the values of the midArray into the baseArray.\nconsole.log(baseArray); // Shows an array with values 3000 to 3005.\n</code></pre>\n\n<p>EDIT:  Updated to take into account OP's clarification in the comments section below.</p>\n\n<pre><code>// Here is our portArr with three different port formats.\nconst portArr = ['3000-3005', '3000:3006', '127.0.0.1:3000:3001']\n\n// This function will be called in our createRange function.  Its job is to return a new array without non-numeric characters and other unnecessary numbers.  This establishes the \"min\" and \"max\" for our range.\nconst functionCall = (arr) =&gt; {\n  return arr.map((port) =&gt; {\n    return port.substring(port.length - 9, port.length).split(/[^0-9]/);\n  });\n};\n\n// createRange takes an array and is called on our object that contains the \"port\" key.  We will pass in our portArr and start by calling functionCall.  We'll then iterate through each value in the multidimensional array.  Each value is an array of its own, so we use a for loop inside our forEach() method to create our range, pushing that to an interim array called stagingArr, then pushing that to the final returned array called portRangeArr.\nconst createRange = (arr) =&gt; {\n  const formattedPortArr = functionCall(arr);\n  const portRangeArr = new Array;\n\n  formattedPortArr.forEach((portArr) =&gt; {\n    let stagingArr = new Array;\n\n    for (let x = parseInt(portArr[0]); x &lt;= portArr[1]; x++) {\n      stagingArr.push(x.toString());\n    };\n\n    portRangeArr.push(stagingArr);\n  });\n\n  return portRangeArr;\n};\n\n// Create an object with a key \"port\" and a value equal to the return value of calling createRange with our portArr.\nconst portObject = {\n  ports: createRange(portArr)\n};\n\nconsole.log(portObject); // Should show an object with a multidimensional array where each child array contains the range of ports.\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 12329333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b925889977712c10cdd7e7f67d9f84ee?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Carlos", "link": "https://stackoverflow.com/users/12329333/kevin-carlos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573099989, "creation_date": 1573083334, "last_edit_date": 1573087125, "question_id": 58739921, "link": "https://stackoverflow.com/questions/58739921/unpacking-an-array-and-returning-its-elements", "title": "Unpacking an array and returning its elements", "body": "<p>I have a function that returns to me <code>[ '3000', '3001', '3002', '3003', '3004', '3005' ]</code>, where the elements within the array are generated from a range. So if I parse a line and find 3000-3005, I need to create each value in between that and return all of these values to be in a format of\n<code>ports: [ item, item, item, ...]</code>.</p>\n\n<p>I have tried mapping over the individual values and returning them one by one, but obviously that only returns one value, is there a way to return everything individually? I've seen questions like <a href=\"https://stackoverflow.com/questions/2917175/return-multiple-values-in-javascript\">Return multiple values in JavaScript?</a>, but I need the returns to be dynamic since I won't know ahead of time the length, and I feel like I'm missing something.</p>\n\n<p>edit:\nthe structure of the code on a high-level is like this</p>\n\n<pre><code>return (\n...\nports: functionCall(portArr)\n...\n)\n\nfunctionCall(portArr) {\n\nreturn (portArr.map((p) =&gt; {\n    if (typeof p === \"string\") {\n      const val = parsePorts(p);\n\n      return val;\n    }\n\n    return `${p.target}:${p.published}`;\n  });\n\n}\n</code></pre>\n\n<p>Where the parsePorts function is where I determine what type of port structure it is and how to handle it and thats where the function below may be called.</p>\n\n<pre><code>function createRange(port: string, range: string) {\n  const ports = [];\n\n  for (let i = parseInt(port, 10); i &lt;= parseInt(range, 10); i++) {\n    ports.push(`${i}`);\n  }\n  return ports;\n}\n</code></pre>\n\n<p>So <code>val</code> is potentially the array of my generated port ranges and from this function is where I need to return each value individually unpacked from the array</p>\n"}, {"tags": ["javascript", "jquery", "jquery-select2", "placeholder"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1573083298, "post_id": 58739838, "comment_id": 103769768, "body": "If you want it to be treated like a normal value, make it one of the options instead of a placeholder."}], "answers": [{"tags": [], "owner": {"reputation": 3, "user_id": 8882016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6155a57e29587f379c29c537020d1bb3?s=128&d=identicon&r=PG&f=1", "display_name": "Jim 88888", "link": "https://stackoverflow.com/users/8882016/jim-88888"}, "is_accepted": false, "score": 0, "last_activity_date": 1573153458, "creation_date": 1573153458, "answer_id": 58755411, "question_id": 58739838, "link": "https://stackoverflow.com/questions/58739838/select2-return-a-placeholder-value-with-jquery/58755411#58755411", "title": "Select2 return a placeholder value with jquery", "body": "<p>Fixed it.  The heart of the issue is the blank option requirement...but you need to include the id in the blank option.</p>\n\n<pre><code>&lt;script src=\"https://code.jquery.com/jquery-1.12.4.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.10/js/select2.min.js\"&gt;&lt;/script&gt;\n&lt;link href=\"https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.10/css/select2.min.css\" rel=\"stylesheet\" /&gt;\n&lt;select style=\"width:400px;\" id=\"filter\" &gt;\n  &lt;option value=\"99999\"&gt;&lt;/option&gt;\n  &lt;option value=\"1\"&gt;example 1&lt;/option&gt;\n  &lt;option value=\"1\"&gt;example 1&lt;/option&gt;\n  &lt;option value=\"2\"&gt;example 2&lt;/option&gt;\n  &lt;option value=\"3\"&gt;example 3&lt;/option&gt;\n&lt;/select&gt;\n&lt;button id=\"clickme\"&gt;clickme&lt;/button&gt;\n\n$('#filter').select2({\n    allowClear: true,\n    placeholder: {\n        id: \"99999\",\n        text: \"select something\"\n    }\n    //placeholder: \"select something\"\n})\n$('#clickme').click(function() {\n    console.log($('#filter').children(\"option:selected\").val());\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/juwmb3oh/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/juwmb3oh/</a></p>\n"}], "owner": {"reputation": 3, "user_id": 8882016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6155a57e29587f379c29c537020d1bb3?s=128&d=identicon&r=PG&f=1", "display_name": "Jim 88888", "link": "https://stackoverflow.com/users/8882016/jim-88888"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573153458, "creation_date": 1573082606, "question_id": 58739838, "link": "https://stackoverflow.com/questions/58739838/select2-return-a-placeholder-value-with-jquery", "title": "Select2 return a placeholder value with jquery", "body": "<p>I am looking to return a value from a select2 box when the placeholder is shown.  No matter what I do It returns null or empty instead of the expected value.  I want to somehow get '99999' in this example when the user has not chosen anything:</p>\n\n<pre><code>&lt;select id='filter'&gt;\n&lt;option value='1'&gt;one&lt;/option&gt;\n&lt;option value='2'&gt;two&lt;/option&gt;\n&lt;option value='3'&gt;three&lt;/option&gt;\n&lt;/select&gt;\n\n...\n\n$('#filter').select2 ({\n    allowClear: true,\n    placeholder: {\n        id: '99999',\n        text: 'select something'\n    }\n});\n\n...\n\nconsole.log($('#filter').val());  // returns null when placeholder visible\nconsole.log($('#filter').select2('data'));  // returns [] when placeholder visible\n</code></pre>\n"}, {"tags": ["javascript", "react-native", "expo"], "comments": [{"owner": {"reputation": 325, "user_id": 2049272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0017278c1501271af89d5f506d452b9a?s=128&d=identicon&r=PG", "display_name": "Invincible_Pain", "link": "https://stackoverflow.com/users/2049272/invincible-pain"}, "edited": false, "score": 0, "creation_date": 1573082566, "post_id": 58739829, "comment_id": 103769595, "body": "sorry I mean the &#39;element&#39; in variable &#39;uniq_identifier&#39;, which is <code>completeID-${element}</code> always 1"}, {"owner": {"reputation": 2860, "user_id": 12046148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/039c7e7445eb52d65ba41f7ecdf27e04?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg", "link": "https://stackoverflow.com/users/12046148/oleg"}, "edited": false, "score": 0, "creation_date": 1573098514, "post_id": 58739829, "comment_id": 103772905, "body": "Can you log the array object and do you mean it always 1 when you use console.log line like in question code?"}], "owner": {"reputation": 325, "user_id": 2049272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0017278c1501271af89d5f506d452b9a?s=128&d=identicon&r=PG", "display_name": "Invincible_Pain", "link": "https://stackoverflow.com/users/2049272/invincible-pain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573082512, "creation_date": 1573082512, "question_id": 58739829, "link": "https://stackoverflow.com/questions/58739829/javascript-variable-overriden-issue-in-expo-createcategoryasync", "title": "Javascript variable overriden issue in Expo createCategoryAsync", "body": "<p>I know everyone may had this issue before and I think this one maybe the same but what I expected is the 'uniq_identifier' should be series numbers, like 0, 1, 2, 3....      but I always get 1 for ever. </p>\n\n<pre><code>enter code here\narray.forEach(element =&gt; {\n        let categoryId = 'categoryId'\n        let body = 'Press and hold for more options, God bless USA!';\n        console.log(`completeID-${element}`);\n        var uniq_identifier = `completeID-${element}`;\n\n\n        Notifications.createCategoryAsync(uniq_identifier, [\n            {\n              actionId: uniq_identifier,\n              buttonTitle: `USA ${element}`,\n              isDestructive: false,\n              isAuthenticationRequired: false,\n            },\n            {\n              actionId: 'God and me',\n              buttonTitle: 'Delay',\n              isDestructive: false,\n              isAuthenticationRequired: false,\n            },\n        ]).then(() =&gt; {\n            console.log('var in async: ', element);\n        });\n});\n</code></pre>\n"}, {"tags": ["javascript", "angular"], "comments": [{"owner": {"reputation": 1513, "user_id": 6872740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Adihz.jpg?s=128&g=1", "display_name": "shuk", "link": "https://stackoverflow.com/users/6872740/shuk"}, "edited": false, "score": 0, "creation_date": 1573082561, "post_id": 58739819, "comment_id": 103769593, "body": "just put the navigation line inside the setTimeout function"}, {"owner": {"reputation": 4879, "user_id": 3213172, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/9h5GT.jpg?s=128&g=1", "display_name": "djfdev", "link": "https://stackoverflow.com/users/3213172/djfdev"}, "edited": false, "score": 0, "creation_date": 1573082584, "post_id": 58739819, "comment_id": 103769600, "body": "Try placing the navigation line inside of the timeout&#39;s callback function."}, {"owner": {"reputation": 154, "user_id": 668586, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/999ccb6c34f0efb04e9de7f0e74601e5?s=128&d=identicon&r=PG", "display_name": "integral100x", "link": "https://stackoverflow.com/users/668586/integral100x"}, "edited": false, "score": 0, "creation_date": 1573140873, "post_id": 58739819, "comment_id": 103792184, "body": "Tried this and the answers below, but it doesn&#39;t seem to sleep for 5 seconds before navigating..."}], "answers": [{"comments": [{"owner": {"reputation": 3177, "user_id": 5855223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88355cefe2d0020c1d05205ed4d20f53?s=128&d=identicon&r=PG&f=1", "display_name": "Chava Geldzahler", "link": "https://stackoverflow.com/users/5855223/chava-geldzahler"}, "edited": false, "score": 0, "creation_date": 1573088864, "post_id": 58739832, "comment_id": 103770982, "body": "Please don&#39;t post only code as an answer, but include an explanation what your code does and how it solves the problem of the question. Answers with an explanation are generally of higher quality, and are more likely to attract upvotes."}, {"owner": {"reputation": 277, "user_id": 12333471, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0GUgTX35bXk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcPE6shKp3Tyo7oRqAn7vjm1PXZBA/photo.jpg?sz=128", "display_name": "Viktor Garba", "link": "https://stackoverflow.com/users/12333471/viktor-garba"}, "reply_to_user": {"reputation": 3177, "user_id": 5855223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88355cefe2d0020c1d05205ed4d20f53?s=128&d=identicon&r=PG&f=1", "display_name": "Chava Geldzahler", "link": "https://stackoverflow.com/users/5855223/chava-geldzahler"}, "edited": false, "score": 0, "creation_date": 1573147782, "post_id": 58739832, "comment_id": 103796082, "body": "Thank you for the feedback. I will keep that in mind!"}], "tags": [], "owner": {"reputation": 277, "user_id": 12333471, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0GUgTX35bXk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcPE6shKp3Tyo7oRqAn7vjm1PXZBA/photo.jpg?sz=128", "display_name": "Viktor Garba", "link": "https://stackoverflow.com/users/12333471/viktor-garba"}, "is_accepted": false, "score": -1, "last_activity_date": 1573113080, "last_edit_date": 1573113080, "creation_date": 1573082583, "answer_id": 58739832, "question_id": 58739819, "link": "https://stackoverflow.com/questions/58739819/how-do-i-make-angular-sleep-for-5-seconds-before-navigating-to-a-new-page/58739832#58739832", "title": "How do I make Angular sleep for 5 seconds before navigating to a new page?", "body": "<p>You can try this:</p>\n\n<pre><code>setTimeout(() =&gt; {\n    this.router.navigate(['/question', this.getQuestionID() + 1]);\n}, 5000);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1573109063, "post_id": 58739854, "comment_id": 103775520, "body": "What if the user navigates away before those 5s have passed?"}], "tags": [], "owner": {"reputation": 7547, "user_id": 3429323, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fc5012a49b4671fdf8c473ee90190fc0?s=128&d=identicon&r=PG", "display_name": "Elias Soares", "link": "https://stackoverflow.com/users/3429323/elias-soares"}, "is_accepted": true, "score": 4, "last_activity_date": 1573114121, "last_edit_date": 1573114121, "creation_date": 1573082781, "answer_id": 58739854, "question_id": 58739819, "link": "https://stackoverflow.com/questions/58739819/how-do-i-make-angular-sleep-for-5-seconds-before-navigating-to-a-new-page/58739854#58739854", "title": "How do I make Angular sleep for 5 seconds before navigating to a new page?", "body": "<p>This happens because <code>setTimeout</code> don't block code execution, instead it schedules a callback function execution. That said, your navigate call is outside the callback. This means that it will run right after the callback scheduling, not at it execution.</p>\n\n<p>The right code is:</p>\n\n<pre><code>setTimeout(() =&gt; {\n  console.log('sleep');\n  this.router.navigate(['/question', this.getQuestionID() + 1]);\n  // And any other code that should run only after 5s\n}, 5000);\n</code></pre>\n\n<p><em>Note:</em></p>\n\n<p>If user try to navigate away using some angular router link before tge 5s, it will still run the navigate after 5s causing an strange behavior.</p>\n\n<p>You should neither:</p>\n\n<ol>\n<li>Cancel the timeout on route change; or</li>\n<li>Block the entire page to avoid clicking on any other route.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 691, "user_id": 9985388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buqZ8.jpg?s=128&g=1", "display_name": "AyushKatiyar", "link": "https://stackoverflow.com/users/9985388/ayushkatiyar"}, "is_accepted": false, "score": 0, "last_activity_date": 1573108798, "creation_date": 1573108798, "answer_id": 58743241, "question_id": 58739819, "link": "https://stackoverflow.com/questions/58739819/how-do-i-make-angular-sleep-for-5-seconds-before-navigating-to-a-new-page/58743241#58743241", "title": "How do I make Angular sleep for 5 seconds before navigating to a new page?", "body": "<p>The code that is written inside the <code>setTimeout(()=&gt;{},5000)</code> sleeps for 5 sec so try using</p>\n\n<pre><code>setTimeout(() =&gt; {\n    console.log('sleep');\n    this.router.navigate(['/question', this.getQuestionID() + 1]);\n  }, 5000);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 598, "user_id": 9958724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a23bd2bafb668c74acede81fdcf29be1?s=128&d=identicon&r=PG&f=1", "display_name": "Roman \u0160im&#237;k", "link": "https://stackoverflow.com/users/9958724/roman-%c5%a0im%c3%adk"}, "is_accepted": false, "score": 0, "last_activity_date": 1573110633, "creation_date": 1573110633, "answer_id": 58743606, "question_id": 58739819, "link": "https://stackoverflow.com/questions/58739819/how-do-i-make-angular-sleep-for-5-seconds-before-navigating-to-a-new-page/58743606#58743606", "title": "How do I make Angular sleep for 5 seconds before navigating to a new page?", "body": "<p>If you want it written in the best way, you should use <strong>RXJS</strong> <code>timer</code> operator (<a href=\"https://www.learnrxjs.io/operators/creation/timer.html\" rel=\"nofollow noreferrer\">documentation</a>)</p>\n\n<pre><code>const subscription = timer(5000).subscribe(() =&gt; {\n    this.router.navigate(['/question', this.getQuestionID() + 1]);\n)};\n</code></pre>\n\n<p>also don't forget to unsubscribe in <code>ngOnDestroy</code> lifecycle hook (<a href=\"https://angular.io/api/core/OnDestroy\" rel=\"nofollow noreferrer\">documentation</a>)</p>\n\n<pre><code>ngOnDestroy() {\n   if (this.subscription) {\n       this.subscription.unsubscribe();\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 154, "user_id": 668586, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/999ccb6c34f0efb04e9de7f0e74601e5?s=128&d=identicon&r=PG", "display_name": "integral100x", "link": "https://stackoverflow.com/users/668586/integral100x"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4614, "favorite_count": 0, "accepted_answer_id": 58739854, "answer_count": 4, "score": 1, "last_activity_date": 1598229223, "creation_date": 1573082454, "last_edit_date": 1598229223, "question_id": 58739819, "link": "https://stackoverflow.com/questions/58739819/how-do-i-make-angular-sleep-for-5-seconds-before-navigating-to-a-new-page", "title": "How do I make Angular sleep for 5 seconds before navigating to a new page?", "body": "<p>Quick question, how do I make Angular sleep for 5 seconds before navigating to a new page?</p>\n\n<p>I'm trying this inside my function but it doesn't seem to work:</p>\n\n<pre><code>setTimeout(() =&gt; {\n        console.log('sleep');\n      }, 5000);\nthis.router.navigate(['/question', this.getQuestionID() + 1]);\n...\n</code></pre>\n"}, {"tags": ["javascript", "amcharts"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 12328759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4639263de44be2257d82272d49563327?s=128&d=identicon&r=PG&f=1", "display_name": "AlexSoftware", "link": "https://stackoverflow.com/users/12328759/alexsoftware"}, "edited": false, "score": 0, "creation_date": 1573175457, "post_id": 58758899, "comment_id": 103805591, "body": "This is very close to what I am looking for, the only thing is that when disabling/hiding the bar/columns then the value axis disappears. I also had to edit the lines : e.chart.valueAxes[0].minimum = Math.min(e.chart.valueAxes[0].min, e.chart.valueAxes[1].mix);       e.chart.valueAxes[1].minimum = Math.min(e.chart.valueAxes[0].min, e.chart.valueAxes[1].mix);       and change the .mix to .min unsure if this was just a typo."}, {"owner": {"reputation": 14487, "user_id": 6106614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/maZZf.png?s=128&g=1", "display_name": "xorspark", "link": "https://stackoverflow.com/users/6106614/xorspark"}, "reply_to_user": {"reputation": 5, "user_id": 12328759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4639263de44be2257d82272d49563327?s=128&d=identicon&r=PG&f=1", "display_name": "AlexSoftware", "link": "https://stackoverflow.com/users/12328759/alexsoftware"}, "edited": false, "score": 0, "creation_date": 1573180536, "post_id": 58758899, "comment_id": 103806608, "body": "Definitely a typo. The demo had the right code though. As for the value axis disappearing, add <a href=\"https://docs.amcharts.com/3/javascriptcharts/ValueAxis#includeHidden\" rel=\"nofollow noreferrer\"><code>includeHidden</code></a> in the visible axis and set it to true. I&#39;ve updated my answer."}, {"owner": {"reputation": 5, "user_id": 12328759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4639263de44be2257d82272d49563327?s=128&d=identicon&r=PG&f=1", "display_name": "AlexSoftware", "link": "https://stackoverflow.com/users/12328759/alexsoftware"}, "edited": false, "score": 0, "creation_date": 1573184513, "post_id": 58758899, "comment_id": 103807463, "body": "Just an addition to this question. So you make the event happen on &quot;Init&quot;, on the page I am using if there is no initial data but data isn&#39;t provided until I rerender the page then what event would I use to make sure that each time the data is given that the mix/max of the axis is redone.  For example at the moment the first page having no data sets the axis to be min:0 / Max: 10 but these limits will stay when I swap to the other setting with brings in data and the axis stays at Min:0 / Max: 10 but the real max is 110,000.  Hope the question makes sense."}, {"owner": {"reputation": 14487, "user_id": 6106614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/maZZf.png?s=128&g=1", "display_name": "xorspark", "link": "https://stackoverflow.com/users/6106614/xorspark"}, "reply_to_user": {"reputation": 5, "user_id": 12328759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4639263de44be2257d82272d49563327?s=128&d=identicon&r=PG&f=1", "display_name": "AlexSoftware", "link": "https://stackoverflow.com/users/12328759/alexsoftware"}, "edited": false, "score": 0, "creation_date": 1573218134, "post_id": 58758899, "comment_id": 103819859, "body": "Use <a href=\"http://docs.amcharts.com/3/javascriptcharts/AmSerialChart#dataUpdated\" rel=\"nofollow noreferrer\"><code>dataUpdated</code></a> instead. Note that <code>validateData</code> triggers this event, so you&#39;ll want to wrap the code in an if that checks for a flag that gets unset after it syncs the axes or it will otherwise trigger an infinite loop. Answer updated."}, {"owner": {"reputation": 5, "user_id": 12328759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4639263de44be2257d82272d49563327?s=128&d=identicon&r=PG&f=1", "display_name": "AlexSoftware", "link": "https://stackoverflow.com/users/12328759/alexsoftware"}, "edited": false, "score": 0, "creation_date": 1573509843, "post_id": 58758899, "comment_id": 103898045, "body": "Since the first page is setting the min/max of the values of the axis what seems to be happening is it is in a loop setting the same values. Because the min/max of both valueAxes[0] and valueAxes[1] are 0/10 so each time if goes into this method it just sets the min/max to these same values."}, {"owner": {"reputation": 5, "user_id": 12328759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4639263de44be2257d82272d49563327?s=128&d=identicon&r=PG&f=1", "display_name": "AlexSoftware", "link": "https://stackoverflow.com/users/12328759/alexsoftware"}, "edited": false, "score": 0, "creation_date": 1573510067, "post_id": 58758899, "comment_id": 103898136, "body": "I don&#39;t know if this changes anything but I have found that the first page does receive data but it is always set to 0, so there is only a value of 0 for each series. But once clicking the button to change page then the data has proper values of 100,000+"}, {"owner": {"reputation": 14487, "user_id": 6106614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/maZZf.png?s=128&g=1", "display_name": "xorspark", "link": "https://stackoverflow.com/users/6106614/xorspark"}, "reply_to_user": {"reputation": 5, "user_id": 12328759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4639263de44be2257d82272d49563327?s=128&d=identicon&r=PG&f=1", "display_name": "AlexSoftware", "link": "https://stackoverflow.com/users/12328759/alexsoftware"}, "edited": false, "score": 0, "creation_date": 1573516742, "post_id": 58758899, "comment_id": 103899894, "body": "You need to unset the <code>minimum</code> and <code>maximum</code> in your value axes, call <code>validateData</code> to enable the automatic axis again, then force/sync the axes to the new automatic values.. I updated the answer again."}, {"owner": {"reputation": 5, "user_id": 12328759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4639263de44be2257d82272d49563327?s=128&d=identicon&r=PG&f=1", "display_name": "AlexSoftware", "link": "https://stackoverflow.com/users/12328759/alexsoftware"}, "edited": false, "score": 0, "creation_date": 1573528392, "post_id": 58758899, "comment_id": 103902035, "body": "The final edit seems to have worked with some alterations. On each of the chart.valueAxes... = undefined; I had to change to e.chart.valueaxes.... It didn&#39;t seem to like the setTimeout so removed that altogether. I also had to add in the other two lines which set the e.chart.valueAxes[0]... to the code. Once I did all this is seemed to have worked and given the desired outcome. Thanks."}], "tags": [], "owner": {"reputation": 14487, "user_id": 6106614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/maZZf.png?s=128&g=1", "display_name": "xorspark", "link": "https://stackoverflow.com/users/6106614/xorspark"}, "is_accepted": true, "score": 0, "last_activity_date": 1573528729, "last_edit_date": 1573528729, "creation_date": 1573174105, "answer_id": 58758899, "question_id": 58739813, "link": "https://stackoverflow.com/questions/58739813/how-to-unstack-the-line-series-on-a-chart-amcharts3/58758899#58758899", "title": "How to unstack the line series on a chart: AMCharts3", "body": "<p>Stacking is accomplished through the axis. If you want the lines to not stack, put them in a separate value axis that does not have <code>stackType</code> set and link the graphs to the value axis id through the <code>valueAxis</code> property. You'll also want to consider disabling the lines' value axis' labels, grid and sync the min/max as well:</p>\n\n<pre><code>graphs:[{\n  type: \"line\",\n  // ...\n  valueAxis: \"dollarAxis-line\"\n },\n  // ...\n],\nvalueAxes: [\n  {\n    \"id\": \"dollarAxis\",\n    \"includeHidden\": true,\n     // ...\n  },\n  {\n    \"id\": \"dollarAxis-line\",\n    \"labelsEnabled\": false,\n    \"gridAlpha\": 0,\n    \"axisAlpha\": 0,\n  }\n],\n\"listeners\": [{\n  \"event\": \"init\",\n  \"method\": function(e) {\n    // sync axes\n    e.chart.valueAxes[0].maximum = Math.max(e.chart.valueAxes[0].max, e.chart.valueAxes[1].max);\n    e.chart.valueAxes[0].minimum = Math.min(e.chart.valueAxes[0].min, e.chart.valueAxes[1].min);\n    e.chart.valueAxes[1].maximum = Math.max(e.chart.valueAxes[0].max, e.chart.valueAxes[1].max);\n    e.chart.valueAxes[1].minimum = Math.min(e.chart.valueAxes[0].min, e.chart.valueAxes[1].min);\n    e.chart.validateData();\n\n  }\n}]\n</code></pre>\n\n<p><em>Edit:</em>\nIf you're starting with an empty chart, you may want to consider using the <code>dataUpdated</code> event instead so that it will resync the axes after you update the dataProvider. The <code>validateData</code> method triggers this event, so you'll want to wrap this call in a conditional that checks for a flag so that the chart doesn't keep calling this method infinitely.</p>\n\n<pre><code>  \"listeners\": [{\n    \"event\": \"dataUpdated\",\n    \"method\": function(e) {\n      setTimeout(function() {\n        if (!e.chart.updating) {\n          e.chart.updating = true;\n          // sync axes\n          e.chart.valueAxes[0].maximum = undefined;\n          e.chart.valueAxes[0].minimum = undefined;\n          e.chart.valueAxes[1].maximum = undefined;\n          e.chart.valueAxes[1].minimum = undefined;\n          e.chart.validateData();\n          e.chart.valueAxes[1].maximum = e.chart.valueAxes[0].maximum = Math.max(e.chart.valueAxes[0].max, e.chart.valueAxes[1].max);\n          e.chart.valueAxes[1].minimum = e.chart.valueAxes[0].minimum = Math.min(e.chart.valueAxes[0].min, e.chart.valueAxes[1].mix);\n          e.chart.validateData();\n          e.chart.updating = false;\n        }\n      }, 100);\n    }\n  }]\n</code></pre>\n\n<p>Demo below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var chart = AmCharts.makeChart(\"chartdiv\", {\r\n  \"type\": \"serial\",\r\n  \"categoryField\": \"category\",\r\n  \"fontFamily\": \"arial\",\r\n  \"categoryAxis\": {\r\n    \"gridPosition\": \"start\",\r\n    \"title\": \"Time\",\r\n    \"titleRotation\": 0\r\n  },\r\n  \"trendLines\": [],\r\n  \"graphs\": [{\r\n      \"balloonText\": \"[[title]] of [[category]]:[[value]]\",\r\n      \"balloonColor\": \"#000066\",\r\n      \"fillColors\": \"#000066\",\r\n      \"lineColor\": \"#000066\",\r\n      \"fillAlphas\": 1,\r\n      \"id\": \"coverUpper\",\r\n      \"title\": \"Hedging\",\r\n      \"newStack\": false,\r\n      \"type\": \"column\",\r\n      \"valueField\": \"hedging\"\r\n    },\r\n    {\r\n      \"balloonText\": \"[[title]] of [[category]]:[[value]]\",\r\n      \"balloonColor\": \"#000066\",\r\n      \"fillColors\": \"#000066\",\r\n      \"lineColor\": \"#000066\",\r\n      \"fillAlphas\": 1,\r\n      \"id\": \"coverAdditional\",\r\n      \"title\": \"Maximum Additional Hedging\",\r\n      \"type\": \"column\",\r\n      \"newStack\": false,\r\n      \"valueField\": \"maxAdditionalHedging\",\r\n      \"pattern\": {\r\n        \"url\": \"https://www.amcharts.com/lib/3/patterns/black/pattern5.png\",\r\n        \"width\": 4,\r\n        \"height\": 4\r\n      }\r\n    }, {\r\n      \"balloonText\": \"[[title]] of [[category]]:[[value]]\",\r\n      \"fillAlphas\": 1,\r\n      \"balloonColor\": \"#B0DE09\",\r\n      \"fillColors\": \"#B0DE09\",\r\n      \"lineColor\": \"#B0DE09\",\r\n      \"id\": \"cfGraph\",\r\n      \"title\": \"Forecasted Cashflows\",\r\n      \"type\": \"column\",\r\n      \"newStack\": true,\r\n      \"valueField\": \"exposure\"\r\n    }, {\r\n      \"balloonText\": \"[[title]] of [[category]]:[[value]]\",\r\n      \"bullet\": \"triangleUp\",\r\n      \"balloonColor\": \"#014310\",\r\n      \"fillColors\": \"#014310\",\r\n      \"lineColor\": \"#014310\",\r\n      \"bulletAlpha\": 0.6,\r\n      \"dashLength\": 7,\r\n      \"id\": \"polMin\",\r\n      \"valueAxis\": \"dollarAxis-line\",\r\n      \"title\": \"Policy Minimum\",\r\n      \"valueField\": \"minHedge\"\r\n    }, {\r\n      \"balloonText\": \"[[title]] of [[category]]:[[value]]\",\r\n      \"bullet\": \"triangleDown\",\r\n      \"type\": \"line\",\r\n      \"balloonColor\": \"#014310\",\r\n      \"fillColors\": \"#014310\",\r\n      \"lineColor\": \"#014310\",\r\n      \"bulletAlpha\": 0.6,\r\n      \"dashLength\": 7,\r\n      \"id\": \"polMax\",\r\n      \"valueAxis\": \"dollarAxis-line\",\r\n      \"title\": \"Policy Maximum\",\r\n      \"valueField\": \"maxHedge\"\r\n    }\r\n  ],\r\n  \"guides\": [],\r\n  \"valueAxes\": [{\r\n      \"id\": \"dollarAxis\",\r\n      \"stackType\": \"regular\",\r\n      \"includeHidden\": true,\r\n      \"title\": \"Amount ($)\"\r\n    },\r\n    {\r\n      \"id\": \"dollarAxis-line\",\r\n      \"stackType\": \"none\",\r\n      \"labelsEnabled\": false,\r\n      \"gridAlpha\": 0,\r\n      \"axisAlpha\": 0\r\n    }\r\n  ],\r\n  \"allLabels\": [],\r\n  \"balloon\": {},\r\n  \"legend\": {\r\n    \"enabled\": true,\r\n    \"useGraphSettings\": true,\r\n    \"spacing\": 0,\r\n    \"valueWidth\": 15\r\n  },\r\n  \"export\": {\r\n    \"enabled\": true\r\n  },\r\n  \"dataProvider\": [{\r\n      \"category\": \"Category 1\",\r\n      \"minHedge\": 151218,\r\n      \"hedging\": 111436,\r\n      \"maxHedge\": 236849,\r\n      \"maxAdditionalHedging\": 272065,\r\n      \"additionalHedging\": 233236,\r\n      \"exposure\": 163731\r\n    },\r\n    {\r\n      \"category\": \"Category 2\",\r\n      \"minHedge\": 150517,\r\n      \"hedging\": 137299,\r\n      \"maxHedge\": 258805,\r\n      \"maxAdditionalHedging\": 254932,\r\n      \"additionalHedging\": 183495,\r\n      \"exposure\": 111847\r\n    },\r\n    {\r\n      \"category\": \"Category 3\",\r\n      \"minHedge\": 158456,\r\n      \"hedging\": 198219,\r\n      \"maxHedge\": 231274,\r\n      \"maxAdditionalHedging\": 259615,\r\n      \"additionalHedging\": 187108,\r\n      \"exposure\": 168738\r\n    },\r\n    {\r\n      \"category\": \"Category 4\",\r\n      \"minHedge\": 167931,\r\n      \"hedging\": 173121,\r\n      \"maxHedge\": 263334,\r\n      \"maxAdditionalHedging\": 260449,\r\n      \"additionalHedging\": 229972,\r\n      \"exposure\": 156174\r\n    },\r\n    {\r\n      \"category\": \"Category 5\",\r\n      \"minHedge\": 164449,\r\n      \"hedging\": 157823,\r\n      \"maxHedge\": 268980,\r\n      \"maxAdditionalHedging\": 268896,\r\n      \"additionalHedging\": 180031,\r\n      \"exposure\": 100893\r\n    },\r\n    {\r\n      \"category\": \"Category 6\",\r\n      \"minHedge\": 166465,\r\n      \"hedging\": 128504,\r\n      \"maxHedge\": 241036,\r\n      \"maxAdditionalHedging\": 269858,\r\n      \"additionalHedging\": 230233,\r\n      \"exposure\": 117158\r\n    },\r\n    {\r\n      \"category\": \"Category 7\",\r\n      \"minHedge\": 167117,\r\n      \"hedging\": 110649,\r\n      \"maxHedge\": 229749,\r\n      \"maxAdditionalHedging\": 262671,\r\n      \"additionalHedging\": 201500,\r\n      \"exposure\": 188282\r\n    },\r\n    {\r\n      \"category\": \"Category 8\",\r\n      \"minHedge\": 151167,\r\n      \"hedging\": 123489,\r\n      \"maxHedge\": 249919,\r\n      \"maxAdditionalHedging\": 268805,\r\n      \"additionalHedging\": 206302,\r\n      \"exposure\": 120797\r\n    },\r\n    {\r\n      \"category\": \"Category 9\",\r\n      \"minHedge\": 154961,\r\n      \"hedging\": 185898,\r\n      \"maxHedge\": 269185,\r\n      \"maxAdditionalHedging\": 271949,\r\n      \"additionalHedging\": 173116,\r\n      \"exposure\": 184312\r\n    },\r\n    {\r\n      \"category\": \"Category 10\",\r\n      \"minHedge\": 154385,\r\n      \"hedging\": 141307,\r\n      \"maxHedge\": 234509,\r\n      \"maxAdditionalHedging\": 274889,\r\n      \"additionalHedging\": 216132,\r\n      \"exposure\": 111974\r\n    }\r\n  ],\r\n  \"listeners\": [{\r\n    \"event\": \"dataUpdated\",\r\n    \"method\": function(e) {\r\n      setTimeout(function() {\r\n        if (!e.chart.updating) {\r\n          e.chart.updating = true;\r\n          // sync axes\r\n          e.chart.valueAxes[0].maximum = undefined;\r\n          e.chart.valueAxes[0].minimum = undefined;\r\n          e.chart.valueAxes[1].maximum = undefined;\r\n          e.chart.valueAxes[1].minimum = undefined;\r\n          e.chart.validateData();\r\n          e.chart.valueAxes[1].maximum = e.chart.valueAxes[0].maximum = Math.max(e.chart.valueAxes[0].max, e.chart.valueAxes[1].max);\r\n          e.chart.valueAxes[1].minimum = e.chart.valueAxes[0].minimum = Math.min(e.chart.valueAxes[0].min, e.chart.valueAxes[1].mix);\r\n          e.chart.validateData();\r\n          e.chart.updating = false;\r\n        }\r\n      }, 100);\r\n    }\r\n  }]\r\n});\r\n\r\nfunction generateData() {\r\n  var data = [];\r\n  for (var i = 0; i &lt; 10; ++i) {\r\n    data.push({\r\n      \"category\": \"Category \" + (i + 1),\r\n      \"minHedge\": Math.floor(Math.random() * 100000 + 200000),\r\n      \"hedging\": Math.floor(Math.random() * 150000 + 225000),\r\n      \"maxHedge\": Math.floor(Math.random() * 250000 + 200000),\r\n      \"maxAdditionalHedging\": Math.floor(Math.random() * 100000 + 200000),\r\n      \"additionalHedging\": Math.floor(Math.random() * 150000 + 275000),\r\n      \"exposure\": Math.floor(Math.random() * 225000 + 375000)\r\n    });\r\n  }\r\n  chart.dataProvider = data;\r\n  chart.validateData();\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script type=\"text/javascript\" src=\"https://www.amcharts.com/lib/3/amcharts.js\"&gt;&lt;/script&gt;\r\n&lt;script type=\"text/javascript\" src=\"https://www.amcharts.com/lib/3/serial.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"chartdiv\" style=\"width: 100%; height: 300px;\"&gt;&lt;/div&gt;\r\n&lt;button onclick=\"generateData()\"&gt;Generate Data&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 5, "user_id": 12328759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4639263de44be2257d82272d49563327?s=128&d=identicon&r=PG&f=1", "display_name": "AlexSoftware", "link": "https://stackoverflow.com/users/12328759/alexsoftware"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 58758899, "answer_count": 1, "score": 0, "last_activity_date": 1573528729, "creation_date": 1573082396, "question_id": 58739813, "link": "https://stackoverflow.com/questions/58739813/how-to-unstack-the-line-series-on-a-chart-amcharts3", "title": "How to unstack the line series on a chart: AMCharts3", "body": "<p>So on my chart I have bars and lines and I want the bar series to be stacked like in the image below but I don't want the line series to be stacked. \n<a href=\"https://i.stack.imgur.com/wt0TF.png\" rel=\"nofollow noreferrer\">Example of the current Chart</a></p>\n\n<p>In the example image, the top line series value for the first 3 points is 100,000 but it sits at 150,000, whereas the bottom line series is valued at 50,000 and sits at 50,000 so I believe they are stacking which I don't want to happen.</p>\n\n<p>I want the chart to look exactly the same but having the line series to sit at the correct value on the yAxis.</p>\n\n<pre><code>let {dataProvider, displayCurrency} = this.props;\n    var config = {\n        \"type\":\"serial\",\n        \"categoryField\":\"category\",\n        \"fontFamily\":\"arial\",\n        \"categoryAxis\":{\n            \"gridPosition\":\"start\",\n            \"title\":\"Time\",\n            \"titleRotation\":0\n        },\n        \"trendLines\":[],\n        \"graphs\":[\n            {\n                \"balloonText\": \"[[title]] of [[category]]:[[value]]\",\n                \"balloonFunction\" : formatGraphMoneyBallon(\"Hedging\"),\n                \"balloonColor\": \"#000066\",\n                \"fillColors\": \"#000066\",\n                \"lineColor\": \"#000066\",\n                \"fillAlphas\": 1,\n                \"id\": \"coverUpper\",\n                \"title\": \"Hedging\",\n                \"newStack\": false,\n                \"type\": \"column\",\n                \"valueField\": \"hedging\"\n            },\n            {\n                \"balloonText\": \"[[title]] of [[category]]:[[value]]\",\n                \"balloonFunction\" : formatGraphMoneyBallon(\"Maximum Additional Hedging\"),\n                \"balloonColor\": \"#000066\",\n                \"fillColors\": \"#000066\",\n                \"lineColor\": \"#000066\",\n                \"fillAlphas\": 1,\n                \"id\": \"coverAdditional\",\n                \"title\": \"Maximum Additional Hedging\",\n                \"type\": \"column\",\n                \"newStack\": false,\n                \"valueField\": \"maxAdditionalHedging\",\n                \"pattern\": {\n                    \"url\": \"https://www.amcharts.com/lib/3/patterns/black/pattern5.png\",\n                    \"width\": 4,\n                    \"height\": 4\n                      }\n            }, {\n                \"balloonText\": \"[[title]] of [[category]]:[[value]]\",\n                \"balloonFunction\" : formatGraphMoneyBallon(\"Forecasted Cashflows\"),\n                \"fillAlphas\": 1,\n                \"balloonColor\": \"#B0DE09\",\n                \"fillColors\": \"#B0DE09\",\n                \"lineColor\": \"#B0DE09\",\n                \"id\": \"cfGraph\",\n                \"title\": \"Forecasted Cashflows\",\n                \"type\": \"column\",\n                \"newStack\": true,\n                \"valueField\": \"exposure\"\n            }, {\n                \"balloonText\": \"[[title]] of [[category]]:[[value]]\",\n                \"balloonFunction\" : formatGraphMoneyBallon(\"Policy Minimum\"),\n                \"bullet\": \"triangleUp\",\n                \"balloonColor\": \"#014310\",\n                \"fillColors\": \"#014310\",\n                \"lineColor\": \"#014310\",\n                \"bulletAlpha\": 0.6,\n                \"dashLength\": 7,\n                \"id\": \"polMin\",\n                \"valueAxis\": \"dollarAxis\",\n                \"newStack\": true,\n                \"title\": \"Policy Minimum\",\n                \"valueField\": \"minHedge\"\n            }, {\n                \"balloonText\": \"[[title]] of [[category]]:[[value]]\",\n                \"balloonFunction\" : formatGraphMoneyBallon(\"Policy Maximum\"),\n                \"bullet\": \"triangleDown\",\n                \"type\": \"line\",\n                \"balloonColor\": \"#014310\",\n                \"fillColors\": \"#014310\",\n                \"lineColor\": \"#014310\",\n                \"bulletAlpha\": 0.6,\n                \"dashLength\": 7,\n                \"newStack\": true,\n                \"id\": \"polMax\",\n                \"valueAxis\": \"dollarAxis\",\n                \"title\": \"Policy Maximum\",\n                \"valueField\": \"maxHedge\"\n            }\n        ],\n        \"guides\":[],\n        \"valueAxes\":[\n            {\"id\":\"dollarAxis\",\"stackType\":\"regular\",\"title\":\"Amount \" + displayCurrency}\n        ],\n        \"allLabels\":[],\n        \"balloon\":{},\n        \"legend\":{\n            \"enabled\":true,\n            \"useGraphSettings\":true,\n            \"spacing\": 0,\n            \"valueWidth\":15\n        },\n        \"export\":{\"enabled\":true},\n        \"dataProvider\":dataProvider\n    }\n</code></pre>\n"}, {"tags": ["javascript", "game-engine"], "comments": [{"owner": {"reputation": 4879, "user_id": 3213172, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/9h5GT.jpg?s=128&g=1", "display_name": "djfdev", "link": "https://stackoverflow.com/users/3213172/djfdev"}, "edited": false, "score": 0, "creation_date": 1573085181, "post_id": 58739802, "comment_id": 103770194, "body": "In your post you reference <code>CirclX</code> and <code>CircleYT</code> (neither of which appear in your code). The code contains references to <code>circleX</code> and <code>circleY</code>, as well as <code>CircleX</code> and <code>CicleY</code> which are never actually used. So it appears there are quite a few typos."}, {"owner": {"reputation": 255, "user_id": 11969499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c83ce546b7378b1b774e977174928872?s=128&d=identicon&r=PG", "display_name": "Zachary Blumstein", "link": "https://stackoverflow.com/users/11969499/zachary-blumstein"}, "reply_to_user": {"reputation": 4879, "user_id": 3213172, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/9h5GT.jpg?s=128&g=1", "display_name": "djfdev", "link": "https://stackoverflow.com/users/3213172/djfdev"}, "edited": false, "score": 0, "creation_date": 1573085293, "post_id": 58739802, "comment_id": 103770208, "body": "@djfdev meant to make it say <code>circleY</code> and <code>circleX</code> my bad"}, {"owner": {"reputation": 4879, "user_id": 3213172, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/9h5GT.jpg?s=128&g=1", "display_name": "djfdev", "link": "https://stackoverflow.com/users/3213172/djfdev"}, "edited": false, "score": 0, "creation_date": 1573085876, "post_id": 58739802, "comment_id": 103770336, "body": "But before even getting to any of that, your code is not running because the <code>draw</code> function is undefined in the global scope."}, {"owner": {"reputation": 255, "user_id": 11969499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c83ce546b7378b1b774e977174928872?s=128&d=identicon&r=PG", "display_name": "Zachary Blumstein", "link": "https://stackoverflow.com/users/11969499/zachary-blumstein"}, "reply_to_user": {"reputation": 4879, "user_id": 3213172, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/9h5GT.jpg?s=128&g=1", "display_name": "djfdev", "link": "https://stackoverflow.com/users/3213172/djfdev"}, "edited": false, "score": 0, "creation_date": 1573086212, "post_id": 58739802, "comment_id": 103770411, "body": "are you refering to <code>let draw = () =&gt; {};</code>"}, {"owner": {"reputation": 4879, "user_id": 3213172, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/9h5GT.jpg?s=128&g=1", "display_name": "djfdev", "link": "https://stackoverflow.com/users/3213172/djfdev"}, "edited": false, "score": 0, "creation_date": 1573086313, "post_id": 58739802, "comment_id": 103770440, "body": "There is a <code>draw</code> function defined on line 126. The last line of your code makes a reference to that function, but it is not defined within the same scope and therefore is inaccessible."}, {"owner": {"reputation": 4879, "user_id": 3213172, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/9h5GT.jpg?s=128&g=1", "display_name": "djfdev", "link": "https://stackoverflow.com/users/3213172/djfdev"}, "edited": false, "score": 0, "creation_date": 1573086330, "post_id": 58739802, "comment_id": 103770444, "body": "Check the console to see the resulting error."}, {"owner": {"reputation": 255, "user_id": 11969499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c83ce546b7378b1b774e977174928872?s=128&d=identicon&r=PG", "display_name": "Zachary Blumstein", "link": "https://stackoverflow.com/users/11969499/zachary-blumstein"}, "reply_to_user": {"reputation": 4879, "user_id": 3213172, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/9h5GT.jpg?s=128&g=1", "display_name": "djfdev", "link": "https://stackoverflow.com/users/3213172/djfdev"}, "edited": false, "score": 0, "creation_date": 1573086452, "post_id": 58739802, "comment_id": 103770478, "body": "what am i concoling?"}, {"owner": {"reputation": 255, "user_id": 11969499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c83ce546b7378b1b774e977174928872?s=128&d=identicon&r=PG", "display_name": "Zachary Blumstein", "link": "https://stackoverflow.com/users/11969499/zachary-blumstein"}, "reply_to_user": {"reputation": 4879, "user_id": 3213172, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/9h5GT.jpg?s=128&g=1", "display_name": "djfdev", "link": "https://stackoverflow.com/users/3213172/djfdev"}, "edited": false, "score": 0, "creation_date": 1573086733, "post_id": 58739802, "comment_id": 103770533, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/201979/discussion-between-zachary-blumstein-and-djfdev\">continue this discussion in chat</a>."}], "owner": {"reputation": 255, "user_id": 11969499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c83ce546b7378b1b774e977174928872?s=128&d=identicon&r=PG", "display_name": "Zachary Blumstein", "link": "https://stackoverflow.com/users/11969499/zachary-blumstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573086076, "creation_date": 1573082307, "last_edit_date": 1592644375, "question_id": 58739802, "link": "https://stackoverflow.com/questions/58739802/how-do-i-make-sure-that-that-i-can-make-many-balls-animate-within-my-draw-functi", "title": "How do I make sure that that I can make many balls animate within my draw function in Java Script?", "body": "<p>I am trying to run my code so that the multiple balls apear on the screen. After debugging I found that my <strong>circleX</strong> and <strong>circleY</strong> variable is not appearing in my code. <strong>circlX</strong> is the location of ball I want <strong>CircleX</strong> and <strong>circleY</strong> passed into the <strong>drawManyBalls</strong> function and <strong>drawBallsMoving</strong> function.</p>\n<p>I'm not sure why it's not running my code or not seeing these variables.</p>\n<p>I tried using an apply method to try to apply the <strong>circlX</strong> and <strong>circleY</strong> variables, where I would run that function and then apply it to another function. like seen in <a href=\"https://stackoverflow.com/questions/2136522/can-you-alter-a-javascript-function-after-declaring-it/19522444#19522444\">this link</a>.</p>\n<p>I also tried running a function within a function and that didn't work.</p>\n<p>check out my code on Js Fiddle: <strong><a href=\"https://jsfiddle.net/Blummer92/kuj2tzy4/1/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/Blummer92/kuj2tzy4/1/</a></strong></p>\n<h1>Java Script</h1>\n<pre><code>const canvas = document.getElementById(&quot;myCanvas&quot;);\nconst ctx = canvas.getContext(&quot;2d&quot;);\n\n//every frame has been drawn to make it appear that the ball is moving\n//this sets the moving ball\nconst canvas = document.getElementById(&quot;myCanvas&quot;);\nconst ctx = canvas.getContext(&quot;2d&quot;);\n\n//every frame has been drawn to make it appear that the ball is moving\n//this sets the moving ball\nlet circleX = canvas.width / 2;\nlet circleY = canvas.height - 30;\nvar ballRadius = 10;\n\n// newly spawned objects start at Y=25\nvar spawnLineY = 25;\n\n// spawn a new object every 1500ms\nvar spawnRate = 1500;\n\n// set how fast the objects will fall\nvar spawnRateOfDescent = 0.5;\n\n// when was the last object spawned\nvar lastSpawn = -1;\n\n// this array holds all spawned object\nvar objects = [];\n\n// save the starting time (used to calc elapsed time)\nvar startTime = Date.now();\n\nvar dx =2;\nvar dy =-2;\n\nfunction spawnRandomObject(object) {\n\n    // select a random type for this new object\n    var t;\n\n    // About Math.random()\n    // Math.random() generates a semi-random number\n    // between 0-1. So to randomly decide if the next object\n    // will be A or B, we say if the random# is 0-.49 we\n    // create A and if the random# is .50-1.00 we create B\n\n    if (Math.random() &lt; 0.50) {\n        t = &quot;red&quot;;\n    } else {\n        t = &quot;blue&quot;;\n    }\n\n    // create the new object\n    var object = {\n        // set this objects type\n        type: t,\n        // set x randomly but at least 15px off the canvas edges\n        x: Math.random() * (canvas.width - 30) + 15,\n        // set y to start on the line where objects are spawned\n        y: spawnLineY,\n    }\n\n    // add the new object to the objects[] array\n    objects.push(object);\n}\n\nlet drawBall = (circleX, circleY) =&gt; {\n  ctx.beginPath();\n  let dimentions = ballRadius =&gt; {\n    ctx.arc(circleX, circleY, ballRadius, 0, Math.PI * 2);\n\n    ctx.fillStyle = &quot;#0095DD&quot;;\n    ctx.fill();\n\n    ctx.closePath();\n  };\n\nvar drawManyBall = () =&gt; {\n    let CircleX = spawnRandomObject.object.X;\n    let CicleY = spawnRandomObject.object.Y;\n    drawBall();\n    drawBall.dimentions.apply(this, circleX, circleY); // use .apply() to call it\n    ctx.moveTo(circleX, circleY + spawnLineY);\n    ctx.lineTo(canvas.width, spawnLineY);\n  };\nlet draw = () =&gt; {\n  circleX += dx;\n  circleY += dy;\n\n// get the elapsed time\nvar time = Date.now();\n\n// see if its time to spawn a new object\nif (time &gt; lastSpawn + spawnRate) {\n  lastSpawn = time;\n  spawnRandomObject();\n}\n\n// request another animation frame\nrequestAnimationFrame(draw);\n\nctx.clearRect(0, 0, canvas.width, canvas.height);\n// runs a loop that\nfor (var i = 0; i &lt; objects.length; i++) {\n  var object = objects[i];\n\n  //should I be using cirlce why as a part of my method?\n  object.Y += spawnRateOfDescent;\n  let CircleX = object.X;\n  let CicleY = object.Y;\n\n  var drawBallsmoving = () =&gt; {\n    drawBall();\n    drawBall.dimentions.apply(this, circleX, circleY);\n    ctx.beginPath();\n    ctx.arc(object.x, object.y, 8, 0, Math.PI * 2);\n    ctx.fillStyle = object.type;\n  };\n}\n</code></pre>\n<p>During Debugging my output was</p>\n<pre><code>drawBall: (circleX, circleY) =&gt; {\u2026}\narguments: [Exception: TypeError: 'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them at Function.invokeGetter (&lt;anonymous&gt;:1:142) at &lt;anonymous&gt;:1:1]\ncaller: [Exception: TypeError: 'caller', 'callee', and 'arguments' properties may not be accessed on strict mode functions or the arguments objects for calls to them at Function.invokeGetter (&lt;anonymous&gt;:1:142) at &lt;anonymous&gt;:1:1]\nlength: 2\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 1, "creation_date": 1573082143, "post_id": 58739781, "comment_id": 103769480, "body": "Did you read the error?"}, {"owner": {"reputation": 856, "user_id": 4745345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3198242af4955bf263b9df08a31cb962?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Warren", "link": "https://stackoverflow.com/users/4745345/jon-warren"}, "edited": false, "score": 2, "creation_date": 1573082308, "post_id": 58739781, "comment_id": 103769530, "body": "Your return statements are outside of the function blocks for execiseTwo and exerciseThree"}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1573082458, "post_id": 58739781, "comment_id": 103769567, "body": "<code>return animalName;</code> should be before <code>}</code> not after it. Same goes for <code>return userObject;</code>"}, {"owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "edited": false, "score": 1, "creation_date": 1573082567, "post_id": 58739781, "comment_id": 103769597, "body": "The code doesn&#39;t implement the instructions of exerciseTwo at all"}, {"owner": {"reputation": 25, "user_id": 12249897, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E8AmzSm6G2Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reIM0wYRP_THir8kEiEJlz3yT7TzA/photo.jpg?sz=128", "display_name": "Dre Adesina", "link": "https://stackoverflow.com/users/12249897/dre-adesina"}, "edited": false, "score": 0, "creation_date": 1573088075, "post_id": 58739781, "comment_id": 103770821, "body": "Thank you all. I&#39;m new to JS and Caius what you mean the code doesn&#39;t implement the instructions of exercise Two, I thought the error is from returning outside the function scope and not the code implementation?"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 12249897, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E8AmzSm6G2Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reIM0wYRP_THir8kEiEJlz3yT7TzA/photo.jpg?sz=128", "display_name": "Dre Adesina", "link": "https://stackoverflow.com/users/12249897/dre-adesina"}, "edited": false, "score": 0, "creation_date": 1573087957, "post_id": 58739955, "comment_id": 103770797, "body": "Thank you. I&#39;m new to JS I know let is Constant and about debugging and breakpoint I&#39;m running the code on real.it I&#39;m not running running it from the  browser console the error message is a lot Lol can&#39;t even round my he round it but I will give it a  try."}, {"owner": {"reputation": 92, "user_id": 7571574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05bbc823685f68ff983ea92f663a2348?s=128&d=identicon&r=PG&f=1", "display_name": "Souritra Das Gupta", "link": "https://stackoverflow.com/users/7571574/souritra-das-gupta"}, "reply_to_user": {"reputation": 25, "user_id": 12249897, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E8AmzSm6G2Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reIM0wYRP_THir8kEiEJlz3yT7TzA/photo.jpg?sz=128", "display_name": "Dre Adesina", "link": "https://stackoverflow.com/users/12249897/dre-adesina"}, "edited": false, "score": 0, "creation_date": 1573160233, "post_id": 58739955, "comment_id": 103801292, "body": "did this solve your error though? If yes, you can pick the answer as accepted answer. And for error messages, there will usually be a hyperlink with an underline and if you click that, you will be able to trace the error back to the source."}], "tags": [], "owner": {"reputation": 92, "user_id": 7571574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05bbc823685f68ff983ea92f663a2348?s=128&d=identicon&r=PG&f=1", "display_name": "Souritra Das Gupta", "link": "https://stackoverflow.com/users/7571574/souritra-das-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1573083532, "creation_date": 1573083532, "answer_id": 58739955, "question_id": 58739781, "link": "https://stackoverflow.com/questions/58739781/please-whats-wrong-with-this-code-its-my-homework-i-keep-getting-error/58739955#58739955", "title": "Please what&#39;s wrong with this code, it&#39;s my homework I keep getting error", "body": "<pre><code>function exerciseTwo(animal) {\n    animalName = animal.latinName;\n    return animalName;\n}\nfunction exerciseThree(userObject) {\n    userObject.phoneNumber = '(951)867-5309';\n    return userObject;\n}\n</code></pre>\n\n<p>You have to return the variables inside the function. Read about scope in javascript and differences between var and let. Also, read the error carefully and debug in browser using breakpoints and you will understand where the code is breaking.</p>\n"}], "owner": {"reputation": 25, "user_id": 12249897, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E8AmzSm6G2Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reIM0wYRP_THir8kEiEJlz3yT7TzA/photo.jpg?sz=128", "display_name": "Dre Adesina", "link": "https://stackoverflow.com/users/12249897/dre-adesina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573083532, "creation_date": 1573082072, "last_edit_date": 1573082341, "question_id": 58739781, "link": "https://stackoverflow.com/questions/58739781/please-whats-wrong-with-this-code-its-my-homework-i-keep-getting-error", "title": "Please what&#39;s wrong with this code, it&#39;s my homework I keep getting error", "body": "<p>The above exercise was created to be completed by my teacher and I keep getting error when I ran it.</p>\n\n<pre><code>function exerciseOne() {\n    // Exercise One: In this exercise you will create a variable called 'aboutMe'\n    // This variable should be assigned a new object\n    // In this object create three key:value pairs\n    // The keys should be: 'name', 'city', 'favoriteAnimal'\n    // The values should be strings associated with the keys.\n    // return the variable 'aboutMe'\n\n    let aboutMe = {\n        name: 'Adebola Adesina',\n        city: 'Los Angeles',\n        favoriteAnimal: 'Zebra'\n    };\n    return aboutMe;\n}\n\nfunction exerciseTwo(animal) {\n    // Exercise Two: In this exercise you will be given an object called 'animal'\n    // Create a new variable called 'animalName'\n    // Accessing the animal object, assign the 'animalName' variable to the 'latinName' key on the object.\n    // return the animalName variable.\n\n    animalName = animal.latinName;\n}\nreturn animalName;\n\nfunction exerciseThree(userObject) {\n    // Exercise Three: In this exercise you will be given an object called 'userObject'\n    // The phonne number for this user is incorrect!\n    // reassign the 'phoneNumber' key to the value: '(951)867-5309'\n    // return the userObject\n\n    userObject.phoneNumber = '(951)867-5309';\n}\nreturn userObject;\n</code></pre>\n\n<p>The above exercise was created to be completed by my teacher and I keep getting error when I ran it.</p>\n"}, {"tags": ["javascript", "polymer", "web-component", "lit-element"], "comments": [{"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1573236431, "post_id": 58739779, "comment_id": 103829407, "body": "Related lit-html issue with some code that might be useful: <a href=\"https://github.com/Polymer/lit-html/issues/923\" rel=\"nofollow noreferrer\">github.com/Polymer/lit-html/issues/923</a>"}], "answers": [{"tags": [], "owner": {"reputation": 23324, "user_id": 4600982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/6kpWl.png?s=128&g=1", "display_name": "Supersharp", "link": "https://stackoverflow.com/users/4600982/supersharp"}, "is_accepted": false, "score": 0, "last_activity_date": 1573082340, "creation_date": 1573082340, "answer_id": 58739808, "question_id": 58739779, "link": "https://stackoverflow.com/questions/58739779/passing-multiple-duplicate-properties-in-multiple-litelement/58739808#58739808", "title": "Passing multiple duplicate properties in multiple LitElement", "body": "<p>Pass them via Javascript.</p>\n\n<p>Setting a custom property:</p>\n\n<pre><code>myElement.myProperty = myArrayOfProperties\n</code></pre>\n\n<p>Calling a custom method:</p>\n\n<pre><code>myElement.setProperties( myArrayOfProperties)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 571, "user_id": 7331530, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c23b46679557cb350a5c0441221b8d32?s=128&d=identicon&r=PG&f=1", "display_name": "user7331530", "link": "https://stackoverflow.com/users/7331530/user7331530"}, "edited": false, "score": 0, "creation_date": 1573157795, "post_id": 58746556, "comment_id": 103800286, "body": "I also have some parameter, I am not sure how to pass it in object. Edited question with detail."}, {"owner": {"reputation": 1102, "user_id": 1491271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f8d092fec403f766c734ce36e1eef93?s=128&d=identicon&r=PG", "display_name": "LostInBrittany", "link": "https://stackoverflow.com/users/1491271/lostinbrittany"}, "reply_to_user": {"reputation": 571, "user_id": 7331530, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c23b46679557cb350a5c0441221b8d32?s=128&d=identicon&r=PG&f=1", "display_name": "user7331530", "link": "https://stackoverflow.com/users/7331530/user7331530"}, "edited": false, "score": 0, "creation_date": 1573587240, "post_id": 58746556, "comment_id": 103927644, "body": "Couldn&#39;t you simply pass the .commonProps=${myParameter} to all the elements, more or less like in my answer?"}], "tags": [], "owner": {"reputation": 1102, "user_id": 1491271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f8d092fec403f766c734ce36e1eef93?s=128&d=identicon&r=PG", "display_name": "LostInBrittany", "link": "https://stackoverflow.com/users/1491271/lostinbrittany"}, "is_accepted": false, "score": 0, "last_activity_date": 1573121945, "creation_date": 1573121945, "answer_id": 58746556, "question_id": 58739779, "link": "https://stackoverflow.com/questions/58739779/passing-multiple-duplicate-properties-in-multiple-litelement/58746556#58746556", "title": "Passing multiple duplicate properties in multiple LitElement", "body": "<p>I would groups all those properties in a <code>commonsProps</code> object:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const commonsProps = {\n  propertyOne: somePropertyOne,\n  propertyTwo: somePropertyTwo,\n\n  [...]\n\n  propertyOneHundred: somePropertyOneHundred,\n}\n</code></pre>\n\n<p>And use standard LitElement databinding:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;my-element-one .commonsProps=${commonsProps}&gt;&lt;/my-element-one&gt;\n&lt;my-element-two .commonsProps=${commonsProps}&gt;&lt;/my-element-two&gt; \n\n</code></pre>\n\n<p>Would that work for you?</p>\n"}], "owner": {"reputation": 571, "user_id": 7331530, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/c23b46679557cb350a5c0441221b8d32?s=128&d=identicon&r=PG&f=1", "display_name": "user7331530", "link": "https://stackoverflow.com/users/7331530/user7331530"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1573157730, "creation_date": 1573082050, "last_edit_date": 1573157730, "question_id": 58739779, "link": "https://stackoverflow.com/questions/58739779/passing-multiple-duplicate-properties-in-multiple-litelement", "title": "Passing multiple duplicate properties in multiple LitElement", "body": "<p>One can pass down properties to another <strong><code>LitElement</code></strong> this way:</p>\n\n<pre><code>myRender(myParameter) {\n  return html`\n    &lt;my-element-one .propertyOne=${myParameter.somePropertyOne}&gt;&lt;/my-element-one&gt;\n  `;\n}\n</code></pre>\n\n<p>I have dozens of properties that I need to pass to multiple elements.</p>\n\n<pre><code>myRenderOne(myParameter) {\n  return html`\n    &lt;my-element-one \n      .propertyOne=${myParameter.somePropertyOne}&gt;\n      .propertyTwo=${myParameter.somePropertyTwo}&gt;\n      ...\n      .propertyHundred=${myParameter.somePropertyHundred}&gt;\n    &lt;/my-element-one&gt;\n  `;\n}\n\nmyRenderTwo(myParameter) {\n  return html`\n    &lt;my-element-two \n      .propertyFive=${myParameter.somePropertyFive}&gt;\n      .propertySix=${myParameter.somePropertySix}&gt;\n      ...\n      .propertyFifty=${myParameter.somePropertyFifty}&gt;\n    &lt;/my-element-two&gt;\n  `;\n}\n</code></pre>\n\n<p>How can I pass common properties without duplicating dozens of lines of code?</p>\n"}, {"tags": ["javascript", "ecmascript-6", "es6-modules", "eventemitter"], "comments": [{"owner": {"reputation": 1077, "user_id": 11193926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b41eea96add6cb6141b372485c58f21b?s=128&d=identicon&r=PG&f=1", "display_name": "JamieT", "link": "https://stackoverflow.com/users/11193926/jamiet"}, "edited": false, "score": 0, "creation_date": 1573082093, "post_id": 58739771, "comment_id": 103769463, "body": "This looks like Angular"}, {"owner": {"reputation": 4879, "user_id": 3213172, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/9h5GT.jpg?s=128&g=1", "display_name": "djfdev", "link": "https://stackoverflow.com/users/3213172/djfdev"}, "edited": false, "score": 1, "creation_date": 1573082341, "post_id": 58739771, "comment_id": 103769539, "body": "I think you have a syntax error. You cannot put arbitrary code inside of ES6 class blocks. Try moving the event binding to inside of the constructor function. You will also need to call the method like <code>this.onemittedevent()</code>"}, {"owner": {"reputation": 742, "user_id": 4056395, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/dd905348fdc682796f2afb6f35bc8b6e?s=128&d=identicon&r=PG&f=1", "display_name": "Ted Fitzpatrick", "link": "https://stackoverflow.com/users/4056395/ted-fitzpatrick"}, "reply_to_user": {"reputation": 4879, "user_id": 3213172, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/9h5GT.jpg?s=128&g=1", "display_name": "djfdev", "link": "https://stackoverflow.com/users/3213172/djfdev"}, "edited": false, "score": 0, "creation_date": 1573083496, "post_id": 58739771, "comment_id": 103769817, "body": "Thanks @djfdev that did the trick, sweet! Now to figure out how to pass events the other way ..."}, {"owner": {"reputation": 742, "user_id": 4056395, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/dd905348fdc682796f2afb6f35bc8b6e?s=128&d=identicon&r=PG&f=1", "display_name": "Ted Fitzpatrick", "link": "https://stackoverflow.com/users/4056395/ted-fitzpatrick"}, "edited": false, "score": 0, "creation_date": 1573084041, "post_id": 58739771, "comment_id": 103769946, "body": "Jamie, I&#39;ve looked at Angular a little but right now I&#39;m focusing on ES6 and React. Point taken though about frameworks providing their own rigging ;-)"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1573085519, "post_id": 58739771, "comment_id": 103770264, "body": "&quot;<i>I think that it doesn&#39;t know that the ref is of type EventEmitter</i>&quot; - that doesn&#39;t matter, you&#39;re not using TypeScript, right?"}, {"owner": {"reputation": 742, "user_id": 4056395, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/dd905348fdc682796f2afb6f35bc8b6e?s=128&d=identicon&r=PG&f=1", "display_name": "Ted Fitzpatrick", "link": "https://stackoverflow.com/users/4056395/ted-fitzpatrick"}, "edited": false, "score": 0, "creation_date": 1573086122, "post_id": 58739771, "comment_id": 103770388, "body": "Hi Bergi, nope no TypeScript. This is an interesting puzzle for me since I am using Webpack&#39;s dynamic import for loading in a module named EventEmitter3. One thing I&#39;m wondering is where/when ListeningClass should get EventEmitter3 ... pass it into ListeningClass&#39;s constructor or have the ListeningClass module import EE3 itself ... seems a better pattern to have ListeningClass import it."}, {"owner": {"reputation": 742, "user_id": 4056395, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/dd905348fdc682796f2afb6f35bc8b6e?s=128&d=identicon&r=PG&f=1", "display_name": "Ted Fitzpatrick", "link": "https://stackoverflow.com/users/4056395/ted-fitzpatrick"}, "edited": false, "score": 0, "creation_date": 1573086260, "post_id": 58739771, "comment_id": 103770424, "body": "Oh, to clarify yeah I was able to assign .on() within ListeningClass&#39;s constructor, worked great."}], "answers": [{"tags": [], "owner": {"reputation": 742, "user_id": 4056395, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/dd905348fdc682796f2afb6f35bc8b6e?s=128&d=identicon&r=PG&f=1", "display_name": "Ted Fitzpatrick", "link": "https://stackoverflow.com/users/4056395/ted-fitzpatrick"}, "is_accepted": false, "score": 0, "last_activity_date": 1573149261, "creation_date": 1573149261, "answer_id": 58754505, "question_id": 58739771, "link": "https://stackoverflow.com/questions/58739771/proper-way-to-rig-up-eventemitters-for-communication-between-a-parent-and-object/58754505#58754505", "title": "Proper way to rig up eventemitters for communication between a parent and object instances?", "body": "<p>So here's what I rigged up, it's working although I know there's fancier getter/setter syntax in ES6. Also I'm passing in the EE3 class definition to the submodule's class after a single async call to load the EE3 module ... there might be a better way to handle that ...</p>\n\n<p>Main:</p>\n\n<pre><code>// webpack dynamic import of EventEmitter3 here, setting a ref to EE3's class def\n// the following Main code is actually within the dynamic import's promise then()\n\nconst listeningclassinstance = new ListeningClass(ee3class ,maineventemitter);\nconst listeningclassinstanceeventemitter = listeningclassinstance.getlisteningclasseventemitter();\nlisteningclassinstanceeventemitter.on(\"emittedeventfromlisteningclassinstance\", () =&gt; {\n    console.log(\"main can hear event emitted from listeningclassinstance\");\n  });\n</code></pre>\n\n<p>Submodule Class:</p>\n\n<pre><code>export default class ListeningClass {\n  constructor(ee3class,maineventemitter) {\n    this.maineventemitter = maineventemitter;\n    this.maineventemitter.on(\n      \"emittedeventfrommain\",\n      this.onemittedeventfrommain.bind(this);\n    this.eventemitter = new ee3class();  \n  }\n\n  onemittedeventfrommain() {\n    console.log(\"ListeningClass emittedeventfrommain\");\n    this.eventemitter.emit(\"emittedeventfromlisteningclassinstance\");\n  }\n\ngetlisteningclasseventemitter() {\n    return this.eventemitter;\n}\n\n  // ListeningClass\n} \n</code></pre>\n"}], "owner": {"reputation": 742, "user_id": 4056395, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/dd905348fdc682796f2afb6f35bc8b6e?s=128&d=identicon&r=PG&f=1", "display_name": "Ted Fitzpatrick", "link": "https://stackoverflow.com/users/4056395/ted-fitzpatrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573149261, "creation_date": 1573081965, "question_id": 58739771, "link": "https://stackoverflow.com/questions/58739771/proper-way-to-rig-up-eventemitters-for-communication-between-a-parent-and-object", "title": "Proper way to rig up eventemitters for communication between a parent and object instances?", "body": "<p>New to EventEmitter and ES6 classes, and I'm trying to grok the proper rigging. I have a \"main\" that instantiates an EventEmitter. In \"main\" I instantiate objects that I want to be able to listen for events emitted by \"main\"'s event emitter. I can pass a reference to main's EventEmitter to each object's constructor, but since the object's class is defined in a separate module file I think that it doesn't know that the ref is of type EventEmitter so within object's class I can't define an \"on\" listener on the ref to main's EventEmitter:</p>\n\n<p>Main:</p>\n\n<pre><code>const listeningclassinstance = new ListeningClass(maineventemitter);\n</code></pre>\n\n<p>Submodule Class:</p>\n\n<pre><code>export default class ListeningClass {\n  constructor(maineventemitter) {\n    this.maineventemitter = maineventemitter;\n  }\n  maineventemitter.on(\"emittedevent\", () =&gt; { // Visual Studio Code complains\n    onemittedevent();\n  });\n\n  onemittedevent() {\n    console.log(\"ListeningClass onemittedevent\")\n  }\n  // ListeningClass\n}\n</code></pre>\n"}, {"tags": ["javascript", "react-native"], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 11630882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c7e9e0f9965953b9f44d3d5a5366bed?s=128&d=identicon&r=PG", "display_name": "Pedro Santos", "link": "https://stackoverflow.com/users/11630882/pedro-santos"}, "is_accepted": true, "score": 1, "last_activity_date": 1577195095, "creation_date": 1577195095, "answer_id": 59469732, "question_id": 58739762, "link": "https://stackoverflow.com/questions/58739762/write-json-to-realmdb-schema/59469732#59469732", "title": "write json to realmdb schema", "body": "<p>I'm using Realmdb in production with React Native and had the same doubt some time ago.</p>\n\n<p>Basically you have two ways to do it.</p>\n\n<p>The first and the more simple is convert your schema using JSON.stringify and save it in your field with type <strong>string</strong>,  (Like you did) but when you wish get this value again, you will to convert again using JSON.parse, is boring but works well you have just to remeber.</p>\n\n<p>The second option is create another schema and use it to insert values with object format.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const CarSchema = {\r\n  name: 'Car',\r\n  properties: {\r\n    make:  'string',\r\n    model: 'string',\r\n    miles: {type: 'int', default: 0},\r\n  }\r\n};\r\n\r\nconst PersonSchema = {\r\n  name: 'Person',\r\n  properties: {\r\n    name:     'string',\r\n    cars:     {type: 'list', objectType: 'Car'},\r\n  }\r\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Above, we have two schema and if we insert a new data we have to do something like this.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>realm.write(() =&gt; {\r\n  realm.create('Person', {\r\n    name: 'Joe',\r\n    // nested objects are created recursively\r\n    car: {make: 'Honda', model: 'Accord', drive: 'awd'},\r\n  });\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This way is more eficient but is more hard to maintain the code.</p>\n\n<p>Today we use the option 1, because is more simple and just one schema.</p>\n\n<p>I hope that it help you.</p>\n"}], "owner": {"reputation": 3, "user_id": 12334804, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCJeKuP1JDetqWWN3Uv8KDsUAqHkfzozQbX6cm0uw=k-s128", "display_name": "Henrique SML", "link": "https://stackoverflow.com/users/12334804/henrique-sml"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 59469732, "answer_count": 1, "score": 0, "last_activity_date": 1577195095, "creation_date": 1573081862, "question_id": 58739762, "link": "https://stackoverflow.com/questions/58739762/write-json-to-realmdb-schema", "title": "write json to realmdb schema", "body": "<p>I need to save a json in a property of my schema, my schema:</p>\n\n<pre><code>export default class ListSchema {\n    static schema = {\n        name: 'Listas',\n        primaryKey: 'id',\n        properties: {\n            id: 'string',\n            name: 'string',\n            contents: 'string', // I need to save here, currently I left string          \n        }\n    }\n}\n</code></pre>\n\n<p>code that saves the list:</p>\n\n<pre><code>  async function SaveList() {\n    const data = {\n      id: String(Date.now()),\n      name: List,\n      contents:  JSON.stringify(AllTask) // I need to save json here\n    }\n    const realm = await getRealm()\n\n    realm.write(() =&gt; {\n      realm.create('Listas', data)\n\n    })\n\n  }\n</code></pre>\n\n<p>my json n has a definite size, and it goes something like this:</p>\n\n<pre><code>[{id: 'value', name:'value'}, {id: 'value', name:'value'} ...]\n</code></pre>\n\n<p>what should my schema look like?</p>\n"}, {"tags": ["javascript", "arrays", "multidimensional-array"], "comments": [{"owner": {"reputation": 2503, "user_id": 1795390, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/WACds.png?s=128&g=1", "display_name": "daremachine", "link": "https://stackoverflow.com/users/1795390/daremachine"}, "edited": false, "score": 0, "creation_date": 1573081826, "post_id": 58739726, "comment_id": 103769410, "body": "What you tried?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1573081858, "post_id": 58739726, "comment_id": 103769415, "body": "Use <code>split()</code> to split the strings into arrays. Then loop over them and create an array of objects."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1573081894, "post_id": 58739726, "comment_id": 103769421, "body": "Why does <code>pdate</code> have a delimiter at the beginning, but the other strings don&#39;t?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 3, "creation_date": 1573081916, "post_id": 58739726, "comment_id": 103769427, "body": "That&#39;s not a multidimensional array. It&#39;s a 1-dimensional array of objects."}], "answers": [{"tags": [], "owner": {"reputation": 2503, "user_id": 1795390, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/WACds.png?s=128&g=1", "display_name": "daremachine", "link": "https://stackoverflow.com/users/1795390/daremachine"}, "is_accepted": false, "score": 1, "last_activity_date": 1573082890, "last_edit_date": 1573082890, "creation_date": 1573082173, "answer_id": 58739793, "question_id": 58739726, "link": "https://stackoverflow.com/questions/58739726/create-an-a-multi-diemensional-array-from-different-variables-in-javascript/58739793#58739793", "title": "Create an a multi diemensional array from different variables in Javascript", "body": "<p>You need use <code>.split</code> function on your string and then use loop with array index for others.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var pdate = \"2019-12-26|2019-12-26|2019-12-26\";\r\nvar products_id = \"3354|5009|61927\";\r\nvar products_category =  \"ENERGETICS|CASIO|SEIKO\";\r\n\r\npdate = pdate.split('|');\r\nproducts_id = products_id.split('|');\r\nproducts_category = products_category.split('|');\r\n\r\nlet arr = [];\r\nfor(let i=0; i&lt;pdate.length; i++) {\r\n  arr.push({\r\n    pdate: pdate[i],\r\n    products_id: products_id[i],\r\n    products_category: products_category[i] \r\n  });\r\n}\r\n\r\nconsole.log(arr);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 2503, "user_id": 1795390, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/WACds.png?s=128&g=1", "display_name": "daremachine", "link": "https://stackoverflow.com/users/1795390/daremachine"}, "edited": false, "score": 0, "creation_date": 1574179069, "post_id": 58739840, "comment_id": 104134727, "body": "I think getData(c) is only redundant split wrapper leading for larger complexity IMO"}], "tags": [], "owner": {"reputation": 1223, "user_id": 7396942, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U0Enf.jpg?s=128&g=1", "display_name": "x-rw", "link": "https://stackoverflow.com/users/7396942/x-rw"}, "is_accepted": true, "score": 1, "last_activity_date": 1573082634, "creation_date": 1573082634, "answer_id": 58739840, "question_id": 58739726, "link": "https://stackoverflow.com/questions/58739726/create-an-a-multi-diemensional-array-from-different-variables-in-javascript/58739840#58739840", "title": "Create an a multi diemensional array from different variables in Javascript", "body": "<p>You can use the function split to separate the datas:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var pdate = \"2019-12-26|2019-12-26|2019-12-26\";\r\nvar products_id = \"3354|5009|61927\";\r\nvar products_category = \"ENERGETICS|CASIO|SEIKO\";\r\n\r\nvar arrayPdate = getData(pdate);\r\nvar arrayProducts_id = getData(products_id);\r\nvar arrayProducts_category = getData(products_category);\r\nvar result = []\r\nfor (let i = 0; i &lt; arrayPdate.length; i++) {\r\n  let jsonObject = {\r\n    pdate: arrayPdate[i],\r\n    products_id: arrayProducts_id[i],\r\n    products_category: arrayProducts_category[i]\r\n  }\r\n  result.push(jsonObject)\r\n}\r\nconsole.log(result);\r\n\r\nfunction getData(c) {\r\n  return c.split(\"|\")\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 25, "user_id": 3741299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0480aab9919f94f35812c428d156ecb4?s=128&d=identicon&r=PG&f=1", "display_name": "user3741299", "link": "https://stackoverflow.com/users/3741299/user3741299"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 58739840, "answer_count": 2, "score": 1, "last_activity_date": 1573082890, "creation_date": 1573081622, "question_id": 58739726, "link": "https://stackoverflow.com/questions/58739726/create-an-a-multi-diemensional-array-from-different-variables-in-javascript", "title": "Create an a multi diemensional array from different variables in Javascript", "body": "<p>How do i create a multi-dimensional array from different javascript variables ?</p>\n\n<p>For example, i have these three variables </p>\n\n<pre><code>var pdate = \"|2019-12-26|2019-12-26|2019-12-26\"\nvar products_id = \"3354|5009|61927\"\nvar products_category =  \"ENERGETICS|CASIO|SEIKO\" \n</code></pre>\n\n<p>And i would like to transform them into this </p>\n\n<pre><code>var products_list = []\n[0] = {pdate:\"2019-12-26\",products_id:\"3354\",products_category:\"ENERGETICS\"}\n[1] = {pdate\":\"2019-12-26\",products_id:\"5009\",products_category:\"CASIO\"}\n[2] = {pdate:\"2019-12-26\",products_id:\"61927\",products_category:\"SEIKO\"}\n</code></pre>\n\n<p>Any ideas ?</p>\n\n<p>Thanks </p>\n"}, {"tags": ["javascript", "arrays", "angular", "lodash"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11156015, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WlJC_jXtdgU/AAAAAAAAAAI/AAAAAAAAArc/lgPeK6ZWh1o/photo.jpg?sz=128", "display_name": "Eduardo Moreno ", "link": "https://stackoverflow.com/users/11156015/eduardo-moreno"}, "edited": false, "score": 0, "creation_date": 1573090178, "post_id": 58739753, "comment_id": 103771247, "body": "I only had to change the comparsion to arr.length, thanks for the help"}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "reply_to_user": {"reputation": 23, "user_id": 11156015, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WlJC_jXtdgU/AAAAAAAAAAI/AAAAAAAAArc/lgPeK6ZWh1o/photo.jpg?sz=128", "display_name": "Eduardo Moreno ", "link": "https://stackoverflow.com/users/11156015/eduardo-moreno"}, "edited": false, "score": 0, "creation_date": 1573138926, "post_id": 58739753, "comment_id": 103791092, "body": "@EduardoMoreno That should fix the comparison issue but there are still other issues with your code. My solution fixes them all. Anyways, you&#39;re welcome! I&#39;m glad I could help! :)"}], "tags": [], "owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "is_accepted": true, "score": 0, "last_activity_date": 1573082132, "last_edit_date": 1573082132, "creation_date": 1573081814, "answer_id": 58739753, "question_id": 58739642, "link": "https://stackoverflow.com/questions/58739642/getting-object-from-array-of-objects-matching-values-inside-and-array-of-dates-w/58739753#58739753", "title": "Getting object from array of objects matching values inside and array of dates with lodash", "body": "<ol>\n<li>You're comparing two arrays using <code>!=</code>. In javascript <code>[] != []</code> is always true. To check if an array is empty, use <code>length</code> property like <code>arr.length == 0</code>.</li>\n<li>Use <code>filter</code> instead of using <code>map</code> like a <code>forEach</code>.</li>\n<li>To check existance use <code>some</code>/<code>includes</code> combo instead of looking for intersections.</li>\n</ol>\n\n<p>So, filter events that some of its <code>intermediateDates</code> are included in <code>filteredDates</code>:</p>\n\n<pre><code>let eventsFound = _.filter(this.events, event =&gt;\n   _.some(event.intermediateDates, date =&gt;\n      _.includes(filteredDates, date)\n   )\n);\n</code></pre>\n\n<p>The same using native functions:</p>\n\n<pre><code>let eventsFound = this.events.filter(event =&gt;\n   event.intermediateDates.some(date =&gt;\n      filteredDates.includes(date)\n   )\n);\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 11156015, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WlJC_jXtdgU/AAAAAAAAAAI/AAAAAAAAArc/lgPeK6ZWh1o/photo.jpg?sz=128", "display_name": "Eduardo Moreno ", "link": "https://stackoverflow.com/users/11156015/eduardo-moreno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 58739753, "answer_count": 1, "score": 1, "last_activity_date": 1573082132, "creation_date": 1573081015, "question_id": 58739642, "link": "https://stackoverflow.com/questions/58739642/getting-object-from-array-of-objects-matching-values-inside-and-array-of-dates-w", "title": "Getting object from array of objects matching values inside and array of dates with lodash", "body": "<p>i have an array of obejcts that has this structure </p>\n\n<pre><code>let events = [ {\n  \"initDate\": \"2019-11-20\",\n  \"finalDate\": \"2019-11-22\",\n  \"intermediateDates\": [\n    \"2019-11-20\",\n    \"2019-11-21\"\n  ],\n  \"priority\": 1\n},....]\n</code></pre>\n\n<p>So, i'm trying to get the object that matches from a given array of dates for example :</p>\n\n<pre><code>let filteredDays = [\n  \"2019-11-20\",\n  \"2019-11-21\",\n  \"2019-11-22\"\n]\n</code></pre>\n\n<p>i'm trying with lodash like this: </p>\n\n<pre><code>let eventsFound= [];\n  let intersection = _.map( this.events,function(value){\n    let inter = _.intersection(value.intermediateDates,filteredDates);\n    console.log(inter);\n    if(inter != []){\n      foundEvents.push(value);\n      return value;\n    }else{\n      return false;\n    }\n  });\n</code></pre>\n\n<p>when i console log inter i get the first array with values then the next arrays are empty but it keeps pushing all the events into the foundEvents Array and the returned array is the same as the events array.</p>\n"}, {"tags": ["javascript", "typescript", "scala", "scala.js"], "comments": [{"owner": {"reputation": 8719, "user_id": 3347384, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/unn6p.jpg?s=128&g=1", "display_name": "cchantep", "link": "https://stackoverflow.com/users/3347384/cchantep"}, "edited": false, "score": 0, "creation_date": 1613221588, "post_id": 58739623, "comment_id": 117012005, "body": "Old but you can have a look at <a href=\"https://scala-ts.github.io/scala-ts/\" rel=\"nofollow noreferrer\">Scala-TS</a> (I&#39;m a contributor of)"}, {"owner": {"reputation": 103, "user_id": 350941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d590635d1b7fe939d870363824e8562?s=128&d=identicon&r=PG", "display_name": "Ryan Berckmans", "link": "https://stackoverflow.com/users/350941/ryan-berckmans"}, "reply_to_user": {"reputation": 8719, "user_id": 3347384, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/unn6p.jpg?s=128&g=1", "display_name": "cchantep", "link": "https://stackoverflow.com/users/3347384/cchantep"}, "edited": false, "score": 0, "creation_date": 1613241939, "post_id": 58739623, "comment_id": 117017570, "body": "thanks! <a href=\"https://github.com/scala-ts/scala-ts\" rel=\"nofollow noreferrer\">github.com/scala-ts/scala-ts</a> is cool. imo, the Scala and Scala.js communities have done a terrible job integrating JS libraries written in Scala into the broader JS ecosystem. Scala should be an extremely popular web language, instead it&#39;s insular and niche."}], "answers": [{"tags": [], "owner": {"reputation": 14227, "user_id": 1149944, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/iC0B2.jpg?s=128&g=1", "display_name": "gzm0", "link": "https://stackoverflow.com/users/1149944/gzm0"}, "is_accepted": false, "score": 1, "last_activity_date": 1573190950, "creation_date": 1573190950, "answer_id": 58760909, "question_id": 58739623, "link": "https://stackoverflow.com/questions/58739623/can-scala-js-generate-typescript-d-ts-type-bindings/58760909#58760909", "title": "Can Scala.js generate TypeScript d.ts type bindings?", "body": "<p>No, Scala.js currently does not support this.</p>\n\n<p>See Scala.js issue <a href=\"https://github.com/scala-js/scala-js/issues/3836\" rel=\"nofollow noreferrer\">#3836</a> for potential follow-up and updates.</p>\n"}], "owner": {"reputation": 103, "user_id": 350941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d590635d1b7fe939d870363824e8562?s=128&d=identicon&r=PG", "display_name": "Ryan Berckmans", "link": "https://stackoverflow.com/users/350941/ryan-berckmans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1573190950, "creation_date": 1573080853, "question_id": 58739623, "link": "https://stackoverflow.com/questions/58739623/can-scala-js-generate-typescript-d-ts-type-bindings", "title": "Can Scala.js generate TypeScript d.ts type bindings?", "body": "<p>I'd like to use Scala.js to write libraries to then use in web applications written in TypeScript. This requires TypeScript type bindings (*.d.ts file) to be generated by Scala.js for my library. Does Scala.js support this?</p>\n"}, {"tags": ["javascript", "time", "browser", "kindle"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 10734387, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2BHbT.jpg?s=128&g=1", "display_name": "JammyTone", "link": "https://stackoverflow.com/users/10734387/jammytone"}, "edited": false, "score": 1, "creation_date": 1578013302, "post_id": 59456837, "comment_id": 105311612, "body": "Thank you for the reply.  I have numerous Kindles that don&#39;t have the issue, but this is a Kindle Voyage that does.  Do you have a Kindle Voyage?  Can&#39;t jailbreak the Kindle Voyage, but my workaround has been doing well and works as intended."}, {"owner": {"reputation": 121, "user_id": 11825425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9a4c19b069d610dd7caa0f98f46bcae?s=128&d=identicon&r=PG", "display_name": "Himbeer", "link": "https://stackoverflow.com/users/11825425/himbeer"}, "reply_to_user": {"reputation": 43, "user_id": 10734387, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2BHbT.jpg?s=128&g=1", "display_name": "JammyTone", "link": "https://stackoverflow.com/users/10734387/jammytone"}, "edited": false, "score": 1, "creation_date": 1578041446, "post_id": 59456837, "comment_id": 105317883, "body": "I&#39;m very sorry, I didn&#39;t know that the Voyage on the current firmware isn&#39;t jailbreakable (on 5.5.0 it is: <a href=\"https://www.mobileread.com/forums/showthread.php?t=320564\" rel=\"nofollow noreferrer\">mobileread.com/forums/showthread.php?t=320564</a>). Also I just found out that WebLaunch wouldn&#39;t even work in the Voyage, you&#39;d have to use Skipstone :/"}], "tags": [], "owner": {"reputation": 121, "user_id": 11825425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9a4c19b069d610dd7caa0f98f46bcae?s=128&d=identicon&r=PG", "display_name": "Himbeer", "link": "https://stackoverflow.com/users/11825425/himbeer"}, "is_accepted": false, "score": 1, "last_activity_date": 1577110696, "creation_date": 1577110696, "answer_id": 59456837, "question_id": 58739586, "link": "https://stackoverflow.com/questions/58739586/kindle-experimental-browser-giving-all-javascript-contained-within-webpages-the/59456837#59456837", "title": "Kindle experimental browser giving all javascript contained within webpages the wrong time 7 hours ahead \u2014 How to offset?", "body": "<p>Have you tried rebooting your Kindle? None of mine have this issue.</p>\n\n<blockquote>\n  <p>I've attempted changing the timezone in the .htaccess file with various SetEnv TZ timezones but it has no affect on the javascript output in time nor the weather within the iframe.</p>\n</blockquote>\n\n<p>That'd be because the JavaScript timezone is set entirely client side.</p>\n\n<blockquote>\n  <p>I rotated everything because for some reasons Amazon also now doesn't allow you to view the browser in landscape mode on the Voyage</p>\n</blockquote>\n\n<p>If you are able to jailbreak your kindle, I really recommend WebLaunch, it allows you to display a web page without URL bar and also has a landscape mode (note that the Kindle's browser will not like this and think it's still in portrait mode which will cause issues on responsive webpages, but can be fixed kind of with the following CSS)</p>\n\n<pre><code>html, body {\n    margin: 0;\n    width: 934px;\n    height: 700px;\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 10734387, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2BHbT.jpg?s=128&g=1", "display_name": "JammyTone", "link": "https://stackoverflow.com/users/10734387/jammytone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1577110696, "creation_date": 1573080634, "last_edit_date": 1573348922, "question_id": 58739586, "link": "https://stackoverflow.com/questions/58739586/kindle-experimental-browser-giving-all-javascript-contained-within-webpages-the", "title": "Kindle experimental browser giving all javascript contained within webpages the wrong time 7 hours ahead \u2014 How to offset?", "body": "<p>I recycle old Kindles into mini weather stations through their \"experimental browser\".  I create webpages showing the date and time along with weather data I put into iframes for use with the Kindle browser.  Working great until I ran into weird problem with a Kindle Voyage browser.</p>\n\n<p>This is what I use for weather within a customized iframe.</p>\n\n<p><a href=\"https://forecast.io/embed/#lat=39.742043&amp;lon=-104.991531&amp;name=Denver\" rel=\"nofollow noreferrer\">https://forecast.io/embed/#lat=39.742043&amp;lon=-104.991531&amp;name=Denver</a></p>\n\n<p>My first clue something was odd was the time for this date &amp; time <a href=\"https://www.ricocheting.com/code/javascript/html-generator/date-time-clock\" rel=\"nofollow noreferrer\">javascript snippet</a> I've successfully used before on other Kindles was off by +7 hours. In other words, when it's 4pm, the browser is telling all the javascript content within the page its rendering that it's 11pm and so on.</p>\n\n<p>I double-checked the Kindle time and it was correct.  I then attempted to offset the time by manually changing the time of the entire Kindle -7 hours and it didn't change the browser issue.</p>\n\n<p>I finally adjusted the date &amp; time javascript snippet to offset the time by 7 hours to fix the display of the time.</p>\n\n<p>However, the Kindle Voyage's browser is also offsetting the weather in my iframe ahead by 7 hours as well causing the weather in an iframe to shift ahead 7 hours.  It causes the code of the weather to go wonky after 5pm because the browser is then making it believe it's the next day (7 hours ahead).  I don't have direct access to any of that code to offset the time, so I need to somehow offset the 7 hours on my webpage or server.</p>\n\n<p>I've attempted changing the timezone in the .htaccess file with various SetEnv TZ timezones but it has no affect on the javascript output in time nor the weather within the iframe.</p>\n\n<p>Is there perhaps a way to use javascript to force all javascript within a page to offset the time the browser is reporting?  Or is there some other way to fix this issue?</p>\n\n<p>I'm stumped.</p>\n\n<hr>\n\n<p>Update/edit -</p>\n\n<p>Never figured out an answer so I created a time-sensitive javascript that I offset by 7 hours to overlay different days over top the weather chart. Here's some snippets of the code I used in case anyone is curious.  I rotated everything because for some reasons Amazon also now doesn't allow you to view the browser in landscape mode on the Voyage, so I just made the entire page on its side.</p>\n\n<p>From 5PM Denver time to midnight the overlay is active.  If you note the times 0 to 6 in the code, it's because I had to shift the time 7 hours back up until the next day starts.   I also had to shift the days back as well because the Kindle Voyage browser's weird time-offset was causing the forecast to shift all the days backwards.  It's sloppy and could be streamlined, but it works.</p>\n\n<p>CSS -</p>\n\n<pre><code>p {\n  white-space: nowrap;\n  font-size: 70px;\n  word-spacing: 91px;\n  transform: rotate(90deg);         \n}\n</code></pre>\n\n<p>jQuery/Javascript -</p>\n\n<pre><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n$(document).ready(function(){\nvar d = new Date();\nif(d.getHours() &gt;= 0 &amp;&amp; d.getHours() &lt;= 6 ){\n/* Greater than or equal to 5PM (5PM+7=midnight (0) and less than or\nequal to 11PM+7=6AM (6) */\n$(\".amazonworkaround\").show();\n}\nelse {  \n     $(\".amazonworkaround\").hide();\n}   \n\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>And -</p>\n\n<pre><code>&lt;script&gt;\n  var d = new Date();\n  var weekday = new Array(7);\n  weekday[0] = \"Now Sun Mon Tue Wed Thu Fri Sat\";\n  weekday[1] = \"Now Mon Tue Wed Thu Fri Sat Sun\";\n  weekday[2] = \"Now Tue Wed Thu Fri Sat Sun Mon\";\n  weekday[3] = \"Now Wed Thu Fri Sat Sun Mon Tue\";\n  weekday[4] = \"Now Thu Fri Sat Sun Mon Tue Wed\";\n  weekday[5] = \"Now Fri Sat Sun Mon Tue Wed Thu\";\n  weekday[6] = \"Now Sat Sun Mon Tue Wed Thu Fri\";\n\n  var n = weekday[d.getDay()];\n  document.getElementById(\"dayfix\").innerHTML = n;\n&lt;/script&gt;\n</code></pre>\n\n<p>And finally -</p>\n\n<pre><code>&lt;div class=\"amazonworkaround\" style=\"position: absolute; top: 0px; left: 625px;\nwidth: 85px; height: 1800px; background-color: white; padding-left: 0px;\nz-index: 101;\"&gt;&lt;p id=\"dayfix\"&gt;&lt;/p&gt;&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "audio"], "comments": [{"owner": {"reputation": 15273, "user_id": 893578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RdhGt.jpg?s=128&g=1", "display_name": "Sheepy", "link": "https://stackoverflow.com/users/893578/sheepy"}, "edited": false, "score": 0, "creation_date": 1573082965, "post_id": 58739556, "comment_id": 103769692, "body": "You can&#39;t change the default audio device, just like you can&#39;t change primary screen.  What you can do is capture / play / stream with the selected audio device from within browser JavaScript (with user permission)."}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 15273, "user_id": 893578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RdhGt.jpg?s=128&g=1", "display_name": "Sheepy", "link": "https://stackoverflow.com/users/893578/sheepy"}, "edited": false, "score": 2, "creation_date": 1573084382, "post_id": 58739556, "comment_id": 103770020, "body": "@Sheepy this question was actually about changing input device (contrarily to what the title said), however note that changing the output device is/will be possible too: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/setSinkId\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 485, "user_id": 1406852, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/48be472757598ebb8f8b273f0e36bd6c?s=128&d=identicon&r=PG", "display_name": "benji_r", "link": "https://stackoverflow.com/users/1406852/benji-r"}, "edited": false, "score": 0, "creation_date": 1573147637, "post_id": 58740033, "comment_id": 103796018, "body": "thank you very much for your respond. I kind of came to this conclusion myself, I have one question; my code above gives me a device Id for one particular microphone , on the same note I go here <a href=\"https://jsfiddle.net/bomzj/beap6n2g/\" rel=\"nofollow noreferrer\">jsfiddle.net/bomzj/beap6n2g</a> and run the program on  the same browser, and it gives me different Id for the same microphone. do you have any idea how that could be? also do you know what is extract {deviceId: audioSource ? {exact: audioSource} : undefined}"}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 485, "user_id": 1406852, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/48be472757598ebb8f8b273f0e36bd6c?s=128&d=identicon&r=PG", "display_name": "benji_r", "link": "https://stackoverflow.com/users/1406852/benji-r"}, "edited": false, "score": 1, "creation_date": 1573170798, "post_id": 58740033, "comment_id": 103804605, "body": "Did you unplug &amp; replugged your device? For me it returns always the same deviceIds (as it is supposed to do). And the line you copied is in case no devices got enumerated in the previous step, which sounds quite useless. I&#39;m not sure what part of it you don&#39;t understand, but it&#39;s just a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator\" rel=\"nofollow noreferrer\">ternary operation</a>, could be rewritten as <code>const constraint = {}; if( audioSource ) { constraint.deviceId = { exact: audioSource }; } else { constraint.deviceId = undefined; }</code>;"}, {"owner": {"reputation": 485, "user_id": 1406852, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/48be472757598ebb8f8b273f0e36bd6c?s=128&d=identicon&r=PG", "display_name": "benji_r", "link": "https://stackoverflow.com/users/1406852/benji-r"}, "edited": false, "score": 0, "creation_date": 1573175095, "post_id": 58740033, "comment_id": 103805516, "body": "yes, I just wasnt sure what exact meant, do you know if I can do the same thing for output devices, like the speakers too. Set them into default and keep them"}], "tags": [], "owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "is_accepted": true, "score": 1, "last_activity_date": 1573084108, "creation_date": 1573084108, "answer_id": 58740033, "question_id": 58739556, "link": "https://stackoverflow.com/questions/58739556/how-to-change-the-default-audio-input/58740033#58740033", "title": "How to change the default audio input", "body": "<p>You can't set the \"default\", whatever that means, since there no real \"default\". \nWhen you set the broad <code>{ audio: true }</code> MediaConstraint, the browser should first ask the user which audio input device to use from a list (in case there are multiple such devices). At next requests, it is possible the browser remembers this choice and don't ask again.</p>\n\n<p>However, you can very well force the use of a particular device, using the <code>{ audio: { deviceId: device.deviceId } }</code> where <code>device</code> is a MediaDeviceInfo you gathered from <code>mediaDevices.enumerateDevices</code>.</p>\n"}], "owner": {"reputation": 485, "user_id": 1406852, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/48be472757598ebb8f8b273f0e36bd6c?s=128&d=identicon&r=PG", "display_name": "benji_r", "link": "https://stackoverflow.com/users/1406852/benji-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 729, "favorite_count": 0, "accepted_answer_id": 58740033, "answer_count": 1, "score": 0, "last_activity_date": 1573084167, "creation_date": 1573080325, "last_edit_date": 1573084167, "question_id": 58739556, "link": "https://stackoverflow.com/questions/58739556/how-to-change-the-default-audio-input", "title": "How to change the default audio input", "body": "<p>I can get the list of devices using enumerateDevices promise; but how do I change the default of the microphone based on user selection. so in this case how can I make 'Audio 40 USB' to be the default microphone for the client. </p>\n\n<pre><code> navigator.mediaDevices.enumerateDevices().then(devices =&gt; {\n        for (let i = 0; i &lt; devices.length; i++) {\n            if (devices[i].kind === \"audioinput\" &amp;&amp; devices[i].label.includes('Audio 40 USB')) {\n\n               //devices[i].deviceId ='default'; // make this devaice into default microphone\n               // break;\n            }\n        }\n    });\n</code></pre>\n\n<p>I think i found the answer the default will go to </p>\n\n<blockquote>\n  <p>audio: {deviceId: audioSource ? {exact: audioSource} : undefined}</p>\n</blockquote>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1573079814, "post_id": 58739471, "comment_id": 103768843, "body": "The value <code>NaN</code> is a number."}, {"owner": {"reputation": 15, "user_id": 11006848, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xVQ0E6IvYxg/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOhcnL2Rp3t1qaz1oa1WdKRuHZbvQ/mo/photo.jpg?sz=128", "display_name": "nicky ger", "link": "https://stackoverflow.com/users/11006848/nicky-ger"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1573079896, "post_id": 58739471, "comment_id": 103768868, "body": "So it returns NaN when it encounters the letter f, but it considers f a number?"}, {"owner": {"reputation": 3199, "user_id": 6692606, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3653dbd72e2fd66e0a741b97aa322e1?s=128&d=identicon&r=PG&f=1", "display_name": "ASDFGerte", "link": "https://stackoverflow.com/users/6692606/asdfgerte"}, "edited": false, "score": 0, "creation_date": 1573079927, "post_id": 58739471, "comment_id": 103768879, "body": "Why don&#39;t you just type <code>parseInt(&quot;f&quot;);</code>, look at the result, then type <code>typeof NaN;</code>, look at the result? That should get you a lot further than you were previously?"}, {"owner": {"reputation": 15, "user_id": 11006848, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xVQ0E6IvYxg/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOhcnL2Rp3t1qaz1oa1WdKRuHZbvQ/mo/photo.jpg?sz=128", "display_name": "nicky ger", "link": "https://stackoverflow.com/users/11006848/nicky-ger"}, "edited": false, "score": 0, "creation_date": 1573079996, "post_id": 58739471, "comment_id": 103768895, "body": "Well, I did not think of that. I was just baffled at the fact that it kept on handling the value f as a number."}, {"owner": {"reputation": 3199, "user_id": 6692606, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3653dbd72e2fd66e0a741b97aa322e1?s=128&d=identicon&r=PG&f=1", "display_name": "ASDFGerte", "link": "https://stackoverflow.com/users/6692606/asdfgerte"}, "edited": false, "score": 0, "creation_date": 1573080149, "post_id": 58739471, "comment_id": 103768938, "body": "Also, i assume that <code>poppin === &#39;h&#39;</code> is false? Because <code>isNaN(&quot;f&quot;) === true;</code>."}, {"owner": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "edited": false, "score": 0, "creation_date": 1573080424, "post_id": 58739471, "comment_id": 103769010, "body": "what is <code>reverseArray</code>?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1573081036, "post_id": 58739471, "comment_id": 103769173, "body": "Yes, <code>NaN</code> is a number that has special behavior."}], "answers": [{"tags": [], "owner": {"reputation": 648, "user_id": 9740523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SH2B9.png?s=128&g=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/9740523/sean"}, "is_accepted": false, "score": 0, "last_activity_date": 1573087812, "last_edit_date": 1573087812, "creation_date": 1573086770, "answer_id": 58740353, "question_id": 58739471, "link": "https://stackoverflow.com/questions/58739471/parseint-returns-number-on-f-without-second-argument/58740353#58740353", "title": "parseInt returns number on F, without second argument", "body": "<p>F is a hexadecimal. <br>The second parameter is the type of sequence of numbers. For example, <code>parseInt(5, 2);</code> will return <code>101</code> because its returns the number in binary (2 numbers, 1 and 0). The second argument can be 2 (Binary), 8 (Octal) and 16 (Hexadecimal). The reason your <code>parseInt('F', 16);</code> returns a number is because there is 16 numbers in that sequence (or 10 numbers, 0-9 and 5 letters representing numbers.<code>A = 10, B = 11, C = 12, D = 13, E = 14, F = 15</code>). </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var number = 'F';\r\nconsole.log(parseInt(number, 2)); // F isn't part of sequence (0,1)\r\nconsole.log(parseInt(number, 8)); // F isn't part of sequence (0-7)\r\nconsole.log(parseInt(number, 16)); // F is 15, as defined in answer</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Therefore, <code>F</code> is not considered a number in any other set apart from <code>16</code>. And the typeOf which returns NaN is not equal to number. Therefore, it should run perfectly if the condition <code>poppin === 'h'</code> was removed (Thats where your problem is).</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var nums = ['F', 20];\r\nfor (n of nums) {\r\n\r\n  // Your code being run with two different values\r\n  if (isNaN(n)) {\r\n          console.log(\"Not a number\");\r\n   } else if (typeof parseInt(n) === 'number') {\r\n          console.log(\"A number\");\r\n   }\r\n   \r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 15, "user_id": 11006848, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xVQ0E6IvYxg/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOhcnL2Rp3t1qaz1oa1WdKRuHZbvQ/mo/photo.jpg?sz=128", "display_name": "nicky ger", "link": "https://stackoverflow.com/users/11006848/nicky-ger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1573087812, "creation_date": 1573079686, "question_id": 58739471, "link": "https://stackoverflow.com/questions/58739471/parseint-returns-number-on-f-without-second-argument", "title": "parseInt returns number on F, without second argument", "body": "<p>Pretty simple, but I cannot understand why this is happening, if this isn't normal behavior, I assume it must be a bugg in my code, but since I checked everything and it seems to be right, I think it must be something parseInt is doing.</p>\n\n<p>My code:</p>\n\n<pre><code>$(array).each(function(key, value){\n    //ignore the if statement, it's about the else if statement\n    if (isNaN(value) &amp;&amp; poppin === 'h') {\n        console.log(reverseArray);\n    } else if (typeof parseInt(value) === 'number') {\n            console.log(value);\n            numbers++;\n    } else {\n        console.log('this else statement is pretty useless');\n    }\n});\n</code></pre>\n\n<p>now, if the array were to be: </p>\n\n<pre><code>let array = ['f', '1', '2', '3'];\n</code></pre>\n\n<p>it'll end up in the <code>else if</code> statement, even though (I assume) F is not a number. I read about <code>parseInt()</code> and if I give the second parameter an argument it could (and would) calculate F to a number such as: <code>parseInt('F', 16);</code></p>\n\n<p>My question: Why is <code>f</code> considered an integer in the context of my code?</p>\n"}, {"tags": ["javascript", "typescript", "neural-network"], "owner": {"reputation": 1303, "user_id": 6798201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2jruH.jpg?s=128&g=1", "display_name": "AlienKevin", "link": "https://stackoverflow.com/users/6798201/alienkevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1573079649, "creation_date": 1573079649, "question_id": 58739463, "link": "https://stackoverflow.com/questions/58739463/neural-network-doesnt-work-for-multiple-inputs-converge-to-mean", "title": "Neural Network doesn&#39;t work for multiple inputs, converge to mean", "body": "<p>I'm a beginner in ML and tried to implement a neural network with sigmoid neurons and quadratic cost function in JavaScript. It works fairly well with a single input like a [4, 4, 2] neural network receiving [1, 0, 0, 1] as input and target to output [0, 1] with learning rate = 3.\nAfter just 20 epochs, the error is reduced to 0.000773.<br></p>\n\n<p><strong>However, when I tried to train the net on AND gate, which receives input [[0, 0], [0, 1], [1, 0], [1, 1]] and target to output [0, 0, 0, 1], the outputs converge to the mean value around 0.25. I encountered this same problem when training other tests with multiple inputs.</strong></p>\n\n<p>I'm using <a href=\"https://github.com/nicolaspanel/numjs\" rel=\"nofollow noreferrer\">numjs</a> for linear algebra and here's my code:</p>\n\n<pre><code>import nj, { NdArray } from \"numjs\";\n\nlet activations: nj.NdArray[] = [];\nlet weights: nj.NdArray[] = [];\nlet biases: nj.NdArray[] = [];\nlet zs: nj.NdArray[] = [];\nlet sigmas: nj.NdArray[] = [];\nlet weightGradients: nj.NdArray[] = [];\nlet learningRate = 3;\n\nfunction initializeLayers(layers: number[]) {\n    activations = layers.map((length) =&gt;\n        nj.zeros(length)\n    );\n    weights = layers.map((length, index) =&gt;\n        index &gt; 0\n            ? nj.random([length, layers[index - 1]])\n            : nj.array([])\n    )\n    weightGradients = layers.map((length, index) =&gt;\n        index &gt; 0\n            ? nj.zeros([length, layers[index - 1]])\n            : nj.array([])\n    )\n    biases = layers.map((length) =&gt;\n        nj.zeros(length)\n    );\n}\n\nfunction forward(inputs: nj.NdArray&lt;number&gt;, index = 0): void {\n    if (index &gt;= activations.length) {\n        return;\n    }\n    if (index === 0 &amp;&amp; activations[0].size !== inputs.size) {\n        throw \"Input vector must have the same length as the input layer!\"\n    }\n    const prevActivations = activations[index - 1];\n    activations[index] = inputs;\n    if (index &gt; 0) {\n        const z = nj.dot(weights[index], prevActivations);\n        zs[index] = z;\n        activations[index] = nj.sigmoid(z.add(biases[index]));\n    }\n    forward(activations[index], index + 1);\n}\n\nfunction error(expected: nj.NdArray&lt;number&gt;) {\n    const outputs = activations[activations.length - 1];\n    const n = expected.size;\n    return nj.sum(expected.subtract(outputs).pow(2)) / (2 * n);\n}\n\nfunction backward(expected: nj.NdArray&lt;number&gt;, index = activations.length - 1) {\n    // reached the input layer, stop backward propagation\n    if (index &lt;= 0) {\n        return;\n    }\n\n    const activation = activations[index];\n    const prevActivation = activations[index - 1];\n    const z = zs[index];\n\n    // calculate sigmas for each neurons in the layer\n    // last layer\n    if (index === activations.length - 1) {\n        sigmas[index] = nj.multiply(activation.subtract(expected), sigmoidPrime(z));\n    } else {\n        const nextWeights = weights[index + 1];\n        const nextSigmas = sigmas[index + 1];\n        sigmas[index] = nj.multiply(nj.dot(nextWeights.T, nextSigmas.T), sigmoidPrime(z));\n    }\n\n    // calculate weight gradients\n    let activationMatrix = nj.array([]);\n    let sigmaMatrix = nj.array([]);\n    for (let i = 0; i &lt; activation.size; i++) {\n        activationMatrix = nj.concatenate(activationMatrix, prevActivation);\n        let sigmaRow = nj.array([]);\n        for (let j = 0; j &lt; prevActivation.size; j++) {\n            sigmaRow = nj.concatenate(sigmaRow, nj.array([sigmas[index].get(i)]))\n        }\n        sigmaMatrix = nj.concatenate(sigmaMatrix, sigmaRow);\n    }\n    weightGradients[index] = (nj.multiply(activationMatrix, sigmaMatrix)).reshape(activation.size, prevActivation.size) as NdArray&lt;number&gt;;\n\n    // move to previous layer, continue back propagation\n    backward(expected, index - 1);\n}\n\nfunction gradientDescent() {\n    weights = weights.map((weight, index) =&gt; {\n        return weight.subtract(\n            nj.array(weightGradients[index].flatten().tolist().map(\n                (gradient) =&gt; (gradient as number) * learningRate)\n            ).reshape(...weight.shape) as NdArray&lt;number&gt;\n        )\n    })\n    biases = biases.map((bias, index) =&gt;\n        sigmas[index] === undefined\n        ? bias\n        : bias.subtract(\n            nj.array(sigmas[index].flatten().tolist().map(\n                (gradient) =&gt; (gradient as number) * learningRate)\n            ).reshape(...bias.shape) as NdArray&lt;number&gt;\n        )\n    )\n}\n\nfunction sigmoidPrime(array: nj.NdArray&lt;number&gt;) {\n    const sig = nj.sigmoid(array);\n    return nj.multiply(sig, (nj.subtract(nj.ones(array.shape), sig)));\n}\n\nfunction iterate(inputs: nj.NdArray&lt;number&gt;[], targets: nj.NdArray&lt;number&gt;[], epoches = 200) {\n    initializeLayers(\n        [2, 2, 1]\n    );\n\n    let errors = [];\n\n    for (let i = 0; i &lt; epoches; i++) {\n        let sumOfError = 0;\n        for (let j = 0; j &lt; inputs.length; j++) {\n            forward(inputs[j]);\n            backward(targets[j]);\n            gradientDescent();\n            sumOfError += error(targets[j]);\n        }\n        const averageError = sumOfError / targets.length\n        errors.push(averageError);\n    }\n\n    return errors;\n}\n\nfunction run(inputs: nj.NdArray[]) {\n    return inputs.map((input) =&gt; {\n        forward(input);\n        return activations[activations.length - 1]\n    });\n}\n\n// simple case with one input works fine\nfunction test() {\n    initializeLayers(\n        // [2, 3, 2]\n        [4, 4, 2]\n    );\n\n    console.log(activations)\n    console.log(weights)\n    console.log(biases)\n\n    const inputs =\n    [\n        nj.array([1, 0, 0, 1]),\n    ]\n\n    const targets =\n    [\n        nj.array([0, 1])\n    ];\n\n    for (let i = 0; i &lt; 20; i ++) {\n        forward(inputs[0])\n\n        backward(targets[0])\n\n        gradientDescent()\n\n    }\n\n    console.log(activations)\n    console.log(error(targets[0]));\n    console.log(weights)\n    console.log(biases)\n\n    console.log(\"run: \")\n    console.log(run(inputs))\n}\n\n// test();\n\n// multiple inputs don't work\nconst inputs =\n[\n    nj.array([0, 0]),\n    nj.array([0, 1]),\n    nj.array([1, 0]),\n    nj.array([1, 1]),\n];\n\nconst targets =\n[\n    nj.array([0]),\n    nj.array([0]),\n    nj.array([0]),\n    nj.array([1]),\n];\n\nconst errors = iterate(inputs, targets, 300);\nconsole.log(\"error at start: \" + errors[0]);\nconsole.log(\"error at end: \" + errors[errors.length - 1]);\n\n// test()\nconsole.log(run(inputs))\n</code></pre>\n"}, {"tags": ["javascript", "async-await"], "answers": [{"comments": [{"owner": {"reputation": 314, "user_id": 11904900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d88e8473781728cc1fb769a1844175b?s=128&d=identicon&r=PG&f=1", "display_name": "paoiherpoais", "link": "https://stackoverflow.com/users/11904900/paoiherpoais"}, "edited": false, "score": 0, "creation_date": 1573080528, "post_id": 58739553, "comment_id": 103769046, "body": "This is for my own edification, I noticed that he/she was using await outside of their async function as well.  Should the await that&#39;s being used in front of checkSomething() for the isItChecked variable be removed?"}, {"owner": {"reputation": 8719, "user_id": 6951428, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/92fd81a6020da8e77fc9125e0c9ec512?s=128&d=identicon&r=PG&f=1", "display_name": "junvar", "link": "https://stackoverflow.com/users/6951428/junvar"}, "reply_to_user": {"reputation": 314, "user_id": 11904900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d88e8473781728cc1fb769a1844175b?s=128&d=identicon&r=PG&f=1", "display_name": "paoiherpoais", "link": "https://stackoverflow.com/users/11904900/paoiherpoais"}, "edited": false, "score": 0, "creation_date": 1573080599, "post_id": 58739553, "comment_id": 103769064, "body": "Depends on the omitted code. Perhaps that line is actually inside an <code>async</code> function. Otherwise, yes, using <code>await</code> is illegal and <code>isItChecked</code> could instead store the return promise directly."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1573080972, "post_id": 58739553, "comment_id": 103769155, "body": "<a href=\"https://stackoverflow.com/questions/23803743/what-is-the-explicit-promise-construction-antipattern-and-how-do-i-avoid-it\" title=\"what is the explicit promise construction antipattern and how do i avoid it\">stackoverflow.com/questions/23803743/&hellip;</a>"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1573081153, "post_id": 58739553, "comment_id": 103769206, "body": "@JonasWilms yes, but the result is within the callback of an event handler. <code>file.on()</code> does not return a promise."}, {"owner": {"reputation": 314, "user_id": 11904900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d88e8473781728cc1fb769a1844175b?s=128&d=identicon&r=PG&f=1", "display_name": "paoiherpoais", "link": "https://stackoverflow.com/users/11904900/paoiherpoais"}, "edited": false, "score": 0, "creation_date": 1573081401, "post_id": 58739553, "comment_id": 103769268, "body": "@junvar Good point.  I was assuming this was a standalone function being returned within a larger async function.  Thanks for the feedback."}, {"owner": {"reputation": 13763, "user_id": 172617, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/63cd07c7dea0faaeaf4746dd2c317a67?s=128&d=identicon&r=PG", "display_name": "larryq", "link": "https://stackoverflow.com/users/172617/larryq"}, "reply_to_user": {"reputation": 314, "user_id": 11904900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d88e8473781728cc1fb769a1844175b?s=128&d=identicon&r=PG&f=1", "display_name": "paoiherpoais", "link": "https://stackoverflow.com/users/11904900/paoiherpoais"}, "edited": false, "score": 0, "creation_date": 1573081402, "post_id": 58739553, "comment_id": 103769269, "body": "@paoiherpoais yes, the line in question is indeed inside an async function, just omitted it for space.  And your suggestion worked great junvar, my sincere thanks."}, {"owner": {"reputation": 314, "user_id": 11904900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d88e8473781728cc1fb769a1844175b?s=128&d=identicon&r=PG&f=1", "display_name": "paoiherpoais", "link": "https://stackoverflow.com/users/11904900/paoiherpoais"}, "reply_to_user": {"reputation": 13763, "user_id": 172617, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/63cd07c7dea0faaeaf4746dd2c317a67?s=128&d=identicon&r=PG", "display_name": "larryq", "link": "https://stackoverflow.com/users/172617/larryq"}, "edited": false, "score": 0, "creation_date": 1573081430, "post_id": 58739553, "comment_id": 103769277, "body": "@larryq Ah!  Okay that explains it.  Thanks."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1573090153, "post_id": 58739553, "comment_id": 103771242, "body": "@patrick but <code>performATask</code> does. The other answer does it correctly."}], "tags": [], "owner": {"reputation": 8719, "user_id": 6951428, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/92fd81a6020da8e77fc9125e0c9ec512?s=128&d=identicon&r=PG&f=1", "display_name": "junvar", "link": "https://stackoverflow.com/users/6951428/junvar"}, "is_accepted": true, "score": 1, "last_activity_date": 1573080320, "creation_date": 1573080320, "answer_id": 58739553, "question_id": 58739462, "link": "https://stackoverflow.com/questions/58739462/await-ing-a-javascript-event-handler/58739553#58739553", "title": "Await-ing a javascript event handler", "body": "<p>You're close, you just have to return a promise, which resolves after the execution reaches your desired point (where you have the comment).</p>\n\n<p>Other things to keep in mind:</p>\n\n<ul>\n<li>Ensure you only use <code>await</code> from within <code>async</code> functions</li>\n<li>Use <code>===</code> instead of <code>==</code></li>\n<li>End statements with <code>;</code>s</li>\n</ul>\n\n<pre><code>const axios = require('axios');\nconst fs = require('fs');\n\n/*....*/\n\nlet isItChecked = await checkSomething();\n\nasync function checkSomething() {\n  const response = await axios.get('https://someUrl.com', {responseType: 'stream'});\n\n  const file = fs.createWriteStream('./localFile.txt');\n\n  response.data.pipe(file);\n\n  return new Promise(resolve =&gt;\n      file.on('finish', () =&gt;\n          performATask().then(result =&gt; resolve(result === 'good'))));\n}\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12410, "user_id": 5217142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57daeb5f96b7a591e3447d41e59bbc94?s=128&d=identicon&r=PG&f=1", "display_name": "traktor", "link": "https://stackoverflow.com/users/5217142/traktor"}, "is_accepted": false, "score": 3, "last_activity_date": 1573081158, "creation_date": 1573081158, "answer_id": 58739660, "question_id": 58739462, "link": "https://stackoverflow.com/questions/58739462/await-ing-a-javascript-event-handler/58739660#58739660", "title": "Await-ing a javascript event handler", "body": "<p>Since the event is only used as a signal for processing to continue, you can promisify and <code>await</code> its receipt before continuing with in-line style code. This also means that <code>result</code> need not be declared in outer scope of a nested fumction (which didn't work anyway due to being set asynchronously):</p>\n\n<pre><code>async function checkSomething() {\n    const response = await axios.get('https://someUrl.com', {\n        responseType: 'stream'\n    });\n\n    const file = fs.createWriteStream('./localFile.txt');\n    response.data.pipe(file);\n    await new Promise( resolve=&gt; file.on(`finish`, resolve)); // wait here\n\n    const result = await  performATask();\n    return result == 'good`;\n}\n</code></pre>\n"}], "owner": {"reputation": 13763, "user_id": 172617, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/63cd07c7dea0faaeaf4746dd2c317a67?s=128&d=identicon&r=PG", "display_name": "larryq", "link": "https://stackoverflow.com/users/172617/larryq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 58739553, "answer_count": 2, "score": 0, "last_activity_date": 1573081158, "creation_date": 1573079648, "question_id": 58739462, "link": "https://stackoverflow.com/questions/58739462/await-ing-a-javascript-event-handler", "title": "Await-ing a javascript event handler", "body": "<p>I'm struggling with an event handler in javascript, I'm trying to make things respond correctly with async / await.  </p>\n\n<p>The issue in the code below is with the <code>file.on</code> event-- I'm struggling to promisify it correctly.  Currently the <code>checkSomething</code> method returns before the <code>file.on</code> handler is finished, and so <code>returnValue</code> is always <code>false</code>.</p>\n\n<p>I could use some advice and best practices.  </p>\n\n<p>What's a good way to go ensure  <code>returnValue</code> is checked / set in the handler before the value is returned?  I've tried putting the <code>await</code> keyword in front of the event handler, and in its callback function but that didn't work, and I'm basically scruffing along at this point and could use some tips.  Thanks.</p>\n\n<pre><code>const axios = require('axios')\nconst fs = require('fs')\n\n/*....*/\n\nlet isItChecked = await checkSomething()\n\nasync function checkSomething() {\n    let returnValue = false\n    const response = await axios.get('https://someUrl.com', {\n        responseType: 'stream'\n    })\n\n    const file = fs.createWriteStream('./localFile.txt')\n\n    response.data.pipe(file)\n\n    file.on('finish' () =&gt; {\n        performATask().then((result) =&gt; {\n            if (result == 'good') {\n                returnValue = true  //need to make sure this is evaluated before returning\n            }\n        })\n    })\n\n    return returnValue\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "node.js", "electron"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 11684784, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vF0MpkOHVrs/AAAAAAAAAAI/AAAAAAAAAH0/hFc3IyAQDPI/photo.jpg?sz=128", "display_name": "Thanos Tapras", "link": "https://stackoverflow.com/users/11684784/thanos-tapras"}, "edited": false, "score": 0, "creation_date": 1573081160, "post_id": 58739584, "comment_id": 103769207, "body": "How can i call them after loading the url? Is there anyway to run a javascript file from an external url?"}, {"owner": {"reputation": 16359, "user_id": 840992, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e2aa4cd8ca03c4b2f71c6443f6e437b1?s=128&d=identicon&r=PG", "display_name": "spring", "link": "https://stackoverflow.com/users/840992/spring"}, "reply_to_user": {"reputation": 31, "user_id": 11684784, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vF0MpkOHVrs/AAAAAAAAAAI/AAAAAAAAAH0/hFc3IyAQDPI/photo.jpg?sz=128", "display_name": "Thanos Tapras", "link": "https://stackoverflow.com/users/11684784/thanos-tapras"}, "edited": false, "score": 0, "creation_date": 1573082117, "post_id": 58739584, "comment_id": 103769474, "body": "@ThanosTapras - it really depends on how your app is structured, If you are not familiar with IPC communication, you should spend a couple of hours reading tutorials and writing some test code."}], "tags": [], "owner": {"reputation": 16359, "user_id": 840992, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e2aa4cd8ca03c4b2f71c6443f6e437b1?s=128&d=identicon&r=PG", "display_name": "spring", "link": "https://stackoverflow.com/users/840992/spring"}, "is_accepted": false, "score": 2, "last_activity_date": 1573140678, "last_edit_date": 1592644375, "creation_date": 1573080628, "answer_id": 58739584, "question_id": 58739455, "link": "https://stackoverflow.com/questions/58739455/add-back-button-when-loading-url-in-electron/58739584#58739584", "title": "Add back button when loading url in Electron", "body": "<p>I haven't had a need to use it but there are navigation functions in the <a href=\"https://electronjs.org/docs/api/web-contents#contentsgoback\" rel=\"nofollow noreferrer\">webContent</a> instances:</p>\n<blockquote>\n<p><strong>contents.clearHistory()</strong></p>\n<p>Clears the navigation history.</p>\n<p><strong>contents.goBack()</strong></p>\n<p>Makes the browser go back a web page.</p>\n<p><strong>contents.goForward()</strong></p>\n<p>Makes the browser go forward a web page.</p>\n</blockquote>\n<p>And so forth. So it looks like you can do what you want.</p>\n"}, {"tags": [], "owner": {"reputation": 144, "user_id": 11546696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GS9qB.jpg?s=128&g=1", "display_name": "yodellingbutters", "link": "https://stackoverflow.com/users/11546696/yodellingbutters"}, "is_accepted": false, "score": 0, "last_activity_date": 1614525943, "creation_date": 1614525943, "answer_id": 66410653, "question_id": 58739455, "link": "https://stackoverflow.com/questions/58739455/add-back-button-when-loading-url-in-electron/66410653#66410653", "title": "Add back button when loading url in Electron", "body": "<p>Here In your Page wherever\nDon't forget to</p>\n<pre><code>const electron = window.require('electron');\nconst { ipcRenderer } = electron;\n</code></pre>\n<h3>App.js (or any page)</h3>\n<pre><code>const goBack = async () =&gt; {\n  // Async message sender\n  ipcRenderer.send('goBackHomeBoi', 'Send Me Data Please')\n  // Async message handler\n  ipcRenderer.on('WentBack', (event, data) =&gt; {\n    console.log(data)\n  })\n}\n</code></pre>\n<p>then you can have button on the page whose <code>onClick</code> binds to this funtion.</p>\n<h3>main.js (electron main)</h3>\n<pre><code> // Event handler for asynchronous incoming messages\nipcMain.on('goBackHomeBoi', async (event, arg) =&gt; {\n    win.webContents.goBack()\n    event.sender.send('WentBack', 'Done')\n })\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11684784, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vF0MpkOHVrs/AAAAAAAAAAI/AAAAAAAAAH0/hFc3IyAQDPI/photo.jpg?sz=128", "display_name": "Thanos Tapras", "link": "https://stackoverflow.com/users/11684784/thanos-tapras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2206, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1614525943, "creation_date": 1573079608, "question_id": 58739455, "link": "https://stackoverflow.com/questions/58739455/add-back-button-when-loading-url-in-electron", "title": "Add back button when loading url in Electron", "body": "<p>I currently have elements in an Electron app of mine, that when clicking on them loads a url. However it is not possible to go to the previous (local) page.</p>\n\n<p>Is there any way to add a layered back button on top of the external url which will load the previous page?</p>\n"}, {"tags": ["javascript", "excel", "batch-file", "web-applications", "web-deployment"], "comments": [{"owner": {"reputation": 10786, "user_id": 4158862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fKDhB.png?s=128&g=1", "display_name": "SomethingDark", "link": "https://stackoverflow.com/users/4158862/somethingdark"}, "edited": false, "score": 0, "creation_date": 1573086914, "post_id": 58739454, "comment_id": 103770567, "body": "How in the world did you end up with this Rube Goldberg machine of a scenario?"}, {"owner": {"reputation": 39, "user_id": 12140050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1e0b1b4a641b2d05bdbccc44f7e83b?s=128&d=identicon&r=PG&f=1", "display_name": "user12140050", "link": "https://stackoverflow.com/users/12140050/user12140050"}, "reply_to_user": {"reputation": 10786, "user_id": 4158862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fKDhB.png?s=128&g=1", "display_name": "SomethingDark", "link": "https://stackoverflow.com/users/4158862/somethingdark"}, "edited": false, "score": 0, "creation_date": 1573092208, "post_id": 58739454, "comment_id": 103771670, "body": "It is because I am unaware of any other way to do this that would run on client computers without being block by antivirus."}, {"owner": {"reputation": 121871, "user_id": 478884, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rLckc.jpg?s=128&g=1", "display_name": "Tim Williams", "link": "https://stackoverflow.com/users/478884/tim-williams"}, "edited": false, "score": 0, "creation_date": 1573101178, "post_id": 58739454, "comment_id": 103773423, "body": "If you can run VBA then wouldn&#39;t that be enough?"}, {"owner": {"reputation": 39, "user_id": 12140050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1e0b1b4a641b2d05bdbccc44f7e83b?s=128&d=identicon&r=PG&f=1", "display_name": "user12140050", "link": "https://stackoverflow.com/users/12140050/user12140050"}, "edited": false, "score": 0, "creation_date": 1573133535, "post_id": 58739454, "comment_id": 103788004, "body": "Can VBA highlight documents in PDF?"}], "owner": {"reputation": 39, "user_id": 12140050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1e0b1b4a641b2d05bdbccc44f7e83b?s=128&d=identicon&r=PG&f=1", "display_name": "user12140050", "link": "https://stackoverflow.com/users/12140050/user12140050"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573079595, "creation_date": 1573079595, "question_id": 58739454, "link": "https://stackoverflow.com/questions/58739454/highlighting-pdf-with-javascript", "title": "Highlighting PDF with Javascript", "body": "<p>I am trying to write a batch file which has html with javascript for a gui. The goal would be the batch file runs VBA gets a TSV file from excel and then highlights some data on a pdf based on the TSV file using JavaScript. I was looking into pdf.js but there are a lot of other solutions i came across. I am new with web development or anything of this sort. Any suggestions would be greatly appreciated.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 1012, "user_id": 6795482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a65b96ff63bcad88984fa9a5944e4d6?s=128&d=identicon&r=PG&f=1", "display_name": "fingeron", "link": "https://stackoverflow.com/users/6795482/fingeron"}, "edited": false, "score": 0, "creation_date": 1573080501, "post_id": 58739447, "comment_id": 103769039, "body": "You&#39;re using <code>i</code> again in an inner-loop. It breaks your main loop and causes an error on the next iteration."}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1573081174, "post_id": 58739578, "comment_id": 103769211, "body": "Should also declare all the variables to be local with <code>var</code>"}, {"owner": {"reputation": 300, "user_id": 5059325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14b0fbfa4202ef7779c0e45552f935ad?s=128&d=identicon&r=PG", "display_name": "Atsushi", "link": "https://stackoverflow.com/users/5059325/atsushi"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1573081358, "post_id": 58739578, "comment_id": 103769258, "body": "Good call! Added them"}], "tags": [], "owner": {"reputation": 300, "user_id": 5059325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14b0fbfa4202ef7779c0e45552f935ad?s=128&d=identicon&r=PG", "display_name": "Atsushi", "link": "https://stackoverflow.com/users/5059325/atsushi"}, "is_accepted": true, "score": 1, "last_activity_date": 1573081310, "last_edit_date": 1573081310, "creation_date": 1573080569, "answer_id": 58739578, "question_id": 58739447, "link": "https://stackoverflow.com/questions/58739447/create-html-elements-from-nested-array/58739578#58739578", "title": "Create HTML elements from nested array", "body": "<p>In the 3rd for loop, you're reusing the same loop counter <code>i</code>. Try using a different variable name (in my example I used <code>k</code>)</p>\n\n<pre><code>for(let i = 0; i &lt; menu.length; i++){\n  for(let j = 0; j &lt; menu[i].length; j++){\n    if(j == 0){\n      foodSectionText = menu[i][j];\n      let btn = document.createElement(\"BUTTON\");\n      btn.innerHTML = foodSectionText;\n      document.body.appendChild(btn);      }\n    else{\n      menuEntry = menu[i][j];\n      console.log(menuEntry);\n      for(let k = 0; k &lt; menuEntry.length; k++){\n        div = document.createElement(\"DIV\");\n        div.innerHTML = menuEntry[k];\n        document.body.appendChild(div);\n      }\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1009, "user_id": 3131132, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/20a47a40f80b57c0b65c72f83e992336?s=128&d=identicon&r=PG&f=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/3131132/justin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 58739578, "answer_count": 1, "score": 0, "last_activity_date": 1573081310, "creation_date": 1573079571, "question_id": 58739447, "link": "https://stackoverflow.com/questions/58739447/create-html-elements-from-nested-array", "title": "Create HTML elements from nested array", "body": "<p>I am attempting to create the mobile view of a restaurant menu. The menu itself is stored in the <code>menu</code> variable which holds data in the form of</p>\n\n<pre><code>let menu = [\n  [\n    'Food Section', //i.e Appetizers\n    ['Entry', 'Food Description' , 'Price'],\n    ['Entry', 'Food Description' , 'Price']\n\n  ]\n  [\n    'Food Section', //i.e Soup\n    ['Entry', 'Food Description' , 'Price'],\n    ['Entry', 'Food Description' , 'Price']\n  ],\n   etc...\n</code></pre>\n\n<p>I want the website itself to display buttons with the food sections (\"Appetizers\" button, \"Soup\" button) and upon clicking said button the appropriate food entries will drop down and become visible. For now I am attempting to just create the <code>buttons</code> and <code>divs</code> of the appropriate entries under each <code>button</code>. I do this by looping through <code>menu</code> and then looping through each <code>menu</code> element. Here is my code:\njs:</p>\n\n<pre><code>let menu = [\n  [\n      'Appetizers',\n      ['Fried Calamari', \"\", '$11.95'],\n      ['Mussels', \"Marinara, fra diavolo or bianco\", '$12.95'],\n      ['Calamari &amp; Mussels', \"Fra diavolo or marinara\", '$12.95'],\n      ['Hot Antipasto', \"Two baked clams, two stuffed shells, two stuffed mushrooms, two fried shrimp &amp; scallops in a seafood sauce\", '$14.95'],\n    ],\n    [\n      'Soups',\n      ['Chicken Noodle','','$4.95'],\n      ['Minestrone','','$4.95'],\n      ['Lentil','','$5.95'],\n      ['Pasta Fagioli','','$5.95'],\n      ['Cheese Tortellini','','$6.95'],\n    ]\n\n\n\n//create html elements by looping through menu variable\n      for(i = 0; i &lt; menu.length; i++){\n        for(j = 0; j &lt; menu[i].length; j++){\n          if(j == 0){\n            foodSectionText = menu[i][j];\n            let btn = document.createElement(\"BUTTON\");\n            btn.innerHTML = foodSectionText;\n            document.body.appendChild(btn);      }\n          else{\n            menuEntry = menu[i][j];\n            console.log(menuEntry);\n            for(i = 0; i &lt; menuEntry.length; i++){\n              div = document.createElement(\"DIV\");\n              div.innerHTML = menuEntry[i];\n              document.body.appendChild(div);\n            }\n          }\n        }\n      }\n</code></pre>\n\n<p>The above code will create:</p>\n\n<pre><code>&lt;button&gt;Appetizers&lt;/button&gt;\n&lt;div&gt;Fried Calamari&lt;/div&gt;\n&lt;div&gt;&lt;/div&gt;\n&lt;div&gt;$11.95&lt;/div&gt;\n</code></pre>\n\n<p>But then throws <code>Uncaught TypeError: Cannot read property 'length' of undefined</code> referring to     <code>for(j = 0; j &lt; menu[i].length; j++)</code>. Why is the second item <code>['Mussels', \"Marinara, fra diavolo or bianco\", '$12.95']</code> (and all subsequent items) not being properly rendered? Also if you have any suggestions as to how to clean up this process feel free to share, I feel I am going about implementing this a terrible way...</p>\n"}, {"tags": ["javascript", "html", "handlebars.js"], "answers": [{"tags": [], "owner": {"reputation": 5576, "user_id": 10944219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gUQfW.png?s=128&g=1", "display_name": "kmgt", "link": "https://stackoverflow.com/users/10944219/kmgt"}, "is_accepted": true, "score": 1, "last_activity_date": 1573134563, "creation_date": 1573134563, "answer_id": 58750170, "question_id": 58739446, "link": "https://stackoverflow.com/questions/58739446/handlebars-lookup-to-make-an-href/58750170#58750170", "title": "Handlebars lookup to make an href", "body": "<p>You don't need <code>lookup</code> in this case. I think you want to display the <code>url</code>, so <code>@index</code> is not the right reference. Try it this way:</p>\n\n<pre><code>&lt;div href={{../cardLink}} class=\"col-xs-12 col-sm-6 col-md-4 col-lg-4\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 11745265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0ec8fed144e267c31e328316bb221a7?s=128&d=identicon&r=PG&f=1", "display_name": "swarr35", "link": "https://stackoverflow.com/users/11745265/swarr35"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 58750170, "answer_count": 1, "score": 0, "last_activity_date": 1573134563, "creation_date": 1573079565, "last_edit_date": 1573133543, "question_id": 58739446, "link": "https://stackoverflow.com/questions/58739446/handlebars-lookup-to-make-an-href", "title": "Handlebars lookup to make an href", "body": "<p>I am trying to make a mod on an existing app. All I want to do is create an href that contains a url, but using the handlebars lookup function. When I try it just returns a blank value.</p>\n\n<p>Here is my function: </p>\n\n<pre><code>var cardLink = function generateCardLink() {\n  var url = `\"url/container-scan-reports/${vendor}/${product}/${image}\"`        \n  return url;      \n}\n\n//...\n\nres.render('vendor', { \n  title: 'Vendor Images',\n  images: images,\n  tags: tags,\n  cardLink: cardLink\n});\n</code></pre>\n\n<p>I am then trying to pass in href this way on the top div of template.</p>\n\n<pre><code>&lt;div class=\"row row-cards-pf \"&gt;\n\n{{#each images}}\n  &lt;div  href={{lookup ../cardLink @index }} class=\"col-xs-12 col-sm-6 col-md-4 col-lg-4\"&gt;\n    &lt;div class=\"card-pf card-pf-view card-pf-view-select card-pf-view-single-select\"&gt;\n        &lt;div class=\"card-pf-body\"&gt;\n          &lt;div class=\"card-pf-top-element\"&gt;\n            &lt;span class=\"pficon-image card-pf-icon-circle\"&gt;&lt;/span&gt;\n          &lt;/div&gt;\n          &lt;h2 class=\"card-pf-title text-center\"&gt;\n              {{ this }}\n          &lt;/h2&gt;\n          &lt;div class=\"card-pf-items text-center\"&gt;\n            &lt;div class=\"card-pf-item\"&gt;\n              {{{ lookup ../tags @index}}}\n            &lt;/div&gt;\n          &lt;/div&gt;\n       &lt;!--   &lt;p class=\"card-pf-info text-center\"&gt;&lt;strong&gt;Most recent image&lt;/strong&gt; {{ lookup ../mostRecentImages @index}}&lt;/p&gt; --&gt;\n        &lt;/div&gt;\n        &lt;div class=\"card-pf-view-checkbox\"&gt;\n          &lt;input type=\"checkbox\"&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n  &lt;/div&gt;&lt;!-- /col --&gt;\n{{/each}}\n</code></pre>\n\n<p>Can anyone help me?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 12920, "user_id": 2147481, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/v8FBa.png?s=128&g=1", "display_name": "Gokul Nath KP", "link": "https://stackoverflow.com/users/2147481/gokul-nath-kp"}, "edited": false, "score": 0, "creation_date": 1573079739, "post_id": 58739428, "comment_id": 103768816, "body": "What does <i>selectedbutton.dataset.answer</i> returns?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1573081262, "post_id": 58739428, "comment_id": 103769237, "body": "You have an extra <code>}</code> after the first function."}, {"owner": {"reputation": 27, "user_id": 12334665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd320677c429d4e363851816188d6105?s=128&d=identicon&r=PG&f=1", "display_name": "Waelalmerri", "link": "https://stackoverflow.com/users/12334665/waelalmerri"}, "edited": false, "score": 0, "creation_date": 1573298769, "post_id": 58739428, "comment_id": 103842166, "body": "it returns the correct answer from JSON, beside, I just edited the code i forgot to show the for loop."}], "owner": {"reputation": 27, "user_id": 12334665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd320677c429d4e363851816188d6105?s=128&d=identicon&r=PG&f=1", "display_name": "Waelalmerri", "link": "https://stackoverflow.com/users/12334665/waelalmerri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573251576, "creation_date": 1573079463, "last_edit_date": 1573251576, "question_id": 58739428, "link": "https://stackoverflow.com/questions/58739428/how-do-i-call-the-answer-of-options-from-json-and-send-the-chosen-option", "title": "how do I call the answer of options from JSON and send the chosen option", "body": "<p>in this task, I want to choose one of the alternatives and check if the answer is correct using Ajax which I already set with function sendAnswer(url, data), however all the choices I click on return wrong answer and it doesnt continue to the next question?!</p>\n\n<pre><code>\"questions\": [{\n            \"id\" : 21,\n            \"question\": \"What is 2 + 8?\",\n            \"alternatives\": {\n                \"alt1\": 2,\n                \"alt2\": 8,\n                \"alt3\": 10,\n                \"alt4\": 28\n            },\n            \"answer\" : \"alt3\"\n        },\n</code></pre>\n\n<pre><code>function displayAlternatives(data) {\n  let options = data.alternatives\n  let button\nfor ( let alt in options) {\n  button = document.createElement('button')\n  //button.setAttribute('name', 'choice')\n  // button.setAttribute('value', alt)\n  button.innerText = options[alt]\n  button.classList.add('btn')\n  answerButtons.appendChild(button)\n\n\n  button.addEventListener('click', selectAnswer)\n  sendAnswer(data.nextURL, button.value)\n}\n}\n\nfunction selectAnswer(guess) {\n\n  let selectedbutton = guess.target\n  let correct = selectedbutton.dataset.answer\n  if (correct) {\n    console.log('correct')\n  } else {\n    console.log('wrong')\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "css"], "comments": [{"owner": {"reputation": 803, "user_id": 3458162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EtWor.jpg?s=128&g=1", "display_name": "Arye Eidelman", "link": "https://stackoverflow.com/users/3458162/arye-eidelman"}, "edited": false, "score": 2, "creation_date": 1573079635, "post_id": 58739408, "comment_id": 103768773, "body": "Why not remove $(&quot;body&quot;).css(&quot;overflow&quot;,&quot;hidden&quot;) and $(&quot;body&quot;).css(&quot;overflow&quot;,&quot;&quot;)?"}, {"owner": {"reputation": 385, "user_id": 9978856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0305fd1c01a9381d404555d017773c5?s=128&d=identicon&r=PG&f=1", "display_name": "Pablo_Web", "link": "https://stackoverflow.com/users/9978856/pablo-web"}, "reply_to_user": {"reputation": 803, "user_id": 3458162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EtWor.jpg?s=128&g=1", "display_name": "Arye Eidelman", "link": "https://stackoverflow.com/users/3458162/arye-eidelman"}, "edited": false, "score": 0, "creation_date": 1573085005, "post_id": 58739408, "comment_id": 103770159, "body": "@Arye Eidelman Thanks. I will take note of this error in my script..."}], "answers": [{"comments": [{"owner": {"reputation": 385, "user_id": 9978856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0305fd1c01a9381d404555d017773c5?s=128&d=identicon&r=PG&f=1", "display_name": "Pablo_Web", "link": "https://stackoverflow.com/users/9978856/pablo-web"}, "edited": false, "score": 0, "creation_date": 1573085056, "post_id": 58740044, "comment_id": 103770177, "body": "Thanks. I will take note of this error in my script"}, {"owner": {"reputation": 314, "user_id": 11904900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d88e8473781728cc1fb769a1844175b?s=128&d=identicon&r=PG&f=1", "display_name": "paoiherpoais", "link": "https://stackoverflow.com/users/11904900/paoiherpoais"}, "reply_to_user": {"reputation": 385, "user_id": 9978856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0305fd1c01a9381d404555d017773c5?s=128&d=identicon&r=PG&f=1", "display_name": "Pablo_Web", "link": "https://stackoverflow.com/users/9978856/pablo-web"}, "edited": false, "score": 0, "creation_date": 1573085745, "post_id": 58740044, "comment_id": 103770314, "body": "Glad I could help."}], "tags": [], "owner": {"reputation": 314, "user_id": 11904900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d88e8473781728cc1fb769a1844175b?s=128&d=identicon&r=PG&f=1", "display_name": "paoiherpoais", "link": "https://stackoverflow.com/users/11904900/paoiherpoais"}, "is_accepted": true, "score": 1, "last_activity_date": 1573084203, "creation_date": 1573084203, "answer_id": 58740044, "question_id": 58739408, "link": "https://stackoverflow.com/questions/58739408/how-avoid-horizontal-html-scrolling-when-a-layer-is-show/58740044#58740044", "title": "How avoid horizontal html scrolling when a layer is show", "body": "<p>You need to get rid of your use of \"overflow\".  I've included a link below to the Mozilla Developer Network docs for \"overflow\", but below is a quick quote explaining what's happening.</p>\n\n<p>\"hidden\nContent is clipped if necessary to fit the padding box. <strong>No scrollbars are provided</strong>, and <strong>no support for allowing the user to scroll (such as by dragging or using a scroll wheel) is allowed</strong>. The content can be scrolled programmatically (for example, by setting the value of a property such as offsetLeft), so the element is still a scroll container.\"</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/overflow\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/CSS/overflow</a></p>\n\n<p>Also, after one cycle of clicking Open and Close, if you were to click Open again, the word Close won't show up.  That's because you're not using the .show() method to show that text upon clicking Open.  Updated JavaScript below.</p>\n\n<p>JavaScript:</p>\n\n<pre><code>$(document).ready(function(){\n  $(\".open-modal\").click(function(){\n    $(\".modal,.layer,.close-modal\").show();\n  });\n    $(\".close-modal,.layer\").click(function(){\n      $(\".close-modal,.layer\").hide();\n  });\n});\n</code></pre>\n"}], "owner": {"reputation": 385, "user_id": 9978856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0305fd1c01a9381d404555d017773c5?s=128&d=identicon&r=PG&f=1", "display_name": "Pablo_Web", "link": "https://stackoverflow.com/users/9978856/pablo-web"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 58740044, "answer_count": 1, "score": 0, "last_activity_date": 1573084203, "creation_date": 1573079337, "question_id": 58739408, "link": "https://stackoverflow.com/questions/58739408/how-avoid-horizontal-html-scrolling-when-a-layer-is-show", "title": "How avoid horizontal html scrolling when a layer is show", "body": "<p>I have a div <code>.layer</code> that darkens the entire page to highlight a modal, but when I trigger the event there is a problem to occupying 100% of the screen, and is that the scroll bar of the original browser is deleted</p>\n\n<p>Is there any fancy way to make the div <code>.layer</code>, when is visible, keep the original bar scroll of the page?</p>\n\n<p>In smartphones / tablet I do not find any problem when shooting the event <code>.layer\").show();</code> <strong>but on desktop screens the original scroll bar of browser is eliminated and the whole html document moves to right, taking its place.</strong></p>\n\n<p>What would be the correct way to avoid html to the right?</p>\n\n<p>Thanks in advance!</p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;div class=\"layer\"&gt;&lt;/div&gt;\n&lt;div class=\"open-modal\"&gt;Open&lt;/div&gt;\n\n&lt;div class=\"modal\"&gt;\n  &lt;div class=\"close-modal\"&gt;Close&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>CSS:</strong></p>\n\n<pre><code>html {width:100%;min-height:100%;margin:0 auto;top:0;left:0;padding:0}\nbody {top:0;left:0;margin:0;padding:0;min-height:100%}\n\n.layer {\ndisplay:none;\nposition:fixed;\ntop:0;\nleft:0;\nwidth:100%;\nmin-height:100vh;\nbackground:rgba(0,0,0,.9);\nz-index:2\n}\n\n.modal {display:none;z-index:1}\n</code></pre>\n\n<p><strong>SCRIPT:</strong></p>\n\n<pre><code>$(document).ready(function(){\n  $(\".open-modal\").click(function(){\n    $(\".modal,.layer\").show();\n    $(\"body\").css(\"overflow\",\"hidden\");\n  });\n    $(\".close-modal,.layer\").click(function(){\n      $(\".close-modal,.layer\").hide();\n      $(\"body\").css(\"overflow\",\"\");\n  });\n});\n</code></pre>\n"}, {"tags": ["javascript", "recursion", "tree", "ecmascript-5"], "comments": [{"owner": {"reputation": 677, "user_id": 3421659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfc4a95d1dfffbdd39f6daf3433757aa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/3421659/andrew"}, "edited": false, "score": 1, "creation_date": 1573079252, "post_id": 58739372, "comment_id": 103768642, "body": "For starters, you can&#39;t name your function <code>function</code>, but beyond that, you also aren&#39;t recursing at all."}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1573079484, "post_id": 58739372, "comment_id": 103768721, "body": "you mean object not json, right?"}, {"owner": {"reputation": 11, "user_id": 12334662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/752de2d4448a8ed50154d59d1c4eec80?s=128&d=identicon&r=PG&f=1", "display_name": "flaneur_o", "link": "https://stackoverflow.com/users/12334662/flaneur-o"}, "reply_to_user": {"reputation": 677, "user_id": 3421659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfc4a95d1dfffbdd39f6daf3433757aa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/3421659/andrew"}, "edited": false, "score": 0, "creation_date": 1573079528, "post_id": 58739372, "comment_id": 103768732, "body": "@Andrew - Thanks for pointing it out. I just edited the name, it now reflects what I meant initially."}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1573079643, "post_id": 58739372, "comment_id": 103768778, "body": "You probably want <code>children</code> to be an array."}, {"owner": {"reputation": 11, "user_id": 12334662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/752de2d4448a8ed50154d59d1c4eec80?s=128&d=identicon&r=PG&f=1", "display_name": "flaneur_o", "link": "https://stackoverflow.com/users/12334662/flaneur-o"}, "reply_to_user": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1573079645, "post_id": 58739372, "comment_id": 103768779, "body": "@ibrahimmahrir i mean object, yes"}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1573079745, "post_id": 58739372, "comment_id": 103768820, "body": "Do you really need the files to have a children property?"}, {"owner": {"reputation": 11, "user_id": 12334662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/752de2d4448a8ed50154d59d1c4eec80?s=128&d=identicon&r=PG&f=1", "display_name": "flaneur_o", "link": "https://stackoverflow.com/users/12334662/flaneur-o"}, "reply_to_user": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1573079903, "post_id": 58739372, "comment_id": 103768872, "body": "@ibrahimmahrir yes, that&#39;s a requirement. I know it doesn&#39;t make intuitive sense though :)"}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1573079941, "post_id": 58739372, "comment_id": 103768886, "body": "How is this function first called?"}, {"owner": {"reputation": 11, "user_id": 12334662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/752de2d4448a8ed50154d59d1c4eec80?s=128&d=identicon&r=PG&f=1", "display_name": "flaneur_o", "link": "https://stackoverflow.com/users/12334662/flaneur-o"}, "reply_to_user": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1573080057, "post_id": 58739372, "comment_id": 103768911, "body": "@ibrahimmahrir edited to add first call"}], "answers": [{"comments": [{"owner": {"reputation": 1443, "user_id": 815411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecbb227971789d8ec9317cd34eb64592?s=128&d=identicon&r=PG", "display_name": "Brandon Hill", "link": "https://stackoverflow.com/users/815411/brandon-hill"}, "edited": false, "score": 1, "creation_date": 1573081363, "post_id": 58739570, "comment_id": 103769260, "body": "This is close, but should be modifying <code>obj</code> (currently unused) not creating new <code>entryObj</code>. Either that or there&#39;s no need to accept <code>obj</code>."}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "reply_to_user": {"reputation": 1443, "user_id": 815411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecbb227971789d8ec9317cd34eb64592?s=128&d=identicon&r=PG", "display_name": "Brandon Hill", "link": "https://stackoverflow.com/users/815411/brandon-hill"}, "edited": false, "score": 0, "creation_date": 1573081568, "post_id": 58739570, "comment_id": 103769324, "body": "@BrandonHill good point. I&#39;ll edit, thanks. I got rid of it alltogether."}], "tags": [], "owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "is_accepted": false, "score": 1, "last_activity_date": 1573081615, "last_edit_date": 1573081615, "creation_date": 1573080472, "answer_id": 58739570, "question_id": 58739372, "link": "https://stackoverflow.com/questions/58739372/recursive-function-in-javascript-that-outputs-json/58739570#58739570", "title": "Recursive function in javascript that outputs JSON", "body": "<p>As pointed out in the comments, <code>children</code> should be an array:</p>\n\n<pre><code>function fun(entry) {\n  var entryObj = {                                         // construct the object for this entry\n    name: entry.name || \"\",\n    type: entry.type,                                      // put the type here instead of using an if\n    children: []                                           // children must be an array\n  };\n\n  if(entry.type === \"dir\") {                               // if this entry is a directory\n    var childEntries = entry.listFiles();                  // get its child entries\n    for(var childEntry of childEntries) {                  // and for each one of them\n      entryObj.children.push(fun(childEntry));             // add the result of the call of 'fun' on them to the children array\n    }\n  }\n\n  return entryObj;\n}\n</code></pre>\n\n<p>Then call it like so:</p>\n\n<pre><code>var tree = fun(rootEntry);\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12334662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/752de2d4448a8ed50154d59d1c4eec80?s=128&d=identicon&r=PG&f=1", "display_name": "flaneur_o", "link": "https://stackoverflow.com/users/12334662/flaneur-o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1573081615, "creation_date": 1573079076, "last_edit_date": 1573080043, "question_id": 58739372, "link": "https://stackoverflow.com/questions/58739372/recursive-function-in-javascript-that-outputs-json", "title": "Recursive function in javascript that outputs JSON", "body": "<p>In plain javascript, I am trying to create a function that will return a tree structure (json) of a folder, its subfolders and any files. I'm trying to achieve this using recursion. \nThe problem with the below code is that it stops after the first recursive call.</p>\n\n<p>I know that in JS you do references, and I need to create a new object that I pass the values from the previous call to, but I am struggling to do so.</p>\n\n<pre><code>function fun(file, json) {\n\n  var tempJson = {\n    'name' : json.name || '',\n    'children' : obj.children || new Object()\n  };\n\n  if (file.type == 'file') {\n    tempJson.type = 'file';\n    tempJson.children = {}; // this will be empty, since there are no children\n  } \n  else {\n    tempJson.type = 'dir';\n    var listed = file.listFiles();\n\n    if (listed.length &gt; 0) {\n      for each (var item in listed) {\n        tempJson.children = fun(item, tempJson);\n      }\n    } else {\n      tempJson.children = {};\n    }\n\n  }\n  return tempJson;\n}\n\n</code></pre>\n\n<hr>\n\n<p><strong>Example</strong></p>\n\n<p>From a directory structure like: </p>\n\n<pre><code>-root\n--file1\n--dir1\n---file1.1\n--dir2\n</code></pre>\n\n<p>I would like to get a json like:</p>\n\n<pre><code>{\nname: 'root',\ntype: 'dir',\nchildren : [\n{\n    name: 'file1',\n    type: 'file',\n    children: {}\n},\n{\n    name: 'dir1',\n    type: 'dir',\n    children: \n    {\n         name: 'file1.1',\n         type: 'file',\n         children: {},\n    }\n},\nname: 'dir2',\ntype: 'dir',\nchildren: {}\n}\n</code></pre>\n\n<p>First call:\nvar object = new Object();\nfun(rootdir, object);</p>\n\n<p>Hope this makes sense. \nThanks!</p>\n"}, {"tags": ["javascript", "webgl", "shader", "p5.js", "webgl2"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 12696807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/740fe1e61522f1b1f2e070614b070c52?s=128&d=identicon&r=PG&f=1", "display_name": "me123", "link": "https://stackoverflow.com/users/12696807/me123"}, "is_accepted": false, "score": 0, "last_activity_date": 1584972508, "creation_date": 1584972508, "answer_id": 60815146, "question_id": 58739317, "link": "https://stackoverflow.com/questions/58739317/webgl-into-p5-js-canvas-getting-distorted/60815146#60815146", "title": "WebGL into p5.js canvas getting distorted", "body": "<p>1.You created a canvas twice </p>\n\n<p>2.I don't think that regular javascript can communicate with P5.</p>\n\n<ol start=\"3\">\n<li>Thats it.</li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 12334664, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qEAuxsFdzeI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc7IoD8atnJLdSepWfoP9X4481odQ/photo.jpg?sz=128", "display_name": "Noah", "link": "https://stackoverflow.com/users/12334664/noah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 158, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1584972508, "creation_date": 1573078766, "question_id": 58739317, "link": "https://stackoverflow.com/questions/58739317/webgl-into-p5-js-canvas-getting-distorted", "title": "WebGL into p5.js canvas getting distorted", "body": "<p>I'm relatively new to shaders and am having trouble putting shader code into a p5.js canvas. The smoke.js script works fine on when I append it to an HTML canvas, but when I try to put it into the canvas created in p5, it only appears in the top right corner. Any idea what's going on here?</p>\n\n<p><a href=\"https://i.stack.imgur.com/mXkxI.png\" rel=\"nofollow noreferrer\">see upper right corner for where shader is being placed.</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//smoke.js\r\n//taken from https://codepen.io/PavelDoGreat/details/zdWzEL/\r\n\r\n'use strict';\r\n\r\nwindow.addEventListener('load', function () {\r\n    const canvas = document.getElementById('myCanvas');\r\n\r\n    console.log(canvas);\r\n    const { gl, ext } = getWebGLContext(canvas);\r\n\r\n    let config = {\r\n        TEXTURE_DOWNSAMPLE: 1,\r\n        DENSITY_DISSIPATION: 0.98,\r\n        VELOCITY_DISSIPATION: 0.99,\r\n        PRESSURE_DISSIPATION: 0.8,\r\n        PRESSURE_ITERATIONS: 25,\r\n        CURL: 30,\r\n        SPLAT_RADIUS: 0.005\r\n    }\r\n\r\n    let pointers = [];\r\n    let splatStack = [];\r\n\r\n    function getWebGLContext(canvas) {\r\n        const params = { alpha: false, depth: false, stencil: false, antialias: false };\r\n\r\n        let gl = canvas.getContext('webgl2', params);\r\n        const isWebGL2 = !!gl;\r\n        if (!isWebGL2)\r\n            gl = canvas.getContext('webgl', params) || canvas.getContext('experimental-webgl', params);\r\n\r\n        let halfFloat;\r\n        let supportLinearFiltering;\r\n        if (isWebGL2) {\r\n            gl.getExtension('EXT_color_buffer_float');\r\n            supportLinearFiltering = gl.getExtension('OES_texture_float_linear');\r\n        } else {\r\n            halfFloat = gl.getExtension('OES_texture_half_float');\r\n            supportLinearFiltering = gl.getExtension('OES_texture_half_float_linear');\r\n        }\r\n\r\n        gl.clearColor(0.0, 0.0, 0.0, 1.0);\r\n\r\n        const halfFloatTexType = isWebGL2 ? gl.HALF_FLOAT : halfFloat.HALF_FLOAT_OES;\r\n        let formatRGBA;\r\n        let formatRG;\r\n        let formatR;\r\n\r\n        if (isWebGL2) {\r\n            formatRGBA = getSupportedFormat(gl, gl.RGBA16F, gl.RGBA, halfFloatTexType);\r\n            formatRG = getSupportedFormat(gl, gl.RG16F, gl.RG, halfFloatTexType);\r\n            formatR = getSupportedFormat(gl, gl.R16F, gl.RED, halfFloatTexType);\r\n        }\r\n        else {\r\n            formatRGBA = getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType);\r\n            formatRG = getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType);\r\n            formatR = getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType);\r\n        }\r\n\r\n        return {\r\n            gl,\r\n            ext: {\r\n                formatRGBA,\r\n                formatRG,\r\n                formatR,\r\n                halfFloatTexType,\r\n                supportLinearFiltering\r\n            }\r\n        };\r\n    }\r\n\r\n    function getSupportedFormat(gl, internalFormat, format, type) {\r\n        if (!supportRenderTextureFormat(gl, internalFormat, format, type)) {\r\n            switch (internalFormat) {\r\n                case gl.R16F:\r\n                    return getSupportedFormat(gl, gl.RG16F, gl.RG, type);\r\n                case gl.RG16F:\r\n                    return getSupportedFormat(gl, gl.RGBA16F, gl.RGBA, type);\r\n                default:\r\n                    return null;\r\n            }\r\n        }\r\n\r\n        return {\r\n            internalFormat,\r\n            format\r\n        }\r\n    }\r\n\r\n    function supportRenderTextureFormat(gl, internalFormat, format, type) {\r\n        let texture = gl.createTexture();\r\n        gl.bindTexture(gl.TEXTURE_2D, texture);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, internalFormat, 4, 4, 0, format, type, null);\r\n\r\n        let fbo = gl.createFramebuffer();\r\n        gl.bindFramebuffer(gl.FRAMEBUFFER, fbo);\r\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\r\n\r\n        const status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\r\n        if (status != gl.FRAMEBUFFER_COMPLETE)\r\n            return false;\r\n        return true;\r\n    }\r\n\r\n    function pointerPrototype() {\r\n        this.id = -1;\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.dx = 0;\r\n        this.dy = 0;\r\n        this.down = false;\r\n        this.moved = false;\r\n        this.color = [30, 0, 300];\r\n    }\r\n\r\n    pointers.push(new pointerPrototype());\r\n\r\n    class GLProgram {\r\n        constructor(vertexShader, fragmentShader) {\r\n            this.uniforms = {};\r\n            this.program = gl.createProgram();\r\n\r\n            gl.attachShader(this.program, vertexShader);\r\n            gl.attachShader(this.program, fragmentShader);\r\n            gl.linkProgram(this.program);\r\n\r\n            if (!gl.getProgramParameter(this.program, gl.LINK_STATUS))\r\n                throw gl.getProgramInfoLog(this.program);\r\n\r\n            const uniformCount = gl.getProgramParameter(this.program, gl.ACTIVE_UNIFORMS);\r\n            for (let i = 0; i &lt; uniformCount; i++) {\r\n                const uniformName = gl.getActiveUniform(this.program, i).name;\r\n                this.uniforms[uniformName] = gl.getUniformLocation(this.program, uniformName);\r\n            }\r\n        }\r\n\r\n        bind() {\r\n            gl.useProgram(this.program);\r\n        }\r\n    }\r\n\r\n    function compileShader(type, source) {\r\n        const shader = gl.createShader(type);\r\n        gl.shaderSource(shader, source);\r\n        gl.compileShader(shader);\r\n\r\n        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS))\r\n            throw gl.getShaderInfoLog(shader);\r\n\r\n        return shader;\r\n    };\r\n\r\n    const baseVertexShader = compileShader(gl.VERTEX_SHADER, `\r\n    precision highp float;\r\n    precision mediump sampler2D;\r\n\r\n    attribute vec2 aPosition;\r\n    varying vec2 vUv;\r\n    varying vec2 vL;\r\n    varying vec2 vR;\r\n    varying vec2 vT;\r\n    varying vec2 vB;\r\n    uniform vec2 texelSize;\r\n\r\n    void main () {\r\n        vUv = aPosition * 0.5 + 0.5;\r\n        vL = vUv - vec2(texelSize.x, 0.0);\r\n        vR = vUv + vec2(texelSize.x, 0.0);\r\n        vT = vUv + vec2(0.0, texelSize.y);\r\n        vB = vUv - vec2(0.0, texelSize.y);\r\n        gl_Position = vec4(aPosition, 0.0, 1.0);\r\n    }\r\n`);\r\n\r\n    const clearShader = compileShader(gl.FRAGMENT_SHADER, `\r\n    precision highp float;\r\n    precision mediump sampler2D;\r\n\r\n    varying vec2 vUv;\r\n    uniform sampler2D uTexture;\r\n    uniform float value;\r\n\r\n    void main () {\r\n        gl_FragColor = value * texture2D(uTexture, vUv);\r\n    }\r\n`);\r\n\r\n    const displayShader = compileShader(gl.FRAGMENT_SHADER, `\r\n    precision highp float;\r\n    precision mediump sampler2D;\r\n\r\n    varying vec2 vUv;\r\n    uniform sampler2D uTexture;\r\n\r\n    void main () {\r\n        gl_FragColor = texture2D(uTexture, vUv);\r\n    }\r\n`);\r\n\r\n    const splatShader = compileShader(gl.FRAGMENT_SHADER, `\r\n    precision highp float;\r\n    precision mediump sampler2D;\r\n\r\n    varying vec2 vUv;\r\n    uniform sampler2D uTarget;\r\n    uniform float aspectRatio;\r\n    uniform vec3 color;\r\n    uniform vec2 point;\r\n    uniform float radius;\r\n\r\n    void main () {\r\n        vec2 p = vUv - point.xy;\r\n        p.x *= aspectRatio;\r\n        vec3 splat = exp(-dot(p, p) / radius) * color;\r\n        vec3 base = texture2D(uTarget, vUv).xyz;\r\n        gl_FragColor = vec4(base + splat, 1.0);\r\n    }\r\n`);\r\n\r\n    const advectionManualFilteringShader = compileShader(gl.FRAGMENT_SHADER, `\r\n    precision highp float;\r\n    precision mediump sampler2D;\r\n\r\n    varying vec2 vUv;\r\n    uniform sampler2D uVelocity;\r\n    uniform sampler2D uSource;\r\n    uniform vec2 texelSize;\r\n    uniform float dt;\r\n    uniform float dissipation;\r\n\r\n    vec4 bilerp (in sampler2D sam, in vec2 p) {\r\n        vec4 st;\r\n        st.xy = floor(p - 0.5) + 0.5;\r\n        st.zw = st.xy + 1.0;\r\n        vec4 uv = st * texelSize.xyxy;\r\n        vec4 a = texture2D(sam, uv.xy);\r\n        vec4 b = texture2D(sam, uv.zy);\r\n        vec4 c = texture2D(sam, uv.xw);\r\n        vec4 d = texture2D(sam, uv.zw);\r\n        vec2 f = p - st.xy;\r\n        return mix(mix(a, b, f.x), mix(c, d, f.x), f.y);\r\n    }\r\n\r\n    void main () {\r\n        vec2 coord = gl_FragCoord.xy - dt * texture2D(uVelocity, vUv).xy;\r\n        gl_FragColor = dissipation * bilerp(uSource, coord);\r\n        gl_FragColor.a = 1.0;\r\n    }\r\n`);\r\n\r\n    const advectionShader = compileShader(gl.FRAGMENT_SHADER, `\r\n    precision highp float;\r\n    precision mediump sampler2D;\r\n\r\n    varying vec2 vUv;\r\n    uniform sampler2D uVelocity;\r\n    uniform sampler2D uSource;\r\n    uniform vec2 texelSize;\r\n    uniform float dt;\r\n    uniform float dissipation;\r\n\r\n    void main () {\r\n        vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;\r\n        gl_FragColor = dissipation * texture2D(uSource, coord);\r\n        gl_FragColor.a = 1.0;\r\n    }\r\n`);\r\n\r\n    const divergenceShader = compileShader(gl.FRAGMENT_SHADER, `\r\n    precision highp float;\r\n    precision mediump sampler2D;\r\n\r\n    varying vec2 vUv;\r\n    varying vec2 vL;\r\n    varying vec2 vR;\r\n    varying vec2 vT;\r\n    varying vec2 vB;\r\n    uniform sampler2D uVelocity;\r\n\r\n    vec2 sampleVelocity (in vec2 uv) {\r\n        vec2 multiplier = vec2(1.0, 1.0);\r\n        if (uv.x &lt; 0.0) { uv.x = 0.0; multiplier.x = -1.0; }\r\n        if (uv.x &gt; 1.0) { uv.x = 1.0; multiplier.x = -1.0; }\r\n        if (uv.y &lt; 0.0) { uv.y = 0.0; multiplier.y = -1.0; }\r\n        if (uv.y &gt; 1.0) { uv.y = 1.0; multiplier.y = -1.0; }\r\n        return multiplier * texture2D(uVelocity, uv).xy;\r\n    }\r\n\r\n    void main () {\r\n        float L = sampleVelocity(vL).x;\r\n        float R = sampleVelocity(vR).x;\r\n        float T = sampleVelocity(vT).y;\r\n        float B = sampleVelocity(vB).y;\r\n        float div = 0.5 * (R - L + T - B);\r\n        gl_FragColor = vec4(div, 0.0, 0.0, 1.0);\r\n    }\r\n`);\r\n\r\n    const curlShader = compileShader(gl.FRAGMENT_SHADER, `\r\n    precision highp float;\r\n    precision mediump sampler2D;\r\n\r\n    varying vec2 vUv;\r\n    varying vec2 vL;\r\n    varying vec2 vR;\r\n    varying vec2 vT;\r\n    varying vec2 vB;\r\n    uniform sampler2D uVelocity;\r\n\r\n    void main () {\r\n        float L = texture2D(uVelocity, vL).y;\r\n        float R = texture2D(uVelocity, vR).y;\r\n        float T = texture2D(uVelocity, vT).x;\r\n        float B = texture2D(uVelocity, vB).x;\r\n        float vorticity = R - L - T + B;\r\n        gl_FragColor = vec4(vorticity, 0.0, 0.0, 1.0);\r\n    }\r\n`);\r\n\r\n    const vorticityShader = compileShader(gl.FRAGMENT_SHADER, `\r\n    precision highp float;\r\n    precision mediump sampler2D;\r\n\r\n    varying vec2 vUv;\r\n    varying vec2 vT;\r\n    varying vec2 vB;\r\n    uniform sampler2D uVelocity;\r\n    uniform sampler2D uCurl;\r\n    uniform float curl;\r\n    uniform float dt;\r\n\r\n    void main () {\r\n        float T = texture2D(uCurl, vT).x;\r\n        float B = texture2D(uCurl, vB).x;\r\n        float C = texture2D(uCurl, vUv).x;\r\n        vec2 force = vec2(abs(T) - abs(B), 0.0);\r\n        force *= 1.0 / length(force + 0.00001) * curl * C;\r\n        vec2 vel = texture2D(uVelocity, vUv).xy;\r\n        gl_FragColor = vec4(vel + force * dt, 0.0, 1.0);\r\n    }\r\n`);\r\n\r\n    const pressureShader = compileShader(gl.FRAGMENT_SHADER, `\r\n    precision highp float;\r\n    precision mediump sampler2D;\r\n\r\n    varying vec2 vUv;\r\n    varying vec2 vL;\r\n    varying vec2 vR;\r\n    varying vec2 vT;\r\n    varying vec2 vB;\r\n    uniform sampler2D uPressure;\r\n    uniform sampler2D uDivergence;\r\n\r\n    vec2 boundary (in vec2 uv) {\r\n        uv = min(max(uv, 0.0), 1.0);\r\n        return uv;\r\n    }\r\n\r\n    void main () {\r\n        float L = texture2D(uPressure, boundary(vL)).x;\r\n        float R = texture2D(uPressure, boundary(vR)).x;\r\n        float T = texture2D(uPressure, boundary(vT)).x;\r\n        float B = texture2D(uPressure, boundary(vB)).x;\r\n        float C = texture2D(uPressure, vUv).x;\r\n        float divergence = texture2D(uDivergence, vUv).x;\r\n        float pressure = (L + R + B + T - divergence) * 0.25;\r\n        gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);\r\n    }\r\n`);\r\n\r\n    const gradientSubtractShader = compileShader(gl.FRAGMENT_SHADER, `\r\n    precision highp float;\r\n    precision mediump sampler2D;\r\n\r\n    varying vec2 vUv;\r\n    varying vec2 vL;\r\n    varying vec2 vR;\r\n    varying vec2 vT;\r\n    varying vec2 vB;\r\n    uniform sampler2D uPressure;\r\n    uniform sampler2D uVelocity;\r\n\r\n    vec2 boundary (in vec2 uv) {\r\n        uv = min(max(uv, 0.0), 1.0);\r\n        return uv;\r\n    }\r\n\r\n    void main () {\r\n        float L = texture2D(uPressure, boundary(vL)).x;\r\n        float R = texture2D(uPressure, boundary(vR)).x;\r\n        float T = texture2D(uPressure, boundary(vT)).x;\r\n        float B = texture2D(uPressure, boundary(vB)).x;\r\n        vec2 velocity = texture2D(uVelocity, vUv).xy;\r\n        velocity.xy -= vec2(R - L, T - B);\r\n        gl_FragColor = vec4(velocity, 0.0, 1.0);\r\n    }\r\n`);\r\n\r\n    const circShader = compileShader(gl.FRAGMENT_SHADER, `\r\n    precision mediump float;\r\n\r\n    uniform vec2 u_resolution;\r\n    uniform vec2 u_mouse;\r\n    uniform float u_time;\r\n\r\n    float circle(in vec2 _st, in float _radius){\r\n        vec2 dist = _st-vec2(0.5);\r\n\t    return 1.-smoothstep(_radius-(_radius*0.01),\r\n                         _radius+(_radius*0.01),\r\n                         dot(dist,dist)*4.0);\r\n    }\r\n\r\n    void main(){\r\n\t    vec2 st = gl_FragCoord.xy/u_resolution.xy;\r\n\r\n\t    vec3 color = vec3(circle(st,0.9));\r\n\r\n\t    gl_FragColor = vec4( color, 1.0 );\r\n    }\r\n`);\r\n\r\n    let textureWidth;\r\n    let textureHeight;\r\n    let density;\r\n    let velocity;\r\n    let divergence;\r\n    let curl;\r\n    let pressure;\r\n    initFramebuffers();\r\n\r\n    const clearProgram = new GLProgram(baseVertexShader, clearShader);\r\n    const displayProgram = new GLProgram(baseVertexShader, displayShader);\r\n    const splatProgram = new GLProgram(baseVertexShader, splatShader);\r\n    const advectionProgram = new GLProgram(baseVertexShader, ext.supportLinearFiltering ? advectionShader : advectionManualFilteringShader);\r\n    const divergenceProgram = new GLProgram(baseVertexShader, divergenceShader);\r\n    const curlProgram = new GLProgram(baseVertexShader, curlShader);\r\n    const vorticityProgram = new GLProgram(baseVertexShader, vorticityShader);\r\n    const pressureProgram = new GLProgram(baseVertexShader, pressureShader);\r\n    const gradienSubtractProgram = new GLProgram(baseVertexShader, gradientSubtractShader);\r\n    const circProgram = new GLProgram(baseVertexShader, circShader);\r\n\r\n    function initFramebuffers() {\r\n        // textureWidth = gl.drawingBufferWidth &gt;&gt; config.TEXTURE_DOWNSAMPLE;\r\n        // textureHeight = gl.drawingBufferHeight &gt;&gt; config.TEXTURE_DOWNSAMPLE;\r\n        textureWidth = canvas.width;\r\n        textureHeight = canvas.height;\r\n\r\n        const texType = ext.halfFloatTexType;\r\n        const rgba = ext.formatRGBA;\r\n        const rg = ext.formatRG;\r\n        const r = ext.formatR;\r\n\r\n        density = createDoubleFBO(2, textureWidth, textureHeight, rgba.internalFormat, rgba.format, texType, ext.supportLinearFiltering ? gl.LINEAR : gl.NEAREST);\r\n        velocity = createDoubleFBO(0, textureWidth, textureHeight, rg.internalFormat, rg.format, texType, ext.supportLinearFiltering ? gl.LINEAR : gl.NEAREST);\r\n        divergence = createFBO(4, textureWidth, textureHeight, r.internalFormat, r.format, texType, gl.NEAREST);\r\n        curl = createFBO(5, textureWidth, textureHeight, r.internalFormat, r.format, texType, gl.NEAREST);\r\n        pressure = createDoubleFBO(6, textureWidth, textureHeight, r.internalFormat, r.format, texType, gl.NEAREST);\r\n    }\r\n\r\n    function createFBO(texId, w, h, internalFormat, format, type, param) {\r\n        gl.activeTexture(gl.TEXTURE0 + texId);\r\n        let texture = gl.createTexture();\r\n        gl.bindTexture(gl.TEXTURE_2D, texture);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, param);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, param);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, internalFormat, w, h, 0, format, type, null);\r\n\r\n        let fbo = gl.createFramebuffer();\r\n        gl.bindFramebuffer(gl.FRAMEBUFFER, fbo);\r\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\r\n        // gl.viewport(0, 0, w, h);\r\n        gl.viewport(0, 0, canvas.width, canvas.height);\r\n\r\n        gl.clear(gl.COLOR_BUFFER_BIT);\r\n\r\n        return [texture, fbo, texId];\r\n    }\r\n\r\n    function createDoubleFBO(texId, w, h, internalFormat, format, type, param) {\r\n        let fbo1 = createFBO(texId, w, h, internalFormat, format, type, param);\r\n        let fbo2 = createFBO(texId + 1, w, h, internalFormat, format, type, param);\r\n\r\n        return {\r\n            get read() {\r\n                return fbo1;\r\n            },\r\n            get write() {\r\n                return fbo2;\r\n            },\r\n            swap() {\r\n                let temp = fbo1;\r\n                fbo1 = fbo2;\r\n                fbo2 = temp;\r\n            }\r\n        }\r\n    }\r\n\r\n    const blit = (() =&gt; {\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, gl.createBuffer());\r\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1, -1, -1, 1, 1, 1, 1, -1]), gl.STATIC_DRAW);\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, gl.createBuffer());\r\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array([0, 1, 2, 0, 2, 3]), gl.STATIC_DRAW);\r\n        gl.vertexAttribPointer(0, 2, gl.FLOAT, false, 0, 0);\r\n        gl.enableVertexAttribArray(0);\r\n\r\n        return (destination) =&gt; {\r\n            gl.bindFramebuffer(gl.FRAMEBUFFER, destination);\r\n            gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);\r\n        }\r\n    })();\r\n\r\n    let lastTime = Date.now();\r\n    multipleSplats(parseInt(Math.random() * 20) + 5);\r\n    update();\r\n\r\n    function update() {\r\n        // resizeCanvas();\r\n        // webglUtils.resizeCanvasToDisplaySize(canvas);\r\n\r\n        const dt = Math.min((Date.now() - lastTime) / 1000, 0.016);\r\n        lastTime = Date.now();\r\n\r\n        gl.viewport(0, 0, canvas.width, canvas.height);\r\n        // gl.viewport(0, 0, canvas.clientWidth, canvas.clientHeight);\r\n        circProgram.bind();\r\n\r\n\r\n        if (splatStack.length &gt; 0)\r\n            multipleSplats(splatStack.pop());\r\n\r\n        advectionProgram.bind();\r\n        gl.uniform2f(advectionProgram.uniforms.texelSize, 1.0 / textureWidth, 1.0 / textureHeight);\r\n        gl.uniform1i(advectionProgram.uniforms.uVelocity, velocity.read[2]);\r\n        gl.uniform1i(advectionProgram.uniforms.uSource, velocity.read[2]);\r\n        gl.uniform1f(advectionProgram.uniforms.dt, dt);\r\n        gl.uniform1f(advectionProgram.uniforms.dissipation, config.VELOCITY_DISSIPATION);\r\n        blit(velocity.write[1]);\r\n        velocity.swap();\r\n\r\n        gl.uniform1i(advectionProgram.uniforms.uVelocity, velocity.read[2]);\r\n        gl.uniform1i(advectionProgram.uniforms.uSource, density.read[2]);\r\n        gl.uniform1f(advectionProgram.uniforms.dissipation, config.DENSITY_DISSIPATION);\r\n        blit(density.write[1]);\r\n        density.swap();\r\n\r\n\r\n        for (var i = 0; i &lt; pointers.length; i++) {\r\n            const pointer = pointers[i];\r\n            if (pointer.moved) {\r\n                splat(pointer.x, pointer.y, pointer.dx, pointer.dy, pointer.color);\r\n                pointer.moved = false;\r\n            }\r\n        }\r\n\r\n        curlProgram.bind();\r\n        gl.uniform2f(curlProgram.uniforms.texelSize, 1.0 / textureWidth, 1.0 / textureHeight);\r\n        gl.uniform1i(curlProgram.uniforms.uVelocity, velocity.read[2]);\r\n        blit(curl[1]);\r\n\r\n        vorticityProgram.bind();\r\n        gl.uniform2f(vorticityProgram.uniforms.texelSize, 1.0 / textureWidth, 1.0 / textureHeight);\r\n        gl.uniform1i(vorticityProgram.uniforms.uVelocity, velocity.read[2]);\r\n        gl.uniform1i(vorticityProgram.uniforms.uCurl, curl[2]);\r\n        gl.uniform1f(vorticityProgram.uniforms.curl, config.CURL);\r\n        gl.uniform1f(vorticityProgram.uniforms.dt, dt);\r\n        blit(velocity.write[1]);\r\n        velocity.swap();\r\n\r\n        divergenceProgram.bind();\r\n        gl.uniform2f(divergenceProgram.uniforms.texelSize, 1.0 / textureWidth, 1.0 / textureHeight);\r\n        gl.uniform1i(divergenceProgram.uniforms.uVelocity, velocity.read[2]);\r\n        blit(divergence[1]);\r\n\r\n        clearProgram.bind();\r\n        let pressureTexId = pressure.read[2];\r\n        gl.activeTexture(gl.TEXTURE0 + pressureTexId);\r\n        gl.bindTexture(gl.TEXTURE_2D, pressure.read[0]);\r\n        gl.uniform1i(clearProgram.uniforms.uTexture, pressureTexId);\r\n        gl.uniform1f(clearProgram.uniforms.value, config.PRESSURE_DISSIPATION);\r\n        blit(pressure.write[1]);\r\n        pressure.swap();\r\n\r\n        pressureProgram.bind();\r\n        gl.uniform2f(pressureProgram.uniforms.texelSize, 1.0 / textureWidth, 1.0 / textureHeight);\r\n        gl.uniform1i(pressureProgram.uniforms.uDivergence, divergence[2]);\r\n        pressureTexId = pressure.read[2];\r\n        gl.uniform1i(pressureProgram.uniforms.uPressure, pressureTexId);\r\n        gl.activeTexture(gl.TEXTURE0 + pressureTexId);\r\n        for (let i = 0; i &lt; config.PRESSURE_ITERATIONS; i++) {\r\n            gl.bindTexture(gl.TEXTURE_2D, pressure.read[0]);\r\n            blit(pressure.write[1]);\r\n            pressure.swap();\r\n        }\r\n\r\n        gradienSubtractProgram.bind();\r\n        gl.uniform2f(gradienSubtractProgram.uniforms.texelSize, 1.0 / textureWidth, 1.0 / textureHeight);\r\n        gl.uniform1i(gradienSubtractProgram.uniforms.uPressure, pressure.read[2]);\r\n        gl.uniform1i(gradienSubtractProgram.uniforms.uVelocity, velocity.read[2]);\r\n        blit(velocity.write[1]);\r\n        velocity.swap();\r\n\r\n\r\n        gl.viewport(0, 0, canvas.width, canvas.height);\r\n        displayProgram.bind();\r\n        gl.uniform1i(displayProgram.uniforms.uTexture, density.read[2]);\r\n        blit(null);\r\n\r\n\r\n\r\n        requestAnimationFrame(update);\r\n    }\r\n\r\n    function splat(x, y, dx, dy, color) {\r\n        splatProgram.bind();\r\n        gl.uniform1i(splatProgram.uniforms.uTarget, velocity.read[2]);\r\n        gl.uniform1f(splatProgram.uniforms.aspectRatio, canvas.width / canvas.height);\r\n        gl.uniform2f(splatProgram.uniforms.point, x / canvas.width, 1.0 - y / canvas.height);\r\n        gl.uniform3f(splatProgram.uniforms.color, dx, -dy, 1.0);\r\n        gl.uniform1f(splatProgram.uniforms.radius, config.SPLAT_RADIUS);\r\n        blit(velocity.write[1]);\r\n        velocity.swap();\r\n\r\n        gl.uniform1i(splatProgram.uniforms.uTarget, density.read[2]);\r\n        gl.uniform3f(splatProgram.uniforms.color, color[0] * 0.3, color[1] * 0.3, color[2] * 0.3);\r\n        blit(density.write[1]);\r\n        density.swap();\r\n    }\r\n\r\n    function multipleSplats(amount) {\r\n        for (let i = 0; i &lt; amount; i++) {\r\n            const color = [Math.random() * 10, Math.random() * 10, Math.random() * 10];\r\n            const x = canvas.width * Math.random();\r\n            const y = canvas.height * Math.random();\r\n            const dx = 1000 * (Math.random() - 0.5);\r\n            const dy = 1000 * (Math.random() - 0.5);\r\n            splat(x, y, dx, dy, color);\r\n        }\r\n    }\r\n\r\n    function resizeCanvas() {\r\n        if (canvas.width != canvas.clientWidth || canvas.height != canvas.clientHeight) {\r\n            canvas.width = canvas.clientWidth;\r\n            canvas.height = canvas.clientHeight;\r\n            // canvas.width = document.getElementById(\"myCanvas\").width;\r\n            // canvas.height = document.getElementById(\"myCanvas\").height;\r\n\r\n            initFramebuffers();\r\n\r\n        }\r\n        // console.log(canvas.width, canvas.height);\r\n        // console.log(\"client height: \", canvas.clientWidth, canvas.clientHeight);\r\n\r\n\r\n    }\r\n\r\n    canvas.addEventListener('mousemove', (e) =&gt; {\r\n        pointers[0].moved = pointers[0].down;\r\n        pointers[0].dx = (e.offsetX - pointers[0].x) * 10.0;\r\n        pointers[0].dy = (e.offsetY - pointers[0].y) * 10.0;\r\n        pointers[0].x = e.offsetX;\r\n        pointers[0].y = e.offsetY;\r\n    });\r\n\r\n    canvas.addEventListener('touchmove', (e) =&gt; {\r\n        e.preventDefault();\r\n        const touches = e.targetTouches;\r\n        for (let i = 0; i &lt; touches.length; i++) {\r\n            let pointer = pointers[i];\r\n            pointer.moved = pointer.down;\r\n            pointer.dx = (touches[i].pageX - pointer.x) * 10.0;\r\n            pointer.dy = (touches[i].pageY - pointer.y) * 10.0;\r\n            pointer.x = touches[i].pageX;\r\n            pointer.y = touches[i].pageY;\r\n        }\r\n    }, false);\r\n\r\n    canvas.addEventListener('mousedown', () =&gt; {\r\n        pointers[0].down = true;\r\n        pointers[0].color = [Math.random() + 0.2, Math.random() + 0.2, Math.random() + 0.2];\r\n    });\r\n\r\n    canvas.addEventListener('touchstart', (e) =&gt; {\r\n        e.preventDefault();\r\n        const touches = e.targetTouches;\r\n        for (let i = 0; i &lt; touches.length; i++) {\r\n            if (i &gt;= pointers.length)\r\n                pointers.push(new pointerPrototype());\r\n\r\n            pointers[i].id = touches[i].identifier;\r\n            pointers[i].down = true;\r\n            pointers[i].x = touches[i].pageX;\r\n            pointers[i].y = touches[i].pageY;\r\n            pointers[i].color = [Math.random() + 0.2, Math.random() + 0.2, Math.random() + 0.2];\r\n        }\r\n    });\r\n\r\n    window.addEventListener('mouseup', () =&gt; {\r\n        pointers[0].down = false;\r\n    });\r\n\r\n    window.addEventListener('touchend', (e) =&gt; {\r\n        const touches = e.changedTouches;\r\n        for (let i = 0; i &lt; touches.length; i++)\r\n            for (let j = 0; j &lt; pointers.length; j++)\r\n                if (touches[i].identifier == pointers[j].id)\r\n                    pointers[j].down = false;\r\n    });\r\n\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n    &lt;title&gt;Fluid Sim&lt;/title&gt;\r\n\r\n    &lt;style type=\"text/css\"&gt;\r\n        html,\r\n        body {\r\n            overflow: hidden;\r\n        }\r\n\r\n        body {\r\n            margin: 0;\r\n            position: absolute;\r\n            width: 100%;\r\n            height: 100%;\r\n        }\r\n\r\n        canvas {\r\n            width: 100%;\r\n            height: 100%;\r\n        }\r\n    &lt;/style&gt;\r\n    &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.min.js\"&gt;&lt;/script&gt;\r\n    &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/addons/p5.dom.js\"&gt;&lt;/script&gt;\r\n    &lt;!-- &lt;script id=\"text/javascript\" src=\"circle.js\"&gt;&lt;/script&gt; --&gt;\r\n\r\n\r\n\r\n\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n    &lt;div id=\"container\"&gt;&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;script id=\"text/javascript\"&gt;\r\n    function setup() {\r\n        let cnv = createCanvas(window.innerWidth, window.innerHeight, WEBGL);\r\n        cnv.id(\"myCanvas\");\r\n        noStroke();\r\n        // cnv.position(0, 0);\r\n        // document.getElementById('container').appendChild(cnv.canvas);\r\n    }\r\n\r\n\r\n\r\n    function draw() {\r\n\r\n        background(127);\r\n\r\n        push();\r\n        translate(-width / 2, -height / 2, 0)\r\n\r\n        fill(255);\r\n        ellipse(windowWidth / 2, windowHeight / 2, 100, 100);\r\n        pop();\r\n    }\r\n\r\n    function windowResized() {\r\n        resizeCanvas(windowWidth, windowHeight);\r\n    }\r\n\r\n&lt;/script&gt;\r\n\r\n&lt;script id=\"text/javascript\" src=\"smoke.js\"&gt;&lt;/script&gt;\r\n\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "html", "angular", "angular-material", "angular-pagination"], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 12131654, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p5o5qgfU1qg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf-55x3Wq5xAwB3m-lM55tS23dxrg/photo.jpg?sz=128", "display_name": "Sean Renton", "link": "https://stackoverflow.com/users/12131654/sean-renton"}, "is_accepted": false, "score": 0, "last_activity_date": 1573142302, "creation_date": 1573142302, "answer_id": 58752557, "question_id": 58739222, "link": "https://stackoverflow.com/questions/58739222/angular-material-paginator-not-allowing-back-button-to-be-pressed-after-retrievi/58752557#58752557", "title": "Angular Material Paginator not allowing back button to be pressed after retrieving data", "body": "<p>If anyone runs into this type of issue. I figured out the issue was because I was using a loading spinner during my call to the back-end for data. This changed the view and reset the page data. Once I removed the spinner it now works as expected.</p>\n"}], "owner": {"reputation": 13, "user_id": 12131654, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p5o5qgfU1qg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf-55x3Wq5xAwB3m-lM55tS23dxrg/photo.jpg?sz=128", "display_name": "Sean Renton", "link": "https://stackoverflow.com/users/12131654/sean-renton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 111, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573142302, "creation_date": 1573078196, "last_edit_date": 1573141820, "question_id": 58739222, "link": "https://stackoverflow.com/questions/58739222/angular-material-paginator-not-allowing-back-button-to-be-pressed-after-retrievi", "title": "Angular Material Paginator not allowing back button to be pressed after retrieving data", "body": "<p>I'm having an issue when using the material paginator. It retrieves the data correctly and the paginator data is updating correctly specifically the pageIndex is incrementing correctly but the items number does not update as shown below. I believe this is because of the onChangedPage($event) function because when I remove it everything works correctly but my data is of course not updated then.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0Mb6L.png\" rel=\"nofollow noreferrer\">screen shot of the item count</a></p>\n\n<p>I'm wondering what could be causing this to not work considering the pageIndex is working correctly here is my code for the paginator. My code is dynamic.</p>\n\n<p>html:</p>\n\n<pre><code>&lt;mat-paginator\n      [length]=\"totalMessages\"\n      [pageSize]=\"messagesPerPage\"\n      [pageSizeOptions]=\"pageSizeOptions\"\n      (page)='onChangedPage($event)'\n    &gt;&lt;/mat-paginator&gt;\n</code></pre>\n\n<p>TS:</p>\n\n<pre><code>onChangedPage(pageData: PageEvent) {\nconsole.log(pageData);\nthis.currentPage = pageData.pageIndex + 1;\nconst endingIndex = this.messagesPerPage * this.currentPage;\nconst startingIndex = endingIndex - this.messagesPerPage;\nthis.isLoading = true;\nconsole.log(endingIndex);\nconsole.log(startingIndex);\nthis.Service\n.getFunction(this..ticketNumber, startingIndex, endingIndex)\n.subscribe(data =&gt; {\n****taken out for security reasons\n }\n</code></pre>\n\n<p>Summary: Essentially I am paginating over an embedded array in a Mongo DB document and using the $slice method. My backend logic is fine I'm retrieving everything correctly but for some reason the paginator is not updating the position of the items I'm retrieving. Any help would be greatly appreciated thank you!</p>\n"}, {"tags": ["javascript", "reactjs"], "owner": {"reputation": 63, "user_id": 12228926, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD9jBjjrDf8Av6GsGnBDlSdabnGMTDJxQS6bUEl=k-s128", "display_name": "genzdev", "link": "https://stackoverflow.com/users/12228926/genzdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 637, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1590789325, "creation_date": 1573077724, "question_id": 58739150, "link": "https://stackoverflow.com/questions/58739150/how-to-switch-themes-in-react-with-dynamic-import", "title": "How to switch themes in react with dynamic import", "body": "<p>Apologize for the silliness of the question, I'm a newbie in react.</p>\n\n<p>I have a simple react app that is using <a href=\"https://rsuitejs.com/en/\" rel=\"nofollow noreferrer\">rsuitejs</a> as the component library, it offers two themes dark/light mode.</p>\n\n<p>I have a button in the header that when clicked changes the theme, I achieve this by including the dark theme as an <code>import</code> in the <code>index.js</code> -> <code>import 'rsuite/dist/styles/rsuite-dark.css';</code>\nfile and then calling the light theme stylesheet in the <code>&lt;head&gt;</code> using <code>react-helmet</code>.</p>\n\n<p>This is my current workaround:</p>\n\n<pre><code>import React from 'react';\nimport '../styles/custom.css'\nimport { Navbar, Nav } from 'rsuite';\nimport { Col } from 'rsuite';\nimport {Helmet} from \"react-helmet\";\nimport { Toggle } from 'rsuite';\n\nconst NavBarInstance = ({ onSelect, activeKey, ...props }) =&gt; {\n    return (\n      &lt;Navbar {...props}&gt;\n        &lt;Navbar.Body&gt;\n          &lt;Nav onSelect={onSelect} activeKey={activeKey} &gt;\n            &lt;Nav.Item eventKey=\"2\"&gt;Hello World!&lt;/Nav.Item&gt;\n            &lt;Nav.Item eventKey=\"3\"&gt;Work&lt;/Nav.Item&gt;\n            &lt;Nav.Item eventKey=\"4\"&gt;Contact&lt;/Nav.Item&gt;\n          &lt;/Nav&gt;\n        &lt;/Navbar.Body&gt;\n      &lt;/Navbar&gt;\n    );\n};\n\nexport class Head extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n          activeKey: this.props.activeKey,\n          success: false\n        };\n        this.handleSelect = this.handleSelect.bind(this);\n    }\n\n    handleSelect(eventKey) {\n        this.setState({ activeKey: eventKey });\n    }\n\n    change = e =&gt; {\n      this.setState({ success: e });\n    };\n\n    render() {\n        const { activeKey } = this.state;\n        return(\n            &lt;section&gt;\n              &lt;div className=\"verticalnav\"&gt;\n                &lt;Helmet&gt;\n                  {this.state.success ? \n                  (&lt;link rel=\"stylesheet\" type=\"text/css\" href='/rsuite-default.min.css'/&gt;) : \n                  (null)}\n                &lt;/Helmet&gt;\n                &lt;Col xs={8} style={{marginLeft: -18}}&gt;\n                  &lt;NavBarInstance appearance=\"subtle\" activeKey={activeKey} onSelect={this.handleSelect} /&gt;\n                &lt;/Col&gt;\n                &lt;div style={{float: \"right\", marginTop: 15}}&gt;\n                  {this.state.success ? \n                  (&lt;Toggle size=\"md\" checkedChildren=\"Light\" unCheckedChildren=\"Dark\" onChange={this.change} defaultChecked/&gt;) : \n                  (&lt;Toggle size=\"md\" checkedChildren=\"Light\" unCheckedChildren=\"Dark\" onChange={this.change} /&gt;)}\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/section&gt;\n        );\n    }\n}\n</code></pre>\n\n<p>When the user clicks the dark/light button, the stylesheet in the public dir is called and the styles from <code>/rsuite-default.min.css</code> are applied or I should say overwritten with the current theme styles.</p>\n\n<p>This creates redundant CSS when the base theme is not in use.</p>\n\n<p>I could call the second stylesheet and remove the base <code>import</code> statement as shown below</p>\n\n<pre><code>&lt;Helmet&gt;\n  {this.state.success ? \n  (&lt;link rel=\"stylesheet\" type=\"text/css\" href='/rsuite-default.min.css'/&gt;) : \n  (&lt;link rel=\"stylesheet\" type=\"text/css\" href='/rsuite-dark.min.css'/&gt;)}\n&lt;/Helmet&gt;\n</code></pre>\n\n<p>But that results in delayed css load in the browser which looks a bit ugly compared to the pre-compiled styles.</p>\n\n<p>How do I use dynamic import in react to switch themes in the app without calling the theme in the <code>&lt;head&gt;</code>?</p>\n"}, {"tags": ["javascript", "html", "css", "forms", "button"], "comments": [{"owner": {"reputation": 1194, "user_id": 2837277, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f92c7521589af5e8efb4d4b031d2538e?s=128&d=identicon&r=PG&f=1", "display_name": "King11", "link": "https://stackoverflow.com/users/2837277/king11"}, "edited": false, "score": 5, "creation_date": 1573077752, "post_id": 58739142, "comment_id": 103768144, "body": "Can you post your JS code as well?"}, {"owner": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 0, "creation_date": 1573079480, "post_id": 58739142, "comment_id": 103768719, "body": "You are using a <code>form</code> with a <code>submit</code> button. This will cause the page to create a new request and response from the server. Are you or do you plan to use the submit event to send the form info via AJAX?"}], "answers": [{"comments": [{"owner": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 0, "creation_date": 1573079282, "post_id": 58739374, "comment_id": 103768652, "body": "Why introduce jQuery when it is not mentioned in the question and the results can easily be achieved without it?"}, {"owner": {"reputation": 16, "user_id": 12334605, "user_type": "registered", "profile_image": "https://graph.facebook.com/167132204483565/picture?type=large", "display_name": "Nur Mohammad Ridoy", "link": "https://stackoverflow.com/users/12334605/nur-mohammad-ridoy"}, "reply_to_user": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 0, "creation_date": 1573079757, "post_id": 58739374, "comment_id": 103768822, "body": "Without javascript or jquery how is it possible to load contents in the same container div? :|"}, {"owner": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 0, "creation_date": 1573079938, "post_id": 58739374, "comment_id": 103768882, "body": "I&#39;m not saying no javascript, I&#39;m saying jQuery is not required. Also the <code>center</code> tag is well and truly <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/center\" rel=\"nofollow noreferrer\">obsolete now</a>."}], "tags": [], "owner": {"reputation": 16, "user_id": 12334605, "user_type": "registered", "profile_image": "https://graph.facebook.com/167132204483565/picture?type=large", "display_name": "Nur Mohammad Ridoy", "link": "https://stackoverflow.com/users/12334605/nur-mohammad-ridoy"}, "is_accepted": false, "score": 0, "last_activity_date": 1573079091, "creation_date": 1573079091, "answer_id": 58739374, "question_id": 58739142, "link": "https://stackoverflow.com/questions/58739142/message-appear-in-the-same-div-after-clicking-on-button/58739374#58739374", "title": "message appear in the same div after clicking on button", "body": "<p>Use jquery to change the content of the div has class \"notification\".</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>\t\t $(document).ready(function(){\r\n  $(\"button\").click(function(){\r\n    $(\".notification\").html('&lt;p&gt;&lt;center&gt;&lt;b&gt;We will email you when your app becomes available.&lt;/b&gt;&lt;/center&gt;&lt;/p&gt;');\r\n  });\r\n}); </code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n &lt;div class=\"notification\"&gt;\r\n            &lt;p style=\"font-family: 'Roboto', sans-serif;\"&gt;Enter your email to notify you when the app you selected become available.&lt;/p&gt;\r\n                &lt;form class=\"form-inline\"&gt;\r\n                    &lt;div class=\"form-group\"&gt;\r\n                        &lt;label for=\"inputemail\"&gt;&lt;/label&gt;\r\n                        &lt;input type=\"email\" class=\"form-control\" id=\"inputemail\" placeholder=\"Email Address\" size=\"25\"&gt;\r\n                    &lt;button type=\"submit\" class=\"btn btn-primary\"&gt;NOTIFY ME&lt;/button&gt;\r\n                    &lt;small id=\"emailHelp\" class=\"form-text text-muted\"&gt;*we will never sell&lt;br&gt;your email&lt;/small&gt;\r\n                &lt;/div&gt;\r\n            &lt;/form&gt;\r\n        &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 0, "creation_date": 1573080238, "post_id": 58739520, "comment_id": 103768959, "body": "I&#39;d ad a quick explanation to what your code does or comment the important lines of the code to further clarify what it does for those less familiar with javascript."}, {"owner": {"reputation": 27, "user_id": 8612108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tbjOz.jpg?s=128&g=1", "display_name": "THAT_STRUGGLE", "link": "https://stackoverflow.com/users/8612108/that-struggle"}, "reply_to_user": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 0, "creation_date": 1573081371, "post_id": 58739520, "comment_id": 103769262, "body": "@JonP Thank you sir i just did if you have any other comments please let me know because I am always trying to improve my ability to help others!  thanks!"}], "tags": [], "owner": {"reputation": 27, "user_id": 8612108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tbjOz.jpg?s=128&g=1", "display_name": "THAT_STRUGGLE", "link": "https://stackoverflow.com/users/8612108/that-struggle"}, "is_accepted": false, "score": 1, "last_activity_date": 1573081305, "last_edit_date": 1573081305, "creation_date": 1573080062, "answer_id": 58739520, "question_id": 58739142, "link": "https://stackoverflow.com/questions/58739142/message-appear-in-the-same-div-after-clicking-on-button/58739520#58739520", "title": "message appear in the same div after clicking on button", "body": "<p>You need to understand that when you click the button the browser will refresh the page so you need to add a listening and prevent the default. From there I simple got the div element by Id and change the innnerHTML attribute.</p>\n\n<pre><code>&lt;script&gt;\n\nlet string = 'We will email you when your app becomes available'\n\nfunction handleClick(event){\n  event.preventDefault();\n  let notifDiv = document.getElementById(\"notifications\");\n  notifDiv.innerHTML = string\n}\n\ndocument.getElementById(\"notifications\").addEventListener(\"click\", handleClick)\n\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 12169009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f34eae8b586c0e9c2e8339866d9c50c?s=128&d=identicon&r=PG&f=1", "display_name": "arwennna", "link": "https://stackoverflow.com/users/12169009/arwennna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1573081305, "creation_date": 1573077677, "question_id": 58739142, "link": "https://stackoverflow.com/questions/58739142/message-appear-in-the-same-div-after-clicking-on-button", "title": "message appear in the same div after clicking on button", "body": "<p>this is my form:</p>\n\n<pre><code>&lt;div class=\"notification\"&gt;\n            &lt;p style=\"font-family: 'Roboto', sans-serif;\"&gt;Enter your email to notify you when the app you selected become available.&lt;/p&gt;\n                &lt;form class=\"form-inline\"&gt;\n                    &lt;div class=\"form-group\"&gt;\n                        &lt;label for=\"inputemail\"&gt;&lt;/label&gt;\n                        &lt;input type=\"email\" class=\"form-control\" id=\"inputemail\" placeholder=\"Email Address\" size=\"25\"&gt;\n                    &lt;button type=\"submit\" class=\"btn btn-primary\" onclick=\"displayMessage()\"&gt;NOTIFY ME&lt;/button&gt;\n                    &lt;small id=\"emailHelp\" class=\"form-text text-muted\"&gt;*we will never sell&lt;br&gt;your email&lt;/small&gt;\n                &lt;/div&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>when i click on NOTIFY ME button, i want my my form to disappear and i want to put a message inside that notification div, like this: <a href=\"https://i.stack.imgur.com/4vmn8.png\" rel=\"nofollow noreferrer\">message after click</a>\nwhat is the best way to do this?</p>\n"}, {"tags": ["javascript", "html", "css", "sass", "web-component"], "comments": [{"owner": {"reputation": 308, "user_id": 4986305, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/91L81.png?s=128&g=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/4986305/john-doe"}, "edited": false, "score": 0, "creation_date": 1573077872, "post_id": 58739129, "comment_id": 103768185, "body": "Note that you&#39;re going to need to compile SCSS -&gt; CSS as SCSS is a superset of CSS, not a thing on itself."}, {"owner": {"reputation": 13306, "user_id": 162698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HnjBG.png?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/162698/rob"}, "edited": false, "score": 2, "creation_date": 1573077902, "post_id": 58739129, "comment_id": 103768193, "body": "<a href=\"https://stackoverflow.com/help/how-to-ask\">How to ask</a> and <a href=\"https://stackoverflow.com/help/on-topic\">Is This On Topic?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 48, "user_id": 10522508, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lqHqEq5Xa08/AAAAAAAAAAI/AAAAAAAAA6s/8cfqU8rqOrk/photo.jpg?sz=128", "display_name": "Antonio", "link": "https://stackoverflow.com/users/10522508/antonio"}, "is_accepted": true, "score": 0, "last_activity_date": 1573080325, "creation_date": 1573080325, "answer_id": 58739555, "question_id": 58739129, "link": "https://stackoverflow.com/questions/58739129/how-to-create-reusable-button-component-with-vanilla-js-and-sass/58739555#58739555", "title": "How to create reusable button component with vanilla js and sass?", "body": "<p>There are many solutions to do that. One simple solution is create the styles on css and toogle between the different subclasses , then, create a method o function to return this component with the values.</p>\n\n<pre><code>var cusButton =  (i_params )  =&gt; {\nvar curButton = document.createElement ('INPUT'), buttonContainer;\ncurButton.classList.add  (i_params.classname);\ncurButton.type = 'button';\ncurButton.value = i_params.valueButton;\n//the classname has the properties that you have to create before...\nbuttonContainer = document.getElementById\n(i_params.idButContainer);\nbuttonContainer.appenChild  (curButton);\n\n}\n\n//Then, create one object for each button and call this function to populate the DOM with the new buttons:\n\nvar propButton ={ classname : 'created-class', valueButton : 'Click here to sens', idButContainer : 'id-name-node'};\n\ncusButton  (propButton );\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11508507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/103737fd4438d13a007c3b7be0cc6908?s=128&d=identicon&r=PG&f=1", "display_name": "Ali G.", "link": "https://stackoverflow.com/users/11508507/ali-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "closed_date": 1573081847, "accepted_answer_id": 58739555, "answer_count": 1, "score": -3, "last_activity_date": 1573080325, "creation_date": 1573077593, "question_id": 58739129, "link": "https://stackoverflow.com/questions/58739129/how-to-create-reusable-button-component-with-vanilla-js-and-sass", "closed_reason": "Needs more focus", "title": "How to create reusable button component with vanilla js and sass?", "body": "<p>I have to make a reusable button component with vanilla js and scss, but I haven't done it yet. Can somebody explain how could I do it ?\nI am new at this so I don't know where to look for it.</p>\n\n<p>Update: Do I have to use javascript or can I use only HTML and SCSS/CSS for it?</p>\n"}, {"tags": ["javascript", "html", "css", "express"], "comments": [{"owner": {"reputation": 856, "user_id": 4745345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3198242af4955bf263b9df08a31cb962?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Warren", "link": "https://stackoverflow.com/users/4745345/jon-warren"}, "edited": false, "score": 1, "creation_date": 1573078604, "post_id": 58739074, "comment_id": 103768447, "body": "Could you send over a file buffer in the response, and then once you receive that response in the front end, prompt the user to save that buffer as a file?"}, {"owner": {"reputation": 8395, "user_id": 6567275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e298067d69d9ef222a00222374549af1?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6567275/thomas"}, "edited": false, "score": 1, "creation_date": 1573078638, "post_id": 58739074, "comment_id": 103768459, "body": "I&#39;m not sure I fully understand, but you could download the file via ajax, show the progress bar, and on complete store the blob in an <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL\" rel=\"nofollow noreferrer\">object url</a> and let the user download the file from that object url. That way the source for his dowload is basically the browser cache."}], "owner": {"reputation": 1, "user_id": 12334613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12dc4021f36903a16bc9c091bda566cf?s=128&d=identicon&r=PG&f=1", "display_name": "JustAskUs", "link": "https://stackoverflow.com/users/12334613/justaskus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573077382, "creation_date": 1573077382, "question_id": 58739074, "link": "https://stackoverflow.com/questions/58739074/how-can-i-wait-for-the-download-file-to-finish-downloading-in-background-then-o", "title": "How can I wait for the download file to finish downloading in background, then offically download it", "body": "<p>Title may sound confuzing, so let me explain.\nOn certain youtube video downloaders, when you download the video, it shows a progress bar and then its instantlly downloaded. When I try to make a user download a file, for instance (on chrome), it shows CHROMEs download bar.</p>\n\n<p>How can I do this using html/css/js, and if required, my express server (server has ytdl).</p>\n\n<p>I couldn't find anything on how to do this but I KNOW it's possible. So please, am I an idiot, or is there a way to do this?</p>\n"}, {"tags": ["javascript", "node.js", "swagger", "swagger-node-express"], "comments": [{"owner": {"reputation": 734, "user_id": 3803506, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1032810444/picture?type=large", "display_name": "C Deuter", "link": "https://stackoverflow.com/users/3803506/c-deuter"}, "edited": false, "score": 0, "creation_date": 1573077478, "post_id": 58739021, "comment_id": 103768054, "body": "Are you trying to integrate the swagger-api library (which is a framework built on top of express that handles routing) in your existing project, or do you just want to add swagger documentation files?"}, {"owner": {"reputation": 20989, "user_id": 148844, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/263aa1ae12d9757f78167b80e596c3df?s=128&d=identicon&r=PG", "display_name": "Chloe", "link": "https://stackoverflow.com/users/148844/chloe"}, "reply_to_user": {"reputation": 734, "user_id": 3803506, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1032810444/picture?type=large", "display_name": "C Deuter", "link": "https://stackoverflow.com/users/3803506/c-deuter"}, "edited": false, "score": 0, "creation_date": 1573079212, "post_id": 58739021, "comment_id": 103768632, "body": "I want to both integrate the Swagger API library and created Swagger documentation files."}], "answers": [{"tags": [], "owner": {"reputation": 20989, "user_id": 148844, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/263aa1ae12d9757f78167b80e596c3df?s=128&d=identicon&r=PG", "display_name": "Chloe", "link": "https://stackoverflow.com/users/148844/chloe"}, "is_accepted": false, "score": 0, "last_activity_date": 1573187837, "creation_date": 1573187837, "answer_id": 58760447, "question_id": 58739021, "link": "https://stackoverflow.com/questions/58739021/how-do-i-add-swagger-to-an-existing-node-app/58760447#58760447", "title": "How do I add Swagger to an existing Node app?", "body": "<p>I followed this guide: <a href=\"https://blog.cloudboost.io/adding-swagger-to-existing-node-js-project-92a6624b855b\" rel=\"nofollow noreferrer\">https://blog.cloudboost.io/adding-swagger-to-existing-node-js-project-92a6624b855b</a></p>\n\n<pre><code>npm i swagger-ui-express -S\n</code></pre>\n\n<p>I used the Swagger editor to create a <code>swagger.yml</code> file. <a href=\"http://editor.swagger.io/\" rel=\"nofollow noreferrer\">http://editor.swagger.io/</a></p>\n\n<p>I added this to my server:</p>\n\n<pre><code>var swaggerUi = require('swagger-ui-express')\nvar fs = require('fs')\nvar jsyaml = require('js-yaml');\nvar spec = fs.readFileSync('swagger.yml', 'utf8');\nvar swaggerDocument = jsyaml.safeLoad(spec);\n...\napp.use('/api-docs', swaggerUi.serve, swaggerUi.setup(swaggerDocument));\n</code></pre>\n\n<p>I was then able to access Swagger docs via <code>http://localhost/api-docs</code>. </p>\n\n<p>It's unfortunately not the same level of integration that Swagger has with Spring Boot in Java, where you can add an annotation and Swagger will automatically generate the documentation for you. It seems Swagger for Node requires you to maintain the <code>swagger.yml</code> documentation manually.  I have my routes defined like <code>app.use('/users', userRouter)</code> and inside the <code>users.js</code> file I have functions defined like <code>router.post('/status', (req, res) =&gt; { ... }</code>. That doesn't seem compatible with Swagger for Node, which has a concept of <code>operationId</code> which somehow points to a function name. </p>\n"}], "owner": {"reputation": 20989, "user_id": 148844, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/263aa1ae12d9757f78167b80e596c3df?s=128&d=identicon&r=PG", "display_name": "Chloe", "link": "https://stackoverflow.com/users/148844/chloe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1209, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1608217889, "creation_date": 1573077068, "question_id": 58739021, "link": "https://stackoverflow.com/questions/58739021/how-do-i-add-swagger-to-an-existing-node-app", "title": "How do I add Swagger to an existing Node app?", "body": "<p>The documentation for Swagger (<a href=\"https://github.com/swagger-api/swagger-node\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-node</a>) only shows how to create a new app. How do I integrate Swagger into an existing API app?</p>\n"}, {"tags": ["javascript", "html", "iframe", "firefox-addon-webextensions"], "comments": [{"owner": {"reputation": 13306, "user_id": 162698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HnjBG.png?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/162698/rob"}, "edited": false, "score": 0, "creation_date": 1573173434, "post_id": 58738968, "comment_id": 103805166, "body": "Do not put answers within your question. This section is for Questions! Put your answer below in the Answer section."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 12334497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d11230a4c9402d79d5a0ad2aab4f6187?s=128&d=identicon&r=PG&f=1", "display_name": "rainbowschedule", "link": "https://stackoverflow.com/users/12334497/rainbowschedule"}, "edited": false, "score": 0, "creation_date": 1573082512, "post_id": 58739144, "comment_id": 103769584, "body": "Thank you for your reply. I read that in theory it is not possible but that they were some workarounds for that. Is it not possible to somehow run my script in the .html of that iframe directly? I dont necessarily need any cross-domain activities. Just alter that without caring about it being displayed on another website."}, {"owner": {"reputation": 48, "user_id": 10522508, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lqHqEq5Xa08/AAAAAAAAAAI/AAAAAAAAA6s/8cfqU8rqOrk/photo.jpg?sz=128", "display_name": "Antonio", "link": "https://stackoverflow.com/users/10522508/antonio"}, "reply_to_user": {"reputation": 3, "user_id": 12334497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d11230a4c9402d79d5a0ad2aab4f6187?s=128&d=identicon&r=PG&f=1", "display_name": "rainbowschedule", "link": "https://stackoverflow.com/users/12334497/rainbowschedule"}, "edited": false, "score": 0, "creation_date": 1573152442, "post_id": 58739144, "comment_id": 103798031, "body": "Hi rainbowschedule. I have to say that I&#39;m relly interested in this issue and I get it in my face several times.  You can see this simple example:  <a href=\"https://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_iframe_contentdocument2\" rel=\"nofollow noreferrer\">link</a>  In this example, the life is so easy, because the iframe and the container page are in the same domain (and with all permision) and you can easy get access to everithing...  <code>var x = document.getElementById(&quot;myframe&quot;); var y = x.contentDocument; console.log(y.children[0].children[1].getElementsByTagName(&#39;&zwnj;&#8203;P&#39;)[0].innerHTML)</code>"}, {"owner": {"reputation": 3, "user_id": 12334497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d11230a4c9402d79d5a0ad2aab4f6187?s=128&d=identicon&r=PG&f=1", "display_name": "rainbowschedule", "link": "https://stackoverflow.com/users/12334497/rainbowschedule"}, "edited": false, "score": 0, "creation_date": 1573158659, "post_id": 58739144, "comment_id": 103800654, "body": "In my case I luckily didn&#39;t have to access the iframe from the parent document, so I can just inject my script directly in the iframe (see erosman&#39;s answer or my edited question). With my new gained knowledge and what I&#39;ve read before I think you can still access an iframe from outside via <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage\" rel=\"nofollow noreferrer\">Window.postMessage()</a> where you have to inject scripts in the parent document and the iframe to be able to communicate between them via this method. Maybe this can help you in the future."}], "tags": [], "owner": {"reputation": 48, "user_id": 10522508, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lqHqEq5Xa08/AAAAAAAAAAI/AAAAAAAAA6s/8cfqU8rqOrk/photo.jpg?sz=128", "display_name": "Antonio", "link": "https://stackoverflow.com/users/10522508/antonio"}, "is_accepted": false, "score": 0, "last_activity_date": 1573077690, "creation_date": 1573077690, "answer_id": 58739144, "question_id": 58738968, "link": "https://stackoverflow.com/questions/58738968/firefox-webextensions-inject-script-in-iframe/58739144#58739144", "title": "Firefox WebExtensions inject script in iframe", "body": "<p>I'm so sorry, but it is not posible to modify one website on an iframe if this iframe contains a website from other domain. </p>\n\n<p>Maybe, you founded some examples with java script,  but if you see this examples in deep you'll find that they works because the domain is always the same...</p>\n\n<p>The different origin forbiden this actions.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 12334497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d11230a4c9402d79d5a0ad2aab4f6187?s=128&d=identicon&r=PG&f=1", "display_name": "rainbowschedule", "link": "https://stackoverflow.com/users/12334497/rainbowschedule"}, "edited": false, "score": 0, "creation_date": 1573157035, "post_id": 58742240, "comment_id": 103800007, "body": "I already tried the setting of <code>all_frames</code> before but didn&#39;t get any results due to wrong URL-patterns. After you commented I looked at it again and got it to work just the way I wanted it, so thank you for sending me on the right track. I will edit my question with a part of my <code>manifest.json</code> for anyone being on the wrong track like me. One question remains. You wrote something about the correct <code>Permission</code>. What are you refering to? As I couldnt find any permissions that would help this case, nor do I use any in my current solution."}, {"owner": {"reputation": 4917, "user_id": 3529456, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/TBpkz.png?s=128&g=1", "display_name": "erosman", "link": "https://stackoverflow.com/users/3529456/erosman"}, "reply_to_user": {"reputation": 3, "user_id": 12334497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d11230a4c9402d79d5a0ad2aab4f6187?s=128&d=identicon&r=PG&f=1", "display_name": "rainbowschedule", "link": "https://stackoverflow.com/users/12334497/rainbowschedule"}, "edited": false, "score": 0, "creation_date": 1573159321, "post_id": 58742240, "comment_id": 103800914, "body": "@rainbowschedule Depending on what the script does, if you only have permission for site A and the iframe is from a different site B, then some functions that require permission (e,g, XHR/fetch) may not functions as you expect since you only have permission for site A."}], "tags": [], "owner": {"reputation": 4917, "user_id": 3529456, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/TBpkz.png?s=128&g=1", "display_name": "erosman", "link": "https://stackoverflow.com/users/3529456/erosman"}, "is_accepted": true, "score": 1, "last_activity_date": 1573129233, "last_edit_date": 1573129233, "creation_date": 1573103038, "answer_id": 58742240, "question_id": 58738968, "link": "https://stackoverflow.com/questions/58738968/firefox-webextensions-inject-script-in-iframe/58742240#58742240", "title": "Firefox WebExtensions inject script in iframe", "body": "<blockquote>\n  <p>As far as I know I should be able to simply inject my script directly\n  in the iframe and get the wanted result. But I haven't been able to do\n  so.</p>\n</blockquote>\n\n<p>iframe is just like a web page and you can inject scripts into it like any web page.</p>\n\n<p>There are the following considerations:</p>\n\n<ul>\n<li>Extension must have to correct <code>Permission</code> for iframe (which maybe\nfrom a different domain) </li>\n<li>Setting <code>all_frames: true</code> <em>(default is    false)</em> in \n<a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_scripts\" rel=\"nofollow noreferrer\">content_scripts</a></li>\n</ul>\n\n<p>If you are injecting script by other method than <code>manifest.json</code>, let me know and I explain that too.</p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 12334497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d11230a4c9402d79d5a0ad2aab4f6187?s=128&d=identicon&r=PG&f=1", "display_name": "rainbowschedule", "link": "https://stackoverflow.com/users/12334497/rainbowschedule"}, "is_accepted": false, "score": 0, "last_activity_date": 1573210282, "creation_date": 1573210282, "answer_id": 58765147, "question_id": 58738968, "link": "https://stackoverflow.com/questions/58738968/firefox-webextensions-inject-script-in-iframe/58765147#58765147", "title": "Firefox WebExtensions inject script in iframe", "body": "<p><strong>Solution</strong></p>\n\n<p>Thanks to <em>erosman</em>'s comment I looked at my <code>manifest.json</code> again and played around a bit to finally get my script to work the way I wanted. My problem was actually in wrong URL-patterns I provided. For anyone having a similar problem like me I will provide what would've saved my past me a lot of time.</p>\n\n<p>Like <em>erosman</em> says:</p>\n\n<blockquote>\n  <p>iframe is just like a web page and you can inject scripts into it like any web page.</p>\n</blockquote>\n\n<p>Since I don't care about accessing the iframe's content from the parent document this means I can indeed just inject my script into the iframe directly and let it work there. The result will be visible on the webpage containing the iframe. In terms of Firefox WebExtensions this simply means setting the right parameters in your <code>manifest.json</code>. In <code>content_scripts</code> set <code>\"all_frames\": true</code> to allow your script to get injected into frames. Now you have to provide the URL of the webpage displaying the iframe aswell as the iframe's URL. Your <code>content_scripts</code> should look like:</p>\n\n<pre><code>    \"content_scripts\": [\n        {\n         \"matches\": [\"*://*.webpage.org/*\", \"*://*.iframe.com/*\"],\n         \"all_frames\": true,\n         \"js\": [\"script.js\"]\n        }\n     ]\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 12334497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d11230a4c9402d79d5a0ad2aab4f6187?s=128&d=identicon&r=PG&f=1", "display_name": "rainbowschedule", "link": "https://stackoverflow.com/users/12334497/rainbowschedule"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 320, "favorite_count": 0, "accepted_answer_id": 58742240, "answer_count": 3, "score": -1, "last_activity_date": 1573210282, "creation_date": 1573076762, "last_edit_date": 1573210244, "question_id": 58738968, "link": "https://stackoverflow.com/questions/58738968/firefox-webextensions-inject-script-in-iframe", "title": "Firefox WebExtensions inject script in iframe", "body": "<p>I am new to javascript and writing web extensions. I want to write a web extension which changes the color of schedule entrys in my university planner. \nAfter some starting struggle I've been finally able to write a Firefox WebExtension that does exactly that on my uni's platform.\nThe problem is that my uni uses multiple platforms for different tasks which can either be accessed directly or via a platform that connects them all.\nI've only been able to succesfully change the colors on the platform that directly shows me my schedule, not on the \"general\" platform.\nAfter some more research I found the problem. The planner is loaded in an iframe and since both platforms have a different domain this seems to be a bigger problem then I thought.\nI read a lot of confusing information on how to work with these cross-domain iframes which I \ncouldn't really understand or am just unable to execute.</p>\n\n<p>As far as I know I should be able to simply inject my script directly in the iframe and get the wanted result. But I haven't been able to do so. I didn't find any helpful information on how to do that with an WebExtension. I would really appreciate if someone could help me figure this out. </p>\n\n<p>Maybe my idea is completly wrong and I need to try something else like using post message (which I didn't understand how to implement either) or something completly different. So anyways, I am looking forward to your replies. </p>\n"}, {"tags": ["javascript", "firebase", "react-native", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1573079186, "post_id": 58738956, "comment_id": 103768625, "body": "I&#39;m not sure what the trouble is here.  It&#39;s possible create documents in any collection or subcollection at any time, even if a parent document doesn&#39;t exist yet."}, {"owner": {"reputation": 509, "user_id": 11346397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2b735c94609e2ebb73dfc534c15405b?s=128&d=identicon&r=PG&f=1", "display_name": "yashatreya", "link": "https://stackoverflow.com/users/11346397/yashatreya"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1573113202, "post_id": 58738956, "comment_id": 103777335, "body": "The problem is that I want some field values to be set in the parent document and also a Members sub-collection together"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 1, "creation_date": 1573113738, "post_id": 58738956, "comment_id": 103777571, "body": "Then use a batch write or transaction."}, {"owner": {"reputation": 509, "user_id": 11346397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2b735c94609e2ebb73dfc534c15405b?s=128&d=identicon&r=PG&f=1", "display_name": "yashatreya", "link": "https://stackoverflow.com/users/11346397/yashatreya"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1573114153, "post_id": 58738956, "comment_id": 103777769, "body": "Okay, @DougStevenson I&#39;ll try that"}, {"owner": {"reputation": 509, "user_id": 11346397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2b735c94609e2ebb73dfc534c15405b?s=128&d=identicon&r=PG&f=1", "display_name": "yashatreya", "link": "https://stackoverflow.com/users/11346397/yashatreya"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1573129897, "post_id": 58738956, "comment_id": 103786067, "body": "@DougStevenson I read the docs about transactions, was able to set the field values in the groupId(document). But I still can&#39;t figure out how to create a members sub-collection and add users to it, since we have only four methods to work with in transactions: <code>set(), get(), delete() and update()</code>. I have edited the question with new createGroup() method using transactions I&#39;m new at this, please help me out."}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1573135543, "post_id": 58738956, "comment_id": 103789085, "body": "You don&#39;t have to do anything to create a subcollection.  Just start writing documents to it as if it already exists, and it will appear in the console."}], "owner": {"reputation": 509, "user_id": 11346397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2b735c94609e2ebb73dfc534c15405b?s=128&d=identicon&r=PG&f=1", "display_name": "yashatreya", "link": "https://stackoverflow.com/users/11346397/yashatreya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1573129803, "creation_date": 1573076697, "last_edit_date": 1573129803, "question_id": 58738956, "link": "https://stackoverflow.com/questions/58738956/setting-and-querying-data-inside-sub-collections", "title": "Setting and querying data inside sub-collections?", "body": "<p>I am working on the createGroup() functionality for my application.</p>\n\n<p>And this is the data structure I have planned: </p>\n\n<pre><code>Groups(collection)\n\n    GroupID(document)\n\n        name: value,\n        description: value,\n        createdOn: value,\n\n        Members(subcollection)\n            userId1(document)\n                role: value,\n                joinedOn: value,\n            userId2(document)\n                role: value,\n                joinedOn: value,\n\n    GroupId(document)\n         ...and so on...\n\n</code></pre>\n\n<p>I am trying to achieve this :\n<a href=\"https://i.stack.imgur.com/tU0FA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tU0FA.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/b71zG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b71zG.png\" alt=\"enter image description here\"></a>\nI was made the above structure manually in the console, but I don't know how to make it programmatically??</p>\n\n<p>From what I have understood after reading through the docs, I can use transactions like this:</p>\n\n<pre><code>createGroup() {\n    var docRef = firestore()\n      .collection('Groups')\n      .doc();\n    firestore().runTransaction(transaction =&gt; {\n      return transaction.get(docRef).then(doc =&gt; {\n        transaction.set(docRef, {\n          name: this.name,\n          desc: this.desc,\n          createdOn: new Date(),\n        });\n      });\n    });\n  }\n</code></pre>\n\n<p>But I still can't figure out how to create a members sub-collection and add users to it, since we have only four methods to work with in transactions: <code>set(), get(), delete() and update()</code>\nPlease tell me how should I progress further??</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["javascript", "schema.org", "json-ld", "google-rich-snippets", "structured-data"], "comments": [{"owner": {"reputation": 1606, "user_id": 2328892, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/IPeF1.png?s=128&g=1", "display_name": "Jay Gray", "link": "https://stackoverflow.com/users/2328892/jay-gray"}, "edited": false, "score": 0, "creation_date": 1573154873, "post_id": 58738927, "comment_id": 103799058, "body": "try using <a href=\"https://schema.org/ProductModel\" rel=\"nofollow noreferrer\">schema.org/ProductModel</a> for level 2 products. That <code>@Type</code> may not a mandatory relationship with the property <code>aggregateRating</code> and will convey the same meaning you assert."}], "answers": [{"tags": [], "owner": {"reputation": 3039, "user_id": 289112, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/znyZD.jpg?s=128&g=1", "display_name": "Stu Furlong", "link": "https://stackoverflow.com/users/289112/stu-furlong"}, "is_accepted": true, "score": 2, "last_activity_date": 1573989940, "last_edit_date": 1573989940, "creation_date": 1573799329, "answer_id": 58871460, "question_id": 58738927, "link": "https://stackoverflow.com/questions/58738927/how-do-i-correctly-markup-a-product-within-an-offer-within-a-product/58871460#58871460", "title": "How do I correctly markup a Product within an Offer within a Product?", "body": "<p>Based on your example it seems that each <code>Offer</code> is a variant of <code>Product</code>. If that's the case, I'm not sure nesting <code>Product</code> inside of a variant would be needed. As far as I can tell from your example the only property in the nested <code>Product</code> which is unique is <code>weight</code>, which you could apply to <code>Offer</code> using <code>additionalProperty</code>. </p>\n\n<p>If sent this way to the tool everything will validate:</p>\n\n<pre><code>{\n  \"@context\": \"http://schema.org/\",\n  \"@type\": \"Product\",\n  \"name\":\"Stripe Knit Sweater\",\n  \"url\":\"http://foobar.gov/product\",\n  \"image\":[\n      \"http://foobar.gov/product/image1\"\n  ],\n  \"description\":\"this is a description\",\n  \"brand\":{\n      \"@type\":\"Thing\",\n      \"name\":\"My Store\"\n  },\n  \"offers\": [\n      {\n          \"@type\": \"Offer\",\n          \"availability\":\"http://schema.org/InStock\",\n          \"price\":\"64.0\",\n          \"image\":\"http://foobar.gov/product/url\",\n          \"name\":\"Small / Blue/Black/Cream Stripe\",\n          \"priceCurrency\":\"USD\",\n          \"url\":\"http://foobar.gov/product/url\",\n          \"additionalProperty\": {\n              \"@type\": \"PropertyValue\",\n              \"name\": \"Weight\",\n              \"unitCode\": \"1b\",\n              \"value\": \"0.0lb\"\n          }\n    },\n    {\n        \"@type\": \"Offer\",\n        \"availability\":\"http://schema.org/InStock\",\n        \"price\":\"64.0\",\n        \"image\":\"http://foobar.gov/product/url\",\n        \"name\":\"Medium / Blue/Black/Cream Stripe\",\n        \"priceCurrency\":\"USD\",\n        \"url\":\"http://foobar.gov/product/url\",\n        \"additionalProperty\": {\n            \"@type\": \"PropertyValue\",\n            \"name\": \"Weight\",\n            \"unitCode\": \"1b\",\n            \"value\": \"0.0lb\"\n        }  \n    }]\n}\n</code></pre>\n\n<p><a href=\"https://developers.google.com/search/docs/data-types/product\" rel=\"nofollow noreferrer\">Googles Schema Documentation</a> on <code>Offer</code> states that <code>itemOffered</code> is a recommended field and that it's \"typically a product\", but doesn't have to be. It's also worth noting that contrary to the documentation, the tool does not warn you if <code>itemOffered</code> does not exist in <code>Offer</code></p>\n\n<p>Even though <a href=\"https://schema.org/Offer\" rel=\"nofollow noreferrer\">schema.org</a> provides <code>itemsOffered</code> as an option unfortunately there is no example of that with nested <code>Product</code>s. </p>\n\n<p>Nesting <code>Products</code> or <code>Services</code> could make sense in the following scenarios:</p>\n\n<ul>\n<li>(Product) Salon Package\n\n<ul>\n<li>(Offer) Nail/Massage Combo\n\n<ul>\n<li>(ItemOffered)\n\n<ul>\n<li>(Service) Nail polishing and Neck Massage</li>\n</ul></li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>or:</p>\n\n<ul>\n<li>(Product) Sweater\n\n<ul>\n<li>(Offer) Blue Sweater\n\n<ul>\n<li>(ItemOffered)\n\n<ul>\n<li>(Product) Blue Sweater\n\n<ul>\n<li>(Offer) Blue Sweater on Amazon - $49</li>\n<li>(Offer) Blue Sweater on eBay - $39</li>\n</ul></li>\n</ul></li>\n</ul></li>\n<li>(Offer) Red Sweater\n...</li>\n</ul></li>\n</ul>\n\n<p>Either way, I think the expectation makes sense here, the <code>Product</code> in any scenario will eventually end with <code>Offer</code>. In your case, I believe the fix would be to not use nested <code>Product</code>s only to describe the <code>Offer</code>.</p>\n"}], "owner": {"reputation": 107, "user_id": 11131571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9661a71f58386571c4176a30fce9d53f?s=128&d=identicon&r=PG&f=1", "display_name": "jhs", "link": "https://stackoverflow.com/users/11131571/jhs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1057, "favorite_count": 1, "accepted_answer_id": 58871460, "answer_count": 1, "score": 3, "last_activity_date": 1573989940, "creation_date": 1573076555, "question_id": 58738927, "link": "https://stackoverflow.com/questions/58738927/how-do-i-correctly-markup-a-product-within-an-offer-within-a-product", "title": "How do I correctly markup a Product within an Offer within a Product?", "body": "<p>I am getting Google Search console errors on the Product pages for a website I maintain, and I'm not sure how to resolve the errors.  The error I'm getting is:</p>\n\n<blockquote>\n  <p><em>One of <strong>offers</strong> or <strong>review</strong> or <strong>aggregateRating</strong> should be provided.</em></p>\n</blockquote>\n\n<p>This is simple enough to fix normally, however my confusion is that I am already providing the <code>offers</code> data in a different portion of the json ld.  The structure of my Product json ld is</p>\n\n<pre><code>Product{\n    Offers{\n        Product {}\n        Product {}\n    }\n}\n</code></pre>\n\n<p>Where the nested products are the different variants of the same product.  I don't have reviews or ratings available on the site, so that leaves me with <code>offers</code> to resolve the error.  However google search console is saying that each of the nested products should have <code>offers</code> data, despite the fact that they are already contained within an offers structure.</p>\n\n<p>This seems like it will dig down into an infinite loop: I add offers to the product variants, with an itemOffered type of Product, which will then require another offer, etc.</p>\n\n<p>How can I organize my structured data to both support my product -> variants hierarchy, while also pleasing google search console and removing the errors I'm seeing?</p>\n\n<p>Here's the full JSON ld that you can directly copy/paste into the <a href=\"https://search.google.com/structured-data/testing-tool/u/0/\" rel=\"nofollow noreferrer\">Structured Data Testing Tool</a> to see the exact issue I'm describing.</p>\n\n<pre><code>{\n   \"@context\":\"http://schema.org/\",\n   \"@type\":\"Product\",\n   \"name\":\"Stripe Knit Sweater\",\n   \"url\":\"http://foobar.gov/product\",\n   \"image\":[\n      \"http://foobar.gov/product/image1\"\n   ],\n   \"description\":\"this is a description\",\n   \"brand\":{\n      \"@type\":\"Thing\",\n      \"name\":\"My Store\"\n   },\n   \"offers\":[\n      {\n         \"@type\":\"Offer\",\n         \"availability\":\"http://schema.org/InStock\",\n         \"price\":\"64.0\",\n         \"priceCurrency\":\"USD\",\n         \"url\":\"http://foobar.gov/product/url\",\n         \"itemOffered\":{\n            \"@type\":\"Product\",\n            /*ERROR IS HERE! : One of offers or review or aggregateRating should be provided.*/\n            \"image\":\"http://foobar.gov/product/url\",\n            \"name\":\"Small / Blue/Black/Cream Stripe\",\n            \"weight\":{\n               \"@type\":\"QuantitativeValue\",\n               \"unitCode\":\"lb\",\n               \"value\":\"0.0 lb\"\n            },\n            \"url\":\"http://foobar.gov/product/url\"\n         }\n      },\n      {\n         \"@type\":\"Offer\",\n         \"availability\":\"http://schema.org/InStock\",\n         \"price\":\"64.0\",\n         \"priceCurrency\":\"USD\",\n         \"url\":\"http://foobar.gov/product/url\",\n         \"itemOffered\":{\n            \"@type\":\"Product\",\n            /*ERROR IS HERE! : One of offers or review or aggregateRating should be provided.*/\n            \"image\":\"http://foobar.gov/product/url\",\n            \"name\":\"Medium / Blue/Black/Cream Stripe\",\n            \"weight\":{\n               \"@type\":\"QuantitativeValue\",\n               \"unitCode\":\"lb\",\n               \"value\":\"0.0 lb\"\n            },\n            \"url\":\"http://foobar.gov/product/url\"\n         }\n      }\n   ]\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 1, "creation_date": 1573076569, "post_id": 58738898, "comment_id": 103767709, "body": "why you don&#39;t simply use non transparent image?"}, {"owner": {"reputation": 1740, "user_id": 3555118, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/766948890/picture?type=large", "display_name": "Sebastian Hernandez", "link": "https://stackoverflow.com/users/3555118/sebastian-hernandez"}, "reply_to_user": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1573077309, "post_id": 58738898, "comment_id": 103767993, "body": "It&#39;s a media management platform so we need to cover all types of images"}, {"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1573078039, "post_id": 58738898, "comment_id": 103768243, "body": "I guess you also don&#39;t have any idea about the intrinsic ratio of the image?"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 10758691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/084a9dcfcc0df096b66e53ff661c7a89?s=128&d=identicon&r=PG&f=1", "display_name": "hisablik", "link": "https://stackoverflow.com/users/10758691/hisablik"}, "is_accepted": false, "score": 0, "last_activity_date": 1573128122, "creation_date": 1573128122, "answer_id": 58748376, "question_id": 58738898, "link": "https://stackoverflow.com/questions/58738898/how-to-set-a-background-with-same-width-and-height-of-image-that-uses-object-fit/58748376#58748376", "title": "How to set a background with same width and height of image that uses object-fit", "body": "<p>maybe switch to object-fit: cover?\nif thats not possible i think the only solution is computing the ratio (with/height) \nwith javascript and center an absolute div behind the image with white bg</p>\n"}], "owner": {"reputation": 1740, "user_id": 3555118, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/766948890/picture?type=large", "display_name": "Sebastian Hernandez", "link": "https://stackoverflow.com/users/3555118/sebastian-hernandez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1573128122, "creation_date": 1573076416, "question_id": 58738898, "link": "https://stackoverflow.com/questions/58738898/how-to-set-a-background-with-same-width-and-height-of-image-that-uses-object-fit", "title": "How to set a background with same width and height of image that uses object-fit", "body": "<p>How can i add a background that has the same width and height of an image that uses object-fit?</p>\n\n<p>This is the CSS for the image</p>\n\n<pre><code>height: 100%;\nwidth: 100%;\nobject-fit: contain;\ndisplay: block;\nbackground: #fff;\n</code></pre>\n\n<p>The issue is the white background takes the full width/height of the container instead of the size of the image which is being resized by </p>\n\n<pre><code>object-fit: contain\n</code></pre>\n\n<p>I need to do this so i can add checkerboard background for images with Alpha Chanels</p>\n"}, {"tags": ["javascript", "logging", "console.log"], "answers": [{"tags": [], "owner": {"reputation": 6619, "user_id": 694824, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lwVH7.jpg?s=128&g=1", "display_name": "wdm", "link": "https://stackoverflow.com/users/694824/wdm"}, "is_accepted": false, "score": 1, "last_activity_date": 1573076410, "creation_date": 1573076410, "answer_id": 58738897, "question_id": 58738853, "link": "https://stackoverflow.com/questions/58738853/logging-errors-and-warnings-in-the-browser-console-with-vanilla-javascript/58738897#58738897", "title": "Logging errors and warnings in the browser console with vanilla JavaScript", "body": "<p><code>console.warn('warning message');</code></p>\n\n<blockquote>\n  <p>Outputs a warning message to the Web Console.</p>\n</blockquote>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Console/warn\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Console/warn</a></p>\n\n<p><code>console.error('error message');</code></p>\n\n<blockquote>\n  <p>Outputs an error message to the Web Console.</p>\n</blockquote>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Console/error\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Console/error</a></p>\n"}, {"tags": [], "owner": {"reputation": 448, "user_id": 10199179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rCoBS.png?s=128&g=1", "display_name": "Luis Barajas", "link": "https://stackoverflow.com/users/10199179/luis-barajas"}, "is_accepted": false, "score": 2, "last_activity_date": 1573076501, "creation_date": 1573076501, "answer_id": 58738915, "question_id": 58738853, "link": "https://stackoverflow.com/questions/58738853/logging-errors-and-warnings-in-the-browser-console-with-vanilla-javascript/58738915#58738915", "title": "Logging errors and warnings in the browser console with vanilla JavaScript", "body": "<p>You can use <code>console.warn</code> and <code>console.error</code> functions. First for warnings and second for errors.</p>\n\n<p><a href=\"https://developer.mozilla.org/es/docs/Web/API/Console/error\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/es/docs/Web/API/Console/error</a>\n<a href=\"https://developer.mozilla.org/es/docs/Web/API/Console/warn\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/es/docs/Web/API/Console/warn</a></p>\n"}], "owner": {"reputation": 7734, "user_id": 2490003, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/3dRD0.png?s=128&g=1", "display_name": "user2490003", "link": "https://stackoverflow.com/users/2490003/user2490003"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 352, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1573076501, "creation_date": 1573076206, "question_id": 58738853, "link": "https://stackoverflow.com/questions/58738853/logging-errors-and-warnings-in-the-browser-console-with-vanilla-javascript", "title": "Logging errors and warnings in the browser console with vanilla JavaScript", "body": "<p>Is there a way to log WARN and ERROR messages to the console using Vanilla JavaScript?</p>\n\n<p>An example would be something that looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/VLk4X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VLk4X.png\" alt=\"enter image description here\"></a></p>\n\n<p>I could just print it with <code>console.log()</code> but it prints without color as just a plain message. I'd like to print it as an error or warning so it's colored output and background.</p>\n\n<p>Most online guides suggest using some logger library such as log4javascript. I'm hoping to do this without pulling in any dependency.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "jquery", "function", "plugins"], "comments": [{"owner": {"reputation": 1535, "user_id": 610610, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/db1aeb72c95a77c259849d455c16776a?s=128&d=identicon&r=PG", "display_name": "Itanex", "link": "https://stackoverflow.com/users/610610/itanex"}, "edited": false, "score": 0, "creation_date": 1573078468, "post_id": 58738806, "comment_id": 103768387, "body": "It is not clear what exactly your attempting here. Could you clarify please."}, {"owner": {"reputation": 55, "user_id": 10926200, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-t462zDovxS8/AAAAAAAAAAI/AAAAAAAAAAw/JKgXS6Kkh3g/photo.jpg?sz=128", "display_name": "Mohammed Alngaawy", "link": "https://stackoverflow.com/users/10926200/mohammed-alngaawy"}, "reply_to_user": {"reputation": 1535, "user_id": 610610, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/db1aeb72c95a77c259849d455c16776a?s=128&d=identicon&r=PG", "display_name": "Itanex", "link": "https://stackoverflow.com/users/610610/itanex"}, "edited": false, "score": 0, "creation_date": 1573111247, "post_id": 58738806, "comment_id": 103776395, "body": "@Itanex thanks bro it has been solved"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 10926200, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-t462zDovxS8/AAAAAAAAAAI/AAAAAAAAAAw/JKgXS6Kkh3g/photo.jpg?sz=128", "display_name": "Mohammed Alngaawy", "link": "https://stackoverflow.com/users/10926200/mohammed-alngaawy"}, "edited": false, "score": 0, "creation_date": 1573076640, "post_id": 58738830, "comment_id": 103767733, "body": "Thank you sooo much Barmar.. this is my first question here .. i was think no one will repeat ..  i am new in JavaScript .. thank you"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1573076112, "creation_date": 1573076112, "answer_id": 58738830, "question_id": 58738806, "link": "https://stackoverflow.com/questions/58738806/cant-repeat-the-same-function-in-several-classes/58738830#58738830", "title": "can&#39;t repeat the same function in several classes", "body": "<p>Use <code>.each()</code> and a selector for all the classes.</p>\n\n<pre><code>$(\".num1, .num2, .num3\").each(function() {\n    $(this).numScroll({\n        number: $(this).data(\"number\"),\n        time: 3000,\n        delay: 0\n    });\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 55, "user_id": 10926200, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-t462zDovxS8/AAAAAAAAAAI/AAAAAAAAAAw/JKgXS6Kkh3g/photo.jpg?sz=128", "display_name": "Mohammed Alngaawy", "link": "https://stackoverflow.com/users/10926200/mohammed-alngaawy"}, "edited": false, "score": 0, "creation_date": 1573076715, "post_id": 58738881, "comment_id": 103767758, "body": "Thanks bro it has solved .. thanks for your beautiful answer"}], "tags": [], "owner": {"reputation": 685, "user_id": 5385135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r9D6X.jpg?s=128&g=1", "display_name": "Bahador Raghibizadeh", "link": "https://stackoverflow.com/users/5385135/bahador-raghibizadeh"}, "is_accepted": false, "score": 0, "last_activity_date": 1573076325, "creation_date": 1573076325, "answer_id": 58738881, "question_id": 58738806, "link": "https://stackoverflow.com/questions/58738806/cant-repeat-the-same-function-in-several-classes/58738881#58738881", "title": "can&#39;t repeat the same function in several classes", "body": "<p>try it:</p>\n\n<pre><code>$(function(){\n   [\".num1\", \".num2\", \".num3\"].forEach((index)=&gt;{\n       $(index).numScroll({\n           number: $(index).attr(\"data-number\"),\n           'time': 3000,\n           'delay': 0\n       });\n   });\n});\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 10926200, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-t462zDovxS8/AAAAAAAAAAI/AAAAAAAAAAw/JKgXS6Kkh3g/photo.jpg?sz=128", "display_name": "Mohammed Alngaawy", "link": "https://stackoverflow.com/users/10926200/mohammed-alngaawy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 58738830, "answer_count": 2, "score": -1, "last_activity_date": 1573076325, "creation_date": 1573075950, "question_id": 58738806, "link": "https://stackoverflow.com/questions/58738806/cant-repeat-the-same-function-in-several-classes", "title": "can&#39;t repeat the same function in several classes", "body": "<p>need to this code short .. \nthis is numscroll plugin .. and i have many elements have data-number !!!</p>\n\n<pre><code>$(function(){\n\n   $(\".num1\").numScroll({\n      number: $(\".num1\").attr(\"data-number\"),\n      'time': 3000,\n      'delay': 0\n    });\n    $(\".num2\").numScroll({\n      number: $(\".num2\").attr(\"data-number\"),\n      'time': 3000,\n      'delay': 0\n    });\n    $(\".num3\").numScroll({\n      number: $(\".num3\").attr(\"data-number\"),\n      'time': 3000,\n      'delay': 0\n    });\n\n\n})\n\n</code></pre>\n"}, {"tags": ["javascript", "methods", "prototype"], "comments": [{"owner": {"reputation": 11162, "user_id": 11619647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0MnDA.jpg?s=128&g=1", "display_name": "Emiel Zuurbier", "link": "https://stackoverflow.com/users/11619647/emiel-zuurbier"}, "edited": false, "score": 0, "creation_date": 1573076300, "post_id": 58738805, "comment_id": 103767621, "body": "What have you tried so far?"}, {"owner": {"reputation": 45871, "user_id": 451969, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/EuJtr.jpg?s=128&g=1", "display_name": "Jared Farrish", "link": "https://stackoverflow.com/users/451969/jared-farrish"}, "edited": false, "score": 0, "creation_date": 1573078372, "post_id": 58738805, "comment_id": 103768358, "body": "Our program, who art in memory,     called by thy name;   thy operating system run; thy function be done at runtime   as it was on development. Give us this day our daily output. And forgive us our code duplication,     as we forgive those who   duplicate code against us. And lead us not into frustration;   but deliver us from GOTOs.     For thine is algorithm, the computation, and the solution,     looping forever and ever.           Return;"}, {"owner": {"reputation": 53, "user_id": 1432082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a33ad88489dd9930a203ed085776cfbc?s=128&d=identicon&r=PG", "display_name": "Greg E", "link": "https://stackoverflow.com/users/1432082/greg-e"}, "edited": false, "score": 0, "creation_date": 1573088963, "post_id": 58738805, "comment_id": 103770994, "body": "Jared, good call !"}, {"owner": {"reputation": 53, "user_id": 1432082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a33ad88489dd9930a203ed085776cfbc?s=128&d=identicon&r=PG", "display_name": "Greg E", "link": "https://stackoverflow.com/users/1432082/greg-e"}, "edited": false, "score": 0, "creation_date": 1573089409, "post_id": 58738805, "comment_id": 103771071, "body": "Ok everyone, now I have the answer, you can let rip with the sermons! There are words in the reference sites that you shouldn&#39;t mess with fundamental datatypes like Number. I can see that, but for a personal tool that only one person will use, it seems ok. (Sermon: a personal tool could escape and become widely used. Then your Number.personalMethod() could clash with some other method. I guess.)"}, {"owner": {"reputation": 53, "user_id": 1432082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a33ad88489dd9930a203ed085776cfbc?s=128&d=identicon&r=PG", "display_name": "Greg E", "link": "https://stackoverflow.com/users/1432082/greg-e"}, "edited": false, "score": 0, "creation_date": 1573206647, "post_id": 58738805, "comment_id": 103814386, "body": "Hi folks, thanks for the accurate answers to my question. I will try to close this off now."}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 2, "last_activity_date": 1573076291, "creation_date": 1573076291, "answer_id": 58738875, "question_id": 58738805, "link": "https://stackoverflow.com/questions/58738805/how-to-add-a-method-like-num-tfn-as-an-alias-for-num-tofixedn/58738875#58738875", "title": "How to add a method like num.tf(n) as an alias for num.toFixed(n)", "body": "<p>You need to assign to the <code>Number</code> prototype</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Number.prototype.tf = Number.prototype.toFixed;\r\nlet num = 1.234;\r\nconsole.log(num.toFixed(1));  // prints 1.2\r\nconsole.log(num.tf(2));       // should print 1.23</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 132, "user_id": 8314979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfc77cfcef5a02c35a83e236e4425a3?s=128&d=identicon&r=PG", "display_name": "Shikhar Saxena", "link": "https://stackoverflow.com/users/8314979/shikhar-saxena"}, "is_accepted": true, "score": 2, "last_activity_date": 1573076845, "creation_date": 1573076845, "answer_id": 58738980, "question_id": 58738805, "link": "https://stackoverflow.com/questions/58738805/how-to-add-a-method-like-num-tfn-as-an-alias-for-num-tofixedn/58738980#58738980", "title": "How to add a method like num.tf(n) as an alias for num.toFixed(n)", "body": "<p>You need to create a new prototype named tf in <code>Number</code>.</p>\n\n<p><code>Number.prototype.tf =Number.prototype.toFixed</code></p>\n\n<p>should do it Barmar posted in the answer above.</p>\n\n<p>Although if you are feeling adventerous, you can create a new function to see how this fully works.</p>\n\n<pre><code>Number.prototype.tf=function(num){\n    return parseFloat(this.valueOf().toFixed(num))\n}\n</code></pre>\n\n<p>Both of them do essentially the same thing but the first answer is more readable.</p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 1432082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a33ad88489dd9930a203ed085776cfbc?s=128&d=identicon&r=PG", "display_name": "Greg E", "link": "https://stackoverflow.com/users/1432082/greg-e"}, "is_accepted": false, "score": 0, "last_activity_date": 1573206898, "creation_date": 1573206898, "answer_id": 58764215, "question_id": 58738805, "link": "https://stackoverflow.com/questions/58738805/how-to-add-a-method-like-num-tfn-as-an-alias-for-num-tofixedn/58764215#58764215", "title": "How to add a method like num.tf(n) as an alias for num.toFixed(n)", "body": "<p>I'm trying to properly close this off and mark it answered. Thanks for the excellent answers provided. I won't repeat them here, they're all very clear above. Ciao, Greg E.</p>\n"}], "owner": {"reputation": 53, "user_id": 1432082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a33ad88489dd9930a203ed085776cfbc?s=128&d=identicon&r=PG", "display_name": "Greg E", "link": "https://stackoverflow.com/users/1432082/greg-e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 58738980, "answer_count": 3, "score": 0, "last_activity_date": 1573206898, "creation_date": 1573075948, "question_id": 58738805, "link": "https://stackoverflow.com/questions/58738805/how-to-add-a-method-like-num-tfn-as-an-alias-for-num-tofixedn", "title": "How to add a method like num.tf(n) as an alias for num.toFixed(n)", "body": "<p>I'd like to add an alias tf() for methods like toFixed() on the Number type. Example:</p>\n\n<pre><code>let num = 1.234;\nconsole.log(num.toFixed(1));  // prints 1.2\nconsole.log(num.tf(2));       // should print 1.23\n</code></pre>\n\n<p>From a bit of research this may be possible but not conventional. I'm just interested in trying it in a private tool, and learning more about Prototype etc, appreciate if you don't reply with a sermon :=)</p>\n\n<p>Many thanks.\nGE.</p>\n"}, {"tags": ["javascript", "vue.js", "webpack", "vuejs2", "vue-cli"], "answers": [{"tags": [], "owner": {"reputation": 60698, "user_id": 6277151, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IiQqGfyhC7o/AAAAAAAAAAI/AAAAAAAAAbc/VpCYOZzASQc/photo.jpg?sz=128", "display_name": "tony19", "link": "https://stackoverflow.com/users/6277151/tony19"}, "is_accepted": true, "score": 2, "last_activity_date": 1573111220, "creation_date": 1573111220, "answer_id": 58743757, "question_id": 58738764, "link": "https://stackoverflow.com/questions/58738764/how-to-create-a-single-entry-js-file-for-vuejs/58743757#58743757", "title": "How to create a Single Entry JS File for VueJS", "body": "<p>The preload and prefetch scripts that are inserted into <code>index.html</code> (by <a href=\"https://www.npmjs.com/package/@vue/preload-webpack-plugin\" rel=\"nofollow noreferrer\"><code>@vue/preload-webpack-plugin</code></a>) can be disabled via <a href=\"https://cli.vuejs.org/guide/webpack.html#chaining-advanced\" rel=\"nofollow noreferrer\"><code>chainWebpack</code></a>, yielding only one JavaScript import of <code>app.js</code> in <code>index.html</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// vue.config.js\nmodule.exports = {\n  chainWebpack: config =&gt; {\n    config.optimization.delete('splitChunks') // no vendor chunks\n    config.plugins.delete('prefetch')         // no prefetch chunks\n    config.plugins.delete('preload')          // no preload chunks\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 1596219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f97d3c862a18c8c48f0bd6592abdab61?s=128&d=identicon&r=PG", "display_name": "vitors", "link": "https://stackoverflow.com/users/1596219/vitors"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 821, "favorite_count": 0, "accepted_answer_id": 58743757, "answer_count": 1, "score": 1, "last_activity_date": 1573111809, "creation_date": 1573075776, "last_edit_date": 1573111809, "question_id": 58738764, "link": "https://stackoverflow.com/questions/58738764/how-to-create-a-single-entry-js-file-for-vuejs", "title": "How to create a Single Entry JS File for VueJS", "body": "<p>I have a project in Vue that is going to be big, so we are splitting the code in chunks with Webpack configuration, but when I build the project with <code>vue-cli-service</code>, it generates an <code>index.html</code> that prefetches/preloads all the chunks. I don't want to use this <code>index.html</code>. I need a single entry file for Vue that will start the app and import the other files as requested.</p>\n\n<p>I tried <code>splitChunks: false</code> in Webpack, but it didn't help:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>configureWebpack: {\n   optimization: {\n     splitChunks: false\n   }\n}\n</code></pre>\n\n<p>Tried removing the other imports and keeping only the <code>app.js</code>, but that also didn't help.</p>\n\n<p>We are using <code>import(/* webpackChunkName: \"login\" */ './views/Login.vue')</code>, but not in all components.</p>\n\n<p>I previously had another Vue project that worked the way I want: only an <code>app.js</code> and a <code>vendor.js</code> that import other chunks as needed. Back then, I wasn't using <code>vue-cli-service</code>; rather just a simple Webpack config and <code>System.import( /* webpackChunkName: \"Login\" */ '@/components/pages/login/Login.vue')</code> in all components that import the route files:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html&gt;\n...\n    &lt;body&gt;\n        &lt;div id=app&gt;&lt;/div&gt;\n        &lt;script type=text/javascript src=/static/js/vendor.2f58f4045cb046ff1dac.js&gt;\n        &lt;/script&gt;\n        &lt;script type=text/javascript src=/static/js/app.877179012e83c1c97b77.js&gt;\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I would like to build my project and have a single JS file that I can import in another HTML file, and it will act as a starter file.</p>\n\n<p>Do I just need the <code>System.import</code> in all imports? Any other configurations with <code>vue-cli-service</code>?</p>\n"}, {"tags": ["javascript", "ajax"], "comments": [{"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 3, "creation_date": 1573075811, "post_id": 58738756, "comment_id": 103767468, "body": "This is an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. You&#39;re asking about the use of <code>reduce()</code> but haven&#39;t explained <i>why</i> you want to use it. Rather than asking about your solution, consider asking about the actual problem you&#39;re trying to solve."}, {"owner": {"reputation": 2552, "user_id": 7024402, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1uq-JyehdeU/AAAAAAAAAAI/AAAAAAAAAGk/k-APzYUmn_M/photo.jpg?sz=128", "display_name": "ajobi", "link": "https://stackoverflow.com/users/7024402/ajobi"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1573075914, "post_id": 58738756, "comment_id": 103767495, "body": "Agreed with @TylerRoper. What is your end goal? What are you trying to achieve with this JSON ?"}, {"owner": {"reputation": 693, "user_id": 10597010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/821e01d36dc0b3f27eb2b3c9bc2db5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Devy", "link": "https://stackoverflow.com/users/10597010/devy"}, "edited": false, "score": 0, "creation_date": 1573076100, "post_id": 58738756, "comment_id": 103767558, "body": "My task is only to use <code>reduce()</code> function, I just need a simple usage to that given Json, you can choose the <i>why</i>"}, {"owner": {"reputation": 8719, "user_id": 6951428, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/92fd81a6020da8e77fc9125e0c9ec512?s=128&d=identicon&r=PG&f=1", "display_name": "junvar", "link": "https://stackoverflow.com/users/6951428/junvar"}, "edited": false, "score": 1, "creation_date": 1573076673, "post_id": 58738756, "comment_id": 103767742, "body": "&quot;My task is only to use reduce() function&quot;, Then try this: <code>success: () =&gt; [].reduce(() =&gt; 0)</code>"}, {"owner": {"reputation": 8719, "user_id": 6951428, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/92fd81a6020da8e77fc9125e0c9ec512?s=128&d=identicon&r=PG&f=1", "display_name": "junvar", "link": "https://stackoverflow.com/users/6951428/junvar"}, "edited": false, "score": 1, "creation_date": 1573076758, "post_id": 58738756, "comment_id": 103767770, "body": "Ok, try <code>success: () =&gt; [].reduce(() =&gt; 1+1)</code>. If you need more &quot;logic&quot;, just add more numbers. Maybe even use multiplication for extra &quot;logic&quot;."}, {"owner": {"reputation": 8719, "user_id": 6951428, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/92fd81a6020da8e77fc9125e0c9ec512?s=128&d=identicon&r=PG&f=1", "display_name": "junvar", "link": "https://stackoverflow.com/users/6951428/junvar"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 1, "creation_date": 1573077247, "post_id": 58738756, "comment_id": 103767963, "body": "I&#39;m trying to point out by examples what @TylerRoper said. There&#39;s a reason why every single comment here is asking you to clarify what you&#39;re trying to do."}, {"owner": {"reputation": 693, "user_id": 10597010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/821e01d36dc0b3f27eb2b3c9bc2db5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Devy", "link": "https://stackoverflow.com/users/10597010/devy"}, "reply_to_user": {"reputation": 8719, "user_id": 6951428, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/92fd81a6020da8e77fc9125e0c9ec512?s=128&d=identicon&r=PG&f=1", "display_name": "junvar", "link": "https://stackoverflow.com/users/6951428/junvar"}, "edited": false, "score": 0, "creation_date": 1573077361, "post_id": 58738756, "comment_id": 103768013, "body": "I said very clearly what I need, to use reduce function on this <b>Json</b> @junvar"}, {"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 1, "creation_date": 1573077389, "post_id": 58738756, "comment_id": 103768022, "body": "@Devy Simply put, this question is off-topic for StackOverflow. Asking for &quot;any use of <code>reduce()</code>&quot; can&#39;t possibly have any answer that&#39;s more correct than any other. It is not nearly specific enough and is covered entirely by <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\" rel=\"nofollow noreferrer\">the documentation</a>. It isn&#39;t clear why junvar&#39;s suggestion isn&#39;t sufficient; without an actual desired outcome, why do you need &quot;logic&quot;? How much &quot;logic&quot; is enough &quot;logic&quot;? What even constitutes more or less &quot;logic&quot;?"}, {"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 1, "creation_date": 1573077671, "post_id": 58738756, "comment_id": 103768119, "body": "@Devy Because quite frankly this is a bad question, and answering bad questions encourages them. It&#39;s not likely you&#39;re going to get answers because answering off-topic questions is strongly discouraged. If we answer the question, we are likely to be <i>downvoted</i>. We&#39;re trying to help you, but first you need to help <i>us</i>. &quot;With all these comments you could write 5 answers&quot; - Similarly, with all of your comments, you could surely have clarified your question."}, {"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1573078197, "post_id": 58738756, "comment_id": 103768296, "body": "I can&#39;t see how a good answer could be written for this. There&#39;s no <i>practical problem</i> to be solved. It sounds like you just have a homework task of &quot;demonstrate you know how to use <code>reduce()</code>&quot;, in which case you should go and read the documentation. MDN is a good source."}], "answers": [{"tags": [], "owner": {"reputation": 60, "user_id": 5347935, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/PtN1z.jpg?s=128&g=1", "display_name": "Phani Mahesh", "link": "https://stackoverflow.com/users/5347935/phani-mahesh"}, "is_accepted": true, "score": 0, "last_activity_date": 1573078453, "creation_date": 1573078453, "answer_id": 58739272, "question_id": 58738756, "link": "https://stackoverflow.com/questions/58738756/using-reduce-function-for-json-response/58739272#58739272", "title": "Using reduce function for json response", "body": "<p>For example, you can use <code>reduce()</code> to calculate the count of data objects where <code>type:\"articles\"</code></p>\n\n<pre><code>const response = {\n    \"meta\": {\n        \"totalPages\": 13\n    },\n    \"data\": [{\n        \"type\": \"articles\",\n        \"id\": \"3\",\n        \"attributes\": {\n            \"title\": \"AAAAA\",\n            \"body\": \"BBBB\",\n            \"created\": \"2011-06-22T14:56:29.00z\",\n            \"updated\": \"2011-06-22T14:56:28.00z\"\n        }\n    },{\n        \"type\": \"articles\",\n        \"id\": \"6\",\n        \"attributes\": {\n            \"title\": \"AAAAA\",\n            \"body\": \"BBBB\",\n            \"created\": \"2011-06-22T14:56:29.00z\",\n            \"updated\": \"2011-06-22T14:56:28.00z\"\n        }\n    },\n    {\n        \"type\": \"articles\",\n        \"id\": \"10\",\n        \"attributes\": {\n            \"title\": \"AAAAA\",\n            \"body\": \"BBBB\",\n            \"created\": \"2011-06-22T14:56:29.00z\",\n            \"updated\": \"2011-06-22T14:56:28.00z\"\n        }\n    }],\n    \"links\": {\n        \"self\": \"http://example.com/articles?page[number]=3&amp;page[size]=1\",\n        \"first\": \"http://example.com/articles?page[number]=1&amp;page[size]=1\",\n        \"prev\": \"http://example.com/articles?page[number]=2&amp;page[size]=1\",\n        \"next\": \"http://example.com/articles?page[number]=4&amp;page[size]=1\",\n        \"last\": \"http://example.com/articles?page[number]=1&amp;page[size]=1\"\n    }\n}\n\nconst totalArticles = response.data.reduce((count, val)=&gt;{\n  if(val.type === 'articles') count++\n  return count;\n  }, 0)\n\nconsole.log(`Total no. of articles : ${totalArticles}`); // Total no. of articles : 3\n</code></pre>\n"}], "owner": {"reputation": 693, "user_id": 10597010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/821e01d36dc0b3f27eb2b3c9bc2db5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Devy", "link": "https://stackoverflow.com/users/10597010/devy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 58739272, "answer_count": 1, "score": -2, "last_activity_date": 1573078453, "creation_date": 1573075726, "last_edit_date": 1573077765, "question_id": 58738756, "link": "https://stackoverflow.com/questions/58738756/using-reduce-function-for-json-response", "title": "Using reduce function for json response", "body": "<p>I have the following JSON:</p>\n\n<pre><code>{\n    \"meta\": {\n        \"totalPages\": 13\n    },\n    \"data\": [{\n        \"type\": \"articles\",\n        \"id\": \"3\",\n        \"attributes\": {\n            \"title\": \"AAAAA\",\n            \"body\": \"BBBB\",\n            \"created\": \"2011-06-22T14:56:29.00z\",\n            \"updated\": \"2011-06-22T14:56:28.00z\"\n        }\n    }],\n    \"links\": {\n        \"self\": \"http://example.com/articles?page[number]=3&amp;page[size]=1\",\n        \"first\": \"http://example.com/articles?page[number]=1&amp;page[size]=1\",\n        \"prev\": \"http://example.com/articles?page[number]=2&amp;page[size]=1\",\n        \"next\": \"http://example.com/articles?page[number]=4&amp;page[size]=1\",\n        \"last\": \"http://example.com/articles?page[number]=1&amp;page[size]=1\"\n    }\n}\n</code></pre>\n\n<p>Suppose I'm getting this Json as response from a web server, is there a way somehow to use <a href=\"https://www.w3schools.com/jsref/jsref_reduce.asp\" rel=\"nofollow noreferrer\">reduce()</a> method here? </p>\n\n<p>I tried like:</p>\n\n<pre><code>$.ajax({\n  url:\"http://...\",\n  type: \"GET\",\n  headers:{\"application/vnd+json\"},\n  success: function(data){\n  var r = data.cells.reduce(function(array, object) {\n    return array.concat(object.type);\n   }, {});\n\n  console.log(r);\n }\n)};\n\n</code></pre>\n\n<p>Is it possible at all to use reduce here? My task is to use reduce function for the given Json. Is my AJAX ok?</p>\n"}, {"tags": ["javascript", "asynchronous", "recursion", "promise"], "comments": [{"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 1, "creation_date": 1573080680, "post_id": 58738731, "comment_id": 103769083, "body": "You cannot take an asynchronous value and return it from a synchronous function in Javascript.  Cannot be done.  I&#39;m struggling to see why your <code>partition()</code> function is <code>async</code> at all.  It looks like it should just be a normal synchronous function and there should be NO use of promises anywhere in this code.  Why are you even bring up asynchronous operations in this code?  And, then you can never design your quicksort algorith like you have with asynchronous operations in it.  If it has asynchronous operations in it, then it needs an asynchronous return value or callback."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 1, "creation_date": 1573080857, "post_id": 58738731, "comment_id": 103769131, "body": "Sorry to say, overall this design is just messed up.  You&#39;re trying to inject an asynchronous operation (that doesn&#39;t even seem to need to be asynchronous) into a synchronous code flow.  Cannot do that.  Either get rid of the unnecessary asynchronous operation and make everything synchronous or you need a total rethink about how to write asynchronous code and a different interface than <code>quicksort()</code> has."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 1, "creation_date": 1573080945, "post_id": 58738731, "comment_id": 103769148, "body": "I can&#39;t tell if this is a pure tech question or if you have a real problem to solve.  If you have a real problem to solve, then back up several steps, skip the implementation issues you ran into and describe what the overall problem you&#39;re trying to solve here is.  Perhaps, the actual problem is sorting some DOM elements?  And, why is asynchronous involved here at all?"}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 1, "creation_date": 1573081403, "post_id": 58738731, "comment_id": 103769270, "body": "If this is a pure tech question, then you can&#39;t stop the whole Javascript interpreter with <code>async</code> and <code>await</code>.  <code>await</code> will pause the execution internal to one function and when it does that, it immediately return a promise and then rest of the code after that function call continues to run (presumably to register an interest in that promise and do other things).  So, you don&#39;t just stop the entire interpreter waiting for a promise to resolve.  It does not work that way.  An <code>async</code> function is still non-blocking.  It just returns a promise when it hits the first <code>await</code> inside the function."}, {"owner": {"reputation": 443, "user_id": 9482787, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "osvaldo carrillo", "link": "https://stackoverflow.com/users/9482787/osvaldo-carrillo"}, "reply_to_user": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1573090203, "post_id": 58738731, "comment_id": 103771251, "body": "Thanks @jfriend00 for your comments. I&#39;m just making the code again without using promises, so all the methods will be synchronous."}], "answers": [{"comments": [{"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1573087450, "post_id": 58740285, "comment_id": 103770695, "body": "Except there isn&#39;t actually anything asynchronous in the <code>partition()</code> function and therefore in the <code>quicksort()</code> function.  This looks like a misguided user of the <code>async</code> keyword to me.  Unfortunately, the OP seems to have disappeared so I&#39;ve had no luck engaging them on that topic."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1573087637, "post_id": 58740285, "comment_id": 103770724, "body": "@jfriend00 There&#39;s a commented-out <code>&#47;&#47;await wait(1000);</code> in the <code>partition</code> function"}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1573087958, "post_id": 58740285, "comment_id": 103770798, "body": "With no explanation for what/why that was there.  It seems quite likely that&#39;s also a misguided attempt to solve some un-described problem.  If there&#39;s a real reason for <code>partition()</code> to be async, your  answer is fine - it&#39;s just not clear to me that this is an actual asynchronous problem.  Plus, if you pause for a second on each call to <code>partition()</code>, it could take a pretty long time to sort something with the screen jumping around until it finally stops.  This is way too much of an XY-problem.  No description of the actual core problem to be solved here."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1573089259, "post_id": 58740285, "comment_id": 103771040, "body": "@jfriend00 Given all the DOM manipulation occuring in the <code>partition</code> function, it occured to me that it&#39;s doing some animation of a sorting algorithm. Indeed, if it&#39;s not that, then it&#39;s probably a misguided attempt at doing something else."}, {"owner": {"reputation": 443, "user_id": 9482787, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "osvaldo carrillo", "link": "https://stackoverflow.com/users/9482787/osvaldo-carrillo"}, "edited": false, "score": 0, "creation_date": 1573090035, "post_id": 58740285, "comment_id": 103771218, "body": "Thanks, @Bergi. In fact, using the await in the recursive functions works. I implemented this as my current solution. But, I was thinking to make all the method synchronous, so the code would be more accurate. Thanks,"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 443, "user_id": 9482787, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "osvaldo carrillo", "link": "https://stackoverflow.com/users/9482787/osvaldo-carrillo"}, "edited": false, "score": 0, "creation_date": 1573090122, "post_id": 58740285, "comment_id": 103771235, "body": "@osvaldocarrillo Sure, you can also make everything synchronous, but then of course you cannot call <code>wait(1000)</code> any more."}, {"owner": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "reply_to_user": {"reputation": 443, "user_id": 9482787, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "osvaldo carrillo", "link": "https://stackoverflow.com/users/9482787/osvaldo-carrillo"}, "edited": false, "score": 0, "creation_date": 1573196730, "post_id": 58740285, "comment_id": 103810375, "body": "@osvaldocarrillo, &quot;synchronous&quot; does not equate to &quot;accurate&quot;. The two concepts are unrelated ."}], "tags": [], "owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": true, "score": 0, "last_activity_date": 1573086281, "creation_date": 1573086281, "answer_id": 58740285, "question_id": 58738731, "link": "https://stackoverflow.com/questions/58738731/stop-executing-other-functions-after-using-await/58740285#58740285", "title": "Stop executing other functions after using await?", "body": "<p>Yes, your <code>quicksort</code> function does some asynchronous things as well now that it is calling an <code>async partition</code> function. But in the code</p>\n\n<pre><code>quickSort(array, low, value - 1); // Before the partition index\nquickSort(array, value + 1, high); // After the partition index\n</code></pre>\n\n<p>the second calls doesn't wait for the first one to finish, so they will run the two partitionings concurrently. You need to chain them - using either explicit promise chaining</p>\n\n<pre><code>function quickSort(array, low, high) {\n  if (low &lt; high) {\n    return partition(array, low, high).then(value =&gt; {\n      alert(value);\n      return quickSort(array, low, value - 1).then(() =&gt; { // Before the partition index\n        return quickSort(array, value + 1, high); // After the partition index\n      });\n    });\n  } else {\n    return Promise.resolve();\n  }\n}\n</code></pre>\n\n<p>or using <code>async</code>/<code>await</code> syntax:</p>\n\n<pre><code>async function quickSort(array, low, high) {\n  if (low &lt; high) {\n    const value = await partition(array, low, high)\n    alert(value);\n    await quickSort(array, low, value - 1); // Before the partition index\n    await quickSort(array, value + 1, high); // After the partition index\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 443, "user_id": 9482787, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "osvaldo carrillo", "link": "https://stackoverflow.com/users/9482787/osvaldo-carrillo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 58740285, "answer_count": 1, "score": 0, "last_activity_date": 1573086281, "creation_date": 1573075589, "question_id": 58738731, "link": "https://stackoverflow.com/questions/58738731/stop-executing-other-functions-after-using-await", "title": "Stop executing other functions after using await?", "body": "<p>I have some issues using recursive with \"async\" and \"await\". In the code below I created a function \"wait\" returning a promise which I call in another function \"Partition\" to add some delay in a loop. After, I call this function inside \"QuickSort\" to implement some recursion. The first call of the \"partition\" function inside performed as expected. After this the value is passed inside of the callback \"then\" to start performing the function \"quicksort\", but after performing the first \"await\" inside this recursion the code pass to the second recursion of the second \"quickSort\" function inside the callback \"then\" without finishing the first previous recursion.  </p>\n\n<p>I guess this behavior is expected because I'm using the \"async\" \"asynchronous\" in the partition function, so this allows the other code to be executed. </p>\n\n<pre><code> * delay in some functions. This works wll\n * in loops with the use of 'async' and 'await'\n * @param {int} ms - The time to delay;\n */\nfunction wait(ms) {\n  return new Promise(r =&gt; setTimeout(r, ms));\n}\n</code></pre>\n\n<pre><code>/**\n * This function perform the partition in an\n * array to perform the Quick Sort\n * @param {int} array - The numbers to be sorted\n * @param {int} low - The low index of the array\n * @param {int} high - The high index of the array\n */\nasync function partition(array, low, high) {\n  /* This pivot is place at the rigth position */\n  var pivot = array[high];\n  var index = low - 1;\n  /* Get all the columns child nodes */\n  var columnNodes = document.getElementById(\"flex-box\").childNodes;\n  var parentElement = document.getElementById(\"flex-box\");\n  /* Change the color of the Pivot */\n  var pivotColumnNode = columnNodes[high];\n  pivotColumnNode.style.backgroundColor = \"pink\";\n\n  for (let i = low; i &lt; high; i++) {\n\n    // /* Reset the color of the previous Index nodes */\n    // if (columnNodes[i - 1] !== undefined) {\n    //   columnNodes[i - 1].style.backgroundColor = \"blueviolet\";\n    // }\n    /* Change color of value being compare to Pivot node */\n    var iNode = columnNodes[i];\n    // iNode.style.backgroundColor = \"red\";\n    if (array[i] &lt; pivot) {\n      index += 1;\n      //Replace the values\n      var valueofIndexElement = array[index];\n      array[index] = array[i];\n      array[i] = valueofIndexElement;\n\n      /* Chnage the color of the node index to be chnanged */\n      var nodeIndexElement = columnNodes[index];\n      iNode.style.backgroundColor = \"yellow\";\n      nodeIndexElement.style.backgroundColor = \"brown\";\n\n      var nodeIndexElementClone = nodeIndexElement.cloneNode(true);\n      var nodeIElementClone = iNode.cloneNode(true);\n\n      parentElement.replaceChild(nodeIElementClone, columnNodes[index]);\n      parentElement.replaceChild(nodeIndexElementClone, columnNodes[i]);\n      //await wait(1000);\n      nodeIElementClone.style.backgroundColor = \"blueviolet\";\n      nodeIndexElementClone.style.backgroundColor = \"blueviolet\";\n    }\n    console.log(\"New Array: \", array);\n    console.log(\"*********************************\");\n  }\n  var valueOfLastGreaterElement = array[index + 1];\n  array[index + 1] = pivot;\n  array[high] = valueOfLastGreaterElement;\n\n  /* Chnage the last node elements */\n  var pivotColumnNodeClone = pivotColumnNode.cloneNode(true);\n  var greaterColumnNodeClone = columnNodes[index + 1].cloneNode(true);\n\n  parentElement.replaceChild(pivotColumnNodeClone, columnNodes[index + 1]);\n  parentElement.replaceChild(greaterColumnNodeClone, columnNodes[high]);\n  /* Reset the color of the Pivot node */\n  pivotColumnNodeClone.style.backgroundColor = \"blueviolet\";\n  greaterColumnNodeClone.style.backgroundColor = \"blueviolet\";\n\n  console.log(\"Last: \", array);\n  return index + 1;\n}\n</code></pre>\n\n<pre><code>/**\n * This sorts the array with the help of the partition\n * function. This uses recursion to divide an conquer the\n * array.\n * @param {int} array - The numbers to be sorted.\n * @param {*} low - The first index of the array '0'\n * @param {*} high - The length of the array.\n */\nfunction quickSort(array, low, high) {\n  debugger;\n  if (low &lt; high) {\n    debugger;\n    partition(array, low, high).then(value =&gt; {\n      debugger;\n      alert(value);\n      quickSort(array, low, value - 1); // Before the partition index\n      quickSort(array, value + 1, high); // After the partition index\n    });\n    debugger;\n    // partition(array, low, high).then(value =&gt; {\n    //   debugger;\n    //   alert(value);\n    //   quickSort(array, value + 1, high); // After the partition index\n    // });\n  }\n}\n</code></pre>\n\n<p>The thing that I want to accomplish is how to use await in the partition function, and use this function in a recursive way on the \"QuickSort\" function.</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 1559, "user_id": 4456885, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1eed375af269cb56b92708aaa0c2298f?s=128&d=identicon&r=PG&f=1", "display_name": "MyLibary", "link": "https://stackoverflow.com/users/4456885/mylibary"}, "edited": false, "score": 1, "creation_date": 1573075540, "post_id": 58738691, "comment_id": 103767376, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/4787527/how-to-find-the-width-of-a-div-using-vanilla-javascript\">How to find the width of a div using vanilla JavaScript?</a>"}, {"owner": {"reputation": 677, "user_id": 3421659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfc4a95d1dfffbdd39f6daf3433757aa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/3421659/andrew"}, "edited": false, "score": 0, "creation_date": 1573075552, "post_id": 58738691, "comment_id": 103767381, "body": "You could try to traverse up one parent node with <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Node/parentNode\" rel=\"nofollow noreferrer\">Node.parentNode</a> in your JS"}, {"owner": {"reputation": 677, "user_id": 3421659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfc4a95d1dfffbdd39f6daf3433757aa?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/3421659/andrew"}, "reply_to_user": {"reputation": 1559, "user_id": 4456885, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/1eed375af269cb56b92708aaa0c2298f?s=128&d=identicon&r=PG&f=1", "display_name": "MyLibary", "link": "https://stackoverflow.com/users/4456885/mylibary"}, "edited": false, "score": 1, "creation_date": 1573075728, "post_id": 58738691, "comment_id": 103767440, "body": "@MyLibary Really isn&#39;t a duplicate even if it&#39;s similar."}, {"owner": {"reputation": 2311, "user_id": 945391, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9202d33eb022558d3e6d30f3fd42d0b2?s=128&d=identicon&r=PG", "display_name": "ssn", "link": "https://stackoverflow.com/users/945391/ssn"}, "edited": false, "score": 0, "creation_date": 1573076301, "post_id": 58738691, "comment_id": 103767622, "body": "Yes, I don&#39;t believe this is a duplicate, since the question is about the container element and not the element itself."}], "answers": [{"tags": [], "owner": {"reputation": 1270, "user_id": 5380089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vm2mu.jpg?s=128&g=1", "display_name": "MEnf", "link": "https://stackoverflow.com/users/5380089/menf"}, "is_accepted": true, "score": 2, "last_activity_date": 1573075700, "creation_date": 1573075700, "answer_id": 58738748, "question_id": 58738691, "link": "https://stackoverflow.com/questions/58738691/how-to-get-the-css-width-height-of-a-container-element/58738748#58738748", "title": "How to get the CSS width/height of a container element?", "body": "<p>You can use the parentNode property to find the parent of an element.  You can then use the offsetWidth and offsetHeight properties to find the width/height of the element.</p>\n\n<pre><code>var parentElem = document.getElementById('test').parentNode;\nvar parentWidth = parentElem.offsetWidth;\nvar parentHeight = parentElem.offsetHeight;\n</code></pre>\n"}], "owner": {"reputation": 2311, "user_id": 945391, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9202d33eb022558d3e6d30f3fd42d0b2?s=128&d=identicon&r=PG", "display_name": "ssn", "link": "https://stackoverflow.com/users/945391/ssn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 580, "favorite_count": 0, "accepted_answer_id": 58738748, "answer_count": 1, "score": -2, "last_activity_date": 1573076173, "creation_date": 1573075401, "last_edit_date": 1573076173, "question_id": 58738691, "link": "https://stackoverflow.com/questions/58738691/how-to-get-the-css-width-height-of-a-container-element", "title": "How to get the CSS width/height of a container element?", "body": "<p>If the size of an element, say for this case - a body element, is not known or it can be mentioned in any of the mentioned formats mentioned here: <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/width\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/CSS/width</a>, is it possible to get the size of the containing element for that element?</p>\n\n<p>For example: </p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"styles.css\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;section&gt;\n    &lt;p id=\"test\"&gt;This is a paragraph!&lt;/p&gt;\n  &lt;/section&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Here say size of body is set to 50% or 300px, how can I get the size of the whole document? Apologize if this is stupid, new to this side of things. This is not a duplicate of <a href=\"https://stackoverflow.com/questions/4787527/how-to-find-the-width-of-a-div-using-vanilla-javascript\">How to find the width of a div using vanilla JavaScript?</a>, because I am asking for the width of a container element and not the element itself.</p>\n"}, {"tags": ["javascript", "node.js", "graphql", "graphql-js", "postgraphile"], "answers": [{"comments": [{"owner": {"reputation": 38, "user_id": 6780959, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7_hFTbRKw9k/AAAAAAAAAAI/AAAAAAAACHs/jnPURuDRCpY/photo.jpg?sz=128", "display_name": "Galen Howlett", "link": "https://stackoverflow.com/users/6780959/galen-howlett"}, "edited": false, "score": 0, "creation_date": 1573141689, "post_id": 58738886, "comment_id": 103792719, "body": "Thanks this is the answer to my question. If others find it, it is worth noting that while this puts the field in the filter, actually running a query with a filter on the field returns an &quot;unable to resolve filter field&quot; error. This makes sense as the field is calculated in my resolve method and will not be able to be used as a query parameter for limiting the actual executed query results"}], "tags": [], "owner": {"reputation": 56993, "user_id": 6024220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6s3nUiQ9-fI/AAAAAAAAAAI/AAAAAAAAA0E/3zpg3zXHu4I/photo.jpg?sz=128", "display_name": "Daniel Rearden", "link": "https://stackoverflow.com/users/6024220/daniel-rearden"}, "is_accepted": true, "score": 0, "last_activity_date": 1573076350, "creation_date": 1573076350, "answer_id": 58738886, "question_id": 58738676, "link": "https://stackoverflow.com/questions/58738676/extending-a-graphql-filter-definition/58738886#58738886", "title": "Extending a GraphQL Filter Definition", "body": "<p>If you are extending an input object type, the correct syntax is:</p>\n\n<pre><code>extend input NoteFilter {\n  lines: IntFilter\n}\n</code></pre>\n\n<p>In SDL, input object types are denoted as <code>input</code>, not <code>type</code>.</p>\n"}], "owner": {"reputation": 38, "user_id": 6780959, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7_hFTbRKw9k/AAAAAAAAAAI/AAAAAAAACHs/jnPURuDRCpY/photo.jpg?sz=128", "display_name": "Galen Howlett", "link": "https://stackoverflow.com/users/6780959/galen-howlett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "accepted_answer_id": 58738886, "answer_count": 1, "score": 0, "last_activity_date": 1573076350, "creation_date": 1573075333, "question_id": 58738676, "link": "https://stackoverflow.com/questions/58738676/extending-a-graphql-filter-definition", "title": "Extending a GraphQL Filter Definition", "body": "<p>I have extended my graphql schema to add a totals resolver, but I can't seem to extend the filter to filter on this field. I can't figure out what can be wrong as it seems very simple, so maybe it's not supported? I am using Postgraphile with the makeExtendSchemaPlugin, but I believe the question is basic graphql syntax.</p>\n\n<pre><code>return {\n  typeDefs: gql`\n    extend type Note {\n      lines: Int\n    }\n    extend type NoteFilter {\n      lines: IntFilter\n    }\n  `,\n  resolvers: {\n    Note: {\n      resolve: async(parent, args, ctx, info) =&gt; {\n        // logic here\n        return parent['@lines'].data.length;\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>This seems so simple. The count resolver works, and gives me how many lines are in the note, yet I am not able to filter on it. I don't want to put the filter logic in the lines property itself. If I define a new query and give it a NoteFilter, the filter exists but doesn't include my extended property (lines). Anyone know what I'm doing wrong? This is the end goal I would like for a query:</p>\n\n<pre><code>gql`\n  {\n    allNotes(filter: {\n      lines: {\n        greaterThan: 10\n      }\n    }) {\n      id\n      lines\n      line {\n        content   \n      }\n    }\n  }\n`\n</code></pre>\n"}, {"tags": ["javascript", "fetch"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1573075471, "post_id": 58738665, "comment_id": 103767343, "body": "I think this API has to be called from the server, not the client."}, {"owner": {"reputation": 784, "user_id": 3449093, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DFSHe.gif?s=128&g=1", "display_name": "Malvinka", "link": "https://stackoverflow.com/users/3449093/malvinka"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1573076057, "post_id": 58738665, "comment_id": 103767538, "body": "That&#39;s a good point &lt;ashamed&gt;"}], "owner": {"reputation": 784, "user_id": 3449093, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DFSHe.gif?s=128&g=1", "display_name": "Malvinka", "link": "https://stackoverflow.com/users/3449093/malvinka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 218, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573075280, "creation_date": 1573075280, "question_id": 58738665, "link": "https://stackoverflow.com/questions/58738665/problems-with-fetching-the-response-from-www-google-com-recaptcha-api-siteverify", "title": "Problems with fetching the response from www.google.com/recaptcha/api/siteverify", "body": "<p>I'm trying to fetch the answer from </p>\n\n<blockquote>\n  <p>recapcha/api/siteverify</p>\n</blockquote>\n\n<p>I generate my url as:</p>\n\n<blockquote>\n  <p>www.google.com/recaptcha/api/siteverify?secret=secret_key&amp;response=g-recaptcha-token</p>\n</blockquote>\n\n<p>and when I simply visit this URL via my browser it shows me json with <code>success:true</code> and correct timestamp and hostname.</p>\n\n<p>So I'm trying to fetch these results:</p>\n\n<pre><code>fetch(url).then(\n          function(response) {\n              window.alert(response.json())\n              if (!response.success){\n                window.console.log('Looks like there was a problem. Status Code: ' +\n                  response.error);\n                return;\n              }\n\n      // Examine the text in the response\n              window.alert(\"verified!\");\n          }\n      )\n</code></pre>\n\n<p>But that results with </p>\n\n<blockquote>\n  <p>TypeError: NetworkError when attempting to fetch resource.</p>\n</blockquote>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["javascript", "arrays", "react-hooks", "setstate", "array.prototype.map"], "answers": [{"comments": [{"owner": {"reputation": 213, "user_id": 12165204, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-N1mhbZDlggM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcrzrFLR6tIc803ByAL2lO3ALFE8g/photo.jpg?sz=128", "display_name": "BWeb303", "link": "https://stackoverflow.com/users/12165204/bweb303"}, "edited": false, "score": 0, "creation_date": 1573092348, "post_id": 58739773, "comment_id": 103771697, "body": "If you could elaborate that would be helpful"}, {"owner": {"reputation": 863, "user_id": 4008161, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HdcZT.jpg?s=128&g=1", "display_name": "Rafael Mora", "link": "https://stackoverflow.com/users/4008161/rafael-mora"}, "reply_to_user": {"reputation": 213, "user_id": 12165204, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-N1mhbZDlggM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcrzrFLR6tIc803ByAL2lO3ALFE8g/photo.jpg?sz=128", "display_name": "BWeb303", "link": "https://stackoverflow.com/users/12165204/bweb303"}, "edited": false, "score": 0, "creation_date": 1573092715, "post_id": 58739773, "comment_id": 103771769, "body": "Generate an object with your data. Then, save that object using the function <code>setRefData</code>"}], "tags": [], "owner": {"reputation": 863, "user_id": 4008161, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HdcZT.jpg?s=128&g=1", "display_name": "Rafael Mora", "link": "https://stackoverflow.com/users/4008161/rafael-mora"}, "is_accepted": true, "score": 1, "last_activity_date": 1573096986, "last_edit_date": 1573096986, "creation_date": 1573081980, "answer_id": 58739773, "question_id": 58738653, "link": "https://stackoverflow.com/questions/58738653/react-setstate-being-overwritten-within-map/58739773#58739773", "title": "React setState being overwritten within .map()", "body": "<p>You should build your desired object and then after its completly built use the <code>setRefData</code> you need. </p>\n\n<pre><code>useEffect(() =&gt; {\n    const refDataArr = [\n      {\n        url: \"users\",\n        field: \"user\"\n      },\n      {\n        url: \"products\",\n        field: \"product\"\n      },\n      {\n        url: \"roles\",\n        field: \"role\"\n      },\n      {\n        url: \"locations\",\n        field: \"location\"\n      }\n    ]\n    let newData = {};\n    const fetchRefData = () =&gt; {\n      console.log('Fetching reference data...');\n      try {\n        refDataArr.map(async (o, index) =&gt; {\n          let url = o.url\n          let field = o.field\n          const res = await axios.get(`http://.../${url}/ `);\n          const data = res.data.data\n\n          let resArr = Object.values(data).map((item, index) =&gt; {\n            return {\n              key: item._key,\n              value: item[field]\n            }\n          });\n          newData = {...newData, [field]: [...resArr]}\n        })\n        setRefData({\n          ...refData, \n          ...newData, \n        })\n      } catch (err) {\n        console.log(err);\n      }\n    }\n    fetchRefData();\n  }, []);\n</code></pre>\n"}], "owner": {"reputation": 213, "user_id": 12165204, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-N1mhbZDlggM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcrzrFLR6tIc803ByAL2lO3ALFE8g/photo.jpg?sz=128", "display_name": "BWeb303", "link": "https://stackoverflow.com/users/12165204/bweb303"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 58739773, "answer_count": 1, "score": 0, "last_activity_date": 1573096986, "creation_date": 1573075210, "last_edit_date": 1573093148, "question_id": 58738653, "link": "https://stackoverflow.com/questions/58738653/react-setstate-being-overwritten-within-map", "title": "React setState being overwritten within .map()", "body": "<p>I am trying to dynamically fetch data from multiple endpoints and save to local state using React hooks. When I log the below, it looks like state is being overwritten for each item in <code>refDataArr</code>. </p>\n\n<p>The data is being parsed and stored correctly, but I would like <code>refData</code> state to include all four results, and not be overwritten.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  useEffect(() =&gt; {\n    const refDataArr = [\n      {\n        url: \"users\",\n        field: \"user\"\n      },\n      {\n        url: \"products\",\n        field: \"product\"\n      },\n      {\n        url: \"roles\",\n        field: \"role\"\n      },\n      {\n        url: \"locations\",\n        field: \"location\"\n      }\n    ]\n\n    const fetchRefData = () =&gt; {\n      console.log('Fetching reference data...');\n      try {\n        refDataArr.map(async (o, index) =&gt; {\n          let url = o.url\n          let field = o.field\n          const res = await axios.get(`http://.../${url}/ `);\n          const data = res.data.data\n\n          let resArr = Object.values(data).map((item, index) =&gt; {\n            return {\n              key: item._key,\n              value: item[field]\n            }\n          });\n          setRefData({\n            ...refData, \n            [field]: resArr, \n          })\n        })\n      } catch (err) {\n        console.log(err);\n      }\n    }\n    fetchRefData();\n  }, []);\n</code></pre>\n\n<p>Example log of result (other logs show users, roles, etc. They are being overwritten):  </p>\n\n<pre><code>refData = {\n user: [\n  {key: 1, value: \"A\"},\n  {key: 2, value: \"B\"}\n ]\n}\n\nrefData = {\n location: [\n  {key: 1, value: \"A\"},\n  {key: 2, value: \"B\"}\n ]\n}\n\n...etc\n</code></pre>\n\n<p>Desired result:</p>\n\n<pre><code>refData = {\n user: [\n  {key: 1, value: \"A\"},\n  {key: 2, value: \"B\"}\n ],\n product: [\n  {key: 1, value: \"A\"},\n  {key: 2, value: \"B\"}\n ],\n role: [\n  {key: 1, value: \"A\"},\n  {key: 2, value: \"B\"}\n ],\n location: [\n  {key: 1, value: \"A\"},\n  {key: 2, value: \"B\"}\n ]\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic-framework"], "answers": [{"comments": [{"owner": {"reputation": 1030, "user_id": 9244138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39148e76ae32cbb7711a7ca476a8a608?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Ragnar&#246;k", "link": "https://stackoverflow.com/users/9244138/colin-ragnar%c3%b6k"}, "edited": false, "score": 0, "creation_date": 1573077560, "post_id": 58738677, "comment_id": 103768075, "body": "it fixed the error. But now I just don&#39;t have anything for username its just empty"}, {"owner": {"reputation": 4550, "user_id": 6664264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154344266054326/picture?type=large", "display_name": "Wandrille", "link": "https://stackoverflow.com/users/6664264/wandrille"}, "reply_to_user": {"reputation": 1030, "user_id": 9244138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39148e76ae32cbb7711a7ca476a8a608?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Ragnar&#246;k", "link": "https://stackoverflow.com/users/9244138/colin-ragnar%c3%b6k"}, "edited": false, "score": 0, "creation_date": 1573077670, "post_id": 58738677, "comment_id": 103768117, "body": "with a <code>console.log(result)</code> in your suscribe, do you have a value ?"}, {"owner": {"reputation": 1030, "user_id": 9244138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39148e76ae32cbb7711a7ca476a8a608?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Ragnar&#246;k", "link": "https://stackoverflow.com/users/9244138/colin-ragnar%c3%b6k"}, "edited": false, "score": 0, "creation_date": 1573078341, "post_id": 58738677, "comment_id": 103768348, "body": "yea, bizarrely I get the whole list and not just one user"}, {"owner": {"reputation": 4550, "user_id": 6664264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154344266054326/picture?type=large", "display_name": "Wandrille", "link": "https://stackoverflow.com/users/6664264/wandrille"}, "reply_to_user": {"reputation": 1030, "user_id": 9244138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39148e76ae32cbb7711a7ca476a8a608?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Ragnar&#246;k", "link": "https://stackoverflow.com/users/9244138/colin-ragnar%c3%b6k"}, "edited": false, "score": 0, "creation_date": 1573078628, "post_id": 58738677, "comment_id": 103768455, "body": "So the problem is that you get a list :) and not just one element. I let you manage that alone ;)"}], "tags": [], "owner": {"reputation": 4550, "user_id": 6664264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154344266054326/picture?type=large", "display_name": "Wandrille", "link": "https://stackoverflow.com/users/6664264/wandrille"}, "is_accepted": true, "score": 2, "last_activity_date": 1573075335, "creation_date": 1573075335, "answer_id": 58738677, "question_id": 58738652, "link": "https://stackoverflow.com/questions/58738652/cannot-read-property-username-of-null-when-trying-to-access-id-data/58738677#58738677", "title": "Cannot read property &#39;username&#39; of null, when trying to access id-data", "body": "<p>your component start with <code>information = null;</code> so it's normal that in <code>{{ information.username }}</code> you have this error.</p>\n\n<p>A quick solution is:</p>\n\n<pre><code>{{ information?.username }}\n</code></pre>\n"}], "owner": {"reputation": 1030, "user_id": 9244138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39148e76ae32cbb7711a7ca476a8a608?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Ragnar&#246;k", "link": "https://stackoverflow.com/users/9244138/colin-ragnar%c3%b6k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "accepted_answer_id": 58738677, "answer_count": 1, "score": 1, "last_activity_date": 1573075335, "creation_date": 1573075201, "question_id": 58738652, "link": "https://stackoverflow.com/questions/58738652/cannot-read-property-username-of-null-when-trying-to-access-id-data", "title": "Cannot read property &#39;username&#39; of null, when trying to access id-data", "body": "<p>I want to pass a users data on to its profile. I get the full data from the api and I can fetch and display it on the users page. But when I want to display the data from the user on the users profile page I get this error:  </p>\n\n<blockquote>\n  <p>TypeError: Cannot read property 'username' of null</p>\n</blockquote>\n\n<p>The routing works. But somehow I don't have access to the users info which I want to store in <code>information</code>. And I think this line should store the data of the user:</p>\n\n<pre><code>this.userService.getUserDetails(id).subscribe(result =&gt; {\n       this.information = result;\n     });\n</code></pre>\n\n<p>How can I fix that?\nHere is my code:</p>\n\n<p>user.service</p>\n\n<pre><code> // get a list of users\n  getList(): Observable&lt;any&gt; {\n    return this.http.get(`${this.url}/users`);\n  }\n\n // get a user's profile\n  getUserDetails(id): Observable&lt;any&gt; {\n    return this.http.get(`${this.url}/users/?i=${id}`); // why add ?i\n  }\n</code></pre>\n\n<p>user.page.ts</p>\n\n<pre><code> getAllFriends() {\n    this.friendsList = this.userService.getList()\n    .pipe(map(response =&gt; response.results));\n  }\n</code></pre>\n\n<p>profile.page.ts</p>\n\n<pre><code>information = null;\n    ...\nngOnInit() {\n\n         // Get the ID that was passed with the URL\n         let id = this.activatedRoute.snapshot.paramMap.get('id');\n\n         // Get the information from the API\n         this.userService.getUserDetails(id).subscribe(result =&gt; {\n           this.information = result;\n         });\n       }\n</code></pre>\n\n<p>profile.page.html</p>\n\n<pre><code>&lt;ion-label text-wrap&gt;\n      &lt;h6 class=\"subinfo\"&gt;{{information.username}},&amp;nbsp;22,&amp;nbsp;3589&lt;/h6&gt;\n&lt;/ion-label&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "fetch"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1573075000, "post_id": 58738574, "comment_id": 103767173, "body": "The point of AJAX is to not reload the page, so the target attribute has no equivalent. <code>fetch()</code> doesn&#39;t display the result itself, you do that in the callback function."}, {"owner": {"reputation": 3124, "user_id": 509916, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/aYu1R.jpg?s=128&g=1", "display_name": "Thanh Trung", "link": "https://stackoverflow.com/users/509916/thanh-trung"}, "edited": false, "score": 0, "creation_date": 1573075538, "post_id": 58738574, "comment_id": 103767375, "body": "Well, just do <code>window.location.reload()</code> ?"}], "owner": {"reputation": 11, "user_id": 8186823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51811f275e6a31bdfa01cce14eb78421?s=128&d=identicon&r=PG&f=1", "display_name": "Alse", "link": "https://stackoverflow.com/users/8186823/alse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573074790, "creation_date": 1573074790, "question_id": 58738574, "link": "https://stackoverflow.com/questions/58738574/how-to-emulate-a-form-submit-with-fetch", "title": "How to emulate a form submit with Fetch?", "body": "<p>I need to emulate a form submit with the Fetch API but I don't have it working properly yet</p>\n\n<p>This is my code:  </p>\n\n<pre><code>const headers = new Headers({\n 'Content-Type': 'application/x-www-form-urlencoded',\n 'accept-language': 'en-US',\n 'cache-control': 'max-age=0',\n});\n\n fetch(`/actions`, {\n    method: 'POST',\n    headers: headers,\n    body: new URLSearchParams(anObject).toString(),\n});\n</code></pre>\n\n<p>This is the form  I'm trying to emulate</p>\n\n<pre><code>&lt;form action=\"/actions\" method=\"POST\" enctype=\"application/x-www-form-urlencoded\" target=\"_self\"&gt;\n</code></pre>\n\n<p>I still don't know how to add the target attribute to the Fetch. I don't know what other things I'm missing here.</p>\n\n<p>Also if you know any other alternative for emulating a form submit with other tools, please let me know.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1573074751, "post_id": 58738537, "comment_id": 103767089, "body": "How is this function linked to the input element?  <code>onchange</code>?  or one of the key events?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1573074875, "post_id": 58738537, "comment_id": 103767132, "body": "When you paste, there&#39;s no <code>e.charCode</code>. That only exists in keyboard events."}, {"owner": {"reputation": 2917, "user_id": 187519, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/nzv7O.jpg?s=128&g=1", "display_name": "Hassan Voyeau", "link": "https://stackoverflow.com/users/187519/hassan-voyeau"}, "edited": false, "score": 0, "creation_date": 1573075126, "post_id": 58738537, "comment_id": 103767230, "body": "Does this answer help? <a href=\"https://stackoverflow.com/a/44558661\">stackoverflow.com/a/44558661</a>"}, {"owner": {"reputation": 113, "user_id": 2236794, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c2f1187b3da18669b131dbe3021a68a7?s=128&d=identicon&r=PG", "display_name": "user2236794", "link": "https://stackoverflow.com/users/2236794/user2236794"}, "edited": false, "score": 0, "creation_date": 1573076287, "post_id": 58738537, "comment_id": 103767618, "body": "I am calling this with &quot;onkeypress&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 781, "user_id": 6434590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxWOw.jpg?s=128&g=1", "display_name": "David G.", "link": "https://stackoverflow.com/users/6434590/david-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1573075250, "creation_date": 1573075250, "answer_id": 58738660, "question_id": 58738537, "link": "https://stackoverflow.com/questions/58738537/why-cant-i-copy-and-paste/58738660#58738660", "title": "why can&#39;t I copy and paste", "body": "<p>As it's been mentioned in the comments, the paste event does not have the charcode property. You can try the following to handle both events:</p>\n\n<pre><code>function checkText(e)\n{       \n   var str = String.fromCharCode(e.charCode) || (event.clipboardData || window.clipboardData).getData('text')\n   var ok = /[a-z A-Z]/.test(str);\n   if (!ok)\n     e.preventDefault();\n}\n</code></pre>\n\n<p>So you handle both the keyboard and the paste events. The paste event will have to be only one char though.  </p>\n"}, {"comments": [{"owner": {"reputation": 685, "user_id": 5385135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r9D6X.jpg?s=128&g=1", "display_name": "Bahador Raghibizadeh", "link": "https://stackoverflow.com/users/5385135/bahador-raghibizadeh"}, "reply_to_user": {"reputation": 113, "user_id": 2236794, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c2f1187b3da18669b131dbe3021a68a7?s=128&d=identicon&r=PG", "display_name": "user2236794", "link": "https://stackoverflow.com/users/2236794/user2236794"}, "edited": false, "score": 0, "creation_date": 1573123413, "post_id": 58738710, "comment_id": 103782581, "body": "@user2236794 so please mark it as the correct answer."}], "tags": [], "owner": {"reputation": 685, "user_id": 5385135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r9D6X.jpg?s=128&g=1", "display_name": "Bahador Raghibizadeh", "link": "https://stackoverflow.com/users/5385135/bahador-raghibizadeh"}, "is_accepted": false, "score": 0, "last_activity_date": 1573075880, "last_edit_date": 1573075880, "creation_date": 1573075498, "answer_id": 58738710, "question_id": 58738537, "link": "https://stackoverflow.com/questions/58738537/why-cant-i-copy-and-paste/58738710#58738710", "title": "why can&#39;t I copy and paste", "body": "<p>try it:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function checkInput(elem){\r\n  let newValue = elem.value.split(\"\").filter(chr =&gt; /[a-z A-Z]/.test(chr)).join(\"\")\r\n  elem.value = newValue;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input onInput=\"checkInput(this);\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 113, "user_id": 2236794, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c2f1187b3da18669b131dbe3021a68a7?s=128&d=identicon&r=PG", "display_name": "user2236794", "link": "https://stackoverflow.com/users/2236794/user2236794"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 277, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1573075880, "creation_date": 1573074618, "last_edit_date": 1573074817, "question_id": 58738537, "link": "https://stackoverflow.com/questions/58738537/why-cant-i-copy-and-paste", "title": "why can&#39;t I copy and paste", "body": "<p>I have written this code in js to validate my text in an html input field.  It works great except that I can't copy/paste anything into the textbox.  How can I modify this to allow copy/pasting while not losing the validation functionality?  Or is there a better way to validate a textbox?</p>\n\n<pre><code>function checkText(e)\n{       \n    var ok = /[a-z A-Z]/.test(String.fromCharCode(e.charCode));\n    if (!ok)\n        e.preventDefault();\n}      \n</code></pre>\n"}, {"tags": ["javascript", "css", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 434, "user_id": 8111280, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/peXSQ.png?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/8111280/ali"}, "is_accepted": true, "score": 1, "last_activity_date": 1573111894, "last_edit_date": 1573111894, "creation_date": 1573075942, "answer_id": 58738802, "question_id": 58738527, "link": "https://stackoverflow.com/questions/58738527/how-to-correctly-toggle-element-in-react-if-it-is-in-array/58738802#58738802", "title": "How to correctly toggle element in React (if it is in array)", "body": "<p>I think you can have another attribute for toggling the <code>&lt;SmallCommentForm /&gt;</code>\nSo you have your data in an array in <code>this.state</code> and you have another attribute for the toggle and do <code>{ this.state.isOn &amp;&amp; &lt;SmallCommentForm /&gt;}</code></p>\n"}], "owner": {"reputation": 29, "user_id": 11810482, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5PkjRIR0LyY/AAAAAAAAAAI/AAAAAAAAAAc/Og6trD_cp0s/photo.jpg?sz=128", "display_name": "Timofey Melentev", "link": "https://stackoverflow.com/users/11810482/timofey-melentev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 1, "accepted_answer_id": 58738802, "answer_count": 1, "score": 1, "last_activity_date": 1573111894, "creation_date": 1573074587, "question_id": 58738527, "link": "https://stackoverflow.com/questions/58738527/how-to-correctly-toggle-element-in-react-if-it-is-in-array", "title": "How to correctly toggle element in React (if it is in array)", "body": "<p>I have CommentSection component right here </p>\n\n<pre><code>    export class CommentSection extends Component {\n\n    &lt;...&gt; some stuff that is not related to question    \n\n    render() {\n        if (!this.state.data || !this.state.data.length)\n            return null;     \n        var comments = [];\n        for (let i = 0; i &lt; this.state.data.length; i++) {\n            var item = this.state.data[i]; // single comment\n            var commentReplies = this.pushReplies(item.id, i);                      \n            if (item.replyToId == null) {\n                comments.push( // pushing comment if it has replies\n                    &lt;React.Fragment key={'b' + i}&gt;\n                        &lt;div className=\"comment\"&gt;\n                            &lt;p className=\"comments_username\"&gt;{item.userName}&lt;/p&gt;\n                            &lt;p className=\"comments_body\"&gt;{item.body}&lt;/p&gt;\n                            &lt;p className=\"comments_date\"&gt; {item.publicationDate}&lt;/p&gt;\n                            &lt;p className=\"reply\"&gt;Reply&lt;/p&gt;\n                        &lt;/div&gt;                        \n                        &lt;SmallCommentForm postId={this.state.id} replyToId={item.id} /&gt;\n\n                        {commentReplies}\n\n                    &lt;/React.Fragment&gt;\n                );\n            } \n\n        }\n\n        return (\n            &lt;React.Fragment&gt;\n                {comments}\n            &lt;/React.Fragment &gt;\n        );\n    }\n}\n</code></pre>\n\n<p>I need to toggle <code>&lt;SmallCommentForm&gt;</code> component, but I can't correctly see how I can do it. Should I somehow add/remove <code>display:none</code> attributes from document.getElementById(replyToId) or what?</p>\n\n<p>Almost every solution that I've seen contains <em>if statement</em> which decides should it render code or not. But I can't apply this kind of solution in that case: all comments have only one state, because I am using <code>for () {}</code></p>\n\n<p>Is there any solutions or am I doing it all wrong? Sorry for my English, it's not my primary language.</p>\n"}, {"tags": ["javascript", "mongodb"], "comments": [{"owner": {"reputation": 454, "user_id": 4240261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75ff9a37dd735232d0e1ffa2e7af1823?s=128&d=identicon&r=PG", "display_name": "Mika Feiler", "link": "https://stackoverflow.com/users/4240261/mika-feiler"}, "edited": false, "score": 1, "creation_date": 1573075966, "post_id": 58738520, "comment_id": 103767510, "body": "whatever the default order may be, i recommend using sorting. if the collection is mostly sorted, for most sorting algorithms it is a very easy case."}], "answers": [{"tags": [], "owner": {"reputation": 11165, "user_id": 5619724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bxwzV.jpg?s=128&g=1", "display_name": "kevinadi", "link": "https://stackoverflow.com/users/5619724/kevinadi"}, "is_accepted": false, "score": 2, "last_activity_date": 1573172760, "creation_date": 1573172760, "answer_id": 58758749, "question_id": 58738520, "link": "https://stackoverflow.com/questions/58738520/mongdb-not-storing-newest-document-at-end/58758749#58758749", "title": "MongDB not storing newest document at end", "body": "<p>There is no implicit ordering if you do a <code>find()</code> query without sorting. MongoDB will just return the documents as it come across them, in an indeterminate order. </p>\n\n<p>It just happens that for a time, you see the documents returned accidentally sorted during your test, until you insert a document that is different from all the others.</p>\n\n<p>If you need the output to be sorted, then you should use a <code>sort()</code> parameter in your query. Otherwise documents will be returned in no guaranteed order.</p>\n\n<p>Regarding sorting, you should create an index that supports the sort as mentioned in <a href=\"https://docs.mongodb.com/manual/tutorial/sort-results-with-indexes/index.html\" rel=\"nofollow noreferrer\">Use Indexes to Sort Query Results</a>. Otherwise, in-memory sort in MongoDB is limited to 32 MB of memory usage. If your result set is >32 MB, the query will exit with an exception.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 11047629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QCW92.png?s=128&g=1", "display_name": "Cathal O&#39;Callaghan", "link": "https://stackoverflow.com/users/11047629/cathal-ocallaghan"}, "is_accepted": false, "score": 0, "last_activity_date": 1573508976, "creation_date": 1573508976, "answer_id": 58809141, "question_id": 58738520, "link": "https://stackoverflow.com/questions/58738520/mongdb-not-storing-newest-document-at-end/58809141#58809141", "title": "MongDB not storing newest document at end", "body": "<p>I still don't know why it was storing the documents in the wrong order but I found a way to find and sort my query which solved the problem in the end. Here is my code that I used to do that:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    Comment.find({}).sort({timePosted:1}).exec( (err, comments) =&gt; {\n        if (err) { throw err; }\n        res.json(comments);\n    });\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11047629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QCW92.png?s=128&g=1", "display_name": "Cathal O&#39;Callaghan", "link": "https://stackoverflow.com/users/11047629/cathal-ocallaghan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1573508976, "creation_date": 1573074554, "question_id": 58738520, "link": "https://stackoverflow.com/questions/58738520/mongdb-not-storing-newest-document-at-end", "title": "MongDB not storing newest document at end", "body": "<p>I save comments for my webpage into MongoDB. Until now it's worked perfectly. As a new comment is saved it appends it to the bottom of the collection. Which means when its loading comments the newest is at the top of the feed which is perfect. Until I added a comment with 124 characters which was added to the end, but now ALL comments posted after are added in the 2nd last position. It now looks as if the 124 character comment is sticked at at the top. All comments under 124 characters don't cause any issues. The only fix is to delete the offending comment. The dates are all correct when posted.</p>\n\n<p>My schema is outlined below, I don't believe that it's the issue.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    var commentSchema = new Schema({\n        username: { type: String },\n        comment: { type: String },\n        timePosted: { type: Date, dafault: new Date() },\n        upVotes: { type: Number, default: 0 },\n        downVotes: { type: Number, default: 0 }\n    });\n\n</code></pre>\n\n<p>Here is a reduced version of how I POST the comment information to the DB.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>router.post('/addComment', function(req, res, next) {\n    comment = new Comment(req.body);\n    comment.comment = comment.comment.replace(/&lt;/g, \"&amp;lt;\").replace(/&gt;/g, \"&amp;gt;\");\n    comment.save(function(err, savedComment) {\n        if (err) { throw err; }\n        res.json(savedComment);\n    });\n});\n</code></pre>\n\n<p>Here are the last 3 entries into the collection.</p>\n\n<pre><code>/* 48 */\n{\n    \"_id\" : ObjectId(\"5dc33349673dc30ed49d53dc\"),\n    \"upVotes\" : 0,\n    \"downVotes\" : 0,\n    \"comment\" : \"unce unce unce\",\n    \"username\" : \"mcChicken\",\n    \"timePosted\" : ISODate(\"2019-11-06T20:55:37.955Z\"),\n    \"__v\" : 0\n}\n\n/* 49 */\n{\n    \"_id\" : ObjectId(\"5dc3334d673dc30ed49d53dd\"),\n    \"upVotes\" : 0,\n    \"downVotes\" : 0,\n    \"comment\" : \"yes\",\n    \"username\" : \"mcChicken\",\n    \"timePosted\" : ISODate(\"2019-11-06T20:55:41.927Z\"),\n    \"__v\" : 0\n}\n\n/* 50 */\n{\n    \"_id\" : ObjectId(\"5dc2e1dd7d13ba16effdeaa7\"),\n    \"upVotes\" : 0,\n    \"downVotes\" : 0,\n    \"comment\" : \"eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee\",\n    \"username\" : \"mcChicken\",\n    \"timePosted\" : ISODate(\"2019-11-06T15:08:13.237Z\"),\n    \"__v\" : 0\n}\n</code></pre>\n\n<p>I have tried googling in what order MongoDB saves documents in to no success. Any input is appreciated as I am completely lost as to what is causing this.</p>\n"}, {"tags": ["javascript", "java", "jquery", "spring", "spring-mvc"], "answers": [{"tags": [], "owner": {"reputation": 2263, "user_id": 863311, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3731c7120e30182ebf4f3fbb8609468a?s=128&d=identicon&r=PG", "display_name": "Simon", "link": "https://stackoverflow.com/users/863311/simon"}, "is_accepted": false, "score": 0, "last_activity_date": 1573112979, "creation_date": 1573112979, "answer_id": 58744153, "question_id": 58738482, "link": "https://stackoverflow.com/questions/58738482/how-can-i-set-the-post-path-in-javascript-jquery-with-java-spring/58744153#58744153", "title": "how can I set the post path in javascript jquery with java spring", "body": "<p>'/projectFolder' is most likely the application context you're deploying to. This can be set in your IDE, but best practice is to create a web-app without assuming a given context. So, change your call to</p>\n\n<pre><code>$.post('workbook/createWorkbook', {}, function(){\n</code></pre>\n\n<p>note not only the missing '/projectFolder', but also that the URL does not have a leading slash, ie. is relative to your HTML page's URL.</p>\n"}], "owner": {"reputation": 1686, "user_id": 5373515, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/520496e0d16bd041342ac497ce8bb6d6?s=128&d=identicon&r=PG&f=1", "display_name": "jayko03", "link": "https://stackoverflow.com/users/5373515/jayko03"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573112979, "creation_date": 1573074402, "question_id": 58738482, "link": "https://stackoverflow.com/questions/58738482/how-can-i-set-the-post-path-in-javascript-jquery-with-java-spring", "title": "how can I set the post path in javascript jquery with java spring", "body": "<p>I am working on the jquery code which has REST API call,</p>\n\n<p>In my javascript, <code>clicky.js</code></p>\n\n<pre><code>button.click(function (){\n  $.post('/projectFolder/workbook/createWorkbook', {}, function(){\n    // do somthing\n    }\n  ) ....\n</code></pre>\n\n<p>My spring project structure is,</p>\n\n<pre><code>projectFolder\n|- src\n    |-main\n       |-java\n       |   |-com.sample.workbook\n       |              |-controller\n       |              |-service\n       |                  |-WorkbookService\n       |                  |-WorkbookServiceImpl\n       |-webapp\n            |-package.json\n            |-clicky.js\n            |-index.html\n</code></pre>\n\n<p>My package.json </p>\n\n<p>I use <code>npm start</code> inside of webapp folder to launch it locally. </p>\n\n<p>In server side, it is working fine. However, when I debug it locally, I get 404 error that it cannot find projectFolder path.</p>\n\n<p>How can I set its path in javascript, so that I can debug locally?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["javascript", "html"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7654980, "user_type": "registered", "profile_image": "https://graph.facebook.com/1413246162059203/picture?type=large", "display_name": "Igor  Kuzmenko", "link": "https://stackoverflow.com/users/7654980/igor-kuzmenko"}, "edited": false, "score": 1, "creation_date": 1573074806, "post_id": 58738548, "comment_id": 103767111, "body": "I need +1 to 10 to be added gradually to the name"}, {"owner": {"reputation": 5410, "user_id": 11878069, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sIBGF.png?s=128&g=1", "display_name": "davidev", "link": "https://stackoverflow.com/users/11878069/davidev"}, "reply_to_user": {"reputation": 11, "user_id": 7654980, "user_type": "registered", "profile_image": "https://graph.facebook.com/1413246162059203/picture?type=large", "display_name": "Igor  Kuzmenko", "link": "https://stackoverflow.com/users/7654980/igor-kuzmenko"}, "edited": false, "score": 0, "creation_date": 1573074930, "post_id": 58738548, "comment_id": 103767152, "body": "I understand, picture will change to picture01? Then the other to 02 - which is the default picture of it?"}, {"owner": {"reputation": 11, "user_id": 7654980, "user_type": "registered", "profile_image": "https://graph.facebook.com/1413246162059203/picture?type=large", "display_name": "Igor  Kuzmenko", "link": "https://stackoverflow.com/users/7654980/igor-kuzmenko"}, "edited": false, "score": 0, "creation_date": 1573075218, "post_id": 58738548, "comment_id": 103767271, "body": "It was \t\t../images/picture01.jpg \tin Hover This block after 05 sec  \t\tchange 01.jpg to 02.jpg \tAfter 1 sec  \t\tchange 02.jpg to 03.jpg \tAfter 1.5 sec \t\tchange 03.jpg to 04.jpg \t.... \tAfter n sec \tchange 09.jpg to 10.jpg and again"}], "tags": [], "owner": {"reputation": 5410, "user_id": 11878069, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sIBGF.png?s=128&g=1", "display_name": "davidev", "link": "https://stackoverflow.com/users/11878069/davidev"}, "is_accepted": false, "score": 0, "last_activity_date": 1573074675, "creation_date": 1573074675, "answer_id": 58738548, "question_id": 58738481, "link": "https://stackoverflow.com/questions/58738481/how-change-image-namenum-on-hover-from-picture-to-picture01-picture1/58738548#58738548", "title": "How Change image name(num) on hover? from &quot;picture&quot; to &quot;picture01&quot; ... &quot;picture10&quot; .jpg", "body": "<p>You can track the hover with a mouse over event listener in js:</p>\n\n<pre><code>test.addEventListener(\"mouseover\", function( event ) {   \n  // change the src of the image here\n  img.src = \"file.png\";\n\n}, false);\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7654980, "user_type": "registered", "profile_image": "https://graph.facebook.com/1413246162059203/picture?type=large", "display_name": "Igor  Kuzmenko", "link": "https://stackoverflow.com/users/7654980/igor-kuzmenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573074675, "creation_date": 1573074400, "question_id": 58738481, "link": "https://stackoverflow.com/questions/58738481/how-change-image-namenum-on-hover-from-picture-to-picture01-picture1", "title": "How Change image name(num) on hover? from &quot;picture&quot; to &quot;picture01&quot; ... &quot;picture10&quot; .jpg", "body": "<p>How Change image name(num) on hover? from \"picture\" to \"picture01\" ... \"picture10\" .jpg\nOn an increasing basis, and if you remove the cursor, it resets to the original image, each block is independent</p>\n\n<pre><code>&lt;ul&gt;\n    &lt;li&gt;&lt;a href=\"#\"&gt;&lt;img src=\"images/001/picture.jpg\"&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=\"#\"&gt;&lt;img src=\"images/002/picture.jpg\"&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n"}, {"tags": ["javascript", "closures", "higher-order-functions"], "comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 3, "creation_date": 1573074437, "post_id": 58738463, "comment_id": 103766966, "body": "That <code>return m =&gt; m &gt; n</code> is (more or less) equal to <code>return function(m) { return m &gt; n; }</code>"}, {"owner": {"reputation": 469137, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1573074643, "post_id": 58738463, "comment_id": 103767045, "body": "<code>greaterThan</code> returns a function (<code>m =&gt; m &gt; n</code>). <code>greaterThan10</code> is said function; a function that takes one parameter <code>m</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1573074666, "post_id": 58738463, "comment_id": 103767054, "body": "The closure doesn&#39;t replace the function body, it just saves the scope where <code>n == 10</code>. Use <code>console.dir(greaterThan10)</code> and look in the <code>[[Scopes]]</code> property to see this."}, {"owner": {"reputation": 165, "user_id": 11794977, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WJD-Lkj4svE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfBK9xK2sUBc6LI-vp3q9tZ9YhavQ/photo.jpg?sz=128", "display_name": "onetap", "link": "https://stackoverflow.com/users/11794977/onetap"}, "edited": false, "score": 0, "creation_date": 1573074781, "post_id": 58738463, "comment_id": 103767106, "body": "thanks, I think the arrow function was throwing me off"}], "owner": {"reputation": 165, "user_id": 11794977, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WJD-Lkj4svE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfBK9xK2sUBc6LI-vp3q9tZ9YhavQ/photo.jpg?sz=128", "display_name": "onetap", "link": "https://stackoverflow.com/users/11794977/onetap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "closed_date": 1573074538, "answer_count": 0, "score": 1, "last_activity_date": 1573074536, "creation_date": 1573074313, "last_edit_date": 1573074536, "question_id": 58738463, "link": "https://stackoverflow.com/questions/58738463/higher-order-function-question-involving-closure", "closed_reason": "Duplicate", "title": "Higher order function question involving closure", "body": "<p>In chapter 5 of Eloquent Javascript (<a href=\"https://eloquentjavascript.net/05_higher_order.html\" rel=\"nofollow noreferrer\">https://eloquentjavascript.net/05_higher_order.html</a>) there is an example that I'm having a hard time wrapping my head around. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function greaterThan(n) {\r\n  return m =&gt; m &gt; n;\r\n}\r\nlet greaterThan10 = greaterThan(10);\r\nconsole.log(greaterThan10(11));\r\n// \u2192 true</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I get the initial call of the function and assigning <code>n</code> to 10. It's when it's called a second time I don't understand how <code>11</code> would get passed to the variable <code>m</code> (wouldn't the parameter still be <code>n</code>? I almost want to think it would overwrite <code>10</code> with <code>11</code>). </p>\n\n<p>When I do <code>alert(greaterThan10)</code> it shows <code>m =&gt; m &gt; n</code> which I was also confused as to why it wouldn't show <code>n</code> as <code>10</code>.</p>\n"}, {"tags": ["javascript", "html", "input", "addition"], "comments": [{"owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "edited": false, "score": 0, "creation_date": 1573074288, "post_id": 58738421, "comment_id": 103766912, "body": "Check the console - your code will be throwing an error because you mistyped (or misremembered) the <code>getElementById</code> method. And please post code as code, not as an image (let alone a link to an image)."}, {"owner": {"reputation": 1592, "user_id": 9211949, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pny8Y.png?s=128&g=1", "display_name": "CoderCharmander", "link": "https://stackoverflow.com/users/9211949/codercharmander"}, "edited": false, "score": 2, "creation_date": 1573074437, "post_id": 58738421, "comment_id": 103766967, "body": "1. There is no <code>getElementsById</code> method, because it is not meant to have two elements with the same id. There is only <code>getElementById</code>, and it returns one element (not an array). 2. <i>Please do not post your code as image</i>."}], "answers": [{"tags": [], "owner": {"reputation": 1194, "user_id": 2837277, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f92c7521589af5e8efb4d4b031d2538e?s=128&d=identicon&r=PG&f=1", "display_name": "King11", "link": "https://stackoverflow.com/users/2837277/king11"}, "is_accepted": true, "score": 2, "last_activity_date": 1573237200, "last_edit_date": 1573237200, "creation_date": 1573075310, "answer_id": 58738673, "question_id": 58738421, "link": "https://stackoverflow.com/questions/58738421/html-and-javascript-making-a-simple-addition-calculator/58738673#58738673", "title": "HTML and Javascript making a simple addition calculator", "body": "<p>First you should change <code>getElementsById()</code> to <code>getElementById()</code> because there is only one id per element.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"text\" id=\"box1\"&gt;&lt;br/&gt;\r\n&lt;input type=\"text\" id=\"box2\"&gt;&lt;br/&gt;\r\n&lt;input type=\"text\" id=\"+\"&gt;&lt;br/&gt;\r\n&lt;input type=\"button\" value=\"+\" onclick=\"calcSum()\"&gt;&lt;br/&gt;\r\n\r\n&lt;script&gt;\r\nfunction calcSum(){\r\nlet box1 = document.getElementById(\"box1\").value;\r\nlet box2 = document.getElementById(\"box2\").value;\r\nlet sum = Number(box1) + Number(box2);\r\ndocument.getElementById(\"+\").value = sum;\r\n}\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 33, "user_id": 12300316, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C8B1tlMn8tk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdov_eFGUcSFv5U1V1OMhoj6c7Zyg/photo.jpg?sz=128", "display_name": "Shawn Lee", "link": "https://stackoverflow.com/users/12300316/shawn-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1420, "favorite_count": 0, "accepted_answer_id": 58738673, "answer_count": 1, "score": 0, "last_activity_date": 1573237200, "creation_date": 1573074120, "last_edit_date": 1573075264, "question_id": 58738421, "link": "https://stackoverflow.com/questions/58738421/html-and-javascript-making-a-simple-addition-calculator", "title": "HTML and Javascript making a simple addition calculator", "body": "<p>I'm trying to make a simple addition calculator. You put two values into the boxes and click the \"+\" sign and the third box has the sum. However, it looks like everything is right to me but when I click the + sign nothing happens</p>\n\n<p><a href=\"https://i.stack.imgur.com/51Thl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/51Thl.png\" alt=\"Here is a picture of my code so far\"></a></p>\n"}, {"tags": ["javascript", "node.js", "aws-lambda", "auth0"], "answers": [{"comments": [{"owner": {"reputation": 1474, "user_id": 911553, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/518700582/picture?type=large", "display_name": "Tom Maton", "link": "https://stackoverflow.com/users/911553/tom-maton"}, "edited": false, "score": 0, "creation_date": 1573551931, "post_id": 58810168, "comment_id": 103909697, "body": "Hi Dan, do you have this running in an express server or something similar or in a lambda function? As I&#39;ve just done exactly the same and nothing has been console logged"}], "tags": [], "owner": {"reputation": 609, "user_id": 11267925, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-W7gVkK5pC4w/AAAAAAAAAAI/AAAAAAAAAA4/wFNTQGoZPRM/photo.jpg?sz=128", "display_name": "Dan Woda", "link": "https://stackoverflow.com/users/11267925/dan-woda"}, "is_accepted": false, "score": 0, "last_activity_date": 1573516284, "creation_date": 1573516284, "answer_id": 58810168, "question_id": 58738335, "link": "https://stackoverflow.com/questions/58738335/lambda-function-not-calling-auth0-methods-via-auth0-node-auth0-sdk/58810168#58810168", "title": "Lambda function not calling auth0 methods via Auth0 node-auth0 SDK", "body": "<p>I got it to work using this format:</p>\n\n<pre><code>auth0\n  .getUser(userId)\n  .then(function(users) {\n    console.log(users);\n  })\n  .catch(function(err) {\n    console.log(err);\n  });\n</code></pre>\n"}], "owner": {"reputation": 1474, "user_id": 911553, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/518700582/picture?type=large", "display_name": "Tom Maton", "link": "https://stackoverflow.com/users/911553/tom-maton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573516284, "creation_date": 1573073687, "question_id": 58738335, "link": "https://stackoverflow.com/questions/58738335/lambda-function-not-calling-auth0-methods-via-auth0-node-auth0-sdk", "title": "Lambda function not calling auth0 methods via Auth0 node-auth0 SDK", "body": "<p>I've got a lambda function which is triggered when a message is added to the SQS queue.</p>\n\n<p>The message contains a userId which I was hoping to connect to <a href=\"https://github.com/auth0/node-auth0#management-api-client\" rel=\"nofollow noreferrer\">Auth0 node SDK</a>.</p>\n\n<p>my <code>GetUserDetails</code> (below) fires as the <code>console.log</code> is viewable in CloudWatch</p>\n\n<p>I can see in the Auth0 logs that a token request is made from the <code>new ManagementClient</code> call but then nothing after that.</p>\n\n<p>example of my code</p>\n\n<pre><code>import { ManagementClient } from 'auth0';\n\nconst auth0 = new ManagementClient({\n  domain: 'xxx.auth0.com',\n  clientId: 'xxx',\n  clientSecret: 'xxx',\n  scope: 'read:users update:users',\n});\n\nconst GetUserDetails = userId =&gt; {\n  console.log('userId', userId); &lt;-- This fires and can be seen in CloudWatch\n\n  auth0.getUser({ id: userId }, (err, resp) =&gt; { &lt;-- Nothing happens no errors, no user details\n    if (err) {\n      console.log('my error', err);\n      return err.message;\n    }\n    console.log(resp);\n    return resp;\n  });\n};\n\n</code></pre>\n"}, {"tags": ["javascript", "html", "html-lists"], "answers": [{"tags": [], "owner": {"reputation": 277, "user_id": 12333471, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0GUgTX35bXk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcPE6shKp3Tyo7oRqAn7vjm1PXZBA/photo.jpg?sz=128", "display_name": "Viktor Garba", "link": "https://stackoverflow.com/users/12333471/viktor-garba"}, "is_accepted": false, "score": 0, "last_activity_date": 1573073829, "creation_date": 1573073829, "answer_id": 58738353, "question_id": 58738304, "link": "https://stackoverflow.com/questions/58738304/how-to-target-li-within-ul-without-using-ids/58738353#58738353", "title": "How to target li within ul without using IDs?", "body": "<p>document.getElementsByTagName(\"LI\")</p>\n\n<p>This will return you a list of all the li tags. Loop over that list, select by index, do whatever you want with it. </p>\n\n<p>Since you have no other li in the body you don't really need to worry about any special selectors</p>\n\n<p>\"li:last-of-type\" isn't correct but getElementsByTagName is only looking to accept a tag name to look for. Not any special sudo classes</p>\n"}, {"tags": [], "owner": {"reputation": 1335, "user_id": 5190086, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/H1ZZq.jpg?s=128&g=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/5190086/josh"}, "is_accepted": true, "score": 1, "last_activity_date": 1573073840, "creation_date": 1573073840, "answer_id": 58738355, "question_id": 58738304, "link": "https://stackoverflow.com/questions/58738304/how-to-target-li-within-ul-without-using-ids/58738355#58738355", "title": "How to target li within ul without using IDs?", "body": "<p>Since you know you have two <code>li</code>'s insides of <code>.pagination</code>, you can use <code>document.querySelectorAll</code>, which returns an array of elements. Simply target the index of the element in the array. Example:</p>\n\n<pre><code>let navButtons = document.querySelectorAll('.pagination li');\nlet prevButton = navButtons[0];\nlet nextButton = navButtons[1];\n\nprevButton.addEventListener('click', (event) =&gt; {\n\n});\n\nnextButton.addEventListener('click', (event) =&gt; {\n\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 685, "user_id": 5385135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r9D6X.jpg?s=128&g=1", "display_name": "Bahador Raghibizadeh", "link": "https://stackoverflow.com/users/5385135/bahador-raghibizadeh"}, "is_accepted": false, "score": 0, "last_activity_date": 1573074092, "creation_date": 1573074092, "answer_id": 58738414, "question_id": 58738304, "link": "https://stackoverflow.com/questions/58738304/how-to-target-li-within-ul-without-using-ids/58738414#58738414", "title": "How to target li within ul without using IDs?", "body": "<p>try it: </p>\n\n<pre><code>let nextButton = document.getElementsByClassName(\"pagination\")[0].children[0]\nlet prevButton = document.getElementsByClassName(\"pagination\")[0].children[1]\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 10915087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e6cceb2f3a1276a0b333a8685e3430c?s=128&d=identicon&r=PG&f=1", "display_name": "skyvale", "link": "https://stackoverflow.com/users/10915087/skyvale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 58738355, "answer_count": 3, "score": 1, "last_activity_date": 1573074092, "creation_date": 1573073536, "question_id": 58738304, "link": "https://stackoverflow.com/questions/58738304/how-to-target-li-within-ul-without-using-ids", "title": "How to target li within ul without using IDs?", "body": "<p>I'm trying to attach eventListeners to each of these li within a ul of my HTML. This is for a homework assignment, so I cannot alter the HTML at all. Here is my HTML, the li I am trying to alter are the two buttons within the ul class 'pagination':</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>    &lt;body&gt;\n\n        &lt;!-- Gallery HTML --&gt;\n        &lt;section id=\"gallery\"&gt;\n\n            &lt;h2&gt;Image &lt;strong&gt;Gallery&lt;/strong&gt;&lt;/h2&gt;\n\n            &lt;!-- Gallery Image &amp; Details --&gt;\n            &lt;article&gt;\n                &lt;p&gt;&lt;img \n                    src=\"images/winter.jpg\" \n                    alt=\"Winter Landscape: Snow covered mountains\"&gt;\n                &lt;/p&gt;            \n                &lt;h3&gt;Image Caption&lt;/h3&gt;\n                &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit.&lt;/p&gt;\n            &lt;/article&gt;\n\n            &lt;!-- Thumbnail Pagination --&gt;\n            &lt;ul class=\"pagination\"&gt;\n                &lt;li&gt;&lt;button&gt;previous&lt;/button&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;button&gt;next&lt;/button&gt;&lt;/li&gt;\n            &lt;/ul&gt;\n\n        &lt;/section&gt;\n\n        &lt;!-- Javascript --&gt;\n        &lt;script src=\"js/gallery.js\"&gt;&lt;/script&gt;\n\n    &lt;/body&gt;\n</code></pre>\n\n<p>I tried this in my JavaScript:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let nextButton = pageSection.getElementsByTagName('li:first-of-type');\nlet prevButton = pageSection.getElementsByTagName('li:last-of-type');\n</code></pre>\n\n<p>However, if I console.log(nextButton) or console.log(prevButton), they both return as HTMLcollection [] within the browser console. I'm not sure if it is targeting it right.</p>\n\n<p>Here is an example of the eventListener:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>nextButton.addEventListener(\"click\", function changeImageNext(){\n\n            for (i = 0; i &lt; templateArray.length; i++){\n                // console.log(articles[i]+ \" \" + i);\n\n                activeArticle = articles.length[i + 1];\n\n                // inserts the updated html into the html file\n                galleryHeading.insertAdjacentHTML('afterend',templateArray[i]);\n\n            }\n        });\n</code></pre>\n\n<p>But it returns as this error within the browser:\n<strong>Uncaught TypeError: nextButton.addEventListener is not a function</strong></p>\n\n<p>I just started learning JavaScript and HTML this week, so I'm not well-versed yet. Also, I cannot use JQuery or any kind of frameworks!</p>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["javascript", "three.js"], "comments": [{"owner": {"reputation": 6277, "user_id": 3889100, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/mhI6k.png?s=128&g=1", "display_name": "TheJim01", "link": "https://stackoverflow.com/users/3889100/thejim01"}, "edited": false, "score": 1, "creation_date": 1573076664, "post_id": 58738273, "comment_id": 103767740, "body": "Take a look at <a href=\"https://threejs.org/docs/#api/en/core/Object3D.localToWorld\" rel=\"nofollow noreferrer\"><code>Object3D.localToWorld</code></a> and <a href=\"https://threejs.org/docs/#api/en/core/Object3D.worldToLocal\" rel=\"nofollow noreferrer\"><code>Object3D.worldToLocal</code></a>. These functions can (destructively) convert a <code>Vector3</code> from one coordinate system to the other."}, {"owner": {"reputation": 11, "user_id": 12096369, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAlyR_eI3jzlXEQwbsphg6SOLgbjVn5zAAFQClIkQ=k-s128", "display_name": "Marko Tomovic", "link": "https://stackoverflow.com/users/12096369/marko-tomovic"}, "reply_to_user": {"reputation": 6277, "user_id": 3889100, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/mhI6k.png?s=128&g=1", "display_name": "TheJim01", "link": "https://stackoverflow.com/users/3889100/thejim01"}, "edited": false, "score": 0, "creation_date": 1573763805, "post_id": 58738273, "comment_id": 104001629, "body": "Thanks TheJim01. I tried your suggestion but it works only with Object3D elements. I cant do it without using Object3D. Or, I misunderstood something. So if I have code:     let element2 =   element1.localToWorld (new THREE.Vector3())                                     and if element1 is vector it gives error : Uncaught TypeError: element1.localToWorld is not a function. But if element1 is Object3D it works."}, {"owner": {"reputation": 6277, "user_id": 3889100, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/mhI6k.png?s=128&g=1", "display_name": "TheJim01", "link": "https://stackoverflow.com/users/3889100/thejim01"}, "edited": false, "score": 0, "creation_date": 1573766318, "post_id": 58738273, "comment_id": 104002652, "body": "This is getting pretty deep, but practically every object in your scene is based on <code>Object3D</code>, and has two matrices (<code>matrix</code> and <code>matrixWorld</code>) that define its orientation in local and world space, respectively. To convert a <code>Vector3</code> from one space to the other, you need to do it relative to an object that represents the local space. For example, consider a <code>Mesh</code> at <code>(0, 5, 0)</code>. If you have a <code>Vector3</code> defined <code>(0, 5, 0)</code> and do: <code>myMesh.localToWorld(vec);</code>, then the <code>Vector3</code>&#39;s new value will be <code>(0, 10, 0)</code>. It works the same in reverse with <code>worldToLocal</code>. Does that make sense?"}, {"owner": {"reputation": 11, "user_id": 12096369, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAlyR_eI3jzlXEQwbsphg6SOLgbjVn5zAAFQClIkQ=k-s128", "display_name": "Marko Tomovic", "link": "https://stackoverflow.com/users/12096369/marko-tomovic"}, "reply_to_user": {"reputation": 6277, "user_id": 3889100, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/mhI6k.png?s=128&g=1", "display_name": "TheJim01", "link": "https://stackoverflow.com/users/3889100/thejim01"}, "edited": false, "score": 0, "creation_date": 1573769676, "post_id": 58738273, "comment_id": 104003971, "body": "thank you one more time TheJim01 . Now I get what you mean, with your example. Also, I tried matrix and matrixWorld, to get Object3D coordinates, and I succeed . Thanks !"}], "owner": {"reputation": 11, "user_id": 12096369, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAlyR_eI3jzlXEQwbsphg6SOLgbjVn5zAAFQClIkQ=k-s128", "display_name": "Marko Tomovic", "link": "https://stackoverflow.com/users/12096369/marko-tomovic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 486, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1573073392, "creation_date": 1573073392, "question_id": 58738273, "link": "https://stackoverflow.com/questions/58738273/local-to-global-and-vice-versa-matrix-transformation-of-point-in-three-js", "title": "Local to global (and vice versa) matrix transformation of point in three.js", "body": "<p>|Hi there. I have a problem with coordinate transformations from local to global coordinate system using javascript and three.js.</p>\n\n<p>So to make problem simple, here is what i have.</p>\n\n<p>I have locale coordinate system, translated and rotated in global space. Now, i want to draw a line in that locale system \n( using\n  let lineGeometry = new THREE.BufferGeometry();\n  lineGeometry.addAttribute( 'position', new THREE.Float32BufferAttribute( points, 3 ) );\n  let material = new THREE.LineBasicMaterial( { color: 0x293A45,opacity: 0.9,linewidth: 1 } );\n  let line = new THREE.Line( lineGeometry, material););\n)</p>\n\n<p>line consist of four points.\nfor first two points of line, say point 1 and 2, I can calculate positions in locale system, but for other two points, say 3 and 4, I need to calculate position in global system. For point 3 i calculate position like global position of point 1 (global coordinates of point 1) and then add x,y,z additions. For point 4 i calculate position like global position of point 2 (global coordinates of point 2) and then add x,y,z additions.</p>\n\n<p>Is there any way to recalculate points coordinates from local to global coordinate system ?</p>\n\n<p>I tried to do that using matrixWorld.elements[12] , [13], and [14] comand, but that only works when i create new THREE.Object3D() and place it in the position of points 1 and 2. Then I can use matrixWorld.elements command. But that solution have 2 problems. First one is I put more load on processor by adding new objects, and second one is matrixWorld.elements command need 5 mili seconds calculate world coordinates of 3d objects, so i have to put setTimeout function, to continue to draw line after matrix is updated.</p>\n\n<p>Also tried to create THREE.Vector3( 5, 0, 0 ) and to transform it, but didnt work.</p>\n\n<p>So, one more time question is, is there any way to have point coordinates (x,y,z) in locale system, and then transform it to the (X,Y,Z) coordinates in global system ?</p>\n\n<p>If anyone have some idea, ill be very happy, and thankful.</p>\n\n<p>Sincerely yours,\nMarko.</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 6142, "user_id": 8732818, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WopVT.jpg?s=128&g=1", "display_name": "Calvin Nunes", "link": "https://stackoverflow.com/users/8732818/calvin-nunes"}, "edited": false, "score": 1, "creation_date": 1573073217, "post_id": 58738215, "comment_id": 103766493, "body": "Can you give some examples of the desired output? For now, I didn&#39;t understand what you are trying to achieve here"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 2, "creation_date": 1573073304, "post_id": 58738215, "comment_id": 103766524, "body": "if you&#39;re new to javascript, it&#39;s worth reading through a few <i>modern</i> tutorials, because the code you&#39;re showing might have been okay a decade ago, but is kind of bad as modern HTML/JS. Don&#39;t use inline js like <code>onclick</code>, get your elements and then <code>addEventListener</code> whatever it needs - also, unless it&#39;s a true link, don&#39;t use <code>&lt;a&gt;</code>, use <code>&lt;button&gt;</code> because that&#39;s what it is, and then use CSS to style that however it needs to look. Also, say what kind of variable you&#39;re using. <code>var</code>? <code>let</code>? <code>const</code>? etc."}, {"owner": {"reputation": 151, "user_id": 7947125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c271J.jpg?s=128&g=1", "display_name": "Berry Holmes", "link": "https://stackoverflow.com/users/7947125/berry-holmes"}, "reply_to_user": {"reputation": 6142, "user_id": 8732818, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WopVT.jpg?s=128&g=1", "display_name": "Calvin Nunes", "link": "https://stackoverflow.com/users/8732818/calvin-nunes"}, "edited": false, "score": 0, "creation_date": 1573073333, "post_id": 58738215, "comment_id": 103766531, "body": "@CalvinNunes When someone clicks on the link to Generate QR, it should append the URL of the page the user&#39;s on to &quot;<a href=\"https://api.qrserver.com/v1/create-qr-code/?size=150x150&amp;data=\" rel=\"nofollow noreferrer\">api.qrserver.com/v1/create-qr-code/?size=150x150&amp;data=</a>&quot;. Similarly, when someone clicks on the link to Share on WhatsApp, it should do it for &quot;whatsapp://send?text=&quot;"}, {"owner": {"reputation": 151, "user_id": 7947125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c271J.jpg?s=128&g=1", "display_name": "Berry Holmes", "link": "https://stackoverflow.com/users/7947125/berry-holmes"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1573073405, "post_id": 58738215, "comment_id": 103766568, "body": "@Mike&#39;Pomax&#39;Kamermans is it because I&#39;m using &lt;a&gt; to call JavaScript? Because I&#39;ve heard it&#39;s frowned upon."}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 1, "creation_date": 1573073537, "post_id": 58738215, "comment_id": 103766613, "body": "It&#39;s because of so many things. You also don&#39;t have a <code>&lt;!doctype html&gt;</code> at the top to indicate this is true HTML5, you&#39;re missing a charset meta and a title, all that JS should be in its own file so you can load it with <code>&lt;script src=&quot;...&quot; defer&gt;&lt;&#47;script&gt;</code>, etc. -- it just looks like the kind of HTML/JS that highly outdated tutorials/books would teach you to use."}, {"owner": {"reputation": 151, "user_id": 7947125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c271J.jpg?s=128&g=1", "display_name": "Berry Holmes", "link": "https://stackoverflow.com/users/7947125/berry-holmes"}, "edited": false, "score": 0, "creation_date": 1573073668, "post_id": 58738215, "comment_id": 103766676, "body": "I&#39;m trying to achieve this: <a href=\"https://stackoverflow.com/questions/34145408/insert-current-url-into-a-link-using-js-and-html\" title=\"insert current url into a link using js and html\">stackoverflow.com/questions/34145408/&hellip;</a>, only with two links this time."}], "answers": [{"tags": [], "owner": {"reputation": 211, "user_id": 6326743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VjeOl.jpg?s=128&g=1", "display_name": "Eric Gibby", "link": "https://stackoverflow.com/users/6326743/eric-gibby"}, "is_accepted": true, "score": 2, "last_activity_date": 1573076507, "creation_date": 1573076507, "answer_id": 58738916, "question_id": 58738215, "link": "https://stackoverflow.com/questions/58738215/calling-different-javascript-functions/58738916#58738916", "title": "Calling different JavaScript functions", "body": "<p>The problem is due to the scope of the <code>baseurl</code> variable. It's being declared as a global variable, which means in your first script tag it gets set with the initial value, then in the second script tag it gets set to a new value. Both of those scripts are executed when the page loads, so it's pretty much immediately setting <code>baseurl</code> equal to the second value.</p>\n\n<p>I would recommend reading more about variable scoping (<a href=\"https://developer.mozilla.org/en-US/docs/Glossary/Scope\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Glossary/Scope</a>) and closures (<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures</a>) to better understand the issue.</p>\n\n<p>To fix it, you can either use a different variable name for the second instance of <code>baseurl</code> (something like <code>baseurl1</code>, maybe), or move the variable declarations inside the function declarations to wrap them inside those closures.</p>\n\n<p>Something like this should work:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!-- QR API generator call --&gt;\n&lt;script&gt;    \n    function buildQR(item) {\n        var baseurl=\"https://api.qrserver.com/v1/create-qr-code/?size=150x150&amp;data=\";\n\n        item.href=baseurl+window.location.href;\n        return true;\n    }\n&lt;/script&gt;\n&lt;!-- Sharing append link via JavaScript --&gt;\n&lt;script&gt;\n    function buildURL(item) {\n        var baseurl=\"whatsapp://send?text=\";\n\n        item.href=baseurl+window.location.href;\n        return true;\n    }\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 7947125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c271J.jpg?s=128&g=1", "display_name": "Berry Holmes", "link": "https://stackoverflow.com/users/7947125/berry-holmes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 58738916, "answer_count": 1, "score": 0, "last_activity_date": 1573076507, "creation_date": 1573073075, "last_edit_date": 1573075333, "question_id": 58738215, "link": "https://stackoverflow.com/questions/58738215/calling-different-javascript-functions", "title": "Calling different JavaScript functions", "body": "<p>Sorry, if this is a stupid question, I'm new to JavaScript. I'm trying to create links which will automatically update according to the page you're on. It worked fine when I just had one of them, but apparently, the first link also gives me the same output as the first one. Here's what I'm trying to achieve: </p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;!-- QR API generator call --&gt;\n  &lt;script&gt;\n    baseurl=\"https://api.qrserver.com/v1/create-qr-code/?size=150x150&amp;data=\"\n    function buildQR(item)\n    {\n        item.href=baseurl+window.location.href;\n        return true;\n    }\n    &lt;/script&gt;\n  &lt;!-- Sharing append link via JavaScript --&gt;\n  &lt;script&gt;\n  baseurl=\"whatsapp://send?text=\"\n  function buildURL(item)\n  {\n      item.href=baseurl+window.location.href;\n      return true;\n  }\n  &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;a onclick=\"return buildQR(this)\" href=\"\"&gt;Generate QR&lt;/a&gt;\n&lt;a onclick=\"return buildURL(this)\" href=\"\" data-action=\"share/whatsapp/share\"&gt;Share on WhatsApp&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Thanks for helping me out.</p>\n\n<p><strong>P.S.</strong> I'm trying to achieve <a href=\"https://stackoverflow.com/a/34145738/7947125\">this</a>, but with two links this time.</p>\n"}, {"tags": ["javascript", "node.js", "json"], "answers": [{"comments": [{"owner": {"reputation": 333, "user_id": 4010173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12d16e711901f2776038e318e171f5e9?s=128&d=identicon&r=PG&f=1", "display_name": "Ihor", "link": "https://stackoverflow.com/users/4010173/ihor"}, "edited": false, "score": 0, "creation_date": 1573073618, "post_id": 58738285, "comment_id": 103766651, "body": "agh... I wish StackOverflow will let you know that someone answered while I&#39;m typing my answer..."}, {"owner": {"reputation": 2297, "user_id": 1584421, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/861a1c1bd5ff555943f3695a9e131dbd?s=128&d=identicon&r=PG", "display_name": "user1584421", "link": "https://stackoverflow.com/users/1584421/user1584421"}, "edited": false, "score": 0, "creation_date": 1573074860, "post_id": 58738285, "comment_id": 103767127, "body": "Thanks but oi got this error: &quot; await is only valid in async function&quot;"}, {"owner": {"reputation": 1927, "user_id": 3125339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJoVN.png?s=128&g=1", "display_name": "MEDZ", "link": "https://stackoverflow.com/users/3125339/medz"}, "edited": false, "score": 1, "creation_date": 1573075826, "post_id": 58738285, "comment_id": 103767472, "body": "As i said in the answer,  you should add async in the function declaration."}, {"owner": {"reputation": 1927, "user_id": 3125339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJoVN.png?s=128&g=1", "display_name": "MEDZ", "link": "https://stackoverflow.com/users/3125339/medz"}, "edited": false, "score": 1, "creation_date": 1573075876, "post_id": 58738285, "comment_id": 103767486, "body": "Example: <code>const testFunction = async function(){ &#47;&#47;use await here}</code>"}], "tags": [], "owner": {"reputation": 1927, "user_id": 3125339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NJoVN.png?s=128&g=1", "display_name": "MEDZ", "link": "https://stackoverflow.com/users/3125339/medz"}, "is_accepted": false, "score": 1, "last_activity_date": 1573075984, "last_edit_date": 1573075984, "creation_date": 1573073453, "answer_id": 58738285, "question_id": 58738186, "link": "https://stackoverflow.com/questions/58738186/assigning-data-that-get-returned-from-a-package-to-a-variable/58738285#58738285", "title": "Assigning data that get returned from a package to a variable", "body": "<p>If <code>myPackage.internal_func(parameter)</code> returns a promise then you need to either use <a href=\"https://www.npmjs.com/package/async\" rel=\"nofollow noreferrer\">async/await</a> or chain the function with then().</p>\n\n<p>Using Then()</p>\n\n<pre><code>const myPackage = require('myPackage');\nmyPackage.internal_func(parameter).then(data =&gt; {\n   console.log(data.a);\n});\n</code></pre>\n\n<p>Using async/await</p>\n\n<pre><code>const async = require('async');\nconst myPackage = require('myPackage');\nconst testFunction = async function(){\n  var data = await myPackage.internal_func(parameter);\n  console.log(data.a);\n}\n</code></pre>\n\n<p>If you are using this code within a function do not forget to include async in the function declaration.</p>\n"}, {"tags": [], "owner": {"reputation": 333, "user_id": 4010173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12d16e711901f2776038e318e171f5e9?s=128&d=identicon&r=PG&f=1", "display_name": "Ihor", "link": "https://stackoverflow.com/users/4010173/ihor"}, "is_accepted": false, "score": 1, "last_activity_date": 1573073548, "creation_date": 1573073548, "answer_id": 58738308, "question_id": 58738186, "link": "https://stackoverflow.com/questions/58738186/assigning-data-that-get-returned-from-a-package-to-a-variable/58738308#58738308", "title": "Assigning data that get returned from a package to a variable", "body": "<p>Looks like in your example <code>internal_func</code> returns a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\" rel=\"nofollow noreferrer\">Promise</a>, that's why it doesn't have an <code>a</code> property. </p>\n\n<p>Here a few options:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Async/await\r\n(async function(){\r\n  const parameter = {}; //some param\r\n  const myPackage = require('myPackage');\r\n  const { a } = await myPackage.internal_func(parameter);\r\n  console.log(a);\r\n})();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Thenable\r\nconst parameter = {}; //some param\r\nconst myPackage = require('myPackage');\r\nmyPackage.internal_func(parameter).then(({a})=&gt;{\r\n  // you can use variable a in the code below\r\n  console.log(a);\r\n  \r\n  // some code...\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2297, "user_id": 1584421, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/861a1c1bd5ff555943f3695a9e131dbd?s=128&d=identicon&r=PG", "display_name": "user1584421", "link": "https://stackoverflow.com/users/1584421/user1584421"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1573075984, "creation_date": 1573072879, "last_edit_date": 1573072991, "question_id": 58738186, "link": "https://stackoverflow.com/questions/58738186/assigning-data-that-get-returned-from-a-package-to-a-variable", "title": "Assigning data that get returned from a package to a variable", "body": "<p>Let's say I have this working code:</p>\n\n<pre><code>const myPackage = require('myPackage');\nmyPackage.internal_func(parameter).then(console.log);\n</code></pre>\n\n<p>This returns a JSON, let's say:</p>\n\n<pre><code>{\n    a: 'valA',\n    b: 'valB'\n}\n</code></pre>\n\n<p>What if I want only the value of <code>a</code> to be assigned to a variable?</p>\n\n<p>I tried this:</p>\n\n<pre><code>const myPackage = require('myPackage');\nvar data = myPackage.internal_func(parameter).a;\nconsole.log(data);\n</code></pre>\n\n<p>Unfortunately, this returns:</p>\n\n<pre><code>undefined\n</code></pre>\n"}, {"tags": ["javascript", "webrtc", "tensorflow.js", "face-api"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 12332901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/946e0acf3fcd72d306e0ecb5bc7c8205?s=128&d=identicon&r=PG&f=1", "display_name": "luckluckluck", "link": "https://stackoverflow.com/users/12332901/luckluckluck"}, "edited": false, "score": 0, "creation_date": 1573151204, "post_id": 58753726, "comment_id": 103797526, "body": "I didnt know that i need to release memory using  tensor, thx, your answer is very useful))"}], "tags": [], "owner": {"reputation": 186, "user_id": 8644236, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wcHwXnvnQ2A/AAAAAAAAAAI/AAAAAAAAAwM/UhMOKPi7uS4/photo.jpg?sz=128", "display_name": "Mike Vargas", "link": "https://stackoverflow.com/users/8644236/mike-vargas"}, "is_accepted": true, "score": 1, "last_activity_date": 1573146170, "creation_date": 1573146170, "answer_id": 58753726, "question_id": 58738178, "link": "https://stackoverflow.com/questions/58738178/need-recomendation-about-code-because-it-kill-my-programm/58753726#58753726", "title": "Need recomendation about code, because it kill my programm", "body": "<p>i working with faceapi.js and tensorflow.js during this year, I tested your code and its ok, but increased my RAM to 2GB in less one minute, you have a memory leak, when use a Tensor do you should release memory? How do you do?</p>\n\n<p>However you should use --inspect arg in node <a href=\"https://dzone.com/articles/eradicating-memory-leaks-in-javascript\" rel=\"nofollow noreferrer\">to inspect memory leak </a></p>\n\n<p>Only call:</p>\n\n<pre><code>  frameTensor3D.dispose();\n</code></pre>\n\n<p>I refactoring your code and share with you, i hope help you:</p>\n\n<pre><code>    \"use strict\";\n\nrequire(\"@tensorflow/tfjs-node\");\nconst tf = require(\"@tensorflow/tfjs\");\nconst nodeFetch = require(\"node-fetch\");\nconst fapi = require(\"face-api.js\");\nconst path = require(\"path\");\nconst { createCanvas, createImageData } = require(\"canvas\");\nconst {\n  RTCVideoSink,\n  RTCVideoSource,\n  i420ToRgba,\n  rgbaToI420\n} = require(\"wrtc\").nonstandard;\n\nfapi.env.monkeyPatch({ fetch: nodeFetch });\nconst MODELS_URL = path.join(__dirname, \"/weights\");\n\nconst width = 640;\nconst height = 480;\n\nPromise.all([\n  fapi.nets.tinyFaceDetector.loadFromDisk(MODELS_URL),\n  fapi.nets.faceLandmark68Net.loadFromDisk(MODELS_URL),\n  fapi.nets.faceRecognitionNet.loadFromDisk(MODELS_URL),\n  fapi.nets.faceExpressionNet.loadFromDisk(MODELS_URL)\n]);\n\nfunction beforeOffer(peerConnection) {\n  const source = new RTCVideoSource();\n  const track = source.createTrack();\n  const transceiver = peerConnection.addTransceiver(track);\n  const sink = new RTCVideoSink(transceiver.receiver.track);\n\n  let lastFrame = null;\n\n  function onFrame({ frame }) {\n    lastFrame = frame;\n  }\n\n  sink.addEventListener(\"frame\", onFrame);\n\n  // TODO(mroberts): Is pixelFormat really necessary?\n  const canvas = createCanvas(width, height);\n  const context = canvas.getContext(\"2d\", { pixelFormat: \"RGBA24\" });\n  context.fillStyle = \"white\";\n  context.fillRect(0, 0, width, height);\n  const emotionsArr = {\n    0: \"neutral\",\n    1: \"happy\",\n    2: \"sad\",\n    3: \"angry\",\n    4: \"fearful\",\n    5: \"disgusted\",\n    6: \"surprised\"\n  };\n  async function detectEmotion(lastFrameCanvas) {\n    const frameTensor3D = tf.browser.fromPixels(lastFrameCanvas);\n    const face = await fapi\n      .detectSingleFace(\n        frameTensor3D,\n        new fapi.TinyFaceDetectorOptions({ inputSize: 160 })\n      )\n      .withFaceExpressions();\n    //console.log(face);\n    const emo = getEmotion(face);\n    frameTensor3D.dispose();\n    return emo;\n  }\n  function getEmotion(face) {\n    try {\n      let mostLikelyEmotion = emotionsArr[0];\n      let predictionArruracy = face.expressions[emotionsArr[0]];\n\n      for (let i = 0; i &lt; Object.keys(face.expressions).length; i++) {\n        if (\n          face.expressions[emotionsArr[i]] &gt; predictionArruracy &amp;&amp;\n          face.expressions[emotionsArr[i]] &lt; 1\n        ) {\n          mostLikelyEmotion = emotionsArr[i];\n          predictionArruracy = face.expressions[emotionsArr[i]];\n        }\n      }\n      //console.log(mostLikelyEmotion);\n      return mostLikelyEmotion;\n    } catch (e) {\n      return \"\";\n    }\n  }\n  let emotion = \"\";\n  const interval = setInterval(() =&gt; {\n    if (lastFrame) {\n      const lastFrameCanvas = createCanvas(lastFrame.width, lastFrame.height);\n      const lastFrameContext = lastFrameCanvas.getContext(\"2d\", {\n        pixelFormat: \"RGBA24\"\n      });\n\n      const rgba = new Uint8ClampedArray(\n        lastFrame.width * lastFrame.height * 4\n      );\n      const rgbaFrame = createImageData(\n        rgba,\n        lastFrame.width,\n        lastFrame.height\n      );\n      i420ToRgba(lastFrame, rgbaFrame);\n\n      lastFrameContext.putImageData(rgbaFrame, 0, 0);\n      context.drawImage(lastFrameCanvas, 0, 0);\n\n      detectEmotion(lastFrameCanvas).then(function(res) {\n        emotion = res;\n      });\n    } else {\n      context.fillStyle = \"rgba(255, 255, 255, 0.025)\";\n      context.fillRect(0, 0, width, height);\n    }\n\n    if (emotion != \"\") {\n      context.font = \"60px Sans-serif\";\n      context.strokeStyle = \"black\";\n      context.lineWidth = 1;\n      context.fillStyle = `rgba(${Math.round(255)}, ${Math.round(\n        255\n      )}, ${Math.round(255)}, 1)`;\n      context.textAlign = \"center\";\n      context.save();\n      context.translate(width / 2, height);\n      context.strokeText(emotion, 0, 0);\n      context.fillText(emotion, 0, 0);\n      context.restore();\n    }\n\n    const rgbaFrame = context.getImageData(0, 0, width, height);\n    const i420Frame = {\n      width,\n      height,\n      data: new Uint8ClampedArray(1.5 * width * height)\n    };\n    rgbaToI420(rgbaFrame, i420Frame);\n    source.onFrame(i420Frame);\n  });\n\n  const { close } = peerConnection;\n  peerConnection.close = function() {\n    clearInterval(interval);\n    sink.stop();\n    track.stop();\n    return close.apply(this, arguments);\n  };\n}\n\nmodule.exports = { beforeOffer };\n</code></pre>\n\n<p>Sorry my English, good luck</p>\n"}], "owner": {"reputation": 15, "user_id": 12332901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/946e0acf3fcd72d306e0ecb5bc7c8205?s=128&d=identicon&r=PG&f=1", "display_name": "luckluckluck", "link": "https://stackoverflow.com/users/12332901/luckluckluck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 379, "favorite_count": 0, "accepted_answer_id": 58753726, "answer_count": 1, "score": 1, "last_activity_date": 1573146170, "creation_date": 1573072838, "question_id": 58738178, "link": "https://stackoverflow.com/questions/58738178/need-recomendation-about-code-because-it-kill-my-programm", "title": "Need recomendation about code, because it kill my programm", "body": "<p>)\nSo let it start. I want to realize next idea: i want to connect with some other user on different computer using webrtc(exchange video and audio data) and then recignize his emotions. So in this project i use <a href=\"https://github.com/node-webrtc/node-webrtc\" rel=\"nofollow noreferrer\">node-webrtc addon</a>(here is <a href=\"https://github.com/node-webrtc/node-webrtc-examples\" rel=\"nofollow noreferrer\">examples</a>). So i`ve downloaded examples and tested video-compositing example and all works fine.\n<a href=\"https://i.stack.imgur.com/oUYxG.png\" rel=\"nofollow noreferrer\">Here is result of testing</a></p>\n\n<p>The next part is to i recognize face emotions. For this task i use <a href=\"https://github.com/justadudewhohacks/face-api.js/\" rel=\"nofollow noreferrer\">face-api.js</a>. I have tested this <a href=\"https://www.youtube.com/watch?v=AZ4PdALMqx0\" rel=\"nofollow noreferrer\">nice video</a>. I will not attach photo, because now im using ubuntu, but tested it on windows, just believe me just all works fine too. So this is time to unite both modules.</p>\n\n<p>As main project i use node-webrtc examples, all subsequent explanations will be around this module. So to run result you should copy weights folder from face-api into node-webrtc/examples/video-compositing folder, and then just replace code below instead of node-webrtc/example/video-compositing/server.js.</p>\n\n<pre><code>'use strict';\n\nrequire('@tensorflow/tfjs-node');\nconst tf = require('@tensorflow/tfjs');\nconst nodeFetch = require('node-fetch');\nconst fapi = require('face-api.js');\nconst path = require('path');\nconst { createCanvas, createImageData } = require('canvas');\nconst { RTCVideoSink, RTCVideoSource, i420ToRgba, rgbaToI420 } = require('wrtc').nonstandard;\n\n\nfapi.env.monkeyPatch({ fetch: nodeFetch });\nconst MODELS_URL = path.join(__dirname, '/weights');\n\nconst width = 640;\nconst height = 480;\n\nPromise.all([\n  fapi.nets.tinyFaceDetector.loadFromDisk(MODELS_URL),\n  fapi.nets.faceLandmark68Net.loadFromDisk(MODELS_URL),\n  fapi.nets.faceRecognitionNet.loadFromDisk(MODELS_URL),\n  fapi.nets.faceExpressionNet.loadFromDisk(MODELS_URL)\n]);\n\nfunction beforeOffer(peerConnection) {\n  const source = new RTCVideoSource();\n  const track = source.createTrack();\n  const transceiver = peerConnection.addTransceiver(track);\n  const sink = new RTCVideoSink(transceiver.receiver.track);\n\n  let lastFrame = null;\n\n  function onFrame({ frame }) {\n    lastFrame = frame;\n  }\n\n  sink.addEventListener('frame', onFrame);\n\n  // TODO(mroberts): Is pixelFormat really necessary?\n  const canvas = createCanvas(width, height);\n  const context = canvas.getContext('2d', { pixelFormat: 'RGBA24' });\n  context.fillStyle = 'white';\n  context.fillRect(0, 0, width, height);\n\n  let emotion = '';\n  const interval = setInterval(() =&gt; {\n    if (lastFrame) {\n      const lastFrameCanvas = createCanvas(lastFrame.width,  lastFrame.height);\n      const lastFrameContext = lastFrameCanvas.getContext('2d', { pixelFormat: 'RGBA24' });\n\n      const rgba = new Uint8ClampedArray(lastFrame.width *  lastFrame.height * 4);\n      const rgbaFrame = createImageData(rgba, lastFrame.width, lastFrame.height);\n      i420ToRgba(lastFrame, rgbaFrame);\n\n      lastFrameContext.putImageData(rgbaFrame, 0, 0);\n      context.drawImage(lastFrameCanvas, 0, 0);\n\n      const emotionsArr = { 0: 'neutral', 1: 'happy', 2: 'sad', 3: 'angry', 4: 'fearful', 5: 'disgusted', 6: 'surprised' };\n\n      async function detectEmotion() {\n        let frameTensor3D = tf.browser.fromPixels(lastFrameCanvas)\n        let face = await fapi.detectSingleFace(frameTensor3D, new fapi.TinyFaceDetectorOptions()).withFaceExpressions();\n        //console.log(face);\n        function getEmotion(face) {\n          try {\n            let mostLikelyEmotion = emotionsArr[0];\n            let predictionArruracy =  face.expressions[emotionsArr[0]];\n\n            for (let i = 0; i &lt; Object.keys(face.expressions).length; i++) {\n              if (face.expressions[emotionsArr[i]] &gt; predictionArruracy &amp;&amp; face.expressions[emotionsArr[i]] &lt; 1 ){\n                mostLikelyEmotion = emotionsArr[i];\n                predictionArruracy = face.expressions[emotionsArr[i]];\n              }\n            }\n\n            return mostLikelyEmotion;\n          }\n          catch (e){\n            return '';\n          }\n        }\n        let emot = getEmotion(face);\n        return emot;\n      }\n\n\n      detectEmotion().then(function(res) {\n        emotion = res;\n      });\n\n    } else {\n      context.fillStyle = 'rgba(255, 255, 255, 0.025)';\n      context.fillRect(0, 0, width, height);\n    }\n\n    if (emotion != ''){\n      context.font = '60px Sans-serif';\n      context.strokeStyle = 'black';\n      context.lineWidth = 1;\n      context.fillStyle = `rgba(${Math.round(255)}, ${Math.round(255)}, ${Math.round(255)}, 1)`;\n      context.textAlign = 'center';\n      context.save();\n      context.translate(width / 2, height);\n      context.strokeText(emotion, 0, 0);\n      context.fillText(emotion, 0, 0);\n      context.restore();\n    }\n\n\n    const rgbaFrame = context.getImageData(0, 0, width, height);\n    const i420Frame = {\n      width,\n      height,\n      data: new Uint8ClampedArray(1.5 * width * height)\n    };\n    rgbaToI420(rgbaFrame, i420Frame);\n    source.onFrame(i420Frame);\n  });\n\n  const { close } = peerConnection;\n  peerConnection.close = function() {\n    clearInterval(interval);\n    sink.stop();\n    track.stop();\n    return close.apply(this, arguments);\n  };\n}\n\nmodule.exports = { beforeOffer };\n</code></pre>\n\n<p>And here is <a href=\"https://i.stack.imgur.com/LBfqx.png\" rel=\"nofollow noreferrer\">results1</a>, <a href=\"https://i.stack.imgur.com/uvYhm.png\" rel=\"nofollow noreferrer\">result2</a> and <a href=\"https://i.stack.imgur.com/cEwe5.png\" rel=\"nofollow noreferrer\">result3</a> , all works fine))... Well, no, after 2-3 minutes my computer just stop do anything, i even cant move my mouse and then i get error \"Killed\" in terminal. I read about this error <a href=\"https://stackoverflow.com/questions/726690/what-killed-my-process-and-why\">here</a> and because i changed only one script in project i suspect that somewhere in my code i have data leak and my RAM is filling up over time. Can someone help me with this issue? Why programm ends with killing process? If someone want to test it for himself i`ll leave package json to easy install all requirements.</p>\n\n<pre><code>{\n  \"name\": \"node-webrtc-examples\",\n  \"version\": \"0.1.0\",\n  \"description\": \"This project presents a few example applications using node-webrtc.\",\n  \"private\": true,\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"lint\": \"eslint index.js examples lib test\",\n    \"start\": \"node index.js\",\n    \"test\": \"npm run test:unit &amp;&amp; npm run test:integration\",\n    \"test:unit\": \"tape 'test/unit/**/*.js'\",\n    \"test:integration\": \"tape 'test/integration/**/*.js'\"\n  },\n  \"keywords\": [\n    \"Web\",\n    \"Audio\"\n  ],\n  \"author\": \"Mark Andrus Roberts &lt;markandrusroberts@gmail.com&gt;\",\n  \"license\": \"BSD-3-Clause\",\n  \"dependencies\": {\n    \"@tensorflow/tfjs\": \"^1.2.9\",\n    \"@tensorflow/tfjs-core\": \"^1.2.9\",\n    \"@tensorflow/tfjs-node\": \"^1.2.9\",\n    \"Scope\": \"github:kevincennis/Scope\",\n    \"body-parser\": \"^1.18.3\",\n    \"browserify-middleware\": \"^8.1.1\",\n    \"canvas\": \"^2.6.0\",\n    \"color-space\": \"^1.16.0\",\n    \"express\": \"^4.16.4\",\n    \"face-api.js\": \"^0.21.0\",\n    \"node-fetch\": \"^2.3.0\",\n    \"uuid\": \"^3.3.2\",\n    \"wrtc\": \"^0.4.1\"\n  },\n  \"devDependencies\": {\n    \"eslint\": \"^5.15.1\",\n    \"tape\": \"^4.10.0\"\n  }\n}\n</code></pre>\n\n<p>If you have error like \"someFunction is not a function\" or something like thatt it meight be probably because you need to install @tensorflow/tfjs-core, tfjs and tfjs-node 1.2.9 version. Like npm i @tensorflow/tfjs-core@1.2.9. For all 3 packages. Thx for yours answers and understanding))</p>\n"}, {"tags": ["javascript", "jquery", "html", "forms"], "comments": [{"owner": {"reputation": 4326, "user_id": 3281014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIpXo.jpg?s=128&g=1", "display_name": "Nawed Khan", "link": "https://stackoverflow.com/users/3281014/nawed-khan"}, "edited": false, "score": 0, "creation_date": 1573074012, "post_id": 58738177, "comment_id": 103766797, "body": "Can you verify that $(currentForm).find(&#39;input.&#39;+ myClass) is finding the correct input field. Like enter some text in the field and read its value (instead of setting it)."}, {"owner": {"reputation": 353, "user_id": 2479414, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/orTTi.png?s=128&g=1", "display_name": "Travis Johnston", "link": "https://stackoverflow.com/users/2479414/travis-johnston"}, "reply_to_user": {"reputation": 4326, "user_id": 3281014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIpXo.jpg?s=128&g=1", "display_name": "Nawed Khan", "link": "https://stackoverflow.com/users/3281014/nawed-khan"}, "edited": false, "score": 0, "creation_date": 1573074133, "post_id": 58738177, "comment_id": 103766841, "body": "Yes I removed the set and wrapped it within a console.log and filled in a couple values and tested, It did output a text value for those that i put values into, blank log for those that were empty."}], "answers": [{"comments": [{"owner": {"reputation": 353, "user_id": 2479414, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/orTTi.png?s=128&g=1", "display_name": "Travis Johnston", "link": "https://stackoverflow.com/users/2479414/travis-johnston"}, "edited": false, "score": 0, "creation_date": 1573135444, "post_id": 58739237, "comment_id": 103789035, "body": "Thanks this only works however if there is a parent and that parent is &#39;myself&#39;. In my case the user may enter their information on the 3rd form for instance and want to copy it to the 5th. Also it shouldn&#39;t look at any empty forms since it has the input.myself-checkbox.is(checked) condition in place."}, {"owner": {"reputation": 353, "user_id": 2479414, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/orTTi.png?s=128&g=1", "display_name": "Travis Johnston", "link": "https://stackoverflow.com/users/2479414/travis-johnston"}, "edited": false, "score": 0, "creation_date": 1573135927, "post_id": 58739237, "comment_id": 103789337, "body": "Also in my test I had 2 forms, the first having all my info, and the second being empty (which the not($this) should remove this one from being checked as well)"}], "tags": [], "owner": {"reputation": 4326, "user_id": 3281014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIpXo.jpg?s=128&g=1", "display_name": "Nawed Khan", "link": "https://stackoverflow.com/users/3281014/nawed-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1573078284, "creation_date": 1573078284, "answer_id": 58739237, "question_id": 58738177, "link": "https://stackoverflow.com/questions/58738177/autofill-input-values-from-another-form/58739237#58739237", "title": "Autofill input values from another form", "body": "<p>It works on first iteration and then it starts reading next empty form and populates the empty value overwriting the correct values.\nYou have to establish which one is the original form and which ones are the can-be-copied-to forms by giving the original form an additional class. I have used \"parent\" class name:</p>\n\n<pre><code> $('.copy-myself').change(function() {\n\n    if ($(this).is(':checked')) {\n      var currentForm = $(this).parent().closest('.registration.card');\n      $('.registration.card.parent').each(function() {\n        var form = $(this);\n\n        $(form).find('input').each(function() {\n            var fieldValue = $(this).val(); //ie. \"travis\"\n\n            if ($(this).attr(\"class\")) {\n              var myClass = $(this).attr(\"class\").replace(/ /g, '.');\n              $(currentForm).find('input.' + myClass).val(fieldValue);\n\n            }\n          });\n      });\n    }\n  });\n</code></pre>\n\n<p>This way you are looping through each field of the parent form to read data and inserting the data only to fields of currentForm.</p>\n\n<p><a href=\"https://jsfiddle.net/tfj95g2m/\" rel=\"nofollow noreferrer\">Here is a sample fiddle.</a></p>\n"}, {"tags": [], "owner": {"reputation": 353, "user_id": 2479414, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/orTTi.png?s=128&g=1", "display_name": "Travis Johnston", "link": "https://stackoverflow.com/users/2479414/travis-johnston"}, "is_accepted": false, "score": 0, "last_activity_date": 1573140152, "creation_date": 1573140152, "answer_id": 58751885, "question_id": 58738177, "link": "https://stackoverflow.com/questions/58738177/autofill-input-values-from-another-form/58751885#58751885", "title": "Autofill input values from another form", "body": "<p>The issue is related to what gets placed into <strong>myClass</strong>. There are some fields that did not have an additional class name added so the field either has no class name or just form-control.here (this is using bootstrap). So by adding an extra replace method like so:</p>\n\n<pre><code>var myClass = $(this).attr(\"class\").replace(/ /g,'.').replace(\"form-control.here\",\"\");\n</code></pre>\n\n<p>We remove the extra form-control.here which is too broad. Then we also make sure that we don't work with inputs that have no class and then assign:</p>\n\n<pre><code>if(myClass != ''){\n    $(currentForm).find('input'+ myClass).val(fieldValue);\n}\n</code></pre>\n\n<p>This works because as it was looping through the fields, it was assigning fine, but then it would hit an input element in the copied form that had no class or the same class that every other element shared. If the input was empty or had any field, like \"hi\", it would overwrite all other inputs because all the other ones had that class or were standard input elements. </p>\n\n<p>Final working code for text inputs (will need to adjust for select, checkboxes radios):</p>\n\n<pre><code>$('.copy-myself').change(function(){\n    if($(this).is(':checked')) {\n        var currentForm = $(this).parent().closest('.registration .card');\n        $('.registration .card').not($(this).parent().closest('.registration .card')).each(function(){\n            var form = $(this);\n            if($(this).find('input.myself-checkbox').is(':checked')) {\n                $(form).find('input').each(function(){\n                    var fieldValue = $(this).val();\n                    if($(this).attr(\"class\")){\n                        var myClass = $(this).attr(\"class\").replace(/ /g,'.').replace(\"form-control.here\",\"\");\n                        if(myClass != ''){\n                            $(currentForm).find('input'+ myClass).val(fieldValue);\n                        }\n                    }\n                });\n            }\n        });\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 2479414, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/orTTi.png?s=128&g=1", "display_name": "Travis Johnston", "link": "https://stackoverflow.com/users/2479414/travis-johnston"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1573140152, "creation_date": 1573072832, "last_edit_date": 1573138214, "question_id": 58738177, "link": "https://stackoverflow.com/questions/58738177/autofill-input-values-from-another-form", "title": "Autofill input values from another form", "body": "<p>The goal is for the user to fill out a series of fields in one registration form and copy their inputs to any other form they are registering themselves for. Instead of listing each field independently and setting the value I created this script to identify the fields based on a common class name and the goal is to set the value that matches. </p>\n\n<p>It works fine if I replace fieldValue with something like \"hi\". fieldValue receives a string from each field during the loops, so it's set as \"travis\" on the first name field. console.log outputs fine too for the fieldValue but it just won't set. </p>\n\n<p>Any thoughts?</p>\n\n<p><em>PS:</em> If you are wondering 'why by class name?' it's because the way these forms are generated and their name field is built with an array in mind \"registration[1][field_name]\" so I assign the field_name in the class list and use that to help identify. And the customer could be filling out 10 forms, some for them and some for others so it's just easier to do it this way vs trying to get the form placement that happens to have their other 'myself' info.</p>\n\n<pre><code>$('.copy-myself').change(function(){\n    if($(this).is(':checked')) {\n        var currentForm = $(this).parent().closest('.registration .card');\n        $('.registration .card').not($(this).parent().closest('.registration .card')).each(function(){\n            var form = $(this);\n            if($(this).find('input.myself-checkbox').is(':checked')) {\n                $(form).find('input').each(function(){\n                    var fieldValue = $(this).val(); //ie. \"travis\"\n                    if($(this).attr(\"class\")){\n                        var myClass = $(this).attr(\"class\").replace(/ /g,'.');\n                        $(currentForm).find('input.'+ myClass).val(fieldValue);\n                        // The following outputs current found field value if available ie \"test\"\n                        // console.log($(currentForm).find('input.'+ myClass).val());\n                        // This works if I set Hi\n                        // $(currentForm).find('input.'+ myClass).val('Hi');\n                    }\n                });\n            }\n        });\n    }\n});\n</code></pre>\n\n<p>What it currently does is clears any existing values in the fields, so when I enter test for instance which I did to make sure 'test' was logged in one of the commented out lines, it clears test and doesn't enter anything. </p>\n\n<p><strong>Update</strong>\nOk something interesting during testing 'Hi' (which fills in every input element fine). I thought to add a counter during the <strong>$(form).find('input').each(function(){..</strong> loop and include the count in in the value <strong>('hi'+i)</strong>. Ideally I should see this print out in order, however every input field resulted in \"Hi42\". So this could be where I am experiencing an issue is during the looping, the fieldValue is not matching up, however I think I would see incorrect data instead of empty fields. Will continue to test. </p>\n"}, {"tags": ["javascript", "d3.js"], "answers": [{"tags": [], "owner": {"reputation": 2043, "user_id": 7992070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UWwIR.jpg?s=128&g=1", "display_name": "Coola", "link": "https://stackoverflow.com/users/7992070/coola"}, "is_accepted": false, "score": 0, "last_activity_date": 1573074291, "creation_date": 1573074291, "answer_id": 58738455, "question_id": 58738173, "link": "https://stackoverflow.com/questions/58738173/add-the-data-column-to-the-tooltip-text/58738455#58738455", "title": "Add the data column to the tooltip text", "body": "<p>This is because there is no value for <code>d.data.id</code>. The keys in the data objects come from the header of your CSV file. In your CSV file the headers are <code>PMID</code>,<code>Type</code>,<code>Total cholesterol</code>,<code>LDL cholesterol</code>,<code>HDL cholesterol</code>. You may want to try <code>d.data.PMID</code> if you would like to see the PMID.</p>\n"}], "owner": {"reputation": 65, "user_id": 9016085, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Vwj2roIJ-SI/AAAAAAAAAAI/AAAAAAAABfY/WFKvZN8KlWo/photo.jpg?sz=128", "display_name": "Ann", "link": "https://stackoverflow.com/users/9016085/ann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573077813, "creation_date": 1573072820, "last_edit_date": 1573077813, "question_id": 58738173, "link": "https://stackoverflow.com/questions/58738173/add-the-data-column-to-the-tooltip-text", "title": "Add the data column to the tooltip text", "body": "<p>I am new to D3js. My tooltip on my stacked barchart is showing only the column value. However, I would like to add the column name as well.</p>\n\n<p>I followed the example from <a href=\"https://bl.ocks.org/mjfoster83/7c9bdfd714ab2f2e39dd5c09057a55a0\" rel=\"nofollow noreferrer\">https://bl.ocks.org/mjfoster83/7c9bdfd714ab2f2e39dd5c09057a55a0</a> to create a stacked barchart with tooltip.</p>\n\n<p>HTML Section:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset =\"utf-8\"&gt;\n&lt;script src=\"./js/d3.v5.min.js\"&gt;&lt;/script&gt;\n&lt;style&gt;\n\nbody {\n    margin: auto;\n    width: 650px;\n    font: 12px arial;\n}\n\n&lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;svg id=\"chart\" width=\"1900\" height=\"900\"&gt;&lt;/svg&gt;\n\nSelect type:\n&lt;select id=\"type\"&gt;&lt;/select&gt;\n\n&lt;input type=\"checkbox\" id=\"sort\"&gt;\nToggle sort\n\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n\n<p>Below is the D3js:</p>\n\n<pre><code>d3.csv(\"./tmp/20191104154746.csv\").then(d =&gt; chart(d))\n\nfunction chart(csv) {\n\n    var keys = csv.columns.slice(2);\n\n    var type   = [...new Set(csv.map(d =&gt; d.Type))]\n    var pmids = [...new Set(csv.map(d =&gt; d.PMID))]\n\n    var options = d3.select(\"#type\").selectAll(\"option\")\n        .data(type)\n    .enter().append(\"option\")\n        .text(d =&gt; d)\n\n    var svg = d3.select(\"#chart\"),\n        margin = {top: 35, left: 35, bottom: 0, right: 0},\n        width = +svg.attr(\"width\") - margin.left - margin.right,\n        height = +svg.attr(\"height\") - margin.top - margin.bottom;\n\n    var x = d3.scaleBand()\n        .range([margin.left, width - margin.right])\n        .padding(0.1)\n\n    var y = d3.scaleLinear()\n        .rangeRound([height - margin.bottom, margin.top])\n\n    var xAxis = svg.append(\"g\")\n        .attr(\"transform\", `translate(0,${height - margin.bottom})`)\n        .attr(\"class\", \"x-axis\")\n\n    var yAxis = svg.append(\"g\")\n        .attr(\"transform\", `translate(${margin.left},0)`)\n        .attr(\"class\", \"y-axis\")\n\n    var z = d3.scaleOrdinal()\n        .range([\"#000eec\",\"#0016e6\",\"#0036df\",])\n        .domain(keys);\n\n    update(d3.select(\"#type\").property(\"value\"), 0)\n\n    function update(input, speed) {\n\n        var data = csv.filter(f =&gt; f.Type == input)\n\n        data.forEach(function(d) {\n            d.total = d3.sum(keys, k =&gt; +d[k])\n            return d\n        })\n\n        y.domain([0, d3.max(data, d =&gt; d3.sum(keys, k =&gt; +d[k]))]).nice();\n\n        svg.selectAll(\".y-axis\").transition().duration(speed)\n            .call(d3.axisLeft(y).ticks(null, \"s\"))\n\n        data.sort(d3.select(\"#sort\").property(\"checked\")\n            ? (a, b) =&gt; b.total - a.total\n            : (a, b) =&gt; pmids.indexOf(a.PMID) - pmids.indexOf(b.PMID))\n\n        x.domain(data.map(d =&gt; d.PMID));\n\n        svg.selectAll(\".x-axis\").transition().duration(speed)\n            .call(d3.axisBottom(x).tickSizeOuter(0))\n\n        var group = svg.selectAll(\"g.layer\")\n            .data(d3.stack().keys(keys)(data), d =&gt; d.key)\n\n        group.exit().remove()\n\n        group.enter().append(\"g\")\n            .classed(\"layer\", true)\n            .attr(\"fill\", d =&gt; z(d.key));\n\n        var bars = svg.selectAll(\"g.layer\").selectAll(\"rect\")\n            .data(d =&gt; d, e =&gt; e.data.PMID);\n\n        bars.exit().remove()\n\n        bars.enter().append(\"rect\")\n            .attr(\"width\", x.bandwidth())\n          .on(\"mouseover\", function() { tooltip.style(\"display\", null); })\n        .on(\"mouseout\", function() { tooltip.style(\"display\", \"none\"); })\n        .on(\"mousemove\", function(d) {\n            var xPosition = d3.mouse(this)[0] - 5;\n            var yPosition = d3.mouse(this)[1] - 5;\n            tooltip.attr(\"transform\", \"translate(\" + xPosition + \",\" + yPosition + \")\");\n            tooltip.select(\"text\").text(d[1]-d[0]);\n        })\n            .merge(bars)\n          .transition().duration(speed)\n            .attr(\"x\", d =&gt; x(d.data.PMID))\n            .attr(\"y\", d =&gt; y(d[1]))\n            .attr(\"height\", d =&gt; y(d[0]) - y(d[1]))\n\n        var text = svg.selectAll(\".text\")\n        .data(data, d =&gt; d.PMID);\n    }\n\n    var select = d3.select(\"#type\")\n        .on(\"change\", function() {\n            update(this.value, 800)\n        })\n\n    var checkbox = d3.select(\"#sort\")\n        .on(\"click\", function() {\n            update(select.property(\"value\"), 800)\n        })\n\n        // Prep the tooltip bits, initial display is hidden\n var tooltip = svg.append(\"g\")\n     .attr(\"class\", \"tooltip\")\n     .style(\"display\", \"none\");\n\n tooltip.append(\"rect\")\n     .attr(\"width\", 60)\n     .attr(\"height\", 20)\n     .attr(\"fill\", \"white\")\n     .style(\"opacity\", 0.5);\n\n tooltip.append(\"text\")\n     .attr(\"x\", 30)\n     .attr(\"dy\", \"1.2em\")\n     .style(\"text-anchor\", \"middle\")\n     .attr(\"font-size\", \"12px\")\n     .attr(\"font-weight\", \"bold\");\n}\n\n\n</code></pre>\n\n<p>The CSV file:</p>\n\n<pre><code>PMID,Type,Total cholesterol,LDL cholesterol,HDL cholesterol\n18617736,Control,5.7,3.9,1.2\n18617736,AD,5.7,3.6,1.4\n22134919,Control,48.104,0,0\n22134919,AD,50.3,0,0\n22134919,Control,45.315,0,0\n22134919,AD,42.295,0,0\n22134919,Control,45.847,0,0\n22134919,AD,43.655,0,0\n27255810,Control,0,0,0\n27255810,AD,0,0,0\n27255810,MCI,0,0,0\n27255810,Control,0,0,0\n27255810,AD,0,0,0\n27255810,MCI,0,0,0\n12244089,Control 1,0,0,0\n12244089,AD 1,0,0,0\n12244089,Control 2,0,0,0\n12244089,AD 2,0,0,0\n12244089,Control 1 Follow up,0,0,0\n12244089,AD 1 Follow up,0,0,0\n</code></pre>\n\n<p>I have tried adding the d.data.id as follows to the tooltip but it is coming up as undef:</p>\n\n<pre><code>  .on(\"mousemove\", function(d) {\n            var xPosition = d3.mouse(this)[0] - 5;\n            var yPosition = d3.mouse(this)[1] - 5;\n            tooltip.attr(\"transform\", \"translate(\" + xPosition + \",\" + yPosition + \")\");\n            tooltip.select(\"text\").text(d[1]+d.data.id);\n        })\n\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 747, "user_id": 3532272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0T0Gu.jpg?s=128&g=1", "display_name": "korwalskiy", "link": "https://stackoverflow.com/users/3532272/korwalskiy"}, "edited": false, "score": 0, "creation_date": 1573073669, "post_id": 58738148, "comment_id": 103766677, "body": "Arrray.split function creates an array in it of itself, thus there is no need for the preceeding Array.push"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 12334206, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCfd6QyL9779GHYtGs0eXADXDN7-vpDeAObkOzOlg=k-s128", "display_name": "Jswamnabe", "link": "https://stackoverflow.com/users/12334206/jswamnabe"}, "edited": false, "score": 0, "creation_date": 1573107087, "post_id": 58738225, "comment_id": 103774844, "body": "Wow that worked. Thanks! For the second code, I replaced <code>arr.push(form1.num.value);</code> with <code>arr = form1.num.value;</code> too and it&#39;s counting negative numbers as positive. No idea what&#39;s the issue with that."}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 13, "user_id": 12334206, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCfd6QyL9779GHYtGs0eXADXDN7-vpDeAObkOzOlg=k-s128", "display_name": "Jswamnabe", "link": "https://stackoverflow.com/users/12334206/jswamnabe"}, "edited": false, "score": 0, "creation_date": 1573112730, "post_id": 58738225, "comment_id": 103777118, "body": "please add the value of <code>form1.num.value</code>."}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 0, "last_activity_date": 1573073657, "last_edit_date": 1573073657, "creation_date": 1573073144, "answer_id": 58738225, "question_id": 58738148, "link": "https://stackoverflow.com/questions/58738148/reading-n-numbers-and-counting-ve-ve-numbers-and-zeroes-in-the-list-in-javasc/58738225#58738225", "title": "Reading n numbers and counting +ve, -ve numbers and zeroes in the list in javascript", "body": "<p>You need to assign the splitted values, </p>\n\n<pre><code>var arr = prompt(\"Enter numbers.\").split(\",\");\n</code></pre>\n\n<p>because you pushed only a single item (an array of values) to the array. This led to a check of the array and every condition is <code>false</code>.</p>\n\n<p>Then you need to check with zero only by a non strict equation, because you get after splitting a string <code>'0'</code> and this is never strict equal to <code>0</code> (<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comparison_Operators\" rel=\"nofollow noreferrer\">Comparison operators</a>).</p>\n\n<pre><code>} else if (arr[i] == 0) {\n//                ^^\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arr = prompt(\"Enter numbers.\").split(\",\");\r\n\r\nfunction Fun() {\r\n  var countPos = 0;\r\n  var countZer = 0;\r\n  var countNeg = 0;\r\n  for (var i = 0; i &lt; arr.length; i++) {\r\n    if (arr[i] &gt; 0) {\r\n      countPos++;\r\n    } else if (arr[i] == 0) {\r\n      countZer++\r\n    } else if (arr[i] &lt; 0) {\r\n      countNeg++\r\n    }\r\n  }\r\n  console.log(countPos + \" \" + countZer + \" \" + countNeg);\r\n}\r\n\r\nFun();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 12334206, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCfd6QyL9779GHYtGs0eXADXDN7-vpDeAObkOzOlg=k-s128", "display_name": "Jswamnabe", "link": "https://stackoverflow.com/users/12334206/jswamnabe"}, "edited": false, "score": 0, "creation_date": 1573107471, "post_id": 58738315, "comment_id": 103774966, "body": "I can&#39;t understand what&#39;s happening here since I don&#39;t know that much Javascript. I&#39;ll surely try it once I know what all that means. Thanks!"}], "tags": [], "owner": {"reputation": 36, "user_id": 7907631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f1c3790cff48b434c4477b6876b2d1f?s=128&d=identicon&r=PG&f=1", "display_name": "Bohica", "link": "https://stackoverflow.com/users/7907631/bohica"}, "is_accepted": false, "score": 0, "last_activity_date": 1573073594, "creation_date": 1573073594, "answer_id": 58738315, "question_id": 58738148, "link": "https://stackoverflow.com/questions/58738148/reading-n-numbers-and-counting-ve-ve-numbers-and-zeroes-in-the-list-in-javasc/58738315#58738315", "title": "Reading n numbers and counting +ve, -ve numbers and zeroes in the list in javascript", "body": "<p>This guy will work for what you want</p>\n\n<p><a href=\"https://jsfiddle.net/do3r0cmb/2/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/do3r0cmb/2/</a></p>\n\n<pre><code>&lt;script&gt;\nfunction Fun(){\n  let numbers = form1.num.value;\n  if (numbers.indexOf(',') !== -1) {\nnumbers = numbers.split(',');\n  } else {\n    numbers = numbers.split(' ');\n  }\n\n  var countPos=0;\n  var countZer=0;\n  var countNeg=0;\n  for(let i in numbers){\n    if(numbers[i] &gt; 0){\n      countPos++;\n    }\nelse if(numbers[i] &lt; 0){\n      countNeg++\n    } else {\n      countZer++\n    }\n  }\n  console.log(countPos + \" \" + countZer + \" \" + countNeg);\n}&lt;/script&gt;\n&lt;body&gt;\n  &lt;form name=\"form1\"&gt;\n   Enter numbers separated by comma: &lt;input type=\"text\" name=\"num\"&gt;\n   &lt;input type=\"button\" value=\"Done\" onclick=\"Fun()\"&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 12334206, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCfd6QyL9779GHYtGs0eXADXDN7-vpDeAObkOzOlg=k-s128", "display_name": "Jswamnabe", "link": "https://stackoverflow.com/users/12334206/jswamnabe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 58738225, "answer_count": 2, "score": 1, "last_activity_date": 1573073657, "creation_date": 1573072732, "last_edit_date": 1573073312, "question_id": 58738148, "link": "https://stackoverflow.com/questions/58738148/reading-n-numbers-and-counting-ve-ve-numbers-and-zeroes-in-the-list-in-javasc", "title": "Reading n numbers and counting +ve, -ve numbers and zeroes in the list in javascript", "body": "<p>I'd start with saying that I'm new with Javascript.\nAbout the question, I'm very confident that I can do the latter part, but I'm having issues with \"reading n numbers\".\nThis is what I've tried</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arr = [];\r\narr.push(prompt(\"Enter numbers.\").split(\",\"));\r\n\r\nfunction Fun() {\r\n  var countPos = 0;\r\n  var countZer = 0;\r\n  var countNeg = 0;\r\n  for (var i = 0; i &lt; arr.length; i++) {\r\n    if (arr[i] &gt; 0) {\r\n      countPos++;\r\n    } else if (arr[i] === 0) {\r\n      countZer++\r\n    } else if (arr[i] &lt; 0) {\r\n      countNeg++\r\n    }\r\n  }\r\n  document.write(countPos + \" \" + countZer + \" \" + countNeg);\r\n}\r\nFun();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And I'm getting</p>\n\n<blockquote>\n  <p>0 0 0</p>\n</blockquote>\n\n<p>as result no matter how many numbers I put in separated by a comma.\nI also tried</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arr = [];\r\n\r\nfunction Fun() {\r\n  arr.push(form1.num.value);\r\n  var countPos = 0;\r\n  var countZer = 0;\r\n  var countNeg = 0;\r\n  for (var i = 0; i &lt; arr.length; i++) {\r\n    if (arr[i] &gt; 0) {\r\n      countPos++;\r\n    } else if (arr[i] === 0) {\r\n      countZer++\r\n    } else if (arr[i] &lt; 0) {\r\n      countNeg++\r\n    }\r\n  }\r\n  document.write(countPos + \" \" + countZer + \" \" + countNeg);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and I get the same result. This is the accompanying html to he second code btw</p>\n\n<pre><code>&lt;body&gt;\n  &lt;form name=\"form1\"&gt;\n   Enter numbers separated by comma: &lt;input type=\"text\" name=\"num\"&gt;\n   &lt;input type=\"button\" value=\"Done\" onclick=\"Fun()\"&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>I'm assuming I'm not reading the numbers the right way. I'd greatly appreciate any help.</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 150, "user_id": 10997124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c20504196a2b8b5fcbd429dd9acb2d3?s=128&d=identicon&r=PG&f=1", "display_name": "mlisonek", "link": "https://stackoverflow.com/users/10997124/mlisonek"}, "is_accepted": false, "score": 0, "last_activity_date": 1573073942, "creation_date": 1573073942, "answer_id": 58738385, "question_id": 58738147, "link": "https://stackoverflow.com/questions/58738147/submit-button-on-react-form-doesnt-run-submit-function/58738385#58738385", "title": "Submit Button On React Form Doesnt Run Submit Function", "body": "<p>The onSubmit property is specific for forms not divs. You can either change the div to a form or change change the onSubmit to an onClick, and put the onClick to the button. Also, if you are defining class methods with arrow function, you do not need to bind it to this in the constructor. Hope that helps!</p>\n\n<p>Edit: If using the form, the submit button must be inside the form's closing tag.</p>\n"}, {"comments": [{"owner": {"reputation": 516, "user_id": 8529440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D5Qtt.png?s=128&g=1", "display_name": "Jonathan Irvin", "link": "https://stackoverflow.com/users/8529440/jonathan-irvin"}, "reply_to_user": {"reputation": 65, "user_id": 10934745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c7191c77e1fb8e2406b14575b2bd4ce?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/10934745/charlie"}, "edited": false, "score": 0, "creation_date": 1573074702, "post_id": 58738420, "comment_id": 103767072, "body": ":-)  No problem!"}], "tags": [], "owner": {"reputation": 516, "user_id": 8529440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D5Qtt.png?s=128&g=1", "display_name": "Jonathan Irvin", "link": "https://stackoverflow.com/users/8529440/jonathan-irvin"}, "is_accepted": true, "score": 0, "last_activity_date": 1573074109, "creation_date": 1573074109, "answer_id": 58738420, "question_id": 58738147, "link": "https://stackoverflow.com/questions/58738147/submit-button-on-react-form-doesnt-run-submit-function/58738420#58738420", "title": "Submit Button On React Form Doesnt Run Submit Function", "body": "<p>You need a form tag for <code>onSubmit</code> to work. Also, if you want to <code>preventDefault</code>, you need to pass in the event in the <code>submitHandler</code>.</p>\n\n<p>So replace: </p>\n\n<pre><code>&lt;div className=\"form\" onSubmit={this.submitHandler}&gt;\n</code></pre>\n\n<p>With:</p>\n\n<pre><code>&lt;form className=\"form\" onSubmit={this.submitHandler(event)}&gt;\n</code></pre>\n\n<p>Also make sure you replace the closing <code>&lt;/div&gt;</code> with <code>&lt;/form&gt;</code></p>\n"}], "owner": {"reputation": 65, "user_id": 10934745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c7191c77e1fb8e2406b14575b2bd4ce?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/10934745/charlie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 58738420, "answer_count": 2, "score": 0, "last_activity_date": 1573074109, "creation_date": 1573072727, "question_id": 58738147, "link": "https://stackoverflow.com/questions/58738147/submit-button-on-react-form-doesnt-run-submit-function", "title": "Submit Button On React Form Doesnt Run Submit Function", "body": "<p>I am building a login form using react, however when pressing the submit button nothing occurs in the console</p>\n\n<pre><code>   import React from \"react\";\n\n\n\n\nexport class Login extends React.Component {\n\n\n    constructor(props){\n        super(props);\n        this.submitHandler = this.submitHandler.bind(this);\n        this.state = {\n            username: '',\n            password: '',\n        }\n    }\n    changeHandler = (e) =&gt; {\n        this.setState({[e.target.name]: e.target.value})\n    }\n    submitHandler = e =&gt; {\n        e.preventDefault()\n        console.log(\"worked\")\n        console.log(this.state)\n    }\n\n    render() {\n        const {username, password} = this.state\n\n        return &lt;div className = \"base-container\" ref={this.props.containerRef}&gt;\n            &lt;div className=\"content\"&gt;\n              &lt;div className=\"logo\"&gt;\n                &lt;img src={Logo} alt=\"logo\"/&gt;\n              &lt;/div&gt;\n              &lt;div className=\"form\" onSubmit={this.submitHandler}&gt;\n                  &lt;div className=\"form-group\"&gt;\n                      &lt;label htmlFor=\"username\"&gt; Username&lt;/label&gt;\n                      &lt;input type=\"text\" \n                      name=\"username\" \n                      value ={username} \n                      placeholder=\"Username\"\n                      onChange={this.changeHandler}/&gt;\n                  &lt;/div&gt;\n                  &lt;div className=\"form-group\"&gt;\n                      &lt;label htmlFor=\"password\"&gt; Password&lt;/label&gt;\n                      &lt;input type=\"password\" \n                      name=\"password\" \n                      value={password} \n                      placeholder=\"Password\"\n                      onChange ={this.changeHandler}/&gt;\n                  &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div className=\"footer\"&gt;\n                &lt;button type=\"submit\" className=\"btn\"&gt;Login&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n    }\n}\n</code></pre>\n\n<p>is there something that I am missing? I have tried moving the submit button into the form tags but that doesnt seem to work either</p>\n"}, {"tags": ["javascript", "reactjs", "redux"], "comments": [{"owner": {"reputation": 5053, "user_id": 3625444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5Fnph.jpg?s=128&g=1", "display_name": "MorKadosh", "link": "https://stackoverflow.com/users/3625444/morkadosh"}, "edited": false, "score": 1, "creation_date": 1573073229, "post_id": 58738117, "comment_id": 103766499, "body": "map iterates on array, not numbers"}, {"owner": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "edited": false, "score": 0, "creation_date": 1573077091, "post_id": 58738117, "comment_id": 103767896, "body": "<code>state.item.count++</code> mutates the state which is forbidden."}], "answers": [{"tags": [], "owner": {"reputation": 277, "user_id": 12333471, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0GUgTX35bXk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcPE6shKp3Tyo7oRqAn7vjm1PXZBA/photo.jpg?sz=128", "display_name": "Viktor Garba", "link": "https://stackoverflow.com/users/12333471/viktor-garba"}, "is_accepted": false, "score": 0, "last_activity_date": 1573073488, "creation_date": 1573073488, "answer_id": 58738294, "question_id": 58738117, "link": "https://stackoverflow.com/questions/58738117/typeerror-item-map-is-not-a-function/58738294#58738294", "title": "TypeError: item.map is not a function", "body": "<p>You need a default case for the reducer. </p>\n\n<pre><code>case GET_ITEMS:\n    return{\n        ...state\n    }\ncase PLUS_ITEMS:\n     return{\nitem:state.item.count++\n     }\ndefault:\n        return state;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 12326301, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qQVXy0y3wzk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdGhsDnGO6EnzKsxBPPFYkmsUDNTg/photo.jpg?sz=128", "display_name": "woong jang", "link": "https://stackoverflow.com/users/12326301/woong-jang"}, "edited": false, "score": 0, "creation_date": 1573075355, "post_id": 58738452, "comment_id": 103767314, "body": "so i tried {item.map(({count}) =&gt; ( &lt;div onClick={this.Plus}&gt; + &lt;/div&gt; &lt;div&gt;{count} &lt;/div&gt; ))}    is not object map ??..."}], "tags": [], "owner": {"reputation": 79, "user_id": 3882973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vIdUe.jpg?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3882973/anthony"}, "is_accepted": false, "score": 1, "last_activity_date": 1573074267, "creation_date": 1573074267, "answer_id": 58738452, "question_id": 58738117, "link": "https://stackoverflow.com/questions/58738117/typeerror-item-map-is-not-a-function/58738452#58738452", "title": "TypeError: item.map is not a function", "body": "<pre><code>case PLUS_ITEMS:\n return {\n   item: state.item.count++\n }\n}\n</code></pre>\n\n<p>There is no <code>state.item.count</code> in your state. <code>state.item</code> is an array. Fix this and see if that takes care of that error.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 12334522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5ba187d3a2cf4b3eb87adcc4e9d9f1b?s=128&d=identicon&r=PG&f=1", "display_name": "mohammad-23", "link": "https://stackoverflow.com/users/12334522/mohammad-23"}, "edited": false, "score": 0, "creation_date": 1573077183, "post_id": 58739004, "comment_id": 103767938, "body": "As Anthony K said below, state.item is an array, whose first element is count"}], "tags": [], "owner": {"reputation": 3, "user_id": 12334522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5ba187d3a2cf4b3eb87adcc4e9d9f1b?s=128&d=identicon&r=PG&f=1", "display_name": "mohammad-23", "link": "https://stackoverflow.com/users/12334522/mohammad-23"}, "is_accepted": false, "score": 0, "last_activity_date": 1573076948, "creation_date": 1573076948, "answer_id": 58739004, "question_id": 58738117, "link": "https://stackoverflow.com/questions/58738117/typeerror-item-map-is-not-a-function/58739004#58739004", "title": "TypeError: item.map is not a function", "body": "<p>state.item[0].count++ should work, if there is just one object in your items array.</p>\n"}, {"tags": [], "owner": {"reputation": 6531, "user_id": 6544460, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OjkE9.png?s=128&g=1", "display_name": "akhtarvahid", "link": "https://stackoverflow.com/users/6544460/akhtarvahid"}, "is_accepted": false, "score": 0, "last_activity_date": 1573097648, "creation_date": 1573097648, "answer_id": 58741607, "question_id": 58738117, "link": "https://stackoverflow.com/questions/58738117/typeerror-item-map-is-not-a-function/58741607#58741607", "title": "TypeError: item.map is not a function", "body": "<p>Reducer.js</p>\n\n<p>make item as object instead of array and spread state.</p>\n\n<pre><code>const initialState = {\n  item:{\n      count:0\n    },\n}\n\nexport default function (state = initialState, action) {\n  switch(action.type){\n    case GET_ITEMS:\n      return {\n        ...state\n      }\n      default:\n        return state;\n   case PLUS_ITEMS:\n     return {\n       ...state,\n       item: state.item.count++\n     }\n   }\n }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12326301, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qQVXy0y3wzk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdGhsDnGO6EnzKsxBPPFYkmsUDNTg/photo.jpg?sz=128", "display_name": "woong jang", "link": "https://stackoverflow.com/users/12326301/woong-jang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1573097648, "creation_date": 1573072600, "last_edit_date": 1573077758, "question_id": 58738117, "link": "https://stackoverflow.com/questions/58738117/typeerror-item-map-is-not-a-function", "title": "TypeError: item.map is not a function", "body": "<p>I'm using react and redux and I'm trying a simple example.\nIf I clicked the button, then the number should increment by 1. \nBut when I currently click the button you'll see the following error, <code>TypeError: item.map is not a function</code>. Is there a problem with my code?</p>\n\n<pre><code>class Menu extends Component {\n  componentDidMount() {\n    this.props.getItems();\n  }\n\n  plus = () =&gt;{\n    this.props.getplus();\n  }\n\n  render() {\n    const {item } = this.props.item\n    return (\n      &lt;div&gt;\n        {item.map(items =&gt; {\n          &lt;buttom onClick={this.plus}&gt; + &lt;/button&gt;  &lt;div&gt;{count}&lt;/div&gt;     \n        }               \n      &lt;/div&gt;\n    )\n   }\n\n const mapStateToProps = (state) =&gt; ({\n   item: state.item\n })\n\nexport default connect(mapStateToProps , { getItems, getplus }) (Menu);\n</code></pre>\n\n<p>itemAction.js</p>\n\n<pre><code>export const getItems = () =&gt;{\n  return {\n    type: GET_ITEMS\n  }\n}\n\nexport const getplus = () =&gt; {\n  return {\n    type: PLUS_ITEMS\n  }\n}\n</code></pre>\n\n<p>Reducer.js</p>\n\n<pre><code>const initialState = {\n  item: [\n    {\n      count:0\n    },\n  ],\n}\n\nexport default function (state = initialState, action) {\n  switch(action.type){\n    case GET_ITEMS:\n      return {\n        ...state\n      }\n      default:\n        return state;\n   case PLUS_ITEMS:\n     return {\n       item: state.item.count++\n     }\n   }\n }\n</code></pre>\n"}, {"tags": ["javascript", "svg", "jsfiddle"], "comments": [{"owner": {"reputation": 4550, "user_id": 6664264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154344266054326/picture?type=large", "display_name": "Wandrille", "link": "https://stackoverflow.com/users/6664264/wandrille"}, "edited": false, "score": 0, "creation_date": 1573074577, "post_id": 58738062, "comment_id": 103767022, "body": "<code>var draw = SVG().addTo(&#39;#canvas&#39;).size(300, 300)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1527, "user_id": 983173, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/917713e9f48b9aa4edad601dc3a1d84a?s=128&d=identicon&r=PG", "display_name": "Steverino", "link": "https://stackoverflow.com/users/983173/steverino"}, "edited": false, "score": 1, "creation_date": 1573074998, "post_id": 58738432, "comment_id": 103767168, "body": "<code>.addTo(...)</code> is what I needed.  Note in my question that the resource is already linked.  Otherwise <code>SVG(...)</code> itself would be undefined."}, {"owner": {"reputation": 45871, "user_id": 451969, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/EuJtr.jpg?s=128&g=1", "display_name": "Jared Farrish", "link": "https://stackoverflow.com/users/451969/jared-farrish"}, "reply_to_user": {"reputation": 1527, "user_id": 983173, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/917713e9f48b9aa4edad601dc3a1d84a?s=128&d=identicon&r=PG", "display_name": "Steverino", "link": "https://stackoverflow.com/users/983173/steverino"}, "edited": false, "score": 0, "creation_date": 1573076073, "post_id": 58738432, "comment_id": 103767550, "body": "@Steverino It is undefined in the link above. I don&#39;t see it linked anywhere in the fiddle."}, {"owner": {"reputation": 1527, "user_id": 983173, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/917713e9f48b9aa4edad601dc3a1d84a?s=128&d=identicon&r=PG", "display_name": "Steverino", "link": "https://stackoverflow.com/users/983173/steverino"}, "edited": false, "score": 1, "creation_date": 1573076434, "post_id": 58738432, "comment_id": 103767665, "body": "Updated the JSFiddle.  Not sure why it didn&#39;t retain the resource on my first attempt, or if I made a mistake.  All testing has been done with v3.0.13 linked."}], "tags": [], "owner": {"reputation": 4550, "user_id": 6664264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154344266054326/picture?type=large", "display_name": "Wandrille", "link": "https://stackoverflow.com/users/6664264/wandrille"}, "is_accepted": true, "score": 2, "last_activity_date": 1573074546, "last_edit_date": 1573074546, "creation_date": 1573074179, "answer_id": 58738432, "question_id": 58738062, "link": "https://stackoverflow.com/questions/58738062/svg-returns-null-in-jsfiddle/58738432#58738432", "title": "SVG() returns null in JSFiddle", "body": "<p>You need to use <code>https://cdnjs.cloudflare.com/ajax/libs/svg.js/3.0.13/svg.js</code> in your ressource in your jsfiddle to use <code>SVG(...)</code></p>\n\n<p>And then <code>var draw = SVG().addTo('#canvas').size(300, 300)</code> </p>\n"}], "owner": {"reputation": 1527, "user_id": 983173, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/917713e9f48b9aa4edad601dc3a1d84a?s=128&d=identicon&r=PG", "display_name": "Steverino", "link": "https://stackoverflow.com/users/983173/steverino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 58738432, "answer_count": 1, "score": 0, "last_activity_date": 1573076374, "creation_date": 1573072324, "last_edit_date": 1573076374, "question_id": 58738062, "link": "https://stackoverflow.com/questions/58738062/svg-returns-null-in-jsfiddle", "title": "SVG() returns null in JSFiddle", "body": "<p>I wanted to learn some SVG and though JSFiddle would be the perfect place to play around with it.  I'm getting <code>null</code> returned by the intial <code>SVG('whatever')</code> call.  Is this something I'm missing/doing wrong, or something wrong with JSFiddle?</p>\n\n<p>Here is the fiddle:\n<a href=\"https://jsfiddle.net/85gsveLd/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/85gsveLd/</a></p>\n\n<p>Here is my HTML:</p>\n\n<pre><code>&lt;div id='canvas'&gt;&lt;div&gt;\n</code></pre>\n\n<p>And the JS:</p>\n\n<pre><code>if(document.readyState === 'complete') {\n  initialize()\n}\nelse {\n  window.addEventListener('load', initialize)\n}\n\nfunction initialize() {\n  var draw = SVG('drawing').size(300,300)\n  var rect = draw.rect(100, 100)\n}\n</code></pre>\n\n<p>The error:</p>\n\n<pre><code>Uncaught TypeError: Cannot read property 'size' of null\n</code></pre>\n\n<p>Note, I'm linking in svg.js v3.0.13 as a dependency.</p>\n\n<p><strong>Update:</strong> my code was based on a working JSFiddle example of an older version of svgjs.  So, using the old code with the new svgjs version caused my errors.  The lesson here was to always ensure your code targets the correct version of the library you're trying to use.</p>\n"}, {"tags": ["javascript", "php", "html"], "comments": [{"owner": {"reputation": 1592, "user_id": 9211949, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pny8Y.png?s=128&g=1", "display_name": "CoderCharmander", "link": "https://stackoverflow.com/users/9211949/codercharmander"}, "edited": false, "score": 3, "creation_date": 1573072449, "post_id": 58738043, "comment_id": 103766177, "body": "You can&#39;t run PHP code client side. That code is ran when the server is sending the page to the browser. Place your shutdown script in a separate php file, and request that file with <code>XMLHTTPRequest</code> or JQuery.ajax."}], "answers": [{"tags": [], "owner": {"reputation": 980, "user_id": 4764353, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-48IuUHI0z7w/AAAAAAAAAAI/AAAAAAAAAYw/hqtraJsvmR4/photo.jpg?sz=128", "display_name": "Nikolay Shindarov", "link": "https://stackoverflow.com/users/4764353/nikolay-shindarov"}, "is_accepted": false, "score": 0, "last_activity_date": 1573072788, "creation_date": 1573072788, "answer_id": 58738165, "question_id": 58738043, "link": "https://stackoverflow.com/questions/58738043/handling-php-function-that-shutdown-the-system-in-a-button-by-onclick-event/58738165#58738165", "title": "handling php function that shutdown the system in a button by onclick event", "body": "<p>You can't call a PHP function by using HTML <code>onclick</code> attribute. You can do this only for JavaScript.</p>\n\n<p>The reason why the function is executed always is because here</p>\n\n<pre><code>&lt;button id=\"btn\" onclick=\"&lt;?php sysShut();?&gt;\" class=\"btn btn-warning\"&gt;\n</code></pre>\n\n<p>you are actually calling the php function without any condition and this is executed when you load the page.</p>\n\n<p>To achieve your goal, you should put the PHP script which shuts down your computer in another page, called for example <code>shutdown.php</code>:</p>\n\n<pre><code>&lt;?php\nfunction sysShut(){\n try{ \n    echo 'Computer shutdown on the way &lt;br/&gt;';\n\n    ob_start();\n    exec(\"systemshutdown.bat\"); \n    ob_end_clean();\n    //echo 'not a shame &lt;br/&gt;';\n }\n catch(Exception $e){\n    echo $e.getMessage();\n }  \n}\n\nsysShut();\n?&gt;\n</code></pre>\n\n<p>And then do:</p>\n\n<pre><code>&lt;html&gt;&lt;body&gt;\n&lt;button id=\"btn\" onclick=\"location.href = 'shutdown.php';\" class=\"btn btn-warning\"&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 11074512, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-e4_A54_cFds/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPPEr4_uRAl5B251OW9P0MtXl4rKQ/mo/photo.jpg?sz=128", "display_name": "chris b", "link": "https://stackoverflow.com/users/11074512/chris-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1573072788, "creation_date": 1573072217, "question_id": 58738043, "link": "https://stackoverflow.com/questions/58738043/handling-php-function-that-shutdown-the-system-in-a-button-by-onclick-event", "title": "handling php function that shutdown the system in a button by onclick event", "body": "<p>A php function to shutdown my pc is not handled in a button by onclick event handler. On refreshing my page the pc warns about a shutdown before i can click the button which should invoke the event handler.</p>\n\n<p>Am using windows 10 and i have a .bat file which works fine. Event in php after executing the .bat file it is shutting the pc as expected.The problem is after setting a button element in html to listen to a click that it can shut the pc. on loading the page with the script and the html the pc warns shutting down  which is unexpected as no click on the button has been made.</p>\n\n<pre><code>&lt;?php\nfunction sysShut(){\n try{ \n    echo 'Computer shutdown on the way &lt;br/&gt;';\n\n    ob_start();\n    exec(\"systemshutdown.bat\"); \n    ob_end_clean();\n    //echo 'not a shame &lt;br/&gt;';\n }\n catch(Exception $e){\n    echo $e.getMessage();\n }  \n}\n?&gt;\n\n&lt;button id=\"btn\" onclick=\"&lt;?php sysShut();?&gt;\" class=\"btn btn-warning\"&gt;\n&lt;img src=\"images/shutdownicon.jpeg\"  alt=\"shutdownicon.png\" title=\"PC \n   Shutdown\"/&gt;\n&lt;/button&gt;\n</code></pre>\n\n<p>the expectation is that the script in .bat file should run only after clicking the button</p>\n"}, {"tags": ["javascript", "node.js", "knex.js"], "comments": [{"owner": {"reputation": 9859, "user_id": 1326536, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wfyBq.jpg?s=128&g=1", "display_name": "GillesC", "link": "https://stackoverflow.com/users/1326536/gillesc"}, "edited": false, "score": 1, "creation_date": 1573072454, "post_id": 58738032, "comment_id": 103766180, "body": "An error in meeting.js by the sound of it. I would suggest posting the all code for <code>meetings.js</code> as the error is probably in the knex functions. Going to be hard for anyone to help otherwise."}, {"owner": {"reputation": 3, "user_id": 11455904, "user_type": "registered", "profile_image": "https://graph.facebook.com/2237282462974025/picture?type=large", "display_name": "Michal Kozlova", "link": "https://stackoverflow.com/users/11455904/michal-kozlova"}, "reply_to_user": {"reputation": 9859, "user_id": 1326536, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wfyBq.jpg?s=128&g=1", "display_name": "GillesC", "link": "https://stackoverflow.com/users/1326536/gillesc"}, "edited": false, "score": 0, "creation_date": 1573072919, "post_id": 58738032, "comment_id": 103766363, "body": "@GillesC thanks, posted"}], "answers": [{"tags": [], "owner": {"reputation": 3, "user_id": 11455904, "user_type": "registered", "profile_image": "https://graph.facebook.com/2237282462974025/picture?type=large", "display_name": "Michal Kozlova", "link": "https://stackoverflow.com/users/11455904/michal-kozlova"}, "is_accepted": true, "score": 0, "last_activity_date": 1573141926, "creation_date": 1573141926, "answer_id": 58752438, "question_id": 58738032, "link": "https://stackoverflow.com/questions/58738032/node-js-server-works-partly/58752438#58752438", "title": "Node.js server works partly", "body": "<p>Found a problem: in <code>meetings.js</code> the function should be <code>router.post</code> and not <code>app.post</code></p>\n"}], "owner": {"reputation": 3, "user_id": 11455904, "user_type": "registered", "profile_image": "https://graph.facebook.com/2237282462974025/picture?type=large", "display_name": "Michal Kozlova", "link": "https://stackoverflow.com/users/11455904/michal-kozlova"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 58752438, "answer_count": 1, "score": 0, "last_activity_date": 1573141926, "creation_date": 1573072185, "last_edit_date": 1573072846, "question_id": 58738032, "link": "https://stackoverflow.com/questions/58738032/node-js-server-works-partly", "title": "Node.js server works partly", "body": "<p>In api folder I have 3 js files (calls.js, meetings.js, statistics.js). All files look the same:</p>\n\n<pre><code>const express = require('express')\nconst router = express.Router()\n\nvar knex = require('knex')({\n    client: 'mysql',\n    connection: {\n      host : 'host',\n      user : 'user',\n      password : 'password',\n      database : 'database'\n    }\n});\n\n***knex functions***\n\nmodule.exports = router\n</code></pre>\n\n<p>all of them added in index.js file in the same way:</p>\n\n<pre><code>app.use('/api/calls', require('./routes/api/calls'))\napp.use('/api/statistics', require('./routes/api/statistics'))\napp.use('/api/meetings', require('./routes/api/meetings'))\n</code></pre>\n\n<p>For some reason meetings.js make troubles: \n1. If delete all knex functions from meetings.js - everything works;\n2. If delete the line <code>app.use('/api/meetings', require('./routes/api/meetings'))</code> from index.js - everything works;\nOtherwise browser says: \"This site can\u2019t be reached... ERR_CONNECTION_TIMED_OUT\"</p>\n\n<p>Full code of meetings.js:</p>\n\n<pre><code>const express = require('express')\nconst router = express.Router()\n\nvar knex = require('knex')({\n    client: 'mysql',\n    connection: {\n      host : 'host',\n      user : 'user',\n      password : 'password',\n      database : 'database'\n    }\n});\n\n\napp.post('/newMeetingDay', (req, res) =&gt; {\n  const city = req.body.city\n  const date = req.body.date\n  const scheduled = req.body.scheduled\n  const happened = req.body.happened\n  const adults = req.body.adults\n  const children = req.body.children\n  if (!city || !date || !scheduled || !happened || !adults || !children){\n    return res.json({Error: 'details are missing'})\n  }\n\n  knex('MeetingDays').insert({City: city, Date: date, Scheduled: scheduled, Happened: happened, \n                              Adults: adults, Children: children}).then(data =&gt; {\n    return res.json({Done: 'new meeting day saved'})\n  }).catch(err =&gt; {\n    return res.json({Error: err})\n  })\n})\n\n\nmodule.exports = router\n</code></pre>\n\n<p>Does anyone know what can be a problem?</p>\n"}, {"tags": ["javascript", "arrays", "date", "utc"], "answers": [{"comments": [{"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1573096031, "post_id": 58737999, "comment_id": 103772441, "body": "There is no <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\" rel=\"nofollow noreferrer\">spread operator</a>. ;-)"}], "tags": [], "owner": {"reputation": 228178, "user_id": 87015, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2f9b099fb455d3ddedb0bfa7430e51a9?s=128&d=identicon&r=PG&f=1", "display_name": "Salman A", "link": "https://stackoverflow.com/users/87015/salman-a"}, "is_accepted": true, "score": 0, "last_activity_date": 1573072344, "last_edit_date": 1573072344, "creation_date": 1573072058, "answer_id": 58737999, "question_id": 58737966, "link": "https://stackoverflow.com/questions/58737966/passing-a-variable-as-the-arguments-for-date-utc/58737999#58737999", "title": "Passing a variable as the arguments for Date.UTC()", "body": "<p>How about using the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\" rel=\"nofollow noreferrer\"><code>...</code></a> operator:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>[\r\n  [2020],\r\n  [2019, 11, 25],\r\n  [2019, 11, 25, 12, 30]\r\n].forEach(function(dateArray) {\r\n  let utcTime = new Date(Date.UTC(...dateArray));\r\n  console.log(JSON.stringify(dateArray) + \" becomes \" + utcTime.toISOString());\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 175, "user_id": 8862138, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kU5ESJHAdUc/AAAAAAAAAAI/AAAAAAAAAEA/6UFJfKaw2Kk/photo.jpg?sz=128", "display_name": "Sandy Wyper", "link": "https://stackoverflow.com/users/8862138/sandy-wyper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 58737999, "answer_count": 1, "score": 0, "last_activity_date": 1573072344, "creation_date": 1573071884, "last_edit_date": 1573072097, "question_id": 58737966, "link": "https://stackoverflow.com/questions/58737966/passing-a-variable-as-the-arguments-for-date-utc", "title": "Passing a variable as the arguments for Date.UTC()", "body": "<p>I want to pass the arguments for Date.UTC() as an array stored in a variable instead of a series of arguments.  </p>\n\n<pre><code>let dateArray = [2019, 0, 1, 0]; \nlet utcTime = new Date(Date.UTC(dateArray));\n</code></pre>\n\n<p>returns NaN</p>\n\n<p>Of course this doesn't work because the object only accepts its arguments one after the other.  Like so;</p>\n\n<pre><code>let utcTime = new Date(Date.UTC(dateArray[0], dateArray[1], dateArray[2], dateArray[3]);\n</code></pre>\n\n<p>returns 1546300800000</p>\n\n<p>The problem is that I want it to work regardless of the length of the array in the variable.</p>\n\n<pre><code>let newYear = [2020];\nlet christmasDay = [2019,11,25];\nlet lunchTime = [2019,11,25,12,30];\n</code></pre>\n\n<p>Is there a way of passing these different variables as the arguments for the Date object?</p>\n"}, {"tags": ["javascript", "angular", "firebase", "async-await", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 12410, "user_id": 5217142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57daeb5f96b7a591e3447d41e59bbc94?s=128&d=identicon&r=PG&f=1", "display_name": "traktor", "link": "https://stackoverflow.com/users/5217142/traktor"}, "edited": false, "score": 2, "creation_date": 1573174073, "post_id": 58737964, "comment_id": 103805279, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\">How do I return the response from an asynchronous call?</a>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user12325098"}, "edited": false, "score": 0, "creation_date": 1573078223, "post_id": 58739071, "comment_id": 103768302, "body": "It returns an error -&gt; Property &#39;push&#39; does not exist on type &#39;AngularFirestoreCollection&lt;unknown&gt;&#39;"}, {"owner": {"reputation": 3, "user_id": 11455904, "user_type": "registered", "profile_image": "https://graph.facebook.com/2237282462974025/picture?type=large", "display_name": "Michal Kozlova", "link": "https://stackoverflow.com/users/11455904/michal-kozlova"}, "edited": false, "score": 0, "creation_date": 1573078552, "post_id": 58739071, "comment_id": 103768427, "body": "@ManWeb how do you define db?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12325098"}, "edited": false, "score": 0, "creation_date": 1573079009, "post_id": 58739071, "comment_id": 103768569, "body": "@MichailKozlova I had refined as -&gt;   private db: AngularFirestore"}, {"owner": {"reputation": 3, "user_id": 11455904, "user_type": "registered", "profile_image": "https://graph.facebook.com/2237282462974025/picture?type=large", "display_name": "Michal Kozlova", "link": "https://stackoverflow.com/users/11455904/michal-kozlova"}, "edited": false, "score": 0, "creation_date": 1573139662, "post_id": 58739071, "comment_id": 103791547, "body": "@ManWeb ok, sorry, confused with Firebase Database, Firestore really doesn&#39;t have push() fuction"}], "tags": [], "owner": {"reputation": 3, "user_id": 11455904, "user_type": "registered", "profile_image": "https://graph.facebook.com/2237282462974025/picture?type=large", "display_name": "Michal Kozlova", "link": "https://stackoverflow.com/users/11455904/michal-kozlova"}, "is_accepted": false, "score": 0, "last_activity_date": 1573077369, "creation_date": 1573077369, "answer_id": 58739071, "question_id": 58737964, "link": "https://stackoverflow.com/questions/58737964/how-can-i-access-the-auto-created-document-id-when-creating-a-new-firestore-docu/58739071#58739071", "title": "How can I access the auto-created document ID when creating a new Firestore document in Angular?", "body": "<p>Try following:</p>\n\n<pre><code>const fields = {\n      title: title,\n      score: number\n    }\n\n\n  var newFieldsRef = this.db.collection('saved').push();\n  this.db.collection('saved').child(newFieldsRef).set(fields);\n\n  var id = newFieldsRef.toString();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4919, "user_id": 3399890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/171944b3f88fd2fa4bc824b4b298de4e?s=128&d=identicon&r=PG&f=1", "display_name": "robsiemb", "link": "https://stackoverflow.com/users/3399890/robsiemb"}, "is_accepted": false, "score": 0, "last_activity_date": 1573171764, "last_edit_date": 1573171764, "creation_date": 1573171008, "answer_id": 58758552, "question_id": 58737964, "link": "https://stackoverflow.com/questions/58737964/how-can-i-access-the-auto-created-document-id-when-creating-a-new-firestore-docu/58758552#58758552", "title": "How can I access the auto-created document ID when creating a new Firestore document in Angular?", "body": "<p>You don't want to prevent waiting until the query is done, you should embrace the use of promises here.</p>\n\n<p>First, if you haven't, make sure you import the <code>firestore</code> namespace in the service:</p>\n\n<p><code>import { firestore } from 'firebase';</code></p>\n\n<p>Now, for your service:</p>\n\n<p>I had to slightly change your <code>makeDoc</code> method as the <code>fields</code> object wasn't being created in a valid way (e.g. reusing the <code>number</code> type):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>public makeDoc(titleParam: string, scoreParam: number): Promise&lt;firestore.DocumentReference&gt; {\n  const fields = {\n    title: titleParam,\n    score: scoreParam\n  };\n\n  return this.db.collection('saved').add(fields);\n}\n</code></pre>\n\n<p>This now returns a <code>Promise&lt;DocumentReference&gt;</code> which, when resolved, the reference will point to the created document.</p>\n\n<p>Now, the call to it in onCreate looks like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>onCreate() {\n  this.createService.makeDoc('myTitle', 123)\n    .then((ref) =&gt; { console.log(ref.id); })\n    .catch((err) =&gt; { console.log(err); });\n}\n</code></pre>\n\n<p>And this will log the id as soon as it is available.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user12325098"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1573175448, "creation_date": 1573071883, "last_edit_date": 1573175448, "question_id": 58737964, "link": "https://stackoverflow.com/questions/58737964/how-can-i-access-the-auto-created-document-id-when-creating-a-new-firestore-docu", "title": "How can I access the auto-created document ID when creating a new Firestore document in Angular?", "body": "<p>I am trying to return the document id when I create it. Since Firebase functions are async the return value is not completed until the query is done.  How can I prevent this so I can wait to get the value when the query is done?</p>\n\n<p>This function create the document is located in a service:</p>\n\n<pre><code>public makeDoc(title: string, score: number): any{\n\n    const fields = {\n      title: title,\n      score: number\n    }\n\n   this.db.collection('saved').add(fields)\n   .then(function(ref) {\n     console.log(ref.id);\n     return ref.id;\n     })\n\n  }\n</code></pre>\n\n<p>I call this from a function which is located in a component:</p>\n\n<pre><code>onCreate() {\n      const str = this.createService.makeDoc(this.title, this.score);\n    console.log(str);\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "ios", "cordova", "phonegap"], "comments": [{"owner": {"reputation": 1537, "user_id": 6702203, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/596141044cac45a2b336c0f8f5c92a82?s=128&d=identicon&r=PG", "display_name": "JM-AGMS", "link": "https://stackoverflow.com/users/6702203/jm-agms"}, "edited": false, "score": 0, "creation_date": 1573075036, "post_id": 58737961, "comment_id": 103767188, "body": "I think the default on an actual device is paused which is why you find the opposite in your search. Try it on a real device."}, {"owner": {"reputation": 161, "user_id": 7147468, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/XFrUF.jpg?s=128&g=1", "display_name": "kupkol", "link": "https://stackoverflow.com/users/7147468/kupkol"}, "reply_to_user": {"reputation": 1537, "user_id": 6702203, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/596141044cac45a2b336c0f8f5c92a82?s=128&d=identicon&r=PG", "display_name": "JM-AGMS", "link": "https://stackoverflow.com/users/6702203/jm-agms"}, "edited": false, "score": 0, "creation_date": 1573123634, "post_id": 58737961, "comment_id": 103782688, "body": "I don&#39;t have one :/"}], "owner": {"reputation": 161, "user_id": 7147468, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/XFrUF.jpg?s=128&g=1", "display_name": "kupkol", "link": "https://stackoverflow.com/users/7147468/kupkol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573102885, "creation_date": 1573071874, "question_id": 58737961, "link": "https://stackoverflow.com/questions/58737961/how-to-suspend-cordova-app-from-running-in-the-background-ios", "title": "How to suspend cordova app from running in the background ios", "body": "<p>I've got a cordova app which has to do with many timers. Basically they just count from let say 100 to 0 and play a sound at the end. I've realised that they don't stop counting when my app is moved to the background (i.e. by pressing the home button). On Android I solved it by setting \"keepRunning\" preference in config.xml to false.</p>\n\n<pre><code>&lt;preference name=\"keepRunning\" value=\"false\" /&gt;\n</code></pre>\n\n<p>The thing is I can't stop it from running in the background on my ios devices (Simulators to be specific). All articles and posts that I found are about how to keep it running but what I need is actually the opposite. I don't what the app to close as well. Just to pause it. I thought about using \"onPause()\" function but I don't really know what to write in there. Any ideas? Thanks in advance.</p>\n"}, {"tags": ["javascript", "c++", "http", "restbed"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 12334193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56afb056091e01cd5218348802b7d0fe?s=128&d=identicon&r=PG&f=1", "display_name": "Fatboychummy", "link": "https://stackoverflow.com/users/12334193/fatboychummy"}, "edited": false, "score": 0, "creation_date": 1573122773, "post_id": 58746187, "comment_id": 103782255, "body": "restbed seemingly doesn&#39;t care if you don&#39;t return a response code. When I was getting the GET method going I never responded anything and it was fine.  The real problem is that none of the code in <code>put_method_handler</code> is being run."}, {"owner": {"reputation": 21, "user_id": 12334193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56afb056091e01cd5218348802b7d0fe?s=128&d=identicon&r=PG&f=1", "display_name": "Fatboychummy", "link": "https://stackoverflow.com/users/12334193/fatboychummy"}, "edited": false, "score": 0, "creation_date": 1573122967, "post_id": 58746187, "comment_id": 103782352, "body": "I&#39;ll try it tomorrow though.  I&#39;ll come back here and mark it if it works, but I very much doubt it will."}, {"owner": {"reputation": 4410, "user_id": 8343843, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CNo1jh6oD1U/AAAAAAAAAAI/AAAAAAAAAD4/A_N62bZRoQw/photo.jpg?sz=128", "display_name": "Alexey R.", "link": "https://stackoverflow.com/users/8343843/alexey-r"}, "reply_to_user": {"reputation": 21, "user_id": 12334193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56afb056091e01cd5218348802b7d0fe?s=128&d=identicon&r=PG&f=1", "display_name": "Fatboychummy", "link": "https://stackoverflow.com/users/12334193/fatboychummy"}, "edited": false, "score": 0, "creation_date": 1573123141, "post_id": 58746187, "comment_id": 103782439, "body": "Yes, please check and get back with the results. As per HTTP specification, GET request must not return 501 error (<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/501\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/Status/501</a>). Probably this is why GET is handled in some special way in restbed.."}, {"owner": {"reputation": 21, "user_id": 12334193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56afb056091e01cd5218348802b7d0fe?s=128&d=identicon&r=PG&f=1", "display_name": "Fatboychummy", "link": "https://stackoverflow.com/users/12334193/fatboychummy"}, "edited": false, "score": 0, "creation_date": 1573880626, "post_id": 58746187, "comment_id": 104041966, "body": "Hey sorry I&#39;m really late for this... Problem ended up being that our restbed implementation had broken.  Don&#39;t know the cause of that, but removing it and redownloading worked."}], "tags": [], "owner": {"reputation": 4410, "user_id": 8343843, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CNo1jh6oD1U/AAAAAAAAAAI/AAAAAAAAAD4/A_N62bZRoQw/photo.jpg?sz=128", "display_name": "Alexey R.", "link": "https://stackoverflow.com/users/8343843/alexey-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1573120746, "creation_date": 1573120746, "answer_id": 58746187, "question_id": 58737904, "link": "https://stackoverflow.com/questions/58737904/getting-http-501-not-implemented-when-there-is-definitely-an-implementation/58746187#58746187", "title": "Getting HTTP 501 Not Implemented when there is definitely an implementation?", "body": "<p>I have just checked <a href=\"https://github.com/Corvusoft/restbed/blob/master/test/feature/source/http_method_handlers/http_put.cpp\" rel=\"nofollow noreferrer\">how restbed developers test <code>put</code> method</a>.. Below is the code snippet:</p>\n\n<pre><code>void put_handler( const shared_ptr&lt; Session &gt; session )\n{\n    session-&gt;close( 200, \"Hello, World!\", { { \"Content-Length\", \"13\" }, { \"Connection\", \"close\" } } );\n}\n\nSCENARIO( \"publishing single path resources\", \"[resource]\" )\n{\n    auto resource = make_shared&lt; Resource &gt;( );\n    resource-&gt;set_path( \"/resources/1\" );\n    resource-&gt;set_method_handler( \"PUT\", put_handler );\n    ...\n}\n</code></pre>\n\n<p>My guess is that you're not returning success code in your put handler so that server thinks that not explicit code returned means the method is not implemented.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 12334193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56afb056091e01cd5218348802b7d0fe?s=128&d=identicon&r=PG&f=1", "display_name": "Fatboychummy", "link": "https://stackoverflow.com/users/12334193/fatboychummy"}, "is_accepted": true, "score": 0, "last_activity_date": 1573880652, "creation_date": 1573880652, "answer_id": 58887757, "question_id": 58737904, "link": "https://stackoverflow.com/questions/58737904/getting-http-501-not-implemented-when-there-is-definitely-an-implementation/58887757#58887757", "title": "Getting HTTP 501 Not Implemented when there is definitely an implementation?", "body": "<p>Problem ended up being that our restbed implementation had broken. Don't know the cause of that, but removing it and redownloading worked.</p>\n"}], "owner": {"reputation": 21, "user_id": 12334193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56afb056091e01cd5218348802b7d0fe?s=128&d=identicon&r=PG&f=1", "display_name": "Fatboychummy", "link": "https://stackoverflow.com/users/12334193/fatboychummy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 58887757, "answer_count": 2, "score": 0, "last_activity_date": 1573880652, "creation_date": 1573071598, "question_id": 58737904, "link": "https://stackoverflow.com/questions/58737904/getting-http-501-not-implemented-when-there-is-definitely-an-implementation", "title": "Getting HTTP 501 Not Implemented when there is definitely an implementation?", "body": "<p>I'm attempting to make a simple http service, I've got GET and POST working so far.  For some reason though every time I try to send a PUT, my restbed server returns 501, even though I have the method handler set for PUT.</p>\n\n<p>The PUT, POST, and GET methods are set the exact same way, via <code>resource-&gt;set_method_handler(\"METHOD\", METHOD_method_handler);</code></p>\n\n<p>The handler / setup</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>void put_method_handler(const std::shared_ptr&lt;restbed::Session&gt;&amp; session) {\n  const auto request = session-&gt;get_request();\n\n  std::cout &lt;&lt; \"yes\\n\";\n}\n\nint main() {\n  auto resource = std::make_shared&lt;restbed::Resource&gt;();\n  resource-&gt;set_path(\"/resource\");\n  resource-&gt;set_method_handler(\"PUT\", put_method_handler);\n\n  // bla bla service.publish() etc\n}\n</code></pre>\n\n<p>Currently using a simple javascript FETCH via the chrome console to just see if it's recieving anything.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>fetch(\"http://localhost:1234/resource\", {method: 'PUT', body: {}})\n</code></pre>\n\n<p>My server should be printing the <code>cout</code> statement, but instead it is silent and the <code>fetch</code> returns 501.</p>\n"}, {"tags": ["javascript", "jquery", "html", "ajax", "api"], "comments": [{"owner": {"reputation": 8868, "user_id": 1814420, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/f42333f84c7e40dc9335028d6ccb13ca?s=128&d=identicon&r=PG", "display_name": "Triet Doan", "link": "https://stackoverflow.com/users/1814420/triet-doan"}, "edited": false, "score": 1, "creation_date": 1573075549, "post_id": 58737876, "comment_id": 103767378, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/13011313/storing-ajax-response-array-into-a-variable-for-later-usage\">Storing ajax response array into a variable for later usage</a>"}], "answers": [{"comments": [{"owner": {"reputation": 8912, "user_id": 5904928, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/jwFz9.png?s=128&g=1", "display_name": "Aaditya Ura", "link": "https://stackoverflow.com/users/5904928/aaditya-ura"}, "edited": false, "score": 0, "creation_date": 1573072916, "post_id": 58738128, "comment_id": 103766360, "body": "I&#39;ve updated the question, Please check. I just want to call one post api from ajax and then store the output in one var."}], "tags": [], "owner": {"reputation": 86, "user_id": 8338950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4eb9e2c19ce77235085b8f38605ad27?s=128&d=identicon&r=PG&f=1", "display_name": "guiw5", "link": "https://stackoverflow.com/users/8338950/guiw5"}, "is_accepted": false, "score": 0, "last_activity_date": 1573072643, "creation_date": 1573072643, "answer_id": 58738128, "question_id": 58737876, "link": "https://stackoverflow.com/questions/58737876/how-to-store-the-value-of-post-ajax-request-to-a-var/58738128#58738128", "title": "How to store the value of post ajax request to a var?", "body": "<p>I'm not sure about which is your question.. if you want to handle the response of the ajax, in a async way you should know about the concept of the callback, when the ajax is resolve you will have the execution flow in one of</p>\n\n<p>success: function(data) { console.log(data) }\nor \nerror: function(error) { console.log(error) }</p>\n\n<p>here you have the official docs of $.ajax, \n<a href=\"https://api.jquery.com/jquery.ajax/\" rel=\"nofollow noreferrer\">https://api.jquery.com/jquery.ajax/</a> </p>\n\n<p>Hope it helps</p>\n"}, {"comments": [{"owner": {"reputation": 3124, "user_id": 509916, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/aYu1R.jpg?s=128&g=1", "display_name": "Thanh Trung", "link": "https://stackoverflow.com/users/509916/thanh-trung"}, "edited": false, "score": 2, "creation_date": 1573075224, "post_id": 58738606, "comment_id": 103767273, "body": "It worth mentioning that <code>async&#47;await</code> works only on browsers with es6 support."}], "tags": [], "owner": {"reputation": 86, "user_id": 8338950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4eb9e2c19ce77235085b8f38605ad27?s=128&d=identicon&r=PG&f=1", "display_name": "guiw5", "link": "https://stackoverflow.com/users/8338950/guiw5"}, "is_accepted": false, "score": 0, "last_activity_date": 1573074951, "creation_date": 1573074951, "answer_id": 58738606, "question_id": 58737876, "link": "https://stackoverflow.com/questions/58737876/how-to-store-the-value-of-post-ajax-request-to-a-var/58738606#58738606", "title": "How to store the value of post ajax request to a var?", "body": "<p>Ok, you could call an async method like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const myPromise = function() {\r\n//it returns a promise (is has to be resolved/rejected, or awaited/catched)\r\n//or use callbacks instead, (search about callback hell first)\r\n  return $.ajax({ \r\n    type:'post', \r\n    url: 'http://9dbad321.ngrok.io/output', \r\n    data:{'query': 'sure'}, \r\n    dataType:'jsonp'});\r\n}\r\n\r\n\r\nconst getFake = async function() {\r\n    try {\r\n    var fake = await myPromise();\r\n  } catch (error) {\r\n    console.log(\"something failed\", error)\r\n  }\r\n}\r\n\r\nvar fake = getFake();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 8912, "user_id": 5904928, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/jwFz9.png?s=128&g=1", "display_name": "Aaditya Ura", "link": "https://stackoverflow.com/users/5904928/aaditya-ura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1573074951, "creation_date": 1573071458, "last_edit_date": 1573072888, "question_id": 58737876, "link": "https://stackoverflow.com/questions/58737876/how-to-store-the-value-of-post-ajax-request-to-a-var", "title": "How to store the value of post ajax request to a var?", "body": "<p>I am trying to call one api in ajax and store the output in one var and then I am showing that output to user.</p>\n\n<p>So far I have tried these two methods :</p>\n\n<pre><code>var Fake = $.ajax({async:false, url:'http://9dbad321.ngrok.io/output',\n                       type:'post',\n                       data:{'query': 'sure'},\n                       dataType:\"JSON\"\n                       }).responseJSON;\n</code></pre>\n\n<p>And</p>\n\n<pre><code>var Fake='';\n$.ajax({\n    type:'post',\n    url: 'http://9dbad321.ngrok.io/output',\n    data:{'query': 'sure'},\n    dataType:'text',\n    success: function(data) {\n        useReturnData(data);\n    }\n});\n</code></pre>\n\n<p>and my js code looks like this:</p>\n\n<pre><code>var $messages = $('.messages-content'),\n    d, h, m,\n    i = 0;\n\n$(window).load(function() {\n  $messages.mCustomScrollbar();\n  setTimeout(function() {\n    fakeMessage();\n  }, 100);\n});\n\nfunction updateScrollbar() {\n  $messages.mCustomScrollbar(\"update\").mCustomScrollbar('scrollTo', 'bottom', {\n    scrollInertia: 10,\n    timeout: 0\n  });\n}\n\nfunction setDate(){\n  d = new Date()\n  if (m != d.getMinutes()) {\n    m = d.getMinutes();\n    $('&lt;div class=\"timestamp\"&gt;' + d.getHours() + ':' + m + '&lt;/div&gt;').appendTo($('.message:last'));\n  }\n}\n\nfunction insertMessage() {\n  msg = $('.message-input').val();\n  if ($.trim(msg) == '') {\n    return false;\n  }\n  $('&lt;div class=\"message message-personal\"&gt;' + msg + '&lt;/div&gt;').appendTo($('.mCSB_container')).addClass('new');\n  setDate();\n  $('.message-input').val(null);\n  updateScrollbar();\n  setTimeout(function() {\n    fakeMessage();\n  }, 1000 + (Math.random() * 20) * 100);\n}\n\n$('.message-submit').click(function() {\n  insertMessage();\n});\n\n$(window).on('keydown', function(e) {\n  if (e.which == 13) {\n    insertMessage();\n    return false;\n  }\n})\n\n\nvar Fake = 'store api output here'\n\nfunction useReturnData(data){\n    myvar = data;\n    console.log(myvar);\n};\n\n\n\n// var Fake = '&lt;img src=\" https://media.tumblr.com/78a9d3eae59a2a3ed8531b482bdc5a4f/tumblr_inline_mgzkontwjP1rxsw83.gif\"&gt;&lt;/img&gt; &lt;b&gt;&lt;center&gt;Happy Birthday! :) &lt;/b&gt;&lt;br&gt;&lt;br&gt;So What are your plans for today?'\n\nfunction fakeMessage() {\n  if ($('.message-input').val() != '') {\n    return false;\n  }\n  $('&lt;div class=\"message loading new\"&gt;&lt;figure class=\"avatar\"&gt;&lt;img src=\"https://images.ly/2iAb20v\" /&gt;&lt;/figure&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;').appendTo($('.mCSB_container'));\n  updateScrollbar();\n\n  setTimeout(function() {\n    $('.message.loading').remove();\n    $('&lt;div class=\"message new\"&gt;&lt;figure class=\"avatar\"&gt;&lt;img src=\"https://images.ly/2iAb20v\" /&gt;&lt;/figure&gt;' + Fake + '&lt;/div&gt;').appendTo($('.mCSB_container')).addClass('new');\n    setDate();\n    updateScrollbar();\n    i++;\n  }, 1000 + (Math.random() * 20) * 100);\n\n}\n</code></pre>\n\n<p>But it's not showing api's output. </p>\n\n<p>API information :</p>\n\n<pre><code>API type : POST\ndata     : {'query': 'sure'}\nurl (dummy) : http://9dbad321.ngrok.io/output\n</code></pre>\n\n<p>I am new in jQuery and Ajax, What I am trying to do is call post API from ajax and store the output in one var in the string format.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["javascript", "html", "css", "window", "modalviewcontroller"], "answers": [{"tags": [], "owner": {"reputation": 57, "user_id": 8759405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61147774840768fff6a7ac68f429bc9d?s=128&d=identicon&r=PG&f=1", "display_name": "Votech", "link": "https://stackoverflow.com/users/8759405/votech"}, "is_accepted": false, "score": 0, "last_activity_date": 1573075147, "creation_date": 1573075147, "answer_id": 58738648, "question_id": 58737868, "link": "https://stackoverflow.com/questions/58737868/how-to-close-modal-after-submit-javascript/58738648#58738648", "title": "How to close modal after submit JavaScript", "body": "<p>Thanks for everybody I find solution for my problem.</p>\n\n<p>Inside tag  i write action and url(); of second HTML page.</p>\n\n<pre><code>&lt;form action=\"secondHtml.html\"&gt; \n</code></pre>\n\n<p>After submit i go to main page.</p>\n"}], "owner": {"reputation": 57, "user_id": 8759405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61147774840768fff6a7ac68f429bc9d?s=128&d=identicon&r=PG&f=1", "display_name": "Votech", "link": "https://stackoverflow.com/users/8759405/votech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573075147, "creation_date": 1573071432, "question_id": 58737868, "link": "https://stackoverflow.com/questions/58737868/how-to-close-modal-after-submit-javascript", "title": "How to close modal after submit JavaScript", "body": "<p>I trying to learn JavaScript I make my Quiz game. \nI get problem with modal window,because when I write nickname after this I push Submit I wanna saving nickname in localStorage and close modal window.\nProblem is that modal window appear again and i can't passing to main page with Quiz.\nMaybe someone can explain me if is possible do it this in different way in JavaScript, at the first I was thinking to make to documents HTML one index.html and nickname.html , but I get also problem because I don't know how to change url(); in JavaScript after Submit.\nI appreciate every opinion. Thank You.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const enter = document.getElementById('enter');\r\nconst modal = document.getElementById('screen');\r\n\r\nenter.addEventListener('click',function(){\r\n    let forms =  document.forms[\"form-welcome\"][\"nickname\"].value\r\n\r\n    if(forms == \"\"){\r\n        alert(\"Write you nickname.\");\r\n        return false;\r\n    }\r\n    else{\r\n        modal.style.display = \"none\";\r\n        save();\r\n        \r\n    }\r\n})\r\n    function save(){\r\n        localStorage.setItem(\r\n            document.forms[\"form-welcome\"][\"nickname\"].value\r\n    \r\n            );\r\n    }</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>*{\r\n    margin: 0px;\r\n    padding: 0px;\r\n\r\n}\r\nbody{\r\n    background-color: red;\r\n}\r\n/*#####  Window Modal  #####*/\r\n.wrapper{\r\n    \r\n    font-size: 24px;\r\n    font-family:'Bree Serif', serif;\r\n    text-align: center;\r\n\r\n}\r\n.modal{\r\n    display: block;\r\n    position: fixed;\r\n    z-index: 1;\r\n    left: 0;\r\n    top:0;\r\n    width:100%;\r\n    height: 100%;\r\n    overflow: auto;\r\n    background-color: rgb(0,0,0);\r\n    background-color: rgb(0,0,0,0.4);\r\n}\r\n.offModal{\r\n    display: none;\r\n}\r\n.animate{\r\n    -webkit-animation: animatezoom 0.6s;\r\n    animation: animatezoom 0.6s;\r\n}\r\n.model{\r\n    display: inline-block;\r\n    margin-top: 25px;\r\n    width: 30%;\r\n    height: auto;\r\n    background-color: #4edb0cfb;\r\n    position: relative;\r\n    border-radius: 25px;\r\n    border:1px solid rgba(0, 0, 0, 0.267);\r\n    box-shadow: 1.5px 1.5px rgba(0, 0, 0, 0.4);\r\n    \r\n}\r\n\r\n.welcome{\r\n    letter-spacing: 1px;\r\n    position: relative;\r\n    text-align: center;\r\n    line-height: 50px;\r\n    padding-top: 15px;\r\n    margin-top: 15px;\r\n\r\n}\r\n.submit{\r\n    border-radius: 5px;\r\n    font-size: 30px;\r\n    margin: 10px;\r\n    padding: 10px;\r\n}\r\n.submit:hover{\r\n    background-color: rgb(153, 150, 150);\r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n    &lt;meta charset=\"UTF-8\"&gt;\r\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\r\n    &lt;title&gt;Final-Quiz&lt;/title&gt;\r\n    &lt;link rel=\"stylesheet\" href=\"reset.css\"&gt;\r\n    &lt;link rel=\"stylesheet\" href=\"style.css\"&gt;\r\n    &lt;link href=\"https://fonts.googleapis.com/css?family=Bree+Serif&amp;display=swap\" rel=\"stylesheet\"&gt;\r\n\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n    &lt;div class=\"wrapper\"&gt;\r\n\r\n        &lt;!--###############    FIST SCREEN    ################--&gt;\r\n        &lt;section&gt;\r\n            &lt;div id=\"screen\" class=\"modal\"&gt;\r\n                &lt;form class=\"welcome model\" name=\"form-welcome\"&gt;\r\n                    &lt;h1&gt;Final-Quiz&lt;/h1&gt;\r\n                    &lt;label for=\"nickname\"&gt;Nickname:&lt;/label&gt;\r\n                    &lt;input type=\"text\" name=\"nickname\" required&gt;\r\n                    &lt;input id=\"enter\" class=\"submit\" type=\"submit\" value=\"Enter\"&gt;\r\n                    &lt;p&gt;Let's check your knowledge about HTML,CSS and JavaScript.&lt;/p&gt;\r\n\r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;/section&gt;\r\n    &lt;/div&gt;\r\n    &lt;script src=\"localStorage.js\"&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "checkbox"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1573072068, "post_id": 58737867, "comment_id": 103766014, "body": "I assume the <code>s</code> is not really in your code."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1573072105, "post_id": 58737867, "comment_id": 103766025, "body": "So what is your problem? You seem to have the code hooked up with the change event and getting the checked count. So you do not know how to select elements in plain JavaScript? querySelectorAll ?"}, {"owner": {"reputation": 747, "user_id": 3532272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0T0Gu.jpg?s=128&g=1", "display_name": "korwalskiy", "link": "https://stackoverflow.com/users/3532272/korwalskiy"}, "edited": false, "score": 0, "creation_date": 1573074012, "post_id": 58737867, "comment_id": 103766798, "body": "Use querySelectorAll along with forEach and attach an event listener. In the loop, compare length of checked with length of checkables (new word alert, haha)"}, {"owner": {"reputation": 3, "user_id": 12334061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69e7dfddbc6f118bdad2a9d860e13ba3?s=128&d=identicon&r=PG&f=1", "display_name": "elliot.g", "link": "https://stackoverflow.com/users/12334061/elliot-g"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1573074017, "post_id": 58737867, "comment_id": 103766799, "body": "@epascarello Thanks for the s haha  And yes i don&#39;t really know to do it plain js"}, {"owner": {"reputation": 3, "user_id": 12334061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69e7dfddbc6f118bdad2a9d860e13ba3?s=128&d=identicon&r=PG&f=1", "display_name": "elliot.g", "link": "https://stackoverflow.com/users/12334061/elliot-g"}, "reply_to_user": {"reputation": 747, "user_id": 3532272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0T0Gu.jpg?s=128&g=1", "display_name": "korwalskiy", "link": "https://stackoverflow.com/users/3532272/korwalskiy"}, "edited": false, "score": 0, "creation_date": 1573074151, "post_id": 58737867, "comment_id": 103766845, "body": "@korwalskiy ok i will try using querySelectorAll &amp; forEach thank"}, {"owner": {"reputation": 155, "user_id": 5067483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f7d68fa06e14b9bb77a40b3cd691c1f?s=128&d=identicon&r=PG&f=1", "display_name": "Craig Stroman", "link": "https://stackoverflow.com/users/5067483/craig-stroman"}, "edited": false, "score": 1, "creation_date": 1573075387, "post_id": 58737867, "comment_id": 103767321, "body": "You could use something like: document.querySelectorAll(     &#39;input[type=&quot;checkbox&quot;]:checked&#39;   ).length; to get the length of checked checkboxes."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 12334061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69e7dfddbc6f118bdad2a9d860e13ba3?s=128&d=identicon&r=PG&f=1", "display_name": "elliot.g", "link": "https://stackoverflow.com/users/12334061/elliot-g"}, "edited": false, "score": 0, "creation_date": 1573141153, "post_id": 58738902, "comment_id": 103792366, "body": "Thanks, is was the loop that i think i had difficulties and the check the total.  And thank you very much for the comments! it help a lot to understand!"}], "tags": [], "owner": {"reputation": 1537, "user_id": 6702203, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/596141044cac45a2b336c0f8f5c92a82?s=128&d=identicon&r=PG", "display_name": "JM-AGMS", "link": "https://stackoverflow.com/users/6702203/jm-agms"}, "is_accepted": true, "score": 1, "last_activity_date": 1573076451, "creation_date": 1573076451, "answer_id": 58738902, "question_id": 58737867, "link": "https://stackoverflow.com/questions/58737867/how-to-confirm-that-all-checkbox-are-checked-before-doing-something/58738902#58738902", "title": "How to confirm that all checkbox are checked before doing something?", "body": "<p>The vanilla JavaScript version of that jQuery code would be: (Added comments so you can understand what is happening)</p>\n\n<pre><code>// gets all the inputs on the page with type = \"checkbox\"\nvar checkboxes = document.querySelectorAll('input[type=\"checkbox\"]');\n// loops through each checkbox\nfor (var i = 0; i &lt; checkboxes.length; i++) {\n  // add an change event listener to each checkbox\n  checkboxes[i].addEventListener('change', function() {\n    // gets the checkboxes that are ticked (or \"checked\")\n    var checkboxes_ticked = document.querySelectorAll('input[type=\"checkbox\"]:checked');\n    // check if the length of ticked checkboxes matches with the total checkboxes on the page\n    if (checkboxes_ticked.length === checkboxes.length) {\n      // all checkboxes where ticked! display your message\n      console.log(\"Je vais sur la formulaire\");\n    }\n  });\n}\n</code></pre>\n\n<p>Good luck.</p>\n"}], "owner": {"reputation": 3, "user_id": 12334061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69e7dfddbc6f118bdad2a9d860e13ba3?s=128&d=identicon&r=PG&f=1", "display_name": "elliot.g", "link": "https://stackoverflow.com/users/12334061/elliot-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 58738902, "answer_count": 1, "score": 0, "last_activity_date": 1573155122, "creation_date": 1573071428, "last_edit_date": 1573155122, "question_id": 58737867, "link": "https://stackoverflow.com/questions/58737867/how-to-confirm-that-all-checkbox-are-checked-before-doing-something", "title": "How to confirm that all checkbox are checked before doing something?", "body": "<p>My goal is If all checkbox are check the person can go further if not it will go to an excuse page.</p>\n\n<p>I found this in jQuery:</p>\n\n<pre><code>$(\"input[type='checkbox'].itemCheck\").change(function(){\n    var a = $(\"input[type='checkbox'].itemCheck\");\n    if(a.length == a.filter(\":checked\").length){\n        console.log(\"Je vais sur la formulaire\");\n\n    }\n});\n</code></pre>\n\n<p>I tried it and it works but I need it in vanilla js so I tried to convert it but I just can't find out how to accomplish this.</p>\n\n<p>I tried other logic to make it work but I can't figure how.</p>\n\n<pre><code>&lt;input type=\"checkbox\" name=\"verif\" class=\"checkbox itemCheck\"&gt;\n\n&lt;input type=\"checkbox\"  name=\"age\" class=\"checkbox itemCheck\"&gt;\n\n&lt;input type=\"checkbox\"  name=\"employed\" class=\"checkbox itemCheck\"&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "github", "github-actions"], "comments": [{"owner": {"reputation": 581, "user_id": 8726546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a6af9a7e7535c525cdacaf4c9c00d3f?s=128&d=identicon&r=PG&f=1", "display_name": "lekterable", "link": "https://stackoverflow.com/users/8726546/lekterable"}, "reply_to_user": {"reputation": 41497, "user_id": 661872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yqbSi.png?s=128&g=1", "display_name": "Lawrence Cherone", "link": "https://stackoverflow.com/users/661872/lawrence-cherone"}, "edited": false, "score": 0, "creation_date": 1573072773, "post_id": 58737785, "comment_id": 103766308, "body": "Thats how to use them in bash, im using nodejs"}, {"owner": {"reputation": 581, "user_id": 8726546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a6af9a7e7535c525cdacaf4c9c00d3f?s=128&d=identicon&r=PG&f=1", "display_name": "lekterable", "link": "https://stackoverflow.com/users/8726546/lekterable"}, "reply_to_user": {"reputation": 41497, "user_id": 661872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yqbSi.png?s=128&g=1", "display_name": "Lawrence Cherone", "link": "https://stackoverflow.com/users/661872/lawrence-cherone"}, "edited": false, "score": 1, "creation_date": 1573078970, "post_id": 58737785, "comment_id": 103768559, "body": "Here for example: <a href=\"https://help.github.com/en/actions/automating-your-workflow-with-github-actions/creating-and-using-encrypted-secrets#using-encrypted-secrets-in-a-workflow\" rel=\"nofollow noreferrer\">help.github.com/en/actions/&hellip;</a>"}, {"owner": {"reputation": 581, "user_id": 8726546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a6af9a7e7535c525cdacaf4c9c00d3f?s=128&d=identicon&r=PG&f=1", "display_name": "lekterable", "link": "https://stackoverflow.com/users/8726546/lekterable"}, "reply_to_user": {"reputation": 41497, "user_id": 661872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yqbSi.png?s=128&g=1", "display_name": "Lawrence Cherone", "link": "https://stackoverflow.com/users/661872/lawrence-cherone"}, "edited": false, "score": 0, "creation_date": 1573084224, "post_id": 58737785, "comment_id": 103769986, "body": "They are talking about forking the repo in which the workflow is defined not about forking a repo of the action. In my case it would be the &#39;github-actions-test-repo&#39;, so if someone forked it, he would not have access to the secrets, which obviously makes sense, but I&#39;m not working on a fork, as it&#39;s my repository. Appreciate the trying though, thanks for that ;)"}, {"owner": {"reputation": 41497, "user_id": 661872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yqbSi.png?s=128&g=1", "display_name": "Lawrence Cherone", "link": "https://stackoverflow.com/users/661872/lawrence-cherone"}, "edited": false, "score": 2, "creation_date": 1573087946, "post_id": 58737785, "comment_id": 103770790, "body": "did you re-run <code>npm run build</code> to update your changes? to <code>.&#47;dist&#47;index.js</code>, ive essentially setup the same and having no issues, <a href=\"https://github.com/lcherone/gh-actions/commit/cb456052747169dbae44d0396def5189d5dd2c0a/checks?check_suite_id=299460424\" rel=\"nofollow noreferrer\">github.com/lcherone/gh-actions/commit/&hellip;</a> the secret env var (process.env.foo) won&#39;t show its values but it is 10 chars long. I&#39;m thinking now you just have old code in ./dist."}, {"owner": {"reputation": 581, "user_id": 8726546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a6af9a7e7535c525cdacaf4c9c00d3f?s=128&d=identicon&r=PG&f=1", "display_name": "lekterable", "link": "https://stackoverflow.com/users/8726546/lekterable"}, "reply_to_user": {"reputation": 41497, "user_id": 661872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yqbSi.png?s=128&g=1", "display_name": "Lawrence Cherone", "link": "https://stackoverflow.com/users/661872/lawrence-cherone"}, "edited": false, "score": 0, "creation_date": 1573119491, "post_id": 58737785, "comment_id": 103780430, "body": "you were actually right when mentioning the forked repo, I just understood that they meant that when you are opening pull requests IN the forked repo, then action will not get secrets, but actually when you are opening PR FROM the forked repo to the main one, actions still won&#39;t have access to them, thanks for your help :)"}], "answers": [{"comments": [{"owner": {"reputation": 581, "user_id": 8726546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a6af9a7e7535c525cdacaf4c9c00d3f?s=128&d=identicon&r=PG&f=1", "display_name": "lekterable", "link": "https://stackoverflow.com/users/8726546/lekterable"}, "edited": false, "score": 0, "creation_date": 1573119913, "post_id": 58740879, "comment_id": 103780662, "body": "yup, you are right, I just thought that when talking about forked repo they were speaking about workflows triggered IN the forked repo, I didn&#39;t expect that action triggered by a PR merged to the main repository was also the case. Can you think of a way of doing this? I mean I really need in an action triggered by a PR merged to the main repository to have access to the secret"}, {"owner": {"reputation": 12695, "user_id": 11934042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4fd3e15c86ccfd8897e44bc97856fbe?s=128&d=identicon&r=PG", "display_name": "peterevans", "link": "https://stackoverflow.com/users/11934042/peterevans"}, "reply_to_user": {"reputation": 581, "user_id": 8726546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a6af9a7e7535c525cdacaf4c9c00d3f?s=128&d=identicon&r=PG&f=1", "display_name": "lekterable", "link": "https://stackoverflow.com/users/8726546/lekterable"}, "edited": false, "score": 0, "creation_date": 1573120580, "post_id": 58740879, "comment_id": 103781047, "body": "I\u2019ve run into the same issue but for a slightly different use case. I\u2019ve tried a couple of ways to work around it but unfortunately not found anything that works. Even if I had found a work around I imagine that GitHub would find a way to close it off. It\u2019s basically a privilege escalation security issue. The only way to use secrets is to have an event that is triggered by a user with write access."}, {"owner": {"reputation": 2901, "user_id": 1734815, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pB5aj.png?s=128&g=1", "display_name": "Danielo515", "link": "https://stackoverflow.com/users/1734815/danielo515"}, "edited": false, "score": 0, "creation_date": 1580234444, "post_id": 58740879, "comment_id": 106028213, "body": "Can  you think un any other scenario where this could happen? I&#39;m working on my own repository and I have this exact problem"}], "tags": [], "owner": {"reputation": 12695, "user_id": 11934042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4fd3e15c86ccfd8897e44bc97856fbe?s=128&d=identicon&r=PG", "display_name": "peterevans", "link": "https://stackoverflow.com/users/11934042/peterevans"}, "is_accepted": false, "score": 7, "last_activity_date": 1596531096, "last_edit_date": 1596531096, "creation_date": 1573091753, "answer_id": 58740879, "question_id": 58737785, "link": "https://stackoverflow.com/questions/58737785/github-actions-empty-env-secrets/58740879#58740879", "title": "GitHub Actions - empty env secrets", "body": "<p><strong>Update</strong></p>\n<p>While the original answer below does still apply to <em>public</em> repositories, there are a couple of <a href=\"https://github.blog/2020-08-03-github-actions-improvements-for-fork-and-pull-request-workflows/\" rel=\"nofollow noreferrer\">new updates</a> that may help for some use cases.</p>\n<ul>\n<li><p>If your repository is private, you can now <a href=\"https://docs.github.com/en/github/administering-a-repository/disabling-or-limiting-github-actions-for-a-repository#enabling-workflows-for-private-repository-forks\" rel=\"nofollow noreferrer\">enable workflows</a> from forks.</p>\n</li>\n<li><p>If your repository is public, there is a new <a href=\"https://docs.github.com/en/actions/reference/events-that-trigger-workflows#pull_request_target\" rel=\"nofollow noreferrer\"><code>pull_request_target</code></a> event that is not subject to any token restrictions.</p>\n</li>\n</ul>\n<p><strong>Original Answer</strong></p>\n<p>The reason you are experiencing this behaviour is because the <code>Invite</code> workflow is being triggered by a pull request from a forked repository.</p>\n<blockquote>\n<p>With the exception of GITHUB_TOKEN, secrets are not passed to the runner when a workflow is triggered from a forked repository.</p>\n</blockquote>\n<p>When this happens, the <code>actor</code> of the workflow is the user that opened the pull request. If that user doesn't have write access to your repository then they cannot use secrets (other than <code>GITHUB_TOKEN</code>).</p>\n<blockquote>\n<p>Anyone with write access to a repository can create, read, and use secrets.</p>\n</blockquote>\n<p>ref: <a href=\"https://help.github.com/en/actions/automating-your-workflow-with-github-actions/creating-and-using-encrypted-secrets#using-encrypted-secrets-in-a-workflow\" rel=\"nofollow noreferrer\">https://help.github.com/en/actions/automating-your-workflow-with-github-actions/creating-and-using-encrypted-secrets#using-encrypted-secrets-in-a-workflow</a></p>\n<p>If you run this step in your workflow you will see that it has nothing to do with your action. The <code>TEST_SECRET</code> secret won't be available in the workflow either.</p>\n<pre><code>      - name: Test\n        env:\n          TEST_GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n          TEST_SECRET: ${{ secrets.TEST_SECRET }}\n        run: |\n          echo ${#TEST_GITHUB_TOKEN}\n          echo ${#TEST_SECRET}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/L5BLj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L5BLj.png\" alt=\"Test secrets on pull requests from forks\" /></a></p>\n<p>Checking the event data in the GitHub context you'll see that <code>actor</code> is the user that forked the repository and opened the pull request.</p>\n<pre><code>      - name: Dump GitHub context\n        env:\n          GITHUB_CONTEXT: ${{ toJson(github) }}\n        run: echo &quot;$GITHUB_CONTEXT&quot;\n</code></pre>\n<p><a href=\"https://github.community/t5/GitHub-Actions/Can-t-push-to-forked-repository-on-the-original-repository-s/m-p/35916/highlight/true#M2372\" rel=\"nofollow noreferrer\">This is a different but related issue</a> answered by a GitHub staff member where it's explained that these limitations on forked repositories exist to &quot;prevent malicious actors from using actions to poison upstream or downstream repos.&quot;</p>\n"}, {"tags": [], "owner": {"reputation": 581, "user_id": 8726546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a6af9a7e7535c525cdacaf4c9c00d3f?s=128&d=identicon&r=PG&f=1", "display_name": "lekterable", "link": "https://stackoverflow.com/users/8726546/lekterable"}, "is_accepted": true, "score": 1, "last_activity_date": 1585223528, "creation_date": 1585223528, "answer_id": 60866638, "question_id": 58737785, "link": "https://stackoverflow.com/questions/58737785/github-actions-empty-env-secrets/60866638#60866638", "title": "GitHub Actions - empty env secrets", "body": "<p>I've found a solution, what I did to work around it is instead of running the action on closing the PR I'm running it on a new commit on master, this has to be triggered by someone with 'write rights' to the repo, therefore, it has access to the repo secrets.</p>\n\n<p>It's a bit harder to check if the commit is a merge commit and we have to explicitly fetch more info about the PR, but it works. Source code of an action I was trying to build if someone is interested: <a href=\"https://github.com/lekterable/inclusive-organization-action\" rel=\"nofollow noreferrer\">https://github.com/lekterable/inclusive-organization-action</a></p>\n"}, {"tags": [], "owner": {"reputation": 6690, "user_id": 177275, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/jBMYN.jpg?s=128&g=1", "display_name": "Yuri Astrakhan", "link": "https://stackoverflow.com/users/177275/yuri-astrakhan"}, "is_accepted": false, "score": 1, "last_activity_date": 1587968254, "creation_date": 1587968254, "answer_id": 61452782, "question_id": 58737785, "link": "https://stackoverflow.com/questions/58737785/github-actions-empty-env-secrets/61452782#61452782", "title": "GitHub Actions - empty env secrets", "body": "<p>I have implemented a workaround documented in <a href=\"https://stackoverflow.com/a/61450807/177275\">https://stackoverflow.com/a/61450807/177275</a> to solve these types of problems. Essentially an action that runs on PR creates some artifacts, and later a cron job that runs every 5 minutes scans for those artifacts and acts on them.  I use it to post build results to the pull request page as comments, but you can adapt the same approach for other use cases.</p>\n"}], "owner": {"reputation": 581, "user_id": 8726546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a6af9a7e7535c525cdacaf4c9c00d3f?s=128&d=identicon&r=PG&f=1", "display_name": "lekterable", "link": "https://stackoverflow.com/users/8726546/lekterable"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4696, "favorite_count": 3, "accepted_answer_id": 60866638, "answer_count": 3, "score": 11, "last_activity_date": 1596531096, "creation_date": 1573071014, "question_id": 58737785, "link": "https://stackoverflow.com/questions/58737785/github-actions-empty-env-secrets", "title": "GitHub Actions - empty env secrets", "body": "<p>I've started playing with GitHub actions, but I'm struggling with accessing repository secrets which I pass as env's.</p>\n\n<p>My workflow file:</p>\n\n<pre><code>name: Invite\n\non: \n  pull_request:\n    branches: [master]\n    types: [closed]\njobs:\n  invite:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Hello world action\n        uses: lekterable/inclusive-organization-action@master\n        env:\n          SECRET_TOKEN: ${{ secrets.SECRET_TOKEN }}\n          organization: string\n          SUPER_SECRET: ${{ secrets.SUPER_SECRET }}\n</code></pre>\n\n<p>action index file</p>\n\n<pre><code>const core = require('@actions/core')\nconst github = require('@actions/github')\n\nconst run = async () =&gt; {\n  try {\n    ...\n    console.log('env', process.env)\n    const token = process.env.SECRET_TOKEN\n    const secret = process.env.SUPER_SECRET\n    const organization = process.env.organization\n    console.log('organization', organization)\n    console.log('token?', !!token)\n    console.log('secret?', !!secret)\n    console.log('token length', token.length)\n    ...\n  } catch (error) {\n    core.setFailed(error.message)\n  }\n}\n\nrun()\n\n</code></pre>\n\n<p>as you can see I'm passing 3 env's, the organization which has a value of 'string' exists as expected, but SECRET_TOKEN and SUPER_SECRET are empty.</p>\n\n<p><a href=\"https://i.stack.imgur.com/kxZRq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kxZRq.png\" alt=\"enter image description here\"></a></p>\n\n<p>And yes, I do have the secrets set in the repo which runs the action:</p>\n\n<p><a href=\"https://i.stack.imgur.com/PJGGv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PJGGv.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is there something that I'm doing wrong?</p>\n"}, {"tags": ["javascript", "php", "jquery", "html", "ajax"], "comments": [{"owner": {"reputation": 187, "user_id": 11536395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6e6219ff0428a6ff7b8d32563a5ab24?s=128&d=identicon&r=PG&f=1", "display_name": "ezra", "link": "https://stackoverflow.com/users/11536395/ezra"}, "edited": false, "score": 0, "creation_date": 1573071576, "post_id": 58737783, "comment_id": 103765765, "body": "xml http request"}, {"owner": {"reputation": 35, "user_id": 12298806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zm1EQ.png?s=128&g=1", "display_name": "EnderAdel", "link": "https://stackoverflow.com/users/12298806/enderadel"}, "reply_to_user": {"reputation": 187, "user_id": 11536395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6e6219ff0428a6ff7b8d32563a5ab24?s=128&d=identicon&r=PG&f=1", "display_name": "ezra", "link": "https://stackoverflow.com/users/11536395/ezra"}, "edited": false, "score": 0, "creation_date": 1573072188, "post_id": 58737783, "comment_id": 103766065, "body": "I&#39;ve already answered my question"}, {"owner": {"reputation": 187, "user_id": 11536395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6e6219ff0428a6ff7b8d32563a5ab24?s=128&d=identicon&r=PG&f=1", "display_name": "ezra", "link": "https://stackoverflow.com/users/11536395/ezra"}, "edited": false, "score": 0, "creation_date": 1573072867, "post_id": 58737783, "comment_id": 103766338, "body": "well then I apologize."}], "answers": [{"tags": [], "owner": {"reputation": 35, "user_id": 12298806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zm1EQ.png?s=128&g=1", "display_name": "EnderAdel", "link": "https://stackoverflow.com/users/12298806/enderadel"}, "is_accepted": true, "score": 1, "last_activity_date": 1573072954, "last_edit_date": 1573072954, "creation_date": 1573071617, "answer_id": 58737906, "question_id": 58737783, "link": "https://stackoverflow.com/questions/58737783/how-to-change-the-page-content-without-reloading/58737906#58737906", "title": "How to change the page content without reloading", "body": "<p>Yeah, I need to prevent the default action, this will do what I want:</p>\n\n<pre><code>$(function(){\n    $(\"a\").on(\"click\", function () {\n        event.preventDefault();\n        var href = $(this).attr('href');\n        $(\"#MyDiv\").load(href);\n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 12298806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zm1EQ.png?s=128&g=1", "display_name": "EnderAdel", "link": "https://stackoverflow.com/users/12298806/enderadel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 58737906, "answer_count": 1, "score": -1, "last_activity_date": 1573072987, "creation_date": 1573071008, "last_edit_date": 1573072987, "question_id": 58737783, "link": "https://stackoverflow.com/questions/58737783/how-to-change-the-page-content-without-reloading", "title": "How to change the page content without reloading", "body": "<p>I want to know how can I change the content of a div (for example: <code>&lt;div id=\"MyDiv\"&gt;&lt;/div&gt;</code>) when I click any link for an HTML file with PHP code?</p>\n\n<p>Now, I tried to do this:</p>\n\n<pre><code>$(function(){\n    $(\"a\").on(\"click\", function () {\n        var href = $(this).attr('href');\n        $(\"#MyDiv\").load(href);\n    });\n});\n</code></pre>\n\n<p>But it replaces the content of the whole page.</p>\n"}, {"tags": ["javascript", "firefox", "safari", "es6-promise", "popupwindow"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1573072294, "post_id": 58737774, "comment_id": 103766105, "body": "Well there is little you can no to keep the pop up blocker from blocking it. You can try to open it first and change the location. Or you can detect it is blocked and tell the user."}, {"owner": {"reputation": 2198, "user_id": 10549313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4dd268b4cd15aa20cb25a4894be22?s=128&d=identicon&r=PG&f=1", "display_name": "Bravo", "link": "https://stackoverflow.com/users/10549313/bravo"}, "edited": false, "score": 0, "creation_date": 1573072299, "post_id": 58737774, "comment_id": 103766109, "body": "If you use the method described in the answer, it works <a href=\"https://jsfiddle.net/mxwtjkuo/\" rel=\"nofollow noreferrer\">jsfiddle.net/mxwtjkuo</a> ... of course, <b>you</b> can&#39;t change the third party library, therefore you can&#39;t fix your problem - why are you using a third party library to open a new window?"}, {"owner": {"reputation": 4778, "user_id": 12031739, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBL53wM9WHYa9QeNIq3MJ4scErCBV3t3egXL6NI5w=k-s128", "display_name": "Soc", "link": "https://stackoverflow.com/users/12031739/soc"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1573079593, "post_id": 58737774, "comment_id": 103768756, "body": "@epascarello, unfortunately I can&#39;t open the window as the third party library does this."}, {"owner": {"reputation": 4778, "user_id": 12031739, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBL53wM9WHYa9QeNIq3MJ4scErCBV3t3egXL6NI5w=k-s128", "display_name": "Soc", "link": "https://stackoverflow.com/users/12031739/soc"}, "reply_to_user": {"reputation": 2198, "user_id": 10549313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4dd268b4cd15aa20cb25a4894be22?s=128&d=identicon&r=PG&f=1", "display_name": "Bravo", "link": "https://stackoverflow.com/users/10549313/bravo"}, "edited": false, "score": 0, "creation_date": 1573079914, "post_id": 58737774, "comment_id": 103768873, "body": "@Bravo, the third party is responsible for collecting user input... it does it in a popup window. I was trying to get some additional information so that I could pass it as a parameter. The snippet that I provided was an example to demonstrate the issue."}, {"owner": {"reputation": 2198, "user_id": 10549313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4dd268b4cd15aa20cb25a4894be22?s=128&d=identicon&r=PG&f=1", "display_name": "Bravo", "link": "https://stackoverflow.com/users/10549313/bravo"}, "edited": false, "score": 0, "creation_date": 1573084771, "post_id": 58737774, "comment_id": 103770103, "body": "@Soc - I understand all that, I&#39;m saying you can&#39;t change third party code, so you can&#39;t fix this issue"}], "owner": {"reputation": 4778, "user_id": 12031739, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBL53wM9WHYa9QeNIq3MJ4scErCBV3t3egXL6NI5w=k-s128", "display_name": "Soc", "link": "https://stackoverflow.com/users/12031739/soc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 232, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1573689125, "creation_date": 1573070988, "last_edit_date": 1573689125, "question_id": 58737774, "link": "https://stackoverflow.com/questions/58737774/how-to-avoid-popup-blocker-initiated-from-a-promise-in-a-click-handler", "title": "How to avoid popup blocker initiated from a promise in a click handler", "body": "<p>I have a button that needs to fetch data on click before calling a third party library which ultimately opens a popup window.</p>\n\n<p>The problem that I have is that it works in Chrome, but fails in Firefox and Safari because the popup window is being blocked by their popup blockers.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2587677/avoid-browser-popup-blockers/40283785#40283785\">Avoid browser popup blockers</a> contains a work-around, however it doesn't work for me because I don't instantiate the popup window myself (the third party library does)</p>\n\n<p>Is there a way to get Firefox and Safari to recognize a <em>click</em> > <em>fetch (promise)</em> as a user initiated action so that it doesn't trigger the popup blocker?</p>\n\n<p>Note: The following snippet is included for readability, but it doesn't behave as expected using the StackOverflow code snippet tool. <strong>It is reproducible in the following JSFiddle: <a href=\"https://jsfiddle.net/jwrLgqs3/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/jwrLgqs3/</a></strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function thirdPartyLibraryThatOpensWindow(params) {\r\n  window.open(params.url);\r\n}\r\n\r\ndocument.querySelector('button').addEventListener('click', async () =&gt; {\r\n  const response = await fetch('https://dog.ceo/api/breeds/image/random');\r\n  const data = await response.json();\r\n  \r\n  thirdPartyLibraryThatOpensWindow({url: data.message});\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button&gt;Promise Button&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>EDIT: I am using Firefox 70.0.1 on MacOS Mojave (10.14.6)</p>\n\n<p>EDIT: Update to fix up statements that it was working in Safari, it doesn't</p>\n\n<p>EDIT: Works in Opera 64</p>\n"}, {"tags": ["javascript", "firebase", "firebase-realtime-database", "firebase-storage"], "answers": [{"comments": [{"owner": {"reputation": 1225, "user_id": 5724342, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d0fc4bbc261a7a2a233a196a0b655fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Gurmukh Singh", "link": "https://stackoverflow.com/users/5724342/gurmukh-singh"}, "edited": false, "score": 0, "creation_date": 1573122164, "post_id": 58737881, "comment_id": 103781960, "body": "I have updated the question with some new code, as I was having difficulties getting your solution to work, although it took me further, just struggling to display the image"}, {"owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "reply_to_user": {"reputation": 1225, "user_id": 5724342, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d0fc4bbc261a7a2a233a196a0b655fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Gurmukh Singh", "link": "https://stackoverflow.com/users/5724342/gurmukh-singh"}, "edited": false, "score": 0, "creation_date": 1573122537, "post_id": 58737881, "comment_id": 103782164, "body": "I cannot look into detail at your new code for the moment, but note that to display the image you should use <code>.src</code> and not <code>.innerHTML</code>, see <a href=\"https://stackoverflow.com/questions/1232793/javascript-set-img-src\" title=\"javascript set img src\">stackoverflow.com/questions/1232793/javascript-set-img-src</a>"}], "tags": [], "owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "is_accepted": false, "score": 1, "last_activity_date": 1573071834, "last_edit_date": 1573071834, "creation_date": 1573071493, "answer_id": 58737881, "question_id": 58737764, "link": "https://stackoverflow.com/questions/58737764/display-the-correct-firebase-storage-image-in-html-using-js/58737881#58737881", "title": "Display the correct firebase storage image in html using JS", "body": "<p>To get the <code>key</code> of the <a href=\"https://firebase.google.com/docs/reference/js/firebase.database.DataSnapshot\" rel=\"nofollow noreferrer\"><code>DataSnapshot</code></a>, you need to do <code>snap.key</code>, see the doc for the <a href=\"https://firebase.google.com/docs/reference/js/firebase.database.DataSnapshot#key\" rel=\"nofollow noreferrer\"><code>key</code></a> property.</p>\n\n<p>To get the URL of an image stored in Cloud Storage for Firebase, with the JavaScript SDK, you should use the <a href=\"https://firebase.google.com/docs/reference/js/firebase.storage.Reference#get-downloadurl\" rel=\"nofollow noreferrer\"><code>getDownloadURL()</code></a> method of a <a href=\"https://firebase.google.com/docs/reference/js/firebase.storage.Reference#get-downloadurl\" rel=\"nofollow noreferrer\"><code>Reference</code></a>.</p>\n\n<p>Note that this method is asynchrnonous and therefore you need to do as follows:</p>\n\n<pre><code>  ref.getDownloadURL().then(function(downloadURL) {\n    //console.log('File available at', downloadURL);\n  });\n</code></pre>\n\n<p>Which means, in your case, that you should do something along the following lines (If I have correctly understood your data structure):</p>\n\n<pre><code>database.once(\"value\", function(snapshot){\n  snapshot.forEach(snap =&gt; {\n    var r = document.getElementById('userTable').insertRow()\n    var age = r.insertCell(0).innerHTML = snap.key;\n    //var aboutme = r.insertCell(1).innerHTML = snap.val().photourl;\n    var photRef = storageRef.child('user_photos/' + snap.key + '/' + snap.val().photourl);\n    photRef.getDownloadURL().then(downloadURL =&gt; {\n        var aboutme = r.insertCell(1).innerHTML = downloadURL;\n    });\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1225, "user_id": 5724342, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d0fc4bbc261a7a2a233a196a0b655fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Gurmukh Singh", "link": "https://stackoverflow.com/users/5724342/gurmukh-singh"}, "is_accepted": true, "score": 0, "last_activity_date": 1573139287, "creation_date": 1573139287, "answer_id": 58751643, "question_id": 58737764, "link": "https://stackoverflow.com/questions/58737764/display-the-correct-firebase-storage-image-in-html-using-js/58751643#58751643", "title": "Display the correct firebase storage image in html using JS", "body": "<p>Thanks to @RenaudTarnec's help this is the solution that worked:</p>\n\n<pre><code>var storageRef = firebase.storage().ref();\nvar temp_photo = storageRef.child('ref_name/mas.jpg')\nvar y = r.insertCell(17).innerHTML = snap.val().photo_url;\ntemp_photo.getDownloadURL().then(downloadURL =&gt; {\n  var y = r.insertCell(17).innerHTML = '&lt;img src=\"'+downloadURL+'\" width=\"20\" height=\"20\" /&gt;';\n})\n</code></pre>\n"}], "owner": {"reputation": 1225, "user_id": 5724342, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d0fc4bbc261a7a2a233a196a0b655fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Gurmukh Singh", "link": "https://stackoverflow.com/users/5724342/gurmukh-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 58751643, "answer_count": 2, "score": 0, "last_activity_date": 1573139287, "creation_date": 1573070939, "last_edit_date": 1573139229, "question_id": 58737764, "link": "https://stackoverflow.com/questions/58737764/display-the-correct-firebase-storage-image-in-html-using-js", "title": "Display the correct firebase storage image in html using JS", "body": "<p>So I have a loop which is displaying the user data as expected (this works fine):</p>\n\n<pre><code>database.once(\"value\", function(snapshot){\n  snapshot.forEach(snap =&gt; {\n    var r = document.getElementById('userTable').insertRow()\n    var age = r.insertCell(0).innerHTML = snap.val().key;\n    var aboutme = r.insertCell(1).innerHTML = snap.val().photourl;\n})\n</code></pre>\n\n<p>The user image is stored in firebase storage like so (clicking into the folder which contains the image):</p>\n\n<p><a href=\"https://i.stack.imgur.com/aIlAt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aIlAt.png\" alt=\"enter image description here\"></a></p>\n\n<p>My user table looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/tNJaH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tNJaH.png\" alt=\"enter image description here\"></a></p>\n\n<p>With all the associated fields linked to that user under that and the photo_url holds the image path like:</p>\n\n<pre><code>user_photos/07KSLIkK2/D41FB90B444D-9979-22F86D69883F.jpg\n</code></pre>\n\n<p>Ive tried looking online but most of the answers or solutions are for android. Im pretty new to firebase.</p>\n\n<p>So the question is how can i display the associated image from firebase for the user in the html table?</p>\n\n<p>Thanks</p>\n\n<p>Also, using:</p>\n\n<p><code>snap.val().key;</code> does not show that random generated number by firebase. just shows as undefined.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>was having some difficulties so just for testing purposes i split the code up like so:</p>\n\n<pre><code>database.once(\"value\", function(snapshot){\n  snapshot.forEach(snap =&gt; {\n      var storageRef = firebase.storage().ref();\n      var temp_photo = storageRef.child('ref_name/mas.jpg')\n      console.log(temp_photo);\n      temp_photo.getDownloadURL().then(downloadURL =&gt; {\n      var Photo_url = document.getElementById('images').innerHTML = downloadURL;\n    })\n  })\n})\n</code></pre>\n\n<p>In my HTML i have the following:</p>\n\n<pre><code>&lt;div id=\"images\" class=\"\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>what this should do is display that one images for each set of data it pulls. Below are console logs (which are repeated for each set of data its pulling)</p>\n\n<pre><code>authWrapper: Qe\napp_: T {firebase_: Object, isDeleted_: false, services_: Object, tokenListeners_: Array, analyticsEventRequests_: [], \u2026}  \nbucket_: \"dbucketname\"\ndeleted_: false\nmaxOperationRetryTime_: 120000\nmaxUploadRetryTime_: 600000\npool_: G {createXhrIo: function}\nrequestMaker_: function(e,t,r)\nrequestMap_: Ze {map: Map, id: -9007454433453423, addRequest: function, clear: function}\nservice_: nt {bucket_: J, authWrapper_: Qe, app_: T, internals_: it, ref: function, \u2026}\nstorageRefMaker_: function(e,t)\nQe Prototype\nlocation: J\nbucket: \"dbucketname\"\npath_: \"ref_name/mas.jpg\"\n</code></pre>\n\n<p>In the div it displays 1 row of the following:</p>\n\n<p><a href=\"https://firebasestorage.googleapis.com/v0/b/app.appspot.com/o/ref_name%2Fmas.jpg?alt=media&amp;token=11111111-1111-1111-1111-11111111111\" rel=\"nofollow noreferrer\">https://firebasestorage.googleapis.com/v0/b/app.appspot.com/o/ref_name%2Fmas.jpg?alt=media&amp;token=11111111-1111-1111-1111-11111111111</a></p>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>So it got it to work like so</p>\n\n<pre><code>database.once(\"value\", function(snapshot){\n  snapshot.forEach(snap =&gt; {\n      var storageRef = firebase.storage().ref();\n      var temp_photo = storageRef.child('ref_name/mas.jpg')\n      console.log(temp_photo);\n      temp_photo.getDownloadURL().then(downloadURL =&gt; {\n        var x = document.createElement(\"IMG\");\n        x.setAttribute(\"src\", downloadURL);\n        document.body.appendChild(x);\n    })\n  })\n})\n</code></pre>\n\n<p>its looping around each user and displaying the picture as expected.</p>\n\n<p>But when i try to move this logic to put this image into a table, i get the following error:</p>\n\n<pre><code>IndexSizeError: The index is not in the allowed range.\n</code></pre>\n\n<p>this is what my table insert code looks like:</p>\n\n<pre><code>var occupant = r.insertCell(16).innerHTML = snap.val().occupation;\n\n    var storageRef = firebase.storage().ref();\n    var temp_photo = storageRef.child('ref_name/mas.jpg')\n    temp_photo.getDownloadURL().then(downloadURL =&gt; {\n      var x = document.createElement(\"IMG\");\n      x.setAttribute(\"src\", downloadURL);\n      r.insertCell(17).appendChild(x)\n    })\n\nvar you_smoke = r.insertCell(18).innerHTML = snap.val().smoke;\n</code></pre>\n\n<p><strong>UPDATE 3 - SOLUTION</strong></p>\n\n<p>This is what worked for me:</p>\n\n<pre><code>var storageRef = firebase.storage().ref();\nvar temp_photo = storageRef.child('ref_name/mas.jpg')\nvar y = r.insertCell(17).innerHTML = snap.val().photo_url;\ntemp_photo.getDownloadURL().then(downloadURL =&gt; {\n  var y = r.insertCell(17).innerHTML = '&lt;img src=\"'+downloadURL+'\" width=\"20\" height=\"20\" /&gt;';\n})\n</code></pre>\n"}, {"tags": ["javascript", "html"], "answers": [{"tags": [], "owner": {"reputation": 2234, "user_id": 7927036, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/j8HJn.png?s=128&g=1", "display_name": "Matt Croak", "link": "https://stackoverflow.com/users/7927036/matt-croak"}, "is_accepted": true, "score": 1, "last_activity_date": 1573071645, "last_edit_date": 1573071645, "creation_date": 1573071341, "answer_id": 58737851, "question_id": 58737726, "link": "https://stackoverflow.com/questions/58737726/getting-selected-drop-menu-value-to-pass-into-second-function/58737851#58737851", "title": "Getting Selected Drop-Menu Value to Pass into Second Function", "body": "<p>I changed the way you're adding the click event, much easier to pass the <code>opt</code> argument. The previous way you were passing the entire list.  </p>\n\n<p>Replace</p>\n\n<pre><code>a.setAttribute('onclick', 'populateJobVal(opt)'); \n</code></pre>\n\n<p>With</p>\n\n<pre><code> a.addEventListener('click', () =&gt; {\n    populateJobVal(opt)\n }); // Look here\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let select = document.getElementById(\"selectJob\");\r\nlet options = [\"Job 1\", \"Job 2\", \"Job 3\", \"Job 4\", \"Job 5\"];\r\nfor (let i = 0; i &lt; options.length; i++) {\r\n  let opt = options[i];\r\n  let a = document.createElement(\"a\");\r\n  a.textContent = opt;\r\n  a.setAttribute('href', '#');\r\n  a.addEventListener('click', () =&gt; {\r\n    populateJobVal(opt)\r\n  }); // Look here\r\n  a.setAttribute('class', 'btn btn-link');\r\n  let li = document.createElement(\"li\");\r\n  li.appendChild(a);\r\n  select.appendChild(li);\r\n}\r\n\r\nfunction populateJobVal(val) {\r\n  debugger\r\n  document.getElementById(\"selectJob\").value = val;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"dropdown\"&gt;\r\n  &lt;button class=\"btn btn-default btn-primary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\"&gt;\r\n      Select Job Type to Schedule\r\n      &lt;span class=\"caret\"&gt;&lt;/span&gt;&lt;/button&gt;\r\n  &lt;ul class=\"dropdown-menu\" id=\"selectJob\"&gt;\r\n  &lt;/ul&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10, "favorite_count": 0, "accepted_answer_id": 58737851, "answer_count": 1, "score": 0, "last_activity_date": 1573071645, "creation_date": 1573070738, "last_edit_date": 1573071179, "question_id": 58737726, "link": "https://stackoverflow.com/questions/58737726/getting-selected-drop-menu-value-to-pass-into-second-function", "title": "Getting Selected Drop-Menu Value to Pass into Second Function", "body": "<p>I have some code to generate a drop-menu whose contents come from an array. That part is working. However, I need to then pass the value selected from the drop-menu into my <code>populateJobVal()</code> function when a user clicks on one of the menu elements - so that that value will get printed to the input field. Right now when I run this code, what gets printed to the input field is <code>[object HTMLUListElement]</code>. </p>\n\n<p>I assume all I need to do here is pass the correct value to my <code>populateJobVal()</code>, however, so far it hasn't worked as expected. I've tried adjusting the code as follows:</p>\n\n<p><code>a.setAttribute('onclick', 'populateJobVal(opt)');</code></p>\n\n<p>... However, nothing at all prints to the input field in this case. What do I need to pass here? Or am I missing something?</p>\n\n<pre><code>  &lt;script&gt;\n    let select = document.getElementById(\"selectJob\");\n    let options = [\"Job 1\", \"Job 2\", \"Job 3\", \"Job 4\", \"Job 5\"];\n    for (let i = 0; i &lt; options.length; i++) {\n      let opt = options[i];\n      let a = document.createElement(\"a\");\n      a.textContent = opt;\n      a.setAttribute('href', '#');\n      a.setAttribute('onclick', 'populateJobVal(selectJob)'); // What to pass here?\n      a.setAttribute('class', 'btn btn-link');\n      let li = document.createElement(\"li\");\n      li.appendChild(a);\n      select.appendChild(li);\n    }\n\n    function populateJobVal(val) {\n      document.getElementById(\"selection\").value = val;\n    }\n\n  &lt;/script&gt;\n</code></pre>\n\n<p>My relevant HTML code looks like this:</p>\n\n<pre><code>  &lt;div class=\"dropdown\"&gt;\n    &lt;button class=\"btn btn-default btn-primary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\"&gt;\n      Select Job Type to Schedule\n      &lt;span class=\"caret\"&gt;&lt;/span&gt;&lt;/button&gt;\n    &lt;ul class=\"dropdown-menu\" id=\"selectJob\"&gt;\n    &lt;/ul&gt;\n  &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "reactjs", "npm", "mern"], "comments": [{"owner": {"reputation": 5684, "user_id": 10172408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BcxZ9.png?s=128&g=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/10172408/nathan"}, "edited": false, "score": 0, "creation_date": 1573137736, "post_id": 58737706, "comment_id": 103790419, "body": "did my answer make sense/ fix your issue?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11207155, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4ONCQLrAm_I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfk2SDUvVb5RbPmLKWQg3aKk-g-qw/mo/photo.jpg?sz=128", "display_name": "David Malvin", "link": "https://stackoverflow.com/users/11207155/david-malvin"}, "edited": false, "score": 0, "creation_date": 1573204279, "post_id": 58737799, "comment_id": 103813211, "body": "Nope ! I don&#39;t really understand what you mean. Sorry."}, {"owner": {"reputation": 5684, "user_id": 10172408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BcxZ9.png?s=128&g=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/10172408/nathan"}, "reply_to_user": {"reputation": 1, "user_id": 11207155, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4ONCQLrAm_I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfk2SDUvVb5RbPmLKWQg3aKk-g-qw/mo/photo.jpg?sz=128", "display_name": "David Malvin", "link": "https://stackoverflow.com/users/11207155/david-malvin"}, "edited": false, "score": 0, "creation_date": 1573228968, "post_id": 58737799, "comment_id": 103825838, "body": "replace your ReactDOM.render() method with the one I pasted in my answer."}], "tags": [], "owner": {"reputation": 5684, "user_id": 10172408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BcxZ9.png?s=128&g=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/10172408/nathan"}, "is_accepted": false, "score": 0, "last_activity_date": 1573071843, "last_edit_date": 1573071843, "creation_date": 1573071082, "answer_id": 58737799, "question_id": 58737706, "link": "https://stackoverflow.com/questions/58737706/target-container-is-not-a-dom-element-mern/58737799#58737799", "title": "Target container is not a DOM element : MERN", "body": "<p>Looks like a <strong>typo</strong>: you have <em>too many parentheses</em> within your <code>render()</code> call. Perhaps you were trying to wrap your <code>JSX</code> within parentheses? However, <code>ReactDOM.render()</code> expects the first argument to be the element you wish to render (in your case just the <strong>JSX</strong>)  and the second argument to be the DOM element where this rendering should take place.</p>\n\n<p>Maybe you could change your <code>render()</code> method to the following and seeing if this resolves your issue:</p>\n\n<pre><code>ReactDOM.render(\n    &lt;Router&gt;\n        &lt;App&gt;\n          &lt;Switch&gt;\n            &lt;Route exact path=\"/\" component={Home}/&gt;\n            &lt;Route path=\"/helloworld\" component={HelloWorld}/&gt;\n            &lt;Route component={NotFound}/&gt;\n          &lt;/Switch&gt;\n       &lt;/App&gt;\n   &lt;/Router&gt;, \n   document.getElementById('app')\n);\n</code></pre>\n\n<p>Hopefully that helps!</p>\n"}], "owner": {"reputation": 1, "user_id": 11207155, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4ONCQLrAm_I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfk2SDUvVb5RbPmLKWQg3aKk-g-qw/mo/photo.jpg?sz=128", "display_name": "David Malvin", "link": "https://stackoverflow.com/users/11207155/david-malvin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573071843, "creation_date": 1573070686, "question_id": 58737706, "link": "https://stackoverflow.com/questions/58737706/target-container-is-not-a-dom-element-mern", "title": "Target container is not a DOM element : MERN", "body": "<p>This is a part of my project. I want to create a Web Application with a stock dashboard.</p>\n\n<p>I had a little issue with my code : <a href=\"https://i.stack.imgur.com/aa31r.png\" rel=\"nofollow noreferrer\">image</a></p>\n\n<p>I want to display a login form on my browser. I use React.js , Node.js &amp; Npm. I wrote this index.js like this :</p>\n\n<pre><code>import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {\n  BrowserRouter as Router,\n  Route,\n  Link,\n  Switch\n} from 'react-router-dom'\n\nimport App from './client/App';\nimport NotFound from './client/NotFound';\n\nimport Home from './Home';\n\nimport HelloWorld from './client/HelloWorld';\n\nimport './client/styles.scss';\n\n\nReactDOM.render((\n  &lt;Router&gt;\n    &lt;App&gt;\n      &lt;Switch&gt;\n        &lt;Route exact path=\"/\" component={Home}/&gt;\n        &lt;Route path=\"/helloworld\" component={HelloWorld}/&gt;\n        &lt;Route component={NotFound}/&gt;\n      &lt;/Switch&gt;\n    &lt;/App&gt;\n  &lt;/Router&gt;)\n, document.getElementById(\"app\"));\n</code></pre>\n\n<p>Then, I wrote also this index.html file like this :</p>\n\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n\n  &lt;title&gt; Web Application &lt;/title&gt;\n\n  &lt;!-- link rel=\"icon\" type=\"image/png\" href=\"/assets/img/logo.png\" --&gt;\n  &lt;link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Open+Sans:300,400,600\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;div id=\"app\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;script type=\"javascript\" src=\"index.js\"&gt; &lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "math"], "comments": [{"owner": {"reputation": 8171, "user_id": 490282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lmfhZ.png?s=128&g=1", "display_name": "Oliver", "link": "https://stackoverflow.com/users/490282/oliver"}, "edited": false, "score": 0, "creation_date": 1573070823, "post_id": 58737641, "comment_id": 103765431, "body": "Those items are not valid javascript.  Are the values encoded as strings?"}, {"owner": {"reputation": 47877, "user_id": 414062, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/xc7mu.jpg?s=128&g=1", "display_name": "Dominic", "link": "https://stackoverflow.com/users/414062/dominic"}, "reply_to_user": {"reputation": 8171, "user_id": 490282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lmfhZ.png?s=128&g=1", "display_name": "Oliver", "link": "https://stackoverflow.com/users/490282/oliver"}, "edited": false, "score": 0, "creation_date": 1573070901, "post_id": 58737641, "comment_id": 103765465, "body": "Just an example, I know which are non-fractional but for this lets assume anything over 1 is. Added a runnable snippet."}, {"owner": {"reputation": 5133, "user_id": 154762, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d07d8564c1726ca28a6b99e560f0ec7?s=128&d=identicon&r=PG", "display_name": "solarc", "link": "https://stackoverflow.com/users/154762/solarc"}, "edited": false, "score": 0, "creation_date": 1573070974, "post_id": 58737641, "comment_id": 103765501, "body": "<code>item1 = (item1 &#47; (item1 + item2)) * space available</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 8171, "user_id": 490282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lmfhZ.png?s=128&g=1", "display_name": "Oliver", "link": "https://stackoverflow.com/users/490282/oliver"}, "is_accepted": true, "score": 0, "last_activity_date": 1573071307, "last_edit_date": 1573071307, "creation_date": 1573070976, "answer_id": 58737772, "question_id": 58737641, "link": "https://stackoverflow.com/questions/58737641/calculate-fraction-as-value-relative-to-other-fractions/58737772#58737772", "title": "Calculate fraction as value relative to other fractions", "body": "<p>After subtracting the static items, calculate the sum of fractional items, then you can calculate the percentage of each value relative to the remaining container width (minus the static item sum):</p>\n\n<pre><code>const totalSize = 900;\nconst items = [1, 0.2, 75, 0.6, 1, 100];\nconst totalStaticSize = items.filter(n =&gt; n &gt; 1).reduce((acc, n) =&gt; acc + n, 0);\nconst sum = derivedItems.reduce((a, b) =&gt; a + b, 0);\nconst percentages = derivedItems.map(d =&gt; d / sum);\nconst relativeToContainer = percentages.map(p =&gt; p * (totalSize - totalStaticSize));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8171, "user_id": 490282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lmfhZ.png?s=128&g=1", "display_name": "Oliver", "link": "https://stackoverflow.com/users/490282/oliver"}, "edited": false, "score": 0, "creation_date": 1573071557, "post_id": 58737843, "comment_id": 103765760, "body": "Inputs are not the same as what OP posted."}], "tags": [], "owner": {"reputation": 8719, "user_id": 6951428, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/92fd81a6020da8e77fc9125e0c9ec512?s=128&d=identicon&r=PG&f=1", "display_name": "junvar", "link": "https://stackoverflow.com/users/6951428/junvar"}, "is_accepted": false, "score": 0, "last_activity_date": 1573071299, "creation_date": 1573071299, "answer_id": 58737843, "question_id": 58737641, "link": "https://stackoverflow.com/questions/58737641/calculate-fraction-as-value-relative-to-other-fractions/58737843#58737843", "title": "Calculate fraction as value relative to other fractions", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let compute = (values, total) =&gt; {\r\n  let parts = values.map(value =&gt; ({value: parseFloat(value), absolute: value.endsWith('px')}));\r\n  let totalAbsolutes = parts.filter(p =&gt; p.absolute).reduce((sum, p) =&gt; sum + p.value, 0);\r\n  let totalFractions = parts.filter(p =&gt; !p.absolute).reduce((sum, p) =&gt; sum + p.value, 0);\r\n  return parts.map(p =&gt; (p.absolute ? p.value : p.value / totalFractions * (total - totalAbsolutes)) + 'px');\r\n};\r\n\r\nlet computedValues = compute(['0.5', '1', '50px'], 200);\r\nconsole.log(computedValues);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 47877, "user_id": 414062, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/xc7mu.jpg?s=128&g=1", "display_name": "Dominic", "link": "https://stackoverflow.com/users/414062/dominic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 58737772, "answer_count": 2, "score": 1, "last_activity_date": 1573071307, "creation_date": 1573070373, "last_edit_date": 1573070842, "question_id": 58737641, "link": "https://stackoverflow.com/questions/58737641/calculate-fraction-as-value-relative-to-other-fractions", "title": "Calculate fraction as value relative to other fractions", "body": "<p>Apologies that I can't show code I'm just not sure how to go about this.</p>\n\n<p>I would like to achieve something like <code>display: flex/grid</code> does with fractions:</p>\n\n<p>Given a container width: <code>200px</code></p>\n\n<p>And items: <code>[0.5, 1, 50px]</code></p>\n\n<p>I should be able to calculate the fractional ones relative to each other:</p>\n\n<pre><code>item1: 50 (half the size of item 2)\nitem2: 100 (double the size of item 1)\nitem3: 50 (static size not a fraction)\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const totalSize = 900;\r\n\r\nconst items = [1, 0.2, 75, 0.6, 1, 100];\r\n\r\nconst totalStaticSize = items.filter(n =&gt; n &gt; 1).reduce((acc, n) =&gt; acc + n, 0);\r\n\r\nconst derivedItems = items.map(item =&gt; {\r\n  if (item &gt; 1) {\r\n    // A static value.\r\n    return item;\r\n  }\r\n  \r\n  // How to calculate this fractional item relative to others?\r\n  return item;\r\n});\r\n\r\nconsole.log(derivedItems);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "php"], "comments": [{"owner": {"reputation": 2172, "user_id": 6770305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMWLL.png?s=128&g=1", "display_name": "Code Spirit", "link": "https://stackoverflow.com/users/6770305/code-spirit"}, "edited": false, "score": 1, "creation_date": 1573070391, "post_id": 58737559, "comment_id": 103765271, "body": "You cannot redirect someone to another page and then take data from that page if its not yours. When you send a header (here Location) you dont redirect the user to a page. You send an instruction to the browser to do so, and every standard compilant browser will follow it (but is not forced to). If you want to receive a token to authorize/authenticate for an api you normally use something like <a href=\"https://www.php.net/manual/de/book.curl.php\" rel=\"nofollow noreferrer\"><code>curl</code></a> to communicate with that api and pass the credentials."}, {"owner": {"reputation": 4234, "user_id": 612258, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kvtkZ.png?s=128&g=1", "display_name": "Illusionist", "link": "https://stackoverflow.com/users/612258/illusionist"}, "reply_to_user": {"reputation": 2172, "user_id": 6770305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMWLL.png?s=128&g=1", "display_name": "Code Spirit", "link": "https://stackoverflow.com/users/6770305/code-spirit"}, "edited": false, "score": 0, "creation_date": 1573070871, "post_id": 58737559, "comment_id": 103765454, "body": "That page is indeed mine."}, {"owner": {"reputation": 2172, "user_id": 6770305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMWLL.png?s=128&g=1", "display_name": "Code Spirit", "link": "https://stackoverflow.com/users/6770305/code-spirit"}, "edited": false, "score": 0, "creation_date": 1573070922, "post_id": 58737559, "comment_id": 103765473, "body": "Can you please explain in detail what you want to do? Redirect to a page and take a token back and somehow use javascript is not much information."}, {"owner": {"reputation": 4234, "user_id": 612258, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kvtkZ.png?s=128&g=1", "display_name": "Illusionist", "link": "https://stackoverflow.com/users/612258/illusionist"}, "reply_to_user": {"reputation": 2172, "user_id": 6770305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMWLL.png?s=128&g=1", "display_name": "Code Spirit", "link": "https://stackoverflow.com/users/6770305/code-spirit"}, "edited": false, "score": 0, "creation_date": 1573071009, "post_id": 58737559, "comment_id": 103765520, "body": "so i am using a service that sends a token in body and i need to capture that token and send it to another service that expects it in the headers, so I thought I would write a small proxy page that would capture this token from body and send to a header"}, {"owner": {"reputation": 2172, "user_id": 6770305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMWLL.png?s=128&g=1", "display_name": "Code Spirit", "link": "https://stackoverflow.com/users/6770305/code-spirit"}, "edited": false, "score": 0, "creation_date": 1573071262, "post_id": 58737559, "comment_id": 103765641, "body": "Then just put it in your form and submit it."}, {"owner": {"reputation": 3870, "user_id": 773849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc313492ba01cdb794a218eeeeab8ee?s=128&d=identicon&r=PG", "display_name": "Alex Barker", "link": "https://stackoverflow.com/users/773849/alex-barker"}, "edited": false, "score": 0, "creation_date": 1573072295, "post_id": 58737559, "comment_id": 103766107, "body": "Just proxy the request in your post request using curl. The Guzzle client library can make this very easy.  In your post endpoint, you will create a new request with the data from the body in a header location.  You are just applying the <a href=\"https://en.wikipedia.org/wiki/Adapter_pattern\" rel=\"nofollow noreferrer\">adapter pattern</a> to a http request."}, {"owner": {"reputation": 4234, "user_id": 612258, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kvtkZ.png?s=128&g=1", "display_name": "Illusionist", "link": "https://stackoverflow.com/users/612258/illusionist"}, "edited": false, "score": 0, "creation_date": 1573072562, "post_id": 58737559, "comment_id": 103766229, "body": "Thanks, i don&#39;t have any control over the two services, but i am just trying to intercept the response and copy the token from body to headers to make them happy"}], "answers": [{"tags": [], "owner": {"reputation": 34, "user_id": 12256334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bbchu.jpg?s=128&g=1", "display_name": "Naomi", "link": "https://stackoverflow.com/users/12256334/naomi"}, "is_accepted": false, "score": 0, "last_activity_date": 1573073711, "creation_date": 1573073711, "answer_id": 58738338, "question_id": 58737559, "link": "https://stackoverflow.com/questions/58737559/php-redirect-to-another-page-and-capture-body-parameters-and-send-as-headers/58738338#58738338", "title": "php redirect to another page and capture body parameters and send as headers", "body": "<p>If you want send additional header, you can use <code>header()</code> function for token too.\nLike so:</p>\n\n<pre><code>&lt;?php \nif(isset($_POST['submit']))\n{\n    $headers = $_POST['token'];\n\n    if ($headers) {\n        // your additional header\n        header('Bearer: blahblah');\n\n        header('Location: http://www.example.com/');\n    } \n}\n?&gt;\n</code></pre>\n"}], "owner": {"reputation": 4234, "user_id": 612258, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kvtkZ.png?s=128&g=1", "display_name": "Illusionist", "link": "https://stackoverflow.com/users/612258/illusionist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573073711, "creation_date": 1573069990, "question_id": 58737559, "link": "https://stackoverflow.com/questions/58737559/php-redirect-to-another-page-and-capture-body-parameters-and-send-as-headers", "title": "php redirect to another page and capture body parameters and send as headers", "body": "<p>I am learning php, I want to create a page users can send a post response, redirect to another page and pass the token i get from a service in the body to a header to the redirect site. </p>\n\n<p>I understand that i can redirect via <code>header(\"Location: http://www.example.com/\");</code> , how do i capture a body parameter of the form <code>Token blahblah</code> and then pass it as a header <code>Bearer blahblah</code></p>\n\n<p>So far i have</p>\n\n<pre><code>&lt;?php \nif(isset($_POST['submit']))\n{\n    $headers = $_POST['token'];\n\n    if ($headers) {\n        header('Location: http://www.example.com/');\n    } \n}\n?&gt;\n</code></pre>\n\n<p>I am ok with adding javascript because it seems like its not possible to send custom headers with redirect in php - <a href=\"https://stackoverflow.com/questions/7583461/redirect-to-page-and-send-custom-http-headers\">Redirect to page and send custom HTTP headers</a></p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 45386, "user_id": 1264804, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/oYX71.png?s=128&g=1", "display_name": "isherwood", "link": "https://stackoverflow.com/users/1264804/isherwood"}, "edited": false, "score": 1, "creation_date": 1573070061, "post_id": 58737552, "comment_id": 103765142, "body": "This is best done with CSS classes added and removed in functions called on your events. You&#39;ll need one for mouseover (or -enter) and one for mouseout (or -leave)."}, {"owner": {"reputation": 648, "user_id": 9740523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SH2B9.png?s=128&g=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/9740523/sean"}, "edited": false, "score": 1, "creation_date": 1573070310, "post_id": 58737552, "comment_id": 103765239, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/4502633/how-to-affect-other-elements-when-one-element-is-hovered\">How to affect other elements when one element is hovered</a>"}], "answers": [{"tags": [], "owner": {"reputation": 45496, "user_id": 436560, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/2GESV.jpg?s=128&g=1", "display_name": "Lajos Arpad", "link": "https://stackoverflow.com/users/436560/lajos-arpad"}, "is_accepted": true, "score": 0, "last_activity_date": 1573070370, "creation_date": 1573070370, "answer_id": 58737639, "question_id": 58737552, "link": "https://stackoverflow.com/questions/58737552/is-there-a-way-to-hover-one-element-and-to-style-many-others-with-pure-css-js/58737639#58737639", "title": "Is there a way to hover one element and to style many others with pure css/js?", "body": "<p>Add an onmouseout event:</p>\n\n<pre><code>&lt;div class= \"container\"&gt;\n      &lt;div class=\"row\"&gt; \n        &lt;div class=\"item1 col-sm-3\" \"&gt;\n          &lt;a href=\"#\"&gt;\n            &lt;img class=\"picture\" id=\"picture1\"src=\"/Rimani/images/logo-tractor-removebg-preview.png\"&gt;\n            &lt;div class=\"text\" onmouseover=\"hoverStyle()\"&gt;\u041d\u041e\u0412\u041e \u041e\u0411\u041e\u0420\u0423\u0414\u0412\u0410\u041d\u0415&lt;/div&gt;\n          &lt;/a&gt;\n        &lt;/div&gt;\n           &lt;div class=\"item2 col-sm-3\" onmouseover=\"hoverStyle()\" onmouseout=\"unhoverStyle()\"&gt;\n          &lt;a href=\"#\" &gt;\n            &lt;img class=\"picture\" id=\"picture2\" src=\"/Rimani/images/logo-tractor-removebg-preview.png\"&gt;\n            &lt;div class=\"text\"&gt;\u041d\u041e\u0412\u041e \u041e\u0411\u041e\u0420\u0423\u0414\u0412\u0410\u041d\u0415&lt;/div&gt;\n          &lt;/a&gt;\n        &lt;/div&gt;\n\n  var hoverElements = document.getElementsByClassName('picture');\n\nfunction hoverStyle() {\n    document.getElementById(\"picture1\").style.filter = \"hue-rotate(340deg)\"\n document.getElementById(\"picture2\").style.filter = \"hue-rotate(340deg)\"\n}\n\n  var hoverElements = document.getElementsByClassName('picture');\n\nfunction unhoverStyle() {\n    document.getElementById(\"picture1\").style.filter = \"\";\n document.getElementById(\"picture2\").style.filter = \"\";\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 12247624, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAB3P4WZoUKOPNxQy8knNUOEDCo7nqqNpvC7qs1=k-s128", "display_name": "Blagoy Simandoff", "link": "https://stackoverflow.com/users/12247624/blagoy-simandoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 58737639, "answer_count": 1, "score": 0, "last_activity_date": 1573070719, "creation_date": 1573069961, "question_id": 58737552, "link": "https://stackoverflow.com/questions/58737552/is-there-a-way-to-hover-one-element-and-to-style-many-others-with-pure-css-js", "title": "Is there a way to hover one element and to style many others with pure css/js?", "body": "<p>I have tried giving id to the element which I want to style when I hover over a div. And I have given the div an \"onmouseover\" attribute with the value of a function which changes the style of the element, but it changes it permanently and even when my mouse isn't on the element </p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class= \"container\"&gt;\n      &lt;div class=\"row\"&gt; \n        &lt;div class=\"item1 col-sm-3\" \"&gt;\n          &lt;a href=\"#\"&gt;\n            &lt;img class=\"picture\" id=\"picture1\"src=\"/Rimani/images/logo-tractor-removebg-preview.png\"&gt;\n            &lt;div class=\"text\" onmouseover=\"hoverStyle()\"&gt;\u041d\u041e\u0412\u041e \u041e\u0411\u041e\u0420\u0423\u0414\u0412\u0410\u041d\u0415&lt;/div&gt;\n          &lt;/a&gt;\n        &lt;/div&gt;\n           &lt;div class=\"item2 col-sm-3\" onmouseover=\"hoverStyle()\"&gt;\n          &lt;a href=\"#\" &gt;\n            &lt;img class=\"picture\" id=\"picture2\" src=\"/Rimani/images/logo-tractor-removebg-preview.png\"&gt;\n            &lt;div class=\"text\"&gt;\u041d\u041e\u0412\u041e \u041e\u0411\u041e\u0420\u0423\u0414\u0412\u0410\u041d\u0415&lt;/div&gt;\n          &lt;/a&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>  var hoverElements = document.getElementsByClassName('picture');\n\nfunction hoverStyle() {\n    document.getElementById(\"picture1\").style.filter = \"hue-rotate(340deg)\"\n document.getElementById(\"picture2\").style.filter = \"hue-rotate(340deg)\"\n}\n\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "firebase", "google-cloud-platform", "google-cloud-functions"], "comments": [{"owner": {"reputation": 13407, "user_id": 291180, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Crlpe.png?s=128&g=1", "display_name": "Travis Webb", "link": "https://stackoverflow.com/users/291180/travis-webb"}, "edited": false, "score": 0, "creation_date": 1573070194, "post_id": 58737525, "comment_id": 103765194, "body": "possible duplicate of <a href=\"https://stackoverflow.com/questions/55883213/typeerror-firebase-functions-is-not-a-function\" title=\"typeerror firebase functions is not a function\">stackoverflow.com/questions/55883213/&hellip;</a>"}, {"owner": {"reputation": 60, "user_id": 5347935, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/PtN1z.jpg?s=128&g=1", "display_name": "Phani Mahesh", "link": "https://stackoverflow.com/users/5347935/phani-mahesh"}, "edited": false, "score": 0, "creation_date": 1573070425, "post_id": 58737525, "comment_id": 103765290, "body": "Here&#39;s a similar question for you to refer <a href=\"https://stackoverflow.com/questions/49480761/cloud-functions-with-firebase-firebase-functions-is-not-a-function\" title=\"cloud functions with firebase firebase functions is not a function\">stackoverflow.com/questions/49480761/&hellip;</a>"}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "reply_to_user": {"reputation": 13407, "user_id": 291180, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Crlpe.png?s=128&g=1", "display_name": "Travis Webb", "link": "https://stackoverflow.com/users/291180/travis-webb"}, "edited": false, "score": 0, "creation_date": 1573070964, "post_id": 58737525, "comment_id": 103765492, "body": "@TravisWebb That is not a duplicate. The error may be the same, but the question you linked is trying to run a node script in the browser. OP here is trying to <b>call</b> a Cloud Function from within the browser, in which case they need to include the client-side <code>firebase-functions</code> SDK."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 10425876, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MRuM3FRhgZ0/AAAAAAAAAAI/AAAAAAAAPHk/PoJKuxKCL38/photo.jpg?sz=128", "display_name": "Christiaan Louw", "link": "https://stackoverflow.com/users/10425876/christiaan-louw"}, "edited": false, "score": 0, "creation_date": 1573121081, "post_id": 58737809, "comment_id": 103781343, "body": "I have included both firebase and firebase-functions as follows:  <code>const firebase = require(&quot;firebase&quot;); const functions = require(&#39;firebase-functions&#39;);</code>  I&#39;ve also tried <code>firebase.functions().httpsCallable(&#39;test&#39;);</code> As well as <code>functions.httpsCallable(&#39;test&#39;);</code>  Always the same error."}, {"owner": {"reputation": 59, "user_id": 10425876, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MRuM3FRhgZ0/AAAAAAAAAAI/AAAAAAAAPHk/PoJKuxKCL38/photo.jpg?sz=128", "display_name": "Christiaan Louw", "link": "https://stackoverflow.com/users/10425876/christiaan-louw"}, "edited": false, "score": 0, "creation_date": 1573124132, "post_id": 58737809, "comment_id": 103782956, "body": "I should also mention that this code is all inside my index.js file in the functions directory of the firebase project. As far as I know, this is not a &quot;web-app&quot; or anything, it&#39;s just the functions of the project in node.js."}, {"owner": {"reputation": 4919, "user_id": 3399890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/171944b3f88fd2fa4bc824b4b298de4e?s=128&d=identicon&r=PG&f=1", "display_name": "robsiemb", "link": "https://stackoverflow.com/users/3399890/robsiemb"}, "edited": false, "score": 0, "creation_date": 1573135379, "post_id": 58737809, "comment_id": 103789002, "body": "If you&#39;re trying to call one firebase function from another one, you&#39;re probably over complicating things.  See this answer: <a href=\"https://stackoverflow.com/a/42787159/3399890\">stackoverflow.com/a/42787159/3399890</a>"}, {"owner": {"reputation": 1793, "user_id": 5049318, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/doxmu.jpg?s=128&g=1", "display_name": "Abrar Hossain", "link": "https://stackoverflow.com/users/5049318/abrar-hossain"}, "reply_to_user": {"reputation": 4919, "user_id": 3399890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/171944b3f88fd2fa4bc824b4b298de4e?s=128&d=identicon&r=PG&f=1", "display_name": "robsiemb", "link": "https://stackoverflow.com/users/3399890/robsiemb"}, "edited": false, "score": 0, "creation_date": 1581964526, "post_id": 58737809, "comment_id": 106605500, "body": "@robsiemb I have the same issue. If you want to implement your system following a microservices approach, the general idea is to divide the system into services and expose an API. In my case, I also don&#39;t want all the APIs to de directly usable by client and must connect them through an intermediary service. In such cases, I need to use an HTTPS callable trigger. So, can this be done by using the web SDK from Nodejs?"}], "tags": [], "owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "is_accepted": false, "score": 0, "last_activity_date": 1573071124, "creation_date": 1573071124, "answer_id": 58737809, "question_id": 58737525, "link": "https://stackoverflow.com/questions/58737525/firebase-how-to-call-an-https-oncall-function-node-js/58737809#58737809", "title": "Firebase: How to call an https.onCall function node.js?", "body": "<p>You seem to not be including the client-side Cloud Functions SDK into your web app. Depending on how you include the other Firebase SDKs, you might need to do <a href=\"https://stackoverflow.com/questions/49480761/cloud-functions-with-firebase-firebase-functions-is-not-a-function\">what Phani linked to</a>, or include it in another (e.g. <code>&lt;script src=\"https://www.gstatic.com/firebasejs/7.2.3/firebase-functions.js\"&gt;&lt;/script&gt;</code>). </p>\n\n<p>The process is covered in the documentation on <a href=\"https://firebase.google.com/docs/functions/callable#set_up_your_client_development_environment\" rel=\"nofollow noreferrer\">setting up your client development environment</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 10425876, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MRuM3FRhgZ0/AAAAAAAAAAI/AAAAAAAAPHk/PoJKuxKCL38/photo.jpg?sz=128", "display_name": "Christiaan Louw", "link": "https://stackoverflow.com/users/10425876/christiaan-louw"}, "edited": false, "score": 0, "creation_date": 1573134412, "post_id": 58747428, "comment_id": 103788468, "body": "I did exactly this now, but when deploying I get the error <b>TypeError: app.functions is not a function</b>"}, {"owner": {"reputation": 59, "user_id": 10425876, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MRuM3FRhgZ0/AAAAAAAAAAI/AAAAAAAAPHk/PoJKuxKCL38/photo.jpg?sz=128", "display_name": "Christiaan Louw", "link": "https://stackoverflow.com/users/10425876/christiaan-louw"}, "edited": false, "score": 0, "creation_date": 1573137221, "post_id": 58747428, "comment_id": 103790122, "body": "So my issue ended up being something with npm. I deleted my package-lock.json and node_modules folder and reinstalled everything. After that, your answer worked! Thanks a lot"}], "tags": [], "owner": {"reputation": 338, "user_id": 8021186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSEO1.jpg?s=128&g=1", "display_name": "Micha\u0142 Dziwota", "link": "https://stackoverflow.com/users/8021186/micha%c5%82-dziwota"}, "is_accepted": true, "score": 3, "last_activity_date": 1573125585, "last_edit_date": 1573125585, "creation_date": 1573124810, "answer_id": 58747428, "question_id": 58737525, "link": "https://stackoverflow.com/questions/58737525/firebase-how-to-call-an-https-oncall-function-node-js/58747428#58747428", "title": "Firebase: How to call an https.onCall function node.js?", "body": "<p><code>firebase.functions()</code> method comes from <code>firebase/functions</code> package, not from <code>firebase</code> or <code>firebase-functions</code>.</p>\n\n<pre><code>const firebase = require('firebase/app');\nrequire('firebase/functions');\nconst firebaseConfig = {&lt;YOUR_CONFIG_HERE&gt;};\nconst app = firebase.initializeApp(firebaseConfig);\nconst functions = app.functions();\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 10425876, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MRuM3FRhgZ0/AAAAAAAAAAI/AAAAAAAAPHk/PoJKuxKCL38/photo.jpg?sz=128", "display_name": "Christiaan Louw", "link": "https://stackoverflow.com/users/10425876/christiaan-louw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1527, "favorite_count": 0, "accepted_answer_id": 58747428, "answer_count": 2, "score": 2, "last_activity_date": 1573125585, "creation_date": 1573069834, "last_edit_date": 1573122764, "question_id": 58737525, "link": "https://stackoverflow.com/questions/58737525/firebase-how-to-call-an-https-oncall-function-node-js", "title": "Firebase: How to call an https.onCall function node.js?", "body": "<p>According to Firebase's documentation, the following code can be used to call a onCall function named <strong>addMessage</strong>.</p>\n\n<pre><code>var addMessage = firebase.functions().httpsCallable('addMessage');\naddMessage({text: messageText}).then(function(result) {\n    // Read result of the Cloud Function.\n    var sanitizedMessage = result.data.text;\n})\n</code></pre>\n\n<p>I have a function named <strong>test</strong>, with the following code in Javascript (just to test this functionality):</p>\n\n<pre><code>exports.test = functions.https.onCall((data, context) =&gt; {\n  console.log(data);\n  data.page++;\n  console.log(data);\n\n  var testing = firebase.functions().httpsCallable('test');\n\n  while(data.page &lt; 5) {\n    testing({page: data.page}).then(res =&gt; {\n    console.log(\"done\");\n    })\n  }\n});\n</code></pre>\n\n<p>When running this, however, I get the following error:</p>\n\n<blockquote>\n  <p>Unhandled error TypeError: firebase.functions is not a function</p>\n</blockquote>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["javascript", "html", "modal-dialog", "bootstrap-modal"], "comments": [{"owner": {"reputation": 1719, "user_id": 10915534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IcLqB.jpg?s=128&g=1", "display_name": "Ibnelaiq", "link": "https://stackoverflow.com/users/10915534/ibnelaiq"}, "edited": false, "score": 0, "creation_date": 1573069431, "post_id": 58737398, "comment_id": 103764888, "body": "So that&#39;s means that you want to pass data through the body and modal?"}, {"owner": {"reputation": 167, "user_id": 9398947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93ee12325563a8da5816b88c1774f9bf?s=128&d=identicon&r=PG&f=1", "display_name": "dylosaur", "link": "https://stackoverflow.com/users/9398947/dylosaur"}, "reply_to_user": {"reputation": 1719, "user_id": 10915534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IcLqB.jpg?s=128&g=1", "display_name": "Ibnelaiq", "link": "https://stackoverflow.com/users/10915534/ibnelaiq"}, "edited": false, "score": 0, "creation_date": 1573069897, "post_id": 58737398, "comment_id": 103765077, "body": "Sorry, I don&#39;t fully understand.  I want to pass the paragraph that currently pops up as an alert (from the function <code>test()</code>) into the body of the modal and then have the modal pop up instead of the alert.  This should happen when the user presses submit but ideally only after they&#39;ve entered all the inputs, hence the <code>needs-validation</code>.  It works currently as an alert, it just doesn&#39;t look very pretty."}, {"owner": {"reputation": 1719, "user_id": 10915534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IcLqB.jpg?s=128&g=1", "display_name": "Ibnelaiq", "link": "https://stackoverflow.com/users/10915534/ibnelaiq"}, "edited": false, "score": 0, "creation_date": 1573069975, "post_id": 58737398, "comment_id": 103765099, "body": "so you want to alery when the user clicks on modal button"}, {"owner": {"reputation": 167, "user_id": 9398947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93ee12325563a8da5816b88c1774f9bf?s=128&d=identicon&r=PG&f=1", "display_name": "dylosaur", "link": "https://stackoverflow.com/users/9398947/dylosaur"}, "reply_to_user": {"reputation": 1719, "user_id": 10915534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IcLqB.jpg?s=128&g=1", "display_name": "Ibnelaiq", "link": "https://stackoverflow.com/users/10915534/ibnelaiq"}, "edited": false, "score": 1, "creation_date": 1573070371, "post_id": 58737398, "comment_id": 103765263, "body": "No, I want to replace the alert with a modal that pops up instead."}, {"owner": {"reputation": 71, "user_id": 5424373, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YG1QOBbKj1s/AAAAAAAAAAI/AAAAAAAAAAA/lV1YpP4lXt4/photo.jpg?sz=128", "display_name": "Alvaro Carvalho", "link": "https://stackoverflow.com/users/5424373/alvaro-carvalho"}, "edited": false, "score": 0, "creation_date": 1573071147, "post_id": 58737398, "comment_id": 103765590, "body": "Have you taken a look at simple angular modals? You can try using Angular Material. Check here for reference: <a href=\"https://material.angular.io/components/dialog/overview\" rel=\"nofollow noreferrer\">material.angular.io/components/dialog/overview</a>"}, {"owner": {"reputation": 167, "user_id": 9398947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93ee12325563a8da5816b88c1774f9bf?s=128&d=identicon&r=PG&f=1", "display_name": "dylosaur", "link": "https://stackoverflow.com/users/9398947/dylosaur"}, "reply_to_user": {"reputation": 71, "user_id": 5424373, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YG1QOBbKj1s/AAAAAAAAAAI/AAAAAAAAAAA/lV1YpP4lXt4/photo.jpg?sz=128", "display_name": "Alvaro Carvalho", "link": "https://stackoverflow.com/users/5424373/alvaro-carvalho"}, "edited": false, "score": 0, "creation_date": 1573071833, "post_id": 58737398, "comment_id": 103765888, "body": "@AlvaroCarvalho I haven&#39;t, but I&#39;m having trouble following the docs.  Does this go into the HTML or JS?"}, {"owner": {"reputation": 1719, "user_id": 10915534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IcLqB.jpg?s=128&g=1", "display_name": "Ibnelaiq", "link": "https://stackoverflow.com/users/10915534/ibnelaiq"}, "edited": false, "score": 0, "creation_date": 1573071993, "post_id": 58737398, "comment_id": 103765975, "body": "@dylosaur done it ! check it simple way to do it,"}, {"owner": {"reputation": 71, "user_id": 5424373, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YG1QOBbKj1s/AAAAAAAAAAI/AAAAAAAAAAA/lV1YpP4lXt4/photo.jpg?sz=128", "display_name": "Alvaro Carvalho", "link": "https://stackoverflow.com/users/5424373/alvaro-carvalho"}, "edited": false, "score": 0, "creation_date": 1573136847, "post_id": 58737398, "comment_id": 103789921, "body": "@dylosaur You&#39;d have to install angular material using NPM or some other packet manager. Glad your problem was solved, though!"}], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 9398947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93ee12325563a8da5816b88c1774f9bf?s=128&d=identicon&r=PG&f=1", "display_name": "dylosaur", "link": "https://stackoverflow.com/users/9398947/dylosaur"}, "edited": false, "score": 1, "creation_date": 1573073338, "post_id": 58737979, "comment_id": 103766532, "body": "This seemed exactly like what I wanted to do, but unfortunately it&#39;s not working.  I&#39;m not sure why, but now hitting submit actually refreshes the page instead of bringing up the modal.  I thought adding <code>return false</code> to the <code>onsubmit</code> would prevent that, but I must be missing something."}, {"owner": {"reputation": 583, "user_id": 1629099, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ZJPuV.jpg?s=128&g=1", "display_name": "Alacritas", "link": "https://stackoverflow.com/users/1629099/alacritas"}, "reply_to_user": {"reputation": 167, "user_id": 9398947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93ee12325563a8da5816b88c1774f9bf?s=128&d=identicon&r=PG&f=1", "display_name": "dylosaur", "link": "https://stackoverflow.com/users/9398947/dylosaur"}, "edited": false, "score": 0, "creation_date": 1573077253, "post_id": 58737979, "comment_id": 103767965, "body": "That&#39;s because the script doesn&#39;t call the modal, it&#39;s only changing the innerHTML of the <code>modal-body</code> element. The question was just about passing in data, so I only provided an answer for that. The answer you accepted uses jQuery to accomplish that; you could do a vanilla JS solution for that as well and not have to import jQuery. But that&#39;s for another question ;)"}, {"owner": {"reputation": 583, "user_id": 1629099, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ZJPuV.jpg?s=128&g=1", "display_name": "Alacritas", "link": "https://stackoverflow.com/users/1629099/alacritas"}, "reply_to_user": {"reputation": 167, "user_id": 9398947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93ee12325563a8da5816b88c1774f9bf?s=128&d=identicon&r=PG&f=1", "display_name": "dylosaur", "link": "https://stackoverflow.com/users/9398947/dylosaur"}, "edited": false, "score": 0, "creation_date": 1573077398, "post_id": 58737979, "comment_id": 103768029, "body": "And to stop the page from refreshing, you need to do <code>e.preventDefault()</code>. Learn more here: <a href=\"https://stackoverflow.com/questions/19454310/stop-form-refreshing-page-on-submit\" title=\"stop form refreshing page on submit\">stackoverflow.com/questions/19454310/&hellip;</a>"}, {"owner": {"reputation": 167, "user_id": 9398947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93ee12325563a8da5816b88c1774f9bf?s=128&d=identicon&r=PG&f=1", "display_name": "dylosaur", "link": "https://stackoverflow.com/users/9398947/dylosaur"}, "edited": false, "score": 1, "creation_date": 1573084245, "post_id": 58737979, "comment_id": 103769991, "body": "Thanks for the info.  Yours was a lot simpler so I like that, so I&#39;m going to try to get it to work."}, {"owner": {"reputation": 583, "user_id": 1629099, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ZJPuV.jpg?s=128&g=1", "display_name": "Alacritas", "link": "https://stackoverflow.com/users/1629099/alacritas"}, "reply_to_user": {"reputation": 167, "user_id": 9398947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93ee12325563a8da5816b88c1774f9bf?s=128&d=identicon&r=PG&f=1", "display_name": "dylosaur", "link": "https://stackoverflow.com/users/9398947/dylosaur"}, "edited": false, "score": 0, "creation_date": 1573548773, "post_id": 58737979, "comment_id": 103908125, "body": "Glad to hear it! If you want to use vanilla JS for opening the modal, use an event listener on the modal div. Hopefully that should be enough to go on, there is a lot of info on the web about event listeners ;)"}], "tags": [], "owner": {"reputation": 583, "user_id": 1629099, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ZJPuV.jpg?s=128&g=1", "display_name": "Alacritas", "link": "https://stackoverflow.com/users/1629099/alacritas"}, "is_accepted": false, "score": 1, "last_activity_date": 1573071928, "creation_date": 1573071928, "answer_id": 58737979, "question_id": 58737398, "link": "https://stackoverflow.com/questions/58737398/how-to-pass-one-of-12-strings-into-modal-depending-on-date-input/58737979#58737979", "title": "How to pass one of 12 strings into modal depending on date input?", "body": "<p>You can't pass data into HTML as you describe. What you can do is set the content of the <code>&lt;p&gt;</code> using Javascript. So in <code>test()</code> you could do something like this:</p>\n\n<pre><code>const text = day &gt; days[month] ? signs[month + 1] : signs[month]\n\ndocument.getElementById('modal-body').innerHTML = text\n</code></pre>\n\n<p>PS To use <code>getElementById</code>, add an id to the element in question. Otherwise you can use <code>getQuerySelector</code> if you want to stick to using a class. But generally it is better practice to use ids for getting elements by Javascript, since you might change the class to suit your CSS at a later time, and you don't want that to affect the script.</p>\n"}, {"comments": [{"owner": {"reputation": 167, "user_id": 9398947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93ee12325563a8da5816b88c1774f9bf?s=128&d=identicon&r=PG&f=1", "display_name": "dylosaur", "link": "https://stackoverflow.com/users/9398947/dylosaur"}, "edited": false, "score": 0, "creation_date": 1573073510, "post_id": 58737984, "comment_id": 103766601, "body": "Would that go onto the end of <code>test()</code> or is that a totally separate script?  How could I replace <code>&quot;inserted value&quot;</code> with the appropriate paragraph that <code>test()</code> chooses?"}, {"owner": {"reputation": 167, "user_id": 9398947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93ee12325563a8da5816b88c1774f9bf?s=128&d=identicon&r=PG&f=1", "display_name": "dylosaur", "link": "https://stackoverflow.com/users/9398947/dylosaur"}, "edited": false, "score": 0, "creation_date": 1573075336, "post_id": 58737984, "comment_id": 103767308, "body": "This actually worked!  I missed that you&#39;d added some scripts to the head.  Why do those need to exist in the head and not before the closing body tag?"}, {"owner": {"reputation": 167, "user_id": 9398947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93ee12325563a8da5816b88c1774f9bf?s=128&d=identicon&r=PG&f=1", "display_name": "dylosaur", "link": "https://stackoverflow.com/users/9398947/dylosaur"}, "edited": false, "score": 0, "creation_date": 1573075410, "post_id": 58737984, "comment_id": 103767330, "body": "Changed the line in your script to <code>$(&quot;.modal-body p&quot;).text(test());</code> and it added in the appropriate paragraph depending on the date.  Only one thing now: the form no longer shows the invalid feedback messages.  Any idea why that is?"}], "tags": [], "owner": {"reputation": 1719, "user_id": 10915534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IcLqB.jpg?s=128&g=1", "display_name": "Ibnelaiq", "link": "https://stackoverflow.com/users/10915534/ibnelaiq"}, "is_accepted": true, "score": 1, "last_activity_date": 1573071954, "creation_date": 1573071954, "answer_id": 58737984, "question_id": 58737398, "link": "https://stackoverflow.com/questions/58737398/how-to-pass-one-of-12-strings-into-modal-depending-on-date-input/58737984#58737984", "title": "How to pass one of 12 strings into modal depending on date input?", "body": "<p>As there is no method to pass variable via modal then , do like this as below,</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\".btn\").click(function() {\r\n  $(\".modal-body p\").text(\"inserted value\");\r\n  $(\"#myModal\").modal();\r\n  \r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n&lt;head&gt;\r\n  &lt;title&gt;Bootstrap Example&lt;/title&gt;\r\n  &lt;meta charset=\"utf-8\"&gt;\r\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\r\n  &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css\"&gt;\r\n  &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n  &lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js\"&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n&lt;div class=\"container\"&gt;\r\n  &lt;h2&gt;Modal Example&lt;/h2&gt;\r\n  &lt;!-- Trigger the modal with a button --&gt;\r\n  &lt;button type=\"button\" class=\"btn btn-info btn-lg\"&gt;Open Modal&lt;/button&gt;\r\n\r\n  &lt;!-- Modal --&gt;\r\n  &lt;div class=\"modal fade\" id=\"myModal\" role=\"dialog\"&gt;\r\n    &lt;div class=\"modal-dialog\"&gt;\r\n    \r\n      &lt;!-- Modal content--&gt;\r\n      &lt;div class=\"modal-content\"&gt;\r\n        &lt;div class=\"modal-header\"&gt;\r\n          &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\"&gt;&amp;times;&lt;/button&gt;\r\n          &lt;h4 class=\"modal-title\"&gt;Modal Header&lt;/h4&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"modal-body\"&gt;\r\n          &lt;p&gt;&lt;/p&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"modal-footer\"&gt;\r\n          &lt;button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\"&gt;Close&lt;/button&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n      \r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  \r\n&lt;/div&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 167, "user_id": 9398947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93ee12325563a8da5816b88c1774f9bf?s=128&d=identicon&r=PG&f=1", "display_name": "dylosaur", "link": "https://stackoverflow.com/users/9398947/dylosaur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 58737984, "answer_count": 2, "score": 2, "last_activity_date": 1573071954, "creation_date": 1573069217, "last_edit_date": 1573070485, "question_id": 58737398, "link": "https://stackoverflow.com/questions/58737398/how-to-pass-one-of-12-strings-into-modal-depending-on-date-input", "title": "How to pass one of 12 strings into modal depending on date input?", "body": "<p>I'm making a fake horoscope website as a little project and am having some trouble with this last functionality.  Currently, the user puts in their date and birthplace and some other info, then hitting the submit button calls a function which parses the date info and makes an alert pop up with a different paragraph depending on which astrological sign they are.  This works fine, but isn't pretty.</p>\n\n<p>Instead, I'd rather the submit button causes a modal to pop up and that same paragraph appears there (again, depending on what they'd changed the date input to).</p>\n\n<p>I'm very new to HTML and JavaScript, so all of the \"pass data into a modal\" questions I've read have answers that just go over my head or don't seem to apply, as far as I can tell.  Here's the HTML I have currently.  <em>I've cut out some of the extraneous inputs that don't actually do anything other than not allow submission until they're filled out and the paragraphs which are just long strings:</em></p>\n\n<pre><code>&lt;body&gt;\n    &lt;header&gt;\n    &lt;/header&gt;\n    &lt;main&gt;\n        &lt;div id=\"zodiacModal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\"&gt;\n            &lt;div class=\"modal-dialog\" role=\"document\"&gt;\n                &lt;div class=\"modal-content\"&gt;\n                    &lt;div class=\"modal-header\"&gt;\n                        &lt;h5 id=\"zodiacModalTitle\" class=\"modal-title\"&gt;Modal title&lt;/h5&gt;\n                        &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"&gt;\n                            &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n                        &lt;/button&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"modal-body\"&gt;\n                        &lt;p&gt;Where I need the paragraph&lt;/p&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"modal-footer\"&gt;\n                        &lt;button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\"&gt;Close&lt;/button&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;form class=\"needs-validation\" onsubmit=\"test(); return false;\" novalidate&gt;\n            &lt;div class=\"form-row\"&gt;\n                &lt;div class=\"col-sm mb-3\"&gt;\n                    &lt;label for=\"birthdate\"&gt;Birthdate&lt;/label&gt;\n                    &lt;input id=\"birthdate\" class=\"form-control\" type=\"date\" value=\"2000-01-01\" required&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"form-group\"&gt;\n                &lt;div class=\"form-check\"&gt;\n                    &lt;input id=\"terms\" class=\"form-check-input\" type=\"checkbox\" value=\"\" required&gt;\n                    &lt;label class=\"form-check-label\" for=\"terms\"&gt;\n                        I believe.\n                    &lt;/label&gt;\n                    &lt;div class=\"invalid-feedback\"&gt;\n                        You must believe before submitting.\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;button class=\"btn btn-primary\" type=\"submit\"&gt;Submit Form&lt;/button&gt;\n        &lt;/form&gt;\n    &lt;/main&gt;\n    &lt;script&gt;\n        function test()\n        {\n            // Declare and initialize variables with strings for each sign here\n\n            var date = document.querySelector(\"#birthdate\").value.slice(5).split(\"-\");\n            var month = parseInt(date[0], 10), day = parseInt(date[1], 10);\n            var signs = [\"\", capricorn, aquarius, pisces, aries, taurus, gemini, cancer, leo, virgo, libra, scorpio, saggitarius, capricorn];\n            var days = [0, 20, 19, 20, 20, 21, 21, 22, 22, 23, 23, 22, 21];\n            alert((day &gt; days[month]) ? signs[month + 1] : signs[month]);\n        }\n    &lt;/script&gt;\n</code></pre>\n\n<p>From the documentation, it looks like I need to change the submit button to something like this:</p>\n\n<pre><code>&lt;button type=\"submit\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#zodiacModal\"&gt;\n</code></pre>\n\n<p>TL;DR: I want to replace the alert that pops up on submitting the form (which has a different paragraph in the body depending on date input) with a modal that does the same thing.  Any noob-friendly explanations of what I need to do here would be really appreciated.</p>\n"}, {"tags": ["javascript", "html", "google-chrome", "cookies", "mozilla"], "comments": [{"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "edited": false, "score": 0, "creation_date": 1573078977, "post_id": 58737381, "comment_id": 103768560, "body": "Can you explain what this &quot;weird issue&quot; is? What&#39;s not behaving as expected?"}, {"owner": {"reputation": 9, "user_id": 11404874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07df56b5f16d371dfb3e7cc2678f753?s=128&d=identicon&r=PG", "display_name": "K_LUN", "link": "https://stackoverflow.com/users/11404874/k-lun"}, "reply_to_user": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "edited": false, "score": 0, "creation_date": 1573079707, "post_id": 58737381, "comment_id": 103768805, "body": "I&#39;m able to add the cookie, but can&#39;t read it again!, means on reload the background will be again white!"}, {"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "edited": false, "score": 0, "creation_date": 1573084596, "post_id": 58737381, "comment_id": 103770055, "body": "Are you sure the cookie isn&#39;t getting set? You&#39;re showing the code where you&#39;re <i>setting</i> and <i>reading</i> the cookie but not where you&#39;re <i>using</i> the cookie value."}, {"owner": {"reputation": 9, "user_id": 11404874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07df56b5f16d371dfb3e7cc2678f753?s=128&d=identicon&r=PG", "display_name": "K_LUN", "link": "https://stackoverflow.com/users/11404874/k-lun"}, "reply_to_user": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "edited": false, "score": 0, "creation_date": 1573091176, "post_id": 58737381, "comment_id": 103771487, "body": "I would appreciate it of you cleared out things for, as i said before I&#39;m still digging into cookies..thanks :)"}, {"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "edited": false, "score": 0, "creation_date": 1573091611, "post_id": 58737381, "comment_id": 103771563, "body": "Sorry, it&#39;s still not clear whether your code is exactly as posted or if you&#39;ve left off important details. You haven&#39;t made it clear whether you&#39;re not able to read the cookie or if you&#39;re just expecting the background color to change without you having code that&#39;s changing the background color."}], "answers": [{"tags": [], "owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "is_accepted": true, "score": 0, "last_activity_date": 1573091827, "creation_date": 1573091827, "answer_id": 58740888, "question_id": 58737381, "link": "https://stackoverflow.com/questions/58737381/mozilla-cookies-framework-issue/58740888#58740888", "title": "Mozilla Cookies Framework (issue!)", "body": "<p>Cookies are just a dumb way of storing a piece of data in a browser that can be read later on. They don't actually <em>do</em> anything besides that. It's not clear whether you've actually looked to see if the cookie exists, but if your reading of the cookie is simply the same as the code you've posted, it's not enough. You actually have to <em>do something</em> with the cookie after reading it. For example, this code will set the background color if the cookie is present:</p>\n\n<pre><code>const backgroundColorCookie = docCookies.getItem('BackgroundColor');\nif (backgroundColorCookie) {\n  document.body.style.backgroundColor = backgroundColorCookie;\n}\n\n$(\".bg-dark-change\").on('click', function () {\n  let bodyBlack = document.body.style.backgroundColor = \"#000\";\n  docCookies.setItem('BackgroundColor', bodyBlack, Infinity)\n});\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 11404874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07df56b5f16d371dfb3e7cc2678f753?s=128&d=identicon&r=PG", "display_name": "K_LUN", "link": "https://stackoverflow.com/users/11404874/k-lun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 58740888, "answer_count": 1, "score": 0, "last_activity_date": 1573091827, "creation_date": 1573069117, "last_edit_date": 1573078561, "question_id": 58737381, "link": "https://stackoverflow.com/questions/58737381/mozilla-cookies-framework-issue", "title": "Mozilla Cookies Framework (issue!)", "body": "<p>So i'm getting started with cookies and saw this easy cookies framework provided by Mozilla,</p>\n\n<p>I learned about adding a new cookie, But i'm having a weird issue when reading or getting the cookie.</p>\n\n<p>okay here's buy code i'm writing:</p>\n\n<pre><code>// Cookies\nconst cookiesFn = () =&gt; {\n    $(\".bg-dark-change\").on('click', function () {\n        let bodyBlack = document.body.style.backgroundColor = \"#000\";\n        docCookies.setItem('BackgroundColor', bodyBlack, Infinity)\n    })\n\n}; cookiesFn();\n\ndocCookies.getItem('BackgroundColor');\n// Cookies End\n</code></pre>\n\n<p>as you can see above this is my code i'm trying to achieve..</p>\n\n<p>ohh yea here's the frame work links:\n<a href=\"https://github.com/madmurphy/cookies.js\" rel=\"nofollow noreferrer\">Github</a>\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/cookie/Simple_document.cookie_framework\" rel=\"nofollow noreferrer\">On Mozilla's Website</a></p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 314, "user_id": 11904900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d88e8473781728cc1fb769a1844175b?s=128&d=identicon&r=PG&f=1", "display_name": "paoiherpoais", "link": "https://stackoverflow.com/users/11904900/paoiherpoais"}, "edited": false, "score": 0, "creation_date": 1573069153, "post_id": 58737357, "comment_id": 103764775, "body": "Paulus, I&#39;d recommend adding some sample code of your React pages so that we can troubleshoot, show us where your code isn&#39;t working and what your desired outcome is."}, {"owner": {"reputation": 72053, "user_id": 2138752, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/j4UWy.jpg?s=128&g=1", "display_name": "Bhojendra Rauniyar", "link": "https://stackoverflow.com/users/2138752/bhojendra-rauniyar"}, "edited": false, "score": 0, "creation_date": 1573069219, "post_id": 58737357, "comment_id": 103764809, "body": "There are many ways. You need to be more specific with your question while you ask. For this  question, I would recommend you start learning react from the very beginning."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 1351090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d84976cb6eb0d827526c222a34a6b47e?s=128&d=identicon&r=PG", "display_name": "Paulus EVU", "link": "https://stackoverflow.com/users/1351090/paulus-evu"}, "edited": false, "score": 0, "creation_date": 1573070420, "post_id": 58737459, "comment_id": 103765284, "body": "<a href=\"https://github.com/paulus1991/github.io\" rel=\"nofollow noreferrer\">github.com/paulus1991/github.io</a>   here is the code until now, what is important to me is to display the value that I entered, to display it on the second page. I tried import props, but I couldn&#39;t manage. Thank you"}, {"owner": {"reputation": 2524, "user_id": 11360669, "user_type": "registered", "profile_image": "https://graph.facebook.com/2103762023053861/picture?type=large", "display_name": "Hagai Harari", "link": "https://stackoverflow.com/users/11360669/hagai-harari"}, "reply_to_user": {"reputation": 11, "user_id": 1351090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d84976cb6eb0d827526c222a34a6b47e?s=128&d=identicon&r=PG", "display_name": "Paulus EVU", "link": "https://stackoverflow.com/users/1351090/paulus-evu"}, "edited": false, "score": 0, "creation_date": 1573073914, "post_id": 58737459, "comment_id": 103766772, "body": "it seems that your trouble is with react-router import props, editing my answer accords @PaulusEVU"}], "tags": [], "owner": {"reputation": 2524, "user_id": 11360669, "user_type": "registered", "profile_image": "https://graph.facebook.com/2103762023053861/picture?type=large", "display_name": "Hagai Harari", "link": "https://stackoverflow.com/users/11360669/hagai-harari"}, "is_accepted": false, "score": 1, "last_activity_date": 1573074470, "last_edit_date": 1573074470, "creation_date": 1573069519, "answer_id": 58737459, "question_id": 58737357, "link": "https://stackoverflow.com/questions/58737357/how-to-display-the-state-from-one-page-to-another-in-reactjs/58737459#58737459", "title": "How to display the state from one page to another in ReactJS", "body": "<p>Change the &lt; a > elements into &lt; Link > react-router elements</p>\n\n<hr>\n\n<pre><code>function ListProjects({ projects }) {\n  console.log(\"projects\", projects);\n\n  return (\n     &lt;div&gt;\n     &lt;ul&gt;\n      {projects.map((project, index) =&gt; {\n        return (\n          &lt;li key={index} style={{ listStyleType: \"none\" }}&gt;\n           &lt;Link\n        to={{\n          pathname: `project/${index}`,\n          state: project\n        }}\n            {project.email},{project.description},{project.quantity}\n          &lt;/Link&gt;\n        &lt;/li&gt;\n      );\n    })}\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<hr>\n\n<p>and then in Project page use react-router { this.props.location } for reaching the state <a href=\"https://reacttraining.com/react-router/core/api/location\" rel=\"nofollow noreferrer\">https://reacttraining.com/react-router/core/api/location</a></p>\n"}], "owner": {"reputation": 11, "user_id": 1351090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d84976cb6eb0d827526c222a34a6b47e?s=128&d=identicon&r=PG", "display_name": "Paulus EVU", "link": "https://stackoverflow.com/users/1351090/paulus-evu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "closed_date": 1573071427, "answer_count": 1, "score": -5, "last_activity_date": 1573074470, "creation_date": 1573068918, "last_edit_date": 1573069278, "question_id": 58737357, "link": "https://stackoverflow.com/questions/58737357/how-to-display-the-state-from-one-page-to-another-in-reactjs", "closed_reason": "Needs details or clarity", "title": "How to display the state from one page to another in ReactJS", "body": "<p>I have 2 main pages in ReactJS , and I have a submit button and 3 input fields(name project, description,and hours).\nEvery time I enter values in these inputs, I display them, and also I created a path using routes for each project I enter.\nHow can I import the state values from the main Page that I entered(name,description and hours) , to display them on the second page?</p>\n\n<p>Thank you in advance!</p>\n\n<p><a href=\"https://i.stack.imgur.com/bIZhq.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}, {"tags": ["javascript", "node.js", "jenkins", "protractor", "centos7"], "comments": [{"owner": {"reputation": 1115, "user_id": 2987069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5b1764082f04a7a6e11b032b00ee91f?s=128&d=identicon&r=PG", "display_name": "Yash Jagdale", "link": "https://stackoverflow.com/users/2987069/yash-jagdale"}, "edited": false, "score": 0, "creation_date": 1573080577, "post_id": 58737274, "comment_id": 103769060, "body": "did you try executing protractor installation command with npm install protractor? if you install with -g it will be available all time."}, {"owner": {"reputation": 137, "user_id": 6202177, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b72bcc0c6cc54373b9cd1eed27ac5f9b?s=128&d=identicon&r=PG&f=1", "display_name": "Suresh Sharma", "link": "https://stackoverflow.com/users/6202177/suresh-sharma"}, "reply_to_user": {"reputation": 1115, "user_id": 2987069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5b1764082f04a7a6e11b032b00ee91f?s=128&d=identicon&r=PG", "display_name": "Yash Jagdale", "link": "https://stackoverflow.com/users/2987069/yash-jagdale"}, "edited": false, "score": 0, "creation_date": 1573114385, "post_id": 58737274, "comment_id": 103777857, "body": "@YashJagdale:- Yes i have installed protractor globally, but on server via cmd it&#39;s working fine. Only while running with Jenkins it throws error."}, {"owner": {"reputation": 1115, "user_id": 2987069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5b1764082f04a7a6e11b032b00ee91f?s=128&d=identicon&r=PG", "display_name": "Yash Jagdale", "link": "https://stackoverflow.com/users/2987069/yash-jagdale"}, "edited": false, "score": 0, "creation_date": 1573162690, "post_id": 58737274, "comment_id": 103802209, "body": "That&#39;s because of Jenkins run process as Jenkins user. install globally with the Jenkins user worker node."}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 6202177, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b72bcc0c6cc54373b9cd1eed27ac5f9b?s=128&d=identicon&r=PG&f=1", "display_name": "Suresh Sharma", "link": "https://stackoverflow.com/users/6202177/suresh-sharma"}, "edited": false, "score": 0, "creation_date": 1573069587, "post_id": 58737383, "comment_id": 103764951, "body": "thanks!! Yes protractor is installed globally but where i need to export this path?"}, {"owner": {"reputation": 4808, "user_id": 9150146, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r3Zq7.png?s=128&g=1", "display_name": "Sergey Pleshakov", "link": "https://stackoverflow.com/users/9150146/sergey-pleshakov"}, "reply_to_user": {"reputation": 137, "user_id": 6202177, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b72bcc0c6cc54373b9cd1eed27ac5f9b?s=128&d=identicon&r=PG&f=1", "display_name": "Suresh Sharma", "link": "https://stackoverflow.com/users/6202177/suresh-sharma"}, "edited": false, "score": 0, "creation_date": 1573139126, "post_id": 58737383, "comment_id": 103791212, "body": "this goes your shell script"}], "tags": [], "owner": {"reputation": 4808, "user_id": 9150146, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r3Zq7.png?s=128&g=1", "display_name": "Sergey Pleshakov", "link": "https://stackoverflow.com/users/9150146/sergey-pleshakov"}, "is_accepted": false, "score": 0, "last_activity_date": 1573069124, "creation_date": 1573069124, "answer_id": 58737383, "question_id": 58737274, "link": "https://stackoverflow.com/questions/58737274/jenkins-protractor-integration-centos7/58737383#58737383", "title": "Jenkins-Protractor Integration-Centos7", "body": "<p>When I had similar problem, devops fixed it by adding a statement to the command so in the result I had</p>\n\n<pre><code>export PATH=/home/ubuntu/bin:/home/ubuntu/.local/bin:/home/ubuntu/.nvm/versions/node/v10.15.3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin; cd ui-automation; protractor conf.js\n\n</code></pre>\n\n<p>still not completely understand what that does...</p>\n\n<p>If that doesn't help, make sure your protractor and everything else are globally installed</p>\n"}, {"tags": [], "owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "is_accepted": false, "score": 0, "last_activity_date": 1573099969, "creation_date": 1573099969, "answer_id": 58741892, "question_id": 58737274, "link": "https://stackoverflow.com/questions/58737274/jenkins-protractor-integration-centos7/58741892#58741892", "title": "Jenkins-Protractor Integration-Centos7", "body": "<p>You can get the global package install path via <code>npm config get prefix</code></p>\n\n<pre><code>NPM_PREFIX=`npm config get prefix`\nexport PATH=$NPM_PREFIX/bin:$PATH\nprotractor --version\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 6202177, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b72bcc0c6cc54373b9cd1eed27ac5f9b?s=128&d=identicon&r=PG&f=1", "display_name": "Suresh Sharma", "link": "https://stackoverflow.com/users/6202177/suresh-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1573099969, "creation_date": 1573068546, "question_id": 58737274, "link": "https://stackoverflow.com/questions/58737274/jenkins-protractor-integration-centos7", "title": "Jenkins-Protractor Integration-Centos7", "body": "<p>I am facing problem while integrating Jenkins with protractor script.</p>\n\n<p>Steps:-\n1. Created Freestyle project and i selected 'Execute Shell' build option and put protractor --version command.</p>\n\n<ol start=\"2\">\n<li>When i build this simple job it says:- + protractor --version\n/tmp/jenkins5545881549145932714.sh: line 2: protractor: command not found</li>\n<li>Same applies to npm --version, when i run this command got error :- npm: command not found.</li>\n<li>But node --version works fine.</li>\n</ol>\n\n<p>I am using centos7, and when i ran these commands on server command line, it works like charm.</p>\n\n<p>Please Help!!</p>\n"}, {"tags": ["javascript", "forms", "email", "email-validation"], "comments": [{"owner": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "edited": false, "score": 0, "creation_date": 1573068698, "post_id": 58737241, "comment_id": 103764615, "body": "alert will freeze the JS engine. Better include this in some kind of modal"}, {"owner": {"reputation": 385, "user_id": 9978856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0305fd1c01a9381d404555d017773c5?s=128&d=identicon&r=PG&f=1", "display_name": "Pablo_Web", "link": "https://stackoverflow.com/users/9978856/pablo-web"}, "reply_to_user": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "edited": false, "score": 0, "creation_date": 1573068931, "post_id": 58737241, "comment_id": 103764694, "body": "@karthick But in other cases works perfectly for me, and using the native alert of the visitor&#39;s browser. Now I don&#39;t know why it doesn&#39;t work. Tested in Opera, Firefox and Chrome"}], "answers": [{"tags": [], "owner": {"reputation": 1345, "user_id": 3880373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8d08e553a23def730954d0782523436?s=128&d=identicon&r=PG", "display_name": "Vladan", "link": "https://stackoverflow.com/users/3880373/vladan"}, "is_accepted": true, "score": 1, "last_activity_date": 1573069049, "creation_date": 1573069049, "answer_id": 58737374, "question_id": 58737241, "link": "https://stackoverflow.com/questions/58737241/javascript-a-problem-with-the-validation-of-my-form/58737374#58737374", "title": "Javascript - A problem with the validation of my form", "body": "<p>Change the event to onsubmit and put it on the form.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function validate () {\r\n    var email;\r\n    email = document.getElementById(\"email\").value;\r\n    expresion = /\\w+@\\w+\\.+\\w/;\r\n\r\nif(email === \"\") {\r\n    alert(\"You cannot submit this request. You must give us an email\");\r\n    return false;\r\n    }\r\n\r\nelse if (email.length&gt;50) {\r\n    alert(\"The maximum for email is 50 characters\");\r\n    return false;\r\n    }\r\n\r\nelse if (!expresion.test(email)) {\r\n    alert(\"Check your information. The email format is not valid\");\r\n    return false;\r\n    }\r\n  console.log('passed!');\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"form\"&gt;\r\n    &lt;section&gt;\r\n        &lt;form action=\"\" method=\"post\" accept-charset='UTF-8' onsubmit=\"return validate(this);\"&gt;\r\n            &lt;label for=\"email\"&gt;&lt;/label&gt;\r\n            &lt;input id=\"email\" type=\"email\" name=\"email\" maxlength=\"50\"&gt;\r\n            &lt;input type=\"hidden\" name=\"privacy\" value=\"blahblahblah\"/&gt;\r\n\r\n            &lt;input id=\"submit\" type=\"submit\" name=\"submit\" value=\"SEND\"&gt;\r\n        &lt;/form&gt;\r\n    &lt;/section&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 385, "user_id": 9978856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0305fd1c01a9381d404555d017773c5?s=128&d=identicon&r=PG&f=1", "display_name": "Pablo_Web", "link": "https://stackoverflow.com/users/9978856/pablo-web"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 58737374, "answer_count": 1, "score": 0, "last_activity_date": 1573069049, "creation_date": 1573068408, "question_id": 58737241, "link": "https://stackoverflow.com/questions/58737241/javascript-a-problem-with-the-validation-of-my-form", "title": "Javascript - A problem with the validation of my form", "body": "<p>I have a problem with the validation script of my <code>php form</code> to send an email, and although it works very well to validate the form, when the user clicks on the <strong>\"accept\"</strong> button of the <code>alert</code>, <strong>the script does not block the action, and the form is sent anyway</strong>...</p>\n\n<p>What am I doing wrong?</p>\n\n<p>Thanks in advance!</p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;div id=\"form\"&gt;\n &lt;section&gt;\n  &lt;form action=\"send.php\" method=\"post\" accept-charset='UTF-8'&gt;\n  &lt;label for=\"email\"&gt;&lt;/label&gt;\n  &lt;input id=\"email\" type=\"email\" name=\"email\" maxlength=\"50\"&gt;\n  &lt;input type=\"hidden\" name=\"privacy\" value=\"blahblahblah\"/&gt;\n\n  &lt;input id=\"submit\" type=\"submit\" name=\"submit\" value=\"SEND\" onclick=\"validate(this);\"&gt;\n\n  &lt;/div&gt;\n  &lt;/form&gt;\n &lt;/section&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>SCRIPT (validation):</strong></p>\n\n<pre><code>function validate () {\n    var email;\n    email = document.getElementById(\"email\").value;\n    expresion = /\\w+@\\w+\\.+\\w/;\n\nif(email === \"\") {\n    alert(\"You cannot submit this request. You must give us an email\");\n    return false;\n    }\n\nelse if (email.length&gt;50) {\n    alert(\"The maximum for email is 50 characters\");\n    return false;\n    }\n\nelse if (!expresion.test(email)) {\n    alert(\"Check your information. The email format is not valid\");\n    return false;\n    }\n}\n</code></pre>\n"}]