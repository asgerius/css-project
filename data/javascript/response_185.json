[{"tags": ["javascript", "php", "visual-studio-code", "adyen"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10136196, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iZuQlIdt1Tg/AAAAAAAAAAI/AAAAAAAAOFU/ctmwo2Cq1fw/photo.jpg?sz=128", "display_name": "Daniel Velazco", "link": "https://stackoverflow.com/users/10136196/daniel-velazco"}, "edited": false, "score": 2, "creation_date": 1533939460, "post_id": 51678480, "comment_id": 90546888, "body": "Adyen documentation seems (for me) difficult to understand :( ... but I&#39;ll take a look  Thanks Michael"}], "tags": [], "owner": {"reputation": 11, "user_id": 2848255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cb740b9f4e27538b720c7a1c290ac81?s=128&d=identicon&r=PG&f=1", "display_name": "michaelngangom", "link": "https://stackoverflow.com/users/2848255/michaelngangom"}, "is_accepted": false, "score": 1, "last_activity_date": 1533322064, "creation_date": 1533322064, "answer_id": 51678480, "question_id": 51529228, "link": "https://stackoverflow.com/questions/51529228/how-can-i-integrate-adyen-on-my-website/51678480#51678480", "title": "How can I integrate Adyen on my website", "body": "<p>You can refer to the GitHub examples: <a href=\"https://github.com/Adyen\" rel=\"nofollow noreferrer\">Adyen GitHub</a>\nand the API reference will give you an idea of how the request and response looks like: <a href=\"https://docs.adyen.com/api-explorer/#/PaymentSetupAndVerificationService/v32/overview\" rel=\"nofollow noreferrer\">Here</a></p>\n"}], "owner": {"reputation": 1, "user_id": 10136196, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iZuQlIdt1Tg/AAAAAAAAAAI/AAAAAAAAOFU/ctmwo2Cq1fw/photo.jpg?sz=128", "display_name": "Daniel Velazco", "link": "https://stackoverflow.com/users/10136196/daniel-velazco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 341, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533322064, "creation_date": 1532563162, "question_id": 51529228, "link": "https://stackoverflow.com/questions/51529228/how-can-i-integrate-adyen-on-my-website", "title": "How can I integrate Adyen on my website", "body": "<p>As I can integrate Adyen API into my website, the checkout documentation does not seem very specific to me. Does anyone have an example?</p>\n"}, {"tags": ["javascript", "asynchronous", "promise", "es6-promise"], "comments": [{"owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1532563004, "post_id": 51529197, "comment_id": 90026686, "body": "What if you <code>console.log(arguments);</code> instead?"}, {"owner": {"reputation": 15376, "user_id": 588916, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b9737fb0439f70903f8948ad3963d9cc?s=128&d=identicon&r=PG", "display_name": "collapsar", "link": "https://stackoverflow.com/users/588916/collapsar"}, "edited": false, "score": 0, "creation_date": 1532563186, "post_id": 51529197, "comment_id": 90026722, "body": "You&#39;ll need to set global state with the data the embedded promises ( <code>members</code>, <code>comments</code>...) resolve with and print contingent on this state or move the output routines into <code>.then</code> handlers for said promises."}, {"owner": {"reputation": 1525, "user_id": 3892581, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dae32fcc936ef195027395d01c16680e?s=128&d=identicon&r=PG&f=1", "display_name": "Hodrobond", "link": "https://stackoverflow.com/users/3892581/hodrobond"}, "edited": false, "score": 0, "creation_date": 1532563210, "post_id": 51529197, "comment_id": 90026726, "body": "The end-solution will definitely depend on what you need, but I&#39;d recommend taking a look at <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\" rel=\"nofollow noreferrer\">Promise.all</a>. It allows you to wait for multiple promises before continuing execution. So if you want to concurrently retrieve all of the information about a particular video, you can. If you want to wait for all of the video information to have returned, you can do that do."}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1532563541, "post_id": 51529197, "comment_id": 90026784, "body": "It&#39;s not clear what depends on what here. <code>getMembers()</code>, <code>getComments()</code>, <code>getTranscript()</code>, etc. don&#39;t take any arguments. So do they always return the same thing?  Do they depend on anything happening before calling them? Are they reading a global variable?"}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1532564093, "post_id": 51529197, "comment_id": 90026883, "body": "If you want to serialize your requests, then chain your promises.  Return the inner promises.  Search for &quot;promise chaining&quot; to get more info.  But, you probably don&#39;t need to serialize them. You can issue all the requests and use <code>Promise.all()</code> to know when they are all done."}, {"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1532565151, "post_id": 51529197, "comment_id": 90027072, "body": "@OP Exactly which requests are dependant on which other requests being completed first?Your code seems to imply that <code>getMembers</code> and such are dependant on the <code>image</code>, but you&#39;re not calling any of the other <code>get*</code> functions with the image result (nor are you using the image result at all...? might you just omit <code>getImage</code> completely?) It&#39;s not entirely clear what essential parts of the code have been omitted for simplicity (if any)"}], "answers": [{"comments": [{"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1532564908, "post_id": 51529230, "comment_id": 90027031, "body": "One might ask why <code>getImage()</code> can&#39;t be parallelized along with <code>getMembers()</code>, <code>getComments()</code> and so on all in the same <code>Promise.all()</code> since none of these seem to depend upon one another."}, {"owner": {"reputation": 425, "user_id": 9422034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q0FlA.jpg?s=128&g=1", "display_name": "Egor Egorov", "link": "https://stackoverflow.com/users/9422034/egor-egorov"}, "edited": false, "score": 0, "creation_date": 1532568707, "post_id": 51529230, "comment_id": 90027704, "body": "Good question, should have clarified: If there is no image I abort the query. No image = no need to get all other stuff"}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "reply_to_user": {"reputation": 425, "user_id": 9422034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q0FlA.jpg?s=128&g=1", "display_name": "Egor Egorov", "link": "https://stackoverflow.com/users/9422034/egor-egorov"}, "edited": false, "score": 0, "creation_date": 1532573382, "post_id": 51529230, "comment_id": 90028672, "body": "@EgorEgorov - Does &quot;no image&quot; mean that <code>getImage()</code> rejects or does one have to check the return value when it resolves?"}], "tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 6, "last_activity_date": 1532563182, "creation_date": 1532563182, "answer_id": 51529230, "question_id": 51529197, "link": "https://stackoverflow.com/questions/51529197/wait-until-nested-promises-resolve/51529230#51529230", "title": "Wait until nested promises resolve", "body": "<p>Try using <em>two</em> <code>Promise.all</code>s instead - one for each <code>video</code>, and one for the <code>members</code>, <code>comments</code>, <code>keywords</code>, and <code>transcript</code>:</p>\n\n<pre><code>getVideos(user).then((videos) =&gt; Promise.all(\n  videos.map(video =&gt; getImage(video)\n    .then(videoResp =&gt; Promise.all([\n      getMembers(), // do you need to call these functions with `videoResp`?\n      getComments(),\n      getKeywords(),\n      getTranscript(),\n    ]))\n  )\n));\n</code></pre>\n\n<p>The promise chain will then resolve with something like</p>\n\n<pre><code>[ [\n    // video 1\n    v1members,\n    v1comments,\n    v1keywords,\n    v1transcript,\n  ],\n  [\n    // video 2\n    v2members,\n    v2comments,\n    v2keywords,\n    v2transcript,\n  ],\n  // ...\n]\n</code></pre>\n"}], "owner": {"reputation": 425, "user_id": 9422034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q0FlA.jpg?s=128&g=1", "display_name": "Egor Egorov", "link": "https://stackoverflow.com/users/9422034/egor-egorov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 719, "favorite_count": 0, "accepted_answer_id": 51529230, "answer_count": 1, "score": 1, "last_activity_date": 1532565389, "creation_date": 1532562787, "last_edit_date": 1532563572, "question_id": 51529197, "link": "https://stackoverflow.com/questions/51529197/wait-until-nested-promises-resolve", "title": "Wait until nested promises resolve", "body": "<p>I am trying to make a bunch of nested calls to the database and want to do something once the results have all come back. I'm new to promises so forgive me if I'm totally doing this wrong (probably the case)</p>\n\n<p>My code currently is something like this:</p>\n\n<pre><code>getVideos(user).then((videos) =&gt; {\n  videos.forEach((video) =&gt; {\n    getImage(video).then(() =&gt; {\n      getMembers().then((members) =&gt; {\n        getComments().then((comments) =&gt; {\n          getKeywords().then((keywords) =&gt; {\n            getTranscript().then((transcript) =&gt; {\n              console.log(members, comments, keywords, transcript)\n            }\n          }\n        }\n      }\n    })\n  })\n})\n</code></pre>\n\n<p>This is obviously super inefficient because <code>getMembers()</code>, <code>getComments()</code>, <code>getKeywords()</code>, and <code>getTranscript()</code> dont need to wait for each other and can all be called asynchronously. Also <code>getImage()</code> can be called asynchronously for every video in the loop without waiting.</p>\n\n<p>I'm trying to change the code to bundle up these promises into one big one so once it resolves I can access all the fetched data in one place. This is my attempt but it prints </p>\n\n<blockquote>\n  <p>Promise{...}, Promise{...}, Promise{...}, Promise{...}</p>\n</blockquote>\n\n<p>instead of the fetched data.</p>\n\n<p>Any idea what I'm doing wrong and how I can properly change all these nested promises into one? Thanks</p>\n\n<pre><code>let members, comments, keywords, transcript\n\ngetVideos(user).then((videos) =&gt; {\n   let promises = []\n   videos.forEach((video) =&gt; {\n      let p = getImage(video).then(() =&gt; {\n        members = getMembers()\n        comments = getComments()\n        keywords = getKeywords()\n        transcript = getTranscript()\n        return Promise.all([members, comments, keywords, transcript])\n      })\n      promises.push(p)\n  })\n  return Promise.all(promises)\n})\n.then(() =&gt; {\n  console.log(members, comments, keywords, transcript)\n})\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "date", "datepicker"], "comments": [{"owner": {"reputation": 7159, "user_id": 877279, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/5fa0544f9a87c652a5b5c1d4b401fcae?s=128&d=identicon&r=PG", "display_name": "Tyler Sebastian", "link": "https://stackoverflow.com/users/877279/tyler-sebastian"}, "edited": false, "score": 0, "creation_date": 1532562723, "post_id": 51529176, "comment_id": 90026627, "body": "&quot;page will crash&quot; - is there an associated error?"}, {"owner": {"reputation": 117, "user_id": 8206309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yJtSm.jpg?s=128&g=1", "display_name": "PushedCrayon", "link": "https://stackoverflow.com/users/8206309/pushedcrayon"}, "reply_to_user": {"reputation": 7159, "user_id": 877279, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/5fa0544f9a87c652a5b5c1d4b401fcae?s=128&d=identicon&r=PG", "display_name": "Tyler Sebastian", "link": "https://stackoverflow.com/users/877279/tyler-sebastian"}, "edited": false, "score": 0, "creation_date": 1532562810, "post_id": 51529176, "comment_id": 90026649, "body": "If I try and set lastDateAccessedHolder to responseData.lastDateAccessed I get date.clone is not a function"}, {"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1532564621, "post_id": 51529176, "comment_id": 90026983, "body": "You need to show the actual value returned by the back end, i.e. the value of <i>lastDateAccessed</i>, otherwise any answer is just a guess. You should not use the built-in parser, see <a href=\"https://stackoverflow.com/questions/2587345/why-does-date-parse-give-incorrect-results\"><i>Why does Date.parse give incorrect results?</i></a> There is no string value that you can pass to the Date constructor that will return anything other than a Date object\u2014it may have a time value of NaN, representing an invalid date, but the object itself will be valid."}, {"owner": {"reputation": 117, "user_id": 8206309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yJtSm.jpg?s=128&g=1", "display_name": "PushedCrayon", "link": "https://stackoverflow.com/users/8206309/pushedcrayon"}, "reply_to_user": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1532564742, "post_id": 51529176, "comment_id": 90027008, "body": "@RobG I updated the question. Thank you for taking a look!"}, {"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1532564928, "post_id": 51529176, "comment_id": 90027035, "body": "<code>new Date(&#39;2018-09-09&#39;)</code> will return a Date object for 2018-09-09T00:00:00Z in reasonably modern implementations, it will not produce an error so your problem lies elsewhere."}, {"owner": {"reputation": 117, "user_id": 8206309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yJtSm.jpg?s=128&g=1", "display_name": "PushedCrayon", "link": "https://stackoverflow.com/users/8206309/pushedcrayon"}, "edited": false, "score": 0, "creation_date": 1532565153, "post_id": 51529176, "comment_id": 90027074, "body": "I added another update to the question with the exact code I am using to try and set lastDateAccessedHolder."}, {"owner": {"reputation": 7159, "user_id": 877279, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/5fa0544f9a87c652a5b5c1d4b401fcae?s=128&d=identicon&r=PG", "display_name": "Tyler Sebastian", "link": "https://stackoverflow.com/users/877279/tyler-sebastian"}, "edited": false, "score": 0, "creation_date": 1532576680, "post_id": 51529176, "comment_id": 90029258, "body": "are you using this? <a href=\"https://www.npmjs.com/package/react-datepicker\" rel=\"nofollow noreferrer\">npmjs.com/package/react-datepicker</a>"}], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 8206309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yJtSm.jpg?s=128&g=1", "display_name": "PushedCrayon", "link": "https://stackoverflow.com/users/8206309/pushedcrayon"}, "edited": false, "score": 0, "creation_date": 1532563555, "post_id": 51529245, "comment_id": 90026787, "body": "I tried to convert the return string to that format and passing it to be a new Date, and then using that new date object and it returns the same error unfortunately."}, {"owner": {"reputation": 338, "user_id": 6649050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f90eed5b48ce881a4fcaa9cb6045ffcb?s=128&d=identicon&r=PG&f=1", "display_name": "doodhwala", "link": "https://stackoverflow.com/users/6649050/doodhwala"}, "reply_to_user": {"reputation": 117, "user_id": 8206309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yJtSm.jpg?s=128&g=1", "display_name": "PushedCrayon", "link": "https://stackoverflow.com/users/8206309/pushedcrayon"}, "edited": false, "score": 0, "creation_date": 1532563647, "post_id": 51529245, "comment_id": 90026808, "body": "I&#39;ve updated the answer with another link. Let me know if that works for you. If it doesn&#39;t, please write the string you are returning."}, {"owner": {"reputation": 117, "user_id": 8206309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yJtSm.jpg?s=128&g=1", "display_name": "PushedCrayon", "link": "https://stackoverflow.com/users/8206309/pushedcrayon"}, "edited": false, "score": 0, "creation_date": 1532563952, "post_id": 51529245, "comment_id": 90026859, "body": "That unfortunately did not work either. I have the error copied but it is too long to paste into the comments. It is still saying date.clone is not a function, and I do not know what it wants me to pass. @doodhwala"}, {"owner": {"reputation": 338, "user_id": 6649050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f90eed5b48ce881a4fcaa9cb6045ffcb?s=128&d=identicon&r=PG&f=1", "display_name": "doodhwala", "link": "https://stackoverflow.com/users/6649050/doodhwala"}, "reply_to_user": {"reputation": 117, "user_id": 8206309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yJtSm.jpg?s=128&g=1", "display_name": "PushedCrayon", "link": "https://stackoverflow.com/users/8206309/pushedcrayon"}, "edited": false, "score": 0, "creation_date": 1532564921, "post_id": 51529245, "comment_id": 90027034, "body": "You&#39;re welcome! Update the question explaining what happened so that someone else with the same issue can get benefitted."}, {"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1532564973, "post_id": 51529245, "comment_id": 90027040, "body": "This is not an answer, it might be a comment. If the links answer the question, then this should be marked as a duplicate."}, {"owner": {"reputation": 338, "user_id": 6649050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f90eed5b48ce881a4fcaa9cb6045ffcb?s=128&d=identicon&r=PG&f=1", "display_name": "doodhwala", "link": "https://stackoverflow.com/users/6649050/doodhwala"}, "edited": false, "score": 0, "creation_date": 1532565158, "post_id": 51529245, "comment_id": 90027075, "body": "Agreed RobG. I don&#39;t have enough rep to comment so I figured I&#39;d respond here. Also, I&#39;m still not sure how the problem was solved. If it was through the links, then we can mark as duplicate. Waiting for OP to post their solution."}, {"owner": {"reputation": 338, "user_id": 6649050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f90eed5b48ce881a4fcaa9cb6045ffcb?s=128&d=identicon&r=PG&f=1", "display_name": "doodhwala", "link": "https://stackoverflow.com/users/6649050/doodhwala"}, "reply_to_user": {"reputation": 117, "user_id": 8206309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yJtSm.jpg?s=128&g=1", "display_name": "PushedCrayon", "link": "https://stackoverflow.com/users/8206309/pushedcrayon"}, "edited": false, "score": 0, "creation_date": 1532565433, "post_id": 51529245, "comment_id": 90027118, "body": "@PushedCrayon can you look at the error log and see what specific line the error is occurring in? If it is in the new Date(date) line, please log the value of date."}, {"owner": {"reputation": 117, "user_id": 8206309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yJtSm.jpg?s=128&g=1", "display_name": "PushedCrayon", "link": "https://stackoverflow.com/users/8206309/pushedcrayon"}, "edited": false, "score": 0, "creation_date": 1532565514, "post_id": 51529245, "comment_id": 90027129, "body": "@doodhwala when I look into the log, it says the error is occurring on this line: this.setState({lastDateAccessedHolder: done});"}], "tags": [], "owner": {"reputation": 338, "user_id": 6649050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f90eed5b48ce881a4fcaa9cb6045ffcb?s=128&d=identicon&r=PG&f=1", "display_name": "doodhwala", "link": "https://stackoverflow.com/users/6649050/doodhwala"}, "is_accepted": false, "score": 1, "last_activity_date": 1532600236, "last_edit_date": 1532600236, "creation_date": 1532563317, "answer_id": 51529245, "question_id": 51529176, "link": "https://stackoverflow.com/questions/51529176/how-to-properly-create-date-object-for-function/51529245#51529245", "title": "How to properly create date object for function", "body": "<p>This answer assumes that you just need the date.</p>\n\n<p>Ensure that the string returned by the GET request follows the ISO Format: <code>YYYY-MM-DD</code></p>\n\n<p>For more details, you can refer these answers - <a href=\"https://stackoverflow.com/a/5619588/6649050\">link 1</a> and <a href=\"https://stackoverflow.com/a/22835394/6649050\">link 2</a></p>\n\n<p>Update: on some more digging up, I came across <a href=\"https://github.com/Hacker0x01/react-datepicker/issues/1120\" rel=\"nofollow noreferrer\">this issue</a> which suggests packing the date using moment as suggested in one of the comments</p>\n\n<pre><code>&lt;DatePicker\n  className={styles.datePicker}\n  selected={moment(this.props.endDate)}\n  onChange={this.handleChangeEnd}\n/&gt;\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 8206309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yJtSm.jpg?s=128&g=1", "display_name": "PushedCrayon", "link": "https://stackoverflow.com/users/8206309/pushedcrayon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 940, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1532600236, "creation_date": 1532562598, "last_edit_date": 1532564992, "question_id": 51529176, "link": "https://stackoverflow.com/questions/51529176/how-to-properly-create-date-object-for-function", "title": "How to properly create date object for function", "body": "<p>I have a date picker for a field on my form that allows the user to select a date. When the form is submitted, the date object is parsed into a string of the correct format that the backend API requires. When I try and GET an object to populate the form with, the return type for that input field comes back as a string. If I try and pass the string in, the page will crash. </p>\n\n<p>The exact issue happens when the API returns a string variable that is supposed to fill in the input field shown below. The program currently throws an error that date.clone is not a function. </p>\n\n<p>Can someone help me figure out how to pass the string date from the backend in such a way that it will be shown on the front end correctly?</p>\n\n<p>This is the function that takes in the date object and creates the string for the backend. The backend returns lastDateAccessed as a string, and lastDateAccessedHolder is what is visible in the input field.</p>\n\n<pre><code>handleDateChange(date) {\n    this.setState({ lastDateAccessedHolder: date });\n\n    var lastDate = new Date(date);\n    var day = lastDate.getDate();\n    if(day.toString().length === 1)\n    {\n        day = '0' + day;\n    }\n\n    var month = lastDate.getMonth() + 1;\n    if(month.toString().length === 1)\n    {\n        month = '0' + month;\n    }\n\n    var year = lastDate.getFullYear();\n    this.setState(\n        {lastDateAccessed: year+\"-\"+month+\"-\"+day},\n        () =&gt; console.log(this.state.lastDateAccessed)\n    );\n}\n</code></pre>\n\n<p>This is the line where the datepicker is used, and the input field is shown: </p>\n\n<pre><code>&lt;DatePicker selected={this.state.lastDateAccessedHolder} onChange={this.handleDateChange}/&gt;\n</code></pre>\n\n<p>UPDATE: The backend will return responseData.lastDateAccessed. This variable will hold a date like '2018-09-09' or '2016-12-03'.</p>\n\n<p>UPDATE 2: The code I am running in the GET function from the API is: </p>\n\n<pre><code>var dateString = responseData.lastDateAccessed;\n     var finalDate = dateString.split('-');\n     var done = new Date(finalDate[0], finalDate[1] - 1, finalDate[2]);\n     this.setState({lastDateAccessedHolder: done});\n</code></pre>\n\n<p>Error: </p>\n\n<pre><code>index.js:318 Uncaught TypeError: date.clone is not a function\nat safeDateFormat (index.js:318)\nat DatePicker._this.renderDateInput (index.js:2844)\nat DatePicker.render (index.js:2916)\nat finishClassComponent (react-dom.development.js:8389)\nat updateClassComponent (react-dom.development.js:8357)\nat beginWork (react-dom.development.js:8982)\nat performUnitOfWork (react-dom.development.js:11814)\nat workLoop (react-dom.development.js:11843)\nat HTMLUnknownElement.callCallback (react-dom.development.js:100)\nat Object.invokeGuardedCallbackDev (react-dom.development.js:138)\nat invokeGuardedCallback (react-dom.development.js:187)\nat replayUnitOfWork (react-dom.development.js:11318)\nat renderRoot (react-dom.development.js:11885)\nat performWorkOnRoot (react-dom.development.js:12449)\nat performWork (react-dom.development.js:12370)\nat performSyncWork (react-dom.development.js:12347)\nat requestWork (react-dom.development.js:12247)\nat scheduleWorkImpl (react-dom.development.js:12122)\nat scheduleWork (react-dom.development.js:12082)\nat Object.enqueueSetState (react-dom.development.js:6644)\nat addAsset../node_modules/react/cjs/react.development.js.Component.setState (react.development.js:238)\nat addAsset.js:71\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "components"], "comments": [{"owner": {"reputation": 31569, "user_id": 4035, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/dWVIl.png?s=128&g=1", "display_name": "dance2die", "link": "https://stackoverflow.com/users/4035/dance2die"}, "edited": false, "score": 0, "creation_date": 1532562789, "post_id": 51529170, "comment_id": 90026643, "body": "Would you post error message as well as the code that imports <code>Menu</code>?"}, {"owner": {"reputation": 463, "user_id": 7490081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qxYCP.jpg?s=128&g=1", "display_name": "G.Rose", "link": "https://stackoverflow.com/users/7490081/g-rose"}, "reply_to_user": {"reputation": 31569, "user_id": 4035, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/dWVIl.png?s=128&g=1", "display_name": "dance2die", "link": "https://stackoverflow.com/users/4035/dance2die"}, "edited": false, "score": 0, "creation_date": 1532562921, "post_id": 51529170, "comment_id": 90026669, "body": "@SungKim I went ahead and changed the OP thank you"}, {"owner": {"reputation": 7107, "user_id": 5496808, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/XXJOv.png?s=128&g=1", "display_name": "Jayce444", "link": "https://stackoverflow.com/users/5496808/jayce444"}, "edited": false, "score": 2, "creation_date": 1532563087, "post_id": 51529170, "comment_id": 90026705, "body": "Your syntax is wrong. You don&#39;t need <code>Array</code> at the beginning of the array of menus. Also use a proper variable declaration with <code>let&#47;const</code>. For example, <code>const Menus = [Menu0, Menu1, ...]</code>"}, {"owner": {"reputation": 463, "user_id": 7490081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qxYCP.jpg?s=128&g=1", "display_name": "G.Rose", "link": "https://stackoverflow.com/users/7490081/g-rose"}, "reply_to_user": {"reputation": 7107, "user_id": 5496808, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/XXJOv.png?s=128&g=1", "display_name": "Jayce444", "link": "https://stackoverflow.com/users/5496808/jayce444"}, "edited": false, "score": 0, "creation_date": 1532563258, "post_id": 51529170, "comment_id": 90026737, "body": "@Jayce444 I think this fixed it, Nothing is showing, but it did render so I wonder if I just need to edit my CSS. Thank you very much. I&#39;m too use to ES5"}, {"owner": {"reputation": 463, "user_id": 7490081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qxYCP.jpg?s=128&g=1", "display_name": "G.Rose", "link": "https://stackoverflow.com/users/7490081/g-rose"}, "reply_to_user": {"reputation": 7107, "user_id": 5496808, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/XXJOv.png?s=128&g=1", "display_name": "Jayce444", "link": "https://stackoverflow.com/users/5496808/jayce444"}, "edited": false, "score": 0, "creation_date": 1532564126, "post_id": 51529170, "comment_id": 90026889, "body": "@Jayce444 do you think there is a good way to test if this works or not? It shows in developer tools that the menu is rendering, but I can&#39;t actually see it"}, {"owner": {"reputation": 7107, "user_id": 5496808, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/XXJOv.png?s=128&g=1", "display_name": "Jayce444", "link": "https://stackoverflow.com/users/5496808/jayce444"}, "edited": false, "score": 1, "creation_date": 1532566140, "post_id": 51529170, "comment_id": 90027235, "body": "Well you already know that the rendering works. Sounds like a CSS issue, though it&#39;s hard to say. I don&#39;t have experience with that specific module."}, {"owner": {"reputation": 463, "user_id": 7490081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qxYCP.jpg?s=128&g=1", "display_name": "G.Rose", "link": "https://stackoverflow.com/users/7490081/g-rose"}, "reply_to_user": {"reputation": 7107, "user_id": 5496808, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/XXJOv.png?s=128&g=1", "display_name": "Jayce444", "link": "https://stackoverflow.com/users/5496808/jayce444"}, "edited": false, "score": 0, "creation_date": 1532571464, "post_id": 51529170, "comment_id": 90028278, "body": "@Jayce444 Thank you for your help. It does in fact work and I have been messing around with the css. Take care!"}], "answers": [{"comments": [{"owner": {"reputation": 463, "user_id": 7490081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qxYCP.jpg?s=128&g=1", "display_name": "G.Rose", "link": "https://stackoverflow.com/users/7490081/g-rose"}, "edited": false, "score": 0, "creation_date": 1532564256, "post_id": 51529262, "comment_id": 90026921, "body": "Do you think there is a good way to test if this works or not? It shows in developer tools that the menu is rendering, but I can&#39;t actually see it"}], "tags": [], "owner": {"reputation": 31569, "user_id": 4035, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/dWVIl.png?s=128&g=1", "display_name": "dance2die", "link": "https://stackoverflow.com/users/4035/dance2die"}, "is_accepted": false, "score": 1, "last_activity_date": 1532563441, "creation_date": 1532563441, "answer_id": 51529262, "question_id": 51529170, "link": "https://stackoverflow.com/questions/51529170/choosing-a-random-styled-component-in-react-js/51529262#51529262", "title": "Choosing a random styled component in React.js", "body": "<p>When using <code>Array</code> to create an array, you need to use <code>Array()</code>, not <code>Array[]</code>  </p>\n\n<p><a href=\"https://i.stack.imgur.com/vEvud.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vEvud.png\" alt=\"enter image description here\"></a></p>\n\n<p>Demo\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>console.log(Array[1,2,3]);\r\nconsole.log(Array(1,2,3));\r\n// OR\r\nconsole.log([1,2,3]);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 463, "user_id": 7490081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qxYCP.jpg?s=128&g=1", "display_name": "G.Rose", "link": "https://stackoverflow.com/users/7490081/g-rose"}, "edited": false, "score": 0, "creation_date": 1532564527, "post_id": 51529268, "comment_id": 90026967, "body": "Is there any way you can think of to test it?"}, {"owner": {"reputation": 292, "user_id": 9883174, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Anthony Liu", "link": "https://stackoverflow.com/users/9883174/anthony-liu"}, "reply_to_user": {"reputation": 463, "user_id": 7490081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qxYCP.jpg?s=128&g=1", "display_name": "G.Rose", "link": "https://stackoverflow.com/users/7490081/g-rose"}, "edited": false, "score": 0, "creation_date": 1532762401, "post_id": 51529268, "comment_id": 90104175, "body": "@G.Rose Since you used random function, you can&#39;t really test your output all depends on your code. However, you can stub the Math.random method to make it always get a certain number, and compare the output with the one you expected."}], "tags": [], "owner": {"reputation": 292, "user_id": 9883174, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Anthony Liu", "link": "https://stackoverflow.com/users/9883174/anthony-liu"}, "is_accepted": true, "score": 1, "last_activity_date": 1532563493, "creation_date": 1532563493, "answer_id": 51529268, "question_id": 51529170, "link": "https://stackoverflow.com/questions/51529170/choosing-a-random-styled-component-in-react-js/51529268#51529268", "title": "Choosing a random styled component in React.js", "body": "<p>Wrong syntax of array, you can just do</p>\n\n<pre><code>import { slide as Menu0 } from 'react-burger-menu';\nimport { stack as Menu1 } from 'react-burger-menu';\nimport { elastic as Menu2 } from 'react-burger-menu';\nimport { bubble as Menu3 } from 'react-burger-menu';\nimport { push as Menu4 } from 'react-burger-menu';\nimport { pushRotate as Menu5 } from 'react-burger-menu';\nimport { scaleDown as Menu6 } from 'react-burger-menu';\nimport { scaleRotate as Menu7 } from 'react-burger-menu';\nimport { fallDown as Menu8 } from 'react-burger-menu';\nimport { reveal as Menu9 } from 'react-burger-menu';\n\nconst Menus = [Menu0, Menu1, Menu2, Menu3, Menu4, Menu5, Menu6, \nMenu7, Menu8, Menu9];\n\nconst Menu = Menus[Math.floor(Math.random() * Menus.length)];\n\nexport default Menu;\n</code></pre>\n"}], "owner": {"reputation": 463, "user_id": 7490081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qxYCP.jpg?s=128&g=1", "display_name": "G.Rose", "link": "https://stackoverflow.com/users/7490081/g-rose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 0, "accepted_answer_id": 51529268, "answer_count": 2, "score": 0, "last_activity_date": 1532563493, "creation_date": 1532562555, "last_edit_date": 1532563098, "question_id": 51529170, "link": "https://stackoverflow.com/questions/51529170/choosing-a-random-styled-component-in-react-js", "title": "Choosing a random styled component in React.js", "body": "<p>I have probably an impossible thing I would like to do for my portfolio site. I want to use the React-Burger-Menu library and import all of the menu components and choose one at random upon screen load. I decided to create an array with all of the imports and use a math.random function to see if that will work. Of course, it doesn't. I understand this is probably really dumb, but I think it would be so cool if it worked. Here is what I have so far for the random function:</p>\n\n<pre><code>import { slide as Menu0 } from 'react-burger-menu';\nimport { stack as Menu1 } from 'react-burger-menu';\nimport { elastic as Menu2 } from 'react-burger-menu';\nimport { bubble as Menu3 } from 'react-burger-menu';\nimport { push as Menu4 } from 'react-burger-menu';\nimport { pushRotate as Menu5 } from 'react-burger-menu';\nimport { scaleDown as Menu6 } from 'react-burger-menu';\nimport { scaleRotate as Menu7 } from 'react-burger-menu';\nimport { fallDown as Menu8 } from 'react-burger-menu';\nimport { reveal as Menu9 } from 'react-burger-menu';\n\nMenus = Array[Menu0, Menu1, Menu2, Menu3, Menu4, Menu5, Menu6, \nMenu7, Menu8, Menu9]\n\nvar Menu = Menus[Math.floor(Math.random() * Menus.length)];\n\nexport default Menu;\n</code></pre>\n\n<p>And here like it says in the documentation I am wrapping my nav with <code>&lt;Menu&gt;&lt;/Menu&gt;</code> tags. Here is the code:</p>\n\n<pre><code>import Menu from './sidebar';\nimport Contact from \"../pages/contact\";\nimport Portfolio from \"../pages/portfolio\";\nimport Index from \"../pages/index\";\nimport \"../styles/customnav.css\";\n\nclass customnav extends Component {\n  render() {\n    return (\n      &lt;Menu&gt;\n        &lt;HashRouter&gt;\n          &lt;div&gt;\n           &lt;nav className=\"stroke\"&gt;\n            &lt;ul className=\"menu\"&gt;\n            &lt;li&gt;\n              &lt;NavLink className=\"menu-item\" to=\"/\"&gt;\n                Home\n            &lt;/NavLink&gt;\n            &lt;/li&gt;\n            &lt;li&gt;\n              &lt;NavLink className=\"menu-item\" to=\"/portfolio\"&gt;\n                Portfolio\n            &lt;/NavLink&gt;\n            &lt;/li&gt;\n            &lt;li&gt;\n              &lt;NavLink className=\"menu-item\" to=\"/contact\"&gt;\n                Contact\n            &lt;/NavLink&gt;\n            &lt;/li&gt;\n          &lt;/ul&gt;\n\n          &lt;Route exact path=\"/\" component={Index} /&gt;\n          &lt;Route path=\"/portfolio\" component={Portfolio} /&gt;\n          &lt;Route path=\"/contact\" component={Contact} /&gt;\n          &lt;/nav&gt;\n         &lt;/div&gt;\n      &lt;/HashRouter&gt;\n     &lt;/Menu&gt;\n    );\n }\n}\n</code></pre>\n\n<p>export default customnav;</p>\n\n<p>Here is the error code:\n<code>Cannot read property 'length' of undefined</code></p>\n\n<p>I realize this is a stretch, but thank you for your help.</p>\n"}, {"tags": ["javascript", "charts"], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 7184397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baddae72d48a821fb95754c3c0f6ccfd?s=128&d=identicon&r=PG&f=1", "display_name": "kevintrankt", "link": "https://stackoverflow.com/users/7184397/kevintrankt"}, "edited": false, "score": 0, "creation_date": 1532579303, "post_id": 51529351, "comment_id": 90029817, "body": "I tried this solution, but it will only return the default hidden datasets. It doesn&#39;t return any information about datasets that are disabled by the user by clicking on the legend."}, {"owner": {"reputation": 441, "user_id": 1466619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ILx4I.jpg?s=128&g=1", "display_name": "Ballsigno", "link": "https://stackoverflow.com/users/1466619/ballsigno"}, "reply_to_user": {"reputation": 119, "user_id": 7184397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baddae72d48a821fb95754c3c0f6ccfd?s=128&d=identicon&r=PG&f=1", "display_name": "kevintrankt", "link": "https://stackoverflow.com/users/7184397/kevintrankt"}, "edited": false, "score": 0, "creation_date": 1532581404, "post_id": 51529351, "comment_id": 90030329, "body": "I didn&#39;t get it that information from your question, but I think I could solve. (I updated my answer)"}, {"owner": {"reputation": 441, "user_id": 1466619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ILx4I.jpg?s=128&g=1", "display_name": "Ballsigno", "link": "https://stackoverflow.com/users/1466619/ballsigno"}, "reply_to_user": {"reputation": 119, "user_id": 7184397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baddae72d48a821fb95754c3c0f6ccfd?s=128&d=identicon&r=PG&f=1", "display_name": "kevintrankt", "link": "https://stackoverflow.com/users/7184397/kevintrankt"}, "edited": false, "score": 1, "creation_date": 1532582184, "post_id": 51529351, "comment_id": 90030554, "body": "Whoops, did you try after seeing my answer?, in that case, I&#39;m sorry I didn&#39;t check enough my code."}], "tags": [], "owner": {"reputation": 441, "user_id": 1466619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ILx4I.jpg?s=128&g=1", "display_name": "Ballsigno", "link": "https://stackoverflow.com/users/1466619/ballsigno"}, "is_accepted": false, "score": 4, "last_activity_date": 1532581211, "last_edit_date": 1532581211, "creation_date": 1532564310, "answer_id": 51529351, "question_id": 51529163, "link": "https://stackoverflow.com/questions/51529163/chart-js-get-hidden-datasets/51529351#51529351", "title": "Chart.js: Get Hidden Datasets", "body": "<p>how do you hide your datasets?<br>\nI just checked Chart.js document, and found that they have hidden option.<br>\nSo, why don't you see at the hidden option?</p>\n\n<pre><code>// test chart.\nvar data =  {\n    labels: [\"Item1\", \"Item2\", \"Item3\", \"Item4\", \"Item5\", \"Item6\", \"Item7\"],\n    datasets: [\n        {\n            label: \"line-1\",\n            borderColor: 'rgb(255, 0, 0)',\n            data: [20, 26, 12, 43, 33, 21, 29],\n            // hidden\n            hidden: true\n        },\n        {\n            label: \"line-2\",\n            borderColor: 'rgb(0, 255, 0)',\n            data: [10, 3, 24, 43, 23, 11, 51],\n        },\n        {\n            label: \"line-3\",\n            borderColor: 'rgb(0, 0, 255)',\n            data: [16, 31, 22, 53, 24, 27, 69],\n        }\n    ]\n};\n\n// For hidden Label. (I don't know why datasets hasn't this option.)\nvar options = {\n    legend: {\n        labels: {\n            filter: function(item, chart) {\n                return !item.hidden;\n            }\n        }\n    }\n};\n\n// Create the chart.\nvar myLineChart = new Chart($(\"#chart\"), {\n    type: 'line',\n    data: data,\n    options: options\n});\n\n// Get the hidden datasets based on the hidden column.\nvar hiddenDatasets = $.grep(myLineChart.data.datasets, function(line) {\n    return line.hidden;\n});\n\n// See console.\nconsole.log(hiddenDatasets);\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/139nL76p/\" rel=\"nofollow noreferrer\">Here's jsfiddle.</a></p>\n\n<p><strong>UPDATED</strong>\nI found that there is a useful method available.<br></p>\n\n<pre><code>var hiddenDatasets = [];\nfor(var i=0; i&lt;myLineChart.data.datasets.length; i++) {\n    // It seems some value updated in metadata, but there is a method available.\n    // var metaDatasets = myLineChart.getDatasetMeta(i);\n    if (!myLineChart.isDatasetVisible(i)) {\n        // or myLineChart.getDatasetMeta(i);\n        hiddenDatasets.push(myLineChart.data.datasets[i]);\n    }\n }\n // See console.\n console.log(hiddenDatasets);\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/j5rL7am8/\" rel=\"nofollow noreferrer\">jsfiddle.</a></p>\n"}], "owner": {"reputation": 119, "user_id": 7184397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baddae72d48a821fb95754c3c0f6ccfd?s=128&d=identicon&r=PG&f=1", "display_name": "kevintrankt", "link": "https://stackoverflow.com/users/7184397/kevintrankt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3518, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1532581211, "creation_date": 1532562512, "question_id": 51529163, "link": "https://stackoverflow.com/questions/51529163/chart-js-get-hidden-datasets", "title": "Chart.js: Get Hidden Datasets", "body": "<p>I have a multiseries line chart using Chart.js and I've been trying to figure out how to get hidden datasets from a Chart.js object. I want to display the filtered data in a table besides the Chart.</p>\n\n<p>I tried adding a hidden variable for each dataset but I still am having trouble retrieving which datasets are hidden.</p>\n"}, {"tags": ["javascript", "html", "css", "setinterval", "dom-events"], "comments": [{"owner": {"reputation": 2152, "user_id": 1189882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4246442d37bb75f6c85ef6320620c6ba?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1189882/mark"}, "edited": false, "score": 1, "creation_date": 1532562819, "post_id": 51529153, "comment_id": 90026650, "body": "You could assign the returned value of <code>setInterval</code> to a variable, then in your change function use <code>clearInterval</code> to stop the current timed interval, and <code>setInterval</code> again to use a new time interval. <a href=\"http://jsfiddle.net/swk51b6q/\" rel=\"nofollow noreferrer\">jsfiddle.net/swk51b6q</a>"}], "answers": [{"comments": [{"owner": {"reputation": 395, "user_id": 9320222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda44e95776d8c16266cbf96965d5c12?s=128&d=identicon&r=PG", "display_name": "Jun Jung", "link": "https://stackoverflow.com/users/9320222/jun-jung"}, "edited": false, "score": 0, "creation_date": 1532664241, "post_id": 51529235, "comment_id": 90068473, "body": "Thank you so much. Please let me know if I have fully understood the concept. So making a variable called &quot;intvl&quot; with Boolean allows you to &quot;reset&quot; by using an if statement, which is if &quot;intvl&quot; is not equal to &quot;false&quot;, reset (clearInterval) input value? Sorry if I sound complicated. Also How do you set a minimum time limit? I changed the min value in html but it does not stop users from typing any numbers they desire (other than showing a message asking &quot;please select a value that is no less than the &quot;minimum number&quot;)?"}, {"owner": {"reputation": 2152, "user_id": 1189882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4246442d37bb75f6c85ef6320620c6ba?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1189882/mark"}, "reply_to_user": {"reputation": 395, "user_id": 9320222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda44e95776d8c16266cbf96965d5c12?s=128&d=identicon&r=PG", "display_name": "Jun Jung", "link": "https://stackoverflow.com/users/9320222/jun-jung"}, "edited": false, "score": 0, "creation_date": 1532711846, "post_id": 51529235, "comment_id": 90092222, "body": "See &quot;Edit #3&quot; in my response for a minimum time - basically set a variable for <code>minSpeed</code> in ms (I used 500), then in the speed field&#39;s change event, check if the entered speed is less than <code>minSpeed</code>; if it is, use <code>minSpeed</code> instead and update the field to show the <code>minSpeed</code> value. As for the bool - it&#39;s not really necessary to do that way, just a personal preference - you can take out the declaration and bool assignment altogether, along with the check (<a href=\"http://jsfiddle.net/swk51b6q/6/\" rel=\"nofollow noreferrer\">jsfiddle.net/swk51b6q/6</a>). I just like to see if the timer is running before I clear it."}, {"owner": {"reputation": 395, "user_id": 9320222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda44e95776d8c16266cbf96965d5c12?s=128&d=identicon&r=PG", "display_name": "Jun Jung", "link": "https://stackoverflow.com/users/9320222/jun-jung"}, "edited": false, "score": 0, "creation_date": 1532812181, "post_id": 51529235, "comment_id": 90116277, "body": "Sorry I was too busy checking the first link out to check Edit #3. Yeah, I realized there is no difference whether I do &quot;true&quot; or &quot;false&quot; as it produces the same result! Thank you again. You are good at explaining things in a way people like me can understand."}, {"owner": {"reputation": 395, "user_id": 9320222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda44e95776d8c16266cbf96965d5c12?s=128&d=identicon&r=PG", "display_name": "Jun Jung", "link": "https://stackoverflow.com/users/9320222/jun-jung"}, "edited": false, "score": 0, "creation_date": 1532814341, "post_id": 51529235, "comment_id": 90116692, "body": "Oh, one more question! I realized that it won&#39;t let me reset more than once? For example, I switched from 500 to 5000 and went back to 500 and I tried 3000 but won&#39;t work."}, {"owner": {"reputation": 2152, "user_id": 1189882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4246442d37bb75f6c85ef6320620c6ba?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1189882/mark"}, "reply_to_user": {"reputation": 395, "user_id": 9320222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda44e95776d8c16266cbf96965d5c12?s=128&d=identicon&r=PG", "display_name": "Jun Jung", "link": "https://stackoverflow.com/users/9320222/jun-jung"}, "edited": false, "score": 0, "creation_date": 1533079631, "post_id": 51529235, "comment_id": 90211969, "body": "In my most recent edit (jsfiddle rev. 5) I don&#39;t see the issue you&#39;re mentioning. When I change it to 5000 it waits 5 seconds, then adds a box, then I change it back to 500 and it adds one every 1/2 second, then changing it to 3000 adds one every 3 seconds. Not sure what&#39;s failing - maybe something available in your Dev Tools to say why? In any case, here&#39;s a jQuery version if you&#39;re familiar with jQuery: <a href=\"http://jsfiddle.net/2z7sa9qh/\" rel=\"nofollow noreferrer\">jsfiddle.net/2z7sa9qh</a>."}, {"owner": {"reputation": 395, "user_id": 9320222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda44e95776d8c16266cbf96965d5c12?s=128&d=identicon&r=PG", "display_name": "Jun Jung", "link": "https://stackoverflow.com/users/9320222/jun-jung"}, "edited": false, "score": 0, "creation_date": 1533168491, "post_id": 51529235, "comment_id": 90251885, "body": "Yeah that is weird. Maybe I was playing around too much that it caused a bug. Thank you again. I gotta start to get used to jQuery although people are saying it is dying; I feel like it is necessary to know how to read at least."}], "tags": [], "owner": {"reputation": 2152, "user_id": 1189882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4246442d37bb75f6c85ef6320620c6ba?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1189882/mark"}, "is_accepted": true, "score": 1, "last_activity_date": 1532711318, "last_edit_date": 1532711318, "creation_date": 1532563223, "answer_id": 51529235, "question_id": 51529153, "link": "https://stackoverflow.com/questions/51529153/changing-the-speed-of-boxes-being-created-in-the-middle-of-happening-dom-chang/51529235#51529235", "title": "Changing the speed of boxes being created in the middle of happening (DOM &quot;change&quot; Events related)", "body": "<p>At the beginning, you can declare this with your variables (don't know if it's necessary, but I like to check that it's actually a running timer before trying to clear it).</p>\n\n<pre><code>var intvl = false;\n</code></pre>\n\n<p>The first time you set the interval, assign it to the variable:</p>\n\n<pre><code>intvl = setInterval(function(){\n  CreateRandomBoxes();\n  window.scrollTo (0,document.body.scrollHeight);\n} , spd);\n</code></pre>\n\n<p>Then, in your change function, call <code>clearInterval</code> first if the timer is running, then start it with the new time instead:</p>\n\n<pre><code>document.getElementById(\"speed\").addEventListener(\"change\",function(){\n  if(intvl !== false) {\n    clearInterval(intvl);\n  }\n  var spd = document.getElementById(\"speed\").value;\n  intvl = setInterval(function() {\n    CreateRandomBoxes();\n    window.scrollTo(0, document.body.scrollHeight);\n  }, spd);\n});\n</code></pre>\n\n<p>The Fiddle from my comment: <a href=\"http://jsfiddle.net/swk51b6q/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/swk51b6q/</a></p>\n\n<p>Edit: I recommend setting a minimum time limit - having a new box appear every 20ms is crazy.</p>\n\n<p>Edit again: You can put the entire change function within the <code>if(intvl !== false)</code> block if you don't want changing the timer value to automatically start the timer if it wasn't started already:</p>\n\n<pre><code>document.getElementById(\"speed\").addEventListener(\"change\",function(){\n  if(intvl !== false) {\n    clearInterval(intvl);\n    var spd = document.getElementById(\"speed\").value;\n    intvl = setInterval(function() {\n      CreateRandomBoxes();\n      window.scrollTo(0, document.body.scrollHeight);\n    }, spd);\n  }\n});\n</code></pre>\n\n<p>Edit #3: <a href=\"http://jsfiddle.net/swk51b6q/5\" rel=\"nofollow noreferrer\">http://jsfiddle.net/swk51b6q/5</a></p>\n"}], "owner": {"reputation": 395, "user_id": 9320222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda44e95776d8c16266cbf96965d5c12?s=128&d=identicon&r=PG", "display_name": "Jun Jung", "link": "https://stackoverflow.com/users/9320222/jun-jung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 51529235, "answer_count": 1, "score": 0, "last_activity_date": 1532711318, "creation_date": 1532562424, "question_id": 51529153, "link": "https://stackoverflow.com/questions/51529153/changing-the-speed-of-boxes-being-created-in-the-middle-of-happening-dom-chang", "title": "Changing the speed of boxes being created in the middle of happening (DOM &quot;change&quot; Events related)", "body": "<p>I would like to change the speed of boxes being created anytime even in the midst of boxes being created. So far I have 4 buttons that work -- a button that generates random size/color boxes, a button that increments the size of the box, a button that resets the function, and a button that automatically creates based on the speed (milliseconds) of input value. As you can see, the speed changes every time I put a new value. Aforementioned, what I want to achieve is changing the speed freely without having to refresh the browser. I have started with Change function but got stuck there. Thank you for reading.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let num = 0;\r\nvar dispDiv = document.getElementById(\"display\");\r\n\r\n// Creating Random Boxes Function\r\nfunction CreateRandomBoxes() {\r\n  var newDiv = document.createElement(\"div\");\r\n  dispDiv.appendChild(newDiv);\r\n  newDiv.className = \"boxes\";\r\n  newDiv.id = \"box\" + num;\r\n  num++;\r\n\r\n  var ranWidth = Math.round(Math.random()*50)+50;\r\n  var ranHeight = Math.round(Math.random()*50)+50 ;\r\n  let r = Math.round(Math.random()*255),\r\n      g = Math.round(Math.random()*255),\r\n      b = Math.round(Math.random()*255);\r\n\r\n  newDiv.style.width = ranWidth + \"px\";\r\n  newDiv.style.height = ranHeight + \"px\";\r\n  newDiv.style.backgroundColor = \"rgb(\"+r+\",\"+g+\",\"+b+\")\";\r\n}\r\n// Random Boxes\r\ndocument.getElementById(\"createR\").addEventListener(\"click\",function(){\r\n  CreateRandomBoxes();\r\n\r\n});\r\n// Increments \r\n\r\nvar iw = 50;\r\nvar ih = 50;\r\n\r\ndocument.getElementById(\"createI\").addEventListener(\"click\",function(){\r\n  var newDiv = document.createElement(\"div\");\r\n  dispDiv.appendChild(newDiv);\r\n  newDiv.className = \"boxes\";\r\n\r\n  newDiv.style.width = iw + \"px\";\r\n  newDiv.style.height = ih + \"px\";\r\n  iw += 5;\r\n  ih += 5;\r\n\r\n  if (iw &gt; 100) {\r\n    iw = 50;\r\n  }\r\n\r\n  if(ih &gt; 100) {\r\n    ih = 50;\r\n  }\r\n});\r\n\r\n// Reset Function\r\ndocument.getElementById(\"reset\").addEventListener(\"click\",function(){\r\n    // disDiv.textContent = \"\";\r\n\r\n    document.body.removeChild(dispDiv);\r\n    dispDiv = document.createElement(\"div\");\r\n    dispDiv.id = \"display\";\r\n    document.body.appendChild(dispDiv);\r\n});\r\n\r\n// Auto Creation\r\ndocument.getElementById(\"auto\").addEventListener(\"click\",function(){\r\n  var spd = document.getElementById(\"speed\").value;\r\n\r\n  setInterval(function(){\r\n    CreateRandomBoxes();\r\n    window.scrollTo (0,document.body.scrollHeight);\r\n    } , spd); \r\n});\r\n\r\n// Changing speed while boxes are being created\r\ndocument.getElementById(\"speed\").addEventListener(\"change\",function(){\r\n\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>* {\r\n  box-sizing:border-box;\r\n}\r\n\r\nbody {\r\n  margin:0;\r\n  padding:0;\r\n}\r\n\r\n.controls {\r\n  margin:10px auto;\r\n  display:flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.controls .create,.remove {\r\n  width:150px;\r\n  height:50px;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  font-weight: 700;\r\n  font-size:1rem;\r\n  border-radius:50px;\r\n  color:#333;\r\n  border:1px solid #eee;\r\n  margin:0 3px;\r\n}\r\n\r\n.boxes {\r\n  width:100px;\r\n  height:100px;\r\n  background-color:#333;\r\n  display:inline-block;\r\n}\r\n\r\ninput {\r\n  width:100px;\r\n  float:right;\r\n  padding:10px;\r\n  background-color:#fff;\r\n  border:1px solid #eee;\r\n  font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;\r\n  font-size:1.5rem;\r\n  color:#333;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html lang=\"en\"&gt;\r\n&lt;head&gt;\r\n  &lt;meta charset=\"UTF-8\"&gt;\r\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\r\n  &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt;\r\n  &lt;link href=\"index.css\" rel=\"stylesheet\"&gt;\r\n  &lt;title&gt;CRUD&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n  &lt;div id=\"controls\" class=\"controls\"&gt;\r\n    &lt;button id=\"createR\" class=\"create\"&gt;create random&lt;/button&gt;\r\n    &lt;button id=\"createI\" class=\"create\"&gt;create incremental&lt;/button&gt;\r\n    &lt;button id=\"reset\" class=\"remove\"&gt;reset&lt;/button&gt;\r\n    &lt;button id=\"auto\" class=\"create\"&gt;auto create&lt;/button&gt;\r\n    &lt;input type=\"number\" id=\"speed\" min=\"1\" value=\"1000\"/&gt;\r\n  &lt;/div&gt;\r\n  &lt;div id=\"display\"&gt;&lt;/div&gt;\r\n  &lt;script src=\"index.js\"&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "php", "xmlhttprequest"], "answers": [{"tags": [], "owner": {"reputation": 27055, "user_id": 5923139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dvoYw.png?s=128&g=1", "display_name": "Aplet123", "link": "https://stackoverflow.com/users/5923139/aplet123"}, "is_accepted": true, "score": 1, "last_activity_date": 1532563338, "creation_date": 1532563338, "answer_id": 51529250, "question_id": 51529149, "link": "https://stackoverflow.com/questions/51529149/php-can-read-3rd-party-url-javascript-cant-why/51529250#51529250", "title": "PHP can read 3rd party URL, Javascript can&#39;t. Why?", "body": "<p>Browsers have built-in security mechanisms that don't allow you to make cross-site requests unless specific headers are set on the server. It's not about the server not willing to return the data but the browser which wants to protect your personal information. You can find more information in <a href=\"https://stackoverflow.com/questions/25763268/why-does-ajax-give-me-a-cross-origin-error-when-i-can-make-the-request-from-php\">this post.</a></p>\n"}], "owner": {"reputation": 674, "user_id": 2603421, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/48e0b64ff78901fb6ce639ae8b1da927?s=128&d=identicon&r=PG", "display_name": "1337ingDisorder", "link": "https://stackoverflow.com/users/2603421/1337ingdisorder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 51529250, "answer_count": 1, "score": -1, "last_activity_date": 1532563338, "creation_date": 1532562393, "question_id": 51529149, "link": "https://stackoverflow.com/questions/51529149/php-can-read-3rd-party-url-javascript-cant-why", "title": "PHP can read 3rd party URL, Javascript can&#39;t. Why?", "body": "<p>I'm having a strange issue in trying to migrate a 3rd-party page retrieval from PHP (using cURL) into Javascript.</p>\n\n<p>Using PHP I can retrieve the page with no issues, but with Javascript I keep getting the following error:</p>\n\n<blockquote>\n  <p>No 'Access-Control-Allow-Origin' header is present on the requested\n  resource. Origin  is therefore not allowed access.</p>\n</blockquote>\n\n<p>I've searched a fair bit and all I can find are answers explaining that the Access-Control-Allow-Origin header has to be set on the server side and if it isn't then there's basically no way to retrieve the page.</p>\n\n<p>But in this case I know the server is willing to give up the loot, because the PHP function successfully retrieves the page. It's only when I request it in the Javascript function that it throws that error.</p>\n\n<p>Here's the (working) PHP function:</p>\n\n<pre><code>$curl = curl_init();\ncurl_setopt_array($curl, array(\n        CURLOPT_HEADER =&gt; 0,\n        CURLOPT_RETURNTRANSFER =&gt; TRUE,\n        CURLOPT_URL =&gt; &lt;3rd party URL&gt;,\n));\n$resp = curl_exec($curl);\ncurl_close($curl);\n</code></pre>\n\n<p>...and here's the (not-working) Javascript function:</p>\n\n<pre><code>var getHTML = function ( url, callback ) {\n\n    // Feature detection\n    if ( !window.XMLHttpRequest ) return;\n\n    // Create new request\n    var xhr = new XMLHttpRequest();\n\n    // Setup callback\n    xhr.onload = function() {\n        if ( callback &amp;&amp; typeof( callback ) === 'function' ) {\n            callback( this.responseXML );\n        }\n    }\n\n    // Get the HTML\n    xhr.open( 'GET', url );\n    xhr.responseType = 'document';\n    xhr.send();\n\n};\n\ngetHTML( &lt;3rd party URL&gt;, function (resp) {\n    console.log(resp);\n});\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "ecmascript-6"], "comments": [{"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1532562437, "post_id": 51529122, "comment_id": 90026569, "body": "See a bunch of different choices here: <a href=\"https://codereview.stackexchange.com/questions/200229/nodejs-module-exports-export-multiple-functions-vs-exporting-a-single-function/200231#200231\">Exporting function with options</a> including the idea option for this which is taking a single object as an argument and passing the desired properties only."}, {"owner": {"reputation": 8210, "user_id": 9816472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DltvK.jpg?s=128&g=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/9816472/isaac"}, "edited": false, "score": 0, "creation_date": 1532562657, "post_id": 51529122, "comment_id": 90026614, "body": "You can have a look at this : <a href=\"https://medium.freecodecamp.org/elegant-patterns-in-modern-javascript-roro-be01e7669cbd\" rel=\"nofollow noreferrer\">medium.freecodecamp.org/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "is_accepted": false, "score": 2, "last_activity_date": 1532562343, "creation_date": 1532562343, "answer_id": 51529139, "question_id": 51529122, "link": "https://stackoverflow.com/questions/51529122/passing-a-single-argument-to-a-function-that-has-default-values/51529139#51529139", "title": "Passing a single argument to a function that has default values", "body": "<p>You could use an object instead. <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\"><code>Object.assign()</code></a> will overwrite the values you've specified in the arguments, and all others will stay default:</p>\n\n<pre><code>my_app.api.index = function(options) {\n    options = Object.assign({\n       page: 1,\n       sort: \"last_name\",\n       desc: true,\n       limit: 9999\n    }, options);\n</code></pre>\n\n<p>Call it with:</p>\n\n<pre><code>my_app.api.index({sort: sortField});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1393, "user_id": 4155696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/CPQvv.jpg?s=128&g=1", "display_name": "Jonathan Bowman", "link": "https://stackoverflow.com/users/4155696/jonathan-bowman"}, "edited": false, "score": 0, "creation_date": 1532562592, "post_id": 51529147, "comment_id": 90026598, "body": "Both your answer and FrankerZ work, I just went with this to maintain the syntax I&#39;ve already got in place. I&#39;ll accept as soon as I can, thank you!"}], "tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": false, "score": 2, "last_activity_date": 1532562387, "creation_date": 1532562387, "answer_id": 51529147, "question_id": 51529122, "link": "https://stackoverflow.com/questions/51529122/passing-a-single-argument-to-a-function-that-has-default-values/51529147#51529147", "title": "Passing a single argument to a function that has default values", "body": "<p>Define the function such that it accepts a single <em>object</em> (with default object values), instead of an argument list. Destructure the object in the arguments themselves for syntax brevity:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const myfn = ({ event='someevent', page=1, sort='lastName' }) =&gt; {\r\n  console.log('fn running with ' + event + ' ' + page + ' ' + sort);\r\n};\r\nmyfn({ sort:'firstName' });</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1393, "user_id": 4155696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/CPQvv.jpg?s=128&g=1", "display_name": "Jonathan Bowman", "link": "https://stackoverflow.com/users/4155696/jonathan-bowman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1532562387, "creation_date": 1532562203, "question_id": 51529122, "link": "https://stackoverflow.com/questions/51529122/passing-a-single-argument-to-a-function-that-has-default-values", "title": "Passing a single argument to a function that has default values", "body": "<p>I have a javascript function that looks like:\n<code>\nmy_app.api.index = function(event, page = 1, sort = \"last_name\", desc = true, limit = 9999)</code></p>\n\n<p>So, this is using the wonderful default values we get with ES6. What I would like to be able to do is call this function, passing only ONE of the values...or two, or three, however many, without having to pass all of them.</p>\n\n<p>Something like:\n<code>\nmy_app.api.index(sort: sortField);\n</code></p>\n\n<p>The ideal behavior would be that it uses the default values for the other arguments, but it uses the passed value for the named parameter. What is the syntax for this? Is it even possible?</p>\n"}, {"tags": ["javascript", "jquery", "exchangewebservices", "createitem"], "comments": [{"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 1, "creation_date": 1532562809, "post_id": 51529116, "comment_id": 90026648, "body": "Could you trim this down to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, with emphasis on the Minimal part?"}, {"owner": {"reputation": 11, "user_id": 10120931, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HP06XAI064o/AAAAAAAAAAI/AAAAAAAAABI/jdscIYeLWgo/photo.jpg?sz=128", "display_name": "Lady Dia", "link": "https://stackoverflow.com/users/10120931/lady-dia"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1532694054, "post_id": 51529116, "comment_id": 90082390, "body": "Thank you for your answer. I trimmed it like you wanted. Hope it&#39;s okay now."}, {"owner": {"reputation": 11, "user_id": 10120931, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HP06XAI064o/AAAAAAAAAAI/AAAAAAAAABI/jdscIYeLWgo/photo.jpg?sz=128", "display_name": "Lady Dia", "link": "https://stackoverflow.com/users/10120931/lady-dia"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1532937201, "post_id": 51529116, "comment_id": 90143838, "body": "Hello, I figured out my issue. In my HTML file, I deleted the line :  &lt;script src=&quot;src/index.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt; and it worked. It seems like the file index.js is automatically charged. Thank you for your time."}], "owner": {"reputation": 11, "user_id": 10120931, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HP06XAI064o/AAAAAAAAAAI/AAAAAAAAABI/jdscIYeLWgo/photo.jpg?sz=128", "display_name": "Lady Dia", "link": "https://stackoverflow.com/users/10120931/lady-dia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1532693913, "creation_date": 1532562122, "last_edit_date": 1532693913, "question_id": 51529116, "link": "https://stackoverflow.com/questions/51529116/ews-createitem-give-2-emails-messages-in-drafts", "title": "EWS CreateItem give 2 emails messages in drafts", "body": "<p>I need to create an email, attach another email message to it and save it into drafts folder; </p>\n\n<p>To proceed, I use first <code>GetItem</code>, then <code>CreateItem</code>.</p>\n\n<p>But each time it appears 2 email messages in that folder. \nEach email message contains the attachment and is in draft mode. I don't understand why there is 2 email messages.</p>\n\n<p>Please help me. Thank you.</p>\n\n<p>Here is my code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>(function () {\n    \"use strict\";\n\n    Office.initialize = function (reason) {\n        $(document).ready(function () {\n            app.initialize();\n            $('#fowardToGroups').click(function () { sendNow(); });\n        });\n    };\n\n    var item_id;\n    var mailbox;\n\n    async function sendNow() {\n        var item = Office.context.mailbox.item;\n        item_id = item.itemId;\n        mailbox = Office.context.mailbox;\n\n        var receiver=\"test@ymail.com\";\n            var soapToCreateItem='&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;'+\n            '                            &lt;soap:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"'+\n            '                                           xmlns:m=\"http://schemas.microsoft.com/exchange/services/2006/messages\"'+\n            '                                           xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"' +\n            '                                           xmlns:t=\"http://schemas.microsoft.com/exchange/services/2006/types\"'+\n            '                                           xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;'+\n            '                               &lt;soap:Header&gt;'+\n            '                                   &lt;t:RequestServerVersion Version=\"Exchange2013\" xmlns=\"http://schemas.microsoft.com/exchange/services/2006/types\" soap:mustUnderstand=\"0\" /&gt;'+\n            '                               &lt;/soap:Header&gt;'+\n            '                               &lt;soap:Body&gt;'+\n            '                                   &lt;m:CreateItem MessageDisposition=\"SaveOnly\"&gt;'+\n            '                                       &lt;m:SavedItemFolderId&gt; '+\n            '                                           &lt;t:DistinguishedFolderId Id=\"drafts\" /&gt; '+\n            '                                       &lt;/m:SavedItemFolderId&gt; '+\n            '                                       &lt;m:Items&gt;'+\n            '                                           &lt;t:Message&gt;'+\n            '                                               &lt;t:Subject&gt;Suspicious e-mail &lt;/t:Subject&gt;'+\n            '                                               &lt;t:Body BodyType=\"HTML\"&gt;body&lt;/t:Body&gt;'+\n            '                                               &lt;t:ToRecipients&gt;'+\n            '                                                   &lt;t:Mailbox&gt;'+\n            '                                                       &lt;t:EmailAddress&gt;'+receiver+'&lt;/t:EmailAddress&gt;'+\n            '                                                   &lt;/t:Mailbox&gt;'+\n            '                                               &lt;/t:ToRecipients&gt;'+\n            '                                           &lt;/t:Message&gt;'+\n            '                                       &lt;/m:Items&gt;'+\n            '                                  &lt;/m:CreateItem&gt;'+\n            '                               &lt;/soap:Body&gt;'+\n            '                           &lt;/soap:Envelope&gt;';\n\n\n           mailbox.makeEwsRequestAsync(soapToCreateItem, soapToCreateItemCallback);\n        }\n\n\n\n    function soapToCreateItemCallback(asyncResult) {\n        var parser;\n        var xmlDoc;\n\n        if (asyncResult.error != null) {\n            app.showNotification(\"EWS Status 1\", asyncResult.error.message);\n        }\n        else {\n            var response = asyncResult.value;\n            if (window.DOMParser) {\n                parser = new DOMParser();\n                xmlDoc = parser.parseFromString(response, \"text/xml\");\n            }\n            else // Older Versions of Internet Explorer\n            {\n                xmlDoc = new ActiveXObject(\"Microsoft.XMLDOM\");\n                xmlDoc.async = false;\n                xmlDoc.loadXML(response);\n            }\n            var result = xmlDoc.getElementsByTagName(\"m:ResponseCode\")[0].textContent;\n            if (result == \"NoError\") {\n                  app.showNotification(\"Status\", \"Success !\");\n            }\n            else {\n                  app.showNotification(\"Status\", \"error : \" + result);\n            }\n        }\n      }\n\n  })();\n</code></pre>\n"}, {"tags": ["javascript", "google-chrome", "pdf", "printing", "dom-events"], "comments": [{"owner": {"reputation": 742, "user_id": 4056395, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/dd905348fdc682796f2afb6f35bc8b6e?s=128&d=identicon&r=PG&f=1", "display_name": "Ted Fitzpatrick", "link": "https://stackoverflow.com/users/4056395/ted-fitzpatrick"}, "edited": false, "score": 0, "creation_date": 1533137396, "post_id": 51529077, "comment_id": 90238598, "body": "I don&#39;t know, but ... if you open the Chrome DOM inspector, can you see any DOM elements for the PDF viewer? Perhaps also attach a click event to window, then console.log event.target to see if PDF viewer is recognized?"}, {"owner": {"reputation": 4064, "user_id": 6121568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rLuNu.jpg?s=128&g=1", "display_name": "Emeeus", "link": "https://stackoverflow.com/users/6121568/emeeus"}, "edited": false, "score": 1, "creation_date": 1533144964, "post_id": 51529077, "comment_id": 90242772, "body": "This is how to JavaScript in pdf <a href=\"https://help.adobe.com/en_US/acrobat/acrobat_dc_sdk/2015/HTMLHelp/index.html#t=Acro12_MasterBook%2FJS_Dev_Tools%2FJavaScript_Debugger.htm\" rel=\"nofollow noreferrer\">help.adobe.com/en_US/acrobat/acrobat_dc_sdk/2015/HTMLHelp/&hellip;</a> and to add javascript without the acrobat, see this <a href=\"http://bililite.com/blog/2012/06/06/adding-javascript-to-pdf-files/\" rel=\"nofollow noreferrer\">bililite.com/blog/2012/06/06/adding-javascript-to-pdf-files</a> I think the solution, if there are any, is about JavaScript inside pdf"}, {"owner": {"reputation": 915, "user_id": 2016450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9IKl.jpg?s=128&g=1", "display_name": "mrunion", "link": "https://stackoverflow.com/users/2016450/mrunion"}, "edited": false, "score": 0, "creation_date": 1533411652, "post_id": 51529077, "comment_id": 90339808, "body": "I don&#39;t think you can detect this from a browser. The printing functionality is &quot;outside&quot; the browser sandbox for security reasons. This is also why you can&#39;t just make a web page start printing without the browser showing some sort of print dialog box or form. If this were allowed, Internet Baddies could just make a web page start printing reams of paper and cause grief, frustration and worse reactions. I think the bet approach would be like Emeeus is suggesting in that you have the PDF itself see if it can report printing."}, {"owner": {"reputation": 3097, "user_id": 3070062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f20c7574a287e2a9be02000157f65532?s=128&d=identicon&r=PG&f=1", "display_name": "Falco", "link": "https://stackoverflow.com/users/3070062/falco"}, "edited": false, "score": 0, "creation_date": 1533645978, "post_id": 51529077, "comment_id": 90414563, "body": "And how would you even know if the user printed the document <b>after</b> downloading it ? - The statistic will be flawed however you try to solve this. This is a case where the business goal of these numbers is important."}], "answers": [{"tags": [], "owner": {"reputation": 390, "user_id": 3241847, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7359e4392f7cfcc6dfe264b275bd6916?s=128&d=identicon&r=PG&f=1", "display_name": "TheViralGriffin", "link": "https://stackoverflow.com/users/3241847/theviralgriffin"}, "is_accepted": false, "score": 7, "last_activity_date": 1533638331, "last_edit_date": 1533638331, "creation_date": 1533563974, "answer_id": 51709408, "question_id": 51529077, "link": "https://stackoverflow.com/questions/51529077/can-you-detect-when-a-pdf-is-printed-or-downloaded-from-the-browser-pdf-viewer/51709408#51709408", "title": "Can you detect when a PDF is printed or downloaded from the browser PDF viewer?", "body": "<p>Have you tried creating your own pdf viewer?</p>\n\n<p>There are pdf viewer components readily available where you can edit your pdf viewer(like add event listeners to buttons, position them, etc). </p>\n\n<p>I remember building one on top of <a href=\"http://%20https://github.com/mozilla/pdf.js/\" rel=\"noreferrer\">pdf.js</a> in angular a long time ago. I am sure with pdf.js you can implement all the above-mentioned use cases. </p>\n"}, {"tags": [], "owner": {"reputation": 5944, "user_id": 7232295, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/cXzw4.jpg?s=128&g=1", "display_name": "Uddhav Gautam", "link": "https://stackoverflow.com/users/7232295/uddhav-gautam"}, "is_accepted": false, "score": 1, "last_activity_date": 1533664682, "creation_date": 1533664682, "answer_id": 51732809, "question_id": 51529077, "link": "https://stackoverflow.com/questions/51529077/can-you-detect-when-a-pdf-is-printed-or-downloaded-from-the-browser-pdf-viewer/51732809#51732809", "title": "Can you detect when a PDF is printed or downloaded from the browser PDF viewer?", "body": "<p>You said it is to detect from the browser. <code>print()</code> is a <code>window</code> level function. </p>\n\n<p>I hope the first two answers from this link helps you with your <strong>printing listening</strong>. \n<a href=\"https://stackoverflow.com/questions/18325025/how-to-detect-window-print-finish\">how to detect window.print() finish</a></p>\n\n<p>Regarding you <strong>download complete listener</strong>, you need to implement logic </p>\n\n<blockquote>\n  <p>if your download progress bar is at 100% when downloaded part of the\n  document is not increasing.</p>\n</blockquote>\n\n<p>then it means printing is completed. And this perfectly works for you as you are downloading pdf documents, which don't get downloaded in multiple files.  </p>\n\n<p>So, you set up a progress bar. You use that progress bar until the downloaded file keep incrementing in each interval (you set timeout here). Even after waiting for timeout interval, you don't have your downloaded file incremented, you define that as an end for your progress bar. </p>\n\n<pre><code>elementType.onclick = function() { \n        // if progress bar completes when file download stops\n        // call downloadcompleted() function           \n   }\n</code></pre>\n\n<p>For the link click listener: <a href=\"https://stackoverflow.com/questions/13071967/adding-an-onclick-function-to-go-to-url-in-javascript/17483828\">Adding an onclick function to go to url in JavaScript?</a></p>\n"}, {"comments": [{"owner": {"reputation": 3857, "user_id": 4110233, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/L0Fpf.jpg?s=128&g=1", "display_name": "TheChetan", "link": "https://stackoverflow.com/users/4110233/thechetan"}, "edited": false, "score": 1, "creation_date": 1533752507, "post_id": 51735450, "comment_id": 90466406, "body": "+1, Its worth adding to this answer that the other events like <code>onclick</code> that are available on the window are not available to <code>&lt;object&gt;</code> like tags, as they are handled by the browser&#39;s default application for the type (like adobe reader for pdfs). Although the event occurs here, it is not bubbled back to the window. Not sure if this will work, but you may be able to add a transparent rectangle over the <code>&lt;object&gt;</code> and map the <code>onclick</code> event to download and print commands."}, {"owner": {"reputation": 11719, "user_id": 9801830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NRQca.png?s=128&g=1", "display_name": "Bharata", "link": "https://stackoverflow.com/users/9801830/bharata"}, "reply_to_user": {"reputation": 3857, "user_id": 4110233, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/L0Fpf.jpg?s=128&g=1", "display_name": "TheChetan", "link": "https://stackoverflow.com/users/4110233/thechetan"}, "edited": false, "score": 0, "creation_date": 1533753883, "post_id": 51735450, "comment_id": 90467113, "body": "@TheChetan, on my screen may be I can add a transparent rectangle over the &lt;object&gt; because I do not change my screen resolution, but we have a lot of screen resolutions on clients and I can not know the positions for this buttons. But I like your idea! Thank you!"}], "tags": [], "owner": {"reputation": 11719, "user_id": 9801830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NRQca.png?s=128&g=1", "display_name": "Bharata", "link": "https://stackoverflow.com/users/9801830/bharata"}, "is_accepted": false, "score": 4, "last_activity_date": 1533676036, "creation_date": 1533676036, "answer_id": 51735450, "question_id": 51529077, "link": "https://stackoverflow.com/questions/51529077/can-you-detect-when-a-pdf-is-printed-or-downloaded-from-the-browser-pdf-viewer/51735450#51735450", "title": "Can you detect when a PDF is printed or downloaded from the browser PDF viewer?", "body": "<p>Unfortunately, you can not append any script to the PDF window because it is from MIME type <code>\"application/pdf\"</code>.</p>\n\n<p>If you load some PDF in your Chrome browser and then look into developer console you will see some code like follows:</p>\n\n<pre><code>&lt;embed width=\"100%\" height=\"100%\" name=\"plugin\" id=\"plugin\"\n    src=\"your-pdf-path.pdf\" type=\"application/pdf\" internalinstanceid=\"7\"&gt;\n</code></pre>\n\n<p>I have tried to add some script into PDF window like follows:</p>\n\n<pre><code>&lt;style type=\"text/css\"&gt;html,body{height:100%;margin:0}&lt;/style&gt;\n&lt;iframe id=\"iframe1\" src=\"your-pdf-path.pdf\" frameborder=\"0\"\n    style=\"display:block;width:100%;height:100%\"&gt;&lt;/iframe&gt;\n\n&lt;script type=\"text/javascript\"&gt;\nvar ifrDoc = document.getElementById('iframe1').contentWindow.document;\nvar script = ifrDoc.createElement('script');\nscript.type = 'text/javascript';\nscript.innerText = 'alert(1)';\n//OR: script.src = 'your-js-file-path.js'\n\nifrDoc.getElementsByTagName('head')[0].appendChild(script);\n&lt;/script&gt;\n</code></pre>\n\n<p>But it does nothing because the MIME type is <code>\"application/pdf\"</code>.</p>\n\n<p>You can detect the print events <strong>only for HTML-documents</strong> like follows:</p>\n\n<pre><code>function beforePrint(){alert('before print')}\n\nfunction afterPrint(){alert('after print')}\n\nif(window.onafterprint !== void 0)\n{\n    window.onbeforeprint = beforePrint;\n    window.onafterprint = afterPrint;\n}\nelse if(window.matchMedia)\n{\n    var mediaQueryList = window.matchMedia('print');\n    mediaQueryList.addListener(function(mql)\n    {\n        if(mql.matches)\n            beforePrint();\n        else afterPrint()\n    });\n}\n</code></pre>\n\n<p>For more details into and what it can be used for you can read <a href=\"https://www.tjvantoll.com/2012/06/15/detecting-print-requests-with-javascript/\" rel=\"nofollow noreferrer\">this article</a>.</p>\n\n<p>May be you can use this code but I think not for this case.</p>\n\n<p>Because of all this you can write a solution only if you write your own PDF viewer. You can use PDF.js for example for this goal. PDF.js is Portable Document Format (PDF) viewer that is written in JavaScript. It is open source and you can download the full source code on <a href=\"https://github.com/mozilla/pdf.js/\" rel=\"nofollow noreferrer\">GitHub here</a>.</p>\n\n<p>And for download is the same (only with your own PDF viewer), but I would like to recomend to read following links:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/1106377/\">Detect when browser receives file download</a>.</li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/downloads/onCreated\" rel=\"nofollow noreferrer\">The onCreated() event of the downloads API</a></li>\n</ul>\n\n<p><em>And may be with my answer you could save your time!</em></p>\n"}], "owner": {"reputation": 218, "user_id": 1335679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3f3671b52512f0f27260f2018f5ade9?s=128&d=identicon&r=PG", "display_name": "jbkly", "link": "https://stackoverflow.com/users/1335679/jbkly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5225, "favorite_count": 2, "answer_count": 3, "score": 12, "last_activity_date": 1533676036, "creation_date": 1532561785, "last_edit_date": 1532562510, "question_id": 51529077, "link": "https://stackoverflow.com/questions/51529077/can-you-detect-when-a-pdf-is-printed-or-downloaded-from-the-browser-pdf-viewer", "title": "Can you detect when a PDF is printed or downloaded from the browser PDF viewer?", "body": "<p>We have an AngularJS web app that loads PDF documents from the server and displays them within the page like this:</p>\n\n<p><code>&lt;object id=\"preview\" type=\"application/pdf\" data=\"blob:{fileUrl}\"&gt;</code></p>\n\n<p>We have a new requirement to audit whenever a user performs certain actions: </p>\n\n<ol>\n<li>views a document (done)</li>\n<li>prints a document</li>\n<li>downloads a document</li>\n</ol>\n\n<p>The PDF download and print controls are within the browser PDF viewer. We only have to support latest Google Chrome (Chrome 68 as of July 2018). </p>\n\n<p>Is it possible to detect when the file is downloaded or printed from the PDF viewer? I'm not seeing any beforeprint/afterprint events, I assume because it's cross-origin. We don't need to control the handlers, just detect the events somehow.</p>\n"}, {"tags": ["javascript", "cucumber", "nightwatch.js"], "answers": [{"tags": [], "owner": {"reputation": 212, "user_id": 3808330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hObHe.png?s=128&g=1", "display_name": "CalculatingKraken", "link": "https://stackoverflow.com/users/3808330/calculatingkraken"}, "is_accepted": false, "score": 0, "last_activity_date": 1546662907, "creation_date": 1546662907, "answer_id": 54049003, "question_id": 51529073, "link": "https://stackoverflow.com/questions/51529073/nightwatch-cucumber-es6-nightwatch-js-es5/54049003#54049003", "title": "nightwatch-cucumber ES6 --- nightwatch JS ES5", "body": "<p>Yes I was able to write my cucumber steps in ES6  and my page objects in ES5. However it might be better to stick to ES5 to have consistency + I did notice I would get some strange failures (rarely) when using:</p>\n\n<pre><code>Given('Go to Site', () =&gt; client.url('https://google.com'));\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 9263576, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZMqEOUQCis0/AAAAAAAAAAI/AAAAAAAAZnQ/IhkkYoMgU5E/photo.jpg?sz=128", "display_name": "Marco Sanabria", "link": "https://stackoverflow.com/users/9263576/marco-sanabria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 168, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1546662907, "creation_date": 1532561766, "question_id": 51529073, "link": "https://stackoverflow.com/questions/51529073/nightwatch-cucumber-es6-nightwatch-js-es5", "title": "nightwatch-cucumber ES6 --- nightwatch JS ES5", "body": "<p>I've read that nightwatch does not support ES6. Fair enough. </p>\n\n<p>However, the documentation for <a href=\"http://mucsi96.github.io/nightwatch-cucumber/\" rel=\"nofollow noreferrer\">nightwatch-cucumber</a></p>\n\n<p>Looks like it uses ES6 (arrow functions) on the steps it defines as examples. </p>\n\n<p>My question is: Is it possible to use ES6 on the cucumber steps and ES5 on the page objects for nightwatch? Or should I stick to ES5 for everything?</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 2, "creation_date": 1532561836, "post_id": 51529036, "comment_id": 90026443, "body": "Can you please use Stack Snippets (icon in editor looks like <code>&lt;&gt;</code>) to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Right now, that code won&#39;t work because it lacks a <code>&lt;table&gt;</code> tag to wrap the rows and no use of <code>$</code> or <code>jQuery</code> into which to pass <code>findprev</code> (nor a definition of <code>findprev</code>)."}, {"owner": {"reputation": 1, "user_id": 10136142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7c1af0075e0221abb54a432a673ab27?s=128&d=identicon&r=PG&f=1", "display_name": "uBob", "link": "https://stackoverflow.com/users/10136142/ubob"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1532562132, "post_id": 51529036, "comment_id": 90026502, "body": "let me update it"}, {"owner": {"reputation": 27648, "user_id": 2159528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jgc0E.png?s=128&g=1", "display_name": "Louys Patrice Bessette", "link": "https://stackoverflow.com/users/2159528/louys-patrice-bessette"}, "edited": false, "score": 0, "creation_date": 1532562280, "post_id": 51529036, "comment_id": 90026534, "body": "There is a misunderstanding about the word &quot;parent&quot; here I think."}, {"owner": {"reputation": 1, "user_id": 10136142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7c1af0075e0221abb54a432a673ab27?s=128&d=identicon&r=PG&f=1", "display_name": "uBob", "link": "https://stackoverflow.com/users/10136142/ubob"}, "edited": false, "score": 0, "creation_date": 1532562390, "post_id": 51529036, "comment_id": 90026558, "body": "well parent can be considered as the one where i want to start and that does not have the button assigned to it, so i call it as parent but it can be referred to as base"}, {"owner": {"reputation": 27648, "user_id": 2159528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jgc0E.png?s=128&g=1", "display_name": "Louys Patrice Bessette", "link": "https://stackoverflow.com/users/2159528/louys-patrice-bessette"}, "edited": false, "score": 0, "creation_date": 1532562464, "post_id": 51529036, "comment_id": 90026573, "body": "In HTML, &quot;parent&quot; is the element that contains another one."}, {"owner": {"reputation": 27648, "user_id": 2159528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jgc0E.png?s=128&g=1", "display_name": "Louys Patrice Bessette", "link": "https://stackoverflow.com/users/2159528/louys-patrice-bessette"}, "edited": false, "score": 0, "creation_date": 1532562645, "post_id": 51529036, "comment_id": 90026610, "body": "Ok... Now it&#39;s unclear about the sequence... Why a particular sequence is supposed to be valid? There is no <code>.fa-trash</code> anywhere..."}, {"owner": {"reputation": 27648, "user_id": 2159528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jgc0E.png?s=128&g=1", "display_name": "Louys Patrice Bessette", "link": "https://stackoverflow.com/users/2159528/louys-patrice-bessette"}, "edited": false, "score": 0, "creation_date": 1532563060, "post_id": 51529036, "comment_id": 90026697, "body": "I fixed the noumerous markup errors and assumed things about your script in this <a href=\"https://codepen.io/Bes7weB/pen/ZjJWNN?editors=1111\" rel=\"nofollow noreferrer\"><b>CodePen</b></a>. Now what about the sequence?"}, {"owner": {"reputation": 1, "user_id": 10136142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7c1af0075e0221abb54a432a673ab27?s=128&d=identicon&r=PG&f=1", "display_name": "uBob", "link": "https://stackoverflow.com/users/10136142/ubob"}, "edited": false, "score": 0, "creation_date": 1532563111, "post_id": 51529036, "comment_id": 90026712, "body": "yes because if the fa-plus will be clicked it will become fa-trash and so on, but i want that the first one selected should be after or before parent"}, {"owner": {"reputation": 1, "user_id": 10136142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7c1af0075e0221abb54a432a673ab27?s=128&d=identicon&r=PG&f=1", "display_name": "uBob", "link": "https://stackoverflow.com/users/10136142/ubob"}, "edited": false, "score": 0, "creation_date": 1532563244, "post_id": 51529036, "comment_id": 90026735, "body": "Th Sequence is: Assume parent is 3, I should be select either 4 and continuous and if backwards from 2 onward, cannot skip"}, {"owner": {"reputation": 27648, "user_id": 2159528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jgc0E.png?s=128&g=1", "display_name": "Louys Patrice Bessette", "link": "https://stackoverflow.com/users/2159528/louys-patrice-bessette"}, "edited": false, "score": 0, "creation_date": 1532563265, "post_id": 51529036, "comment_id": 90026740, "body": "You should try to do that <code>.fa-plus</code> turning into a <code>.fa-trash</code> from my codepen first... There is obviously not enought effort in there. I won&#39;t code thing that aren&#39;t there. -- I already voted that to be closed as unclear."}, {"owner": {"reputation": 1, "user_id": 10136142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7c1af0075e0221abb54a432a673ab27?s=128&d=identicon&r=PG&f=1", "display_name": "uBob", "link": "https://stackoverflow.com/users/10136142/ubob"}, "edited": false, "score": 0, "creation_date": 1532564086, "post_id": 51529036, "comment_id": 90026881, "body": "I updated the codepen to <a href=\"http://prntscr.com/kb2n5m\" rel=\"nofollow noreferrer\">prntscr.com/kb2n5m</a>, so technically i had enabled the 2 and 5 as selected as it should be able to select upword one by one or downward one by one. the next picture is showing invalid sequence   <a href=\"http://prntscr.com/kb2nun\" rel=\"nofollow noreferrer\">prntscr.com/kb2nun</a>"}], "answers": [{"comments": [{"owner": {"reputation": 696, "user_id": 10026757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xFRJf.png?s=128&g=1", "display_name": "Fobos", "link": "https://stackoverflow.com/users/10026757/fobos"}, "reply_to_user": {"reputation": 5513, "user_id": 2718801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d4b144cdafa73e1d470362ed8d7c3a9?s=128&d=identicon&r=PG", "display_name": "jhpratt", "link": "https://stackoverflow.com/users/2718801/jhpratt"}, "edited": false, "score": 0, "creation_date": 1532566367, "post_id": 51529449, "comment_id": 90027276, "body": "Is there anything specific that is not clear? If you want I&#39;ll explain. The code is quite speaking."}, {"owner": {"reputation": 5513, "user_id": 2718801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d4b144cdafa73e1d470362ed8d7c3a9?s=128&d=identicon&r=PG", "display_name": "jhpratt", "link": "https://stackoverflow.com/users/2718801/jhpratt"}, "edited": false, "score": 0, "creation_date": 1532566447, "post_id": 51529449, "comment_id": 90027295, "body": "I&#39;m not OP. I have no idea what your code is supposed to do, why you&#39;re doing what you&#39;re doing, and why you didn&#39;t go another way (if there is another sane way). A code dump doesn&#39;t help anybody."}, {"owner": {"reputation": 1, "user_id": 10136142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7c1af0075e0221abb54a432a673ab27?s=128&d=identicon&r=PG&f=1", "display_name": "uBob", "link": "https://stackoverflow.com/users/10136142/ubob"}, "edited": false, "score": 0, "creation_date": 1532567134, "post_id": 51529449, "comment_id": 90027399, "body": "can we use the structure i have, i cannot use ul &gt; li"}, {"owner": {"reputation": 696, "user_id": 10026757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xFRJf.png?s=128&g=1", "display_name": "Fobos", "link": "https://stackoverflow.com/users/10026757/fobos"}, "edited": false, "score": 0, "creation_date": 1532595403, "post_id": 51529449, "comment_id": 90037333, "body": "There is no sense of nesting, losing the parent-child meaning"}], "tags": [], "owner": {"reputation": 696, "user_id": 10026757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xFRJf.png?s=128&g=1", "display_name": "Fobos", "link": "https://stackoverflow.com/users/10026757/fobos"}, "is_accepted": false, "score": -1, "last_activity_date": 1532566277, "last_edit_date": 1532566277, "creation_date": 1532565583, "answer_id": 51529449, "question_id": 51529036, "link": "https://stackoverflow.com/questions/51529036/sequence-of-the-ids-selected/51529449#51529449", "title": "sequence of the ids selected", "body": "<p>Try this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    $(document).ready(function () {\r\n        var sequence = [];\r\n        \r\n        $('.parent').on('click',function(e) {\r\n        \t\tsequence.push($(this).text());\r\n            $(this).css('color', 'green');\r\n        });\r\n        \r\n        $('.child').on('click',function(e) {\r\n           if (jQuery.inArray(($(this).parent().parent().parent().children('.btn').text()).toString(), sequence) !='-1') {\r\n               sequence.push($(this).text());\r\n               $(this).css('color', 'green');\r\n           }else{\r\n               alert('Bad Data');\r\n               sequence = [];\r\n               $(this).removeAttr('style');\r\n           }\r\n        });\r\n         \r\n    });</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;ul&gt;\r\n    &lt;li&gt;&lt;button class=\"btn parent\"&gt;&lt;i class=\"fa faplus\"&gt;&lt;/i&gt;1&lt;/button&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;button class=\"btn parent\"&gt;&lt;i class=\"fa faplus\"&gt;&lt;/i&gt;2&lt;/button&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;button class=\"btn parent\"&gt;&lt;i class=\"fa faplus\"&gt;&lt;/i&gt;3&lt;/button&gt;\r\n        &lt;ul&gt;\r\n            &lt;li&gt;&lt;button class=\"btn child\"&gt;&lt;i class=\"fa faplus\"&gt;&lt;/i&gt;4&lt;/button&gt;&lt;/li&gt;\r\n            &lt;li&gt;&lt;button class=\"btn child\"&gt;&lt;i class=\"fa faplus\"&gt;&lt;/i&gt;5&lt;/button&gt;&lt;/li&gt;\r\n        &lt;/ul&gt;\r\n    &lt;/li&gt;\r\n&lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 10136142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7c1af0075e0221abb54a432a673ab27?s=128&d=identicon&r=PG&f=1", "display_name": "uBob", "link": "https://stackoverflow.com/users/10136142/ubob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1532566277, "creation_date": 1532561426, "last_edit_date": 1532562335, "question_id": 51529036, "link": "https://stackoverflow.com/questions/51529036/sequence-of-the-ids-selected", "title": "sequence of the ids selected", "body": "<p>i have a piece of jquerty code where the table structure is like this?: </p>\n\n<pre><code>&lt;table&gt;\n    &lt;tr&gt;&lt;td&gt;&lt;button class=\"selectItems\"&gt;&lt;i class=\"fa faplus\"&gt;&lt;/i&gt;&lt;/button&lt;/td&gt;&lt;/tr&gt; 1\n    &lt;tr&gt;&lt;td&gt;&lt;button class=\"selectItems\"&gt;&lt;i class=\"fa faplus\"&gt;&lt;/i&gt;&lt;/button&lt;/td&gt;&lt;/tr&gt; 2\n    &lt;tr style=\"color:red\"&gt;&lt;td&gt;&lt;/tr&gt; 3\n    &lt;tr&gt;&lt;td&gt;&lt;button class=\"selectItems\"&gt;&lt;i class=\"fa faplus\"&gt;&lt;/i&gt;&lt;/button&lt;/td&gt;&lt;/tr&gt; 4 \n    &lt;tr&gt;&lt;td&gt;&lt;button class=\"selectItems\"&gt;&lt;i class=\"fa faplus\"&gt;&lt;/i&gt;&lt;/button&lt;/td&gt;&lt;/tr&gt; 5\n&lt;/table&gt;\n\n\n\n\n$(\".SelectItems\").click(function() {\n var ele = $(this);\n var findprev = $(this).closest('tr').prev();\n if (!(findprev).find('td button i').hasClass('fa-trash') == true) {\n            alert(\"Bad data\");\n            return;\n        }\n });\n</code></pre>\n\n<p>what i am trying here is if my parent is: 3 and if i select 5, it should show me an error that it is invalid sequence. so i had to select 4 before i select 5. </p>\n\n<p>same is the case above: i can select 2 before 1 to continue sequence , cannot select 1 </p>\n\n<p>but when i select 4, it should skip the parent check because that is where i am tying it to, so if i select 2 after 4, it should consider it a sequence because 3 is parent</p>\n"}, {"tags": ["javascript", "html", "twitter-bootstrap"], "comments": [{"owner": {"reputation": 14148, "user_id": 4604701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8cb75b7c39263de208e368e72ad3ad1?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/4604701/fubar"}, "edited": false, "score": 1, "creation_date": 1532561614, "post_id": 51529031, "comment_id": 90026399, "body": "To clarify, you have various footnote links, which when clicked you would like to load the footnote details from a remote PHP script, and display them in a Bootstrap modal? What format is the data returned from the PHP script? JSON, HTML, or something else?"}, {"owner": {"reputation": 14148, "user_id": 4604701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8cb75b7c39263de208e368e72ad3ad1?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/4604701/fubar"}, "edited": false, "score": 0, "creation_date": 1532561865, "post_id": 51529031, "comment_id": 90026451, "body": "Depending on the length of the footnote reference, you might simply be able to follow <a href=\"https://getbootstrap.com/docs/4.0/components/modal/#varying-modal-content\" rel=\"nofollow noreferrer\">this Bootstrap example</a>."}, {"owner": {"reputation": 1215, "user_id": 1418533, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/832e7fd1713de344d00ba3cc9c6fae54?s=128&d=identicon&r=PG", "display_name": "Ken Ingram", "link": "https://stackoverflow.com/users/1418533/ken-ingram"}, "reply_to_user": {"reputation": 14148, "user_id": 4604701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8cb75b7c39263de208e368e72ad3ad1?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/4604701/fubar"}, "edited": false, "score": 0, "creation_date": 1532563041, "post_id": 51529031, "comment_id": 90026694, "body": "Yes. fubar. The data is in HTML format. Though returning JSON may be a later refactoring."}], "answers": [{"comments": [{"owner": {"reputation": 1215, "user_id": 1418533, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/832e7fd1713de344d00ba3cc9c6fae54?s=128&d=identicon&r=PG", "display_name": "Ken Ingram", "link": "https://stackoverflow.com/users/1418533/ken-ingram"}, "edited": false, "score": 0, "creation_date": 1532578388, "post_id": 51529427, "comment_id": 90029565, "body": "Gahhhhh!! The comment ui is really crappy for engaging in conversation around questions answers. I&#39;m going to see if I can get this working. I definitely have some questions, But first let me try and implement what you&#39;ve presented."}, {"owner": {"reputation": 1215, "user_id": 1418533, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/832e7fd1713de344d00ba3cc9c6fae54?s=128&d=identicon&r=PG", "display_name": "Ken Ingram", "link": "https://stackoverflow.com/users/1418533/ken-ingram"}, "edited": false, "score": 0, "creation_date": 1532628291, "post_id": 51529427, "comment_id": 90057908, "body": "Do I replace the $.get with AJAX? I&#39;d like to do the AJAX call with vanilla JS, will that work in this scenario?"}, {"owner": {"reputation": 14148, "user_id": 4604701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8cb75b7c39263de208e368e72ad3ad1?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/4604701/fubar"}, "reply_to_user": {"reputation": 1215, "user_id": 1418533, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/832e7fd1713de344d00ba3cc9c6fae54?s=128&d=identicon&r=PG", "display_name": "Ken Ingram", "link": "https://stackoverflow.com/users/1418533/ken-ingram"}, "edited": false, "score": 0, "creation_date": 1532630541, "post_id": 51529427, "comment_id": 90058910, "body": "Why do you want to use vanilla JS, when Bootstrap already requires jQuery?"}, {"owner": {"reputation": 14148, "user_id": 4604701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8cb75b7c39263de208e368e72ad3ad1?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/4604701/fubar"}, "reply_to_user": {"reputation": 1215, "user_id": 1418533, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/832e7fd1713de344d00ba3cc9c6fae54?s=128&d=identicon&r=PG", "display_name": "Ken Ingram", "link": "https://stackoverflow.com/users/1418533/ken-ingram"}, "edited": false, "score": 0, "creation_date": 1532632275, "post_id": 51529427, "comment_id": 90059675, "body": "And FYI, <code>$.get</code> is simply a jQuery wrapper for an <code>xhr</code> call."}, {"owner": {"reputation": 1215, "user_id": 1418533, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/832e7fd1713de344d00ba3cc9c6fae54?s=128&d=identicon&r=PG", "display_name": "Ken Ingram", "link": "https://stackoverflow.com/users/1418533/ken-ingram"}, "edited": false, "score": 0, "creation_date": 1532632379, "post_id": 51529427, "comment_id": 90059732, "body": "I know it doesn&#39;t make sense. Just bear with it. I don&#39;t want to explain my reasoning right now."}, {"owner": {"reputation": 1215, "user_id": 1418533, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/832e7fd1713de344d00ba3cc9c6fae54?s=128&d=identicon&r=PG", "display_name": "Ken Ingram", "link": "https://stackoverflow.com/users/1418533/ken-ingram"}, "edited": false, "score": 0, "creation_date": 1532632511, "post_id": 51529427, "comment_id": 90059797, "body": "I&#39;m still having the page redirect from the href=&quot;get_footnote.php?id=xxx&quot;. The modal is not activating. What I would really like is a popover. But if understanding how to execute the modal helps, I can figure it out."}, {"owner": {"reputation": 14148, "user_id": 4604701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8cb75b7c39263de208e368e72ad3ad1?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/4604701/fubar"}, "reply_to_user": {"reputation": 1215, "user_id": 1418533, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/832e7fd1713de344d00ba3cc9c6fae54?s=128&d=identicon&r=PG", "display_name": "Ken Ingram", "link": "https://stackoverflow.com/users/1418533/ken-ingram"}, "edited": false, "score": 0, "creation_date": 1532632827, "post_id": 51529427, "comment_id": 90059945, "body": "The code I posted works. Have you copied it all? Including the <code>event.preventDefault()</code>?"}, {"owner": {"reputation": 1215, "user_id": 1418533, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/832e7fd1713de344d00ba3cc9c6fae54?s=128&d=identicon&r=PG", "display_name": "Ken Ingram", "link": "https://stackoverflow.com/users/1418533/ken-ingram"}, "reply_to_user": {"reputation": 14148, "user_id": 4604701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8cb75b7c39263de208e368e72ad3ad1?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/4604701/fubar"}, "edited": false, "score": 0, "creation_date": 1532632865, "post_id": 51529427, "comment_id": 90059959, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/176826/discussion-between-ken-ingram-and-fubar\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 14148, "user_id": 4604701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8cb75b7c39263de208e368e72ad3ad1?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/4604701/fubar"}, "is_accepted": false, "score": 1, "last_activity_date": 1532565844, "last_edit_date": 1532565844, "creation_date": 1532565313, "answer_id": 51529427, "question_id": 51529031, "link": "https://stackoverflow.com/questions/51529031/how-to-refactor-php-href-links-to-respond-with-modal-or-popover/51529427#51529427", "title": "How to refactor php href links to respond with Modal or popover", "body": "<p>If you create hyperlinks for each footnote as follows:</p>\n\n<pre><code>&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit &lt;sub&gt;&lt;a class=\"footnote\" href=\"/footnote.php?id=123\"&gt;[123]&lt;/a&gt;&lt;/sub&gt;.&lt;/p&gt;\n</code></pre>\n\n<p>Then you can bind a click event using jQuery to fetch the HTML content using AJAX, inject it into a Bootstrap modal and launch the modal.</p>\n\n<pre><code>$('.footnote').on('click', function (event) {\n    event.preventDefault();\n    var $modal = $('#footnote-modal');\n\n    $.get(event.target.href, function (response) {\n        $modal.find('.modal-body').html(response);\n        $modal.modal();\n    });\n});\n</code></pre>\n\n<p>Here's an example, where I've substitued an AJAX call using <code>$.get</code> with a <code>Promise</code> to illustrate how the code would work.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// For example purposes only\r\nvar html = '&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptas architecto voluptatem, natus temporibus quasi labore repellat laboriosam culpa.&lt;/p&gt;';\r\n\r\n$('.footnote').on('click', function (event) {\r\n  event.preventDefault();\r\n  var $modal = $('#footnote-modal');\r\n  \r\n  // For example purposes only\r\n  Promise.resolve(html)\r\n    .then(function (response) {\r\n       $modal.find('.modal-body').html(response);\r\n       $modal.modal();\r\n    });\r\n  \r\n  // Actual code to call your PHP script\r\n  // $.get(event.target.href, function (response) {\r\n  //   $modal.find('.modal-body').html(response);\r\n  //   $modal.modal();\r\n  // });\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n  &lt;meta charset=\"utf-8\"&gt;\r\n  &lt;meta name=\"viewport\" content=\"width=device-width\"&gt;\r\n  &lt;title&gt;JS Bin&lt;/title&gt;\r\n  &lt;link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n  &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit &lt;sub&gt;&lt;a class=\"footnote\" href=\"/footnote.php?id=123\"&gt;[123]&lt;/a&gt;&lt;/sub&gt;.&lt;/p&gt;\r\n  &lt;p&gt;Dolorum ducimus quos officia blanditiis expedita &lt;sub&gt;&lt;a class=\"footnote\" href=\"/footnote.php?id=123\"&gt;[456]&lt;/a&gt;&lt;/sub&gt;.&lt;/p&gt;\r\n  \r\n  &lt;!-- Modal --&gt;\r\n  &lt;div class=\"modal fade\" id=\"footnote-modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\"&gt;\r\n    &lt;div class=\"modal-dialog modal-dialog-centered\" role=\"document\"&gt;\r\n      &lt;div class=\"modal-content\"&gt;\r\n        &lt;div class=\"modal-header\"&gt;\r\n          &lt;h3 class=\"modal-title\" id=\"exampleModalLongTitle\"&gt;Footnote&lt;/h3&gt;\r\n          &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"&gt;\r\n            &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\r\n          &lt;/button&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"modal-body\"&gt;&lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  \r\n  &lt;script src=\"https://code.jquery.com/jquery.min.js\"&gt;&lt;/script&gt;\r\n  &lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js\"&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Any questions, just ask.</p>\n"}, {"tags": [], "owner": {"reputation": 1215, "user_id": 1418533, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/832e7fd1713de344d00ba3cc9c6fae54?s=128&d=identicon&r=PG", "display_name": "Ken Ingram", "link": "https://stackoverflow.com/users/1418533/ken-ingram"}, "is_accepted": true, "score": 0, "last_activity_date": 1532851855, "creation_date": 1532851855, "answer_id": 51578465, "question_id": 51529031, "link": "https://stackoverflow.com/questions/51529031/how-to-refactor-php-href-links-to-respond-with-modal-or-popover/51578465#51578465", "title": "How to refactor php href links to respond with Modal or popover", "body": "<p>So, in order to resolve the problem I had to go back and examine some foundational logic.</p>\n\n<ol>\n<li><p>I created my html in php using echo statements. It was how I originally wrote it, when I was learning about PHP. Time for a refactor. Used html, embedding the small amount of PHP as needed with code tags.</p></li>\n<li><p>I was using an older version of bootstrap which allowed a functionality which is deprecated in BS4. I didn't realize that functionality was in effect until the previously working code was failing with BS4.</p></li>\n<li><p>Using the latest BS made me aware of the need for jQuery AJAX. I wanted to stay in vamilla JS, but I realized I understand JS much better than I thought and was then able to use the jQuery docs to get a handle on the remote data being pulled from a PHP GET.</p></li>\n<li><p>I refactored my php script to return JSON and do the data wrangling on the server end and simply pass the desired data to my js script for populating the modal.</p></li>\n<li><p>I set up the modal divs, which is actually far simpler than I was complaining about.</p></li>\n<li><p>I refactored the footnote tags in the database. A simple task using replace functionality in my database tool.</p></li>\n</ol>\n\n<p>So here's how I resolved my issue:</p>\n\n<ol>\n<li>Refactor the tags to this format: </li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;sup&gt;&lt;a data-toggle=\"modal\" data-target=\"#footnote-modal\" id=\"par180_fn10\" href=\"footnote.php?id=127\"&gt;[10]&lt;/a&gt;&lt;/sup&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ol start=\"2\">\n<li>Format the modal html:</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!-- Modal --&gt;\r\n&lt;div class=\"modal fade\" id=\"footnote-modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\"&gt;\r\n\t&lt;div class=\"modal-dialog modal-lg\" role=\"document\"&gt;\r\n\t\t&lt;!-- Modal content --&gt;\r\n\t\t&lt;div class=\"modal-content\"&gt;\r\n\t\t\t&lt;!-- Modal header --&gt;\r\n\t\t\t&lt;div class=\"modal-header\"&gt;\r\n\t\t\t\t&lt;h4 class=\"modal-title\" id=\"footnoteTitle\"&gt;&lt;/h4&gt;\r\n\t\t\t\t&lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"&gt;\r\n          &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\r\n        &lt;/button&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;!-- Modal Body --&gt;\r\n\t\t\t&lt;div class=\"modal-body\" id=\"footnote_detail\"&gt;&lt;/div&gt;\r\n\t\t\t\t\t\t&lt;!-- Modal Footer --&gt;\r\n\t\t\t&lt;div class=\"modal-footer\"&gt;\r\n\t\t\t\t&lt;button type=\"button\" class=\"btn btn-danger\" data-dismiss=\"modal\"&gt;Close&lt;/button&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ol start=\"3\">\n<li>Enable the JavaScript</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function(){\r\n\t$('#footnote-modal').on('show.bs.modal', function(dataString){\r\n\t\t//console.dir(dataString.relatedTarget);\r\n\t\tvar location = dataString.relatedTarget.attributes[3].value;\r\n\t\tconsole.log(location);\r\n\t\t$.ajax({\r\n\t\t\tmethod: \"GET\",\r\n\t\t\turl: location,\r\n\t\t\tdataType: \"json\",\r\n\t\t\tsuccess: function(res){\r\n\t\t\t\t//console.dir(res);\r\n\t\t       \t$('#footnoteTitle').html(res.data[0] + res.data[1] + \r\n\t\t       \t\tres.data[2] + res.data[3] + \", Footnote \" + res.footnote_no);\r\n\t\t       \t$('#footnote_detail').html(res.footnote_text);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.fail(function( xhr, status, errorThrown ) {\r\n    \t\talert( \"Sorry, there was a problem!\" );\r\n    \t\tconsole.log( \"Error: \" + errorThrown );\r\n    \t\tconsole.log( \"Status: \" + status );\r\n    \t\tconsole.dir( xhr );\r\n  \t\t});\r\n\t});\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1215, "user_id": 1418533, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/832e7fd1713de344d00ba3cc9c6fae54?s=128&d=identicon&r=PG", "display_name": "Ken Ingram", "link": "https://stackoverflow.com/users/1418533/ken-ingram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 51578465, "answer_count": 2, "score": 0, "last_activity_date": 1532851855, "creation_date": 1532561354, "question_id": 51529031, "link": "https://stackoverflow.com/questions/51529031/how-to-refactor-php-href-links-to-respond-with-modal-or-popover", "title": "How to refactor php href links to respond with Modal or popover", "body": "<p>I am rewriting some text which is heavy with footnotes in the form </p>\n\n<pre><code>&lt;a id=\"par170_fn1\" href=\"get_footnote.php?id=118\"&gt;[1]&lt;/a&gt;\n</code></pre>\n\n<p>The footnotes are organized in a table.</p>\n\n<p>I'm a little confused by the technical flow of executing these refactorings using modal dialog or popovers. It seems that Ajax is inherently part of the process.</p>\n\n<p>I'm a little stuck on the concept of matching the dynamic data where.</p>\n\n<p>This example from the <a href=\"https://getbootstrap.com/docs/4.0/components/modal/#tooltips-and-popovers\" rel=\"nofollow noreferrer\">Bootstrap Docs</a> makes sense in general, but I'm missing the bridge that allows my retrieved data to be accounted for in the call.\nPlus I don't want to replace the links with buttons.</p>\n\n<pre><code>&lt;div class=\"modal-body\"&gt;\n  &lt;h5&gt;Popover in a modal&lt;/h5&gt;\n  &lt;p&gt;This &lt;a href=\"#\" role=\"button\" class=\"btn btn-secondary popover-test\" title=\"Popover title\" data-content=\"Popover body content is set in this attribute.\"&gt;button&lt;/a&gt; triggers a popover on click.&lt;/p&gt;\n  &lt;hr&gt;\n  &lt;h5&gt;Tooltips in a modal&lt;/h5&gt;\n  &lt;p&gt;&lt;a href=\"#\" class=\"tooltip-test\" title=\"Tooltip\"&gt;This link&lt;/a&gt; and &lt;a href=\"#\" class=\"tooltip-test\" title=\"Tooltip\"&gt;that link&lt;/a&gt; have tooltips on hover.&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I would appreciate some tips on how to think this through on a fundamental level.</p>\n"}, {"tags": ["javascript", "html", "handlebars.js"], "answers": [{"tags": [], "owner": {"reputation": 4217, "user_id": 9029328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3hFz.png?s=128&g=1", "display_name": "AuxTaco", "link": "https://stackoverflow.com/users/9029328/auxtaco"}, "is_accepted": true, "score": 1, "last_activity_date": 1532562480, "creation_date": 1532562480, "answer_id": 51529159, "question_id": 51529026, "link": "https://stackoverflow.com/questions/51529026/handlebars-why-this-code-doesnt-work/51529159#51529159", "title": "handlebars: why this code doesn&#39;t work?", "body": "<pre><code>$(\".container\").innerHTML = html;\n</code></pre>\n\n<p>You're mixing vanilla JS and jQuery. Either set the HTML the vanilla way,</p>\n\n<pre><code>document.querySelector(\".container\").innerHTML = html;\n</code></pre>\n\n<p>or the jQuery way:</p>\n\n<pre><code>$(\".container\").html(html);\n</code></pre>\n"}], "owner": {"reputation": 4469, "user_id": 1251099, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/af9183d81b1160ccd54790c233a7b0c7?s=128&d=identicon&r=PG", "display_name": "user180574", "link": "https://stackoverflow.com/users/1251099/user180574"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 51529159, "answer_count": 1, "score": 0, "last_activity_date": 1532562480, "creation_date": 1532561331, "question_id": 51529026, "link": "https://stackoverflow.com/questions/51529026/handlebars-why-this-code-doesnt-work", "title": "handlebars: why this code doesn&#39;t work?", "body": "<p>I am new to handlehars, and feel the basic tutorials are not very newbie friendly. I have to put pieces together and the following code seems not working. The html is generated correctly which means it does work but nothing shows up.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;title&gt;test handlebars&lt;/title&gt;\n&lt;meta charset=\"UTF-8\"&gt;\n\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0/handlebars.js\"&gt;&lt;/script&gt;\n\n&lt;script id=\"entry-template\" type=\"text/x-handlebars-template\"&gt;\n  &lt;div class=\"entry\"&gt;\n    &lt;h1&gt;{{title}}&lt;/h1&gt;\n    &lt;div class=\"body\"&gt;\n      {{body}}\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=\"container\"&gt;&lt;/div&gt;\n\n&lt;script&gt;\n$(document).ready(function(){\n  var source = $(\"#entry-template\").html();\n  var template = Handlebars.compile(source);\n  var context = {title: \"My New Post\", body: \"This is my first post!\"};\n  var html = template(context);\n  console.log(html);\n  $(\".container\").innerHTML = html;\n});\n&lt;/script&gt;\n\n&lt;/body&gt;\n</code></pre>\n"}, {"tags": ["javascript", "react-native"], "comments": [{"owner": {"reputation": 2155, "user_id": 9002163, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcPiZ.jpg?s=128&g=1", "display_name": "Aravind S", "link": "https://stackoverflow.com/users/9002163/aravind-s"}, "edited": false, "score": 0, "creation_date": 1532702102, "post_id": 51528974, "comment_id": 90087210, "body": "Whether the below explanation was useful?"}], "answers": [{"tags": [], "owner": {"reputation": 2155, "user_id": 9002163, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcPiZ.jpg?s=128&g=1", "display_name": "Aravind S", "link": "https://stackoverflow.com/users/9002163/aravind-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1532577078, "creation_date": 1532577078, "answer_id": 51530729, "question_id": 51528974, "link": "https://stackoverflow.com/questions/51528974/flat-list-not-maintaining-unique-list/51530729#51530729", "title": "Flat List not maintaining unique List?", "body": "<p>I wanted to know if KeyExtrator contributes to maintain the unique list ? <strong>NO is the Answer</strong></p>\n\n<p><strong>Explanation :</strong> keyExtractor tells the list to use the ids for the react keys instead of the default key property. Keys help React identify which items have changed, are added, or are removed. Key also used for caching and as the react key to tracking item re-ordering. These unique keys are what allow the VirtualizedList (which is what FlatList is built on) to track items and are really important in terms of efficiency. The keyExtractor falls back to using the index by default. For example </p>\n\n<pre><code>&lt;FlatList\n  style={{}}\n  data={this.state.FeedDataCollection}\n  keyExtractor={(item, index) =&gt; item.key}\n  renderItem={(rowData) =&gt;this.RenderFeedCard(rowData)}\n/&gt;\n</code></pre>\n\n<p>Here <code>item.key</code> is is key.So if you want display elements based on the uniqueness, you have write a logic for that. keyExtractor cant do that. Learn more about React Keys here <a href=\"https://reactjs.org/docs/lists-and-keys.html\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/lists-and-keys.html</a> and KeyExtractor here <a href=\"https://facebook.github.io/react-native/docs/flatlist#keyextractor\" rel=\"nofollow noreferrer\">https://facebook.github.io/react-native/docs/flatlist#keyextractor</a></p>\n"}], "owner": {"reputation": 574, "user_id": 6302996, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/edab05f559752733cc153551b3548f10?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil Kulkarni", "link": "https://stackoverflow.com/users/6302996/nikhil-kulkarni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 968, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1532626945, "creation_date": 1532561016, "last_edit_date": 1532626945, "question_id": 51528974, "link": "https://stackoverflow.com/questions/51528974/flat-list-not-maintaining-unique-list", "title": "Flat List not maintaining unique List?", "body": "<p>I wanted to know if KeyExtrator contributes to maintain the unique list ?\nif yes then its not helping me at all.</p>\n\n<p>I am trying to display elements on flat list when a new Item comes in, the list just addes it without checking for uniqueness of the list</p>\n\n<p>Main goal is to make my list unique, I had tried ListView It was working \n due to logic implemented using rowHasChanged method.trying to see if there is anything for FlatList.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      TESTDATA: [{\r\n        BarCode: '1',\r\n        StopAddress: 'Label 1'\r\n      }]\r\n    };\r\n  };\r\n\r\n  onReceivedMessage(messages) {\r\n    var jsondata = JSON.parse(messages)\r\n    var dataTest = this.state.TESTDATA;\r\n    var Data = addressToDataMap.get(dataTest.BarCodes);\r\n    dataTest.push(jsondata);\r\n\r\n    this.setState({\r\n      TESTDATA: dataTest\r\n    });\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<pre><code>&lt;FlatList\n      extraData={this.state}\n        data={this.state.TESTDATA}\n    keyExtractor={(item, index) =&gt; item.BarCode.toString()}\n        renderItem={({ item}) =&gt; (\n      &lt;Text style={styles.baseText}&gt;\n        Stop Address: {item.StopAddress}{'\\n'}\n        Barcodes:    {item.BarCode}\n            &lt;/Text&gt;\n        )}\n/&gt;\n</code></pre>\n"}, {"tags": ["javascript", "php", "jquery", "html"], "comments": [{"owner": {"reputation": 1666, "user_id": 2081663, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/736adb8e46653f06db563482a79a4376?s=128&d=identicon&r=PG", "display_name": "Ben Avery", "link": "https://stackoverflow.com/users/2081663/ben-avery"}, "edited": false, "score": 0, "creation_date": 1532569140, "post_id": 51528954, "comment_id": 90027783, "body": "Can you give us an error or expected vs actual behaviour you are getting."}], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 9536701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e8213a2d010ee6babc0e3d19ed24c40?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos", "link": "https://stackoverflow.com/users/9536701/carlos"}, "edited": false, "score": 0, "creation_date": 1532561442, "post_id": 51529000, "comment_id": 90026358, "body": "What took me hours, it took you less than 5 minutes lol! Thank you, David! That was the problem."}], "tags": [], "owner": {"reputation": 20825, "user_id": 892629, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fe7fca180a7f092bcbf8236611b81029?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/892629/david"}, "is_accepted": true, "score": 3, "last_activity_date": 1532561206, "creation_date": 1532561206, "answer_id": 51529000, "question_id": 51528954, "link": "https://stackoverflow.com/questions/51528954/why-is-jquery-click-function-not-working/51529000#51529000", "title": "Why is jQuery click function not working?", "body": "<p>jQuery selectors return an array. You need to select the element to call the click function in this way. Use index 0 to select the first matching element.</p>\n\n<pre><code>$(\"#billOfLading\" + a)[0].click();\n</code></pre>\n\n<p>Fiddle example: <a href=\"https://jsfiddle.net/dk9fng2L/\" rel=\"nofollow noreferrer\">JSFiddle</a></p>\n"}], "owner": {"reputation": 325, "user_id": 9536701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e8213a2d010ee6babc0e3d19ed24c40?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos", "link": "https://stackoverflow.com/users/9536701/carlos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 51529000, "answer_count": 1, "score": -1, "last_activity_date": 1532561206, "creation_date": 1532560833, "question_id": 51528954, "link": "https://stackoverflow.com/questions/51528954/why-is-jquery-click-function-not-working", "title": "Why is jQuery click function not working?", "body": "<p>I am trying to use this function to trigger a file download from a hidden element. This is what I'm trying, but it doesn't seem to work. I have spent hours on this and have no idea what I'm doing wrong. </p>\n\n<pre><code>&lt;?php \n\necho '\n   &lt;button type=\"button\" class=\"btn btn-secondary btn-block m-b-10\" onclick=\"getBill('.$billNumber.')\"&gt;Bill of Lading&lt;/button&gt;\n   &lt;a href=\"images/bol/'.$billNumber.'.pdf\" style=\"display:none\" id=\"billOfLading'.$billNumber.'\" download&gt;&lt;/a&gt;';\n\n?&gt;\n\n&lt;script&gt;\n\nfunction getBill(a){\n\n        var billNumber = a;\n\n        if(billNumber != ''){\n            $.ajax({\n                method: \"POST\",\n                url:'includes/bolScraper.php',\n                data:{billNum: billNumber},\n                success:function(data){\n                    if (data != \"no_pdf\") {\n\n                        //alert(data)\n\n                        $(\"#billOfLading\" + a).click();\n\n                    } else {\n\n                      alert(data);\n\n                    }\n                }\n            });\n        }\n    }\n\n &lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "edited": false, "score": 0, "creation_date": 1532562198, "post_id": 51528940, "comment_id": 90026514, "body": "the unobserve method isn&#39;t encouraging reuse of a resize observer. It&#39;s a neccesity to allow proper garbage collection of listeners and elements"}, {"owner": {"reputation": 3179, "user_id": 6656422, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-ruwgjJVn5rk/AAAAAAAAAAI/AAAAAAAAAio/mSV4_HKnoJ4/photo.jpg?sz=128", "display_name": "William Lohan", "link": "https://stackoverflow.com/users/6656422/william-lohan"}, "reply_to_user": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "edited": false, "score": 0, "creation_date": 1532616918, "post_id": 51528940, "comment_id": 90051313, "body": "Like the <code>MutationObserver</code>, <code>disconnect()</code> can be used for garbage collection."}], "answers": [{"tags": [], "owner": {"reputation": 3179, "user_id": 6656422, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-ruwgjJVn5rk/AAAAAAAAAAI/AAAAAAAAAio/mSV4_HKnoJ4/photo.jpg?sz=128", "display_name": "William Lohan", "link": "https://stackoverflow.com/users/6656422/william-lohan"}, "is_accepted": false, "score": 3, "last_activity_date": 1532617091, "creation_date": 1532617091, "answer_id": 51541931, "question_id": 51528940, "link": "https://stackoverflow.com/questions/51528940/resizeobserver-one-vs-multiple-performance/51541931#51541931", "title": "ResizeObserver one vs multiple performance", "body": "<p>Looks like reusing (one) the ResizeObserver is preferred and more preformant:</p>\n\n<p><a href=\"https://github.com/WICG/ResizeObserver/issues/59#issuecomment-408098151\" rel=\"nofollow noreferrer\">https://github.com/WICG/ResizeObserver/issues/59#issuecomment-408098151</a>\n<a href=\"https://groups.google.com/a/chromium.org/forum/#!msg/blink-dev/z6ienONUb5A/F5-VcUZtBAAJ\" rel=\"nofollow noreferrer\">https://groups.google.com/a/chromium.org/forum/#!msg/blink-dev/z6ienONUb5A/F5-VcUZtBAAJ</a></p>\n"}], "owner": {"reputation": 3179, "user_id": 6656422, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-ruwgjJVn5rk/AAAAAAAAAAI/AAAAAAAAAio/mSV4_HKnoJ4/photo.jpg?sz=128", "display_name": "William Lohan", "link": "https://stackoverflow.com/users/6656422/william-lohan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1067, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1532617091, "creation_date": 1532560718, "question_id": 51528940, "link": "https://stackoverflow.com/questions/51528940/resizeobserver-one-vs-multiple-performance", "title": "ResizeObserver one vs multiple performance", "body": "<p>The <a href=\"https://wicg.github.io/ResizeObserver\" rel=\"nofollow noreferrer\">ResizeObserver</a> has an <a href=\"https://wicg.github.io/ResizeObserver/#dom-resizeobserver-observe\" rel=\"nofollow noreferrer\">observe()</a> method and an <a href=\"https://wicg.github.io/ResizeObserver/#dom-resizeobserver-unobserve\" rel=\"nofollow noreferrer\">unobserve()</a> method. This seems to encourage having one <a href=\"https://wicg.github.io/ResizeObserver\" rel=\"nofollow noreferrer\">ResizeObserver</a> instance and observing and unobserving different elements as needed with logic in the callback to handle each entity. Is there any performance implications of doing this vs instantiating multiple <a href=\"https://wicg.github.io/ResizeObserver\" rel=\"nofollow noreferrer\">ResizeObserver</a>s for observing different elements or groups of elements?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "textarea", "reload"], "answers": [{"comments": [{"owner": {"reputation": 243, "user_id": 10112318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4f68e17c3c6d637f4034f543eb8b02e?s=128&d=identicon&r=PG&f=1", "display_name": "Smitherson", "link": "https://stackoverflow.com/users/10112318/smitherson"}, "edited": false, "score": 0, "creation_date": 1532564014, "post_id": 51529089, "comment_id": 90026869, "body": "I have just tried the code provided. Strangely, when I call the <code>refreshTextArea()</code> method, the <code>textarea</code> does not change. Perhaps I am not doing something correctly. I am supposed to store the code provided above in my exported class, right?"}, {"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "reply_to_user": {"reputation": 243, "user_id": 10112318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4f68e17c3c6d637f4034f543eb8b02e?s=128&d=identicon&r=PG&f=1", "display_name": "Smitherson", "link": "https://stackoverflow.com/users/10112318/smitherson"}, "edited": false, "score": 0, "creation_date": 1532564392, "post_id": 51529089, "comment_id": 90026945, "body": "@Smitherson I&#39;ve updated my answer to use a the <code>ChangeDetectorRef</code>. This will tell Angular that the view needs to be re-rendered."}, {"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "reply_to_user": {"reputation": 243, "user_id": 10112318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4f68e17c3c6d637f4034f543eb8b02e?s=128&d=identicon&r=PG&f=1", "display_name": "Smitherson", "link": "https://stackoverflow.com/users/10112318/smitherson"}, "edited": false, "score": 0, "creation_date": 1532821568, "post_id": 51529089, "comment_id": 90117824, "body": "@Smitherson I&#39;m sorry, but I made a mistake in my original answer. The <code>.slice()</code> will notify <code>ngFor</code> that the array has changed, but you have to modify the array element to trigger the DOM element to be recreated. So I increment the number instead."}, {"owner": {"reputation": 243, "user_id": 10112318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4f68e17c3c6d637f4034f543eb8b02e?s=128&d=identicon&r=PG&f=1", "display_name": "Smitherson", "link": "https://stackoverflow.com/users/10112318/smitherson"}, "edited": false, "score": 0, "creation_date": 1532825321, "post_id": 51529089, "comment_id": 90118285, "body": "I have just tried it again. Strangely, my textarea disappeared. It&#39;s not even rendered on the view. Any ideas on why this might happen?"}], "tags": [], "owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "is_accepted": false, "score": 0, "last_activity_date": 1532821518, "last_edit_date": 1532821518, "creation_date": 1532561923, "answer_id": 51529089, "question_id": 51528916, "link": "https://stackoverflow.com/questions/51528916/typescript-manual-refresh-textarea/51529089#51529089", "title": "Typescript - Manual refresh textarea", "body": "<p>There is a hack that I use to recreate DOM elements, but some people don't like it.</p>\n\n<pre><code>&lt;textarea *ngFor=\"let x of refresh\"&gt;&lt;/textarea&gt;\n</code></pre>\n\n<p>Then in your component.</p>\n\n<pre><code>@Component({...})\nexport public MyComponent {\n     public refresh = [1];\n\n     public constructor(private change: ChangeDetectorRef) {}\n\n     public refreshTextArea() {\n        this.refresh[0]++;\n        this.change.markForCheck();\n     }\n}\n</code></pre>\n\n<p>This works because <code>*ngFor</code> will update the collection of DOM elements when the array is changed. We use <code>this.refresh[0]++</code> above to modify the first element which triggers the <code>*ngFor</code> to recreate the DOM element. The array has only one element so just one <code>&lt;textarea&gt;</code> will be created.</p>\n\n<p>It can be confusing to other Angular developers who see this. So be sure to add comments explaining why you're doing it.</p>\n\n<p>The alternative is to use <code>*ngIf</code> and a <code>setTimeout</code> to toggle a boolean value from <code>false</code> to <code>true</code> and allow Angular to re-render the DOM elements. That's a lot more code and even more confusing (if you ask me).</p>\n"}], "owner": {"reputation": 243, "user_id": 10112318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4f68e17c3c6d637f4034f543eb8b02e?s=128&d=identicon&r=PG&f=1", "display_name": "Smitherson", "link": "https://stackoverflow.com/users/10112318/smitherson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 285, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1532821518, "creation_date": 1532560519, "question_id": 51528916, "link": "https://stackoverflow.com/questions/51528916/typescript-manual-refresh-textarea", "title": "Typescript - Manual refresh textarea", "body": "<p>I have a <code>textarea</code> with <code>height: auto;</code>. However, when I reset the <code>[ngModel]</code> variable associated with that textarea (e.g. <code>this.myNgModelVar = \"\";</code>) the height of the textarea would not automatically decrease until the user starts typing again. </p>\n\n<p>Since I could not figure out any solution to this, I figured out I might just want to refresh the <code>&lt;textarea&gt;</code>. But the question is, on Typescript, how can I refresh/update it?</p>\n"}, {"tags": ["javascript", "performance"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "reply_to_user": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1532561468, "post_id": 51528905, "comment_id": 90026364, "body": "@Li357 You can use NPM/Yarn for browser dependencies."}], "answers": [{"tags": [], "owner": {"reputation": 27055, "user_id": 5923139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dvoYw.png?s=128&g=1", "display_name": "Aplet123", "link": "https://stackoverflow.com/users/5923139/aplet123"}, "is_accepted": true, "score": 8, "last_activity_date": 1532563691, "creation_date": 1532563691, "answer_id": 51529285, "question_id": 51528905, "link": "https://stackoverflow.com/questions/51528905/what-are-the-benefits-and-drawbacks-of-using-a-cdn-vs-npm-yarn-for-dependencies/51529285#51529285", "title": "What are the benefits and drawbacks of using a CDN vs NPM/Yarn for dependencies?", "body": "<p>A dependency manager will allow much more flexibility than a CDN as all the files are stored on your server as opposed to a CDN. However, a CDN can reduce stress on your server as the files are downloaded somewhere else and much quicker than if they were downloaded on your server. Most people choose a CDN for the main reason that most popular browser packages come on a CDN and it does not spam their server with requests to load the file. However, if you're doing something like server-side node.js then you can't use a CDN and you have to use npm or yarn.</p>\n"}], "owner": {"reputation": 73, "user_id": 6130985, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bfc4c0g_luo/AAAAAAAAAAI/AAAAAAAAANw/Csaxely3X_U/photo.jpg?sz=128", "display_name": "Mattie", "link": "https://stackoverflow.com/users/6130985/mattie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2483, "favorite_count": 0, "closed_date": 1532568916, "accepted_answer_id": 51529285, "answer_count": 1, "score": 1, "last_activity_date": 1532563691, "creation_date": 1532560450, "question_id": 51528905, "link": "https://stackoverflow.com/questions/51528905/what-are-the-benefits-and-drawbacks-of-using-a-cdn-vs-npm-yarn-for-dependencies", "closed_reason": "Duplicate", "title": "What are the benefits and drawbacks of using a CDN vs NPM/Yarn for dependencies?", "body": "<p>What benefits and drawbacks do different methods of dependency loading have to a project? When should I use a cdn and when should I use a dependency manager/build tool?</p>\n"}, {"tags": ["javascript", "reactjs", "meteor", "mozilla"], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 10130286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fFDjw.jpg?s=128&g=1", "display_name": "Christopher W", "link": "https://stackoverflow.com/users/10130286/christopher-w"}, "edited": false, "score": 0, "creation_date": 1532976379, "post_id": 51574544, "comment_id": 90166973, "body": "Thank you River Tam! I tried your first suggestions but I couldn&#39;t make them work for me. However, React-Helmet did the trick! I have been spinning in circles trying to get this to render properly. Thank you so much!"}, {"owner": {"reputation": 2482, "user_id": 1129436, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/09511512293a4e31936309f2c6aee08e?s=128&d=identicon&r=PG", "display_name": "River Tam", "link": "https://stackoverflow.com/users/1129436/river-tam"}, "reply_to_user": {"reputation": 147, "user_id": 10130286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fFDjw.jpg?s=128&g=1", "display_name": "Christopher W", "link": "https://stackoverflow.com/users/10130286/christopher-w"}, "edited": false, "score": 0, "creation_date": 1532993824, "post_id": 51574544, "comment_id": 90173121, "body": "Sorry they didn&#39;t work for you -- would love to know why. But glad React Helmet worked for you. =)"}], "tags": [], "owner": {"reputation": 2482, "user_id": 1129436, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/09511512293a4e31936309f2c6aee08e?s=128&d=identicon&r=PG", "display_name": "River Tam", "link": "https://stackoverflow.com/users/1129436/river-tam"}, "is_accepted": true, "score": 4, "last_activity_date": 1532807207, "last_edit_date": 1532807207, "creation_date": 1532806052, "answer_id": 51574544, "question_id": 51528860, "link": "https://stackoverflow.com/questions/51528860/using-coral-talk-with-react-and-meteor/51574544#51574544", "title": "Using Coral Talk with React and Meteor", "body": "<p>I would do this outside of React entirely. So put that in your <code>main.html</code>. I would then, rather than having the onload just be</p>\n\n<pre><code>Coral.Talk.render(document.getElementById('coral_talk_stream'), {\n  talk: 'http://127.0.0.1:3000/'\n});\n</code></pre>\n\n<p>change it to</p>\n\n<pre><code>window.renderCoralTo = function (id) {\n  Coral.Talk.render(document.getElementById(id), {\n    talk: 'http://127.0.0.1:3000/'\n  });\n}\n</code></pre>\n\n<p>Then, in your component, do this:</p>\n\n<pre><code>class CoralTalk extends Component {\n  static divId = 'coral_talk_stream';\n\n  shouldComponentUpdate() {\n    return !this.rendered; // Stops the div from being remounted\n                           // shouldn't be necessary, but a minor precaution\n  }\n\n  renderCoral = div =&gt; {\n    if (!this.rendered &amp;&amp; div != null) {\n      window.renderCoralTo(CoralTalk.divId);\n    }\n  };\n\n  render() {\n    return (\n      &lt;div id={CoralTalk.divId} ref={this.renderCoral} /&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>I'm not 100% this will work, but it seems likely that it would.</p>\n\n<p>If you <em>need</em> to have the script tag only load <em>sometimes</em> (as in on some pages),  you can use something like <a href=\"https://github.com/nfl/react-helmet\" rel=\"nofollow noreferrer\">React Helmet</a> or just <a href=\"https://reactjs.org/docs/portals.html\" rel=\"nofollow noreferrer\">Portals</a> to conditionally render the script tag to your head.</p>\n\n<p>A 100% untested example using Portals:</p>\n\n<pre><code>class DynamicScript extends Component {\n  render() {\n    return React.createPortal(\n      &lt;script {...this.props} /&gt;,\n      document.getElementsByTagName('head')[0]\n    );\n  }\n}\n\nclass CoralTalk extends Component {\n  static divId = 'coral_talk_stream';\n\n  shouldComponentUpdate() {\n    return !this.rendered; // Stops the div from being remounted\n                           // shouldn't be necessary, but a minor precaution\n  }\n\n  render() {\n    this.rendered = true;\n    return (\n      &lt;Fragment&gt;\n        &lt;ConditionalScript src=\"http://127.0.0.1:3000/static/embed.js\" async onload={`\n          Coral.Talk.render(document.getElementById('${CoralTalk.divId}'), {\n            talk: 'http://127.0.0.1:3000/'\n          });\n        `} /&gt;\n        &lt;div id={CoralTalk.divId} /&gt;\n      &lt;/Fragment&gt;\n    );\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 176, "user_id": 3034566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e9a773651dd800d2191c00b1847a959?s=128&d=identicon&r=PG&f=1", "display_name": "Andy at Focallocal", "link": "https://stackoverflow.com/users/3034566/andy-at-focallocal"}, "is_accepted": false, "score": 0, "last_activity_date": 1532855869, "creation_date": 1532855869, "answer_id": 51578892, "question_id": 51528860, "link": "https://stackoverflow.com/questions/51528860/using-coral-talk-with-react-and-meteor/51578892#51578892", "title": "Using Coral Talk with React and Meteor", "body": "<p>Answer taken from another forum, I'm posting it here to add to the discussion and help anyone else having the same issue in the future:</p>\n\n<p>you can not call Coral.Talk.render from the onload event like that. there is no check for the component to be rendered, so you are telling coral talk to render to an element that is not there. you have a timing issue most likely.</p>\n\n<p>what you have to do is in your render method put a ref prop on the comments div like this </p>\n\n<p>this is what gotCommentsDiv could be...</p>\n\n<p>gotCommentsDiv(el) { if (el) Coral.Talk.render(el, {talk: '<a href=\"http://127.0.0.1:3000/\" rel=\"nofollow noreferrer\">http://127.0.0.1:3000/</a>'}); }</p>\n"}], "owner": {"reputation": 147, "user_id": 10130286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fFDjw.jpg?s=128&g=1", "display_name": "Christopher W", "link": "https://stackoverflow.com/users/10130286/christopher-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 417, "favorite_count": 3, "accepted_answer_id": 51574544, "answer_count": 2, "score": 10, "last_activity_date": 1532855869, "creation_date": 1532560074, "question_id": 51528860, "link": "https://stackoverflow.com/questions/51528860/using-coral-talk-with-react-and-meteor", "title": "Using Coral Talk with React and Meteor", "body": "<p>I am really struggling with implementing <a href=\"https://docs.coralproject.net/talk\" rel=\"noreferrer\">The Coral Talk Project</a> commenting system into my app.\nI am attempting to implement it into a project that is primarily Meteor and React. <a href=\"https://github.com/focallocal/fl-maps\" rel=\"noreferrer\">It's on GitHub</a> \n<br/>\n<br/>\nI think the main issue is that this is the first time I have needed to use a Script Tag in React.<br/>\nI have attempted doing it via the dom in componentDidMount, by using dangerouslySetHtml, <a href=\"https://stackoverflow.com/questions/47421602/html-script-is-loading-after-react-components\">tried using this suggestion</a>, and a couple different packages for loading scripts, but only the div and src display when inspected, but not the script content on the page itself. The onload functionality of it seems to not be firing.\n<br/>\n<br/>\nI have confirmed the server and embed code function properly by setting up another much more simple Node/Express app.<br/>\nHere is the code I am trying to embed into my React site:<br/></p>\n\n<pre><code>&lt;div id=\"coral_talk_stream\"&gt;&lt;/div&gt;\n&lt;script src=\"http://127.0.0.1:3000/static/embed.js\" async onload=\"\n  Coral.Talk.render(document.getElementById('coral_talk_stream'), {\n    talk: 'http://127.0.0.1:3000/'\n  });\n\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Any suggestions would be greatly appreciated.</p>\n"}, {"tags": ["javascript", "jquery", "html", "animation"], "comments": [{"owner": {"reputation": 779, "user_id": 3602955, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y7JYs.jpg?s=128&g=1", "display_name": "Shreyas", "link": "https://stackoverflow.com/users/3602955/shreyas"}, "edited": false, "score": 0, "creation_date": 1532562513, "post_id": 51528843, "comment_id": 90026581, "body": "i guess you can try <i>CSS3 Keyframes</i>"}], "answers": [{"tags": [], "owner": {"reputation": 32729, "user_id": 9513184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de818fcfdfb2bbaf9c67cf7f1d611db8?s=128&d=identicon&r=PG&f=1", "display_name": "iota", "link": "https://stackoverflow.com/users/9513184/iota"}, "is_accepted": true, "score": 1, "last_activity_date": 1532560569, "creation_date": 1532560569, "answer_id": 51528921, "question_id": 51528843, "link": "https://stackoverflow.com/questions/51528843/displaying-animation-like-hoverbefore-when-the-page-is-loaded/51528921#51528921", "title": "displaying animation like :hover:before when the page is loaded", "body": "<p>You can create a class with the <code>:before</code> and <code>:after</code> selectors set to <code>width: 100%</code> (instead of the <code>:hover</code> selector) to be added when the window loads.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>h1 {\r\n\tposition: relative;\r\n\tpadding: 5px 0;\r\n\tbackground: none;\r\n\tborder: none;\r\n  width: 40%;\r\n}\r\n\r\nh1:before {\r\n\tcontent: '';\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 0;\r\n\theight: 3px;\r\n\twidth: 0;\r\n\tbackground-color: violet;\r\n\ttransition: 2s ease all;\r\n}\r\n\r\nh1:after {\r\n\tcontent: '';\r\n\tposition: absolute;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\theight: 3px;\r\n\twidth: 0;\r\n\tbackground-color: violet;\r\n\ttransition: 2s ease all;\r\n}\r\n\r\n.animate:before, .animate:after {\r\n\twidth: 100%;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h1 id=\"textToAnimate\"&gt;Hello&lt;/h1&gt;\r\n&lt;script&gt;\r\nwindow.onload = function(){\r\ndocument.getElementById(\"textToAnimate\").classList.add(\"animate\");\r\n}\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 15, "user_id": 9855839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced1651b7efa2dd72ae4b443537e9349?s=128&d=identicon&r=PG&f=1", "display_name": "Bal&#225;zs", "link": "https://stackoverflow.com/users/9855839/bal%c3%a1zs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20, "favorite_count": 0, "accepted_answer_id": 51528921, "answer_count": 1, "score": 0, "last_activity_date": 1532560569, "creation_date": 1532559998, "question_id": 51528843, "link": "https://stackoverflow.com/questions/51528843/displaying-animation-like-hoverbefore-when-the-page-is-loaded", "title": "displaying animation like :hover:before when the page is loaded", "body": "<p>I want to output a heading with a style like this. >      <a href=\"https://jsfiddle.net/nakrys29/5/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/nakrys29/5/</a></p>\n\n<pre><code>h1:before {\n  //code\n}\n\nh1:after {\n  //code\n}\nh1:hover:before, h1:hover:after {\n  //code\n}\n</code></pre>\n\n<p>i  want to display this animation automatically, not just when it is hovered. So this animation should  start automatically when the page is fully loaded but i couldnt work this out. I tried to use js and jquery, but im kind of new to it so i couldnt find the correct method for this</p>\n\n<p>Any help is appreciated</p>\n"}, {"tags": ["javascript", "react-native"], "comments": [{"owner": {"reputation": 2155, "user_id": 9002163, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcPiZ.jpg?s=128&g=1", "display_name": "Aravind S", "link": "https://stackoverflow.com/users/9002163/aravind-s"}, "edited": false, "score": 0, "creation_date": 1532576420, "post_id": 51528833, "comment_id": 90029202, "body": "try like <code>if(condition) &amp;&amp; &lt;View&gt;Your Content&lt;&#47;View&gt;</code>"}, {"owner": {"reputation": 499, "user_id": 9890122, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-48N7iYSc6A4/AAAAAAAAAAI/AAAAAAAAAOI/rd-CH5M77Tg/photo.jpg?sz=128", "display_name": "Harrison", "link": "https://stackoverflow.com/users/9890122/harrison"}, "edited": false, "score": 0, "creation_date": 1532578218, "post_id": 51528833, "comment_id": 90029530, "body": "you&#39;re trying to change the things that you display in the list right?"}, {"owner": {"reputation": 574, "user_id": 6302996, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/edab05f559752733cc153551b3548f10?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil Kulkarni", "link": "https://stackoverflow.com/users/6302996/nikhil-kulkarni"}, "edited": false, "score": 1, "creation_date": 1532626740, "post_id": 51528833, "comment_id": 90057074, "body": "yes I wanted to update the existing list that is already populated"}, {"owner": {"reputation": 4507, "user_id": 305949, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/38d369d1ad1a4ffba29c6ee1eae6a19f?s=128&d=identicon&r=PG", "display_name": "FK82", "link": "https://stackoverflow.com/users/305949/fk82"}, "edited": false, "score": 0, "creation_date": 1532637568, "post_id": 51528833, "comment_id": 90062099, "body": "I don&#39;t understand your question. To update your list, you only have to update <code>this.state.data</code> by adding the new incoming data."}, {"owner": {"reputation": 574, "user_id": 6302996, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/edab05f559752733cc153551b3548f10?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil Kulkarni", "link": "https://stackoverflow.com/users/6302996/nikhil-kulkarni"}, "edited": false, "score": 0, "creation_date": 1532648540, "post_id": 51528833, "comment_id": 90065375, "body": "Thank you. I got it now. I need to update my list and FlatList Renders my list as new list everytime I update it"}], "owner": {"reputation": 574, "user_id": 6302996, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/edab05f559752733cc153551b3548f10?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil Kulkarni", "link": "https://stackoverflow.com/users/6302996/nikhil-kulkarni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 638, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1532648686, "creation_date": 1532559950, "last_edit_date": 1532648686, "question_id": 51528833, "link": "https://stackoverflow.com/questions/51528833/react-native-how-to-update-flat-list-updating-item-dynamically", "title": "React-Native how to update Flat List updating item dynamically?", "body": "<p>I wanted to update the List based on the 'address' and attach more \ncodes to it.</p>\n\n<p>I wanted to update the existing Flistlist that is already populated with new incoming data </p>\n\n<p><strong>ANSWER</strong>: I got it now. I need to update my list using state change  and FlatList Renders my list as new list everytime I update it, therefore data will remain updated everytime.</p>\n\n<p>like:</p>\n\n<blockquote>\n  <p>if(address=='xyz')\n  { code= code+newCode; }</p>\n</blockquote>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>&lt;FlatList\r\n\r\n    extraData={this.state}\r\n    data={this.state.TESTDATA}\r\n    keyExtractor={(item, index) =&gt; item.Code.toString()}\r\n    renderItem={({ item}) =&gt; (\r\n        &lt;TouchableOpacity\r\n            onPress={() =&gt; console.log('pressed TouchableOpacity')}\r\n            style={{\r\n                height: 75,\r\n            }}\r\n        &gt;\r\n            &lt;View style={styles.listItem}&gt;\r\n\r\n                &lt;Text style={styles.baseText}&gt;\r\n                    Stop Address: {item.Address}{'\\n'}\r\n                    codes:    {item.Code}\r\n            &lt;/Text&gt;\r\n            &lt;/View&gt;\r\n        &lt;/TouchableOpacity&gt;\r\n    )}\r\n  /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery", "arrays", "asynchronous"], "answers": [{"tags": [], "owner": {"reputation": 10923, "user_id": 371, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e74e7299da165db42a5a461e150b82ff?s=128&d=identicon&r=PG", "display_name": "Dave Anderson", "link": "https://stackoverflow.com/users/371/dave-anderson"}, "is_accepted": false, "score": 0, "last_activity_date": 1532560269, "creation_date": 1532560269, "answer_id": 51528882, "question_id": 51528803, "link": "https://stackoverflow.com/questions/51528803/problems-retrieving-get-requests-responses-in-expected-order/51528882#51528882", "title": "Problems retrieving GET requests responses in expected order", "body": "<p>Your loop makes async calls to load the files. The order will depend on when the callback functions execute having loaded the files. This will depend on the size of the files and network latency.</p>\n\n<p>If you need to have the items in the array sorted you can store an object in the array and use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\" rel=\"nofollow noreferrer\">Array.prototype.sort()</a> on the objects for ordering after all the callbacks complete.</p>\n\n<pre><code>array.push({ index: i, ip: myOutput})\n\narray.sort(function(a, b) {\n  return a.index - b.index;\n}\n</code></pre>\n\n<p>To get the original array you have use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\">Array.prototype.map()</a>;</p>\n\n<pre><code>array.map(x =&gt; x.ip);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 6765826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcbed30344991084c9bbac5d2af760ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry Fanelli", "link": "https://stackoverflow.com/users/6765826/jerry-fanelli"}, "edited": false, "score": 0, "creation_date": 1532566426, "post_id": 51529006, "comment_id": 90027288, "body": "Thank you for your reply, I originally thought about promises but didn&#39;t have luck, it&#39;s the first time I&#39;m approaching to asynchronous calls... I will do my best to understand promises better!"}], "tags": [], "owner": {"reputation": 4930, "user_id": 1473968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vua08.jpg?s=128&g=1", "display_name": "colxi", "link": "https://stackoverflow.com/users/1473968/colxi"}, "is_accepted": false, "score": 1, "last_activity_date": 1532561834, "last_edit_date": 1532561834, "creation_date": 1532561236, "answer_id": 51529006, "question_id": 51528803, "link": "https://stackoverflow.com/questions/51528803/problems-retrieving-get-requests-responses-in-expected-order/51529006#51529006", "title": "Problems retrieving GET requests responses in expected order", "body": "<p>A batch of GET requests doesn't always resolve in the same order they have been triggered.</p>\n\n<p>Instead of pushing the result to the array, you could assign the .txt contents to its corresponding key directly.</p>\n\n<pre><code>array[i] = myOutput;\n</code></pre>\n\n<p>But because the value of <code>i</code> inside the GET callback, will not longer be the same as when the GET request was executed (counter keeps increasing in the loop) , you need to generate a new scope where the value of <code>i</code> is preserved. A <code>function</code> would give us that.</p>\n\n<p>You will need also a way to know when the last file has been loaded... to perform you actions...</p>\n\n<pre><code>let completed =0;\n\nconst getTxt = function(i){\n  $.get(\"/log/\"+ip_list[i]+\"/log.txt\", contents=&gt;{\n    array[i] = myOutput;\n    completed++\n    if(completed === numberOfVPS){ \n      // all files have been loaded \n      yourCallbackHere();\n    }\n  });\n}\n\nfor(let i = 0; i &lt; numberOfVPS; i++) getTxt(i)\n</code></pre>\n\n<blockquote>\n  <p>I personally would implement this using Promises, they are ment to handle Async operations in a more clean and intuitive way.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 6765826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcbed30344991084c9bbac5d2af760ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry Fanelli", "link": "https://stackoverflow.com/users/6765826/jerry-fanelli"}, "edited": false, "score": 0, "creation_date": 1532566088, "post_id": 51529025, "comment_id": 90027226, "body": "Can&#39;t really tell why but  <code>var files = []; for( var n = 0; n &lt; numberOfVPS; n++ ) {    files[n] = $.get(&quot;FILEPATH&quot;); }</code>  seems to works even without <code>$.when</code>...  I resolved using this! Thank you"}], "tags": [], "owner": {"reputation": 2309, "user_id": 8039858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b05a1367657700f0980a87767d797273?s=128&d=identicon&r=PG&f=1", "display_name": "nullqube", "link": "https://stackoverflow.com/users/8039858/nullqube"}, "is_accepted": true, "score": 1, "last_activity_date": 1532561325, "creation_date": 1532561325, "answer_id": 51529025, "question_id": 51528803, "link": "https://stackoverflow.com/questions/51528803/problems-retrieving-get-requests-responses-in-expected-order/51529025#51529025", "title": "Problems retrieving GET requests responses in expected order", "body": "<p>your code is asynchronous so one of your options is to use <a href=\"http://Black.Panther.2018.1080p.BluRay.x264-[YTS.AM]\" rel=\"nofollow noreferrer\">Promise</a>s\nso for example you can write it like :</p>\n\n<pre><code>var files = [];\nfor( var n = 0; n &lt; numberOfVPS; n++ ) {\n   files[n] = $.get(\"FILEPATH\");\n}\n$.when(...files).done(function(){\n   array.push(...arguments);\n});\n</code></pre>\n\n<p><a href=\"https://api.jquery.com/jquery.when/\" rel=\"nofollow noreferrer\">https://api.jquery.com/jquery.when/</a></p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax</a></p>\n\n<p><a href=\"https://davidwalsh.name/write-javascript-promises\" rel=\"nofollow noreferrer\">https://davidwalsh.name/write-javascript-promises</a></p>\n"}], "owner": {"reputation": 41, "user_id": 6765826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcbed30344991084c9bbac5d2af760ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry Fanelli", "link": "https://stackoverflow.com/users/6765826/jerry-fanelli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 51529025, "answer_count": 3, "score": 0, "last_activity_date": 1532572393, "creation_date": 1532559648, "last_edit_date": 1532572393, "question_id": 51528803, "link": "https://stackoverflow.com/questions/51528803/problems-retrieving-get-requests-responses-in-expected-order", "title": "Problems retrieving GET requests responses in expected order", "body": "<p>I'm facing some few problems with my javascript code, as to my understanding probably related to asynchronous functions. </p>\n\n<p>I have some large txt files that I want to import in my javascript code, everything is under the same domain. \nFor instance, when I open /index.php I want Javascript to load text from several text files located in: /log/ip_number/log.txt </p>\n\n<p>At the moment I'm using something like this:</p>\n\n<pre><code>for (var i = 0; i &lt; numberOfVPS; i++) {\n    $.get(\"/log/\"+ip_list[i]+\"/log.txt\", function(contents){\n     //does my things with contents\n     array.push(myOutput)\n     });\n}\n</code></pre>\n\n<p>at the end of the code, I should get an array ordered by the order of IPs in the ip_list array.... but that's not what I get and I can't really understand why... </p>\n\n<p>For example, I should get: \narray = [1, 2, 3, 4, 5] </p>\n\n<p>where 1, 2, 3, 4 and 5 are related the ip_list[0], ip_list[1], ip_list[2], ip_list[3], ip_list[4], \nbut I get something like:</p>\n\n<p>array = [2, 5, 3, 1, 4], and everytime I reload the page there is a different order.... \nI think that's due to te fact that the javascript code didn't manage to load the text files and thus give me some unordered output, but that's just my opinion, the opinion of a newbie \"programmer\"...</p>\n\n<p>Please help me with that! </p>\n\n<p>Jerry</p>\n"}, {"tags": ["javascript", "node.js", "reactjs", "typescript", "npm"], "comments": [{"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1532561578, "post_id": 51528797, "comment_id": 90026388, "body": "Are you attempting to share a TypeScript library or the compiled version that is plain Javascript?"}, {"owner": {"reputation": 2698, "user_id": 2093626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0565adc01681636d508e85fbb59c40a5?s=128&d=identicon&r=PG", "display_name": "Gabriel C. Troia", "link": "https://stackoverflow.com/users/2093626/gabriel-c-troia"}, "reply_to_user": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1532616171, "post_id": 51528797, "comment_id": 90050845, "body": "@jfriend00 I\u2019m trying to share the compiled js + type definitions."}, {"owner": {"reputation": 672, "user_id": 80052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d5d8cfa9c90bb54a0ac12b23e4365c7?s=128&d=identicon&r=PG", "display_name": "Mon Villalon", "link": "https://stackoverflow.com/users/80052/mon-villalon"}, "edited": false, "score": 0, "creation_date": 1571886050, "post_id": 51528797, "comment_id": 103390253, "body": "Is the code that is using your lib being bundled. with webpack for example?"}], "owner": {"reputation": 2698, "user_id": 2093626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0565adc01681636d508e85fbb59c40a5?s=128&d=identicon&r=PG", "display_name": "Gabriel C. Troia", "link": "https://stackoverflow.com/users/2093626/gabriel-c-troia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 679, "favorite_count": 1, "answer_count": 0, "score": 6, "last_activity_date": 1532626394, "creation_date": 1532559589, "last_edit_date": 1532626394, "question_id": 51528797, "link": "https://stackoverflow.com/questions/51528797/publishing-a-typescript-package-that-depends-on-a-3rd-party-npm-package", "title": "Publishing a Typescript package that depends on a 3rd party npm package", "body": "<p>I'm building a simple Typescript package/library that is compiled using this variant of a <strong>tsconfig</strong> (I tried all sorts of configurations with no success) with typescript v2.8:</p>\n\n<pre><code>{\n  \"extends\": \"./tsconfig.json\",\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"lib\": [\"es6\", \"dom\"],\n    \"module\": \"umd\",\n    \"moduleResolution\": \"node\",\n    \"declaration\": true,\n    \"declarationDir\": \"dist/types\",\n    \"outDir\": \"dist/lib\",\n    \"typeRoots\": [\n      \"node_modules/@types\",\n    ],\n  }\n}\n</code></pre>\n\n<p>and a <strong>package.json</strong> that looks like this:</p>\n\n<pre><code>{\n  \"name\": \"FooBarLib\",\n  \"version\": \"0.0.0\",\n  \"description\": \"A simple library\",\n  \"main\": \"dist/lib/index.js\",\n  \"typings\": \"dist/types/index.d.ts\",\n  \"author\": \"Gabriel C. Troia\",\n  \"license\": \"MIT\",\n  \"dependencies\": {\n    \"@types/ramda\": \"^0.25.35\",\n    \"@types/react\": \"^16.4.7\",\n    \"@types/react-dom\": \"^16.0.6\",\n    \"ramda\": \"^0.25.0\",\n    \"react\": \"^16.4.1\",\n    \"react-dom\": \"^16.4.1\",\n    \"styled-components\": \"^3.3.3\"\n  },\n  \"devDependencies\": {\n    \"typescript\": \"2.8\"\n  },\n  \"peerDependencies\": {\n    \"ramda\": \"^0.25.35\",\n    \"react\": \"^16.4.1\",\n    \"styled-components\": \"^3.3.3\"\n  },\n  \"scripts\": {\n    \"prebuild\": \"rm -rf dist\",\n    \"build\": \"tsc\"\n  }\n}\n</code></pre>\n\n<p>As you can see above, my FooBarLib library depends on a bunch of external libraries like <code>react</code> and <code>ramda</code>. Everything compiles locally and I'm able to generate js transpiled files as well as type definition files.</p>\n\n<p>But, when I try to import it in a separate typescript project (using typescript v2.9.2) the compiler cannot find any of the 3rd party library types used in my FooBarLib (react, ramda, etc...), even though they are installed in the project's node_modules, thus failing with one of the errors: \n<code>Cannot find module 'react'</code> or <code>Cannot find module 'ramda'</code>, etc...</p>\n\n<p><strong>Example</strong> of a d.ts generated file:</p>\n\n<pre><code>/// &lt;reference types=\"ramda\" /&gt;\nimport * as R from 'ramda';\nexport declare const myCurriedFunction: R.CurriedFunction2&lt;string | undefined, string | string[] | undefined, string&gt;;\n</code></pre>\n\n<p>Moreover, it doesn't seem to matter if <code>/// &lt;reference types=\"ramda\" /&gt;</code> is present or not. Same error occurs. </p>\n\n<p>Also, the project that imports FooBarLib has <code>@types/ramda</code> installed locally.</p>\n\n<p>It's frustrating and I can't seem to find much information on this except for this project <a href=\"https://github.com/alexjoverm/typescript-library-starter\" rel=\"noreferrer\">https://github.com/alexjoverm/typescript-library-starter</a>, but just using tsconfig or package.json didn't do it.</p>\n\n<p><strong>Update</strong></p>\n\n<p>I discovered that by manually importing the 3rd party dependencies in the project's implementation allows it to compile successfully.</p>\n\n<pre><code>import { foo } from 'FooBarLib';\n\n// 3rd party dependencies\nimport { StyledComponentClass } from 'styled-components';\nimport * as React from 'react';\nimport * as R from 'ramda';\n\nfoo();\n</code></pre>\n\n<p>The problem with this solution is that besides being extra verbose for no reason, it also fails if <code>noUnusedLocals</code> is set to true.</p>\n"}, {"tags": ["javascript", "angularjs", "angular-ui-router"], "comments": [{"owner": {"reputation": 151, "user_id": 3516951, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6f73c6fd054c82e8354010f8b74a4b4e?s=128&d=identicon&r=PG&f=1", "display_name": "yazz", "link": "https://stackoverflow.com/users/3516951/yazz"}, "edited": false, "score": 0, "creation_date": 1532561981, "post_id": 51528789, "comment_id": 90026472, "body": "This only happens on my localhost. When I deploy it and have several windows, they don&#39;t overlap."}], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 3516951, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6f73c6fd054c82e8354010f8b74a4b4e?s=128&d=identicon&r=PG&f=1", "display_name": "yazz", "link": "https://stackoverflow.com/users/3516951/yazz"}, "edited": false, "score": 0, "creation_date": 1532623314, "post_id": 51530367, "comment_id": 90055342, "body": "I tried this approach. But ultimately this.$state.href(&#39;auditlog&#39;); does just return a string similar to &quot;#/auditlog&quot; so, finally I am just passing a string to window.open(). I still commented out the $state code altogether and hardcoded the url string similar to your above example. But it did not fix the problem."}], "tags": [], "owner": {"reputation": 460, "user_id": 1696156, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/EQK1p.jpg?s=128&g=1", "display_name": "rlwheeler", "link": "https://stackoverflow.com/users/1696156/rlwheeler"}, "is_accepted": false, "score": 0, "last_activity_date": 1532574034, "creation_date": 1532574034, "answer_id": 51530367, "question_id": 51528789, "link": "https://stackoverflow.com/questions/51528789/angularjs-when-opening-controller-in-new-browser-window-clicks-on-the-child-w/51530367#51530367", "title": "AngularJS - When opening controller in new browser window, clicks on the child window randomly triggers events on the parent window", "body": "<p>I believe the issue is related to the use of '$state'</p>\n\n<pre><code>let location = this.$state.href('auditlog');\nthis.$window.open(location, '', 'scrollbars=no,fullscreen=yes,toolbar=no');\n</code></pre>\n\n<p>from the <a href=\"https://github.com/angular-ui/ui-router/wiki\" rel=\"nofollow noreferrer\">angular-ui github wiki</a></p>\n\n<blockquote>\n  <p>When a state is activated, its templates are automatically inserted into the ui-view of its parent state's template.</p>\n</blockquote>\n\n<p>I would suggest trying to avoid the use of $state by using plain old Javascript to do the new window navigation</p>\n\n<pre><code>window.open(\"{yourURL}/auditlog\", 'scrollbars=no,fullscreen=yes,toolbar=no');\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 3516951, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6f73c6fd054c82e8354010f8b74a4b4e?s=128&d=identicon&r=PG&f=1", "display_name": "yazz", "link": "https://stackoverflow.com/users/3516951/yazz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1532574034, "creation_date": 1532559543, "question_id": 51528789, "link": "https://stackoverflow.com/questions/51528789/angularjs-when-opening-controller-in-new-browser-window-clicks-on-the-child-w", "title": "AngularJS - When opening controller in new browser window, clicks on the child window randomly triggers events on the parent window", "body": "<p>I have a requirement that I am trying to implement as follows - \nI have an audit log page which has a button to display the logs on a new browser window, while continuing to do other stuff on the application open in the main window. \nWe use ui-router and angularjs (1.6). Below is my code - </p>\n\n<p>Route to the controller - </p>\n\n<pre><code> .state('auditlog', {\n        url: '/auditlog',\n        templateUrl: 'app/system/audit/audit-log.html',\n        controller: 'AuditLogController',\n        controllerAs: 'al'\n    })\n</code></pre>\n\n<p>On the click event of a button in a different controller, I have the following code - </p>\n\n<pre><code>unDockEventsPanel(event) {\n    let location = this.$state.href('auditlog');\n    this.$window.open(location, '', 'scrollbars=no,fullscreen=yes,toolbar=no');\n}\n</code></pre>\n\n<p>and the HTML - </p>\n\n<pre><code>&lt;i class=\"Icon-MoveOut Icon-Large icon-btn\" ng-click=\"eventsPanelVM.unDockEventsPanel($event)\"&gt;\n</code></pre>\n\n<p>Now, when I click on the \"MoveOut\" button the unDockEventsPanel() method gets called and a new window is opened with the contents of the controller/template in the route definition \"auditlog\".</p>\n\n<p>The problem I'm facing however is, any operation I perform on the child window is randomly triggering something else on the parent window and vice versa. For eg. When I click on a select button in the child window, the select opens up on the child, but also, on the parent the a text box comes into focus like it would if I had clicked it. Likewise, when I click a select on the parent, a different control on the child gets highlighted. </p>\n\n<p>I can see that a new instance of the application/controller is not created on the child and hence there is an overlap of the controls and events between the two. But I'm not able to figure out how to isolate the two.</p>\n\n<p>Any help is greatly appreciated.</p>\n"}, {"tags": ["javascript", "html", "json", "api", "for-loop"], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 8048877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c56e0591161516569ca70f95b1ea2859?s=128&d=identicon&r=PG&f=1", "display_name": "Ironlors", "link": "https://stackoverflow.com/users/8048877/ironlors"}, "edited": false, "score": 0, "creation_date": 1532560017, "post_id": 51528823, "comment_id": 90026102, "body": "it works with the text and infos but the map name and background image won&#39;t change"}], "tags": [], "owner": {"reputation": 21, "user_id": 10135754, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EztBKXQguNc/AAAAAAAAAAI/AAAAAAAAAAc/QUfzGjFw6t8/photo.jpg?sz=128", "display_name": "Bruno De Angelis", "link": "https://stackoverflow.com/users/10135754/bruno-de-angelis"}, "is_accepted": false, "score": 0, "last_activity_date": 1532559852, "creation_date": 1532559852, "answer_id": 51528823, "question_id": 51528765, "link": "https://stackoverflow.com/questions/51528765/javascript-for-loop-iterates-too-many-times-through-array/51528823#51528823", "title": "JavaScript for loop iterates too many times through array", "body": "<p>Have you tried doing \"i &lt; provinces.length - 1\"? That should work.</p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 9470063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84865667822876807cb918e35add6e85?s=128&d=identicon&r=PG&f=1", "display_name": "Don Macarthur", "link": "https://stackoverflow.com/users/9470063/don-macarthur"}, "is_accepted": false, "score": 0, "last_activity_date": 1532559943, "creation_date": 1532559943, "answer_id": 51528832, "question_id": 51528765, "link": "https://stackoverflow.com/questions/51528765/javascript-for-loop-iterates-too-many-times-through-array/51528832#51528832", "title": "JavaScript for loop iterates too many times through array", "body": "<p>Arrays are zero-based, so your array indices run from 0-14.\nThe length property is 15, so your for loop is running until it looks for at item at index 15.</p>\n\n<p>When in doubt on these things, run a console.log(i) statement inside your loop and you'll see the indices of everything it is returning.</p>\n\n<p>Hope that helps :-)</p>\n"}, {"tags": [], "owner": {"reputation": 20825, "user_id": 892629, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fe7fca180a7f092bcbf8236611b81029?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/892629/david"}, "is_accepted": true, "score": 0, "last_activity_date": 1532560166, "creation_date": 1532560166, "answer_id": 51528874, "question_id": 51528765, "link": "https://stackoverflow.com/questions/51528765/javascript-for-loop-iterates-too-many-times-through-array/51528874#51528874", "title": "JavaScript for loop iterates too many times through array", "body": "<p>You actually have 16 maps coming through from the API. The problem is that you're skipping the first one when you set the details of each card.</p>\n\n<pre><code>changeProvinceDetails(jsonData[clan_id], i + 1);\n</code></pre>\n\n<p>That <code>i+1</code> there skips the first index. You can compensate for this by subtracting one when you get the info from the json.</p>\n\n<pre><code>function changeProvinceDetails(json, i) {\n  changeProvinceName(json[i-1].province_name, i);\n  changeProvinceIncome(json[i-1].daily_revenue, i);\n  changeProvinceTier(json[i-1].max_vehicle_level, i);\n  changeProvinceTime(json[i-1].prime_time, i);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 20825, "user_id": 892629, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fe7fca180a7f092bcbf8236611b81029?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/892629/david"}, "edited": false, "score": 0, "creation_date": 1532560348, "post_id": 51528880, "comment_id": 90026168, "body": "There are 16 provinces though. Notice how &quot;Milan&quot; is present in the JSON as the first element, but &quot;Gap&quot; is the first card on your page."}], "tags": [], "owner": {"reputation": 163, "user_id": 8048877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c56e0591161516569ca70f95b1ea2859?s=128&d=identicon&r=PG&f=1", "display_name": "Ironlors", "link": "https://stackoverflow.com/users/8048877/ironlors"}, "is_accepted": false, "score": 0, "last_activity_date": 1532560585, "last_edit_date": 1532560585, "creation_date": 1532560246, "answer_id": 51528880, "question_id": 51528765, "link": "https://stackoverflow.com/questions/51528765/javascript-for-loop-iterates-too-many-times-through-array/51528880#51528880", "title": "JavaScript for loop iterates too many times through array", "body": "<p>Fixed:</p>\n\n<pre><code>function loopProvince(provinces, jsonData) {\n  for (i = 0; i &lt; provinces.length; i++) {\n    createCard(i);\n    getMaps(jsonData[clan_id][i].arena_id, i+1);\n    changeProvinceDetails(jsonData[clan_id], i+1);\n  }\n}\n</code></pre>\n\n<p>and  </p>\n\n<pre><code>function changeProvinceDetails(json, i) {\n  changeProvinceName(json[i-1].province_name, i);\n  changeProvinceIncome(json[i-1].daily_revenue, i);\n  changeProvinceTier(json[i-1].max_vehicle_level, i);\n  changeProvinceTime(json[i-1].prime_time, i);\n}\n</code></pre>\n\n<p>solves the Problem.\nI was using i+1 for the province details but not for the getMaps.\nI should have used the <a href=\"https://en.wikipedia.org/wiki/Rubber_duck_debugging\" rel=\"nofollow noreferrer\">rubber duck method</a>.\nStill thank you everyone.</p>\n"}], "owner": {"reputation": 163, "user_id": 8048877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c56e0591161516569ca70f95b1ea2859?s=128&d=identicon&r=PG&f=1", "display_name": "Ironlors", "link": "https://stackoverflow.com/users/8048877/ironlors"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 51528874, "answer_count": 4, "score": 0, "last_activity_date": 1532561282, "creation_date": 1532559386, "last_edit_date": 1532561282, "question_id": 51528765, "link": "https://stackoverflow.com/questions/51528765/javascript-for-loop-iterates-too-many-times-through-array", "title": "JavaScript for loop iterates too many times through array", "body": "<p>I continued my project from my <a href=\"https://stackoverflow.com/questions/51468356/execution-order-within-js-script\">last question</a>.<br>\nRight now it nearly does everything the way I want it to.</p>\n\n<p>The basic function of this website is to iterate through the World Of Tanks API in order to create cards showing the provinces our clan owns.</p>\n\n<p>Therefore I am using the following for loop in order to create the cards.</p>\n\n<pre><code>function loopProvince(provinces, jsonData) {\n  for (i = 0; i &lt; provinces.length; i++) {\n    createCard(i);\n    getMaps(jsonData[clan_id][i].arena_id, i);\n    changeProvinceDetails(jsonData[clan_id], i + 1);\n  }\n}\n</code></pre>\n\n<p>The problem here is that if we own 15 provinces (so the script should produce 15 cards) it instead creates 15 filled cards and an empty 16th one.<br>\nI was wondering how I could either remove the 16th card or stop it from being created at all.</p>\n\n<p>The full code is:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//var clan_id = 500071433;\r\nvar clan_id = 500025989; // FAME\r\n\r\n// Get province ID\r\n//TODO: ein Feld zu viel --&gt; Entfernen\r\nvar province_list = \"https://api.worldoftanks.eu/wot/globalmap/clanprovinces/?application_id=bbdd3a54ffe280ff581db61299acab9c&amp;clan_id=\" + clan_id + \"&amp;fields=province_name%2C+province_id%2C+arena_id%2C+clan_id%2C+daily_revenue%2C+max_vehicle_level%2C+prime_time%2C+front_id\";\r\n// Get JSON Data\r\n\r\n\r\n\r\nfetch(province_list)\r\n  .then(res =&gt; res.json())\r\n  .then((out) =&gt; {\r\n    loopProvince(out.data[clan_id], out.data);\r\n\r\n  })\r\n  .catch(err =&gt; {\r\n    throw err\r\n  });\r\n\r\n\r\n\r\nfunction loopProvince(provinces, jsonData) {\r\n  for (i = 0; i &lt; provinces.length; i++) {\r\n    createCard(i);\r\n    getMaps(jsonData[clan_id][i].arena_id, i);\r\n    changeProvinceDetails(jsonData[clan_id], i + 1);\r\n  }\r\n}\r\n\r\nfunction createCard(i) {\r\n  var card = `\r\n  &lt;div class=\"province\" id=\"province` + (i + 1) + `\"&gt;\r\n    &lt;div class=\"province_title\" id=\"province_name` + (i + 1) + `\"&gt;\r\n      &lt;h2&gt;Provinz ` + (i + 1) + `&lt;/h2&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"province_information\"&gt;\r\n      &lt;div class=\"map_name\" id=\"province_map` + (i + 1) + `\"&gt;\r\n        &lt;p&gt;Map Name&lt;/p&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=\"details\"&gt;\r\n        &lt;div class=\"time\" id=\"province_time` + (i + 1) + `\"&gt;\r\n          &lt;p&gt;Prime Time: XX:XX Uhr&lt;/p&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"tier\" id=\"province_tier` + (i + 1) + `\"&gt;\r\n          &lt;p&gt;Stufe: X&lt;/p&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"income\" id=\"province_income` + (i + 1) + `\"&gt;\r\n          &lt;p&gt;Einkommen: X/Tag&lt;/p&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;  &lt;!-- details --&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  `;\r\n\r\n  document.getElementById('contentid').innerHTML += card;\r\n}\r\n\r\nfunction getMaps(arena_id, i) {\r\n  fetch('./data/maps.json')\r\n    .then((res) =&gt; res.json())\r\n    .then((jsonMap) =&gt; {\r\n      changeProvinceMap(jsonMap.data[arena_id].name_i18n, jsonMap.data[arena_id].minimap_location, i);\r\n    })\r\n}\r\n\r\n// start changing information\r\n\r\nfunction changeProvinceDetails(json, i) {\r\n  changeProvinceName(json[i].province_name, i);\r\n  changeProvinceIncome(json[i].daily_revenue, i);\r\n  changeProvinceTier(json[i].max_vehicle_level, i);\r\n  changeProvinceTime(json[i].prime_time, i);\r\n}\r\n\r\nfunction changeProvinceName(province_name, i) {\r\n  document.getElementById(\"province_name\" + i).innerHTML = \"&lt;h2&gt;\" + province_name + \"&lt;/h2&gt;\";\r\n}\r\n\r\nfunction changeProvinceMap(province_map, province_minimap, i) {\r\n  document.getElementById(\"province_map\" + i).innerHTML = \"&lt;p&gt;\" + province_map + \"&lt;/p&gt;\";\r\n  document.getElementById(\"province_map\" + i).setAttribute(\"style\", \"background:url(\" + province_minimap + \"); background-size:cover; background-position:center;\");\r\n}\r\n\r\nfunction changeProvinceIncome(province_income, i) {\r\n  document.getElementById(\"province_income\" + i).innerHTML = \"&lt;p&gt;Einkommen: \" + province_income + \" / Tag &lt;/p&gt;\";\r\n}\r\n\r\nfunction changeProvinceTier(province_tier, i) {\r\n  document.getElementById(\"province_tier\" + i).innerHTML = \"&lt;p&gt;Stufe: \" + province_tier + \"&lt;/p&gt;\";\r\n}\r\n\r\nfunction changeProvinceTime(province_prime_time, i) {\r\n  document.getElementById(\"province_time\" + i).innerHTML = \"&lt;p&gt;Prime Time: \" + province_prime_time + \" Uhr&lt;/p&gt;\";\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  background: #EBEBEB;\r\n  font-family: sans-serif;\r\n  color: #343434;\r\n}\r\n\r\n.container {\r\n  display: grid;\r\n  grid-template-rows: auto 1fr auto;\r\n  grid-template-areas: \"head\" \"information\" \"copyright\";\r\n  height: 100vh;\r\n  grid-gap: 50px;\r\n}\r\n\r\nheader {\r\n  display: grid;\r\n  background: #343434;\r\n  border-bottom: #ACACAC 5px solid;\r\n}\r\n\r\n#title {\r\n  grid-area: head;\r\n  padding: 20px;\r\n  font-size: 20px;\r\n  text-transform: uppercase;\r\n  font-weight: bold;\r\n  color: #ffffff;\r\n}\r\n\r\n.content {\r\n  grid-area: information;\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(600px, 1fr));\r\n  grid-gap: 20px;\r\n  align-items: start;\r\n}\r\n\r\n.province {\r\n  background: #ACACAC;\r\n  display: grid;\r\n  grid-template-rows: auto 300px;\r\n}\r\n\r\n.province_title {\r\n  display: grid;\r\n  align-items: center;\r\n  justify-items: center;\r\n  background: #343434;\r\n  color: #ffffff;\r\n}\r\n\r\n.province_information {\r\n  height: minmax(200px, auto);\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  grid-template-areas: \"map details\";\r\n}\r\n\r\n.province_information p {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.province_information .map_name {\r\n  grid-area: map;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  text-transform: uppercase;\r\n  font-weight: bold;\r\n  color: #343434;\r\n  background: white;\r\n  background-position: center;\r\n  background-size: cover;\r\n}\r\n\r\n.province_information .map_name&gt;p {\r\n  background: #ffffff;\r\n  padding: 5px;\r\n}\r\n\r\n.province_information .details {\r\n  grid-area: details;\r\n  padding: 10px;\r\n  padding-right: 0;\r\n  display: grid;\r\n  grid-gap: 5px;\r\n  align-items: center;\r\n}\r\n\r\n.province_information .details .time {\r\n  font-weight: bold;\r\n  text-align: center;\r\n  font-size: 20px;\r\n}\r\n\r\nfooter {\r\n  padding: 10px;\r\n  gird-area: copyright;\r\n  background: #343434;\r\n  border-top: #ACACAC 3px solid;\r\n  color: #ffffff;\r\n}\r\n\r\n\r\n/*\r\n          __  __          _ _\r\n    ____ |  \\/  |        | (_)\r\n   / __ \\| \\  / | ___  __| |_  __ _\r\n  / / _` | |\\/| |/ _ \\/ _` | |/ _` |\r\n | | (_| | |  | |  __/ (_| | | (_| |\r\n  \\ \\__,_|_|  |_|\\___|\\__,_|_|\\__,_|\r\n   \\____/\r\n  */\r\n\r\n@media (max-width: 600px) {\r\n  .container {\r\n    grid-gap: 20px;\r\n  }\r\n  .content {\r\n    grid-area: information;\r\n    display: grid;\r\n    grid-template-columns: minmax(70%, 1fr);\r\n    grid-gap: 20px;\r\n    align-items: start;\r\n    justify-items: stretch;\r\n  }\r\n  .province_information {\r\n    height: minmax(200px, auto);\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    grid-template-row: 1fr 1fr;\r\n    grid-template-areas: \"map\" \"details\";\r\n  }\r\n  #title {\r\n    text-align: center;\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n\r\n&lt;head&gt;\r\n  &lt;meta charset=\"UTF-8\"&gt;\r\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\r\n  &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt;\r\n  &lt;title&gt;WOT Clan Wars Dashboard&lt;/title&gt;\r\n  &lt;link rel=\"stylesheet\" href=\"css/style.css\"&gt;\r\n  &lt;script type=\"text/javascript\" src=\"javascript/main.js\"&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;div class=\"container\"&gt;\r\n    &lt;header \"head\"&gt;\r\n      &lt;div id=\"title\"&gt;\r\n        &lt;h1&gt;Clan Wars Dashboard&lt;/h1&gt;\r\n      &lt;/div&gt;\r\n    &lt;/header&gt;\r\n    &lt;div class=\"content\" id=\"contentid\"&gt;\r\n      &lt;!-- generated by JavaScript --&gt;\r\n    &lt;/div&gt;\r\n    &lt;!-- content --&gt;\r\n\r\n    &lt;footer&gt;\r\n      Copyright &amp;copy; 2018 Kay Kleinvogel\r\n    &lt;/footer&gt;\r\n  &lt;/div&gt;\r\n\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The background pictures don't work here since they are saved locally.<br>\nFor all the files including the maps.json and the images just have a look at the <a href=\"https://github.com/Ironlors/WOT-CW-Dashboard/tree/development\" rel=\"nofollow noreferrer\">Github page</a>.</p>\n\n<p>I am sorry if the code is messy since this is my 1st web project bigger than the basic tutorials.</p>\n\n<p>Thanks for helping out :)</p>\n"}, {"tags": ["javascript", "arrays", "loops"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10135754, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EztBKXQguNc/AAAAAAAAAAI/AAAAAAAAAAc/QUfzGjFw6t8/photo.jpg?sz=128", "display_name": "Bruno De Angelis", "link": "https://stackoverflow.com/users/10135754/bruno-de-angelis"}, "edited": false, "score": 0, "creation_date": 1532564506, "post_id": 51529288, "comment_id": 90026962, "body": "This is a really good step forward. However, when comparing to my code, it returns the same in the following example:  Random Array: 81885 User Array: 85111  Returns: 1 good, 4 regular. Even though it really is 1 good 2 regular and 2 bad, since there are two extra ones in the user input. That is really the problem, being able to differentiate between repeated &quot;extra&quot; characters. It&#39;s giving me a headache. I didn&#39;t know about &quot;forEach&quot; in JavaScript. Thank you! I&#39;ll keep researching to see if I can find a solution."}], "tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": false, "score": 0, "last_activity_date": 1532563694, "creation_date": 1532563694, "answer_id": 51529288, "question_id": 51528762, "link": "https://stackoverflow.com/questions/51528762/find-duplicates-in-array-javascript/51529288#51529288", "title": "Find duplicates in array JavaScript", "body": "<p>Rather than <code>indexOf</code> comparisons against <code>-1</code> and checks of <code>myArray[x]</code>, it would probably be a lot easier to use <code>includes</code> and array methods such as <code>forEach</code> for better abstraction. All you really need is an <code>if</code>, an <code>else if</code>, and an <code>else</code>. For example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function checkNumbers(randomArray, userArray, good=0, regular=0, bad=0) {\r\n  userArray.forEach((guess, i) =&gt; {\r\n    if (guess === randomArray[i]) good++;\r\n    else if (randomArray.includes(guess)) regular++;\r\n    else bad++;\r\n  });\r\n  return { good, regular, bad };\r\n}\r\n\r\n\r\n\r\n// 4 good\r\nconsole.log(checkNumbers(\r\n  '1234'.split(''),\r\n  '1234'.split(''),\r\n));\r\n// 4 good, 2 bad\r\nconsole.log(checkNumbers(\r\n  '1234'.split(''),\r\n  '123456'.split(''),\r\n));\r\n// 4 good, 2 regular\r\nconsole.log(checkNumbers(\r\n  '1234'.split(''),\r\n  '123412'.split(''),\r\n));\r\n// all regular:\r\nconsole.log(checkNumbers(\r\n  '123456789123456789'.split(''),\r\n  '912345678912345678'.split(''),\r\n));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 10135754, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EztBKXQguNc/AAAAAAAAAAI/AAAAAAAAAAc/QUfzGjFw6t8/photo.jpg?sz=128", "display_name": "Bruno De Angelis", "link": "https://stackoverflow.com/users/10135754/bruno-de-angelis"}, "edited": false, "score": 0, "creation_date": 1532568638, "post_id": 51529584, "comment_id": 90027695, "body": "It&#39;s getting a bit hard for me to understand the code... However, when trying the example given to CertainPerformance (random [8, 1, 8, 8, 5] user [8, 5, 1, 1, 1]) the function somehow returns 1 good 1 regular and 0 bad. Also, the striked numbers become the first two of the random arr ([x, x, 8, 8, 5]). Why is this the result? Thank you very much!"}, {"owner": {"reputation": 4071, "user_id": 3808826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ES3hJ.jpg?s=128&g=1", "display_name": "D. Seah", "link": "https://stackoverflow.com/users/3808826/d-seah"}, "reply_to_user": {"reputation": 21, "user_id": 10135754, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EztBKXQguNc/AAAAAAAAAAI/AAAAAAAAAAc/QUfzGjFw6t8/photo.jpg?sz=128", "display_name": "Bruno De Angelis", "link": "https://stackoverflow.com/users/10135754/bruno-de-angelis"}, "edited": false, "score": 0, "creation_date": 1532572995, "post_id": 51529584, "comment_id": 90028593, "body": "sorry, this is a bug in may code :-( I have updated my answer"}, {"owner": {"reputation": 21, "user_id": 10135754, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EztBKXQguNc/AAAAAAAAAAI/AAAAAAAAAAc/QUfzGjFw6t8/photo.jpg?sz=128", "display_name": "Bruno De Angelis", "link": "https://stackoverflow.com/users/10135754/bruno-de-angelis"}, "edited": false, "score": 0, "creation_date": 1532573767, "post_id": 51529584, "comment_id": 90028732, "body": "Now, given the example in my first comment (the one with 5 digits), it is returning 1 good, 0 bad, 2 regular. Something similar happens with the examples you gave before: [4, 1, 1, 4] and [1, 4, 1, 1] is returning 1 good, 0 bad, 2 regular as well. I don&#39;t really know the cause... Also somehow the bad ones are not being recorded, when they should, because every extra number that is repeated should be a &quot;bad&quot; number. Thank you beforehand!"}, {"owner": {"reputation": 4071, "user_id": 3808826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ES3hJ.jpg?s=128&g=1", "display_name": "D. Seah", "link": "https://stackoverflow.com/users/3808826/d-seah"}, "reply_to_user": {"reputation": 21, "user_id": 10135754, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EztBKXQguNc/AAAAAAAAAAI/AAAAAAAAAAc/QUfzGjFw6t8/photo.jpg?sz=128", "display_name": "Bruno De Angelis", "link": "https://stackoverflow.com/users/10135754/bruno-de-angelis"}, "edited": false, "score": 0, "creation_date": 1532576293, "post_id": 51529584, "comment_id": 90029173, "body": "sorry maybe I have misunderstood the logic. with [4, 1, 1, 4] and user = [1, 4, 1, 1], we have 1 good user [x,x,1,x] and 2 regular [1, 4, x, x]"}, {"owner": {"reputation": 21, "user_id": 10135754, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EztBKXQguNc/AAAAAAAAAAI/AAAAAAAAAAc/QUfzGjFw6t8/photo.jpg?sz=128", "display_name": "Bruno De Angelis", "link": "https://stackoverflow.com/users/10135754/bruno-de-angelis"}, "edited": false, "score": 0, "creation_date": 1532578212, "post_id": 51529584, "comment_id": 90029528, "body": "Ok so it seems that I haven&#39;t explained myself correctly, or maybe I&#39;m not understanding what you mean haha. Have you tried playing the game? Even though it&#39;s in Spanish, maybe you get the idea. www.juegodescifralo.com"}], "tags": [], "owner": {"reputation": 4071, "user_id": 3808826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ES3hJ.jpg?s=128&g=1", "display_name": "D. Seah", "link": "https://stackoverflow.com/users/3808826/d-seah"}, "is_accepted": false, "score": 0, "last_activity_date": 1532572969, "last_edit_date": 1532572969, "creation_date": 1532566939, "answer_id": 51529584, "question_id": 51528762, "link": "https://stackoverflow.com/questions/51528762/find-duplicates-in-array-javascript/51529584#51529584", "title": "Find duplicates in array JavaScript", "body": "<p>i think it is easier to loop thru it twice like this</p>\n\n<pre><code>function checkNumbers(randomArray, guessArray) {\n  var clone = randomArray.slice(0);\n  var good = 0;\n  var regular = 0;\n  var bad  = 0;\n  var visited = [];\n\n  guessArray.forEach(function(guess, index) {\n    if (guess === clone[index]) { // the guess is in right position\n      good++;\n      clone[index] = \"x\"; // strike it out so it cannot be used later\n      visited.push(index);\n    } else if (clone.indexOf(guess) === -1) {\n      bad++;\n      visited.push(index);\n    }\n  });\n  guessArray.forEach(function(guess, index) {\n    if (!visited.includes(index)) {\n      var match = clone.indexOf(guess);\n      if (match !== -1) {\n        regular++;\n        clone[match] = \"x\"; // strike it out so it cannot be used later\n      }\n    }\n  });\n\n  return {\n    good: good,\n    bad: bad,\n    regular: regular\n  }\n}\n</code></pre>\n\n<p>first loop is to check the good and bad. and strikeout the value it is good so it cannot be used again.</p>\n\n<p>second loop to check for the regular and strikeout the value it is used so it cannot be used again.</p>\n"}, {"comments": [{"owner": {"reputation": 1046, "user_id": 857427, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6LEqw.jpg?s=128&g=1", "display_name": "Aozi", "link": "https://stackoverflow.com/users/857427/aozi"}, "edited": false, "score": 0, "creation_date": 1533051707, "post_id": 51617238, "comment_id": 90200016, "body": "Would you please add some explanation about what you have changed and what was the problem?"}], "tags": [], "owner": {"reputation": 1, "user_id": 5228901, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0Hb0U6mKkrg/AAAAAAAAAAI/AAAAAAAACcY/oedCHpW0ib4/photo.jpg?sz=128", "display_name": "Pablo Nicol&#225;s Petr&#225;n", "link": "https://stackoverflow.com/users/5228901/pablo-nicol%c3%a1s-petr%c3%a1n"}, "is_accepted": false, "score": 0, "last_activity_date": 1533051638, "creation_date": 1533051638, "answer_id": 51617238, "question_id": 51528762, "link": "https://stackoverflow.com/questions/51528762/find-duplicates-in-array-javascript/51617238#51617238", "title": "Find duplicates in array JavaScript", "body": "<p>This should work.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function guessNumber (numUser, numRandom) {\r\n    if (typeof numUser == 'number') {\r\n        numUser = numUser.toString().split('');\r\n    }\r\n    if (typeof numRandom == 'number') {\r\n        numRandom = numRandom.toString().split('');\r\n    }\r\n \r\n    if (typeof numRandom != 'object' || typeof numUser != 'object') {\r\n        return false;\r\n    }\r\n \r\n    if (numRandom == numUser) {\r\n        return true;\r\n    }\r\n \r\n    var numRegular = {},\r\n        numBuenos = {},\r\n        numMalos = {},\r\n    numRepeat = {};\r\n \r\n \r\n    for(var i  = 0; i &lt; numRandom.length; i++) {\r\n      if (!numRepeat[numRandom[i]]) {\r\n        numRepeat[numRandom[i]] = 0;\r\n    }\r\n      numRegular[numRandom[i]] = 0;\r\n      numRepeat[numRandom[i]]++;\r\n  }\r\n \r\n \r\n    for (var i  = 0; i &lt; numUser.length; i++) {\r\n        if (numUser[i] == numRandom[i]) {\r\n            numBuenos[numUser[i]] = numUser[i];\r\n        }else if ($.inArray(numUser[i], numRandom)) {\r\n      if (!numRegular[numUser[i]]) {\r\n        numRegular[numUser[i]] = 0;\r\n      }\r\n      if (numRegular[numUser[i]] &lt; numRepeat[numUser[i]]) {\r\n          numRegular[numUser[i]]++;\r\n      } else {\r\n                numMalos[numUser[i]] = numUser[i];\r\n      }\r\n        } else {\r\n            numMalos[numUser[i]] = numUser[i];\r\n        }\r\n    }\r\n \r\n \r\n    return {\r\n        regular: Object.values(numRegular).reduce((a, b) =&gt; a + b),\r\n        buenos: Object.keys(numBuenos).length,\r\n        malos: Object.keys(numMalos).length\r\n    };\r\n \r\n}\r\n \r\nconsole.log(guessNumber(8365, 8512));</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 21, "user_id": 10135754, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EztBKXQguNc/AAAAAAAAAAI/AAAAAAAAAAc/QUfzGjFw6t8/photo.jpg?sz=128", "display_name": "Bruno De Angelis", "link": "https://stackoverflow.com/users/10135754/bruno-de-angelis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1533051638, "creation_date": 1532559361, "last_edit_date": 1532560394, "question_id": 51528762, "link": "https://stackoverflow.com/questions/51528762/find-duplicates-in-array-javascript", "title": "Find duplicates in array JavaScript", "body": "<p>So I'm working on a simple JavaScript web-based game. The goal is to guess a X digit random number. This means the random number can be 4, 5 digits up to whatever you want. You can actually play the game at www.juegodescifralo.com , (it's in Spanish, sorry about that).</p>\n\n<p>The user inputs a number that is stored as an array. The random number is also generated as an array. Individual numbers in both arrays can be repeated.</p>\n\n<p>There are three types of possible \"values/numbers\": the \"good\" ones are the numbers you chose that are in the same position as the ones in the random array. So for example:</p>\n\n<p>Random array is: 14<strong>5</strong>7</p>\n\n<p>User input is: 68<strong>5</strong>1</p>\n\n<p>Number 5 is a \"good\" number, since it's in the same position. Then there are the second type of \"values\", which are \"regular\". This means they are inside the random number but not in the same position. In this example, number 1 would be a \"regular\" value. And the third type is the \"bad\" ones, which are not even inside the random array.</p>\n\n<p>The function I've developed is as follows:</p>\n\n<pre><code>function checkNumbers(randomArray, myArray, good, regular, bad) {\n    for (var x = 0; x &lt; randomArray.length; x++) {\n        var posRepetido = randomArray.indexOf(myArray[x]); //Is current number inside random array?\n\n        if (posRepetido == -1) { //It's not inside\n            console.log(\"number \" + myArray[x] + \"is not inside\");\n            bad++;\n\n        } else { //It's inside\n\n            regular++;\n\n            if (myArray[x] == randomArray[x]) { //If it's the same number...\n                console.log(\"number \" + myArray[x] + \"is in the correct position\");\n\n                good++;\n                regular--;\n            } else { //If it's not the same number\n\n                if (randomArray[posRepetido] != myArray[posRepetido]) {\n                    console.log(\"number \" + myArray[x] + \"is inside but not in the same position\");\n\n                } else {\n                    console.log(\"number \" + myArray[x] + \"is not inside\");\n\n                }\n            }\n        }\n    }\n\n    var obj = { //Return object for accessing later, to show feedback to the user.\n        good: good,\n        regular: regular,\n        bad: bad\n    };\n\n    return obj;\n}\n</code></pre>\n\n<p>The code is a bit buggy. When there are duplicates in the random array, and one of them is marked as good, then the other one (even if it exists in user input) will be set as bad, not as regular as it should.</p>\n\n<p>The thing becomes even more complicated since you should be able to play against any amount of digits. So I should be able to guess a 20 digit number without \"problems\".</p>\n\n<p>You can play by yourself at www.juegodescifralo.com</p>\n\n<p>How can I go about this? Any ideas how can I access array data more easily? Thank you very much!</p>\n"}, {"tags": ["javascript", "html", "anchor", "developer-tools", "execcommand"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 8895983, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LsCaKWjkcZM/AAAAAAAAAAI/AAAAAAAAABs/XeTRK3WI1bo/photo.jpg?sz=128", "display_name": "Ali Raza", "link": "https://stackoverflow.com/users/8895983/ali-raza"}, "edited": false, "score": 0, "creation_date": 1532572864, "post_id": 51529629, "comment_id": 90028557, "body": "What if I want to click the button automatically?"}, {"owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "reply_to_user": {"reputation": 21, "user_id": 8895983, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LsCaKWjkcZM/AAAAAAAAAAI/AAAAAAAAABs/XeTRK3WI1bo/photo.jpg?sz=128", "display_name": "Ali Raza", "link": "https://stackoverflow.com/users/8895983/ali-raza"}, "edited": false, "score": 0, "creation_date": 1532573238, "post_id": 51529629, "comment_id": 90028649, "body": "I don&#39;t believe that will work - from past experience I have found reliable clip board interaction from js requires invocation to genuinely be from the user (ie  not emulating user interaction )"}, {"owner": {"reputation": 21, "user_id": 8895983, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LsCaKWjkcZM/AAAAAAAAAAI/AAAAAAAAABs/XeTRK3WI1bo/photo.jpg?sz=128", "display_name": "Ali Raza", "link": "https://stackoverflow.com/users/8895983/ali-raza"}, "edited": false, "score": 0, "creation_date": 1532574905, "post_id": 51529629, "comment_id": 90028936, "body": "Basically I&#39;m trying to create a chrome extension, so should I add two button saying copy to clipboard and download? What do you think will this script work in chrome extension?"}, {"owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "reply_to_user": {"reputation": 21, "user_id": 8895983, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LsCaKWjkcZM/AAAAAAAAAAI/AAAAAAAAABs/XeTRK3WI1bo/photo.jpg?sz=128", "display_name": "Ali Raza", "link": "https://stackoverflow.com/users/8895983/ali-raza"}, "edited": false, "score": 0, "creation_date": 1532575353, "post_id": 51529629, "comment_id": 90029008, "body": "Yes I would recommend you add a button for the user to click, in order to copy your link data to the clipboard. That would be the most reliable way of achieving this - it should work in the context of your chrome extension"}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 21, "user_id": 8895983, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LsCaKWjkcZM/AAAAAAAAAAI/AAAAAAAAABs/XeTRK3WI1bo/photo.jpg?sz=128", "display_name": "Ali Raza", "link": "https://stackoverflow.com/users/8895983/ali-raza"}, "edited": false, "score": 1, "creation_date": 1532576587, "post_id": 51529629, "comment_id": 90029237, "body": "@AliRaza If you are writing a chrome extension, why didn&#39;t you say so in the question? That is an <b>important</b> information as you have access to far more powerful APIs than untrusted web APIs. For instance, to write to the clipboard, you have a permission field called <code>clipboardRead</code>. With this permission set, you won&#39;t face the user-gesture restriction. An other way from an extension would be to send the data to your background script and from there execute the copy to clipboard as <a href=\"https://stackoverflow.com/a/25627634/3702797\">shown here</a>."}, {"owner": {"reputation": 21, "user_id": 8895983, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LsCaKWjkcZM/AAAAAAAAAAI/AAAAAAAAABs/XeTRK3WI1bo/photo.jpg?sz=128", "display_name": "Ali Raza", "link": "https://stackoverflow.com/users/8895983/ali-raza"}, "reply_to_user": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1532578782, "post_id": 51529629, "comment_id": 90029672, "body": "@Kaiido I&#39;m totally a beginner. Don&#39;t know anything much about chrome extensions so that&#39;s why I didn&#39;t mention it. Firstly I just wanted this script to be working without extension. You are always welcome to tell me how can I make the desired extension? or you can give me any link to look at."}, {"owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "reply_to_user": {"reputation": 21, "user_id": 8895983, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LsCaKWjkcZM/AAAAAAAAAAI/AAAAAAAAABs/XeTRK3WI1bo/photo.jpg?sz=128", "display_name": "Ali Raza", "link": "https://stackoverflow.com/users/8895983/ali-raza"}, "edited": false, "score": 0, "creation_date": 1532579418, "post_id": 51529629, "comment_id": 90029854, "body": "@AliRaza if the answer has addressed the original question consider marking it as accepted, and then perhaps ask a new question that is more specific to your problem"}], "tags": [], "owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "is_accepted": false, "score": 2, "last_activity_date": 1532567379, "creation_date": 1532567379, "answer_id": 51529629, "question_id": 51528733, "link": "https://stackoverflow.com/questions/51528733/document-execcommand-works-only-in-developer-tools/51529629#51529629", "title": "Document.execCommand() works only in developer tools", "body": "<p>Something to be aware of is that <code>execCommand('copy')</code> only reliably works in the context of a <strong>user invoked</strong> action. In other words, if you want to copy data to the clipboard, this should be done as a side effect of a user say, clicking a button.</p>\n\n<p>You could for instance, revise your script as follows - bringing the call to <code>execCommand()</code> inside of a click event handler, to achieve the required copy to clipboard behaviour:</p>\n\n<pre><code>var\nbody = document.querySelector(\"body\"),\ninput = document.createElement(\"textarea\"),\na = document.getElementsByTagName(\"a\"),\nanchor = document.createElement(\"a\");\n\ninput.setAttribute(\"readonly\", \"\");\n\n// Added a copy button for the purpose of this demonstration\nvar copyButton = document.createElement(\"button\")\ncopyButton.innerText = 'Copy'\n\n// The event in which the copy to clip board will occour\ncopyButton.addEventListener('click', () =&gt; {\n\n    // This code is in the context of a user 'click' action \n    var list = []\n    for (let i = 0; i &lt; a.length; i++){\n        list.push(a[i]);\n    };\n    list = list.join(\"\\r\\n\");\n\n    body.appendChild(input);\n    input.value = list;\n    input.focus();\n    input.select();\n\n    // exec copy command is now being called in the context of \n    // a user invoked interaction (ie click), so it should work\n    // as expected\n    if(document.execCommand('copy')) {\n        console.log('copy success')\n    }\n    else {\n        console.log('copy failed')\n    }\n    body.removeChild(input);\n})\n\nbody.appendChild(copyButton);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32729, "user_id": 9513184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de818fcfdfb2bbaf9c67cf7f1d611db8?s=128&d=identicon&r=PG&f=1", "display_name": "iota", "link": "https://stackoverflow.com/users/9513184/iota"}, "is_accepted": false, "score": 0, "last_activity_date": 1532574547, "creation_date": 1532574547, "answer_id": 51530430, "question_id": 51528733, "link": "https://stackoverflow.com/questions/51528733/document-execcommand-works-only-in-developer-tools/51530430#51530430", "title": "Document.execCommand() works only in developer tools", "body": "<p>You can execute your copy function with Javascript when the user clicks on the window. Copying to clipboard needs to be triggered by an action of the user i.e a click. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;a href=\"http://ali.com\"&gt;sample link&lt;/a&gt;\r\n&lt;script&gt;\r\nvar copied = false\r\nwindow.onclick = function(e){\r\n  if(!copied){\r\n   copy();\r\n   copied = true;\r\n   e.target.focus();//focus back on target of click to prevent constant blurring of first click\r\n   }\r\n}\r\nfunction copy(){\r\n\t var\r\nbody = document.body,\r\ninput = document.createElement(\"textarea\"),\r\na = document.getElementsByTagName(\"a\"),\r\nlist = [],\r\nanchor = document.createElement(\"a\");\r\nfor (let i = 0; i &lt; a.length; i++){\r\n   list.push(a[i]);\r\n};\r\nlist = list.join(\"\\r\\n\");\r\ninput.value = list;\r\ninput.setAttribute(\"readonly\", \"true\");\r\ninput.style = \"position: absolute; left: -9999px;\";\r\ndocument.body.appendChild(input);\r\ninput.select();\r\ndocument.execCommand('copy');\r\ninput.remove();\r\n}\r\n&lt;/script&gt;\r\n&lt;button id=\"hidden\" onClick=\"copy()\" style=\"display: none;\"&gt;\r\n&lt;/button&gt;\r\n&lt;br/&gt;\r\n&lt;textarea placeholder=\"Paste the copied text\"&gt;&lt;/textarea&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 21, "user_id": 8895983, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LsCaKWjkcZM/AAAAAAAAAAI/AAAAAAAAABs/XeTRK3WI1bo/photo.jpg?sz=128", "display_name": "Ali Raza", "link": "https://stackoverflow.com/users/8895983/ali-raza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 769, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1532574547, "creation_date": 1532559095, "question_id": 51528733, "link": "https://stackoverflow.com/questions/51528733/document-execcommand-works-only-in-developer-tools", "title": "Document.execCommand() works only in developer tools", "body": "<p>I'm trying to copy all the links of a web page to clipboard. I'm trying to join all the anchor tags into a string, putting that string into a input field and then copying it by <code>document.execCommand(\"copy\")</code> but somehow <code>document.execCommand(\"copy\")</code> only works in browser developer tools. I want it to work in a script loaded in web page. Kindly Help me, Thanks in advance.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var\r\nbody = document.querySelector(\"body\"),\r\ninput = document.createElement(\"textarea\"),\r\na = document.getElementsByTagName(\"a\"),\r\nlist = [],\r\nanchor = document.createElement(\"a\");\r\nfor (let i = 0; i &lt; a.length; i++){\r\n    list.push(a[i]);\r\n};\r\nlist = list.join(\"\\r\\n\");\r\ninput.value = list;\r\ninput.setAttribute(\"readonly\", \"\");\r\ninput.style = \"position: absolute; left: -9999px;\";\r\nbody.appendChild(input);\r\ninput.select();\r\ndocument.execCommand('copy');\r\nbody.removeChild(input);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=\"UTF-8\"&gt;\r\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\r\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt;\r\n    &lt;title&gt;test&lt;/title&gt;\r\n    &lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;a href=\"http://ali.com\"&gt;sample link&lt;/a&gt;\r\n    &lt;script src=\"script.js\"&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery", "ckeditor"], "comments": [{"owner": {"reputation": 386, "user_id": 1375636, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6020b6df03881c408bfb04368891dcfa?s=128&d=identicon&r=PG", "display_name": "JamieMeyer", "link": "https://stackoverflow.com/users/1375636/jamiemeyer"}, "edited": false, "score": 0, "creation_date": 1532559631, "post_id": 51528709, "comment_id": 90026015, "body": "CTRL-F5 to flush the browser cache?"}, {"owner": {"reputation": 1498, "user_id": 886569, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7e8f68d3e062781b4ae5f8b5764c7b36?s=128&d=identicon&r=PG", "display_name": "codeNinja", "link": "https://stackoverflow.com/users/886569/codeninja"}, "reply_to_user": {"reputation": 386, "user_id": 1375636, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6020b6df03881c408bfb04368891dcfa?s=128&d=identicon&r=PG", "display_name": "JamieMeyer", "link": "https://stackoverflow.com/users/1375636/jamiemeyer"}, "edited": false, "score": 0, "creation_date": 1532559958, "post_id": 51528709, "comment_id": 90026091, "body": "yes did CTRL+F5 several times."}, {"owner": {"reputation": 3735, "user_id": 5329658, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QdCOg.jpg?s=128&g=1", "display_name": "Seva Kalashnikov", "link": "https://stackoverflow.com/users/5329658/seva-kalashnikov"}, "edited": false, "score": 0, "creation_date": 1532987441, "post_id": 51528709, "comment_id": 90171467, "body": "try to open config.js file in browser by typing its exact url and see if it has the updated code, if not refresh and then try to reload the page with ckeditor"}, {"owner": {"reputation": 63230, "user_id": 4281779, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a29d596b0af040d7def18d1801340a8b?s=128&d=identicon&r=PG", "display_name": "Zakaria Acharki", "link": "https://stackoverflow.com/users/4281779/zakaria-acharki"}, "edited": false, "score": 0, "creation_date": 1533572925, "post_id": 51528709, "comment_id": 90385300, "body": "Show us your initial config."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 2697087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cd7acb6f486d4198b85908b65463502?s=128&d=identicon&r=PG&f=1", "display_name": "Marcus Carey", "link": "https://stackoverflow.com/users/2697087/marcus-carey"}, "is_accepted": false, "score": 0, "last_activity_date": 1533428923, "creation_date": 1533428923, "answer_id": 51690559, "question_id": 51528709, "link": "https://stackoverflow.com/questions/51528709/editing-the-ckeditor-config-js-has-no-impact/51690559#51690559", "title": "Editing the ckeditor config.js has no impact", "body": "<p>I had this same problem and I had to delete the browser data.   In Chrome you can select a time range.  At first, I selected the last hour and this didn't work.  Then I selected all times and it did.   </p>\n"}, {"tags": [], "owner": {"reputation": 63230, "user_id": 4281779, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a29d596b0af040d7def18d1801340a8b?s=128&d=identicon&r=PG", "display_name": "Zakaria Acharki", "link": "https://stackoverflow.com/users/4281779/zakaria-acharki"}, "is_accepted": false, "score": 2, "last_activity_date": 1533578912, "creation_date": 1533578912, "answer_id": 51713369, "question_id": 51528709, "link": "https://stackoverflow.com/questions/51528709/editing-the-ckeditor-config-js-has-no-impact/51713369#51713369", "title": "Editing the ckeditor config.js has no impact", "body": "<p>There's a Github issue that was posted for this <a href=\"https://github.com/galetahub/ckeditor/pull/433\" rel=\"nofollow noreferrer\">https://github.com/galetahub/ckeditor/pull/433</a> (a long time ago).\nAlso, a discussion post about unreflected changes when using <code>CKEDITOR.editorConfig</code> here: <a href=\"https://ckeditor.com/old/forums/CKEditor-3.x/config.js-changes-not-reflected\" rel=\"nofollow noreferrer\">https://ckeditor.com/old/forums/CKEditor-3.x/config.js-changes-not-reflected</a></p>\n\n<p><strong>My suggestion:</strong></p>\n\n<p>Try to clear the cache after you change the config.\nCheck the \"console\" tab in your developpers inspector inside the browser to verify if there's is any errors.</p>\n\n<p>As an alternative you could use the <code>replace()</code> method after destroying the loaded instance inside the <code>instanceReady</code> event callback like :</p>\n\n<pre><code>CKEDITOR.instances.editor1.on(\"instanceReady\", function(event) {\n  CKEDITOR.instances.editor1.destroy(); \n  CKEDITOR.replace('editor1', {\n    toolbarGroups\n  });\n});\n</code></pre>\n\n<p><strong><a href=\"https://jsfiddle.net/z_acharki/8jscew96/48/\" rel=\"nofollow noreferrer\">Working demo fiddle</a>.</strong></p>\n"}], "owner": {"reputation": 1498, "user_id": 886569, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7e8f68d3e062781b4ae5f8b5764c7b36?s=128&d=identicon&r=PG", "display_name": "codeNinja", "link": "https://stackoverflow.com/users/886569/codeninja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 2, "answer_count": 2, "score": 7, "last_activity_date": 1533579747, "creation_date": 1532558947, "last_edit_date": 1533579747, "question_id": 51528709, "link": "https://stackoverflow.com/questions/51528709/editing-the-ckeditor-config-js-has-no-impact", "title": "Editing the ckeditor config.js has no impact", "body": "<p>I changed my CKeditor config.js file to include all the buttons possible to this:</p>\n\n<pre><code>CKEDITOR.editorConfig = function( config ) {\n    config.toolbarGroups = [\n        { name: 'document', groups: [ 'mode', 'document', 'doctools' ] },\n        { name: 'clipboard', groups: [ 'clipboard', 'undo' ] },\n        { name: 'editing', groups: [ 'find', 'selection', 'spellchecker', 'editing' ] },\n        { name: 'forms', groups: [ 'forms' ] },\n        '/',\n        { name: 'basicstyles', groups: [ 'basicstyles', 'cleanup' ] },\n        { name: 'paragraph', groups: [ 'list', 'indent', 'blocks', 'align', 'bidi', 'paragraph' ] },\n        { name: 'links', groups: [ 'links' ] },\n        { name: 'insert', groups: [ 'insert' ] },\n        '/',\n        { name: 'styles', groups: [ 'styles' ] },\n        { name: 'colors', groups: [ 'colors' ] },\n        { name: 'tools', groups: [ 'tools' ] },\n        { name: 'others', groups: [ 'others' ] },\n        { name: 'about', groups: [ 'about' ] }\n    ];\n};\n</code></pre>\n\n<p>This config was generated using the CKeditor <a href=\"https://ckeditor.com/latest/samples/toolbarconfigurator/index.html#basic\" rel=\"nofollow noreferrer\">config generator tool.</a></p>\n\n<p>After the change was deployed to my server and the page was refreshed using incognito mode in chrome none of the buttons changed.</p>\n\n<p>If I add this code directly in my <code>admin.master</code> then the new button does show. </p>\n\n<pre><code>&lt;script&gt;\n    jQuery(function() {\n        CKEDITOR.config.extraPlugins = 'justify';\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>Is it possible that I am not using the <code>config.js</code> at all?</p>\n"}, {"tags": ["javascript", "html", "flask", "bootstrap-4", "jinja2"], "comments": [{"owner": {"reputation": 238, "user_id": 6750598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LVG7d.jpg?s=128&g=1", "display_name": "trevdev", "link": "https://stackoverflow.com/users/6750598/trevdev"}, "edited": false, "score": 0, "creation_date": 1532563682, "post_id": 51528695, "comment_id": 90026812, "body": "What are you passing to the template in the way of docs? How are you passing it to the template? Is there a chance that list may be empty?"}, {"owner": {"reputation": 1, "user_id": 5879937, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153454874088107/picture?type=large", "display_name": "Josh Delacroix Valentine", "link": "https://stackoverflow.com/users/5879937/josh-delacroix-valentine"}, "reply_to_user": {"reputation": 238, "user_id": 6750598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LVG7d.jpg?s=128&g=1", "display_name": "trevdev", "link": "https://stackoverflow.com/users/6750598/trevdev"}, "edited": false, "score": 1, "creation_date": 1532624914, "post_id": 51528695, "comment_id": 90056180, "body": "Hi @trevdev so the problem was actually in a typo someplace within my database models. I thought I had thoroughly debugged, but rebuilding the data models solved the issue. I should delete this question, but I appreciate your inquery and response. Thank you."}], "owner": {"reputation": 1, "user_id": 5879937, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153454874088107/picture?type=large", "display_name": "Josh Delacroix Valentine", "link": "https://stackoverflow.com/users/5879937/josh-delacroix-valentine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1532558835, "creation_date": 1532558835, "question_id": 51528695, "link": "https://stackoverflow.com/questions/51528695/why-is-jinja-not-passing-content-into-bootstrap-tabs-beyond-initial-active-tab", "title": "Why is jinja not passing content into bootstrap tabs beyond initial active tab?", "body": "<p>Content within first active tab renders perfectly. However, subsequent tabs fail to  display jinja generated content in their panes. These panes display HTML, and will display content explicitly provided via Flask, but they are not generating content between jinja {% for x in xs %} blocks. Here is my code... What have I overlooked?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n\r\n&lt;head&gt;\r\n  &lt;meta charset=\"utf-8\"&gt;\r\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\" /&gt;\r\n\r\n  &lt;title&gt;r.io&lt;/title&gt;\r\n\r\n\r\n\r\n  &lt;!-- Bootstrap core CSS --&gt;\r\n  &lt;link href=\"{{ url_for('static', filename='css/bootstrap.css') }}\" rel=\"stylesheet\"&gt;\r\n  &lt;script src=\"{{ url_for('static', filename='js/jquery-3.3.1.min.js') }}\"&gt;&lt;/script&gt;\r\n\r\n&lt;/head&gt;\r\n{% block body %}\r\n&lt;header&gt;\r\n  &lt;nav class=\"navbar navbar-expand navbar-dark flex-column flex-md-row bd-navbar\"&gt;\r\n    &lt;div class=\"container\"&gt;\r\n      &lt;a class=\"navbar-brand\" href=\"{{url_for('cs.index')}}\"&gt;\r\n        &lt;img src=\"{{ url_for('static', filename = 'images/Logo_Header.png') }}\" class=\"d-inline-block align-top\" alt=\"r.io\"&gt; r.io\r\n      &lt;/a&gt;\r\n      &lt;ul class=\"navbar-nav flex-row ml-md-auto d-none d-md-flex\"&gt;\r\n        &lt;li class=\"nav-item dropdown\"&gt;\r\n          &lt;a class=\"nav-item nav-link dropdown-toggle mr-md-2\" href=\"{{ url_for('cs.index') }}\" data-toggle=\"dropdown\" aria-expanded=\"false\"&gt;\r\n            &lt;img src=\"{{ url_for('static', filename = 'images/active.png') }}\" alt=\"D\"&gt;\r\n          &lt;/a&gt;\r\n          &lt;div class=\"dropdown-menu dropdown-menu-right\"&gt;\r\n            &lt;a class=\"dropdown-item\" href=\"{{ url_for('cs.C', r_id=r_id) }}\"&gt;\r\n              &lt;img src=\"{{ url_for('static', filename = 'images/inactive.png') }}\" class=\"d-inline-block align-top\" alt=\"C\"&gt; C\r\n            &lt;/a&gt;\r\n          &lt;/div&gt;\r\n        &lt;/li&gt;\r\n      &lt;/ul&gt;\r\n    &lt;/div&gt;\r\n  &lt;/nav&gt;\r\n\r\n&lt;/header&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;div class=\"container\"&gt;\r\n    &lt;br&gt;\r\n    &lt;div class=\"row\"&gt;\r\n      &lt;div class=\"col-md-4\"&gt;\r\n        &lt;table&gt;\r\n          &lt;tr&gt;\r\n            &lt;td&gt;&lt;img src=\"{{ url_for('static', filename=logo)}}\" alt=\"BTC\" height=\"35px\" width=\"35px\"&gt; &amp;nbsp;&lt;/td&gt;\r\n            &lt;td&gt;\r\n              &lt;h1&gt;Bn&lt;/h1&gt;\r\n            &lt;/td&gt;\r\n          &lt;/tr&gt;\r\n        &lt;/table&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=\"col-md-8\"&gt;\r\n        &lt;nav&gt;\r\n          &lt;div class=\"nav nav-tabs justify-content-end\" id=\"nav-tab\" role=\"tablist\"&gt;\r\n            &lt;a class=\"nav-item nav-link active\" id=\"nav-home-tab\" data-toggle=\"tab\" href=\"#nav-home\" role=\"tab\" aria-controls=\"nav-home\" aria-selected=\"true\"&gt;Tech&lt;/a&gt;\r\n            &lt;a class=\"nav-item nav-link\" id=\"nav-profile-tab\" data-toggle=\"tab\" href=\"#nav-profile\" role=\"tab\" aria-controls=\"nav-profile\" aria-selected=\"false\"&gt;Fun&lt;/a&gt;\r\n\r\n          &lt;/div&gt;\r\n        &lt;/nav&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"row\"&gt;\r\n      &lt;div class=\"col-md-3\"&gt;\r\n\r\n        SOME STATIC TABLE CONTENT HERE\r\n\r\n      &lt;/div&gt;\r\n      &lt;div class=\"col-9\"&gt;\r\n**THIS FIRST TAB WORKS GREAT\r\n        &lt;div class=\"tab-content\" id=\"nav-tabContent\"&gt;\r\n          &lt;div class=\"tab-pane fade show active\" id=\"nav-home\" role=\"tab\" aria-labelledby=\"nav-home-tab\"&gt;\r\n            &lt;span&gt;CHART GOES HERE&lt;/span&gt;\r\n            &lt;table&gt;\r\n              &lt;tr&gt;\r\n                {% for date in dates %}\r\n                &lt;td style=\"width: 120px; font-size: small; text-align: center;\"&gt;{{ date }}&lt;/td&gt;\r\n                {% endfor %}\r\n              &lt;/tr&gt;\r\n            &lt;/table&gt;\r\n          &lt;/div&gt;**\r\n\r\n*########## THIS TAB DOES NOT RENDER Jinja Content. WHY? ################\r\n          &lt;div class=\"tab-pane fade\" id=\"nav-profile\" role=\"tab\" aria-labelledby=\"nav-profile-tab\"&gt;\r\n            &lt;div class=\"active\" style=\"margin-left: 20px\"&gt;&lt;br&gt;\r\n              &lt;h4&gt;A Headline&lt;/h4&gt;\r\n              &lt;table&gt;\r\n                {% for doc in docs %}\r\n                &lt;tr&gt;\r\n                  &lt;td&gt;&lt;img src=\"{{ url_for('static', filename=icon) }}\"&gt;&lt;/td&gt;\r\n                  &lt;td&gt;&lt;a href=\"{{ doc.link }}\"&gt;{{ doc.title }}&lt;/a&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                {% endfor %}\r\n              &lt;/table&gt;*\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  &lt;script src=\"{{ url_for('static', filename='js/dataTables.bootstrap4.min.js') }}\"&gt;&lt;/script&gt;\r\n  &lt;script src=\"{{ url_for('static', filename='js/popper-1.14.3.min.js') }}\"&gt;&lt;/script&gt;\r\n  &lt;script src=\"{{ url_for('static', filename='js/bootstrap.min.js') }}\"&gt;&lt;/script&gt;\r\n  {% endblock %}\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery", "angularjs"], "comments": [{"owner": {"reputation": 2296, "user_id": 4209136, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000376796894/picture?type=large", "display_name": "bigless", "link": "https://stackoverflow.com/users/4209136/bigless"}, "edited": false, "score": 0, "creation_date": 1532561605, "post_id": 51528680, "comment_id": 90026397, "body": "You are submiting id of item (integer). When you type text, what id do you want to submit?? This looks basically like bad model.."}, {"owner": {"reputation": 622, "user_id": 4846792, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/0d3d1f1b6fe6216e3d14bd22ffd99f11?s=128&d=identicon&r=PG&f=1", "display_name": "its me", "link": "https://stackoverflow.com/users/4846792/its-me"}, "reply_to_user": {"reputation": 2296, "user_id": 4209136, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000376796894/picture?type=large", "display_name": "bigless", "link": "https://stackoverflow.com/users/4209136/bigless"}, "edited": false, "score": 0, "creation_date": 1532576242, "post_id": 51528680, "comment_id": 90029163, "body": "i am not submitting id ..."}], "answers": [{"comments": [{"owner": {"reputation": 622, "user_id": 4846792, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/0d3d1f1b6fe6216e3d14bd22ffd99f11?s=128&d=identicon&r=PG&f=1", "display_name": "its me", "link": "https://stackoverflow.com/users/4846792/its-me"}, "edited": false, "score": 0, "creation_date": 1532715749, "post_id": 51553752, "comment_id": 90094057, "body": "this is ok but when i enter not listed value for example if i type &quot;test&quot; and press submit i need get {Type: &quot;test&quot;, Value: &quot;&quot;} how can i get htis"}, {"owner": {"reputation": 622, "user_id": 4846792, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/0d3d1f1b6fe6216e3d14bd22ffd99f11?s=128&d=identicon&r=PG&f=1", "display_name": "its me", "link": "https://stackoverflow.com/users/4846792/its-me"}, "edited": false, "score": 0, "creation_date": 1533045033, "post_id": 51553752, "comment_id": 90195253, "body": "still some issues there jsut type &quot;test&quot; and submit you will not get anyvalues in console"}, {"owner": {"reputation": 675, "user_id": 6885735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf3534b837ac76012fbc37db14c2e68b?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen Soni", "link": "https://stackoverflow.com/users/6885735/praveen-soni"}, "reply_to_user": {"reputation": 622, "user_id": 4846792, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/0d3d1f1b6fe6216e3d14bd22ffd99f11?s=128&d=identicon&r=PG&f=1", "display_name": "its me", "link": "https://stackoverflow.com/users/4846792/its-me"}, "edited": false, "score": 0, "creation_date": 1533188900, "post_id": 51553752, "comment_id": 90256376, "body": "type filter where ?"}, {"owner": {"reputation": 622, "user_id": 4846792, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/0d3d1f1b6fe6216e3d14bd22ffd99f11?s=128&d=identicon&r=PG&f=1", "display_name": "its me", "link": "https://stackoverflow.com/users/4846792/its-me"}, "edited": false, "score": 0, "creation_date": 1533201622, "post_id": 51553752, "comment_id": 90263267, "body": "md-autocomplete search(if we type anything inside input box it should search and show the dropdown list right) not working"}, {"owner": {"reputation": 622, "user_id": 4846792, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/0d3d1f1b6fe6216e3d14bd22ffd99f11?s=128&d=identicon&r=PG&f=1", "display_name": "its me", "link": "https://stackoverflow.com/users/4846792/its-me"}, "edited": false, "score": 0, "creation_date": 1533289492, "post_id": 51553752, "comment_id": 90302162, "body": "hey @Praveen Soni i added SS please take a look"}], "tags": [], "owner": {"reputation": 675, "user_id": 6885735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf3534b837ac76012fbc37db14c2e68b?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen Soni", "link": "https://stackoverflow.com/users/6885735/praveen-soni"}, "is_accepted": false, "score": -1, "last_activity_date": 1533291094, "last_edit_date": 1533291094, "creation_date": 1532679496, "answer_id": 51553752, "question_id": 51528680, "link": "https://stackoverflow.com/questions/51528680/md-autocomplete-not-found-passing-the-old-values-when-we-submit-the-form/51553752#51553752", "title": "md-autocomplete not found passing the old values when we submit the form?", "body": "<p>When You Select Any Item From Autocomplete suggestion, then it trigger <code>selectedItemChange</code> function, and when you submit form (pressing Enter, in this case), it trigger <code>save</code> function.</p>\n\n<p>so if you select any item from suggestion at first time, it'll trigger <code>selectedItemChange</code> function and update <code>$scope.data</code>,\nand next time, if you write anything, which is not in model, it will not show anything in autocomplete suggestion, so you cant able trigger <code>selectedItemChange</code>, and thus $scope.data previously updated value not update, and now submitting form, log previous value of $scope.data in console.</p>\n\n<p>if you just want to update (override) value of $scope.data, each time you changeAutocompleteSelection, try this</p>\n\n<pre><code>$scope.selectedItemChange = function(item) {\n  if(item){\n    $scope.data.Type = item.Type;\n    $scope.data.Value = item.Value;\n  } else {\n    $scope.data = null;\n  }\n}\n</code></pre>\n\n<p>and when submitting form</p>\n\n<pre><code>$scope.save = function () {\n  if ($scope.data) {\n    console.log('submitting form');\n    console.log($scope.data);\n  } else {\n    // prompt error, or show validation message\n    console.log(\"select something from autocomplete\");\n  }\n</code></pre>\n\n<p><strong>Edit</strong> => to set default value, if nothing selected from autocomplete, then.\npass <code>searchText</code> variable into save function in template, like</p>\n\n<pre><code>ng-submit=\"save(searchText)\"\n</code></pre>\n\n<p>and modified save function, to set default, if nothing selected</p>\n\n<pre><code>$scope.save = function (inputVal) {\n  var payload = $scope.data;\n  if (!$scope.data) {\n    payload = {\n     Type: inputVal, \n     Value: \"\"\n    }\n  }\n  //calling save api\n} \n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>angular\r\n.module('MdAutocompleteBugApp', ['ngMaterial'])\r\n.controller('MdAutocompleteBugController', function ($scope, $q, $timeout) {\r\n     $scope.data = null;\r\n     $scope.save = function (inputVal) {\r\n       var payload = $scope.data;\r\n       if (!$scope.data) {\r\n         payload = {\r\n          Type: inputVal, \r\n           Value: \"\"\r\n         }\r\n       }\r\n       if ($scope.data &amp;&amp; $scope.data.Value &amp;&amp; !$scope.data.Type) {\r\n          payload = {\r\n          Type: inputVal, \r\n           Value: $scope.data.Value\r\n         }\r\n      }\r\n      debugger\r\n       console.log(payload)\r\n    //calling save api\r\n    } \r\n    $scope.selectedItemChange = function(item) {\r\n    if(item){\r\n      $scope.data = {};\r\n      $scope.data.Type = item.Type;\r\n      $scope.data.Value = item.Value;\r\n\r\n      $scope.save();\r\n      } else {\r\n      $scope.data = null;\r\n      }\r\n   }\r\n\r\n    $scope.datas = [{\r\n\r\n            \"Type\": \"Mobile\",\r\n\r\n            \"Value\": \"2400\"\r\n\r\n        }, {\r\n\r\n            \"Type\": \"laptop\",\r\n\r\n            \"Value\": \"5677\"\r\n\r\n\r\n        }, {\r\n\r\n            \"Type\": \"Mobile\",\r\n\r\n            \"Value\": \"\"\r\n\r\n        },\r\n\r\n        {\r\n\r\n            \"Type\": \"tv\",\r\n\t\t\t\"Value\": \"\"\r\n           \r\n        }\r\n    ];\r\n\r\n    var elementId = [];\r\n\r\n    $scope.newArr = $scope.datas.filter(el =&gt; {\r\n        if (elementId.indexOf(el.Type) === -1) {\r\n            elementId.push(el.Type);\r\n            return true;\r\n        }\r\n    });\r\n\r\n    console.log($scope.newArr);\r\n\r\n    $scope.getMatches = function (searchText) {\r\n\t    var deferred = $q.defer();\r\n         $timeout(function () {\r\n            deferred.resolve($scope.newArr.filter(function (config) {\r\n                if (config.Type &amp;&amp; config.Type != \"\")\r\n                    return angular.lowercase(config.Type).indexOf(angular.lowercase(config.Type)) &gt; -1;\r\n                else\r\n                    false;\r\n            }))\r\n         }, 0);\r\n\r\n         return deferred.promise;\r\n    }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.min.js\"&gt;&lt;/script&gt;\r\n\r\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular-animate.min.js\"&gt;&lt;/script&gt;\r\n\r\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular-aria.min.js\"&gt;&lt;/script&gt;\r\n\r\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular-messages.min.js\"&gt;&lt;/script&gt;\r\n\r\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/angular_material/1.0.3/angular-material.min.js\"&gt;&lt;/script&gt;\r\n\r\n     \r\n\r\n          &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"https://ajax.googleapis.com/ajax/libs/angular_material/1.0.3/angular-material.min.css\"&gt;\r\n    &lt;div ng-app=\"MdAutocompleteBugApp\"&gt;\r\n\r\n        &lt;div ng-controller=\"MdAutocompleteBugController as vm\"&gt;\r\n\r\n           \r\n       &lt;form name = \"test\" ng-submit=\"save(searchText)\"&gt;\r\n            &lt;md-toolbar class=\"md-padding\"&gt;\r\n\r\n                &lt;md-autocomplete \r\n    \t\t\tmd-selected-item=\"Type\" \r\n    \t\t\tmd-search-text=\"searchText\" \r\n    \t\t\tmd-selected-item-change=\"selectedItemChange(item)\"\r\n    \t\t\tmd-items=\"item in getMatches(searchText)\" \r\n    \t\t\tmd-item-text=\"item.Type\" \r\n    \t\t\tplaceholder=\"Search states\" \r\n    \t\t\tmd-no-cache=\"true\"&gt;\r\n    \t\t\t\t&lt;md-item-template&gt;\r\n                        &lt;span&gt;{{item.Type}} &lt;/span&gt;\r\n                    &lt;/md-item-template&gt;\r\n                   \r\n                &lt;/md-autocomplete&gt;\r\n            &lt;/md-toolbar&gt;&lt;br&gt;\r\n    \t\tValue &lt;input type=\"text\" ng-model=\"data.Value\"&gt;\r\n    \t\t&lt;br&gt;&lt;br&gt;&lt;br&gt;\r\n    \t\t&lt;button type=\"submit\"&gt;submit&lt;/button&gt;\r\n    \t\t\r\n    &lt;/form&gt;\r\n        &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 622, "user_id": 4846792, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/0d3d1f1b6fe6216e3d14bd22ffd99f11?s=128&d=identicon&r=PG&f=1", "display_name": "its me", "link": "https://stackoverflow.com/users/4846792/its-me"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 885, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533291094, "creation_date": 1532558706, "question_id": 51528680, "link": "https://stackoverflow.com/questions/51528680/md-autocomplete-not-found-passing-the-old-values-when-we-submit-the-form", "title": "md-autocomplete not found passing the old values when we submit the form?", "body": "<p>I have implemented an md-autocomplete on my site. The search and selecting works, It updates the shown list and everything. But for some reason if i enter wrong values means not listed value and i do submit i am getting old selection value in $scope </p>\n\n<p>Expectation :</p>\n\n<p>if i start typing not listed value in autocompleted then i do submit i should get what ever i entered in autocomplete field how can i do this </p>\n\n<p>For example type M and autocomplete list Mobile do select and do submit we will get {Type: \"Mobile\", Value: \"2400\"} </p>\n\n<p>and start type Mobilesss and do submit we will get same value  {Type: \"Mobile\", Value: \"2400\"}</p>\n\n<p>but my expectation what ever there in autocomplete while we submitting i should get in console when we do submit\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>angular\r\n\r\n    .module('MdAutocompleteBugApp', ['ngMaterial'])\r\n\r\n    .controller('MdAutocompleteBugController', function ($scope, $q, $timeout) {\r\n\r\n     $scope.data = {};\r\n        $scope.save = function () {\r\n            console.log($scope.data);\r\n            console.log(\"dd\");\r\n        }\r\n$scope.selectedItemChange = function(item)\r\n{\r\nif(item){\r\n$scope.data.Type = item.Type;\r\n$scope.data.Value = item.Value;\r\n}\r\n\r\n\r\nconsole.log(item);\r\n}\r\n\r\n        $scope.datas = [{\r\n\r\n                \"Type\": \"Mobile\",\r\n\r\n                \"Value\": \"2400\"\r\n\r\n            }, {\r\n\r\n                \"Type\": \"laptop\",\r\n\r\n                \"Value\": \"5677\"\r\n\r\n\r\n            }, {\r\n\r\n                \"Type\": \"Mobile\",\r\n\r\n                \"Value\": \"\"\r\n\r\n            },\r\n\r\n            {\r\n\r\n                \"Type\": \"tv\",\r\n\t\t\t\t\"Value\": \"\"\r\n               \r\n            }\r\n        ];\r\n\r\n\r\n\r\n        var elementId = [];\r\n\r\n        $scope.newArr = $scope.datas.filter(el =&gt; {\r\n\r\n            if (elementId.indexOf(el.Type) === -1) {\r\n\r\n\r\n                elementId.push(el.Type);\r\n\r\n                return true;\r\n\r\n            }\r\n\r\n        });\r\n\r\n\r\n        console.log($scope.newArr);\r\n\r\n        $scope.getMatches = function (searchText) {\r\n\r\n\t\tvar deferred = $q.defer();\r\n\r\n                $timeout(function () {\r\n\r\n                    deferred.resolve($scope.newArr.filter(function (config) {\r\n\r\n                        if (config.Type &amp;&amp; config.Type != \"\")\r\n\r\n                            return angular.lowercase(config.Type).indexOf(angular.lowercase(config.Type)) &gt; -1;\r\n\r\n                        else\r\n\r\n                            false;\r\n\r\n                    }))\r\n\r\n                }, 0);\r\n\r\n                return deferred.promise;\r\n\t\t\r\n\t\t\r\n           \r\n        }\r\n\r\n    });</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular-animate.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular-aria.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular-messages.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/angular_material/1.0.3/angular-material.min.js\"&gt;&lt;/script&gt;\r\n\r\n \r\n\r\n      &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"https://ajax.googleapis.com/ajax/libs/angular_material/1.0.3/angular-material.min.css\"&gt;\r\n&lt;div ng-app=\"MdAutocompleteBugApp\"&gt;\r\n\r\n    &lt;div ng-controller=\"MdAutocompleteBugController as vm\"&gt;\r\n\r\n       \r\n   &lt;form name = \"test\" ng-submit=\"save()\"&gt;\r\n        &lt;md-toolbar class=\"md-padding\"&gt;\r\n\r\n            &lt;md-autocomplete \r\n\t\t\tmd-selected-item=\"Type\" \r\n\t\t\tmd-search-text=\"searchText\" \r\n\t\t\tmd-selected-item-change=\"selectedItemChange(item)\"\r\n\t\t\tmd-items=\"item in getMatches(searchText)\" \r\n\t\t\tmd-item-text=\"item.Type\" \r\n\t\t\tplaceholder=\"Search states\" \r\n\t\t\tmd-no-cache=\"true\"&gt;\r\n\t\t\t\t&lt;md-item-template&gt;\r\n                    &lt;span&gt;{{item.Type}} &lt;/span&gt;\r\n                &lt;/md-item-template&gt;\r\n               \r\n            &lt;/md-autocomplete&gt;\r\n        &lt;/md-toolbar&gt;&lt;br&gt;\r\n\t\tValue &lt;input type=\"text\" ng-model=\"data.Value\"&gt;\r\n\t\t&lt;br&gt;&lt;br&gt;&lt;br&gt;\r\n\t\t&lt;button type=\"submit\"&gt;submit&lt;/button&gt;\r\n\t\t\r\n&lt;/form&gt;\r\n    &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery", "django"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1532559303, "post_id": 51528636, "comment_id": 90025953, "body": "<code>.val()</code> doesn&#39;t create HTML, it modifies the property in the DOM. You don&#39;t have to worry about how it&#39;s coded, it does the right thing."}, {"owner": {"reputation": 19, "user_id": 6203696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fe7342cdc11dc5a2c0cae75deb8f007?s=128&d=identicon&r=PG&f=1", "display_name": "oalexandru", "link": "https://stackoverflow.com/users/6203696/oalexandru"}, "edited": false, "score": 0, "creation_date": 1532559313, "post_id": 51528636, "comment_id": 90025954, "body": "<a href=\"https://stackoverflow.com/questions/48378985/escape-single-quotes-in-json-stringify\" title=\"escape single quotes in json stringify\">stackoverflow.com/questions/48378985/&hellip;</a>"}, {"owner": {"reputation": 331, "user_id": 5632206, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/522a008e2b313db3d5af2e61e05b394e?s=128&d=identicon&r=PG&f=1", "display_name": "SteveV", "link": "https://stackoverflow.com/users/5632206/stevev"}, "reply_to_user": {"reputation": 19, "user_id": 6203696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fe7342cdc11dc5a2c0cae75deb8f007?s=128&d=identicon&r=PG&f=1", "display_name": "oalexandru", "link": "https://stackoverflow.com/users/6203696/oalexandru"}, "edited": false, "score": 0, "creation_date": 1532560596, "post_id": 51528636, "comment_id": 90026211, "body": "Thanks @oalexandru - saw that article and it didn&#39;t fix my issue"}], "owner": {"reputation": 331, "user_id": 5632206, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/522a008e2b313db3d5af2e61e05b394e?s=128&d=identicon&r=PG&f=1", "display_name": "SteveV", "link": "https://stackoverflow.com/users/5632206/stevev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1532562504, "creation_date": 1532558418, "last_edit_date": 1532562504, "question_id": 51528636, "link": "https://stackoverflow.com/questions/51528636/setting-val-of-hidden-field-with-apostrophe-for-use-in-django-using-json-stringi", "title": "Setting VAL of hidden field with apostrophe for use in Django using JSON.Stringify()", "body": "<p>I'm trying to set the value of a hidden field that I'll later grab in a Django POST, but if text has apostrophes it renders incorrectly. </p>\n\n<p><strong>JS Array:</strong></p>\n\n<pre><code>        let vals = {\n          \"apple\": \"green\",\n          \"banana\": \"yellow\",\n          \"cherry\": \"Cherry's Are Red\"\n        }\n</code></pre>\n\n<p><strong>Hidden Field:</strong></p>\n\n<pre><code>&lt;input id=\"hidden-input\" type=\"hidden\" name=\"testing-stringify\" value=\"\"&gt;\n</code></pre>\n\n<p><strong>Javascript/Jquery Stringify:</strong></p>\n\n<pre><code>$('#hidden-input').val(JSON.stringify(vals))\n</code></pre>\n\n<p><strong>Result in HTML:</strong></p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"testing-stringify\" value=\"{\"apple\":\"green\",\"banana\":\"yellow\",\"cherry\":\"Cherry's\" are red\"}&gt;\n</code></pre>\n\n<p>As you can see, it does not render properly. Without the apostrophe, it works as expected. </p>\n\n<p><strong>What I'm Expecting:</strong></p>\n\n<pre><code> &lt;input type=\"hidden\" name=\"testing-stringify\" value=\"{\"apple\":\"green\",\"banana\":\"yellow\",\"cherry\":\"Cherry's are red\"}\"&gt;\n</code></pre>\n\n<p>What's the proper way to handle the apostrophe?</p>\n\n<p>EDIT: I've also noticed it seems to choke if there are any spaces, so \"Hello World\" would also break it when set to the Hidden field.</p>\n"}, {"tags": ["javascript", "push-notification", "firebase-cloud-messaging", "service-worker", "progressive-web-apps"], "comments": [{"owner": {"reputation": 31942, "user_id": 35634, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fa7508b8cf5ecd208c5bf6a3bf7ef8cc?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/35634/henry"}, "edited": false, "score": 0, "creation_date": 1532625554, "post_id": 51528621, "comment_id": 90056490, "body": "AFAIK as long as you <code>onTokenRefresh</code> -&gt; sync to DB it should be okay."}, {"owner": {"reputation": 713, "user_id": 2039219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7cb9c657860973a6c23430d1d2ba9d2?s=128&d=identicon&r=PG", "display_name": "Will Hawker", "link": "https://stackoverflow.com/users/2039219/will-hawker"}, "reply_to_user": {"reputation": 31942, "user_id": 35634, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fa7508b8cf5ecd208c5bf6a3bf7ef8cc?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/35634/henry"}, "edited": false, "score": 1, "creation_date": 1532678543, "post_id": 51528621, "comment_id": 90073827, "body": "<code>onTokenRefresh</code> is only available in the window, so it&#39;s not possible to run that function while the web app in backgrounded. <a href=\"https://github.com/firebase/firebase-js-sdk/blob/firebase%404.13.0/packages/messaging/src/controllers/controller-interface.ts#L306\" rel=\"nofollow noreferrer\">github.com/firebase/firebase-js-sdk/blob/firebase%404.13.0/&hellip;</a>"}, {"owner": {"reputation": 31942, "user_id": 35634, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fa7508b8cf5ecd208c5bf6a3bf7ef8cc?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/35634/henry"}, "edited": false, "score": 0, "creation_date": 1532678765, "post_id": 51528621, "comment_id": 90073936, "body": "AFAIK the fcm token will not and should not refresh while the web app is just in background.  The fcm token should only be refreshed if the app is reinstalled, or the notification permission was toggled"}, {"owner": {"reputation": 713, "user_id": 2039219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7cb9c657860973a6c23430d1d2ba9d2?s=128&d=identicon&r=PG", "display_name": "Will Hawker", "link": "https://stackoverflow.com/users/2039219/will-hawker"}, "reply_to_user": {"reputation": 31942, "user_id": 35634, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fa7508b8cf5ecd208c5bf6a3bf7ef8cc?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/35634/henry"}, "edited": false, "score": 1, "creation_date": 1532689420, "post_id": 51528621, "comment_id": 90079834, "body": "Does that mean FCM is not appropriate for push notifications then? It seems odd that I cannot send notifications to a user, due to the token expiring, if they haven&#39;t opened the app in a while. P.s. &quot;A while&quot; seems quite short, only about 12 hours in my tests."}, {"owner": {"reputation": 31942, "user_id": 35634, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fa7508b8cf5ecd208c5bf6a3bf7ef8cc?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/35634/henry"}, "edited": false, "score": 0, "creation_date": 1532723800, "post_id": 51528621, "comment_id": 90097329, "body": "Try another device, my FCM token are not getting expired unless it&#39;s being refreshed and if it is it is only refreshed when it&#39;s on foreground and it&#39;s being synced.  However, if you can reproduce your issue, submit your issue on github?"}], "owner": {"reputation": 713, "user_id": 2039219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7cb9c657860973a6c23430d1d2ba9d2?s=128&d=identicon&r=PG", "display_name": "Will Hawker", "link": "https://stackoverflow.com/users/2039219/will-hawker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1352, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1532558323, "creation_date": 1532558323, "question_id": 51528621, "link": "https://stackoverflow.com/questions/51528621/how-to-refresh-firebase-messaging-tokens-in-service-worker", "title": "How to refresh Firebase messaging tokens in service worker", "body": "<p>I am building a PWA, with push notifications powered by FCM. </p>\n\n<p>Push notifications work initially, however when my <strong>web app is in the background</strong> (not visible) the Firebase token eventually expires, and there appears to be no way to update the application server with a refreshed device token via the service worker (the only part still running while the app is in the background)</p>\n\n<p>In my NodeJS server logs, I see the following error when I try to send a push notification to an expired token.</p>\n\n<p><code>Error: The provided registration token is not registered. A previously valid registration token can be unregistered for a variety of reasons.</code></p>\n\n<p>Is there any way to update the application server with a new device token, when it expires while only the service worker is running? Is there any equivalent to <code>onTokenRefresh</code> for the service worker?</p>\n\n<p>Notes:</p>\n\n<ul>\n<li>Firebase JS v4.13.0</li>\n<li>NodeJS v6.14.3</li>\n</ul>\n"}, {"tags": ["javascript", "html", "electron", "loading"], "comments": [{"owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1532558296, "post_id": 51528598, "comment_id": 90025701, "body": "Why not load all the html on the first page, but include it in a <code>&lt;div style=&quot;display: none&quot;&gt;</code> element, and just hide the first page/show the second page when they hit next/submit?"}, {"owner": {"reputation": 556, "user_id": 9853037, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vyFdITtdpj4/AAAAAAAAAAI/AAAAAAAAABE/oe8w5dtoq1g/photo.jpg?sz=128", "display_name": "Frustrated programmer", "link": "https://stackoverflow.com/users/9853037/frustrated-programmer"}, "reply_to_user": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1532558566, "post_id": 51528598, "comment_id": 90025759, "body": "thats what I am about todo... SO was a last resort for me... I wish I don&#39;t have to tho. so I can have seperate css/html files for each &quot;section&quot;. (for readability)"}, {"owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1532558632, "post_id": 51528598, "comment_id": 90025771, "body": "You said you&#39;re using <code>electron.js</code> right? Why not just use local files, instead of pulling them from a remote server?"}, {"owner": {"reputation": 556, "user_id": 9853037, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vyFdITtdpj4/AAAAAAAAAAI/AAAAAAAAABE/oe8w5dtoq1g/photo.jpg?sz=128", "display_name": "Frustrated programmer", "link": "https://stackoverflow.com/users/9853037/frustrated-programmer"}, "reply_to_user": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1532558683, "post_id": 51528598, "comment_id": 90025788, "body": "they are local files. Tho the files are mildly large so it takes a bit to load."}, {"owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 2, "creation_date": 1532558744, "post_id": 51528598, "comment_id": 90025806, "body": "How big are these forms? Seems like something crazy if it&#39;s taking that long to load a form LOCALLY"}, {"owner": {"reputation": 556, "user_id": 9853037, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vyFdITtdpj4/AAAAAAAAAAI/AAAAAAAAABE/oe8w5dtoq1g/photo.jpg?sz=128", "display_name": "Frustrated programmer", "link": "https://stackoverflow.com/users/9853037/frustrated-programmer"}, "reply_to_user": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1532558922, "post_id": 51528598, "comment_id": 90025854, "body": "Well the form is about 30 items to fill. But the JS file attached to it does a lot of <code>.append</code>ing As it has a lot of repetition"}, {"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1532558943, "post_id": 51528598, "comment_id": 90025860, "body": "There are <b><i>quite a few</i></b> ways to handle this kind of situation.  It&#39;s not really clear what you have tried, or what your HTML / JavaScript looks like, which makes it hard to offer specific optimizations.  Also, if your goal is to get a link to some offsite tutorial, those kind of responses are <i>strictly off topic</i>."}, {"owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1532558993, "post_id": 51528598, "comment_id": 90025880, "body": "That&#39;s your main issue. You could probably heavily optimize the <code>.append()</code> by building it all, and then adding it to the DOM with far less iterations."}, {"owner": {"reputation": 556, "user_id": 9853037, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vyFdITtdpj4/AAAAAAAAAAI/AAAAAAAAABE/oe8w5dtoq1g/photo.jpg?sz=128", "display_name": "Frustrated programmer", "link": "https://stackoverflow.com/users/9853037/frustrated-programmer"}, "reply_to_user": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1532559277, "post_id": 51528598, "comment_id": 90025945, "body": "@Claies yea I know. one of the reasons why SO is a last resort for me. I do not understand why my JS/HTML is important if all I want to do is to run any html file (aka load it) yet not display it.  And what I have tried is displayed above (Jquery: string format) (Ajax: appends the html to the current html)"}, {"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1532559581, "post_id": 51528598, "comment_id": 90026004, "body": "First of all, JQuery is a DOM Framework, it doesn&#39;t &quot;get&quot; data, unless you use it&#39;s helper AJAX function, so you are using AJAX in both cases.  Secondly, of course JQuery gets a string back from the server, if that&#39;s what the server is sending.  Thirdly,  if your &quot;AJAX without JQuery&quot; solution is appending directly to the HTML, that has to do with the code you wrote (which you seem reluctant to provide an example of).  All of this leaves us guessing not just at what you are trying to do, but what might be wrong with your chosen tactic. Making a random guess without enough info isn&#39;t helpful."}, {"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1532559802, "post_id": 51528598, "comment_id": 90026057, "body": "Put another way, an HTML document is just a long string of characters.  Browsers see it and handle it in a specific way, but if you are expecting to just receive data that you can manipulate, then you need an API that returns data, not an HTML document."}, {"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1532560160, "post_id": 51528598, "comment_id": 90026132, "body": "And these comments shouldn&#39;t lead you to SO being a last resort.  The point here is that creating a clear question is just as important as creating a clear and functional answer.  In this case, there is information that you can provide to make the problem you are encountering clearer, and thus easier to answer.  We want to help you to help us understand your problem to find a good solution."}, {"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1532560400, "post_id": 51528598, "comment_id": 90026175, "body": "if all you are trying to do is &quot;preload&quot; the HTML so that it&#39;s available when the user clicks a link, have you tried to use <code>rel=&quot;prefetch&quot;</code>?  <a href=\"https://stackoverflow.com/questions/7830675/how-can-i-preload-a-page-using-html5\" title=\"how can i preload a page using html5\">stackoverflow.com/questions/7830675/&hellip;</a>"}, {"owner": {"reputation": 85, "user_id": 5552503, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a98db44b5dbc44293704f82e64e2dbc6?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/5552503/amit"}, "edited": false, "score": 0, "creation_date": 1532562796, "post_id": 51528598, "comment_id": 90026644, "body": "I think you need to focus on optimizing your website instead of you&#39;re current problem so you don&#39;t have to go through sketchy workarounds like loading a page within a div"}], "owner": {"reputation": 556, "user_id": 9853037, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vyFdITtdpj4/AAAAAAAAAAI/AAAAAAAAABE/oe8w5dtoq1g/photo.jpg?sz=128", "display_name": "Frustrated programmer", "link": "https://stackoverflow.com/users/9853037/frustrated-programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1532558138, "creation_date": 1532558138, "question_id": 51528598, "link": "https://stackoverflow.com/questions/51528598/how-do-i-load-another-html-file", "title": "How do I &quot;load&quot; another HTML file?", "body": "<p>Hey so I'm making some software that will have 4 different steps.</p>\n\n<ol>\n<li>load</li>\n<li>edit item 1</li>\n<li>edit item 2</li>\n<li>submit to an online storage</li>\n</ol>\n\n<p>Since <code>item 1</code> and <code>item 2</code> are large items to be edited I wanted a separate page.\nI also wanted a separate page to <em>submit</em> both items so they know it's being submitted and user receives further instructions.</p>\n\n<p>I used to just let it just redirect the user to the next page, but I found it took 2-5 seconds to load each page, and I rather have it a fluid process.</p>\n\n<p>Since Im using <code>electron.js</code> I am using <code>require</code> to load the JS part of the webpages.<br>\nBut cant find a way to load the HTML and load the JS parts that effect the HTML <em>(JS needs the webpage's DOM)</em>.<br></p>\n\n<p>I've attempted using <code>Jquery</code> but all I accomplished was getting the html in a string format.<br>\nBeen trying to find a way to use ajax, but so far everywhere I've looked its for including the html into a different html page.</p>\n\n<p>I am new to both Jquery and ajax and just looked at them today. So maybe I am missing something about them. But cannot find any tutorials/documentary for loading another page.</p>\n"}, {"tags": ["javascript", "express"], "comments": [{"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1532558421, "post_id": 51528594, "comment_id": 90025729, "body": "Look up the <code>||</code> operator.  You are doing <code>process.env.PORT</code> <b>OR</b> <code>8080</code>.  In other words, if <code>process.env.PORT</code> is set, that&#39;s the value that will be used, and <code>8080</code> will only be used if the former is not set."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1532561701, "post_id": 51528594, "comment_id": 90026418, "body": "Perhaps you need to read about how DNS works.  Your server runs at an IP address and a client connects to an IP address.  It is DNS that allows a client to lookup <code>somehost.med.gov</code> and find out the IP address that it should use to connect with."}], "answers": [{"tags": [], "owner": {"reputation": 1306, "user_id": 8246359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7ded1395c3373006d4c404d47f12847?s=128&d=identicon&r=PG", "display_name": "LMulvey", "link": "https://stackoverflow.com/users/8246359/lmulvey"}, "is_accepted": false, "score": 1, "last_activity_date": 1532558554, "creation_date": 1532558554, "answer_id": 51528656, "question_id": 51528594, "link": "https://stackoverflow.com/questions/51528594/cannot-set-an-ip-address-on-express-js-app/51528656#51528656", "title": "Cannot set an IP address on Express JS app", "body": "<p>Localhost refers to <code>127.0.0.1</code>. You can't just launch a server on any address that you want. If you're wanting to override <code>localhost</code> you can look into modifying your <a href=\"https://stackoverflow.com/questions/19425086/alias-hostname-for-localhost\"><code>HOSTS</code> file locally to setup an alias for <code>localhost</code>.</a></p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 1908965, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ed9f90aea1d90347dd99f415720b4971?s=128&d=identicon&r=PG", "display_name": "Alon Ben-Ari", "link": "https://stackoverflow.com/users/1908965/alon-ben-ari"}, "is_accepted": false, "score": 0, "last_activity_date": 1532560566, "creation_date": 1532560566, "answer_id": 51528919, "question_id": 51528594, "link": "https://stackoverflow.com/questions/51528594/cannot-set-an-ip-address-on-express-js-app/51528919#51528919", "title": "Cannot set an IP address on Express JS app", "body": "<p>So I ended up http:// IP_ADDRESS:8080 and that took care of it.</p>\n"}], "owner": {"reputation": 61, "user_id": 1908965, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ed9f90aea1d90347dd99f415720b4971?s=128&d=identicon&r=PG", "display_name": "Alon Ben-Ari", "link": "https://stackoverflow.com/users/1908965/alon-ben-ari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1532560566, "creation_date": 1532558104, "question_id": 51528594, "link": "https://stackoverflow.com/questions/51528594/cannot-set-an-ip-address-on-express-js-app", "title": "Cannot set an IP address on Express JS app", "body": "<p>Trying to test an endpoint in express But keep getting 404 error.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var express = require(\"express\")\r\nvar app = express()\r\n//var http = require('http').Server(app)\r\napp.get('/', function(req,res){\r\n\r\n        res.send('ok from end point')\r\n})\r\nvar port = process.env.PORT|| 8080\r\nvar localhost = 'someLocalHost.med.gov'\r\nconsole.log({'localhost':localhost,\r\n                'post':port})\r\n//\r\napp.listen(port,localhost,function(err){\r\n\r\n        if (err){\r\n                console.log('err')\r\n        }\r\n        else {\r\n                console.log('Listening')\r\n        }\r\n})</code></pre>\r\n</div>\r\n</div>\r\n\n When I go to \n<a href=\"http://someLocalHost.med.gov:8080/\" rel=\"nofollow noreferrer\">http://someLocalHost.med.gov:8080/</a> \nI get a 404 error</p>\n"}, {"tags": ["javascript", "variables", "plugins", "chart.js"], "answers": [{"comments": [{"owner": {"reputation": 11202, "user_id": 3775731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac52dbfc7688e1cc009d692118541469?s=128&d=identicon&r=PG", "display_name": "timclutton", "link": "https://stackoverflow.com/users/3775731/timclutton"}, "reply_to_user": {"reputation": 47, "user_id": 7811137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c22651852974475483642449187f726b?s=128&d=identicon&r=PG&f=1", "display_name": "apexturtle", "link": "https://stackoverflow.com/users/7811137/apexturtle"}, "edited": false, "score": 0, "creation_date": 1532629164, "post_id": 51538343, "comment_id": 90058310, "body": "@apexturtle You\u2019re welcome. Please click the tick to mark the question as answered."}], "tags": [], "owner": {"reputation": 11202, "user_id": 3775731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac52dbfc7688e1cc009d692118541469?s=128&d=identicon&r=PG", "display_name": "timclutton", "link": "https://stackoverflow.com/users/3775731/timclutton"}, "is_accepted": true, "score": 1, "last_activity_date": 1532606380, "creation_date": 1532606380, "answer_id": 51538343, "question_id": 51528523, "link": "https://stackoverflow.com/questions/51528523/how-to-create-a-variable-for-chart-js-datalabel-plugin-formatter/51538343#51538343", "title": "How to create a variable for chart js datalabel plugin formatter", "body": "<p><code>plugins.datalabels.formatter</code> should be set to a function. You are setting it to an object. Change your definition so it doesn't include the leading <code>{</code> and trailing <code>}</code>:</p>\n\n<pre><code>var datalabels_format_sanssymb = function (value) {\n    if (value &gt;= 1000000000 || value &lt;= -1000000000) {\n        return (value / 1000000000).toFixed(1).replace(/\\.0$/, '');\n    }\n    if (value &gt;= 1000000 || value &lt;= -1000000) {\n        return (value / 1000000).toFixed(1).replace(/\\.0$/, '');\n    }\n    if (value &gt;= 1000 || value &lt;= -1000) {\n        return (value / 1000).toFixed(1).replace(/\\.0$/, '');\n    }\n    return value;\n}\n</code></pre>\n\n<p>See the <a href=\"https://chartjs-plugin-datalabels.netlify.com/formatting\" rel=\"nofollow noreferrer\">plugin documentation</a> for examples.</p>\n"}], "owner": {"reputation": 47, "user_id": 7811137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c22651852974475483642449187f726b?s=128&d=identicon&r=PG&f=1", "display_name": "apexturtle", "link": "https://stackoverflow.com/users/7811137/apexturtle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1864, "favorite_count": 0, "accepted_answer_id": 51538343, "answer_count": 1, "score": 1, "last_activity_date": 1532606380, "creation_date": 1532557598, "question_id": 51528523, "link": "https://stackoverflow.com/questions/51528523/how-to-create-a-variable-for-chart-js-datalabel-plugin-formatter", "title": "How to create a variable for chart js datalabel plugin formatter", "body": "<p>I am trying to write a global formatting variable for chart js datalabels plugin across all the charts I create. Here is my attempt -</p>\n\n<p>Global Variable:</p>\n\n<pre><code>var datalabels_format_sanssymb = {\n    function (value) {\n        if (value &gt;= 1000000000 || value &lt;= -1000000000) {\n            return (value / 1000000000).toFixed(1).replace(/\\.0$/, '');\n        }\n        if (value &gt;= 1000000 || value &lt;= -1000000) {\n            return (value / 1000000).toFixed(1).replace(/\\.0$/, '');\n        }\n        if (value &gt;= 1000 || value &lt;= -1000) {\n            return (value / 1000).toFixed(1).replace(/\\.0$/, '');\n        }\n        return value;\n    }\n}\n</code></pre>\n\n<p>And here is where I want to call the variable in the chart javascript:</p>\n\n<pre><code>plugins: {\n    datalabels: {\n        formatter: datalabels_format_sanssymb,\n        font: {\n            size: 10,\n            weight: 'bold'\n        },\n        color: '#333333'\n    }\n},\n</code></pre>\n\n<p>This doesn't seem to work. Am I doing this correctly?</p>\n"}, {"tags": ["javascript", "ajax", "campaign-monitor"], "answers": [{"comments": [{"owner": {"reputation": 397, "user_id": 1546292, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/FjyMt.jpg?s=128&g=1", "display_name": "alib0ng0", "link": "https://stackoverflow.com/users/1546292/alib0ng0"}, "edited": false, "score": 0, "creation_date": 1535705350, "post_id": 51543353, "comment_id": 91173942, "body": "I keen to know how this works with an actual custom made subscribe form? do you have a fiddle for this please?"}, {"owner": {"reputation": 5697, "user_id": 2211053, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5e3bf71df752753d89b96efa71f113b9?s=128&d=identicon&r=PG", "display_name": "Gavin", "link": "https://stackoverflow.com/users/2211053/gavin"}, "reply_to_user": {"reputation": 397, "user_id": 1546292, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/FjyMt.jpg?s=128&g=1", "display_name": "alib0ng0", "link": "https://stackoverflow.com/users/1546292/alib0ng0"}, "edited": false, "score": 0, "creation_date": 1536159028, "post_id": 51543353, "comment_id": 91325735, "body": "It&#39;s just a simple jQuery ajax form submission. If you&#39;d like to see my complete PHP, I&#39;ve edited my answer to include it."}], "tags": [], "owner": {"reputation": 5697, "user_id": 2211053, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5e3bf71df752753d89b96efa71f113b9?s=128&d=identicon&r=PG", "display_name": "Gavin", "link": "https://stackoverflow.com/users/2211053/gavin"}, "is_accepted": false, "score": 3, "last_activity_date": 1536159107, "last_edit_date": 1536159107, "creation_date": 1532621789, "answer_id": 51543353, "question_id": 51528519, "link": "https://stackoverflow.com/questions/51528519/campaign-monitor-ajax-form-submission/51543353#51543353", "title": "Campaign Monitor Ajax form submission", "body": "<p>I emailed their support, so I can answer the question myself. They've replaced all the old methods with their API. You need to have the form's action set to your own endpoint (e.g. signup.php).</p>\n\n<p>I'm using PHP, so I downloaded their PHP API wrapper from <a href=\"https://github.com/campaignmonitor/createsend-php\" rel=\"nofollow noreferrer\">https://github.com/campaignmonitor/createsend-php</a>. A simple example is like this:</p>\n\n<pre><code>require_once 'lib/campaignmonitor/csrest_subscribers.php';\n\n$auth = array(\n    'api_key' =&gt; 'Your API key'\n);\n$wrap = new CS_REST_Subscribers( 'Your list ID', $auth );\n\n$result = $wrap-&gt;add( array(\n    'EmailAddress' =&gt; 'Subscriber email',\n    'Name' =&gt; 'Subscriber name',\n    'CustomFields' =&gt; array(\n        array(\n            'Key' =&gt; 'Field 1 Key',\n            'Value' =&gt; 'Field Value'\n        ),\n        array(\n            'Key' =&gt; 'Field 2 Key',\n            'Value' =&gt; 'Field Value'\n        ),\n        array(\n            'Key' =&gt; 'Multi Option Field 1',\n            'Value' =&gt; 'Option 1'\n        ),\n        array(\n            'Key' =&gt; 'Multi Option Field 1',\n            'Value' =&gt; 'Option 2'\n        )\n    ),\n    'ConsentToTrack' =&gt; 'yes',\n    'Resubscribe' =&gt; true\n) );\n</code></pre>\n\n<p><strong>Update:</strong> Here's my complete PHP if you're curious:</p>\n\n<pre><code>require_once 'libs/campaignmonitor/csrest_subscribers.php';\n\n$success_message = 'You\\'ve been signed up for our email list.';\n$error_message_general = 'There was a problem signing you up for the email list. Please try again.';\n$error_message_format = 'Please enter a valid email address.';\n\nif ( $_SERVER[ 'REQUEST_METHOD' ] !== 'POST' ) {\n    renderResponse( true, $error_message_general );\n}\nelse {\n\n    $api_key = 'your_api_key_here';\n    $list_id = 'your_list_id_here';\n\n    $email = array_key_exists( 'email', $_POST ) ? $_POST[ 'email' ] : '';\n    $email = cleanInput( $email );\n\n    if ( filter_var( $email, FILTER_VALIDATE_EMAIL ) ) {\n        try {\n            $auth = array(\n                'api_key' =&gt; $api_key\n            );\n            $wrap = new CS_REST_Subscribers( $list_id, $auth );\n\n            $result = $wrap-&gt;add( array(\n                'EmailAddress' =&gt; $email,\n                'ConsentToTrack' =&gt; 'yes',\n                'Resubscribe' =&gt; true\n            ) );\n\n            if ( $result-&gt;was_successful() )\n                renderResponse( false, $success_message );\n            else\n                renderResponse( true, $error_message_general );\n        }\n        catch ( Exception $e ) {\n            renderResponse( true, $error_message_general );\n        }\n    }\n    else {\n        renderResponse( true, $error_message_format );\n    }\n\n}\n\nfunction renderResponse( $error, $message ) {\n    header( 'Content-Type: application/json' );\n    $result = [\n        'error' =&gt; $error,\n        'message' =&gt; $message\n    ];\n    echo json_encode( $result );\n    die();\n}\n\nfunction cleanInput( $data ) {\n    $data = trim( $data );\n    $data = stripslashes( $data );\n    $data = htmlspecialchars( $data );\n    return $data;\n}\n</code></pre>\n"}], "owner": {"reputation": 5697, "user_id": 2211053, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5e3bf71df752753d89b96efa71f113b9?s=128&d=identicon&r=PG", "display_name": "Gavin", "link": "https://stackoverflow.com/users/2211053/gavin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1394, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1536159107, "creation_date": 1532557584, "question_id": 51528519, "link": "https://stackoverflow.com/questions/51528519/campaign-monitor-ajax-form-submission", "title": "Campaign Monitor Ajax form submission", "body": "<p>Campaign Monitor seems to have updated their code snippets to use a different method of submitting the forms. Now in the <code>&lt;form&gt;</code> tag there's a <code>data-id</code> attribute. None of the usual ways of submitting the forms using Ajax work anymore. Does anybody know how to use Ajax to submit the new style of Campaign Monitor forms?</p>\n\n<p>Here's the code snippet Campaign Monitor gives me:</p>\n\n<pre><code>&lt;form id=\"subForm\" class=\"js-cm-form\" action=\"https://www.createsend.com/t/subscribeerror?description=\" method=\"post\" data-id=\"A61C50BDC994654B1D79D5719EC1255C09788D1CED7F46D508DAE8944C2CB34BA5EC78954EB81FB5F54AD0716B1F245E696D5CFAF72B819D19DC3B44517\"&gt;    \n&lt;p&gt;\n    &lt;label for=\"fieldEmail\"&gt;Email&lt;/label&gt;\n    &lt;br /&gt;\n    &lt;input id=\"fieldEmail\" name=\"cm-wmpt-wmpt\" type=\"email\" class=\"js-cm-email-input\"\n    required /&gt;\n&lt;/p&gt;\n&lt;p&gt;\n    &lt;button class=\"js-cm-submit-button\" type=\"submit\"&gt;Subscribe&lt;/button&gt;\n&lt;/p&gt;\n&lt;/form&gt;\n&lt;script type=\"text/javascript\" src=\"https://js.createsend1.com/javascript/copypastesubscribeformlogic.js\"&gt;&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "svg"], "comments": [{"owner": {"reputation": 101196, "user_id": 1038015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d912dac5c74b47bbaff7164f5f8bb8?s=128&d=identicon&r=PG", "display_name": "Robert Longson", "link": "https://stackoverflow.com/users/1038015/robert-longson"}, "edited": false, "score": 1, "creation_date": 1532559463, "post_id": 51528518, "comment_id": 90025982, "body": "sure use a viewBox"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 101196, "user_id": 1038015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d912dac5c74b47bbaff7164f5f8bb8?s=128&d=identicon&r=PG", "display_name": "Robert Longson", "link": "https://stackoverflow.com/users/1038015/robert-longson"}, "edited": false, "score": 0, "creation_date": 1532563491, "post_id": 51528518, "comment_id": 90026775, "body": "Without Javascript?"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 101196, "user_id": 1038015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d912dac5c74b47bbaff7164f5f8bb8?s=128&d=identicon&r=PG", "display_name": "Robert Longson", "link": "https://stackoverflow.com/users/1038015/robert-longson"}, "edited": false, "score": 0, "creation_date": 1532563972, "post_id": 51528518, "comment_id": 90026863, "body": "Without javascript?  A demo would be great ..."}, {"owner": {"reputation": 101196, "user_id": 1038015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d912dac5c74b47bbaff7164f5f8bb8?s=128&d=identicon&r=PG", "display_name": "Robert Longson", "link": "https://stackoverflow.com/users/1038015/robert-longson"}, "edited": false, "score": 1, "creation_date": 1532564051, "post_id": 51528518, "comment_id": 90026875, "body": "before: &lt;svg&gt; after you use a text editor to change the markup: &lt;svg viewBox=&quot;0 0 100 100&quot;&gt;"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 101196, "user_id": 1038015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d912dac5c74b47bbaff7164f5f8bb8?s=128&d=identicon&r=PG", "display_name": "Robert Longson", "link": "https://stackoverflow.com/users/1038015/robert-longson"}, "edited": false, "score": 0, "creation_date": 1532566324, "post_id": 51528518, "comment_id": 90027265, "body": "What happens when other are viewing the page on various devices with various sizes?  Do they also need to go in and manually change the viewbox parameters?  The end goal is for the svg to automatically shrink on small devices with small screen real estate and expand on large screens ..."}], "answers": [{"comments": [{"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 1, "creation_date": 1532569745, "post_id": 51529642, "comment_id": 90027901, "body": "That&#39;s essentially the effect I&#39;m looking for except more responsive.  In other words if the div image <code>container</code> shrinks then the inline svg also shrinks automatically.  I was hoping that perhaps browsers had worked this out by now ..."}, {"owner": {"reputation": 156, "user_id": 9429981, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Thierry Lemaitre", "link": "https://stackoverflow.com/users/9429981/thierry-lemaitre"}, "reply_to_user": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1532722956, "post_id": 51529642, "comment_id": 90096981, "body": "If the question is resolve thank you mark it as resolved :)"}], "tags": [], "owner": {"reputation": 156, "user_id": 9429981, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Thierry Lemaitre", "link": "https://stackoverflow.com/users/9429981/thierry-lemaitre"}, "is_accepted": false, "score": 1, "last_activity_date": 1532567526, "creation_date": 1532567526, "answer_id": 51529642, "question_id": 51528518, "link": "https://stackoverflow.com/questions/51528518/making-inline-svg-responsive-in-browsers-without-using-javascript/51529642#51529642", "title": "Making inline SVG responsive in browsers without using javascript?", "body": "<p>If you don't need to change svg with css or modify it, I suggest you to use it as an <code>img</code> element. You create an <code>img</code> and put the path to your svg in the <code>src</code>. Here's what I mean: <a href=\"https://codepen.io/tlemaitre/pen/PBKGOo\" rel=\"nofollow noreferrer\">https://codepen.io/tlemaitre/pen/PBKGOo</a></p>\n"}, {"comments": [{"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1532571060, "post_id": 51529915, "comment_id": 90028193, "body": "You may want to look at this angular round progress component.  <a href=\"https://github.com/crisbeto/angular-svg-round-progressbar\" rel=\"nofollow noreferrer\">github.com/crisbeto/angular-svg-round-progressbar</a>  I&#39;m studying how the responsive part of it works.  IIUC if you set <code>preserveAspectRatio=none</code> then the aspect ratio will not be preserved so your image will get distorted."}, {"owner": {"reputation": 632, "user_id": 5219761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a501f28fd2987b0cac4b3570b86a3055?s=128&d=identicon&r=PG&f=1", "display_name": "Paul12_", "link": "https://stackoverflow.com/users/5219761/paul12"}, "reply_to_user": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 1, "creation_date": 1532610198, "post_id": 51529915, "comment_id": 90046568, "body": "Hi @Ole, yes I&#39;m aware of how the whole aspect ratio thing works, I was trying to find a way of having a clip shape that keeps the image ratio, where I could put an overflow:hidden property on the shape but this isn&#39;t possible."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1532619165, "post_id": 51529915, "comment_id": 90052798, "body": "There&#39;s a really good tutorial here: <a href=\"https://webdesign.tutsplus.com/tutorials/svg-viewport-and-viewbox-for-beginners--cms-30844\" rel=\"nofollow noreferrer\">webdesign.tutsplus.com/tutorials/&hellip;</a>     So for example when the viewport on the circle is set to 100x100px, the entire circle shows, but if the viewport (&lt;svg width=&quot;50&quot; height=&quot;50&quot;&gt;) is set to 50x50px then only a quarter of the circle shows, and the rest is clipped...maybe you knew that ... but at least it clips the image ... probably have to control those properties with javascript though ..."}], "tags": [], "owner": {"reputation": 632, "user_id": 5219761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a501f28fd2987b0cac4b3570b86a3055?s=128&d=identicon&r=PG&f=1", "display_name": "Paul12_", "link": "https://stackoverflow.com/users/5219761/paul12"}, "is_accepted": false, "score": 1, "last_activity_date": 1532570185, "creation_date": 1532570185, "answer_id": 51529915, "question_id": 51528518, "link": "https://stackoverflow.com/questions/51528518/making-inline-svg-responsive-in-browsers-without-using-javascript/51529915#51529915", "title": "Making inline SVG responsive in browsers without using javascript?", "body": "<p>I've recently had a similar problem, I have a container that needs to be <code>preserveAspectRatio=\"none\"</code> to keep the shape fluid on different window sizes but the image inside gets gets distorted. I've not seen any solution to this problem with or without JS, so I don't think it's possible.</p>\n"}, {"comments": [{"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1532731949, "post_id": 51565281, "comment_id": 90099623, "body": "Well THEN!  Thanks - That was eye opening.  After reviewing an angular component and some of the other documents I had convinced myself that this is a lot more difficult that it should be...but now I&#39;m unconvinced.  Thanks again."}], "tags": [], "owner": {"reputation": 80101, "user_id": 1292848, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd043aba9d97059108cbc719f73fc4a8?s=128&d=identicon&r=PG", "display_name": "Paul LeBeau", "link": "https://stackoverflow.com/users/1292848/paul-lebeau"}, "is_accepted": true, "score": 1, "last_activity_date": 1532724129, "creation_date": 1532724129, "answer_id": 51565281, "question_id": 51528518, "link": "https://stackoverflow.com/questions/51528518/making-inline-svg-responsive-in-browsers-without-using-javascript/51565281#51565281", "title": "Making inline SVG responsive in browsers without using javascript?", "body": "<p>I am confused about what you want. I don't know what you mean, in your question, when you talk about \"view box width and height parameters double\". Perhaps you are confused about how <code>viewBox</code> works. </p>\n\n<p>As long as the SVG has a <code>viewBox</code> it should be responsive.</p>\n\n<p>In the following example, I've put the SVG in a <code>div</code> container and animated the container size to simulate the page size changing.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#container {\r\n  width: 200px;\r\n  background: linen;\r\n  animation: scale 1s alternate infinite;\r\n}\r\n\r\n\r\n@keyframes scale {\r\n  from { width: 200px; }\r\n  to   { width: 100px; }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"container\"&gt;\r\n\r\n  &lt;svg viewBox=\"0 0 100 100\"&gt;\r\n    &lt;circle cx=\"50\" cy=\"50\" r=\"40\" fill=\"gold\"/&gt;\r\n    &lt;rect x=\"10\" y=\"50\" width=\"20\" height=\"50\" fill=\"gold\"/&gt;\r\n    &lt;rect x=\"70\" y=\"50\" width=\"20\" height=\"50\" fill=\"gold\"/&gt;\r\n    &lt;circle cx=\"35\" cy=\"45\" r=\"5\"/&gt;\r\n    &lt;circle cx=\"65\" cy=\"45\" r=\"5\"/&gt;\r\n  &lt;/svg&gt;\r\n\r\n&lt;/div&gt;\r\n    </code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But it could just as easily be a container that is the width of the page.  Try running the following snippet. Then click \"Fullpage\" and resize the browser window.:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#container {\r\n  width: 100%;\r\n  background: linen;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"container\"&gt;\r\n\r\n  &lt;svg viewBox=\"0 0 100 100\"&gt;\r\n    &lt;circle cx=\"50\" cy=\"50\" r=\"40\" fill=\"gold\"/&gt;\r\n    &lt;rect x=\"10\" y=\"50\" width=\"20\" height=\"50\" fill=\"gold\"/&gt;\r\n    &lt;rect x=\"70\" y=\"50\" width=\"20\" height=\"50\" fill=\"gold\"/&gt;\r\n    &lt;circle cx=\"35\" cy=\"45\" r=\"5\"/&gt;\r\n    &lt;circle cx=\"65\" cy=\"45\" r=\"5\"/&gt;\r\n  &lt;/svg&gt;\r\n\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 866, "favorite_count": 1, "accepted_answer_id": 51565281, "answer_count": 3, "score": 1, "last_activity_date": 1532724129, "creation_date": 1532557580, "last_edit_date": 1532571327, "question_id": 51528518, "link": "https://stackoverflow.com/questions/51528518/making-inline-svg-responsive-in-browsers-without-using-javascript", "title": "Making inline SVG responsive in browsers without using javascript?", "body": "<p>I've been reviewing <a href=\"https://www.sarasoueidan.com/blog/svg-coordinate-systems/#svg-viewbox\" rel=\"nofollow noreferrer\">articles like this one</a> which are really good, but possibly dated, and I'm wondering if any progress has been made on a simple way to make inline svg responsive while maintaining the aspect ratio?</p>\n\n<p>In other words if we have svg with a 1:1 aspect ratio inside a div container, and the container shrinks from 400x400px to 200x200 px, then the view box width and height parameters double.</p>\n"}, {"tags": ["javascript", "three.js"], "comments": [{"owner": {"reputation": 19260, "user_id": 1727392, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/KP9Ia.jpg?s=128&g=1", "display_name": "duhaime", "link": "https://stackoverflow.com/users/1727392/duhaime"}, "edited": false, "score": 0, "creation_date": 1532558844, "post_id": 51528502, "comment_id": 90025842, "body": "Seems like one must manually set the <code>.dynamic</code> property to <code>true</code> on a BufferAttribute: <a href=\"https://threejs.org/docs/#api/core/BufferAttribute.setDynamic\" rel=\"nofollow noreferrer\">threejs.org/docs/#api/core/BufferAttribute.setDynamic</a> and one can ping the <code>needsUpdate</code> property of the BufferAttribute: <a href=\"https://threejs.org/docs/#api/core/BufferAttribute.needsUpdate\" rel=\"nofollow noreferrer\">threejs.org/docs/#api/core/BufferAttribute.needsUpdate</a>"}], "answers": [{"tags": [], "owner": {"reputation": 19260, "user_id": 1727392, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/KP9Ia.jpg?s=128&g=1", "display_name": "duhaime", "link": "https://stackoverflow.com/users/1727392/duhaime"}, "is_accepted": true, "score": 0, "last_activity_date": 1532559384, "creation_date": 1532559384, "answer_id": 51528764, "question_id": 51528502, "link": "https://stackoverflow.com/questions/51528502/three-js-update-geometry-attributes-when-using-rawshadermaterial/51528764#51528764", "title": "Three.js: Update geometry attributes when using RawShaderMaterial", "body": "<p>It seems to update a buffer attribute (or indexed buffer attribute) one can set the <code>.dynamic</code> property of that buffer to <code>true</code>, manually mutate the buffer, then set the <code>.needsUpdate</code> attribute of the buffer to <code>true</code>.</p>\n\n<p>In this updated demo, after clicking the scene, the buffer attribute <code>texIdx</code> is updated such that all points have <code>texIdx</code> == 0:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\r\n&lt;head&gt;\r\n  &lt;style&gt;\r\n  html, body { width: 100%; height: 100%; background: #000; }\r\n  body { margin: 0; overflow: hidden; }\r\n  canvas { width: 100%; height: 100%; }\r\n  &lt;/style&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n  &lt;script src='https://cdnjs.cloudflare.com/ajax/libs/three.js/88/three.min.js'&gt;&lt;/script&gt;\r\n  &lt;script src='https://rawgit.com/YaleDHLab/pix-plot/master/assets/js/trackball-controls.js'&gt;&lt;/script&gt;\r\n\r\n    &lt;script type='x-shader/x-vertex' id='vertex-shader'&gt;\r\n    precision highp float;\r\n\r\n    uniform mat4 modelViewMatrix;\r\n    uniform mat4 projectionMatrix;\r\n\r\n    uniform vec3 cameraPosition;\r\n\r\n    attribute vec3 position; // sets the blueprint's vertex positions\r\n    attribute vec3 translation; // x y translation offsets for an instance\r\n    attribute float texIdx; // the texture index to access\r\n\r\n    varying float vTexIdx;\r\n\r\n    void main() {\r\n      // set point position\r\n      vec3 pos = position + translation;\r\n      vec4 projected = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\r\n      gl_Position = projected;\r\n\r\n      // assign the varyings\r\n      vTexIdx = texIdx;\r\n\r\n      // use the delta between the point position and camera position to size point\r\n      float xDelta = pow(projected[0] - cameraPosition[0], 2.0);\r\n      float yDelta = pow(projected[1] - cameraPosition[1], 2.0);\r\n      float zDelta = pow(projected[2] - cameraPosition[2], 2.0);\r\n      float delta  = pow(xDelta + yDelta + zDelta, 0.5);\r\n      gl_PointSize = 40000.0 / delta;\r\n    }\r\n    &lt;/script&gt;\r\n\r\n    &lt;script type='x-shader/x-fragment' id='fragment-shader'&gt;\r\n    precision highp float;\r\n\r\n    uniform sampler2D a;\r\n    uniform sampler2D b;\r\n\r\n    varying float vTexIdx;\r\n\r\n    void main() {\r\n      int textureIndex = int(vTexIdx);\r\n      vec2 uv = vec2(gl_PointCoord.x, gl_PointCoord.y);\r\n      if (textureIndex == 0) {\r\n        gl_FragColor = texture2D(a, uv);\r\n      } else if (textureIndex == 1) {\r\n        gl_FragColor = texture2D(b, uv);\r\n      }\r\n    }\r\n    &lt;/script&gt;\r\n\r\n  &lt;script&gt;\r\n\r\n  /**\r\n  * Generate a scene object with a background color\r\n  **/\r\n\r\n  function getScene() {\r\n    var scene = new THREE.Scene();\r\n    scene.background = new THREE.Color(0xaaaaaa);\r\n    return scene;\r\n  }\r\n\r\n  /**\r\n  * Generate the camera to be used in the scene\r\n  **/\r\n\r\n  function getCamera() {\r\n    var aspectRatio = window.innerWidth / window.innerHeight;\r\n    var camera = new THREE.PerspectiveCamera(75, aspectRatio, 0.1, 100000);\r\n    camera.position.set(0, 1, -6000);\r\n    return camera;\r\n  }\r\n\r\n  /**\r\n  * Generate the renderer to be used in the scene\r\n  **/\r\n\r\n  function getRenderer() {\r\n    // Create the canvas with a renderer\r\n    var renderer = new THREE.WebGLRenderer({antialias: true});\r\n    // Add support for retina displays\r\n    renderer.setPixelRatio(window.devicePixelRatio);\r\n    // Specify the size of the canvas\r\n    renderer.setSize(window.innerWidth, window.innerHeight);\r\n    // Add the canvas to the DOM\r\n    document.body.appendChild(renderer.domElement);\r\n    return renderer;\r\n  }\r\n\r\n  /**\r\n  * Generate the controls to be used in the scene\r\n  **/\r\n\r\n  function getControls(camera, renderer) {\r\n    var controls = new THREE.TrackballControls(camera, renderer.domElement);\r\n    controls.zoomSpeed = 0.4;\r\n    controls.panSpeed = 0.4;\r\n    return controls;\r\n  }\r\n\r\n  /**\r\n  * Generate the points for the scene\r\n  **/\r\n\r\n  function addPoints(scene) {\r\n    var BA = THREE.BufferAttribute;\r\n    var IBA = THREE.InstancedBufferAttribute;\r\n    var geometry  = new THREE.InstancedBufferGeometry();\r\n\r\n    // add data for each observation\r\n    var n = 10000; // number of observations\r\n    var rootN = n**(1/2);\r\n    var cellSize = 20;\r\n    var translation = new Float32Array( n * 3 );\r\n    var texIdx = new Float32Array( n );\r\n    var translationIterator = 0;\r\n    var texIterator = 0;\r\n    for (var i=0; i&lt;n*3; i++) {\r\n      var x = Math.random() * n - (n/2);\r\n      var y = Math.random() * n - (n/2);\r\n      translation[translationIterator++] = x;\r\n      translation[translationIterator++] = y;\r\n      translation[translationIterator++] = Math.random() * n - (n/2);\r\n      texIdx[texIterator++] = (x + y) &gt; (n/8) ? 1 : 0;\r\n    }\r\n\r\n    var positionAttr = new BA(new Float32Array( [0, 0, 0] ), 3);\r\n    var translationAttr = new IBA(translation, 3, 1);\r\n    var texIdxAttr = new IBA(texIdx, 1, 1);\r\n    positionAttr.dynamic = true;\r\n    translationAttr.dynamic = true;\r\n    texIdxAttr.dynamic = true;\r\n    geometry.addAttribute('position', positionAttr);\r\n    geometry.addAttribute('translation', translationAttr);\r\n    geometry.addAttribute('texIdx', texIdxAttr);\r\n\r\n    var canvases = [\r\n      getElem('canvas', { width: 16384, height: 16384, }),\r\n      getElem('canvas', { width: 16384, height: 16384, }),\r\n    ];\r\n\r\n    for (var i=0; i&lt;canvases.length; i++) {\r\n      var canvas = canvases[i];\r\n      var ctx = canvas.getContext('2d');\r\n      ctx.fillStyle = i == 0 ? 'red' : 'blue';\r\n      ctx.rect(0, 0, 16384, 16384);\r\n      ctx.fill();\r\n    }\r\n\r\n    var material = new THREE.RawShaderMaterial({\r\n      uniforms: {\r\n        a: {\r\n          type: 't',\r\n          value: getTexture(canvases[0]),\r\n        },\r\n        b: {\r\n          type: 't',\r\n          value: getTexture(canvases[1]),\r\n        }\r\n      },\r\n      vertexShader: document.getElementById('vertex-shader').textContent,\r\n      fragmentShader: document.getElementById('fragment-shader').textContent,\r\n    });\r\n    var mesh = new THREE.Points(geometry, material);\r\n    mesh.frustumCulled = false; // prevent the mesh from being clipped on drag\r\n    scene.add(mesh);\r\n\r\n    window.onclick = function() {\r\n      // paint it red\r\n      for (var i=0; i&lt;texIdxAttr.count; i++) {\r\n        scene.children[0].geometry.attributes.texIdx.array[i] = 0;\r\n      }\r\n      scene.children[0].geometry.attributes.texIdx.needsUpdate = true;\r\n    \r\n    }\r\n  }\r\n\r\n  function getTexture(canvas) {\r\n    var tex = new THREE.Texture(canvas);\r\n    tex.needsUpdate = true;\r\n    tex.flipY = false;\r\n    return tex;\r\n  }\r\n\r\n  /**\r\n  * Create an element\r\n  **/\r\n\r\n  function getElem(tag, obj) {\r\n    var obj = obj || {};\r\n    var elem = document.createElement(tag);\r\n    Object.keys(obj).forEach(function(attr) {\r\n      elem[attr] = obj[attr];\r\n    })\r\n    return elem;\r\n  }\r\n\r\n  /**\r\n  * Render!\r\n  **/\r\n\r\n  function render() {\r\n    requestAnimationFrame(render);\r\n    renderer.render(scene, camera);\r\n    controls.update();\r\n  };\r\n\r\n  /**\r\n  * Main\r\n  **/\r\n\r\n  var scene = getScene();\r\n  var camera = getCamera();\r\n  var renderer = getRenderer();\r\n  var controls = getControls(camera, renderer);\r\n  addPoints(scene);\r\n  render();\r\n\r\n  &lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 19260, "user_id": 1727392, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/KP9Ia.jpg?s=128&g=1", "display_name": "duhaime", "link": "https://stackoverflow.com/users/1727392/duhaime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 480, "favorite_count": 0, "accepted_answer_id": 51528764, "answer_count": 1, "score": 0, "last_activity_date": 1532559384, "creation_date": 1532557497, "question_id": 51528502, "link": "https://stackoverflow.com/questions/51528502/three-js-update-geometry-attributes-when-using-rawshadermaterial", "title": "Three.js: Update geometry attributes when using RawShaderMaterial", "body": "<p>I have a Three.js scene that passes a few attributes to a <code>RawShaderMaterial</code>. After the initial render, I'd like to update some attributes, but haven't been able to figure out how to do so.</p>\n\n<p>Here's a sample scene (<a href=\"https://bl.ocks.org/duhaime/08f7f4864af38d0376868321a2a2d79e\" rel=\"nofollow noreferrer\">fiddle</a>):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/**\r\n* Generate a scene object with a background color\r\n**/\r\n\r\nfunction getScene() {\r\n  var scene = new THREE.Scene();\r\n  scene.background = new THREE.Color(0xaaaaaa);\r\n  return scene;\r\n}\r\n\r\n/**\r\n* Generate the camera to be used in the scene\r\n**/\r\n\r\nfunction getCamera() {\r\n  var aspectRatio = window.innerWidth / window.innerHeight;\r\n  var camera = new THREE.PerspectiveCamera(75, aspectRatio, 0.1, 100000);\r\n  camera.position.set(0, 1, -6000);\r\n  return camera;\r\n}\r\n\r\n/**\r\n* Generate the renderer to be used in the scene\r\n**/\r\n\r\nfunction getRenderer() {\r\n  // Create the canvas with a renderer\r\n  var renderer = new THREE.WebGLRenderer({antialias: true});\r\n  // Add support for retina displays\r\n  renderer.setPixelRatio(window.devicePixelRatio);\r\n  // Specify the size of the canvas\r\n  renderer.setSize(window.innerWidth, window.innerHeight);\r\n  // Add the canvas to the DOM\r\n  document.body.appendChild(renderer.domElement);\r\n  return renderer;\r\n}\r\n\r\n/**\r\n* Generate the controls to be used in the scene\r\n**/\r\n\r\nfunction getControls(camera, renderer) {\r\n  var controls = new THREE.TrackballControls(camera, renderer.domElement);\r\n  controls.zoomSpeed = 0.4;\r\n  controls.panSpeed = 0.4;\r\n  return controls;\r\n}\r\n\r\n/**\r\n* Generate the points for the scene\r\n**/\r\n\r\nfunction addPoints(scene) {\r\n  var geometry  = new THREE.InstancedBufferGeometry();\r\n  geometry.addAttribute( 'position',\r\n    new THREE.BufferAttribute( new Float32Array( [0, 0, 0] ), 3));\r\n\r\n  // add data for each observation\r\n  var n = 10000; // number of observations\r\n  var rootN = n**(1/2);\r\n  var cellSize = 20;\r\n  var translation = new Float32Array( n * 3 );\r\n  var texIdx = new Float32Array( n );\r\n  var translationIterator = 0;\r\n  var texIterator = 0;\r\n  for (var i=0; i&lt;n*3; i++) {\r\n    var x = Math.random() * n - (n/2);\r\n    var y = Math.random() * n - (n/2);\r\n    translation[translationIterator++] = x;\r\n    translation[translationIterator++] = y;\r\n    translation[translationIterator++] = Math.random() * n - (n/2);\r\n    texIdx[texIterator++] = (x + y) &gt; (n/8) ? 1 : 0;\r\n  }\r\n\r\n  var IBA = THREE.InstancedBufferAttribute;\r\n  geometry.addAttribute('translation', new IBA(translation, 3, 1));\r\n  geometry.addAttribute('texIdx', new IBA(texIdx, 1, 1));\r\n\r\n  var canvases = [\r\n    getElem('canvas', { width: 16384, height: 16384, }),\r\n    getElem('canvas', { width: 16384, height: 16384, }),\r\n  ];\r\n\r\n  for (var i=0; i&lt;canvases.length; i++) {\r\n    var canvas = canvases[i];\r\n    var ctx = canvas.getContext('2d');\r\n    ctx.fillStyle = i == 0 ? 'red' : 'blue';\r\n    ctx.rect(0, 0, 16384, 16384);\r\n    ctx.fill();\r\n  }\r\n\r\n  window.canvases = canvases;\r\n\r\n  var material = new THREE.RawShaderMaterial({\r\n    uniforms: {\r\n      a: {\r\n        type: 't',\r\n        value: getTexture(canvases[0]),\r\n      },\r\n      b: {\r\n        type: 't',\r\n        value: getTexture(canvases[1]),\r\n      }\r\n    },\r\n    vertexShader: document.getElementById('vertex-shader').textContent,\r\n    fragmentShader: document.getElementById('fragment-shader').textContent,\r\n  });\r\n  var mesh = new THREE.Points(geometry, material);\r\n  mesh.frustumCulled = false; // prevent the mesh from being clipped on drag\r\n  scene.add(mesh);\r\n}\r\n\r\nfunction getTexture(canvas) {\r\n  var tex = new THREE.Texture(canvas);\r\n  tex.needsUpdate = true;\r\n  tex.flipY = false;\r\n  return tex;\r\n}\r\n\r\n/**\r\n* Create an element\r\n**/\r\n\r\nfunction getElem(tag, obj) {\r\n  var obj = obj || {};\r\n  var elem = document.createElement(tag);\r\n  Object.keys(obj).forEach(function(attr) {\r\n    elem[attr] = obj[attr];\r\n  })\r\n  return elem;\r\n}\r\n\r\n/**\r\n* Render!\r\n**/\r\n\r\nfunction render() {\r\n  requestAnimationFrame(render);\r\n  renderer.render(scene, camera);\r\n  controls.update();\r\n};\r\n\r\n/**\r\n* Main\r\n**/\r\n\r\nvar scene = getScene();\r\nvar camera = getCamera();\r\nvar renderer = getRenderer();\r\nvar controls = getControls(camera, renderer);\r\naddPoints(scene);\r\nrender();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\r\n&lt;head&gt;\r\n  &lt;style&gt;\r\n  html, body { width: 100%; height: 100%; background: #000; }\r\n  body { margin: 0; overflow: hidden; }\r\n  canvas { width: 100%; height: 100%; }\r\n  &lt;/style&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n  &lt;script src='https://cdnjs.cloudflare.com/ajax/libs/three.js/88/three.min.js'&gt;&lt;/script&gt;\r\n  &lt;script src='https://rawgit.com/YaleDHLab/pix-plot/master/assets/js/trackball-controls.js'&gt;&lt;/script&gt;\r\n\r\n    &lt;script type='x-shader/x-vertex' id='vertex-shader'&gt;\r\n    precision highp float;\r\n\r\n    uniform mat4 modelViewMatrix;\r\n    uniform mat4 projectionMatrix;\r\n\r\n    uniform vec3 cameraPosition;\r\n\r\n    attribute vec3 position; // sets the blueprint's vertex positions\r\n    attribute vec3 translation; // x y translation offsets for an instance\r\n    attribute float texIdx; // the texture index to access\r\n\r\n    varying float vTexIdx;\r\n\r\n    void main() {\r\n      // set point position\r\n      vec3 pos = position + translation;\r\n      vec4 projected = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\r\n      gl_Position = projected;\r\n\r\n      // assign the varyings\r\n      vTexIdx = texIdx;\r\n\r\n      // use the delta between the point position and camera position to size point\r\n      float xDelta = pow(projected[0] - cameraPosition[0], 2.0);\r\n      float yDelta = pow(projected[1] - cameraPosition[1], 2.0);\r\n      float zDelta = pow(projected[2] - cameraPosition[2], 2.0);\r\n      float delta  = pow(xDelta + yDelta + zDelta, 0.5);\r\n      gl_PointSize = 40000.0 / delta;\r\n    }\r\n    &lt;/script&gt;\r\n\r\n    &lt;script type='x-shader/x-fragment' id='fragment-shader'&gt;\r\n    precision highp float;\r\n\r\n    uniform sampler2D a;\r\n    uniform sampler2D b;\r\n\r\n    varying float vTexIdx;\r\n\r\n    void main() {\r\n      int textureIndex = int(vTexIdx);\r\n      vec2 uv = vec2(gl_PointCoord.x, gl_PointCoord.y);\r\n      if (textureIndex == 0) {\r\n        gl_FragColor = texture2D(a, uv);\r\n      } else if (textureIndex == 1) {\r\n        gl_FragColor = texture2D(b, uv);\r\n      }\r\n    }\r\n    &lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>After building this scene, I try to make all points red by running the following lines in the console:</p>\n\n<pre><code>var texIdxAttr = scene.children[0].geometry.attributes.texIdx.array;\nfor (var i=0; i&lt;texIdxAttr.length; i++) {\n  scene.children[0].geometry.attributes.texIdx.array[i] = 0;\n}\nscene.children[0].geometry.verticesNeedUpdate = true;\nscene.children[0].geometry.elementsNeedUpdate = true;\nscene.children[0].geometry.uvsNeedUpdate = true;\n</code></pre>\n\n<p>But this appears to change nothing. Does anyone know what I can do to update the <code>texIdx</code> attribute values and re-render the scene after the initial render? I'd be grateful for any help others can offer with this question.</p>\n"}, {"tags": ["javascript", "arcgis", "arcgis-js-api", "javascript-debugger"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1532557686, "post_id": 51528501, "comment_id": 90025567, "body": "If you make multiple changes to the DOM, you don&#39;t see the intermediate steps, only the final result (unless you use transitions or animation)."}, {"owner": {"reputation": 1537, "user_id": 6702203, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/596141044cac45a2b336c0f8f5c92a82?s=128&d=identicon&r=PG", "display_name": "JM-AGMS", "link": "https://stackoverflow.com/users/6702203/jm-agms"}, "edited": false, "score": 0, "creation_date": 1532558692, "post_id": 51528501, "comment_id": 90025791, "body": "You can put a <code>setTimeout()</code> for <code>renderMapOpacity()</code> to keep the loading gif up longer. Your script is making it appear, but you don&#39;t see it because it goes away in a few milliseconds."}, {"owner": {"reputation": 31, "user_id": 9812648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6097c601c89c820bd4dfeca8bbf445c8?s=128&d=identicon&r=PG", "display_name": "Maria", "link": "https://stackoverflow.com/users/9812648/maria"}, "edited": false, "score": 0, "creation_date": 1532562413, "post_id": 51528501, "comment_id": 90026564, "body": "I don&#39;t think this is the reason since the renderMapOpacity function requires approx. 10 seconds to finish, so it shouldn&#39;t go away in milliseconds. Also, I&#39;m not familiar with what the DOM is."}], "owner": {"reputation": 31, "user_id": 9812648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6097c601c89c820bd4dfeca8bbf445c8?s=128&d=identicon&r=PG", "display_name": "Maria", "link": "https://stackoverflow.com/users/9812648/maria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1532562348, "creation_date": 1532557497, "last_edit_date": 1532562348, "question_id": 51528501, "link": "https://stackoverflow.com/questions/51528501/my-javascript-function-only-runs-when-there-is-a-breakpoint-in-the-browser-debug", "title": "My javascript function only runs when there is a breakpoint in the browser debugger?", "body": "<p>I am working with ArcGIS Javascript and have a layer of graphics on a map. When a user slides the 'opacity' range slider, it calls a changeOpacity function that in turn calls 2 functions:</p>\n\n<p>1) openModal function - puts a loading gif over top of the map.</p>\n\n<p>2) renderMapOpacity function - re-renders the graphics on the map to be the specified opacity. This function also closes the loading gif. </p>\n\n<p>When normally running, the first function loadingGif is skipped and only the second one happens.</p>\n\n<p>However, if I step through the javascript code using the chrome debugger, everything works as planned. </p>\n\n<p>Can anyone help me figure out what is wrong?</p>\n\n<p>The renderMapOpacity function can take a considerable amount of time, so I wanted a loading gif to appear while it processes the data.</p>\n\n<p>Here is some of the related code:</p>\n\n<p>HTML of slider:</p>\n\n<pre><code>&lt;input class=\"slider\" type=\"range\" min=\"0\" max=\"1\" step=\"0.1\" value=\"1\" style=\"width:100%\" onchange=\"MapLibrary.changeOpacity(this.form.id, this.value)\" id=\"slider\" /&gt;\n</code></pre>\n\n<p>Javascript:</p>\n\n<pre><code>changeOpacity: function (viewNum, Opacity) {\n\n    if (Opacity == 1) {\n        submitForm(viewNum);\n    }\n    else {\n        openModal(viewNum.slice(-1));\n        renderMapOpacity((viewNum.slice(-1)), Opacity);\n    }\n}\n</code></pre>\n\n<p>Some notes about the <code>submitForm</code> function, this renders the map at regular opacity. The <code>submitForm</code> button calls <code>openModal</code> as well so it is not needed in the if statement. Specifically, the <code>submitForm</code> function calls <code>openModal</code>, then sends an XHR request to a controller and then calls a function called <code>renderMap</code> (similar to <code>renderMapOpacity</code>, it renders graphics and also closes the loading gif at the end). And this method works to open and close the loading gif oddly.</p>\n\n<p>A note about the <code>renderMapOpacity</code> function, it requires approx. 10 seconds to finish, so there would be plenty of time to see the loading gif spin.</p>\n"}, {"tags": ["javascript", "node.js", "ecmascript-6"], "comments": [{"owner": {"reputation": 696, "user_id": 10026757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xFRJf.png?s=128&g=1", "display_name": "Fobos", "link": "https://stackoverflow.com/users/10026757/fobos"}, "edited": false, "score": 0, "creation_date": 1532596855, "post_id": 51528469, "comment_id": 90038264, "body": "look my answer below"}], "answers": [{"comments": [{"owner": {"reputation": 1790, "user_id": 1765642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YCwyS.jpg?s=128&g=1", "display_name": "Ajay Kumar Ganesh", "link": "https://stackoverflow.com/users/1765642/ajay-kumar-ganesh"}, "edited": false, "score": 0, "creation_date": 1532558001, "post_id": 51528499, "comment_id": 90025639, "body": "I can&#39;t use lodash, I did lookup multiple filters chaining - but didn&#39;t succeed.  also can&#39;t use lodash :("}], "tags": [], "owner": {"reputation": 13343, "user_id": 1483977, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XryCl.jpg?s=128&g=1", "display_name": "Michael Cole", "link": "https://stackoverflow.com/users/1483977/michael-cole"}, "is_accepted": false, "score": 1, "last_activity_date": 1532558144, "last_edit_date": 1532558144, "creation_date": 1532557488, "answer_id": 51528499, "question_id": 51528469, "link": "https://stackoverflow.com/questions/51528469/how-do-i-filter-nested-array-of-objects-on-multiple-conditions/51528499#51528499", "title": "How do I filter nested array of objects on multiple conditions?", "body": "<p>There are a couple approaches to this.  You can implement this in pure JS, and I recommend <a href=\"https://lodash.com/\" rel=\"nofollow noreferrer\">Lodash</a>:</p>\n\n<p>1) Lodash <a href=\"https://lodash.com/docs/4.17.10#filter\" rel=\"nofollow noreferrer\">filter</a>s</p>\n\n<pre><code>``` javascript\nvar users = [\n  { 'user': 'barney', 'age': 36, 'active': true },\n  { 'user': 'fred',   'age': 40, 'active': false }\n];\n\n_.filter(users, function(o) { return !o.active; });\n// =&gt; objects for ['fred']\n\n// The `_.matches` iteratee shorthand.\n_.filter(users, { 'age': 36, 'active': true });\n// =&gt; objects for ['barney']\n\n// The `_.matchesProperty` iteratee shorthand.\n_.filter(users, ['active', false]);\n// =&gt; objects for ['fred']\n\n// The `_.property` iteratee shorthand.\n_.filter(users, 'active');\n// =&gt; objects for ['barney']\n```\n</code></pre>\n\n<p>2) JavaScript ES5 <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\">filter()</a></p>\n\n<pre><code>``` javascript\nvar words = ['spray', 'limit', 'elite', 'exuberant', 'destruction', 'present'];\n\nvar result = words\n  .filter(word =&gt; word.length &gt; 6)\n  .filter(word =&gt; word.length &lt; 8);\n\nconsole.log(result);\n// expected output: Array [\"present\"]\n```\n</code></pre>\n\n<p>2) <a href=\"http://jcla1.com/blog/javascript-mapreduce\" rel=\"nofollow noreferrer\">MapReduce</a></p>\n\n<p><a href=\"http://jcla1.com/blog/javascript-mapreduce\" rel=\"nofollow noreferrer\">MapReduce</a> is one of my favorite tools for working with sets/collections.</p>\n\n<p>You used <code>map()</code> in your code above.  The trick might be to change <code>map</code> to <code>reduce</code>.</p>\n\n<p>With <code>map</code>, you get a 1-1 ratio of collection items in and out.</p>\n\n<p>With <code>reduce</code>, you get as many items as you like generated for each item in the input.  E.g.</p>\n\n<pre><code>``` javascript\nvar stuff = ['couch', 'chair', 'desk'];\n\nvar hasFiveLetters = stuff.reduce((total, item) =&gt; {\n  if (item.length === 5) total.push(item);  // add to total any items you like\n  return total;  // don't forget to return total!\n}, []);  // initialize total to []\n\nconsole.log(hasFiveLetters); // ['couch', 'chair'];\n\n```\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1237, "user_id": 2397717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DtsVA.jpg?s=128&g=1", "display_name": "Sookie Singh", "link": "https://stackoverflow.com/users/2397717/sookie-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1532560767, "last_edit_date": 1532560767, "creation_date": 1532559183, "answer_id": 51528743, "question_id": 51528469, "link": "https://stackoverflow.com/questions/51528469/how-do-i-filter-nested-array-of-objects-on-multiple-conditions/51528743#51528743", "title": "How do I filter nested array of objects on multiple conditions?", "body": "<p>Lodash find and filter can be used for this. <strong>Find</strong> will be faster in nested array as compared to <strong>Filter</strong> it needs to match first occurrence.</p>\n\n<pre><code>json = ctype ? _.filter(json, function(o) {\n    return o.criteriaType === ctype;\n}) || json;\njson = objectId ? _.filter(json, function(o) {\n    return o.id === objectId;\n}) || json;\njson = source ? _.filter(json, function(o) {\n    return _.find(o.input, function(input_object) {\n        return input_object.source === source;\n    });\n}) || json;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1237, "user_id": 2397717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DtsVA.jpg?s=128&g=1", "display_name": "Sookie Singh", "link": "https://stackoverflow.com/users/2397717/sookie-singh"}, "edited": false, "score": 0, "creation_date": 1532559723, "post_id": 51528783, "comment_id": 90026036, "body": "From this solution, I understood the actual problem."}, {"owner": {"reputation": 1790, "user_id": 1765642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YCwyS.jpg?s=128&g=1", "display_name": "Ajay Kumar Ganesh", "link": "https://stackoverflow.com/users/1765642/ajay-kumar-ganesh"}, "edited": false, "score": 0, "creation_date": 1532561183, "post_id": 51528783, "comment_id": 90026313, "body": "Thanks a lot :) Lemme work more on it and see if it could be optimized more."}], "tags": [], "owner": {"reputation": 4071, "user_id": 3808826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ES3hJ.jpg?s=128&g=1", "display_name": "D. Seah", "link": "https://stackoverflow.com/users/3808826/d-seah"}, "is_accepted": true, "score": 1, "last_activity_date": 1532559481, "creation_date": 1532559481, "answer_id": 51528783, "question_id": 51528469, "link": "https://stackoverflow.com/questions/51528469/how-do-i-filter-nested-array-of-objects-on-multiple-conditions/51528783#51528783", "title": "How do I filter nested array of objects on multiple conditions?", "body": "<p>requirements are filters are optional, and none of the source matches parent shall not be returned <a href=\"https://jsfiddle.net/cpk18dt4/9/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/cpk18dt4/9/</a></p>\n\n<p>Comments are in the code. hope it explains what the function does.</p>\n\n<pre><code>const fnFilter = (criteriaType, id, source) =&gt; {\n  let result = oData;\n\n  if (criteriaType) { // it can be null (optional)\n    result = result.filter(d =&gt; d.criteriaType === criteriaType);\n  }\n  if (id) { // it can be null (optional)\n    result = result.filter(d =&gt; d.id === id);\n  }\n  if (source) { // it can be null (optional)\n    result = result.filter(d =&gt; {\n      const inputs = d.input.filter(inp =&gt; inp.source === source);\n\n      // If none of the input.source match, the parent object should be filtered out\n      if (inputs.length === 0) {\n        return false;\n      }\n      d.input = inputs;\n      return true;\n    });\n  }\n\n  return result;\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 696, "user_id": 10026757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xFRJf.png?s=128&g=1", "display_name": "Fobos", "link": "https://stackoverflow.com/users/10026757/fobos"}, "is_accepted": false, "score": 0, "last_activity_date": 1532596717, "last_edit_date": 1532596717, "creation_date": 1532561449, "answer_id": 51529040, "question_id": 51528469, "link": "https://stackoverflow.com/questions/51528469/how-do-i-filter-nested-array-of-objects-on-multiple-conditions/51529040#51529040", "title": "How do I filter nested array of objects on multiple conditions?", "body": "<p>Try this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    var obj = [{\r\n        \"id\": \"9be6c6299cca48f597fe71bc99c37b2f\",\r\n        \"caption\": \"caption1\",\r\n        \"criteriaType\": \"type2\",\r\n        \"input\": [\r\n            {\r\n                \"id_1\": \"66be4486ffd3431eb60e6ea6326158fe\",\r\n                \"criteriaId\": \"9be6c6299cca48f597fe71bc99c37b2f\",\r\n                \"source\": \"type1\",\r\n            },\r\n            {\r\n                \"id_1\": \"1ecdf410b3314865be2b52ca9b4c8539\",\r\n                \"criteriaId\": \"9be6c6299cca48f597fe71bc99c37b2f\",\r\n                \"source\": \"type2\",\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"id\": \"b83b3f081a7b45e087183740b12faf3a\",\r\n        \"caption\": \"caption1\",\r\n        \"criteriaType\": \"type1\",\r\n        \"input\": [\r\n            {\r\n                \"id_1\": \"f46da7ffa859425e922bdbb701cfcf88\",\r\n                \"criteriaId\": \"b83b3f081a7b45e087183740b12faf3a\",\r\n                \"source\": \"type3\",\r\n            },\r\n            {\r\n                \"id_1\": \"abb87219db254d108a1e0f774f88dfb6\",\r\n                \"criteriaId\": \"b83b3f081a7b45e087183740b12faf3a\",\r\n                \"source\": \"type1\",\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        \"id\": \"fe5b071a2d8a4a9da61bbd81b9271e31\",\r\n        \"caption\": \"caption1\",\r\n        \"criteriaType\": \"type1\",\r\n        \"input\": [\r\n            {\r\n                \"id_1\": \"7ea1b85e4dbc44e8b37d1110b565a081\",\r\n                \"criteriaId\": \"fe5b071a2d8a4a9da61bbd81b9271e31\",\r\n                \"source\": \"type3\",\r\n            },\r\n            {\r\n                \"id_1\": \"c5f943b61f674265b8237bb560cbed03\",\r\n                \"criteriaId\": \"fe5b071a2d8a4a9da61bbd81b9271e31\",\r\n                \"source\": \"type3\",\r\n            }\r\n        ]\r\n    }];\r\n    \r\n      \r\n    function filterObj(obj, column, value){\r\n    \tvar newArray = obj.filter(function (el) {\r\n      \t    if(el[column]){\r\n        \t    return el[column] == value;\r\n            }else{\r\n        \t    for(var key in el.input){\r\n                    if(typeof(el.input[key] == \"object\")){\r\n                        var item = el.input[key];\r\n                        if(item[column] == value){return item;}\r\n                    }\r\n                }\r\n            }\r\n    \t});\r\n        return newArray;\r\n    }\r\n    \r\n    console.log(filterObj(obj, 'caption','caption1'));\r\n    console.log(filterObj(obj, 'criteriaId','fe5b071a2d8a4a9da61bbd81b9271e31'));\r\n    console.log(filterObj(obj, 'id_1','1ecdf410b3314865be2b52ca9b4c8539'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1708, "user_id": 699091, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/756f98bed0971440ed0fc01d06a571e5?s=128&d=identicon&r=PG", "display_name": "qais", "link": "https://stackoverflow.com/users/699091/qais"}, "is_accepted": false, "score": 0, "last_activity_date": 1532570128, "creation_date": 1532570128, "answer_id": 51529907, "question_id": 51528469, "link": "https://stackoverflow.com/questions/51528469/how-do-i-filter-nested-array-of-objects-on-multiple-conditions/51529907#51529907", "title": "How do I filter nested array of objects on multiple conditions?", "body": "<pre><code>// if field has a value, filter on it, else return original json\nconst having = (json, field, val) =&gt;\n  val ? json.filter(j =&gt; j[field] === val) : json\n\nconst filterBySource = (json, source) =&gt; {\n  if (!source) return json\n  return json.filter(\n    j =&gt; j.input.length &gt; 0 &amp;&amp; j.input.some(input =&gt; input.source === source)\n  )\n}\n\nfunction search(json, params = {}) {\n  const { objectId: id, ctype: criteriaType, inputSource: source } = params\n\n  // if no filters, return the whole json\n  if (!(id || criteriaType || source)) return json\n\n  let result\n  result = having(json, 'id', id)\n  result = having(result, 'criteriaType', criteriaType)\n\n  return filterBySource(result, source)\n}\n\nconst params = {\n  objectId: 'fe5b071a2d8a4a9da61bbd81b9271e31',\n  ctype: 'type1',\n  inputSource: 'type3'\n}\n\nsearch(json, params).map(({ id, caption, criteriaType, input }) =&gt; {\n  // do something with filtered json\n})\n</code></pre>\n"}], "owner": {"reputation": 1790, "user_id": 1765642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YCwyS.jpg?s=128&g=1", "display_name": "Ajay Kumar Ganesh", "link": "https://stackoverflow.com/users/1765642/ajay-kumar-ganesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3138, "favorite_count": 1, "accepted_answer_id": 51528783, "answer_count": 5, "score": 3, "last_activity_date": 1532596717, "creation_date": 1532557247, "last_edit_date": 1532557656, "question_id": 51528469, "link": "https://stackoverflow.com/questions/51528469/how-do-i-filter-nested-array-of-objects-on-multiple-conditions", "title": "How do I filter nested array of objects on multiple conditions?", "body": "<p>Below is the sample array of objects. \nI'm looking to filter this on basis of <code>criteriaType</code>, <code>id</code> &amp; <code>source</code>. If none of the <code>input.source</code> match, the parent object should be filtered out. Also all the filter criteria are optional. </p>\n\n<pre><code>[{\n    \"id\": \"9be6c6299cca48f597fe71bc99c37b2f\",\n    \"caption\": \"caption1\",\n    \"criteriaType\": \"type2\",\n    \"input\": [\n        {\n            \"id_1\": \"66be4486ffd3431eb60e6ea6326158fe\",\n            \"criteriaId\": \"9be6c6299cca48f597fe71bc99c37b2f\",\n            \"source\": \"type1\",\n        },\n        {\n            \"id_1\": \"1ecdf410b3314865be2b52ca9b4c8539\",\n            \"criteriaId\": \"9be6c6299cca48f597fe71bc99c37b2f\",\n            \"source\": \"type2\",\n        }\n    ]\n},\n{\n    \"id\": \"b83b3f081a7b45e087183740b12faf3a\",\n    \"caption\": \"caption1\",\n    \"criteriaType\": \"type1\",\n    \"input\": [\n        {\n            \"id_1\": \"f46da7ffa859425e922bdbb701cfcf88\",\n            \"criteriaId\": \"b83b3f081a7b45e087183740b12faf3a\",\n            \"source\": \"type3\",\n        },\n        {\n            \"id_1\": \"abb87219db254d108a1e0f774f88dfb6\",\n            \"criteriaId\": \"b83b3f081a7b45e087183740b12faf3a\",\n            \"source\": \"type1\",\n        }\n    ]\n},\n{\n    \"id\": \"fe5b071a2d8a4a9da61bbd81b9271e31\",\n    \"caption\": \"caption1\",\n    \"criteriaType\": \"type1\",\n    \"input\": [\n        {\n            \"id_1\": \"7ea1b85e4dbc44e8b37d1110b565a081\",\n            \"criteriaId\": \"fe5b071a2d8a4a9da61bbd81b9271e31\",\n            \"source\": \"type3\",\n        },\n        {\n            \"id_1\": \"c5f943b61f674265b8237bb560cbed03\",\n            \"criteriaId\": \"fe5b071a2d8a4a9da61bbd81b9271e31\",\n            \"source\": \"type3\",\n        }\n    ]\n}]\n</code></pre>\n\n<p>I was able to achieve just filter by <code>criteriaType</code> &amp; <code>id</code>. But I'm not able to filter by <code>source</code> also to make sure that parent isn't returned if none of the input.source match.</p>\n\n<pre><code>var json = &lt;&lt;array of objects&gt;&gt; ;\nconst {objectId: id, ctype: criteriaType, inputSource: source } = param; // getting the the params\njson = ctype ? json.filter(({criteriaType}) =&gt; criteriaType === ctype ): json;\njson = (objectId ? json.filter(({id}) =&gt; id === objectId ): json)\n       .map (({id, caption, criteriaType, input }) =&gt; {\n         //some manipulation \n         return { //results after manipulation}\n       })\n</code></pre>\n\n<p>Help me out! Thanks in advance. I'm not sure if we could chain filters to achieve it. </p>\n\n<p><em>looking for esLint compatible code</em></p>\n"}, {"tags": ["javascript", "opencv"], "comments": [{"owner": {"reputation": 2894, "user_id": 6599076, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Ajyqg.png?s=128&g=1", "display_name": "BRass", "link": "https://stackoverflow.com/users/6599076/brass"}, "edited": false, "score": 0, "creation_date": 1532697100, "post_id": 51528462, "comment_id": 90084194, "body": "I don&#39;t fully understand it, but I found that the <code>foundContour</code> above is a 2-channel <code>Mat</code> object.  It seems <code>minMaxLoc</code> can only be called on single-channel <code>Mat</code>&#39;s.  I&#39;m not certain how to convert it, but I was able to get X/Y data out of the <code>foundContour.data32S[]</code> array.  There&#39;s likely a better way, but this as good as I&#39;ve gotten at this point."}], "answers": [{"comments": [{"owner": {"reputation": 803, "user_id": 6647833, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bf932381c70fff15d5f5ccd6a06ea95e?s=128&d=identicon&r=PG&f=1", "display_name": "smchae", "link": "https://stackoverflow.com/users/6647833/smchae"}, "edited": false, "score": 0, "creation_date": 1543379057, "post_id": 51601196, "comment_id": 93893542, "body": "what is <code>matDestTransformed</code> in this case? Is it original image source?"}, {"owner": {"reputation": 2894, "user_id": 6599076, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Ajyqg.png?s=128&g=1", "display_name": "BRass", "link": "https://stackoverflow.com/users/6599076/brass"}, "reply_to_user": {"reputation": 803, "user_id": 6647833, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bf932381c70fff15d5f5ccd6a06ea95e?s=128&d=identicon&r=PG&f=1", "display_name": "smchae", "link": "https://stackoverflow.com/users/6647833/smchae"}, "edited": false, "score": 0, "creation_date": 1543409518, "post_id": 51601196, "comment_id": 93908363, "body": "Bad name on my part.  Yes, that would be the image source that you want to process.  I took this from a chunk of other processing code, and in my case it was the output of another process (but an input into this one)."}, {"owner": {"reputation": 433, "user_id": 75612, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8814d4f18e0476b670acf635225260a0?s=128&d=identicon&r=PG", "display_name": "NccWarp9", "link": "https://stackoverflow.com/users/75612/nccwarp9"}, "edited": false, "score": 0, "creation_date": 1553033759, "post_id": 51601196, "comment_id": 97234067, "body": "im getting an error on line with let sortableContours: sortableContour[] = [];  Error: Unexpected token :  ??"}, {"owner": {"reputation": 2894, "user_id": 6599076, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Ajyqg.png?s=128&g=1", "display_name": "BRass", "link": "https://stackoverflow.com/users/6599076/brass"}, "reply_to_user": {"reputation": 433, "user_id": 75612, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8814d4f18e0476b670acf635225260a0?s=128&d=identicon&r=PG", "display_name": "NccWarp9", "link": "https://stackoverflow.com/users/75612/nccwarp9"}, "edited": false, "score": 0, "creation_date": 1553115969, "post_id": 51601196, "comment_id": 97271520, "body": "@NccWarp9 - I added my definition of that <code>SortableContour</code> type.  However, note that the code was meant as a guide that tells most of the story, not as a solution that runs on its own end-to-end."}, {"owner": {"reputation": 175, "user_id": 2453583, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NVvUJ.jpg?s=128&g=1", "display_name": "roccolocko", "link": "https://stackoverflow.com/users/2453583/roccolocko"}, "edited": false, "score": 0, "creation_date": 1601327806, "post_id": 51601196, "comment_id": 113367904, "body": "I think there is a small mistake on the code new sortableContour should be new SortableContour"}], "tags": [], "owner": {"reputation": 2894, "user_id": 6599076, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Ajyqg.png?s=128&g=1", "display_name": "BRass", "link": "https://stackoverflow.com/users/6599076/brass"}, "is_accepted": true, "score": 7, "last_activity_date": 1601396467, "last_edit_date": 1601396467, "creation_date": 1532979785, "answer_id": 51601196, "question_id": 51528462, "link": "https://stackoverflow.com/questions/51528462/opencv-js-perspective-transform/51601196#51601196", "title": "opencv.js perspective transform", "body": "<p>For anyone else looking to do this in OpenCV.JS, what I commented above seems to still be accurate.  The contour found can't be used with <code>minMaxLoc</code>, but the X/Y data can be pulled out of <code>data32S[]</code>.  That should be all that's needed to do this perspective transform.  Some code is below.</p>\n<pre><code>//Find all contours\nlet contours = new cv.MatVector();\nlet hierarchy = new cv.Mat();\ncv.findContours(matDest, contours, hierarchy, cv.RETR_LIST, cv.CHAIN_APPROX_SIMPLE);\n\n//Get area for all contours so we can find the biggest\nlet sortableContours: SortableContour[] = [];\nfor (let i = 0; i &lt; contours.size(); i++) {\n  let cnt = contours.get(i);\n  let area = cv.contourArea(cnt, false);\n  let perim = cv.arcLength(cnt, false);\n\n  sortableContours.push(new SortableContour({ areaSize: area, perimiterSize: perim, contour: cnt }));\n}\n\n//Sort 'em\nsortableContours = sortableContours.sort((item1, item2) =&gt; { return (item1.areaSize &gt; item2.areaSize) ? -1 : (item1.areaSize &lt; item2.areaSize) ? 1 : 0; }).slice(0, 5);\n\n//Ensure the top area contour has 4 corners (NOTE: This is not a perfect science and likely needs more attention)\nlet approx = new cv.Mat();\ncv.approxPolyDP(sortableContours[0].contour, approx, .05 * sortableContours[0].perimiterSize, true);\n\nif (approx.rows == 4) {\n  console.log('Found a 4-corner approx');\n  foundContour = approx;\n}\nelse{\n  console.log('No 4-corner large contour!');\n  return;\n}\n\n//Find the corners\n//foundCountour has 2 channels (seemingly x/y), has a depth of 4, and a type of 12.  Seems to show it's a CV_32S &quot;type&quot;, so the valid data is in data32S??\nlet corner1 = new cv.Point(foundContour.data32S[0], foundContour.data32S[1]);\nlet corner2 = new cv.Point(foundContour.data32S[2], foundContour.data32S[3]);\nlet corner3 = new cv.Point(foundContour.data32S[4], foundContour.data32S[5]);\nlet corner4 = new cv.Point(foundContour.data32S[6], foundContour.data32S[7]);\n\n//Order the corners\nlet cornerArray = [{ corner: corner1 }, { corner: corner2 }, { corner: corner3 }, { corner: corner4 }];\n//Sort by Y position (to get top-down)\ncornerArray.sort((item1, item2) =&gt; { return (item1.corner.y &lt; item2.corner.y) ? -1 : (item1.corner.y &gt; item2.corner.y) ? 1 : 0; }).slice(0, 5);\n\n//Determine left/right based on x position of top and bottom 2\nlet tl = cornerArray[0].corner.x &lt; cornerArray[1].corner.x ? cornerArray[0] : cornerArray[1];\nlet tr = cornerArray[0].corner.x &gt; cornerArray[1].corner.x ? cornerArray[0] : cornerArray[1];\nlet bl = cornerArray[2].corner.x &lt; cornerArray[3].corner.x ? cornerArray[2] : cornerArray[3];\nlet br = cornerArray[2].corner.x &gt; cornerArray[3].corner.x ? cornerArray[2] : cornerArray[3];\n\n//Calculate the max width/height\nlet widthBottom = Math.hypot(br.corner.x - bl.corner.x, br.corner.y - bl.corner.y);\nlet widthTop = Math.hypot(tr.corner.x - tl.corner.x, tr.corner.y - tl.corner.y);\nlet theWidth = (widthBottom &gt; widthTop) ? widthBottom : widthTop;\nlet heightRight = Math.hypot(tr.corner.x - br.corner.x, tr.corner.y - br.corner.y);\nlet heightLeft = Math.hypot(tl.corner.x - bl.corner.x, tr.corner.y - bl.corner.y);\nlet theHeight = (heightRight &gt; heightLeft) ? heightRight : heightLeft;\n\n//Transform!\nlet finalDestCoords = cv.matFromArray(4, 1, cv.CV_32FC2, [0, 0, theWidth - 1, 0, theWidth - 1, theHeight - 1, 0, theHeight - 1]); //\nlet srcCoords = cv.matFromArray(4, 1, cv.CV_32FC2, [tl.corner.x, tl.corner.y, tr.corner.x, tr.corner.y, br.corner.x, br.corner.y, bl.corner.x, bl.corner.y]);\nlet dsize = new cv.Size(theWidth, theHeight);\nlet M = cv.getPerspectiveTransform(srcCoords, finalDestCoords)\ncv.warpPerspective(matDestTransformed, finalDest, M, dsize, cv.INTER_LINEAR, cv.BORDER_CONSTANT, new cv.Scalar());\n</code></pre>\n<p>For reference, here is the class definition I was using for <code>SortableContour</code>.  The code above is meant as a guide, not as something that can run on its own, however.</p>\n<pre><code>export class SortableContour {\n    perimiterSize: number;\n    areaSize: number;\n    contour: any;\n  \n    constructor(fields: Partial&lt;SortableContour&gt;) {\n      Object.assign(this, fields);\n    }\n  }\n</code></pre>\n"}], "owner": {"reputation": 2894, "user_id": 6599076, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Ajyqg.png?s=128&g=1", "display_name": "BRass", "link": "https://stackoverflow.com/users/6599076/brass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3314, "favorite_count": 4, "accepted_answer_id": 51601196, "answer_count": 1, "score": 1, "last_activity_date": 1601396467, "creation_date": 1532557158, "question_id": 51528462, "link": "https://stackoverflow.com/questions/51528462/opencv-js-perspective-transform", "title": "opencv.js perspective transform", "body": "<p>I'm trying to use opencv.js to find a document in a provided image (detect edges, apply perspective transform, etc.</p>\n\n<p>I've got a reasonable set of code that (occasionally) detects edges of a document and grabs the bounding box for that.  However, I'm struggling to do the perspective transform steps.  There are some helpers for this (not in JS) <a href=\"https://stackoverflow.com/questions/22519545/automatic-perspective-correction-opencv/22550609#22550609\">here</a> and <a href=\"https://www.pyimagesearch.com/2014/08/25/4-point-opencv-getperspective-transform-example/\" rel=\"nofollow noreferrer\">here</a>.  </p>\n\n<p>Unfortunately I'm getting stuck on something simple.  I can find the matching <code>Mat</code> that has 4 edges.  Displaying that shows it to be accurate.  However, I have no idea how to get some simple X/Y info out of that <code>Mat</code>.  I thought <code>minMaxLoc()</code> would be a good option, but I keep getting an error passing in my matching <code>Mat</code>.  Any idea why I can draw <code>foundContour</code> and get bounding box info from it, but I can't call <code>minMaxLoc</code> on it?</p>\n\n<p>Code:</p>\n\n<pre><code>//&lt;Get Image&gt;\n//&lt;Convert to Gray, do GaussianBlur, and do Canny edge detection&gt;\nlet contours = new cv.MatVector();\ncv.findContours(matDestEdged, contours, hierarchy, cv.RETR_LIST, cv.CHAIN_APPROX_SIMPLE);\n\n//&lt;Sort resulting contours by area to get largest&gt;\n\nlet foundContour = null;\nfor (let sortableContour of sortableContours) {\n  let peri = cv.arcLength(sortableContour.contour, true);\n  let approx = new cv.Mat();\n  cv.approxPolyDP(sortableContour.contour, approx, 0.1 * peri, true);\n\n  if (approx.rows == 4) {\n    console.log('found it');\n    foundContour = approx\n    break;\n  }\n  else {\n    approx.delete();\n  }\n}\n\n//&lt;Draw foundContour and a bounding box to ensure it's accurate&gt;\n\n//TODO: Do a perspective transform\nlet result = cv.minMaxLoc(foundContour);\n</code></pre>\n\n<p>The last line above results in a runtime error (<code>Uncaught (in promise): 6402256 - Exception catching is disabled</code>).  I can run <code>minMaxLoc()</code> on other <code>Mat</code> objects.</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 33166, "user_id": 7509065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Joseph Sible-Reinstate Monica", "link": "https://stackoverflow.com/users/7509065/joseph-sible-reinstate-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1532557282, "creation_date": 1532557282, "answer_id": 51528472, "question_id": 51528438, "link": "https://stackoverflow.com/questions/51528438/how-to-forward-ref-of-child-inside-of-render-props-to-container-component-using/51528472#51528472", "title": "how to forward ref of child inside of render props to container component using createRef()?", "body": "<p>Create the ref objects in the class where you're doing the rendering. Pass them in with ref= to the components they attach to, as usual. Then pass them to the controller with some name(s) other than ref.</p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 10096153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee5166e4460d3f5e5d1835fad81e2538?s=128&d=identicon&r=PG", "display_name": "Max Bush", "link": "https://stackoverflow.com/users/10096153/max-bush"}, "is_accepted": false, "score": 0, "last_activity_date": 1532558218, "creation_date": 1532558218, "answer_id": 51528609, "question_id": 51528438, "link": "https://stackoverflow.com/questions/51528438/how-to-forward-ref-of-child-inside-of-render-props-to-container-component-using/51528609#51528609", "title": "how to forward ref of child inside of render props to container component using createRef()?", "body": "<p>When using the <code>ref</code> prop in React it is always assigned to the component you attach it to, for example if you attach <code>createRef()</code> to the <code>ref</code> prop on the controller the reference set will be the controller component. </p>\n\n<p>If you want to pass the <code>createRef()</code> deeper into the component, you need to use a different prop name e.g. <code>innerRef</code> you then can assign the <code>innerRef</code> prop to the child elements using the <code>ref</code> component e.g. <code>ref={props.innerRef}</code></p>\n\n<p>Additionally you can use the <code>React.forwardRef()</code> function component to allow you to still use ref but control what child element it is assigned to.</p>\n\n<blockquote>\n  <p><a href=\"https://reactjs.org/docs/forwarding-refs.html\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/forwarding-refs.html</a></p>\n</blockquote>\n"}], "owner": {"reputation": 285, "user_id": 9403803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/054c1b6adf672f39092480a09634a7f9?s=128&d=identicon&r=PG&f=1", "display_name": "J. Reku", "link": "https://stackoverflow.com/users/9403803/j-reku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1877, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1532558218, "creation_date": 1532556977, "question_id": 51528438, "link": "https://stackoverflow.com/questions/51528438/how-to-forward-ref-of-child-inside-of-render-props-to-container-component-using", "title": "how to forward ref of child inside of render props to container component using createRef()?", "body": "<p>I have a <code>&lt;Controller /&gt;</code> component which renders a bunch of elements in a render prop. Inside the render prop, I want to pass the CreatRef() refs of a bunch of elements back to their parent<code>&lt;Controller /&gt;</code>.</p>\n\n<pre><code>  &lt;Controller render={(props) =&gt; (\n    &lt;div className=\"ref-one\"&gt;\n      &lt;div className=\"ref-two\"&gt;\n        &lt;Stepper index={props.index} /&gt;\n        &lt;p&gt;one&lt;/p&gt;\n        &lt;p&gt;two&lt;/p&gt;\n        &lt;p&gt;three&lt;/p&gt;\n        &lt;h1&gt;{props.title}&lt;/h1&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  )}\n  /&gt;\n</code></pre>\n\n<p>So the refs should be accesable inside Controller. How to achieve this?</p>\n"}, {"tags": ["javascript", "arrays", "map-function"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1532557336, "post_id": 51528424, "comment_id": 90025498, "body": "Use <code>Category.forEach()</code> to loop through the category list. Inside that use <code>Items.forEach()</code> and test if the item&#39;s category ID matches the current category from the outer loop."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1532557358, "post_id": 51528424, "comment_id": 90025501, "body": "StackOverflow is not a free coding service. SO expects you to <a href=\"https://meta.stackoverflow.com/questions/261592\">try to solve your own problem first</a>. Please update your question to show what you have already tried in a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. For further information, please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, and take the <a href=\"https://stackoverflow.com/tour\">tour</a> :)"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 10045835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82730c7735324f203547e8a79f212fa5?s=128&d=identicon&r=PG&f=1", "display_name": "2019", "link": "https://stackoverflow.com/users/10045835/2019"}, "edited": false, "score": 0, "creation_date": 1532627336, "post_id": 51528557, "comment_id": 90057390, "body": "can we use ES8 methods such as object.entries for simplifying the code?"}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "reply_to_user": {"reputation": 71, "user_id": 10045835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82730c7735324f203547e8a79f212fa5?s=128&d=identicon&r=PG&f=1", "display_name": "2019", "link": "https://stackoverflow.com/users/10045835/2019"}, "edited": false, "score": 0, "creation_date": 1532627767, "post_id": 51528557, "comment_id": 90057624, "body": "Hey @Xman2018 that&#39;s a good questions \u2026 I think in this case they won&#39;t simplify much because you are starting with an array of objects and functions like <code>Object.entries</code> are used to make arrays from objects and their properties."}, {"owner": {"reputation": 71, "user_id": 10045835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82730c7735324f203547e8a79f212fa5?s=128&d=identicon&r=PG&f=1", "display_name": "2019", "link": "https://stackoverflow.com/users/10045835/2019"}, "edited": false, "score": 0, "creation_date": 1532630100, "post_id": 51528557, "comment_id": 90058705, "body": "Hey @Mark Meyer, Thank you for your reply. Could you please introduce a beneficial reference for using reduce method and Object Entries in reactjs from scratch? I know what the reduce method does in JS while I cannot understand the concept of using it on array of object to summarize them."}], "tags": [], "owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "is_accepted": true, "score": 0, "last_activity_date": 1532557810, "creation_date": 1532557810, "answer_id": 51528557, "question_id": 51528424, "link": "https://stackoverflow.com/questions/51528424/getting-value-description-of-an-objects-property-in-another-object/51528557#51528557", "title": "Getting Value (Description) of an object&#39;s property in another object", "body": "<p>You can look at each category and for each one <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\"><code>filter()</code></a> the matching items. This is easy, but will be a little slow if you have lots of data because you loop though the item list every time:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const Category = [{ ID: 100 , Description: 'Cate1'}, {ID: 101 , Description: 'Cate2'}]\r\nconst Items = [ {ID: 2001, 'CategoryID': 100, Desc: 'Item1' }, {ID: 2002, 'CategoryID': 100, Desc: 'Item2' }, {ID: 2003, 'CategoryID': 101, Desc: 'Item3' }, ]\r\n\r\nCategory.forEach(cat =&gt; {\r\n    console.log('ul&gt; '+cat.Description)\r\n    Items.filter(item =&gt; item.CategoryID === cat.ID)\r\n    .forEach(item =&gt; console.log('   li&gt; ' + item.Desc))\r\n})</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Alternatively you can build a lookup table for your items base on ID once, and then use it to find the items in constant time. This will be faster with larger data, but requires a little more work upfront:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const Category = [{ ID: 100 , Description: 'Cate1'}, {ID: 101 , Description: 'Cate2'}]\r\nconst Items = [ {ID: 2001, 'CategoryID': 100, Desc: 'Item1' }, {ID: 2002, 'CategoryID': 100, Desc: 'Item2' }, {ID: 2003, 'CategoryID': 101, Desc: 'Item3' }, ]\r\n\r\n\r\nlet lookup = Items.reduce((a, c) =&gt; {\r\n    (a[c.CategoryID] || (a[c.CategoryID] = [])).push(c)\r\n    return a\r\n}, {})\r\n\r\nCategory.forEach(cat =&gt; {\r\n    console.log('ul&gt; '+cat.Description)\r\n    lookup[cat.ID]\r\n    .forEach(item =&gt; console.log('   li&gt; ' + item.Desc))\r\n})</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 71, "user_id": 10045835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82730c7735324f203547e8a79f212fa5?s=128&d=identicon&r=PG&f=1", "display_name": "2019", "link": "https://stackoverflow.com/users/10045835/2019"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 51528557, "answer_count": 1, "score": 0, "last_activity_date": 1532557810, "creation_date": 1532556885, "last_edit_date": 1532557152, "question_id": 51528424, "link": "https://stackoverflow.com/questions/51528424/getting-value-description-of-an-objects-property-in-another-object", "title": "Getting Value (Description) of an object&#39;s property in another object", "body": "<p>I have to array of objects which can be related to each other through CategoryId. like below code:</p>\n\n<pre><code>const Category = [\n    { ID: 100 , Description: Cate1}, \n    {ID: 101 , Description: Cate2}\n]\nconst Items = [ \n    {ID: 2001, CategoryID: 100, Desc: Item1 }, \n    {ID: 2002, CategoryID: 100, Desc: Item2 }, \n    {ID: 2003, CategoryID: 101, Desc: Item3 }, \n]\n</code></pre>\n\n<p>I am going to distribute items by the use of map method in lis that are summarized in their own ul according to the category descriptions that are extracted from category id   which exists in both arrays. For example:</p>\n\n<pre><code>Cate1 &gt; ul\n  item1 &gt; li\n  item2 &gt; li\nCate2 &gt; ul\n  item3 &gt; li\n</code></pre>\n\n<p>.\n.\n.\nHow can I tackle this issue with Javascript or ES6/7/8?</p>\n"}, {"tags": ["javascript", "mongoose", "visual-studio-code"], "answers": [{"tags": [], "owner": {"reputation": 9517, "user_id": 3194372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89cc5d5ba3695c96e02e9ffc9b61f59?s=128&d=identicon&r=PG", "display_name": "Jason Cust", "link": "https://stackoverflow.com/users/3194372/jason-cust"}, "is_accepted": true, "score": 0, "last_activity_date": 1532557055, "creation_date": 1532557055, "answer_id": 51528444, "question_id": 51528416, "link": "https://stackoverflow.com/questions/51528416/behavior-of-this-variable-in-validation-with-mongoose-nodejs/51528444#51528444", "title": "Behavior of this variable in Validation with Mongoose + Nodejs", "body": "<p>Because you are using an <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"nofollow noreferrer\"><code>arrow function</code></a> for defining the validation method:</p>\n\n<blockquote>\n  <p>An arrow function expression has a shorter syntax than a function expression and <strong>does not have its own <code>this</code></strong>, <code>arguments</code>, <code>super</code>, or <code>new.target</code>. These function expressions are <strong>best suited for non-method functions</strong>, and they cannot be used as constructors.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 10135959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94183c36f5cc1045faf8295b5c39a82c?s=128&d=identicon&r=PG&f=1", "display_name": "Jackson Werka", "link": "https://stackoverflow.com/users/10135959/jackson-werka"}, "is_accepted": false, "score": 0, "last_activity_date": 1532558297, "creation_date": 1532558297, "answer_id": 51528619, "question_id": 51528416, "link": "https://stackoverflow.com/questions/51528416/behavior-of-this-variable-in-validation-with-mongoose-nodejs/51528619#51528619", "title": "Behavior of this variable in Validation with Mongoose + Nodejs", "body": "<p>Source code changed to use function and worked.</p>\n\n<pre><code>const valOwnerId = function(value) {\n   let self = this;\n   let callback = (resolve, reject) =&gt; {\n      Company.findOne({ numberId : value }).then( (company) =&gt; {\n         if (company &amp;&amp; (company.ownerId.toString() != self.ownerId.toString())) {\n            throw new Error('Esta companhia j\u00e1 est\u00e1 cadastrada para outro usu\u00e1rio.');\n         } else {\n            return resolve(true); \n         }\n      }, (error) =&gt; {\n         reject(error);\n      });\n   };\n   return new Promise(callback);\n}\nschema.path('numberId').validate( valOwnerId, 'Number ID `{VALUE}` is not valid.');\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10135959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94183c36f5cc1045faf8295b5c39a82c?s=128&d=identicon&r=PG&f=1", "display_name": "Jackson Werka", "link": "https://stackoverflow.com/users/10135959/jackson-werka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 51528444, "answer_count": 2, "score": 1, "last_activity_date": 1532558297, "creation_date": 1532556853, "question_id": 51528416, "link": "https://stackoverflow.com/questions/51528416/behavior-of-this-variable-in-validation-with-mongoose-nodejs", "title": "Behavior of this variable in Validation with Mongoose + Nodejs", "body": "<p>I'm trying to run a validation process for a field in the mongoose schema. However, the behavior of the \"this\" variable is different than expected. Because according to the documentation at: <a href=\"http://mongoosejs.com/docs/validation.html#update-validators-and-this\" rel=\"nofollow noreferrer\">http://mongoosejs.com/docs/validation.html#update-validators-and-this</a>, this should reference the object of the template being saved. However, when debugging in VsCode the Local reference to this is correct, however, the reference pointed to by the \"Watcher\" is another, the class reference of the module. Can anyone tell me why this occurs? How to access the correct this reference in this context?\n<a href=\"https://i.stack.imgur.com/ZBgEh.png\" rel=\"nofollow noreferrer\">VsCode Debug</a></p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 38258, "user_id": 560593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99c93a3c235763708dd7263e197acdc6?s=128&d=identicon&r=PG", "display_name": "Patrick Evans", "link": "https://stackoverflow.com/users/560593/patrick-evans"}, "edited": false, "score": 3, "creation_date": 1532557044, "post_id": 51528404, "comment_id": 90025412, "body": "async methods automatically return a promise. You return whatever you want inside the async method, that value will be used for the callbacks, meaning what you return isn&#39;t what actually gets returned by the function."}, {"owner": {"reputation": 517, "user_id": 7312355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/57ce505140904fd60f4e0d002b9a842e?s=128&d=identicon&r=PG&f=1", "display_name": "599644", "link": "https://stackoverflow.com/users/7312355/599644"}, "edited": false, "score": 0, "creation_date": 1532557328, "post_id": 51528404, "comment_id": 90025496, "body": "<code>public async loadDataAsync(): Promise&lt;any&gt; {</code> doesn&#39;t make sense. Either use <code>public async loadDataAsync(): any {</code> or <code>public loadDataAsync(): Promise&lt;any&gt; {</code> but not both <code>async</code> and <code>Promise&lt;any&gt;</code>"}, {"owner": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "reply_to_user": {"reputation": 38258, "user_id": 560593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99c93a3c235763708dd7263e197acdc6?s=128&d=identicon&r=PG", "display_name": "Patrick Evans", "link": "https://stackoverflow.com/users/560593/patrick-evans"}, "edited": false, "score": 0, "creation_date": 1532620609, "post_id": 51528404, "comment_id": 90053729, "body": "@PatrickEvans: <code>async</code> methods implicitly return a <code>Promise</code> and TypeScript requires you to specify so for such method signatures. That&#39;s what I&#39;ve meant by <code>I have to return some Promise from it, since async methods must return a Promise.</code>"}, {"owner": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "reply_to_user": {"reputation": 517, "user_id": 7312355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/57ce505140904fd60f4e0d002b9a842e?s=128&d=identicon&r=PG&f=1", "display_name": "599644", "link": "https://stackoverflow.com/users/7312355/599644"}, "edited": false, "score": 0, "creation_date": 1532620861, "post_id": 51528404, "comment_id": 90053898, "body": "@599644: You can&#39;t specify <code>any</code> as a return value type of an <code>async</code> method in TS. Check <a href=\"https://www.typescriptlang.org/play/#src=async%20function%20f()%3A%20any%20%7B%0D%0A%20%20%20%20return%201%3B%0D%0A%7D%0D%0A\" rel=\"nofollow noreferrer\">this</a>."}], "answers": [{"comments": [{"owner": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "edited": false, "score": 0, "creation_date": 1532618041, "post_id": 51528456, "comment_id": 90052047, "body": "Regarding your statement <code>You only use Async when you call Await, not on the promise method.</code> Could you explain why there is a TS Lint <a href=\"https://palantir.github.io/tslint/rules/promise-function-async/\" rel=\"nofollow noreferrer\">rule</a> <code>promise-function-async</code> which makes sure all methods returning a <code>Promise</code> must be <code>async</code>? From the existence of this rule and its rationale, one might believe marking all <code>Promise</code>-returning methods with <code>async</code> is a good practice."}, {"owner": {"reputation": 2359, "user_id": 4326715, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5f74p.jpg?s=128&g=1", "display_name": "Asleepace", "link": "https://stackoverflow.com/users/4326715/asleepace"}, "reply_to_user": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "edited": false, "score": 0, "creation_date": 1532631454, "post_id": 51528456, "comment_id": 90059307, "body": "@AlexanderAbakumov thanks for pointing that out, I updated my answer to reflect that point!"}], "tags": [], "owner": {"reputation": 2359, "user_id": 4326715, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5f74p.jpg?s=128&g=1", "display_name": "Asleepace", "link": "https://stackoverflow.com/users/4326715/asleepace"}, "is_accepted": true, "score": 3, "last_activity_date": 1532632127, "last_edit_date": 1532632127, "creation_date": 1532557112, "answer_id": 51528456, "question_id": 51528404, "link": "https://stackoverflow.com/questions/51528404/rewrite-promise-based-code-with-async-await/51528456#51528456", "title": "Rewrite Promise-based code with async\\await", "body": "<p>Ideally if you can change the function declaration, just add the <code>async</code> keyword to <code>loadData</code> and use <code>await</code> inside like so:</p>\n\n<pre><code>public async loadData(id: string): void {\n    let data: any;\n\n    try {\n        data = await this.loadDataAsync();\n    } catch(ex) {\n         // Do something with ex\n    }\n}\n</code></pre>\n\n<p>If you are unable to change the <code>loadData</code> function declaration, then you can just create an anonymous <code>async</code> function inside, and then call <code>await</code> within the anonymous function like so:</p>\n\n<pre><code>public loadData(id: string): void {\n    let data: any;\n\n    try {\n        data = (async () =&gt; { return await this.loadDataAsync() })();\n    } catch(ex) {\n         // Do something with ex\n    }\n}\n\npublic async loadDataAsync(): Promise&lt;any&gt; {\n    return new Promise((resolve, reject) =&gt; {\n        // Logic goes here\n        resolve(data);\n    });\n}\n</code></pre>\n\n<p>Whenever you use the <code>await</code> keyword, the surrounding function must be marked as <code>async</code>.</p>\n\n<hr>\n\n<p>As was pointed out by the OP in the comments, in TypeScript it is best practice to mark the promise returning method with <code>async</code> as well (see the <code>loadDataAsync</code> function above), as this ensures the return type is always a promise. More info on that found here:</p>\n\n<p><a href=\"https://blog.bitsrc.io/keep-your-promises-in-typescript-using-async-await-7bdc57041308\" rel=\"nofollow noreferrer\">TypeScript Async / Await Tutorial</a></p>\n"}], "owner": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 683, "favorite_count": 0, "accepted_answer_id": 51528456, "answer_count": 1, "score": 1, "last_activity_date": 1532632127, "creation_date": 1532556743, "question_id": 51528404, "link": "https://stackoverflow.com/questions/51528404/rewrite-promise-based-code-with-async-await", "title": "Rewrite Promise-based code with async\\await", "body": "<p>I'm trying to rewrite this <code>Promise</code>-based code using <code>async</code> \\ <code>await</code>:</p>\n\n<pre><code>public loadData(id: string): void {\n    this.loadDataAsync()\n        .then((data: any): void =&gt; {\n             // Do something with data\n        })\n        .catch((ex): void =&gt; {\n             // Do something with ex\n        });\n}\n\npublic loadDataAsync(): Promise&lt;any&gt; {\n    // return Promise somehow\n}\n</code></pre>\n\n<p>The rewritten code I have so far is:</p>\n\n<pre><code>public loadData(id: string): void {\n    let data: any;\n\n    try {\n        data = await this.loadDataAsync();\n    } catch(ex) {\n         // Do something with ex\n    }\n\n    // Do something with data\n}\n\npublic async loadDataAsync(): Promise&lt;any&gt; {\n    // return Promise somehow\n}\n</code></pre>\n\n<p>The problem is that I have to make <code>loadData()</code> method <code>async</code> since it has await in its body. Then, I have to return some <code>Promise</code> from it, since <code>async</code> methods must return  a <code>Promise</code>. But I need to maintain the API of <code>loadData()</code> method and return <code>void</code>.</p>\n\n<p>How can I achieve this? How do you break a never ending need for making a method as <code>async</code> when somewhere deep inside inner calls you're calling an <code>async</code> method?</p>\n"}, {"tags": ["javascript", "ecmascript-6", "underscore.js"], "comments": [{"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 3, "creation_date": 1532556746, "post_id": 51528387, "comment_id": 90025327, "body": "Do you need to use underscore? It&#39;s just 1 line of vanilla javascript."}, {"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 1, "creation_date": 1532556804, "post_id": 51528387, "comment_id": 90025349, "body": "<code>Object.keys(dict).find(k =&gt; dict[k].some(d =&gt; d === inputKey));</code>"}, {"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1532557174, "post_id": 51528387, "comment_id": 90025450, "body": "The vanilla js solution is just as easy, but if you have underscore available anyway, you can use it&#39;s <code>_.findKey</code> method if you like: <code>_.findKey(dict, v =&gt; v.includes(inputKey))</code>"}, {"owner": {"reputation": 167, "user_id": 10135932, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mukCO_OChQ0/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qa3BRxHAVRNfKhwlEL2Vu9Knwirw/mo/photo.jpg?sz=128", "display_name": "Newton", "link": "https://stackoverflow.com/users/10135932/newton"}, "edited": false, "score": 0, "creation_date": 1532611573, "post_id": 51528387, "comment_id": 90047574, "body": "Ah thank you, the vanilla javascript option is much appreciated"}], "answers": [{"tags": [], "owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "is_accepted": false, "score": 1, "last_activity_date": 1532556871, "creation_date": 1532556871, "answer_id": 51528420, "question_id": 51528387, "link": "https://stackoverflow.com/questions/51528387/looping-over-key-value-object-with-underscore/51528420#51528420", "title": "Looping over key value object with underscore", "body": "<p>Should be simple enough with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\" rel=\"nofollow noreferrer\"><code>.find()</code></a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes\" rel=\"nofollow noreferrer\"><code>.includes()</code></a>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let inputVal = 'a1';\r\nlet inputVal2 = 'b1';\r\nlet inputVal3 = 'c1';\r\n\r\nlet dict = {\r\n  'aa': ['a1', 'a2'],\r\n  'bb' : ['b1', 'b4', 'b6']\r\n};\r\n\r\nlet foundKey = Object.keys(dict).find(key =&gt; dict[key].includes(inputVal));\r\nlet foundKey2 = Object.keys(dict).find(key =&gt; dict[key].includes(inputVal2));\r\nlet foundKey3 = Object.keys(dict).find(key =&gt; dict[key].includes(inputVal3));\r\n\r\nconsole.log(foundKey);\r\nconsole.log(foundKey2);\r\nconsole.log(foundKey3);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "is_accepted": true, "score": 1, "last_activity_date": 1532556905, "creation_date": 1532556905, "answer_id": 51528428, "question_id": 51528387, "link": "https://stackoverflow.com/questions/51528387/looping-over-key-value-object-with-underscore/51528428#51528428", "title": "Looping over key value object with underscore", "body": "<p>I know you want an approach using <code>underscore</code>.</p>\n\n<p><em>This is an alternative using the function <code>find</code> and function <code>some</code>.</em></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let inputKey = 'a1',\r\n    dict = {      'aa': ['a1', 'a2'],      'bb': ['b1', 'b4', 'b6']    },\r\n    result = Object.keys(dict).find(k =&gt; dict[k].some(d =&gt; d === inputKey));\r\n    \r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><em>Using the function includes</em></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let inputKey = 'a1',\r\n    dict = {      'aa': ['a1', 'a2'],      'bb': ['b1', 'b4', 'b6']    },\r\n    result = Object.keys(dict).find(k =&gt; dict[k].includes(inputKey));\r\n    \r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 167, "user_id": 10135932, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mukCO_OChQ0/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qa3BRxHAVRNfKhwlEL2Vu9Knwirw/mo/photo.jpg?sz=128", "display_name": "Newton", "link": "https://stackoverflow.com/users/10135932/newton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 51528428, "answer_count": 2, "score": 0, "last_activity_date": 1532556905, "creation_date": 1532556572, "question_id": 51528387, "link": "https://stackoverflow.com/questions/51528387/looping-over-key-value-object-with-underscore", "title": "Looping over key value object with underscore", "body": "<p>I have several <strong>arrays of string</strong> and given a specific <strong>input key</strong> string I'm trying to return the corresponding key.</p>\n\n<p>For example if the input value is 'a1' it should return 'aa' because 'a1' is part of the array values of key 'aa'.</p>\n\n<pre><code> inputKey = 'a1';\n dict = {\n    'aa': ['a1', 'a2'],\n    'bb' : ['b1', 'b4', 'b6']\n    ...\n  };\n\n  /\n  // _.contains())\n</code></pre>\n\n<p>I was thinking of looping over each element in the dictionary and if the value exists in the array then return the key.</p>\n\n<p>Is this the best way to go about doing this? (finding the corresponding key for an array of values) in other words (mapping down some specific values to another value).</p>\n"}, {"tags": ["javascript", "annyang"], "comments": [{"owner": {"reputation": 2934, "user_id": 874691, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/TiuQK.png?s=128&g=1", "display_name": "Matt Saunders", "link": "https://stackoverflow.com/users/874691/matt-saunders"}, "edited": false, "score": 0, "creation_date": 1536957250, "post_id": 51528328, "comment_id": 91625029, "body": "annyang requires SSL to work, otherwise it won&#39;t even ask for mic access. check you&#39;ve got this in place."}, {"owner": {"reputation": 21, "user_id": 10135935, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f8wN3vzVJa4/AAAAAAAAAAI/AAAAAAAAC4s/vcfNP0JU_vk/photo.jpg?sz=128", "display_name": "Samuel Reams", "link": "https://stackoverflow.com/users/10135935/samuel-reams"}, "reply_to_user": {"reputation": 2934, "user_id": 874691, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/TiuQK.png?s=128&g=1", "display_name": "Matt Saunders", "link": "https://stackoverflow.com/users/874691/matt-saunders"}, "edited": false, "score": 0, "creation_date": 1537111304, "post_id": 51528328, "comment_id": 91655706, "body": "@MattSaunders Thanks!"}], "owner": {"reputation": 21, "user_id": 10135935, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f8wN3vzVJa4/AAAAAAAAAAI/AAAAAAAAC4s/vcfNP0JU_vk/photo.jpg?sz=128", "display_name": "Samuel Reams", "link": "https://stackoverflow.com/users/10135935/samuel-reams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1532556214, "creation_date": 1532556214, "question_id": 51528328, "link": "https://stackoverflow.com/questions/51528328/how-do-i-gain-microphone-access-through-a-download-while-using-annyang", "title": "How do I gain microphone access through a download while using annyang", "body": "<p>I have a program that I'm working on that requires to gain microphone access through the browser (javascript) while using annyang and speechkitt to make a little button on the bottom corner. </p>\n\n<p>Though I have annyang (which is supposed to gain microphone access itself),\nI still can't have the program \"ask for\" access to the microphone</p>\n"}, {"tags": ["javascript", "d3.js"], "comments": [{"owner": {"reputation": 2793, "user_id": 4674232, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a403c9377c6daf9c1cc2290d025cc7b2?s=128&d=identicon&r=PG", "display_name": "Ben Rondeau", "link": "https://stackoverflow.com/users/4674232/ben-rondeau"}, "edited": false, "score": 0, "creation_date": 1532556771, "post_id": 51528326, "comment_id": 90025334, "body": "What does <code>tank.js</code> line 1124 say?"}, {"owner": {"reputation": 455, "user_id": 5603007, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4feaea31aa01365aaece41fec54222d8?s=128&d=identicon&r=PG&f=1", "display_name": "Silverfin", "link": "https://stackoverflow.com/users/5603007/silverfin"}, "reply_to_user": {"reputation": 2793, "user_id": 4674232, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a403c9377c6daf9c1cc2290d025cc7b2?s=128&d=identicon&r=PG", "display_name": "Ben Rondeau", "link": "https://stackoverflow.com/users/4674232/ben-rondeau"}, "edited": false, "score": 0, "creation_date": 1532556852, "post_id": 51528326, "comment_id": 90025361, "body": "@BenRondeau }(jQuery)); let tank = $(&#39;.wrapper&#39;).analogTank({ just as in the codepen."}], "answers": [{"tags": [], "owner": {"reputation": 455, "user_id": 5603007, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4feaea31aa01365aaece41fec54222d8?s=128&d=identicon&r=PG&f=1", "display_name": "Silverfin", "link": "https://stackoverflow.com/users/5603007/silverfin"}, "is_accepted": false, "score": 0, "last_activity_date": 1532562483, "creation_date": 1532562483, "answer_id": 51529161, "question_id": 51528326, "link": "https://stackoverflow.com/questions/51528326/uncaught-typeerror-cannot-read-property-getbbox-of-null/51529161#51529161", "title": "Uncaught TypeError: Cannot read property &#39;getBBox&#39; of null", "body": "<p>I should not have tried loading my tank.js until after the HTML had loaded. I simply moved the  tag for tank.js down to the bottom of the document.</p>\n"}], "owner": {"reputation": 455, "user_id": 5603007, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4feaea31aa01365aaece41fec54222d8?s=128&d=identicon&r=PG&f=1", "display_name": "Silverfin", "link": "https://stackoverflow.com/users/5603007/silverfin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 472, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1532562483, "creation_date": 1532556207, "question_id": 51528326, "link": "https://stackoverflow.com/questions/51528326/uncaught-typeerror-cannot-read-property-getbbox-of-null", "title": "Uncaught TypeError: Cannot read property &#39;getBBox&#39; of null", "body": "<p>Im trying to replicate <a href=\"https://codepen.io/niamleeson/pen/dpJWkZ\" rel=\"nofollow noreferrer\">this codepen</a> However I get the error:</p>\n\n<pre><code> tank.js:441 Uncaught TypeError: Cannot read property 'getBBox' of null\n    at AnalogTank.calculateArrowPosition (tank.js:441)\n    at AnalogTank.applyArrowAttribute (tank.js:408)\n    at AnalogTank.addArrow (tank.js:404)\n    at AnalogTank.initTower (tank.js:316)\n    at AnalogTank.init (tank.js:126)\n    at new AnalogTank (tank.js:113)\n    at jQuery.fn.init.$.fn.analogTank (tank.js:105)\n    at tank.js:1124\n</code></pre>\n\n<p>It seems the version of d3 in src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/4.2.3/d3.js\"> may be part of the problem but I do not know how to correct the error.</p>\n\n<p>Here is my HTML head for reference.</p>\n\n<pre><code>&lt;!DOCTYPE HTML&gt;\n\n\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"utf-8\" /&gt;\n        &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1, user-scalable=no\" /&gt;\n        &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/4.2.3/d3.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"https://code.jquery.com/jquery-3.1.0.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\" src=\"tank.js\"&gt;&lt;/script&gt;\n\n        &lt;link rel=\"stylesheet\" href=\"tank.css\" /&gt;\n\n\n    &lt;/head&gt;\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1532556079, "post_id": 51528261, "comment_id": 90025126, "body": "You should give us some sample data, and your expected output."}, {"owner": {"reputation": 1, "user_id": 9835830, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dragon Blade", "link": "https://stackoverflow.com/users/9835830/dragon-blade"}, "reply_to_user": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1532964564, "post_id": 51528261, "comment_id": 90160762, "body": "Basically it would look like this:"}, {"owner": {"reputation": 1, "user_id": 9835830, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dragon Blade", "link": "https://stackoverflow.com/users/9835830/dragon-blade"}, "reply_to_user": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1532965216, "post_id": 51528261, "comment_id": 90161157, "body": "if (total#ofrecords is between 21-30 or 41-50 0r 61-70 or 81-90 (or every 20 pages thereafter) then insert a blank page."}], "owner": {"reputation": 1, "user_id": 9835830, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dragon Blade", "link": "https://stackoverflow.com/users/9835830/dragon-blade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1532555827, "creation_date": 1532555827, "question_id": 51528261, "link": "https://stackoverflow.com/questions/51528261/javascript-algorithm-check-if-record-count-falls-between-various-number-ranges", "title": "javascript algorithm - check if record count falls between various number ranges", "body": "<p>I have a web page that loops through my query depending on a predetermined value. I want to print the query results in, say, 10 records per page. Since my users are going to print double-sided, I want a blank page inserted when total record count is between 21-30, 41-50, 61-70, 81-90, etc.  If total count falls in these ranges that means that the last page my results will be printed on is an odd-numbered page (other than 1) and so I need to insert a blank page so that the next query results are printed on the next odd-numbered page. For example, if total records are between 21-30, these will be printed on 3 pages and need a blank page inserted so that next results are printed starting on page 5. I know the code to insert the blank page but I don't know  the code as to when to insert the blank page.</p>\n\n<p>Thanks for any help you can provide.</p>\n"}, {"tags": ["javascript", "ecmascript-6", "momentjs", "moment-timezone"], "answers": [{"tags": [], "owner": {"reputation": 24465, "user_id": 4131048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7fa62a0a8d08d01ae848ea7fdee8e9?s=128&d=identicon&r=PG&f=1", "display_name": "VincenzoC", "link": "https://stackoverflow.com/users/4131048/vincenzoc"}, "is_accepted": true, "score": 2, "last_activity_date": 1532591298, "last_edit_date": 1532591298, "creation_date": 1532556392, "answer_id": 51528358, "question_id": 51528235, "link": "https://stackoverflow.com/questions/51528235/reset-timezone-aware-timestamp-momentjs/51528358#51528358", "title": "Reset timezone aware timestamp momentjs", "body": "<p>You have to remove <code>toDate()</code> that gives a JavaScript date object using local time. Then you can use <a href=\"http://momentjs.com/docs/#/displaying/unix-timestamp-milliseconds/\" rel=\"nofollow noreferrer\"><code>valueOf()</code></a> instead of <code>getTime()</code>.</p>\n\n<blockquote>\n  <p><code>moment#valueOf</code>\u00a0simply outputs the number of milliseconds since the Unix Epoch, just like\u00a0<code>Date#valueOf</code>.</p>\n</blockquote>\n\n<p>Your code could be like the following:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const functionName = (timestamp, timezone) =&gt; {\r\n  return moment(timestamp)\r\n      .tz(timezone)\r\n      .startOf('day')\r\n      .valueOf();\r\n};\r\n\r\nlet timestamp = 1493638245234;\r\nlet truncatedTimestamp = functionName(timestamp, 'America/Los_Angeles');\r\nconsole.log(truncatedTimestamp); </code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.17/moment-timezone-with-data-2012-2022.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Note that <a href=\"http://momentjs.com/timezone/docs/#/using-timezones/parsing-in-zone/\" rel=\"nofollow noreferrer\"><code>moment.tz</code></a> and <a href=\"http://momentjs.com/timezone/docs/#/using-timezones/converting-to-zone/\" rel=\"nofollow noreferrer\"><code>tz()</code></a> are equivalent in your case (since you are passing millis).</p>\n"}, {"comments": [{"owner": {"reputation": 24465, "user_id": 4131048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7fa62a0a8d08d01ae848ea7fdee8e9?s=128&d=identicon&r=PG&f=1", "display_name": "VincenzoC", "link": "https://stackoverflow.com/users/4131048/vincenzoc"}, "edited": false, "score": 0, "creation_date": 1532591628, "post_id": 51528571, "comment_id": 90034990, "body": "I&#39;ve undeleted my answer, sorry for temporarily deletion. I had some doubts about the code after posting the answer, but I was on mobile with limited chances to check it (late night on my timezone didn&#39;t help either :D)."}], "tags": [], "owner": {"reputation": 363, "user_id": 1617555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9365417829220cfa0f501113e279c698?s=128&d=identicon&r=PG", "display_name": "Neha M", "link": "https://stackoverflow.com/users/1617555/neha-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1532557913, "creation_date": 1532557913, "answer_id": 51528571, "question_id": 51528235, "link": "https://stackoverflow.com/questions/51528235/reset-timezone-aware-timestamp-momentjs/51528571#51528571", "title": "Reset timezone aware timestamp momentjs", "body": "<p>I modified my function functionName to be like this and it worked. </p>\n\n<pre><code>const functionName = (timestamp, timezone) =&gt;\n    moment\n        .tz(timestamp, timezone)\n        .startOf('day')\n        .valueOf();\n</code></pre>\n\n<p>NOTE: Some user posted this answer, but they deleted their answer.</p>\n"}], "owner": {"reputation": 363, "user_id": 1617555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9365417829220cfa0f501113e279c698?s=128&d=identicon&r=PG", "display_name": "Neha M", "link": "https://stackoverflow.com/users/1617555/neha-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 398, "favorite_count": 0, "accepted_answer_id": 51528358, "answer_count": 2, "score": 3, "last_activity_date": 1532591732, "creation_date": 1532555675, "last_edit_date": 1532591732, "question_id": 51528235, "link": "https://stackoverflow.com/questions/51528235/reset-timezone-aware-timestamp-momentjs", "title": "Reset timezone aware timestamp momentjs", "body": "<p>I am using momentjs for doing my date operations and want to code a scenario where if timestamp is given, and timezone name is given, then I want to reset the time to  midnight. For e.g.</p>\n\n<pre><code>let timestamp = 1493638245234;\nexpect(new Date(timestamp).toISOString()).toBe('2017-05-01T11:30:45.234Z'); // Time in UTC\nlet truncatedTimestamp = functionName(timestamp, 'America/Los_Angeles');\nconsole.log(truncatedTimestamp); \nexpect(new Date(truncatedTimestamp)).toBe('2017-05-01T04:00:00.000Z'); \n\n\nconst functionName = (timestamp, timezone) =&gt; {\nreturn moment\n    .tz(timestamp, timezone)\n    .startOf('day')\n    .toDate()\n    .getTime();\n};\n</code></pre>\n\n<p>I would like the function <code>'functionName'</code> to return midnight of <code>America/Los_Angeles</code> time and not in UTC.</p>\n\n<p>The timestamp I entered is 5th May 2017, 11:30 AM UTC.\nI expect the function to return me timestamp for 5th May 2017, 00:00 <code>America/Los_Angeles</code> (Since 5th May 2017 11:30 AM UTC will be 11:30 AM -7 hours in <code>America/Los_Angeles</code>.) and convert it to milliseconds.</p>\n"}, {"tags": ["javascript", "arrays", "dictionary"], "comments": [{"owner": {"reputation": 3199, "user_id": 6692606, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3653dbd72e2fd66e0a741b97aa322e1?s=128&d=identicon&r=PG&f=1", "display_name": "ASDFGerte", "link": "https://stackoverflow.com/users/6692606/asdfgerte"}, "edited": false, "score": 1, "creation_date": 1532555762, "post_id": 51528228, "comment_id": 90025023, "body": "Is it absolutely necessary, that numbers, which occur only once, get unpacked, instead of e.g. &quot;3: [3]&quot;? Sure, it&#39;s possible, but why?"}, {"owner": {"reputation": 27055, "user_id": 5923139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dvoYw.png?s=128&g=1", "display_name": "Aplet123", "link": "https://stackoverflow.com/users/5923139/aplet123"}, "edited": false, "score": 0, "creation_date": 1532555886, "post_id": 51528228, "comment_id": 90025062, "body": "Expanding on what ASDFGerte said, it just makes things harder and can cause many functions to error when trying to process it. It&#39;s much easier if you keep as a 1 element array to stay consistent."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1532556222, "post_id": 51528228, "comment_id": 90025169, "body": "FYI, dictionaries are called objects in Javascript."}, {"owner": {"reputation": 445, "user_id": 4877962, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6042f77675d15e3becca0efdd3332bce?s=128&d=identicon&r=PG&f=1", "display_name": "merilstack", "link": "https://stackoverflow.com/users/4877962/merilstack"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1532556468, "post_id": 51528228, "comment_id": 90025259, "body": "@ ASDFGerte As I have to search the dictionary later and find the indices which matches the result of an operation performed later. @Barmar thanks for that info"}], "answers": [{"comments": [{"owner": {"reputation": 445, "user_id": 4877962, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6042f77675d15e3becca0efdd3332bce?s=128&d=identicon&r=PG&f=1", "display_name": "merilstack", "link": "https://stackoverflow.com/users/4877962/merilstack"}, "edited": false, "score": 0, "creation_date": 1532557435, "post_id": 51528279, "comment_id": 90025519, "body": "thank you for the answer this is what I was looking for"}, {"owner": {"reputation": 445, "user_id": 4877962, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6042f77675d15e3becca0efdd3332bce?s=128&d=identicon&r=PG&f=1", "display_name": "merilstack", "link": "https://stackoverflow.com/users/4877962/merilstack"}, "edited": false, "score": 0, "creation_date": 1532558131, "post_id": 51528279, "comment_id": 90025669, "body": "I know its dumb, but can you please explain why you did <code>dict[arr[i]] = [dict[arr[i]]];</code>? coz even if I do <code>dict[arr[i]] = [];</code>, and then do <code>dict[arr[i]].push(i);</code> that creates an an array and inserts index <code>1</code>, but not the index <code>0</code>, can you please explain why?"}, {"owner": {"reputation": 20825, "user_id": 892629, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fe7fca180a7f092bcbf8236611b81029?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/892629/david"}, "reply_to_user": {"reputation": 445, "user_id": 4877962, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6042f77675d15e3becca0efdd3332bce?s=128&d=identicon&r=PG&f=1", "display_name": "merilstack", "link": "https://stackoverflow.com/users/4877962/merilstack"}, "edited": false, "score": 1, "creation_date": 1532558235, "post_id": 51528279, "comment_id": 90025688, "body": "That first line is creating a new array with the existing value as the first value in the array. When that line is called, <code>dict[arr[i]] == 0</code>, so <code>[dict[arr[i]]] == [0]</code>."}], "tags": [], "owner": {"reputation": 20825, "user_id": 892629, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fe7fca180a7f092bcbf8236611b81029?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/892629/david"}, "is_accepted": true, "score": 1, "last_activity_date": 1532555906, "creation_date": 1532555906, "answer_id": 51528279, "question_id": 51528228, "link": "https://stackoverflow.com/questions/51528228/obtain-an-object-with-lists-in-it-in-javascript/51528279#51528279", "title": "Obtain an object with lists in it in javascript", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arr = [2,2,4,3];\r\nvar dict={};\r\nvar len=arr.length;\r\nfor(var i=0; i&lt;len; i++) {\r\n   if(dict[arr[i]] !== undefined)\r\n   {\r\n     if(Array.isArray(dict[arr[i]]))\r\n     {\r\n       dict[arr[i]].push(i);\r\n     }\r\n     else\r\n     {\r\n       dict[arr[i]] = [dict[arr[i]]];\r\n       dict[arr[i]].push(i);\r\n     }\r\n   }\r\n   else\r\n     dict[arr[i]] = i;\r\n}\r\n\r\nconsole.log(dict);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "is_accepted": false, "score": 1, "last_activity_date": 1532556305, "creation_date": 1532556305, "answer_id": 51528342, "question_id": 51528228, "link": "https://stackoverflow.com/questions/51528228/obtain-an-object-with-lists-in-it-in-javascript/51528342#51528342", "title": "Obtain an object with lists in it in javascript", "body": "<p>An alternative is using the function <code>reduce</code> to group values with indexes.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr = [2, 2, 4, 3],\r\n    result = arr.reduce((a, c, i) =&gt; {\r\n      let current = a[c];\r\n      if (current || current === 0) {\r\n        if (Array.isArray(current)) current.push(i);\r\n        else a[c] = [current, i];\r\n      } else a[c] = i;\r\n      \r\n      return a\r\n    }, {});\r\n    \r\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": false, "score": 1, "last_activity_date": 1532556621, "creation_date": 1532556621, "answer_id": 51528394, "question_id": 51528228, "link": "https://stackoverflow.com/questions/51528228/obtain-an-object-with-lists-in-it-in-javascript/51528394#51528394", "title": "Obtain an object with lists in it in javascript", "body": "<p>It can be done very simply</p>\n\n<pre><code>const dict = array.reduce((result, value, index) =&gt; {\n  if (!result[value]) {\n    result[value] = [index];\n  } else {\n    result[value].push(index);\n  }\n  return result;\n}, {});\n</code></pre>\n\n<p>Or, immutably:</p>\n\n<pre><code>const dict = array.reduce((result, value, index) =&gt; ({\n  ...result,\n  [value]: [...(result[value] || []), index]\n}), {});\n</code></pre>\n"}], "owner": {"reputation": 445, "user_id": 4877962, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6042f77675d15e3becca0efdd3332bce?s=128&d=identicon&r=PG&f=1", "display_name": "merilstack", "link": "https://stackoverflow.com/users/4877962/merilstack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 1, "accepted_answer_id": 51528279, "answer_count": 3, "score": 0, "last_activity_date": 1532556621, "creation_date": 1532555630, "last_edit_date": 1532556529, "question_id": 51528228, "link": "https://stackoverflow.com/questions/51528228/obtain-an-object-with-lists-in-it-in-javascript", "title": "Obtain an object with lists in it in javascript", "body": "<p>I have an array <code>[2, 2, 4, 3]</code> and I am trying to obtain a dictionary thats something like <code>{2:[0,1], 3:3, 4:2}</code> that is basically a dictionary which contains the <code>items</code> in the array as <code>key</code> and its <code>indices</code> as the <code>value</code>, if there are multiple indices with the same item, then store the value in the dictionary as an array else as a normal value.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arr = [2,2,4,3];\r\nvar dict={};\r\nvar len=arr.length;\r\nfor(var i=0; i&lt;len; i++) {\r\n   dict[arr[i]] = i;\r\n}\r\n\r\nconsole.log(dict);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The above snippet only take the latest instance of the item in the array as key and stores it as value, is there a way to make the value of the dictionary as an array if there are duplicate multiple items in the array. Also, I am a beginner in javascript so please ignore if its a stupid question.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 29, "user_id": 8698564, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/89df0510f8ff0ef548a290c8717564a5?s=128&d=identicon&r=PG&f=1", "display_name": "Fins Up", "link": "https://stackoverflow.com/users/8698564/fins-up"}, "edited": false, "score": 0, "creation_date": 1532556374, "post_id": 51528167, "comment_id": 90025217, "body": "Appreciate the down votes guys! Feel free to let me know why too!"}], "answers": [{"tags": [], "owner": {"reputation": 27055, "user_id": 5923139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dvoYw.png?s=128&g=1", "display_name": "Aplet123", "link": "https://stackoverflow.com/users/5923139/aplet123"}, "is_accepted": false, "score": 2, "last_activity_date": 1532555380, "creation_date": 1532555380, "answer_id": 51528177, "question_id": 51528167, "link": "https://stackoverflow.com/questions/51528167/how-to-make-a-java-script-statement-apply-only-to-a-certain-browser-width/51528177#51528177", "title": "How to make a java script statement apply only to a certain browser width", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/innerWidth\" rel=\"nofollow noreferrer\"><code>window.innerWidth</code></a> to find the width of the browser.</p>\n"}, {"tags": [], "owner": {"reputation": 5455, "user_id": 1837080, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/6d11efa92fc1e87409bc48fa47d29e9e?s=128&d=identicon&r=PG", "display_name": "Zac", "link": "https://stackoverflow.com/users/1837080/zac"}, "is_accepted": false, "score": 0, "last_activity_date": 1532555528, "creation_date": 1532555528, "answer_id": 51528205, "question_id": 51528167, "link": "https://stackoverflow.com/questions/51528167/how-to-make-a-java-script-statement-apply-only-to-a-certain-browser-width/51528205#51528205", "title": "How to make a java script statement apply only to a certain browser width", "body": "<p>Here is a sample of what your code might look like if you wanted to run the above javascript statement applied to certain browser width (max of 575px)</p>\n\n<pre><code>&lt;script&gt;\n    if (window.innerWidth &lt;= 575){\n        $(window).on(\"scroll\", function(){\n            var scrollPos = $(window).scrollTop();\n            if (scrollPos &lt;= 0) {\n                $(\".navbar-default\").addClass(\"top-of-page\");\n            } else {\n                $(\".navbar-default\").removeClass(\"top-of-page\");\n            }\n        });\n    }\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 8698564, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/89df0510f8ff0ef548a290c8717564a5?s=128&d=identicon&r=PG&f=1", "display_name": "Fins Up", "link": "https://stackoverflow.com/users/8698564/fins-up"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1532555528, "creation_date": 1532555312, "question_id": 51528167, "link": "https://stackoverflow.com/questions/51528167/how-to-make-a-java-script-statement-apply-only-to-a-certain-browser-width", "title": "How to make a java script statement apply only to a certain browser width", "body": "<p>So basically I have my java script already set up, but what I'd like to do is have that js statement only be applied at a certain browser width. So in this case, I only want the statement to be applied at a max broswer width of 575px, kind of like a media query on css. Here's what I got: </p>\n\n<pre><code>&lt;script&gt;  $(window).on(\"scroll\", function() {\n    var scrollPos = $(window).scrollTop();\n    if (scrollPos &lt;= 0) {\n        $('.navbar-default').addClass('top-of-page');\n    } else {\n        $('.navbar-default').removeClass('top-of-page');\n    }\n});\n   &lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "mongodb", "mongoose", "postman"], "answers": [{"comments": [{"owner": {"reputation": 324, "user_id": 5839633, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NkF0o.png?s=128&g=1", "display_name": "MadHatter", "link": "https://stackoverflow.com/users/5839633/madhatter"}, "edited": false, "score": 0, "creation_date": 1532573057, "post_id": 51528236, "comment_id": 90028613, "body": "Still stumbling over the simplest things after three years of studying programming. That fixed it, greatly appreciated."}, {"owner": {"reputation": 2439, "user_id": 3764306, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/L71gY.jpg?s=128&g=1", "display_name": "Kamalakannan J", "link": "https://stackoverflow.com/users/3764306/kamalakannan-j"}, "reply_to_user": {"reputation": 324, "user_id": 5839633, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NkF0o.png?s=128&g=1", "display_name": "MadHatter", "link": "https://stackoverflow.com/users/5839633/madhatter"}, "edited": false, "score": 1, "creation_date": 1532581452, "post_id": 51528236, "comment_id": 90030338, "body": "It happens, chill. Just get experienced :)"}], "tags": [], "owner": {"reputation": 2439, "user_id": 3764306, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/L71gY.jpg?s=128&g=1", "display_name": "Kamalakannan J", "link": "https://stackoverflow.com/users/3764306/kamalakannan-j"}, "is_accepted": true, "score": 1, "last_activity_date": 1532555681, "creation_date": 1532555681, "answer_id": 51528236, "question_id": 51528151, "link": "https://stackoverflow.com/questions/51528151/mongo-db-postman-giving-error-even-though-user-object-successfully-updates/51528236#51528236", "title": "Mongo DB; Postman giving error even though user object successfully updates", "body": "<p>It's because of the <code>ReferenceError</code> of <code>note</code> variable.</p>\n\n<pre><code>User.findByIdAndUpdate(id, changes, options)\n        .then(user =&gt; {\n            if (user) {\n                return res.status(200).json(user);\n            } else {\n                res.status(404).json({ message: 'User not found' });\n            }\n        })\n        .catch(err =&gt; {\n            res\n                .status(500)\n                .json({ message: 'There was a problem finding that user', error: err });\n        });\n</code></pre>\n\n<p>In future, if something comes to <code>catch</code> block, print it with the <code>console.log</code>. Because, you can't send it with <code>.json()</code>. </p>\n\n<p>If you want to know the error in the response, try this,</p>\n\n<pre><code>res.json({\n   message: 'something',\n   error: (err &amp;&amp; err.message) || 'Not available',\n})\n</code></pre>\n"}], "owner": {"reputation": 324, "user_id": 5839633, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NkF0o.png?s=128&g=1", "display_name": "MadHatter", "link": "https://stackoverflow.com/users/5839633/madhatter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 1, "accepted_answer_id": 51528236, "answer_count": 1, "score": 0, "last_activity_date": 1532555681, "creation_date": 1532555251, "question_id": 51528151, "link": "https://stackoverflow.com/questions/51528151/mongo-db-postman-giving-error-even-though-user-object-successfully-updates", "title": "Mongo DB; Postman giving error even though user object successfully updates", "body": "<p>Using Postman to update a user object in my Mongo DB on Mlab. The user object has an email, username, and password.</p>\n\n<p>Here is the method in question that handles the PUT request:</p>\n\n<pre><code>server.put('/edit/:id', (req, res) =&gt; {\n    const { id } = req.params;\n    const changes = req.body;\n\n    const options = {\n        new: true,\n    };\n\n    User.findByIdAndUpdate(id, changes, options)\n        .then(user =&gt; {\n            if (note) {\n                return res.status(200).json(user);\n            } else {\n                res.status(404).json({ message: 'User not found' });\n            }\n        })\n        .catch(err =&gt; {\n            res\n                .status(500)\n                .json({ message: 'There was a problem finding that user', error: err });\n        });\n});\n</code></pre>\n\n<p>When I make a request with Postman entering in the following JSON object to update my user's password:</p>\n\n<pre><code>{\n  \"password\": \"skittles\"\n}\n</code></pre>\n\n<p>The database on Mlab updates successfully, showing the new password.</p>\n\n<p>However, Postman gives me the following error in its console:</p>\n\n<pre><code>{\n    \"message\": \"There was a problem finding that user\",\n    \"error\": {}\n} \n</code></pre>\n\n<p>I thought that maybe this was due to the rest of the code continuing to execute after updating the object, so I added a return in the <code>return res.status(200).json(user);</code>, thinking that would help, but Postman is still giving me the error message.</p>\n\n<p>Why am I getting this error when the user object successfully updates on the Mongo DB?</p>\n"}, {"tags": ["javascript", "jquery", "jquery-events", "mutation-observers"], "comments": [{"owner": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 1, "creation_date": 1532556836, "post_id": 51528146, "comment_id": 90025358, "body": "Add subtree:true to the config. There&#39;s also no need for the <code>for</code> loop."}, {"owner": {"reputation": 6902, "user_id": 2883328, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0b555effc09e0126d8b880f7d2956c1c?s=128&d=identicon&r=PG", "display_name": "Dennis", "link": "https://stackoverflow.com/users/2883328/dennis"}, "reply_to_user": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 0, "creation_date": 1532615372, "post_id": 51528146, "comment_id": 90050301, "body": "thanks, <code>subtree:true</code> works.  But why no <code>for</code> loop?  <code>mutationsList</code> is an array.. how would you suggest not using the <code>for</code> loop?"}, {"owner": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 1, "creation_date": 1532616570, "post_id": 51528146, "comment_id": 90051102, "body": "Because there&#39;s no need for the loop. Here&#39;s the entire code you need: new MutationObserver(load_ui_globals).observe(document.getElemen&zwnj;&#8203;tById(&#39;main&#39;), {childList: true, subtree: true})"}], "owner": {"reputation": 6902, "user_id": 2883328, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0b555effc09e0126d8b880f7d2956c1c?s=128&d=identicon&r=PG", "display_name": "Dennis", "link": "https://stackoverflow.com/users/2883328/dennis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 184, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1610447696, "creation_date": 1532555213, "last_edit_date": 1610447696, "question_id": 51528146, "link": "https://stackoverflow.com/questions/51528146/how-to-use-mutationobserver-to-update-handling-of-domnodeinserted-event", "title": "How to use MutationObserver to update handling of DOMNodeInserted event?", "body": "<p>I have code like so:</p>\n\n<pre><code>function load_ui_globals() {\n    $('legend').addClass('ui-widget-header ui-corner-all');\n}\n\n$(function(){\n    load_ui_globals();\n    $('#main').on('DOMNodeInserted', function() {load_ui_globals();});\n});\n</code></pre>\n\n<p>It throws a message of:</p>\n\n<blockquote>\n  <p>Use of Mutation Events is deprecated. Use MutationObserver instead.</p>\n</blockquote>\n\n<p>In trying to update the code I came up with this (but it is not working):</p>\n\n<pre><code>function load_ui_globals() {\n    $('legend').addClass('ui-widget-header ui-corner-all');\n}\n\n$(function(){\n    load_ui_globals();\n\n    var callback = function(mutationsList) {\n        for(var mutation of mutationsList) {\n            if (mutation.type == 'childList') {\n                console.log('A child node has been added or removed.');\n                load_ui_globals();\n            }\n        }\n    };\n    var targetNode = document.getElementById('main');\n    var config = { childList: true };\n    var observer = new MutationObserver(callback);\n    observer.observe(targetNode, config);\n});\n</code></pre>\n\n<p>The new code does not trigger the reload of <code>load_ui_globals()</code> as originally intended.  How do I use the MutationObserver correctly, while keeping original functionality?</p>\n\n<p>The original code was not mine so I may not fully grasp what it was supposed to trigger, but it looks to me like it is supposed to apply <code>load_ui_globals()</code> directives to any newly-loaded node (via AJAX).</p>\n"}, {"tags": ["javascript", "three.js", "3d", "3d-modelling", "3d-model"], "comments": [{"owner": {"reputation": 8191, "user_id": 1550696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ff4qt.jpg?s=128&g=1", "display_name": "2pha", "link": "https://stackoverflow.com/users/1550696/2pha"}, "edited": false, "score": 0, "creation_date": 1532559526, "post_id": 51528120, "comment_id": 90025997, "body": "I have had to do this before and I exported my model in obj format and named each part of my model. I then had an associated .json file named the same as the obj file to store the information. The json was just an object, keyed by names of the different named parts of the obj."}, {"owner": {"reputation": 7685, "user_id": 1314762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ec8b9cd05efa622fd08e55414e63470?s=128&d=identicon&r=PG", "display_name": "Don McCurdy", "link": "https://stackoverflow.com/users/1314762/don-mccurdy"}, "edited": false, "score": 0, "creation_date": 1532563678, "post_id": 51528120, "comment_id": 90026811, "body": "Any data in a glTF <a href=\"https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#reference-extras\" rel=\"nofollow noreferrer\"><code>.extras</code> fields</a> will be available in the resulting three.js objects&#39; <code>.userData</code> properties."}], "answers": [{"tags": [], "owner": {"reputation": 4203, "user_id": 882264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/axqN2.jpg?s=128&g=1", "display_name": "manthrax", "link": "https://stackoverflow.com/users/882264/manthrax"}, "is_accepted": false, "score": 0, "last_activity_date": 1532559056, "creation_date": 1532559056, "answer_id": 51528726, "question_id": 51528120, "link": "https://stackoverflow.com/questions/51528120/is-it-possible-to-add-or-display-custom-information-about-the-area-or-mesh-you-c/51528726#51528726", "title": "Is it possible to add or display custom information about the area or MESH you click on a rendered GLTF model?", "body": "<p>Some exporters do allow setting custom 'userData' fields but the most consistently available field is the .name field of a given object/mesh which is usually derived from the name of the object in the modelling software.\n.userData is usually just used for storing runtime state in your scene graph in a way that won't interfere with the objects build in properties. .userData will also get serialized with the object during toJSON operations.\nI would start by checking what the names of the models components are by doing either scene.traverse or model.traverse( (o)=>console.log(o.name) ) to get an idea of what names are already in the model.</p>\n"}], "owner": {"reputation": 45, "user_id": 10107629, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lbd8yHZ5SBI/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7qKOpZhbkyicd5ElRPUCDzQiJ1ceg/mo/photo.jpg?sz=128", "display_name": "MLWDEV", "link": "https://stackoverflow.com/users/10107629/mlwdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 270, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1532559056, "creation_date": 1532555066, "question_id": 51528120, "link": "https://stackoverflow.com/questions/51528120/is-it-possible-to-add-or-display-custom-information-about-the-area-or-mesh-you-c", "title": "Is it possible to add or display custom information about the area or MESH you click on a rendered GLTF model?", "body": "<p>I have a rendered GLTF model using three.js and when you click part of it it highlights that bit red. What I would like to do is when a user clicks that area not only does it highlight it red but it brings up a modal displaying information about that area. My problem is I have no idea how to associate the clicked area with the data. For example if the model was a car and the user clicked the tyre I would like to display some info about that tyre.</p>\n\n<p>What would be the best method for achieving this? Would this custom data be applied to the model when it is built? I don't handle the model itself but can get it altered if needs be I just wasn't sure it worked that way? </p>\n\n<p>When viewing the object for the clicked MESH I can see an empty UserData object which led me down the path of thinking that custom data can be applied to the model itself before being exported.</p>\n\n<p>Any help or guidance would be greatly appreciated.\nThanks,</p>\n"}, {"tags": ["javascript", "jquery", "input", "dynamic", "triggers"], "comments": [{"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1532554989, "post_id": 51528095, "comment_id": 90024752, "body": "<code>input paste keyup change</code> <code>===</code> <code>input</code>"}, {"owner": {"reputation": 8198, "user_id": 1243679, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/acbb368cdb708f923c30ae9d16750b95?s=128&d=identicon&r=PG", "display_name": "multimediaxp", "link": "https://stackoverflow.com/users/1243679/multimediaxp"}, "reply_to_user": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1532555041, "post_id": 51528095, "comment_id": 90024776, "body": "@Ele, thanks for the correction."}, {"owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1532555178, "post_id": 51528095, "comment_id": 90024831, "body": "Take a look here: <a href=\"https://stackoverflow.com/a/23635867/4875631\">stackoverflow.com/a/23635867/4875631</a>"}, {"owner": {"reputation": 8198, "user_id": 1243679, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/acbb368cdb708f923c30ae9d16750b95?s=128&d=identicon&r=PG", "display_name": "multimediaxp", "link": "https://stackoverflow.com/users/1243679/multimediaxp"}, "reply_to_user": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1532555535, "post_id": 51528095, "comment_id": 90024943, "body": "@FrankerZ There are many places where .val() might be executed, I don&#39;t want to go change every single .val(), I just want to detect when it is executed, thanks"}, {"owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1532555815, "post_id": 51528095, "comment_id": 90025039, "body": "@multimediaxp That isn&#39;t changing every <code>.val()</code>. That&#39;s overridding the main <code>.val()</code> function in jQuery."}], "answers": [{"comments": [{"owner": {"reputation": 8198, "user_id": 1243679, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/acbb368cdb708f923c30ae9d16750b95?s=128&d=identicon&r=PG", "display_name": "multimediaxp", "link": "https://stackoverflow.com/users/1243679/multimediaxp"}, "edited": false, "score": 0, "creation_date": 1532555818, "post_id": 51528180, "comment_id": 90025040, "body": "Nice, but this affects any other val() across the script, Thanks this is a solution, but is there a cleaner way? Thanks"}, {"owner": {"reputation": 9258, "user_id": 5665870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TQBw0.png?s=128&g=1", "display_name": "Sphinx", "link": "https://stackoverflow.com/users/5665870/sphinx"}, "reply_to_user": {"reputation": 8198, "user_id": 1243679, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/acbb368cdb708f923c30ae9d16750b95?s=128&d=identicon&r=PG", "display_name": "multimediaxp", "link": "https://stackoverflow.com/users/1243679/multimediaxp"}, "edited": false, "score": 0, "creation_date": 1532555924, "post_id": 51528180, "comment_id": 90025072, "body": "@multimediaxp check <a href=\"https://stackoverflow.com/a/32383745/5665870\">https://stackoverflow.com/a/32383745/5665870</a>"}], "tags": [], "owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "is_accepted": true, "score": 1, "last_activity_date": 1532555395, "creation_date": 1532555395, "answer_id": 51528180, "question_id": 51528095, "link": "https://stackoverflow.com/questions/51528095/how-to-detect-when-the-value-of-an-input-changes-dynamically-with-js-jquery/51528180#51528180", "title": "How to detect when the value of an input changes dynamically with JS / Jquery", "body": "<p>An alternative is overriding the function <code>$.fn.val()</code></p>\n\n<p><em>This is a basic approach to start with.</em></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var $val = $.fn.val;\r\n$.fn.val = function(newVal) {\r\n  if (this.attr('id') === 'target') this.trigger('input');\r\n  $val.call(this, newVal);\r\n}\r\n\r\n$('#target').on('input', function() {\r\n  alert(\"changed\");\r\n});\r\n\r\n$('#target').val('Ele from Stack');\r\n$('#target2').val('Ele from Stack2');</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;input id='target' /&gt;\r\n&lt;input id='target2' /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 8198, "user_id": 1243679, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/acbb368cdb708f923c30ae9d16750b95?s=128&d=identicon&r=PG", "display_name": "multimediaxp", "link": "https://stackoverflow.com/users/1243679/multimediaxp"}, "edited": false, "score": 0, "creation_date": 1532555519, "post_id": 51528184, "comment_id": 90024936, "body": "There are many places where .val() might be executed, I don&#39;t want to go change every single .val(), I just want to detect when it is executed"}], "tags": [], "owner": {"reputation": 27648, "user_id": 2159528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jgc0E.png?s=128&g=1", "display_name": "Louys Patrice Bessette", "link": "https://stackoverflow.com/users/2159528/louys-patrice-bessette"}, "is_accepted": false, "score": 1, "last_activity_date": 1532555421, "creation_date": 1532555421, "answer_id": 51528184, "question_id": 51528095, "link": "https://stackoverflow.com/questions/51528095/how-to-detect-when-the-value-of-an-input-changes-dynamically-with-js-jquery/51528184#51528184", "title": "How to detect when the value of an input changes dynamically with JS / Jquery", "body": "<p>Just trigger the event!</p>\n\n<pre><code>$('#testInput').val(\"Dynamic Value\").trigger(\"input\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27648, "user_id": 2159528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jgc0E.png?s=128&g=1", "display_name": "Louys Patrice Bessette", "link": "https://stackoverflow.com/users/2159528/louys-patrice-bessette"}, "is_accepted": false, "score": 1, "last_activity_date": 1532557526, "creation_date": 1532557526, "answer_id": 51528511, "question_id": 51528095, "link": "https://stackoverflow.com/questions/51528095/how-to-detect-when-the-value-of-an-input-changes-dynamically-with-js-jquery/51528511#51528511", "title": "How to detect when the value of an input changes dynamically with JS / Jquery", "body": "<p>Inpired of <a href=\"https://stackoverflow.com/users/1715121/ele\">Ele</a>'s answer...</p>\n\n<p>While overriding the <code>.val()</code> function... Instead of comparing the id, you could add an agrument for the even to trigger! If it's not provided, there is no change from the \"regular\" <code>.val()</code> function. If provided, it triggers the event.</p>\n\n<p>You will have to change every places where the value is programmatically changed anyway, but in a more practical way. ;)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var $val = $.fn.val;\r\n$.fn.val = function(newVal,eventToTrigger) {\r\n  if (eventToTrigger != null) this.trigger(eventToTrigger);\r\n  $val.call(this, newVal);\r\n}\r\n\r\n$('.someClass').on('input', function() {\r\n  alert(\"Programmatically inputted!\");\r\n});\r\n\r\n$('.otherClass').on('change', function() {\r\n  alert(\"Programmatically changed!\");\r\n});\r\n\r\n$('.someClass').val('Hello you!','input');\r\n$('.otherClass').val('Doing fine?','change');\r\n$('#whatever').val('Hehehe.');</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;input type=\"text\" class=\"someClass\"&gt;\r\n&lt;input type=\"text\" class=\"otherClass\"&gt;\r\n&lt;input type=\"text\" id=\"whatever\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 8198, "user_id": 1243679, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/acbb368cdb708f923c30ae9d16750b95?s=128&d=identicon&r=PG", "display_name": "multimediaxp", "link": "https://stackoverflow.com/users/1243679/multimediaxp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2744, "favorite_count": 0, "accepted_answer_id": 51528180, "answer_count": 3, "score": 1, "last_activity_date": 1532636961, "creation_date": 1532554898, "last_edit_date": 1532636961, "question_id": 51528095, "link": "https://stackoverflow.com/questions/51528095/how-to-detect-when-the-value-of-an-input-changes-dynamically-with-js-jquery", "title": "How to detect when the value of an input changes dynamically with JS / Jquery", "body": "<p>I am able to detect if an input changes value while typing, pasting, etc, But if the value changed dynamically from another script I am unable to detect it:</p>\n\n<p>Lets say I have an input </p>\n\n<pre><code>&lt;input id=\"testInput\" value=\"Type Here\" /&gt;\n</code></pre>\n\n<p>And if the value changes by typing on it I want to alert \"changed\"</p>\n\n<pre><code>$('#testInput').on('input', function(){\n    alert(\"changed\");\n});\n</code></pre>\n\n<p>This works, but if the value changed dynamically from another script, I can't trigger the alert:</p>\n\n<pre><code>$('#testInput').val(\"Dynamic Value\"); //This doesn't show the alert\n</code></pre>\n\n<p>I want to be able to detect if the value changed at all, either by typing, pasting, or dynamically from a script or action.</p>\n\n<p><code>.val()</code> Is beeing executed in many different places, so changing <code>.val()</code> all over the code for something else like <code>.val().trigger(\"change\")</code> is not an option.</p>\n\n<p>Here is a jsfiddle with a better example:</p>\n\n<p><a href=\"https://jsfiddle.net/xpvt214o/486146/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/xpvt214o/486146/</a> </p>\n"}, {"tags": ["javascript", "angularjs"], "answers": [{"tags": [], "owner": {"reputation": 622, "user_id": 4846792, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/0d3d1f1b6fe6216e3d14bd22ffd99f11?s=128&d=identicon&r=PG&f=1", "display_name": "its me", "link": "https://stackoverflow.com/users/4846792/its-me"}, "is_accepted": false, "score": 0, "last_activity_date": 1532557426, "creation_date": 1532557426, "answer_id": 51528490, "question_id": 51528087, "link": "https://stackoverflow.com/questions/51528087/how-to-autocomplete-input-based-on-selection/51528490#51528490", "title": "How to autocomplete input based on selection?", "body": "<p>we need to add \"md-selected-item-change=\"selectedItemChange(item)\"\" and there we can pass the data to input field and we can get output what ever we want </p>\n\n<pre><code>$scope.selectedItemChange = function(item)\n{\nif(item){\n$scope.data.Type = item.Type;\n$scope.data.Value = item.Value;\n}\n\n}\n</code></pre>\n"}], "owner": {"reputation": 622, "user_id": 4846792, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/0d3d1f1b6fe6216e3d14bd22ffd99f11?s=128&d=identicon&r=PG&f=1", "display_name": "its me", "link": "https://stackoverflow.com/users/4846792/its-me"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1532598727, "creation_date": 1532554860, "last_edit_date": 1532598727, "question_id": 51528087, "link": "https://stackoverflow.com/questions/51528087/how-to-autocomplete-input-based-on-selection", "title": "How to autocomplete input based on selection?", "body": "<p>I want to autocomplete an input based on a selection. For example if I select <code>laptop</code> I want to populate \"5677\" in an input. Also, if I press <code>Submit</code> I'd like to see the raw data of the selection: </p>\n\n<pre><code>{\n    \"Type\": \"laptop\",\n    \"value\": \"5677\"\n}\n</code></pre>\n\n<p>However, I'm getting a nested object like this:</p>\n\n<pre><code>{\n  \"Type\": {\n    \"Type\": \"laptop\",\n    \"value\": \"5677\"\n  }\n}\n</code></pre>\n\n<p>Here's the <a href=\"https://jsfiddle.net/suunyz3e/3223/\" rel=\"nofollow noreferrer\">fiddle</a>. And here's what I have:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>angular\r\n  .module('MdAutocompleteBugApp', ['ngMaterial'])\r\n  .controller('MdAutocompleteBugController', function ($scope, $q, $timeout) {\r\n\r\n    $scope.data = {};\r\n    $scope.save = function () {\r\n      console.log($scope.data);\r\n      console.log(\"dd\");\r\n    }\r\n\r\n    $scope.datas = [\r\n      {\"Type\": \"Mobile\",\"value\": \"2400\"}, \r\n      {\"Type\": \"laptop\",\"value\": \"5677\"}, \r\n      {\"Type\": \"Mobile\",\"value\": \"\"},\r\n      {\"Type\": \"tv\",}\r\n    ];\r\n\r\n    var elementId = [];\r\n\r\n    $scope.newArr = $scope.datas.filter(el =&gt; {\r\n      if (elementId.indexOf(el.Type) === -1) {\r\n        elementId.push(el.Type);\r\n        return true;\r\n      }\r\n    });\r\n    $scope.getMatches = function (searchText) {\r\n      var configs = $scope.newArr.filter(function (config) {\r\n        return (config.Type.toUpperCase().indexOf(searchText.toUpperCase()) !== -1);\r\n      });\r\n      return configs;\r\n    }\r\n  });</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div ng-app=\"MdAutocompleteBugApp\"&gt;\r\n  &lt;div ng-controller=\"MdAutocompleteBugController as vm\"&gt;\r\n    &lt;form name = \"test\" ng-submit=\"save()\"&gt;\r\n      &lt;md-toolbar class=\"md-padding\"&gt;\r\n\r\n        &lt;md-autocomplete \r\n          md-selected-item=\"data.Type\" \r\n          md-search-text=\"searchText\" \r\n          md-items=\"item in getMatches(searchText)\" \r\n          md-item-text=\"item.Type\" \r\n          placeholder=\"Search states\" \r\n          md-no-cache=\"true\"&gt;\r\n          &lt;md-item-template&gt;\r\n            &lt;span&gt;{{item.Type}} &lt;/span&gt;\r\n          &lt;/md-item-template&gt; \r\n        &lt;/md-autocomplete&gt;\r\n\r\n      &lt;/md-toolbar&gt;&lt;br&gt;\r\n\r\n      Value &lt;input type=\"text\" ng-model=\"data.value\"&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;\r\n      &lt;button type=\"submit\"&gt;submit&lt;/button&gt;\r\n\r\n    &lt;/form&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "d3.js"], "comments": [{"owner": {"reputation": 30153, "user_id": 7106086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V7fFc.png?s=128&g=1", "display_name": "Andrew Reid", "link": "https://stackoverflow.com/users/7106086/andrew-reid"}, "edited": false, "score": 0, "creation_date": 1532555020, "post_id": 51528040, "comment_id": 90024764, "body": "You could avoid the need to calculate the position on zoom/pan by not panning and zooming the text at all. Just pan and zoom the elements that need to be panned and zoomed - if you were to share your code it may be possible to demonstrate such a solution."}, {"owner": {"reputation": 135, "user_id": 8333845, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9b71cdd1b1c137ddd3c5beab55114f7e?s=128&d=identicon&r=PG&f=1", "display_name": "nb12345", "link": "https://stackoverflow.com/users/8333845/nb12345"}, "reply_to_user": {"reputation": 30153, "user_id": 7106086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V7fFc.png?s=128&g=1", "display_name": "Andrew Reid", "link": "https://stackoverflow.com/users/7106086/andrew-reid"}, "edited": false, "score": 0, "creation_date": 1532556385, "post_id": 51528040, "comment_id": 90025224, "body": "@AndrewReid I updated the code description hopefully that is helpful."}], "answers": [{"tags": [], "owner": {"reputation": 30153, "user_id": 7106086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V7fFc.png?s=128&g=1", "display_name": "Andrew Reid", "link": "https://stackoverflow.com/users/7106086/andrew-reid"}, "is_accepted": true, "score": 2, "last_activity_date": 1532583084, "creation_date": 1532583084, "answer_id": 51531622, "question_id": 51528040, "link": "https://stackoverflow.com/questions/51528040/d3-how-to-tie-text-to-top-right-corner-of-view-port-while-zooming-and-panning/51531622#51531622", "title": "d3 how to tie text to top right corner of view port while zooming and panning", "body": "<p>To keep something in place while zooming and panning you could invert the zoom:</p>\n\n<pre><code>point == invertZoom(applyZoom(point))\n</code></pre>\n\n<p>This isn't particularly efficient, as we are using two operations to get to the original number. The zoom is applied here:</p>\n\n<pre><code>countriesGroup\n  .attr(\"transform\",\"translate(\" + [t.x, t.y] + \")scale(\" + t.k + \")\");\n</code></pre>\n\n<p>While the inversion would need to look something like:</p>\n\n<pre><code>text.attr(\"x\", d3.zoom.transform.invert(point)[0])\n    .attr(\"y\", d3.zoom.transform.invert(point)[1])\n    .attr(\"font-size\", baseFontSize / d3.zoom.transform.k);\n</code></pre>\n\n<p>Where point and base font size are the original anchor point and font size. This means storing that data somewhere. In the example below I assign it as a datum to the text element:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var width = 500;\r\nvar height = 200;\r\n\r\nvar data = d3.range(100).map(function() {\r\n  return {x:Math.random()*width,y:Math.random()*height}\r\n})\r\n\r\nvar zoom = d3.zoom()\r\n  .on(\"zoom\",zoomed);\r\n\r\nvar svg = d3.select(\"body\")\r\n  .append(\"svg\")\r\n  .attr(\"width\",width)\r\n  .attr(\"height\",height)\r\n  .call(zoom);\r\n  \r\nvar g = svg.append(\"g\")\r\n\r\nvar circles = g.selectAll()\r\n  .data(data)\r\n  .enter()\r\n  .append(\"circle\")\r\n  .attr(\"cx\", function(d) { return d.x; })\r\n  .attr(\"cy\", function(d) { return d.y; })\r\n  .attr(\"r\", 5)\r\n  .attr(\"fill\",\"steelblue\")\r\n  \r\n\r\nvar text = g.append(\"text\")\r\n  .datum({x: width-10, y: 20, fontSize: 12})\r\n  .attr(\"x\", function(d) { return d.x; })\r\n  .attr(\"y\", function(d) { return d.y; })\r\n  .style(\"text-anchor\",\"end\")\r\n  .attr(\"font-size\",function(d) { return d.fontSize; })\r\n  .text(\"This is a test\");\r\n  \r\n  \r\nfunction zoomed() {\r\n  g.attr(\"transform\", d3.event.transform);\r\n  \r\n  var d = text.datum();\r\n  var p = d3.event.transform.invert([d.x,d.y]);\r\n  var x1 = p[0];\r\n  var y1 = p[1];\r\n  \r\n  text.attr(\"x\",x1)\r\n    .attr(\"y\",y1)\r\n    .attr(\"font-size\", d.fontSize / d3.event.transform.k)\r\n  \r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/4.10.0/d3.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Better Solution</strong></p>\n\n<p>The above is the solution to the approach you seem to be looking for. But the end result is best achieved by a different method. As I mention in my comment, the above approach goes through extra steps that can be avoided. <em>There can also be some size/clarity changes in the text when zooming (quickly) using the above method</em></p>\n\n<p>As noted above, you are applying the zoom here:</p>\n\n<pre><code>countriesGroup\n    .attr(\"transform\",\"translate(\" + [t.x, t.y] + \")scale(\" + t.k + \")\")\n</code></pre>\n\n<p>The zoom transform is applied <em>only</em> to <code>countriesGroup</code>, if your label happens to be in a different <code>g</code> (and not a child of <code>countriesGroup</code>), it won't be scaled or panned.</p>\n\n<p>We wouldn't need to apply and invert the zoom, and we wouldn't need to update the position or font size of the text at all.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var width = 500;\r\nvar height = 200;\r\n\r\nvar data = d3.range(100).map(function() {\r\n  return {x:Math.random()*width,y:Math.random()*height}\r\n})\r\n\r\nvar zoom = d3.zoom()\r\n  .on(\"zoom\",zoomed);\r\n\r\nvar svg = d3.select(\"body\")\r\n  .append(\"svg\")\r\n  .attr(\"width\",width)\r\n  .attr(\"height\",height)\r\n  .call(zoom);\r\n  \r\nvar g = svg.append(\"g\");\r\nvar g2 = svg.append(\"g\"); // order does matter in layering\r\n\r\nvar circles = g.selectAll()\r\n  .data(data)\r\n  .enter()\r\n  .append(\"circle\")\r\n  .attr(\"cx\", function(d) { return d.x; })\r\n  .attr(\"cy\", function(d) { return d.y; })\r\n  .attr(\"r\", 5)\r\n  .attr(\"fill\",\"steelblue\")\r\n  \r\n// position once and leave it alone:\r\nvar text = g2.append(\"text\")\r\n  .attr(\"x\", width - 10)\r\n  .attr(\"y\", 20 )\r\n  .style(\"text-anchor\",\"end\")\r\n  .attr(\"font-size\", 12)\r\n  .text(\"This is a test\");\r\n  \r\n  \r\nfunction zoomed() {\r\n  // apply the zoom to the g that has zoomable content:\r\n  g.attr(\"transform\", d3.event.transform); \r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/4.10.0/d3.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 135, "user_id": 8333845, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9b71cdd1b1c137ddd3c5beab55114f7e?s=128&d=identicon&r=PG&f=1", "display_name": "nb12345", "link": "https://stackoverflow.com/users/8333845/nb12345"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 387, "favorite_count": 0, "accepted_answer_id": 51531622, "answer_count": 1, "score": 2, "last_activity_date": 1532583084, "creation_date": 1532554617, "last_edit_date": 1532556345, "question_id": 51528040, "link": "https://stackoverflow.com/questions/51528040/d3-how-to-tie-text-to-top-right-corner-of-view-port-while-zooming-and-panning", "title": "d3 how to tie text to top right corner of view port while zooming and panning", "body": "<p>I am creating a mapping application in d3 and want to tie some text to the top right corner of my view port. Additionally, I want the text to remain in the top right corner while I zoom and pan across the application.I think I can solve my problem by figuring out how to get the coordinates of the top right corner of my view. Knowing this information would allow me to then set the coordinates of my text element. I've tried manually setting the dimensions of the containing svg element and then moving the text to that location but interestingly this didn't work. I was hoping to be able to find the coordinates programatically rather than setting coordinates manually. How can I do this in d3/javascript?</p>\n\n<p>EDIT:\nMy code is a modification of this code by Andy Barefoot: <a href=\"https://codepen.io/nb123456/pen/zLdqvM\" rel=\"nofollow noreferrer\">https://codepen.io/nb123456/pen/zLdqvM</a></p>\n\n<p>My own zooming and panning code has essentially remained the same as the above example:</p>\n\n<pre><code>function zoomed() {\n  t = d3\n    .event\n    .transform\n  ;\n  countriesGroup\n    .attr(\"transform\",\"translate(\" + [t.x, t.y] + \")scale(\" + t.k + \")\")\n  ;\n}\n</code></pre>\n\n<p>I'm trying to append the text at the very bottom of the code:</p>\n\n<pre><code>countriesGroup.append(\"text\")\n        .attr(\"transform\", \"translate(\" How do I get top right coordinates? \")\")\n        .style(\"fill\", \"#ff0000\")\n        .attr(\"font-size\", \"50px\")\n        .text(\"This is a test\");\n</code></pre>\n\n<p>My idea is to be able to get the top right coordinates of the view port through the code rather than setting it manually and then have the coordinates of the text update as the user zooms or pans.</p>\n"}, {"tags": ["javascript", "html", "pdf", "jspdf", "html2canvas"], "comments": [{"owner": {"reputation": 3161, "user_id": 1513187, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3237cddbf003e1af3b51900c02ec005b?s=128&d=identicon&r=PG", "display_name": "Nikola Lukic", "link": "https://stackoverflow.com/users/1513187/nikola-lukic"}, "edited": false, "score": 0, "creation_date": 1532554944, "post_id": 51528002, "comment_id": 90024741, "body": "Yes only way is &quot;on user request&quot; procedure it require click or right click . No way to do it from code . Can you image scenario : You go to some web page and than your hard disk is full... funny but this is one of most important security aspect  for web platform !"}, {"owner": {"reputation": 3161, "user_id": 1513187, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3237cddbf003e1af3b51900c02ec005b?s=128&d=identicon&r=PG", "display_name": "Nikola Lukic", "link": "https://stackoverflow.com/users/1513187/nikola-lukic"}, "edited": false, "score": 0, "creation_date": 1532555027, "post_id": 51528002, "comment_id": 90024770, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/37878264/image-on-html-canvas-cant-be-downloaded\">Image On HTML Canvas Can&#39;t Be Downloaded</a>"}], "owner": {"user_type": "does_not_exist", "display_name": "user10135866"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 417, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1532554461, "creation_date": 1532554461, "question_id": 51528002, "link": "https://stackoverflow.com/questions/51528002/generate-jspdf-from-html2canvas-work-around-security-error-or-force-download-h", "title": "Generate jsPDF from html2canvas: work around security error? Or force download html2canvas screenshot?", "body": "<p>I am trying to generate a PDF that features a screenshot of my wrapper element, using jsPDF and html2canvas.  See code below:</p>\n\n<p>function printMe() {</p>\n\n<pre><code>html2canvas(document.querySelector(\"#wrapper\")).then(canvas =&gt; {\n    var dataURL = canvas.toDataURL();   \n    var doc = new jsPDF();\n    doc.addImage(dataURL, 'PNG', 20, 20);\n    doc.save(\u201ctest.pdf\");\n});\n</code></pre>\n\n<p>}</p>\n\n<p>I receive a security error from toDataURL:</p>\n\n<p>\u201cUnhandled Promise Rejection: SecurityError: The operation is insecure.\u201d</p>\n\n<p>How can I either fix this error or generate a PDF with this screenshot another way?  Or, is there a way I could simply force the screenshot to download?</p>\n"}, {"tags": ["javascript", "php", "html", "forms"], "comments": [{"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1532554370, "post_id": 51527972, "comment_id": 90024556, "body": "Which HTTP method are you using to send that payload to backend? And which request method is expecting your backend?"}, {"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "reply_to_user": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1532554478, "post_id": 51527972, "comment_id": 90024581, "body": "I have tried GET and POST"}, {"owner": {"reputation": 2403, "user_id": 6275781, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c59bR.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/6275781/clint"}, "edited": false, "score": 0, "creation_date": 1532554480, "post_id": 51527972, "comment_id": 90024582, "body": "Which endpoint is posted to for the both the 200 and 404 requests?"}, {"owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 0, "creation_date": 1532554571, "post_id": 51527972, "comment_id": 90024617, "body": "A 404 error indicates that the page you are submitting the data to doesn&#39;t exist. This will get triggered <b>before</b> any potential errors with your data itself. You&#39;re simply sending your data to the wrong page. Please add a <a href=\"http://stackoverflow.com/help/mcve\"><b>minimal, complete, and verifiable example</b></a> of your submission."}, {"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1532554586, "post_id": 51527972, "comment_id": 90024621, "body": "The client and backend should work with the same HTTP method, further, that amount of data must be sent using the HTTP POST method.  Please post a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>"}, {"owner": {"reputation": 10360, "user_id": 3986005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kUYP4.jpg?s=128&g=1", "display_name": "KIKO Software", "link": "https://stackoverflow.com/users/3986005/kiko-software"}, "edited": false, "score": 0, "creation_date": 1532554600, "post_id": 51527972, "comment_id": 90024625, "body": "A 404 error means the page is not found. I therefore don&#39;t see an inmediate relation with your form submission. The problem here is that we cannot reproduce your problem. See: <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>"}, {"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "reply_to_user": {"reputation": 2403, "user_id": 6275781, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c59bR.jpg?s=128&g=1", "display_name": "Clint", "link": "https://stackoverflow.com/users/6275781/clint"}, "edited": false, "score": 0, "creation_date": 1532554635, "post_id": 51527972, "comment_id": 90024635, "body": "@Clint, clicking on the address bar shows that the form was submitted to the correct file. I&#39;m afraid I haven&#39;t been doing this long enough to understand your question if that isn&#39;t what you&#39;re asking"}, {"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1532554684, "post_id": 51527972, "comment_id": 90024657, "body": "Which HTTP method is expecting your endpoint?"}, {"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1532554848, "post_id": 51527972, "comment_id": 90024705, "body": "A 404 is &quot;not found&quot;, but if this is a <b>404.13</b> then you may be exceeding a configured request size limit.  Can you provide <i>specifics</i> about the error, such as server logs or something of that nature?"}, {"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "reply_to_user": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1532555313, "post_id": 51527972, "comment_id": 90024873, "body": "@David exceeding the configured request size limits sounds exactly right. I have little to no access on the machine this is running on, but is the request size limit something I can get from <code>phpinfo();</code>?"}, {"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1532555690, "post_id": 51527972, "comment_id": 90024997, "body": "If the endpoint is expecting <code>PATCH</code> method and you&#39;re sending <code>POST</code> or <code>GET</code> that will result on a <code>404</code> error."}, {"owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "reply_to_user": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1532555935, "post_id": 51527972, "comment_id": 90025079, "body": "@Ele I wrote the endpoint as well, and I don&#39;t think it is expecting <code>PATCH</code>."}], "answers": [{"tags": [], "owner": {"reputation": 5861, "user_id": 3042117, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/dc6ec10c58136fc12bf83fe45001d672?s=128&d=identicon&r=PG", "display_name": "Iter Ator", "link": "https://stackoverflow.com/users/3042117/iter-ator"}, "is_accepted": true, "score": 3, "last_activity_date": 1532555957, "creation_date": 1532555957, "answer_id": 51528289, "question_id": 51527972, "link": "https://stackoverflow.com/questions/51527972/html-form-how-to-submit-many-100-inputs/51528289#51528289", "title": "HTML Form: How to submit many (100+) inputs", "body": "<p>Replace <code>&lt;form action = 'target.php' method='get'&gt;</code> with <code>&lt;form action = 'target.php' method='post'&gt;</code></p>\n\n<p>You use the <code>GET</code> method, which means that the input names and values will be sent in the URL. If you send data to the server, always use <code>POST</code>.</p>\n\n<p>If you have 100+ inputs, then the URL gets too long</p>\n"}], "owner": {"reputation": 129, "user_id": 6669003, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d6d8f0db03cf2468997a8765218fea2e?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya J.", "link": "https://stackoverflow.com/users/6669003/aditya-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 51528289, "answer_count": 1, "score": 0, "last_activity_date": 1532556133, "creation_date": 1532554292, "last_edit_date": 1532556133, "question_id": 51527972, "link": "https://stackoverflow.com/questions/51527972/html-form-how-to-submit-many-100-inputs", "title": "HTML Form: How to submit many (100+) inputs", "body": "<p>I am working on a system that allows the user to preview the result as an HTML table. I put a checkbox in the leftmost cell that is checked by default. Should the user uncheck any row, that row will not appear in the final product.</p>\n\n<p>Submitting this form, which as of now is only these checkboxes, with just HTML yields a 404 error. Removing or significantly reducing the number of the checkboxes fixes this problem.</p>\n\n<p>I implemented <a href=\"https://stackoverflow.com/questions/9496576/dealing-with-large-numbers-of-html-checkboxes\"><code>name = \"checkbox[]\"</code></a> instead of <code>name = \"checkbox1\", name = \"checkbox2\", ...</code> to see if that would solve the problem; it didn't.</p>\n\n<p>I also tried <a href=\"https://stackoverflow.com/questions/15173965/serializing-and-submitting-a-form-with-jquery-post-and-php\">serializing and submitting the form data with jQuery post and PHP</a>, which still gives me the 404. I tried <a href=\"https://stackoverflow.com/questions/425095/submit-form-using-ajax-and-jquery\">submitting the form using AJAX and jQuery</a> to the same effect.</p>\n\n<p>I'm not sure if submitting the data through <a href=\"https://stackoverflow.com/questions/20118460/save-form-submit-in-session?rq=1\"><code>$_SESSION</code></a> will help. I don't know how I would implement this in my use case.</p>\n\n<p>How can I submit many inputs without causing an error?</p>\n\n<p><strong>EDIT:</strong>  A hopefully minimal, complete and verifiable example (using only HTML, since none of the scripting methods produced a better result):</p>\n\n<pre><code>&lt;?\nprint \"&lt;form action = 'target.php' method='get'&gt;\";\nfor( $i = 0 ; $i &lt; 200 ; $i++ ){\n   print '&lt;input type=\"checkbox\" name=\"chk[]\" checked /&gt; Checkbox ' . $i . '&lt;br /&gt;';\n}\nprint '&lt;input type=\"submit\" value=\"Submit\"&gt;';\n?&gt;\n</code></pre>\n\n<p>This produces the same error for me: 404.</p>\n"}, {"tags": ["javascript", "three.js"], "comments": [{"owner": {"reputation": 4203, "user_id": 882264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/axqN2.jpg?s=128&g=1", "display_name": "manthrax", "link": "https://stackoverflow.com/users/882264/manthrax"}, "edited": false, "score": 0, "creation_date": 1532554852, "post_id": 51527961, "comment_id": 90024707, "body": "You can use the traverse method.. like so:  scene.traverse( (o)=&gt;console.log(o.name) )"}, {"owner": {"reputation": 144, "user_id": 7285886, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UO5oW.png?s=128&g=1", "display_name": "Arashtad", "link": "https://stackoverflow.com/users/7285886/arashtad"}, "reply_to_user": {"reputation": 4203, "user_id": 882264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/axqN2.jpg?s=128&g=1", "display_name": "manthrax", "link": "https://stackoverflow.com/users/882264/manthrax"}, "edited": false, "score": 0, "creation_date": 1532559122, "post_id": 51527961, "comment_id": 90025916, "body": "And for example in a code like mine, how one can access the object created and named as &#39;home&#39;?"}, {"owner": {"reputation": 8191, "user_id": 1550696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ff4qt.jpg?s=128&g=1", "display_name": "2pha", "link": "https://stackoverflow.com/users/1550696/2pha"}, "edited": false, "score": 0, "creation_date": 1532559979, "post_id": 51527961, "comment_id": 90026098, "body": "You are already saving a reference in <code>globalobject</code>, why not make this object store all the references with something like <code>globalobject[name] = mesh</code>, then you could easily get your objects without having to call <code>getObjectByName</code>. You would just get your object with <code>globalobject.home</code>."}, {"owner": {"reputation": 144, "user_id": 7285886, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UO5oW.png?s=128&g=1", "display_name": "Arashtad", "link": "https://stackoverflow.com/users/7285886/arashtad"}, "edited": false, "score": 0, "creation_date": 1532561696, "post_id": 51527961, "comment_id": 90026416, "body": "globalobject is defined inside the load function. I didn&#39;t completely understand  the idea of getting accessed from outside the function."}, {"owner": {"reputation": 4203, "user_id": 882264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/axqN2.jpg?s=128&g=1", "display_name": "manthrax", "link": "https://stackoverflow.com/users/882264/manthrax"}, "edited": false, "score": 0, "creation_date": 1532611946, "post_id": 51527961, "comment_id": 90047861, "body": "scene.getObjectByName(&#39;home&#39;)"}, {"owner": {"reputation": 144, "user_id": 7285886, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UO5oW.png?s=128&g=1", "display_name": "Arashtad", "link": "https://stackoverflow.com/users/7285886/arashtad"}, "edited": false, "score": 0, "creation_date": 1532621145, "post_id": 51527961, "comment_id": 90054054, "body": "scene.getObjectByName(&#39;home&#39;) does not working as explained"}, {"owner": {"reputation": 4203, "user_id": 882264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/axqN2.jpg?s=128&g=1", "display_name": "manthrax", "link": "https://stackoverflow.com/users/882264/manthrax"}, "edited": false, "score": 0, "creation_date": 1556339821, "post_id": 51527961, "comment_id": 98414000, "body": ".OBJ format doesn&#39;t support multiple objects per file, and it doesn&#39;t support object transforms. You should use a more modern format like .GLTF to get full scenes/materials/textures etc.  As far as scene.getObjectByName(&quot;home&quot;) not working.. you have a bug in your code.. and you didn&#39;t list the code that has the bug."}], "answers": [{"comments": [{"owner": {"reputation": 4527, "user_id": 8468264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adc0e0b5afd1ff077dd16a48492c1e0?s=128&d=identicon&r=PG&f=1", "display_name": "d_kennetz", "link": "https://stackoverflow.com/users/8468264/d-kennetz"}, "edited": false, "score": 1, "creation_date": 1556299641, "post_id": 51528744, "comment_id": 98404736, "body": "Hi! Please add some explanation as to how this solves OP&#39;s problem. It is generally discouraged on SO to post code only answers as they do not help OP or future visitors understand the answer. Thanks! --From Review."}, {"owner": {"reputation": 4203, "user_id": 882264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/axqN2.jpg?s=128&g=1", "display_name": "manthrax", "link": "https://stackoverflow.com/users/882264/manthrax"}, "reply_to_user": {"reputation": 4527, "user_id": 8468264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adc0e0b5afd1ff077dd16a48492c1e0?s=128&d=identicon&r=PG&f=1", "display_name": "d_kennetz", "link": "https://stackoverflow.com/users/8468264/d-kennetz"}, "edited": false, "score": 0, "creation_date": 1556339908, "post_id": 51528744, "comment_id": 98414013, "body": "It won&#39;t fix OPs problem.. it&#39;s just the necessary function call. OPs problem is a bug in his code elsewhere. 11 months ago... cheers!"}], "tags": [], "owner": {"reputation": 4203, "user_id": 882264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/axqN2.jpg?s=128&g=1", "display_name": "manthrax", "link": "https://stackoverflow.com/users/882264/manthrax"}, "is_accepted": false, "score": -2, "last_activity_date": 1556294677, "last_edit_date": 1556294677, "creation_date": 1532559190, "answer_id": 51528744, "question_id": 51527961, "link": "https://stackoverflow.com/questions/51527961/three-js-how-to-access-the-object-loaded-from-obj-by-name/51528744#51528744", "title": "Three JS - How to access the object loaded from .obj by name?", "body": "<pre><code>var object = scene.getObjectByName( \"objectName\" );\n</code></pre>\n"}], "owner": {"reputation": 144, "user_id": 7285886, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UO5oW.png?s=128&g=1", "display_name": "Arashtad", "link": "https://stackoverflow.com/users/7285886/arashtad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 621, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556294685, "creation_date": 1532554258, "last_edit_date": 1556294685, "question_id": 51527961, "link": "https://stackoverflow.com/questions/51527961/three-js-how-to-access-the-object-loaded-from-obj-by-name", "title": "Three JS - How to access the object loaded from .obj by name?", "body": "<p>I got a function which loads objects from .obj files this way:</p>\n\n<pre><code>function loadObject(obj, mtl, clr, opc, px, py, pz, rx, ry, rz, cs, rs, name) {\n    switch(mtl) {\n        case 'transparent':\n            var material = new THREE.MeshLambertMaterial({\n                color: clr,\n                transparent: true,\n                opacity: opc,\n            });\n            break;\n        case 'web':\n            var material = createElementMaterial('img/web.png');\n            break;\n        case 'basic':\n            var material = new THREE.MeshBasicMaterial({ color: clr });\n            break;\n        default:\n            var material = new THREE.MeshLambertMaterial({color: clr, transparent: true, opacity: opc});\n            break;\n    }\n    var objLoader = new THREE.OBJLoader();\n    objLoader.load(obj, function(mesh) {\n        globalobject = mesh;\n        globalobject.name = name;\n        mesh.traverse(function(node) {\n            if(node instanceof THREE.Mesh) {\n                node.castShadow = cs;\n                node.receiveShadow = rs;\n                node.material = material;\n                node.position.x = px;\n                node.position.y = py;\n                node.position.z = pz;\n                node.rotation.x = rx;\n                node.rotation.y = ry;\n                node.rotation.z = rz;           }\n        });\n        scene.add(mesh);\n    });\n}\n</code></pre>\n\n<p>Now, I need to name each loaded object and control its properties such as opacity etc. by using getObjectByName(). The objects get loaded and follow the function rules but when I load an object and try to access it by name, I get an undefined output from console and it's when I can print the object when I send query to console by typing in it directly.\nSo, in another hand, I'm looking for a way which allows me to access each loaded object from .obj files.</p>\n"}, {"tags": ["javascript", "firebase", "google-cloud-functions"], "answers": [{"comments": [{"owner": {"reputation": 5926, "user_id": 3128156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/h3FIS.jpg?s=128&g=1", "display_name": "Sahand", "link": "https://stackoverflow.com/users/3128156/sahand"}, "edited": false, "score": 0, "creation_date": 1532555132, "post_id": 51528028, "comment_id": 90024810, "body": "Thank you for your answer. I don&#39;t want to do the work over again inside the function, only when the function is loaded. The work consists of initialising an empty array of arrays and objects which will be filled by the firebase function. So if I reinitialize it as empty I will lose important information. How can I solve this problem?"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "reply_to_user": {"reputation": 5926, "user_id": 3128156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/h3FIS.jpg?s=128&g=1", "display_name": "Sahand", "link": "https://stackoverflow.com/users/3128156/sahand"}, "edited": false, "score": 0, "creation_date": 1532555185, "post_id": 51528028, "comment_id": 90024836, "body": "My solution doesn&#39;t do that.  It performs the work once and reuses the results held by the promise."}, {"owner": {"reputation": 5926, "user_id": 3128156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/h3FIS.jpg?s=128&g=1", "display_name": "Sahand", "link": "https://stackoverflow.com/users/3128156/sahand"}, "edited": false, "score": 0, "creation_date": 1532555376, "post_id": 51528028, "comment_id": 90024892, "body": "Ah, because a promise can only be resolved once, thanks!"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "reply_to_user": {"reputation": 5926, "user_id": 3128156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/h3FIS.jpg?s=128&g=1", "display_name": "Sahand", "link": "https://stackoverflow.com/users/3128156/sahand"}, "edited": false, "score": 0, "creation_date": 1532555534, "post_id": 51528028, "comment_id": 90024942, "body": "Yup, you got it."}, {"owner": {"reputation": 5926, "user_id": 3128156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/h3FIS.jpg?s=128&g=1", "display_name": "Sahand", "link": "https://stackoverflow.com/users/3128156/sahand"}, "edited": false, "score": 0, "creation_date": 1532556156, "post_id": 51528028, "comment_id": 90025147, "body": "Hmm, I tried your solution but I still have the problem with the work seemingly not being done at the time of function execution. I&#39;ve posted more info in a update."}, {"owner": {"reputation": 5926, "user_id": 3128156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/h3FIS.jpg?s=128&g=1", "display_name": "Sahand", "link": "https://stackoverflow.com/users/3128156/sahand"}, "edited": false, "score": 0, "creation_date": 1532560032, "post_id": 51528028, "comment_id": 90026104, "body": "Also, it seems like the promise resolves every time I enter the firebase function. How is that possible?"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "reply_to_user": {"reputation": 5926, "user_id": 3128156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/h3FIS.jpg?s=128&g=1", "display_name": "Sahand", "link": "https://stackoverflow.com/users/3128156/sahand"}, "edited": false, "score": 0, "creation_date": 1532560316, "post_id": 51528028, "comment_id": 90026163, "body": "As you said, the promise can be resolved only once.  It will remain resolved for all future function invocations on that server instance.  If Cloud Functions has to spin up another instance, it will have to run your initial code again.  Use lots of logging to figure out how your code is running."}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 1, "last_activity_date": 1532554563, "creation_date": 1532554563, "answer_id": 51528028, "question_id": 51527956, "link": "https://stackoverflow.com/questions/51527956/how-to-define-a-firebase-cloud-function-trigger-inside-a-then-statement/51528028#51528028", "title": "How to define a firebase cloud function trigger inside a then-statement", "body": "<p>This type of function definition isn't supported by the Firebase CLI.  Instead, you should kick off the initial work <em>inside</em> the function, and cache the result later so you don't have to execute it again.  Or, you can try to kick off the work, and retain a promise that the function can use later, like this:</p>\n\n<pre><code>const promise = doSomeInitialWork()  // returns a promise that resolves with the data\n\nexports.scheduleFreeBed = functions.database.ref(...).onUpdate(change =&gt; {\n    promise.then(results =&gt; {\n        // work with the results of doSomeInitialWork() here\n    })\n})\n</code></pre>\n"}], "owner": {"reputation": 5926, "user_id": 3128156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/h3FIS.jpg?s=128&g=1", "display_name": "Sahand", "link": "https://stackoverflow.com/users/3128156/sahand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 51528028, "answer_count": 1, "score": 0, "last_activity_date": 1532576835, "creation_date": 1532554234, "last_edit_date": 1532576835, "question_id": 51527956, "link": "https://stackoverflow.com/questions/51527956/how-to-define-a-firebase-cloud-function-trigger-inside-a-then-statement", "title": "How to define a firebase cloud function trigger inside a then-statement", "body": "<p>I have this code that I need to make sure is run before my firebase function is defined, because it depends on a variable set in the code:</p>\n\n<pre><code>const hotelBedTimeouts = [];\n\nvar beds = db.ref('/beds');\n\n// Initialise the bed timeout holder object\nbeds.once(\"value\", function(snapshot){\n  var hotels = snapshot.val();\n\n  for (var i = 0; i &lt; hotels.length; i++) {\n    // push empty list to be filled with lists holding individual bed timeouts\n    if(hotels[i]){\n      hotelBedTimeouts.push([]);\n      for(var j = 0; j &lt; hotels[i].length; j++) {\n        // this list will hold all timeouts for this bed\n        hotelBedTimeouts[i].push({});\n      }\n    } else {\n      hotelBedTimeouts.push(undefined);\n    }\n  }\n});\n</code></pre>\n\n<p>I was suggested to put this function inside of a <code>.then()</code> statement after the <code>once()</code> call. So I tried this:</p>\n\n<pre><code>const hotelBedTimeouts = [];\n\nvar beds = db.ref('/beds');\n\n// Initialise the bed timeout holder object\nbeds.once(\"value\", function(snapshot){\n  var hotels = snapshot.val();\n\n  for (var i = 0; i &lt; hotels.length; i++) {\n    // push empty list to be filled with lists holding individual bed timeouts\n    if(hotels[i]){\n      hotelBedTimeouts.push([]);\n      for(var j = 0; j &lt; hotels[i].length; j++) {\n        // this list will hold all timeouts for this bed\n        hotelBedTimeouts[i].push({});\n      }\n    } else {\n      hotelBedTimeouts.push(undefined);\n    }\n  }\n}).then( () =&gt; {\n  // Frees a bed after a set amount of time\n  exports.scheduleFreeBed = functions.database.ref('/beds/{hotelIndex}/{bedIndex}/email').onUpdate( (snapshot, context) =&gt; {\n     // My code\n});\n</code></pre>\n\n<p>Unfortunately, this cause my whole firebase function to be deleted:</p>\n\n<pre><code>$ firebase deploy --only functions\n\n=== Deploying to 'company-23uzc'...\n\ni  functions: deleting function scheduleFreeBed...\n\u2714  functions[scheduleFreeBed]: Successful delete operation.\n</code></pre>\n\n<p>Is it possible to define a firebase function in this way?</p>\n\n<p>What is the way to ensure that a firebase function always has access to certain variables defined in the backend code?</p>\n\n<p>EDIT:</p>\n\n<p>This is my first attempt at a solution after Doug Stevenson's answer:</p>\n\n<pre><code>const hotelBedTimeouts = [];\nvar beds = db.ref('/beds');\nconst promise = beds.once(\"value\");\n\n// Frees a bed after a set amount of time\nexports.scheduleFreeBed = functions.database.ref('/beds/{hotelIndex}/{bedIndex}/email').onUpdate( (snapshot, context) =&gt; {\n\n  promise.then( (snapshot) =&gt; {\n      var hotels = snapshot.val();\n\n      for (var i = 0; i &lt; hotels.length; i++) {\n        // push empty list to be filled with lists holding individual bed timeouts\n        if(hotels[i]){\n          hotelBedTimeouts.push([]);\n          for(var j = 0; j &lt; hotels[i].length; j++) {\n            // this list will hold all timeouts for this bed\n            hotelBedTimeouts[i].push({});\n          }\n        } else {\n          hotelBedTimeouts.push(undefined);\n        }\n      }\n    });\n\n  var originalEmail = snapshot.after.val();\n  var hotelIndex = context.params.hotelIndex;\n  var bedIndex = context.params.bedIndex;\n  if (originalEmail === -1) {\n    clearTimeout(hotelBedTimeouts[hotelIndex][bedIndex].timeoutFunc); // clear current timeoutfunc\n    return 0; // Do nothing\n  }\n\n  // replace old timeout function\n  hotelBedTimeouts[hotelIndex][bedIndex].timeoutFunc = setTimeout(function () { // ERROR HERE\n    var bedRef = admin.database().ref(`/beds/${hotelIndex}/${bedIndex}`);\n    bedRef.once(\"value\", function(bedSnap){\n      var bed = bedSnap.val();\n      var booked = bed.booked;\n      if (!booked) {\n        var currentEmail = bed.email;\n        // Check if current bed/email is the same as originalEmail\n        if (currentEmail === originalEmail) {\n          bedSnap.child(\"email\").ref.set(-1, function() {\n            console.log(\"Freed bed\");\n          });\n        }\n      }\n    });\n  }, 300000); // 5 min timeout\n\n\n  return 0;\n});\n</code></pre>\n\n<p>Still, it seems like the hotelBedTimeouts has not been properly defined at the time of function execution, look at this error:</p>\n\n<pre><code>TypeError: Cannot read property '15' of undefined\n</code></pre>\n\n<p>I've marked in a comment in my code which line this error is for.</p>\n\n<p>How can the list still not be defined?</p>\n"}, {"tags": ["javascript", "regex", "rounding", "currency"], "comments": [{"owner": {"reputation": 4693, "user_id": 5501536, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/50b9ab14ab8699a3862c14ee48126abe?s=128&d=identicon&r=PG&f=1", "display_name": "chevybow", "link": "https://stackoverflow.com/users/5501536/chevybow"}, "edited": false, "score": 0, "creation_date": 1532554332, "post_id": 51527934, "comment_id": 90024537, "body": "What do you mean. I don&#39;t get any decimal places using your regex."}, {"owner": {"reputation": 4970, "user_id": 305953, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ncprD.jpg?s=128&g=1", "display_name": "Dez", "link": "https://stackoverflow.com/users/305953/dez"}, "edited": false, "score": 3, "creation_date": 1532554659, "post_id": 51527934, "comment_id": 90024645, "body": "I don&#39;t get why aren&#39;t you using <code>Math.round()</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1532554913, "post_id": 51527934, "comment_id": 90024734, "body": "Do you really have commas in your number? You&#39;ll need to remove them before you use any math operations."}, {"owner": {"reputation": 696, "user_id": 10026757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xFRJf.png?s=128&g=1", "display_name": "Fobos", "link": "https://stackoverflow.com/users/10026757/fobos"}, "edited": false, "score": 0, "creation_date": 1532555009, "post_id": 51527934, "comment_id": 90024760, "body": "You need to convert the string to float and then round it with Math.round"}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1532554960, "post_id": 51528101, "comment_id": 90024744, "body": "<code>toFixed(2)</code> should be <code>toFixed(0)</code>"}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1532555769, "post_id": 51528101, "comment_id": 90025025, "body": "Changing from <code>toFixed(2)</code> to <code>toFixed(0)</code> seems to break comma insertion. Something like <code>return &#39;$&#39; + number.toFixed(0).replace(&#47;\\d(?=(\\d{3})+$)&#47;g, &#39;$&amp;,&#39;);</code> seems to work..."}, {"owner": {"reputation": 696, "user_id": 10026757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xFRJf.png?s=128&g=1", "display_name": "Fobos", "link": "https://stackoverflow.com/users/10026757/fobos"}, "edited": false, "score": 0, "creation_date": 1532556224, "post_id": 51528101, "comment_id": 90025170, "body": "Nice, this equal   <code>return &#39;$&#39; + number.toFixed(0).replace(&#47;\\B(?=(\\d{3})+(?!\\d))&#47;g, &#39;$&amp;,&#39;);  </code>"}, {"owner": {"reputation": 51, "user_id": 10135832, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-74Cp7loBsio/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rEKjYywEwPcu_QnmapWv0pwivR8w/mo/photo.jpg?sz=128", "display_name": "JainP ", "link": "https://stackoverflow.com/users/10135832/jainp"}, "edited": false, "score": 0, "creation_date": 1532615007, "post_id": 51528101, "comment_id": 90050050, "body": "Hey Nerdvoso,  can you please  modify the same in my existing code and see my rounding function. It will be a great help, Here is how my code looks like  function formatVal(a){     a=parseInt(a);    //return value based on numeric /non-numeric     if (isNaN(a)){         c=a;     }else     {         c =&quot;$&quot;+a.toFixed(0).replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, &quot;$1,&quot;);    }     return c;  }"}, {"owner": {"reputation": 51, "user_id": 10135832, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-74Cp7loBsio/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rEKjYywEwPcu_QnmapWv0pwivR8w/mo/photo.jpg?sz=128", "display_name": "JainP ", "link": "https://stackoverflow.com/users/10135832/jainp"}, "edited": false, "score": 0, "creation_date": 1532617240, "post_id": 51528101, "comment_id": 90051529, "body": "I&#39;m getting the error as Uncaught TypeError: a.replace is not a function"}, {"owner": {"reputation": 696, "user_id": 10026757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xFRJf.png?s=128&g=1", "display_name": "Fobos", "link": "https://stackoverflow.com/users/10026757/fobos"}, "reply_to_user": {"reputation": 51, "user_id": 10135832, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-74Cp7loBsio/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rEKjYywEwPcu_QnmapWv0pwivR8w/mo/photo.jpg?sz=128", "display_name": "JainP ", "link": "https://stackoverflow.com/users/10135832/jainp"}, "edited": false, "score": 0, "creation_date": 1532617564, "post_id": 51528101, "comment_id": 90051728, "body": "@JainP try now, added conversion <code>toString()</code>"}, {"owner": {"reputation": 51, "user_id": 10135832, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-74Cp7loBsio/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rEKjYywEwPcu_QnmapWv0pwivR8w/mo/photo.jpg?sz=128", "display_name": "JainP ", "link": "https://stackoverflow.com/users/10135832/jainp"}, "edited": false, "score": 0, "creation_date": 1532617965, "post_id": 51528101, "comment_id": 90051991, "body": "awesome.its rounding up the values.Thank you. can you help me with one more thing, the table cell where there are no values i.e NAN those cells are displaying with $0. I want them to be blank"}, {"owner": {"reputation": 696, "user_id": 10026757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xFRJf.png?s=128&g=1", "display_name": "Fobos", "link": "https://stackoverflow.com/users/10026757/fobos"}, "reply_to_user": {"reputation": 51, "user_id": 10135832, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-74Cp7loBsio/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rEKjYywEwPcu_QnmapWv0pwivR8w/mo/photo.jpg?sz=128", "display_name": "JainP ", "link": "https://stackoverflow.com/users/10135832/jainp"}, "edited": false, "score": 0, "creation_date": 1532618334, "post_id": 51528101, "comment_id": 90052236, "body": "@JainP update, added condition <code>if(c == &#39;$0&#39;){ c = &quot;&quot;;}</code>"}, {"owner": {"reputation": 51, "user_id": 10135832, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-74Cp7loBsio/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rEKjYywEwPcu_QnmapWv0pwivR8w/mo/photo.jpg?sz=128", "display_name": "JainP ", "link": "https://stackoverflow.com/users/10135832/jainp"}, "edited": false, "score": 0, "creation_date": 1532618666, "post_id": 51528101, "comment_id": 90052457, "body": "Awesome. It&#39;s working.Thanks a lot.you made my day. Thanks.:-)"}, {"owner": {"reputation": 51, "user_id": 10135832, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-74Cp7loBsio/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rEKjYywEwPcu_QnmapWv0pwivR8w/mo/photo.jpg?sz=128", "display_name": "JainP ", "link": "https://stackoverflow.com/users/10135832/jainp"}, "edited": false, "score": 0, "creation_date": 1532652323, "post_id": 51528101, "comment_id": 90066121, "body": "Hey Nerdvoso, there is a special case in my api output where for a particular input it gives me  error:42. But after using this round up regex it is display it has $42, which is a bad value for my table, can it at least display error:42 in such case. Before using your round up regex I used to get blank cell for such special at least. Any insights on that will be helpful"}, {"owner": {"reputation": 696, "user_id": 10026757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xFRJf.png?s=128&g=1", "display_name": "Fobos", "link": "https://stackoverflow.com/users/10026757/fobos"}, "reply_to_user": {"reputation": 51, "user_id": 10135832, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-74Cp7loBsio/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rEKjYywEwPcu_QnmapWv0pwivR8w/mo/photo.jpg?sz=128", "display_name": "JainP ", "link": "https://stackoverflow.com/users/10135832/jainp"}, "edited": false, "score": 0, "creation_date": 1532674829, "post_id": 51528101, "comment_id": 90071773, "body": "@JainP Update answer, check now."}, {"owner": {"reputation": 51, "user_id": 10135832, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-74Cp7loBsio/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rEKjYywEwPcu_QnmapWv0pwivR8w/mo/photo.jpg?sz=128", "display_name": "JainP ", "link": "https://stackoverflow.com/users/10135832/jainp"}, "edited": false, "score": 0, "creation_date": 1532697622, "post_id": 51528101, "comment_id": 90084497, "body": "Hey Nerdvoso, I&#39;m not getting values for any of the inputs , my table is showing blank. Please help."}, {"owner": {"reputation": 51, "user_id": 10135832, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-74Cp7loBsio/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rEKjYywEwPcu_QnmapWv0pwivR8w/mo/photo.jpg?sz=128", "display_name": "JainP ", "link": "https://stackoverflow.com/users/10135832/jainp"}, "edited": false, "score": 0, "creation_date": 1532699440, "post_id": 51528101, "comment_id": 90085632, "body": "can there made be an alert if I have error 42 coming from an api display an alert or error saying error 42., rather displaying it as $42 before sending it to regular exp, I could show my project, but I can&#39;t show here publicly"}, {"owner": {"reputation": 51, "user_id": 10135832, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-74Cp7loBsio/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rEKjYywEwPcu_QnmapWv0pwivR8w/mo/photo.jpg?sz=128", "display_name": "JainP ", "link": "https://stackoverflow.com/users/10135832/jainp"}, "edited": false, "score": 0, "creation_date": 1532699781, "post_id": 51528101, "comment_id": 90085865, "body": "in my console no error is displayed. But in my api the error is displayed as  &quot;error: 42&quot;"}, {"owner": {"reputation": 696, "user_id": 10026757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xFRJf.png?s=128&g=1", "display_name": "Fobos", "link": "https://stackoverflow.com/users/10026757/fobos"}, "edited": false, "score": 0, "creation_date": 1532700148, "post_id": 51528101, "comment_id": 90086103, "body": "When there is an error, the function starts <code>formatVal(&quot;error:42&quot;);</code> ?"}, {"owner": {"reputation": 51, "user_id": 10135832, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-74Cp7loBsio/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rEKjYywEwPcu_QnmapWv0pwivR8w/mo/photo.jpg?sz=128", "display_name": "JainP ", "link": "https://stackoverflow.com/users/10135832/jainp"}, "edited": false, "score": 0, "creation_date": 1532700574, "post_id": 51528101, "comment_id": 90086316, "body": "please check your gmail"}, {"owner": {"reputation": 51, "user_id": 10135832, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-74Cp7loBsio/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rEKjYywEwPcu_QnmapWv0pwivR8w/mo/photo.jpg?sz=128", "display_name": "JainP ", "link": "https://stackoverflow.com/users/10135832/jainp"}, "edited": false, "score": 0, "creation_date": 1532700708, "post_id": 51528101, "comment_id": 90086388, "body": "check for these sets of inputs. zipcode 94519, Employee only ,yes"}], "tags": [], "owner": {"reputation": 696, "user_id": 10026757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xFRJf.png?s=128&g=1", "display_name": "Fobos", "link": "https://stackoverflow.com/users/10026757/fobos"}, "is_accepted": true, "score": 1, "last_activity_date": 1532674710, "last_edit_date": 1532674710, "creation_date": 1532554924, "answer_id": 51528101, "question_id": 51527934, "link": "https://stackoverflow.com/questions/51527934/round-off-currency-using-regular-exp/51528101#51528101", "title": "round off currency using regular exp", "body": "<p>Try this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    function formatVal(a){ \r\n    var c = '';\r\n    if(a.toString().indexOf('$') !== -1){\r\n        a = Math.round(Number(a.toString().replace(/[^0-9\\.-]+/g,\"\")));\r\n        if (isNaN(a)){ \r\n            c=a;\r\n        }else { \r\n            c =\"$\"+a.toFixed(0).replace(/\\B(?=(\\d{3})+(?!\\d))/g, '$&amp;,');\r\n            if(c == '$0'){ c = \"\";}\r\n        } \r\n    }\r\n    return c; \r\n}\r\n    \r\nconsole.log(formatVal('$1,869.96'));\r\nconsole.log(formatVal('$1,869'));\r\nconsole.log(formatVal('sssss'));\r\nconsole.log(formatVal(42));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 51, "user_id": 10135832, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-74Cp7loBsio/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rEKjYywEwPcu_QnmapWv0pwivR8w/mo/photo.jpg?sz=128", "display_name": "JainP ", "link": "https://stackoverflow.com/users/10135832/jainp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 1, "accepted_answer_id": 51528101, "answer_count": 1, "score": 2, "last_activity_date": 1532674710, "creation_date": 1532554140, "last_edit_date": 1532554797, "question_id": 51527934, "link": "https://stackoverflow.com/questions/51527934/round-off-currency-using-regular-exp", "title": "round off currency using regular exp", "body": "<p>I have multiple currency inputs i.e $1,869.96. I need to round up my currency into $1,870 as a whole number without any decimal places.</p>\n\n<p>The regular expression I used is </p>\n\n<pre><code>\"$\"+ a.toFixed(0).replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\"); \n</code></pre>\n\n<p>Can anybody help me in modifying the existing one to round up the value as a whole number without decimal places.Thank you.</p>\n"}, {"tags": ["javascript", "vuejs2"], "answers": [{"comments": [{"owner": {"reputation": 2764, "user_id": 5065577, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/W5XYj.jpg?s=128&g=1", "display_name": "Bogdan  Dubyk", "link": "https://stackoverflow.com/users/5065577/bogdan-dubyk"}, "edited": false, "score": 0, "creation_date": 1532556973, "post_id": 51528339, "comment_id": 90025396, "body": "well, I had such flowplayer initialization logic before, but there was the issue with adv videos, and after I contact flowplayer team and they tell me to use such a code...."}], "tags": [], "owner": {"reputation": 5802, "user_id": 7226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d21f71ba9bf9042ab06c5ba962837d4?s=128&d=identicon&r=PG&f=1", "display_name": "Valery Viktorovsky", "link": "https://stackoverflow.com/users/7226/valery-viktorovsky"}, "is_accepted": false, "score": 1, "last_activity_date": 1532556745, "last_edit_date": 1532556745, "creation_date": 1532556288, "answer_id": 51528339, "question_id": 51527908, "link": "https://stackoverflow.com/questions/51527908/add-script-to-inside-of-vue-template/51528339#51528339", "title": "Add script to inside of vue template", "body": "<p>You can use pure JavaScript installation, then init flowplayer in 'mounted' method.</p>\n\n<pre><code>new Vue({\n  el: \"#app\",\n  mounted: function() {\n    this.$nextTick(function() {\n      // select the above element as player container\n      let containerEl = document.getElementById(\"videocontent\")\n\n      // install flowplayer into selected container\n      flowplayer(containerEl, {\n        clip: {\n          sources: [\n            { type: \"application/x-mpegurl\",\n              src:  \"//mydomain.com/video.m3u8\" },\n            { type: \"video/mp4\",\n              src:  \"//mydomain.com/video.mp4\" }\n          ]\n        }\n      })\n    })\n  }\n})\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/5b0cqp4g/\" rel=\"nofollow noreferrer\">jsfiddle</a></p>\n"}], "owner": {"reputation": 2764, "user_id": 5065577, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/W5XYj.jpg?s=128&g=1", "display_name": "Bogdan  Dubyk", "link": "https://stackoverflow.com/users/5065577/bogdan-dubyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 388, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1532556745, "creation_date": 1532554014, "last_edit_date": 1532554502, "question_id": 51527908, "link": "https://stackoverflow.com/questions/51527908/add-script-to-inside-of-vue-template", "title": "Add script to inside of vue template", "body": "<p>I need insert script like this </p>\n\n<pre><code>    &lt;div data-player-id=\"912d05c\"&gt;\n  &lt;script src=\"//cdn.flowplayer.com/players/7/flowplayer.async.js\"&gt;\n    { \n            \"src\": \"https://s3.amazonaws.com/69693f173770c49cbb5.mp4\"\n    }\n  &lt;/script&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>to inside of html under the vue.</p>\n\n<p>So I found that I need to generate <code>script</code> tag by js but I'm not sure how to add </p>\n\n<pre><code>{ \n        \"src\": \"https://s3.amazonaws.com/69693f173770c49cbb5.mp4\"\n}\n</code></pre>\n\n<p>to this <code>script</code> tag</p>\n\n<p>Code what I have (simplified):</p>\n\n<pre><code>&lt;div id=\"app\"&gt;\n    &lt;div id=\"videocontent\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n\nel: \"#app\",\ndata: {},\ncreated: function() {\n    let playerContainer = document.createElement('div');\n    playerContainer.setAttribute('data-player-id','912d05c');\n    let flowplayerScript = document.createElement('script');\n    flowplayerScript.setAttribute('src', '//cdn.flowplayer.com/players/7/flowplayer.async.js');\n    flowplayerScript.innerText = {\"src\": \"https://s3.amazonaws.com/productionadgate_video/eceae5886caaf69693f173770c49cbb5.mp4\"};\n\n    playerContainer.append(flowplayerScript);\n    let container = document.getElementById('videocontent');\n    container.append(playerContainer);\n}\n</code></pre>\n\n<p>and <code>flowplayerScript.innerText = {\"src\": \"https://s3.amazonaws.com/productionadgate_video/eceae5886caaf69693f173770c49cbb5.mp4\"};</code> is not correclty injected and player is always loading but not showing videos.  Also I was tried tu use:</p>\n\n<pre><code>flowplayerScript.onload = function(){\n     return {\n         \"src\": \"https://s3.amazonaws.com/productionadgate_video/eceae5886caaf69693f173770c49cbb5.mp4\"\n        }\n};\n</code></pre>\n\n<p>but still not working :( and I'm getting the error like:</p>\n\n<pre><code>SyntaxError: Unexpected token $ in JSON at position 0 flowplayer.async.js:2\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 1367, "user_id": 4012133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/44Eda.jpg?s=128&g=1", "display_name": "Danko", "link": "https://stackoverflow.com/users/4012133/danko"}, "edited": false, "score": 1, "creation_date": 1532554553, "post_id": 51527947, "comment_id": 90024607, "body": "and <code>onClick</code> event/prop should not be called with &#39;()&#39;. it should look like this: <code>&lt;span onClick={this.firstMethod}&gt;Click me&lt;&#47;span&gt;</code>"}, {"owner": {"reputation": 13611, "user_id": 7060441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kKetn.jpg?s=128&g=1", "display_name": "devserkan", "link": "https://stackoverflow.com/users/7060441/devserkan"}, "edited": false, "score": 1, "creation_date": 1532555547, "post_id": 51527947, "comment_id": 90024945, "body": "I totally missed that one tough I used this method in my all codes. Thanks @Danko pointing that out."}, {"owner": {"reputation": 1367, "user_id": 4012133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/44Eda.jpg?s=128&g=1", "display_name": "Danko", "link": "https://stackoverflow.com/users/4012133/danko"}, "reply_to_user": {"reputation": 13611, "user_id": 7060441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kKetn.jpg?s=128&g=1", "display_name": "devserkan", "link": "https://stackoverflow.com/users/7060441/devserkan"}, "edited": false, "score": 0, "creation_date": 1532556345, "post_id": 51527947, "comment_id": 90025207, "body": "It&#39;s great that you have sorted this out now :). Please upvote this answer if it was helpful to you"}], "tags": [], "owner": {"reputation": 1367, "user_id": 4012133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/44Eda.jpg?s=128&g=1", "display_name": "Danko", "link": "https://stackoverflow.com/users/4012133/danko"}, "is_accepted": false, "score": 2, "last_activity_date": 1532554204, "creation_date": 1532554204, "answer_id": 51527947, "question_id": 51527874, "link": "https://stackoverflow.com/questions/51527874/call-method-within-method-in-reactjs/51527947#51527947", "title": "Call method within method in reactjs", "body": "<p>Instead of <code>firstMethod = () =&gt; (event)</code> try <code>firstMethod = (event) =&gt;</code> and instead of <code>secondMethod = () =&gt; (event) =&gt; {</code> try <code>secondMethod = (event) =&gt; {</code></p>\n"}, {"tags": [], "owner": {"reputation": 2697, "user_id": 3354444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Z3Jq.png?s=128&g=1", "display_name": "amankkg", "link": "https://stackoverflow.com/users/3354444/amankkg"}, "is_accepted": false, "score": 1, "last_activity_date": 1532554673, "last_edit_date": 1532554673, "creation_date": 1532554368, "answer_id": 51527986, "question_id": 51527874, "link": "https://stackoverflow.com/questions/51527874/call-method-within-method-in-reactjs/51527986#51527986", "title": "Call method within method in reactjs", "body": "<p>Your second method returns a new function, which is redundant.<br>\nAlso, your second method can be not bound, since the first method has the context already.</p>\n\n<p><code>secondMethod = () =&gt; (event) =&gt; { ... }</code> should be <code>secondMethod(evnt) { ... }</code></p>\n\n<p>Here is the working and optimized example <a href=\"https://codesandbox.io/s/pkl90rqmyj\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/pkl90rqmyj</a></p>\n"}, {"tags": [], "owner": {"reputation": 2152, "user_id": 1306026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d117a6182330066d4771187f93e7e98e?s=128&d=identicon&r=PG", "display_name": "Joshua R.", "link": "https://stackoverflow.com/users/1306026/joshua-r"}, "is_accepted": false, "score": 1, "last_activity_date": 1532554478, "creation_date": 1532554478, "answer_id": 51528006, "question_id": 51527874, "link": "https://stackoverflow.com/questions/51527874/call-method-within-method-in-reactjs/51528006#51528006", "title": "Call method within method in reactjs", "body": "<p>The bad news is that you can't <code>bind</code> arrow functions because they're lexically bound.  See:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/33308121/can-you-bind-arrow-functions\">Can you bind arrow functions?</a></p>\n\n<p>The <strong>good news</strong> is that \"lexical binding\" means that they should already have App as their <code>this</code>,  i.e. it should would without explicitly binding. You'd likely redefining them as undefined, or some other odd thing by treating them this way in the constructor.</p>\n"}, {"comments": [{"owner": {"reputation": 2697, "user_id": 3354444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Z3Jq.png?s=128&g=1", "display_name": "amankkg", "link": "https://stackoverflow.com/users/3354444/amankkg"}, "edited": false, "score": 0, "creation_date": 1533670311, "post_id": 51528022, "comment_id": 90429022, "body": "Actually, even in your final solution, there is room for improvement: <code>secondMethod</code> should be written as a plain method property, not arrow function."}, {"owner": {"reputation": 2697, "user_id": 3354444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Z3Jq.png?s=128&g=1", "display_name": "amankkg", "link": "https://stackoverflow.com/users/3354444/amankkg"}, "edited": false, "score": 0, "creation_date": 1533672343, "post_id": 51528022, "comment_id": 90429987, "body": "Yeah, sure. Since <code>firstMethod</code> is an arrow function already (e.g. it is already &quot;bound&quot; to <code>this</code>), every method call inside that method will be &quot;local&quot; to <code>this</code>."}, {"owner": {"reputation": 13611, "user_id": 7060441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kKetn.jpg?s=128&g=1", "display_name": "devserkan", "link": "https://stackoverflow.com/users/7060441/devserkan"}, "reply_to_user": {"reputation": 2697, "user_id": 3354444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Z3Jq.png?s=128&g=1", "display_name": "amankkg", "link": "https://stackoverflow.com/users/3354444/amankkg"}, "edited": false, "score": 0, "creation_date": 1533677406, "post_id": 51528022, "comment_id": 90432148, "body": "@amankkg, thanks. You mean automatic binding since we do not bind it explicitly here? If so, what is the downside of using arrow function instead of using class method?"}, {"owner": {"reputation": 2697, "user_id": 3354444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Z3Jq.png?s=128&g=1", "display_name": "amankkg", "link": "https://stackoverflow.com/users/3354444/amankkg"}, "edited": false, "score": 0, "creation_date": 1533677908, "post_id": 51528022, "comment_id": 90432312, "body": "Yes, I mean automatic binding: babel transpiles arrow function into plain <code>.bind(this)</code> in the constructor. A downside is in redundant <code>bind</code> of <code>secondMethod</code>."}, {"owner": {"reputation": 13611, "user_id": 7060441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kKetn.jpg?s=128&g=1", "display_name": "devserkan", "link": "https://stackoverflow.com/users/7060441/devserkan"}, "reply_to_user": {"reputation": 2697, "user_id": 3354444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Z3Jq.png?s=128&g=1", "display_name": "amankkg", "link": "https://stackoverflow.com/users/3354444/amankkg"}, "edited": false, "score": 1, "creation_date": 1533677908, "post_id": 51528022, "comment_id": 90432313, "body": "Other than the situations (some of them arguable) talked about in this medium article: <a href=\"https://medium.com/@charpeni/arrow-functions-in-class-properties-might-not-be-as-great-as-we-think-3b3551c440b1\" rel=\"nofollow noreferrer\">medium.com/@charpeni/&hellip;</a>"}, {"owner": {"reputation": 13611, "user_id": 7060441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kKetn.jpg?s=128&g=1", "display_name": "devserkan", "link": "https://stackoverflow.com/users/7060441/devserkan"}, "reply_to_user": {"reputation": 2697, "user_id": 3354444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Z3Jq.png?s=128&g=1", "display_name": "amankkg", "link": "https://stackoverflow.com/users/3354444/amankkg"}, "edited": false, "score": 0, "creation_date": 1533678040, "post_id": 51528022, "comment_id": 90432353, "body": "Ok than @amankkg, I got your point. Though, I&#39;m an arrow function guy as a learner :)  But in this particular situation you are right, arrow function is unnecessary."}, {"owner": {"reputation": 2697, "user_id": 3354444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Z3Jq.png?s=128&g=1", "display_name": "amankkg", "link": "https://stackoverflow.com/users/3354444/amankkg"}, "edited": false, "score": 1, "creation_date": 1533678588, "post_id": 51528022, "comment_id": 90432535, "body": "Performance win is too small here, tbh. A much bigger win here is a mental model of code being explicit, not confusing. Because when I see arrow function class property I keep in mind that this function is designed to be invoked outside of this component. Otherwise, it is a tech debt, that complicates understanding of the intents behind this code."}, {"owner": {"reputation": 13611, "user_id": 7060441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kKetn.jpg?s=128&g=1", "display_name": "devserkan", "link": "https://stackoverflow.com/users/7060441/devserkan"}, "reply_to_user": {"reputation": 2697, "user_id": 3354444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Z3Jq.png?s=128&g=1", "display_name": "amankkg", "link": "https://stackoverflow.com/users/3354444/amankkg"}, "edited": false, "score": 0, "creation_date": 1533678845, "post_id": 51528022, "comment_id": 90432610, "body": "@amankkg, very good point. I can argue using an arrow function or binding it in the constructor explicitly, but not this. Great explanation!"}, {"owner": {"reputation": 13611, "user_id": 7060441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kKetn.jpg?s=128&g=1", "display_name": "devserkan", "link": "https://stackoverflow.com/users/7060441/devserkan"}, "reply_to_user": {"reputation": 2697, "user_id": 3354444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Z3Jq.png?s=128&g=1", "display_name": "amankkg", "link": "https://stackoverflow.com/users/3354444/amankkg"}, "edited": false, "score": 0, "creation_date": 1533679954, "post_id": 51528022, "comment_id": 90432945, "body": "Thanks again. I read that if there is no transpile native one is fast enough as the regular functions?"}, {"owner": {"reputation": 2697, "user_id": 3354444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Z3Jq.png?s=128&g=1", "display_name": "amankkg", "link": "https://stackoverflow.com/users/3354444/amankkg"}, "edited": false, "score": 0, "creation_date": 1533735015, "post_id": 51528022, "comment_id": 90455718, "body": "There is a good comparison between them in the blog post you mention above. Which corrects some of my mistakes regarding performance diffs. So, IMO, for a function that&#39;s going to be passed somewhere TL;DR is to use arrow function over explicit bind in a constructor (i.e. readability &gt; performance here). @bind decorator might change it in the future."}], "tags": [], "owner": {"reputation": 13611, "user_id": 7060441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kKetn.jpg?s=128&g=1", "display_name": "devserkan", "link": "https://stackoverflow.com/users/7060441/devserkan"}, "is_accepted": true, "score": 6, "last_activity_date": 1533678224, "last_edit_date": 1533678224, "creation_date": 1532554552, "answer_id": 51528022, "question_id": 51527874, "link": "https://stackoverflow.com/questions/51527874/call-method-within-method-in-reactjs/51528022#51528022", "title": "Call method within method in reactjs", "body": "<p>There are two problems here.</p>\n\n<p>First one: You are defining your functions wrong.</p>\n\n<pre><code>firstMethod = () =&gt; (event) =&gt; {\n    console.log(\"button clicked\")\n    this.secondMethod();\n}\n</code></pre>\n\n<p>Like this, you are returning another function from your function. So, it should be:</p>\n\n<pre><code>firstMethod = ( event ) =&gt; {\n    console.log(\"button clicked\")\n    this.secondMethod();\n}\n</code></pre>\n\n<p>Second: You are not using <code>onClick</code> handler, instead invoking the function immediately.</p>\n\n<pre><code>&lt;span onClick={this.firstMethod()}&gt;Click me&lt;/span&gt;\n</code></pre>\n\n<p>So, this should be:</p>\n\n<pre><code>&lt;span onClick={() =&gt; this.firstMethod()}&gt;Click me&lt;/span&gt;\n</code></pre>\n\n<p>If you use the first version, yours, when component renders first time your function runs immediately, but click does not work. <code>onClick</code> needs a handler.</p>\n\n<p>Here, I totally agree @Danko's comment. You should use this <code>onClick</code> with the function reference.</p>\n\n<pre><code>&lt;span onClick={this.firstMethod}&gt;Click me&lt;/span&gt;\n</code></pre>\n\n<p>With this method, your function is not recreated every time your component renders since it uses your handler function with its reference. Also, no struggle writing the handler manually.</p>\n\n<p>Lastly, if you define your functions as an arrow one, you don't need to <code>.bind</code> them.</p>\n\n<p>Here is the working code.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class App extends React.Component {\r\n\r\n  firstMethod = () =&gt; {\r\n    console.log(\"button clicked\")\r\n    this.secondMethod();\r\n  }\r\n\r\n  secondMethod = () =&gt;\r\n    console.log(\"this is never called!\")\r\n\r\n  // or maybe even better not using an arrow function for the\r\n  // second method since it is already bound to `this` since we\r\n  // invoke it from the firstMethod. For details, look the comments please.\r\n\r\n  /* secondMethod() {\r\n    console.log(\"this is never called!\")\r\n  } */\r\n \r\n\r\n  render() {\r\n    return(\r\n      &lt;span onClick={this.firstMethod}&gt;Click me&lt;/span&gt;\r\n    )\r\n  }\r\n}\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(&lt;App /&gt;, rootElement);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/15.1.0/react-dom.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"root\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 2439, "user_id": 3764306, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/L71gY.jpg?s=128&g=1", "display_name": "Kamalakannan J", "link": "https://stackoverflow.com/users/3764306/kamalakannan-j"}, "is_accepted": false, "score": 1, "last_activity_date": 1532554554, "creation_date": 1532554554, "answer_id": 51528025, "question_id": 51527874, "link": "https://stackoverflow.com/questions/51527874/call-method-within-method-in-reactjs/51528025#51528025", "title": "Call method within method in reactjs", "body": "<p>Try this, it works for me.</p>\n\n<pre><code>  firstMethod = () =&gt; {\n    console.log(\"click handler for button is provided\")\n    return (event) =&gt; this.secondMethod(event);\n  }\n\n  secondMethod = (event) =&gt; {\n    console.log(\"This is being called with\", event);\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 102, "user_id": 4048362, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0-RHoLtjYpk/AAAAAAAAAAI/AAAAAAAAABE/Ij0c1wDgLaI/photo.jpg?sz=128", "display_name": "Armando Mendivil", "link": "https://stackoverflow.com/users/4048362/armando-mendivil"}, "is_accepted": false, "score": 1, "last_activity_date": 1532556042, "last_edit_date": 1532556042, "creation_date": 1532555697, "answer_id": 51528240, "question_id": 51527874, "link": "https://stackoverflow.com/questions/51527874/call-method-within-method-in-reactjs/51528240#51528240", "title": "Call method within method in reactjs", "body": "<p>Can you check this way using this url: <a href=\"https://codesandbox.io/s/q4l643womw\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/q4l643womw</a>\nI think you're using wrong bind methods but here you can see an example</p>\n\n<pre><code>class App extends Component {\n  constructor() {\n     super();\n     this.state = {\n       num: 1,\n     };\n     this.firstMethod = this.firstMethod.bind(this);\n     this.secondMethod = this.secondMethod.bind(this);\n  }\n\n  firstMethod() {\n    this.secondMethod();\n  }\n\n  secondMethod() {\n    this.setState({\n      num: 2\n    });\n  }\n\n  render() {\n    return (\n      &lt;div className=\"App\"&gt;\n        &lt;button onClick={this.firstMethod}&gt;click&lt;/button&gt;\n        &lt;label&gt;{this.state.num}&lt;/label&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 2575, "user_id": 2212461, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/654e61b024c8523447cce77c382de3ec?s=128&d=identicon&r=PG&f=1", "display_name": "user2212461", "link": "https://stackoverflow.com/users/2212461/user2212461"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4055, "favorite_count": 0, "accepted_answer_id": 51528022, "answer_count": 6, "score": 1, "last_activity_date": 1533678224, "creation_date": 1532553865, "question_id": 51527874, "link": "https://stackoverflow.com/questions/51527874/call-method-within-method-in-reactjs", "title": "Call method within method in reactjs", "body": "<p>I want to call a method inside another method like this, but it is never called.</p>\n\n<p>Button:</p>\n\n<pre><code>&lt;span onClick={this.firstMethod()}&gt;Click me&lt;/span&gt;\n</code></pre>\n\n<p>Component:</p>\n\n<pre><code>class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {..};\n  }\n\n  firstMethod = () =&gt; (event) =&gt; {\n    console.log(\"button clicked\")\n    this.secondMethod();\n  }\n\n  secondMethod = () =&gt; (event) =&gt; {\n    console.log(\"this is never called!\")\n  }\n\n  render() {..}\n}\n</code></pre>\n\n<p>The first method is called, but not the second one. I tried to add to the constructor</p>\n\n<pre><code>this.secondMethod = this.secondMethod.bind(this);\n</code></pre>\n\n<p>which is recommended in all the other solutions but nothing seems to work for me. How can I call the second method correctly?</p>\n"}, {"tags": ["javascript", "syntax", "scope", "block", "iife"], "comments": [{"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1532554057, "post_id": 51527870, "comment_id": 90024428, "body": "Variable <code>myVar</code> is not global because of the keyword <code>let</code>."}, {"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1532554134, "post_id": 51527870, "comment_id": 90024456, "body": "Once an IIFE is completed anything within the closure that isn&#39;t returned is discarded, otherwise using a block statement whatever scope that the variables are contained within isn&#39;t necessarily removed and <code>myvar</code> could possibly be left in a larger scope that it isn&#39;t wanted or warranted to be available within."}, {"owner": {"reputation": 1677, "user_id": 3784705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c51fef03f023cc4bb5cb785bd824b31?s=128&d=identicon&r=PG&f=1", "display_name": "m51", "link": "https://stackoverflow.com/users/3784705/m51"}, "edited": false, "score": 0, "creation_date": 1532554153, "post_id": 51527870, "comment_id": 90024465, "body": "Block scope is ES6+ feature, It doesn&#39;t work in old browser like IE. Also, only variables declared by const and let are block scoped. For var you need IIFE"}, {"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 0, "creation_date": 1532554159, "post_id": 51527870, "comment_id": 90024466, "body": "A block doesn\u2019t have a return value. IIFEs may be replaced by <a href=\"https://github.com/tc39/proposal-do-expressions\" rel=\"nofollow noreferrer\"><code>do</code> expressions</a> in the future."}, {"owner": {"reputation": 311, "user_id": 5673501, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MY53D_FWGiI/AAAAAAAAAAI/AAAAAAAAAHM/LCE5JNHCA44/photo.jpg?sz=128", "display_name": "hcs", "link": "https://stackoverflow.com/users/5673501/hcs"}, "edited": false, "score": 0, "creation_date": 1532554185, "post_id": 51527870, "comment_id": 90024474, "body": "check out this post for a good explanation: <a href=\"http://benalman.com/news/2010/11/immediately-invoked-function-expression/\" rel=\"nofollow noreferrer\">benalman.com/news/2010/11/&hellip;</a>"}, {"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "reply_to_user": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1532554327, "post_id": 51527870, "comment_id": 90024534, "body": "@zfrisch <i>\u201cusing a block statement whatever scope that the variables are contained within isn&#39;t necessarily removed\u201d</i>\u200a\u2014\u200ado you have any sources on that? Why should that be true? Why would <code>myVar</code> become scoped to a surrounding scope if it is <code>let</code>-declared?"}, {"owner": {"reputation": 3199, "user_id": 6692606, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3653dbd72e2fd66e0a741b97aa322e1?s=128&d=identicon&r=PG&f=1", "display_name": "ASDFGerte", "link": "https://stackoverflow.com/users/6692606/asdfgerte"}, "edited": false, "score": 0, "creation_date": 1532554349, "post_id": 51527870, "comment_id": 90024547, "body": "An IIFE written with <code>function</code> also potentially has a different <code>this</code> than a block statement. There are likely a whole lot of differences."}, {"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "reply_to_user": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 0, "creation_date": 1532554513, "post_id": 51527870, "comment_id": 90024594, "body": "@Xufox I wasn&#39;t suggesting that it would be available from any scope above the one it is declared within, (<code>let</code> is block scoped so there wouldn&#39;t be any concern of it leaking to a higher scope) I was stating that on the whole it might be available in a scope that it wasn&#39;t desired to be within, and in the case of an uncareful coder it could lead to a syntax error wherein the variable( for instance <code>myvar</code> ) was already declared. This would most likely be in the case of a library. For instance it&#39;s why JQuery has an override if <code>$</code> as a window variable is already being used. ."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1532555269, "post_id": 51527870, "comment_id": 90024856, "body": "@zfrisch Isn&#39;t that also true for a variable in an IIFE?"}, {"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1532556672, "post_id": 51527870, "comment_id": 90025315, "body": "@Barmar Of course, but that doesn&#39;t affect the use of it. The benefit IIFE provides is an instantly returnable value or reference comprised of variables that can be named the same as any externally scoped variables without affecting them, and then are garbage collected immediately upon completion of the function.The blocked function isn&#39;t invoked immediately/ if it is named or global is a reference to a function and that function has to persist. To answer the OP&#39;s real question, no,  there is nothing outside of encapsulation that it offers, but it&#39;s what justifies its existence in the first."}, {"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 1, "creation_date": 1532557739, "post_id": 51527870, "comment_id": 90025579, "body": "I realize I may be confusing the issue with too many words. Apologies! The less wordy version is that an IIFE can immediately return something to the scope it was called within without polluting any higher scope or causing a syntax error for declaring the same variable more than once."}, {"owner": {"reputation": 1429, "user_id": 8569585, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_zqK1X0WUfM/AAAAAAAAAAI/AAAAAAAAAMg/qKORPny_Vyw/photo.jpg?sz=128", "display_name": "Lucas Noetzold", "link": "https://stackoverflow.com/users/8569585/lucas-noetzold"}, "edited": false, "score": 0, "creation_date": 1532558001, "post_id": 51527870, "comment_id": 90025638, "body": "good point, post is as an answer"}, {"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "reply_to_user": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1542597634, "post_id": 51527870, "comment_id": 93612305, "body": "@zfrisch WRONG. Block statement does not pollute parent scope and can redeclare existing variables as well."}, {"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "reply_to_user": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "edited": false, "score": 0, "creation_date": 1542598070, "post_id": 51527870, "comment_id": 93612392, "body": "@NurbolAlpysbayev read the rest of the comments. I already stated both those things."}], "answers": [{"tags": [], "owner": {"reputation": 5300, "user_id": 42981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9TYAn.jpg?s=128&g=1", "display_name": "JR.", "link": "https://stackoverflow.com/users/42981/jr"}, "is_accepted": false, "score": 1, "last_activity_date": 1542597120, "creation_date": 1542597120, "answer_id": 53367810, "question_id": 51527870, "link": "https://stackoverflow.com/questions/51527870/javascript-difference-between-using-an-iife-and-a-block-statement/53367810#53367810", "title": "Javascript: difference between using an IIFE and a block statement", "body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Glossary/IIFE\" rel=\"nofollow noreferrer\">IIFEs</a> take advantage of function scope. Functions and variables declared with <code>var</code> are scoped within the parent function.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/block\" rel=\"nofollow noreferrer\">Block statements</a> take advantage of block scope. Variables declared with <code>let</code> and <code>const</code> are scoped within the block.</p>\n\n<p>Block statements don't encapsulate functions or variables declared with <code>var</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 7284640, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BJVr7NvtNvM/AAAAAAAAAAI/AAAAAAAAABA/LF9smaCp9Ck/photo.jpg?sz=128", "display_name": "Artur Gevorgyan", "link": "https://stackoverflow.com/users/7284640/artur-gevorgyan"}, "edited": false, "score": 0, "creation_date": 1613855141, "post_id": 53367854, "comment_id": 117206970, "body": "I think the case with async is already handled by top-level await. It&#39;s just the same in JS today."}], "tags": [], "owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "is_accepted": false, "score": 2, "last_activity_date": 1542599344, "last_edit_date": 1542599344, "creation_date": 1542597514, "answer_id": 53367854, "question_id": 51527870, "link": "https://stackoverflow.com/questions/51527870/javascript-difference-between-using-an-iife-and-a-block-statement/53367854#53367854", "title": "Javascript: difference between using an IIFE and a block statement", "body": "<p>Block statements are pretty recent feature. And yes, before they were introduced, often IIFEs were used instead.</p>\n\n<p>Nowadays I can think of at least one case, when IIFEs are irreplacable. Look at this:</p>\n\n<pre><code>(async () =&gt; { const foo = await someAsyncFunction() })()\n</code></pre>\n\n<p>See? <code>await</code> keyword can only live in <code>async</code> function, hence if your <code>await</code>-containing expression is not wrapped by any function yet, you have to wrap it by async IIFE.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 11411515, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Olj1n.jpg?s=128&g=1", "display_name": "Chirag Jain", "link": "https://stackoverflow.com/users/11411515/chirag-jain"}, "is_accepted": false, "score": 0, "last_activity_date": 1616412158, "creation_date": 1616412158, "answer_id": 66745064, "question_id": 51527870, "link": "https://stackoverflow.com/questions/51527870/javascript-difference-between-using-an-iife-and-a-block-statement/66745064#66745064", "title": "Javascript: difference between using an IIFE and a block statement", "body": "<p>Try this you'll understand the concept better:</p>\n<pre><code>if(true){\n var something = 'something' // This is global now. Block scoping for var works fine inside function definition but not for **if statements** or similar ones\n}\n\nconsole.log(something)\n</code></pre>\n<p>Try changing <strong>var</strong> to <strong>let</strong> you won't be able to access <strong>something</strong> in the console.log statement.</p>\n"}], "owner": {"reputation": 1429, "user_id": 8569585, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_zqK1X0WUfM/AAAAAAAAAAI/AAAAAAAAAMg/qKORPny_Vyw/photo.jpg?sz=128", "display_name": "Lucas Noetzold", "link": "https://stackoverflow.com/users/8569585/lucas-noetzold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1017, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1616412158, "creation_date": 1532553850, "question_id": 51527870, "link": "https://stackoverflow.com/questions/51527870/javascript-difference-between-using-an-iife-and-a-block-statement", "title": "Javascript: difference between using an IIFE and a block statement", "body": "<p>IIFE are mainly used to encapsulate scope</p>\n\n<pre><code>(function () {\n    let myVar = 10; // not global\n    // ...\n}());\n</code></pre>\n\n<p>but why not just use a block statement?</p>\n\n<pre><code>{\n    let myVar = 10; // also not global\n    // ...\n}\n</code></pre>\n\n<p>are there other benefits for using IIFE further than scope encapsulation?</p>\n"}, {"tags": ["javascript", "html", "reactjs", "react-proptypes"], "comments": [{"owner": {"reputation": 909, "user_id": 7828412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f926c912f7b1d92ebdd92aaea2c40f?s=128&d=identicon&r=PG&f=1", "display_name": "Devin Fields", "link": "https://stackoverflow.com/users/7828412/devin-fields"}, "edited": false, "score": 0, "creation_date": 1532554004, "post_id": 51527856, "comment_id": 90024408, "body": "user is an object, I&#39;m assuming from &#39;this.props.user.rules....&#39; Since you are passing a reference to an object, updating it anywhere will affect any component that uses it. Of course, I can&#39;t see how your parent is using it from the snippets of code you posted, so I have to guess."}, {"owner": {"reputation": 90, "user_id": 9866466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31085455ccfde4616b04c1a1884bd090?s=128&d=identicon&r=PG", "display_name": "A. Curl", "link": "https://stackoverflow.com/users/9866466/a-curl"}, "reply_to_user": {"reputation": 909, "user_id": 7828412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f926c912f7b1d92ebdd92aaea2c40f?s=128&d=identicon&r=PG&f=1", "display_name": "Devin Fields", "link": "https://stackoverflow.com/users/7828412/devin-fields"}, "edited": false, "score": 0, "creation_date": 1532554829, "post_id": 51527856, "comment_id": 90024698, "body": "I have a sandbox with all of the code here: <a href=\"https://codesandbox.io/s/yvjxnp8879\" rel=\"nofollow noreferrer\">codesandbox.io/s/yvjxnp8879</a>, as stated above."}, {"owner": {"reputation": 909, "user_id": 7828412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f926c912f7b1d92ebdd92aaea2c40f?s=128&d=identicon&r=PG&f=1", "display_name": "Devin Fields", "link": "https://stackoverflow.com/users/7828412/devin-fields"}, "edited": false, "score": 0, "creation_date": 1532556852, "post_id": 51527856, "comment_id": 90025363, "body": "yeah, I think I am right. <a href=\"https://codesandbox.io/s/l398p1qrv9\" rel=\"nofollow noreferrer\">codesandbox.io/s/l398p1qrv9</a>  I made sure to copy the permissions array into the new state. Now, since the props.user.permissions array and the state&#39;s permissions array are no longer the same reference, adding a permissions does not update anything"}, {"owner": {"reputation": 90, "user_id": 9866466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31085455ccfde4616b04c1a1884bd090?s=128&d=identicon&r=PG", "display_name": "A. Curl", "link": "https://stackoverflow.com/users/9866466/a-curl"}, "reply_to_user": {"reputation": 909, "user_id": 7828412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f926c912f7b1d92ebdd92aaea2c40f?s=128&d=identicon&r=PG&f=1", "display_name": "Devin Fields", "link": "https://stackoverflow.com/users/7828412/devin-fields"}, "edited": false, "score": 0, "creation_date": 1532706621, "post_id": 51527856, "comment_id": 90089772, "body": "@DevinFields This is what I&#39;m looking for in terms of the parent not being affected by the child. However, it seems that I can&#39;t add or remove permissions within the UserRow component."}], "answers": [{"comments": [{"owner": {"reputation": 90, "user_id": 9866466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31085455ccfde4616b04c1a1884bd090?s=128&d=identicon&r=PG", "display_name": "A. Curl", "link": "https://stackoverflow.com/users/9866466/a-curl"}, "edited": false, "score": 0, "creation_date": 1532619141, "post_id": 51528517, "comment_id": 90052778, "body": "Gotcha, thank you for your reply. I&#39;ve made the above changes to the sandbox: <a href=\"https://codesandbox.io/s/yvjxnp8879\" rel=\"nofollow noreferrer\">here</a>, but the parent&#39;s state is still getting changed. I also had to change the syntax for <code>...props.user</code> as it was giving me an unexpected character error."}, {"owner": {"reputation": 91, "user_id": 10096153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee5166e4460d3f5e5d1835fad81e2538?s=128&d=identicon&r=PG", "display_name": "Max Bush", "link": "https://stackoverflow.com/users/10096153/max-bush"}, "reply_to_user": {"reputation": 90, "user_id": 9866466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31085455ccfde4616b04c1a1884bd090?s=128&d=identicon&r=PG", "display_name": "A. Curl", "link": "https://stackoverflow.com/users/9866466/a-curl"}, "edited": false, "score": 0, "creation_date": 1532665257, "post_id": 51528517, "comment_id": 90068714, "body": "This has me stumped! I will keep looking over the sandbox but can&#39;t work out how the parent component is being modified resulting in a reload of the component ."}, {"owner": {"reputation": 909, "user_id": 7828412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f926c912f7b1d92ebdd92aaea2c40f?s=128&d=identicon&r=PG&f=1", "display_name": "Devin Fields", "link": "https://stackoverflow.com/users/7828412/devin-fields"}, "edited": false, "score": 0, "creation_date": 1532729400, "post_id": 51528517, "comment_id": 90099044, "body": "I believe I answered that question in my comment on the question. Working from Max&#39;s answer, you just need to clone the permissions object. The rest syntax may clone the outer-most object, but if there is a shared reference within that outer shell, I don&#39;t believe it is cloned."}], "tags": [], "owner": {"reputation": 91, "user_id": 10096153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee5166e4460d3f5e5d1835fad81e2538?s=128&d=identicon&r=PG", "display_name": "Max Bush", "link": "https://stackoverflow.com/users/10096153/max-bush"}, "is_accepted": false, "score": 0, "last_activity_date": 1532557579, "creation_date": 1532557579, "answer_id": 51528517, "question_id": 51527856, "link": "https://stackoverflow.com/questions/51527856/react-js-changing-the-child-state-also-changes-its-proptype-passed-by-parent/51528517#51528517", "title": "React.js: Changing the child state also changes its proptype passed by parent", "body": "<p>After reviewing your Sandbox, the issue is you are assigning <code>props.user</code> to <code>state.rowUser</code> and is creating a pointer to the parent components value. This means whenever you change <code>this.state.rowUser</code> it will actually be updating the reference to <code>props.user</code>.</p>\n\n<p><strong>Solution</strong></p>\n\n<ol>\n<li>Use the <code>constructor()</code> to bind the <code>props.user</code> to <code>state.rowUser</code>, this is the recommend approach, additionally use the spread operator to create a new instance of the object passed into the component, this will ensure no pointer is created.</li>\n</ol>\n\n<blockquote>\n  <p><a href=\"https://reactjs.org/docs/react-component.html#constructor\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/react-component.html#constructor</a></p>\n</blockquote>\n\n<pre><code>constructor(props){\n  this.state = { rowUser: ...props.user }\n}\n</code></pre>\n\n<p><strong>Additionally</strong></p>\n\n<p>Looking quickly at the sandbox I also found a few other anti-patterns that will be causing you some issues.</p>\n\n<ol>\n<li>You are updating state directly <code>Line 76 to 84 in UserRow</code> then calling setState, what you should be doing is using the spread operator to clone the object <code>const tempUserRow = { ...this.state.userRow }</code> then manipulating the object and set it in state via <code>setState</code>. This will ensure your shallow compare in <code>shouldComponentUpdate</code> passes and re-renders your component. </li>\n<li>You are using <code>shouldComponentUpdate</code> which is good, but your not doing anything that <code>React.PureComponent</code> does for you out of the box, so you should change <code>extends React.Component</code> to be <code>extends React.PureComponent</code></li>\n</ol>\n\n<blockquote>\n  <p><a href=\"https://reactjs.org/docs/react-api.html#reactpurecomponent\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/react-api.html#reactpurecomponent</a></p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 90, "user_id": 9866466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31085455ccfde4616b04c1a1884bd090?s=128&d=identicon&r=PG", "display_name": "A. Curl", "link": "https://stackoverflow.com/users/9866466/a-curl"}, "is_accepted": true, "score": 1, "last_activity_date": 1532726228, "last_edit_date": 1532726228, "creation_date": 1532725712, "answer_id": 51565590, "question_id": 51527856, "link": "https://stackoverflow.com/questions/51527856/react-js-changing-the-child-state-also-changes-its-proptype-passed-by-parent/51565590#51565590", "title": "React.js: Changing the child state also changes its proptype passed by parent", "body": "<p><strong>The Problem:</strong></p>\n\n<p>The issue lied in how I was changing the child's state <code>state = {rowUser: this.props.user}</code>. I was mutating the data and resetting the state like this: </p>\n\n<pre><code>addPermission = () =&gt; {\n  const tempUser = { ...this.state.rowUser };\n  tempUser.permissions.push({\n    property: \"select permission\",\n    info: \"type info...\"\n  });\n  this.setState({ rowUser: tempUser });\n  console.log(\"[UserEditingRow.js] permission added\");\n};\n</code></pre>\n\n<p><strong>The Solution:</strong></p>\n\n<p>Changing the data directly (i.e. <code>tempUser.permissions.push({...});</code>) was causing a problem. I used React <a href=\"https://reactjs.org/docs/update.html\" rel=\"nofollow noreferrer\">immutability helper</a> to help update the child's state more specifically. So, the new function would be:</p>\n\n<pre><code>addPermission = () =&gt; {\n  this.setState(\n    update(this.state, {\n      rowUser: {\n        permissions: {\n          $push: [{property: 'select rule', info: ''}],\n        },\n      },\n    }),\n  );\n  console.log('[UserEditingRow.js] rule added');\n};\n</code></pre>\n\n<p>Setting the state with immutability helper allowed the child component's state to change without updating the parent component's state and solved my problem.</p>\n"}], "owner": {"reputation": 90, "user_id": 9866466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31085455ccfde4616b04c1a1884bd090?s=128&d=identicon&r=PG", "display_name": "A. Curl", "link": "https://stackoverflow.com/users/9866466/a-curl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 722, "favorite_count": 1, "accepted_answer_id": 51565590, "answer_count": 2, "score": 1, "last_activity_date": 1532726228, "creation_date": 1532553781, "last_edit_date": 1532554900, "question_id": 51527856, "link": "https://stackoverflow.com/questions/51527856/react-js-changing-the-child-state-also-changes-its-proptype-passed-by-parent", "title": "React.js: Changing the child state also changes its proptype passed by parent", "body": "<p>The issue I'm having is that when I change the state of the child component, the state of the parent component is also changed. I'm passing the prop to the child as so:</p>\n\n<pre><code>{this.state.users.map((user, index) =&gt; (\n      &lt;UserRow\n        key={user.id}\n        user={user}\n        removeUser={this.removeUser}\n        getUserInfo={this.getUserInfo}\n        finishFunc={this.finishChanges}\n      /&gt;\n    ))}\n</code></pre>\n\n<p>And then assigning that prop to the a state of the child like this:</p>\n\n<pre><code>state = {rowUser: this.props.user};\n</code></pre>\n\n<p>However, when I update this child state, it seems that the parent state updates without re-rendering.</p>\n\n<p>I'm displaying the information through the prop, not the state</p>\n\n<pre><code>&lt;div&gt;{this.props.user.rules.length !== 0 ? this.props.user.rules.length : null}&lt;/div&gt;\n</code></pre>\n\n<p>You can see the initial display <a href=\"https://i.stack.imgur.com/sc0tG.png\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>When I click on the \"Add\" or \"Remove\" buttons, the state <strong>and</strong> display changes. You can see the change in the image <a href=\"https://i.stack.imgur.com/RditX.png\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>I'm confused on how changing the child's state updates the parent's state without me specifically passing the data back to the parent. I also don't see how it is changing the display since I'm using the prop, not the state.</p>\n\n<p>You can see all of my code in a <a href=\"https://codesandbox.io/s/yvjxnp8879\" rel=\"nofollow noreferrer\">sandbox here</a>. You can see the permissions number change whenever you click the \"add new permission\" and \"remove permission\" buttons, which I don't want to happen.</p>\n\n<p>How can I avoid having the parent state automatically change when I change the child state?</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 3199, "user_id": 6692606, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3653dbd72e2fd66e0a741b97aa322e1?s=128&d=identicon&r=PG&f=1", "display_name": "ASDFGerte", "link": "https://stackoverflow.com/users/6692606/asdfgerte"}, "edited": false, "score": 0, "creation_date": 1532554011, "post_id": 51527850, "comment_id": 90024412, "body": "And the rows are delimited by newlines? What have you tried so far? Note that &quot;A: { (5,1), (6,2) }&quot; is not any valid JS structure, so your output format is not all too clear, apart from that you want a list of tuples."}, {"owner": {"reputation": 135, "user_id": 10056318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A5Zbh.jpg?s=128&g=1", "display_name": "scyrt", "link": "https://stackoverflow.com/users/10056318/scyrt"}, "reply_to_user": {"reputation": 3199, "user_id": 6692606, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3653dbd72e2fd66e0a741b97aa322e1?s=128&d=identicon&r=PG&f=1", "display_name": "ASDFGerte", "link": "https://stackoverflow.com/users/6692606/asdfgerte"}, "edited": false, "score": 0, "creation_date": 1532554617, "post_id": 51527850, "comment_id": 90024631, "body": "yes rows are delimited by newlines. it doesn&#39;t have to be exactly this format &quot;A: { (5,1), (6,2) }&quot; , but I need to get the numbers (5,1) and (6,2) for each A."}], "answers": [{"tags": [], "owner": {"reputation": 2439, "user_id": 3764306, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/L71gY.jpg?s=128&g=1", "display_name": "Kamalakannan J", "link": "https://stackoverflow.com/users/3764306/kamalakannan-j"}, "is_accepted": true, "score": 0, "last_activity_date": 1532555477, "creation_date": 1532555477, "answer_id": 51528195, "question_id": 51527850, "link": "https://stackoverflow.com/questions/51527850/is-it-possible-to-find-the-coordinates-of-a-letter-in-a-text-file-by-counting-ea/51528195#51528195", "title": "Is it possible to find the coordinates of a letter in a text file by counting each character as 1?", "body": "<p>Try this,</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function search(str, char) {\r\n  var lines = str.split('\\n');\r\n\r\n  var result = {\r\n    [char]: []\r\n  };\r\n\r\n  for (let row = 0; row &lt; lines.length; row++) {\r\n    var letters = [...lines[row]];\r\n    letters.forEach((letter, column) =&gt; {\r\n      if (letter === char) {\r\n        result[char].push([(column + 1), (row + 1)])\r\n      }\r\n    });\r\n  }\r\n  return result;\r\n}\r\n\r\nconst str = `..00A000011.....000000\r\n.0000A000B...........`;\r\n\r\nconsole.log(search(str, 'A'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Just one suggestion, it should be <code>(row, column)</code> not <code>(column, row)</code>. But if your requirement is <code>(column, row)</code> it's fine, the solution will just work.</p>\n"}], "owner": {"reputation": 135, "user_id": 10056318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A5Zbh.jpg?s=128&g=1", "display_name": "scyrt", "link": "https://stackoverflow.com/users/10056318/scyrt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 51528195, "answer_count": 1, "score": 0, "last_activity_date": 1532730349, "creation_date": 1532553751, "last_edit_date": 1532730349, "question_id": 51527850, "link": "https://stackoverflow.com/questions/51527850/is-it-possible-to-find-the-coordinates-of-a-letter-in-a-text-file-by-counting-ea", "title": "Is it possible to find the coordinates of a letter in a text file by counting each character as 1?", "body": "<p>I have a React app and I am trying to find the coordinates (not in pixels) of a letter in a string or text that is uploaded by the user. For example, the letter \"A\" will return for the text below: </p>\n\n<p>A: { [(5,1), (6,2)] }  (means, 5th column &amp; 1st row and 6th column &amp; 2nd row has A, each dot or character counts as 1)</p>\n\n<pre><code>..00A000011.....000000\n\n.0000A000B...........\n</code></pre>\n"}, {"tags": ["javascript", "html", "reactjs", "jsx"], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 10096153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee5166e4460d3f5e5d1835fad81e2538?s=128&d=identicon&r=PG", "display_name": "Max Bush", "link": "https://stackoverflow.com/users/10096153/max-bush"}, "is_accepted": true, "score": 1, "last_activity_date": 1532558666, "creation_date": 1532558666, "answer_id": 51528672, "question_id": 51527782, "link": "https://stackoverflow.com/questions/51527782/event-listener-does-not-seem-to-recognise-my-class/51528672#51528672", "title": "Event listener does not seem to recognise my class?", "body": "<p><code>document.activeElement</code> is not set until after the focus event has been completed, so the above code is not performing your logic on the new element that is firing the <code>onFocus</code> event.</p>\n\n<p>You need to change <code>document.activeElement</code> to be <code>event.target</code> then perform your logic.</p>\n\n<blockquote>\n  <p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/DocumentOrShadowRoot/activeElement\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/DocumentOrShadowRoot/activeElement</a></p>\n</blockquote>\n"}], "owner": {"reputation": 259, "user_id": 8022407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15be13d789c1d67ad7971ad7b544341c?s=128&d=identicon&r=PG&f=1", "display_name": "CaeSea", "link": "https://stackoverflow.com/users/8022407/caesea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 51528672, "answer_count": 1, "score": 0, "last_activity_date": 1532558666, "creation_date": 1532553392, "question_id": 51527782, "link": "https://stackoverflow.com/questions/51527782/event-listener-does-not-seem-to-recognise-my-class", "title": "Event listener does not seem to recognise my class?", "body": "<p>I have a mobile menu that opens when the open menu button is clicked. I am trying to add a trap focus functionality to the menu when it is open so that users cannot access outside of my menu with a keyboard when tabbing.</p>\n\n<p>I have used an event listener to listen for tab and shift tab keydown events in the menu. The logic is that if the active element does not have a class that only my menu items have then to lock focus back onto the close button of my menu. </p>\n\n<p>Problem is that the focus gets stuck on my close button instantly and I cannot move it (even though it has the class \"in-listview\"). I realise that my code may not be the best way to implement this feature but for now I would just like to know why my class does not seem to be recognised and I can tidy up after. My app is built using ReactJS.</p>\n\n<pre><code>openNav = () =&gt; {\nconst listView = document.querySelector(\".listview\");\n\nlistView.classList.remove('closeMobMenu');\nlistView.style.visibility = \"visible\";\nlistView.classList.add('openMobMenu');\ndocument.addEventListener('keydown', this.trapTabMobMenu)//Maybe move this to componentDidMount()?\n}\n\ntrapTabMobMenu = (event) =&gt; {\n\nif(event.keyCode === 9) { // if the tab key is pressed in the mobile menu\n  const closeBtn = this.closeBtn;\n  let activeElement = document.activeElement;\n\n  if(event.shiftKey) { // shift-tab\n    event.preventDefault();\n    //if focused element does not have class in-list-view\n    if(!activeElement.classList.contains(\"in-listview\")) {\n      closeBtn.focus();\n    }\n  } else { // normal tab\n    event.preventDefault();\n    if(!activeElement.classList.contains(\"in-listview\")) {\n      closeBtn.focus();\n    }\n  }\n}\nif(event.keyCode === 27) {\n  this.closeNav();\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>&lt;button ref={(close) =&gt; { this.closeBtn = close; }} className=\"closebtn in-listview\" onClick={closeNav} onKeyPress={handleKeyPress} tabIndex=\"2\"&gt;&amp;times;&lt;/button&gt;\n</code></pre>\n"}, {"tags": ["javascript"], "answers": [{"comments": [{"owner": {"reputation": 1861, "user_id": 1936925, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/9dc02e0c37f949abad870586ff466637?s=128&d=identicon&r=PG", "display_name": "Shifatul", "link": "https://stackoverflow.com/users/1936925/shifatul"}, "edited": false, "score": 0, "creation_date": 1532558027, "post_id": 51528299, "comment_id": 90025643, "body": "Thanks so much, I will try it out and let u know."}], "tags": [], "owner": {"reputation": 1935, "user_id": 4325134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1410f2b3426300893a852fd041f6c1cc?s=128&d=identicon&r=PG", "display_name": "Ramy Ben Aroya", "link": "https://stackoverflow.com/users/4325134/ramy-ben-aroya"}, "is_accepted": true, "score": 1, "last_activity_date": 1532556024, "creation_date": 1532556024, "answer_id": 51528299, "question_id": 51527776, "link": "https://stackoverflow.com/questions/51527776/javascript-prototype-functions-overriding/51528299#51528299", "title": "JavaScript prototype functions overriding", "body": "<p>It is best to extend <code>AblePlayer</code> with prototypical inheritance best practices according to <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\" rel=\"nofollow noreferrer\">MDN</a></p>\n\n\n\n<pre class=\"lang-js prettyprint-override\"><code>(function(){\n    const AblePlayer = window.AblePlayer;\n\n    function MyAblePlayer(...args) {\n        AblePlayer.call(this, ...args);\n    }\n\n    MyAblePlayer.prototype = Object.create(AblePlayer.prototype);\n    MyAblePlayer.prototype.constructor = MyAblePlayer;\n\n    /* @override method*/\n    MyAblePlayer.prototype.getSvgData = function (...args) {\n        // if you need to call super do:\n        const superResult = AblePlayer.prototype.getSvgData.call(this, ...args);\n\n        // add your code here\n\n        return superResult; // or return some other result\n    }\n\n    // Copy static properties\n    Object.assign(MyAblePlayer, AblePlayer)\n\n    // Finally override global reference\n    window.AblePlayer = MyAblePlayer;\n})();\n</code></pre>\n\n\n"}], "owner": {"reputation": 1861, "user_id": 1936925, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/9dc02e0c37f949abad870586ff466637?s=128&d=identicon&r=PG", "display_name": "Shifatul", "link": "https://stackoverflow.com/users/1936925/shifatul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 51528299, "answer_count": 1, "score": 0, "last_activity_date": 1532556024, "creation_date": 1532553353, "question_id": 51527776, "link": "https://stackoverflow.com/questions/51527776/javascript-prototype-functions-overriding", "title": "JavaScript prototype functions overriding", "body": "<p>I am using open source <a href=\"https://github.com/ableplayer/ableplayer\" rel=\"nofollow noreferrer\">Able Player</a> from Github\nThe <a href=\"https://ableplayer.github.io/ableplayer/demos/video6.html\" rel=\"nofollow noreferrer\">UI</a> is very basic and I was wondering the best way to extend the player and override functions like</p>\n\n<pre><code>AblePlayer.prototype.getSvgData = function(button) {...\nAblePlayer.prototype.setButtonImages = function() {...\n</code></pre>\n\n<p>So that I can use my own icons etc.</p>\n\n<p>without motifying the original <code>ableplayer.js</code> </p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 3199, "user_id": 6692606, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3653dbd72e2fd66e0a741b97aa322e1?s=128&d=identicon&r=PG&f=1", "display_name": "ASDFGerte", "link": "https://stackoverflow.com/users/6692606/asdfgerte"}, "edited": false, "score": 0, "creation_date": 1532553327, "post_id": 51527739, "comment_id": 90024144, "body": "So you are including the library after executing your code?"}, {"owner": {"reputation": 71, "user_id": 9706570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc4527eeb0fb5c25f90346f2b76d6e0e?s=128&d=identicon&r=PG&f=1", "display_name": "Liam", "link": "https://stackoverflow.com/users/9706570/liam"}, "reply_to_user": {"reputation": 3199, "user_id": 6692606, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3653dbd72e2fd66e0a741b97aa322e1?s=128&d=identicon&r=PG&f=1", "display_name": "ASDFGerte", "link": "https://stackoverflow.com/users/6692606/asdfgerte"}, "edited": false, "score": 0, "creation_date": 1532553704, "post_id": 51527739, "comment_id": 90024293, "body": "Oh my days!! Its been a long day, thanks so much for pointing out such a daft mistake i made."}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 9706570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc4527eeb0fb5c25f90346f2b76d6e0e?s=128&d=identicon&r=PG&f=1", "display_name": "Liam", "link": "https://stackoverflow.com/users/9706570/liam"}, "is_accepted": true, "score": 0, "last_activity_date": 1532597881, "creation_date": 1532597881, "answer_id": 51535679, "question_id": 51527739, "link": "https://stackoverflow.com/questions/51527739/waypoints-js-cant-find-variable/51535679#51535679", "title": "Waypoints JS can&#39;t find variable", "body": "<p>Script tags were round the wrong way, the code was executing before the library was loaded.</p>\n"}], "owner": {"reputation": 71, "user_id": 9706570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc4527eeb0fb5c25f90346f2b76d6e0e?s=128&d=identicon&r=PG&f=1", "display_name": "Liam", "link": "https://stackoverflow.com/users/9706570/liam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "accepted_answer_id": 51535679, "answer_count": 1, "score": 0, "last_activity_date": 1532599547, "creation_date": 1532553198, "last_edit_date": 1532599547, "question_id": 51527739, "link": "https://stackoverflow.com/questions/51527739/waypoints-js-cant-find-variable", "title": "Waypoints JS can&#39;t find variable", "body": "<p>I am try to get waypoints js to work but I'm struggling some what. I keep getting the error : </p>\n\n<blockquote>\n  <p>'ReferenceError: Can't find variable: Waypoint'</p>\n</blockquote>\n\n<p>I am using the no framework js file as im not using jquery.</p>\n\n<p>Here is my current <strong>markup</strong> :</p>\n\n<pre><code>&lt;section class=\"section\" id=\"waypoint\"&gt;\n    &lt;div class=\"inner\"&gt;\n        &lt;h1&gt;I am a heading&lt;/h1&gt;\n    &lt;/div&gt;\n&lt;/section&gt; \n</code></pre>\n\n<p>Waypoints <strong>source</strong> files that i have included after the body tag :</p>\n\n<pre><code>&lt;script src=\"js/waypoint.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/noframework.waypoints.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p><strong>Js</strong> for waypoint :</p>\n\n<pre><code>var waypoint = new Waypoint({\n  element: document.getElementById('waypoint'),\n  handler: function() {\n    notify('Basic waypoint triggered')\n  }\n});\n</code></pre>\n\n<p>Appreciate any advice to what i am missing here.</p>\n"}, {"tags": ["javascript", "html", "css", "sass"], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 9387295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a87cb7c9c0fc10597811e15c99ff791?s=128&d=identicon&r=PG&f=1", "display_name": "Donut", "link": "https://stackoverflow.com/users/9387295/donut"}, "edited": false, "score": 0, "creation_date": 1532553673, "post_id": 51527769, "comment_id": 90024280, "body": "Wow. that was so quick. Thank you so much :)"}], "tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": true, "score": 2, "last_activity_date": 1532553329, "creation_date": 1532553329, "answer_id": 51527769, "question_id": 51527707, "link": "https://stackoverflow.com/questions/51527707/outline-doesnt-wrap-the-div-completely-when-there-are-multiple-divs-side-by-sid/51527769#51527769", "title": "Outline doesn&#39;t wrap the div completely when there are multiple divs side by side in SCSS", "body": "<p>It's hidden by the next tab. Add <code>position: relative</code>, and <code>z-index: 1</code> to the <code>.over</code> tab to make it appear above the next tab:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.active1').addClass('over'); // the outline doesn't wrap the whole button.</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.main-style,\r\n.styling {\r\n  background-color: blue;\r\n  color: white;\r\n  line-height: 36px;\r\n  float: left;\r\n  padding: 0 20px;\r\n  display: inline-block;\r\n  &amp;:hover {\r\n    cursor: pointer;\r\n  }\r\n}\r\n\r\n.styling {\r\n  border-width: 0px 0px 0px 1px;\r\n}\r\n\r\n.styling:not(:first-child) {\r\n  margin-left: 3px;\r\n}\r\n\r\n.over {\r\n  position: relative;\r\n  z-index: 1;\r\n  outline: 3px solid orange;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"main-style\"&gt;Random&lt;/div&gt;\r\n&lt;div class=\"styling active1\"&gt;Btn 1&lt;/div&gt;\r\n&lt;div class=\"styling active2\"&gt;Btn 2&lt;/div&gt;\r\n&lt;div class=\"styling active3\"&gt;Btn 3&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 125, "user_id": 9387295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a87cb7c9c0fc10597811e15c99ff791?s=128&d=identicon&r=PG&f=1", "display_name": "Donut", "link": "https://stackoverflow.com/users/9387295/donut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 51527769, "answer_count": 1, "score": 1, "last_activity_date": 1532553329, "creation_date": 1532553037, "question_id": 51527707, "link": "https://stackoverflow.com/questions/51527707/outline-doesnt-wrap-the-div-completely-when-there-are-multiple-divs-side-by-sid", "title": "Outline doesn&#39;t wrap the div completely when there are multiple divs side by side in SCSS", "body": "<p>I have four divs (tabs) and I am trying to add an outline to the tab, but the outline doesn't wrap the whole div. I think the border here on the tabs are causing it. What is the right approach to add an outline to the div? \nCode is as follows:</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div class=\"main-style\"&gt;Random&lt;/div&gt;\n&lt;div class=\"styling active1\"&gt;Btn 1&lt;/div&gt;\n&lt;div class=\"styling active2\"&gt;Btn 2&lt;/div&gt;\n&lt;div class=\"styling active3\"&gt;Btn 3&lt;/div&gt;\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>.main-style,.styling {\n  background-color: blue;\n  color: white;\n  line-height: 36px;\n  float: left;\n  padding: 0 20px;\n  display: inline-block;\n  &amp;:hover{\n    cursor: pointer;\n  }\n}\n\n.styling {\n    border-width: 0px 0px 0px 1px;\n    border-style: solid;\n }\n\n.over {\n  outline: 3px solid orange;\n}\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>$('.active1').addClass('over'); // the outline doesn't wrap the whole button.\n//$('.active3').addClass('over'); the outline wraps the whole button\n</code></pre>\n\n<p>Here is the <a href=\"https://jsfiddle.net/euw6Lpot/2/\" rel=\"nofollow noreferrer\">JS fiddle</a> </p>\n"}, {"tags": ["javascript", "css", "sass", "gulp"], "answers": [{"tags": [], "owner": {"reputation": 1306, "user_id": 8246359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7ded1395c3373006d4c404d47f12847?s=128&d=identicon&r=PG", "display_name": "LMulvey", "link": "https://stackoverflow.com/users/8246359/lmulvey"}, "is_accepted": false, "score": 1, "last_activity_date": 1532553359, "creation_date": 1532553359, "answer_id": 51527777, "question_id": 51527706, "link": "https://stackoverflow.com/questions/51527706/gulp-exclude-variable-file-name/51527777#51527777", "title": "Gulp - Exclude variable file name", "body": "<p>The way you have your rule written is actually returning <code>false</code>. Change it to a string so it's properly interpreted as a minimatch rule.</p>\n\n<pre><code>gulp.watch([ root + '**/*.css', root + '**/*.scss', `!${mainStyle}` ], ['css']);\n</code></pre>\n"}], "owner": {"reputation": 295, "user_id": 9899530, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eY-gOtlrY60/AAAAAAAAAAI/AAAAAAAAAAo/OgFh43w_Zqg/photo.jpg?sz=128", "display_name": "Best Dev Tutorials", "link": "https://stackoverflow.com/users/9899530/best-dev-tutorials"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1532553359, "creation_date": 1532553036, "question_id": 51527706, "link": "https://stackoverflow.com/questions/51527706/gulp-exclude-variable-file-name", "title": "Gulp - Exclude variable file name", "body": "<p>I have my full gulp file below. It compiles my CSS, and then uses another function to take my CSS file, minify it, and then copy it over to another folder \"assets/css\". </p>\n\n<p>The file I'm looking to exclude is mainStyle. If I don't exclude this, I get a perpetual loop in my watch task. </p>\n\n<p>When I run the file, because I have the !mainStyle toward the bottom, I get the error \"TypeError: pattern.indexOf is not a function\". </p>\n\n<pre><code>var themename = 'themename';\n\nvar gulp = require('gulp'),\n    // Prepare and optimize code etc\n    autoprefixer = require('autoprefixer'),\n    browserSync = require('browser-sync').create(),\n    image = require('gulp-image'),\n    jshint = require('gulp-jshint'),\n    postcss = require('gulp-postcss'),\n    sass = require('gulp-sass'),\n    sourcemaps = require('gulp-sourcemaps'),\n    cleanCSS = require('gulp-clean-css'),\n\n\n    // Only work with new or updated files\n    newer = require('gulp-newer'),\n\n    // Name of working theme folder\n    root = '../' + themename + '/',\n    scss = root + 'sass/',\n    js = root + 'js/',\n    img = root + 'images/',\n    languages = root + 'languages/';\n    mainStyle = root + 'style.css';\n\n\n\n// CSS via Sass and Autoprefixer\ngulp.task('css', function() {\n    return gulp.src(scss + '{style.scss,rtl.scss}')\n    .pipe(sourcemaps.init())\n    .pipe(sass({\n        outputStyle: 'expanded', \n        indentType: 'tab',\n        indentWidth: '1'\n    }).on('error', sass.logError))\n    .pipe(postcss([\n        autoprefixer('last 2 versions', '&gt; 1%')\n    ]))\n    .pipe(sourcemaps.write(scss + 'maps'))\n    .pipe(gulp.dest(root));\n});\n\n\ngulp.task('minify-css', () =&gt; {\n  return gulp.src(mainStyle)\n    .pipe(cleanCSS({level: {1: {specialComments: 0}}}, (details) =&gt; {\n      console.log(`${details.name}: ${details.stats.originalSize}`);\n      console.log(`${details.name}: ${details.stats.minifiedSize}`);\n    }))\n  .pipe(gulp.dest(root + '/assets/css/'));\n});\n\n// Optimize images through gulp-image\ngulp.task('images', function() {\n    return gulp.src(img + 'RAW/**/*.{jpg,JPG,png}')\n    .pipe(newer(img))\n    .pipe(image())\n    .pipe(gulp.dest(img));\n});\n\n// JavaScript\ngulp.task('javascript', function() {\n    return gulp.src([js + '*.js'])\n    .pipe(jshint())\n    .pipe(jshint.reporter('default'))\n    .pipe(gulp.dest(js));\n});\n\n\n// Watch everything\ngulp.task('watch', function() {\n    browserSync.init({ \n        open: 'external',\n        proxy: 'example.local/',\n        port: 8080\n    });\n    gulp.watch([ root + '**/*.css', root + '**/*.scss', !mainStyle ], ['css']);\n    gulp.watch(js + '**/*.js', ['javascript']);\n    gulp.watch(img + 'RAW/**/*.{jpg,JPG,png}', ['images']);\n    gulp.watch(root + '**/*').on('change', browserSync.reload);\n    gulp.watch(root + 'style.css', ['minify-css'])\n});\n\n\n// Default task (runs at initiation: gulp --verbose)\ngulp.task('default', ['watch']);\n</code></pre>\n"}, {"tags": ["javascript", "angular", "html", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 148, "user_id": 7285589, "user_type": "registered", "profile_image": "https://graph.facebook.com/1348829525148919/picture?type=large", "display_name": "Pragati Dugar", "link": "https://stackoverflow.com/users/7285589/pragati-dugar"}, "edited": false, "score": 0, "creation_date": 1586893966, "post_id": 51527623, "comment_id": 108295644, "body": "refer this: <a href=\"https://stackoverflow.com/questions/53934983/error-error-cannot-set-property-paginator-of-undefined\" title=\"error error cannot set property paginator of undefined\">stackoverflow.com/questions/53934983/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "edited": false, "score": 0, "creation_date": 1532553254, "post_id": 51527733, "comment_id": 90024112, "body": "I think the problem is this.paginator , this.sort are undefined at the time of invoke ngOnInit"}, {"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "reply_to_user": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "edited": false, "score": 3, "creation_date": 1532553355, "post_id": 51527733, "comment_id": 90024159, "body": "No, I thought so too at first but the error says: <code>Cannot set property &#39;paginator&#39; of undefined</code>. So it is trying to set the property &#39;paginator&#39; of a variable that is undefined. And this is <code>this.dataSource.paginator</code>"}, {"owner": {"reputation": 4819, "user_id": 9964622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bo9qD.jpg?s=128&g=1", "display_name": "The Dead Man", "link": "https://stackoverflow.com/users/9964622/the-dead-man"}, "edited": false, "score": 2, "creation_date": 1532553692, "post_id": 51527733, "comment_id": 90024285, "body": "I love this answer simple and clear !  Thank KIM , now el perfecto"}], "tags": [], "owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "is_accepted": true, "score": 36, "last_activity_date": 1539005355, "last_edit_date": 1539005355, "creation_date": 1532553153, "answer_id": 51527733, "question_id": 51527623, "link": "https://stackoverflow.com/questions/51527623/error-typeerror-cannot-set-property-paginator-of-undefined/51527733#51527733", "title": "ERROR TypeError: Cannot set property &#39;paginator&#39; of undefined", "body": "<p>The error says that you're trying to assign <code>this.dataSource.paginator</code> when <code>this.dataSource</code> is still <code>undefined</code>. Do the assignment <strong>after</strong> it was initalized.</p>\n\n<p>Also, when you want to use the paginator, sort or a filter, you have to use the <code>MatTableDataSource</code> class for it. It's not enough to use raw data as your <code>dataSource</code>:</p>\n\n<pre><code>ngOnInit() {\n  this.moviesService.getPopularTVShows().subscribe(res =&gt; {\n    // Use MatTableDataSource for paginator\n    this.dataSource = new MatTableDataSource(res.results);\n                          ^^^^^^^^^^^^^^^^^^\n    // Assign the paginator *after* dataSource is set\n    this.dataSource.paginator = this.paginator;\n    this.dataSource.sort = this.sort;\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 4819, "user_id": 9964622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bo9qD.jpg?s=128&g=1", "display_name": "The Dead Man", "link": "https://stackoverflow.com/users/9964622/the-dead-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22332, "favorite_count": 3, "accepted_answer_id": 51527733, "answer_count": 1, "score": 11, "last_activity_date": 1539005355, "creation_date": 1532552675, "last_edit_date": 1532553233, "question_id": 51527623, "link": "https://stackoverflow.com/questions/51527623/error-typeerror-cannot-set-property-paginator-of-undefined", "title": "ERROR TypeError: Cannot set property &#39;paginator&#39; of undefined", "body": "<p>I am creating a table using table Angular material\nfor reference I am using this example <a href=\"https://material.angular.io/components/table/examples\" rel=\"noreferrer\">https://material.angular.io/components/table/examples</a></p>\n\n<p>Here is what I have so far:</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;mat-form-field&gt;\n    &lt;input matInput (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Filter\"&gt;\n  &lt;/mat-form-field&gt;\n\n  &lt;div class=\"mat-elevation-z8\"&gt;\n    &lt;table mat-table [dataSource]=\"dataSource\" matSort&gt;\n\n\n      &lt;ng-container matColumnDef=\"name\"&gt;\n        &lt;th mat-header-cell *matHeaderCellDef mat-sort-header&gt; Name &lt;/th&gt;\n        &lt;td mat-cell *matCellDef=\"let row\"&gt; {{row.name}} &lt;/td&gt;\n      &lt;/ng-container&gt;\n\n\n      &lt;ng-container matColumnDef=\"id\"&gt;\n        &lt;th mat-header-cell *matHeaderCellDef mat-sort-header&gt; Id &lt;/th&gt;\n        &lt;td mat-cell *matCellDef=\"let row\"&gt; {{row.id}} &lt;/td&gt;\n      &lt;/ng-container&gt;\n\n\n      &lt;ng-container matColumnDef=\"release\"&gt;\n        &lt;th mat-header-cell *matHeaderCellDef mat-sort-header&gt; Release&lt;/th&gt;\n        &lt;td mat-cell *matCellDef=\"let row\"&gt; {{row.first_air_date}} &lt;/td&gt;\n      &lt;/ng-container&gt;\n\n\n      &lt;ng-container matColumnDef=\"description\"&gt;\n        &lt;th mat-header-cell *matHeaderCellDef mat-sort-header&gt; Description &lt;/th&gt;\n        &lt;td mat-cell *matCellDef=\"let row\" [style.color]=\"row.color\"&gt; {{row.overview}} &lt;/td&gt;\n      &lt;/ng-container&gt;\n\n      &lt;tr mat-header-row *matHeaderRowDef=\"displayedColumns\"&gt;&lt;/tr&gt;\n      &lt;tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"&gt;\n      &lt;/tr&gt;\n    &lt;/table&gt;\n\n    &lt;mat-paginator [pageSizeOptions]=\"[5, 10, 25, 100]\"&gt;&lt;/mat-paginator&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>Component .ts</p>\n\n<pre><code>import { Component, ViewChild, OnInit } from '@angular/core';\nimport { MoviesService } from '../movies.service';\nimport { MatPaginator, MatSort, MatTableDataSource } from '@angular/material';\nimport { DatatableComponent } from '@swimlane/ngx-datatable';\n\n@Component({\n  selector: 'app-tv-shows',\n  templateUrl: './tv-shows.component.html',\n  styleUrls: ['./tv-shows.component.scss']\n})\nexport class TvShowsComponent implements OnInit {\n  displayedColumns: string[] = ['name', 'id', 'release', 'description'];\n  dataSource: any;\n  @ViewChild(DatatableComponent) table: DatatableComponent;\n  constructor(private moviesService: MoviesService) {\n    this.moviesService.getPopularTVShows().subscribe(res =&gt; {\n      this.dataSource = res.results;\n    });\n  }\n\n  @ViewChild(MatPaginator) paginator: MatPaginator;\n  @ViewChild(MatSort) sort: MatSort;\n\n  ngOnInit() {\n    this.dataSource.paginator = this.paginator;\n    this.dataSource.sort = this.sort;\n  }\n\n  applyFilter(filterValue: string) {\n    this.dataSource.filter = filterValue.trim().toLowerCase();\n\n    if (this.dataSource.paginator) {\n      this.dataSource.paginator.firstPage();\n    }\n  }\n}\n</code></pre>\n\n<p>when I run my app data are displayed in a table perfectly but I get the following error : </p>\n\n<pre><code>ERROR TypeError: Cannot set property 'paginator' of undefined\n</code></pre>\n\n<blockquote>\n  <p>So nothing works at all  neither sorting , filtering or pagination</p>\n</blockquote>\n\n<p>I need some help here:</p>\n\n<p>What am I doing wrong in my codes above? Any help will be appreciated.</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 2439, "user_id": 3764306, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/L71gY.jpg?s=128&g=1", "display_name": "Kamalakannan J", "link": "https://stackoverflow.com/users/3764306/kamalakannan-j"}, "edited": false, "score": 0, "creation_date": 1532552677, "post_id": 51527603, "comment_id": 90023853, "body": "Share the source which you tried, and tell us what result you&#39;re expecting."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 1, "creation_date": 1532552803, "post_id": 51527603, "comment_id": 90023909, "body": "You are considering each filter in a silo, never together.  That is the crux of your issue."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1532552831, "post_id": 51527603, "comment_id": 90023920, "body": "Also, you cannot repeat ids."}, {"owner": {"reputation": 73, "user_id": 8626495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e18bfe3b2fe0d7fe4496e310c97e393c?s=128&d=identicon&r=PG&f=1", "display_name": "obiboke", "link": "https://stackoverflow.com/users/8626495/obiboke"}, "edited": false, "score": 0, "creation_date": 1532552887, "post_id": 51527603, "comment_id": 90023957, "body": "I share, sorry my bad edit. I want connect filters. When i click &quot;One&quot; and click &quot;Washinton&quot; I want show only options &quot;One Washington&quot; and no other options. The same when i click Two and Washington or Philadelphia"}, {"owner": {"reputation": 73, "user_id": 8626495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e18bfe3b2fe0d7fe4496e310c97e393c?s=128&d=identicon&r=PG&f=1", "display_name": "obiboke", "link": "https://stackoverflow.com/users/8626495/obiboke"}, "edited": false, "score": 0, "creation_date": 1532553080, "post_id": 51527603, "comment_id": 90024039, "body": "Sorry Taplar can i please to fiddle with correct issue for this? I dont understand many things"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 8626495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e18bfe3b2fe0d7fe4496e310c97e393c?s=128&d=identicon&r=PG&f=1", "display_name": "obiboke", "link": "https://stackoverflow.com/users/8626495/obiboke"}, "edited": false, "score": 0, "creation_date": 1532553480, "post_id": 51527740, "comment_id": 90024211, "body": "Wow! Great! Big Thank You!"}, {"owner": {"reputation": 73, "user_id": 8626495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e18bfe3b2fe0d7fe4496e310c97e393c?s=128&d=identicon&r=PG&f=1", "display_name": "obiboke", "link": "https://stackoverflow.com/users/8626495/obiboke"}, "edited": false, "score": 0, "creation_date": 1532555773, "post_id": 51527740, "comment_id": 90025026, "body": "Can i add hash to this? When i want to url to specyfic filter?"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "reply_to_user": {"reputation": 73, "user_id": 8626495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e18bfe3b2fe0d7fe4496e310c97e393c?s=128&d=identicon&r=PG&f=1", "display_name": "obiboke", "link": "https://stackoverflow.com/users/8626495/obiboke"}, "edited": false, "score": 1, "creation_date": 1532555914, "post_id": 51527740, "comment_id": 90025067, "body": "Sure, you could reference <code>window.location.hash</code> as part of building the filter string you use."}, {"owner": {"reputation": 73, "user_id": 8626495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e18bfe3b2fe0d7fe4496e310c97e393c?s=128&d=identicon&r=PG&f=1", "display_name": "obiboke", "link": "https://stackoverflow.com/users/8626495/obiboke"}, "edited": false, "score": 0, "creation_date": 1532564977, "post_id": 51527740, "comment_id": 90027042, "body": "I try...but i dont know what im doing.... can i please my fiddle again sorry? :) for two categories? and for two selected options? for any options this generate hash?"}, {"owner": {"reputation": 73, "user_id": 8626495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e18bfe3b2fe0d7fe4496e310c97e393c?s=128&d=identicon&r=PG&f=1", "display_name": "obiboke", "link": "https://stackoverflow.com/users/8626495/obiboke"}, "edited": false, "score": 0, "creation_date": 1532596617, "post_id": 51527740, "comment_id": 90038095, "body": "and can i add to this options selected default? Selected option ONE and Washingtion?"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "reply_to_user": {"reputation": 73, "user_id": 8626495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e18bfe3b2fe0d7fe4496e310c97e393c?s=128&d=identicon&r=PG&f=1", "display_name": "obiboke", "link": "https://stackoverflow.com/users/8626495/obiboke"}, "edited": false, "score": 0, "creation_date": 1532615701, "post_id": 51527740, "comment_id": 90050511, "body": "@obiboke if you are going to change the parameters of your question, you should start another question regarding your new issues."}, {"owner": {"reputation": 73, "user_id": 8626495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e18bfe3b2fe0d7fe4496e310c97e393c?s=128&d=identicon&r=PG&f=1", "display_name": "obiboke", "link": "https://stackoverflow.com/users/8626495/obiboke"}, "edited": false, "score": 0, "creation_date": 1532617176, "post_id": 51527740, "comment_id": 90051496, "body": "I start:<a href=\"https://stackoverflow.com/questions/51539259/how-do-i-to-link-to-a-jquery-filtered-view-from-another-page-and-select-default\" title=\"how do i to link to a jquery filtered view from another page and select default\">stackoverflow.com/questions/51539259/&hellip;</a>"}], "tags": [], "owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "is_accepted": true, "score": 1, "last_activity_date": 1532553199, "creation_date": 1532553199, "answer_id": 51527740, "question_id": 51527603, "link": "https://stackoverflow.com/questions/51527603/how-to-connect-two-filters-in-jquery-content-filter-1-and-filter-2-connect-resu/51527740#51527740", "title": "How to connect two filters in jquery content? Filter 1 and filter 2 connect result", "body": "<p>See the comments in the logic for the details on what each step is doing.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\"button\").click(function() {\r\n  //remove the selected class from the previously selected button\r\n  $(this).closest('.filter').find('button.selected').removeClass('selected');\r\n  //put the class on the button you clicked\r\n  $(this).addClass('selected');\r\n  \r\n  //get the data-filter off of the selected buttons and join them into a selector\r\n  var filter = '.'+ $('button.selected').map(function(){\r\n    return $(this).data('filter');\r\n  }).get().join('.');\r\n  \r\n  //hide all the posts, and then show those that match\r\n  $('.post').hide().filter(filter).show();\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;h2&gt;FIRST&lt;/h2&gt;\r\n&lt;!-- we use a class because an id cannot be repeated\r\n     and we want to select both our filters later --&gt;\r\n&lt;div class='filter'&gt;\r\n    &lt;!-- data fields let us separate the classes from the data that\r\n         is used for the filter --&gt;\r\n    &lt;button data-filter='all'&gt;All&lt;/button&gt;\r\n    &lt;button data-filter='1'&gt;One&lt;/button&gt;\r\n    &lt;button data-filter='2'&gt;Two&lt;/button&gt;\r\n&lt;/div&gt;\r\n&lt;h2&gt;TWO&lt;/h2&gt;\r\n&lt;div class='filter'&gt;\r\n    &lt;button data-filter='all'&gt;All&lt;/button&gt;\r\n    &lt;button data-filter='aa'&gt;Washington&lt;/button&gt;\r\n    &lt;button data-filter='bb'&gt;Philadelphia&lt;/button&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;br&gt;\r\n&lt;div id='posts'&gt;\r\n    &lt;div class='all post 1 aa'&gt;One Washington&lt;/div&gt;\r\n    &lt;div class='all post 1 bb'&gt;One Philadelphia&lt;/div&gt;\r\n    &lt;div class='all post 2 bb'&gt;Two Philadelphia&lt;/div&gt;\r\n    &lt;div class='all post 2 aa'&gt;Two Washington&lt;/div&gt;\r\n    &lt;div class='all post 1 bb'&gt;One Philadelphia&lt;/div&gt;\r\n    &lt;div class='all post 2 aa'&gt;Two Washington&lt;/div&gt;\r\n    &lt;div class='all post 1 bb'&gt;One Philadelphia&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 73, "user_id": 8626495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e18bfe3b2fe0d7fe4496e310c97e393c?s=128&d=identicon&r=PG&f=1", "display_name": "obiboke", "link": "https://stackoverflow.com/users/8626495/obiboke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 51527740, "answer_count": 1, "score": 0, "last_activity_date": 1532553199, "creation_date": 1532552581, "last_edit_date": 1532552710, "question_id": 51527603, "link": "https://stackoverflow.com/questions/51527603/how-to-connect-two-filters-in-jquery-content-filter-1-and-filter-2-connect-resu", "title": "How to connect two filters in jquery content? Filter 1 and filter 2 connect result", "body": "<p>I'm newbie in jquery. I created filters in jquery and i want to connect them together to show content only clicked. How i can do that? Sorry for my bad english. I try many hours and I've building this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\"button\").click(function() {\r\n    var show = $(this).attr('class');\r\n    $('.post').each(function(){\r\n        $(this).show();\r\n        var test = $(this).attr('class');\r\n        if (test.indexOf(show) &lt; 0) $(this).hide();\r\n    });\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;h2&gt;FIRST&lt;/h2&gt;\r\n&lt;div id='filter'&gt;\r\n    &lt;button class='all'&gt;All&lt;/button&gt;\r\n    &lt;button class='1'&gt;One&lt;/button&gt;\r\n    &lt;button class='2'&gt;Two&lt;/button&gt;\r\n&lt;/div&gt;\r\n&lt;h2&gt;TWO&lt;/h2&gt;\r\n&lt;div id='filter'&gt;\r\n    &lt;button class='all'&gt;All&lt;/button&gt;\r\n    &lt;button class='aa'&gt;Washington&lt;/button&gt;\r\n    &lt;button class='bb'&gt;Philadelphia&lt;/button&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;br&gt;\r\n&lt;div id='posts'&gt;\r\n    &lt;div class='all post 1 aa'&gt;One Washington&lt;/div&gt;\r\n    &lt;div class='all post 1 bb'&gt;One Philadelphia&lt;/div&gt;\r\n    &lt;div class='all post 2 bb'&gt;Two Philadelphia&lt;/div&gt;\r\n    &lt;div class='all post 2 aa'&gt;Two Washington&lt;/div&gt;\r\n    &lt;div class='all post 1 bb'&gt;One Philadelphia&lt;/div&gt;\r\n    &lt;div class='all post 2 aa'&gt;Two Washington&lt;/div&gt;\r\n    &lt;div class='all post 1 bb'&gt;One Philadelphia&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "momentjs"], "comments": [{"owner": {"reputation": 1237, "user_id": 2397717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DtsVA.jpg?s=128&g=1", "display_name": "Sookie Singh", "link": "https://stackoverflow.com/users/2397717/sookie-singh"}, "edited": false, "score": 0, "creation_date": 1532552900, "post_id": 51527597, "comment_id": 90023964, "body": "Why not make a custom function to do it? Does it really have to be with moment.js?"}, {"owner": {"reputation": 1088, "user_id": 2936008, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/rgFn5.jpg?s=128&g=1", "display_name": "user2936008", "link": "https://stackoverflow.com/users/2936008/user2936008"}, "reply_to_user": {"reputation": 1237, "user_id": 2397717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DtsVA.jpg?s=128&g=1", "display_name": "Sookie Singh", "link": "https://stackoverflow.com/users/2397717/sookie-singh"}, "edited": false, "score": 0, "creation_date": 1532552966, "post_id": 51527597, "comment_id": 90023998, "body": "custom function, I also want to format the date."}, {"owner": {"reputation": 1088, "user_id": 2936008, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/rgFn5.jpg?s=128&g=1", "display_name": "user2936008", "link": "https://stackoverflow.com/users/2936008/user2936008"}, "reply_to_user": {"reputation": 1237, "user_id": 2397717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DtsVA.jpg?s=128&g=1", "display_name": "Sookie Singh", "link": "https://stackoverflow.com/users/2397717/sookie-singh"}, "edited": false, "score": 0, "creation_date": 1532553511, "post_id": 51527597, "comment_id": 90024222, "body": "I think: new Date also considers timezone. How can I make custom function, With all the cases"}, {"owner": {"reputation": 21272, "user_id": 52277, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/67498fd0e17d27cb9be0c107f306e378?s=128&d=identicon&r=PG", "display_name": "Michael Freidgeim", "link": "https://stackoverflow.com/users/52277/michael-freidgeim"}, "edited": false, "score": 0, "creation_date": 1558745994, "post_id": 51527597, "comment_id": 99213760, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1486476/json-stringify-changes-time-of-date-because-of-utc\">JSON Stringify changes time of date because of UTC</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1088, "user_id": 2936008, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/rgFn5.jpg?s=128&g=1", "display_name": "user2936008", "link": "https://stackoverflow.com/users/2936008/user2936008"}, "edited": false, "score": 0, "creation_date": 1532553641, "post_id": 51527806, "comment_id": 90024273, "body": "I did try it I did had the same issue in one of the time zone. I will check again"}, {"owner": {"reputation": 1088, "user_id": 2936008, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/rgFn5.jpg?s=128&g=1", "display_name": "user2936008", "link": "https://stackoverflow.com/users/2936008/user2936008"}, "reply_to_user": {"reputation": 2439, "user_id": 3764306, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/L71gY.jpg?s=128&g=1", "display_name": "Kamalakannan J", "link": "https://stackoverflow.com/users/3764306/kamalakannan-j"}, "edited": false, "score": 0, "creation_date": 1532554130, "post_id": 51527806, "comment_id": 90024454, "body": "@KamalakannanJ from <a href=\"https://momentjs.com/docs/#/parsing/parse-zone/\" rel=\"nofollow noreferrer\">momentjs.com/docs/#/parsing/parse-zone</a> seems like there is some conversion going on"}, {"owner": {"reputation": 1088, "user_id": 2936008, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/rgFn5.jpg?s=128&g=1", "display_name": "user2936008", "link": "https://stackoverflow.com/users/2936008/user2936008"}, "edited": false, "score": 0, "creation_date": 1532554891, "post_id": 51527806, "comment_id": 90024726, "body": "I did take this approach as it resolves EST/PST issue."}], "tags": [], "owner": {"reputation": 385, "user_id": 5475636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6c94fce7ce6134cd6ef3fadb5a4f7a?s=128&d=identicon&r=PG&f=1", "display_name": "Phil Golding", "link": "https://stackoverflow.com/users/5475636/phil-golding"}, "is_accepted": true, "score": 12, "last_activity_date": 1532553545, "creation_date": 1532553545, "answer_id": 51527806, "question_id": 51527597, "link": "https://stackoverflow.com/questions/51527597/moment-js-get-date-without-considering-time-zone/51527806#51527806", "title": "Moment js - get date without considering time zone", "body": "<p>Have you tried parseZone?</p>\n\n<pre><code>moment.parseZone(end).format('MM/DD/YYYY');\n</code></pre>\n\n<p>That should keep your UTC offset applied. You can then also calculate the UTC offset, if you wanted to save that:</p>\n\n<pre><code>moment.parseZone(end).format('MM/DD/YYYY').utcOffset();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1088, "user_id": 2936008, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/rgFn5.jpg?s=128&g=1", "display_name": "user2936008", "link": "https://stackoverflow.com/users/2936008/user2936008"}, "edited": false, "score": 1, "creation_date": 1532554363, "post_id": 51527872, "comment_id": 90024551, "body": "What if the timezone is not provided?  This will fail in that case. I wouldn&#39;t take that risk. I would never muck with the string provided."}], "tags": [], "owner": {"reputation": 2439, "user_id": 3764306, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/L71gY.jpg?s=128&g=1", "display_name": "Kamalakannan J", "link": "https://stackoverflow.com/users/3764306/kamalakannan-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1532553855, "creation_date": 1532553855, "answer_id": 51527872, "question_id": 51527597, "link": "https://stackoverflow.com/questions/51527597/moment-js-get-date-without-considering-time-zone/51527872#51527872", "title": "Moment js - get date without considering time zone", "body": "<p>The solution I'm suggesting will ignore the timezone itself. It always take only the date. It might be a complex way to do it, but it always works for you.</p>\n\n<pre><code>const start = '2018-06-10T21:00:00-04:00'.split('-').slice(0, -1).join('-');\nconst end = '2018-06-10T23:00:00-04:00'.split('-').slice(0, -1).join('-');\nconst noconversion = moment(start).format('MM/DD/YYYY');\nconst converted = moment(end).format('MM/DD/YYYY');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1088, "user_id": 2936008, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/rgFn5.jpg?s=128&g=1", "display_name": "user2936008", "link": "https://stackoverflow.com/users/2936008/user2936008"}, "edited": false, "score": 0, "creation_date": 1532554369, "post_id": 51527957, "comment_id": 90024553, "body": "What if the timezone is not provided?  This will fail in that case. I wouldn&#39;t take that risk. I would never muck with the string provided."}, {"owner": {"reputation": 1237, "user_id": 2397717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DtsVA.jpg?s=128&g=1", "display_name": "Sookie Singh", "link": "https://stackoverflow.com/users/2397717/sookie-singh"}, "reply_to_user": {"reputation": 1088, "user_id": 2936008, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/rgFn5.jpg?s=128&g=1", "display_name": "user2936008", "link": "https://stackoverflow.com/users/2936008/user2936008"}, "edited": false, "score": 0, "creation_date": 1532554564, "post_id": 51527957, "comment_id": 90024611, "body": "It won&#39;t fail even there is no timezone as I am splitting with <b>T</b> separator which is in all date standards."}, {"owner": {"reputation": 1088, "user_id": 2936008, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/rgFn5.jpg?s=128&g=1", "display_name": "user2936008", "link": "https://stackoverflow.com/users/2936008/user2936008"}, "edited": false, "score": 0, "creation_date": 1532554700, "post_id": 51527957, "comment_id": 90024664, "body": "Still I am afraid to use string split approach"}, {"owner": {"reputation": 1237, "user_id": 2397717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DtsVA.jpg?s=128&g=1", "display_name": "Sookie Singh", "link": "https://stackoverflow.com/users/2397717/sookie-singh"}, "reply_to_user": {"reputation": 1088, "user_id": 2936008, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/rgFn5.jpg?s=128&g=1", "display_name": "user2936008", "link": "https://stackoverflow.com/users/2936008/user2936008"}, "edited": false, "score": 0, "creation_date": 1532555408, "post_id": 51527957, "comment_id": 90024902, "body": "I have added one more function which uses Date function."}], "tags": [], "owner": {"reputation": 1237, "user_id": 2397717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DtsVA.jpg?s=128&g=1", "display_name": "Sookie Singh", "link": "https://stackoverflow.com/users/2397717/sookie-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1532556447, "last_edit_date": 1532556447, "creation_date": 1532554236, "answer_id": 51527957, "question_id": 51527597, "link": "https://stackoverflow.com/questions/51527597/moment-js-get-date-without-considering-time-zone/51527957#51527957", "title": "Moment js - get date without considering time zone", "body": "<p>I don't know if you are going to like my solution but just give it a thought that if you want to ignore timezone then why not from the string itself. Don't downvote if you don't like it. This is just an out of the box thinking.</p>\n\n<pre><code>function convertToDate(date_string) {\n    var date = date_string.indexOf('T') &gt; -1 ? new Date(date_string.split('T')[0]) : date_string.indexOf(' ') &gt; -1 ? new Date(date_string.split(' ')[0]) : new Date(date_string.substring(0,10));\n    return (date.getMonth() + 1) + \"/\" + date.getDate() + \"/\" + date.getFullYear();\n}\n</code></pre>\n\n<p>OR </p>\n\n<pre><code>function convertToDate(date_string) {\n    var date = date_string.indexOf('T') &gt; -1 ? date_string.split('T')[0].split('-') : date_string.indexOf(' ') &gt; -1 ? date_string.split(' ')[0].split('-') : date_string.substring(0,10).split('-');\n    return date[1] + \"/\" + date[2] + \"/\" + date[0];\n}\n\nconst start = '2018-06-10T21:00:00-04:00';\nconst converted = convertToDate(start);\n</code></pre>\n"}], "owner": {"reputation": 1088, "user_id": 2936008, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/rgFn5.jpg?s=128&g=1", "display_name": "user2936008", "link": "https://stackoverflow.com/users/2936008/user2936008"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8517, "favorite_count": 1, "accepted_answer_id": 51527806, "answer_count": 3, "score": 8, "last_activity_date": 1532556447, "creation_date": 1532552566, "question_id": 51527597, "link": "https://stackoverflow.com/questions/51527597/moment-js-get-date-without-considering-time-zone", "title": "Moment js - get date without considering time zone", "body": "<p>I did read different StackOverflow posts and they suggested to use .utc from moment but it doesn't work</p>\n\n<p><strong>Note:</strong> I am on PST zone</p>\n\n<pre><code>const start = '2018-06-10T21:00:00-04:00';\nconst end = '2018-06-10T23:00:00-04:00';\nconst noconversion = moment.utc(start).format('MM/DD/YYYY');\nconst converted = moment(end).format('MM/DD/YYYY');\n</code></pre>\n\n<p><strong>Current output:</strong></p>\n\n<p>noconversion - 2018-06-11</p>\n\n<p>converted - 2018-06-11</p>\n\n<p><strong>Output expected:</strong>\n06/10/2018 just fetch date from date provided</p>\n\n<p><a href=\"https://codepen.io/snehav27/pen/ZjJbMW\" rel=\"noreferrer\">CODEPEN Link</a></p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 1, "creation_date": 1532552341, "post_id": 51527536, "comment_id": 90023698, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/tab-size\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/CSS/tab-size</a>"}, {"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 0, "creation_date": 1532552355, "post_id": 51527536, "comment_id": 90023703, "body": "Add four spaces, and update <code>s + 1</code> to <code>s + 4</code>, since you\u2019re adding <i>four</i> characters, not <i>one</i>. You seem to have the same misunderstanding as <a href=\"https://stackoverflow.com/q/51236878/4642212\">this question</a>."}], "answers": [{"tags": [], "owner": {"reputation": 129, "user_id": 9593885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64925d5a9af275e178292ed84fe01bab?s=128&d=identicon&r=PG&f=1", "display_name": "Lucca", "link": "https://stackoverflow.com/users/9593885/lucca"}, "is_accepted": false, "score": 0, "last_activity_date": 1532552736, "creation_date": 1532552736, "answer_id": 51527641, "question_id": 51527536, "link": "https://stackoverflow.com/questions/51527536/change-textarea-indent-width/51527641#51527641", "title": "Change &lt;textarea&gt; indent width", "body": "<p>Taplar's answer worked for me:</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n    $(document).ready(() =&gt; {\n        $('#input').on('keydown', function(e) {\n            if (e.keyCode == 9 || e.which == 9) {\n                e.preventDefault();\n\n                var s = this.selectionStart;\n                $(this).val(function(i, v) {\n                    return v.substring(0, this.selectionStart) + \"\\t\" + v.substring(this.selectionEnd)\n                });\n                this.selectionEnd = s + 1;\n            }\n        });\n    });\n    &lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n      &lt;textarea id=\"input\" style=\"font-family:monospace;tab-size:4\"&gt;&lt;/textarea&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3819, "user_id": 4289700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GGKsgSVN_n4/AAAAAAAAAAI/AAAAAAAAAvQ/_IAucbb8ss8/photo.jpg?sz=128", "display_name": "HugoTeixeira", "link": "https://stackoverflow.com/users/4289700/hugoteixeira"}, "is_accepted": true, "score": 1, "last_activity_date": 1532554383, "creation_date": 1532554383, "answer_id": 51527989, "question_id": 51527536, "link": "https://stackoverflow.com/questions/51527536/change-textarea-indent-width/51527989#51527989", "title": "Change &lt;textarea&gt; indent width", "body": "<p>You can try the code below. </p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n    $(document).ready(() =&gt; {\n        var SPACE = ' '.repeat(4);\n        var $input = $('#input');\n        $input.on('keydown', function(e) { \n            if (e.keyCode === 9 || e.which === 9) {\n                e.preventDefault();\n                var start = this.selectionStart;\n\n                var txt = $input.val();\n                txt = txt.substring(0, start) + SPACE + txt.substring(this.selectionEnd);\n                $input.val(txt);\n\n                start += SPACE.length;\n                this.setSelectionRange(start, start);\n            }\n        });\n    });\n    &lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n      &lt;textarea id=\"input\" style=\"font-family:monospace\"&gt;&lt;/textarea&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>You should note that:</p>\n\n<p>(1) I've moved the spacing information to a separate variable so that it can be easily changed later (if needed). </p>\n\n<p>(2) The code updates the selection range of the textarea after it changes the contents. In other words, we have to move the caret back to where it was and keep the user experience good.</p>\n"}], "owner": {"reputation": 129, "user_id": 9593885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64925d5a9af275e178292ed84fe01bab?s=128&d=identicon&r=PG&f=1", "display_name": "Lucca", "link": "https://stackoverflow.com/users/9593885/lucca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 51527989, "answer_count": 2, "score": 0, "last_activity_date": 1532554383, "creation_date": 1532552259, "question_id": 51527536, "link": "https://stackoverflow.com/questions/51527536/change-textarea-indent-width", "title": "Change &lt;textarea&gt; indent width", "body": "<p>I want to enable 4-width indentation with tabs on <code>&lt;textarea&gt;</code>. Currently, the <code>\"\\t\"</code> adds an 8-width indent. How can I change that to 4? Switching the <code>\"\\t\"</code> for 4 spaces doesn't work, results in a single whitespace being added, instead of the 4 I want.</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n    $(document).ready(() =&gt; {\n        $('#input').on('keydown', function(e) {\n            if (e.keyCode == 9 || e.which == 9) {\n                e.preventDefault();\n\n                var s = this.selectionStart;\n                $(this).val(function(i, v) {\n                    return v.substring(0, this.selectionStart) + \"\\t\" + v.substring(this.selectionEnd)\n                });\n                this.selectionEnd = s + 1;\n            }\n        });\n    });\n    &lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n      &lt;textarea id=\"input\" style=\"font-family:monospace\"&gt;&lt;/textarea&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 4693, "user_id": 5501536, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/50b9ab14ab8699a3862c14ee48126abe?s=128&d=identicon&r=PG&f=1", "display_name": "chevybow", "link": "https://stackoverflow.com/users/5501536/chevybow"}, "edited": false, "score": 0, "creation_date": 1532554396, "post_id": 51527524, "comment_id": 90024567, "body": "You forgot to translate the last line into english. I would edit it but I don&#39;t want to change the meaning of what you want."}, {"owner": {"reputation": 3, "user_id": 8623630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAazv.png?s=128&g=1", "display_name": "jeanpitx", "link": "https://stackoverflow.com/users/8623630/jeanpitx"}, "reply_to_user": {"reputation": 4693, "user_id": 5501536, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/50b9ab14ab8699a3862c14ee48126abe?s=128&d=identicon&r=PG&f=1", "display_name": "chevybow", "link": "https://stackoverflow.com/users/5501536/chevybow"}, "edited": false, "score": 0, "creation_date": 1532557267, "post_id": 51527524, "comment_id": 90025478, "body": "this is correct, thank you very much"}], "answers": [{"tags": [], "owner": {"reputation": 32729, "user_id": 9513184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de818fcfdfb2bbaf9c67cf7f1d611db8?s=128&d=identicon&r=PG&f=1", "display_name": "iota", "link": "https://stackoverflow.com/users/9513184/iota"}, "is_accepted": false, "score": 0, "last_activity_date": 1532552946, "last_edit_date": 1532552946, "creation_date": 1532552602, "answer_id": 51527607, "question_id": 51527524, "link": "https://stackoverflow.com/questions/51527524/handle-table-inside-another-html-table-without-interfering-with-javascript/51527607#51527607", "title": "Handle table inside another HTML table without interfering with JAVASCRIPT", "body": "<p>You should use a <code>querySelector</code>.</p>\n\n<pre><code>document.querySelectorAll('#mytabla &gt; tbody &gt; tr');//selects all table rows whose parent is a tbody that is a child of #mytabla\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table id=\"mytabla\" class=\"table table-sm table-striped\"&gt;\r\n            &lt;tbody&gt;\r\n            &lt;tr&gt;\r\n                &lt;th id=\"#\"&gt;#&lt;/th&gt;\r\n                &lt;th id=\"Documento\" class=\"tb-gra\"&gt;Documento&lt;/th&gt;\r\n                &lt;th id=\"Fecha\"&gt;Fecha(emision)&lt;/th&gt;\r\n                &lt;th id=\"retenciones\"&gt;Retenciones&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td class=\"tb-neg\"&gt;1&lt;/td&gt;\r\n                &lt;td class=\"tb-gra\"&gt;FACTURA&lt;/td&gt;\r\n                &lt;td style=\"width:64pt\"&gt;04/06/2018&lt;/td&gt;\r\n                &lt;td&gt;SIN RETENCION&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td class=\"tb-neg\"&gt;1&lt;/td&gt;\r\n                &lt;td class=\"tb-gra\"&gt;FACTURA&lt;/td&gt;\r\n                &lt;td style=\"width:64pt\"&gt;04/06/2018&lt;/td&gt;\r\n                &lt;td&gt;SIN RETENCION&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td class=\"tb-neg\"&gt;1&lt;/td&gt;\r\n                &lt;td class=\"tb-gra\"&gt;FACTURA&lt;/td&gt;\r\n                &lt;td style=\"width:64pt\"&gt;04/06/2018&lt;/td&gt;\r\n                &lt;td&gt;\r\n                     &lt;table&gt;&lt;tbody&gt;\r\n                        &lt;tr&gt;\r\n                            &lt;td&gt;IVA&lt;/td&gt;\r\n                            &lt;td&gt;3&lt;/td&gt;\r\n                            &lt;td&gt;120.00&lt;/td&gt;\r\n                            &lt;td&gt;100.0&lt;/td&gt;\r\n                            &lt;td&gt;120.00&lt;/td&gt;\r\n                       &lt;/tr&gt;\r\n                     &lt;/tbody&gt;&lt;/table&gt;\r\n                &lt;/td&gt;\r\n            &lt;/tr&gt;\r\n&lt;/tbody&gt;\r\n&lt;/table&gt;\r\n&lt;script&gt;\r\nconsole.log(document.querySelectorAll('#mytabla &gt; tbody &gt; tr').length);\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1677, "user_id": 3784705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c51fef03f023cc4bb5cb785bd824b31?s=128&d=identicon&r=PG&f=1", "display_name": "m51", "link": "https://stackoverflow.com/users/3784705/m51"}, "is_accepted": false, "score": 0, "last_activity_date": 1532553686, "last_edit_date": 1532553686, "creation_date": 1532552754, "answer_id": 51527646, "question_id": 51527524, "link": "https://stackoverflow.com/questions/51527524/handle-table-inside-another-html-table-without-interfering-with-javascript/51527646#51527646", "title": "Handle table inside another HTML table without interfering with JAVASCRIPT", "body": "<p>Im not sure that I understand question. You want to count all rows, except rows in inner table?\nThen, instead of</p>\n\n<pre><code>var fila=document.getElementById(\"mytabla\").getElementsByTagName('tr');\n</code></pre>\n\n<p>use</p>\n\n<pre><code>var fila=document.querySelectorAll(\"#mytabla &gt; tbody &gt; tr\");\n</code></pre>\n\n<p>Also, you don't need to <code>parseInt(fila.length)</code>. Length property is a number, so <code>fila.length</code> is enough.</p>\n"}, {"tags": [], "owner": {"reputation": 2691, "user_id": 4864063, "user_type": "registered", "profile_image": "https://graph.facebook.com/10100259670624966/picture?type=large", "display_name": "jmcgriz", "link": "https://stackoverflow.com/users/4864063/jmcgriz"}, "is_accepted": false, "score": 0, "last_activity_date": 1532553048, "creation_date": 1532553048, "answer_id": 51527713, "question_id": 51527524, "link": "https://stackoverflow.com/questions/51527524/handle-table-inside-another-html-table-without-interfering-with-javascript/51527713#51527713", "title": "Handle table inside another HTML table without interfering with JAVASCRIPT", "body": "<p>In the case of a <code>table</code>, you can actually just get the length of its <code>rows</code> attribute <a href=\"https://www.w3schools.com/jsref/coll_table_rows.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/jsref/coll_table_rows.asp</a></p>\n\n<pre><code>var cantidaddefilas = document.getElementById('mytabla').rows.length\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2560539"}, "is_accepted": true, "score": 0, "last_activity_date": 1532555749, "last_edit_date": 1532555749, "creation_date": 1532554790, "answer_id": 51528071, "question_id": 51527524, "link": "https://stackoverflow.com/questions/51527524/handle-table-inside-another-html-table-without-interfering-with-javascript/51528071#51528071", "title": "Handle table inside another HTML table without interfering with JAVASCRIPT", "body": "<p>You can use <code>querySelectorAll</code> like in the example snippet below.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var fila=document.querySelectorAll(\"#mytabla &gt; tbody &gt; tr\");\r\nalert('Number of rows: '+fila.length);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table id=\"mytabla\" class=\"table table-sm table-striped\"&gt;\r\n            &lt;tbody&gt;\r\n            &lt;tr&gt;\r\n                &lt;th id=\"#\"&gt;#&lt;/th&gt;\r\n                &lt;th id=\"Documento\" class=\"tb-gra\"&gt;Documento&lt;/th&gt;\r\n                &lt;th id=\"Fecha\"&gt;Fecha(emision)&lt;/th&gt;\r\n                &lt;th id=\"retenciones\"&gt;Retenciones&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td class=\"tb-neg\"&gt;1&lt;/td&gt;\r\n                &lt;td class=\"tb-gra\"&gt;FACTURA&lt;/td&gt;\r\n                &lt;td style=\"width:64pt\"&gt;04/06/2018&lt;/td&gt;\r\n                &lt;td&gt;SIN RETENCION&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td class=\"tb-neg\"&gt;1&lt;/td&gt;\r\n                &lt;td class=\"tb-gra\"&gt;FACTURA&lt;/td&gt;\r\n                &lt;td style=\"width:64pt\"&gt;04/06/2018&lt;/td&gt;\r\n                &lt;td&gt;SIN RETENCION&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td class=\"tb-neg\"&gt;1&lt;/td&gt;\r\n                &lt;td class=\"tb-gra\"&gt;FACTURA&lt;/td&gt;\r\n                &lt;td style=\"width:64pt\"&gt;04/06/2018&lt;/td&gt;\r\n                &lt;td&gt;\r\n                     &lt;table&gt;&lt;tbody&gt;\r\n                        &lt;tr&gt;\r\n                            &lt;td&gt;IVA&lt;/td&gt;\r\n                            &lt;td&gt;3&lt;/td&gt;\r\n                            &lt;td&gt;120.00&lt;/td&gt;\r\n                            &lt;td&gt;100.0&lt;/td&gt;\r\n                            &lt;td&gt;120.00&lt;/td&gt;\r\n                       &lt;/tr&gt;\r\n                     &lt;/tbody&gt;&lt;/table&gt;\r\n                &lt;/td&gt;\r\n            &lt;/tr&gt;\r\n&lt;/tbody&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>OR you could use <code>getElementsByClassName</code> after changing your <code>HTML</code> a little. Check this example also.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var fila = document.getElementsByClassName('mytabla');\r\nalert('Number of rows: '+fila.length);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table id=\"mytabla\" class=\"table table-sm table-striped\"&gt;\r\n            &lt;tbody&gt;\r\n            &lt;tr class=\"mytabla\"&gt;\r\n                &lt;th id=\"#\"&gt;#&lt;/th&gt;\r\n                &lt;th id=\"Documento\" class=\"tb-gra\"&gt;Documento&lt;/th&gt;\r\n                &lt;th id=\"Fecha\"&gt;Fecha(emision)&lt;/th&gt;\r\n                &lt;th id=\"retenciones\"&gt;Retenciones&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr class=\"mytabla\"&gt;\r\n                &lt;td class=\"tb-neg\"&gt;1&lt;/td&gt;\r\n                &lt;td class=\"tb-gra\"&gt;FACTURA&lt;/td&gt;\r\n                &lt;td style=\"width:64pt\"&gt;04/06/2018&lt;/td&gt;\r\n                &lt;td&gt;SIN RETENCION&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr class=\"mytabla\"&gt;\r\n                &lt;td class=\"tb-neg\"&gt;1&lt;/td&gt;\r\n                &lt;td class=\"tb-gra\"&gt;FACTURA&lt;/td&gt;\r\n                &lt;td style=\"width:64pt\"&gt;04/06/2018&lt;/td&gt;\r\n                &lt;td&gt;SIN RETENCION&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr class=\"mytabla\"&gt;\r\n                &lt;td class=\"tb-neg\"&gt;1&lt;/td&gt;\r\n                &lt;td class=\"tb-gra\"&gt;FACTURA&lt;/td&gt;\r\n                &lt;td style=\"width:64pt\"&gt;04/06/2018&lt;/td&gt;\r\n                &lt;td&gt;\r\n                     &lt;table&gt;&lt;tbody&gt;\r\n                        &lt;tr&gt;\r\n                            &lt;td&gt;IVA&lt;/td&gt;\r\n                            &lt;td&gt;3&lt;/td&gt;\r\n                            &lt;td&gt;120.00&lt;/td&gt;\r\n                            &lt;td&gt;100.0&lt;/td&gt;\r\n                            &lt;td&gt;120.00&lt;/td&gt;\r\n                       &lt;/tr&gt;\r\n                     &lt;/tbody&gt;&lt;/table&gt;\r\n                &lt;/td&gt;\r\n            &lt;/tr&gt;\r\n&lt;/tbody&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>in case you don't want to count header row change your <code>HTML</code> by using a <code>thead</code> element.    </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var fila=document.querySelectorAll(\"#mytabla &gt; tbody &gt; tr\");\r\nalert('Number of rows: '+fila.length);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table id=\"mytabla\" class=\"table table-sm table-striped\"&gt;\r\n            &lt;thead&gt;\r\n            &lt;tr&gt;\r\n                &lt;th id=\"#\"&gt;#&lt;/th&gt;\r\n                &lt;th id=\"Documento\" class=\"tb-gra\"&gt;Documento&lt;/th&gt;\r\n                &lt;th id=\"Fecha\"&gt;Fecha(emision)&lt;/th&gt;\r\n                &lt;th id=\"retenciones\"&gt;Retenciones&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n            &lt;/thead&gt;\r\n            &lt;tbody&gt;\r\n            &lt;tr&gt;\r\n                &lt;td class=\"tb-neg\"&gt;1&lt;/td&gt;\r\n                &lt;td class=\"tb-gra\"&gt;FACTURA&lt;/td&gt;\r\n                &lt;td style=\"width:64pt\"&gt;04/06/2018&lt;/td&gt;\r\n                &lt;td&gt;SIN RETENCION&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td class=\"tb-neg\"&gt;1&lt;/td&gt;\r\n                &lt;td class=\"tb-gra\"&gt;FACTURA&lt;/td&gt;\r\n                &lt;td style=\"width:64pt\"&gt;04/06/2018&lt;/td&gt;\r\n                &lt;td&gt;SIN RETENCION&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td class=\"tb-neg\"&gt;1&lt;/td&gt;\r\n                &lt;td class=\"tb-gra\"&gt;FACTURA&lt;/td&gt;\r\n                &lt;td style=\"width:64pt\"&gt;04/06/2018&lt;/td&gt;\r\n                &lt;td&gt;\r\n                     &lt;table&gt;&lt;tbody&gt;\r\n                        &lt;tr&gt;\r\n                            &lt;td&gt;IVA&lt;/td&gt;\r\n                            &lt;td&gt;3&lt;/td&gt;\r\n                            &lt;td&gt;120.00&lt;/td&gt;\r\n                            &lt;td&gt;100.0&lt;/td&gt;\r\n                            &lt;td&gt;120.00&lt;/td&gt;\r\n                       &lt;/tr&gt;\r\n                     &lt;/tbody&gt;&lt;/table&gt;\r\n                &lt;/td&gt;\r\n            &lt;/tr&gt;\r\n&lt;/tbody&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3, "user_id": 8623630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAazv.png?s=128&g=1", "display_name": "jeanpitx", "link": "https://stackoverflow.com/users/8623630/jeanpitx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 51528071, "answer_count": 4, "score": 0, "last_activity_date": 1532557198, "creation_date": 1532552218, "last_edit_date": 1532557198, "question_id": 51527524, "link": "https://stackoverflow.com/questions/51527524/handle-table-inside-another-html-table-without-interfering-with-javascript", "title": "Handle table inside another HTML table without interfering with JAVASCRIPT", "body": "<p>I have a table with <code>id=\"mytabla\"</code>, which inside contains several data, and in the last row a field called retentions that should show another table inside, in this I have no problems, thus:</p>\n\n<pre><code>&lt;table id=\"mytabla\" class=\"table table-sm table-striped\"&gt;\n            &lt;tbody&gt;\n            &lt;tr&gt;\n                &lt;th id=\"#\"&gt;#&lt;/th&gt;\n                &lt;th id=\"Documento\" class=\"tb-gra\"&gt;Documento&lt;/th&gt;\n                &lt;th id=\"Fecha\"&gt;Fecha(emision)&lt;/th&gt;\n                &lt;th id=\"retenciones\"&gt;Retenciones&lt;/th&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td class=\"tb-neg\"&gt;1&lt;/td&gt;\n                &lt;td class=\"tb-gra\"&gt;FACTURA&lt;/td&gt;\n                &lt;td style=\"width:64pt\"&gt;04/06/2018&lt;/td&gt;\n                &lt;td&gt;SIN RETENCION&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td class=\"tb-neg\"&gt;1&lt;/td&gt;\n                &lt;td class=\"tb-gra\"&gt;FACTURA&lt;/td&gt;\n                &lt;td style=\"width:64pt\"&gt;04/06/2018&lt;/td&gt;\n                &lt;td&gt;SIN RETENCION&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td class=\"tb-neg\"&gt;1&lt;/td&gt;\n                &lt;td class=\"tb-gra\"&gt;FACTURA&lt;/td&gt;\n                &lt;td style=\"width:64pt\"&gt;04/06/2018&lt;/td&gt;\n                &lt;td&gt;\n                     &lt;table&gt;&lt;tbody&gt;\n                        &lt;tr&gt;\n                            &lt;td&gt;IVA&lt;/td&gt;\n                            &lt;td&gt;3&lt;/td&gt;\n                            &lt;td&gt;120.00&lt;/td&gt;\n                            &lt;td&gt;100.0&lt;/td&gt;\n                            &lt;td&gt;120.00&lt;/td&gt;\n                       &lt;/tr&gt;\n                     &lt;/tbody&gt;&lt;/table&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>in javascript I want to select the table and count the rows, but also tell me those of the second table, as I do so that the second table does not count or do not take it into account, I use this code:</p>\n\n<pre><code>var table = document.getElementById(\"mytabla\");\nvar fila=document.getElementById(\"mytabla\").getElementsByTagName('tr');\nvar row=table.insertRow(parseInt(fila.length);\nvar cantidaddefilas=fila.length;\n</code></pre>\n\n<p>but he is telling me those of the second table, as I do so that he does not count those.</p>\n"}, {"tags": ["javascript", "vue.js", "datatable", "vuetify.js"], "comments": [{"owner": {"reputation": 14690, "user_id": 1981247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yhKmV.jpg?s=128&g=1", "display_name": "Traxo", "link": "https://stackoverflow.com/users/1981247/traxo"}, "edited": false, "score": 1, "creation_date": 1532553970, "post_id": 51527489, "comment_id": 90024394, "body": "What do you mean <code>width</code> doesn&#39;t work? It should be string e.g. <code>width:&quot;10%&quot;</code> or <code>width:&quot;10&quot;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 14690, "user_id": 1981247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yhKmV.jpg?s=128&g=1", "display_name": "Traxo", "link": "https://stackoverflow.com/users/1981247/traxo"}, "edited": false, "score": 0, "creation_date": 1532553499, "post_id": 51527651, "comment_id": 90024217, "body": "OP wants headers close to <i>each other</i> afaiu (so width should be altered)?"}, {"owner": {"reputation": 7965, "user_id": 6242613, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/X5cUu.jpg?s=128&g=1", "display_name": "V. Sambor", "link": "https://stackoverflow.com/users/6242613/v-sambor"}, "reply_to_user": {"reputation": 14690, "user_id": 1981247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yhKmV.jpg?s=128&g=1", "display_name": "Traxo", "link": "https://stackoverflow.com/users/1981247/traxo"}, "edited": false, "score": 1, "creation_date": 1532554206, "post_id": 51527651, "comment_id": 90024484, "body": "@Traxo you are right, I misunderstand the question, but yes, he can play with td&#39;s width then"}, {"owner": {"reputation": 3916, "user_id": 974925, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d279d9f0a1e6847b048e9c742e281cb1?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/974925/tom"}, "edited": false, "score": 0, "creation_date": 1532605488, "post_id": 51527651, "comment_id": 90043518, "body": "@V.Sambor I tried your CodePen and used different values but the problem still exists.  Here is my updated example: <a href=\"https://codepen.io/anon/pen/ajyjLZ\" rel=\"nofollow noreferrer\">codepen.io/anon/pen/ajyjLZ</a>"}], "tags": [], "owner": {"reputation": 7965, "user_id": 6242613, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/X5cUu.jpg?s=128&g=1", "display_name": "V. Sambor", "link": "https://stackoverflow.com/users/6242613/v-sambor"}, "is_accepted": false, "score": 0, "last_activity_date": 1532589544, "last_edit_date": 1532589544, "creation_date": 1532552792, "answer_id": 51527651, "question_id": 51527489, "link": "https://stackoverflow.com/questions/51527489/change-the-default-width-of-a-vuetifyjs-datatable-cell/51527651#51527651", "title": "Change the default width of a VuetifyJS DataTable cell", "body": "<p>You can play with CSS, override their classes. Try modifying <code>td</code>'s <code>width</code></p>\n\n<p>Here you have a code pen: <a href=\"https://codepen.io/anon/pen/gjxPMJ\" rel=\"nofollow noreferrer\">https://codepen.io/anon/pen/gjxPMJ</a></p>\n\n<p>I have also aligned text to the left for td :<code>&lt;td class=\"text-xs-left\"&gt;</code><br></p>\n\n<p>Just play with the width value to get what you want, you can use percentages as well.</p>\n"}, {"comments": [{"owner": {"reputation": 3916, "user_id": 974925, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d279d9f0a1e6847b048e9c742e281cb1?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/974925/tom"}, "edited": false, "score": 0, "creation_date": 1532801294, "post_id": 51569928, "comment_id": 90113746, "body": "Thanks but the space between each column is still the same. I need the columns to be much closer together. How to do that?"}, {"owner": {"reputation": 4833, "user_id": 4303704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iyh5S.png?s=128&g=1", "display_name": "Max Sinev", "link": "https://stackoverflow.com/users/4303704/max-sinev"}, "reply_to_user": {"reputation": 3916, "user_id": 974925, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d279d9f0a1e6847b048e9c742e281cb1?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/974925/tom"}, "edited": false, "score": 1, "creation_date": 1532812006, "post_id": 51569928, "comment_id": 90116247, "body": "In my example table tries to fill as few space as possible, if you want columns to be much closer then there is only one way to decrease padding of <code>th</code> and <code>td</code> elements (<code>table.v-table tbody td</code> and <code>table.v-table thead th</code> selectors). I updated answer codepen"}], "tags": [], "owner": {"reputation": 4833, "user_id": 4303704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iyh5S.png?s=128&g=1", "display_name": "Max Sinev", "link": "https://stackoverflow.com/users/4303704/max-sinev"}, "is_accepted": true, "score": 19, "last_activity_date": 1532812023, "last_edit_date": 1532812023, "creation_date": 1532769947, "answer_id": 51569928, "question_id": 51527489, "link": "https://stackoverflow.com/questions/51527489/change-the-default-width-of-a-vuetifyjs-datatable-cell/51569928#51569928", "title": "Change the default width of a VuetifyJS DataTable cell", "body": "<p>You can add another empty header and set <code>width</code> of every column to min value(1%), except empty to make it fill all free space. Also you need to add empty <code>td</code> to table body template to make grey row dividers visible.</p>\n\n<p>See codepen: <a href=\"https://codepen.io/anon/pen/WKXwOR\" rel=\"noreferrer\">https://codepen.io/anon/pen/WKXwOR</a></p>\n"}, {"tags": [], "owner": {"reputation": 1621, "user_id": 11624647, "user_type": "registered", "profile_image": "https://graph.facebook.com/568460507014289/picture?type=large", "display_name": "&#223;&#227;l&#227;j&#238;", "link": "https://stackoverflow.com/users/11624647/%c3%9f%c3%a3l%c3%a3j%c3%ae"}, "is_accepted": false, "score": 0, "last_activity_date": 1617620079, "last_edit_date": 1617620079, "creation_date": 1617618447, "answer_id": 66951550, "question_id": 51527489, "link": "https://stackoverflow.com/questions/51527489/change-the-default-width-of-a-vuetifyjs-datatable-cell/66951550#66951550", "title": "Change the default width of a VuetifyJS DataTable cell", "body": "<p>Just add   (width,align) in your header</p>\n<pre><code> &lt;v-data-table\n      :headers=&quot;headers&quot;\n      :items=&quot;desserts&quot;\n      class=&quot;elevation-1&quot;\n    &gt;\n &lt;/v-data-table&gt;\n</code></pre>\n<p>header looks like</p>\n<pre><code> header:[ {\n        text: 'Dessert ',\n          align: 'center',&lt;------------to align left/center/right/\n          value: 'name',\n          width: &quot;1%&quot;//&lt;-------------------asign width/\n        },\n   ]\n</code></pre>\n<p>Vuetify header options:</p>\n<pre><code>{\n  text: string\n  value: string\n  align: 'left' | 'center' | 'right'\n  sortable: boolean\n  class: string[] | string\n  width: string\n}\n</code></pre>\n"}], "owner": {"reputation": 3916, "user_id": 974925, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d279d9f0a1e6847b048e9c742e281cb1?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/974925/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49873, "favorite_count": 1, "accepted_answer_id": 51569928, "answer_count": 3, "score": 23, "last_activity_date": 1617620079, "creation_date": 1532552035, "last_edit_date": 1532617674, "question_id": 51527489, "link": "https://stackoverflow.com/questions/51527489/change-the-default-width-of-a-vuetifyjs-datatable-cell", "title": "Change the default width of a VuetifyJS DataTable cell", "body": "<p>I'm using the <a href=\"https://vuetifyjs.com/en/components/data-tables#introduction\" rel=\"noreferrer\">VuetifyJS Data Table</a> and I need to move the entries of each header cell as close as possible to each other. \nI tried to add a <em>width</em> to each header but that didn't work - it seems there is a predefined width one can't go below. </p>\n\n<p>Update: This is how it should look like - the margin between each row should be fixed at 10px:\n<a href=\"https://i.stack.imgur.com/tLGSV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tLGSV.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is a CodePen example:</p>\n\n<blockquote>\n<pre><code>https://codepen.io/anon/pen/ejEpKZ?&amp;editors=101\n</code></pre>\n</blockquote>\n\n<pre><code> &lt;div id=\"app\"&gt;\n  &lt;v-app id=\"inspire\"&gt;\n    &lt;v-data-table\n      :headers=\"headers\"\n      :items=\"desserts\"\n      class=\"elevation-1\"\n    &gt;\n      &lt;template slot=\"headerCell\" slot-scope=\"props\"&gt;\n        &lt;v-tooltip bottom&gt;\n          &lt;span slot=\"activator\"&gt;\n            {{ props.header.text }}\n          &lt;/span&gt;\n          &lt;span&gt;\n            {{ props.header.text }}\n          &lt;/span&gt;\n        &lt;/v-tooltip&gt;\n      &lt;/template&gt;\n      &lt;template slot=\"items\" slot-scope=\"props\"&gt;\n        &lt;td&gt;{{ props.item.name }}&lt;/td&gt;\n        &lt;td class=\"text-xs-right\"&gt;{{ props.item.calories }}&lt;/td&gt;\n        &lt;td class=\"text-xs-right\"&gt;{{ props.item.fat }}&lt;/td&gt;\n        &lt;td class=\"text-xs-right\"&gt;{{ props.item.carbs }}&lt;/td&gt;\n        &lt;td class=\"text-xs-right\"&gt;{{ props.item.protein }}&lt;/td&gt;\n        &lt;td class=\"text-xs-right\"&gt;{{ props.item.iron }}&lt;/td&gt;\n      &lt;/template&gt;\n    &lt;/v-data-table&gt;\n  &lt;/v-app&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>How to get them close together?</p>\n"}, {"tags": ["javascript", "arrays", "filter"], "comments": [{"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 0, "creation_date": 1532552358, "post_id": 51527487, "comment_id": 90023706, "body": "Array is not a key-value store... <code>filteredArray[&#39;biology&#39;]</code> looks incorrect to me."}, {"owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1532552538, "post_id": 51527487, "comment_id": 90023785, "body": "Also, just an FYI, <code>var filteredArray = [];</code> is not an array, it&#39;s actually an object if you&#39;re defining properties like <code>filteredArray[&#39;biology&#39;]</code>."}, {"owner": {"reputation": 29, "user_id": 7672959, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0fKfTxj7fYo/AAAAAAAAAAI/AAAAAAAADQE/GcmC1zRvCT0/photo.jpg?sz=128", "display_name": "Wes", "link": "https://stackoverflow.com/users/7672959/wes"}, "reply_to_user": {"reputation": 45386, "user_id": 1264804, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/oYX71.png?s=128&g=1", "display_name": "isherwood", "link": "https://stackoverflow.com/users/1264804/isherwood"}, "edited": false, "score": 0, "creation_date": 1532553073, "post_id": 51527487, "comment_id": 90024036, "body": "@isherwood I&#39;ll take note. Dire need got the upper hand this time."}], "answers": [{"comments": [{"owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1532552376, "post_id": 51527521, "comment_id": 90023712, "body": "Why do you use <code>Object.create(null)</code> instead of <code>{}</code>?"}, {"owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "reply_to_user": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1532552577, "post_id": 51527521, "comment_id": 90023805, "body": "@FrankerZ It creates an empty object without prototype, and it prevents this statement - <code>r[o.subject] || []</code> from not initializing an array because the subject&#39;s name is <code>toString</code>, for example. In this case it&#39;s probably not necessary, but it&#39;s a good precaution."}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1532552746, "post_id": 51527521, "comment_id": 90023881, "body": "Returning a prototype-less object also means it has none of the methods one would expect on an objects. For example <code>grouped.hasOwnProperty(&#39;biology&#39;)</code> is a (potentially surprising) TypeError."}, {"owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "reply_to_user": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1532552828, "post_id": 51527521, "comment_id": 90023917, "body": "@MarkMeyer - indeed. So it depends on what is the content you are trying to group, and what you&#39;ll use the object for."}, {"owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "reply_to_user": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 1, "creation_date": 1532552885, "post_id": 51527521, "comment_id": 90023956, "body": "@MarkMeyer - a better option is to actually use a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\" rel=\"nofollow noreferrer\">Map</a>, and avoid these problems altogether."}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1532552952, "post_id": 51527521, "comment_id": 90023994, "body": "@OriDrori yes, it makes the solution a little wordier, but probably a cleaner result."}], "tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": false, "score": 5, "last_activity_date": 1532552412, "last_edit_date": 1532552412, "creation_date": 1532552199, "answer_id": 51527521, "question_id": 51527487, "link": "https://stackoverflow.com/questions/51527487/is-there-a-more-efficient-way-to-filter-this-array-of-objects/51527521#51527521", "title": "Is there a more efficient way to filter this array of objects?", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"nofollow noreferrer\"><strong><code>Array.reduce()</code></strong></a> to group the items by subject:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const results = [{\"id\":1,\"subject\":\"biology\",\"grade\":10},{\"id\":2,\"subject\":\"biology\",\"grade\":3},{\"id\":3,\"subject\":\"math\",\"grade\":4},{\"id\":4,\"subject\":\"biology\",\"grade\":2},{\"id\":5,\"subject\":\"geography\",\"grade\":1},{\"id\":6,\"subject\":\"physics\",\"grade\":3}];\r\n\r\nconst grouped = results.reduce((r, o) =&gt; {\r\n  r[o.subject] = r[o.subject] || [];\r\n  \r\n  r[o.subject].push(o);\r\n\r\n  return r;\r\n}, Object.create(null));\r\n\r\nconsole.log(grouped);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And it's easy to create a more generic <code>groupBy</code> function:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const groupBy = (prop, arr) =&gt; arr.reduce((r, o) =&gt; {\r\n  r[o[prop]] = r[o[prop]] || [];\r\n  \r\n  r[o[prop]].push(o);\r\n\r\n  return r;\r\n}, Object.create(null));\r\n\r\nconst results = [{\"id\":1,\"subject\":\"biology\",\"grade\":10},{\"id\":2,\"subject\":\"biology\",\"grade\":3},{\"id\":3,\"subject\":\"math\",\"grade\":4},{\"id\":4,\"subject\":\"biology\",\"grade\":2},{\"id\":5,\"subject\":\"geography\",\"grade\":1},{\"id\":6,\"subject\":\"physics\",\"grade\":3}];\r\n\r\nconst grouped = groupBy('subject', results);\r\n\r\nconsole.log(grouped);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "is_accepted": false, "score": 3, "last_activity_date": 1532553672, "last_edit_date": 1532553672, "creation_date": 1532552299, "answer_id": 51527547, "question_id": 51527487, "link": "https://stackoverflow.com/questions/51527487/is-there-a-more-efficient-way-to-filter-this-array-of-objects/51527547#51527547", "title": "Is there a more efficient way to filter this array of objects?", "body": "<p>Try reduce:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const results = [\r\n  {id: 1, subject: 'biology', grade: 10},\r\n  {id: 2, subject: 'biology', grade: 3},\r\n  {id: 3, subject: 'math', grade: 4},\r\n  {id: 4, subject: 'biology', grade: 2},\r\n  {id: 5, subject: 'geography', grade: 1},\r\n  {id: 6, subject: 'physics', grade: 3}\r\n];\r\n\r\nconst filteredArray = results.reduce((obj, item) =&gt; {\r\n  if (typeof obj[item.subject] === 'undefined') {\r\n    obj[item.subject] = [item];\r\n  } else {\r\n    obj[item.subject].push(item);\r\n  }\r\n  \r\n  return obj;\r\n}, {});\r\n\r\nconsole.log(filteredArray);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>With fancy es6 <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/get\" rel=\"nofollow noreferrer\">maps</a>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const results = [\r\n  {id: 1, subject: 'biology', grade: 10},\r\n  {id: 2, subject: 'biology', grade: 3},\r\n  {id: 3, subject: 'math', grade: 4},\r\n  {id: 4, subject: 'biology', grade: 2},\r\n  {id: 5, subject: 'geography', grade: 1},\r\n  {id: 6, subject: 'physics', grade: 3}\r\n];\r\n\r\nconst filteredArray = results.reduce((obj, item) =&gt; {\r\n  const val = obj.get(item.subject) || [];\r\n  \r\n  val.push(item);\r\n  obj.set(item.subject, val);\r\n  \r\n  return obj;\r\n}, new Map());\r\n\r\nfor (const [subj, val] of filteredArray) {\r\n  console.log(subj, val.length);\r\n}\r\n// console.log(JSON.stringify([...filteredArray]));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 4064, "user_id": 6121568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rLuNu.jpg?s=128&g=1", "display_name": "Emeeus", "link": "https://stackoverflow.com/users/6121568/emeeus"}, "is_accepted": false, "score": 1, "last_activity_date": 1532571286, "last_edit_date": 1532571286, "creation_date": 1532570798, "answer_id": 51529984, "question_id": 51527487, "link": "https://stackoverflow.com/questions/51527487/is-there-a-more-efficient-way-to-filter-this-array-of-objects/51529984#51529984", "title": "Is there a more efficient way to filter this array of objects?", "body": "<p>Using <code>.map()</code> to group an array of objects based of one of its properties:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const results = [{ id: 1, subject: 'biology', grade: 10 },\r\n    { id: 2, subject: 'biology', grade: 3 },\r\n    { id: 3, subject: 'math', grade: 4 },\r\n    { id: 4, subject: 'biology', grade: 2 },\r\n    { id: 5, subject: 'geography', grade: 1 },\r\n    { id: 6, subject: 'physics', grade: 3 }\r\n];\r\n\r\nvar filtered = {};\r\nresults.map((o, i) =&gt; {\r\n    if (!(o.subject in filtered)) filtered[o.subject] = [];   \r\n    filtered[o.subject].push(results[i]);\r\n});\r\n\r\nconsole.log(filtered)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>In this case, I prefer this way instead of <code>.reduce()</code> because the concept is more neat, if a property doesn't exist we create it in a new object, if is already created in the new object, we add the element.</p>\n"}], "owner": {"reputation": 29, "user_id": 7672959, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0fKfTxj7fYo/AAAAAAAAAAI/AAAAAAAADQE/GcmC1zRvCT0/photo.jpg?sz=128", "display_name": "Wes", "link": "https://stackoverflow.com/users/7672959/wes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1532571286, "creation_date": 1532552022, "last_edit_date": 1532552947, "question_id": 51527487, "link": "https://stackoverflow.com/questions/51527487/is-there-a-more-efficient-way-to-filter-this-array-of-objects", "title": "Is there a more efficient way to filter this array of objects?", "body": "<p>I'm working with this array of objects and I try to filter and reorder it based on matching <strong>subjects</strong>. The array looks somewhat like this:</p>\n\n<pre><code>const results = [\n  {id: 1, subject: 'biology', grade: 10},\n  {id: 2, subject: 'biology', grade: 3},\n  {id: 3, subject: 'math', grade: 4},\n  {id: 4, subject: 'biology', grade: 2},\n  {id: 5, subject: 'geography', grade: 1},\n  {id: 6, subject: 'physics', grade: 3}\n]\n</code></pre>\n\n<p>It's likely there will be added more subjects in the future. \nWith an over-abundant filtering method, I can arrange them the way I want:</p>\n\n<pre><code>var filteredObj = {};\n\nfilteredObj['biology'] = this.results.filter(function (result) {\n    return result.subject === 'biology';\n});\nfilteredObj['math'] = this.results.filter(function (result) {\n    return result.subject === 'math';\n});\nfilteredObj['physics'] = this.results.filter(function (result) {\n    return result.subject === 'physics';\n});\nfilteredObj['geography'] = this.results.filter(function (result) {\n    return result.subject === 'geography';\n});\n</code></pre>\n\n<p>Is there a way more efficient way of doing this?</p>\n"}, {"tags": ["javascript", "angularjs", "amazon-cloudfront"], "comments": [{"owner": {"reputation": 27055, "user_id": 5923139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dvoYw.png?s=128&g=1", "display_name": "Aplet123", "link": "https://stackoverflow.com/users/5923139/aplet123"}, "edited": false, "score": 0, "creation_date": 1532554007, "post_id": 51527485, "comment_id": 90024409, "body": "Any error messages?"}, {"owner": {"reputation": 1112, "user_id": 2093377, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/800d5baf489f0f4dc297e46cb5809d6f?s=128&d=identicon&r=PG", "display_name": "Will Lovett", "link": "https://stackoverflow.com/users/2093377/will-lovett"}, "reply_to_user": {"reputation": 27055, "user_id": 5923139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dvoYw.png?s=128&g=1", "display_name": "Aplet123", "link": "https://stackoverflow.com/users/5923139/aplet123"}, "edited": false, "score": 0, "creation_date": 1532559291, "post_id": 51527485, "comment_id": 90025947, "body": "@Aplet123 No, that&#39;s part of what&#39;s weird.  The code runs fine, just doesn&#39;t play any sound when browser is reading from CloudFront."}, {"owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 1, "creation_date": 1532559929, "post_id": 51527485, "comment_id": 90026085, "body": "Your audio link isn&#39;t pointing to CloudFront.  Are you sure you&#39;re not getting a CORS error?"}, {"owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1532559973, "post_id": 51527485, "comment_id": 90026096, "body": "If you just put the audio URL in the address bar, does it play?"}, {"owner": {"reputation": 1112, "user_id": 2093377, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/800d5baf489f0f4dc297e46cb5809d6f?s=128&d=identicon&r=PG", "display_name": "Will Lovett", "link": "https://stackoverflow.com/users/2093377/will-lovett"}, "reply_to_user": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1532606391, "post_id": 51527485, "comment_id": 90044067, "body": "@Michael-sqlbot CORS it is!  I changed the URL and it worked.  There just wasn&#39;t any error thrown in the console, but I should have given the URL a try.  Dang.   Thank you!"}], "owner": {"reputation": 1112, "user_id": 2093377, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/800d5baf489f0f4dc297e46cb5809d6f?s=128&d=identicon&r=PG", "display_name": "Will Lovett", "link": "https://stackoverflow.com/users/2093377/will-lovett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540677230, "creation_date": 1532552013, "last_edit_date": 1540677230, "question_id": 51527485, "link": "https://stackoverflow.com/questions/51527485/javascripts-new-audio-not-working-in-conjunction-with-aws-cloudfront-cors", "title": "JavaScript&#39;s &quot;new Audio&quot; not working in conjunction with AWS Cloudfront (CORS)", "body": "<p>I've got an AngularJs app that users Pusher (<a href=\"https://pusher.com/\" rel=\"nofollow noreferrer\">https://pusher.com/</a>) to receive notifications from a back-end service.  Once the notification is received, a short \"beep\" is played.</p>\n\n<p>The problem is that this beep sound works when I run this code through localhost on my Chrome browser, but does NOT when I visit my AWS CloudFront URL.</p>\n\n<p>Does JavaScript's new Audio(...) work differently when played through AWS CloudFront?</p>\n\n<pre><code>        var pusher = null,\n            channel = null,\n            beep = new Audio('https://s3.amazonaws.com/myawsbucket/sounds/beep1.mp3');\n\n        // Firebase Auth's on State Change\n        // Register to pusher notification channel when user logs in\n        Auth.$onAuthStateChanged(function (currentUser) {\n\n            // If desktop version, use pusher to receive notifications\n            if (currentUser &amp;&amp; !VersioningService.isApp()) {\n\n                if (!pusher) {\n                    // register a pusher instance\n                    pusher = new Pusher(PUSHER_KEY, {\n                        \"cluster\": \"us2\",\n                        \"encrypted\": true\n                    });\n                }\n\n                if (!channel) {\n                    // register to a pusher channel and listen for notifications\n                    console.log(\"Subscribing to \" + currentUser.uid);\n                    channel = pusher.subscribe(currentUser.uid);\n                    channel.bind('notification', function (data) {\n                        // create two copies so you can play it twice back to back\n                        var copyOfBeep = beep.cloneNode(),\n                            copyOfBeep2 = beep.cloneNode();\n\n                        try {\n                            // This makes a sound on my local, but does not when hosted from cloudfront\n                            copyOfBeep.play();\n                            setTimeout(function () {\n                                copyOfBeep2.play();\n                            }, 400)\n                        } catch (e) {\n                            console.log(e);\n                        }\n                    });\n                }\n            }\n        });\n</code></pre>\n\n<p>** UPDATE **</p>\n\n<p>The problem was the URL passed into new Audio(...).  Even though an error wasn't thrown in the console, it must have been a CORS error.  Changing the URL to the appropriate CloudFront URL did the trick.  </p>\n\n<p>** UPDATE 2 **</p>\n\n<p>Looks like Chrome Extensions like disabling HTML5 auto-play will turn off the sounds as well.  Just spent about 3 hours wondering what was going on with that one.  Beware.</p>\n"}, {"tags": ["javascript", "google-chrome", "webgl"], "comments": [{"owner": {"reputation": 2955, "user_id": 3819007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6hvpZ.png?s=128&g=1", "display_name": "visibleman", "link": "https://stackoverflow.com/users/3819007/visibleman"}, "edited": false, "score": 1, "creation_date": 1532579022, "post_id": 51527478, "comment_id": 90029750, "body": "A canvas element might be created on the fly, but not added to document, to use for image export or something similar.  Also, if you haven&#39;t vetted all third party libs carefully, consider that there could be a small risk that some 3d party library is doing something buggy, or outright nefarious."}, {"owner": {"reputation": 1735, "user_id": 1825352, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/067fb9b3cb13dad6213bef89212cad90?s=128&d=identicon&r=PG", "display_name": "yts", "link": "https://stackoverflow.com/users/1825352/yts"}, "reply_to_user": {"reputation": 2955, "user_id": 3819007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6hvpZ.png?s=128&g=1", "display_name": "visibleman", "link": "https://stackoverflow.com/users/3819007/visibleman"}, "edited": false, "score": 0, "creation_date": 1532621556, "post_id": 51527478, "comment_id": 90054320, "body": "@visibleman It is indeed a third party script we use for fraud detection that&#39;s creating the element in JS. It only seems to break on our website though. I visited other sites that also load this script and it doesn&#39;t cause this crash. It&#39;s an interesting bug.."}, {"owner": {"reputation": 2955, "user_id": 3819007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6hvpZ.png?s=128&g=1", "display_name": "visibleman", "link": "https://stackoverflow.com/users/3819007/visibleman"}, "edited": false, "score": 0, "creation_date": 1532646746, "post_id": 51527478, "comment_id": 90065008, "body": "Without more information about the library and what it is doing with the canvas, it is difficult to tell.  The only thing I can think of at this point is to make sure that the 3d party script is not initiated twice."}], "answers": [{"comments": [{"owner": {"reputation": 1735, "user_id": 1825352, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/067fb9b3cb13dad6213bef89212cad90?s=128&d=identicon&r=PG", "display_name": "yts", "link": "https://stackoverflow.com/users/1825352/yts"}, "edited": false, "score": 0, "creation_date": 1532620861, "post_id": 51530876, "comment_id": 90053899, "body": "Nice idea! I was able to verify with this that there is a third party script calling this, and that&#39;s when it breaks. Now I have to figure out why this only breaks when running on our domain, but not when the same code is run on others"}], "tags": [], "owner": {"reputation": 82151, "user_id": 128511, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/KwGaJ.png?s=128&g=1", "display_name": "gman", "link": "https://stackoverflow.com/users/128511/gman"}, "is_accepted": true, "score": 2, "last_activity_date": 1532578258, "creation_date": 1532578258, "answer_id": 51530876, "question_id": 51527478, "link": "https://stackoverflow.com/questions/51527478/chrome-debug-webgl-crashing-rats-webgl-hit-a-snag/51530876#51530876", "title": "Chrome - debug WebGL crashing (&quot;Rats! WebGL hit a snag.&quot;)", "body": "<p>Add </p>\n\n<pre><code>HTMLCanvasElement.prototype.getContext = (function(origFn) {\n  return function(...args) {\n    debugger;\n    return origFn.call(this, ...args);\n  };\n}(HTMLCanvasElement.prototype.getContext));\n</code></pre>\n\n<p>To the top of your page then open the debugger and see where it breaks?</p>\n"}], "owner": {"reputation": 1735, "user_id": 1825352, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/067fb9b3cb13dad6213bef89212cad90?s=128&d=identicon&r=PG", "display_name": "yts", "link": "https://stackoverflow.com/users/1825352/yts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 51530876, "answer_count": 1, "score": 0, "last_activity_date": 1532624648, "creation_date": 1532551965, "last_edit_date": 1532624648, "question_id": 51527478, "link": "https://stackoverflow.com/questions/51527478/chrome-debug-webgl-crashing-rats-webgl-hit-a-snag", "title": "Chrome - debug WebGL crashing (&quot;Rats! WebGL hit a snag.&quot;)", "body": "<p>Our company recently upgraded our PC's to Windows 10, and ever since then we've constantly been getting the \"Rats! WebGL hit a snag.\" message when browsing our website. We might normally brush this off as an internal network/pc issue, but this error only occurs on our own website. Browsing other websites does not cause this error. We're therefore concerned that some of our users out there might be experiencing this as well.</p>\n\n<p>We don't use WebGL to my knowledge, and <code>document.querySelectorAll('canvas')</code> doesn't find any elements.</p>\n\n<p>Is it possible to debug this to find the cause of the crash?</p>\n\n<p><strong>Update</strong></p>\n\n<p>It is a third party script that's trying to use WebGL, but it's pretty innocent and shouldn't be a problem. Now the question is, how can I determine why the following code causes a crash on our website?</p>\n\n<pre><code>let canvas = document.createElement('canvas');\ncanvas.getContext('webgl');\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "internationalization"], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 10055579, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_7scZyW1KuE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7poefpHX7gus7zPHiUSDqfF4ueAAQ/mo/photo.jpg?sz=128", "display_name": "12345GG", "link": "https://stackoverflow.com/users/10055579/12345gg"}, "edited": false, "score": 0, "creation_date": 1532552721, "post_id": 51527592, "comment_id": 90023875, "body": "your solution is amazing.Do we have a easier way?"}, {"owner": {"reputation": 21, "user_id": 2561602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F2jfJ.jpg?s=128&g=1", "display_name": "HumbertoWoody", "link": "https://stackoverflow.com/users/2561602/humbertowoody"}, "reply_to_user": {"reputation": 91, "user_id": 10055579, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_7scZyW1KuE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7poefpHX7gus7zPHiUSDqfF4ueAAQ/mo/photo.jpg?sz=128", "display_name": "12345GG", "link": "https://stackoverflow.com/users/10055579/12345gg"}, "edited": false, "score": 1, "creation_date": 1532552910, "post_id": 51527592, "comment_id": 90023971, "body": "@12345GG There&#39;s no point in trying to render markup inside a tag of <code>i18n</code>, it also gives you the ability to handle the tags without actually messing with your markup (which can change over time)"}, {"owner": {"reputation": 21, "user_id": 2561602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F2jfJ.jpg?s=128&g=1", "display_name": "HumbertoWoody", "link": "https://stackoverflow.com/users/2561602/humbertowoody"}, "reply_to_user": {"reputation": 91, "user_id": 10055579, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_7scZyW1KuE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7poefpHX7gus7zPHiUSDqfF4ueAAQ/mo/photo.jpg?sz=128", "display_name": "12345GG", "link": "https://stackoverflow.com/users/10055579/12345gg"}, "edited": false, "score": 0, "creation_date": 1532553633, "post_id": 51527592, "comment_id": 90024270, "body": "@12345GG I updated my answer with this clarification"}], "tags": [], "owner": {"reputation": 21, "user_id": 2561602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F2jfJ.jpg?s=128&g=1", "display_name": "HumbertoWoody", "link": "https://stackoverflow.com/users/2561602/humbertowoody"}, "is_accepted": false, "score": 1, "last_activity_date": 1532553613, "last_edit_date": 1532553613, "creation_date": 1532552534, "answer_id": 51527592, "question_id": 51527473, "link": "https://stackoverflow.com/questions/51527473/how-to-include-strong-tag-in-18n/51527592#51527592", "title": "how to include &lt;strong&gt; tag in 18n", "body": "<p>I suggest you split your tag into two different tags. </p>\n\n<p>So your current: </p>\n\n<pre><code>\"step5\":{\n  \"message\": \"Press Start.&lt;strong&gt;Warning:&lt;/strong&gt;\"\n}\n</code></pre>\n\n<p>Becomes:</p>\n\n<pre><code>\"step5\" : {\n  \"message\": \"Press Start.\",\n  \"message_warning\": \"Warning:\",\n}\n</code></pre>\n\n<p>This way, your markup is unchanged, and whenever you need to update it, you can reuse the tags you defined before.</p>\n\n<p>Let's assume you're using a template engine such as <a href=\"https://pugjs.org/\" rel=\"nofollow noreferrer\">Pug</a>, with this kind of markup:</p>\n\n<pre><code>.alert\n  p Press Start!\n    strong Warning!\n</code></pre>\n\n<p>Over time, you probably will need to change the markup to something like:</p>\n\n<pre><code>.new-alert\n  p Press Start\n(...)\n.another-div\n  button Warning!\n</code></pre>\n\n<p>Using tag separation, this change will not affect markup as it focuses on the text and not the actual markup. </p>\n"}], "owner": {"reputation": 91, "user_id": 10055579, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_7scZyW1KuE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7poefpHX7gus7zPHiUSDqfF4ueAAQ/mo/photo.jpg?sz=128", "display_name": "12345GG", "link": "https://stackoverflow.com/users/10055579/12345gg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1532553613, "creation_date": 1532551951, "last_edit_date": 1532552109, "question_id": 51527473, "link": "https://stackoverflow.com/questions/51527473/how-to-include-strong-tag-in-18n", "title": "how to include &lt;strong&gt; tag in 18n", "body": "<p>on my message.json file </p>\n\n<pre><code>\"step5\":{\n     \"message\": \"Press Start.&lt;strong&gt;Warning:&lt;/strong&gt;\n    }\n</code></pre>\n\n<p>it finally shows like this </p>\n\n<p><code>Press Start.&lt;strong&gt;Warning:&lt;/strong&gt;</code></p>\n\n<p>but i want to show it like this Press Start Warning:\n(warning should be strong in the front end, what i should do?)</p>\n"}, {"tags": ["javascript", "angular", "testing", "jasmine", "karma-jasmine"], "comments": [{"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1532552265, "post_id": 51527464, "comment_id": 90023661, "body": "Have a look at this answer: <a href=\"https://stackoverflow.com/a/44508549/4694994\">stackoverflow.com/a/44508549/4694994</a>"}, {"owner": {"reputation": 3169, "user_id": 1404347, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/46fdbcdbe59c0e028949726dbef448c8?s=128&d=identicon&r=PG", "display_name": "AskYous", "link": "https://stackoverflow.com/users/1404347/askyous"}, "reply_to_user": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1532552560, "post_id": 51527464, "comment_id": 90023799, "body": "@KimKern, I have to import all the modules that were in <code>app.module.ts</code> into <code>app.component.spec.ts</code> as well?"}, {"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1532552648, "post_id": 51527464, "comment_id": 90023840, "body": "No, only those that are used by the tested component. Better than importing would be mocking them. You want to test your component in isolation. Some modules offer test implementations, like the <code>RouterTestingModule</code>."}], "answers": [{"tags": [], "owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "is_accepted": true, "score": 0, "last_activity_date": 1532552503, "creation_date": 1532552503, "answer_id": 51527587, "question_id": 51527464, "link": "https://stackoverflow.com/questions/51527464/10-specs-10-failures-cant-bind-to-routerlink-since-it-isnt-a-known-proper/51527587#51527587", "title": "10 specs, 10 failures - Can&#39;t bind to &#39;routerLink&#39; since it isn&#39;t a known property of &#39;button&#39;", "body": "<p>You need to import the <code>RouterTestingModule</code> in your test's module declaration. The same with all material components you are using. Either also import the <code>MatButtonModule</code> in your test or mock all used components and directives as described in this <a href=\"https://stackoverflow.com/a/44508549/4694994\">SO answer</a>. Unit tests have their own module declaration, so that they can be tested in isolation. This means, that you need to import all dependencies again or mock them.</p>\n\n<p>Another option is to use <code>NO_ERRORS_SCHEMA</code> but I would not recommend this. This will only work in cases where you do not use any logic from your imports.</p>\n\n<pre><code>describe('AppComponent', () =&gt; {\nbeforeEach(async(() =&gt; {\n  TestBed.configureTestingModule({\n    declarations: [\n      AppComponent\n    ],\n    schemas: [NO_ERRORS_SCHEMA]\n  }).compileComponents();\n}));\n</code></pre>\n"}], "owner": {"reputation": 3169, "user_id": 1404347, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/46fdbcdbe59c0e028949726dbef448c8?s=128&d=identicon&r=PG", "display_name": "AskYous", "link": "https://stackoverflow.com/users/1404347/askyous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "closed_date": 1532552838, "accepted_answer_id": 51527587, "answer_count": 1, "score": 0, "last_activity_date": 1532552817, "creation_date": 1532551876, "last_edit_date": 1532552817, "question_id": 51527464, "link": "https://stackoverflow.com/questions/51527464/10-specs-10-failures-cant-bind-to-routerlink-since-it-isnt-a-known-proper", "closed_reason": "Duplicate", "title": "10 specs, 10 failures - Can&#39;t bind to &#39;routerLink&#39; since it isn&#39;t a known property of &#39;button&#39;", "body": "<p>I decided to experiment the testing features of Angular. I have an app already so I just ran <code>ng test</code> and instantly it has errors that I don't understand. This is my first time running Angular testing.</p>\n\n<p>Here is the output:</p>\n\n<pre><code>AppComponent should create the app\nFailed: Template parse errors:\nCan't bind to 'routerLink' since it isn't a known property of 'button'. (\"&lt;mat-toolbar color=\"primary\"&gt;\n    &lt;mat-toolbar-row&gt;\n        &lt;button mat-button [ERROR -&gt;][routerLink]=\"'/'\"&gt;{{title}}&lt;/button&gt;\n        &lt;button mat-button (click)=\"login()\" *ngIf=\"!user\"&gt;Logi\"): ng:///DynamicTestModule/AppComponent.html@2:27\n'mat-toolbar-row' is not a known element:\n1. If 'mat-toolbar-row' is an Angular component, then verify that it is part of this module.\n2. If 'mat-toolbar-row' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message. (\"&lt;mat-toolbar color=\"primary\"&gt;\n</code></pre>\n\n<p>Here is the HTML snippet in <code>app.component.html</code>:</p>\n\n<pre><code>&lt;button mat-button [routerLink]=\"[ ... ]\"&gt;{{title}}&lt;/button&gt;\n</code></pre>\n\n<p>And I definitely imported <code>RouterModule</code> into <code>app.module.ts</code>:</p>\n\n<pre><code>@NgModule({\n    declarations: [\n        ...\n    ],\n    imports: [\n        RouterModule.forRoot(routes),\n        ...\n    ],\n    ...\n})\nexport class AppModule {}\n</code></pre>\n"}, {"tags": ["javascript", "html", "image", "dynamic", "lazy-loading"], "comments": [{"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 1, "creation_date": 1532551843, "post_id": 51527383, "comment_id": 90023482, "body": "If you have received them already, you do not have to load them again. Please add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to get more help."}, {"owner": {"reputation": 970, "user_id": 2359161, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/59afadc8afd040c45821f33f71266449?s=128&d=identicon&r=PG", "display_name": "Alex Podworny", "link": "https://stackoverflow.com/users/2359161/alex-podworny"}, "reply_to_user": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 1, "creation_date": 1532552919, "post_id": 51527383, "comment_id": 90023976, "body": "@KoshVery it&#39;s a question about the general way to do something. An example would be far too complex to be of any use, and would escape the entire purpose of the question."}, {"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 0, "creation_date": 1532553280, "post_id": 51527383, "comment_id": 90024122, "body": "I believe the example would illustrate the issue better than words."}, {"owner": {"reputation": 4930, "user_id": 1473968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vua08.jpg?s=128&g=1", "display_name": "colxi", "link": "https://stackoverflow.com/users/1473968/colxi"}, "edited": false, "score": 1, "creation_date": 1532559110, "post_id": 51527383, "comment_id": 90025914, "body": "I agree no example is needed, the description is pretty clear."}], "answers": [{"comments": [{"owner": {"reputation": 970, "user_id": 2359161, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/59afadc8afd040c45821f33f71266449?s=128&d=identicon&r=PG", "display_name": "Alex Podworny", "link": "https://stackoverflow.com/users/2359161/alex-podworny"}, "edited": false, "score": 0, "creation_date": 1532555594, "post_id": 51527844, "comment_id": 90024959, "body": "Thanks. While this might put me on the right track, is it possible to do with ajax instead? I need to support IE11, and would prefer not to use a polyfill for fetch. I&#39;ve never used fetch, but it looks pretty similar to ajax"}, {"owner": {"reputation": 970, "user_id": 2359161, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/59afadc8afd040c45821f33f71266449?s=128&d=identicon&r=PG", "display_name": "Alex Podworny", "link": "https://stackoverflow.com/users/2359161/alex-podworny"}, "edited": false, "score": 1, "creation_date": 1532621771, "post_id": 51527844, "comment_id": 90054458, "body": "Sorry for not quite understanding your solution yet, what exactly is the lazy loading portion of this answer? If I return a list of hundreds of images from my server in the one response, your answer won&#39;t really help, correct? Where exactly is the lazy loading implemented? Thanks for the help"}, {"owner": {"reputation": 4930, "user_id": 1473968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vua08.jpg?s=128&g=1", "display_name": "colxi", "link": "https://stackoverflow.com/users/1473968/colxi"}, "reply_to_user": {"reputation": 970, "user_id": 2359161, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/59afadc8afd040c45821f33f71266449?s=128&d=identicon&r=PG", "display_name": "Alex Podworny", "link": "https://stackoverflow.com/users/2359161/alex-podworny"}, "edited": false, "score": 0, "creation_date": 1532625436, "post_id": 51527844, "comment_id": 90056430, "body": "This code lets you load the images, only when you need them, but you have to load each image one by one, and inject them in the DOM manually. If you recieve a list of Image Urls from your server, you have to iterate that list, and execute this code for each element."}, {"owner": {"reputation": 970, "user_id": 2359161, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/59afadc8afd040c45821f33f71266449?s=128&d=identicon&r=PG", "display_name": "Alex Podworny", "link": "https://stackoverflow.com/users/2359161/alex-podworny"}, "edited": false, "score": 1, "creation_date": 1532631917, "post_id": 51527844, "comment_id": 90059520, "body": "&quot;This code lets you load the images, only when you need them&quot; - That&#39;s what I&#39;m confused about, how does your ES5 code snippet know when we need the images? Where exactly is this functionality?"}, {"owner": {"reputation": 4930, "user_id": 1473968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vua08.jpg?s=128&g=1", "display_name": "colxi", "link": "https://stackoverflow.com/users/1473968/colxi"}, "reply_to_user": {"reputation": 970, "user_id": 2359161, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/59afadc8afd040c45821f33f71266449?s=128&d=identicon&r=PG", "display_name": "Alex Podworny", "link": "https://stackoverflow.com/users/2359161/alex-podworny"}, "edited": false, "score": 0, "creation_date": 1532632248, "post_id": 51527844, "comment_id": 90059662, "body": "i would wrap that code inside a function, accepting 2 arguments : imgUrl and targetImageElementId... and call that function when you need to load more images"}, {"owner": {"reputation": 970, "user_id": 2359161, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/59afadc8afd040c45821f33f71266449?s=128&d=identicon&r=PG", "display_name": "Alex Podworny", "link": "https://stackoverflow.com/users/2359161/alex-podworny"}, "edited": false, "score": 0, "creation_date": 1532633298, "post_id": 51527844, "comment_id": 90060121, "body": "I guess that&#39;s where the confusion lies, I was not clear. I want to display all of the images returned, in a gallery, but to avoid the browser crashing and such, only load images as the user scrolls down. I can figure out that last part, I&#39;m just having some trouble with the idea of having all of the images ready to load. I guess instead I could load like 40 images at a time then load more as the user scrolls down? Thanks again for the help."}, {"owner": {"reputation": 4930, "user_id": 1473968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vua08.jpg?s=128&g=1", "display_name": "colxi", "link": "https://stackoverflow.com/users/1473968/colxi"}, "reply_to_user": {"reputation": 970, "user_id": 2359161, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/59afadc8afd040c45821f33f71266449?s=128&d=identicon&r=PG", "display_name": "Alex Podworny", "link": "https://stackoverflow.com/users/2359161/alex-podworny"}, "edited": false, "score": 0, "creation_date": 1532634991, "post_id": 51527844, "comment_id": 90060903, "body": "There are some implementations that load the images automatically as soon as the scroll reaches them , other implementations that also unload the ones that have been already scrolled... Take a look at this: <a href=\"https://appelsiini.net/projects/lazyload/\" rel=\"nofollow noreferrer\">appelsiini.net/projects/lazyload</a>"}, {"owner": {"reputation": 970, "user_id": 2359161, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/59afadc8afd040c45821f33f71266449?s=128&d=identicon&r=PG", "display_name": "Alex Podworny", "link": "https://stackoverflow.com/users/2359161/alex-podworny"}, "edited": false, "score": 1, "creation_date": 1532638596, "post_id": 51527844, "comment_id": 90062502, "body": "I&#39;m aware of these types of solutions and have implemented them before, the problem I&#39;m having is they don&#39;t work with base64 data uri&#39;s, which was pretty much the point of this question, to try to figure out how the get one of these solutions to work with base64 data uri&#39;s, or convert blobs from the server to remote image urls or something"}], "tags": [], "owner": {"reputation": 4930, "user_id": 1473968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vua08.jpg?s=128&g=1", "display_name": "colxi", "link": "https://stackoverflow.com/users/1473968/colxi"}, "is_accepted": false, "score": 3, "last_activity_date": 1532558917, "last_edit_date": 1532558917, "creation_date": 1532553729, "answer_id": 51527844, "question_id": 51527383, "link": "https://stackoverflow.com/questions/51527383/how-to-implement-lazy-load-for-images-returned-from-a-server-in-es5/51527844#51527844", "title": "How to implement lazy load for images returned from a server in ES5?", "body": "<h1>ES5 approach : XMLHttpRequest</h1>\n\n<p>In this scenario you get an <code>arraybuffer</code> from the ajax request, that must be converted into a <code>base64</code> string, before being useful. (IE10+ Compatible Method)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let myImg = document.getElementById('myImg');\r\nlet url = \"https://placekitten.com/200/300\";\r\n\r\nlet request  = new XMLHttpRequest();\r\nrequest.open (\"GET\", url, true);\r\nrequest.responseType  = \"arraybuffer\";\r\nrequest.send (null);\r\n\r\nrequest.onreadystatechange= function(response){\r\n  if (request.readyState === 4) {\r\n    if (request.status === 200) {\r\n      // convert received arrayBuffer into base64 encoded string\r\n      var imgBase64 = btoa(String.fromCharCode.apply(null, new Uint8Array(request.response)));\r\n      // assign base64 encoded image to image source\r\n      myImg.src=  'data:image/jpeg;base64,' + imgBase64;\r\n    }\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;img id=\"myImg\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<blockquote>\n  <p>Note: CORS must be taken in consideration, when retrieving images from external domains.</p>\n</blockquote>\n\n<hr>\n\n<h1>ES6 approach : Fetch</h1>\n\n<p>You can use <code>fetch</code> to retrieve your images, and inject them in the DOM as soon as you receive them... </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let myImage = document.getElementById('myImg');\r\nlet url = \"https://placekitten.com/200/300\";\r\n\r\nfetch(url)\r\n.then( response=&gt; {\r\n  // if response is OK, covert it into a blob\r\n  if(response.ok) return response.blob();\r\n  else throw new Error('Response not OK');\r\n})\r\n.then(myBlob=&gt;{  \r\n  // Assign it to the image src using createObjectURL\r\n  myImage.src = URL.createObjectURL(myBlob);\r\n})\r\n.catch(function(error){\r\n  // hadle errors\r\n  console.log(error.message);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;img id=\"myImg\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You can get more details about <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\" rel=\"nofollow noreferrer\">Fetch</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL\" rel=\"nofollow noreferrer\">createObjectURL</a> in the Mozilla Developer webpage.</p>\n\n<hr>\n\n<p>Previous code can be easily converted into reusable functions, suitable for generic scenarios.</p>\n"}], "owner": {"reputation": 970, "user_id": 2359161, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/59afadc8afd040c45821f33f71266449?s=128&d=identicon&r=PG", "display_name": "Alex Podworny", "link": "https://stackoverflow.com/users/2359161/alex-podworny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 412, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1532616547, "creation_date": 1532551520, "last_edit_date": 1532616547, "question_id": 51527383, "link": "https://stackoverflow.com/questions/51527383/how-to-implement-lazy-load-for-images-returned-from-a-server-in-es5", "title": "How to implement lazy load for images returned from a server in ES5?", "body": "<p>On one page, I'm trying to lazy load potentially hundreds of images that are returned from my server as blobs. I've tried converting them to base64 data uris then using some lazy loading techniques, but understandably that didn't work, since the data uri is already in the html, which means the browser still needs to load the image data even if it's not going to display it right away.</p>\n\n<p>Is there some way to lazy load dynamic images returned by a server as blobs? Or some way to convert them to use remote image urls then use typical lazy loading that way?</p>\n\n<p>Thanks for any help.</p>\n"}, {"tags": ["javascript", "reactjs", "jestjs"], "comments": [{"owner": {"reputation": 5384, "user_id": 3571366, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e18806f24a8ff49cf6a23f6ce005c4c5?s=128&d=identicon&r=PG&f=1", "display_name": "Nimeshka Srimal", "link": "https://stackoverflow.com/users/3571366/nimeshka-srimal"}, "edited": false, "score": 0, "creation_date": 1532574062, "post_id": 51527345, "comment_id": 90028783, "body": "How do you run the test?"}], "answers": [{"tags": [], "owner": {"reputation": 823, "user_id": 8133868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee135ce90c21a47102fca0ffac8db733?s=128&d=identicon&r=PG&f=1", "display_name": "piedra", "link": "https://stackoverflow.com/users/8133868/piedra"}, "is_accepted": true, "score": 6, "last_activity_date": 1532551749, "creation_date": 1532551749, "answer_id": 51527433, "question_id": 51527345, "link": "https://stackoverflow.com/questions/51527345/react-jest-confirming-snapshot-change/51527433#51527433", "title": "react jest confirming snapshot change", "body": "<p>you can update the snapshots in two ways:</p>\n\n<ol>\n<li><p>run <code>npm test</code> and then in the interactive shell press <code>u</code></p></li>\n<li><p>run <code>npm test -u</code>, the <code>-u</code> flag tells jest to update snapshots.</p></li>\n</ol>\n\n<p>You could change <code>npm</code> by <code>yarn</code> if you are using yarn</p>\n"}], "owner": {"reputation": 133, "user_id": 10105245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ca134cb461d1176059076ad0b68c1e5?s=128&d=identicon&r=PG&f=1", "display_name": "devneeddev", "link": "https://stackoverflow.com/users/10105245/devneeddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2844, "favorite_count": 0, "accepted_answer_id": 51527433, "answer_count": 1, "score": 1, "last_activity_date": 1532571953, "creation_date": 1532551336, "last_edit_date": 1532571953, "question_id": 51527345, "link": "https://stackoverflow.com/questions/51527345/react-jest-confirming-snapshot-change", "title": "react jest confirming snapshot change", "body": "<p>I am newbie at React and I can not find a solution for a simple problem. \nI am using <code>create-react-app</code> and I succeed to operate jest snapshot test. Then, for trying I changed <code>render()</code> function's inside. Now jest said me <code>\u00d7 has a valid snapshot (5ms)</code> (I know it is normal.) and it says me:</p>\n\n<blockquote>\n  <p>1 snapshot test failed in 1 test suite. Inspect your code changes or\n  press <code>u</code> to update them.</p>\n</blockquote>\n\n<p>I don't know how can I update it. I tried to pressing u, <kbd>ctrl</kbd> + <kbd>u</kbd> and other combinations. But nothing changed in there. I know it is silly question but How can I update them?</p>\n"}, {"tags": ["javascript", "node.js", "express", "mongoose"], "answers": [{"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 1, "last_activity_date": 1532551718, "creation_date": 1532551718, "answer_id": 51527424, "question_id": 51527338, "link": "https://stackoverflow.com/questions/51527338/global-variable-in-express-using-mongo-mongoose/51527424#51527424", "title": "Global variable in express using mongo/mongoose", "body": "<p>With something like</p>\n\n<pre><code>app.use(async function(req, res, next){\n    try {    \n        res.locals.currentUser = req.user;\n        res.locals.error = req.flash(\"error\");\n        res.locals.success = req.flash(\"success\");\n        res.locals.topics = await Topics.find().lean();\n        next();\n    } catch (err) { \n        next(err);\n    }\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 7384016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe229640fdba54a0702b1b495826a190?s=128&d=identicon&r=PG", "display_name": "MisterSnow", "link": "https://stackoverflow.com/users/7384016/mistersnow"}, "is_accepted": false, "score": 0, "last_activity_date": 1532554210, "creation_date": 1532554210, "answer_id": 51527948, "question_id": 51527338, "link": "https://stackoverflow.com/questions/51527338/global-variable-in-express-using-mongo-mongoose/51527948#51527948", "title": "Global variable in express using mongo/mongoose", "body": "<p>Do you want to cache the results of the find? If so just have a variable outside of the scope of app that contains the stored value. If you want to refresh the cached results just set an interval.</p>\n"}], "owner": {"reputation": 135, "user_id": 7853368, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pEumq.png?s=128&g=1", "display_name": "Bruno Pigatto", "link": "https://stackoverflow.com/users/7853368/bruno-pigatto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 383, "favorite_count": 0, "accepted_answer_id": 51527424, "answer_count": 2, "score": 1, "last_activity_date": 1532554210, "creation_date": 1532551298, "question_id": 51527338, "link": "https://stackoverflow.com/questions/51527338/global-variable-in-express-using-mongo-mongoose", "title": "Global variable in express using mongo/mongoose", "body": "<p>Im using res.locals to have global variables using express.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>app.use(function(req, res, next){\n    res.locals.currentUser = req.user;\n    res.locals.error = req.flash(\"error\");\n    res.locals.success = req.flash(\"success\");\n    next();\n});\n</code></pre>\n\n<p>How can I make something like:  </p>\n\n<pre><code>Topics.find(); // Using mongoose\n</code></pre>\n\n<p>Find all Topics and then store it in a <code>res.locals</code> inside <code>app.use</code>?  </p>\n"}, {"tags": ["javascript", "jquery", "html", "video", "each"], "answers": [{"comments": [{"owner": {"reputation": 1266, "user_id": 4087261, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/QZ4c7.jpg?s=128&g=1", "display_name": "Andrew Nguyen", "link": "https://stackoverflow.com/users/4087261/andrew-nguyen"}, "edited": false, "score": 0, "creation_date": 1532552817, "post_id": 51527423, "comment_id": 90023914, "body": "It looks like it works as intended. Do you mind describing passing <code>e</code> to the <code>playvideo</code> function and your thought process behind using <code>e.target</code> in this case. I&#39;m also curious about how passing <code>playVideo</code> to the button click works in this case and how this is different from a click function?"}, {"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "reply_to_user": {"reputation": 1266, "user_id": 4087261, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/QZ4c7.jpg?s=128&g=1", "display_name": "Andrew Nguyen", "link": "https://stackoverflow.com/users/4087261/andrew-nguyen"}, "edited": false, "score": 0, "creation_date": 1532554209, "post_id": 51527423, "comment_id": 90024488, "body": "@AndrewNguyen, thank you, I&#39;ve updated my answer. English is not my native language, sorry if something is still unclear. Will be happy to clarify."}], "tags": [], "owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "is_accepted": true, "score": 4, "last_activity_date": 1532554133, "last_edit_date": 1532554133, "creation_date": 1532551712, "answer_id": 51527423, "question_id": 51527293, "link": "https://stackoverflow.com/questions/51527293/playing-a-specific-video-file-when-there-are-multiple-buttons-videos/51527423#51527423", "title": "Playing a specific video file when there are multiple buttons, videos", "body": "<p>Pass <code>click</code> event to your <code>playVideo</code> function then target video like this:<br>\n<code>var video = $(e.target).closest('.group').find('video')[0];</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    $(function(){\r\n\r\n   function playVideo(e) {\r\n\r\n            var video = $(e.target).closest('.group').find('video')[0];\r\n\r\n            if (video.paused) {\r\n                video.play();\r\n                video.muted = false;\r\n            } else {\r\n                video.pause();\r\n                video.muted = true;\r\n            }\r\n\r\n            // Loads the clip again, so that it reverts back to the poster image\r\n            video.addEventListener(\"ended\", function(){\r\n                video.load();\r\n\r\n                $(\"button\").find(\"i\").removeClass(\"fa-pause\");\r\n                $(\"button\").find(\"i\").addClass(\"fa-play\");\r\n            });\r\n        }\r\n\r\n        $(\"button\").click(playVideo);\r\n    });</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.group {display:inline-block; width:20vw}\r\nvideo {width:20vw}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"group\"&gt;\r\n  &lt;video src=\"https://gia.guim.co.uk/2013/10/nsa-decoded/html/asset/video/p1/p1-1.webm\" class=\"video--inline\"&gt;&lt;/video&gt;\r\n\r\n  &lt;div class=\"button__wrapper\"&gt;\r\n    &lt;button&gt;Listen&lt;/button&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"group\"&gt;\r\n  &lt;video src=\"https://gia.guim.co.uk/2013/10/nsa-decoded/html/asset/video/p1/p1-2.webm\" class=\"video--inline\"&gt;&lt;/video&gt;\r\n\r\n  &lt;div class=\"button__wrapper\"&gt;\r\n    &lt;button&gt;Listen&lt;/button&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"group\"&gt;\r\n  &lt;video src=\"https://gia.guim.co.uk/2013/10/nsa-decoded/html/asset/video/p1/p1-3.webm\" class=\"video--inline\"&gt;&lt;/video&gt;\r\n\r\n  &lt;div class=\"button__wrapper\"&gt;\r\n    &lt;button&gt;Listen&lt;/button&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"group\"&gt;\r\n  &lt;video src=\"https://gia.guim.co.uk/2013/10/nsa-decoded/html/asset/video/p1/p1-5.webm\" class=\"video--inline\"&gt;&lt;/video&gt;\r\n\r\n  &lt;div class=\"button__wrapper\"&gt;\r\n    &lt;button&gt;Listen&lt;/button&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Update</strong>\nWe're passing a function name as a parameter to the click handler:<br>\n<code>$(\"button\").click(playVideo)</code><br>\nSo <code>playVideo</code> will be called on click and the click <code>Event</code> object will be passed to <code>playVideo</code> as a parameter (we called it <code>e</code>): <code>function playVideo(e)</code>.<br>\n<code>e.target</code> is the clicked element (button).</p>\n\n<p>Then we're traversing from the button to the corresponding <code>video</code>.</p>\n"}], "owner": {"reputation": 1266, "user_id": 4087261, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/QZ4c7.jpg?s=128&g=1", "display_name": "Andrew Nguyen", "link": "https://stackoverflow.com/users/4087261/andrew-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 534, "favorite_count": 0, "accepted_answer_id": 51527423, "answer_count": 1, "score": 0, "last_activity_date": 1532554133, "creation_date": 1532551039, "question_id": 51527293, "link": "https://stackoverflow.com/questions/51527293/playing-a-specific-video-file-when-there-are-multiple-buttons-videos", "title": "Playing a specific video file when there are multiple buttons, videos", "body": "<h1>Problem</h1>\n\n<p>I have four divs each with their own video file and button. </p>\n\n<ul>\n<li>Right now, it is coded in a way that it only works with one file, but unfortunately not all of them. </li>\n<li>I've tried using <code>.each</code> and using the index of the element, but I kept running into an issue where <code>.pause() was not a function</code></li>\n</ul>\n\n<h2>Codepen</h2>\n\n<p><a href=\"https://codepen.io/onlyandrewn/pen/NBvPjx\" rel=\"nofollow noreferrer\">https://codepen.io/onlyandrewn/pen/NBvPjx</a></p>\n\n<h2>Objective</h2>\n\n<ul>\n<li>Clicking on a group's button should play that group's specific video file</li>\n</ul>\n\n<h2>scripts.js</h2>\n\n<pre><code>    $(function(){\n\n   function playVideo() {\n\n            var video = $(\".video--inline\")[0];\n\n            if (video.paused) {\n                video.play();\n                video.muted = false;\n            } else {\n                video.pause();\n                video.muted = true;\n            }\n\n            // Loads the clip again, so that it reverts back to the poster image\n            video.addEventListener(\"ended\", function(){\n                video.load();\n\n                $(\"button\").find(\"i\").removeClass(\"fa-pause\");\n                $(\"button\").find(\"i\").addClass(\"fa-play\");\n            });\n        }\n\n        $(\"button\").click(function(){\n            playVideo();\n        });\n    });\n</code></pre>\n\n<h2>index.html</h2>\n\n<pre><code>&lt;div class=\"group\"&gt;\n  &lt;video src=\"https://gia.guim.co.uk/2013/10/nsa-decoded/html/asset/video/p1/p1-1.webm\" class=\"video--inline\"&gt;&lt;/video&gt;\n\n  &lt;div class=\"button__wrapper\"&gt;\n    &lt;button&gt;Listen&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"group\"&gt;\n  &lt;video src=\"https://gia.guim.co.uk/2013/10/nsa-decoded/html/asset/video/p1/p1-2.webm\" class=\"video--inline\"&gt;&lt;/video&gt;\n\n  &lt;div class=\"button__wrapper\"&gt;\n    &lt;button&gt;Listen&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"group\"&gt;\n  &lt;video src=\"https://gia.guim.co.uk/2013/10/nsa-decoded/html/asset/video/p1/p1-3.webm\" class=\"video--inline\"&gt;&lt;/video&gt;\n\n  &lt;div class=\"button__wrapper\"&gt;\n    &lt;button&gt;Listen&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"group\"&gt;\n  &lt;video src=\"https://gia.guim.co.uk/2013/10/nsa-decoded/html/asset/video/p1/p1-5.webm\" class=\"video--inline\"&gt;&lt;/video&gt;\n\n  &lt;div class=\"button__wrapper\"&gt;\n    &lt;button&gt;Listen&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "tensorflow", "npm"], "comments": [{"owner": {"reputation": 684, "user_id": 2196424, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6dce3cb75ed08c606ee1567fc148751c?s=128&d=identicon&r=PG", "display_name": "lastmjs", "link": "https://stackoverflow.com/users/2196424/lastmjs"}, "edited": false, "score": 0, "creation_date": 1532632118, "post_id": 51527246, "comment_id": 90059609, "body": "How did you install Node.js on your system? Also, why are you installing as the root user? That&#39;s going to lead to problems if you aren&#39;t careful, I recommend using Node.js as a normal user in most circumstances."}, {"owner": {"reputation": 11, "user_id": 10135639, "user_type": "registered", "profile_image": "https://graph.facebook.com/2163230487038097/picture?type=large", "display_name": "Mike", "link": "https://stackoverflow.com/users/10135639/mike"}, "reply_to_user": {"reputation": 684, "user_id": 2196424, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6dce3cb75ed08c606ee1567fc148751c?s=128&d=identicon&r=PG", "display_name": "lastmjs", "link": "https://stackoverflow.com/users/2196424/lastmjs"}, "edited": false, "score": 0, "creation_date": 1532643236, "post_id": 51527246, "comment_id": 90064159, "body": "Using the instructions for Ubuntu <a href=\"https://nodejs.org/en/download/package-manager/#debian-and-ubuntu-based-linux-distributions\" rel=\"nofollow noreferrer\">here</a>. Well I was getting a permissions error that I reported above, so I thought using sudo may resolve it. Can you elaborate what problems that could cause, and why you generally recommend using Node.js as normal user?"}], "owner": {"reputation": 11, "user_id": 10135639, "user_type": "registered", "profile_image": "https://graph.facebook.com/2163230487038097/picture?type=large", "display_name": "Mike", "link": "https://stackoverflow.com/users/10135639/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 378, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1532574148, "creation_date": 1532550841, "last_edit_date": 1532574148, "question_id": 51527246, "link": "https://stackoverflow.com/questions/51527246/cant-install-tensorflow-tfjs-node", "title": "Can&#39;t install @tensorflow/tfjs-node", "body": "<p>I get the following error running <code>sudo npm install @tensorflow/tfjs-node</code>:</p>\n\n<blockquote>\n  <p><code>Error: EACCES: permission denied, mkdir\n  '/home/mike/.../node_modules/@tensorflow/tfjs-node/build'</code></p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/KAaIK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KAaIK.png\" alt=\"enter image description here\"></a></p>\n\n<p>It says later that this is \"probably not an issue with npm\" (see screenshot) but gives no indication what the issue could be. I'm not very experienced with npm or nodejs, so I'm not sure what to try. Any help/suggestions would be greatly appreciated.</p>\n\n<hr>\n\n<p><strong>EDIT:</strong> I should mention, I have seen two other posts about this issue on StackOverflow. In one, the user was on Windows, which tfjs-node doesn't support, and I'm on Ubuntu. In the other, the user was using a version of Node.js that was too old; I am using 10.6.</p>\n"}, {"tags": ["javascript", "angular", "angular-services"], "comments": [{"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1532552995, "post_id": 51527202, "comment_id": 90024006, "body": "The service should not be subscribing. The subscribing belongs in the component."}], "answers": [{"tags": [], "owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "is_accepted": true, "score": 1, "last_activity_date": 1532554289, "creation_date": 1532554289, "answer_id": 51527971, "question_id": 51527202, "link": "https://stackoverflow.com/questions/51527202/store-result-of-query-in-local-variable-and-send-a-confirmation-for-the-same-in/51527971#51527971", "title": "Store result of query in local variable and send a confirmation for the same in Angular", "body": "<p>When retrieving data, one often uses a <code>get</code>, not a <code>post</code>. This is what one of my simple gets looks like:</p>\n\n<pre><code>  getProducts(): Observable&lt;IProduct[]&gt; {\n    return this.http.get&lt;IProduct[]&gt;(this.productUrl);\n  }\n</code></pre>\n\n<p>Using your code ... you can then use RxJS pipeable operators to perform additional operations:</p>\n\n<pre><code>getMovie(id):Observable&lt;any&gt;{\n    return this.http.post(\"http://localhost:3000/getMovie\",{ \"_id\":id })\n           .pipe(\n              tap(IncomingValue =&gt; this.movie = IncomingValue),\n              map(() =&gt; {return {\"result\":true}} )\n           );\n} \n</code></pre>\n\n<p>The first pipeable operator, tap, stores the incoming value in your local property.</p>\n\n<p>The second pipeable operator, map, maps the result as the defined key and value pair.</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 181, "user_id": 9964717, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_R7l5hcR3AY/AAAAAAAAAAI/AAAAAAAAABE/agNWvobTpX8/photo.jpg?sz=128", "display_name": "Karan Gaur", "link": "https://stackoverflow.com/users/9964717/karan-gaur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 51527971, "answer_count": 1, "score": 2, "last_activity_date": 1532554289, "creation_date": 1532550684, "last_edit_date": 1532550909, "question_id": 51527202, "link": "https://stackoverflow.com/questions/51527202/store-result-of-query-in-local-variable-and-send-a-confirmation-for-the-same-in", "title": "Store result of query in local variable and send a confirmation for the same in Angular", "body": "<p>My node server is giving me a response for a query result which I want to store in my Angular Service's Local Variable(movie) and pass a confirmation message({\"result\":true}) to the asking angular component.</p>\n\n<pre><code>redirect(id){\n    this.movie.getMovie(id).subscribe( confirmation =&gt;{ \n      if(confirmation.result) this.router.navigate([\"/movies/movDetails\"]);\n    });\n}\n</code></pre>\n\n<p>This is my angular Component</p>\n\n<pre><code>getMovie(id):Observable&lt;any&gt;{\n    return this.http.post(\"http://localhost:3000/getMovie\",{ \"_id\":id }).subscribe(IncomingValue =&gt; this.movie = IncomingValue).pipe(map( return {\"result\":true} ));\n} \n</code></pre>\n\n<p>Service Component</p>\n"}, {"tags": ["javascript", "reactjs", "react-native", "redux", "react-redux"], "answers": [{"comments": [{"owner": {"reputation": 867, "user_id": 7291516, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/iFXbU.jpg?s=128&g=1", "display_name": "SGhaleb", "link": "https://stackoverflow.com/users/7291516/sghaleb"}, "edited": false, "score": 0, "creation_date": 1532551540, "post_id": 51527254, "comment_id": 90023357, "body": "Oh, I see. Thanks!"}, {"owner": {"reputation": 867, "user_id": 7291516, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/iFXbU.jpg?s=128&g=1", "display_name": "SGhaleb", "link": "https://stackoverflow.com/users/7291516/sghaleb"}, "edited": false, "score": 0, "creation_date": 1532618797, "post_id": 51527254, "comment_id": 90052544, "body": "If you dont mind... How could I access the <code>REGION_ID</code> variable outside the subscribe function? That was the reason I tried the return method, but unsure how to get the updated value outside."}, {"owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "reply_to_user": {"reputation": 867, "user_id": 7291516, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/iFXbU.jpg?s=128&g=1", "display_name": "SGhaleb", "link": "https://stackoverflow.com/users/7291516/sghaleb"}, "edited": false, "score": 0, "creation_date": 1532619081, "post_id": 51527254, "comment_id": 90052735, "body": "There is a simple way change  <code>REGION_ID</code> to <code>let</code> instead of <code>const</code>, and just assign the value in the subscribe, but... How would you know that the subscribe happened, and that the outside REGION_ID variable was updated? Why not just run the code that needs REGION_ID in the subscribe callback?"}, {"owner": {"reputation": 867, "user_id": 7291516, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/iFXbU.jpg?s=128&g=1", "display_name": "SGhaleb", "link": "https://stackoverflow.com/users/7291516/sghaleb"}, "edited": false, "score": 0, "creation_date": 1532619665, "post_id": 51527254, "comment_id": 90053113, "body": "i tried the following <code>let Updated = store.subscribe(() =&gt; {   let REGION_ID = store.getState(); })</code> but that returns the unsubscribe method. My main problem is trying to get the state to the services component in <code>export default new NetworkService();</code> but <code>this.props</code> returns undefined so i tried subscribe but I am having issue with that too."}, {"owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "reply_to_user": {"reputation": 867, "user_id": 7291516, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/iFXbU.jpg?s=128&g=1", "display_name": "SGhaleb", "link": "https://stackoverflow.com/users/7291516/sghaleb"}, "edited": false, "score": 0, "creation_date": 1532631217, "post_id": 51527254, "comment_id": 90059206, "body": "<code>let REGION_ID; store.subscribe(() =&gt; { REGION_ID = store.getState(); });</code> - You&#39;ll have an access to <code>REGION_ID</code> outside of subscribe, but you won&#39;t know when it&#39;s ready/updated. You should open another question with your full use case. I think your solution is wrong."}, {"owner": {"reputation": 867, "user_id": 7291516, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/iFXbU.jpg?s=128&g=1", "display_name": "SGhaleb", "link": "https://stackoverflow.com/users/7291516/sghaleb"}, "edited": false, "score": 0, "creation_date": 1532632876, "post_id": 51527254, "comment_id": 90059962, "body": "Yeah I think the way I&#39;m fetching the state is incorrect, I opened another question and I was told to look at redux thunk middleware"}], "tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": true, "score": 1, "last_activity_date": 1532550869, "creation_date": 1532550869, "answer_id": 51527254, "question_id": 51527172, "link": "https://stackoverflow.com/questions/51527172/react-redux-get-the-state-from-another-component-using-store/51527254#51527254", "title": "React/Redux get the state from another component using store", "body": "<p>This is not an error. The <a href=\"https://redux.js.org/api-reference/store#subscribe-listener\" rel=\"nofollow noreferrer\"><strong><code>store.subscribe()</code></strong></a> method returns an <code>unsubscribe</code> method, and the <code>console.log()</code> displays the implementation of this method:</p>\n\n<pre><code>const REGION_ID = store.subscribe(() =&gt; {\n    return store.getState().regionId; // this is isn't returned to REGION_ID\n})\nconsole.log(REGION_ID); // REGION_ID contains the unsubscribe method\n</code></pre>\n\n<p>If you want to use the the <code>regiondId</code> you get from the state place your code inside the subscribe callback:</p>\n\n<pre><code>tore.subscribe(() =&gt; {\n    const REGION_ID = store.getState().regionId;\n    console.log(REGION_ID );\n})\n</code></pre>\n\n<p>This line <code>const REGION_ID = return store.getState().regionId;</code> produces an error because <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Bad_return_or_yield\" rel=\"nofollow noreferrer\">you can't return outside of a function</a>.</p>\n"}], "owner": {"reputation": 867, "user_id": 7291516, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/iFXbU.jpg?s=128&g=1", "display_name": "SGhaleb", "link": "https://stackoverflow.com/users/7291516/sghaleb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1390, "favorite_count": 0, "accepted_answer_id": 51527254, "answer_count": 1, "score": 1, "last_activity_date": 1532550869, "creation_date": 1532550539, "question_id": 51527172, "link": "https://stackoverflow.com/questions/51527172/react-redux-get-the-state-from-another-component-using-store", "title": "React/Redux get the state from another component using store", "body": "<p>I just started using Redux, as my application got complicated with the passing states to different component. I encountered an error while trying to retrieve data to another components.</p>\n\n<p>I want to pass a state to another component, but I get this errror:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7lC7r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7lC7r.png\" alt=\"enter image description here\"></a></p>\n\n<p>store.js</p>\n\n<pre><code>import {createStore} from 'redux';\n\nconst initialState = {\n  regionId: 0\n};\nconst reducer = (state = initialState, action) =&gt; {\n\n  if(action.type === \"REGIONAL_ID\") {\n     return {\n        regionId: action.regionId\n      };\n    }\n    return state;\n}\nconst store = createStore(reducer);\nstore.subscribe(() =&gt; {\n  console.log(store.getState().regionId)\n})\n\nexport default store;\n</code></pre>\n\n<p>In my Network.js component im calling this</p>\n\n<pre><code>const REGION_ID = store.subscribe(() =&gt; {\n    return store.getState().regionId;\n})\nconsole.log(REGION_ID);\n</code></pre>\n\n<p>I tried the following but that gave me an error also. Many thanks!</p>\n\n<pre><code>const REGION_ID = return store.getState().regionId;\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 1, "creation_date": 1532550539, "post_id": 51527152, "comment_id": 90022894, "body": "Just to get it out of the way.  You do realize that the label has a <code>for</code> attribute you can give it of the id you want to associate it with, and then clicking the label will toggle the element automatically, right?"}, {"owner": {"reputation": 27648, "user_id": 2159528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jgc0E.png?s=128&g=1", "display_name": "Louys Patrice Bessette", "link": "https://stackoverflow.com/users/2159528/louys-patrice-bessette"}, "edited": false, "score": 0, "creation_date": 1532550883, "post_id": 51527152, "comment_id": 90023044, "body": "It&#39;s working fine <a href=\"https://codepen.io/Bes7weB/pen/MBvapg\" rel=\"nofollow noreferrer\">here</a>. Did you load jQuery and Bootstrap?"}, {"owner": {"reputation": 679, "user_id": 9862188, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rqHEwi91_Z0/AAAAAAAAAAI/AAAAAAAAAOg/cYDK0Mu4pfo/photo.jpg?sz=128", "display_name": "Jitendra Ahuja", "link": "https://stackoverflow.com/users/9862188/jitendra-ahuja"}, "edited": false, "score": 0, "creation_date": 1532611880, "post_id": 51527152, "comment_id": 90047813, "body": "Firstly if your code shows $ is undefined then u must put correct js file for it to recognize &#39;$&#39; i.e. jquery. Try Adding this :<code>&lt;script src=&quot;http:&#47;&#47;ajax.googleapis.com&#47;ajax&#47;libs&#47;jquery&#47;1.9.1&#47;jquer&zwnj;&#8203;y.min.js&quot;&gt;&lt;&#47;script&gt;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 27648, "user_id": 2159528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jgc0E.png?s=128&g=1", "display_name": "Louys Patrice Bessette", "link": "https://stackoverflow.com/users/2159528/louys-patrice-bessette"}, "edited": false, "score": 0, "creation_date": 1532551315, "post_id": 51527312, "comment_id": 90023249, "body": "And since OP uses Bootstrap, that implies jQuery has to be loaded. So pure JS is not very helping here."}, {"owner": {"reputation": 337, "user_id": 1964336, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/8e2967906ec9e3ee3c571a5594a08077?s=128&d=identicon&r=PG", "display_name": "jatinder bhola", "link": "https://stackoverflow.com/users/1964336/jatinder-bhola"}, "reply_to_user": {"reputation": 27648, "user_id": 2159528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jgc0E.png?s=128&g=1", "display_name": "Louys Patrice Bessette", "link": "https://stackoverflow.com/users/2159528/louys-patrice-bessette"}, "edited": false, "score": 0, "creation_date": 1532611532, "post_id": 51527312, "comment_id": 90047549, "body": "@LouysPatriceBessette thank you for your feedback. I corrected my mistake."}, {"owner": {"reputation": 27648, "user_id": 2159528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jgc0E.png?s=128&g=1", "display_name": "Louys Patrice Bessette", "link": "https://stackoverflow.com/users/2159528/louys-patrice-bessette"}, "edited": false, "score": 0, "creation_date": 1532624648, "post_id": 51527312, "comment_id": 90056041, "body": "So now your answer is the exact same code as OP (with the jQuery lib added) and without any explanation... Right? Read <a href=\"https://stackoverflow.com/help/how-to-answer\">that</a>"}], "tags": [], "owner": {"reputation": 337, "user_id": 1964336, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/8e2967906ec9e3ee3c571a5594a08077?s=128&d=identicon&r=PG", "display_name": "jatinder bhola", "link": "https://stackoverflow.com/users/1964336/jatinder-bhola"}, "is_accepted": false, "score": -1, "last_activity_date": 1532611494, "last_edit_date": 1532611494, "creation_date": 1532551160, "answer_id": 51527312, "question_id": 51527152, "link": "https://stackoverflow.com/questions/51527152/input-group-field-check-click-handler-on-the-entire-input-group/51527312#51527312", "title": "Input group field check click handler on the entire input group", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function(){\r\n  $('.input-group,#opt_in').click(function(){\r\n    if ($('#opt_in').is(':checked')) {\r\n      $('#opt_in').prop('checked', false);\r\n    }\r\n    else{\r\n      $('#opt_in').prop('checked', true);\r\n    }\r\n  });\r\n\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;\r\n&lt;/script&gt;\r\n\r\n&lt;div class=\"input-group mb-3\"&gt;\r\n  &lt;div class=\"input-group-prepend\"&gt;\r\n    &lt;div class=\"input-group-text\"&gt;\r\n      &lt;input type=\"checkbox\" name=\"opt_in\" id=\"opt_in\" value=\"true\"&gt;\r\n      &lt;label class=\"form-check-label\"&gt;I CONFIRM&lt;/label&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  &lt;p class=\"form-control\" aria-label=\"Text input with checkbox\" id=\"consent\"&gt;that all of my info is accurate and consent to be called as provided above&lt;/p&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 143, "user_id": 9499922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34617473e8e02c1f946a7aa8b9dcf165?s=128&d=identicon&r=PG&f=1", "display_name": "Alyssa", "link": "https://stackoverflow.com/users/9499922/alyssa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 213, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1532611494, "creation_date": 1532550447, "last_edit_date": 1532550996, "question_id": 51527152, "link": "https://stackoverflow.com/questions/51527152/input-group-field-check-click-handler-on-the-entire-input-group", "title": "Input group field check click handler on the entire input group", "body": "<p>I am currently trying to make an entire Bootstrap input-group to be able to clickable so that the checkbox will be clicked when any part of the input-group is clicked, and it should be able to uncheck the checkbox as well when the input-group is clicked. The current code I have working right now is this: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function(){\r\n  $('.input-group,#opt_in').click(function(){\r\n    if ($('#opt_in').is(':checked')) {\r\n      $('#opt_in').prop('checked', false);\r\n    }\r\n    else{\r\n      $('#opt_in').prop('checked', true);\r\n    }\r\n  });\r\n\r\n});\r\n  </code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"input-group mb-3\"&gt;\r\n  &lt;div class=\"input-group-prepend\"&gt;\r\n    &lt;div class=\"input-group-text\"&gt;\r\n      &lt;input type=\"checkbox\" name=\"opt_in\" id=\"opt_in\" value=\"true\"&gt;\r\n      &lt;label class=\"form-check-label\"&gt;I CONFIRM&lt;/label&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  &lt;p class=\"form-control\" aria-label=\"Text input with checkbox\" id=\"consent\"&gt;that all of my info is accurate and consent to be called as provided above&lt;/p&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But for some reason that I am unaware of, it's not working. Any reason why? I'm using jQuery here but I can also use vanilla javascript. I'm just not sure where my code is freaking out! </p>\n"}, {"tags": ["javascript", "ecmascript-6"], "comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 2, "creation_date": 1532550251, "post_id": 51527092, "comment_id": 90022759, "body": "Either of the two ways are valid, it is your preference of which to use. Your last example will not get children, unless children has a property children"}, {"owner": {"reputation": 1400, "user_id": 6775560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a58c4e4004e0b4aa7d08a1d7cdd0b14?s=128&d=identicon&r=PG", "display_name": "Rodrigo Mata", "link": "https://stackoverflow.com/users/6775560/rodrigo-mata"}, "edited": false, "score": 1, "creation_date": 1532550302, "post_id": 51527092, "comment_id": 90022784, "body": "It&#39;s the same, you only save one variable assignment in <code>const { children }</code> if children is not defined"}, {"owner": {"reputation": 1544, "user_id": 3678949, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XS7aY.jpg?s=128&g=1", "display_name": "intekhab", "link": "https://stackoverflow.com/users/3678949/intekhab"}, "edited": false, "score": 1, "creation_date": 1532550402, "post_id": 51527092, "comment_id": 90022826, "body": "This is nothing specific to React. Its a new feature (Object Destructuring) of JS. <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 19424, "user_id": 750852, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ezMNd.png?s=128&g=1", "display_name": "mpm", "link": "https://stackoverflow.com/users/750852/mpm"}, "edited": false, "score": 1, "creation_date": 1532550482, "post_id": 51527092, "comment_id": 90022862, "body": "It is important to understand that it is not React/JSX syntax, it&#39;s purely Javascript syntax."}, {"owner": {"reputation": 2986, "user_id": 4187849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SaCBk.jpg?s=128&g=1", "display_name": "Aramil Rey", "link": "https://stackoverflow.com/users/4187849/aramil-rey"}, "edited": false, "score": 3, "creation_date": 1532550748, "post_id": 51527092, "comment_id": 90022980, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/15290981/what-does-curly-brackets-in-the-var-statements-do\">What does curly brackets in the `var { ... } = ...` statements do?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 317, "user_id": 10125204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6b8e492fee0d2e224721dc1f73723cc?s=128&d=identicon&r=PG", "display_name": "WebD", "link": "https://stackoverflow.com/users/10125204/webd"}, "is_accepted": false, "score": 1, "last_activity_date": 1532550710, "last_edit_date": 1532550710, "creation_date": 1532550383, "answer_id": 51527133, "question_id": 51527092, "link": "https://stackoverflow.com/questions/51527092/const-children-this-props-vs-const-children-this-props-children/51527133#51527133", "title": "const {children} = this.props vs const children = this.props.children", "body": "<p>It's called <strong>Object Destructuring</strong>. It is not specific to React</p>\n\n<p>You can extract a property of an Object like so.</p>\n\n<p>This will gives you <strong>undefined</strong>, because <strong>children</strong> doesn't contains a <strong>children</strong> property. </p>\n\n<pre><code>const {children} = this.props.children\n</code></pre>\n\n<p>But, both methods are good.</p>\n\n<p>Read this for more informations: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment</a></p>\n"}, {"tags": [], "owner": {"reputation": 18897, "user_id": 8059459, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9f0fc0fd607fc44a4597cacb7f034ba6?s=128&d=identicon&r=PG&f=1", "display_name": "Willem van der Veen", "link": "https://stackoverflow.com/users/8059459/willem-van-der-veen"}, "is_accepted": true, "score": 3, "last_activity_date": 1532550874, "creation_date": 1532550874, "answer_id": 51527258, "question_id": 51527092, "link": "https://stackoverflow.com/questions/51527092/const-children-this-props-vs-const-children-this-props-children/51527258#51527258", "title": "const {children} = this.props vs const children = this.props.children", "body": "<p>This feature is called object destructuring and allows you to take properties of an object and store them conveniently into a variable. For example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const obj = {\r\n prop1: 1,\r\n prop2: 2\r\n}\r\n\r\nconst {prop1, prop2} = obj;\r\n\r\nconsole.log(prop1, prop2);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>In your example the children property is pulled of the <code>this.props</code> object and put into a <code>const</code> which is named children.</p>\n\n<pre><code>const {children} = this.props;\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>const children = this.props.children;\n</code></pre>\n\n<p>However the object destructuring syntax is more compact and could more easily extended for example if props had a prop called foo:</p>\n\n<pre><code>const {children, foo} = this.props;\n</code></pre>\n\n<p>Now we have a variable of both children and foo.</p>\n"}, {"tags": [], "owner": {"reputation": 1367, "user_id": 4012133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/44Eda.jpg?s=128&g=1", "display_name": "Danko", "link": "https://stackoverflow.com/users/4012133/danko"}, "is_accepted": false, "score": -1, "last_activity_date": 1532555913, "creation_date": 1532555913, "answer_id": 51528281, "question_id": 51527092, "link": "https://stackoverflow.com/questions/51527092/const-children-this-props-vs-const-children-this-props-children/51528281#51528281", "title": "const {children} = this.props vs const children = this.props.children", "body": "<p>When you have an object with just one property such as</p>\n\n<pre><code>const obj = {\n  propA: 5\n}\n</code></pre>\n\n<p>Ther is no big differnce between</p>\n\n<p><code>const propA = obj.propA</code> and <code>const { propA } = obj</code></p>\n\n<p>However, with object which have multiple properties, object destructuring becomes benefitial (we write less sode):</p>\n\n<pre><code>const obj = {\n  propA: 5,\n  propbB: true,\n  propC: 'some string'\n}\n\n// less code (and cleaner)\nconst { propA, propB, propC } = obj\n\n// otherwise\nconst propA = obj.propA\nconst propB = obj.propB\nconst propC = obj.propC\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 3610386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7393a5dc527915ad9abae0184e6b40d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3610386", "link": "https://stackoverflow.com/users/3610386/user3610386"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 814, "favorite_count": 0, "accepted_answer_id": 51527258, "answer_count": 3, "score": 2, "last_activity_date": 1532555913, "creation_date": 1532550153, "last_edit_date": 1532551051, "question_id": 51527092, "link": "https://stackoverflow.com/questions/51527092/const-children-this-props-vs-const-children-this-props-children", "title": "const {children} = this.props vs const children = this.props.children", "body": "<p>I'm new to react and I'm trying to understand how the general syntax works, not sure if this is an appropriate place to ask this.\nThe following is my code for a simple title component.</p>\n\n<pre><code>export default class Title extends Component { \n    render () {\n        const {children} = this.props;\n\n        return (\n          &lt;View style={styles.header}&gt;\n            &lt;Text style={styles.title}&gt;{children}&lt;/Text&gt;\n          &lt;/View&gt;\n        )\n    }\n}\n</code></pre>\n\n<p>is this</p>\n\n<p><code>const {children} = this.props;</code> </p>\n\n<p>is equivalent to</p>\n\n<pre><code>const children = this.props.children;\n</code></pre>\n\n<p>If so, which is the correct form to use? Just trying to get a better understanding how react works, in addition, would the following try to get the children of the children of the props?</p>\n\n<p><code>const {children} = this.props.children</code></p>\n"}, {"tags": ["javascript", "jquery", "html", "google-chrome"], "comments": [{"owner": {"reputation": 2811, "user_id": 8417363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/hO0vR.png?s=128&g=1", "display_name": "Jimenemex", "link": "https://stackoverflow.com/users/8417363/jimenemex"}, "edited": false, "score": 3, "creation_date": 1532550421, "post_id": 51527073, "comment_id": 90022834, "body": "This works fine for me once I added <code>jQuery</code> and <code>#addto</code>. To go off your edit, is the seperate file included in the html with a <code>&lt;script&gt;</code> tag?"}, {"owner": {"reputation": 3098, "user_id": 3266303, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BcHj2.jpg?s=128&g=1", "display_name": "Max Baldwin", "link": "https://stackoverflow.com/users/3266303/max-baldwin"}, "edited": false, "score": 1, "creation_date": 1532550679, "post_id": 51527073, "comment_id": 90022947, "body": "&quot;but its only when it&#39;s in a separate js file that it wont work.&quot; Did you include that file?"}, {"owner": {"reputation": 670, "user_id": 7286051, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bce9ea1a1327b531e720dbbcd01714a3?s=128&d=identicon&r=PG&f=1", "display_name": "adam Wadsworth", "link": "https://stackoverflow.com/users/7286051/adam-wadsworth"}, "reply_to_user": {"reputation": 2811, "user_id": 8417363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/hO0vR.png?s=128&g=1", "display_name": "Jimenemex", "link": "https://stackoverflow.com/users/8417363/jimenemex"}, "edited": false, "score": 0, "creation_date": 1532552845, "post_id": 51527073, "comment_id": 90023935, "body": "@Jimenemex yes the file is in a script tag. and i know it&#39;s working as there are other function being call that draw a bar chart that shows. Also this all works in internet explorer."}], "answers": [{"comments": [{"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 0, "creation_date": 1532550953, "post_id": 51527210, "comment_id": 90023077, "body": "This is false. <code>load</code> runs <i>after</i> <code>DOMContentLoaded</code>."}, {"owner": {"reputation": 670, "user_id": 7286051, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bce9ea1a1327b531e720dbbcd01714a3?s=128&d=identicon&r=PG&f=1", "display_name": "adam Wadsworth", "link": "https://stackoverflow.com/users/7286051/adam-wadsworth"}, "edited": false, "score": 0, "creation_date": 1532551118, "post_id": 51527210, "comment_id": 90023155, "body": "i tried both and neither of these worked and it also doesn&#39;t explain why it works in IE but not chrome."}], "tags": [], "owner": {"reputation": 29, "user_id": 10124733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GDXHl.jpg?s=128&g=1", "display_name": "Fabian Gonzalez", "link": "https://stackoverflow.com/users/10124733/fabian-gonzalez"}, "is_accepted": false, "score": -1, "last_activity_date": 1532550704, "creation_date": 1532550704, "answer_id": 51527210, "question_id": 51527073, "link": "https://stackoverflow.com/questions/51527073/event-listener-not-running-in-chrome/51527210#51527210", "title": "Event listener not running in Chrome", "body": "<p>If you are not using Jquery make sure you run the script after the button element is created.</p>\n\n<p>If you're using jquery replace window.onload for</p>\n\n<pre><code>$(function(){\n //Initial code goes here\n});\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$( document).ready( function(){\n //Initial code goes here\n});\n</code></pre>\n\n<p>the reason is because window.onload , runs the script on the go, probably before the button is even created, with jquery you must wait for the document to be fully loaded in order to work with elements</p>\n"}, {"comments": [{"owner": {"reputation": 670, "user_id": 7286051, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bce9ea1a1327b531e720dbbcd01714a3?s=128&d=identicon&r=PG&f=1", "display_name": "adam Wadsworth", "link": "https://stackoverflow.com/users/7286051/adam-wadsworth"}, "edited": false, "score": 0, "creation_date": 1532551527, "post_id": 51527311, "comment_id": 90023350, "body": "This doesn&#39;t seem to have worked i&#39;m still getting nothing happening"}, {"owner": {"reputation": 684, "user_id": 5306879, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-mHzPJrQNo-g/AAAAAAAAAAI/AAAAAAAAAEw/9q0JlBuWzTM/photo.jpg?sz=128", "display_name": "\u042e\u0440\u0430 \u041f\u0430\u043d\u0430\u0440\u0438\u043d", "link": "https://stackoverflow.com/users/5306879/%d0%ae%d1%80%d0%b0-%d0%9f%d0%b0%d0%bd%d0%b0%d1%80%d0%b8%d0%bd"}, "reply_to_user": {"reputation": 670, "user_id": 7286051, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bce9ea1a1327b531e720dbbcd01714a3?s=128&d=identicon&r=PG&f=1", "display_name": "adam Wadsworth", "link": "https://stackoverflow.com/users/7286051/adam-wadsworth"}, "edited": false, "score": 0, "creation_date": 1532552032, "post_id": 51527311, "comment_id": 90023570, "body": "May be you just forget add selector #addto on page?"}, {"owner": {"reputation": 670, "user_id": 7286051, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bce9ea1a1327b531e720dbbcd01714a3?s=128&d=identicon&r=PG&f=1", "display_name": "adam Wadsworth", "link": "https://stackoverflow.com/users/7286051/adam-wadsworth"}, "edited": false, "score": 0, "creation_date": 1532552702, "post_id": 51527311, "comment_id": 90023864, "body": "This will work as it&#39;s in the same file as html, the issue is that when the JS is in another js file it wont work in chrome but will work in internet explorer"}, {"owner": {"reputation": 684, "user_id": 5306879, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-mHzPJrQNo-g/AAAAAAAAAAI/AAAAAAAAAEw/9q0JlBuWzTM/photo.jpg?sz=128", "display_name": "\u042e\u0440\u0430 \u041f\u0430\u043d\u0430\u0440\u0438\u043d", "link": "https://stackoverflow.com/users/5306879/%d0%ae%d1%80%d0%b0-%d0%9f%d0%b0%d0%bd%d0%b0%d1%80%d0%b8%d0%bd"}, "reply_to_user": {"reputation": 670, "user_id": 7286051, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bce9ea1a1327b531e720dbbcd01714a3?s=128&d=identicon&r=PG&f=1", "display_name": "adam Wadsworth", "link": "https://stackoverflow.com/users/7286051/adam-wadsworth"}, "edited": false, "score": 0, "creation_date": 1532552920, "post_id": 51527311, "comment_id": 90023978, "body": "@adamWadsworth i updated, works of course fine, i am sure problem in you side(mb adblock or something else)"}, {"owner": {"reputation": 670, "user_id": 7286051, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bce9ea1a1327b531e720dbbcd01714a3?s=128&d=identicon&r=PG&f=1", "display_name": "adam Wadsworth", "link": "https://stackoverflow.com/users/7286051/adam-wadsworth"}, "edited": false, "score": 0, "creation_date": 1532553538, "post_id": 51527311, "comment_id": 90024226, "body": "You were correct there is something broken on my chrome, I downloaded chrome portable (clean chrome) and it now works. This has wasted so much of my time. Thank you for your help. I don&#39;t know what is causing it though as i have disabled all my extensions"}], "tags": [], "owner": {"reputation": 684, "user_id": 5306879, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-mHzPJrQNo-g/AAAAAAAAAAI/AAAAAAAAAEw/9q0JlBuWzTM/photo.jpg?sz=128", "display_name": "\u042e\u0440\u0430 \u041f\u0430\u043d\u0430\u0440\u0438\u043d", "link": "https://stackoverflow.com/users/5306879/%d0%ae%d1%80%d0%b0-%d0%9f%d0%b0%d0%bd%d0%b0%d1%80%d0%b8%d0%bd"}, "is_accepted": false, "score": -1, "last_activity_date": 1532552872, "last_edit_date": 1532552872, "creation_date": 1532551159, "answer_id": 51527311, "question_id": 51527073, "link": "https://stackoverflow.com/questions/51527073/event-listener-not-running-in-chrome/51527311#51527311", "title": "Event listener not running in Chrome", "body": "<p>One of solution put js file in before close tag <code>&lt;/body&gt;</code> first jquery file, after yours, and you can remove <code>window.onload</code></p>\n\n<p>index.html\n    </p>\n\n<pre><code>&lt;head&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div class=\"modal-footer\"&gt;\n        &lt;button id=\"addinput\" type=\"button\" class=\"btn btn-default\"&gt;add&lt;/button&gt;\n        &lt;div id=\"addto\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.2.3/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"./main.js\"&gt;\n    &lt;/script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>main.js</p>\n\n<pre><code>var buttonElement = document.getElementById(\"addinput\");\n\nif (buttonElement) {\n    buttonElement.addEventListener('click', addinput);\n}\n\nfunction addinput() {\n    var input1 = '&lt;div class=\"input-group mb-3\"&gt;&lt;div class=\"input-group-prepend\"&gt;&lt;span class=\"input-group-text\" id=\"basic-addon1\"&gt;Name&lt;/span&gt;&lt;/div&gt;&lt;input type=\"text\" class=\"form-control\" placeholder=\"Username\" aria-label=\"Username\" aria-describedby=\"basic-addon1\"&gt;&lt;/div&gt;';\n    $(\"#addto\").append(input1);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 670, "user_id": 7286051, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bce9ea1a1327b531e720dbbcd01714a3?s=128&d=identicon&r=PG&f=1", "display_name": "adam Wadsworth", "link": "https://stackoverflow.com/users/7286051/adam-wadsworth"}, "edited": false, "score": 0, "creation_date": 1532552546, "post_id": 51527560, "comment_id": 90023789, "body": "I know it does but only in internet explorer or if the JavaScript is in the same file as the HTML in a &lt;script&gt; tag if its in a separate JS file chrome will not work."}, {"owner": {"reputation": 29, "user_id": 10124733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GDXHl.jpg?s=128&g=1", "display_name": "Fabian Gonzalez", "link": "https://stackoverflow.com/users/10124733/fabian-gonzalez"}, "reply_to_user": {"reputation": 670, "user_id": 7286051, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bce9ea1a1327b531e720dbbcd01714a3?s=128&d=identicon&r=PG&f=1", "display_name": "adam Wadsworth", "link": "https://stackoverflow.com/users/7286051/adam-wadsworth"}, "edited": false, "score": 0, "creation_date": 1532552791, "post_id": 51527560, "comment_id": 90023901, "body": "I&#39;ve done the test with multiple files... same result <a href=\"https://embed.plnkr.co/yfdWyR6CUvMRO9MKvF3y/\" rel=\"nofollow noreferrer\">embed.plnkr.co/yfdWyR6CUvMRO9MKvF3y</a>"}, {"owner": {"reputation": 29, "user_id": 10124733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GDXHl.jpg?s=128&g=1", "display_name": "Fabian Gonzalez", "link": "https://stackoverflow.com/users/10124733/fabian-gonzalez"}, "reply_to_user": {"reputation": 670, "user_id": 7286051, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bce9ea1a1327b531e720dbbcd01714a3?s=128&d=identicon&r=PG&f=1", "display_name": "adam Wadsworth", "link": "https://stackoverflow.com/users/7286051/adam-wadsworth"}, "edited": false, "score": 0, "creation_date": 1532552871, "post_id": 51527560, "comment_id": 90023949, "body": "Maybe would be a good idea check on the browser&#39;s console, maybe something is happening with your code locally"}], "tags": [], "owner": {"reputation": 29, "user_id": 10124733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GDXHl.jpg?s=128&g=1", "display_name": "Fabian Gonzalez", "link": "https://stackoverflow.com/users/10124733/fabian-gonzalez"}, "is_accepted": false, "score": 0, "last_activity_date": 1532552363, "creation_date": 1532552363, "answer_id": 51527560, "question_id": 51527073, "link": "https://stackoverflow.com/questions/51527073/event-listener-not-running-in-chrome/51527560#51527560", "title": "Event listener not running in Chrome", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.onload=function() {\r\n  var buttonElement = document.getElementById(\"addinput\");\r\n\r\n  if (buttonElement) {\r\n    buttonElement.addEventListener('click', addinput);\r\n  }\r\n\r\n  function addinput() {\r\n    var input1 = '&lt;div class=\"input-group mb-3\"&gt;&lt;div class=\"input-group-prepend\"&gt;&lt;span class=\"input-group-text\" id=\"basic-addon1\"&gt;Name&lt;/span&gt;&lt;/div&gt;&lt;input type=\"text\" class=\"form-control\" placeholder=\"Username\" aria-label=\"Username\" aria-describedby=\"basic-addon1\"&gt;&lt;/div&gt;';\r\n    $(\"#addto\").append(input1);\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> &lt;div class=\"modal-footer\"&gt;\r\n        &lt;button id=\"addinput\" type=\"button\" class=\"btn btn-default\"&gt;add&lt;/button&gt;\r\n        &lt;div id=\"addto\"&gt;&lt;/div&gt;\r\n    &lt;/div&gt;&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.2.3/jquery.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Your code actually works</p>\n"}], "owner": {"reputation": 670, "user_id": 7286051, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bce9ea1a1327b531e720dbbcd01714a3?s=128&d=identicon&r=PG&f=1", "display_name": "adam Wadsworth", "link": "https://stackoverflow.com/users/7286051/adam-wadsworth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1138, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1532554040, "creation_date": 1532550074, "last_edit_date": 1532554040, "question_id": 51527073, "link": "https://stackoverflow.com/questions/51527073/event-listener-not-running-in-chrome", "title": "Event listener not running in Chrome", "body": "<p>I\u2019m having an issue with Chrome. I have tried to create a button that adds a new <code>&lt;input&gt;</code> tag when the button is pressed. Now, the below code works totally fine on Internet Explorer, however in Chrome nothing happens at all.</p>\n\n<p>I also get no errors in the console; the function just doesn\u2019t seem to run.</p>\n\n<p>I\u2019ve tried replacing the <code>$(\"#addto\").append(input1);</code> with just <code>alert(\"hello world\");</code>, just to see if the code ran at all, and it doesn\u2019t.</p>\n\n<p>I\u2019ve also just noticed that this works fine if you put the JavaScript inside a <code>&lt;script&gt;</code> tag on the HTML page but it\u2019s only when it\u2019s in a separate <code>.js</code> file that it won\u2019t work.</p>\n\n<p>It looks like my Chrome version isn\u2019t properly working. I\u2019ve downloaded Chrome Portable and that has fixed the issue.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.onload = function() {\r\n  var buttonElement = document.getElementById(\"addinput\");\r\n\r\n  if (buttonElement) {\r\n    buttonElement.addEventListener('click', addinput);\r\n  }\r\n\r\n  function addinput() {\r\n    var input1 = '&lt;div class=\"input-group mb-3\"&gt;&lt;div class=\"input-group-prepend\"&gt;&lt;span class=\"input-group-text\" id=\"basic-addon1\"&gt;Name&lt;/span&gt;&lt;/div&gt;&lt;input type=\"text\" class=\"form-control\" placeholder=\"Username\" aria-label=\"Username\" aria-describedby=\"basic-addon1\"&gt;&lt;/div&gt;';\r\n    \r\n    $(\"#addto\").append(input1);\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.2.3/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"modal-footer\"&gt;\r\n  &lt;button id=\"addinput\" type=\"button\" class=\"btn btn-default\"&gt;add&lt;/button&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 21, "user_id": 9241767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5073c39e7bb832446fd1206c23e0c099?s=128&d=identicon&r=PG&f=1", "display_name": "Zulihan", "link": "https://stackoverflow.com/users/9241767/zulihan"}, "edited": false, "score": 0, "creation_date": 1532624483, "post_id": 51527072, "comment_id": 90055955, "body": "Ok, it&#39;s getting there... I&#39;ve converted the plugin js file to Typescript classes &amp; interface. Now it&#39;s kind of working ok. I&#39;ve got no errors but I&#39;ve encountered few issues when displaying the html: it doesn&#39;t match the events durations and the header doesn&#39;t scroll...Working on it. If anyone is interested I&#39;ll push it on my Github when I solve that."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 9241767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5073c39e7bb832446fd1206c23e0c099?s=128&d=identicon&r=PG&f=1", "display_name": "Zulihan", "link": "https://stackoverflow.com/users/9241767/zulihan"}, "is_accepted": false, "score": 1, "last_activity_date": 1532652124, "creation_date": 1532652124, "answer_id": 51549257, "question_id": 51527072, "link": "https://stackoverflow.com/questions/51527072/how-to-use-timetable-js-in-angular-typescript/51549257#51549257", "title": "How to use Timetable.js in Angular typescript?", "body": "<p>So based on <a href=\"http://timetablejs.org/\" rel=\"nofollow noreferrer\">Timetable.js</a>, (<a href=\"https://github.com/Grible/timetable.js\" rel=\"nofollow noreferrer\">the plugin's Github</a>) I managed to make it work in Angular by converting it to Typescript.\nHere's the result on my <a href=\"https://github.com/zulihan/ng-timetable\" rel=\"nofollow noreferrer\">Github</a>, in case someone is interested.\nThanks to <a href=\"https://github.com/Grible/timetable.js/commits?author=stevenaanen\" rel=\"nofollow noreferrer\">stevenaanen</a> 'cause his plugin is exactly what I needed.</p>\n"}], "owner": {"reputation": 21, "user_id": 9241767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5073c39e7bb832446fd1206c23e0c099?s=128&d=identicon&r=PG&f=1", "display_name": "Zulihan", "link": "https://stackoverflow.com/users/9241767/zulihan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1181, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1532652124, "creation_date": 1532550055, "last_edit_date": 1532550149, "question_id": 51527072, "link": "https://stackoverflow.com/questions/51527072/how-to-use-timetable-js-in-angular-typescript", "title": "How to use Timetable.js in Angular typescript?", "body": "<p>I'm trying to implement this nice javascript plugin into an Angular6 project :\n<a href=\"http://timetablejs.org/\" rel=\"nofollow noreferrer\">Timetable.js</a> / <a href=\"https://github.com/Grible/timetable.js\" rel=\"nofollow noreferrer\">on Github</a></p>\n\n<p>Looking for a way to do it I've come accross this :\n<a href=\"https://stackoverflow.com/questions/37252369/how-to-use-timetable-js-in-ionic2-typescript\">How to use Timetable.js in ionic2 typescript</a>. The post is two years old and it seems that the problem hasn't been solved.\nBased on the code <a href=\"https://stackoverflow.com/users/1922885/tmnrkb\">tmnrkb</a> posted I've written that code in my app.component, after declaring the js script file in the angular.json file :</p>\n\n<pre><code>import { Component } from '@angular/core';\n\ndeclare class Timetable {\n  constructor();\n  scope: string;\n  locations: Array&lt;string&gt;;\n  events: Array&lt;any&gt;;\n  Renderer(tt: any): any;\n  setScope(start: number, end: number);\n  addLocations(locations: Array&lt;string&gt;);\n  addEvent(artistCode: string, stageCode: string, startDate: Date, endDate: Date);\n}\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n\n  timetable = new Timetable();\n\n  constructor() {\n    this.addTimeTable();\n  }\n\n  addTimeTable() {\n    this.timetable.setScope(9, 3);\n\n    this.timetable.addLocations(['London', 'Paris', 'Los Angeles']);\n\n    this.timetable.addEvent('Sightseeing', 'London', new Date(2018, 8, 25, 9), new Date(2018, 8, 26, 12));\n\n    this.timetable.addEvent('Zumba', 'Paris', new Date(2018, 8, 27, 9), new Date(2018, 8, 29, 12));\n\n    this.timetable.addEvent('Cocktails', 'Los Angeles', new Date(2018, 8, 22, 9), new Date(2018, 8, 23, 12));\n\n    const renderer = this.timetable.Renderer(this.timetable);\n    // const renderer = new Timetable.Renderer(this.timetable);\n    renderer.draw('.timetable');\n  }\n\n\n\n}\n</code></pre>\n\n<p>When I run ng serve it compiles the code but in the console I've got this error:</p>\n\n<pre><code>AppComponent_Host.ngfactory.js? [sm]:1 ERROR TypeError: this.timetable.Renderer is not a function\n    at AppComponent.push../src/app/app.component.ts.AppComponent.addTimeTable (app.component.ts:39)\n    at new AppComponent (app.component.ts:25)\n</code></pre>\n\n<p>So I wonder why it says that Renderer is not a function.</p>\n"}, {"tags": ["javascript", "jquery", "ajax", "datatables"], "comments": [{"owner": {"reputation": 1641, "user_id": 5813861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7bf25fab1a0a36370117dd16e237d46d?s=128&d=identicon&r=PG&f=1", "display_name": "yash", "link": "https://stackoverflow.com/users/5813861/yash"}, "edited": false, "score": 1, "creation_date": 1532608035, "post_id": 51527015, "comment_id": 90045155, "body": "how can recordsDisplay &gt;  totalRecords?"}, {"owner": {"reputation": 127, "user_id": 3508924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ab38bc2190805184bba15fff1d6266d3?s=128&d=identicon&r=PG&f=1", "display_name": "AnimalTesting", "link": "https://stackoverflow.com/users/3508924/animaltesting"}, "reply_to_user": {"reputation": 1641, "user_id": 5813861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7bf25fab1a0a36370117dd16e237d46d?s=128&d=identicon&r=PG&f=1", "display_name": "yash", "link": "https://stackoverflow.com/users/5813861/yash"}, "edited": false, "score": 1, "creation_date": 1532609147, "post_id": 51527015, "comment_id": 90045859, "body": "Thanks, that was the problem!"}, {"owner": {"reputation": 1641, "user_id": 5813861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7bf25fab1a0a36370117dd16e237d46d?s=128&d=identicon&r=PG&f=1", "display_name": "yash", "link": "https://stackoverflow.com/users/5813861/yash"}, "edited": false, "score": 1, "creation_date": 1532609689, "post_id": 51527015, "comment_id": 90046254, "body": "Hi @AnimalTesting, i added answer. if it helps, then upvote."}], "answers": [{"tags": [], "owner": {"reputation": 127, "user_id": 3508924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ab38bc2190805184bba15fff1d6266d3?s=128&d=identicon&r=PG&f=1", "display_name": "AnimalTesting", "link": "https://stackoverflow.com/users/3508924/animaltesting"}, "is_accepted": false, "score": 0, "last_activity_date": 1532609222, "creation_date": 1532609222, "answer_id": 51539202, "question_id": 51527015, "link": "https://stackoverflow.com/questions/51527015/serverside-datatables-returning-extra-pages/51539202#51539202", "title": "Serverside DataTables returning extra pages", "body": "<p>After re-checking the server-side code and with the help of yash's comment, I realized I switched the return values of <code>recordsTotal</code> and <code>recordsDisplay</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1641, "user_id": 5813861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7bf25fab1a0a36370117dd16e237d46d?s=128&d=identicon&r=PG&f=1", "display_name": "yash", "link": "https://stackoverflow.com/users/5813861/yash"}, "is_accepted": true, "score": 1, "last_activity_date": 1532609510, "creation_date": 1532609510, "answer_id": 51539297, "question_id": 51527015, "link": "https://stackoverflow.com/questions/51527015/serverside-datatables-returning-extra-pages/51539297#51539297", "title": "Serverside DataTables returning extra pages", "body": "<p>hope this help you to understand.</p>\n\n<p><code>recordsTotal</code> is used to display total records and set pagination for number of records. Datatable has internal function to set pagination based on <code>recordsTotal</code>.<br/>\n<br/> while<code>recordsDisplay</code> is used to display records on particular page.<br/>  <br/> when you click on pagination, for server side it fetch new records based on length and offset. \n<br/> <strong>So, The problem in your code is that you have <code>recordsDisplay</code> is 18, and <code>recordsTotal</code> is 1. which is not possible.</strong> </p>\n\n<p>--> it is never possible that <code>recordsDisplay</code> > <code>recordsTotal</code>.</p>\n"}], "owner": {"reputation": 127, "user_id": 3508924, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ab38bc2190805184bba15fff1d6266d3?s=128&d=identicon&r=PG&f=1", "display_name": "AnimalTesting", "link": "https://stackoverflow.com/users/3508924/animaltesting"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 51539297, "answer_count": 2, "score": 0, "last_activity_date": 1532609510, "creation_date": 1532549773, "question_id": 51527015, "link": "https://stackoverflow.com/questions/51527015/serverside-datatables-returning-extra-pages", "title": "Serverside DataTables returning extra pages", "body": "<p>When I am calling a serverside DataTables search, I get back one item and this is the response of the AJAX call:</p>\n\n<pre><code>{draw: 1, recordsTotal: 1, recordsFiltered: 18,\u2026}\n data: [{...}]\n draw: 1\n recordsFiltered: 18\n recordsTotal: 1\n</code></pre>\n\n<p>And DataTables recognizes this:</p>\n\n<pre><code>Showing 1 to 10 of 18 entries (filtered from 1 total entries)\n</code></pre>\n\n<p>This is my current configuration (I'm currently using pipelining as described here: <a href=\"https://datatables.net/examples/server_side/pipeline.html\" rel=\"nofollow noreferrer\">https://datatables.net/examples/server_side/pipeline.html</a>)</p>\n\n<pre><code>var table = $('#table').DataTable({\n    \"processing\": true,\n    \"serverSide\": true,\n    \"ajax\": $.fn.dataTable.pipeline({\n        url: '/url',\n        pages: 5 // number of pages to cache,\n    }),\n    \"pagingType\": \"full_numbers\",\n    \"columns\": columnData,\n    \"order\": [[1, \"desc\"]]\n});\n</code></pre>\n\n<p>When I call <code>table.page.info()</code> in the Chrome browser console, I get</p>\n\n<pre><code>{page: 0, pages: 2, start: 0, end: 10, length: 10,\u00a0\u2026}\nend: 10\nlength: 10\npage: 0\npages: 2\nrecordsDisplay: 18\nrecordsTotal: 1\nserverSide: true\nstart: 0\n</code></pre>\n\n<p>Based on the previous information and the fact that Datatables correctly searches, I think my server-side implementation is correct. However, I don't know what is causing Datatables to display two pages instead of one with ten records per page.</p>\n"}, {"tags": ["javascript", "html", "webforms"], "comments": [{"owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 2, "creation_date": 1532549821, "post_id": 51527007, "comment_id": 90022555, "body": "What have you tried so far? What errors/issues have you run into?"}, {"owner": {"reputation": 17, "user_id": 9958181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AM7Ls.gif?s=128&g=1", "display_name": "Dana Lagnud", "link": "https://stackoverflow.com/users/9958181/dana-lagnud"}, "reply_to_user": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1532549896, "post_id": 51527007, "comment_id": 90022591, "body": "As you can see, I have <code>oninput=&quot;javascript: if (this.value.length &gt; this.maxLength) this.value = this.value.slice(0, this.maxLength);&quot; type=&quot;number&quot; maxlength=&quot;9&quot;</code> This allows 9 digits, but I&#39;m not sure how to do it so that it does not submit if it is under 9 digits."}, {"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 1, "creation_date": 1532549934, "post_id": 51527007, "comment_id": 90022613, "body": "Is there any reason you\u2019re using an <code>oninput</code> attribute? Inline event handlers like <code>onclick</code> or <code>oninput</code> are <a href=\"https://stackoverflow.com/q/11737873/4642212\">not recommended</a>. They are an <a href=\"https://stackoverflow.com/a/43459991/4642212\">obsolete, hard-to-maintain and unintuitive</a> way of registering events. Always <a href=\"https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Inline_event_handlers_%E2%80%94_don&#39;t_use_these\" rel=\"nofollow noreferrer\">use <code>addEventListener</code></a> instead. Then you may use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Event/preventDefault\" rel=\"nofollow noreferrer\"><code>preventDefault</code></a>."}, {"owner": {"reputation": 17, "user_id": 9958181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AM7Ls.gif?s=128&g=1", "display_name": "Dana Lagnud", "link": "https://stackoverflow.com/users/9958181/dana-lagnud"}, "reply_to_user": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 0, "creation_date": 1532549973, "post_id": 51527007, "comment_id": 90022628, "body": "@Xufox no ultimate reason, just using it to test at the moment"}, {"owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1532550021, "post_id": 51527007, "comment_id": 90022652, "body": "Hook into the <code>onsubmit</code> handler for the form, and test if the input value is less than 9 digits, and call <code>event.preventDefault();</code> if it is. Plenty of tutorials online."}], "answers": [{"tags": [], "owner": {"reputation": 32729, "user_id": 9513184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de818fcfdfb2bbaf9c67cf7f1d611db8?s=128&d=identicon&r=PG&f=1", "display_name": "iota", "link": "https://stackoverflow.com/users/9513184/iota"}, "is_accepted": false, "score": 0, "last_activity_date": 1532551121, "last_edit_date": 1532551121, "creation_date": 1532550401, "answer_id": 51527139, "question_id": 51527007, "link": "https://stackoverflow.com/questions/51527007/javascript-to-only-allow-certain-digits-and-not-submit-if-condition-isnt-met/51527139#51527139", "title": "JavaScript to only allow certain digits, and not submit if condition isn&#39;t met", "body": "<p>For preventing form submission for invalid input (less than 9 digits) use this:</p>\n\n<pre><code>document.getElementById(\"formID\").addEventListener(\"submit\", function(e){\n  var input = document.getElementsByName(\"Contract.OldContractNumber\")[0].value;\n  if(input.length&lt;9){\n    e.preventDefault();\n  }\n});\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        &lt;div class=\"form-group\"&gt;\r\n        &lt;form id=\"formID\"&gt;\r\n                                    &lt;label&gt;Old Contract ID&lt;/label&gt;\r\n                                    &lt;div class=\"input-group\"&gt;\r\n                                        &lt;span class=\"input-group-addon\"&gt;&lt;i class=\"fa fa-hashtag\"&gt;&lt;/i&gt;&lt;/span&gt;\r\n                                       &lt;input type=\"text\" name=\"Contract.OldContractNumber\" id=\"ContractOldContractNumber\" maxlength=\"9\" required&gt;\r\n                                 &lt;input type=\"submit\" value=\"Submit\"/&gt;\r\n                                    &lt;/div&gt;\r\n                          &lt;/form&gt;\r\n &lt;/div&gt;\r\n &lt;p/&gt;\r\n &lt;span id=\"result\"&gt;&lt;/span&gt;\r\n&lt;script&gt;\r\ndocument.getElementById(\"formID\").addEventListener(\"submit\", function(e){\r\n      var input = document.getElementsByName(\"Contract.OldContractNumber\")[0].value;\r\n      if(input.length&lt;9){\r\n        e.preventDefault();\r\n        document.getElementById(\"result\").innerHTML = \"&lt;b style='color: red;'&gt;Input must be 9 digits!&lt;/b&gt;\";\r\n      } else {\r\n         document.getElementById(\"result\").innerHTML = \"\";\r\n      }\r\n    });\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You can use the following code to prevent non-numeric input (from frans' answer to <a href=\"https://stackoverflow.com/questions/12290438/only-allow-numbers-to-be-typed-in-input-field\">this</a> StackOverflow question.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        &lt;div class=\"form-group\"&gt;\r\n                                    &lt;label&gt;Old Contract ID&lt;/label&gt;\r\n                                    &lt;div class=\"input-group\"&gt;\r\n                                        &lt;span class=\"input-group-addon\"&gt;&lt;i class=\"fa fa-hashtag\"&gt;&lt;/i&gt;&lt;/span&gt;\r\n                                       &lt;input type=\"text\" name=\"ContractOldContractNumber\" id=\"ContractOldContractNumber\" maxlength=\"9\" required&gt;\r\n                                    &lt;/div&gt;\r\n &lt;/div&gt;\r\n &lt;script&gt;\r\nfunction InputValidator(input, validationType, validChars) {\r\nif (input === null || input.nodeType !== 1 || input.type !== 'text' &amp;&amp; input.type !== 'number')\r\n    throw ('Please specify a valid input');\r\n\r\nif (!(InputValidator.ValidationType.hasOwnProperty(validationType) || validationType))\r\n    throw 'Please specify a valid Validation type';\r\n\r\ninput.InputValidator = this;\r\n\r\ninput.InputValidator.ValidCodes = [];\r\n\r\ninput.InputValidator.ValidCodes.Add = function (item) {\r\n    this[this.length] = item;\r\n};\r\n\r\ninput.InputValidator.ValidCodes.hasValue = function (value, target) {\r\n    var i;\r\n    for (i = 0; i &lt; this.length; i++) {\r\n        if (typeof (target) === 'undefined') {\r\n            if (this[i] === value)\r\n                return true;\r\n        }\r\n        else {\r\n            if (this[i][target] === value)\r\n                return true;\r\n        }\r\n    }\r\n\r\n    return false;\r\n};\r\n\r\nvar commandKeys = {\r\n    'backspace': 8,\r\n    'tab': 9,\r\n    'enter': 13,\r\n    'shift': 16,\r\n    'ctrl': 17,\r\n    'alt': 18,\r\n    'pause/break': 19,\r\n    'caps lock': 20,\r\n    'escape': 27,\r\n    'page up': 33,\r\n    'page down': 34,\r\n    'end': 35,\r\n    'home': 36,\r\n    'left arrow': 37,\r\n    'up arrow': 38,\r\n    'right arrow': 39,\r\n    'down arrow': 40,\r\n    'insert': 45,\r\n    'delete': 46,\r\n    'left window key': 91,\r\n    'right window key': 92,\r\n    'select key': 93,\r\n    /*creates Confusion in IE */\r\n    //'f1': 112,\r\n    //'f2': 113,\r\n    //'f3': 114,\r\n    //'f4': 115,\r\n    //'f5': 116,\r\n    //'f6': 117,\r\n    //'f7': 118,\r\n    //'f8': 119,\r\n    //'f9': 120,\r\n    //'f10': 121,\r\n    //'f11': 122,\r\n    //'f12': 123,\r\n    'num lock': 144,\r\n    'scroll lock': 145,\r\n};\r\n\r\ncommandKeys.hasValue = function (value) {\r\n    for (var a in this) {\r\n        if (this[a] === value)\r\n            return true;\r\n    }\r\n\r\n    return false;\r\n};\r\n\r\nfunction getCharCodes(arrTarget, chars) {\r\n    for (var i = 0; i &lt; chars.length; i++) {\r\n        arrTarget.Add(chars[i].charCodeAt(0));\r\n    }\r\n}\r\n\r\nfunction triggerEvent(name, element) {\r\n    if (document.createEventObject) {\r\n        // dispatch for IE\r\n        var evt = document.createEventObject();\r\n        return element.fireEvent('on' + name, evt)\r\n    }\r\n    else {\r\n        // dispatch for firefox + others\r\n        var evt = document.createEvent(\"HTMLEvents\");\r\n        evt.initEvent(name, true, true); // event type,bubbling,cancelable\r\n        return !element.dispatchEvent(evt);\r\n    }\r\n}\r\n\r\nif (validationType == InputValidator.ValidationType.Custom) {\r\n    if (typeof (validChars) === 'undefined')\r\n        throw 'Please add valid characters';\r\n\r\n    getCharCodes(input.InputValidator.ValidCodes, validChars);\r\n}\r\nelse if (validationType == InputValidator.ValidationType.Decimal) {\r\n    getCharCodes(input.InputValidator.ValidCodes, '0123456789.');\r\n}\r\nelse if (validationType == InputValidator.ValidationType.Numeric) {\r\n    getCharCodes(input.InputValidator.ValidCodes, '0123456789');\r\n}\r\n\r\ninput.InputValidator.ValidateChar = function (c) {\r\n    return this.ValidCodes.hasValue(c.charCodeAt(0));\r\n}\r\n\r\ninput.InputValidator.ValidateString = function (s) {\r\n    var arr = s.split('');\r\n\r\n    for (var i = 0; i &lt; arr.length; i++) {\r\n        if (!this.ValidateChar(arr[i])) {\r\n            arr[i] = '';\r\n        }\r\n    }\r\n\r\n    return arr.join('');\r\n}\r\n\r\nfunction bindEvent(el, eventName, eventHandler) {\r\n    if (el.addEventListener) {\r\n        el.addEventListener(eventName, eventHandler, false);\r\n    } else if (el.attachEvent) {\r\n        el.attachEvent('on' + eventName, eventHandler);\r\n    }\r\n}\r\n\r\nfunction getCaretPosition(i) {\r\n    if (!i) return;\r\n\r\n    if ('selectionStart' in i) {\r\n        return i.selectionStart;\r\n    }\r\n    else {\r\n        if (document.selection) {\r\n            var sel = document.selection.createRange();\r\n            var selLen = document.selection.createRange().text.length;\r\n            sel.moveStart('character', -i.value.length);\r\n            return sel.text.length - selLen;\r\n        }\r\n    }\r\n}\r\n\r\nfunction setCursor(node, pos) {\r\n    var node = (typeof (node) === \"string\" || node instanceof String) ? document.getElementById(node) : node;\r\n\r\n    if (!node) {\r\n        return false;\r\n    }\r\n    else if (node.createTextRange) {\r\n        var textRange = node.createTextRange();\r\n        textRange.collapse(true);\r\n        textRange.moveEnd(pos);\r\n        textRange.moveStart(pos);\r\n        textRange.select();\r\n        return true;\r\n    } else if (node.setSelectionRange) {\r\n        node.setSelectionRange(pos, pos);\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nfunction validateActive() {\r\n    if (input.isActive) {\r\n        var pos = getCaretPosition(input);\r\n\r\n        var arr = input.value.split('');\r\n\r\n        for (var i = 0; i &lt; arr.length; i++) {\r\n            if (!this.ValidateChar(arr[i])) {\r\n                arr[i] = '';\r\n\r\n                if (pos &gt; i)\r\n                    pos--;\r\n            }\r\n        }\r\n        console.log('before : ' + input.value);\r\n\r\n        input.value = arr.join('');\r\n        console.log('after : ' + input.value, input);\r\n        setCursor(input, pos);\r\n\r\n        setTimeout(validateActive, 10);\r\n    }\r\n}\r\n\r\nbindEvent(input, 'keypress', function (e) {\r\n    var evt = e || window.event;\r\n    var charCode = evt.which || evt.keyCode;\r\n\r\n    if (!input.InputValidator.ValidCodes.hasValue(charCode) &amp;&amp; !commandKeys.hasValue(charCode)) {\r\n        if (evt.preventDefault) {\r\n            evt.preventDefault();\r\n            evt.stopPropagation();\r\n        }\r\n        return false;\r\n    }\r\n});\r\n\r\nbindEvent(input, 'keyup', function (e) {\r\n    var evt = e || window.event;\r\n    var charCode = evt.which || evt.keyCode;\r\n\r\n    if (!input.InputValidator.ValidCodes.hasValue(charCode) &amp;&amp; !commandKeys.hasValue(charCode)) {\r\n        if (evt.preventDefault) {\r\n            evt.preventDefault();\r\n            evt.stopPropagation();\r\n        }\r\n        return false;\r\n    }\r\n});\r\n\r\nbindEvent(input, 'change', function (e) {\r\n    var dt = input.value;\r\n\r\n    input.value = input.InputValidator.ValidateString(input.value);\r\n\r\n    if (input.value !== dt)\r\n        triggerEvent('change', input);\r\n});\r\n\r\nbindEvent(input, 'blur', function (e) {\r\n    var dt = input.value;\r\n    input.value = input.InputValidator.ValidateString(input.value);\r\n\r\n    input.isActive = false;\r\n\r\n    if (input.value !== dt)\r\n        triggerEvent('blur', input);\r\n});\r\n\r\nbindEvent(input, 'paste', function (e) {\r\n    var evt = e || window.event;\r\n    var svt = input.value;\r\n\r\n    if (evt &amp;&amp; evt.clipboardData &amp;&amp; evt.clipboardData.getData) {// Webkit - get data from clipboard, put into editdiv, cleanup, then cancel event\r\n        if (/text\\/html/.test(evt.clipboardData.types)) {\r\n            var dt = evt.clipboardData.getData('text/html');\r\n\r\n            input.value = input.InputValidator.ValidateString(dt);\r\n            if (input.value !== dt)\r\n                triggerEvent('change', input);\r\n        }\r\n        else if (/text\\/plain/.test(e.clipboardData.types)) {\r\n            var dt = evt.clipboardData.getData('text/plain');\r\n\r\n            input.value = input.InputValidator.ValidateString(dt);\r\n            if (input.value !== dt)\r\n                triggerEvent('change', input);\r\n        }\r\n        else {\r\n            input.value = '';\r\n        }\r\n        waitforpastedata(input, svt);\r\n        if (e.preventDefault) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n        }\r\n        return false;\r\n    }\r\n    else {// Everything else - empty editdiv and allow browser to paste content into it, then cleanup\r\n        input.value = '';\r\n        waitforpastedata(input, svt);\r\n        return true;\r\n    }\r\n});\r\n\r\nbindEvent(input, 'select', function (e) {\r\n    var evt = e || window.event;\r\n\r\n    if (evt.preventDefault) {\r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n    }\r\n    return false;\r\n});\r\n\r\nbindEvent(input, 'selectstart', function (e) {\r\n    var evt = e || window.event;\r\n\r\n    if (evt.preventDefault) {\r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n    }\r\n    return false;\r\n});\r\n\r\n/* no need to validate wile active,\r\n   removing F keys fixed IE compatability*/\r\n//bindEvent(input, 'fucus', function (e) {\r\n//    input.isActive = true;\r\n//    validateActive();\r\n//});\r\n\r\n//validate current value of the textbox\r\n{\r\n    var dt = input.value;\r\n    input.value = input.InputValidator.ValidateString(input.value);\r\n\r\n    //trigger event to indicate value has changed\r\n    if (input.value !== dt)\r\n        triggerEvent('change', input);\r\n}\r\n\r\nfunction waitforpastedata(elem, savedcontent) {\r\n    if (elem.value !== '') {\r\n        var dt = input.value;\r\n        elem.value = elem.InputValidator.ValidateString(elem.value);\r\n\r\n        if (input.value !== dt)\r\n            triggerEvent('change', input);\r\n    }\r\n    else {\r\n        var that = {\r\n            e: elem,\r\n            s: savedcontent\r\n        }\r\n        that.callself = function () {\r\n            waitforpastedata(that.e, that.s)\r\n        }\r\n        setTimeout(that.callself, 10);\r\n    }\r\n}\r\n}\r\n\r\nInputValidator.ValidationType = new (function (types) {\r\n    for (var i = 0; i &lt; types.length; i++) {\r\n        this[types[i]] = types[i];\r\n    }\r\n})(['Numeric', 'Custom', 'Decimal']);\r\nnew InputValidator(document.getElementById('ContractOldContractNumber'), InputValidator.ValidationType.Numeric);\r\n &lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Combined:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>   &lt;div class=\"form-group\"&gt;\r\n        &lt;form id=\"formID\"&gt;\r\n                                    &lt;label&gt;Old Contract ID&lt;/label&gt;\r\n                                    &lt;div class=\"input-group\"&gt;\r\n                                        &lt;span class=\"input-group-addon\"&gt;&lt;i class=\"fa fa-hashtag\"&gt;&lt;/i&gt;&lt;/span&gt;\r\n                                       &lt;input type=\"text\" name=\"Contract.OldContractNumber\" id=\"ContractOldContractNumber\" maxlength=\"9\" required&gt;\r\n                                 &lt;input type=\"submit\" value=\"Submit\"/&gt;\r\n                                    &lt;/div&gt;\r\n                          &lt;/form&gt;\r\n &lt;/div&gt;\r\n &lt;p/&gt;\r\n &lt;span id=\"result\"&gt;&lt;/span&gt;\r\n&lt;script&gt;\r\ndocument.getElementById(\"formID\").addEventListener(\"submit\", function(e){\r\n      var input = document.getElementsByName(\"Contract.OldContractNumber\")[0].value;\r\n      if(input.length&lt;9){\r\n        e.preventDefault();\r\n        document.getElementById(\"result\").innerHTML = \"&lt;b style='color: red;'&gt;Input must be 9 digits!&lt;/b&gt;\";\r\n      } else {\r\n         document.getElementById(\"result\").innerHTML = \"\";\r\n      }\r\n    });\r\nfunction InputValidator(input, validationType, validChars) {\r\nif (input === null || input.nodeType !== 1 || input.type !== 'text' &amp;&amp; input.type !== 'number')\r\n    throw ('Please specify a valid input');\r\n\r\nif (!(InputValidator.ValidationType.hasOwnProperty(validationType) || validationType))\r\n    throw 'Please specify a valid Validation type';\r\n\r\ninput.InputValidator = this;\r\n\r\ninput.InputValidator.ValidCodes = [];\r\n\r\ninput.InputValidator.ValidCodes.Add = function (item) {\r\n    this[this.length] = item;\r\n};\r\n\r\ninput.InputValidator.ValidCodes.hasValue = function (value, target) {\r\n    var i;\r\n    for (i = 0; i &lt; this.length; i++) {\r\n        if (typeof (target) === 'undefined') {\r\n            if (this[i] === value)\r\n                return true;\r\n        }\r\n        else {\r\n            if (this[i][target] === value)\r\n                return true;\r\n        }\r\n    }\r\n\r\n    return false;\r\n};\r\n\r\nvar commandKeys = {\r\n    'backspace': 8,\r\n    'tab': 9,\r\n    'enter': 13,\r\n    'shift': 16,\r\n    'ctrl': 17,\r\n    'alt': 18,\r\n    'pause/break': 19,\r\n    'caps lock': 20,\r\n    'escape': 27,\r\n    'page up': 33,\r\n    'page down': 34,\r\n    'end': 35,\r\n    'home': 36,\r\n    'left arrow': 37,\r\n    'up arrow': 38,\r\n    'right arrow': 39,\r\n    'down arrow': 40,\r\n    'insert': 45,\r\n    'delete': 46,\r\n    'left window key': 91,\r\n    'right window key': 92,\r\n    'select key': 93,\r\n    /*creates Confusion in IE */\r\n    //'f1': 112,\r\n    //'f2': 113,\r\n    //'f3': 114,\r\n    //'f4': 115,\r\n    //'f5': 116,\r\n    //'f6': 117,\r\n    //'f7': 118,\r\n    //'f8': 119,\r\n    //'f9': 120,\r\n    //'f10': 121,\r\n    //'f11': 122,\r\n    //'f12': 123,\r\n    'num lock': 144,\r\n    'scroll lock': 145,\r\n};\r\n\r\ncommandKeys.hasValue = function (value) {\r\n    for (var a in this) {\r\n        if (this[a] === value)\r\n            return true;\r\n    }\r\n\r\n    return false;\r\n};\r\n\r\nfunction getCharCodes(arrTarget, chars) {\r\n    for (var i = 0; i &lt; chars.length; i++) {\r\n        arrTarget.Add(chars[i].charCodeAt(0));\r\n    }\r\n}\r\n\r\nfunction triggerEvent(name, element) {\r\n    if (document.createEventObject) {\r\n        // dispatch for IE\r\n        var evt = document.createEventObject();\r\n        return element.fireEvent('on' + name, evt)\r\n    }\r\n    else {\r\n        // dispatch for firefox + others\r\n        var evt = document.createEvent(\"HTMLEvents\");\r\n        evt.initEvent(name, true, true); // event type,bubbling,cancelable\r\n        return !element.dispatchEvent(evt);\r\n    }\r\n}\r\n\r\nif (validationType == InputValidator.ValidationType.Custom) {\r\n    if (typeof (validChars) === 'undefined')\r\n        throw 'Please add valid characters';\r\n\r\n    getCharCodes(input.InputValidator.ValidCodes, validChars);\r\n}\r\nelse if (validationType == InputValidator.ValidationType.Decimal) {\r\n    getCharCodes(input.InputValidator.ValidCodes, '0123456789.');\r\n}\r\nelse if (validationType == InputValidator.ValidationType.Numeric) {\r\n    getCharCodes(input.InputValidator.ValidCodes, '0123456789');\r\n}\r\n\r\ninput.InputValidator.ValidateChar = function (c) {\r\n    return this.ValidCodes.hasValue(c.charCodeAt(0));\r\n}\r\n\r\ninput.InputValidator.ValidateString = function (s) {\r\n    var arr = s.split('');\r\n\r\n    for (var i = 0; i &lt; arr.length; i++) {\r\n        if (!this.ValidateChar(arr[i])) {\r\n            arr[i] = '';\r\n        }\r\n    }\r\n\r\n    return arr.join('');\r\n}\r\n\r\nfunction bindEvent(el, eventName, eventHandler) {\r\n    if (el.addEventListener) {\r\n        el.addEventListener(eventName, eventHandler, false);\r\n    } else if (el.attachEvent) {\r\n        el.attachEvent('on' + eventName, eventHandler);\r\n    }\r\n}\r\n\r\nfunction getCaretPosition(i) {\r\n    if (!i) return;\r\n\r\n    if ('selectionStart' in i) {\r\n        return i.selectionStart;\r\n    }\r\n    else {\r\n        if (document.selection) {\r\n            var sel = document.selection.createRange();\r\n            var selLen = document.selection.createRange().text.length;\r\n            sel.moveStart('character', -i.value.length);\r\n            return sel.text.length - selLen;\r\n        }\r\n    }\r\n}\r\n\r\nfunction setCursor(node, pos) {\r\n    var node = (typeof (node) === \"string\" || node instanceof String) ? document.getElementById(node) : node;\r\n\r\n    if (!node) {\r\n        return false;\r\n    }\r\n    else if (node.createTextRange) {\r\n        var textRange = node.createTextRange();\r\n        textRange.collapse(true);\r\n        textRange.moveEnd(pos);\r\n        textRange.moveStart(pos);\r\n        textRange.select();\r\n        return true;\r\n    } else if (node.setSelectionRange) {\r\n        node.setSelectionRange(pos, pos);\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nfunction validateActive() {\r\n    if (input.isActive) {\r\n        var pos = getCaretPosition(input);\r\n\r\n        var arr = input.value.split('');\r\n\r\n        for (var i = 0; i &lt; arr.length; i++) {\r\n            if (!this.ValidateChar(arr[i])) {\r\n                arr[i] = '';\r\n\r\n                if (pos &gt; i)\r\n                    pos--;\r\n            }\r\n        }\r\n        console.log('before : ' + input.value);\r\n\r\n        input.value = arr.join('');\r\n        console.log('after : ' + input.value, input);\r\n        setCursor(input, pos);\r\n\r\n        setTimeout(validateActive, 10);\r\n    }\r\n}\r\n\r\nbindEvent(input, 'keypress', function (e) {\r\n    var evt = e || window.event;\r\n    var charCode = evt.which || evt.keyCode;\r\n\r\n    if (!input.InputValidator.ValidCodes.hasValue(charCode) &amp;&amp; !commandKeys.hasValue(charCode)) {\r\n        if (evt.preventDefault) {\r\n            evt.preventDefault();\r\n            evt.stopPropagation();\r\n        }\r\n        return false;\r\n    }\r\n});\r\n\r\nbindEvent(input, 'keyup', function (e) {\r\n    var evt = e || window.event;\r\n    var charCode = evt.which || evt.keyCode;\r\n\r\n    if (!input.InputValidator.ValidCodes.hasValue(charCode) &amp;&amp; !commandKeys.hasValue(charCode)) {\r\n        if (evt.preventDefault) {\r\n            evt.preventDefault();\r\n            evt.stopPropagation();\r\n        }\r\n        return false;\r\n    }\r\n});\r\n\r\nbindEvent(input, 'change', function (e) {\r\n    var dt = input.value;\r\n\r\n    input.value = input.InputValidator.ValidateString(input.value);\r\n\r\n    if (input.value !== dt)\r\n        triggerEvent('change', input);\r\n});\r\n\r\nbindEvent(input, 'blur', function (e) {\r\n    var dt = input.value;\r\n    input.value = input.InputValidator.ValidateString(input.value);\r\n\r\n    input.isActive = false;\r\n\r\n    if (input.value !== dt)\r\n        triggerEvent('blur', input);\r\n});\r\n\r\nbindEvent(input, 'paste', function (e) {\r\n    var evt = e || window.event;\r\n    var svt = input.value;\r\n\r\n    if (evt &amp;&amp; evt.clipboardData &amp;&amp; evt.clipboardData.getData) {// Webkit - get data from clipboard, put into editdiv, cleanup, then cancel event\r\n        if (/text\\/html/.test(evt.clipboardData.types)) {\r\n            var dt = evt.clipboardData.getData('text/html');\r\n\r\n            input.value = input.InputValidator.ValidateString(dt);\r\n            if (input.value !== dt)\r\n                triggerEvent('change', input);\r\n        }\r\n        else if (/text\\/plain/.test(e.clipboardData.types)) {\r\n            var dt = evt.clipboardData.getData('text/plain');\r\n\r\n            input.value = input.InputValidator.ValidateString(dt);\r\n            if (input.value !== dt)\r\n                triggerEvent('change', input);\r\n        }\r\n        else {\r\n            input.value = '';\r\n        }\r\n        waitforpastedata(input, svt);\r\n        if (e.preventDefault) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n        }\r\n        return false;\r\n    }\r\n    else {// Everything else - empty editdiv and allow browser to paste content into it, then cleanup\r\n        input.value = '';\r\n        waitforpastedata(input, svt);\r\n        return true;\r\n    }\r\n});\r\n\r\nbindEvent(input, 'select', function (e) {\r\n    var evt = e || window.event;\r\n\r\n    if (evt.preventDefault) {\r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n    }\r\n    return false;\r\n});\r\n\r\nbindEvent(input, 'selectstart', function (e) {\r\n    var evt = e || window.event;\r\n\r\n    if (evt.preventDefault) {\r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n    }\r\n    return false;\r\n});\r\n\r\n/* no need to validate wile active,\r\n   removing F keys fixed IE compatability*/\r\n//bindEvent(input, 'fucus', function (e) {\r\n//    input.isActive = true;\r\n//    validateActive();\r\n//});\r\n\r\n//validate current value of the textbox\r\n{\r\n    var dt = input.value;\r\n    input.value = input.InputValidator.ValidateString(input.value);\r\n\r\n    //trigger event to indicate value has changed\r\n    if (input.value !== dt)\r\n        triggerEvent('change', input);\r\n}\r\n\r\nfunction waitforpastedata(elem, savedcontent) {\r\n    if (elem.value !== '') {\r\n        var dt = input.value;\r\n        elem.value = elem.InputValidator.ValidateString(elem.value);\r\n\r\n        if (input.value !== dt)\r\n            triggerEvent('change', input);\r\n    }\r\n    else {\r\n        var that = {\r\n            e: elem,\r\n            s: savedcontent\r\n        }\r\n        that.callself = function () {\r\n            waitforpastedata(that.e, that.s)\r\n        }\r\n        setTimeout(that.callself, 10);\r\n    }\r\n}\r\n}\r\n\r\nInputValidator.ValidationType = new (function (types) {\r\n    for (var i = 0; i &lt; types.length; i++) {\r\n        this[types[i]] = types[i];\r\n    }\r\n})(['Numeric', 'Custom', 'Decimal']);\r\nnew InputValidator(document.getElementById('ContractOldContractNumber'), InputValidator.ValidationType.Numeric);\r\n &lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 512, "user_id": 8863489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/929d25d881fd03ca7cf5afe047602518?s=128&d=identicon&r=PG&f=1", "display_name": "Armin Ayari", "link": "https://stackoverflow.com/users/8863489/armin-ayari"}, "is_accepted": false, "score": 0, "last_activity_date": 1532550938, "creation_date": 1532550938, "answer_id": 51527273, "question_id": 51527007, "link": "https://stackoverflow.com/questions/51527007/javascript-to-only-allow-certain-digits-and-not-submit-if-condition-isnt-met/51527273#51527273", "title": "JavaScript to only allow certain digits, and not submit if condition isn&#39;t met", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let input = document.getElementById('number')\r\nlet submitButton = document.getElementById('submit')\r\nlet pattern = /^\\d{9}$/\r\n\r\n\r\nfunction checkValue () {\r\n  if (pattern.test(input.value)) {\r\n    submitButton.removeAttribute('disabled')\r\n  } else {\r\n    submitButton.setAttribute('disabled', 'disabled')\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form&gt;\r\n  &lt;input type=\"number\" oninput=\"checkValue()\" id=\"number\"&gt;\r\n  &lt;button type=\"submit\" id=\"submit\" disabled&gt;Submit&lt;/button&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 17, "user_id": 9958181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AM7Ls.gif?s=128&g=1", "display_name": "Dana Lagnud", "link": "https://stackoverflow.com/users/9958181/dana-lagnud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1532551121, "creation_date": 1532549738, "last_edit_date": 1532550134, "question_id": 51527007, "link": "https://stackoverflow.com/questions/51527007/javascript-to-only-allow-certain-digits-and-not-submit-if-condition-isnt-met", "title": "JavaScript to only allow certain digits, and not submit if condition isn&#39;t met", "body": "<p>I have a Contract ID form field:</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n    &lt;label&gt;Old Contract ID&lt;/label&gt;\n    &lt;div class=\"input-group\"&gt;\n        &lt;span class=\"input-group-addon\"&gt;&lt;i class=\"fa fa-hashtag\"&gt;&lt;/i&gt;&lt;/span&gt;\n       &lt;input name=\"Contract.OldContractNumber\" oninput=\"javascript: if (this.value.length &gt; this.maxLength) this.value = this.value.slice(0, this.maxLength);\" type=\"number\" class=\"form-control\" maxlength=\"9\" required&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I would like to add a piece of JavaScript that allows numbers only, that allows only 9 digits, and that only submits if 9 digits are there. Any less than 9 digits should not allow submission. Can someone help me achieve this?</p>\n"}, {"tags": ["javascript", "charts", "chart.js"], "comments": [{"owner": {"reputation": 441, "user_id": 1466619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ILx4I.jpg?s=128&g=1", "display_name": "Ballsigno", "link": "https://stackoverflow.com/users/1466619/ballsigno"}, "edited": false, "score": 0, "creation_date": 1532604661, "post_id": 51527003, "comment_id": 90043035, "body": "Hi, I&#39;ve checked it, but it actually works. (<a href=\"https://jsfiddle.net/f7sezwx6/\" rel=\"nofollow noreferrer\">jsfiddle.net/f7sezwx6</a>) Can you up your code in the jsfiddle or something?"}, {"owner": {"reputation": 21, "user_id": 10135589, "user_type": "registered", "profile_image": "https://graph.facebook.com/2291022507580263/picture?type=large", "display_name": "Rafael Xavier", "link": "https://stackoverflow.com/users/10135589/rafael-xavier"}, "reply_to_user": {"reputation": 441, "user_id": 1466619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ILx4I.jpg?s=128&g=1", "display_name": "Ballsigno", "link": "https://stackoverflow.com/users/1466619/ballsigno"}, "edited": false, "score": 0, "creation_date": 1532619274, "post_id": 51527003, "comment_id": 90052859, "body": "you mean the entire javascript or the html as well? i&#39;m getting the data from a database, i&#39;m trying to mock it but its being hard to reproduce"}, {"owner": {"reputation": 21, "user_id": 10135589, "user_type": "registered", "profile_image": "https://graph.facebook.com/2291022507580263/picture?type=large", "display_name": "Rafael Xavier", "link": "https://stackoverflow.com/users/10135589/rafael-xavier"}, "reply_to_user": {"reputation": 441, "user_id": 1466619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ILx4I.jpg?s=128&g=1", "display_name": "Ballsigno", "link": "https://stackoverflow.com/users/1466619/ballsigno"}, "edited": false, "score": 0, "creation_date": 1532619510, "post_id": 51527003, "comment_id": 90053017, "body": "I just noticed that removing <code>stacked: true</code> does what I want, but for every bar, staying side by side, which results in the same size as stacked without de <code>maxBarThickness</code>option"}, {"owner": {"reputation": 441, "user_id": 1466619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ILx4I.jpg?s=128&g=1", "display_name": "Ballsigno", "link": "https://stackoverflow.com/users/1466619/ballsigno"}, "edited": false, "score": 0, "creation_date": 1532622255, "post_id": 51527003, "comment_id": 90054733, "body": "Hmm... of course, you don&#39;t need to up entire file. I just want to see that kind of a bug. I think there is something wrong. If the cause is the stacked option, it should occur in my jsfiddle.(<a href=\"https://jsfiddle.net/xk3a4tzs/\" rel=\"nofollow noreferrer\">jsfiddle.net/xk3a4tzs</a>). It seems data structure is the same, so is there anything else style apply to your canvas element?"}, {"owner": {"reputation": 21, "user_id": 10135589, "user_type": "registered", "profile_image": "https://graph.facebook.com/2291022507580263/picture?type=large", "display_name": "Rafael Xavier", "link": "https://stackoverflow.com/users/10135589/rafael-xavier"}, "reply_to_user": {"reputation": 441, "user_id": 1466619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ILx4I.jpg?s=128&g=1", "display_name": "Ballsigno", "link": "https://stackoverflow.com/users/1466619/ballsigno"}, "edited": false, "score": 0, "creation_date": 1532624033, "post_id": 51527003, "comment_id": 90055703, "body": "I&#39;m almost giving up fixing this bar sizes. I mocked the data and it&#39;s working as it should in JSFiddle. I&#39;m not applying any other style to the chart, except for a specific height of 800px in the canvas because of the data disparity"}, {"owner": {"reputation": 441, "user_id": 1466619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ILx4I.jpg?s=128&g=1", "display_name": "Ballsigno", "link": "https://stackoverflow.com/users/1466619/ballsigno"}, "edited": false, "score": 0, "creation_date": 1532645075, "post_id": 51527003, "comment_id": 90064626, "body": "Oh, that is a genius idea. First, you overwrite your data variable using my jsfidlle data, before you create a chart. If the problem still happens, let\u2019s change your HTML temporary that has only the canvas element, and let\u2019s wait and see."}, {"owner": {"reputation": 21, "user_id": 10135589, "user_type": "registered", "profile_image": "https://graph.facebook.com/2291022507580263/picture?type=large", "display_name": "Rafael Xavier", "link": "https://stackoverflow.com/users/10135589/rafael-xavier"}, "reply_to_user": {"reputation": 441, "user_id": 1466619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ILx4I.jpg?s=128&g=1", "display_name": "Ballsigno", "link": "https://stackoverflow.com/users/1466619/ballsigno"}, "edited": false, "score": 1, "creation_date": 1538689689, "post_id": 51527003, "comment_id": 92242513, "body": "Kinda worked &#39;cause I tried to figure out what version of chart.js jsfiddle was using. After thinking about it, I came up with the idea of updating chart.js in the project, and that was the case, ty :D"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 10135589, "user_type": "registered", "profile_image": "https://graph.facebook.com/2291022507580263/picture?type=large", "display_name": "Rafael Xavier", "link": "https://stackoverflow.com/users/10135589/rafael-xavier"}, "is_accepted": true, "score": 2, "last_activity_date": 1538689605, "creation_date": 1538689605, "answer_id": 52655631, "question_id": 51527003, "link": "https://stackoverflow.com/questions/51527003/chart-js-maxbarthickness-option-not-working/52655631#52655631", "title": "Chart.js maxBarThickness option not working", "body": "<p>The answer was simple, I wasn't using the latest version of chart.js. After I changed the import line on my html to <code>&lt;script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js\"&gt;&lt;/script&gt;</code> it worked just fine.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11383846, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-F-q5EX12lj8/AAAAAAAAAAI/AAAAAAAAAAs/zYqhXtqmpic/photo.jpg?sz=128", "display_name": "P Gana", "link": "https://stackoverflow.com/users/11383846/p-gana"}, "is_accepted": false, "score": 0, "last_activity_date": 1582617820, "creation_date": 1582617820, "answer_id": 60389984, "question_id": 51527003, "link": "https://stackoverflow.com/questions/51527003/chart-js-maxbarthickness-option-not-working/60389984#60389984", "title": "Chart.js maxBarThickness option not working", "body": "<p>Set 'maxBarTHinkness' property to datasets level instead of in options.\n<strong>i.e</strong> datasets:[{label:'..', data:[],maxBarThickness:100 }]</p>\n"}], "owner": {"reputation": 21, "user_id": 10135589, "user_type": "registered", "profile_image": "https://graph.facebook.com/2291022507580263/picture?type=large", "display_name": "Rafael Xavier", "link": "https://stackoverflow.com/users/10135589/rafael-xavier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2116, "favorite_count": 0, "accepted_answer_id": 52655631, "answer_count": 2, "score": 0, "last_activity_date": 1582617820, "creation_date": 1532549718, "last_edit_date": 1532621048, "question_id": 51527003, "link": "https://stackoverflow.com/questions/51527003/chart-js-maxbarthickness-option-not-working", "title": "Chart.js maxBarThickness option not working", "body": "<p>I've been trying to set a threshold for bars, because when i have only one bar, it gets really huge and it's not desirable.</p>\n\n<p>Here is where I try to set a limit to the bar size, but no results.</p>\n\n<pre><code>function carregarBarraDatasMensais() {\n$.get(\"/monitoria/capitalizacao/aderente/faturas/pendentes/pormes/dashboardservico\", function (model){\n\n    $(\"#cnvBarDataMes\").html(\"\");\n    $(\"#cnvBarDataMes\").html(\"&lt;canvas id='cnvDataMes'&gt;&lt;/canvas&gt;\");\n\n    var ctx = $(\"#cnvDataMes\");\n\n    var datas = Object.keys(model);     \n\n    var dataErro = [];\n    var dataProcessada = [];\n    var dataProcessadaAtrasada = [];\n    var dataNaoProcessada = [];\n    var dataNaoProcessadaAtrasada = [];\n\n    for (var i = 0; i &lt; datas.length; i++){\n        var erro = model[datas[i]][\"ERRO_PROCESSAMENTO\"];\n        dataErro[i] = erro == undefined ? 0 : erro.length;\n    }\n\n    for (var i = 0; i &lt; datas.length; i++){\n        var processado = model[datas[i]][\"PROCESSADA\"];\n        dataProcessada[i] = processado == undefined ? 0 : processado.length;\n    }\n\n    for (var i = 0; i &lt; datas.length; i++){\n        var processadoAtrasado = model[datas[i]][\"PROCESSADA_ATRASADA\"];\n        dataProcessadaAtrasada[i] = processadoAtrasado == undefined ? 0 : processadoAtrasado.length;\n    }\n\n    for (var i = 0; i &lt; datas.length; i++){\n        var naoProcessado = model[datas[i]][\"NAO_PROCESSADA\"];\n        dataNaoProcessada[i] = naoProcessado == undefined ? 0 : naoProcessado.length;\n    }\n\n    for (var i = 0; i &lt; datas.length; i++){\n        var naoProcessadoAtrasado = model[datas[i]][\"NAO_PROCESSADA_ATRASADA\"];\n        dataNaoProcessadaAtrasada[i] = naoProcessadoAtrasado == undefined ? 0 : naoProcessadoAtrasado.length;\n    }\n\n    var myBarChart = new Chart(ctx, {\n        type: 'bar',\n        data: {\n            labels: datas,\n            datasets: [{\n                label: \"Erro no processamento\",\n                backgroundColor: colors[\"ERRO_PROCESSAMENTO\"].hexa,\n                data: dataErro\n              }, {\n                label: \"Arquivo processado atrasado\",\n                backgroundColor: colors[\"PROCESSADA_ATRASADA\"].hexa,\n                data: dataProcessadaAtrasada\n              }, {\n                label: \"Arquivo processado sem atraso\",\n                backgroundColor: colors[\"PROCESSADA\"].hexa,\n                data: dataProcessada\n              }, {\n                label: \"Arquivo n\u00e3o processado, atrasado\",\n                backgroundColor: colors[\"NAO_PROCESSADA_ATRASADA\"].hexa,\n                data: dataNaoProcessadaAtrasada\n              }, {\n                label: \"Arquivo n\u00e3o processado, sem atraso\",\n                backgroundColor: colors[\"NAO_PROCESSADA\"].hexa,\n                data: dataNaoProcessada\n              }]\n\n        },\n        options: {\n            tooltips: {\n                mode: 'index'\n            },\n            scales: {\n                xAxes: [{\n                    maxBarThickness: 100,\n                    ticks: {\n                        beginAtZero: true,\n                    }\n                    }],\n                yAxes: [{\n                stacked: true,\n                ticks: {\n                 }\n              }]\n            },\n            maintainAspectRatio: false\n          }\n\n    })\n});\n</code></pre>\n\n<p>}</p>\n\n<p>Writing <code>barThickness: 100</code> works, but this will set every bar to this size, no matter the number of bars(causing issues when there are a lot of bars)</p>\n\n<p>EDIT: I think I found the first part of the problem, this option doesn't seem to work with <code>stacked: true</code>, but removing it(the <code>stacked: true</code>) is not a option, in this case, for me</p>\n"}, {"tags": ["javascript", "css", "regex", "replace", "styles"], "answers": [{"comments": [{"owner": {"reputation": 449, "user_id": 1891446, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cbad6d0bce86fa51c9fdf7abcc79cae7?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/1891446/peter"}, "edited": false, "score": 0, "creation_date": 1532552796, "post_id": 51527522, "comment_id": 90023907, "body": "But I need universal function, because in parameter I take <code>color:red;</code> or <code>min-height:30px</code> or <code>padding: 100px; border: 1px solid black;</code>. And I would have to write a function that takes every style name"}], "tags": [], "owner": {"reputation": 85, "user_id": 5552503, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a98db44b5dbc44293704f82e64e2dbc6?s=128&d=identicon&r=PG&f=1", "display_name": "Amit", "link": "https://stackoverflow.com/users/5552503/amit"}, "is_accepted": false, "score": 1, "last_activity_date": 1532553790, "last_edit_date": 1532553790, "creation_date": 1532552213, "answer_id": 51527522, "question_id": 51526974, "link": "https://stackoverflow.com/questions/51526974/css-style-replace-inline-one-style-name/51527522#51527522", "title": "css style Replace inline one style name", "body": "<p>First of all, you contradict yourself in your question. You say that the regex is for all style names but you only want to change a specific CSS property. Secondly, I can't possibly fathom why you need a regular expression to target this property. You can select this property using CSS and JavaScript and change it to whatever value you want. </p>\n\n<p>CSS:</p>\n\n<pre><code>div{ max-width: 20px; }\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>document.getElementsByTagName(\"div\")[0].style.maxWidth = \"20px\";\n</code></pre>\n\n<p>EDIT:\nIN response to your comment, I would take a look at the jQuery css() method.\n<a href=\"https://www.w3schools.com/JQuery/jquery_css.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/JQuery/jquery_css.asp</a>\nThis basically allows you to set any css property. </p>\n"}, {"tags": [], "owner": {"reputation": 78750, "user_id": 2827823, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1pdiw.png?s=128&g=1", "display_name": "Ason", "link": "https://stackoverflow.com/users/2827823/ason"}, "is_accepted": true, "score": 1, "last_activity_date": 1532557339, "last_edit_date": 1532557339, "creation_date": 1532554654, "answer_id": 51528049, "question_id": 51526974, "link": "https://stackoverflow.com/questions/51526974/css-style-replace-inline-one-style-name/51528049#51528049", "title": "css style Replace inline one style name", "body": "<p>There exists a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration/cssText\" rel=\"nofollow noreferrer\">cssText API</a>, with which one can set several CSS properties in one go. Its downside is that it replace all the existing styles.</p>\n\n<p>So by create a tiny \"custom\" <code>setCSSText</code> function, you can do the same, though with the existing kept untouched.</p>\n\n<p>Stack snippet</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var div = document.querySelector('div');\r\n\r\nsetCSSText(div,\"maxWidth:20px;color:red\")\r\n\r\nfunction setCSSText(el,ss) {\r\n  ss.split(';').forEach(function(s){\r\n    var pv = s.split(':');\r\n    if (pv.length &gt; 1) {\r\n      el.style[pv[0].trim()] = pv[1].trim();\r\n    }\r\n  })\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div style=\"top: auto; max-width:257px; left: 155px; right: auto; bottom: 88px; max-height: 313px; display: block;\"&gt;Some dummy text&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 449, "user_id": 1891446, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cbad6d0bce86fa51c9fdf7abcc79cae7?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/1891446/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 51528049, "answer_count": 2, "score": -1, "last_activity_date": 1532557339, "creation_date": 1532549570, "last_edit_date": 1532556942, "question_id": 51526974, "link": "https://stackoverflow.com/questions/51526974/css-style-replace-inline-one-style-name", "title": "css style Replace inline one style name", "body": "<p>I have inline style css string and I want replace only one style name. I would like make universal regex for all style names.\nREGEX:</p>\n\n<pre><code>/([a-z\\-]+):\\s*([a-z0-9]+);/mg\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div style=\"top: auto; max-width:257px; left: 155px; right: auto; bottom: 88px; max-height: 313px; display: block;\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Result (I want replace <code>max-width:257px;</code> to <code>max-width:20px;</code>):</p>\n\n<pre><code>&lt;div style=\"top: auto; max-width:20px; left: 155px; right: auto; bottom: 88px; max-height: 313px; display: block;\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>The problem is that all style names is replaced to <code>max-width</code>:</p>\n\n<pre><code>&lt;div style=\"max-width:20px; max-width:20px; max-width:20px; max-width:20px; max-width:20px; max-width:20px; max-width:20px;\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/5aHHZd/2\" rel=\"nofollow noreferrer\">https://regex101.com/r/5aHHZd/2</a></p>\n"}]