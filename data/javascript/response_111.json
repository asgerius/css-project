[{"tags": ["javascript", "node.js", "security"], "comments": [{"owner": {"reputation": 45871, "user_id": 451969, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/EuJtr.jpg?s=128&g=1", "display_name": "Jared Farrish", "link": "https://stackoverflow.com/users/451969/jared-farrish"}, "edited": false, "score": 1, "creation_date": 1487808554, "post_id": 42404590, "comment_id": 71956228, "body": "<i>Use of this directive mitigates the possibility of denial of service attacks <b>which use hash collisions</b>.</i> Source: <a href=\"http://php.net/manual/en/info.configuration.php#ini.max-input-vars\" rel=\"nofollow noreferrer\">php.net/manual/en/info.configuration.php#ini.max-input-vars</a>"}, {"owner": {"reputation": 45871, "user_id": 451969, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/EuJtr.jpg?s=128&g=1", "display_name": "Jared Farrish", "link": "https://stackoverflow.com/users/451969/jared-farrish"}, "edited": false, "score": 1, "creation_date": 1487808818, "post_id": 42404590, "comment_id": 71956300, "body": "And: <i>If the language does not provide a randomized hash function or the application server does not recognize attacks using multi-collisions, an attacker can degenerate the hash table by sending lots of colliding keys. The algorithmic complexity of inserting n elements into the table then goes to O(n**2), making it possible to exhaust hours of CPU time using a single HTTP request.</i> Source: <a href=\"https://arstechnica.com/business/2011/12/huge-portions-of-web-vulnerable-to-hashing-denial-of-service-attack/\" rel=\"nofollow noreferrer\">arstechnica.com/business/2011/12/&hellip;</a>"}, {"owner": {"reputation": 45871, "user_id": 451969, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/EuJtr.jpg?s=128&g=1", "display_name": "Jared Farrish", "link": "https://stackoverflow.com/users/451969/jared-farrish"}, "edited": false, "score": 1, "creation_date": 1487809670, "post_id": 42404590, "comment_id": 71956559, "body": "And at least here, this says PHP&#39;s <code>json_decode()</code> (I&#39;m a PHP developer) is susceptible to hash collisions same as GPC, so it is a question why it is any better: <a href=\"http://lukasmartinelli.ch/web/2014/11/17/php-dos-attack-revisited.html\" rel=\"nofollow noreferrer\">lukasmartinelli.ch/web/2014/11/17/php-dos-attack-revisited.h&zwnj;&#8203;tml</a> Although Node might have safeguards in place."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 1, "creation_date": 1487819058, "post_id": 42404590, "comment_id": 71959279, "body": "See <a href=\"http://stackoverflow.com/questions/2659952/maximum-length-of-http-get-request\">Max length of http get request</a>.  Various servers and clients protect themselves from arbitrary length requests so they don&#39;t run any risk of a buffer overflow or unusually large memory usage (which could be used as a DoS attack) by enforcing a limit to the max length of an URL that they will process.  If you want larger payloads, use a POST instead of a GET and put the data in the body."}, {"owner": {"reputation": 45871, "user_id": 451969, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/EuJtr.jpg?s=128&g=1", "display_name": "Jared Farrish", "link": "https://stackoverflow.com/users/451969/jared-farrish"}, "reply_to_user": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 1, "creation_date": 1487822068, "post_id": 42404590, "comment_id": 71960085, "body": "@jfriend00 - At least in PHP, the limitation to the number of array indices/keys is 1000 whether it&#39;s G, P or C. The OP is talking about array construction, not GET request length."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 1, "creation_date": 1487822618, "post_id": 42404590, "comment_id": 71960228, "body": "I see this comment in the qs documentation: &quot;The depth limit helps mitigate abuse when qs is used to parse user input, and it is recommended to keep it a reasonably small number.&quot;"}, {"owner": {"reputation": 17385, "user_id": 2714730, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/26d4fa31138c5c8ba1cb76392d9fc64d?s=128&d=identicon&r=PG", "display_name": "Josh Beam", "link": "https://stackoverflow.com/users/2714730/josh-beam"}, "edited": false, "score": 0, "creation_date": 1487960466, "post_id": 42404590, "comment_id": 72034942, "body": "Thank you for the comments. Seems I have a bit of reading to do :)"}], "owner": {"reputation": 17385, "user_id": 2714730, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/26d4fa31138c5c8ba1cb76392d9fc64d?s=128&d=identicon&r=PG", "display_name": "Josh Beam", "link": "https://stackoverflow.com/users/2714730/josh-beam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 218, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1487808995, "creation_date": 1487807860, "last_edit_date": 1487808995, "question_id": 42404590, "link": "https://stackoverflow.com/questions/42404590/what-are-the-security-considerations-for-the-size-of-an-array-that-can-be-passed", "title": "What are the security considerations for the size of an array that can be passed over HTTP to a JavaScript server?", "body": "<p>I'm dealing with the library <a href=\"https://www.npmjs.com/package/qs\" rel=\"nofollow noreferrer\"><code>qs</code></a> in Node.js, which lets you stringify and parse query strings.</p>\n\n<p>For example, if I want to send a query with an array of items, I would do <code>qs.stringify({ items: [1,2,3] })</code>, which would send this as my query string:</p>\n\n<blockquote>\n  <p><a href=\"http://example.com/route?items[0]=1&amp;items[1]=2&amp;items[2]=3\" rel=\"nofollow noreferrer\">http://example.com/route?items[0]=1&amp;items[1]=2&amp;items[2]=3</a></p>\n  \n  <p>(Encoded URI would be items%5B0%5D%3D1%26items%5B1%5D%3D2%26items%5B2%5D%3D3)</p>\n</blockquote>\n\n<p>When I do <code>qs.parse(url)</code> on the server, I'd get the original object back:</p>\n\n<pre><code>let query = qs.parse(url) // =&gt; { items: [1,2,3] }\n</code></pre>\n\n<p>However, the default size of the array for <code>qs</code> is limited to 20, according to the docs:</p>\n\n<blockquote>\n  <p>qs will also limit specifying indices in an array to a maximum index of 20. Any array members with an index of greater than 20 will instead be converted to an object with the index as the key</p>\n</blockquote>\n\n<p>This means that if I have more than 20 items in the array, <code>qs.parse</code> will give me an object like this (instead of the array that I expected):</p>\n\n<pre><code>{ items: { '0': 1, '1': 2 ...plus 19 more items } }\n</code></pre>\n\n<p>I can override this behavior by setting a param, like this: <code>qs.parse(url, { arrayLimit: 1000 })</code>, and this would allow a max array size of 1,000 for example. This would, thus, turn an array of 1,001 items into a plain old JavaScript object.</p>\n\n<p>According to <a href=\"https://github.com/ljharb/qs/issues/18\" rel=\"nofollow noreferrer\">this github issue</a>, the limit might be for \"security considerations\" (same <a href=\"https://github.com/ljharb/qs/issues/107\" rel=\"nofollow noreferrer\">in this other github issue</a>).</p>\n\n<p>My questions:</p>\n\n<ol>\n<li>If the default limit of 20 is meant to help mitigate a DoS attack, <strong>how does turning an array of over 20 items into a plain old JavaScript object supposed to help anything?</strong> (Does the object take less memory or something?)</li>\n<li>If the above is true, even if there is an array limit of, say, 20, couldn't the attacker just send more requests and still get the same DoS effect? (The number of requests necessary to be sent would decrease linearly with the size limit of the array, I suppose... so I guess the \"impact\" or load of a single request would be lower)</li>\n</ol>\n"}, {"tags": ["javascript", "jquery", "switch-statement", "counter"], "comments": [{"owner": {"reputation": 696, "user_id": 6914275, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-52EqC5Y_-C8/AAAAAAAAAAI/AAAAAAAAABQ/8PcVxm5WlcA/photo.jpg?sz=128", "display_name": "Sergio Alen", "link": "https://stackoverflow.com/users/6914275/sergio-alen"}, "edited": false, "score": 0, "creation_date": 1487808481, "post_id": 42404587, "comment_id": 71956206, "body": "that&#39;s not how switch case works"}, {"owner": {"reputation": 696, "user_id": 6914275, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-52EqC5Y_-C8/AAAAAAAAAAI/AAAAAAAAABQ/8PcVxm5WlcA/photo.jpg?sz=128", "display_name": "Sergio Alen", "link": "https://stackoverflow.com/users/6914275/sergio-alen"}, "edited": false, "score": 0, "creation_date": 1487808889, "post_id": 42404587, "comment_id": 71956325, "body": "and you dont really need it either. there&#39;s a lot of repetitive code there, you need to practice DRY(dont repeat yourself) code."}], "answers": [{"tags": [], "owner": {"reputation": 950, "user_id": 4284143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91566e4c1a71cc294bdf4711c22ea450?s=128&d=identicon&r=PG", "display_name": "subwaymatch", "link": "https://stackoverflow.com/users/4284143/subwaymatch"}, "is_accepted": false, "score": 0, "last_activity_date": 1487808981, "creation_date": 1487808981, "answer_id": 42404765, "question_id": 42404587, "link": "https://stackoverflow.com/questions/42404587/using-a-switch-statement-but-case-where-counter-equals-one-never-gets-used/42404765#42404765", "title": "using a switch statement - but case where counter equals one never gets used", "body": "<p>You've initialized the clcks variable to 0, but it is incremented by 1 upon the first click. </p>\n\n<p>The clcks should begin at 0 so that it can be used to access the first element in the arrays. </p>\n\n<p>Initialize the clcks to 7 instead of 0 on document ready. \nAlso, if clcks is equal or larger than 8, it should be reset to 0. </p>\n\n<pre><code>$(document).ready(function() {  \n   // Initialize to 7, so that the first click will return to 0\n   var clcks = 7; \n    $('#cyclStylsArrayCntr').click(function(event){\n    var curFnt = ['Trebuchet MS', 'Verdana', 'Tahoma', 'Palatino',  'Georgia', 'Times New Roman', 'Arial', 'Courier New'];\n   var txtClr =['Black', 'Red','Green','Blue','Brown','Aqua','Gold','white','black'];\n    var curBkC = ['white', 'aqua','brown','yellow','lightGreen','orange','blue','lightBlue','LightSeaGreen']    \n   var msg = '';                   // Message\n\n      // Arrays are zero based (so 0 is round 1)\n     // Add 1 to the current round\n      clcks = (clcks + 1); \n\n      // This should be reset to 0, not 1\n      // Also, change index numbers in switch-case so that clcks is also 0-based\n      if(clcks&gt;=8)clcks=0;\n\n                            switch (true) {\n        case clcks == 0:\n            $(\".sample2\").css('background-color', curBkC[clcks]);\n            $(\".sample2\").css(\"font-family\", curFnt[clcks]);\n            $(\"#currFont\").css(\"font-family\", curFnt[clcks]);\n            $(\".sample2\").css(\"color\", txtClr[clcks]);\n            $(\".sample2\").animate({fontSize: '38px'}, \"fast\");\n            $(\".sample2\").animate({fontSize: '36px'}, \"fast\");\n            $(\"#currFont\").html(curFnt[clcks]);\n            break;                  \n        case clcks == 1:\n            $(\".sample2\").css('background-color', curBkC[clcks]);\n            $(\".sample2\").css(\"font-family\", curFnt[clcks]);\n            $(\"#currFont\").css(\"font-family\", curFnt[clcks]);\n            $(\".sample2\").css(\"color\", txtClr[clcks]);\n            $(\".sample2\").animate({fontSize: '34px'}, \"fast\");\n            $(\".sample2\").animate({fontSize: '36px'}, \"fast\");\n            $(\"#currFont\").html(curFnt[clcks]);\n            break;\n        case clcks == 2:\n            $(\".sample2\").css('background-color', curBkC[clcks]);\n            $(\".sample2\").css(\"font-family\", curFnt[clcks]);\n            $(\"#currFont\").css(\"font-family\", curFnt[clcks]);\n            $(\".sample2\").css(\"color\", txtClr[clcks]);\n            $(\".sample2\").animate({fontSize: '38px'}, \"fast\");\n            $(\".sample2\").animate({fontSize: '36px'}, \"fast\");\n            $(\"#currFont\").html(curFnt[clcks]);\n            break;\n        case clcks == 3:\n            $(\".sample2\").css('background-color', curBkC[clcks]);\n            $(\".sample2\").css(\"font-family\", curFnt[clcks]);\n            $(\"#currFont\").css(\"font-family\", curFnt[clcks]);\n            $(\".sample2\").css(\"color\", txtClr[clcks]);\n            $(\".sample2\").animate({fontSize: '34px'}, \"fast\");\n            $(\".sample2\").animate({fontSize: '36px'}, \"fast\");\n            $(\"#currFont\").html(curFnt[clcks]);\n            break; \n          case clcks == 4:\n            $(\".sample2\").css('background-color', curBkC[clcks]);\n            $(\".sample2\").css(\"font-family\", curFnt[clcks]);\n            $(\"#currFont\").css(\"font-family\", curFnt[clcks]);\n            $(\".sample2\").css(\"color\", txtClr[clcks]);\n            $(\".sample2\").animate({fontSize: '38px'}, \"fast\");\n            $(\".sample2\").animate({fontSize: '36px'}, \"slow\");\n            $(\"#currFont\").html(curFnt[clcks]);\n            break; \n        case clcks == 5:\n            $(\".sample2\").css('background-color', curBkC[clcks]);\n            $(\".sample2\").css(\"font-family\", curFnt[clcks]);\n            $(\"#currFont\").css(\"font-family\", curFnt[clcks]);\n            $(\".sample2\").css(\"color\", txtClr[clcks]);\n            $(\".sample2\").animate({fontSize: '34px'}, \"fast\");\n            $(\".sample2\").animate({fontSize: '36px'}, \"fast\");\n            $(\"#currFont\").html(curFnt[clcks]);\n            break; \n        case clcks == 6:\n            $(\".sample2\").css('background-color', curBkC[clcks]);\n            $(\".sample2\").css(\"font-family\", curFnt[clcks]);\n            $(\"#currFont\").css(\"font-family\", curFnt[clcks]);\n            $(\".sample2\").css(\"color\", txtClr[clcks]);\n            $(\".sample2\").animate({fontSize: '38px'}, \"fast\");\n            $(\".sample2\").animate({fontSize: '36px'}, \"fast\");\n            $(\"#currFont\").html(curFnt[clcks]);\n            break; \n        case clcks == 7:\n            $(\".sample2\").css('background-color', curBkC[clcks]);\n            $(\".sample2\").css(\"font-family\", curFnt[clcks]);\n            $(\"#currFont\").css(\"font-family\", curFnt[clcks]);\n            $(\".sample2\").css(\"color\", txtClr[clcks]);\n            $(\".sample2\").animate({fontSize: '34px'}, \"fast\");\n            $(\".sample2\").animate({fontSize: '36px'}, \"fast\");\n            $(\"#currFont\").html(curFnt[clcks]);\n\n            break; \n                            }\n\n\n  } );\n\n      });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1878, "user_id": 2052686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aacd4ac796422a4296637920ccdee504?s=128&d=identicon&r=PG", "display_name": "rasmeister", "link": "https://stackoverflow.com/users/2052686/rasmeister"}, "is_accepted": false, "score": 0, "last_activity_date": 1487809404, "creation_date": 1487809404, "answer_id": 42404836, "question_id": 42404587, "link": "https://stackoverflow.com/questions/42404587/using-a-switch-statement-but-case-where-counter-equals-one-never-gets-used/42404836#42404836", "title": "using a switch statement - but case where counter equals one never gets used", "body": "<p>The switch statement is formatted incorrectly. You need to put your expression on the switch and the values on the case like so:</p>\n\n<pre><code>switch(clcks) {\n  case 1:\n     : \n    break;\n  case 2:\n     :\n    break;\n  :\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4061, "user_id": 3393058, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/TmKho.png?s=128&g=1", "display_name": "Aloso", "link": "https://stackoverflow.com/users/3393058/aloso"}, "edited": false, "score": 0, "creation_date": 1487810502, "post_id": 42404965, "comment_id": 71956771, "body": "You forgot the altering font size (38, 34)"}, {"owner": {"reputation": 1, "user_id": 8202831, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-L3o0iMvhXIg/AAAAAAAAAAI/AAAAAAAAAGw/FMVE0cwO_YU/photo.jpg?sz=128", "display_name": "user8202831", "link": "https://stackoverflow.com/users/8202831/user8202831"}, "edited": false, "score": 0, "creation_date": 1487811403, "post_id": 42404965, "comment_id": 71957033, "body": "This works.  The second time through the button sequence the counter reset needed to be changed to if (clcks &gt;= 8) clcks = 0;"}], "tags": [], "owner": {"reputation": 696, "user_id": 6914275, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-52EqC5Y_-C8/AAAAAAAAAAI/AAAAAAAAABQ/8PcVxm5WlcA/photo.jpg?sz=128", "display_name": "Sergio Alen", "link": "https://stackoverflow.com/users/6914275/sergio-alen"}, "is_accepted": false, "score": 0, "last_activity_date": 1487810199, "creation_date": 1487810199, "answer_id": 42404965, "question_id": 42404587, "link": "https://stackoverflow.com/questions/42404587/using-a-switch-statement-but-case-where-counter-equals-one-never-gets-used/42404965#42404965", "title": "using a switch statement - but case where counter equals one never gets used", "body": "<p>Switch case needs an expression to compare against the cases. But you dont really need it either.</p>\n\n<p>It goes straight to Verdana cos you're adding 1 to clcks before executing the code (in JS, array index starts from 0).</p>\n\n<p>Here's what I think you need (untested code):</p>\n\n<pre><code>$(document).ready(function() {  \n   // Declare all variables outside of the on click\n   var clcks = 0; \n   var curFnt = ['Trebuchet MS', 'Verdana', 'Tahoma', 'Palatino',  'Georgia', 'Times New Roman', 'Arial', 'Courier New'];\n   var txtClr =['Black', 'Red','Green','Blue','Brown','Aqua','Gold','white','black'];\n   var curBkC = ['white', 'aqua','brown','yellow','lightGreen','orange','blue','lightBlue','LightSeaGreen']    \n   var msg = '';\n   $('#cyclStylsArrayCntr').click(function(event){\n\n      if( clcks &gt;= 8 ) clcks = 1;\n\n        $(\".sample2\").css({\n          'background-color'     : curBkC[clcks],\n          'font-family'          : curFnt[clcks],\n          'color'                : txtClr[clcks]\n        });\n        $(\"#currFont\").css(\"font-family\", curFnt[clcks]);\n        $(\".sample2\").animate({fontSize: '38px'}, \"fast\");\n        $(\".sample2\").animate({fontSize: '36px'}, \"fast\"); // Not sure why you have 2 of these\n        $(\"#currFont\").html(curFnt[clcks]);  \n\n        clcks = (clcks + 1); // Put after executing your on click code\n\n     });\n});\n</code></pre>\n\n<p>Also, try to make your variable names readable so if you're collaborating with others they can understand what each one represents straight away.</p>\n"}, {"tags": [], "owner": {"reputation": 4061, "user_id": 3393058, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/TmKho.png?s=128&g=1", "display_name": "Aloso", "link": "https://stackoverflow.com/users/3393058/aloso"}, "is_accepted": false, "score": 0, "last_activity_date": 1487810448, "creation_date": 1487810448, "answer_id": 42405016, "question_id": 42404587, "link": "https://stackoverflow.com/questions/42404587/using-a-switch-statement-but-case-where-counter-equals-one-never-gets-used/42405016#42405016", "title": "using a switch statement - but case where counter equals one never gets used", "body": "<p>You don't need a switch statement at all (apart from that it is is written the wrong way)</p>\n\n<p>The first time the function is called, <code>clcks</code> in incremented to 1, which means that the array elements at index 1 are read instead of the elements at index 0.</p>\n\n<p>Here's a better, working solution:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$(document).ready(function() {\n    var curFnt = ['Trebuchet MS', 'Verdana', 'Tahoma', 'Palatino',  'Georgia', 'Times New Roman', 'Arial', 'Courier New'];\n    var fontSizes = [\"38px\", \"34px\", \"38px\", \"34px\", \"38px\", \"34px\", \"38px\", \"34px\"];\n    var txtClr = ['Black', 'Red', 'Green', 'Blue', 'Brown', 'Aqua', 'Gold', 'white', 'black'];\n    var curBkC = ['white', 'aqua', 'brown', 'yellow', 'lightGreen', 'orange', 'blue', 'lightBlue', 'LightSeaGreen'];\n\n    var clcks = 0;\n\n    $('#cyclStylsArrayCntr').click(function(event){\n        var msg = '';\n\n        // clcks is incremented at the end of the function\n        // -&gt; clcks is 0 at the first time\n\n        $(\".sample2\").css('background-color', curBkC[clcks]);\n        $(\".sample2\").css(\"font-family\", curFnt[clcks]);\n        $(\"#currFont\").css(\"font-family\", curFnt[clcks]);\n        $(\".sample2\").css(\"color\", txtClr[clcks]);\n        $(\".sample2\").animate({fontSize: fontSizes[clcks]}, \"fast\");\n        $(\".sample2\").animate({fontSize: '36px'}, \"fast\");\n        $(\"#currFont\").html(curFnt[clcks]);\n\n        clcks = clcks + 1;\n        if (clcks &gt;= 8) clcks = 1;\n    });\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8202831, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-L3o0iMvhXIg/AAAAAAAAAAI/AAAAAAAAAGw/FMVE0cwO_YU/photo.jpg?sz=128", "display_name": "user8202831", "link": "https://stackoverflow.com/users/8202831/user8202831"}, "is_accepted": false, "score": 0, "last_activity_date": 1487867593, "creation_date": 1487867593, "answer_id": 42421347, "question_id": 42404587, "link": "https://stackoverflow.com/questions/42404587/using-a-switch-statement-but-case-where-counter-equals-one-never-gets-used/42421347#42421347", "title": "using a switch statement - but case where counter equals one never gets used", "body": "<p>This is the solution I will use:</p>\n\n<pre><code>    $(document).ready(function() {\n    var curFnt = ['Trebuchet MS', 'Verdana', 'Tahoma', 'Palatino',  'Georgia', 'Times New Roman', 'Arial', 'Courier New'];\n    var fontSizes = [\"38px\", \"34px\", \"38px\", \"34px\", \"38px\", \"34px\", \"38px\", \"34px\"];\n    var txtClr = ['Black', 'Red', 'Green', 'Blue', 'Brown', 'Aqua', 'Gold', 'white', 'black'];\n    var curBkC = ['white', 'aqua', 'brown', 'yellow', 'lightGreen', 'orange', 'blue', 'lightBlue', 'LightSeaGreen'];\n\n    var clcks = 0;\n\n    $('#cyclStylsArrayCntr').click(function(event){\n        var msg = '';\n\n        // clcks is incremented at the end of the function\n        // -&gt; clcks is 0 at the first time\n\n        $(\".sample2\").css('background-color', curBkC[clcks]);\n        $(\".sample2\").css(\"font-family\", curFnt[clcks]);\n        $(\"#currFont\").css(\"font-family\", curFnt[clcks]);\n        $(\".sample2\").css(\"color\", txtClr[clcks]);\n        $(\".sample2\").animate({fontSize: fontSizes[clcks]}, \"fast\");\n        $(\".sample2\").animate({fontSize: '36px'}, \"fast\");\n        $(\"#currFont\").html(curFnt[clcks]);\n\n        clcks = clcks + 1;\n        if (clcks &gt;= 8) clcks = 0;\n            });\n        });\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8202831, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-L3o0iMvhXIg/AAAAAAAAAAI/AAAAAAAAAGw/FMVE0cwO_YU/photo.jpg?sz=128", "display_name": "user8202831", "link": "https://stackoverflow.com/users/8202831/user8202831"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 5, "score": 0, "last_activity_date": 1487867593, "creation_date": 1487807850, "question_id": 42404587, "link": "https://stackoverflow.com/questions/42404587/using-a-switch-statement-but-case-where-counter-equals-one-never-gets-used", "title": "using a switch statement - but case where counter equals one never gets used", "body": "<p>array switch \n    Sample Use the array switch button to toggle through a number of combinations   </p></p>\n\n<pre><code>$(document).ready(function() {  \n   var clcks = 0; \n    $('#cyclStylsArrayCntr').click(function(event){\n    var curFnt = ['Trebuchet MS', 'Verdana', 'Tahoma', 'Palatino',  'Georgia', 'Times New Roman', 'Arial', 'Courier New'];\n   var txtClr =['Black', 'Red','Green','Blue','Brown','Aqua','Gold','white','black'];\n    var curBkC = ['white', 'aqua','brown','yellow','lightGreen','orange','blue','lightBlue','LightSeaGreen']    \n   var msg = '';                   // Message\n\n      // Arrays are zero based (so 0 is round 1)\n     // Add 1 to the current round\n      clcks = (clcks + 1); \n      if(clcks&gt;=8)clcks=1;\n\n                            switch (true) {\n        case clcks == 1:\n            $(\".sample2\").css('background-color', curBkC[clcks]);\n            $(\".sample2\").css(\"font-family\", curFnt[clcks]);\n            $(\"#currFont\").css(\"font-family\", curFnt[clcks]);\n            $(\".sample2\").css(\"color\", txtClr[clcks]);\n            $(\".sample2\").animate({fontSize: '38px'}, \"fast\");\n            $(\".sample2\").animate({fontSize: '36px'}, \"fast\");\n            $(\"#currFont\").html(curFnt[clcks]);\n            break;                  \n        case clcks == 2:\n            $(\".sample2\").css('background-color', curBkC[clcks]);\n            $(\".sample2\").css(\"font-family\", curFnt[clcks]);\n            $(\"#currFont\").css(\"font-family\", curFnt[clcks]);\n            $(\".sample2\").css(\"color\", txtClr[clcks]);\n            $(\".sample2\").animate({fontSize: '34px'}, \"fast\");\n            $(\".sample2\").animate({fontSize: '36px'}, \"fast\");\n            $(\"#currFont\").html(curFnt[clcks]);\n            break;\n        case clcks == 3:\n            $(\".sample2\").css('background-color', curBkC[clcks]);\n            $(\".sample2\").css(\"font-family\", curFnt[clcks]);\n            $(\"#currFont\").css(\"font-family\", curFnt[clcks]);\n            $(\".sample2\").css(\"color\", txtClr[clcks]);\n            $(\".sample2\").animate({fontSize: '38px'}, \"fast\");\n            $(\".sample2\").animate({fontSize: '36px'}, \"fast\");\n            $(\"#currFont\").html(curFnt[clcks]);\n            break;\n        case clcks == 4:\n            $(\".sample2\").css('background-color', curBkC[clcks]);\n            $(\".sample2\").css(\"font-family\", curFnt[clcks]);\n            $(\"#currFont\").css(\"font-family\", curFnt[clcks]);\n            $(\".sample2\").css(\"color\", txtClr[clcks]);\n            $(\".sample2\").animate({fontSize: '34px'}, \"fast\");\n            $(\".sample2\").animate({fontSize: '36px'}, \"fast\");\n            $(\"#currFont\").html(curFnt[clcks]);\n            break; \n          case clcks == 5:\n            $(\".sample2\").css('background-color', curBkC[clcks]);\n            $(\".sample2\").css(\"font-family\", curFnt[clcks]);\n            $(\"#currFont\").css(\"font-family\", curFnt[clcks]);\n            $(\".sample2\").css(\"color\", txtClr[clcks]);\n            $(\".sample2\").animate({fontSize: '38px'}, \"fast\");\n            $(\".sample2\").animate({fontSize: '36px'}, \"slow\");\n            $(\"#currFont\").html(curFnt[clcks]);\n            break; \n        case clcks == 6:\n            $(\".sample2\").css('background-color', curBkC[clcks]);\n            $(\".sample2\").css(\"font-family\", curFnt[clcks]);\n            $(\"#currFont\").css(\"font-family\", curFnt[clcks]);\n            $(\".sample2\").css(\"color\", txtClr[clcks]);\n            $(\".sample2\").animate({fontSize: '34px'}, \"fast\");\n            $(\".sample2\").animate({fontSize: '36px'}, \"fast\");\n            $(\"#currFont\").html(curFnt[clcks]);\n            break; \n        case clcks == 7:\n            $(\".sample2\").css('background-color', curBkC[clcks]);\n            $(\".sample2\").css(\"font-family\", curFnt[clcks]);\n            $(\"#currFont\").css(\"font-family\", curFnt[clcks]);\n            $(\".sample2\").css(\"color\", txtClr[clcks]);\n            $(\".sample2\").animate({fontSize: '38px'}, \"fast\");\n            $(\".sample2\").animate({fontSize: '36px'}, \"fast\");\n            $(\"#currFont\").html(curFnt[clcks]);\n            break; \n        case clcks == 8:\n            $(\".sample2\").css('background-color', curBkC[clcks]);\n            $(\".sample2\").css(\"font-family\", curFnt[clcks]);\n            $(\"#currFont\").css(\"font-family\", curFnt[clcks]);\n            $(\".sample2\").css(\"color\", txtClr[clcks]);\n            $(\".sample2\").animate({fontSize: '34px'}, \"fast\");\n            $(\".sample2\").animate({fontSize: '36px'}, \"fast\");\n            $(\"#currFont\").html(curFnt[clcks]);\n\n            break; \n                            }\n\n\n  } );\n\n      });\n</code></pre>\n\n<p>Here is a sample of my file online -  the first font selected by the 'array switch' button should be 'Trebuchet MS' but instead it skips to Verdana       <a href=\"http://etherealdoorways.com/switchColorFont.html\" rel=\"nofollow noreferrer\">http://etherealdoorways.com/switchColorFont.html</a></p>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 1, "creation_date": 1487807980, "post_id": 42404569, "comment_id": 71956033, "body": "What is your expected output from the array you provided?"}, {"owner": {"reputation": 6647, "user_id": 4095444, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/NipXZ.jpg?s=128&g=1", "display_name": "chazsolo", "link": "https://stackoverflow.com/users/4095444/chazsolo"}, "edited": false, "score": 0, "creation_date": 1487807998, "post_id": 42404569, "comment_id": 71956037, "body": "Sounds like an XY problem to me. What exactly are you trying to do with the result?"}, {"owner": {"reputation": 400, "user_id": 6363349, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b3de6c40b1135c4f6dc8051a6df61fc4?s=128&d=identicon&r=PG&f=1", "display_name": "Something is missing", "link": "https://stackoverflow.com/users/6363349/something-is-missing"}, "edited": false, "score": 0, "creation_date": 1487808048, "post_id": 42404569, "comment_id": 71956061, "body": "In the example above, I would expect the result to be"}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 1, "creation_date": 1487808143, "post_id": 42404569, "comment_id": 71956106, "body": "Can you include expected result at Question?"}, {"owner": {"reputation": 729, "user_id": 5248324, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OfvTl.jpg?s=128&g=1", "display_name": "ToMakPo", "link": "https://stackoverflow.com/users/5248324/tomakpo"}, "edited": false, "score": 0, "creation_date": 1487808363, "post_id": 42404569, "comment_id": 71956173, "body": "Are you trying to return the ids of the duplicate items or find the duplicate items them selves? Or are you trying to remove all duplicate items?"}, {"owner": {"reputation": 400, "user_id": 6363349, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b3de6c40b1135c4f6dc8051a6df61fc4?s=128&d=identicon&r=PG&f=1", "display_name": "Something is missing", "link": "https://stackoverflow.com/users/6363349/something-is-missing"}, "edited": false, "score": 0, "creation_date": 1487808487, "post_id": 42404569, "comment_id": 71956208, "body": "added what is expected in the question"}, {"owner": {"reputation": 337, "user_id": 4020198, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LnnxF5L4L3c/AAAAAAAAAAI/AAAAAAAAMrI/sMMIkdfrvBA/photo.jpg?sz=128", "display_name": "Michael", "link": "https://stackoverflow.com/users/4020198/michael"}, "edited": false, "score": 0, "creation_date": 1487808927, "post_id": 42404569, "comment_id": 71956335, "body": "Have you tried something along the lines of <code>var x = oldArray[i].id; newArray.x += oldArray[i];</code> ?"}], "answers": [{"tags": [], "owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "is_accepted": true, "score": 2, "last_activity_date": 1487809098, "last_edit_date": 1487809098, "creation_date": 1487808723, "answer_id": 42404726, "question_id": 42404569, "link": "https://stackoverflow.com/questions/42404569/cycle-through-array-of-objects-find-matching-value-and-then-create-new-array-co/42404726#42404726", "title": "Cycle through array of objects, find matching value and then create new array containing each set of matched values", "body": "<p><strong>Note:</strong> Your desired output is not a valid structue. My code generate an object!</p>\n\n<p>Use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"nofollow noreferrer\"><code>reduce</code></a> to create a hash object of the IDs like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function groupById(arr) {\r\n  return arr.reduce(function(h, o) { // for each object o in the array arr\r\n    if(h[o.id]) h[o.id].push(o);     // if there is already an array for the id o.id, then push this object to it\r\n    else h[o.id] = [o];              // if not, then create an array that contain this object o\r\n    return h;\r\n  }, {});\r\n}\r\n\r\n\r\nvar array = [{\"boro\":\"MANHATTAN\",\"id\":\"0001\",\"date\":\"2016-10-26T00:00:00\",\"dba\":\"abc\"},{\"boro\":\"MANHATTAN\",\"id\":\"0001\",\"date\":\"2016-10-26T00:00:00\",\"dba\":\"abc\"},{\"boro\":\"MANHATTAN\",\"id\":\"0200\",\"date\":\"2016-10-26T00:00:00\",\"dba\":\"abc\"},{\"boro\":\"MANHATTAN\",\"id\":\"0203\",\"date\":\"2016-10-26T00:00:00\",\"dba\":\"abc\"}];\r\n\r\nconsole.log(groupById(array));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 44, "user_id": 5086225, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FkMtjoVdKLA/AAAAAAAAAAI/AAAAAAAAB60/cFCuJTaV3U0/photo.jpg?sz=128", "display_name": "Peter Chon", "link": "https://stackoverflow.com/users/5086225/peter-chon"}, "is_accepted": false, "score": 0, "last_activity_date": 1487809367, "creation_date": 1487809367, "answer_id": 42404827, "question_id": 42404569, "link": "https://stackoverflow.com/questions/42404569/cycle-through-array-of-objects-find-matching-value-and-then-create-new-array-co/42404827#42404827", "title": "Cycle through array of objects, find matching value and then create new array containing each set of matched values", "body": "<p>perhaps this might be what you're looking for?</p>\n\n<pre><code>var newArr = {};\nvar arr = [\n  {\n    boro: \"MANHATTAN\",\n    id: \"0001\",\n    date: \"2016-10-26T00:00:00\",\n    dba: \"abc\"\n  }, \n  {\n    boro: \"MANHATTAN\",\n    id: \"0001\",\n    date: \"2016-10-26T00:00:00\",\n    dba: \"abc\"\n  },\n  {\n    boro: \"MANHATTAN\",\n    id: \"0200\",\n    date: \"2016-10-26T00:00:00\",\n    dba: \"abc\"\n  },\n  {\n    boro: \"MANHATTAN\",\n    id: \"0203\",\n    date: \"2016-10-26T00:00:00\",\n    dba: \"abc\"\n  }\n];\n\nfunction makeNewArrById (obj, i) {\n  if(!newArr[obj.id]) {\n    newArr[obj.id] = [];\n  }\n\n  newArr[obj.id].push(obj);\n}\n\narr.map(makeNewArrById);\n\nconsole.log(newArr);\n</code></pre>\n"}], "owner": {"reputation": 400, "user_id": 6363349, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b3de6c40b1135c4f6dc8051a6df61fc4?s=128&d=identicon&r=PG&f=1", "display_name": "Something is missing", "link": "https://stackoverflow.com/users/6363349/something-is-missing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 42404726, "answer_count": 2, "score": 1, "last_activity_date": 1487809367, "creation_date": 1487807771, "last_edit_date": 1487808429, "question_id": 42404569, "link": "https://stackoverflow.com/questions/42404569/cycle-through-array-of-objects-find-matching-value-and-then-create-new-array-co", "title": "Cycle through array of objects, find matching value and then create new array containing each set of matched values", "body": "<p>My question may not make much sense but I'm trying to cycle through an array of objects that may or may not be referencing the same item/place. </p>\n\n<p>Each place has a unique identifier so I can use that to check. </p>\n\n<p>Right now I have the original array as well as a new array that is filled as the program evaluates the identifiers. </p>\n\n<p>If the program hasn't already seen that identifier in the array, I'd like it to create an array within that second array and add the object to that newly created array. </p>\n\n<p>If however, that identifier has been seen before, the object should be added as the next item in the array that matches. </p>\n\n<p>Here is some sample data</p>\n\n<pre><code>[{\n    boro: \"MANHATTAN\",\n    id: \"0001\"\n    date: \"2016-10-26T00:00:00\",\n    dba: \"abc\"\n  }, {\n    boro: \"MANHATTAN\",\n    id: \"0001\"\n    date: \"2016-10-26T00:00:00\",\n    dba: \"abc\"\n  },\n  {\n    boro: \"MANHATTAN\",\n    id: \"0200\"\n    date: \"2016-10-26T00:00:00\",\n    dba: \"abc\"\n  },\n  {\n    boro: \"MANHATTAN\",\n    id: \"0203\"\n    date: \"2016-10-26T00:00:00\",\n    dba: \"abc\"\n  }\n]\n</code></pre>\n\n<p>The program should cycle through the array, view the id of the first object, realize it's not present in the new array and add it as an array itself containing the first object. The second object then matches that id so it's added as the second array item of the first array item in the second array. </p>\n\n<p>Here is the start of my attempt</p>\n\n<pre><code>function findDups (arr){\n    let newArray = []\n\n    arr.forEach(function(current){\n        if(newArray.indexOf(current.id) === -1){\n            newArray.push([current.id{current}])\n            console.log(newArray)\n        }\n\n    })\n\n}\n</code></pre>\n\n<p>Basically, how can I dynamically add entire objects as array items within an array</p>\n\n<p>Here is basically what I'm expecting arrays grouped by id: </p>\n\n<pre><code>newArray = [\n        [0001: [{\n                    boro: \"MANHATTAN\",\n                    id: \"0001\"\n                    date: \"2016-10-26T00:00:00\",\n                    dba: \"abc\"\n                }, {\n                    boro: \"MANHATTAN\",\n                    id: \"0001\"\n                    date: \"2016-10-26T00:00:00\",\n                    dba: \"abc\"\n                }\n\n            ]\n\n        ],\n        0200: [{\n            boro: \"MANHATTAN\",\n            id: \"0200\"\n            date: \"2016-10-26T00:00:00\",\n            dba: \"abc\"\n        }]\n        etc. etc.\n    ]\n</code></pre>\n"}, {"tags": ["javascript", "json", "reactjs", "immutability"], "answers": [{"comments": [{"owner": {"reputation": 240688, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 2, "creation_date": 1487808357, "post_id": 42404660, "comment_id": 71956170, "body": "Nice find. Did not know about this ES6 feature. See the other answer for the more clumsy &quot;old way&quot;."}], "tags": [], "owner": {"reputation": 2840, "user_id": 1950503, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/NgwSU.jpg?s=128&g=1", "display_name": "Cassidy Williams", "link": "https://stackoverflow.com/users/1950503/cassidy-williams"}, "is_accepted": true, "score": 87, "last_activity_date": 1487808265, "creation_date": 1487808265, "answer_id": 42404660, "question_id": 42404563, "link": "https://stackoverflow.com/questions/42404563/using-immutability-helper-in-react-to-set-variable-object-key/42404660#42404660", "title": "Using immutability-helper in React to set variable object key", "body": "<p>Figured it out! I needed to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Object_initializer#Computed_property_names\" rel=\"noreferrer\">ES6 computed property names</a> and simply edit <code>assignAttribute</code> to:</p>\n\n<pre><code>assignAttribute(field, attribute) {\n  var temp = update(this.state.fields, {\n    [field]: {$set: attribute}\n  });\n\n  this.setState({\n    fields: temp\n  });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 240688, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "is_accepted": false, "score": 4, "last_activity_date": 1487808308, "last_edit_date": 1495542310, "creation_date": 1487808308, "answer_id": 42404663, "question_id": 42404563, "link": "https://stackoverflow.com/questions/42404563/using-immutability-helper-in-react-to-set-variable-object-key/42404663#42404663", "title": "Using immutability-helper in React to set variable object key", "body": "<p>You can use the <code>[]</code> syntax if you have dynamic field names:</p>\n\n<pre><code>var data = {}\ndata[field] = {$set: attribute}\n\nvar temp = update(this.state.fields, data)\n</code></pre>\n\n<p>This gets <a href=\"https://stackoverflow.com/a/42404660/14955\">a lot more concise if you can use ES6</a>.</p>\n"}], "owner": {"reputation": 2840, "user_id": 1950503, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/NgwSU.jpg?s=128&g=1", "display_name": "Cassidy Williams", "link": "https://stackoverflow.com/users/1950503/cassidy-williams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3854, "favorite_count": 3, "accepted_answer_id": 42404660, "answer_count": 2, "score": 54, "last_activity_date": 1487808308, "creation_date": 1487807754, "question_id": 42404563, "link": "https://stackoverflow.com/questions/42404563/using-immutability-helper-in-react-to-set-variable-object-key", "title": "Using immutability-helper in React to set variable object key", "body": "<p>I have a function I want to write in React.  In my class I have a state object <code>fields</code> that looks like this:</p>\n\n<pre><code>this.state = {\n  step: 1,\n  fields: {\n    type: '',\n    name: '',\n    subtype: '',\n    team: '',\n    agreement: ''\n  }\n};\n</code></pre>\n\n<p>I have various functions that assign those keys using <code>immutability helper</code> that generally look like:</p>\n\n<pre><code>assignType(attribute) {\n  var temp = update(this.state.fields, {\n    type: {$set: attribute}\n  });\n\n  this.setState({\n    fields: temp\n  });\n}\n</code></pre>\n\n<p>What I would <em>like</em> to do is use a function that's more generic and do something like this:</p>\n\n<pre><code>assignAttribute(field, attribute) {\n  var temp = update(this.state.fields, {\n    field: {$set: attribute}\n  });\n\n  this.setState({\n    fields: temp\n  });\n}\n</code></pre>\n\n<p>But, this doesn't work.  What can I do to use a variable key using <code>immutability-helper</code>?</p>\n"}, {"tags": ["javascript", "asp.net-web-api", "xmlhttprequest"], "comments": [{"owner": {"reputation": 794, "user_id": 4691150, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/f0bf99090ae4bf947ed23c5319ccaa68?s=128&d=identicon&r=PG&f=1", "display_name": "da_jokker", "link": "https://stackoverflow.com/users/4691150/da-jokker"}, "edited": false, "score": 0, "creation_date": 1487864949, "post_id": 42404543, "comment_id": 71986100, "body": "FYI.. I just used Fiddler to watch my call to my API. According to Fiddler, (which I barely know how to use), I see the call in the Inspector, and it shows my return value in the bottom section (top section shows the client header, bottom section shows the return I take it). So it even sounds more and more like my service is working, but there is just something wrong with the JavaScript side?"}], "answers": [{"tags": [], "owner": {"reputation": 794, "user_id": 4691150, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/f0bf99090ae4bf947ed23c5319ccaa68?s=128&d=identicon&r=PG&f=1", "display_name": "da_jokker", "link": "https://stackoverflow.com/users/4691150/da-jokker"}, "is_accepted": false, "score": 1, "last_activity_date": 1533317883, "last_edit_date": 1533317883, "creation_date": 1487885106, "answer_id": 42426466, "question_id": 42404543, "link": "https://stackoverflow.com/questions/42404543/trying-to-use-javascript-to-call-my-mvc-webapi/42426466#42426466", "title": "Trying to use Javascript to call my MVC WebAPI", "body": "<p>All,</p>\n\n<p>So after an entire day and half of messing around, finally figured it out. I guess I was running an HTML file from my desktop, and my Web Service was running on <a href=\"http://localhost:64769\" rel=\"nofollow noreferrer\">http://localhost:64769</a>.</p>\n\n<p>This is one of those cross domain things. When using an HTTP client in .NET, I did not have to deal with this.. but once I tried to use a client other than .NET, my Web service actually responded.. but the client Browser would not accept the response.</p>\n\n<p>The fix was to change my api service to...</p>\n\n<pre><code>[HttpGet]\npublic HttpResponseMessage Demo()\n{\n    string myReturnMessage = \"API Demo call hit \" + DateTime.Now.ToString();\n    System.Diagnostics.Debug.Print(myReturnMessage);\n\n    HttpResponseMessage myReturn = this.Request.CreateResponse(System.Net.HttpStatusCode.OK, myReturnMessage);\n\n    //This was the KEY!!!!\n    myReturn.Headers.Add(\"Access-Control-Allow-Origin\", \"*\");\n\n    return myReturn;\n}\n</code></pre>\n"}], "owner": {"reputation": 794, "user_id": 4691150, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/f0bf99090ae4bf947ed23c5319ccaa68?s=128&d=identicon&r=PG&f=1", "display_name": "da_jokker", "link": "https://stackoverflow.com/users/4691150/da-jokker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1533317883, "creation_date": 1487807679, "last_edit_date": 1487864177, "question_id": 42404543, "link": "https://stackoverflow.com/questions/42404543/trying-to-use-javascript-to-call-my-mvc-webapi", "title": "Trying to use Javascript to call my MVC WebAPI", "body": "<p>So I have a simple WebAPI Controller with...</p>\n\n<pre><code>[HttpGet]\npublic string Demo()\n{\n  System.Diagnostics.Debug.Print(\"API Demo call hit \" + DateTime.Now.ToString());\n  return \"Got Here\";\n}\n</code></pre>\n\n<p>Because of the Debug output, I can tell that it is actually getting called from my javascript. So I know that my script is at least connecting. I also know that if I put a break on the line.. the script (html page) does pause and wait until I let the code continue. So they are talking, but I have 2 issues...</p>\n\n<p>1) Every time I make a send call, I get the script error \"NetworkError: Failed to execute 'send' on 'XMLHttpRequest': Failed to load '<a href=\"http://localhost:64769/api/demo\" rel=\"nofollow noreferrer\">http://localhost:64769/api/demo</a>'\" ... even though I know it is talking to it. But I did notice that if I do NOT trap for errors, the script fails on the \"Send\" line and doesn't continue.</p>\n\n<p>2) However, with the error trap, the script does continue (as expected) but the XMLHttpRequest doesn't have my return. (e.g. responseText is blank).. pretty much every single property of the object is blank or null.</p>\n\n<p>So I think my response is empty because there is a problem with the \"send\". However because it is actually calling my Controller and waiting on it to run, I'm lost as to what the problem is?</p>\n\n<p>Here is my script...</p>\n\n<pre><code>function CallWebAPI()\n{\n   var displayResults = document.getElementById('responseDetails');\n   var xmlhttp = new XMLHttpRequest();\n   xmlhttp.open(\"GET\", \"http://localhost:64769/api/demo\", false);\n\n   try\n   {\n      xmlhttp.send();\n   }\n   catch(err)\n   {\n      displayResults.innerHTML += err + \"&lt;br /&gt;\";\n   }\n\n   displayResults.innerHTML += \"The Results...&lt;br /&gt;\";\n\n   for (var key in xmlhttp)\n   {\n     displayResults.innerHTML += key + \"---\" + xmlhttp[key] + \"&lt;br /&gt;\";\n   }\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "webcrypto-api"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1693593"}, "is_accepted": false, "score": 3, "last_activity_date": 1487909308, "last_edit_date": 1487909308, "creation_date": 1487828733, "answer_id": 42407996, "question_id": 42404534, "link": "https://stackoverflow.com/questions/42404534/converting-from-utf8-to-hex-and-back-with-javascript/42407996#42407996", "title": "Converting from utf8 to hex and back with Javascript", "body": "<p>I didn't dig too deep into the call-chain used in the fiddle to do the conversion, but it appears to try converting UTF-16/UCS-2 to byte size instead of an actually hex representation of the buffer content itself.</p>\n\n<p>Here is one approach to convert the byte buffer content to hex string representation, and from hex string back to binary data.</p>\n\n<p>It takes each byte in the buffer and produced a two-digit hex representation of its value, and concatenates it to a string.</p>\n\n<p>The reverse takes two chars from the string representation and converts it back to a byte value representation.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// some bytes as Uint8Array\r\nvar random = crypto.getRandomValues(new Uint8Array(16)), i, str = \"\", allOK = true;\r\n\r\n// convert to HEX string representation\r\nfor(i = 0; i &lt; random.length; i++) str += pad2(random[i].toString(16));\r\nconsole.log(str);\r\n\r\n// convert back to byte buffer\r\nvar buffer = new Uint8Array(random.length);\r\nfor(i = 0; i &lt; buffer.length; i++) buffer[i] = parseInt(str.substr(i&lt;&lt;1, 2), 16);\r\n\r\n// check if same content\r\nfor(i = 0; i &lt; buffer.length; i++) if (buffer[i] !== random[i]) allOK = false;\r\nconsole.log(\"All OK?\", allOK)\r\n\r\nfunction pad2(s) {return s.length &lt; 2 ? \"0\" + s : s}; // helper: pad to 2 digits</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 29321, "user_id": 458960, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/4e8084512c5b9d92359d2abecc7294fc?s=128&d=identicon&r=PG", "display_name": "Snowman", "link": "https://stackoverflow.com/users/458960/snowman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 718, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1487909308, "creation_date": 1487807618, "last_edit_date": 1487815806, "question_id": 42404534, "link": "https://stackoverflow.com/questions/42404534/converting-from-utf8-to-hex-and-back-with-javascript", "title": "Converting from utf8 to hex and back with Javascript", "body": "<p>I'm trying to encrypt text using WebCrypto. I convert the result to a utf8 string, then convert that to hex. The encryption/decryption works. However, I want to convert the data to hex. When I try to convert to hex and back, the result is different.</p>\n\n<p>Here's the fiddle (use Chrome): <a href=\"https://jsfiddle.net/yxp01v5g/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/yxp01v5g/</a></p>\n\n<p>The test code is here:</p>\n\n<pre><code>var text = \"hello world\";\nvar key = App.crypto.generateKey(16);\n\nApp.crypto.encrypt(text, key, function(encryptedText, iv){\n  console.log(\"encrypted text:\", encryptedText, \"iv\", iv);\n\n  var encryptedTextHex = convertUtf8StringToHex(encryptedText);\n  console.log(\"encrypted text hex\", encryptedTextHex);\n\n  var backToUtf8 = convertHexToUtf8(encryptedTextHex);\n  console.log(\"Back to utf8\", backToUtf8);\n  console.assert(encryptedText == backToUtf8);\n})\n</code></pre>\n\n<p>As you can see, I'm taking the result, converting it to hex, then converting it back to utf8, hoping for it to be equal to the original result. However, it's not. </p>\n\n<p>Can anyone tell me what on earth I'm doing wrong?</p>\n"}, {"tags": ["javascript", "date", "datepicker", "momentjs"], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 2827477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97ef295460ad6b89feeebe4ad8f377e6?s=128&d=identicon&r=PG", "display_name": "Justin Seiter", "link": "https://stackoverflow.com/users/2827477/justin-seiter"}, "edited": false, "score": 2, "creation_date": 1487811451, "post_id": 42404916, "comment_id": 71957048, "body": "<code>initialdate + start_date</code> fails because they are both Moment objects at that point."}], "tags": [], "owner": {"reputation": 376, "user_id": 5146160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1d58838bb19f315ca2683faf4bcb0ee?s=128&d=identicon&r=PG&f=1", "display_name": "mehparra", "link": "https://stackoverflow.com/users/5146160/mehparra"}, "is_accepted": true, "score": 25, "last_activity_date": 1487809879, "creation_date": 1487809879, "answer_id": 42404916, "question_id": 42404507, "link": "https://stackoverflow.com/questions/42404507/moment-js-concatenate-date-and-time/42404916#42404916", "title": "moment.js concatenate date and time", "body": "<p>The fail is trying on concatenate the values, test with something like this:</p>\n\n<pre><code>let initialdate = '2016-10-01';\nlet start_time = '19:04:10';\nlet enddate = '2016-10-01';\nlet end_time = '19:04:20';\n\nlet datetimeA = moment(initialdate + \" \" + start_time);\nlet datetimeB = moment(enddate + \" \" + end_time);\n\nconsole.log(datetimeA.format());\nconsole.log(datetimeB.format());\n\nlet datetimeC = datetimeB.diff(datetimeA, 'seconds');\n\nconsole.log(datetimeC);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "is_accepted": false, "score": 28, "last_activity_date": 1487854559, "creation_date": 1487854559, "answer_id": 42416372, "question_id": 42404507, "link": "https://stackoverflow.com/questions/42404507/moment-js-concatenate-date-and-time/42416372#42416372", "title": "moment.js concatenate date and time", "body": "<p>Concatenate the date and time strings and parse them as one, e.g.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var date = '23/02/2017';\r\nvar time = '15:42';\r\n\r\nvar dateTime = moment(date + ' ' + time, 'DD/MM/YYYY HH:mm');\r\n\r\nconsole.log(dateTime.format('YYYY-MM-DD HH:mm'))</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 3298, "user_id": 419194, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5482938495f1a47400c553a43c45a77f?s=128&d=identicon&r=PG", "display_name": "ahota", "link": "https://stackoverflow.com/users/419194/ahota"}, "is_accepted": false, "score": 10, "last_activity_date": 1508341895, "creation_date": 1508341895, "answer_id": 46814311, "question_id": 42404507, "link": "https://stackoverflow.com/questions/42404507/moment-js-concatenate-date-and-time/46814311#46814311", "title": "moment.js concatenate date and time", "body": "<p>A much cleaner solution IMO is to use moment's <code>hour</code> and <code>minute</code> getters and setters.</p>\n\n<pre><code>let a = moment()\nlet b = moment().add(3, 'hour').add(37, 'minute') //b is the time portion\na.hour(b.hour()).minute(b.minute())\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 827, "user_id": 3457966, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CGCiH.jpg?s=128&g=1", "display_name": "Choco", "link": "https://stackoverflow.com/users/3457966/choco"}, "edited": false, "score": 0, "creation_date": 1561590018, "post_id": 54249798, "comment_id": 100118707, "body": "what about AM or PM?"}, {"owner": {"reputation": 2171, "user_id": 464435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/f0349807b224f079ee8d46a591aa4242?s=128&d=identicon&r=PG", "display_name": "Aydus-Matthew", "link": "https://stackoverflow.com/users/464435/aydus-matthew"}, "edited": false, "score": 3, "creation_date": 1566776255, "post_id": 54249798, "comment_id": 101751370, "body": "This solution confirmed working with with am/pm times."}], "tags": [], "owner": {"reputation": 311, "user_id": 9270765, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fTmAZKIG1ho/AAAAAAAAAAI/AAAAAAAAABQ/KlndwO9eyTc/photo.jpg?sz=128", "display_name": "Sergei Volynkin", "link": "https://stackoverflow.com/users/9270765/sergei-volynkin"}, "is_accepted": false, "score": 16, "last_activity_date": 1606310218, "last_edit_date": 1606310218, "creation_date": 1547798439, "answer_id": 54249798, "question_id": 42404507, "link": "https://stackoverflow.com/questions/42404507/moment-js-concatenate-date-and-time/54249798#54249798", "title": "moment.js concatenate date and time", "body": "<p><strong>[2021] Most elegant solution is:</strong></p>\n<pre><code>/* `date` and `time` are instances of Moment */\n\n    date = date.set({\n          hour: time.get('hour'),\n          minute: time.get('minute'),\n          second: 0,\n          millisecond: 0,\n        });\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1272, "user_id": 3286961, "user_type": "registered", "accept_rate": 15, "profile_image": "https://i.stack.imgur.com/CjV8j.jpg?s=128&g=1", "display_name": "Deepak", "link": "https://stackoverflow.com/users/3286961/deepak"}, "is_accepted": false, "score": 0, "last_activity_date": 1608535500, "last_edit_date": 1608535500, "creation_date": 1608534202, "answer_id": 65388704, "question_id": 42404507, "link": "https://stackoverflow.com/questions/42404507/moment-js-concatenate-date-and-time/65388704#65388704", "title": "moment.js concatenate date and time", "body": "<p>Simply use this function</p>\n<pre><code>function getCombinedDateObject(date, time) {\nlet calculatedDateString = '';\nif (date &amp;&amp; time) {\n  let utcDate = moment.utc(date);\n  let utcTime = moment.utc(time);\n  calculatedDateString = moment(`${utcDate.format('YYYY-MM-DD')} ${utcTime.format(&quot;HH:mm:ss z&quot;)}`);\n}\nlet finalDateTime = new Date(calculatedDateString);\nif (isNaN(finalDateTime.getTime()))\n  return null;\nelse\n  return finalDateTime;\n}\n</code></pre>\n"}], "owner": {"reputation": 333, "user_id": 3330303, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UD1ar.jpg?s=128&g=1", "display_name": "grankan", "link": "https://stackoverflow.com/users/3330303/grankan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44649, "favorite_count": 1, "accepted_answer_id": 42404916, "answer_count": 5, "score": 23, "last_activity_date": 1608535500, "creation_date": 1487807440, "last_edit_date": 1487839679, "question_id": 42404507, "link": "https://stackoverflow.com/questions/42404507/moment-js-concatenate-date-and-time", "title": "moment.js concatenate date and time", "body": "<p>I have four fields in a form, some containing an initial date and the end date (dd / mm / yyyy) and the others contain the start time and the end time (hh: ss).</p>\n\n<p>The value of these fields I use to get the date and time with moment.js such as this:</p>\n\n<pre><code>initialdate = moment( $('input#start_date').val(), 'DD/MM/YYYY' );\nstart_time = moment( $('input#start_time').val(), 'HH:mm');\nenddate = moment( $('input#enddate').val(), 'DD/MM/YYYY' );\nend_time = moment( $('input#end_time').val(), 'HH:mm');\n</code></pre>\n\n<p>What I intend is to then get the difference in seconds between the two dates, concatenating the starting date and time and the ending date and time. I have tried to do this, but to no avail:</p>\n\n<pre><code>start = initialdate + start_time;\nend = enddate + end_time;\ntracker = moment.duration( end.diff(start) ).asSeconds();\n</code></pre>\n"}, {"tags": ["javascript", "php"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1487807566, "post_id": 42404494, "comment_id": 71955900, "body": "SO is not a design discussion forum. It&#39;s for narrowly-scoped questions that can have objectively correct answers. That said, a separate file for every function seems crazy to me."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1487807628, "post_id": 42404494, "comment_id": 71955929, "body": "Group the related functions together. Don&#39;t worry much about including including a few extra functions that you don&#39;t use. Maybe organize stuff into classes."}, {"owner": {"reputation": 45871, "user_id": 451969, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/EuJtr.jpg?s=128&g=1", "display_name": "Jared Farrish", "link": "https://stackoverflow.com/users/451969/jared-farrish"}, "edited": false, "score": 0, "creation_date": 1487808059, "post_id": 42404494, "comment_id": 71956069, "body": "If you developed it in a certain way, <a href=\"http://requirejs.org/\" rel=\"nofollow noreferrer\">RequireJS</a> would be the tool to use. I imagine some form of webpack or gulp scripting could also build out your use cases, etc."}], "answers": [{"tags": [], "owner": {"reputation": 39428, "user_id": 315828, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/033829f8a1562bafb256157e24548fac?s=128&d=identicon&r=PG", "display_name": "xbonez", "link": "https://stackoverflow.com/users/315828/xbonez"}, "is_accepted": false, "score": 0, "last_activity_date": 1487807698, "creation_date": 1487807698, "answer_id": 42404552, "question_id": 42404494, "link": "https://stackoverflow.com/questions/42404494/including-php-javascript-functions-from-other-files/42404552#42404552", "title": "Including PHP &amp; JavaScript functions from other files", "body": "<p>It is ok to include more functions than you need in PHP - the additional cost incurred is parsing the extra PHP which is miniscule (and this can later be optimized by caching the bytecode).</p>\n\n<p>You should group your functions based on their functionality (preferably in classes) - eg., DB accessors, Redis/Memcache methods, image manipulation methods, and so on and so forth.</p>\n\n<p>You might benefit greatly by either using a framework (eg. Laravel, CodeIgniter etc.) or spending some time reading their documentation and seeing how they structure their code. Frameworks are great in helping you organize your code.</p>\n"}, {"comments": [{"owner": {"reputation": 4737, "user_id": 2495645, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/7dd21.png?s=128&g=1", "display_name": "Anthony Rutledge", "link": "https://stackoverflow.com/users/2495645/anthony-rutledge"}, "edited": false, "score": 0, "creation_date": 1487856277, "post_id": 42404585, "comment_id": 71979248, "body": "I might start with the PHP manual and the PSR- 4 standard before moving on to Composer."}], "tags": [], "owner": {"reputation": 1537, "user_id": 7581259, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7qdYwfrkjCk/AAAAAAAAAAI/AAAAAAAAAk4/a0R2qziuVhg/photo.jpg?sz=128", "display_name": "Theo", "link": "https://stackoverflow.com/users/7581259/theo"}, "is_accepted": true, "score": 0, "last_activity_date": 1487807845, "creation_date": 1487807845, "answer_id": 42404585, "question_id": 42404494, "link": "https://stackoverflow.com/questions/42404494/including-php-javascript-functions-from-other-files/42404585#42404585", "title": "Including PHP &amp; JavaScript functions from other files", "body": "<p>I would encourage you to look at using an \"object orientated\" approach rather than \"procedural\".</p>\n\n<p>This site has some good examples: </p>\n\n<p><a href=\"https://code.tutsplus.com/tutorials/object-oriented-php-for-beginners--net-12762\" rel=\"nofollow noreferrer\">https://code.tutsplus.com/tutorials/object-oriented-php-for-beginners--net-12762</a></p>\n\n<p>Then look at autoloading with composer:</p>\n\n<p><a href=\"http://phpenthusiast.com/blog/how-to-autoload-with-composer\" rel=\"nofollow noreferrer\">http://phpenthusiast.com/blog/how-to-autoload-with-composer</a></p>\n"}, {"tags": [], "owner": {"reputation": 4737, "user_id": 2495645, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/7dd21.png?s=128&g=1", "display_name": "Anthony Rutledge", "link": "https://stackoverflow.com/users/2495645/anthony-rutledge"}, "is_accepted": false, "score": 0, "last_activity_date": 1487856391, "last_edit_date": 1487856391, "creation_date": 1487856089, "answer_id": 42416972, "question_id": 42404494, "link": "https://stackoverflow.com/questions/42404494/including-php-javascript-functions-from-other-files/42416972#42416972", "title": "Including PHP &amp; JavaScript functions from other files", "body": "<p>In the pragmatic sense, putting all your functions in one file is not a problem. But, from experience, there may be a day when you have many <code>require</code> / <code>include</code> statements spread across multiple files.</p>\n\n<h2>Option C</h2>\n\n<p>If you stretch yourself to use <a href=\"http://php.net/manual/en/language.namespaces.php\" rel=\"nofollow noreferrer\">PHP namespaces</a> make <a href=\"http://php.net/manual/en/language.oop5.php\" rel=\"nofollow noreferrer\">classes</a> for your functions, you can create an autoloader system.</p>\n\n<p>I learned how to do it by using the PHP Manual on <a href=\"http://php.net/manual/en/language.oop5.autoload.php\" rel=\"nofollow noreferrer\">autoloading</a>, and the <a href=\"http://www.php-fig.org/psr/psr-4/\" rel=\"nofollow noreferrer\">PSR-4</a> standards page.</p>\n\n<p>Switching to object oriented programming may be overkill, but keep it in mind as an option when <em>the world</em> starts to get too big.</p>\n\n<p>Sincerely,</p>\n\n<p>Anthony Rutledge</p>\n"}], "owner": {"reputation": 43, "user_id": 6227447, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1eedd2a8213512419b3629214be94bf9?s=128&d=identicon&r=PG", "display_name": "user6227447", "link": "https://stackoverflow.com/users/6227447/user6227447"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 42404585, "answer_count": 3, "score": 0, "last_activity_date": 1487856391, "creation_date": 1487807348, "last_edit_date": 1487807740, "question_id": 42404494, "link": "https://stackoverflow.com/questions/42404494/including-php-javascript-functions-from-other-files", "title": "Including PHP &amp; JavaScript functions from other files", "body": "<p>I am making a fairly large (in contrast to what I've made in the past) web based system at the moment. It features a lot of PHP and JavaScript work where at the moment I have numerous functions in both.</p>\n\n<p>I've always gone by the route of have any functions that you're going to use on a page as a separate file that is included in the page and that function then called. This way if you wanted to use the function on a different page, you're not writing out the function on two pages.</p>\n\n<p>Eg. \"index.php\" including \"scripts.php\" and echoing the result of a function in \"scripts.php\"</p>\n\n<p>Now, I have a fairly complicated scenario where I have 6+ functions which different combinations of which ones will be required on a few different pages depending on their purpose. For Example; I'd have 'page 1' requiring functions 2,3 and 6. 'page 2' requiring functions 2,4,5 and 6. 'page 3' requiring functions 1,2,3 and 5.</p>\n\n<p>In this scenario is it better practice to;</p>\n\n<p>A) Have all of the individual functions on separate files and only include the files with functions required on each page on a page-by-page basis.</p>\n\n<p>or</p>\n\n<p>B) Have all of the individual functions on one file that is included on each page even though half the functions won't be called.</p>\n\n<p>or</p>\n\n<p>C) Something I haven't considered</p>\n"}, {"tags": ["javascript", "google-chrome", "google-chrome-extension"], "comments": [{"owner": {"reputation": 27492, "user_id": 3773011, "user_type": "moderator", "profile_image": "https://i.stack.imgur.com/Hmfxy.jpg?s=128&g=1", "display_name": "Makyen", "link": "https://stackoverflow.com/users/3773011/makyen"}, "edited": false, "score": 0, "creation_date": 1487809452, "post_id": 42404478, "comment_id": 71956491, "body": "It would be fairly easy for the extension to watch for a very specific (HTTP/HTTPS) URL to be opened, cancel the request and open the extension instead. The URL could be one that you have set up on a server that will show something like &quot;You don&#39;t have &lt;My Extension&gt; installed. If you want this to work, you will need to [click here] to install it.&quot;"}, {"owner": {"reputation": 27492, "user_id": 3773011, "user_type": "moderator", "profile_image": "https://i.stack.imgur.com/Hmfxy.jpg?s=128&g=1", "display_name": "Makyen", "link": "https://stackoverflow.com/users/3773011/makyen"}, "edited": false, "score": 0, "creation_date": 1487811950, "post_id": 42404478, "comment_id": 71957204, "body": "Asking for examples (an of-site resource) would make this question off-topic. I have edited the question to remove that request."}], "answers": [{"comments": [{"owner": {"reputation": 326, "user_id": 1566855, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2706716d2dd9d8a24881cd1fd499bd71?s=128&d=identicon&r=PG", "display_name": "Rommel Paras", "link": "https://stackoverflow.com/users/1566855/rommel-paras"}, "edited": false, "score": 0, "creation_date": 1487883959, "post_id": 42405227, "comment_id": 71997790, "body": "Thanks for pointing me in the right direction @Makyen. I modified the code to something that works now:  <code>chrome.webNavigation.onBeforeNavigate.addListener(function(d&zwnj;&#8203;etails) {     if(details.url.indexOf(&quot;upfi.re&quot;) !== -1) {         chrome.tabs.update(details.tabId, {             url: chrome.runtime.getURL(&#39;&#47;thePageIWant.html#url=&#39;) + details.url         });     } });</code>  However, is it correct that I can&#39;t trigger the popup like <a href=\"http://prntscr.com/eckvp0\" rel=\"nofollow noreferrer\">this one</a> but I can open a new tab?"}, {"owner": {"reputation": 27492, "user_id": 3773011, "user_type": "moderator", "profile_image": "https://i.stack.imgur.com/Hmfxy.jpg?s=128&g=1", "display_name": "Makyen", "link": "https://stackoverflow.com/users/3773011/makyen"}, "reply_to_user": {"reputation": 326, "user_id": 1566855, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2706716d2dd9d8a24881cd1fd499bd71?s=128&d=identicon&r=PG", "display_name": "Rommel Paras", "link": "https://stackoverflow.com/users/1566855/rommel-paras"}, "edited": false, "score": 1, "creation_date": 1487884575, "post_id": 42405227, "comment_id": 71998152, "body": "@RommelParas, You can, of course, <a href=\"http://stackoverflow.com/a/40839094/3773011\">open a new tab, or window</a>. You can not programmatically open the actual browser/page action popup. However, you can <a href=\"http://stackoverflow.com/a/40296092/3773011\">open a window that looks and acts very much like one</a> (I need to move the code in that answer into a new answer for the canonical programmatically opening &quot;the popup&quot; question)."}, {"owner": {"reputation": 27492, "user_id": 3773011, "user_type": "moderator", "profile_image": "https://i.stack.imgur.com/Hmfxy.jpg?s=128&g=1", "display_name": "Makyen", "link": "https://stackoverflow.com/users/3773011/makyen"}, "reply_to_user": {"reputation": 326, "user_id": 1566855, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2706716d2dd9d8a24881cd1fd499bd71?s=128&d=identicon&r=PG", "display_name": "Rommel Paras", "link": "https://stackoverflow.com/users/1566855/rommel-paras"}, "edited": false, "score": 1, "creation_date": 1487884860, "post_id": 42405227, "comment_id": 71998299, "body": "@RommelParas, If you are wanting to only act on URLs that contain <code>&#39;upfi.re&#39;</code>, then it would be better to use a <a href=\"https://developer.chrome.com/extensions/webNavigation#property-urlType-urlContains\" rel=\"nofollow noreferrer\">` urlContains`</a> property on the UrlFilter. Doing so will result in your code only being called for the events that are of interest to you."}], "tags": [], "owner": {"reputation": 27492, "user_id": 3773011, "user_type": "moderator", "profile_image": "https://i.stack.imgur.com/Hmfxy.jpg?s=128&g=1", "display_name": "Makyen", "link": "https://stackoverflow.com/users/3773011/makyen"}, "is_accepted": false, "score": 1, "last_activity_date": 1487811883, "creation_date": 1487811883, "answer_id": 42405227, "question_id": 42404478, "link": "https://stackoverflow.com/questions/42404478/is-it-possible-for-a-link-in-an-email-to-open-a-chrome-extension/42405227#42405227", "title": "Is it possible for a link in an email to open a Chrome extension?", "body": "<p>This could easily be done with a <code>webNavigation.onBeforeNavigate</code> listener which listens for a specific URL. When the URL is encountered, it can cause a specific page within the extension to be opened instead.</p>\n\n<p>Quickly prototyping this, the code could look something like (untested, may have errors):</p>\n\n<pre><code>chrome.webNavigation.onBeforeNavigate.addListener(function(details){\n    chrome.tabs.update(details.tabId,{url:chrome.runtime.getURL('/thePageIWant.html'});\n},{url:[\n    {urlEquals:'http:/www.domain-for-my-extension.com/invokeMyExtension.html'}\n]});\n</code></pre>\n\n<h3>References:</h3>\n\n<ul>\n<li><a href=\"https://developer.chrome.com/extensions/webNavigation#event-onBeforeNavigate\" rel=\"nofollow noreferrer\"><code>chrome.webNavigation.onBeforeNavigate</code></a></li>\n<li><a href=\"https://developer.chrome.com/extensions/tabs#method-update\" rel=\"nofollow noreferrer\"><code>chrome.tabs.update()</code></a></li>\n<li><a href=\"https://developer.chrome.com/extensions/runtime#method-getURL\" rel=\"nofollow noreferrer\"><code>runtime.getURL()</code></a></li>\n</ul>\n"}], "owner": {"reputation": 326, "user_id": 1566855, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2706716d2dd9d8a24881cd1fd499bd71?s=128&d=identicon&r=PG", "display_name": "Rommel Paras", "link": "https://stackoverflow.com/users/1566855/rommel-paras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577043787, "creation_date": 1487807267, "last_edit_date": 1577043787, "question_id": 42404478, "link": "https://stackoverflow.com/questions/42404478/is-it-possible-for-a-link-in-an-email-to-open-a-chrome-extension", "title": "Is it possible for a link in an email to open a Chrome extension?", "body": "<p>Is it possible to create a link that the user clicks (say in an email) which opens a Chrome extension that's already installed?</p>\n\n<p>Or, put it in another way, is it possible to develop a Chrome extension that handles how a link is shown (e.g. inside Gmail.com or other sites), that whenever the user clicks it, the extension shows up instead of the user being directed to a site?</p>\n\n<p>I've come across articles talking about custom protocols:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/7087728/custom-protocol-handler-in-chrome\">Custom protocol handler in chrome</a></li>\n</ul>\n\n<p>But what if the extension is not installed, how do you fall back to HTTP?</p>\n\n<p><code>&lt;a href=\"mycustproto:somevalue\"&gt;http://mywebsite.com/somevalue&lt;/a&gt;</code></p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "express", "multer"], "answers": [{"comments": [{"owner": {"reputation": 50, "user_id": 6896431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98c8e657252a802522735f324e9e0620?s=128&d=identicon&r=PG&f=1", "display_name": "wrongawright", "link": "https://stackoverflow.com/users/6896431/wrongawright"}, "edited": false, "score": 0, "creation_date": 1488130877, "post_id": 42471469, "comment_id": 72084193, "body": "Thank you so much!"}], "tags": [], "owner": {"reputation": 16458, "user_id": 148072, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3ac3e3354a1d2bf23a98640022f66c33?s=128&d=identicon&r=PG", "display_name": "Linus Unneb&#228;ck", "link": "https://stackoverflow.com/users/148072/linus-unneb%c3%a4ck"}, "is_accepted": true, "score": 0, "last_activity_date": 1488128402, "creation_date": 1488128402, "answer_id": 42471469, "question_id": 42404445, "link": "https://stackoverflow.com/questions/42404445/having-an-issue-with-multer-express-mongodb-file-saved-to-db-correctly-404-er/42471469#42471469", "title": "Having an Issue with Multer/Express/MongoDB - File saved to DB correctly, 404 error in view", "body": "<p>You are trying to output the object holding the image data directly in your template. This won't work because that's simply not how html work...</p>\n\n<p>I would recommend setting up another route for the image, and then referring to that image.</p>\n\n<pre><code>app.get('/admin/projects/:id/image', (req, res, next) =&gt; {\n  Project.find({ _id: req.params.id }, (err, result) =&gt; {\n    if (err) return next(err)\n    if (result.length === 0) return next()\n\n    res.set('Content-Type', result[0].contentType)\n    res.send(result[0].data)\n  })\n})\n</code></pre>\n\n<p>and then using that url in your template:</p>\n\n<pre><code>...\n\n&lt;img src=\"/admin/projects/&lt;%= project._id %&gt;/image\" /&gt;\n\n...\n</code></pre>\n"}], "owner": {"reputation": 50, "user_id": 6896431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98c8e657252a802522735f324e9e0620?s=128&d=identicon&r=PG&f=1", "display_name": "wrongawright", "link": "https://stackoverflow.com/users/6896431/wrongawright"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 42471469, "answer_count": 1, "score": 0, "last_activity_date": 1488128402, "creation_date": 1487807078, "last_edit_date": 1487810187, "question_id": 42404445, "link": "https://stackoverflow.com/questions/42404445/having-an-issue-with-multer-express-mongodb-file-saved-to-db-correctly-404-er", "title": "Having an Issue with Multer/Express/MongoDB - File saved to DB correctly, 404 error in view", "body": "<p>I'm having an issue that I haven't been able to figure out, despite a few hours of searching for an answer online. I'm using Node, Express, MongoDB, Multer and EJS templates and I'm attempting to save an image to the DB, and then use it in one of my views.</p>\n\n<p>I was first having trouble getting the file to save to the DB correctly, but with the help of this site, I was able to work through that. But my issue now is when I try to use this in one of my views, <strong>I keep getting a weird 404 error that has a strange path</strong>: </p>\n\n<blockquote>\n  <p>CANNOT GET:\n  <a href=\"http://localhost:3090/project/%7B%20contentType:%20\" rel=\"nofollow noreferrer\">http://localhost:3090/project/%7B%20contentType:%20</a>'image/png',%20%20data:%\u2026b%2047%2044%2000%20ff%2000%20ff%2000%20ff%20a0%20bd%20a7%20...%20%3E%20%7D\n  404 (Not Found)</p>\n</blockquote>\n\n<p>This made me think it wasn't correctly saved in the DB, but in Robomongo, it looks like this, which seems correct to me: </p>\n\n<p><a href=\"https://i.stack.imgur.com/SQKWH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SQKWH.png\" alt=\"type\"></a></p>\n\n<p>So, I can see that it has my content type in the URL, which is clearly a mistake, but I can't figure out how to fix this. </p>\n\n<p>I have some previously added images to that file that aren't saved to the DB, and those show just fine using the same template, so the path should be correct. </p>\n\n<p>Many thanks to you all in advance!! </p>\n\n<p>My Index.JS file:</p>\n\n<pre><code>const express = require('express');\nconst http = require('http');\nconst bodyParser = require('body-parser');\nconst morgan = require('morgan');\nconst mongoose = require('mongoose');\nconst path = require('path');\n\n\nmongoose.Promise = global.Promise;\n\nconst router = require('./router');\n\n\n//App Setup\n\nconst app = express();\napp.set(\"view engine\", \"ejs\");\napp.use(express.static(path.join(__dirname, 'public')));\napp.use(morgan('combined'));\napp.use(bodyParser.urlencoded({extended:true}));\n\n\n\nrouter(app);\n\n\n//DB Setup\nmongoose.connect('mongodb://localhost/projectsApp');\n    mongoose.connection.on('open', () =&gt; {\n  console.log('Connected to mongodb server.');\n  mongoose.connection.db.listCollections().toArray(function (err, names) {\n    if(err) {\n        console.log(err);\n    } else {\n        console.log(names);\n    }\n   });\n})\n\n\n\n\n//Server Setup\n\nconst port = process.env.PORT || 3090;\nconst server = http.createServer(app);\n\nserver.listen(port);\n</code></pre>\n\n<p>router.js file: </p>\n\n<pre><code>const Project = require('./models/project');\nconst multer = require('multer');\nconst fs = require('fs');\nconst path = require('path');\n\n\n\nvar upload = multer({ dest: './public/img' })\n\n\nmodule.exports = function(app) {\n\napp.get('/admin', (req, res) =&gt; {\n    Project.find({}, (err, projects) =&gt; {\n        if(err) {\n            console.log(err);\n        } else {\n            res.render('admin', {projects: projects});\n        }\n    })\n});\n\napp.post('/admin', upload.single('image'), (req, res) =&gt; {\n        console.log(req.file);\n        newProj = {\n            title: req.body.title,\n            tech: req.body.tech,\n            url: req.body.url,\n            shortDescription: req.body.shortDescription,\n            longDescription: req.body.longDescription,\n            image: { data: fs.readFileSync(req.file.path), contentType: 'image/png' }\n        };\n\n\n        Project.create(newProj, (err, proj) =&gt; {\n                if(err){\n                    console.log(err);\n                } else {\n                    console.log(proj);\n                    res.redirect(\"/\");\n                }\n        });\n\n});\n\n\n\n}\n</code></pre>\n\n<p>and finally, the view, just in case: </p>\n\n<pre><code>&lt;% include ./partials/header%&gt;\n\n&lt;div class=\"container\"&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"col-sm-6\"&gt;\n            &lt;div class=\"project-div\"&gt;\n            &lt;h1&gt;&lt;%= project.title%&gt;&lt;/h1&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-sm-6\"&gt;\n            &lt;img src='&lt;%= project.image%&gt;'/&gt;\n\n            &lt;hr /&gt;\n            &lt;span&gt;&lt;strong&gt;URL: &lt;/strong&gt; &lt;a href=\"&lt;%= project.url%&gt;\"&gt;&lt;%= project.url%&gt;&lt;/a&gt;&lt;/span&gt;\n            &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;% include ./partials/footer%&gt;\n</code></pre>\n"}, {"tags": ["javascript", "three.js"], "answers": [{"comments": [{"owner": {"reputation": 12403, "user_id": 4045502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0crws.jpg?s=128&g=1", "display_name": "prisoner849", "link": "https://stackoverflow.com/users/4045502/prisoner849"}, "edited": false, "score": 3, "creation_date": 1487847060, "post_id": 42404438, "comment_id": 71972791, "body": "Could you share a picture, as it would be interesting to see the result?"}, {"owner": {"reputation": 1873, "user_id": 2568650, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9a6d7dbda8550c20a9c3782d13a8f59?s=128&d=identicon&r=PG", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/2568650/nicolas"}, "edited": false, "score": 0, "creation_date": 1579081984, "post_id": 42404438, "comment_id": 105644341, "body": "would the code/demo be publicly available by any chance? thanks!"}], "tags": [], "owner": {"reputation": 487, "user_id": 568578, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/04187597e94377c6ddf6dbc1ee78a896?s=128&d=identicon&r=PG", "display_name": "Dave Shepard", "link": "https://stackoverflow.com/users/568578/dave-shepard"}, "is_accepted": true, "score": 4, "last_activity_date": 1487807050, "creation_date": 1487807050, "answer_id": 42404438, "question_id": 42404437, "link": "https://stackoverflow.com/questions/42404437/draw-a-line-on-a-3d-model-that-conforms-to-its-surface/42404438#42404438", "title": "Draw a line on a 3D model that conforms to its surface", "body": "<p>Turned out to be easier than I thought: I converted the model to a graph of faces, where each face was a node, which was connected by edges to the other faces next to it. Then, it was a simple matter of finding the face that the user clicked on, and using a shortest-path algorithm (Dijkstra's, in my case) to find the faces between each node.</p>\n"}, {"tags": [], "owner": {"reputation": 6094, "user_id": 616730, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/HRl3V.jpg?s=128&g=1", "display_name": "foobarbecue", "link": "https://stackoverflow.com/users/616730/foobarbecue"}, "is_accepted": false, "score": 0, "last_activity_date": 1536814781, "creation_date": 1536814781, "answer_id": 52306905, "question_id": 42404437, "link": "https://stackoverflow.com/questions/42404437/draw-a-line-on-a-3d-model-that-conforms-to-its-surface/52306905#52306905", "title": "Draw a line on a 3D model that conforms to its surface", "body": "<p>Happened to come across this and remembered I also solved this problem in a similar way to Dave a while back. I made a minimal case with a demo here: <a href=\"https://github.com/foobarbecue/threejs-shortest-path\" rel=\"nofollow noreferrer\">https://github.com/foobarbecue/threejs-shortest-path</a></p>\n"}], "owner": {"reputation": 487, "user_id": 568578, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/04187597e94377c6ddf6dbc1ee78a896?s=128&d=identicon&r=PG", "display_name": "Dave Shepard", "link": "https://stackoverflow.com/users/568578/dave-shepard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 874, "favorite_count": 2, "accepted_answer_id": 42404438, "answer_count": 2, "score": 2, "last_activity_date": 1536814781, "creation_date": 1487807050, "question_id": 42404437, "link": "https://stackoverflow.com/questions/42404437/draw-a-line-on-a-3d-model-that-conforms-to-its-surface", "title": "Draw a line on a 3D model that conforms to its surface", "body": "<p>I'm building a tool for annotating three dimensional models using Three.js. I want users to be able to draw lines on a model that follow the contours of the surface exactly. For example, if you draw a line on a model of a person's face, and you place a point on either side of the nose, the line should go over the nose, not through it.</p>\n\n<p>I can do this by drawing the line on the texture, but I want the line to be clickable, and that would require implementing hit detection myself. I'd prefer to do it as a line object in Three.js. Is there a simple way to find the faces between two points on the surface of a model?</p>\n"}, {"tags": ["javascript", "encryption", "cryptography", "cryptojs", "wsh"], "comments": [{"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 1, "creation_date": 1487806889, "post_id": 42404391, "comment_id": 71955638, "body": "WScript? You definitely can\u2019t use anything more appropriate than JavaScript on WSH for this? Node.js has built-in AES that would be much faster, for example, or you could use .NET, or Python, or C\u2026"}, {"owner": {"reputation": 583, "user_id": 2280331, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ea7a1c7d67c883a5cd523d7502f661ff?s=128&d=identicon&r=PG", "display_name": "Monty Monro", "link": "https://stackoverflow.com/users/2280331/monty-monro"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1487807946, "post_id": 42404391, "comment_id": 71956024, "body": "Its a proof of concept for these platforms in particular :)"}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 2, "creation_date": 1487809139, "post_id": 42404391, "comment_id": 71956396, "body": "Well, you are successfully proving that WSH is not the right platform for this concept\u2026"}, {"owner": {"reputation": 583, "user_id": 2280331, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ea7a1c7d67c883a5cd523d7502f661ff?s=128&d=identicon&r=PG", "display_name": "Monty Monro", "link": "https://stackoverflow.com/users/2280331/monty-monro"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1487809602, "post_id": 42404391, "comment_id": 71956534, "body": "Thanks I guess..."}, {"owner": {"reputation": 583, "user_id": 2280331, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ea7a1c7d67c883a5cd523d7502f661ff?s=128&d=identicon&r=PG", "display_name": "Monty Monro", "link": "https://stackoverflow.com/users/2280331/monty-monro"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1487814525, "post_id": 42404391, "comment_id": 71958047, "body": "Hopefully someone can help with the actual problem of encrypting large files with AES. :/"}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 1, "creation_date": 1487814653, "post_id": 42404391, "comment_id": 71958085, "body": "The answer remains \u201cuse anything else\u201d. Shell out to it from WSH if you have to, but you need some external tool, because JScript is never going to be fast enough. Are you able to install Node? Or even just the OpenSSL set of tools?"}], "owner": {"reputation": 583, "user_id": 2280331, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ea7a1c7d67c883a5cd523d7502f661ff?s=128&d=identicon&r=PG", "display_name": "Monty Monro", "link": "https://stackoverflow.com/users/2280331/monty-monro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 962, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1487806762, "creation_date": 1487806762, "question_id": 42404391, "link": "https://stackoverflow.com/questions/42404391/crypto-js-aes-file-encryption-and-decryption-is-incredibly-slow", "title": "Crypto-JS AES file encryption and decryption is incredibly slow", "body": "<p>I am writing a script to encrypt and decrypt files using the crypto-js library and the windows script host. However when i try to encrypt an image file that is 1.5mb in size, it takes upwards of 30 seconds to encrypt. And decryption takes much much longer, so long that I haven't been able to wait it out without killing the process.</p>\n\n<p>Are there ways I should be improving the efficiency of my code, or am I fundamentally encrypting the file in the wrong way.</p>\n\n<p>Cheers for any advice. :)</p>\n\n<pre><code>function encryptFile (file, encryptionKey) {\n  try {\n    var fileReader = WScript.CreateObject(\"ADODB.Stream\");\n    fileReader.CharSet = '437';\n    fileReader.Open();\n    fileReader.LoadFromFile(file);\n    WScript.Echo(\"beginning crypt\"); // debugging\n    var encrypted = CryptoJS.AES.encrypt(fileReader.ReadText(), encryptionKey);\n    WScript.Echo(\"finished crypt\"); // debugging\n    fileReader.Close();\n    return encrypted;\n  } catch (e) {\n    return 0;\n  }\n}\n\nfunction decryptFile (file) {\n  try {\n    var fileReader = WScript.CreateObject(\"ADODB.Stream\");\n    fileReader.CharSet = '437';\n    fileReader.Open();\n    fileReader.LoadFromFile(file);\n    var decrypted = CryptoJS.AES.decrypt(fileReader.ReadText(), KEY);\n    fileReader.Close();\n    var plaintext = decrypted.toString(CryptoJS.enc.Utf8);\n    return plaintext;\n  } catch (e) {\n    return 0;\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "ios", "web-audio-api"], "answers": [{"tags": [], "owner": {"reputation": 2620, "user_id": 2884250, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d880b0bfc6c878de208f1cc98b90e49a?s=128&d=identicon&r=PG&f=1", "display_name": "beek", "link": "https://stackoverflow.com/users/2884250/beek"}, "is_accepted": false, "score": 0, "last_activity_date": 1488314603, "creation_date": 1488314603, "answer_id": 42518374, "question_id": 42404361, "link": "https://stackoverflow.com/questions/42404361/change-the-sound-in-webaudioapi-with-no-user-interaction-on-ios/42518374#42518374", "title": "Change the sound in WebAudioAPI with no user interaction on iOS", "body": "<p>You need a touch event for each sound. </p>\n\n<p>I ended up using SoundJS which is much better. </p>\n"}], "owner": {"reputation": 2620, "user_id": 2884250, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d880b0bfc6c878de208f1cc98b90e49a?s=128&d=identicon&r=PG&f=1", "display_name": "beek", "link": "https://stackoverflow.com/users/2884250/beek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1488314603, "creation_date": 1487806621, "question_id": 42404361, "link": "https://stackoverflow.com/questions/42404361/change-the-sound-in-webaudioapi-with-no-user-interaction-on-ios", "title": "Change the sound in WebAudioAPI with no user interaction on iOS", "body": "<p>I'm using this function to create a sound, which works well on desktop and Android, and works initially on iOS when I use a touchevent to start it. I need to later replace the sound with another sound file, however on iOS it doesn't start - I'm assuming because it needs another user interaction to play the sound. </p>\n\n<p>This is a VR app in a headset so this kind of user interaction isn't possible. Is there another way of replacing the sound or another non-click user interaction I can use like movement? </p>\n\n<p>I've seen this <a href=\"http://matt-harrison.com/perfect-web-audio-on-ios-devices-with-the-web-audio-api/\" rel=\"nofollow noreferrer\">http://matt-harrison.com/perfect-web-audio-on-ios-devices-with-the-web-audio-api/</a></p>\n\n<p>Which seems to have another solution, but I don't want to pre-load all of the files (they're reasonably big and there's 10 of them) which seems to be a requirement here - plus I use the pause function in the code I have. Are there any easy ways round this? </p>\n\n<pre><code>var AudioContext = AudioContext || webkitAudioContext, context = new AudioContext();\n\nfunction createSound(filename) {\nconsole.log('createSound()');\n\nvar url = cdnPrefix + '/' + filename;\nvar buffer;\n\n\ncontext = new AudioContext();\n\nvar request = new XMLHttpRequest();\nrequest.open('GET', url, true);\nrequest.responseType = 'arraybuffer';\n\n// Decode asynchronously\nrequest.onload = function() {\n    context.decodeAudioData(request.response, function(b) {\n        buffer = b;\n        play();\n    });\n}\nrequest.send();\n\n\nvar sourceNode = null,\n    startedAt = 0,\n    pausedAt = 0,\n    playing = false,\n    volume = context.createGain();\n\nvar play = function() {\n\n    if(playing || !buffer)\n        return;\n\n    var offset = pausedAt;\n\n    sourceNode = context.createBufferSource();\n    sourceNode.connect(context.destination);\n    sourceNode.connect(volume);\n    volume.gain.value = 1;\n\n    sourceNode.buffer = buffer;\n    sourceNode.start(0, offset);\n    sourceNode.onended = onEnded;\n\n    sourceNode.onstatechange = onStateChange;\n    sourceNode.onloaded = onLoaded;\n    //sourceNode.loop = true;\n    startedAt = context.currentTime - offset;\n    pausedAt = 0;\n    playing = true;\n    $(document).trigger(\"voiceoverPlay\");\n\n    if(isPaused == true)\n        pause();\n};\n\nfunction onEnded(event){\n    $(document).trigger(\"voiceoverEnded\");\n    play();\n}\n\nfunction onStateChange(event){\n    console.log('onStateChange',event);\n}\n\nfunction onLoaded(event){\n    console.log('onLoaded',event);\n}\n\n\nvar pause = function() {\n    var elapsed = context.currentTime - startedAt;\n    stop();\n    pausedAt = elapsed;\n    $(document).trigger(\"voiceoverPause\");\n};\n\nvar stop = function() {\n    if (sourceNode) {\n        sourceNode.disconnect();\n        if(playing === true)\n            sourceNode.stop(0);\n        sourceNode = null;\n    }\n    pausedAt = 0;\n    startedAt = 0;\n    playing = false;\n};\n\nvar getPlaying = function() {\n    return playing;\n};\n\nvar getCurrentTime = function() {\n    if(pausedAt) {\n        return pausedAt;\n    }\n    if(startedAt) {\n        return context.currentTime - startedAt;\n    }\n    return 0;\n};\n\nvar setCurrentTime = function(time) {\n    pausedAt = time;\n};\n\nvar getDuration = function() {\n    return buffer.duration;\n};\n\nreturn {\n    getCurrentTime: getCurrentTime,\n    setCurrentTime: setCurrentTime,\n    getDuration: getDuration,\n    getPlaying: getPlaying,\n    play: play,\n    pause: pause,\n    stop: stop\n};\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["javascript", "jquery", "html", "fullpage.js"], "comments": [{"owner": {"reputation": 10398, "user_id": 4398966, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Md0LP.jpg?s=128&g=1", "display_name": "DCR", "link": "https://stackoverflow.com/users/4398966/dcr"}, "edited": false, "score": 1, "creation_date": 1487806872, "post_id": 42404352, "comment_id": 71955630, "body": "this might help:  <a href=\"http://stackoverflow.com/questions/6170417/how-do-i-listen-to-whenever-a-div-changes-position-with-jquery\" title=\"how do i listen to whenever a div changes position with jquery\">stackoverflow.com/questions/6170417/&hellip;</a>"}, {"owner": {"reputation": 37699, "user_id": 1081396, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4da642ebb2987685f30442660dc6751e?s=128&d=identicon&r=PG", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/1081396/alvaro"}, "edited": false, "score": 0, "creation_date": 1487865450, "post_id": 42404352, "comment_id": 71986466, "body": "If you are using fullPage.js (as per your tags), then you should be using the libary&#39;s callbacks such as <code>onLeave</code> or <code>onSlideLeave</code> or even <code>afterLoad</code> or <code>afterSlideLoads</code>. Examples <a href=\"https://github.com/alvarotrigo/fullPage.js#callbacks\" rel=\"nofollow noreferrer\">in the docs</a>."}], "owner": {"reputation": 61, "user_id": 4304301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwjTB.jpg?s=128&g=1", "display_name": "Joolian", "link": "https://stackoverflow.com/users/4304301/joolian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487806547, "creation_date": 1487806547, "question_id": 42404352, "link": "https://stackoverflow.com/questions/42404352/way-to-constantly-check-for-div-position-to-trigger-change-on-location", "title": "Way to constantly check for $(&#39;#div&#39;).position() to trigger change on location?", "body": "<p>I have a slide show of captions that move on side arrow clicks, and I need to change an image in the page once certain captions (labeled by individual ID's) hit position().left === 0.\n<br><br>I am able to get their location through .position().left, but that only happens upon load. How can I get the program to always listen for location? scrollLeft() doesn't work due to the nature of the scrolling settings and an interval does not give me the precision I want.</p>\n\n<pre><code>if ((($('#captionthree').position()).left) === 0) {\n                //removes initial image\n                $(\"img\").remove('#imgone');\n                //appends the new image\n                $('#imagecontainer').append('&lt;img id=\"imgtwo\"&gt;');\n\n            }\n</code></pre>\n\n<p>I'm doing this on top of fullpage.js, if that paints a better picture.<br>\nAny help is appreciated!!</p>\n"}, {"tags": ["javascript", "python", "web2py"], "answers": [{"tags": [], "owner": {"reputation": 105, "user_id": 7632514, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RlgrSx9rsMs/AAAAAAAAAAI/AAAAAAAAAYQ/Lptv3gq05_U/photo.jpg?sz=128", "display_name": "Leonel C&#226;mara", "link": "https://stackoverflow.com/users/7632514/leonel-c%c3%a2mara"}, "is_accepted": false, "score": 1, "last_activity_date": 1488241311, "creation_date": 1488241311, "answer_id": 42498202, "question_id": 42404351, "link": "https://stackoverflow.com/questions/42404351/process-web2py-results-in-javascript/42498202#42498202", "title": "process web2py results in javascript", "body": "<p>You are mixing HTML generated by web2py with javascript in a way that will not work. Remember that javascript is executed client side and python is server side.</p>\n\n<p>In this case I suggest you start with trapped links:\n<a href=\"http://www.web2py.com/books/default/chapter/29/12/components-and-plugins#Trapped-Ajax-links-and-the-A-Helper\" rel=\"nofollow noreferrer\">http://www.web2py.com/books/default/chapter/29/12/components-and-plugins#Trapped-Ajax-links-and-the-A-Helper</a></p>\n\n<p>Which will work well for your usage of either browsing or creating. Later you can revisit this page and make it better. </p>\n"}, {"tags": [], "owner": {"reputation": 113, "user_id": 3908932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CrMsu.jpg?s=128&g=1", "display_name": "Marlysson", "link": "https://stackoverflow.com/users/3908932/marlysson"}, "is_accepted": false, "score": 1, "last_activity_date": 1488320238, "creation_date": 1488320238, "answer_id": 42519762, "question_id": 42404351, "link": "https://stackoverflow.com/questions/42404351/process-web2py-results-in-javascript/42519762#42519762", "title": "process web2py results in javascript", "body": "<p>Use ajax function, the ajax function will be executed in some event ( this case <code>onclick</code> of the select item , then will run some method in your controller, this method in controller will return the data from db and the ajax function have parameter that means the target that result will be appended .</p>\n\n<p>1.Use the ajax function on option element indicating that will executed on onclick event.\n2. In method in your controller make the search on database and return the result.\n3. Set the target of ajax function to some element in your html ( table , li's ...)</p>\n\n<p>1.</p>\n\n<pre><code>&lt;select id=\"ReportSelect\" name=\"myoption\"&gt;\n    &lt;option disabled selected value=\"0\"&gt;&lt;/option&gt;\n    &lt;option value=\"1\" onclick=\"ajax('{{=URL('controller', 'method')}}', ['myoption'], 'your_target')\" /&gt;option 1&lt;/option&gt;\n    &lt;option value=\"2\"&gt;option 2&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>2.</p>\n\n<pre><code>def method():\n    data = request.vars.myoption\n    your_result_query = db(your_query)\n\n    elements = UL(LI(content) for i in your_result_query)\n    return dict(result=elements)\n</code></pre>\n\n<ol start=\"3\">\n<li>In your view put a element with id with same name of target of <code>ajax_function</code> .</li>\n</ol>\n"}], "owner": {"reputation": 2053, "user_id": 703176, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/f0adc3846c8a33b659e6b2053579d2a8?s=128&d=identicon&r=PG", "display_name": "fifamaniac04", "link": "https://stackoverflow.com/users/703176/fifamaniac04"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1488320238, "creation_date": 1487806540, "question_id": 42404351, "link": "https://stackoverflow.com/questions/42404351/process-web2py-results-in-javascript", "title": "process web2py results in javascript", "body": "<p>Complete newbie to web2Py.... I have a web page that has a dropdown menu and I want to perform certain queries based on the value selected. </p>\n\n<p><strong>Reports.html</strong></p>\n\n<pre><code>&lt;h2&gt;Reports&lt;/h2&gt;\n\n&lt;p&gt;Please select a report template or choose to write your own.&lt;/p&gt;\n\n&lt;select id=\"ReportSelect\" onchange=\"ReportSelectionChange()\"&gt;\n    &lt;option disabled selected value=\"0\"&gt;&lt;/option&gt;\n    &lt;option value=\"1\"&gt;option 1&lt;/option&gt;\n    &lt;option value=\"2\"&gt;option 2&lt;/option&gt;\n&lt;/select&gt;\n\n&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\nfunction ReportSelectionChange()\n{\n    var menuItem = document.getElementById(\"ReportSelect\").value;\n\n    switch(menuItem)\n    {\n        case \"1\":\n                {{=myform}}\n                break;\n        case \"2\":\n        default:\n                alert(menuItem);\n                break;\n    }\n}\n</code></pre>\n\n<p></p>\n\n<p><strong>controller python file</strong></p>\n\n<pre><code>def reports():\nuser_id = request.args(0)\ntuple = db(/*My query here*/).select()\n\nmyform = FORM('/*not sure what goes here*/')\n\nreturn dict(tuple=tuple, myform=myform)\n</code></pre>\n\n<p>I want to pass back all the results from the query to the calling page and have the results appear in a table.</p>\n\n<p>Q: How can I do this? what needs to get passed back? can this even be accomplished with javascript?</p>\n"}, {"tags": ["javascript", "loops", "for-loop", "push"], "comments": [{"owner": {"reputation": 2366, "user_id": 1238999, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2ca61ae57850aaf11915bbdadf29dd3c?s=128&d=identicon&r=PG", "display_name": "Israel Zinc", "link": "https://stackoverflow.com/users/1238999/israel-zinc"}, "edited": false, "score": 0, "creation_date": 1487806909, "post_id": 42404346, "comment_id": 71955648, "body": "Geocoder.geocode is a promise?"}, {"owner": {"reputation": 35, "user_id": 2441222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/C2aew.png?s=128&g=1", "display_name": "Munnaz", "link": "https://stackoverflow.com/users/2441222/munnaz"}, "reply_to_user": {"reputation": 2366, "user_id": 1238999, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2ca61ae57850aaf11915bbdadf29dd3c?s=128&d=identicon&r=PG", "display_name": "Israel Zinc", "link": "https://stackoverflow.com/users/1238999/israel-zinc"}, "edited": false, "score": 0, "creation_date": 1487807362, "post_id": 42404346, "comment_id": 71955827, "body": "i&#39;m not that familiar with javascript. I&#39;m just trying to link two separate functions. I need one to wait for the other and am not sure how to go about it."}, {"owner": {"reputation": 2366, "user_id": 1238999, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2ca61ae57850aaf11915bbdadf29dd3c?s=128&d=identicon&r=PG", "display_name": "Israel Zinc", "link": "https://stackoverflow.com/users/1238999/israel-zinc"}, "edited": false, "score": 0, "creation_date": 1487808012, "post_id": 42404346, "comment_id": 71956039, "body": "Is initialize being called ahead of time?"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 2441222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/C2aew.png?s=128&g=1", "display_name": "Munnaz", "link": "https://stackoverflow.com/users/2441222/munnaz"}, "edited": false, "score": 0, "creation_date": 1487808900, "post_id": 42404556, "comment_id": 71956326, "body": "Cheers mate it worked perfect. I just started with javascript and it a little confusing to me the way it bahaves"}, {"owner": {"reputation": 1387, "user_id": 1930482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5960053b3ba9ed93f79bced9dce97c8?s=128&d=identicon&r=PG", "display_name": "Aviad Hadad", "link": "https://stackoverflow.com/users/1930482/aviad-hadad"}, "reply_to_user": {"reputation": 35, "user_id": 2441222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/C2aew.png?s=128&g=1", "display_name": "Munnaz", "link": "https://stackoverflow.com/users/2441222/munnaz"}, "edited": false, "score": 0, "creation_date": 1487809186, "post_id": 42404556, "comment_id": 71956411, "body": "@user2441222 really recommend you reading this <a href=\"https://www.pluralsight.com/guides/front-end-javascript/introduction-to-asynchronous-javascript\" rel=\"nofollow noreferrer\">pluralsight.com/guides/front-end-javascript/&hellip;</a>"}, {"owner": {"reputation": 950, "user_id": 4284143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91566e4c1a71cc294bdf4711c22ea450?s=128&d=identicon&r=PG", "display_name": "subwaymatch", "link": "https://stackoverflow.com/users/4284143/subwaymatch"}, "reply_to_user": {"reputation": 35, "user_id": 2441222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/C2aew.png?s=128&g=1", "display_name": "Munnaz", "link": "https://stackoverflow.com/users/2441222/munnaz"}, "edited": false, "score": 0, "creation_date": 1487809306, "post_id": 42404556, "comment_id": 71956451, "body": "@user2441222 Once you understand the event loop in javascript, everything will make much more sense."}], "tags": [], "owner": {"reputation": 950, "user_id": 4284143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91566e4c1a71cc294bdf4711c22ea450?s=128&d=identicon&r=PG", "display_name": "subwaymatch", "link": "https://stackoverflow.com/users/4284143/subwaymatch"}, "is_accepted": true, "score": 0, "last_activity_date": 1487807707, "creation_date": 1487807707, "answer_id": 42404556, "question_id": 42404346, "link": "https://stackoverflow.com/questions/42404346/wait-until-for-loop-or-push-is-complete-then-run-function-javascript/42404556#42404556", "title": "Wait until &#39;for loop&#39; or &#39;push&#39; is complete then run function - Javascript", "body": "<p>I see what you're trying to do. </p>\n\n<p>Without using promise, a simple workaround would be to create a counter to see if all geocoder.geocode() calls are completed. </p>\n\n<pre><code>$(\"#getButtonValue\").click(clickButton);\nfunction clickButton() {\n    // A counter variable\n    int completeCount = 0; \n    for( i = 1; i &lt; counter; i++){\n        var geocoder = new google.maps.Geocoder();\n        var address = $('#textbox' + i).val()\n        geocoder.geocode( { 'address': address}, function (results, status) {\n            if (status == google.maps.GeocoderStatus.OK) {\n                latCoords.push(results[0].geometry.location.lat());\n                longCoords.push(results[0].geometry.location.lng());\n\n                // Increment completeCount\n                completeCount++; \n\n                // If all geocoder.geocode() calls received an \"OK\", initialize()\n                if (completeCount == counter) {\n                    initialize();\n                }\n            } \n        }); \n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 2441222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/C2aew.png?s=128&g=1", "display_name": "Munnaz", "link": "https://stackoverflow.com/users/2441222/munnaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 817, "favorite_count": 0, "accepted_answer_id": 42404556, "answer_count": 1, "score": 0, "last_activity_date": 1487807707, "creation_date": 1487806515, "question_id": 42404346, "link": "https://stackoverflow.com/questions/42404346/wait-until-for-loop-or-push-is-complete-then-run-function-javascript", "title": "Wait until &#39;for loop&#39; or &#39;push&#39; is complete then run function - Javascript", "body": "<p>Hi i'm using the following code. I need some way for the script to wait until clickButton() is finished before running initialize(). Or maybe waiting until push is completed? Any help would be appreciated. Thanks</p>\n\n<pre><code> $(\"#getButtonValue\").click(clickButton);\n function clickButton() {\n    for( i = 1; i &lt; counter; i++){\n        var geocoder = new google.maps.Geocoder();\n        var address = $('#textbox' + i).val()\n        geocoder.geocode( { 'address': address}, function (results, status) {\n            if (status == google.maps.GeocoderStatus.OK) {\n                        latCoords.push(results[0].geometry.location.lat());\n                        longCoords.push(results[0].geometry.location.lng());\n            } \n        }); \n    }\n    initialize();\n }\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "firebase", "angularjs-ng-repeat"], "comments": [{"owner": {"reputation": 15197, "user_id": 1475228, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TgQ5O.png?s=128&g=1", "display_name": "Pritam Banerjee", "link": "https://stackoverflow.com/users/1475228/pritam-banerjee"}, "edited": false, "score": 0, "creation_date": 1487806712, "post_id": 42404345, "comment_id": 71955565, "body": "You need to at least provide us some information to help you out."}, {"owner": {"reputation": 91, "user_id": 5884838, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e27323332d26045f836ebc2bc71e1f75?s=128&d=identicon&r=PG&f=1", "display_name": "ramsai", "link": "https://stackoverflow.com/users/5884838/ramsai"}, "reply_to_user": {"reputation": 15197, "user_id": 1475228, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TgQ5O.png?s=128&g=1", "display_name": "Pritam Banerjee", "link": "https://stackoverflow.com/users/1475228/pritam-banerjee"}, "edited": false, "score": 0, "creation_date": 1487807487, "post_id": 42404345, "comment_id": 71955868, "body": "@PritamBanerjee hey sorry for the ambiguity, I&#39;m trying to retrieve data from firebase, using <code>{{todo.activity}}</code> and <code>{{todo.notes}}</code> inside a table using <code>ng-repeat</code>"}, {"owner": {"reputation": 444, "user_id": 2262566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36d66bbc815a01cc05ff1f31dc11c8b8?s=128&d=identicon&r=PG", "display_name": "james_fuller", "link": "https://stackoverflow.com/users/2262566/james-fuller"}, "edited": false, "score": 0, "creation_date": 1487807861, "post_id": 42404345, "comment_id": 71956006, "body": "In the HTML, your table row for the data is closed with the cells outside of the row.  This isn&#39;t semantically correct.  Review that area of the HTML and see if that helps at all."}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 5884838, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e27323332d26045f836ebc2bc71e1f75?s=128&d=identicon&r=PG&f=1", "display_name": "ramsai", "link": "https://stackoverflow.com/users/5884838/ramsai"}, "edited": false, "score": 0, "creation_date": 1487808629, "post_id": 42404665, "comment_id": 71956247, "body": "Sorry ,edited the &lt;tr&gt; tag but does not work either"}], "tags": [], "owner": {"reputation": 26888, "user_id": 973651, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dd66c6ce85ae84cb0e0c39654f5028ba?s=128&d=identicon&r=PG", "display_name": "Mathew Berg", "link": "https://stackoverflow.com/users/973651/mathew-berg"}, "is_accepted": false, "score": 1, "last_activity_date": 1487808349, "creation_date": 1487808349, "answer_id": 42404665, "question_id": 42404345, "link": "https://stackoverflow.com/questions/42404345/angular-not-able-to-display-data-from-firebase/42404665#42404665", "title": "Angular: Not able to display data from firebase", "body": "<p>Your html for the ng-repeat is incorrect. It should be something like this:</p>\n\n<pre><code>&lt;tbody&gt;\n    &lt;tr ng-repeat=\"todo in todos\"&gt;\n        &lt;td&gt;{{todo.activity}}&lt;/td&gt;\n        &lt;td&gt;{{todo.notes}}&lt;/td&gt;             \n    &lt;/tr&gt;\n&lt;/tbody&gt;\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 5884838, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e27323332d26045f836ebc2bc71e1f75?s=128&d=identicon&r=PG&f=1", "display_name": "ramsai", "link": "https://stackoverflow.com/users/5884838/ramsai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "closed_date": 1487826266, "answer_count": 1, "score": -2, "last_activity_date": 1487808744, "creation_date": 1487806513, "last_edit_date": 1487808744, "question_id": 42404345, "link": "https://stackoverflow.com/questions/42404345/angular-not-able-to-display-data-from-firebase", "closed_reason": "Needs details or clarity", "title": "Angular: Not able to display data from firebase", "body": "<p>Trying to create a simple todo application from a tutorial. I'm trying to use ng-repeat for displaying values from firebase into a table. Not able to retrieve the values for \"todo.activity\" and \"todo.notes\".This is my code so far.</p>\n\n<hr>\n\n<p><a href=\"https://gist.githubusercontent.com/janapanaramsai/b28a76ffb47bffda9021b8587f3b4602/raw/77501c3ee3d7ec2877962246ee8d7398308168dc/todo.html\" rel=\"nofollow noreferrer\">todo.html</a></p>\n\n<pre><code>&lt;div class=\"row\" ng-controller=\"TodoCtrl\"&gt;\n    &lt;div class=\"col-md-5\"&gt;\n        &lt;h3&gt;Add an activity&lt;/h3&gt;\n        &lt;form ng-submit=\"addTodo()\"&gt;\n            &lt;div class=\"form-group\"&gt;\n                &lt;label for=\"activity\"&gt;Activity&lt;/label&gt;\n                &lt;input type=\"text\" class=\"form-control\" id=\"activity\" ng-model=\"activity\" placeholder=\"activity\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"form-group\"&gt;\n                &lt;label for=\"notes\"&gt;Notes&lt;/label&gt;\n                &lt;input type=\"text\" class=\"form-control\" id=\"notes\" ng-model=\"notes\" placeholder=\"activity\"&gt;\n            &lt;/div&gt;\n\n            &lt;button type=\"submit\" class=\"btn btn-default\"&gt;Submit&lt;/button&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n    &lt;div class=\"col-md-7\"&gt;\n        &lt;h3&gt;Todo List&lt;/h3&gt;\n        &lt;table class=\"table table-striped\"&gt;\n            &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;Activity&lt;/th&gt;\n                    &lt;th&gt;Notes&lt;/th&gt;\n                    &lt;th&gt;&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n                &lt;tr ng-repeat=\"todo in todos\"&gt;\n                &lt;td&gt;{{todo.activity}}&lt;/td&gt;\n                &lt;td&gt;{{todo.notes}}&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://gist.githubusercontent.com/janapanaramsai/b28a76ffb47bffda9021b8587f3b4602/raw/77501c3ee3d7ec2877962246ee8d7398308168dc/todo.js\" rel=\"nofollow noreferrer\">todo.js</a></p>\n\n<pre><code>'use strict';\n    // Initialize Firebase\n    var config = {\n      apiKey: \"AIzaSyAfjQC4qL7tMu37XA2z469jfLCrsMsHdAM\",\n      authDomain: \"todo-5a1c3.firebaseapp.com\",\n      databaseURL: \"https://todo-5a1c3.firebaseio.com\",\n      storageBucket: \"todo-5a1c3.appspot.com\",\n      messagingSenderId: \"636959211631\"\n    };\n    firebase.initializeApp(config);\nangular.module('myApp.todo', ['ngRoute'])\n.config(['$routeProvider', function($routeProvider) {\n  $routeProvider.when('/todo', {\n    templateUrl: 'todo/todo.html',\n    controller: 'TodoCtrl'\n  });\n}])\n\n.controller('TodoCtrl', ['$scope','$firebaseArray',function($scope,$firebaseArray) {\n\n  var rootRef = firebase.database().ref();\n  $scope.todos = $firebaseArray(rootRef.child('todos'));\n  $scope.addTodo = function(){\n    console.log(\"adding contact\");\n\n    $scope.todos.$add({\n      activity: $scope.activity,\n      notes   : $scope.notes\n    }).then(function(rootRef){\n      var id = rootRef.key;\n      console.log('Added Contant '+id);\n      $scope.activity = '';\n      $scope.notes = '';\n    });\n  }\n\n}]);\n</code></pre>\n"}, {"tags": ["javascript", "parent-child", "window.open"], "comments": [{"owner": {"reputation": 16970, "user_id": 2079345, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/lq0tx.png?s=128&g=1", "display_name": "chiliNUT", "link": "https://stackoverflow.com/users/2079345/chilinut"}, "edited": false, "score": 0, "creation_date": 1487807350, "post_id": 42404339, "comment_id": 71955819, "body": "<code>window.opener</code> doesn&#39;t work with <code>window.showModalDialog</code> <a href=\"https://forums.asp.net/t/1123330.aspx?using+window+opener+with+showmodaldialog\" rel=\"nofollow noreferrer\">forums.asp.net/t/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 14483, "user_id": 769871, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xHrMN.jpg?s=128&g=1", "display_name": "cchamberlain", "link": "https://stackoverflow.com/users/769871/cchamberlain"}, "is_accepted": false, "score": 0, "last_activity_date": 1487808812, "creation_date": 1487808812, "answer_id": 42404745, "question_id": 42404339, "link": "https://stackoverflow.com/questions/42404339/javascript-redirect-parent-to-new-page-from-popup/42404745#42404745", "title": "Javascript - Redirect parent to new page from popup", "body": "<p>I would go the route of storing the reference to the modal in a variable, then poll to see when the modal is closed using its <code>closed</code> boolean property like so (this will not work when running the snippet below because stackoverflow blocks modals but you can verify by copying it into your chrome dev tools console).</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let modal = window.open(\"https://www.google.com?q=cats\", \"docman\", \"width=500,height=500,screenX=0, screenY=0,status=no,scrollbars=no,toolbar=no,menubar=no,top=200,left=200,modal=yes\")\r\n\r\nfunction onClose () {\r\n  alert(\"Modal was closed\")\r\n}\r\n\r\nlet intervalID = setInterval(() =&gt; {\r\n  if(modal &amp;&amp; modal.closed) {\r\n    clearTimeout(intervalID)\r\n    onClose()\r\n  }\r\n}, 200)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 417, "user_id": 430984, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/56c398a561fea2c39c3e22ae3f884ecd?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/430984/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 516, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487808812, "creation_date": 1487806480, "last_edit_date": 1487807581, "question_id": 42404339, "link": "https://stackoverflow.com/questions/42404339/javascript-redirect-parent-to-new-page-from-popup", "title": "Javascript - Redirect parent to new page from popup", "body": "<p>I've got a page that opens a popup file picker window using Javascript. Once the user selects a file the parent window redirects to a page that loads the document.  I've ready many posts with the same problem, but haven't found the solution.  I have the following code:</p>\n\n<p>Parent</p>\n\n<pre><code>openChildWindow(\"FileMan2.aspx?UN=&lt;%= Header1.UserNumber %&gt;&amp;FormMode=OPEN&amp;RetObj=PRINTLETTER&amp;PrintCase=\" + OpenFlag, 550, 350);\n\nfunction openChildWindow(URL, width, height) {\n        if (window.showModalDialog) {\n            window.showModalDialog(URL, window.self, \"dialogWidth:\" + width + \"px;dialogHeight:\" + height + \"px;center:yes;scroll:no;resizable:no;status:no;unadorned:no;edge:raised\");\n        } else {\n            window.open(URL, \"docman\", \"width=\" + width + \", height=\" + height + \", screenX=0, screenY=0, status=no, scrollbars=no,toolbar=no,menubar=no,top=200,left=200,modal=yes\");\n        }\n    }\n</code></pre>\n\n<p>Child</p>\n\n<pre><code> var URL = window.location.protocol + \"//\" + window.location.host + \"/CaseLetter.aspx?Case=&lt;%= CaseNumber %&gt;&amp;UN=&lt;%= Header1.UserNumber %&gt;&amp;Letter=\" + file + \"&amp;FileName=\" + file + \"&amp;COID=&lt;%=GlobalVar.LawFirm %&gt;&amp;FilePath=&lt;%= AddPath %&gt;\";\n        window.opener.location.href = URL;\n</code></pre>\n\n<p>URL evaluates to \"<a href=\"http://example.com:80/CaseLetter.aspx?Case=35251&amp;UN=1&amp;Letter=asdf&amp;FileName=asdf&amp;COID=ar000001&amp;FilePath=\" rel=\"nofollow noreferrer\">http://example.com:80/CaseLetter.aspx?Case=35251&amp;UN=1&amp;Letter=asdf&amp;FileName=asdf&amp;COID=ar000001&amp;FilePath=</a>\"</p>\n\n<p>The error I'm getting is \"Unable to get property 'location'of undefined or null reference.  What am I doing wrong here?</p>\n"}, {"tags": ["javascript", "jquery", "google-apps-script", "google-sheets-api"], "comments": [{"owner": {"reputation": 7155, "user_id": 5996134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wo73L.jpg?s=128&g=1", "display_name": "KENdi", "link": "https://stackoverflow.com/users/5996134/kendi"}, "edited": false, "score": 0, "creation_date": 1487860895, "post_id": 42404331, "comment_id": 71982917, "body": "Did you receive any kind of error message?"}, {"owner": {"reputation": 11, "user_id": 7607852, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NCTnH_7f7uc/AAAAAAAAAAI/AAAAAAAAAwY/VWoJgB3jwd0/photo.jpg?sz=128", "display_name": "Nolan Landefeld", "link": "https://stackoverflow.com/users/7607852/nolan-landefeld"}, "reply_to_user": {"reputation": 7155, "user_id": 5996134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wo73L.jpg?s=128&g=1", "display_name": "KENdi", "link": "https://stackoverflow.com/users/5996134/kendi"}, "edited": false, "score": 0, "creation_date": 1487957270, "post_id": 42404331, "comment_id": 72033084, "body": "No, I don&#39;t. It is successful and inserts the correct values into google sheets. But it also returns rows of undefined cells.  The number of undefined rows that are returned are not consistent either."}], "owner": {"reputation": 11, "user_id": 7607852, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NCTnH_7f7uc/AAAAAAAAAAI/AAAAAAAAAwY/VWoJgB3jwd0/photo.jpg?sz=128", "display_name": "Nolan Landefeld", "link": "https://stackoverflow.com/users/7607852/nolan-landefeld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 251, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1553808029, "creation_date": 1487806405, "last_edit_date": 1514467443, "question_id": 42404331, "link": "https://stackoverflow.com/questions/42404331/sending-post-to-sheet-is-returning-undefined-cells", "title": "Sending POST to Sheet is returning &quot;undefined&quot; cells", "body": "<p>I am sending a Post request to my Google sheet.<br>\nIn my POST I am sending values that are user inputted.</p>\n\n<p>Every time I run the program, the correct data is entered into my sheet. However, I also get multiple rows back with the value <code>undefined</code> in each cell. I am not doing any loops so I am not sure why this is happening. </p>\n\n<p>HTML: </p>\n\n<pre><code>&lt;form id='foo'&gt;\n    &lt;p&gt;&lt;label&gt;*&lt;/label&gt;&lt;input type=\"text\" id =\"Gross_Sales\"     name=\"Gross Sales\"  class = \"input_text\"&gt; Gross Sales&lt;/input&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;\n    &lt;p&gt;&lt;label&gt;*&lt;/label&gt;&lt;input type=\"text\" id =\"Tax\"             name=\"Tax\"          class = \"input_text\"&gt; Tax&lt;/input&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;\n    &lt;p&gt;&lt;label&gt; &lt;/label&gt;&lt;input type=\"text\" id =\"net_s\"           name=\"Net Sales\"    class = \"input_text\"&gt; Net Sales&lt;/input&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;\n    &lt;p&gt;&lt;label&gt;*&lt;/label&gt;&lt;input type=\"text\" id =\"cc\"          name=\"Credit Card\"  class = \"input_text\"&gt; Credit Card&lt;/input&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;\n    &lt;button onclick=\"sendData()\"&gt;button&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Javascript/Jquery:</p>\n\n<pre><code>function sendData() {\n\n    $(\"#foo\").submit(function(event) {\n\n        // Abort any pending request\n        if (request) {\n            request.abort();\n        }\n        // setup some local variables\n        var $form = $(this);\n\n        // Let's select and cache all the fields\n        var $inputs = $form.find(\"input\");\n\n        // Serialize the data in the form\n        var serializedData = $form.serialize();\n\n        // Let's disable the inputs for the duration of the Ajax request.\n        // Note: we disable elements AFTER the form data has been serialized.\n        // Disabled form elements will not be serialized.\n        $inputs.prop(\"disabled\", true);\n\n        // Fire off the request to /form.php\n        request = $.ajax({\n            url: \"https://script.google.com/macros/s/{id}/exec\",\n            type: \"post\",\n            data: serializedData\n\n        });\n        console.log(serializedData);\n        // Callback handler that will be called on success\n        request.done(function(response, textStatus, jqXHR) {\n            // Log a message to the console\n            console.log(\"Hooray, it worked!\");\n            console.log(response);\n            console.log(textStatus);\n            console.log(jqXHR);\n        });\n\n        // Callback handler that will be called on failure\n        request.fail(function(jqXHR, textStatus, errorThrown) {\n            // Log the error to the console\n            console.error(\n                \"The following error occurred: \" +\n                textStatus, errorThrown\n            );\n        });\n\n        // Callback handler that will be called regardless\n        // if the request failed or succeeded\n        request.always(function() {\n            // Reenable the inputs\n            $inputs.prop(\"disabled\", false);\n        });\n\n        // Prevent default posting of form\n        event.preventDefault();\n    });\n}\n</code></pre>\n\n<p>Image Showing Google Sheet\n<a href=\"https://i.stack.imgur.com/frGsw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/frGsw.png\" alt=\"Image Showing Google Sheet\"></a></p>\n\n<p>Google Script</p>\n\n<pre><code>//  1. Enter sheet name where data is to be written below\nvar SHEET_NAME = \"Sheet1\";\n\n//  2. Run &gt; setup\n//\n//  3. Publish &gt; Deploy as web app\n//    - enter Project Version name and click 'Save New Version'\n//    - set security level and enable service (most likely execute as 'me' and access 'anyone, even anonymously)\n//\n//  4. Copy the 'Current web app URL' and post this in your form/script action\n//\n//  5. Insert column names on your destination sheet matching the parameter names of the data you are passing in (exactly matching case)\n\nvar SCRIPT_PROP = PropertiesService.getScriptProperties(); // new property service\n\n// If you don't want to expose either GET or POST methods you can comment out the appropriate function\nfunction doGet(e) {\n    return handleResponse(e);\n}\n\nfunction doPost(e) {\n    return handleResponse(e);\n}\n\nfunction handleResponse(e) {\n    // shortly after my original solution Google announced the LockService[1]\n    // this prevents concurrent access overwritting data\n    // [1] http://googleappsdeveloper.blogspot.co.uk/2011/10/concurrency-and-google-     apps-script.html\n    // we want a public lock, one that locks for all invocations\n    var lock = LockService.getPublicLock();\n    lock.waitLock(30000); // wait 30 seconds before conceding defeat.\n\n    try {\n        // next set where we write the data - you could write to multiple/alternate destinations\n        var doc = SpreadsheetApp.openById(SCRIPT_PROP.getProperty(\"key\"));\n        var sheet = doc.getSheetByName(SHEET_NAME);\n\n        // we'll assume header is in row 1 but you can override with header_row in      GET/POST data\n        var headRow = e.parameter.header_row || 1;\n        var headers = sheet.getRange(1, 1, 1, sheet.getLastColumn()).getValues()[0];\n        var nextRow = sheet.getLastRow() + 1; // get next row\n        var row = [];\n        // loop through the header columns\n        for (i in headers) {\n            if (headers[i] == \"Timestamp\") { // special case if you include a 'Timestamp' column\n                row.push(new Date());\n            } else { // else use header name to get data\n                row.push(e.parameter[headers[i]]);\n            }\n        }\n        // more efficient to set values as [][] array than individually\n        sheet.getRange(nextRow, 1, 1, row.length).setValues([row]);\n        // return json success results\n        return ContentService\n            .createTextOutput(JSON.stringify({\n                \"result\": \"success\",\n                \"row\": nextRow\n            }))\n            .setMimeType(ContentService.MimeType.JSON);\n    } catch (e) {\n        // if error return this\n        return ContentService\n            .createTextOutput(JSON.stringify({\n                \"result\": \"error\",\n                \"error\": e\n            }))\n            .setMimeType(ContentService.MimeType.JSON);\n    } finally { //release lock\n        lock.releaseLock();\n    }\n}\n\nfunction setup() {\n    var doc = SpreadsheetApp.getActiveSpreadsheet();\n    SCRIPT_PROP.setProperty(\"key\", doc.getId());\n}\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "node.js", "mongoose", "bluebird"], "comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 1, "creation_date": 1487806718, "post_id": 42404325, "comment_id": 71955567, "body": "Instead of <code>users[index].hasCar = ...</code>, why not simply use <code>user.hasCar = ...</code>?"}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1487806808, "post_id": 42404325, "comment_id": 71955599, "body": "And instead of <code>if (car) { \u2026 = true; } else { \u2026 = false; }</code> why not simply use <code>\u2026 = Boolean(car);</code>?"}, {"owner": {"reputation": 41, "user_id": 7607846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd8f905eab2ba34c2bf47bf457a97a1?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/7607846/john"}, "edited": false, "score": 0, "creation_date": 1487806832, "post_id": 42404325, "comment_id": 71955607, "body": "Hey thanks Phil for your answer, I also tried that way before and also <code>return user</code> after the <code>else</code>, does not work, I still get the old user."}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 2, "creation_date": 1487806922, "post_id": 42404325, "comment_id": 71955653, "body": "What exactly does &quot;<i>the array does not want to be updated</i>&quot; mean? How do you test the array for updates? Please show us that code that is not working, not only the code that you suspect to be the issue. Pretty surely you just aren&#39;t waiting for the updates."}, {"owner": {"reputation": 2366, "user_id": 1238999, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2ca61ae57850aaf11915bbdadf29dd3c?s=128&d=identicon&r=PG", "display_name": "Israel Zinc", "link": "https://stackoverflow.com/users/1238999/israel-zinc"}, "edited": false, "score": 0, "creation_date": 1487807073, "post_id": 42404325, "comment_id": 71955706, "body": "You mean the db is not being updated?"}, {"owner": {"reputation": 41, "user_id": 7607846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd8f905eab2ba34c2bf47bf457a97a1?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/7607846/john"}, "edited": false, "score": 0, "creation_date": 1487807334, "post_id": 42404325, "comment_id": 71955812, "body": "I updated the example for better explanation. No I don&#39;t want to update the db"}, {"owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 0, "creation_date": 1487807509, "post_id": 42404325, "comment_id": 71955875, "body": "Why the <code>new</code> for <code>Promise.all</code>?  I&#39;m not even sure what that would mean."}, {"owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 0, "creation_date": 1487807631, "post_id": 42404325, "comment_id": 71955931, "body": "You could clean up your <code>if-else</code> block with <code>user.hasCar = !!car;</code> if that style doesn&#39;t offend your sensibilities."}, {"owner": {"reputation": 41, "user_id": 7607846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd8f905eab2ba34c2bf47bf457a97a1?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/7607846/john"}, "reply_to_user": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 0, "creation_date": 1487807721, "post_id": 42404325, "comment_id": 71955968, "body": "@scott-sauyet I&#39;m not sure but I think the new is optionnal, it should works with or without"}, {"owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 0, "creation_date": 1487807792, "post_id": 42404325, "comment_id": 71955987, "body": "@John, I would suggest removing it.  I don&#39;t think it will fix your problem, but it doesn&#39;t make a lot of sense."}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1487812555, "post_id": 42404325, "comment_id": 71957404, "body": "Please post your solution <a href=\"http://stackoverflow.com/help/self-answer\">as an answer</a>, not an edit to your question"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 7607846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd8f905eab2ba34c2bf47bf457a97a1?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/7607846/john"}, "edited": false, "score": 0, "creation_date": 1487810012, "post_id": 42404910, "comment_id": 71956648, "body": "Thanks a lot Scott for your time, it was driving me crazy, I finally found the culprit, it was my mongoose, I edited my post."}, {"owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "reply_to_user": {"reputation": 41, "user_id": 7607846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd8f905eab2ba34c2bf47bf457a97a1?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/7607846/john"}, "edited": false, "score": 0, "creation_date": 1487810574, "post_id": 42404910, "comment_id": 71956803, "body": "@John: Glad you found it.  Did you do something like my test here or did you run it through a debugger?"}], "tags": [], "owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "is_accepted": false, "score": 0, "last_activity_date": 1487809866, "creation_date": 1487809866, "answer_id": 42404910, "question_id": 42404325, "link": "https://stackoverflow.com/questions/42404325/promise-all-map-update-array/42404910#42404910", "title": "Promise all map update array", "body": "<p>It seems to work as it is.  I made some simple changes to fake out <code>Car.count</code> and removed <code>ObjectId</code>, and it works as expected:</p>\n\n<pre><code>const cars = {1: ['car a', 'car b'], 3: ['car c']};\n\nconst Car = {\n  count: (user) =&gt; new Promise((resolve, reject) =&gt; \n                       setTimeout(() =&gt; resolve(cars[user.userId]), 1000))\n};\n\nfunction findCars(users) {\n  return Promise.all(users.map((user) =&gt; \n    Car.count({\n      userId: user._id\n    })\n    .then((car) =&gt; {\n      user.hasCar = !!car;\n      return user;\n    })\n  ))\n  .then(console.log);\n}\n\nconst users = [{_id: 1}, {_id: 2}, {_id: 3}];\n\nfindCars(users);\n</code></pre>\n\n<p>This returns a Promise, and one second later logs the following to the console:</p>\n\n<pre><code>[{\"_id\":1,\"hasCar\":true},{\"_id\":2,\"hasCar\":false},{\"_id\":3,\"hasCar\":true}]\n</code></pre>\n\n<p>Note, I originally used the simpler</p>\n\n<pre><code>count: (user) =&gt; Promise.resolve(cars[user.userId])\n</code></pre>\n\n<p>But I wanted to ensure some true async.  Neither way had any issues.</p>\n\n<p>You can see this in action on <strong><a href=\"https://runkit.com/crosseye/58ae2a961458360014f939e8\" rel=\"nofollow noreferrer\">RunKit</a></strong>.</p>\n"}, {"comments": [{"owner": {"reputation": 5137, "user_id": 1063259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ENAH9.png?s=128&g=1", "display_name": "Reza Mamun", "link": "https://stackoverflow.com/users/1063259/reza-mamun"}, "edited": false, "score": 0, "creation_date": 1592586676, "post_id": 42405387, "comment_id": 110488730, "body": "We can use lean() with Mongoose query to modify the result <a href=\"https://mongoosejs.com/docs/tutorials/lean.html#when-to-use-lean\" rel=\"nofollow noreferrer\">mongoosejs.com/docs/tutorials/lean.html#when-to-use-lean</a>"}], "tags": [], "owner": {"reputation": 41, "user_id": 7607846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd8f905eab2ba34c2bf47bf457a97a1?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/7607846/john"}, "is_accepted": false, "score": 1, "last_activity_date": 1487812974, "creation_date": 1487812974, "answer_id": 42405387, "question_id": 42404325, "link": "https://stackoverflow.com/questions/42404325/promise-all-map-update-array/42405387#42405387", "title": "Promise all map update array", "body": "<p>Found what was wrong, it seems you can't add a property which does not exist in my mongoose model <code>User</code>. To bypass it I did:</p>\n\n<pre><code>let updatedUser = user.toObject();\nupdatedUser.hasCar = !!car;\nreturn updatedUser;\n</code></pre>\n\n<p>Thanks everyone</p>\n"}], "owner": {"reputation": 41, "user_id": 7607846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd8f905eab2ba34c2bf47bf457a97a1?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/7607846/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 501, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1487812974, "creation_date": 1487806378, "last_edit_date": 1487812932, "question_id": 42404325, "link": "https://stackoverflow.com/questions/42404325/promise-all-map-update-array", "title": "Promise all map update array", "body": "<p>I'm using bluebird and mongoose, I'm getting an array of users in a previous function. I want to update <code>users</code> to set the property <code>hasCar</code> true or false for each user from my array.</p>\n\n<pre><code>function findCars(users) {\n  return Promise.all(users.map((user) =&gt; {\n    return Car.count({\n      _creator: new ObjectId(req.user),\n      userId: user._id\n    })\n    .then((car) =&gt; {\n      user.hasCar = !!car;\n      return user;\n    });\n  }))\n  .then(console.log);\n}\n</code></pre>\n\n<p>The problem is, in the console.log those users don't have the property <code>hasCar</code> set. I tried different ways with no success.</p>\n"}, {"tags": ["javascript", "node.js", "webpack", "hash", "pug-loader"], "comments": [{"owner": {"reputation": 42460, "user_id": 642626, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/fedc5e6b7fef29a8b539e20da8c85971?s=128&d=identicon&r=PG", "display_name": "Bryan Chen", "link": "https://stackoverflow.com/users/642626/bryan-chen"}, "edited": false, "score": 0, "creation_date": 1488929038, "post_id": 42404303, "comment_id": 72446386, "body": "I don&#39;t know what&#39;s the right way to solve your question. I normally use <a href=\"https://github.com/jantimon/html-webpack-plugin\" rel=\"nofollow noreferrer\">html-webpack-plugin</a> to inject the script and css to my index.html file. It support custom template too"}, {"owner": {"reputation": 898, "user_id": 1413914, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9e556d40922927d13a8867b12f57acb0?s=128&d=identicon&r=PG", "display_name": "Matthew", "link": "https://stackoverflow.com/users/1413914/matthew"}, "reply_to_user": {"reputation": 42460, "user_id": 642626, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/fedc5e6b7fef29a8b539e20da8c85971?s=128&d=identicon&r=PG", "display_name": "Bryan Chen", "link": "https://stackoverflow.com/users/642626/bryan-chen"}, "edited": false, "score": 0, "creation_date": 1488945678, "post_id": 42404303, "comment_id": 72451116, "body": "Ah, ye I looked at html-webpack but that doesnt seem to fit into the multiple pug template scenario I have going on. Thanks for the help though :)"}], "owner": {"reputation": 898, "user_id": 1413914, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9e556d40922927d13a8867b12f57acb0?s=128&d=identicon&r=PG", "display_name": "Matthew", "link": "https://stackoverflow.com/users/1413914/matthew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 719, "favorite_count": 1, "answer_count": 0, "score": 9, "last_activity_date": 1551905046, "creation_date": 1487806266, "last_edit_date": 1551905046, "question_id": 42404303, "link": "https://stackoverflow.com/questions/42404303/insert-hashed-bundle-urls-into-static-pug-templates", "title": "Insert hashed bundle URLs into static pug templates", "body": "<p>I'm using Webpack pug-html-loader + file-loader to generate a bunch of static pug templates.</p>\n\n<p>I also want to start added hashed bundle filenames, but I cant work out how to insert the hashed filenames into all my pug templates</p>\n\n<p>This is how I'm referencing my bundle currently in all the pug templates:</p>\n\n<pre><code>script(src=\"bundle.js\")\nlink(href=\"bundle.css\")\n</code></pre>\n\n<p>How would I modify that to reference <code>bundle-[chunkhash].js</code>/<code>bundle-[chunkhash].css]</code> - do I need to pass some variables to the pug-html-loader in webpack.config.js?</p>\n\n<p>Note: I'm using the extract-text-plugin to output my SASS to a .css bundle file</p>\n"}, {"tags": ["javascript", "node.js", "discord"], "comments": [{"owner": {"reputation": 30383, "user_id": 4879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dk0Qb.jpg?s=128&g=1", "display_name": "pawel", "link": "https://stackoverflow.com/users/4879/pawel"}, "edited": false, "score": 1, "creation_date": 1487806601, "post_id": 42404291, "comment_id": 71955518, "body": "FWIW the documentation says it returns uptime in seconds, not milliseconds."}, {"owner": {"reputation": 352, "user_id": 1888980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f2a190fbe5a1a198aa5575ff9768855?s=128&d=identicon&r=PG", "display_name": "bowl0stu", "link": "https://stackoverflow.com/users/1888980/bowl0stu"}, "edited": false, "score": 0, "creation_date": 1487817344, "post_id": 42404291, "comment_id": 71958795, "body": "console log process.uptime() to see what you get"}], "answers": [{"tags": [], "owner": {"reputation": 735, "user_id": 4816693, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ho-ztk9q8_0/AAAAAAAAAAI/AAAAAAAAC3s/QDWY4lxCyKw/photo.jpg?sz=128", "display_name": "Marcus", "link": "https://stackoverflow.com/users/4816693/marcus"}, "is_accepted": false, "score": 0, "last_activity_date": 1554459493, "last_edit_date": 1554459493, "creation_date": 1552572254, "answer_id": 55164534, "question_id": 42404291, "link": "https://stackoverflow.com/questions/42404291/how-do-i-return-process-uptime-from-milliseconds-into-a-human-readable-format/55164534#55164534", "title": "How do I return process.uptime(); from milliseconds into a human readable format?", "body": "<p>Btw, the first comment given is not 100% correct. According to the latest documentation the return value includes fractions of a second. Math.floor() should be used to obtain whole seconds. Thus, to obtain the uptime in milliseconds the <code>process.uptime()</code> value needs to be multiplied by <code>1000</code>. The following code example may do what you want. As the example uses a different format you may want to adapt the code to the format you prefer which should be straightformward.</p>\n\n<p>You can trial a variation of this code on <a href=\"https://repl.it/@mwittig/Format-processuptime-with-milliseconds\" rel=\"nofollow noreferrer\">repl.it</a></p>\n\n<pre><code>var uptime = process.uptime();\nconsole.log(\"Uptime raw:\", uptime)\nconst date = new Date(uptime*1000);\nconst days = date.getUTCDate() - 1,\n      hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n\n\nlet segments = [];\n\nif (days &gt; 0) segments.push(days + ' day' + ((days == 1) ? '' : 's'));\nif (hours &gt; 0) segments.push(hours + ' hour' + ((hours == 1) ? '' : 's'));\nif (minutes &gt; 0) segments.push(minutes + ' minute' + ((minutes == 1) ? '' : 's'));\nif (seconds &gt; 0) segments.push(seconds + ' second' + ((seconds == 1) ? '' : 's'));\nif (milliseconds &gt; 0) segments.push(milliseconds + ' millisecond' + ((seconds == 1) ? '' : 's'));\nconst dateString = segments.join(', ');\n\nconsole.log(\"Uptime: \" + dateString);\n</code></pre>\n"}], "owner": {"reputation": 56, "user_id": 6843815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8a9e22b44dbc43945e6f0180e9d6b8e?s=128&d=identicon&r=PG&f=1", "display_name": "Ross231", "link": "https://stackoverflow.com/users/6843815/ross231"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1743, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554463125, "creation_date": 1487806209, "last_edit_date": 1554463125, "question_id": 42404291, "link": "https://stackoverflow.com/questions/42404291/how-do-i-return-process-uptime-from-milliseconds-into-a-human-readable-format", "title": "How do I return process.uptime(); from milliseconds into a human readable format?", "body": "<p>I'm making a discord bot. I've tried this - </p>\n\n<pre><code>bot.on('message', message =&gt; {\nif (message.content === '!uptime') {\n    var time = process.uptime();\n\n    function dhm(ms) {\n        days = Math.floor(ms / (24 * 60 * 60 * 1000));\n        daysms = ms % (24 * 60 * 60 * 1000);\n        hours = Math.floor((daysms) / (60 * 60 * 1000));\n        hoursms = ms % (60 * 60 * 1000);\n        minutes = Math.floor((hoursms) / (60 * 1000));\n        minutesms = ms % (60 * 1000);\n        sec = Math.floor((minutesms) / (1000));\n        return days + \":\" + hours + \":\" + minutes + \":\" + sec;\n    }\n    message.channel.sendMessage(dhm(time));\n   }\n});\n</code></pre>\n\n<p>In chat, this returns - <code>0:0:0:0</code></p>\n\n<pre><code>// Uptime\nbot.on('message', message =&gt; {\n if (message.content === '!uptime') {\n    var time = process.uptime();\nfunction dhm(t){\nvar cd = 24 * 60 * 60 * 1000,\n    ch = 60 * 60 * 1000,\n    d = Math.floor(t / cd),\n    h = Math.floor( (t - d * cd) / ch),\n    m = Math.round( (t - d * cd - h * ch) / 60000),\n    pad = function(n){ return n &lt; 10 ? '0' + n : n; };\n  if( m === 60 ){\nh++;\nm = 0;\n  }\n  if( h === 24 ){\nd++;\nh = 0;\n  }\n  return [d, pad(h), pad(m)].join(':');\n}\n  message.channel.sendMessage(dhm(time)); \n }});\n</code></pre>\n\n<p>This returns <code>0:00:00</code></p>\n\n<p>I'm trying to convert the value of <code>process.uptime();</code> into days, hours, minutes, and seconds. Any help will be appreciated.</p>\n"}, {"tags": ["javascript", "json", "gulp", "eslint", "grunt-eslint"], "comments": [{"owner": {"reputation": 3292, "user_id": 3159293, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Vuw6V.png?s=128&g=1", "display_name": "Jose Paredes", "link": "https://stackoverflow.com/users/3159293/jose-paredes"}, "edited": false, "score": 0, "creation_date": 1487809520, "post_id": 42404269, "comment_id": 71956507, "body": "Have you tried setting the root path like <code>.pipe(lint({config: &#39;.&#47;eslint.config.json&#39;}))</code> because I assume both files are in the same directory right?"}], "answers": [{"comments": [{"owner": {"reputation": 967, "user_id": 555289, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/15fb62a8e7e40fe09fc870f595a8eedc?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/555289/tyler"}, "edited": false, "score": 0, "creation_date": 1512425208, "post_id": 43556826, "comment_id": 82244101, "body": "I was also following the Pluralsight React course, but with the latest node packages as of this date, and this fixed it for me"}], "tags": [], "owner": {"reputation": 18271, "user_id": 447344, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/hq0lN.jpg?s=128&g=1", "display_name": "Thomas Decaux", "link": "https://stackoverflow.com/users/447344/thomas-decaux"}, "is_accepted": false, "score": 5, "last_activity_date": 1492848148, "creation_date": 1492848148, "answer_id": 43556826, "question_id": 42404269, "link": "https://stackoverflow.com/questions/42404269/error-no-eslint-configuration-found/43556826#43556826", "title": "Error : No ESLint configuration found", "body": "<p>As you can read at <a href=\"https://github.com/adametry/gulp-eslint#optionsconfigfile\" rel=\"noreferrer\">https://github.com/adametry/gulp-eslint#optionsconfigfile</a></p>\n\n<p>Key name has changed to <code>configFile</code></p>\n"}, {"comments": [{"owner": {"reputation": 3837, "user_id": 2199064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mDj01.jpg?s=128&g=1", "display_name": "MattD", "link": "https://stackoverflow.com/users/2199064/mattd"}, "edited": false, "score": 0, "creation_date": 1498687184, "post_id": 43891795, "comment_id": 76607089, "body": "Totally just worked for me. I believe the person asking this question is following along with a Pluralsight training video, same as me, as their file looks like what I have at the moment. Regardless, this solution worked for me."}], "tags": [], "owner": {"reputation": 49, "user_id": 1570424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa643205c93c304f3a9dd9aae0e3593a?s=128&d=identicon&r=PG", "display_name": "Hasitha Gamage", "link": "https://stackoverflow.com/users/1570424/hasitha-gamage"}, "is_accepted": false, "score": 4, "last_activity_date": 1494417329, "creation_date": 1494417329, "answer_id": 43891795, "question_id": 42404269, "link": "https://stackoverflow.com/questions/42404269/error-no-eslint-configuration-found/43891795#43891795", "title": "Error : No ESLint configuration found", "body": "<p>Please rename <b><em>eslint.config.json</em></b> filename to <b><em>.eslintrc</em></b> .<br>\nThen change the <b><em>lint</em></b> gulp task as following.</p>\n\n<pre>\n\n    gulp.task('lint', function() {\n        return gulp.src(config.paths.js)\n            .pipe(lint.format());\n    });\n\n</pre>\n"}], "owner": {"reputation": 81, "user_id": 7601467, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7d48c723fc131b058837031c6b13982e?s=128&d=identicon&r=PG&f=1", "display_name": "Brian L.", "link": "https://stackoverflow.com/users/7601467/brian-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13149, "favorite_count": 1, "answer_count": 2, "score": 6, "last_activity_date": 1494417329, "creation_date": 1487806100, "question_id": 42404269, "link": "https://stackoverflow.com/questions/42404269/error-no-eslint-configuration-found", "title": "Error : No ESLint configuration found", "body": "<p>Can't get ESLint recognize and running using Gulp. Code for gulpfile.js is:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>\"use strict\";\r\n\r\nvar gulp = require('gulp');\r\nvar connect = require('gulp-connect'); //Runs a local dev server\r\nvar open = require('gulp-open'); //Open a URL in a web browser\r\nvar browserify = require('browserify'); // Bundles JS\r\nvar reactify = require('reactify');  // Transforms React JSX to JS\r\nvar source = require('vinyl-source-stream'); // Use conventional text streams with Gulp\r\nvar concat = require('gulp-concat'); //Concatenates files\r\nvar lint = require('gulp-eslint'); //Lint JS files, including JSX\r\n\r\nvar config = {\r\n\tport: 9005,\r\n\tdevBaseUrl: 'http://localhost',\r\n\tpaths: {\r\n\t\thtml: './src/*.html',\r\n\t\tjs: './src/**/*.js',\r\n\t\tcss: [\r\n      \t\t'node_modules/bootstrap/dist/css/bootstrap.min.css',\r\n      \t\t'node_modules/bootstrap/dist/css/bootstrap-theme.min.css'\r\n    \t],\r\n\t\tdist: './dist',\r\n\t\tmainJs: './src/main.js'\r\n\t}\r\n}\r\n\r\n//Start a local development server\r\ngulp.task('connect', function() {\r\n\tconnect.server({\r\n\t\troot: ['dist'],\r\n\t\tport: config.port,\r\n\t\tbase: config.devBaseUrl,\r\n\t\tlivereload: true\r\n\t});\r\n});\r\n\r\ngulp.task('open', ['connect'], function() {\r\n\tgulp.src('dist/index.html')\r\n\t\t.pipe(open({ url: config.devBaseUrl + ':' + config.port + '/'}));\r\n});\r\n\r\ngulp.task('html', function() {\r\n\tgulp.src(config.paths.html)\r\n\t\t.pipe(gulp.dest(config.paths.dist))\r\n\t\t.pipe(connect.reload());\r\n});\r\n\r\ngulp.task('js', function() {\r\n\tbrowserify(config.paths.mainJs)\r\n\t\t.transform(reactify)\r\n\t\t.bundle()\r\n\t\t.on('error', console.error.bind(console))\r\n\t\t.pipe(source('bundle.js'))\r\n\t\t.pipe(gulp.dest(config.paths.dist + '/scripts'))\r\n\t\t.pipe(connect.reload());\r\n});\r\n\r\ngulp.task('css', function() {\r\n\tgulp.src(config.paths.css)\r\n\t\t.pipe(concat('bundle.css'))\r\n\t\t.pipe(gulp.dest(config.paths.dist + '/css'));\r\n});\r\n\r\ngulp.task('lint', function() {\r\n\treturn gulp.src(config.paths.js)\r\n\t\t.pipe(lint({config: 'eslint.config.json'}))\r\n\t\t.pipe(lint.format());\r\n});\r\n\r\ngulp.task('watch', function() {\r\n\tgulp.watch(config.paths.html, ['html']);\r\n\tgulp.watch(config.paths.js, ['js', 'lint']);\r\n});\r\n\r\ngulp.task('default', ['html', 'js', 'css', 'lint', 'open', 'watch']);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and eslint.config.json is :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{\r\n  \"ecmaFeatures\": {\r\n    \"jsx\": true\r\n  },\r\n  \"env\": {\r\n    \"browser\": true,\r\n    \"node\": true,\r\n    \"jquery\": true\r\n  },\r\n  \"rules\": {\r\n    \"quotes\": 0,\r\n    \"no-trailing-spaces\": 0,\r\n    \"eol-last\": 0,\r\n    \"no-unused-vars\": 0,\r\n    \"no-underscore-dangle\": 0,\r\n    \"no-alert\": 0,\r\n    \"no-lone-blocks\": 0\r\n  },\r\n  \"globals\": {\r\n    jQuery: true,\r\n    $: true\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and finally package.json dependencies are:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  \"dependencies\": {\r\n    \"bootstrap\": \"^3.3.7\",\r\n    \"browserify\": \"^14.1.0\",\r\n    \"gulp\": \"^3.9.1\",\r\n    \"gulp-concat\": \"^2.6.1\",\r\n    \"gulp-connect\": \"^5.0.0\",\r\n    \"gulp-eslint\": \"^3.0.1\",\r\n    \"gulp-open\": \"^2.0.0\",\r\n    \"jquery\": \"^3.1.1\",\r\n    \"reactify\": \"^1.1.1\",\r\n    \"vinyl-source-stream\": \"^1.1.0\"\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>What can I edit to get one or more of the three files to work?</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1487805933, "post_id": 42404222, "comment_id": 71955227, "body": "...you have two one last things, and neither of them is the last thing."}, {"owner": {"reputation": 21, "user_id": 5377860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61bbc2b742a8c525f68164ed6d912214?s=128&d=identicon&r=PG&f=1", "display_name": "robert", "link": "https://stackoverflow.com/users/5377860/robert"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1487806300, "post_id": 42404222, "comment_id": 71955380, "body": "can you elaborate on your comment im new to angularjs2"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1487806382, "post_id": 42404222, "comment_id": 71955422, "body": "That&#39;s nothing to do with Angular, or programming. I mean literally you have two different sentences starting with <i>&quot;One last thing&quot;</i>, neither of which is the final sentence of your post."}, {"owner": {"reputation": 21, "user_id": 5377860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61bbc2b742a8c525f68164ed6d912214?s=128&d=identicon&r=PG&f=1", "display_name": "robert", "link": "https://stackoverflow.com/users/5377860/robert"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1487825542, "post_id": 42404222, "comment_id": 71961144, "body": "thanks i will post that on grammer flow next time lol but really am looking for Angular experts to jump in with some real help"}], "owner": {"reputation": 21, "user_id": 5377860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61bbc2b742a8c525f68164ed6d912214?s=128&d=identicon&r=PG&f=1", "display_name": "robert", "link": "https://stackoverflow.com/users/5377860/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 466, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487867566, "creation_date": 1487805863, "last_edit_date": 1487867566, "question_id": 42404222, "link": "https://stackoverflow.com/questions/42404222/angular-quickstart-tutorial-app-component-ts-not-showing-in-html", "title": "Angular Quickstart Tutorial app.component.ts not showing in html", "body": "<p>Can someone please explain why, when I run the Angular Quickstart Tutorial (from the official Angular 2 documentation) and it loads the html in <code>App.component.ts</code>, it does not load the component in the HTML directive?</p>\n\n<p>Heres my code:</p>\n\n<p><strong>app.component.ts</strong></p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  template: `&lt;h1&gt;Hello {{name}}&lt;/h1&gt;`,\n})\nexport class AppComponent  { name = 'Angular'; }\n</code></pre>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Angular QuickStart&lt;/title&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n    &lt;base href=\"/\"&gt;\n    &lt;link rel=\"stylesheet\" href=\"styles.css\"&gt;\n\n    &lt;!-- Polyfill(s) for older browsers --&gt;\n    &lt;script src=\"node_modules/core-js/client/shim.min.js\"&gt;&lt;/script&gt;\n\n    &lt;script src=\"node_modules/zone.js/dist/zone.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/systemjs/dist/system.src.js\"&gt;&lt;/script&gt;\n\n    &lt;script src=\"systemjs.config.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n      System.import('main.js').catch(function(err){ console.error(err); });\n    &lt;/script&gt;\n  &lt;/head&gt;\n\n  &lt;body&gt;\n    &lt;my-app&gt;Loading AppComponent content heres ...&lt;/my-app&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>app.module.ts</strong></p>\n\n<pre><code>import { NgModule }      from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { AppComponent }  from './app.component';\n\n@NgModule({\n  imports:      [ BrowserModule ],\n  declarations: [ AppComponent ],\n  bootstrap:    [ AppComponent ]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>One last thing - it only allows me to edit the <code>.js</code> files for it to update in the browser, if I edit a <code>.ts</code> file.  In the <code>app.component.ts</code> file it won't show changes in the browser, but if I edit it in the <code>app.component.js</code> it does show the changes in the browser. </p>\n\n<p>I am using Visual Studio to code. </p>\n"}, {"tags": ["javascript", "mongodb", "express"], "answers": [{"comments": [{"owner": {"reputation": 8188, "user_id": 515776, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ff0dbea6f837439cd844ab55ef79922b?s=128&d=identicon&r=PG", "display_name": "webwrks", "link": "https://stackoverflow.com/users/515776/webwrks"}, "edited": false, "score": 0, "creation_date": 1487888644, "post_id": 42404353, "comment_id": 72000201, "body": "This is the solution thank you! $elemMatch was the fix"}], "tags": [], "owner": {"reputation": 214, "user_id": 7601840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cbxZw.jpg?s=128&g=1", "display_name": "Jeff Justice", "link": "https://stackoverflow.com/users/7601840/jeff-justice"}, "is_accepted": true, "score": 4, "last_activity_date": 1487807160, "last_edit_date": 1487807160, "creation_date": 1487806566, "answer_id": 42404353, "question_id": 42404169, "link": "https://stackoverflow.com/questions/42404169/mongo-findone-inside-of-array/42404353#42404353", "title": "Mongo findOne inside of Array", "body": "<p>Mongo find/findOne/aggregate returns the whole document, including sub documents, when your parameters hit a match.  So you need to tell Mongo, hey now that you found my document I really only want these parts.  That's where a \"projection\" comes in.</p>\n\n<pre><code>Menu.findOne({location:'2'},{'items':{$elemMatch: {'nicename': req.params.whatever})\n</code></pre>\n\n<p>The thing about projections is once you start building one you need to tell mongo all of the keys you want returned.  For example, I know your structure has \"location\" in it so if you want location returned as well you need to do the following</p>\n\n<pre><code>Menu.findOne({location:'2'},{\n    'location':1,\n    'items':{$elemMatch: {'nicename': req.params.whatever}\n})\n</code></pre>\n\n<p>If you need both parameters in the findOne do the following</p>\n\n<pre><code>Menu.findOne({location:'2','items.nicename':req.params.whatever},{\n    'location':1,\n    'items':{$elemMatch: {'nicename': req.params.whatever}\n})\n</code></pre>\n"}], "owner": {"reputation": 8188, "user_id": 515776, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ff0dbea6f837439cd844ab55ef79922b?s=128&d=identicon&r=PG", "display_name": "webwrks", "link": "https://stackoverflow.com/users/515776/webwrks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1904, "favorite_count": 1, "accepted_answer_id": 42404353, "answer_count": 1, "score": 1, "last_activity_date": 1487807160, "creation_date": 1487805575, "question_id": 42404169, "link": "https://stackoverflow.com/questions/42404169/mongo-findone-inside-of-array", "title": "Mongo findOne inside of Array", "body": "<p>I have a document being returned with mongo's findOne(). Inside that document (with a location id of 2), we have items array. Inside items are nicenames. Currently, this returns all items and not just the one where nicename has a match. Thanks! </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    Menu.findOne({location:'2', 'items.nicename':req.params.whatever}).exec()\r\n    .then(function(item) {\r\n        res.render('pages/menuitem', {'item':item});\r\n    }).catch(function(err) {\r\n        console.log(err);\r\n    });</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery", "arrays", "loops"], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 7607751, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8430b43216b23c813ad07a9e5f7875db?s=128&d=identicon&r=PG&f=1", "display_name": "user7607751", "link": "https://stackoverflow.com/users/7607751/user7607751"}, "edited": false, "score": 0, "creation_date": 1487807178, "post_id": 42404175, "comment_id": 71955751, "body": "Thank you! I appreciate it!"}], "tags": [], "owner": {"reputation": 1124, "user_id": 1751277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0110543d2381a81df2412b253a248dc9?s=128&d=identicon&r=PG&f=1", "display_name": "floriangosse", "link": "https://stackoverflow.com/users/1751277/floriangosse"}, "is_accepted": true, "score": 4, "last_activity_date": 1487805615, "creation_date": 1487805615, "answer_id": 42404175, "question_id": 42404143, "link": "https://stackoverflow.com/questions/42404143/map-array-to-elements-text-using-jquery-each-inside-a-for-loop/42404175#42404175", "title": "map array to elements text using jQuery.each inside a for loop?", "body": "<p>You don't need the outer <code>for</code> loop:</p>\n\n<pre><code>var myArray = ['a', 'b', 'c'];\n\n$('#parent .child').each(function (index) {\n    $(this).text(myArray[index]);\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1487806023, "post_id": 42404203, "comment_id": 71955269, "body": "<code>each</code> already provides an optional parameter for the callback which is the index!"}, {"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "reply_to_user": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1487806094, "post_id": 42404203, "comment_id": 71955300, "body": "@ibrahimmahrir I have seen it inside florian&#39;s answer. It&#39;s just an another way to solve it. And by the way - in would be unfair if I would copy&amp;paste florian&#39;s solution."}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1487806197, "post_id": 42404203, "comment_id": 71955335, "body": "If a better answer is already provodided then you could just step down and not answering!"}, {"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "reply_to_user": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1487806364, "post_id": 42404203, "comment_id": 71955413, "body": "@ibrahimmahrir I just wonder - have you to use <code>!</code> in your every sentence? Anyways, it&#39;s just less &#39;elegant&#39; solution, not worse."}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1487806558, "post_id": 42404203, "comment_id": 71955501, "body": "I didn&#39;t say worse! It&#39;s still a correct answer and a better way but not the best!!!!!!!!!!!!"}, {"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "reply_to_user": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1487806632, "post_id": 42404203, "comment_id": 71955533, "body": "@ibrahimmahrir Fine. But still, the fact that my answer isn&#39;t &#39;the best&#39; is a good reason to not post it?"}], "tags": [], "owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "is_accepted": false, "score": 2, "last_activity_date": 1487805744, "creation_date": 1487805744, "answer_id": 42404203, "question_id": 42404143, "link": "https://stackoverflow.com/questions/42404143/map-array-to-elements-text-using-jquery-each-inside-a-for-loop/42404203#42404203", "title": "map array to elements text using jQuery.each inside a for loop?", "body": "<p>There's no need to use <code>for</code> loop here. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var myArray = ['a', 'b', 'c'];\r\n\r\n$('#parent').find('div').each(function(){\r\n  $(this).html(myArray[$(this).index()]);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"parent\"&gt;\r\n    &lt;div class=\"child\"&gt;x&lt;/div&gt;\r\n    &lt;div class=\"child\"&gt;y&lt;/div&gt;\r\n    &lt;div class=\"child\"&gt;z&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 191, "user_id": 7607751, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8430b43216b23c813ad07a9e5f7875db?s=128&d=identicon&r=PG&f=1", "display_name": "user7607751", "link": "https://stackoverflow.com/users/7607751/user7607751"}, "edited": false, "score": 0, "creation_date": 1487807205, "post_id": 42404296, "comment_id": 71955755, "body": "Thank you! I appreciate it!"}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "reply_to_user": {"reputation": 191, "user_id": 7607751, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8430b43216b23c813ad07a9e5f7875db?s=128&d=identicon&r=PG&f=1", "display_name": "user7607751", "link": "https://stackoverflow.com/users/7607751/user7607751"}, "edited": false, "score": 0, "creation_date": 1487807377, "post_id": 42404296, "comment_id": 71955834, "body": "@null Note, <code>.each()</code> is not necessary to return expected result. First parameter of <code>.text(function(index, existingText){})</code> callback is index of current element in <code>jQuery()</code> collection. <code>.text()</code> iterates each element in the collection returned by <code>$(&quot;#parent &gt; .child&quot;)</code> call."}], "tags": [], "owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "is_accepted": false, "score": 2, "last_activity_date": 1487806664, "last_edit_date": 1487806664, "creation_date": 1487806229, "answer_id": 42404296, "question_id": 42404143, "link": "https://stackoverflow.com/questions/42404143/map-array-to-elements-text-using-jquery-each-inside-a-for-loop/42404296#42404296", "title": "map array to elements text using jQuery.each inside a for loop?", "body": "<p>Use <code>.text(function)</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var myArray = ['a', 'b', 'c'];\r\n$(\"#parent &gt; .child\").text(function(index) {\r\n  return myArray[index]\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;\r\n&lt;/script&gt;\r\n&lt;div id=\"parent\"&gt;\r\n  &lt;div class=\"child\"&gt;x&lt;/div&gt;\r\n  &lt;div class=\"child\"&gt;y&lt;/div&gt;\r\n  &lt;div class=\"child\"&gt;z&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 191, "user_id": 7607751, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8430b43216b23c813ad07a9e5f7875db?s=128&d=identicon&r=PG&f=1", "display_name": "user7607751", "link": "https://stackoverflow.com/users/7607751/user7607751"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 789, "favorite_count": 0, "accepted_answer_id": 42404175, "answer_count": 3, "score": 0, "last_activity_date": 1487806664, "creation_date": 1487805506, "question_id": 42404143, "link": "https://stackoverflow.com/questions/42404143/map-array-to-elements-text-using-jquery-each-inside-a-for-loop", "title": "map array to elements text using jQuery.each inside a for loop?", "body": "<p>for the given html:</p>\n\n<pre><code>&lt;div id=\"parent\"&gt;\n    &lt;div class=\"child\"&gt;x&lt;/div&gt;\n    &lt;div class=\"child\"&gt;y&lt;/div&gt;\n    &lt;div class=\"child\"&gt;z&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>How can I map the text of its children from an array?</p>\n\n<p>This is my try:</p>\n\n<pre><code>var myArray = ['a', 'b', 'c'];\n\nfor (var i = -1; i &lt; myArray.length; i++) {\n    $('#parent .child').each(function () {\n        $(this).text(myArray[i]);\n    });\n}\n</code></pre>\n\n<p>I get: <code>c,c,c</code></p>\n\n<p>How can I get <code>a,b,c</code> ?</p>\n"}, {"tags": ["javascript", "php", "angularjs"], "comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 1, "creation_date": 1487805530, "post_id": 42404063, "comment_id": 71955082, "body": "<code>$scope[key] = value</code>"}, {"owner": {"reputation": 1029, "user_id": 1447175, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/efef36ac866a7c51da4ff25d97081b18?s=128&d=identicon&r=PG", "display_name": "roev", "link": "https://stackoverflow.com/users/1447175/roev"}, "reply_to_user": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1487805749, "post_id": 42404063, "comment_id": 71955176, "body": "So easy! Thanks Phil!!!"}], "owner": {"reputation": 1029, "user_id": 1447175, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/efef36ac866a7c51da4ff25d97081b18?s=128&d=identicon&r=PG", "display_name": "roev", "link": "https://stackoverflow.com/users/1447175/roev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "closed_date": 1487805717, "answer_count": 0, "score": 0, "last_activity_date": 1487805154, "creation_date": 1487805154, "question_id": 42404063, "link": "https://stackoverflow.com/questions/42404063/angular-how-to-use-scope-with-variable", "closed_reason": "Duplicate", "title": "angular: how to use $scope with variable?", "body": "<p>I'm beginner in angular. I'm using $http to get JSON data from the server by clicking on a button. my end goal is to fill all my HTML input forms with the server returning data automatically. I'm trying to do this with a forEach loop:</p>\n\n<pre><code>$http.post(\"check_ad\", postData, config).then(function (response) {\n    angular.forEach(response.data.getValue, function(value, key) {\n        $scope.key = value;\n    });\n});\n</code></pre>\n\n<p>My HTML is:</p>\n\n<pre><code>&lt;input type=\"text\" ng-model=\"test\"&gt;\n&lt;input type=\"text\" ng-model=\"test2\"&gt;\n</code></pre>\n\n<p>The server returning data is:</p>\n\n<pre><code>{\"getValue\":{\"test\":\"hello\",\"test2\":\"world\"}}\n</code></pre>\n\n<p>My problem is that \"key\" variable is not working for me. If I'm trying to go direct without the \"key\" it's working OK:</p>\n\n<pre><code>$http.post(\"check_ad\", postData, config).then(function (response) {\n    angular.forEach(response.data.getValue, function(value, key) {\n        $scope.test = value;\n        $scope.test2 = value;\n    });\n});\n</code></pre>\n\n<p>My question is how i'm using $scope with variable?\nAnd another question is if there is a better way to do that Instead using forEach?</p>\n\n<p>Thanks you :)</p>\n"}, {"tags": ["javascript", "redirect"], "comments": [{"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1487805888, "post_id": 42404032, "comment_id": 71955212, "body": "Who told you that quoted statement? It&#39;s plain wrong, of course you can configure your web server to involve PHP instead of serving the files directly. And you need to do this on the server side, there is no clientside javascript involved in a document download."}, {"owner": {"reputation": 478, "user_id": 6465812, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/992163687545789/picture?type=large", "display_name": "Jesse", "link": "https://stackoverflow.com/users/6465812/jesse"}, "reply_to_user": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1487806041, "post_id": 42404032, "comment_id": 71955275, "body": "@Bergi are you talking about placing the file outside of <code>public_html</code> and delivering it through PHP? Because I&#39;d love to do that, but my hosting provider doesn&#39;t support it."}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1487806210, "post_id": 42404032, "comment_id": 71955339, "body": "Yes, something like that, however I can hardly believe nginx wouldn&#39;t support this (unless it&#39;s an arbitrary restriction imposed by your hoster for your payment category)"}, {"owner": {"reputation": 1537, "user_id": 6702203, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/596141044cac45a2b336c0f8f5c92a82?s=128&d=identicon&r=PG", "display_name": "JM-AGMS", "link": "https://stackoverflow.com/users/6702203/jm-agms"}, "edited": false, "score": 0, "creation_date": 1487806231, "post_id": 42404032, "comment_id": 71955347, "body": "@JesseRogers Can you change the directory name or move the files? If so, let PHP deliver those files via <code>index.php?file=myfile.zip</code> while never revealing the directory."}, {"owner": {"reputation": 478, "user_id": 6465812, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/992163687545789/picture?type=large", "display_name": "Jesse", "link": "https://stackoverflow.com/users/6465812/jesse"}, "reply_to_user": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1487806297, "post_id": 42404032, "comment_id": 71955376, "body": "@Bergi I don&#39;t think it&#39;s that Nginx doesn&#39;t support it, but that the company hosting my site&#39;s web server doesn&#39;t allow it."}, {"owner": {"reputation": 478, "user_id": 6465812, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/992163687545789/picture?type=large", "display_name": "Jesse", "link": "https://stackoverflow.com/users/6465812/jesse"}, "reply_to_user": {"reputation": 1537, "user_id": 6702203, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/596141044cac45a2b336c0f8f5c92a82?s=128&d=identicon&r=PG", "display_name": "JM-AGMS", "link": "https://stackoverflow.com/users/6702203/jm-agms"}, "edited": false, "score": 0, "creation_date": 1487806393, "post_id": 42404032, "comment_id": 71955428, "body": "@JM-AGMS Can you elaborate on this? Sorry, I&#39;m super front-end oriented, so my PHP skills are remedial at best. And yes, I have full control over the files and their location. I just can&#39;t move them outside of <code>public_html</code>. But yes, if I can deliver the files without revealing the URL, that will suffice for now."}, {"owner": {"reputation": 1537, "user_id": 6702203, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/596141044cac45a2b336c0f8f5c92a82?s=128&d=identicon&r=PG", "display_name": "JM-AGMS", "link": "https://stackoverflow.com/users/6702203/jm-agms"}, "edited": false, "score": 0, "creation_date": 1487806520, "post_id": 42404032, "comment_id": 71955494, "body": "@JM-AGMS Then simply move them or change the directory name. Users requesting the files will get a 404."}, {"owner": {"reputation": 478, "user_id": 6465812, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/992163687545789/picture?type=large", "display_name": "Jesse", "link": "https://stackoverflow.com/users/6465812/jesse"}, "reply_to_user": {"reputation": 1537, "user_id": 6702203, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/596141044cac45a2b336c0f8f5c92a82?s=128&d=identicon&r=PG", "display_name": "JM-AGMS", "link": "https://stackoverflow.com/users/6702203/jm-agms"}, "edited": false, "score": 0, "creation_date": 1487806893, "post_id": 42404032, "comment_id": 71955639, "body": "@JM-AGMS Okay, to clarify: the link to the file is on another website for which I don&#39;t have server access. I only have access to markup on that site (It&#39;s a Zendesk portal). Will this still work?"}, {"owner": {"reputation": 478, "user_id": 6465812, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/992163687545789/picture?type=large", "display_name": "Jesse", "link": "https://stackoverflow.com/users/6465812/jesse"}, "reply_to_user": {"reputation": 1537, "user_id": 6702203, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/596141044cac45a2b336c0f8f5c92a82?s=128&d=identicon&r=PG", "display_name": "JM-AGMS", "link": "https://stackoverflow.com/users/6702203/jm-agms"}, "edited": false, "score": 0, "creation_date": 1487806981, "post_id": 42404032, "comment_id": 71955676, "body": "@JM-AGMS alternatively, maybe I could link to a <i>page</i> on our main website that has a redirect rule based on referrer, and then use your technique to serve that file from a direct download link on that page."}, {"owner": {"reputation": 1537, "user_id": 6702203, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/596141044cac45a2b336c0f8f5c92a82?s=128&d=identicon&r=PG", "display_name": "JM-AGMS", "link": "https://stackoverflow.com/users/6702203/jm-agms"}, "edited": false, "score": 0, "creation_date": 1487807285, "post_id": 42404032, "comment_id": 71955787, "body": "@JesseRogers You don&#39;t have to change the markup if you change the directory name. Users who visit any known link will get a 404. If you want to serve users the files but without revealing the direct url, you&#39;ll simply  use a <code>index.php</code> to control everything. This can help you get started: <a href=\"http://stackoverflow.com/questions/3697748/fastest-way-to-serve-a-file-using-php\" title=\"fastest way to serve a file using php\">stackoverflow.com/questions/3697748/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2731, "user_id": 1288633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b501f6589c4c41e9b21a62bdf4c6d44?s=128&d=identicon&r=PG", "display_name": "AmericanUmlaut", "link": "https://stackoverflow.com/users/1288633/americanumlaut"}, "is_accepted": false, "score": 1, "last_activity_date": 1487805544, "creation_date": 1487805544, "answer_id": 42404155, "question_id": 42404032, "link": "https://stackoverflow.com/questions/42404032/redirect-from-file-based-on-referrer-using-javascript/42404155#42404155", "title": "Redirect from file based on referrer using JavaScript", "body": "<p>This problem is not solvable in JavaScript, even in the very limited and insecure way that you are proposing. The problem is that a request to <code>/downloads/private.zip</code> directly returns the contents of that file - it doesn't load any HTML page, so the browser will never see or execute that JavaScript code.</p>\n\n<p>A way to solve this would be to have a PHP file that handles any request to that directory, checks whether the user has permission to see those files, and then returns the requested file or a 404. But for that you need some form of configuration, and you've already told us you can't do that either.</p>\n\n<p>A third solution, one that is very silly but would work (for unsavvy users) in this very constrained situation would be to replace all links <em>to</em> the forbidden resources with a snippet of JavaScript that directs the user either to the file or a 404 page. However, from your question it seems very likely that you're trying to prevent access from users coming from sites outside of your control, in which case this won't work either.</p>\n\n<p>Bottom line: This is not a solvable problem if you don't have the ability to configure your web server.</p>\n"}], "owner": {"reputation": 478, "user_id": 6465812, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/992163687545789/picture?type=large", "display_name": "Jesse", "link": "https://stackoverflow.com/users/6465812/jesse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1487806172, "creation_date": 1487804973, "last_edit_date": 1487806172, "question_id": 42404032, "link": "https://stackoverflow.com/questions/42404032/redirect-from-file-based-on-referrer-using-javascript", "title": "Redirect from file based on referrer using JavaScript", "body": "<p>Versions of this question have been posted numerous times, but none of the solutions I've found on this site have worked so far. I'm trying to redirect away from <strong>files</strong>, not web pages. I actually need to know if this is even possible, since I learned that PHP is incapable of doing this. Here's an answer from a previous question I asked:</p>\n\n<blockquote>\n  <p>The web server will first check if it exists and if it does, it will serve the file immediately. It does not go through any PHP code. Therefore you cannot write any PHP code that will intercept this request and block it.</p>\n</blockquote>\n\n<p>We have a folder on our site with a path of <code>/downloads/</code>, containing files we don't want just anyone to download.</p>\n\n<p>I want to put a script in our main JavaScript file that says:</p>\n\n<ul>\n<li><strong>If</strong> file is is <code>/downloads/</code></li>\n<li><strong>If</strong> user comes from referrer <code>allowed_domain.com</code>, allow access to files in <code>/downloads/</code></li>\n<li><strong>Else</strong> redirect to homepage or 404</li>\n</ul>\n\n<h2>My attempt (didn't work)</h2>\n\n<pre><code>if (top.location.pathname === '/downloads/private.zip') {\n  if (document.referrer !== \"http://www.allowed_domain.com\") {\n    document.location.path = \"/downloads/private.zip\";\n  }\n  else {\n  document.location.path = \"/404\";\n  }\n}\n</code></pre>\n\n<h2>Constraints</h2>\n\n<p>I <strong><em>cannot</em></strong> use .htaccess. Our hosting provider is running Nginx, not Apache. I've tried using Nginx config code, but I have to send it to them to implement, and it didn't work and they won't help me.</p>\n\n<p>And yes, I know that this is a super, <em>super</em> insecure solution for restricting access. My company is working on a more formal solution, but until then, I need to implement something temporary to deter users who lack the computer knowledge or motivation to get around the redirect, and this is pretty much my last option.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1487805199, "post_id": 42404002, "comment_id": 71954952, "body": "Please clarify ... by reload you mean reloading the main page? is the event handler inside the iframe or in the main page? Does this work in other browsers? which ones does it work with? Are the main page and iframe in the same domain? Show at least a minimal example of the code you are attempting to write"}, {"owner": {"reputation": 47, "user_id": 513866, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/394e9c908fdb3494feb97a30d783b956?s=128&d=identicon&r=PG", "display_name": "Chris Malloy", "link": "https://stackoverflow.com/users/513866/chris-malloy"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1487811677, "post_id": 42404002, "comment_id": 71957116, "body": "I&#39;m reloading the parent page and listening to the unload in the iframe. It works in firefox. Currently I&#39;m looking at the iframes on the same domain, but I&#39;m going to be looking at cross domain next."}], "owner": {"reputation": 47, "user_id": 513866, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/394e9c908fdb3494feb97a30d783b956?s=128&d=identicon&r=PG", "display_name": "Chris Malloy", "link": "https://stackoverflow.com/users/513866/chris-malloy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487804843, "creation_date": 1487804843, "question_id": 42404002, "link": "https://stackoverflow.com/questions/42404002/how-to-properly-catch-unload-events-from-an-iframe", "title": "How to properly catch unload events from an iFrame", "body": "<p>I am trying to catch an unload or beforeunload event from inside an iFrame. It works fine except in Chrome the event is not fired when I click the reload button.</p>\n\n<p>What is a cross-browser solution to this that always works?</p>\n"}, {"tags": ["javascript", "sql-server", "node.js", "multiple-select", "multiple-select-query"], "comments": [{"owner": {"reputation": 604, "user_id": 2225918, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XFvRN.jpg?s=128&g=1", "display_name": "Patryk Cieszkowski", "link": "https://stackoverflow.com/users/2225918/patryk-cieszkowski"}, "edited": false, "score": 0, "creation_date": 1487805251, "post_id": 42403988, "comment_id": 71954977, "body": "can&#39;t you simply make two async requests? For instance, with async library. <a href=\"https://github.com/caolan/async\" rel=\"nofollow noreferrer\">github.com/caolan/async</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6584711"}, "reply_to_user": {"reputation": 604, "user_id": 2225918, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XFvRN.jpg?s=128&g=1", "display_name": "Patryk Cieszkowski", "link": "https://stackoverflow.com/users/2225918/patryk-cieszkowski"}, "edited": false, "score": 0, "creation_date": 1487861979, "post_id": 42403988, "comment_id": 71983786, "body": "Hi Patryk, Can you help me with the Syntax of using async please? i am new to node.js so never got to use async."}], "answers": [{"tags": [], "owner": {"reputation": 604, "user_id": 2225918, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XFvRN.jpg?s=128&g=1", "display_name": "Patryk Cieszkowski", "link": "https://stackoverflow.com/users/2225918/patryk-cieszkowski"}, "is_accepted": true, "score": 0, "last_activity_date": 1487904420, "creation_date": 1487904420, "answer_id": 42429883, "question_id": 42403988, "link": "https://stackoverflow.com/questions/42403988/node-js-multiple-select/42429883#42429883", "title": "Node JS Multiple Select", "body": "<p>@Aditya I'm not sure it's the best way to do so, although I would simply make two different requests, in order to achieve what you need. As I mentioned my in my comment, easiest way, would be to use (for instance)  <a href=\"https://github.com/caolan/async\" rel=\"nofollow noreferrer\">async</a> library. And here's example you've asked for.</p>\n\n<p><strong>WARNING: I did not look at mysql docs</strong></p>\n\n<pre><code>const async = require('async')\n\n// {\n  async.series([\n    function(next)\n    {\n      new sql.Request()\n        .query('SELECT * from PERSON', next(err, resultList))\n    },\n    function(next)\n    {\n      new sql.Request()\n        .query('SELECT COUNT(*) from PERSON', next(err, count))\n    }\n  ], (err, result) =&gt;  \n  {\n    /* \n      err: String\n        - if any of the shown above return an error - whole chain will be canceled.\n\n      result: Array\n        - if both requests will be succesfull - you'll end up with an array of results \n\n      --- \n\n      Now you can render both results to your template at once\n\n    */\n  })\n// }\n</code></pre>\n\n<p>Surely, if you want manipulate with errors or results once you get them - you always may push error and results to new function, play with your data, and return the callback afterwards. Like so:</p>\n\n<pre><code>function(next)\n{\n  new sql.Request()\n    .query('SELECT * from PERSON', (err, resultList) =&gt;\n    {\n      if (err)\n      {\n        return next(err, null)            \n      }\n\n      /*\n        data manipulation\n      */\n\n      return next(null, resultList)\n    })\n},\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6584711"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1136, "favorite_count": 0, "accepted_answer_id": 42429883, "answer_count": 1, "score": 0, "last_activity_date": 1487904420, "creation_date": 1487804777, "last_edit_date": 1487806175, "question_id": 42403988, "link": "https://stackoverflow.com/questions/42403988/node-js-multiple-select", "title": "Node JS Multiple Select", "body": "<p>Hi i am trying to use two selects in one JS file in node js and sql server. I am unable to figure out the syntax for this. I need a select to get all the persons from a table and another select to count the total number of persons in that table.Will it be possible to put those two selects in a single JS file. If so can someone help me with the syntax?</p>\n\n<p>Here is the code i tried and i am getting the error\n\"cant Set headers after they are sent\"</p>\n\n<p>var sql = require(\"mssql\");\nvar dbConfig = {</p>\n\n<pre><code>server: \"XXXXX\",\ndatabase: \"XXXXX\",\nuser: \"XXXXX\",\npassword: \"XXXX\",\nport: 1433\n</code></pre>\n\n<p>};\nexports.list = function(req, res){</p>\n\n<pre><code>sql.connect(dbConfig, function (err) {\n\n    if (err) console.log(err);\n\n    var request = new sql.Request();\n\n    request.query('select * from PERSON', function (err, recordset) {\n\n        if (err) \n            console.log(err)\n        else\n           console.log(recordset)\n            res.render('personinfo_itwx', { data: recordset });\n\n    });\n\n        request.query('select count(*) from PERSON', function (err, recordset) {\n\n        if (err) \n            console.log(err)\n        else\n           console.log(recordset1)\n            res.render('personinfo_itwx', { data: recordset1 });\n\n});\n\n\n\n\n\n\n\n\n\n});\n</code></pre>\n\n<p>};</p>\n"}, {"tags": ["javascript", "arrays", "random"], "comments": [{"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 4, "creation_date": 1487804483, "post_id": 42403912, "comment_id": 71954712, "body": "You are not generating a random number array because you&#39;re not filling the array, just accessing a random index which would be undefined because you haven&#39;t filled the array..."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 7218202, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/fa6b20431e1737db3dd02de78d44ea51?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Bruin", "link": "https://stackoverflow.com/users/7218202/colin-bruin"}, "edited": false, "score": 0, "creation_date": 1487804910, "post_id": 42403992, "comment_id": 71954856, "body": "Ah thank you. I was misinterpreting what exactly the new Array was doing."}], "tags": [], "owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "is_accepted": false, "score": 1, "last_activity_date": 1487804945, "last_edit_date": 1487804945, "creation_date": 1487804803, "answer_id": 42403992, "question_id": 42403912, "link": "https://stackoverflow.com/questions/42403912/why-is-my-random-number-generator-from-a-new-array-not-working-javascript/42403992#42403992", "title": "Why is my random number generator from a new array not working? Javascript", "body": "<p>You must fill the array with something. All you are doing is declaring its size and since arrays in JavaScript are dynamic (that is, their size can grow and shrink after they've been created), it's not that useful to pre-declare a size anyway:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var numList = [];\r\n\r\n// Fill the array with numbers from 0 to 99\r\nfor(var i = 0; i &lt; 100; ++i){\r\n   numList.push(i);\r\n}\r\n\r\nvar correctNum = numList[Math.floor(Math.random()*numList.length)];\r\n\r\n// Don't use document.write. It will wipe out the existing document in \r\n// favor of the new content. Either write the to the console (for debugging)\r\n// or inject data into pre-existing element that's already on the page\r\nconsole.log(correctNum);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 34, "user_id": 6170083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rJDTB-Zq19Y/AAAAAAAAAAI/AAAAAAAAAGc/f9sMdVbxKqs/photo.jpg?sz=128", "display_name": "Anuar Zhukenov", "link": "https://stackoverflow.com/users/6170083/anuar-zhukenov"}, "is_accepted": false, "score": 0, "last_activity_date": 1487804804, "creation_date": 1487804804, "answer_id": 42403993, "question_id": 42403912, "link": "https://stackoverflow.com/questions/42403912/why-is-my-random-number-generator-from-a-new-array-not-working-javascript/42403993#42403993", "title": "Why is my random number generator from a new array not working? Javascript", "body": "<p>The array numList contains 100 undefined. Once you populate the array with the real data, the rest of the logic will give you what you want.</p>\n\n<p>do for example:</p>\n\n<pre><code>for(var i=0; i&lt;numList.length; i++){\n    numList.push(i);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "is_accepted": false, "score": 0, "last_activity_date": 1487804810, "creation_date": 1487804810, "answer_id": 42403994, "question_id": 42403912, "link": "https://stackoverflow.com/questions/42403912/why-is-my-random-number-generator-from-a-new-array-not-working-javascript/42403994#42403994", "title": "Why is my random number generator from a new array not working? Javascript", "body": "<p><code>new Array(100)</code> returns array with 100 undefined elements.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var numList = new Array(100);\r\nconsole.log(numList);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You have to fill it or just make an array containing the numbers you like, if you want to get a random number from it.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var numList = Array.apply(null, {length: 100}).map(Number.call, Number);\r\n\r\nvar correctNum = numList[Math.floor(Math.random()*numList.length)];\r\n\r\ndocument.write(correctNum);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 153, "user_id": 7569648, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/03682424be437c6b1baf1e48e8e6f523?s=128&d=identicon&r=PG&f=1", "display_name": "MissSprezzatura", "link": "https://stackoverflow.com/users/7569648/misssprezzatura"}, "is_accepted": false, "score": 0, "last_activity_date": 1487804954, "creation_date": 1487804954, "answer_id": 42404027, "question_id": 42403912, "link": "https://stackoverflow.com/questions/42403912/why-is-my-random-number-generator-from-a-new-array-not-working-javascript/42404027#42404027", "title": "Why is my random number generator from a new array not working? Javascript", "body": "<p>Since your array is currently empty, I would recommend filling it with whatever numbers you would like. Another solution, if you just want to pick a random number from 1-100, you code use this code below, which will return a random number in between 1 and 100.</p>\n\n<pre><code>Math.floor((Math.random() * 100) + 1);\n</code></pre>\n\n<p>Good luck! :)</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 7031626, "user_type": "registered", "profile_image": "https://graph.facebook.com/1481167821909683/picture?type=large", "display_name": "BRad", "link": "https://stackoverflow.com/users/7031626/brad"}, "is_accepted": false, "score": 0, "last_activity_date": 1487806691, "last_edit_date": 1487806691, "creation_date": 1487805132, "answer_id": 42404060, "question_id": 42403912, "link": "https://stackoverflow.com/questions/42403912/why-is-my-random-number-generator-from-a-new-array-not-working-javascript/42404060#42404060", "title": "Why is my random number generator from a new array not working? Javascript", "body": "<p>Your array is still empty. \nBy using constructor <code>arr = new Array(&lt;integer&gt;)</code> it gets only length but no values at indexes. </p>\n\n<pre><code>var arr = new Array(100);\nconsole.log(arr.length); // 100\nconsole.log(arr[1]); // undefined\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 7218202, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/fa6b20431e1737db3dd02de78d44ea51?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Bruin", "link": "https://stackoverflow.com/users/7218202/colin-bruin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 5, "score": -2, "last_activity_date": 1487806691, "creation_date": 1487804377, "last_edit_date": 1487805218, "question_id": 42403912, "link": "https://stackoverflow.com/questions/42403912/why-is-my-random-number-generator-from-a-new-array-not-working-javascript", "title": "Why is my random number generator from a new array not working? Javascript", "body": "<p>I am making a card game but right now I am having a problem with the random number generator. I am creating new array with 100 choices and then randomly selecting a number from that array. However, when I document.write correctNum, I am getting undefined.</p>\n\n<pre><code>var numList = new Array(100);\n\nvar correctNum = numList[Math.floor(Math.random()*numList.length)];\n\ndocument.write(correctNum);\n</code></pre>\n"}, {"tags": ["javascript", "function"], "comments": [{"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1487805955, "post_id": 42403909, "comment_id": 71955241, "body": "Please use proper casing, it is important in programming. Make sure that the code snippets you want to ask about are at least syntactically valid."}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1487805068, "creation_date": 1487805068, "answer_id": 42404047, "question_id": 42403909, "link": "https://stackoverflow.com/questions/42403909/javascript-functions-and-declaring/42404047#42404047", "title": "Javascript functions and declaring", "body": "<p><code>var1</code> and <code>var2</code> are parameter variables, they automatically get their values from the arguments provided when the function is called.</p>\n\n<p>Variables declared with <code>var</code> inside the function body are local variables of the function.</p>\n\n<p>Parameter variables are automatically made local to the function. You can have</p>\n\n<pre><code>var var1;\n</code></pre>\n\n<p>in the function, but it's redundant and has no effect. It doesn't create a new variable or override the value of the parameter (unless you include an initializer).</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function myFunc(var1, var2) {\r\n  var var1;\r\n  var var2 = 3;\r\n  var newVar;\r\n  console.log(var1, var2, newVar);\r\n}\r\n\r\nmyFunc(1, 2);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 11, "user_id": 7607752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9896afccefca933bf342c7f3e0580f?s=128&d=identicon&r=PG&f=1", "display_name": "Kwazinkosi Ndlovu", "link": "https://stackoverflow.com/users/7607752/kwazinkosi-ndlovu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "closed_date": 1487806112, "answer_count": 1, "score": 1, "last_activity_date": 1487805494, "creation_date": 1487804368, "last_edit_date": 1487805494, "question_id": 42403909, "link": "https://stackoverflow.com/questions/42403909/javascript-functions-and-declaring", "closed_reason": "Duplicate", "title": "Javascript functions and declaring", "body": "<p>When working with functions in JavaScript, are variables declared as parameters in a function different from variables declared within the function itself?</p>\n\n<p>For example, is</p>\n\n<pre><code>function functionName (var1, var2)\n</code></pre>\n\n<p>different to </p>\n\n<pre><code>Function (var1, var2) {\n    Var VarName;\n}\n</code></pre>\n\n<p>In the second example, could <code>var1</code> be declared where <code>varName</code> is declared? If not, why?</p>\n"}, {"tags": ["javascript", "reactjs", "ecmascript-6", "redux", "es6-promise"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1487804980, "post_id": 42403902, "comment_id": 71954886, "body": "<code>I constantly get error &quot;error data is not defined&quot;</code> - which line of code is responsible for this constant error?"}], "answers": [{"tags": [], "owner": {"reputation": 1124, "user_id": 1751277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0110543d2381a81df2412b253a248dc9?s=128&d=identicon&r=PG&f=1", "display_name": "floriangosse", "link": "https://stackoverflow.com/users/1751277/floriangosse"}, "is_accepted": true, "score": 3, "last_activity_date": 1487805518, "creation_date": 1487805518, "answer_id": 42404146, "question_id": 42403902, "link": "https://stackoverflow.com/questions/42403902/data-not-defined-in-redux-when-pulling-api/42404146#42404146", "title": "Data not defined in redux when pulling api", "body": "<p>The variable <code>data</code> is not defined. You must use <code>action.results</code>:</p>\n\n<pre><code>// ...\ncase \"FETCH_WEATHER_DATA_FULFILLED\": {\n    return {...state,\n        fetching: false,\n        fetched: true,\n        nameOfCity: action.results.city.name,\n        weatherDescription: action.results.list[0].weather[0].description,\n        windSpeed: action.results.list[2].wind.speed,\n        temperature: action.results.list[0].main.temp,\n        maxTemperature: action.results.list[0].main.temp_max,\n        minTemperature: action.results.list[0].main.temp_min\n    }\n}\n// ...\n</code></pre>\n"}], "owner": {"reputation": 1076, "user_id": 4834385, "user_type": "registered", "accept_rate": 66, "profile_image": "https://graph.facebook.com/945727985457605/picture?type=large", "display_name": "OunknownO", "link": "https://stackoverflow.com/users/4834385/ounknowno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 42404146, "answer_count": 1, "score": 0, "last_activity_date": 1487805639, "creation_date": 1487804340, "last_edit_date": 1487805639, "question_id": 42403902, "link": "https://stackoverflow.com/questions/42403902/data-not-defined-in-redux-when-pulling-api", "title": "Data not defined in redux when pulling api", "body": "<p>I'm trying to pull api using redux but I can't wrap my head around it. I constantly get error \"error data is not defined\". </p>\n\n<p>I'm using create-react-app with added few libraries like thunk, logger and middleware. If I forgot to mention something please say so that I can update the question</p>\n\n<p>this is my action</p>\n\n<pre><code>import axios from \"axios\";\n\nexport function fetchWeatherData() {\nreturn function (dispatch) {\n    axios.get('http://api.openweathermap.org/data/2.5/forecast/weather?q=London&amp;units=metric&amp;lang=hr&amp;APPID=example')\n        .then((response) =&gt; {\n            dispatch({type: \"FETCH_WEATHER_DATA_FULFILLED\",results: response.data})\n        })\n        .catch((err) =&gt; {\n            dispatch({type: \"FETCH_WEATHER_DATA_REJECTED\", results: err})\n        })\n    }\n}\n</code></pre>\n\n<p>this is reducer</p>\n\n<pre><code> export default function reducer(state={\n    cityName: data,\n    nameOfCity: null,\n    weatherDescription: null,\n    windSpeed: null,\n    temperature: null,\n    maxTemperature: null,\n    minTemperature: null\n}, action) {\nswitch (action.type){\n    case \"FETCH_WEATHER_DATA\": {\n        return {...state,\n            fetching: true\n        }\n    }\n    case \"FETCH_WEATHER_REJECTED\": {\n        return {...state,\n            fetching: false,\n            error: action.results\n        }\n    }\n    case \"FETCH_WEATHER_DATA_FULFILLED\": {\n        return {...state,\n            fetching: false,\n            fetched: true,\n            nameOfCity: data.city.name,\n            weatherDescription: data.list[0].weather[0].description,\n            windSpeed: data.list[2].wind.speed,\n            temperature: data.list[0].main.temp,\n            maxTemperature: data.list[0].main.temp_max,\n            minTemperature: data.list[0].main.temp_min\n        }\n    }\n}\n\nreturn state;\n}\n</code></pre>\n\n<p>this is container</p>\n\n<pre><code>import {FormContainer} from './containers/FormContainer';\nimport WeatherInfo from './components/WeatherInfo';\nimport {connect} from \"react-redux\"\nimport {updateInfo} from './actions/weather-apiActions'\nimport {fetchWeatherData} from './actions/weather-apiActions'\n\n@connect((store) =&gt; {\n  return {\n    cityName: store.cityName.cityName,\n    nameOfCity:store.nameOfCity.nameOfCity,\n    weatherDescription:store.weatherDescription.weatherDescription,\n    windSpeed:store.windSpeed.windSpeed,\n    temperature:store.temperature.temperature,\n    maxTemperature:store.maxTemperature.maxTemperature,\n    minTemperature:store.minTemperature.minTemperature,\n  }\n })\n\n class App extends Component {\n\n   componentWillMount(){\n     this.props.dispatch(fetchWeatherData());\n   }\n\n  }\n</code></pre>\n\n<p>store file</p>\n\n<pre><code>import { applyMiddleware, createStore } from \"redux\"\n\nimport logger from \"redux-logger\"\nimport thunk from \"redux-thunk\"\nimport promise from \"redux-promise-middleware\"\n\nimport reducer from \"./reducers\"\n\nconst middleware = applyMiddleware(promise(), thunk, logger())\n\nexport default createStore(reducer, middleware)\n</code></pre>\n\n<p>combine file</p>\n\n<pre><code>import { combineReducers } from \"redux\"\n\n    import cityName from \"./weather-apiReducers\"\n    import nameOfCity from \"./weather-apiReducers\"\n    import weatherDescription from \"./weather-apiReducers\"\n    import windSpeed from \"./weather-apiReducers\"\n    import temperature from \"./weather-apiReducers\"\n    import maxTemperature from \"./weather-apiReducers\"\n    import minTemperature from \"./weather-apiReducers\"\n\n    export default combineReducers({\n        cityName,\n        nameOfCity,\n        weatherDescription,\n        windSpeed,\n        temperature,\n        maxTemperature,\n        minTemperature\n    })\n</code></pre>\n\n<p>EDIT: the line where the error shows. it's the reducer</p>\n\n<p>Error in ./src/reducers/weather-apiReducers.js</p>\n\n<p>6:15  error    'data' is not defined    no-undef\n  14:5   warning  Expected a default case  default-case</p>\n\n<p>\u2716 2 problems (1 error, 1 warning)</p>\n"}, {"tags": ["javascript", "anonymous-function", "ternary-operator"], "comments": [{"owner": {"reputation": 7503, "user_id": 1059273, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f49fd78553be0a74aef8736864937b5d?s=128&d=identicon&r=PG", "display_name": "cjds", "link": "https://stackoverflow.com/users/1059273/cjds"}, "edited": false, "score": 0, "creation_date": 1487804347, "post_id": 42403876, "comment_id": 71954666, "body": "is there any error?"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1487804384, "post_id": 42403876, "comment_id": 71954683, "body": "This looks like a misuse of the ternary operator to make things harder to read, but whatever. Use a IIFE, like <code>(function () { switch ... })()</code>."}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1487804388, "post_id": 42403876, "comment_id": 71954685, "body": "You are not calling the function, therefore <code>res</code> will either be assigned a function or <code>null</code>."}, {"owner": {"reputation": 1, "user_id": 6891201, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/0UKEP.jpg?s=128&g=1", "display_name": "jdmdevdotnet", "link": "https://stackoverflow.com/users/6891201/jdmdevdotnet"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1487804744, "post_id": 42403876, "comment_id": 71954793, "body": "I def agree with @MikeMcCaughan, not sure why you&#39;re doing this. Much easier to just use an if statement here."}], "answers": [{"tags": [], "owner": {"reputation": 172, "user_id": 2573422, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/l6HF4.png?s=128&g=1", "display_name": "Diogo Almiro", "link": "https://stackoverflow.com/users/2573422/diogo-almiro"}, "is_accepted": false, "score": 2, "last_activity_date": 1487804645, "creation_date": 1487804645, "answer_id": 42403964, "question_id": 42403876, "link": "https://stackoverflow.com/questions/42403876/ternary-operator-with-anonymous-function/42403964#42403964", "title": "ternary operator with anonymous function", "body": "<p>side note: If result is null you will get an exception when trying to get the length attribute of null consider changing to <code>fieldValue ? fieldValue.split(\"/\") : \"\"</code>.</p>\n\n<p>In order for both codes have the same result you should call the anonimous function like this:</p>\n\n<pre><code>var res = result.length &gt; 0 ? (() =&gt; {\n    switch (label.toLowerCase()) {\n        case \"jenkins job name\" :\n            return result[result.length - 2];\n        case \"jenkins job number\" :\n        return result[result.length - 3];\n    }    \n})() : null; \n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5135630, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6373334211eb78115bda98a5a1909059?s=128&d=identicon&r=PG&f=1", "display_name": "Connor", "link": "https://stackoverflow.com/users/5135630/connor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1514, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1533317802, "creation_date": 1487804236, "last_edit_date": 1533317802, "question_id": 42403876, "link": "https://stackoverflow.com/questions/42403876/ternary-operator-with-anonymous-function", "title": "ternary operator with anonymous function", "body": "<p>I want to re-write the if and switch in another ternary operator </p>\n\n<pre><code>var result = fieldValue ? fieldValue.split(\"/\") : null;\nvar res = null;\nif (result.length &gt; 0) {\n  switch (label.toLowerCase()) {\n    case \"jenkins job name\":\n      res = result[result.length - 2];\n      break;\n    case \"jenkins job number\":\n      res = result[result.length - 3];\n      break;\n  }\n</code></pre>\n\n<p>I am trying as below its not working, what am I doing wrong</p>\n\n<pre><code>result = fieldValue ? fieldValue.split(\"/\") : null;\nvar res = result.length &gt; 0 ? () =&gt; {\n  switch (label.toLowerCase()) {\n    case \"jenkins job name\":\n      return result[result.length - 2];\n    case \"jenkins job number\":\n      return result[result.length - 3];\n  }\n} : null;\n</code></pre>\n"}, {"tags": ["javascript", "google-apps-script", "google-sheets"], "comments": [{"owner": {"reputation": 26870, "user_id": 2946873, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/pIQti.jpg?s=128&g=1", "display_name": "Alan Wells", "link": "https://stackoverflow.com/users/2946873/alan-wells"}, "edited": false, "score": 0, "creation_date": 1487805956, "post_id": 42403856, "comment_id": 71955243, "body": "You can use &quot;sessionStorage&quot; to store and then retrieve values in the browser.  <a href=\"http://stackoverflow.com/a/41265164/2946873\">Link to Stack Overflow post</a> also see <a href=\"https://www.w3schools.com/html/html5_webstorage.asp\" rel=\"nofollow noreferrer\">HTML5 Local Storage</a>"}, {"owner": {"reputation": 40, "user_id": 4805093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6ylUFDpwmNg/AAAAAAAAAAI/AAAAAAAAABI/sHpZ-TJau1I/photo.jpg?sz=128", "display_name": "Emanuele Tinari", "link": "https://stackoverflow.com/users/4805093/emanuele-tinari"}, "reply_to_user": {"reputation": 26870, "user_id": 2946873, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/pIQti.jpg?s=128&g=1", "display_name": "Alan Wells", "link": "https://stackoverflow.com/users/2946873/alan-wells"}, "edited": false, "score": 0, "creation_date": 1487871105, "post_id": 42403856, "comment_id": 71990506, "body": "Thank a lot @SandyGood. Your answer is the right solution form me. I don&#39;t understand why somebody down vote my question... maybe for someone is not clear... but if SandyGood answer in a way that I solve my problem, no one can say: your question isn&#39;t clear (SandyGood doc&#233;t)!!!"}, {"owner": {"reputation": 40, "user_id": 4805093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6ylUFDpwmNg/AAAAAAAAAAI/AAAAAAAAABI/sHpZ-TJau1I/photo.jpg?sz=128", "display_name": "Emanuele Tinari", "link": "https://stackoverflow.com/users/4805093/emanuele-tinari"}, "reply_to_user": {"reputation": 26870, "user_id": 2946873, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/pIQti.jpg?s=128&g=1", "display_name": "Alan Wells", "link": "https://stackoverflow.com/users/2946873/alan-wells"}, "edited": false, "score": 0, "creation_date": 1487871436, "post_id": 42403856, "comment_id": 71990713, "body": "And if you transform your comment in an answer, I&#39;m ready to vote for you: simple and clear."}, {"owner": {"reputation": 26870, "user_id": 2946873, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/pIQti.jpg?s=128&g=1", "display_name": "Alan Wells", "link": "https://stackoverflow.com/users/2946873/alan-wells"}, "edited": false, "score": 0, "creation_date": 1487872480, "post_id": 42403856, "comment_id": 71991322, "body": "Not sure why you got a down vote.  Because I shared a link to another answer, I won&#39;t add an answer here.  Thank you for the feedback."}, {"owner": {"reputation": 34507, "user_id": 7215091, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/2pNI4.jpg?s=128&g=1", "display_name": "MetaMan", "link": "https://stackoverflow.com/users/7215091/metaman"}, "edited": false, "score": 0, "creation_date": 1488865732, "post_id": 42403856, "comment_id": 72409387, "body": "If you really have a lot of data you can also use files.  I was working on a function to create a jstree type of directory for my Google Account and because it takes so much resources to run I decided to store it.  Unfortunately, it was about 30K and it would not fit into PropertiesService so I stored in a file instead.  And amazingly enough it runs fairly fast."}], "owner": {"reputation": 40, "user_id": 4805093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6ylUFDpwmNg/AAAAAAAAAAI/AAAAAAAAABI/sHpZ-TJau1I/photo.jpg?sz=128", "display_name": "Emanuele Tinari", "link": "https://stackoverflow.com/users/4805093/emanuele-tinari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 520, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487804127, "creation_date": 1487804127, "question_id": 42403856, "link": "https://stackoverflow.com/questions/42403856/how-pass-data-between-google-spreadsheet-dialogs", "title": "How pass data between Google Spreadsheet Dialogs?", "body": "<p>I'm trying to built an Orders system based on Google Spreadsheet.\nI got 1 Spreadsheet (\"Order\") with 2 sheets (\"Orders\" and \"Products\").\nFirst is totally blank (it'll be the sheets where my dialog will put data.\nSecond is a simple database with a list of articles: </p>\n\n<ul>\n<li>Column A [ID]</li>\n<li>Column B [BRAND]</li>\n<li>Column C [PRODUCT]</li>\n<li>Column D [PIECES]</li>\n<li>Column E [PRICE]</li>\n<li>Column F [CATEGORY]</li>\n<li>Column G [UM]</li>\n<li>Column H [VAT]</li>\n<li>Column I [SUBCATEGORY]</li>\n</ul>\n\n<p>One brand can have more than one product, in one or more category...\nI got</p>\n\n<ul>\n<li>1 Code.gs</li>\n</ul>\n\n<p>and 4 HTML Dialogs</p>\n\n<ul>\n<li>Scelta Categoria.html</li>\n<li>Scelta Marchio.html</li>\n<li>Scelta Prodotto.html</li>\n<li>Ordini.html</li>\n</ul>\n\n<p>Here I don't put Scelta Prodotto.html or Order.html code because first of all I need to pass data between the other dialogs.\n<em>I don't wanna a web app</em> if it's possible, but a simple spreadsheet with my custom dialogs working.\nI'm not searching for a spreadsheet shared with my costumers but more spreadsheet (every = at the other) one for every my costumer (is a little business, with only 30 costumers, and not all are able to use internet or pc to send me their orders (most of them used call me by phone and dictate me the order).\nFor them who are more modern as I'm, I start develop those (as Google call in his Script Guide) Scripts Bound to Google Sheets.</p>\n\n<p><strong>code.gs</strong></p>\n\n<pre><code>            function onOpen() {\n                  SpreadsheetApp.getUi()\n                  .createMenu('Ordine')\n                  .addItem('Apri Maschera', 'ApriSceltaCategoria')\n                  .addToUi();\n                  //doGet();\n                  ApriSceltaCategoria();  \n            }\n            // Visualizza l'interfaccia grafica.\n            // Chiamata alla funzione \"setRngProdotto()\" per assicurare che tutti i nuovi valori sono inclusi nella dropdown list quando l'interfaccia \u00e8 visualizzata.\n            function ApriSceltaCategoria() {\n              var ss;\n              var html;\n              setRngCat();\n              ss = SpreadsheetApp.getActiveSpreadsheet();\n              html = HtmlService.createHtmlOutputFromFile('Scelta Categoria').setSandboxMode(HtmlService.SandboxMode.IFRAME);\n              ss.show(html);\n            }\n            function ApriSceltaMarchio(CategoriaScelta) {\n              var ss;\n              var html;\n              setRngMarchi();\n              setRngCompleto();\n              ss = SpreadsheetApp.getActiveSpreadsheet();\n              html = HtmlService.createHtmlOutputFromFile('Scelta Marchio').setSandboxMode(HtmlService.SandboxMode.IFRAME);\n              ss.show(html);\n            }\n            function ApriSceltaProdotto(ProdottoScelto) {\n              var ss;\n              var html;\n              setRngProdotti();\n              setRngCompleto();\n              ss = SpreadsheetApp.getActiveSpreadsheet();\n              html = HtmlService.createHtmlOutputFromFile('Scelta Prodotto').setSandboxMode(HtmlService.SandboxMode.IFRAME);\n              ss.show(html);\n            }\n            // Chiamata dalla Client-side JavaScript nella pagina.\n            // Usa l'argomento del nome del range per estrarre i valori. I valori sono quindi ordinati e restituiti come un array di arrays.\n            function getValuesForRngName(rngName) {\n              var rngValues = SpreadsheetApp.getActiveSpreadsheet().getRangeByName(rngName).getValues();\n              return rngValues.sort();\n            }\n            //Expand the range defined by the name as rows are added\n            function setRngCat() {\n              var ss = SpreadsheetApp.getActiveSpreadsheet();\n              var sh = ss.getSheetByName('Prodotti');\n              var firstCellAddr = 'F2';\n              var dataRngRowCount = sh.getDataRange().getLastRow();\n              var listRngAddr = (firstCellAddr + ':F' + dataRngRowCount);\n              var listRng = sh.getRange(listRngAddr);\n              ss.setNamedRange('rngListaCategorie', listRng);\n            }\n            //Expand the range defined by the name as rows are added\n            function setRngMarchi() {\n              var ss = SpreadsheetApp.getActiveSpreadsheet();\n              var sh = ss.getSheetByName('Prodotti');\n              var firstCellAddr = 'B2';\n              var dataRngRowCount = sh.getDataRange().getLastRow();\n              var listRngAddr = (firstCellAddr + ':B' + dataRngRowCount);\n              var listRng = sh.getRange(listRngAddr);\n              ss.setNamedRange('rngListaMarchi', listRng);\n            }\n            //Expand the range defined by the name as rows are added\n            function setRngProdotto() {\n              var ss = SpreadsheetApp.getActiveSpreadsheet();\n              var sh = ss.getSheetByName('Prodotti');\n              var firstCellAddr = 'C2';\n              var dataRngRowCount = sh.getDataRange().getLastRow();\n              var listRngAddr = (firstCellAddr + ':C' + dataRngRowCount);\n              var listRng = sh.getRange(listRngAddr);\n              ss.setNamedRange('rngListaProdotti', listRng);\n            }\n            //Expand the range defined by the name as rows are added\n            function setRngCompleto() {\n              var ss = SpreadsheetApp.getActiveSpreadsheet();\n              var sh = ss.getSheetByName('Prodotti');\n              var firstCellAddr = 'A2';\n              var dataRngRowCount = sh.getDataRange().getLastRow();\n              var listRngAddr = (firstCellAddr + ':I' + dataRngRowCount);\n              var listRng = sh.getRange(listRngAddr);\n              ss.setNamedRange('rngListaCompleta', listRng);\n            }\n            function OrdinaDati() {\n              setRngCat();\n              var rangeToSort = SpreadsheetApp.getActiveSpreadsheet().getRangeByName('rngListaCategorie').getValues();\n              var selectionArray = rangeToSort.getValues(); \n              rangeToSort.setValues(selectionArray.sort(ordinaLi));\n              setRngMarchi();\n              var rangeToSort = SpreadsheetApp.getActiveSpreadsheet().getRangeByName('rngListaMarchi').getValues();\n              var selectionArray = rangeToSort.getValues(); \n              rangeToSort.setValues(selectionArray.sort(ordinaLi));\n              setRngProdotto();\n              var rangeToSort = SpreadsheetApp.getActiveSpreadsheet().getRangeByName('rngListaProdotti').getValues();\n              var selectionArray = rangeToSort.getValues(); \n              rangeToSort.setValues(selectionArray.sort(ordinaLi));\n              setRngCompleto();\n              var rangeToSort = SpreadsheetApp.getActiveSpreadsheet().getRangeByName('rngListaCompleta').getValues();\n              var selectionArray = rangeToSort.getValues(); \n              rangeToSort.setValues(selectionArray.sort(ordinaLi));\n            }\n            function ordinaLi(a,b) {\n              // Sorts on the first column in the selection ONLY, ascending order.\n               a=a[0];\n               b=b[0];\n               return a==b?0:(a&lt;b?-1:1);\n            }\n            /**\n             * Get the URL for the Google Apps Script running as a WebApp.\n             */\n            function getScriptUrl() {\n             var url = ScriptApp.getService().getUrl();\n             return url;\n            }\n\n            /**\n             * Get \"home page\", or a requested page.\n             * Expects a 'page' parameter in querystring.\n             *\n             * @param {event} e Event passed to doGet, with querystring\n             * @returns {String/html} Html to be served\n             */\n            function doGet(e) {\n              //Logger.log( Utilities.jsonStringify(e) );\n              Logger.log(e.parameter.page);\n              var pgToLoad = e.parameter.page;\n\n              if (!e.parameter.page) {\n                Logger.log('!e.parameter.page')\n                // When no specific page requested, return \"home page\"\n                return HtmlService.createTemplateFromFile('Scelta Categoria').evaluate()\n                   .setSandboxMode(HtmlService.SandboxMode.IFRAME);\n              }\n              Logger.log('there is something for the page');\n              // else, use page parameter to pick an html file from the script\n              return HtmlService.createTemplateFromFile('Scelta Categoria').evaluate()\n                .setSandboxMode(HtmlService.SandboxMode.IFRAME);\n            }\n</code></pre>\n\n<p><strong>Choose Category.html</strong></p>\n\n<pre><code>        &lt;!DOCTYPE html&gt;\n        &lt;html style= \"background-color:#B7CEEC;\"&gt;\n          &lt;head&gt;\n            &lt;base target=\"_top\"&gt;\n            &lt;p id=\"p_cat\"&gt;Categoria scelta: - &lt;/p&gt;\n          &lt;/head&gt;\n          &lt;body&gt;\n        &lt;title&gt;TITOLO&lt;/title&gt;\n          &lt;div&gt;\n            &lt;form&gt;\n              &lt;hr&gt;\n              &lt;p style= \"text-align: center;\"&gt;Seleziona una &lt;b style= \"color:red;\"&gt;CATEGORIA&lt;/b&gt;&lt;/p&gt;\n              &lt;hr&gt;\n              &lt;table id=\"Tabella\"&gt;\n\n              &lt;/table&gt;\n              &lt;div style=\"text-align: center;\"&gt;\n                &lt;input type=\"button\" style=\"font-size: 14px;\" id=\"btnAvanti\" value=\"Avanti --&gt;\"\n                  onclick= \"google.script.run.withSuccessHandler(google.script.host.close).ApriSceltaMarchio()\" /&gt;\n              &lt;/div&gt;\n            &lt;/form&gt;\n          &lt;/div&gt;\n            &lt;hr&gt;\n            &lt;div style=\"float:right;\"&gt;\n              &lt;input type=\"button\" value=\"Chiudi\"\n                onclick=\"google.script.host.close()\" /&gt;\n            &lt;/div&gt;\n            &lt;script type=\"text/javascript\"&gt;\n            function estraicategorie (values) {\n              document.getElementById(\"btnAvanti\").disabled = true;\n              var categorie = eliminaduplicati(values);\n              for (i = 0;i &lt; categorie.length; i +=1) {\n                  var tr = document.createElement('tr');   \n                  var td1 = document.createElement('td');\n                  var td2 = document.createElement('td');\n                  var elemlabel = document.createElement('label');\n                  strlabel = \"\" + categorie [i] + \"\"\n                  elemlabel.innerHTML = strlabel.bold();\n                  var eleminput = document.createElement('input');\n                  eleminput.setAttribute('type', 'radio');\n                  eleminput.setAttribute('name', 'categorie');\n                  eleminput.setAttribute('value', categorie [i]);\n                  td1.appendChild(elemlabel);\n                  td2.appendChild(eleminput);\n                  tr.appendChild(td1);\n                  tr.appendChild(td2);\n                  document.getElementById('Tabella').appendChild(tr);\n              }\n              var ch = document.getElementsByName('categorie');\n              for (var i = ch.length; i--;) {\n                ch[i].onchange = function() {\n                  document.getElementById(\"btnAvanti\").disabled = false;\n                  document.getElementById(\"p_cat\").innerHTML = \"Categoria scelta: \" + this.value;\n                 }\n               }    \n            }\n            function eliminaduplicati(a) {\n              var temp = {};\n              for (var i = 0; i &lt; a.length; i++)\n                temp[a[i]] = true;\n                var r = [];\n                for (var k in temp)\n                  r.push(k);\n                  return r;\n            }\n            function populate() {\n              google.script.run.withSuccessHandler(estraicategorie).getValuesForRngName('rngListaCategorie');\n            }\n            &lt;/script&gt;\n            &lt;script  type=\"text/javascript\"&gt;\n              // Using the \"load\" event to execute the function \"populate\"\n              window.addEventListener('load', populate);\n            &lt;/script&gt;\n          &lt;/body&gt;\n        &lt;/html&gt;\n</code></pre>\n\n<p><strong>Scelta marchio.html</strong></p>\n\n<pre><code>            &lt;!DOCTYPE html&gt;\n            &lt;html style= \"background-color:#B7CEEC;\"&gt;\n              &lt;head&gt;\n                &lt;base target=\"_top\"&gt;\n              &lt;p id=\"p_cat\"&gt;&lt;/p&gt;&lt;p id=\"p_mar\"&gt;&lt;/p&gt;\n              &lt;/head&gt;\n              &lt;body&gt;\n            &lt;title&gt;TITOLO&lt;/title&gt;\n              &lt;div&gt;\n                &lt;form&gt;\n                  &lt;hr&gt;\n                  &lt;p style= \"text-align: center;\"&gt;Seleziona un &lt;b style= \"color:red;\"&gt;MARCHIO&lt;/b&gt;&lt;/p&gt;\n                  &lt;hr&gt;\n                  &lt;table id=\"Tabella\"&gt;\n\n                  &lt;/table&gt;\n                  &lt;div style=\"text-align: center;\"&gt;\n                    &lt;input style=\"font-size: 14px;\" type=\"submit\" id=\"btnIndietro\" value=\"&lt;-- Torna&gt;\" onclick= \"google.script.run.withSuccessHandler(google.script.host.close).ApriSceltaCategoria()\" /&gt;   \n                    &lt;input style=\"font-size: 14px;\" type=\"submit\" id=\"btnAvanti\" value=\"Avanti --&gt;\" onclick= \"google.script.run.withSuccessHandler(google.script.host.close).ApriSceltaProdotto()\" /&gt;   \n                  &lt;/div&gt;\n                &lt;/form&gt;\n              &lt;/div&gt;\n                &lt;hr&gt;\n                &lt;div style=\"float:right;\"&gt;\n                  &lt;input type=\"button\" value=\"Chiudi\" onclick=\"google.script.host.close()\" /&gt;\n                &lt;/div&gt;\n                &lt;script type=\"text/javascript\"&gt;\n                function estraimarchi (values) {\n                  document.getElementById(\"btnAvanti\").disabled = true;\n                  var categoria =              // HOW CAN I ACHIEVE THIS ??? \n                  var elencofiltratoXcat = [];\n                  for (var i = 0; i &lt; values.length; i +=1) {\n                    if (values [i][5] === categoria) {\n                      elencofiltratoXcat.push(values [i]);\n                    }\n                  }\n                  var elencofiltratomarchi = [];\n                  for (i = 0; i &lt; elencofiltratoXcat.length; i +=1) {\n                      elencofiltratomarchi.push(elencofiltratoXcat[i][1]);\n                  }\n                  var marchi = [];\n                  marchi = eliminaduplicati(elencofiltratomarchi);\n                  marchi.sort();\n                  for (i = 0;i &lt; marchi.length; i +=1) {\n                      var tr = document.createElement('tr');   \n                      var td1 = document.createElement('td');\n                      var td2 = document.createElement('td');\n                      var elemlabel = document.createElement('label');\n                      strlabel = \"\" + marchi [i] + \"\";\n                      elemlabel.innerHTML = strlabel.bold();\n                      var eleminput = document.createElement('input');\n                      eleminput.setAttribute('type', 'radio');\n                      eleminput.setAttribute('name', 'marchi');\n                      eleminput.setAttribute('value', marchi [i]);\n                      td1.appendChild(elemlabel);\n                      td2.appendChild(eleminput);\n                      tr.appendChild(td1);\n                      tr.appendChild(td2);\n                      document.getElementById('Tabella').appendChild(tr);\n                  }\n                  var ch = document.getElementsByName('marchi');\n                  for (var i = ch.length; i--;) {\n                    ch[i].onchange = function() {\n                      document.getElementById(\"btnAvanti\").disabled = false;\n                      document.getElementById(\"p_cat\").innerHTML = \"Categoria: \" + categoria;\n                      document.getElementById(\"p_mar\").innerHTML = \"Marchio: \" + this.value;\n                     }\n                   }    \n                }\n                function populate(){\n                  google.script.run.withSuccessHandler(estraimarchi).getValuesForRngName('rngListaCompleta');\n                }\n                function eliminaduplicati(a) {\n                  var temp = {};\n                  for (var i = 0; i &lt; a.length; i++)\n                    temp[a[i]] = true;\n                    var r = [];\n                    for (var k in temp)\n                      r.push(k);\n                      return r;\n                }    \n                &lt;/script&gt;\n                &lt;script&gt;\n                  // Using the \"load\" event to execute the function \"populate\"\n                  window.addEventListener('load', populate);\n                &lt;/script&gt;\n              &lt;/body&gt;\n            &lt;/html&gt;\n</code></pre>\n\n<p>As I commented in the code, the problem is when I try to pass values between dialogs. I try to use in Scelta Categoria.html</p>\n\n<pre><code>          document.getElementById(\"btnAvanti\").disabled = false;\n          document.getElementById(\"p_cat\").innerHTML = \"Categoria scelta: \" + this.value;\n          var userProperties = PropertiesService.getUserProperties();\n          var userCat = userProperties.setProperty('SceltaCategoria', '' + this.value + '');\n</code></pre>\n\n<p>but nothing to do.\nSure I can open another sheet and put user choice in A1 for example, then hide the sheet, but I reputate more quick if I can use variables.\nAny suggestion, try to remain in this context and not in web app ?\nThanx in advance and sorry for my bad english.</p>\n"}, {"tags": ["javascript", "node.js", "express"], "answers": [{"comments": [{"owner": {"reputation": 2072, "user_id": 3761234, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/35741ab2c9e12ad2a7257a51ea2e895f?s=128&d=identicon&r=PG", "display_name": "charsi", "link": "https://stackoverflow.com/users/3761234/charsi"}, "edited": false, "score": 0, "creation_date": 1487806856, "post_id": 42404374, "comment_id": 71955621, "body": "How is this different from <code>proxy_set_header</code> that I am already using? Would I be able to access them from client js this way?"}, {"owner": {"reputation": 25271, "user_id": 4989460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/627504df176d3faaec81c45c963235f4?s=128&d=identicon&r=PG&f=1", "display_name": "stdob--", "link": "https://stackoverflow.com/users/4989460/stdob"}, "reply_to_user": {"reputation": 2072, "user_id": 3761234, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/35741ab2c9e12ad2a7257a51ea2e895f?s=128&d=identicon&r=PG", "display_name": "charsi", "link": "https://stackoverflow.com/users/3761234/charsi"}, "edited": false, "score": 2, "creation_date": 1487806907, "post_id": 42404374, "comment_id": 71955646, "body": "<code>proxy_set_header</code> add header from client to server, but <code>add_header</code> add header from server to client."}, {"owner": {"reputation": 2072, "user_id": 3761234, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/35741ab2c9e12ad2a7257a51ea2e895f?s=128&d=identicon&r=PG", "display_name": "charsi", "link": "https://stackoverflow.com/users/3761234/charsi"}, "edited": false, "score": 0, "creation_date": 1487806988, "post_id": 42404374, "comment_id": 71955677, "body": "Ah okay I can see I am doing this the wrong way around then. Can the nginx headers be queried from client js?"}, {"owner": {"reputation": 25271, "user_id": 4989460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/627504df176d3faaec81c45c963235f4?s=128&d=identicon&r=PG&f=1", "display_name": "stdob--", "link": "https://stackoverflow.com/users/4989460/stdob"}, "reply_to_user": {"reputation": 2072, "user_id": 3761234, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/35741ab2c9e12ad2a7257a51ea2e895f?s=128&d=identicon&r=PG", "display_name": "charsi", "link": "https://stackoverflow.com/users/3761234/charsi"}, "edited": false, "score": 0, "creation_date": 1487807331, "post_id": 42404374, "comment_id": 71955810, "body": "@charsi Sorry, I misunderstood your question, you do not need to send headers to the client side, but pass them in the client javascript. In this case is suitable your version of the solution."}], "tags": [], "owner": {"reputation": 25271, "user_id": 4989460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/627504df176d3faaec81c45c963235f4?s=128&d=identicon&r=PG&f=1", "display_name": "stdob--", "link": "https://stackoverflow.com/users/4989460/stdob"}, "is_accepted": false, "score": 0, "last_activity_date": 1487806689, "creation_date": 1487806689, "answer_id": 42404374, "question_id": 42403809, "link": "https://stackoverflow.com/questions/42403809/passing-nginx-headers-to-client-through-nodejs/42404374#42404374", "title": "Passing nginx headers to client through nodejs", "body": "<p>You can do it use nginx <a href=\"http://nginx.org/en/docs/http/ngx_http_headers_module.html\" rel=\"nofollow noreferrer\"><code>add_header</code></a>:</p>\n\n<pre><code>location / {\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header GEOIP_COUNTRY_CODE $geoip_country_code;\n            proxy_set_header GEOIP_CITY $geoip_city;\n            proxy_set_header GEOIP_LATITUDE $geoip_latitude;\n            proxy_set_header GEOIP_LONGITUDE $geoip_longitude;\n\n            add_header geoip_country_code \"$geoip_country_code\" always;\n            add_header geoip_city \"$geoip_city\" always;\n\n            proxy_pass http://app:3000;\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2072, "user_id": 3761234, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/35741ab2c9e12ad2a7257a51ea2e895f?s=128&d=identicon&r=PG", "display_name": "charsi", "link": "https://stackoverflow.com/users/3761234/charsi"}, "is_accepted": true, "score": 2, "last_activity_date": 1487807396, "last_edit_date": 1495542716, "creation_date": 1487806732, "answer_id": 42404383, "question_id": 42403809, "link": "https://stackoverflow.com/questions/42403809/passing-nginx-headers-to-client-through-nodejs/42404383#42404383", "title": "Passing nginx headers to client through nodejs", "body": "<p>After a bit more google-fu i have answered my own question.</p>\n\n<p><a href=\"https://expressjs.com/en/api.html#res.locals\" rel=\"nofollow noreferrer\">res.locals</a> is the best way to do this in Express.</p>\n\n<p>So on the server now I am doing -- </p>\n\n<pre><code>router.get('/', function(req, res, next) {\n  res.locals.geoip_country_code = req.headers.geoip_country_code;\n  res.locals.geoip_city = req.headers.geoip_city;\n  res.render('index', { title: 'bla' });\n  console.log(req.headers);\n});\n</code></pre>\n\n<p>And in my Jade template I have --</p>\n\n<pre><code>script(type='text/javascript').\n    var geoip_city =!{JSON.stringify(geoip_city)}\n    var geoip_country_code = !{JSON.stringify(geoip_country_code)}\n</code></pre>\n\n<p>source : <a href=\"https://stackoverflow.com/questions/10919650/accessing-express-js-local-variables-in-client-side-javascript\">so/10919650/</a> (Bit intimidating that this was answered almost 5 years ago!)</p>\n"}], "owner": {"reputation": 2072, "user_id": 3761234, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/35741ab2c9e12ad2a7257a51ea2e895f?s=128&d=identicon&r=PG", "display_name": "charsi", "link": "https://stackoverflow.com/users/3761234/charsi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1152, "favorite_count": 0, "accepted_answer_id": 42404383, "answer_count": 2, "score": 0, "last_activity_date": 1487901649, "creation_date": 1487803903, "last_edit_date": 1487901649, "question_id": 42403809, "link": "https://stackoverflow.com/questions/42403809/passing-nginx-headers-to-client-through-nodejs", "title": "Passing nginx headers to client through nodejs", "body": "<p>I am trying to figure out what the best way would be to pass geoIP info of users to client-side javascript. I have configured nginx for this and am able to send the info to my node + express server. </p>\n\n<p>I don't know what the next step is. From googling around i can see the headers I am trying to send can't directly be read by js on client-side.</p>\n\n<p>This is what I have -- </p>\n\n<p>Nodejs--</p>\n\n<pre><code>router.get('/', function(req, res, next) {\n  res.setHeader(\"geoip_country_code\", req.headers.geoip_country_code);\n  res.setHeader(\"geoip_city\", req.headers.geoip_city);\n  res.render('index', { title: 'bla' });\n  console.log(req.headers);\n});\n</code></pre>\n\n<p>Nginx -- </p>\n\n<pre><code>location / {\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header GEOIP_COUNTRY_CODE $geoip_country_code;\n            proxy_set_header GEOIP_CITY $geoip_city;\n            proxy_set_header GEOIP_LATITUDE $geoip_latitude;\n            proxy_set_header GEOIP_LONGITUDE $geoip_longitude;\n            proxy_pass http://app:3000;\n        }\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "sails.js"], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 1522661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8510777f571f8ac131c960175b501edb?s=128&d=identicon&r=PG", "display_name": "wittyurchin", "link": "https://stackoverflow.com/users/1522661/wittyurchin"}, "edited": false, "score": 0, "creation_date": 1559124321, "post_id": 42411335, "comment_id": 99319798, "body": "Other uses of policies:- Applying no-cache headers for one/multiple routes OR checking for whitelisting or blacklisting for a particular api endpoint OR Checking if user has solved the captcha to access an api. Tell me if I am doing it wrong?"}], "tags": [], "owner": {"reputation": 8859, "user_id": 1766444, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/BkIjo.png?s=128&g=1", "display_name": "Marek Urbanowicz", "link": "https://stackoverflow.com/users/1766444/marek-urbanowicz"}, "is_accepted": false, "score": -1, "last_activity_date": 1487841070, "creation_date": 1487841070, "answer_id": 42411335, "question_id": 42403793, "link": "https://stackoverflow.com/questions/42403793/sails-js-middleware-vs-policies/42411335#42411335", "title": "Sails.js middleware vs. policies", "body": "<p><strong>POLICIES</strong></p>\n\n<p>Policies are supposed to be used for authentication. You should not use policies just to modify the request. It is ok to use them to modify the request if it is Auth related.</p>\n\n<p><strong>MIDDLEWARE</strong></p>\n\n<p>You should use middleware every time when you need to modify the request somehow(or response) but it is not anyhow auth related.</p>\n"}], "owner": {"reputation": 828, "user_id": 904521, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/166284c9080a1acbc75f8402ad709220?s=128&d=identicon&r=PG", "display_name": "Tomer Cagan", "link": "https://stackoverflow.com/users/904521/tomer-cagan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 455, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487841070, "creation_date": 1487803826, "last_edit_date": 1495540810, "question_id": 42403793, "link": "https://stackoverflow.com/questions/42403793/sails-js-middleware-vs-policies", "title": "Sails.js middleware vs. policies", "body": "<p>I am migrating a sails 0.10.5 (which was handed to me) to sails 0.12.x.</p>\n\n<p>The application is more or less an API that is used by a mobile (cordova/hybrid) client.</p>\n\n<p>As part of the migration, I want to rebuild some parts the proper sails way.</p>\n\n<p>I've asked a question about middleware which is partially related <a href=\"https://stackoverflow.com/questions/42229717/migrating-to-sails-js-0-12-middleware-migration\">here</a>.</p>\n\n<p>I am using passport for authentication (replacing old AuthController code) and now I am implemented JWT (choose not to use sails-auth for now).</p>\n\n<p>From what I've seen, in most cases, people use passport-JWT to authenticate/check if there is a valid token through a <strong>policy</strong>. </p>\n\n<p>In the previous implementation, (expressJwt) <strong>middleware</strong> was used to \"inject\" the user into the request and <code>req.user</code> is used in almost all my controller methods and is relied on in some of the existing policies. </p>\n\n<p>Taking policy-based approach will require (almost) all of my routes to have a <code>isAuthenticated</code> policy. This means that if someone forget to put the policy, the controller may fail or worse, a non-authenticated user may access the route.</p>\n\n<p>It is possible to use <code>*: 'isAuthenticated'</code> but since policies override and don't 'cascade', its possible for someone (who doesn't \"knows the ropes\") to do <code>somemethod: ['isThis','isThat']</code> without calling <code>isAuthenticated</code>, causing the same vulnerabilities.</p>\n\n<p>The question is - should I use a policy-based approach or does adding a custom middleware to do the authentication and add the user to request (I guess like what passport.session does, more or less) makes sense here?</p>\n\n<p>I am also using socket.io so does that changes something in favor of a policy-based or middleware-based approach? (I recall reading that \"fake\" socket routes are only passed through some of the middleware stack)</p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "edited": false, "score": 0, "creation_date": 1487803927, "post_id": 42403774, "comment_id": 71954508, "body": "I&#39;ve checked it out and it works. Did you attach jquery into your script?"}, {"owner": {"reputation": 8777, "user_id": 1386703, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o6Jbm.png?s=128&g=1", "display_name": "skobaljic", "link": "https://stackoverflow.com/users/1386703/skobaljic"}, "edited": false, "score": 2, "creation_date": 1487804070, "post_id": 42403774, "comment_id": 71954562, "body": "Script is fine, but you run it while <code>#insightera_widget_content</code> is not on page. It should be in callback function after you load its content, ok?"}, {"owner": {"reputation": 131, "user_id": 2340296, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/sNSia.jpg?s=128&g=1", "display_name": "Neela", "link": "https://stackoverflow.com/users/2340296/neela"}, "reply_to_user": {"reputation": 8777, "user_id": 1386703, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o6Jbm.png?s=128&g=1", "display_name": "skobaljic", "link": "https://stackoverflow.com/users/1386703/skobaljic"}, "edited": false, "score": 0, "creation_date": 1487804548, "post_id": 42403774, "comment_id": 71954729, "body": "@skobaljic but its loading from some third party js file. I cannot change anything there."}, {"owner": {"reputation": 417219, "user_id": 187606, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/zzxoB.jpg?s=128&g=1", "display_name": "Pekka", "link": "https://stackoverflow.com/users/187606/pekka"}, "edited": false, "score": 0, "creation_date": 1487805316, "post_id": 42403774, "comment_id": 71954997, "body": "What error message are you getting whenit&#39;s not working?"}, {"owner": {"reputation": 8777, "user_id": 1386703, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o6Jbm.png?s=128&g=1", "display_name": "skobaljic", "link": "https://stackoverflow.com/users/1386703/skobaljic"}, "edited": false, "score": 1, "creation_date": 1487805954, "post_id": 42403774, "comment_id": 71955239, "body": "Than you have to set <code>setTimeout</code> or <code>setInterval</code> and check for its existance. Maybe that third party script also triggers some window/element event, check it."}, {"owner": {"reputation": 48397, "user_id": 1123505, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2C22p.jpg?s=128&g=1", "display_name": "Michael Coker", "link": "https://stackoverflow.com/users/1123505/michael-coker"}, "reply_to_user": {"reputation": 8777, "user_id": 1386703, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o6Jbm.png?s=128&g=1", "display_name": "skobaljic", "link": "https://stackoverflow.com/users/1386703/skobaljic"}, "edited": false, "score": 0, "creation_date": 1487806740, "post_id": 42403774, "comment_id": 71955575, "body": "@skobaljic that&#39;s the answer I provided, but it was downvoted. Do you see anything wrong with that approach? Seems straight forward to me."}], "answers": [{"comments": [{"owner": {"reputation": 48397, "user_id": 1123505, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2C22p.jpg?s=128&g=1", "display_name": "Michael Coker", "link": "https://stackoverflow.com/users/1123505/michael-coker"}, "edited": false, "score": 0, "creation_date": 1487805710, "post_id": 42404008, "comment_id": 71955159, "body": "If you&#39;ve downvoted me, please tell me what&#39;s wrong with this answer so that I can improve and learn from my mistakes."}, {"owner": {"reputation": 589, "user_id": 4108345, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Harsh Kanakhara", "link": "https://stackoverflow.com/users/4108345/harsh-kanakhara"}, "edited": false, "score": 0, "creation_date": 1495102981, "post_id": 42404008, "comment_id": 75115578, "body": "@MichaelCoker : I don&#39;t know it is the proper way to solve to my issue but it works like a charm. Thank you."}], "tags": [], "owner": {"reputation": 48397, "user_id": 1123505, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2C22p.jpg?s=128&g=1", "display_name": "Michael Coker", "link": "https://stackoverflow.com/users/1123505/michael-coker"}, "is_accepted": true, "score": 3, "last_activity_date": 1487804862, "creation_date": 1487804862, "answer_id": 42404008, "question_id": 42403774, "link": "https://stackoverflow.com/questions/42403774/jquery-working-on-console-but-not-on-page/42404008#42404008", "title": "Jquery working on console but not on page", "body": "<p>Setup a <code>setInterval()</code> to check for the existence of the element, and once it finds it, run your jquery and clear the interval.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var interval = setInterval(function() {\r\n  if ($('#insightera_widget_content').length) {\r\n    $('#insightera_widget_content').delay(10000).fadeOut('slow');\r\n    clearInterval(interval);\r\n  }\r\n}, 1000)\r\n\r\n/* you don't need this part - just simulating the widget adding the code to the page */\r\nsetTimeout(function() {\r\n  $('body').append('&lt;div id=\"insightera_widget_content\"&gt;insightera_widget_content&lt;/div&gt;');\r\n}, 5000);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 131, "user_id": 2340296, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/sNSia.jpg?s=128&g=1", "display_name": "Neela", "link": "https://stackoverflow.com/users/2340296/neela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2415, "favorite_count": 0, "accepted_answer_id": 42404008, "answer_count": 1, "score": 2, "last_activity_date": 1540896239, "creation_date": 1487803764, "question_id": 42403774, "link": "https://stackoverflow.com/questions/42403774/jquery-working-on-console-but-not-on-page", "title": "Jquery working on console but not on page", "body": "<p>I am trying to hide a div after certain time once its loaded and its working when I do this in the console but it doesnt work when I put this code in the actual webpage.</p>\n\n<pre><code> (function ($) {\n  if ($('#insightera_widget_content').length) {\n  $('#insightera_widget_content').delay(10000).fadeOut('slow');\n  }\n}(jQuery));\n</code></pre>\n\n<p>The div <strong>insightera_widget_content</strong> cannot be seen when I view the source code as well, but I can see it on the Inspector. It loads from some external widget.</p>\n\n<p><a href=\"https://i.stack.imgur.com/qniME.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qniME.png\" alt=\"enter image description here\"></a> \nI have tried using the below to the page too and it doesn't work at all.</p>\n\n<pre><code>  &lt;script&gt;\n    $(document).ready(function() { \n    if ($('#insightera_widget_content').length) { \n    $('#insightera_widget_content').delay(10000).fadeOut('slow');}\n    }); \n    &lt;/script&gt;\n</code></pre>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "types"], "comments": [{"owner": {"reputation": 1751, "user_id": 156166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/663120570/picture?type=large", "display_name": "Rich Seviora", "link": "https://stackoverflow.com/users/156166/rich-seviora"}, "edited": false, "score": 0, "creation_date": 1487809905, "post_id": 42403729, "comment_id": 71956622, "body": "Can you include your ts file that references interact?"}, {"owner": {"reputation": 548, "user_id": 2698254, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fa0ce83435fa9559637d4b87c498b979?s=128&d=identicon&r=PG&f=1", "display_name": "James Adams", "link": "https://stackoverflow.com/users/2698254/james-adams"}, "reply_to_user": {"reputation": 1751, "user_id": 156166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/663120570/picture?type=large", "display_name": "Rich Seviora", "link": "https://stackoverflow.com/users/156166/rich-seviora"}, "edited": false, "score": 0, "creation_date": 1487826220, "post_id": 42403729, "comment_id": 71961393, "body": "I just solved it with a bit of a hack by putting : <code>declare var interact: Function;</code> at the top. The ts file is a few hundred lines, so best not to include it."}], "owner": {"reputation": 548, "user_id": 2698254, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fa0ce83435fa9559637d4b87c498b979?s=128&d=identicon&r=PG&f=1", "display_name": "James Adams", "link": "https://stackoverflow.com/users/2698254/james-adams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 912, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487803564, "creation_date": 1487803564, "question_id": 42403729, "link": "https://stackoverflow.com/questions/42403729/using-interactjs-with-typescript", "title": "Using InteractJs with Typescript", "body": "<p>I'm struggling to get the typings for interact into my typescript project.</p>\n\n<p>The only type file I found for InteractJs was here: <a href=\"https://github.com/taye/interact.js/blob/master/interact.d.ts\" rel=\"nofollow noreferrer\">https://github.com/taye/interact.js/blob/master/interact.d.ts</a></p>\n\n<p>So I can't install it using the standard npm @ type.</p>\n\n<p>Instead,  I created an interact folder within node_modules/@types, and placed the above type file. I then tried to reference it from within my ts file, and the compiler still winges that:</p>\n\n<blockquote>\n  <p>Cannot find type definition file for 'interact'.</p>\n</blockquote>\n\n<p>Any suggestions? </p>\n"}, {"tags": ["javascript", "html", "scrollable-table"], "comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 3, "creation_date": 1487803548, "post_id": 42403683, "comment_id": 71954375, "body": "So, where is your CSS?"}, {"owner": {"reputation": 1, "user_id": 2074325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaf0b0c2945fc1f16d80667f4a36a4c9?s=128&d=identicon&r=PG", "display_name": "user2074325", "link": "https://stackoverflow.com/users/2074325/user2074325"}, "reply_to_user": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1487817452, "post_id": 42403683, "comment_id": 71958826, "body": "sorry i forgot about it as I have many classes in the css file. you can check it now. thanks a lot"}], "answers": [{"comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 1, "creation_date": 1487817566, "post_id": 42404235, "comment_id": 71958858, "body": "This is not suitable as an answer. It should be a comment."}, {"owner": {"reputation": 1, "user_id": 2074325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaf0b0c2945fc1f16d80667f4a36a4c9?s=128&d=identicon&r=PG", "display_name": "user2074325", "link": "https://stackoverflow.com/users/2074325/user2074325"}, "edited": false, "score": 0, "creation_date": 1487818277, "post_id": 42404235, "comment_id": 71959060, "body": "sorry it was already over 10:30 or 11 pm when wrote this question but i couldn&#39;t post it just today. yep it is tr but i kept changing and changing so mistakenly posted th instead tr. the script is in main.js file not in the html that is why i an not using &lt;script&gt;."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1487871006, "post_id": 42404235, "comment_id": 71990440, "body": "It&#39;s not too late. Just copy the text and post it as a comment. Then delete the answer."}, {"owner": {"reputation": 61, "user_id": 7607735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BBjx2.png?s=128&g=1", "display_name": "Kasia", "link": "https://stackoverflow.com/users/7607735/kasia"}, "edited": false, "score": 0, "creation_date": 1487923992, "post_id": 42404235, "comment_id": 72011869, "body": "sorry. I&#39;m new here and didn&#39;t know how it works. I&#39;m trying to do what u suggested, but there is an info &#39;you must have 50 reputation to comment&#39; so I cannot ;/"}, {"owner": {"reputation": 1, "user_id": 2074325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaf0b0c2945fc1f16d80667f4a36a4c9?s=128&d=identicon&r=PG", "display_name": "user2074325", "link": "https://stackoverflow.com/users/2074325/user2074325"}, "edited": false, "score": 0, "creation_date": 1488151002, "post_id": 42404235, "comment_id": 72091401, "body": "Thanks for tour respond, I already updated my question to have the latest codes I have"}], "tags": [], "owner": {"reputation": 61, "user_id": 7607735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BBjx2.png?s=128&g=1", "display_name": "Kasia", "link": "https://stackoverflow.com/users/7607735/kasia"}, "is_accepted": false, "score": 0, "last_activity_date": 1487805936, "creation_date": 1487805936, "answer_id": 42404235, "question_id": 42403683, "link": "https://stackoverflow.com/questions/42403683/javascript-table-is-not-rendering-using-css/42404235#42404235", "title": "Javascript table is not rendering using CSS", "body": "<p>in  HTML you open \"th\" and close it as \"tr\". Secondly, please learn to write/format your code properly - it'll be easier to read your code and to help you.</p>\n\n<p>Besides, use the &lt; script > tag at the end of the HTML or run your JS in the function on event DOMContentLoaded</p>\n"}], "owner": {"reputation": 1, "user_id": 2074325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaf0b0c2945fc1f16d80667f4a36a4c9?s=128&d=identicon&r=PG", "display_name": "user2074325", "link": "https://stackoverflow.com/users/2074325/user2074325"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1487825528, "creation_date": 1487803392, "last_edit_date": 1487825528, "question_id": 42403683, "link": "https://stackoverflow.com/questions/42403683/javascript-table-is-not-rendering-using-css", "title": "Javascript table is not rendering using CSS", "body": "<p>I created a table using JavaScript, but it doesn't render using my css. so how can I make it work? actually i need more help, my idea is to create a screen that has one button and once you click on it a menu which is a table of one column starting at the top of the screen and end at the end of the screen should be showing. the table would be scrollable and each row has text (url text) with no url line under the text, so when you click on it the page open in all of the screen behind the table and the button. the button should be always showing (but it disappears when i click on it).\nthe main.js file is</p>\n\n<pre><code>     function makeTableHTML() {\n    var x = document.createElement(\"TABLE\");\n    x.setAttribute(\"id\", \"myTable\");\n\n    var myArray = [ [ \"Name, http://www.google.com\" ],\n            [ \"Name, http://www.google.com\" ] ];\n    var result = '&lt;table width = \"300\"&gt;';\n    for (var i = 0; i &lt; myArray.length; i++) {\n        result += \"&lt;tr&gt;&lt;td&gt;\";\n        if (i &lt; 10) {\n            result += \"0\" + i + \"  \";\n        } else {\n            result += i + \"  \";\n        }\n\n        result += '&lt;a href=\"' + myArray[i][0] + '\"&gt;';\n\n        result += myArray[i][1] + \"&lt;/a&gt;\";\n\n        result += \"&lt;td&gt;&lt;/tr&gt;\";\n\n    }\n    result += \"&lt;/table&gt;\";\n    document.write(result);\n    document.getElementById(\"channelsmenu\").classList.toggle(result);\n}\n\nfunction hideTableHTML() {\n    var x = document.getElementById('channelsmenu');\n    x.style.display = 'none';\n}\n</code></pre>\n\n<p>and my html is</p>\n\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n\n&lt;title&gt;5Star-IPTV&lt;/title&gt;\n\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"css/style.css\" /&gt;\n&lt;script src=\"js/main.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n    &lt;div&gt;\n        &lt;table&gt;\n            &lt;tr&gt;\n                &lt;td&gt;\n                    &lt;div id=\"channelsmenu\" class=\"dropdown-content\"&gt;&lt;/div&gt;\n\n                &lt;/td&gt;\n                &lt;td class=\"buttons-col\"&gt;&lt;input type=\"image\"\n                    src=\"channels-menu.png\" class=\"buttons\" alt=\"channels menue\"\n                    onMouseOver=\"this.src='channels-menu-1.png'\"\n                    onMouseOut=\"this.src='channels-menu.png'\" onclick=\"makeTableHTML()\" /&gt;&lt;/td&gt;\n                &lt;td class=\"buttons-col\"&gt;&lt;input type=\"image\"\n                    src=\"return-button.png\" alt=\"return button\" class=\"buttons\"\n                    onMouseOver=\"this.src='return-button-1.png'\"\n                    onMouseOut=\"this.src='return-button.png'\" onclick=\"hideTableHTML()\" /&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>and this is the css</p>\n\n<pre><code>table {\n    width: 100%;\n    border: 1px solid black;\n    background-color: #808080;\n}\n\ntr {\n    width: 100%;\n    align: right;\n}\n\nth, td {\n    text-align: right;\n}       background-color: #808080;\n}\n\n.buttons-col {\n    text-align: center;\n    width: 90px;\n    padding-top: 5px;\n}\n</code></pre>\n"}, {"tags": ["javascript", "mongodb"], "comments": [{"owner": {"reputation": 240688, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 3, "creation_date": 1487803445, "post_id": 42403661, "comment_id": 71954328, "body": "Just a typo in the collection name? <code>db.activeCustomer</code> without &quot;s&quot; ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5589534"}, "reply_to_user": {"reputation": 240688, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 0, "creation_date": 1487803912, "post_id": 42403661, "comment_id": 71954502, "body": "ok, now I feel dumb, thanks! (and sorry for wasting server space with the question)"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5589534"}, "is_accepted": false, "score": 0, "last_activity_date": 1487804015, "creation_date": 1487804015, "answer_id": 42403837, "question_id": 42403661, "link": "https://stackoverflow.com/questions/42403661/mongodb-update-by-id-with-set-not-working/42403837#42403837", "title": "MongoDB update by id (with $set) not working", "body": "<p>Ok, it's just a typo in:</p>\n\n<pre><code>db.activeCustomer.update({...\n</code></pre>\n\n<p>it should be activeCustomer<strong>s</strong></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5589534"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1120, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1487804015, "creation_date": 1487803289, "question_id": 42403661, "link": "https://stackoverflow.com/questions/42403661/mongodb-update-by-id-with-set-not-working", "title": "MongoDB update by id (with $set) not working", "body": "<p>I've been searching for an explanation on this (I'm obviously doing something wrong) with no luck so far, I have this collection on my DB:</p>\n\n<pre><code>db.activeCustomers.find().pretty();\n{\n    \"_id\" : ObjectId(\"58ade8f280648c78cee70b5a\"),\n    \"name\" : \"Gustavo\",\n    \"lastName\" : \"Lara\",\n    \"age\" : 25,\n    \"hobbies\" : [\n        \"rubik\",\n        \"guitar\",\n        \"games\"\n    ],\n    \"sex\" : \"male\"\n}\n{\n    \"_id\" : ObjectId(\"58ade8f280648c78cee70b5b\"),\n    \"name\" : \"Diana\",\n    \"lastName\" : \"Lara\",\n    \"age\" : 23,\n    \"sex\" : \"female\"\n}\n{ \"_id\" : ObjectId(\"58ade8f280648c78cee70b5c\"), \"sex\" : \"female\" }\n{\n    \"_id\" : ObjectId(\"58adf5a65da705df647fcbe0\"),\n    \"name\" : \"Juan\",\n    \"lastName\" : \"P\u00e9rez\",\n    \"age\" : 34,\n    \"sex\" : \"male\"\n}\n</code></pre>\n\n<p>And I want to update the 3rd object (the one with just _id and sex) using this:</p>\n\n<pre><code>db.activeCustomer.update({_id: ObjectId(\"58ade8f280648c78cee70b5c\")}, {$set: {name: \"Myrna\", lastName: \"Guerrero\", age: 26}});\n</code></pre>\n\n<p>but no data is updated, I get this:</p>\n\n<pre><code>WriteResult({ \"nMatched\" : 0, \"nUpserted\" : 0, \"nModified\" : 0 })\n</code></pre>\n\n<p>According to <a href=\"https://specify.io/how-tos/mongodb-update-documents\" rel=\"nofollow noreferrer\">this</a>, I'm doing it right, maybe I'm doing a wrong combination of the API functionality, or it's a version thing? Thanks in advance.</p>\n\n<p>P.S. I'm using mongo v3.4.1</p>\n"}, {"tags": ["javascript", "google-analytics", "shopify"], "comments": [{"owner": {"reputation": 8381, "user_id": 2391544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/467ef01929e3f897f6a745419b0b8bb3?s=128&d=identicon&r=PG&f=1", "display_name": "nyuen", "link": "https://stackoverflow.com/users/2391544/nyuen"}, "edited": false, "score": 0, "creation_date": 1487810811, "post_id": 42403650, "comment_id": 71956863, "body": "Do you have the jQuery library loaded? Why not use native JS? If you&#39;re waiting for the <code>load</code> event to fire your checkout event, then there&#39;s a possibility that the user navigates to another page or exits the site, while the  analytics library is still loading, meaning you&#39;d miss the checkout event altogether."}, {"owner": {"reputation": 4213, "user_id": 4621100, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh5.googleusercontent.com/-BanGQaFKyzM/AAAAAAAAAAI/AAAAAAAAA_E/ZZaXEax3SZg/photo.jpg?sz=128", "display_name": "Jackson Cunningham", "link": "https://stackoverflow.com/users/4621100/jackson-cunningham"}, "reply_to_user": {"reputation": 8381, "user_id": 2391544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/467ef01929e3f897f6a745419b0b8bb3?s=128&d=identicon&r=PG&f=1", "display_name": "nyuen", "link": "https://stackoverflow.com/users/2391544/nyuen"}, "edited": false, "score": 0, "creation_date": 1487811886, "post_id": 42403650, "comment_id": 71957183, "body": "It&#39;s on the Shopify checkout page which we don&#39;t actually have access to the source code. Jquery is loaded on the rest of my site but might not be getting loaded in time for this. What would the native JS look like?"}], "owner": {"reputation": 4213, "user_id": 4621100, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh5.googleusercontent.com/-BanGQaFKyzM/AAAAAAAAAAI/AAAAAAAAA_E/ZZaXEax3SZg/photo.jpg?sz=128", "display_name": "Jackson Cunningham", "link": "https://stackoverflow.com/users/4621100/jackson-cunningham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 297, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487806056, "creation_date": 1487803231, "question_id": 42403650, "link": "https://stackoverflow.com/questions/42403650/firing-a-custom-google-analytics-conversion-event-on-shopify-thank-you-page", "title": "Firing a custom Google Analytics conversion event on Shopify Thank You Page", "body": "<p>I'm trying to fire a custom GA event on the checkout page but unable to figure it out. I've implemented the easy Shopify setup where I just add my GA account to Online Store > Preferences.</p>\n\n<p>On my checkout additional scripts:</p>\n\n<p></p>\n\n<pre><code>ga('create', 'UA-********-1', 'auto');\nga('send', {\n  hitType: 'event',\n  eventCategory: 'Pricing Experiment',\n  eventAction: 'Purchase',\n  eventLabel: version,\n  eventValue: '{{ total_price | money_without_currency }}'\n});    \n</code></pre>\n\n<p></p>\n\n<p>This gives a \"GA not defined error\". I tried adding the GA script directly:</p>\n\n<pre><code>&lt;script&gt;\n    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n    m=s.getElementsByTagName(o)\n    [0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n\n    ga('create', 'UA-********-1', 'auto');\n    ga('send', {\n      hitType: 'event',\n      eventCategory: 'Pricing Experiment',\n      eventAction: 'Purchase',\n      eventLabel: version,\n      eventValue: '{{ total_price | money_without_currency }}'\n    });    \n&lt;/script&gt;\n</code></pre>\n\n<p>This change removes the error in the console but the event is still not firing in GA. Finally, I tried another solution I found:</p>\n\n<pre><code>&lt;script&gt;\n  $(window).ready(function() {\n    $('head script[async][src*=\"analytics\"]').on('load', function() {\n      ga('send', 'event', 'checkout', 'complete');\n    });\n  });\n&lt;/script&gt;\n</code></pre>\n\n<p>But this just gives me \"$\" is not defined. Tried switching for jQuery and I get \"jQuery is not defined\".</p>\n\n<p>Where am I going wrong? How can I send a simple event???</p>\n"}, {"tags": ["javascript", "arrays", "memory", "v8"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1487803210, "post_id": 42403625, "comment_id": 71954249, "body": "In a word? Optimization."}, {"owner": {"reputation": 8327, "user_id": 45974, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/04361eba6e039eecdd3458e2545f03e6?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/45974/tom"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1487803381, "post_id": 42403625, "comment_id": 71954310, "body": "@T.J.Crowder thanks for the correction; would still like to know how one can optimize the persistence of the amount of data in different ways based on the method that the array was instantiated"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1487804349, "post_id": 42403625, "comment_id": 71954669, "body": "Sorry, didn&#39;t mean my deleted comment as a <i>correction</i>, just as a collegial joke. Sorry if that didn&#39;t come across."}], "answers": [{"comments": [{"owner": {"reputation": 18838, "user_id": 6036428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b632c15ba23e78e466c8d33d657378fe?s=128&d=identicon&r=PG&f=1", "display_name": "jmrk", "link": "https://stackoverflow.com/users/6036428/jmrk"}, "edited": false, "score": 2, "creation_date": 1487844930, "post_id": 42403724, "comment_id": 71971324, "body": "(V8 developer here) This is correct. When you use the <code>Array(n)</code> constructor, V8 can allocate exactly as much space as you&#39;ll need. When you create an empty Array (using <code>[]</code> or <code>new Array()</code>) and keep adding elements to it, V8 grows the backing store in chunks, so at the time you stop adding elements, there might still be some unused pre-allocated backing store."}], "tags": [], "owner": {"reputation": 1878, "user_id": 2052686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aacd4ac796422a4296637920ccdee504?s=128&d=identicon&r=PG", "display_name": "rasmeister", "link": "https://stackoverflow.com/users/2052686/rasmeister"}, "is_accepted": true, "score": 2, "last_activity_date": 1487805380, "last_edit_date": 1487805380, "creation_date": 1487803542, "answer_id": 42403724, "question_id": 42403625, "link": "https://stackoverflow.com/questions/42403625/in-v8-why-does-a-preallocated-array-consume-less-memory/42403724#42403724", "title": "In V8 why does a preallocated array consume less memory?", "body": "<p>I believe this has to do with the way array memory is allocated. When you instantiate an array giving it a specific size as you are in the second example, it will allocate that memory.</p>\n\n<p>When you grow the array it will allocate a small amount of extra space to handle growth and then as you grow the array the additional memory allocations will get bigger. This results in extra free space in the first example.</p>\n"}, {"tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": false, "score": 1, "last_activity_date": 1487803587, "creation_date": 1487803587, "answer_id": 42403740, "question_id": 42403625, "link": "https://stackoverflow.com/questions/42403625/in-v8-why-does-a-preallocated-array-consume-less-memory/42403740#42403740", "title": "In V8 why does a preallocated array consume less memory?", "body": "<p>I don't find this surprising at all. Although standard arrays <a href=\"http://blog.niftysnippets.org/2011/01/myth-of-arrays.html\" rel=\"nofollow noreferrer\">aren't really arrays at all</a>*, JavaScript engines default to optimization: Treating them as though they were really arrays when they can.</p>\n\n<p>In your first example, V8 doesn't know how big each of the arrays is going to get&nbsp;&mdash; it just keeps growing, and in order to treat it as an optimized array (rather than an object with special properties), V8 has to keep reallocating and copying to make it bigger periodically. So it's not surprising that the most recent proactive allocation left a lot of extra room in case it kept growing.</p>\n\n<p>In your second example, you've given V8 a big old clue in advance of how big you intend to make the array. So it's reasonable that V8 would use that information to optimize the allocation it does for the underlying true array.</p>\n\n<hr>\n\n<p>* <em>(that's a post on my anemic little blog)</em></p>\n"}], "owner": {"reputation": 8327, "user_id": 45974, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/04361eba6e039eecdd3458e2545f03e6?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/45974/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "accepted_answer_id": 42403724, "answer_count": 2, "score": 0, "last_activity_date": 1487805380, "creation_date": 1487803112, "last_edit_date": 1487803319, "question_id": 42403625, "link": "https://stackoverflow.com/questions/42403625/in-v8-why-does-a-preallocated-array-consume-less-memory", "title": "In V8 why does a preallocated array consume less memory?", "body": "<p>Consider the following two alternatives:</p>\n\n<pre><code>  const mb_before = process.memoryUsage().heapUsed / 1024 / 1024;\n  const n = 15849;\n  const o = 115;\n  const entries = [];\n  for (var i = 0; i &lt; n; i++) {\n    const subarr = [];\n    for (var j = 0; j &lt; o; j++) {\n      subarr.push(Math.random());\n    }\n    entries.push(subarr);\n  }\n  const mb_after = process.memoryUsage().heapUsed / 1024 / 1024;\n  console.log('arr using ' + (mb_after - mb_before) + ' megabyte');\n  // arr using 15.110992431640625 megabyte\n</code></pre>\n\n<p>and</p>\n\n<pre><code>  const mb_before = process.memoryUsage().heapUsed / 1024 / 1024;\n  const n = 15849;\n  const o = 115;\n  const entries = new Array(n);\n  for (var i = 0; i &lt; n; i++) {\n    const subarr = new Array(o);\n    for (var j = 0; j &lt; o; j++) {\n      subarr[j] = Math.random();\n    }\n    entries[i] = subarr;\n  }\n  const mb_after = process.memoryUsage().heapUsed / 1024 / 1024;\n  console.log('arr using ' + (mb_after - mb_before) + ' megabyte');\n  // arr using 12.118911743164062 megabyte\n</code></pre>\n\n<p>From my understanding the two arrays' size should be identical, only the way they were instantiated differs. How can it be explained that the resulting memory usage is consistently different?</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 25271, "user_id": 4989460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/627504df176d3faaec81c45c963235f4?s=128&d=identicon&r=PG&f=1", "display_name": "stdob--", "link": "https://stackoverflow.com/users/4989460/stdob"}, "edited": false, "score": 0, "creation_date": 1487803605, "post_id": 42403624, "comment_id": 71954397, "body": "It is very difficult to understand your problem. Can you add jsfiddle with explanations?"}, {"owner": {"reputation": 3235, "user_id": 1148244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z8rdM.jpg?s=128&g=1", "display_name": "Pabs123", "link": "https://stackoverflow.com/users/1148244/pabs123"}, "edited": false, "score": 0, "creation_date": 1487803656, "post_id": 42403624, "comment_id": 71954426, "body": "when is the <code>hasClass</code> check being run? all of this code looks fine so it&#39;s almost certain that the issue is you&#39;re checking <code>hasClass</code> in the wrong place"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1487803725, "post_id": 42403624, "comment_id": 71954445, "body": "Your code is adding the <code>slideUp</code> class, as programmed. You have no definition of <code>.slideUp</code> in your CSS, so it doesn&#39;t do much, but it&#39;s doing what it was told to do..."}, {"owner": {"reputation": 1923, "user_id": 1336678, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6267999b774a82952cd62fb1c9b859fc?s=128&d=identicon&r=PG&f=1", "display_name": "Our_Benefactors", "link": "https://stackoverflow.com/users/1336678/our-benefactors"}, "edited": false, "score": 0, "creation_date": 1487803795, "post_id": 42403624, "comment_id": 71954471, "body": "where is the slideUp css? If there are no styles defined, it will add the class but that class won&#39;t do anything."}, {"owner": {"reputation": 4105, "user_id": 645627, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13cc30084aa2fc8de5192b634c871b36?s=128&d=identicon&r=PG", "display_name": "Jako", "link": "https://stackoverflow.com/users/645627/jako"}, "edited": false, "score": 1, "creation_date": 1487803813, "post_id": 42403624, "comment_id": 71954479, "body": "Do you mean <code>.slideUp()</code>?"}, {"owner": {"reputation": 460, "user_id": 3845671, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ebdc522c6ca3a9775227b44319a569ed?s=128&d=identicon&r=PG&f=1", "display_name": "Huginn", "link": "https://stackoverflow.com/users/3845671/huginn"}, "reply_to_user": {"reputation": 3235, "user_id": 1148244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z8rdM.jpg?s=128&g=1", "display_name": "Pabs123", "link": "https://stackoverflow.com/users/1148244/pabs123"}, "edited": false, "score": 0, "creation_date": 1487858244, "post_id": 42403624, "comment_id": 71980794, "body": "Apologies for the confusion. I&#39;d purposefully left out the <code>slideUp</code> CSS animation due to the actual animation wasn&#39;t the point of focus. @Pabs123 I think has hit on the issue though. @Pabs123 it currently <code>$(document).ready(function() {</code> so you&#39;re probably right. It&#39;s running only once at document ready. Is there a way to have the script constantly monitor for the change so that it can update?"}], "answers": [{"comments": [{"owner": {"reputation": 460, "user_id": 3845671, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ebdc522c6ca3a9775227b44319a569ed?s=128&d=identicon&r=PG&f=1", "display_name": "Huginn", "link": "https://stackoverflow.com/users/3845671/huginn"}, "edited": false, "score": 0, "creation_date": 1487880137, "post_id": 42421065, "comment_id": 71995544, "body": "Good call on this @Pabs123. I found my answer in a function getSlideByAnchor(slideAnchor, section)"}], "tags": [], "owner": {"reputation": 3235, "user_id": 1148244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z8rdM.jpg?s=128&g=1", "display_name": "Pabs123", "link": "https://stackoverflow.com/users/1148244/pabs123"}, "is_accepted": true, "score": 1, "last_activity_date": 1487866858, "creation_date": 1487866858, "answer_id": 42421065, "question_id": 42403624, "link": "https://stackoverflow.com/questions/42403624/hasclass-addclass-updates-based-on-hashtag-update/42421065#42421065", "title": "hasClass addClass updates based on hashtag update", "body": "<p>From your last comment, just add the slideUp class at the same time as you add the active class (basically on the click listener for the nav)</p>\n"}], "owner": {"reputation": 460, "user_id": 3845671, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ebdc522c6ca3a9775227b44319a569ed?s=128&d=identicon&r=PG&f=1", "display_name": "Huginn", "link": "https://stackoverflow.com/users/3845671/huginn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 42421065, "answer_count": 1, "score": 0, "last_activity_date": 1487866858, "creation_date": 1487803109, "last_edit_date": 1487803476, "question_id": 42403624, "link": "https://stackoverflow.com/questions/42403624/hasclass-addclass-updates-based-on-hashtag-update", "title": "hasClass addClass updates based on hashtag update", "body": "<p>I'm running into a snag on a simple <code>.hasClass</code> <code>.addClass</code> concept. I have a full page layout that matches my media devices viewport. When you scroll or click on the nav it jumps to the next corresponding div by way of the transference of a <code>active</code> class.</p>\n\n<p>What I'm hoping to do is <code>addClass</code> to the <code>active</code> divs img inside it to apply an animation into the page. For some reason though, this is just not working out for me. As the <code>active</code> class transfers the img doesn't update with it. </p>\n\n<p>Thoughts? </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  if ( $('.section').hasClass('active') ) {\r\n    $('.active img').addClass('slideUp');\r\n  }</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.section { min-height: 200px; background:rgba(0,0,0,0.15); padding: 15px; }\r\n.active img { background:rgba(0,0,0,1);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"section active\" id=\"section0\"&gt;\r\n\t\t&lt;img src=\"http://www.smashbros.com/images/character/kirby/main.png\"&gt;\r\n\t&lt;/div&gt;\r\n \r\n \t&lt;div class=\"section\" id=\"section1\"&gt;\r\n\t\t&lt;img src=\"https://kirby.nintendo.com/planet-robobot/assets/img/home/copy-kirby.png\"&gt;\r\n\t&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "angularjs", "ng-repeat"], "comments": [{"owner": {"reputation": 3335, "user_id": 4812515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-fxpyA0DpmoE/AAAAAAAAAAI/AAAAAAAAABY/XTBU5YBFdW8/photo.jpg?sz=128", "display_name": "alphapilgrim", "link": "https://stackoverflow.com/users/4812515/alphapilgrim"}, "edited": false, "score": 0, "creation_date": 1487810041, "post_id": 42403602, "comment_id": 71956655, "body": "what does you CSS look like for the layout?"}], "answers": [{"tags": [], "owner": {"reputation": 3335, "user_id": 4812515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-fxpyA0DpmoE/AAAAAAAAAAI/AAAAAAAAABY/XTBU5YBFdW8/photo.jpg?sz=128", "display_name": "alphapilgrim", "link": "https://stackoverflow.com/users/4812515/alphapilgrim"}, "is_accepted": false, "score": 0, "last_activity_date": 1487810891, "creation_date": 1487810891, "answer_id": 42405085, "question_id": 42403602, "link": "https://stackoverflow.com/questions/42403602/reloading-ng-repeat-renders-the-new-list-before-removing-the-old-list/42405085#42405085", "title": "Reloading ng-repeat renders the new list before removing the old list", "body": "<p>I think it maybe your CSS for the layout, not exactly sure. But I'm including a <a href=\"http://codepen.io/tlombrana22/pen/ZezVrP\" rel=\"nofollow noreferrer\">pen</a> that might be able to help. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function exampleController($scope, exampleFactory, $timeout) {\r\n  $scope.list = [];\r\n  $scope.listContainerWidth = '???';\r\n\r\n  $scope.refreshList = function() {\r\n    $scope.list = [];\r\n    $scope.listContainerWidth = '???';\r\n    $scope.listContainerWidth = document.querySelector('.ul').clientWidth;\r\n    $timeout(function() {\r\n      getList();\r\n    }, 1000);\r\n  };\r\n\r\n  function getList() {\r\n    exampleFactory\r\n      .getList()\r\n      .then(function(list) {\r\n        $scope.list = list;\r\n      });\r\n  }\r\n\r\n  getList();\r\n}\r\n\r\nfunction exampleFactory($http) {\r\n  var root = 'http://jsonplaceholder.typicode.com';\r\n\r\n  function getList() {\r\n    return $http.get(root + '/comments')\r\n      .then(function(resp) {\r\n        return resp.data;\r\n      });\r\n  }\r\n  return {\r\n    getList: getList\r\n  };\r\n}\r\n\r\nangular\r\n  .module('app', [])\r\n  .controller('exampleController', exampleController)\r\n  .factory('exampleFactory', exampleFactory);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.container-fluid {\r\n  background-color: #1D1F20;\r\n  color: #fff;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  button {\r\n    margin-top: 20%;\r\n  }\r\n}\r\n\r\nul li {\r\n  list-style: none;\r\n  margin: 10px;\r\n}\r\n\r\n.child-padding&gt;div {\r\n  padding: 2px;\r\n}\r\n\r\n.col-md-2 {\r\n  position: fixed;\r\n  button {\r\n    margin-bottom: 10%;\r\n  }\r\n}\r\n\r\n.circle-bound {\r\n  float: left;\r\n  text-align: center;\r\n  border-radius: 50%;\r\n  width: 25%;\r\n  background-color: #0bf;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.2.23/angular.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div class=\"container-fluid\" ng-app=\"app\"&gt;\r\n  &lt;div class=\"container\" ng-controller=\"exampleController\"&gt;\r\n    &lt;div class=\"row\"&gt;\r\n      &lt;div class=\"col-md-2 text-center\"&gt;\r\n        &lt;button class=\"btn btn-primary\" type=\"button\" ng-click=\"refreshList()\"&gt;Refresh Comment List&lt;/button&gt;\r\n        &lt;div class=\"circle-bound\" ng-bind=\"listContainerWidth\"&gt;&lt;/div&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=\"col-md-10 pull-right\"&gt;\r\n        &lt;ul class=\"ul\"&gt;\r\n          &lt;li ng-repeat=\"comment in list track by $index\"&gt;\r\n            &lt;div class=\"child-padding\"&gt;\r\n              &lt;div ng-bind=\"comment.email\"&gt;&lt;/div&gt;\r\n              &lt;div ng-bind=\"comment.body\"&gt;&lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=\"pull-right\" ng-bind=\"comment.name\"&gt;&lt;/div&gt;\r\n          &lt;/li&gt;\r\n        &lt;/ul&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 3179, "user_id": 3161811, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/66vhu.jpg?s=128&g=1", "display_name": "Shmili Breuer", "link": "https://stackoverflow.com/users/3161811/shmili-breuer"}, "is_accepted": true, "score": 1, "last_activity_date": 1489160378, "last_edit_date": 1495540439, "creation_date": 1489160378, "answer_id": 42722264, "question_id": 42403602, "link": "https://stackoverflow.com/questions/42403602/reloading-ng-repeat-renders-the-new-list-before-removing-the-old-list/42722264#42722264", "title": "Reloading ng-repeat renders the new list before removing the old list", "body": "<p>I found the reason why it happens It's because I didn't track the ng-repeat by anything, add =ing a track by $index solved the issue.</p>\n\n<p>See this question and answers <a href=\"https://stackoverflow.com/questions/24144970/angular-ng-repeat-causes-flickering\">Angular ng-repeat causes flickering</a></p>\n"}], "owner": {"reputation": 3179, "user_id": 3161811, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/66vhu.jpg?s=128&g=1", "display_name": "Shmili Breuer", "link": "https://stackoverflow.com/users/3161811/shmili-breuer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 521, "favorite_count": 0, "accepted_answer_id": 42722264, "answer_count": 2, "score": 2, "last_activity_date": 1489160378, "creation_date": 1487802983, "question_id": 42403602, "link": "https://stackoverflow.com/questions/42403602/reloading-ng-repeat-renders-the-new-list-before-removing-the-old-list", "title": "Reloading ng-repeat renders the new list before removing the old list", "body": "<p>I need to measure the width of the UL that contains LI's with an ng-repeat \nthe first time it works great. however when reloading the data the width comes in as double the real width I believe it is due to angular rendering the new LI's before removing the old LI's</p>\n\n<p>How can I first remove the old LI's before rendering the new ones</p>\n\n<p>P.S. If I put a timeout of 1000 it works fine however I don't wanna wait 1 second every time.</p>\n\n<pre><code>&lt;ul class='ul'&gt;\n     &lt;li ng-repeat=\"thing in data.things\" class=\"buyer_li\" ng-init=\"$last &amp;&amp; getUlWidth()\"&gt;\n          &lt;p&gt;{{thing.detail}}\n     &lt;/li&gt;\n&lt;/ul&gt;\n&lt;button ng-click=\"reloadData()\"&gt;Reload&lt;/button&gt;\n\n\n\n$scope.getUlWidth = function(){\n\n    setTimeout(function() {\n        $scope.ulWidth = document.querySelector('.ul').clientWidth;\n\n    }, 0);\n}\n\n$scope.reloadData = function(){\n     //reloadDataFunc;\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "redux", "tdd", "react-redux"], "answers": [{"comments": [{"owner": {"reputation": 11324, "user_id": 4694781, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/db2063935189c90374d7d1fc11765bb8?s=128&d=identicon&r=PG&f=1", "display_name": "PositiveGuy", "link": "https://stackoverflow.com/users/4694781/positiveguy"}, "edited": false, "score": 0, "creation_date": 1487804075, "post_id": 42403829, "comment_id": 71954564, "body": "I was pretty sure that if you don&#39;t use Provider (or setting context in options for enzyme), that connect would just pick it up from straight props...?  I also tried using &lt;Provider /&gt; with still no luck"}, {"owner": {"reputation": 1124, "user_id": 1751277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0110543d2381a81df2412b253a248dc9?s=128&d=identicon&r=PG&f=1", "display_name": "floriangosse", "link": "https://stackoverflow.com/users/1751277/floriangosse"}, "reply_to_user": {"reputation": 11324, "user_id": 4694781, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/db2063935189c90374d7d1fc11765bb8?s=128&d=identicon&r=PG&f=1", "display_name": "PositiveGuy", "link": "https://stackoverflow.com/users/4694781/positiveguy"}, "edited": false, "score": 0, "creation_date": 1487804158, "post_id": 42403829, "comment_id": 71954600, "body": "No, <code>connect</code> depends on the store which is passed via the context."}, {"owner": {"reputation": 11324, "user_id": 4694781, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/db2063935189c90374d7d1fc11765bb8?s=128&d=identicon&r=PG&f=1", "display_name": "PositiveGuy", "link": "https://stackoverflow.com/users/4694781/positiveguy"}, "edited": false, "score": 0, "creation_date": 1487804289, "post_id": 42403829, "comment_id": 71954643, "body": "still not working:  store = fakeStore(state), container = &lt;HomePageContainer /&gt;;  const homePageContainer = shallow(container, { context: { store } }),"}, {"owner": {"reputation": 11324, "user_id": 4694781, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/db2063935189c90374d7d1fc11765bb8?s=128&d=identicon&r=PG&f=1", "display_name": "PositiveGuy", "link": "https://stackoverflow.com/users/4694781/positiveguy"}, "edited": false, "score": 0, "creation_date": 1487804356, "post_id": 42403829, "comment_id": 71954675, "body": "I disagree that you  -must- pass via context in tests.  You -can-, that&#39;s one way, but I&#39;ve gotten it to pass via straight props before, see my update in a few seconds here that I&#39;ll post.  So pretty sure straight prop with no context should be fine, I even get enzyme errors telling me that.  So that&#39;s why this is so weird, that this time in this other test suite, it&#39;s not working..."}, {"owner": {"reputation": 1124, "user_id": 1751277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0110543d2381a81df2412b253a248dc9?s=128&d=identicon&r=PG&f=1", "display_name": "floriangosse", "link": "https://stackoverflow.com/users/1751277/floriangosse"}, "reply_to_user": {"reputation": 11324, "user_id": 4694781, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/db2063935189c90374d7d1fc11765bb8?s=128&d=identicon&r=PG&f=1", "display_name": "PositiveGuy", "link": "https://stackoverflow.com/users/4694781/positiveguy"}, "edited": false, "score": 0, "creation_date": 1487804729, "post_id": 42403829, "comment_id": 71954788, "body": "I found the problem. To access the props you might use <code>wrapper.props()</code> to get the props object. I will update the answer."}, {"owner": {"reputation": 1124, "user_id": 1751277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0110543d2381a81df2412b253a248dc9?s=128&d=identicon&r=PG&f=1", "display_name": "floriangosse", "link": "https://stackoverflow.com/users/1751277/floriangosse"}, "reply_to_user": {"reputation": 11324, "user_id": 4694781, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/db2063935189c90374d7d1fc11765bb8?s=128&d=identicon&r=PG&f=1", "display_name": "PositiveGuy", "link": "https://stackoverflow.com/users/4694781/positiveguy"}, "edited": false, "score": 0, "creation_date": 1487804869, "post_id": 42403829, "comment_id": 71954836, "body": "And you&#39;re right: You can pass the store via props to the connected component."}, {"owner": {"reputation": 11324, "user_id": 4694781, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/db2063935189c90374d7d1fc11765bb8?s=128&d=identicon&r=PG&f=1", "display_name": "PositiveGuy", "link": "https://stackoverflow.com/users/4694781/positiveguy"}, "edited": false, "score": 0, "creation_date": 1487805069, "post_id": 42403829, "comment_id": 71954912, "body": "I feel like it&#39;s something with how I&#39;m creating my container component because mapStateToProps is still receiving undefined for state.company"}, {"owner": {"reputation": 1124, "user_id": 1751277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0110543d2381a81df2412b253a248dc9?s=128&d=identicon&r=PG&f=1", "display_name": "floriangosse", "link": "https://stackoverflow.com/users/1751277/floriangosse"}, "reply_to_user": {"reputation": 11324, "user_id": 4694781, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/db2063935189c90374d7d1fc11765bb8?s=128&d=identicon&r=PG&f=1", "display_name": "PositiveGuy", "link": "https://stackoverflow.com/users/4694781/positiveguy"}, "edited": false, "score": 0, "creation_date": 1487805146, "post_id": 42403829, "comment_id": 71954933, "body": "Another thing I found out that you must wrap the object you want to return in <code>mapStateToProps</code> in parenthese: <code>export const mapStateToProps = state =&gt; ({ company: state.company });</code>."}], "tags": [], "owner": {"reputation": 1124, "user_id": 1751277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0110543d2381a81df2412b253a248dc9?s=128&d=identicon&r=PG&f=1", "display_name": "floriangosse", "link": "https://stackoverflow.com/users/1751277/floriangosse"}, "is_accepted": false, "score": 0, "last_activity_date": 1487805256, "last_edit_date": 1487805256, "creation_date": 1487803993, "answer_id": 42403829, "question_id": 42403582, "link": "https://stackoverflow.com/questions/42403582/cannot-persist-store-connected-components-react-redux-tests/42403829#42403829", "title": "Cannot Persist Store Connected Components - React-Redux Tests", "body": "<h1>Problem</h1>\n\n<p>At this line you pass the store as a prop into <code>&lt;HomePageContainer&gt;</code>:</p>\n\n<pre><code>// ...\ncontainer = &lt;HomePageContainer store={store} /&gt;;\n// ...\n</code></pre>\n\n<p>But <code>connect()</code> needs the store via context.</p>\n\n<p>And you must wrap the object you want to return in <code>mapStateToProps</code> in parenthese.</p>\n\n<h1>Solution</h1>\n\n<p>You can use <code>shallow()</code> to make the store available as a context property.</p>\n\n<pre><code>it.only('passes props to children', () =&gt; {\n    const state = {\n        company: {\n            name: 'Company A'\n        }\n    };\n    const store = fakeStore(state);\n\n    const homePageContainer = shallow(\n        &lt;HomePageContainer /&gt;,\n        // Make the store available via context\n        { context: { store } }\n    );\n\n    const homePage = homePageContainer.find(HomePage);\n    expect(homePage.props().company.name).to.equal(state.company.name)\n});\n</code></pre>\n\n<p>Updated <code>mapStateToProps</code>:</p>\n\n<pre><code>export const mapStateToProps = state =&gt; ({\n    company: state.company\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11324, "user_id": 4694781, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/db2063935189c90374d7d1fc11765bb8?s=128&d=identicon&r=PG&f=1", "display_name": "PositiveGuy", "link": "https://stackoverflow.com/users/4694781/positiveguy"}, "is_accepted": false, "score": 0, "last_activity_date": 1487806696, "creation_date": 1487806696, "answer_id": 42404375, "question_id": 42403582, "link": "https://stackoverflow.com/questions/42403582/cannot-persist-store-connected-components-react-redux-tests/42404375#42404375", "title": "Cannot Persist Store Connected Components - React-Redux Tests", "body": "<p>Found out the problem was really my helper.</p>\n\n<p>This was passing a object with property \"state\" in it.  Not what I want.  That would have meant that mapStateToProps would have had to reference the props with state.state.somePropName</p>\n\n<pre><code>const fakeStore = (state) =&gt; {\n    return {\n            default: () =&gt; {},\n            subscribe: () =&gt; {},\n            dispatch: () =&gt; {},\n            getState: () =&gt; { return { state };\n        },\n    };\n};\n</code></pre>\n\n<p>changed it to this, and now mapStateToProps is working fine, it's able to access it with the props as the root level of the object literal, the object I passed in from my test:</p>\n\n<p>const fakeStore = (state) => ({</p>\n\n<pre><code>    default: () =&gt; {},\n    subscribe: () =&gt; {},\n    dispatch: () =&gt; {},\n    getState: () =&gt; ({ ...state })\n});\n</code></pre>\n"}], "owner": {"reputation": 11324, "user_id": 4694781, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/db2063935189c90374d7d1fc11765bb8?s=128&d=identicon&r=PG&f=1", "display_name": "PositiveGuy", "link": "https://stackoverflow.com/users/4694781/positiveguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1487806696, "creation_date": 1487802885, "last_edit_date": 1487804392, "question_id": 42403582, "link": "https://stackoverflow.com/questions/42403582/cannot-persist-store-connected-components-react-redux-tests", "title": "Cannot Persist Store Connected Components - React-Redux Tests", "body": "<p>I cannot figure out why this is not working:</p>\n\n<p><strong>-spec.js</strong></p>\n\n<pre><code>it.only('passes props to children', () =&gt; {\n    const state = {\n        company: {\n            name: 'Company A'\n        }\n    },\n        store = fakeStore(state),\n        container = &lt;HomePageContainer store={store} /&gt;;\n\n    const homePageContainer = shallow(container),\n        homePage = homePageContainer.find(HomePage);\n\n    expect(homePage.props.company.name).to.equal(state.company.name)\n});\n\nconst fakeStore = state =&gt; {\n    return {\n        default: () =&gt; {},\n        subscribe: () =&gt; {},\n        dispatch: () =&gt; {},\n        getState: () =&gt; { return { state };\n        },\n    };\n};\n</code></pre>\n\n<p><strong>HomePageContainer.js</strong></p>\n\n<pre><code>import React from 'react';\nimport { connect } from 'react-redux'\nimport HomePage from '../../client/components/HomePage';\n\nexport const mapStateToProps = state =&gt; {\n    company: state.company\n}\n\nexport { HomePage }\nexport default connect(mapStateToProps)(HomePage);\n</code></pre>\n\n<p><strong>HomePage.js</strong></p>\n\n<pre><code>import React, { Component, PropTypes } from 'react';\n\nexport default class HomePage extends Component {\n    render(){\n        return (\n            &lt;div className='homepage'&gt;\n                {/*{this.props.company.name}*/}\n            &lt;/div&gt;\n        )\n    }\n}\n</code></pre>\n\n<p>I'm getting this type error because props.<strong>company</strong> is undefined so for some reason it's not persisting state to :</p>\n\n<pre><code>TypeError: Cannot read property 'name' of undefined\n</code></pre>\n\n<p>That error is relating to the assert when it's trying to read <code>expect(homePage.props.company.name)</code></p>\n\n<p>I notice that when putting a breakpoint inside mapStateToProps, that it's not picking up the state object from the store still for some reason:</p>\n\n<p><a href=\"https://i.stack.imgur.com/t8FnN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t8FnN.png\" alt=\"enter image description here\"></a></p>\n\n<p>I know you can pass just the store via props...and if there's nothing in the context, connect() will be able to find it via the store prop.  For example in another test suite, this passes just fine:</p>\n\n<pre><code>it('shallow render container and dive into child', () =&gt; {\n    const container = shallow(&lt;ExampleContainer store={fakeStore({})}/&gt;);\n\n    expect(container.find(Example).dive().text()).to.equal('Andy');\n});\n</code></pre>\n"}, {"tags": ["javascript", "c#", "asp.net", "debugging", "model-view-controller"], "comments": [{"owner": {"reputation": 63413, "user_id": 159270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Sh4jD.jpg?s=128&g=1", "display_name": "Aristos", "link": "https://stackoverflow.com/users/159270/aristos"}, "edited": false, "score": 0, "creation_date": 1487805576, "post_id": 42403567, "comment_id": 71955100, "body": "this is what you looking for : <a href=\"http://stackoverflow.com/questions/10135028/write-to-iis-log-from-an-asp-net-application/10135085#10135085\" title=\"write to iis log from an asp net application\">stackoverflow.com/questions/10135028/&hellip;</a>"}, {"owner": {"reputation": 55, "user_id": 830884, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/yye6V.png?s=128&g=1", "display_name": "Rushman", "link": "https://stackoverflow.com/users/830884/rushman"}, "reply_to_user": {"reputation": 63413, "user_id": 159270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Sh4jD.jpg?s=128&g=1", "display_name": "Aristos", "link": "https://stackoverflow.com/users/159270/aristos"}, "edited": false, "score": 0, "creation_date": 1487894030, "post_id": 42403567, "comment_id": 72002299, "body": "Why was I down voted for a valid question? If you don&#39;t like my question at least be polite and tell me why you down voted me. Sheesh."}, {"owner": {"reputation": 63413, "user_id": 159270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Sh4jD.jpg?s=128&g=1", "display_name": "Aristos", "link": "https://stackoverflow.com/users/159270/aristos"}, "edited": false, "score": 0, "creation_date": 1487927275, "post_id": 42403567, "comment_id": 72013597, "body": "You show no effort at all to solve or implement your idea, your problem in general and you left to others to search and propose... do you have see how the questions are made on help ? (I did not downvote only because -2 are enough for your level, but this is not a valid question)"}], "answers": [{"tags": [], "owner": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "is_accepted": false, "score": 1, "last_activity_date": 1487803573, "creation_date": 1487803573, "answer_id": 42403734, "question_id": 42403567, "link": "https://stackoverflow.com/questions/42403567/asp-net-mvc-html-website-debugging-console/42403734#42403734", "title": "ASP.Net MVC/HTML Website Debugging console", "body": "<p>There are many <em>mature</em> logging frameworks out there. I suggest you to evaluate them first, before making your own.</p>\n\n<ul>\n<li><a href=\"http://elmah.github.io/\" rel=\"nofollow noreferrer\">elmah</a></li>\n<li><a href=\"https://logging.apache.org/log4net/\" rel=\"nofollow noreferrer\">log4net</a></li>\n<li><a href=\"http://nlog-project.org/\" rel=\"nofollow noreferrer\">NLog</a></li>\n<li><a href=\"https://azure.microsoft.com/en-us/services/application-insights/\" rel=\"nofollow noreferrer\">Application Insights</a></li>\n</ul>\n"}], "owner": {"reputation": 55, "user_id": 830884, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/yye6V.png?s=128&g=1", "display_name": "Rushman", "link": "https://stackoverflow.com/users/830884/rushman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "closed_date": 1487927297, "answer_count": 1, "score": -2, "last_activity_date": 1487803696, "creation_date": 1487802816, "last_edit_date": 1487803696, "question_id": 42403567, "link": "https://stackoverflow.com/questions/42403567/asp-net-mvc-html-website-debugging-console", "closed_reason": "Not suitable for this site", "title": "ASP.Net MVC/HTML Website Debugging console", "body": "<p>I was thinking about adding a console like window to my asp.net mvc/HTML5 web application that would show the state of the application as well as what was happening at the time it happens.</p>\n\n<p>I would love to be able to browse to a website that I build and open a separate window to follow the flow (for both JavaScript and C#) so that I could catch bugs, measure length of time for processes, maybe follow gets/posts/puts...</p>\n\n<p>Any suggestions? Comments? Concerns?</p>\n"}, {"tags": ["javascript", "arrays", "loops", "input"], "comments": [{"owner": {"reputation": 3210, "user_id": 1425882, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/087039a00851e75ff483470e3aba89c9?s=128&d=identicon&r=PG", "display_name": "Farzin Kanzi", "link": "https://stackoverflow.com/users/1425882/farzin-kanzi"}, "edited": false, "score": 0, "creation_date": 1487803518, "post_id": 42403525, "comment_id": 71954361, "body": "So where is the prompt?"}, {"owner": {"reputation": 29, "user_id": 7607640, "user_type": "registered", "profile_image": "https://graph.facebook.com/1719720821651391/picture?type=large", "display_name": "Sharry", "link": "https://stackoverflow.com/users/7607640/sharry"}, "reply_to_user": {"reputation": 3210, "user_id": 1425882, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/087039a00851e75ff483470e3aba89c9?s=128&d=identicon&r=PG", "display_name": "Farzin Kanzi", "link": "https://stackoverflow.com/users/1425882/farzin-kanzi"}, "edited": false, "score": 0, "creation_date": 1487878779, "post_id": 42403525, "comment_id": 71994746, "body": "That&#39;s what I am trying to do. I do not know how to set it up so that the prompt will show up and loop for however many times the user input for it.  Or do you mean the prompt asking for the size of the array, before the loop? I used input type=text instead of a new window prompt. Does that affect things?"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 7607640, "user_type": "registered", "profile_image": "https://graph.facebook.com/1719720821651391/picture?type=large", "display_name": "Sharry", "link": "https://stackoverflow.com/users/7607640/sharry"}, "edited": false, "score": 0, "creation_date": 1487881624, "post_id": 42403807, "comment_id": 71996394, "body": "Thank you for the response! I updated my code, but it is not showing up the prompts... I have a feeling it is something about my sizeInput that is causing it not to work..."}, {"owner": {"reputation": 3210, "user_id": 1425882, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/087039a00851e75ff483470e3aba89c9?s=128&d=identicon&r=PG", "display_name": "Farzin Kanzi", "link": "https://stackoverflow.com/users/1425882/farzin-kanzi"}, "reply_to_user": {"reputation": 29, "user_id": 7607640, "user_type": "registered", "profile_image": "https://graph.facebook.com/1719720821651391/picture?type=large", "display_name": "Sharry", "link": "https://stackoverflow.com/users/7607640/sharry"}, "edited": false, "score": 0, "creation_date": 1487885715, "post_id": 42403807, "comment_id": 71998703, "body": "I added a code snippet with some edits in your code. Please look and let me know the result."}, {"owner": {"reputation": 29, "user_id": 7607640, "user_type": "registered", "profile_image": "https://graph.facebook.com/1719720821651391/picture?type=large", "display_name": "Sharry", "link": "https://stackoverflow.com/users/7607640/sharry"}, "edited": false, "score": 0, "creation_date": 1487887997, "post_id": 42403807, "comment_id": 71999894, "body": "I noticed you moved the submit information into the first function, added &quot;.value&quot;, and added &quot;onclick=&quot;javascript: loopFunction();&quot; to the html. If you don&#39;t mind explaining, why is that? Especially with the onclick. I thought having it in the script was enough. Thank you again. I definitely have more I need to research about js!"}, {"owner": {"reputation": 3210, "user_id": 1425882, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/087039a00851e75ff483470e3aba89c9?s=128&d=identicon&r=PG", "display_name": "Farzin Kanzi", "link": "https://stackoverflow.com/users/1425882/farzin-kanzi"}, "reply_to_user": {"reputation": 29, "user_id": 7607640, "user_type": "registered", "profile_image": "https://graph.facebook.com/1719720821651391/picture?type=large", "display_name": "Sharry", "link": "https://stackoverflow.com/users/7607640/sharry"}, "edited": false, "score": 0, "creation_date": 1487888454, "post_id": 42403807, "comment_id": 72000105, "body": "I did not add <code>javascript: loopFunction();</code> to html, and I do not know what is this. In the js cod you have not any function named <code>loopFunction</code>."}], "tags": [], "owner": {"reputation": 3210, "user_id": 1425882, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/087039a00851e75ff483470e3aba89c9?s=128&d=identicon&r=PG", "display_name": "Farzin Kanzi", "link": "https://stackoverflow.com/users/1425882/farzin-kanzi"}, "is_accepted": false, "score": 1, "last_activity_date": 1487885638, "last_edit_date": 1487885638, "creation_date": 1487803876, "answer_id": 42403807, "question_id": 42403525, "link": "https://stackoverflow.com/questions/42403525/loop-a-code-n-times-in-javascript-n-determined-by-user-input/42403807#42403807", "title": "Loop a code n times in javascript, n determined by user input?", "body": "<p>Your inputValues is empty. You need to add this:</p>\n\n<pre><code>    var inputValues = new Array();\n    for (var i = 0; i &lt; sizeInput; i++)\n    {\n        inputValues.push(prompt('Enter the value'));\n\n    }\n</code></pre>\n\n<p>it gives you an array like this: [\"1\", \"2\", \"3\"]</p>\n\n<p>But if you want your array has int values do this:</p>\n\n<pre><code>for (var i = 0; i &lt; 5; i++)\n    {\n        inputValues.push(parseInt(prompt('Enter the value')));//[1,2,3]\n    }\n</code></pre>\n\n<p>By your explanations <code>var sizeInput = document.getElementById(\"sizeInput\");</code> </p>\n\n<p>sizeInput is a number that user entered. If it is for example 5 and you want the array has [0,1,2,3,4] you need to do this:</p>\n\n<pre><code>  for (var i = 0; i &lt; sizeInput; i++)\n  {\n    inputValues.push(i);\n  }\n</code></pre>\n\n<p>You have many problems in your code, I edited all in code snippet below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;head&gt;\r\n    &lt;script type=\"text/javascript\"&gt;\r\n        window.onload = function ()\r\n        {\r\n            document.getElementById('ifYes').style.display = 'none';\r\n            document.getElementById('ifNo').style.display = 'none';\r\n            var submit = document.getElementById('submit');\r\n            submit.onclick = function ()\r\n            {\r\n                getTheData();\r\n            }\r\n        }\r\n\r\n        function yesnoCheck()\r\n        {\r\n            if (document.getElementById('yesCheck').onclick)\r\n            {\r\n                document.getElementById('ifYes').style.display = 'block';\r\n                document.getElementById('ifNo').style.display = 'none';\r\n            }\r\n            else if (document.getElementById('noCheck').onclick)\r\n            {\r\n                document.getElementById('ifNo').style.display = 'block';\r\n                document.getElementById('ifYes').style.display = 'none';\r\n            }\r\n        }\r\n\r\n        function getTheData()\r\n        {\r\n            var sizeInput = document.getElementById(\"sizeInput\").value;\r\n            var inputValues = new Array();\r\n\r\n            for (var i = 0; i &lt; sizeInput; i++)\r\n            {\r\n                inputValues.push(prompt('Enter the value'));\r\n\r\n            }\r\n\r\n        }\r\n    &lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    Please choose what you wanna do:&lt;br&gt;\r\n\r\n    &lt;input type=\"button\" onclick=\"javascript: yesnoCheck();\" name=\"yesno\" id=\"yesCheck\" value=\"Create Array\" /&gt;\r\n\r\n\r\n    &lt;input type=\"button\" onclick=\"javascript: yesnoCheck();\" name=\"yesno\" id=\"noCheck\" value=\"Search Array\" /&gt;\r\n\r\n\r\n    &lt;br&gt;\r\n    &lt;div id=\"ifYes\" style=\"display: none\"&gt;\r\n        &lt;br&gt;\r\n        Please input the size of the array.&lt;br&gt;\r\n        &lt;br&gt;\r\n        &lt;input type=\"text\" class=\"sizeInput\" id=\"sizeInput\" /&gt;\r\n        &lt;br /&gt;\r\n        &lt;br&gt;\r\n        &lt;input type=\"button\" onclick=\"javascript: loopFunction();\" name=\"submit\" id=\"submit\" value=\"Submit\" /&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n    &lt;div id=\"ifNo\" style=\"display: none\"&gt;&lt;/div&gt;\r\n\r\n    &lt;div id=\"showInputValues\"&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 29, "user_id": 7607640, "user_type": "registered", "profile_image": "https://graph.facebook.com/1719720821651391/picture?type=large", "display_name": "Sharry", "link": "https://stackoverflow.com/users/7607640/sharry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 880, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1487885638, "creation_date": 1487802650, "last_edit_date": 1487882041, "question_id": 42403525, "link": "https://stackoverflow.com/questions/42403525/loop-a-code-n-times-in-javascript-n-determined-by-user-input", "title": "Loop a code n times in javascript, n determined by user input?", "body": "<p>I'm trying to offer a text box in which the user can enter the size of the array to create, hit submit, then a prompt will appear that many times, each time asking for an integer to put in the array. </p>\n\n<p>This is what I have so far:</p>\n\n<p><a href=\"http://codepen.io/sharryliang0730/pen/pRMqOm\" rel=\"nofollow noreferrer\">http://codepen.io/sharryliang0730/pen/pRMqOm</a></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;script type=\"text/javascript\"&gt;\n\n    window.onload = function() {\n        document.getElementById('ifYes').style.display = 'none';\n        document.getElementById('ifNo').style.display = 'none';\n             }\n\nfunction yesnoCheck() {\nif (document.getElementById('yesCheck').onclick) {\n    document.getElementById('ifYes').style.display = 'block';\n    document.getElementById('ifNo').style.display = 'none';\n} \nelse if(document.getElementById('noCheck').onclick) {\n    document.getElementById('ifNo').style.display = 'block';\n    document.getElementById('ifYes').style.display = 'none';\n   }\n}\n\n\n            var submit = document.getElementById('submit');\n    submit.onclick = function() {\ngetTheData() ;\n}\n\n\n\nfunction getTheData() {\n   var sizeInput = document.getElementById(\"sizeInput\");\n   var inputValues = new Array();\n\n    for (var i = 0; i &lt; sizeInput; i++){\n    inputValues.push(prompt('Enter the value'));\n\n     }\n\n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\nPlease choose what you wanna do:&lt;br&gt;\n\n&lt;input type=\"button\" onclick=\"javascript:yesnoCheck();\" name=\"yesno\" id=\"yesCheck\" value=\"Create Array\"/&gt;\n\n\n&lt;input type=\"button\" onclick=\"javascript:yesnoCheck();\" name=\"yesno\" id=\"noCheck\"value=\"Search Array\"/&gt;\n\n\n&lt;br&gt;\n&lt;div id=\"ifYes\" style=\"display:none\"&gt;\n&lt;br&gt; Please input the size of the array.&lt;br&gt;&lt;br&gt;\n&lt;input type=\"text\" class=\"sizeInput\" id=\"sizeInput\" /&gt; &lt;br/&gt;&lt;br&gt;\n&lt;input type=\"button\" name=\"submit\"    id=\"submit\" value=\"Submit\"/&gt;\n&lt;/div&gt;\n\n\n&lt;div id=\"ifNo\" style=\"display:none\"&gt;\n\n&lt;div id=\"showInputValues\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>EDIT: I added in the suggested code, but it is still not working. Am I missing something?</p>\n"}, {"tags": ["javascript", "babeljs", "vue.js"], "comments": [{"owner": {"reputation": 4540, "user_id": 2803743, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2rIoo.jpg?s=128&g=1", "display_name": "kano", "link": "https://stackoverflow.com/users/2803743/kano"}, "edited": false, "score": 0, "creation_date": 1488027046, "post_id": 42403502, "comment_id": 72055007, "body": "What do you mean by holding a component in a database? I hope you mean the component&#39;s data is in the database, not the whole component file itself? The latter would be just bad design in my opinion. You&#39;d want the actual files to still exist in a directory, so your loader (e.g. webpack) could fetch them quick and then inside the component (or a controller) query for its data."}, {"owner": {"reputation": 43, "user_id": 5687321, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000840589255/picture?type=large", "display_name": "Luiz Fernando Softov", "link": "https://stackoverflow.com/users/5687321/luiz-fernando-softov"}, "reply_to_user": {"reputation": 4540, "user_id": 2803743, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2rIoo.jpg?s=128&g=1", "display_name": "kano", "link": "https://stackoverflow.com/users/2803743/kano"}, "edited": false, "score": 0, "creation_date": 1488590111, "post_id": 42403502, "comment_id": 72314045, "body": "I just don&#39;t want to use webpack (loader). Webpack is a new approach, it&#39;s great, but I just don&#39;t like it.  I just like to lazy load components, and made this components editable, like a CMS for components.  All backend (REST) is written in C. I just want some html and js loaded on demand according with the user request, and the admin can change the component logic using a UI admin based.  I don&#39;t know if I made myself clear, and don&#39;t care if its a bad design. A fell years latter, loading all in one pack was a bad thing, now guys like you are saying that this is the best way."}, {"owner": {"reputation": 4540, "user_id": 2803743, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2rIoo.jpg?s=128&g=1", "display_name": "kano", "link": "https://stackoverflow.com/users/2803743/kano"}, "edited": false, "score": 0, "creation_date": 1488884572, "post_id": 42403502, "comment_id": 72419474, "body": "It&#39;s not &#39;guys like me&#39; saying that it&#39;s the best way. It&#39;s the standards and new technologies dictating it. HTTP/2 benefits greatly from multiple small files instead of one monolith. Your caching also improves greatly. What&#39;s not to love? If you don&#39;t care bout bad design, I&#39;m afraid I&#39;m unable to help you at this point.. Also, not to sound harsh, but hope you check your tone next time you contribute on Stack Overflow. The community here is great and we&#39;re all trying to chip in for the greater good of the web."}], "owner": {"reputation": 43, "user_id": 5687321, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000840589255/picture?type=large", "display_name": "Luiz Fernando Softov", "link": "https://stackoverflow.com/users/5687321/luiz-fernando-softov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 483, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487802550, "creation_date": 1487802550, "question_id": 42403502, "link": "https://stackoverflow.com/questions/42403502/vuejs-require-component-on-demand", "title": "Vuejs - require component on demand", "body": "<p>I'm trying to load components on demand, according with the page.\nBecause there is some components in database.</p>\n\n<p>The user can access the page, like: </p>\n\n<p><a href=\"http://example.com/blog/post01\" rel=\"nofollow noreferrer\">http://example.com/blog/post01</a></p>\n\n<p><a href=\"http://example.com/blog/post02\" rel=\"nofollow noreferrer\">http://example.com/blog/post02</a></p>\n\n<p><a href=\"http://example.com/blog/post03\" rel=\"nofollow noreferrer\">http://example.com/blog/post03</a></p>\n\n<p>Then, I want to load the component from database according with the parameter.\npost01, post02, post03</p>\n\n<pre><code>&lt;template&gt;\n  &lt;div&gt;\n  &lt;testblock&gt;&lt;/testblock&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n&lt;script&gt;\nmodule.exports = {\n  components: {\n    'testblock': function (resolve) {\n      console.log(this);\n      /* this is just por test purpose to load the component using parameters */\n      let name = 'teste';\n      let path = ['./static/', name, '.html'].join('');\n      console.log(path);\n      require(['./database/post01.html'], resolve);\n    }\n  },\n  computed: {},\n  data: function () {\n    return {\n      post: 'post01'\n    };\n  },\n  methods: {},\n  mounted: function () {\n\n  }\n};\n&lt;/script&gt;\n</code></pre>\n\n<p>But, I always getting something like \nERROR in ..../~/babel-loader\nModule not found: Error: Cannot resolve 'file' or 'directory' ./database/post01.html</p>\n\n<p>I Just wan't to load/require from a file that is not in project directory, like in database or another path (using nginx alias).\nIs there a way to load components in this way?</p>\n"}, {"tags": ["javascript", "jquery", "oop"], "comments": [{"owner": {"reputation": 1335, "user_id": 5190086, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/H1ZZq.jpg?s=128&g=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/5190086/josh"}, "edited": false, "score": 0, "creation_date": 1487802333, "post_id": 42403417, "comment_id": 71953882, "body": "put your <code>foo</code> function inside of the <code>.ready</code> block scope."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1487802398, "post_id": 42403417, "comment_id": 71953916, "body": "Works fine: <a href=\"https://jsfiddle.net/a5e99gmp/\" rel=\"nofollow noreferrer\">jsfiddle.net/a5e99gmp</a>"}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1487802901, "post_id": 42403417, "comment_id": 71954144, "body": "because <i>something</i> is overriding it."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1487803049, "post_id": 42403417, "comment_id": 71954203, "body": "Try <code>console.log(bar)</code> to see what it actually is."}], "owner": {"reputation": 13, "user_id": 4628739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d7565f54535c4976f3361d91e55780c?s=128&d=identicon&r=PG", "display_name": "chadarsenault", "link": "https://stackoverflow.com/users/4628739/chadarsenault"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487803253, "creation_date": 1487802197, "last_edit_date": 1487803253, "question_id": 42403417, "link": "https://stackoverflow.com/questions/42403417/creating-an-instance-of-a-global-variable-inside-document-ready", "title": "Creating an instance of a global variable inside $(document).ready();", "body": "<p>I have the following code:</p>\n\n<pre><code>var foo = function() {\n    this.init = function() {\n        alert('hiya');\n    };\n};\n\n$(document).ready(function() {\n    var bar = new foo();\n    bar.init();\n});\n</code></pre>\n\n<p>which results in:</p>\n\n<pre><code>Uncaught TypeError: bar.init is not a function\n</code></pre>\n\n<p>However, if I pull the new object instantiation and the .init() call out of the document.ready function, everything works as expected.</p>\n\n<p>Why does jQuery's document ready not allow me to instantiate a new instance of a globally-defined function?</p>\n\n<p><strong>Edit:</strong> KevinB was right, foo existed elsewhere in our codebase.  I doubted that was the case as \"foo\" in the real-world instance is actually the unlikely-named \"L8.contact_form_handler()\", but apparently someone else was using that same unlikely naming scheme.</p>\n"}, {"tags": ["javascript", "css"], "comments": [{"owner": {"reputation": 738, "user_id": 5367133, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb0740063ae0d7c8ef2d946bdbd1b5c7?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/5367133/patrick"}, "edited": false, "score": 0, "creation_date": 1487802342, "post_id": 42403374, "comment_id": 71953888, "body": "You want to insert the div after the last item in the row?"}, {"owner": {"reputation": 1878, "user_id": 2052686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aacd4ac796422a4296637920ccdee504?s=128&d=identicon&r=PG", "display_name": "rasmeister", "link": "https://stackoverflow.com/users/2052686/rasmeister"}, "edited": false, "score": 0, "creation_date": 1487802579, "post_id": 42403374, "comment_id": 71953998, "body": "What exactly is going to be your HTML structure, and what is that you are trying to count? Are these div&#39;s within a div, or is this a table with &lt;tr&gt;&#39;s and &lt;td&gt;&#39;s? The codepen example doesn&#39;t have legal HTML."}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1487802720, "post_id": 42403374, "comment_id": 71954067, "body": "You want to add a <code>div</code> after an amount of <code>.box</code> elements? If the amount for example is 3 then you want this: <code>.box - .box - .box - DIV - .box - .box - .box - DIV - .box ...</code>?"}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1487802966, "post_id": 42403374, "comment_id": 71954168, "body": "Can you clarify what you mean by &quot;items&quot; and &quot;row&quot;?"}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1487803230, "post_id": 42403539, "comment_id": 71954254, "body": "Instead of <code>$(p + &quot; &gt; &quot; + c)</code>, <code>$(p).children(c)</code> might be clearer."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1487803289, "post_id": 42403539, "comment_id": 71954276, "body": "@Barmar Yes, but I left it with the OP&#39;s syntax to illustrate what the issue was."}], "tags": [], "owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "is_accepted": false, "score": 0, "last_activity_date": 1487802707, "creation_date": 1487802707, "answer_id": 42403539, "question_id": 42403374, "link": "https://stackoverflow.com/questions/42403374/how-to-count-items-in-row-and-append-div-after/42403539#42403539", "title": "How to count items in row and append div after", "body": "<p>This doesn't address the insertion of the <code>div</code>, but it does address what's wrong with the code right now.</p>\n\n<p>These lines:</p>\n\n<pre><code>var parentSelector = $('.container');\nvar childSelector = $('.box');\n</code></pre>\n\n<p>go and get you a JQuery wrapped set of matching elements. They are not valid as selectors, so when you then try to do this:</p>\n\n<pre><code>$(parentSelector + \" &gt; \" + childSelector).each(function(){\n</code></pre>\n\n<p>The code crashes because you are not using strings here, you are using objects.</p>\n\n<p>Instead, just pass the values as strings directly to the function.</p>\n\n<p>Also, you bump up <code>count</code> by <code>1</code> if you are trying to get the number of elements found.</p>\n\n<p>Lastly, don't initialize variables at <code>undefined</code> as this is what they will initialize at if you don't initialize them at all. Instead, initialize them at 'null' and check for that.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function countFirstRowItems(p, c){\r\n\r\n  var count = 1, theTop = null;\r\n \r\n  $(p + \" &gt; \" + c).each(function(){\r\n    var thisTop = $(this).offset().top;\r\n    console.log(this);\r\n    \r\n    if(!theTop){\r\n      theTop = thisTop;\r\n    }\r\n    \r\n    if(thisTop != theTop){\r\n      return false;\r\n    }\r\n    \r\n    count++;\r\n });\r\n  \r\n  return count;\r\n}\r\n\r\nconsole.log(countFirstRowItems(\".container\", \".box\"));</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.container {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  background-color: #333;\r\n}\r\n.box {\r\n  background-color: #444;\r\n  margin: 1em;\r\n  height: 250px;\r\n  width: 250px;\r\n  border-radius: 1em;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"container\"&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 738, "user_id": 5367133, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bb0740063ae0d7c8ef2d946bdbd1b5c7?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/5367133/patrick"}, "is_accepted": false, "score": 0, "last_activity_date": 1487803363, "creation_date": 1487803363, "answer_id": 42403679, "question_id": 42403374, "link": "https://stackoverflow.com/questions/42403374/how-to-count-items-in-row-and-append-div-after/42403679#42403679", "title": "How to count items in row and append div after", "body": "<p>You could use css to target the last child and apply the pseudo after class.</p>\n\n<pre><code>.box:last-child:after{ } \n</code></pre>\n\n<p><a href=\"http://codepen.io/PortalPacific/pen/wJwQrG\" rel=\"nofollow noreferrer\"><h1>Code Pen</h1></a></p>\n"}, {"tags": [], "owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "is_accepted": true, "score": 1, "last_activity_date": 1487804670, "last_edit_date": 1487804670, "creation_date": 1487804222, "answer_id": 42403872, "question_id": 42403374, "link": "https://stackoverflow.com/questions/42403374/how-to-count-items-in-row-and-append-div-after/42403872#42403872", "title": "How to count items in row and append div after", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function separateRows(parent, children) {\r\n  var $elems = $(parent + \"&gt;\" + children);                       // get the elements\r\n  var top = $elems.first().offset().top;                         // get the offsetTop of the first\r\n  var n = 1;                                                     // n will be the number of items in the same row\r\n  while(n &lt; $elems.length &amp;&amp; $elems.eq(n).offset().top == top)   // while there still elements and the current element got the same offsetTop as the first, increment n\r\n    n++;\r\n  var $div = $(\"&lt;div class='div'&gt;&lt;/div&gt;\");                       // the div that will take a whole row (see CSS)\r\n  $div.insertAfter(parent + \"&gt;\" + children + \":nth-child(\" + n + \"n)\"); // add the div after each n elements\r\n}\r\n\r\nseparateRows(\".container\", \".box\");</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.container {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-around; /* I added this too (not important though) */\r\n  background-color: #333;\r\n}\r\n\r\n.box, .div {\r\n  background-color: #444;\r\n  margin: 1em;\r\n  height: 50px;\r\n  width: 50px;\r\n  border-radius: 1em;\r\n}\r\n\r\n.div {\r\n  background-color: red;\r\n  width: 100%; /* to take a whole row */\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"container\"&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"box\"&gt;&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1897, "user_id": 3713238, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/pRmL1.jpg?s=128&g=1", "display_name": "Auzy", "link": "https://stackoverflow.com/users/3713238/auzy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 320, "favorite_count": 0, "accepted_answer_id": 42403872, "answer_count": 3, "score": 0, "last_activity_date": 1487804670, "creation_date": 1487801976, "question_id": 42403374, "link": "https://stackoverflow.com/questions/42403374/how-to-count-items-in-row-and-append-div-after", "title": "How to count items in row and append div after", "body": "<p>I am attempting to write a function that counts the number of items in the a row. Then, I want to insert a div after that many items so that it takes up a whole row below the items counted.</p>\n\n<p>Here is my function so far. Not even sure if I'm on right track... Please reference this CodePen for more info: <a href=\"http://codepen.io/Auzy/pen/gmYBJy\" rel=\"nofollow noreferrer\">http://codepen.io/Auzy/pen/gmYBJy</a></p>\n\n<pre><code>var parentSelector = $('.container');\nvar childSelector = $('.box');\n\nfunction countFirstRowItems(parentSelector, childSelector){\n        var count = 0, theTop = undefined;\n        $(parentSelector + \" &gt; \" + childSelector).each(function(){\n            var thisTop = $(this).offset().top;\n            if(theTop === undefined){\n                theTop = thisTop;\n            }\n            if(thisTop != theTop){\n                return false;\n            }\n            count++;\n        });\n        return count;\n    }\n\nconsole.log(countFirstRowItems());\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 5471, "user_id": 6019903, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/e7h7I.png?s=128&g=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/6019903/brad"}, "edited": false, "score": 0, "creation_date": 1487802531, "post_id": 42403365, "comment_id": 71953973, "body": "Would this website by any chance be selling services that break Blizzards terms of use policies?"}, {"owner": {"reputation": 47, "user_id": 7343479, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1a32536e40fcb1a5d38a39afe3964788?s=128&d=identicon&r=PG&f=1", "display_name": "James marcus", "link": "https://stackoverflow.com/users/7343479/james-marcus"}, "reply_to_user": {"reputation": 5471, "user_id": 6019903, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/e7h7I.png?s=128&g=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/6019903/brad"}, "edited": false, "score": 0, "creation_date": 1487802612, "post_id": 42403365, "comment_id": 71954014, "body": "no its just information @Brad"}, {"owner": {"reputation": 389, "user_id": 7291726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SZk10.png?s=128&g=1", "display_name": "SergioAMG", "link": "https://stackoverflow.com/users/7291726/sergioamg"}, "edited": false, "score": 0, "creation_date": 1487802672, "post_id": 42403365, "comment_id": 71954043, "body": "I&#39;m not able to test it, but have you try removing e.preventDefault() ?"}, {"owner": {"reputation": 47, "user_id": 7343479, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1a32536e40fcb1a5d38a39afe3964788?s=128&d=identicon&r=PG&f=1", "display_name": "James marcus", "link": "https://stackoverflow.com/users/7343479/james-marcus"}, "reply_to_user": {"reputation": 389, "user_id": 7291726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SZk10.png?s=128&g=1", "display_name": "SergioAMG", "link": "https://stackoverflow.com/users/7291726/sergioamg"}, "edited": false, "score": 0, "creation_date": 1487802711, "post_id": 42403365, "comment_id": 71954060, "body": "yea i tried but still doesnt work @SergioAMG"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 7343479, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1a32536e40fcb1a5d38a39afe3964788?s=128&d=identicon&r=PG&f=1", "display_name": "James marcus", "link": "https://stackoverflow.com/users/7343479/james-marcus"}, "edited": false, "score": 0, "creation_date": 1487803599, "post_id": 42403696, "comment_id": 71954395, "body": "i checked  it before but dunno the problem"}], "tags": [], "owner": {"reputation": 535, "user_id": 6504337, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1e942c50c89e6f2f1f9a3435bc24e943?s=128&d=identicon&r=PG&f=1", "display_name": "marhyno", "link": "https://stackoverflow.com/users/6504337/marhyno"}, "is_accepted": false, "score": 0, "last_activity_date": 1487803436, "creation_date": 1487803436, "answer_id": 42403696, "question_id": 42403365, "link": "https://stackoverflow.com/questions/42403365/page-freeze-when-div-updated/42403696#42403696", "title": "page freeze when div updated", "body": "<p>Apparently something is with your scrolloverflow.js file - when you execute the function it stops functioning, it has nothing to do with changing css, I checked that. So maybe you should start there.</p>\n"}], "owner": {"reputation": 47, "user_id": 7343479, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1a32536e40fcb1a5d38a39afe3964788?s=128&d=identicon&r=PG&f=1", "display_name": "James marcus", "link": "https://stackoverflow.com/users/7343479/james-marcus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487803436, "creation_date": 1487801949, "last_edit_date": 1487802270, "question_id": 42403365, "link": "https://stackoverflow.com/questions/42403365/page-freeze-when-div-updated", "title": "page freeze when div updated", "body": "<p>i have recently added a javascript that does the collapse function for the faq page\nmy page is a scrolling page using javascript aswell\nbut the problem is when the collapse javascript runs ex:click on question and answer appears\nthe page freezes and i can no longer scroll i dont know why</p>\n\n<p>here is the website <a href=\"http://sheetmulching.com/sr/examples/backgroundsFixed.html\" rel=\"nofollow noreferrer\">http://sheetmulching.com/sr/examples/backgroundsFixed.html</a></p>\n\n<p>and here is the javascript</p>\n\n<pre><code>jQuery(document).ready(function () {\n$('.togglefaq').click(function(e) {\n\ne.preventDefault();\nvar notthis = $('.active').not(this);\nnotthis.find('.icon-remove ').addClass('icon-plus').removeClass('icon-remove ');\nnotthis.toggleClass('active').next('.faqanswer').slideToggle(300);\n $(this).toggleClass('active').next().slideToggle(\"fast\");\n$(this).children('i').toggleClass('icon-plus icon-remove ');\n});\n})\n</code></pre>\n\n<p>whats the solution for the scroll freeze?</p>\n"}, {"tags": ["javascript", "parse-platform", "parse-cloud-code"], "answers": [{"tags": [], "owner": {"reputation": 229, "user_id": 6453904, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/31Klt.jpg?s=128&g=1", "display_name": "Georgios S.", "link": "https://stackoverflow.com/users/6453904/georgios-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1496398761, "creation_date": 1496398761, "answer_id": 44326534, "question_id": 42403358, "link": "https://stackoverflow.com/questions/42403358/parse-run-cloud-function-after-a-specific-amount-of-time-is-passed/44326534#44326534", "title": "Parse - Run cloud function after a specific amount of time is passed", "body": "<p>I've had a similar issue and from my research and trial and error I can suggest the following solutions using <code>Firebase cloud functions</code>:</p>\n\n<p>1) You can setup an appengine instance who will read your existing database periodically (or you can mirror your database to firebase) and when the time is right will trigger acloud function as described <a href=\"https://firebase.googleblog.com/2017/03/how-to-schedule-cron-jobs-with-cloud.html?utm_campaign=culture_education_general_en_05-24-17&amp;utm_source=Firebase&amp;utm_medium=yt-desc\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>2) You can use a third party service to trigger the cloud function at a specific time. An example for this approach is mentioned <a href=\"https://github.com/firebase/functions-samples/tree/master/delete-unused-accounts-cron\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>3) You can also write your own code (maybe javascript/node.js) that can trigger a cloud function based on a certain event (e.g. it can check the changes on your database and then write a firebase database entry to trigger the cloud function)</p>\n\n<p>The solution you will choose depends on many factors but all in all i believe you have a good starting point now.</p>\n"}], "owner": {"reputation": 642, "user_id": 4388495, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/yVXQD.jpg?s=128&g=1", "display_name": "Sotiris Kaniras", "link": "https://stackoverflow.com/users/4388495/sotiris-kaniras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 356, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1496398761, "creation_date": 1487801928, "last_edit_date": 1487839963, "question_id": 42403358, "link": "https://stackoverflow.com/questions/42403358/parse-run-cloud-function-after-a-specific-amount-of-time-is-passed", "title": "Parse - Run cloud function after a specific amount of time is passed", "body": "<p>In a table of my mongoDB, there is a column of type Date, say <code>untilDate</code>, which is always equal to its creation date + 24h... Is there any way, to trigger a cloud function to run, when the current date equals <code>untilDate</code>?</p>\n\n<p>PS: Note that many objects of that table can be created at any time, therefore the cloud function, needs to be called for every single object!</p>\n"}, {"tags": ["javascript", "angularjs", "checkbox", "angularjs-ng-repeat"], "comments": [{"owner": {"reputation": 4664, "user_id": 2341963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19a7e5c326a9882a99007bbeb9527488?s=128&d=identicon&r=PG&f=1", "display_name": "kevin", "link": "https://stackoverflow.com/users/2341963/kevin"}, "edited": false, "score": 0, "creation_date": 1487807110, "post_id": 42403330, "comment_id": 71955726, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/21411686/how-to-filter-multiple-values-or-operation-in-angularjs-with-checkbox\">How to filter multiple values (OR operation) in angularJS with checkbox</a>"}, {"owner": {"reputation": 6716, "user_id": 625454, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/f145e3fada1f66a098542399a2fada39?s=128&d=identicon&r=PG&f=1", "display_name": "n92", "link": "https://stackoverflow.com/users/625454/n92"}, "reply_to_user": {"reputation": 4664, "user_id": 2341963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19a7e5c326a9882a99007bbeb9527488?s=128&d=identicon&r=PG&f=1", "display_name": "kevin", "link": "https://stackoverflow.com/users/2341963/kevin"}, "edited": false, "score": 0, "creation_date": 1487815032, "post_id": 42403330, "comment_id": 71958202, "body": "@user271828 it is not duplicate, its about multiple field not multiple checks for the same field. read it once again"}], "owner": {"reputation": 6716, "user_id": 625454, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/f145e3fada1f66a098542399a2fada39?s=128&d=identicon&r=PG&f=1", "display_name": "n92", "link": "https://stackoverflow.com/users/625454/n92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487801817, "creation_date": 1487801817, "question_id": 42403330, "link": "https://stackoverflow.com/questions/42403330/how-to-filter-list-displayed-through-ng-repeat-with-muliple-fields-using-checkbo", "title": "How to filter list displayed through ng-repeat with muliple fields using checkboxes", "body": "<p>I have a JSON like below:</p>\n\n<pre><code>var data = [\n{\n  \"id\": 1,\n  \"name\"; \"Test1\",\n  \"isPending\": \"false\",\n  \"isCompleted\": \"true\",\n  \"isRequired\": \"true\",\n  \"location\": [\n    {\n      \"city\": \"London\",\n    },\n    {\n      \"city\": \"New York\",\n    }\n   ]\n},\n{\n  \"id\": 2,\n  \"name\"; \"Test2\",\n  \"isPending\": \"false\",\n  \"isCompleted\": \"false\",\n  \"isRequired\": \"true\",\n   \"location\": [\n    {\n      \"city\": \"Mumbai\",\n    },\n    {\n      \"city\": \"New York\",\n    }\n   ]\n}\n}\n\n..\n..\n];\n</code></pre>\n\n<p>I want to have 5 checkboxes filters for fields below:</p>\n\n<ol>\n<li>Pending</li>\n<li>Completed</li>\n<li>Required</li>\n</ol>\n\n<h2>Cities:</h2>\n\n<p>1.Mumbai</p>\n\n<p>2.London </p>\n\n<p>I am displaying the data using ng-repeat.</p>\n\n<p>How to apply filter in AngularJS having checkboxes for multiple fields. Basically it should work as OR operator.</p>\n"}, {"tags": ["javascript", "text-to-speech"], "answers": [{"tags": [], "owner": {"reputation": 768, "user_id": 1466973, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7be00df1138f8d4065be6817183f6806?s=128&d=identicon&r=PG", "display_name": "Rick Hellewell", "link": "https://stackoverflow.com/users/1466973/rick-hellewell"}, "is_accepted": true, "score": 0, "last_activity_date": 1487815067, "creation_date": 1487815067, "answer_id": 42405682, "question_id": 42403265, "link": "https://stackoverflow.com/questions/42403265/multiple-instances-of-speechsynthesisutterance-spoken-text/42405682#42405682", "title": "Multiple instances of SpeechSynthesisUtterance spoken text", "body": "<p>My Own Answer: </p>\n\n<p>It turns out I was trying to complicate things too much. I found a better way; it uses just the basics of the text to speech capabilities. The following code is based on this post: </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction speakthis(msg) {\n    var speechMessage = new SpeechSynthesisUtterance(msg);\n    window.speechSynthesis.speak(speechMessage);\n}\n&lt;/script&gt;\n&lt;p&gt;&lt;?php speak_button('this is button one'); ?&gt;&amp;nbsp;this is button 1&lt;/p&gt;\n&lt;p&gt;&lt;?php speak_button('this is button two'); ?&gt;&amp;nbsp;this is button 2&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n&lt;?php \nfunction speak_button($msg) {\n    ?&gt;\n&lt;button onclick=\"speakthis('&lt;?php echo $msg; ?&gt;')\" value=\"Click Me\"&gt;\n&lt;?php\nreturn;\n}\n</code></pre>\n\n<p>The speak_button() function creates a button that calls the speakthis() javascript. You can call the speak_button() function multiple times as needed on a page, with each button 'speaking' different text.</p>\n\n<p>It uses the default voices,etc paramters of the SpeechSyntehsisUtterance . But it is good enough for my purposes, and is not 'robotic'-sounding.</p>\n"}], "owner": {"reputation": 768, "user_id": 1466973, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7be00df1138f8d4065be6817183f6806?s=128&d=identicon&r=PG", "display_name": "Rick Hellewell", "link": "https://stackoverflow.com/users/1466973/rick-hellewell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1044, "favorite_count": 1, "accepted_answer_id": 42405682, "answer_count": 1, "score": 1, "last_activity_date": 1487815151, "creation_date": 1487801500, "last_edit_date": 1487815151, "question_id": 42403265, "link": "https://stackoverflow.com/questions/42403265/multiple-instances-of-speechsynthesisutterance-spoken-text", "title": "Multiple instances of SpeechSynthesisUtterance spoken text", "body": "<p><strong>(Edited: I figured out my own much-simpler answer, posted below, in hope is will help others.)</strong></p>\n\n<p>I am building a web page that is using speechSynthesisUntterance to read multiple instances of text strings.</p>\n\n<p>This is the javascript code I am using</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/*\r\n * Check for browser support\r\n */\r\nvar supportMsg = document.getElementById('msg');\r\nvar supportMsg = '';\r\nvar textnumber = document.getElementById('formid');\r\n\r\nif ('speechSynthesis' in window) {\r\n\tsupportMsg.innerHTML = 'Your browser &lt;strong&gt;supports&lt;/strong&gt; speech synthesis.';\r\n} else {\r\n\tsupportMsg.innerHTML = 'Sorry your browser &lt;strong&gt;does not support&lt;/strong&gt; speech synthesis.&lt;br&gt;Try this in &lt;a href=\"http://www.google.co.uk/intl/en/chrome/browser/canary.html\"&gt;Chrome Canary&lt;/a&gt;.';\r\n\tsupportMsg.classList.add('not-supported');\r\n}\r\n\r\n\r\n// Get the 'speak' button\r\nvar button = document.getElementById('speak');\r\n\r\n// Get the text input element.\r\nvar speechMsgInput = document.getElementById('speech-msg');\r\n\r\n// Get the voice select element.\r\nvar voiceSelect = document.getElementById('voice');\r\n\r\n// Get the attribute controls.\r\nvar volumeInput = document.getElementById('volume');\r\nvar rateInput = document.getElementById('rate');\r\nvar pitchInput = document.getElementById('pitch');\r\n\r\n\r\n// Fetch the list of voices and populate the voice options.\r\nfunction loadVoices() {\r\n  // Fetch the available voices.\r\n\tvar voices = speechSynthesis.getVoices();\r\n  \r\n  // Loop through each of the voices.\r\n\tvoices.forEach(function(voice, i) {\r\n    // Create a new option element.\r\n\t\tvar option = document.createElement('option');\r\n    \r\n    // Set the options value and text.\r\n\t\toption.value = voice.name;\r\n\t\toption.innerHTML = voice.name;\r\n\t\t  \r\n    // Add the option to the voice selector.\r\n\t\tvoiceSelect.appendChild(option);\r\n\t});\r\n}\r\n\r\n// Execute loadVoices.\r\nloadVoices();\r\n\r\n// Chrome loads voices asynchronously.\r\nwindow.speechSynthesis.onvoiceschanged = function(e) {\r\n  loadVoices();\r\n};\r\n\r\n\r\n// Create a new utterance for the specified text and add it to\r\n// the queue.\r\nfunction speak(text) {\r\n  // Create a new instance of SpeechSynthesisUtterance.\r\n\tvar msg = new SpeechSynthesisUtterance();\r\n  \r\n  // Set the text.\r\n\tmsg.text = text;\r\n  \r\n  // Set the attributes.\r\n\tmsg.volume = parseFloat(volumeInput.value);\r\n\tmsg.rate = parseFloat(rateInput.value);\r\n\tmsg.pitch = parseFloat(pitchInput.value);\r\n  \r\n  // If a voice has been selected, find the voice and set the\r\n  // utterance instance's voice attribute.\r\n\tif (voiceSelect.value) {\r\n\t\tmsg.voice = speechSynthesis.getVoices().filter(function(voice) { return voice.name == voiceSelect.value; })[0];\r\n\t}\r\n  \r\n  // Queue this utterance.\r\n\twindow.speechSynthesis.speak(msg);\r\n}\r\n\r\n\r\n// Set up an event listener for when the 'speak' button is clicked.\r\nbutton.addEventListener('click', function(e) {\r\n\tif (speechMsgInput.value.length &gt; 0) {\r\n\t\tspeak(speechMsgInput.value);\r\n\t}\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here is the PHP function I am using to create the input values/fields:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  &lt;input type=\"hidden\" name=\"speech-msg\" id=\"speech-msg\" x-webkit-speech value=\"&lt;?php echo $thetext; ?&gt;\"&gt;\r\n\t&lt;input type=\"hidden\" name=\"formid\" id=\"formid\" value=\"&lt;?php echo $formid;?&gt;\"\r\n\t\t&lt;input type=\"hidden\" name=\"voice\" id=\"voice&lt;?php echo $formid;?&gt;\" value=\"1\"&gt;\r\n\t\t&lt;input type=\"hidden\" name=\"volume\" id=\"volume&lt;?php echo $formid;?&gt;\" value=\"1\"&gt;\r\n\t\t&lt;input type=\"hidden\" name=\"rate\" id=\"rate&lt;?php echo $formid;?&gt;\" value=\"1\"&gt;\r\n\t\t&lt;input type=\"hidden\"  name=\"pitch\" id=\"pitch&lt;?php echo $formid;?&gt;\" value=\"1\"&gt;\r\n\t&lt;button id=\"speak&lt;?php echo $formid;?&gt;\" class=\"small fa fa-play\"&gt;&amp;nbsp;Listen&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The $formid variable is a numeric value. Each $formid corresponds to a separate block of text that I want to be spoken on the button press. </p>\n\n<p>The process works with one block of text ($formid=1), but adding a second block of text ($formid = 2) gives the error </p>\n\n<pre><code>TypeError: Constructor SpeechSynthesisUtterance requires 'new'\n</code></pre>\n\n<p>How would I adjust the code to allow for multiple and separate instances of spoken text blocks?</p>\n\n<p>( above code based on <a href=\"http://blog.teamtreehouse.com/getting-started-speech-synthesis-api\" rel=\"nofollow noreferrer\">http://blog.teamtreehouse.com/getting-started-speech-synthesis-api</a> )</p>\n\n<p>Thanks (apologies for code snippet formatting). </p>\n"}, {"tags": ["javascript", "jquery", "selector"], "comments": [{"owner": {"reputation": 136297, "user_id": 848164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/326ca99123e4d3e9ede5831e7258c319?s=128&d=identicon&r=PG&f=1", "display_name": "undefined", "link": "https://stackoverflow.com/users/848164/undefined"}, "edited": false, "score": 1, "creation_date": 1487801493, "post_id": 42403227, "comment_id": 71953509, "body": "You are looking for the <code>find</code> method. Also jQuery website <b>is</b> your friend!"}, {"owner": {"reputation": 7, "user_id": 3401548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d6tHz.jpg?s=128&g=1", "display_name": "Cyril", "link": "https://stackoverflow.com/users/3401548/cyril"}, "reply_to_user": {"reputation": 136297, "user_id": 848164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/326ca99123e4d3e9ede5831e7258c319?s=128&d=identicon&r=PG&f=1", "display_name": "undefined", "link": "https://stackoverflow.com/users/848164/undefined"}, "edited": false, "score": 0, "creation_date": 1487802764, "post_id": 42403227, "comment_id": 71954084, "body": "You say i can do that : <code>$(elem_reference).find(&#39;option[value=&quot;&#39;+id_article+&#39;&quot;]&#39;).att&zwnj;&#8203;r(&#39;selected&#39;,&#39;select&zwnj;&#8203;ed&#39;);</code>  Because this is not work...  I want to do : <code>$(&#39;target_select option[value=&quot;&#39;+id_article+&#39;&quot;]&#39;).attr(&#39;selected&#39;,&#39;selected&#39;)&zwnj;&#8203;;</code>  But with the select in a var, have you an example with find ?  PS: the doc of find i already know... <a href=\"https://api.jquery.com/find/\" rel=\"nofollow noreferrer\">api.jquery.com/find</a> if you resolve that with find i owe you a beer ;-)"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1487803411, "post_id": 42403227, "comment_id": 71954318, "body": "Just use <code>elem_reference.val(id_article)</code>. Setting the value of a <code>&lt;select&gt;</code> is the same as setting the <code>selected</code> attribute of the corresponding option."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1487804099, "post_id": 42403227, "comment_id": 71954574, "body": "Note: you should be using <a href=\"http://api.jquery.com/prop/\" rel=\"nofollow noreferrer\"><code>prop()</code></a> instead of <code>attr</code> when setting Boolean attributes like <code>selected</code>, <code>checked</code>, etc.. But @Barmar has it right; just call <a href=\"http://api.jquery.com/val/\" rel=\"nofollow noreferrer\"><code>val(value)</code></a>."}, {"owner": {"reputation": 7, "user_id": 3401548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d6tHz.jpg?s=128&g=1", "display_name": "Cyril", "link": "https://stackoverflow.com/users/3401548/cyril"}, "edited": false, "score": 0, "creation_date": 1487804201, "post_id": 42403227, "comment_id": 71954611, "body": "It&#39;s complicated because my select was transform to combobox on the fly by a template, i use 3 lines :   <code>$(&#39;.reference&#39;).val(id_article); $(&#39;.reference  ption[value=&quot;&#39;+id_article+&#39;&quot;]&#39;).attr(&#39;selected&#39;,&#39;selected&#39;); $(&#39;.reference&#39;).prev().find(&#39;span&#39;).text(liste_article[id_ar&zwnj;&#8203;ticle][&#39;reference&#39;])&zwnj;&#8203;;</code>  I need all the 3 line to all work synchronisation between combobox and input in same line. (I d&#39;ont know why when i just use val,  no selected writted in source and the text is not replace by the new one)  That why my question is about combine jquery objet + string for the selector)"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1487804496, "post_id": 42403227, "comment_id": 71954717, "body": "Selecting an option dynamically doesn&#39;t change the HTML, it&#39;s a property of the select element."}, {"owner": {"reputation": 7, "user_id": 3401548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d6tHz.jpg?s=128&g=1", "display_name": "Cyril", "link": "https://stackoverflow.com/users/3401548/cyril"}, "edited": false, "score": 0, "creation_date": 1487804628, "post_id": 42403227, "comment_id": 71954757, "body": "When i look in dev console i can show the dynamic change (also select appear and disappear in option) or we don&#39;t speek about the same thing"}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 3401548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d6tHz.jpg?s=128&g=1", "display_name": "Cyril", "link": "https://stackoverflow.com/users/3401548/cyril"}, "edited": false, "score": 0, "creation_date": 1487842497, "post_id": 42403720, "comment_id": 71969650, "body": "I think it&#39;s look like what i&#39;m looking for with the selector in a var. Thanks"}], "tags": [], "owner": {"reputation": 966, "user_id": 3515242, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/2WTr5.png?s=128&g=1", "display_name": "Cuzi", "link": "https://stackoverflow.com/users/3515242/cuzi"}, "is_accepted": false, "score": 0, "last_activity_date": 1487839716, "last_edit_date": 1487839716, "creation_date": 1487803528, "answer_id": 42403720, "question_id": 42403227, "link": "https://stackoverflow.com/questions/42403227/use-optionvalue-in-jquery-selector-with-tag-select-in-object/42403720#42403720", "title": "Use option[value=&quot;&quot;] in jQuery selector with tag select in object", "body": "<p>As I understand you can do it like that:</p>\n\n<pre><code> $($(this).find('tr').closest('.reference')).find('option[value=\"'+id_article+'\"]').attr('selected',true);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7, "user_id": 3401548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d6tHz.jpg?s=128&g=1", "display_name": "Cyril", "link": "https://stackoverflow.com/users/3401548/cyril"}, "is_accepted": true, "score": 0, "last_activity_date": 1487837727, "creation_date": 1487837727, "answer_id": 42410296, "question_id": 42403227, "link": "https://stackoverflow.com/questions/42403227/use-optionvalue-in-jquery-selector-with-tag-select-in-object/42410296#42410296", "title": "Use option[value=&quot;&quot;] in jQuery selector with tag select in object", "body": "<p>I found a way,\nFirst my selectors was invert, instead of :</p>\n\n<pre><code>var elem_reference = $(this).find('tr').closest('.reference');\n</code></pre>\n\n<p>I had to use :</p>\n\n<pre><code>var elem_reference = $(this).closest('tr').find('.reference');\n</code></pre>\n\n<p>And to solve my problem (not very elegant way) I use :</p>\n\n<pre><code>$(this).closest('tr').find('.reference option[value=\"'+id_article+'\"]').prop('selected', true);\n</code></pre>\n\n<p>I don't really like that but that do the job for now.</p>\n"}], "owner": {"reputation": 7, "user_id": 3401548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d6tHz.jpg?s=128&g=1", "display_name": "Cyril", "link": "https://stackoverflow.com/users/3401548/cyril"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 42410296, "answer_count": 2, "score": -1, "last_activity_date": 1487839716, "creation_date": 1487801316, "last_edit_date": 1487803985, "question_id": 42403227, "link": "https://stackoverflow.com/questions/42403227/use-optionvalue-in-jquery-selector-with-tag-select-in-object", "title": "Use option[value=&quot;&quot;] in jQuery selector with tag select in object", "body": "<p>I'm looking for a way to target option value with a select from a variable.</p>\n\n<p>I target my select like this:</p>\n\n<pre><code>var elem_reference = $(this).find('tr').closest('.reference');\n</code></pre>\n\n<p>Now I want to do something like this: </p>\n\n<pre><code>$(elem_reference+'option[value=\"'+id_article+'\"]').attr('selected','selected');\n</code></pre>\n\n<p>I know this way doesn't work. I can't combine a object with string selector but I don't see how to proceed. I already try something like this: </p>\n\n<pre><code>$(elem_reference).filter('option[value=\"'+id_article+'\"]').attr('selected','selected');\n</code></pre>\n\n<p>and many other ways but that doesn't work.</p>\n"}, {"tags": ["javascript", "node.js"], "comments": [{"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1487802960, "post_id": 42403226, "comment_id": 71954164, "body": "There will always be a race condition here since two users could click the same button at about the same time (before their client was notified that someone else clicked it).  So, what you need to do is to click the button and then tell the server you&#39;ve clicked it.  The server will respond back whether the click was successful or not or whether someone else already clicked it before you and the client can behave accordingly.  When the server receives a successful click on a button, it can broadcast to all the other clients that that button is now taken and the clients can behave accordingly."}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 4430091, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LsZSD_ehc1o/AAAAAAAAAAI/AAAAAAAABkw/pOg3SOs78xg/photo.jpg?sz=128", "display_name": "Nicholas Leoutsakos", "link": "https://stackoverflow.com/users/4430091/nicholas-leoutsakos"}, "is_accepted": false, "score": 0, "last_activity_date": 1487803508, "last_edit_date": 1487803508, "creation_date": 1487803194, "answer_id": 42403641, "question_id": 42403226, "link": "https://stackoverflow.com/questions/42403226/im-trying-to-hide-a-button-from-other-sockets-in-node-js-after-the-buttons-is/42403641#42403641", "title": "I&#39;m trying to hide a button from other sockets in node.js. After the buttons is clicked my a player i don&#39;t want other players to be able to click it", "body": "<p>Assuming you have everything set up properly, you will need to listen on the client side for the event you are emitting from the server. Rather than passing a function when emitting, try passing a value or an object (I changed the name of the event being sent to the client to avoid confusion with the event intended for the server):</p>\n\n<pre><code>socket.on('seat1',function(){\n   player.x = 380\n   player.y = 300\n   player.number = 1\n   console.log(player)\n\n   socket.emit('hideSeats', {\n       seatIndex: 1,\n       playerNumber: player.number\n   });\n});\n</code></pre>\n\n<p>On the client you can listen for 'hideSeats' and call your client code function from there.</p>\n\n<pre><code>socket.on('hideSeats', function(obj) {\n    if (obj.playerNumber === player.number) {\n        hideSeatButtons();\n    } else {\n        hideSingleSeatButton(obj.seatIndex);\n    }\n});\n</code></pre>\n\n<p>This assumes you write a function to hide a single seat -which is what I think you would want to do for any player who is not the one who chose a seat. For the player who chose a seat, you hide all seats.</p>\n\n<p>Does this approach cover your use case?</p>\n"}], "owner": {"reputation": 53, "user_id": 3109127, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6e20e8ee5ecf755b4000ce17abf9f2c?s=128&d=identicon&r=PG&f=1", "display_name": "user3109127", "link": "https://stackoverflow.com/users/3109127/user3109127"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487803508, "creation_date": 1487801316, "question_id": 42403226, "link": "https://stackoverflow.com/questions/42403226/im-trying-to-hide-a-button-from-other-sockets-in-node-js-after-the-buttons-is", "title": "I&#39;m trying to hide a button from other sockets in node.js. After the buttons is clicked my a player i don&#39;t want other players to be able to click it", "body": "<p>i need to be able to remove the buttons from the DOM when a player clicks a seat.  this way two players cannot take the same seat.  all buttons should be hidden on the client side after a player sits down so they cannot move seats.  </p>\n\n<p>server side</p>\n\n<pre><code>   socket.on('seat1',function(){\n       player.x = 380\n       player.y = 300\n       player.number = 1\n       console.log(player)\n\n    socket.emit('seat1',function(){\n        hideSeatButtons();\n    })\n\n   });\n\n     socket.on('seat2',function(){\n       player.x = 380\n       player.y = 100\n       player.number = 2\n       console.log(player)\n\n\n   });\n\nclient side\n\n   var seat1 = function(){\n        socket.emit('seat1',{\n\n        });\n\n   }\n\n    var seat2 = function(){\n        socket.emit('seat2',{\n\n        });\n\n   }\n\n\n  var hideSeatButtons = function(){\n        document.getElementById(\"seat1\").style.display = \"none\";\n        document.getElementById(\"seat2\").style.display = \"none\";\n   }\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "fullpage.js"], "comments": [{"owner": {"reputation": 37699, "user_id": 1081396, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4da642ebb2987685f30442660dc6751e?s=128&d=identicon&r=PG", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/1081396/alvaro"}, "edited": false, "score": 0, "creation_date": 1487940503, "post_id": 42403192, "comment_id": 72021981, "body": "<a href=\"https://github.com/alvarotrigo/fullPage.js/issues/2578\" rel=\"nofollow noreferrer\">An answer</a> was given to you on the Github issues forum of fullPage.js Make sure to use the latest version. If you still having troubles provide an isolated reproduction for further investigation."}, {"owner": {"reputation": 988, "user_id": 3089100, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/AiTw3.jpg?s=128&g=1", "display_name": "agon024", "link": "https://stackoverflow.com/users/3089100/agon024"}, "reply_to_user": {"reputation": 37699, "user_id": 1081396, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4da642ebb2987685f30442660dc6751e?s=128&d=identicon&r=PG", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/1081396/alvaro"}, "edited": false, "score": 0, "creation_date": 1488143729, "post_id": 42403192, "comment_id": 72089038, "body": "@Alvaro I am using the latest version of fullPage.js. There is no way for me to provide an isolated reproduction being that this is a WordPress site. I can give you the live link to the page that this is happening on though. The link is above."}], "owner": {"reputation": 988, "user_id": 3089100, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/AiTw3.jpg?s=128&g=1", "display_name": "agon024", "link": "https://stackoverflow.com/users/3089100/agon024"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 201, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1488139297, "creation_date": 1487801178, "last_edit_date": 1488139297, "question_id": 42403192, "link": "https://stackoverflow.com/questions/42403192/fullpage-js-unable-to-click-links-on-mobile", "title": "fullpage.js - unable to click links on mobile", "body": "<p>I am using fullpage.js on a site and when you view it on mobile the anchor links are not clickable and input fields are not accessible.</p>\n\n<p>Also when I set \"responsiveWidth: 640\" to disable fullpage on mobile I am no longer able to scroll down or move past the first section on my phone and still can't click any links.</p>\n\n<p>Does anyone know what I am doing wrong?</p>\n\n<p>** <strong>EDIT</strong> **\nThis is a WordPress site using the skeleton theme \"JointsWP\"</p>\n\n<p>Here is the site that this is happening on <a href=\"http://jbirdco.com/\" rel=\"nofollow noreferrer\">http://jbirdco.com/</a></p>\n"}, {"tags": ["javascript", "html", "wordpress"], "answers": [{"tags": [], "owner": {"reputation": 52738, "user_id": 5641669, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6880a3612ebd3c531f43587a05f3a964?s=128&d=identicon&r=PG&f=1", "display_name": "Johannes", "link": "https://stackoverflow.com/users/5641669/johannes"}, "is_accepted": false, "score": 0, "last_activity_date": 1487810728, "creation_date": 1487810728, "answer_id": 42405061, "question_id": 42403186, "link": "https://stackoverflow.com/questions/42403186/embedded-calendar-stopped-working/42405061#42405061", "title": "Embedded calendar stopped working", "body": "<p>I don't see a reason for that very last <code>()</code> pair in the <code>script</code> tag (just before the semicolon that is followed by the closing <code>&lt;/script&gt;</code>tag. Try to erase it.</p>\n"}], "owner": {"reputation": 1, "user_id": 7107313, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4f30a71b6ecd891629aae98e47b435b8?s=128&d=identicon&r=PG&f=1", "display_name": "Lesley Ragsdale", "link": "https://stackoverflow.com/users/7107313/lesley-ragsdale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487810728, "creation_date": 1487801153, "last_edit_date": 1487810699, "question_id": 42403186, "link": "https://stackoverflow.com/questions/42403186/embedded-calendar-stopped-working", "title": "Embedded calendar stopped working", "body": "<p>I am responsible for maintaining 2 websites.  One is a Wordpress website that is just a list of events using Time.ly's All in One Event Calendar plugin.  The other is a conventional built from scratch website using html.</p>\n\n<p>The html website has had code that embedded the Wordpress calendar feed into it for several years, and it's always worked fine and I haven't had to do anything with it.  Recently, it just stopped working.  The calendar feed is just gone with no errors returned, no problems loading the site or anything.  It looks as if somebody just deleted the code for it.  However, the code is still there and is as follows:</p>\n\n<pre><code>&lt;script class=\"ai1ec-widget-placeholder\" data-widget=\"ai1ec_superwidget\" data-action=\"stream\" data-tag_ids=\"45\"&gt;\n          (function(){var d=document,s=d.createElement('script'),\n          i='ai1ec-script';if(d.getElementById(i))return;s.async=1;\n          s.id=i;s.src='http://www.texascitycommunitycalendar.com/?ai1ec_js_widget';\n          d.getElementsByTagName('head')[0].appendChild(s);})();\n        &lt;/script&gt;\n</code></pre>\n\n<p>Can anybody identify any obvious reason that that might have just stopped working?  </p>\n"}, {"tags": ["javascript", "jquery", "loops", "multidimensional-array", "each"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 3058125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adcd8a94e1f53ea4879a85c3ceeedbf3?s=128&d=identicon&r=PG&f=1", "display_name": "user3058125", "link": "https://stackoverflow.com/users/3058125/user3058125"}, "edited": false, "score": 0, "creation_date": 1487802626, "post_id": 42403387, "comment_id": 71954020, "body": "Thank you for your quick reply. The problem with passing just the productId is that the data needs to be stored in the cart as-is at the moment upon entering the menu due to varying names, descriptions and pricing.  If I could pass those through to the function aswell it would be settled, the pricing doesn&#39;t seem to be a problem, but the name gives me &quot;is not defined&quot; as well. any idea?"}, {"owner": {"reputation": 5322, "user_id": 7411852, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10210681797466386/picture?type=large", "display_name": "Matt Spinks", "link": "https://stackoverflow.com/users/7411852/matt-spinks"}, "reply_to_user": {"reputation": 3, "user_id": 3058125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adcd8a94e1f53ea4879a85c3ceeedbf3?s=128&d=identicon&r=PG&f=1", "display_name": "user3058125", "link": "https://stackoverflow.com/users/3058125/user3058125"}, "edited": false, "score": 0, "creation_date": 1487802726, "post_id": 42403387, "comment_id": 71954072, "body": "So are you performing another ajax call to get updated data? Where does that happen?"}, {"owner": {"reputation": 5322, "user_id": 7411852, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10210681797466386/picture?type=large", "display_name": "Matt Spinks", "link": "https://stackoverflow.com/users/7411852/matt-spinks"}, "reply_to_user": {"reputation": 3, "user_id": 3058125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adcd8a94e1f53ea4879a85c3ceeedbf3?s=128&d=identicon&r=PG&f=1", "display_name": "user3058125", "link": "https://stackoverflow.com/users/3058125/user3058125"}, "edited": false, "score": 0, "creation_date": 1487802795, "post_id": 42403387, "comment_id": 71954095, "body": "And if you are, can&#39;t you just update the global <code>store</code> object with the updated data? The product id&#39;s don&#39;t change, do they?"}, {"owner": {"reputation": 3, "user_id": 3058125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adcd8a94e1f53ea4879a85c3ceeedbf3?s=128&d=identicon&r=PG&f=1", "display_name": "user3058125", "link": "https://stackoverflow.com/users/3058125/user3058125"}, "edited": false, "score": 0, "creation_date": 1487803064, "post_id": 42403387, "comment_id": 71954207, "body": "The &#39;cart&#39; will be posted to the API upon &#39;checkout&#39; of the cart, which will happen later on. The data should not be updated and will still have to be presented as-is in the &#39;order&#39; no matter what the pricing or name changes to, only the ID will be the reference to the product.  I tried doing: addToCart(&#39; + productId + &#39;, &#39;+product.name+&#39;);  but it will just give me a: &quot;testproduct is not defined&quot; error when I console.log it"}, {"owner": {"reputation": 3, "user_id": 3058125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adcd8a94e1f53ea4879a85c3ceeedbf3?s=128&d=identicon&r=PG&f=1", "display_name": "user3058125", "link": "https://stackoverflow.com/users/3058125/user3058125"}, "edited": false, "score": 0, "creation_date": 1487803564, "post_id": 42403387, "comment_id": 71954384, "body": "Ah how foolish of me, I had to change: addToCart(&#39; + productId + &#39;, &#39;+product.name+&#39;);  to addToCart(&#39; + productId + &#39;,  \\&#39;&#39; + product.name + &#39;\\&#39;); ofcourse... :)"}, {"owner": {"reputation": 5322, "user_id": 7411852, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10210681797466386/picture?type=large", "display_name": "Matt Spinks", "link": "https://stackoverflow.com/users/7411852/matt-spinks"}, "reply_to_user": {"reputation": 3, "user_id": 3058125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adcd8a94e1f53ea4879a85c3ceeedbf3?s=128&d=identicon&r=PG&f=1", "display_name": "user3058125", "link": "https://stackoverflow.com/users/3058125/user3058125"}, "edited": false, "score": 0, "creation_date": 1487803625, "post_id": 42403387, "comment_id": 71954411, "body": "Oh yes, that is definitely an option as well. Best of luck."}], "tags": [], "owner": {"reputation": 5322, "user_id": 7411852, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10210681797466386/picture?type=large", "display_name": "Matt Spinks", "link": "https://stackoverflow.com/users/7411852/matt-spinks"}, "is_accepted": false, "score": 0, "last_activity_date": 1487802039, "creation_date": 1487802039, "answer_id": 42403387, "question_id": 42403143, "link": "https://stackoverflow.com/questions/42403143/passing-an-object-in-multidimensional-each-to-function-outside-of-closure/42403387#42403387", "title": "passing an object in (multidimensional) $.each to function outside of closure", "body": "<p>I think you realize this, but your <code>product</code> is only defined within your <code>each</code> function scope. And that product is used to render a DOM element. And instead of rendering your <strong>actual product</strong>, it is rendering the literal string \"product\", which doesn't exist outside the scope of your loop. When the DOM element is clicked, the click event is in an entirely separate scope. Can you pass the id of product to the function instead? And then lookup the product within your handler function? You would also need to create a global <code>store</code> object to reference it later:</p>\n\n<pre><code>var store;\nfunction openMenu(url){\n\n    // get feed from API\n    $.getJSON(url, function(storedata) {\n      store = storedata; //assign to global object\n      $('#live-menu').addClass('active');\n      $('.live-menu-content').addClass('active');\n\n      // each the feed data\n      $.each(storedata, function(categoryName, productObject){\n        // category title and open table\n        $('.live-menu-content').append('&lt;h1 class=\"menu-category-title\"&gt;'+categoryName+'&lt;/h1&gt;');\n        $('.live-menu-content').append('&lt;table class=\"table table-'+categoryName+'\"&gt;&lt;tbody&gt;');\n\n        //go through products\n        $.each( productObject, function( productId, product ) { j++;\n          $('.table-'+categoryName+'').append('&lt;tr&gt;&lt;td&gt;'+product.name+'&lt;br/&gt;&lt;small&gt;'+product.description+'&lt;/small&gt;&lt;/td&gt;&lt;td&gt;\u20ac'+product.price+'&lt;/td&gt;&lt;td&gt;&lt;a onclick=\"addToCart(\"' + productId + '\");\" class=\"btn btn-primary pull-right\" href=\"#\"&gt;Add&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;');\n        });\n\n        // close table\n        $('.live-menu-content').append('&lt;/tbody&gt;&lt;/table&gt;');\n      });\n\n    })\n    // on fail\n    .fail(function() {\n      alert( \"Error!\" );\n    });\n    return false;\n  }\n\n  function addToCart(productId){\n    var product = store.filter(function(category, catIndex){\n        return category.filter(function(product, prodIndex){\n            return (prodIndex == productId);\n        });\n    });\n    console.log(product);\n    return false;\n  };\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 3058125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adcd8a94e1f53ea4879a85c3ceeedbf3?s=128&d=identicon&r=PG&f=1", "display_name": "user3058125", "link": "https://stackoverflow.com/users/3058125/user3058125"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487802039, "creation_date": 1487801026, "question_id": 42403143, "link": "https://stackoverflow.com/questions/42403143/passing-an-object-in-multidimensional-each-to-function-outside-of-closure", "title": "passing an object in (multidimensional) $.each to function outside of closure", "body": "<p>I want to pass a product object from an $.each (inside a function) loop to a function outside the closure.</p>\n\n<p>When I console.log the product (object) it gives me:</p>\n\n<p>\"Uncaught ReferenceError: product is not defined\"</p>\n\n<p>Here's my code, please tell me what I am missing:</p>\n\n<pre><code>function openMenu(url){\n\n    // get feed from API\n    $.getJSON(url, function(storedata) {\n      $('#live-menu').addClass('active');\n      $('.live-menu-content').addClass('active');\n\n      // each the feed data\n      $.each(storedata, function(categoryName, productObject){\n        // category title and open table\n        $('.live-menu-content').append('&lt;h1 class=\"menu-category-title\"&gt;'+categoryName+'&lt;/h1&gt;');\n        $('.live-menu-content').append('&lt;table class=\"table table-'+categoryName+'\"&gt;&lt;tbody&gt;');\n\n        //go through products\n        $.each( productObject, function( productId, product ) { j++;\n          $('.table-'+categoryName+'').append('&lt;tr&gt;&lt;td&gt;'+product.name+'&lt;br/&gt;&lt;small&gt;'+product.description+'&lt;/small&gt;&lt;/td&gt;&lt;td&gt;\u20ac'+product.price+'&lt;/td&gt;&lt;td&gt;&lt;a onclick=\"addToCart(product);\" class=\"btn btn-primary pull-right\" href=\"#\"&gt;Add&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;');\n        });\n\n        // close table\n        $('.live-menu-content').append('&lt;/tbody&gt;&lt;/table&gt;');\n      });\n\n    })\n    // on fail\n    .fail(function() {\n      alert( \"Error!\" );\n    });\n    return false;\n  }\n\n  function addToCart(product){\n    console.log(product);\n    return false;\n  };\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "angular-ui-router", "boilerplate"], "answers": [{"comments": [{"owner": {"reputation": 420, "user_id": 5278088, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/10205897924822196/picture?type=large", "display_name": "Rafael Reis", "link": "https://stackoverflow.com/users/5278088/rafael-reis"}, "edited": false, "score": 0, "creation_date": 1487805615, "post_id": 42403636, "comment_id": 71955125, "body": "Thanks! Now it recognizes the state, but it does not load the partial :(  And it is recognizing the partial, cause it raises an error if i put an invalid partial path."}], "tags": [], "owner": {"reputation": 2274, "user_id": 7567579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ab9644beeb1d324d1247b2951d28927?s=128&d=identicon&r=PG", "display_name": "Emin Laletovic", "link": "https://stackoverflow.com/users/7567579/emin-laletovic"}, "is_accepted": true, "score": 2, "last_activity_date": 1487840393, "last_edit_date": 1487840393, "creation_date": 1487803164, "answer_id": 42403636, "question_id": 42403127, "link": "https://stackoverflow.com/questions/42403127/angularjs-states-from-submodule-not-recognized-by-main-module/42403636#42403636", "title": "AngularJS - States from submodule not recognized by main module", "body": "<p>You need a state provider in the main module as well, at least a default one. Try putting something like this in your main module:</p>\n\n<pre><code>$stateProvider\n        .state('boilerplate', {\n            url: '',\n            abstract:true,\n            templateUrl: 'app/demo/partials/blank.html' //some empty template, it will be overridden\n        })\n</code></pre>\n\n<p>Please note that when creating states in separate modules, hierarchy in state naming must be satisfied. If your abstract or default state is named <strong>boilerplate</strong>, your submodule state must be named <strong>boilerplate.something</strong>.</p>\n\n<p>Edit:</p>\n\n<p>I forgot to add one thing. In your submodule's $stateProvider state definition, you need to add <strong>parent</strong> property. It should look something like this:</p>\n\n<pre><code>$stateProvider\n            .state('boilerplate.home', {\n                url: '/home',\n                parent: 'boilerplate',\n                templateUrl: 'app/demo/partials/home.html',\n                controller: 'MainController',\n                controllerAs: 'vm'\n            })\n</code></pre>\n\n<p>Basically, child (submodule's) state should be aware on it's parent state. </p>\n"}], "owner": {"reputation": 420, "user_id": 5278088, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/10205897924822196/picture?type=large", "display_name": "Rafael Reis", "link": "https://stackoverflow.com/users/5278088/rafael-reis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 42403636, "answer_count": 1, "score": 0, "last_activity_date": 1487840393, "creation_date": 1487800948, "question_id": 42403127, "link": "https://stackoverflow.com/questions/42403127/angularjs-states-from-submodule-not-recognized-by-main-module", "title": "AngularJS - States from submodule not recognized by main module", "body": "<p>I am currently geting an error trying to use states defined on my submodule. I am working on this <a href=\"https://github.com/jbutko/AngularJS-Boilerplate\" rel=\"nofollow noreferrer\">AngularJS-Boilerplate</a> and they code in a way that i am not very used to. </p>\n\n<p>This is my main module:</p>\n\n<pre><code>;(function() {\n\n\n  /**\n   * Definition of the main app module and its dependencies\n   */\n  angular\n    .module('boilerplate', [\n      'ui.router',\n      'boilerplate.demo'\n    ])\n    .config(config);\n\n\n  config.$inject = ['$locationProvider', '$stateProvider', '$httpProvider', '$compileProvider', '$authProvider'];\n\n  function config($locationProvider, $stateProvider, $httpProvider, $compileProvider, $authProvider) {\n\n    $locationProvider.html5Mode(false);\n\n    $httpProvider.interceptors.push('authInterceptor');\n\n    $authProvider.facebook({\n      clientId: '471453806577471',\n      responseType: 'token'\n    });\n\n  }\n\n  /**\n   * Run block\n   */\n  angular\n    .module('boilerplate')\n    .run(run);\n\n  run.$inject = ['$rootScope', '$state', '$stateParams','$location'];\n\n  function run($rootScope, $state, $stateParams, $location) {\n    $state.go('boilerplate.home');\n\n  }\n\n\n})();\n</code></pre>\n\n<p>This is my submodule:</p>\n\n<pre><code>;(function() {\n\n\n  /**\n   * Definition of the main app module and its dependencies\n   */\n  angular\n    .module('boilerplate.demo', [\n      'ui.router',\n    ])\n    .config(config);\n\n  // safe dependency injection\n  // this prevents minification issues\n  config.$inject = ['$stateProvider'];\n\n  function config($stateProvider) {\n    console.log('states');\n    $stateProvider\n            .state('boilerplate.home', {\n                url: '/home',\n                templateUrl: 'app/demo/partials/home.html',\n                controller: 'MainController',\n                controllerAs: 'vm'\n            })\n\n  }\n\n})();\n</code></pre>\n\n<p>I get this error:</p>\n\n<blockquote>\n  <p>angular.js:11706 Error: Could not resolve 'boilerplate.home' from state ''</p>\n</blockquote>\n\n<p>If I put $stateProvider in the main module and change the controllers module also to the main module it works. Any help?</p>\n"}, {"tags": ["javascript", "html", "ajax"], "comments": [{"owner": {"reputation": 1596, "user_id": 2144796, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/CPUp4.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/2144796/edward"}, "edited": false, "score": 2, "creation_date": 1487800923, "post_id": 42403089, "comment_id": 71953248, "body": "<code>document.write(page);</code> will do it. Is there any reason your not using an ajax framework? If you were to use JQuery you could do <code>$(&#39;html&#39;).html(page);</code>"}, {"owner": {"reputation": 25945, "user_id": 743464, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3a21f6147bcc6bd9d997d5cc5b5f87c?s=128&d=identicon&r=PG", "display_name": "Andy Ray", "link": "https://stackoverflow.com/users/743464/andy-ray"}, "edited": false, "score": 1, "creation_date": 1487800950, "post_id": 42403089, "comment_id": 71953259, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/4292603/replacing-entire-page-including-head-using-javascript\">Replacing Entire Page Including Head Using Javascript</a>"}, {"owner": {"reputation": 123, "user_id": 5465202, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf7560c3e85b85c0b974d4a05ed74a71?s=128&d=identicon&r=PG&f=1", "display_name": "Nobody", "link": "https://stackoverflow.com/users/5465202/nobody"}, "reply_to_user": {"reputation": 25945, "user_id": 743464, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3a21f6147bcc6bd9d997d5cc5b5f87c?s=128&d=identicon&r=PG", "display_name": "Andy Ray", "link": "https://stackoverflow.com/users/743464/andy-ray"}, "edited": false, "score": 0, "creation_date": 1487801104, "post_id": 42403089, "comment_id": 71953335, "body": "@AndyRay I have read that page, but I don&#39;t think any of those methods also replace the DOCTYPE."}, {"owner": {"reputation": 123, "user_id": 5465202, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf7560c3e85b85c0b974d4a05ed74a71?s=128&d=identicon&r=PG&f=1", "display_name": "Nobody", "link": "https://stackoverflow.com/users/5465202/nobody"}, "reply_to_user": {"reputation": 1596, "user_id": 2144796, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/CPUp4.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/2144796/edward"}, "edited": false, "score": 0, "creation_date": 1487801145, "post_id": 42403089, "comment_id": 71953350, "body": "@Edward <code>document.write(page);</code> apparently doesn&#39;t have full browser compatibility."}, {"owner": {"reputation": 123, "user_id": 5465202, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf7560c3e85b85c0b974d4a05ed74a71?s=128&d=identicon&r=PG&f=1", "display_name": "Nobody", "link": "https://stackoverflow.com/users/5465202/nobody"}, "reply_to_user": {"reputation": 1596, "user_id": 2144796, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/CPUp4.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/2144796/edward"}, "edited": false, "score": 0, "creation_date": 1487801368, "post_id": 42403089, "comment_id": 71953450, "body": "@Edward Also, the jQuery method only changes the html content, not the entire page."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1487802997, "post_id": 42403089, "comment_id": 71954184, "body": "<code>document.write</code> was one of the first things added to the DOM. Where are you finding limited compatibility? Otherwise, you&#39;d have to literally build the DOM manually, using DOM methods like: <a href=\"http://stackoverflow.com/q/8227612/215552\">stackoverflow.com/q/8227612/215552</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1596, "user_id": 2144796, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/CPUp4.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/2144796/edward"}, "is_accepted": false, "score": 3, "last_activity_date": 1487802766, "creation_date": 1487802766, "answer_id": 42403555, "question_id": 42403089, "link": "https://stackoverflow.com/questions/42403089/replace-entire-page-contents-with-doctype/42403555#42403555", "title": "Replace entire page contents (with DOCTYPE)", "body": "<p>The closest I can get is:</p>\n\n<pre><code>document.getElementsByTagName('html')[0].innerHTML=\"\";\n</code></pre>\n\n<p>Ill update this answer if I can find out why you can't clear the DOM's root node.</p>\n"}, {"tags": [], "owner": {"reputation": 123, "user_id": 5465202, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf7560c3e85b85c0b974d4a05ed74a71?s=128&d=identicon&r=PG&f=1", "display_name": "Nobody", "link": "https://stackoverflow.com/users/5465202/nobody"}, "is_accepted": true, "score": 1, "last_activity_date": 1487898917, "creation_date": 1487898917, "answer_id": 42429097, "question_id": 42403089, "link": "https://stackoverflow.com/questions/42403089/replace-entire-page-contents-with-doctype/42429097#42429097", "title": "Replace entire page contents (with DOCTYPE)", "body": "<p>Never mind. I decided I could just replace the content inside the <code>&lt;html&gt;</code> tags. The code I used was:</p>\n\n<pre><code>var contents = \"Sorry : ( IMPORT FAILED...\";\nvar file = new XMLHttpRequest();\nfile.open(\"GET\", \"/toload.html\", false);\nfile.onreadystatechange = function() {\n    contents = file.responseText;\n}\nfile.send(null);\ndocument.getElementsByTagName(\"html\")[0].innerHTML = contents;\n</code></pre>\n\n<p>Thanks for your wonderful answers anyway!</p>\n"}], "owner": {"reputation": 123, "user_id": 5465202, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bf7560c3e85b85c0b974d4a05ed74a71?s=128&d=identicon&r=PG&f=1", "display_name": "Nobody", "link": "https://stackoverflow.com/users/5465202/nobody"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1413, "favorite_count": 0, "accepted_answer_id": 42429097, "answer_count": 2, "score": 4, "last_activity_date": 1487898917, "creation_date": 1487800804, "last_edit_date": 1487802362, "question_id": 42403089, "link": "https://stackoverflow.com/questions/42403089/replace-entire-page-contents-with-doctype", "title": "Replace entire page contents (with DOCTYPE)", "body": "<p>I know that this question has been asked before, but most answers only replaced the body tag, or needed jQuery. I want to be able to replace the entire page contents <strong>including the DOCTYPE</strong> using plain JavaScript. Also, I don't want to redirect the page with <code>window.location.href</code>. Take this simple page (index.html):</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n  &lt;title&gt;Test&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n  &lt;p&gt;Testing...&lt;/p&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>After loading another page with AJAX:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var page;\nvar file = new XMLHttpRequest();\nfile.open('GET', './toload.html');\nfile.onreadystatechange = function() {\n  page = file.responseText;\n}\nfile.send();\n</code></pre>\n\n<p>I want to erase my current page contents and display the contents of <code>toload.html</code>, which is:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n  &lt;title&gt;Loaded&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n  &lt;p&gt;Hello. This page is now loaded!&lt;/p&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>How can I do this?</p>\n"}, {"tags": ["javascript", "jquery"], "answers": [{"tags": [], "owner": {"reputation": 79, "user_id": 1213016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1cb97fd069ececdddebff5044800ba9?s=128&d=identicon&r=PG", "display_name": "Andy S.", "link": "https://stackoverflow.com/users/1213016/andy-s"}, "is_accepted": false, "score": 2, "last_activity_date": 1487800585, "creation_date": 1487800585, "answer_id": 42403042, "question_id": 42403041, "link": "https://stackoverflow.com/questions/42403041/jquery-validation-syntax-error-unrecognized-expression-labelfor/42403042#42403042", "title": "jQuery validation Syntax error, unrecognized expression: label[for=]", "body": "<p>In my case, the error was being triggered in the onfocusout of the jQuery validator.  It was caused because the element / field losing focus didn't have an ID (the error message <em>almost</em> makes that clear if you think about it hard enough).</p>\n\n<p>The field losing focus was an unimportant trigger (via jQuery class selector) on a relatively simple form.  The field didn't require any validation on its own.</p>\n\n<p>Adding an ID to the field resolved the issue.</p>\n\n<p>An alternative solution would be to make use of the ignore: feature of the jQuery Validation plugin.</p>\n"}], "owner": {"reputation": 79, "user_id": 1213016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1cb97fd069ececdddebff5044800ba9?s=128&d=identicon&r=PG", "display_name": "Andy S.", "link": "https://stackoverflow.com/users/1213016/andy-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2642, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1487800585, "creation_date": 1487800585, "question_id": 42403041, "link": "https://stackoverflow.com/questions/42403041/jquery-validation-syntax-error-unrecognized-expression-labelfor", "title": "jQuery validation Syntax error, unrecognized expression: label[for=]", "body": "<p>I encountered the error \"Syntax error, unrecognized expression: label[for=]\" after upgrading to jQuery 3.1.1 from an old version of jQuery (1.10.2).  I had also upgraded the jQuery.validate plugin to version 1.15.1.</p>\n\n<p>This is similar to other \"Syntax error, unrecognized expression: label...\" types of questions but unique enough to justify its own entry, I believe.  Multiple searches online for this message didn't lead me to the solution I stumbled upon (below).</p>\n\n<p>The error occurs when clicking into any field on the form after selecting a Yes/No value from a dropdown field which alters the UI slightly.</p>\n"}, {"tags": ["javascript", "arrays", "json", "sorting", "lodash"], "comments": [{"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 2, "creation_date": 1487800234, "post_id": 42402923, "comment_id": 71952915, "body": "<code>1</code> and <code>-</code> were in the same sub-array but in your desired output they&#39;re separated. What is the logic behind that?"}, {"owner": {"reputation": 365, "user_id": 1664599, "user_type": "registered", "accept_rate": 4, "profile_image": "https://www.gravatar.com/avatar/9c58e6b5152189498114c6c85087be1b?s=128&d=identicon&r=PG", "display_name": "forkfork", "link": "https://stackoverflow.com/users/1664599/forkfork"}, "reply_to_user": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1487800407, "post_id": 42402923, "comment_id": 71952991, "body": "There&#39;s no logic, just &quot;-&quot; isn&#39;t set yet. It can be another number, but because it isn&#39;t set yet it is left at the end, the same applies for whatever object."}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 1, "creation_date": 1487800495, "post_id": 42402923, "comment_id": 71953043, "body": "Not talking about <code>-</code>, I&#39;m talking about how <code>1</code> and <code>-</code> got separated from each other after the sort! (<b>before:</b> they were in the same sub-array, <b>after:</b> each one went to a different sub-array)! Same for <code>7</code> and <code>3</code>!"}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1487800671, "post_id": 42402923, "comment_id": 71953114, "body": "And <code>1</code>, <code>7</code>, <code>3</code> and <code>-</code> don&#39;t look sorted to me!"}, {"owner": {"reputation": 365, "user_id": 1664599, "user_type": "registered", "accept_rate": 4, "profile_image": "https://www.gravatar.com/avatar/9c58e6b5152189498114c6c85087be1b?s=128&d=identicon&r=PG", "display_name": "forkfork", "link": "https://stackoverflow.com/users/1664599/forkfork"}, "reply_to_user": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1487800834, "post_id": 42402923, "comment_id": 71953204, "body": "@ibrahimmahrir The array is sorted by the greatest position value and the least position value in the first array, then the second greatest position value and the second least position value in the second array. The position with &quot;-&quot; is left after the string numbers."}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1487801147, "post_id": 42402923, "comment_id": 71953351, "body": "so for four values, it might go with just reassigning the objects, but what should happen with more?"}], "answers": [{"tags": [], "owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "is_accepted": false, "score": 0, "last_activity_date": 1487802447, "last_edit_date": 1487802447, "creation_date": 1487801855, "answer_id": 42403338, "question_id": 42402923, "link": "https://stackoverflow.com/questions/42402923/javascript-how-to-sort-an-array-of-array-by-number-strings/42403338#42403338", "title": "JavaScript - How to sort an array of array by number strings?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// get an array of object an return the min index or the max index depending on the parameter max (true =&gt; max index, false =&gt; min index)\r\nfunction minMax(arr, max) {\r\n  var index = 0;                                             // assuming the index 0 is the min or max\r\n  for (var i = 1; i &lt; arr.length; i++) {                     // for each other object in the array\r\n    if(arr[index].position == '-')                           // if the position of the object at index index is '-' then assume the index is this i (before starting the comparison, find an item which have a number for its position property)\r\n      index = i;\r\n    else if ((arr[i].position &gt; arr[index].position) == max) // now that the object at index index has a valid position property, make the comparison depending on the argument max\r\n      index = i;\r\n  }\r\n  return index;\r\n}\r\n\r\n// take an two dimensional array and rearrange it\r\nfunction reArrange(arr) {\r\n  var simple = arr.reduce(function(acc, a) {                 // first let's make the two dimensional array into a one dimensional array\r\n    return acc.concat(a);\r\n  }, []);\r\n  \r\n  var result = [];                                           // the result array\r\n  while(simple.length) {                                     // while there is element in the one dimensional array\r\n    var min = minMax(simple, false);                         // get the min index\r\n    var max = minMax(simple, true);                          // get the max\r\n    result.push([                                            // push the items at the min and max indexes as a sub-array of the result array\r\n      simple.splice(min, 1)[0],                              // splice to remove it from simple array as well\r\n      simple.splice((max &lt; min)? max: max - 1, 1)[0]         // if max index is after min index then substract one because the above splice shrank the array \r\n    ]);\r\n  }\r\n  return result;\r\n}\r\n\r\n\r\n\r\nvar arr = [\r\n    [{\"name\":\"one\",\"team\":\"------\",\"checked\":false,\"position\":\"-\"},\r\n     {\"name\":\"two\",\"team\":\"------\",\"checked\":false,\"position\":\"1\"}],\r\n    [{\"name\":\"three\",\"team\":\"------\",\"checked\":false,\"position\":\"3\"},\r\n     {\"name\":\"four\",\"team\":\"------\",\"checked\":false,\"position\":\"7\"}]\r\n];\r\n\r\nconsole.log(reArrange(arr));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 0, "last_activity_date": 1487802679, "last_edit_date": 1487802679, "creation_date": 1487802193, "answer_id": 42403415, "question_id": 42402923, "link": "https://stackoverflow.com/questions/42402923/javascript-how-to-sort-an-array-of-array-by-number-strings/42403415#42403415", "title": "JavaScript - How to sort an array of array by number strings?", "body": "<p>You could use sort the inner array, then assign to result and sort again.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = [[{ \"name\": \"one\", \"team\": \"------\", \"checked\": false, \"position\": \"-\" }, { \"name\": \"two\", \"team\": \"------\", \"checked\": false, \"position\": \"1\" }], [{ \"name\": \"three\", \"team\": \"------\", \"checked\": false, \"position\": \"3\" }, { \"name\": \"four\", \"team\": \"------\", \"checked\": false, \"position\": \"7\" }]],\r\n    result = [];\r\n\r\ndata.forEach(function (a) {\r\n    a.sort(function (a, b) { return (+b.position || Number.MIN_VALUE) - (+a.position || Number.MIN_VALUE); });\r\n});\r\n\r\ndata.forEach(function (a, i) {\r\n    a.forEach(function (b, j) {\r\n        result[j] = result[j] || [];\r\n        result[j][i] = b;\r\n    });\r\n});\r\n\r\nresult.forEach(function (a) {\r\n    a.sort(function (a, b) { return (+a.position || Number.MAX_VALUE) - (+b.position || Number.MAX_VALUE); });\r\n});\r\n\r\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 365, "user_id": 1664599, "user_type": "registered", "accept_rate": 4, "profile_image": "https://www.gravatar.com/avatar/9c58e6b5152189498114c6c85087be1b?s=128&d=identicon&r=PG", "display_name": "forkfork", "link": "https://stackoverflow.com/users/1664599/forkfork"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1487810687, "creation_date": 1487800086, "last_edit_date": 1487801130, "question_id": 42402923, "link": "https://stackoverflow.com/questions/42402923/javascript-how-to-sort-an-array-of-array-by-number-strings", "title": "JavaScript - How to sort an array of array by number strings?", "body": "<p>I receive an array like this:</p>\n\n<pre><code>[\n    [{\"name\":\"one\",\"team\":\"------\",\"checked\":false,\"position\":\"-\"},\n     {\"name\":\"two\",\"team\":\"------\",\"checked\":false,\"position\":\"1\"}],\n    [{\"name\":\"three\",\"team\":\"------\",\"checked\":false,\"position\":\"3\"},\n     {\"name\":\"four\",\"team\":\"------\",\"checked\":false,\"position\":\"7\"}]\n]\n</code></pre>\n\n<p>I want the final output to be like this:</p>\n\n<pre><code>[\n    [{\"name\":\"two\",\"team\":\"------\",\"checked\":false,\"position\":\"1\"},\n     {\"name\":\"four\",\"team\":\"------\",\"checked\":false,\"position\":\"7\"}],\n    [{\"name\":\"three\",\"team\":\"------\",\"checked\":false,\"position\":\"3\"},\n     {\"name\":\"one\",\"team\":\"------\",\"checked\":false,\"position\":\"-\"}]\n]\n</code></pre>\n\n<p>That means that the array is sorted by the greatest position value and the least position value in the first sub-array, then the second greatest position value and the second least position value in the second sub-array. If there is a \"-\" in position it is left after the string numbers.</p>\n\n<p>So far I have tried this with lodash:</p>\n\n<pre><code>var mergedArray = vm.roundOf4[0].concat(vm.roundOf4[1]);\nvar count = _.countBy(mergedArray, {position: '-'});\n\nvar ascArray = _.cloneDeep(mergedArray);\nvar descArray = _.cloneDeep(mergedArray);\n\n_.sortByOrder(ascArray, 'position', 'asc');\n_.sortByOrder(descArray, 'position', 'desc');\n\n_.times(count.true, ascArray.push(ascArray.shift()));\n\nvm.roundOf4.some(function (array, i) {\n    array.some(function (object, j) {\n\n        if (j === 0) {\n            vm.roundOf4[i][j] = ascArray[i];\n\n        } else if (j === 1) {\n            vm.roundOf4[i][j] = descArray[i];\n        }\n\n    });\n});\n</code></pre>\n\n<p>But the ascending sort by function is not sorting correctly the position value, so it's giving random sorting. I don't know if it is because position is a string value.</p>\n\n<p>Should I use numbers instead?</p>\n"}, {"tags": ["javascript", "html", "mermaid"], "answers": [{"tags": [], "owner": {"reputation": 2269, "user_id": 207291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lIi8J.jpg?s=128&g=1", "display_name": "rpisryan", "link": "https://stackoverflow.com/users/207291/rpisryan"}, "is_accepted": true, "score": 4, "last_activity_date": 1532789487, "creation_date": 1532789487, "answer_id": 51572474, "question_id": 42402912, "link": "https://stackoverflow.com/questions/42402912/how-to-embed-an-image-in-a-node-with-mermaid-js/51572474#51572474", "title": "How to embed an image in a node with &quot;mermaid.js&quot;", "body": "<p>Here is the API example from <a href=\"https://github.com/knsv/mermaid/issues/548\" rel=\"nofollow noreferrer\">this thread</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var mermaidAPI = mermaid.mermaidAPI;\r\n\r\nmermaidAPI.initialize({\r\n  startOnLoad:false\r\n});\r\n\r\nvar element = document.getElementById(\"app\");\r\nvar insertSvg = function(svgCode, bindFunctions) {\r\n  element.innerHTML = svgCode;\r\n};\r\nvar graphDefinition = `graph LR; Systemstart--&gt;SomeIcon(&lt;img src='https://iconscout.com/ms-icon-310x310.png' width='40' height='40' /&gt;)`;\r\nvar graph = mermaidAPI.render(\"mermaid\", graphDefinition, insertSvg);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://unpkg.com/mermaid@8.0.0-rc.8/dist/mermaid.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"app\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 263, "user_id": 6793483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ad4699582371ade6ec871564c9de2b2?s=128&d=identicon&r=PG&f=1", "display_name": "qd-codie", "link": "https://stackoverflow.com/users/6793483/qd-codie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2895, "favorite_count": 1, "accepted_answer_id": 51572474, "answer_count": 1, "score": 5, "last_activity_date": 1532789487, "creation_date": 1487800051, "last_edit_date": 1530793803, "question_id": 42402912, "link": "https://stackoverflow.com/questions/42402912/how-to-embed-an-image-in-a-node-with-mermaid-js", "title": "How to embed an image in a node with &quot;mermaid.js&quot;", "body": "<p>Is there any way to embed a picture with <a href=\"https://mermaidjs.github.io/\" rel=\"nofollow noreferrer\">mermaid.js</a> in a flow diagram graph node? I tried:</p>\n\n<pre><code>&lt;div class=\"mermaid\"&gt;\n  graph LR\n  A(&lt;img src=\"pic.svg\"&gt;&lt;/img&gt;) --&gt; B\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "scope"], "comments": [{"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 2, "creation_date": 1487800018, "post_id": 42402870, "comment_id": 71952798, "body": "Your output is not clear! Please explain more! What do you expect?"}, {"owner": {"reputation": 31483, "user_id": 502381, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74b99e687909be449e0130a50950eac7?s=128&d=identicon&r=PG&f=1", "display_name": "JJJ", "link": "https://stackoverflow.com/users/502381/jjj"}, "edited": false, "score": 1, "creation_date": 1487800106, "post_id": 42402870, "comment_id": 71952843, "body": "You&#39;re looping through the data and every iteration writes something to the <code>greeting</code> variable. Only the value set in the last iteration is returned."}, {"owner": {"reputation": 2624, "user_id": 3516963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b70ad11c185bf77711323511ff39f10?s=128&d=identicon&r=PG&f=1", "display_name": "artemisian", "link": "https://stackoverflow.com/users/3516963/artemisian"}, "edited": false, "score": 1, "creation_date": 1487800140, "post_id": 42402870, "comment_id": 71952863, "body": "The variable is absolutely visible throughout your function. Your error is somewhere else"}, {"owner": {"reputation": 10008, "user_id": 462006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/37peF.jpg?s=128&g=1", "display_name": "scrappedcola", "link": "https://stackoverflow.com/users/462006/scrappedcola"}, "edited": false, "score": 1, "creation_date": 1487800170, "post_id": 42402870, "comment_id": 71952876, "body": "Try some debugging. Open your console and add a breakpoint at the start of the <code>greetCustomer</code> function. Does your <code>customerData</code> have a key <code>Joe</code>? Step through your for loop and compare the input Joe to the object."}, {"owner": {"reputation": 3235, "user_id": 1148244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z8rdM.jpg?s=128&g=1", "display_name": "Pabs123", "link": "https://stackoverflow.com/users/1148244/pabs123"}, "edited": false, "score": 0, "creation_date": 1487800184, "post_id": 42402870, "comment_id": 71952889, "body": "what does customerData look like and where is it defined? the issue is most likely stemming from  scoping issues with that instead"}, {"owner": {"reputation": 2293, "user_id": 6532189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7008d18e4d8f2109460ff7918ae806e8?s=128&d=identicon&r=PG&f=1", "display_name": "BehradKhodayar", "link": "https://stackoverflow.com/users/6532189/behradkhodayar"}, "edited": false, "score": 0, "creation_date": 1487800609, "post_id": 42402870, "comment_id": 71953092, "body": "Its seems There is nothing wrong with <code>greeting</code> visibility. your outer if doesn&#39;t let program routine get into number-of-visits check at all, and it pushes it to else statement. There is no block visibility in js (except for <code>catch</code> block), so greeting is sure visible throughout your function."}, {"owner": {"reputation": 323, "user_id": 3163059, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6106a93e239a3b7c0cae0e5c4ebcf552?s=128&d=identicon&r=PG&f=1", "display_name": "macrolyte", "link": "https://stackoverflow.com/users/3163059/macrolyte"}, "edited": false, "score": 0, "creation_date": 1487802185, "post_id": 42402870, "comment_id": 71953822, "body": "I get a down vote because my computer freezes.... nice."}], "answers": [{"tags": [], "owner": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "is_accepted": false, "score": 1, "last_activity_date": 1487808377, "last_edit_date": 1487808377, "creation_date": 1487800443, "answer_id": 42403005, "question_id": 42402870, "link": "https://stackoverflow.com/questions/42402870/if-statement-and-scope-in-javascript/42403005#42403005", "title": "if statement and scope in javascript", "body": "<p>Your code iterates over the available keys in the <code>customerData</code> object. When it sees a key matching <code>firstName</code> it assigns to <code>greeting</code> and logs it.</p>\n\n<p>Then it <em>continues</em> to iterate over the other keys and if the next key does not match <code>firstName</code> (which it probably won't), <code>greeting</code> is assigned <code>\"Welcome! Is this your first time?\"</code>. This value is eventually returned from the function. When <code>firstName</code> happens to be the last key in <code>customerData</code> then your code will work OK, otherwise <code>greeting</code> will be reassigned with the default value.</p>\n\n<p>So the basic problem is that your code continues processing after it has found and processed the target value, and that it reassigns the <code>greetings</code> string. There is no issue with scope or visibility of the <code>greeting</code> variable - it is a local variable to function <code>greetCustomer</code>.</p>\n\n<p>One way to fix this is to return immediately after assigning the greeting (as you already noted). Another way is to use <code>break</code> to exit the for loop. Then <code>greeting</code> will be returned at the end of the function.</p>\n\n<pre><code>function greetCustomer(firstName) {\n  var greeting = '';\n\n  for(var key in customerData){\n    if(key === firstName){\n      if(customerData[key]['visits'] === 1){\n         greeting = \"Welcome back, \" + firstName + \"! We're glad you liked us the first time!\";\n        console.log(greeting); // here to illustrate issue\n      }\n      else if(customerData[key]['visits'] &gt; 1){\n        greeting = \"Welcome back, \" + firstName + \"! So glad to see you again!\";\n        console.log(greeting);\n      }\n      break;    // customer name found and appropriate greeting set, exit loop\n    }\n    else{\n      greeting = \"Welcome! Is this your first time?\"\n    }\n  }\n\n  return greeting;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2293, "user_id": 6532189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7008d18e4d8f2109460ff7918ae806e8?s=128&d=identicon&r=PG&f=1", "display_name": "BehradKhodayar", "link": "https://stackoverflow.com/users/6532189/behradkhodayar"}, "is_accepted": false, "score": 1, "last_activity_date": 1487802269, "creation_date": 1487802269, "answer_id": 42403431, "question_id": 42402870, "link": "https://stackoverflow.com/questions/42402870/if-statement-and-scope-in-javascript/42403431#42403431", "title": "if statement and scope in javascript", "body": "<p>For success conditions immediately return greeting instead of assigning it to <code>greeting</code> variable. But for the condition where <code>firstname</code> is not one of keys in <code>customerData</code>, just set <code>greeting</code> to <code>\"Welcome! Is this your first time?\"</code> &amp; let the iteration continue to look for `firstname.</p>\n\n<p>Change your code to this [TESTED]:</p>\n\n<pre><code>function greetCustomer(firstName) {\nvar greeting = '';\n\nfor(var key in customerData){\n  if(key === firstName){\n    if(customerData[key]['visits'] === 1){\n      return(\"Welcome back, \" + firstName + \"! We're glad you liked us the first time!\");\n      console.log(greeting); // here to illustrate issue\n    }\n    else if(customerData[key]['visits'] &gt; 1){\n      return(\"Welcome back, \" + firstName + \"! So glad to see you again!\");\n     }\n   }\n   else{\n    greeting = \"Welcome! Is this your first time?\";\n  }\n}\nreturn greeting;\n}\nconsole.log(greetCustomer(\"Joe\"));\n</code></pre>\n"}], "owner": {"reputation": 323, "user_id": 3163059, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6106a93e239a3b7c0cae0e5c4ebcf552?s=128&d=identicon&r=PG&f=1", "display_name": "macrolyte", "link": "https://stackoverflow.com/users/3163059/macrolyte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 376, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1487808377, "creation_date": 1487799849, "last_edit_date": 1487801176, "question_id": 42402870, "link": "https://stackoverflow.com/questions/42402870/if-statement-and-scope-in-javascript", "title": "if statement and scope in javascript", "body": "<p><strong>EDIT:</strong> ADDED OBJECT</p>\n\n<p>I'm having an issue with a variable declared within the body of a function that seems to disappear before the variable is returned from the function:</p>\n\n<pre><code>var customerData = {\n  'Joe': {\n    visits: 1\n  },\n  'Carol': {\n    visits: 2\n  },\n  'Howard': {\n    visits: 3,\n  },\n  'Carrie': {\n    visits: 4\n  }\n};\n\nfunction greetCustomer(firstName) {\n  var greeting = '';\n\n  for(var key in customerData){\n    if(key === firstName){\n      if(customerData[key]['visits'] === 1){\n         greeting = \"Welcome back, \" + firstName + \"! We're glad you liked us the first time!\";\n        console.log(greeting); // here to illustrate issue\n      }\n      else if(customerData[key]['visits'] &gt; 1){\n        greeting = \"Welcome back, \" + firstName + \"! So glad to see you again!\";\n        console.log(greeting);\n      }\n    }\n    else{\n      greeting = \"Welcome! Is this your first time?\"\n    }\n  }\n\n  return greeting;\n}\ngreetCustomer(\"Joe\");\n</code></pre>\n\n<p>And the output:</p>\n\n<pre><code>Welcome back, Joe! We're glad you liked us the first time! // here is the correct greeting from the console output\n=&gt; 'Welcome! Is this your first time?' // this is what I got\nWelcome back, Carol! So glad to see you again! // correct output again\n=&gt; 'Welcome! Is this your first time? // base case again.\n</code></pre>\n\n<p>Shouldn't <code>greeting</code> be visible throughout the function for accessing its value <em>and</em> for assignment as well? I <em>know</em> that I can just return the greeting from the branch, but I'm unsure as to what I'm seeing here, but I hope someone can explain. Thanks.</p>\n"}, {"tags": ["javascript", "json", "facebook", "android-studio", "facebook-graph-api"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7590159, "user_type": "registered", "profile_image": "https://graph.facebook.com/1290882727617021/picture?type=large", "display_name": "Yash Rustagi", "link": "https://stackoverflow.com/users/7590159/yash-rustagi"}, "edited": false, "score": 0, "creation_date": 1487972440, "post_id": 42426314, "comment_id": 72041263, "body": "thanks @Bostrot .i parsed the data as news feeds from facebook in my app but i don&#39;t know how to show  each news/post seperately that page is making .At the moment i m getting all feeds and time in a paragraph and if   possible then would like to add card view to the feeds."}, {"owner": {"reputation": 4150, "user_id": 5237072, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74bde9bdcc767bab7d42b83dfd4d31a8?s=128&d=identicon&r=PG", "display_name": "Bostrot", "link": "https://stackoverflow.com/users/5237072/bostrot"}, "reply_to_user": {"reputation": 1, "user_id": 7590159, "user_type": "registered", "profile_image": "https://graph.facebook.com/1290882727617021/picture?type=large", "display_name": "Yash Rustagi", "link": "https://stackoverflow.com/users/7590159/yash-rustagi"}, "edited": false, "score": 0, "creation_date": 1488048448, "post_id": 42426314, "comment_id": 72062642, "body": "@YashRustagi I don&#39;t want to just make references, but i think this is what you want: <a href=\"http://stackoverflow.com/questions/38332540/json-parsing-to-listview-android\">Json Parsing to ListView</a>  (if you are using a listview)"}], "tags": [], "owner": {"reputation": 4150, "user_id": 5237072, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/74bde9bdcc767bab7d42b83dfd4d31a8?s=128&d=identicon&r=PG", "display_name": "Bostrot", "link": "https://stackoverflow.com/users/5237072/bostrot"}, "is_accepted": false, "score": 0, "last_activity_date": 1487884489, "last_edit_date": 1495539990, "creation_date": 1487884489, "answer_id": 42426314, "question_id": 42402839, "link": "https://stackoverflow.com/questions/42402839/how-do-i-create-a-news-feed-in-android-studio-using-facebook-graph-api/42426314#42426314", "title": "How do I create a News feed in Android Studio using Facebook Graph API?", "body": "<p>maybe this is what you are looking for:\n<a href=\"https://stackoverflow.com/questions/3706515/json-parsing-in-android/3708997#3708997\">JSON Parsing in Android</a></p>\n\n<p>Otherwise - If you simply want json parsing:</p>\n\n<p><a href=\"http://www.androidhive.info/2012/01/android-json-parsing-tutorial/\" rel=\"nofollow noreferrer\">Android Json Parsing</a></p>\n\n<p><a href=\"https://www.tutorialspoint.com/android/android_json_parser.htm\" rel=\"nofollow noreferrer\">check this out too</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7590159, "user_type": "registered", "profile_image": "https://graph.facebook.com/1290882727617021/picture?type=large", "display_name": "Yash Rustagi", "link": "https://stackoverflow.com/users/7590159/yash-rustagi"}, "is_accepted": true, "score": 0, "last_activity_date": 1489169007, "creation_date": 1489169007, "answer_id": 42724958, "question_id": 42402839, "link": "https://stackoverflow.com/questions/42402839/how-do-i-create-a-news-feed-in-android-studio-using-facebook-graph-api/42724958#42724958", "title": "How do I create a News feed in Android Studio using Facebook Graph API?", "body": "<p>i found out a solution by which i generated Facebook feeds text to show in my app.</p>\n\n<p>first of all you should know about Retrofit through which i fetched Jason data and accessed graph API.</p>\n\n<p>HERE IS THE LINK :\n<a href=\"https://www.learn2crack.com/2016/02/recyclerview-json-parsing.html\" rel=\"nofollow noreferrer\">https://www.learn2crack.com/2016/02/recyclerview-json-parsing.html</a></p>\n\n<p>this is how u can pass your API </p>\n\n<pre><code>public class ApiClient {\n\nstatic OkHttpClient.Builder httpClient;\nprivate static Retrofit retrofitDefault = null;\npublic static final String ACCESS_TOKEN =\"EAAas6ruKIiEBAE9H1E2sIKr206OssCQ9EyzxpkccHbuJj7ZCdLTA1EJpZBqzyx3tylwb7q9VQz0f4G1i1u2mYlJ7K5FBZBm0MlVzk28JT2cVpPMPgNfKKg11uTZA2m0IW211Wj9Mhbjtdg3EsIKiGIHppTw1pkcZD\";\npublic static final String PAGE_ID =\"678319485673629\";\npublic static Retrofit getClient() {\n    httpClient = new OkHttpClient.Builder();\n    if (retrofitDefault == null) {\n        retrofitDefault = new Retrofit.Builder()\n                .baseUrl(\"https://graph.facebook.com/\")\n                .addConverterFactory(JSONConverterFactory.create())\n                .client(\n                        httpClient.build()\n                ).build();\n    }\n    return retrofitDefault;\n}\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 1, "user_id": 7590159, "user_type": "registered", "profile_image": "https://graph.facebook.com/1290882727617021/picture?type=large", "display_name": "Yash Rustagi", "link": "https://stackoverflow.com/users/7590159/yash-rustagi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1181, "favorite_count": 1, "accepted_answer_id": 42724958, "answer_count": 2, "score": -2, "last_activity_date": 1489169007, "creation_date": 1487799714, "last_edit_date": 1487805575, "question_id": 42402839, "link": "https://stackoverflow.com/questions/42402839/how-do-i-create-a-news-feed-in-android-studio-using-facebook-graph-api", "title": "How do I create a News feed in Android Studio using Facebook Graph API?", "body": "<p>I am confused how to implement JSON parsed code into my Android Studio. I have a Facebook page and I have generated the permanent access token from Graph API, now </p>\n\n<p>I don't know how to connect it to Android Studio project where i want to show news feeds from that Facebook page into my app. Just need code that will implement it in studio Java file.</p>\n\n<p>I cannot show app Id and token for security purpose.</p>\n\n<p>Any solution to this question is appreciated.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["javascript", "node.js", "asynchronous", "jasmine"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 7607273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ee863ddde557b22f8963adad1ca86b8?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/7607273/dev"}, "edited": false, "score": 0, "creation_date": 1487803627, "post_id": 42403421, "comment_id": 71954412, "body": "Hi, many thanks for the suggestion! Had I not resolved it with rewire i definitely would have investigated the proxyquire method you suggested here."}], "tags": [], "owner": {"reputation": 458, "user_id": 3919495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BbhE1.jpg?s=128&g=1", "display_name": "Jaime", "link": "https://stackoverflow.com/users/3919495/jaime"}, "is_accepted": false, "score": 0, "last_activity_date": 1487802593, "last_edit_date": 1487802593, "creation_date": 1487802218, "answer_id": 42403421, "question_id": 42402780, "link": "https://stackoverflow.com/questions/42402780/how-do-i-test-my-async-jasmine-nodejs-promise-code-using-spies/42403421#42403421", "title": "how do i test my async jasmine/nodejs/promise code using Spies", "body": "<p>Is probable that, by the time your test code execute, <em>the promise has not propagated to the code under test</em>. And simply calling <code>done()</code> doesn't the synchronization magic. </p>\n\n<p>I'm not familiar with <code>rewire</code> so I will share an example using\n<a href=\"https://www.npmjs.com/package/proxyquire\" rel=\"nofollow noreferrer\" title=\"proxyquire\">proxyquire</a></p>\n\n<pre><code>const proxyquire = require('proxyquire');\n\ndescribe('process-promise module', () =&gt; {\n    const fakeUser = { setDetails: jasmine.createSpy('setDetails') };\n    const fakeUserMod = jasmine.createSpy('fake-user-mod').and.returnValue(fakeUser);\n    const promiseObj = Promise.resolve('user name');\n\n    beforeEach((done) =&gt; {\n        const processPromiseMod = proxyquire('process-promise', {\n            'user-module': fakeUserMod,\n        });\n\n        processPromiseMod.processPromise(promiseObj);\n\n        promiseObj.then(() =&gt; done());\n    });\n\n\n    it('fakeUser.setDetails should be called', () =&gt; {\n        expect(fakeUser.setDetails).toHaveBeenCalledWith('user','name');\n    });\n});\n</code></pre>\n\n<p>Also note that <code>setAll</code> doesn't exist in the <code>fakeUser</code> instance. I guess you mean <code>setDetails</code> instead of <code>setAll</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 7607273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ee863ddde557b22f8963adad1ca86b8?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/7607273/dev"}, "edited": false, "score": 0, "creation_date": 1487803473, "post_id": 42403429, "comment_id": 71954344, "body": "thank you so much for your quick and helpful response. the changes you suggested worked great and this has solved my testing issue."}], "tags": [], "owner": {"reputation": 3441, "user_id": 4108919, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-o2gJ12n-vz4/AAAAAAAAAAI/AAAAAAAAH70/rfBhd19R_zI/photo.jpg?sz=128", "display_name": "forrert", "link": "https://stackoverflow.com/users/4108919/forrert"}, "is_accepted": true, "score": 1, "last_activity_date": 1487802678, "last_edit_date": 1487802678, "creation_date": 1487802267, "answer_id": 42403429, "question_id": 42402780, "link": "https://stackoverflow.com/questions/42402780/how-do-i-test-my-async-jasmine-nodejs-promise-code-using-spies/42403429#42403429", "title": "how do i test my async jasmine/nodejs/promise code using Spies", "body": "<p>You are on the right track, the promise is asynchronous and then <code>done</code> function in your test is called before the promise resolved to a value. The <code>done</code> function is used as a callback to tell the test engine, that all your asynchronous code has completed. It should be called after the promise <strong>resolved to a value</strong> (or failed for that matter).</p>\n\n<p>In order to do that, you'd need to make the following adjustments to your code:</p>\n\n<pre><code>//&lt;process-promise.js&gt;\nlet User = require('user-module'); \n\nlet processPromise = (promiseObj) =&gt; {\n        let user = new User();\n\n        // return a promise, to allow a client to chain a .then call\n        return promiseObj.then((full_name) =&gt; {\n            const [ fname, sname ] = full_name.split(' ');\n\n            if (fname &amp;&amp; sname) {\n                user.setDetails(fname, sname);\n            } else{\n               console.log('nothing happened');\n            }\n\n        }).catch((err) =&gt; {\n            console.log(err.message);\n        });\n    };\n\nmodule.exports = {\n    processPromise\n};\n</code></pre>\n\n<p>The test would then look like this:</p>\n\n<pre><code>    it('fakeUser.setAll should be called', (done) =&gt; {\n        mod.processPromise(Promise.resolve('user name')).then(() =&gt; {\n            expect(this.fakeUser.setAll).toHaveBeenCalledWith('user','name');\n            done();\n        }).catch(done);\n    });\n</code></pre>\n\n<p>Be sure to add <code>.catch(done)</code>.  This will make sure your test fails in case the promise resolves to an error.</p>\n"}], "owner": {"reputation": 105, "user_id": 7607273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ee863ddde557b22f8963adad1ca86b8?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/7607273/dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 813, "favorite_count": 0, "accepted_answer_id": 42403429, "answer_count": 2, "score": 2, "last_activity_date": 1487808251, "creation_date": 1487799502, "last_edit_date": 1487808251, "question_id": 42402780, "link": "https://stackoverflow.com/questions/42402780/how-do-i-test-my-async-jasmine-nodejs-promise-code-using-spies", "title": "how do i test my async jasmine/nodejs/promise code using Spies", "body": "<p>I have a module (example has been simplified) called process-promise which has a single function that takes a Promise as input and processes it - it also calls other functions using modules outside it as follows:</p>\n\n<pre><code>//&lt;process-promise.js&gt;\nlet User = require('user-module'); \n\nlet processPromise = (promiseObj) =&gt; {\n        let user = new User();\n\n        promiseObj.then((full_name) =&gt; {\n            const [ fname, sname ] = full_name.split(' ');\n\n            if (fname &amp;&amp; sname) {\n                user.setDetails(fname, sname);\n            } else{\n               console.log('nothing happened');\n            }\n\n        }).catch((err) =&gt; {\n            console.log(err.message);\n        });\n    };\n\nmodule.exports = {\nprocessPromise\n};\n</code></pre>\n\n<p>I am trying to unit test the above function using Jasmine, Rewire and Jasmine spies as per following code </p>\n\n<pre><code>let rewire = require('rewire');\nlet mod = rewire('process-promise');\n\ndescribe('process-promise module', () =&gt; {\n\nbeforeEach(() =&gt; {\n\n    this.fakeUser = createSpyObj('fake-user', ['setDetails']);\n    this.fakeUserMod = jasmine.createSpy('fake-user-mod');\n    this.fakeUserMod.and.returnValue(this.fakeUser)\n\n    this.revert = mod.__set__({\n        User: this.fakeUserMod\n    });\n\n});\n\n    afterEach(() =&gt; {\n        this.revert();\n    });\n\n\n    it('fakeUser.setDetails should be called', (done) =&gt; {\n        mod.processPromise(Promise.resolve('user name'));\n        done();\n        expect(this.fakeUser.setDetails).toHaveBeenCalledWith('user','name');\n    });\n\n});\n</code></pre>\n\n<p>I expect that the Spy this.fakeUser.setDetails should get called but i get the message from Jasmine \"Expected spy fake-user.setAll to have been called with [ 'user', 'name' ] but it was never called.\" - the problem seems to be the fact the promise is Async but i've included the done function as other SO questions have suggested but this doesn't seem to resolve the problem for me.  What's the issue with my code? most other SO questions relate to angular so don't help with my problem.</p>\n"}, {"tags": ["javascript", "node.js", "promise", "async-await", "ecmascript-2017"], "comments": [{"owner": {"reputation": 982, "user_id": 7511690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932d47d0df3e363c5439fd6d4d799bae?s=128&d=identicon&r=PG&f=1", "display_name": "Gilsdav", "link": "https://stackoverflow.com/users/7511690/gilsdav"}, "edited": false, "score": 0, "creation_date": 1487800299, "post_id": 42402750, "comment_id": 71952945, "body": "Did you try to put an &quot;async&quot; on all functions that you try to &quot;await&quot; ? And so try to add &quot;await&quot; before &quot;new Promise&quot; too."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "reply_to_user": {"reputation": 982, "user_id": 7511690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932d47d0df3e363c5439fd6d4d799bae?s=128&d=identicon&r=PG&f=1", "display_name": "Gilsdav", "link": "https://stackoverflow.com/users/7511690/gilsdav"}, "edited": false, "score": 0, "creation_date": 1487803292, "post_id": 42402750, "comment_id": 71954278, "body": "@Gilsdav - you don&#39;t <code>return await new Promise</code> - async/await is syntax sugar for Promises"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1487804081, "post_id": 42402750, "comment_id": 71954567, "body": "which of the other <code>console.log</code> messages are displayed? Your logic seems sound"}, {"owner": {"reputation": 570, "user_id": 225520, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0caaf12634b6eeeff2474f6c5675a504?s=128&d=identicon&r=PG", "display_name": "Random Joe", "link": "https://stackoverflow.com/users/225520/random-joe"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1487804725, "post_id": 42402750, "comment_id": 71954786, "body": "Hey guys, thanks for looking at this. As you can see @JaromandaX . I&#39;m trying to query the NLP service only after I can&#39;t find the it in Redis.  The output from the nlp.query() call indicates that the call has returned successfully but it never passes it to the result variable."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1487804816, "post_id": 42402750, "comment_id": 71954818, "body": "put a <code>console.log(response.body)</code> inside <code>.end((response) =&gt; { ... }</code> - what does that show"}, {"owner": {"reputation": 570, "user_id": 225520, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0caaf12634b6eeeff2474f6c5675a504?s=128&d=identicon&r=PG", "display_name": "Random Joe", "link": "https://stackoverflow.com/users/225520/random-joe"}, "edited": false, "score": 0, "creation_date": 1487805586, "post_id": 42402750, "comment_id": 71955107, "body": "I have updated with a couple more output results"}, {"owner": {"reputation": 2616, "user_id": 2277117, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6fafd47fd7f067323725352efcdd817d?s=128&d=identicon&r=PG", "display_name": "Inkling", "link": "https://stackoverflow.com/users/2277117/inkling"}, "edited": false, "score": 0, "creation_date": 1487805923, "post_id": 42402750, "comment_id": 71955224, "body": "Unless you just ran into a bug, there must be some piece of info missing. The only thing I can suggest is running your app with <code>node --inspect</code>, setting a breakpoint in your middleware, and stepping through the execution flow after it gets triggered (remember to check the Async option in the Chrome debugger)."}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1487806581, "post_id": 42402750, "comment_id": 71955508, "body": "You don&#39;t seem to be handling any errors from <code>rest.get</code>, in which case the promise would remain unresolved (and hang your <code>async function</code>) indefinitely."}], "answers": [{"tags": [], "owner": {"reputation": 132743, "user_id": 905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/130b8a67fd029b2e6b5e56e7aad04952?s=128&d=identicon&r=PG", "display_name": "Keith", "link": "https://stackoverflow.com/users/905/keith"}, "is_accepted": true, "score": 8, "last_activity_date": 1487938764, "creation_date": 1487938764, "answer_id": 42438483, "question_id": 42402750, "link": "https://stackoverflow.com/questions/42402750/async-function-never-returns/42438483#42438483", "title": "Async function never returns", "body": "<p>The most likely cause is an error in a Promise that you aren't catching. I find it helps to avoid <code>try</code>-<code>catch</code> in all but the top calling method, and if a method can be <code>await</code>-ed it almost always should be.</p>\n\n<p>In your case I think the problem is here:</p>\n\n<pre><code>nlp.queryService = function(text) {\n    console.log(\"Querying NLP Service...\")\n    return new Promise(function(resolve, reject) {\n        rest.get('http://localhost:9119?q=' + text)\n            .end((response) =&gt; {\n                redis.set(text, JSON.stringify(text)) // this line is fire and forget\n                resolve(response.body)\n            })\n    })\n}\n</code></pre>\n\n<p>Specifically this line: <code>redis.set(text, JSON.stringify(text))</code> - that line is calling a function and nothing is catching any error.</p>\n\n<p>The fix is to wrap all your Redis methods in promises, and then always <code>await</code> them:</p>\n\n<pre><code>nlp.setCache = function(key, value) {\n    return new Promise(function(resolve, reject) {\n        redis.set(key, value, (err, result) =&gt; {\n            if (err) {\n                reject(new Error(\"Error saving to Redis: \", err));\n            } else {\n                resolve(result);\n            }\n        });\n    })\n}\n\nnlp.queryService = async function(text) {\n    console.log(\"Querying NLP Service...\")\n    const p = new Promise(function(resolve, reject) {\n        rest.get('http://localhost:9119?q=' + text)\n            .end((response) =&gt; { resolve(response.body) });\n\n        // This is missing error handling - it should reject(new Error... \n        // for any connection errors or any non-20x response status \n    });\n\n    const result = await p;\n\n    // Now any issue saving to Redis will be passed to any try-catch\n    await nlp.setCache(text, result);\n    return;\n}\n</code></pre>\n\n<p>As a general rule I find it's best practise to:</p>\n\n<ul>\n<li>Keep explicit promises low level - have <code>Promise</code> wrapper functions for your <code>rest</code> and <code>redis</code> callbacks.</li>\n<li>Make sure that your promises <code>reject</code> with <code>new Error</code> when something goes wrong. If a <code>Promise</code> doesn't <code>resolve</code> and doesn't <code>reject</code> then your code stops there.</li>\n<li>Every call to one of these promise wrappers should have <code>await</code></li>\n<li><code>try</code>-<code>catch</code> right at the top - as long as every <code>Promise</code> is <code>await</code>-ed any error thrown by any of them will end up in the top level <code>catch</code></li>\n</ul>\n\n<p>Most issues will either be:</p>\n\n<ul>\n<li>You have a <code>Promise</code> that can fail to <code>resolve</code> or <code>reject</code>.</li>\n<li>You call an <code>async function</code> or <code>Promise</code> without <code>await</code>. </li>\n</ul>\n"}], "owner": {"reputation": 570, "user_id": 225520, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0caaf12634b6eeeff2474f6c5675a504?s=128&d=identicon&r=PG", "display_name": "Random Joe", "link": "https://stackoverflow.com/users/225520/random-joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6409, "favorite_count": 1, "accepted_answer_id": 42438483, "answer_count": 1, "score": 5, "last_activity_date": 1488378971, "creation_date": 1487799401, "last_edit_date": 1488378971, "question_id": 42402750, "link": "https://stackoverflow.com/questions/42402750/async-function-never-returns", "title": "Async function never returns", "body": "<p>I'm using Node version 7.6.0 to try out the native async and await features.</p>\n\n<p>I'm trying to figure out why my async call just hanging never actually resolves.</p>\n\n<p>NLP module:</p>\n\n<pre><code>const rest = require('unirest')\nconst Redis = require('ioredis')\nconst redis = new Redis()\nconst Promise = require('bluebird')\nconst nlp = {}\nnlp.queryCache = function(text) {\n    return new Promise(function(resolve, reject) {\n        redis.get(text, (err, result) =&gt; {\n            if (err) {\n                console.log(\"Error querying Redis: \", err)\n                reject(new Error(\"Error querying Redis: \", err))\n            } else {\n                if (result) {\n                    let cache = JSON.parse(result)\n                    console.log(\"Found cache in Redis: \", cache)\n                    resolve(cache)\n                } else {\n                    resolve(null)\n                }\n            }\n        })\n    })\n}\n\nnlp.queryService = function(text) {\n    console.log(\"Querying NLP Service...\")\n    return new Promise(function(resolve, reject) {\n        rest.get('http://localhost:9119?q=' + text)\n            .end((response) =&gt; {\n                redis.set(text, JSON.stringify(text))\n                resolve(response.body)\n            })\n    })\n}\n\nnlp.query = async function(text) {\n    try {\n        console.log(\"LET'S TRY REDIS FIRST\")\n        let cache = await nlp.queryCache(text)\n        if (cache) {\n            return cache\n        } else {\n            let result = await nlp.queryService(text)\n            console.log(\"Done Querying NLP service: \", result)\n            return result\n        }\n    } catch (e) {\n        console.log(\"Problem querying: \", e)\n    }\n\n}\nmodule.exports = nlp\n</code></pre>\n\n<p>The module consumer:</p>\n\n<pre><code>const modeMenu = require('../ui/service_mode')\nconst nlp = require('../nlp')\nconst sess = require('../session')\nconst onGreetings = async function(req, res, next) {\n    let state = sess.getState(req.from.id)\n    if (state === 'GREET') {        \n        let log = { \n            middleware: \"onGreetings\"           \n        }\n        console.log(log)\n        let result = await nlp.query(req.text)\n        console.log(\"XXXXXXXX: \", result)\n        res.send({reply_id: req.from.id, message: msg})\n\n    } else {\n        console.log(\"This query is not not normal text from user, calling next()\")\n        next()\n    }\n};\nmodule.exports = onGreetings;\n</code></pre>\n\n<p>I'm unable to get the code to proceed to following line:</p>\n\n<pre><code>console.log(\"XXXXXXXX: \", result) \n</code></pre>\n\n<p>I can see that the query was successful in the NLP module</p>\n\n<p><a href=\"https://i.stack.imgur.com/aQLHB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aQLHB.png\" alt=\"Console log output\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/2T0GV.png\" rel=\"nofollow noreferrer\">Edit: Added console.log statement to response body</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/lLmWi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lLmWi.png\" alt=\"Console output on the actual response.body\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/EtVGR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EtVGR.png\" alt=\"Log statement\"></a></p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 5947, "user_id": 5771750, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mBNlv.png?s=128&g=1", "display_name": "Chris Happy", "link": "https://stackoverflow.com/users/5771750/chris-happy"}, "edited": false, "score": 1, "creation_date": 1487799359, "post_id": 42402727, "comment_id": 71952455, "body": "Have you referenced jQuery?"}, {"owner": {"reputation": 189597, "user_id": 616443, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/907798bf02efdaf6f9d07d3c0552868f?s=128&d=identicon&r=PG", "display_name": "j08691", "link": "https://stackoverflow.com/users/616443/j08691"}, "edited": false, "score": 0, "creation_date": 1487799446, "post_id": 42402727, "comment_id": 71952495, "body": "Do some basic debugging. What errors do you get in the console?"}, {"owner": {"reputation": 1, "user_id": 7182957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2aa97c1aa4f9406b429a641054716e66?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/7182957/j-doe"}, "reply_to_user": {"reputation": 5947, "user_id": 5771750, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mBNlv.png?s=128&g=1", "display_name": "Chris Happy", "link": "https://stackoverflow.com/users/5771750/chris-happy"}, "edited": false, "score": 0, "creation_date": 1487799540, "post_id": 42402727, "comment_id": 71952556, "body": "&lt;script src=&quot;<a href=\"http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js&quot;&gt;&lt;/script\" rel=\"nofollow noreferrer\">ajax.googleapis.com/ajax/libs/jquery/1.8.3/&hellip;</a>&gt; @ChrisHappy yes"}, {"owner": {"reputation": 1, "user_id": 7182957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2aa97c1aa4f9406b429a641054716e66?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/7182957/j-doe"}, "edited": false, "score": 0, "creation_date": 1487800980, "post_id": 42402727, "comment_id": 71953278, "body": "okay it worked sheetmulching.com/sr/examples/backgroundsFixed.html but i have another question, my page is scroll page whyy when i show answer the page freezes and i cant scroll anymore?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7182957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2aa97c1aa4f9406b429a641054716e66?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/7182957/j-doe"}, "edited": false, "score": 0, "creation_date": 1487800744, "post_id": 42402771, "comment_id": 71953162, "body": "okay it worked <a href=\"http://sheetmulching.com/sr/examples/backgroundsFixed.html\" rel=\"nofollow noreferrer\">sheetmulching.com/sr/examples/backgroundsFixed.html</a> but i have another question, my page is scroll page whyy when i show answer the page freezes and i cant scroll anymore?"}], "tags": [], "owner": {"reputation": 5947, "user_id": 5771750, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mBNlv.png?s=128&g=1", "display_name": "Chris Happy", "link": "https://stackoverflow.com/users/5771750/chris-happy"}, "is_accepted": true, "score": 0, "last_activity_date": 1487799968, "last_edit_date": 1487799968, "creation_date": 1487799485, "answer_id": 42402771, "question_id": 42402727, "link": "https://stackoverflow.com/questions/42402727/javascript-collapse-doesnt-work/42402771#42402771", "title": "javascript collapse doesnt work", "body": "<p>You need to put it in a <code>(function ($) {....})(jQuery)</code> or <code>jQuery(document).ready(function () {...})</code></p>\n\n<pre><code>(function ($) {\n\n    $('.togglefaq').click(function(e) {\n    e.preventDefault();\n    var notthis = $('.active').not(this);\n    notthis.find('.icon-remove ').addClass('icon-plus').removeClass('icon-remove ');\n    notthis.toggleClass('active').next('.faqanswer').slideToggle(300);\n     $(this).toggleClass('active').next().slideToggle(\"fast\");\n    $(this).children('i').toggleClass('icon-plus icon-remove ');\n    });\n\n})(jQuery);\n</code></pre>\n\n<p><strike> And you also got to reference jQuery.</strike></p>\n"}], "owner": {"reputation": 1, "user_id": 7182957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2aa97c1aa4f9406b429a641054716e66?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/7182957/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "closed_date": 1487801590, "accepted_answer_id": 42402771, "answer_count": 1, "score": -4, "last_activity_date": 1487799968, "creation_date": 1487799330, "question_id": 42402727, "link": "https://stackoverflow.com/questions/42402727/javascript-collapse-doesnt-work", "closed_reason": "Not suitable for this site", "title": "javascript collapse doesnt work", "body": "<p>Hello Stackoverflow community,\ni got this code for faq collapse but it doesnt work</p>\n\n<p>HTML</p>\n\n<pre><code>   &lt;a href=\"#\" class=\"togglefaq\"&gt;&lt;i class=\"icon-plus\"&gt;&lt;/i&gt; How do you tell an introverted computer scientist from an extroverted computer scientist?&lt;/a&gt;\n          &lt;div class=\"faqanswer\"&gt;\n            &lt;p&gt;An extroverted computer scientist looks at &lt;em&gt;your&lt;/em&gt; shoes when he talks to you.\n&lt;/p&gt;\n   &lt;/div&gt;\n\n&lt;br&gt;\n       &lt;a href=\"#\" class=\"togglefaq\"&gt;&lt;i class=\"icon-plus\"&gt;&lt;/i&gt; How many programmers does it take to change a light bulb?&lt;/a&gt;\n          &lt;div class=\"faqanswer\"&gt;\n             &lt;p&gt;None, that's a hardware problem.\n&lt;/p&gt;\n   &lt;/div&gt;\n&lt;br&gt;\n\n        &lt;a href=\"#\" class=\"togglefaq\"&gt;&lt;i class=\"icon-plus\"&gt;&lt;/i&gt; What's the object-oriented way to become wealthy?&lt;/a&gt;\n          &lt;div class=\"faqanswer\"&gt;\n             &lt;p&gt;Inheritance.\n&lt;/p&gt;\n   &lt;/div&gt;    \n   &lt;br&gt;\n\n           &lt;a href=\"#\" class=\"togglefaq\"&gt;&lt;i class=\"icon-plus\"&gt;&lt;/i&gt; Why do programmers like UNIX?&lt;/a&gt;\n          &lt;div class=\"faqanswer\"&gt;\n             &lt;p&gt;unzip, strip, touch, finger, grep, mount, fsck, more, yes, fsck, fsck, fsck, umount, sleep\n&lt;/p&gt;\n   &lt;/div&gt;\n</code></pre>\n\n<p>CSS</p>\n\n<pre><code>/* FAQ COLLAPSE/EXPAND STYLES */\n* {\n  box-sizing: border-box;\n}\nbody{\n  background-color:black;\n}\n.faqanswer {\n    display: none;\n    width: 590px;\n    padding: 12px 20px 0 30px;\n  background-color:white;\n\n}\n\n.faqanswer p {\n    font-size: 13px;\n    line-height: 17px;  \n    padding-bottom: 20px;\n  color:#2b2d39;\n\n}\n\n\na.active {\n    font-weight: bold;\n}\n\n.togglefaq {\n    text-decoration: none;\n    color: #2b2d39;\n    font-size: 13px;\n    padding: 10px 30px;\n    line-height: 20px;\n    display: block;\n    width: 590px;\n    margin-bottom: -1px;\n    background-color:white;\n}\n.icon-plus {\n    color: #1c1e2b;\n    margin-right: 20px;\n    font-size: 20px;\n    float:right;\n}\n\n.icon-remove {\n    color: #1c1e2b;\n    font-size: 20px;\n    float:right;\n}\np {\n  margin: 0;\n}\n</code></pre>\n\n<p>javascript</p>\n\n<pre><code>&lt;script&gt;\n//faq toggle stuff \n$('.togglefaq').click(function(e) {\ne.preventDefault();\nvar notthis = $('.active').not(this);\nnotthis.find('.icon-remove ').addClass('icon-plus').removeClass('icon-remove ');\nnotthis.toggleClass('active').next('.faqanswer').slideToggle(300);\n $(this).toggleClass('active').next().slideToggle(\"fast\");\n$(this).children('i').toggleClass('icon-plus icon-remove ');\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>on the codepen it works\n<a href=\"https://codepen.io/mrs_snow/pen/vEvzaL\" rel=\"nofollow noreferrer\">https://codepen.io/mrs_snow/pen/vEvzaL</a></p>\n\n<p>but when i add it to my website it doesn't</p>\n"}, {"tags": ["javascript", "google-maps", "angular", "google-maps-api-3", "angular2-google-maps"], "answers": [{"comments": [{"owner": {"reputation": 8910, "user_id": 4977957, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55ddc749972794b1664cbb5179f397b7?s=128&d=identicon&r=PG&f=1", "display_name": "VSO", "link": "https://stackoverflow.com/users/4977957/vso"}, "edited": false, "score": 0, "creation_date": 1487857444, "post_id": 42416986, "comment_id": 71980165, "body": "Hmm, I still get &quot;TypeError: google.maps.ZoomControlOptions is not a constructor&quot;"}], "tags": [], "owner": {"reputation": 136, "user_id": 7270500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c51SV.jpg?s=128&g=1", "display_name": "Arinaud", "link": "https://stackoverflow.com/users/7270500/arinaud"}, "is_accepted": false, "score": 1, "last_activity_date": 1487890313, "last_edit_date": 1487890313, "creation_date": 1487856119, "answer_id": 42416986, "question_id": 42402721, "link": "https://stackoverflow.com/questions/42402721/unable-to-set-zoomcontroloptions-on-google-maps-in-angular-2/42416986#42416986", "title": "Unable to set zoomControlOptions on Google Maps in Angular 2", "body": "<p>As you are manipulating directly the native map, you are outside angular2-google-maps universe.</p>\n\n<h2>EDIT</h2>\n\n<p>Previous answer for #1 was wrong, it seems there is no such thing than a ZoomControlOptions constructor. Creating an object litteral works fine.</p>\n\n<pre><code>let zoomControlOptions: any = new {\n  style: google.maps.ControlPosition.small,\n  position: google.maps.ControlPosition.LEFT_CENTER\n);\n</code></pre>\n\n<p>As for issue #2, examples around (<a href=\"https://www.w3schools.com/graphics/tryit.asp?filename=trymap_controls_modify1\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://developers.google.com/maps/documentation/javascript/examples/control-positioning\" rel=\"nofollow noreferrer\">here</a>) always set zoomControlOptions along with zoomControl: true</p>\n"}], "owner": {"reputation": 8910, "user_id": 4977957, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55ddc749972794b1664cbb5179f397b7?s=128&d=identicon&r=PG&f=1", "display_name": "VSO", "link": "https://stackoverflow.com/users/4977957/vso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1440, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1487890313, "creation_date": 1487799305, "question_id": 42402721, "link": "https://stackoverflow.com/questions/42402721/unable-to-set-zoomcontroloptions-on-google-maps-in-angular-2", "title": "Unable to set zoomControlOptions on Google Maps in Angular 2", "body": "<p>First, I get the native Google maps element, because as far as I can tell, the Angular 2 API doesn't expose it. That looks like the code below and works fine:</p>\n\n<pre><code>import { GoogleMapsAPIWrapper } from 'angular2-google-maps/core';\n\nconstructor(public mapApiWrapper: GoogleMapsAPIWrapper ) {}\n\nthis.mapApiWrapper.getNativeMap().then((map)=&gt; {}\n</code></pre>\n\n<p>All this works great and I am able to set options on the native map element, for example, the code below works: </p>\n\n<pre><code>    let position: any = new google.maps.LatLng(45.521, -122.677);\n\n    map.setOptions({\n      zoom: 1,\n      center: position\n    });\n</code></pre>\n\n<p>However, when I try to set <a href=\"https://developers.google.com/maps/documentation/javascript/reference#MapOptions\" rel=\"nofollow noreferrer\">MapOptions</a> and move the zoom controls via <a href=\"https://developers.google.com/maps/documentation/javascript/reference#ZoomControlOptions\" rel=\"nofollow noreferrer\">ZoomControlOptions</a>, I get a bunch of errors. What I try is this: </p>\n\n<pre><code>    let zoomControlOptions: any = new google.maps.zoomControlOptions({\n      style: google.maps.ControlPosition.small,\n      position: google.maps.ControlPosition.LEFT_CENTER\n    });\n</code></pre>\n\n<p>This throws:</p>\n\n<blockquote>\n  <p>TypeError: google.maps.zoomControlOptions is not a constructor</p>\n</blockquote>\n\n<p>If I try to do this:</p>\n\n<pre><code>    map.setOptions({\n      zoom: 1,\n      center: position,\n      zoomControlOptions: {\n        style: google.maps.ControlPosition.small,\n        position: google.maps.ControlPosition.LEFT_CENTER\n      }\n    });\n</code></pre>\n\n<p>it throws: </p>\n\n<blockquote>\n  <p>Argument of type '{ zoom: number; center: any; zoomControlOptions: {\n  style: any; position: any; }; }' is not assignable to parameter of\n  type 'MapOptions'.   Object literal may only specify known properties,\n  and 'zoomControlOptions' does not exist in type 'MapOptions'</p>\n</blockquote>\n\n<p>I am pretty lost at this point, because I see that <code>MapOptions</code> takes a <code>zoomControlOptions</code> arg in the docs...</p>\n"}, {"tags": ["javascript", "node.js", "angular", "typescript", "angular-cli"], "comments": [{"owner": {"reputation": 577, "user_id": 2662587, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100004296133669/picture?type=large", "display_name": "Admir Sabanovic", "link": "https://stackoverflow.com/users/2662587/admir-sabanovic"}, "edited": false, "score": 0, "creation_date": 1487806080, "post_id": 42402698, "comment_id": 71955296, "body": "Just put back &lt;base href=&quot;./&quot;&gt; but with ."}], "answers": [{"tags": [], "owner": {"reputation": 1715, "user_id": 6443274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f325293d96210f36925447405f5ad729?s=128&d=identicon&r=PG&f=1", "display_name": "ScottL", "link": "https://stackoverflow.com/users/6443274/scottl"}, "is_accepted": false, "score": 0, "last_activity_date": 1487806143, "creation_date": 1487806143, "answer_id": 42404278, "question_id": 42402698, "link": "https://stackoverflow.com/questions/42402698/angular-2-ng-build/42404278#42404278", "title": "Angular 2 ng build", "body": "<p>Use --base-href with an appropriate base</p>\n\n<p>From ng help build:</p>\n\n<blockquote>\n  <p>--base-href (String) (Default: /)<br>\n  aliases: -bh </p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6515031, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lb3ttpod9OM/AAAAAAAAAAI/AAAAAAAAAFs/hgj-cDNdzYQ/photo.jpg?sz=128", "display_name": "Antoine Nouvene", "link": "https://stackoverflow.com/users/6515031/antoine-nouvene"}, "is_accepted": false, "score": 0, "last_activity_date": 1488393345, "creation_date": 1488393345, "answer_id": 42539404, "question_id": 42402698, "link": "https://stackoverflow.com/questions/42402698/angular-2-ng-build/42539404#42539404", "title": "Angular 2 ng build", "body": "<pre><code>Bonjour,\n\n&lt;div&gt;Ma question concerne ng build d'un projet angular 2 dont voici un exemple :\n</code></pre>\n\n<p>[screen shot of my project][1]</p>\n\n<pre><code>Quand j'ex\u00e9cute la commande ng build, toutes les ressources de mon projet sont transf\u00e9r\u00e9es dans le r\u00e9pertoire \"dist\", donc normale jusque l\u00e0.\nCependant, dans ce dossier, je constate que certains de mes fichiers media et fonts qui se trouvent dans \"assets\", se retrouve en double \u00e0 l\u2019ext\u00e9rieur de ce dossier (Voir copie \u00e9cran ci-dessous).\nPar exemple, le fichier image back.jpg qui est rang\u00e9 dans  ponyracing/dist/assets/img/back.jpg, se retrouve en double \u00e0 l\u2019ext\u00e9rieur dans ponyracing/dist/back.jpg\n\nDe plus, voici la config de angular-cli.json  : \n\n\"styles\": [\n  \"assets/css/main.css\",\n  \"styles.css\",\n  ...\n]\n\nMa question est de savoir si ce probl\u00e8me de fichiers doubles est caus\u00e9 par mon fichier main.css externe que j\u2019ai rang\u00e9 dans ponyracing/dist/assets/css/main.css et que dans ce fichier, le path des images est relatif au dossier ponyracing/dist/assets/img ?\n\nExemple : body { background: url( ../img/back.jpg ) };\n\nMerci pour votre aide.&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2307, "user_id": 3430184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iwwTf.jpg?s=128&g=1", "display_name": "totallytotallyamazing", "link": "https://stackoverflow.com/users/3430184/totallytotallyamazing"}, "is_accepted": false, "score": 0, "last_activity_date": 1488905891, "creation_date": 1488905891, "answer_id": 42653964, "question_id": 42402698, "link": "https://stackoverflow.com/questions/42402698/angular-2-ng-build/42653964#42653964", "title": "Angular 2 ng build", "body": "<p>Add a \".\" to your base href, like this:</p>\n\n<pre><code>&lt;base href=\"./\"&gt;\n</code></pre>\n\n<p>Thanks to Admir's comment, this worked for me.</p>\n"}, {"tags": [], "owner": {"reputation": 1865, "user_id": 7756343, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/7e6964980c438556b9746f19cc09e93c?s=128&d=identicon&r=PG&f=1", "display_name": "k11k2", "link": "https://stackoverflow.com/users/7756343/k11k2"}, "is_accepted": false, "score": 0, "last_activity_date": 1499176420, "creation_date": 1499176420, "answer_id": 44907840, "question_id": 42402698, "link": "https://stackoverflow.com/questions/42402698/angular-2-ng-build/44907840#44907840", "title": "Angular 2 ng build", "body": "<p>Use below script in index.html.</p>\n\n<pre><code>&lt;script&gt;\n    document.write('&lt;base href=\"' + String(document.location).replace('index.html','') + '\"&gt;')\n&lt;/script&gt;\n</code></pre>\n\n<p>let me know it works for you or not.</p>\n"}], "owner": {"reputation": 115, "user_id": 7605484, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/33a960cfa4ba6c255c6272cbb8a26ea3?s=128&d=identicon&r=PG&f=1", "display_name": "Artemy Wiese", "link": "https://stackoverflow.com/users/7605484/artemy-wiese"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 570, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1499176420, "creation_date": 1487799214, "question_id": 42402698, "link": "https://stackoverflow.com/questions/42402698/angular-2-ng-build", "title": "Angular 2 ng build", "body": "<p>So i need to create a build which can work without running a server.</p>\n\n<p>Run <code>ng build</code>. Got a <code>dist</code> folder.</p>\n\n<p>When i run <code>index.html</code> im getting an error like </p>\n\n<p><code>GET file:///D:/inline.bundle.js net::ERR_FILE_NOT_FOUND</code></p>\n\n<p>He is searching that <code>js</code> file in the root of my D:// drive, not in a project folder</p>\n\n<p>So okay, i removed a <code>&lt;base href=\"/\"&gt;</code> from my <code>index.html</code> and got this error:</p>\n\n<pre><code>Unhandled Promise rejection: No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document. ; Zone: &lt;root&gt; ; Task: Promise.then ; Value: ZoneAwareError {__zone_symbol__error: Error: No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to\u2026, __zone_symbol__stack: \"Error: No base href set. Please provide a value fo\u2026testing1/dist/vendor.bundle.js:28631:62) [&lt;root&gt;]\", __zone_symbol__message: \"No base href set. Please provide a value for the A\u2026HREF token or add a base element to the document.\"} Error: No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.\nat new PathLocationStrategy (file:///D:/angular/testing1/dist/vendor.bundle.js:66150:19) [angular]\nat provideLocationStrategy (file:///D:/angular/testing1/dist/vendor.bundle.js:62944:9) [angular]\nat AppModuleInjector.get (/AppModule/module.ngfactory.js:164:77) [angular]\nat AppModuleInjector.get (/AppModule/module.ngfactory.js:169:84) [angular]\nat AppModuleInjector.get (/AppModule/module.ngfactory.js:198:151) [angular]\nat AppModuleInjector.createInternal (/AppModule/module.ngfactory.js:241:60) [angular]\nat AppModuleInjector.NgModuleInjector.create (file:///D:/angular/testing1/dist/vendor.bundle.js:56323:76) [angular]\nat NgModuleFactory.create (file:///D:/angular/testing1/dist/vendor.bundle.js:56291:18) [angular]\nat file:///D:/angular/testing1/dist/vendor.bundle.js:38426:61 [angular]\nat Object.onInvoke (file:///D:/angular/testing1/dist/vendor.bundle.js:28762:37) [angular]\nat Zone.webpackJsonp.528.Zone.run (file:///D:/angular/testing1/dist/polyfills.bundle.js:2591:43) [&lt;root&gt; =&gt; angular]\nat NgZone.run (file:///D:/angular/testing1/dist/vendor.bundle.js:28631:62) [&lt;root&gt;]\n</code></pre>\n\n<p>So <code>angular2router</code> doesnt work without <code>&lt;base&gt;</code> and <code>index.html</code> cannot find my local files with <code>&lt;base&gt;</code></p>\n\n<p>How can i solve it ?</p>\n"}, {"tags": ["javascript", "node.js", "chatbot", "aiml"], "answers": [{"tags": [], "owner": {"reputation": 73, "user_id": 5420656, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/jcgVf.jpg?s=128&g=1", "display_name": "Nicholas Gati", "link": "https://stackoverflow.com/users/5420656/nicholas-gati"}, "is_accepted": false, "score": 0, "last_activity_date": 1487876533, "creation_date": 1487876533, "answer_id": 42424053, "question_id": 42402609, "link": "https://stackoverflow.com/questions/42402609/how-can-i-access-aiml-predicates-while-using-aiml-high-in-node-js/42424053#42424053", "title": "How can I access AIML predicates while using aiml-high in Node.js", "body": "<p>So, since posting this question I have continued to look through the code for the aiml-high node package. I ended up finding out where the user generated variables are stored and added two new methods to aiml-high.js in the aiml-high node package. </p>\n\n<p>The first method I added is one that returns all of the stored variables:</p>\n\n<pre><code>this.getStoredVariables = function() {\n  return storedVariableValues;\n}\n</code></pre>\n\n<p>This next method allows you to single out which stored variable that you want returned instead of the entire object.</p>\n\n<pre><code>this.getSpecificStoredVariable = function(v) {\n  return storedVariableValues[v];\n}\n</code></pre>\n\n<p>So, even though these two methods are simple and most developers would be able to do what I did by just looking through the aiml-high code itself, I hope that someone looking for a similar answer in the future comes across this answer so they don't have to look through the code themselves.</p>\n\n<p>Also, I added a third method to get the bot's attributes.</p>\n\n<pre><code>this.getAttributes = function() {\n   return botAttributes;\n}\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 5420656, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/jcgVf.jpg?s=128&g=1", "display_name": "Nicholas Gati", "link": "https://stackoverflow.com/users/5420656/nicholas-gati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 382, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1487876533, "creation_date": 1487798884, "question_id": 42402609, "link": "https://stackoverflow.com/questions/42402609/how-can-i-access-aiml-predicates-while-using-aiml-high-in-node-js", "title": "How can I access AIML predicates while using aiml-high in Node.js", "body": "<p>I am building a chatbot in Node.js and have been using aiml-high. I am trying to access the predicates of the AIML so that I can store them in variables which I will use later on. I know that in Python there is a way to get the predicates like so:</p>\n\n<pre><code>name = kernel.getPredicate(\"name\", sessionId)\n</code></pre>\n\n<p>So, here is my question in more detail. Below is a category from my AIML file.</p>\n\n<pre><code>&lt;category&gt;\n    &lt;pattern&gt;DO YOU SPEAK &lt;set name=\"language\"&gt;*&lt;/set&gt;&lt;/pattern&gt;\n    &lt;condition name=\"language\"&gt;\n      &lt;li value=\"english\"&gt;Yes. I do speak &lt;get name=\"language\"/&gt;.&lt;/li&gt;\n      &lt;li value=\"English\"&gt;Yes. I do speak &lt;get name=\"language\"/&gt;.&lt;/li&gt;\n      &lt;li&gt;Sorry. I don't speak &lt;get name=\"language\"/&gt;. Maybe one day I will learn though.&lt;/li&gt;\n    &lt;/condition&gt;\n  &lt;/category&gt;\n</code></pre>\n\n<p>If the user says \"Do you speak French\", the language, which in this case is \"French\", is stored here: </p>\n\n<pre><code>&lt;set name=\"language:&gt;*&lt;/set&gt;\n</code></pre>\n\n<p>Now, the language is remembered and can respond accordingly.</p>\n\n<pre><code>&lt;li&gt;Sorry. I don't speak &lt;get name=\"language\"/&gt;. Maybe one day I will learn though.&lt;/li&gt;\n</code></pre>\n\n<p>...replacing the <code>&lt;get name=\"language\"/&gt;</code> with the language that the user had input. I would like to access that language predicate in my JavaScript so I can use it later. So, I was wondering if anyone has built a chatbot in Node.js and would have insight as to how I would save these predicates.</p>\n"}, {"tags": ["javascript", "html", "canvas", "svg", "html5-canvas"], "comments": [{"owner": {"reputation": 101196, "user_id": 1038015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d912dac5c74b47bbaff7164f5f8bb8?s=128&d=identicon&r=PG", "display_name": "Robert Longson", "link": "https://stackoverflow.com/users/1038015/robert-longson"}, "edited": false, "score": 2, "creation_date": 1487800892, "post_id": 42402584, "comment_id": 71953228, "body": "You&#39;d have to include the font in the svg markup as a link to a data uri."}, {"owner": {"reputation": 4259, "user_id": 1031454, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/5Om4z.jpg?s=128&g=1", "display_name": "supersan", "link": "https://stackoverflow.com/users/1031454/supersan"}, "reply_to_user": {"reputation": 101196, "user_id": 1038015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d912dac5c74b47bbaff7164f5f8bb8?s=128&d=identicon&r=PG", "display_name": "Robert Longson", "link": "https://stackoverflow.com/users/1038015/robert-longson"}, "edited": false, "score": 0, "creation_date": 1487803967, "post_id": 42402584, "comment_id": 71954524, "body": "I think this sounds like the most practical solution because after much research I can confirm it won&#39;t let me load external woff files needed for it. This site looks the best place to start: <a href=\"http://sosweetcreative.com/2613/font-face-and-base64-data-uri\" rel=\"nofollow noreferrer\">sosweetcreative.com/2613/font-face-and-base64-data-uri</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2566, "user_id": 5725211, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0Q5MPC-1u9o/AAAAAAAAAAI/AAAAAAAAAEA/JUWEiN9DLnA/photo.jpg?sz=128", "display_name": "Ieltxu Alga&#241;ar&#225;s", "link": "https://stackoverflow.com/users/5725211/ieltxu-alga%c3%b1ar%c3%a1s"}, "is_accepted": false, "score": -1, "last_activity_date": 1487801757, "creation_date": 1487801757, "answer_id": 42403319, "question_id": 42402584, "link": "https://stackoverflow.com/questions/42402584/how-to-use-google-fonts-in-canvas-when-drawing-dom-objects-in-svg/42403319#42403319", "title": "How to use Google fonts in Canvas when Drawing DOM objects in SVG?", "body": "<p>The first thing you can try is to use <a href=\"https://github.com/typekit/webfontloader\" rel=\"nofollow noreferrer\">Google web font loader</a>\nbecause you are generating the svg before the font is loaded by the browser</p>\n\n<p>so you need to make sure that the fonts are loaded and then generate the svg/image</p>\n\n<p>if that doesn't work you can create text tags in your svg and try these alternatives for fonts\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/SVG_fonts\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/SVG_fonts</a></p>\n"}, {"comments": [{"owner": {"reputation": 4045, "user_id": 1988795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a96a776b86d9bceeb897574ecf57e18?s=128&d=identicon&r=PG&f=1", "display_name": "defghi1977", "link": "https://stackoverflow.com/users/1988795/defghi1977"}, "edited": false, "score": 0, "creation_date": 1487818840, "post_id": 42405731, "comment_id": 71959213, "body": "I made sample code too. <a href=\"http://jsdo.it/defghi1977/K53D\" rel=\"nofollow noreferrer\">jsdo.it/defghi1977/K53D</a> The idea of this code is same as Kaiido&#39;s."}, {"owner": {"reputation": 4259, "user_id": 1031454, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/5Om4z.jpg?s=128&g=1", "display_name": "supersan", "link": "https://stackoverflow.com/users/1031454/supersan"}, "edited": false, "score": 0, "creation_date": 1487873914, "post_id": 42405731, "comment_id": 71992166, "body": "Kudos on making it work and explaining it so well! This is exactly what I was after. Thanks."}, {"owner": {"reputation": 3476, "user_id": 2996538, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44ee454a53650909875c8a1d8379d121?s=128&d=identicon&r=PG&f=1", "display_name": "NiZa", "link": "https://stackoverflow.com/users/2996538/niza"}, "edited": false, "score": 0, "creation_date": 1518685046, "post_id": 42405731, "comment_id": 84609152, "body": "Is this approach only working for .woff files or also for .eot files?"}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 3476, "user_id": 2996538, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44ee454a53650909875c8a1d8379d121?s=128&d=identicon&r=PG&f=1", "display_name": "NiZa", "link": "https://stackoverflow.com/users/2996538/niza"}, "edited": false, "score": 0, "creation_date": 1518685334, "post_id": 42405731, "comment_id": 84609310, "body": "@NiZa the FontRule should grab the font url without regard to the format, so eot should be grabbed too."}, {"owner": {"reputation": 3476, "user_id": 2996538, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44ee454a53650909875c8a1d8379d121?s=128&d=identicon&r=PG&f=1", "display_name": "NiZa", "link": "https://stackoverflow.com/users/2996538/niza"}, "edited": false, "score": 0, "creation_date": 1518685650, "post_id": 42405731, "comment_id": 84609468, "body": "Ok thx, because I do get it worked for a woff font, but not for the other."}, {"owner": {"reputation": 3476, "user_id": 2996538, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44ee454a53650909875c8a1d8379d121?s=128&d=identicon&r=PG&f=1", "display_name": "NiZa", "link": "https://stackoverflow.com/users/2996538/niza"}, "edited": false, "score": 0, "creation_date": 1519294964, "post_id": 42405731, "comment_id": 84856008, "body": "Just found out that it doesn&#39;t work on Edge. The &#39;src&#39; property is unknown in the CSSStyleDeclaration object. Does someone know a work around?"}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 3476, "user_id": 2996538, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44ee454a53650909875c8a1d8379d121?s=128&d=identicon&r=PG&f=1", "display_name": "NiZa", "link": "https://stackoverflow.com/users/2996538/niza"}, "edited": false, "score": 1, "creation_date": 1519299924, "post_id": 42405731, "comment_id": 84859242, "body": "@NiZa ah I have to admit I didn&#39;t tried on Edge, I&#39;ll try to have a look tomorrow or during the weekend."}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 3476, "user_id": 2996538, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44ee454a53650909875c8a1d8379d121?s=128&d=identicon&r=PG&f=1", "display_name": "NiZa", "link": "https://stackoverflow.com/users/2996538/niza"}, "edited": false, "score": 0, "creation_date": 1519376510, "post_id": 42405731, "comment_id": 84895229, "body": "@NiZa so I had a quick look at it: Indeed Edge doesn&#39;t expose <code>src</code> for CSSFontFaceRule... had to use an ugly regex that I am not sure how strong it is. Also, they don&#39;t make CSSRuleList iterable, so gone back to an ol&#39;school forloop. But it seems to work now in Edge, at least with the font in the example."}, {"owner": {"reputation": 3476, "user_id": 2996538, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44ee454a53650909875c8a1d8379d121?s=128&d=identicon&r=PG&f=1", "display_name": "NiZa", "link": "https://stackoverflow.com/users/2996538/niza"}, "edited": false, "score": 0, "creation_date": 1519377865, "post_id": 42405731, "comment_id": 84895919, "body": "Thanks, I appreciate your solution! But for me it still seems not to work in Edge. I see just the fallback font now."}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 3476, "user_id": 2996538, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44ee454a53650909875c8a1d8379d121?s=128&d=identicon&r=PG&f=1", "display_name": "NiZa", "link": "https://stackoverflow.com/users/2996538/niza"}, "edited": false, "score": 0, "creation_date": 1519378005, "post_id": 42405731, "comment_id": 84895992, "body": "@Niza in the answer&#39;s snippet? I tried the code locally on a VM maybe something goes wrong when ran in iframe... I&#39;ll try again during the we."}, {"owner": {"reputation": 3476, "user_id": 2996538, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44ee454a53650909875c8a1d8379d121?s=128&d=identicon&r=PG&f=1", "display_name": "NiZa", "link": "https://stackoverflow.com/users/2996538/niza"}, "edited": false, "score": 0, "creation_date": 1519379659, "post_id": 42405731, "comment_id": 84896794, "body": "I also running it locally, but actually the change that you did works for getting the src value. Only still the wrong font is showing up, I will do some investigate too. Thanks!"}, {"owner": {"reputation": 3476, "user_id": 2996538, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44ee454a53650909875c8a1d8379d121?s=128&d=identicon&r=PG&f=1", "display_name": "NiZa", "link": "https://stackoverflow.com/users/2996538/niza"}, "edited": false, "score": 0, "creation_date": 1519642139, "post_id": 42405731, "comment_id": 84977792, "body": "@Kaiido How sure are you that it works on Edge? Because it is fetching the font, but not rendering it."}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 3476, "user_id": 2996538, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44ee454a53650909875c8a1d8379d121?s=128&d=identicon&r=PG&f=1", "display_name": "NiZa", "link": "https://stackoverflow.com/users/2996538/niza"}, "edited": false, "score": 0, "creation_date": 1519975295, "post_id": 42405731, "comment_id": 85133831, "body": "@NiZa I finally had two minutes to check what&#39;s going on: it worked on my localhost, but neither on SO not on jsfiddle because Edge won&#39;t load data:// fonts on an HTTPS scheme (it says HTTPS security is compromised by data:font/woff2;...). That certainly is a bug, and I don&#39;t know any workaround unfortunately... <a href=\"http://jsfiddle.net/cmuvp2k0/\" rel=\"nofollow noreferrer\">Working fiddle with non-secure HTTP scheme</a>"}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 3476, "user_id": 2996538, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/44ee454a53650909875c8a1d8379d121?s=128&d=identicon&r=PG&f=1", "display_name": "NiZa", "link": "https://stackoverflow.com/users/2996538/niza"}, "edited": false, "score": 0, "creation_date": 1519975694, "post_id": 42405731, "comment_id": 85133977, "body": "@NiZa actually I found one, but I don&#39;t really like it. Edge faces this bug only from blobURIs, so if we use a dataURI for the img&#39;s src, Edge is happy..."}, {"owner": {"reputation": 28235, "user_id": 516389, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e920b0c5b99e7710098f812bb839e100?s=128&d=identicon&r=PG", "display_name": "daniel", "link": "https://stackoverflow.com/users/516389/daniel"}, "edited": false, "score": 0, "creation_date": 1531214905, "post_id": 42405731, "comment_id": 89501333, "body": "1. thanks for the detailed description. 2. works well in chrome+ff but not in safari 11: <code>TypeError: Cross origin requests are only supported for HTTP.</code>"}, {"owner": {"reputation": 31516, "user_id": 144088, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/275e84b46c74904dd0b376d89d6968ef?s=128&d=identicon&r=PG", "display_name": "Crashalot", "link": "https://stackoverflow.com/users/144088/crashalot"}, "edited": false, "score": 0, "creation_date": 1610946274, "post_id": 42405731, "comment_id": 116283299, "body": "this is awesome. thanks so much for writing this and sharing it."}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 31516, "user_id": 144088, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/275e84b46c74904dd0b376d89d6968ef?s=128&d=identicon&r=PG", "display_name": "Crashalot", "link": "https://stackoverflow.com/users/144088/crashalot"}, "edited": false, "score": 0, "creation_date": 1610952158, "post_id": 42405731, "comment_id": 116284595, "body": "@Crashalot yes, to be able to draw an svg image we have to pass through an &lt;img&gt;, from where we can&#39;t do any request to external resources, so even for resources used by  &lt;foreignObject&gt; we need to inline them."}, {"owner": {"reputation": 31516, "user_id": 144088, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/275e84b46c74904dd0b376d89d6968ef?s=128&d=identicon&r=PG", "display_name": "Crashalot", "link": "https://stackoverflow.com/users/144088/crashalot"}, "edited": false, "score": 0, "creation_date": 1610952541, "post_id": 42405731, "comment_id": 116284718, "body": "thanks for the fast reply. is it possible to inline a blob URL for a font file instead? a blob URL might avoid potential complexities of needing to inline a font file."}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 31516, "user_id": 144088, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/275e84b46c74904dd0b376d89d6968ef?s=128&d=identicon&r=PG", "display_name": "Crashalot", "link": "https://stackoverflow.com/users/144088/crashalot"}, "edited": false, "score": 0, "creation_date": 1610953179, "post_id": 42405731, "comment_id": 116284918, "body": "@Crashalot unfortunately not. That is I think a specs overthinking since they would lead to the same security issues as data: URLs, but that&#39;s how it is now..."}, {"owner": {"reputation": 31516, "user_id": 144088, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/275e84b46c74904dd0b376d89d6968ef?s=128&d=identicon&r=PG", "display_name": "Crashalot", "link": "https://stackoverflow.com/users/144088/crashalot"}, "edited": false, "score": 0, "creation_date": 1610957180, "post_id": 42405731, "comment_id": 116286224, "body": "thanks for the reply. so frustrating. this would have been so much easier if browsers supported converting the DOM to an image for same-origin frames. (blanking frames from different origins would address security fears from programmatic DOM screenshots.)"}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 31516, "user_id": 144088, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/275e84b46c74904dd0b376d89d6968ef?s=128&d=identicon&r=PG", "display_name": "Crashalot", "link": "https://stackoverflow.com/users/144088/crashalot"}, "edited": false, "score": 0, "creation_date": 1610957584, "post_id": 42405731, "comment_id": 116286395, "body": "@Crashalot Yes, well there is the <a href=\"https://w3c.github.io/mediacapture-screen-share/#dom-mediadevices-getdisplaymedia\" rel=\"nofollow noreferrer\">Screen-Capture API</a> that does exist, which allows to get a screen-cast. The UX might be a bit complicated for everyday users, but it might be an option too (just grab the mediastream from there, and either use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/ImageCapture\" rel=\"nofollow noreferrer\">ImageCapture</a>  where available, or pass it to a video that you&#39;ll draw to a canvas."}, {"owner": {"reputation": 31516, "user_id": 144088, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/275e84b46c74904dd0b376d89d6968ef?s=128&d=identicon&r=PG", "display_name": "Crashalot", "link": "https://stackoverflow.com/users/144088/crashalot"}, "edited": false, "score": 1, "creation_date": 1610959427, "post_id": 42405731, "comment_id": 116287160, "body": "thanks for the suggestion. yes, we looked into this, but asking users for permission to record their screens would scare off too many people. it&#39;s unfortunate that spec authors didn&#39;t consider protecting native DOM screenshots with the same-origin policy. this decision has caused so many needless headaches. anyway, thanks for your help."}, {"owner": {"reputation": 31516, "user_id": 144088, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/275e84b46c74904dd0b376d89d6968ef?s=128&d=identicon&r=PG", "display_name": "Crashalot", "link": "https://stackoverflow.com/users/144088/crashalot"}, "edited": false, "score": 0, "creation_date": 1610960909, "post_id": 42405731, "comment_id": 116287825, "body": "forgot to ask: have you found any issues with this script? it may be the final piece for converting DOM animations to a WebM video, all from javascript."}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 31516, "user_id": 144088, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/275e84b46c74904dd0b376d89d6968ef?s=128&d=identicon&r=PG", "display_name": "Crashalot", "link": "https://stackoverflow.com/users/144088/crashalot"}, "edited": false, "score": 0, "creation_date": 1610961051, "post_id": 42405731, "comment_id": 116287898, "body": "@Crashalot As said in the heading comment, I didn&#39;t do any serious testings against this script. Be very careful using it."}, {"owner": {"reputation": 31516, "user_id": 144088, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/275e84b46c74904dd0b376d89d6968ef?s=128&d=identicon&r=PG", "display_name": "Crashalot", "link": "https://stackoverflow.com/users/144088/crashalot"}, "edited": false, "score": 0, "creation_date": 1610961800, "post_id": 42405731, "comment_id": 116288264, "body": "ok, was hoping you had heard from others or done more testing since 2018. thanks again for your help."}, {"owner": {"reputation": 31516, "user_id": 144088, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/275e84b46c74904dd0b376d89d6968ef?s=128&d=identicon&r=PG", "display_name": "Crashalot", "link": "https://stackoverflow.com/users/144088/crashalot"}, "edited": false, "score": 0, "creation_date": 1610961878, "post_id": 42405731, "comment_id": 116288308, "body": "last question if you don&#39;t mind: assuming this script works and fonts can get inlined, do you foresee other complications with rendering CSS animations onto canvas to create webm videos?"}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 31516, "user_id": 144088, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/275e84b46c74904dd0b376d89d6968ef?s=128&d=identicon&r=PG", "display_name": "Crashalot", "link": "https://stackoverflow.com/users/144088/crashalot"}, "edited": false, "score": 0, "creation_date": 1610961983, "post_id": 42405731, "comment_id": 116288370, "body": "@Crashalot You&#39;d need a way to freeze the CSS state because CSS animated svgs only get the first frame rendered on canvas. And regarding the testings, some bugs were found by SO users in this exact feed."}, {"owner": {"reputation": 31516, "user_id": 144088, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/275e84b46c74904dd0b376d89d6968ef?s=128&d=identicon&r=PG", "display_name": "Crashalot", "link": "https://stackoverflow.com/users/144088/crashalot"}, "edited": false, "score": 0, "creation_date": 1610962049, "post_id": 42405731, "comment_id": 116288403, "body": "thanks again for all your help. to clarify, not SVG animations, but normal DOM elements animated via CSS and jQuery/javascript."}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 31516, "user_id": 144088, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/275e84b46c74904dd0b376d89d6968ef?s=128&d=identicon&r=PG", "display_name": "Crashalot", "link": "https://stackoverflow.com/users/144088/crashalot"}, "edited": false, "score": 0, "creation_date": 1610962160, "post_id": 42405731, "comment_id": 116288455, "body": "@Crashalot Yes, the same rule applies to any animated image when painted on the canvas."}], "tags": [], "owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "is_accepted": true, "score": 23, "last_activity_date": 1519975655, "last_edit_date": 1519975655, "creation_date": 1487815390, "answer_id": 42405731, "question_id": 42402584, "link": "https://stackoverflow.com/questions/42402584/how-to-use-google-fonts-in-canvas-when-drawing-dom-objects-in-svg/42405731#42405731", "title": "How to use Google fonts in Canvas when Drawing DOM objects in SVG?", "body": "<p>This has been already asked a few times, but never really as precise as it about Google Fonts.</p>\n\n<p>So the general ideas are that :</p>\n\n<ul>\n<li>To draw an svg on a canvas, we need to load it in an <code>&lt;img&gt;</code> element first.</li>\n<li>For security reasons, <code>&lt;img&gt;</code> inner documents <strong>can not make any external requests.</strong><br>\nThis means that you'll have to embed all your external resources as dataURIs inside your svg markup itself, before loading it to the <code>&lt;img&gt;</code> element.</li>\n</ul>\n\n<p>So for a font, you'll need to append a <code>&lt;style&gt;</code> element, and replace font's src in between <code>url(...)</code>, with the dataURI version.  </p>\n\n<p>Google fonts embed documents like the one you use are actually just css files which will then point to the actual font files. So we need to fetch not only the first level CSS doc, but also the actual font files.</p>\n\n<p><strong>Here is a annotated and working <sup>(?)</sup> proof of concept</strong>, written with ES6 syntax, so which will require a modern browser, but it could be transpiled quite easily since all the methods in it can be polyfiled.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/*\r\n  Only tested on a really limited set of fonts, can very well not work\r\n  This should be taken as an proof of concept rather than a solid script.\r\n\t\r\n  @Params : an url pointing to an embed Google Font stylesheet\r\n  @Returns : a Promise, fulfiled with all the cssRules converted to dataURI as an Array\r\n*/\r\nfunction GFontToDataURI(url) {\r\n  return fetch(url) // first fecth the embed stylesheet page\r\n    .then(resp =&gt; resp.text()) // we only need the text of it\r\n    .then(text =&gt; {\r\n      // now we need to parse the CSSruleSets contained\r\n      // but chrome doesn't support styleSheets in DOMParsed docs...\r\n      let s = document.createElement('style');\r\n      s.innerHTML = text;\r\n      document.head.appendChild(s);\r\n      let styleSheet = s.sheet\r\n\r\n      // this will help us to keep track of the rules and the original urls\r\n      let FontRule = rule =&gt; {\r\n        let src = rule.style.getPropertyValue('src') || rule.style.cssText.match(/url\\(.*?\\)/g)[0];\r\n        if (!src) return null;\r\n        let url = src.split('url(')[1].split(')')[0];\r\n        return {\r\n          rule: rule,\r\n          src: src,\r\n          url: url.replace(/\\\"/g, '')\r\n        };\r\n      };\r\n      let fontRules = [],\r\n        fontProms = [];\r\n\r\n      // iterate through all the cssRules of the embedded doc\r\n      // Edge doesn't make CSSRuleList enumerable...\r\n      for (let i = 0; i &lt; styleSheet.cssRules.length; i++) {\r\n        let r = styleSheet.cssRules[i];\r\n        let fR = FontRule(r);\r\n        if (!fR) {\r\n          continue;\r\n        }\r\n        fontRules.push(fR);\r\n        fontProms.push(\r\n          fetch(fR.url) // fetch the actual font-file (.woff)\r\n          .then(resp =&gt; resp.blob())\r\n          .then(blob =&gt; {\r\n            return new Promise(resolve =&gt; {\r\n              // we have to return it as a dataURI\r\n              //   because for whatever reason, \r\n              //   browser are afraid of blobURI in &lt;img&gt; too...\r\n              let f = new FileReader();\r\n              f.onload = e =&gt; resolve(f.result);\r\n              f.readAsDataURL(blob);\r\n            })\r\n          })\r\n          .then(dataURL =&gt; {\r\n            // now that we have our dataURI version,\r\n            //  we can replace the original URI with it\r\n            //  and we return the full rule's cssText\r\n            return fR.rule.cssText.replace(fR.url, dataURL);\r\n          })\r\n        )\r\n      }\r\n      document.head.removeChild(s); // clean up\r\n      return Promise.all(fontProms); // wait for all this has been done\r\n    });\r\n}\r\n\r\n/* Demo Code */\r\n\r\nconst ctx = canvas.getContext('2d');\r\nlet svgData = '&lt;svg xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"200\"&gt;' +\r\n  '&lt;foreignObject width=\"100%\" height=\"100%\"&gt;' +\r\n  '&lt;div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"font-size:40px;font-family:Pangolin\"&gt;' +\r\n  'test' +\r\n  '&lt;/div&gt;' +\r\n  '&lt;/foreignObject&gt;' +\r\n  '&lt;/svg&gt;';\r\n// I'll use a DOMParser because it's easier to do DOM manipulation for me\r\nlet svgDoc = new DOMParser().parseFromString(svgData, 'image/svg+xml');\r\n// request our dataURI version\r\nGFontToDataURI('https://fonts.googleapis.com/css?family=Pangolin')\r\n  .then(cssRules =&gt; { // we've got our array with all the cssRules\r\n    let svgNS = \"http://www.w3.org/2000/svg\";\r\n    // so let's append it in our svg node\r\n    let defs = svgDoc.createElementNS(svgNS, 'defs');\r\n    let style = svgDoc.createElementNS(svgNS, 'style');\r\n    style.innerHTML = cssRules.join('\\n');\r\n    defs.appendChild(style);\r\n    svgDoc.documentElement.appendChild(defs);\r\n    // now we're good to create our string representation of the svg node\r\n    let str = new XMLSerializer().serializeToString(svgDoc.documentElement);\r\n    // Edge throws when blobURIs load dataURIs from https doc...\r\n    // So we'll use only dataURIs all the way...\r\n    let uri = 'data:image/svg+xml;charset=utf8,' + encodeURIComponent(str);\r\n\r\n    let img = new Image();\r\n    img.onload = function(e) {\r\n      URL.revokeObjectURL(this.src);\r\n      canvas.width = this.width;\r\n      canvas.height = this.height;\r\n      ctx.drawImage(this, 0, 0);\r\n    }\r\n    img.src = uri;\r\n  })\r\n  .catch(reason =&gt; console.log(reason)) // if something went wrong, it'll go here</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"canvas\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 4259, "user_id": 1031454, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/5Om4z.jpg?s=128&g=1", "display_name": "supersan", "link": "https://stackoverflow.com/users/1031454/supersan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3492, "favorite_count": 1, "accepted_answer_id": 42405731, "answer_count": 2, "score": 6, "last_activity_date": 1519975655, "creation_date": 1487798789, "question_id": 42402584, "link": "https://stackoverflow.com/questions/42402584/how-to-use-google-fonts-in-canvas-when-drawing-dom-objects-in-svg", "title": "How to use Google fonts in Canvas when Drawing DOM objects in SVG?", "body": "<p>As per Mozilla's documentation, you can draw complex HTML on Canvas like <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Drawing_DOM_objects_into_a_canvas\" rel=\"noreferrer\">this</a>.</p>\n\n<p><strong>What I can't figure out is a way to make Google fonts work with it.</strong></p>\n\n<p>See this example below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var canvas = document.getElementById('canvas');\r\n    var ctx    = canvas.getContext('2d');\r\n    \r\n    var data   = '&lt;svg xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"200\"&gt;' +\r\n                   '&lt;foreignObject width=\"100%\" height=\"100%\"&gt;' +\r\n                     '&lt;div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"font-size:40px;font-family:Pangolin\"&gt;' +\r\n                       'test' +\r\n                     '&lt;/div&gt;' +\r\n                   '&lt;/foreignObject&gt;' +\r\n                 '&lt;/svg&gt;';\r\n    \r\n    var DOMURL = window.URL || window.webkitURL || window;\r\n    \r\n    var img = new Image();\r\n    var svg = new Blob([data], {type: 'image/svg+xml;charset=utf-8'});\r\n    var url = DOMURL.createObjectURL(svg);\r\n    \r\n    img.onload = function () {\r\n      ctx.drawImage(img, 0, 0);\r\n      DOMURL.revokeObjectURL(url);\r\n    }\r\n    \r\n    img.src = url;</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://fonts.googleapis.com/css?family=Pangolin\" rel=\"stylesheet\"&gt;\r\n\r\n&lt;div style=\"font-size:40px;font-family:Pangolin\"&gt;test&lt;/div&gt;&lt;hr&gt;\r\n&lt;canvas id=\"canvas\" style=\"border:2px solid black;\" width=\"200\" height=\"200\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery", "file", "input", "user-input"], "comments": [{"owner": {"reputation": 189597, "user_id": 616443, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/907798bf02efdaf6f9d07d3c0552868f?s=128&d=identicon&r=PG", "display_name": "j08691", "link": "https://stackoverflow.com/users/616443/j08691"}, "edited": false, "score": 0, "creation_date": 1487798895, "post_id": 42402567, "comment_id": 71952233, "body": "Have you tried anything?"}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 1, "creation_date": 1487798926, "post_id": 42402567, "comment_id": 71952252, "body": "No, it is not possible to set <code>.files</code> property of <code>&lt;input type=&quot;file&quot;&gt;</code> element. Though you can call <code>File.prototype.slice()</code> to create a copy of the <code>File</code> object itself. Why do you need to create a copy of <code>File</code> object?"}], "answers": [{"tags": [], "owner": {"reputation": 10568, "user_id": 1525495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/imb0b.jpg?s=128&g=1", "display_name": "Jorge Fuentes Gonz&#225;lez", "link": "https://stackoverflow.com/users/1525495/jorge-fuentes-gonz%c3%a1lez"}, "is_accepted": false, "score": 0, "last_activity_date": 1487799467, "creation_date": 1487799467, "answer_id": 42402763, "question_id": 42402567, "link": "https://stackoverflow.com/questions/42402567/is-it-possible-to-copy-over-an-attachment-to-a-different-input-using-jquery/42402763#42402763", "title": "Is it possible to copy over an attachment to a different input using jQuery?", "body": "<p>One word: Impossibru `o\u00b4</p>\n\n<p>File inputs are more limited that other inputs. Security reasons I guess.</p>\n\n<p>As an addition: I can't think of any reason for that to be a good solution of something. Tell us more detailed what do you want to achieve and we could help you find a better approach.</p>\n"}], "owner": {"reputation": 906, "user_id": 2609521, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4cc163caa7682cdb67a17b534f9dfb95?s=128&d=identicon&r=PG&f=1", "display_name": "MalcolmInTheCenter", "link": "https://stackoverflow.com/users/2609521/malcolminthecenter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "closed_date": 1487801413, "answer_count": 1, "score": 0, "last_activity_date": 1487800057, "creation_date": 1487798723, "question_id": 42402567, "link": "https://stackoverflow.com/questions/42402567/is-it-possible-to-copy-over-an-attachment-to-a-different-input-using-jquery", "closed_reason": "Duplicate", "title": "Is it possible to copy over an attachment to a different input using jQuery?", "body": "<p>I have two inputs that are the same</p>\n\n<pre><code>&lt;input type=\"file\" size=\"30\" name=\"upload_file\" class=\"form-mobile-col-1\"&gt;\n</code></pre>\n\n<p>They both allow the user to upload a file.\nOne of the inputs is hidden and I need to copy the contents that are uploaded to the input displayed to the user over to the input that's hidden.</p>\n\n<p>How can I do this using javascript/jquery?</p>\n"}, {"tags": ["javascript", "forms", "validation", "submit", "onsubmit"], "comments": [{"owner": {"reputation": 23519, "user_id": 1177814, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4Kl3d.jpg?s=128&g=1", "display_name": "Dipen Shah", "link": "https://stackoverflow.com/users/1177814/dipen-shah"}, "edited": false, "score": 0, "creation_date": 1487798895, "post_id": 42402560, "comment_id": 71952231, "body": "Are you sure you&#39;re registering event listener before calling the event?"}, {"owner": {"reputation": 27, "user_id": 5490100, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1c3a89687af0b496a4f62516d7acadae?s=128&d=identicon&r=PG&f=1", "display_name": "Kazordomo", "link": "https://stackoverflow.com/users/5490100/kazordomo"}, "reply_to_user": {"reputation": 23519, "user_id": 1177814, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4Kl3d.jpg?s=128&g=1", "display_name": "Dipen Shah", "link": "https://stackoverflow.com/users/1177814/dipen-shah"}, "edited": false, "score": 0, "creation_date": 1487801043, "post_id": 42402560, "comment_id": 71953305, "body": "Ah, actually I&#39;m not. That and the .click() simulation works perfectly, thanks :)"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 5490100, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1c3a89687af0b496a4f62516d7acadae?s=128&d=identicon&r=PG&f=1", "display_name": "Kazordomo", "link": "https://stackoverflow.com/users/5490100/kazordomo"}, "edited": false, "score": 0, "creation_date": 1487801120, "post_id": 42402612, "comment_id": 71953344, "body": "Yepp, that&#39;s it! Thanks!"}], "tags": [], "owner": {"reputation": 3235, "user_id": 1148244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z8rdM.jpg?s=128&g=1", "display_name": "Pabs123", "link": "https://stackoverflow.com/users/1148244/pabs123"}, "is_accepted": true, "score": 5, "last_activity_date": 1487799531, "last_edit_date": 1487799531, "creation_date": 1487798888, "answer_id": 42402612, "question_id": 42402560, "link": "https://stackoverflow.com/questions/42402560/trigger-onsubmit-without-submit-button/42402612#42402612", "title": "trigger onsubmit without submit-button", "body": "<p>You need to add the listener before you actually submit:</p>\n\n<pre><code>scoreForm.addEventListener('submit', function(){\n    console.log(\"works\"); //logs works\n});\nscoreForm.submit();\n</code></pre>\n\n<p>Otherwise the event will have fired before you have a listener set up</p>\n\n<p><strong>Edit:</strong> it seems I misread what you were asking. The answer you're looking for is that <code>submit()</code> will not fire the listener. you can simulate it by programatically clicking on the button with <code>click()</code>. <a href=\"http://codetheory.in/javascript-fire-onsubmit-by-calling-form-submit/\" rel=\"nofollow noreferrer\">Here is a good</a> explanation of this behaviour. try:</p>\n\n<pre><code>scoreForm.querySelector('input[type=\"submit\"]').click()\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 5490100, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1c3a89687af0b496a4f62516d7acadae?s=128&d=identicon&r=PG&f=1", "display_name": "Kazordomo", "link": "https://stackoverflow.com/users/5490100/kazordomo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2177, "favorite_count": 0, "accepted_answer_id": 42402612, "answer_count": 1, "score": 1, "last_activity_date": 1487799531, "creation_date": 1487798715, "question_id": 42402560, "link": "https://stackoverflow.com/questions/42402560/trigger-onsubmit-without-submit-button", "title": "trigger onsubmit without submit-button", "body": "<p>I'm stuck, trying to submit my form using the submit function ( formElement.submit() ).\nWell, actually It do send the form-input-values to the backend, but I'm trying to prevent it and adding ajax in between.</p>\n\n<p>Jade/pug</p>\n\n<pre><code>form#score-form(method=\"POST\" action=\"/leaderboard\")\n    input#submit-score(type=\"hidden\" value=\"\" name=\"submitscore\")\n    //value is fetched from JS\n</code></pre>\n\n<p>JS</p>\n\n<pre><code>scoreForm.submit();\nscoreForm.addEventListener('submit', function(){\n    //Nothing here will be invoked\n});\n</code></pre>\n\n<p>However, when using a submit button, it works as intended</p>\n\n<pre><code>form#score-form(method=\"POST\" action=\"/leaderboard\")\n    input#submit-score(type=\"hidden\" value=\"\" name=\"submitscore\")\n    button(type=\"submit\")\n\nscoreForm.submit();\nscoreForm.addEventListener('submit', function(){\n    console.log(\"works\"); //logs works\n});\n</code></pre>\n\n<p>Everything works fine except the fact that it seems that .submit() doesn't invoke onsubmit. Is there any workaround (prefferable with vanilla js), to give the program a hint that the form is submitted, even with .submit()?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "css", "twitter-bootstrap", "google-maps", "google-maps-api-3"], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 4280486, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/542598708/picture?type=large", "display_name": "David A Negrete", "link": "https://stackoverflow.com/users/4280486/david-a-negrete"}, "edited": false, "score": 0, "creation_date": 1487808813, "post_id": 42403542, "comment_id": 71956298, "body": "Thanks for you suggestion @EyedFox1, I am still having that issue. I even made the &#39;map&#39; variable a global but the results are the same."}, {"owner": {"reputation": 646, "user_id": 6782388, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0e6fc47d7e19284b00f867abecbc9bed?s=128&d=identicon&r=PG&f=1", "display_name": "eyedfox", "link": "https://stackoverflow.com/users/6782388/eyedfox"}, "reply_to_user": {"reputation": 9, "user_id": 4280486, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/542598708/picture?type=large", "display_name": "David A Negrete", "link": "https://stackoverflow.com/users/4280486/david-a-negrete"}, "edited": false, "score": 0, "creation_date": 1487810212, "post_id": 42403542, "comment_id": 71956702, "body": "Can you include a picture of how it looks"}, {"owner": {"reputation": 9, "user_id": 4280486, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/542598708/picture?type=large", "display_name": "David A Negrete", "link": "https://stackoverflow.com/users/4280486/david-a-negrete"}, "edited": false, "score": 0, "creation_date": 1487810560, "post_id": 42403542, "comment_id": 71956796, "body": "So I got the output I wanted by using the panTo method. I added several latitude and longitude coordinates until I got the view I wanted. Not sure if this is the correct thing one should do but it worked."}], "tags": [], "owner": {"reputation": 646, "user_id": 6782388, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/0e6fc47d7e19284b00f867abecbc9bed?s=128&d=identicon&r=PG&f=1", "display_name": "eyedfox", "link": "https://stackoverflow.com/users/6782388/eyedfox"}, "is_accepted": false, "score": 0, "last_activity_date": 1487802712, "creation_date": 1487802712, "answer_id": 42403542, "question_id": 42402546, "link": "https://stackoverflow.com/questions/42402546/not-centering-around-the-map-marker/42403542#42403542", "title": "Not centering around the map marker", "body": "<p>You can have it all in one function</p>\n\n<pre><code> function initMap() {\n    var location = {lat: 51.513347, lng: -0.088986};\n    var map = new google.maps.Map(document.getElementById('map'), {\n      zoom: 8,\n      center: location\n    });\n    var marker = new google.maps.Marker({\n      position: location,\n      map: map\n    });\n }\n</code></pre>\n\n<p>For CSS try this: </p>\n\n<pre><code>#map {\n height: 400px;\n width: 100%;\n border-radius: 10px;\n background: #000;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 4280486, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/542598708/picture?type=large", "display_name": "David A Negrete", "link": "https://stackoverflow.com/users/4280486/david-a-negrete"}, "is_accepted": false, "score": 1, "last_activity_date": 1487810915, "creation_date": 1487810915, "answer_id": 42405088, "question_id": 42402546, "link": "https://stackoverflow.com/questions/42402546/not-centering-around-the-map-marker/42405088#42405088", "title": "Not centering around the map marker", "body": "<p>I hacked the view and used the <a href=\"https://developers.google.com/maps/documentation/javascript/reference\" rel=\"nofollow noreferrer\">panTo</a> method. Not sure if this is the correct thing to do but I got the view needed. </p>\n\n<pre><code>var map;   \nfunction initMap() {\n    var location = {lat: 51.513347, lng: -0.088986};\n    map = new google.maps.Map(document.getElementById('map'), {\n      zoom: 8,\n      center: location\n    });\n    var marker = new google.maps.Marker({\n      position: location,\n      map: map\n    });\n    var latLng = new google.maps.LatLng(31.777423, -106.341530);\n    map.panTo(latLng); \n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 4280486, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/542598708/picture?type=large", "display_name": "David A Negrete", "link": "https://stackoverflow.com/users/4280486/david-a-negrete"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1487810915, "creation_date": 1487798671, "question_id": 42402546, "link": "https://stackoverflow.com/questions/42402546/not-centering-around-the-map-marker", "title": "Not centering around the map marker", "body": "<p>I have created a page with a google map and it displays the general location but it is not centered around the marker. I have gone over several tutorial and the problem persist. I sized the #map container div both inline and on the style sheet and get the same results. I am using twitter bootstrap to style my page. </p>\n\n<p>Here is my HTML/JS</p>\n\n<pre><code>...\n&lt;div class=\"col-sm-6\"&gt;\n   &lt;div id=\"map\" style=\"height:300px\"&gt;\n   &lt;/div&gt;\n&lt;/div&gt;\n...\n\n&lt;script&gt;\n    var map;\n    function initMap() {\n      var mapOptions = {\n        center: new google.maps.LatLng(31.7717067, -106.3308777),\n        zoom: 15,\n        mapTypeId: 'roadmap'\n        };\n      map = new google.maps.Map(document.getElementById('map'), mapOptions);\n      addMarker();\n      }\n&lt;/script&gt;\n&lt;script&gt;\n      function addMarker(){\n        var marker = new google.maps.Marker({\n          position: new google.maps.LatLng(31.7717067, -106.3308777),\n          map: map\n        });\n&lt;/script&gt;\n</code></pre>\n\n<p>My CSS</p>\n\n<pre><code>#map {\n    height: 100%;\n  }\nhtml, body {\n    height: 100%;\n    margin: 0;\n    padding: 0;\n  }\n</code></pre>\n"}, {"tags": ["javascript", "php", "jquery", "mysql", "arrays"], "comments": [{"owner": {"reputation": 32630, "user_id": 1011527, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/950d56c466691980bba71859798bfe65?s=128&d=identicon&r=PG", "display_name": "Jay Blanchard", "link": "https://stackoverflow.com/users/1011527/jay-blanchard"}, "edited": false, "score": 0, "creation_date": 1487798542, "post_id": 42402449, "comment_id": 71952019, "body": "The short answer is &#39;yes&#39;. The longer answer is that you do not need to know the MySQL column index."}, {"owner": {"reputation": 2056, "user_id": 5883638, "user_type": "registered", "accept_rate": 87, "profile_image": "https://graph.facebook.com/925482820900541/picture?type=large", "display_name": "Tobias Glaus", "link": "https://stackoverflow.com/users/5883638/tobias-glaus"}, "reply_to_user": {"reputation": 32630, "user_id": 1011527, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/950d56c466691980bba71859798bfe65?s=128&d=identicon&r=PG", "display_name": "Jay Blanchard", "link": "https://stackoverflow.com/users/1011527/jay-blanchard"}, "edited": false, "score": 0, "creation_date": 1487798622, "post_id": 42402449, "comment_id": 71952071, "body": "So how would you solve this, if not with the column index?"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1487798840, "post_id": 42402449, "comment_id": 71952195, "body": "<code>explode</code> won&#39;t parse JSON data."}, {"owner": {"reputation": 32630, "user_id": 1011527, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/950d56c466691980bba71859798bfe65?s=128&d=identicon&r=PG", "display_name": "Jay Blanchard", "link": "https://stackoverflow.com/users/1011527/jay-blanchard"}, "edited": false, "score": 0, "creation_date": 1487798845, "post_id": 42402449, "comment_id": 71952198, "body": "1st - does your table have more than 2 columns? 2nd - If it does, which columns should get the data being posted? 3rd - without seeing the details of the code you&#39;re trying to use to insert the data we would only be guessing."}, {"owner": {"reputation": 2056, "user_id": 5883638, "user_type": "registered", "accept_rate": 87, "profile_image": "https://graph.facebook.com/925482820900541/picture?type=large", "display_name": "Tobias Glaus", "link": "https://stackoverflow.com/users/5883638/tobias-glaus"}, "edited": false, "score": 0, "creation_date": 1487799585, "post_id": 42402449, "comment_id": 71952590, "body": "My table got 6 columns. As I said, the JS index array got different values. So sometimes it got <code>[1, 2]</code> or <code>[4, 5, 6]</code>, that&#39;s changing. And I want the data to get posted into these columns."}], "owner": {"reputation": 2056, "user_id": 5883638, "user_type": "registered", "accept_rate": 87, "profile_image": "https://graph.facebook.com/925482820900541/picture?type=large", "display_name": "Tobias Glaus", "link": "https://stackoverflow.com/users/5883638/tobias-glaus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1487798243, "creation_date": 1487798243, "question_id": 42402449, "link": "https://stackoverflow.com/questions/42402449/php-mysql-js-use-js-index-to-insert-into-row-with-that-index", "title": "PHP/MySQL/JS: Use JS index to INSERT INTO row with that index", "body": "<p>I got a variable:</p>\n\n<pre><code>var items = $('.ui-selected', this).map(function() {\n  return $(this).index();\n}).get();\n</code></pre>\n\n<p>That's giving me an array of dynamic numbers. For example:</p>\n\n<pre><code>[0]\n[0, 1]\n</code></pre>\n\n<p>So I want to pass that array to PHP. There I want to use these numbers to <code>INSERT INTO</code> these specific columns. So when i get 0 and 1 in the array I want to write a value in column 1 and 2. To pass that value I tried this:</p>\n\n<pre><code>//JS\nitems = items.join(',')\n$.post('/save.php', { 'items': items })\n\n//PHP\n$items = $_POST['items'];\n$items = explode(',', $items);\n</code></pre>\n\n<p>But do MySQL columns got the same indexes as JS? So is the first column index 0?</p>\n"}, {"tags": ["javascript", "android", "android-webview", "q"], "comments": [{"owner": {"reputation": 292139, "user_id": 965051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XgLe7.gif?s=128&g=1", "display_name": "adeneo", "link": "https://stackoverflow.com/users/965051/adeneo"}, "edited": false, "score": 0, "creation_date": 1487798414, "post_id": 42402430, "comment_id": 71951942, "body": "I&#39;m guessing ES 5.1, the real question is; why would it matter ?"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1487798454, "post_id": 42402430, "comment_id": 71951967, "body": "<a href=\"https://github.com/kriskowal/q\" rel=\"nofollow noreferrer\">github.com/kriskowal/q</a>; I&#39;m not sure that there is one specified. I wouldn&#39;t plan on using it in IE6 though."}, {"owner": {"reputation": 106594, "user_id": 575527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a1120319639f8c7ea84d66d4334bdfa9?s=128&d=identicon&r=PG", "display_name": "Joseph", "link": "https://stackoverflow.com/users/575527/joseph"}, "edited": false, "score": 0, "creation_date": 1487798869, "post_id": 42402430, "comment_id": 71952213, "body": "It&#39;s tested in Travis using Node 0.10. That and the compat table should give you a rough idea of what&#39;s supported."}, {"owner": {"reputation": 458, "user_id": 3919495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BbhE1.jpg?s=128&g=1", "display_name": "Jaime", "link": "https://stackoverflow.com/users/3919495/jaime"}, "edited": false, "score": 0, "creation_date": 1487798942, "post_id": 42402430, "comment_id": 71952260, "body": "You need to worry about the minimum version of the engine required by the module not the ES version <a href=\"https://github.com/kriskowal/q/blob/v1/package.json#L42\" rel=\"nofollow noreferrer\">Q package.json</a>"}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1487802429, "post_id": 42402430, "comment_id": 71953930, "body": "It appears the <a href=\"https://github.com/kriskowal/q/blob/7e4c79a5715b3981b2d4339381a0a3faa01f3b21/CHANGES.md#017\" rel=\"nofollow noreferrer\">Q works even with ES3</a>"}, {"owner": {"reputation": 3202, "user_id": 992951, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/SbkCU.jpg?s=128&g=1", "display_name": "Steven Mark Ford", "link": "https://stackoverflow.com/users/992951/steven-mark-ford"}, "reply_to_user": {"reputation": 458, "user_id": 3919495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BbhE1.jpg?s=128&g=1", "display_name": "Jaime", "link": "https://stackoverflow.com/users/3919495/jaime"}, "edited": false, "score": 0, "creation_date": 1487831491, "post_id": 42402430, "comment_id": 71963577, "body": "@jaime I do not agree. Q itself will require an ECMAScript feature-set and I want to determine what the minimum ECMAScript version required is to satisfy the set."}, {"owner": {"reputation": 3202, "user_id": 992951, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/SbkCU.jpg?s=128&g=1", "display_name": "Steven Mark Ford", "link": "https://stackoverflow.com/users/992951/steven-mark-ford"}, "reply_to_user": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1487831534, "post_id": 42402430, "comment_id": 71963602, "body": "@Bergi thank you. Want change log version are you referring to deduce that it works on ES3."}, {"owner": {"reputation": 3202, "user_id": 992951, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/SbkCU.jpg?s=128&g=1", "display_name": "Steven Mark Ford", "link": "https://stackoverflow.com/users/992951/steven-mark-ford"}, "reply_to_user": {"reputation": 292139, "user_id": 965051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XgLe7.gif?s=128&g=1", "display_name": "adeneo", "link": "https://stackoverflow.com/users/965051/adeneo"}, "edited": false, "score": 0, "creation_date": 1487831604, "post_id": 42402430, "comment_id": 71963626, "body": "@adeneo that is not the real question but anyway I have modified my question to include the reason I am asking but the reason is not required to answer the question."}, {"owner": {"reputation": 3202, "user_id": 992951, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/SbkCU.jpg?s=128&g=1", "display_name": "Steven Mark Ford", "link": "https://stackoverflow.com/users/992951/steven-mark-ford"}, "edited": false, "score": 0, "creation_date": 1487831703, "post_id": 42402430, "comment_id": 71963666, "body": "Why did my question get a down-vote? If you going to downvote please include a comment why and I will review the question. As far as I can tell this is a valid question."}, {"owner": {"reputation": 292139, "user_id": 965051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XgLe7.gif?s=128&g=1", "display_name": "adeneo", "link": "https://stackoverflow.com/users/965051/adeneo"}, "edited": false, "score": 0, "creation_date": 1487831982, "post_id": 42402430, "comment_id": 71963808, "body": "@StevenMarkFord - Q generally works in every major browser or other place you could use it, because just about &quot;everything&quot; has been using at least ES 5.1 for almost ten years. In ES6 promises are already supported, so that&#39;s not an issue. If Q works in ES3 as well, it would work in ever version of EcmaScript since 1999, so again, the real question is why would it matter, are you planning on developing for Netscape Navigator or other twenty year old browsers ?"}, {"owner": {"reputation": 3202, "user_id": 992951, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/SbkCU.jpg?s=128&g=1", "display_name": "Steven Mark Ford", "link": "https://stackoverflow.com/users/992951/steven-mark-ford"}, "reply_to_user": {"reputation": 292139, "user_id": 965051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XgLe7.gif?s=128&g=1", "display_name": "adeneo", "link": "https://stackoverflow.com/users/965051/adeneo"}, "edited": false, "score": 0, "creation_date": 1487832353, "post_id": 42402430, "comment_id": 71963950, "body": "@adeneo Actually Android 4.0 which was released 5 years ago (not 10) only supports a subset of ES 5.0 so question does matter."}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1487841541, "post_id": 42402430, "comment_id": 71969020, "body": "@StevenMarkFord 0.1.7 &quot;<i>shimmed ES5 Object.create in addition to Object.freeze for compatibility on non-ES5 engines</i>&quot;"}, {"owner": {"reputation": 3202, "user_id": 992951, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/SbkCU.jpg?s=128&g=1", "display_name": "Steven Mark Ford", "link": "https://stackoverflow.com/users/992951/steven-mark-ford"}, "reply_to_user": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1487855230, "post_id": 42402430, "comment_id": 71978471, "body": "@Bergi I think your answer is sufficient, thanks! If you create an answer with that I will accept it."}], "owner": {"reputation": 3202, "user_id": 992951, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/SbkCU.jpg?s=128&g=1", "display_name": "Steven Mark Ford", "link": "https://stackoverflow.com/users/992951/steven-mark-ford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487841634, "creation_date": 1487798146, "last_edit_date": 1487841634, "question_id": 42402430, "link": "https://stackoverflow.com/questions/42402430/minimum-version-of-ecmascript-required-for-kriskowals-q-promise-library", "title": "Minimum version of ECMAScript required for kriskowal&#39;s Q promise library", "body": "<p>What minimum version of ECMAScript is required by kriskowal's Q promise library?</p>\n\n<p>I am aware of the compat. table: <a href=\"http://kangax.github.io/compat-table/es6/\" rel=\"nofollow noreferrer\">http://kangax.github.io/compat-table/es6/</a> but this just specifies ES6 is required to run Promise natively i.e. excluding third-party Promise libraries.</p>\n\n<p>The reason I'm asking is because I want to be sure it works on Android 4.0 (and up) webviews. As far as I can tell from looking at the compat table the Android 4.0 webview only supports a subset of ES5.</p>\n\n<p>It seems Q might support engines running sub 5 <a href=\"https://github.com/kriskowal/q/blob/7e4c79a5715b3981b2d4339381a0a3faa01f3b21/CHANGES.md#017\" rel=\"nofollow noreferrer\">see Q change log 0.1.7</a></p>\n"}, {"tags": ["javascript", "angular", "systemjs"], "comments": [{"owner": {"reputation": 4891, "user_id": 2720743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/G0chu.jpg?s=128&g=1", "display_name": "Ajay Narain Mathur", "link": "https://stackoverflow.com/users/2720743/ajay-narain-mathur"}, "edited": false, "score": 1, "creation_date": 1487798041, "post_id": 42402386, "comment_id": 71951711, "body": "you may find this helpful : <a href=\"https://github.com/systemjs/systemjs\" rel=\"nofollow noreferrer\">github.com/systemjs/systemjs</a>"}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1487798484, "post_id": 42402386, "comment_id": 71951984, "body": "<code>System.import()</code> is a polyfill for <a href=\"https://github.com/tc39/proposal-dynamic-import\" rel=\"nofollow noreferrer\">dynamic import</a> proposal, <code>app</code> is a module name, SystemJS uses <code>map</code> and <code>packages</code> in its config file to determine actual URL for loading <code>app</code> module."}], "owner": {"reputation": 4927, "user_id": 2805694, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/be19c109c129e98b195c3999cf30d034?s=128&d=identicon&r=PG&f=1", "display_name": "Shane", "link": "https://stackoverflow.com/users/2805694/shane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1201, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1487797964, "creation_date": 1487797964, "question_id": 42402386, "link": "https://stackoverflow.com/questions/42402386/what-does-system-import-do", "title": "What does system.import do?", "body": "<p>I have the below code in my <code>index.html</code>, basically what does the app represents? Does it <code>map</code> it to <code>folder</code>?</p>\n\n<pre><code>   System.import('app').catch(function(err) {\n        console.error(err);\n   });\n</code></pre>\n\n<p>Does the <code>app</code> has any relation to the <code>map or packages</code> object?</p>\n\n<pre><code>var map = {\n    'app': 'dist', // 'dist',\n    '@angular': 'node_modules/@angular',\n    'rxjs': 'node_modules/rxjs'\n};\n// packages tells the System loader how to load when no filename and/or no extension\nvar packages = {\n    'app': {\n        main: 'main.js',\n        defaultExtension: 'js'\n    },\n    'rxjs': {\n        defaultExtension: 'js'\n    }\n};\n</code></pre>\n"}, {"tags": ["javascript", "django", "mustache"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 3417618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5732fa26e302447209233d458d32af?s=128&d=identicon&r=PG", "display_name": "user13238", "link": "https://stackoverflow.com/users/3417618/user13238"}, "edited": false, "score": 0, "creation_date": 1487799768, "post_id": 42402528, "comment_id": 71952691, "body": "Brilliant, thanks. I&#39;ll post the code if anyone is interested."}], "tags": [], "owner": {"reputation": 940, "user_id": 1470517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2fadb13454065d2bd95304cc7ec5149?s=128&d=identicon&r=PG", "display_name": "Goro", "link": "https://stackoverflow.com/users/1470517/goro"}, "is_accepted": true, "score": 0, "last_activity_date": 1487798606, "creation_date": 1487798606, "answer_id": 42402528, "question_id": 42402378, "link": "https://stackoverflow.com/questions/42402378/ajax-response-not-rendering-in-javascript-template/42402528#42402528", "title": "AJAX response not rendering in JavaScript template", "body": "<p>This because the <code>$.ajax</code> call is async, so it's completing after <code>framecode</code> has already been assigned. You'll need to wrap the remainder of the code there in a <code>.then</code> after the <code>$.ajax</code> to fix this.</p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 3417618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5732fa26e302447209233d458d32af?s=128&d=identicon&r=PG", "display_name": "user13238", "link": "https://stackoverflow.com/users/3417618/user13238"}, "is_accepted": false, "score": 0, "last_activity_date": 1487799915, "creation_date": 1487799915, "answer_id": 42402880, "question_id": 42402378, "link": "https://stackoverflow.com/questions/42402378/ajax-response-not-rendering-in-javascript-template/42402880#42402880", "title": "AJAX response not rendering in JavaScript template", "body": "<p>Here's the working edited code in response to Stephen's answer</p>\n\n<pre><code>function isEmpty(str) {\n    return (!str || 0 === str.length);\n}\n\nfunction framereplace(ytid, movid) {\n    framecode = '&lt;iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/{{ytid}}\" frameborder=\"0\" allowfullscreen&gt;&lt;/iframe&gt;';\n    rendered = Mustache.render(framecode, {ytid: ytid});\n    popup = $('#popup' + movid);\n    popup.popup({\n        opacity: 0.3,\n        transition: 'all 0.3s'\n    });\n    popup.popup('show');\n    popup.html(rendered);\n}\n\n$(document).on(\"click\", \".movlist_youtubebutton\", function() {\n    console.log(\"Youtube Button Clicked\");\n    var ytid = $(this).data('ytid');\n    var movid = $(this).data('movid');\n\n    if (isEmpty(ytid)) {\n        $.ajax({\n            url: \"/gettrailer/\",\n            method: \"GET\",\n            data: {movid: movid},\n            dataType: \"json\",\n            success: function (result) {\n                console.log(result);\n                ytid = result.ytid;\n            }\n        }).then(framereplace(ytid, movid)); // needs to happen after\n    } else {\n        framereplace(ytid, movid);\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 3417618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5732fa26e302447209233d458d32af?s=128&d=identicon&r=PG", "display_name": "user13238", "link": "https://stackoverflow.com/users/3417618/user13238"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 42402528, "answer_count": 2, "score": 0, "last_activity_date": 1487799915, "creation_date": 1487797929, "last_edit_date": 1487798593, "question_id": 42402378, "link": "https://stackoverflow.com/questions/42402378/ajax-response-not-rendering-in-javascript-template", "title": "AJAX response not rendering in JavaScript template", "body": "<p>I have the following jQuery AJAX request, that returns the correct JSON response, as expected (which is a youtube ID). However, when I try to insert <code>ytid</code> into <code>framecode</code> using:</p>\n\n<pre><code>rendered = Mustache.render(framecode, {ytid: ytid});\n</code></pre>\n\n<p>I am left with an empty space where <code>{{ytid}}</code> should be replaced with the contents of <code>ytid</code>. \nIn the firefox debugger, <code>ytid</code> shows as a string as expected, and when I run the above line in the debugger, <code>{{ytid}}</code> is replaced with the youtube id as expected. Very strange. Also, when I print <code>ytid</code> to console, it also prints correctly, so I'm sure the variable is not empty.</p>\n\n<pre><code>$(document).on(\"click\", \".movlist_youtubebutton\", function() {\n    console.log(\"Youtube Button Clicked\");\n    var ytid = $(this).data('ytid');\n    var movid = $(this).data('movid');\n\n    function isEmpty(str) {\n        return (!str || 0 === str.length);\n    }\n\n    if (isEmpty(ytid)) {\n        $.ajax({\n            url: \"/gettrailer/\",\n            method: \"GET\",\n            data: {movid: movid},\n            dataType: \"json\",\n            success: function (result) {\n                console.log(result);\n                    ytid = result.ytid;\n                    window.ytid = ytid;\n                    console.log(ytid);\n            }\n        });\n    }\n    framecode = '&lt;iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/{{ytid}}\" frameborder=\"0\" allowfullscreen&gt;&lt;/iframe&gt;';\n    rendered = Mustache.render(framecode, {ytid: ytid});\n    console.log(rendered);\n    // window.ytid = 'test3'\n    console.log(ytid);\n    popup = $('#popup' + movid);\n    popup.popup({\n        opacity: 0.3,\n        transition: 'all 0.3s'\n    });\n    popup.popup('show');\n    popup.html(rendered);\n});\n</code></pre>\n"}, {"tags": ["javascript", "node.js"], "answers": [{"tags": [], "owner": {"reputation": 63788, "user_id": 747579, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Zq3Qi.jpg?s=128&g=1", "display_name": "Abdennour TOUMI", "link": "https://stackoverflow.com/users/747579/abdennour-toumi"}, "is_accepted": true, "score": 0, "last_activity_date": 1487798279, "creation_date": 1487798279, "answer_id": 42402461, "question_id": 42402375, "link": "https://stackoverflow.com/questions/42402375/node-js-read-value-from-self-exported-object/42402461#42402461", "title": "node.js read value from self - exported object", "body": "<p>Put the common code in variable (.i.e: keys ) before the export : </p>\n\n<pre><code>const keys =  [\n                { name: 'clientMacAddress', alias: 'c', type: String },\n                { name: 'name', alias: 'n', type: String }\n            ];\n\nvar argData = module.exports = {\n    SetName: {\n    definitions: keys,\n    usage: [\n        {\n            header: 'blah',\n            content: 'blah'\n        },\n        {\n            header: 'Options',\n            optionList: keys\n        }\n    ]\n}\n...\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 7605690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f92841def905eaec28d6d4433615565?s=128&d=identicon&r=PG&f=1", "display_name": "Noah Tatum", "link": "https://stackoverflow.com/users/7605690/noah-tatum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 42402461, "answer_count": 1, "score": 0, "last_activity_date": 1487798279, "creation_date": 1487797920, "question_id": 42402375, "link": "https://stackoverflow.com/questions/42402375/node-js-read-value-from-self-exported-object", "title": "node.js read value from self - exported object", "body": "<p>I have a big js object that looks like this (truncated)</p>\n\n<pre><code>var argData = module.exports = {\n    SetName: {\n    definitions: [\n        { name: 'clientMacAddress', alias: 'c', type: String },\n        { name: 'name', alias: 'n', type: String }\n    ],\n    usage: [\n        {\n            header: 'blah',\n            content: 'blah'\n        },\n        {\n            header: 'Options',\n            optionList: [\n                { name: 'clientMacAddress', alias: 'c', type: String },\n                { name: 'name', alias: 'n', type: String }\n            ]\n        }\n    ]\n}\n...\n</code></pre>\n\n<p>As you can see, everything in argData[\"SetName\"].definitions is in the optionList section. I would like to just sub in a variable in the optionsList section so it looks like this:</p>\n\n<pre><code>...\nheader: 'Options',\n        //already tried doing this and it didn't work\n        optionList: argData[\"SetLatency\"].definitions\n    }\n...\n</code></pre>\n\n<p>I want to refer to a key in the object within itself (if that makes sense). I tried \"self.argData\" but that didn't work. I'm thinking that because I'm declaring it here, it's not possible to do a variable, but I want to make sure. If not, what would be the best way to handle this?</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 2, "creation_date": 1487797979, "post_id": 42402360, "comment_id": 71951685, "body": "Just redefine the function (with the same name and corrected code) at a scope closer to where you want to use it."}, {"owner": {"reputation": 457, "user_id": 7589207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46bde3767f766142db431f241759a644?s=128&d=identicon&r=PG&f=1", "display_name": "Sekalf Nroc", "link": "https://stackoverflow.com/users/7589207/sekalf-nroc"}, "edited": false, "score": 0, "creation_date": 1487798030, "post_id": 42402360, "comment_id": 71951707, "body": "Why can&#39;t you access the code?"}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1487798720, "post_id": 42402360, "comment_id": 71952128, "body": "Depends on where it is definded and how it is being referenced/called."}, {"owner": {"reputation": 15, "user_id": 7607394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d3dd08634f60e29fef76a5a3f8621af?s=128&d=identicon&r=PG&f=1", "display_name": "James C", "link": "https://stackoverflow.com/users/7607394/james-c"}, "edited": false, "score": 0, "creation_date": 1487799209, "post_id": 42402360, "comment_id": 71952396, "body": "its an online ordering system in .net and the code is in one of the asp files that I can&#39;t edit. Its likely already fixed in an update but updating the system would take a lot of time with our custom edits."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1487799536, "post_id": 42402360, "comment_id": 71952554, "body": "@Radiusmg I have posted the answer below."}, {"owner": {"reputation": 15, "user_id": 7607394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d3dd08634f60e29fef76a5a3f8621af?s=128&d=identicon&r=PG&f=1", "display_name": "James C", "link": "https://stackoverflow.com/users/7607394/james-c"}, "edited": false, "score": 0, "creation_date": 1487800172, "post_id": 42402360, "comment_id": 71952879, "body": "yes I&#39;m working on where to place it.. There are specific html files in the system I can access and enter code.. so im looking for the area that will place this after the original."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 7607394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d3dd08634f60e29fef76a5a3f8621af?s=128&d=identicon&r=PG&f=1", "display_name": "James C", "link": "https://stackoverflow.com/users/7607394/james-c"}, "edited": false, "score": 0, "creation_date": 1487867973, "post_id": 42402446, "comment_id": 71988279, "body": "Finally got this to work and marked as answer Scott. The main hurdle was finding where I could place it so that it appeared after the original in the code."}], "tags": [], "owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "is_accepted": true, "score": 0, "last_activity_date": 1487798583, "last_edit_date": 1487798583, "creation_date": 1487798220, "answer_id": 42402446, "question_id": 42402360, "link": "https://stackoverflow.com/questions/42402360/replace-javascript-function-with-a-new-function/42402446#42402446", "title": "replace javascript function with a new function", "body": "<p>It doesn't really matter where the original function is and how you access it, as long as you just redefine the function (with the same name and corrected code) at a scope closer to where you want to use it. </p>\n\n<p>Here's an example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function foo(){\r\n  console.log(\"ORIGINAL foo says hello.\");\r\n}\r\n\r\nfunction foo(){\r\n  console.log(\"NEW foo says hello.\");\r\n}\r\n\r\n// The second declaration is in the same scope as the first, but it comes after the first\r\n// so it overwrites that declaration and the second one is the one that is used.\r\nfoo();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 15, "user_id": 7607394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d3dd08634f60e29fef76a5a3f8621af?s=128&d=identicon&r=PG&f=1", "display_name": "James C", "link": "https://stackoverflow.com/users/7607394/james-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "closed_date": 1487814085, "accepted_answer_id": 42402446, "answer_count": 1, "score": -3, "last_activity_date": 1487798583, "creation_date": 1487797882, "question_id": 42402360, "link": "https://stackoverflow.com/questions/42402360/replace-javascript-function-with-a-new-function", "closed_reason": "Duplicate", "title": "replace javascript function with a new function", "body": "<p>In our ordering system there is an embedded function I have no access to at all. Conveniently there is a spelling error in it so when a user clicks something a popup appears and has grammar issues in it.</p>\n\n<p>Is there a way for me to replace that text or replace the function with a new function that has all the same code but correct spelling?</p>\n\n<p>This is the function I need to edit.. note confirm says 'You selection' not 'Your selection'\nI'd prefer to replace the whole thing because I may want to do some other edits but for now I'd like to fix that spelling error.</p>\n\n<pre><code> function showProof()\n{\n    var blnSubmit = false;\n    var strHid='';\n    var strSave='';\n\n  if (aryTemplateChoices.length == 0) \n  {\n    blnSubmit = true;\n  }\n  else\n  {\n    for (var i=1; i&lt;=aryTemplateChoices.length; i++)\n    {\n        strSave = aryTemplateChoices[i-1];\n        if (strSave=='')strSave='0';\n        if (document.getElementById('hidctrl'+ i))strHid = document.getElementById('hidctrl'+ i).value;\n        if (strHid=='')strHid='0';\n\n      if ((strSave != '0') &amp;&amp; (strHid != strSave))\n      {\n        blnSubmit = true;\n        break;\n      }\n\n    }\n  }\n\n  if (blnSubmit)\n  {\n    if (confirm('Your selection has changed, do you want to save?'))\n    {\n      document.getElementById('subtype').value = 'proof';\n      document.getElementById('prevclick').value = '';\n      document.getElementById('frm1').submit();\n    }\n  }\n\n  canAddToCart();\n  //&lt;!--WRITE--&gt;\n  getQuantityPrice()\n  //&lt;!--/WRITE--&gt;\n    loadProof();\n\n} \n</code></pre>\n"}, {"tags": ["javascript", "css"], "comments": [{"owner": {"reputation": 5947, "user_id": 5771750, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mBNlv.png?s=128&g=1", "display_name": "Chris Happy", "link": "https://stackoverflow.com/users/5771750/chris-happy"}, "edited": false, "score": 1, "creation_date": 1487798326, "post_id": 42402334, "comment_id": 71951883, "body": "Could you post your HTML?"}], "answers": [{"tags": [], "owner": {"reputation": 5947, "user_id": 5771750, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mBNlv.png?s=128&g=1", "display_name": "Chris Happy", "link": "https://stackoverflow.com/users/5771750/chris-happy"}, "is_accepted": false, "score": 2, "last_activity_date": 1487798420, "creation_date": 1487798420, "answer_id": 42402492, "question_id": 42402334, "link": "https://stackoverflow.com/questions/42402334/js-pagination-first-page-a-active-class/42402492#42402492", "title": "JS pagination first page &lt;a&gt; active class", "body": "<p>Without your HTML, I couldn't tell you a solution that works out of the box. However, you can write the jQuery:</p>\n\n<pre><code> $(\"a:first-child\").addClass(\"selected-page\");\n</code></pre>\n\n<p>or another selector like it.</p>\n"}, {"tags": [], "owner": {"reputation": 2566, "user_id": 5725211, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0Q5MPC-1u9o/AAAAAAAAAAI/AAAAAAAAAEA/JUWEiN9DLnA/photo.jpg?sz=128", "display_name": "Ieltxu Alga&#241;ar&#225;s", "link": "https://stackoverflow.com/users/5725211/ieltxu-alga%c3%b1ar%c3%a1s"}, "is_accepted": false, "score": 1, "last_activity_date": 1487798595, "creation_date": 1487798595, "answer_id": 42402527, "question_id": 42402334, "link": "https://stackoverflow.com/questions/42402334/js-pagination-first-page-a-active-class/42402527#42402527", "title": "JS pagination first page &lt;a&gt; active class", "body": "<p>i think that you can do this when you create the pages links</p>\n\n<pre><code>  $('&lt;a&gt;', {\n    href: '#',\n    text: (i + 1),\n    \"data-page\": (i),\n    \"class\": i == 0 ? \"selected-page\" : \"\" &lt;----- ADD THIS\n  })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 909, "user_id": 1722529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11b517bfbfd4336f0cc5c214a13d9739?s=128&d=identicon&r=PG", "display_name": "Matvey Andreyev", "link": "https://stackoverflow.com/users/1722529/matvey-andreyev"}, "is_accepted": true, "score": 1, "last_activity_date": 1487831343, "last_edit_date": 1487831343, "creation_date": 1487798732, "answer_id": 42402570, "question_id": 42402334, "link": "https://stackoverflow.com/questions/42402334/js-pagination-first-page-a-active-class/42402570#42402570", "title": "JS pagination first page &lt;a&gt; active class", "body": "<p>Here in your <code>_create</code> function you are showing page number 0.</p>\n\n<pre><code>this.showPage(0);\n</code></pre>\n\n<p>You can either replace this with a programmatic click on your first <code>&lt;a&gt;</code>,</p>\n\n<pre><code>$(\"a[data-page='0']\").click();\n</code></pre>\n\n<p>or simply add class name to it, instead of clicking:</p>\n\n<pre><code>$(\"a[data-page='0']\").addClass(\"selected-page\");\n</code></pre>\n"}], "owner": {"reputation": 716, "user_id": 6553529, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/e1ab89c6578f7f4c3bed242a5028cf80?s=128&d=identicon&r=PG&f=1", "display_name": "Fjott", "link": "https://stackoverflow.com/users/6553529/fjott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1060, "favorite_count": 0, "accepted_answer_id": 42402570, "answer_count": 3, "score": 0, "last_activity_date": 1487831343, "creation_date": 1487797805, "question_id": 42402334, "link": "https://stackoverflow.com/questions/42402334/js-pagination-first-page-a-active-class", "title": "JS pagination first page &lt;a&gt; active class", "body": "<p>I have this JS pagination code that works almost like I want it to, except from that I want the <code>selected-page</code> class to be added to the first page number <code>&lt;a&gt;</code> before it is clicked? Now it is only added after the current page is clicked.</p>\n\n<pre><code>(function($) {\n    $(function() {\n        $.widget(\"zpd.paging\", {\n            options: {\n                limit: 5,\n                rowDisplayStyle: 'block',\n                activePage: 0,\n                rows: []\n            },\n            _create: function() {\n                var rows = $(\"tbody\", this.element).children();\n                this.options.rows = rows;\n                this.options.rowDisplayStyle = rows.css('display');\n                var nav = this._getNavBar();\n                this.element.after(nav);\n                this.showPage(0);\n            },\n            _getNavBar: function() {\n                var rows = this.options.rows;\n                var nav = $('&lt;div&gt;', {class: 'paging-nav'});\n                for (var i = 0; i &lt; Math.ceil(rows.length / this.options.limit); i++) {\n                    this._on($('&lt;a&gt;', {\n                        href: '#',\n                        text: (i + 1),\n                        \"data-page\": (i)\n                    }).appendTo(nav),\n                            {click: \"pageClickHandler\"});\n                }\n                //create previous link\n                this._on($('&lt;a&gt;', {\n                    href: '#',\n                    text: '&lt;&lt;',\n                    \"data-direction\": -1\n                }).prependTo(nav),\n                        {click: \"pageStepHandler\"});\n                //create next link\n                this._on($('&lt;a&gt;', {\n                    href: '#',\n                    text: '&gt;&gt;',\n                    \"data-direction\": +1\n                }).appendTo(nav),\n                        {click: \"pageStepHandler\"});\n                return nav;\n            },\n            showPage: function(pageNum) {\n                var num = pageNum * 1; //it has to be numeric\n                this.options.activePage = num;\n                var rows = this.options.rows;\n                var limit = this.options.limit;\n                for (var i = 0; i &lt; rows.length; i++) {\n                    if (i &gt;= limit * num &amp;&amp; i &lt; limit * (num + 1)) {\n                        $(rows[i]).css('display', this.options.rowDisplayStyle);\n                    } else {\n                        $(rows[i]).css('display', 'none');\n                    }\n                }\n            },\n            pageClickHandler: function(event) {\n                event.preventDefault();\n                $(event.target).siblings().attr('class', \"\");\n                $(event.target).attr('class', \"selected-page\");\n                var pageNum = $(event.target).attr('data-page');\n                this.showPage(pageNum);\n            },\n            pageStepHandler: function(event) {\n                event.preventDefault();\n                //get the direction and ensure it's numeric\n                var dir = $(event.target).attr('data-direction') * 1;\n                var pageNum = this.options.activePage + dir;\n\n                //if we're in limit, trigger the requested pages link\n                if (pageNum &gt;= 0 &amp;&amp; pageNum &lt; this.options.rows.length) {\n                    $(\"a[data-page=\" + pageNum + \"]\", $(event.target).parent()).click();\n                }\n\n\n\n            }\n        });\n    });\n})(jQuery);\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "httprequest"], "comments": [{"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1487797994, "post_id": 42402287, "comment_id": 71951688, "body": "You will probably have to edit the library to fix it or control the conditions so it never hits that assertion.  It&#39;s bad behavior to throw inside an async callback (except for promises which are wrapped in try/catch automatically) because it can&#39;t be caught by the higher level code.  You could probably work around it by redefining whatever assert function they are using inside their module and not otherwise touching the code."}, {"owner": {"reputation": 1099, "user_id": 145606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/352cb942e059e8857eb9aaab4d5dd591?s=128&d=identicon&r=PG", "display_name": "Liron Levi", "link": "https://stackoverflow.com/users/145606/liron-levi"}, "edited": false, "score": 0, "creation_date": 1500641793, "post_id": 42402287, "comment_id": 77442362, "body": "I had the exact same issue as you&#39;ve encountered.. I agree with jfriend00 above that the only good way to fix this issue is to actually fix the library code and handle this gracefully. I&#39;ve changed the code in tunnel-agent to return an error instead of doing this assertion."}], "answers": [{"tags": [], "owner": {"reputation": 538, "user_id": 3563147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7AKnB.png?s=128&g=1", "display_name": "dimacpp", "link": "https://stackoverflow.com/users/3563147/dimacpp"}, "is_accepted": false, "score": 1, "last_activity_date": 1493793790, "creation_date": 1493793790, "answer_id": 43752903, "question_id": 42402287, "link": "https://stackoverflow.com/questions/42402287/how-to-handle-assertion-errors-in-third-party-node-js-libraries/43752903#43752903", "title": "How to handle assertion errors in third party Node.js libraries", "body": "<p>This is probably the only way to handle those unwelcome assertions:</p>\n\n<pre><code>process.on('uncaughtException', err =&gt; {\n\n    if (err.name === 'AssertionError') {\n        // handle the assertion here or just ignore it..\n\n    }\n\n\n});\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 1324875, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/77c1a5a38f9fea43ceecc45c0ba9fd1c?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/1324875/stephen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1072, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1493793790, "creation_date": 1487797619, "question_id": 42402287, "link": "https://stackoverflow.com/questions/42402287/how-to-handle-assertion-errors-in-third-party-node-js-libraries", "title": "How to handle assertion errors in third party Node.js libraries", "body": "<p>I'm using the Node.js request module request like so</p>\n\n<pre><code>let request = require('request');\nrequest(SOME_URL, { proxy }, function (error, response, body) {\n    if (error) {\n        console.log('Error: ' + error);\n        return;\n    }\n    // my actual code here that usually runs\n});\n</code></pre>\n\n<p>98% of the time this works, but sometimes I use a proxy that acts up, which causes some weird behavior. My code will be humming along fine until it comes to an abrupt halt with the following stack trace:</p>\n\n<pre><code>assert.js:85\n  throw new assert.AssertionError({\n  ^\n\nAssertionError: 542 == 0\n    at ClientRequest.onConnect (/home/stephen/apps/my-cool-app/node_modules/tunnel-agent/index.js:159:14)\n    at ClientRequest.g (events.js:291:16)\n    at emitThree (events.js:116:13)\n    at ClientRequest.emit (events.js:194:7)\n    at Socket.socketOnData (_http_client.js:395:11)\n    at emitOne (events.js:96:13)\n    at Socket.emit (events.js:188:7)\n    at readableAddChunk (_stream_readable.js:176:18)\n    at Socket.Readable.push (_stream_readable.js:134:10)\n    at TCP.onread (net.js:548:20)\n</code></pre>\n\n<p>Now, I would kind have expected any errors to be returned in the callback. But that's not happening, so I can't handle it appropriately there.</p>\n\n<p>I tried surrounding this in a try/catch block, like the following:</p>\n\n<pre><code>try {\n    request(SOME_URL, { proxy }, function (error, response, body) {\n        if (error) {\n            console.log('Error: ' + error);\n            return;\n        }\n        // my actual code here that usually runs\n    });\n} catch (err) {\n     console.log('Caught error: ' + err);\n}\n</code></pre>\n\n<p>But this also doesn't work -- I still get the AssertionError and my program stops.</p>\n\n<p>So, my question is: How do I handle this gracefully? If I encounter this <code>AssertionError</code> I want to cancel (or ignore) the request and move on with another one, not have my program come crashing to a halt.</p>\n"}, {"tags": ["javascript", "jquery", "html", "resize", "scala.js"], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 1680670, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5e21b104ad2743b6e593d9ea342dafef?s=128&d=identicon&r=PG", "display_name": "Anthony Holland", "link": "https://stackoverflow.com/users/1680670/anthony-holland"}, "edited": false, "score": 0, "creation_date": 1487837095, "post_id": 42402817, "comment_id": 71966372, "body": "Wolfgang, you&#39;re right - that avoids the scrollbar appearing. I will leave the question open for now in the hopes of soliciting answers to the problem of updating the layout before the first layout stage. Because, even with this css, the component itself is momentarily too large for the window and only updates to the correct size a flashy split-second later. Your answer is sensible and immediately applicable though, thanks."}], "tags": [], "owner": {"reputation": 733, "user_id": 4729521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f88578db8de1b9940b7d4289d8f5211?s=128&d=identicon&r=PG&f=1", "display_name": "Wolfgang", "link": "https://stackoverflow.com/users/4729521/wolfgang"}, "is_accepted": false, "score": 1, "last_activity_date": 1487799640, "creation_date": 1487799640, "answer_id": 42402817, "question_id": 42402284, "link": "https://stackoverflow.com/questions/42402284/react-to-window-resize-event-before-layout/42402817#42402817", "title": "React to window resize event *before* layout", "body": "<p>I'm pretty sure you can avoid these scrollbars by defining a css on the paret container.. it's a guess but I think this is html or body in your case</p>\n\n<pre><code>html, body {\n    height: 100%;\n    width: 100%;\n    padding: 0px;\n    margin: 0px;\n    overflow: hidden;\n}\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 1680670, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5e21b104ad2743b6e593d9ea342dafef?s=128&d=identicon&r=PG", "display_name": "Anthony Holland", "link": "https://stackoverflow.com/users/1680670/anthony-holland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487799640, "creation_date": 1487797607, "question_id": 42402284, "link": "https://stackoverflow.com/questions/42402284/react-to-window-resize-event-before-layout", "title": "React to window resize event *before* layout", "body": "<p>Consider the \"pixel pipeline\" described with a nice colourful diagram at <a href=\"https://developers.google.com/web/fundamentals/performance/rendering/\" rel=\"nofollow noreferrer\">https://developers.google.com/web/fundamentals/performance/rendering/</a></p>\n\n<p>I have an element (a span, let's say) which I would like to resize when the browser window resizes. I am doing so using the <code>window.onresize</code> / <code>window.addEventListener('resize'</code></p>\n\n<p>This works and I resize it to fit within the available space. Great. The trouble is, though, that for a brief moment after I resize the window (a sudden resize e.g. a \"restore\" from full screen to 30% height), a scrollbar shows. I believe it only shows because the pipeline goes through the layout, paint and composite stages once in reaction to the changed size of the window <strong>before</strong> running my <code>onresize</code> code, and although nothing other than the window changes size during that cycle, it is enough to make the a scrollbar appear. On the very next cycle I reduce the size of my span to fit the window, and the scrollbar is gone.</p>\n\n<p>For the contrived example of one span I am sure I could use a style specifying a margin or something similar to solve the problem, but for my more general problem I do want to use JavaScript to make the adjustment.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "node.js", "gulp"], "comments": [{"owner": {"reputation": 3582, "user_id": 5937428, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/tgO5i.png?s=128&g=1", "display_name": "amflare", "link": "https://stackoverflow.com/users/5937428/amflare"}, "edited": false, "score": 0, "creation_date": 1487797711, "post_id": 42402274, "comment_id": 71951528, "body": "What commands are you using to run gulp?"}, {"owner": {"reputation": 2732, "user_id": 2061886, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/dkfiz.jpg?s=128&g=1", "display_name": "lightweight", "link": "https://stackoverflow.com/users/2061886/lightweight"}, "reply_to_user": {"reputation": 3582, "user_id": 5937428, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/tgO5i.png?s=128&g=1", "display_name": "amflare", "link": "https://stackoverflow.com/users/5937428/amflare"}, "edited": false, "score": 0, "creation_date": 1487797770, "post_id": 42402274, "comment_id": 71951560, "body": "I just run <code>.&#47;node_modules&#47;gulp&#47;bin&#47;gulp.js </code> from the project directory...if I just try <code>gulp</code>, it says this: <code>-bash: &#47;usr&#47;local&#47;bin&#47;gulp: No such file or directory</code>"}, {"owner": {"reputation": 2732, "user_id": 2061886, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/dkfiz.jpg?s=128&g=1", "display_name": "lightweight", "link": "https://stackoverflow.com/users/2061886/lightweight"}, "reply_to_user": {"reputation": 3582, "user_id": 5937428, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/tgO5i.png?s=128&g=1", "display_name": "amflare", "link": "https://stackoverflow.com/users/5937428/amflare"}, "edited": false, "score": 0, "creation_date": 1487797827, "post_id": 42402274, "comment_id": 71951604, "body": "oooohhhh...I think I see what you mean...it looking at <code>~</code> as the root, not the project dir...right?"}], "owner": {"reputation": 2732, "user_id": 2061886, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/dkfiz.jpg?s=128&g=1", "display_name": "lightweight", "link": "https://stackoverflow.com/users/2061886/lightweight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1487797571, "creation_date": 1487797571, "question_id": 42402274, "link": "https://stackoverflow.com/questions/42402274/gulp-watch-and-lint-doesnt-seem-to-work-on-changing-files", "title": "gulp watch and lint doesn&#39;t seem to work on changing files", "body": "<p>I'm having issues getting my gulp watch and eslint to work on changing files and eslint doesn't run at all. </p>\n\n<p>My gulp file looks like this:</p>\n\n<pre><code>\"use strict\";\n\nvar gulp = require('gulp');\nvar connect = require('gulp-connect');\nvar open = require('gulp-open');\nvar browserify = require('browserify');\nvar reactify = require('reactify');\nvar source = require('vinyl-source-stream');\nvar concat = require('gulp-concat');\nvar lint = require('gulp-eslint');\n\n\n\n\nvar config = {\n    port: 8080,\n    devBaseUrl: 'http://localhost',\n    paths: {\n        html: './src/*.html',\n        js: './src/**/.js',\n        css: [\n            'node_modules/bootstrap/dist/css/bootstrap.min.css',\n            'node_modules/bootstrap/dist/css/bootstrap-theme.min.css'\n        ],\n        dist: './dist',\n        mainJs: './src/main.js'\n    }\n}\n\ngulp.task('connect', function () {\n    connect.server({\n        root: ['dist'],\n        port: config.port,\n        base: config.devBaseUrl,\n        livereload: true\n    });\n});\n\ngulp.task('open', ['connect'], function () {\n    gulp.src('dist/index.html')\n        .pipe(open({ uri: config.devBaseUrl + ':' + config.port + '/'}));\n});\n\ngulp.task('html', function () {\n    gulp.src(config.paths.html)\n    .pipe(gulp.dest(config.paths.dist))\n    .pipe(connect.reload());\n});\n\ngulp.task('js', function() {\n    browserify(config.paths.mainJs)\n        .transform(reactify)\n        .bundle()\n        .on('error', console.error.bind(console))\n        .pipe(source('bundle.js'))\n        .pipe(gulp.dest(config.paths.dist + '/scripts'))\n        .pipe(connect.reload());\n});\n\ngulp.task('css', function () {\n    gulp.src(config.paths.css)\n        .pipe(concat('bundle.css'))\n        .pipe(gulp.dest(config.paths.dist + '/css'))\n});\n\ngulp.task('lint', function () {\n    return gulp.src(config.paths.js)\n        .pipe(lint({config: 'eslint.config.json'}))\n        .pipe(lint.format());\n});\n\n\ngulp.task('watch', function () {\n    gulp.watch(config.paths.html, ['html']);\n    gulp.watch(config.paths.js, ['js', 'lint']);\n});\n\ngulp.task('default', ['html', 'js', 'css', 'lint', 'open', 'watch']);\n</code></pre>\n\n<p>I'm not getting any errors back and this is what the console shows:</p>\n\n<pre><code>[16:00:44] Using gulpfile ~/reactbegin/gulpfile.js\n[16:00:44] Starting 'html'...\n[16:00:44] Finished 'html' after 7.76 ms\n[16:00:44] Starting 'js'...\n[16:00:44] Finished 'js' after 13 ms\n[16:00:44] Starting 'css'...\n[16:00:44] Finished 'css' after 5.13 ms\n[16:00:44] Starting 'lint'...\n[16:00:44] Starting 'connect'...\n[16:00:44] Finished 'connect' after 12 ms\n[16:00:44] Starting 'open'...\n[16:00:44] Finished 'open' after 3.91 ms\n[16:00:44] Starting 'watch'...\n[16:00:44] Finished 'watch' after 19 ms\n[16:00:44] Server started http://localhost:8080\n[16:00:44] LiveReload started on port 35729\n[16:00:44] Opening http://localhost:8080/ using the default OS app\n[16:00:44] Finished 'lint' after 92 ms\n[16:00:44] Starting 'default'...\n[16:00:44] Finished 'default' after 2.77 \u03bcs\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "reactjs", "meteor", "webrtc"], "answers": [{"comments": [{"owner": {"reputation": 1930, "user_id": 2529221, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3Xtrp.jpg?s=128&g=1", "display_name": "alex10", "link": "https://stackoverflow.com/users/2529221/alex10"}, "edited": false, "score": 0, "creation_date": 1487940791, "post_id": 42407675, "comment_id": 72022187, "body": "If I drop the start function in the <code>then</code> that begins userMedia runs in an infinite loop. if you can give an example code."}], "tags": [], "owner": {"reputation": 11384, "user_id": 4352772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/olHTi.jpg?s=128&g=1", "display_name": "Philipp Hancke", "link": "https://stackoverflow.com/users/4352772/philipp-hancke"}, "is_accepted": false, "score": 4, "last_activity_date": 1487941024, "last_edit_date": 1487941024, "creation_date": 1487827335, "answer_id": 42407675, "question_id": 42402234, "link": "https://stackoverflow.com/questions/42402234/react-js-and-webrtc-rtcpeerconnection-addstream-is-not-an-object/42407675#42407675", "title": "react.js and WebRTC RTCPeerConnection.addStream is not an object", "body": "<p><code>getUserMedia</code> is an async operation that returns a promise. The <code>.then()</code> that sets the <code>localStream</code> has not been executed at the time when you call <code>pc.addStream</code>.\nYou might want to move your <code>start()</code> into the <code>.then()</code>.</p>\n\n<p>The ontrack event doesn't have a <code>e.stream</code> btw. You probably want to use <code>onaddstream</code> instead. Also please set <code>srcObject = e.stream</code> instead of using <code>URL.createObjectURL</code>.</p>\n"}], "owner": {"reputation": 1930, "user_id": 2529221, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/3Xtrp.jpg?s=128&g=1", "display_name": "alex10", "link": "https://stackoverflow.com/users/2529221/alex10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1857, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1487941024, "creation_date": 1487797400, "last_edit_date": 1487940529, "question_id": 42402234, "link": "https://stackoverflow.com/questions/42402234/react-js-and-webrtc-rtcpeerconnection-addstream-is-not-an-object", "title": "react.js and WebRTC RTCPeerConnection.addStream is not an object", "body": "<p>I want to make a simple video chat on <code>react.js</code> and <code>WebRTC</code>. But in line <code>pc.addStream(localStream)</code> error occurs:</p>\n\n<blockquote>\n  <p>TypeError: Argument 1 of RTCPeerConnection.addStream is not an object.</p>\n</blockquote>\n\n<p>And I don't understand why I can't see the log in the line:</p>\n\n<p><code>pc.onicecandidate = (e)=&gt;{\n   console.log('onicecandidate');</code></p>\n\n<p>That is all code:    </p>\n\n<pre><code>class App extends Component {\n  constructor(props) {\n    super(props);\n  }\n  componentDidUpdate(){\n    loadScript(\"https://webrtc.github.io/adapter/adapter-latest.js\");\n    let localVideo, remoteVideo, peerConnection, localStream;\n    $('#start').on('click', ()=&gt;{ start(true) });\n\n    let id = uuid();\n    localVideo = document.getElementById('localVideo');\n    remoteVideo = document.getElementById('remoteVideo');\n\n\n    if(navigator.mediaDevices.getUserMedia) {\n       navigator.mediaDevices.getUserMedia( { video:true, audio:true}).then( ( stream )=&gt; {\n          localStream = stream;\n          localVideo.src = window.URL.createObjectURL(stream);\n       }).catch(errorHandler);\n   }else{ alert('Your browser does not support getUserMedia API'); }\n\n   function start(isCaller) {\n      peerConnection = new RTCPeerConnection( { 'iceServers':  [{'urls': 'stun:stun.services.mozilla.com'}, {'urls': 'stun:stun.l.google.com:19302'},]});\n      peerConnection.onicecandidate = ( e ) =&gt; {\n        if(e.candidate != null) {\n           Meteor.call('addMsgRtc', JSON.stringify({'ice': e.candidate, '_id':id}), id);\n        }\n     };\n      peerConnection.onaddstream = ( e )=&gt;{\n         remoteVideo.src = window.URL.createObjectURL(e.stream);\n      };\n      peerConnection.addStream(localStream);\n      if(isCaller) { \n        peerConnection.createOffer().then(\n          createdDescription).catch(errorHandler);\n      }\n   }\n   if (!this.props.loadingRtc) {\n      for(let i of this.props.messagesRtc){        \n        if(!peerConnection) start(false);\n        let signal = JSON.parse(i.text);\n        if(signal._id == id) return;\n        if(signal.sdp) {\n             peerConnection.setRemoteDescription(new   RTCSessionDescription(signal.sdp)).then(()=&gt; {\n            if(signal.sdp.type == 'offer') {             peerConnection.createAnswer().then(createdDescription).catch(errorHandler);\n            }\n        }).catch(errorHandler);\n      }else if(signal.ice) {\n        peerConnection.addIceCandidate(new RTCIceCandidate(signal.ice)).catch(errorHandler);\n      }\n    }\n  }\n\n\n  function createdDescription(description) {\n    peerConnection.setLocalDescription(description).then(()=&gt; {        \n       Meteor.call('addMsgRtc', JSON.stringify({'sdp':peerConnection.localDescription, '_id':id}), id);\n    }).catch(errorHandler);\n  }\n  function errorHandler(error) { console.log(error); }\n}\n\n  }\n  render() {\n    return (\n        &lt;div id=\"container\"&gt;\n          &lt;video id=\"localVideo\" autoPlay muted style={{width:\"40%\"}}&gt;&lt;/video&gt;\n          &lt;video id=\"remoteVideo\" autoPlay style={{width:\"40%\"}}&gt;&lt;/video&gt;\n          &lt;br/&gt;\n        &lt;/div&gt;\n    );\n  }\n}\n\nexport default createContainer( ()=&gt; {\n  const subscriptionRtc = Meteor.subscribe('rtc');\n  const loadingRtc = !subscriptionRtc.ready();\n  return {\n    loadingRtc:loadingRtc,\n    messagesRtc: msgRtc.find().fetch(),\n  };\n}, App);\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "answers": [{"tags": [], "owner": {"reputation": 190, "user_id": 4974674, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/T5TX2.jpg?s=128&g=1", "display_name": "cristiancastrodc", "link": "https://stackoverflow.com/users/4974674/cristiancastrodc"}, "is_accepted": false, "score": 0, "last_activity_date": 1487797865, "creation_date": 1487797865, "answer_id": 42402355, "question_id": 42402231, "link": "https://stackoverflow.com/questions/42402231/mouseenter-event-handler-does-not-work-the-first-time-the-event-is-called/42402355#42402355", "title": "mouseenter event handler does not work the first time the event is called", "body": "<p>Are you sure that you need this line?</p>\n\n<pre><code>if(window.k) {\n</code></pre>\n\n<p>The first time that you enter, that variable is not assigned, so the event is not fired.\nIf you remove that line the effect works as desired.</p>\n"}, {"tags": [], "owner": {"reputation": 4375, "user_id": 2712079, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ALIZ.jpg?s=128&g=1", "display_name": "Ja9ad335h", "link": "https://stackoverflow.com/users/2712079/ja9ad335h"}, "is_accepted": false, "score": 0, "last_activity_date": 1487797867, "creation_date": 1487797867, "answer_id": 42402356, "question_id": 42402231, "link": "https://stackoverflow.com/questions/42402231/mouseenter-event-handler-does-not-work-the-first-time-the-event-is-called/42402356#42402356", "title": "mouseenter event handler does not work the first time the event is called", "body": "<p>it's not firing on first time because there is no <code>window.k</code> yet.</p>\n\n<p>once <code>mouseleave</code> its get assigned. so working from second time on wards.</p>\n\n<p>to get this work, move  <code>$(\".hidden-dropdown\").removeClass(\"hide_k\");</code> outside the <code>if(window.k)</code> condition.</p>\n\n<p>Here is a working <a href=\"http://codepen.io/anon/pen/WpegyK\" rel=\"nofollow noreferrer\"><strong>Code Pen</strong></a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n  $('#kDropdown, .hidden-dropdown').mouseleave(function(e) {\r\n    window.k = setTimeout(function() {\r\n      $('.hidden-dropdown').addClass(\"hide_k\");\r\n    }, 250)\r\n  }).mouseenter(function(e) {\r\n    if (window.k) {\r\n      clearTimeout(window.k)\r\n    }\r\n    $(\".hidden-dropdown\").removeClass(\"hide_k\");\r\n  });\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.hide_k { display: none; }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id='kDropdown' style=\"background-color: black; height: 100px; width: 100px;\"&gt;&lt;/div&gt;\r\n\r\n&lt;div class=\"hide_k hidden-dropdown\"&gt;\r\n  &lt;ul&gt;\r\n    &lt;li&gt;LIST&lt;/li&gt;\r\n    &lt;li&gt;THAT&lt;/li&gt;\r\n    &lt;li&gt;IS&lt;/li&gt;\r\n    &lt;li&gt;HIDDEN&lt;/li&gt;\r\n  &lt;/ul&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "is_accepted": true, "score": 1, "last_activity_date": 1487799348, "last_edit_date": 1487799348, "creation_date": 1487797896, "answer_id": 42402367, "question_id": 42402231, "link": "https://stackoverflow.com/questions/42402231/mouseenter-event-handler-does-not-work-the-first-time-the-event-is-called/42402367#42402367", "title": "mouseenter event handler does not work the first time the event is called", "body": "<p><strong>Edit</strong>: It works even if the <code>window.k</code> is compared to anything. I <strong>highly</strong> doubt if this condition is obligatory here. </p>\n\n<p><h3> In your particular case: </h3> <code>window.k</code> was returning <code>undefined</code> (false) value when you were hovering the box for the first time, that's why it was unable to <strong>pass</strong> the condition - the list was not appearing.</p>\n\n<p>Check <strong><a href=\"http://codepen.io/anon/pen/YZKJyE?editors=1010\" rel=\"nofollow noreferrer\">codepen</a></strong>, open the console and hover the box. The first log will be the <code>undefined</code> value.</p>\n\n<p>If you hover the box for the <strong>second</strong> time, the list will appear because <code>window.k</code> is already set inside the <code>mouseleave()</code> function - it won't return <code>undefined</code> (false) from now on.</p>\n\n<p><br>\nThe working solution:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n  $('#kDropdown, .hidden-dropdown').mouseleave(function(e) {\r\n    window.k = setTimeout(function() {\r\n      $('.hidden-dropdown').addClass(\"hide_k\");\r\n    }, 250);\r\n  }).mouseenter(function(e) {\r\n    console.log(\"test\")\r\n    clearTimeout(window.k)\r\n    $(\".hidden-dropdown\").removeClass(\"hide_k\");\r\n  });\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.hide_k {\r\n  display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id='kDropdown' style=\"background-color: black; height: 100px; width: 100px;\"&gt;&lt;/div&gt;\r\n\r\n&lt;div class=\"hide_k hidden-dropdown\"&gt;\r\n  &lt;ul&gt;\r\n    &lt;li&gt;LIST&lt;/li&gt;\r\n    &lt;li&gt;THAT&lt;/li&gt;\r\n    &lt;li&gt;IS&lt;/li&gt;\r\n    &lt;li&gt;HIDDEN&lt;/li&gt;\r\n  &lt;/ul&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 106, "user_id": 5279821, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tHxJZ0XtZio/AAAAAAAAAAI/AAAAAAAAAL4/PH0BYU25qIA/photo.jpg?sz=128", "display_name": "MrProvolone", "link": "https://stackoverflow.com/users/5279821/mrprovolone"}, "is_accepted": false, "score": 0, "last_activity_date": 1487798053, "creation_date": 1487798053, "answer_id": 42402407, "question_id": 42402231, "link": "https://stackoverflow.com/questions/42402231/mouseenter-event-handler-does-not-work-the-first-time-the-event-is-called/42402407#42402407", "title": "mouseenter event handler does not work the first time the event is called", "body": "<p>The reason it isn't working the first time is because you don't set up window.k yet.  Change this:</p>\n\n<pre><code>$('#kDropdown, .hidden-dropdown' ).mouseleave(function(e) {\n    window.k = setTimeout(function(){\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>window.k=true;\n$('#kDropdown, .hidden-dropdown' ).mouseleave(function(e) {\n        window.k = setTimeout(function(){\n</code></pre>\n\n<p>What is happening is that you are checking if(window.k){} on mouseenter, and when the first \"enter\" happens, no mouseleave has happened yet to set window.k.  Therefore your if(window.k) check in mouseenter returns false the first time.  But then you leave the box, window.k gets set, and then it works from there becuase your if(window.k) statement then returns true (as the first mouseleave event finally set it).  Hope that makes sense!  Basically it is a timing issue, and you just need to set window.k = true before you do anything else.</p>\n"}], "owner": {"reputation": 1323, "user_id": 1800508, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f50c0dc2a98227d029183f22cfd73570?s=128&d=identicon&r=PG&f=1", "display_name": "Quesofat", "link": "https://stackoverflow.com/users/1800508/quesofat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1080, "favorite_count": 0, "accepted_answer_id": 42402367, "answer_count": 4, "score": 0, "last_activity_date": 1487799348, "creation_date": 1487797386, "question_id": 42402231, "link": "https://stackoverflow.com/questions/42402231/mouseenter-event-handler-does-not-work-the-first-time-the-event-is-called", "title": "mouseenter event handler does not work the first time the event is called", "body": "<p>I am writing a function to remove a class with the contents <code>display:hidden;</code> when the mouse enters a certain part of the DOM to show a menu. Now, when the page loads and I initially hover over the area, the event doesn't fire. BUT, if I move my mouse on it once, move away, then move back to the targeted element. It fires fine and the menu is unhidden. </p>\n\n<p>codepen: <a href=\"http://codepen.io/anon/pen/EWYevq\" rel=\"nofollow noreferrer\">http://codepen.io/anon/pen/EWYevq</a></p>\n\n<p>jQuery: </p>\n\n<pre><code>$(document).ready(function() {\n      $('#kDropdown, .hidden-dropdown' ).mouseleave(function(e) {\n        window.k = setTimeout(function(){\n           $('.hidden-dropdown').addClass(\"hide_k\");\n        }, 250)\n      }).mouseenter(function(e) {\n        if(window.k){\n          console.log(\"test\")\n          clearTimeout(window.k)\n          $(\".hidden-dropdown\").removeClass(\"hide_k\");\n        }\n      });\n    })\n</code></pre>\n"}, {"tags": ["javascript", "backbone.js", "ecmascript-6", "single-page-application"], "comments": [{"owner": {"reputation": 1211, "user_id": 2983489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ca79c8266477216b7229ba30651e012?s=128&d=identicon&r=PG&f=1", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/2983489/nitesh"}, "edited": false, "score": 0, "creation_date": 1487827861, "post_id": 42402209, "comment_id": 71962090, "body": "Is this statement executing fine?  window.addEventListener(&#39;load&#39;, init);  Because I feel, there is an issue with load event binding.  Also, if you use jQuery, can you please try executing same with document.ready?  It is just a thought."}, {"owner": {"reputation": 37041, "user_id": 2333214, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/dIHez.png?s=128&g=1", "display_name": "T J", "link": "https://stackoverflow.com/users/2333214/t-j"}, "edited": false, "score": 0, "creation_date": 1487862454, "post_id": 42402209, "comment_id": 71984159, "body": "Maybe you have a filter applied in your console tat doesn&#39;t display normal logs. Could you create an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the issue?"}], "answers": [{"tags": [], "owner": {"reputation": 2598, "user_id": 1084004, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BrE6N.jpg?s=128&g=1", "display_name": "mikeapr4", "link": "https://stackoverflow.com/users/1084004/mikeapr4"}, "is_accepted": false, "score": 1, "last_activity_date": 1487850179, "creation_date": 1487850179, "answer_id": 42414834, "question_id": 42402209, "link": "https://stackoverflow.com/questions/42402209/backbone-not-loading-collection/42414834#42414834", "title": "Backbone not loading collection", "body": "<p>Your routing is incorrect, everything else is fine, here's a working <a href=\"https://jsfiddle.net/b7y67ybd/\" rel=\"nofollow noreferrer\">JSFiddle</a></p>\n\n<pre><code>Backbone.history.start({pushState: true, root: \"_display/\"});\n</code></pre>\n\n<p>This is the only change I had to make, due to the particular URL structure on JSFiddle. I suggest you debug the code and step into this <code>start</code> function, you'll likely end up in the <a href=\"http://backbonejs.org/docs/backbone.html#section-234\" rel=\"nofollow noreferrer\">loadUrl</a> function, where you can see the fragment being evaluated.</p>\n"}], "owner": {"reputation": 2094, "user_id": 4444642, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/19c1553c16a518fddd0831ed37e85a3c?s=128&d=identicon&r=PG&f=1", "display_name": "jbehrens94", "link": "https://stackoverflow.com/users/4444642/jbehrens94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487862228, "creation_date": 1487797259, "question_id": 42402209, "link": "https://stackoverflow.com/questions/42402209/backbone-not-loading-collection", "title": "Backbone not loading collection", "body": "<p>I started a fresh BackboneJS project and I implemented some simple code.\nIt isn't calling the right functions, I guess, I'm not seeing any errors and I'm also not seeing the expected <code>console.log</code> calls.</p>\n\n<pre><code>import _ from 'underscore';\nimport {Events} from 'backbone';\nimport Observables from './Models/Observables';\nimport ObservablesView from './Views/ObservablesView';\n\n(function () {\n    let setGlobals = function () {\n        window.App = {};\n        App.events = _.clone(Events);\n    };\n\n    let init = function () {\n        setGlobals();\n\n        // Get the collection from localStorage.\n        let observables = new Observables();\n        new ObservablesView({el: \"#observables\", collection: observables});\n\n        Backbone.history.start({pushState: true});\n    };\n\n    window.addEventListener('load', init);\n})();\n</code></pre>\n\n<p>This is my router:</p>\n\n<pre><code>import {Backbone} from 'backbone';\nimport {Router} from 'backbone';\n\nconst FedRouter = Router.extend({\n    routes: {\n        '': 'index'\n    },\n\n    index: function () {\n        App.events.trigger('observables');\n    }\n});\nexport default FedRouter;\n</code></pre>\n\n<p>This is my view:</p>\n\n<pre><code>import {View} from 'backbone';\nimport FedRouter from \"../FedRouter\";\n\n/**\n * ObservablesView is the list of items we want to keep track of.\n */\nconst ObservablesView = View.extend({\n    router: null,\n\n    /**\n     * Init a new view object.\n     * @constructor\n     */\n    initialize: function () {\n        this.router = new FedRouter();\n        App.events.on('observables', this.loadObservables, this);\n    },\n\n    loadObservables: function () {\n        console.log(\"loadObservables\");\n        this.collection.fetch({\n            success: (collection) =&gt; console.log(collection),\n            error: (collection, response) =&gt; console.log(response)\n        });\n    }\n\n});\n\nexport default ObservablesView;\n</code></pre>\n\n<p>My collection:</p>\n\n<pre><code>import {Backbone} from 'backbone';\nimport {Collection} from 'backbone';\nimport Observable from './Observable';\nimport Store from 'backbone.localstorage';\n\nconst Observables = Collection.extend({\n    model: Observable,\n    localStorage: new Store('fed-observables')\n});\n\nexport default Observables;\n</code></pre>\n\n<p>And finally my model:</p>\n\n<pre><code>import {Model} from 'backbone';\n\nconst Observable = Model.extend({\n});\nexport default Observable;\n</code></pre>\n\n<p>So how comes I'm not seeing the \"loadObservables\" message being logged. What am I not setting up right?</p>\n"}, {"tags": ["javascript", "html5-canvas"], "comments": [{"owner": {"reputation": 1147, "user_id": 5848590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d59facdf128944a42ee73057b2bff344?s=128&d=identicon&r=PG&f=1", "display_name": "nick", "link": "https://stackoverflow.com/users/5848590/nick"}, "edited": false, "score": 1, "creation_date": 1487800693, "post_id": 42402189, "comment_id": 71953132, "body": "Two things, what is Yellow? try &quot;yellow&quot;, after you update the brushes color, make sure ctx.fillStyle is using the right color.  You want this.color, not color.  The way that you have it currently, your paintbrush will always render with the initial color that was specified on creation."}], "answers": [{"tags": [], "owner": {"reputation": 114, "user_id": 4130142, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BW9OMSK74us/AAAAAAAAAAI/AAAAAAAAAGE/DZ2TV3ySKh0/photo.jpg?sz=128", "display_name": "Paks", "link": "https://stackoverflow.com/users/4130142/paks"}, "is_accepted": true, "score": 1, "last_activity_date": 1487803094, "creation_date": 1487803094, "answer_id": 42403619, "question_id": 42402189, "link": "https://stackoverflow.com/questions/42402189/how-to-change-component-color-on-button-click/42403619#42403619", "title": "How to change component color on button click", "body": "<p>use string <code>\"yellow\"</code> instead of <code>Yellow</code> or define <code>var Yellow = \"yellow\"</code>at the top of your file.\nTo reflect the <code>context.fillStyle</code> with selected color modify your <code>update</code> function as below. The difference is <code>ctx.fillStyle = this.color</code> not just <code>color</code>.</p>\n\n<pre><code>this.update = function () {\n            ctx = GameArena.context;\n            ctx.fillStyle = this.color;\n            ctx.fillRect(this.x, this.y, this.width, this.height);\n        }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 76, "user_id": 6826473, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-GLtPxDPdCmc/AAAAAAAAAAI/AAAAAAAAABM/h8nJruDgBH8/photo.jpg?sz=128", "display_name": "TechEndling", "link": "https://stackoverflow.com/users/6826473/techendling"}, "edited": false, "score": 0, "creation_date": 1487836998, "post_id": 42404073, "comment_id": 71966318, "body": "Thanks for organising my code, although in my code i only had to have ctx.fillStyle = this.color and have the colors become &quot;yellow&quot; instead of Yellow"}], "tags": [], "owner": {"reputation": 166, "user_id": 7394630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48f0323f0a46daa0517f721d09712519?s=128&d=identicon&r=PG&f=1", "display_name": "RJ-", "link": "https://stackoverflow.com/users/7394630/rj"}, "is_accepted": false, "score": 2, "last_activity_date": 1487805206, "creation_date": 1487805206, "answer_id": 42404073, "question_id": 42402189, "link": "https://stackoverflow.com/questions/42402189/how-to-change-component-color-on-button-click/42404073#42404073", "title": "How to change component color on button click", "body": "<p>I tried to organize the code in the bit object oriented way here follows your code.</p>\n\n<p>You can also find the running example in JSfiddle\n<a href=\"https://jsfiddle.net/rj1405/qa7q0b9m/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/rj1405/qa7q0b9m/</a></p>\n\n<p>For simplicity, I have a button to start the game (you can replace with on document load) and 2 buttons, Red and Yellow.</p>\n\n<pre><code>&lt;button id=\"btn\"&gt;StartGame&lt;/button&gt;\n&lt;button id=\"btnRed\" &gt;Thick Red&lt;/button&gt;\n&lt;button id=\"btnYellow\"&gt;Thick Yellow&lt;/button&gt;\n</code></pre>\n\n<p>Your CSS,</p>\n\n<pre><code>canvas { border: 1px solid #d3d3d3; background-color: #f1f1f1; }\n</code></pre>\n\n<p>Here is the main javascript.</p>\n\n<p>document.onkeydown = checkKey;</p>\n\n<pre><code>// Global variables\nvar btn = document.getElementById('btn');\nvar btnYellow = document.getElementById('btnYellow');\nvar btnRed = document.getElementById('btnRed');\nvar paintBrush;\n\n// Main GameArena object\nvar GameArena = {\n    canvas : document.createElement(\"canvas\"),\n    start : function() {\n            this.canvas.width = 1280;\n            this.canvas.height = 480;\n            this.context = this.canvas.getContext(\"2d\");\n         document.body.insertBefore(this.canvas,document.body.childNodes[0]);\n            this.interval = setInterval(updateGameArea, 20);\n        },\n   clear : function() {\n    this.context.clearRect(0,0,this.canvas.width,this.canvas.height);\n    }\n };\n\n// Paint Brush Constructor\nvar PaintBrush = function (width, height, color, x, y) {\n    this.width = width;\n    this.height = height;\n    this.x = x;\n    this.y = y;\n    this.color = color;\n    this.speedX = 0;\n    this.speedY = 0;\n\n    this.update = function(){\n        ctx = GameArena.context;\n        ctx.fillStyle = this.color;\n        ctx.fillRect(this.x, this.y, this.width, this.height);\n    };\n\n   this.newPos = function() {\n        this.x += this.speedX;\n        this.y += this.speedY; \n    };\n }\n\n PaintBrush.prototype.setColor = function(color){\n     this.color = color;\n     this.update();\n };  \n\n\n// On click Button events\n btn.onclick = function(e) {\n    GameArena.start();\n    paintBrush = new PaintBrush(30, 30, \"red\", 10, 320);\n };\n\n btnYellow.onclick = function(e) {\n    paintBrush.setColor('yellow');\n };\n\n btnRed.onclick = function(e) {\n    paintBrush.setColor('red');\n };\n\n // Other methods\n function updateGameArea() {\n    paintBrush.newPos();\n    paintBrush.update();\n }\n\n function checkKey(e) {\n     if (e.keyCode == '38') {\n       paintBrush.speedY -= 1;\n     }\n     else if (e.keyCode == '40') {\n       paintBrush.speedY += 1;\n     }\n     else if (e.keyCode == '37') {\n       paintBrush.speedX -= 1;\n     }\n     else if (e.keyCode == '39') {\n       paintBrush.speedX += 1;\n     }\n }\n</code></pre>\n\n<p>Please note, I have used global variables. This code resolves your quession, but it can be improvised in many ways.</p>\n"}], "owner": {"reputation": 76, "user_id": 6826473, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-GLtPxDPdCmc/AAAAAAAAAAI/AAAAAAAAABM/h8nJruDgBH8/photo.jpg?sz=128", "display_name": "TechEndling", "link": "https://stackoverflow.com/users/6826473/techendling"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 750, "favorite_count": 0, "accepted_answer_id": 42403619, "answer_count": 2, "score": 0, "last_activity_date": 1487805206, "creation_date": 1487797200, "question_id": 42402189, "link": "https://stackoverflow.com/questions/42402189/how-to-change-component-color-on-button-click", "title": "How to change component color on button click", "body": "<p>im trying to make a painting game in javascript but can't seem to change the color of the 'PaintBrush' component. I want to do it via a function and have a button do that function onclick. I have it all sorted out except how to get the paint brush to change color. This is quite complex so please help. Here is my code:\nHTML:</p>\n\n<pre><code>&lt;html&gt;\n&lt;body onload=\"startGame()\"&gt;\n&lt;br&gt;\n&lt;button onclick=\"ThickRed()\"&gt;Thick Red&lt;/button&gt;\n&lt;button onclick=\"ThinRed()\"&gt;Thin Red&lt;/button&gt;\n&lt;button onclick=\"ThickYellow()\"&gt;Thick Yellow&lt;/button&gt;\n&lt;button onclick=\"ThinYellow()\"&gt;Thin Yellow&lt;/button&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>canvas {\nborder: 1px solid #d3d3d3;\nbackground-color: #f1f1f1;\n}\n</code></pre>\n\n<p>Javascript:</p>\n\n<pre><code>document.onkeydown = checkKey;\nfunction startGame() {\nGameArena.start();\n}\nvar PaintBrush; \nvar GameArena = {\ncanvas : document.createElement(\"canvas\"),\nstart : function() {\n    this.canvas.width = 1280;\n    this.canvas.height = 480;\n    this.context = this.canvas.getContext(\"2d\");\n    document.body.insertBefore(this.canvas, document.body.childNodes[0]);\n  this.interval = setInterval(updateGameArea, 20);\n},\nclear : function() {\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n}\n}\nfunction startGame() {\nGameArena.start();\nPaintBrush = new component(30, 30, \"red\", 10, 320);\n}\nfunction component(width, height, color, x, y) {\nthis.width = width;\nthis.height = height;\nthis.speedX = 0;\nthis.speedY = 0;\nthis.x = x;\nthis.y = y; \nthis.color = color;\nthis.update = function(){\nctx = GameArena.context;\nctx.fillStyle = color;\nctx.fillRect(this.x, this.y, this.width, this.height);\n}\nthis.newPos = function() {\n    this.x += this.speedX;\n    this.y += this.speedY; \n} \n\n}\nfunction updateGameArea() {\nPaintBrush.newPos();\nPaintBrush.update();\n}\nfunction checkKey(e) {\n\nif (e.keyCode == '38') {\n    // up arrow\n   PaintBrush.speedY -= 1;\n}\nelse if (e.keyCode == '40') {\n    // down arrow\n  PaintBrush.speedY += 1;\n}\nelse if (e.keyCode == '37') {\n   // left arrow\n  PaintBrush.speedX -= 1;\n}\nelse if (e.keyCode == '39') {\n   // right arrow\n  PaintBrush.speedX += 1;\n}\n\n}\nfunction ThickYellow() {\nPaintBrush.color = Yellow;\n}\n</code></pre>\n\n<p>Please help!</p>\n"}, {"tags": ["javascript", "php", "jquery", "pager"], "comments": [{"owner": {"reputation": 6797, "user_id": 4830296, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-Xen5Bg7y_2o/AAAAAAAAAAI/AAAAAAAAAug/_WyU4UnL-g0/photo.jpg?sz=128", "display_name": "Jeff", "link": "https://stackoverflow.com/users/4830296/jeff"}, "edited": false, "score": 0, "creation_date": 1487797376, "post_id": 42402187, "comment_id": 71951342, "body": "put <code>var textoPag=$(&quot;#textoPag&quot;).val();</code> (and the next line) also into <code>document.ready()</code>"}, {"owner": {"reputation": 6797, "user_id": 4830296, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-Xen5Bg7y_2o/AAAAAAAAAAI/AAAAAAAAAug/_WyU4UnL-g0/photo.jpg?sz=128", "display_name": "Jeff", "link": "https://stackoverflow.com/users/4830296/jeff"}, "edited": false, "score": 0, "creation_date": 1487797573, "post_id": 42402187, "comment_id": 71951455, "body": "or get the values of those inputs <i>inside</i> <code>function pagination(..)</code>"}, {"owner": {"reputation": 5947, "user_id": 5771750, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mBNlv.png?s=128&g=1", "display_name": "Chris Happy", "link": "https://stackoverflow.com/users/5771750/chris-happy"}, "edited": false, "score": 0, "creation_date": 1499030624, "post_id": 42402187, "comment_id": 76729031, "body": "If you added a demo of the problem, I could provide further assistance."}], "answers": [{"tags": [], "owner": {"reputation": 5947, "user_id": 5771750, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mBNlv.png?s=128&g=1", "display_name": "Chris Happy", "link": "https://stackoverflow.com/users/5771750/chris-happy"}, "is_accepted": false, "score": 0, "last_activity_date": 1487798987, "creation_date": 1487798987, "answer_id": 42402640, "question_id": 42402187, "link": "https://stackoverflow.com/questions/42402187/jquery-i-can-only-use-a-function-once-is-not-a-function-error/42402640#42402640", "title": "jquery: I can only use a function once,&quot;is not a function&quot; error", "body": "<p>Try making your function into a global variable:</p>\n\n<pre><code>  var pagination;\n\n  $(function(){\n    ............\n    ...........\n   });\n   var pagination = function (partida){\n    var url = MODELO+'paginacion.php';\n    params={act:\"paginacion\",\n            part:partida,\n            palabra:textoPag\n            }\n    $.ajax({\n        type:'POST',\n        url:url,\n        data:params,\n        success:function(data){\n            var array = eval(data);\n            console.log(array[1]);\n            $(\"#contePag\").append(array[1]);\n            //$('#agrega-registros').html(array[0]);\n            $('#pagination').html(array[0]);\n        }\n    });\n}\n\n$(document).ready(pagination(1));\n</code></pre>\n"}], "owner": {"reputation": 410, "user_id": 7115643, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/330316297341437/picture?type=large", "display_name": "Felipe Castillo", "link": "https://stackoverflow.com/users/7115643/felipe-castillo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1487798987, "creation_date": 1487797193, "question_id": 42402187, "link": "https://stackoverflow.com/questions/42402187/jquery-i-can-only-use-a-function-once-is-not-a-function-error", "title": "jquery: I can only use a function once,&quot;is not a function&quot; error", "body": "<p>I am doing a pager and I have created a function which is invoked once the document is loaded, but for some reason, when I try to use it a second time, I get the error \"is not a function\", I would like to know why this happens Code is as follows:</p>\n\n<p>This document loads when starting the page</p>\n\n<pre><code>$(function(){\n    var textoPag=$(\"#textoPag\").val();\n    var tipoBusq=$(\"#tipoBusq\").val();\n\n\n        pagination(1);\n\n       function ajax_start(){\n\n            $body = $(\"body\");\n            $body.addClass(\"loading\");\n        }\n\n        function ajax_stop(){\n            $body = $(\"body\");\n             $body.removeClass(\"loading\");\n        }\n\n\n    function pagination(partida){\n        var url = MODELO+'paginacion.php';\n        params={act:\"paginacion\",\n                part:partida,\n                palabra:textoPag\n                }\n        $.ajax({\n            type:'POST',\n            url:url,\n            data:params,\n            success:function(data){\n                var array = eval(data);\n                console.log(array[1]);\n                $(\"#contePag\").append(array[1]);\n                //$('#agrega-registros').html(array[0]);\n                $('#pagination').html(array[0]);\n            }\n        });\n    }\n\n    });\n</code></pre>\n\n<p>The code that calls the pager is the following</p>\n\n<pre><code>switch ($actividad) {\n            case 'paginacion':\n                $paginaActual = $_POST['part'];\n                $palabra=$_POST['palabra'];\n                $string = SERVER.\"paginador\";\n                $data = file_get_contents($string);\n                $json = json_decode($data,true);\n\n\n                if ($json[\"success\"]==true)\n                {\n                 $nroPag=$json[\"cont\"]; \n                 $nroLotes = 2;\n                 $nroPaginas = ceil($nroPag/$nroLotes);\n                 $lista = '';\n                 $tabla = '';\n                }\n                if($paginaActual &gt; 1){\n                $lista = $lista.'&lt;li&gt;&lt;a href=\"javascript:pagination('.($paginaActual-1).');\"&gt;Anterior&lt;/a&gt;&lt;/li&gt;';\n                }\n        for($i=1; $i&lt;=$nroPaginas; $i++){\n            if($i == $paginaActual){\n                $lista = $lista.'&lt;li class=\"active\"&gt;&lt;a href=\"javascript:pagination('.$i.');\"&gt;'.$i.'&lt;/a&gt;&lt;/li&gt;';\n            }else{\n                $lista = $lista.'&lt;li&gt;&lt;a href=\"javascript:pagination('.$i.');\"&gt;'.$i.'&lt;/a&gt;&lt;/li&gt;';\n            }\n        }\n        if($paginaActual &lt; $nroPaginas){\n            $lista = $lista.'&lt;li&gt;&lt;a href=\"javascript:pagination('.($paginaActual+1).');\"&gt;Siguiente&lt;/a&gt;&lt;/li&gt;';\n        }\n</code></pre>\n\n<p>leaving the function pagination outside the ready event and initializing it, everything works fine, but in that case I can not recover the values of the inputs</p>\n\n<pre><code>$(document).ready(pagination(1));\n  $(function(){\n    ............\n    ...........\n   });\n   function pagination(partida){\n    var url = MODELO+'paginacion.php';\n    params={act:\"paginacion\",\n            part:partida,\n            palabra:textoPag\n            }\n    $.ajax({\n        type:'POST',\n        url:url,\n        data:params,\n        success:function(data){\n            var array = eval(data);\n            console.log(array[1]);\n            $(\"#contePag\").append(array[1]);\n            //$('#agrega-registros').html(array[0]);\n            $('#pagination').html(array[0]);\n        }\n    });\n}\n</code></pre>\n\n<p>I don't understand why I can not continue using the pagination function in the first case</p>\n"}, {"tags": ["javascript", "babylonjs"], "answers": [{"tags": [], "owner": {"reputation": 1514, "user_id": 788998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89ab78222ca4c0279a22b1b7fb7de3da?s=128&d=identicon&r=PG", "display_name": "David Catuhe", "link": "https://stackoverflow.com/users/788998/david-catuhe"}, "is_accepted": false, "score": 1, "last_activity_date": 1493328892, "creation_date": 1493328892, "answer_id": 43668302, "question_id": 42402176, "link": "https://stackoverflow.com/questions/42402176/how-to-change-textures-separately-of-a-mesh-multiple-times-imported-from-blend/43668302#43668302", "title": "How to change textures (separately) of a mesh multiple times imported from Blender? (Babylon.js)", "body": "<p>you will need to affect a new material to all meshes. By default they should share the same.</p>\n\n<p>Here is an example of multiple materials on multiple meshes: <a href=\"https://www.babylonjs-playground.com?4\" rel=\"nofollow noreferrer\">https://www.babylonjs-playground.com?4</a></p>\n"}], "owner": {"reputation": 489, "user_id": 4040894, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/05711a3d1a5d6e69d82519d5be57a830?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Alvarez", "link": "https://stackoverflow.com/users/4040894/alan-alvarez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1177, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1493328892, "creation_date": 1487797157, "question_id": 42402176, "link": "https://stackoverflow.com/questions/42402176/how-to-change-textures-separately-of-a-mesh-multiple-times-imported-from-blend", "title": "How to change textures (separately) of a mesh multiple times imported from Blender? (Babylon.js)", "body": "<p>I imported a mesh from Blender three times and I put different ID for each one and then I try to change the texture just for one mesh with:</p>\n\n<pre><code>var newMesh = scene.getMeshByID(\"first_id\");\nnewMesh.material.diffuseTexture = new BABYLON.Texture(\"colors/blue01.jpg\", scene);\n</code></pre>\n\n<p>But even if each mesh have a unique ID (I can see it with console.log(newMesh.id)) all the three meshes change their textures.</p>\n\n<p>How can I fix it to change the texture only for one mesh separate from others?</p>\n\n<p>Sorry for my english.</p>\n\n<p>Thank you all.</p>\n"}, {"tags": ["javascript", "animation", "three.js"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5052817, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206361710179548/picture?type=large", "display_name": "Quentin Lsk", "link": "https://stackoverflow.com/users/5052817/quentin-lsk"}, "edited": false, "score": 0, "creation_date": 1490649096, "post_id": 42619998, "comment_id": 73197507, "body": "Hi, I&#39;m sorry for my super late answer ! This seems to work (and  I understand a bit better how the skeleton works). Even though I actually realized that using the basic hierarchy of three.js is enough for what I wanted to do. Thank you !"}, {"owner": {"reputation": 28, "user_id": 7659294, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VViXN.png?s=128&g=1", "display_name": "HofK", "link": "https://stackoverflow.com/users/7659294/hofk"}, "reply_to_user": {"reputation": 23, "user_id": 5052817, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206361710179548/picture?type=large", "display_name": "Quentin Lsk", "link": "https://stackoverflow.com/users/5052817/quentin-lsk"}, "edited": false, "score": 0, "creation_date": 1490778173, "post_id": 42619998, "comment_id": 73259592, "body": "Hi, I&#39;m glad if you understand it better now.  Maybe you can use moving or morphing meshes that are created differently. For this I have programmed a three.js addon.  See renewed link <a href=\"http://threejs.hofk.de/\" rel=\"nofollow noreferrer\">threejs.hofk.de</a> ( last example <a href=\"http://sandbox.threejs.hofk.de/\" rel=\"nofollow noreferrer\">sandbox.threejs.hofk.de</a> the // comments in english )"}], "tags": [], "owner": {"reputation": 28, "user_id": 7659294, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VViXN.png?s=128&g=1", "display_name": "HofK", "link": "https://stackoverflow.com/users/7659294/hofk"}, "is_accepted": true, "score": 1, "last_activity_date": 1488785875, "creation_date": 1488785875, "answer_id": 42619998, "question_id": 42402165, "link": "https://stackoverflow.com/questions/42402165/three-js-basic-skeleton-for-animation/42619998#42619998", "title": "three.js basic skeleton for animation", "body": "<p><em>Note, english is not my natural language!</em></p>\n\n<p>I agree, i can't find any really basic tutorial! Thats why i have experimented. The thing is a little difficult. There are some steps necessary, <em>\"what the s1.add(skel.bones[0]) and the s1.bind(skel) really do\"</em>  is only one of them.</p>\n\n<p>First you have to create bones that depend on each other. Then you must calculate the dependence of the vertices on the bones, depending on specific geometry. Each vertex can depend up to four bones. In the example i calculated only two bones.</p>\n\n<p>Now create a skeleton from the bones. The next step is the connection of bone, skeleton and mesh:\n<code>skeleton = new THREE.Skeleton( bones );<br>\nmesh.add( bones[ 0 ] );   // add the first bone to the mesh<br>\nmesh.bind( skeleton );    // connect the skeleton</code></p>\n\n<p>To see the skeleton use: \n<code>skeletonHelper = new THREE.SkeletonHelper( mesh );</code></p>\n\n<p>The bones  in the example are created with the function <code>createBones(positionY, height, boneCount)</code> </p>\n\n<p>Look for the different functions <code>skinIndexWeigtLatheBody()</code>and  <code>skinIndexWeightCylinder(geometry)</code>. Cylinder and lathe are easier to calculate than a sphere, because the vertices are more systematic and simply.</p>\n\n<p>And finally animate with the bones. <code>mesh.skeleton.bones.rotation.x = ...</code></p>\n\n<p>The script:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.getElementById('move').checked = false;\r\nscene = new THREE.Scene();\r\ncamera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 0.1, 20000 );\r\ncamera.position.set(-200,100,200);\r\nrenderer = new THREE.WebGLRenderer( { antialias: true } );\r\nrenderer.setPixelRatio( window.devicePixelRatio );\r\nrenderer.setSize( window.innerWidth, window.innerHeight );\r\nrenderer.setClearColor( 0xeeeeee, 1 );\t\r\ncontainer = document.createElement('div');\r\ndocument.body.appendChild(container);\r\ncontainer.appendChild(renderer.domElement); \t\r\norbit = new THREE.OrbitControls( camera, renderer.domElement );\r\norbit.enableZoom = true;\r\nlight1 = new THREE.PointLight(0xffffff,1,0); \r\nlight1.position.set( -100, 300, 1000 ); \t\r\nscene.add(light1);\t\t\r\nclock  = new THREE.Clock(true);\r\ngeometryNeck =  new THREE.SphereGeometry(10, 6, 6);  \r\nrSegmentCount = 8; // radial segments \r\nbodyHeight =   80; // body: LatheGeometry\r\nboneBodyCount \t\t=  3;\t\t\r\nboneBodySegCount \t=  3;      \r\nbodySegHeightCount\t=  boneBodySegCount * boneBodyCount; // segments total\r\nboneBodyHeight\t\t=  bodyHeight / boneBodyCount ;\t\r\noutlineBody = [\t\t\t\r\n [0.01,-bodyHeight ],[20,-78],[35,-74],[42,-65],[45,-55],[44,-45],[30,-27],[10,0] //  from -bodyHeight to 0\r\n];\t\r\npointsBody = [];   // Vector2 points  x,y\r\nfor ( var i = 0; i &lt; outlineBody.length ; i++ ) {\r\n   pointsBody.push(new THREE.Vector2(outlineBody[i][0], outlineBody[i][1]))\r\n}\r\ngeometryBody = new THREE.LatheGeometry( pointsBody, rSegmentCount );  \r\nskinIndexWeigtLatheBody(); \t// function\r\n//---\r\nlimbRadius\t    \t=  4;\r\nlimbHeight    \t\t= 60;\r\nboneLimbCount\t\t=  3; \r\nboneLimbSegCount\t=  1;\t\t\t\t\r\nlimbRadSegCount\t\t=  6; // or 0.5*rSegmentCount; \t\r\nlimbHeightSegCount\t=  boneLimbSegCount*boneLimbCount;\r\nboneLimbHeight\t\t= limbHeight/ boneLimbCount ;\t\r\nlimbHalfHeight\t\t= limbHeight * 0.5;\t\r\nopenEnded     = false; \t\t\t\r\ngeometryLimbs = [];\r\nfor (var i=0; i&lt;2;i++){  // 2 limbs\r\n  geometryLimbs[i] = new THREE.CylinderGeometry(limbRadius,limbRadius,limbHeight,limbRadSegCount,limbHeightSegCount,openEnded);\r\n}\r\nbonesBody = createBones( 0 , -boneBodyHeight, boneBodyCount); // function\r\nbonesLimbs = [];\r\nfor (var i=0; i&lt;2; i++){\r\n              // function\r\n bonesLimbs[i] = createBones(-limbHalfHeight, boneLimbHeight, boneLimbCount); \r\n}\r\nmaterial  = new THREE.MeshPhongMaterial({ color: 0x896215, emissive: 0xa96415, wireframe: true, skinning: true});\t\r\nmeshNeck  = new THREE.Mesh(geometryNeck, material);\r\nmeshBody  = new THREE.SkinnedMesh(geometryBody, material );\r\nmeshBody.add( meshNeck );\t\r\ngeometrysLimbs = [];\r\nmeshesLimbs = [];\r\nfor (var i=0; i&lt;2; i++){\r\n\tskinIndexWeightCylinder(geometryLimbs[i]);  \t// function\r\n\tmeshesLimbs[i] =  new THREE.SkinnedMesh(geometryLimbs[i], material);\r\n}\r\nmeshesLimbs[0].rotation.z =  1.57;   \t\t\t\t// arm right \r\nmeshesLimbs[0].position.x = -limbHalfHeight;\r\nmeshesLimbs[1].rotation.z =  -1.57;  \t\t\t\t// arm left \r\nmeshesLimbs[1].position.x =  limbHalfHeight;\t\r\nskeletonBody = new THREE.Skeleton( bonesBody );\t\t\r\nmeshBody.add( bonesBody[ 0 ] );\t\t\t\t\t\t\r\nmeshBody.bind( skeletonBody );\t\t\t\t\t\t\r\nscene.add( meshBody );\r\nskeletonHelperBody = new THREE.SkeletonHelper( meshBody );  \r\nscene.add( skeletonHelperBody );\r\nskeletonsLimbs = [];\r\nskeletonHelperLimbs = [];\r\nfor (var i=0; i&lt;2; i++){\r\n\tskeletonsLimbs[i] = new THREE.Skeleton( bonesLimbs[i] );\t            \r\n\tmeshesLimbs[i].add( bonesLimbs[i][0] );\t\t\t\t\t\t\t\t\r\n\tmeshesLimbs[i].bind( skeletonsLimbs[i] );\t\t\t\t\t\t\t\t\r\n\tmeshBody.add( meshesLimbs[i] );\r\n\tskeletonHelperLimbs[i] = new THREE.SkeletonHelper( meshesLimbs[i] );  \r\n\tscene.add( skeletonHelperLimbs[i] );\r\n}\r\n//........................................................................\r\nanimate();\r\n//........................................................................\r\nfunction skinIndexWeigtLatheBody(){\r\n\tfor ( var i =0; i&lt;geometryBody.vertices.length; i++ ) {   \r\n\t\tvertexY =  geometryBody.vertices[ i ].y ;           \t\t\t\t\t\t\t\t\t// only  y dependet\r\n\t\tskinIndex = boneBodyCount-1 - Math.floor((i % bodySegHeightCount)/ boneBodySegCount) ;  // skin-index,  bone 0 top \t   \r\n\t\tskinWeight = ( (bodyHeight - vertexY)  %  boneBodyHeight ) / boneBodyHeight ;        \t// weight\r\n\t\tgeometryBody.skinIndices.push( new THREE.Vector4(    skinIndex, skinIndex+1, 0, 0 ) );  // allocation (2 from max. 4 bones)\r\n\t\tgeometryBody.skinWeights.push( new THREE.Vector4( 1-skinWeight, skinWeight , 0, 0 ) );\t\r\n\t}\r\n}\r\nfunction skinIndexWeightCylinder(geometry){\r\n\tfor ( var i = 0; i &lt; geometry.vertices.length; i ++ ) {        \r\n\t\tvertexY =  geometry.vertices[ i ].y  +  limbHalfHeight;\t\t\t\t// only  y dependet\r\n\t\tskinIndex = Math.floor( vertexY  / boneLimbHeight );            \t// bone 0: bottom  \r\n\t\tskinWeight = ( vertexY  % boneLimbHeight) /  boneLimbHeight;        // weight\r\n\t\tgeometry.skinIndices.push( new THREE.Vector4(    skinIndex, skinIndex+1, 0, 0 ) );  // allocation (2 from max. 4 bones)\r\n\t\tgeometry.skinWeights.push( new THREE.Vector4( 1-skinWeight, skinWeight , 0, 0 ) );\r\n\t}\r\n}\r\nfunction createBones(positionY, height, boneCount){\r\n    bones = [];                   // base: bone 0\r\n\tbasicBone = new THREE.Bone(); // base bone, length 0, not visible\r\n\tbones.push( basicBone );          \r\n\tbasicBone.position.y = positionY; \r\n\tprevBone = basicBone; \t    \t  // previous bone for further\r\n\tfor ( var i = 1; i &lt; boneCount+1 ; i ++ ) {\r\n\t\tbone = prevBone.clone();             \t\r\n\t\tbone.position.y = height;  // at the right distance ...\r\n\t\tbones.push( bone );\t\t   //   lay down\r\n\t\tprevBone.add( bone ); \t   //  ... each to the previous bone\r\n\t\tprevBone = bone;\t\t   // new previous bone       \r\n\t}\r\n\treturn bones;\r\n}\r\nfunction animate() {\r\n\trequestAnimationFrame( animate );\r\n\tvar time =  clock.getElapsedTime();  \t\r\n\tif ( document.getElementById(\"move\").checked) {  // HTML: &lt;input type=\"checkbox\" id=\"move\"&gt; move         \t\t\t\t\r\n\t\tfor ( var i = 1; i &lt; meshBody.skeleton.bones.length - 2; i ++ ) {\t\t\r\n\t\t\tmeshBody.skeleton.bones[ i ].rotation.z = 0.5*Math.sin( 1.8*time ) / meshBody.skeleton.bones.length;\t\t\t\r\n\t\t}\t\t\r\n\t\tfor ( var i = 1; i &lt; boneLimbCount+1; i++ ) {\r\n\t\t\tmeshesLimbs[0].skeleton.bones[ i ].rotation.x = 0.6*Math.cos( 1.2*time ) / boneLimbCount;\t\r\n\t\t\tmeshesLimbs[0].skeleton.bones[ i ].rotation.z = 0.6*Math.sin( 1.2*time ) / boneLimbCount;\t\r\n\t\t\tmeshesLimbs[1].skeleton.bones[ i ].rotation.x = 0.6*Math.cos( 1.2*time ) / boneLimbCount;\t\r\n\t\t\tmeshesLimbs[1].skeleton.bones[ i ].rotation.z = 0.6*Math.sin( 3.14+1.2*time ) / boneLimbCount;\r\n\t\t}\r\n\t\tmeshNeck.rotation.x = -0.20*(0.8+Math.sin( -1.57+1.2*time )); \t\t\t\r\n\t\tmeshNeck.rotation.y = -0.15*(0.6+Math.sin( -1.57+1.9*time ));\r\n\t\tmeshBody.rotation.x = 0.2;\t\r\n\t\tskeletonHelperBody.update();\r\n\t\tfor ( var j = 0; j &lt; 2; j++ ){ \r\n\t\t\tskeletonHelperLimbs[j].update(); \r\n\t\t}\t\r\n\t} \r\n\trenderer.render( scene, camera );\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"checkbox\" id=\"move\"&gt;  move \r\n\r\n&lt;script src=\"../js/three.min.84.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"../js/OrbitControls.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The example is on <a href=\"http://threejs.hofk.de/\" rel=\"nofollow noreferrer\">http://threejs.hofk.de/</a> Skeleton Basic.</p>\n\n<p>\"Hummel Mara\" (bumblebee Mara) shows there an extended example. A bumblebee with bones! It based on the skeleton examples before. The // comments are in german language, but the variables most named in english.</p>\n\n<p><em>Knochen - bone, Skelet - skeleton, Knoten - vertex , (- node ...), Ziffer - number, Tafel - table, bewegen - move ...   Take a translator german/english like dict.cc or google tanslater - so do i.</em></p>\n\n<hr>\n\n<p>By the way, don't use 100 sphere segments for the beginning. </p>\n"}], "owner": {"reputation": 23, "user_id": 5052817, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206361710179548/picture?type=large", "display_name": "Quentin Lsk", "link": "https://stackoverflow.com/users/5052817/quentin-lsk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3214, "favorite_count": 0, "accepted_answer_id": 42619998, "answer_count": 1, "score": 2, "last_activity_date": 1488785875, "creation_date": 1487797112, "last_edit_date": 1488659662, "question_id": 42402165, "link": "https://stackoverflow.com/questions/42402165/three-js-basic-skeleton-for-animation", "title": "three.js basic skeleton for animation", "body": "<p>My goal is to have something like a 3 bones skeleton with only a sphere on each joint, for example, the arm with one sphere on the shoulder, one on the elbow and one on the wrist.</p>\n\n<p>Everything I found uses some JSON loader which does everything about the building of the skeleton. Copying the doc of Three.js,  I made this code, which seems to display 3 sphere at the (0, 0, 0) point.</p>\n\n<pre><code>//all this lies in my init() function\nvar bones = [];\nvar shoulder = new THREE.Bone();\nvar elbow = new THREE.Bone();\nvar wrist = new THREE.Bone();\n\n//link the bones\nshoulder.add(elbow);\nelbow.add(wrist);\n\n//set the default position of the bones\nshoulder.position.set(1, 1, 1);\nelbow.position.set(1, 1, 2);\nwrist.position.set(1, 1, 3);\n\n//put all the bones in an array for the skeleton\nbones.push(shoulder);\nbones.push(elbow);\nbones.push(wrist);\n\n//this one is a global variable in my script\nskel = new THREE.Skeleton(bones);\n\nvar m = new THREE.MeshPhongMaterial( { color: 0xffff00, emissive: 0x072534, shading: THREE.SmoothShading} );\n\n//create the geometry for the spheres\nvar g1 = new THREE.SphereGeometry(0.2, 100, 100);\nvar g2 = new THREE.SphereGeometry(0.2, 100, 100);\nvar g3 = new THREE.SphereGeometry(0.2, 100, 100);\n\nfor (var i = 0; i &lt; g1.vertices.length; i++){\n    // put the indices of the bones and the associated weights \n    //on each vertex of the geometry\n    g1.skinIndices[i] = new THREE.Vector4(0, 0, 0, 0);\n    g1.skinWeights[i] = new THREE.Vector4(1, 0, 0, 0);\n    g2.skinIndices[i] = new THREE.Vector4(1, 0, 0, 0);\n    g2.skinWeights[i] = new THREE.Vector4(1, 0, 0, 0);\n    g3.skinIndices[i] = new THREE.Vector4(2, 0, 0, 0);\n    g3.skinWeights[i] = new THREE.Vector4(1, 0, 0, 0);\n}\n\n//create the meshes\nvar s1 = new THREE.SkinnedMesh(g1, m);\nvar s2 = new THREE.SkinnedMesh(g2, m);\nvar s3 = new THREE.SkinnedMesh(g3, m);\n\n//bind the meshes with the bones.\n//I guesse this is the problematic part\ns1.add(skel.bones[0]);\ns1.bind(skel);\ns2.add(skel.bones[1]);\ns2.bind(skel);\ns3.add(skel.bones[2]);\ns3.bind(skel);\n\nscene.add(s1);\nscene.add(s2);\nscene.add(s3);\n</code></pre>\n\n<p>I do have a <code>render()</code> and an <code>animate()</code> functions that are able to display some simple geometry. (I didn't put them here to avoid showing too much irrelevant code)</p>\n\n<p>Actually, I have no idea what the <code>s1.add(skel.bones[0])</code> and the <code>s1.bind(skel)</code> really do: I saw this on an example and tried to copy what I saw, but it doesn't do what I want it to do. I just want to have each sphere at a different place, and to be able to use the skeleton for animation purpose.</p>\n"}, {"tags": ["javascript", "html", "css", "d3.js", "webpack"], "comments": [{"owner": {"reputation": 3955, "user_id": 2568469, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JR0Jf.jpg?s=128&g=1", "display_name": "hatef", "link": "https://stackoverflow.com/users/2568469/hatef"}, "edited": false, "score": 0, "creation_date": 1487799930, "post_id": 42402151, "comment_id": 71952768, "body": "This is a great first question! :)"}], "answers": [{"tags": [], "owner": {"reputation": 4459, "user_id": 1326271, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/HeBS8.jpg?s=128&g=1", "display_name": "Adam Wolski", "link": "https://stackoverflow.com/users/1326271/adam-wolski"}, "is_accepted": true, "score": 1, "last_activity_date": 1487887879, "last_edit_date": 1487887879, "creation_date": 1487798313, "answer_id": 42402468, "question_id": 42402151, "link": "https://stackoverflow.com/questions/42402151/when-loading-css-with-webpack-i-can-write-css-for-tags-but-not-for-classes-or/42402468#42402468", "title": "When loading CSS with webpack, I can write CSS for tags, but not for classes or ids", "body": "<p>It does not work because you have enabled  <a href=\"https://github.com/css-modules/css-modules\" rel=\"nofollow noreferrer\">css modules</a> in your webpack configuration. During a build, the classes will be replaced with generated ones (local classes). In order to disable css modules for your configuration simply change the property to <code>modules: false</code>, as such:</p>\n\n<pre><code>use: [\n  { loader: 'style-loader'},\n  {\n    loader: 'css-loader',\n    options: {\n      modules: false\n    }\n  },\n]\n</code></pre>\n\n<p>Or, if you want to keep css modules on and fix the problem you must either:</p>\n\n<p>1) use generated classes in your HTML</p>\n\n<p>2) change your selectors to global as:</p>\n\n<pre><code>:global{\n    .bar {\n        background-color: teal;\n        display: inline-block; \n        width: 20px;\n        height: 75px;   /* We'll override this later */\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 210, "user_id": 5074163, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/lCy4Y.jpg?s=128&g=1", "display_name": "maecapozzi", "link": "https://stackoverflow.com/users/5074163/maecapozzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 42402468, "answer_count": 1, "score": 2, "last_activity_date": 1487887879, "creation_date": 1487797071, "question_id": 42402151, "link": "https://stackoverflow.com/questions/42402151/when-loading-css-with-webpack-i-can-write-css-for-tags-but-not-for-classes-or", "title": "When loading CSS with webpack, I can write CSS for tags, but not for classes or ids", "body": "<p>I have loaded CSS using webpack and can style HTML tags, but cannot style using classes or ids. I'm wondering if it has to do with my order of dependencies, or the way I am loading the CSS. </p>\n\n<p>For example, this works: </p>\n\n<pre><code>span {\n    background-color: teal;\n    display: inline-block; \n    width: 20px;\n    height: 75px;   /* We'll override this later */\n}\n</code></pre>\n\n<p>but this doesn't: </p>\n\n<pre><code>.bar {\n    background-color: teal;\n    display: inline-block; \n    width: 20px;\n    height: 75px;   /* We'll override this later */\n}\n</code></pre>\n\n<p>This is my webpack.config.js file. </p>\n\n<pre><code>const path = require('path');\n\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\nconst HtmlWebpackPluginConfig = new HtmlWebpackPlugin({\n  template: './src/index.html',\n  filename: 'index.html',\n  inject: 'body'\n})\n\nmodule.exports = { \n  entry: './src/index.js', \n  output: { \n    path: path.resolve('dist'), \n    filename: 'index_bundle.js'\n  }, \n\n  module: {\n    rules: [\n      { test: /\\.js$/, loader: 'babel-loader', exclude: /node_modules/ },\n      {\n        test: /\\.css$/,\n        use: [\n          { loader: 'style-loader'},\n          {\n            loader: 'css-loader',\n            options: {\n              modules: true\n            }\n          },\n        ]\n      },\n    ]\n  }, \n  plugins: [HtmlWebpackPluginConfig]\n}\n</code></pre>\n\n<p>This is my HTML file. </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;D3&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;span class=\"bar\"&gt;&lt;/span&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>This is my index.js file. </p>\n\n<pre><code>import * as d3 from 'd3';\nimport styles from './style.css';\n\nvar dataset = [5, 10, 15, 20, 25];\n</code></pre>\n"}, {"tags": ["javascript", "python"], "answers": [{"tags": [], "owner": {"reputation": 1412, "user_id": 4824627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c43ce1a15309bda1658eda7117a2f7c3?s=128&d=identicon&r=PG", "display_name": "Matheus Avellar", "link": "https://stackoverflow.com/users/4824627/matheus-avellar"}, "is_accepted": false, "score": 0, "last_activity_date": 1487797793, "creation_date": 1487797793, "answer_id": 42402332, "question_id": 42402134, "link": "https://stackoverflow.com/questions/42402134/changing-images-with-a-button/42402332#42402332", "title": "Changing images with a button", "body": "<p>Here's a JavaScript code derived from yours:</p>\n\n<pre><code>var images = [ \"i1.gif\", \"i2.gif\", \"i3.gif\", \"i4.gif\" ];\nvar position = 0;\n\nfunction changeImage() {\n    position = position + 1;  // or position++; or position += 1;\n\n    // Array indexes are counted starting from 0.\n    // That means 'position' can only go up to 3\n    // in a length 4 array.\n    if (position &gt;= images.length) {\n        position = 0;\n    }\n\n    // This doesn't actually display the images,\n    // it just prints out their names.\n    console.log(images[position]);\n}\n</code></pre>\n\n<p>I removed the for loop because it would run from start to finish, and would only ever return you the last image of the array. Also, as I commented on the code, a <code>print</code> (or in this case, <code>console.log</code>) won't actually display the image, it will just return its name (<code>\"i1.gif\"</code>, <code>\"i2.gif\"</code>, etc).</p>\n"}, {"tags": [], "owner": {"reputation": 8268, "user_id": 7602518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ddcddc4afafdfc5603b2473b191c74f?s=128&d=identicon&r=PG", "display_name": "Pedro Castilho", "link": "https://stackoverflow.com/users/7602518/pedro-castilho"}, "is_accepted": false, "score": 0, "last_activity_date": 1487804517, "last_edit_date": 1487804517, "creation_date": 1487803806, "answer_id": 42403788, "question_id": 42402134, "link": "https://stackoverflow.com/questions/42402134/changing-images-with-a-button/42403788#42403788", "title": "Changing images with a button", "body": "<p>First off, there is no equivalent for Python's ranges in JavaScript as far as I know of. Instead, you can iterate over the image array. The idea is the same as</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>for x in array:\n  do_something(x)\n</code></pre>\n\n<p>The thing is... This is a <em>little bit</em> more cumbersome in JavaScript than in Python. </p>\n\n<p>You see, in JavaScript arrays are actually <em>objects</em>. But a JavaScript object isn't the same as a Python object. JavaScript objects are actually quite similar to Python <em>dictionaries</em>. They store a key-value pair association. An array is just an object whose keys are <code>0, 1, 2...</code>. It also has a few magical fields so that the JavaScript VM knows how to treat it efficiently.</p>\n\n<p>Now, why is this important? Well, the thing is that, in a quite bad (in my opinion) design decision, instead of the <code>for ... in</code> operator in JavaScript working the same as in Python, it actually iterates over object <em>keys</em>, and not object <em>values</em>!</p>\n\n<p>So you actually need to do this to iterate over an object's values:</p>\n\n<pre><code>for(var x in array) {\n  do_something(array[x]);\n}\n</code></pre>\n\n<p>So a complete solution for what you are trying to do would be:</p>\n\n<pre><code>var images = [ \"i1.gif\", \"i2.gif\", \"i3.gif\", \"i4.gif\" ];\nvar position = 0;\n\nfunction changeImage() {\n  for(var position in images) {\n    console.log(images[position]);\n  }\n}\n</code></pre>\n\n<p>Now, this will obviously only print the name of each image, but by replacing <code>console.log</code> with any other function you can iterate over your images doing anything with them.</p>\n\n<p>The whole <code>for ... in</code> loop is a bit cumbersome to use, so ES6 (the latest stable revision of JavaScript) added the <code>for ... of</code> loop, which works exactly like Python's <code>for ... in</code>. For example, you could rewrite the <code>changeImage()</code> function as:</p>\n\n<pre><code>function changeImage() { \n  for(const img of images) {\n    console.log(img);\n  }\n}\n</code></pre>\n\n<p>But you seem to be trying to make this work in a browser, and <a href=\"https://babeljs.io/\" rel=\"nofollow noreferrer\">getting ES6 to work consistently in a browser requires compiling</a>, so I would stick to <code>for ... in</code> loops for now, even if they are more annoying to work with.</p>\n\n<p>Good luck!</p>\n\n<p>EDIT: Right after finishing answering, I remembered one other thing:</p>\n\n<p>In JavaScript, the <code>for ... in</code> loop is <em>not guaranteed</em> to go over the array keys <em>in key order</em>. So if processing the images in a specific order is important to you, you should instead use:</p>\n\n<pre><code>function changeImages() {\n  images.forEach(function(image) {\n    console.log(image);\n  }\n}\n</code></pre>\n\n<p>This uses the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow noreferrer\">Array.prototype.forEach()</a> method, which <em>is</em> guaranteed to traverse array keys in numeric order.</p>\n"}], "owner": {"reputation": 1, "user_id": 7370088, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BEbY9mwVh_Y/AAAAAAAAAAI/AAAAAAAAAD0/Bzee52Fpigs/photo.jpg?sz=128", "display_name": "Gareth", "link": "https://stackoverflow.com/users/7370088/gareth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1487804517, "creation_date": 1487797017, "last_edit_date": 1487797266, "question_id": 42402134, "link": "https://stackoverflow.com/questions/42402134/changing-images-with-a-button", "title": "Changing images with a button", "body": "<p>I would like to know how to change between 4 images in JavaScript. I have come from Python, and I would like to find a short solution. I'm using code that would be used in Python, but I want a JavaScript code with the same principle. Made and array, and when the button is clicked, if it is on one, display the next image in the array.</p>\n\n<p>This is the structure so far:</p>\n\n<pre><code>&lt;script&gt;   \n    var images = [\"i1.gif\",\"i2.gif\",\"i3.gif\",\"i4.gif\"]\n    position=0;\n\n    function changeImage() {\n        for position in range(4):\n            if position==4:\n                position=0\n            print(images[position])\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>This is the command called when the button is clicked, but I'm not sure not to trigger it. Any help with an explanation will be greatly appreciated, thanks!    </p>\n"}, {"tags": ["javascript", "jquery", "facebook", "facebook-graph-api", "firebase"], "comments": [{"owner": {"reputation": 81732, "user_id": 1427878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db5fbf44c0eeeaf38c4e4a54ce9eff7a?s=128&d=identicon&r=PG&f=1", "display_name": "CBroe", "link": "https://stackoverflow.com/users/1427878/cbroe"}, "edited": false, "score": 0, "creation_date": 1487842514, "post_id": 42401964, "comment_id": 71969663, "body": "Facebook does not want you to use reactions in such a way, see <a href=\"https://en.facebookbrand.com/assets/reactions\" rel=\"nofollow noreferrer\">en.facebookbrand.com/assets/reactions</a>: <i>\u201cDon&#39;t use Reactions for polls in video where the whole stream consists of static or looping graphics or images.\u201d</i> (And because the \u201cargument\u201d of \u201cbut look at the example, they are doing it too!!!1\u201d can be expected to be brought up now: Bank robbery is also not legal just because you see people doing it.)"}, {"owner": {"reputation": 163, "user_id": 2554639, "user_type": "registered", "profile_image": "https://graph.facebook.com/17702242/picture?type=large", "display_name": "lanewinfield", "link": "https://stackoverflow.com/users/2554639/lanewinfield"}, "reply_to_user": {"reputation": 81732, "user_id": 1427878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db5fbf44c0eeeaf38c4e4a54ce9eff7a?s=128&d=identicon&r=PG&f=1", "display_name": "CBroe", "link": "https://stackoverflow.com/users/1427878/cbroe"}, "edited": false, "score": 0, "creation_date": 1491171252, "post_id": 42401964, "comment_id": 73422181, "body": "@CBroe How do you know what material jtpatton is showing on Facebook Live? It says not to use Reactions in polls only where the stream has static or looping graphics. Both Super Deluxe (as linked) and quite possibly jtpatton&#39;s project use real, live content with polling built in, which is totally allowed in FB&#39;s ToS. Also just gonna say, connections between bank robbery and Facebook&#39;s API might be a little over the top?"}], "answers": [{"tags": [], "owner": {"reputation": 163, "user_id": 2554639, "user_type": "registered", "profile_image": "https://graph.facebook.com/17702242/picture?type=large", "display_name": "lanewinfield", "link": "https://stackoverflow.com/users/2554639/lanewinfield"}, "is_accepted": false, "score": 1, "last_activity_date": 1491338564, "last_edit_date": 1592644375, "creation_date": 1491338564, "answer_id": 43217336, "question_id": 42401964, "link": "https://stackoverflow.com/questions/42401964/multiple-facebook-live-reaction-polls-in-1-post/43217336#43217336", "title": "Multiple Facebook Live reaction polls in 1 post", "body": "<p>I ran into this same issue. It essentially came down to this:</p>\n<p><strong>If you run multiple polls in one video, you can't keep just on two reactions (e.g. Like/love) for the entire thing.</strong></p>\n<p>Let's use this scenario:</p>\n<blockquote>\n<p>Poll 1 starts: 0 likes, 0 loves (nobody has voted yet)</p>\n<p>Poll 1 ends: 100 likes, 200 loves. Loves win 66% / 33%.</p>\n</blockquote>\n<p>Then, a few minutes later, we run Poll #2. If we reset the default back down to zero, that means we set an offset of whatever likes and loves are on the video when the new poll starts. So, we remove those from the votes.</p>\n<blockquote>\n<p>Poll 2 starts: (from last vote) 100 likes, 200 loves. Offset set at -100, -200, so effectively 0 likes and 0 loves.</p>\n</blockquote>\n<p>Now, when Poll 2 ends, that's when it gets difficult. Let's look at the scenario where we have a mix of people who have already voted and ones that are new.</p>\n<blockquote>\n<p>5 people switch their vote from love to like.</p>\n<p>5 people are new and decide to like it.</p>\n<p>Love gets no additional votes.</p>\n<p>Poll 2 ends: 10 likes (110 total likes - 100 offset from last vote), -5 loves (195 total loves - 200 offset from last vote).</p>\n</blockquote>\n<p>We don't want that negative number.</p>\n<p><strong>My solution was to:</strong></p>\n<ul>\n<li>Switch from like/love to another reaction set (like haha/wow) every other vote</li>\n<li>Reset the count (like the above offset) at the beginning of each voting period</li>\n</ul>\n<p>This way, if people are voting, they're switching back and forth and effectively &quot;resetting&quot; the vote each time.</p>\n"}], "owner": {"reputation": 77, "user_id": 3418395, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6a0db435c6411de05b31e20ebe9590a3?s=128&d=identicon&r=PG&f=1", "display_name": "jamestylerpatton", "link": "https://stackoverflow.com/users/3418395/jamestylerpatton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 708, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1505826672, "creation_date": 1487796505, "question_id": 42401964, "link": "https://stackoverflow.com/questions/42401964/multiple-facebook-live-reaction-polls-in-1-post", "title": "Multiple Facebook Live reaction polls in 1 post", "body": "<p>Does anybody know how to add multiple polls in a Facebook live post, as shown in this example by Super Deluxe: <a href=\"https://www.facebook.com/superdeluxevideo/videos/416419238702632/\" rel=\"nofollow noreferrer\">https://www.facebook.com/superdeluxevideo/videos/416419238702632/</a>.</p>\n\n<p>My idea was to create a button to store the current reactions count as an object in a (Firebase) database and subtract that from the reactions count given from the API to start from 0 on every new round. The problem with this is that when people react on the first poll and give a different reaction on the next, it subtracts the first reaction and puts that reaction into the negative.</p>\n\n<p>For example: If the user pressed WOW on the first poll, the count is WOW:1 LOVE:0. When the poll is reset, those umbers are subtracted from what is being taken from the Facebook Graph API. So, if on the next poll, this user presses LOVE, the count switches to WOW:-1 LOVE:1.</p>\n\n<p>Here's a basic example of the code I have, using Firebase to store the reaction values.</p>\n\n<pre><code>// Firebase config\nfirebase.initializeApp(config);\nvar database = firebase.database();\nvar dbCounter = database.ref('/counter');\n\nvar access_token = 'ACCESS_TOKEN', // PASTE HERE YOUR FACEBOOK ACCESS TOKEN\n    pageID = 'PAGE_ID', //Paste your Facebook Page ID here\n    postID = 'POST_ID', // PASTE HERE YOUR POST ID\n    postID = pageID+'_'+postID,\n    refreshTime = 5, // Refresh time in seconds\n    counter = {\n        love : 0,\n        wow : 0\n    },\n    cachedCounter = counter;\n\nvar reactions = ['LOVE', 'WOW'].map(function (e) {\n        var code = 'reactions_' + e.toLowerCase();\n        return 'reactions.type(' + e + ').limit(0).summary(total_count).as(' + code + ')'\n    }).join(',');\n\nvar refreshCounts = function() {\n    var url = 'https://graph.facebook.com/v2.8/' + postID + '?fields=' + reactions + '&amp;access_token=' + access_token;\n    $.getJSON(url, function(res){\n        counter.love = res.reactions_love.summary.total_count;\n        counter.wow = res.reactions_wow.summary.total_count;\n        $('.reaction.love .count').text(counter.love);\n        $('.reaction.wow .count').text(counter.wow);\n    });\n}\n\n$(document).ready(function(){\n    // Update the value of cachedCounter every time the database is updated\n    dbCounter.on('value', function(res){\n        // res.val() starts with the same value as the default counter\n        cachedCounter = res.val();\n    });\n\n    // Only runs once\n    dbCounter.once('value').then(function(res){\n        setInterval(refreshCounts, refreshTime * 1000);\n        refreshCounts();\n    });\n\n    // Reset counters while keeping count of reactions for new poll\n    $('button.reset-count').click( function() {\n        // Save current counter in database\n        dbCounter.set(counter);\n        // Set counters to 0\n        $('.reaction .count').text(0);\n        return false;\n    } );\n});\n</code></pre>\n\n<p>Would anybody happen to know how Super Deluxe is resetting the reaction count values in their implementation?</p>\n"}, {"tags": ["javascript", "content-security-policy"], "answers": [{"comments": [{"owner": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "edited": false, "score": 0, "creation_date": 1487860114, "post_id": 42402277, "comment_id": 71982287, "body": "I don&#39;t want so allow unsafe-inline. There is a good reason why this should be forbidden. I don&#39;t want to change the header. I want two things: 1. understand why an unsafe inline styling is reported, when there is no inline styling anywhere. And 2. I want write a javascript, that doesn&#39;t produce this error."}, {"owner": {"reputation": 2525, "user_id": 1762117, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gt9Rc.jpg?s=128&g=1", "display_name": "MiltoxBeyond", "link": "https://stackoverflow.com/users/1762117/miltoxbeyond"}, "reply_to_user": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "edited": false, "score": 0, "creation_date": 1487867038, "post_id": 42402277, "comment_id": 71987607, "body": "The documentation says that the act of setting the javascript style values is equivalent to inline styling.  That is why it shows up.  To avoid that I supposse you can define the classes in a stylesheet and instead of changing styles dynamically you can add or remove css classes."}, {"owner": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "edited": false, "score": 0, "creation_date": 1487871438, "post_id": 42402277, "comment_id": 71990715, "body": "No. <code>p1.style.color = &quot;red&quot;;</code> is setting a style value by javascript, but this does not cause any error. Without the line <code>copy.innerHTML = original.innerHTML</code> everything is fine."}, {"owner": {"reputation": 2525, "user_id": 1762117, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gt9Rc.jpg?s=128&g=1", "display_name": "MiltoxBeyond", "link": "https://stackoverflow.com/users/1762117/miltoxbeyond"}, "reply_to_user": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "edited": false, "score": 1, "creation_date": 1487880786, "post_id": 42402277, "comment_id": 71995901, "body": "Yes. In order to recreate the element once you set copy.innerHTML it has to copy the styles as an inline-style since it converts first to text then back from text.  You could technically make a duplicate copy of the DOM element instead, and insert it to the DOM tree directly."}, {"owner": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "edited": false, "score": 0, "creation_date": 1487883821, "post_id": 42402277, "comment_id": 71997704, "body": "Thats it, this is what I wanted to know and what I asked for. Please delete your old answer and instead post your last comment as an answer."}], "tags": [], "owner": {"reputation": 2525, "user_id": 1762117, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gt9Rc.jpg?s=128&g=1", "display_name": "MiltoxBeyond", "link": "https://stackoverflow.com/users/1762117/miltoxbeyond"}, "is_accepted": true, "score": 5, "last_activity_date": 1487944744, "last_edit_date": 1592644375, "creation_date": 1487797588, "answer_id": 42402277, "question_id": 42401952, "link": "https://stackoverflow.com/questions/42401952/inline-style-error-with-content-security-policy-and-javascript/42402277#42402277", "title": "&quot;inline-style&quot;-Error with Content Security Policy and Javascript", "body": "<h3>Updated:</h3>\n<p>Because you are converting from a DOMElement to text(via innerHTML) any elements with modified styles get converted into inline styles. I've included an example to illustrate this.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var el = document.getElementById('sample'), \noutput = document.getElementById('output'),\naffect = document.getElementById('affected');\n\naffect.style.backgroundColor = \"#369\";\naffect.style.color = \"#FFF\";\n\noutput.innerText+=el.innerHTML;</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#sample {\n  margin:10px;\n}\n\n#output {\n  margin: 10px;\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"sample\"&gt;\n  &lt;div id=\"affected\"&gt;\n  Sample DIV\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\"output\"&gt;\n  Output: \n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Therefore when you set the innerHTML of the copy, you are including the styles that had modified the element as inline styles which violates your policy.</p>\n<p>You could technically make a duplicate copy of the DOM element instead, and insert it to the DOM tree directly. For that, take a look at the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Node/cloneNode\" rel=\"nofollow noreferrer\">MDN Documentation</a> for Cloning Nodes.  My old answer is still valid in the case the DOM manipulation is not viable.</p>\n<h3>Old Answer:</h3>\n<p>According to the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/style-src\" rel=\"nofollow noreferrer\">MDN documentation</a> on CSP you can solve it by sending the following header:</p>\n<pre><code>style-src 'unsafe-inline' 'self'; default-src 'self';\n</code></pre>\n<p>Here is the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/default-src\" rel=\"nofollow noreferrer\">documentation</a> for default-src.</p>\n"}], "owner": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16458, "favorite_count": 3, "accepted_answer_id": 42402277, "answer_count": 1, "score": 3, "last_activity_date": 1488112621, "creation_date": 1487796444, "last_edit_date": 1495535398, "question_id": 42401952, "link": "https://stackoverflow.com/questions/42401952/inline-style-error-with-content-security-policy-and-javascript", "title": "&quot;inline-style&quot;-Error with Content Security Policy and Javascript", "body": "<p>I turned on Content Security Policy on my server with this command in my Apache2-configuration:</p>\n\n<pre><code>Header set Content-Security-Policy-Report-Only \"default-src 'self'\"\n</code></pre>\n\n<p>(I set it to <code>...-Report-Only</code> to only report errors, without really blocking something while developing.)</p>\n\n<p>This setting produces an error that I don't understand. But I can reproduce it:</p>\n\n<p>This is the simplified html-code:</p>\n\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;script src=\"/js/test.js\"&gt;&lt;/script&gt;\n        &lt;title&gt;test&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>As you see, no inline-script and no inline-style (no style at all) and a completely empty body.</p>\n\n<p>And here is the Javascript-file test.js:</p>\n\n<pre><code>window.onload = function () {\n    //create a paragraph with a red text to have some content\n    //in my \"real\" problem, this part is very much code (more than 1000 lines) \n    document.body.innerHTML = '&lt;div id=\"original\"&gt;&lt;/div&gt;&lt;div id=\"copy\"&gt;&lt;/div&gt;';\n    var p1 = document.createElement('p');\n    var t1 = document.createTextNode('some text');\n    p1.appendChild(t1);\n    document.getElementById('original').appendChild(p1);\n    //set some style within this content\n    p1.style.color = \"red\";\n\n    //-----------------------------------\n\n    //make a copy of this content\n    document.getElementById('copy').innerHTML = document.getElementById('original').innerHTML;\n};\n</code></pre>\n\n<p>This script adds two div's to the body, and inserts a paragraph with a text into one of the divs. Then it changes the color of the text to red. At the end it makes a copy of the content of this div and insert this copy into the other div.</p>\n\n<p>I think I've done all right, but when I open this document in my browser, I get this error reported in the console of Safari:</p>\n\n<blockquote>\n  <p>[Report Only] Refused to apply a stylesheet because its hash, its nonce, or 'unsafe-inline' appears in neither the style-src directive nor the default-src directive of the Content Security Policy.<br>\n  test.js:0</p>\n</blockquote>\n\n<p>(the reported line number \"0\" is obviously not correct)<br>\nThis is what Opera and Chrome write to the console:</p>\n\n<blockquote>\n  <p>[Report Only] Refused to apply inline style because it violates the following Content Security Policy directive: \"default-src 'self'\". Either the 'unsafe-inline' keyword, a hash ('sha256-ZBTj5RHLnrF+IxdRZM2RuLfjTJQXNSi7fLQHr09onfY='), or a nonce ('nonce-...') is required to enable inline execution. Note also that 'style-src' was not explicitly set, so 'default-src' is used as a fallback.</p>\n  \n  <p>window.onload @ test.js:15</p>\n</blockquote>\n\n<p>(line 15 is the manipulation of innerHTML)</p>\n\n<p>This error appears only, when I set any style to a part of the document (<code>p1.style.color = \"red\";</code>) and then make a copy of a part that contains the styled part (<code>copy.innerHTML = original.innerHTML</code>).</p>\n\n<p>My questions:  </p>\n\n<ul>\n<li>Why does this error appear? (I want to understand why it reports \"inline style\" although there is no inline styling)   </li>\n<li>How can I avoid this error?</li>\n</ul>\n\n<p>I have no realistic chance to change the part where the original is manipulated. All I can change is this line:</p>\n\n<pre><code>document.getElementById('copy').innerHTML = document.getElementById('original').innerHTML;\n</code></pre>\n\n<hr>\n\n<h2>Addendum</h2>\n\n<p>Sorry, I wasn't clear enough about this:</p>\n\n<p>I do <strong>NOT</strong> want to change the CSP-Header. There is a good reason, why inline-style has to be forbidden. See <a href=\"https://stackoverflow.com/q/4546591/1302716\">XSS attacks and style attributes</a> and similar Questions.</p>\n\n<p>I want:</p>\n\n<ol>\n<li>Understand why my JavaScript code produces an inline-style-error.  </li>\n<li>A script that doesn't produce such an error.</li>\n</ol>\n"}, {"tags": ["javascript", "angularjs", "strongloop", "loopback"], "answers": [{"comments": [{"owner": {"reputation": 518, "user_id": 7531001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-pkkYKOJv6lk/AAAAAAAAAAI/AAAAAAAAAFw/-Q18nKQ3ZAw/photo.jpg?sz=128", "display_name": "Thomas Fournet", "link": "https://stackoverflow.com/users/7531001/thomas-fournet"}, "edited": false, "score": 0, "creation_date": 1487799608, "post_id": 42402184, "comment_id": 71952602, "body": "Thanks for your answer. It doesn&#39;t really work (I edited my first post). Or maybe your solution solved the first problem but a new one has been created."}, {"owner": {"reputation": 5255, "user_id": 5335917, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2o3AAbwjmSM/AAAAAAAAAAI/AAAAAAAAAiE/vV2V2BeApvk/photo.jpg?sz=128", "display_name": "Yaser", "link": "https://stackoverflow.com/users/5335917/yaser"}, "reply_to_user": {"reputation": 518, "user_id": 7531001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-pkkYKOJv6lk/AAAAAAAAAAI/AAAAAAAAAFw/-Q18nKQ3ZAw/photo.jpg?sz=128", "display_name": "Thomas Fournet", "link": "https://stackoverflow.com/users/7531001/thomas-fournet"}, "edited": false, "score": 0, "creation_date": 1487802214, "post_id": 42402184, "comment_id": 71953836, "body": "that error is not about the where clause, you have problem with dates now, happy investigation"}, {"owner": {"reputation": 518, "user_id": 7531001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-pkkYKOJv6lk/AAAAAAAAAAI/AAAAAAAAAFw/-Q18nKQ3ZAw/photo.jpg?sz=128", "display_name": "Thomas Fournet", "link": "https://stackoverflow.com/users/7531001/thomas-fournet"}, "edited": false, "score": 0, "creation_date": 1487841718, "post_id": 42402184, "comment_id": 71969135, "body": "Thanks for your time"}], "tags": [], "owner": {"reputation": 5255, "user_id": 5335917, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2o3AAbwjmSM/AAAAAAAAAAI/AAAAAAAAAiE/vV2V2BeApvk/photo.jpg?sz=128", "display_name": "Yaser", "link": "https://stackoverflow.com/users/5335917/yaser"}, "is_accepted": true, "score": 2, "last_activity_date": 1487797189, "creation_date": 1487797189, "answer_id": 42402184, "question_id": 42401950, "link": "https://stackoverflow.com/questions/42401950/loopback-multiple-where-clause-client-side/42402184#42402184", "title": "Loopback multiple where clause client side", "body": "<p>If you are trying to compare multiple conditions with <code>and</code> you have to pass an array to and like this:</p>\n\n<pre><code>where: \n{\n    and: [\n        {title: 'My title'}, \n        {content: 'Hello'}\n    ]\n}\n</code></pre>\n\n<p>The above code means give me all data where title is 'My title' and content is 'Hello'.</p>\n\n<p>In your case it would be:</p>\n\n<pre><code>where: {\n    and: [\n        { EndDate: {gt: new Date(\"2017-05-20T00:00:00.000Z\")} },\n        { EndDate: {it: new Date(\"2017-06-20T00:00:00.000Z\")} }\n    ]\n}\n</code></pre>\n"}], "owner": {"reputation": 518, "user_id": 7531001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-pkkYKOJv6lk/AAAAAAAAAAI/AAAAAAAAAFw/-Q18nKQ3ZAw/photo.jpg?sz=128", "display_name": "Thomas Fournet", "link": "https://stackoverflow.com/users/7531001/thomas-fournet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1787, "favorite_count": 0, "accepted_answer_id": 42402184, "answer_count": 1, "score": 1, "last_activity_date": 1487799227, "creation_date": 1487796441, "last_edit_date": 1487799227, "question_id": 42401950, "link": "https://stackoverflow.com/questions/42401950/loopback-multiple-where-clause-client-side", "title": "Loopback multiple where clause client side", "body": "<p>I'm trying to use the AngularJS SDK of Loopback but i didn't find a way to do a request with multiple where clause (and there are no examples in the documentation).</p>\n\n<pre><code>$scope.events = Professional.events({\n        id: '1',\n        filter: {\n          where: {\n            EndDate: {gt: new Date(\"2017-05-20T00:00:00.000Z\")}\n          }\n        }\n      },\n    function(err) {\n      [...]\n    });\n</code></pre>\n\n<p>This example perfectly works but I want to do this:</p>\n\n<pre><code>$scope.events = Professional.events({\n        id: '1',\n        filter: {\n          where: {\n            and: {\n              EndDate: {gt: new Date(\"2017-05-20T00:00:00.000Z\")},\n              EndDate: {it: new Date(\"2017-06-20T00:00:00.000Z\")}\n            }\n          }\n        }\n      },\n    function(err) {\n      [...]\n    });\n</code></pre>\n\n<p>The error displayed in the terminal</p>\n\n<pre><code>Error: The and operator has invalid clauses {\"EndDate\":{\"it\":\"2017-06-20T00:00:00.000Z\"}}: Value is not an array or object with sequential numeric indices\n</code></pre>\n\n<p>Another try:</p>\n\n<pre><code>$scope.events = Professional.events({\n    id: '1',\n    filter: {\n      where: {\n        EndDate: {gt: new Date(\"2017-05-20T00:00:00.000Z\")},\n        EndDate: {it: new Date(\"2017-06-20T00:00:00.000Z\")}\n      }\n    }\n  },\nfunction(err) {\n  [...]\n});\n</code></pre>\n\n<p>The exact same error code is displayed.\nAny idea ?</p>\n\n<p><strong>EDIT: This solution doesn't work</strong></p>\n\n<pre><code>$scope.events = Professional.events({\n        id: '1',\n        filter: {\n          where: {\n            and: [\n              {EndDate: {gt: new Date(\"2017-05-20T00:00:00.000Z\")} },\n              {EndDate: {it: new Date(\"2017-06-20T00:00:00.000Z\")} }\n            ]\n\n          }\n        }\n      }\n      ,\n    function(err) {\n      [...]\n    });\n</code></pre>\n\n<p>The code error (500 http)</p>\n\n<pre><code>Erreur non trait\u00e9e pour la demande GET /api/Professionals/1/events?filter=%7B%22where%22:%7B%22and%22:%5B%7B%22EndDate%22:%7B%22gt%22:%222017-05-20T00:00:00.000Z%22%7D%7D,%7B%22EndDate%22:%7B%22it%22:%222017-06-20T00:00:00.000Z%22%7D%7D%5D%7D%7D : Error: Date non valide : [object Object]\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "svg", "shapes"], "answers": [{"comments": [{"owner": {"reputation": 585, "user_id": 1851843, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bbb74536f9920ae214e1c2a07f7e6621?s=128&d=identicon&r=PG", "display_name": "Lexx", "link": "https://stackoverflow.com/users/1851843/lexx"}, "edited": false, "score": 0, "creation_date": 1488397355, "post_id": 42402339, "comment_id": 72216954, "body": "do you know how to rotate the elements, so that they don&#39;t appear tilted? I can set  <code>elem.style.transform       = &#39;rotate(&#39;+deg+&#39;deg)&#39;; elem.style.transformOrigin = &#39;50% 50%&#39;;</code> but how to calculate the specific degrees for each n-gon?"}], "tags": [], "owner": {"reputation": 3200, "user_id": 3102976, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/JAvtc.jpg?s=128&g=1", "display_name": "Francis Hemsher", "link": "https://stackoverflow.com/users/3102976/francis-hemsher"}, "is_accepted": true, "score": 1, "last_activity_date": 1487797814, "creation_date": 1487797814, "answer_id": 42402339, "question_id": 42401947, "link": "https://stackoverflow.com/questions/42401947/drawing-shapes-n-gons/42402339#42402339", "title": "Drawing Shapes (N-gons)", "body": "<p>Below is a method I use to build polygons. It provides a random fill color. See if this helps.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\r\n&lt;head&gt;\r\n  &lt;title&gt;Create SVG Polygons&lt;/title&gt;\r\n\r\n&lt;meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\"&gt;\r\n&lt;/head&gt;\r\n&lt;body style='padding:10px;font-family:arial'&gt;\r\n&lt;center&gt;\r\n&lt;h4&gt;Create SVG Polygons&lt;/h4&gt;\r\n&lt;div style='width:90%;background-color:gainsboro;text-align:justify;padding:10px;border-radius:6px;'&gt;\r\nCreate inline svg with random circles, ellipses, polygons, and rectangles used for test environment.\r\n&lt;/div&gt;&lt;br /&gt;\r\n&lt;div id=\"svgDiv\" style='border:1px black outset'&gt;\r\n&lt;svg id=\"mySVG\" /&gt;\r\n&lt;/div&gt;&lt;br /&gt;\r\nNumber Of Elements:&lt;input type=text id=elemsValue size=1 value=1200 /&gt;\r\n&amp;nbsp;&amp;nbsp;SVG Width:&lt;input type=text id=widthValue size=1 value=600 /&gt;\r\n&amp;nbsp;&amp;nbsp;SVG Height:&lt;input type=text id=heightValue size=1 value=400 /&gt;\r\n&amp;nbsp;&amp;nbsp;Element Sze:&lt;input type=text id=sizeValue size=1 value=20 /&gt;\r\n&amp;nbsp;&amp;nbsp;&lt;button onClick=go()&gt;go&lt;/button&gt;&lt;br /&gt;\r\n&lt;script&gt;\r\n\r\n//---button---\r\nfunction go()\r\n{\r\n\tvar elems=parseInt(elemsValue.value)\r\n\tvar svgWidth=parseFloat(widthValue.value)\r\n\tvar svgHeight=parseFloat(heightValue.value)\r\n\tvar elemSize=parseFloat(sizeValue.value)\r\n\t//---clear prevoius---\r\n\tmySVG.removeChild(document.getElementById(\"globG\"))\r\n\tsvgGLOB(elems,svgWidth,svgHeight,elemSize)\r\n\r\n}\r\n\r\nfunction svgGLOB(elems,svgWidth,svgHeight,elemSize)\r\n{\r\n\t/*  ---fill empty inline SVG element---\r\n\t\t&lt;div id=\"svgDiv\"&gt;&lt;svg id=\"mySVG\" /&gt;&lt;/div&gt;\r\n\t*/\r\n\tvar NS=\"http://www.w3.org/2000/svg\"\r\n\tmySVG.setAttribute(\"width\",svgWidth)\r\n\tmySVG.setAttribute(\"height\",svgHeight)\r\n\tsvgDiv.style.width=svgWidth+\"px\"\r\n\tsvgDiv.style.height=svgHeight+\"px\"\r\n\r\n\tvar globG=document.createElementNS(NS,\"g\")\r\n\tglobG.id=\"globG\"\r\n\tglobG.setAttribute(\"stroke\",\"black\")\r\n\tglobG.setAttribute(\"stroke-width\",1)\r\n\tmySVG.appendChild(globG)\r\n\r\n\tvar points=randomPoints(elems,svgWidth,svgHeight,elemSize)\r\n\tvar n=points.length\r\n\tvar circleCnt=0\r\n\tvar ellipseCnt=0\r\n\tvar rectCnt=0\r\n\tvar polygonCnt=0\r\n\r\n\tvar RandomElems=[]\r\n\tRandomElems[0]=\"circle\"\r\n\tRandomElems[1]=\"rect\"\r\n\tRandomElems[2]=\"ellipse\"\r\n\tRandomElems[3]=\"polygon_3\"\r\n\tRandomElems[4]=\"polygon_4\"\r\n\tRandomElems[5]=\"polygon_5\"\r\n\tRandomElems[6]=\"polygon_6\"\r\n\tRandomElems[7]=\"polygon_7\"\r\n\tRandomElems[8]=\"polygon_8\"\r\n\tRandomElems[9]=\"polygon_9\"\r\n\tRandomElems[10]=\"polygon_10\"\r\n\tRandomElems[11]=\"polygon_11\"\r\n\tRandomElems[12]=\"polygon_12\"\r\n\r\n\tfor(var k=0;k&lt;n;k++)\r\n\t{\r\n\t\tvar rand=rdm(0,12)\r\n\t\tvar elemStr=RandomElems[rand]\r\n\r\n\t\tif(!elemStr.indexOf(\"_\"))\r\n\t\t\tvar elemSt=elemStr\r\n\t\telse\r\n\t\t\tvar elemSt=elemStr.split(\"_\")[0]\r\n\r\n\t\tvar elem=document.createElementNS(NS,elemSt)\r\n\r\n\t\tif(elemSt==\"circle\")\r\n\t\t{\r\n\t\t\telem.setAttribute(\"r\",elemSize)\r\n\t\t\telem.setAttribute(\"fill\",rcolor())\r\n\t\t\telem.setAttribute(\"cx\",points[k][0])\r\n\t\t\telem.setAttribute(\"cy\",points[k][1])\r\n\t\t\telem.id=elemSt+(circleCnt++)\r\n\t\t}\r\n\t\telse if(elemSt==\"ellipse\")\r\n\t\t{\r\n\t\t\telem.setAttribute(\"rx\",elemSize)\r\n\t\t\telem.setAttribute(\"ry\",elemSize/2)\r\n\t\t\telem.setAttribute(\"fill\",rcolor())\r\n\t\t\telem.setAttribute(\"cx\",points[k][0])\r\n\t\t\telem.setAttribute(\"cy\",points[k][1])\r\n\t\t\telem.id=elemSt+(ellipseCnt++)\r\n\t\t}\r\n\t\telse if(elemSt==\"rect\")\r\n\t\t{\r\n\t\t\telem.setAttribute(\"width\",elemSize)\r\n\t\t\telem.setAttribute(\"height\",elemSize)\r\n\t\t\telem.setAttribute(\"fill\",rcolor())\r\n\t\t\telem.setAttribute(\"x\",points[k][0])\r\n\t\t\telem.setAttribute(\"y\",points[k][1])\r\n\t\t\telem.id=elemSt+(rectCnt++)\r\n\t\t}\r\n\t\telse if(elemSt==\"polygon\")\r\n\t\t{\r\n\t\t\tvar pgonSides=parseInt(elemStr.split(\"_\")[1])\r\n\t\t\tvar pgonPnts=polygon(pgonSides,elemSize,points[k][0],points[k][1])\r\n\t\t\telem.setAttribute(\"fill\",rcolor())\r\n\t\t\telem.setAttribute(\"points\",pgonPnts.join())\r\n\t\t\telem.id=elemSt+(polygonCnt++)\r\n\t\t}\r\n\t\tglobG.appendChild(elem)\r\n\t}\r\n\r\n\t//---obtain a random whole number from a thru b---\r\n\tfunction rdm(a,b)\r\n\t{\r\n\t\treturn a + Math.floor(Math.random()*(b-a+1));\r\n\t}\r\n\r\n\tfunction randomPoints(elems,svgWidth,svgHeight,elemSize)\r\n\t{\r\n\t\t//--return format:[ [x,y],[x,y],,, ]\r\n\t\t//---Generate  random points---\r\n\t\tfunction times(n, fn)\r\n\t\t{\r\n\t\t\tvar a = [], i;\r\n\t\t\tfor (i = 0; i &lt; n; i++) {\r\n\t\t\ta.push(fn(i));\r\n\t\t\t}\r\n\t\t\treturn a;\r\n\t\t}\r\n\t\tvar width=svgWidth-2*elemSize\r\n\t\tvar height=svgHeight-2*elemSize\r\n\r\n\t\treturn \tRandomPnts = times(elems, function() { return [Math.floor(width * Math.random()) + elemSize, Math.floor(height * Math.random()) + elemSize] });\r\n\t}\r\n    //---random color---\r\n\tfunction rcolor()\r\n\t{\r\n\t\tvar letters = '0123456789ABCDEF'.split('');\r\n\t\tvar color = '#';\r\n\t\tfor (var i = 0; i &lt; 6; i++ )\r\n\t\t{\r\n\t\t\tcolor += letters[Math.round(Math.random() * 15)];\r\n\t\t}\r\n\t\treturn color;\r\n\t}\r\n\tfunction polygon(vCnt,radius,centerX,centerY)\r\n\t{\r\n\t\tvar myPoints=[]\r\n\t\tvar polyXPts      = Array(vCnt);\r\n\t\tvar polyYPts      = Array(vCnt);\r\n\t\tvar vertexAngle   = 360/vCnt;\r\n\t\t//---init polygon points processor---\r\n\t\tfor(var v=0; v&lt;vCnt; v++)\r\n\t\t{\r\n\t\t\ttheAngle = (v*vertexAngle)*Math.PI/180;\r\n\t\t\tpolyXPts[v] = radius*Math.cos(theAngle);\r\n\t\t\tpolyYPts[v] = -radius*Math.sin(theAngle);\r\n\t\t}\r\n\t\t//--note points are CCW---\r\n\t\tfor(var v=0;v&lt;vCnt; v++)\r\n\t\t{\r\n\t\t\tvar point=[centerX+polyXPts[v],centerY+polyYPts[v]]\r\n\t\t\tmyPoints.push(point)\r\n\t\t}\r\n\t\treturn myPoints\r\n\t}\r\n}\r\n\r\ndocument.addEventListener(\"onload\",init(),false)\r\nfunction init()\r\n{\r\n\r\n\tsvgGLOB(1200,600,400,20)\r\n\r\n}\r\n&lt;/script&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 585, "user_id": 1851843, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bbb74536f9920ae214e1c2a07f7e6621?s=128&d=identicon&r=PG", "display_name": "Lexx", "link": "https://stackoverflow.com/users/1851843/lexx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "accepted_answer_id": 42402339, "answer_count": 1, "score": 0, "last_activity_date": 1487797814, "creation_date": 1487796434, "question_id": 42401947, "link": "https://stackoverflow.com/questions/42401947/drawing-shapes-n-gons", "title": "Drawing Shapes (N-gons)", "body": "<p>I'm making a small game for university and I need to add different shapes in my project. I'm talking about Triangle, Rectangle, Pentagon, Hexagon, Heptagon, Octagon....n-gon. I need all the shapes to be convex regular polygons and being able to color the inside. I'm thinking of drawing SVG shapes, but I'm not sure what the formula should be given only the n-sides of the shape to be generated. If there is a JS plugin that I can just include with Bower and generate the shapes, that will be great. There is also the problem of coloring them and after that being able to change the color with animation, but step by step.<br>\n<a href=\"https://i.stack.imgur.com/S8i4E.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S8i4E.jpg\" alt=\"enter image description here\"></a></p>\n"}]