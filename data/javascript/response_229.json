[{"tags": ["javascript", "html", "twitter-bootstrap-3", "codemirror"], "owner": {"reputation": 404, "user_id": 10304742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de6d2b4489058f17a091c910eff2d6c7?s=128&d=identicon&r=PG&f=1", "display_name": "Imad Abu Hayyah", "link": "https://stackoverflow.com/users/10304742/imad-abu-hayyah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1564355949, "creation_date": 1559174398, "last_edit_date": 1564355949, "question_id": 56370003, "link": "https://stackoverflow.com/questions/56370003/codemirror-some-lines-are-readonly", "title": "CodeMirror some lines are readonly", "body": "<ol>\n<li><p>I'm using codemirror in my ASP.NET application.\nWhen I load the text into the editor, and the page loads, I find some lines of code in the editor are not editable (readonly). How can I solve this, and keep all lines as editable?</p></li>\n<li><p>To manually align lines, for some lines I cannot add spaces before the list text. How can I solve that?</p></li>\n</ol>\n"}, {"tags": ["javascript", "jquery", "html", "ajax", "selectize.js"], "answers": [{"tags": [], "owner": {"reputation": 345, "user_id": 11307127, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UWviEgYvwfk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rey39EAIuhWjkUgJAVgt73bPhQjxg/mo/photo.jpg?sz=128", "display_name": "Tejiri Afe", "link": "https://stackoverflow.com/users/11307127/tejiri-afe"}, "is_accepted": true, "score": 0, "last_activity_date": 1559182482, "creation_date": 1559182482, "answer_id": 56370817, "question_id": 56369899, "link": "https://stackoverflow.com/questions/56369899/how-can-i-set-drop-down-values-from-json-file/56370817#56370817", "title": "How can I set drop down values from JSON file", "body": "<p>I finally found a way around this</p>\n\n<pre><code>var data = [\"Los Angeles\", \"San Diego\", \"San Jose\", \"San Francisco\", \"Fresno\", \"Sacramento\"];\n    var cities = data.map(function(x) { return { city: x }; });\n                $('#input-tags').selectize({\n                    delimiter: ',',\n                    persist: false,\n                    maxItems: 5,\n                    plugins: ['remove_button'],\n                     valueField: 'city',\n            labelField: 'city',\n            searchField: 'city',\n            options: cities,\n            create:true,\n            render: {\n                option: function(item, escape) {\n\n                    return '&lt;div&gt;' +\n                            '&lt;span class=\"name\"&gt;' + escape(item.city) + '&lt;/span&gt;' +\n'&lt;/div&gt;';\n\n}\n}\n                    });\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5511317"}, "is_accepted": false, "score": 0, "last_activity_date": 1559183406, "creation_date": 1559183406, "answer_id": 56370913, "question_id": 56369899, "link": "https://stackoverflow.com/questions/56369899/how-can-i-set-drop-down-values-from-json-file/56370913#56370913", "title": "How can I set drop down values from JSON file", "body": "<p>you can also loop in cities and append the each option as a child on DOM object.</p>\n"}], "owner": {"reputation": 345, "user_id": 11307127, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UWviEgYvwfk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rey39EAIuhWjkUgJAVgt73bPhQjxg/mo/photo.jpg?sz=128", "display_name": "Tejiri Afe", "link": "https://stackoverflow.com/users/11307127/tejiri-afe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 2, "accepted_answer_id": 56370817, "answer_count": 2, "score": 0, "last_activity_date": 1559183406, "creation_date": 1559173537, "last_edit_date": 1559175421, "question_id": 56369899, "link": "https://stackoverflow.com/questions/56369899/how-can-i-set-drop-down-values-from-json-file", "title": "How can I set drop down values from JSON file", "body": "<p>I am new to selectize and I would like to set the drop down list options of the tag input from a JSON file, right now the drop down shows what is on the input value.    </p>\n\n<pre><code>{\"California\":[\"Los Angeles\",\"San Diego\",\"San Jose\",\"San Francisco\",\"Fresno\",\"Sacramento\"]}\n\n&lt;input type=\"text\" id=\"myCity\" class=\"form-control mb-4\" placeholder=\"City\" value=\"San Diego, San Francisco\"&gt;\n\n&lt;script class=\"show\"&gt;\n$('#myCity').selectize({\n                        delimiter: ',',\n                        persist: false,\n                        maxItems: 5,\n                        plugins: ['remove_button'],\n    create: function(input) {\nreturn {\nvalue: input,\ntext: input\n                            }\n                        }\n                    });\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "testing", "mocha.js", "sinon", "stub"], "answers": [{"tags": [], "owner": {"reputation": 1806, "user_id": 2689562, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/AfQdF.jpg?s=128&g=1", "display_name": "chidimo", "link": "https://stackoverflow.com/users/2689562/chidimo"}, "is_accepted": true, "score": 0, "last_activity_date": 1559182832, "creation_date": 1559182832, "answer_id": 56370852, "question_id": 56369825, "link": "https://stackoverflow.com/questions/56369825/how-do-i-stub-a-function-that-is-not-directly-passed-to-the-calling-function/56370852#56370852", "title": "How do I stub a function that is not directly passed to the calling function?", "body": "<p>According to these two posts, <a href=\"https://stackoverflow.com/questions/53852873/sinon-stub-being-skipped-as-node-express-middleware\">Sinon stub being skipped as node express middleware</a> and <a href=\"https://stackoverflow.com/questions/41995464/how-to-mock-middleware-in-express-to-skip-authentication-for-unit-test\">How to mock middleware in Express to skip authentication for unit test?</a>, the reason for my stub not being active was that the <code>app</code> was being imported and cached before the stub is even created, so the app uses the one it has cached.</p>\n\n<p>So the solution was to alter the required function before the app gets a chance to cache it. What I did was that (I stumble upon it by trial and error) was to create a file in my test folder called <code>stubs.js</code> and here's the content.</p>\n\n<pre><code>import sinon from 'sinon';\nimport AuthenticationMiddleware from '../middleware/authentication';\n\nsinon.stub(AuthenticationMiddleware, 'verifyToken').callsFake(\n    (req, res, next) =&gt; next()\n);\n</code></pre>\n\n<p>Then I require this file in my test runner in <code>package.json</code> like so</p>\n\n<pre><code>    \"scripts\": {\n        \"test\": \"nyc --reporter=html --reporter=text --reporter=lcov mocha -r @babel/register -r should -r test/stubs.js\"\n    },\n</code></pre>\n"}], "owner": {"reputation": 1806, "user_id": 2689562, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/AfQdF.jpg?s=128&g=1", "display_name": "chidimo", "link": "https://stackoverflow.com/users/2689562/chidimo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 440, "favorite_count": 0, "accepted_answer_id": 56370852, "answer_count": 1, "score": 0, "last_activity_date": 1559182832, "creation_date": 1559172960, "question_id": 56369825, "link": "https://stackoverflow.com/questions/56369825/how-do-i-stub-a-function-that-is-not-directly-passed-to-the-calling-function", "title": "How do I stub a function that is not directly passed to the calling function?", "body": "<p>I have an express app with API endpoints secured using <code>JWT</code> token. I have a method that verifies a received token.</p>\n\n<pre><code>// authentication.js\n\nimport jwt from 'jsonwebtoken';\nimport Settings from '../settings';\n\nconst AuthenticationMiddleware = {\n    verifyToken: (req, res, next) =&gt; {\n        const token = req.headers['x-access-token'];\n        if (!token) {\n            const msg = 'Include a valid token in the x-access-token header';\n            return res.status(422).json({ \n                error: 'No token provided',\n                msg \n            });\n        }\n        try {\n            req.user = jwt.verify(token, Settings.jwtSecret);\n            req.token = token;\n            return next();\n        }\n        catch (e) {\n            return res.status(422).json({ error: 'Invalid token' });\n        }\n    }\n};\n\nexport default AuthenticationMiddleware;\n</code></pre>\n\n<p>This works fine when I call the API endpoints from <code>postman</code> with the token header included.</p>\n\n<p>Now I have a test such as shown below. There's about 40 of them, each requiring a token to be sent with each API request.</p>\n\n<pre><code>// should is not used directly in the file but is added as a mocha requirement\n\nimport supertest from 'supertest';\nimport app from '../app';\n\nconst server = supertest.agent(app);\nconst BASE_URL = '/api/v1';\n\ndescribe('/loans: Get all loans', () =&gt; {\n    it('should return a list of all loans', done =&gt; {\n        server\n            .get(`${BASE_URL}/loans`)\n            .expect(200)\n            .end((err, res) =&gt; {\n                res.status.should.equal(200);\n                res.body.data.should.be.an.instanceOf(Array);\n                for (const each of res.body.data) {\n                    each.should.have.property('id');\n                    each.should.have.property('userid');\n                }\n                done();\n            });\n    });\n});\n</code></pre>\n\n<p>I've looked at <code>sinon</code> and tried stubbing the <code>verifyToken</code> function in mocha's <code>before</code> hook like so</p>\n\n<pre><code>import sinon from 'sinon';\nimport AuthenticationMiddleware from '../middleware/authentication';\n\nbefore(() =&gt; {\n    const stub = sinon.stub(AuthenticationMiddleware, 'verifyToken');\n    stub.returnsThis()\n});\n</code></pre>\n\n<p>But I can already see a problem here. While the <code>verifyToken</code> stub may have been created, it is NOT used during the test. The <code>verifyToken</code> that is being called during the test is passed as middleware from the route like so</p>\n\n<pre><code>router.get('/loans', AuthenticationMiddleware.verifyToken, LoansController.get_all_loans);\n</code></pre>\n\n<p>I want a way to stub <code>verifyToken</code> during the test so that I can just return <code>next()</code> immediately.</p>\n\n<p>My question is, is it possible to stub <code>AuthenticationMiddleware.verifyToken</code> <strong>universally</strong> during the test so that all calls to the API endpoint call the <strong>stubbed</strong> version?</p>\n"}, {"tags": ["javascript", "simulation"], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 9986622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WhM2j.jpg?s=128&g=1", "display_name": "Pshock13", "link": "https://stackoverflow.com/users/9986622/pshock13"}, "edited": false, "score": 0, "creation_date": 1559185989, "post_id": 56370050, "comment_id": 99344563, "body": "I added <code>main_input.value += c;</code> inside the <code>.forEach</code> function to see if it &#39;works&#39;. As far as that is concerned, it does work. Thank you. But I won&#39;t get to test it live till I get to work next week."}], "tags": [], "owner": {"reputation": 410, "user_id": 9433075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mo4cL.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/9433075/chris"}, "is_accepted": true, "score": 2, "last_activity_date": 1559174901, "creation_date": 1559174901, "answer_id": 56370050, "question_id": 56369806, "link": "https://stackoverflow.com/questions/56369806/how-to-simulate-key-presses-in-js/56370050#56370050", "title": "How to simulate key presses in JS", "body": "<p>You can simulate a keypress by dispatching a <code>KeyboardEvent</code> for <code>keydown</code> and <code>keyup</code>.</p>\n\n<p>E.g. simulating keypresses for your barcode:</p>\n\n<pre><code>document.getElementById('barcode').addEventListener('click', function() {\n    main_input.value = theBarcode;\n\n    [...theBarcode].forEach(function(c) {\n        window.dispatchEvent(new KeyboardEvent('keydown',{'key':c}));\n        window.dispatchEvent(new KeyboardEvent('keyup',{'key':c}));\n    });\n\n    window.dispatchEvent(new KeyboardEvent('keydown',{'key':'Enter'})); \n    window.dispatchEvent(new KeyboardEvent('keyup',{'key':'Enter'}));\n});\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 9986622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WhM2j.jpg?s=128&g=1", "display_name": "Pshock13", "link": "https://stackoverflow.com/users/9986622/pshock13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 56370050, "answer_count": 1, "score": 0, "last_activity_date": 1559174901, "creation_date": 1559172779, "question_id": 56369806, "link": "https://stackoverflow.com/questions/56369806/how-to-simulate-key-presses-in-js", "title": "How to simulate key presses in JS", "body": "<p>I wish to click on an <code>&lt;img&gt;</code> and make the browser simulate the typing out of a variable + [ENTER]. This should basically simulate the same thing that would happen if a scanner scanned a barcode</p>\n\n<p>I'm developing an add-on for a webapp that we use at work. This work includes needing to scan barcodes which I've gotten to show on screen and we can scan, however in some instances it has proven to be a little difficult to scan. I'd like to be able to click on the barcode that is generated and have it simulate keystrokes. The characters don't need to end up in any input field as I assume the webapp is set to capture keystrokes for the whole window. I just need the keystrokes to be entered pretty fast to simulate a barcode scanner.</p>\n\n<p>The jsfiddle provided currently has the variable being sent to an input field but that is not necessary for the final results.</p>\n\n<p>I'd like to keep this vanilla javascript as I'm still learning it and don't wish to move on to Jquery until i have my feet firmly planted in JS.</p>\n\n<p><a href=\"https://jsfiddle.net/pshock13/o2gtzaj5/215\" rel=\"nofollow noreferrer\">https://jsfiddle.net/pshock13/o2gtzaj5/215</a></p>\n\n<pre><code>document.getElementById('barcode').addEventListener('click', function() {\n      //this is where I want theBarcode to be typed out + [ENTER] automatically.\n      main_input.value = theBarcode;\n    })\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559172745, "post_id": 56369741, "comment_id": 99342079, "body": "Please post the actual code, since that has a syntax error so it won&#39;t run at all."}, {"owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 1, "creation_date": 1559172833, "post_id": 56369741, "comment_id": 99342096, "body": "If you fix the code, i.e, close all the objects inside the array, and fix the return statement inside the grep as <code>return a.type.name === &quot;Approval&quot;</code>, it works as expected."}, {"owner": {"reputation": 637, "user_id": 1571934, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/U4b0T.jpg?s=128&g=1", "display_name": "Sid Kwakkel", "link": "https://stackoverflow.com/users/1571934/sid-kwakkel"}, "reply_to_user": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1559236451, "post_id": 56369741, "comment_id": 99365762, "body": "You are correct @Shidersz. It was a syntax error. The code now works as expected."}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1559172729, "post_id": 56369797, "comment_id": 99342077, "body": "It must have been a copying error, since the code would have gotten a syntax error, not return <code>[]</code>."}, {"owner": {"reputation": 637, "user_id": 1571934, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/U4b0T.jpg?s=128&g=1", "display_name": "Sid Kwakkel", "link": "https://stackoverflow.com/users/1571934/sid-kwakkel"}, "edited": false, "score": 0, "creation_date": 1559234228, "post_id": 56369797, "comment_id": 99364815, "body": "Correct. I have edited the original code. Sorry for the confusion."}], "tags": [], "owner": {"reputation": 806, "user_id": 11168593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/941ef123edff8412ec22706ea558f5ea?s=128&d=identicon&r=PG&f=1", "display_name": "jro", "link": "https://stackoverflow.com/users/11168593/jro"}, "is_accepted": false, "score": 0, "last_activity_date": 1559172682, "creation_date": 1559172682, "answer_id": 56369797, "question_id": 56369741, "link": "https://stackoverflow.com/questions/56369741/javascript-filter-by-nested-object-attribute/56369797#56369797", "title": "Javascript filter by nested object attribute", "body": "<p><code>return</code> is a reserved keyword in js. Hence you cannot use it as a variable and access its properties.</p>\n\n<p>Instead, you need to access the properties of the <code>a</code> variable:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$.grep(arr, function(a) { return a.type.name === \"Approval\"; })\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 4, "creation_date": 1559172809, "post_id": 56369802, "comment_id": 99342089, "body": "The jQuery code will run in old browsers that don&#39;t have <code>filter</code> and <code>find</code>."}, {"owner": {"reputation": 637, "user_id": 1571934, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/U4b0T.jpg?s=128&g=1", "display_name": "Sid Kwakkel", "link": "https://stackoverflow.com/users/1571934/sid-kwakkel"}, "edited": false, "score": 0, "creation_date": 1559234186, "post_id": 56369802, "comment_id": 99364801, "body": "I need to have IE compatibility, and so we are stuck not using filter and find."}], "tags": [], "owner": {"reputation": 2585, "user_id": 4485633, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-d9xh7hdHSyQ/AAAAAAAAAAI/AAAAAAAABB0/iaJD5uyYJBc/photo.jpg?sz=128", "display_name": "thopaw", "link": "https://stackoverflow.com/users/4485633/thopaw"}, "is_accepted": false, "score": 1, "last_activity_date": 1559172764, "creation_date": 1559172764, "answer_id": 56369802, "question_id": 56369741, "link": "https://stackoverflow.com/questions/56369741/javascript-filter-by-nested-object-attribute/56369802#56369802", "title": "Javascript filter by nested object attribute", "body": "<p>Why do you use jQuery here? Javascript gives you perfect methods for that. <a href=\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\">filter</a> or <a href=\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Array/find\" rel=\"nofollow noreferrer\">find</a>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = [\r\n{id: 1, type: {name: \"Approval\", id: 1}},\r\n{id: 2, type: {name: \"Rejection\", id: 2}},\r\n{id: 3, type: {name: \"Approval\", id: 1}}\r\n];\r\n      \r\nconst matches = arr\r\n    .filter(entry =&gt; entry.type.name === 'Approval')\r\nconsole.log(matches)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 637, "user_id": 1571934, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/U4b0T.jpg?s=128&g=1", "display_name": "Sid Kwakkel", "link": "https://stackoverflow.com/users/1571934/sid-kwakkel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1559234123, "creation_date": 1559172293, "last_edit_date": 1559234123, "question_id": 56369741, "link": "https://stackoverflow.com/questions/56369741/javascript-filter-by-nested-object-attribute", "title": "Javascript filter by nested object attribute", "body": "<p>I have the following array:</p>\n\n<pre><code>arr = [{id: 1, type: {name: \"Approval\", id: 1}},\n       {id: 2, type: {name: \"Rejection\", id: 2}},\n       {id: 3, type: {name: \"Approval\", id: 1}}\n      ];\n</code></pre>\n\n<p>Why does the following produce and [] result? I would expect to get an array of 2 objects (i.e. id 1 and 3).</p>\n\n<pre><code>$.grep(arr, function(a) { return a.type.name === \"Approval\"; })\n</code></pre>\n\n<p>Thoughts?</p>\n"}, {"tags": ["javascript", "jquery"], "answers": [{"comments": [{"owner": {"reputation": 13306, "user_id": 162698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HnjBG.png?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/162698/rob"}, "edited": false, "score": 0, "creation_date": 1559178609, "post_id": 56369845, "comment_id": 99343246, "body": "Why should he.?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 13306, "user_id": 162698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HnjBG.png?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/162698/rob"}, "edited": false, "score": 0, "creation_date": 1559178909, "post_id": 56369845, "comment_id": 99343318, "body": "Added some explanation and a link to a more extensive question."}, {"owner": {"reputation": 5357, "user_id": 209067, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7c97a35736df66cc21344b309490c22a?s=128&d=identicon&r=PG", "display_name": "Pablo", "link": "https://stackoverflow.com/users/209067/pablo"}, "reply_to_user": {"reputation": 13306, "user_id": 162698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HnjBG.png?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/162698/rob"}, "edited": false, "score": 0, "creation_date": 1559180317, "post_id": 56369845, "comment_id": 99343585, "body": "@Rob I don&#39;t see why this answer wouldn&#39;t work. Although the author did mention having tried using <code>window</code>, there were no specifics given."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 5357, "user_id": 209067, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7c97a35736df66cc21344b309490c22a?s=128&d=identicon&r=PG", "display_name": "Pablo", "link": "https://stackoverflow.com/users/209067/pablo"}, "edited": false, "score": 1, "creation_date": 1559180431, "post_id": 56369845, "comment_id": 99343607, "body": "@Pablo Rob didn&#39;t say it wouldn&#39;t work. He was just prompting me to add more explanation, rather than just posting the code. Since I frequently make similar comments to others, he caught me."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1559180483, "last_edit_date": 1559180483, "creation_date": 1559173107, "answer_id": 56369845, "question_id": 56369732, "link": "https://stackoverflow.com/questions/56369732/utilizing-a-string-from-an-array-to-a-function-as-a-variable/56369845#56369845", "title": "Utilizing a string from an array to a function as a variable", "body": "<p>You said you tried to use <code>window</code>, but you didn't show how you tried to do it. Global variables are properties of the <code>window</code> object. See <a href=\"https://stackoverflow.com/questions/5117127/use-dynamic-variable-names-in-javascript\">Use dynamic variable names in JavaScript</a></p>\n\n<p>Change</p>\n\n<pre><code>        input_field = ui.value;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>        window[input_field] = ui.value;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4395413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16a7dd37e53ed3012536c0a2593a377c?s=128&d=identicon&r=PG", "display_name": "Calvinjwala", "link": "https://stackoverflow.com/users/4395413/calvinjwala"}, "is_accepted": false, "score": 0, "last_activity_date": 1559766362, "creation_date": 1559766362, "answer_id": 56467520, "question_id": 56369732, "link": "https://stackoverflow.com/questions/56369732/utilizing-a-string-from-an-array-to-a-function-as-a-variable/56467520#56467520", "title": "Utilizing a string from an array to a function as a variable", "body": "<p>Thanks for the help. I ended up creating an object array {} and passing the variable as string. That wound up being a simpler solution. </p>\n"}], "owner": {"reputation": 1, "user_id": 4395413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16a7dd37e53ed3012536c0a2593a377c?s=128&d=identicon&r=PG", "display_name": "Calvinjwala", "link": "https://stackoverflow.com/users/4395413/calvinjwala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1559766362, "creation_date": 1559172249, "question_id": 56369732, "link": "https://stackoverflow.com/questions/56369732/utilizing-a-string-from-an-array-to-a-function-as-a-variable", "title": "Utilizing a string from an array to a function as a variable", "body": "<p>I want to use some string from an array and pass it into a function. The string has the same name as a global variable. From there, I want to set the output to the variable name. It is being passed to a slider function where the variable should update upon any changes.</p>\n\n<p>I've tried passing it through [window] or eval(), but it does not work. Ideally, in the createSliders() function, on slide the global var would update. </p>\n\n<pre><code>i_current_annual_volume = 1000000;\n\nlet sliderArr = [{\n   input: \"i_current_annual_volume\" (or window[i_current_annual_volume]),\n   value: 1000000,\n   min: 1000,\n   max: 10000000,\n   step: 1000,\n}];\n\nfunction createSliders() {\n  for ( var i = 0; i &lt; sliderArr.length; i++ ){\n    let slider_name = \"#slider-\" + [i + 1];\n    let handle_name = \"#custom-handle-\" + [i + 1];\n    let input_field = sliderArr[ i ].input;\n\n    $( slider_name ).slider({\n      value: sliderArr[ i ].value,\n      min: sliderArr[ i ].min,\n      max: sliderArr[ i ].max,\n      step: sliderArr[ i ].step,\n      create: function() {\n        $( handle_name ).text( $( this ).slider( \"value\" ) );\n      },\n      slide: function( event, ui ) {\n        $( handle_name ).text( ui.value );\n        input_field = ui.value;\n      },\n      stop: function(){\n        loadNumbers();\n      }\n    });\n  }\n};\n\n\n\nWhen I remove the quotes in the sliderArr, the output is 1000000. I need it to be i_current_annual_volume.\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "model-view-controller"], "comments": [{"owner": {"reputation": 1177, "user_id": 8588454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df930c492b10187ddb0c27d6209b61bb?s=128&d=identicon&r=PG&f=1", "display_name": "ecg8", "link": "https://stackoverflow.com/users/8588454/ecg8"}, "edited": false, "score": 0, "creation_date": 1559174757, "post_id": 56369682, "comment_id": 99342501, "body": "If you remove the console.log bit from your last line, and explicitly run model.init() just before it, you should get the result you are looking for."}, {"owner": {"reputation": 31, "user_id": 10408546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/254a1d6228a23ec2902151fd3a4f10c2?s=128&d=identicon&r=PG&f=1", "display_name": "sarah", "link": "https://stackoverflow.com/users/10408546/sarah"}, "reply_to_user": {"reputation": 1177, "user_id": 8588454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df930c492b10187ddb0c27d6209b61bb?s=128&d=identicon&r=PG&f=1", "display_name": "ecg8", "link": "https://stackoverflow.com/users/8588454/ecg8"}, "edited": false, "score": 0, "creation_date": 1559256368, "post_id": 56369682, "comment_id": 99373053, "body": "It doesn&#39;t work because of the condition in the top ` if (!localStorage.studentData)`  plus I don&#39;t want to init array in local storage again. I just want to add a new property to all of its objects. @ecg8"}, {"owner": {"reputation": 31, "user_id": 10408546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/254a1d6228a23ec2902151fd3a4f10c2?s=128&d=identicon&r=PG&f=1", "display_name": "sarah", "link": "https://stackoverflow.com/users/10408546/sarah"}, "reply_to_user": {"reputation": 1177, "user_id": 8588454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df930c492b10187ddb0c27d6209b61bb?s=128&d=identicon&r=PG&f=1", "display_name": "ecg8", "link": "https://stackoverflow.com/users/8588454/ecg8"}, "edited": false, "score": 0, "creation_date": 1559259385, "post_id": 56369682, "comment_id": 99373709, "body": "Why results array modified in this example? <code>const results = [ { id:1, name: &quot;iii&quot; }, { id:2, name: &quot;Rick&quot;}]</code> <code>results .forEach((element) =&gt; { element[&#39;Active&#39;] = [false, true]; });</code> and <code>model.getAllStudentData().forEach((student, index, arr) =&gt; { ...});</code> didn&#39;t"}], "owner": {"reputation": 31, "user_id": 10408546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/254a1d6228a23ec2902151fd3a4f10c2?s=128&d=identicon&r=PG&f=1", "display_name": "sarah", "link": "https://stackoverflow.com/users/10408546/sarah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1559259503, "creation_date": 1559171731, "last_edit_date": 1559259503, "question_id": 56369682, "link": "https://stackoverflow.com/questions/56369682/how-to-update-an-array-of-objects-in-local-storage-by-adding-a-new-property", "title": "How to update an array of objects in local storage by adding a new property?", "body": "<p>I have an array of objects in local storage and I want to update it and add a new property \"missedDays\" to its objects. But it didn't add it. </p>\n\n<p>I use a forEach to iterate over model.getAllStudentData() and add a new property of missed days and when I console.log(model.getAllStudentData()); it didn't add new property.</p>\n\n<pre><code>let model = {\n    studentNames : [\"Alice\", \"Lydia\", \"Adam\", \"Daniel\", \"Amy\"],\n\n    // Create attendance records if it hasn't created yet, use local storage to store them\n    init: function() {\n        if (!localStorage.studentData) {\n            console.log('Creating attendance records...');\n\n            /**\n            * @description Create random data for our student attendanceDyas\n            * @returns {boolean}\n            */\n            function getRandom() {\n                return (Math.random() &gt;= 0.5);\n            }\n\n            // create student object\n            const studentData = [];\n            this.studentNames.map(function(name) {\n                const student = {};\n                // add student name, addendance days\n                student['name'] = name;\n                student['attendanceDyas'] = [];\n                // fill values of attendanceDyas array with random boolean data\n                for (let day = 1; day &lt;= 12; day++) {\n                    student['attendanceDyas'].push(getRandom());\n                }\n                // add student object to our array\n                studentData.push(student);\n                return studentData;\n            });\n\n            // converts a studentAttendance object to a JSON string\n            // store studentAttendance JSON string\n            localStorage.studentData = JSON.stringify(studentData);\n        }\n    },\n\n    getAllStudentData: function() {\n        // Parse a string (written in JSON) and return a JavaScript object\n        return JSON.parse(localStorage.studentData);\n    }\n\n}\n\n/* octopus */\n\nlet octopus = {\n    // get student data from model\n    getStudentData: function() {\n        return model.getAllStudentData();\n    },\n\n    // count missed days\n    addMissedDaysAsProperty: function() {\n        model.getAllStudentData().forEach((student, index, arr) =&gt; {\n            arr[index]['missedDays'] = 0\n            student['attendanceDyas'].map((day) =&gt; {\n\n                if (day === false) {\n                    student['missedDays']++;\n                }\n            });\n\n            console.log(student, student['missedDays']);\n            // return student;\n        });\n        console.log(model.getAllStudentData());\n    },\n\n    init: function() {\n        model.init();\n        view.init();\n    }\n}\n\n// update I forgot to add \noctopus.init();\n\n// console.log(octopus.addMissedDaysAsProperty());\n</code></pre>\n\n<p>The array\n[{name: \"Alice\", attendanceDyas: [false,true, ...]}, {...}]</p>\n\n<p>I expected it to add new property missedDays\n[{name: \"Alice\", attendanceDyas: [false,true, ...], missedDays: 6}, {...}]</p>\n"}, {"tags": ["javascript", "arrays", "object", "ecmascript-6"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559171902, "post_id": 56369661, "comment_id": 99341896, "body": "Why do you have each property in its own object, instead of a single object like <code>{name: &quot;HappyHands31&quot;, job: &quot;website developer&quot;, ...}</code>?"}, {"owner": {"reputation": 3431, "user_id": 3546086, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4AF5h.jpg?s=128&g=1", "display_name": "HappyHands31", "link": "https://stackoverflow.com/users/3546086/happyhands31"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559171998, "post_id": 56369661, "comment_id": 99341917, "body": "@Barmar this was just the way it was presented in a coding challenge..."}], "answers": [{"comments": [{"owner": {"reputation": 3431, "user_id": 3546086, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4AF5h.jpg?s=128&g=1", "display_name": "HappyHands31", "link": "https://stackoverflow.com/users/3546086/happyhands31"}, "edited": false, "score": 0, "creation_date": 1559172120, "post_id": 56369672, "comment_id": 99341946, "body": "Sorry I edited the values of &quot;name&quot; and &quot;age&quot; : ) In the second snippet"}], "tags": [], "owner": {"reputation": 2724, "user_id": 1970822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a60600ccf383f06065a582c328eedfdc?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1970822/jan"}, "is_accepted": true, "score": 3, "last_activity_date": 1559172215, "last_edit_date": 1559172215, "creation_date": 1559171604, "answer_id": 56369672, "question_id": 56369661, "link": "https://stackoverflow.com/questions/56369661/accessing-object-property-values-within-an-array-javascript/56369672#56369672", "title": "Accessing Object Property Values Within an Array - JavaScript", "body": "<p>You can acces items in arrays at given position by their index. In javascript indexes of arrays are starting with 0: <code>myArray[0]</code>. To access the property of the returned object just use dot-notation: <code>myArray[0].myProperty</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let object1 = [{name: \"HappyHands31\"}, {job: \"website developer\"}, {city: \"Chicago\"}];\r\n\r\nconsole.log(object1[1].job);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>For your given example this can also achieved by appending the property-name (with dot-notation):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let object1 = [{name: \"HappyHands31\"}, {job: \"website developer\"}, {city: \"Chicago\"}];\r\n\r\nconsole.log(object1.find(function(element) {\r\n    return element.hasOwnProperty(\"job\");\r\n}).job);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": false, "score": 2, "last_activity_date": 1559171779, "creation_date": 1559171779, "answer_id": 56369688, "question_id": 56369661, "link": "https://stackoverflow.com/questions/56369661/accessing-object-property-values-within-an-array-javascript/56369688#56369688", "title": "Accessing Object Property Values Within an Array - JavaScript", "body": "<p>You can destructure the value:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let object1 = [{name: \"HappyHands31\"}, {job: \"website developer\"}, {city: \"Chicago\"}];\r\nconst { job: res } = object1.find(({ job }) =&gt; job);\r\nconsole.log(res);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 330, "user_id": 9398337, "user_type": "registered", "profile_image": "https://graph.facebook.com/1608948709174104/picture?type=large", "display_name": "Ionut Eugen", "link": "https://stackoverflow.com/users/9398337/ionut-eugen"}, "is_accepted": false, "score": 1, "last_activity_date": 1559172012, "creation_date": 1559172012, "answer_id": 56369707, "question_id": 56369661, "link": "https://stackoverflow.com/questions/56369661/accessing-object-property-values-within-an-array-javascript/56369707#56369707", "title": "Accessing Object Property Values Within an Array - JavaScript", "body": "<p>A solution would be to store somewhere the keys of each object and then access the object the usual way.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    let object1 = [{name: \"HappyHands31\"}, {job: \"website developer\"}, {city: \"Chicago\"}];\r\n    \r\n    for(let i=0; i&lt;3; i++){\r\n       name = Object.keys(object1[i]);\r\n       console.log(object1[i][name])\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>In this case I've assumed that you don't know the name of the key you want to access. </p>\n"}, {"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1559172137, "creation_date": 1559172137, "answer_id": 56369716, "question_id": 56369661, "link": "https://stackoverflow.com/questions/56369661/accessing-object-property-values-within-an-array-javascript/56369716#56369716", "title": "Accessing Object Property Values Within an Array - JavaScript", "body": "<p>Just add a property access to the end of it.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let object1 = [{name: \"HappyHands31\"}, {job: \"website developer\"}, {city: \"Chicago\"}];\r\n\r\nconsole.log(object1.find(function(element) {\r\n    return element.hasOwnProperty(\"job\");\r\n}).job);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 674, "user_id": 3385804, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002937312554/picture?type=large", "display_name": "Ammar", "link": "https://stackoverflow.com/users/3385804/ammar"}, "is_accepted": false, "score": 1, "last_activity_date": 1559173220, "last_edit_date": 1559173220, "creation_date": 1559172635, "answer_id": 56369790, "question_id": 56369661, "link": "https://stackoverflow.com/questions/56369661/accessing-object-property-values-within-an-array-javascript/56369790#56369790", "title": "Accessing Object Property Values Within an Array - JavaScript", "body": "<p>First, your <code>object1</code> is an array of objects, not an object.</p>\n\n<p>Although, there's a way to achieve what you want.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const fun = (arr, prop) =&gt; arr.find((obj) =&gt; obj.hasOwnProperty(prop))[prop];\r\n\r\nconst object1 = [{name: 'HappyHands31'}, {job: 'website developer'}, {city: 'Chicago'}];\r\n\r\nconst property = 'job';\r\n\r\nconsole.log(fun(object1, property));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 3868, "user_id": 2295484, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BAohf.png?s=128&g=1", "display_name": "Krishnadas PC", "link": "https://stackoverflow.com/users/2295484/krishnadas-pc"}, "is_accepted": false, "score": 1, "last_activity_date": 1559627933, "creation_date": 1559627933, "answer_id": 56438089, "question_id": 56369661, "link": "https://stackoverflow.com/questions/56369661/accessing-object-property-values-within-an-array-javascript/56438089#56438089", "title": "Accessing Object Property Values Within an Array - JavaScript", "body": "<p>If the object structure is the same in the array, you can flatten that array of objects like this and call it directly as object keys.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let object1 = [{name: \"HappyHands31\"}, {job: \"website developer\"}, {city: \"Chicago\"}];\r\nlet flatten = {}\r\nobject1.map((currentValue, index) =&gt; {\r\n  let key = Object.keys(currentValue)  \r\n  flatten[key] = currentValue[key]\r\n});\r\nconsole.log(flatten)\r\nconsole.log(flatten.job)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3431, "user_id": 3546086, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/4AF5h.jpg?s=128&g=1", "display_name": "HappyHands31", "link": "https://stackoverflow.com/users/3546086/happyhands31"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1160, "favorite_count": 1, "accepted_answer_id": 56369672, "answer_count": 6, "score": 3, "last_activity_date": 1559627933, "creation_date": 1559171514, "last_edit_date": 1559172034, "question_id": 56369661, "link": "https://stackoverflow.com/questions/56369661/accessing-object-property-values-within-an-array-javascript", "title": "Accessing Object Property Values Within an Array - JavaScript", "body": "<p>Learning how to access property values.</p>\n\n<p>If I have</p>\n\n<pre><code>let object1 = [{name: \"HappyHands31\"}, {job: \"website developer\"}, {city: \"Chicago\"}];\n</code></pre>\n\n<p>How would I console.log just the <em>value</em> of the second object? I.e. \"website developer\". </p>\n\n<p>I know how to console.log the entire key-value pair (or object) by using <code>.find()</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let object1 = [{name: \"HappyHands31\"}, {job: \"website developer\"}, {city: \"Chicago\"}];\r\n\r\nconsole.log(object1.find(function(element) {\r\n    return element.hasOwnProperty(\"job\");\r\n}\r\n));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But what about just the <em>value</em> of this pair?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 136, "user_id": 8476013, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-L-cULMc8RL0/AAAAAAAAAAI/AAAAAAAAABI/0IiVLZZkgcc/photo.jpg?sz=128", "display_name": "Lachlan Walls", "link": "https://stackoverflow.com/users/8476013/lachlan-walls"}, "edited": false, "score": 1, "creation_date": 1559171677, "post_id": 56369639, "comment_id": 99341848, "body": "It&#39;s hard to tell what you&#39;re looking for. It depends a lot on what you&#39;re using this for and how data is stored on the API. Is it possible you could provide more information? The 2 possible solutions I see are either moving this code to the server, or making a system where you send the second call only when it is actually needed - but this second solution will greatly depend on the application."}, {"owner": {"reputation": 503, "user_id": 7996703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CKDvn.jpg?s=128&g=1", "display_name": "Jonathan K", "link": "https://stackoverflow.com/users/7996703/jonathan-k"}, "edited": false, "score": 1, "creation_date": 1559171819, "post_id": 56369639, "comment_id": 99341876, "body": "Do you have access to the Backend, if you do, alter the logic to accept multiple IDs. Then you can just send all IDs once and get all profiles, then match the profiles here"}, {"owner": {"reputation": 407, "user_id": 3452039, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lxR1D.jpg?s=128&g=1", "display_name": "Mehdi Benmesssaoud", "link": "https://stackoverflow.com/users/3452039/mehdi-benmesssaoud"}, "edited": false, "score": 0, "creation_date": 1559175718, "post_id": 56369639, "comment_id": 99342690, "body": "Maybe you can use, async/await, and forEach just to make the code more readable. To optimise this, i think you need to work on the backend, if it&#39;s your API"}, {"owner": {"reputation": 796, "user_id": 5284439, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3151bf63e7763a0e3dff9524d82f3cc5?s=128&d=identicon&r=PG&f=1", "display_name": "Manit", "link": "https://stackoverflow.com/users/5284439/manit"}, "reply_to_user": {"reputation": 136, "user_id": 8476013, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-L-cULMc8RL0/AAAAAAAAAAI/AAAAAAAAABI/0IiVLZZkgcc/photo.jpg?sz=128", "display_name": "Lachlan Walls", "link": "https://stackoverflow.com/users/8476013/lachlan-walls"}, "edited": false, "score": 1, "creation_date": 1559177475, "post_id": 56369639, "comment_id": 99343000, "body": "I agree with @LachlanWalls and jonathan as well. Just create an api which should send you all the details rather than you making so many calls. Now how you load the data is another thing you might have to address."}], "answers": [{"tags": [], "owner": {"reputation": 7026, "user_id": 7141073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b0f2e16c86753e559fdd61cce2051b1?s=128&d=identicon&r=PG&f=1", "display_name": "Fyodor", "link": "https://stackoverflow.com/users/7141073/fyodor"}, "is_accepted": false, "score": 0, "last_activity_date": 1559172994, "creation_date": 1559172994, "answer_id": 56369828, "question_id": 56369639, "link": "https://stackoverflow.com/questions/56369639/removing-nested-api-call-from-for-loop/56369828#56369828", "title": "Removing nested api call from for loop", "body": "<p>One possible solution is to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function\" rel=\"nofollow noreferrer\">async/await</a>. Although this will not remove nested loop, but make code look better</p>\n\n<p>Example</p>\n\n<pre><code>async function getUsersAndProfiles () {\n    try {\n        this.users = await api.get(...); \n        for(let i=0; i&lt;this.users.length; i++){\n            let response = await api.get(...this.users[i].id);\n            if (response.name == this.users[i].name)\n                this.newList.push(response);\n        }\n    }\n    catch (e)\n        console.log(e);\n}\n</code></pre>\n\n<p>You can even move api call for user profile to another async function for possible future reuse and better code structure</p>\n"}, {"tags": [], "owner": {"reputation": 22241, "user_id": 777147, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/UCGDm.jpg?s=128&g=1", "display_name": "Raja Jaganathan", "link": "https://stackoverflow.com/users/777147/raja-jaganathan"}, "is_accepted": false, "score": 0, "last_activity_date": 1559187339, "creation_date": 1559187339, "answer_id": 56371278, "question_id": 56369639, "link": "https://stackoverflow.com/questions/56369639/removing-nested-api-call-from-for-loop/56371278#56371278", "title": "Removing nested api call from for loop", "body": "<p>Just push array of request into array after that we can use Promise.all() to make a request at a time, then we could create newList based on results array.</p>\n\n<pre><code> api.get(...).then(response =&gt; {\n    this.users = response;\n    const promises = this.users.map(user =&gt; api.get(...user.id))\n    const result = Promise.all(promises).then(result =&gt; {\n        this.newList = results.filter((user, i) =&gt; user.name === this.users[i].name)\n    })\n})\n</code></pre>\n"}], "owner": {"reputation": 1011, "user_id": 7088371, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4f2a62081d43b21c757cff113c83fda8?s=128&d=identicon&r=PG&f=1", "display_name": "bluePearl", "link": "https://stackoverflow.com/users/7088371/bluepearl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1559187339, "creation_date": 1559171394, "question_id": 56369639, "link": "https://stackoverflow.com/questions/56369639/removing-nested-api-call-from-for-loop", "title": "Removing nested api call from for loop", "body": "<p>i made an api call to return a set of data(ex: users - list type, with the returned data i created a for loop and and within my for loop i make another api call to get the user's profile detail based on the user's id. I know this isn't the best practice and i was wondering how i could go about refactoring it. </p>\n\n<pre><code>api.get(...).then(response =&gt; { \n   this.users = response; \n   for(let i=0; i&lt;this.users.length; i++){\n     api.get(...this.users[i].id).then(response =&gt; {\n       if(response.name == this.users[i].name)\n         this.newList.push(response);\n     })\n   }\n})\n</code></pre>\n\n<p>and in my html i loop over this.newList to display the info that i need. </p>\n\n<p>How can i remove the nested api call from within the for loop and still get the same results?</p>\n"}, {"tags": ["javascript", "reactjs", "react-native", "setstate"], "comments": [{"owner": {"reputation": 330, "user_id": 9398337, "user_type": "registered", "profile_image": "https://graph.facebook.com/1608948709174104/picture?type=large", "display_name": "Ionut Eugen", "link": "https://stackoverflow.com/users/9398337/ionut-eugen"}, "edited": false, "score": 0, "creation_date": 1559173392, "post_id": 56369597, "comment_id": 99342205, "body": "This may be vague, but how about instead of using map ( I assumed u used map :D ) use a for loop or a while in which you can store the index of you&#39;r array&#39;s as a component propriety ?"}, {"owner": {"reputation": 165, "user_id": 7200524, "user_type": "registered", "profile_image": "https://graph.facebook.com/1345646335478050/picture?type=large", "display_name": "Amel Amc&#235; Muminovic", "link": "https://stackoverflow.com/users/7200524/amel-amc%c3%ab-muminovic"}, "reply_to_user": {"reputation": 330, "user_id": 9398337, "user_type": "registered", "profile_image": "https://graph.facebook.com/1608948709174104/picture?type=large", "display_name": "Ionut Eugen", "link": "https://stackoverflow.com/users/9398337/ionut-eugen"}, "edited": false, "score": 0, "creation_date": 1559173834, "post_id": 56369597, "comment_id": 99342305, "body": "I am just curious about updating the state, not displaying the data. Let&#39;s suppose I have displayed everything and I have an input field where you have the list of the data and I got the correct index of song and index of the genre. I just need to figure out how to properly change the state"}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 7200524, "user_type": "registered", "profile_image": "https://graph.facebook.com/1345646335478050/picture?type=large", "display_name": "Amel Amc&#235; Muminovic", "link": "https://stackoverflow.com/users/7200524/amel-amc%c3%ab-muminovic"}, "edited": false, "score": 0, "creation_date": 1559174671, "post_id": 56369972, "comment_id": 99342485, "body": "I think this will mutate the state cause I am directly working on its values?"}, {"owner": {"reputation": 272, "user_id": 11016490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5317083244012ab8cbfb04359db9d78?s=128&d=identicon&r=PG&f=1", "display_name": "Mitro", "link": "https://stackoverflow.com/users/11016490/mitro"}, "reply_to_user": {"reputation": 165, "user_id": 7200524, "user_type": "registered", "profile_image": "https://graph.facebook.com/1345646335478050/picture?type=large", "display_name": "Amel Amc&#235; Muminovic", "link": "https://stackoverflow.com/users/7200524/amel-amc%c3%ab-muminovic"}, "edited": false, "score": 0, "creation_date": 1559174964, "post_id": 56369972, "comment_id": 99342545, "body": "Yes, you are right. You should create a deep copy of genres, and than manipulating before set a new state. I updated the answer."}], "tags": [], "owner": {"reputation": 272, "user_id": 11016490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5317083244012ab8cbfb04359db9d78?s=128&d=identicon&r=PG&f=1", "display_name": "Mitro", "link": "https://stackoverflow.com/users/11016490/mitro"}, "is_accepted": false, "score": 0, "last_activity_date": 1559174903, "last_edit_date": 1559174903, "creation_date": 1559174115, "answer_id": 56369972, "question_id": 56369597, "link": "https://stackoverflow.com/questions/56369597/how-to-correctly-change-state-of-a-multiple-nested-array-of-objects-in-react/56369972#56369972", "title": "How to correctly change state of a multiple nested array of objects in React?", "body": "<p>I would change your state like this:</p>\n\n<pre><code>this.state = {\n      title: \"Top playlists\",\n      genres: [\n        {\n          followers: 2456,\n          genreName: \"pop\",\n          songs: [\n            {\n              title: \"Soldier of fortune\",\n              author: \"Deep Purple\"\n            }\n          ]\n        }\n      ]\n    };\n</code></pre>\n\n<p>and then </p>\n\n<pre><code>handleChangeSongName = (e, genreIndex, songIndex) =&gt; {\n    // genreIndex = 0;\n    // songIndex = 0;\n    // e.target.name = title;\n    // e.target.value = \"Child in time\"  \n    ...What to do here?\n\n    const genres = _.cloneDeep(this.state.genres); // create deep copy with underscore\n    // or like this\n    // const genres = JSON.parse(JSON.stringify(this.state.genres))\n\n    if(genres.length &amp;&amp; genres[genreIndex] &amp;&amp; genres[genreIndex].songs.length &amp;&amp; genres[genreIndex].songs[songIndex]) {\n        genres[genreIndex].songs[songIndex][e.target.name] = e.target.value;\n\n        this.setState({\n            genres: genres\n        });\n     }\n\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 165, "user_id": 7200524, "user_type": "registered", "profile_image": "https://graph.facebook.com/1345646335478050/picture?type=large", "display_name": "Amel Amc&#235; Muminovic", "link": "https://stackoverflow.com/users/7200524/amel-amc%c3%ab-muminovic"}, "edited": false, "score": 0, "creation_date": 1559176814, "post_id": 56370063, "comment_id": 99342884, "body": "This kinda works, but I am losing Focus after I type a single letter in the input field. So, I need to click again and type one more letter, and so on"}, {"owner": {"reputation": 1084, "user_id": 11219378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WbGwL.jpg?s=128&g=1", "display_name": "Mervzs", "link": "https://stackoverflow.com/users/11219378/mervzs"}, "reply_to_user": {"reputation": 165, "user_id": 7200524, "user_type": "registered", "profile_image": "https://graph.facebook.com/1345646335478050/picture?type=large", "display_name": "Amel Amc&#235; Muminovic", "link": "https://stackoverflow.com/users/7200524/amel-amc%c3%ab-muminovic"}, "edited": false, "score": 0, "creation_date": 1559177456, "post_id": 56370063, "comment_id": 99342998, "body": "It is a good practice to update those changes on button press. not when changing value on textInput. do a separate handling of your textInput."}, {"owner": {"reputation": 1084, "user_id": 11219378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WbGwL.jpg?s=128&g=1", "display_name": "Mervzs", "link": "https://stackoverflow.com/users/11219378/mervzs"}, "reply_to_user": {"reputation": 165, "user_id": 7200524, "user_type": "registered", "profile_image": "https://graph.facebook.com/1345646335478050/picture?type=large", "display_name": "Amel Amc&#235; Muminovic", "link": "https://stackoverflow.com/users/7200524/amel-amc%c3%ab-muminovic"}, "edited": false, "score": 0, "creation_date": 1559177590, "post_id": 56370063, "comment_id": 99343024, "body": "Also can I know what component did you use for the input and how you implemented it?"}, {"owner": {"reputation": 165, "user_id": 7200524, "user_type": "registered", "profile_image": "https://graph.facebook.com/1345646335478050/picture?type=large", "display_name": "Amel Amc&#235; Muminovic", "link": "https://stackoverflow.com/users/7200524/amel-amc%c3%ab-muminovic"}, "edited": false, "score": 0, "creation_date": 1559178109, "post_id": 56370063, "comment_id": 99343129, "body": "I used Input from the &#39;reactstrap&#39; module.  I am mapping the array of the elements and then onChange, I am sending an event, what genre is and what song I am changing. Something like this.  &lt;Input value={songs[songIndex].title} onChange={(e) =&gt; {handleChange(e, genreIndex, songIndex, )}} /&gt;"}, {"owner": {"reputation": 1084, "user_id": 11219378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WbGwL.jpg?s=128&g=1", "display_name": "Mervzs", "link": "https://stackoverflow.com/users/11219378/mervzs"}, "reply_to_user": {"reputation": 165, "user_id": 7200524, "user_type": "registered", "profile_image": "https://graph.facebook.com/1345646335478050/picture?type=large", "display_name": "Amel Amc&#235; Muminovic", "link": "https://stackoverflow.com/users/7200524/amel-amc%c3%ab-muminovic"}, "edited": false, "score": 0, "creation_date": 1559179210, "post_id": 56370063, "comment_id": 99343382, "body": "Mine is working on simple TextInput component of react-native.I think you implement it right , but i dont know the cause of sudden unfocus while you triggering a key.  But in my answer on your main question. that is one of the best way to change to state of a nested objects."}, {"owner": {"reputation": 165, "user_id": 7200524, "user_type": "registered", "profile_image": "https://graph.facebook.com/1345646335478050/picture?type=large", "display_name": "Amel Amc&#235; Muminovic", "link": "https://stackoverflow.com/users/7200524/amel-amc%c3%ab-muminovic"}, "edited": false, "score": 0, "creation_date": 1559179684, "post_id": 56370063, "comment_id": 99343466, "body": "I will try to figure it out...However, I will mark your answer as correct."}, {"owner": {"reputation": 165, "user_id": 7200524, "user_type": "registered", "profile_image": "https://graph.facebook.com/1345646335478050/picture?type=large", "display_name": "Amel Amc&#235; Muminovic", "link": "https://stackoverflow.com/users/7200524/amel-amc%c3%ab-muminovic"}, "reply_to_user": {"reputation": 1084, "user_id": 11219378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WbGwL.jpg?s=128&g=1", "display_name": "Mervzs", "link": "https://stackoverflow.com/users/11219378/mervzs"}, "edited": false, "score": 0, "creation_date": 1559179977, "post_id": 56370063, "comment_id": 99343516, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/194142/discussion-between-amel-amce-muminovic-and-mervzs\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 1084, "user_id": 11219378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WbGwL.jpg?s=128&g=1", "display_name": "Mervzs", "link": "https://stackoverflow.com/users/11219378/mervzs"}, "is_accepted": true, "score": 3, "last_activity_date": 1559175013, "creation_date": 1559175013, "answer_id": 56370063, "question_id": 56369597, "link": "https://stackoverflow.com/questions/56369597/how-to-correctly-change-state-of-a-multiple-nested-array-of-objects-in-react/56370063#56370063", "title": "How to correctly change state of a multiple nested array of objects in React?", "body": "<p>you can modify your handleChangeSongName function to this:</p>\n\n<pre><code>  handleChangeSongName = (e, genreIndex, songIndex) =&gt; {\n// genreIndex = 0;\n// songIndex = 0;\n// e.target.name = title;\n// e.target.value = \"Child in time\"  \nthis.setState((prevState) =&gt; {\n  let temp = {\n    ...prevState,\n    genres: [...prevState.genres]\n  }\n\n  // change title \"Soldier of fortune\" to \"Child in time\"\n  temp.genres[genreIndex].songs[songIndex][e.target.name] = e.target.value\n\n  return temp\n})\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 165, "user_id": 7200524, "user_type": "registered", "profile_image": "https://graph.facebook.com/1345646335478050/picture?type=large", "display_name": "Amel Amc&#235; Muminovic", "link": "https://stackoverflow.com/users/7200524/amel-amc%c3%ab-muminovic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2249, "favorite_count": 2, "accepted_answer_id": 56370063, "answer_count": 2, "score": 1, "last_activity_date": 1575462000, "creation_date": 1559171005, "last_edit_date": 1559174452, "question_id": 56369597, "link": "https://stackoverflow.com/questions/56369597/how-to-correctly-change-state-of-a-multiple-nested-array-of-objects-in-react", "title": "How to correctly change state of a multiple nested array of objects in React?", "body": "<p>What would be the best way to change the state of multiple nested arrays of objects in React? Let's see the example below: I have a component that will display the top playlist for each genre. I have a property <strong>genre</strong> which is an array of objects and each object has a property <strong>songs</strong> which is also an array of objects. If I want to change the song named Soldier of Fortune to Child in Time (Let's suppose in Change function as parameters I have indexes of Song and Genre already provided from the UI change). How can I access multiple levels of nested objects and not mutate the state? </p>\n\n<pre><code>this.state = {\n    title: 'Top playlists',\n    genres: [\n      {\n        genreName: 'pop',\n        followers: 2456,\n        songs: [\n          {\n            title: 'Soldier of fortune',\n            author: 'Deep Purple',\n          },\n        ],\n      },\n    ],\n  };\n\nhandleChangeSongName = (e, genreIndex, songIndex) =&gt; {\n    // genreIndex = 0;\n    // songIndex = 0;\n    // e.target.name = title;\n    // e.target.value = \"Child in time\"  \n    ...What to do here?\n  }\n\n</code></pre>\n"}, {"tags": ["javascript", "css"], "answers": [{"tags": [], "owner": {"reputation": 1043, "user_id": 370321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3cd5190e73570dfab0b30766bfed8b6?s=128&d=identicon&r=PG", "display_name": "abelito", "link": "https://stackoverflow.com/users/370321/abelito"}, "is_accepted": true, "score": 1, "last_activity_date": 1559171554, "creation_date": 1559171554, "answer_id": 56369666, "question_id": 56369562, "link": "https://stackoverflow.com/questions/56369562/handle-transition-on-absolutely-position-element-pushing-other-elements/56369666#56369666", "title": "Handle transition on absolutely position element pushing other elements", "body": "<p>Here's a bit to get you along the right path:</p>\n\n<pre><code>.top-navbar {\n  align-self: flex-end;\n  height: 4em;\n  max-width: 100px;\n  width: 100px;\n}\n.navbar-nav {\n  /*position: absolute;*/\n  background-color: red;\n}\n</code></pre>\n\n<p>The only thing that's left is making it so the button doesn't bump up/down which shouldn't be too hard to figure out</p>\n"}], "owner": {"reputation": 606, "user_id": 5972531, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-3iXENmp-sQA/AAAAAAAAAAI/AAAAAAAABdo/TH2bQ5v2RlM/photo.jpg?sz=128", "display_name": "Mote Zart", "link": "https://stackoverflow.com/users/5972531/mote-zart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 56369666, "answer_count": 1, "score": 0, "last_activity_date": 1559171554, "creation_date": 1559170716, "question_id": 56369562, "link": "https://stackoverflow.com/questions/56369562/handle-transition-on-absolutely-position-element-pushing-other-elements", "title": "Handle transition on absolutely position element pushing other elements", "body": "<p>I have a responsive nav that expands down into the content below. Even with <code>position: absolute</code>, while the transition occurs it still pushes down the lower content. The problem is with the transition.</p>\n\n<p>My idea to solve it was to add a class to the lower content whenever the navbar gets clicked. This would momentarily add absolute positioning to all the lower content so it does not get in the way of the dropdown. </p>\n\n<p>Beside all the complexity this would take, I am using react and react-bootstrap and this <a href=\"https://react-bootstrap.github.io/components/navbar/\" rel=\"nofollow noreferrer\">dropdown</a>, last one in the list. This does not have a <code>onTransitionEnd</code> event, so I don't know how to remove this added class once I've added it. I thought after the dropdown ends but without this event not sure how to do.</p>\n\n<p>This is a simple problem but I am not sure how to fix it without rewriting the code. I've tried repositioning the lower content but no matter what I do the dropdown hits it, or its margin.  Some solutions say <code>z-index</code> should solve but that did not work.</p>\n\n<p>If there is no solution I'm happy to hear ways to redesign.</p>\n\n<p>I've made a <a href=\"https://codesandbox.io/s/blazing-cache-p0xrn\" rel=\"nofollow noreferrer\">demo</a> with the issue. </p>\n"}, {"tags": ["javascript", "webpack", "ecmascript-6", "aurelia"], "comments": [{"owner": {"reputation": 1724, "user_id": 6672580, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-6rBmPoEP_DQ/AAAAAAAAAAI/AAAAAAAAABU/17IsM_eOvmI/photo.jpg?sz=128", "display_name": "bigopon", "link": "https://stackoverflow.com/users/6672580/bigopon"}, "edited": false, "score": 0, "creation_date": 1559357645, "post_id": 56369558, "comment_id": 99405206, "body": "I think this has already been fixed. If you grab the latest version of all plugins and rebuild, it will work just fine with IE11"}], "owner": {"reputation": 3683, "user_id": 576313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f0338b39dd0b52062efcb9229a8ffe9?s=128&d=identicon&r=PG", "display_name": "drdwilcox", "link": "https://stackoverflow.com/users/576313/drdwilcox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1559183010, "creation_date": 1559170705, "last_edit_date": 1559183010, "question_id": 56369558, "link": "https://stackoverflow.com/questions/56369558/using-native-module-versions-with-aurelia-io-application", "title": "Using native module versions with Aurelia.io application", "body": "<p>Our application is built using Aurelia.io and needs to run on Internet Explorer 11. When we build the Aurelia libraries bundle, Webpack is grabbing the versions in the es2015 folders for the various libraries. We need Webpack to use the native-modules versions instead. How do I tell npm or Webpack which version to use?</p>\n"}, {"tags": ["javascript", "php"], "comments": [{"owner": {"reputation": 193, "user_id": 10440916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/79XhK.jpg?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/10440916/justin"}, "edited": false, "score": 1, "creation_date": 1559170666, "post_id": 56369527, "comment_id": 99341649, "body": "Are you willing to consider a solution in JavaScript that would not require reloading the entire page?"}, {"owner": {"reputation": 3, "user_id": 9201808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/761050aa85f6bc53c86d331dbde586e7?s=128&d=identicon&r=PG&f=1", "display_name": "ConJastle", "link": "https://stackoverflow.com/users/9201808/conjastle"}, "reply_to_user": {"reputation": 193, "user_id": 10440916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/79XhK.jpg?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/10440916/justin"}, "edited": false, "score": 0, "creation_date": 1559170790, "post_id": 56369527, "comment_id": 99341677, "body": "@Justin definitely!"}, {"owner": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "edited": false, "score": 1, "creation_date": 1559174153, "post_id": 56369527, "comment_id": 99342367, "body": "this is Ajax theme"}, {"owner": {"reputation": 740, "user_id": 3593686, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vsoPH.jpg?s=128&g=1", "display_name": "Paulo Hgo", "link": "https://stackoverflow.com/users/3593686/paulo-hgo"}, "edited": false, "score": 1, "creation_date": 1559174663, "post_id": 56369527, "comment_id": 99342483, "body": "Use Ajax. Upon success of the execution of your PHP code, update the DOM Ids for the elements that you want."}], "owner": {"reputation": 3, "user_id": 9201808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/761050aa85f6bc53c86d331dbde586e7?s=128&d=identicon&r=PG&f=1", "display_name": "ConJastle", "link": "https://stackoverflow.com/users/9201808/conjastle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1559170444, "creation_date": 1559170444, "question_id": 56369527, "link": "https://stackoverflow.com/questions/56369527/how-to-populate-content-dynamically-in-php-with-the-click-of-a-button-possibly", "title": "How to populate content dynamically in PHP with the click of a button (possibly using Javascript)", "body": "<p>I would like a user to click a button with a specific ID, which would then dynamically add that ID to multiple parts of a PHP document, displayed beneath the button. </p>\n\n<p>I'm loading information server-side as well, so I have to use PHP for some of the other contents in the file.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;a href=\"\" data-product_id=\"1503\"&gt;Button&lt;/a&gt;\n</code></pre>\n\n<pre><code>&lt;?php\n// additional necessary php\n?&gt;\n&lt;div id=\"insert data-product_id here\"&gt;\n&lt;p name=\"insert data-product_id here\"&gt;&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I've attempted to use an onClick with the <code>element.getAttribute('data-product_id');</code> but I can't figure out how to then implement that into the PHP file. </p>\n\n<p>If there's a way to do this entirely in PHP that'd be ideal, I'm just stuck on how to accomplish it.</p>\n"}, {"tags": ["javascript", "api", "drive"], "comments": [{"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "edited": false, "score": 0, "creation_date": 1559173121, "post_id": 56369457, "comment_id": 99342151, "body": "Do you want to use Service Account? Because when I saw your script, I thought that you might want to use OAuth2 process. Can you show us about the script of Node.js which worked fine as a sample script? Of course, please remove your personal information."}, {"owner": {"reputation": 659, "user_id": 8958651, "user_type": "registered", "accept_rate": 10, "profile_image": "https://i.stack.imgur.com/agybF.jpg?s=128&g=1", "display_name": "DavidInTheIn", "link": "https://stackoverflow.com/users/8958651/davidinthein"}, "reply_to_user": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "edited": false, "score": 0, "creation_date": 1559211795, "post_id": 56369457, "comment_id": 99353545, "body": "Thanks, It is possible to use an Account service via Rest to upload a file in google drive? Can you show me a guide/example to use a Service Account? In the doc <a href=\"https://developers.google.com/drive/api/v3/about-auth\" rel=\"nofollow noreferrer\">developers.google.com/drive/api/v3/about-auth</a> I have difficult to find this approach."}, {"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "edited": false, "score": 0, "creation_date": 1559254906, "post_id": 56369457, "comment_id": 99372724, "body": "For example, when I searched <code>javascript drive api service account</code> at Google, the following thread can be found. Is this information useful for your situation? <a href=\"https://github.com/google/google-api-javascript-client/issues/428\" rel=\"nofollow noreferrer\">github.com/google/google-api-javascript-client/issues/428</a>"}], "answers": [{"comments": [{"owner": {"reputation": 659, "user_id": 8958651, "user_type": "registered", "accept_rate": 10, "profile_image": "https://i.stack.imgur.com/agybF.jpg?s=128&g=1", "display_name": "DavidInTheIn", "link": "https://stackoverflow.com/users/8958651/davidinthein"}, "edited": false, "score": 0, "creation_date": 1559210548, "post_id": 56369680, "comment_id": 99352994, "body": "No change, I think that is an authentication problem"}], "tags": [], "owner": {"reputation": 272, "user_id": 11016490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5317083244012ab8cbfb04359db9d78?s=128&d=identicon&r=PG&f=1", "display_name": "Mitro", "link": "https://stackoverflow.com/users/11016490/mitro"}, "is_accepted": false, "score": 0, "last_activity_date": 1559171721, "creation_date": 1559171721, "answer_id": 56369680, "question_id": 56369457, "link": "https://stackoverflow.com/questions/56369457/google-drive-api-rest-upload-file-with-service-account-not-works/56369680#56369680", "title": "Google drive api rest upload file with service account not works", "body": "<p>Add contentType: false inside $.ajax function.</p>\n\n<p>Add your file in the data object inside ajax call. You should use FormData object like this:</p>\n\n<pre><code>var formData = new FormData();\n\nformData.append('file', $('.file-input')[0].files[0]); \n</code></pre>\n\n<p>and then set data: formData inside $.ajax function</p>\n"}, {"tags": [], "owner": {"reputation": 1128, "user_id": 9856853, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--R3DAJ2p8uc/AAAAAAAAAAI/AAAAAAAALtk/_wYfVrf-Nds/photo.jpg?sz=128", "display_name": "Raghul SK", "link": "https://stackoverflow.com/users/9856853/raghul-sk"}, "is_accepted": false, "score": 0, "last_activity_date": 1559888878, "creation_date": 1559888878, "answer_id": 56489002, "question_id": 56369457, "link": "https://stackoverflow.com/questions/56369457/google-drive-api-rest-upload-file-with-service-account-not-works/56489002#56489002", "title": "Google drive api rest upload file with service account not works", "body": "<p>Based from this <a href=\"https://developers.google.com/drive/api/v3/manage-downloads#downloading_a_file\" rel=\"nofollow noreferrer\">documentation</a>, if you're using alt=media, you need to make an authorized HTTP GET request to the file's <a href=\"https://developers.google.com/drive/api/v3/reference/files/get\" rel=\"nofollow noreferrer\">resource URL</a> and include the query parameter alt=media.</p>\n\n<blockquote>\n  <p>GET\n  <a href=\"https://www.googleapis.com/drive/v3/files/0B9jNhSvVjoIVM3dKcGRKRmVIOVU?alt=media\" rel=\"nofollow noreferrer\">https://www.googleapis.com/drive/v3/files/0B9jNhSvVjoIVM3dKcGRKRmVIOVU?alt=media</a>\n  Authorization: Bearer\n  ya29.AHESVbXTUv5mHMo3RYfmS1YJonjzzdTOFZwvyOAUVhrs</p>\n</blockquote>\n\n<p>Check <a href=\"https://developers.google.com/drive/api/v3/manage-downloads#examples\" rel=\"nofollow noreferrer\">here</a> the examples of performing a file download with our Drive API client libraries.</p>\n\n<blockquote>\n  <p>String fileId = \"0BwwA4oUTeiV1UVNwOHItT0xfa2M\"; \n  OutputStream\n  outputStream = new ByteArrayOutputStream();\n  driveService.files().get(fileId)\n          .executeMediaAndDownloadTo(outputStream)</p>\n</blockquote>\n\n<p>Get the File id and pass it through the function to upload the file</p>\n"}], "owner": {"reputation": 659, "user_id": 8958651, "user_type": "registered", "accept_rate": 10, "profile_image": "https://i.stack.imgur.com/agybF.jpg?s=128&g=1", "display_name": "DavidInTheIn", "link": "https://stackoverflow.com/users/8958651/davidinthein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 235, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1559888878, "creation_date": 1559169867, "last_edit_date": 1559250542, "question_id": 56369457, "link": "https://stackoverflow.com/questions/56369457/google-drive-api-rest-upload-file-with-service-account-not-works", "title": "Google drive api rest upload file with service account not works", "body": "<p>After creating a service account from the google iam console, and having obtained the json with the private_key,client_email and so on... I have problems integrating them into my javascript code to upload a file to google drive with an authentication server to server. With the use of nodejs I didn't have any problem (I used JWTtoken), I would be grateful if you could help me to insert the authentication parameters correctly in the javascript post request code of the example.   </p>\n\n<pre><code>       $.ajax({\n        type: \"POST\",\n        url: \"https://www.googleapis.com/upload/drive/v3/files\",\n        data:{\n            uploadType:\"multipart\",\n            parents: [\"xxxxxxxxxxxxxxxxxxxxxxxx\"]\n        },\n        success: function (data) {\n            console.log(data);\n        },\n        error: function (error) {\n            console.log(error);\n        },\n        async: true,\n        data: formData,\n        cache: false,\n        contentType: false,\n        Authorization: ????????????????? &lt;---\n        processData: false,\n        timeout: 60000\n    });\n};\n</code></pre>\n\n<p>When I try to do to update this file I see no result. Can someone help me? </p>\n"}, {"tags": ["javascript", "angularjs", "ng-bind-html"], "comments": [{"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1559169647, "post_id": 56369412, "comment_id": 99341378, "body": "Is this for AngularJS v1?"}, {"owner": {"reputation": 23, "user_id": 3758146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f0b71e914417ed782b513ee3ed36894?s=128&d=identicon&r=PG&f=1", "display_name": "altair2195", "link": "https://stackoverflow.com/users/3758146/altair2195"}, "reply_to_user": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 1, "creation_date": 1559170339, "post_id": 56369412, "comment_id": 99341562, "body": "Yes, my bad for using the wrong tag. This is in angular 1.4"}], "answers": [{"tags": [], "owner": {"reputation": 272, "user_id": 11016490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5317083244012ab8cbfb04359db9d78?s=128&d=identicon&r=PG&f=1", "display_name": "Mitro", "link": "https://stackoverflow.com/users/11016490/mitro"}, "is_accepted": true, "score": 0, "last_activity_date": 1559172579, "creation_date": 1559172579, "answer_id": 56369785, "question_id": 56369412, "link": "https://stackoverflow.com/questions/56369412/call-a-js-function-on-an-html-snippet-rendered-using-ngbindhtml/56369785#56369785", "title": "Call a js function on an html snippet rendered using ngBindHtml", "body": "<p>Try calling your function inside $timeout:</p>\n\n<pre><code>$timeout(function() {\n    // your code\n});\n</code></pre>\n\n<p>$timeout will add a new event to the browser event queue where the rendering process is in.</p>\n"}], "owner": {"reputation": 23, "user_id": 3758146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f0b71e914417ed782b513ee3ed36894?s=128&d=identicon&r=PG&f=1", "display_name": "altair2195", "link": "https://stackoverflow.com/users/3758146/altair2195"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 56369785, "answer_count": 1, "score": 2, "last_activity_date": 1559172579, "creation_date": 1559169480, "last_edit_date": 1559170317, "question_id": 56369412, "link": "https://stackoverflow.com/questions/56369412/call-a-js-function-on-an-html-snippet-rendered-using-ngbindhtml", "title": "Call a js function on an html snippet rendered using ngBindHtml", "body": "<p>I'm fetching some html content that I want to display in an Angular widget. I'm using ng-bind-html to display this html content in the controller. Once this html content has rendered I want to call a js function that can modify some parts of this html content(Hide/show using classes in the content). There is no trigger for this function I want to call this function as soon as the html is rendered.</p>\n\n<p>I tried calling the js function after the ngBindHtml object is initialized which no surprise doesn't work.</p>\n\n<p>Is there some way to find out(an event or something like that) when the html content has rendered.</p>\n\n<p>I don't have any sharable code right now.</p>\n"}, {"tags": ["javascript", "mongodb", "express", "mongoose"], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 11439564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70acead1b73d713fa62cffecaf5e491f?s=128&d=identicon&r=PG&f=1", "display_name": "Normoney123", "link": "https://stackoverflow.com/users/11439564/normoney123"}, "edited": false, "score": 1, "creation_date": 1559170056, "post_id": 56369451, "comment_id": 99341491, "body": "I feel dumb, Thank you!"}, {"owner": {"reputation": 690, "user_id": 3877650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3MNMy.jpg?s=128&g=1", "display_name": "Alexandros Panagiotakis", "link": "https://stackoverflow.com/users/3877650/alexandros-panagiotakis"}, "reply_to_user": {"reputation": 59, "user_id": 11439564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70acead1b73d713fa62cffecaf5e491f?s=128&d=identicon&r=PG&f=1", "display_name": "Normoney123", "link": "https://stackoverflow.com/users/11439564/normoney123"}, "edited": false, "score": 0, "creation_date": 1559170170, "post_id": 56369451, "comment_id": 99341523, "body": "@Normoney123 No worries. Everyone gets stuck at some point ;)"}], "tags": [], "owner": {"reputation": 690, "user_id": 3877650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3MNMy.jpg?s=128&g=1", "display_name": "Alexandros Panagiotakis", "link": "https://stackoverflow.com/users/3877650/alexandros-panagiotakis"}, "is_accepted": false, "score": 1, "last_activity_date": 1559169825, "creation_date": 1559169825, "answer_id": 56369451, "question_id": 56369402, "link": "https://stackoverflow.com/questions/56369402/controller-function-next-is-not-defined-error/56369451#56369451", "title": "controller function, next is not defined error", "body": "<p><code>next</code> is the 3rd parameter to any middleware. So the code should be:</p>\n\n<pre><code>exports.addAccount = (req, res, next) =&gt; {\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 11439564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70acead1b73d713fa62cffecaf5e491f?s=128&d=identicon&r=PG&f=1", "display_name": "Normoney123", "link": "https://stackoverflow.com/users/11439564/normoney123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559169825, "creation_date": 1559169414, "question_id": 56369402, "link": "https://stackoverflow.com/questions/56369402/controller-function-next-is-not-defined-error", "title": "controller function, next is not defined error", "body": "<p>My code was working just fine, but out of no where I started getting this error.\nReferenceError: next is not defined.\nNo clue how I started getting it as I didn't change this function at all. </p>\n\n<pre><code>const Accounts = require('../data/accounts.model')\n\nexports.addAccount = (req, res) =&gt; {\n    const newAccount = new Accounts({\n        Username: req.body.Username,\n        Password: req.body.Password,\n        AccountType: req.body.AccountType,\n        Email: req.body.Email,\n        Age: req.body.Age,\n        Question1A: req.body.Question1A,\n        Question2A: req.body.Question2A,\n        Question3A: req.body.Question3A,\n    });\n\n    newAccount.save((err) =&gt; {\n        if (err){\n             return next(err);\n  //error happens here^\n        }\n        res.send('Account created Successfully');\n    });\n};\n</code></pre>\n"}, {"tags": ["javascript", "bulma", "buefy"], "answers": [{"tags": [], "owner": {"reputation": 319, "user_id": 3676906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf32e60697e2c0dd6df57e080b240efe?s=128&d=identicon&r=PG", "display_name": "toakleaf", "link": "https://stackoverflow.com/users/3676906/toakleaf"}, "is_accepted": true, "score": 5, "last_activity_date": 1559711872, "creation_date": 1559711872, "answer_id": 56454598, "question_id": 56369356, "link": "https://stackoverflow.com/questions/56369356/how-to-trigger-method-when-clicking-a-buefy-tabs/56454598#56454598", "title": "How to trigger method when clicking a Buefy tabs?", "body": "<p>As with all Vue event handlers, the @input event handler will automatically pass the event data to your methods. In this case, as the <a href=\"https://buefy.org/documentation/tabs/\" rel=\"noreferrer\">docs</a> state, that event data is simply the index of the button tab clicked.</p>\n\n<pre><code>&lt;template&gt;\n    &lt;b-tabs type=\"is-toggle\" expanded @input=\"doAlert\"&gt;\n        &lt;b-tab-item label=\"Pictures\" icon=\"google-photos\"&gt;&lt;/b-tab-item&gt;\n        &lt;b-tab-item label=\"Music\" icon=\"library-music\"&gt;&lt;/b-tab-item&gt;\n        &lt;b-tab-item label=\"Videos\" icon=\"video\"&gt;&lt;/b-tab-item&gt;\n    &lt;/b-tabs&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\n    export default {\n        methods: {\n            doAlert: function(index) {\n                if (index === 2) alert('Index 2 is the third button');\n            }\n        }\n    }\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 1901, "user_id": 7553746, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c33eb4018f5c310329504e451e6aa361?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny John Boy", "link": "https://stackoverflow.com/users/7553746/johnny-john-boy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1544, "favorite_count": 0, "accepted_answer_id": 56454598, "answer_count": 1, "score": 2, "last_activity_date": 1559711872, "creation_date": 1559169051, "question_id": 56369356, "link": "https://stackoverflow.com/questions/56369356/how-to-trigger-method-when-clicking-a-buefy-tabs", "title": "How to trigger method when clicking a Buefy tabs?", "body": "<p>The question says it all but I have 3 tabs in Buefy, the first two (summary and details) I have got covered and work correctly as expected but the third tab is a logout button so when I click it I want to fire a method to alert(\"\").</p>\n\n<p>My buefy tabs are just from the standard page <a href=\"https://buefy.org/documentation/tabs\" rel=\"nofollow noreferrer\">here</a> and look like:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;b-tabs type=\"is-toggle\" expanded&gt;\r\n        &lt;b-tab-item label=\"Pictures\" icon=\"google-photos\"&gt;&lt;/b-tab-item&gt;\r\n        &lt;b-tab-item label=\"Music\" icon=\"library-music\"&gt;&lt;/b-tab-item&gt;\r\n        &lt;b-tab-item label=\"Logout\" icon=\"logout\"&gt;&lt;/b-tab-item&gt;\r\n&lt;/b-tabs&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I have tried putting an on-click into the b-tab-item but that didn't work and the docs say there is an event:</p>\n\n<pre><code>input   Triggers when tab is clicked    index: Number\n</code></pre>\n\n<p>But I don't know how to capture that the third tab has been clicked to fire some code.  </p>\n"}, {"tags": ["javascript", "node.js"], "comments": [{"owner": {"reputation": 7109, "user_id": 1068446, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/F5uzH.jpg?s=128&g=1", "display_name": "dwjohnston", "link": "https://stackoverflow.com/users/1068446/dwjohnston"}, "edited": false, "score": 2, "creation_date": 1559169836, "post_id": 56369340, "comment_id": 99341430, "body": "It&#39;s really hard to see what you&#39;re asking here. The example doesn&#39;t look anything like the first example.   In any case, if the <code>requestOption</code> depends on something that is the result of <code>someFinalFunc</code> then you have to put it inside the callback. (Or use async/await)."}], "answers": [{"tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": false, "score": 0, "last_activity_date": 1559170181, "creation_date": 1559170181, "answer_id": 56369492, "question_id": 56369340, "link": "https://stackoverflow.com/questions/56369340/empty-variable-due-to-asynchronous-callback/56369492#56369492", "title": "Empty variable due to asynchronous callback", "body": "<p>If you don't want to deal with promises and callbacks then mark your function as async and then await your result, it is syntactic sugar that magically wraps promises for you. When dealing with an async function like a post some will have to wait for the response.</p>\n\n<p><a href=\"https://javascript.info/async-await\" rel=\"nofollow noreferrer\">https://javascript.info/async-await</a></p>\n"}, {"tags": [], "owner": {"reputation": 272, "user_id": 11016490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5317083244012ab8cbfb04359db9d78?s=128&d=identicon&r=PG&f=1", "display_name": "Mitro", "link": "https://stackoverflow.com/users/11016490/mitro"}, "is_accepted": false, "score": 0, "last_activity_date": 1559170438, "creation_date": 1559170438, "answer_id": 56369525, "question_id": 56369340, "link": "https://stackoverflow.com/questions/56369340/empty-variable-due-to-asynchronous-callback/56369525#56369525", "title": "Empty variable due to asynchronous callback", "body": "<p>You should include your request logic inside the success callback. In your case, your code with request and request options are executed before setting the value of the token, because auth function is asynchronous and the server need some time to respond.</p>\n"}, {"tags": [], "owner": {"reputation": 440, "user_id": 2117502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c55da39992d9eb8fa8ede43aa69f8806?s=128&d=identicon&r=PG", "display_name": "msg45f", "link": "https://stackoverflow.com/users/2117502/msg45f"}, "is_accepted": false, "score": 0, "last_activity_date": 1559171988, "last_edit_date": 1559171988, "creation_date": 1559170732, "answer_id": 56369563, "question_id": 56369340, "link": "https://stackoverflow.com/questions/56369340/empty-variable-due-to-asynchronous-callback/56369563#56369563", "title": "Empty variable due to asynchronous callback", "body": "<p>Basic JavaScript will provide you with three primary options for handling asynchronous behavior.</p>\n\n<ol>\n<li><strong>Callback functions</strong> (what you're doing now)</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function callback() {\r\n    console.log('do this');\r\n    setTimeout(() =&gt; console.log('later do this'), 2000);\r\n}\r\ncallback();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<ol start=\"2\">\n<li><strong>Promises</strong> - Used to provide a more structured way of handling asynchronous behavior, and cleanup the <em>callback hell</em> that starts to form when there is a lot of asynchronous behavior being handled by callback functions.</li>\n</ol>\n\n<p>A promise is declared with a function with two function parameters - resolve and reject. Resolve is used to resolve the promise normally, with a payload as an argument, which then becomes available in a chained <code>.then( ... )</code> function. Reject can be used to resolve the promise exceptionally. See <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\" rel=\"nofollow noreferrer\">Mozilla docs on Promises</a> for further explanation and examples.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function asynchronousFunction() {\r\n  return new Promise( (resolve, reject) =&gt; {\r\n    setTimeout( () =&gt; {\r\n      return resolve('then do this');\r\n    }, 2000);\r\n  });\r\n}\r\n\r\nfunction promise() {\r\n  console.log('do this');\r\n  asynchronousFunction()\r\n    .then((data) =&gt; console.log(data));\r\n};\r\n\r\npromise();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<ol start=\"3\">\n<li><strong>Async/Await</strong> - Essentially syntactic sugar for promises that hides most of the promises code, which can complicate and crowd out internal logic.</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function asynchronousFunction() {\r\n  return new Promise( (resolve, reject) =&gt; {\r\n    setTimeout( () =&gt; {\r\n      return resolve('then do this');\r\n    }, 2000);\r\n  });\r\n}\r\n\r\n/**\r\n* async functions implicitly return promises with the return value being the resolved value\r\nawait keyword will implicitly unwrap the promise when it resolves and (to some degre) pause execution to until resolution\r\n*/\r\nasync function asyncFunction() {\r\n  console.log('do this');\r\n  console.log(await asynchronousFunction());\r\n};\r\n\r\nasyncFunction();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p>The skinny on it:</p>\n\n<ol>\n<li><p>Callbacks are okay for general purpose stuff, and under the hood this is how things really work. Understanding callbacks is important for understanding JavaScript. However, with a heavily asynchronous application, it can be very difficult to understand the order code executes in, because of the nested behavior.</p></li>\n<li><p>Promises solves the former problem, but adds its own layer of complexity to the code. You should be careful to use promises effectively to make the code more readable. If they are not used well, sometimes they can impede code readability. This is generally better structure than endless callbacks, but still is not nearly as readable and organized as synchronous code.</p></li>\n<li><p>Async/await is fundamentally promises, but hidden from the user. These tools can make your code much easier to read, but you need to fundamentally understand promises to really understand how it works. The big benefit here is that the code begins to look more like synchronous code and it makes it easier to focus on the internal logic rather than the asynchronous behavior.</p></li>\n</ol>\n"}], "owner": {"reputation": 745, "user_id": 1515686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8caaba1478e6bc1be63a2c234dbe08ae?s=128&d=identicon&r=PG", "display_name": "Tom-Oliver Heidel", "link": "https://stackoverflow.com/users/1515686/tom-oliver-heidel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1559204049, "creation_date": 1559168881, "last_edit_date": 1559204049, "question_id": 56369340, "link": "https://stackoverflow.com/questions/56369340/empty-variable-due-to-asynchronous-callback", "title": "Empty variable due to asynchronous callback", "body": "<p>There is some very simplified pseudo-ish code to understand the structure of my code.</p>\n\n<p>What would be a simple approach to solve my asynchronous callback dilemma.<br>\nThe token will be empty when it's used in requestOption. So the following usage of requestOption will not give any results due to the missing token.</p>\n\n<pre><code>var token = ''\nvar auth1 = someData\nvar auth2 = someFunc(auth1)\nvar auth3 = someOtherData\nvar auth4 = someOtherFunc(auth3)\nvar finalAuth = someFinalData\nvar finalAuth2 = finalAuth.someFinalFunc(auth4, cb)\n  cb.onSuccess(result)\n    token = result.getToken()\n\nvar requestOption = {\n  someData: ...,\n  'authToken': token,\n  someMoreData: ...\n}\nreq = request.post(requestOption)\n</code></pre>\n\n<p>There are many solutions and most of them includes using functions to some extend.<br>\nMaybe it is useful to modularize the authentication and processing the the requests in another file.  </p>\n\n<p>But I would like to keep it simple and not be dependant on something like this</p>\n\n<pre><code>var empty = ''\nvar data = 'xyz'\nauth(data, {\n    onSuccess: function(res) {\n        doSomething(res) \n    }\n})\n\nfunction doSomething(var) {\n // do something\n}\n</code></pre>\n\n<p>What I found so far couldn't help me without overcomplicating my code.</p>\n"}, {"tags": ["javascript", "svg", "move"], "comments": [{"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1559168843, "post_id": 56369306, "comment_id": 99341186, "body": "You could use an interpolation library, such as <a href=\"https://github.com/franciscop/ola\" rel=\"nofollow noreferrer\">ola</a>."}, {"owner": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "edited": false, "score": 0, "creation_date": 1559169306, "post_id": 56369306, "comment_id": 99341300, "body": "You should be using CSS for animations of this nature"}, {"owner": {"reputation": 193, "user_id": 10440916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/79XhK.jpg?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/10440916/justin"}, "edited": false, "score": 0, "creation_date": 1578342597, "post_id": 56369306, "comment_id": 105400513, "body": "did our answers below solve your issue?"}], "answers": [{"tags": [], "owner": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "is_accepted": false, "score": 0, "last_activity_date": 1559170299, "creation_date": 1559170299, "answer_id": 56369504, "question_id": 56369306, "link": "https://stackoverflow.com/questions/56369306/moving-randomly-svg-objects-using-vanilla-javascript/56369504#56369504", "title": "Moving randomly svg objects using vanilla javascript", "body": "<p>You need to build a loop to do that using \"vanilla\" javascript.</p>\n\n<p>A basic way to do that would be :</p>\n\n<pre><code>let fps = 60  // frames per second\n\nfunction loop(){\n   console.log('in loop')\n}\n\nwindow.setInterval(loop, 1000 / fps)\n</code></pre>\n\n<p>Then in the loop function move your svg elements as you'd like.</p>\n\n<p>Some libraries help a lot with this. A few coming to mind are SVG.js, two.js, velocity.js...</p>\n"}, {"tags": [], "owner": {"reputation": 193, "user_id": 10440916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/79XhK.jpg?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/10440916/justin"}, "is_accepted": false, "score": 0, "last_activity_date": 1559171169, "creation_date": 1559171169, "answer_id": 56369616, "question_id": 56369306, "link": "https://stackoverflow.com/questions/56369306/moving-randomly-svg-objects-using-vanilla-javascript/56369616#56369616", "title": "Moving randomly svg objects using vanilla javascript", "body": "<p>You can animate elements or classes like this:</p>\n\n<pre><code>circle, my-class {\n  animation: move 2s infinite alternate;\n}\n\n@keyframes move {\n  0% {\n    transform: translateX(50px);\n  }\n  100% {\n    transform: translateX(0px);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 9808721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4005c8e81756d75e82c927f1526a5ab2?s=128&d=identicon&r=PG&f=1", "display_name": "Edy", "link": "https://stackoverflow.com/users/9808721/edy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 479, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1559171169, "creation_date": 1559168606, "last_edit_date": 1559169829, "question_id": 56369306, "link": "https://stackoverflow.com/questions/56369306/moving-randomly-svg-objects-using-vanilla-javascript", "title": "Moving randomly svg objects using vanilla javascript", "body": "<p>I want to move my svg objects randomly using vanilla javascript,\ni make it to move element by adding value to cx by 10px but it likes it is jumping, is there any other way to move it smoothly, keyframes does not work. and javascript is used inside svg file, i need to achive effect like bouncing balls just with these elements\nEffect like this one: \n<a href=\"https://codepen.io/pintergabor/pen/DywHc\" rel=\"nofollow noreferrer\">https://codepen.io/pintergabor/pen/DywHc</a></p>\n\n<p>This should be used as background picture.</p>\n\n<pre><code>&lt;svg id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 500 500\"&gt;\n&lt;defs&gt;\n    &lt;style&gt;\n        .cls-1 {\n            fill: url(#linear-gradient);\n        }\n\n        .cls-2 {\n            fill: url(#linear-gradient-2);\n        }\n\n        .cls-3 {\n            fill: url(#linear-gradient-3);\n        }\n        #circle{\n            animate: circle 4s infinite linear;\n        }\n        @keyframes circle{\n            to{\n                transform: translate(55rem, 15px);\n            }\n        }\n    &lt;/style&gt;\n\n\n    &lt;linearGradient id=\"linear-gradient\" x1=\"61.83\" y1=\"217.56\" x2=\"61.83\" y2=\"256.64\" gradientUnits=\"userSpaceOnUse\"&gt;\n        &lt;stop offset=\"0\" stop-color=\"#9dcb3b\" /&gt;\n        &lt;stop offset=\"1\" stop-color=\"#aa2d23\" /&gt;\n    &lt;/linearGradient&gt;\n    &lt;linearGradient id=\"linear-gradient-2\" x1=\"316.43\" y1=\"64.69\" x2=\"316.43\" y2=\"98.31\" xlink:href=\"#linear-gradient\" /&gt;\n    &lt;linearGradient id=\"linear-gradient-3\" x1=\"321.31\" y1=\"319.11\" x2=\"321.31\" y2=\"396.98\" xlink:href=\"#linear-gradient\" /&gt;\n&lt;/defs&gt;\n&lt;title&gt;elements&lt;/title&gt;\n&lt;circle id=\"circle\" class=\"cls-1\" cx=\"61.83\" cy=\"237.1\" r=\"19.54\" /&gt;\n&lt;polygon id=\"triangle\" class=\"cls-2\" points=\"316.43 64.69 297.01 98.31 335.84 98.31 316.43 64.69\" /&gt;\n&lt;path id=\"plus\" class=\"cls-3\" d=\"M323.9,397h-5.18V319.11h5.18Zm36.35-36.35v-5.17H282.37v5.17Z\" /&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["javascript", "npm", "parceljs"], "answers": [{"tags": [], "owner": {"reputation": 6933, "user_id": 8583669, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4iGwt.jpg?s=128&g=1", "display_name": "johannchopin", "link": "https://stackoverflow.com/users/8583669/johannchopin"}, "is_accepted": true, "score": 0, "last_activity_date": 1559342557, "creation_date": 1559342557, "answer_id": 56402434, "question_id": 56369297, "link": "https://stackoverflow.com/questions/56369297/parceljs-add-extra-before-all-files-link/56402434#56402434", "title": "ParcelJs add extra &quot;/&quot; before all files link", "body": "<p>To make all links relative (with no <code>/</code>) you will need to add an extra parameter <code>--public-url</code> with the value <code>./</code> when you run <strong>ParcelJs</strong> like this :</p>\n\n<p><code>parcel index.html  --public-url ./</code></p>\n"}], "owner": {"reputation": 6933, "user_id": 8583669, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4iGwt.jpg?s=128&g=1", "display_name": "johannchopin", "link": "https://stackoverflow.com/users/8583669/johannchopin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 56402434, "answer_count": 1, "score": 0, "last_activity_date": 1559342557, "creation_date": 1559168552, "last_edit_date": 1559214904, "question_id": 56369297, "link": "https://stackoverflow.com/questions/56369297/parceljs-add-extra-before-all-files-link", "title": "ParcelJs add extra &quot;/&quot; before all files link", "body": "<p>I'm actually working on a ts project with ParcelJs. When I build my project and open it on the ParcelJs server on <code>http://localhost:1234/</code> everything work great. But when I try to open it outside this server all my files are not found because there is an extra <code>/</code> at the beginning of each file link.</p>\n\n<p>For example ParcelJs give in my index.html links like this that do not work:</p>\n\n<p><code>&lt;script src=\"/src.4254afb6.js\"&gt;&lt;/script&gt;</code></p>\n\n<p>But when I remove this <code>/</code> like this everything is working as expected:</p>\n\n<p><code>&lt;script src=\"src.4254afb6.js\"&gt;&lt;/script&gt;</code></p>\n\n<p>So what have I to do to fix it ?</p>\n"}, {"tags": ["javascript", "regex", "regex-lookarounds", "regex-group", "regex-greedy"], "comments": [{"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1559168154, "post_id": 56369234, "comment_id": 99341010, "body": "When using code in a question, please put all code into code blocks: usually, indent all code lines by 4 spaces, or surround the code block with 3 backticks (<code>```</code>). For inline code on the same line as non-code, surround the code with a single backtick on each side (<code>`</code>)."}, {"owner": {"reputation": 6218, "user_id": 731416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZdZs.png?s=128&g=1", "display_name": "Todd Chaffee", "link": "https://stackoverflow.com/users/731416/todd-chaffee"}, "edited": false, "score": 0, "creation_date": 1559168280, "post_id": 56369234, "comment_id": 99341049, "body": "You&#39;re probably better off doing this with a lexer + parser. But someone will eventually be able to help you with the regex."}, {"owner": {"reputation": 1623, "user_id": 3263719, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a3aff3452a5b060165118cd3a18f5e54?s=128&d=identicon&r=PG&f=1", "display_name": "c1moore", "link": "https://stackoverflow.com/users/3263719/c1moore"}, "edited": false, "score": 0, "creation_date": 1559168438, "post_id": 56369234, "comment_id": 99341083, "body": "Lexer+parser may not be necessary.  This is simple enough to model with a simple state machine, but I agree that a regex probably isn&#39;t the proper solution for this."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1559168461, "post_id": 56369234, "comment_id": 99341089, "body": "It&#39;s not necessary to use both <code>\\w</code> and <code>\\d</code>, since digits are included in <code>\\w</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1559168607, "post_id": 56369234, "comment_id": 99341122, "body": "When you say &quot;characters&quot; I think you mean &quot;letters&quot;? &quot;characters&quot; means any type of character."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1559168729, "post_id": 56369234, "comment_id": 99341153, "body": "It&#39;s not matching because of the apostrophe in <code>Women&#39;s Large</code>. That&#39;s not a letter, digit, space, or quotation mark."}, {"owner": {"reputation": 1623, "user_id": 3263719, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a3aff3452a5b060165118cd3a18f5e54?s=128&d=identicon&r=PG&f=1", "display_name": "c1moore", "link": "https://stackoverflow.com/users/3263719/c1moore"}, "edited": false, "score": 0, "creation_date": 1559170218, "post_id": 56369234, "comment_id": 99341535, "body": "After playing around with this a bit, you&#39;ll definitely want a state machine <i>or</i> you could make the input more specific (e.g. always require quotes around value that appears after the quotes).  As is, you&#39;re language is not deterministic enough for a regex."}], "answers": [{"comments": [{"owner": {"reputation": 1623, "user_id": 3263719, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a3aff3452a5b060165118cd3a18f5e54?s=128&d=identicon&r=PG&f=1", "display_name": "c1moore", "link": "https://stackoverflow.com/users/3263719/c1moore"}, "edited": false, "score": 0, "creation_date": 1559170046, "post_id": 56369360, "comment_id": 99341489, "body": "This solution won&#39;t work even with the example that was provided (even taking out the apostrophe).  <code>$</code> means the end of the string, so you specify that AND/OR is at the end of the string.  Also, why do you have <code>(A|AN|AND|O|OR)</code>?  That will match invalid operators (<code>AN</code>, <code>A</code>, <code>O</code>)."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 2, "last_activity_date": 1559169081, "creation_date": 1559169081, "answer_id": 56369360, "question_id": 56369234, "link": "https://stackoverflow.com/questions/56369234/regex-for-an-autocomplete-feature/56369360#56369360", "title": "RegEx for an autocomplete feature", "body": "<p>Change <code>[\\w]*</code> to something that just matches <code>AND</code>, <code>OR</code>, or one of their prefixes. Then you can make it optional with <code>?</code></p>\n\n<pre><code>[\\w\\s\"]+: *[\\w\\s\"]+ (A|AN|AND|O|OR)?$\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/MqjmQz/2\" rel=\"nofollow noreferrer\">DEMO</a></p>\n\n<p>Note that <code>Size: Women's Large</code> won't match this because the apostrophe isn't in <code>\\w</code>; that only matches letters, digits, and underscore. You'll need to add any other punctuation characters that you want to allow in these fields to the character set.</p>\n"}, {"comments": [{"owner": {"reputation": 1623, "user_id": 3263719, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a3aff3452a5b060165118cd3a18f5e54?s=128&d=identicon&r=PG&f=1", "display_name": "c1moore", "link": "https://stackoverflow.com/users/3263719/c1moore"}, "edited": false, "score": 0, "creation_date": 1559170296, "post_id": 56369490, "comment_id": 99341555, "body": "This doesn&#39;t properly match the example he provided: <a href=\"https://regex101.com/r/g5EMqM/1\" rel=\"nofollow noreferrer\">regex101.com/r/g5EMqM/1</a>"}, {"owner": {"reputation": 104, "user_id": 10567780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rLeYQ.png?s=128&g=1", "display_name": "yaas", "link": "https://stackoverflow.com/users/10567780/yaas"}, "reply_to_user": {"reputation": 1623, "user_id": 3263719, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a3aff3452a5b060165118cd3a18f5e54?s=128&d=identicon&r=PG&f=1", "display_name": "c1moore", "link": "https://stackoverflow.com/users/3263719/c1moore"}, "edited": false, "score": 0, "creation_date": 1559172597, "post_id": 56369490, "comment_id": 99342050, "body": "@c1moore I have fixed it, thanks! It turns out, the previous regex just needed an extra space at the end, but this one is <b>much</b> better. <a href=\"https://regex101.com/r/2THj9F/4/tests\" rel=\"nofollow noreferrer\">regex101.com/r/2THj9F/4/tests</a>"}], "tags": [], "owner": {"reputation": 104, "user_id": 10567780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rLeYQ.png?s=128&g=1", "display_name": "yaas", "link": "https://stackoverflow.com/users/10567780/yaas"}, "is_accepted": false, "score": 1, "last_activity_date": 1559173459, "last_edit_date": 1559173459, "creation_date": 1559170169, "answer_id": 56369490, "question_id": 56369234, "link": "https://stackoverflow.com/questions/56369234/regex-for-an-autocomplete-feature/56369490#56369490", "title": "RegEx for an autocomplete feature", "body": "<p>Edit: this is the final one, check the unit tests <a href=\"https://regex101.com/r/2THj9F/5/tests\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const regex = /(((\"[\\w\\s\"'']+(?=\"\\b))\"|[\\w\"'']+):\\s?((\"[\\w\\s\"'']+(?=\"\\b))\"|[\\w\"'']+)\\s(AND|OR)(?=\\b\\s))+/\n</code></pre>\n\n<p>That monstrosity should match (<code>NOTE: QUOTED KEYS/VALUES MUST BE DOUBLE QUOTED</code>): </p>\n\n<pre><code>Color: Blue AND \"Size5\":\"Women's Large\"\n\"weird KEy\":regularvalue OR otherKey: \"quoted value\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1623, "user_id": 3263719, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a3aff3452a5b060165118cd3a18f5e54?s=128&d=identicon&r=PG&f=1", "display_name": "c1moore", "link": "https://stackoverflow.com/users/3263719/c1moore"}, "is_accepted": false, "score": 0, "last_activity_date": 1559171166, "last_edit_date": 1559171166, "creation_date": 1559170705, "answer_id": 56369560, "question_id": 56369234, "link": "https://stackoverflow.com/questions/56369234/regex-for-an-autocomplete-feature/56369560#56369560", "title": "RegEx for an autocomplete feature", "body": "<p>Is as, your language is not deterministic enough to be properly modeled with a regex.  That being said, there are 2 approaches you can take:</p>\n\n<ol>\n<li>Require all values (the stuff after a <code>:</code> and before an operator) to be enclosed in quotes</li>\n<li>Build a simple state machine that can parse the data more intelligently.  (Google Finite State Machine Parser)</li>\n</ol>\n\n<p>If you choose to use the first method, you can use the following regex:</p>\n\n<pre><code>^((\"?[\\w\\s]+\"?): ?(\"[\\w\\s']+\")( (AND|OR) )?)+$\n</code></pre>\n\n<p>I would explain the different components, but <a href=\"https://regex101.com/r/2THj9F/2\" rel=\"nofollow noreferrer\">regex101</a> already does for me with really good visuals and detail.</p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 10641766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/258b41c8a95122351839a7773f099866?s=128&d=identicon&r=PG&f=1", "display_name": "Sean San", "link": "https://stackoverflow.com/users/10641766/sean-san"}, "edited": false, "score": 0, "creation_date": 1559235361, "post_id": 56370275, "comment_id": 99365324, "body": "Wow! This is amazing. Thank you for taking the time to write out such a complex expression!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "reply_to_user": {"reputation": 53, "user_id": 10641766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/258b41c8a95122351839a7773f099866?s=128&d=identicon&r=PG&f=1", "display_name": "Sean San", "link": "https://stackoverflow.com/users/10641766/sean-san"}, "edited": false, "score": 0, "creation_date": 1559250756, "post_id": 56370275, "comment_id": 99371462, "body": "@SeanSan - Not complex at all."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 1, "last_activity_date": 1559177345, "creation_date": 1559177345, "answer_id": 56370275, "question_id": 56369234, "link": "https://stackoverflow.com/questions/56369234/regex-for-an-autocomplete-feature/56370275#56370275", "title": "RegEx for an autocomplete feature", "body": "<p>Here you go, try this out  </p>\n\n<pre><code>^(?:\"[^\"]*\"|[^\\s:]+):[ ](?:\"[^\"]*\"|[^\\s:]+)[ ](?:A(?:N(?:D(?:[ ](*SKIP)(?!))?)?)?|O(?:R(?:[ ](*SKIP)(?!))?)?)?\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/neUQ0g/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/neUQ0g/1</a></p>\n\n<p>Explained  </p>\n\n<pre><code> ^                             # BOS\n (?:                           # Attribute\n      \"\n      [^\"]* \n      \"\n   |  \n      [^\\s:]+ \n )\n :\n [ ] \n (?:                           # Value\n      \"\n      [^\"]* \n      \"\n   |  \n      [^\\s:]+ \n )\n [ ]                           # Start matching after Attribute: Value + space\n (?:                           # Operator\n      A\n      (?:\n           N\n           (?:\n                D \n                (?:                           # Stop matching after 'AND '\n                     [ ] \n                     (*SKIP) \n                     (?!)\n                )?\n           )?\n      )?\n   |  \n      O \n      (?:\n           R \n           (?:                           # Stop matching after 'OR '\n                [ ] \n                (*SKIP)                    \n                (?!)\n           )?\n      )?\n )?\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 10641766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/258b41c8a95122351839a7773f099866?s=128&d=identicon&r=PG&f=1", "display_name": "Sean San", "link": "https://stackoverflow.com/users/10641766/sean-san"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "answer_count": 4, "score": 4, "last_activity_date": 1559181696, "creation_date": 1559168086, "last_edit_date": 1559181696, "question_id": 56369234, "link": "https://stackoverflow.com/questions/56369234/regex-for-an-autocomplete-feature", "title": "RegEx for an autocomplete feature", "body": "<p>I am writing a search bar with an autocomplete feature that is hooked up to an endpoint. I am using regex to determine the \"context\" that I am in inside of the query I type in the search bar. The three contexts are \"attribute,\" \"value,\" and \"operator.\" The two operators that are allowed are \"AND\" and \"OR.\" Below is an example of an example query.</p>\n\n<blockquote>\n  <p>Color: Blue AND Size: \"Women's Large\" (&lt;-- multi-word values or attribute names are surrounded by quotation marks)</p>\n</blockquote>\n\n<p>I need my regex to match after you put a space after Blue, and if the user begins type \"A/AN/AND/O/OR\", I need it to match. Once they have put a space after the operator, I need it to stop matching.</p>\n\n<p>This is the expression I have come up with. </p>\n\n<pre><code>const contextIsOperator = /[\\w\\d\\s\"]+: *[\\w\\s\\d\"]+ [\\w]*$/\n</code></pre>\n\n<p>It matches once I put a space after \"Blue,\" but matches for everything I put after that. If I replace the last <code>*</code> in the expression with a +, it works when I put a space after \"Blue\" <b>and</b> start manually typing one of the operators, but not if I just have a space after \"Blue.\"</p>\n\n<p>The pattern I have in my head written in words is:</p>\n\n<ol>\n<li>group of one or more characters/digits/spaces/quotation marks</li>\n<li>followed by a colon </li>\n<li>followed by an optional space</li>\n<li>followed by another group of one or more characters/digits/space/quotation marks</li>\n<li>followed by a space (after the value)</li>\n<li>followed by one or more characters (this is the operator)</li>\n</ol>\n\n<p>How do I solve this problem? </p>\n"}, {"tags": ["javascript", "reactjs", "momentjs"], "answers": [{"tags": [], "owner": {"reputation": 3259, "user_id": 2666042, "user_type": "registered", "profile_image": "https://graph.facebook.com/1374514750/picture?type=large", "display_name": "Arnold Gandarillas", "link": "https://stackoverflow.com/users/2666042/arnold-gandarillas"}, "is_accepted": true, "score": 1, "last_activity_date": 1559168731, "creation_date": 1559168731, "answer_id": 56369322, "question_id": 56369193, "link": "https://stackoverflow.com/questions/56369193/how-can-i-convert-the-sum-of-minutes-hours-in-the-timelite-js-or-moment-js/56369322#56369322", "title": "How can I convert the sum of minutes, hours in the &#39;timelite.js&#39; or &#39;moment.js&#39;?", "body": "<p>Maybe could be easier if you just format the time.</p>\n\n<pre><code>const formatTime = (time) =&gt; {\n  const [hour, minute, sec] = time.split(':')\n  return `${hour} h ${minute} min ${sec} sec`\n}\n\nconst time = '25:35:30'\n\nconsole.log(formatTime(time))\n\n// 25 h 35 min 30 sec\n</code></pre>\n\n<p>This is just a simple example. To achieve what you want you need to put some more logic, but yeah it's a good start.</p>\n"}, {"comments": [{"owner": {"reputation": 3259, "user_id": 2666042, "user_type": "registered", "profile_image": "https://graph.facebook.com/1374514750/picture?type=large", "display_name": "Arnold Gandarillas", "link": "https://stackoverflow.com/users/2666042/arnold-gandarillas"}, "edited": false, "score": 0, "creation_date": 1561152836, "post_id": 56587930, "comment_id": 99984563, "body": "if the some response drives you to the answer you should mark it as correct"}], "tags": [], "owner": {"reputation": 1251, "user_id": 9974904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d183b6c27e1754f42d2457dc787580e?s=128&d=identicon&r=PG&f=1", "display_name": "Umbro", "link": "https://stackoverflow.com/users/9974904/umbro"}, "is_accepted": false, "score": 0, "last_activity_date": 1560456660, "creation_date": 1560456660, "answer_id": 56587930, "question_id": 56369193, "link": "https://stackoverflow.com/questions/56369193/how-can-i-convert-the-sum-of-minutes-hours-in-the-timelite-js-or-moment-js/56587930#56587930", "title": "How can I convert the sum of minutes, hours in the &#39;timelite.js&#39; or &#39;moment.js&#39;?", "body": "<pre><code>const convert = (time) =&gt; {\n    const [hour, minute, sec] = time.split(':');\n\n    if (hour !== \"00\") {\n      return `${hour} h ${minute} m ${sec} s`;\n    }\n\n    if (minute !== \"00\") {\n      return `${minute} m ${sec} s`;\n    }\n\n    return `${sec} s`;\n  }\n\n  console.log(convert('00:30:00');\n\n//30 min 00s\n</code></pre>\n"}], "owner": {"reputation": 1251, "user_id": 9974904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d183b6c27e1754f42d2457dc787580e?s=128&d=identicon&r=PG&f=1", "display_name": "Umbro", "link": "https://stackoverflow.com/users/9974904/umbro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 56369322, "answer_count": 2, "score": 0, "last_activity_date": 1560456660, "creation_date": 1559167840, "question_id": 56369193, "link": "https://stackoverflow.com/questions/56369193/how-can-i-convert-the-sum-of-minutes-hours-in-the-timelite-js-or-moment-js", "title": "How can I convert the sum of minutes, hours in the &#39;timelite.js&#39; or &#39;moment.js&#39;?", "body": "<p>I have array <code>let times = ['04:20:10', '21:15:10']</code>. I use method add:<br>\n<code>let time1 = add([times])</code>. Next I use method str: <code>str([time1])</code>. I kept \n<code>25:35:30</code>. I would like to receive the following result: <code>25h 35 min 30 sec</code>. If the sum would come in at <code>30:00:00</code> I would like to receive the result <code>30h</code>. In the case of the sum of <code>00:30:00</code> I would like to receive a result of <code>30 min</code>. In the case of <code>00:00:20</code> - the result <code>20 sec</code>. How to get such a result in the 'timelite.js' or 'moment.js' library?</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1559167965, "post_id": 56369163, "comment_id": 99340958, "body": "I would re-read your else branch, what do you expect <code>textContent</code> of  a string would be? Depending on where your s01...s10 is defined you might want to get it with <code>document.querySelector(&#39;#&#39; + num)</code> or something similar? Or are they variable names?"}, {"owner": {"reputation": 3, "user_id": 10724731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47ccae15de420d30aaf1e5dade46771?s=128&d=identicon&r=PG", "display_name": "Rachel Irene Lunan", "link": "https://stackoverflow.com/users/10724731/rachel-irene-lunan"}, "reply_to_user": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1559168079, "post_id": 56369163, "comment_id": 99340988, "body": "so, for example, if s06.textContent is &quot;Kevin,&quot; that&#39;s what I want to be returned. The else branch is definitely where my confusion lies."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1559168104, "post_id": 56369163, "comment_id": 99340994, "body": "@Icepickle What you&#39;re missing is the element IDs automatically become global variables."}, {"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559168155, "post_id": 56369163, "comment_id": 99341011, "body": "@Barmar then shouldn&#39;t your response be <code>global[num].textContent</code>? :)"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559168192, "post_id": 56369163, "comment_id": 99341025, "body": "No, because I consider it poor style to depend on that, and <code>document.getElementById()</code> is the idiomatic way."}, {"owner": {"reputation": 3, "user_id": 10724731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47ccae15de420d30aaf1e5dade46771?s=128&d=identicon&r=PG", "display_name": "Rachel Irene Lunan", "link": "https://stackoverflow.com/users/10724731/rachel-irene-lunan"}, "edited": false, "score": 0, "creation_date": 1559168196, "post_id": 56369163, "comment_id": 99341028, "body": "the IDs are defined within the html"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1559168233, "post_id": 56369163, "comment_id": 99341039, "body": "@Icepickle BTW, it would be <code>window[num]</code>"}, {"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559168236, "post_id": 56369163, "comment_id": 99341041, "body": "@Barmar that&#39;s fine, I just wanted to help the OP think critically about the code written :)"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10724731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47ccae15de420d30aaf1e5dade46771?s=128&d=identicon&r=PG", "display_name": "Rachel Irene Lunan", "link": "https://stackoverflow.com/users/10724731/rachel-irene-lunan"}, "edited": false, "score": 0, "creation_date": 1559168344, "post_id": 56369231, "comment_id": 99341063, "body": "Thank you, that makes sense!"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1559168368, "last_edit_date": 1559168368, "creation_date": 1559168067, "answer_id": 56369231, "question_id": 56369163, "link": "https://stackoverflow.com/questions/56369163/is-it-possible-to-convert-a-string-into-a-node/56369231#56369231", "title": "Is it possible to convert a string into a node?", "body": "<p>When you write</p>\n\n<pre><code>num = (\"s0\" + num);\n</code></pre>\n\n<p>you're just creating a string, it doesn't try to use that as the name of a variable. So it doesn't access the node in the variable <code>s06</code>.</p>\n\n<p>Use <code>document.getElementById()</code> to get the element with a specific ID, rather than trying to access it as a variable. You can use string concatenation to create the argument.</p>\n\n<pre><code>var id = num &lt; 10 ? \"s0\" + num : \"s\" + num;\nvar element = document.getElementById(id);\nvar numb = element.textContent;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10724731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47ccae15de420d30aaf1e5dade46771?s=128&d=identicon&r=PG", "display_name": "Rachel Irene Lunan", "link": "https://stackoverflow.com/users/10724731/rachel-irene-lunan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 56369231, "answer_count": 1, "score": 0, "last_activity_date": 1559168368, "creation_date": 1559167675, "question_id": 56369163, "link": "https://stackoverflow.com/questions/56369163/is-it-possible-to-convert-a-string-into-a-node", "title": "Is it possible to convert a string into a node?", "body": "<p>I'm trying to create a random name generator from a set list of names (from 1-10). I have assigned an id to each name (from \"s01\" to \"s10\") and am trying to write some JavaScript to randomly choose one from the list. This is what I have so far:</p>\n\n<pre><code>if (action === 'who') {\n    console.log(\"who\");\n    let num = Math.floor((Math.random() * 10) + 1);\n    console.log(num);\n    if (num === 10) {\n        numb = s10.textContent;\n    } else {\n        num = (\"s0\"+num);\n        console.log(num);\n        numb = num.textContent;\n    }\nconsole.log(numb);\n</code></pre>\n\n<p>But I'm getting console.logs as \"undefined,\" unless the number generated was 10, and then it is fine.</p>\n\n<p>I am trying to convert what comes up as num into the id but I'm not sure how to do it.</p>\n"}, {"tags": ["javascript", "java", "drop-down-menu", "primefaces", "autocomplete"], "comments": [{"owner": {"reputation": 11893, "user_id": 4478047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OrZkC.jpg?s=128&g=1", "display_name": "Kukeltje", "link": "https://stackoverflow.com/users/4478047/kukeltje"}, "edited": false, "score": 0, "creation_date": 1559208295, "post_id": 56369088, "comment_id": 99351970, "body": "What is your PF version?"}, {"owner": {"reputation": 315, "user_id": 4199256, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PA4DD.jpg?s=128&g=1", "display_name": "Ramiro Arizpe", "link": "https://stackoverflow.com/users/4199256/ramiro-arizpe"}, "reply_to_user": {"reputation": 11893, "user_id": 4478047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OrZkC.jpg?s=128&g=1", "display_name": "Kukeltje", "link": "https://stackoverflow.com/users/4478047/kukeltje"}, "edited": false, "score": 0, "creation_date": 1559231980, "post_id": 56369088, "comment_id": 99363740, "body": "@Kukeltje 6.1.0"}, {"owner": {"reputation": 11893, "user_id": 4478047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OrZkC.jpg?s=128&g=1", "display_name": "Kukeltje", "link": "https://stackoverflow.com/users/4478047/kukeltje"}, "edited": false, "score": 0, "creation_date": 1559234399, "post_id": 56369088, "comment_id": 99364895, "body": "Create a  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and try with 6.2 or 7.0 please. IIRC, a fix was created in an in a later release. Check the issue list and releasenotes"}], "answers": [{"tags": [], "owner": {"reputation": 13288, "user_id": 880619, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hEbCx.jpg?s=128&g=1", "display_name": "Jasper de Vries", "link": "https://stackoverflow.com/users/880619/jasper-de-vries"}, "is_accepted": true, "score": 2, "last_activity_date": 1559816552, "last_edit_date": 1559816552, "creation_date": 1559298436, "answer_id": 56393333, "question_id": 56369088, "link": "https://stackoverflow.com/questions/56369088/primefaces-autocomplete-keep-selected-dropdown-value/56393333#56393333", "title": "Primefaces autocomplete keep selected dropdown value", "body": "<p>The trick is to simply include the current value at the top of the returned list. I do it like this:</p>\n\n<pre><code>public List&lt;T&gt; autoCompleteItems(final String query) {\n  List&lt;T&gt; results = ...; // Find results for the query\n  addBoundValue(Components.getCurrentComponent(), results);\n  return results;\n}\n\nprotected void addBoundValue(UIInput input, List&lt;T&gt; results) {\n  if (input.getValue() != null &amp;&amp; typeTclass.isAssignableFrom(input.getValue().getClass())) {\n    T bound = typeTclass.cast(input.getValue());\n    results.remove(bound); // If it's already in the list, remove it first\n    results.add(0, bound); // Add the value at the top of the list\n  }\n}\n</code></pre>\n\n<p>This code comes from a generic bean which uses the type of the list as a parameter (type is set in the constructor to <code>typeTclass</code>).</p>\n\n<p>Please note that I'm using <a href=\"http://omnifaces.org/\" rel=\"nofollow noreferrer\">OmniFaces</a> to get the <a href=\"http://omnifaces.org/docs/javadoc/3.3/org/omnifaces/util/Components.html#getCurrentComponent--\" rel=\"nofollow noreferrer\">current component</a>. It will get you the the <code>p:autoComplete</code> component, from which you can read the value.</p>\n\n<p>If you can't use OmniFaces, please read <a href=\"https://stackoverflow.com/questions/9126091/how-to-find-out-the-calling-component-in-the-getter-method\">How to find out the calling component in the getter method?</a></p>\n"}], "owner": {"reputation": 315, "user_id": 4199256, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PA4DD.jpg?s=128&g=1", "display_name": "Ramiro Arizpe", "link": "https://stackoverflow.com/users/4199256/ramiro-arizpe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 308, "favorite_count": 0, "accepted_answer_id": 56393333, "answer_count": 1, "score": 1, "last_activity_date": 1559816552, "creation_date": 1559167124, "last_edit_date": 1559176002, "question_id": 56369088, "link": "https://stackoverflow.com/questions/56369088/primefaces-autocomplete-keep-selected-dropdown-value", "title": "Primefaces autocomplete keep selected dropdown value", "body": "<p>I have a <strong>Primefaces autocomplete box</strong>, and have the requirement to <strong>keep the value of the dropdown list on the selected value</strong>, for example I have a list with 20 elements and I select the 10 element.</p>\n\n<p><a href=\"https://i.stack.imgur.com/cH7wl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cH7wl.png\" alt=\"enter image description here\"></a></p>\n\n<p>If I want to select another value when I select the dropdown <strong>It starts on the beginning of the list</strong>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/toDao.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/toDao.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is my primefaces code:</p>\n\n<pre><code>&lt;p:autoComplete id=\"transportLAvailable\" dropdown=\"true\"\n    value=\"#{remissionOrderReportController.selectedTLineFilter}\"\n    forceSelection=\"true\" requiredMessage=\"Some message\"\n    completeMethod=\"#{remissionOrderReportController.searchFromTLinesList}\"\n    var=\"transportFiltered\" itemLabel=\"#{transportFiltered.name}\"\n    itemValue=\"#{transportFiltered}\" converter=\"#{transportLineConverter}\"&gt;\n        &lt;p:ajax event=\"itemSelect\" process=\"@this\"\n        listener=\"#{remissionOrderReportController.findVehicleByTL(transportFiltered)}\"/&gt;\n&lt;/p:autoComplete&gt;\n</code></pre>\n\n<p>I don't have problems saving the values, just with the view.</p>\n\n<p>\u00bfIs there a way to do this on an attribute of <strong>p:autoComplete or javascript</strong>?</p>\n"}, {"tags": ["javascript", "php", "opencart", "opencart-3"], "comments": [{"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1559169466, "post_id": 56369086, "comment_id": 99341339, "body": "Hacking the PHP code is NOT the right way to go about this. OpenCart is an extensible platform that allows one to write plugins to adapt the inner workings to one&#39;s own needs. You could write it or hire someone to.  Here is one example from the OpenCart Marketplace: <a href=\"https://www.opencart.com/index.php?route=marketplace/extension/info&amp;extension_id=20261&amp;filter_search=per%20square%20foot\" rel=\"nofollow noreferrer\">opencart.com/index.php?route=marketplace/extension/&hellip;</a>. (I am not affiliated with OpenCart or the product listed here)."}, {"owner": {"reputation": 13, "user_id": 11575278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1375a112d6e55874456be73459053c99?s=128&d=identicon&r=PG&f=1", "display_name": "Starbug42", "link": "https://stackoverflow.com/users/11575278/starbug42"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1559169970, "post_id": 56369086, "comment_id": 99341472, "body": "Thank you for the answer..but I want to hack php or the .twig files, I do not need to hire someone or pay for an extension. I already created javascript to handle the squarefeet to amount of boxes needed conversion, so that extension will not even help me. I need to have the price calculated by a custom html tag instead of the php $price variable"}, {"owner": {"reputation": 16863, "user_id": 1767412, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/25izH.png?s=128&g=1", "display_name": "billynoah", "link": "https://stackoverflow.com/users/1767412/billynoah"}, "edited": false, "score": 0, "creation_date": 1559374584, "post_id": 56369086, "comment_id": 99407402, "body": "You could conceivably pass your js price calculation to the cart method and override price to use it, but <i>that would be a very bad idea</i> since it would potentially allow anyone to set whatever price they want and then add it to cart.  That&#39;s one of many reasons that price is not calculated client side.  You&#39;ll need to learn php and calculate your price using options to get this done."}, {"owner": {"reputation": 16863, "user_id": 1767412, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/25izH.png?s=128&g=1", "display_name": "billynoah", "link": "https://stackoverflow.com/users/1767412/billynoah"}, "edited": false, "score": 0, "creation_date": 1559374629, "post_id": 56369086, "comment_id": 99407408, "body": "This probably does what you want but it&#39;s not OC3 compatible: <a href=\"https://www.opencart.com/index.php?route=marketplace/extension/info&amp;extension_id=24247\" rel=\"nofollow noreferrer\">opencart.com/index.php?route=marketplace/extension/&hellip;</a>"}], "owner": {"reputation": 13, "user_id": 11575278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1375a112d6e55874456be73459053c99?s=128&d=identicon&r=PG&f=1", "display_name": "Starbug42", "link": "https://stackoverflow.com/users/11575278/starbug42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 175, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1559170325, "creation_date": 1559167120, "last_edit_date": 1559170325, "question_id": 56369086, "link": "https://stackoverflow.com/questions/56369086/how-to-change-the-way-opencart-calculates-price-in-the-shopping-cart", "title": "How to change the way opencart calculates price in the shopping cart", "body": "<p>Opencart calculates price in php with $price * quantity. How can I get open cart to calculate customfieldnumber * quantity instead? Or even a javascript variable that holds the total price.</p>\n\n<p>I am doing a store, where the price needs to be square feet, but is charged by the box, so I added a custom js script to add the price per box under the square foot price. example:</p>\n\n<p>wood floor: \n$1.00 /per sqft ( official opencart price  )\n$10.00 /per box\nbox is 10 squarefeet</p>\n\n<p>user inputs squarfootage: 100, javascript calculates this and adds boxes to qty\nquantity = 10 </p>\n\n<p>total = $100</p>\n\n<p>Now, if they add to cart, it will add $10, not $100 dollars, because opencart uses the price set in price field.</p>\n\n<p>I need it to, when added to cart, add $100, ie: quantity times box number</p>\n\n<p>I looked at system/cart/cart.php and found probably where this is calculated, but my php is very basic right now, so no clue how to make it calculate the way I need.</p>\n\n<p>the line is 252:</p>\n\n<p>'total'           => ($price + $option_price) * $cart['quantity'],</p>\n\n<p>I was hoping I could just use my javascript variable that gets the total cost to display on page, but I guess php cannot easily just use a js variable. It would look like this    totalPrice * $cart['quantity'], but no go I guess</p>\n\n<p>Is there a way to do this in php?</p>\n\n<p>$total_price = htmltag.value * $cart['quantity']</p>\n\n<p>I would appreciate any help given</p>\n"}, {"tags": ["javascript", "python", "web-scraping", "export"], "answers": [{"tags": [], "owner": {"reputation": 1720, "user_id": 1893487, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/1ffa6515ba7091f68f688d10a469b823?s=128&d=identicon&r=PG", "display_name": "vrtx54234", "link": "https://stackoverflow.com/users/1893487/vrtx54234"}, "is_accepted": false, "score": 0, "last_activity_date": 1559167995, "creation_date": 1559167995, "answer_id": 56369217, "question_id": 56369067, "link": "https://stackoverflow.com/questions/56369067/how-do-i-use-python-to-trigger-the-download-of-a-file-from-a-website/56369217#56369217", "title": "How do I use Python to trigger the download of a file from a website?", "body": "<p>I would try to identify the API that does 'export to excel' and use that API. You can identify this from the browser's developer tools.  For example, here's what Google Chrome's <em>Copy as Curl</em> gives:</p>\n\n<pre><code>curl 'https://scgenvoy.sempra.com/Public/ViewExternalLowOFO.submitLowOfoSaveAs' -H 'Connection: keep-alive' -H 'Pragma: no-cache' -H 'Cache-Control: no-cache' -H 'Origin: https://scgenvoy.sempra.com' -H 'Upgrade-Insecure-Requests: 1' -H 'DNT: 1' -H 'Content-Type: application/x-www-form-urlencoded' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36' -H 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3' -H 'Referer: https://scgenvoy.sempra.com/index.html' -H 'Accept-Encoding: gzip, deflate, br' -H 'Accept-Language: en-US,en;q=0.9' -H 'Cookie: FAROFFSession=537EB1587E4A063416D5F2206890A2B6.managed2' --data 'FileName=LowOFO05302019Cycle2&amp;Class=com.sempra.krypton.common.saveas.constants.FancyExcelExportType&amp;pageSize=letter&amp;pageOrientation=portrait&amp;HiddenGasFlowDateField=05%2F30%2F2019&amp;HiddenCycleField=2&amp;gasFlowDate=05%2F30%2F2019&amp;cycle=2' --compressed \n</code></pre>\n\n<p>The API url is \n    <a href=\"https://scgenvoy.sempra.com/Public/ViewExternalLowOFO.submitLowOfoSaveAs\" rel=\"nofollow noreferrer\">https://scgenvoy.sempra.com/Public/ViewExternalLowOFO.submitLowOfoSaveAs</a></p>\n\n<p>and the input parameters are:</p>\n\n<pre><code>FileName: LowOFO05302019Cycle2\nClass: com.sempra.krypton.common.saveas.constants.FancyExcelExportType\npageSize: letter\npageOrientation: portrait\nHiddenGasFlowDateField: 05/30/2019\nHiddenCycleField: 2\ngasFlowDate: 05/30/2019\ncycle: 2\n</code></pre>\n\n<p>and the request method is POST.</p>\n\n<p>You can now use python requests library or beautifulsoup library to make this request, passing appropriate values for the parameter.</p>\n\n<p>Providing you an idea, not solving the whole thing myself.</p>\n"}, {"tags": [], "owner": {"reputation": 3717, "user_id": 4286590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aec806c97431f338e396b9a5611bb9b?s=128&d=identicon&r=PG&f=1", "display_name": "bharatk", "link": "https://stackoverflow.com/users/4286590/bharatk"}, "is_accepted": true, "score": 0, "last_activity_date": 1559196872, "last_edit_date": 1559196872, "creation_date": 1559196135, "answer_id": 56372478, "question_id": 56369067, "link": "https://stackoverflow.com/questions/56369067/how-do-i-use-python-to-trigger-the-download-of-a-file-from-a-website/56372478#56372478", "title": "How do I use Python to trigger the download of a file from a website?", "body": "<p>Your <a href=\"https://scgenvoy.sempra.com/index.html#nav=/Public/ViewExternalLowOFO.getLowOFO%3Frand%3D200\" rel=\"nofollow noreferrer\">website</a> is appending dynamic table data with the export button. So basically you need to use <code>Selenium</code> package to handle dynamic data. download selenium web driver as per your browser.</p>\n\n<p><strong>for chrome browser:</strong></p>\n\n<p><a href=\"http://chromedriver.chromium.org/downloads\" rel=\"nofollow noreferrer\">http://chromedriver.chromium.org/downloads</a></p>\n\n<p><strong>Install web driver for chrome browser:</strong></p>\n\n<pre><code>unzip ~/Downloads/chromedriver_linux64.zip -d ~/Downloads\nchmod +x ~/Downloads/chromedriver\nsudo mv -f ~/Downloads/chromedriver /usr/local/share/chromedriver\nsudo ln -s /usr/local/share/chromedriver /usr/local/bin/chromedriver\nsudo ln -s /usr/local/share/chromedriver /usr/bin/chromedriver\n</code></pre>\n\n<p><strong>selenium tutorial</strong></p>\n\n<p><a href=\"https://selenium-python.readthedocs.io/\" rel=\"nofollow noreferrer\">https://selenium-python.readthedocs.io/</a></p>\n\n<p><strong>Export Excel file:</strong></p>\n\n<pre><code>from selenium import webdriver\nimport time\n\ndriver = webdriver.Chrome('/usr/bin/chromedriver')\ndriver.get('https://scgenvoy.sempra.com/index.html#nav=/Public/ViewExternalLowOFO.getLowOFO%3Frand%3D200')\ntime.sleep(3)\nexcel_button = driver.find_element_by_xpath(\"//div[@id='content']/form/div[2]/div/table/tbody/tr/td[4]/table/tbody/tr/td[2]/a\")\n\nprint(excel_button.click())\n</code></pre>\n\n<p>where <code>\"/usr/bin/chromedriver\"</code> chrome web driver path.</p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 10787300, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pSFagAolBRw/AAAAAAAAAAI/AAAAAAAAC80/WENYkpLKpsw/photo.jpg?sz=128", "display_name": "Todd Ryan", "link": "https://stackoverflow.com/users/10787300/todd-ryan"}, "is_accepted": false, "score": 0, "last_activity_date": 1559327487, "creation_date": 1559327487, "answer_id": 56400162, "question_id": 56369067, "link": "https://stackoverflow.com/questions/56369067/how-do-i-use-python-to-trigger-the-download-of-a-file-from-a-website/56400162#56400162", "title": "How do I use Python to trigger the download of a file from a website?", "body": "<p>Here is the code I got working: </p>\n\n<pre><code>## Input parameters\nstart_date = '5/28/19'\nend_date = '5/31/19'\n\n#### Loops through date range and pulls data\n## Date Range ##\ndatelist = pd.date_range(start=start_date, end=end_date, \nfreq='D',dtype='datetime64[ns]')\nprint(datelist)\n\nfrom selenium import webdriver\nfrom selenium.webdriver.common.keys import Keys\nimport time\n\n# opens chrome and opens up Gas Envoy\ndriver =webdriver.Chrome('C:/Users/tmrt/Documents/chromedriver_win32/chromedriver.exe')\n</code></pre>\n\n<p><code>driver.get('https://scgenvoy.sempra.com/index.html#nav=/Public/ViewExternalLowOFO.getLowOFO%3Frand%3D200')</code></p>\n\n<pre><code># pause to give time to think load\ntime.sleep(5)\n\n# Loops through the dates\nfor d in datelist:\n     # Finds Date Box and Date Box Go Button\n     date_box = driver.find_element_by_xpath('//*[@id=\"content\"]/form/div[2]/table/tbody/tr/td[1]/table/tbody/tr/td[2]/input')\n     date_clicker = driver.find_element_by_xpath('//*[@id=\"content\"]/form/div[2]/table/tbody/tr/td[2]/table/tbody/tr/td/a')\n\n    # Input date into datebox\n    date_box.clear()\n    date_box.send_keys(d.strftime(\"%m/%d/%Y\"))\n\n    # Click date_box\n    date_clicker.click()\n\n    # Pause to allow to load\n    time.sleep(5)\n\n    # Clicks download\n     csv_button = driver.find_element_by_xpath('//*[@id=\"content\"]/form/div[2]/div/table/tbody/tr/td[4]/table/tbody/tr/td[1]/a')   \n    csv_button.click()\n\ndriver.close()\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10787300, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pSFagAolBRw/AAAAAAAAAAI/AAAAAAAAC80/WENYkpLKpsw/photo.jpg?sz=128", "display_name": "Todd Ryan", "link": "https://stackoverflow.com/users/10787300/todd-ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 56372478, "answer_count": 3, "score": 2, "last_activity_date": 1559327487, "creation_date": 1559167025, "last_edit_date": 1559169151, "question_id": 56369067, "link": "https://stackoverflow.com/questions/56369067/how-do-i-use-python-to-trigger-the-download-of-a-file-from-a-website", "title": "How do I use Python to trigger the download of a file from a website?", "body": "<p>I'm trying to set up a script to pull data from a website on a daily basis and I'm having trouble getting Python to actually read the table - I'm not a professional coder. I've tried two methods:</p>\n\n<p>1) Scrape the table (headers, rows, etc) using Beautiful Soup, and </p>\n\n<p>2) Use the website's export with excel button</p>\n\n<p>Here is the precise website:\n<a href=\"https://scgenvoy.sempra.com/index.html#nav=/Public/ViewExternalLowOFO.getLowOFO%3Frand%3D200\" rel=\"nofollow noreferrer\">https://scgenvoy.sempra.com/index.html#nav=/Public/ViewExternalLowOFO.getLowOFO%3Frand%3D200</a></p>\n\n<p>So far my code is: </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>#Imports\nimport requests\nimport urllib.request\nimport pandas as pd\nfrom lxml import html\nimport lxml.html as lh\nfrom bs4 import BeautifulSoup\n`URL ='https://scgenvoy.sempra.com/index.html#nav=/Public/ViewExternalLowOFO.getLowOFO%3Frand%3D200'`\n\n#Create a handle, page, to handle the contents of the website\nrequests.packages.urllib3.disable_warnings()\npage = requests.get(URL, verify=False)\n</code></pre>\n\n<p>I think the easiest method would be to trigger the \"export\" function with the </p>\n\n<pre><code>xpath //*[@id=\"content\"]/form/div[2]/div/table/tbody/tr/td[4]/table/tbody/tr/td[1]/a\n</code></pre>\n\n<p>All help is greatly appreciated!</p>\n"}, {"tags": ["javascript", "regex", "string", "replace"], "comments": [{"owner": {"reputation": 28003, "user_id": 1083663, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/784657ec6f91c7406a2c4121d8bda505?s=128&d=identicon&r=PG", "display_name": "GOTO 0", "link": "https://stackoverflow.com/users/1083663/goto-0"}, "edited": false, "score": 0, "creation_date": 1559167089, "post_id": 56369008, "comment_id": 99340726, "body": "But <code>&amp;</code> is not a capital letter. Why do you want a hypen after it? Why noy <code>sunny-&amp;c-loudy</code>?"}, {"owner": {"reputation": 11660, "user_id": 2055998, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Vx3A.jpg?s=128&g=1", "display_name": "PM 77-1", "link": "https://stackoverflow.com/users/2055998/pm-77-1"}, "edited": false, "score": 0, "creation_date": 1559167101, "post_id": 56369008, "comment_id": 99340729, "body": "Which part of your code adds the hyphen?"}, {"owner": {"reputation": 361, "user_id": 6392884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62fd42d8d435ada806294ea47db9bfa5?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Navarrete", "link": "https://stackoverflow.com/users/6392884/juan-navarrete"}, "edited": false, "score": 0, "creation_date": 1559167155, "post_id": 56369008, "comment_id": 99340740, "body": "name.toLowerCase().replace(/&amp;/g, &quot;-&amp;-&quot;)"}, {"owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1559167230, "post_id": 56369008, "comment_id": 99340771, "body": "Can you add other examples so we can understand what you need to do in other scenarios?"}, {"owner": {"reputation": 350, "user_id": 8693289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bc8e54378571a05f6a889adf7161c45?s=128&d=identicon&r=PG&f=1", "display_name": "DiegoTArg", "link": "https://stackoverflow.com/users/8693289/diegotarg"}, "edited": false, "score": 0, "creation_date": 1559167301, "post_id": 56369008, "comment_id": 99340793, "body": "Hello, can you further explain where do you want to add the hyphen? Would they appear at the end of each word? Will all words have a &amp; in between them? Thanks !"}, {"owner": {"reputation": 53, "user_id": 11575244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f517c5b9b414e3bee879712bc84449b9?s=128&d=identicon&r=PG&f=1", "display_name": "WillMac997", "link": "https://stackoverflow.com/users/11575244/willmac997"}, "reply_to_user": {"reputation": 28003, "user_id": 1083663, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/784657ec6f91c7406a2c4121d8bda505?s=128&d=identicon&r=PG", "display_name": "GOTO 0", "link": "https://stackoverflow.com/users/1083663/goto-0"}, "edited": false, "score": 0, "creation_date": 1559167523, "post_id": 56369008, "comment_id": 99340847, "body": "@GOTO0 Sorry I guess that was a bad example. I was hoping to actually replace <code>&amp;</code> with with <code>and</code> once I had something to work with. Is it possible to give <code>&amp;</code> the same treatment as the capital letters?"}, {"owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1559167648, "post_id": 56369008, "comment_id": 99340877, "body": "So, your goal is to replace <code>Sunny&amp;Cloudy</code> by <code>sunny and cloudy</code>?"}, {"owner": {"reputation": 53, "user_id": 11575244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f517c5b9b414e3bee879712bc84449b9?s=128&d=identicon&r=PG&f=1", "display_name": "WillMac997", "link": "https://stackoverflow.com/users/11575244/willmac997"}, "reply_to_user": {"reputation": 350, "user_id": 8693289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bc8e54378571a05f6a889adf7161c45?s=128&d=identicon&r=PG&f=1", "display_name": "DiegoTArg", "link": "https://stackoverflow.com/users/8693289/diegotarg"}, "edited": false, "score": 0, "creation_date": 1559167800, "post_id": 56369008, "comment_id": 99340923, "body": "@DiegoTArg Hoping to replace every capital letter with a lower case letter and add a hyphen after that word. I have no idea how to use regex so I&#39;m wondering if what I want is even possible."}, {"owner": {"reputation": 53, "user_id": 11575244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f517c5b9b414e3bee879712bc84449b9?s=128&d=identicon&r=PG&f=1", "display_name": "WillMac997", "link": "https://stackoverflow.com/users/11575244/willmac997"}, "reply_to_user": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1559167857, "post_id": 56369008, "comment_id": 99340935, "body": "@Shidersz Yea exactly but the spaces should be hyphens"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 11575244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f517c5b9b414e3bee879712bc84449b9?s=128&d=identicon&r=PG&f=1", "display_name": "WillMac997", "link": "https://stackoverflow.com/users/11575244/willmac997"}, "edited": false, "score": 0, "creation_date": 1559168802, "post_id": 56369182, "comment_id": 99341175, "body": "This works well! I just added <code>.replace(&#39;&amp;&#39;, &#39;and&#39;)</code> to change the <code>&amp;</code> to <code>and</code> aswell :) Cheers!"}, {"owner": {"reputation": 96, "user_id": 6906288, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2myfs-G_8z4/AAAAAAAAAAI/AAAAAAAAApU/mR_Iol06b6k/photo.jpg?sz=128", "display_name": "Xiaoyi Cao", "link": "https://stackoverflow.com/users/6906288/xiaoyi-cao"}, "reply_to_user": {"reputation": 53, "user_id": 11575244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f517c5b9b414e3bee879712bc84449b9?s=128&d=identicon&r=PG&f=1", "display_name": "WillMac997", "link": "https://stackoverflow.com/users/11575244/willmac997"}, "edited": false, "score": 1, "creation_date": 1559169669, "post_id": 56369182, "comment_id": 99341385, "body": "By the way, if you have numbers in your words, you may need to add <code>0-9</code> in the regex to make it <code>[a-z0-9]</code> (and maybe <code>[A-Z0-9]</code> if numbers can be the first letter, but that will make it tricky to separate words), or use word boundaries as someone posted in one answer below."}], "tags": [], "owner": {"reputation": 96, "user_id": 6906288, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2myfs-G_8z4/AAAAAAAAAAI/AAAAAAAAApU/mR_Iol06b6k/photo.jpg?sz=128", "display_name": "Xiaoyi Cao", "link": "https://stackoverflow.com/users/6906288/xiaoyi-cao"}, "is_accepted": true, "score": 4, "last_activity_date": 1559167758, "creation_date": 1559167758, "answer_id": 56369182, "question_id": 56369008, "link": "https://stackoverflow.com/questions/56369008/replace-capital-letters-in-an-entire-string-with-lowercase-letters-and-hyphens/56369182#56369182", "title": "Replace capital letters in an entire string with lowercase letters and hyphens", "body": "<p>If you want to convert <code>Sunny&amp;Cloudy</code> into <code>sunny-&amp;-cloudy</code>, then the following code should work:</p>\n\n<pre><code>var name = 'Sunny&amp;Cloudy';\nname.replace(/[A-Z][a-z]*/g, str =&gt; '-' + str.toLowerCase() + '-')\n  // Convert words to lower case and add hyphens around it (for stuff like \"&amp;\")\n  .replace('--', '-') // remove double hyphens\n  .replace(/(^-)|(-$)/g, ''); // remove hyphens at the beginning and the end\n</code></pre>\n\n<p>Basically you just use a <code>function</code> as the second parameter of <code>.replace</code>. (<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#Using_an_inline_function_that_modifies_the_matched_characters\" rel=\"nofollow noreferrer\">Reference</a>)</p>\n\n<p>It's not only replacing capitalized letter with their lowercase counterpart though, so you might want to revise your question description.</p>\n"}, {"tags": [], "owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "is_accepted": false, "score": 0, "last_activity_date": 1559167901, "creation_date": 1559167901, "answer_id": 56369202, "question_id": 56369008, "link": "https://stackoverflow.com/questions/56369008/replace-capital-letters-in-an-entire-string-with-lowercase-letters-and-hyphens/56369202#56369202", "title": "Replace capital letters in an entire string with lowercase letters and hyphens", "body": "<p>One possible approach for what you need is to use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#Specifying_a_function_as_a_parameter\" rel=\"nofollow noreferrer\">replacement function</a> of <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace\" rel=\"nofollow noreferrer\">String.replace()</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var name = 'Sunny&amp;Cloudy';\r\n\r\nlet res = name.replace(/[A-Z&amp;]/g, m =&gt; m === \"&amp;\" ? \"-and-\" : m.toLowerCase());\r\n\r\nconsole.log(res);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console {background-color:black !important; color:lime;}\r\n.as-console-wrapper {max-height:100% !important; top:0;}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 7992, "user_id": 1487756, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1b0a7537f823b23cf0bfb095673226e2?s=128&d=identicon&r=PG&f=1", "display_name": "Moritz Roessler", "link": "https://stackoverflow.com/users/1487756/moritz-roessler"}, "is_accepted": false, "score": 0, "last_activity_date": 1559168809, "creation_date": 1559168809, "answer_id": 56369333, "question_id": 56369008, "link": "https://stackoverflow.com/questions/56369008/replace-capital-letters-in-an-entire-string-with-lowercase-letters-and-hyphens/56369333#56369333", "title": "Replace capital letters in an entire string with lowercase letters and hyphens", "body": "<p>You can use word boundaries <code>\\b</code> to split the string into tokens, map everything to lowercase (except the last letter) and join the result together with a - dash</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function dashed(str, sep) {\r\n  let words = str.split(sep);\r\n  return words.map(word =&gt; {\r\n    let left = word.slice(0, -1).toLowerCase();\r\n    let lastLetter = word.slice(-1);\r\n    return `${left}${lastLetter}`\r\n  }).join('-')\r\n\r\n}\r\n\r\nconsole.log(\r\n  dashed(\"Sunny&amp;CloudY&amp;Rainy\", /\\b/)\r\n)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 5265485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eca68dbbb4d8bc59a24f4a6aee41ac0?s=128&d=identicon&r=PG&f=1", "display_name": "deValck", "link": "https://stackoverflow.com/users/5265485/devalck"}, "is_accepted": false, "score": 0, "last_activity_date": 1559170344, "creation_date": 1559170344, "answer_id": 56369512, "question_id": 56369008, "link": "https://stackoverflow.com/questions/56369008/replace-capital-letters-in-an-entire-string-with-lowercase-letters-and-hyphens/56369512#56369512", "title": "Replace capital letters in an entire string with lowercase letters and hyphens", "body": "<p>The following regex should do the trick:</p>\n\n<pre><code>const regex = /(.+?\\b)+?/g;\nconst str = 'Sunny&amp;Cloudy&amp;rainy';\nconst subst = '$1-';\nconst result = str.replace(regex, subst);\n\n//make string lowercase + remove last '-'\nconsole.log('Substitution result: ', result.toLowerCase().substring(0, result.length - 1));\n</code></pre>\n\n<p>By the way <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101.com</a> can come in handy to perfect a regex. You can select the 'ECMAScript/JavaScript' regex option. I use that site whenever I need to create a regex.</p>\n"}], "owner": {"reputation": 53, "user_id": 11575244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f517c5b9b414e3bee879712bc84449b9?s=128&d=identicon&r=PG&f=1", "display_name": "WillMac997", "link": "https://stackoverflow.com/users/11575244/willmac997"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2503, "favorite_count": 0, "accepted_answer_id": 56369182, "answer_count": 4, "score": 1, "last_activity_date": 1559170344, "creation_date": 1559166674, "last_edit_date": 1559168952, "question_id": 56369008, "link": "https://stackoverflow.com/questions/56369008/replace-capital-letters-in-an-entire-string-with-lowercase-letters-and-hyphens", "title": "Replace capital letters in an entire string with lowercase letters and hyphens", "body": "<p>I'm trying to replace the capital letters in an entire string with their lower case counter parts while adding hyphen after it (unless its the last letter). So that <code>Sunny&amp;Cloudy</code> would be come <code>sunny-&amp;-cloudy</code></p>\n\n<pre><code>var name = 'Sunny&amp;Cloudy';\nname.replace(/([A-Z])(.*)/, '\\L$1');\n</code></pre>\n\n<p>I've tried this this myself but it only reaches the first capital letter adds a hyphen and stops. Leaving me with <code>-S</code></p>\n"}, {"tags": ["javascript", "google-apps-script"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559166780, "post_id": 56368951, "comment_id": 99340630, "body": "The last <code>while</code> should be <code>if</code>, since you never change the variables inside the loop."}, {"owner": {"reputation": 304, "user_id": 11381454, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ddfFLCuHbQM/AAAAAAAAAAI/AAAAAAAAAAA/TmB4hDjVRfs/photo.jpg?sz=128", "display_name": "NMALM", "link": "https://stackoverflow.com/users/11381454/nmalm"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559168730, "post_id": 56368951, "comment_id": 99341154, "body": "That...makes so much sense.  I&#39;m such a noob.  Thank you!"}, {"owner": {"reputation": 304, "user_id": 11381454, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ddfFLCuHbQM/AAAAAAAAAAI/AAAAAAAAAAA/TmB4hDjVRfs/photo.jpg?sz=128", "display_name": "NMALM", "link": "https://stackoverflow.com/users/11381454/nmalm"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559168981, "post_id": 56368951, "comment_id": 99341223, "body": "Okay, I changed it to If but I still need it to loop.  Is there a way within If to loop it until that condition is no longer true?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559169231, "post_id": 56368951, "comment_id": 99341287, "body": "You can use a <code>while</code> loop, but you need to change one of the variables inside the loop so that the condition changes."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559169260, "post_id": 56368951, "comment_id": 99341290, "body": "Maybe you should be using a <code>for</code> loop instead? It&#39;s not clear what you&#39;re really trying to do there."}, {"owner": {"reputation": 304, "user_id": 11381454, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ddfFLCuHbQM/AAAAAAAAAAI/AAAAAAAAAAA/TmB4hDjVRfs/photo.jpg?sz=128", "display_name": "NMALM", "link": "https://stackoverflow.com/users/11381454/nmalm"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559170152, "post_id": 56368951, "comment_id": 99341515, "body": "I&#39;m still a bit unfamiliar with while and for loops.  My variables change as the rows shift up, but I understand that&#39;s not what it needs necessarily.  Basically, all I want is my data to shift up when a row is cleared.  So it reads the first available row and the last row with data and it puts that data into the first available row then clears the last row.  I want this to loop until the last row with data is less than the first empty row, i.e. all my data is shifted to the top most rows."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559170221, "post_id": 56368951, "comment_id": 99341539, "body": "Calling <code>copyTo()</code> and <code>clearContent()</code> doesn&#39;t change either of those variables."}, {"owner": {"reputation": 304, "user_id": 11381454, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ddfFLCuHbQM/AAAAAAAAAAI/AAAAAAAAAAA/TmB4hDjVRfs/photo.jpg?sz=128", "display_name": "NMALM", "link": "https://stackoverflow.com/users/11381454/nmalm"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559170989, "post_id": 56368951, "comment_id": 99341716, "body": "the variables should be the number of the row, for example, last row with data is row 16, first empty row is row 11.  When the statement runs and the condition is re-evaluated, the last row with data would be 11 and the first empty row would be 12, assuming no other data.  I apologize if I am not understanding something.  Thank you very much for your help Barmar."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559171185, "post_id": 56368951, "comment_id": 99341752, "body": "<code>for (row = firstEmptyRow; row &lt; lastDataRow; row++) { ... }</code>"}, {"owner": {"reputation": 304, "user_id": 11381454, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ddfFLCuHbQM/AAAAAAAAAAI/AAAAAAAAAAA/TmB4hDjVRfs/photo.jpg?sz=128", "display_name": "NMALM", "link": "https://stackoverflow.com/users/11381454/nmalm"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559171912, "post_id": 56368951, "comment_id": 99341897, "body": "Well, it the debug doesn&#39;t freeze and doesn&#39;t return any errors, but the function itself doesn&#39;t do anything.  My statements aren&#39;t triggering.  So I know I will need to do this a max of 50 times and I know the IF statement works the way I need it to.  I am going to try <code>for (var i = 0; i &lt; 50; i++) {...}</code>"}, {"owner": {"reputation": 304, "user_id": 11381454, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ddfFLCuHbQM/AAAAAAAAAAI/AAAAAAAAAAA/TmB4hDjVRfs/photo.jpg?sz=128", "display_name": "NMALM", "link": "https://stackoverflow.com/users/11381454/nmalm"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559173343, "post_id": 56368951, "comment_id": 99342200, "body": "Okay, it seems what is happening now is that my if statement works but if I try to do it more than once at a time it won&#39;t copyto and will only clearcontent, so I end up losing data.  <code>if (lastDataRow &gt; firstEmptyRow)    {thissheet.getRange(lastDataRow, 1, 1, 15).copyTo(emptyrange);     thissheet.getRange(lastDataRow, 1, 1, 15).clearContent();}</code>"}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1559173563, "creation_date": 1559173563, "answer_id": 56369905, "question_id": 56368951, "link": "https://stackoverflow.com/questions/56368951/trouble-with-while/56369905#56369905", "title": "Trouble with While", "body": "<p>You need to decrement <code>lastDataRow</code> each time through the loop</p>\n\n<pre><code>  while (lastDataRow &gt; firstEmptyRow) {\n    thissheet.getRange(lastDataRow, 1, 1, 15).copyTo(emptyrange);\n    thissheet.getRange(lastDataRow, 1, 1, 15).clearContent();\n    lastDataRow--;\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 304, "user_id": 11381454, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ddfFLCuHbQM/AAAAAAAAAAI/AAAAAAAAAAA/TmB4hDjVRfs/photo.jpg?sz=128", "display_name": "NMALM", "link": "https://stackoverflow.com/users/11381454/nmalm"}, "edited": false, "score": 0, "creation_date": 1559685250, "post_id": 56451160, "comment_id": 99496872, "body": "Also, I have great skills in overdoing things.  What I wanted to accomplish is very easily accomplished through a simple filter, which I had set up, but didn&#39;t even think about.  Smashing my face on the keyboard now."}], "tags": [], "owner": {"reputation": 304, "user_id": 11381454, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ddfFLCuHbQM/AAAAAAAAAAI/AAAAAAAAAAA/TmB4hDjVRfs/photo.jpg?sz=128", "display_name": "NMALM", "link": "https://stackoverflow.com/users/11381454/nmalm"}, "is_accepted": false, "score": 0, "last_activity_date": 1559681354, "creation_date": 1559681354, "answer_id": 56451160, "question_id": 56368951, "link": "https://stackoverflow.com/questions/56368951/trouble-with-while/56451160#56451160", "title": "Trouble with While", "body": "<p>Unfortunately, the previous answer didn't help.  But I did figure this out.</p>\n\n<pre><code>while (true) {\nthissheet.getRange(lastDataRow, 1, 1, 15).copyTo(emptyrange);\n  thissheet.getRange(lastDataRow, 1, 1, 15).clearContent();\n  Utilities.sleep(500);\n  if (lastDataRow &gt; firstEmptyRow) {\n  break;}\n  } \n</code></pre>\n\n<p>I used a manual break.  The sleep may not be necessary, but I wanted to delay it a bit to help it run more efficiently.  Again, I'm a noob, probably not necessary at all.  Anyway, just wanted to share my success.  Thanks again for all your help Barmar!  </p>\n"}], "owner": {"reputation": 304, "user_id": 11381454, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ddfFLCuHbQM/AAAAAAAAAAI/AAAAAAAAAAA/TmB4hDjVRfs/photo.jpg?sz=128", "display_name": "NMALM", "link": "https://stackoverflow.com/users/11381454/nmalm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 733, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1559681354, "creation_date": 1559166298, "last_edit_date": 1559166654, "question_id": 56368951, "link": "https://stackoverflow.com/questions/56368951/trouble-with-while", "title": "Trouble with While", "body": "<p>While code freezes debug.   Loops infinitely?  But I'm not sure how as I have a defined end condition which should be met.</p>\n\n<p>The sheet I am working with is an inventory sheet.  I have another script that automatically catalogs shipments when they leave the warehouse on a separate tab, which then leaves empty rows of data.  I want to shift the data up to the first empty row.  The script will do this when ran multiple times, however, if all data is condensed when the script is ran, it will move the last data row to the first empty row, which is actually below the last data row at this point.</p>\n\n<pre><code>function shift() {\n  //this sheet\n  var spr = SpreadsheetApp.getActiveSpreadsheet();\n  var thissheet = spr.getSheetByName('CURRENT MONTH');\n\n  //define last row with data\n  var lastRow = thissheet.getLastRow();\n  var range = thissheet.getRange(\"A\" + lastRow);\n  if (range.getValue() !== \"\") {\n    var lastDataRow = lastRow;\n  } else {\n    var lastDataRow = range.getNextDataCell(SpreadsheetApp.Direction.UP).getRow();\n  }\n\n  //define first empty row\n  var column = thissheet.getRange('A11:A');\n  var values = column.getValues();\n  var ct = 0;\n  while (values[ct] &amp;&amp; values[ct][0] != \"\") {\n    ct++;\n  }\n  console.log(ct + 1);\n  var firstEmptyRow = (ct + 1) + 10 //+10 accounts for header\n\n  //the range to copy to (first empty row)\n  var emptyrange = thissheet.getRange(firstEmptyRow, 1, 1, 15);\n\n  //the copy and clear code\n  while (lastDataRow &gt; firstEmptyRow) {\n    thissheet.getRange(lastDataRow, 1, 1, 15).copyTo(emptyrange);\n    thissheet.getRange(lastDataRow, 1, 1, 15).clearContent();\n  }\n}\n</code></pre>\n\n<p>My solution was to use While to shift data until the last data row number is less than the first empty row number, thus While (lastDataRow > firstEmptyRow) should run as long as there is data below an empty row.</p>\n"}, {"tags": ["javascript", "arrays", "vue.js", "lodash"], "answers": [{"tags": [], "owner": {"reputation": 509, "user_id": 10270970, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kS3sgcSnMuM/AAAAAAAAAAI/AAAAAAAAAHA/RENLzmxiPpY/photo.jpg?sz=128", "display_name": "Leandro Hern&#225;ndez Mira", "link": "https://stackoverflow.com/users/10270970/leandro-hern%c3%a1ndez-mira"}, "is_accepted": false, "score": 0, "last_activity_date": 1559167554, "creation_date": 1559167554, "answer_id": 56369146, "question_id": 56368940, "link": "https://stackoverflow.com/questions/56368940/generate-a-list-with-a-head-based-on-object-property-in-array/56369146#56369146", "title": "Generate a list with a head based on object property in array", "body": "<p>You can do this, considering that the array is ordered:</p>\n\n<pre><code>    const array = [\n      {\n        name: \"Another title\",\n        nationality: \"American\"\n      },\n      {\n        name: \"Another american item\",\n        nationality: \"American\"\n      },\n      {\n        name: \"British title string\",\n        nationality: \"British\"\n      },\n      {\n        name: \"Name\",\n        nationality: \"Dutch\"\n      },\n\n    ];\n    const arrayAux = [];\n    var j = 0;\n    for (var i = 0; i &lt; array.length;) {\n      console.log(array[i].name);\n      arrayAux.push({\n        nationality: array[i].nationality,\n        names: [array[i].name]\n      });\n      i++;\n      while ( i &lt; array.length &amp;&amp; array[i].nationality === array[i - 1].nationality) {\n        arrayAux[j].names.push(array[i].name);\n        i++;\n      }\n      j++;\n\n    }\n    console.log(arrayAux);\n</code></pre>\n\n<p>In the html:</p>\n\n<pre><code>&lt;div v-for=\"item in arrayAux\"&gt;\n  &lt;h2&gt;{{ item.nationality }}&lt;/h2&gt;\n  &lt;ul&gt;\n    &lt;li v-for=\"n in item.names\"&gt;\n      {{ n.name }}\n    &lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 58866, "user_id": 1891677, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/38c13c3ccee10dcfc38799fb45d5a65b?s=128&d=identicon&r=PG", "display_name": "tao", "link": "https://stackoverflow.com/users/1891677/tao"}, "reply_to_user": {"reputation": 71, "user_id": 11411493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35958b369223844ea7123908c5fc649d?s=128&d=identicon&r=PG&f=1", "display_name": "keviniooooooo", "link": "https://stackoverflow.com/users/11411493/keviniooooooo"}, "edited": false, "score": 0, "creation_date": 1559215085, "post_id": 56369623, "comment_id": 99355036, "body": "If you also want the names sorted inside each group list, replace <code>this.rawData</code> with <code>_.sortBy(this.rawData, &#39;name&#39;)</code>."}], "tags": [], "owner": {"reputation": 58866, "user_id": 1891677, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/38c13c3ccee10dcfc38799fb45d5a65b?s=128&d=identicon&r=PG", "display_name": "tao", "link": "https://stackoverflow.com/users/1891677/tao"}, "is_accepted": true, "score": 1, "last_activity_date": 1559203613, "last_edit_date": 1559203613, "creation_date": 1559171220, "answer_id": 56369623, "question_id": 56368940, "link": "https://stackoverflow.com/questions/56368940/generate-a-list-with-a-head-based-on-object-property-in-array/56369623#56369623", "title": "Generate a list with a head based on object property in array", "body": "<p>If you have multiple items with same nationality and you want to group them up, use <code>_.groupBy()</code> before <code>_.sortBy()</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Vue.config.devtools = false;\r\nVue.config.productionTip = false;\r\nnew Vue({\r\n  el: '#app',\r\n  template: '#appTemplate',\r\n  data: () =&gt; ({\r\n    rawData: [{\r\n        name: \"British title string\",\r\n        nationality: \"British\"\r\n      },\r\n      {\r\n        name: \"Another title\",\r\n        nationality: \"American\"\r\n      },\r\n      {\r\n        name: \"Name\",\r\n        nationality: \"Dutch\"\r\n      },\r\n      {\r\n        name: \"Another american item\",\r\n        nationality: \"American\"\r\n      }\r\n    ]\r\n  }),\r\n  computed: {\r\n    groupedItems() {\r\n      return _.sortBy(\r\n        _.map(\r\n          _.groupBy(this.rawData, 'nationality'), \r\n          items =&gt; ({\r\n            items,\r\n            nationality: items[0].nationality\r\n          })\r\n        ), \r\n        ['nationality']\r\n      );\r\n    }\r\n  }\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.11/lodash.min.js\"&gt;&lt;/script&gt;\r\n&lt;script type=\"text/template\" id=\"appTemplate\"&gt;\r\n  &lt;div&gt;\r\n    &lt;template v-for=\"group in groupedItems\"&gt;\r\n      &lt;h2 v-text=\"group.nationality\" /&gt;\r\n      &lt;ul&gt;\r\n        &lt;li v-for=\"(item, index) in group.items\" :key=\"index\" v-text=\"item.name\" /&gt;\r\n      &lt;/ul&gt;\r\n    &lt;/template&gt;\r\n  &lt;/div&gt;\r\n&lt;/script&gt;\r\n&lt;div id=\"app\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>For convenience and data readability, I mapped first item's <code>nationality</code> as the group's nationality (and named the grouped items <code>items</code>), but you could have used item <code>0</code>'s nationality in the template directly, instead.<br>\nTo demonstrate, here's how that would have looked like:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Vue.config.devtools = false;\r\nVue.config.productionTip = false;\r\nnew Vue({\r\n  el: '#app',\r\n  template: '#appTemplate',\r\n  data: () =&gt; ({\r\n    rawData: [{\r\n        name: \"British title string\",\r\n        nationality: \"British\"\r\n      },\r\n      {\r\n        name: \"Another title\",\r\n        nationality: \"American\"\r\n      },\r\n      {\r\n        name: \"Name\",\r\n        nationality: \"Dutch\"\r\n      },\r\n      {\r\n        name: \"Another american item\",\r\n        nationality: \"American\"\r\n      }\r\n    ]\r\n  }),\r\n  computed: {\r\n    groupedItems() {\r\n      return _.sortBy(\r\n        _.groupBy(this.rawData, 'nationality'), \r\n        ['0.nationality']\r\n      );\r\n    }\r\n  }\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.11/lodash.min.js\"&gt;&lt;/script&gt;\r\n&lt;script type=\"text/template\" id=\"appTemplate\"&gt;\r\n  &lt;div&gt;\r\n    &lt;template v-for=\"grouped in groupedItems\"&gt;\r\n      &lt;h2 v-text=\"grouped[0].nationality\" /&gt;\r\n      &lt;ul&gt;\r\n        &lt;li v-for=\"(item, index) in grouped\" :key=\"index\" v-text=\"item.name\" /&gt;\r\n      &lt;/ul&gt;\r\n    &lt;/template&gt;\r\n  &lt;/div&gt;\r\n&lt;/script&gt;\r\n&lt;div id=\"app\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Note both of the above examples output the required markup. If you want each item to have its own wrapper, replace <code>&lt;template&gt;</code> with an html tag and add keys. i.e:</p>\n\n<pre><code>&lt;article v-for=\"(grouped, key) in groupedItems\" :key=\"key\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 11411493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35958b369223844ea7123908c5fc649d?s=128&d=identicon&r=PG&f=1", "display_name": "keviniooooooo", "link": "https://stackoverflow.com/users/11411493/keviniooooooo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 56369623, "answer_count": 2, "score": 0, "last_activity_date": 1559203613, "creation_date": 1559166246, "question_id": 56368940, "link": "https://stackoverflow.com/questions/56368940/generate-a-list-with-a-head-based-on-object-property-in-array", "title": "Generate a list with a head based on object property in array", "body": "<p>In Vue, i'm trying to generate a list based on a property in an object.\nI have an array coming from the vuex store that looks like this:</p>\n\n<pre><code>const array = [\n { \n   name: \"British title string\"\n   nationality: \"British\"\n },\n { \n   name: \"Another title\"\n   nationality: \"American\"\n },\n { \n   name: \"Name\"\n   nationality: \"Dutch\"\n },\n{ \n   name: \"Another american item\"\n   nationality: \"American\"\n },\n];\n\n</code></pre>\n\n<p>What i want to have is the output like this using v-for:</p>\n\n<pre><code>&lt;h2&gt;British&lt;/h2&gt;\n&lt;ul&gt;\n   &lt;li&gt;British title string&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h2&gt;American&lt;/h2&gt;\n&lt;ul&gt;\n   &lt;li&gt;Another title&lt;/li&gt;\n   &lt;li&gt;Another american item&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h2&gt;Dutch&lt;/h2&gt;\n&lt;ul&gt;\n   &lt;li&gt;Name&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>I have already sorted the array by the <code>nationality</code> property using lodash _.sortBy and it's given me an array sorted by nationality but i want to add a H2 element with the value of nationality.</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1559166319, "post_id": 56368912, "comment_id": 99340504, "body": "this will cause issues if you assign a fixed value to the <code>after_image { top</code>, then resize the page, unless you constantly update the <code>top</code> value on every resize event. is there a reason you want to assign it a pixel value instead of letting the browser handle it?"}], "answers": [{"tags": [], "owner": {"reputation": 496, "user_id": 4537989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2973e3333e7c3e2300abb3f11ddd4ba?s=128&d=identicon&r=PG", "display_name": "clota974", "link": "https://stackoverflow.com/users/4537989/clota974"}, "is_accepted": true, "score": 0, "last_activity_date": 1559174975, "last_edit_date": 1559174975, "creation_date": 1559166879, "answer_id": 56369039, "question_id": 56368912, "link": "https://stackoverflow.com/questions/56368912/position-div-depending-on-the-height-of-another-div/56369039#56369039", "title": "Position div depending on the height of another div", "body": "<p>Try this : </p>\n\n<pre class=\"lang-html prettyprint-override\"><code>\n&lt;div id='image'&gt;\n  &lt;img src='' /&gt;\n  &lt;img src='' /&gt;\n  &lt;img src='' /&gt;\n&lt;/div&gt;\n&lt;div id='after_image'&gt;&lt;/div&gt;\n\n&lt;script&gt;\n  var h = document.getElementById('image').clientHeight // returns height as number\n  document.getElementById('after_image').style.top = h + 'px'\n&lt;/script&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 485, "user_id": 3623659, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/315dd4e0e11bc9ebc8f872b760e46e04?s=128&d=identicon&r=PG&f=1", "display_name": "TakeMeToTheMoon", "link": "https://stackoverflow.com/users/3623659/takemetothemoon"}, "edited": false, "score": 0, "creation_date": 1559167531, "post_id": 56369095, "comment_id": 99340848, "body": "Thanks Anthony. What way do you recommend instead of the above?"}, {"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "reply_to_user": {"reputation": 485, "user_id": 3623659, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/315dd4e0e11bc9ebc8f872b760e46e04?s=128&d=identicon&r=PG&f=1", "display_name": "TakeMeToTheMoon", "link": "https://stackoverflow.com/users/3623659/takemetothemoon"}, "edited": false, "score": 0, "creation_date": 1559167613, "post_id": 56369095, "comment_id": 99340869, "body": "@LucaDanieli i would recommend just letting the browser handle it via <code>position: relative</code>. why cant you use <code>position: relative</code>?"}, {"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "reply_to_user": {"reputation": 485, "user_id": 3623659, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/315dd4e0e11bc9ebc8f872b760e46e04?s=128&d=identicon&r=PG&f=1", "display_name": "TakeMeToTheMoon", "link": "https://stackoverflow.com/users/3623659/takemetothemoon"}, "edited": false, "score": 0, "creation_date": 1559167888, "post_id": 56369095, "comment_id": 99340945, "body": "@LucaDanieli also, if these answers are helpful to you, you should be voting them up or marking as solved."}, {"owner": {"reputation": 485, "user_id": 3623659, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/315dd4e0e11bc9ebc8f872b760e46e04?s=128&d=identicon&r=PG&f=1", "display_name": "TakeMeToTheMoon", "link": "https://stackoverflow.com/users/3623659/takemetothemoon"}, "edited": false, "score": 0, "creation_date": 1559168201, "post_id": 56369095, "comment_id": 99341031, "body": "I can to that, but &lt;div style=&quot;position:relative&quot;&gt;&lt;/div&gt;&lt;div style=&quot;position:relative&quot;&gt;&lt;/div&gt; are placed at the same absolute top value regardless of the first div&#39;s height"}, {"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "reply_to_user": {"reputation": 485, "user_id": 3623659, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/315dd4e0e11bc9ebc8f872b760e46e04?s=128&d=identicon&r=PG&f=1", "display_name": "TakeMeToTheMoon", "link": "https://stackoverflow.com/users/3623659/takemetothemoon"}, "edited": false, "score": 0, "creation_date": 1559168925, "post_id": 56369095, "comment_id": 99341209, "body": "@LucaDanieli if theyre both positioned relatively, they wont be placed absolutely nor in the exact same position"}, {"owner": {"reputation": 485, "user_id": 3623659, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/315dd4e0e11bc9ebc8f872b760e46e04?s=128&d=identicon&r=PG&f=1", "display_name": "TakeMeToTheMoon", "link": "https://stackoverflow.com/users/3623659/takemetothemoon"}, "edited": false, "score": 0, "creation_date": 1559169517, "post_id": 56369095, "comment_id": 99341351, "body": "They are, unfortunately. I understood it is because the first div has only &lt;img&gt; tags inside, and somehow it considers the div as having 0px height. Therefore it makes sense that if height=0, they get positioned in the same place. If I add a letter after the &lt;img&gt; tags, the second div gets positioned correctly (with an additional space given to the height of the letter)."}, {"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "reply_to_user": {"reputation": 485, "user_id": 3623659, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/315dd4e0e11bc9ebc8f872b760e46e04?s=128&d=identicon&r=PG&f=1", "display_name": "TakeMeToTheMoon", "link": "https://stackoverflow.com/users/3623659/takemetothemoon"}, "edited": false, "score": 0, "creation_date": 1559180998, "post_id": 56369095, "comment_id": 99343691, "body": "@LucaDanieli if an element has a height of <code>0</code> and does not inherit height from one of its children, it wont even display on the screen. if a <code>div</code> has an <code>img</code> element inside of it, the height of the <code>div</code> will not be <code>0</code>, unless the height of the image is actually <code>0</code>. where are you hearing this stuff?"}], "tags": [], "owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "is_accepted": false, "score": 0, "last_activity_date": 1559167171, "creation_date": 1559167171, "answer_id": 56369095, "question_id": 56368912, "link": "https://stackoverflow.com/questions/56368912/position-div-depending-on-the-height-of-another-div/56369095#56369095", "title": "Position div depending on the height of another div", "body": "<p>Here is how you can achieve what you want, although this is the wrong approach in my opinion.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const\r\n  image = document.querySelector('#image'),\r\n  after = document.querySelector('#after_image')\r\n  \r\nafter.style.top = image.getBoundingClientRect().bottom + 'px'</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#image {\r\n  width: 200px;\r\n  height: 2750px;\r\n  box-sizing: border-box;\r\n  border: solid blue 3px;\r\n  background: skyblue;\r\n}\r\n\r\n#after_image {\r\n  width: 200px;\r\n  height: 500px;\r\n  position: absolute;\r\n  box-sizing: border-box;\r\n  border: solid orangered 3px;\r\n  background: pink;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id='image'&gt;\r\n  &lt;img src='' /&gt;\r\n&lt;/div&gt;\r\n&lt;div id='after_image'&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you really want to do it this way, it is best to bind your JS statement to the <code>resize</code> event.</p>\n\n<pre><code>window.addEventListener('resize', function(){\n  after.style.top = image.getBoundingClientRect().bottom + 'px'\n}\n</code></pre>\n"}], "owner": {"reputation": 485, "user_id": 3623659, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/315dd4e0e11bc9ebc8f872b760e46e04?s=128&d=identicon&r=PG&f=1", "display_name": "TakeMeToTheMoon", "link": "https://stackoverflow.com/users/3623659/takemetothemoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 56369039, "answer_count": 2, "score": 0, "last_activity_date": 1559174975, "creation_date": 1559166100, "question_id": 56368912, "link": "https://stackoverflow.com/questions/56368912/position-div-depending-on-the-height-of-another-div", "title": "Position div depending on the height of another div", "body": "<p>I have a <code>&lt;div&gt;</code> (let's call it \"image\") that contains some images <code>&lt;img&gt;&lt;img&gt;&lt;img&gt;</code> and so on.\nThis div's width is set at 100% of the screen, and the images inside rescale depending on the width. So, depending on the browser's width, the height of my div changes.</p>\n\n<p>Now I would like to create another div (let's call it \"after_image\") that starts after this image, without using \"relative\", but by retrieving the height of <code>&lt;div id=\"image\"&gt;</code>, and using that as a \"top: px\" attribute.</p>\n\n<p>Is it possible? Maybe a <code>&lt;script&gt;</code>?\n(I am using PHP)</p>\n"}, {"tags": ["javascript", "c3.js"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7416804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f71e509f6cbb6a723d6ecc64401911e0?s=128&d=identicon&r=PG", "display_name": "Felipe Vega", "link": "https://stackoverflow.com/users/7416804/felipe-vega"}, "edited": false, "score": 0, "creation_date": 1560367940, "post_id": 56541164, "comment_id": 99717472, "body": "Awesome! That was brilliant. Thanks for your help mgraham."}], "tags": [], "owner": {"reputation": 5707, "user_id": 368214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bDcql.png?s=128&g=1", "display_name": "mgraham", "link": "https://stackoverflow.com/users/368214/mgraham"}, "is_accepted": false, "score": 0, "last_activity_date": 1560247491, "last_edit_date": 1560247491, "creation_date": 1560247120, "answer_id": 56541164, "question_id": 56368888, "link": "https://stackoverflow.com/questions/56368888/c3js-is-there-any-way-to-update-color-threshold-values-dynamically-on-a-gauge/56541164#56541164", "title": "C3JS - is there any way to update color.threshold values dynamically on a gauge chart?", "body": "<p>You need two things.</p>\n\n<p>Firstly, wrap your new threshold array in a 'values' property, like in the config, otherwise c3's code won't pick the new values up:</p>\n\n<pre><code>chart.internal.config.color_threshold = {values: [\n  Math.round(randomMaxValue/4), \n  Math.round(randomMaxValue/3), \n  Math.round(randomMaxValue/2), \n  randomMaxValue \n]};\n</code></pre>\n\n<p>See the code at\n<a href=\"https://github.com/c3js/c3/blob/ca9fd2b26ef8c2234bb3045589ffe31c625b101a/src/color.js#L31\" rel=\"nofollow noreferrer\">https://github.com/c3js/c3/blob/ca9fd2b26ef8c2234bb3045589ffe31c625b101a/src/color.js#L31</a></p>\n\n<p>Secondly, it seems that the gauge uses an internal levelColor function to pick the color rather than the normal color function --> <a href=\"https://github.com/c3js/c3/blob/ca9fd2b26ef8c2234bb3045589ffe31c625b101a/src/arc.js#L452\" rel=\"nofollow noreferrer\">https://github.com/c3js/c3/blob/ca9fd2b26ef8c2234bb3045589ffe31c625b101a/src/arc.js#L452</a></p>\n\n<p>This needs regenerated via the generateLevelColor function (<a href=\"https://github.com/c3js/c3/blob/94cbc06150975cf071b75b9deeec8a6ed27d4484/src/core.js#L95\" rel=\"nofollow noreferrer\">https://github.com/c3js/c3/blob/94cbc06150975cf071b75b9deeec8a6ed27d4484/src/core.js#L95</a>). This in turn needs called with chart.internal as the context so it has access to the internal values.</p>\n\n<p>So:</p>\n\n<pre><code>chart.internal.levelColor = chart.internal.generateLevelColor.call (chart.internal);\n</code></pre>\n\n<p>Put them together and the chart now works (non-random version of your codepen here --> <a href=\"https://codepen.io/anon/pen/OeJvjj\" rel=\"nofollow noreferrer\">https://codepen.io/anon/pen/OeJvjj</a>). Here 35 goes red, where it would have previously been orange.</p>\n"}], "owner": {"reputation": 1, "user_id": 7416804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f71e509f6cbb6a723d6ecc64401911e0?s=128&d=identicon&r=PG", "display_name": "Felipe Vega", "link": "https://stackoverflow.com/users/7416804/felipe-vega"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560247491, "creation_date": 1559165987, "last_edit_date": 1559168552, "question_id": 56368888, "link": "https://stackoverflow.com/questions/56368888/c3js-is-there-any-way-to-update-color-threshold-values-dynamically-on-a-gauge", "title": "C3JS - is there any way to update color.threshold values dynamically on a gauge chart?", "body": "<p>I've been trying to update the colors.threshold value dynamically on gauge chart (c3js) but apparently there's no way to do it via API. Does anybody know how to do it?</p>\n\n<p>I've tried to update the threshold values directly into the chart object instance without any results.</p>\n\n<p>Here's what a sandbox with the attempt:</p>\n\n<p>Codepen: <a href=\"https://codepen.io/felipevega/pen/WBaQKP\" rel=\"nofollow noreferrer\">https://codepen.io/felipevega/pen/WBaQKP</a></p>\n\n<pre><code>function updateChart() {\n    var randomValue = Math.round((Math.random(100)*100));\n    var randomMaxValue = 100 + Math.round((Math.random(100)*100));\n\n    chart.internal.config.gauge_max = randomMaxValue;\n\n    //HERE'S the issue &gt; this is not updating the threshold values\n    chart.internal.config.color_threshold = [\n      Math.round(randomMaxValue/4), \n      Math.round(randomMaxValue/3), \n      Math.round(randomMaxValue/2), \n      randomMaxValue \n    ];\n\n    chart.load({\n        columns: [['Speed', randomValue]]\n    });  \n}\n</code></pre>\n\n<p>I expect the color.threshold values can be recalculated based on a random max value.</p>\n"}, {"tags": ["javascript", "laravel-5"], "answers": [{"tags": [], "owner": {"reputation": 4288, "user_id": 8129075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34543639f7175213b464fb0f3a8c2677?s=128&d=identicon&r=PG&f=1", "display_name": "SrThompson", "link": "https://stackoverflow.com/users/8129075/srthompson"}, "is_accepted": true, "score": 0, "last_activity_date": 1559170391, "creation_date": 1559170391, "answer_id": 56369520, "question_id": 56368859, "link": "https://stackoverflow.com/questions/56368859/referenceerror-when-running-javascript-in-a-laravel-blade/56369520#56369520", "title": "ReferenceError when running javascript in a Laravel Blade", "body": "<p>Compiling with Laravel Mix runs your code through webpack and puts it in a bundle. It won't add anything to the global scope. If you really want that function in the global scope, assign it directly to <code>document</code> or <code>window</code>:</p>\n\n<p>In app.js:</p>\n\n<pre><code>require('./bootstrap');\n\nwindow.myTest = function myTest() {\n    alert(1);\n}\n</code></pre>\n\n<p>It's also recommended that you load your static assets with the helper function in blade</p>\n\n<pre><code>&lt;script src=\"{{asset('js/app.js')}}\"&gt;&lt;/script&gt;\n&lt;link rel=\"stylesheet\" href=\"{{asset('css/app.css')}}\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11575202, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XGQ5EEFbUZE/AAAAAAAAAAI/AAAAAAAAAR4/jQG2ztAf3jk/photo.jpg?sz=128", "display_name": "JohnnyBigodes", "link": "https://stackoverflow.com/users/11575202/johnnybigodes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 56369520, "answer_count": 1, "score": 0, "last_activity_date": 1559170391, "creation_date": 1559165778, "question_id": 56368859, "link": "https://stackoverflow.com/questions/56368859/referenceerror-when-running-javascript-in-a-laravel-blade", "title": "ReferenceError when running javascript in a Laravel Blade", "body": "<p>I am trying to run a simple javascript function from app.js in a blade but I am getting a ReferenceError that the function is not defined.</p>\n\n<p>The \"app.js\" was compiled with \"npm run dev\".</p>\n\n<p>The file \"app.js\" in binded and I can see my function there.</p>\n\n<p>app.js</p>\n\n<pre><code>require('./bootstrap');\n\nfunction myTest()\n{\n    alert(1);\n}\n</code></pre>\n\n<p>index.blade.php</p>\n\n<pre><code>@extends('layout')\n\n@section('title', 'Some Title')\n\n@section('content')\n    Welcome\n@endsection\n\n@section('scripts')\n    &lt;script&gt;myTest();&lt;/script&gt;\n@endsection\n</code></pre>\n\n<p>Source code</p>\n\n<pre><code>&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt;\n    &lt;meta name=\"csrf-token\" content=\"DeUaExASeRzE1Wl0OUAyVFhmHQ7DZNfbZR7kETJ7\"&gt;\n    &lt;script src=\"http://127.0.0.1:8000/js/app.js\"&gt;&lt;/script&gt;\n    &lt;link rel=\"stylesheet\" href=\"http://127.0.0.1:8000/css/app.css\"&gt;\n    &lt;title&gt;WOG&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;!-- ######### NavBar ######### --&gt;\n    &lt;nav class=\"navbar navbar-expand-lg navbar-light bg-light\"&gt;\n      &lt;div class=\"container\"&gt;\n      &lt;a class=\"navbar-brand\" href=\"/\"&gt;WOG&lt;/a&gt;\n        &lt;button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNavDropdown\" aria-controls=\"navbarNavDropdown\" aria-expanded=\"false\" aria-label=\"Toggle navigation\"&gt;\n          &lt;span class=\"navbar-toggler-icon\"&gt;&lt;/span&gt;\n        &lt;/button&gt;\n        &lt;div class=\"collapse navbar-collapse\" id=\"navbarNavDropdown\"&gt;\n          &lt;ul class=\"navbar-nav\"&gt;\n            &lt;li class=\"nav-item\"&gt;\n              &lt;a class=\"nav-link active\" href=\"/\"&gt;Home&lt;/a&gt;\n            &lt;/li&gt;\n            &lt;li class=\"nav-item dropdown\"&gt;\n              &lt;a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdownMenuLink\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"&gt;Module&lt;/a&gt;\n              &lt;div class=\"dropdown-menu\" aria-labelledby=\"navbarDropdownMenuLink\"&gt;\n                &lt;a class=\"dropdown-item\" href=\"/modules/alphanum\"&gt;Alphanumerisch&lt;/a&gt;\n                &lt;a class=\"dropdown-item\" href=\"/modules/num\"&gt;Numerisch&lt;/a&gt;\n              &lt;/div&gt;\n            &lt;/li&gt;\n          &lt;/ul&gt;\n        &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/nav&gt;\n\n    &lt;!-- ######### Content ######### --&gt;\n    &lt;div class=\"container\"&gt;\n            &lt;h1&gt;Willkommen&lt;/h1&gt;\n            &lt;script&gt;myTest();&lt;/script&gt;\n    &lt;/div&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I was expecting to get a simple alert, but instead i am getting a \"ReferenceError: myTest is not defined\".</p>\n\n<p>What can i do?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["javascript", "php", "jquery", "css", "wordpress"], "comments": [{"owner": {"reputation": 56, "user_id": 11353860, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ShFLMP8tHEw/AAAAAAAAAAI/AAAAAAAAAFY/iZxvkmaBgSk/photo.jpg?sz=128", "display_name": "Triston Wasik", "link": "https://stackoverflow.com/users/11353860/triston-wasik"}, "edited": false, "score": 1, "creation_date": 1559168190, "post_id": 56368833, "comment_id": 99341022, "body": "I would look more into why only choosing those 2 will not let you proceed. In a business logic scenario it makes more sense. Especially since if you choose pickup in the &#39;packages&#39; area it actually locks out the delivery option, forcing you to reload if you change your mind. Without more code or examples it&#39;s hard to tell what exactly is going on, can you please give more snippets of your validation and form submission so we can see why it breaks?"}], "answers": [{"comments": [{"owner": {"reputation": 540, "user_id": 7796043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ac105be0330c617a30978d2e016644b?s=128&d=identicon&r=PG&f=1", "display_name": "Mv27", "link": "https://stackoverflow.com/users/7796043/mv27"}, "edited": false, "score": 0, "creation_date": 1559169565, "post_id": 56369341, "comment_id": 99341362, "body": "Thank you a lot for the answer @Parham. So that I need to wrap in some php and add it to the functions.php in my child theme, right?"}, {"owner": {"reputation": 41, "user_id": 8295634, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ScyibzAfUDY/AAAAAAAAAAI/AAAAAAAAARA/uEmOSqltdVg/photo.jpg?sz=128", "display_name": "Parham Parnian", "link": "https://stackoverflow.com/users/8295634/parham-parnian"}, "reply_to_user": {"reputation": 540, "user_id": 7796043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ac105be0330c617a30978d2e016644b?s=128&d=identicon&r=PG&f=1", "display_name": "Mv27", "link": "https://stackoverflow.com/users/7796043/mv27"}, "edited": false, "score": 0, "creation_date": 1559176393, "post_id": 56369341, "comment_id": 99342814, "body": "@Mv27 no these codes are Javascript/Jquery. 1) you should create a Js file with these codes. 2) edit your function.php in your child theme and enqueue this js file to your theme."}], "tags": [], "owner": {"reputation": 41, "user_id": 8295634, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ScyibzAfUDY/AAAAAAAAAAI/AAAAAAAAARA/uEmOSqltdVg/photo.jpg?sz=128", "display_name": "Parham Parnian", "link": "https://stackoverflow.com/users/8295634/parham-parnian"}, "is_accepted": true, "score": 1, "last_activity_date": 1559168900, "creation_date": 1559168900, "answer_id": 56369341, "question_id": 56368833, "link": "https://stackoverflow.com/questions/56368833/hide-element-when-click-on-button-and-pageload/56369341#56369341", "title": "Hide element when click on button and pageload", "body": "<p>You can listen for every time user clicks on one of the \"Pickup or delivery\" options, if the selected option is \"pickup\", select the \"pickup\" option in \"Packages\" with JQuery. This is the implementation of this algorithm.</p>\n\n<pre><code>jQuery(\"ul[data-attribute_name=attribute_pa_pickup-og-delivery] li\").click(function(){\n    var selectedDelivery = jQuery(\"ul[data-attribute_name=attribute_pa_pickup-og-delivery]\").find(\"li.selected\").attr(\"data-value\");\n    if (selectedDelivery == \"pickup\"){\n        jQuery(\"ul[data-attribute_name=attribute_pa_packages] li[data-value=pickup] span\").click();\n        jQuery(\"ul[data-attribute_name=attribute_pa_packages] li[data-value=pickup]\").hide(); // hide the \"pickup\" option in \"Packages\" if you like\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 540, "user_id": 7796043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ac105be0330c617a30978d2e016644b?s=128&d=identicon&r=PG&f=1", "display_name": "Mv27", "link": "https://stackoverflow.com/users/7796043/mv27"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 1, "accepted_answer_id": 56369341, "answer_count": 1, "score": 2, "last_activity_date": 1559168900, "creation_date": 1559165655, "last_edit_date": 1559167172, "question_id": 56368833, "link": "https://stackoverflow.com/questions/56368833/hide-element-when-click-on-button-and-pageload", "title": "Hide element when click on button and pageload", "body": "<p>I cannot get my head around this problem I am having, I hope that my writing is not to complicated to read.</p>\n\n<p>I am making a product with 3 variables. A customer can pickup the products at our place, or we can deliver the products. Because of practical things, we choose to sell products there should be delivered as packages with 30, 60 or 90 products in.</p>\n\n<p>Before a price can be shown, all 3 variables need to get selected. So here comes the problem. If a person wants to pickup the products at our place only 2 variables need to be selected: <em>Length in m and Pickup or Delivery</em>. But that will not give a price. Therefore I need to insert <em>\"Pickup\"</em> in <strong>\"Packages\"</strong> again to get a price.</p>\n\n<p>But I would like to hide \"pickup\" in packages, so I do not confuse the visitor to much. The image describes what I am looking for:</p>\n\n<p><a href=\"https://i.stack.imgur.com/591ed.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/591ed.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>A demo of the page <a href=\"https://dev.onlinerelation.dk/produkt/stack/\" rel=\"nofollow noreferrer\">can be seen here</a></p>\n\n<p>I was looking at the CSS. Is that what I have to use together with javascript, or how/if it is possible?</p>\n\n<pre><code>&lt;ul class=\"variable-items-wrapper button-variable-wrapper\" data-attribute_name=\"attribute_pa_packages\"&gt;\n    &lt;li data-wvstooltip=\"pickup\" class=\"variable-item button-variable-item button-variable-item-pickup\" title=\"pickup\" data-value=\"pickup\"&gt;\n        &lt;span class=\"variable-item-span variable-item-span-button\"&gt;pickup&lt;/span&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;ul class=\"variable-items-wrapper button-variable-wrapper\" data-attribute_name=\"attribute_pa_packages\"&gt;\n    &lt;li data-wvstooltip=\"pickup\" class=\"variable-item button-variable-item button-variable-item-pickup selected\" title=\"pickup\" data-value=\"pickup\"&gt;\n        &lt;span class=\"variable-item-span variable-item-span-button\"&gt;pickup&lt;/span&gt;&lt;/li&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>Best regards.</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 1, "creation_date": 1559170484, "post_id": 56368735, "comment_id": 99341601, "body": "There&#39;s a million technologies and ways to achieve that. Pick one, give it a shot, then come back with a specific programming problem, if you encounter any."}, {"owner": {"reputation": 27, "user_id": 11564760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f26cb069ecd66718f61705fb5c98faf?s=128&d=identicon&r=PG", "display_name": "Sofiane", "link": "https://stackoverflow.com/users/11564760/sofiane"}, "reply_to_user": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1559172897, "post_id": 56368735, "comment_id": 99342104, "body": "i&#39;m newbie bro, just tell me the topic of that technology and i will, is it html dom, appendchild and setatribute? im tryin"}, {"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1559194806, "post_id": 56368735, "comment_id": 99346384, "body": "Without a server-side technology like login on a webserver and a database the changes a user does are lost as soon as they reload the page."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 11564760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f26cb069ecd66718f61705fb5c98faf?s=128&d=identicon&r=PG", "display_name": "Sofiane", "link": "https://stackoverflow.com/users/11564760/sofiane"}, "edited": false, "score": 0, "creation_date": 1559172978, "post_id": 56369566, "comment_id": 99342120, "body": "it didn&#39;t work bro i&#39;ll study js qnd html dom more, iwas just excited to make it as soon as possible;)"}], "tags": [], "owner": {"reputation": 304, "user_id": 11467301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26f79ba9e117ea8e7d9fb636092f9f02?s=128&d=identicon&r=PG&f=1", "display_name": "Sina", "link": "https://stackoverflow.com/users/11467301/sina"}, "is_accepted": false, "score": 0, "last_activity_date": 1559170775, "creation_date": 1559170775, "answer_id": 56369566, "question_id": 56368735, "link": "https://stackoverflow.com/questions/56368735/how-do-i-create-a-javascript-function-that-add-html-elements-dynamically/56369566#56369566", "title": "How do I create a javascript function that add html elements dynamically?", "body": "<p>You can use document.getElementById(\"ID\").innerHTML</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.getElementById(\"form\").innerHTML='Language spoken1:&lt;input id=\"language1\"&gt; Level: &lt;input id=\"level1\"&gt;&lt;br&gt; Language spoken2: &lt;input id=\"language2\"&gt; Level: &lt;input id=\"level2\"&gt;'</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form id=\"form\"&gt;\r\n \r\n&lt;/form&gt;\r\n&lt;input type=\"button\" value=\"add new language\" id=\"add\" onclick=\"myFunction\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<blockquote>\n  <p></p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 11564760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f26cb069ecd66718f61705fb5c98faf?s=128&d=identicon&r=PG", "display_name": "Sofiane", "link": "https://stackoverflow.com/users/11564760/sofiane"}, "edited": false, "score": 0, "creation_date": 1559222997, "post_id": 56369964, "comment_id": 99358794, "body": "Thanks bro\u263a It is not 100% but at least i can go from there and try more.  I need the submate or save button to save it and desplay the input value on a &lt;ul&gt;.... is it easier to make such as this function on php or other backends? I didn&#39;t get there yet?"}], "tags": [], "owner": {"reputation": 1191, "user_id": 9005332, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BNDTANd8vrA/AAAAAAAAAAI/AAAAAAAAABY/6zrp3ue12Zw/photo.jpg?sz=128", "display_name": "OPTIMUS PRIME", "link": "https://stackoverflow.com/users/9005332/optimus-prime"}, "is_accepted": true, "score": 1, "last_activity_date": 1559174650, "last_edit_date": 1559174650, "creation_date": 1559174067, "answer_id": 56369964, "question_id": 56368735, "link": "https://stackoverflow.com/questions/56368735/how-do-i-create-a-javascript-function-that-add-html-elements-dynamically/56369964#56369964", "title": "How do I create a javascript function that add html elements dynamically?", "body": "<p>Each time you click the button, it will create two input elements, count the existing inputs and find the number of new input-ids. I've also added auto-focus to input, after adding... and delete button)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>(function(){\r\n  \r\nlet form = document.getElementById('form');\r\n\r\ndocument.getElementById('add').addEventListener('click', function(){\r\n  let lang  = document.createElement('input');\r\n  let level = document.createElement('input');\r\n  let number = document.querySelectorAll('#form input').length / 2 + 1;\r\n\r\n  lang.id = 'language' + number;\r\n  level.id = 'level' + number;\r\n\r\n  lang.placeholder = 'Language spoken' + number;\r\n  level.placeholder = 'Level';\r\n\r\n  form.innerHTML += '&lt;br&gt;';\r\n  form.appendChild(lang);\r\n  form.appendChild(level);\r\n\r\n  lang.focus();\r\n});\r\n  \r\ndocument.getElementById('delete').addEventListener('click', function(){\r\n  let inp = document.querySelectorAll('#form input');\r\n  if(inp.length == 2){ return; }\r\n  /* removing last two elements */\r\n  inp[inp.length-1].remove();\r\n  inp[inp.length-2].remove();\r\n\r\n  let br = document.querySelectorAll('#form br');\r\n  br[br.length-1].remove();\r\n});\r\n  \r\n})();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#delete {\r\n  color: white;\r\n  background-color: #c00;\r\n  border: 2px solid #c00;\r\n  outline: none;\r\n  cursor: pointer;\r\n}\r\n#form {white-space: inherit;}\r\ninput {margin: 2px 5px;}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form id=\"form\"&gt;\r\n  &lt;input id=\"language1\" placeholder=\"Language spoken1\"&gt;&lt;input id=\"level1\" placeholder=\"Level\"&gt;\r\n&lt;/form&gt;\r\n\r\n&lt;br&gt;\r\n\r\n&lt;input type=\"button\" value=\"add a new language\" id=\"add\"&gt; \r\n&lt;input type=\"button\" value=\"X\" id=\"delete\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Any questions?)</p>\n"}], "owner": {"reputation": 27, "user_id": 11564760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f26cb069ecd66718f61705fb5c98faf?s=128&d=identicon&r=PG", "display_name": "Sofiane", "link": "https://stackoverflow.com/users/11564760/sofiane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 56369964, "answer_count": 2, "score": -2, "last_activity_date": 1561570550, "creation_date": 1559165116, "last_edit_date": 1561570550, "question_id": 56368735, "link": "https://stackoverflow.com/questions/56368735/how-do-i-create-a-javascript-function-that-add-html-elements-dynamically", "title": "How do I create a javascript function that add html elements dynamically?", "body": "<p>I\u2019m trying to creat a javascript function that adds new html elements, with new ID's for each element. for example this form; To let the user submit languages he can speak and his level on each one. But he can add a new input to type other languages if he speaks many.</p>\n\n<pre><code>&lt;form id=\"form\"&gt;\nLanguage spoken1: &lt;input id=\"language1\"&gt;\nLevel: &lt;input id=\"level1\"&gt;\n&lt;form&gt;\n&lt;input type=\"button\" value=\"add new language\" id=\"add\" onclick=\"myFunction\"&gt;\n</code></pre>\n\n<p>To get a result like this</p>\n\n<pre><code>&lt;form id=\"form\"&gt;\nLanguage spoken1: &lt;input id=\"language1\"&gt;\nLevel: &lt;input id=\"level1\"&gt;\nLanguage spoken2: &lt;input id=\"language2\"&gt;\nLevel: &lt;input id=\"level2\"&gt;\n&lt;form&gt;\n&lt;input type=\"button\" value=\"add new language\" id=\"add\" onclick=\"myFunction\"&gt;\n</code></pre>\n\n<p>And when he submit result like this will be on the page</p>\n\n<p>Language spoken1: English, level: native\nLanguage spoken2: Spanish, level: good</p>\n"}, {"tags": ["javascript", "node.js", "json", "routes"], "comments": [{"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1559165193, "post_id": 56368730, "comment_id": 99340196, "body": "What is <code>rows</code>? A string? An object?"}], "answers": [{"comments": [{"owner": {"reputation": 1397, "user_id": 7890537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qQEYY.jpg?s=128&g=1", "display_name": "Qui-Gon Jinn", "link": "https://stackoverflow.com/users/7890537/qui-gon-jinn"}, "edited": false, "score": 0, "creation_date": 1574363195, "post_id": 56368796, "comment_id": 104216778, "body": "Thanks for your answer Dorian)"}], "tags": [], "owner": {"reputation": 496, "user_id": 11396520, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YXfCC.jpg?s=128&g=1", "display_name": "Dorian Mazur", "link": "https://stackoverflow.com/users/11396520/dorian-mazur"}, "is_accepted": true, "score": 2, "last_activity_date": 1559165435, "creation_date": 1559165435, "answer_id": 56368796, "question_id": 56368730, "link": "https://stackoverflow.com/questions/56368730/node-js-map-function-doesnt-work-on-query-from-postgresql/56368796#56368796", "title": "Node.js: Map function doesn&#39;t work on query from PostgreSQL", "body": "<p>It should be <code>result.rows</code> not just <code>rows</code></p>\n\n<p>According to this - <a href=\"https://node-postgres.com/api/result\" rel=\"nofollow noreferrer\">https://node-postgres.com/api/result</a></p>\n\n<pre><code>app.get('/car/:id', (req, res) =&gt; {\n\n    const car_id = req.params.id;\n    const queryString = `SELECT * FROM cars WHERE car_id= ${car_id}`;\n\n    client.query(queryString, (err, result, fields) =&gt; {\n        if (err) {\n            console.log(err.stack);\n            res.sendStatus(500);\n            res.end();\n        } else {\n                const car = result.rows.map((row) =&gt; {\n                return {\"Car_ID\": row.car_id}\n            });\n\n            res.json(car);\n            console.log(result.rows);\n        }\n    });\n</code></pre>\n"}], "owner": {"reputation": 1397, "user_id": 7890537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qQEYY.jpg?s=128&g=1", "display_name": "Qui-Gon Jinn", "link": "https://stackoverflow.com/users/7890537/qui-gon-jinn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 1, "accepted_answer_id": 56368796, "answer_count": 1, "score": 1, "last_activity_date": 1559165435, "creation_date": 1559165097, "question_id": 56368730, "link": "https://stackoverflow.com/questions/56368730/node-js-map-function-doesnt-work-on-query-from-postgresql", "title": "Node.js: Map function doesn&#39;t work on query from PostgreSQL", "body": "<h3>I'm creating my first app using Node.js and PostgreSQL.</h3>\n\n<p>This app connect's to db and return record to browser in JSON format, its work perfectly till i try to use map function to formating properties. <br/>\nWhen i use map it return an error: <br/><br/>\n<code>TypeError: rows.map is not a function</code> <br/><br/>\nThis is my code.</p>\n\n<pre><code> app.get('/car/:id', (req, res) =&gt; {\n\n    const car_id = req.params.id;\n    const queryString = `SELECT * FROM cars WHERE car_id= ${car_id}`;\n\n    client.query(queryString, (err, rows, fields) =&gt; {\n        if (err) {\n            console.log(err.stack);\n            res.sendStatus(500);\n            res.end();\n        } else {\n                const car = rows.map((row) =&gt; {\n                return {\"Car_ID\": row.car_id}\n            });\n\n            res.json(car);\n            console.log(rows.rows);\n        }\n    });\n</code></pre>\n"}, {"tags": ["javascript", "character", "eof", "invisible"], "comments": [{"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 2, "creation_date": 1559165051, "post_id": 56368708, "comment_id": 99340151, "body": "What code gives you that error?"}, {"owner": {"reputation": 4539, "user_id": 812102, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c880f325d3b581289aef2423ad3920fe?s=128&d=identicon&r=PG", "display_name": "Skippy le Grand Gourou", "link": "https://stackoverflow.com/users/812102/skippy-le-grand-gourou"}, "reply_to_user": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1559165275, "post_id": 56368708, "comment_id": 99340221, "body": "@p.s.w.g The error is thrown by PhantomJS code on the Apify platform."}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1559165451, "post_id": 56368708, "comment_id": 99340272, "body": "Try trimming the input: <code>JSON.parse(c.trim())</code>"}, {"owner": {"reputation": 4539, "user_id": 812102, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c880f325d3b581289aef2423ad3920fe?s=128&d=identicon&r=PG", "display_name": "Skippy le Grand Gourou", "link": "https://stackoverflow.com/users/812102/skippy-le-grand-gourou"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1559165932, "post_id": 56368708, "comment_id": 99340383, "body": "@GetOffMyLawn <code>trim()</code> indeed removes the character, but since it&#39;s in the middle of the string I cannot really use it."}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 1, "creation_date": 1559170224, "post_id": 56368708, "comment_id": 99341540, "body": "BTW that&#39;s a <code>LINE SEPARATOR</code> character (U+2028), UTF-8 encoded, then URI encoded. This <i>is</i> considered to be <a href=\"https://en.wikipedia.org/wiki/Whitespace_character#Unicode\" rel=\"nofollow noreferrer\">whitespace</a> by Unicode, so it <i>should</i> be fine, but perhaps PhantomJS is using a different definition of whitespace."}], "answers": [{"tags": [], "owner": {"reputation": 4539, "user_id": 812102, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c880f325d3b581289aef2423ad3920fe?s=128&d=identicon&r=PG", "display_name": "Skippy le Grand Gourou", "link": "https://stackoverflow.com/users/812102/skippy-le-grand-gourou"}, "is_accepted": true, "score": 1, "last_activity_date": 1559167624, "last_edit_date": 1559167624, "creation_date": 1559166861, "answer_id": 56369035, "question_id": 56368708, "link": "https://stackoverflow.com/questions/56368708/invisible-character-leads-to-unexpected-eof-error/56369035#56369035", "title": "Invisible character leads to Unexpected EOF error", "body": "<p>Assuming this is the only problematic character, and since its percent-encoding has been identified, a solution is to replace the decoded percent-encoding string\u00a0:</p>\n\n<pre><code>&gt; c.length;\n1\n&gt; let badchar = decodeURI(\"%E2%80%A8\");\n&gt; let regex = new RegExp(badchar, \"g\");\n&gt; newc = c.replace(regex, \"\");\n&gt; newc.length;\n0\n</code></pre>\n\n<p>Or if for some reason <code>RegExp</code> is not available\u00a0:</p>\n\n<pre><code>&gt; newc = c.split(badchar).join(\"\")\n</code></pre>\n"}], "owner": {"reputation": 4539, "user_id": 812102, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c880f325d3b581289aef2423ad3920fe?s=128&d=identicon&r=PG", "display_name": "Skippy le Grand Gourou", "link": "https://stackoverflow.com/users/812102/skippy-le-grand-gourou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "accepted_answer_id": 56369035, "answer_count": 1, "score": 0, "last_activity_date": 1559167624, "creation_date": 1559164911, "last_edit_date": 1559165843, "question_id": 56368708, "link": "https://stackoverflow.com/questions/56368708/invisible-character-leads-to-unexpected-eof-error", "title": "Invisible character leads to Unexpected EOF error", "body": "<p>While trying to handle a string I am facing</p>\n\n<blockquote>\n  <p>Error: SyntaxError: Unexpected EOF</p>\n</blockquote>\n\n<p>I have no control on how the string is generated.  I managed to isolate the problematic character(s) by dichotomy with <code>substring()</code>, however it doesn't get printed either by <code>console.log()</code> or by <code>JSON.parse()</code>\u00a0: I get</p>\n\n<pre><code>&gt; console.log(c);\n\"\"\n&gt; JSON.parse(c);\n\"\"\n</code></pre>\n\n<p>yet</p>\n\n<pre><code>&gt; c.length;\n1\n</code></pre>\n\n<p>All I know is that it is followed by a <code>\\n</code>.</p>\n\n<p>How can I identify it and get rid of it\u00a0?</p>\n\n<h2>Update</h2>\n\n<pre><code>&gt; console.log(encodeURIComponent(c));\n%E2%80%A8\n</code></pre>\n\n<p><a href=\"https://www.w3schools.com/tags/ref_urlencode.asp\" rel=\"nofollow noreferrer\">Is this even a character\u00a0??</a></p>\n"}, {"tags": ["javascript", "html", "variables", "variable-declaration"], "comments": [{"owner": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "edited": false, "score": 2, "creation_date": 1559165030, "post_id": 56368673, "comment_id": 99340146, "body": "You can&#39;t. There is never a good reason to do it"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1559165064, "post_id": 56368673, "comment_id": 99340157, "body": "You certainly need to limit the scope of the variables in some way, otherwise there would be no way to tell them apart. What that scope needs to be depends on what you want to do with the variables and where they need to be available. Or you could just rename one of them, if they both need to be global"}, {"owner": {"reputation": 445, "user_id": 4401917, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1206481151/picture?type=large", "display_name": "Abdou Bestmood", "link": "https://stackoverflow.com/users/4401917/abdou-bestmood"}, "reply_to_user": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "edited": false, "score": 0, "creation_date": 1559166113, "post_id": 56368673, "comment_id": 99340438, "body": "@Andrew, why not? if I&#39;d like to name whatever element I get from the dom an element no matter its type, why should I name it differently?"}, {"owner": {"reputation": 445, "user_id": 4401917, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1206481151/picture?type=large", "display_name": "Abdou Bestmood", "link": "https://stackoverflow.com/users/4401917/abdou-bestmood"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1559166256, "post_id": 56368673, "comment_id": 99340485, "body": "@ADyson Actually I am limiting the scope by closing the content of each file in one single main function, and this does the trick. However, I&#39;d like to know if there&#39;s other possible ways?"}, {"owner": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "edited": false, "score": 0, "creation_date": 1559167264, "post_id": 56368673, "comment_id": 99340780, "body": "@AbdouBestmood When you write code, don&#39;t think short term. Think long. 6 months from now, how digestible will your code be? You are only human, and if you name things the same across files you&#39;re opening up yourself to a slew of mistakes when you forget what is where."}], "answers": [{"comments": [{"owner": {"reputation": 445, "user_id": 4401917, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1206481151/picture?type=large", "display_name": "Abdou Bestmood", "link": "https://stackoverflow.com/users/4401917/abdou-bestmood"}, "edited": false, "score": 0, "creation_date": 1559167189, "post_id": 56368729, "comment_id": 99340758, "body": "Actually I am limiting the scope by closing the content of each file in one single main function, and this does the trick. However, I&#39;d like to know if there&#39;s other possible ways? Like in PHP or C++, you can take profit of namespace feature to apply this matter, is it possible in Js? I have to mention that I am using ES6."}], "tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": false, "score": 2, "last_activity_date": 1559165092, "creation_date": 1559165092, "answer_id": 56368729, "question_id": 56368673, "link": "https://stackoverflow.com/questions/56368673/how-to-redeclare-variables-with-the-same-name-but-belonging-to-different-files-i/56368729#56368729", "title": "How to redeclare variables with the same name but belonging to different files in javascript?", "body": "<p>Your only option is to store them inside objects - variables with the same name in the same scope will be overridden every time. Change that in your JS files.</p>\n\n<p>Instead of:</p>\n\n<pre><code>var aVariable = 42;\n</code></pre>\n\n<p>Do this:</p>\n\n<pre><code>var contents = { aVariable, anotherVariable, /* ...All the variables which have the same names */ };\n</code></pre>\n\n<p>And make sure the name <code>contents</code> is unique for each file.</p>\n"}], "owner": {"reputation": 445, "user_id": 4401917, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1206481151/picture?type=large", "display_name": "Abdou Bestmood", "link": "https://stackoverflow.com/users/4401917/abdou-bestmood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559165915, "creation_date": 1559164771, "last_edit_date": 1559165915, "question_id": 56368673, "link": "https://stackoverflow.com/questions/56368673/how-to-redeclare-variables-with-the-same-name-but-belonging-to-different-files-i", "title": "How to redeclare variables with the same name but belonging to different files in javascript?", "body": "<p>I am loading two js files within an HTML page where both files contain the declaration of variables with the same name. I would like to know if there is a way to declare two variables with the same name other than using closures in javascript? </p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6", "momentjs"], "comments": [{"owner": {"reputation": 1315, "user_id": 7412183, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a73ddfb4eba2ce63e534ab68317210dc?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis", "link": "https://stackoverflow.com/users/7412183/dennis"}, "reply_to_user": {"reputation": 112, "user_id": 8132083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d196817ebafbbe58a47dee3056c13f25?s=128&d=identicon&r=PG", "display_name": "salixor", "link": "https://stackoverflow.com/users/8132083/salixor"}, "edited": false, "score": 0, "creation_date": 1559164554, "post_id": 56368592, "comment_id": 99340006, "body": "But that question talks about array source and filtering. Mine is string."}, {"owner": {"reputation": 1315, "user_id": 7412183, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a73ddfb4eba2ce63e534ab68317210dc?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis", "link": "https://stackoverflow.com/users/7412183/dennis"}, "reply_to_user": {"reputation": 112, "user_id": 8132083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d196817ebafbbe58a47dee3056c13f25?s=128&d=identicon&r=PG", "display_name": "salixor", "link": "https://stackoverflow.com/users/8132083/salixor"}, "edited": false, "score": 0, "creation_date": 1559164585, "post_id": 56368592, "comment_id": 99340016, "body": "Ah got it answer shows isAfter usage."}], "owner": {"reputation": 1315, "user_id": 7412183, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a73ddfb4eba2ce63e534ab68317210dc?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis", "link": "https://stackoverflow.com/users/7412183/dennis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 12, "favorite_count": 0, "closed_date": 1559164597, "answer_count": 0, "score": 0, "last_activity_date": 1559164367, "creation_date": 1559164367, "question_id": 56368592, "link": "https://stackoverflow.com/questions/56368592/how-to-check-if-given-time-in-utc-is-max-10-minutes-time-frame", "closed_reason": "Duplicate", "title": "How to check if given time (in UTC) is max.10 minutes time frame", "body": "<p>I have a time string and moment to parse like this:</p>\n\n<pre><code>const d: string = '2019-05-30T00:05:46.987Z'\nconst date: Date = moment.utc(d)\n</code></pre>\n\n<p>What I want is to check this time if its in <strong>max. 10 min. old</strong>. If its more than 10 minutes then <code>false</code> should given. I want to do this checking against <code>UTC</code> and not the timezone by browser/user.</p>\n\n<p>How can I do that?</p>\n\n<p>I am trying to determine if given object and its time is fresh or not.</p>\n"}, {"tags": ["javascript", "node.js", "discord.js", "node-sqlite3"], "answers": [{"comments": [{"owner": {"reputation": 5000, "user_id": 11321804, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VOIwjh_teGk/AAAAAAAAAAI/AAAAAAAAIjY/X51qzoN8QLM/photo.jpg?sz=128", "display_name": "slothiful", "link": "https://stackoverflow.com/users/11321804/slothiful"}, "edited": false, "score": 1, "creation_date": 1559173210, "post_id": 56368815, "comment_id": 99342168, "body": "<code>message.member.user</code> can be shortened to <code>message.author</code>."}, {"owner": {"reputation": 3, "user_id": 11443029, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_cCLUH7r4P8/AAAAAAAAAAI/AAAAAAAAAAc/7qIAGpoXaJ4/photo.jpg?sz=128", "display_name": "edgetechnician", "link": "https://stackoverflow.com/users/11443029/edgetechnician"}, "edited": false, "score": 0, "creation_date": 1559180972, "post_id": 56368815, "comment_id": 99343688, "body": "Thank you so much, this definitely worked for pulling my own user data and giving it an independent row in the database, but what if I was trying to get the information for all users in the guild? This is what I was attempting by pulling the array -- which does pull all the information for all users, but it bunches it up under one column with values separated by commas. Is there a way to have the database build a row for each member of the guild?"}, {"owner": {"reputation": 3462, "user_id": 2414739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99be8308c27600dba09715b22dec57e6?s=128&d=identicon&r=PG", "display_name": "technicallyjosh", "link": "https://stackoverflow.com/users/2414739/technicallyjosh"}, "reply_to_user": {"reputation": 3, "user_id": 11443029, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_cCLUH7r4P8/AAAAAAAAAAI/AAAAAAAAAAc/7qIAGpoXaJ4/photo.jpg?sz=128", "display_name": "edgetechnician", "link": "https://stackoverflow.com/users/11443029/edgetechnician"}, "edited": false, "score": 0, "creation_date": 1559499865, "post_id": 56368815, "comment_id": 99431280, "body": "@edgetechnician i&#39;ve updated the answer with a bulk insert scenario for creating all users in one command :)"}, {"owner": {"reputation": 3, "user_id": 11443029, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_cCLUH7r4P8/AAAAAAAAAAI/AAAAAAAAAAc/7qIAGpoXaJ4/photo.jpg?sz=128", "display_name": "edgetechnician", "link": "https://stackoverflow.com/users/11443029/edgetechnician"}, "edited": false, "score": 1, "creation_date": 1559591155, "post_id": 56368815, "comment_id": 99461601, "body": "this is awesome! thank you. still getting compile errors, but I see where you&#39;re going with this. I&#39;ll play around and post what how it goes, but this definitely looks to be exactly what I needed. Thank you so much!"}], "tags": [], "owner": {"reputation": 3462, "user_id": 2414739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99be8308c27600dba09715b22dec57e6?s=128&d=identicon&r=PG", "display_name": "technicallyjosh", "link": "https://stackoverflow.com/users/2414739/technicallyjosh"}, "is_accepted": true, "score": 1, "last_activity_date": 1559499825, "last_edit_date": 1559499825, "creation_date": 1559165515, "answer_id": 56368815, "question_id": 56368570, "link": "https://stackoverflow.com/questions/56368570/discordjs-database-not-storing-information-ideally/56368815#56368815", "title": "DiscordJS Database Not Storing Information Ideally", "body": "<p>First off, welcome to the site.</p>\n\n<p>I hope that I can shine some light here without diving into refactoring your code or making you change anything major. </p>\n\n<p>One thing sticks out to me as to <em>why</em> you are storing an array instead of a single value.</p>\n\n<pre><code>let username = message.guild.members.map(m=&gt;m.user.username);\nlet userid = message.guild.members.map(m=&gt;m.user.id);\n</code></pre>\n\n<p>The <code>.map</code> call returns an array, not a single value.</p>\n\n<p>Each user that issues a command is part of the message object. If I remember correctly, you would want this to be something like...</p>\n\n<p><em>(simplified version)</em></p>\n\n<pre><code>const { username, id } = message.member.user;\ndb.run(`INSERT OR REPLACE INTO users(username, id) VALUES(?,?)`, [username, id]);\n// ...\n</code></pre>\n\n<p><a href=\"https://discord.js.org/#/docs/main/stable/class/User\" rel=\"nofollow noreferrer\">User documentation can be found here</a></p>\n\n<p><strong>Edit:</strong></p>\n\n<p>If you wanted to build the database for all users in that one command you could do something like the following with a bulk insert... (quick and dirty)</p>\n\n<pre><code>db.serialize(() =&gt; {\n  db.run('BEGIN TRANSACTION;');\n  // execute inserts in transaction\n  for (const m of message.guild.members) {\n    db.run('INSERT OR REPLACE INTO users(username, id) VALUES(?,?);', [m.user.username, m.user.id]);\n  }\n  // commit all inserts :)\n  db.run('COMMIT;')\n});\n\nmessage.channel.send('User database updated.');\n</code></pre>\n\n<p><a href=\"https://github.com/mapbox/node-sqlite3/wiki/Control-Flow\" rel=\"nofollow noreferrer\">Control flow documenation</a></p>\n\n<p>Hopefully this points you in the right direction :)</p>\n"}], "owner": {"reputation": 3, "user_id": 11443029, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_cCLUH7r4P8/AAAAAAAAAAI/AAAAAAAAAAc/7qIAGpoXaJ4/photo.jpg?sz=128", "display_name": "edgetechnician", "link": "https://stackoverflow.com/users/11443029/edgetechnician"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 966, "favorite_count": 1, "accepted_answer_id": 56368815, "answer_count": 1, "score": 0, "last_activity_date": 1559499825, "creation_date": 1559164262, "question_id": 56368570, "link": "https://stackoverflow.com/questions/56368570/discordjs-database-not-storing-information-ideally", "title": "DiscordJS Database Not Storing Information Ideally", "body": "<p>I'm trying to get the Discord bot to create a database that is basically the user map (a row for each user and columns for ID, nick name, avatar URL, etc) when it receives a !getdata command.</p>\n\n<p>I've gotten to the point where the database successfully takes data, in this case the username and user ID, but it displays all the unique values in two columns as long comma separated values (i.e. the username column displays 'user1,user2,user3').</p>\n\n<p>I'm sure this is by design, but I'm really struggling with restructuring. I'd like to either have it take all the data from an object map (client.users or message.guild.members) but I cannot figure it out. </p>\n\n<p>The other option, which is what I'm trying now, is to create a row for each user and then fill in the values that I want to store, but I'm getting nowhere fast. </p>\n\n<p>I'm very new with SQLite (and node/DiscordJS/JS for that matter), so any advice is greatly appreciated. </p>\n\n<p>Index.js</p>\n\n<pre><code>const Discord = require('discord.js');\nconst client = new Discord.Client();\nconst sql = require('sqlite3');\n\nlet db = new sql.Database(\"users.sqlite\", (err) =&gt; {\n    if (err) {\n        console.log('Error connecting to the database', err)\n    } else {\n        console.log('Database connected.')\n    }\n})\n\nlet token = process.env.CLIENT_TOKEN;\nlet prefix = process.env.PREFIX ;\n\nclient.on('ready', () =&gt; {\n    console.log(`Logged in as ${client.user.tag}!`);\n    db.run(`CREATE TABLE IF NOT EXISTS users(username TEXT, id TEXT)`);\n})\n\nclient.on('message', function(message) {\n\n    if (!message.content.startsWith(prefix));\n\n    const args = message.content.slice(prefix.length).split(/ +/);\n    const command = args.shift().toLowerCase();\n\n    if (command === 'getdata') {\n        let username = message.guild.members.map(m=&gt;m.user.username);\n        let userid = message.guild.members.map(m=&gt;m.user.id);\n        db.run(`INSERT OR REPLACE INTO users(username, id) VALUES(?,?)`, [`${username}`,`${userid}`]);\n        return message.channel.send(`User database updated.`);\n    }\n});\n\nclient.login(token);\n</code></pre>\n\n<p>If you're curious as to the formatting or way things are written, the answer is two fold:</p>\n\n<ol>\n<li>I'm pretty new at this</li>\n<li>This was the only way I could get the values in the database to return something other than null</li>\n</ol>\n\n<p>Thanks in advance,</p>\n"}, {"tags": ["javascript", "node.js", "firebase", "google-cloud-firestore"], "answers": [{"tags": [], "owner": {"reputation": 13073, "user_id": 3858806, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/R0DRu.png?s=128&g=1", "display_name": "Junius L.", "link": "https://stackoverflow.com/users/3858806/junius-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1559167102, "creation_date": 1559167102, "answer_id": 56369081, "question_id": 56368547, "link": "https://stackoverflow.com/questions/56368547/nodejs-firesbase-firestore-does-not-retrieve-any-data-using-admin-sdk/56369081#56369081", "title": "Nodejs firesbase firestore does not retrieve any data using admin sdk", "body": "<p>Try</p>\n\n<pre><code>app.get(\"/\", function (req, res) {\n  var email = req.query.id;\n  var coursesRef = admin.firestore().collection('courses');\n  coursesRef.where(\"email\", \"==\", email).get().then(function (data) {\n\n    data.forEach(doc =&gt; {\n      console.log(doc.data())\n    });\n\n      res.render(\"public/main.ejs\", {\n          data: data\n      })\n  }).catch(function (error) {\n      console.log(error)\n  })\n\n});\n</code></pre>\n"}], "owner": {"reputation": 427, "user_id": 5199821, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/2e4f71b589a1e896f02bd5e41f205203?s=128&d=identicon&r=PG&f=1", "display_name": "Omeed Totakhel", "link": "https://stackoverflow.com/users/5199821/omeed-totakhel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559207670, "creation_date": 1559164173, "last_edit_date": 1559207670, "question_id": 56368547, "link": "https://stackoverflow.com/questions/56368547/nodejs-firesbase-firestore-does-not-retrieve-any-data-using-admin-sdk", "title": "Nodejs firesbase firestore does not retrieve any data using admin sdk", "body": "<p>I am trying to read data from firestore database of firebase using admin sdk. The function returns nothing even I don't receive any error. The objective is to get the data using admin sdk and pass it to the browser using ejs variable. </p>\n\n<p>Here is my code. </p>\n\n<pre><code>var admin = require('firebase-admin');\nvar serviceAccount = require(\"path to json file\");\n\nadmin.initializeApp({\n    credential: admin.credential.cert(serviceAccount),\n    databaseURL: \"mydatabase id\"\n});\n\nvar db = admin.firestore();\nvar courses = db.collection(\"courses\");\n\n\napp.get(\"/\", function (req, res) {\n    var email = req.query.id;\n    courses.where(\"email\", \"==\", email).get().then(function (data) {\n        console.log(data)\n        res.render(\"public/main.ejs\", {\n            data: data\n        })\n    }).catch(function (error) {\n        console.log(error)\n    })\n\n});\n</code></pre>\n"}, {"tags": ["javascript", "events"], "comments": [{"owner": {"reputation": 8444, "user_id": 6210773, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MkqCSSKA7j0/AAAAAAAAAAI/AAAAAAAAAFE/X3FzsuJTRqI/photo.jpg?sz=128", "display_name": "Alex Kudryashev", "link": "https://stackoverflow.com/users/6210773/alex-kudryashev"}, "edited": false, "score": 0, "creation_date": 1559164703, "post_id": 56368523, "comment_id": 99340054, "body": "&quot;In some browsers, calls to window.alert(), window.confirm(), and window.prompt() may be ignored during this event. See the HTML specification for more details.&quot;"}, {"owner": {"reputation": 508, "user_id": 3994240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52dd004bc20d910423e7d8ba2d1b26c7?s=128&d=identicon&r=PG&f=1", "display_name": "TheUnKnown", "link": "https://stackoverflow.com/users/3994240/theunknown"}, "edited": false, "score": 1, "creation_date": 1559165626, "post_id": 56368523, "comment_id": 99340314, "body": "At the time of running the page, I saw an error in Chrome, &quot;blocked alert during beforeunload&quot;. It seems like most browsers have removed onbeforeunload. Have a look here: <a href=\"https://developers.google.com/web/updates/2017/03/dialogs-policy\" rel=\"nofollow noreferrer\">developers.google.com/web/updates/2017/03/dialogs-policy</a>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559166257, "post_id": 56368523, "comment_id": 99340487, "body": "You shouldn&#39;t try to alert in this event handler. If it returns a string, the browser will display its own confirmation dialog that asks if the user really wants to leave the page."}, {"owner": {"reputation": 31, "user_id": 11575147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c9257a490e325a3ee4a56b8aec5447?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/11575147/dave"}, "edited": false, "score": 0, "creation_date": 1559170347, "post_id": 56368523, "comment_id": 99341566, "body": "Thank you all for your comments. Bottom line is that I"}, {"owner": {"reputation": 31, "user_id": 11575147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c9257a490e325a3ee4a56b8aec5447?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/11575147/dave"}, "edited": false, "score": 0, "creation_date": 1559170873, "post_id": 56368523, "comment_id": 99341696, "body": "what is the alternative to the onbeforeunload which seems to be vanished suddenly?"}, {"owner": {"reputation": 31, "user_id": 11575147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c9257a490e325a3ee4a56b8aec5447?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/11575147/dave"}, "edited": false, "score": 0, "creation_date": 1559173733, "post_id": 56368523, "comment_id": 99342279, "body": "I found a page at <code>https:&#47;&#47;rawgit.com&#47;jonnymoo&#47;b960c889a6152ffd4a1ff32437991442&zwnj;&#8203;&#47;raw&#47;leave.html</code> which simply executes the onbeforeunload and it works on my laptop when I try the live page. But when I copy the source code of the page and try it on my laptop the onbeforeunload does not execute. Has anybody any idea why the same code does not fire the onbeforeunload on my laptop?"}, {"owner": {"reputation": 72, "user_id": 12158321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb887e0cb0207a7067dc0c52c3ebf9fc?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktoor", "link": "https://stackoverflow.com/users/12158321/wiktoor"}, "edited": false, "score": 0, "creation_date": 1618996441, "post_id": 56368523, "comment_id": 118768915, "body": "Hi @Dave ! where You able to find a solution to this ? Seems like i have exactly the same problem. Firefox does run my &#39;onbeforeunload&#39; event, but chrome does not. This <code>https:&#47;&#47;rawgit.com&#47;jonnymoo&#47;b960c889a6152ffd4a1ff32437991442&zwnj;&#8203;&#47;raw&#47;leave.html</code> link You provided does work on my chrome."}], "owner": {"reputation": 31, "user_id": 11575147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c9257a490e325a3ee4a56b8aec5447?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/11575147/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1559164063, "creation_date": 1559164063, "question_id": 56368523, "link": "https://stackoverflow.com/questions/56368523/windows-onbeforeunload-event", "title": "Windows onbeforeunload event", "body": "<p>onbeforeunload does not fire on any browser (Edge, Chrome, Firefox, Safari) on my laptop.\nThe following example is from MDN web docs published in 2019.\nFor god sake why browsers behave sooooo stupid and do not fire the event.\nI have lost hours of my life time watching the screen and wondering why this supposedly simple code does not work on any browser.\nAm I really doing something wrong here or do I have an issue with my windows 10 on my laptop or the browser developers make the life hell for us?\nThe onbeforeunload event is very well documented by the browsers to be workable just as written bellow.\nSo why it does not work?</p>\n\n<p>Used example from: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onbeforeunload\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onbeforeunload</a></p>\n\n<pre><code>&lt;html\n&lt;head&gt;\n&lt;script language='javascript'  type='text/javascript'&gt;\n//This example is from: https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onbeforeunload\n//I added the line alert('unloading')\n//The alert is not shown so the onbeforeunload is not fired. Why?\nalert('2')\nwindow.addEventListener('beforeunload', function (e) {\n    alert('unloading')\n  // Cancel the event\n  e.preventDefault();\n  // Chrome requires returnValue to be set\n  e.returnValue = '';\n}\n\n);\n\n&lt;/script&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n    Tesing onbeforunload.\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>onbeforeunload must execute lines of code</p>\n"}, {"tags": ["javascript", "reactjs", "react-native"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 9701305, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cmxMv-sVIhE/AAAAAAAAAAI/AAAAAAAAAYc/BUnvRqKD1wY/photo.jpg?sz=128", "display_name": "chris unsell", "link": "https://stackoverflow.com/users/9701305/chris-unsell"}, "is_accepted": false, "score": 1, "last_activity_date": 1559164470, "creation_date": 1559164470, "answer_id": 56368615, "question_id": 56368462, "link": "https://stackoverflow.com/questions/56368462/cannot-get-checkboxes-of-component-to-render-based-off-state-of-another-componen/56368615#56368615", "title": "Cannot get checkboxes of component to render based off state of another component", "body": "<p>You are mutating state directly in several places (very bad). You have to use this.setState(new_state) or react looses track of what is changing. In order to change the state of one component based on the value of another, you need to have the dependent component as a child of the control component so it can receive the value as a prop or you need to pass a state changing function to the controlling element that is bound to the dependent element.\nRead the official react docs on how state works and lifting state for more info.\n<a href=\"https://reactjs.org/docs/faq-state.html\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/faq-state.html</a></p>\n\n<p><a href=\"https://reactjs.org/docs/lifting-state-up.html\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/lifting-state-up.html</a></p>\n"}], "owner": {"reputation": 491, "user_id": 10686893, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GBzPa4nDcjY/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hIpyhONoCQuNmzRYwzuV6JonF2Fw/mo/photo.jpg?sz=128", "display_name": "schoenbl", "link": "https://stackoverflow.com/users/10686893/schoenbl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559164470, "creation_date": 1559163738, "question_id": 56368462, "link": "https://stackoverflow.com/questions/56368462/cannot-get-checkboxes-of-component-to-render-based-off-state-of-another-componen", "title": "Cannot get checkboxes of component to render based off state of another component", "body": "<p>In my component did update, I console.log this.state.checkedTeams and this.state.checked. These values are determined through the map in componentDidUpdate. They read as they should read.</p>\n\n<p>However, when I console log the values in side the render, I get empty arrays.</p>\n\n<p>When I try to set the state in componentDidUpdate, I exceed the maximum depth and throw an error.</p>\n\n<p>The goal of this to be able to adjust this.state.checked based off of the state of a foreign component.</p>\n\n<pre><code>import React, { Component } from 'react'\nimport { Text, View } from 'react-native'\nimport { connect } from 'react-redux'\nimport { loadTeams, loadLeagues } from '../actions'\nimport Check from './CheckBox'\n\nclass TeamSelect extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            checked: [],\n            checkedTeams: [],\n            setOnce: 0\n        }\n    }\n\n    componentDidUpdate() {\n\n        this.state.checked.length = 0\n\n            this.props.team.map(\n                (v, i) =&gt; {\n                    if(this.props.checkedLeagues.includes(v.league.acronym)){\n                        this.state.checked.push(true)\n                        this.state.checkedTeams.push(v.team_name)\n                    } else{\n                        this.state.checked.push(false)\n                    }\n                }\n            )\n\n        console.log('checkedTeams', this.state.checkedTeams)\n        console.log('checked', this.state.checked)\n    }\n\n    // componentDidUpdate(){\n    //     if(this.state.checked.length === 0) {\n    //         this.props.team.map(\n    //             (v, i) =&gt; {\n    //                 if(this.props.checkedLeagues.includes(v.league.acronym)){\n    //                     this.state.checked.push(true)\n    //                     this.state.checkedTeams.push(v.team_name)\n    //                 } else{\n    //                     this.state.checked.push(false)\n    //                 }\n    //             }\n    //         )\n    //     }\n\n\n    //     console.log('checked league', this.props.checkedLeagues)\n    // }\n\n    changeCheck = (index, name) =&gt; {\n\n        firstString = []\n\n        if(!this.state.checkedTeams.includes(name)) {\n            firstString.push(name)\n        } else {\n            firstString.filter(v =&gt; { return v !== name})\n        }\n\n        this.state.checkedTeams.map(\n            (v, i) =&gt; {\n                if(v !== name) {\n                    firstString.push(v)\n                }\n            }\n        )\n\n\n        if(name === this.state.checkedTeams[0] &amp;&amp; firstString.length === 0) {\n            this.setState({ checkMessage: `Don't you want something to look at?` })\n        } else {\n            if(!this.state.checkedTeams.includes(name)){\n                this.state.checkedTeams.push(name)\n            } else {\n                this.setState({checkedTeams: this.state.checkedTeams.filter(v =&gt; { return v !== name})})\n            }\n            this.state.checked[index] = !this.state.checked[index]\n            this.setState({ checked: this.state.checked })\n\n            // queryString = []\n\n            // firstString.map(\n            //     (v, i) =&gt; {\n            //         if (queryString.length &lt; 1) {\n            //             queryString.push(`?league=${v}`)\n            //         } else if (queryString.length &gt;= 1 ) {\n            //             queryString.push(`&amp;league=${v}`)\n            //         }\n            //     }\n            // )\n            // axios.get(`http://localhost:4000/reports${queryString.join('')}`)\n            //         .then(response =&gt; {\n            //             this.props.loadCards(response.data)\n            //         })\n        }\n                // console.log('first string', firstString)\n                // console.log('in function', this.state.checkedTeams)\n    }\n\n    render() {console.log('in render - checkedTeams', this.state.checkedTeams)\n    console.log('in render - checked', this.state.checked)\n\n        return(\n          &lt;View&gt;\n              { \n                  this.props.team === null ?'' : this.props.team.map(\n                      (v, i) =&gt; {\n                         return(\n                            &lt;View key={i}&gt;\n                                &lt;Check\n                                    checked={this.state.checked[i]}\n                                    index={i}\n                                    value={v.team_name}\n                                    changeCheck={this.changeCheck}\n                                /&gt;\n\n                               { v.team_name === undefined ? null :\n                                &lt;Text&gt;{v.team_name}&lt;/Text&gt;}\n                            &lt;/View&gt;\n\n                            )\n                      }\n                  )\n             }\n          &lt;/View&gt;\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n      team: state.team.team,\n      checkedLeagues: state.league.checkedLeagues\n     }\n   }\n\nexport default connect(mapStateToProps)(TeamSelect)\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "function", "methods", "filter"], "comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 3, "creation_date": 1559163897, "post_id": 56368461, "comment_id": 99339798, "body": "Your code seems to work, something else must be the problem."}, {"owner": {"reputation": 1044, "user_id": 166142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ff2c9b2a50b2c81443a7c2e9869dad7?s=128&d=identicon&r=PG", "display_name": "MattB", "link": "https://stackoverflow.com/users/166142/mattb"}, "edited": false, "score": 0, "creation_date": 1559163906, "post_id": 56368461, "comment_id": 99339802, "body": "It&#39;s running correctly for me."}, {"owner": {"reputation": 15562, "user_id": 155819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yXygz.jpg?s=128&g=1", "display_name": "Akrion", "link": "https://stackoverflow.com/users/155819/akrion"}, "edited": false, "score": 1, "creation_date": 1559164170, "post_id": 56368461, "comment_id": 99339887, "body": "Works as designed. You can also do just <code>arr.filter(element =&gt; element &gt;= 10);</code> no need for the return in this case etc."}, {"owner": {"reputation": 6218, "user_id": 731416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZdZs.png?s=128&g=1", "display_name": "Todd Chaffee", "link": "https://stackoverflow.com/users/731416/todd-chaffee"}, "edited": false, "score": 0, "creation_date": 1559164701, "post_id": 56368461, "comment_id": 99340053, "body": "The code you provided does not return the original array."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11575092, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5rcOmxlnGbU/AAAAAAAAAAI/AAAAAAAAAC0/86krBNxnFGM/photo.jpg?sz=128", "display_name": "Litterial", "link": "https://stackoverflow.com/users/11575092/litterial"}, "is_accepted": false, "score": 0, "last_activity_date": 1605626282, "last_edit_date": 1605626282, "creation_date": 1559164599, "answer_id": 56368635, "question_id": 56368461, "link": "https://stackoverflow.com/questions/56368461/javascript-filter-method-returning-back-original-array-and-not-filtering/56368635#56368635", "title": "JavaScript: filter() Method Returning Back Original Array and Not Filtering", "body": "<p>You code is missing a few things, but you are on the right track. <code>Array.filter</code> doesn't change the original array. Set a variable,<code>var filter</code>, and set it equal to the function test. Then <code>console.log(filter(arr))</code></p>\n"}, {"tags": [], "owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "is_accepted": false, "score": 0, "last_activity_date": 1559165051, "last_edit_date": 1559165051, "creation_date": 1559164701, "answer_id": 56368659, "question_id": 56368461, "link": "https://stackoverflow.com/questions/56368461/javascript-filter-method-returning-back-original-array-and-not-filtering/56368659#56368659", "title": "JavaScript: filter() Method Returning Back Original Array and Not Filtering", "body": "<p>Filter returns a new array, so depending on how you are using your function, you most likely are looking at the original array, which you cannot do, you need to look at the filtered results.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr = [12, 5, 8, 130, 44]\r\n\r\nfunction test(arr) {\r\n  return arr.filter((element) =&gt; {\r\n    return element &gt;= 10\r\n  });\r\n}\r\n\r\n// The filtered results\r\nconsole.log('The filtered array', test(arr))\r\n\r\n// The original array\r\nconsole.log('The original array', arr)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>To modify the array in place you can use a while loop, and then splice the elements like this which will modify the array in place.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr = [12, 5, 8, 130, 44]\r\n\r\n// Get the initial length of the array\r\nlet i = arr.length\r\n\r\n// Loop backwards over the array as not to skip values when they get removed\r\nwhile(--i) {\r\n  if(arr[i] &gt; 10) continue\r\n  arr.splice(i, 1)\r\n}\r\n\r\nconsole.log(arr)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Instead of a while, you could also just assign the value back to the original array overwriting is original value.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr = [12, 5, 8, 130, 44]\r\n\r\nfunction test(arr) {\r\n  return arr.filter((element) =&gt; {\r\n    return element &gt;= 10\r\n  });\r\n}\r\n\r\n// Assign the result back to arr\r\narr = test(arr)\r\n\r\n// The new value of arr\r\nconsole.log(arr)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1681, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1605626282, "creation_date": 1559163735, "last_edit_date": 1559163866, "question_id": 56368461, "link": "https://stackoverflow.com/questions/56368461/javascript-filter-method-returning-back-original-array-and-not-filtering", "title": "JavaScript: filter() Method Returning Back Original Array and Not Filtering", "body": "<p>I have the following code below using the filter() array function. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>arr = [12, 5, 8, 130, 44]\r\n\r\nfunction test(arr) {\r\n  return arr.filter((element) =&gt; {\r\n    return element &gt;= 10\r\n  });\r\n}\r\n\r\nconsole.log(test(arr))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>My code is returning the original array ([ 12, 5, 8, 130, 44 ]) and not filtering at all.  What am I doing wrong?  </p>\n\n<p>Note: I want to use the filter() method for this.  </p>\n"}, {"tags": ["javascript", "jquery", "ajax", "apache", "firefox"], "comments": [{"owner": {"reputation": 1054, "user_id": 9837329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r4OiO.jpg?s=128&g=1", "display_name": "ASSILI Taher", "link": "https://stackoverflow.com/users/9837329/assili-taher"}, "edited": false, "score": 0, "creation_date": 1559164263, "post_id": 56368435, "comment_id": 99339911, "body": "The code 400 means bad request. So you have invalid syntax on server side."}, {"owner": {"reputation": 1054, "user_id": 9837329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r4OiO.jpg?s=128&g=1", "display_name": "ASSILI Taher", "link": "https://stackoverflow.com/users/9837329/assili-taher"}, "edited": false, "score": 0, "creation_date": 1559164306, "post_id": 56368435, "comment_id": 99339926, "body": "Please add the function that handle ajax request. The python code."}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1559164359, "post_id": 56368435, "comment_id": 99339937, "body": "What happens if try to access the same URL using curl?"}, {"owner": {"reputation": 8777, "user_id": 1386703, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o6Jbm.png?s=128&g=1", "display_name": "skobaljic", "link": "https://stackoverflow.com/users/1386703/skobaljic"}, "edited": false, "score": 0, "creation_date": 1559165103, "post_id": 56368435, "comment_id": 99340166, "body": "You better check if you are working with local files, or on server - check if Firefox URI is same as on another browser. Copy from Chrome to Firefox."}, {"owner": {"reputation": 103, "user_id": 4930120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d76a36f6c52cce8ad7990b9c9f3d4705?s=128&d=identicon&r=PG&f=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/4930120/kieran"}, "reply_to_user": {"reputation": 1054, "user_id": 9837329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r4OiO.jpg?s=128&g=1", "display_name": "ASSILI Taher", "link": "https://stackoverflow.com/users/9837329/assili-taher"}, "edited": false, "score": 1, "creation_date": 1559168078, "post_id": 56368435, "comment_id": 99340987, "body": "@ASSILITaher since Apache&#39;s access log isn&#39;t showing any incoming requests, is there any use in showing the Python code if it&#39;s not being reached anyway? I&#39;ll add it if it&#39;s helpful but the request doesn&#39;t seem to be making it as far as the server"}, {"owner": {"reputation": 103, "user_id": 4930120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d76a36f6c52cce8ad7990b9c9f3d4705?s=128&d=identicon&r=PG&f=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/4930120/kieran"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1559168287, "post_id": 56368435, "comment_id": 99341050, "body": "@RandyCasburn updated."}, {"owner": {"reputation": 1534, "user_id": 4589931, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh3.googleusercontent.com/-7h3oUiT0GNI/AAAAAAAAAAI/AAAAAAAAAJk/BMEx6gt1MWg/photo.jpg?sz=128", "display_name": "Rastalamm", "link": "https://stackoverflow.com/users/4589931/rastalamm"}, "edited": false, "score": 0, "creation_date": 1559169382, "post_id": 56368435, "comment_id": 99341321, "body": "Whats the full url thats being called in the network tab?"}, {"owner": {"reputation": 103, "user_id": 4930120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d76a36f6c52cce8ad7990b9c9f3d4705?s=128&d=identicon&r=PG&f=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/4930120/kieran"}, "reply_to_user": {"reputation": 1534, "user_id": 4589931, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh3.googleusercontent.com/-7h3oUiT0GNI/AAAAAAAAAAI/AAAAAAAAAJk/BMEx6gt1MWg/photo.jpg?sz=128", "display_name": "Rastalamm", "link": "https://stackoverflow.com/users/4589931/rastalamm"}, "edited": false, "score": 0, "creation_date": 1559169501, "post_id": 56368435, "comment_id": 99341349, "body": "@Rastalamm for some reason the AJAX requests are not appearing in the Firefox network tab at all, only as errors in the console."}, {"owner": {"reputation": 1534, "user_id": 4589931, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh3.googleusercontent.com/-7h3oUiT0GNI/AAAAAAAAAAI/AAAAAAAAAJk/BMEx6gt1MWg/photo.jpg?sz=128", "display_name": "Rastalamm", "link": "https://stackoverflow.com/users/4589931/rastalamm"}, "edited": false, "score": 0, "creation_date": 1559169657, "post_id": 56368435, "comment_id": 99341381, "body": "Have you tried setting the full url in your Ajax request? Something like: <code>url: &#39;localhost:3000&#47;api&#47;send-email&#39;</code> instead of <code>url: &#39;send-email&#39;</code>"}, {"owner": {"reputation": 103, "user_id": 4930120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d76a36f6c52cce8ad7990b9c9f3d4705?s=128&d=identicon&r=PG&f=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/4930120/kieran"}, "reply_to_user": {"reputation": 1534, "user_id": 4589931, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh3.googleusercontent.com/-7h3oUiT0GNI/AAAAAAAAAAI/AAAAAAAAAJk/BMEx6gt1MWg/photo.jpg?sz=128", "display_name": "Rastalamm", "link": "https://stackoverflow.com/users/4589931/rastalamm"}, "edited": false, "score": 0, "creation_date": 1559169911, "post_id": 56368435, "comment_id": 99341458, "body": "@Rastalamm I have, got the same result. Edited to reflect, thanks for pointing it out."}, {"owner": {"reputation": 1534, "user_id": 4589931, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh3.googleusercontent.com/-7h3oUiT0GNI/AAAAAAAAAAI/AAAAAAAAAJk/BMEx6gt1MWg/photo.jpg?sz=128", "display_name": "Rastalamm", "link": "https://stackoverflow.com/users/4589931/rastalamm"}, "edited": false, "score": 0, "creation_date": 1559170272, "post_id": 56368435, "comment_id": 99341550, "body": "Can you add in both of your console.log outputs?"}, {"owner": {"reputation": 330, "user_id": 9398337, "user_type": "registered", "profile_image": "https://graph.facebook.com/1608948709174104/picture?type=large", "display_name": "Ionut Eugen", "link": "https://stackoverflow.com/users/9398337/ionut-eugen"}, "edited": false, "score": 0, "creation_date": 1559171577, "post_id": 56368435, "comment_id": 99341831, "body": "Maybe is just me, but AJAX seems a bit easy to misuse. If nothing works I suggest you to try fetch-api"}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 4930120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d76a36f6c52cce8ad7990b9c9f3d4705?s=128&d=identicon&r=PG&f=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/4930120/kieran"}, "edited": false, "score": 1, "creation_date": 1559168396, "post_id": 56369235, "comment_id": 99341077, "body": "It points to a Flask endpoint behind apache, but the response is exactly the same, regardless of what URL is supplied - Apache isn&#39;t even receiving the request."}], "tags": [], "owner": {"reputation": 115, "user_id": 9896663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1528e0069e3f5cbacd7654bab94d5a9?s=128&d=identicon&r=PG&f=1", "display_name": "5pence", "link": "https://stackoverflow.com/users/9896663/5pence"}, "is_accepted": false, "score": 0, "last_activity_date": 1559168105, "creation_date": 1559168105, "answer_id": 56369235, "question_id": 56368435, "link": "https://stackoverflow.com/questions/56368435/ajax-post-not-reaching-server-returning-400-only-in-firefox/56369235#56369235", "title": "Ajax POST not reaching server, returning 400 only in Firefox", "body": "<p>The 400 Bad Request response status code indicates that the server cannot or will not process the request due to something that is perceived to be a client error (e.g., malformed request syntax, invalid request message framing, or deceptive request routing). where does 'send-email' point to?</p>\n"}], "owner": {"reputation": 103, "user_id": 4930120, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d76a36f6c52cce8ad7990b9c9f3d4705?s=128&d=identicon&r=PG&f=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/4930120/kieran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559171343, "creation_date": 1559163586, "last_edit_date": 1559171343, "question_id": 56368435, "link": "https://stackoverflow.com/questions/56368435/ajax-post-not-reaching-server-returning-400-only-in-firefox", "title": "Ajax POST not reaching server, returning 400 only in Firefox", "body": "<p>I have a Flask server running in Apache that returns an HTML page with a button to submit an AJAX POST request to a relative URL. In Firefox, the AJAX call fails <strong>immediately</strong> with a 400, logging <code>POST response ERROR code: 400</code>. Logging the xhr object <strong>or</strong> the data parameter to the console results in <code>&lt;unavailable&gt;</code>, with its <code>responseText</code> attribute as <code>undefined</code>. The response is exactly the same, regardless of what URL is passed to AJAX. The absolute URL (<a href=\"http://thehostname.com/path/send-email\" rel=\"nofollow noreferrer\">http://thehostname.com/path/send-email</a>) also gives the same result.</p>\n\n<p>Apache's <code>access.log</code> shows no request coming in at the time of the AJAX requests. The request does not come up at all in Firefox's \"Network\" tab of the dev tools. The request works fine in Chrome with all other conditions the same, as well is with cURL. </p>\n\n<p>The code is below. Please help!</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;img width=\"20px\" src=\"mail.png\" alt=\"\" onerror=\"this.style.display='none'\" onclick=\"sendEmail('val1', 'val2', 'val3')\"&gt;\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>    function sendEmail(val1, val2, val3) {\n        val1 = prompt('Prompt2 for ' + val2 + ':', val1);\n        console.log('Val1: '+ val1);\n        if(val1) {\n            let xhr = $.ajax({\n                method: 'POST',\n                url: 'send-email',\n                // Tried with and without stringify\n                data: JSON.stringify({param1: val1, param2: val2, param3: val3}),\n                contentType: \"application/json; charset=utf-8\",\n                dataType: 'text',\n                cache: false,\n                traditional: true\n            }).done(function(){\n                alert(\"Sent!\");\n            }).fail(function(data){\n                console.log(\"Info:\");\n                console.log(xhr.responseText);\n                alert('Failed to send');\n            });\n        }\n        console.log(\"Ret false\");\n        return false;\n    };\n</code></pre>\n\n<p>Python endpoint:</p>\n\n<pre><code>@app.route('/autorack_testing_report/send-email', methods=['POST'])\n@app.route('/send-email', methods=['POST'])\ndef send_email():\n    print(\"Send email\") # Not getting printed\n    info = request.form or request.json\n    if not (info and info.get('param1') and info.get('param2')):\n        abort(400, 'Must supply recipient and ticket')\n    send_to_list = re.split(',|;', info['param1'])\n    send_to = []\n    for s in send_to_list:\n        if s.strip():\n            send_to.append(s.strip() + '@domain.com')\n    send_to = ','.join(send_to)\n    ticket = info['ticket']\n    smtp = smtplib.SMTP('mysmtphost', 25)\n    msg = MIMEMultipart('alternative')\n    msg['Subject'] = 'subject'\n    msg['From'] = msg['To'] = send_to\n    msg.attach(MIMEText('somecontent', 'plain'))\n    smtp.sendmail(send_to, send_to, msg.as_string())\n    smtp.quit()\n    resp = make_response('Success', 200)\n    resp.headers['Content-Type'] = 'text/plain'\n    return resp\n</code></pre>\n\n<p>Firefox console output:</p>\n\n<pre><code>Val1: myinput\nRet false\nPOST response ERROR code: 400\nPOST response ERROR code: 400\nInfo:\nundefined\n</code></pre>\n\n<p>No Python output, since Apache isn't receiving the request.</p>\n"}, {"tags": ["javascript", "reactjs", "formik"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 7920614, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iN5L5Cp0wGY/AAAAAAAAAAI/AAAAAAAAAB8/zcxBy9rPGr0/photo.jpg?sz=128", "display_name": "Dzmitry Shchepin", "link": "https://stackoverflow.com/users/7920614/dzmitry-shchepin"}, "edited": false, "score": 1, "creation_date": 1559252199, "post_id": 56373067, "comment_id": 99371898, "body": "Thank you! Modified a little bit - now it&#39;s working great. You make my day!"}], "tags": [], "owner": {"reputation": 141, "user_id": 9922737, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tJUILKxcZrE/AAAAAAAAAAI/AAAAAAAAmX8/eAO1vrzPyH0/photo.jpg?sz=128", "display_name": "Stafford Rose", "link": "https://stackoverflow.com/users/9922737/stafford-rose"}, "is_accepted": false, "score": 2, "last_activity_date": 1559198680, "creation_date": 1559198680, "answer_id": 56373067, "question_id": 56368406, "link": "https://stackoverflow.com/questions/56368406/how-can-i-use-formik-arrayhelper-outside-of-fieldarray/56373067#56373067", "title": "How can I use formik &quot;arrayHelper&quot; outside of FieldArray?", "body": "<p>To access arrayHelpers outside of a FieldArray, you can use refs.</p>\n\n<p>I've created a code sandbox, showing how you can do this:</p>\n\n<p><a href=\"https://codesandbox.io/s/using-refs-to-access-child-methods-cps7w\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/using-refs-to-access-child-methods-cps7w</a></p>\n"}], "owner": {"reputation": 31, "user_id": 7920614, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iN5L5Cp0wGY/AAAAAAAAAAI/AAAAAAAAAB8/zcxBy9rPGr0/photo.jpg?sz=128", "display_name": "Dzmitry Shchepin", "link": "https://stackoverflow.com/users/7920614/dzmitry-shchepin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2402, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1559198680, "creation_date": 1559163452, "question_id": 56368406, "link": "https://stackoverflow.com/questions/56368406/how-can-i-use-formik-arrayhelper-outside-of-fieldarray", "title": "How can I use formik &quot;arrayHelper&quot; outside of FieldArray?", "body": "<p>I trying to create 2 FieldArray containers with arrayHelpers. Each of them working with different object. Obj1 and Obj2 have their arrayHelper and each of them know how to add and remove objects to/from array. </p>\n\n<p>I want to do some kind of toolbar with two buttons \"Add Obj1\" and \"Add Obj2\" outside of these two containers. \nThe question is how can I work with arrayHelper outside of these containers? Or could you suggest another flow how can change my array?\nThe problem is if I change my array from parent - I can't work with props.values only with props.obj1 but in this case my changes are not saving.</p>\n\n<pre><code>&lt;FieldArray name=\"obj1\"\n                    render={arrayHelpers =&gt; {}/&gt;\n&lt;FieldArray name=\"obj2\"\n                    render={arrayHelpers =&gt; {}/&gt;\n\n&lt;div class=\"toolbar\"&gt;...buttons&lt;/div&gt;\n\n</code></pre>\n"}, {"tags": ["javascript", "java", "jsp", "submit", "confirm"], "comments": [{"owner": {"reputation": 2518, "user_id": 6080254, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/joqiB.jpg?s=128&g=1", "display_name": "Bruno Monteiro", "link": "https://stackoverflow.com/users/6080254/bruno-monteiro"}, "edited": false, "score": 1, "creation_date": 1559163595, "post_id": 56368371, "comment_id": 99339700, "body": "Your action should be in the <code>&lt;form&gt;</code> submit event, not in the button. Check this post here: <a href=\"https://stackoverflow.com/questions/6515502/javascript-form-submit-confirm-or-cancel-submission-dialog-box\" title=\"javascript form submit confirm or cancel submission dialog box\">stackoverflow.com/questions/6515502/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 11575034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d1bce1fddc3c8fc5af42aa4d2107800?s=128&d=identicon&r=PG&f=1", "display_name": "sleffew", "link": "https://stackoverflow.com/users/11575034/sleffew"}, "reply_to_user": {"reputation": 2518, "user_id": 6080254, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/joqiB.jpg?s=128&g=1", "display_name": "Bruno Monteiro", "link": "https://stackoverflow.com/users/6080254/bruno-monteiro"}, "edited": false, "score": 0, "creation_date": 1559239357, "post_id": 56368371, "comment_id": 99367032, "body": "I tried it that way but run into the same problem where the form data is submitted regardless of whether I click ok or cancel."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11575034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d1bce1fddc3c8fc5af42aa4d2107800?s=128&d=identicon&r=PG&f=1", "display_name": "sleffew", "link": "https://stackoverflow.com/users/11575034/sleffew"}, "edited": false, "score": 0, "creation_date": 1559239712, "post_id": 56368517, "comment_id": 99367173, "body": "I was thinking of something along these lines.  However, I&#39;m not sure how to call my receiveInventory() method from my ReceiveAction.class on the server yet."}, {"owner": {"reputation": 525, "user_id": 10146470, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mRyE-1lOdXg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pjcCJtjnBbE2gxyr14bfXe7f5F_g/mo/photo.jpg?sz=128", "display_name": "kht", "link": "https://stackoverflow.com/users/10146470/kht"}, "reply_to_user": {"reputation": 1, "user_id": 11575034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d1bce1fddc3c8fc5af42aa4d2107800?s=128&d=identicon&r=PG&f=1", "display_name": "sleffew", "link": "https://stackoverflow.com/users/11575034/sleffew"}, "edited": false, "score": 0, "creation_date": 1559260548, "post_id": 56368517, "comment_id": 99373954, "body": "Instead of calling receiveInventory() on the client side you can make an API call to your server if the user confirms. The server uses the Java classes you defined to process the request, and sends the result back to the client to use."}, {"owner": {"reputation": 525, "user_id": 10146470, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mRyE-1lOdXg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pjcCJtjnBbE2gxyr14bfXe7f5F_g/mo/photo.jpg?sz=128", "display_name": "kht", "link": "https://stackoverflow.com/users/10146470/kht"}, "reply_to_user": {"reputation": 1, "user_id": 11575034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d1bce1fddc3c8fc5af42aa4d2107800?s=128&d=identicon&r=PG&f=1", "display_name": "sleffew", "link": "https://stackoverflow.com/users/11575034/sleffew"}, "edited": false, "score": 0, "creation_date": 1559260719, "post_id": 56368517, "comment_id": 99373992, "body": "If your form is ALREADY submitting your request to the server properly (just need to wait for confirmation) then the quick and dirty way is to change <code>receiveInventory();</code> to <code>document.getElementById(&#39;myFormId&#39;).submit();</code> where &#39;myFormId&#39; is an id you give to the form you are submitting"}], "tags": [], "owner": {"reputation": 525, "user_id": 10146470, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mRyE-1lOdXg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pjcCJtjnBbE2gxyr14bfXe7f5F_g/mo/photo.jpg?sz=128", "display_name": "kht", "link": "https://stackoverflow.com/users/10146470/kht"}, "is_accepted": false, "score": 0, "last_activity_date": 1559260792, "last_edit_date": 1559260792, "creation_date": 1559164015, "answer_id": 56368517, "question_id": 56368371, "link": "https://stackoverflow.com/questions/56368371/jsp-confirm-before-submit/56368517#56368517", "title": "JSP: Confirm before submit", "body": "<p>Your button is a \"submit\" type so it is most likely triggering the form's <code>onSubmit</code> event when it is clicked, regardless of your own click handler. Also, confirm returns a boolean which you can use to tell if they selected the \"Ok\" button.</p>\n\n<pre><code>function checkSubmission() {\n    let confirmed = confirm(\"Are you sure?\");\n\n    if (confirmed) {\n         // Submit your form....\n         recieveInventory(); // document.getElementById('myFormId').submit();\n    } else {\n        // Handle cancel here if needed\n    }\n}\n\n&lt;button name=\"_eventName\" value=\"receiveInventory\" type=\"button\" class=\"btn btn-green disabler-ignore-readonly\" onclick=\"javascript:return checkSubmission();\"&gt;Receive&lt;/button&gt;\n</code></pre>\n\n<p>Ideally you probably should just set your form's <code>submit</code> handler to call <code>checkSubmission</code>. Then you don't have to set a <code>click</code> handler on the button at all</p>\n"}], "owner": {"reputation": 1, "user_id": 11575034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d1bce1fddc3c8fc5af42aa4d2107800?s=128&d=identicon&r=PG&f=1", "display_name": "sleffew", "link": "https://stackoverflow.com/users/11575034/sleffew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 742, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559260792, "creation_date": 1559163296, "question_id": 56368371, "link": "https://stackoverflow.com/questions/56368371/jsp-confirm-before-submit", "title": "JSP: Confirm before submit", "body": "<p>I'm trying to show a confirm dialog before submitting form data. I want a dialog to pop up with ok and cancel where ok submits the data and cancel does nothing.  This has proven to be trickier than I ever could have imagined.</p>\n\n<p>The web application is in java and jsp.  I've tried the following using \"onclick=\" hoping for a simple solution to no avail:</p>\n\n<p>Java: ReceiveAction.java</p>\n\n<pre><code>        public Resolution receiveInventory() {\n             ...\n             return new ForwardResolution(ADJUSTMENT);\n        }\n</code></pre>\n\n<p>jsp: receive-action.jsp</p>\n\n<pre><code>        &lt;button name=\"_eventName\" value=\"receiveInventory\" type=\"submit\" class=\"btn btn-green disabler-ignore-readonly\" onclick=\"javascript:return confirm('are you sure?');\"&gt;Receive&lt;/button&gt;\n</code></pre>\n\n<p>The problem is I can get the confirm dialog to appear with the above code but receiveInventory is triggered whether I hit ok or cancel.  I need it to only trigger when I hit ok.  I feel like I'm very well versed in java and jsp but I'm less than a novice when it comes to javascript(I avoid it like the plague) and I think that's what I'm going to need to pull this off.  Any help or pointing in the right direction would be greatly appreciated.</p>\n"}, {"tags": ["javascript", "unit-testing", "testing", "automated-tests", "jestjs"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1559163481, "post_id": 56368358, "comment_id": 99339659, "body": "<i>Where</i> are you seeing this? I had a similar problem when running in CircleCI that turned out to be due to Jest trying to spin up too many workers (detecting all cores on the VM, not just those available to the container); setting <code>--maxWorkers=2</code> solved that. Or are you just running it in watch mode; what <i>is</i> the <code>test</code> command? Note that you don&#39;t need to use <code>done</code> when you have <code>async</code> test functions; Jest can handle the promise for you: <a href=\"https://jestjs.io/docs/en/asynchronous\" rel=\"nofollow noreferrer\">jestjs.io/docs/en/asynchronous</a>."}, {"owner": {"reputation": 2101, "user_id": 1088796, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c0bbb9c28430ce5bb2cd10a633276d2e?s=128&d=identicon&r=PG", "display_name": "intA", "link": "https://stackoverflow.com/users/1088796/inta"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1559163684, "post_id": 56368358, "comment_id": 99339733, "body": "@jonrsharpe I&#39;m running it locally. My test command is just &quot;jest&quot;. And yeah, I added the done when I was troubleshooting this issue."}], "owner": {"reputation": 2101, "user_id": 1088796, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c0bbb9c28430ce5bb2cd10a633276d2e?s=128&d=identicon&r=PG", "display_name": "intA", "link": "https://stackoverflow.com/users/1088796/inta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 247, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1559163218, "creation_date": 1559163218, "question_id": 56368358, "link": "https://stackoverflow.com/questions/56368358/jest-test-process-never-completing-after-all-tests-pass-how-can-i-get-them-to-c", "title": "Jest test process never completing after all tests pass. How can I get them to complete", "body": "<p>I have a Jest test class with 2 tests that are both passing fine. My problem is that when I run <code>yarn run test</code> my tests execute but Jest hangs. After digging around online I found a lot of people talking about not handling async/await correctly, but based on everything I see in the Jest docs my implementation is correct. I also tried running the tests with the flag --detectOpenHandles but it gives me no information. The last message I get in my console is \"Ran all test suites.\" but it just hangs after that and never closes the test process. If I use the --forceExit flag is closes fine, but I don't want to have to use this. How can I get my tests to complete?</p>\n\n<p>This is my test class:</p>\n\n<pre><code>describe('urlShortener middleware', () =&gt; {\n\n  const LONG_URL = \"www.google.com\";\n  const SHORT_URL = \"www.g.com\";\n\n  let shortenUrl;\n\n  const req = {\n    body: {\n      url: LONG_URL\n    }\n  };\n\n  const res = { end: jest.fn(), json: jest.fn(), status: jest.fn().mockReturnThis() };\n\n  const mockResponse = {\n    body: {\n      \"short_url\": SHORT_URL\n    },\n    status: 201  \n  };\n\n  let axiosMock = {\n    post: jest.fn().mockResolvedValue(mockResponse)\n  };\n\n  beforeEach(() =&gt; {\n    req.body = {url: LONG_URL};\n\n    jest.setMock('axios', axiosMock);\n    shortenUrl = require('../urlShortener').default;\n\n    res.end.mockReset();\n    res.json.mockReset();\n    res.status.mockReset();\n\n    res.status.mockReturnValue(res);\n  });\n\n  it('should return the data appropriately when nothing goes wrong', async (done) =&gt; {\n    await shortenUrl(req, res);\n\n    expect(axiosMock.post.mock.calls[0][1].original_url).toBe(LONG_URL);\n    expect(res.status).toHaveBeenCalledTimes(1);\n    expect(res.status).toHaveBeenCalledWith(201);\n    expect(res.json).toHaveBeenCalledWith({ shortUrl: SHORT_URL });\n\n    done();\n  });\n\n  it('should set the correct status when the world burns', async (done) =&gt; {\n    axiosMock.post = jest.fn().mockRejectedValue(new Error());\n\n    await shortenUrl(req, res);\n\n    expect(res.status).toHaveBeenCalledTimes(1);\n    expect(res.status).toHaveBeenCalledWith(500);\n    expect(res.json).toHaveBeenCalledTimes(1);\n\n    done();\n  });\n});\n</code></pre>\n"}, {"tags": ["javascript", "dom-events"], "comments": [{"owner": {"reputation": 189597, "user_id": 616443, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/907798bf02efdaf6f9d07d3c0552868f?s=128&d=identicon&r=PG", "display_name": "j08691", "link": "https://stackoverflow.com/users/616443/j08691"}, "edited": false, "score": 0, "creation_date": 1559163139, "post_id": 56368308, "comment_id": 99339545, "body": "Without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to see the issue we can&#39;t help."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 11342769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b701228831837dffce0ad86bd9960a65?s=128&d=identicon&r=PG&f=1", "display_name": "Jonaahfire", "link": "https://stackoverflow.com/users/11342769/jonaahfire"}, "edited": false, "score": 0, "creation_date": 1559163700, "post_id": 56368386, "comment_id": 99339739, "body": "Just  want to have the button disappear and reappear when it&#39;s hovered over or better yet just change colors when it&#39;s hovered over..."}, {"owner": {"reputation": 15, "user_id": 11342769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b701228831837dffce0ad86bd9960a65?s=128&d=identicon&r=PG&f=1", "display_name": "Jonaahfire", "link": "https://stackoverflow.com/users/11342769/jonaahfire"}, "edited": false, "score": 0, "creation_date": 1559164541, "post_id": 56368386, "comment_id": 99340001, "body": "Ok  Scott I moved the hover option to my navigation, I know this is wrong, but I don&#39;t know how to properly set this up..."}, {"owner": {"reputation": 15, "user_id": 11342769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b701228831837dffce0ad86bd9960a65?s=128&d=identicon&r=PG&f=1", "display_name": "Jonaahfire", "link": "https://stackoverflow.com/users/11342769/jonaahfire"}, "edited": false, "score": 0, "creation_date": 1559164563, "post_id": 56368386, "comment_id": 99340009, "body": "const homeNavLink = document.querySelector(&#39;.nav a&#39;); homeNavLink.addEventListener(&#39;hover&#39;, function(event){ h1:hover=color red;  button:hover=background-color:#ff0; }) @ScottMarcus"}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 15, "user_id": 11342769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b701228831837dffce0ad86bd9960a65?s=128&d=identicon&r=PG&f=1", "display_name": "Jonaahfire", "link": "https://stackoverflow.com/users/11342769/jonaahfire"}, "edited": false, "score": 0, "creation_date": 1559166669, "post_id": 56368386, "comment_id": 99340608, "body": "@Jonaahfire No, you misunderstand. <b>There is no JavaScript needed at all</b> in my example. Just CSS. You place the CSS inside of a <code>&lt;style&gt;</code> element and that element goes in the <code>&lt;head&gt;</code> element of the document. No JavaScript. I&#39;ll update the answer to show what the full document structure would look like."}], "tags": [], "owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "is_accepted": false, "score": 2, "last_activity_date": 1559167257, "last_edit_date": 1559167257, "creation_date": 1559163384, "answer_id": 56368386, "question_id": 56368308, "link": "https://stackoverflow.com/questions/56368308/mouseover-flicking/56368386#56368386", "title": "MouseOver Flicking", "body": "<p>This happens because as soon as you hover over an <code>h1</code> it hides, and because it's now hidden, you aren't mousing over it anymore and <code>mouseleave</code> fires, so it's then shown, but then you are mousing over it, so it hides, and so on.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const headerTags1 = document.querySelector('h1');\r\nheaderTags1.addEventListener('mouseenter', function(event){\r\nevent.target.style.display = \"none\";\r\n})\r\nconsole.log(headerTags1)\r\n\r\nconst headerTags2 = document.querySelector('h1');\r\nheaderTags2.addEventListener('mouseleave', function(event){\r\nevent.target.style.display = \"initial\";\r\n})\r\nconsole.log(headerTags2)</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h1&gt;Now you see me...&lt;/h1&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This, of course, is not a good design decision in the first place. What are you really trying to accomplish?</p>\n\n<p><strong>EDIT:</strong> </p>\n\n<blockquote>\n  <p>Just want to have the button disappear and reappear when it's hovered\n  over or better yet just change colors when it's hovered over...</p>\n</blockquote>\n\n<p>Then the better approach would be to just use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/:hover\" rel=\"nofollow noreferrer\">CSS <code>:hover</code> pseudo-class</a> to modify the element' style only while it's being hovered.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!doctype html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n  &lt;title&gt;Page Title Here&lt;/title&gt;\r\n  &lt;style&gt;\r\n    h1:hover { opacity:0; }\r\n    button:hover { color:red; background-color:#ff0; }  \r\n  &lt;/style&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n  &lt;h1&gt;Now you see me...&lt;/h1&gt;\r\n  &lt;button&gt;Hover Over Me&lt;/button&gt;\r\n  \r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 15, "user_id": 11342769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b701228831837dffce0ad86bd9960a65?s=128&d=identicon&r=PG&f=1", "display_name": "Jonaahfire", "link": "https://stackoverflow.com/users/11342769/jonaahfire"}, "edited": false, "score": 0, "creation_date": 1559163998, "post_id": 56368466, "comment_id": 99339839, "body": "@Jonaahfire See my answer on doing this without JavaScript at all."}], "tags": [], "owner": {"reputation": 2724, "user_id": 1970822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a60600ccf383f06065a582c328eedfdc?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1970822/jan"}, "is_accepted": true, "score": 0, "last_activity_date": 1559163745, "creation_date": 1559163745, "answer_id": 56368466, "question_id": 56368308, "link": "https://stackoverflow.com/questions/56368308/mouseover-flicking/56368466#56368466", "title": "MouseOver Flicking", "body": "<p>Scott Marcus gave an excellent explanation for the flickering.</p>\n\n<p>As an alternative you could use the opacity-property of the style. But the element would be still clickable.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const headerTags = document.querySelector('h1');\r\n\r\nheaderTags.addEventListener('mouseenter', function(event){\r\n  event.target.style.opacity = 0;\r\n})\r\n\r\nheaderTags.addEventListener('mouseleave', function(event){\r\n  event.target.style.opacity = 1;\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h1&gt;Now you see me...&lt;/h1&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 15, "user_id": 11342769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b701228831837dffce0ad86bd9960a65?s=128&d=identicon&r=PG&f=1", "display_name": "Jonaahfire", "link": "https://stackoverflow.com/users/11342769/jonaahfire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 56368466, "answer_count": 2, "score": 0, "last_activity_date": 1559306042, "creation_date": 1559163018, "last_edit_date": 1559306042, "question_id": 56368308, "link": "https://stackoverflow.com/questions/56368308/mouseover-flicking", "title": "MouseOver Flicking", "body": "<p>Why is mouse over flickering with these set events?</p>\n\n<p>I have tried the following code</p>\n\n<pre><code>const headerTags1 = document.querySelector('h1');\nheaderTags1.addEventListener('mouseenter', function(event){\nevent.target.style.display = \"none\";\n})\nconsole.log(headerTags1)\n\nconst headerTags2 = document.querySelector('h1');\nheaderTags2.addEventListener('mouseleave', function(event){\nevent.target.style.display = \"initial\";\n})\nconsole.log(headerTags2)\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 11529827, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JHU6GMPMDu4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdngA_5s5TUWzx3tZglTthIRx_iAw/mo/photo.jpg?sz=128", "display_name": "alo gon", "link": "https://stackoverflow.com/users/11529827/alo-gon"}, "edited": false, "score": 0, "creation_date": 1559163808, "post_id": 56368354, "comment_id": 99339772, "body": "yes, but when I pass variable=1, the page opens in that tab, I don&#39;t need to select the tab"}], "tags": [], "owner": {"reputation": 14, "user_id": 1310636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f542c5b83256dd892f65a269968158b?s=128&d=identicon&r=PG", "display_name": "Dima Meshkov", "link": "https://stackoverflow.com/users/1310636/dima-meshkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1559163205, "creation_date": 1559163205, "answer_id": 56368354, "question_id": 56368281, "link": "https://stackoverflow.com/questions/56368281/changing-state-even-when-the-react-tabs-component-is-not-selected/56368354#56368354", "title": "Changing state even when the react-tabs component is not selected", "body": "<p><code>tabIndex</code> in state of the component is updated by you onSelect.</p>\n"}, {"tags": [], "owner": {"reputation": 173187, "user_id": 128165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cdef5bd2099545a776ee86fb8049bdc6?s=128&d=identicon&r=PG", "display_name": "Gabriele Petrioli", "link": "https://stackoverflow.com/users/128165/gabriele-petrioli"}, "is_accepted": true, "score": 0, "last_activity_date": 1559202262, "last_edit_date": 1559202262, "creation_date": 1559163213, "answer_id": 56368356, "question_id": 56368281, "link": "https://stackoverflow.com/questions/56368281/changing-state-even-when-the-react-tabs-component-is-not-selected/56368356#56368356", "title": "Changing state even when the react-tabs component is not selected", "body": "<p>You can initialize the <code>state</code> with the passed prop (<em><code>variable</code> in this example</em>) (if passed)</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>constructor(props) {\n  super(props);\n  const {\n    variable = 0\n  } = this.props;\n\n  this.state = {\n    tabIndex: variable\n  };\n}\n</code></pre>\n\n<p>and keep using it as</p>\n\n<pre><code>&lt;Tabs\n    selectedIndex={tabIndex}\n    onSelect={index =&gt; this.setState({ tabIndex: index })}\n&gt;\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 11529827, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JHU6GMPMDu4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdngA_5s5TUWzx3tZglTthIRx_iAw/mo/photo.jpg?sz=128", "display_name": "alo gon", "link": "https://stackoverflow.com/users/11529827/alo-gon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 765, "favorite_count": 0, "accepted_answer_id": 56368356, "answer_count": 2, "score": 1, "last_activity_date": 1559202262, "creation_date": 1559162849, "question_id": 56368281, "link": "https://stackoverflow.com/questions/56368281/changing-state-even-when-the-react-tabs-component-is-not-selected", "title": "Changing state even when the react-tabs component is not selected", "body": "<p>I'm working with react tabs. </p>\n\n<pre><code>state = {\n    tabIndex: 0\n};\n</code></pre>\n\n<p>...</p>\n\n<pre><code>    &lt;Tabs\n                selectedIndex={variable ? variable : tabIndex}\n                onSelect={index =&gt; this.setState({ tabIndex: index })}\n              &gt;\n</code></pre>\n\n<p>If a variable is not pass, the page opens in the tab 0. But some times I want to open in a specific tab, so I pass, for example, the <code>variable = 1</code>.  But I also wants to update the <code>tabIndex</code>, how can I do that?</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 1, "creation_date": 1559162865, "post_id": 56368254, "comment_id": 99339437, "body": "Try creating a working example in the code snippet creator. It will go a long way to helping us help you"}, {"owner": {"reputation": 31533, "user_id": 2813224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/602e78d7da7bd6353c8ee51a17826037?s=128&d=identicon&r=PG", "display_name": "zer00ne", "link": "https://stackoverflow.com/users/2813224/zer00ne"}, "edited": false, "score": 0, "creation_date": 1559169121, "post_id": 56368254, "comment_id": 99341258, "body": "In the context of radio buttons...what do you mean by <i>&quot;passive&quot;</i>? I googled and in the results nothing really stood out from the usual information concerning radio buttons, JavaScript, or HTML..."}, {"owner": {"reputation": 428, "user_id": 9070242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9ca82e0b44926c2e76eed8b838c0aa19?s=128&d=identicon&r=PG&f=1", "display_name": "fin444", "link": "https://stackoverflow.com/users/9070242/fin444"}, "reply_to_user": {"reputation": 31533, "user_id": 2813224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/602e78d7da7bd6353c8ee51a17826037?s=128&d=identicon&r=PG", "display_name": "zer00ne", "link": "https://stackoverflow.com/users/2813224/zer00ne"}, "edited": false, "score": 0, "creation_date": 1559171077, "post_id": 56368254, "comment_id": 99341728, "body": "@zer00ne asker wants to have it so the buttons automatically increase/decrease variables when selected, it&#39;s not possible to my knowledge. My answer explains how this could be done, though."}, {"owner": {"reputation": 129, "user_id": 11535823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b83d895df7b46ccac4fe6337bfa28229?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks994", "link": "https://stackoverflow.com/users/11535823/tmanrocks994"}, "edited": false, "score": 0, "creation_date": 1559174991, "post_id": 56368254, "comment_id": 99342550, "body": "In rpgs when you equip a weapon that weapon increases a value ( like strength or intelligence) by a certain amount. When you unequip that weapon those stats go away but they are stored on that weapons attributes. Thats what im trying to accomplish. while first button is selected do function etc. but if button not selected dont do function"}, {"owner": {"reputation": 31533, "user_id": 2813224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/602e78d7da7bd6353c8ee51a17826037?s=128&d=identicon&r=PG", "display_name": "zer00ne", "link": "https://stackoverflow.com/users/2813224/zer00ne"}, "edited": false, "score": 0, "creation_date": 1559273081, "post_id": 56368254, "comment_id": 99376129, "body": "@tmanrocks994 Ok see my <a href=\"https://stackoverflow.com/a/56388275/2813224\">answer</a>"}], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 11535823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b83d895df7b46ccac4fe6337bfa28229?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks994", "link": "https://stackoverflow.com/users/11535823/tmanrocks994"}, "edited": false, "score": 0, "creation_date": 1559174605, "post_id": 56368601, "comment_id": 99342469, "body": "what about making it like this  var Strength = 1       var Turtlestrength = 1                 var Turtleandstrength = Strength + Turtlestrength       .  Then when the button is not selected remove Turtlestrength from Turtleandstrength mabey. ill try what you suggested. ill tell you if it works."}, {"owner": {"reputation": 129, "user_id": 11535823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b83d895df7b46ccac4fe6337bfa28229?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks994", "link": "https://stackoverflow.com/users/11535823/tmanrocks994"}, "edited": false, "score": 0, "creation_date": 1559175073, "post_id": 56368601, "comment_id": 99342561, "body": "where do i add the 2nd part of code? with the &quot;f (document.getElementById(&quot;turtle-radio&quot;).checked) {     //increase strength by level&quot; . Do i put that in javascript under the function or with the function"}, {"owner": {"reputation": 428, "user_id": 9070242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9ca82e0b44926c2e76eed8b838c0aa19?s=128&d=identicon&r=PG&f=1", "display_name": "fin444", "link": "https://stackoverflow.com/users/9070242/fin444"}, "reply_to_user": {"reputation": 129, "user_id": 11535823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b83d895df7b46ccac4fe6337bfa28229?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks994", "link": "https://stackoverflow.com/users/11535823/tmanrocks994"}, "edited": false, "score": 0, "creation_date": 1559175398, "post_id": 56368601, "comment_id": 99342630, "body": "@tmanrocks994 for your first comment, that&#39;s what I was telling you to do if I understand correctly."}, {"owner": {"reputation": 129, "user_id": 11535823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b83d895df7b46ccac4fe6337bfa28229?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks994", "link": "https://stackoverflow.com/users/11535823/tmanrocks994"}, "edited": false, "score": 0, "creation_date": 1559175401, "post_id": 56368601, "comment_id": 99342631, "body": "also how do i call the function or attached it to the radio button"}, {"owner": {"reputation": 428, "user_id": 9070242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9ca82e0b44926c2e76eed8b838c0aa19?s=128&d=identicon&r=PG&f=1", "display_name": "fin444", "link": "https://stackoverflow.com/users/9070242/fin444"}, "reply_to_user": {"reputation": 129, "user_id": 11535823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b83d895df7b46ccac4fe6337bfa28229?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks994", "link": "https://stackoverflow.com/users/11535823/tmanrocks994"}, "edited": false, "score": 0, "creation_date": 1559175469, "post_id": 56368601, "comment_id": 99342642, "body": "@tmanrocks994 I showed you how to attach it to the radio button, that&#39;s what <code>.addEventListener</code> does, using the radio button&#39;s ID. And the answer has been updated for your second comment."}, {"owner": {"reputation": 129, "user_id": 11535823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b83d895df7b46ccac4fe6337bfa28229?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks994", "link": "https://stackoverflow.com/users/11535823/tmanrocks994"}, "edited": false, "score": 0, "creation_date": 1559176162, "post_id": 56368601, "comment_id": 99342771, "body": "o ok. i&#39;m just having a hard time getting it to work  <a href=\"http://prntscr.com/nv63dh\" rel=\"nofollow noreferrer\">prntscr.com/nv63dh</a>  this is what i have so far is not working  . <a href=\"http://prntscr.com/nv64kf\" rel=\"nofollow noreferrer\">prntscr.com/nv64kf</a>  . adds 1 to strength but isn&#39;t increasing turtlCexp its increasing the lv"}, {"owner": {"reputation": 129, "user_id": 11535823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b83d895df7b46ccac4fe6337bfa28229?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks994", "link": "https://stackoverflow.com/users/11535823/tmanrocks994"}, "edited": false, "score": 0, "creation_date": 1559176615, "post_id": 56368601, "comment_id": 99342850, "body": "the 2 under the radio button is strengths default value. it&#39;s actually not changing when i press the button should go up by turtle strength. where do I add  <a href=\"http://prntscr.com/nv66re\" rel=\"nofollow noreferrer\">prntscr.com/nv66re</a>"}, {"owner": {"reputation": 129, "user_id": 11535823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b83d895df7b46ccac4fe6337bfa28229?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks994", "link": "https://stackoverflow.com/users/11535823/tmanrocks994"}, "edited": false, "score": 0, "creation_date": 1559177395, "post_id": 56368601, "comment_id": 99342984, "body": "<a href=\"http://prntscr.com/nv6a3w\" rel=\"nofollow noreferrer\">prntscr.com/nv6a3w</a>   I have this now but now strength isn&#39;t changing at all and when i change radio buttons it auto levels the turtle and sets exp to 0 . <a href=\"http://prntscr.com/nv6acz\" rel=\"nofollow noreferrer\">prntscr.com/nv6acz</a>"}, {"owner": {"reputation": 129, "user_id": 11535823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b83d895df7b46ccac4fe6337bfa28229?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks994", "link": "https://stackoverflow.com/users/11535823/tmanrocks994"}, "edited": false, "score": 0, "creation_date": 1559179117, "post_id": 56368601, "comment_id": 99343356, "body": "<a href=\"http://prntscr.com/nv6ib3\" rel=\"nofollow noreferrer\">prntscr.com/nv6ib3</a>   Everything is working now cept when I click a different button the strength doesn&#39;t update correctly. on first click base strength goes from 2 to 3 then when i click off it should go down to 2 but it stays on 3 then when I click it again it goes up to 4 instead of back to 3"}, {"owner": {"reputation": 428, "user_id": 9070242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9ca82e0b44926c2e76eed8b838c0aa19?s=128&d=identicon&r=PG&f=1", "display_name": "fin444", "link": "https://stackoverflow.com/users/9070242/fin444"}, "reply_to_user": {"reputation": 129, "user_id": 11535823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b83d895df7b46ccac4fe6337bfa28229?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks994", "link": "https://stackoverflow.com/users/11535823/tmanrocks994"}, "edited": false, "score": 0, "creation_date": 1559183951, "post_id": 56368601, "comment_id": 99344196, "body": "@tmanrocks994 (1) <code>Turtle</code>, <code>Turtlelv</code>, and <code>Turtlestrength</code> are all exactly the same variable so I suggest you consolidate them. (2) It seems that <code>Strength</code> does update properly, the issue is that its display only changes when the turtle update loop (<code>turtleXpUp()</code>) runs. However, because the turtle is deselected, the display of strength doesn&#39;t update. To fix this issue, move the changing of the display of <code>Strength</code> to be in <code>turtleandstrength()</code>."}, {"owner": {"reputation": 129, "user_id": 11535823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b83d895df7b46ccac4fe6337bfa28229?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks994", "link": "https://stackoverflow.com/users/11535823/tmanrocks994"}, "edited": false, "score": 0, "creation_date": 1559185947, "post_id": 56368601, "comment_id": 99344556, "body": "what do you mean by that fix? I have <a href=\"http://prntscr.com/nv7f4z\" rel=\"nofollow noreferrer\">prntscr.com/nv7f4z</a> this but its still not updateing correctly. do i need to add more document.getelementbyids somewhere"}, {"owner": {"reputation": 428, "user_id": 9070242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9ca82e0b44926c2e76eed8b838c0aa19?s=128&d=identicon&r=PG&f=1", "display_name": "fin444", "link": "https://stackoverflow.com/users/9070242/fin444"}, "reply_to_user": {"reputation": 129, "user_id": 11535823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b83d895df7b46ccac4fe6337bfa28229?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks994", "link": "https://stackoverflow.com/users/11535823/tmanrocks994"}, "edited": false, "score": 0, "creation_date": 1559233828, "post_id": 56368601, "comment_id": 99364631, "body": "@tmanrocks994 can I see where the entire script? I can&#39;t find where <code>TurtleMexp</code> is defined."}, {"owner": {"reputation": 129, "user_id": 11535823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b83d895df7b46ccac4fe6337bfa28229?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks994", "link": "https://stackoverflow.com/users/11535823/tmanrocks994"}, "edited": false, "score": 0, "creation_date": 1559444522, "post_id": 56368601, "comment_id": 99420686, "body": "if you can still help me id appreciate it <a href=\"https://stackoverflow.com/questions/56411499/making-a-simple-true-false-flag-for-each-radio-button\" title=\"making a simple true false flag for each radio button\">stackoverflow.com/questions/56411499/&hellip;</a>            I made a new post. im at a point where my wolf button works to switch to lizard but if u switch from turtle to lizard it takes away 1 strength. if we can start a chat or i can get some help to finish this part of my game I would love it"}, {"owner": {"reputation": 129, "user_id": 11535823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b83d895df7b46ccac4fe6337bfa28229?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks994", "link": "https://stackoverflow.com/users/11535823/tmanrocks994"}, "edited": false, "score": 0, "creation_date": 1559629983, "post_id": 56368601, "comment_id": 99470562, "body": "I solved it     i added a StoredStrength= Strength to my variables then made else Strength= StoredStrength"}], "tags": [], "owner": {"reputation": 428, "user_id": 9070242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9ca82e0b44926c2e76eed8b838c0aa19?s=128&d=identicon&r=PG&f=1", "display_name": "fin444", "link": "https://stackoverflow.com/users/9070242/fin444"}, "is_accepted": false, "score": 1, "last_activity_date": 1559175423, "last_edit_date": 1559175423, "creation_date": 1559164386, "answer_id": 56368601, "question_id": 56368254, "link": "https://stackoverflow.com/questions/56368254/how-to-add-passive-values-to-radio-buttons/56368601#56368601", "title": "How to add passive values to radio buttons", "body": "<p>Radio buttons can't passively change a variable, but this can be done programmatically.</p>\n\n<p>This is basic code (that you should remake for your program) demonstrating how you could have strength affected by whether or not the turtle is selected and the turtle's level. When the turtle is selected, it adds the amount to the variable, and when the turtle is deselected it removes the amount.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div id=\"turtle\" class=\"control\"&gt;\n  &lt;label class=\"radio\"&gt;\n    &lt;input type=\"radio\" name=\"Pets\" id=\"turtle-radio\"&gt;\n</code></pre>\n\n<pre><code>document.getElementById(\"turtle-radio\").addEventListener(\"change\", () =&gt; {\n  if (document.getElementById(\"turtle-radio\").checked) {\n    //increase strength by level\n  } else {\n    //decrease strength by level\n  }\n}\n</code></pre>\n\n<p>As for updating the turtle's level over time, this can also be done. Let's assume that the turtle always needs 100xp to level up. Every second that the radio is checked, it will add 1xp to the turtle and set a <code>timeout</code> for another check. When the xp reaches 100, have the turtle level up. When the radio button isn't check, the <code>timeout</code> shouldn't refresh.</p>\n\n<pre><code>function turtleXpUp() {\n  if (document.getElementById(\"turtle-radio\").checked) {\n    setTimeout(turtleXpUp, 1000)\n    //turtle xp +1\n  }\n  if (/* xp == 100*/) {\n    if (document.getElementById(\"turtle-radio\").checked) {\n      //increase strength by 1\n      //increase level by 1\n    }\n  }\n}\ndocument.getElementById(\"turtle-radio\").addEventListener(\"change\", turtleXpUp)\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 11535823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b83d895df7b46ccac4fe6337bfa28229?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks994", "link": "https://stackoverflow.com/users/11535823/tmanrocks994"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1559273340, "creation_date": 1559162721, "last_edit_date": 1559203437, "question_id": 56368254, "link": "https://stackoverflow.com/questions/56368254/how-to-add-passive-values-to-radio-buttons", "title": "How to add passive values to radio buttons", "body": "<p>I want while the turtle radio button is selected for there to be a passive increase in strength like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/pbHK1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pbHK1.png\" alt=\"enter image description here\"></a></p>\n\n<p>Also on level up, I want it to add +1 to that value so when the turtle is level 2 the passive is +2 strength.</p>\n\n<p>I'm mostly wondering how you do passive effects in HTML. Do radio buttons have the ability to passively modify variables when selected? My idea is similar to changing gear in an RPG. I would also like <code>Cexp</code> to go up 1 every second when the radio button is selected.</p>\n\n<p>Here is my current code:</p>\n\n<pre><code>var Turtle = 1;\nvar Turtlelv = 1;\nvar TurtleCexp = 0;\nvar TurtleMexp = 100;\nvar NextMaxTurtleExp = TurtleMexp;\nvar Turtlestrength = 1 + Strength\n\nfunction turtlepassive() {\n    if (TurtleCexp &lt; NextMaxTurtleExp) {\n        TurtleCexp = TurtleCexp + 1;\n        document.getElementById(\"TurtleCexp\").innerHTML = TurtleCexp;\n    } else {\n        Turtlelv = Turtlelv + 1;\n        TurtleCexp = 0;\n        Turtle = Turtle + 1;\n        Turtlestrength = Turtlestrength + 1;\n        NextMaxTurtleExp = NextMaxTurtleExp * 1.5;\n        document.getElementById(\"Strength\").innerHTML = Strength;\n        document.getElementById('TurtleMexp').innerHTML = \nNextMaxTurtleExp;\n        document.getElementById('Turtlelv').innerHTML = Turtlelv;\n        document.getElementById('TurtleCexp').innerHTML = TurtleCexp;\n        document.getElementById('Turtle').innerHTML = Turtle;\n     }\n}\n</code></pre>\n\n<p>Html code:</p>\n\n<pre><code>&lt;div id=\"turtle\" class=\"control\"&gt;\n    &lt;label class=\"radio\"&gt;\n        &lt;input type=\"radio\" name=\"Pets\"&gt;\n    &lt;/label&gt;\n    &lt;img src=\"turtle.png\" alt=\"turtle\" height=\"100\" width=\"100\"&gt;Lv &lt;span id=\"Magiclv\"&gt;1&lt;/span&gt; &lt;span id=\"MagicCexp\"&gt;0&lt;/span&gt; / &lt;span id=\"MagicMexp\"&gt;100&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I expect while the turtle radio button is selected for <code>exp</code> to go up by 1 every second and to have a passive buff to strength by 1 at level 1 and 2 at level 2 and so on. But the actual result I can't get this to work properly.</p>\n"}, {"tags": ["javascript", "node.js", "express", "syntax", "passport.js"], "comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1559162767, "post_id": 56368223, "comment_id": 99339397, "body": "<code>(req, res, next) =&gt; {...}</code> is the function the <code>(req, res, next)</code> is where it automatically calls the function with those parameters. This is called a <a href=\"https://www.google.com/search?q=javascript+self+invoking+function\" rel=\"nofollow noreferrer\">Self invoking function</a>"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1559162773, "post_id": 56368223, "comment_id": 99339401, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/592396/what-is-the-purpose-of-a-self-executing-function-in-javascript\">What is the purpose of a self executing function in javascript?</a>"}, {"owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1559162932, "post_id": 56368223, "comment_id": 99339453, "body": "@GetOffMyLawn I understand the <code>(()=&gt;)()</code> syntax, but this is a method <code>object.method(params)(params)</code>. is that the same?"}], "answers": [{"comments": [{"owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "edited": false, "score": 0, "creation_date": 1559163005, "post_id": 56368279, "comment_id": 99339486, "body": "Ok, so authenticate is similar to <code>Promise</code> syntax and we are calling it?"}, {"owner": {"reputation": 4187, "user_id": 288208, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/4d6e4de1d6760e455edf9e1b90d1baaa?s=128&d=identicon&r=PG", "display_name": "Rami Jarrar", "link": "https://stackoverflow.com/users/288208/rami-jarrar"}, "reply_to_user": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "edited": false, "score": 0, "creation_date": 1559163106, "post_id": 56368279, "comment_id": 99339528, "body": "its different than a Promise, this is called a closure <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Closures</a>"}, {"owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "edited": false, "score": 0, "creation_date": 1559163240, "post_id": 56368279, "comment_id": 99339581, "body": "Thanks, the strangest thing is the actual documentation shows it being used as a straight call. But the demo uses above syntax and still works."}, {"owner": {"reputation": 4187, "user_id": 288208, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/4d6e4de1d6760e455edf9e1b90d1baaa?s=128&d=identicon&r=PG", "display_name": "Rami Jarrar", "link": "https://stackoverflow.com/users/288208/rami-jarrar"}, "reply_to_user": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "edited": false, "score": 0, "creation_date": 1559163406, "post_id": 56368279, "comment_id": 99339636, "body": "That&#39;s because in the documentation it&#39;s passed as an express route handler, so express module will make this extra step/call internally when a request comes in."}, {"owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "edited": false, "score": 0, "creation_date": 1559174075, "post_id": 56368279, "comment_id": 99342352, "body": "Yes, that is exactly what I expected Rami. So do you think the Demo author has simply made an error in invoking it?"}, {"owner": {"reputation": 4187, "user_id": 288208, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/4d6e4de1d6760e455edf9e1b90d1baaa?s=128&d=identicon&r=PG", "display_name": "Rami Jarrar", "link": "https://stackoverflow.com/users/288208/rami-jarrar"}, "reply_to_user": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "edited": false, "score": 0, "creation_date": 1559174475, "post_id": 56368279, "comment_id": 99342438, "body": "No it&#39;s not a mistake, it will work normally, but it&#39;s redundant, checkout my update"}, {"owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "edited": false, "score": 0, "creation_date": 1559174655, "post_id": 56368279, "comment_id": 99342479, "body": "Thanks, I prefer the simplified. I fully understand these are all being called by Express. Was just confused by the way it as used in this instance. Thanks for the help."}], "tags": [], "owner": {"reputation": 4187, "user_id": 288208, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/4d6e4de1d6760e455edf9e1b90d1baaa?s=128&d=identicon&r=PG", "display_name": "Rami Jarrar", "link": "https://stackoverflow.com/users/288208/rami-jarrar"}, "is_accepted": true, "score": 1, "last_activity_date": 1559174464, "last_edit_date": 1559174464, "creation_date": 1559162843, "answer_id": 56368279, "question_id": 56368223, "link": "https://stackoverflow.com/questions/56368223/trying-to-understand-why-there-are-extra-brackets-at-the-end-of-a-call/56368279#56368279", "title": "Trying to understand why there are extra brackets at the end of a call", "body": "<p>That's because <code>passport.authenticate</code> returns a function (middleware) to handle the request, so you're passing the request to the actual handler here</p>\n\n<p>like this:</p>\n\n<pre><code>function authenticate(someArg) {\n    return function (req, res, next) {\n        // the handler\n    }\n}\n</code></pre>\n\n<p>And this is a simplified version of the example you provided, without the extra explicit pass of the parameters</p>\n\n<pre><code>app.get('/login', passport.authenticate('azuread-openidconnect', { \n    response: res,\n    resourceURL: config.resourceURL,\n    failureRedirect: '/' \n}), (req, res) =&gt; {\n    log.info('Login was called in the Sample');\n    res.redirect('/');\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 475, "user_id": 5166889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mq8Rn.jpg?s=128&g=1", "display_name": "Duncan", "link": "https://stackoverflow.com/users/5166889/duncan"}, "is_accepted": false, "score": 0, "last_activity_date": 1559165436, "creation_date": 1559165436, "answer_id": 56368797, "question_id": 56368223, "link": "https://stackoverflow.com/questions/56368223/trying-to-understand-why-there-are-extra-brackets-at-the-end-of-a-call/56368797#56368797", "title": "Trying to understand why there are extra brackets at the end of a call", "body": "<p>I think this is just a question of understanding the Javascript syntax for what is called a \"lambda\" function. Consider the following expression:</p>\n\n<pre><code>(a) =&gt; { console.log(a) }\n</code></pre>\n\n<p>That's a way of writing a function that takes one argument and prints it out.  You can put that expression in anyplace you need to specify a function that prints out one argument.  This is useful because in Javascript functions can be passed around just like data, and this syntax allows you to define a function right when you need it, without bothering to give it a name.</p>\n\n<p>In your example you are calling app.get with three arguments.  The first is the string '/login'.  The second is a function that takes 3 arguments, and the function is defined right there in line, to call passport.authenticate, which returns a function, which is called with those 3 arguments. The third is a function that takes 2 arguments, also defined right there in line.</p>\n"}], "owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 56368279, "answer_count": 2, "score": 0, "last_activity_date": 1559174464, "creation_date": 1559162562, "question_id": 56368223, "link": "https://stackoverflow.com/questions/56368223/trying-to-understand-why-there-are-extra-brackets-at-the-end-of-a-call", "title": "Trying to understand why there are extra brackets at the end of a call", "body": "<p>Possibly a silly question, I am trying to work through an example for <code>OAuth</code> and want to understand exactly what is happening before I add to my own code.</p>\n\n<p>Sample is <code>node</code>, <code>express</code> using <code>passport-azure-ad</code></p>\n\n<p>The route is being defined and a call to <code>passport.authenticate</code> is made.</p>\n\n<pre><code>app.get('/login',\n  (req, res, next) =&gt; {\n      passport.authenticate('azuread-openidconnect', \n      { \n        response: res,\n        resourceURL: config.resourceURL,\n        failureRedirect: '/' \n      })(req, res, next); // &lt;-- Here is what I am stuck on. \n   },\n   (req, res) =&gt; {\n       log.info('Login was called in the Sample');\n       res.redirect('/');\n});\n</code></pre>\n\n<p>I am trying to understand the <code>(req, res, next);</code> that follows directly after the authenticate. </p>\n\n<p>Appreciate any help, or a link to the theory/documentation on this syntax.</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 4326, "user_id": 3281014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIpXo.jpg?s=128&g=1", "display_name": "Nawed Khan", "link": "https://stackoverflow.com/users/3281014/nawed-khan"}, "edited": false, "score": 0, "creation_date": 1559162940, "post_id": 56368214, "comment_id": 99339455, "body": "i believe it is the third parameter of fadeIn() and fadeOut() that is a callback function. the 2nd parameter is ease. try fadeIn(150, &#39;swing&#39;, function(){...}) and same for fadeout."}], "answers": [{"comments": [{"owner": {"reputation": 6856, "user_id": 828864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0031af6f469d31621363e4fdf14601f?s=128&d=identicon&r=PG", "display_name": "skyline3000", "link": "https://stackoverflow.com/users/828864/skyline3000"}, "reply_to_user": {"reputation": 8777, "user_id": 1386703, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o6Jbm.png?s=128&g=1", "display_name": "skobaljic", "link": "https://stackoverflow.com/users/1386703/skobaljic"}, "edited": false, "score": 0, "creation_date": 1559224044, "post_id": 56368571, "comment_id": 99359441, "body": "@skobaljic &quot;This ain&#39;t working&quot; is not a useful comment, considering the OPs original issue was with the multiple button events. You should describe what isn&#39;t working. I&#39;ve added the extra <code>stop()</code> calls so the transitions don&#39;t get stuck."}, {"owner": {"reputation": 8777, "user_id": 1386703, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o6Jbm.png?s=128&g=1", "display_name": "skobaljic", "link": "https://stackoverflow.com/users/1386703/skobaljic"}, "edited": false, "score": 0, "creation_date": 1559229047, "post_id": 56368571, "comment_id": 99362106, "body": "I just said the original problem <code>when you try to hover more elements concurrently the animation it starts to break</code> remained."}], "tags": [], "owner": {"reputation": 6856, "user_id": 828864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0031af6f469d31621363e4fdf14601f?s=128&d=identicon&r=PG", "display_name": "skyline3000", "link": "https://stackoverflow.com/users/828864/skyline3000"}, "is_accepted": true, "score": 1, "last_activity_date": 1559223822, "last_edit_date": 1559223822, "creation_date": 1559164265, "answer_id": 56368571, "question_id": 56368214, "link": "https://stackoverflow.com/questions/56368214/fadeout-one-element-and-fadein-another-element-on-hover/56368571#56368571", "title": "FadeOut one element and fadeIn another element on hover", "body": "<p>You are inadvertently creating global variables for <code>info</code> and <code>download</code> by omitting the <code>var</code>, <code>let</code>, or <code>const</code> keywords. That means every function call is using and overwriting those variables. You need to create local variables in each function.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.button').hover(function() {\r\n  var info = $(this).find('.info');\r\n  var download = $(this).find('.download');\r\n\r\n  download.stop();\r\n  info.stop().fadeOut(150, function() {\r\n    download.stop().fadeIn(150);\r\n  })\r\n}, function() {\r\n  var info = $(this).find('.info');\r\n  var download = $(this).find('.download');\r\n\r\n  info.stop();\r\n  download.stop().fadeOut(150, function() {\r\n    info.stop().fadeIn(150);\r\n  })\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.button {\r\n  background-color: orange;\r\n  padding: 10px;\r\n  width: 250px;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  text-align: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.download {\r\n  display: none;\r\n  font-size: 17px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"button\"&gt;\r\n  &lt;div class=\"info\"&gt;\r\n    &lt;i class=\"fas fa-download\"&gt;&lt;/i&gt; &lt;strong&gt;Mega Limited&lt;/strong&gt; 1GB\r\n  &lt;/div&gt;\r\n  &lt;div class=\"download\"&gt;Download&lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"button\"&gt;\r\n  &lt;div class=\"info\"&gt;\r\n    &lt;i class=\"fas fa-download\"&gt;&lt;/i&gt; &lt;strong&gt;Mega Limited&lt;/strong&gt; 1GB\r\n  &lt;/div&gt;\r\n  &lt;div class=\"download\"&gt;Download&lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"button\"&gt;\r\n  &lt;div class=\"info\"&gt;\r\n    &lt;i class=\"fas fa-download\"&gt;&lt;/i&gt; &lt;strong&gt;Mega Limited&lt;/strong&gt; 1GB\r\n  &lt;/div&gt;\r\n  &lt;div class=\"download\"&gt;Download&lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"button\"&gt;\r\n  &lt;div class=\"info\"&gt;\r\n    &lt;i class=\"fas fa-download\"&gt;&lt;/i&gt; &lt;strong&gt;Mega Limited&lt;/strong&gt; 1GB\r\n  &lt;/div&gt;\r\n  &lt;div class=\"download\"&gt;Download&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 945, "user_id": 2578125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fc1e7a46b2969bca62390b3b828b8cb?s=128&d=identicon&r=PG", "display_name": "OXiGEN", "link": "https://stackoverflow.com/users/2578125/oxigen"}, "edited": false, "score": 0, "creation_date": 1559165479, "post_id": 56368669, "comment_id": 99340279, "body": "Good point on the race conditions. Also avoids redundant declarations. Per the <a href=\"https://api.jquery.com/hover/\" rel=\"nofollow noreferrer\">docs</a>, <code>.hover()</code> is shorthand for <code>.mouseenter().mouseleave()</code>."}, {"owner": {"reputation": 8777, "user_id": 1386703, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o6Jbm.png?s=128&g=1", "display_name": "skobaljic", "link": "https://stackoverflow.com/users/1386703/skobaljic"}, "reply_to_user": {"reputation": 945, "user_id": 2578125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fc1e7a46b2969bca62390b3b828b8cb?s=128&d=identicon&r=PG", "display_name": "OXiGEN", "link": "https://stackoverflow.com/users/2578125/oxigen"}, "edited": false, "score": 0, "creation_date": 1559209200, "post_id": 56368669, "comment_id": 99352377, "body": "Thanks, nice they fixed it, never checked it out. Till v1.2 it wasn&#39;t like that."}], "tags": [], "owner": {"reputation": 8777, "user_id": 1386703, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/o6Jbm.png?s=128&g=1", "display_name": "skobaljic", "link": "https://stackoverflow.com/users/1386703/skobaljic"}, "is_accepted": false, "score": 2, "last_activity_date": 1559164762, "creation_date": 1559164762, "answer_id": 56368669, "question_id": 56368214, "link": "https://stackoverflow.com/questions/56368214/fadeout-one-element-and-fadein-another-element-on-hover/56368669#56368669", "title": "FadeOut one element and fadeIn another element on hover", "body": "<p>The main problem is to stop the animation before assigning another. This way there are no glitches:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.button').each(function(i) {\r\n    var thisButton = $(this);\r\n    var thisInfo = thisButton.find('.info');\r\n    var thisDownload = thisButton.find('.download');\r\n    thisButton.on('mouseenter', function(e) {\r\n        thisDownload.stop();\r\n        thisInfo.stop().fadeOut(150, function() {\r\n            thisDownload.stop().fadeIn(150);\r\n        });\r\n    }).on('mouseleave', function(e) {\r\n        thisInfo.stop();\r\n        thisDownload.stop().fadeOut(150, function() {\r\n            thisInfo.stop().fadeIn(150);\r\n        });\r\n    });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.button {\r\n  background-color: orange;\r\n  padding: 10px;\r\n  width: 250px;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  text-align: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.download {\r\n  display: none;\r\n  font-size: 17px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"button\"&gt;\r\n    &lt;div class=\"button_inner\"&gt;\r\n        &lt;div class=\"info\"&gt;\r\n            &lt;i class=\"fas fa-download\"&gt;&lt;/i&gt; &lt;strong&gt;Mega Limited&lt;/strong&gt; 1GB\r\n        &lt;/div&gt;\r\n        &lt;div class=\"download\"&gt;Download&lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"button\"&gt;\r\n    &lt;div class=\"button_inner\"&gt;\r\n        &lt;div class=\"info\"&gt;\r\n            &lt;i class=\"fas fa-download\"&gt;&lt;/i&gt; &lt;strong&gt;Mega Limited&lt;/strong&gt; 1GB\r\n        &lt;/div&gt;\r\n        &lt;div class=\"download\"&gt;Download&lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"button\"&gt;\r\n    &lt;div class=\"button_inner\"&gt;\r\n        &lt;div class=\"info\"&gt;\r\n            &lt;i class=\"fas fa-download\"&gt;&lt;/i&gt; &lt;strong&gt;Mega Limited&lt;/strong&gt; 1GB\r\n        &lt;/div&gt;\r\n        &lt;div class=\"download\"&gt;Download&lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Also on <a href=\"https://jsfiddle.net/cyxkLqth/\" rel=\"nofollow noreferrer\">JSFiddle</a></p>\n\n<p>Posting this because this may happen to skyline's answer:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1Yj5R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Yj5R.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 839, "user_id": 4856683, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/gw4Eu.jpg?s=128&g=1", "display_name": "Keaire", "link": "https://stackoverflow.com/users/4856683/keaire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 56368571, "answer_count": 2, "score": 1, "last_activity_date": 1559223822, "creation_date": 1559162506, "question_id": 56368214, "link": "https://stackoverflow.com/questions/56368214/fadeout-one-element-and-fadein-another-element-on-hover", "title": "FadeOut one element and fadeIn another element on hover", "body": "<p>I'm trying to achieve an effect where on the hover of an element A, an element B is <code>fadeOut</code> and an element C is <code>fadeIn</code>, both inside the element A.</p>\n\n<p>That's what I tried:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.button').hover(function() {\r\n\tinfo = $(this).find('.info');\r\n\tdownload = $(this).find('.download');\r\n\r\n\tinfo.stop().fadeOut(150, function() {\r\n\t\tdownload.stop().fadeIn(150);\r\n\t})\r\n}, function() {\r\n\tdownload.stop().fadeOut(150, function() {\r\n\t\tinfo.stop().fadeIn(150);\r\n\t})\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.button {\r\n  background-color: orange;\r\n  padding: 10px;\r\n  width: 250px;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  text-align: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.download {\r\n  display: none;\r\n  font-size: 17px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"button\"&gt;\r\n  &lt;div class=\"info\"&gt;\r\n    &lt;i class=\"fas fa-download\"&gt;&lt;/i&gt; &lt;strong&gt;Mega Limited&lt;/strong&gt; 1GB\r\n  &lt;/div&gt;\r\n  &lt;div class=\"download\"&gt;Download&lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"button\"&gt;\r\n  &lt;div class=\"info\"&gt;\r\n    &lt;i class=\"fas fa-download\"&gt;&lt;/i&gt; &lt;strong&gt;Mega Limited&lt;/strong&gt; 1GB\r\n  &lt;/div&gt;\r\n  &lt;div class=\"download\"&gt;Download&lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"button\"&gt;\r\n  &lt;div class=\"info\"&gt;\r\n    &lt;i class=\"fas fa-download\"&gt;&lt;/i&gt; &lt;strong&gt;Mega Limited&lt;/strong&gt; 1GB\r\n  &lt;/div&gt;\r\n  &lt;div class=\"download\"&gt;Download&lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"button\"&gt;\r\n  &lt;div class=\"info\"&gt;\r\n    &lt;i class=\"fas fa-download\"&gt;&lt;/i&gt; &lt;strong&gt;Mega Limited&lt;/strong&gt; 1GB\r\n  &lt;/div&gt;\r\n  &lt;div class=\"download\"&gt;Download&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Hovering one element at a time seems working fine but when you try to hover more elements concurrently the animation it starts to break.</p>\n\n<p>Any solution? Other approaches are accepted. Thanks.</p>\n"}, {"tags": ["javascript", "canvas", "colors", "line"], "answers": [{"comments": [{"owner": {"reputation": 3361, "user_id": 586006, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/mker6.jpg?s=128&g=1", "display_name": "Chewie The Chorkie", "link": "https://stackoverflow.com/users/586006/chewie-the-chorkie"}, "edited": false, "score": 0, "creation_date": 1559225160, "post_id": 56370523, "comment_id": 99360027, "body": "Thanks Kaiido, that varies the line width, but now they do not connect, so I think that means you can&#39;t have connecting lines vary width? Also the color (even without the width change) varies, but the lines do not connect. Is there any way to have connecting line segments vary color?"}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 3361, "user_id": 586006, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/mker6.jpg?s=128&g=1", "display_name": "Chewie The Chorkie", "link": "https://stackoverflow.com/users/586006/chewie-the-chorkie"}, "edited": false, "score": 1, "creation_date": 1559225422, "post_id": 56370523, "comment_id": 99360145, "body": "Yes, but that&#39;s not that easy: <a href=\"https://stackoverflow.com/questions/24027087/gradient-stroke-along-curve-in-canvas\" title=\"gradient stroke along curve in canvas\">stackoverflow.com/questions/24027087/&hellip;</a>"}], "tags": [], "owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "is_accepted": false, "score": 1, "last_activity_date": 1559179619, "creation_date": 1559179619, "answer_id": 56370523, "question_id": 56368208, "link": "https://stackoverflow.com/questions/56368208/vary-line-color-alpha-and-width-when-drawing-on-canvas-in-javascript/56370523#56370523", "title": "Vary line color, alpha and width when drawing on canvas in JavaScript", "body": "<p>You need to call <code>ctx.beginPath()</code> after each <code>ctx.stroke()</code> otherwise, all the next <code>lineTo()</code> will be added to the one and only sub-path and when you'll call <code>stroke()</code> again with a thicker lineWidth, the whole sub-path will get redrawn, covering the thinner lines that were drawn before.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const context = canvas.getContext('2d');\r\nconst redLine = {\r\n  posArr: Array.from({\r\n    length: 12\r\n  }).map(() =&gt; ({\r\n    x: Math.random() * canvas.width,\r\n    y: Math.random() * canvas.height\r\n  })),\r\n  pos: {\r\n    x: canvas.width / 2,\r\n    y: canvas.height / 2\r\n  }\r\n};\r\nconsole.log(redLine);\r\nrenderRedLine();\r\n\r\nfunction renderRedLine() {\r\n\r\n  for (j = 0; j &lt; redLine.posArr.length; ++j) {\r\n    // at every iteration we start a new sub-path\r\n    context.beginPath();\r\n\r\n    let startPoint;\r\n    if (j === 0) {\r\n      startPoint = redLine.pos\r\n    } else {\r\n      startPoint = redLine.posArr[j - 1]\r\n    }\r\n\r\n    const endPoint = redLine.posArr[j]\r\n    const alpha = 1.0 - (j / (redLine.posArr.length - 1))\r\n    const g = 150 - (10 * j)\r\n\r\n    context.strokeStyle = 'rgba(255, ' + g + ', ' + 0 + ', ' + alpha + ')'\r\n    context.lineWidth = j + 1\r\n    // since we start a new sub-path at every iteration\r\n    // we need to moveTo(start) unconditionnaly\r\n    context.moveTo(startPoint.x, startPoint.y);\r\n    context.lineTo(endPoint.x, endPoint.y);\r\n\r\n    context.stroke();\r\n  }\r\n\r\n  //context.closePath is only just a lineTo(path.lastMovedX, path.lastMovedY)\r\n  // i.e not something you want here\r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"canvas\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3361, "user_id": 586006, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/mker6.jpg?s=128&g=1", "display_name": "Chewie The Chorkie", "link": "https://stackoverflow.com/users/586006/chewie-the-chorkie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559179619, "creation_date": 1559162471, "question_id": 56368208, "link": "https://stackoverflow.com/questions/56368208/vary-line-color-alpha-and-width-when-drawing-on-canvas-in-javascript", "title": "Vary line color, alpha and width when drawing on canvas in JavaScript", "body": "<p>I am testing this in Chrome. I tried a line thickness solution from StackOverflow <a href=\"https://stackoverflow.com/questions/12844491/drawing-lines-with-continuously-varying-line-width-on-html-canvas\">here</a> that did not work.</p>\n\n<p>I have a object called redLine with a position and an array of offset positions. The only thing that is affected is the alpha value. Color and line thickness stays once it is set. </p>\n\n<pre><code>function renderRedLine(){\n\n    context.beginPath();\n\n    for(j=0; j&lt;redLine.posArr.length; ++j){                 \n\n        var startPoint \n\n        if(j===0){\n            startPoint = redLine.pos\n        }else{\n            startPoint = redLine.posArr[j-1]\n        }\n\n        var endPoint = redLine.posArr[j]\n\n        let alpha = 1.0 - (j/(redLine.posArr.length-1))\n\n        let g = 150 - (10*j)\n\n        context.strokeStyle = 'rgba(255, ' + g + ', ' + 0 + ', ' + alpha + ')'\n        context.lineWidth = j+1\n\n        if(j===0){\n            context.moveTo(startPoint.x, startPoint.y);\n        }else{\n            context.lineTo(endPoint.x, endPoint.y);\n        }\n\n        context.stroke();\n\n    }\n\n    context.closePath();\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "regex"], "comments": [{"owner": {"reputation": 2724, "user_id": 1970822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a60600ccf383f06065a582c328eedfdc?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1970822/jan"}, "edited": false, "score": 1, "creation_date": 1559162620, "post_id": 56368141, "comment_id": 99339348, "body": "Just a side note: Some countries use different characters as decimal separator."}, {"owner": {"reputation": 5190, "user_id": 2218697, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/tq4uR.jpg?s=128&g=1", "display_name": "Shaiju T", "link": "https://stackoverflow.com/users/2218697/shaiju-t"}, "reply_to_user": {"reputation": 2724, "user_id": 1970822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a60600ccf383f06065a582c328eedfdc?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1970822/jan"}, "edited": false, "score": 0, "creation_date": 1559162944, "post_id": 56368141, "comment_id": 99339460, "body": "@Jan , Thanks, but can you tell what are those characters ?"}, {"owner": {"reputation": 2724, "user_id": 1970822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a60600ccf383f06065a582c328eedfdc?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1970822/jan"}, "edited": false, "score": 1, "creation_date": 1559163107, "post_id": 56368141, "comment_id": 99339529, "body": "In some countries they are flipped. For example in Germany it&#39;s: 1.000.000,00\u20ac"}, {"owner": {"reputation": 945, "user_id": 2578125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fc1e7a46b2969bca62390b3b828b8cb?s=128&d=identicon&r=PG", "display_name": "OXiGEN", "link": "https://stackoverflow.com/users/2578125/oxigen"}, "edited": false, "score": 1, "creation_date": 1559166809, "post_id": 56368141, "comment_id": 99340639, "body": "@stom <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString\" rel=\"nofollow noreferrer\">toLocaleString()</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat\" rel=\"nofollow noreferrer\">Intl.NumberFormat</a> may help. So if you want to support localization, your code will need to adjust filters based on the locale. For example, a switch statement with locale ids as cases for the regex to use."}], "answers": [{"comments": [{"owner": {"reputation": 5190, "user_id": 2218697, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/tq4uR.jpg?s=128&g=1", "display_name": "Shaiju T", "link": "https://stackoverflow.com/users/2218697/shaiju-t"}, "edited": false, "score": 0, "creation_date": 1559204923, "post_id": 56368367, "comment_id": 99350436, "body": "Brilliant answer, Actually I thought of getting the previous value and setting it but didn&#39;t try it. But this fixed the issue. Appreciate :)"}, {"owner": {"reputation": 13378, "user_id": 1430810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v669u.jpg?s=128&g=1", "display_name": "arieljuod", "link": "https://stackoverflow.com/users/1430810/arieljuod"}, "edited": false, "score": 0, "creation_date": 1559331863, "post_id": 56368367, "comment_id": 99400212, "body": "I would suggest to use the &quot;input&quot; event, not the &quot;keyup&quot; event, since keyup detects any key (even if you press Shit or Ctrl or Alt the event will be triggered). &quot;input&quot; event only triggers when the element&#39;s value actually changed by a keyup."}], "tags": [], "owner": {"reputation": 18130, "user_id": 1234256, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/6bd562c1aef71c9d715f6b982a5fd71c?s=128&d=identicon&r=PG", "display_name": "Mooseman", "link": "https://stackoverflow.com/users/1234256/mooseman"}, "is_accepted": true, "score": 1, "last_activity_date": 1559332307, "last_edit_date": 1559332307, "creation_date": 1559163280, "answer_id": 56368367, "question_id": 56368141, "link": "https://stackoverflow.com/questions/56368141/validate-numbers-before-and-after-decimal-on-key-press/56368367#56368367", "title": "Validate numbers before and after decimal on key press", "body": "<p>Because <code>keydown</code> is fired <em>before</em> the character is actually typed in the input. See this fiddle where I added outputs: <a href=\"https://jsfiddle.net/n56k0ve3/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/n56k0ve3/</a></p>\n\n<pre><code>&lt;input id='price' type='text' value='0'&gt;&lt;/input&gt;\n&lt;hr&gt;\n&lt;span id='userVal'&gt;&lt;/span&gt;\n&lt;br&gt;\n&lt;span id='validValue'&gt;&lt;/span&gt;\n\n\n$(\"#price\").keydown(function(e) {\n\n  var userVal =  $(this).val().replace(/,/g, \"\"); // remove commas\n\n  var validValue = userVal.search(/^[0-9]{0,13}\\.?[0-9]{0,4}$/) == 0 ? true : false;\n\n  $(\"#userVal\").text(userVal);\n  $(\"#validValue\").text(validValue);\n\n  if (userVal !== \"\" &amp;&amp; !validValue &amp;&amp; e.keyCode !== 46 &amp;&amp; e.keyCode !== 8) {\n     e.preventDefault();\n  } else {\n     return true;\n  }\n});\n</code></pre>\n\n<p>Instead, use an event which checks the value after the value is changed. <code>keyup</code> works, but doesn't get fired until after the character is displayed in the input, and also fires unnecesilly, e.g., on <kbd>Shift</kbd> or <kbd>Ctrl</kbd>. Instead, we can use the <code>input</code> event. See this fiddle: <a href=\"https://jsfiddle.net/2b6pc1hu/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/2b6pc1hu/</a></p>\n\n<pre><code>var prevVal = $(\"#price\").val();\n\n$(\"#price\").on('input', function(e) {\n\n  var val = $(this).val();\n\n  var userVal =  val.replace(/,/g, \"\"); // remove commas\n\n  var validValue = userVal.search(/^[0-9]{0,13}\\.?[0-9]{0,4}$/) == 0 ? true : false;\n\n  $(\"#userVal\").text(userVal);\n  $(\"#validValue\").text(validValue);\n\n  if (userVal !== \"\" &amp;&amp; !validValue &amp;&amp; e.keyCode !== 46 &amp;&amp; e.keyCode !== 8) {\n     $(this).val(prevVal);\n  } else {\n    prevVal = val;\n  }\n});\n</code></pre>\n\n<p>Also, in regular expressions <code>.</code> is a wildcard character. This should be escaped if you want it to only consume a period/decimal.</p>\n"}], "owner": {"reputation": 5190, "user_id": 2218697, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/tq4uR.jpg?s=128&g=1", "display_name": "Shaiju T", "link": "https://stackoverflow.com/users/2218697/shaiju-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 0, "accepted_answer_id": 56368367, "answer_count": 1, "score": 2, "last_activity_date": 1559332307, "creation_date": 1559162116, "last_edit_date": 1559162869, "question_id": 56368141, "link": "https://stackoverflow.com/questions/56368141/validate-numbers-before-and-after-decimal-on-key-press", "title": "Validate numbers before and after decimal on key press", "body": "<p>I am trying to validate decimal number of 13 digit before and 4 digit after decimal on key press, excluding comma, i.e comma shouldn't be counted as a digit.</p>\n\n<p><strong>Valid Cases</strong></p>\n\n<pre><code>1,234,567,890,123.1234\n\n1234567890123.1234\n\n123456789012.1234\n\n1234567890123.123\n\n12345.123\n\n1.2\n\n0\n</code></pre>\n\n<p><strong>In Valid Cases</strong></p>\n\n<pre><code>12345abc.23 // string or special characters  not allowed\n\n1,234,567,890,1231.1234\n\n1,234,567,890,123.12341\n\n12345678901231.1234\n\n1234567890123.12341\n</code></pre>\n\n<p><strong>Current Regex</strong></p>\n\n<pre><code>^[0-9]{0,13}.?[0-9]{0,4}$\n</code></pre>\n\n<p><strong>Code</strong></p>\n\n<pre><code> $(\"#Price\").keydown(function (e) {\n\n  var userVal =  $(\"#Price\").val().replace(/,/g, \"\"); // remove commas\n\n  var validValue = userVal.search(/^[0-9]{0,13}.?[0-9]{0,4}$/) == 0 ? true : false;\n\n  if (userVal !== \"\" &amp;&amp; !validValue &amp;&amp; e.keyCode !== 46 &amp;&amp; e.keyCode !== 8) {        \n\n     e.preventDefault();\n\n  }\n  else {\n\n     return true;\n  }\n\n});\n</code></pre>\n\n<p>The above <code>regex</code> code works fine in browser console :</p>\n\n<pre><code>var userVal = \"1234567890123.1234\";\n\nvar validValue = userVal.search(/^[0-9]{0,13}.?[0-9]{0,4}$/) == 0 ? true : false;\n\nconsole.log(validValue);\n</code></pre>\n\n<p>But using <code>keypress</code> , <code>keydown</code> and <code>keyup</code>  events, user is still able to type 1 extra digit before and after decimal.</p>\n\n<p>How can I prevent user from typing the invalid cases ?</p>\n"}, {"tags": ["javascript", "jquery", "decimal"], "comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1559163146, "post_id": 56368136, "comment_id": 99339549, "body": "This makes no sense at all, could you please clear things up with expected input and output."}], "answers": [{"tags": [], "owner": {"reputation": 1376, "user_id": 735964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25cbf9f5a6202f3971847a25741cd256?s=128&d=identicon&r=PG", "display_name": "GaloisGirl", "link": "https://stackoverflow.com/users/735964/galoisgirl"}, "is_accepted": true, "score": 1, "last_activity_date": 1559163542, "creation_date": 1559163542, "answer_id": 56368426, "question_id": 56368136, "link": "https://stackoverflow.com/questions/56368136/jquery-regular-expression-for-decimal-17-2/56368426#56368426", "title": "jQuery regular expression for decimal [17, 2]", "body": "<p>Indeed, your regex doesn't include the 17 limit anywhere.</p>\n\n<p>The regex for \"0 to 17 digits\" will be:</p>\n\n<pre><code>\\d{0,17}\n</code></pre>\n\n<p>You can read more on repetitions here: <a href=\"https://www.regular-expressions.info/repeat.html\" rel=\"nofollow noreferrer\">https://www.regular-expressions.info/repeat.html</a></p>\n"}], "owner": {"reputation": 172, "user_id": 11237253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d0Yz0.png?s=128&g=1", "display_name": "Darany Khiev", "link": "https://stackoverflow.com/users/11237253/darany-khiev"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "closed_date": 1559164058, "accepted_answer_id": 56368426, "answer_count": 1, "score": -2, "last_activity_date": 1559164026, "creation_date": 1559162093, "last_edit_date": 1559164026, "question_id": 56368136, "link": "https://stackoverflow.com/questions/56368136/jquery-regular-expression-for-decimal-17-2", "closed_reason": "Duplicate", "title": "jQuery regular expression for decimal [17, 2]", "body": "<p>I'd like to check number what it is decimal [17, 2] (0~17 and 0~2).</p>\n\n<p>What is the regular expression for a decimal [17,2]?</p>\n\n<p>For example</p>\n\n<pre><code>1\n0.01\n0.1\n12345678901234567.01\n...\n</code></pre>\n\n<p>I used <code>var regexp = /^\\d+(?:\\.\\d\\d?)?$/;</code> but it can be over 17.</p>\n"}, {"tags": ["javascript", "html", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "is_accepted": true, "score": 2, "last_activity_date": 1559162666, "creation_date": 1559162666, "answer_id": 56368246, "question_id": 56368131, "link": "https://stackoverflow.com/questions/56368131/how-to-change-the-class-of-component-after-period-of-time/56368246#56368246", "title": "How to change the class of component after period of time?", "body": "<p>Have a state variable in your component, then pick the class name based on that variable. In a class component, that would look like this:</p>\n\n<pre><code>class MyComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: false,\n    }\n  }\n\n  componentDidMount() {\n    setTimeout(() =&gt; this.setState({ show: true}), 200);\n  }\n\n  render() {\n    return (\n      &lt;ReactVivus\n        className={this.state.show ? \"svg-show\" : \"svg\"}\n        option={{\n          file: forever,\n          duration: 200,\n          animTimingFunction: \"oneByOne\",\n          type: \"delayed\",\n          onReady: console.log\n        }}\n        callback={console.log}\n      /&gt;\n    )\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 436, "user_id": 10240109, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pRecwZJGPuU/AAAAAAAAAAI/AAAAAAAAADs/Herv8HVhiOo/photo.jpg?sz=128", "display_name": "narcello", "link": "https://stackoverflow.com/users/10240109/narcello"}, "is_accepted": false, "score": 2, "last_activity_date": 1559163418, "creation_date": 1559163418, "answer_id": 56368396, "question_id": 56368131, "link": "https://stackoverflow.com/questions/56368131/how-to-change-the-class-of-component-after-period-of-time/56368396#56368396", "title": "How to change the class of component after period of time?", "body": "<p>If you want to do with hooks:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nimport React, {useState, useEffect} from \"react\";\n\nfunction Calendar() {\n    const [svgShow, setSvgShow] = useState(false);\n\n    useEffect(() =&gt; {\n        setTimeout(() =&gt; {\n            setSvgShow(true);\n        }, 200);\n    }, []);\n\n    return (\n        &lt;ReactVivus\n            className={svgShow ? \"svg-show\" : \"svg\"}\n            option={{\n                file: forever,\n                duration: 200,\n                animTimingFunction: \"oneByOne\",\n                type: \"delayed\",\n                onReady: console.log\n            }}\n            callback={console.log}\n        /&gt;\n    )\n}\nexport default Calendar;\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 3237929, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e422d0056353c542e72b575ebd6410e0?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/3237929/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 56368246, "answer_count": 2, "score": 0, "last_activity_date": 1559163418, "creation_date": 1559162067, "question_id": 56368131, "link": "https://stackoverflow.com/questions/56368131/how-to-change-the-class-of-component-after-period-of-time", "title": "How to change the class of component after period of time?", "body": "<p>I am using a component which renders a SVG image but it does not render the fill. I made two classes </p>\n\n<pre><code>.svg  {\n  fill-opacity: 0;\n\n\n.svg-show {\n  fill-opacity: 1;\n  transition: fill-opacity 2s;\n}\n</code></pre>\n\n<p>} My question would be how could I apply a classname svg-show to the below component after lets say duration of 200</p>\n\n<pre><code>  &lt;ReactVivus\n            className=\"svg\"\n            option={{\n              file: forever,\n              duration: 200,\n              animTimingFunction: \"oneByOne\",\n              type: \"delayed\",\n              onReady: console.log\n            }}\n            callback={console.log}\n          /&gt;\n</code></pre>\n"}, {"tags": ["javascript", "vue.js", "slick.js"], "answers": [{"tags": [], "owner": {"reputation": 272, "user_id": 11016490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5317083244012ab8cbfb04359db9d78?s=128&d=identicon&r=PG&f=1", "display_name": "Mitro", "link": "https://stackoverflow.com/users/11016490/mitro"}, "is_accepted": false, "score": 0, "last_activity_date": 1559180841, "creation_date": 1559180841, "answer_id": 56370648, "question_id": 56368085, "link": "https://stackoverflow.com/questions/56368085/cant-center-div-inside-slick-slider-item-with-flex/56370648#56370648", "title": "Can&#39;t center div inside slick-slider item with flex", "body": "<p>Try adding !important on display: flex for SLIDERcontainer6_item_container.</p>\n\n<pre><code>.SLIDERcontainer6_item_container {\n    display: flex !important;\n}\n</code></pre>\n\n<p>It seems that slider library overrides display property.</p>\n"}], "owner": {"reputation": 1349, "user_id": 10646944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a80e354761f942058d4b0b975e6ccdd?s=128&d=identicon&r=PG&f=1", "display_name": "gabogabans", "link": "https://stackoverflow.com/users/10646944/gabogabans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559183803, "creation_date": 1559161860, "last_edit_date": 1559183803, "question_id": 56368085, "link": "https://stackoverflow.com/questions/56368085/cant-center-div-inside-slick-slider-item-with-flex", "title": "Can&#39;t center div inside slick-slider item with flex", "body": "<p>I made a slick slider component in vue, I'm trying to center a circular div inside each one of the slider items but I can't get tit to work, it centers horizontally after I added margin:auto but it doesn't center vertically despite using align and justify center, any idea how I can get this to work? I think it has something to do with how slick slider changes the width of the slick items via javascript...</p>\n\n<pre><code>&lt;template&gt;\n&lt;slick class=\"SLIDERcontainer6_maincontainer\" ref=\"slick\" :options=\"slickOptions\"&gt;\n    &lt;div class=\"SLIDERcontainer6_item_container\" v-for=\"slider in globals.producsSlider\" :key=\"slider.title\"&gt;\n        &lt;div class=\"SLIDERcontainer6_item_image\" :style=\"'background-image:url('+slider.image+');'\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/slick&gt;\n&lt;/template&gt;\n&lt;!--SCRIPTS--&gt;\n&lt;script&gt;\nimport { mapState } from 'vuex';\nimport Slick from 'vue-slick';\nexport default {\nname: 'SLIDERcontainer10',\n\n\ncomponents: { Slick },\n\n\ncomputed:\n{\n    ...mapState('Globals',['globals'])\n},\n\n\ndata()\n{\n    return {\n        slickOptions: {\n        infinite: true,\n        slidesToShow: 4,\n        slidesToScroll: 1,\n        prevArrow: '&lt;i class=\"fa fa-chevron-left fs_bigger c_light\" style=\"position:absolute; left:10px; top:50%; transform:translateY(-50%); z-index:99999;\"&gt;&lt;/i&gt;',\n        nextArrow: '&lt;i class=\"fa fa-chevron-right fs_bigger c_light\" style=\"position:absolute; right:10px; top:50%; transform:translateY(-50%); z-index:99999;\"&gt;&lt;/i&gt;',\n        arrows: true,\n        autoplay: true,\n        speed: 2000,\n        autoplaySpeed: 4000,\n        responsive: \n        [\n        {\n        breakpoint: 1120,\n            settings: \n            {   \n            slidesToShow: 3,\n            slidesToScroll: 1,\n            }\n        },\n        {\n            breakpoint: 800,\n            settings: \n            {\n            slidesToShow: 2,\n            slidesToScroll: 2\n            }\n        },\n        {\n            breakpoint: 600,\n            settings: \n            {\n            slidesToShow: 1,\n            slidesToScroll: 1\n            }\n        }]\n        },\n\n    };\n},\n\n\nbeforeUpdate()\n{\n    if (this.$refs.slick) {\n        this.$refs.slick.destroy();\n    }\n},\n\n\nupdated()\n{\n    this.$nextTick(function () {\n        if (this.$refs.slick) {\n            this.$refs.slick.create(this.slickOptions);\n        }\n    });\n},\n\n\nmounted()\n{\n    console.log(this.$options.name+' component successfully mounted');\n\n},\n\n\n};\n&lt;/script&gt;\n&lt;!--STYLES--&gt;\n&lt;style scoped&gt;\n.SLIDERcontainer6_maincontainer{width:100%; height:auto; position:relative;}\n.SLIDERcontainer6_item_container{width:33.33%; height:350px; display:flex; flex-direction:column; align-items:center; justify-content:center; background-color:var(--web_primary_color); position:relative;}\n.SLIDERcontainer6_item_image{width:275px; height:275px; border-radius:50%; background-size:cover; background-position:center; margin:auto; align-self:center;}\n@media only screen and (max-width: 736px) \n{\n}\n&lt;/style&gt;\n\n</code></pre>\n"}, {"tags": ["javascript", "push-notification", "service-worker", "progressive-web-apps", "web-push"], "comments": [{"owner": {"reputation": 2374, "user_id": 10105321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X354S.gif?s=128&g=1", "display_name": "jess", "link": "https://stackoverflow.com/users/10105321/jess"}, "edited": false, "score": 1, "creation_date": 1559224093, "post_id": 56368075, "comment_id": 99359465, "body": "As far as I know, <a href=\"https://developers.google.com/web/fundamentals/push-notifications/common-issues-and-reporting-bugs#http_status_codes\" rel=\"nofollow noreferrer\">410</a> means the subscription is no longer valid and should be removed from your back end. This can be reproduced by calling <code>unsubscribe()</code> on a <code>PushSubscription</code>."}], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 2604343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dGyfH.jpg?s=128&g=1", "display_name": "Amarendhar", "link": "https://stackoverflow.com/users/2604343/amarendhar"}, "is_accepted": true, "score": 0, "last_activity_date": 1561267806, "creation_date": 1561267806, "answer_id": 56721291, "question_id": 56368075, "link": "https://stackoverflow.com/questions/56368075/push-subscription-has-unsubscribed-or-expired-with-statuscode-410/56721291#56721291", "title": "push subscription has unsubscribed or expired, with statusCode 410", "body": "<p>There is a problem with <strong>ziet-server</strong>.</p>\n\n<p><strong>ziet-server</strong> stopped supporting write-access, i.e. <code>fs.write</code> won't work.</p>\n\n<p>So i was not able to save/write subscription-objects into db-files.</p>\n\n<p>I deployed into <strong>Heroku</strong>, now it's working as expected.</p>\n"}], "owner": {"reputation": 23, "user_id": 2604343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dGyfH.jpg?s=128&g=1", "display_name": "Amarendhar", "link": "https://stackoverflow.com/users/2604343/amarendhar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2093, "favorite_count": 0, "accepted_answer_id": 56721291, "answer_count": 1, "score": 1, "last_activity_date": 1561267806, "creation_date": 1559161782, "last_edit_date": 1559203558, "question_id": 56368075, "link": "https://stackoverflow.com/questions/56368075/push-subscription-has-unsubscribed-or-expired-with-statuscode-410", "title": "push subscription has unsubscribed or expired, with statusCode 410", "body": "<p>Push subscription has unsubscribed or expired, with <code>statusCode 410</code>, in less then 24 hours.</p>\n\n<p>I'm using web-push to send notifications with fcm-endpoint &amp; vapidDetails.\nIt works fine for few hours, I can send notifications. But just after few hours saved-fcm-endpoint-subscription is getting unsubscribed or expired, with <code>statusCode 410</code>, when I try to send notification from the backend.\nI'm deploying &amp; checking in Heroku.</p>\n\n<p>The below code is to save subscription-object in the server/backend.</p>\n\n<pre><code>                  swReg.pushManager.subscribe({\n                    userVisibleOnly: true,\n                    applicationServerKey: urlB64ToUint8Array(publicKey),\n                  }).then(subscriptionJSON =&gt; {\n                    saveSubscription(subscriptionJSON);\n                  })\n</code></pre>\n\n<p>After the above subscription-object saved in the server, it is getting expired just within few hours.</p>\n\n<p>The Error looks like below:</p>\n\n<pre><code>{ WebPushError: Received unexpected response code\n       at IncomingMessage.&lt;anonymous&gt; (/app/node_modules/web-push/src/web-push-lib.js:316:20)\n       at IncomingMessage.emit (events.js:194:15)\n       at endReadableNT (_stream_readable.js:1125:12)\n       at process._tickCallback (internal/process/next_tick.js:63:19)\n     name: 'WebPushError',\n     message: 'Received unexpected response code',\n     statusCode: 410,\n     headers:\n      { 'content-type': 'text/plain; charset=utf-8',\n        'x-content-type-options': 'nosniff',\n        'x-frame-options': 'SAMEORIGIN',\n        'x-xss-protection': '1; mode=block',\n        date: 'Mon, 27 May 2019 10:11:38 GMT',\n        'content-length': '47',\n        'alt-svc': 'quic=\":443\"; ma=2592000; v=\"46,44,43,39\"',\n        connection: 'close' } \n</code></pre>\n"}, {"tags": ["javascript", "php"], "comments": [{"owner": {"reputation": 10360, "user_id": 3986005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kUYP4.jpg?s=128&g=1", "display_name": "KIKO Software", "link": "https://stackoverflow.com/users/3986005/kiko-software"}, "edited": false, "score": 0, "creation_date": 1559162013, "post_id": 56368061, "comment_id": 99339144, "body": "You&#39;ve got <code>&lt;input ...&gt;</code> inside your <code>&lt;select&gt; ..... &lt;&#47;select&gt;</code>, that looks weird. I know they are hidden, but I still wouldn&#39;t do that."}, {"owner": {"reputation": 33, "user_id": 11574973, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7-rH8XWZ8o0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re_BzyCkpodb-6m-FrsMdOjiXgKHA/mo/photo.jpg?sz=128", "display_name": "MichaelW44", "link": "https://stackoverflow.com/users/11574973/michaelw44"}, "reply_to_user": {"reputation": 10360, "user_id": 3986005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kUYP4.jpg?s=128&g=1", "display_name": "KIKO Software", "link": "https://stackoverflow.com/users/3986005/kiko-software"}, "edited": false, "score": 0, "creation_date": 1559162163, "post_id": 56368061, "comment_id": 99339188, "body": "Any reason not to? I could put them outside of the &lt;select&gt; tags and but I don&#39;t see any difference.  @KIKO Software"}, {"owner": {"reputation": 10360, "user_id": 3986005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kUYP4.jpg?s=128&g=1", "display_name": "KIKO Software", "link": "https://stackoverflow.com/users/3986005/kiko-software"}, "edited": false, "score": 0, "creation_date": 1559162317, "post_id": 56368061, "comment_id": 99339247, "body": "Just put your HTML code through the <a href=\"https://validator.w3.org\" rel=\"nofollow noreferrer\">Markup Validation Service</a>, or use the one build into your browser, and see if anything comes up. If it doesn&#39;t, then I was wrong to be worried about that. I think it will also complain about the <code>&lt;&#47;input&gt;</code> tags."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1559162639, "post_id": 56368061, "comment_id": 99339350, "body": "You&#39;re creating inputs with the same name in a loop. When you submit the form, the value of <code>$_POST[&#39;completeStatus&#39;]</code> will come from just one of the inputs with that name (I think it will be the last one)."}, {"owner": {"reputation": 10360, "user_id": 3986005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kUYP4.jpg?s=128&g=1", "display_name": "KIKO Software", "link": "https://stackoverflow.com/users/3986005/kiko-software"}, "edited": false, "score": 0, "creation_date": 1559162676, "post_id": 56368061, "comment_id": 99339365, "body": "There are also missing single quotes around the values you fill from <code>$row</code>, that might work, or not. For instance a number will work, but a date like this <code>2019&#47;4&#47;2</code> might not."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559162698, "post_id": 56368061, "comment_id": 99339372, "body": "The names of options don&#39;t become POST parameters, only the names of inputs."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559162757, "post_id": 56368061, "comment_id": 99339395, "body": "So you should be using <code>$_POST[&#39;myselect&#39;]</code>, not <code>$_POST[&#39;completeStatus&#39;]</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559162858, "post_id": 56368061, "comment_id": 99339430, "body": "The <code>.</code> at the end of the <code>echo</code> statement should be <code>;</code>. I assume that&#39;s a copying error."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559163012, "post_id": 56368061, "comment_id": 99339493, "body": "Why do all your options have the same value?"}, {"owner": {"reputation": 33, "user_id": 11574973, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7-rH8XWZ8o0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re_BzyCkpodb-6m-FrsMdOjiXgKHA/mo/photo.jpg?sz=128", "display_name": "MichaelW44", "link": "https://stackoverflow.com/users/11574973/michaelw44"}, "edited": false, "score": 0, "creation_date": 1559163156, "post_id": 56368061, "comment_id": 99339550, "body": "I need to have a different values on each of the &lt;option&gt; tags so I can update my database accordingly. If I use &#39;$_POST[&#39;myselect&#39;]&#39;, I cant do that"}, {"owner": {"reputation": 33, "user_id": 11574973, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7-rH8XWZ8o0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re_BzyCkpodb-6m-FrsMdOjiXgKHA/mo/photo.jpg?sz=128", "display_name": "MichaelW44", "link": "https://stackoverflow.com/users/11574973/michaelw44"}, "edited": false, "score": 0, "creation_date": 1559163401, "post_id": 56368061, "comment_id": 99339635, "body": "All my option tags have the same value so I know which row to update in my database"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559163529, "post_id": 56368061, "comment_id": 99339675, "body": "I didn&#39;t see that you were creating a different form each time through the loop, I thought these were all rows in one big form."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 11574973, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7-rH8XWZ8o0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re_BzyCkpodb-6m-FrsMdOjiXgKHA/mo/photo.jpg?sz=128", "display_name": "MichaelW44", "link": "https://stackoverflow.com/users/11574973/michaelw44"}, "edited": false, "score": 0, "creation_date": 1559165774, "post_id": 56368478, "comment_id": 99340349, "body": "Thanks for the post. How can I get the value of the &#39;&lt;option&gt;&#39; tags and set it to a variable in my PHP doc?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 33, "user_id": 11574973, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7-rH8XWZ8o0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re_BzyCkpodb-6m-FrsMdOjiXgKHA/mo/photo.jpg?sz=128", "display_name": "MichaelW44", "link": "https://stackoverflow.com/users/11574973/michaelw44"}, "edited": false, "score": 0, "creation_date": 1559166165, "post_id": 56368478, "comment_id": 99340456, "body": "It&#39;s in <code>$_POST[&#39;myselect&#39;]</code>, like I said in the answer."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 0, "last_activity_date": 1559166145, "last_edit_date": 1559166145, "creation_date": 1559163817, "answer_id": 56368478, "question_id": 56368061, "link": "https://stackoverflow.com/questions/56368061/trouble-sending-form-data-to-php-page/56368478#56368478", "title": "Trouble sending form data to PHP page", "body": "<p>The names of options don't become POST parameters. You should be using the name of the <code>&lt;select&gt;</code>, <code>$_POST['myselect']</code>. </p>\n\n<p>Then you need to give all the options different values, so you can tell which option was chosen. The value of <code>$_POST['myselect']</code> will be one of those values.</p>\n\n<p>I'm not sure what the first <code>&lt;option&gt;</code> is for. I suspect what you really want to do is select the current value by default, I've added code for that with <code>($row['mystatus'] == 'stuckStatus' ? 'selected' : '')</code>.</p>\n\n<p>I added another hidden input with the ID of the task. <code>$_POST['calendarId']</code> will contain <code>$row['calendarid']</code> for the form that the user submitted.</p>\n\n<pre><code>while ($row = mysqli_fetch_assoc($result)) {\n    echo \"&lt;center&gt;&lt;div class='taskWrapper'&gt;&lt;div class='taskTitles'&gt;&lt;p class='subjectTitle'&gt;subject&lt;/p&gt;&lt;p class='taskSubject'&gt;\" . $row['subject'] .\"&lt;/p&gt;&lt;/div&gt;\". \" \" .\n                 \"&lt;div class='taskTitles'&gt;&lt;p class='messageTitle'&gt;Message&lt;/p&gt;&lt;p class='taskMessage'&gt;\". $row['message'] .\"&lt;/p&gt;&lt;/div&gt;\". \" \" .\n                 \"&lt;div class='taskTitles'&gt;&lt;form action='includes/changestatus.inc.php' method='POST'&gt;\n                   &lt;p class='statusTitle'&gt;Status&lt;/p&gt;&lt;select class='taskStatus' name='myselect' onchange='this.form.submit()'&gt;\n                                                         &lt;option value='stuckStatus' \" . ($row['mystatus'] == 'stuckStatus' ? 'selected' : '') . \"&gt;Two&lt;/option&gt;\n                                                         &lt;option value='progressStatus' \" . ($row['mystatus'] == 'progressStatus' ? 'selected' : '') . \"&gt;Three&lt;/option&gt;\n                                                         &lt;option value='completeStatus' \" . ($row['mystatus'] == 'completeStatus' ? 'selected' : '') . \"&gt;Four&lt;/option&gt;\n                                                     &lt;/select&gt;\n                   &lt;input name=\"calendarId' type='hidden' value='\" . $row['calenderid'] . \"'&gt;\n                   &lt;input name='statusDate' type='hidden' value=\". $urlDate .\"&gt;&lt;/input&gt;\n                   &lt;input name='statusMonth' type='hidden' value=\". $urlMonth .\"&gt;&lt;/input&gt;\n                   &lt;input name='statusTZ' type='hidden' value=\". $urlTZ .\"&gt;&lt;/input&gt;\n                 &lt;/form&gt;&lt;/div&gt;&lt;/center&gt;\";\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 11574973, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7-rH8XWZ8o0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re_BzyCkpodb-6m-FrsMdOjiXgKHA/mo/photo.jpg?sz=128", "display_name": "MichaelW44", "link": "https://stackoverflow.com/users/11574973/michaelw44"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 56368478, "answer_count": 1, "score": 0, "last_activity_date": 1559166145, "creation_date": 1559161739, "last_edit_date": 1559163911, "question_id": 56368061, "link": "https://stackoverflow.com/questions/56368061/trouble-sending-form-data-to-php-page", "title": "Trouble sending form data to PHP page", "body": "<p>I currently have a form set up inside a PHP echo. Traditionally my forms have a submit button to send data to a separate PHP document to add to or alter my database, but this time I have  tags inside of a <code>&lt;select&gt;</code> tag, and I'm using javascript to automatically submit the form when one of the option tags is selected with <code>onchange=\"this.form.submit()\".</code> In my PHP document, I am using <code>if (isset($_POST['completeStatus']) {PHP CODE};</code> to see if one of the options was selected inside the form, but for some reason it isn't working for me. It seems that the <code>isset</code> function only knows when a button is clicked, not an option tag. Please correct me if I'm wrong. I'm not sure if there is a different solution to make this work correctly, or if there is something wrong in my code that I'm not seeing. </p>\n\n<pre><code>while ($row = mysqli_fetch_assoc($result)) {\n        echo \"&lt;center&gt;&lt;div class='taskWrapper'&gt;&lt;div class='taskTitles'&gt;&lt;p class='subjectTitle'&gt;subject&lt;/p&gt;&lt;p class='taskSubject'&gt;\" . $row['subject'] .\"&lt;/p&gt;&lt;/div&gt;\". \" \" .\n                     \"&lt;div class='taskTitles'&gt;&lt;p class='messageTitle'&gt;Message&lt;/p&gt;&lt;p class='taskMessage'&gt;\". $row['message'] .\"&lt;/p&gt;&lt;/div&gt;\". \" \" .\n                     \"&lt;div class='taskTitles'&gt;&lt;form action='includes/changestatus.inc.php' method='POST'&gt;\n                       &lt;p class='statusTitle'&gt;Status&lt;/p&gt;&lt;select class='taskStatus' name='myselect' onchange='this.form.submit()'&gt;\n                                                             &lt;option value=\". $row['calenderid'] .\"&gt;\".$row['mystatus'].\"&lt;/option&gt;\n                                                             &lt;option name='stuckStatus' value=\". $row['calenderid'] .\"&gt;Two&lt;/option&gt;\n                                                             &lt;option name='progressStatus' value=\". $row['calenderid'] .\"&gt;Three&lt;/option&gt;\n                                                             &lt;option name='completeStatus' value=\". $row['calenderid'] .\"&gt;Four&lt;/option&gt;\n                                                             &lt;input name='statusDate' type='hidden' value=\". $urlDate .\"&gt;&lt;/input&gt;\n                                                             &lt;input name='statusMonth' type='hidden' value=\". $urlMonth .\"&gt;&lt;/input&gt;\n                                                             &lt;input name='statusTZ' type='hidden' value=\". $urlTZ .\"&gt;&lt;/input&gt;\n                                                         &lt;/select&gt;\n                     &lt;/form&gt;&lt;/div&gt;&lt;/center&gt;\" .\" \";\n}\n</code></pre>\n\n<p>Here's the PHP doc the form submits to </p>\n\n<pre><code>require 'dbh.inc.php';\n\n\n    if (isset($_POST['completeStatus'])) {echo \"working\";}\n</code></pre>\n\n<p>For testing purposes I'm expecting it to navigate and stay on the PHP page when option 4 is clicked on my form  and echo out \"working\", but the block of code isn't being run. It's being sent to the correct PHP doc but the if statement won't run. </p>\n"}, {"tags": ["javascript", "c#", "asp.net"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 7015987, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A48Mw.jpg?s=128&g=1", "display_name": "Cezar Mdlosci", "link": "https://stackoverflow.com/users/7015987/cezar-mdlosci"}, "edited": false, "score": 0, "creation_date": 1559163539, "post_id": 56368335, "comment_id": 99339680, "body": "if i not add this: //if succes then load my View passing array as param   document.location = &#39;/controller/MyAction?object&#39; + JSON.stringify(array) ; After sent to controller the view not load"}, {"owner": {"reputation": 1376, "user_id": 735964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25cbf9f5a6202f3971847a25741cd256?s=128&d=identicon&r=PG", "display_name": "GaloisGirl", "link": "https://stackoverflow.com/users/735964/galoisgirl"}, "reply_to_user": {"reputation": 57, "user_id": 7015987, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A48Mw.jpg?s=128&g=1", "display_name": "Cezar Mdlosci", "link": "https://stackoverflow.com/users/7015987/cezar-mdlosci"}, "edited": false, "score": 0, "creation_date": 1559208619, "post_id": 56368335, "comment_id": 99352105, "body": "If does load, it&#39;s in the &quot;response&quot; param of the &quot;success&quot; function. It does not display, though. Can you do &quot;console.log(response)&quot; in the success handler?"}], "tags": [], "owner": {"reputation": 1376, "user_id": 735964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25cbf9f5a6202f3971847a25741cd256?s=128&d=identicon&r=PG", "display_name": "GaloisGirl", "link": "https://stackoverflow.com/users/735964/galoisgirl"}, "is_accepted": true, "score": 0, "last_activity_date": 1559163142, "creation_date": 1559163142, "answer_id": 56368335, "question_id": 56368050, "link": "https://stackoverflow.com/questions/56368050/pass-array-javascript-as-param-to-controller/56368335#56368335", "title": "Pass array javascript as param to controller", "body": "<blockquote>\n  <p>i alreay tried use ajax, but for some reason ajax call my controler\n  twice</p>\n</blockquote>\n\n<p>I'm guessing the first call is a POST request done by the lines:</p>\n\n<pre><code>$.ajax({\n    type: 'POST',\n</code></pre>\n\n<p>and the second call is a GET request done by the line:</p>\n\n<pre><code>  //if succes then load my View passing array as param\n  document.location = '/controller/MyAction?object' + JSON.stringify(array) ;\n</code></pre>\n\n<p>Check if this is the case in the \"network\" tab of your browser's debugger, decide whether you want to use POST or GET, and configure your controller accordingly. This thread may be helpful: <a href=\"https://stackoverflow.com/questions/17558025/asp-mvc-http-get-action-with-object-as-parameter\">asp mvc http get action with object as parameter</a></p>\n"}], "owner": {"reputation": 57, "user_id": 7015987, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A48Mw.jpg?s=128&g=1", "display_name": "Cezar Mdlosci", "link": "https://stackoverflow.com/users/7015987/cezar-mdlosci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 56368335, "answer_count": 1, "score": 0, "last_activity_date": 1559228159, "creation_date": 1559161711, "question_id": 56368050, "link": "https://stackoverflow.com/questions/56368050/pass-array-javascript-as-param-to-controller", "title": "Pass array javascript as param to controller", "body": "<p>firstly sorry for my bad english, my problem is, i have  a controller that receive a list of object as param, but when i try sent this list to controller  always receive null.</p>\n\n<pre><code>    public async Task&lt;ActionResult&gt; MyAction(List&lt;class&gt; object)\n    {\n\n        //do stuff\n    }\n</code></pre>\n\n<p>my javascript</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>var array= []\r\n\r\narray.push()...\r\ndocument.location = '/MyAction/Controller?object'JSON.stringify(array)\r\n\r\nmy controller always receive null</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>i alreay tried use ajax, but for some reason ajax call my controler twice, in first call i recieve my list correctly, but in second receive null</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>       \r\n       var array =[]\r\n       array.push()//just example\r\n       \r\n       $.ajax({\r\n            type: 'POST',\r\n            tradicional:true,\r\n            async:true,\r\n            url: '/controller/MyAction',\r\n            data: JSON.stringify({ 'object': array}),\r\n            contentType: 'application/json; charset=utf-8',\r\n            datatype: 'json',\r\n            success: function (result) {\r\n                //if succes then load my View passing array as param\r\n                document.location = '/controller/MyAction?object' + JSON.stringify(array) ;\r\n\r\n            },\r\n            error: function (result) {\r\n\r\n            }\r\n        });</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "google-chrome-extension"], "comments": [{"owner": {"reputation": 603, "user_id": 5104526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d7968c8f8f4a0f1bc966f2773e514bb?s=128&d=identicon&r=PG&f=1", "display_name": "Austin Ezell", "link": "https://stackoverflow.com/users/5104526/austin-ezell"}, "edited": false, "score": 1, "creation_date": 1559162038, "post_id": 56368041, "comment_id": 99339149, "body": "I&#39;m not familiar with Chrome extensions but can you try changing <code>chrome.storage.local.set({storageid: storage} ...</code> to <code>chrome.storage.local.set({[storageid]: storage} ...</code>"}, {"owner": {"reputation": 2323, "user_id": 8350647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zJNHD.png?s=128&g=1", "display_name": "Nina", "link": "https://stackoverflow.com/users/8350647/nina"}, "reply_to_user": {"reputation": 603, "user_id": 5104526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d7968c8f8f4a0f1bc966f2773e514bb?s=128&d=identicon&r=PG&f=1", "display_name": "Austin Ezell", "link": "https://stackoverflow.com/users/5104526/austin-ezell"}, "edited": false, "score": 0, "creation_date": 1559162168, "post_id": 56368041, "comment_id": 99339191, "body": "Oh @AustinEzell Thank you! That seemed to do the trick! I feel so dumb sometimes. Can you write that as an answer instead of a comment?"}, {"owner": {"reputation": 603, "user_id": 5104526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d7968c8f8f4a0f1bc966f2773e514bb?s=128&d=identicon&r=PG&f=1", "display_name": "Austin Ezell", "link": "https://stackoverflow.com/users/5104526/austin-ezell"}, "edited": false, "score": 0, "creation_date": 1559162359, "post_id": 56368041, "comment_id": 99339264, "body": "Cool, I&#39;ll write up a quick answer on why this is the case."}], "answers": [{"tags": [], "owner": {"reputation": 603, "user_id": 5104526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d7968c8f8f4a0f1bc966f2773e514bb?s=128&d=identicon&r=PG&f=1", "display_name": "Austin Ezell", "link": "https://stackoverflow.com/users/5104526/austin-ezell"}, "is_accepted": true, "score": 1, "last_activity_date": 1559162784, "creation_date": 1559162784, "answer_id": 56368271, "question_id": 56368041, "link": "https://stackoverflow.com/questions/56368041/chrome-storage-local-issues-with-writing-keys/56368271#56368271", "title": "chrome.storage.local Issues with writing keys", "body": "<p>When you form your JS object, you are writing <code>{storageid: storage}</code>. This <code>storageid</code> here is still just the string <code>\"storageid\"</code>. What you are looking for is the value of the variable itself.\n<code>{[storageid]: storage}</code> interprets the variable <code>storageid</code> into the its value. </p>\n\n<p>Not that it matters when building a Chrome plugin, but I figure it is worth pointing out that this is a more modern syntax of JS and would not work in IE. There, the solution would still have to be. </p>\n\n<pre><code>var storageObj = {}\nstorageObj[storageid] = storage\n</code></pre>\n"}], "owner": {"reputation": 2323, "user_id": 8350647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zJNHD.png?s=128&g=1", "display_name": "Nina", "link": "https://stackoverflow.com/users/8350647/nina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "closed_date": 1559219091, "accepted_answer_id": 56368271, "answer_count": 1, "score": 0, "last_activity_date": 1559162784, "creation_date": 1559161651, "question_id": 56368041, "link": "https://stackoverflow.com/questions/56368041/chrome-storage-local-issues-with-writing-keys", "closed_reason": "Duplicate", "title": "chrome.storage.local Issues with writing keys", "body": "<p>I'm trying to integrate chrome's storage into my extension. And I'm having trouble grasping how the data is stored once it's written because nothing I try seems to work.\nWhat I want to be able to do is store an object with a specific key. But that key is generated runtime, dynamically.</p>\n\n<p>So I have something like this so far.</p>\n\n<pre><code> let storage = {};\nstorage[\"status\"] = \"no status\";\nchrome.storage.local.set(storage,function(){\n\n});\n</code></pre>\n\n<p>When I do that, the key automatically becomes 'storage' but I don't want to do that. Because I want the key to be unique every time. So ideally what I want to do is this</p>\n\n<pre><code>let storageid = generateid();//generate unique storage id\nlet storage = {};\nstorage[\"status\"] = \"no status\";\nchrome.storage.local.set({storageid: storage},function(){\n\n});\n</code></pre>\n\n<p>But even in that instance the key is still \"storageid\" not necessarily the value held in the variable storageid.\nIt's a bit tricky to explain the problem because of my little understanding of how chrome's local storage works. So any help would be greatly appreciated. </p>\n"}, {"tags": ["javascript", "php", "ajax", "apache"], "comments": [{"owner": {"reputation": 2724, "user_id": 1970822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a60600ccf383f06065a582c328eedfdc?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1970822/jan"}, "edited": false, "score": 2, "creation_date": 1559161623, "post_id": 56367967, "comment_id": 99338996, "body": "Did you get any error/warning in the developer console of your browser? And is there any activity in the network-tab of the developer tools when you change the content of the input?"}, {"owner": {"reputation": 281, "user_id": 1558734, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/kiWeX.png?s=128&g=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/1558734/wes"}, "reply_to_user": {"reputation": 2724, "user_id": 1970822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a60600ccf383f06065a582c328eedfdc?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1970822/jan"}, "edited": false, "score": 0, "creation_date": 1559161740, "post_id": 56367967, "comment_id": 99339042, "body": "Hah. It&#39;s been SO long since I&#39;ve done dedicated web development (2012) that I forgot to check. I do see &#39;Uncaught ReferenceError: $ is not defined...&quot; referring to the $.ajax({ line... not sure what that really means."}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1559161779, "post_id": 56367967, "comment_id": 99339061, "body": "That PHP code looks like it creates the <code>&lt;input&gt;</code> element with a &quot;change&quot; callback string that lacks quotes around the ID and value parameters."}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 2, "creation_date": 1559161800, "post_id": 56367967, "comment_id": 99339070, "body": "@Wes &quot;$ is not defined&quot; means you forgot to import jQuery."}, {"owner": {"reputation": 2724, "user_id": 1970822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a60600ccf383f06065a582c328eedfdc?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1970822/jan"}, "edited": false, "score": 1, "creation_date": 1559161974, "post_id": 56367967, "comment_id": 99339129, "body": "Pointy is right, <code>$.ajax</code> is part of the <a href=\"https://jquery.com/\" rel=\"nofollow noreferrer\">jQuery</a>-library. You have to import that into your document if you want to use it."}, {"owner": {"reputation": 281, "user_id": 1558734, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/kiWeX.png?s=128&g=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/1558734/wes"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1559162324, "post_id": 56367967, "comment_id": 99339251, "body": "@Pointy Ajax does seem to be imported. Import code added to main body"}, {"owner": {"reputation": 281, "user_id": 1558734, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/kiWeX.png?s=128&g=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/1558734/wes"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1559162344, "post_id": 56367967, "comment_id": 99339259, "body": "@Pointy Also, I updated the input portion. also noted above"}, {"owner": {"reputation": 281, "user_id": 1558734, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/kiWeX.png?s=128&g=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/1558734/wes"}, "edited": false, "score": 1, "creation_date": 1559163025, "post_id": 56367967, "comment_id": 99339499, "body": "OMG... I got it to work. 1.10.2 may have been too old of a version of JQuery! I added 3.4.1 and it worked INSTANTLY..."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1559164240, "post_id": 56367967, "comment_id": 99339908, "body": "Were you getting any errors in the JavaScript console?"}, {"owner": {"reputation": 281, "user_id": 1558734, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/kiWeX.png?s=128&g=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/1558734/wes"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559166189, "post_id": 56367967, "comment_id": 99340463, "body": "@Barmar as noted above &quot;&#39;Uncaught ReferenceError: $ is not defined...&quot; referring to the $.ajax({ line... not sure what that really means.&quot;"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1559166299, "post_id": 56367967, "comment_id": 99340496, "body": "That means that jQuery didn&#39;t load correctly."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1559166351, "post_id": 56367967, "comment_id": 99340513, "body": "If you get that error, ALL your jQuery functions should have stopped working, not just <code>$.ajax</code>."}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1559164195, "post_id": 56368321, "comment_id": 99339893, "body": "There&#39;s nothing version-dependent in that AJAX call. It should work fine in 1.10.2."}, {"owner": {"reputation": 281, "user_id": 1558734, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/kiWeX.png?s=128&g=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/1558734/wes"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559166226, "post_id": 56368321, "comment_id": 99340471, "body": "I changed my include line from 1.10.2 to 3.4.1 and the exact code worked. Clearly some functional change occurred between versions."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1559166405, "post_id": 56368321, "comment_id": 99340529, "body": "You were getting an error saying that <code>$</code> wasn&#39;t defined. The problem wasn&#39;t the jQuery version, the problem was that you weren&#39;t loading jQuery at all before you changed that. Maybe you had a typo in the URL."}, {"owner": {"reputation": 281, "user_id": 1558734, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/kiWeX.png?s=128&g=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/1558734/wes"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559167003, "post_id": 56368321, "comment_id": 99340692, "body": "wow. ok. yeah... that&#39;s odd too... I went back to my old include statement and it no longer worked. I then changed from http:// to https:// for the jquery URL and it worked. I&#39;ll update my answer."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1559167418, "post_id": 56368321, "comment_id": 99340820, "body": "You were probably getting a &quot;Mixed content&quot; error in the JavaScript console. If you load the page with HTTPS, you can&#39;t load scripts with HTTP."}, {"owner": {"reputation": 281, "user_id": 1558734, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/kiWeX.png?s=128&g=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/1558734/wes"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1559228246, "post_id": 56368321, "comment_id": 99361680, "body": "That makes sense. I was seeing that, but didn&#39;t think it was relevant."}], "tags": [], "owner": {"reputation": 281, "user_id": 1558734, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/kiWeX.png?s=128&g=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/1558734/wes"}, "is_accepted": false, "score": 0, "last_activity_date": 1559167056, "last_edit_date": 1559167056, "creation_date": 1559163062, "answer_id": 56368321, "question_id": 56367967, "link": "https://stackoverflow.com/questions/56367967/ajax-commit-change-to-database-without-submit/56368321#56368321", "title": "AJAX commit change to database without submit", "body": "<p>EDIT: was calling the JQuery script using HTTP, not HTTPS. Updated to below:</p>\n\n<pre><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<hr>\n\n<p>Changed the version of jquery to 3.4.1 and the ajax call worked perfectly.</p>\n"}], "owner": {"reputation": 281, "user_id": 1558734, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/kiWeX.png?s=128&g=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/1558734/wes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559167463, "creation_date": 1559161330, "last_edit_date": 1559167463, "question_id": 56367967, "link": "https://stackoverflow.com/questions/56367967/ajax-commit-change-to-database-without-submit", "title": "AJAX commit change to database without submit", "body": "<p>This cat has been skinned several ways in SO, but I can't seem to stretch any in to a way that works for my example.</p>\n\n<p>I have created a table consisting of three columns. The third column is a text box that will display a placeholder of 'Not Installed', or a date. I need an onChange event to trigger a PHP post script to send the entered value to the database.</p>\n\n<p>Independently, the following works:</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n    &lt;form action=\"./functions/post_Updates.php\" method=\"Post\"&gt;\n         &lt;input name=\"RAID\"&gt;\n         &lt;input name=\"InstalledOn\"&gt;\n         &lt;button type=\"submit\" value=\"go\"&gt;go &lt;/button&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>PHP</p>\n\n<pre><code>$RAID = $_POST['RAID'];\n$InstalledOn = $_POST['InstalledOn'];\n\necho \"&lt;p&gt;$RAID&lt;/p&gt;\";\necho \"&lt;p&gt;$InstalledOn&lt;/p&gt;\";\n\n$tsql = \"insert into dbo.test (test) values ('$InstalledOn $RAID')\";\n</code></pre>\n\n<p>Upon submit, the TEST table gets updated.</p>\n\n<p>I set up my table elements in the following manner (as part of a PHP function to generate the table itself:\nHTML</p>\n\n<pre><code>&lt;input type=\\\"text\\\" class=\\\"InstalledOn_Input\\\" name=\\\"$r_RAAID\\\" onChange=\\\"DynamicUpdateCP($r_RAAID,this.value);\\\" placeholder=\\\"$r_CPInstalledOnDate\\\"&gt;&lt;/input&gt;\n</code></pre>\n\n<p>JS</p>\n\n<pre><code>function DynamicUpdateCP(id,value){\n    $.ajax({\n        data: {RAID: id, InstalledOn: value},\n        url: './functions/post_Updates.php',\n        type: 'POST'\n    });\n    alert(id + ' has changed to ' + value);\n\n}\n</code></pre>\n\n<p>If I remove the $.ajax portion, the alert() fires as expected. Currently, though, editing a field and, either pressing return or changing focus, does nothing at all.</p>\n\n<p>Any guidance on the missing link, here, would be phenomenal. Thank you.</p>\n\n<hr>\n\n<p>@Pointy\nI reformatted the portion of the onchange=... to be:</p>\n\n<pre><code>onChange=\\\"DynamicUpdateCP(\\\"$r_RAAID\\\",\\\"this.value\\\");\\\"'\n</code></pre>\n\n<p>the error I get, in my debug console, is:</p>\n\n<blockquote>\n  <p>Uncaught SyntaxError: Unexpected end of input</p>\n</blockquote>\n\n<p>jQuery import statement:</p>\n\n<pre><code>&lt;script rel=\"javascript\" type=\"text/javascript\"  src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "redux", "console.log"], "comments": [{"owner": {"reputation": 4180, "user_id": 2649853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sO7Jq.png?s=128&g=1", "display_name": "Chirag Ravindra", "link": "https://stackoverflow.com/users/2649853/chirag-ravindra"}, "edited": false, "score": 2, "creation_date": 1559164689, "post_id": 56367955, "comment_id": 99340051, "body": "Few thoughts: 1) If you are using the react build <code>process.env.NODE_ENV</code> is usually set to <code>production</code>, not <code>prod</code>. Try logging the value and seeing what it is? 2) The babel transform (I&#39;m guessing) goes through your code and removes any instances of <code>console.log</code> but it may not be able to manage that for <code>redux-logger</code> calls. Just a guess in the dark but I hope it helps."}, {"owner": {"reputation": 4533, "user_id": 5573294, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/f7wtO.jpg?s=128&g=1", "display_name": "Canovice", "link": "https://stackoverflow.com/users/5573294/canovice"}, "reply_to_user": {"reputation": 4180, "user_id": 2649853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sO7Jq.png?s=128&g=1", "display_name": "Chirag Ravindra", "link": "https://stackoverflow.com/users/2649853/chirag-ravindra"}, "edited": false, "score": 0, "creation_date": 1559178854, "post_id": 56367955, "comment_id": 99343307, "body": "You are right that it is production, not prod. It looks like this should resolve the redux-logger issue."}, {"owner": {"reputation": 4533, "user_id": 5573294, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/f7wtO.jpg?s=128&g=1", "display_name": "Canovice", "link": "https://stackoverflow.com/users/5573294/canovice"}, "reply_to_user": {"reputation": 4180, "user_id": 2649853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sO7Jq.png?s=128&g=1", "display_name": "Chirag Ravindra", "link": "https://stackoverflow.com/users/2649853/chirag-ravindra"}, "edited": false, "score": 0, "creation_date": 1559178879, "post_id": 56367955, "comment_id": 99343313, "body": "The issue I&#39;m having with the babel transform is that it&#39;s not working at all - not even for the ordinary <code>console.logs</code> throughout the code"}], "owner": {"reputation": 4533, "user_id": 5573294, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/f7wtO.jpg?s=128&g=1", "display_name": "Canovice", "link": "https://stackoverflow.com/users/5573294/canovice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1734, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1559161284, "creation_date": 1559161284, "question_id": 56367955, "link": "https://stackoverflow.com/questions/56367955/removing-console-logs-in-development-version-of-react-redux-mern-stack-appli", "title": "Removing console.logs in development version of React / Redux / MERN-stack application", "body": "<p>I have two console-logging issues I am trying to resolve here. One is simpler and i can simply comment out a few lines of code to bandaid the problem, but I'd like to ask both here.</p>\n\n<p>First, for redux, in my <code>store.js</code> file I use <code>redux-logger</code> to console.log in production the different actions. Here is my <code>store.js</code> file: </p>\n\n<pre><code>import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nconst initialState = {};\nconst middleware = [thunk];\n\nif (process.env.NODE_ENV !== `prod`) {\n    const { logger } = require(`redux-logger`);\n    middleware.push(logger);\n}\n\nconst store = createStore(\n    rootReducer,\n    initialState,\n    applyMiddleware(...middleware),\n    window.__REDUX_DEVTOOLS_EXTENSION__ &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nexport default store;\n</code></pre>\n\n<p>Unfortunately, the <code>if (process.env.NODE_ENV !==</code>prod<code>) {</code> condition is not working, as the <code>redux-logger</code> outputs are showing up in the version of my app that I deploy on my EC2 instance.</p>\n\n<p>Second, I would like to suppress all <code>console.logs</code> in general in EC2 instance dev version. I have installed this library - <a href=\"https://www.npmjs.com/package/babel-plugin-transform-remove-console\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/babel-plugin-transform-remove-console</a> - and I created a <code>.babelrc</code> file that looks like this:</p>\n\n<pre><code>{\n    \"env\": {\n        \"production\": {\n            \"plugins\": [\"transform-remove-console\"]\n        }\n    }\n}\n</code></pre>\n\n<p>However, even with the library installed and the <code>.babelrc</code> file created, the console.logs appear in the dev version of the app. </p>\n\n<p>Any help with how I can go about debugging each of these problems would be greatly appreciated. For the time being, I am simply commenting out the <code>redux-logger</code> lines of code in the store to remove the logger's output, but I have no way of easily hiding the other console.logs (beyond commenting them out across all of the different components of my app). </p>\n\n<p><strong>Edit</strong>: please let me know if sharing any of the other app files, or looking up version numbers for certain libraries, will help with this!</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "webpack", "ruby-on-rails-6"], "answers": [{"comments": [{"owner": {"reputation": 6273, "user_id": 2392106, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/iXOIu.jpg?s=128&g=1", "display_name": "medBouzid", "link": "https://stackoverflow.com/users/2392106/medbouzid"}, "edited": false, "score": 0, "creation_date": 1582107960, "post_id": 60275301, "comment_id": 106660299, "body": "I understand... I was in the same situation before, I wrote a blog post about webpack here <a href=\"https://medium.com/p/e3534fded7ff\" rel=\"nofollow noreferrer\">medium.com/p/e3534fded7ff</a> which you may find helpful, if you have any question let me know"}], "tags": [], "owner": {"reputation": 489, "user_id": 1716273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5b092fc91cf7ce01f1a85bd7ea96a0c?s=128&d=identicon&r=PG", "display_name": "Dmitry Ukolov", "link": "https://stackoverflow.com/users/1716273/dmitry-ukolov"}, "is_accepted": false, "score": 0, "last_activity_date": 1582008722, "creation_date": 1582008722, "answer_id": 60275301, "question_id": 56367920, "link": "https://stackoverflow.com/questions/56367920/jquery-file-upload-plugin-with-webpack-fileupload-is-not-a-function/60275301#60275301", "title": "jQuery File Upload plugin with webpack $(...).fileupload is not a function", "body": "<p>I lost 2 or 3 hours trying use webpack without success.</p>\n\n<p>Then simple download <code>*.js</code> files directly from blueimp repository to <code>app/javascript/packs/vendor</code> and import it in <code>application.js</code>.</p>\n"}], "owner": {"reputation": 6273, "user_id": 2392106, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/iXOIu.jpg?s=128&g=1", "display_name": "medBouzid", "link": "https://stackoverflow.com/users/2392106/medbouzid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 532, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1582008722, "creation_date": 1559161135, "last_edit_date": 1559164669, "question_id": 56367920, "link": "https://stackoverflow.com/questions/56367920/jquery-file-upload-plugin-with-webpack-fileupload-is-not-a-function", "title": "jQuery File Upload plugin with webpack $(...).fileupload is not a function", "body": "<p>I am using Rails 6, and I need to use jquery file upload plugin, I would like to add manually instead of using yarn, so I downloaded this file here: <a href=\"https://cdnjs.cloudflare.com/ajax/libs/blueimp-file-upload/9.31.0/js/jquery.fileupload.js\" rel=\"nofollow noreferrer\">https://cdnjs.cloudflare.com/ajax/libs/blueimp-file-upload/9.31.0/js/jquery.fileupload.js</a>  and put it into <code>app/javascript</code> folder </p>\n\n<p>then in <code>app/javascript/packs/application.js</code> I added the line</p>\n\n<pre><code>require(\"jquery.fileupload\")\n</code></pre>\n\n<p>In my <code>app/javascript/main.js</code> :</p>\n\n<pre><code>$('#file-input').fileupload()\n</code></pre>\n\n<p>I get the error :</p>\n\n<pre><code>TypeError: $(...).fileupload is not a function\n</code></pre>\n\n<p>If I put <code>$('#file-input').fileupload()</code> in <code>javascript/packs/application.js</code> like this :</p>\n\n<pre><code>require(\"jquery.fileupload\")\n$('#file-input').fileupload()\n</code></pre>\n\n<p>The error disappear ! so the issue seems to be that the plugin can only be accessed in application.js and not in other files, how I can solve that ?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 3, "creation_date": 1559161173, "post_id": 56367910, "comment_id": 99338834, "body": "What exactly is the problem? What goes wrong? Are errors reported? Does <i>anything</i> happen?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1559161260, "post_id": 56367910, "comment_id": 99338858, "body": "I don&#39;t understand the point of the first line inside <code>getParameterByName</code>.  That regex doesn&#39;t appear to match any of the parameter values you&#39;re passing into the method.  That line doesn&#39;t appear to do anything useful, or maybe I&#39;m missing something."}, {"owner": {"reputation": 3, "user_id": 11574990, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-29PIJv5rLHY/AAAAAAAAAAI/AAAAAAAAAFY/2DuwJ7xxq6M/photo.jpg?sz=128", "display_name": "Brenig Cory", "link": "https://stackoverflow.com/users/11574990/brenig-cory"}, "edited": false, "score": 0, "creation_date": 1559161549, "post_id": 56367910, "comment_id": 99338968, "body": "so i grab utm variable from the url string really what i want to do is the following I can write it in php but just don&#39;t know how to do it in javascript $source=&quot;Organic&quot;; if (isset(getParameterByName(&#39;utm_source&#39;)) { $source=getParameterByName(&#39;utm_source&#39;); }"}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1559161691, "creation_date": 1559161691, "answer_id": 56368048, "question_id": 56367910, "link": "https://stackoverflow.com/questions/56367910/how-to-set-up-a-if-statement-to-change-variables/56368048#56368048", "title": "How to set up a if statement to change variables", "body": "<p>You can pass the default as a parameter to the function, and return that in your conditional operator instead of <code>\"\"</code>:</p>\n\n<pre><code>function getParameterByName(name, default) {\n    name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n    var regex = new RegExp(\"[\\\\?&amp;]\" + name + \"=([^&amp;#]*)\"),\n    results = regex.exec(location.search);\n    return results === null ? default : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n}\n\n// Give the URL parameters variable names\nvar source = 'organic';\nvar medium = 'organic';\nvar campaign = 'organic';\n\n// Give the URL parameters variable names\nvar source = getParameterByName('utm_source', source);\nvar medium = getParameterByName('utm_medium', medium);\nvar campaign = getParameterByName('utm_campaign', campaign);\n</code></pre>\n\n<p>Another option would be to use the <code>||</code> operator to apply a default in the assignment:</p>\n\n<pre><code>/ Give the URL parameters variable names\nvar source = 'organic';\nvar medium = 'organic';\nvar campaign = 'organic';\n\n// Give the URL parameters variable names\nvar source = getParameterByName('utm_source') || source;\nvar medium = getParameterByName('utm_medium') || medium;\nvar campaign = getParameterByName('utm_campaign') || campaign;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11574990, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-29PIJv5rLHY/AAAAAAAAAAI/AAAAAAAAAFY/2DuwJ7xxq6M/photo.jpg?sz=128", "display_name": "Brenig Cory", "link": "https://stackoverflow.com/users/11574990/brenig-cory"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 56368048, "answer_count": 1, "score": -1, "last_activity_date": 1559161733, "creation_date": 1559161067, "last_edit_date": 1559161167, "question_id": 56367910, "link": "https://stackoverflow.com/questions/56367910/how-to-set-up-a-if-statement-to-change-variables", "title": "How to set up a if statement to change variables", "body": "<p>I am trying to change a variable in a javascript to a default if there is no value available</p>\n\n<pre><code>// Parse the URL\nfunction getParameterByName(name) {\n    name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n    var regex = new RegExp(\"[\\\\?&amp;]\" + name + \"=([^&amp;#]*)\"),\n    results = regex.exec(location.search);\n    return results === null ? \"\" : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n}\n\n// Give the URL parameters variable names\nvar source = 'organic';\nvar medium = 'organic';\nvar campaign = 'organic';\n\n// Give the URL parameters variable names\nvar source = getParameterByName('utm_source');\nvar medium = getParameterByName('utm_medium');\nvar campaign = getParameterByName('utm_campaign');\n</code></pre>\n\n<p>I am using some javascript to pass utm variable from the url through a pardot form. I am wanting to set the default to organic as the value and then change the variable to one provided in the url if it is available</p>\n"}, {"tags": ["javascript", "arrays", "sorting", "median"], "answers": [{"tags": [], "owner": {"reputation": 15562, "user_id": 155819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yXygz.jpg?s=128&g=1", "display_name": "Akrion", "link": "https://stackoverflow.com/users/155819/akrion"}, "is_accepted": true, "score": 0, "last_activity_date": 1559163018, "last_edit_date": 1559163018, "creation_date": 1559162592, "answer_id": 56368231, "question_id": 56367900, "link": "https://stackoverflow.com/questions/56367900/proper-explanation-of-median-javascript-code-listed-below/56368231#56368231", "title": "Proper explanation of median javascript code listed below", "body": "<p>It would actually help if you put a <code>console.log(array)</code> right after the <code>array.sort</code> to visualize it better:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function median(array) {\r\n  array.sort(function(a, b) {\r\n    return a - b;\r\n  });\r\n  console.log(array)  // &lt;-- so you can see the sorted array\r\n  var middle = array.length / 2;\r\n  return middle % 1 ? array[middle - 0.5] : (array[middle - 1] + array[middle]) / 2;\r\n}\r\n\r\nconsole.log(median([5,4,3,2,1]))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>By definition <code>median</code> is:</p>\n\n<blockquote>\n  <p>The median is the value separating the higher half from the lower half\n  of a data sample. For a data set, it may be thought of as the \"middle\"\n  value. For example, in the data set {1, 3, 3, 6, 7, 8, 9}, the median\n  is 6, the fourth largest, and also the fourth smallest, number in the\n  sample</p>\n</blockquote>\n\n<p>So first the array must be sorted so we can figure out which is the smallest and which the largest number. Then we find out the middle of the array. After that we simply check if the length was an even or odd number by using the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators#Remainder_()\" rel=\"nofollow noreferrer\"><code>% modulus operator</code></a> => <code>(5/2)%1</code> would be <code>0.5</code> where <code>(4/2)%1</code> would be <code>0</code> and based on that we select the proper item by index from the array (Note array indexes start from <code>0</code>).</p>\n\n<p>Lets use array of <code>[5,4,3,2,1]</code> as an example:</p>\n\n<p>Sorted that would be <code>[1,2,3,4,5]</code>, the remainder of the length of the array <code>divided by 2</code> would be <code>2.5</code> and modulus <code>1</code> of that would mean <code>0.5</code>. So in this case we would pick <code>array[middle-0.5]</code> value from the array which would mean <code>array[2.5-0.5]</code> which would be <code>2</code>. Our array at index <code>2</code> has the value of <code>3</code> hence the median of that array is <code>3</code>.</p>\n\n<p>In the case of <code>[1,2,3,4]</code> the median would be <code>2.5</code> since the modulus would return <code>0</code> and we would go to the <code>else</code> of the <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Conditional_Operator\" rel=\"nofollow noreferrer\">ternary operator</a> which is:</p>\n\n<p><code>(array[middle - 1] + array[middle]) / 2</code></p>\n\n<p>That in our case would mean <code>(array[2-1] + array[2]) / 2</code> that when we replace the values from the array indexes would be <code>(2+3)/2 = 2.5</code></p>\n\n<p>Hope this clears it.</p>\n"}], "owner": {"reputation": 3, "user_id": 11574962, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200674253715965/picture?type=large", "display_name": "Dillon Dison", "link": "https://stackoverflow.com/users/11574962/dillon-dison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 56368231, "answer_count": 1, "score": 0, "last_activity_date": 1559163018, "creation_date": 1559160966, "question_id": 56367900, "link": "https://stackoverflow.com/questions/56367900/proper-explanation-of-median-javascript-code-listed-below", "title": "Proper explanation of median javascript code listed below", "body": "<p>I'm just looking for a solid explanation of the code listed below? I understand how median works but am unsure why this format properly finds the median each time.     </p>\n\n<pre><code>   function median(array) {\n  array.sort(function(a, b) {\n  return a - b;\n  });\n  var middle = array.length / 2;\n  return middle % 1 ? array[middle - 0.5] : (array[middle - 1] + \n  array[middle]) / 2;\n   }\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 6941, "user_id": 579148, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/u46H6.jpg?s=128&g=1", "display_name": "jwatts1980", "link": "https://stackoverflow.com/users/579148/jwatts1980"}, "edited": false, "score": 0, "creation_date": 1559163059, "post_id": 56367888, "comment_id": 99339509, "body": "Here is a possible solution that does not involve eval. You would put the classes into a map, and use the map to refer to the objects by name.  <a href=\"https://yaoganglian.com/2013/07/17/javascript-class-from-string/\" rel=\"nofollow noreferrer\">yaoganglian.com/2013/07/17/javascript-class-from-string</a>"}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 9951159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb7e8e5ad98c66bcd8bd9849b9ffda24?s=128&d=identicon&r=PG&f=1", "display_name": "AmineBouhaddi", "link": "https://stackoverflow.com/users/9951159/aminebouhaddi"}, "edited": false, "score": 0, "creation_date": 1559161866, "post_id": 56368047, "comment_id": 99339095, "body": "TypeError: window[data.className] is undefined"}, {"owner": {"reputation": 1494, "user_id": 2804555, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005016456185/picture?type=large", "display_name": "Max Meijer", "link": "https://stackoverflow.com/users/2804555/max-meijer"}, "reply_to_user": {"reputation": 69, "user_id": 9951159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb7e8e5ad98c66bcd8bd9849b9ffda24?s=128&d=identicon&r=PG&f=1", "display_name": "AmineBouhaddi", "link": "https://stackoverflow.com/users/9951159/aminebouhaddi"}, "edited": false, "score": 0, "creation_date": 1559162497, "post_id": 56368047, "comment_id": 99339311, "body": "@AmineBouhaddi Yes, unfortunately the solution I proposed did not actually work. I edited my answer to reflect that and added some code that should work"}, {"owner": {"reputation": 69, "user_id": 9951159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb7e8e5ad98c66bcd8bd9849b9ffda24?s=128&d=identicon&r=PG&f=1", "display_name": "AmineBouhaddi", "link": "https://stackoverflow.com/users/9951159/aminebouhaddi"}, "edited": false, "score": 0, "creation_date": 1559162729, "post_id": 56368047, "comment_id": 99339383, "body": "Firstly i thank you so much for your effort and help, and i want just to know if eval is secure ?"}, {"owner": {"reputation": 6941, "user_id": 579148, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/u46H6.jpg?s=128&g=1", "display_name": "jwatts1980", "link": "https://stackoverflow.com/users/579148/jwatts1980"}, "edited": false, "score": 0, "creation_date": 1559162821, "post_id": 56368047, "comment_id": 99339419, "body": "It is mostly not: <a href=\"https://security.stackexchange.com/questions/94017/what-are-the-security-issues-with-eval-in-javascript\" title=\"what are the security issues with eval in javascript\">security.stackexchange.com/questions/94017/&hellip;</a>"}, {"owner": {"reputation": 1494, "user_id": 2804555, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005016456185/picture?type=large", "display_name": "Max Meijer", "link": "https://stackoverflow.com/users/2804555/max-meijer"}, "reply_to_user": {"reputation": 69, "user_id": 9951159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb7e8e5ad98c66bcd8bd9849b9ffda24?s=128&d=identicon&r=PG&f=1", "display_name": "AmineBouhaddi", "link": "https://stackoverflow.com/users/9951159/aminebouhaddi"}, "edited": false, "score": 0, "creation_date": 1559163385, "post_id": 56368047, "comment_id": 99339627, "body": "@AmineBouhaddi I explained the security problems of using eval further"}, {"owner": {"reputation": 69, "user_id": 9951159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb7e8e5ad98c66bcd8bd9849b9ffda24?s=128&d=identicon&r=PG&f=1", "display_name": "AmineBouhaddi", "link": "https://stackoverflow.com/users/9951159/aminebouhaddi"}, "edited": false, "score": 0, "creation_date": 1559163491, "post_id": 56368047, "comment_id": 99339666, "body": "@MaxMeijer thank you can you help me more to check my identifier"}, {"owner": {"reputation": 69, "user_id": 9951159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb7e8e5ad98c66bcd8bd9849b9ffda24?s=128&d=identicon&r=PG&f=1", "display_name": "AmineBouhaddi", "link": "https://stackoverflow.com/users/9951159/aminebouhaddi"}, "edited": false, "score": 0, "creation_date": 1559163917, "post_id": 56368047, "comment_id": 99339805, "body": "@MaxMeijer i thank you so much, i have just one more question please  how can i call the methodName if its exists"}, {"owner": {"reputation": 1494, "user_id": 2804555, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005016456185/picture?type=large", "display_name": "Max Meijer", "link": "https://stackoverflow.com/users/2804555/max-meijer"}, "reply_to_user": {"reputation": 69, "user_id": 9951159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb7e8e5ad98c66bcd8bd9849b9ffda24?s=128&d=identicon&r=PG&f=1", "display_name": "AmineBouhaddi", "link": "https://stackoverflow.com/users/9951159/aminebouhaddi"}, "edited": false, "score": 0, "creation_date": 1559164039, "post_id": 56368047, "comment_id": 99339844, "body": "@AmineBouhaddi I recommend that you ask the security thing in a new question if you need more help with that. You have the code <code>var proto = eval(data.className+&quot;.prototype&quot;);</code> and want to check that <code>data.className</code> is a valid javascript identifier to avoid XSS"}, {"owner": {"reputation": 1494, "user_id": 2804555, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005016456185/picture?type=large", "display_name": "Max Meijer", "link": "https://stackoverflow.com/users/2804555/max-meijer"}, "reply_to_user": {"reputation": 69, "user_id": 9951159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb7e8e5ad98c66bcd8bd9849b9ffda24?s=128&d=identicon&r=PG&f=1", "display_name": "AmineBouhaddi", "link": "https://stackoverflow.com/users/9951159/aminebouhaddi"}, "edited": false, "score": 0, "creation_date": 1559164130, "post_id": 56368047, "comment_id": 99339876, "body": "@AmineBouhaddi You can use <code>proto[data.methodName]()</code>"}, {"owner": {"reputation": 69, "user_id": 9951159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb7e8e5ad98c66bcd8bd9849b9ffda24?s=128&d=identicon&r=PG&f=1", "display_name": "AmineBouhaddi", "link": "https://stackoverflow.com/users/9951159/aminebouhaddi"}, "edited": false, "score": 0, "creation_date": 1559164481, "post_id": 56368047, "comment_id": 99339978, "body": "@MaxMeijer i thank you so much, i will create  a new function about the security"}, {"owner": {"reputation": 69, "user_id": 9951159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb7e8e5ad98c66bcd8bd9849b9ffda24?s=128&d=identicon&r=PG&f=1", "display_name": "AmineBouhaddi", "link": "https://stackoverflow.com/users/9951159/aminebouhaddi"}, "edited": false, "score": 0, "creation_date": 1559183374, "post_id": 56368047, "comment_id": 99344099, "body": "@MaxMeijer how can i create the object also please :)"}, {"owner": {"reputation": 69, "user_id": 9951159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb7e8e5ad98c66bcd8bd9849b9ffda24?s=128&d=identicon&r=PG&f=1", "display_name": "AmineBouhaddi", "link": "https://stackoverflow.com/users/9951159/aminebouhaddi"}, "edited": false, "score": 0, "creation_date": 1559183433, "post_id": 56368047, "comment_id": 99344107, "body": "@MaxMeijer  can you check my question her please ? <a href=\"https://stackoverflow.com/questions/56370348/how-can-i-call-a-function-inside-another-one-in-javascript?noredirect=1#comment99343159_56370348\" title=\"how can i call a function inside another one in javascript\">stackoverflow.com/questions/56370348/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1494, "user_id": 2804555, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005016456185/picture?type=large", "display_name": "Max Meijer", "link": "https://stackoverflow.com/users/2804555/max-meijer"}, "is_accepted": true, "score": 1, "last_activity_date": 1559163252, "last_edit_date": 1559163252, "creation_date": 1559161675, "answer_id": 56368047, "question_id": 56367888, "link": "https://stackoverflow.com/questions/56367888/how-can-i-know-if-my-class-has-a-property/56368047#56368047", "title": "How can i know if my class has a property", "body": "<p>The problem with your code is in this part: <code>data.className.prototype</code>. Since <code>data.className == \"Quote\"</code>, this is equivalent to <code>\"Quote\".prototype</code>, which will get the prototype of the <code>String</code> class and not of the <code>Quote</code> class. So you want to convert the string <code>\"Quote\"</code> to the class which happens to be named <code>Quote</code>. Accessing variables named by a string is possible in Javascript as can be found <a href=\"https://stackoverflow.com/a/1366135/2804555\">here</a>. Unfortunately, this does not work for classes and the only fix seems to be using <code>eval</code>. The resulting code would look like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var proto = eval(data.className+\".prototype\");\nif(proto.hasOwnProperty(data.methodName))\n    console.log(\"the property exists\")\n</code></pre>\n\n<p>You should be careful when using <code>eval</code> because it might cause security issues. <code>eval</code> executes any code that is in the string that is passed as an argument. If you know for sure that <code>data.className</code> is a valid identifier, then this is not an issue. If you do not, you should first check that <code>data.className</code> is a valid JavaScript identifier. For how to do this, you can look at the answers to <a href=\"https://stackoverflow.com/questions/2008279/validate-a-javascript-function-name\">this question</a>.</p>\n"}], "owner": {"reputation": 69, "user_id": 9951159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb7e8e5ad98c66bcd8bd9849b9ffda24?s=128&d=identicon&r=PG&f=1", "display_name": "AmineBouhaddi", "link": "https://stackoverflow.com/users/9951159/aminebouhaddi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 56368047, "answer_count": 1, "score": 0, "last_activity_date": 1559163252, "creation_date": 1559160914, "last_edit_date": 1559161765, "question_id": 56367888, "link": "https://stackoverflow.com/questions/56367888/how-can-i-know-if-my-class-has-a-property", "title": "How can i know if my class has a property", "body": "<p>Hello friends please how can i know if the className name contains a property \nsince i'm using <strong>Ajax</strong> and i receive my class name as <strong>data.className</strong></p>\n\n<p>This is my code : </p>\n\n<pre><code>$.post(action, object, function(data){\n\n    if(data.className.prototype.hasOwnProperty(data.methodName))\n        console.log(\"the property exists\")\n\n    return data;\n}, 'json');\n</code></pre>\n\n<p>My object : </p>\n\n<pre><code>{\"className\":\"Quote\", \"methodName\":\"deleteQuote\"}\n</code></pre>\n\n<p>This is my class Quote </p>\n\n<pre><code>class Quote{\n\n    deleteQuote(callback){\n        console.log(\"hello world\");\n    }\n}\n</code></pre>\n\n<p>Thank you</p>\n"}, {"tags": ["javascript", "cookies"], "comments": [{"owner": {"reputation": 214, "user_id": 4513365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vk6K4.jpg?s=128&g=1", "display_name": "Bard117", "link": "https://stackoverflow.com/users/4513365/bard117"}, "edited": false, "score": 1, "creation_date": 1559161105, "post_id": 56367871, "comment_id": 99338811, "body": "Take a look at <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/cookie\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/Document/cookie</a>, specifically the setting of the &quot;expires&quot; flag"}], "answers": [{"tags": [], "owner": {"reputation": 654, "user_id": 1489610, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/x8o6h.png?s=128&g=1", "display_name": "prolific", "link": "https://stackoverflow.com/users/1489610/prolific"}, "is_accepted": true, "score": 1, "last_activity_date": 1559161325, "creation_date": 1559161325, "answer_id": 56367964, "question_id": 56367871, "link": "https://stackoverflow.com/questions/56367871/adding-cookie-expiration-date/56367964#56367964", "title": "Adding cookie expiration date", "body": "<p>You can set the expiration date (in your case 1 day) of cookie along with its value while creating it.</p>\n\n<p>If you are creating cookies through javascript then you can use the below code:</p>\n\n<pre><code>function setCookie(name, value, exdays) {\n    var exdate = new Date();\n    exdate.setDate(exdate.getDate() + exdays);\n    var c_value = escape(value) + ((exdays == null) ? \"\" : \"; expires=\" + exdate.toUTCString()) + \";path=/\";\n    document.cookie = name + \"=\" + c_value;\n}\n\nsetCookie(\"first_visit\", true, 1);\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 1554014, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/48ebfb0cc960bc32411128853fb9b60d?s=128&d=identicon&r=PG", "display_name": "Jaap Veldhorst", "link": "https://stackoverflow.com/users/1554014/jaap-veldhorst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 56367964, "answer_count": 1, "score": 0, "last_activity_date": 1559161325, "creation_date": 1559160864, "question_id": 56367871, "link": "https://stackoverflow.com/questions/56367871/adding-cookie-expiration-date", "title": "Adding cookie expiration date", "body": "<p>I found this javascript cookie script on SOF and it does exactly what I want. Redirecting first time visitors to a different URL. I only want it to have an expiration date of 1 day. </p>\n\n<pre><code>if (getCookie(\"first_visit\") != \"true\") {\ndocument.cookie = \"first_visit=true\";\nlocation.href=\"http://pgklavertjevier.nl\";    \n}\n\nfunction getCookie(cname) {\nvar name = cname + \"=\";\n   var ca = document.cookie.split(';');\n      for(var i = 0; i &lt;ca.length; i++) {\n         var c = ca[i];\n         while (c.charAt(0)==' ') {\n            c = c.substring(1);\n         }\n         if (c.indexOf(name) == 0) {\n            return c.substring(name.length,c.length);\n         }\n     }\n    return \"\";\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "constructor", "state"], "comments": [{"owner": {"reputation": 13073, "user_id": 3858806, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/R0DRu.png?s=128&g=1", "display_name": "Junius L.", "link": "https://stackoverflow.com/users/3858806/junius-l"}, "edited": false, "score": 0, "creation_date": 1559162261, "post_id": 56367828, "comment_id": 99339229, "body": "what error do you get?"}, {"owner": {"reputation": 47, "user_id": 7455255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb4ebc34197ce3e56b8a09d76207630a?s=128&d=identicon&r=PG&f=1", "display_name": "Elijah.S", "link": "https://stackoverflow.com/users/7455255/elijah-s"}, "reply_to_user": {"reputation": 13073, "user_id": 3858806, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/R0DRu.png?s=128&g=1", "display_name": "Junius L.", "link": "https://stackoverflow.com/users/3858806/junius-l"}, "edited": false, "score": 0, "creation_date": 1559163451, "post_id": 56367828, "comment_id": 99339649, "body": "&quot;Cannot read property &#39;lastDayOfMonth&#39; of undefined&quot;. So it looks like the function storeLastDate doesn&#39;t finish before curLastDate() although I thought it would because of  vanilla js top to bottom parsing."}, {"owner": {"reputation": 13073, "user_id": 3858806, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/R0DRu.png?s=128&g=1", "display_name": "Junius L.", "link": "https://stackoverflow.com/users/3858806/junius-l"}, "edited": false, "score": 0, "creation_date": 1559163538, "post_id": 56367828, "comment_id": 99339679, "body": "did you try my suggestion below?"}], "answers": [{"tags": [], "owner": {"reputation": 436, "user_id": 10240109, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pRecwZJGPuU/AAAAAAAAAAI/AAAAAAAAADs/Herv8HVhiOo/photo.jpg?sz=128", "display_name": "narcello", "link": "https://stackoverflow.com/users/10240109/narcello"}, "is_accepted": false, "score": 0, "last_activity_date": 1559162406, "creation_date": 1559162406, "answer_id": 56368197, "question_id": 56367828, "link": "https://stackoverflow.com/questions/56367828/how-to-initialize-a-method-in-state-in-a-constructor-that-is-dependent-on-anothe/56368197#56368197", "title": "How to initialize a method in state in a constructor that is dependent on another methods value", "body": "<p>Try something like this:</p>\n\n<p>If you re-use your function <code>curLastDate</code>, just pass <code>lastDayOfMonth</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import React, {useState, useEffect} from \"react\";\n\nfunction Calendar() {\n    //curLastDate() is dependent on lastDayOfMonth()\n    const [lastDayOfMonth, setLastDayOfMonth] = useState();\n    const [currentLastDate, setCurrentLastDate] = useState();\n\n    useEffect(async () =&gt; {\n        const list = await storeLastDate();\n        setLastDayOfMonth(list);\n        const curLastDateRet = curLastDate(list);\n        setCurrentLastDate(curLastDateRet);\n    }, []);\n\n    const storeLastDate = () =&gt; {\n        return new Promise((resolve, reject) =&gt; {\n            let date,\n                string,\n                lastDate,\n                list = [];\n\n            date = new Date();\n\n            for (let i = 1; i &lt; 13; i++) {\n\n                lastDate = new Date(date.getFullYear(), i, 0);\n                string = lastDate.toDateString().split(\" \");\n                list.push(string);\n            }\n            resolve(list);\n        });\n    }\n\n    /*\n    Finds the matching month of current date\n    */\n    const curLastDate = lastDayOfMonth =&gt; {\n        for (let i = 0; i &lt; lastDayOfMonth.length; i++) {\n            if (this.state.currentDate[1] === lastDayOfMonth[i][1]) {\n                console.log(lastDayOfMonth[i][1]);\n                return lastDayOfMonth[i][1];\n            }\n        }\n    }\n\n    return (\n        &lt;&gt;&lt;/&gt;// some content here\n    )\n\n}\nexport default Calendar;\n\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13073, "user_id": 3858806, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/R0DRu.png?s=128&g=1", "display_name": "Junius L.", "link": "https://stackoverflow.com/users/3858806/junius-l"}, "edited": false, "score": 0, "creation_date": 1559162846, "post_id": 56368242, "comment_id": 99339426, "body": "<code>curLastDate</code> doesn&#39;t look good, I think it will fail, as it uses <code>currentLastDate</code> before it is even set."}, {"owner": {"reputation": 47, "user_id": 7455255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb4ebc34197ce3e56b8a09d76207630a?s=128&d=identicon&r=PG&f=1", "display_name": "Elijah.S", "link": "https://stackoverflow.com/users/7455255/elijah-s"}, "edited": false, "score": 0, "creation_date": 1559164716, "post_id": 56368242, "comment_id": 99340062, "body": "I tried it out but it doesn&#39;t seem to work. Is it possible to have a callback function if the function that&#39;s taking in the callback hasn&#39;t formerly declared any parameters?"}, {"owner": {"reputation": 13073, "user_id": 3858806, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/R0DRu.png?s=128&g=1", "display_name": "Junius L.", "link": "https://stackoverflow.com/users/3858806/junius-l"}, "reply_to_user": {"reputation": 47, "user_id": 7455255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb4ebc34197ce3e56b8a09d76207630a?s=128&d=identicon&r=PG&f=1", "display_name": "Elijah.S", "link": "https://stackoverflow.com/users/7455255/elijah-s"}, "edited": false, "score": 0, "creation_date": 1559164817, "post_id": 56368242, "comment_id": 99340091, "body": "yes, if the fucntion depends on state values, after the first function sets state data the callback function will be executed."}, {"owner": {"reputation": 47, "user_id": 7455255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb4ebc34197ce3e56b8a09d76207630a?s=128&d=identicon&r=PG&f=1", "display_name": "Elijah.S", "link": "https://stackoverflow.com/users/7455255/elijah-s"}, "edited": false, "score": 0, "creation_date": 1559165451, "post_id": 56368242, "comment_id": 99340271, "body": "Oh woops, so the first time I tried your method, I changed the state from currentLastDate: this.curLastDate() to currentLastDate: &quot;&quot;. But I reverted it back to currentLastDate: this.curLastDate() and then I get the same error."}, {"owner": {"reputation": 13073, "user_id": 3858806, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/R0DRu.png?s=128&g=1", "display_name": "Junius L.", "link": "https://stackoverflow.com/users/3858806/junius-l"}, "reply_to_user": {"reputation": 47, "user_id": 7455255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb4ebc34197ce3e56b8a09d76207630a?s=128&d=identicon&r=PG&f=1", "display_name": "Elijah.S", "link": "https://stackoverflow.com/users/7455255/elijah-s"}, "edited": false, "score": 0, "creation_date": 1559165525, "post_id": 56368242, "comment_id": 99340288, "body": "so <code>currentDate</code> should be initialized to the current date?"}, {"owner": {"reputation": 47, "user_id": 7455255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb4ebc34197ce3e56b8a09d76207630a?s=128&d=identicon&r=PG&f=1", "display_name": "Elijah.S", "link": "https://stackoverflow.com/users/7455255/elijah-s"}, "edited": false, "score": 0, "creation_date": 1559165834, "post_id": 56368242, "comment_id": 99340360, "body": "currentLastDate, but yeah, that&#39;s the goal. Doesn&#39;t this kind of thing occur a lot in react though? I just assumed there would be some standard solution."}, {"owner": {"reputation": 47, "user_id": 7455255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb4ebc34197ce3e56b8a09d76207630a?s=128&d=identicon&r=PG&f=1", "display_name": "Elijah.S", "link": "https://stackoverflow.com/users/7455255/elijah-s"}, "edited": false, "score": 0, "creation_date": 1559173581, "post_id": 56368242, "comment_id": 99342243, "body": "Awesome, thank you! You saved me! I just have one more question, do you think using callbacks in these types of situations is a common occurrence?"}], "tags": [], "owner": {"reputation": 13073, "user_id": 3858806, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/R0DRu.png?s=128&g=1", "display_name": "Junius L.", "link": "https://stackoverflow.com/users/3858806/junius-l"}, "is_accepted": true, "score": 1, "last_activity_date": 1559167505, "last_edit_date": 1559167505, "creation_date": 1559162663, "answer_id": 56368242, "question_id": 56367828, "link": "https://stackoverflow.com/questions/56367828/how-to-initialize-a-method-in-state-in-a-constructor-that-is-dependent-on-anothe/56368242#56368242", "title": "How to initialize a method in state in a constructor that is dependent on another methods value", "body": "<p>Set the values in componentDidMount and pass a callback to <code>.setState()</code>.</p>\n\n<pre><code>constructor() {\n  super();\n  this.state = {\n    lastDayOfMonth: [],\n    currentLastDate: [],\n    currentDate: new Date(),\n  };\n}\n\nstoreLastDate = () =&gt; {\n  let date,\n    string,\n    lastDate,\n    list = [];\n\n  date = new Date();\n\n  for (let i = 1; i &lt; 13; i++) {\n    lastDate = new Date(date.getFullYear(), i, 0);\n    string = lastDate.toDateString().split(' ');\n    list.push(string);\n  }\n\n  return list;\n}\n\n /*\n  Finds the matching month of current date\n*/\ncurLastDate = () =&gt; {\n  for (let i = 0; i &lt; this.state.lastDayOfMonth.length; i++) {\n    if (this.state.currentDate[1] === this.state.lastDayOfMonth[i][1]) {\n      console.log(this.state.lastDayOfMonth[i][1]);\n      return this.state.lastDayOfMonth[i][1];\n    }\n  }\n}\n\ncomponentDidMount = () =&gt; {\n\n  const lastDayOfMonth = this.storeLastDate();\n\n  this.setState({\n    lastDayOfMonth: lastDayOfMonth\n  }, () =&gt; {\n     this.setState({ currentLastDate: this.curLastDate() });\n   }) // curLastDate as callback, which will be executed after setting state\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 7455255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb4ebc34197ce3e56b8a09d76207630a?s=128&d=identicon&r=PG&f=1", "display_name": "Elijah.S", "link": "https://stackoverflow.com/users/7455255/elijah-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 56368242, "answer_count": 2, "score": 0, "last_activity_date": 1559167505, "creation_date": 1559160721, "question_id": 56367828, "link": "https://stackoverflow.com/questions/56367828/how-to-initialize-a-method-in-state-in-a-constructor-that-is-dependent-on-anothe", "title": "How to initialize a method in state in a constructor that is dependent on another methods value", "body": "<p>I'm trying to initialize three functions as state in the constructor in order to get the values from those functions and have those values available in state before the first render. However, one of the functions have a variable dependent on the value of a previous function and so I get an error. </p>\n\n<p>How would I fix this problem? Code is below! </p>\n\n<p>App.js file</p>\n\n<pre><code>import React from \"react\";\nimport Calendar from \"./Calendar\"\n\nfunction App() {\n    return (\n        &lt;div&gt;\n            &lt;Calendar /&gt;\n        &lt;/div&gt;    \n\n    )\n}\n\nexport default App;\n</code></pre>\n\n<p>Calendar.js file</p>\n\n<pre><code>import React from \"react\";\n\n\nclass Calendar extends React.Component {\n    constructor() {\n        super();\n\n    this.state = {\n        //curLastDate() is dependent on lastDayOfMonth()\n        lastDayOfMonth: this.storeLastDate(),\n        currentLastDate: this.curLastDate()\n    }\n}\n    /*\n    Stores the last date of all months of the current year\n    Format: [ [\"Thu\", \"Jan\", \"31\", \"2019]... ]\n    */\n    storeLastDate() {\n            let date, \n                string, \n                lastDate, \n                list = [];\n\n            date = new Date();\n\n            for (let i = 1; i &lt; 13; i++) {\n\n                lastDate = new Date(date.getFullYear(), i, 0);\n                string = lastDate.toDateString().split(\" \");\n                list.push(string);\n            }\n\n            return list;\n    }  \n\n/*\nFinds the matching month of current date\n*/\ncurLastDate() {\n\n    for (let i = 0; i &lt; this.state.lastDayOfMonth.length; i++) {\n        if (this.state.currentDate[1] === this.state.lastDayOfMonth[i][1]) {\n            console.log(this.state.lastDayOfMonth[i][1]);\n            return this.state.lastDayOfMonth[i][1];\n        }\n    }\n}\n\nrender() {\n    return (\n        null\n        )\n    }\n\n}\nexport default Calendar;\n</code></pre>\n\n<p>Ultimately, I want to initialize the values I get from the functions to the state before React has its first render. Thanks for the help in advance!</p>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1559160616, "post_id": 56367783, "comment_id": 99338623, "body": "Three nested loops would accomplish this."}, {"owner": {"reputation": 6941, "user_id": 579148, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/u46H6.jpg?s=128&g=1", "display_name": "jwatts1980", "link": "https://stackoverflow.com/users/579148/jwatts1980"}, "edited": false, "score": 0, "creation_date": 1559160697, "post_id": 56367783, "comment_id": 99338658, "body": "Does it need to work for an arbitrary number of starting arrays?"}, {"owner": {"reputation": 329, "user_id": 11568394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de257a2a6e2104089dae280214ea7a53?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Z", "link": "https://stackoverflow.com/users/11568394/anthony-z"}, "edited": false, "score": 0, "creation_date": 1559160784, "post_id": 56367783, "comment_id": 99338689, "body": "I found this gist that uses lodash that you may find useful. <a href=\"https://gist.github.com/wassname/a882ac3981c8e18d2556\" rel=\"nofollow noreferrer\">gist.github.com/wassname/a882ac3981c8e18d2556</a> Use the combination function with a spread of the 3 arrays <code>combinations([...a1, ...a2, ...a3], 3)</code>. Or the Cartesian product like the other person said."}, {"owner": {"reputation": 1376, "user_id": 735964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25cbf9f5a6202f3971847a25741cd256?s=128&d=identicon&r=PG", "display_name": "GaloisGirl", "link": "https://stackoverflow.com/users/735964/galoisgirl"}, "edited": false, "score": 0, "creation_date": 1559160876, "post_id": 56367783, "comment_id": 99338761, "body": "What you&#39;re looking for is called &quot;Cartesian product&quot;. There are solutions here: <a href=\"https://stackoverflow.com/questions/12303989/cartesian-product-of-multiple-arrays-in-javascript\" title=\"cartesian product of multiple arrays in javascript\">stackoverflow.com/questions/12303989/&hellip;</a>"}, {"owner": {"reputation": 1376, "user_id": 735964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25cbf9f5a6202f3971847a25741cd256?s=128&d=identicon&r=PG", "display_name": "GaloisGirl", "link": "https://stackoverflow.com/users/735964/galoisgirl"}, "reply_to_user": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 1, "creation_date": 1559164084, "post_id": 56367783, "comment_id": 99339859, "body": "@RobG the thread I linked has many answers, most of them not using any external libraries."}], "answers": [{"comments": [{"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 1, "creation_date": 1559394583, "post_id": 56367854, "comment_id": 99411270, "body": "The second one doesn&#39;t work. <code>...result</code> is actually spreading a string. Since this has strings with single character, it works. If you try with <code>[   &#39;aa&#39;, &#39;bb&#39; ]</code> you can see it"}, {"owner": {"reputation": 8719, "user_id": 6951428, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/92fd81a6020da8e77fc9125e0c9ec512?s=128&d=identicon&r=PG&f=1", "display_name": "junvar", "link": "https://stackoverflow.com/users/6951428/junvar"}, "reply_to_user": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1559412510, "post_id": 56367854, "comment_id": 99415655, "body": "good catch. fixed."}], "tags": [], "owner": {"reputation": 8719, "user_id": 6951428, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/92fd81a6020da8e77fc9125e0c9ec512?s=128&d=identicon&r=PG&f=1", "display_name": "junvar", "link": "https://stackoverflow.com/users/6951428/junvar"}, "is_accepted": false, "score": 3, "last_activity_date": 1559412491, "last_edit_date": 1559412491, "creation_date": 1559160792, "answer_id": 56367854, "question_id": 56367783, "link": "https://stackoverflow.com/questions/56367783/how-to-combine-multiple-arrays-in-javascript/56367854#56367854", "title": "How to combine multiple arrays in javascript?", "body": "<p>If you expect to always have the same number of arrays, I find this more readable though a bit redundant:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr1 = [\r\n  'a', 'b'\r\n];\r\nlet arr2 = [\r\n  'c', 'd'\r\n];\r\nlet arr3 = [\r\n  'e'\r\n];\r\n\r\nlet result = arr1.flatMap(one =&gt;\r\n    arr2.flatMap(two =&gt;\r\n        arr3.map(three =&gt; [one, two, three])));\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you're not always expecting 3 arrays or prefer a generic func to multiply an arbitrary number of arrays:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr1 = [\r\n  'a', 'b'\r\n];\r\nlet arr2 = [\r\n  'c', 'd'\r\n];\r\nlet arr3 = [\r\n  'e'\r\n];\r\n\r\nlet multiply = (...arrays) =&gt;\r\n    arrays.reduce((results, array) =&gt;\r\n        results.flatMap(result =&gt; array.map(a =&gt; [...result, a])), ['']);\r\n\r\nlet results = multiply(arr1, arr2, arr3);\r\nconsole.log(results);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "is_accepted": false, "score": 0, "last_activity_date": 1559162469, "creation_date": 1559162469, "answer_id": 56368207, "question_id": 56367783, "link": "https://stackoverflow.com/questions/56367783/how-to-combine-multiple-arrays-in-javascript/56368207#56368207", "title": "How to combine multiple arrays in javascript?", "body": "<p>As others have noted, this is called the Cartesian Product of your arrays.  I find it easier to build it by folding (<code>reducing</code>) over one that takes the product of two arrays.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const product = (xs, ys) =&gt; \r\n  xs .flatMap (x =&gt; ys .map (y =&gt; [x, y] .flat () ) )\r\n\r\nconst productAll = (...xss) =&gt; \r\n  xss .reduce (product)\r\n\r\nconsole .log (\r\n  productAll ( ['a', 'b'], ['c', 'd'], ['e'])\r\n)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If your environment doesn't <a href=\"https://caniuse.com/#feat=array-flat\" rel=\"nofollow noreferrer\">support <code>flat</code> and <code>flatmap</code></a>, they are pretty easy to shim.  </p>\n\n<p>If you want to supply the arrays inside one array <code>[['a', 'b'], ['c', 'd'], ['e']]</code> instead of separately, just replace <code>...xss</code> with <code>xss</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 4507, "user_id": 305949, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/38d369d1ad1a4ffba29c6ee1eae6a19f?s=128&d=identicon&r=PG", "display_name": "FK82", "link": "https://stackoverflow.com/users/305949/fk82"}, "is_accepted": false, "score": 0, "last_activity_date": 1559163866, "creation_date": 1559163866, "answer_id": 56368488, "question_id": 56367783, "link": "https://stackoverflow.com/questions/56367783/how-to-combine-multiple-arrays-in-javascript/56368488#56368488", "title": "How to combine multiple arrays in javascript?", "body": "<p>Multiple people have alread mentioned that your question is a duplicate of <a href=\"https://stackoverflow.com/questions/12303989/cartesian-product-of-multiple-arrays-in-javascript\">this question</a>. So, you might want to have a look there for a recommended solution.</p>\n\n<p>I just wanted to add another functional solution which can be arbitrarily combined. The <code>listProduct</code> function in this case has type <code>listProduct :: [[a]] -&gt; [a] -&gt; [[a]]</code> meaning it takes a (at least) 2-dimensional array as its first argument and returns one. That's why the <code>singletonize</code> function is required to convert the first array into a 2-dimensional array. </p>\n\n<p>As shown below you can easily combine calls to this function to get a product of n (n \u2265 2) list if you want.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const singletonize = l =&gt; l.map(x =&gt; [x])\r\nconst listProduct = (ls, list) =&gt; \r\n  ls.reduce((r, l) =&gt; {\r\n      combinations = list.map(x =&gt; l.concat(x))\r\n      return r.concat(combinations)\r\n  }, [])\r\n  \r\n// The three arrays of your example\r\nconst a_1 = ['a', 'b'];\r\nconst a_2 = ['c', 'd'];\r\nconst a_3 = ['e'];\r\nconsole.log(listProduct(listProduct(singletonize(a_1), a_2), a_3))\r\n\r\n// Another example with five arrays\r\nconst a_4 = ['f', 'g', 'h'];\r\nconst a_5 = ['i'];\r\n\r\nconsole.log(listProduct(listProduct(listProduct(listProduct(singletonize(a_1), a_2), a_3), a_4), a_5))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 2, "last_activity_date": 1559163873, "creation_date": 1559163873, "answer_id": 56368490, "question_id": 56367783, "link": "https://stackoverflow.com/questions/56367783/how-to-combine-multiple-arrays-in-javascript/56368490#56368490", "title": "How to combine multiple arrays in javascript?", "body": "<p>You could take a function for a cartesian product of the given arrays.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const cartesian = (...p) =&gt;\r\n        p.reduce((a, b) =&gt; a.reduce((r, v) =&gt; r.concat(b.map(w =&gt; [].concat(v, w))), []));\r\n\r\nvar a = ['a', 'b'],\r\n    b = ['c', 'd'],\r\n    c = ['e'];\r\n    result = cartesian(a, b, c);\r\n\r\nresult.forEach(a =&gt; console.log(...a));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 459, "user_id": 3979123, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ARNij.jpg?s=128&g=1", "display_name": "RezaT1994", "link": "https://stackoverflow.com/users/3979123/rezat1994"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "closed_date": 1559175775, "accepted_answer_id": 56368490, "answer_count": 4, "score": 1, "last_activity_date": 1559412491, "creation_date": 1559160440, "last_edit_date": 1559168549, "question_id": 56367783, "link": "https://stackoverflow.com/questions/56367783/how-to-combine-multiple-arrays-in-javascript", "closed_reason": "Duplicate", "title": "How to combine multiple arrays in javascript?", "body": "<p>I want to combine some multiple arrays into one array.</p>\n\n<p>I tried _.zip of <strong>lodash</strong> library, but that's not what I want.</p>\n\n<p>Here is the arrays:</p>\n\n<pre><code>var arr1 = [\n    'a', 'b'\n];\nvar arr2 = [\n    'c', 'd'\n];\nvar arr3 = [\n    'e'\n];\n</code></pre>\n\n<p>And I want this output:</p>\n\n<pre><code>var result = [\n    ['a', 'c', 'e'],\n    ['a', 'd', 'e'],\n    ['b', 'c', 'e'],\n    ['b', 'd', 'e']\n];\n</code></pre>\n"}, {"tags": ["javascript", "minimax", "alpha-beta-pruning"], "owner": {"reputation": 422, "user_id": 2177960, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/63f4a77319385ed9b392a1293f796c57?s=128&d=identicon&r=PG", "display_name": "ideonexus", "link": "https://stackoverflow.com/users/2177960/ideonexus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1559159600, "creation_date": 1559159600, "question_id": 56367619, "link": "https://stackoverflow.com/questions/56367619/minimax-algorithm-alpha-beta-pruning-not-working", "title": "Minimax Algorithm: Alpha-Beta Pruning Not Working", "body": "<p>I've been working on a web-based version of the board game Twist-Tac-Toe, a variation on Tic-Tac-Toe. The Minimax algorithm is working as expected, and it's very processing-intensive as expected. I've tried adding Alpha-Beta pruning to the code, but it appears to make the function evaluate a losing move as being equal to a tying move. So the computer makes some pretty dumb moves and I'm very stumped as to what the problem is with my code.</p>\n\n<p>The function may be too big to post here, but here is the app with the alpha-beta pruning commented out:</p>\n\n<p><a href=\"http://ideonexus.github.io/Explorable-Explanations/games/twisttactoe/\" rel=\"nofollow noreferrer\">http://ideonexus.github.io/Explorable-Explanations/games/twisttactoe/</a></p>\n\n<p>here is the app with the alpha-beta pruning in place:</p>\n\n<p><a href=\"http://ideonexus.github.io/Explorable-Explanations/games/twisttactoe-alphabeta/\" rel=\"nofollow noreferrer\">http://ideonexus.github.io/Explorable-Explanations/games/twisttactoe-alphabeta/</a></p>\n\n<p>The entire recursiveMinimax function is 205 lines long, but I can post it here if that would be helpful. Any additional information I can provide, please let me know.</p>\n"}, {"tags": ["javascript", "node.js", "regex"], "comments": [{"owner": {"reputation": 6413, "user_id": 5555803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4823cf23548ba1e4634ad67e78468e67?s=128&d=identicon&r=PG&f=1", "display_name": "Orkhan Alikhanov", "link": "https://stackoverflow.com/users/5555803/orkhan-alikhanov"}, "edited": false, "score": 0, "creation_date": 1559159784, "post_id": 56367606, "comment_id": 99338303, "body": "Do you use webpack or something of similar kind? Transpiling your code might raise this issue albeit very unlikely."}, {"owner": {"reputation": 34248, "user_id": 269970, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Breov.jpg?s=128&g=1", "display_name": "esqew", "link": "https://stackoverflow.com/users/269970/esqew"}, "edited": false, "score": 0, "creation_date": 1559159826, "post_id": 56367606, "comment_id": 99338321, "body": "Different environments can leverage different regex flavors... and there are <a href=\"https://en.wikipedia.org/wiki/Comparison_of_regular_expression_engines\" rel=\"nofollow noreferrer\">a lot of them</a>. You haven&#39;t provided information about your local environment, but if there is a discrepancy between the results I&#39;d assume your local environment doesn&#39;t match the production environment."}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 1, "creation_date": 1559159929, "post_id": 56367606, "comment_id": 99338353, "body": "Do any of the <code>words</code> contain metacharacters like <code>[]\\.</code> etc?"}, {"owner": {"reputation": 4828, "user_id": 8378419, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2772206b4d6afcbdfe7485286554190d?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Milejczak", "link": "https://stackoverflow.com/users/8378419/robbie-milejczak"}, "edited": false, "score": 0, "creation_date": 1559160124, "post_id": 56367606, "comment_id": 99338431, "body": "are both environments running the same version of node? store the result of the constructor and log it, is the generated expression the same on both your local and production environments?"}], "owner": {"reputation": 9, "user_id": 6436693, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eTOPnsudyWc/AAAAAAAAAAI/AAAAAAAAK4A/AGf5z80HX4Q/photo.jpg?sz=128", "display_name": "David Lee", "link": "https://stackoverflow.com/users/6436693/david-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1559159561, "creation_date": 1559159561, "question_id": 56367606, "link": "https://stackoverflow.com/questions/56367606/does-regexp-behave-differently-on-different-environments", "title": "Does RegExp behave differently on different environments?", "body": "<p>I've created a Restful API in node that checks for words within a sentence.  The code works while running locally.  Running from production results in unexpected results.</p>\n\n<p>The production environment consists of Windows Server 2016 w/ IIS 10 and IISNode.</p>\n\n<pre><code>function checkForWords(text) {\n  for (var i = 0; i &lt; words.length; i++) {\n    if (new RegExp(\"\\\\b\" + word[i] + \"\\\\b\", \"i\").test(text)) {\n      return true;\n    }\n  }\n  return false;\n}\n</code></pre>\n\n<p>On the local environment searching the word 'hell' in the text 'hello world' returns 'false' which is the correct behaviour.</p>\n\n<p>On the production environment searching the word 'hell' in the text 'hello world' returns 'true'.</p>\n"}, {"tags": ["javascript", "html", "css", "reactjs"], "comments": [{"owner": {"reputation": 675, "user_id": 1347215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d96ed746b10e87bd52a66a5ed33afb5c?s=128&d=identicon&r=PG", "display_name": "Omar", "link": "https://stackoverflow.com/users/1347215/omar"}, "edited": false, "score": 1, "creation_date": 1559159906, "post_id": 56367594, "comment_id": 99338343, "body": "Actually your approach it&#39;s ok. Basically, instead of just removing it you should add to that component the <code>fade-out</code> class."}, {"owner": {"reputation": 17405, "user_id": 3225108, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/JmhYB.jpg?s=128&g=1", "display_name": "azium", "link": "https://stackoverflow.com/users/3225108/azium"}, "edited": false, "score": 0, "creation_date": 1559160048, "post_id": 56367594, "comment_id": 99338398, "body": "also I don&#39;t think you need any boolean.. you can just set the classname state <code>className={this.state.visible}</code> or something"}, {"owner": {"reputation": 173187, "user_id": 128165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cdef5bd2099545a776ee86fb8049bdc6?s=128&d=identicon&r=PG", "display_name": "Gabriele Petrioli", "link": "https://stackoverflow.com/users/128165/gabriele-petrioli"}, "edited": false, "score": 0, "creation_date": 1559160221, "post_id": 56367594, "comment_id": 99338462, "body": "Show us the code you wrote with the problems. Not the code you are trying to match."}, {"owner": {"reputation": 173187, "user_id": 128165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cdef5bd2099545a776ee86fb8049bdc6?s=128&d=identicon&r=PG", "display_name": "Gabriele Petrioli", "link": "https://stackoverflow.com/users/128165/gabriele-petrioli"}, "edited": false, "score": 0, "creation_date": 1559162942, "post_id": 56367594, "comment_id": 99339456, "body": "Have a look at <a href=\"https://codesandbox.io/s/vigorous-raman-49px5\" rel=\"nofollow noreferrer\">codesandbox.io/s/vigorous-raman-49px5</a> (it accounts for multiple clicks, as the original does)"}], "answers": [{"tags": [], "owner": {"reputation": 4180, "user_id": 2649853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sO7Jq.png?s=128&g=1", "display_name": "Chirag Ravindra", "link": "https://stackoverflow.com/users/2649853/chirag-ravindra"}, "is_accepted": true, "score": 0, "last_activity_date": 1559162572, "last_edit_date": 1559162572, "creation_date": 1559162053, "answer_id": 56368125, "question_id": 56367594, "link": "https://stackoverflow.com/questions/56367594/how-to-render-a-self-destructing-paragraph-at-mouse-position-in-react/56368125#56368125", "title": "How to render a self-destructing paragraph at mouse position in React?", "body": "<p>You can basically do something like this:</p>\n\n<ol>\n<li>Have state to track the mouse position <code>x</code> and <code>y</code>, and two booleans <code>isShown</code> and <code>shouldHide</code> to coordinate the disappering div</li>\n<li>On click, show the div by setting <code>isShown</code> to <code>true</code> and immediately <code>setTimeout</code> to start hiding it in the future by adding a class by flipping the <code>shouldHide</code> to <code>true</code></li>\n<li>Once the class is added, the element will fade and will trigger the <code>transitionend</code> event at which point you can remove the div entirely by flipping the <code>isShown</code> to <code>false</code> and <code>shouldHide</code> to false boolean</li>\n</ol>\n\n<p>Sample Implementation (Sorry for the shitty code, been a while since I React-ed)</p>\n\n<p><a href=\"https://jsfiddle.net/p6qxr5g8/18/\" rel=\"nofollow noreferrer\">JS Fiddle</a></p>\n\n<hr>\n\n<pre><code>class SelfDestructDemo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      x: 0,\n      y: 0,\n      isShown: false,\n      shouldHide: false\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.reset = this.reset.bind(this);\n  }\n  reset() {\n    this.setState({\n      x: 0,\n      y: 0,\n      isShown: false,\n      shouldHide: false\n    });\n  }\n  handleClick(event) {\n    if (this.state.isShown) {\n      return;\n    }\n    const { clientX, clientY } = event;\n    this.setState({\n      x: clientX,\n      y: clientY,\n      isShown: true,\n      shouldHide: false\n    });\n\n    setTimeout(() =&gt; {\n      this.setState({ shouldHide: true });\n    }, 1000);\n  }\n  render() {\n    const p = this.state.isShown &amp;&amp; (\n      &lt;div\n        onTransitionEnd={this.reset}\n        className={`${this.state.shouldHide ? \"should-hide\" : \"\"} modal`}\n        style={{ top: this.state.y, left: this.state.x }}\n      &gt;\n        Self destructing....\n      &lt;/div&gt;\n    );\n\n    return (\n      &lt;div className=\"container\" onClick={this.handleClick}&gt;\n        {p}\n      &lt;/div&gt;\n    );\n  }\n}\n\nReactDOM.render(&lt;SelfDestructDemo /&gt;, document.querySelector(\"#app\"));\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11025456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e3f452e1266f6e507c795f9160cdb8c?s=128&d=identicon&r=PG&f=1", "display_name": "Vonathar", "link": "https://stackoverflow.com/users/11025456/vonathar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 280, "favorite_count": 0, "accepted_answer_id": 56368125, "answer_count": 1, "score": 1, "last_activity_date": 1559162572, "creation_date": 1559159511, "last_edit_date": 1559160774, "question_id": 56367594, "link": "https://stackoverflow.com/questions/56367594/how-to-render-a-self-destructing-paragraph-at-mouse-position-in-react", "title": "How to render a self-destructing paragraph at mouse position in React?", "body": "<p>I am trying to get a paragraph to appear at the location of the mouse coordinates, but self-destruct after 1 second.</p>\n\n<pre><code>$(function(){\nvar fadeDelay = 1000;\nvar fadeDuration = 1000;\n$(document).click(function(e){\n    var div = $('&lt;div class=\"image-wrapper\"&gt;')\n        .css({\n            \"left\": e.pageX + 'px',\n            \"top\": e.pageY + 'px'\n        })\n        .append($('&lt;img src=\"\" alt=\"myimage\" /&gt;'))\n        .appendTo(document.body);\n\n    setTimeout(function() {\n        div.addClass('fade-out');           \n        setTimeout(function() { div.remove(); }, fadeDuration);\n    }, fadeDelay);\n});\n});\n</code></pre>\n\n<p>The code above is from <a href=\"http://jsfiddle.net/ctKa4/286/\" rel=\"nofollow noreferrer\">a fiddle</a> which represents the effect that I am looking for; however, it uses jQuery - while I am working with React.</p>\n\n<p>I tried following this linear process:</p>\n\n<p>1 - In the state, toggle a boolean with mouse clicks</p>\n\n<pre><code>  playerAttack = () =&gt; {\n    this.setState({ hasPlayerAttacked: true })\n}\n</code></pre>\n\n<p>2 - In a function, when the boolean is true, return a paragraph and set the boolean back to false</p>\n\n<pre><code>renderDamageDealtParagraph = () =&gt; {\n  if (this.state.hasPlayerAttacked) {\n    return &lt;p&gt;{this.state.playerAttack}&lt;/p&gt;;\n    this.setState({ hasPlayerAttacked: false });\n  }\n};\n</code></pre>\n\n<p>However, with this approach there were too many fallacies; main one being that upon resetting the boolean back to false, the rendered paragraph immediately disappears (instead of after a timeout of 1000ms).</p>\n\n<p>What is the best wait to implement something like the linked fiddle, in ReactJS using vanilla JS?</p>\n\n<p>Thanks in advance to whoever might be able to help.</p>\n"}, {"tags": ["javascript", "php", "websocket", "server", "http-status-code-504"], "comments": [{"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1559160000, "post_id": 56367479, "comment_id": 99338382, "body": "Your connection is automatically being upgraded to use Secure Sockets - that is why the start up URL is <code>ws:&#47;&#47;j...</code> and the error is thrown from <code>wss:&#47;&#47;j</code>. You need to implement Secure Sockets."}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1559160220, "post_id": 56367479, "comment_id": 99338460, "body": "Reference: <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Protocol_upgrade_mechanism#Common_uses_for_this_mechanism\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/&hellip;</a>"}, {"owner": {"reputation": 59, "user_id": 11273736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-O2qh8Zjurl0/AAAAAAAAAAI/AAAAAAAAAGI/y9sy8GcQ__M/photo.jpg?sz=128", "display_name": "jhaubrich.com", "link": "https://stackoverflow.com/users/11273736/jhaubrich-com"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1559160925, "post_id": 56367479, "comment_id": 99338742, "body": "Okay, I changed the code to &#39;var websocket = new WebSocket(&quot;wss://jhaubrich.com:8090/new.projecthandle.io/Dem&zwnj;&#8203;o/include/projectCha&zwnj;&#8203;t/php-socket.php?use&zwnj;&#8203;rn     ame=&quot; + userName + &quot;&quot; );&#39;"}, {"owner": {"reputation": 59, "user_id": 11273736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-O2qh8Zjurl0/AAAAAAAAAAI/AAAAAAAAAGI/y9sy8GcQ__M/photo.jpg?sz=128", "display_name": "jhaubrich.com", "link": "https://stackoverflow.com/users/11273736/jhaubrich-com"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1559160967, "post_id": 56367479, "comment_id": 99338759, "body": "The issue now is that my browser is still caching the old ProjectManagement.js code for some reason... even though I have caching disabled when the dev tools are open..."}, {"owner": {"reputation": 59, "user_id": 11273736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-O2qh8Zjurl0/AAAAAAAAAAI/AAAAAAAAAGI/y9sy8GcQ__M/photo.jpg?sz=128", "display_name": "jhaubrich.com", "link": "https://stackoverflow.com/users/11273736/jhaubrich-com"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1559161833, "post_id": 56367479, "comment_id": 99339080, "body": "When trying in Microsoft Edge I get &quot;SCRIPT12029: SCRIPT12029: WebSocket Error: Network Error 12029, A connection with the server could not be established&quot;"}, {"owner": {"reputation": 59, "user_id": 11273736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-O2qh8Zjurl0/AAAAAAAAAAI/AAAAAAAAAGI/y9sy8GcQ__M/photo.jpg?sz=128", "display_name": "jhaubrich.com", "link": "https://stackoverflow.com/users/11273736/jhaubrich-com"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1559164370, "post_id": 56367479, "comment_id": 99339942, "body": "I wonder if the issue might be due to the fact that I am trying to use port 8090 and GoDaddy doesn&#39;t allow custom ports. Is this something that I should contact GoDaddy support about? Doesn&#39;t seem like an issue with my code...."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 3865980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5eab8a6be62f189f5cc2481df6233a9?s=128&d=identicon&r=PG&f=1", "display_name": "Rogerio Brito Soares", "link": "https://stackoverflow.com/users/3865980/rogerio-brito-soares"}, "edited": false, "score": 0, "creation_date": 1597841932, "post_id": 56385660, "comment_id": 112264614, "body": "Maybe that&#39;s not the problem. See, I&#39;m using VPS and I&#39;m facing the same problem as you are. Have a look at that:<a href=\"https://stackoverflow.com/questions/63473220/error-during-websocket-handshake-unexpected-response-code-504-nginx-and-webs\" title=\"error during websocket handshake unexpected response code 504 nginx and webs\">stackoverflow.com/questions/63473220/&hellip;</a> and maybe we can help each other somehow."}, {"owner": {"reputation": 59, "user_id": 11273736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-O2qh8Zjurl0/AAAAAAAAAAI/AAAAAAAAAGI/y9sy8GcQ__M/photo.jpg?sz=128", "display_name": "jhaubrich.com", "link": "https://stackoverflow.com/users/11273736/jhaubrich-com"}, "reply_to_user": {"reputation": 53, "user_id": 3865980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5eab8a6be62f189f5cc2481df6233a9?s=128&d=identicon&r=PG&f=1", "display_name": "Rogerio Brito Soares", "link": "https://stackoverflow.com/users/3865980/rogerio-brito-soares"}, "edited": false, "score": 0, "creation_date": 1598045969, "post_id": 56385660, "comment_id": 112341023, "body": "Yes Rogerio Brito Soares, it looks like we are doing the exact same thing facing the same issue. Please let me know if you find a solution, and likewise I will let you know if I find one :)"}, {"owner": {"reputation": 53, "user_id": 3865980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5eab8a6be62f189f5cc2481df6233a9?s=128&d=identicon&r=PG&f=1", "display_name": "Rogerio Brito Soares", "link": "https://stackoverflow.com/users/3865980/rogerio-brito-soares"}, "edited": false, "score": 0, "creation_date": 1598046103, "post_id": 56385660, "comment_id": 112341062, "body": "I believe that you should go to my repo and test it, too. Maybe we can find something together so..."}, {"owner": {"reputation": 59, "user_id": 11273736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-O2qh8Zjurl0/AAAAAAAAAAI/AAAAAAAAAGI/y9sy8GcQ__M/photo.jpg?sz=128", "display_name": "jhaubrich.com", "link": "https://stackoverflow.com/users/11273736/jhaubrich-com"}, "reply_to_user": {"reputation": 53, "user_id": 3865980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5eab8a6be62f189f5cc2481df6233a9?s=128&d=identicon&r=PG&f=1", "display_name": "Rogerio Brito Soares", "link": "https://stackoverflow.com/users/3865980/rogerio-brito-soares"}, "edited": false, "score": 0, "creation_date": 1598328558, "post_id": 56385660, "comment_id": 112415224, "body": "I got mine working! I am using nginx to proxy the connection. I was missing the ssl directives in my nginx virtual host configuration, but once I added those I got my secure websocket to work."}, {"owner": {"reputation": 53, "user_id": 3865980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5eab8a6be62f189f5cc2481df6233a9?s=128&d=identicon&r=PG&f=1", "display_name": "Rogerio Brito Soares", "link": "https://stackoverflow.com/users/3865980/rogerio-brito-soares"}, "edited": false, "score": 0, "creation_date": 1598361616, "post_id": 56385660, "comment_id": 112429316, "body": "Amazing! That&#39;s great! Can you show me how you did it? Please have a little look at my question here <a href=\"https://stackoverflow.com/questions/63473220/error-during-websocket-handshake-unexpected-response-code-504-nginx-and-webs?noredirect=1#comment112381061_63473220\" title=\"error during websocket handshake unexpected response code 504 nginx and webs\">stackoverflow.com/questions/63473220/&hellip;</a> . I think it must be something related to proxy_ssl_certificate. Is that so? How did you do?"}, {"owner": {"reputation": 59, "user_id": 11273736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-O2qh8Zjurl0/AAAAAAAAAAI/AAAAAAAAAGI/y9sy8GcQ__M/photo.jpg?sz=128", "display_name": "jhaubrich.com", "link": "https://stackoverflow.com/users/11273736/jhaubrich-com"}, "reply_to_user": {"reputation": 53, "user_id": 3865980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5eab8a6be62f189f5cc2481df6233a9?s=128&d=identicon&r=PG&f=1", "display_name": "Rogerio Brito Soares", "link": "https://stackoverflow.com/users/3865980/rogerio-brito-soares"}, "edited": false, "score": 0, "creation_date": 1599755347, "post_id": 56385660, "comment_id": 112879274, "body": "Sorry for the late reply, have you got it working yet?"}, {"owner": {"reputation": 53, "user_id": 3865980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5eab8a6be62f189f5cc2481df6233a9?s=128&d=identicon&r=PG&f=1", "display_name": "Rogerio Brito Soares", "link": "https://stackoverflow.com/users/3865980/rogerio-brito-soares"}, "edited": false, "score": 0, "creation_date": 1599770288, "post_id": 56385660, "comment_id": 112885473, "body": "No, not yet. Unfortunately."}], "tags": [], "owner": {"reputation": 59, "user_id": 11273736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-O2qh8Zjurl0/AAAAAAAAAAI/AAAAAAAAAGI/y9sy8GcQ__M/photo.jpg?sz=128", "display_name": "jhaubrich.com", "link": "https://stackoverflow.com/users/11273736/jhaubrich-com"}, "is_accepted": false, "score": 1, "last_activity_date": 1559250474, "creation_date": 1559250474, "answer_id": 56385660, "question_id": 56367479, "link": "https://stackoverflow.com/questions/56367479/websocket-error-during-websocket-handshake-unexpected-response-code-504/56385660#56385660", "title": "Websocket : Error during WebSocket handshake: Unexpected response code: 504", "body": "<p>I came to the realization that I am use a shared hosting environment. I need to purchase a Virtual Private Server where I will have root privileges. Then I will be able to use WebSockets...</p>\n"}], "owner": {"reputation": 59, "user_id": 11273736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-O2qh8Zjurl0/AAAAAAAAAAI/AAAAAAAAAGI/y9sy8GcQ__M/photo.jpg?sz=128", "display_name": "jhaubrich.com", "link": "https://stackoverflow.com/users/11273736/jhaubrich-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4594, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1559250474, "creation_date": 1559158995, "question_id": 56367479, "link": "https://stackoverflow.com/questions/56367479/websocket-error-during-websocket-handshake-unexpected-response-code-504", "title": "Websocket : Error during WebSocket handshake: Unexpected response code: 504", "body": "<p>I have been developing a live chat that uses a websocket connection. It works fine on my localhost and on http servers. However, I am trying to get it working on a secure GoDaddy server with Deluxe Linux Hosting. \nWhile the client is trying to open a websocket connection from javascript, it eventually responds with \"WebSocket connection to 'wss://jhaubrich.com/new.projecthandle.io/Demo/include/projectChat/php-socket.php?username=Justin' failed: Error during WebSocket handshake: Unexpected response code: 504\"</p>\n\n<p>A 504 Gateway Timeout Error indicates an issue with the gateway or proxy server.</p>\n\n<p>If I try to open the connection again without killing the PID for the lsphp, the error written to error_log by the php-socket.php file reads \"PHP Warning:  socket_bind(): unable to bind address [98]: Address already in use in /home/fq2cvob2t06k/public_html/new.projecthandle.io/Demo/include/projectChat/php-socket.php on line 12\"</p>\n\n<p>For the socket_bind() in php-socket.php I am using port 8090.</p>\n\n<p>I have tried changing ports. I have tried adding 'websocket' to the end of the url in the websocket js.</p>\n\n<p>//my js to initiate the websocket\n    var websocket = new WebSocket(\"ws://jhaubrich.com/new.projecthandle.io/Demo/include/projectChat/php-socket.php?username=\" + userName + \"\" );</p>\n\n<p>I expected a websocket connection to be made. \nInstead I get this error : \"WebSocket connection to 'wss://jhaubrich.com/new.projecthandle.io/Demo/include/projectChat/php-socket.php?username=Justin' failed: Error during WebSocket handshake: Unexpected response code: 504\"</p>\n"}, {"tags": ["javascript", "reactjs", "jestjs", "enzyme"], "comments": [{"owner": {"reputation": 6198, "user_id": 2020002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t9iFY.jpg?s=128&g=1", "display_name": "Derek Pollard", "link": "https://stackoverflow.com/users/2020002/derek-pollard"}, "edited": false, "score": 0, "creation_date": 1559159051, "post_id": 56367470, "comment_id": 99338013, "body": "are you trying to lazy load components? if so, this is pretty informational: <a href=\"https://blog.logrocket.com/lazy-loading-components-in-react-16-6-6cea535c0b52\" rel=\"nofollow noreferrer\">blog.logrocket.com/&hellip;</a>"}, {"owner": {"reputation": 6568, "user_id": 1795924, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/tC8HY.jpg?s=128&g=1", "display_name": "Ericson Willians", "link": "https://stackoverflow.com/users/1795924/ericson-willians"}, "reply_to_user": {"reputation": 6198, "user_id": 2020002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t9iFY.jpg?s=128&g=1", "display_name": "Derek Pollard", "link": "https://stackoverflow.com/users/2020002/derek-pollard"}, "edited": false, "score": 0, "creation_date": 1559159243, "post_id": 56367470, "comment_id": 99338098, "body": "The Paginator component only gets rendered when gridApi exists. The problem is that Enzyme tests only on the first mount / render, <i>when</i> the component is not there. I don&#39;t know how to deal with async testing with Enzime/Jest."}], "answers": [{"comments": [{"owner": {"reputation": 6568, "user_id": 1795924, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/tC8HY.jpg?s=128&g=1", "display_name": "Ericson Willians", "link": "https://stackoverflow.com/users/1795924/ericson-willians"}, "edited": false, "score": 0, "creation_date": 1559160624, "post_id": 56367729, "comment_id": 99338626, "body": "But then I&#39;d be faking the test, wouldn&#39;t I?"}], "tags": [], "owner": {"reputation": 11, "user_id": 4690758, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XpzMe8qsQNw/AAAAAAAAAAI/AAAAAAAAABM/yqI5IX3wrBA/photo.jpg?sz=128", "display_name": "shawwwnL", "link": "https://stackoverflow.com/users/4690758/shawwwnl"}, "is_accepted": false, "score": 0, "last_activity_date": 1559160172, "creation_date": 1559160172, "answer_id": 56367729, "question_id": 56367470, "link": "https://stackoverflow.com/questions/56367470/how-to-find-a-component-that-is-not-there-on-mount/56367729#56367729", "title": "How to find a component that is not there on mount?", "body": "<p>you should be able to <code>setState</code> of a mounted/shallowed component like this:</p>\n\n<pre><code>it('should render pagination if gridApi exists', () =&gt; {\n    const relatorioVendas = shallow(&lt; RelatorioVendas /&gt;);\n    relatorioVendas.setState({ gridApi: {} });\n    expect(relatorioVendas.find(Paginator)).toHaveLength(1);\n});\n</code></pre>\n"}], "owner": {"reputation": 6568, "user_id": 1795924, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/tC8HY.jpg?s=128&g=1", "display_name": "Ericson Willians", "link": "https://stackoverflow.com/users/1795924/ericson-willians"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1559160172, "creation_date": 1559158977, "question_id": 56367470, "link": "https://stackoverflow.com/questions/56367470/how-to-find-a-component-that-is-not-there-on-mount", "title": "How to find a component that is not there on mount?", "body": "<p>I have this component called \"Paginator\", but it's not available on mount:</p>\n\n<pre><code>&lt;Col xs='4'&gt;\n    {\n        (() =&gt; {\n            if (this.state.gridApi) {\n                return &lt;Paginator pages={this.state.gridApi.paginationGetTotalPages()} gridApi={this.state.gridApi} /&gt;\n            }\n            return &lt;&gt;&lt;/&gt;\n        })()\n    }\n&lt;/Col&gt;\n</code></pre>\n\n<p>How can I test it if its not there on mount?</p>\n\n<pre><code>import React from 'react';\nimport RelatorioVendas from './RelatorioVendas';\nimport { configure, mount } from 'enzyme';\nimport Adapter from 'enzyme-adapter-react-16';\nimport { AgGridReact } from 'ag-grid-react/lib/agGridReact';\nimport Paginator from '../../components/General/Paginator';\n\nimport { Provider } from 'react-redux';\nimport { SnackbarProvider } from 'notistack';\nimport store from '../../store';\n\nconfigure({ adapter: new Adapter() });\n\ntest('renders the \"RelatorioVendas\" component.', () =&gt; {\n    const wrapper = mount(\n        &lt;Provider store={store}&gt;\n            &lt;SnackbarProvider&gt;\n                &lt;RelatorioVendas /&gt;\n            &lt;/SnackbarProvider&gt;\n        &lt;/Provider&gt;\n    );\n    expect(wrapper.find(Paginator)).toHaveLength(1);\n});\n</code></pre>\n\n<p>How can I \"wait\" for the state to change and finally render the component?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 4696, "user_id": 107683, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5f8d2625702d8a51f0d442d9cfc1a3aa?s=128&d=identicon&r=PG", "display_name": "Richard Collette", "link": "https://stackoverflow.com/users/107683/richard-collette"}, "edited": false, "score": 1, "creation_date": 1584997704, "post_id": 56367457, "comment_id": 107609423, "body": "This question is substantially different from the proposed duplicate.   The proposed duplicate asks how to change the file name in the pdf source while this question asks how to change the file name as part of the client JavaScript."}], "owner": {"reputation": 865, "user_id": 212570, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/63253ef341c95678b0d7a85214921b68?s=128&d=identicon&r=PG", "display_name": "ken.dunnington", "link": "https://stackoverflow.com/users/212570/ken-dunnington"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1031, "favorite_count": 0, "closed_date": 1559159037, "answer_count": 0, "score": 1, "last_activity_date": 1559160299, "creation_date": 1559158894, "last_edit_date": 1559160299, "question_id": 56367457, "link": "https://stackoverflow.com/questions/56367457/set-filename-title-for-a-blob-url-opened-in-a-new-window", "closed_reason": "Duplicate", "title": "Set filename/title for a blob URL opened in a new window", "body": "<p>I'm downloading a dynamically generated PDF from a 3rd party API and displaying it to the end user. This works great, using <code>URL.createObjectURL()</code>, with the sole exception that I can't set the title of the file (or window) when presenting it in a new window. <a href=\"https://stackoverflow.com/questions/19327749/javascript-blob-filename-without-link\">This</a> question from 2013 has essentially the same problem, but no solutions to this particular issue. I've tried editing <code>newWindow.document.title</code> both before and after assigning the object URL as the new location with no luck. My guess is that this is simply impossible, but I thought I'd ask anyway.</p>\n\n<p><strong>Note</strong>: I have no control over the PDF or the API generating it. I also don't have the option of inserting a local server between this app and the API, which would be my preferred solution (so I could call the API and set the <code>Content-Disposition</code> headers). I'm setting the <code>location</code> of a new window with a URL that looks like <code>blob:http://localhost:3000/1e1e526d-ff4d-4797-9e5d-b4327813a747</code>. Saving this file yields a dialog box with a pre-filled filename like <code>1e1e526d-ff4d-4797-9e5d-b4327813a747</code>. The question is whether it's possible to change that filename.</p>\n\n<p>Here's the code used to fetch the file and display it in a new window, for reference (this is an Angular app):</p>\n\n<pre><code>let isMSIEorEdge = window.navigator &amp;&amp; window.navigator.msSaveOrOpenBlob;\n\n// Create the URL\nlet url = &lt;API_URL&gt;;\n// Create the JSON data to send\nlet data = {\n  ... API-specific data ...\n};\n// Set up basic headers\nlet headers = new Headers();\nheaders.append('Content-Type', 'application/json');\n\n// For non-MS browsers, open a new window to show the document in\n// This must be done here because it's still part of the user-initiated\n// action (mouse click)\nlet newWin;\nif (!isMSIEorEdge) {\n  newWin = window.open('', 'pdfWindow');\n}\n\n// Call the method and subscribe to the result\nthis.http\n  .post(url, data, {\n    headers,\n    responseType: ResponseContentType.Blob\n  })\n  .subscribe(\n    res =&gt; {\n      // Get the filename from the response headers\n      let filename = res.headers\n        .get('content-disposition')\n        .match(/filename=(.*)$/)[1];\n      // Create a File object from the data\n      let file = new File([res.blob()], filename, {\n        type: 'application/pdf'\n      });\n\n      // For IE/Edge, trigger Save/Open dialog\n      if (isMSIEorEdge) {\n        window.navigator.msSaveOrOpenBlob(file, filename);\n        return false;\n      }\n\n      // For all other browsers, open in new window\n      let href = window.URL.createObjectURL(file);\n      newWin.location.assign(href);\n      newWin.name = newWin.document.title = filename;\n\n      // Clear the object URL to avoid memory leaks\n      setTimeout(() =&gt; {\n        window.URL.revokeObjectURL(href);\n      }, 100);\n    },\n    err =&gt; {\n      // Handle any HTTP errors\n      console.log(err);\n      throw err;\n    }\n  );\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "intersection-observer"], "comments": [{"owner": {"reputation": 99, "user_id": 7332370, "user_type": "registered", "profile_image": "https://graph.facebook.com/1193283644083231/picture?type=large", "display_name": "Verquido", "link": "https://stackoverflow.com/users/7332370/verquido"}, "edited": false, "score": 0, "creation_date": 1559159599, "post_id": 56367425, "comment_id": 99338233, "body": "This might be the solution you are looking for. <a href=\"https://stackoverflow.com/questions/45090875/ms-edge-intersectionobserver-does-it-work-for-you\">MS Edge: IntersectionObserver. Does it work for you?</a>"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1559159734, "post_id": 56367425, "comment_id": 99338286, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/45090875/ms-edge-intersectionobserver-does-it-work-for-you\">MS Edge: IntersectionObserver. Does it work for you?</a>"}, {"owner": {"reputation": 115, "user_id": 5991985, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/409482772569737/picture?type=large", "display_name": "\u041c\u0430\u0440\u0438\u044f", "link": "https://stackoverflow.com/users/5991985/%d0%9c%d0%b0%d1%80%d0%b8%d1%8f"}, "edited": false, "score": 0, "creation_date": 1559168380, "post_id": 56367425, "comment_id": 99341071, "body": "I&#39;ve tried that - it didn&#39;t work =("}], "owner": {"reputation": 115, "user_id": 5991985, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/409482772569737/picture?type=large", "display_name": "\u041c\u0430\u0440\u0438\u044f", "link": "https://stackoverflow.com/users/5991985/%d0%9c%d0%b0%d1%80%d0%b8%d1%8f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 350, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1559168456, "creation_date": 1559158744, "last_edit_date": 1559168456, "question_id": 56367425, "link": "https://stackoverflow.com/questions/56367425/intersection-observer-doesnt-work-in-edge", "title": "intersection Observer doesn&#39;t work in Edge", "body": "<p>I have a problem, where I need to fetch data when user scrolls to the bottom of the page. To solve this problem I use <code>intersection Observer</code>. And it works in Chrome, Firefox, Opera and Safari, but it doesn't work in Edge for a reason that I don't understand (and there is no error as well). </p>\n\n<p>Here is what it is supposed to be </p>\n\n<p><a href=\"https://i.stack.imgur.com/DnGOB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DnGOB.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>And here is Edge (no <code>Loading...</code>)</p>\n\n<p><a href=\"https://i.stack.imgur.com/ptXw7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ptXw7.png\" alt=\"enter image description here\"></a></p>\n\n<ul>\n<li><p>I put console.log inside <code>handleObserver</code> function (inside <code>if (this.state.prevY &gt; y) {}</code> statement) --> in Edge it didn't trigger</p></li>\n<li><p>And I've tried to reference the target by id instead of <code>this.loadingRef</code> - the result was the same.</p></li>\n</ul>\n\n<p>Here is my react component:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>/**\n * App main react component\n */\nexport default class Main extends Component {\n  state = {\n    cards: [],\n    isFetching: false,\n    page: 1,\n    prevY: 0,\n    sortValue: 'name',\n    searchValue: '',\n    prevSearchValue: '',\n    numberLoaded: null,\n  };\n\n  /**\n   * Initial data fetch\n   */\n  componentDidMount() {\n    this.getCards(this.state.page);\n\n    // Options\n    const options = {\n      root: null, // Page as root\n      rootMargin: '0px',\n      threshold: 1.0,\n    };\n    // Create an observer\n    this.observer = new IntersectionObserver(\n        this.handleObserver.bind(this), // callback\n        options\n    );\n    // Observe the `loadingRef`\n    this.observer.observe(this.loadingRef);\n  }\n\n  /**\n   * Callback for Intersection Observer\n   */\n  handleObserver(entities, observer) {\n    const y = entities[0].boundingClientRect.y;\n    if (this.state.prevY &gt; y) {\n      const curPage = this.state.page + 1;\n      this.getCards(curPage, this.state.sortValue, this.state.searchValue);\n      this.setState({page: curPage});\n    }\n    this.setState({prevY: y});\n  }\n\n  /**\n   * Data fetch\n   */\n  getCards(page, sortValue = 'name', searchValue = '') {\n   //... code\n  }\n\n  /**\n   * Renders component\n   */\n  render() {\n    const loadingCSS = {\n      height: '10px',\n      marginTop: '0',\n      width: '1px',\n    };\n    const {cards, isFetching, numberLoaded} = this.state;\n    return (\n      &lt;main className=\"l-main\"&gt;\n        &lt;h1 className=\"t1\"&gt;\n          MTG Creatures{numberLoaded &amp;&amp; ` (${numberLoaded} loaded)`}\n        &lt;/h1&gt;\n        {!isFetching &amp;&amp; cards.length === 0 &amp;&amp; (\n          &lt;p className=\"t0\"&gt;No cards have been found&lt;/p&gt;\n        )}\n\n        {/* code */}\n\n        {cards.length !== 0 &amp;&amp; &lt;Cards cards={cards} /&gt;}\n        &lt;div\n          ref={(loadingRef) =&gt; (this.loadingRef = loadingRef)}\n          style={loadingCSS}\n        &gt;\n          {isFetching &amp;&amp; &lt;Loader /&gt;}\n        &lt;/div&gt;\n      &lt;/main&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>Per suggestion in MS Edge: IntersectionObserver. Does it work for you? I've tried to add min-width, min-height and a border --> it didn't work for me</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 913, "user_id": 5875610, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/3aKbQ.jpg?s=128&g=1", "display_name": "Kevin Hernandez", "link": "https://stackoverflow.com/users/5875610/kevin-hernandez"}, "edited": false, "score": 0, "creation_date": 1559158630, "post_id": 56367362, "comment_id": 99337822, "body": "Use <code>preventDefault()</code> to prevent the form from clearing, it will also prevent it from submitting."}], "answers": [{"tags": [], "owner": {"reputation": 106594, "user_id": 575527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a1120319639f8c7ea84d66d4334bdfa9?s=128&d=identicon&r=PG", "display_name": "Joseph", "link": "https://stackoverflow.com/users/575527/joseph"}, "is_accepted": true, "score": 2, "last_activity_date": 1559158688, "creation_date": 1559158688, "answer_id": 56367409, "question_id": 56367362, "link": "https://stackoverflow.com/questions/56367362/question-about-form-onsubmit-function/56367409#56367409", "title": "Question about &lt;form onsubmit &quot;function() &quot;&gt;", "body": "<p>You just need to prevent that submit from happening so that your JavaScript can run, by calling <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Event/preventDefault\" rel=\"nofollow noreferrer\"><code>event.preventDefault()</code></a>. Also, try using <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\" rel=\"nofollow noreferrer\"><code>element.addEventListener()</code></a> instead of inline event properties.</p>\n\n<pre><code>// Assuming a form that looks like\n&lt;form id=\"myform\"&gt;\n\n// Do\n\nconst form = document.getElementById('form')\n\nform.addEventListener('submit', event =&gt; {\n  // prevent the form from submitting\n  event.preventDefault()\n\n  // The rest of your form code here\n})\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 11540334, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157157420543618/picture?type=large", "display_name": "1.Stijn", "link": "https://stackoverflow.com/users/11540334/1-stijn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 56367409, "answer_count": 1, "score": 1, "last_activity_date": 1559159090, "creation_date": 1559158445, "last_edit_date": 1559159090, "question_id": 56367362, "link": "https://stackoverflow.com/questions/56367362/question-about-form-onsubmit-function", "title": "Question about &lt;form onsubmit &quot;function() &quot;&gt;", "body": "<p>i have wrote a function to activate onsubmit\"\" in the form.\nIn the function(JavaScript) i try to fill variables with input from the fieldset.\nOn troubleshooting i immediately found out that all the input gets cleared before i can save them into the variables. \nI know that this is not how forms are used but i do like how it points out the fields that still needs to be filled.\nso is there a way or someone how figured out a way to outsmart the submit to do something(function) before the refresh? or is there absolutely no way?</p>\n\n<pre><code>function objectfill() {\nvar vnaam = document.getElementById('Voornaam').value;\nvar anaam = document.getElementById('naam').value;\nvar mail = document.getElementById('email').value;\nvar tele = document.getElementById('mobiel').value;\nvar rknr = document.getElementById('rijksregister').value;\nvar actie = document.getElementById('workshop').value\nvar k = document.getElementsByName('Room');\nvar room\nfor (var i = 0; i &lt; k.length; i++) {\n    if (k[i].checked) {\n        room = k[i].value;\n    }\n}\n\nvar personeel = new personeelgegevens(pnr, vnaam, anaam, mail, tele, rknr, \nactie, room);\nconsole.log(personeel)\n</code></pre>\n\n<p>This was the function i used onsubmit=\"objectfill()\"\nI wanted to fill the object but obviously not working.</p>\n"}, {"tags": ["javascript", "reactjs", "setstate"], "comments": [{"owner": {"reputation": 4820, "user_id": 1309377, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/bYVAD.jpg?s=128&g=1", "display_name": "Andrew Lohr", "link": "https://stackoverflow.com/users/1309377/andrew-lohr"}, "edited": false, "score": 1, "creation_date": 1559158600, "post_id": 56367308, "comment_id": 99337811, "body": "fetch is asynchronous, your <code>console.log</code> statement is being called before fetch is even returned. Put the <code>console.log</code> inside the <code>.then</code>. But be careful setState is also asynchronous! add a callback in setState and then put your console.log inside that"}, {"owner": {"reputation": 4820, "user_id": 1309377, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/bYVAD.jpg?s=128&g=1", "display_name": "Andrew Lohr", "link": "https://stackoverflow.com/users/1309377/andrew-lohr"}, "edited": false, "score": 0, "creation_date": 1559160282, "post_id": 56367308, "comment_id": 99338489, "body": "Your first question was answered. Try to not edit in another question. Please just ask another new question"}, {"owner": {"reputation": 29, "user_id": 9672457, "user_type": "registered", "profile_image": "https://graph.facebook.com/1623441327769458/picture?type=large", "display_name": "Pawe\u0142 Doli\u0144ski", "link": "https://stackoverflow.com/users/9672457/pawe%c5%82-doli%c5%84ski"}, "reply_to_user": {"reputation": 4820, "user_id": 1309377, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/bYVAD.jpg?s=128&g=1", "display_name": "Andrew Lohr", "link": "https://stackoverflow.com/users/1309377/andrew-lohr"}, "edited": false, "score": 0, "creation_date": 1559160390, "post_id": 56367308, "comment_id": 99338538, "body": "shall I do it now ? Sorry im pretty new in stackoverflow"}, {"owner": {"reputation": 29, "user_id": 9672457, "user_type": "registered", "profile_image": "https://graph.facebook.com/1623441327769458/picture?type=large", "display_name": "Pawe\u0142 Doli\u0144ski", "link": "https://stackoverflow.com/users/9672457/pawe%c5%82-doli%c5%84ski"}, "reply_to_user": {"reputation": 4820, "user_id": 1309377, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/bYVAD.jpg?s=128&g=1", "display_name": "Andrew Lohr", "link": "https://stackoverflow.com/users/1309377/andrew-lohr"}, "edited": false, "score": 0, "creation_date": 1559164564, "post_id": 56367308, "comment_id": 99340010, "body": "<a href=\"https://stackoverflow.com/q/56368443/9672457\">stackoverflow.com/q/56368443/9672457</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4820, "user_id": 1309377, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/bYVAD.jpg?s=128&g=1", "display_name": "Andrew Lohr", "link": "https://stackoverflow.com/users/1309377/andrew-lohr"}, "edited": false, "score": 2, "creation_date": 1559158686, "post_id": 56367402, "comment_id": 99337841, "body": "this.setState is also asynchronous, so this may not work."}], "tags": [], "owner": {"reputation": 99, "user_id": 7332370, "user_type": "registered", "profile_image": "https://graph.facebook.com/1193283644083231/picture?type=large", "display_name": "Verquido", "link": "https://stackoverflow.com/users/7332370/verquido"}, "is_accepted": false, "score": 2, "last_activity_date": 1559158742, "last_edit_date": 1559158742, "creation_date": 1559158648, "answer_id": 56367402, "question_id": 56367308, "link": "https://stackoverflow.com/questions/56367308/how-to-setstate-to-answer-from-api/56367402#56367402", "title": "How to setState to answer from APi", "body": "<p>You did not provide full code but from this piece I see that <code>console.log(this.state.recipesList);</code> is outside of promise chain.</p>\n\n<p>Because <code>fetch()</code> is asynchronous than <code>console.log(this.state.recipesList);</code> will be executed before \n<code>\nthis.setState({\n  recipesList: res\n});\n</code></p>\n\n<p>Put your <code>console.log()</code> into callback of <code>this.setState()</code> which will be executed after state update.</p>\n\n<pre><code>fetch(URL)\n .then(res =&gt; res.json())\n .then(res =&gt; {\n    this.setState({\n      recipesList: res\n    }, () =&gt; {\n      console.log(this.state.recipesList);\n    }); \n }); \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 9672457, "user_type": "registered", "profile_image": "https://graph.facebook.com/1623441327769458/picture?type=large", "display_name": "Pawe\u0142 Doli\u0144ski", "link": "https://stackoverflow.com/users/9672457/pawe%c5%82-doli%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1559159002, "post_id": 56367420, "comment_id": 99337985, "body": "It works this way, console.log shows updated state but now I want to map this.state. recipesList but I cant because state is still not updated."}, {"owner": {"reputation": 1936, "user_id": 5568741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNja2.jpg?s=128&g=1", "display_name": "k3llydev", "link": "https://stackoverflow.com/users/5568741/k3llydev"}, "reply_to_user": {"reputation": 29, "user_id": 9672457, "user_type": "registered", "profile_image": "https://graph.facebook.com/1623441327769458/picture?type=large", "display_name": "Pawe\u0142 Doli\u0144ski", "link": "https://stackoverflow.com/users/9672457/pawe%c5%82-doli%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1559159084, "post_id": 56367420, "comment_id": 99338032, "body": "@Pawe\u0142Doli\u0144ski You should&#39;ve included that in your question. Feel free to edit and comment here again when you did so I get notified and give you a more accurate answer."}, {"owner": {"reputation": 29, "user_id": 9672457, "user_type": "registered", "profile_image": "https://graph.facebook.com/1623441327769458/picture?type=large", "display_name": "Pawe\u0142 Doli\u0144ski", "link": "https://stackoverflow.com/users/9672457/pawe%c5%82-doli%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1559160011, "post_id": 56367420, "comment_id": 99338388, "body": "Is it better now ?"}, {"owner": {"reputation": 1936, "user_id": 5568741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNja2.jpg?s=128&g=1", "display_name": "k3llydev", "link": "https://stackoverflow.com/users/5568741/k3llydev"}, "reply_to_user": {"reputation": 29, "user_id": 9672457, "user_type": "registered", "profile_image": "https://graph.facebook.com/1623441327769458/picture?type=large", "display_name": "Pawe\u0142 Doli\u0144ski", "link": "https://stackoverflow.com/users/9672457/pawe%c5%82-doli%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1559160365, "post_id": 56367420, "comment_id": 99338527, "body": "@Pawe\u0142Doli\u0144ski edited my answer too. Take a look and tell me if that solves your issue completely now."}, {"owner": {"reputation": 29, "user_id": 9672457, "user_type": "registered", "profile_image": "https://graph.facebook.com/1623441327769458/picture?type=large", "display_name": "Pawe\u0142 Doli\u0144ski", "link": "https://stackoverflow.com/users/9672457/pawe%c5%82-doli%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1559161738, "post_id": 56367420, "comment_id": 99339040, "body": "I will add another question because I was not that clear what Im trying to do"}], "tags": [], "owner": {"reputation": 1936, "user_id": 5568741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNja2.jpg?s=128&g=1", "display_name": "k3llydev", "link": "https://stackoverflow.com/users/5568741/k3llydev"}, "is_accepted": false, "score": 5, "last_activity_date": 1559160690, "last_edit_date": 1559160690, "creation_date": 1559158715, "answer_id": 56367420, "question_id": 56367308, "link": "https://stackoverflow.com/questions/56367308/how-to-setstate-to-answer-from-api/56367420#56367420", "title": "How to setState to answer from APi", "body": "<p><code>setState()</code> is asynchronous. This means that React will choose when is the right time to update the state, which is probably not when you are doing <code>console.log()</code>.</p>\n\n<p>Use <code>console.log()</code> on the <code>setState</code> callback, so when the state changes, your function is executed:</p>\n\n<pre><code>fetch(URL)\n   .then(res =&gt; res.json())\n   .then(res =&gt; {\n       this.setState({\n          recipesList: res\n       },()=&gt;{//setState callback.\n          console.log(this.state.recipesList);\n       });\n    });\n</code></pre>\n\n<h3>Use the fetch function in componentWillMount()</h3>\n\n<p>This is due to ReactJS lifecycle. If you execute the function inside <code>componentWillMount</code> it won't cause a second <a href=\"https://reactjs.org/docs/legacy-context.html#referencing-context-in-lifecycle-methods\" rel=\"nofollow noreferrer\">render</a>:</p>\n\n<pre><code>class yourComponent extends React.Component{\n\n  state = {\n     recipesList: []\n  }\n\n  componentWillMount(){\n    fetch(URL)\n     .then(res =&gt; res.json())\n     .then(res =&gt; {\n         this.setState({\n            recipesList: res\n         },()=&gt;{//setState callback.\n            console.log(this.state.recipesList);\n         });\n      });\n   }\n}\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<blockquote>\n  <p>If you used <code>fetch</code> inside <code>componentWillMount()</code>, you can:</p>\n</blockquote>\n\n<h3>Render from map directly to render.</h3>\n\n<p>In your render method, use the map function like this:</p>\n\n<pre><code>render(){\n    return (\n      &lt;div className=\"App\"&gt;\n        &lt;div className=\"contentWrapper\"&gt;\n          {\n             this.state.recipesList.map(item =&gt; {\n               return (\n                  &lt;div className=\"recispesList\"&gt;\n                     &lt;h1&gt;{item.title}&lt;/h1&gt;\n                  &lt;/div&gt;\n               );\n             })\n          }\n        &lt;/div&gt;\n      &lt;/div&gt;\n    );\n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 9672457, "user_type": "registered", "profile_image": "https://graph.facebook.com/1623441327769458/picture?type=large", "display_name": "Pawe\u0142 Doli\u0144ski", "link": "https://stackoverflow.com/users/9672457/pawe%c5%82-doli%c5%84ski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1559160690, "creation_date": 1559158115, "last_edit_date": 1559160325, "question_id": 56367308, "link": "https://stackoverflow.com/questions/56367308/how-to-setstate-to-answer-from-api", "title": "How to setState to answer from APi", "body": "<p>Im trying to setState to response from Api onClick. Status got update but not when im clicking for first time, with second click, yes it does update.</p>\n\n<pre><code>     fetch(URL)\n          .then(res =&gt; res.json())\n          .then(res =&gt; {\n            this.setState({\n              recipesList: res\n            });\n          });\n    console.log(this.state.recipesList);\n\n\n  };\n</code></pre>\n\n<p>Can someone help me ? </p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular7"], "comments": [{"owner": {"reputation": 1886, "user_id": 8493521, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155601478282179/picture?type=large", "display_name": "Will Alexander", "link": "https://stackoverflow.com/users/8493521/will-alexander"}, "edited": false, "score": 2, "creation_date": 1559158132, "post_id": 56367278, "comment_id": 99337627, "body": "Have you tried removing the initialisation from the constructor? That doesn&#39;t need to be there. You should avoid putting anything other than dependency injection in the constructor."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1559158212, "post_id": 56367278, "comment_id": 99337658, "body": "Please try to create an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, I recommend <a href=\"https://stackblitz.com\" rel=\"nofollow noreferrer\">stackblitz.com</a>"}], "answers": [{"tags": [], "owner": {"reputation": 490, "user_id": 6393934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99e5589a34f9ba7a4a85fa584c648616?s=128&d=identicon&r=PG&f=1", "display_name": "Shifenis", "link": "https://stackoverflow.com/users/6393934/shifenis"}, "is_accepted": true, "score": 5, "last_activity_date": 1559159521, "creation_date": 1559159521, "answer_id": 56367600, "question_id": 56367278, "link": "https://stackoverflow.com/questions/56367278/input-property-in-angular-component-returns-empty-array/56367600#56367600", "title": "@Input() property in angular component returns empty array", "body": "<p>Delete <code>this.data = []</code> from constructor, avoid change anything when you use dependecy injecton.</p>\n\n<p>And use <code>set</code> and <code>get</code> for each <code>Input()</code> that you want to use in your template, it's a best practice.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  private _data: CalendarDay[];\n\n  @Input() set data(data: CalendarDay[]) {\n    if(data) {\n     this._data = data;\n    }\n  }\n\n  get data(): CalendarDay[] {\n    return this._data;\n  }\n</code></pre>\n\n<p>And in your HTML you should pass it with:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;app-calendar [data]=\"calendarData\"&gt;&lt;/app-calendar&gt;\n</code></pre>\n\n<p>In calendar component you can use with</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div *ngFor=\"let item of data\"&gt;{{item.date}}&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 9883056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffb5c261b575131a3fc023e35a61b298?s=128&d=identicon&r=PG&f=1", "display_name": "Rintales", "link": "https://stackoverflow.com/users/9883056/rintales"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1403, "favorite_count": 1, "accepted_answer_id": 56367600, "answer_count": 1, "score": 1, "last_activity_date": 1559214976, "creation_date": 1559157957, "last_edit_date": 1559214976, "question_id": 56367278, "link": "https://stackoverflow.com/questions/56367278/input-property-in-angular-component-returns-empty-array", "title": "@Input() property in angular component returns empty array", "body": "<p>I have calendar component with data property decorated as <code>@Input():</code></p>\n\n<pre><code>import { Component, OnInit, Input, OnChanges, SimpleChanges } from '@angular/core';\n\n@Component({\n  selector: 'app-calendar',\n  templateUrl: './calendar.component.html',\n  styleUrls: ['./calendar.component.css']\n})\nexport class CalendarComponent implements OnInit, OnChanges {\n  @Input() data: CalendarDay[];\n\n  constructor() {\n    this.data = [];\n  }\n\n  ngOnInit() {\n    this.initDays();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    console.log(this.data);\n    console.log(changes.data);\n  }\n}\n</code></pre>\n\n<p>I pass data in from another component like that:</p>\n\n<pre><code>&lt;app-calendar [data]=\"this.calendarData\"&gt;&lt;/app-calendar&gt;\n</code></pre>\n\n<p>And passed data gets rendered by <code>*ngFor</code> in the calendar component (it renders perfectly and everything works just fine): </p>\n\n<pre><code>&lt;div *ngFor=\"let item of data\"&gt;{{item.date}}&lt;/div&gt;\n</code></pre>\n\n<p>I want to parse this data first before rendering it into view and whenever i try to console.log data property within the calendar component i get strange array, its shows as empty, i can 'open' it from browser console:</p>\n\n<p><img src=\"https://i.stack.imgur.com/XjXlC.png\" alt=\"Result of calling: console.log(changes.data.currentValue)\">. </p>\n\n<p>And when i try to log value like that:</p>\n\n<pre><code>console.log(this.data[0])\n</code></pre>\n\n<p>or</p>\n\n<pre><code>console.log(changes.data.currentValue[0])\n</code></pre>\n\n<p>i get <code>undefined</code> value.</p>\n"}, {"tags": ["javascript", "mongodb", "mongoose"], "answers": [{"tags": [], "owner": {"reputation": 15562, "user_id": 155819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yXygz.jpg?s=128&g=1", "display_name": "Akrion", "link": "https://stackoverflow.com/users/155819/akrion"}, "is_accepted": false, "score": 1, "last_activity_date": 1559162641, "last_edit_date": 1559162641, "creation_date": 1559159157, "answer_id": 56367517, "question_id": 56367214, "link": "https://stackoverflow.com/questions/56367214/using-findoneandupdate-with-varying-field-values/56367517#56367517", "title": "Using findOneAndUpdate with varying field values", "body": "<p>You could do something like this since you already are using ES6:</p>\n\n<pre><code>let { postType, postBody, postTitle } = req.body  // &lt;-- de-structure\nlet postFields = {\n    postType,\n    postBody,\n    postTitle,  // &lt;-- no title for text?\n    ...(type === 'video' ? { video: {...req.files[\"postVideo\"][0], thumbnail: { ...req.files[\"postVideoThumbnail\"][0]}}} : {}),\n    ...(type === 'photo' ? { photo: { ...req.files[\"postPhoto\"][0]}} : {}),\n    ...(type === 'document' ? { document: {...req.files[\"postDocument\"][0]}} : {}),\n}\n</code></pre>\n\n<p>if <code>text</code> has no title then just use the same approach as the <code>video</code> etc where you use the <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Conditional_Operator\" rel=\"nofollow noreferrer\">ternary operator</a> and if type is <code>text</code> just add the title via spreading an object with the title ... </p>\n\n<p>Basically the idea is to use spread with a ternary operator to conditionally decorate an object with properties.</p>\n"}], "owner": {"reputation": 853, "user_id": 10204157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OBu8q.png?s=128&g=1", "display_name": "Snoopy", "link": "https://stackoverflow.com/users/10204157/snoopy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559162641, "creation_date": 1559157646, "question_id": 56367214, "link": "https://stackoverflow.com/questions/56367214/using-findoneandupdate-with-varying-field-values", "title": "Using findOneAndUpdate with varying field values", "body": "<p>I am curious to know if there is a better way to go about updating field values. The field values I use sometimes will be there and sometimes will not be, depending on the type of post the user is creating:</p>\n\n<p><strong>Here is my code to bield out the fields that are to be added to the database</strong></p>\n\n<pre><code>switch (req.body.postType) {\n      case \"text\":\n        postFields = {\n          postType: \"text\",\n          postBody: req.body.postBody\n        };\n        break;\n      case \"video\":\n        postFields = {\n          postType: \"video\",\n          postTitle: req.body.postTitle,\n          postBody: req.body.postBody,\n          video: {\n            ...req.files[\"postVideo\"][0],\n            thumbnail: { ...req.files[\"postVideoThumbnail\"][0] }\n          }\n        };\n        break;\n      case \"photo\":\n        postFields = {\n          postType: \"photo\",\n          postTitle: req.body.postTitle,\n          postBody: req.body.postBody,\n          photo: {\n            ...req.files[\"postPhoto\"][0]\n          }\n        };\n        break;\n      case \"document\":\n        postFields = {\n          postType: \"document\",\n          postTitle: req.body.postTitle,\n          postBody: req.body.postBody,\n          document: {\n            ...req.files[\"postDocument\"][0]\n          }\n        };\n        break;\n      default:\n        return res.status(400).json({\n          Error:\n            \"Incorrect postType sent to server. Must be: text, video, photo\"\n        });\n    }\n</code></pre>\n\n<p>After I build this out I then use <code>findOneAndUpdate</code> as follows</p>\n\n<pre><code> Feed.findOneAndUpdate(\n              { school: req.user.school },\n              {\n                $push: {\n                  posts: postFields\n                }\n              },\n              { new: true }\n            )\n</code></pre>\n\n<p>Is there a better way to create the field values?</p>\n"}, {"tags": ["javascript", "jquery", "css", "twitter-bootstrap", "drupal-8"], "comments": [{"owner": {"reputation": 227, "user_id": 3899363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQTkz.jpg?s=128&g=1", "display_name": "Fabio William Concei&#231;&#227;o", "link": "https://stackoverflow.com/users/3899363/fabio-william-concei%c3%a7%c3%a3o"}, "edited": false, "score": 0, "creation_date": 1559157962, "post_id": 56367206, "comment_id": 99337555, "body": "Hello, the CSS is attached globally?"}, {"owner": {"reputation": 20731, "user_id": 2181514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pS2Yo.jpg?s=128&g=1", "display_name": "freedomn-m", "link": "https://stackoverflow.com/users/2181514/freedomn-m"}, "edited": false, "score": 0, "creation_date": 1559158240, "post_id": 56367206, "comment_id": 99337670, "body": "Have you included the .CSS file on every page (globally as comment above) or is it only on your home page?  Do your other pages have any elements with class <code>timeline-notification</code>?"}, {"owner": {"reputation": 20731, "user_id": 2181514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pS2Yo.jpg?s=128&g=1", "display_name": "freedomn-m", "link": "https://stackoverflow.com/users/2181514/freedomn-m"}, "edited": false, "score": 0, "creation_date": 1559158367, "post_id": 56367206, "comment_id": 99337718, "body": "<i>&quot;I want that when the &quot;unread&quot; class is in the page&quot;</i> - neither your jquery nor your css includes <code>.unread</code>.   Please include all <i>relevant</i> code.  Have a read of <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 101, "user_id": 11423254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9968ab48290c5868b2c159fc88766189?s=128&d=identicon&r=PG&f=1", "display_name": "tropcool", "link": "https://stackoverflow.com/users/11423254/tropcool"}, "edited": false, "score": 0, "creation_date": 1559159583, "post_id": 56367206, "comment_id": 99338230, "body": "Ok I just updated my question"}], "owner": {"reputation": 101, "user_id": 11423254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9968ab48290c5868b2c159fc88766189?s=128&d=identicon&r=PG&f=1", "display_name": "tropcool", "link": "https://stackoverflow.com/users/11423254/tropcool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1559187936, "creation_date": 1559157616, "last_edit_date": 1559187936, "question_id": 56367206, "link": "https://stackoverflow.com/questions/56367206/why-does-the-animation-not-work-if-i-change-pages", "title": "Why does the animation not work if I change pages?", "body": "<p>I have a Drupal 8 site with Bootstrap 3 theme.</p>\n\n<p>I created a homepage with a newsfeed. Whenever there is a publication on the site, it generates a message in the newsfeed. The messages can have the status read or unread.</p>\n\n<p>I want that when the <code>.action-flag</code> class is in the page, an animation is applied on the logo of the site.</p>\n\n<p>The CSS and JS file is included on all pages of the site.</p>\n\n<p>The <code>.action-flag</code> class is only on the home page, when a message is not marked as read.</p>\n\n<p>Here is the structure of my homepage :</p>\n\n<p><a href=\"https://i.stack.imgur.com/e9dgg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e9dgg.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is my JS code :</p>\n\n<pre><code>  if ($(\"#pills-private .action-flag\").length) {\n    $(\".region-navigation-logo img\").addClass(\"timeline-notification\");\n  };\n</code></pre>\n\n<p>Here is my CSS code :</p>\n\n<pre><code>@keyframes pulse {\n    0% {\n        box-shadow: 0 0 0 0 rgba(138, 186, 18, 1);\n    }\n    70% {\n        box-shadow: 0 0 0 10px rgba(138, 186, 18, 0);\n    }\n    100% {\n        box-shadow: 0 0 0 0 rgba(138, 186, 18, 0);\n    }\n}\n\n.region-navigation-logo img {\n    height: 56px;\n    border-radius: 50%;\n    background: #8aba12;\n}\n\n.timeline-notification {\n    box-shadow: 0 0 0 rgba(138, 186, 18, 1);\n    animation: pulse 2s infinite;\n}\n</code></pre>\n\n<p>Currently, the animation works very well. But only if I'm on the homepage. If I go to another page, the animation does not work anymore.</p>\n\n<p><strong>THE PROBLEM</strong></p>\n\n<p>It only works when I go to the homepage. I want it to work on the whole site. The goal is to notify the user that a new activity is available in their newsfeed.</p>\n\n<p>Is there a solution for this?</p>\n"}, {"tags": ["javascript", "google-chrome", "canvas"], "answers": [{"tags": [], "owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "is_accepted": true, "score": 2, "last_activity_date": 1559181686, "creation_date": 1559181686, "answer_id": 56370728, "question_id": 56367196, "link": "https://stackoverflow.com/questions/56367196/is-bitmaprenderer-not-a-valid-value-for-off-screen-canvas-rendering-context-in/56370728#56370728", "title": "Is &#39;bitmaprenderer&#39; not a valid value for off-screen canvas rendering context in Chrome?", "body": "<p>Yes, <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/ImageBitmapRenderingContext\" rel=\"nofollow noreferrer\">ImageBitmapRenderingContext</a> is still not available from an OffscreenCanvas, only webgl[-2] (in FF and Chrome)  and 2D (currently in Chrome only) are.</p>\n\n<p>Note that it makes very little sense to make this ImageBitmapRenderingContext available from OffscreenCanvas since this context is generally only used to <strong>display</strong> ImageBitmap objects.   This thus implies that the associated canvas should be visible.  </p>\n\n<p>If you wanted to use it for something like being able to draw it to a an other context, then you can directly pass the ImageBitmap to either <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/drawImage\" rel=\"nofollow noreferrer\">2D drawImage</a> or <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/texImage2D\" rel=\"nofollow noreferrer\">webgl <code>texImage2d</code></a>.   </p>\n\n<p>So the only use case I can see for it would be to use the <code>OffscreenCanvas.convertToBlob()</code> method from inside a Worker in order to convert an ImageBitmap to a BLob. I can understand that devs did set it as low priority, when you can anyway already do the same by other means (even though it might use a bit more memory to achieve it).</p>\n\n<p>Also note that in your case, since you are in the main thread and not in a Worker, you absolutely don't need an OffscreenCanvas and can just do </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var img = new Image();\r\nimg.crossOrigin = 'anonymous';\r\nimg.src = \"https://upload.wikimedia.org/wikipedia/commons/a/a4/Fiore_con_petali_arancioni_SVG.svg\";\r\nimg.onload = _ =&gt; {\r\n  createImageBitmap(img)\r\n    .then(bitmap =&gt; {\r\n      const canvas = Object.assign(document.createElement('canvas'), {\r\n        width: bitmap.width,\r\n        height: bitmap.height\r\n      });\r\n      const ctx = canvas.getContext('bitmaprenderer');\r\n      ctx.transferFromImageBitmap(bitmap);\r\n      return new Promise((res, rej) =&gt; {\r\n        canvas.toBlob(blob =&gt; {\r\n          if (!blob) rej('error');\r\n          res(blob);\r\n        });\r\n      });\r\n    })\r\n    .then(blob =&gt; {\r\n      console.log(blob);\r\n      result.src = URL.createObjectURL(blob);\r\n    })\r\n    .catch(e =&gt; console.error(e.message));\r\n};</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>PNG: &lt;img id=\"result\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 49, "user_id": 4814907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HgBua.png?s=128&g=1", "display_name": "That&#39;s me - who else", "link": "https://stackoverflow.com/users/4814907/thats-me-who-else"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 595, "favorite_count": 0, "accepted_answer_id": 56370728, "answer_count": 1, "score": 0, "last_activity_date": 1559181686, "creation_date": 1559157582, "question_id": 56367196, "link": "https://stackoverflow.com/questions/56367196/is-bitmaprenderer-not-a-valid-value-for-off-screen-canvas-rendering-context-in", "title": "Is &#39;bitmaprenderer&#39; not a valid value for off-screen canvas rendering context in Chrome?", "body": "<p>While drawing bitmap image onto off-screen canvas, Chrome console threw an error on me:</p>\n\n<blockquote>\n  <p>Failed to execute 'getContext' on 'OffscreenCanvas': The provided value 'bitmaprenderer' is not a valid enum value of type OffscreenRenderingContextType.</p>\n</blockquote>\n\n<p>The problem occurs in both worker and window contexts:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var img = new Image(63, 177);\r\nimg.src = \"https://cdn.sstatic.net/Img/unified/sprites.svg\";\r\nimg.onload = _ =&gt; {\r\n\tcreateImageBitmap(img).then(bitmap =&gt; {\r\n\t\tvar canvas = new OffscreenCanvas(bitmap.width, bitmap.height);\r\n\t\tcanvas.getContext('bitmaprenderer');\r\n\t}).catch(e =&gt; console.error(e.message));\r\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I can get this canvas context type in window context while using (on-screen) canvas interface as so:</p>\n\n<pre><code>document.createElement('canvas').getContext('bitmaprenderer');\n</code></pre>\n\n<p>The canvas context is needed in worker, so I can't use (on-screen) canvas interface, there is no document access after all.</p>\n\n<p>While I can just get two-dimensional rendering context of bitmap image by using '2d' identifier in getContext method, it would be OffscreenCanvasRenderingContext2D and not <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/ImageBitmapRenderingContext\" rel=\"nofollow noreferrer\">ImageBitmapRenderingContext</a>. I don't know the difference in latency for both interfaces, but as far as I understand, bitmap can be transferred onto canvas immediately, while 2d context should be drawn.</p>\n\n<p>My Chrome version is 74.0.3729.169, and <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/ImageBitmapRenderingContext\" rel=\"nofollow noreferrer\">linked article</a> browser compatibility table stipulates, that bitmap rendering context interface is available from 66 version.</p>\n\n<p>Am I doing something wrong, or is bitmaprenderer not supported as a valid value for off-screen canvas rendering context as of now? How can I access bitmap rendering context for off-screen canvas in Chrome? Thanks in advance.</p>\n"}, {"tags": ["javascript", "google-chrome-extension", "event-tracking"], "comments": [{"owner": {"reputation": 3042, "user_id": 8342742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EMVCJ.jpg?s=128&g=1", "display_name": "M\u03b1\u03c0\u03bcQ\u03bc\u03b1\u03c0k\u03b3V\u03c0.0", "link": "https://stackoverflow.com/users/8342742/m%ce%b1%cf%80%ce%bcq%ce%bc%ce%b1%cf%80k%ce%b3v%cf%80-0"}, "edited": false, "score": 0, "creation_date": 1559197658, "post_id": 56367195, "comment_id": 99347333, "body": "Have you checked <a href=\"https://stackoverflow.com/questions/2400935/browser-detection-in-javascript\">this SO post (Browser detection in JavaScript?)</a>? It could be related to the functionality you need."}, {"owner": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 0, "creation_date": 1559236817, "post_id": 56367195, "comment_id": 99365911, "body": "You&#39;ll probably have to write a separate external utility to check the browser preferences file directly and report back via nativeMessaging API."}], "owner": {"reputation": 357, "user_id": 5323220, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/10156044221650475/picture?type=large", "display_name": "Noam Suissa", "link": "https://stackoverflow.com/users/5323220/noam-suissa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1559157580, "creation_date": 1559157580, "question_id": 56367195, "link": "https://stackoverflow.com/questions/56367195/is-there-a-way-to-retrieve-the-default-search-engine-from-a-chrome-browsers-set", "title": "Is there a way to retrieve the default search engine from a Chrome browser&#39;s settings?", "body": "<p>I am creating a Chrome extension that tracks multiple events periodically such as the current date, the extension's install Id, etc. One particular event I want to keep track of is the browser's current default search engine. The extension has no popup so there is no user interaction. </p>\n\n<p>That being said, the only way I can think of getting that information is from the browser's settings page. Is there any API or other logic I can use in JavaScript to achieve this?</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 1810, "user_id": 2630903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JSNUo.png?s=128&g=1", "display_name": "Richard Hubley", "link": "https://stackoverflow.com/users/2630903/richard-hubley"}, "edited": false, "score": 0, "creation_date": 1559157635, "post_id": 56367186, "comment_id": 99337445, "body": "It could be the browser/user did not authorize access to the camera"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1559157734, "post_id": 56367186, "comment_id": 99337492, "body": "read: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia#Privacy_and_security\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/MediaDevices/&hellip;</a>"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1559158050, "post_id": 56367186, "comment_id": 99337591, "body": "You&#39;ve written some content to the console and screen in your code - please provide some help to us by telling us what the output was in both console and browser."}, {"owner": {"reputation": 1, "user_id": 11509476, "user_type": "registered", "profile_image": "https://graph.facebook.com/676202339480634/picture?type=large", "display_name": "Ahmad Ali Attar", "link": "https://stackoverflow.com/users/11509476/ahmad-ali-attar"}, "edited": false, "score": 0, "creation_date": 1559159881, "post_id": 56367186, "comment_id": 99338335, "body": "sorry  .. in the localhost the page work perfect open the webcam andread the QR but when upload to realhost the webcam not work and print  &quot;catch&quot; word"}], "owner": {"reputation": 1, "user_id": 11509476, "user_type": "registered", "profile_image": "https://graph.facebook.com/676202339480634/picture?type=large", "display_name": "Ahmad Ali Attar", "link": "https://stackoverflow.com/users/11509476/ahmad-ali-attar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1559168551, "creation_date": 1559157551, "last_edit_date": 1559168551, "question_id": 56367186, "link": "https://stackoverflow.com/questions/56367186/this-javascript-code-to-scan-qr-by-webcam-the-code-work-perfect-on-the-localhost", "title": "this javaScript code to scan QR by webcam the code work perfect on the localhost but when upload to realhost on webserver the camer did not open", "body": "<p>This javaScript code to scan QR by a webcam the code work perfect on the localhost but when uploading to real host on the webserver the camera did not open<br>\n    <h1>QR</h1>\n    </p>\n\n<pre><code>&lt;script type=\"text/javascript\" &gt;\n     let scanner = new Instascan.Scanner({ video: document.getElementById('preview') });\n      scanner.addListener('scan', function (content) {\n        alert(content);\n\n      });\n      ****Instascan.Camera.getCameras().then(function (cameras) {\n        if (cameras.length &gt; 0) {\n          scanner.start(cameras[0]);\n\n        } else {\n          console.error('No cameras found.');\n          document.write(\"error\");\n\n        }\n      }).catch(function (e) {\n        console.error(e);\n        document.write(\"catch\");\n\n      });\n\n  document.write(content);\n  document.write(\"hello\");\n\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "google-apps-script", "google-sheets", "google-docs", "google-sheets-macros"], "comments": [{"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "edited": false, "score": 0, "creation_date": 1559168000, "post_id": 56367155, "comment_id": 99340971, "body": "About <code>how do I paste it into a google doc?</code>, I think that more information is required. In order to correctly understand about your goal, can you provide the sample Spreadsheet and Document?"}, {"owner": {"reputation": 961, "user_id": 10805162, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hhijJX1xTS4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gSj794a8v8LujmdCvB0_D34PjnOg/mo/photo.jpg?sz=128", "display_name": "\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u0415\u0440\u043c\u043e\u043b\u0438\u043d", "link": "https://stackoverflow.com/users/10805162/%d0%90%d0%bb%d0%b5%d0%ba%d1%81%d0%b0%d0%bd%d0%b4%d1%80-%d0%95%d1%80%d0%bc%d0%be%d0%bb%d0%b8%d0%bd"}, "edited": false, "score": 0, "creation_date": 1559639467, "post_id": 56367155, "comment_id": 99474921, "body": "Have you seen <a href=\"https://stackoverflow.com/questions/34687772/copy-a-range-of-spreadsheet-to-a-doc\">this post</a>? Do you want to copy values only?"}], "answers": [{"tags": [], "owner": {"reputation": 581, "user_id": 11051918, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yEnEYtsTOFg/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNmhQEN9XQpKxWSX1dvjMIfZmZjVQ/mo/photo.jpg?sz=128", "display_name": "Mario R.", "link": "https://stackoverflow.com/users/11051918/mario-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1560233962, "creation_date": 1560233962, "answer_id": 56537607, "question_id": 56367155, "link": "https://stackoverflow.com/questions/56367155/after-selecting-a-range-on-a-google-sheet-how-do-i-paste-the-selection-into-a-g/56537607#56537607", "title": "After selecting a range on a Google Sheet, how do I paste the selection into a Google Doc?", "body": "<p>Well to achieve what you are saying I would do this. </p>\n\n<pre><code>function sheetToDoc(){\n\n  var app = SpreadsheetApp;\n  var as = app.getActiveSpreadsheet();\n  var sh = as.getSheets()[0];\n  var temp = sh.getRange(\"A1:A20\").getValues();\n\n  var doc = DocumentApp.openById(\"DocID\").getBody().appendTable(temp);\n\n}\n</code></pre>\n\n<p>Use AppendTable() to add the information to your document in a table and appendParagraph() if you want to add the information to your document as plain text. Make test for you to know how the information will be added to your document.</p>\n\n<p>I hope this helps. Greetings</p>\n"}], "owner": {"reputation": 3, "user_id": 10992273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9977f6d08eb3611e9cf545ffe5f04e0?s=128&d=identicon&r=PG&f=1", "display_name": "pervis", "link": "https://stackoverflow.com/users/10992273/pervis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560233962, "creation_date": 1559157385, "last_edit_date": 1559241806, "question_id": 56367155, "link": "https://stackoverflow.com/questions/56367155/after-selecting-a-range-on-a-google-sheet-how-do-i-paste-the-selection-into-a-g", "title": "After selecting a range on a Google Sheet, how do I paste the selection into a Google Doc?", "body": "<p>I'm trying to create a macro on a Google Sheet that will select a range from the sheet and then paste the selected contents into to a Google Doc. So far I have the code to select the range:</p>\n\n<pre><code>function CopyToDoc() {\n  var spreadsheet = SpreadsheetApp.getActive();\n  spreadsheet.getRange('A4:B13').activate();\n}\n</code></pre>\n\n<p>Once I select the range, how do I paste it into a google doc?</p>\n"}, {"tags": ["javascript", "reactjs", "google-drive-picker"], "comments": [{"owner": {"reputation": 323, "user_id": 1336421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd21cd516dc11b233d849fe6d6fc8122?s=128&d=identicon&r=PG", "display_name": "Q_C", "link": "https://stackoverflow.com/users/1336421/q-c"}, "edited": false, "score": 2, "creation_date": 1565169600, "post_id": 56367154, "comment_id": 101264227, "body": "Did you find a solution ? I have the exact same issue"}, {"owner": {"reputation": 1806, "user_id": 1162914, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2cdd40f8764b66215dc82e0a7d2291e7?s=128&d=identicon&r=PG&f=1", "display_name": "DeadManSpirit", "link": "https://stackoverflow.com/users/1162914/deadmanspirit"}, "edited": false, "score": 0, "creation_date": 1573121258, "post_id": 56367154, "comment_id": 103781464, "body": "I am also having the same issue and no fix as of yet :("}, {"owner": {"reputation": 317, "user_id": 999634, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b0cf5081c7d1d17745c85e85cac62a4b?s=128&d=identicon&r=PG", "display_name": "nik1004", "link": "https://stackoverflow.com/users/999634/nik1004"}, "edited": false, "score": 0, "creation_date": 1598955781, "post_id": 56367154, "comment_id": 112617535, "body": "same issue for me :("}, {"owner": {"reputation": 11073, "user_id": 10612011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KM0g5.jpg?s=128&g=1", "display_name": "Iamblichus", "link": "https://stackoverflow.com/users/10612011/iamblichus"}, "edited": false, "score": 0, "creation_date": 1600242572, "post_id": 56367154, "comment_id": 113022105, "body": "Can you reproduce this without using React? If that&#39;s the case, I&#39;d suggest you to file a bug in this <a href=\"https://issuetracker.google.com/components/191650/manage#basic\" rel=\"nofollow noreferrer\">Issue Tracker component</a>, providing a minimized example to reproduce this."}], "answers": [{"tags": [], "owner": {"reputation": 365, "user_id": 11711280, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fkeC9JneKmk/AAAAAAAAAAI/AAAAAAAADZQ/nnS-gTmjKso/photo.jpg?sz=128", "display_name": "Nick Carducci", "link": "https://stackoverflow.com/users/11711280/nick-carducci"}, "is_accepted": false, "score": 0, "last_activity_date": 1600181389, "last_edit_date": 1600181389, "creation_date": 1600180988, "answer_id": 63904282, "question_id": 56367154, "link": "https://stackoverflow.com/questions/56367154/getting-error-while-opening-google-drive-picker-the-feature-you-requested-is-c/63904282#63904282", "title": "Getting error while opening Google Drive Picker - The feature you requested is currently unavailable. Please try again later", "body": "<p>Finally got this series of functions to load <code>api</code> <code>platform</code> and <code>client</code>, I have <code>&lt;script src/&gt;</code> in <code>index.html</code> too but I don't think that is required when <code>appendChild</code> <code>script</code> after mounting.  The order of loading <code>api</code> to <code>platform</code> to <code>client:auth2</code>, then building the <code>picker</code> upon successful <code>authResult</code> from <code>authorize</code> seems significant. I couldn't get <code>sign-in2</code> + <code>init</code> to work so I used <code>authorize</code></p>\n<pre><code>var SCOPES = &quot;https://www.googleapis.com/auth/drive.file&quot;\n...\ncomponentDidMount = () =&gt; {\nthis.loadGoogleAPI()\n}\n</code></pre>\n<p>load google scripts</p>\n<pre><code>\n  loadGoogleApi() {\n    const script = document.createElement(&quot;script&quot;);\n    script.src = &quot;https://apis.google.com/js/api.js&quot;;\n    script.onload = () =&gt; {\n      console.log(&quot;google api loaded&quot;);\n      this.loadGapi();\n    };\n    document.body.appendChild(script);\n  }\n  loadGapi = () =&gt; {\n    const script = document.createElement(&quot;script&quot;);\n    script.src = &quot;https://apis.google.com/js/platform.js&quot;;\n    script.onload = () =&gt; {\n      console.log(&quot;google api platform loaded&quot;);\n      this.loadGapiClient();\n    };\n    document.body.appendChild(script);\n  };\n</code></pre>\n<pre><code>  loadGapiClient = () =&gt; {\n    const script = document.createElement(&quot;script&quot;);\n    script.src = &quot;https://apis.google.com/js/client.js&quot;;\n    script.onload = () =&gt; {\n      console.log(&quot;google api client loaded&quot;);\n      /*this.gapi.client.load(&quot;youtube&quot;, &quot;v3&quot;, () =&gt;\n        console.log(&quot;loaded youtube&quot;)\n      );*/\n      this.gapi = window.gapi;\n      this.gapi.load(&quot;client:auth2&quot;, () =&gt; {\n        /*this.gapi.load(&quot;signin2&quot;, () =&gt; {\n            console.log(&quot;render a sign in button&quot;);\n            // using this method will show Signed In if the user is already signed in\n          });*/\n        console.log(&quot;auth2 loaded&quot;);\n      });\n    };\n    document.body.appendChild(script);\n  };\n</code></pre>\n<p>clicked google branded sign-in button</p>\n<pre><code>  loadGapiApi = () =&gt; {\n    //var DIALOG_DIMENSIONS = { width: &quot;90%&quot;, height: &quot;90%&quot; };\n    this.gapi = window.gapi;\n\n    console.log(&quot;authooo&quot;);\n    this.gapi.auth2.authorize(\n      //getAuthInstance().signIn(\n      //init(\n      //authorize(\n      {\n        api_key: API_KEY,\n        client_id: CLIENT_ID,\n        scope: SCOPES,\n        prompt: &quot;none&quot;\n        //prompt: &quot;select_account&quot;\n      },\n      (authResult) =&gt; {\n        if (authResult) {\n          this.gapi.client.load(&quot;drive&quot;, &quot;v3&quot;, () =&gt;\n            console.log(&quot;loaded drive&quot;)\n          );\n\n          this.gapi.load(&quot;picker&quot;, () =&gt; {\n            console.log(&quot;drive picker loaded&quot;);\n            this.googlepicker = window.google;\n\n            var view1 = new this.googlepicker.picker.DocsView(\n              this.googlepicker.picker.ViewId.IMAGE\n            ).setSelectFolderEnabled(true);\n\n\n            var view = new this.googlepicker.picker.DocsView(\n              this.googlepicker.picker.ViewId.DOCS\n            ).setSelectFolderEnabled(true);\n            var uploadView = new this.googlepicker.picker.DocsUploadView();\n            view.setMode(this.googlepicker.picker.DocsViewMode.LIST);\n            view.setQuery(window.dataFeedName);\n\n            this.picker = new this.googlepicker.picker.PickerBuilder()\n              .setAppId(CLIENT_ID)\n              .setOAuthToken(authResult.access_token)\n              .addView(view)\n              .addView(uploadView)\n              //.enableFeature(google.picker.Feature.SIMPLE_UPLOAD_ENABLED)\n              //.enableFeature(google.picker.Feature.SUPPORT_TEAM_DRIVES)\n              .enableFeature(\n                this.googlepicker.picker.Feature.MULTISELECT_ENABLED\n              ) //optional\n              .setOrigin(&quot;https://thumbprint.us&quot;)\n              .setCallback(this.pickerCallback)\n              .build();\n            window.picker = this.picker;\n\n          });\n\n          this.gapi.load(&quot;drive-share&quot;, () =&gt; {\n            console.log(&quot;share dialog loaded&quot;);\n            this.s = window.s;\n            this.s = new window.gapi.drive.share.ShareClient();\n            this.s.setOAuthToken(authResult.access_token);\n          });\n\n          this.setState({\n            authResult,\n            accessToken: authResult.access_token,\n            authorizedScopes: true,\n            signedIn: true\n          });\n          //const auth2 = this.gapi.auth2.getAuthInstance();\n          //this.auth2.signIn();\n        }\n      }\n    );\n  };\n</code></pre>\n<p>share drive &amp; signout</p>\n<pre><code>\n  logout = () =&gt; {\n    window.location.href =\n      &quot;https://www.google.com/accounts/Logout?continue=https://appengine.google.com/_ah/logout?continue=https://thumbprint.us&quot;;\n  };\n  signOut = () =&gt; {\n    console.log(&quot;trying to sign out&quot;);\n    if (this.gapi) {\n      //console.log(auth2);\n      this.auth2 = window.auth2;\n      this.auth2\n        .signOut()\n        .then(() =&gt; {\n          //if (auth2 !== null) {\n          console.log(&quot;outted successfully&quot;);\n          this.auth2.disconnect();\n        })\n        .catch((err) =&gt; console.log(err.message));\n      this.auth2.disconnect();\n      //this.logout();\n    }\n  };\n  switchAccount = () =&gt; {\n    console.log(&quot;trying to sign out&quot;);\n    this.gapi = window.gapi;\n    this.gapi.auth2\n      .getAuthInstance()\n      .signIn({\n        api_key: API_KEY,\n        client_id: CLIENT_ID,\n        scope: SCOPES,\n        prompt: &quot;select_account&quot;\n      })\n      .then(() =&gt; {\n        //if (auth2 !== null) {\n        console.log(&quot;outted successfully&quot;);\n        this.auth2.disconnect();\n      })\n      .catch((err) =&gt; console.log(err.message));\n  };\n  pickerCallback = (data) =&gt; {\n    if (data.action === window.google.picker.Action.PICKED) {\n      var fileId = data.docs[0].id;\n      //console.log(fileId);\n      //console.log(window.gapi);\n      //console.log(data.docs[0].name);\n      this.s.setItemIds([fileId]);\n      if (this.state.filesPreparedToSend !== data.docs) {\n        //console.log(data.docs);\n        this.setState({ filesPreparedToSend: data.docs });\n      }\n    }\n  };\n</code></pre>\n"}], "owner": {"reputation": 404, "user_id": 3971360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6173efb97486436b05a462e10514ad95?s=128&d=identicon&r=PG", "display_name": "Rishi Raj", "link": "https://stackoverflow.com/users/3971360/rishi-raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 410, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1600181389, "creation_date": 1559157382, "question_id": 56367154, "link": "https://stackoverflow.com/questions/56367154/getting-error-while-opening-google-drive-picker-the-feature-you-requested-is-c", "title": "Getting error while opening Google Drive Picker - The feature you requested is currently unavailable. Please try again later", "body": "<p>I have been trying to find out what is incorrect with my Google Drive Picker integration but haven't been able to. </p>\n\n<p>Once the picker opens, I'm shown a \"Sign In\" screen, which then opens the OAuth flow for the first time. After completing that it repeats the  Sign In screen again. On clicking it again this time, it show the error - \"The feature you requested is currently unavailable. Please try again later.\"</p>\n\n<p>I have tried searching for various answers but none have worked. I have tried adding OAuth flow before the picker initialisation but it still does not solve the problem. Any help will be appreciated. </p>\n\n<pre><code>import { h, Component } from 'preact';\nimport googleClientAPI from 'google-client-api';\nimport styles from 'stylesheets/components/commons/drive';\nimport config from '../../config';\n\nexport default class DriveFilePicker extends Component {\n  constructor(props) {\n    super(props);\n    this.setState({\n      loaded: false,\n    });\n  }\n\n  componentWillMount() {\n    googleClientAPI().then(gapi =&gt; {      \n      gapi.load('picker', this.buildPicker);      \n    });\n  }\n\n  handleAuthResult = (authResult) =&gt; {\n    if (authResult &amp;&amp; !authResult.error) {\n      oauthToken = authResult.access_token;\n      this.buildPicker(oauthToken);\n    }\n  }\n\n\n  buildPicker = (accessToken) =&gt; {\n    accessToken = accessToken || this.props.accessToken;\n    if (typeof google !== 'undefined' &amp;&amp; typeof accessToken !== 'undefined') {\n      const docsView = new google.picker.DocsView()\n        .setIncludeFolders(true)\n        .setMimeTypes('application/vnd.google-apps.folder')\n        .setSelectFolderEnabled(true);\n\n      this.picker = new google.picker.PickerBuilder()\n        .enableFeature(google.picker.Feature.MULTISELECT_ENABLED)\n        .addView(docsView)\n        .setOAuthToken(accessToken)\n        .setDeveloperKey(config.gapi.developerKey)\n        .setCallback(this.onPicked)\n        .build();\n      this.setState({\n        loaded: true,\n      });\n    }\n  }\n\n  componentWillReceiveProps({ accessToken: nextAccessToken }) {\n    if (this.props.accessToken !== nextAccessToken) {\n      this.setState({\n        loaded: false,\n      });\n      this.buildPicker(nextAccessToken);\n    }\n  }\n\n  onPicked = ({ action, docs }) =&gt; {\n    if (action === 'picked') {\n      this.props.onAddFolder(docs);\n    }\n  }\n\n  onOpen() {\n    this.state.loaded &amp;&amp; this.picker.setVisible(true);\n  }\n\n  render() {\n    const { loaded } = this.state;\n    return (\n      &lt;div className={`${!loaded ? styles.disabled : ''} ${styles.drive}`}&gt;\n        &lt;div className={styles.label}&gt;Sync folders&lt;/div&gt;\n        &lt;div className={`${!loaded ? styles.disabled : ''} ${styles.folders}`}&gt;\n          &lt;Tag hideRemove={true} onClick={::this.onOpen}&gt;+Add folder&lt;/Tag&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "express", "handlebars.js", "express-handlebars"], "answers": [{"tags": [], "owner": {"reputation": 1044, "user_id": 166142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ff2c9b2a50b2c81443a7c2e9869dad7?s=128&d=identicon&r=PG", "display_name": "MattB", "link": "https://stackoverflow.com/users/166142/mattb"}, "is_accepted": true, "score": 0, "last_activity_date": 1559157614, "creation_date": 1559157614, "answer_id": 56367205, "question_id": 56367101, "link": "https://stackoverflow.com/questions/56367101/pass-absolute-url-path-to-handlebars-view-in-express/56367205#56367205", "title": "Pass absolute url path to handlebars view in express", "body": "<p>You shouldn't need a helper for this.  You can add the value to <code>res.locals</code> and access it via Handlebars.</p>\n\n<pre><code>app.use(\"*\", function(req, res, next){\n    res.locals.absoluteUrl = absoluteUrl; // Note, you'll need to calculate this yourself\n    next();\n});\n</code></pre>\n\n<p>In Handlebars, you access it as a standard variable:</p>\n\n<pre><code>{{absoluteUrl}}\n</code></pre>\n"}], "owner": {"reputation": 6545, "user_id": 4775645, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/rS0Hu.png?s=128&g=1", "display_name": "Steve K", "link": "https://stackoverflow.com/users/4775645/steve-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 56367205, "answer_count": 1, "score": 0, "last_activity_date": 1559157614, "creation_date": 1559157182, "question_id": 56367101, "link": "https://stackoverflow.com/questions/56367101/pass-absolute-url-path-to-handlebars-view-in-express", "title": "Pass absolute url path to handlebars view in express", "body": "<p>I am trying to just set the canonical meta tag using an express server with handlebars as the templating engine.  I cannot figure out how to get the absolute url path and pass it to the handlebars view.  I was going to create a helper function in handlebars to do so but it would be outside of the req so I don't really know how to get the url or how to go about this.  I would like to set the canonical dynamically and not manually.  Thanks.</p>\n\n<p>Here is my simple server:</p>\n\n<pre><code>const express = require('express');\nconst router = require('./routes/router');\nconst handlebars = require('express-handlebars');\nconst PORT = process.env.PORT || 5000;\nconst path = require('path');\nconst app = express();\n\nvar hbs = handlebars.create({\n  defaultLayout: 'main',\n  helpers: {\n    canonical: function() {\n      //get absolute url path\n    }\n  }\n});\n\napp.use(express.json());\napp.set('views', path.join(__dirname, 'views'));\napp.engine('handlebars', hbs.engine);\napp.set('view engine', 'handlebars');\n\nrouter(app);\n\napp.listen(PORT, err =&gt; {\n  if (err) throw err;\n  console.log(`ready at http://localhost:${PORT}`);\n});\n</code></pre>\n"}, {"tags": ["javascript", "express", "redux", "passport.js", "state"], "answers": [{"comments": [{"owner": {"reputation": 988, "user_id": 7355935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39a65e207ae676dadae460fe6905b465?s=128&d=identicon&r=PG&f=1", "display_name": "iqbal125", "link": "https://stackoverflow.com/users/7355935/iqbal125"}, "edited": false, "score": 0, "creation_date": 1559158267, "post_id": 56367293, "comment_id": 99337684, "body": "It is actually better to not handle the auth state in the server at all but do it entirely through the React frontend."}, {"owner": {"reputation": 1065, "user_id": 3875620, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/mSL57.jpg?s=128&g=1", "display_name": "Nick Kinlen", "link": "https://stackoverflow.com/users/3875620/nick-kinlen"}, "edited": false, "score": 0, "creation_date": 1559158396, "post_id": 56367293, "comment_id": 99337738, "body": "How would I handle this in the front end?"}, {"owner": {"reputation": 988, "user_id": 7355935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39a65e207ae676dadae460fe6905b465?s=128&d=identicon&r=PG&f=1", "display_name": "iqbal125", "link": "https://stackoverflow.com/users/7355935/iqbal125"}, "edited": false, "score": 0, "creation_date": 1559158473, "post_id": 56367293, "comment_id": 99337763, "body": "Im writing my answer now, do not use the answer provided here it is wrong"}], "tags": [], "owner": {"reputation": 404, "user_id": 3971360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6173efb97486436b05a462e10514ad95?s=128&d=identicon&r=PG", "display_name": "Rishi Raj", "link": "https://stackoverflow.com/users/3971360/rishi-raj"}, "is_accepted": false, "score": 1, "last_activity_date": 1559158049, "creation_date": 1559158049, "answer_id": 56367293, "question_id": 56367095, "link": "https://stackoverflow.com/questions/56367095/mern-stack-using-redux-to-store-whether-user-is-logged-in-or-not/56367293#56367293", "title": "MERN Stack: Using Redux to store whether user is logged in or not", "body": "<p>It is advisable not to mix your backend routes with the reducer dispatch. I would suggest sending back a response <code>res.status(200).send({ loggedIn: true })</code> in your middleware. </p>\n\n<pre><code>// Checks if user is not logged in\nconst authCheck = (req, res, next) =&gt; {\n    if(!req.user) {\n      // If user is not logged in, redirect them to login page\n      res.redirect('/auth/login');\n    }\n    else {\n      res.status(200).send({ loggedIn: true })\n      next();\n    }\n};\n</code></pre>\n\n<p>The call to this middleware can then dispatch a success based on the response.</p>\n\n<pre><code> if (res.status === 200) {\n  dispatch(loggedIn(res.loggedIn));\n }\n else {\n  dispatch({ type: 'LOGIN_FAILED'})\n }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1065, "user_id": 3875620, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/mSL57.jpg?s=128&g=1", "display_name": "Nick Kinlen", "link": "https://stackoverflow.com/users/3875620/nick-kinlen"}, "edited": false, "score": 0, "creation_date": 1559159264, "post_id": 56367438, "comment_id": 99338107, "body": "I&#39;m a little foggy with Redux for sure. I&#39;m failing to understand how your solution communicates with Passport/the server to check whether the user is logged in or not."}, {"owner": {"reputation": 988, "user_id": 7355935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39a65e207ae676dadae460fe6905b465?s=128&d=identicon&r=PG&f=1", "display_name": "iqbal125", "link": "https://stackoverflow.com/users/7355935/iqbal125"}, "reply_to_user": {"reputation": 1065, "user_id": 3875620, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/mSL57.jpg?s=128&g=1", "display_name": "Nick Kinlen", "link": "https://stackoverflow.com/users/3875620/nick-kinlen"}, "edited": false, "score": 0, "creation_date": 1559159953, "post_id": 56367438, "comment_id": 99338366, "body": "updated my answer, let me know if you have any more questions"}], "tags": [], "owner": {"reputation": 988, "user_id": 7355935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39a65e207ae676dadae460fe6905b465?s=128&d=identicon&r=PG&f=1", "display_name": "iqbal125", "link": "https://stackoverflow.com/users/7355935/iqbal125"}, "is_accepted": false, "score": 0, "last_activity_date": 1559159931, "last_edit_date": 1559159931, "creation_date": 1559158809, "answer_id": 56367438, "question_id": 56367095, "link": "https://stackoverflow.com/questions/56367095/mern-stack-using-redux-to-store-whether-user-is-logged-in-or-not/56367438#56367438", "title": "MERN Stack: Using Redux to store whether user is logged in or not", "body": "<p>You should just handle your authentication state in your react frontend. Even if your are doing server side auth, its better to just have the authentication state saved in your React frontend with Redux. In your react app: </p>\n\n<p>You will also need to use the react-redux library to connect react with redux </p>\n\n<p>Actions</p>\n\n<pre><code>export const login_success = () =&gt; {\n  return {\n    type: ACTION_TYPES.LOGIN_SUCCESS\n  }\n}\n\nexport const login_failure = () =&gt; {\n  return {\n    type: ACTION_TYPES.LOGIN_FAILURE\n  }\n}\n</code></pre>\n\n<p>reducer: </p>\n\n<pre><code>const initialState = {\n  isAuthenticated: false,\n\n}\n\n\nconst AuthReducer = (state= initialState, action) =&gt; {\n  switch(action.type) {\n    case ACTION_TYPES.LOGIN_SUCCESS:\n      return {\n        ...state,\n        isAuthenticated: true\n      }\n    case ACTION_TYPES.LOGIN_FAILURE:\n      return {\n        ...state,\n        isAuthenticated: false\n      }\n}\n</code></pre>\n\n<p>Access the auth state with props</p>\n\n<pre><code> {this.props.isAuthenticated\n         ? &lt;h3&gt; user is logged in &lt;/h3&gt;\n         : &lt;h3&gt; user is not logged in &lt;/h3&gt;\n       }\n\nfunction mapStateToProps(state) {\n  return {\n     isAuthenticated: state.auth_reducer.isAuthenticated\n  }\n}\n</code></pre>\n\n<p>Implement this in a callback component that is rendered after the user signs in. </p>\n\n<pre><code>function mapDispatchToProps(dispatch) {\n  return {\n    action1: () =&gt; dispatch(ACTIONS.LOGIN_SUCCESS),\n  }\n}\n</code></pre>\n\n<p>If you want a fully functioning example of how to do this you can check out this project I built, it is a full stack react express app with authentication</p>\n\n<p><a href=\"https://github.com/iqbal125/react-redux-fullstack-blog\" rel=\"nofollow noreferrer\">https://github.com/iqbal125/react-redux-fullstack-blog</a> </p>\n\n<p>To give you some tough love, it seems to me you dont fully understand Redux, I would suggest mastering Redux before trying to build a complex full stack app, just a suggestion. </p>\n\n<p>Edit: </p>\n\n<p>Communication with server can be done with a proxy, so in your package.json in your react app you can do:</p>\n\n<pre><code>\"proxy\": http://localhost:5000\"\n</code></pre>\n\n<p>or wherever your node server is running. You can also just send back a server response to your React frontend, anything at all, then  update your React-Redux frontend based on that server response. </p>\n\n<p>So in your express server</p>\n\n<pre><code>router.get('api/login', (req, res) =&gt; { \n  if(res.login === true) { \n    res.json(success_login: true)\n  }\n})\n</code></pre>\n\n<p>then in your react frontend</p>\n\n<pre><code>axios.get('/api/login')\n  .then(res =&gt; this.props.login_success(res.data) )\n\nlogin_success(res) {\n  if(res.success_login === true) {\n    type: \"SUCCESS_LOGIN\"\n} \n</code></pre>\n\n<p>So essentially you will not handle any routing or redux authentication state in your express server. Your server will send a response to your react frontend and then the routing and redux authentication state will be handled by your frontend.  </p>\n"}], "owner": {"reputation": 1065, "user_id": 3875620, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/mSL57.jpg?s=128&g=1", "display_name": "Nick Kinlen", "link": "https://stackoverflow.com/users/3875620/nick-kinlen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1559159931, "creation_date": 1559157166, "question_id": 56367095, "link": "https://stackoverflow.com/questions/56367095/mern-stack-using-redux-to-store-whether-user-is-logged-in-or-not", "title": "MERN Stack: Using Redux to store whether user is logged in or not", "body": "<p>I'm new to backend programming and building my first full stack project and using Express/Mongoose/Mongo and Passport.js for the first time.</p>\n\n<p>I have built \"sign in with Github\" functionality and have everything with Passport set up. Now I want to use Redux to store whether or not a user is logged in. If the user is logged in I want to change my navigation bar i.e. if the user isn't logged in one link says \"log in\", but if the user is logged in the \"log in\" link changes to \"profile\".</p>\n\n<p>I know I can use the ternary operator in my React component to toggle the link depending on whether the user is logged in. </p>\n\n<p>How do I use Redux to store whether a user is logged in? Here's what I have so far:</p>\n\n<p>Redux action:</p>\n\n<pre><code>export function loggedIn() {\n    return {\n      type: \"LOGGED_IN\",\n      loggedIn: false\n    }\n};\n</code></pre>\n\n<p>Redux reducer: </p>\n\n<pre><code>export default function reducer(state = {\n  loggedIn: false\n}, action) {\n  switch(action.type) {\n    case \"LOGGED_IN\": {\n      return {\n        ...state,\n        loggedIn: true\n      }\n    }\n    case \"LOGGED_OUT\": {\n      return {\n        ...state,\n        loggedIn: false\n      }\n    }\n    default: return state;\n  }\n\n}\n</code></pre>\n\n<p>I'm my Express route I am using the following middleware:</p>\n\n<pre><code>// Checks if user is not logged in\nconst authCheck = (req, res, next) =&gt; {\n    if(!req.user) {\n      // If user is not logged in, redirect them to login page\n      res.redirect('/auth/login');\n    }\n    else {\n      // If user is logged in call next in router.get\n\n      // Would this be the proper place to dispatch to the Redux store \n      // whether a user is logged in?\n      dispatch(loggedIn(true));\n      // After updating the Redux store call next()\n      next();\n    }\n};\n</code></pre>\n\n<p>How can I properly store in state whether the user is logged in/out and then access this state in the React component so I can use the ternary operator to choose whether to display \"logged in\" or \"profile\" in my navigation bar?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 1886, "user_id": 8493521, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155601478282179/picture?type=large", "display_name": "Will Alexander", "link": "https://stackoverflow.com/users/8493521/will-alexander"}, "edited": false, "score": 0, "creation_date": 1559158254, "post_id": 56367067, "comment_id": 99337676, "body": "Is there anything preventing you from using reactive forms? They are far more flexible, and allow for properly dynamic forms."}], "answers": [{"tags": [], "owner": {"reputation": 4639, "user_id": 2216584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dca1683e1100877238b0eaa085639562?s=128&d=identicon&r=PG", "display_name": "user2216584", "link": "https://stackoverflow.com/users/2216584/user2216584"}, "is_accepted": false, "score": 0, "last_activity_date": 1559166106, "creation_date": 1559166106, "answer_id": 56368913, "question_id": 56367067, "link": "https://stackoverflow.com/questions/56367067/reference-input-ngmodel-to-object-in-ngfor-loop/56368913#56368913", "title": "Reference input ngModel to object in ngFor loop", "body": "<p>By creating fields array and having DataModel, you have disconnected the original \"obj\" with input. If you want to take this approach then do following [Or see the following stackblitz - <a href=\"https://stackblitz.com/edit/angular-pdpqog?file=app/app.component.ts]-\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-pdpqog?file=app/app.component.ts]-</a> </p>\n\n<pre><code>obj : any = {\n      FirstName:\"Taha\",\n      MiddleName:\"Faheem\",\n      LastName:\"Hussain\"\n  }\n\n  fields: any[] = [\n    {\n      \"FieldLabel\": \"Person Name\",\n      \"property\": 'FirstName',\n      \"value\": this.obj.FirstName\n    },\n    {\n      \"FieldLabel\": \"Current Address\",\n      \"property\": 'MiddleName',\n      \"value\": this.obj.MiddleName\n    } \n  ];\n\n  onChange($event, field) {\n    this.obj[field.property] = $event;\n  }\n\n&lt;div class=\"container\" fxLayout=\"column\" fxLayoutGap=\"10px\"&gt;\n  &lt;div *ngFor=\"let field of fields\"&gt;\n    &lt;input placeholder=\"{{field.FieldLabel | uppercase}}\" [ngModel]=\"field.value\" (ngModelChange)=\"onChange($event, field)\"&gt;\n  &lt;/div&gt;\n  &lt;div&gt;\n    &lt;input placeholder=\"Last Name\" [(ngModel)]=\"obj.LastName\"&gt;\n  &lt;/div&gt;\n  &lt;br&gt; {{obj|json}}\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 4464561, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SZ34t.jpg?s=128&g=1", "display_name": "Taha Hussain", "link": "https://stackoverflow.com/users/4464561/taha-hussain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 578, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559262207, "creation_date": 1559157036, "last_edit_date": 1559262207, "question_id": 56367067, "link": "https://stackoverflow.com/questions/56367067/reference-input-ngmodel-to-object-in-ngfor-loop", "title": "Reference input ngModel to object in ngFor loop", "body": "<p>I am trying to generate dynamic form using the array. In that array I am providing the FieldLabel &amp; DataModel.\nHere I want to use DataModel as the object reference. I want to update the referenced model when user update the value in Input Field.\nI have searched a lot but not able to find the solution yet.</p>\n\n<p>Is there any other way to achieve what I want?</p>\n\n<p>I have tried Iterating the model and used the DataModel attribute in [(ngModel)] but it is taking that as a STRING (which is valid)  but I don't want this. I want to reference the main object instead of taking that as a string.</p>\n\n<pre><code>obj : any = {\n      FirstName:\"Taha\",\n      MiddleName:\"Faheem\",\n      LastName:\"Hussain\",\n      Address:\n        {\n          CurrentAddress:\"USA\",\n          PermanentAddress:\"Pakistan\"\n        }\n  }\n\n  fields: any[] = [\n    {\n      \"FieldLabel\": \"First Name\",\n      \"DataModel\": \"obj.FirstName\"\n    },\n    {\n      \"FieldLabel\": \"Middle Name\",\n      \"DataModel\":\"obj.MiddleName\"\n    },\n    {\n      \"FieldLabel\": \"Current Address\",\n      \"DataModel\":\"obj.Address.CurrentAddress\"\n    }  \n  ];\n</code></pre>\n\n<pre><code>&lt;div class=\"container\" fxLayout=\"column\" fxLayoutGap=\"10px\"&gt;\n  &lt;div *ngFor=\"let field of fields\"&gt;\n    &lt;input placeholder=\"{{field.FieldLabel | uppercase}}\" [(ngModel)]=\"field.DataModel\"&gt;\n  &lt;/div&gt;\n  &lt;div&gt;\n    &lt;input placeholder=\"Last Name\" [(ngModel)]=\"obj.LastName\"&gt;\n  &lt;/div&gt;\n  &lt;br&gt; {{obj|json}}\n&lt;/div&gt;\n</code></pre>\n\n<p>I want to update the obj with the value user enter in ngFor input fields.</p>\n\n<p>I am working to generated the complete dynamic form along with the formula on each fields using this approach.\nIs there any better approach to get the desired result?</p>\n"}, {"tags": ["javascript", "variables"], "comments": [{"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 1, "creation_date": 1559157172, "post_id": 56367061, "comment_id": 99337273, "body": "<code>var x = player+p.x;</code>: <code>p.x</code> doesn&#39;t work because <code>p</code> is a numerical value, not an object. Also, you do not have any variable named <code>player</code>."}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "reply_to_user": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1559157402, "post_id": 56367061, "comment_id": 99337363, "body": "@Code-Apprentice I think OP&#39;s trying to access variables dynamically : <code>player+p</code> would be <code>player1</code> and <code>player1</code>&#39;s value is &quot;Red&quot;. Get <code>x</code> from <code>Red</code> object. Array or an object with each player as key is a better option"}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "reply_to_user": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1559157540, "post_id": 56367061, "comment_id": 99337414, "body": "@adiga Yah, I can see that. So probably means something more like <code>var x = &quot;player&quot; + p</code>. And then trying to use that as a variable name."}, {"owner": {"reputation": 1, "user_id": 11076344, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211286848641950/picture?type=large", "display_name": "Corentin Fleur", "link": "https://stackoverflow.com/users/11076344/corentin-fleur"}, "edited": false, "score": 0, "creation_date": 1559163010, "post_id": 56367061, "comment_id": 99339491, "body": "Yes that is what I&#39;m trying to do.. But then that variable x equals a string &quot;player1&quot; and not the variable player1 .. How can I do that ?"}], "answers": [{"tags": [], "owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "is_accepted": false, "score": 1, "last_activity_date": 1559157299, "creation_date": 1559157299, "answer_id": 56367131, "question_id": 56367061, "link": "https://stackoverflow.com/questions/56367061/combine-2-variables-to-declare-a-new-one/56367131#56367131", "title": "&quot;Combine&quot; 2 variables to declare a new one?", "body": "<p>You can use an array for what I think you want:</p>\n\n<pre><code>var players = [\"Red\", \"Blue\", \"Green\"];\nvar p = 1;\nconsole.log(players[p]);\n</code></pre>\n\n<p>If you need more info for each player, then this can be an array of objects:</p>\n\n<pre><code>var players = [{color: 'Red', x: 2, y: 3}, // etc]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1936, "user_id": 5568741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNja2.jpg?s=128&g=1", "display_name": "k3llydev", "link": "https://stackoverflow.com/users/5568741/k3llydev"}, "is_accepted": false, "score": 1, "last_activity_date": 1559157732, "creation_date": 1559157732, "answer_id": 56367230, "question_id": 56367061, "link": "https://stackoverflow.com/questions/56367061/combine-2-variables-to-declare-a-new-one/56367230#56367230", "title": "&quot;Combine&quot; 2 variables to declare a new one?", "body": "<p>You might be searching for an <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array\" rel=\"nofollow noreferrer\">array</a> of <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/global_objects/Object\" rel=\"nofollow noreferrer\">objects</a>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var players = [\r\n  {\r\n    name: \"Red\",\r\n    x: 2,\r\n    y: 4\r\n  },\r\n  {\r\n    name: \"Blue\",\r\n    x: 6,\r\n    y: 2\r\n  },\r\n  {\r\n    name: \"Green\",\r\n    x: 8,\r\n    y: 1\r\n  }\r\n];\r\n\r\nplayers.forEach((player,index)=&gt;{\r\n  console.log(`Player ${index+1} = ${player.name} position is = x:${player.x},y:${player.y}`);\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This way, you can access the element you want by doing: <code>players[index]</code>. And to get its properties, you just need to call it like this: <code>players[index].name</code> for the name.</p>\n"}], "owner": {"reputation": 1, "user_id": 11076344, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211286848641950/picture?type=large", "display_name": "Corentin Fleur", "link": "https://stackoverflow.com/users/11076344/corentin-fleur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1559157732, "creation_date": 1559157022, "question_id": 56367061, "link": "https://stackoverflow.com/questions/56367061/combine-2-variables-to-declare-a-new-one", "title": "&quot;Combine&quot; 2 variables to declare a new one?", "body": "<p>I am new to coding and I am trying to declare a variable that refers to 2 \"combined\" previously declared variables as followed : </p>\n\n<pre><code>var player1 = \"Red\", player2 = \"Blue\", player3 = \"Green\";\nvar p=1;\nvar Red = {x: 2, y: 4};\nvar Blue = {x: 6, y: 2};\nvar Green = {x: 8, y: 1};\n\nvar x = player+p.x; // should be player+1 so \"Red\" so x=2 \nvar y = player+p.y; // should be y=4\n\nconsole.log(x);\nconsole.log(y);\n</code></pre>\n\n<p>x and y should be the coordinates of player n\u00b0p depending on the color of that player (in this example player n\u00b01).</p>\n\n<p>I hope it's clear enough ! Thanks for your help !</p>\n"}, {"tags": ["javascript", "php", "html", "css", "laravel"], "comments": [{"owner": {"reputation": 51419, "user_id": 1213708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e617b05eacf75c49dcf76ebb312292ec?s=128&d=identicon&r=PG", "display_name": "Nigel Ren", "link": "https://stackoverflow.com/users/1213708/nigel-ren"}, "edited": false, "score": 5, "creation_date": 1559156794, "post_id": 56366994, "comment_id": 99337112, "body": "Does <code>value={{ $cooperado-&gt;nameCoop }}</code> need quotes round the value?"}, {"owner": {"reputation": 4383, "user_id": 3783243, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/b89762bdc855905a2b6a15c49ddeae73?s=128&d=identicon&r=PG&f=1", "display_name": "user3783243", "link": "https://stackoverflow.com/users/3783243/user3783243"}, "edited": false, "score": 3, "creation_date": 1559157583, "post_id": 56366994, "comment_id": 99337429, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3078192/how-to-set-html-value-attribute-with-spaces\">How to set HTML value attribute (with spaces)</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5536, "user_id": 3104359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hcMzy.png?s=128&g=1", "display_name": "ollieread", "link": "https://stackoverflow.com/users/3104359/ollieread"}, "is_accepted": true, "score": 1, "last_activity_date": 1559162377, "creation_date": 1559162377, "answer_id": 56368189, "question_id": 56366994, "link": "https://stackoverflow.com/questions/56366994/form-does-not-get-full-text-from-database/56368189#56368189", "title": "form does not get full text from database", "body": "<p>The problem is that the values should be surrounded by <code>\"</code>. See <a href=\"https://stackoverflow.com/questions/3078192/how-to-set-html-value-attribute-with-spaces\">this question</a>.</p>\n\n<p>In your code it should be</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>value=\"{{ $cooperado-&gt;nameCoop }}\"\n</code></pre>\n\n<p>and</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>value=\"{{ $cooperado-&gt;description }}\"\n</code></pre>\n\n<p>The <code>\"</code> characters tell the browser that the entire attribute value is enclosed between them. Without them, the browser doesn't know where the value ends and where the HTML attributes start.</p>\n"}], "owner": {"reputation": 99, "user_id": 11574621, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rTqEoyC-Nfg/AAAAAAAAAAI/AAAAAAAAAIU/VVke1XKVeDA/photo.jpg?sz=128", "display_name": "Jhonatan Mendes", "link": "https://stackoverflow.com/users/11574621/jhonatan-mendes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 56368189, "answer_count": 1, "score": 0, "last_activity_date": 1559162377, "creation_date": 1559156732, "last_edit_date": 1559157444, "question_id": 56366994, "link": "https://stackoverflow.com/questions/56366994/form-does-not-get-full-text-from-database", "title": "form does not get full text from database", "body": "<p>when i try to edit a record, my form does not receive the full text, for example, if in my database I have the string \"hello world\" in my edit form it will just show me \"hello\"<br>\nedit function</p>\n\n<pre><code>public function edit($id)\n{\n    $cooperado = Cooperado::find($id);\n\n    return view('cooperados.edit', compact('cooperado'));\n}\n</code></pre>\n\n<p>edit form</p>\n\n<pre><code>  &lt;form method=\"post\" action=\"{{ route('cooperados.update', $cooperado-&gt;id) }}\"&gt;\n    &lt;div class=\"form-group\"&gt;\n      &lt;label for=\"name\"&gt;Nome :&lt;/label&gt;\n      &lt;input type=\"text\" class=\"form-control\" name=\"nameCoop\" value={{ $cooperado-&gt;nameCoop }} /&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form-group\"&gt;\n      &lt;label for=\"description\"&gt;Observa\u00e7\u00f5es :&lt;/label&gt;\n      &lt;input type=\"text\" class=\"form-control\" name=\"description\" value={{ $cooperado-&gt;description }} /&gt;\n    &lt;/div&gt;\n  &lt;/form&gt;\n</code></pre>\n"}, {"tags": ["javascript", "php", "html"], "comments": [{"owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "edited": false, "score": 1, "creation_date": 1559156780, "post_id": 56366965, "comment_id": 99337106, "body": "That looks like exactly what you&#39;ve asked it to find. If you just want the id, then that is <code>caseid</code> in your JS function."}, {"owner": {"reputation": 2015, "user_id": 8010275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1nL3s.jpg?s=128&g=1", "display_name": "Ahmed Yousif", "link": "https://stackoverflow.com/users/8010275/ahmed-yousif"}, "edited": false, "score": 0, "creation_date": 1559160234, "post_id": 56366965, "comment_id": 99338470, "body": "your script tag not formatted properly it has to be  &lt;script&gt;&lt;/script&gt; your closing script tag not right"}, {"owner": {"reputation": 2015, "user_id": 8010275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1nL3s.jpg?s=128&g=1", "display_name": "Ahmed Yousif", "link": "https://stackoverflow.com/users/8010275/ahmed-yousif"}, "edited": false, "score": 0, "creation_date": 1559160513, "post_id": 56366965, "comment_id": 99338583, "body": "@M. Tesrak check following link for id naming <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/&zwnj;&#8203;id</a>"}], "answers": [{"tags": [], "owner": {"reputation": 227, "user_id": 3899363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQTkz.jpg?s=128&g=1", "display_name": "Fabio William Concei&#231;&#227;o", "link": "https://stackoverflow.com/users/3899363/fabio-william-concei%c3%a7%c3%a3o"}, "is_accepted": false, "score": 0, "last_activity_date": 1559156791, "creation_date": 1559156791, "answer_id": 56367008, "question_id": 56366965, "link": "https://stackoverflow.com/questions/56366965/get-selected-option-id-from-populated-list/56367008#56367008", "title": "Get selected option ID from populated list", "body": "<p>maybe this is could help you:</p>\n\n<pre><code>&lt;script&gt;\n    function updateImage(caseid) {\n\n        const selectmenuID = document.getElementById(caseid);\n        const id  = selectmenuID.options[e.selectmenuID].value;\n\n        // console your answer\n        console.log(id);\n    }\n&lt;script&gt;\n</code></pre>\n\n<p>This is the best way using javascript.</p>\n"}, {"tags": [], "owner": {"reputation": 1936, "user_id": 5568741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNja2.jpg?s=128&g=1", "display_name": "k3llydev", "link": "https://stackoverflow.com/users/5568741/k3llydev"}, "is_accepted": true, "score": 0, "last_activity_date": 1559156895, "creation_date": 1559156895, "answer_id": 56367028, "question_id": 56366965, "link": "https://stackoverflow.com/questions/56366965/get-selected-option-id-from-populated-list/56367028#56367028", "title": "Get selected option ID from populated list", "body": "<p>Your code is right. The only fact about it is that you are logging in console the DOM element, not the parameter you recive <code>caseid</code> which value is the ID attribute of the element.</p>\n\n<p><strong>Look at an example:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function updateImage(caseid) {\r\n  var selectmenuID = document.getElementById(caseid);\r\n  console.log(`Clicked on radio input with id:${caseid}`);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ul id=\"radio\" class=\"input-list\"&gt;\r\n\r\n  &lt;li&gt;\r\n    &lt;input class=\"selectedoptions\" id=\"1\" name=\"config-case\" value=\"'.$case_price.'\" type=\"radio\" onchange=\"updateImage(this.id);\"&gt;\r\n    &lt;label class=\"sub-label\" for=\"'.$case_id.'\"&gt;Element with ID 1&lt;/label&gt;\r\n  &lt;/li&gt;\r\n  \r\n  &lt;li&gt;\r\n    &lt;input class=\"selectedoptions\" id=\"2\" name=\"config-case\" value=\"'.$case_price.'\" type=\"radio\" onchange=\"updateImage(this.id);\"&gt;\r\n    &lt;label class=\"sub-label\" for=\"'.$case_id.'\"&gt;Element with ID 2&lt;/label&gt;\r\n  &lt;/li&gt;\r\n  \r\n  &lt;li&gt;\r\n    &lt;input class=\"selectedoptions\" id=\"3\" name=\"config-case\" value=\"'.$case_price.'\" type=\"radio\" onchange=\"updateImage(this.id);\"&gt;\r\n    &lt;label class=\"sub-label\" for=\"'.$case_id.'\"&gt;Element with ID 3&lt;/label&gt;\r\n  &lt;/li&gt;\r\n\r\n&lt;/ul&gt;\r\n\r\n&lt;input class=\"selectedoptions\" id=\"32\" name=\"config-case\" value=\"24\"\r\ntype=\"radio\" onchange=\"updateImage(this.id);\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10208257"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 56367028, "answer_count": 2, "score": 0, "last_activity_date": 1559156895, "creation_date": 1559156544, "question_id": 56366965, "link": "https://stackoverflow.com/questions/56366965/get-selected-option-id-from-populated-list", "title": "Get selected option ID from populated list", "body": "<p>I have a radiobutton list that is populated from MySQL. A function to be called when the selected radiobutton changes. I would like to be get the ID of the selected item.</p>\n\n<pre><code> &lt;ul id=\"radio\" class=\"input-list\"&gt;\n&lt;?php\n$stmt = mysqli_prepare($link, \"SELECT id, name, price FROM cases ORDER BY price\");\n$stmt-&gt;execute();\n$stmt-&gt;bind_result($case_id, $case_name, $case_price);\nwhile($stmt-&gt;fetch()) {\necho '&lt;li&gt;\n&lt;input class=\"selectedoptions\" id=\"'.$case_id.'\" name=\"config-case\" value=\"'.$case_price.'\" type=\"radio\" onchange=\"updateImage(this.id);\"&gt;\n&lt;label class=\"sub-label\" for=\"'.$case_id.'\"&gt;'.$case_name.'         [\u00a3'.$case_price.']&lt;/label&gt;\n&lt;/li&gt;';\n}\n$stmt-&gt;close();\n&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>&lt;script&gt;\n\n    function updateImage(caseid) {\n\n        var selectmenuID = document.getElementById(caseid);\n        console.log(selectmenuID);\n    }\n\n&lt;script&gt;\n</code></pre>\n\n<p>Attempting to get the id of the selected item is not successful. This is the console output:</p>\n\n<pre><code>&lt;input class=\"selectedoptions\" id=\"32\" name=\"config-case\" value=\"24\"\ntype=\"radio\" onchange=\"updateImage(this.id);\"&gt;\n</code></pre>\n\n<p>I would like to get the 32 (the id). How can I do this? Thank you,</p>\n"}, {"tags": ["javascript", "angularjs"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 8379502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dbd2c4c133e0f5f9d3a43bf6cb36b10?s=128&d=identicon&r=PG&f=1", "display_name": "Abhijeet Choudhari", "link": "https://stackoverflow.com/users/8379502/abhijeet-choudhari"}, "edited": false, "score": 0, "creation_date": 1559157708, "post_id": 56367024, "comment_id": 99337484, "body": "it is giving below error angular.min.js:107 TypeError: x.match is not a function     at dashboard-acquisition.component.js:45     at Array.filter (&lt;anonymous&gt;)     at r.licensorSearch (dashboard-acquisition.component.js:45)     at fn (eval at compile (angular.min.js:1), &lt;anonymous&gt;:4:233)     at pagination.directive.js:72     at r.$eval (angular.min.js:133)     at r.$apply (angular.min.js:134)     at HTMLInputElement.&lt;anonymous&gt; (pagination.directive.js:70)     at HTMLInputElement.dispatch (jquery-1.10.2.min.js:5)     at HTMLInputElement.v.handle (jquery-1.10.2.min.js:5)"}, {"owner": {"reputation": 1532, "user_id": 4686454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MM3Ef.jpg?s=128&g=1", "display_name": "jakemingolla", "link": "https://stackoverflow.com/users/4686454/jakemingolla"}, "reply_to_user": {"reputation": 55, "user_id": 8379502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dbd2c4c133e0f5f9d3a43bf6cb36b10?s=128&d=identicon&r=PG&f=1", "display_name": "Abhijeet Choudhari", "link": "https://stackoverflow.com/users/8379502/abhijeet-choudhari"}, "edited": false, "score": 0, "creation_date": 1559157772, "post_id": 56367024, "comment_id": 99337505, "body": "woops, forgot to make the match based on the <code>ID</code> property - I&#39;ve edited the answer"}, {"owner": {"reputation": 55, "user_id": 8379502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dbd2c4c133e0f5f9d3a43bf6cb36b10?s=128&d=identicon&r=PG&f=1", "display_name": "Abhijeet Choudhari", "link": "https://stackoverflow.com/users/8379502/abhijeet-choudhari"}, "edited": false, "score": 0, "creation_date": 1559157996, "post_id": 56367024, "comment_id": 99337569, "body": "resolved...just replaced x.match() to x.Title.match() and it is working as expected. Thank you so much for the help :)"}], "tags": [], "owner": {"reputation": 1532, "user_id": 4686454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MM3Ef.jpg?s=128&g=1", "display_name": "jakemingolla", "link": "https://stackoverflow.com/users/4686454/jakemingolla"}, "is_accepted": true, "score": 2, "last_activity_date": 1559157758, "last_edit_date": 1559157758, "creation_date": 1559156873, "answer_id": 56367024, "question_id": 56366962, "link": "https://stackoverflow.com/questions/56366962/how-to-extract-the-property-from-array-of-objects-matching-the-specific-characte/56367024#56367024", "title": "How to extract the property from array of objects matching the specific characters (contains query)", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/@@match\" rel=\"nofollow noreferrer\">regular expressions</a> as well as <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\">Array methods</a> to match the character search:</p>\n\n<pre><code>const arr = [{ ID: 3, Title: 'License 1' }, ... ];\nconst query = 'lic';\nconst reg = new RegExp('.*' + query + '.*', 'gi');\n\narr.filter((x) =&gt; x.ID.match(reg)).map((x) =&gt; x.ID);\n// [3, 4, 36, 37, ...]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1532, "user_id": 4686454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MM3Ef.jpg?s=128&g=1", "display_name": "jakemingolla", "link": "https://stackoverflow.com/users/4686454/jakemingolla"}, "edited": false, "score": 0, "creation_date": 1559156935, "post_id": 56367025, "comment_id": 99337172, "body": "Does this provide the matching criteria described in the original post?"}, {"owner": {"reputation": 322, "user_id": 2365461, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a096b32976135c76c630d0a647095e0e?s=128&d=identicon&r=PG", "display_name": "misteroptimist", "link": "https://stackoverflow.com/users/2365461/misteroptimist"}, "reply_to_user": {"reputation": 1532, "user_id": 4686454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MM3Ef.jpg?s=128&g=1", "display_name": "jakemingolla", "link": "https://stackoverflow.com/users/4686454/jakemingolla"}, "edited": false, "score": 0, "creation_date": 1559157033, "post_id": 56367025, "comment_id": 99337210, "body": "I misread his initial question, as it wasn&#39;t very clear upon first glance. I&#39;m not sure the immediate downvote was necessary. I&#39;ll adjust the answer."}], "tags": [], "owner": {"reputation": 322, "user_id": 2365461, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a096b32976135c76c630d0a647095e0e?s=128&d=identicon&r=PG", "display_name": "misteroptimist", "link": "https://stackoverflow.com/users/2365461/misteroptimist"}, "is_accepted": false, "score": 0, "last_activity_date": 1559157161, "last_edit_date": 1559157161, "creation_date": 1559156882, "answer_id": 56367025, "question_id": 56366962, "link": "https://stackoverflow.com/questions/56366962/how-to-extract-the-property-from-array-of-objects-matching-the-specific-characte/56367025#56367025", "title": "How to extract the property from array of objects matching the specific characters (contains query)", "body": "<p>A simple loop through the array and add the items to a new array.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  var i;\r\n    var array = [{ID: 3, Title: \"License 1\"},\r\n    {ID: 4, Title: \"License 2\"},\r\n    {ID: 36, Title: \"License 3\"},\r\n    {ID: 37, Title: \"License 4\"},\r\n    {ID: 38, Title: \"sense 4\"}]\r\n\r\n\r\n    var lic = [];\r\n\r\n    for (i = 0;i &lt; array.length; i++){\r\n        lic.push(array[i].ID);\r\n    }\r\n\r\n    console.log(lic);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 55, "user_id": 8379502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dbd2c4c133e0f5f9d3a43bf6cb36b10?s=128&d=identicon&r=PG&f=1", "display_name": "Abhijeet Choudhari", "link": "https://stackoverflow.com/users/8379502/abhijeet-choudhari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 56367024, "answer_count": 2, "score": 2, "last_activity_date": 1559157758, "creation_date": 1559156517, "question_id": 56366962, "link": "https://stackoverflow.com/questions/56366962/how-to-extract-the-property-from-array-of-objects-matching-the-specific-characte", "title": "How to extract the property from array of objects matching the specific characters (contains query)", "body": "<p>I have any array of object having properties id and title.I want to get the ids of all objects which contains the characters entered by user in title properties</p>\n\n<pre><code>&gt;[{ID: 3, Title: \"License 1\"},\n{ID: 4, Title: \"License 2\"},\n{ID: 36, Title: \"License 3\"},\n{ID: 37, Title: \"License 4\"},\n{ID: 38, Title: \"sense 4\"}]\n</code></pre>\n\n<p>this the sample array if user enters lic it should return me n array \na=[3,4,36,37]</p>\n"}, {"tags": ["javascript", "jquery", "menu"], "comments": [{"owner": {"reputation": 20731, "user_id": 2181514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pS2Yo.jpg?s=128&g=1", "display_name": "freedomn-m", "link": "https://stackoverflow.com/users/2181514/freedomn-m"}, "edited": false, "score": 1, "creation_date": 1559158834, "post_id": 56366909, "comment_id": 99337917, "body": "I suggest simply not using an anchor and use a <code>span</code>.  Change your menu css/js to handle <code>span</code> for the sub-menu along with <code>a</code>"}, {"owner": {"reputation": 45386, "user_id": 1264804, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/oYX71.png?s=128&g=1", "display_name": "isherwood", "link": "https://stackoverflow.com/users/1264804/isherwood"}, "edited": false, "score": 0, "creation_date": 1559160075, "post_id": 56366909, "comment_id": 99338409, "body": "I agree with freedomn-m. It&#39;s an accessibility and semantics faux pas to use anchors where they don&#39;t act as such (or any element, really)."}, {"owner": {"reputation": 45386, "user_id": 1264804, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/oYX71.png?s=128&g=1", "display_name": "isherwood", "link": "https://stackoverflow.com/users/1264804/isherwood"}, "edited": false, "score": 0, "creation_date": 1559160679, "post_id": 56366909, "comment_id": 99338650, "body": "Your question isn&#39;t about stopping anchor behavior. It&#39;s about selecting particular anchors. You should revise to clarify that."}, {"owner": {"reputation": 11, "user_id": 9885547, "user_type": "registered", "profile_image": "https://graph.facebook.com/2079616655695038/picture?type=large", "display_name": "Ohi Chowdhury", "link": "https://stackoverflow.com/users/9885547/ohi-chowdhury"}, "edited": false, "score": 0, "creation_date": 1559211380, "post_id": 56366909, "comment_id": 99353350, "body": "it will be dificult when i went to convert that into wordpress.thats why u know."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9885547, "user_type": "registered", "profile_image": "https://graph.facebook.com/2079616655695038/picture?type=large", "display_name": "Ohi Chowdhury", "link": "https://stackoverflow.com/users/9885547/ohi-chowdhury"}, "edited": false, "score": 0, "creation_date": 1559211471, "post_id": 56367572, "comment_id": 99353385, "body": "is this selecting only first anchor tag of li? i mean li.sub-menu&gt;a?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 11, "user_id": 9885547, "user_type": "registered", "profile_image": "https://graph.facebook.com/2079616655695038/picture?type=large", "display_name": "Ohi Chowdhury", "link": "https://stackoverflow.com/users/9885547/ohi-chowdhury"}, "edited": false, "score": 0, "creation_date": 1559229961, "post_id": 56367572, "comment_id": 99362613, "body": "It selects all the anchors that are direct children of <code>li</code>, but not the ones nested more deeply."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 2, "last_activity_date": 1559159414, "creation_date": 1559159414, "answer_id": 56367572, "question_id": 56366909, "link": "https://stackoverflow.com/questions/56366909/how-can-i-select-elements-having-specific-siblings/56367572#56367572", "title": "How can I select elements having specific siblings?", "body": "<p>You can write a selector for <code>a</code> that's a child of an <code>li</code> that has a submenu.</p>\n\n<pre><code>$(\"li:has(ul) &gt; a\").click(function(e) {\n    e.preventDefault();\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25, "user_id": 11551700, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YQZZEwFoSvQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd4gHAGByyaILXBYn2iN25NJICoZw/mo/photo.jpg?sz=128", "display_name": "sebastian lavenant", "link": "https://stackoverflow.com/users/11551700/sebastian-lavenant"}, "is_accepted": false, "score": 0, "last_activity_date": 1559160283, "creation_date": 1559160283, "answer_id": 56367752, "question_id": 56366909, "link": "https://stackoverflow.com/questions/56366909/how-can-i-select-elements-having-specific-siblings/56367752#56367752", "title": "How can I select elements having specific siblings?", "body": "<p>Another approach would be to not include the <code>&lt;a&gt;</code> tag in general. Just write the the text \"Categories\" within the <code>&lt;li class=\"sub-menu&gt;</code> and it will display in menu as normal. \nExample: </p>\n\n<pre><code>&lt;li class=\"sub-menu\"&gt;\n       &lt;span&gt;Categories&lt;/span&gt;\n       &lt;i class=\"arrow fa fa-angle-right pull-right\"&gt;&lt;/i&gt;\n     &lt;ul&gt;\n       &lt;li&gt;......\n</code></pre>\n\n<p>Although you would need to add CSS if you want the cursor to change or if you want the text to be underlined for your <code>&lt;span&gt;</code> etc...</p>\n"}, {"tags": [], "owner": {"reputation": 475, "user_id": 3787786, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RvgPP.jpg?s=128&g=1", "display_name": "Rakesh", "link": "https://stackoverflow.com/users/3787786/rakesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1559192214, "creation_date": 1559192214, "answer_id": 56371862, "question_id": 56366909, "link": "https://stackoverflow.com/questions/56366909/how-can-i-select-elements-having-specific-siblings/56371862#56371862", "title": "How can I select elements having specific siblings?", "body": "<p>You can also try this. </p>\n\n<pre><code>$(\"li\").find(\"ul &gt; a\").click(function(e) {\n    e.preventDefault();\n});\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9885547, "user_type": "registered", "profile_image": "https://graph.facebook.com/2079616655695038/picture?type=large", "display_name": "Ohi Chowdhury", "link": "https://stackoverflow.com/users/9885547/ohi-chowdhury"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1559192214, "creation_date": 1559156241, "last_edit_date": 1559160362, "question_id": 56366909, "link": "https://stackoverflow.com/questions/56366909/how-can-i-select-elements-having-specific-siblings", "title": "How can I select elements having specific siblings?", "body": "<p>How can I prevent anchor (<code>&lt;a&gt;</code>) tag from doing nothing if <code>li</code> has <code>ul</code> according to the following code:</p>\n\n<pre><code>&lt;aside class=\"sidebar\"&gt;\n &lt;div id=\"leftside-navigation\" class=\"nano\"&gt;\n  &lt;ul class=\"nano-content\"&gt;\n   &lt;li&gt;\n    &lt;a href=\"index.html\"&gt;\n      &lt;span&gt;Home&lt;/span&gt;\n    &lt;/a&gt;\n   &lt;/li&gt;\n   &lt;li class=\"sub-menu\"&gt;\n     &lt;a href=\"javascript:void(0);\"&gt; \n       &lt;span&gt;Categories&lt;/span&gt;\n       &lt;i class=\"arrow fa fa-angle-right pull-right\"&gt;&lt;/i&gt;\n     &lt;/a&gt;\n     &lt;ul&gt;\n       &lt;li&gt;\n         &lt;a href=\"index.html\"&gt;\n           &lt;span&gt;Home&lt;/span&gt;\n         &lt;/a&gt;\n       &lt;/li&gt;\n       &lt;li&gt;\n         &lt;a href=\"index.html\"&gt;\n           &lt;span&gt;Lifestyles&lt;/span&gt;\n         &lt;/a&gt;\n       &lt;/li&gt;\n       &lt;li&gt;\n         &lt;a href=\"index.html\"&gt;\n           &lt;span&gt;Technology&lt;/span&gt;\n         &lt;/a&gt;\n        &lt;/li&gt;\n      &lt;/ul&gt;\n    &lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p>I've tried to put <code>javascript:void(0)</code> - it works but I wanted to make it with if else statement or any other way.</p>\n\n<p>I wanted to do that is:</p>\n\n<ul>\n<li>if <code>li.submenu</code> has <code>ul</code> <code>li.has-submenu</code> <code>a</code> prevent default</li>\n</ul>\n"}, {"tags": ["javascript", "html", "reactjs"], "comments": [{"owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "edited": false, "score": 0, "creation_date": 1559157014, "post_id": 56366892, "comment_id": 99337203, "body": "your <code>BlockList</code> indeed only ever has a single block in it. I don&#39;t have time now to figure out and type up a full working code snippet, but what you&#39;ll need to do is pass in an array of block ids to this component (and add to this each time the appropriate action happens), and <code>map</code> over that to render multiple <code>Block</code> components."}], "answers": [{"tags": [], "owner": {"reputation": 115, "user_id": 8115311, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jHWqK.jpg?s=128&g=1", "display_name": "DanBonehill", "link": "https://stackoverflow.com/users/8115311/danbonehill"}, "is_accepted": true, "score": 2, "last_activity_date": 1559157034, "creation_date": 1559157034, "answer_id": 56367064, "question_id": 56366892, "link": "https://stackoverflow.com/questions/56366892/how-to-render-a-react-component-multiple-times-but-each-time-with-an-updated-sta/56367064#56367064", "title": "How to render a React component multiple times but each time with an updated State?", "body": "<p>I've just had a quick look through. So each time you press the button in App.js you're adding 1 to <code>blockno</code> in the state. This is just a number so that number is just being updated and passed down into Block.js</p>\n\n<p>If you want to display multiple blocks you need to create an array that you can iterate over and display a Block component for each block.</p>\n\n<p>Essentially you're state needs to be something like this:</p>\n\n<pre><code>blocks: [{ block data here }]\n</code></pre>\n\n<p>onButtonClick then needs to add an object to that array. Then you can pass that array down to BlockList and you can iterate over it there.</p>\n\n<p>BlockList then looks something like this:</p>\n\n<pre><code>{blocks.map(block =&gt; (\n  &lt;Block data={block.data} /&gt;\n))}\n</code></pre>\n\n<p>Does that make sense?</p>\n"}, {"tags": [], "owner": {"reputation": 309, "user_id": 7719093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46477400284bf9219b4785c94d875a8?s=128&d=identicon&r=PG&f=1", "display_name": "jimmy5312", "link": "https://stackoverflow.com/users/7719093/jimmy5312"}, "is_accepted": false, "score": 0, "last_activity_date": 1559157622, "creation_date": 1559157622, "answer_id": 56367209, "question_id": 56366892, "link": "https://stackoverflow.com/questions/56366892/how-to-render-a-react-component-multiple-times-but-each-time-with-an-updated-sta/56367209#56367209", "title": "How to render a React component multiple times but each time with an updated State?", "body": "<p>As DanBonehill's answer, you need an array to store the blocks</p>\n\n<p>App.js</p>\n\n<pre><code>constructor() {\n  super();\n  console.log('constructor invoked')\n  this.state = {\n    // To store the list of blocks\n    blocks: [],\n\n  }\n}\n\nonButtonClick = (event) =&gt; {\n  console.log('onButtonClick invoked')\n  let blocks = this.state.blocks\n\n  // Create a new block with current data and time\n  blocks.push({data: this.state.Data, time: Date.time()})\n  this.setState({blocks})  \n}\n\nrender() {\n    // other stuff here\n    {\n          this.state.blocks.length &gt; 0\n          ?\n            &lt;div&gt;\n              &lt;BlockList blocks={this.state.blocks} /&gt;\n            &lt;/div&gt;\n          : ''          \n        }\n}\n</code></pre>\n\n<p>BlockList.js</p>\n\n<pre><code>const BlockList = ({blocks,Data,isBlockUpdated}) =&gt; {\n    // other stuff here\n\n\n    return(\n        &lt;div&gt;\n            {blocks.map((block, index) =&gt; &lt;BlockItem {...block} blockno={index} /&gt;)}\n        &lt;/div&gt;\n    );\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 10700024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b05dba6fed875271bcf01affc5c26f4?s=128&d=identicon&r=PG&f=1", "display_name": "Sidharth", "link": "https://stackoverflow.com/users/10700024/sidharth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 782, "favorite_count": 0, "accepted_answer_id": 56367064, "answer_count": 2, "score": 0, "last_activity_date": 1559157622, "creation_date": 1559156153, "question_id": 56366892, "link": "https://stackoverflow.com/questions/56366892/how-to-render-a-react-component-multiple-times-but-each-time-with-an-updated-sta", "title": "How to render a React component multiple times but each time with an updated State?", "body": "<p>So I am working on a react project. I have a text area where I enter data and then that data is hashed and a Block with the Block number, hashed data and time is rendered on the screen whenever a button is clicked. However, when I enter the data again and hit the button again, it just rerenders the block as block number 2. I want the previous block to remain on screen and a new block to be rendered below the previous block whenever I click the button. How do I solve this? I have tried a lot but nothing seems to work. I am in the learning stages of react so please excuse me if this question seems trivial.</p>\n\n<p>App.js</p>\n\n<pre><code>import React, {Component} from 'react';\nimport BlockList from './BlockList.js';\nimport InputText from './InputText.js';\nimport Button from './Button.js';\n\nconstructor() {\n  super();\n  console.log('constructor invoked')\n  this.state = {\n    blockno:0,\n    Data:'',\n    hash:'',\n    showDiv: false\n\n  }\n\nonButtonClick = (event) =&gt; {\n  console.log('onButtonClick invoked')\n  this.setState({blockno: this.state.blockno + 1, showDiv: true})  \n}\n\n}\n\nrender() {\n\n  return(\n    &lt;div&gt;\n&lt;InputText onSearchChange={this.OnSearchChange}/&gt;\n&lt;Button onButtonClick={this.onButtonClick} /&gt;\n       {\n          this.state.showDiv\n          ?\n            &lt;div&gt;\n\n              &lt;BlockList blockno={this.state.blockno} Data={this.state.Data} /&gt;\n\n            &lt;/div&gt;\n          : ''          \n        }\n\n\n\n    &lt;/div&gt;\n    );\n}\n\n}\n\nexport default App;\n\n\n</code></pre>\n\n<p>Block.js</p>\n\n<pre><code>import React from 'react';\nimport SHA256 from 'sha256-es';\n\nconst Block = ({blockno,Data}) =&gt; {\n\n\n\n\n        const hashdata = () =&gt;{\n            return(\n                SHA256.hash(Data)\n                );\n            }\nvar today = new Date();\nvar dd = String(today.getDate()).padStart(2, '0');\nvar mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\nvar yyyy = today.getFullYear();\n\ntoday = mm + '/' + dd + '/' + yyyy;\nreturn(\n&lt;div className=\"tc ws-pre\"&gt;\n    &lt;h1 className=\"underline\"&gt;Block {blockno}&lt;/h1&gt;\n    &lt;h2&gt;Data: {Data}&lt;/h2&gt;\n    &lt;h2&gt;Hash: {hashdata()}&lt;/h2&gt;\n    &lt;h2&gt;Date: {today}&lt;/h2&gt;\n&lt;/div&gt;\n\n\n\n\n        );\n\n\n}\n\nexport default Block\n</code></pre>\n\n<p>BlockList.js</p>\n\n<pre><code>import React from 'react';\nimport Block from './Block.js';\n\n\nconst BlockList = ({blockno,Data,isBlockUpdated}) =&gt; {\n\n    const BlockItems = () =&gt; {\n        return(\n            &lt;div&gt;\n                {console.log('A block item is now returned')}\n                &lt;Block blockno={blockno} Data={Data} /&gt;\n            &lt;/div&gt;  \n            );\n    }\n\nreturn(\n\n&lt;div&gt;\n\n    &lt;BlockItems /&gt;\n\n\n&lt;/div&gt;\n\n    );\n\n}\n\nexport default BlockList\n\n</code></pre>\n\n<p>I want to display a new block below the previous one every time I click the button.</p>\n"}, {"tags": ["javascript", "html", "angularjs"], "comments": [{"owner": {"reputation": 298, "user_id": 3484149, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b3c119934d8287002976700b37b8e4d7?s=128&d=identicon&r=PG&f=1", "display_name": "Sunny", "link": "https://stackoverflow.com/users/3484149/sunny"}, "edited": false, "score": 0, "creation_date": 1559155802, "post_id": 56366783, "comment_id": 99336703, "body": "Share your code please"}, {"owner": {"reputation": 2392, "user_id": 7843828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yELn9.jpg?s=128&g=1", "display_name": "Alok Mali", "link": "https://stackoverflow.com/users/7843828/alok-mali"}, "edited": false, "score": 0, "creation_date": 1559155842, "post_id": 56366783, "comment_id": 99336719, "body": "can you explain more ? or can you please provide your code here."}, {"owner": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "edited": false, "score": 0, "creation_date": 1559155851, "post_id": 56366783, "comment_id": 99336724, "body": "Awesome, go build it. Come back if you run into problems."}], "answers": [{"tags": [], "owner": {"reputation": 298, "user_id": 3484149, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b3c119934d8287002976700b37b8e4d7?s=128&d=identicon&r=PG&f=1", "display_name": "Sunny", "link": "https://stackoverflow.com/users/3484149/sunny"}, "is_accepted": false, "score": 0, "last_activity_date": 1559156959, "creation_date": 1559156959, "answer_id": 56367044, "question_id": 56366783, "link": "https://stackoverflow.com/questions/56366783/ng-model-between-two-text-box-should-work-based-on-checkbox-input/56367044#56367044", "title": "ng-model between two text box should work based on checkbox input", "body": "<p>Keep ng-model for both password as different as in code below. Use checkbox value if it is true then you can give moodle password value to fcfs password like</p>\n\n<pre><code>Registration number : &lt;input type=\"text\" ng-model=\"regno\"/&gt;\nMoodle Password : &lt;input type=\"text\" ng-model=\"modpass\"/&gt;\nFfcs Password : &lt;input type=\"text\" ng-model=\"fcfs\"/&gt;\nSame password for both : &lt;input type=\"checkbox\" ng-model=\"chkbox\"/&gt;\n\nif($scope.chkbox){\n    $scope.fcfs = $scope.modpass\n}\n</code></pre>\n\n<p>Or you can use $watch on Moodle password model.</p>\n"}], "owner": {"reputation": 7, "user_id": 10328006, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oAbMvcIvPYM/AAAAAAAAAAI/AAAAAAAABxY/LO6sTrgP4gk/photo.jpg?sz=128", "display_name": "Bala Kumar", "link": "https://stackoverflow.com/users/10328006/bala-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1559156959, "creation_date": 1559155592, "last_edit_date": 1559156606, "question_id": 56366783, "link": "https://stackoverflow.com/questions/56366783/ng-model-between-two-text-box-should-work-based-on-checkbox-input", "title": "ng-model between two text box should work based on checkbox input", "body": "<p>I am building an UI page, the form consists of 2 textbox and a checkbox, if the checkbox is true the content of both textbox should be updated to each other immediately.</p>\n\n<p>Code sample\n\"</p>\n\n<p></p>\n\n<pre><code>Registration number :\n\n&lt;input type=\"text\" name=\"usr\" id=\"usr\" style=\"width:200px\" value=\"{{usr}}\" required=\"required\"&gt; &lt;br&gt;\n\nMoodle Password :\n\n&lt;input type=\"password\" name=\"pwd\" ng-model=\"pwd2\" value=\"{{pwd}}\" id=\"pwd\" style=\"width:200px\"&gt; &lt;br&gt;\n\nFfcs Password :\n\n&lt;input type=\"password\" name=\"ffcs_pwd\" ng-model=\"ffcs_pwd2\" value=\"{{ffcs_pwd}}\" id=\"ffcs_pwd\" style=\"width:200px\"&gt;\n&lt;br&gt;\n\n&lt;input type=\"checkbox\" name=\"same\" id=\"same\" unchecked&gt; \n Same password for both \n &lt;br&gt;\n\n&lt;input type=\"submit\" value=\"Log In\"&gt;\n</code></pre>\n\n<p>\"</p>\n"}, {"tags": ["javascript", "function", "nightwatch.js"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 12308972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ef8d3f2617658691bca28e689010d8e?s=128&d=identicon&r=PG&f=1", "display_name": "lunar_recon", "link": "https://stackoverflow.com/users/12308972/lunar-recon"}, "is_accepted": false, "score": 1, "last_activity_date": 1572627852, "creation_date": 1572627852, "answer_id": 58663107, "question_id": 56366765, "link": "https://stackoverflow.com/questions/56366765/use-of-windowhandles-within-nightwatch-page-objects/58663107#58663107", "title": "Use of windowHandles within Nightwatch Page Objects", "body": "<p>From what I can tell, the issue you're running into is that the <code>.windowHandles</code> command requires the <code>this.api</code> instead of just <code>this</code>, and since it's being called within the <code>.waitForElementVisible</code> callback function, it inherits <code>this</code>. So, one thing you could try is to put the <code>.windowHandles</code> command inside of a <code>.click</code> callback function like so:</p>\n\n<pre><code>var verifyHomepage = {\n    verifyPrivacy: function () {\n        return this.waitForElementVisible('body', 20000)\n            .click('@privacyLink', function () {\n                this.api.windowHandles(function (result) {\n                var handle = result.value[1];\n                this.switchWindow(handle, function () {\n                    this.waitForElementVisible('body', 20000)\n                    .assert.urlContains('/regression/en-us/PrivacyStatement')\n                    .assert.containsText('@privacyHeader', 'Privacy Statement');\n               });\n            })\n        })  \n    }\n};\n</code></pre>\n\n<p>I also recommend moving the commands running against the new page into the <code>.switchWindow</code> callback like I show, since you may run into issues with them trying to reference the original window handle otherwise.</p>\n"}], "owner": {"reputation": 1, "user_id": 11574614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cb739441fe9f85c96116a0ce44c232b?s=128&d=identicon&r=PG&f=1", "display_name": "Michele", "link": "https://stackoverflow.com/users/11574614/michele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 294, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572627852, "creation_date": 1559155524, "question_id": 56366765, "link": "https://stackoverflow.com/questions/56366765/use-of-windowhandles-within-nightwatch-page-objects", "title": "Use of windowHandles within Nightwatch Page Objects", "body": "<p>I am using Nightwatch JS page objects to create my tests.  When clicking on a link that opens a new tab, I cannot switch focus to the new tab.</p>\n\n<p>Any other searches haven't used windowHandles within the page objects.</p>\n\n<pre><code>var verifyHomepage = {\n    verifyPrivacy: function () {\n        return this.waitForElementVisible('body', 20000)\n            .click('@privacyLink')\n            .windowHandles(function (result) {\n                var handle = result.value[1];\n                this.switchWindow(handle);\n            })\n        .waitForElementVisible('body', 20000)\n        .assert.urlContains('/regression/en-us/PrivacyStatement')\n        .assert.containsText('@privacyHeader', 'Privacy Statement');\n    }\n};\n\n\nmodule.exports = {\n    commands: [verifyHomepage],\n    url: function () {\n        return this.api.launchUrl;\n    },\n\n    elements: {\n        // Fill in the empty quotes with your selectors\n        header: '#customBlock &gt; div &gt; h1',\n        login: '#loginBtn',\n        homeLogo: '#siteLogo',\n        footerLogo: '#siteLogoFooter',\n        homeLink: '#footerBtnHome &gt; a',\n        privacyLink: '#footerPrivacyStatment &gt; a',\n        privacyHeader: '#mainBlock &gt; div &gt; h1'\n    }\n};\n</code></pre>\n\n<p>this.waitForElementVisible(...).click(...).windowHandles is not a function</p>\n"}, {"tags": ["javascript", "arrays", "firebase"], "comments": [{"owner": {"reputation": 1936, "user_id": 5568741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNja2.jpg?s=128&g=1", "display_name": "k3llydev", "link": "https://stackoverflow.com/users/5568741/k3llydev"}, "edited": false, "score": 0, "creation_date": 1559156537, "post_id": 56366723, "comment_id": 99337001, "body": "You mean changing <code>[&quot;chin&quot;,&quot;eng&quot;,&quot;maths&quot;]</code> to <code>{&quot;chin&quot; :true,&quot;eng&quot;:true,&quot;maths&quot;:true}</code> as a structure? Or as a string? The simple fact of changing <code>[]</code> to <code>{}</code> means a different structure. ([] = Array, {} = Object)"}], "answers": [{"comments": [{"owner": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 0, "creation_date": 1559155698, "post_id": 56366782, "comment_id": 99336647, "body": "Does that create a new object each iteration?  Seems expensive."}, {"owner": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "edited": false, "score": 0, "creation_date": 1559155740, "post_id": 56366782, "comment_id": 99336667, "body": "Probably just as expensive as doing what youd already be doing without using <code>reduce</code>"}, {"owner": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 0, "creation_date": 1559155992, "post_id": 56366782, "comment_id": 99336773, "body": "&quot;In case performance&quot; - yes when a solution is shorter, performs better and is just as readable, I guess that should be the primary answer."}, {"owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "reply_to_user": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 0, "creation_date": 1559156012, "post_id": 56366782, "comment_id": 99336784, "body": "@James yeah, you right, I have added a better version without spreading."}], "tags": [], "owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "is_accepted": false, "score": 4, "last_activity_date": 1559156253, "last_edit_date": 1559156253, "creation_date": 1559155579, "answer_id": 56366782, "question_id": 56366723, "link": "https://stackoverflow.com/questions/56366723/how-to-set-value-for-all-the-objects-in-array-for-javascript/56366782#56366782", "title": "How to set value for all the objects in array for javascript?", "body": "<p>One possible approach is to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"nofollow noreferrer\">Array.reduce()</a> like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const input = [\"chin\", \"eng\", \"maths\"];\r\n\r\nlet obj = input.reduce((acc, item) =&gt; (acc[item] = true, acc), {});\r\n\r\nconsole.log(obj);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console {background-color:black !important; color:lime;}\r\n.as-console-wrapper {max-height:100% !important; top:0;}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Or, you can go with <code>spreading</code>, but with a little overhead on performance:</p>\n\n<pre><code>let obj = input.reduce((acc, item) =&gt; ({...acc, [item]: true}), {});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "is_accepted": true, "score": 1, "last_activity_date": 1559156382, "creation_date": 1559156382, "answer_id": 56366940, "question_id": 56366723, "link": "https://stackoverflow.com/questions/56366723/how-to-set-value-for-all-the-objects-in-array-for-javascript/56366940#56366940", "title": "How to set value for all the objects in array for javascript?", "body": "<p>The simplest way is to loop through the array using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of\" rel=\"nofollow noreferrer\"><code>for...of</code></a> and add each key to an object:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const keys = [\"chin\", \"eng\", \"maths\"],\r\n      output = {};\r\n\r\nfor (const key of keys) {\r\n  output[key] = true;\r\n}\r\n\r\nconsole.log(output)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Another option is to create a 2D array of key-value pair entries using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\"><code>map</code></a>. Then use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/fromEntries\" rel=\"nofollow noreferrer\"><code>Object.fromEntries()</code></a> to create the object</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const keys = [\"chin\",\"eng\",\"maths\"]\r\nconst output = Object.fromEntries(keys.map(k =&gt; [k, true]))\r\n\r\nconsole.log(output)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 47, "user_id": 11114394, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pBWS3jWE-9o/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNvx1Cq0pYlfSjJjdpCN83JyjfG-w/mo/photo.jpg?sz=128", "display_name": "Ziv Cheung", "link": "https://stackoverflow.com/users/11114394/ziv-cheung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 56366940, "answer_count": 2, "score": 0, "last_activity_date": 1559165980, "creation_date": 1559155334, "last_edit_date": 1559165980, "question_id": 56366723, "link": "https://stackoverflow.com/questions/56366723/how-to-set-value-for-all-the-objects-in-array-for-javascript", "title": "How to set value for all the objects in array for javascript?", "body": "<p>How to set value for all the items inside an array?</p>\n\n<p>For example, I have the array: <code>[\"chin\",\"eng\",\"maths\"]</code></p>\n\n<p>I want to set it to <code>{\"chin\" :true,\"eng\":true,\"maths\":true}</code></p>\n\n<p>And push to firebase as a child.</p>\n\n<p><a href=\"https://i.stack.imgur.com/rLd0n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rLd0n.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "asynchronous"], "comments": [{"owner": {"reputation": 20333, "user_id": 774078, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/seSXR.png?s=128&g=1", "display_name": "Sterling Archer", "link": "https://stackoverflow.com/users/774078/sterling-archer"}, "edited": false, "score": 4, "creation_date": 1559155250, "post_id": 56366685, "comment_id": 99336458, "body": "<code>undefined</code> will be returned implicitly if no return is made, but <code>then</code> itself always returns a <code>Promise</code>. <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/then\" rel=\"nofollow noreferrer\">MDN</a> Source"}, {"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 3, "creation_date": 1559155683, "post_id": 56366685, "comment_id": 99336638, "body": "Did you try doing this?  What did it return?"}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 3, "creation_date": 1559155728, "post_id": 56366685, "comment_id": 99336661, "body": "Always is surprising how simple it is to try and so many of these questions show now attempt."}], "answers": [{"tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 3, "last_activity_date": 1559160935, "last_edit_date": 1559160935, "creation_date": 1559155726, "answer_id": 56366804, "question_id": 56366685, "link": "https://stackoverflow.com/questions/56366685/what-happens-if-i-dont-pass-a-parameter-in-then-function-what-will-it-retur/56366804#56366804", "title": "What happens if i don&#39;t pass a parameter in .then() function, what will it return", "body": "<p>Than that part of the chain gets skipped completely, and the chained promise will resolve to what the previous promise resolved.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Promise.resolve(1).then().then(console.log); // 1\r\nPromise.reject(1).then().catch(console.log); // 1</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 160, "user_id": 10477567, "user_type": "registered", "profile_image": "https://graph.facebook.com/1964939363588835/picture?type=large", "display_name": "Aakash Chauhan", "link": "https://stackoverflow.com/users/10477567/aakash-chauhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559160935, "creation_date": 1559155146, "question_id": 56366685, "link": "https://stackoverflow.com/questions/56366685/what-happens-if-i-dont-pass-a-parameter-in-then-function-what-will-it-retur", "title": "What happens if i don&#39;t pass a parameter in .then() function, what will it return", "body": "<p>i have learned that .then() is a higher-order function\u2014 it takes two callback functions as arguments. We refer to these callbacks as handlers. When the promise settles, the appropriate handler will be invoked with that settled value.\ni want to know that what will .then() method will return if neither parameter is passed.</p>\n"}]