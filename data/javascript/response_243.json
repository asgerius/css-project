[{"tags": ["javascript", "node.js", "post", "xmlhttprequest"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1567641456, "post_id": 57796851, "comment_id": 102026659, "body": "since the server expects form data, you should send <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/FormData\" rel=\"nofollow noreferrer\">FormData</a> ... e.g. <code>xhr.send(new FormData(form))</code> - where <code>form</code> is your form ..."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1567641817, "post_id": 57796851, "comment_id": 102026727, "body": "<code>xhr.send(new FormData(this.form))</code> will probably work with your code"}, {"owner": {"reputation": 3, "user_id": 9984006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a54764ec6adcb92b2757438ad693de4?s=128&d=identicon&r=PG&f=1", "display_name": "amiine", "link": "https://stackoverflow.com/users/9984006/amiine"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1567651395, "post_id": 57796851, "comment_id": 102028260, "body": "try it and this is what i get"}, {"owner": {"reputation": 3, "user_id": 9984006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a54764ec6adcb92b2757438ad693de4?s=128&d=identicon&r=PG&f=1", "display_name": "amiine", "link": "https://stackoverflow.com/users/9984006/amiine"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1567651498, "post_id": 57796851, "comment_id": 102028278, "body": "<code>[nodemon] starting </code>node server.js` Server running on PORT : 5050 [Object: null prototype] {   &#39;------WebKitFormBoundaryMEaPRIXLKCdBU4Z6\\r\\nContent-Disposi&zwnj;&#8203;tion: form-data; name&#39;: &#39;&quot;name&quot;\\r\\n\\r\\nMr_Salsa\\r\\n------WebKitFormBoundaryMEaPRIXLK&zwnj;&#8203;CdBU4Z6--\\r\\n&#39; } `"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9984006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a54764ec6adcb92b2757438ad693de4?s=128&d=identicon&r=PG&f=1", "display_name": "amiine", "link": "https://stackoverflow.com/users/9984006/amiine"}, "edited": false, "score": 0, "creation_date": 1567651555, "post_id": 57796971, "comment_id": 102028290, "body": "didn&#39;t worked both for <code>application&#47;json</code> and for <code>x-form-urlecoded</code>"}, {"owner": {"reputation": 3, "user_id": 9984006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a54764ec6adcb92b2757438ad693de4?s=128&d=identicon&r=PG&f=1", "display_name": "amiine", "link": "https://stackoverflow.com/users/9984006/amiine"}, "edited": false, "score": 0, "creation_date": 1567651588, "post_id": 57796971, "comment_id": 102028295, "body": "this is what im getting now <code>[nodemon] starting </code>node server.js` Server running on PORT : 5050 [Object: null prototype] {   &#39;------WebKitFormBoundaryMEaPRIXLKCdBU4Z6\\r\\nContent-Disposi&zwnj;&#8203;tion: form-data; name&#39;: &#39;&quot;name&quot;\\r\\n\\r\\nMr_Salsa\\r\\n------WebKitFormBoundaryMEaPRIXLK&zwnj;&#8203;CdBU4Z6--\\r\\n&#39; } `"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1567657071, "post_id": 57796971, "comment_id": 102029305, "body": "<code>If I were you, I would simply change the content type to application&#47;json</code> - that would require changes to the <b>server</b> code as well"}, {"owner": {"reputation": 3, "user_id": 9984006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a54764ec6adcb92b2757438ad693de4?s=128&d=identicon&r=PG&f=1", "display_name": "amiine", "link": "https://stackoverflow.com/users/9984006/amiine"}, "edited": false, "score": 0, "creation_date": 1567728524, "post_id": 57796971, "comment_id": 102059649, "body": "i used <code>application&#47;json</code> and add this <code>app.use(bodyParser.json())</code> in server.js file fixed the probelm thank you !"}], "tags": [], "owner": {"reputation": 897, "user_id": 10492703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rRz5r.png?s=128&g=1", "display_name": "jacob13smith", "link": "https://stackoverflow.com/users/10492703/jacob13smith"}, "is_accepted": true, "score": 0, "last_activity_date": 1567642570, "creation_date": 1567642570, "answer_id": 57796971, "question_id": 57796851, "link": "https://stackoverflow.com/questions/57796851/why-im-not-receiving-the-data-in-nodejs-server-using-xmlhttprequest-post/57796971#57796971", "title": "Why im not receiving the data in nodejs server using xmlhttprequest &quot;POST&quot;?", "body": "<p>Like previous comments have stated, you set the content type as <code>x-www-form- \nurlencoded</code>, so you should pass the data as FormData.  If I were you, I would simply change the content type to <code>application/json</code>. That should fix your problem</p>\n"}], "owner": {"reputation": 3, "user_id": 9984006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a54764ec6adcb92b2757438ad693de4?s=128&d=identicon&r=PG&f=1", "display_name": "amiine", "link": "https://stackoverflow.com/users/9984006/amiine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 57796971, "answer_count": 1, "score": -1, "last_activity_date": 1567642570, "creation_date": 1567641212, "question_id": 57796851, "link": "https://stackoverflow.com/questions/57796851/why-im-not-receiving-the-data-in-nodejs-server-using-xmlhttprequest-post", "title": "Why im not receiving the data in nodejs server using xmlhttprequest &quot;POST&quot;?", "body": "<p>im sending a data from ajax.js using XMLHttpRequest \"POST\" to the backend server.js , everything is OK , except that the received is UNDEFINED , and when i \"console.log\" it using \"req.body\" im expecting to see it like that \"{name: 'MrSalsa'}\" , but unfortunately its printed like that \"[Object: null prototype] { MrSalsa: '' }\"</p>\n\n<p>this is the ajax.js in frontend :</p>\n\n<pre><code>document.getElementById('btnPost').addEventListener('click', \nfunction(e){\n  e.preventDefault();\n  var data = document.getElementById('input').value;\n\n  var xhr = new XMLHttpRequest();\n  xhr.open('post', '/api', true);\n  xhr.setRequestHeader('Content-type', 'application/x-www-form- \nurlencoded');\n  xhr.onload = function(){\n    if(this.status == 200){\n      document.getElementById('text').innerText = this.responseText;\n    }else if(this.status == 403){\n      document.getElementById('text').innerText = this.responseText;\n    }else if(this.status == 404){\n      document.getElementById('text').innerText = this.responseText;\n }\n }\n  xhr.send(data);\n})\n</code></pre>\n\n<p>and this is the backend server.js file:</p>\n\n<pre><code>const express = require('express');\nconst bodyParser = require('body-parser');\nconst path = require('path');\n\nconst app = express();\nvar urlencodedParser = bodyParser.urlencoded({ extended: false });\nconst PORT = process.env.PORT || 5050;\n\nvar users = require('./views/resources/users')\n\napp.use(express.static(path.join(__dirname, 'views')));\n\napp.set('view engine', 'ejs');\n\napp.get('/', (req,res)=&gt;{\n  res.render('home');\n})\napp.get('/api', (req,res)=&gt;{\n  res.json(users);\n})\n//the problem is bellow in the \"POST\" handler\napp.post('/api', urlencodedParser, (req,res)=&gt;{\n   console.log(req.body);\nres.send('welcome '+req.body.name);\n})\n\napp.listen(PORT, console.log(`Server running on PORT : ${PORT}`));\n</code></pre>\n\n<p>and this is the form in the HTML file:</p>\n\n<pre><code>&lt;form&gt;\n  &lt;input id=\"input\" type=\"text\" name=\"name\" placeholder=\"text \n  here..\" required&gt;\n  &lt;button id=\"btnPost\" type=\"submit\"&gt;Post&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>and when i console.log it this is the result:</p>\n\n<pre><code>[nodemon] starting `node server.js`\nServer running on PORT : 5050\n[Object: null prototype] { MrSalsa: '' }\n</code></pre>\n\n<p>i tried to make an object in the fronend like that:</p>\n\n<pre><code>xhr.send({name: data});\n</code></pre>\n\n<p>but when i console.log it this is the result:</p>\n\n<pre><code>[nodemon] starting `node server.js`\nServer running on PORT : 5050\n[Object: null prototype] { '[object Object]': '' }\n</code></pre>\n\n<p>Did i miss understood/miss somethig ? Ty For Help :)</p>\n"}, {"tags": ["javascript", "html", "firebase", "firebase-realtime-database"], "comments": [{"owner": {"reputation": 806, "user_id": 11206587, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sPS_lBCEvzk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfwHoDKlcDtXotG4EN-fHLp5EZVyQ/mo/photo.jpg?sz=128", "display_name": "Doggo", "link": "https://stackoverflow.com/users/11206587/doggo"}, "edited": false, "score": 0, "creation_date": 1567641577, "post_id": 57796826, "comment_id": 102026677, "body": "you can use <code>JSONWEBTOKEN</code> to create a token and store the token in your localstorage or you can use <code>js-cookie</code> to store the token to your cookie the you can pass a middleware to your pages to check if it is authenticated"}, {"owner": {"reputation": 35, "user_id": 11647093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b79fddc8c154c0e3376843e5e5e8271?s=128&d=identicon&r=PG&f=1", "display_name": "Mary", "link": "https://stackoverflow.com/users/11647093/mary"}, "reply_to_user": {"reputation": 806, "user_id": 11206587, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sPS_lBCEvzk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfwHoDKlcDtXotG4EN-fHLp5EZVyQ/mo/photo.jpg?sz=128", "display_name": "Doggo", "link": "https://stackoverflow.com/users/11206587/doggo"}, "edited": false, "score": 0, "creation_date": 1567644626, "post_id": 57796826, "comment_id": 102027222, "body": "if (user) {user.getIdToken().then(function(idToken) {}); If I get the token by using this code, what should I do next?"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 11647093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b79fddc8c154c0e3376843e5e5e8271?s=128&d=identicon&r=PG&f=1", "display_name": "Mary", "link": "https://stackoverflow.com/users/11647093/mary"}, "edited": false, "score": 0, "creation_date": 1567643545, "post_id": 57796903, "comment_id": 102027026, "body": "&quot;rules&quot;: { &quot;users&quot;: {&quot;$uid&quot;: {&quot;.write&quot;: &quot;$uid === auth.uid&quot;} . It is something like this?"}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "reply_to_user": {"reputation": 35, "user_id": 11647093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b79fddc8c154c0e3376843e5e5e8271?s=128&d=identicon&r=PG&f=1", "display_name": "Mary", "link": "https://stackoverflow.com/users/11647093/mary"}, "edited": false, "score": 0, "creation_date": 1567646568, "post_id": 57796903, "comment_id": 102027528, "body": "That&#39;s a set of security rules indeed. The exact rules you&#39;ll need depend on your exact scenario, so it&#39;s impossible for us to answer that in anything but generic terms."}], "tags": [], "owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "is_accepted": false, "score": 0, "last_activity_date": 1567641811, "creation_date": 1567641811, "answer_id": 57796903, "question_id": 57796826, "link": "https://stackoverflow.com/questions/57796826/how-to-prevent-a-web-page-from-being-viewed-after-click-log-out-button/57796903#57796903", "title": "How to prevent a web page from being viewed after click log out button?", "body": "<p>It depends on what content on the previous page you're trying to protect. If that is coming from the Firebase Realtime Database, you can typically protect it with <a href=\"https://firebase.google.com/docs/database/security\" rel=\"nofollow noreferrer\">security rules</a>. If the content is coming from the HTML/JavaScript on Firebase hosting, there is no way to protect it as <a href=\"https://stackoverflow.com/questions/27212004/can-firebase-hosting-restrict-access-to-resources\">all content on Firebase Hosting is public</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 11647093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b79fddc8c154c0e3376843e5e5e8271?s=128&d=identicon&r=PG&f=1", "display_name": "Mary", "link": "https://stackoverflow.com/users/11647093/mary"}, "edited": false, "score": 0, "creation_date": 1567643833, "post_id": 57796928, "comment_id": 102027069, "body": "For now I can directly access to new page but it will stated no user is signed in. How can I protect this new page?"}, {"owner": {"reputation": 897, "user_id": 10492703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rRz5r.png?s=128&g=1", "display_name": "jacob13smith", "link": "https://stackoverflow.com/users/10492703/jacob13smith"}, "reply_to_user": {"reputation": 35, "user_id": 11647093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b79fddc8c154c0e3376843e5e5e8271?s=128&d=identicon&r=PG&f=1", "display_name": "Mary", "link": "https://stackoverflow.com/users/11647093/mary"}, "edited": false, "score": 0, "creation_date": 1567644372, "post_id": 57796928, "comment_id": 102027175, "body": "It depends on the framework you are using for the frontend.  You need to find where in your app a page is served to the client and insert some sort of middleware to test if the user should be allowed to do the action."}], "tags": [], "owner": {"reputation": 897, "user_id": 10492703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rRz5r.png?s=128&g=1", "display_name": "jacob13smith", "link": "https://stackoverflow.com/users/10492703/jacob13smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1567642134, "creation_date": 1567642134, "answer_id": 57796928, "question_id": 57796826, "link": "https://stackoverflow.com/questions/57796826/how-to-prevent-a-web-page-from-being-viewed-after-click-log-out-button/57796928#57796928", "title": "How to prevent a web page from being viewed after click log out button?", "body": "<p>The code you included handles when a user logs in/out.  You need to put some sort of guards on your pages if you don't want them served to users unless they are logged in.  The solution for you depends on how you implement your routing.</p>\n\n<p>Assuming you have no middleware and everything runs in firebase/your app, you simply need to make sure that when the app routes to a new page (that should be protected by login), that your code intercepts and checks if the user is logged in.  Your <code>firebase.auth().onAuthStateChanged()</code> handler simply redirects the user to the login screen, and that's all it should be used for. You will need to implement some sort of routing guard on your own, same as having a guard for retrieving data.</p>\n"}, {"tags": [], "owner": {"reputation": 806, "user_id": 11206587, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sPS_lBCEvzk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfwHoDKlcDtXotG4EN-fHLp5EZVyQ/mo/photo.jpg?sz=128", "display_name": "Doggo", "link": "https://stackoverflow.com/users/11206587/doggo"}, "is_accepted": false, "score": 1, "last_activity_date": 1567648655, "creation_date": 1567648655, "answer_id": 57797503, "question_id": 57796826, "link": "https://stackoverflow.com/questions/57796826/how-to-prevent-a-web-page-from-being-viewed-after-click-log-out-button/57797503#57797503", "title": "How to prevent a web page from being viewed after click log out button?", "body": "<p>You need to have 3 functions:</p>\n\n<p><strong>FIRST</strong></p>\n\n<p>You need to check the initial load of the page if the browser still have that cookie using the <code>initAuth()</code> function below.</p>\n\n<p><strong>SECOND</strong></p>\n\n<p>You need to make the login/register method to make your user have their token.</p>\n\n<p><strong>THIRD</strong></p>\n\n<p>You need to let the user logout.</p>\n\n<p>It should look something like this:</p>\n\n<pre><code>authenticateUser(content, authData) {\n  let authUrl =\n    \"https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=\" +\n    process.env.fbAPIKey;\n  if (!authData.isLogin) {\n    authUrl =\n      \"https://www.googleapis.com/identitytoolkit/v3/relyingparty/signupNewUser?key=\" +\n      process.env.fbAPIKey;\n  }\n  return this.$axios\n    .$post(authUrl, {\n      email: authData.email,\n      password: authData.password,\n      returnSecureToken: true\n    })\n    .then(result =&gt; {\n      content.commit(\"setToken\", result.idToken);\n      localStorage.setItem(\"token\", result.idToken);\n      localStorage.setItem(\n        \"tokenExpiration\",\n        new Date().getTime() + Number.parseInt(result.expiresIn) * 1000\n      );\n      Cookie.set(\"jwt\", result.idToken);\n      Cookie.set(\n        \"expirationDate\",\n        new Date().getTime() + Number.parseInt(result.expiresIn) * 1000\n      );\n      return this.$axios.$post('http://localhost:3000/api/track-data', {data: 'Authenticated!'})\n    })\n    .catch(e =&gt; console.log(e));\n}\n\ninitAuth(content, req) {\n  let token;\n  let expirationDate;\n  if (req) {\n    if (!req.headers.cookie) {\n      return;\n    }\n    const jwtCookie = req.headers.cookie\n      .split(\";\")\n      .find(c =&gt; c.trim().startsWith(\"jwt=\"));\n    if (!jwtCookie) {\n      return;\n    }\n    token = jwtCookie.split(\"=\")[1];\n    expirationDate = req.headers.cookie\n      .split(\";\")\n      .find(c =&gt; c.trim().startsWith(\"expirationDate=\"))\n      .split(\"=\")[1];\n  } else if (process.client) {\n    token = localStorage.getItem(\"token\");\n    expirationDate = localStorage.getItem(\"tokenExpiration\");\n  }\n  if (new Date().getTime() &gt; +expirationDate || !token) {\n    console.log(\"No token or invalid token\");\n    content.dispatch(\"logout\");\n    return;\n  }\n  content.commit(\"setToken\", token);\n}\n\nlogout(content) {\n  content.commit(\"clearToken\");\n  Cookie.remove(\"jwt\");\n  Cookie.remove(\"expirationDate\");\n  if (process.client) {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"tokenExpiration\");\n  }\n}\n</code></pre>\n\n<p><strong>MIDDLEWARE</strong></p>\n\n<p>Then you can call your middleware look like this:</p>\n\n<p>Check for Token first: </p>\n\n<pre><code>context.store.dispatch(\"initAuth\", context.req);\n\nif (!context.store.getters.isAuthenticated) {\n    context.redirect(\"/admin/login\");\n  }\n</code></pre>\n\n<blockquote>\n  <p>This is only my point of view and my sample code.</p>\n</blockquote>\n"}], "owner": {"reputation": 35, "user_id": 11647093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b79fddc8c154c0e3376843e5e5e8271?s=128&d=identicon&r=PG&f=1", "display_name": "Mary", "link": "https://stackoverflow.com/users/11647093/mary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1567648655, "creation_date": 1567641012, "question_id": 57796826, "link": "https://stackoverflow.com/questions/57796826/how-to-prevent-a-web-page-from-being-viewed-after-click-log-out-button", "title": "How to prevent a web page from being viewed after click log out button?", "body": "<p>I am trying to make a simple website using firebase realtime database. I'm not using PHP to include the session because I don't know how to use PHP with firebase. I do read the documentation but I cannot implement it. How can I create a session to prevent a user able to view the previous page when clicking back button after log out. </p>\n\n<p>The code below is working but still, the user can view the previous page when clicking back button.</p>\n\n<pre><code>firebase.auth().onAuthStateChanged(function(user) {\n        if (user) {\n            // User is signed in.\n            console.log('User is signed in.');\n        } else {\n            // No user is signed in.\n            console.log('No user is signed in.');\n            window.location ='login.html'; \n        }\n    });\n</code></pre>\n"}, {"tags": ["javascript", "vue.js"], "comments": [{"owner": {"reputation": 613, "user_id": 7332946, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/XLfWL.jpg?s=128&g=1", "display_name": "iliya.rudberg", "link": "https://stackoverflow.com/users/7332946/iliya-rudberg"}, "edited": false, "score": 0, "creation_date": 1567640992, "post_id": 57796806, "comment_id": 102026564, "body": "did you try to wrap request with try catch?"}, {"owner": {"reputation": 13, "user_id": 10668436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uisb4.jpg?s=128&g=1", "display_name": "Z. M", "link": "https://stackoverflow.com/users/10668436/z-m"}, "reply_to_user": {"reputation": 613, "user_id": 7332946, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/XLfWL.jpg?s=128&g=1", "display_name": "iliya.rudberg", "link": "https://stackoverflow.com/users/7332946/iliya-rudberg"}, "edited": false, "score": 0, "creation_date": 1567641227, "post_id": 57796806, "comment_id": 102026611, "body": "Yes, it didn&#39;t work. I&#39;m going to update the question, thanks for pointing that out."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10668436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uisb4.jpg?s=128&g=1", "display_name": "Z. M", "link": "https://stackoverflow.com/users/10668436/z-m"}, "edited": false, "score": 0, "creation_date": 1567675562, "post_id": 57797151, "comment_id": 102036622, "body": "This displays <code>Request failed with status code 400</code>, but I still cannot access the server&#39;s response object"}], "tags": [], "owner": {"reputation": 2999, "user_id": 479957, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d2969dc7cb40563c310aad622a370cae?s=128&d=identicon&r=PG", "display_name": "ManUtopiK", "link": "https://stackoverflow.com/users/479957/manutopik"}, "is_accepted": false, "score": 1, "last_activity_date": 1567644722, "creation_date": 1567644722, "answer_id": 57797151, "question_id": 57796806, "link": "https://stackoverflow.com/questions/57796806/how-to-check-for-specific-backend-error-keys-when-using-async-await/57797151#57797151", "title": "How to check for specific backend error keys when using async/await?", "body": "<p>Axios return an object error, you can get the content with <code>error.message</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>axios.post('/badurl')\r\n.then(response =&gt; { \r\n\tconsole.log(response)\r\n})\r\n.catch(error =&gt; {\r\n    console.log(error.message)\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 13, "user_id": 10668436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uisb4.jpg?s=128&g=1", "display_name": "Z. M", "link": "https://stackoverflow.com/users/10668436/z-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567648262, "creation_date": 1567640800, "last_edit_date": 1567648262, "question_id": 57796806, "link": "https://stackoverflow.com/questions/57796806/how-to-check-for-specific-backend-error-keys-when-using-async-await", "title": "How to check for specific backend error keys when using async/await?", "body": "<p>I want to display a custom message in Vue (with Django as the backend) when creating an account if the entered email already exists in the database.</p>\n\n<p>Currently the server returns a 400 with the following response:\n<code>{\"email\":[\"There is another user with this email\"]}</code></p>\n\n<p>How can I access this error object to check if it contains an \"email\" key?</p>\n\n<p>I've found this approach creating a wrapper: <a href=\"https://dev.to/sadarshannaiynar/capture-error-and-data-in-async-await-without-try-catch-1no2\" rel=\"nofollow noreferrer\">https://dev.to/sadarshannaiynar/capture-error-and-data-in-async-await-without-try-catch-1no2</a>\nbut I feel like there must be a better/simpler way of handling this</p>\n\n<p>Things I tried:</p>\n\n<p>1) <code>const { error, data } = await usersAPI.create(userData)</code>\nwhere \"create\" is:</p>\n\n<p><code>create (data) {\n    return Vue.axios.post(url, data, config)\n  }</code>\nthen <code>console.error(error)</code> (but it doesn't print anything)</p>\n\n<p>2) Using <code>try-catch(error)</code> - prints nothing</p>\n\n<p>3) Appending <code>catch(e =&gt; console.error(e)</code> to the await call - still nothing</p>\n"}, {"tags": ["javascript", "node.js", "redis", "node-modules", "ioredis"], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 9671627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c64bd8ca130c45a42b55e281e1eb86ba?s=128&d=identicon&r=PG&f=1", "display_name": "yeshks", "link": "https://stackoverflow.com/users/9671627/yeshks"}, "is_accepted": true, "score": 0, "last_activity_date": 1575589433, "creation_date": 1575589433, "answer_id": 59204832, "question_id": 57796760, "link": "https://stackoverflow.com/questions/57796760/connection-to-redis-cache-failing/59204832#59204832", "title": "Connection to Redis cache failing", "body": "<p>The problem was with the company wifi network I was using. The firewall did not allow me to connect to the cache.</p>\n"}], "owner": {"reputation": 101, "user_id": 9671627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c64bd8ca130c45a42b55e281e1eb86ba?s=128&d=identicon&r=PG&f=1", "display_name": "yeshks", "link": "https://stackoverflow.com/users/9671627/yeshks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "accepted_answer_id": 59204832, "answer_count": 1, "score": 0, "last_activity_date": 1575589433, "creation_date": 1567640380, "question_id": 57796760, "link": "https://stackoverflow.com/questions/57796760/connection-to-redis-cache-failing", "title": "Connection to Redis cache failing", "body": "<p>I have a node app connecting to a redis cache hosted on azure but whenever I'm trying to connect to it, the connection fails with an error message</p>\n\n<p>I have enabled secure connection through a port and configured my node app accordingly</p>\n\n<pre><code>// This is my client module\nconst Redis = require(\"ioredis\");\n\nvar client = new Redis(\n    {\n        port: 6380,\n        tls: true,\n        host: process.env.REDIS_HOST,\n        password: process.env.REDIS_PASSWORD,\n        family:\n        db: 0\n    }\n);\n</code></pre>\n\n<p>module.exports = client;</p>\n\n<p>This is the error I encounter whenever I start my app:</p>\n\n<pre><code>[ioredis] Unhandled error event: Error: unable to get local issuer certificate\n    at TLSSocket.onConnectSecure (_tls_wrap.js:1317:34)\n    at TLSSocket.emit (events.js:209:13)\n    at TLSSocket._finishInit (_tls_wrap.js:792:8)\n    at TLSWrap.ssl.onhandshakedone (_tls_wrap.js:606:12)\n</code></pre>\n\n<p>The API ran for a while without any problems but then started throwing this error. My colleague is not having a problem running the same service and I'm assuming this is my machines certificates or lack of causing the issue. Any solutions or suggestions?</p>\n"}, {"tags": ["javascript", "plupload", "phpbb3"], "answers": [{"tags": [], "owner": {"reputation": 535, "user_id": 1899003, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0790a647f0d0e4b4fd6d81ba9983e341?s=128&d=identicon&r=PG", "display_name": "Kyudos", "link": "https://stackoverflow.com/users/1899003/kyudos"}, "is_accepted": true, "score": 0, "last_activity_date": 1568153772, "creation_date": 1568153772, "answer_id": 57878843, "question_id": 57796744, "link": "https://stackoverflow.com/questions/57796744/plupload-hangs-with-no-feedback/57878843#57878843", "title": "plupload hangs with no feedback", "body": "<p>It turns out this was a problem with a generic reverse proxy rule on our firewall. Adding a rule to specifically transfer HTTP(s) traffic directly to our webserver (rather than through the reverse proxy table) fixed things.</p>\n"}], "owner": {"reputation": 535, "user_id": 1899003, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0790a647f0d0e4b4fd6d81ba9983e341?s=128&d=identicon&r=PG", "display_name": "Kyudos", "link": "https://stackoverflow.com/users/1899003/kyudos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 57878843, "answer_count": 1, "score": 1, "last_activity_date": 1568153772, "creation_date": 1567640213, "last_edit_date": 1568077090, "question_id": 57796744, "link": "https://stackoverflow.com/questions/57796744/plupload-hangs-with-no-feedback", "title": "plupload hangs with no feedback", "body": "<p>As per here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/57703021/cant-upload-file-attachments-to-phpbb3-forum-on-iis\">Can&#39;t upload file attachments to phpBB3 forum on IIS</a></p>\n\n<p>I'm having a problem with the plupload implementation in phpBB3.</p>\n\n<p>I find that I get through</p>\n\n<p><em>phpbb.plupload.uploader.bind('FilesAdded', function(up, files)</em></p>\n\n<p>but never get to</p>\n\n<p><em>phpbb.plupload.uploader.bind('FileUploaded', function(up, file, response)</em></p>\n\n<p>unless my file is very small (&lt; 5 KB). Is this simply down to reponses from the server (or lack thereof)? Any tips on figuring out the actual problem? So I can stop trying out a bunch of random crap?</p>\n\n<p>EDIT:\nFiddler shows that the upload simply doesn't get any response from my server. Using the un-minified plupload files I can see that (I think) everything for the XMLHttpRequest is properly constructed. I essentially get through uploadChunk to xhr.send, but never get to xhr.onload.</p>\n\n<p>How do I debug the server side problem?</p>\n"}, {"tags": ["javascript", "horizontal-scrolling", "scrollmagic"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 11975908, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDvoB-gPAloGxqFOLdwt-qddo6zobpOToRRLJSPTw=k-s128", "display_name": "Gean Franco", "link": "https://stackoverflow.com/users/11975908/gean-franco"}, "is_accepted": false, "score": 1, "last_activity_date": 1578846459, "last_edit_date": 1578846459, "creation_date": 1567673539, "answer_id": 57801782, "question_id": 57796738, "link": "https://stackoverflow.com/questions/57796738/horizontal-scroll-with-scrollmagic-and-dynamic-child-widths/57801782#57801782", "title": "Horizontal scroll with scrollmagic and dynamic child widths", "body": "<p>First you need to create two main divs <code>horizontal-scroll-container</code> and <code>scroll-container</code> , then include the child divs:</p>\n\n<pre><code>    &lt;div class=\"horizontal-scroll-container\"&gt; &lt;!-- Will be the fixed main container on animation start --&gt; \n       &lt;div class=\"horizontal-scroll\"&gt; &lt;!-- Will be the scrolling container that include the childs  --&gt;\n          &lt;div class=\"scroll-child 1\"&gt; &lt;!-- Then the childs (You can set the width that you want) --&gt;\n          &lt;div class=\"scroll-child 2\"&gt;\n          &lt;div class=\"scroll-child 3\"&gt;\n       &lt;/div&gt; \n    &lt;/div&gt; \n</code></pre>\n\n<p>Style those divs:</p>\n\n<pre><code>    .horizontal-scroll-container {\n      position:relative; //Will be fixed on animation start.\n      width: 100%; //full width\n      height: 100vh; //full height\n      padding:3rem 0; //The padding you would like to use between the childs and father.\n      background-color: rgba(191, 70, 169, 0.5); \n      overflow-x:hidden; //Because the childs will exceed the viewport width.\n     }\n\n   .horizontal-scroll  {\n     position: absolute; \n     top: 0; \n     display: flex; \n     width: 250%; //The sum of the 3 container widths. \n     bottom: 0;\n     margin: auto;\n     height: 50%; //Try not to exceed viewport height.\n    }\n\n    .horizontal-scroll .scroll-child {\n      width:100%; //or whatever width you want to set, make sure to set .horizontal-scroll width relative to the SUM of those child widths.\n      margin:0;\n      padding: 0;\n      color:white;\n      position: relative; \n    }\n\n    .horizontal-scroll .scroll-child.2 { //changing the width of the child 2\n      width:50%;\n    }\n</code></pre>\n\n<p>After that, you need to use <a href=\"https://greensock.com/timelinemax/\" rel=\"nofollow noreferrer\">GSAP TimeLineMax</a> plugin to implement this example.</p>\n\n<pre><code>    //Create new scrollmagic controller\n    var controller = new ScrollMagic.Controller();\n\n    //Create horizontal scroll slide gsap function\n    var horizontalSlide = new TimelineMax()\n      .to(\".horizontal-scroll\", 3,   {x: \"-65%\"}); //Depends on the final width you want to scroll.\n\n    // Create scrollmagic scene to pin and link horzontal scroll animation\n    new ScrollMagic.Scene({\n        triggerElement: \".horizontal-scroll-container\", //Div that will trigger the animation.\n        triggerHook: \"onLeave\", //The animation will start on leaving the .horizontal-scroll-container section.\n        duration: \"200%\" //Scroll Duration, the amount of pixels you want to scroll to see the entire animation. \n    })\n    .setPin(\".horizontal-scroll-container\")\n    .setTween(horizontalSlide)\n    .addIndicators() // add indicators (requires scrollmagic indicators plugin)\n    .addTo(controller);\n</code></pre>\n"}], "owner": {"reputation": 615, "user_id": 1216884, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/31a0c627c28cc6e9673b771c6b661393?s=128&d=identicon&r=PG", "display_name": "pkberlin", "link": "https://stackoverflow.com/users/1216884/pkberlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 996, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1578846459, "creation_date": 1567640126, "last_edit_date": 1567669748, "question_id": 57796738, "link": "https://stackoverflow.com/questions/57796738/horizontal-scroll-with-scrollmagic-and-dynamic-child-widths", "title": "Horizontal scroll with scrollmagic and dynamic child widths", "body": "<p>I am playing with scrollmagic.\nI would like to include horizontal scrolling. The child elements must be able to have different widths.</p>\n\n<p>I can not find anything that suits my research.\nHas anyone ever implemented that or possibly resources for me?</p>\n\n<p>I do not like to have the widths of the child elements calculated dynamically by Javascript.</p>\n"}, {"tags": ["javascript", "html", "css", "squarespace"], "comments": [{"owner": {"reputation": 91, "user_id": 10863792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1423334c39694492f400a1d1ee03c1d2?s=128&d=identicon&r=PG", "display_name": "mminc", "link": "https://stackoverflow.com/users/10863792/mminc"}, "edited": false, "score": 0, "creation_date": 1567697524, "post_id": 57796715, "comment_id": 102049129, "body": "Based on the documentation for partical.js the first parameter to <code>particlesJS.load</code> is <code>dom-id</code> so a class name will not work.  Now I am not very familiar with Squarespace, but based on your first attempt, it sounds like there is a default ID on the body that that is used by Squarespace.  You should be able to update your CSS and JS code to use the Squarespace ID instead of &quot;particles-js&quot;.  See this <a href=\"https://codepen.io/mminc10/pen/MWgrKMb\" rel=\"nofollow noreferrer\">fork</a> of your pen to see it work with an ID other than &quot;particles-js&quot;."}, {"owner": {"reputation": 1, "user_id": 12022362, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAMLlHPv6QykLIZSm79JtEQyzM_uLYJUmIETOlvLg=k-s128", "display_name": "Nick Balaam", "link": "https://stackoverflow.com/users/12022362/nick-balaam"}, "reply_to_user": {"reputation": 91, "user_id": 10863792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1423334c39694492f400a1d1ee03c1d2?s=128&d=identicon&r=PG", "display_name": "mminc", "link": "https://stackoverflow.com/users/10863792/mminc"}, "edited": false, "score": 0, "creation_date": 1567704369, "post_id": 57796715, "comment_id": 102052162, "body": "I figured it out thanks to your comment! I ended up downloading the minified js file as well and hosting that... Once I did that and defered the script, I was able to load it no problem :)"}], "owner": {"reputation": 1, "user_id": 12022362, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAMLlHPv6QykLIZSm79JtEQyzM_uLYJUmIETOlvLg=k-s128", "display_name": "Nick Balaam", "link": "https://stackoverflow.com/users/12022362/nick-balaam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 281, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567640076, "creation_date": 1567639880, "last_edit_date": 1567640076, "question_id": 57796715, "link": "https://stackoverflow.com/questions/57796715/particles-in-squarespace-background", "title": "Particles In Squarespace Background?", "body": "<p>I am a total noob when it comes to JS, but I have setup the particles library (<a href=\"https://vincentgarreau.com/particles.js/\" rel=\"nofollow noreferrer\">https://vincentgarreau.com/particles.js/</a>) exactly as I'd like, and have even been able to get the JS to run in a div (like the Codepen), but I need to get it to run as the background of the Squarespace template.</p>\n\n<pre><code>https://sprout-heptagon-wjyy.squarespace.com/\nPassword: 1\n\nUncaught TypeError: Cannot read property 'getElementsByClassName' of null\n    at window.particlesJS (particles.min.js:9)\n    at static1.squarespace.com/static/5d6ea3d4fa28060001ad957c/t/5d70439e59850f00013c7f6c/1567638430154/particle.js:7\n</code></pre>\n\n<p>I have tried several things:</p>\n\n<ol>\n<li>I tried using JS to override the body's ID to <code>particles-js</code>, but this broke the squarespace template</li>\n<li>I tried switching it to a class and adding the class to the body, but the particles library seems to not recognize it now.</li>\n<li>I tried changing the JS to run off the default body class collection-5d6ea477c80c840001e6a6ad and the JS still hits an error</li>\n</ol>\n\n<p>Codepen: <a href=\"https://codepen.io/Tollo/pen/YzKEqGm\" rel=\"nofollow noreferrer\">https://codepen.io/Tollo/pen/YzKEqGm</a></p>\n\n<p>I'd like to get the JS to run as the static background (preferably with Parallax scrolling) so that the user can always see the animation.</p>\n"}, {"tags": ["javascript", "angular", "lazy-loading", "ionic4"], "comments": [{"owner": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1567641711, "post_id": 57796690, "comment_id": 102026703, "body": "I&#39;m going to guess that it&#39;s because lazy loading is a new-ish <i>browser</i> feature, and it&#39;s not yet available in the ionic framework yet."}, {"owner": {"reputation": 31, "user_id": 8365697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kk0IK.jpg?s=128&g=1", "display_name": "glenskie16", "link": "https://stackoverflow.com/users/8365697/glenskie16"}, "reply_to_user": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1567646221, "post_id": 57796690, "comment_id": 102027487, "body": "hmm, ionic framework is using angular 8. so i would think it would be. Thanks for your comment!"}, {"owner": {"reputation": 14875, "user_id": 1100248, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/uE79r.jpg?s=128&g=1", "display_name": "Vova Bilyachat", "link": "https://stackoverflow.com/users/1100248/vova-bilyachat"}, "edited": false, "score": 0, "creation_date": 1567649976, "post_id": 57796690, "comment_id": 102028050, "body": "Can you please post code for other module where that component is used"}, {"owner": {"reputation": 31, "user_id": 8365697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kk0IK.jpg?s=128&g=1", "display_name": "glenskie16", "link": "https://stackoverflow.com/users/8365697/glenskie16"}, "edited": false, "score": 0, "creation_date": 1567659530, "post_id": 57796690, "comment_id": 102029903, "body": "Im not really doing anything with it on the component. It should just work right ? i think this is where im confused."}, {"owner": {"reputation": 497, "user_id": 5358763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e343eb866651cf649d90595fc2b0b9?s=128&d=identicon&r=PG&f=1", "display_name": "M M", "link": "https://stackoverflow.com/users/5358763/m-m"}, "edited": false, "score": 0, "creation_date": 1567769386, "post_id": 57796690, "comment_id": 102072385, "body": "Try <code>[attr.lazyLoad]</code>"}, {"owner": {"reputation": 1107, "user_id": 459755, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/HLE7B.gif?s=128&g=1", "display_name": "DontFretBrett", "link": "https://stackoverflow.com/users/459755/dontfretbrett"}, "edited": false, "score": 0, "creation_date": 1594934683, "post_id": 57796690, "comment_id": 111309371, "body": "Trying getting rid of .forRoot({ preset: intersectionObserverPreset }) and update ng lazyload to 8.0.1"}], "owner": {"reputation": 31, "user_id": 8365697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kk0IK.jpg?s=128&g=1", "display_name": "glenskie16", "link": "https://stackoverflow.com/users/8365697/glenskie16"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 423, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1567641813, "creation_date": 1567639665, "last_edit_date": 1567639995, "question_id": 57796690, "link": "https://stackoverflow.com/questions/57796690/can-t-bind-to-lazyload-since-it-isn-t-a-known-property-of-img-ionic-4-ng", "title": "Can\u2019t bind to \u2018lazyLoad\u2019 since it isn\u2019t a known property of \u2018img\u2019 - Ionic 4 - ng-lazy-load", "body": "<p>I am trying to get lazyLoad to work on my Ionic 4 app. I have imported it on my app.module.ts, and are trying to use it on my page. I\u2019m not sure what the issue is and any help is greatly appreciated.</p>\n\n<p>app.module.ts</p>\n\n<pre><code>import { LazyLoadImageModule, intersectionObserverPreset } from 'ng-lazyload-image'; \n\n@NgModule({\n  declarations: [AppComponent],\n  entryComponents: [],\n  imports: [BrowserModule, IonicModule.forRoot(), AppRoutingModule, HttpClientModule, IonicStorageModule.forRoot(),LazyLoadImageModule.forRoot({preset: intersectionObserverPreset})],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    Insomnia,\n    { provide: RouteReuseStrategy, useClass: IonicRouteStrategy }\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n</code></pre>\n\n<p>my page.html</p>\n\n<pre><code>&lt;ion-col size=\"2\" *ngFor=\"let movie of browseResults| keyvalue\"&gt;\n        &lt;div class=\"rating\"&gt;&amp;#9734; {{movie.value.rating}}&lt;/div&gt;\n        &lt;img (click)=\"movieDetails(movie.value.stream_id)\" (keyup.enter)=\"movieDetails(movie.value.stream_id)\"  [lazyLoad]=\"movie.value.stream_icon\" class=\"browse-image focusable\"&gt;\n      &lt;/ion-col&gt;\n</code></pre>\n\n<p>And I'm importing it on the component.ts for this page but not sure what else to do. It's not really being used on the component.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1567639637, "post_id": 57796676, "comment_id": 102026342, "body": "What do you mean by &quot;This snippet of code works, but only until I try to put it into a function.&quot;? The code is already in a function and seems to work fine if it&#39;s printing what you show here (although it looks like you need to insert a newline after each row)."}, {"owner": {"reputation": 105, "user_id": 12022336, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDPPd3nV7HyqvYPRKzi5QX0k6pFdSoKFhXxnxu1=k-s128", "display_name": "grant taylor", "link": "https://stackoverflow.com/users/12022336/grant-taylor"}, "reply_to_user": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1567639907, "post_id": 57796676, "comment_id": 102026390, "body": "1  5 10 15 20 25  10 20 30 40 50 60 70 80 90 100 is what i get when i run it inside the function. I got the correct output without a function but inside my function i get the above"}, {"owner": {"reputation": 105, "user_id": 12022336, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDPPd3nV7HyqvYPRKzi5QX0k6pFdSoKFhXxnxu1=k-s128", "display_name": "grant taylor", "link": "https://stackoverflow.com/users/12022336/grant-taylor"}, "edited": false, "score": 0, "creation_date": 1567640298, "post_id": 57796676, "comment_id": 102026455, "body": "const multiplicationTable = function(maxValue)"}, {"owner": {"reputation": 2956, "user_id": 2207924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d97be4271939adcd1eec201cd777f57?s=128&d=identicon&r=PG", "display_name": "JeffUK", "link": "https://stackoverflow.com/users/2207924/jeffuk"}, "edited": false, "score": 0, "creation_date": 1567640424, "post_id": 57796676, "comment_id": 102026480, "body": "You return tableLine, the function will stop after you return, i.e. it will only ever return the first line of each table.. which is what you&#39;re seeing."}, {"owner": {"reputation": 105, "user_id": 12022336, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDPPd3nV7HyqvYPRKzi5QX0k6pFdSoKFhXxnxu1=k-s128", "display_name": "grant taylor", "link": "https://stackoverflow.com/users/12022336/grant-taylor"}, "edited": false, "score": 0, "creation_date": 1567641149, "post_id": 57796676, "comment_id": 102026596, "body": "Thanks for that, still unclear of what to use if not return to complete the function. Its an assignment so I have to keep the console.log(multiplicationTable(5)) output"}], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 4422643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ICPMT.jpg?s=128&g=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/4422643/richard"}, "is_accepted": true, "score": 1, "last_activity_date": 1567648810, "creation_date": 1567648810, "answer_id": 57797517, "question_id": 57796676, "link": "https://stackoverflow.com/questions/57796676/multiplication-table-print-to-console/57797517#57797517", "title": "Multiplication Table print to console", "body": "<p>When you use <code>return</code> inside a function, it will immediately exit the function and will not continue the rest of the processing.</p>\n\n<p>What you will need to do is to have another constant (eg. <code>table</code>) to store your <code>tableLine</code>. At the end of the processing, you return the <code>table</code> value.</p>\n\n<p>I have modified your code and you can see it below for your reference.\nYou will be able to get the same output as you expect.</p>\n\n<pre><code>function multiplicationTable(maxValue) {\n  let table = \"\";\n\n  for (let i = 1; i &lt;= maxValue; i++) {\n    let tableLine = \"\";\n    for (let j = 1; j &lt;= maxValue; j++) {\n     tableLine += \"\"+(i*j)+\" \";\n    }\n\n    tableLine += \"\\n\";\n    table += tableLine;\n  } \n\n  return table;\n}\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 12022336, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDPPd3nV7HyqvYPRKzi5QX0k6pFdSoKFhXxnxu1=k-s128", "display_name": "grant taylor", "link": "https://stackoverflow.com/users/12022336/grant-taylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 57797517, "answer_count": 1, "score": 1, "last_activity_date": 1567648810, "creation_date": 1567639470, "question_id": 57796676, "link": "https://stackoverflow.com/questions/57796676/multiplication-table-print-to-console", "title": "Multiplication Table print to console", "body": "<p>So my goal is to print a multiplication table in the console. This snippet of code works, but only until I try to put it into a function. </p>\n\n<p>I've replaced the console.log at the end of the loops with a return (see below) and then it only gives me 3 lines of output. I hope this is clear enough this is my first time posting.</p>\n\n<pre><code>  const multiplicationTable = function(maxValue) {\n\n\n\n    for (let i = 0; i &lt; 0; i++){\n        // This is shown to verify which value is the one on the \n         multiplication table with each line\n        //console.log(\"\"+i);\n        // then it clears the variable tableLine with each new line\n        let tableLine = \"\";\n\n        for (let j = 1; j &lt;= maxValue; j++) {\n            // It will add the results to a string each time\n         tableLine += \"\"+(i*j)+\" \";\n\n        }  return tableLine; //and display each line in the console\n\n      } \n    } \n\n\n\n    console.log(multiplicationTable(1));\n    console.log(multiplicationTable(5));\n    console.log(multiplicationTable(10));\n\n    //1\n    //\n    //1 2 3 4 5\n    //2 4 6 8 10\n    //3 6 9 12 15\n    //4 8 12 16 20\n    //5 10 15 20 25 \n    //\n    //1 2 3 4 5 6 7 8 9 10\n    //2 4 6 8 10 12 14 16 18 20\n    //3 6 9 12 15 18 21 24 27 30\n    //4 8 12 16 20 24 28 32 36 40\n    //5 10 15 20 25 30 35 40 45 50\n    //6 12 18 24 30 36 42 48 54 60\n    //7 14 21 28 35 42 49 56 63 70\n    //8 16 24 32 40 48 56 64 72 80\n    //9 18 27 36 45 54 63 72 81 90\n    //10 20 30 40 50 60 70 80 90 100\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 8222, "user_id": 1291879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Umr9q.png?s=128&g=1", "display_name": "Tigger", "link": "https://stackoverflow.com/users/1291879/tigger"}, "edited": false, "score": 0, "creation_date": 1567640184, "post_id": 57796659, "comment_id": 102026434, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2305654/innerhtml-vs-appendchildtxtnode\">&quot;innerHTML += ...&quot; vs &quot;appendChild(txtNode)&quot;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2123, "user_id": 2367096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GeWgS.png?s=128&g=1", "display_name": "Seano666", "link": "https://stackoverflow.com/users/2367096/seano666"}, "is_accepted": false, "score": 1, "last_activity_date": 1567639781, "creation_date": 1567639781, "answer_id": 57796704, "question_id": 57796659, "link": "https://stackoverflow.com/questions/57796659/innerhtml-returning-object-htmloptionelement/57796704#57796704", "title": "InnerHTML returning [object HTMLOptionElement]", "body": "<p>You're trying to treat an HTML Object in JavaScript like you would a string with this..</p>\n\n<pre><code>select.innerHTML += `${option}`;\n</code></pre>\n\n<p>You should try something like.</p>\n\n<pre><code>select.appendChild(option)\n</code></pre>\n\n<p>This actually adds the option as a DOM element as a child of the select.</p>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 11810596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef6e46da5a308f42dad0c8893d667da3?s=128&d=identicon&r=PG", "display_name": "Julio", "link": "https://stackoverflow.com/users/11810596/julio"}, "edited": false, "score": 0, "creation_date": 1567640779, "post_id": 57796723, "comment_id": 102026535, "body": "But the appendchild will only add in one &quot;child&quot;, the rest will eliminate. I believe that in this situation that I need to add in all will not help"}, {"owner": {"reputation": 8222, "user_id": 1291879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Umr9q.png?s=128&g=1", "display_name": "Tigger", "link": "https://stackoverflow.com/users/1291879/tigger"}, "reply_to_user": {"reputation": 59, "user_id": 11810596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef6e46da5a308f42dad0c8893d667da3?s=128&d=identicon&r=PG", "display_name": "Julio", "link": "https://stackoverflow.com/users/11810596/julio"}, "edited": false, "score": 0, "creation_date": 1567643470, "post_id": 57796723, "comment_id": 102027014, "body": "@Julio : See updated answer. Heading out for hours, so I will not be able to reply for a while."}], "tags": [], "owner": {"reputation": 8222, "user_id": 1291879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Umr9q.png?s=128&g=1", "display_name": "Tigger", "link": "https://stackoverflow.com/users/1291879/tigger"}, "is_accepted": false, "score": 1, "last_activity_date": 1567643415, "last_edit_date": 1567643415, "creation_date": 1567639926, "answer_id": 57796723, "question_id": 57796659, "link": "https://stackoverflow.com/questions/57796659/innerhtml-returning-object-htmloptionelement/57796723#57796723", "title": "InnerHTML returning [object HTMLOptionElement]", "body": "<p><strong>Edit:</strong>\nLooping over the <code>selectClass</code>, then the <code>arrayOptions</code> and using <code>appendChild</code> instead of using <code>innerHTML</code> resolves the issues.</p>\n\n<p><code>innerHTML</code> treats a \"string\" as if it was predefined HTML, but as you are creating an element, you need to use <code>appendChild</code> instead.</p>\n\n<p>From <a href=\"https://stackoverflow.com/questions/2305654/innerhtml-vs-appendchildtxtnode\">\u201cinnerHTML += \u2026\u201d vs \u201cappendChild(txtNode)\u201d</a> : Setting innerHTML does indeed invalidate any references to elements within the target element you may be holding -- because those elements don't exist anymore, you removed them and then put in new ones (that look very similar) when you set innerHTML.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function selectOptionsClass(selectClass, arrayOptions) {\r\n  let selects = document.querySelectorAll(\".\" + selectClass);\r\n  let option;\r\n  \r\n  selects.forEach(select =&gt; {\r\n    arrayOptions.forEach(opt =&gt; {\r\n      option = document.createElement(\"option\");\r\n      option.value = opt;\r\n      option.text = opt;\r\n      select.appendChild(option);\r\n    });\r\n  });\r\n}\r\nlet testeOptions = [0, 10, 20];\r\nselectOptionsClass('select-teste', testeOptions);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;label for=\"teste\"&gt;Teste&lt;/label&gt;\r\n&lt;select name=\"teste1\" id=\"teste1\" class=\"form-control select-teste\" required&gt;&lt;/select&gt;\r\n&lt;label for=\"teste\"&gt;Teste&lt;/label&gt;\r\n&lt;select name=\"teste2\" id=\"teste2\" class=\"form-control select-teste\" required&gt;&lt;/select&gt;\r\n&lt;label for=\"teste\"&gt;Teste&lt;/label&gt;\r\n&lt;select name=\"teste3\" id=\"teste3\" class=\"form-control select-teste\" required&gt;&lt;/select&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 59, "user_id": 11810596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef6e46da5a308f42dad0c8893d667da3?s=128&d=identicon&r=PG", "display_name": "Julio", "link": "https://stackoverflow.com/users/11810596/julio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 643, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1567643415, "creation_date": 1567639348, "question_id": 57796659, "link": "https://stackoverflow.com/questions/57796659/innerhtml-returning-object-htmloptionelement", "title": "InnerHTML returning [object HTMLOptionElement]", "body": "<p>I am trying to create a function to put options inside a select through the classes of these selects.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function selectOptionsClass(selectClass, arrayOptions) {\r\n  let selects = document.querySelectorAll(\".\" + selectClass);\r\n\r\n  for (let i = 0; i &lt; arrayOptions.length; i++) {\r\n    let option = document.createElement(\"option\");\r\n    option.value = arrayOptions[i];\r\n    option.text = arrayOptions[i];\r\n\r\n    selects.forEach(select =&gt; {\r\n      select.innerHTML += `${option}`;\r\n      console.log(select);\r\n    });   \r\n  }\r\n}\r\n\r\nlet testeOptions = [0, 10, 20];\r\nselectOptionsClass('select-teste', testeOptions);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n&lt;head&gt;\r\n  &lt;title&gt;Teste&lt;/title&gt;\r\n\r\n  &lt;meta charset=\"UTF-8\"&gt;\r\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\r\n  &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt;\r\n\r\n  &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" /&gt;\r\n  \r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n  &lt;div class=\"form-group col-2\"&gt;\r\n    &lt;label for=\"teste\"&gt;Teste&lt;/label&gt;\r\n    &lt;select name=\"teste\" id=\"teste\" class=\"form-control select-teste\" required&gt;&lt;/select&gt;\r\n   &lt;/div&gt;\r\n   &lt;div class=\"form-group col-2\"&gt;\r\n    &lt;label for=\"teste\"&gt;Teste&lt;/label&gt;\r\n    &lt;select name=\"teste\" id=\"teste\" class=\"form-control select-teste\" required&gt;&lt;/select&gt;\r\n   &lt;/div&gt;\r\n   &lt;div class=\"form-group col-2\"&gt;\r\n    &lt;label for=\"teste\"&gt;Teste&lt;/label&gt;\r\n    &lt;select name=\"teste\" id=\"teste\" class=\"form-control select-teste\" required&gt;&lt;/select&gt;\r\n   &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But the function is returning an [object HTMLOptionElement] inside select, not the object element I'd like.</p>\n\n<p>Can someone help me? Thank you!</p>\n"}, {"tags": ["javascript", "event-handling", "map-function"], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 8816816, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212440645985558/picture?type=large", "display_name": "Jahaziel Vazquez", "link": "https://stackoverflow.com/users/8816816/jahaziel-vazquez"}, "edited": false, "score": 0, "creation_date": 1567661152, "post_id": 57797010, "comment_id": 102030301, "body": "Thank you. The solution to the first problem definitely worked. I&#39;ll make sure I also include the HTML and CSS for the second problem in order to recreate the problem"}, {"owner": {"reputation": 115, "user_id": 8816816, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212440645985558/picture?type=large", "display_name": "Jahaziel Vazquez", "link": "https://stackoverflow.com/users/8816816/jahaziel-vazquez"}, "edited": false, "score": 0, "creation_date": 1567662795, "post_id": 57797010, "comment_id": 102030807, "body": "I&#39;ve added more code detail. Let me know if that helps more. Thank you so much"}, {"owner": {"reputation": 28156, "user_id": 1026, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ea331e778d54effc15b5fbc694bc8232?s=128&d=identicon&r=PG", "display_name": "Nickolay", "link": "https://stackoverflow.com/users/1026/nickolay"}, "reply_to_user": {"reputation": 115, "user_id": 8816816, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212440645985558/picture?type=large", "display_name": "Jahaziel Vazquez", "link": "https://stackoverflow.com/users/8816816/jahaziel-vazquez"}, "edited": false, "score": 0, "creation_date": 1567667887, "post_id": 57797010, "comment_id": 102032757, "body": "Nope. I&#39;ve added a runnable code sample based on the information you provided, and as you can see it works."}, {"owner": {"reputation": 115, "user_id": 8816816, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212440645985558/picture?type=large", "display_name": "Jahaziel Vazquez", "link": "https://stackoverflow.com/users/8816816/jahaziel-vazquez"}, "edited": false, "score": 0, "creation_date": 1567693134, "post_id": 57797010, "comment_id": 102046632, "body": "Ok, thanks to your code snippet, I figured out what the problem is, but I still don&#39;t know how to fix it. So my line of code is working, the problem is that the browser is updating before the change happens, and after it happens, the browser has already updated. Can you please give me ideas on how to get the browser to update afterward? Thank you so much!"}, {"owner": {"reputation": 115, "user_id": 8816816, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212440645985558/picture?type=large", "display_name": "Jahaziel Vazquez", "link": "https://stackoverflow.com/users/8816816/jahaziel-vazquez"}, "edited": false, "score": 0, "creation_date": 1567693183, "post_id": 57797010, "comment_id": 102046660, "body": "I can&#39;t remove the event handler because then, it won&#39;t re-add it"}, {"owner": {"reputation": 115, "user_id": 8816816, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212440645985558/picture?type=large", "display_name": "Jahaziel Vazquez", "link": "https://stackoverflow.com/users/8816816/jahaziel-vazquez"}, "edited": false, "score": 0, "creation_date": 1567697698, "post_id": 57797010, "comment_id": 102049204, "body": "Thank you so much! I finally fixed the bug. I&#39;ll post below what the answer was. You helped me A LOT"}, {"owner": {"reputation": 28156, "user_id": 1026, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ea331e778d54effc15b5fbc694bc8232?s=128&d=identicon&r=PG", "display_name": "Nickolay", "link": "https://stackoverflow.com/users/1026/nickolay"}, "reply_to_user": {"reputation": 115, "user_id": 8816816, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212440645985558/picture?type=large", "display_name": "Jahaziel Vazquez", "link": "https://stackoverflow.com/users/8816816/jahaziel-vazquez"}, "edited": false, "score": 0, "creation_date": 1567713006, "post_id": 57797010, "comment_id": 102055643, "body": "Cool, glad you figured it out!"}], "tags": [], "owner": {"reputation": 28156, "user_id": 1026, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ea331e778d54effc15b5fbc694bc8232?s=128&d=identicon&r=PG", "display_name": "Nickolay", "link": "https://stackoverflow.com/users/1026/nickolay"}, "is_accepted": false, "score": 1, "last_activity_date": 1567667851, "last_edit_date": 1567667851, "creation_date": 1567643146, "answer_id": 57797010, "question_id": 57796631, "link": "https://stackoverflow.com/questions/57796631/how-to-execute-the-map-function-within-an-event-handler/57797010#57797010", "title": "How to execute the map() function within an event handler", "body": "<p>This results in a \"TypeError: contentText.splice is not a function\":</p>\n\n<pre><code>let contentText = document.getElementsByClassName('content-text');\ncontentText.splice(0, 1);  \n</code></pre>\n\n<p>...because <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByClassName\" rel=\"nofollow noreferrer\">getElementsByClassName</a> returns \"an array-like object\" (a \"live\" <code>HTMLCollection</code>, which changes to track with the DOM), not a static array.</p>\n\n<p>To make a copy in a real <code>Array</code> object,  use <code>Array.from(document.getElementsByClassName(...))</code>.</p>\n\n<p>For #2 the problem seems to be outside of the code you posted. Please post the code that reproduces the issue. Note that using <code>.map</code>, while valid, <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map#Description\" rel=\"nofollow noreferrer\">is not recommended if you just want to do something for each element of a collection</a>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let immigrationEvent = () =&gt; {\r\n  const elts = Array.from(document.getElementsByClassName(\"hideme\"));\r\n  const [visibleElt] = elts.splice(0, 1);\r\n\r\n  elts.map((elt) =&gt; elt.style.display = 'none');\r\n  visibleElt.style.display = 'block';\r\n}\r\n\r\ndocument.querySelector(\"button\").addEventListener('click', immigrationEvent, false);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"hideme\"&gt;one&lt;/div&gt;\r\n&lt;div class=\"hideme\"&gt;two&lt;/div&gt;\r\n&lt;div class=\"hideme\"&gt;three&lt;/div&gt;\r\n\r\n&lt;button&gt;Run&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 115, "user_id": 8816816, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212440645985558/picture?type=large", "display_name": "Jahaziel Vazquez", "link": "https://stackoverflow.com/users/8816816/jahaziel-vazquez"}, "is_accepted": false, "score": 1, "last_activity_date": 1567698471, "creation_date": 1567698471, "answer_id": 57809006, "question_id": 57796631, "link": "https://stackoverflow.com/questions/57796631/how-to-execute-the-map-function-within-an-event-handler/57809006#57809006", "title": "How to execute the map() function within an event handler", "body": "<p>I finally figured it out</p>\n\n<p>Problem one: Nickolay was spot on. I needed to create an instance of my original array in order for JS to be able to parse through it</p>\n\n<pre><code>let contentText = \n Array.from(document.getElementsByClassName('content- \n text'));\n</code></pre>\n\n<p>Array from allowed me to use map, and splice etc. </p>\n\n<p>Problem Two: Thanks to Nickolay I was able to notice that my map feature was working, but every time the splice was running, it was removing elements, and the page was not able to read those changes. Instead I used slice, and targeted the sliced item to be the one that would display the data, and the original array would remain intact, and the map feature would remove the display from all elements in the array. See code below</p>\n\n<p>Destructuring the links that are going to trigger the event</p>\n\n<pre><code>let contentLinks = \n Array.from(document.getElementsByClassName('side-nav- \n items'));\n\nlet [immigration, contracts, divorce, debtCollection, \n escrow, expungement, mediation, personalInjury, \n willsAndTrusts] = contentLinks;\n</code></pre>\n\n<p>Destructuring the elements that are going to be displayed on the page</p>\n\n<pre><code>let contentText = \n Array.from(document.getElementsByClassName('content- \n text'));\n\nlet [immigrationText, contractsText, divorceText, \n debtCollectionText, escrowText, expungementText, \n mediationText, personalInjuryText, willsAndTrustsText] = \n contentText;\n</code></pre>\n\n<p>One of the events that are supposed to display only the target content. We slice the target code block and have it display block while having all elements display none</p>\n\n<pre><code> let immigrationEvent = () =&gt; {\n  let targetElement = contentText.slice(0, 1);\n  contentText.map((text) =&gt; text.style.display = 'none');\n  targetElement[0].style.display = 'block';\n  console.log(targetElement)\n };\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 8816816, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212440645985558/picture?type=large", "display_name": "Jahaziel Vazquez", "link": "https://stackoverflow.com/users/8816816/jahaziel-vazquez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1567698471, "creation_date": 1567639109, "last_edit_date": 1592644375, "question_id": 57796631, "link": "https://stackoverflow.com/questions/57796631/how-to-execute-the-map-function-within-an-event-handler", "title": "How to execute the map() function within an event handler", "body": "<p>I'm building a law firm website in vanilla JS, that involves a lot of pages with content. I'm trying to have a single page display the different pages of content as the user clicks on different links.\nI'm doing this by having the html already written with a default property of display: none, and as the user clicks on links, the target link can dynamically change that element's CSS to display: block, while making sure that all other elements are set to display: none, so that it can show one at a time. I have an array that contains all content elements and using splice to remove the target element from the map function which is supposed to set all elements to display: none, and them I'm setting the target element to display: block.\nThe problem is map is not executing when I use it within the event handler, but it does work when I use it outside the event handler. It's not throwing any errors, it's just not setting the display to none.</p>\n<p>I've tried different ways of getting the same results such as using the forEach() function, but this is also having a similar result to map. It's not throwing any errors but it's not working. I tried creating a universal class with display: none, and dynamically adding that class to all target elements using map or forEach but that's also not working.</p>\n<p>Also, splice was not working because it kept telling me that splice is not a function. After a lot of trial and error, and tons of research the only way I was able to fix this was by manually targeting each element using document.getElementById() which is extremely inefficient. It never worked when I used document.getElementsByClassName(), or when I used document.querySelectorAll()</p>\n<p>Problem One: splice is not a function</p>\n<p>Grabbing all elements and destructuring them for more efficiency</p>\n<blockquote>\n<p><code>let contentText = document.getElementsByClassName('content-text');</code></p>\n<p><code>let [immigrationText, contractsText, divorceText, debtCollectionText, escrowText, expungementText, mediationText, personalInjuryText, willsAndTrustsText] = contentText;</code></p>\n</blockquote>\n<p>Using splice within the event handler</p>\n<blockquote>\n</blockquote>\n<pre><code>let immigrationEvent = () =&gt; {  \n      contentText.splice(0, 1);  \n      contentText.map((link) =&gt; link.style.display = 'none');  \n      immigrationText.style.display = 'block';  \n    }; \n</code></pre>\n<p>Error</p>\n<blockquote>\n</blockquote>\n<pre><code>Uncaught TypeError: contentText.splice is not a function\n    at HTMLLIElement.immigrationEvent\n</code></pre>\n<p>Problem 2: Map feature doesn't execute</p>\n<p>Grabbing all links and destructuring them. This is so the user can click on these links, and when they click on them, it should map through all the links that are not being called at the time, and should change the css display to none</p>\n<pre><code>let contentLinks = Array.from(document.getElementsByClassName('side- \n nav-items'));\n\nlet [immigration, contracts, divorce, debtCollection, escrow, \n expungement, mediation, personalInjury, willsAndTrusts] = \n contentLinks;\n</code></pre>\n<p>Grabbing all elements that contain the content we wish to display, and destructuring them, and adding them to the array called contentText</p>\n<pre><code>let contentText = Array.from(document.getElementsByClassName('content- \n text'));\n\nlet [immigrationText, contractsText, divorceText, debtCollectionText, \n escrowText, expungementText, mediationText, personalInjuryText, \n willsAndTrustsText] = contentText;\n</code></pre>\n<p>Splicing the array to exclude the page that's currently being called by the user, and then mapping the rest so that they switch the display property to none. This, of course, is the event handler function</p>\n<pre><code>let immigrationEvent = () =&gt; {\n contentText.splice(0, 1);\n contentText.map((link) =&gt; link.style.display = 'none');\n immigrationText.style.display = 'block';\n};\n\nlet contractsEvent = () =&gt; {\n contentText.splice(1, 1);\n contentText.map((link) =&gt; link.classList.add('content-hide'));\n contractsText.style.display = 'block';\n};\n</code></pre>\n<p>Calling the Event handler function. I'm including 2 examples</p>\n<pre><code>immigration.addEventListener('click', immigrationEvent, false);\ncontracts.addEventListener('click', contractsEvent, false);\n</code></pre>\n<p>Problem 1: Expected result, is I want splice to work when I use some type of select all feature, but it only works when I target them using</p>\n<pre><code>getElementById()\n</code></pre>\n<p>Problem 2: I want the map feature to set all target elements within the array to set to display none. Instead what happens is, as I click through the links, it adds the elements to the same page but doesn't hide the previous elements</p>\n"}, {"tags": ["javascript", "jquery", "html", "filter"], "comments": [{"owner": {"reputation": 122, "user_id": 3874082, "user_type": "registered", "profile_image": "https://graph.facebook.com/61408854/picture?type=large", "display_name": "Callistus Asirvatham", "link": "https://stackoverflow.com/users/3874082/callistus-asirvatham"}, "edited": false, "score": 1, "creation_date": 1567639062, "post_id": 57796553, "comment_id": 102026238, "body": "Is there a reason you are using .attr(&quot;value&quot;), you could use just .val(), as you are using the this ojbect binding to the element. Give that a try"}, {"owner": {"reputation": 7914, "user_id": 2780711, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/yeJ7R.jpg?s=128&g=1", "display_name": "icecub", "link": "https://stackoverflow.com/users/2780711/icecub"}, "edited": false, "score": 0, "creation_date": 1567639453, "post_id": 57796553, "comment_id": 102026311, "body": "It completely depends on how you want it to work. If you only want it to show or hide the divs, all you have to do is add the class <code>all</code> to those elements and make sure the css class makes them visible. You could add <code>!important</code> there to make sure it overrides the other classes. If however you want the other checkboxes to become selected, this will become a whole lot more complicated. As you would need to automaticly select all if the other 3 are selected and remove all if one of them is deselected."}], "answers": [{"comments": [{"owner": {"reputation": 339, "user_id": 9666510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d580c4cce12e7c8c7c9e2c0801b754e7?s=128&d=identicon&r=PG&f=1", "display_name": "jdfink", "link": "https://stackoverflow.com/users/9666510/jdfink"}, "edited": false, "score": 0, "creation_date": 1567640718, "post_id": 57796662, "comment_id": 102026527, "body": "Well done, sir. I was just working on this, but your solution is much more elegant than what I had come up with. Very nice!"}, {"owner": {"reputation": 2276, "user_id": 2464865, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PG1SL.png?s=128&g=1", "display_name": "Jared Newnam", "link": "https://stackoverflow.com/users/2464865/jared-newnam"}, "edited": false, "score": 0, "creation_date": 1567642863, "post_id": 57796662, "comment_id": 102026909, "body": "Wow, @Mohamed-Yousef! Thank you very much. I&#39;m just not that great with jQuery."}, {"owner": {"reputation": 22747, "user_id": 3385827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7r8VX.png?s=128&g=1", "display_name": "Mohamed-Yousef", "link": "https://stackoverflow.com/users/3385827/mohamed-yousef"}, "reply_to_user": {"reputation": 2276, "user_id": 2464865, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PG1SL.png?s=128&g=1", "display_name": "Jared Newnam", "link": "https://stackoverflow.com/users/2464865/jared-newnam"}, "edited": false, "score": 1, "creation_date": 1567654773, "post_id": 57796662, "comment_id": 102028867, "body": "You&#39;re totally welcome @webfrogs .. Have a great day :-)"}, {"owner": {"reputation": 22747, "user_id": 3385827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7r8VX.png?s=128&g=1", "display_name": "Mohamed-Yousef", "link": "https://stackoverflow.com/users/3385827/mohamed-yousef"}, "reply_to_user": {"reputation": 2276, "user_id": 2464865, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PG1SL.png?s=128&g=1", "display_name": "Jared Newnam", "link": "https://stackoverflow.com/users/2464865/jared-newnam"}, "edited": false, "score": 1, "creation_date": 1567660732, "post_id": 57796662, "comment_id": 102030188, "body": "@webfrogs I updated my answer with a more complicated code you may need .. Have a nice day :-)"}, {"owner": {"reputation": 2276, "user_id": 2464865, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PG1SL.png?s=128&g=1", "display_name": "Jared Newnam", "link": "https://stackoverflow.com/users/2464865/jared-newnam"}, "edited": false, "score": 0, "creation_date": 1567691198, "post_id": 57796662, "comment_id": 102045461, "body": "I had done something similar on my end already. But I like you&#39;rs better. Thanks @Mohamed-Yousef."}, {"owner": {"reputation": 2276, "user_id": 2464865, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PG1SL.png?s=128&g=1", "display_name": "Jared Newnam", "link": "https://stackoverflow.com/users/2464865/jared-newnam"}, "edited": false, "score": 0, "creation_date": 1567703539, "post_id": 57796662, "comment_id": 102051826, "body": "@Mohamed-Yousef - I&#39;m seeing a lot of extra white space after I start filtering the items. I assume there&#39;s a way to apply the <code>$trim()</code> function, but not sure how to implement. Here&#39;s a <b><a href=\"https://codepen.io/newnam/pen/bGbaELy\" rel=\"nofollow noreferrer\">pen</a></b> to look at."}, {"owner": {"reputation": 22747, "user_id": 3385827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7r8VX.png?s=128&g=1", "display_name": "Mohamed-Yousef", "link": "https://stackoverflow.com/users/3385827/mohamed-yousef"}, "reply_to_user": {"reputation": 2276, "user_id": 2464865, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PG1SL.png?s=128&g=1", "display_name": "Jared Newnam", "link": "https://stackoverflow.com/users/2464865/jared-newnam"}, "edited": false, "score": 0, "creation_date": 1567704136, "post_id": 57796662, "comment_id": 102052067, "body": "which white space?? @webfrogs"}, {"owner": {"reputation": 2276, "user_id": 2464865, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PG1SL.png?s=128&g=1", "display_name": "Jared Newnam", "link": "https://stackoverflow.com/users/2464865/jared-newnam"}, "edited": false, "score": 0, "creation_date": 1567708278, "post_id": 57796662, "comment_id": 102053704, "body": "@Mohamed-Yousef Here&#39;s an example, where I&#39;ve selected <b>Negotiation</b> - <b><a href=\"http://prntscr.com/p2by2z\" rel=\"nofollow noreferrer\">Codepen</a></b>  As you can see there is a lot of difference in the spacing between items. Is there a way to tighten that up?"}, {"owner": {"reputation": 2276, "user_id": 2464865, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PG1SL.png?s=128&g=1", "display_name": "Jared Newnam", "link": "https://stackoverflow.com/users/2464865/jared-newnam"}, "edited": false, "score": 0, "creation_date": 1567711694, "post_id": 57796662, "comment_id": 102055115, "body": "I see it now. Thanks."}], "tags": [], "owner": {"reputation": 22747, "user_id": 3385827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7r8VX.png?s=128&g=1", "display_name": "Mohamed-Yousef", "link": "https://stackoverflow.com/users/3385827/mohamed-yousef"}, "is_accepted": true, "score": 4, "last_activity_date": 1567709808, "last_edit_date": 1567709808, "creation_date": 1567639398, "answer_id": 57796662, "question_id": 57796553, "link": "https://stackoverflow.com/questions/57796553/how-to-add-a-select-all-option-to-a-jquery-filter/57796662#57796662", "title": "How to add a select all option to a jquery filter", "body": "<p>By using <code>addClass()</code> , <code>removeClass()</code> and <code>toggleClass()</code> it will be much easier to achieve this</p>\n\n<ul>\n<li><p>You can use <code>.val()</code> instead of <code>.attr('value')</code></p></li>\n<li><p>Use <code>if</code> statement to check the selectAll checkbox value </p></li>\n<li><p>Add <code>.box.show</code> class to your css style sheet</p></li>\n<li><p>With <code>checkbox</code> use <code>.change</code> instead of <code>.click</code></p></li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Javascript\r\n$(document).ready(function(){\r\n    $('input[type=\"checkbox\"]').change(function(){\r\n        var inputValue = $(this).val();  // input value\r\n        if(inputValue == 'all' &amp;&amp; $(this).is(\":checked\")){   // check the selectAll value and this is checked\r\n          $(\".box\").addClass('show'); // Add class show to all the box\r\n        }else if(inputValue == 'all' &amp;&amp; !$(this).is(\":checked\")){\r\n          $(\".box\").removeClass('show');\r\n        }else{\r\n          $(\".\" + inputValue).toggleClass('show'); // toggle class show\r\n        }\r\n    });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.hidden {\r\n  visibility: hidden;\r\n  position: absolute;\r\n  left: 20px;\r\n  top: 5px;\r\n  z-index: -1;\r\n}\r\n\r\n.box {\r\n  color: #fff;\r\n  padding: 20px;\r\n  display: none;\r\n  margin-top: 20px;\r\n}\r\n.box.show{\r\n  display : block;\r\n}\r\n.red{ background: #ff0000; }\r\n.green{ background: #228B22; }\r\n.blue{ background: #0000ff; }\r\nlabel{ margin-right: 15px; }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css\"&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div class=\"container p-5\"&gt;\r\n  &lt;div class=\"row\"&gt;\r\n    &lt;div class=\"col-sm-12\"&gt;\r\n      &lt;label class=\"btn btn-md btn-primary\"&gt;\r\n        &lt;input type=\"checkbox\" name=\"colorCheckbox\" class=\"hidden\" value=\"all\"&gt;Select All\r\n      &lt;/label&gt;\r\n      &lt;label class=\"btn btn-md btn-primary\"&gt;\r\n        &lt;input type=\"checkbox\" name=\"colorCheckbox\" class=\"hidden\" value=\"red\"&gt;Red\r\n      &lt;/label&gt;\r\n      &lt;label class=\"btn btn-md btn-primary\"&gt;\r\n        &lt;input type=\"checkbox\" name=\"colorCheckbox\" class=\"hidden\" value=\"green\"&gt;Green\r\n      &lt;/label&gt;\r\n      &lt;label class=\"btn btn-md btn-primary\"&gt;\r\n        &lt;input type=\"checkbox\" name=\"colorCheckbox\" class=\"hidden\" value=\"blue\"&gt;Blue\r\n      &lt;/label&gt;\r\n\r\n      &lt;div class=\"red box\"&gt;You have selected &lt;strong&gt;red checkbox&lt;/strong&gt; so i am here&lt;/div&gt;\r\n      &lt;div class=\"green box\"&gt;You have selected &lt;strong&gt;green checkbox&lt;/strong&gt; so i am here&lt;/div&gt;\r\n      &lt;div class=\"blue box\"&gt;You have selected &lt;strong&gt;blue checkbox&lt;/strong&gt; so i am here&lt;/div&gt;  \r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><sup><strong>This code is just for start</strong> .. Still a lot of work needed depending on what you're trying to do</sup></p>\n\n<p>Additional: </p>\n\n<ul>\n<li><p>Nothing called <code>visible:</code> in css it should be <code>visibility:</code></p></li>\n<li><p>To get the count of checked checkbox <code>$('input[type=\"checkbox\"]:checked').length</code></p></li>\n</ul>\n\n<p><strong>Let's go farther away and make it more complicated</strong></p>\n\n<p>Let's say you want to add some action to the filter checkboxes also the selectAll checkbox to change classes or change the selectAll button style or check if all buttons checked or not if its checked then change selectAll button class and so on</p>\n\n<p><strong>The main idea in the next code is :</strong> The selectAll button will change the checkboxes to checked or unchecked and this change will effect the show/hide boxes by itself so no need here to make the selectAll button to control show/hide boxes . <strong>It will control the checkboxes not the boxes</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Javascript\r\n$(document).ready(function(){\r\n    $('.filter input[type=\"checkbox\"]').change(function(){\r\n        var input = $(this);  // this input\r\n        var inputValue = input.val();  // this input value\r\n        var inputLabel = input.closest('label'); // get the closest label\r\n        \r\n        if(input.hasClass('all-boxes')){ // if its selectAll button\r\n          ToggleCheckboxes(input);\r\n        }else{\r\n          input.toggleClass('Checked notChecked');\r\n          inputLabel.toggleClass('btn-success');\r\n          ToggleBoxes(inputValue);\r\n          // get checked checkboxes\r\n          var countAllCheckboxes = $('.filter-boxes').length;\r\n          var countChecked = $('.filter-boxes.Checked').length;\r\n          if(countAllCheckboxes == countChecked){\r\n            $(\".all-boxes\").prop('checked' , true).closest('label').addClass('btn-success');\r\n          }else{\r\n            $(\".all-boxes\").prop('checked' , false).closest('label').removeClass('btn-success');\r\n          }\r\n        }\r\n    });\r\n});\r\n\r\n// show/hide boxes\r\nfunction ToggleBoxes(Selector){\r\n  $(\".\" + Selector).toggleClass('show');\r\n}\r\n\r\n// toggle the checkboxes to checked/unchecked\r\nfunction ToggleCheckboxes(Selector){\r\n  var GetChecked = Selector.is(':checked')? 'notChecked':'Checked';\r\n  console.log(GetChecked);\r\n  $('.filter-boxes.'+ GetChecked).change();\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.hidden {\r\n  visibility: hidden;\r\n  position: absolute;\r\n  left: 20px;\r\n  top: 5px;\r\n  z-index: -1;\r\n}\r\n\r\n.box {\r\n  color: #fff;\r\n  padding: 20px;\r\n  display: none;\r\n  margin-top: 20px;\r\n}\r\n.box.show{\r\n  display : block;\r\n}\r\n.red{ background: #ff0000; }\r\n.green{ background: #228B22; }\r\n.blue{ background: #0000ff; }\r\nlabel{ margin-right: 15px; }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css\"&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div class=\"container p-5\"&gt;\r\n  &lt;div class=\"row\"&gt;\r\n    &lt;div class=\"col-sm-12 filter\"&gt;\r\n      &lt;label class=\"btn btn-md btn-primary\"&gt;\r\n        &lt;input type=\"checkbox\" name=\"colorCheckbox\" class=\"hidden all-boxes\" value=\"all\"&gt;Select All\r\n      &lt;/label&gt;\r\n      &lt;label class=\"btn btn-md btn-primary\"&gt;\r\n        &lt;input type=\"checkbox\" name=\"colorCheckbox\" class=\"hidden filter-boxes notChecked\" value=\"red\"&gt;Red\r\n      &lt;/label&gt;\r\n      &lt;label class=\"btn btn-md btn-primary\"&gt;\r\n        &lt;input type=\"checkbox\" name=\"colorCheckbox\" class=\"hidden filter-boxes notChecked\" value=\"green\"&gt;Green\r\n      &lt;/label&gt;\r\n      &lt;label class=\"btn btn-md btn-primary\"&gt;\r\n        &lt;input type=\"checkbox\" name=\"colorCheckbox\" class=\"hidden filter-boxes notChecked\" value=\"blue\"&gt;Blue\r\n      &lt;/label&gt;\r\n\r\n      &lt;div class=\"red box\"&gt;You have selected &lt;strong&gt;red checkbox&lt;/strong&gt; so i am here&lt;/div&gt;\r\n      &lt;div class=\"green box\"&gt;You have selected &lt;strong&gt;green checkbox&lt;/strong&gt; so i am here&lt;/div&gt;\r\n      &lt;div class=\"blue box\"&gt;You have selected &lt;strong&gt;blue checkbox&lt;/strong&gt; so i am here&lt;/div&gt;  \r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>To change white spaces heights between items .. in css style</p>\n\n<pre><code>.item-selected {\n  color: #fff;\n  padding: 20px;\n  display: none;\n  margin-top: 5px;  /* &lt;&lt;&lt;&lt;&lt;&lt; here */\n  background: #cccccc;\n}\n</code></pre>\n\n<p>And the reason of different height of white spaces between items this is because all <code>.col-</code> classes has a <code>min-height : 1px;</code> .. To avoid this copy/paste the next code to your css stylesheet</p>\n\n<pre><code>#selfPacedList .col-sm-12{\n  min-height : 0px;\n}\n</code></pre>\n"}], "owner": {"reputation": 2276, "user_id": 2464865, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PG1SL.png?s=128&g=1", "display_name": "Jared Newnam", "link": "https://stackoverflow.com/users/2464865/jared-newnam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 1, "accepted_answer_id": 57796662, "answer_count": 1, "score": 0, "last_activity_date": 1567709808, "creation_date": 1567638439, "question_id": 57796553, "link": "https://stackoverflow.com/questions/57796553/how-to-add-a-select-all-option-to-a-jquery-filter", "title": "How to add a select all option to a jquery filter", "body": "<p>I have managed to start working with this filter and the only thing left to do is understand how to allow the 'Select All' function to work properly. It keeps breaking on me. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Javascript\r\n$(document).ready(function(){\r\n    $('input[type=\"checkbox\"]').click(function(){\r\n        var inputValue = $(this).attr(\"value\");\r\n        $(\".\" + inputValue).toggle();\r\n    }); \r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.hidden {\r\n  visible: hidden;\r\n  position: absolute;\r\n  left: 20px;\r\n  top: 5px;\r\n  z-index: -1;\r\n}\r\n\r\n.box {\r\n  color: #fff;\r\n  padding: 20px;\r\n  display: none;\r\n  margin-top: 20px;\r\n}\r\n.red{ background: #ff0000; }\r\n.green{ background: #228B22; }\r\n.blue{ background: #0000ff; }\r\nlabel{ margin-right: 15px; }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css\"&gt;\r\n&lt;script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.bundle.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div class=\"container p-5\"&gt;\r\n  &lt;div class=\"row\"&gt;\r\n    &lt;div class=\"col-sm-12\"&gt;\r\n      &lt;label class=\"btn btn-md btn-primary\"&gt;\r\n        &lt;input type=\"checkbox\" name=\"colorCheckbox\" class=\"hidden\" value=\"all\"&gt;Select All\r\n      &lt;/label&gt;\r\n      &lt;label class=\"btn btn-md btn-primary\"&gt;\r\n        &lt;input type=\"checkbox\" name=\"colorCheckbox\" class=\"hidden\" value=\"red\"&gt;Red\r\n      &lt;/label&gt;\r\n      &lt;label class=\"btn btn-md btn-primary\"&gt;\r\n        &lt;input type=\"checkbox\" name=\"colorCheckbox\" class=\"hidden\" value=\"green\"&gt;Green\r\n      &lt;/label&gt;\r\n      &lt;label class=\"btn btn-md btn-primary\"&gt;\r\n        &lt;input type=\"checkbox\" name=\"colorCheckbox\" class=\"hidden\" value=\"blue\"&gt;Blue\r\n      &lt;/label&gt;\r\n\r\n      &lt;div class=\"red box\"&gt;You have selected &lt;strong&gt;red checkbox&lt;/strong&gt; so i am here&lt;/div&gt;\r\n      &lt;div class=\"green box\"&gt;You have selected &lt;strong&gt;green checkbox&lt;/strong&gt; so i am here&lt;/div&gt;\r\n      &lt;div class=\"blue box\"&gt;You have selected &lt;strong&gt;blue checkbox&lt;/strong&gt; so i am here&lt;/div&gt;  \r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "graphql", "prisma"], "answers": [{"tags": [], "owner": {"reputation": 56993, "user_id": 6024220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6s3nUiQ9-fI/AAAAAAAAAAI/AAAAAAAAA0E/3zpg3zXHu4I/photo.jpg?sz=128", "display_name": "Daniel Rearden", "link": "https://stackoverflow.com/users/6024220/daniel-rearden"}, "is_accepted": false, "score": 1, "last_activity_date": 1567647097, "creation_date": 1567647097, "answer_id": 57797363, "question_id": 57796526, "link": "https://stackoverflow.com/questions/57796526/variable-error-using-prisma-generated-code/57797363#57797363", "title": "Variable error using Prisma generated code", "body": "<p>There's no need to include a <code>data</code> property in the object passed to <code>createUser</code> -- just pass in the parameters as a map:</p>\n\n<pre><code>const user = await context.prisma.createUser({\n  name: args.name,\n  email,\n  password,\n})\n</code></pre>\n\n<p>See <a href=\"https://www.prisma.io/docs/1.34/prisma-client/basic-data-access/writing-data-JAVASCRIPT-rsc6/\" rel=\"nofollow noreferrer\">the docs</a> for additional details and examples.</p>\n"}], "owner": {"reputation": 23, "user_id": 3904225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UYE16.jpg?s=128&g=1", "display_name": "Bryan Gumpic", "link": "https://stackoverflow.com/users/3904225/bryan-gumpic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1567647097, "creation_date": 1567638078, "last_edit_date": 1567638847, "question_id": 57796526, "link": "https://stackoverflow.com/questions/57796526/variable-error-using-prisma-generated-code", "title": "Variable error using Prisma generated code", "body": "<p>I'm using createUser generated by Prisma which requires data that expect UserCreateInput.</p>\n\n<p>However, i'm having an error. </p>\n\n<p>the error</p>\n\n<p>Error: Variable '$data' expected value of type 'UserCreateInput!' but got: {\"data\":{\"name\":\"bryan\",\"email\":\"bryan@email.com\",\"password\":\"$2a$10$U33Z8mkK1hPgR96r6DOrNuxI6vaBSARUwFOgh4vYQq0VmMstgZNhG\"}}. Reason: 'email' Expected non-null value, found null. (line 1, column 11):\nmutation ($data: UserCreateInput!) {</p>\n\n<p>schema.graphql</p>\n\n<pre><code>type Query {\n  users: [User!]!\n}\n\ntype Mutation {\n  signup(email: String!, password: String!, name: String!): User!\n\ntype User {\n  id: ID!\n  email: String!\n  name: String!\n  clients: [Client]\n  products: [Product]\n}\n\n</code></pre>\n\n<p>Mutation</p>\n\n<pre><code>const bcrypt = require('bcryptjs')\nconst jwt = require('jsonwebtoken')\n\nconst Mutation = {\n  async signup(root, args, context) {\n    const email = args.email.toLowerCase()\n    const password = await bcrypt.hash(args.password, 10)\n    const user = await context.prisma.createUser({\n      data: {\n        name: args.name,\n        email,\n        password\n      }\n    })\n    const token = jwt.sign({ userId: user.id }, process.env.APP_SECRET)\n    context.response.cookie('token', token, {\n      httpOnly: true,\n      maxAge: 1000 * 60 * 60 * 24 * 356\n    })\n    return user\n  }\n}\n\nmodule.exports = Mutation\n\n</code></pre>\n\n<p>datamodel.prisma for user</p>\n\n<pre><code>type User {\n  id: ID! @id\n  email: String! @unique\n  name: String!\n  password: String!\n  clients: [Client] @relation(link:INLINE)\n  products: [Product] @relation(link:INLINE)\n  transactions: [Transaction] @relation(link:INLINE)\n}\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "dom", "submit", "addeventlistener"], "answers": [{"comments": [{"owner": {"reputation": 783, "user_id": 11558707, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Xp0YFC-Qx0s/AAAAAAAAAAI/AAAAAAAAAjA/TFDWmvA8gIM/photo.jpg?sz=128", "display_name": "Salah Eddine Makdour", "link": "https://stackoverflow.com/users/11558707/salah-eddine-makdour"}, "edited": false, "score": 0, "creation_date": 1567679429, "post_id": 57796561, "comment_id": 102038630, "body": "i tried it but it has a problem it doesnt actually add a new element to the page"}, {"owner": {"reputation": 783, "user_id": 11558707, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Xp0YFC-Qx0s/AAAAAAAAAAI/AAAAAAAAAjA/TFDWmvA8gIM/photo.jpg?sz=128", "display_name": "Salah Eddine Makdour", "link": "https://stackoverflow.com/users/11558707/salah-eddine-makdour"}, "edited": false, "score": 0, "creation_date": 1567680944, "post_id": 57796561, "comment_id": 102039467, "body": "i&#39;ve uploaded the full code with the html file to github if you wanna check it out  <a href=\"https://github.com/salahmak/Todo-application\" rel=\"nofollow noreferrer\">github.com/salahmak/Todo-application</a>"}], "tags": [], "owner": {"reputation": 56, "user_id": 2980019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/165ddbbfac24801fed6b294a0489f911?s=128&d=identicon&r=PG&f=1", "display_name": "slappydappy", "link": "https://stackoverflow.com/users/2980019/slappydappy"}, "is_accepted": true, "score": 2, "last_activity_date": 1567638493, "creation_date": 1567638493, "answer_id": 57796561, "question_id": 57796515, "link": "https://stackoverflow.com/questions/57796515/how-to-add-new-elements-to-the-objects-array-from-the-submit-event-handler/57796561#57796561", "title": "How to add new elements to the objects array from the submit event handler", "body": "<p>Since you have an array of objects with 'text' and 'completed' properties, you will need to push a new object with that structure onto your array.</p>\n\n<pre><code>const newObject = {text: e.target.elements.firstName.value, completed: false};\ntodos.push(newObject);\n</code></pre>\n\n<p>or if you want to condense it a bit:</p>\n\n<pre><code>todos.push({text: e.target.elements.firstName.value, completed: false});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 783, "user_id": 11558707, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Xp0YFC-Qx0s/AAAAAAAAAAI/AAAAAAAAAjA/TFDWmvA8gIM/photo.jpg?sz=128", "display_name": "Salah Eddine Makdour", "link": "https://stackoverflow.com/users/11558707/salah-eddine-makdour"}, "edited": false, "score": 0, "creation_date": 1567679105, "post_id": 57796591, "comment_id": 102038474, "body": "this is the shortest solution that i was thinking of but didnt know how to write it well thanks dude"}, {"owner": {"reputation": 783, "user_id": 11558707, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Xp0YFC-Qx0s/AAAAAAAAAAI/AAAAAAAAAjA/TFDWmvA8gIM/photo.jpg?sz=128", "display_name": "Salah Eddine Makdour", "link": "https://stackoverflow.com/users/11558707/salah-eddine-makdour"}, "edited": false, "score": 0, "creation_date": 1567679698, "post_id": 57796591, "comment_id": 102038771, "body": "but still doesnt work on the page it doesn&#39;t add a new p element to the page you can check the page here on this ngrok link  [link] ( 8e83ae80.ngrok.io)"}, {"owner": {"reputation": 783, "user_id": 11558707, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Xp0YFC-Qx0s/AAAAAAAAAAI/AAAAAAAAAjA/TFDWmvA8gIM/photo.jpg?sz=128", "display_name": "Salah Eddine Makdour", "link": "https://stackoverflow.com/users/11558707/salah-eddine-makdour"}, "edited": false, "score": 0, "creation_date": 1567681182, "post_id": 57796591, "comment_id": 102039584, "body": "check out the github repository of this app : [ github.com/salahmak/Todo-application ]"}], "tags": [], "owner": {"reputation": 74, "user_id": 6221400, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204614731046509/picture?type=large", "display_name": "Magnus Fohlstr&#246;m", "link": "https://stackoverflow.com/users/6221400/magnus-fohlstr%c3%b6m"}, "is_accepted": false, "score": 1, "last_activity_date": 1567638756, "creation_date": 1567638756, "answer_id": 57796591, "question_id": 57796515, "link": "https://stackoverflow.com/questions/57796515/how-to-add-new-elements-to-the-objects-array-from-the-submit-event-handler/57796591#57796591", "title": "How to add new elements to the objects array from the submit event handler", "body": "<p>Value to add </p>\n\n<pre><code>let value = e.target.elements.firstName.value,\nobject = {'text': value, 'completed':true }; \n\ntodos.push(object);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 783, "user_id": 11558707, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Xp0YFC-Qx0s/AAAAAAAAAAI/AAAAAAAAAjA/TFDWmvA8gIM/photo.jpg?sz=128", "display_name": "Salah Eddine Makdour", "link": "https://stackoverflow.com/users/11558707/salah-eddine-makdour"}, "edited": false, "score": 0, "creation_date": 1567680019, "post_id": 57796946, "comment_id": 102038959, "body": "same :(  doesn&#39;t add a new p element to the html page you can check it out here and i can upload the whole code of the app on github you can check the page here [link] ( 8e83ae80.ngrok.io)"}, {"owner": {"reputation": 783, "user_id": 11558707, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Xp0YFC-Qx0s/AAAAAAAAAAI/AAAAAAAAAjA/TFDWmvA8gIM/photo.jpg?sz=128", "display_name": "Salah Eddine Makdour", "link": "https://stackoverflow.com/users/11558707/salah-eddine-makdour"}, "edited": false, "score": 0, "creation_date": 1567681115, "post_id": 57796946, "comment_id": 102039556, "body": "check out the github repository of this app : [ <a href=\"https://github.com/salahmak/Todo-application\" rel=\"nofollow noreferrer\">github.com/salahmak/Todo-application</a> ]"}, {"owner": {"reputation": 290, "user_id": 5974331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bK5uL.png?s=128&g=1", "display_name": "Guilherme Rossato", "link": "https://stackoverflow.com/users/5974331/guilherme-rossato"}, "reply_to_user": {"reputation": 783, "user_id": 11558707, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Xp0YFC-Qx0s/AAAAAAAAAAI/AAAAAAAAAjA/TFDWmvA8gIM/photo.jpg?sz=128", "display_name": "Salah Eddine Makdour", "link": "https://stackoverflow.com/users/11558707/salah-eddine-makdour"}, "edited": false, "score": 0, "creation_date": 1567796688, "post_id": 57796946, "comment_id": 102084884, "body": "Your github code works perfectly. Writing something and clicking &quot;submit&quot; adds the task at the bottom as expected. Maybe try a different browser?"}], "tags": [], "owner": {"reputation": 290, "user_id": 5974331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bK5uL.png?s=128&g=1", "display_name": "Guilherme Rossato", "link": "https://stackoverflow.com/users/5974331/guilherme-rossato"}, "is_accepted": false, "score": 1, "last_activity_date": 1567642280, "creation_date": 1567642280, "answer_id": 57796946, "question_id": 57796515, "link": "https://stackoverflow.com/questions/57796515/how-to-add-new-elements-to-the-objects-array-from-the-submit-event-handler/57796946#57796946", "title": "How to add new elements to the objects array from the submit event handler", "body": "<p>Create a function that adds a task given its parameters, which in your case would look like this:</p>\n\n<pre><code>function addTask(name, completed) {\n    let p = document.createElement('p');\n    p.textContent = name;\n    document.querySelector('#todo').appendChild(p);\n}\n</code></pre>\n\n<p>If you ever need to change the implementation, it will be well-contained in this function.</p>\n\n<p>Then, when you need to <strong>add a new task</strong> (in this case in the submit handler), you just have to call the function:</p>\n\n<pre><code>document.querySelector('#form').addEventListener('submit', function(e) {\n    var title = document.querySelector('input[type=\"text\"]').value;\n    addTask(title, false);\n});\n</code></pre>\n\n<p>Abstracting your objectives in functions gives you benefits, like a more organized code, so as a bonus, you can now simplify how you create the very first tasks:</p>\n\n<pre><code>const todos = [{\n    text: 'wake up',\n    completed: true\n}, {\n    text: 'get some food',\n    completed: true\n}];\n\ntodos.forEach(function(todo) {\n    addTask(todo.text);\n})\n</code></pre>\n"}], "owner": {"reputation": 783, "user_id": 11558707, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Xp0YFC-Qx0s/AAAAAAAAAAI/AAAAAAAAAjA/TFDWmvA8gIM/photo.jpg?sz=128", "display_name": "Salah Eddine Makdour", "link": "https://stackoverflow.com/users/11558707/salah-eddine-makdour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "accepted_answer_id": 57796561, "answer_count": 3, "score": 0, "last_activity_date": 1567642280, "creation_date": 1567638000, "question_id": 57796515, "link": "https://stackoverflow.com/questions/57796515/how-to-add-new-elements-to-the-objects-array-from-the-submit-event-handler", "title": "How to add new elements to the objects array from the submit event handler", "body": "<p>Hello coder i was trying to make a simple javascript todo app and i've already setup some stuff but now im stuck at 'how can i add a new element to the todos array of objects from the <code>addEventListener('submit', function(e){}</code>\nto make u understand what i wanna do more i leave this code down below of my todo app:</p>\n\n<pre><code>//The array im working with\n\nconst todos = [{\n    text: 'wake up',\n    completed: true\n}, {\n    text: 'get some food',\n    completed: true\n}, {\n    text: 'play csgo',\n    completed: false\n}, {\n    text: 'play minecraft',\n    completed: true\n}, {\n    text: 'learn javascript',\n    completed: false\n}];\n\n//looping to create new p elements on the html for todos\n\ntodos.forEach(function(todo){\n    let p = document.createElement('p');\n    p.textContent = todo.text;\n    document.querySelector('#todo').appendChild(p);\n})\n\n//the eventListener that i want to make add new .text property to the todo array inside a new object\n\ndocument.querySelector('#form').addEventListener('submit', function(e){\ne.preventDefault();\ntodos.push(e.target.elements.firstName.value)\n</code></pre>\n"}, {"tags": ["javascript", "npm"], "owner": {"reputation": 2878, "user_id": 977524, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c77608603004acd9dd89446f8e649cea?s=128&d=identicon&r=PG", "display_name": "whiterook6", "link": "https://stackoverflow.com/users/977524/whiterook6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1567637868, "creation_date": 1567637868, "question_id": 57796504, "link": "https://stackoverflow.com/questions/57796504/where-do-i-export-function-in-my-npm-package-so-developers-can-import-them", "title": "Where do I export function in my npm package so developers can import them?", "body": "<p>I am trying to create an npm package for others to use. Currently, my project looks like this:</p>\n\n<pre><code>lib/\n  forms/\n    Button.js\n    ...\n  layouts/\n    Row.js\n    ...\nnode_modules/\nsrc/\n  forms/\n    Button.tsx\n    ...\n  layouts/\n    Row.tsx\n    ...\npackage.json\n...\n</code></pre>\n\n<p><code>package.json</code> specifies that only lib/**/* should be published. An <code>npm</code> script compiles my <code>*.tsx</code> files into the <code>*.js</code> files in the <code>lib/</code> directory.</p>\n\n<p>Ideally, after someone installs my package, they would be able to import Button like this:</p>\n\n<pre><code>import {Button} from \"@whiterook6/components/forms\"\n</code></pre>\n\n<p>But the way the import works currently is if it looks like this:</p>\n\n<pre><code>import {Button} from \"@whiterook6/components/lib/forms/Button\"\n</code></pre>\n\n<p>How and where do I put my index.js files, and what content goes inside them, so that they</p>\n\n<ul>\n<li>reference the lib/**/*.js files properly, instead of referencing src/ files, since those won't be published;</li>\n<li>allow other devs to only include the bits they want (so the total compiled project size remains small); and</li>\n<li>have a \"nice\" import statement?</li>\n</ul>\n\n<p>Also, what is the correct export syntax I should use?</p>\n"}, {"tags": ["javascript"], "answers": [{"tags": [], "owner": {"reputation": 8985, "user_id": 5581565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63a93f05570b10a05c0a8d6e7049a2a9?s=128&d=identicon&r=PG", "display_name": "Salim Djerbouh", "link": "https://stackoverflow.com/users/5581565/salim-djerbouh"}, "is_accepted": false, "score": 0, "last_activity_date": 1567641242, "last_edit_date": 1567641242, "creation_date": 1567638225, "answer_id": 57796531, "question_id": 57796456, "link": "https://stackoverflow.com/questions/57796456/applying-changes-to-text-on-pasting-into-input-instead-of-key-down-entery/57796531#57796531", "title": "Applying changes to text on pasting into input instead of key down entery", "body": "<h1>Original answer (look at the update)  [interesting]</h1>\n\n<p>Add a <code>change</code> event listener to the input, because <code>keydown</code>\u00a0is not emmitted when pasting</p>\n\n<p>Something like this should work</p>\n\n<pre><code>$('#txtnumber').change(function(e) {\n     var x = e.target.value.replace(/\\D/g, '').match(/(\\d{3})(\\d{3})(\\d{4})/);\n    e.target.value = x[1] + '-' + x[2] + '-' + x[3];\n});\n</code></pre>\n\n<h1>\u00a0Update</h1>\n\n<p>Working always on vuejs. <code>Change</code> is the thing. Apparently not for <strong>purejs</strong> and in google chrome (i will test for other browser later)</p>\n\n<p>For some reason, the <code>change</code> event only fires when the input field loses focus.\nBinding to other options ('change keypress paste focus textInput input') will fire the event several times, which is bad. </p>\n\n<p>The below code works even when content is pasted into the text field, and only fires once as expected.</p>\n\n<p><code>input</code> <strong>event</strong> come to the rescue (or simple it's our event) (change however is confusing).</p>\n\n<pre><code>$('#txtnumber').bind('input', function(e) {\n    console.log('This actually fires');\n    console.log(e.target.value);\n});\n</code></pre>\n\n<p>And a pure js </p>\n\n<pre><code>document.getElementById('txtnumber').addEventListener('input', function(e) {\n    var x = e.target.value.replace(/\\D/g, '').match(/(\\d{3})(\\d{3})(\\d{4})/);\n    e.target.value = x[1] + '-' + x[2] + '-' + x[3];\n});\n</code></pre>\n\n<h2>Final Example</h2>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#txtnumber').bind('input', function(e) {\r\n    if (e.target.value.length === 10) {\r\n        var x = e.target.value.replace(/\\D/g, '').match(/(\\d{3})(\\d{3})(\\d{4})/);\r\n        e.target.value = x[1] + '-' + x[2] + '-' + x[3];\r\n    }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;input id=\"txtnumber\" type=\"text\" maxlength=\"12\" placeholder=\"xxx-xxx-xxxx\" /&gt;&lt;br /&gt;&lt;br /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1323, "user_id": 335905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5b0ad4b126928d80ef66ff5209e122c?s=128&d=identicon&r=PG", "display_name": "celerno", "link": "https://stackoverflow.com/users/335905/celerno"}, "is_accepted": false, "score": 0, "last_activity_date": 1567638306, "creation_date": 1567638306, "answer_id": 57796540, "question_id": 57796456, "link": "https://stackoverflow.com/questions/57796456/applying-changes-to-text-on-pasting-into-input-instead-of-key-down-entery/57796540#57796540", "title": "Applying changes to text on pasting into input instead of key down entery", "body": "<p>you need to capture the Ctrl key + V, and then insert your -'s </p>\n\n<pre><code>var ctrlDown = false,\n    ctrlKey = 17,\n    cmdKey = 91,\n    vKey = 86,\n    cKey = 67;\n\n$(document).keydown(function(e) {\n    if (e.keyCode == ctrlKey || e.keyCode == cmdKey) ctrlDown = true;\n}).keyup(function(e) {\n    if (e.keyCode == ctrlKey || e.keyCode == cmdKey) ctrlDown = false;\n});\n\n/// your code + \n$(function () {\n\n        $('#txtnumber').keydown(function (e) {\n         var key = e.charCode || e.keyCode || 0;\n         if (ctrlDown &amp;&amp; (e.keyCode == vKey)){\n                //insert the -'s on respective possition\n         }\n         else{\n          $text = $(this); \n          if (key !== 8 &amp;&amp; key !== 9) {\n             if ($text.val().length === 3) {\n                 $text.val($text.val() + '-');\n             }\n             if ($text.val().length === 7) {\n                 $text.val($text.val() + '-');\n             }\n         }\n         }\n</code></pre>\n\n<p>credits to> <a href=\"https://stackoverflow.com/a/2904944/335905\">https://stackoverflow.com/a/2904944/335905</a></p>\n"}], "owner": {"reputation": 5710, "user_id": 2426488, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/srdPe.png?s=128&g=1", "display_name": "Mona Coder", "link": "https://stackoverflow.com/users/2426488/mona-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1567853242, "creation_date": 1567637453, "last_edit_date": 1567853242, "question_id": 57796456, "link": "https://stackoverflow.com/questions/57796456/applying-changes-to-text-on-pasting-into-input-instead-of-key-down-entery", "title": "Applying changes to text on pasting into input instead of key down entery", "body": "<p>I am trying to append <code>-</code> between phone numbers in user input to be like <code>xxx-xxx-xxxx</code> instead of <code>xxxxxxxxxx</code> .</p>\n\n<p>This is working fine when using Keys to enter value but what about Pasting the number or Chrome Auto-fill function? For example if you copy and paste <code>2222222222</code> to the input the <code>-</code> will not added between.</p>\n\n<p>How can I fix this?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> $(function () {\r\n\r\n            $('#txtnumber').keydown(function (e) {\r\n             var key = e.charCode || e.keyCode || 0;\r\n             $text = $(this); \r\n             if (key !== 8 &amp;&amp; key !== 9) {\r\n                 if ($text.val().length === 3) {\r\n                     $text.val($text.val() + '-');\r\n                 }\r\n                 if ($text.val().length === 7) {\r\n                     $text.val($text.val() + '-');\r\n                 }\r\n             }\r\n\r\n             return (key == 8 || key == 9 || key == 46 || (key &gt;= 48 &amp;&amp; key &lt;= 57) || (key &gt;= 96 &amp;&amp; key &lt;= 105));\r\n         })\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n &lt;input id=\"txtnumber\"   type=\"text\" maxlength=\"12\" placeholder=\"xxx-xxx-xxxx\" /&gt;&lt;br /&gt;&lt;br /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery", "html", "ajax"], "comments": [{"owner": {"reputation": 136, "user_id": 8476013, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-L-cULMc8RL0/AAAAAAAAAAI/AAAAAAAAABI/0IiVLZZkgcc/photo.jpg?sz=128", "display_name": "Lachlan Walls", "link": "https://stackoverflow.com/users/8476013/lachlan-walls"}, "edited": false, "score": 0, "creation_date": 1567649683, "post_id": 57796454, "comment_id": 102028007, "body": "Do you expect the database request to load instantly? It won&#39;t, because a database request is asynchronous and takes time. Could you instead make it say loading, and switch to the &quot;No data available&quot; message if no rows are returned?"}, {"owner": {"reputation": 41, "user_id": 12021853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8a1e602543e507765d6d79a7d3453e?s=128&d=identicon&r=PG&f=1", "display_name": "plshelpme", "link": "https://stackoverflow.com/users/12021853/plshelpme"}, "reply_to_user": {"reputation": 136, "user_id": 8476013, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-L-cULMc8RL0/AAAAAAAAAAI/AAAAAAAAABI/0IiVLZZkgcc/photo.jpg?sz=128", "display_name": "Lachlan Walls", "link": "https://stackoverflow.com/users/8476013/lachlan-walls"}, "edited": false, "score": 0, "creation_date": 1567695392, "post_id": 57796454, "comment_id": 102047940, "body": "I added an image showing the problem I&#39;m having, the message of &quot;No data available&quot; appears in the first row even after the script append the data. I thought that the problem was because the script run after the table loads, but then I dont know why the message keeps appearing."}, {"owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 0, "creation_date": 1567697263, "post_id": 57796454, "comment_id": 102048990, "body": "you have an append -- that means the old line is still there.  you need to replace all the content with what you create."}, {"owner": {"reputation": 41, "user_id": 12021853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8a1e602543e507765d6d79a7d3453e?s=128&d=identicon&r=PG&f=1", "display_name": "plshelpme", "link": "https://stackoverflow.com/users/12021853/plshelpme"}, "edited": false, "score": 0, "creation_date": 1567698446, "post_id": 57796454, "comment_id": 102049620, "body": "Creating a table body and appending it to the table would be enough? Or I would have to create the whole data table in the jquery?"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 12021853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8a1e602543e507765d6d79a7d3453e?s=128&d=identicon&r=PG&f=1", "display_name": "plshelpme", "link": "https://stackoverflow.com/users/12021853/plshelpme"}, "is_accepted": false, "score": 0, "last_activity_date": 1567702734, "creation_date": 1567702734, "answer_id": 57810010, "question_id": 57796454, "link": "https://stackoverflow.com/questions/57796454/datatable-no-data-available-in-table-even-if-it-have-data/57810010#57810010", "title": "DataTable &quot;No data available in table&quot; even if it have data", "body": "<p>Yes the problem was that the old content was still there even after the appends.</p>\n\n<p>I found a way to solve it.\nIn order to replace the content with the one I created, I had to destroy and initialize the table in the jquery.</p>\n\n<pre><code>function displayUser() {\n\nvar table = $('#dtVerticalScrollExample').DataTable();\ntable.destroy();\n\nfor (i = 0; i &lt; userList.length; i++) {\n    var $tblRow = $('&lt;tr id=\"row' + i + '\"/&gt;');\n\n    $tblRow.append('&lt;td id=\"td' + i + '\"&gt;' + userList[i][' inv-id'] + '&lt;/td&gt;');\n    $tblRow.append('&lt;td id=\"td' + i + '\"&gt;' + userList[i]['inv-com-name'] + '&lt;/td&gt;');\n    $tblRow.append('&lt;td id=\"td' + i + '\"&gt;' + userList[i]['inv-email'] + '&lt;/td&gt;');\n    $tblRow.append('&lt;td id=\"td' + i + '\"&gt;' + userList[i]['email'] + '&lt;/td&gt;');\n    $tblRow.append('&lt;td id=\"td' + i + '\"&gt;' + '&lt;button onClick=\"edit(' + i + ')\" class=\"btn btn-info btn-xs btn-edit\"&gt;Edit&lt;/button&gt;' + '&lt;/td&gt;');\n\n    $('#dtVerticalScrollExample').append($tblRow);\n\n};\nvar table = $('#dtVerticalScrollExample').DataTable();\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 41, "user_id": 12021853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8a1e602543e507765d6d79a7d3453e?s=128&d=identicon&r=PG&f=1", "display_name": "plshelpme", "link": "https://stackoverflow.com/users/12021853/plshelpme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 845, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567702734, "creation_date": 1567637442, "last_edit_date": 1567698246, "question_id": 57796454, "link": "https://stackoverflow.com/questions/57796454/datatable-no-data-available-in-table-even-if-it-have-data", "title": "DataTable &quot;No data available in table&quot; even if it have data", "body": "<p>I have to fill a datatable with some data I get from a google spreadsheet, i create the table in HTML and appends the rows with Jquery.</p>\n\n<p>The problem is that when the datatable laods the first row says \"No data available in table\" even when the nexts rows have data.</p>\n\n<p>This is part of the code Im using</p>\n\n<p>//this function creates table rows and appends it to the table body</p>\n\n<pre><code>function displayUser() {\n\nfor (i = 0; i &lt; userList.length; i++) {\n    var $tblRow = $('&lt;tr id=\"row' + i + '\"&gt;');\n\n    $tblRow.append('&lt;td id=\"td' + i + '\"&gt;' + userList[i][' inv-id']\n        + '&lt;/td&gt;');\n    $tblRow.append('&lt;td id=\"td' + i + '\"&gt;' + userList[i]['inv-com-name']\n        + '&lt;/td&gt;');\n    $tblRow.append('&lt;td id=\"td' + i + '\"&gt;' + userList[i]['inv-email']\n        + '&lt;/td&gt;');\n    $tblRow.append('&lt;td id=\"td' + i + '\"&gt;' + userList[i]['email']\n        + '&lt;/td&gt;');\n    $tblRow.append('&lt;td id=\"td' + i + '\"&gt;' + '&lt;button onClick=\"editarUsuario(' + i + ')\" class=\"btn btn-info btn-xs btn-edit\"&gt;Edit&lt;/button&gt;'\n        + '&lt;/td&gt;');\n    $('#tbody').append($tblRow);\n};\n}\n</code></pre>\n\n<p>Also the html code for the table is this</p>\n\n<pre><code>&lt;table id=\"dtVerticalScrollExample\"\n            class=\"table table-striped table-bordered table-sm text-center table-fixed\" cellspacing=\"0\"\n            width=\"100%\"&gt;\n            &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th class=\"th-sm\"&gt;ID\n                    &lt;/th&gt;\n                    &lt;th class=\"th-sm\"&gt;Company\n                    &lt;/th&gt;\n                    &lt;th class=\"th-sm\"&gt;Email\n                    &lt;/th&gt;\n                    &lt;th class=\"th-sm\"&gt;User\n                    &lt;/th&gt;\n                    &lt;th class=\"th-sm\"&gt;Action\n                    &lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody id=\"tbody\"&gt;\n\n               *here is where the data is appended*\n\n            &lt;/tbody&gt;\n\n        &lt;/table&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/iel6j.png\" rel=\"nofollow noreferrer\">Here is a imagen that shows that the table appears to be empty even when the data was appended by the script, the first row is the message of \"No data available in table\" and says 0 entries below</a></p>\n\n<p>I expect the datatable to load and be filled by the script that get the data from the database. But what actual happens is that the frist row says the datatable is empty but it have data in the nexts rows.</p>\n"}, {"tags": ["javascript", "debugging", "jestjs", "webstorm"], "comments": [{"owner": {"reputation": 72396, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "edited": false, "score": 0, "creation_date": 1567691777, "post_id": 57796432, "comment_id": 102045857, "body": "did you try using <a href=\"https://www.jetbrains.com/help/webstorm/2019.2/using-breakpoints.html#breakpoint-properties\" rel=\"nofollow noreferrer\">conditional breakpoints</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 28635, "user_id": 10149510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qVO7k.jpg?s=128&g=1", "display_name": "Brian Adams", "link": "https://stackoverflow.com/users/10149510/brian-adams"}, "is_accepted": true, "score": 2, "last_activity_date": 1567698254, "last_edit_date": 1567698254, "creation_date": 1567697879, "answer_id": 57808856, "question_id": 57796432, "link": "https://stackoverflow.com/questions/57796432/using-jest-how-to-trigger-a-breakpoint-only-when-a-test-case-fails/57808856#57808856", "title": "Using Jest, how to trigger a breakpoint only when a test case fails?", "body": "<p>If you know the values at compile time then you can use <a href=\"https://jestjs.io/docs/en/api#testeachtable-name-fn-timeout\" rel=\"nofollow noreferrer\"><code>test.each</code></a> to create unique tests for each value which lets you see clearly which value is failing:</p>\n\n<pre><code>const tests = [[6], [7], [8]];\n\ntest.each(tests)(\n  '%i should be even',\n  v =&gt; {\n    expect(v % 2).toBe(0);\n  }\n)\n</code></pre>\n\n<p>...which reports that two tests pass (6 and 8) and fails on 7 with a descriptive message:</p>\n\n<pre><code>\u25cf 7 should be even\n\nexpect(received).toBe(expected) // Object.is equality\n\nExpected: 0\nReceived: 1\n\n  4 |   '%i should be even',\n  5 |   v =&gt; {\n&gt; 6 |     expect(v % 2).toBe(0);\n    |                   ^\n  7 |   }\n  8 | )\n\n  at toBe (src/code.test.js:6:19)\n</code></pre>\n\n<hr>\n\n<p>If the test data isn't available until runtime and the assertion is a simple one, then you can just set a conditional breakpoint on the <code>expect</code> line:</p>\n\n<pre><code>const generateData = count =&gt; {\n  const data = [];\n  for (let i = 0; i &lt; count; i++) {\n    data.push(Math.floor(Math.random() * 10) + 1);\n  }\n  return data;\n}\n\ntest('all values are even', () =&gt; {\n  generateData(1000).map(v =&gt; {\n    expect(v % 2).toBe(0);  // &lt;= set breakpoint for v % 2 !== 0\n  });\n})\n</code></pre>\n\n<hr>\n\n<p>If the test data isn't available until runtime and it would be difficult to set a conditional breakpoint then you can wrap the <code>expect</code> in a <code>try / catch</code> and put a breakpoint in the <code>catch</code>:</p>\n\n<pre><code>const generateData = count =&gt; {\n  const data = [];\n  for (let i = 0; i &lt; count; i++) {\n    data.push(Math.floor(Math.random() * 10) + 1);\n  }\n  return data;\n}\n\ntest('all values are even', () =&gt; {\n  generateData(1000).map(v =&gt; {\n    try {\n      expect(v % 2).toBe(0);\n    }\n    catch (err) {\n      throw err;  // &lt;= set your breakpoint here\n    }\n  });\n})\n</code></pre>\n\n<p><code>expect</code> statements work by throwing an <code>Error</code> if the assertion fails, so this approach simply catches and re-throws the <code>Error</code> but gives you a place to set a breakpoint that will get triggered for the failing <code>expect</code>.</p>\n"}], "owner": {"reputation": 607, "user_id": 1850909, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8dc1e2879e816591f40bdcae849e01d8?s=128&d=identicon&r=PG", "display_name": "lowtex", "link": "https://stackoverflow.com/users/1850909/lowtex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 0, "accepted_answer_id": 57808856, "answer_count": 1, "score": 1, "last_activity_date": 1567710146, "creation_date": 1567637264, "last_edit_date": 1567710146, "question_id": 57796432, "link": "https://stackoverflow.com/questions/57796432/using-jest-how-to-trigger-a-breakpoint-only-when-a-test-case-fails", "title": "Using Jest, how to trigger a breakpoint only when a test case fails?", "body": "<p>Given a test case similar to this one:</p>\n\n<pre><code>test(\u201ctest\u201d, () =&gt; {\n    [1, 2, ..., 1000000].map(value =&gt; {\n        expect(() =&gt; foo(value)).toThrow();\n    });\n})\n</code></pre>\n\n<p>is there a simple way to set a breakpoint (e.g. on line 3) that will only be triggered if the expect statement fails?</p>\n\n<p>In other words, if one of the values somewhere in the middle of a big array is causing the test to fail, while most of the values do not trigger the exceptional condition, is there some way to set a breakpoint that will be skipped if the test passes but break if the test fails?</p>\n\n<p>That would make it a lot easier to figure out why the test is failing for that value.</p>\n\n<p>I am using WebStorm, so I would be satisfied with an answer for how to do it with Chrome/node, with code, or with WebStorm.</p>\n"}, {"tags": ["javascript", "networking"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1567637468, "post_id": 57796401, "comment_id": 102025970, "body": "Why do you need an API for devtools for this? Just go into the Network tab, click on the URL of the request, then you can click on Response to see the response."}, {"owner": {"reputation": 126, "user_id": 3384286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p63Ck.jpg?s=128&g=1", "display_name": "Ivo Yordanov", "link": "https://stackoverflow.com/users/3384286/ivo-yordanov"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1567639626, "post_id": 57796401, "comment_id": 102026340, "body": "If I could do that I wouldn&#39;t be asking this question."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1567639817, "post_id": 57796401, "comment_id": 102026369, "body": "Oh, now I see, you&#39;re trying to figure out how to trick the browser into letting you make a cross-origin AJAX request, by putting the API URL into something else and then accessing the raw response in your code. If you could do this, it would be a security hole in the browser, and they&#39;d eventually fix it to block you. So I suggest you seek an alternative method. The usual solution is to run a proxy on your server."}, {"owner": {"reputation": 126, "user_id": 3384286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p63Ck.jpg?s=128&g=1", "display_name": "Ivo Yordanov", "link": "https://stackoverflow.com/users/3384286/ivo-yordanov"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1567643055, "post_id": 57796401, "comment_id": 102026939, "body": "Strictly technically speaking the browser is tricked into doing the cross-origin request. Issue is with recovering the response as there isn&#39;t much information on the devtools.network API. I have though of the proxy but problem is that CORS is not configured at all at the server I am not sure it will work. If the origin was set to none it would but with it not configured at all... The API method on the server is just for backend polling."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1567643108, "post_id": 57796401, "comment_id": 102026947, "body": "You don&#39;t need CORS if the request is coming from the server, only browsers check CORS."}, {"owner": {"reputation": 126, "user_id": 3384286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p63Ck.jpg?s=128&g=1", "display_name": "Ivo Yordanov", "link": "https://stackoverflow.com/users/3384286/ivo-yordanov"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1567643236, "post_id": 57796401, "comment_id": 102026975, "body": "Issue is I need to do it from the browser..In standard server to server everything works fine."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1567643376, "post_id": 57796401, "comment_id": 102026995, "body": "That&#39;s why you use a proxy on your server. The request goes browser-&gt;yourServer-&gt;APIServer, and the proxy forwards the response back."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1567643413, "post_id": 57796401, "comment_id": 102027002, "body": "Your server is in the same domain as the web page, so there&#39;s no CORS problem there."}, {"owner": {"reputation": 126, "user_id": 3384286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p63Ck.jpg?s=128&g=1", "display_name": "Ivo Yordanov", "link": "https://stackoverflow.com/users/3384286/ivo-yordanov"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1567643567, "post_id": 57796401, "comment_id": 102027030, "body": "Problem is my proxy is not on the same domain as the webpage. Although maybe I could enable Origin: * for the proxy."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1567643633, "post_id": 57796401, "comment_id": 102027038, "body": "Yes, <code>Access-Control-Allow-Origin: *</code> would work, that&#39;s what we do."}, {"owner": {"reputation": 126, "user_id": 3384286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p63Ck.jpg?s=128&g=1", "display_name": "Ivo Yordanov", "link": "https://stackoverflow.com/users/3384286/ivo-yordanov"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1567643747, "post_id": 57796401, "comment_id": 102027049, "body": "Ok.. Will try to use the proxy and see if it works for this. I still would love to know if there is doc on the devtools.network API though... Seems like something that can come in handy."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1567643828, "post_id": 57796401, "comment_id": 102027067, "body": "The other question has a link to documentation: <a href=\"https://developer.chrome.com/extensions/devtools_network#method-getHAR\" rel=\"nofollow noreferrer\">developer.chrome.com/extensions/devtools_network#method-getH&zwnj;&#8203;AR</a>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1567643893, "post_id": 57796401, "comment_id": 102027079, "body": "But depending on this in a production application seems wrong. It ties you to a specific browser. I also think this can only be used from extensions, not web applications."}, {"owner": {"reputation": 126, "user_id": 3384286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p63Ck.jpg?s=128&g=1", "display_name": "Ivo Yordanov", "link": "https://stackoverflow.com/users/3384286/ivo-yordanov"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1567643903, "post_id": 57796401, "comment_id": 102027084, "body": "That is the standard documentation and is very limited. There must be more info on the API somewhere out there."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1567643952, "post_id": 57796401, "comment_id": 102027094, "body": "The main page <a href=\"https://developer.chrome.com/extensions/devtools\" rel=\"nofollow noreferrer\">developer.chrome.com/extensions/devtools</a> is titled &quot;Extending DevTools&quot;. It&#39;s only for adding DevTools extensions, I don&#39;t think it can be used in applications."}, {"owner": {"reputation": 126, "user_id": 3384286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p63Ck.jpg?s=128&g=1", "display_name": "Ivo Yordanov", "link": "https://stackoverflow.com/users/3384286/ivo-yordanov"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1567643955, "post_id": 57796401, "comment_id": 102027095, "body": "The devtools.network API is supposed to be the same with minor changes for chrome and mozila."}, {"owner": {"reputation": 126, "user_id": 3384286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p63Ck.jpg?s=128&g=1", "display_name": "Ivo Yordanov", "link": "https://stackoverflow.com/users/3384286/ivo-yordanov"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1567644370, "post_id": 57796401, "comment_id": 102027174, "body": "Ok so it doesn&#39;t serve me. Hard thing to trick the browser. This front end stuff is nightmare.. I should stick with back end.. Thx for the proxy!  Post it as an answer so I can choose it as soon as I can test."}], "owner": {"reputation": 126, "user_id": 3384286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p63Ck.jpg?s=128&g=1", "display_name": "Ivo Yordanov", "link": "https://stackoverflow.com/users/3384286/ivo-yordanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "closed_date": 1567644863, "answer_count": 0, "score": 0, "last_activity_date": 1567636831, "creation_date": 1567636831, "question_id": 57796401, "link": "https://stackoverflow.com/questions/57796401/is-there-a-way-to-recover-the-response-of-a-web-request-from-the-list-of-network", "closed_reason": "Duplicate", "title": "Is there a way to recover the response of a web request from the list of network requests of the browser?", "body": "<p>I can't find any information on how to recover the response of a specific request from the network tab of the browser. </p>\n\n<p>I have an issue when trying to poll remote API URL from browser as the remote domain does not have CORS configured correctly and I lack access to configure it so I must both launch the request and recover the response. </p>\n\n<p>I have tried placing the request in an iframe and an async image download with the URL of the API. Both cases with the same issue. The request are executed but question is how to recover the response. I have looked at devtool.network both for chrome and mozilla but can find examples with the response being returned or a lot of information on the requests. \nI think my question can be related to <a href=\"https://stackoverflow.com/questions/48251120/api-reference-for-chrome-devtools-network\">API Reference for chrome.devtools.network</a>\nThat one never got solved. \nIf somebody can share information on devtools with me or a workarround to my use case (avoid CORS) both would work as a solutions for me. </p>\n\n<p>I only need to be pointed out in the way of documentation I can use or practical example of a web request response being recovered.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 2862320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8594e11cf21b740da26d834a7388a25d?s=128&d=identicon&r=PG&f=1", "display_name": "user2862320", "link": "https://stackoverflow.com/users/2862320/user2862320"}, "edited": false, "score": 0, "creation_date": 1567648868, "post_id": 57796451, "comment_id": 102027877, "body": "Hi Baboo_ , thanks for the reply. I have already tried changing the function definition to async and added await but render method still doesn&#39;t get the updated value of includeDocReqSig"}, {"owner": {"reputation": 2172, "user_id": 6325822, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ggMPi.jpg?s=128&g=1", "display_name": "Baboo_", "link": "https://stackoverflow.com/users/6325822/baboo"}, "reply_to_user": {"reputation": 21, "user_id": 2862320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8594e11cf21b740da26d834a7388a25d?s=128&d=identicon&r=PG&f=1", "display_name": "user2862320", "link": "https://stackoverflow.com/users/2862320/user2862320"}, "edited": false, "score": 0, "creation_date": 1567651786, "post_id": 57796451, "comment_id": 102028339, "body": "You issue is that React has not clue about the update of <code>includeDocReqSig</code>. Move the variable to the state of the component so you can trigger a rerender with <code>setState</code>"}], "tags": [], "owner": {"reputation": 2172, "user_id": 6325822, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ggMPi.jpg?s=128&g=1", "display_name": "Baboo_", "link": "https://stackoverflow.com/users/6325822/baboo"}, "is_accepted": false, "score": 0, "last_activity_date": 1567637431, "creation_date": 1567637431, "answer_id": 57796451, "question_id": 57796387, "link": "https://stackoverflow.com/questions/57796387/class-level-variable-updated-inside-a-componentwillmount-function-not-accessible/57796451#57796451", "title": "class level variable updated inside a componentWillMount function not accessible in render method after a function call", "body": "<p>You forgot to wait for the fetch to end:</p>\n\n<pre><code>// Mark the function as async\npublic async componentWillMount(): Promise&lt;void&gt; {\n  this.eRequestService = new ERequestService(\n    this.props.context.pageContext.web.absoluteUrl,\n    this.props.context.spHttpClient\n  );\n  this.appSettings = new AppSettings();\n  this.serviceCalls = new NwhERequestFormRest(this.eRequestService, this.appSettings);\n\n  // Wait for the fetch   \u2193\u2193\u2193\u2193\u2193\n  this.includeDocReqSig = await this.serviceCalls._getFieldChoice(\"Signature_x0020_Required\", true);\n  console.log(this.includeDocReqSig);\n\n  // return Promise.resolve(); \u2190 This line is optional since the function is marked as async\n}\n</code></pre>\n\n<p>But I suggest to use a state manager instead of a class attribute.</p>\n\n<p>For example with Redux you will be able to detect a change in the choices of the dropdown. As it is now, changes can't be detected as the attribute is out of the React loop.</p>\n"}], "owner": {"reputation": 21, "user_id": 2862320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8594e11cf21b740da26d834a7388a25d?s=128&d=identicon&r=PG&f=1", "display_name": "user2862320", "link": "https://stackoverflow.com/users/2862320/user2862320"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1567637431, "creation_date": 1567636738, "question_id": 57796387, "link": "https://stackoverflow.com/questions/57796387/class-level-variable-updated-inside-a-componentwillmount-function-not-accessible", "title": "class level variable updated inside a componentWillMount function not accessible in render method after a function call", "body": "<p>I have created following react class in my code base and trying to use the variable <strong>includeDocReqSig</strong> in the render method. </p>\n\n<p>Refer to following lines of code in the code below -</p>\n\n<p><strong>console.log(this.includeDocReqSig); //This print the objects pretty fine in the logs but not get assigned in render function</strong></p>\n\n<p>It does not work with following code -</p>\n\n<pre><code>export class NwhERequestForm extends React.Component&lt;INwhERequestFormProps, {}&gt; {\n  // Dropdown Variables\n  private includeDocReqSig: IControlDynamicProp = {}; // Dropdown value for Does this include documents that requires signature or legal review?\n\n  private eRequestService: ERequestService;\n  private appSettings: AppSettings;\n  private serviceCalls: NwhERequestFormRest;\n\n  //\n\n  public componentWillMount(): Promise&lt;void&gt; {\n\n\n    this.eRequestService = new ERequestService(\n      this.props.context.pageContext.web.absoluteUrl,\n      this.props.context.spHttpClient\n    );\n    this.appSettings = new AppSettings();\n    this.serviceCalls = new NwhERequestFormRest(this.eRequestService, this.appSettings);\n\n    this.serviceCalls._getFieldChoice(\"Signature_x0020_Required\", true).then(\n      (val: IControlDynamicProp) =&gt; {\n        this.includeDocReqSig = { options: val.options, disabled: val.disabled };\n       console.log(this.includeDocReqSig); //This print the objects pretty fine in the logs but not get assigned in render function\n      });\n    return Promise.resolve();\n  }\n\n  public render(): React.ReactElement&lt;INwhERequestFormProps&gt; {\n    return (\n      &lt;div className={styles.nwhERequestForm} &gt;\n        &lt;div className={styles.container}&gt;\n          &lt;div className={styles.title}&gt; {this.props.description} &lt;/div&gt;\n          &lt;div className={styles.subtitle}&gt; If you need assistance, please click here &lt;/div&gt;\n          &lt;form&gt;\n            &lt;div className={styles.mainformdiv}&gt;\n              &lt;fieldset className={styles.fieldset}&gt;\n                &lt;legend className={styles.legend}&gt;Basic Information&lt;/legend&gt;\n                &lt;div className={styles.row}&gt;\n                  &lt;DropdownControl\n                    staticProp={{ labelTitle: 'Does this include a Vendor document that requires signature or requires legal review?', required: true }}\n                    dynamicProp={this.includeDocReqSig} /&gt;\n                  &lt;DropdownControl\n                    staticProp={{ labelTitle: 'Is this related to an OCIO Project?', required: true }}\n                    dynamicProp={{ options: signatureRequiredLegal }} /&gt;\n                &lt;/div&gt;               \n              &lt;/fieldset&gt;            \n            &lt;/div&gt;\n          &lt;/form&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>The function _getFieldChoice is defined in another ts file:</p>\n\n<pre><code> public _getFieldChoice = async (columnName: string, isDisabled: boolean, ) =&gt; {\n        let controlProp: IControlDynamicProp = {};\n        let dropdownValue: IDropdownOption[] = [];\n        const fieldChoices: IDropdownValues[] = await this.eRequestService.getFieldDDValue(this.appSettings.eRequestListName, columnName);\n        fieldChoices[0].Choices.forEach(element =&gt; {\n            dropdownValue.push({ key: element, text: element });\n        });\n        controlProp = { options: dropdownValue, disabled: isDisabled };        \n        return controlProp;\n    }\n</code></pre>\n\n<p>The dropdown does not get any values. What could be the reason?</p>\n\n<p>When I try to do the assignment outside the function, it works fine. So there is something happening with the scope, maybe??</p>\n\n<pre><code>export class NwhERequestForm extends React.Component&lt;INwhERequestFormProps, {}&gt; {\n  // Dropdown Variables\n  private includeDocReqSig: IControlDynamicProp = {}; // Dropdown value for Does this include documents that requires signature or legal review?\n\n  private eRequestService: ERequestService;\n  private appSettings: AppSettings;\n  private serviceCalls: NwhERequestFormRest;\n\n  //\n\n  const fundedBy: IDropdownOption[] = [\n    { key: 'ocio', text: 'OCIO' },\n    { key: 'nonocio', text: 'Non-OCIO' },\n    { key: 'split', text: 'Split' },\n  ];\n\n  public componentWillMount(): Promise&lt;void&gt; {\n\n\n    this.eRequestService = new ERequestService(\n      this.props.context.pageContext.web.absoluteUrl,\n      this.props.context.spHttpClient\n    );\n    this.appSettings = new AppSettings();\n    this.serviceCalls = new NwhERequestFormRest(this.eRequestService, this.appSettings);\n\n    this.includeDocReqSig = { options: fundedBy, disabled: false };\n\n    return Promise.resolve();\n  }\n\n  public render(): React.ReactElement&lt;INwhERequestFormProps&gt; {\n    return (\n      &lt;div className={styles.nwhERequestForm} &gt;\n        &lt;div className={styles.container}&gt;\n          &lt;div className={styles.title}&gt; {this.props.description} &lt;/div&gt;\n          &lt;div className={styles.subtitle}&gt; If you need assistance, please click here &lt;/div&gt;\n          &lt;form&gt;\n            &lt;div className={styles.mainformdiv}&gt;\n              &lt;fieldset className={styles.fieldset}&gt;\n                &lt;legend className={styles.legend}&gt;Basic Information&lt;/legend&gt;\n                &lt;div className={styles.row}&gt;\n                  &lt;DropdownControl\n                    staticProp={{ labelTitle: 'Does this include a Vendor document that requires signature or requires legal review?', required: true }}\n                    dynamicProp={**this.includeDocReqSig**} /&gt;\n                  &lt;DropdownControl\n                    staticProp={{ labelTitle: 'Is this related to an OCIO Project?', required: true }}\n                    dynamicProp={{ options: signatureRequiredLegal }} /&gt;\n                &lt;/div&gt;               \n              &lt;/fieldset&gt;            \n            &lt;/div&gt;\n          &lt;/form&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "sharepoint-2013"], "comments": [{"owner": {"reputation": 6091, "user_id": 933198, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/25a22103fd3210fdfa142843c7777ff1?s=128&d=identicon&r=PG", "display_name": "Lee Taylor", "link": "https://stackoverflow.com/users/933198/lee-taylor"}, "edited": false, "score": 0, "creation_date": 1567636525, "post_id": 57796343, "comment_id": 102025770, "body": "<code>document.title</code> ?"}, {"owner": {"reputation": 83, "user_id": 9069013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636aeff8078b3ab7da62acf4141c3d93?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Harvancik", "link": "https://stackoverflow.com/users/9069013/steve-harvancik"}, "reply_to_user": {"reputation": 6091, "user_id": 933198, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/25a22103fd3210fdfa142843c7777ff1?s=128&d=identicon&r=PG", "display_name": "Lee Taylor", "link": "https://stackoverflow.com/users/933198/lee-taylor"}, "edited": false, "score": 0, "creation_date": 1567698800, "post_id": 57796343, "comment_id": 102049794, "body": "That actually provides the site and the name, not the title field of the page.  So on my site page called Project on my Development site with a title of Project Summary I would get Development - Project"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 9069013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636aeff8078b3ab7da62acf4141c3d93?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Harvancik", "link": "https://stackoverflow.com/users/9069013/steve-harvancik"}, "edited": false, "score": 0, "creation_date": 1567699575, "post_id": 57796375, "comment_id": 102050181, "body": "//Not able to get this to work (using either option). &lt;script type=&quot;text/javascript&quot;&gt; SP.SOD.executeOrDelayUntilScriptLoaded(myFunction,&quot;sp.js&quot;);  function myFunction(){         var clientContext = new SP.ClientContext();     var pagedisplay = clientContext.Current.Item[&quot;Title&quot;]; } &lt;/script&gt;"}], "tags": [], "owner": {"reputation": 1458, "user_id": 11746212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69fe33bc21a8570b9e9c0fce89a681fa?s=128&d=identicon&r=PG&f=1", "display_name": "IronMan", "link": "https://stackoverflow.com/users/11746212/ironman"}, "is_accepted": false, "score": 0, "last_activity_date": 1567636608, "creation_date": 1567636608, "answer_id": 57796375, "question_id": 57796343, "link": "https://stackoverflow.com/questions/57796343/is-there-a-way-of-getting-the-current-pages-title-on-a-sharepoint-page/57796375#57796375", "title": "Is there a way of getting the current page&#39;s title on a SharePoint Page", "body": "<p>using the SharePoint context you could use <code>SPContext.Current.Item[\"Title\"]</code> for documents or <code>SPContext.Current.List.Title</code> for lists.</p>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 9069013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636aeff8078b3ab7da62acf4141c3d93?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Harvancik", "link": "https://stackoverflow.com/users/9069013/steve-harvancik"}, "edited": false, "score": 0, "creation_date": 1567698910, "post_id": 57802635, "comment_id": 102049851, "body": "You are correct, this does provide it, but then I need to overwrite what is displayed as the page name at the top of the page by using the command: document.getElementById(&#39;pageTitle&#39;).innerHTML=pageTitle;  I&#39;m not an expert so I getting that div into a variable to be used by js is where I would then have problems."}, {"owner": {"reputation": 2957, "user_id": 5726128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bb14156657273749c3dd36c6f084e5b?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry_MSFT", "link": "https://stackoverflow.com/users/5726128/jerry-msft"}, "reply_to_user": {"reputation": 83, "user_id": 9069013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636aeff8078b3ab7da62acf4141c3d93?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Harvancik", "link": "https://stackoverflow.com/users/9069013/steve-harvancik"}, "edited": false, "score": 0, "creation_date": 1567731231, "post_id": 57802635, "comment_id": 102060092, "body": "$(&quot;#PageTitle&quot;).html(data.d.results[0].Title); this line will make Page Title display in &quot;PageTitle&quot; div, no need to write document.getElementById(&#39;PageTitle&#39;) again..."}, {"owner": {"reputation": 83, "user_id": 9069013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636aeff8078b3ab7da62acf4141c3d93?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Harvancik", "link": "https://stackoverflow.com/users/9069013/steve-harvancik"}, "edited": false, "score": 0, "creation_date": 1567785100, "post_id": 57802635, "comment_id": 102080475, "body": "Found the problem.  it&#39;s lower case #pageTitle.  Thank you."}], "tags": [], "owner": {"reputation": 2957, "user_id": 5726128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bb14156657273749c3dd36c6f084e5b?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry_MSFT", "link": "https://stackoverflow.com/users/5726128/jerry-msft"}, "is_accepted": true, "score": 0, "last_activity_date": 1567676450, "creation_date": 1567676450, "answer_id": 57802635, "question_id": 57796343, "link": "https://stackoverflow.com/questions/57796343/is-there-a-way-of-getting-the-current-pages-title-on-a-sharepoint-page/57802635#57802635", "title": "Is there a way of getting the current page&#39;s title on a SharePoint Page", "body": "<p>I understand you want to display the Site Pages Title column in the corresponding page, then you can use Rest API to get it and display in the page:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-1.12.4.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n        $.ajax({\n                   url: _spPageContextInfo.webAbsoluteUrl + \"/_api/web/lists/getbytitle('Site Pages')/items?$filter=Id eq '\"+_spPageContextInfo.pageItemId+\"' \",\n                   method: \"GET\",\n                   headers: { \"Accept\": \"application/json; odata=verbose\" },\n                   success: function (data) {\n                            $(\"#PageTitle\").html(data.d.results[0].Title);\n\n                  },\n                  error: function (data) {\n                      alert(\"Error: \"+ data);\n                 }\n          });\n&lt;/script&gt;\n&lt;div id=\"PageTitle\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/JA7kr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JA7kr.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is the return Json format for the page item:\n<a href=\"https://i.stack.imgur.com/Wzp7r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wzp7r.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 83, "user_id": 9069013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636aeff8078b3ab7da62acf4141c3d93?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Harvancik", "link": "https://stackoverflow.com/users/9069013/steve-harvancik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1754, "favorite_count": 0, "accepted_answer_id": 57802635, "answer_count": 2, "score": 1, "last_activity_date": 1567676450, "creation_date": 1567636334, "question_id": 57796343, "link": "https://stackoverflow.com/questions/57796343/is-there-a-way-of-getting-the-current-pages-title-on-a-sharepoint-page", "title": "Is there a way of getting the current page&#39;s title on a SharePoint Page", "body": "<p>I am using SharePoint 2013 on-prem.  I am attempting to use the Title attribute (column) from Site Pages (list) as the pageTitle for the corresponding page.  I know that I could hard-code going through the Site Pages list for the title, but I would like to use some property on the page or a direct call to get the page's title and replace the pageTitle tag.</p>\n"}, {"tags": ["javascript", "node.js", "json", "class", "server"], "comments": [{"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1567645917, "post_id": 57796339, "comment_id": 102027442, "body": "So, bridge.mjs is a Javascript file, but you&#39;re trying to read it and parse it with <code>JSON.parse()</code>.  Javascript is NOT JSON - they are different formats.  So, you can&#39;t call <code>JSON.parse()</code> on a Javascript file.   If you want to run that Javascript in bridge.mjs, then use <code>import</code>.   There is no value for <code>this.pass</code> until somebody has loaded the code from that file and created a Bridge object.  Then, and only then, you could get the <code>.pass</code> property from that Bridge object."}, {"owner": {"reputation": 336, "user_id": 11414756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xh4MW.png?s=128&g=1", "display_name": "sniffingdoggo", "link": "https://stackoverflow.com/users/11414756/sniffingdoggo"}, "reply_to_user": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1567646318, "post_id": 57796339, "comment_id": 102027505, "body": "@jfriend00 Thanks to comment, but what if I pass <code>this.pass</code> as an Array or an Object instead of JSON? Should I still use <code>import</code> keyword and create the specific instance of <code>Bridge</code>? Are there no ways to just get <code>this.pass</code> from the <code>bridge.mjs</code> and send it to the server?"}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1567646515, "post_id": 57796339, "comment_id": 102027523, "body": "You seem fairly confused about what a Javascript file is.  There is no <code>this.pass</code> in bridge.mjs.  There&#39;s some code that describes how a Bridge object works.  Once that code is loaded, someone can create a Bridge object and when they create it, they will pass the contructor a value that will get stored in the <code>.pass</code> property of that object.  But, until that code gets loaded and someone creates a Bridge object, there is no <code>.pass</code> property anywhere."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1567646558, "post_id": 57796339, "comment_id": 102027527, "body": "So, what you&#39;re asking doesn&#39;t seem to make any sense to me at all because you&#39;re asking for something that just doesn&#39;t work that way.  Perhaps you should back up a couple steps and explain what your overall problem is that you&#39;re trying to solve?"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1567647702, "post_id": 57796339, "comment_id": 102027687, "body": "Please post text as text, not images of text."}, {"owner": {"reputation": 336, "user_id": 11414756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xh4MW.png?s=128&g=1", "display_name": "sniffingdoggo", "link": "https://stackoverflow.com/users/11414756/sniffingdoggo"}, "reply_to_user": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1567648518, "post_id": 57796339, "comment_id": 102027811, "body": "@DaveNewton Edited the question."}], "owner": {"reputation": 336, "user_id": 11414756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xh4MW.png?s=128&g=1", "display_name": "sniffingdoggo", "link": "https://stackoverflow.com/users/11414756/sniffingdoggo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567648503, "creation_date": 1567636300, "last_edit_date": 1567648503, "question_id": 57796339, "link": "https://stackoverflow.com/questions/57796339/how-to-send-a-specific-data-in-mjs-file-to-api-server", "title": "How to send a specific data in mjs file to API server?", "body": "<p>I have 3 files that called <code>country.mjs</code>, <code>bridge.mjs</code> and <code>server.js</code> for an API. Each <code>js</code> files are related such as this:</p>\n\n<hr>\n\n<ul>\n<li><p><code>country.mjs</code>: Has its own instance. Passes or receives datas from\n<code>bridge.mjs</code>.</p></li>\n<li><p><code>bridge.mjs</code>: Receives or passes data to an instance. Getting invoked\ninside of <code>country.mjs</code>.</p></li>\n<li><p><code>server.js</code>: API.</p></li>\n</ul>\n\n<hr>\n\n<p>My goal is <strong><em>Cycling a Specific Data File to File</em></strong>. I want to send a specific data called <code>this.pass</code> to the server, and gives back as a new data from it.</p>\n\n<p>A problem is, when I try to send <code>this.pass</code> to API, the server gives an error <code>undefined</code> like this:</p>\n\n<blockquote>\n  <p>undefined:1\n  export default class Bridge { ^</p>\n  \n  <p>SyntaxError: Unexpected token e in JSON at position 0</p>\n</blockquote>\n\n<p>I know a reason of the error is the server keeps trying to read the whole file, <code>bridge.mjs</code>.</p>\n\n<p>I'd been searching the ways to get a specific peace of data inside of class syntax, but couldn't find any of infos.</p>\n\n<p>Are there any proper solutions to send <code>this.pass</code> to the API?</p>\n\n<p>Have look at the code blocks:</p>\n\n<pre><code>// country.mjs\nimport Bridge from './bridge.mjs';\nclass Country {\n    constructor(name, capital, season, input) {\n        this.name = name;\n        this.capital = capital;\n        this.season = season;\n        this.input = input || new Bridge(this);\n    }\n}\nlet country = new Country('United State', 'New York', 'Autumn');\n\n// bridge.mjs\nexport default class Bridge {\n    constructor(output) {\n        this.output = output;\n        this.strings = JSON.stringify(this.output);\n        this.pass = JSON.parse(this.strings); // Want to send this variable to an server.js.\n        console.log(this.output, this.pass);\n    }\n}\n\n// server.js\nvar express = require('express'),\n    fs = require('fs'),\n    buffer = fs.readFileSync('website/js/bridge.mjs'),\n    storage = JSON.parse(buffer); // Gives an error\nconsole.log(storage); // Gives an error\n\nvar app = express(),\n    server = app.listen(3000, initialize);\n\nfunction initialize() {\n    console.log(\"Local Host Initialized.\");\n}\n\napp.use(express.static('website'));\n</code></pre>\n\n<p>It's fine the data types are not <code>JSON</code>. Any types of data are okay if I can recruit, or retrieve the data using <code>forEach()</code>, <code>map()</code> or <code>reduce()</code>.</p>\n\n<p>Thank you for listening.</p>\n"}, {"tags": ["javascript", "c#"], "comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 5, "creation_date": 1567636011, "post_id": 57796300, "comment_id": 102025647, "body": "Your statement &quot;I don&#39;t even understand what is going on here&quot; tells you what the first step should be. <b>Understand what is going on</b>. Once you understand what the program is <i>for</i>, then ask yourself &quot;how would I implement those semantics in C#?&quot;  Start <i>that</i> process by deciding what the signature of the method is. But certainly do not do an expression-for-expression translation of this hard-to-understand mess."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1567636231, "post_id": 57796300, "comment_id": 102025703, "body": "Your translation is not correct."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 3, "creation_date": 1567636451, "post_id": 57796300, "comment_id": 102025753, "body": "While you are rewriting this, question <i>every</i> decision that you&#39;re making <i>with an eye to improving the readability of the code</i>.  Why are the names of the variables <code>a</code>, <code>b</code> and <code>c</code>, instead of what they <i>mean</i> in the program?  Why is variable <code>a</code> being overwritten, instead of a <i>new</i> local variable with a <i>new, meaningful name</i> being created? Locals are cheap; use them!  And so on."}, {"owner": {"reputation": 54181, "user_id": 9382, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bc7b9ac824e43ce9d62bf7dfb37b6393?s=128&d=identicon&r=PG", "display_name": "AngryHacker", "link": "https://stackoverflow.com/users/9382/angryhacker"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1567637446, "post_id": 57796300, "comment_id": 102025965, "body": "@EricLippert What about the translation is incorrect?  Parameter names notwithstanding."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1567637483, "post_id": 57796300, "comment_id": 102025973, "body": "A valuable skill that you should work on developing today is <b>reading the code you just wrote.</b>  Read the code you wrote, not the code you think you wrote. You&#39;ll see the mistake."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1567638281, "post_id": 57796300, "comment_id": 102026099, "body": "Frankly what I would do, were I tasked with porting this code to C# is to understand the code by looking at how it is used at call sites, because frankly it is not making a whole lot of sense to me.  This code is like a master class in how to design a tiny, trivial method that resists understanding. Again, understand the <i>purpose</i> of this thing, and then implement sensible, clear, testable code that implements that purpose."}, {"owner": {"reputation": 3124, "user_id": 5175942, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MiN2o.jpg?s=128&g=1", "display_name": "MacroMarc", "link": "https://stackoverflow.com/users/5175942/macromarc"}, "edited": false, "score": 2, "creation_date": 1567638528, "post_id": 57796300, "comment_id": 102026148, "body": "the javascipt has Max and Min, but you used Max &amp; max in your C#"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1567638819, "post_id": 57796300, "comment_id": 102026201, "body": "What I&#39;m getting at is that it <i>appears</i> that the contract of the method -- ignoring the null checks for the moment -- is &quot;if <code>c</code> is the smallest of <code>a</code>, <code>b</code>, and <code>c</code> then return <code>c</code>, otherwise return whichever of <code>a</code>, <code>b</code>, and <code>c</code> is the one <i>between</i> the other two.&quot;  Why is that contract something you&#39;d want to implement? I don&#39;t know.  That&#39;s why you should look at the call sites; that will give you a hint as to the true meaning. Maybe <code>c</code> is never the smallest, for instance, and this code is supposed to return the middle element but the bug is never being caught."}, {"owner": {"reputation": 54181, "user_id": 9382, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bc7b9ac824e43ce9d62bf7dfb37b6393?s=128&d=identicon&r=PG", "display_name": "AngryHacker", "link": "https://stackoverflow.com/users/9382/angryhacker"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1567639373, "post_id": 57796300, "comment_id": 102026298, "body": "@EricLippert This snippet of code is at the bottom of a long stack of mathematical methods, full of Sin, Tan, ATan, etc..., that are of the same hard to understand quality.  It&#39;s hard to see at a glance what each method does.  My purpose in porting it to C# is to feed it some data and understand how it behaves."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1567639473, "post_id": 57796300, "comment_id": 102026315, "body": "Well if that is the typical quality of the code, you are in for a hard slog. Hopefully there is some documentation somewhere that indicates what algorithm the code is ultimately attempting to implement."}, {"owner": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "edited": false, "score": 0, "creation_date": 1567690711, "post_id": 57796300, "comment_id": 102045174, "body": "@AngryHacker: I wonder if this sort of question would be well-suited towards codereview.  While this question indicates less confidence in correctness than is ideal for a CR question, that could easily be corrected by being more confident in your code (e.g., running some basic test cases yourself before asking for review would have prevented the Math.Max/Math.Min switch).  I recommend <a href=\"https://www.linqpad.net/\" rel=\"nofollow noreferrer\">linqpad.net</a> as a simple test scratchpad."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "edited": false, "score": 0, "creation_date": 1567789104, "post_id": 57796300, "comment_id": 102082100, "body": "@Brian: This sort of question is ill-suited to the code review site. The code review site is for code that <i>does what it is supposed to do but could be better</i>.  The problem here is that we don&#39;t even know what the code is supposed to do, so it is hard to say whether it is correct. I&#39;ve tried to indicate in my answer how I would approach improving the code, but it relies upon us making a good guess as to the meaning of the code."}, {"owner": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1568033864, "post_id": 57796300, "comment_id": 102135254, "body": "@EricLippert: I realize that.  That is why I said that he shouldn&#39;t post it to CR until he was more confident in his code&#39;s correctness."}], "answers": [{"comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1567636138, "post_id": 57796323, "comment_id": 102025682, "body": "How can a decimal be null?"}, {"owner": {"reputation": 1189, "user_id": 5193370, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Toyc6.jpg?s=128&g=1", "display_name": "Mostafa Vatanpour", "link": "https://stackoverflow.com/users/5193370/mostafa-vatanpour"}, "edited": false, "score": 0, "creation_date": 1567636187, "post_id": 57796323, "comment_id": 102025691, "body": "Use decimal? instead of decimal."}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 1, "creation_date": 1567636227, "post_id": 57796323, "comment_id": 102025700, "body": "For that matter, why choose <code>decimal</code>? The closest type to JavaScript&#39;s <code>Number</code> would be <code>double</code>."}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567636341, "post_id": 57796323, "comment_id": 102025737, "body": "Thanks, but you <i>really</i> need to address Eric Lippert&#39;s point, as well, for it to work at all."}, {"owner": {"reputation": 1189, "user_id": 5193370, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Toyc6.jpg?s=128&g=1", "display_name": "Mostafa Vatanpour", "link": "https://stackoverflow.com/users/5193370/mostafa-vatanpour"}, "edited": false, "score": 0, "creation_date": 1567636735, "post_id": 57796323, "comment_id": 102025807, "body": "this link: <a href=\"https://www.w3schools.com/js/js_numbers.asp\" rel=\"nofollow noreferrer\">w3schools.com/js/js_numbers.asp</a> says that number type is Always 64-bit Floating Point. So double? is the correct type."}, {"owner": {"reputation": 794, "user_id": 1378507, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55e0e0ec37cf6ec66012adeb22a0c59c?s=128&d=identicon&r=PG", "display_name": "Washington A. Ramos", "link": "https://stackoverflow.com/users/1378507/washington-a-ramos"}, "edited": false, "score": 1, "creation_date": 1567636889, "post_id": 57796323, "comment_id": 102025843, "body": "As a clarification, Microsoft suggests <code>decimal</code> for values specifically representing currencies (aka prices, money transactions, etc). The <code>?</code> operator is used to turn <code>value</code> types into reference types, making them nullable. Value types such as <code>int</code>, <code>float</code>, <code>decimal</code>, <code>double</code> can all use <code>?</code> to become nullable: <code>int? j = null;</code>."}, {"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 0, "creation_date": 1567637243, "post_id": 57796323, "comment_id": 102025922, "body": "The original code will return the original value passed in for a if b and c are null, not double.NaN"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1567639044, "post_id": 57796323, "comment_id": 102026236, "body": "Your implementation is improving; now can you do one that does not mutate <code>a</code>?  Mutating a formal is a bad practice because it makes it harder to understand the program when reading it, and harder to debug it when running it."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1567640658, "post_id": 57796323, "comment_id": 102026519, "body": "Compare your implementation to mine; which do you think is the easier to understand?"}, {"owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "edited": false, "score": 0, "creation_date": 1567641129, "post_id": 57796323, "comment_id": 102026589, "body": "Your solution is very easy to follow. Also, in regards to your prior comment, I agree; immutability is preferable. Also in this case, your functional expression of <code>bounds()</code>  is straight forward to follow and is a much better alternative. Wasn&#39;t too sure if adding helper functions was going &quot;out of bounds&quot; of what the OP wanted as far as a solution but on reflection, supplementing my answer with a solution that applied similar ideas to those you have put forward that would have been fine - great answer by the way :)"}], "tags": [], "owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "is_accepted": false, "score": 2, "last_activity_date": 1567638040, "last_edit_date": 1567638040, "creation_date": 1567636115, "answer_id": 57796323, "question_id": 57796300, "link": "https://stackoverflow.com/questions/57796300/how-to-translate-this-javascript-snippet-to-c/57796323#57796323", "title": "How to translate this Javascript snippet to C#", "body": "<p>Here's roughly what that JavaScript translates to:</p>\n\n<pre><code>function bounds(a, b, c) {\n  // If \"b\" not null, then update \"a\" as the maximum of \"a\" and \"b\" \n  null != b &amp;&amp; (a = Math.max(a, b));\n\n  // If \"c\" not null, then update \"a\" as the maximum of \"a\" and \"c\" \n  null != c &amp;&amp; (a = Math.min(a, c));\n\n  return a\n}\n</code></pre>\n\n<p>A C# equalivalnt could be written as:</p>\n\n<pre><code>static double ? bounds(double ? a, double ? b, double ? c)\n{\n    if (b.HasValue)\n    {\n        a = a.HasValue ? Math.Max(a.Value, b.Value) : a;\n    }\n\n    if (c.HasValue)\n    {\n        a = a.HasValue ? Math.Min(a.Value, c.Value) : a;\n    }\n\n    return a;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": false, "score": 10, "last_activity_date": 1567789251, "last_edit_date": 1567789251, "creation_date": 1567640395, "answer_id": 57796762, "question_id": 57796300, "link": "https://stackoverflow.com/questions/57796300/how-to-translate-this-javascript-snippet-to-c/57796762#57796762", "title": "How to translate this Javascript snippet to C#", "body": "<blockquote>\n  <p>Honestly, I don't even understand what is going on here.</p>\n</blockquote>\n\n<p>Me neither. The code appears to implement the contract \"if <code>c</code> is the least element, return it, and otherwise, return the middle element of <code>a</code>, <code>b</code>, and <code>c</code>, plus some nullability checks of unknown purpose.  </p>\n\n<p>This is a bizarre contract to implement and it makes me think that it might be an untested implementation of \"return the middle element\" that has a bug; if <code>c</code> is in practice never the smallest element, perhaps the bug is never caught.</p>\n\n<blockquote>\n  <p>How does one translate this to C#?</p>\n</blockquote>\n\n<p>Understand the meaning of the code in context, and then implement those semantics in idiomatic C#.  It's the understanding that is the important part; once you understand the code, writing a correct, testable implementation will be straightforward.</p>\n\n<blockquote>\n  <p>This is my translation. Is this correct?</p>\n</blockquote>\n\n<pre><code>private double bounds(double a, double? b, double? c) {\n  if (b != null) a = Math.Max(a, b.Value);\n  if (c != null) a = Math.Min(a, c.Value);\n  return a;\n}\n</code></pre>\n\n<p>It is correct in that it accurately implements the semantics of the original, possibly-buggy code. But it is hardly better. Let's improve it. Three things stand out:</p>\n\n<ul>\n<li>The method does not consume <code>this</code>, so it should be <code>static</code>.</li>\n<li>The method is a C# method and should follow the naming conventions of C#.</li>\n<li>Methods that overwrite their formals are hard to read at design time, and hard to debug at run time. For that matter, any method that mutates a variable is harder to understand than a method that does not mutate a variable.</li>\n<li>Variables named <code>a</code>, <code>b</code>, <code>c</code>, that have meanings to them are hard to read because they obscure those meanings.</li>\n</ul>\n\n<p>Let's fix all of them.</p>\n\n<pre><code>private static double Bounds(double a, double? b, double? c) \n{\n  double larger = (b == null) ? a : Math.Max(a, b.Value);\n  double smaller = (c == null) ? larger : Math.Min(larger, c.Value);\n  return smaller;\n}\n</code></pre>\n\n<p>We still do not have good names for <code>a</code>, <code>b</code> and <code>c</code>, but at least we know that <code>larger</code> and <code>smaller</code> reflect their meanings.</p>\n\n<p>Are we done?  Always ask yourself <strong>how can I make this simpler</strong>?</p>\n\n<p>You can make it simpler by moving the checks into a helper.</p>\n\n<pre><code>private static double Max(double x, double? y) =&gt;\n  (y == null) ? x : Math.Max(x, y.Value)\n\nprivate static double Min(double x, double? y) =&gt;\n  (y == null) ? x : Math.Min(x, y.Value)\n</code></pre>\n\n<p>And now our method becomes:</p>\n\n<pre><code>private static double Bounds(double a, double? b, double? c) \n{\n  double larger = Max(a, b);\n  double smaller = Min(larger, c);\n  return smaller;\n}\n</code></pre>\n\n<p>And now we realize that we can rewrite this as</p>\n\n<pre><code>private static double Bounds(double a, double? b, double? c) =&gt; \n  Min(Max(a, b), c);\n</code></pre>\n\n<p>It is certainly still not clear what the <em>purpose</em> of this thing is, but I hope you agree that my implementation could not be more clear in its action. In my implementation it is dead obvious that the semantics are \"if <code>c</code> is the least, return it, otherwise return the middle element\". Compare the understandability of my version to the original godawful mess and see which one is easier to understand.</p>\n\n<p><strong>What is the lesson here?</strong>  </p>\n\n<ul>\n<li>Organize the code into single-assignment form</li>\n<li>Move complex logic into helper methods that abstract it away</li>\n<li>Rewrite the code to eliminate unnecessary explanatory variables.</li>\n<li>The code becomes clean and easy to comprehend.</li>\n</ul>\n\n<hr>\n\n<p>Further musings; suppose that my conjecture is right, and the intention is to write:</p>\n\n<pre><code>private static double Middle(double test, double? bottom, double? top)\n</code></pre>\n\n<p>The semantics of the method are:</p>\n\n<ul>\n<li><code>bottom</code> and <code>top</code> may both be null.</li>\n<li>If both are non-null then <code>bottom</code> must be the smaller.</li>\n<li>If <code>bottom</code> and <code>top</code> are both not null then the value in the middle is returned.</li>\n<li>If <code>bottom</code> and <code>top</code> are both null then <code>test</code> is the value in the middle.</li>\n<li>If <code>bottom</code> is null but <code>top</code> is non null, then the smaller of <code>test</code> and <code>top</code> is the value in the middle. Here we're treating \"null\" like \"negative infinity\" for the bottom.</li>\n<li>Similarly if <code>top</code> is null but <code>bottom</code> is not, then the larger of <code>bottom</code> and <code>test</code> is the middle one. Here the null top is treated like \"positive infinity\".</li>\n</ul>\n\n<p>This is actually a pretty sensible contract, but it requires that we know that <code>bottom</code> be always smaller than <code>top</code> when they are not both null. A good implementation in C# would either <code>Debug.Assert</code> that fact (if the method is <code>private</code>) or <code>throw</code> if the precondition was violated (if the method is <code>public</code>).</p>\n\n<p>If this is the case then the better choice would be to do this:</p>\n\n<pre><code>private static double Middle(double test, double? bottom, double? top) =&gt;\n  Middle(\n    test, \n    bottom ?? Double.NegativeInfinity, \n    top ?? Double.PositiveInfinity);\n\nprivate static double Middle(double test, double bottom, double top) =&gt;\n  Math.Min(Math.Max(test, bottom), top);\n</code></pre>\n\n<p>(If you are unfamiliar with <code>??</code>, it is read \"coalesce\" and <code>x??y</code> means \"if <code>x</code> is not null then use <code>x.Value</code>, otherwise use <code>y</code>\". It is a very useful operator.)</p>\n\n<p>Again, see how nice and easy the code looks when you write it with an eye to readability. It becomes clear that \"null means negative infinity on the bottom and positive infinity on the top\" because that's what the code says!</p>\n\n<p>Alternatively, write a correct implementation of Middle that does not require any ordering of the three inputs:</p>\n\n<pre><code>// True if test is between b1 and b2, false otherwise\nprivate static bool Between(double test, double b1, double b2) =&gt;\n  ((b1 &lt;= test) &amp; (test &lt;= b2)) | ((b2 &lt;= test) &amp; (test &lt;= b1));\n\n// Returns the middle value of a, b, and c.\nprivate static double Middle(double a, double b, double c)\n{\n  if (Between(a, b, c) return a;\n  if (Between(b, a, c) return b;\n  return c;\n}\n</code></pre>\n\n<p>Or, if you like</p>\n\n<pre><code>private static double Middle(double a, double b, double c) =&gt;\n  Between(a, b, c) ? a : Between(b, a, c) ? b : c;\n</code></pre>\n\n<p>And now we can once again write our Bounds method easily:</p>\n\n<pre><code>private static double Bounds(double test, double? bottom, double? top) =&gt;\n  Middle(\n    test, \n    bottom ?? Double.NegativeInfinity, \n    top ?? Double.PositiveInfinity);\n</code></pre>\n\n<p>Again, think about what we are striving for here. <strong>Simple methods that do one thing and do it extremely well</strong>.  Once you have that, you can use those methods to build <em>other</em> simple methods, and gradually increase the complexity of the program without making it hard to understand.</p>\n"}], "owner": {"reputation": 54181, "user_id": 9382, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bc7b9ac824e43ce9d62bf7dfb37b6393?s=128&d=identicon&r=PG", "display_name": "AngryHacker", "link": "https://stackoverflow.com/users/9382/angryhacker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 328, "favorite_count": 0, "closed_date": 1567643937, "answer_count": 2, "score": -5, "last_activity_date": 1567789251, "creation_date": 1567635801, "last_edit_date": 1567639113, "question_id": 57796300, "link": "https://stackoverflow.com/questions/57796300/how-to-translate-this-javascript-snippet-to-c", "closed_reason": "Needs more focus", "title": "How to translate this Javascript snippet to C#", "body": "<p>Javascript:</p>\n\n<pre><code>function bounds(a, b, c) {\n  null != b &amp;&amp; (a = Math.max(a, b));\n  null != c &amp;&amp; (a = Math.min(a, c));\n  return a\n}\n</code></pre>\n\n<p>Honestly, I don't even understand what is going on here.  If <code>b</code> isn't null, then <code>a</code> gets set <code>Math.max(a, b)</code>.  if <code>c</code> isn't null, <code>a</code> gets set from <code>Math.min(a, c)</code>?</p>\n\n<p>How does one translate this to C#?</p>\n\n<p>P.S.  This is my translation.  Is this correct?</p>\n\n<pre><code>private double bounds(double a, double? b, double? c) {\n    if (b != null) a = Math.Max(a, b.Value);\n    if (c != null) a = Math.Min(a, c.Value);\n\n    return a;\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 995, "user_id": 1129926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5IB6W.jpg?s=128&g=1", "display_name": "Jeff Mergler", "link": "https://stackoverflow.com/users/1129926/jeff-mergler"}, "edited": false, "score": 3, "creation_date": 1567637170, "post_id": 57796265, "comment_id": 102025899, "body": "Welcome to Stack Overflow. Please provide a minimal reproducible example of what you have already tried. Ref. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}, {"owner": {"reputation": 1, "user_id": 12022223, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBstdh7EO3HoL0BjrnJezL7mXbdJBfcz1W8D_1P=k-s128", "display_name": "Nicole M. Miller", "link": "https://stackoverflow.com/users/12022223/nicole-m-miller"}, "reply_to_user": {"reputation": 995, "user_id": 1129926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5IB6W.jpg?s=128&g=1", "display_name": "Jeff Mergler", "link": "https://stackoverflow.com/users/1129926/jeff-mergler"}, "edited": false, "score": 1, "creation_date": 1567687586, "post_id": 57796265, "comment_id": 102043244, "body": "@JeffMergler Please see my reviewed post to include additional details and specific codes used."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12022223, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBstdh7EO3HoL0BjrnJezL7mXbdJBfcz1W8D_1P=k-s128", "display_name": "Nicole M. Miller", "link": "https://stackoverflow.com/users/12022223/nicole-m-miller"}, "edited": false, "score": 0, "creation_date": 1567687614, "post_id": 57796758, "comment_id": 102043265, "body": "Please see my reviewed post to include additional details and specific codes used."}], "tags": [], "owner": {"reputation": 35, "user_id": 12021677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25225fc0630ed61d8e21de830bb702d7?s=128&d=identicon&r=PG&f=1", "display_name": "ravi", "link": "https://stackoverflow.com/users/12021677/ravi"}, "is_accepted": false, "score": 0, "last_activity_date": 1567640370, "creation_date": 1567640370, "answer_id": 57796758, "question_id": 57796265, "link": "https://stackoverflow.com/questions/57796265/fade-header-on-scroll/57796758#57796758", "title": "Fade Header on Scroll", "body": "<p>Is this what you're looking for? </p>\n\n<pre><code>&lt;html&gt;\n&lt;style&gt;\n  .headerClass {\n      background: -webkit-linear-gradient(#000, #000);\n      -webkit-background-clip: text;\n      -webkit-text-fill-color: transparent;\n    }\n&lt;/style&gt;\n\n&lt;h1 id=\"header\"&gt;header&lt;/h1&gt;\n\n&lt;script&gt;\n    window.onscroll = function() {\n      fadeText()\n    };\n\n    function fadeText() {\n      if (document.body.scrollTop &gt; 1 || document.documentElement.scrollTop &gt; 1) {\n        document.getElementById(\"header\").classList.add(\"headerClass\");\n      } else {\n        document.getElementById(\"header\").classList.remove(\"headerClass\");\n      }\n    }\n&lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>You say you've tried some code, but it didn't work. May I take a look at it? </p>\n"}], "owner": {"reputation": 1, "user_id": 12022223, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBstdh7EO3HoL0BjrnJezL7mXbdJBfcz1W8D_1P=k-s128", "display_name": "Nicole M. Miller", "link": "https://stackoverflow.com/users/12022223/nicole-m-miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1567693051, "creation_date": 1567635420, "last_edit_date": 1567687384, "question_id": 57796265, "link": "https://stackoverflow.com/questions/57796265/fade-header-on-scroll", "title": "Fade Header on Scroll", "body": "<p>I am working on a website for a friend (<a href=\"https://www.nicoledavis.org\" rel=\"nofollow noreferrer\">https://www.nicoledavis.org</a>) and have not been able to get the code right in order to make the top photo fade to black when scrolled. The idea is to have the entire top photo completely fade to black before the \"Background Info\" appears on the screen. Any help is much appreciated!</p>\n\n<p>I used the exact code setup (copy/pasted) from here: <a href=\"https://jsfiddle.net/KCb5z/21\" rel=\"nofollow noreferrer\">https://jsfiddle.net/KCb5z/21</a> or see below:</p>\n\n<p>jQuery:</p>\n\n<pre><code>    $(function () {\n        $(window).scroll(function () {\n            var currentScrollTop = $(window).scrollTop();\n    $('#blackOverlay').css('opacity', \n            currentScrollTop/$('#blackOverlay').height());\n        });\n    });\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>    #blackOverlay {\n      background-color: #000;\n      opacity: 0.0;\n      position: absolute;\n      top: 0;\n      width: 100%;\n      height: 100%;\n    }\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code> &lt;div id=\"blackOverlay\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>The effect I'm seeing in the JSFiddle example is exactly what I'm hoping the website header does on the website I'm working on, but the code doesn't seem to have the same effect on my site. I'd also like for the speed of the fade effect to be increased, but have not yet been successful.</p>\n"}, {"tags": ["javascript", "unicode"], "comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1567640564, "post_id": 57796159, "comment_id": 102026504, "body": "FYI, <code>\\ud83d\\udc0e</code> is codepoint U+1F40E, which is a horse.  A dog would be U+1F415 (<code>\\ud83d\\udc15</code>) or U+1F436 (<code>\\ud83d\\udc36</code>) instead."}], "answers": [{"comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1567638458, "post_id": 57796537, "comment_id": 102026135, "body": "It&#39;s interesting that both your answer and original OPs code show a red heart to me (google chrome on linux). And they both return a black hear on firefox (linux as well)"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1567638696, "post_id": 57796537, "comment_id": 102026173, "body": "On my Firefox on Windows, <code>alert(&quot;\\u2764&quot;)</code> shows a black heart, but <code>alert(&quot;\\u2764\\ufe0f&quot;)</code> shows a red heart"}, {"owner": {"reputation": 932, "user_id": 2184308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b1131e2dfca319f7b0418c042571be5?s=128&d=identicon&r=PG", "display_name": "David Spector", "link": "https://stackoverflow.com/users/2184308/david-spector"}, "edited": false, "score": 0, "creation_date": 1567688528, "post_id": 57796537, "comment_id": 102043793, "body": "<a href=\"https://codepoints.net/U+FE0F\" rel=\"nofollow noreferrer\">codepoints.net/U+FE0F</a> (&#39;colorful&#39;). Wow. Unicode started off as a simple translation from 16-bit values to characters in various languages. Now it is almost a programming language, like PostScript for rendering, which derived from Forth. While I can see the motivation for (for example) including both accented characters and separate accent glyphs, it creates the need for String.normalize and very long regular expressions to recognize all the Unicode graphemes, and even this cannot be done completely. There must be a better way to design the Web other than HTML/CSS/JS and this!"}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 2, "last_activity_date": 1567638813, "last_edit_date": 1567638813, "creation_date": 1567638271, "answer_id": 57796537, "question_id": 57796159, "link": "https://stackoverflow.com/questions/57796159/why-does-this-code-display-incorrect-unicode/57796537#57796537", "title": "Why does this code display incorrect Unicode?", "body": "<p><code>U+2764 HEAVY BLACK HEART</code> predates color emojis, and so it is a black heart when treated by itself.  To make it red, join it with <code>U+FE0F VARIATION SELECTOR-16</code>, eg:</p>\n\n<pre><code>var u='\\ud83d\\udc0e\\u2764\\ufe0f';\n</code></pre>\n\n<p>However, your <code>for</code> loop would ignore the <code>\\ufe0f</code> and still just display <code>\\u2764</code> by itself, since they are separate codepoints.</p>\n\n<p>Tweak your loop to peek the next codepoint after <code>u</code> and include it if it is a variable selector:</p>\n\n<pre><code>alert(\"\\u2764\"); // black heart\nalert(\"\\u2764\\ufe0f\"); // red heart\n</code></pre>\n"}], "owner": {"reputation": 932, "user_id": 2184308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b1131e2dfca319f7b0418c042571be5?s=128&d=identicon&r=PG", "display_name": "David Spector", "link": "https://stackoverflow.com/users/2184308/david-spector"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1567638813, "creation_date": 1567634620, "question_id": 57796159, "link": "https://stackoverflow.com/questions/57796159/why-does-this-code-display-incorrect-unicode", "title": "Why does this code display incorrect Unicode?", "body": "<p>The following minimal code creates a string containing a dog emoji and red heart emoji. It then paws through the string, showing the second emoji, the red heart. Why is a black heart shown (on Firefox) instead?</p>\n\n<pre><code>var u='\\ud83d\\udc0e\\u2764';\nvar count=0;\nfor (let point of u)\n    if (count++)\n        alert(u+\": \"+point);\n</code></pre>\n"}, {"tags": ["javascript"], "answers": [{"comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1567634762, "post_id": 57796140, "comment_id": 102025386, "body": "javascript has a <code>closest()</code> method?  Or are you confusing jQuery methods with javascript?"}, {"owner": {"reputation": 1666, "user_id": 6087178, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Yz21n2FpuRQ/AAAAAAAAAAI/AAAAAAAABgI/JplhJBAkCpg/photo.jpg?sz=128", "display_name": "Jorge Solis", "link": "https://stackoverflow.com/users/6087178/jorge-solis"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1567635101, "post_id": 57796140, "comment_id": 102025448, "body": "There&#39;s a closest method and takes a selector just like querySelector does"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1567635265, "post_id": 57796140, "comment_id": 102025483, "body": "Interesting.  How new is that method?"}, {"owner": {"reputation": 1666, "user_id": 6087178, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Yz21n2FpuRQ/AAAAAAAAAAI/AAAAAAAABgI/JplhJBAkCpg/photo.jpg?sz=128", "display_name": "Jorge Solis", "link": "https://stackoverflow.com/users/6087178/jorge-solis"}, "edited": false, "score": 0, "creation_date": 1567635467, "post_id": 57796140, "comment_id": 102025533, "body": "It&#39;s already in the DOM specification and supported by all modern browsers (of course, IE is not a explorer anymore) <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/Element/closest</a>"}], "tags": [], "owner": {"reputation": 1666, "user_id": 6087178, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Yz21n2FpuRQ/AAAAAAAAAAI/AAAAAAAABgI/JplhJBAkCpg/photo.jpg?sz=128", "display_name": "Jorge Solis", "link": "https://stackoverflow.com/users/6087178/jorge-solis"}, "is_accepted": false, "score": 0, "last_activity_date": 1567634493, "creation_date": 1567634493, "answer_id": 57796140, "question_id": 57796086, "link": "https://stackoverflow.com/questions/57796086/how-to-get-an-attribute-from-each-result-of-queryselectorall/57796140#57796140", "title": "How to get an Attribute from Each Result of querySelectorAll()", "body": "<p>If you know beforehand that you will only use the span elements that have an id, then use [id] in the querySelectorAll selector likewise</p>\n\n<pre><code>document.querySelectorAll('span[id]')\n</code></pre>\n\n<p>If you will use that as an array, then you need</p>\n\n<pre><code>[... document.querySelectorAll('span[id]')]\n</code></pre>\n\n<p>Assigning the new value would be something like this:</p>\n\n<pre><code>[... document.querySelectorAll('span[id]')].forEach(s =&gt; s.closest(\"h3\").innerHTML = s.id)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15224, "user_id": 7328218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d338eadf83deb112f919f4c8a6052a?s=128&d=identicon&r=PG&f=1", "display_name": "Taki", "link": "https://stackoverflow.com/users/7328218/taki"}, "is_accepted": true, "score": 2, "last_activity_date": 1567634560, "creation_date": 1567634560, "answer_id": 57796149, "question_id": 57796086, "link": "https://stackoverflow.com/questions/57796086/how-to-get-an-attribute-from-each-result-of-queryselectorall/57796149#57796149", "title": "How to get an Attribute from Each Result of querySelectorAll()", "body": "<p><code>querySelectorAll()</code> returns a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/NodeList\" rel=\"nofollow noreferrer\">NodeList</a> , so <code>elements_in_outer.getAttr(\"id\")</code> won't work and should be replaced with <code>querySelector()</code></p>\n\n<p>there is no <code>getAttr</code>, use <code>getAttribute</code></p>\n\n<p>( i replaced your <code>for</code> with a <code>forEach</code> )\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var found_elements = [];\r\n\r\nvar outers = document.querySelectorAll('.FormSection').forEach(div =&gt; {\r\n  var elements_in_outer = div.querySelector(\"span\");\r\n  var updateValue = elements_in_outer.getAttribute(\"id\");\r\n  div.closest(\"h3\").innerHTML = updateValue;\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"fluid-form-container\"&gt;\r\n  &lt;ul id=\"accordionGroup\" class=\"Accordion\" data-allow-multiple=\"\"&gt;\r\n    &lt;li class=\"fluid-form-group-container\"&gt;\r\n      &lt;h3 aria-labelledby=\"accordion1id\"&gt;\r\n        &lt;button aria-expanded=\"true\" class=\"Accordion-trigger\" aria-controls=\"sect1\" id=\"accordion1id\"&gt;\r\n&lt;span class=\"Accordion-title\"&gt;&lt;div class=\"fluid-form-title\"&gt;\r\n&lt;div class=\"FormSection\"&gt;\r\n&lt;span id=\"More_Info_Form_Section_Label\"&gt;More Info&lt;/span&gt;\r\n&lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;/span&gt;\r\n&lt;/button&gt;\r\n      &lt;/h3&gt;\r\n    &lt;/li&gt;\r\n    &lt;li class=\"fluid-form-group-container\"&gt;\r\n      &lt;h3 aria-labelledby=\"accordion2id\"&gt;\r\n        &lt;button aria-expanded=\"true\" class=\"Accordion-trigger\" aria-controls=\"sect2\" id=\"accordion2id\"&gt;\r\n&lt;span class=\"Accordion-title\"&gt;&lt;div class=\"fluid-form-title\"&gt;\r\n&lt;div class=\"FormSection\"&gt;\r\n&lt;span id=\"Even_More_Info_Form_Section_Label\"&gt;Even More Info&lt;/span&gt;\r\n&lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;/span&gt;\r\n&lt;/button&gt;\r\n      &lt;/h3&gt;\r\n    &lt;/li&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 42, "user_id": 1698161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nlkPt.jpg?s=128&g=1", "display_name": "user1698161", "link": "https://stackoverflow.com/users/1698161/user1698161"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 57796149, "answer_count": 2, "score": 0, "last_activity_date": 1567635036, "creation_date": 1567634129, "question_id": 57796086, "link": "https://stackoverflow.com/questions/57796086/how-to-get-an-attribute-from-each-result-of-queryselectorall", "title": "How to get an Attribute from Each Result of querySelectorAll()", "body": "<p>I am trying to do this:</p>\n\n<ol>\n<li>Search for all the spans in my structure</li>\n<li>Get the id value from each span</li>\n<li>Update the parent  with that text for test purposes</li>\n</ol>\n\n<p>The reason for this work is that I am doing front-end customizations for an application and trying get some WAI-ARIA labelled-by values set on a parent element. </p>\n\n<p>The problem is that many of the needed values come from an COTS application that I am working with/around. These needed input are not always set in a good sequence in the DOM.</p>\n\n<p>I have been looking at a JS solution to get around this.</p>\n\n<pre><code>&lt;div class=\"fluid-form-container\"&gt;\n&lt;ul id=\"accordionGroup\" class=\"Accordion\" data-allow-multiple=\"\"&gt;\n&lt;li class=\"fluid-form-group-container\"&gt;\n&lt;h3 aria-labelledby=\"accordion1id\"&gt;\n&lt;button aria-expanded=\"true\" class=\"Accordion-trigger\" aria-controls=\"sect1\" id=\"accordion1id\"&gt;\n&lt;span class=\"Accordion-title\"&gt;&lt;div class=\"fluid-form-title\"&gt;\n&lt;div class=\"FormSection\"&gt;\n&lt;span id=\"More_Info_Form_Section_Label\"&gt;More Info&lt;/span&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/span&gt;\n&lt;/button&gt;\n&lt;/h3&gt;\n&lt;/li&gt;\n&lt;li class=\"fluid-form-group-container\"&gt;\n&lt;h3 aria-labelledby=\"accordion2id\"&gt;\n&lt;button aria-expanded=\"true\" class=\"Accordion-trigger\" aria-controls=\"sect2\" id=\"accordion2id\"&gt;\n&lt;span class=\"Accordion-title\"&gt;&lt;div class=\"fluid-form-title\"&gt;\n&lt;div class=\"FormSection\"&gt;\n&lt;span id=\"Even_More_Info_Form_Section_Label\"&gt;Even More Info&lt;/span&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/span&gt;\n&lt;/button&gt;\n&lt;/h3&gt;\n&lt;/li&gt;\n&lt;/div&gt;\n\n//My bad javaScript so far\n\nvar found_elements = [];\n\nvar outers = document.querySelectorAll('.FormSection');\n\nfor(var i=0; i&lt;outers.length; i++) {\n    var elements_in_outer = outers[i].querySelectorAll(\"span\");\n  var updateValue = elements_in_outer.getAttr(\"id\");\n  outers[i].closest(\"h3\").innerHTML = updateValue;\n}\n</code></pre>\n\n<p>The expect results:\n- parent  tag innerHTML set to the id value of each span in the structure</p>\n\n<p>Actual results:\n- I'm getting errors because I am not sure what I need to use to get that id from each span found</p>\n"}, {"tags": ["javascript", "object", "javascript-objects"], "comments": [{"owner": {"reputation": 11660, "user_id": 2055998, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Vx3A.jpg?s=128&g=1", "display_name": "PM 77-1", "link": "https://stackoverflow.com/users/2055998/pm-77-1"}, "edited": false, "score": 2, "creation_date": 1567634313, "post_id": 57796075, "comment_id": 102025287, "body": "Circular reference does not require infinite memory. But if you try to iterate through it will never end and your stack will overflow."}, {"owner": {"reputation": 74, "user_id": 11098922, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUGVe.png?s=128&g=1", "display_name": "Experimentators", "link": "https://stackoverflow.com/users/11098922/experimentators"}, "reply_to_user": {"reputation": 11660, "user_id": 2055998, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Vx3A.jpg?s=128&g=1", "display_name": "PM 77-1", "link": "https://stackoverflow.com/users/2055998/pm-77-1"}, "edited": false, "score": 0, "creation_date": 1567634373, "post_id": 57796075, "comment_id": 102025301, "body": "@PM77-1 but why doesn&#39;t it require infinite memory? you did not answer my question"}, {"owner": {"reputation": 11660, "user_id": 2055998, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Vx3A.jpg?s=128&g=1", "display_name": "PM 77-1", "link": "https://stackoverflow.com/users/2055998/pm-77-1"}, "edited": false, "score": 3, "creation_date": 1567634477, "post_id": 57796075, "comment_id": 102025328, "body": "If you need to draw a circle you will not need an infinite supply of chalk. But if you try to walk until you reach the end you will never reach it."}], "answers": [{"comments": [{"owner": {"reputation": 74, "user_id": 11098922, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUGVe.png?s=128&g=1", "display_name": "Experimentators", "link": "https://stackoverflow.com/users/11098922/experimentators"}, "edited": false, "score": 0, "creation_date": 1567634552, "post_id": 57796126, "comment_id": 102025336, "body": "thanks, it seems I need to learn low-level programming concepts to deeply understand why this is"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 3, "last_activity_date": 1567634430, "creation_date": 1567634430, "answer_id": 57796126, "question_id": 57796075, "link": "https://stackoverflow.com/questions/57796075/why-doesnt-circular-referencing-in-objects-use-infinite-memory/57796126#57796126", "title": "Why doesn&#39;t circular referencing in objects use infinite memory?", "body": "<p>A reference is just a pointer, not a copy of the original object. So the circular reference is essentially just a number, which contains the location in memory of the the object.</p>\n\n<p>It's the same reason we don't need an infinite number of contact lists if I have your phone number in my contact list, and you have my phone number in yours.</p>\n"}, {"tags": [], "owner": {"reputation": 17581, "user_id": 2167834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9699e22406fb8e57a0c90f576c610b1c?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien Renauld", "link": "https://stackoverflow.com/users/2167834/s%c3%a9bastien-renauld"}, "is_accepted": true, "score": 4, "last_activity_date": 1567634512, "creation_date": 1567634512, "answer_id": 57796144, "question_id": 57796075, "link": "https://stackoverflow.com/questions/57796075/why-doesnt-circular-referencing-in-objects-use-infinite-memory/57796144#57796144", "title": "Why doesn&#39;t circular referencing in objects use infinite memory?", "body": "<p>Careful with the concept of references. Because there is an infinite, walkable chain, does not mean there are infinite objects.</p>\n\n<p>Let's take a simple circular dependency. Three objects (A, B, C) each one referring to the next one in the chain, like so:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UHKna.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UHKna.png\" alt=\"enter image description here\"></a></p>\n\n<p>In memory, this actually looks like the following:</p>\n\n<ul>\n<li>Object A, links to object C</li>\n<li>Object C, links to object B</li>\n<li>Object B, links to object A</li>\n</ul>\n\n<p>Each object effectively has itself, and a pointer to the next in the chain.</p>\n\n<p>It is only when you <strong>walk</strong> this cycle that you end up consuming infinite memory, unless you keep track of where you have already been.</p>\n\n<p>There are algorithms to detect and (sometimes, if possible) break such cycles. They're used a lot when dealing with dependency management problems. <a href=\"https://en.wikipedia.org/wiki/Tarjan%27s_strongly_connected_components_algorithm\" rel=\"nofollow noreferrer\">Tarjan's algorithm</a> is one of them.</p>\n"}], "owner": {"reputation": 74, "user_id": 11098922, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUGVe.png?s=128&g=1", "display_name": "Experimentators", "link": "https://stackoverflow.com/users/11098922/experimentators"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 57796144, "answer_count": 2, "score": -2, "last_activity_date": 1567634512, "creation_date": 1567634086, "last_edit_date": 1567634322, "question_id": 57796075, "link": "https://stackoverflow.com/questions/57796075/why-doesnt-circular-referencing-in-objects-use-infinite-memory", "title": "Why doesn&#39;t circular referencing in objects use infinite memory?", "body": "<p>I was creating a deep cloning object prototype</p>\n\n<pre><code>Object.prototype.clone = function() {\n    const clonedObject = {};\n    for (objectKeys in this) {\n            if (typeof this[objectKeys] !== \"object\") {\n                if (objectKeys === \"clone\") {\n                    continue;\n                }\n                clonedObject[objectKeys] = this[objectKeys];\n            } else {\n                if (!hasCircularDependency) {\n                    clonedObject[objectKeys] = this[objectKeys].clone();\n                } else {\n                    throw RangeError(\"Attempting to clone this object results in the Maximium call stack size\");\n                }\n            }\n    }\n    return clonedObject;\n};\n\nfunction hasCircularDependency(obj) {\n    try {\n        JSON.stringify(obj);\n    } catch(e) {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>and I tried cloning the window object, but I was confronted by a maximum call stack error due to circular referencing.</p>\n\n<p>so I was wondering, why doesn't circular referencing use infinite memory?</p>\n\n<p>after all, memory must store a reference of the parent object, then store a reference of the child object, which stores a reference of the parent object. This goes on to infinity and natively, one would think that this is true. so how does javascript handle references of circular referencing?</p>\n"}, {"tags": ["javascript", "node.js", "xpath", "puppeteer"], "answers": [{"comments": [{"owner": {"reputation": 98, "user_id": 1705093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e991566fce1e302959197925882136c?s=128&d=identicon&r=PG", "display_name": "remed.io", "link": "https://stackoverflow.com/users/1705093/remed-io"}, "edited": false, "score": 1, "creation_date": 1567696543, "post_id": 57796171, "comment_id": 102048593, "body": "Boom! That worked... Assigning the .evaluate() result to variable was successful! <code>let fieldValue = await page.evaluate(x =&gt; x.value, fieldHandle)</code>"}], "tags": [], "owner": {"reputation": 12868, "user_id": 2373249, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/byIOk.jpg?s=128&g=1", "display_name": "hardkoded", "link": "https://stackoverflow.com/users/2373249/hardkoded"}, "is_accepted": true, "score": 6, "last_activity_date": 1567634714, "creation_date": 1567634714, "answer_id": 57796171, "question_id": 57796049, "link": "https://stackoverflow.com/questions/57796049/how-to-access-current-value-in-a-text-input-field-with-puppeteer/57796171#57796171", "title": "How to access current value in a text input field with puppeteer", "body": "<p>Using evaluate should work:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>console.log(await page.evaluate(x =&gt; x.value, fieldHandle)));\n</code></pre>\n"}], "owner": {"reputation": 98, "user_id": 1705093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e991566fce1e302959197925882136c?s=128&d=identicon&r=PG", "display_name": "remed.io", "link": "https://stackoverflow.com/users/1705093/remed-io"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4967, "favorite_count": 0, "accepted_answer_id": 57796171, "answer_count": 1, "score": 7, "last_activity_date": 1582733273, "creation_date": 1567633990, "last_edit_date": 1582733273, "question_id": 57796049, "link": "https://stackoverflow.com/questions/57796049/how-to-access-current-value-in-a-text-input-field-with-puppeteer", "title": "How to access current value in a text input field with puppeteer", "body": "<p>I'm trying to automate retrieving form values from <em>an already filled out form</em> with puppeteer and xpath.</p>\n\n<p>I've already automated FILLING a text input field as follows, but doing the reverse with .evaluate() doesn't work:</p>\n\n<pre><code>[fieldHandle] = await page.$x(\"//label[text() = 'My Label']/../following-sibling::td[1]//input\")\nawait page.evaluate((x, y) =&gt; x.value = y, fieldHandle, 'newValue')\n</code></pre>\n\n<p>This is my most recent attempt - still no success...</p>\n\n<pre><code>let [fieldHandle] = await page.$x(\"//label[text() = 'My Label']/../following-sibling::td[1]//input\")\nlet fieldRaw = await fieldHandle.getProperty('textContent')\nlet fieldValue = await fieldRaw.jsonValue()\n</code></pre>\n\n<p>Hopefully someone out there knows how to achieve this!</p>\n"}, {"tags": ["javascript", "canvas"], "comments": [{"owner": {"reputation": 709, "user_id": 10213537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d40b18ad46b66cc629a6781973e4dbf?s=128&d=identicon&r=PG&f=1", "display_name": "Ameer", "link": "https://stackoverflow.com/users/10213537/ameer"}, "edited": false, "score": 0, "creation_date": 1567634195, "post_id": 57796029, "comment_id": 102025259, "body": "What browser are you using, because some browsers require a different way to clear the canvas. For example, older browsers require you to do <code>canvas.width = canvas.width</code> which clears the entire canvas by resizing it."}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1567732713, "post_id": 57796029, "comment_id": 102060319, "body": "<b>TYPO</b>: in <code>movep1</code> you call <code>new rectangle(p1.x, p1.y, &quot;black&quot;, p1.width, p1.height)</code> while it&#39;s declared as <code>function rectangle(width, height, color, x, y)</code> <code>x, y</code> and <code>width, height</code> are inverted, so your code only changes the rectangle&#39;s height. <a href=\"https://jsfiddle.net/hfwn94uk/\" rel=\"nofollow noreferrer\">minimal fix</a> However, you&#39;d be better not generate <code>new</code> shapes every time and rather just redraw the one you created at init, and also don&#39;t use <code>setInterval</code> when doing visual animation, prefer a <code>requestAnimationFrame</code> loop. <a href=\"https://jsfiddle.net/hfwn94uk/1/\" rel=\"nofollow noreferrer\">better fix</a>"}], "answers": [{"tags": [], "owner": {"reputation": 709, "user_id": 10213537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d40b18ad46b66cc629a6781973e4dbf?s=128&d=identicon&r=PG&f=1", "display_name": "Ameer", "link": "https://stackoverflow.com/users/10213537/ameer"}, "is_accepted": false, "score": -1, "last_activity_date": 1567634766, "creation_date": 1567634766, "answer_id": 57796186, "question_id": 57796029, "link": "https://stackoverflow.com/questions/57796029/ran-into-an-issue-with-javascript-canvas-graphics-and-motion/57796186#57796186", "title": "Ran into an issue with javascript canvas graphics and motion", "body": "<p>So it's working fine on my machine, however, you may be using an older browser so use <code>canvas.width = canvas.width</code> to clear the canvas along with <code>ctx.clearRect()</code>. I also noticed that you were attempting to make a class but it was more of a function, so I turned it into a class. </p>\n\n<p>I recommend you use ES6 classes because they make life so much easier and make code much cleaner. Here are some places to start learning about ES6 classes:</p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes</a></li>\n<li><a href=\"https://googlechrome.github.io/samples/classes-es6/\" rel=\"nofollow noreferrer\">https://googlechrome.github.io/samples/classes-es6/</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=2wWq6e6jz0g\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=2wWq6e6jz0g</a></li>\n</ul>\n\n<p>Here's the code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var canvas = document.getElementById('ctx');\r\nvar ctx = canvas.getContext(\"2d\");\r\ncanvas.width = window.innerWidth;\r\ncanvas.height = window.innerHeight;\r\nvar p1;\r\nvar p2;\r\nvar ball;\r\n\r\np1 = new Rectangle (10,120, \"black\", 10, 120);\r\np2 = new Rectangle (10, 120, \"black\", 1180, 120);\r\nball = new Circle (600,580,10,\"blue\");\r\n\r\nfunction gameupdate() {\r\nctx.clearRect(0, 0, canvas.width, canvas.height);\r\ncanvas.width = canvas.width;\r\nmovep1();\r\nmoveball();\r\ndrawAll();\r\n}\r\n\r\nfunction Rectangle (width,height,color,x,y) {\r\n    this.width = width;\r\n    this.height = height;\r\n    this.x = x;\r\n    this.y = y;\r\n    this.color = color;\r\n\r\n    this.draw = function(){\r\n        ctx.fillStyle = color;\r\n        ctx.fillRect(this.x,this.y,this.width,this.height);\r\n    }  \r\n\r\n    return this;\r\n} \r\n\r\nfunction Circle (x,y,r,color) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.r = r;\r\n    this.color = color;\r\n\r\n    this.draw = function(){\r\n        ctx.fillStyle = color;\r\n        ctx.beginPath();\r\n        ctx.arc(this.x, this.y, this.r,0, 2* Math.PI);\r\n        ctx.fill();\r\n        ctx.stroke();\r\n        ctx.closePath();\r\n    }\r\n    \r\n\r\n    return this;\r\n}\r\n\r\nfunction moveball () {\r\n    ball.y += -3;\r\n    ball.x += 3;\r\n}\r\n\r\nfunction movep1 () {\r\n    p1.y += 1;\r\n}\r\n\r\nfunction drawAll() {\r\n    p1.draw();\r\n    p2.draw();\r\n    ball.draw();\r\n}\r\n\r\nsetInterval(gameupdate,10);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#ctx {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"ctx\" width=\"100%\" height=\"100%\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 1, "user_id": 12022131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d14631c740e9542588c9854277a72f7?s=128&d=identicon&r=PG&f=1", "display_name": "kev11_79", "link": "https://stackoverflow.com/users/12022131/kev11-79"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1567635106, "creation_date": 1567633861, "last_edit_date": 1567635106, "question_id": 57796029, "link": "https://stackoverflow.com/questions/57796029/ran-into-an-issue-with-javascript-canvas-graphics-and-motion", "title": "Ran into an issue with javascript canvas graphics and motion", "body": "<p>I'm creating a JavaScript canvas game and ran into an issue. I'm creating motion by changing an object's position, clearing the canvas, and then redrawing the object. For the code I've provided, the ball element moves fine but when the rectangle moves the previous element is not deleted. This results in a line being drawn down the screen. If anyone sees what I need to fix please let me know. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var canvas = document.getElementById(\"myCanvas\");\r\nvar ctx = canvas.getContext(\"2d\");\r\nvar p1;\r\nvar p2;\r\nvar ball;\r\n\r\np1 = new rectangle(10, 120, \"black\", 10, 120);\r\np2 = new rectangle(10, 120, \"black\", 1180, 120);\r\nball = new circle(600, 580, 10, \"blue\");\r\n\r\nfunction gameupdate() {\r\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n  movep1();\r\n  moveball();\r\n}\r\n\r\nfunction rectangle(width, height, color, x, y) {\r\n  this.width = width;\r\n  this.height = height;\r\n  this.x = x;\r\n  this.y = y;\r\n  this.color = color;\r\n  ctx.fillStyle = color;\r\n  ctx.fillRect(this.x, this.y, this.width, this.height);\r\n}\r\n\r\nfunction circle(x, y, r, color) {\r\n  this.x = x;\r\n  this.y = y;\r\n  this.r = r;\r\n  this.color = color;\r\n  ctx.fillStyle = color;\r\n  ctx.beginPath();\r\n  ctx.arc(this.x, this.y, this.r, 0, 2 * Math.PI);\r\n  ctx.fill();\r\n  ctx.stroke();\r\n  ctx.closePath();\r\n}\r\n\r\nfunction moveball() {\r\n  ball.y += -3;\r\n  ball.x += 3;\r\n  new circle(ball.x, ball.y, 10, \"blue\");\r\n}\r\n\r\nfunction movep1() {\r\n  p1.y += 1;\r\n  new rectangle(p1.x, p1.y, \"black\", p1.width, p1.height);\r\n}\r\n\r\nsetInterval(gameupdate, 10);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"myCanvas\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 13, "user_id": 7973496, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zZXM-gK8EAk/AAAAAAAAAAI/AAAAAAAAAac/AmlldC3heZI/photo.jpg?sz=128", "display_name": "alparius", "link": "https://stackoverflow.com/users/7973496/alparius"}, "edited": false, "score": 0, "creation_date": 1567634079, "post_id": 57795969, "comment_id": 102025235, "body": "I don&#39;t have the rep to comment, but this is what I&#39;ve found: <a href=\"https://stackoverflow.com/questions/53958028/how-to-use-generics-in-props-in-react-in-a-functional-component\">How to use generics in props in React in a functional component?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4430, "user_id": 2690790, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/810ebc2ef00faac83286d2bb892f38cd?s=128&d=identicon&r=PG", "display_name": "skovy", "link": "https://stackoverflow.com/users/2690790/skovy"}, "is_accepted": false, "score": 3, "last_activity_date": 1567634576, "creation_date": 1567634576, "answer_id": 57796153, "question_id": 57795969, "link": "https://stackoverflow.com/questions/57795969/define-props-with-generic-type-in-react/57796153#57796153", "title": "Define props with generic type in React", "body": "<p>You could try something like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as React from \"react\";\nimport { render } from \"react-dom\";\n\nimport \"./styles.css\";\n\ninterface Props&lt;T&gt; {\n  a: T;\n}\n\nconst Component = &lt;T extends {}&gt;(props: Props&lt;T&gt;) =&gt; {\n  return &lt;div&gt;{props.a}&lt;/div&gt;;\n};\n\nfunction App() {\n  return &lt;Component a=\"testing\" /&gt;;\n}\n\nconst rootElement = document.getElementById(\"root\");\nrender(&lt;App /&gt;, rootElement);\n</code></pre>\n\n<p>You can <a href=\"https://codesandbox.io/s/typescript-react-prop-generic-j082n\" rel=\"nofollow noreferrer\">view the example here</a>.</p>\n\n<p>Note the <code>extends {}</code> is necessary in a <code>tsx</code> file. See: <a href=\"https://stackoverflow.com/questions/32308370/what-is-the-syntax-for-typescript-arrow-functions-with-generics\">What is the syntax for Typescript arrow functions with generics?</a></p>\n"}, {"tags": [], "owner": {"reputation": 775, "user_id": 5487267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfaa496fb0bd458808f2b7ca38fe0340?s=128&d=identicon&r=PG&f=1", "display_name": "ehutchllew", "link": "https://stackoverflow.com/users/5487267/ehutchllew"}, "is_accepted": true, "score": -1, "last_activity_date": 1567693596, "creation_date": 1567693596, "answer_id": 57807666, "question_id": 57795969, "link": "https://stackoverflow.com/questions/57795969/define-props-with-generic-type-in-react/57807666#57807666", "title": "Define props with generic type in React", "body": "<p>Try this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const MyComponent2 = &lt;T&gt;(props: SomeProps): FunctionComponent&lt;MyComponent2Props&lt;T&gt;&gt; =&gt; {}\n</code></pre>\n"}], "owner": {"reputation": 21308, "user_id": 289246, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6559194055071e71f24d8f890d4a4f1b?s=128&d=identicon&r=PG", "display_name": "Naor", "link": "https://stackoverflow.com/users/289246/naor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1414, "favorite_count": 0, "accepted_answer_id": 57807666, "answer_count": 2, "score": 1, "last_activity_date": 1567693596, "creation_date": 1567633504, "question_id": 57795969, "link": "https://stackoverflow.com/questions/57795969/define-props-with-generic-type-in-react", "title": "Define props with generic type in React", "body": "<p>I am using React with TypeScript in the following way:</p>\n\n<pre><code>interface MyComponentProps {\n    ...\n    ...\n}\n\nconst MyComponent:FunctionComponent&lt;MyComponentProps&gt; = props =&gt; {\n    ...\n    ...\n    ...\n}\n</code></pre>\n\n<p>Now I need to define the following props type:</p>\n\n<pre><code>interface MyComponent2Props&lt;T&gt; {\n    prop1: T,\n    ...\n}\n</code></pre>\n\n<p>I tried to define the component:</p>\n\n<pre><code>const MyComponent2&lt;T&gt;:FunctionComponent&lt;MyComponent2Props&lt;T&gt;&gt; = props =&gt; {\n    ...\n    ...\n    ...\n}\n</code></pre>\n\n<p>But this is incorrect syntax.   </p>\n\n<p>What is the correct way to define such component?</p>\n"}, {"tags": ["javascript"], "answers": [{"tags": [], "owner": {"reputation": 574, "user_id": 10633499, "user_type": "registered", "profile_image": "https://graph.facebook.com/10217237080576333/picture?type=large", "display_name": "Giorgio Zanni", "link": "https://stackoverflow.com/users/10633499/giorgio-zanni"}, "is_accepted": true, "score": 1, "last_activity_date": 1567638813, "creation_date": 1567638813, "answer_id": 57796598, "question_id": 57795940, "link": "https://stackoverflow.com/questions/57795940/slideshow-looping-but-selecting-button-causes-speed-up/57796598#57796598", "title": "Slideshow looping, but selecting button causes speed up", "body": "<p>When you manually trigger the slide buttons you aren't cancelling the previous timeout. What happens is: </p>\n\n<ul>\n<li>First timeout renders the first slide</li>\n<li>You manually change to the second slide after 1s</li>\n<li>Second slide is rendered and a second timeout is triggered</li>\n<li>After the remaining 2s, the first timeout resolves and changes the slide</li>\n<li>Third slide is rendered and a third timeout is triggered.</li>\n<li>Second timeout is resolved after the remaining 1s and changes the slide again.</li>\n<li>... and so on.</li>\n</ul>\n\n<p>To avoid this, when you manually change the slide you need to check if there's an existing timeout running and cancel it before starting another one.</p>\n\n<pre><code>// Create a variable holding the current timer\nlet currentTimer;\n\n// Store the latest timeout reference\nfunction sliderTimer() {\n  if(count === sliders.length - 1) {\n    count = -1;\n  }\n  currentTimer = setTimeout(slideRight, 3000);\n}\n\n// Cancel the current timer before starting one\nrightBtn.addEventListener('click', function(){\n  // Check if count is equal to sliders length - Last one\n  if(count === sliders.length - 1) {\n    // Go back to the first image\n    count = -1;\n  }\n  if (currentTimer) {\n    clearTimeout(currentTimer);\n  }\n  slideRight();\n})\n\n// You can extract this logic to an external function and reuse it when needed.\nfunction cancelPrevTimer() {\n  if (currentTimer) {\n    clearTimeout(currentTimer);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 5622026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2eb60f6bc6545a590660a2bc6c3ab425?s=128&d=identicon&r=PG&f=1", "display_name": "Bagseye", "link": "https://stackoverflow.com/users/5622026/bagseye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 57796598, "answer_count": 1, "score": 0, "last_activity_date": 1567638813, "creation_date": 1567633311, "question_id": 57795940, "link": "https://stackoverflow.com/questions/57795940/slideshow-looping-but-selecting-button-causes-speed-up", "title": "Slideshow looping, but selecting button causes speed up", "body": "<p>I'm trying to create a JS slideshow. The looping through of it appears to work and goes back to the start. If I allow the autoTimer to run it also appears to loop with no fault.</p>\n\n<p>My issue is when I choose a button to advance. It is speeding up or causing a double jump in <code>count</code>. I'm pretty sure I am using setTimeout incorrectly here but I'm struggling to see how to adapt what I have to use it correctly. </p>\n\n<p>Any input is appreciated</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var sliders = document.querySelectorAll('.slide');\r\nvar leftBtn = document.querySelector('.btn-left');\r\nvar rightBtn = document.querySelector('.btn-right');\r\nvar count = 0;\r\n\r\n// Clear all images\r\nfunction reset() {\r\n  //clearTimeout(sliderTimer);\r\n  for(var i = 0; i &lt; sliders.length; i++) {\r\n    sliders[i].classList.remove('active');\r\n  }\r\n  sliderTimer();\r\n}\r\n\r\nfunction startSlide() {\r\n  reset();\r\n  // Access the first image\r\n  sliders[0].classList.add('active');\r\n  \r\n}\r\n\r\n// Show prev\r\nfunction slideLeft() {\r\n  reset();\r\n  // Add class to previous slide count minus 1\r\n  sliders[count - 1].classList.add('active');\r\n  // Then take 1 from count\r\n  count--;\r\n}\r\n\r\n// Show next\r\nfunction slideRight() {\r\n  reset();\r\n  sliders[count + 1].classList.add('active');\r\n  count++;\r\n}\r\n// Left arrow click\r\nleftBtn.addEventListener('click', function(){\r\n  // Check if it is at 0\r\n  if(count === 0) {\r\n    // Set count the total number of slides\r\n    // The following function will handle the process of getting the last item\r\n    count = sliders.length;\r\n  }\r\n  \r\n  slideLeft();\r\n})\r\n\r\n// Right arrow click\r\nrightBtn.addEventListener('click', function(){\r\n  // Check if count is equal to sliders length - Last one\r\n  if(count === sliders.length - 1) {\r\n    // Go back to the first image\r\n    count = -1;\r\n  }\r\n  \r\n  slideRight();\r\n})\r\n\r\nfunction sliderTimer() {\r\n  if(count === sliders.length - 1) {\r\n    count = -1;\r\n  }\r\n  setTimeout(slideRight, 3000);\r\n}\r\n\r\nstartSlide();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.slider {\r\n  height: 100vh;\r\n  position: relative;\r\n }\r\n.slide {\r\n  top: 0;\r\n  left: 0;\r\n  height: 100vh;\r\n  position: absolute;\r\n}\r\n    \r\n.slide-1 {\r\n  background: red;\r\n}\r\n  \r\n.slide-2 {\r\n  background: blue;\r\n}\r\n  \r\n.slide-3 {\r\n  background: green;\r\n}\r\n  \r\n.slide-4 {\r\n  background: orange;\r\n}\r\n    \r\n.active {\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n\r\n.btn {\r\n  position: absolute;\r\n  top: 50%;\r\n  z-index: 2;\r\n}\r\n  \r\n.btn-left {\r\n  left: 0;\r\n\r\n}\r\n  \r\n.btn-right {\r\n  right: 0;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"slider\"&gt;\r\n  &lt;div class=\"slide slide-1 active\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"slide slide-2\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"slide slide-3\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"slide slide-4\"&gt;&lt;/div&gt;\r\n  &lt;button class=\"btn btn-left\"&gt;Left&lt;/button&gt;\r\n  &lt;button class=\"btn btn-right\"&gt;Right&lt;/button&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1567633442, "post_id": 57795926, "comment_id": 102025099, "body": "<code>position:relative</code> to the first div"}], "answers": [{"comments": [{"owner": {"reputation": 17581, "user_id": 2167834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9699e22406fb8e57a0c90f576c610b1c?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien Renauld", "link": "https://stackoverflow.com/users/2167834/s%c3%a9bastien-renauld"}, "edited": false, "score": 2, "creation_date": 1567633629, "post_id": 57795983, "comment_id": 102025141, "body": "Incorrect. His issue has nothing to do with <code>height</code>, it&#39;s a known issue with <code>box-shadow</code> and layered rendering."}, {"owner": {"reputation": 114, "user_id": 7719638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FqlzX.jpg?s=128&g=1", "display_name": "MD Hesari", "link": "https://stackoverflow.com/users/7719638/md-hesari"}, "reply_to_user": {"reputation": 17581, "user_id": 2167834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9699e22406fb8e57a0c90f576c610b1c?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien Renauld", "link": "https://stackoverflow.com/users/2167834/s%c3%a9bastien-renauld"}, "edited": false, "score": 0, "creation_date": 1567634193, "post_id": 57795983, "comment_id": 102025258, "body": "yeah it&#39;s true... I admit."}], "tags": [], "owner": {"reputation": 114, "user_id": 7719638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FqlzX.jpg?s=128&g=1", "display_name": "MD Hesari", "link": "https://stackoverflow.com/users/7719638/md-hesari"}, "is_accepted": false, "score": 0, "last_activity_date": 1567633573, "creation_date": 1567633573, "answer_id": 57795983, "question_id": 57795926, "link": "https://stackoverflow.com/questions/57795926/how-to-stop-box-shadow-from-merging-into-background-color/57795983#57795983", "title": "How to stop box shadow from merging into background color?", "body": "<p>hi what do you mean by saying that, you have assigned first div's height to 9vh and that's the problem, try some other units or decrease it by pixel...</p>\n\n<p>also this is a tool that can help you there...</p>\n\n<p><a href=\"https://www.cssmatic.com/box-shadow\" rel=\"nofollow noreferrer\">https://www.cssmatic.com/box-shadow</a></p>\n"}, {"comments": [{"owner": {"reputation": 17581, "user_id": 2167834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9699e22406fb8e57a0c90f576c610b1c?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien Renauld", "link": "https://stackoverflow.com/users/2167834/s%c3%a9bastien-renauld"}, "reply_to_user": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1567634734, "post_id": 57795991, "comment_id": 102025382, "body": "@TemaniAfif that&#39;s by specification correct, since <code>position: static</code> effectively is a directive to ignore all positioning requirements."}], "tags": [], "owner": {"reputation": 17581, "user_id": 2167834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9699e22406fb8e57a0c90f576c610b1c?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien Renauld", "link": "https://stackoverflow.com/users/2167834/s%c3%a9bastien-renauld"}, "is_accepted": true, "score": 1, "last_activity_date": 1567633600, "creation_date": 1567633600, "answer_id": 57795991, "question_id": 57795926, "link": "https://stackoverflow.com/questions/57795926/how-to-stop-box-shadow-from-merging-into-background-color/57795991#57795991", "title": "How to stop box shadow from merging into background color?", "body": "<p>This is a known issue. To cause <code>box-shadow</code> shadows to get over a background, be it an image or a flat color/gradient, you need two properties:</p>\n\n<ul>\n<li><code>z-index</code> to be higher than that of the background, in order to tell the navigator that this is on a higher layer than the background</li>\n<li><code>position: relative</code> in order to cause the rendering engine to realize that it needs to render relative to the rest (and display the shadow)</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.mainBg {\r\n  width: 100%;\r\n  height: 300px;\r\n  z-index: 0;\r\n  background-color: #f4f1f1;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div style=\"height: 9vh; z-index: 1; position: relative;\r\n    box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.5);\r\n    background-color: #ffffff; width:100%\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"mainBg\"&gt;\r\n\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 57795991, "answer_count": 2, "score": 0, "last_activity_date": 1567633600, "creation_date": 1567633225, "question_id": 57795926, "link": "https://stackoverflow.com/questions/57795926/how-to-stop-box-shadow-from-merging-into-background-color", "title": "How to stop box shadow from merging into background color?", "body": "<p>How can I achieve this result, my box shadow is being overwritten by the below div's background color</p>\n\n<p><a href=\"https://i.stack.imgur.com/LJN6j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LJN6j.png\" alt=\"enter image description here\"></a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.mainBg {\r\n  width: 100%;\r\n  height: 300px;\r\n  background-color: #f4f1f1;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div style=\"height: 9vh;\r\n    box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.33);\r\n    background-color: #ffffff; width:100%\"&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"mainBg\"&gt;\r\n\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "html", "node.js", "opengl-es", "webgl"], "comments": [{"owner": {"reputation": 82151, "user_id": 128511, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/KwGaJ.png?s=128&g=1", "display_name": "gman", "link": "https://stackoverflow.com/users/128511/gman"}, "edited": false, "score": 0, "creation_date": 1567647628, "post_id": 57795914, "comment_id": 102027675, "body": "I have a feeling your question is to broad. There are 1000s of ways to organize rendering. Generally objects are stored in some data structure (scene graph, oct tree, binary partition space, grid, ...), at render time you go through that structure and either render from it directly or, more common, make a lists of things that need to be drawn. That list might then be sorted for various reasons before finally being iterated over and drawn."}, {"owner": {"reputation": 82151, "user_id": 128511, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/KwGaJ.png?s=128&g=1", "display_name": "gman", "link": "https://stackoverflow.com/users/128511/gman"}, "edited": false, "score": 0, "creation_date": 1567647766, "post_id": 57795914, "comment_id": 102027702, "body": "It&#39;s also common to have to do this multiple times for a single frame. For example traditional shadows require drawing things once for each light and you only want to draw the things the light can see and the camera can see which means each list will have a different set of objects. Similarly separating opaque objects from translucent objects is common. There are many ways to do all of this so there&#39;s no single answer. Consider looking through the source of a 3D engine like say three.js for an example of one solution."}], "owner": {"reputation": 5004, "user_id": 3994249, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/7cf7bda9bf2e7ce27e821289608eca33?s=128&d=identicon&r=PG", "display_name": "eguneys", "link": "https://stackoverflow.com/users/3994249/eguneys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567633910, "creation_date": 1567633159, "last_edit_date": 1567633910, "question_id": 57795914, "link": "https://stackoverflow.com/questions/57795914/how-do-i-write-generic-code-for-rendering-a-list-of-meshes-that-have-different", "title": "How do I write generic code for rendering a list \\ of meshes that have different geometries with vanilla webgl?", "body": "<p>I want to render a list of objects with geometries, that needs to be uploaded as attribute once and redrawn each frame.</p>\n\n<p>I have a function that takes a geometry and gives a <code>draw info object</code> that includes a webgl program, uniforms, and attributes as vao. \\\nLater in my render function I can render this draw info.</p>\n\n<p>At initialization time:</p>\n\n<pre><code>// an object that is used to load attributes\nconst aPosInfo = new G.makeBufferInfoForAttribute(\"aPosition\", 2);\n// draw info that is used to render with gl.drawarrays\nconst mesh = g.makeDraw({\n  name: 'cube',\n  program: 'cube',\n  uniforms: {},\n  bufferInfos: [\n    aPosInfo\n  ]\n});\n\n// here I upload the attribute buffer with geometry vertices.\naPosInfo.set(geometry, g.gl.STATIC_DRAW);\n</code></pre>\n\n<p>At render time:</p>\n\n<pre><code>// add object to render queue\naddToRenderQueue({\n  mesh,\n  uniforms: {\n  }\n});\n</code></pre>\n\n<p>The problem here is, I don't have the list of objects until render time so I don't have access to geometries so that I can upload at in\\\nitialization time. So I might have a flaw in my design of webgl code. So I shall ask; How do I write generic code for rendering a list \\\nof meshes that have different geometries with webgl?</p>\n"}, {"tags": ["javascript", "arrays", "function", "loops"], "comments": [{"owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 2, "creation_date": 1567633218, "post_id": 57795908, "comment_id": 102025042, "body": "I believe you wanted to write <code>for (let i = x; i &lt; y; i += z)</code>. But there are other things that makes no sense on the code, like returning <code>range[i]</code>, or <code>arr.push()</code> without declaration of <code>arr</code> variable."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1567633463, "post_id": 57795908, "comment_id": 102025108, "body": "So, lots of problems here.  First off, <code>i</code> is never being adjusted, so i will always be less than <code>y</code>, resulting in an infinite loop.  <code>arr.push()</code> isn&#39;t pushing anything to it, and <code>arr</code> is undefined.  Shouldn&#39;t it be <code>array</code>?  And then you&#39;re returning <code>range[i]</code>.  Shouldn&#39;t that be returning <code>array</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 12022109, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KDAVSCwI0Ls/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reyXkjmokDqke7Ly5koi8PlVqgyLQ/photo.jpg?sz=128", "display_name": "Olivier Carignan", "link": "https://stackoverflow.com/users/12022109/olivier-carignan"}, "edited": false, "score": 0, "creation_date": 1567634716, "post_id": 57796138, "comment_id": 102025375, "body": "i have to return the result of the function and put it inside of the array"}, {"owner": {"reputation": 7965, "user_id": 6242613, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/X5cUu.jpg?s=128&g=1", "display_name": "V. Sambor", "link": "https://stackoverflow.com/users/6242613/v-sambor"}, "reply_to_user": {"reputation": 5, "user_id": 12022109, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KDAVSCwI0Ls/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reyXkjmokDqke7Ly5koi8PlVqgyLQ/photo.jpg?sz=128", "display_name": "Olivier Carignan", "link": "https://stackoverflow.com/users/12022109/olivier-carignan"}, "edited": false, "score": 0, "creation_date": 1567634763, "post_id": 57796138, "comment_id": 102025388, "body": "@OlivierCarignan result of what? What exactly should this loop calculate ?"}, {"owner": {"reputation": 5, "user_id": 12022109, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KDAVSCwI0Ls/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reyXkjmokDqke7Ly5koi8PlVqgyLQ/photo.jpg?sz=128", "display_name": "Olivier Carignan", "link": "https://stackoverflow.com/users/12022109/olivier-carignan"}, "edited": false, "score": 0, "creation_date": 1567634980, "post_id": 57796138, "comment_id": 102025418, "body": "it is supposed to calculate a series of numbers let&#39;s say from 0 (x) to 100 (y) according to an increment (z)"}], "tags": [], "owner": {"reputation": 7965, "user_id": 6242613, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/X5cUu.jpg?s=128&g=1", "display_name": "V. Sambor", "link": "https://stackoverflow.com/users/6242613/v-sambor"}, "is_accepted": true, "score": 0, "last_activity_date": 1567635022, "last_edit_date": 1567635022, "creation_date": 1567634484, "answer_id": 57796138, "question_id": 57795908, "link": "https://stackoverflow.com/questions/57795908/how-to-create-a-function-whose-parameters-can-be-used-in-a-nested-loop/57796138#57796138", "title": "How to create a function whose parameters can be used in a nested loop", "body": "<p>You were pretty close. There were some issues though; </p>\n\n<p>The worst is that you are running into an infinite loop by not incrementing the counter (so the condition <code>i &lt; y</code> is always <code>true</code>)</p>\n\n<p>Then I'm not sure what you wanted to do with the array !? \n<br>(I don't think is needed unless you want to do some other logic)</p>\n\n<p>Anyways here is a working example on how to make a loop use the params for:</p>\n\n<ul>\n<li>initialization</li>\n<li>final condition</li>\n<li>step</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function range(x, y, z) {\r\n  const numbers = [];\r\n  \r\n  for (let i = x; i &lt; y; i += z) {\r\n    numbers.push(i);\r\n  } \r\n  \r\n  return numbers;\r\n}\r\n\r\nconsole.log(range(0, 10, 2));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 5, "user_id": 12022109, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KDAVSCwI0Ls/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reyXkjmokDqke7Ly5koi8PlVqgyLQ/photo.jpg?sz=128", "display_name": "Olivier Carignan", "link": "https://stackoverflow.com/users/12022109/olivier-carignan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 57796138, "answer_count": 1, "score": 0, "last_activity_date": 1567635022, "creation_date": 1567633120, "last_edit_date": 1567634364, "question_id": 57795908, "link": "https://stackoverflow.com/questions/57795908/how-to-create-a-function-whose-parameters-can-be-used-in-a-nested-loop", "title": "How to create a function whose parameters can be used in a nested loop", "body": "<p>Beginner here,</p>\n\n<p>I have to create a long array of numbers using a function with 3 parameters that work the same way as loop (start, end, step)</p>\n\n<p>I have tried creating my function with parameters (x, y, z) and integrate a nested loop inside that reuse those parameters but i'm stuck.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let range = function(x, y, z) {\r\n  let array = []\r\n  for (let i = x; i &lt; y; z++) {\r\n    array.push()\r\n  } \r\n  return range[i]\r\n}\r\n\r\nconsole.log(range(0, 10, 2))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "google-chrome-extension", "global-variables", "content-script"], "comments": [{"owner": {"reputation": 8985, "user_id": 5581565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63a93f05570b10a05c0a8d6e7049a2a9?s=128&d=identicon&r=PG", "display_name": "Salim Djerbouh", "link": "https://stackoverflow.com/users/5581565/salim-djerbouh"}, "edited": false, "score": 0, "creation_date": 1567632781, "post_id": 57795834, "comment_id": 102024908, "body": "I can&#39;t help but imagine a chrome extension installed via adware capable of grabbing credit card information from stripe&#39;s iframe  This shouldn&#39;t be possible by design"}, {"owner": {"reputation": 357, "user_id": 5323220, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/10156044221650475/picture?type=large", "display_name": "Noam Suissa", "link": "https://stackoverflow.com/users/5323220/noam-suissa"}, "reply_to_user": {"reputation": 8985, "user_id": 5581565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63a93f05570b10a05c0a8d6e7049a2a9?s=128&d=identicon&r=PG", "display_name": "Salim Djerbouh", "link": "https://stackoverflow.com/users/5581565/salim-djerbouh"}, "edited": false, "score": 0, "creation_date": 1567642864, "post_id": 57795834, "comment_id": 102026910, "body": "@CaddyDZ I believe it is possible to have embedded page communication via <code>window.postMessage</code> but I am not sure how to detect whether the window is embedded within the DOM (iframe) and how the parent window should handle these messages all within the same <code>content-script.js</code> file."}, {"owner": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 1, "creation_date": 1567663110, "post_id": 57795834, "comment_id": 102030890, "body": "Nothing&#39;s wrong with the intent, this is a perfectly valid task. I&#39;ve just written something similar in <a href=\"//stackoverflow.com/a/57744203\">how to fix multi confirm windows on chrome extension</a> but there might be better examples of course. Or maybe I&#39;ll adapt my code to your use case later today."}], "answers": [{"comments": [{"owner": {"reputation": 357, "user_id": 5323220, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/10156044221650475/picture?type=large", "display_name": "Noam Suissa", "link": "https://stackoverflow.com/users/5323220/noam-suissa"}, "edited": false, "score": 0, "creation_date": 1567797806, "post_id": 57806064, "comment_id": 102085232, "body": "Thank you! This makes a lot of sense. However, is to relay the whole element itself. For some reason when I log the <code>msg</code> in the background.js file, the element is blank, yet is detected to be there according to the logs. Is there a workaround to fix this?"}, {"owner": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "reply_to_user": {"reputation": 357, "user_id": 5323220, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/10156044221650475/picture?type=large", "display_name": "Noam Suissa", "link": "https://stackoverflow.com/users/5323220/noam-suissa"}, "edited": false, "score": 0, "creation_date": 1567829573, "post_id": 57806064, "comment_id": 102090880, "body": "I don&#39;t understand. Maybe you&#39;re looking at the <a href=\"/a/10258029\">wrong console</a>"}], "tags": [], "owner": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "is_accepted": true, "score": 2, "last_activity_date": 1567688384, "creation_date": 1567688384, "answer_id": 57806064, "question_id": 57795834, "link": "https://stackoverflow.com/questions/57795834/how-to-get-all-frames-to-access-one-single-global-variable/57806064#57806064", "title": "How to get all frames to access one single global variable", "body": "<p>It'd be more secure and reliable to organize the communication via extension messaging to the background script. Instances of content script run in the main page and all iframes, the main one waits for the data, the others in frames send the data through the background page relay.</p>\n\n<p>The content script:</p>\n\n<pre><code>if (window === top) {\n  // main page\n  const data = {};\n  chrome.runtime.onMessage.addListener(msg =&gt; {\n    Object.assign(data, msg.data);\n    if (data.email &amp;&amp; data.username) {\n      console.log('Got both values', data);\n    }\n  });\n} else {\n  // inside a frame\n  const data = {};\n  for (const id of ['username', 'email']) {\n    const el = document.getElementById(id);\n    if (el) data[id] = el.value; \n  }\n  if (Object.keys(data).length)\n    chrome.runtime.sendMessage({data});\n}\n</code></pre>\n\n<p>The <a href=\"https://developer.chrome.com/extensions/background_pages\" rel=\"nofollow noreferrer\">background script</a>:</p>\n\n<pre><code>chrome.runtime.onMessage.addListener((msg, sender) =&gt; {\n  // message from a frame?\n  if (msg.data &amp;&amp; sender.frameId) {\n    // relay it to the main page (frameId: 0)\n    chrome.tabs.sendMessage(sender.tab.id, msg, {frameId: 0});\n  }\n});\n</code></pre>\n"}], "owner": {"reputation": 357, "user_id": 5323220, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/10156044221650475/picture?type=large", "display_name": "Noam Suissa", "link": "https://stackoverflow.com/users/5323220/noam-suissa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 57806064, "answer_count": 1, "score": 2, "last_activity_date": 1567688384, "creation_date": 1567632473, "question_id": 57795834, "link": "https://stackoverflow.com/questions/57795834/how-to-get-all-frames-to-access-one-single-global-variable", "title": "How to get all frames to access one single global variable", "body": "<p>I am developing a Chrome extension and need my content script to access all frames of the web page in order to detect some specific fields.</p>\n\n<p>Once detected I would attempt to store that field element inside its respective property in the global object. The problem is that if the elements are all located in different iframes, each would get a copy of that script and populate its own copy of the object and not one single global object. </p>\n\n<p>Is there a way to have one single global instance of the object and append values to its properties every time a field is detected? </p>\n\n<p>Eg:</p>\n\n<p><strong>Original object</strong></p>\n\n<pre><code>{\n    userName: [],\n    email: []\n}\n</code></pre>\n\n<p><strong>userName field detected in iframe1</strong></p>\n\n<pre><code>{\n    userName: [&lt;input id=\"username\"&gt;...&lt;/input&gt;],\n    email: []\n}\n</code></pre>\n\n<p><strong>email field detected in iframe2</strong></p>\n\n<pre><code>{\n    userName: [],\n    email: [&lt;input id=\"email\"&gt;...&lt;/input&gt;]\n}\n</code></pre>\n\n<p><strong>Desired outcome</strong></p>\n\n<pre><code>{\n    userName: [&lt;input id=\"username\"&gt;...&lt;/input&gt;],\n    email: [&lt;input id=\"email\"&gt;...&lt;/input&gt;]\n}\n</code></pre>\n"}, {"tags": ["javascript", "json"], "comments": [{"owner": {"reputation": 2315, "user_id": 1113204, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Wm9hj.jpg?s=128&g=1", "display_name": "M1K1O", "link": "https://stackoverflow.com/users/1113204/m1k1o"}, "edited": false, "score": 0, "creation_date": 1567632513, "post_id": 57795816, "comment_id": 102024811, "body": "Looks like you are serializing it as string, not as object. Therefore those extra characters. Can you provide us some code?"}, {"owner": {"reputation": 3388, "user_id": 2458149, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v0Bgh.png?s=128&g=1", "display_name": "I&#39;m Joe Too", "link": "https://stackoverflow.com/users/2458149/im-joe-too"}, "edited": false, "score": 0, "creation_date": 1567632756, "post_id": 57795816, "comment_id": 102024896, "body": "Where is pages[anycast][blocks][0][frames_content] being generated - client-side in JS and you&#39;re trying to get it into JSON to be sent to PHP, or server-side in PHP and you&#39;re trying to read it in JS?"}, {"owner": {"reputation": 3115, "user_id": 864233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/l0YCn.jpg?s=128&g=1", "display_name": "romellem", "link": "https://stackoverflow.com/users/864233/romellem"}, "edited": false, "score": 0, "creation_date": 1567633984, "post_id": 57795816, "comment_id": 102025212, "body": "Don&#39;t think it answers your question directly, but may be worth checking out lodash&#39;s <a href=\"https://lodash.com/docs/4.17.15#set\" rel=\"nofollow noreferrer\">set</a> and <a href=\"https://lodash.com/docs/4.17.15#setWith\" rel=\"nofollow noreferrer\">setWith</a> functions."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1567634888, "post_id": 57795816, "comment_id": 102025404, "body": "Show your original PHP code and the Node.js code that&#39;s trying to replace it. Then we can show you where you went wrong in the conversion."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1567635251, "post_id": 57795816, "comment_id": 102025477, "body": "Your original conversion looks like the kind of parsing that&#39;s done by PHP with POST or GET parameters. I don&#39;t think there&#39;s any built-in JS function that exposes this parsing, but it&#39;s presumably done internally in the <code>requests</code> module."}, {"owner": {"reputation": 732, "user_id": 2748245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/578784511/picture?type=large", "display_name": "Keith Harris", "link": "https://stackoverflow.com/users/2748245/keith-harris"}, "edited": false, "score": 0, "creation_date": 1567642738, "post_id": 57795816, "comment_id": 102026880, "body": "Barmar - I think you&#39;re right. I was hoping there was some native JS equivalent to do the same thing PHP does."}], "answers": [{"comments": [{"owner": {"reputation": 732, "user_id": 2748245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/578784511/picture?type=large", "display_name": "Keith Harris", "link": "https://stackoverflow.com/users/2748245/keith-harris"}, "edited": false, "score": 0, "creation_date": 1567643381, "post_id": 57796322, "comment_id": 102026996, "body": "Your answer produced the following result:"}, {"owner": {"reputation": 732, "user_id": 2748245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/578784511/picture?type=large", "display_name": "Keith Harris", "link": "https://stackoverflow.com/users/2748245/keith-harris"}, "edited": false, "score": 0, "creation_date": 1567643390, "post_id": 57796322, "comment_id": 102026997, "body": "{ pages:  { anycast: { blocks: [Array] }, error: { blocks: [Array] }, download: { blocks: [Array] }, check: { blocks: [Array] }, index: { blocks: [Array] }, voice: { blocks: [Array] }, home: { blocks: [Array] }, dental: { blocks: [Array] }, callonly: { blocks: [Array] } } }"}, {"owner": {"reputation": 2697, "user_id": 2800218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tQV04.jpg?s=128&g=1", "display_name": "Andrea Giammarchi", "link": "https://stackoverflow.com/users/2800218/andrea-giammarchi"}, "reply_to_user": {"reputation": 732, "user_id": 2748245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/578784511/picture?type=large", "display_name": "Keith Harris", "link": "https://stackoverflow.com/users/2748245/keith-harris"}, "edited": false, "score": 0, "creation_date": 1567666367, "post_id": 57796322, "comment_id": 102032086, "body": "I have provided an answer with the little input I had, if there was a better input there would&#39;ve been a better answer. You edited the post after my answer though, so maybe I&#39;ll have a look and see what I can do."}], "tags": [], "owner": {"reputation": 2697, "user_id": 2800218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tQV04.jpg?s=128&g=1", "display_name": "Andrea Giammarchi", "link": "https://stackoverflow.com/users/2800218/andrea-giammarchi"}, "is_accepted": false, "score": 0, "last_activity_date": 1567670302, "last_edit_date": 1567670302, "creation_date": 1567636105, "answer_id": 57796322, "question_id": 57795816, "link": "https://stackoverflow.com/questions/57795816/converting-javascript-object-to-json/57796322#57796322", "title": "Converting javascript object to JSON", "body": "<p><strong>Edit</strong> I'll keep the initial answer in case it's useful for anyone else.</p>\n\n<p>If you send JSON via Ajax, and you check for <code>$_POST['data']</code>, all you need to do in the PHP side is to <code>json_decode($_POST['data'])</code>.</p>\n\n<p>At that time you'll have a PHP <code>stdClass</code> object with all fields you expect, such as <code>$object-&gt;delete</code> or others.</p>\n\n<p>If you prefer to have associative arrays instead of objects, use <code>json_decode($_POST['data'], true)</code>.</p>\n\n<p>If this is still not the answer, maybe you can better elaborate what is the exact input, and the exact output you expect, as my previous answer was about that, exactly the I/O you described.</p>\n\n<hr>\n\n<p>Assuming there are no fancy chars in the objects keys you are receiving, as inside keys such as <code>'pages[anycast][blocks][0][frames_content]'</code>, you can use some specialized convention to convert those kind of keys (usually coming from old DBs or services that didn't know JSON already) into more recursive data.</p>\n\n<p>This is just one example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const input = {'pages[anycast][blocks][0][frames_content]': 'value'};\nconst output = Object.keys(input).reduce(\n  (js, key) =&gt; {\n    let root = js;\n    const keys = key\n      .replace(\n        /(\\[|\\]\\[?)/g,\n        ($0, $1) =&gt; $1 === ']' ? '' : '\\x01'\n      )\n      .split('\\x01');\n    for (let i = 1, {length} = keys; i &lt; length; i++) {\n      const prev = keys[i - 1];\n      if (!root.hasOwnProperty(prev))\n        root[prev] = /^\\d+$/.test(keys[i]) ? [] : {};\n      root = root[prev];\n    }\n    root[keys.pop()] = input[key];\n    return js;\n  },\n  {}\n);\n</code></pre>\n\n<p>The serialized <code>output</code> variable will look, after the parsing, like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n  \"pages\": {\n    \"anycast\": {\n      \"blocks\": [\n        {\n          \"frames_content\": \"value\"\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n\n<p>The current example assumes anything placed in <code>[0]</code> or <code>[1]</code> should be handled as Array, and everything else as object field.</p>\n\n<p>The suggested conversion makes it possible to also have multiple entries per indexes:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const input = {\n  'pages[anycast][blocks][0][frames_content]': 'first',\n  'pages[anycast][blocks][1][frames_content]': 'second',\n};\n\n// ... after previous parsing, output will be\n{\n  \"pages\": {\n    \"anycast\": {\n      \"blocks\": [\n        {\n          \"frames_content\": \"first\"\n        },\n        {\n          \"frames_content\": \"second\"\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n\n<p>Of course, if you have twice the same field names, these will be overwritten, but I believe that should never be the case if your object comes from old services, as I think they already figured out their own schema.</p>\n"}], "owner": {"reputation": 732, "user_id": 2748245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/578784511/picture?type=large", "display_name": "Keith Harris", "link": "https://stackoverflow.com/users/2748245/keith-harris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567670302, "creation_date": 1567632367, "last_edit_date": 1567642346, "question_id": 57795816, "link": "https://stackoverflow.com/questions/57795816/converting-javascript-object-to-json", "title": "Converting javascript object to JSON", "body": "<p>I have an application that I'm migrating away from PHP to Node.js. This application sends a javascript object as data to an ajax function that calls a PHP handler.</p>\n\n<p>The PHP handler then converts the object to JSON using PHP's json_encode function. Node has a package called \"json_encode\" but it does not work the same as its PHP counterpart.</p>\n\n<p>Basically, I want to convert this:</p>\n\n<pre><code>{ 'pages[anycast][blocks][0][frames_content]': ' \\n &lt;section class=\"bg-white builder-bg padding-110px-tb xs-padding-60px-tb\" . . . }\n</code></pre>\n\n<p>into this:</p>\n\n<pre><code>{\"pages\":{\"anycast\":{\"blocks\":[{\"frames_content\":\"            \\n            &lt;section class=\\\"bg-white builder-bg padding-110px-tb xs-padding-60px-tb\\\" . . .}\n</code></pre>\n\n<p>Using JSON.stringify(data) on the client-side before sending it over to the server creates this:</p>\n\n<pre><code>{ '{\"data\":{\"pages\":{\"anycast\":{\"blocks\":[{\"frames_content\":\" \\n &lt;section class': '\\\\\"bg-white builder-bg padding-110px-tb xs-padding-60px-tb\\\\\" . . . }\n</code></pre>\n\n<p>which adds extra backslashes and incorrectly replaced the equal sign after \n\n<p><strong>Client-Side Code:</strong></p>\n\n<pre><code>var pages = {}, theSite;\n            if( site.sitePages[0].blocks.length !== 0 ) {\n                for( var x = 0; x &lt; site.sitePages.length; x++ ) {\n                    if( site.sitePages[x].blocks.length !== 0 ) {\n                        pages[site.sitePages[x].name] = site.sitePages[x].prepForSave();\n                    } else {                \n                        pages[site.sitePages[x].name] = 'empty';\n                    }\n                }\n\n                theSite = {\n                    pages: pages\n                };\n\n            } else {\n                theSite = {\n                    delete: true\n                };\n            }\n\n            //remove old alerts\n            $('#errorModal .modal-body &gt; *, #successModal .modal-body &gt; *').each(function(){\n                $(this).remove();\n            });\n\n            $.ajax({\n                url: 'https://api.handler.com/save',\n                method: 'POST',\n                data: theSite,\n                dataType: \"json\"\n            }).done(function (res) {\n                //enable button\n                $(\"a#savePage\").removeClass('disabled');\n                if( res.responseCode === 0 ) {\n                    if( showConfirmModal ) {\n                        $('#errorModal .modal-body').html( res.responseHTML );\n                        $('#errorModal').modal('show');\n                    }\n                } else if( res.responseCode === 1 ) {\n                    //no more pending changes\n                    site.setPendingChanges(false);\n                    $('body').trigger('changePage');\n                }\n            });\n        },\n\n        /*\n            preps the site data before sending it to the server\n        */\n        prepForSave: function(template) {\n            this.sitePagesReadyForServer = {};\n            if( template ) {//saving template, only the activePage is needed\n                this.sitePagesReadyForServer[this.activePage.name] = this.activePage.prepForSave();\n                this.activePage.fullPage();\n            } else {//regular save\n                //find the pages which need to be send to the server\n                for( var i = 0; i &lt; this.sitePages.length; i++ ) {\n                    if( this.sitePages[i].status !== '' ) {\n                        this.sitePagesReadyForServer[this.sitePages[i].name] = this.sitePages[i].prepForSave();\n                    }\n                }\n            }\n        },\n</code></pre>\n\n<p>I'm sending \"theSite\" variable to the server via AJAX.</p>\n\n<p><strong>Original PHP Server-side Handler:</strong></p>\n\n<pre><code>&lt;?php\n$return = [];\n\nif( isset($_POST['data']) &amp;&amp; $_POST['data'] != '' ) {\n\n    if( isset($_POST['data']['delete']) ) {\n\n        $myfile = fopen(\"site.json\", \"w\");\n        fwrite($myfile, '{}');\n        fclose($myfile);\n\n    } else {\n\n        $myfile = fopen(\"site.json\", \"w\");\n        fwrite($myfile, json_encode($_POST['data']));\n        fclose($myfile);\n\n    }\n\n    $return['responseCode'] = 1;\n    $return['responseHTML'] = '&lt;h5&gt;Hooray!&lt;/h5&gt; &lt;p&gt;The site was saved successfully!&lt;/p&gt;';\n\n} else {\n\n    $return['responseCode'] = 0;\n    $return['responseHTML'] = '&lt;h5&gt;Ouch!&lt;/h5&gt; &lt;p&gt;Something went wrong and the site could not be saved :(&lt;/p&gt;';\n\n}\necho json_encode($return);\n?&gt;\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "function"], "comments": [{"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 2, "creation_date": 1567632314, "post_id": 57795794, "comment_id": 102024743, "body": "What sort of output are you looking for? Do you want to flatten the array, then print it, or print each item one by one, or what?"}, {"owner": {"reputation": 122, "user_id": 11751646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16047ddbb98ee7ec480e8cf889dd8b7?s=128&d=identicon&r=PG&f=1", "display_name": "srvqaqa", "link": "https://stackoverflow.com/users/11751646/srvqaqa"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1567632436, "post_id": 57795794, "comment_id": 102024786, "body": "@CertainPerformance no, just print its elements on console one under another. Like <code>&quot;Alex&quot;, 1,2,&quot;Marta&quot;,3 ...</code>"}, {"owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1567632938, "post_id": 57795794, "comment_id": 102024965, "body": "Maybe, you wanted to write this: <code>for (let f of arr) { if (typeof f === &quot;object&quot;) recursive(f); else console.log(f); }</code>, in case you are only interested on log the elements on the console."}], "answers": [{"comments": [{"owner": {"reputation": 122, "user_id": 11751646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16047ddbb98ee7ec480e8cf889dd8b7?s=128&d=identicon&r=PG&f=1", "display_name": "srvqaqa", "link": "https://stackoverflow.com/users/11751646/srvqaqa"}, "edited": false, "score": 0, "creation_date": 1567632648, "post_id": 57795828, "comment_id": 102024859, "body": "thank you, but I&#39;ve never seen neither <code>*</code> sign with function and <code>yield</code> keyword in Javascript. I couldn&#39;t understand your code."}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 0, "last_activity_date": 1567632457, "creation_date": 1567632457, "answer_id": 57795828, "question_id": 57795794, "link": "https://stackoverflow.com/questions/57795794/output-all-nested-array-elements-with-recursion/57795828#57795828", "title": "Output all nested array elements with recursion", "body": "<p>You end the function with the first <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/return\" rel=\"nofollow noreferrer\"><code>return</code> statement</a>.</p>\n\n<p>Instead, you could take a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator\" rel=\"nofollow noreferrer\"><code>Generator</code></a> and yield the items or the inner array by calling the function.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function* recursive (arr) {\r\n    for (let f of arr) {\r\n        if (Array.isArray(f)) yield* recursive(f);\r\n        else yield f;\r\n    }\r\n}\r\n\r\nlet array = [\"Alex\", 1, 2, [\"Marta\", 3], [[5, \"Melman\"]], 6];\r\n\r\nconsole.log(...recursive(array));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 122, "user_id": 11751646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16047ddbb98ee7ec480e8cf889dd8b7?s=128&d=identicon&r=PG&f=1", "display_name": "srvqaqa", "link": "https://stackoverflow.com/users/11751646/srvqaqa"}, "edited": false, "score": 0, "creation_date": 1567632932, "post_id": 57795831, "comment_id": 102024961, "body": "your solution worked for me, thank you ! But we have to delete <code>return</code> from else too."}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "reply_to_user": {"reputation": 122, "user_id": 11751646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16047ddbb98ee7ec480e8cf889dd8b7?s=128&d=identicon&r=PG&f=1", "display_name": "srvqaqa", "link": "https://stackoverflow.com/users/11751646/srvqaqa"}, "edited": false, "score": 0, "creation_date": 1567632939, "post_id": 57795831, "comment_id": 102024968, "body": "Fixed @srvqaqa, any better?"}], "tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": true, "score": 1, "last_activity_date": 1567632923, "last_edit_date": 1567632923, "creation_date": 1567632465, "answer_id": 57795831, "question_id": 57795794, "link": "https://stackoverflow.com/questions/57795794/output-all-nested-array-elements-with-recursion/57795831#57795831", "title": "Output all nested array elements with recursion", "body": "<p>You need to log the item to the console. And don't <code>return</code> from the <code>if</code>:</p>\n\n<pre><code>if (typeof f === \"object\") {\n    recursive(f);\n}\n\nelse {\n    console.log(f);\n}\n</code></pre>\n\n<p>(Also note that <code>typeof</code> is intended to be an operator, not a function.)</p>\n"}], "owner": {"reputation": 122, "user_id": 11751646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16047ddbb98ee7ec480e8cf889dd8b7?s=128&d=identicon&r=PG&f=1", "display_name": "srvqaqa", "link": "https://stackoverflow.com/users/11751646/srvqaqa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 57795831, "answer_count": 2, "score": 0, "last_activity_date": 1567632923, "creation_date": 1567632241, "last_edit_date": 1567632522, "question_id": 57795794, "link": "https://stackoverflow.com/questions/57795794/output-all-nested-array-elements-with-recursion", "title": "Output all nested array elements with recursion", "body": "<p>So, let's consider we have such array: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let array = [\"Alex\", 1,2,[\"Marta\", 3], [[5, \"Melman\"]], 6];\n</code></pre>\n\n<p>I want to output all its elements with recursive function. \nMy function is as follows:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function recursive(arr){\n    for(let f of arr){\n        if(typeof(f)===\"object\"){\n            return recursive(f);\n        }\n        else{\n            return f;\n        }\n    }\n}\n</code></pre>\n\n<p>But it doesn't work properly. So where is the problem ?</p>\n"}, {"tags": ["javascript", "apache", "authentication", "websocket"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4511253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/051344e487a6d9f4159fc43fc41de583?s=128&d=identicon&r=PG", "display_name": "norandomtechie", "link": "https://stackoverflow.com/users/4511253/norandomtechie"}, "edited": false, "score": 0, "creation_date": 1577538905, "post_id": 59314453, "comment_id": 105194203, "body": "I asked, but they weren&#39;t cool with the idea. I think they mentioned XSS as a potential risk factor, but I&#39;m not sure how that worked. I haven&#39;t been able to get a clarification, either."}], "tags": [], "owner": {"reputation": 179, "user_id": 5357253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UqDZl.jpg?s=128&g=1", "display_name": "Claudio Viola", "link": "https://stackoverflow.com/users/5357253/claudio-viola"}, "is_accepted": false, "score": 0, "last_activity_date": 1576195682, "creation_date": 1576195682, "answer_id": 59314453, "question_id": 57795775, "link": "https://stackoverflow.com/questions/57795775/authenticating-a-user-to-one-server-when-already-logged-in-to-a-website-from-ano/59314453#59314453", "title": "Authenticating a user to one server when already logged in to a website from another server", "body": "<p>If you can ask the owner of SITE 1 (where the apache module exists) to share the cookies across the two subdomains See <a href=\"https://stackoverflow.com/questions/1062963/how-do-browser-cookie-domains-work\">How do browser cookie domains work?</a> for detailed explanation</p>\n\n<p>If the subdomain is rightly set, once user is logged in with SITE 1, SITE 2 will have the cookie set too.\nYou then have two options on SITE 2 server side.</p>\n\n<p>Option 1 - Site 2 (server side) needs to be able to validate cookie of SITE 1. (you need to share the secret by which SITE 1 creates the cookie and sets it when reading on your side.</p>\n\n<p>Option 2 -  Site 2 (server side) can communicate internally with SITE 1 (/check-cookie ('true-false') </p>\n\n<p>Whether you use Option 1 or Option 2 , You need to integrate answer from <a href=\"https://stackoverflow.com/questions/59070321/websockets-token-authentication-using-middleware-and-express-in-node-js/59314360#59314360\">Websockets token authentication using middleware and express in node.js</a>  and listen to the upgrade event on your server side (SITE 2) to check the cookie on http upgrade connection on websocket handshake. blocking access if it is not authenticated cookie invalid using option 1 or option 2.</p>\n"}], "owner": {"reputation": 21, "user_id": 4511253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/051344e487a6d9f4159fc43fc41de583?s=128&d=identicon&r=PG", "display_name": "norandomtechie", "link": "https://stackoverflow.com/users/4511253/norandomtechie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576195682, "creation_date": 1567632093, "question_id": 57795775, "link": "https://stackoverflow.com/questions/57795775/authenticating-a-user-to-one-server-when-already-logged-in-to-a-website-from-ano", "title": "Authenticating a user to one server when already logged in to a website from another server", "body": "<p>Preamble: I understand that there were quite a few similar questions on SO that ask the same thing. All of them are about different implementations of the idea, or use other languages and platforms, and didn't answer my question.</p>\n\n<p>I have a website running at <a href=\"https://sub3.domain.edu/page_x\" rel=\"nofollow noreferrer\">https://sub3.domain.edu/page_x</a> and a WebSocket server running at <a href=\"https://sub1.sub2.domain.edu/page_y\" rel=\"nofollow noreferrer\">https://sub1.sub2.domain.edu/page_y</a> (names obviously changed for privacy). Both addresses belong to domain.edu, which is my university website.</p>\n\n<p>Currently, users will login to my website at the first link using basic HTTP auth. The actual authentication, i.e. checking the username and password, is handled by an Apache module on the first server only.</p>\n\n<p>Right now, no authentication is needed to connect to the WS server, which makes it open to DDOS attacks (the WebSocket server performs CPU intensive work for every connected user). I merely connect like this:</p>\n\n<pre><code>ws = new WebSocket ('wss://sub1.sub2.domain.edu/page_y/wss')\n</code></pre>\n\n<p>My goal is to figure out how to use the first website's authenticated session to connect to the second server. How do I modify the website to send something (like a token) that my WebSocket server can recognize as an authenticated user and then allow access? The WebSocket server is a node.js app running at the address I specified above.</p>\n\n<p>I cannot install the Apache module used on the first server since that can only be done by the university IT department, who will not do it for a self-administered machine. I don't want to move the website to the second server because I would really like to use the university Apache module, since it is the same authentication used for all university apps, and we would prefer that our users don't have to remember another password for our site. </p>\n"}, {"tags": ["javascript", "arrays", "object", "merge"], "comments": [{"owner": {"reputation": 2364, "user_id": 5791997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262568cad9681dbf0cc0a2a423c1c351?s=128&d=identicon&r=PG&f=1", "display_name": "Addis", "link": "https://stackoverflow.com/users/5791997/addis"}, "edited": false, "score": 0, "creation_date": 1567632212, "post_id": 57795741, "comment_id": 102024717, "body": "Can you post a sample input and desired output? And also the two objects?"}, {"owner": {"reputation": 196, "user_id": 11971876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cd83256711c99ed7f8eb5a71f5728ec?s=128&d=identicon&r=PG&f=1", "display_name": "AndyJamesN", "link": "https://stackoverflow.com/users/11971876/andyjamesn"}, "reply_to_user": {"reputation": 2364, "user_id": 5791997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262568cad9681dbf0cc0a2a423c1c351?s=128&d=identicon&r=PG&f=1", "display_name": "Addis", "link": "https://stackoverflow.com/users/5791997/addis"}, "edited": false, "score": 0, "creation_date": 1567632496, "post_id": 57795741, "comment_id": 102024807, "body": "The two objects are in the sandbox and under the log I have the example output I need. I&#39;ve also added the objects to the body of the question."}], "answers": [{"comments": [{"owner": {"reputation": 196, "user_id": 11971876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cd83256711c99ed7f8eb5a71f5728ec?s=128&d=identicon&r=PG&f=1", "display_name": "AndyJamesN", "link": "https://stackoverflow.com/users/11971876/andyjamesn"}, "edited": false, "score": 0, "creation_date": 1567633846, "post_id": 57795966, "comment_id": 102025185, "body": "This is a great solution! Thanks"}, {"owner": {"reputation": 196, "user_id": 11971876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cd83256711c99ed7f8eb5a71f5728ec?s=128&d=identicon&r=PG&f=1", "display_name": "AndyJamesN", "link": "https://stackoverflow.com/users/11971876/andyjamesn"}, "edited": false, "score": 0, "creation_date": 1567634283, "post_id": 57795966, "comment_id": 102025279, "body": "Actually close but I notice this returns an array with 2 arrays. Which is different from the original filters which is an object with a key and array value."}], "tags": [], "owner": {"reputation": 7454, "user_id": 93812, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/T5fjc.jpg?s=128&g=1", "display_name": "Will Jenkins", "link": "https://stackoverflow.com/users/93812/will-jenkins"}, "is_accepted": true, "score": 1, "last_activity_date": 1567634680, "last_edit_date": 1567634680, "creation_date": 1567633492, "answer_id": 57795966, "question_id": 57795741, "link": "https://stackoverflow.com/questions/57795741/update-values-in-original-object-with-values-from-new-object-and-set-value-to-0/57795966#57795966", "title": "Update values in original object with values from new object and set value to 0 if doesn&#39;t exist", "body": "<p>How about something like this:</p>\n\n<pre><code>const newObj = Object.keys(filters).map(filterKey =&gt; {\n  const oldFilter = filters[filterKey];\n  const newFilter = newFilters[filterKey];\n  return oldFilter.map(f =&gt; {\n    const matchingNewFilter = newFilter.find(nf =&gt; nf.key === f.key);\n    return matchingNewFilter || { ...f, doc_count: 0 };\n  });\n});\n</code></pre>\n\n<p>Sandbox here: <a href=\"https://codesandbox.io/s/proud-haze-n4vsu\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/proud-haze-n4vsu</a></p>\n\n<p><strong>Update</strong>: the above returns an array, here is a version that returns an object:</p>\n\n<pre><code>const update = (...args) =&gt;\n  Object.keys(args[0]).reduce((acc, k) =&gt; {\n    acc[k] = args[0][k].map(\n      f =&gt;\n        args[1][k].find(nf =&gt; nf.key === f.key) || {\n          ...f,\n          doc_count: 0\n        }\n    );\n    return acc;\n  }, {});\n\nconsole.log(update(filters, newFilters));\n</code></pre>\n\n<p>Updated sandbox here: <a href=\"https://codesandbox.io/s/dry-pine-oxpvf\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/dry-pine-oxpvf</a></p>\n"}, {"tags": [], "owner": {"reputation": 76, "user_id": 489157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2b3d4cb8f1318be60e3459343d626cf?s=128&d=identicon&r=PG", "display_name": "Avram", "link": "https://stackoverflow.com/users/489157/avram"}, "is_accepted": false, "score": 1, "last_activity_date": 1567634684, "creation_date": 1567634684, "answer_id": 57796170, "question_id": 57795741, "link": "https://stackoverflow.com/questions/57795741/update-values-in-original-object-with-values-from-new-object-and-set-value-to-0/57796170#57796170", "title": "Update values in original object with values from new object and set value to 0 if doesn&#39;t exist", "body": "<p>Try this:</p>\n\n<pre><code>function update(filters, newFilters) {\n  const combinedFilters = {};\n  for (const category in filters) {\n      combinedFilters[category] = [];\n      filters[category].forEach((filter, filterIdx) =&gt; {\n          const newFilter = newFilters[category].find(newFilter =&gt; {\n              return newFilter.key === filter.key;\n          });\n          if (newFilter) {\n              // Filter exists in newFilters, update filters with it\n              combinedFilters[category].push(newFilter);\n          } else {\n              // Filter doesn't exist in newFilters so set the doc_count to 0\n              combinedFilters[category].push({\n                key: filter.key,\n                doc_count: 0\n              })\n          }\n      });\n  }\n  return combinedFilters;\n}\n</code></pre>\n"}], "owner": {"reputation": 196, "user_id": 11971876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cd83256711c99ed7f8eb5a71f5728ec?s=128&d=identicon&r=PG&f=1", "display_name": "AndyJamesN", "link": "https://stackoverflow.com/users/11971876/andyjamesn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 57795966, "answer_count": 2, "score": 0, "last_activity_date": 1567642382, "creation_date": 1567631870, "last_edit_date": 1567642382, "question_id": 57795741, "link": "https://stackoverflow.com/questions/57795741/update-values-in-original-object-with-values-from-new-object-and-set-value-to-0", "title": "Update values in original object with values from new object and set value to 0 if doesn&#39;t exist", "body": "<p>I have 2 objects. filter and newFilters</p>\n\n<pre><code>const filters = {\n  city: [\n    {\n      key: \"Brooklyn\",\n      doc_count: 230\n    },\n    {\n      key: \"New York\",\n      doc_count: 224\n    },\n    {\n      key: \"Queens\",\n      doc_count: 18\n    },\n    {\n      key: \"Bronx\",\n      doc_count: 6\n    },\n    {\n      key: \"Staten Island\",\n      doc_count: 5\n    },\n    {\n      key: \"Long Island City\",\n      doc_count: 3\n    },\n    {\n      key: \"Rockaway Beach\",\n      doc_count: 1\n    }\n  ],\n  roomType: [\n    {\n      key: \"Entire home/apt\",\n      doc_count: 276\n    },\n    {\n      key: \"Private room\",\n      doc_count: 205\n    },\n    {\n      key: \"Shared room\",\n      doc_count: 6\n    }\n  ]\n};\n\nconst newFilters = {\n  city: [\n    {\n      key: \"Bronx\",\n      doc_count: 6\n    }\n  ],\n  roomType: [\n    {\n      key: \"Private room\",\n      doc_count: 4\n    },\n    {\n      key: \"Entire home/apt\",\n      doc_count: 2\n    }\n  ]\n};\n</code></pre>\n\n<p>The <code>doc_count</code> values in filter need to be updated with the <code>doc_values</code> of the newFilters. Returning a new object.</p>\n\n<p>This part I have working. See here:</p>\n\n<p><a href=\"https://codesandbox.io/s/suspicious-raman-k6x2f\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/suspicious-raman-k6x2f</a></p>\n\n<p>However, it is updating all existing values and leaving unchanged values as is. This is expected. But in my case I need it to set <code>doc_count: 0</code> if there is nothing to update.</p>\n\n<p>eg: In the example it returns roomType it updates Private room and Entire home/apt as expected but </p>\n\n<p><code>key: \"Shared room\"\ndoc_count: 6</code></p>\n\n<p>This should be</p>\n\n<p><code>key: \"Shared room\"\ndoc_count: 0</code></p>\n\n<p>This is because if it returns no update there are no items available.</p>\n\n<p>It should look like this:</p>\n\n<pre><code>const newObject = {\n  city: [\n    {\n      key: \"Brooklyn\",\n      doc_count: 0\n    },\n    {\n      key: \"New York\",\n      doc_count: 0\n    },\n    {\n      key: \"Queens\",\n      doc_count: 0\n    },\n    {\n      key: \"Bronx\",\n      doc_count: 6\n    },\n    {\n      key: \"Staten Island\",\n      doc_count: 0\n    },\n    {\n      key: \"Long Island City\",\n      doc_count: 0\n    },\n    {\n      key: \"Rockaway Beach\",\n      doc_count: 0\n    }\n  ],\n  roomType: [\n    {\n      key: \"Entire home/apt\",\n      doc_count: 276\n    },\n    {\n      key: \"Private room\",\n      doc_count: 205\n    },\n    {\n      key: \"Shared room\",\n      doc_count: 0\n    }\n  ]\n};\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "mobile-browser"], "comments": [{"owner": {"reputation": 17581, "user_id": 2167834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9699e22406fb8e57a0c90f576c610b1c?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien Renauld", "link": "https://stackoverflow.com/users/2167834/s%c3%a9bastien-renauld"}, "edited": false, "score": 0, "creation_date": 1567632587, "post_id": 57795739, "comment_id": 102024834, "body": "Are you actually certain this comes from jQuery, and this snippet particularly? Passive event listeners are scheduled for 4.x, and I don&#39;t actually see a <code>click</code> -&gt; <code>touchmove</code> conversion in the jQuery source code itself."}, {"owner": {"reputation": 27, "user_id": 12007939, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xNpmF2KbW4o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdRhYkMFi08SwoYgTtCNIVmWB7g2A/photo.jpg?sz=128", "display_name": "Mohamed Fall", "link": "https://stackoverflow.com/users/12007939/mohamed-fall"}, "reply_to_user": {"reputation": 17581, "user_id": 2167834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9699e22406fb8e57a0c90f576c610b1c?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien Renauld", "link": "https://stackoverflow.com/users/2167834/s%c3%a9bastien-renauld"}, "edited": false, "score": 0, "creation_date": 1567633888, "post_id": 57795739, "comment_id": 102025188, "body": "@S&#233;bastienRenauld I don&#39;t know really. But it&#39;s the message that displayed in the console?  have you an idea about this?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1567636068, "post_id": 57795739, "comment_id": 102025665, "body": "Are you using <code>jquery-mobile</code>?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1567636197, "post_id": 57795739, "comment_id": 102025693, "body": "That&#39;s not an error, it&#39;s just a warning, and doesn&#39;t prevent the code from working."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1567636250, "post_id": 57795739, "comment_id": 102025711, "body": "The code you posted has nothing to do with <code>touchmove</code>, and doesn&#39;t call <code>preventDefault()</code>. The warning must be coming from somewhere else."}], "owner": {"reputation": 27, "user_id": 12007939, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xNpmF2KbW4o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdRhYkMFi08SwoYgTtCNIVmWB7g2A/photo.jpg?sz=128", "display_name": "Mohamed Fall", "link": "https://stackoverflow.com/users/12007939/mohamed-fall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567636135, "creation_date": 1567631866, "last_edit_date": 1567636135, "question_id": 57795739, "link": "https://stackoverflow.com/questions/57795739/how-to-fix-the-call-preventdefault-on-a-touchmove-event-from-a-listener", "title": "How to fix &#39; The call &quot;preventDefault ()&quot; on a &quot;touchmove&quot; event from a listener registered as &quot;passive&quot; was ignored. &#39;", "body": "<p>I'm developping a web application. But in smartphone, i got some problems that I don't know where it comes from.</p>\n\n<pre><code>$(document).on('click', '.add_suggested', function(e){\n        var action = $(this).attr('data-action');\n        var receiver_id = $(this).attr('data-receiver_id');\n        $.ajax({\n            url:\"./includes/ajax/add_suggested.php\",\n            method:\"POST\",\n            data:{\n                action: action,\n                receiver_id: receiver_id\n            },\n            success: function(){\n                if(action == 'add-link'){\n                    $('#suggested_btn1-' + receiver_id).html('&lt;a class=\"btn add_suggested col white indigo-text text-darken-2\" data-action=\"cancel-link\" data-receiver_id=\"'+ receiver_id +'\"&gt;Annuler&lt;/a&gt;');\n\n                } else if(action == 'cancel-link'){\n                    $('#suggested_btn1-' + receiver_id).html('&lt;a style=\"display:flex; align-items: center;\" class=\"btn add_suggested col indigo darken-2\" data-action=\"add-link\" data-receiver_id=\"'+ receiver_id +'\"&gt;&lt;i class=\"material-icons\"&gt;person_add&lt;/i&gt; Linker&lt;/a&gt;');\n\n                }\n            }\n        })\n    })\n</code></pre>\n\n<p>It works on pc but if I use mobile devices it stop working.</p>\n\n<p>the error displayed in the console:\n<a href=\"https://i.stack.imgur.com/xEpfD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xEpfD.png\" alt=\"the error displayed in the console\"></a></p>\n\n<blockquote>\n  <p>The call \"preventDefault ()\" on a \"touchmove\" event from a listener registered as \"passive\" was ignored.</p>\n</blockquote>\n"}, {"tags": ["javascript", "jquery", "ajax", "google-sheets-api"], "owner": {"reputation": 41, "user_id": 12021853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8a1e602543e507765d6d79a7d3453e?s=128&d=identicon&r=PG&f=1", "display_name": "plshelpme", "link": "https://stackoverflow.com/users/12021853/plshelpme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1567631388, "creation_date": 1567631388, "question_id": 57795676, "link": "https://stackoverflow.com/questions/57795676/update-a-google-spreadsheet-by-row-id", "title": "Update a google spreadsheet by row id", "body": "<p>I need to update the information in a specific row in the google spreadsheets.\nI get the data from the inputs in the front end, and the number of the row that I need to update from the userID.</p>\n\n<p>I tried to use ajax, sending the URL of the form response, but what it does is adding a new row.</p>\n\n<p>Is there a way to send the data and the row ID, so I can update that row in the google sheet?</p>\n\n<p>I use tabletop.js to get/read the data from the google sheets, but dont know if it work to update</p>\n\n<p>function Update() { </p>\n\n<pre><code>var ID = userID;\n\n$.ajax({\n    url: 'https://docs.google.com/forms/d/e/key/formResponse?',\n    data: {\n        \"entry.2085722051\": v_NAME\n    },\n    type: \"POST\",\n    dataType: \"xml\",\n    success: function (d) {\n    },\n    error: function (x, y, z) {\n        $('#success-msg').show();\n        $('#form').hide();\n    }\n});\n</code></pre>\n\n<p>}</p>\n\n<p>I expect the function Update() to update the row [number] on the google sheet by using the [number ID] of the user.\nBut what actual happens is that the function save the data in a new row.</p>\n"}, {"tags": ["javascript", "canvas"], "answers": [{"comments": [{"owner": {"reputation": 12818, "user_id": 350080, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8dbcaa49802612c858ebf97742639a4b?s=128&d=identicon&r=PG", "display_name": "Himmators", "link": "https://stackoverflow.com/users/350080/himmators"}, "edited": false, "score": 0, "creation_date": 1567667926, "post_id": 57795928, "comment_id": 102032772, "body": "This doesn&#39;t work for me, what browser are you using?"}], "tags": [], "owner": {"reputation": 151, "user_id": 11996987, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cE6DJ.png?s=128&g=1", "display_name": "Musevarg", "link": "https://stackoverflow.com/users/11996987/musevarg"}, "is_accepted": false, "score": 0, "last_activity_date": 1567633236, "creation_date": 1567633236, "answer_id": 57795928, "question_id": 57795674, "link": "https://stackoverflow.com/questions/57795674/how-and-why-is-canvas-width-height-messing-with-my-image-drawing/57795928#57795928", "title": "How and why is canvas width/height messing with my image drawing?", "body": "<p>Try to change</p>\n\n<pre><code>canvas.width =window.innerWidth;\ncanvas.height = window.innerHeight;\n</code></pre>\n\n<p>With</p>\n\n<pre><code>canvas.style.width = \"100%\";\ncanvas.style.height = \"100%\";\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let img = new Image(),\r\n\tcanvas = document.getElementById('canvas'),\r\n\tctx = canvas.getContext('2d'),\r\n\tstep = 0, \r\n\tdrawImage = (ctx, img, x, y, degrees,  w = 300, h = 300) =&gt; {\r\n\t\tctx.save();\r\n\t\tctx.translate(x+w/4, y+h/4);\r\n\t\tctx.rotate(degrees*Math.PI/180.0);\r\n\t\tctx.translate(-x-w/4, -y-h/4);\r\n\t\tctx.drawImage(img, x, y, w, h);\r\n\t\tctx.restore();\r\n\t},\r\n\tanimate = () =&gt; {\r\n\t\tctx.globalCompositeOperation = 'destination-over';\r\n\t\t// clear canvas\r\n\t\tctx.clearRect(0, 0, window.innerWidth, window.innerHeight); \r\n\r\n\t\tdrawImage(ctx, img, 0, \t0, step)\r\n\t\r\n\r\n\t\tstep++;\r\n\t\twindow.requestAnimationFrame(animate);\r\n\t}\r\n\r\n\r\nimg.src = \"http://upload.wikimedia.org/wikipedia/commons/d/d2/Svg_example_square.svg\";\r\ncanvas.style.width = \"100%\";\r\ncanvas.style.height = \"100%\";\r\n\r\n\r\nanimate();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>* { margin:0; padding:0; } /* to remove the top and left whitespace */\r\n\thtml, body { width:100%; height:100%; } /* just to be sure these are full screen*/\r\n\tcanvas { display:block;} /* To remove the scrollbars */</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"canvas\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 3958, "user_id": 11081214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b53d0cefd959372f49e84b943a1187f?s=128&d=identicon&r=PG&f=1", "display_name": "Snow", "link": "https://stackoverflow.com/users/11081214/snow"}, "edited": false, "score": 0, "creation_date": 1569388313, "post_id": 57798014, "comment_id": 102575625, "body": "Might you consider taking a look <a href=\"https://stackoverflow.com/questions/55451493/\">here</a>? It seems right up your alley, and the question is getting a significant number of views despite having been inactive for a while, so people would probably appreciate a good answer. I tried looking through the standard myself but I couldn&#39;t quite fit the pieces into a cohesive answer. I&#39;ll award a bounty."}], "tags": [], "owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "is_accepted": true, "score": 2, "last_activity_date": 1567653683, "creation_date": 1567653683, "answer_id": 57798014, "question_id": 57795674, "link": "https://stackoverflow.com/questions/57795674/how-and-why-is-canvas-width-height-messing-with-my-image-drawing/57798014#57798014", "title": "How and why is canvas width/height messing with my image drawing?", "body": "<p>That's a Chrome \"bug\", related to the bad svg image you ask it to draw.</p>\n\n<p>The svg you draw doesn't have an absolute <code>width</code> or <code>height</code> attribute, nor a <code>viewBox</code> one.  </p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\"&gt;\n  &lt;rect width=\"150\" height=\"150\" fill=\"rgb(0, 255, 0)\" stroke-width=\"1\" stroke=\"rgb(0, 0, 0)\"/&gt;\n&lt;/svg&gt;\n</code></pre>\n\n<p>This means that it has no <em>intrisic size</em> nor any intrinsic ratio. In HTML context, browsers can still set a default size, by applying the rules described in <a href=\"https://www.w3.org/TR/CSS22/visudet.html#inline-replaced-width\" rel=\"nofollow noreferrer\">Inline, replaced elements</a>.  </p>\n\n<p>By following these rules, an <code>&lt;img&gt;</code> holding your svg in a relatively sized container will have a <em>computed size</em> of <em>300 x 150px</em> (<code>width =&gt; 300px</code>, <code>height =&gt; 2:1 * width =&gt; 150px</code>).\nHowever, its intrisic size is <code>0</code> and Firefox will report this through the <code>naturalXXX</code> properties, while Chrome will set these to <code>300</code> and  <code>150</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>onload = e =&gt; {\r\n  const img = document.querySelector('img');\r\n  console.log(\r\n    'computed',\r\n    img.width, // 300\r\n    img.height // 150\r\n  );\r\n  console.log(\r\n    'intrinsic',\r\n    img.naturalWidth, // 0 in FF, 300 in Chrome\r\n    img.naturalHeight // 0 in FF, 150 in Chrome\r\n  );\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>img { border: 1px solid blue}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;img src=\"http://upload.wikimedia.org/wikipedia/commons/d/d2/Svg_example_square.svg\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Now, when you are to draw this image on a canvas, there is no such CSS rules to dictate how this computed size should be calculated, and UAs do not agree to what should happen when you drawing this image on a canvas.<br>\nFirefox will simply not draw it (remember, they set <code>naturalXXX</code> to <code>0</code>.\nChrome will use some magic heuristics to draw it the best it thinks it should be drawn. And that's what I call a bug.<br>\nIf the HTMLImageElement used in <code>drawImage</code> has no <code>srcset</code> (i.e its density is <code>1</code>) <code>drawImage(img, x, y)</code> should produce the same result as <code>drawImage(img, x, y, img.naturalWidth, img.naturalHeight)</code>.<br>\nHowever, given the magic they use for these images with no intrinsic size, it's not what happens.  </p>\n\n<p>So you see it distorted in Chrome because you ask it to be drawn as a 300 x 300 rectangle.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const img = new Image(),\r\n  canvas = document.getElementById('canvas'),\r\n  ctx = canvas.getContext('2d'),\r\n  draw = async () =&gt; {\r\n    const w = img.naturalWidth,\r\n          h = img.naturalHeight;\r\n    console.log('reported img size', w, h);\r\n    ctx.fillRect(0, 0, w, h);\r\n    await wait(2000);\r\n    console.log('drawImage with reported size');\r\n    ctx.drawImage(img, 0, 0, w, h);    \r\n    await wait(2000);\r\n    console.log('default drawImage');   \r\n    ctx.drawImage(img, 0, 0);\r\n  };\r\n\r\n\r\nimg.src = \"http://upload.wikimedia.org/wikipedia/commons/d/d2/Svg_example_square.svg\";\r\ncanvas.width = window.innerWidth;\r\ncanvas.height = window.innerHeight;\r\n\r\nimg.onload = draw;\r\n\r\nfunction wait(ms) {\r\n  return new Promise(res =&gt; setTimeout(res, ms));\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"canvas\" width=\"300\" height=\"300\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So you could try to measure the ratio you need to make it though <code>drawImage(img, x, y, w, h)</code> the same as when using only 3 arguments, but the best is probably to use a correct svg, with absolute width and height set, which will make it work in every browsers:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let img = new Image(),\r\n  canvas = document.getElementById('canvas'),\r\n  ctx = canvas.getContext('2d'),\r\n  step = 0,\r\n  drawImage = (ctx, img, x, y, degrees, w = 300, h = 300) =&gt; {\r\n    ctx.save();\r\n    ctx.translate(x + w / 4, y + h / 4);\r\n    ctx.rotate(degrees * Math.PI / 180.0);\r\n    ctx.translate(-x - w / 4, -y - h / 4);\r\n    ctx.drawImage(img, x, y, w, h);\r\n    ctx.restore();\r\n  },\r\n  animate = () =&gt; {\r\n    ctx.globalCompositeOperation = 'destination-over';\r\n    // clear canvas\r\n    ctx.clearRect(0, 0, window.innerWidth, window.innerHeight);\r\n\r\n    drawImage(ctx, img, 0, 0, step)\r\n\r\n    step++;\r\n    window.requestAnimationFrame(animate);\r\n  }\r\n\r\n\r\ncanvas.width = window.innerWidth;\r\ncanvas.height = window.innerHeight;\r\n\r\nimg.onload = animate;\r\n\r\nfetch(\"https://upload.wikimedia.org/wikipedia/commons/d/d2/Svg_example_square.svg\")\r\n  .then(resp =&gt; resp.text())\r\n  .then(markup =&gt; {\r\n    const mime = 'image/svg+xml';\r\n    const doc = new DOMParser().parseFromString(markup, mime);\r\n    doc.documentElement.setAttribute('width', 150);\r\n    doc.documentElement.setAttribute('height', 150);\r\n    img.src = URL.createObjectURL(\r\n      new Blob( [new XMLSerializer().serializeToString(doc)], { type: mime } )\r\n    );\r\n  })\r\n  .catch(console.error);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>* { margin:0; padding:0; } /* to remove the top and left whitespace */\r\nhtml, body { width:100%; height:100%; } /* just to be sure these are full screen*/\r\ncanvas { display:block;} /* To remove the scrollbars */</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"canvas\" width=\"300\" height=\"300\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 12818, "user_id": 350080, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8dbcaa49802612c858ebf97742639a4b?s=128&d=identicon&r=PG", "display_name": "Himmators", "link": "https://stackoverflow.com/users/350080/himmators"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 57798014, "answer_count": 2, "score": 0, "last_activity_date": 1567653683, "creation_date": 1567631385, "last_edit_date": 1567632243, "question_id": 57795674, "link": "https://stackoverflow.com/questions/57795674/how-and-why-is-canvas-width-height-messing-with-my-image-drawing", "title": "How and why is canvas width/height messing with my image drawing?", "body": "<p>I'm trying to write a function that takes x,y coordinates and rotation, and inserts an image that is rotated around the image's central point into a canvas. This code works fine:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let img = new Image(),\r\n\tcanvas = document.getElementById('canvas'),\r\n\tctx = canvas.getContext('2d'),\r\n\tstep = 0, \r\n\tdrawImage = (ctx, img, x, y, degrees,  w = 150, h = 150) =&gt; {\r\n\t\tctx.save();\r\n\t\tctx.translate(x+w/4, y+h/4);\r\n\t\tctx.rotate(degrees*Math.PI/180.0);\r\n\t\tctx.translate(-x-w/4, -y-h/4);\r\n\t\tctx.drawImage(img, x, y, w, h);\r\n\t\tctx.restore();\r\n\t},\r\n\tanimate = () =&gt; {\r\n\t\tctx.globalCompositeOperation = 'destination-over';\r\n\t\t// clear canvas\r\n\t\tctx.clearRect(0, 0, window.innerWidth, window.innerHeight); \r\n\r\n\t\tdrawImage(ctx, img, 0, \t0, step)\r\n\t\r\n\r\n\t\tstep++;\r\n\t\twindow.requestAnimationFrame(animate);\r\n\t}\r\n\r\n\r\nimg.src = \"http://upload.wikimedia.org/wikipedia/commons/d/d2/Svg_example_square.svg\";\r\n\r\nanimate();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>* { margin:0; padding:0; } /* to remove the top and left whitespace */\r\n\thtml, body { width:100%; height:100%; } /* just to be sure these are full screen*/\r\n\tcanvas { display:block;} /* To remove the scrollbars */</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"canvas\" width=\"300\" height=\"300\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But when I try to resize the canvas</p>\n\n<pre><code>canvas.width =window.innerWidth;\ncanvas.height = window.innerHeight;\n</code></pre>\n\n<p>This warps the image and also changes the rotation-point, the effect is more clear on a bigger window. How can I have a canvas that fills up the screen and treats it as though I set the size with the HTML-properties?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let img = new Image(),\r\n\tcanvas = document.getElementById('canvas'),\r\n\tctx = canvas.getContext('2d'),\r\n\tstep = 0, \r\n\tdrawImage = (ctx, img, x, y, degrees,  w = 300, h = 300) =&gt; {\r\n\t\tctx.save();\r\n\t\tctx.translate(x+w/4, y+h/4);\r\n\t\tctx.rotate(degrees*Math.PI/180.0);\r\n\t\tctx.translate(-x-w/4, -y-h/4);\r\n\t\tctx.drawImage(img, x, y, w, h);\r\n\t\tctx.restore();\r\n\t},\r\n\tanimate = () =&gt; {\r\n\t\tctx.globalCompositeOperation = 'destination-over';\r\n\t\t// clear canvas\r\n\t\tctx.clearRect(0, 0, window.innerWidth, window.innerHeight); \r\n\r\n\t\tdrawImage(ctx, img, 0, \t0, step)\r\n\t\r\n\r\n\t\tstep++;\r\n\t\twindow.requestAnimationFrame(animate);\r\n\t}\r\n\r\n\r\nimg.src = \"http://upload.wikimedia.org/wikipedia/commons/d/d2/Svg_example_square.svg\";\r\ncanvas.width =window.innerWidth;\r\ncanvas.height = window.innerHeight;\r\n\r\nanimate();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>\t* { margin:0; padding:0; } /* to remove the top and left whitespace */\r\n\thtml, body { width:100%; height:100%; } /* just to be sure these are full screen*/\r\n\tcanvas { display:block;} /* To remove the scrollbars */</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"canvas\" width=\"300\" height=\"300\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "java", "selenium", "selenium-webdriver", "testng"], "comments": [{"owner": {"reputation": 12118, "user_id": 4714829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd1b66c22707be26afda19fe995e17ea?s=128&d=identicon&r=PG&f=1", "display_name": "supputuri", "link": "https://stackoverflow.com/users/4714829/supputuri"}, "edited": false, "score": 0, "creation_date": 1567654448, "post_id": 57795659, "comment_id": 102028810, "body": "Do you see the results when you run the script? or a calendar opening up?"}, {"owner": {"reputation": 12118, "user_id": 4714829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd1b66c22707be26afda19fe995e17ea?s=128&d=identicon&r=PG&f=1", "display_name": "supputuri", "link": "https://stackoverflow.com/users/4714829/supputuri"}, "edited": false, "score": 0, "creation_date": 1567654517, "post_id": 57795659, "comment_id": 102028826, "body": "I think you have to select the date from the calendar rather setting the value, as the selected date is not updated for value attribute (check the html before and after running the javascript)"}], "answers": [{"comments": [{"owner": {"reputation": 718, "user_id": 5372079, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kcS3p.jpg?s=128&g=1", "display_name": "Abhishek Dhoundiyal", "link": "https://stackoverflow.com/users/5372079/abhishek-dhoundiyal"}, "reply_to_user": {"reputation": 21, "user_id": 10074104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4062be0b2a9787fe9834e7deace462e8?s=128&d=identicon&r=PG", "display_name": "Bhargav", "link": "https://stackoverflow.com/users/10074104/bhargav"}, "edited": false, "score": 0, "creation_date": 1567764329, "post_id": 57799750, "comment_id": 102070071, "body": "Have you modified your code as mention above?? It should able to solve your problem.."}, {"owner": {"reputation": 718, "user_id": 5372079, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kcS3p.jpg?s=128&g=1", "display_name": "Abhishek Dhoundiyal", "link": "https://stackoverflow.com/users/5372079/abhishek-dhoundiyal"}, "reply_to_user": {"reputation": 21, "user_id": 10074104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4062be0b2a9787fe9834e7deace462e8?s=128&d=identicon&r=PG", "display_name": "Bhargav", "link": "https://stackoverflow.com/users/10074104/bhargav"}, "edited": false, "score": 0, "creation_date": 1568014786, "post_id": 57799750, "comment_id": 102126070, "body": "Thanks bro, if I am able to solve your problem, kindly accept the answer. :)"}], "tags": [], "owner": {"reputation": 718, "user_id": 5372079, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kcS3p.jpg?s=128&g=1", "display_name": "Abhishek Dhoundiyal", "link": "https://stackoverflow.com/users/5372079/abhishek-dhoundiyal"}, "is_accepted": true, "score": 0, "last_activity_date": 1568106323, "last_edit_date": 1568106323, "creation_date": 1567665683, "answer_id": 57799750, "question_id": 57795659, "link": "https://stackoverflow.com/questions/57795659/how-to-handle-second-datepicker-for-return-journey-in-abhibus-by-selenium-webdri/57799750#57799750", "title": "How to handle Second datepicker for return journey in Abhibus by Selenium webdriver?", "body": "<p>Please use the below code. By using <code>document.getElementById('datepicker1').value = \"Your_Date\"</code> to set the caleneder value.</p>\n\n<pre><code>String journeydate=\"04-10-2019\";\nselectJourney(driver,journeydate);\n\nThread.sleep(3000);\nString returndate=\"06-10-2019\";\nselectRJourney(driver,returndate);\n</code></pre>\n\n<p><strong>I have modified your code:</strong> </p>\n\n<pre><code>public static void selectRJourney(WebDriver driver, String returndate) {\n    JavascriptExecutor je=(JavascriptExecutor)driver;\n    je.executeScript(\"document.getElementById('datepicker2').value = '\"+returndate+\"';\");\n\n}\npublic static void selectJourney(WebDriver driver,String journeydate) {\n    JavascriptExecutor je=(JavascriptExecutor)driver;\n    je.executeScript(\"document.getElementById('datepicker1').value = '\"+journeydate+\"';\");\n\n}\n</code></pre>\n\n<p><strong>Suggestions:</strong> </p>\n\n<ul>\n<li><p>Instead of using <code>xpath</code>, you can easly use <code>id</code>.</p></li>\n<li><p><code>JavascriptExecutor</code> is not recommended if you want to perform real<br>\ntesting.</p></li>\n<li><code>selectRJourney</code> and <code>selectJourney</code> are duplicate method and contain same code. try to merge them into one.</li>\n</ul>\n\n<p>********************** <strong><em>EDITED</em></strong> *************************</p>\n\n<pre><code>String journeydate=\"04-10-2019\";\nselectDateFromCalender(driver,\"datepicker1\",journeydate);\n\nThread.sleep(3000);\nString returndate=\"06-10-2019\";\nselectDateFromCalender(driver,\"datepicker2\",returndate);\n</code></pre>\n\n<p><strong>You can create the common method <code>selectDateFromCalender</code> and pass the date picker id as a argument:</strong> </p>\n\n<pre><code>public static void selectDateFromCalender(WebDriver driver, String datePickerId, String returndate) {\n    JavascriptExecutor je=(JavascriptExecutor)driver;\n    je.executeScript(\"document.getElementById('\"+datePickerId+\"').value = '\"+returndate+\"';\");\n\n}\n</code></pre>\n\n<p>***** <strong>HACK AS PER YOUR LEAD REQUIREMENT</strong> ******</p>\n\n<pre><code>driver.findElement(By.id(\"datepicker1\")).click();\nint currentSelectedDate = Integer.parseInt(driver.findElement(By.cssSelector(\".ui-state-highlight\")).getText());\ndriver.findElement(By.cssSelector(\".ui-state-highlight\")).click();\ndriver.findElement(By.id(\"datepicker2\")).click();\nif(currentSelectedDate&gt;=30)\n    driver.findElement(By.xpath(\"//a[@class='ui-state-default'][contains(text(),'1')]\")).click();\nelse\n    driver.findElement(By.xpath(\"//a[@class='ui-state-default'][contains(text(),'\"+(currentSelectedDate+1)+\"')]\")).click();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 10074104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4062be0b2a9787fe9834e7deace462e8?s=128&d=identicon&r=PG", "display_name": "Bhargav", "link": "https://stackoverflow.com/users/10074104/bhargav"}, "edited": false, "score": 0, "creation_date": 1567760098, "post_id": 57808563, "comment_id": 102067948, "body": "can we use selenium and selenide together ??  because i dont have knowledge about selenide"}, {"owner": {"reputation": 701, "user_id": 629479, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/231a9a778aef505324504ace510c8d65?s=128&d=identicon&r=PG", "display_name": "Aruna", "link": "https://stackoverflow.com/users/629479/aruna"}, "reply_to_user": {"reputation": 21, "user_id": 10074104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4062be0b2a9787fe9834e7deace462e8?s=128&d=identicon&r=PG", "display_name": "Bhargav", "link": "https://stackoverflow.com/users/10074104/bhargav"}, "edited": false, "score": 0, "creation_date": 1567850215, "post_id": 57808563, "comment_id": 102094296, "body": "It would not be that useful if you mixed together. But you should be able to."}, {"owner": {"reputation": 21, "user_id": 10074104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4062be0b2a9787fe9834e7deace462e8?s=128&d=identicon&r=PG", "display_name": "Bhargav", "link": "https://stackoverflow.com/users/10074104/bhargav"}, "edited": false, "score": 0, "creation_date": 1568029796, "post_id": 57808563, "comment_id": 102133052, "body": "if you can write the same code in selenium , help me out bro ..team lead asked me to write generic code and without hardcoding dates..but i need the code in selenium only .."}], "tags": [], "owner": {"reputation": 701, "user_id": 629479, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/231a9a778aef505324504ace510c8d65?s=128&d=identicon&r=PG", "display_name": "Aruna", "link": "https://stackoverflow.com/users/629479/aruna"}, "is_accepted": false, "score": 0, "last_activity_date": 1567696789, "creation_date": 1567696789, "answer_id": 57808563, "question_id": 57795659, "link": "https://stackoverflow.com/questions/57795659/how-to-handle-second-datepicker-for-return-journey-in-abhibus-by-selenium-webdri/57808563#57808563", "title": "How to handle Second datepicker for return journey in Abhibus by Selenium webdriver?", "body": "<p>Try this method.\nI used Selenide which manages webdriver automatically.</p>\n\n<p>You can modify date selection to match your needs.</p>\n\n<p><strong>BusSearchTest.java</strong></p>\n\n<pre><code>    package com.abhibus;\n\n    import com.codeborne.selenide.Configuration;\n    import com.codeborne.selenide.SelenideElement;\n    import org.testng.annotations.BeforeMethod;\n    import org.testng.annotations.BeforeTest;\n    import org.testng.annotations.DataProvider;\n    import org.testng.annotations.Test;\n\n    import static com.codeborne.selenide.Condition.appear;\n    import static com.codeborne.selenide.Condition.text;\n    import static com.codeborne.selenide.Selenide.$;\n    import static com.codeborne.selenide.Selenide.open;\n\n\n    public class BusSearchTest {\n\n        @DataProvider\n        public static Object[][] itineraries() {\n            return new String[][]{\n                    {\"Tenal\", \"Tenali\", \"Hyderaba\", \"Hyderabad\", \"Tenali \u2192 Hyderabad\"}\n            };\n        }\n\n        @BeforeTest\n        public void setup() {\n            Configuration.timeout = 10 * 1000;\n        }\n\n        @BeforeMethod\n        public void beforeMethod() {\n            open(\"https://www.abhibus.com/\");\n        }\n\n        @Test(description = \"Search Buses\", dataProvider = \"itineraries\")\n        public void busSearch(String from, String fromExpected, String to, String toExpected, String expected) {\n            //to select leaving from\n            $(\"#source\").setValue(from);\n            $(\"#ui-id-1 li.ui-menu-item\")\n                    .shouldHave(text(fromExpected))\n                    .shouldBe(appear)\n                    .click();\n            //to select destination\n            $(\"#destination\").setValue(to);\n            $(\"#ui-id-2 li.ui-menu-item\")\n                    .shouldHave(text(toExpected))\n                    .shouldBe(appear)\n                    .click();\n\n            // from date: 04-October-2019\n            $(\"#datepicker1\").click();\n            SelenideElement datePicker1 = $(\".ui-datepicker-group-first\");\n            while (!datePicker1.find(\"span.ui-datepicker-month\").text().trim().equals(\"October\")) {\n                $(\".ui-datepicker-group-last\").find(\"span\").shouldHave(text(\"Next\")).click();\n            }\n            datePicker1.findAll(\"tr td a\").filterBy(text(\"4\")).first().click();\n\n            // to date: 06-October-2019\n            $(\"#datepicker2\").click();\n            SelenideElement datePicker2 = $(\".ui-datepicker-group-first\");\n            while (!datePicker2.find(\"span.ui-datepicker-month\").text().trim().equals(\"October\")) {\n                $(\".ui-datepicker-group-last\").find(\"span\").shouldHave(text(\"Next\")).click();\n            }\n            datePicker2.findAll(\"tr td a\").filterBy(text(\"6\")).first().click();\n\n            // click search\n            $(\"a[title='Search Buses']\").click();\n\n            // assert search page\n            $(\"#SubHead1way h1\").shouldHave(text(expected));\n        }\n    }\n</code></pre>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n             xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n             xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n        &lt;groupId&gt;tech.webisto&lt;/groupId&gt;\n        &lt;artifactId&gt;abhibus-tests&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;properties&gt;\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;/properties&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.2&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n                        &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n                        &lt;suiteXmlFiles&gt;\n                            &lt;suiteXmlFile&gt;test.xml&lt;/suiteXmlFile&gt;\n                        &lt;/suiteXmlFiles&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.testng&lt;/groupId&gt;\n                &lt;artifactId&gt;testng&lt;/artifactId&gt;\n                &lt;version&gt;7.0.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\n                &lt;artifactId&gt;selenide&lt;/artifactId&gt;\n                &lt;version&gt;5.2.8&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/project&gt;\n</code></pre>\n\n<p>You may checkout code here:\n<a href=\"https://github.com/WebistoTech/AbhiBusTests.git\" rel=\"nofollow noreferrer\">https://github.com/WebistoTech/AbhiBusTests.git</a></p>\n"}], "owner": {"reputation": 21, "user_id": 10074104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4062be0b2a9787fe9834e7deace462e8?s=128&d=identicon&r=PG", "display_name": "Bhargav", "link": "https://stackoverflow.com/users/10074104/bhargav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "accepted_answer_id": 57799750, "answer_count": 2, "score": 0, "last_activity_date": 1568106323, "creation_date": 1567631320, "last_edit_date": 1567658714, "question_id": 57795659, "link": "https://stackoverflow.com/questions/57795659/how-to-handle-second-datepicker-for-return-journey-in-abhibus-by-selenium-webdri", "title": "How to handle Second datepicker for return journey in Abhibus by Selenium webdriver?", "body": "<p>I am writing code to select journey date and return journey date but return journey not getting selected. driver directly jumping to search button without entering return date.</p>\n\n<pre><code>public class Callender {\n    public static void main(String[] args) throws InterruptedException {\n        System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\Program Files\\\\selenium\\\\chromedriver.exe\");\n        WebDriver driver=new ChromeDriver();\n        driver.manage().window().maximize();\n        driver.get(\"https://www.abhibus.com/\");\n        //to select leaving from\n        WebElement source =driver.findElement(By.xpath(\"//*[@id='source']\"));\n        source.clear();\n        source.sendKeys(\"Tenal\");\n        Thread.sleep(2000);\n        source.sendKeys(Keys.ENTER);\n        //to select destination\n        WebElement destination =driver.findElement(By.xpath(\"//*[@id='destination']\"));\n        destination.clear();\n        destination.sendKeys(\"Hyderaba\");\n        Thread.sleep(2000);\n        destination.sendKeys(Keys.ENTER);\n\n\n        WebElement element = driver.findElement(By.xpath(\"//*[@id=\\\"datepicker1\\\"]\"));\n        String journeydate=\"04-10-2019\";\n        selectJourney(driver,element,journeydate);\n\n        Thread.sleep(3000);\n        WebElement element1 = driver.findElement(By.xpath(\"//*[@id=\\\"datepicker2\\\"]\"));\n        String returndate=\"06-10-2019\";\n        selectRJourney(driver,element1,returndate);\n        //to click search button\n        driver.findElement(By.xpath(\"//*[@id=\\\"roundTrip\\\"]/a\")).click();\n    }\n    public static void selectRJourney(WebDriver driver, WebElement element1, String returndate) {\n        JavascriptExecutor je=(JavascriptExecutor)driver;\n        je.executeScript(\"arguments[0].setAttribute('value','\"+returndate+\"');\", element1);\n        // TODO Auto-generated method stub\n\n    }\n    public static void selectJourney(WebDriver driver,WebElement element,String journeydate) {\n        JavascriptExecutor js= (JavascriptExecutor)driver;\n        js.executeScript(\"arguments[0].setAttribute('value','\"+journeydate+\"');\",element);\n    }\n</code></pre>\n\n<p>Can you please help me to figure out what went wrong or probably what I am doing wrong? </p>\n"}, {"tags": ["javascript", "jquery", "css"], "answers": [{"tags": [], "owner": {"reputation": 2934, "user_id": 2797034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1731e3ce24ec930b1f88970c0ed6e79c?s=128&d=identicon&r=PG", "display_name": "wrxsti", "link": "https://stackoverflow.com/users/2797034/wrxsti"}, "is_accepted": false, "score": 0, "last_activity_date": 1567691002, "last_edit_date": 1567691002, "creation_date": 1567631726, "answer_id": 57795725, "question_id": 57795627, "link": "https://stackoverflow.com/questions/57795627/change-css-value-based-on-active-li-value-in-slider-glider-js/57795725#57795725", "title": "Change css value based on active li value in slider glider js", "body": "<p>According to the <a href=\"https://glidejs.com/docs/events/\" rel=\"nofollow noreferrer\">events section of the glidejs documentation</a> you can listen for the transitions to end like:</p>\n\n<pre><code>glide.on('move.after', function(event) {\n    // store the background in a variable\n    var newBG = $('.glide__slide--active').attr('data-image-value');\n    // apply the background image to the element (html or body...whatever you're using)\n    $('body').css('background-image', 'url(' + newBG + ')');\n});\n</code></pre>\n\n<p>Without seeing a reproducible example, thats about the best I can do for you. More code would be helpful.</p>\n"}, {"tags": [], "owner": {"reputation": 1096, "user_id": 5308388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gh3X8.png?s=128&g=1", "display_name": "Riddell", "link": "https://stackoverflow.com/users/5308388/riddell"}, "is_accepted": false, "score": 0, "last_activity_date": 1567631894, "creation_date": 1567631894, "answer_id": 57795744, "question_id": 57795627, "link": "https://stackoverflow.com/questions/57795627/change-css-value-based-on-active-li-value-in-slider-glider-js/57795744#57795744", "title": "Change css value based on active li value in slider glider js", "body": "<p>You need to use <a href=\"https://glidejs.com/docs/events/\" rel=\"nofollow noreferrer\">GlideJS Event API</a>. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n  var glide = new Glide('.glide')\r\n\r\n  // Listen to the move.after event (Called right after movement transition ends.)\r\n  glide.on('move.after', function() {\r\n    // Get the active slide and store it's data-image \r\n    const imageSrc = $('.glide__slide--active').attr('image');\r\n\r\n    // Set the background\r\n    $('html').css('background-image', 'url(' + imageSrc + ')');\r\n  })\r\n\r\n  glide.mount()\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>html {\r\n  background-image: url(\"https://images.unsplash.com/photo-1496518908709-02b67989c265?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=500&amp;q=60\");\r\n  height: 100%;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"glide\"&gt;\r\n  &lt;div class=\"glide__track\" data-glide-el=\"track\"&gt;\r\n    &lt;ul class=\"glide__slides\"&gt;\r\n      &lt;li class=\"glide__slide\" data-image-value=\"https://bob.com/image/bigimage1.jpg\"&gt;01&lt;/li&gt;\r\n      &lt;li class=\"glide__slide glide__slide--active\" data-image-value=\"https://bob.com/image/bigimage2.jpg\"&gt;02&lt;/li&gt;\r\n      &lt;li class=\"glide__slide\" data-image-value=\"https://bob.com/image/bigimage3.jpg\"&gt;03&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3, "user_id": 11574990, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-29PIJv5rLHY/AAAAAAAAAAI/AAAAAAAAAFY/2DuwJ7xxq6M/photo.jpg?sz=128", "display_name": "Brenig Cory", "link": "https://stackoverflow.com/users/11574990/brenig-cory"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 378, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1567691002, "creation_date": 1567631115, "question_id": 57795627, "link": "https://stackoverflow.com/questions/57795627/change-css-value-based-on-active-li-value-in-slider-glider-js", "title": "Change css value based on active li value in slider glider js", "body": "<p>Wanting to change css html background image based on active glider js li value</p>\n\n<p>here is the css</p>\n\n<pre><code>html { \n  background-image: url(\"https://images.unsplash.com/photo-1496518908709-02b67989c265?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=500&amp;q=60\");\n  height: 100%; \n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n}\n</code></pre>\n\n<p>I am using Glider.js so when the current slide is in frame the a class glide__slide--active is added to the <li> </p>\n\n<pre><code>&lt;div class=\"glide__track\" data-glide-el=\"track\"&gt;\n    &lt;ul class=\"glide__slides\"&gt;\n      &lt;li class=\"glide__slide\" data-image-value=\"https://bob.com/image/bigimage1.jpg\"&gt;01&lt;/li&gt;\n      &lt;li class=\"glide__slide glide__slide--active\" data-image-value=\"https://bob.com/image/bigimage2.jpg\" &gt;02&lt;/li&gt;\n      &lt;li class=\"glide__slide\" data-image-value=\"https://bob.com/image/bigimage3.jpg\"&gt;03&lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt; \n</code></pre>\n\n<p>so change the url of the background image using jquery with value of data-image-value</p>\n"}, {"tags": ["javascript", "arrays", "date", "date-format"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1567631248, "post_id": 57795619, "comment_id": 102024410, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3552461/how-to-format-a-javascript-date\">How to format a JavaScript date</a>"}, {"owner": {"reputation": 427, "user_id": 7790515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c3ed6816d78aeabe78b5ca2bf78a8d1?s=128&d=identicon&r=PG&f=1", "display_name": "cullanrocks", "link": "https://stackoverflow.com/users/7790515/cullanrocks"}, "edited": false, "score": 0, "creation_date": 1567631299, "post_id": 57795619, "comment_id": 102024432, "body": "You should use moment.js. The docs are extensive but it can do exactly what you want."}, {"owner": {"reputation": 42285, "user_id": 2057919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec600dcd84770c5d835cd4c943514088?s=128&d=identicon&r=PG&f=1", "display_name": "elixenide", "link": "https://stackoverflow.com/users/2057919/elixenide"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1567631408, "post_id": 57795619, "comment_id": 102024473, "body": "@Igor That&#39;s not really a duplicate; the top answers focus on how to achieve an entirely different format than what OP is trying to get."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1567631651, "post_id": 57795619, "comment_id": 102024563, "body": "Did you read the documentation for Dates?"}, {"owner": {"reputation": 351, "user_id": 8401792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6f9f0917d328a814ffd72da725ab43e?s=128&d=identicon&r=PG&f=1", "display_name": "Raza Zaidi", "link": "https://stackoverflow.com/users/8401792/raza-zaidi"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1567632165, "post_id": 57795619, "comment_id": 102024702, "body": "@igor  I already applied that solution but it doesn&#39;t work for me so I had to ask my question separately."}], "answers": [{"comments": [{"owner": {"reputation": 351, "user_id": 8401792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6f9f0917d328a814ffd72da725ab43e?s=128&d=identicon&r=PG&f=1", "display_name": "Raza Zaidi", "link": "https://stackoverflow.com/users/8401792/raza-zaidi"}, "edited": false, "score": 0, "creation_date": 1567631719, "post_id": 57795658, "comment_id": 102024576, "body": "it gives me following error: TypeError: dateArr.toISOString is not a function"}, {"owner": {"reputation": 42285, "user_id": 2057919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec600dcd84770c5d835cd4c943514088?s=128&d=identicon&r=PG&f=1", "display_name": "elixenide", "link": "https://stackoverflow.com/users/2057919/elixenide"}, "reply_to_user": {"reputation": 351, "user_id": 8401792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6f9f0917d328a814ffd72da725ab43e?s=128&d=identicon&r=PG&f=1", "display_name": "Raza Zaidi", "link": "https://stackoverflow.com/users/8401792/raza-zaidi"}, "edited": false, "score": 0, "creation_date": 1567632266, "post_id": 57795658, "comment_id": 102024733, "body": "<code>dateArr</code> is an array. <code>.toISOString</code> is a method of the <code>Date</code> object, not of an array. You would need to call it on a particular date, not the array of dates."}], "tags": [], "owner": {"reputation": 42285, "user_id": 2057919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec600dcd84770c5d835cd4c943514088?s=128&d=identicon&r=PG&f=1", "display_name": "elixenide", "link": "https://stackoverflow.com/users/2057919/elixenide"}, "is_accepted": false, "score": 0, "last_activity_date": 1567632185, "last_edit_date": 1567632185, "creation_date": 1567631318, "answer_id": 57795658, "question_id": 57795619, "link": "https://stackoverflow.com/questions/57795619/javascript-how-to-get-simple-date-without-timezone/57795658#57795658", "title": "JavaScript: How to get simple date without timezone", "body": "<p>Use <code>.toISOString()</code> and <code>.substr()</code>. Example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var dt = new Date(\"2019-09-25\");\r\nconsole.log(dt.toISOString().substr(0,10)); // 2019-09-25</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The advantage of this approach is that the <code>Date</code> object has the <code>.toISOString()</code> method built-in, so you don't have to reinvent the wheel. That method returns a full ISO string, though, like \"2019-09-25T00:00:00.000Z\". So, you can use <code>.substr</code> to retrieve only the part you want to use.</p>\n"}, {"tags": [], "owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "is_accepted": true, "score": 1, "last_activity_date": 1567632503, "last_edit_date": 1567632503, "creation_date": 1567631388, "answer_id": 57795675, "question_id": 57795619, "link": "https://stackoverflow.com/questions/57795619/javascript-how-to-get-simple-date-without-timezone/57795675#57795675", "title": "JavaScript: How to get simple date without timezone", "body": "<p>One solution would be to map each item of <code>arra1</code> through a custom formating function (ie <code>formatDate()</code>) where <code>.getDate()</code>, <code>.getMonth()</code> and <code>.getYear()</code> are used to populate the formatted string:</p>\n\n<pre><code>function formatDate(date) {\n  const year = date.getFullYear();\n  /* getMonth returns dates from 0, so add one */\n  const month = date.getMonth() + 1;\n  const day = date.getDate();\n\n  return `${year}-${month &lt; 10 ? '0' : ''}${ month }-${ day &lt; 10 ? '0' : '' }${day}`\n}\n</code></pre>\n\n<p>Some points to consider here are:</p>\n\n<ul>\n<li><code>Date#getMonth()</code> <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/getMonth#Return_value\" rel=\"nofollow noreferrer\">returns 0-indexed dates</a> in the range of 0-11. To match the desired date format, you should add <code>1</code> as shown</li>\n<li>Check for day and month values that are less than <code>10</code> and prefix a <code>0</code> to pad those numbers to obtain the desired formatting</li>\n</ul>\n\n<p>This can be added to your existing code as shown:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var startDate = new Date(\"2019-08-26\"); //YYYY-MM-DD\r\nvar endDate = new Date(\"2019-09-25\"); //YYYY-MM-DD\r\n\r\nfunction formatDate(date) {\r\n  const year = date.getFullYear();\r\n  /* getMonth returns dates from 0, so add one */\r\n  const month = date.getMonth() + 1;\r\n  const day = date.getDate();\r\n  \r\n  return `${year}-${month &lt; 10 ? '0' : ''}${ month }-${ day &lt; 10 ? '0' : '' }${day}`\r\n}\r\n\r\n\r\nvar getDateArray = function(start, end) {\r\n  var arr = new Array();\r\n  var dt = new Date(start);\r\n  while (dt &lt;= end) {\r\n    arr.push(new Date(dt));\r\n    dt.setDate(dt.getDate() + 1);\r\n  }\r\n  return arr;\r\n}\r\n\r\nvar dateArr = getDateArray(startDate, endDate);\r\n\r\n\r\nfunction shuffle(arra1) {\r\n  var ctr = arra1.length,\r\n    temp, index;\r\n\r\n  // While there are elements in the array\r\n  while (ctr &gt; 0) {\r\n    // Pick a random index\r\n    index = Math.floor(Math.random() * ctr);\r\n    // Decrease ctr by 1\r\n    ctr--;\r\n    // And swap the last element with it\r\n    temp = arra1[ctr];\r\n    arra1[ctr] = arra1[index];\r\n    arra1[index] = temp;\r\n  }\r\n\r\n  /* Update this line */\r\n  return arra1.map(formatDate);\r\n}\r\n\r\nconsole.log(shuffle(dateArr));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4880789, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-phgYmXbi03U/AAAAAAAAAAI/AAAAAAAAByY/wbMFncEPQfM/photo.jpg?sz=128", "display_name": "Diego Otero", "link": "https://stackoverflow.com/users/4880789/diego-otero"}, "is_accepted": false, "score": 0, "last_activity_date": 1567691202, "last_edit_date": 1567691202, "creation_date": 1567632259, "answer_id": 57795801, "question_id": 57795619, "link": "https://stackoverflow.com/questions/57795619/javascript-how-to-get-simple-date-without-timezone/57795801#57795801", "title": "JavaScript: How to get simple date without timezone", "body": "<pre><code>var getDates = function(startDate, endDate) {\n    var dates = [],\n        currentDate = startDate,\n        addDays = function(days) {\n            var date = new Date(this.valueOf());\n            date.setDate(date.getDate() + days);\n\n            return date;\n    };\n\n    while (currentDate &lt;= endDate) {\n        dates.push(currentDate);\n        currentDate = addDays.call(currentDate, 1);\n   }\n\n        return dates;\n    };\n\n// Usage \nvar dates = getDates(new Date(2019, 10, 22),\n    new Date(2019, 11, 25));\ndates.forEach(function(date) {\n    console.log(date);\n});\n</code></pre>\n"}], "owner": {"reputation": 351, "user_id": 8401792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6f9f0917d328a814ffd72da725ab43e?s=128&d=identicon&r=PG&f=1", "display_name": "Raza Zaidi", "link": "https://stackoverflow.com/users/8401792/raza-zaidi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 57795675, "answer_count": 3, "score": 1, "last_activity_date": 1567691202, "creation_date": 1567631051, "last_edit_date": 1567634218, "question_id": 57795619, "link": "https://stackoverflow.com/questions/57795619/javascript-how-to-get-simple-date-without-timezone", "title": "JavaScript: How to get simple date without timezone", "body": "<p>I have code that generates random dates in a date range, which gives me dates which, when logged, produce this format:</p>\n\n<blockquote>\n  <p>Wed Sep 25 2019 05:00:00 GMT+0500 (Pakistan Standard Time)</p>\n</blockquote>\n\n<p>I just want to get the date without timezone and Day specifically like this:</p>\n\n<blockquote>\n  <p>2019-09-25</p>\n</blockquote>\n\n<p>I am trying to get random dates between specified dates using the following code:</p>\n\n<pre><code>    var startDate = new Date(\"2019-08-26\"); //YYYY-MM-DD\n    var endDate = new Date(\"2019-09-25\"); //YYYY-MM-DD\n\n    var getDateArray = function(start, end) {\n        var arr = new Array();\n        var dt = new Date(start);\n        while (dt &lt;= end) {\n            arr.push(new Date(dt));\n            dt.setDate(dt.getDate() + 1);\n        }\n        return arr;\n    }\n\n    var dateArr = getDateArray(startDate, endDate);\n\n\n    function shuffle(arra1) {\n        var ctr = arra1.length, temp, index;\n\n    // While there are elements in the array\n        while (ctr &gt; 0) {\n           // Pick a random index\n            index = Math.floor(Math.random() * ctr);\n            // Decrease ctr by 1\n            ctr--;\n            // And swap the last element with it\n            temp = arra1[ctr];\n            arra1[ctr] = arra1[index];\n            arra1[index] = temp;\n        }\n        return arra1; }\n\n    console.log(shuffle(dateArr));\n</code></pre>\n\n<hr>\n\n<p>It's not a duplicate question as I was trying to achieve different and very specific formate. </p>\n"}, {"tags": ["javascript", "node.js", "firebase", "google-cloud-firestore", "google-cloud-functions"], "answers": [{"tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": false, "score": 2, "last_activity_date": 1567631363, "creation_date": 1567631363, "answer_id": 57795668, "question_id": 57795609, "link": "https://stackoverflow.com/questions/57795609/google-cloud-firestore-only-query-documents-where-timestamp-is-older-than-x/57795668#57795668", "title": "Google Cloud Firestore only query documents where timestamp is older than x", "body": "<p>You can filter the query with a comparison using a date object:</p>\n\n<pre><code>const date = new Date(Date.now() - x * 24 * 60 * 60 * 1000)  // x days ago\ncollectionRef.where('createdAt', '&lt;', date)\n</code></pre>\n"}], "owner": {"reputation": 358, "user_id": 10057504, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-m1X2YQTV9hE/AAAAAAAAAAI/AAAAAAAAbv4/vRyHE-2DVqE/photo.jpg?sz=128", "display_name": "Leonard Niehaus", "link": "https://stackoverflow.com/users/10057504/leonard-niehaus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567631391, "creation_date": 1567630989, "last_edit_date": 1567631391, "question_id": 57795609, "link": "https://stackoverflow.com/questions/57795609/google-cloud-firestore-only-query-documents-where-timestamp-is-older-than-x", "title": "Google Cloud Firestore only query documents where timestamp is older than x", "body": "<p>I'm looking for the correct syntax to get a documentSnapshot of the documents where a timestamp field (<code>FieldValue.serverTimestamp()</code>) is x days old.</p>\n\n<p>As example: In my collection each document has the timestamp field \"<code>createdAt</code>\". I have a daily scheduled cloud function which gets and logs all documents where \"<code>createdAt\"</code> is older than 5 days.</p>\n\n<p>Which syntax am I aiming for?</p>\n"}, {"tags": ["javascript", "jspdf", "jspdf-autotable"], "owner": {"reputation": 16359, "user_id": 840992, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e2aa4cd8ca03c4b2f71c6443f6e437b1?s=128&d=identicon&r=PG", "display_name": "spring", "link": "https://stackoverflow.com/users/840992/spring"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1567734588, "creation_date": 1567630942, "last_edit_date": 1567734588, "question_id": 57795604, "link": "https://stackoverflow.com/questions/57795604/can-multiple-font-styles-be-used-in-a-jspdf-autotable-cell", "title": "Can multiple font styles be used in a jsPDF-Autotable cell?", "body": "<p>First time I have used the <code>jsPDF-Autotable</code> lib and I am stuck on how to style multi-line cells with javascript-generated content. For example, in the clip image below, I would like the first line to be bold. </p>\n\n<p>I've tried including <code>html</code> style tags: <code>&lt;b&gt;Head&lt;/b&gt;</code> but that didn't work. I've also tried drawing cell content manually using <code>willDrawCell</code> and <code>didDrawCell</code> but this sacrifices the built-in linewrapping feature and leads to lots of other issues (unless I am missing something).</p>\n\n<p>Is there some method or feature which will enable multiple font styles in a cell \u2013 a way to embed multiple cells within a cell perhaps?</p>\n\n<p><strong>Update</strong> <em>I haven't solved this yet but this <a href=\"https://stackoverflow.com/a/39388268/840992\">Q/A</a> suggests a possibility with nested tables. Tested and it works but lot of effort to tweak it into shape; I don't know yet if it is going to work for me but I maybe it will help someone else who ends up down this particular rabbit hole</em></p>\n\n<p><a href=\"https://i.stack.imgur.com/5qYZR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5qYZR.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "vue.js"], "comments": [{"owner": {"reputation": 2933, "user_id": 11204469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b1be34bb82f28e14b12665d4b5df53?s=128&d=identicon&r=PG&f=1", "display_name": "Estradiaz", "link": "https://stackoverflow.com/users/11204469/estradiaz"}, "edited": false, "score": 0, "creation_date": 1567632267, "post_id": 57795584, "comment_id": 102024734, "body": "your idea is correct - use one dialog and update references on open"}, {"owner": {"reputation": 12173, "user_id": 458060, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0f746b15bd9823711c8e570bfabe1033?s=128&d=identicon&r=PG", "display_name": "George Katsanos", "link": "https://stackoverflow.com/users/458060/george-katsanos"}, "reply_to_user": {"reputation": 2933, "user_id": 11204469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b1be34bb82f28e14b12665d4b5df53?s=128&d=identicon&r=PG&f=1", "display_name": "Estradiaz", "link": "https://stackoverflow.com/users/11204469/estradiaz"}, "edited": false, "score": 0, "creation_date": 1567633569, "post_id": 57795584, "comment_id": 102025128, "body": "The problem with this idea ( <a href=\"https://codepen.io/gkatsanos-the-bold/pen/VwZzLpa\" rel=\"nofollow noreferrer\">codepen.io/gkatsanos-the-bold/pen/VwZzLpa</a>) is passing the loop items to the component as there are now siblings. It gets ugly."}, {"owner": {"reputation": 2933, "user_id": 11204469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b1be34bb82f28e14b12665d4b5df53?s=128&d=identicon&r=PG&f=1", "display_name": "Estradiaz", "link": "https://stackoverflow.com/users/11204469/estradiaz"}, "edited": false, "score": 0, "creation_date": 1567634704, "post_id": 57795584, "comment_id": 102025373, "body": "not sure what you mean - v-dialog is direct child of v-app independend of were you put it in template - so reusing is just reducing the nodescount"}, {"owner": {"reputation": 12173, "user_id": 458060, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0f746b15bd9823711c8e570bfabe1033?s=128&d=identicon&r=PG", "display_name": "George Katsanos", "link": "https://stackoverflow.com/users/458060/george-katsanos"}, "reply_to_user": {"reputation": 2933, "user_id": 11204469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b1be34bb82f28e14b12665d4b5df53?s=128&d=identicon&r=PG&f=1", "display_name": "Estradiaz", "link": "https://stackoverflow.com/users/11204469/estradiaz"}, "edited": false, "score": 0, "creation_date": 1567666238, "post_id": 57795584, "comment_id": 102032035, "body": "I mean I need to pass information / variables from the parent component to the v-dialog component, information that is inside the array of objects being lopped. Each item of the array needs to have its own dialog. How do you do this with one instance of the dialog? How do you pass variables in a sibling?"}, {"owner": {"reputation": 2933, "user_id": 11204469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b1be34bb82f28e14b12665d4b5df53?s=128&d=identicon&r=PG&f=1", "display_name": "Estradiaz", "link": "https://stackoverflow.com/users/11204469/estradiaz"}, "edited": false, "score": 0, "creation_date": 1567666929, "post_id": 57795584, "comment_id": 102032333, "body": "There is a possibility to add the dialog as a plugin like vuex - then you would do something like <code>vm.$dialogs.dialogName(data, options)</code> and <code>vm.$dialogs.close()</code>. would this be suitable?"}, {"owner": {"reputation": 12173, "user_id": 458060, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0f746b15bd9823711c8e570bfabe1033?s=128&d=identicon&r=PG", "display_name": "George Katsanos", "link": "https://stackoverflow.com/users/458060/george-katsanos"}, "reply_to_user": {"reputation": 2933, "user_id": 11204469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b1be34bb82f28e14b12665d4b5df53?s=128&d=identicon&r=PG&f=1", "display_name": "Estradiaz", "link": "https://stackoverflow.com/users/11204469/estradiaz"}, "edited": false, "score": 0, "creation_date": 1567670300, "post_id": 57795584, "comment_id": 102033883, "body": "so kind of accessing it globally? Would I be able to do the same but using $refs instead? I looked for a $refs solution but couldn&#39;t find one. If you can post an answer I&#39;d be happy to have a look!!"}], "owner": {"reputation": 12173, "user_id": 458060, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0f746b15bd9823711c8e570bfabe1033?s=128&d=identicon&r=PG", "display_name": "George Katsanos", "link": "https://stackoverflow.com/users/458060/george-katsanos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1567632136, "creation_date": 1567630824, "question_id": 57795584, "link": "https://stackoverflow.com/questions/57795584/controlling-visibility-of-multiple-sibling-identical-components-from-the-same-pa", "title": "Controlling visibility of multiple sibling identical components from the same parent while keeping isolated scope", "body": "<p>Using Vue and <a href=\"https://vuetifyjs.com/en/components/data-tables\" rel=\"nofollow noreferrer\">Vuetify Data Tables</a> I built a table in which each row presents an item of an array of objects. \nEach row had a button which triggered a dialog which presented a form in which you could edit each row's data. </p>\n\n<p>Here's the problem with instructions: <a href=\"https://codepen.io/gkatsanos-the-bold/pen/VwZzKeq\" rel=\"nofollow noreferrer\">https://codepen.io/gkatsanos-the-bold/pen/VwZzKeq</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>new Vue({\r\n  el: \"#app\",\r\n  vuetify: new Vuetify(),\r\n  data: () =&gt; ({\r\n    gateways: [],\r\n    dialog: false,\r\n    form: {\r\n      title: \"\"\r\n    }\r\n  }),\r\n  mounted() {\r\n    this.getGateways().then(data =&gt; {\r\n      this.gateways = data;\r\n    });\r\n  },\r\n  methods: {\r\n    async getGateways() {\r\n      const response = await fetch(\r\n        \"https://jsonplaceholder.typicode.com/posts\"\r\n      );\r\n      const data = response.json();\r\n      return data;\r\n    },\r\n    openDialog(item) {\r\n      setTimeout(() =&gt; {\r\n        this.dialog = true;\r\n        this.form.title = this.item.title\r\n      });\r\n    }\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css\" rel=\"stylesheet\" /&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"app\"&gt;\r\n  &lt;v-app&gt;\r\n    &lt;v-content&gt;\r\n      &lt;v-container&gt;\r\n        &lt;v-data-table :items=\"gateways\"&gt;\r\n          &lt;template #item=\"{ item }\"&gt;\r\n      &lt;tr&gt;\r\n        &lt;td&gt;{{ item.id }}&lt;/td&gt;\r\n        &lt;td&gt;{{ item.title }}&lt;/td&gt;\r\n        &lt;td&gt;\r\n          &lt;v-menu&gt;\r\n            &lt;template #activator=\"{ on }\"&gt;\r\n                &lt;v-btn small class=\"meter-point-options-menu action-column-item\" v-on=\"on\"&gt;\r\n                    open menu\r\n                &lt;/v-btn&gt;\r\n              &lt;/template&gt;\r\n          &lt;v-list&gt;\r\n            &lt;v-list-item&gt;\r\n              &lt;v-btn color=\"red lighten-2\" dark @click=\"openDialog()\"&gt;\r\n                Click Me\r\n              &lt;/v-btn&gt;\r\n              &lt;v-dialog v-model=\"dialog\" width=\"500\"&gt;\r\n                &lt;v-card&gt;\r\n                  &lt;v-card-title&gt;\r\n                    ID: {{ item.id }}\r\n                  &lt;/v-card-title&gt;\r\n                  &lt;v-card-title&gt;\r\n                    TEXT: {{ item.title }}\r\n                  &lt;/v-card-title&gt;\r\n                  &lt;v-card-text&gt;\r\n                    &lt;br&gt; Issues:\r\n                    &lt;ol&gt;\r\n                      &lt;li&gt;Every time you close and open a Dialog / Popup, all of the previous ones open together because they're still in the DOM.&lt;/li&gt;\r\n                      &lt;li&gt;Notice that after navigating the pages, some of the ID and texts shown in the modal dialogs are different from the item opened!&lt;/li&gt;\r\n\r\n                      &lt;v-form ref=form&gt;\r\n                      &lt;/v-form&gt;\r\n                  &lt;/v-card-text&gt;\r\n                  &lt;v-card-actions&gt;\r\n                    &lt;div class=\"flex-grow-1\"&gt;&lt;/div&gt;\r\n                    &lt;v-btn color=\"primary\" text @click=\"dialog = false\"&gt;\r\n                      close this\r\n                    &lt;/v-btn&gt;\r\n                  &lt;/v-card-actions&gt;\r\n                &lt;/v-card&gt;\r\n              &lt;/v-dialog&gt;\r\n            &lt;/v-list-item&gt;\r\n          &lt;/v-list&gt;\r\n          &lt;/v-menu&gt;\r\n          &lt;/td&gt;\r\n          &lt;/tr&gt;\r\n          &lt;/template&gt;\r\n        &lt;/v-data-table&gt;\r\n      &lt;/v-container&gt;\r\n    &lt;/v-content&gt;\r\n  &lt;/v-app&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>As you see opening one dialog opens all the previous ones. \nHow should I tackle the issue of controlling the visibility of the v-dialogs in a unique fashion? I am thinking of moving them outside of the loop and having only one v-dialog and not one for every row of the table.</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 962, "user_id": 5473669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/36798d3580a2113bd6babeeb2f0c666b?s=128&d=identicon&r=PG&f=1", "display_name": "MaxG", "link": "https://stackoverflow.com/users/5473669/maxg"}, "edited": false, "score": 1, "creation_date": 1567631242, "post_id": 57795552, "comment_id": 102024405, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2398099/jquery-equivalent-of-javascripts-addeventlistener-method\">jQuery equivalent of JavaScript&#39;s addEventListener method</a>"}, {"owner": {"reputation": 6856, "user_id": 828864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0031af6f469d31621363e4fdf14601f?s=128&d=identicon&r=PG", "display_name": "skyline3000", "link": "https://stackoverflow.com/users/828864/skyline3000"}, "edited": false, "score": 0, "creation_date": 1567631739, "post_id": 57795552, "comment_id": 102024584, "body": "Your second example is a jQuery object, not a native DOM element object. <code>addEventListener()</code> is not a method of jQuery objects."}], "answers": [{"tags": [], "owner": {"reputation": 16510, "user_id": 212878, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/nMS5a.jpg?s=128&g=1", "display_name": "Samuli Hakoniemi", "link": "https://stackoverflow.com/users/212878/samuli-hakoniemi"}, "is_accepted": false, "score": 0, "last_activity_date": 1567632542, "creation_date": 1567632542, "answer_id": 57795842, "question_id": 57795552, "link": "https://stackoverflow.com/questions/57795552/typeerror-elem-addeventlistener-is-not-a-function/57795842#57795842", "title": "TypeError: elem.addEventListener is not a function", "body": "<p>The reason why it's not working is because <code>$('.wmd-button-bar').first();</code> (which equals to <code>$('.wmd-button-bar').eq(0)</code>) returns the first <em>jQuery wrapped</em> instance.</p>\n\n<p>Therefore you should use jQuery's own API for adding the listener.</p>\n\n<p>However, if you want to receive a first DOM element from collection, you should use </p>\n\n<p><code>$('.wmd-button-bar').get(0);</code></p>\n\n<p>This will return first element from the jQuery wrapped collection as a DOM element.</p>\n"}], "owner": {"reputation": 3288, "user_id": 3128796, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a938da1334bd8a4de72edfe2740ac6e0?s=128&d=identicon&r=PG", "display_name": "asdfkjasdfjk", "link": "https://stackoverflow.com/users/3128796/asdfkjasdfjk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567632542, "creation_date": 1567630644, "question_id": 57795552, "link": "https://stackoverflow.com/questions/57795552/typeerror-elem-addeventlistener-is-not-a-function", "title": "TypeError: elem.addEventListener is not a function", "body": "<p>At some place I have a code <code>elem.addEventListener(event, listener, false);</code></p>\n\n<p>The above code works for</p>\n\n<pre><code>this.buttonBar = doc.getElementsByClassName(\"wmd-button-bar\" + postfix)[0]\n</code></pre>\n\n<p>But when I change to</p>\n\n<pre><code>this.buttonBar = $('.wmd-button-bar').first();\n</code></pre>\n\n<p>It does not work. In whole html code I have only one <code>wmd-button-bar</code> class.</p>\n"}, {"tags": ["javascript", "google-chrome", "google-chrome-extension"], "comments": [{"owner": {"reputation": 1152, "user_id": 7316502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-Lfx3LHRINPk/AAAAAAAAAAI/AAAAAAAAJOk/h36pbP54ZPU/photo.jpg?sz=128", "display_name": "thmsdnnr", "link": "https://stackoverflow.com/users/7316502/thmsdnnr"}, "edited": false, "score": 0, "creation_date": 1567632391, "post_id": 57795549, "comment_id": 102024762, "body": "When you get the SyntaxError, what is the value of <code>myJson</code>, if you <code>console.log(myJson)</code> before trying to <code>JSON.stringify</code> it?"}, {"owner": {"reputation": 13, "user_id": 12019669, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MR4JFot6kBA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcnFsPqSHtxJ4TXBxv33s1M7akkvQ/photo.jpg?sz=128", "display_name": "Zern Grayhame", "link": "https://stackoverflow.com/users/12019669/zern-grayhame"}, "reply_to_user": {"reputation": 1152, "user_id": 7316502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-Lfx3LHRINPk/AAAAAAAAAAI/AAAAAAAAJOk/h36pbP54ZPU/photo.jpg?sz=128", "display_name": "thmsdnnr", "link": "https://stackoverflow.com/users/7316502/thmsdnnr"}, "edited": false, "score": 0, "creation_date": 1567633437, "post_id": 57795549, "comment_id": 102025098, "body": "The error occurs at return response.json();. If I console.log before that it returns a response object with a status code of 200."}, {"owner": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 0, "creation_date": 1567663762, "post_id": 57795549, "comment_id": 102031103, "body": "The very first thing to do is to verify the actual response instead of guessing. Open devtools, the network panel, and inspect the body of the response. Also note, content scripts can&#39;t fetch cross-origin URLs in modern Chrome, you need a background script, see the <a href=\"https://www.chromium.org/Home/chromium-security/extension-content-script-fetches\" rel=\"nofollow noreferrer\">CORB explainer</a>."}], "owner": {"reputation": 13, "user_id": 12019669, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MR4JFot6kBA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcnFsPqSHtxJ4TXBxv33s1M7akkvQ/photo.jpg?sz=128", "display_name": "Zern Grayhame", "link": "https://stackoverflow.com/users/12019669/zern-grayhame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1567631798, "creation_date": 1567630635, "last_edit_date": 1567631798, "question_id": 57795549, "link": "https://stackoverflow.com/questions/57795549/issue-with-getting-data-from-api-in-chrome-extension", "title": "Issue with getting data from api in chrome extension", "body": "<p>I am trying to get data from the Google custom search json api for use for my extension. However, whenever I try to send the fetch request below it throws an error that I do not know how to fix. </p>\n\n<blockquote>\n  <p>SyntaxError: Unexpected end of JSON input</p>\n</blockquote>\n\n<p>I have tried to do the same request in my browser and it seems to work fine.</p>\n\n<p>I tried to use an XMLHttp request instead which also did not work. I also tried to use the fetch api to get data from other api's which worked. I also tried to alter permissions and added <a href=\"https://www.googleapis.com/customsearch/v1\" rel=\"nofollow noreferrer\">https://www.googleapis.com/customsearch/v1</a> to the permissions in the manifest.json.</p>\n\n<pre><code>   fetch('https://www.googleapis.com/customsearch/v1?q=skeet&amp;cx=mysearchid&amp;key=my_api_key')\n    .then(function(response) {\n      return response.json();\n    })\n    .then(function(myJson) {\n      console.log(JSON.stringify(myJson));\n    });\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 753, "user_id": 648252, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ueJWh.jpg?s=128&g=1", "display_name": "elke_wtf", "link": "https://stackoverflow.com/users/648252/elke-wtf"}, "edited": false, "score": 0, "creation_date": 1567630746, "post_id": 57795484, "comment_id": 102024245, "body": "Is there a reason you can&#39;t use traditional links vs javascript navigation?"}], "answers": [{"tags": [], "owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "is_accepted": true, "score": 1, "last_activity_date": 1567631071, "creation_date": 1567631071, "answer_id": 57795622, "question_id": 57795484, "link": "https://stackoverflow.com/questions/57795484/javascript-pages-within-a-page/57795622#57795622", "title": "Javascript pages within a page", "body": "<p>The most basic implementation would likely be to store a global variable that keeps track of which page number is currently visible.</p>\n\n<p>Using that number you could fetch the Ids dynamically, e.g. <code>`page${currentPageNumber}`</code> would result in something like <code>page2</code>.</p>\n\n<p>Similarly, you could get the <em>next</em> page by doing <code>`page${currentPageNumber+1}`</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let currentPageNumber = 1;\r\nfunction nextPage() {\r\n  document.getElementById(`page${currentPageNumber}`).classList.add(\"hidden\");        //Hide the current page\r\n  document.getElementById(`page${currentPageNumber+1}`).classList.remove(\"hidden\");   //Show the next page\r\n  currentPageNumber++;                                                                //Increase currentPage accordingly\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.hidden {\r\n  display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"page1\"&gt;Page 1 &lt;button onclick=\"nextPage()\"&gt;Next&lt;/button&gt;&lt;/div&gt;\r\n&lt;div id=\"page2\" class=\"hidden\"&gt;Page 2 &lt;button onclick=\"nextPage()\"&gt;Next&lt;/button&gt;&lt;/div&gt;\r\n&lt;div id=\"page3\" class=\"hidden\"&gt;Page 3 &lt;button onclick=\"nextPage()\"&gt;Next&lt;/button&gt;&lt;/div&gt;\r\n&lt;div id=\"page4\" class=\"hidden\"&gt;Page 4&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 68, "user_id": 7861554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/431eb4ffa60760e28331e004eed0af5b?s=128&d=identicon&r=PG&f=1", "display_name": "jgh", "link": "https://stackoverflow.com/users/7861554/jgh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 57795622, "answer_count": 1, "score": 0, "last_activity_date": 1567631071, "creation_date": 1567630287, "question_id": 57795484, "link": "https://stackoverflow.com/questions/57795484/javascript-pages-within-a-page", "title": "Javascript pages within a page", "body": "<p>I'm trying to make a 'Next/Previous' system within a page - where it shows one specific item, or 'page', at a time. I can't seem to find a practical solution online. It's currently working, but the code is unprofessional and needlessly long/complicated especially when I want it to have up to 5 pages. </p>\n\n<p>I'm not an experienced JS programmer so please go easy on me!</p>\n\n<p>HTML - </p>\n\n<pre><code>&lt;div id=\"page1\"&gt;Page 1 &lt;button onclick=\"secondPage()\"&gt;Next&lt;/button&gt;&lt;/div&gt;\n&lt;div id=\"page2\"&gt;Page 2 &lt;button onclick=\"thirdPage()\"&gt;Next&lt;/button&gt;&lt;/div&gt;\n&lt;div id=\"page3\"&gt;Page 3 &lt;button onclick=\"fourthPage()\"&gt;Next&lt;/button&gt;&lt;/div&gt;\n&lt;div id=\"page4\"&gt;Page 4&lt;/div&gt;\n</code></pre>\n\n<p>CSS - </p>\n\n<pre><code>.hidden {\ndisplay:none;\n}\n</code></pre>\n\n<p>JS -</p>\n\n<pre><code>        function secondPage() {\n            document.getElementById(\"page1\").classList.add('hidden');\n            document.getElementById(\"page2\").classList.remove('hidden');\n            document.getElementById(\"page3\").classList.add('hidden');\n            document.getElementById(\"page4\").classList.add('hidden');\n        }\n        function thirdPage() {\n            document.getElementById(\"page1\").classList.add('hidden');\n            document.getElementById(\"page2\").classList.add('hidden');\n            document.getElementById(\"page3\").classList.remove('hidden');\n            document.getElementById(\"page4\").classList.add('hidden');\n        }\n        function fourthPage() {\n            document.getElementById(\"page1\").classList.add('hidden');\n            document.getElementById(\"page2\").classList.add('hidden');\n            document.getElementById(\"page3\").classList.add('hidden');\n            document.getElementById(\"page4\").classList.remove('hidden');\n        }\n</code></pre>\n\n<p>If anyone is able to help me simplify this bit of code with a cleaner and better script that would be much appreciated. Thanks</p>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript", "firebase"], "comments": [{"owner": {"reputation": 475, "user_id": 11714668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/059c16fa2447ef8d1b968658d866c70c?s=128&d=identicon&r=PG&f=1", "display_name": "Jbluehdorn", "link": "https://stackoverflow.com/users/11714668/jbluehdorn"}, "edited": false, "score": 0, "creation_date": 1567630386, "post_id": 57795459, "comment_id": 102024126, "body": "If you&#39;re copying the array already, why not just use <code>const temp = this.userData.operationList.map(...)</code> for your map?"}, {"owner": {"reputation": 106594, "user_id": 575527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a1120319639f8c7ea84d66d4334bdfa9?s=128&d=identicon&r=PG", "display_name": "Joseph", "link": "https://stackoverflow.com/users/575527/joseph"}, "edited": false, "score": 0, "creation_date": 1567630637, "post_id": 57795459, "comment_id": 102024203, "body": "Not a direct duplicate, but has the same idea. <a href=\"https://stackoverflow.com/q/52085758/575527\">stackoverflow.com/q/52085758/575527</a> . <code>Object.assign()</code> only does a &quot;shallow clone&quot;."}, {"owner": {"reputation": 13, "user_id": 9600231, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215028454561489/picture?type=large", "display_name": "Leandro Cardenas", "link": "https://stackoverflow.com/users/9600231/leandro-cardenas"}, "reply_to_user": {"reputation": 475, "user_id": 11714668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/059c16fa2447ef8d1b968658d866c70c?s=128&d=identicon&r=PG&f=1", "display_name": "Jbluehdorn", "link": "https://stackoverflow.com/users/11714668/jbluehdorn"}, "edited": false, "score": 0, "creation_date": 1567630743, "post_id": 57795459, "comment_id": 102024242, "body": "@Jbluehdorn I already tried it that way, and the result is the same."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9600231, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215028454561489/picture?type=large", "display_name": "Leandro Cardenas", "link": "https://stackoverflow.com/users/9600231/leandro-cardenas"}, "edited": false, "score": 0, "creation_date": 1567633736, "post_id": 57795524, "comment_id": 102025162, "body": "It did not work, still maintaining the reference to the original array."}], "tags": [], "owner": {"reputation": 475, "user_id": 11714668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/059c16fa2447ef8d1b968658d866c70c?s=128&d=identicon&r=PG&f=1", "display_name": "Jbluehdorn", "link": "https://stackoverflow.com/users/11714668/jbluehdorn"}, "is_accepted": false, "score": 0, "last_activity_date": 1567630494, "creation_date": 1567630494, "answer_id": 57795524, "question_id": 57795459, "link": "https://stackoverflow.com/questions/57795459/angular-8-array-map-slice-no-funcionan/57795524#57795524", "title": "Angular 8: Array .map() .slice() No funcionan", "body": "<p>You're modifying a direct reference to the underlying data directly within your map. Change it to something like:</p>\n\n<pre><code>let tempX = Object.assign({}, x);\ntempX.bank = 'Popular';\nreturn tempX;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 9600231, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215028454561489/picture?type=large", "display_name": "Leandro Cardenas", "link": "https://stackoverflow.com/users/9600231/leandro-cardenas"}, "edited": false, "score": 0, "creation_date": 1567631990, "post_id": 57795531, "comment_id": 102024651, "body": "Thanks, it worked for me. What I don&#39;t understand is why in javascritp the .map () function works fine, but using angular and firebase the reference to the original array is maintained."}, {"owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "reply_to_user": {"reputation": 13, "user_id": 9600231, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215028454561489/picture?type=large", "display_name": "Leandro Cardenas", "link": "https://stackoverflow.com/users/9600231/leandro-cardenas"}, "edited": false, "score": 0, "creation_date": 1567632660, "post_id": 57795531, "comment_id": 102024863, "body": "Angular has nothing to do with it. If you <code>map</code> or <code>slice</code> an array of primitives (like numbers, strings or Booleans), you&#39;re fine, you&#39;re creating a legit, independent copy. With an array of objects you need to be a little more careful."}, {"owner": {"reputation": 2575, "user_id": 6445732, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A67qWKs4iIk/AAAAAAAAAAI/AAAAAAAABr4/X9tmHVYIKzs/photo.jpg?sz=128", "display_name": "Deepak swain", "link": "https://stackoverflow.com/users/6445732/deepak-swain"}, "edited": false, "score": 0, "creation_date": 1575900255, "post_id": 57795531, "comment_id": 104710694, "body": "Wr8.  Still, if you want to assign value to array, then try using Spread Operator"}], "tags": [], "owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "is_accepted": true, "score": 2, "last_activity_date": 1567630528, "creation_date": 1567630528, "answer_id": 57795531, "question_id": 57795459, "link": "https://stackoverflow.com/questions/57795459/angular-8-array-map-slice-no-funcionan/57795531#57795531", "title": "Angular 8: Array .map() .slice() No funcionan", "body": "<p>By copying an array, you're still keeping references to the same objects. So you need to go one level deeper:</p>\n\n<pre><code>const temp = data.operationsList.map((x) =&gt; Object.assign({}, x, { bank: 'Popular' }));\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9600231, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215028454561489/picture?type=large", "display_name": "Leandro Cardenas", "link": "https://stackoverflow.com/users/9600231/leandro-cardenas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1712, "favorite_count": 0, "accepted_answer_id": 57795531, "answer_count": 2, "score": 1, "last_activity_date": 1567630528, "creation_date": 1567630135, "question_id": 57795459, "link": "https://stackoverflow.com/questions/57795459/angular-8-array-map-slice-no-funcionan", "title": "Angular 8: Array .map() .slice() No funcionan", "body": "<p>Angular 8 with Firebase: Array .map () .slice () Do not work.\nHi.\nI have been trying to make a copy of an array using .map () and .slice () in Angular 8, but using these methods I find that the copied array still has the reference to the original array.</p>\n\n<p>I don't know if I'm doing it wrong, or these methods don't work in Angular 8.</p>\n\n<pre><code> // Iniciamos la escucha de los cambios de la data del usuario\n    if (!this.$userData) {\n      this.$userData = this.userService.user().valueChanges().subscribe(data =&gt; {\n        if (data) {\n          this.userData = Object.assign({}, data);\n          const temp = data.operationsList.map((x) =&gt; {\n            x.bank = 'Popular';\n            return x;\n          });\n          console.log(this.userData.operationsList, temp);\n          if (!this.userData.validated) {\n            this.router.navigate(['register/pendingValidation']);\n          }\n        }\n      });\n    }\n</code></pre>\n\n<p>console.log:</p>\n\n<pre><code>(2) [{\u2026}, {\u2026}]\n0: {bank: \"Popular\", commission: 0, country: \"ve\", countryAllowed: \"all\", maximum: 0, \u2026}\n1: {bank: \"Popular\", commission: 0, country: \"ve\", countryAllowed: \"all\", maximum: 0, \u2026}\n\n(2) [{\u2026}, {\u2026}]\n0: {bank: \"Popular\", commission: 0, country: \"ve\", countryAllowed: \"all\", maximum: 0, \u2026}\n1: {bank: \"Popular\", commission: 0, country: \"ve\", countryAllowed: \"all\", maximum: 0, \u2026}\n</code></pre>\n\n<p>When modifying the copied array, the changes are also reflected in the original array.</p>\n"}, {"tags": ["javascript", "node.js", "express", "axios", "handlebars.js"], "comments": [{"owner": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "edited": false, "score": 0, "creation_date": 1567700691, "post_id": 57795421, "comment_id": 102050664, "body": "So you want the result of <code>getdeals</code> to be passed into <code>dealss</code>?"}, {"owner": {"reputation": 47, "user_id": 11466923, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a5E0B-lJnMA/AAAAAAAAAAI/AAAAAAAAACA/InVXP5NISCA/photo.jpg?sz=128", "display_name": "Christopher", "link": "https://stackoverflow.com/users/11466923/christopher"}, "reply_to_user": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "edited": false, "score": 0, "creation_date": 1567702200, "post_id": 57795421, "comment_id": 102051276, "body": "@slebetman Essentially yes, I have an object (result) which has an array (totaldeals) and I wan&#39;t to be able to have my route handle it properly to my hbs file. The <code>function newFunction() {[getdeals(result =&gt; console.log(result.totaldeals))]}</code> needs to pass it to dealss ( it doesn&#39;t have to be dealss, but I tried replacing dealss where my route is with <code>newFunction()</code> sure it prints to the console, but that&#39;s not what I want. I don&#39;t want it to print to console I want it to give me the data/strings so I can output it on the webpage.."}, {"owner": {"reputation": 47, "user_id": 11466923, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a5E0B-lJnMA/AAAAAAAAAAI/AAAAAAAAACA/InVXP5NISCA/photo.jpg?sz=128", "display_name": "Christopher", "link": "https://stackoverflow.com/users/11466923/christopher"}, "reply_to_user": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "edited": false, "score": 0, "creation_date": 1567702604, "post_id": 57795421, "comment_id": 102051449, "body": "@slebetman <code>function newFunction() {      return [getdeals(result =&gt; JSON.stringify(result.totaldeals[0].newdeal))] }</code>  I tried this too, but no luck"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 11466923, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a5E0B-lJnMA/AAAAAAAAAAI/AAAAAAAAACA/InVXP5NISCA/photo.jpg?sz=128", "display_name": "Christopher", "link": "https://stackoverflow.com/users/11466923/christopher"}, "edited": false, "score": 0, "creation_date": 1567706021, "post_id": 57810038, "comment_id": 102052817, "body": "you are amazing sir. thank you :D I&#39;m going to dissect that promise code ( haven&#39;t learned too much about async yet )"}], "tags": [], "owner": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "is_accepted": true, "score": 0, "last_activity_date": 1567703650, "last_edit_date": 1567703650, "creation_date": 1567702894, "answer_id": 57810038, "question_id": 57795421, "link": "https://stackoverflow.com/questions/57795421/how-do-i-make-hbs-render-an-array-from-a-callback-function/57810038#57810038", "title": "How do I make hbs render an array from a callback function?", "body": "<p>You just need to pass it as a variable to your hbs file:</p>\n\n<pre><code>app.get('', (req, res) =&gt; {\n    getdeals(result =&gt; {\n        res.render('index', {\n            title: 'ClearVision',\n            data: result, // or result.totaldeals depending\n            name: 'Chris' // on what you really mean\n        })\n    });\n})\n</code></pre>\n\n<hr>\n\n<h3>Improvements</h3>\n\n<p>If you rewrite <code>getdeals()</code> to return a Promise instead of accepting a callback you can use <code>async</code>/<code>await</code>:</p>\n\n<pre><code>const getdeals = () =&gt; {\n    // NOTE THIS CHANGE, return axios promise:\n    return axios(url, {\n            /* ... */\n        })\n        .then(response =&gt; {\n            /* .. */\n            statsTable.each(function () {\n                /* .. */\n            })\n\n            return totaldeals; // NOTE we return the result instead\n                               // of calling a callback. This will\n                               // return a resolved Promise\n        })\n        // Don't catch here, your request will hang if an error occurs\n}\n</code></pre>\n\n<p>Now with the change above (return axios and return the result) we can rewrite the route as:</p>\n\n<pre><code>app.get('', async (req, res, next) =&gt; { // must have async keyword!\n    try {\n        let result = await getdeals();\n\n        res.render('index', {\n            title: 'ClearVision',\n            data: result, // or result.totaldeals depending\n            name: 'Chris' // on what you really mean\n        })\n    }\n    catch (err) {\n        console.log(err);\n        next(err); // this will close the request socket\n    }\n})\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 11466923, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a5E0B-lJnMA/AAAAAAAAAAI/AAAAAAAAACA/InVXP5NISCA/photo.jpg?sz=128", "display_name": "Christopher", "link": "https://stackoverflow.com/users/11466923/christopher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 57810038, "answer_count": 1, "score": 0, "last_activity_date": 1567703650, "creation_date": 1567629939, "last_edit_date": 1567696469, "question_id": 57795421, "link": "https://stackoverflow.com/questions/57795421/how-do-i-make-hbs-render-an-array-from-a-callback-function", "title": "How do I make hbs render an array from a callback function?", "body": "<p>Currently I have axios and cheerio return data from a webpage. I then setup express to setup a few views. I double checked my index.hbs and it include {{data}} inside the body. This should allow the page to render the text from the index render data: dealss . Am I missing anything ? The dealss obj holds 4 different objects that I can access. </p>\n\n<p>getdeals(result => console.log(result.totaldeals[0].date))</p>\n\n<p>This returns [ 09/04/2019/ ] in the console. </p>\n\n<pre><code>const path = require('path')\nconst express = require('express')\nconst hbs = require('hbs')\nconst axios = require('axios');\nconst cheerio = require('cheerio');\n\nconst app = express()\n\n// Define paths for express config\nconst publicDirPath = path.join(__dirname, '../public')\nconst viewsPath = path.join(__dirname, '../templates/views')\nconst partialsPath = path.join(__dirname, '../templates/partials')\n\n// Setup handlebars engine and views location\napp.set('view engine', 'hbs')\napp.set('views', viewsPath)\nhbs.registerPartials(partialsPath)\n\n// Setup static directory to serve\napp.use(express.static(publicDirPath))\n\n\n// Views\napp.get('', (req, res) =&gt; {\n    res.render('index', {\n        title: 'ClearVision',\n        data: dealss,\n        name: 'Chris'\n    })\n})\n\napp.get('/about', (req, res) =&gt; {\n    res.render('about', {\n        title: 'ClearVision - About Us',\n        header: 'About Us',\n        name: 'Chris'\n    })\n})\n\napp.get('/help', (req, res) =&gt; {\n    res.render('help', {\n        title: 'ClearVision - Help',\n        helptext: 'Please contact x for help.',\n        name: 'Chris'\n    })\n})\n\napp.get('/weather', (req, res) =&gt; {\n    res.send({\n        forecast: 'It is sunny.',\n        location: 'x, Ca'\n    })\n})\n\napp.listen(1337, () =&gt; {\n    console.log('Server is currently running on port 1337.')\n})\n\nconst url = 'https://abcdef.com/';\naxios.defaults.withCredentials = true\n\n\n// Get the deals\nconst getdeals = (callback) =&gt; {\n    axios(url, {\n            headers: {\n                Cookie: \"x=xx;\"\n            }\n        })\n        .then(response =&gt; {\n            const html = response.data;\n            const $ = cheerio.load(html);\n\n            // Deals Page\n            const statsTable = $('tbody &gt; tr');\n            const totaldeals = [];\n\n\n            // Loop Table for data in each row\n            statsTable.each(function () {\n                const nwline = \"\\n\"\n                let date = $(this).find('td:nth-child(1)').text()\n                let bodydeals = $(this).find('td:nth-child(2)').text()\n                let newdeal = $(this).find('td:nth-child(3)').text()\n                let revdeal = $(this).find('td:nth-child(4)').text()\n                let monthlydealrev = $(this).find('td:nth-child(5)').text()\n\n                // Clear /n\n                if (date.includes(nwline)) {\n                    date = date.toString().replace(\"\\n\", \"\"),\n                        date = date.toString().replace(\"\\n\", \"\")\n                }\n\n                // Clear /n\n                if (bodydeals.includes(nwline)) {\n                    bodydeals = bodydeals.toString().replace(\"\\n\", \"\"),\n                        bodydeals = bodydeals.toString().replace(\"\\n\", \"\"),\n                        bodydeals = bodydeals.toString().replace(\"\\n\", \"\")\n                }\n\n                // Clear /n\n                if (newdeal.includes(nwline)) {\n                    newdeal = newdeal.toString().replace(\"\\n\", \"\"),\n                        newdeal = newdeal.toString().replace(\"\\n\", \"\"),\n                        newdeal = newdeal.toString().replace(\"\\n\", \"\")\n                }\n\n                // Clear /n\n                if (revdeal.includes(nwline)) {\n                    revdeal = revdeal.toString().replace(\"\\n\", \"\"),\n                        revdeal = revdeal.toString().replace(\"\\n\", \"\"),\n                        revdeal = revdeal.toString().replace(\"\\n\", \"\")\n                }\n\n                // Clear /n (lookup jquery table functions)\n                if (monthlydealrev.includes(nwline)) {\n                    monthlydealrev = monthlydealrev.toString().replace(\"\\n\", \"\"),\n                        monthlydealrev = monthlydealrev.toString().replace(\"\\n\", \"\"),\n                        monthlydealrev = monthlydealrev.toString().replace(\"\\n\", \"\")\n                }\n\n                totaldeals.push({\n                    date,\n                    bodydeals,\n                    newdeal,\n                    revdeal,\n                    monthlydealrev\n                })\n\n\n\n            })\n            callback({\n                totaldeals\n            })\n            //console.log(totaldeals[1].date)\n        })\n        .catch(console.error);\n\n}\n\nfunction newFunction() {[getdeals(result =&gt; console.log(result.totaldeals))]}\n</code></pre>\n\n<p>I added a data: dealss under the res.render for the index. I also checked the index.hbs which has {{data}} in there. Shouldn't this just add the text to the screen?</p>\n\n<p>Any ideas on how to print it to the view?</p>\n"}, {"tags": ["javascript", "svg"], "answers": [{"tags": [], "owner": {"reputation": 4933, "user_id": 2444210, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/039aeeb3bbfafb7fc2d8e8d56e04fc14?s=128&d=identicon&r=PG", "display_name": "IceMetalPunk", "link": "https://stackoverflow.com/users/2444210/icemetalpunk"}, "is_accepted": false, "score": 0, "last_activity_date": 1567630298, "creation_date": 1567630298, "answer_id": 57795488, "question_id": 57795417, "link": "https://stackoverflow.com/questions/57795417/how-do-i-get-the-fill-color-of-an-svg-element-without-rendering-it/57795488#57795488", "title": "How do I get the fill color of an svg element without rendering it?", "body": "<p>You can use <code>fetch</code> to download the SVG and parse it as text, then set the innerHTML of a new DIV to that text, and then it'll be just like any other SVG in a div, except you don't need to append it to the DOM anywhere:</p>\n\n<pre><code>const container = document.createElement('div');\nfetch(SVG_URL)\n    .then(response =&gt; response.text())\n    .then(text =&gt; {\n      container.innerHTML = text;\n      const fillColor = container.getElementById('Background').getAttribute('fill');\n    })\n    .catch(console.error);\n</code></pre>\n\n<p>The <code>console.error</code> can be changed to your own error handling callback if the SVG can't be downloaded for some reason.</p>\n"}, {"tags": [], "owner": {"reputation": 427, "user_id": 7790515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c3ed6816d78aeabe78b5ca2bf78a8d1?s=128&d=identicon&r=PG&f=1", "display_name": "cullanrocks", "link": "https://stackoverflow.com/users/7790515/cullanrocks"}, "is_accepted": false, "score": 0, "last_activity_date": 1567630403, "creation_date": 1567630403, "answer_id": 57795508, "question_id": 57795417, "link": "https://stackoverflow.com/questions/57795417/how-do-i-get-the-fill-color-of-an-svg-element-without-rendering-it/57795508#57795508", "title": "How do I get the fill color of an svg element without rendering it?", "body": "<p>You can easily get the background fill using basic DOM manipulation:</p>\n\n<pre><code>let backgroundFill = document.getElementById(\"Background\").getAttribute(\"fill\")\n</code></pre>\n"}], "owner": {"reputation": 12568, "user_id": 866206, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/86d35ffdb60e7693bcaf449c86f56784?s=128&d=identicon&r=PG&f=1", "display_name": "KingKongFrog", "link": "https://stackoverflow.com/users/866206/kingkongfrog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1567630403, "creation_date": 1567629919, "question_id": 57795417, "link": "https://stackoverflow.com/questions/57795417/how-do-i-get-the-fill-color-of-an-svg-element-without-rendering-it", "title": "How do I get the fill color of an svg element without rendering it?", "body": "<p>I want to access a svg element online which I have the URL for but without showing it on the screen.  The svg has only one fill color.  Is there a way with javascript to grab this color? (\"#013299\")</p>\n\n<pre><code>&lt;svg width=\"50px\" height=\"50px\" viewBox=\"0 0 50 50\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"&gt;\n    &lt;g id=\"mysvg\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"&gt;\n        &lt;rect id=\"Background\" fill=\"#013299\" x=\"0\" y=\"0\" width=\"50\" height=\"50\"&gt;&lt;/rect&gt;\n    &lt;/g&gt;\n&lt;/svg&gt;\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "class", "if-statement", "src"], "comments": [{"owner": {"reputation": 4933, "user_id": 2444210, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/039aeeb3bbfafb7fc2d8e8d56e04fc14?s=128&d=identicon&r=PG", "display_name": "IceMetalPunk", "link": "https://stackoverflow.com/users/2444210/icemetalpunk"}, "edited": false, "score": 1, "creation_date": 1567630469, "post_id": 57795371, "comment_id": 102024146, "body": "What have you tried? Hint: since you have code that&#39;s setting the class to &quot;show&quot;, maybe that&#39;s where you should keep track of the number of times it&#39;s been run and set the iframe&#39;s source there?"}, {"owner": {"reputation": 609, "user_id": 3112634, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a2a18005bd67155fac03775a23e8b05b?s=128&d=identicon&r=PG&f=1", "display_name": "user3112634", "link": "https://stackoverflow.com/users/3112634/user3112634"}, "reply_to_user": {"reputation": 4933, "user_id": 2444210, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/039aeeb3bbfafb7fc2d8e8d56e04fc14?s=128&d=identicon&r=PG", "display_name": "IceMetalPunk", "link": "https://stackoverflow.com/users/2444210/icemetalpunk"}, "edited": false, "score": 0, "creation_date": 1567631383, "post_id": 57795371, "comment_id": 102024463, "body": "I&#39;m currently playing with adding 1 to a var each time the class changes to &quot;show&quot; it will add 1 to a var I&#39;m looking at then setting the var back to 1 once it reaches the last &#39;page&#39; struggling a little though it&#39;s the best i&#39;ve come up with so far then I&#39;ll use if statements so if the var is 3 it will attr contact.html to the ifame and if it&#39;s 1 it will attr about.html to the iframe src"}], "answers": [{"tags": [], "owner": {"reputation": 58, "user_id": 11568558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ae4a5ac01392e5a2f0e4611f73d1ba4?s=128&d=identicon&r=PG&f=1", "display_name": "Bart", "link": "https://stackoverflow.com/users/11568558/bart"}, "is_accepted": true, "score": 1, "last_activity_date": 1602115842, "last_edit_date": 1602115842, "creation_date": 1567631332, "answer_id": 57795662, "question_id": 57795371, "link": "https://stackoverflow.com/questions/57795371/if-class-true-add-url-to-iframe-and-work-through-a-list-of-urls-then-repeat/57795662#57795662", "title": "If class true add url to iframe and work through a list of url&#39;s then repeat?", "body": "<p>You could use the data api jquery provides instead of using a class,\nhere is a link to the documentation: <a href=\"https://api.jquery.com/data/\" rel=\"nofollow noreferrer\">https://api.jquery.com/data/</a></p>\n<p>for example:</p>\n<pre><code>//Default value\n$('#foo').data('num', 1);\n\n//Go to next page event\n$(&quot;#GoToNextPage&quot;).on(&quot;click&quot;, function(){\n NextUrl();\n});  \n\nfunction NextUrl(){\n    var elem = $('#foo');\n    var number = elem.data('num');\n    if(number === 2){\n      elem.src = 'URL.html'\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 609, "user_id": 3112634, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a2a18005bd67155fac03775a23e8b05b?s=128&d=identicon&r=PG&f=1", "display_name": "user3112634", "link": "https://stackoverflow.com/users/3112634/user3112634"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 57795662, "answer_count": 1, "score": 0, "last_activity_date": 1602115842, "creation_date": 1567629608, "question_id": 57795371, "link": "https://stackoverflow.com/questions/57795371/if-class-true-add-url-to-iframe-and-work-through-a-list-of-urls-then-repeat", "title": "If class true add url to iframe and work through a list of url&#39;s then repeat?", "body": "<p>I am wondering how to go about adding different url's to an iframe if an element has the <code>class=\"show\"</code> so the 1st time the element class is \"show\" it will load the url:\nabout.html</p>\n\n<p>the second time the <strong>same</strong> element has the class \"show\" it will open \nwork.html</p>\n\n<p>and then the 3d time the same element has the class \"show\" it will open\ncontact.html</p>\n\n<p>etc etc</p>\n\n<p>but on the last class that is \"show\" that opens contact.html how would I then start it again so the 4th time the class equals \"show\" it opens about.html again and the 5th time the class is \"show\" it opens work.html etc etc ?</p>\n\n<p>Any idea's thanks!\nI hope this makes sense also.</p>\n\n<p>edit the class show changes between show and hidden depending on if the video modal is open or not so the first time the class is show it should display for example about.html and then for the 2nd time the class is show it should be work.html and the 3rd contact etc hope that makes better sense </p>\n"}, {"tags": ["javascript", "jquery", "ajax"], "comments": [{"owner": {"reputation": 1936, "user_id": 5568741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNja2.jpg?s=128&g=1", "display_name": "k3llydev", "link": "https://stackoverflow.com/users/5568741/k3llydev"}, "edited": false, "score": 0, "creation_date": 1567629633, "post_id": 57795319, "comment_id": 102023850, "body": "I&#39;d suggest you to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a> so we can help you better."}, {"owner": {"reputation": 161, "user_id": 2223214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CTKXR.png?s=128&g=1", "display_name": "Kaku Sarmah", "link": "https://stackoverflow.com/users/2223214/kaku-sarmah"}, "edited": false, "score": 0, "creation_date": 1567629754, "post_id": 57795319, "comment_id": 102023887, "body": "Your selectbox has a ID and every time you add a row the ID get added again with the row, and as you the ID should be unique."}, {"owner": {"reputation": 63, "user_id": 10344178, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GTgmALaC87A/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOv_7FLG_is3JIBSkDZ3IMG8OdPJg/mo/photo.jpg?sz=128", "display_name": "choooper2006", "link": "https://stackoverflow.com/users/10344178/choooper2006"}, "reply_to_user": {"reputation": 1936, "user_id": 5568741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNja2.jpg?s=128&g=1", "display_name": "k3llydev", "link": "https://stackoverflow.com/users/5568741/k3llydev"}, "edited": false, "score": 0, "creation_date": 1567693912, "post_id": 57795319, "comment_id": 102047113, "body": "@k3llydev I have added more detail now."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 10344178, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GTgmALaC87A/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOv_7FLG_is3JIBSkDZ3IMG8OdPJg/mo/photo.jpg?sz=128", "display_name": "choooper2006", "link": "https://stackoverflow.com/users/10344178/choooper2006"}, "edited": false, "score": 0, "creation_date": 1567694076, "post_id": 57795382, "comment_id": 102047214, "body": "How can see the value of <code>position_ID</code>? I tried a <code>console.log(position_ID)</code> but it doesn&#39;t display anything. All I see in console is a 500 error on the POST."}, {"owner": {"reputation": 63, "user_id": 10344178, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GTgmALaC87A/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOv_7FLG_is3JIBSkDZ3IMG8OdPJg/mo/photo.jpg?sz=128", "display_name": "choooper2006", "link": "https://stackoverflow.com/users/10344178/choooper2006"}, "edited": false, "score": 0, "creation_date": 1567694460, "post_id": 57795382, "comment_id": 102047431, "body": "Nevermind...I got it using the debugger. The value of <code>position_ID</code> is getting set. Looks like maybe an issue with the AJAX call. Any thoughts?"}, {"owner": {"reputation": 2934, "user_id": 2797034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1731e3ce24ec930b1f88970c0ed6e79c?s=128&d=identicon&r=PG", "display_name": "wrxsti", "link": "https://stackoverflow.com/users/2797034/wrxsti"}, "reply_to_user": {"reputation": 63, "user_id": 10344178, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GTgmALaC87A/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOv_7FLG_is3JIBSkDZ3IMG8OdPJg/mo/photo.jpg?sz=128", "display_name": "choooper2006", "link": "https://stackoverflow.com/users/10344178/choooper2006"}, "edited": false, "score": 0, "creation_date": 1567694603, "post_id": 57795382, "comment_id": 102047509, "body": "if you&#39;re getting a 500 error on the post request that means your server is responding with &quot;Internal Server Error&quot;. The issue isn&#39;t the request, its that its not getting anything from the server."}, {"owner": {"reputation": 63, "user_id": 10344178, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GTgmALaC87A/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOv_7FLG_is3JIBSkDZ3IMG8OdPJg/mo/photo.jpg?sz=128", "display_name": "choooper2006", "link": "https://stackoverflow.com/users/10344178/choooper2006"}, "edited": false, "score": 0, "creation_date": 1567694657, "post_id": 57795382, "comment_id": 102047543, "body": "Should the php send a response?"}, {"owner": {"reputation": 2934, "user_id": 2797034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1731e3ce24ec930b1f88970c0ed6e79c?s=128&d=identicon&r=PG", "display_name": "wrxsti", "link": "https://stackoverflow.com/users/2797034/wrxsti"}, "reply_to_user": {"reputation": 63, "user_id": 10344178, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GTgmALaC87A/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOv_7FLG_is3JIBSkDZ3IMG8OdPJg/mo/photo.jpg?sz=128", "display_name": "choooper2006", "link": "https://stackoverflow.com/users/10344178/choooper2006"}, "edited": false, "score": 0, "creation_date": 1567694793, "post_id": 57795382, "comment_id": 102047612, "body": "Yeah if you&#39;re trying to get data from the server to the client. It looks like you&#39;re trying to dual purpose your php script. Break the tasks into 2 separate scripts. One for getting the data, and one for posting data back to the server."}, {"owner": {"reputation": 63, "user_id": 10344178, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GTgmALaC87A/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOv_7FLG_is3JIBSkDZ3IMG8OdPJg/mo/photo.jpg?sz=128", "display_name": "choooper2006", "link": "https://stackoverflow.com/users/10344178/choooper2006"}, "edited": false, "score": 0, "creation_date": 1567695466, "post_id": 57795382, "comment_id": 102047976, "body": "I actually have them split into two files. I didn&#39;t show that here. I added <code>$value =  array(&#39;msg&#39; =&gt; &#39;true&#39; ); echo json_encode($value)</code> to the end of the PHP insert code and modified the success function to check if <code>msg == &#39;true&#39;</code>. It doesn&#39;t appear the the PHP is producing a response. I did it like it&#39;s shown here: <a href=\"https://stackoverflow.com/questions/10114852/send-php-response-to-ajax/10114935#10114935\" title=\"send php response to ajax\">stackoverflow.com/questions/10114852/send-php-response-to-aj&zwnj;&#8203;ax/&hellip;</a>"}, {"owner": {"reputation": 2934, "user_id": 2797034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1731e3ce24ec930b1f88970c0ed6e79c?s=128&d=identicon&r=PG", "display_name": "wrxsti", "link": "https://stackoverflow.com/users/2797034/wrxsti"}, "reply_to_user": {"reputation": 63, "user_id": 10344178, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GTgmALaC87A/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOv_7FLG_is3JIBSkDZ3IMG8OdPJg/mo/photo.jpg?sz=128", "display_name": "choooper2006", "link": "https://stackoverflow.com/users/10344178/choooper2006"}, "edited": false, "score": 0, "creation_date": 1567696404, "post_id": 57795382, "comment_id": 102048504, "body": "Do you see any response if you visit get-position.php directly in the browser, or still a 500 error?"}, {"owner": {"reputation": 63, "user_id": 10344178, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GTgmALaC87A/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOv_7FLG_is3JIBSkDZ3IMG8OdPJg/mo/photo.jpg?sz=128", "display_name": "choooper2006", "link": "https://stackoverflow.com/users/10344178/choooper2006"}, "edited": false, "score": 0, "creation_date": 1567696502, "post_id": 57795382, "comment_id": 102048562, "body": "I get this page is currently unable to handle this request. What kind of response would I get from a script that only inserts data?"}, {"owner": {"reputation": 2934, "user_id": 2797034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1731e3ce24ec930b1f88970c0ed6e79c?s=128&d=identicon&r=PG", "display_name": "wrxsti", "link": "https://stackoverflow.com/users/2797034/wrxsti"}, "reply_to_user": {"reputation": 63, "user_id": 10344178, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GTgmALaC87A/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOv_7FLG_is3JIBSkDZ3IMG8OdPJg/mo/photo.jpg?sz=128", "display_name": "choooper2006", "link": "https://stackoverflow.com/users/10344178/choooper2006"}, "edited": false, "score": 0, "creation_date": 1567696556, "post_id": 57795382, "comment_id": 102048598, "body": "<a href=\"https://stackoverflow.com/questions/41062714/currently-unable-to-handle-this-request-http-error-500\" title=\"currently unable to handle this request http error 500\">stackoverflow.com/questions/41062714/&hellip;</a>"}, {"owner": {"reputation": 63, "user_id": 10344178, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GTgmALaC87A/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOv_7FLG_is3JIBSkDZ3IMG8OdPJg/mo/photo.jpg?sz=128", "display_name": "choooper2006", "link": "https://stackoverflow.com/users/10344178/choooper2006"}, "edited": false, "score": 0, "creation_date": 1567698617, "post_id": 57795382, "comment_id": 102049703, "body": "Thank you for the troubleshooting tips. Turns out there was a rouge comma in the insert php."}, {"owner": {"reputation": 2934, "user_id": 2797034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1731e3ce24ec930b1f88970c0ed6e79c?s=128&d=identicon&r=PG", "display_name": "wrxsti", "link": "https://stackoverflow.com/users/2797034/wrxsti"}, "reply_to_user": {"reputation": 63, "user_id": 10344178, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GTgmALaC87A/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOv_7FLG_is3JIBSkDZ3IMG8OdPJg/mo/photo.jpg?sz=128", "display_name": "choooper2006", "link": "https://stackoverflow.com/users/10344178/choooper2006"}, "edited": false, "score": 0, "creation_date": 1567699162, "post_id": 57795382, "comment_id": 102049990, "body": "Ah I see. Does the javascript change help fix the issue with the row?"}, {"owner": {"reputation": 2934, "user_id": 2797034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1731e3ce24ec930b1f88970c0ed6e79c?s=128&d=identicon&r=PG", "display_name": "wrxsti", "link": "https://stackoverflow.com/users/2797034/wrxsti"}, "reply_to_user": {"reputation": 63, "user_id": 10344178, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GTgmALaC87A/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOv_7FLG_is3JIBSkDZ3IMG8OdPJg/mo/photo.jpg?sz=128", "display_name": "choooper2006", "link": "https://stackoverflow.com/users/10344178/choooper2006"}, "edited": false, "score": 0, "creation_date": 1567700162, "post_id": 57795382, "comment_id": 102050437, "body": "Sweet. Good deal."}], "tags": [], "owner": {"reputation": 2934, "user_id": 2797034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1731e3ce24ec930b1f88970c0ed6e79c?s=128&d=identicon&r=PG", "display_name": "wrxsti", "link": "https://stackoverflow.com/users/2797034/wrxsti"}, "is_accepted": true, "score": 1, "last_activity_date": 1567631013, "last_edit_date": 1567631013, "creation_date": 1567629726, "answer_id": 57795382, "question_id": 57795319, "link": "https://stackoverflow.com/questions/57795319/get-selected-value-from-dynamic-dropdown-in-table/57795382#57795382", "title": "Get selected value from dynamic dropdown in table", "body": "<p>The <a href=\"https://api.jquery.com/val/\" rel=\"nofollow noreferrer\">.val() method</a> is used to get the value of an element.</p>\n\n<p>Also note that @Kaka Sarmah is correct. Even this will not work because you're creating multiple elements with the same ID. IDs must be unique. Try giving it a class instead.</p>\n\n<pre><code>html += '&lt;td contenteditable class=\"positionID\"&gt;&lt;select class=\"positionList\"&gt;&lt;option&gt;&lt;/option&gt;&lt;/select&gt;';\n</code></pre>\n\n<p>Then in your javascript you can try to locate it using that class. Something like:</p>\n\n<pre><code>var position_ID = $(this).parents('tr').find('.positionList').val();\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 10344178, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GTgmALaC87A/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOv_7FLG_is3JIBSkDZ3IMG8OdPJg/mo/photo.jpg?sz=128", "display_name": "choooper2006", "link": "https://stackoverflow.com/users/10344178/choooper2006"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1118, "favorite_count": 0, "accepted_answer_id": 57795382, "answer_count": 1, "score": 0, "last_activity_date": 1567694530, "creation_date": 1567629275, "last_edit_date": 1567694530, "question_id": 57795319, "link": "https://stackoverflow.com/questions/57795319/get-selected-value-from-dynamic-dropdown-in-table", "title": "Get selected value from dynamic dropdown in table", "body": "<p>I have a button that adds a row to a table so that data can be inserted. One of the <code>&lt;td&gt;</code> tags populates a dropdown menu. I need to get the value from that dropdown to post in an ajax call back to a php page to insert the data in the database. Everything I've tried has returned undefined for <code>position_ID</code>. </p>\n\n<p>I'm getting a 500 Error on the POST and I think it's due to <code>var position_ID = $(this).parents('tr').find('.positionList').val();</code>, in the Insert function, not being set.</p>\n\n<p>HTML Code:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n      &lt;script src='jquery-3.4.1.js' type='text/javascript'&gt;&lt;/script&gt;\n      &lt;script src='script.js' type='text/javascript'&gt;&lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;button type=\"button\" name=\"add\" id=\"add\"&gt;Add&lt;/button&gt;\n        &lt;table id=\"dataTable\"&gt;\n            &lt;tr&gt;\n                &lt;th&gt;Last Name&lt;/th&gt;\n                &lt;th&gt;First Name&lt;/th&gt;\n                &lt;th&gt;Location Number&lt;/th&gt;\n                &lt;th&gt;Position&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>PHP Code:</p>\n\n<pre><code>&lt;?PHP&gt;\n    $sql = \"SELECT positionID, name FROM position\";\n\n    $result = mysqli_query($db,$sql);\n\n    $position_arr = array();\n\n    while( $row = mysqli_fetch_array($result) ){\n        $positionID = $row['positionID'];\n        $name = $row['name'];\n\n        $position_arr[] = array(\"positionID\" =&gt; $positionID, \"name\" =&gt; $name);\n    }\n\n    // encoding array to json format\n\n    $JSON_array = json_encode($position_arr);\n    echo $JSON_array;\n?&gt;\n&lt;?PHP&gt;\n    if(isset($_POST[\"last_name\"], $_POST[\"first_name\"], $_POST[\"location_num\"], $_POST[\"position_ID\"]))\n    {\n         $lastName = mysqli_real_escape_string($db, $_POST[\"last_name\"]);\n         $firstName = mysqli_real_escape_string($db, $_POST[\"first_name\"]);      \n         $locationNum = mysqli_real_escape_string($db, $_POST[\"location_num\"]);\n         $positionID = mysqli_real_escape_string($db, $_POST[\"position_ID\"]);\n\n         $sqlInsertEmployee = \"INSERT INTO employee(lastName, firstName, positionID, locationID) SELECT ?, ?, positionID, locationID from location join position p on p.positionID = ? where number = ?\";\n         $stmtInsertEmployee = mysqli_prepare($db,$sqlInsertEmployee);\n         mysqli_stmt_bind_param($stmtInsertEmployee, \"ssss\", $lastName,$firstName,$positionID,$locationNum,);\n         mysqli_stmt_execute($stmtInsertEmployee);\n         mysqli_stmt_close($stmtInsertEmployee);\n    }   \n?&gt;\n</code></pre>\n\n<p>Script code:</p>\n\n<pre><code>$('#add').click(function(){\n       var html = '&lt;tr&gt;';\n       html += '&lt;td contenteditable id=\"lastName\"&gt;&lt;/td&gt;';\n       html += '&lt;td contenteditable id=\"firstName\"&gt;&lt;/td&gt;';\n       html += '&lt;td contenteditable id=\"locationNum\"&gt;&lt;/td&gt;';\n       html += '&lt;td contenteditable id=\"positionID\"&gt;&lt;select class=\"positionList\"&gt;&lt;option&gt;&lt;/option&gt;&lt;/select&gt;';   \n\n       $(document).ready(function() {\n              var data\n              $.ajax({\n                dataType: 'json',\n                url: 'get-position.php',\n                data: data,\n                success: function(data) {\n                    // begin accessing JSON data here\n                  console.log(data)\n                  //data = jQuery.parseJSON(data);\n                  var html_to_append = '';\n                  html_to_append += '&lt;option value=\"0\"&gt;-- Select One --&lt;/option&gt;'\n                  $.each(data, function(i, item) {\n                    html_to_append += '&lt;option value=\"' + item.positionID + '\"&gt;' + item.name + '&lt;/option&gt;';\n                  });\n                  $(\".positionList\").html(html_to_append);\n                },\n              })\n            })\n\n\n       html += '&lt;/td&gt;&lt;td&gt;&lt;button type=\"button\" name=\"insert\" id=\"insert\"&gt;Insert&lt;/button&gt;&lt;/td&gt;';\n       html += '&lt;/tr&gt;';\n       $('#dataTable tr:first').after(html);\n    });\n\n\n\n\n    $(document).on('click', '#insert', function(){\n       var last_name = $('#lastName').text();\n       var first_name = $('#firstName').text();    \n       var location_num = $('#locationNum').text();\n\n       var position_ID = $(this).parents('tr').find('.positionList').val();\n\n       console.log(position_ID);\n\n       if(first_name != '' &amp;&amp; last_name != '' &amp;&amp; location_num != '')\n       {\n        $.ajax({\n         url:\"insert.php\",\n         method:\"POST\",\n         data:{last_name:last_name, first_name:first_name, location_num:location_num, position_ID:position_ID},\n         success:function(data)\n         {\n          $('#alert_message').html('&lt;div class=\"alert alert-success\"&gt;'+data+'&lt;/div&gt;');\n          $('#dataTable').DataTable().destroy();\n          fetch_data();\n\n         }\n        });\n        setInterval(function(){\n         $('#alert_message').html('');\n        }, 5000);\n       }\n       else\n       {\n        alert(\"All Fields is required\");\n       }\n     });\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "css", "fullcalendar"], "comments": [{"owner": {"reputation": 4453, "user_id": 4781067, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/V8AZh.jpg?s=128&g=1", "display_name": "Diego Fortes", "link": "https://stackoverflow.com/users/4781067/diego-fortes"}, "edited": false, "score": 0, "creation_date": 1567630025, "post_id": 57795282, "comment_id": 102023980, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/19803926/fullcalendar-within-twitter-bootstrap-tabs\">FullCalendar Within Twitter Bootstrap Tabs</a>"}, {"owner": {"reputation": 161, "user_id": 12021854, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCn9Uv0PMlPyZ9562vd5No1KMXagQCx_rBEeL8PoA=k-s128", "display_name": "Code GuruDev", "link": "https://stackoverflow.com/users/12021854/code-gurudev"}, "reply_to_user": {"reputation": 4453, "user_id": 4781067, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/V8AZh.jpg?s=128&g=1", "display_name": "Diego Fortes", "link": "https://stackoverflow.com/users/4781067/diego-fortes"}, "edited": false, "score": 0, "creation_date": 1567631297, "post_id": 57795282, "comment_id": 102024430, "body": "no you stated the 5 year old version which is not applicable here."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 1, "creation_date": 1567638679, "post_id": 57795282, "comment_id": 102026170, "body": "It might be an old version but to me it seems that the point is the same - you have to render the calendar each time you show the tab, or make sure the calendar tab is not hidden to begin with."}], "answers": [{"tags": [], "owner": {"reputation": 4453, "user_id": 4781067, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/V8AZh.jpg?s=128&g=1", "display_name": "Diego Fortes", "link": "https://stackoverflow.com/users/4781067/diego-fortes"}, "is_accepted": false, "score": 3, "last_activity_date": 1567630292, "creation_date": 1567630292, "answer_id": 57795485, "question_id": 57795282, "link": "https://stackoverflow.com/questions/57795282/full-calendar-is-not-loading-automatically-in-bootstrap-tab/57795485#57795485", "title": "Full Calendar is not loading automatically in Bootstrap Tab?", "body": "<p>FullCalendar will not load if the div can't be seen (is with <code>display: none;</code> for instance). </p>\n\n<p>The alternative is to listen to the <code>#menu1</code> and, when it's visible, run <code>calendar.render()</code>.</p>\n\n<p>Alternatively, you can initiate the app having the calendar being the visible screen, like this:</p>\n\n<pre><code>&lt;div class=\"tab-content\"&gt;\n  &lt;div id=\"home\" class=\"tab-pane fade in \"&gt;\n    &lt;h3&gt;HOME&lt;/h3&gt;\n    &lt;p&gt;Some content.&lt;/p&gt;\n  &lt;/div&gt;\n  &lt;div id=\"menu1\" class=\"tab-pane fade in active\"&gt;\n    &lt;h3&gt;Calendar not loaded automatically :(&lt;/h3&gt;\n    &lt;div id='calendar'&gt;&lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> document.addEventListener('DOMContentLoaded', function() {\r\n  var calendarButton = document.getElementById('calendarButton');\r\n  var calendarEl = document.getElementById('calendar');\r\n\r\n  var calendar = new FullCalendar.Calendar(calendarEl, {\r\n    plugins: [ 'interaction', 'dayGrid', 'timeGrid' ],\r\n    defaultView: 'dayGridMonth',\r\n    defaultDate: '2019-08-07',\r\n    header: {\r\n      left: 'prev,next today',\r\n      center: 'title',\r\n      right: 'dayGridMonth,timeGridWeek,timeGridDay'\r\n    },\r\n    events: [\r\n      {\r\n        title: 'All Day Event',\r\n        start: '2019-08-01'\r\n      },\r\n      {\r\n        title: 'Long Event',\r\n        start: '2019-08-07',\r\n        end: '2019-08-10'\r\n      },\r\n      {\r\n        groupId: '999',\r\n        title: 'Repeating Event',\r\n        start: '2019-08-09T16:00:00'\r\n      },\r\n      {\r\n        groupId: '999',\r\n        title: 'Repeating Event',\r\n        start: '2019-08-16T16:00:00'\r\n      },\r\n      {\r\n        title: 'Conference',\r\n        start: '2019-08-11',\r\n        end: '2019-08-13'\r\n      },\r\n      {\r\n        title: 'Meeting',\r\n        start: '2019-08-12T10:30:00',\r\n        end: '2019-08-12T12:30:00'\r\n      },\r\n      {\r\n        title: 'Lunch',\r\n        start: '2019-08-12T12:00:00'\r\n      },\r\n      {\r\n        title: 'Meeting',\r\n        start: '2019-08-12T14:30:00'\r\n      },\r\n      {\r\n        title: 'Birthday Party',\r\n        start: '2019-08-13T07:00:00'\r\n      },\r\n      {\r\n        title: 'Click for Google',\r\n        url: 'http://google.com/',\r\n        start: '2019-08-28'\r\n      }\r\n    ]\r\n  });\r\n\r\n\r\ncalendar.render();\r\n\r\n });  </code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>html, body {\r\n  margin: 0;\r\n  padding: 0;\r\n  font-family: Arial, Helvetica Neue, Helvetica, sans-serif;\r\n  font-size: 14px;\r\n}\r\n\r\n#calendar {\r\n  max-width: 900px;\r\n  margin: 40px auto;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css\" rel=\"stylesheet\"/&gt;\r\n&lt;link href=\"https://unpkg.com/@fullcalendar/core@4.3.1/main.min.css\" rel=\"stylesheet\"/&gt;\r\n&lt;link href=\"https://unpkg.com/@fullcalendar/daygrid@4.3.0/main.min.css\" rel=\"stylesheet\"/&gt;\r\n&lt;link href=\"https://unpkg.com/@fullcalendar/timegrid@4.3.0/main.min.css\" rel=\"stylesheet\"/&gt;\r\n\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://unpkg.com/@fullcalendar/core@4.3.1/main.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://unpkg.com/@fullcalendar/interaction@4.3.0/main.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://unpkg.com/@fullcalendar/daygrid@4.3.0/main.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://unpkg.com/@fullcalendar/timegrid@4.3.0/main.min.js\"&gt;&lt;/script&gt;\r\n\r\n\r\n&lt;ul class=\"nav nav-tabs\"&gt;\r\n  &lt;li &gt;&lt;a data-toggle=\"tab\" href=\"#home\"&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n  &lt;li&gt;&lt;a id=\"calendarButton\" data-toggle=\"tab\" href=\"#menu1\"&gt;Menu 1&lt;/a&gt;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;div class=\"tab-content\"&gt;\r\n  &lt;div id=\"home\" class=\"tab-pane fade in \"&gt;\r\n    &lt;h3&gt;HOME&lt;/h3&gt;\r\n    &lt;p&gt;Some content.&lt;/p&gt;\r\n  &lt;/div&gt;\r\n  &lt;div id=\"menu1\" class=\"tab-pane fade in active\"&gt;\r\n    &lt;h3&gt;Calendar not loaded automatically :(&lt;/h3&gt;\r\n    &lt;div id='calendar'&gt;&lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 12021854, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCn9Uv0PMlPyZ9562vd5No1KMXagQCx_rBEeL8PoA=k-s128", "display_name": "Code GuruDev", "link": "https://stackoverflow.com/users/12021854/code-gurudev"}, "is_accepted": true, "score": 2, "last_activity_date": 1567716702, "creation_date": 1567716702, "answer_id": 57812847, "question_id": 57795282, "link": "https://stackoverflow.com/questions/57795282/full-calendar-is-not-loading-automatically-in-bootstrap-tab/57812847#57812847", "title": "Full Calendar is not loading automatically in Bootstrap Tab?", "body": "<p>Thanks to all of you who help to solve this issue. Below is the my version of solution that works for me fine:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  $(document).ready(function() {\r\n\r\n    var calendarEl = document.getElementById('calendar');\r\n\r\n    var calendar = new FullCalendar.Calendar(calendarEl, {\r\n      plugins: ['interaction', 'dayGrid', 'timeGrid'],\r\n      defaultView: 'dayGridMonth',\r\n      defaultDate: '2019-09-06',\r\n      header: {\r\n        left: 'prev,next today',\r\n        center: 'title',\r\n        right: 'dayGridMonth,timeGridWeek,timeGridDay' },\r\n\r\n    events: [\r\n      {\r\n        title: 'All Day Event',\r\n        start: '2019-08-01'\r\n      },\r\n      {\r\n        title: 'Long Event',\r\n        start: '2019-08-07',\r\n        end: '2019-08-10'\r\n      },\r\n      {\r\n        groupId: '999',\r\n        title: 'Repeating Event',\r\n        start: '2019-08-09T16:00:00'\r\n      },\r\n      {\r\n        groupId: '999',\r\n        title: 'Repeating Event',\r\n        start: '2019-08-16T16:00:00'\r\n      },\r\n      {\r\n        title: 'Conference',\r\n        start: '2019-08-11',\r\n        end: '2019-08-13'\r\n      },\r\n      {\r\n        title: 'Meeting',\r\n        start: '2019-08-12T10:30:00',\r\n        end: '2019-08-12T12:30:00'\r\n      },\r\n      {\r\n        title: 'Lunch',\r\n        start: '2019-08-12T12:00:00'\r\n      },\r\n      {\r\n        title: 'Meeting',\r\n        start: '2019-08-12T14:30:00'\r\n      },\r\n      {\r\n        title: 'Birthday Party',\r\n        start: '2019-08-13T07:00:00'\r\n      },\r\n      {\r\n        title: 'Click for Google',\r\n        url: 'http://google.com/',\r\n        start: '2019-08-28'\r\n      }\r\n    ]\r\n});\r\n    calendar.render();\r\n    $('.nav-tabs li a').click(function(){\r\n      calendar.render();\r\n    });\r\n}); </code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>html, body {\r\n  margin: 0;\r\n  padding: 0;\r\n  font-family: Arial, Helvetica Neue, Helvetica, sans-serif;\r\n  font-size: 14px;\r\n}\r\n\r\n#calendar {\r\n  max-width: 900px;\r\n  margin: 40px auto;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css\" rel=\"stylesheet\"/&gt;\r\n&lt;link href=\"https://unpkg.com/@fullcalendar/core@4.3.1/main.min.css\" rel=\"stylesheet\"/&gt;\r\n&lt;link href=\"https://unpkg.com/@fullcalendar/daygrid@4.3.0/main.min.css\" rel=\"stylesheet\"/&gt;\r\n&lt;link href=\"https://unpkg.com/@fullcalendar/timegrid@4.3.0/main.min.css\" rel=\"stylesheet\"/&gt;\r\n\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://unpkg.com/@fullcalendar/core@4.3.1/main.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://unpkg.com/@fullcalendar/interaction@4.3.0/main.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://unpkg.com/@fullcalendar/daygrid@4.3.0/main.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://unpkg.com/@fullcalendar/timegrid@4.3.0/main.min.js\"&gt;&lt;/script&gt;\r\n\r\n\r\n&lt;ul class=\"nav nav-tabs\"&gt;\r\n  &lt;li class=\"active\"&gt;&lt;a data-toggle=\"tab\" href=\"#home\"&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n  &lt;li&gt;&lt;a data-toggle=\"tab\" href=\"#menu1\"&gt;Menu 1&lt;/a&gt;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;div class=\"tab-content\"&gt;\r\n  &lt;div id=\"home\" class=\"tab-pane fade in active show\"&gt;\r\n    &lt;h3&gt;HOME&lt;/h3&gt;\r\n    &lt;p&gt;Some content.&lt;/p&gt;\r\n  &lt;/div&gt;\r\n  &lt;div id=\"menu1\" class=\"tab-pane fade show\"&gt;\r\n    &lt;h3&gt;Calendar loaded when you double click on second tab link&lt;/h3&gt;\r\n    &lt;div id='calendar'&gt;&lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 161, "user_id": 12021854, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCn9Uv0PMlPyZ9562vd5No1KMXagQCx_rBEeL8PoA=k-s128", "display_name": "Code GuruDev", "link": "https://stackoverflow.com/users/12021854/code-gurudev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1422, "favorite_count": 0, "accepted_answer_id": 57812847, "answer_count": 2, "score": 4, "last_activity_date": 1567716702, "creation_date": 1567629068, "last_edit_date": 1567716248, "question_id": 57795282, "link": "https://stackoverflow.com/questions/57795282/full-calendar-is-not-loading-automatically-in-bootstrap-tab", "title": "Full Calendar is not loading automatically in Bootstrap Tab?", "body": "<p>I'm working on travelling website where I used a bootstrap tab. In first tab there is some content and in second tab I showed a full calendar js. All is working fine but when I show full calendar in first tab it working perfectly but when I show it in second tab it not loaded automatically but instead of that when I hit on month button or left right arrow it loaded.</p>\n\n<p>Unable to figure out the issue. Below is the complete code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  document.addEventListener('DOMContentLoaded', function() {\r\n  var calendarEl = document.getElementById('calendar');\r\n\r\n  var calendar = new FullCalendar.Calendar(calendarEl, {\r\n    plugins: [ 'interaction', 'dayGrid', 'timeGrid' ],\r\n    defaultView: 'dayGridMonth',\r\n    defaultDate: '2019-08-07',\r\n    header: {\r\n      left: 'prev,next today',\r\n      center: 'title',\r\n      right: 'dayGridMonth,timeGridWeek,timeGridDay'\r\n    },\r\n    events: [\r\n      {\r\n        title: 'All Day Event',\r\n        start: '2019-08-01'\r\n      },\r\n      {\r\n        title: 'Long Event',\r\n        start: '2019-08-07',\r\n        end: '2019-08-10'\r\n      },\r\n      {\r\n        groupId: '999',\r\n        title: 'Repeating Event',\r\n        start: '2019-08-09T16:00:00'\r\n      },\r\n      {\r\n        groupId: '999',\r\n        title: 'Repeating Event',\r\n        start: '2019-08-16T16:00:00'\r\n      },\r\n      {\r\n        title: 'Conference',\r\n        start: '2019-08-11',\r\n        end: '2019-08-13'\r\n      },\r\n      {\r\n        title: 'Meeting',\r\n        start: '2019-08-12T10:30:00',\r\n        end: '2019-08-12T12:30:00'\r\n      },\r\n      {\r\n        title: 'Lunch',\r\n        start: '2019-08-12T12:00:00'\r\n      },\r\n      {\r\n        title: 'Meeting',\r\n        start: '2019-08-12T14:30:00'\r\n      },\r\n      {\r\n        title: 'Birthday Party',\r\n        start: '2019-08-13T07:00:00'\r\n      },\r\n      {\r\n        title: 'Click for Google',\r\n        url: 'http://google.com/',\r\n        start: '2019-08-28'\r\n      }\r\n    ]\r\n  });\r\n\r\n  calendar.render();\r\n });  </code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>html, body {\r\n  margin: 0;\r\n  padding: 0;\r\n  font-family: Arial, Helvetica Neue, Helvetica, sans-serif;\r\n  font-size: 14px;\r\n}\r\n\r\n#calendar {\r\n  max-width: 900px;\r\n  margin: 40px auto;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css\" rel=\"stylesheet\"/&gt;\r\n&lt;link href=\"https://unpkg.com/@fullcalendar/core@4.3.1/main.min.css\" rel=\"stylesheet\"/&gt;\r\n&lt;link href=\"https://unpkg.com/@fullcalendar/daygrid@4.3.0/main.min.css\" rel=\"stylesheet\"/&gt;\r\n&lt;link href=\"https://unpkg.com/@fullcalendar/timegrid@4.3.0/main.min.css\" rel=\"stylesheet\"/&gt;\r\n\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://unpkg.com/@fullcalendar/core@4.3.1/main.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://unpkg.com/@fullcalendar/interaction@4.3.0/main.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://unpkg.com/@fullcalendar/daygrid@4.3.0/main.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://unpkg.com/@fullcalendar/timegrid@4.3.0/main.min.js\"&gt;&lt;/script&gt;\r\n\r\n\r\n&lt;ul class=\"nav nav-tabs\"&gt;\r\n  &lt;li class=\"active\"&gt;&lt;a data-toggle=\"tab\" href=\"#home\"&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n  &lt;li&gt;&lt;a data-toggle=\"tab\" href=\"#menu1\"&gt;Menu 1&lt;/a&gt;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;div class=\"tab-content\"&gt;\r\n  &lt;div id=\"home\" class=\"tab-pane fade in active\"&gt;\r\n    &lt;h3&gt;HOME&lt;/h3&gt;\r\n    &lt;p&gt;Some content.&lt;/p&gt;\r\n  &lt;/div&gt;\r\n  &lt;div id=\"menu1\" class=\"tab-pane fade\"&gt;\r\n    &lt;h3&gt;Calendar not loaded automatically :(&lt;/h3&gt;\r\n    &lt;div id='calendar'&gt;&lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs", "oauth-2.0", "google-oauth"], "comments": [{"owner": {"reputation": 764, "user_id": 10130916, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4VZ6bp7y8l0/AAAAAAAAAAI/AAAAAAAAARI/MC_GdFgxJ0w/photo.jpg?sz=128", "display_name": "Harshit", "link": "https://stackoverflow.com/users/10130916/harshit"}, "edited": false, "score": 0, "creation_date": 1603708963, "post_id": 57795232, "comment_id": 114111789, "body": "did you solve this?"}], "owner": {"reputation": 43, "user_id": 11423925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b55f6745c93c4027bca154ce68b0a303?s=128&d=identicon&r=PG&f=1", "display_name": "txbarnesx", "link": "https://stackoverflow.com/users/11423925/txbarnesx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 375, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1617579130, "creation_date": 1567628730, "last_edit_date": 1567670282, "question_id": 57795232, "link": "https://stackoverflow.com/questions/57795232/client-side-google-oauth-2-0-stalling-out-in-instagrams-webview", "title": "Client-side Google OAuth 2.0 stalling out in Instagram&#39;s webview", "body": "<p>I have a working client-side javascript OAuth 2.0 package handling authentication through Google. But when I try to use it to sign up or login to my site from within an Instagram or Facebook webview, I get an infinite loading circle and a very tiny message: \"One moment please...\" \u2014</p>\n\n<p><a href=\"https://i.stack.imgur.com/4VfqZ.jpg\" rel=\"nofollow noreferrer\">Screenshot of the tiny eternal loader</a></p>\n\n<p>Looking into the problem, I see that Google is currently encouraging developers to switch to a web-browser auth flow, which seems to be what I have \u2014 <a href=\"https://www.zdnet.com/article/google-bans-logins-from-embedded-browser-frameworks-to-prevent-mitm-phishing/\" rel=\"nofollow noreferrer\">https://www.zdnet.com/article/google-bans-logins-from-embedded-browser-frameworks-to-prevent-mitm-phishing/</a> \u2014 but I can't really tell what aspect is causing Insta to get stuck without throwing an error. The flow works perfectly within Twitter's webview, I should mention. It only seems to be the FB-owned platforms.</p>\n\n<p>I'll include some of the front end code (React, using a \"gapi-client\" wrapper), because I don't think it's a backend issue. I am sending the token to my Django server to convert it eventually, but I think it's getting locked up on a redirect before that happens.</p>\n\n<p>MOUNTING:</p>\n\n<pre><code>    gapi.load(\"client:auth2\", () =&gt; {\n      gapi.auth2.init({client_id: \"&lt;CLIENT ID KEY&gt;\"});\n      });\n</code></pre>\n\n<p>AUTHENTICATING:</p>\n\n<pre><code>const authenticate = () =&gt; {\n      let gProfileObject = gapi.auth2.getAuthInstance();\n      let scope = \"profile email\";\n\n      return gProfileObject\n          .signIn({scope: scope})\n          .then((res) =&gt; {\n                let username, googleResponse; \n                if (res.w3) {\n                  googleResponse = res;\n                  username = res.w3.U3;\n\n                  localStorage.setItem(\"goog_avatar_url\", googleResponse.w3.Paa);\n                  localStorage.setItem(\"goog_name\", googleResponse.w3.ig);\n                  localStorage.setItem(\"goog_email\", googleResponse.w3.U3);\n                }\n\n       //MOVES ON TO THE NEXT STEP IN THE SIGNUP PROCESS, COLLECTING ADDITIONAL INFORMATION FROM THE USER\n\n       this.props.oAuthToggle(googleResponse.Zi.access_token);\n       this.props.handleSpecialSubmit();\n                }).catch(err =&gt; {\n                    console.log(err)\n          )\n    };\n\n</code></pre>\n\n<p>Has anyone had a similar issue with Google OAuth 2.0 on Insta or Facebook since the new changes were announced? Where did you seek a solution, and what did you need to change about your OAuth package to fix it? Thanks!</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 19485, "user_id": 1267304, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oK2WD.jpg?s=128&g=1", "display_name": "DontVoteMeDown", "link": "https://stackoverflow.com/users/1267304/dontvotemedown"}, "edited": false, "score": 0, "creation_date": 1567628812, "post_id": 57795191, "comment_id": 102023536, "body": "I&#39;m not following you, description is confuse. What is your problem? It seems that you&#39;re missing <code>#</code> in <code>$(&#39;all&#39;)</code>... but I guess this is not the whole issue at all."}, {"owner": {"reputation": 41, "user_id": 11985004, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xu5aB58YE3k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reg4mO1TvwVhXJD0bTfLLn9BPJOZw/photo.jpg?sz=128", "display_name": "girlio salama", "link": "https://stackoverflow.com/users/11985004/girlio-salama"}, "reply_to_user": {"reputation": 19485, "user_id": 1267304, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oK2WD.jpg?s=128&g=1", "display_name": "DontVoteMeDown", "link": "https://stackoverflow.com/users/1267304/dontvotemedown"}, "edited": false, "score": 0, "creation_date": 1567628913, "post_id": 57795191, "comment_id": 102023576, "body": "i dont want want the divs to show all"}, {"owner": {"reputation": 41, "user_id": 11985004, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xu5aB58YE3k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reg4mO1TvwVhXJD0bTfLLn9BPJOZw/photo.jpg?sz=128", "display_name": "girlio salama", "link": "https://stackoverflow.com/users/11985004/girlio-salama"}, "reply_to_user": {"reputation": 19485, "user_id": 1267304, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oK2WD.jpg?s=128&g=1", "display_name": "DontVoteMeDown", "link": "https://stackoverflow.com/users/1267304/dontvotemedown"}, "edited": false, "score": 0, "creation_date": 1567629077, "post_id": 57795191, "comment_id": 102023638, "body": "when i remove showall the div content shows on button 1"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 11985004, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xu5aB58YE3k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reg4mO1TvwVhXJD0bTfLLn9BPJOZw/photo.jpg?sz=128", "display_name": "girlio salama", "link": "https://stackoverflow.com/users/11985004/girlio-salama"}, "edited": false, "score": 0, "creation_date": 1567629181, "post_id": 57795287, "comment_id": 102023675, "body": "i dont want the showall button to show all content i want the first content to be 1"}, {"owner": {"reputation": 1687, "user_id": 9357872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72ae075f639ca9e1d235ed30685d18e3?s=128&d=identicon&r=PG&f=1", "display_name": "Evik Ghazarian", "link": "https://stackoverflow.com/users/9357872/evik-ghazarian"}, "reply_to_user": {"reputation": 41, "user_id": 11985004, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xu5aB58YE3k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reg4mO1TvwVhXJD0bTfLLn9BPJOZw/photo.jpg?sz=128", "display_name": "girlio salama", "link": "https://stackoverflow.com/users/11985004/girlio-salama"}, "edited": false, "score": 0, "creation_date": 1567630343, "post_id": 57795287, "comment_id": 102024108, "body": "Please describe what you want each button to do. I updated the answer hope its the one you want"}, {"owner": {"reputation": 1687, "user_id": 9357872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72ae075f639ca9e1d235ed30685d18e3?s=128&d=identicon&r=PG&f=1", "display_name": "Evik Ghazarian", "link": "https://stackoverflow.com/users/9357872/evik-ghazarian"}, "reply_to_user": {"reputation": 41, "user_id": 11985004, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xu5aB58YE3k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reg4mO1TvwVhXJD0bTfLLn9BPJOZw/photo.jpg?sz=128", "display_name": "girlio salama", "link": "https://stackoverflow.com/users/11985004/girlio-salama"}, "edited": false, "score": 0, "creation_date": 1567633305, "post_id": 57795287, "comment_id": 102025066, "body": "Updated the answer with every possible show/hide situation buttons you might need. just use the ones you think you need"}], "tags": [], "owner": {"reputation": 1687, "user_id": 9357872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72ae075f639ca9e1d235ed30685d18e3?s=128&d=identicon&r=PG&f=1", "display_name": "Evik Ghazarian", "link": "https://stackoverflow.com/users/9357872/evik-ghazarian"}, "is_accepted": true, "score": 1, "last_activity_date": 1567634385, "last_edit_date": 1567634385, "creation_date": 1567629082, "answer_id": 57795287, "question_id": 57795191, "link": "https://stackoverflow.com/questions/57795191/show-a-single-div-a-time-on-button-click/57795287#57795287", "title": "Show a single div a time on button click", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.all').hide(); //hide div 1 &amp; 2 at the beginning\r\n$('#all').hide(); //hide all at the beginning\r\n$('#showall').click(function(){\r\n    $('.all').hide();\r\n    $('#all').show();\r\n});\r\n$('#show1').click(function(){\r\n    $('.all').hide();\r\n    $('#all').hide();\r\n    $('#div1').show();\r\n});\r\n$('#show2').click(function(){\r\n    $('.all').hide();\r\n    $('#all').hide();\r\n    $('#div2').show();\r\n});\r\n$('#showdiv1').click(function(){\r\n    $('.all').hide();\r\n    $('#all').show();\r\n    $('#div1').show();\r\n});\r\n$('#showdiv2').click(function(){\r\n    $('.all').hide();\r\n    $('#all').show();\r\n    $('#div2').show();\r\n});\r\n$('#showdiv12').click(function(){\r\n    $('#all').hide();\r\n    $('.all').show();\r\n});\r\n$('#showeverything').click(function(){\r\n    $('#all').show();\r\n    $('.all').show();\r\n});\r\n$('#removediv').click(function(){\r\n    $('.all').hide();\r\n});\r\n$('#removeall').click(function(){\r\n    $('#all').hide();\r\n    $('.all').hide();\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;button class=\"button\" id=\"showall\"&gt;Show 1(All) Only&lt;/button&gt;\r\n&lt;button class=\"button\" id=\"show1\"&gt;Show Div 1 Only&lt;/button&gt;\r\n&lt;button class=\"button\" id=\"show2\"&gt;Show Div 2 Only&lt;/button&gt;\r\n&lt;button class=\"button\" id=\"showdiv1\"&gt;Show 1(All) and Div 1&lt;/button&gt;\r\n&lt;button class=\"button\" id=\"showdiv2\"&gt;Show 1(All) and Div 2&lt;/button&gt;\r\n&lt;button class=\"button\" id=\"showdiv12\"&gt;Show Div 1 and 2 Only&lt;/button&gt;\r\n&lt;button class=\"button\" id=\"showeverything\"&gt;Show Everything&lt;/button&gt;\r\n&lt;button class=\"button\" id=\"removediv\"&gt;Hide Div 1 and 2&lt;/button&gt;\r\n&lt;button class=\"button\" id=\"removeall\"&gt;Hide Everything&lt;/button&gt;\r\n&lt;div id=\"all\"&gt;1 (All)&lt;/div&gt;\r\n&lt;div id=\"div1\" class=\"all\"&gt;1 (Div 1)&lt;/div&gt;\r\n&lt;div id=\"div2\" class=\"all\"&gt;1 (Div 2)&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 8603, "user_id": 3289660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cGFex.jpg?s=128&g=1", "display_name": "Nidhin Joseph", "link": "https://stackoverflow.com/users/3289660/nidhin-joseph"}, "is_accepted": false, "score": 0, "last_activity_date": 1567632331, "creation_date": 1567632331, "answer_id": 57795809, "question_id": 57795191, "link": "https://stackoverflow.com/questions/57795191/show-a-single-div-a-time-on-button-click/57795809#57795809", "title": "Show a single div a time on button click", "body": "<p>You can use the <code>get()</code> and avoid have unique <code>id</code> for individual <code>div</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.buttons a').click(function() {\r\n  let showId = $(this).attr('show');\r\n  $('.container div').hide(); // hide all\r\n  $($('.container div').get(showId)).show();\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.container div {\r\n  display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://code.jquery.com/jquery-3.4.1.min.js\" integrity=\"sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n\r\n&lt;div class=\"buttons\"&gt;\r\n  &lt;a show='0'&gt;All&lt;/a&gt;\r\n  &lt;a show='1'&gt;Div 1&lt;/a&gt;\r\n  &lt;a show='2'&gt;Div 2&lt;/a&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"container\"&gt;\r\n  &lt;div&gt;All&lt;/div&gt;\r\n  &lt;div&gt;Div 1&lt;/div&gt;\r\n  &lt;div&gt;Div 2&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 41, "user_id": 11985004, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xu5aB58YE3k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reg4mO1TvwVhXJD0bTfLLn9BPJOZw/photo.jpg?sz=128", "display_name": "girlio salama", "link": "https://stackoverflow.com/users/11985004/girlio-salama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 57795287, "answer_count": 2, "score": 0, "last_activity_date": 1567634617, "creation_date": 1567628483, "last_edit_date": 1567634617, "question_id": 57795191, "link": "https://stackoverflow.com/questions/57795191/show-a-single-div-a-time-on-button-click", "title": "Show a single div a time on button click", "body": "<p>I have this code I want this show only div I as the first view someone sees\nnot to show all the content. When I remove all the button div one shows all the content</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#showall').click(function(){\r\n    $('all').show();\r\n});\r\n\r\n$('#showdiv1').click(function(){\r\n    $('div[id^=div]').hide();\r\n    $('#div1').show();\r\n});\r\n$('#showdiv2').click(function(){\r\n    $('div[id^=div]').hide();\r\n    $('#div2').show();\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div class=\"buttons\"&gt;\r\n    &lt;a class=\"button\" id=\"showall\"&gt;All&lt;/a&gt;\r\n    &lt;a class=\"button\" id=\"showdiv1\"&gt;Div 1&lt;/a&gt;\r\n    &lt;a class=\"button\" id=\"showdiv2\"&gt;Div 2&lt;/a&gt;          \r\n&lt;/div&gt;\r\n&lt;div id=\"all\"&gt;1&lt;/div&gt;\r\n&lt;div id=\"div1\"&gt;1&lt;/div&gt;\r\n&lt;div id=\"div2\"&gt;2&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 4153, "user_id": 3277216, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/7JMRf.jpg?s=128&g=1", "display_name": "Vasyl Gutnyk", "link": "https://stackoverflow.com/users/3277216/vasyl-gutnyk"}, "edited": false, "score": 1, "creation_date": 1567628453, "post_id": 57795150, "comment_id": 102023416, "body": "its not readable, format this code, add it to jsFiddle or sandbox"}, {"owner": {"reputation": 1725, "user_id": 1491836, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/82dc2ad2b947285b7c2804af2d2ee909?s=128&d=identicon&r=PG", "display_name": "Brant", "link": "https://stackoverflow.com/users/1491836/brant"}, "edited": false, "score": 0, "creation_date": 1567628538, "post_id": 57795150, "comment_id": 102023432, "body": "My go-to for anything date related in Moment.js. Use moment on each of your dates and then use the comparison operators it gives you. a.isBefore(b), a.isAfter(b), a.isSameOrBefore(b), a.isSameOrAfter(b). Google Moment.js and check out the docs."}, {"owner": {"reputation": 12017, "user_id": 5005177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/24654adb38f30006fb2d3bd07dd6242b?s=128&d=identicon&r=PG&f=1", "display_name": "trixn", "link": "https://stackoverflow.com/users/5005177/trixn"}, "reply_to_user": {"reputation": 1725, "user_id": 1491836, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/82dc2ad2b947285b7c2804af2d2ee909?s=128&d=identicon&r=PG", "display_name": "Brant", "link": "https://stackoverflow.com/users/1491836/brant"}, "edited": false, "score": 1, "creation_date": 1567629071, "post_id": 57795150, "comment_id": 102023633, "body": "@Brant Moment.js has quite a big bundle size and pulling it in just for comparing dates is quite an overkill. This can be done with built-in functions. If it really needs to be done with a library I&#39;d pick <a href=\"https://github.com/date-fns/date-fns\" rel=\"nofollow noreferrer\"><code>date-fns</code></a> instead which is much smaller and allows for tree shaking."}, {"owner": {"reputation": 1725, "user_id": 1491836, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/82dc2ad2b947285b7c2804af2d2ee909?s=128&d=identicon&r=PG", "display_name": "Brant", "link": "https://stackoverflow.com/users/1491836/brant"}, "edited": false, "score": 0, "creation_date": 1567630860, "post_id": 57795150, "comment_id": 102024278, "body": "That&#39;s correct. Seeing as I tend to work on larger apps that already have some reliance on Moment, it&#39;s already there to use. I take that for granted sometimes. :)"}, {"owner": {"reputation": 9, "user_id": 9943051, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dRbn8cYcPEU/AAAAAAAAAAI/AAAAAAAAAAA/FXqwvd-YI9c/photo.jpg?sz=128", "display_name": "Ayoob Nazeer", "link": "https://stackoverflow.com/users/9943051/ayoob-nazeer"}, "edited": false, "score": 0, "creation_date": 1567633047, "post_id": 57795150, "comment_id": 102025001, "body": "Thank you. I used mement js just for date field. And it works"}], "answers": [{"tags": [], "owner": {"reputation": 12017, "user_id": 5005177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/24654adb38f30006fb2d3bd07dd6242b?s=128&d=identicon&r=PG&f=1", "display_name": "trixn", "link": "https://stackoverflow.com/users/5005177/trixn"}, "is_accepted": false, "score": 2, "last_activity_date": 1567628694, "creation_date": 1567628694, "answer_id": 57795227, "question_id": 57795150, "link": "https://stackoverflow.com/questions/57795150/sort-data-by-date-in-react-js/57795227#57795227", "title": "sort data by Date in react js", "body": "<p>You are actually not sorting dates but strings. As your strings start with the month and <code>\"0\"</code> comes before <code>\"1\"</code> this will work.</p>\n\n<p>But as years are more significant for sorting dates your approach doesn't work if the year comes last in your string representation of it.</p>\n\n<p>Your either need to change the representation to have the year come first, then the month and then the day. Or you need to first transform them to real <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date\" rel=\"nofollow noreferrer\"><code>Date</code></a> objects before comparing them.</p>\n"}, {"tags": [], "owner": {"reputation": 302, "user_id": 9777827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bk2uE.png?s=128&g=1", "display_name": "pinkwaffles", "link": "https://stackoverflow.com/users/9777827/pinkwaffles"}, "is_accepted": true, "score": 1, "last_activity_date": 1567633777, "creation_date": 1567633777, "answer_id": 57796016, "question_id": 57795150, "link": "https://stackoverflow.com/questions/57795150/sort-data-by-date-in-react-js/57796016#57796016", "title": "sort data by Date in react js", "body": "<p>It's doing a string comparison - so it's not sorting it as dates. Try changing your sort for date to:</p>\n\n<pre><code>componentDidMount() {\n    fetch('../companyNotifications.json')\n        .then(res =&gt; res.json())\n        .then((data) =&gt; {\n            data.sort((a,b) =&gt; new Date(a) &lt; new Date(b) ? 1 : -1);\n            this.setState({ contacts: data })\n                .then(data =&gt; this.setState({ contacts: data }));\n        })\n        .catch(console.log)\n  }\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 9943051, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dRbn8cYcPEU/AAAAAAAAAAI/AAAAAAAAAAA/FXqwvd-YI9c/photo.jpg?sz=128", "display_name": "Ayoob Nazeer", "link": "https://stackoverflow.com/users/9943051/ayoob-nazeer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2206, "favorite_count": 0, "accepted_answer_id": 57796016, "answer_count": 2, "score": 0, "last_activity_date": 1567633777, "creation_date": 1567628220, "question_id": 57795150, "link": "https://stackoverflow.com/questions/57795150/sort-data-by-date-in-react-js", "title": "sort data by Date in react js", "body": "<p>I am displaying list of data sorted by date from JSON using ReactJS.\nMy code only sorts the data by date and month only, but it does not take the year. </p>\n\n<blockquote>\n  <p>It works fine for other fields such as {contact.agencyEmail, contact.messageT, contact.message}</p>\n  \n  <p>How do I make this code to sort by date.</p>\n</blockquote>\n\n<p>This is my component notifications.jsx</p>\n\n<pre><code>export class CompanyNotifications extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { contacts: [],    sort: {\n            direction: 'desc',\n          } };\n\n      compareBy(key) {\n        return function (a, b) {\n          if (a[key] &lt; b[key]) return -1;\n          if (a[key] &gt; b[key]) return 1;\n          return 0;\n        };\n      }\n\nSorting for Assending and descending order\n\n```   sortBy(key) {\n        const direction = this.state.sort ? (this.state.sort.direction === 'asc' ? 'desc' : 'asc') : 'desc';\n\n        let arrayCopy = [...this.state.contacts];\n        arrayCopy.sort(this.compareBy(key));\n        this.setState({contacts: arrayCopy});\n\n        if (direction === 'asc') {\n            arrayCopy.reverse();\n          }\n\n          this.setState({\n            data: arrayCopy,\n            sort: {\n              direction,\n            }\n          });\n      }\n\nFetched the data when component mount, by default data is in ascending order\n\n      componentDidMount() {\n        fetch('../companyNotifications.json')\n        .then(res =&gt; res.json())\n        .then((data) =&gt; {\n            data.sort((a,b) =&gt; a.dateCreated.localeCompare(b.dateCreated));\nthis.setState({ contacts: data })\n.then(data =&gt; this.setState({ contacts: data }));\n\n\n        })\n        .catch(console.log)\n      }\n\n render() {\n\n    const Contacts = ({ contacts }) =&gt; {\n        return (\n        &lt;div class=\"table-container\"&gt;\n\n\n            &lt;table&gt;\n                &lt;thead&gt;\n                    &lt;tr class=\"table100-head\"&gt;\n                        &lt;th class=\"column1\" onClick={() =&gt; this.sortBy('dateCreated')}&gt;Date Created&lt;FontAwesomeIcon aria-hidden=\"true\" icon={faSort}/&gt;&lt;/th&gt;\n                        &lt;th class=\"column2\" onClick={() =&gt; this.sortBy('agencyEmail')}&gt;Agency Email&lt;FontAwesomeIcon aria-hidden=\"true\" icon={faSort}/&gt;&lt;/th&gt;\n                        &lt;th class=\"column3\" onClick={() =&gt; this.sortBy('messageT')}&gt;Message Type&lt;FontAwesomeIcon aria-hidden=\"true\" icon={faSort}/&gt;&lt;/th&gt;\n                        &lt;th class=\"column4\"&gt;Message&lt;/th&gt;\n                    &lt;/tr&gt;\n                &lt;/thead&gt;\n\n                &lt;tbody&gt;\n                    {contacts.map((contact) =&gt; (\n\n                    &lt;tr&gt;\n                        &lt;td class=\"column1\"&gt;{contact.dateCreated}&lt;/td&gt;\n                        &lt;td class=\"column2\"&gt;{contact.agencyEmail}&lt;/td&gt;\n                        &lt;td class=\"column3\"&gt;{contact.messageT}&lt;/td&gt;\n                        &lt;td class=\"column4\"&gt;{contact.message}&lt;/td&gt;\n                    &lt;/tr&gt;\n                    ))}\n\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n\n        &lt;/div&gt;\n        )\n      };\n\n  }\n}\n\n\nThis is the result i'm getting from my code\n\n&gt;01/12/2019\n\n&gt;01/13/2018 \n\n&gt;02/22/2019\n\n&gt;06/30/2019 \n\n&gt;07/17/2019\n\n&gt;10/02/2019 \n\n&gt;11/01/2019\n\n\nbut I'm expecting\n\n&gt;01/12/2019 \n\n&gt;02/22/2019\n\n&gt;06/30/2019 \n\n&gt;07/17/2019\n\n&gt;10/02/2019 \n\n&gt;11/01/2019\n\n&gt;01/13/2018 \n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "css", "wordpress"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 12021750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/035404103460a566d80b7227ea57a512?s=128&d=identicon&r=PG&f=1", "display_name": "labilouser", "link": "https://stackoverflow.com/users/12021750/labilouser"}, "edited": false, "score": 0, "creation_date": 1567631983, "post_id": 57795107, "comment_id": 102024649, "body": "Of course that was missing, because I&#39;m a rookie, I make rookie mistakes. Thanks a lot"}, {"owner": {"reputation": 836, "user_id": 10241361, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sy63GHux1JQ/AAAAAAAAAAI/AAAAAAAAACQ/wp3XcrL1XmQ/photo.jpg?sz=128", "display_name": "Joe Fitzsimmons", "link": "https://stackoverflow.com/users/10241361/joe-fitzsimmons"}, "reply_to_user": {"reputation": 75, "user_id": 12021750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/035404103460a566d80b7227ea57a512?s=128&d=identicon&r=PG&f=1", "display_name": "labilouser", "link": "https://stackoverflow.com/users/12021750/labilouser"}, "edited": false, "score": 0, "creation_date": 1567632268, "post_id": 57795107, "comment_id": 102024735, "body": "@labilouser Not a biggie.  It happens."}, {"owner": {"reputation": 75, "user_id": 12021750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/035404103460a566d80b7227ea57a512?s=128&d=identicon&r=PG&f=1", "display_name": "labilouser", "link": "https://stackoverflow.com/users/12021750/labilouser"}, "edited": false, "score": 1, "creation_date": 1567633275, "post_id": 57795107, "comment_id": 102025055, "body": "later edit:  so managed to insert it in WordPress as well, loaded jQ library in html an works like a charm. thanks again"}, {"owner": {"reputation": 836, "user_id": 10241361, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sy63GHux1JQ/AAAAAAAAAAI/AAAAAAAAACQ/wp3XcrL1XmQ/photo.jpg?sz=128", "display_name": "Joe Fitzsimmons", "link": "https://stackoverflow.com/users/10241361/joe-fitzsimmons"}, "reply_to_user": {"reputation": 75, "user_id": 12021750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/035404103460a566d80b7227ea57a512?s=128&d=identicon&r=PG&f=1", "display_name": "labilouser", "link": "https://stackoverflow.com/users/12021750/labilouser"}, "edited": false, "score": 1, "creation_date": 1567637604, "post_id": 57795107, "comment_id": 102025986, "body": "@labilouser No problem. Can you mark it as answered or add your own answer in case someone stumbles across this in the future?"}], "tags": [], "owner": {"reputation": 836, "user_id": 10241361, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sy63GHux1JQ/AAAAAAAAAAI/AAAAAAAAACQ/wp3XcrL1XmQ/photo.jpg?sz=128", "display_name": "Joe Fitzsimmons", "link": "https://stackoverflow.com/users/10241361/joe-fitzsimmons"}, "is_accepted": true, "score": 0, "last_activity_date": 1567628189, "last_edit_date": 1567628189, "creation_date": 1567627582, "answer_id": 57795107, "question_id": 57795079, "link": "https://stackoverflow.com/questions/57795079/fading-texticon-when-scrolling-down-appears-while-again-on-top/57795107#57795107", "title": "Fading text+icon when scrolling down. Appears while again on top", "body": "<p>I just added the inital classes to both elements:</p>\n\n<p><a href=\"https://jsfiddle.net/4e2cafju/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/4e2cafju/</a></p>\n\n<pre><code>&lt;div id=\"button\" class=\"show\"&gt;&lt;/div&gt;\n&lt;div id=\"scrolltxt\" class=\"showx\"&gt;scroll down&lt;/div&gt;\n</code></pre>\n\n<p>for 2:</p>\n\n<p>You should be able to put these elements directly into a template.  You should be able to add the css to the style sheet.  And you could lnk to an external JS file.  That would probably be best practice.  You could also put all the code into a single page.  I'm not sure how your wordpress install / theme is set up.</p>\n"}], "owner": {"reputation": 75, "user_id": 12021750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/035404103460a566d80b7227ea57a512?s=128&d=identicon&r=PG&f=1", "display_name": "labilouser", "link": "https://stackoverflow.com/users/12021750/labilouser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 57795107, "answer_count": 1, "score": 1, "last_activity_date": 1567628189, "creation_date": 1567627087, "last_edit_date": 1567627276, "question_id": 57795079, "link": "https://stackoverflow.com/questions/57795079/fading-texticon-when-scrolling-down-appears-while-again-on-top", "title": "Fading text+icon when scrolling down. Appears while again on top", "body": "<p>I'm trying to create some sort of info \"Scroll Down\" button (not clickable) which has to be visible while scroll bar is up on top, fade out when scroll down a few pixels and fade back in when up again. </p>\n\n<p>So far I was able to create the arrow and the message so far as well as the fading part. </p>\n\n<p>Here is a fiddle: <a href=\"https://jsfiddle.net/8b3jL7r0/1/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/8b3jL7r0/1/</a> </p>\n\n<pre><code>var btn = $(\"#button\");\n\n$(window).scroll(function() {\n  if ($(window).scrollTop() &lt; 100) {\n    btn.addClass(\"show\");\n  } else {\n    btn.removeClass(\"show\");\n  }\n});\n\nvar btn2 = $(\"#scrolltxt\");\n\n$(window).scroll(function() {\n  if ($(window).scrollTop() &lt; 100) {\n    btn2.addClass(\"showx\");\n  } else {\n    btn2.removeClass(\"showx\");\n  }\n});\n</code></pre>\n\n<ol>\n<li><p>The problem with is that the arrow and the info text 'Scroll Down' does not appear right from the beginning, you have to scroll down a bit so they appear on top and then everything works smooth. Any clue how to make them visible right from the first load of the code? </p></li>\n<li><p>Any idea how could I transfer all this code into one single code module in WordPress and have it work exactly like in the fiddle ? Because I've tried to insert it but it seems to not work at all, nothing appears on the page, not the arrow nor the info text.</p></li>\n</ol>\n"}, {"tags": ["javascript", "php", "html"], "comments": [{"owner": {"reputation": 6615, "user_id": 1303868, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6bc2ad4c62572ad8df0b54d91e17617f?s=128&d=identicon&r=PG", "display_name": "ficuscr", "link": "https://stackoverflow.com/users/1303868/ficuscr"}, "edited": false, "score": 5, "creation_date": 1567627600, "post_id": 57795078, "comment_id": 102023284, "body": "You are already in PHP doing string concatenation. <code>onclick=&quot;openmymodel(&#39;.$value[&#39;id&#39;].&#39;&lt;?php &#39;.$value[&#39;co_name&#39;].&#39; ?&gt;</code> should be <code>onclick=&quot;openmymodel(&#39; . $value[&#39;id&#39;] . $value[&#39;co_name&#39;] . &#39;...</code>"}, {"owner": {"reputation": 21, "user_id": 11759444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/016d81d599212fee8cbdd78c79cb41a1?s=128&d=identicon&r=PG&f=1", "display_name": "Walid", "link": "https://stackoverflow.com/users/11759444/walid"}, "reply_to_user": {"reputation": 6615, "user_id": 1303868, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6bc2ad4c62572ad8df0b54d91e17617f?s=128&d=identicon&r=PG", "display_name": "ficuscr", "link": "https://stackoverflow.com/users/1303868/ficuscr"}, "edited": false, "score": 0, "creation_date": 1567628299, "post_id": 57795078, "comment_id": 102023371, "body": "sorry but if i did as you said it gives this error, (Parse error: syntax error, unexpected &#39;.&#39; )"}, {"owner": {"reputation": 1282, "user_id": 2704089, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/n9zdR.jpg?s=128&g=1", "display_name": "dazed-and-confused", "link": "https://stackoverflow.com/users/2704089/dazed-and-confused"}, "edited": false, "score": 2, "creation_date": 1567628786, "post_id": 57795078, "comment_id": 102023527, "body": "@Walid While this may seem like semantics, HTML is written in PHP but PHP is not written in HTML. You are in PHP writing out HTML code. There is no need to use &lt;?php ?&gt; because you&#39;re already in PHP."}, {"owner": {"reputation": 855, "user_id": 4744568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125cdb7d43927756913b920de016f420?s=128&d=identicon&r=PG", "display_name": "pcalkins", "link": "https://stackoverflow.com/users/4744568/pcalkins"}, "edited": false, "score": 2, "creation_date": 1567629100, "post_id": 57795078, "comment_id": 102023649, "body": "using heredoc may help a bit.  You won&#39;t have to deal with the quote issue."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11759444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/016d81d599212fee8cbdd78c79cb41a1?s=128&d=identicon&r=PG&f=1", "display_name": "Walid", "link": "https://stackoverflow.com/users/11759444/walid"}, "edited": false, "score": 0, "creation_date": 1567628220, "post_id": 57795123, "comment_id": 102023346, "body": "sorry but i still have the same problem"}, {"owner": {"reputation": 1936, "user_id": 5568741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNja2.jpg?s=128&g=1", "display_name": "k3llydev", "link": "https://stackoverflow.com/users/5568741/k3llydev"}, "reply_to_user": {"reputation": 21, "user_id": 11759444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/016d81d599212fee8cbdd78c79cb41a1?s=128&d=identicon&r=PG&f=1", "display_name": "Walid", "link": "https://stackoverflow.com/users/11759444/walid"}, "edited": false, "score": 2, "creation_date": 1567628305, "post_id": 57795123, "comment_id": 102023373, "body": "@Walid Might another line outside the scope you provided be the issue? Or what error are you exactly getting after removing the previously mentioned error?"}, {"owner": {"reputation": 21, "user_id": 11759444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/016d81d599212fee8cbdd78c79cb41a1?s=128&d=identicon&r=PG&f=1", "display_name": "Walid", "link": "https://stackoverflow.com/users/11759444/walid"}, "edited": false, "score": 0, "creation_date": 1567628650, "post_id": 57795123, "comment_id": 102023472, "body": "The problem is im writing php inside html inside php so so i have to use this tag [ &#39;.$value[&#39;id&#39;].&#39; ]  so the html is not reading this &#39; &#39;"}, {"owner": {"reputation": 21, "user_id": 11759444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/016d81d599212fee8cbdd78c79cb41a1?s=128&d=identicon&r=PG&f=1", "display_name": "Walid", "link": "https://stackoverflow.com/users/11759444/walid"}, "edited": false, "score": 0, "creation_date": 1567628855, "post_id": 57795123, "comment_id": 102023554, "body": "the error is that (1, star, star).... i have to get something like that (1, &#39;star&#39; , &#39;star&#39;)"}, {"owner": {"reputation": 1282, "user_id": 2704089, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/n9zdR.jpg?s=128&g=1", "display_name": "dazed-and-confused", "link": "https://stackoverflow.com/users/2704089/dazed-and-confused"}, "edited": false, "score": 1, "creation_date": 1567628897, "post_id": 57795123, "comment_id": 102023565, "body": "@k3llydev <code>$value[&#39;co_name&#39;]</code> and <code>$value[&#39;eco_name&#39;]</code> will probably need to get wrapped in quotes as well for their values to properly be passed into <code>openmymodel</code>"}, {"owner": {"reputation": 1936, "user_id": 5568741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNja2.jpg?s=128&g=1", "display_name": "k3llydev", "link": "https://stackoverflow.com/users/5568741/k3llydev"}, "reply_to_user": {"reputation": 21, "user_id": 11759444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/016d81d599212fee8cbdd78c79cb41a1?s=128&d=identicon&r=PG&f=1", "display_name": "Walid", "link": "https://stackoverflow.com/users/11759444/walid"}, "edited": false, "score": 1, "creation_date": 1567628910, "post_id": 57795123, "comment_id": 102023574, "body": "@Walid You can try: <code>\\&#39;&#39;.$value[&#39;co_name&#39;].&#39;\\&#39;</code>. This will escape one quote so PHP doesn&#39;t misunderstand. I edited my answer fixing this."}, {"owner": {"reputation": 6615, "user_id": 1303868, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6bc2ad4c62572ad8df0b54d91e17617f?s=128&d=identicon&r=PG", "display_name": "ficuscr", "link": "https://stackoverflow.com/users/1303868/ficuscr"}, "edited": false, "score": 1, "creation_date": 1567628920, "post_id": 57795123, "comment_id": 102023579, "body": "Yeah, just missing quotes. If you are not using some IDE or something with syntax highlighting it is very easy to get lost when writing these. Break it out, start small, combine. Read up on <a href=\"https://www.php.net/manual/en/language.types.string.php\" rel=\"nofollow noreferrer\">topic</a>. Lots of ways to go about it, some much more readable than others.... eg. <code>&quot;is &#39;{$nice}&#39;&quot;</code>"}, {"owner": {"reputation": 21, "user_id": 11759444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/016d81d599212fee8cbdd78c79cb41a1?s=128&d=identicon&r=PG&f=1", "display_name": "Walid", "link": "https://stackoverflow.com/users/11759444/walid"}, "edited": false, "score": 0, "creation_date": 1567629167, "post_id": 57795123, "comment_id": 102023669, "body": "@k3llydev  Thank you very much \\&#39;&#39;.$value[&#39;co_name&#39;].&#39;\\&#39;  worked well"}, {"owner": {"reputation": 1936, "user_id": 5568741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNja2.jpg?s=128&g=1", "display_name": "k3llydev", "link": "https://stackoverflow.com/users/5568741/k3llydev"}, "reply_to_user": {"reputation": 21, "user_id": 11759444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/016d81d599212fee8cbdd78c79cb41a1?s=128&d=identicon&r=PG&f=1", "display_name": "Walid", "link": "https://stackoverflow.com/users/11759444/walid"}, "edited": false, "score": 0, "creation_date": 1567629338, "post_id": 57795123, "comment_id": 102023736, "body": "@Walid Always glad to help. I would recommend reading <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>. Happy coding!"}], "tags": [], "owner": {"reputation": 1936, "user_id": 5568741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VNja2.jpg?s=128&g=1", "display_name": "k3llydev", "link": "https://stackoverflow.com/users/5568741/k3llydev"}, "is_accepted": true, "score": 3, "last_activity_date": 1567629016, "last_edit_date": 1567629016, "creation_date": 1567627820, "answer_id": 57795123, "question_id": 57795078, "link": "https://stackoverflow.com/questions/57795078/html-is-reading-php-tag/57795123#57795123", "title": "html is reading php tag", "body": "<p>That is because your delimiter is a <code>'</code>, not a <code>&lt;?php</code> tag which is actually what you are using.</p>\n\n<p>If you pay some attention to the syntax highlighter, you can see that <code>&lt;?php</code> is in the same color as the rest of the string. </p>\n\n<blockquote>\n  <p><em>That means it is not being detected as a sentence.</em></p>\n</blockquote>\n\n<pre class=\"lang-php prettyprint-override\"><code>while($value = mysqli_fetch_array($result33))\n {\n   $output .=\n    '\n      &lt;tr&gt;\n      &lt;td&gt;\n       '.$value['co_name'].'\n      &lt;/td&gt;\n      &lt;td&gt;\n       &lt;div class=\"hidden-sm hidden-xs btn-group\"&gt;\n\n       &lt;button class=\"btn btn-xs btn-info\" \n         onclick=\"openmymodel(\n           '.$value['id'].', \n           \\''.$value['co_name'].'\\', \n           \\''.$value['eco_name'].'\\')\"&gt;\n        &lt;i class=\"ace-icon fa fa-pencil bigger-120\"&gt;&lt;/i&gt;\n       &lt;/button&gt;\n\n       &lt;button class=\"btn btn-xs btn-danger\" \n          onclick=\"confirm_modal('.$value['id'].')\"&gt;\n         &lt;i class=\"ace-icon fa fa-trash-o bigger-120\"&gt;&lt;/i&gt;\n       &lt;/button&gt;\n      &lt;/div&gt;\n     &lt;/td&gt;\n   &lt;/tr&gt;\n    ';\n   }\n</code></pre>\n\n<blockquote>\n  <p>Notice by yourself how the syntax highlight now changes.</p>\n</blockquote>\n"}], "owner": {"reputation": 21, "user_id": 11759444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/016d81d599212fee8cbdd78c79cb41a1?s=128&d=identicon&r=PG&f=1", "display_name": "Walid", "link": "https://stackoverflow.com/users/11759444/walid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 57795123, "answer_count": 1, "score": -2, "last_activity_date": 1567629016, "creation_date": 1567627084, "question_id": 57795078, "link": "https://stackoverflow.com/questions/57795078/html-is-reading-php-tag", "title": "html is reading php tag", "body": "<p>how to write php code in html, the html is reading the php tag</p>\n\n<pre><code>while($value = mysqli_fetch_array($result33))\n {\n   $output .=\n    '\n      &lt;tr&gt;\n      &lt;td&gt;\n       '.$value['co_name'].'\n      &lt;/td&gt;\n      &lt;td&gt;\n       &lt;div class=\"hidden-sm hidden-xs btn-group\"&gt;\n\n       &lt;button class=\"btn btn-xs btn-info\" \n         onclick=\"openmymodel('.$value['id'].', \n           &lt;?php '.$value['co_name'].' ?&gt;, &lt;?php \n           '.$value['eco_name'].' ?&gt;)\"&gt;\n        &lt;i class=\"ace-icon fa fa-pencil bigger-120\"&gt;&lt;/i&gt;\n       &lt;/button&gt;\n\n       &lt;button class=\"btn btn-xs btn-danger\" \n          onclick=\"confirm_modal('.$value['id'].')\"&gt;\n         &lt;i class=\"ace-icon fa fa-trash-o bigger-120\"&gt;&lt;/i&gt;\n       &lt;/button&gt;\n      &lt;/div&gt;\n     &lt;/td&gt;\n   &lt;/tr&gt;\n    ';\n   }\n</code></pre>\n\n<p>the problem is html is reading the php tag inside the \"openmymodel function\"</p>\n"}, {"tags": ["javascript", "arrays", "object"], "comments": [{"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1567627309, "post_id": 57795077, "comment_id": 102023261, "body": "<code>=</code> should be <code>==</code> or <code>===</code>"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 12015320, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ydDN4NXuG94/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcciHHvk1LhwWyQlxSpHvhwaK_9Sw/photo.jpg?sz=128", "display_name": "Gon&#231;alo Malveiro", "link": "https://stackoverflow.com/users/12015320/gon%c3%a7alo-malveiro"}, "edited": false, "score": 0, "creation_date": 1567686120, "post_id": 57795125, "comment_id": 102042426, "body": "Solved! Thanks!"}], "tags": [], "owner": {"reputation": 163, "user_id": 11761417, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-K3vqf_Zb154/AAAAAAAAAAI/AAAAAAAAAJE/v9cfjwtfG_4/photo.jpg?sz=128", "display_name": "RedFox", "link": "https://stackoverflow.com/users/11761417/redfox"}, "is_accepted": false, "score": 0, "last_activity_date": 1567628210, "last_edit_date": 1567628210, "creation_date": 1567627827, "answer_id": 57795125, "question_id": 57795077, "link": "https://stackoverflow.com/questions/57795077/define-function-with-object-as-argument/57795125#57795125", "title": "define function with object as argument", "body": "<p>Try this, I didn't test it but it should work.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function checkProperty(someObj) {\n  if(someObj.isForSale){\n    console.log(`The owner, ${someObj.owner.firstName} ${someObj.owner.lastName} put the home for sale! The property has ${someObj.amenities.length} amenities`);\n  }\n  else {\n    console.log(`The home in ${someObj.address.street} on ${someObj.address.number} is not for sale`);\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 12010613, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCuJPyZ6-8IVTNQuGaAhWuKvOh03s86SkxKl1mUuw=k-s128", "display_name": "brayanarrieta", "link": "https://stackoverflow.com/users/12010613/brayanarrieta"}, "is_accepted": true, "score": 0, "last_activity_date": 1567629812, "creation_date": 1567629812, "answer_id": 57795394, "question_id": 57795077, "link": "https://stackoverflow.com/questions/57795077/define-function-with-object-as-argument/57795394#57795394", "title": "define function with object as argument", "body": "<p>Hello I think that maybe this can be a nice solution.</p>\n\n<pre><code>// object\nlet property = {\n  owner: {\n    firstName: \"John\",\n    lastName: \"Doe\",\n    age: 44\n  },\n  isForSale: true,\n  sqrm: 120,\n  address: {\n    street: \"Happy St\",\n    number: 123,\n    city: \"Miami\",\n    state: \"FL\",\n    country: \"US\"\n  },\n  amenities: [\"pool\", \"tennis court\", \"private parking\", \"yard\"]\n}\n</code></pre>\n\n<pre><code>//function\n\nfunction checkProperty(obj){\n  if(obj.isForSale){\n    const {\n      owner:{firstName,lastName},\n      amenities\n    }=obj;\n    console.log(`The owner, ${firstName} ${lastName} put the home for sale! The property has ${amenities.length} amenities`);\n  }\n  else {\n    const {\n      address:{street,number},\n    }=obj;\n    console.log(`The home in ${street} on ${number} is not for sale`);\n  }\n}\n\ncheckProperty(property);\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 12015320, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ydDN4NXuG94/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcciHHvk1LhwWyQlxSpHvhwaK_9Sw/photo.jpg?sz=128", "display_name": "Gon&#231;alo Malveiro", "link": "https://stackoverflow.com/users/12015320/gon%c3%a7alo-malveiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 57795394, "answer_count": 2, "score": 0, "last_activity_date": 1567629812, "creation_date": 1567627083, "question_id": 57795077, "link": "https://stackoverflow.com/questions/57795077/define-function-with-object-as-argument", "title": "define function with object as argument", "body": "<p>I need to define a function checkProperty() that will use an object passed as an argument to print the output in the console on CodePen.</p>\n\n<p>The output: if the property isForSale equals to true, the expected output to the console should be: The owner, John Doe put the home for sale! The property has 4 amenities.. In the other case, we should see the following: The home in Happy St no. 123 is not for sale.</p>\n\n<p>Thanks in advance.</p>\n\n<p>The object:</p>\n\n<pre><code>let property = {\n  owner: {\n    firstName: \"John\",\n    lastName: \"Doe\",\n    age: 44\n  },\n  isForSale: true,\n  sqrm: 120,\n  address: {\n    street: \"Happy St\",\n    number: 123,\n    city: \"Miami\",\n    state: \"FL\",\n    country: \"US\"\n  },\n  amenities: [\"pool\", \"tennis court\", \"private parking\", \"yard\"]\n}\n</code></pre>\n\n<p>What I have done:</p>\n\n<pre><code>checkProperty (someObj) {\n  if(someObj.isForSale=true){\n    console.log(`The owner, ${someObj.owner.firstName} ${someObj.owner.lastName} put the home for sale! The property has ${someObj.amenities.length} amenities`);\n  }\n  else {\n    console.log(`The home is not for sale`);\n  }\n}\n\n\nlet property = {\n  owner: {\n    firstName: \"John\",\n    lastName: \"Doe\",\n    age: 44\n  },\n  isForSale: true,\n  sqrm: 120,\n  address: {\n    street: \"Happy St\",\n    number: 123,\n    city: \"Miami\",\n    state: \"FL\",\n    country: \"US\"\n  },\n  amenities: [\"pool\", \"tennis court\", \"private parking\", \"yard\"]\n}\n\ncheckProperty(property)\n\n</code></pre>\n"}, {"tags": ["javascript", "angular", "parsing", "etw"], "comments": [{"owner": {"reputation": 235, "user_id": 8624988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3qla.jpg?s=128&g=1", "display_name": "tonjohn", "link": "https://stackoverflow.com/users/8624988/tonjohn"}, "edited": false, "score": 0, "creation_date": 1567703773, "post_id": 57795072, "comment_id": 102051922, "body": "It&#39;s unclear what was unclear about my original post XD  It would be great if people who voted to close this left a comment regarding what was unclear. Regardless, I&#39;ve updated the question per the guidelines."}], "answers": [{"tags": [], "owner": {"reputation": 4163, "user_id": 1057767, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/9vJI5.png?s=128&g=1", "display_name": "mtkachenko", "link": "https://stackoverflow.com/users/1057767/mtkachenko"}, "is_accepted": true, "score": 1, "last_activity_date": 1568886177, "creation_date": 1568886177, "answer_id": 58008154, "question_id": 57795072, "link": "https://stackoverflow.com/questions/57795072/how-to-parse-microsoft-event-trace-log-files-in-javascript/58008154#58008154", "title": "How to parse Microsoft Event Trace Log files in javascript", "body": "<p>I think it's a wrong way to do it. You should:</p>\n\n<ol>\n<li>define text or json format for files which could be handled by your app in offline mode</li>\n<li>create public command line tool to convert any file (etl in your case) to your text/json format</li>\n</ol>\n\n<p>Please check <a href=\"https://github.com/jlfwong/speedscope\" rel=\"nofollow noreferrer\">speedscope app</a> and read this awesome <a href=\"https://adamsitnik.com/speedscope/\" rel=\"nofollow noreferrer\">article from Adam Sitnik \"Profiling .NET Code with PerfView and visualizing it with speedscope.app\"</a></p>\n"}], "owner": {"reputation": 235, "user_id": 8624988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3qla.jpg?s=128&g=1", "display_name": "tonjohn", "link": "https://stackoverflow.com/users/8624988/tonjohn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "accepted_answer_id": 58008154, "answer_count": 1, "score": -2, "last_activity_date": 1568886177, "creation_date": 1567627042, "last_edit_date": 1567702748, "question_id": 57795072, "link": "https://stackoverflow.com/questions/57795072/how-to-parse-microsoft-event-trace-log-files-in-javascript", "title": "How to parse Microsoft Event Trace Log files in javascript", "body": "<p><strong>How can I decode and parse an ETW log file in Javascript?</strong></p>\n\n<p>I found a few related NPM packages (<a href=\"https://www.npmjs.com/package/windows-event-reader\" rel=\"nofollow noreferrer\">windows-event-reader</a>, <a href=\"https://www.npmjs.com/package/win-getevent\" rel=\"nofollow noreferrer\">win-getevent</a>) but they are Node wrappers for the <code>Get-WinEvent</code> Powershell command. As my tool runs exclusively in the browser, those aren't an option for me.</p>\n\n<h2>Scenario</h2>\n\n<ul>\n<li>We have kernel level components that log via <a href=\"https://docs.microsoft.com/en-us/windows-hardware/test/weg/instrumenting-your-code-with-etw\" rel=\"nofollow noreferrer\">ETW</a> and generate <a href=\"https://fileinfo.com/extension/etl\" rel=\"nofollow noreferrer\">.ETL files</a>.</li>\n<li>We have a log search tool written in Angular 7 / Javascript. </li>\n<li>The log search tool supports \"offline\" mode and is able to parse user mode logs that are drag-and-dropped into the browser window.</li>\n<li>The log search tool needs to also support ETL files in 'offline' mode.</li>\n<li>As ETL files are encoded and not plain text, I need help figuring out how to decode these files using only Javascript.</li>\n</ul>\n"}, {"tags": ["javascript", "jasmine", "jestjs", "ecmascript-5"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11996556, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZRKm0WKWiHc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcaPNTaUELbl24Pw17WTFru0_JTCQ/photo.jpg?sz=128", "display_name": "scherera", "link": "https://stackoverflow.com/users/11996556/scherera"}, "edited": false, "score": 0, "creation_date": 1567699073, "post_id": 57808820, "comment_id": 102049950, "body": "Yes, such an approach woud lead to code which can be tested more easily. But the problem that no functions are exported remains: We can&#39;t call <code>function setSuccessAttribute(model)</code> from the test.   I&#39;m currently thinking about just using the module.exports/require system so we can call all functions in our tests. If PortalScript can&#39;t handle those export statements (I need to verify that), maybe we can write a little script which removes all such export statements before the deployment."}], "tags": [], "owner": {"reputation": 2263, "user_id": 863311, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3731c7120e30182ebf4f3fbb8609468a?s=128&d=identicon&r=PG", "display_name": "Simon", "link": "https://stackoverflow.com/users/863311/simon"}, "is_accepted": false, "score": 0, "last_activity_date": 1567697765, "creation_date": 1567697765, "answer_id": 57808820, "question_id": 57795001, "link": "https://stackoverflow.com/questions/57795001/how-to-export-functions-for-unit-tests-in-portalscript-ecmascript5/57808820#57808820", "title": "How to export functions for unit tests in PortalScript (ECMAScript5)", "body": "<p>I assume PortalScript will eventually wrap the embedded script in its own function and call that. I'd also assume that for testing purposes, you don't want to execute the entire embedded script function. These two conditions seem mutually exclusive.</p>\n\n<p>Would it be an option to separate the logic into two files, one defining the business logic in small, testable functions, and one file including the former and then just calling main()</p>\n\n<p>myFctLib.js:</p>\n\n<pre><code>// #import \"someOtherFctLib\"\nfunction setSuccessAttribute(model) {\n    if (!model) {\n        return -1;\n    }\n    model.setAttribute(\"$fieldId\", \"SUCCESS\");\n    return 0;\n}\n</code></pre>\n\n<p>myPortalScriptFile.js</p>\n\n<pre><code>// #import \"myFctLib\"\nreturn setSuccessAttribute(given_context.model);\n</code></pre>\n\n<p>You'd then only test myFctLib.js, which still leaves room for errors in myPortalScriptFile.js, but that room should be fairly small.</p>\n"}], "owner": {"reputation": 11, "user_id": 11996556, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZRKm0WKWiHc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcaPNTaUELbl24Pw17WTFru0_JTCQ/photo.jpg?sz=128", "display_name": "scherera", "link": "https://stackoverflow.com/users/11996556/scherera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1567708151, "creation_date": 1567626664, "last_edit_date": 1567708151, "question_id": 57795001, "link": "https://stackoverflow.com/questions/57795001/how-to-export-functions-for-unit-tests-in-portalscript-ecmascript5", "title": "How to export functions for unit tests in PortalScript (ECMAScript5)", "body": "<p>We have an application server supporting an embedded server side scripting language called PortalScript (SpiderMonkey V1.8.5), which is compliant to the ECMA-Script-262 Edition 5 (ECMAScript5) specification. The Portalserver supports numerous so-called scripting hooks and event hooks, which allow to embed our scripts. These attached scripts implement our business logic which I want to test e.g. with Jasmine, Jest, etc.</p>\n\n<p>The first problem is that return statements at the end of the scripts are mandatory, and these return statements are not within functions. A minimal example could look like this:</p>\n\n<pre><code>// #import \"myFctLib\"\n\nvar currentModel = given_context.model;\nif (!currentModel) {\n    return -1;\n}\ncurrentModel.setAttribute(\"$fieldId\", \"SUCCESS\");\nreturn 0;\n</code></pre>\n\n<p>These scripts can be quite large. So if we extract functions (within a script) to just test them, how could we call these functions from the tests? How can we export functions compliant to PortalScript? Does someone know if it's possible to use the CommonJS module system with PortalScript?</p>\n\n<p>Currently we don't use a module system but a precompiler to replace code for statements like <code>// #import \"myFctLib\"</code> (see first line in the example code) in the scripts to use functions from other scripts...</p>\n\n<p>In such a context, how would you write (unit) tests? How would your approach look like?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 6091, "user_id": 933198, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/25a22103fd3210fdfa142843c7777ff1?s=128&d=identicon&r=PG", "display_name": "Lee Taylor", "link": "https://stackoverflow.com/users/933198/lee-taylor"}, "edited": false, "score": 0, "creation_date": 1567626929, "post_id": 57794960, "comment_id": 102023149, "body": "Why do you need to know how many people are attending? What&#39;s the point of the checkboxes?"}, {"owner": {"reputation": 67, "user_id": 10431055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/911e177e9a0a061ca1bb2bfe818c301b?s=128&d=identicon&r=PG&f=1", "display_name": "Sugma", "link": "https://stackoverflow.com/users/10431055/sugma"}, "reply_to_user": {"reputation": 6091, "user_id": 933198, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/25a22103fd3210fdfa142843c7777ff1?s=128&d=identicon&r=PG", "display_name": "Lee Taylor", "link": "https://stackoverflow.com/users/933198/lee-taylor"}, "edited": false, "score": 0, "creation_date": 1567627094, "post_id": 57794960, "comment_id": 102023205, "body": "@LeeTaylor The number of person must match with the quantity of meal. The checkboxes are there to choose their meal options. Some are vegetarian and some non-vegetarian"}, {"owner": {"reputation": 1143, "user_id": 3903479, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yVZsk.png?s=128&g=1", "display_name": "GammaGames", "link": "https://stackoverflow.com/users/3903479/gammagames"}, "edited": false, "score": 0, "creation_date": 1567627391, "post_id": 57794960, "comment_id": 102023266, "body": "You could also auto-fill the other meal with the remainder when filling out one input. You could also use a slider with the total as the set-max"}, {"owner": {"reputation": 6091, "user_id": 933198, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/25a22103fd3210fdfa142843c7777ff1?s=128&d=identicon&r=PG", "display_name": "Lee Taylor", "link": "https://stackoverflow.com/users/933198/lee-taylor"}, "edited": false, "score": 0, "creation_date": 1567628273, "post_id": 57794960, "comment_id": 102023363, "body": "Why don&#39;t you just ask for how many vegetarian and non-vegetarian meals are needed? Do people order 0 meals, or 2 or more meals?"}, {"owner": {"reputation": 67, "user_id": 10431055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/911e177e9a0a061ca1bb2bfe818c301b?s=128&d=identicon&r=PG&f=1", "display_name": "Sugma", "link": "https://stackoverflow.com/users/10431055/sugma"}, "reply_to_user": {"reputation": 6091, "user_id": 933198, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/25a22103fd3210fdfa142843c7777ff1?s=128&d=identicon&r=PG", "display_name": "Lee Taylor", "link": "https://stackoverflow.com/users/933198/lee-taylor"}, "edited": false, "score": 0, "creation_date": 1567631554, "post_id": 57794960, "comment_id": 102024527, "body": "@LeeTaylor I want show the total number of people attending also. That&#39;s why. The value should match with the number of meals they select"}, {"owner": {"reputation": 6091, "user_id": 933198, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/25a22103fd3210fdfa142843c7777ff1?s=128&d=identicon&r=PG", "display_name": "Lee Taylor", "link": "https://stackoverflow.com/users/933198/lee-taylor"}, "edited": false, "score": 0, "creation_date": 1567632684, "post_id": 57794960, "comment_id": 102024873, "body": "@Sugma Please see my answer. Add comments to my answer if you need anything else added."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 10431055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/911e177e9a0a061ca1bb2bfe818c301b?s=128&d=identicon&r=PG&f=1", "display_name": "Sugma", "link": "https://stackoverflow.com/users/10431055/sugma"}, "edited": false, "score": 0, "creation_date": 1567673343, "post_id": 57795858, "comment_id": 102035390, "body": "This works good however is there a way I can set it so that the number of people attending is maximum 4 person only? Thank you very much"}], "tags": [], "owner": {"reputation": 6091, "user_id": 933198, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/25a22103fd3210fdfa142843c7777ff1?s=128&d=identicon&r=PG", "display_name": "Lee Taylor", "link": "https://stackoverflow.com/users/933198/lee-taylor"}, "is_accepted": true, "score": 1, "last_activity_date": 1567692417, "last_edit_date": 1567692417, "creation_date": 1567632660, "answer_id": 57795858, "question_id": 57794960, "link": "https://stackoverflow.com/questions/57794960/matching-dropdown-quantity-and-calculating-total-price/57795858#57795858", "title": "Matching dropdown quantity and calculating total price", "body": "<ol>\n<li>Listen to the <code>change</code> event for both <code>input</code> controls. </li>\n<li>When they change, update the respective global variable (either <code>vegetarian</code> or <code>nonVegetarian</code> and then update the total meals and cost values.</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var vegetarian = 0;\r\nvar nonVegetarian = 0;\r\nvar cost = 0.00;\r\n\r\ndocument.querySelector('#veg').addEventListener('change', function(e)\r\n{\r\n  vegetarian = parseInt(document.querySelector('#veg').value, 10);\r\n  \r\n  if(vegetarian + nonVegetarian &gt; 4) // Make sure we never have more than 4 customers\r\n  {\r\n    nonVegetarian--;\r\n    document.querySelector('#nonveg').value = nonVegetarian;\r\n  }\r\n    \r\n  update();\r\n});\r\n\r\ndocument.querySelector('#nonveg').addEventListener('change', function(e)\r\n{\r\n  nonVegetarian = parseInt(document.querySelector('#nonveg').value, 10);\r\n  if(vegetarian + nonVegetarian &gt; 4) // Make sure we never have more than 4 customers\r\n  {\r\n    vegetarian--;\r\n    document.querySelector('#veg').value = vegetarian;\r\n  }\r\n  update();\r\n});\r\n\r\nvar update = function()\r\n{\r\n  document.querySelector('#attending').innerText = vegetarian + nonVegetarian;\r\n  document.querySelector('#cost').innerText = (vegetarian*5) + (nonVegetarian *10);\r\n};\r\n\r\nupdate();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form class=\"myForm\" onsubmit=\"return validate();\"&gt;\r\n  Meal Quantity Options: Vegetarian\r\n  &lt;input id=\"veg\" type=\"number\" min=\"0\" max=\"4\" value=\"0\" /&gt;&lt;br /&gt; \r\n  Non-Vegetarian\r\n  \r\n  &lt;input id=\"nonveg\" type=\"number\" min=\"0\" max=\"4\" value=\"0\" /&gt;&lt;br /&gt;\r\n  &lt;br /&gt;\r\n\r\n  &lt;br&gt; Number of people attending: &lt;span id=\"attending\"&gt;&lt;/span&gt;\r\n  &lt;br&gt; Cost : $&lt;span id=\"cost\"&gt;&lt;/span&gt;\r\n  &lt;br /&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 67, "user_id": 10431055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/911e177e9a0a061ca1bb2bfe818c301b?s=128&d=identicon&r=PG&f=1", "display_name": "Sugma", "link": "https://stackoverflow.com/users/10431055/sugma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 57795858, "answer_count": 1, "score": 0, "last_activity_date": 1567692417, "creation_date": 1567626468, "last_edit_date": 1567626816, "question_id": 57794960, "link": "https://stackoverflow.com/questions/57794960/matching-dropdown-quantity-and-calculating-total-price", "title": "Matching dropdown quantity and calculating total price", "body": "<p>I want to select the number of person attending and it must be matched with meal quantity. </p>\n\n<p>User must specify whether vegetarian meal or non-vegetarian. A veg meal costs $5 while a non-veg meal cost $10. For example, if there's 3 person attending with 2 vegetarian and 1 non-vegetarian, the total price of meal will be $20 total. Also the meal quantity options must have only 3 person in total. How do I do this in Javascript only? </p>\n\n<p>How do I display the final price also?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function validate() {\r\n  var dn = document.getElementById(\"dropDN\").value;\r\n  return false;\r\n}\r\n\r\nfunction showInput() {\r\n  document.getElementById('displaydn').innerHTML =\r\n    document.getElementById(\"dropDN\").value;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form class=\"myForm\" onsubmit=\"return validate();\"&gt;\r\n  Number of person attending:\r\n  &lt;select id=\"dropDN\"&gt;\r\n    &lt;option value=\"\"&gt;Select one&lt;/option&gt;\r\n    &lt;option value=\"One\"&gt;1&lt;/option&gt;\r\n    &lt;option value=\"Two\"&gt;2&lt;/option&gt;\r\n    &lt;option value=\"Three\"&gt;3&lt;/option&gt;\r\n    &lt;option value=\"Four\"&gt;4&lt;/option&gt;\r\n  &lt;/select&gt;\r\n  &lt;br /&gt;\r\n  &lt;br /&gt;Meal Quantity Options: Vegetarian\r\n  &lt;input type=\"checkbox\" onclick=\"\" name=\"\" id=\"veg\"&gt;\r\n  &lt;input type=\"number\" max=\"4\" /&gt;\r\n  &lt;br /&gt; Non-Vegetarian\r\n  &lt;input type=\"checkbox\" onclick=\"\" name=\"\" id=\"nonveg\"&gt;\r\n  &lt;input type=\"number\" max=\"4\" /&gt;\r\n  &lt;br /&gt;\r\n  &lt;br /&gt;\r\n\r\n  &lt;br /&gt;\r\n  &lt;input type=\"submit\" onclick=\"showInput()\"&gt;\r\n  &lt;br&gt;\r\n  &lt;br&gt; Number of person attending: &lt;span id=\"displaydn\"&gt; &lt;/span&gt;\r\n  &lt;br /&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "regex"], "comments": [{"owner": {"reputation": 32441, "user_id": 2324107, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EWs62.jpg?s=128&g=1", "display_name": "Karl-Andr&#233; Gagnon", "link": "https://stackoverflow.com/users/2324107/karl-andr%c3%a9-gagnon"}, "edited": false, "score": 0, "creation_date": 1567626339, "post_id": 57794901, "comment_id": 102022933, "body": "I&#39;m concerned about why you need to do this more than how to do it. I got the feeling that you are fixing the wrong problem."}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "reply_to_user": {"reputation": 32441, "user_id": 2324107, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EWs62.jpg?s=128&g=1", "display_name": "Karl-Andr&#233; Gagnon", "link": "https://stackoverflow.com/users/2324107/karl-andr%c3%a9-gagnon"}, "edited": false, "score": 0, "creation_date": 1567626484, "post_id": 57794901, "comment_id": 102022987, "body": "I receive this data from a third-party, I am trying to convert it to a valid json, and parse it, I am half way through by using <a href=\"https://github.com/RyanMarcus/dirty-json\" rel=\"nofollow noreferrer\">github.com/RyanMarcus/dirty-json</a>, but this library doesn&#39;t fix this case, so first I have to do clean up one level and then use it"}], "answers": [{"comments": [{"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "reply_to_user": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 0, "creation_date": 1567626884, "post_id": 57794984, "comment_id": 102023127, "body": "@Reza bear in mind this covers the general case, if the strings you have is always  going to be somewhat similar to what you have posted in question it will work, if you have any other edge case update your question will extend the regex :)"}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 0, "creation_date": 1567627151, "post_id": 57794984, "comment_id": 102023230, "body": "Thanks, I tried with my complex string and seems works correct"}], "tags": [], "owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "is_accepted": true, "score": 1, "last_activity_date": 1567626587, "creation_date": 1567626587, "answer_id": 57794984, "question_id": 57794901, "link": "https://stackoverflow.com/questions/57794901/how-to-find-and-replace-all-properties-proceeding-with-open-brace-with-no-colon/57794984#57794984", "title": "How to find and replace all properties proceeding with open brace with no colon in javascript using regex", "body": "<p>You can try something like this</p>\n\n<pre><code>(\\w+\\s*){\n</code></pre>\n\n<ul>\n<li><code>(\\w+\\s*)</code> - Word characters one or more, followed by zero or more space</li>\n<li><code>{</code> - Matches <code>{</code> </li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let str = `id: \\\"test\\\"\\nlang: \\\"en\\\"\\nresult1 {\\n  source: \\\"agent\\\"\\n},result2 : {\\n  source: \\\"agent\\\"\\n}`\r\n\r\nlet replaced = str.replace(/(\\w+\\s*){/g, \"$1: {\")\r\n\r\nconsole.log(replaced)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 57794984, "answer_count": 1, "score": -1, "last_activity_date": 1567626587, "creation_date": 1567626120, "question_id": 57794901, "link": "https://stackoverflow.com/questions/57794901/how-to-find-and-replace-all-properties-proceeding-with-open-brace-with-no-colon", "title": "How to find and replace all properties proceeding with open brace with no colon in javascript using regex", "body": "<p>I have this string in javascript</p>\n\n<p><code>id: \\\"test\\\"\\nlang: \\\"en\\\"\\nresult1 {\\n  source: \\\"agent\\\"\\n},result2 : {\\n  source: \\\"agent\\\"\\n}</code> </p>\n\n<p>I want to find all words (properties) who is proceeding with an <code>{</code> and doesn't have <code>:</code> in between, and replace it with <code>: {</code> using regex, for example in above string there are <code>result1</code> and <code>result2</code>,\nso I want only <code>result1</code> become <code>result1 :</code> and the final script will be like </p>\n\n<p><code>id: \\\"test\\\"\\nlang: \\\"en\\\"\\nresult1 : {\\n  source: \\\"agent\\\"\\n},result2 : {\\n  source: \\\"agent\\\"\\n}</code></p>\n"}, {"tags": ["javascript", "arrays"], "answers": [{"tags": [], "owner": {"reputation": 12415, "user_id": 544439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xfbSn.png?s=128&g=1", "display_name": "Josep", "link": "https://stackoverflow.com/users/544439/josep"}, "is_accepted": false, "score": 2, "last_activity_date": 1567626210, "last_edit_date": 1567626210, "creation_date": 1567625863, "answer_id": 57794858, "question_id": 57794781, "link": "https://stackoverflow.com/questions/57794781/javascript-check-for-duplicates-and-add-the-duplicate-ids/57794858#57794858", "title": "Javascript check for duplicates and add the duplicate id&#39;s", "body": "<p>You can do it like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const prod = [\r\n  {name:'Test1',vals:[12]},\r\n  {name:'Test1', vals:[14]},\r\n  {name:'Test2', vals:[19]}\r\n ]\r\n\r\n\r\nconst prodDictionary = prod.reduce(\r\n  (acc, {name, vals}) =&gt; {\r\n    if (acc[name] === undefined) {\r\n      acc[name] = [];\r\n    }\r\n    acc[name].push(...vals);\r\n    return acc;\r\n  },\r\n  {}\r\n);\r\n\r\nconst finalProd = Object.entries(prodDictionary)\r\n  .map((name, vals) =&gt; ({name, vals}));\r\n\r\nconsole.log(finalProd);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 15224, "user_id": 7328218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d338eadf83deb112f919f4c8a6052a?s=128&d=identicon&r=PG&f=1", "display_name": "Taki", "link": "https://stackoverflow.com/users/7328218/taki"}, "is_accepted": true, "score": 2, "last_activity_date": 1567625872, "creation_date": 1567625872, "answer_id": 57794861, "question_id": 57794781, "link": "https://stackoverflow.com/questions/57794781/javascript-check-for-duplicates-and-add-the-duplicate-ids/57794861#57794861", "title": "Javascript check for duplicates and add the duplicate id&#39;s", "body": "<p>Use <code>reduce</code> instead of <code>forEach</code>, look for the item in the accumulator, if it exists, combine the vals with the current element's, otherwise just push it to the accumulator :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const prod = [\r\n  {name:'Test1',vals:[12]},\r\n  {name:'Test1', vals:[14]},\r\n  {name:'Test2', vals:[19]}   \r\n ]\r\n\r\nconst finalprod = prod.reduce((acc, curr) =&gt; {\r\n  const ndx = acc.findIndex(e =&gt; e.name === curr.name);\r\n\r\n  if (ndx &gt; -1)\r\n    acc[ndx].vals = [...acc[ndx].vals, ...curr.vals];\r\n  else\r\n    acc.push(curr);\r\n\r\n  return acc;\r\n}, []);\r\n\r\nconsole.log(finalprod);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "is_accepted": false, "score": 1, "last_activity_date": 1567625909, "creation_date": 1567625909, "answer_id": 57794870, "question_id": 57794781, "link": "https://stackoverflow.com/questions/57794781/javascript-check-for-duplicates-and-add-the-duplicate-ids/57794870#57794870", "title": "Javascript check for duplicates and add the duplicate id&#39;s", "body": "<p>You can use <code>reduce</code> and <code>Map</code></p>\n\n<ul>\n<li>Loop over the array use <code>name</code> as key</li>\n<li>If the key is already present in <code>Map</code> update it's value by appending current value to it</li>\n<li>If not present add current value as initial value to <code>Map</code> with current key</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const prod = [{name:'Test1',vals:[12]},{name:'Test1', vals:[14]},{name:'Test2', vals:[19]}]\r\n\r\nlet final = prod.reduce((op,{name,vals}) =&gt; {\r\n  if(op.has(name)){\r\n    op.set(name, {name, val:op.get(name).vals.concat(vals) })\r\n  } else{\r\n    op.set(name, {name,vals} )\r\n  }\r\n  return op\r\n},new Map)\r\n\r\nconsole.log([...final.values()])</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "is_accepted": false, "score": 1, "last_activity_date": 1567626508, "last_edit_date": 1567626508, "creation_date": 1567626101, "answer_id": 57794899, "question_id": 57794781, "link": "https://stackoverflow.com/questions/57794781/javascript-check-for-duplicates-and-add-the-duplicate-ids/57794899#57794899", "title": "Javascript check for duplicates and add the duplicate id&#39;s", "body": "<p>You could use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\" rel=\"nofollow noreferrer\"><code>Array.reduce</code></a> to create a map of the names and their values, and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\"><code>Array.map</code></a> to transform it to your desired shape. Additional comments in code.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const prod = [{name:'Test1',vals:[12]},{name:'Test1', vals:[14]},{name:'Test2', vals:[19]}];\r\n \r\n//Combine the values into an object, e.g. { Test1: [12,14], Test2: [19] }\r\nconst hash = prod.reduce((out, {name,vals}) =&gt; ({  //for each item in array\r\n  ...out,                                          //append to existing map\r\n  [name]: (out[name] || []).concat(vals)           //combine like names\r\n}), {});\r\n\r\n//Transform above obj into the desired shape\r\nconst result = Object.keys(hash).map(key =&gt; ({     //for each key\r\n  name: key,                                       //set \"name\" to the key name\r\n  vals: hash[key]                                  //and \"vals\" to the associated value\r\n}));\r\n  \r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 18090, "user_id": 3337080, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Pr8Qu.png?s=128&g=1", "display_name": "Orelsanpls", "link": "https://stackoverflow.com/users/3337080/orelsanpls"}, "is_accepted": false, "score": 1, "last_activity_date": 1567626137, "creation_date": 1567626137, "answer_id": 57794907, "question_id": 57794781, "link": "https://stackoverflow.com/questions/57794781/javascript-check-for-duplicates-and-add-the-duplicate-ids/57794907#57794907", "title": "Javascript check for duplicates and add the duplicate id&#39;s", "body": "<p>You could create an object to merge the names values and then turn it into your desired array</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const prod = [{\r\n    name: 'Test1',\r\n    vals: [12]\r\n  },\r\n  {\r\n    name: 'Test1',\r\n    vals: [14]\r\n  },\r\n  {\r\n    name: 'Test2',\r\n    vals: [19]\r\n  },\r\n];\r\n\r\nconst ret = Object.entries(prod.reduce((tmp, x) =&gt; {\r\n  tmp[x.name] = (tmp[x.name] || []).concat(x.vals);\r\n\r\n  return tmp;\r\n}, {})).map(([x, y]) =&gt; ({\r\n  name: x,\r\n  vals: y,\r\n}));\r\n\r\nconsole.log(ret);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 4424, "user_id": 5540863, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fe63b9c0ffe7aa8836dbc98c2dcf8e37?s=128&d=identicon&r=PG&f=1", "display_name": "Geoff", "link": "https://stackoverflow.com/users/5540863/geoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 57794861, "answer_count": 5, "score": 2, "last_activity_date": 1567626782, "creation_date": 1567625544, "last_edit_date": 1567625770, "question_id": 57794781, "link": "https://stackoverflow.com/questions/57794781/javascript-check-for-duplicates-and-add-the-duplicate-ids", "title": "Javascript check for duplicates and add the duplicate id&#39;s", "body": "<p>I have the following arrays</p>\n\n<pre><code>const prod = [\n  {name:'Test1',vals:[12]},\n  {name:'Test1', vals:[14]},\n  {name:'Test2', vals:[19]}\n   //other array items\n ]\n</code></pre>\n\n<p>What am  trying to do is to combine both Test1 into one vals array so that the final array will have</p>\n\n<pre><code> const finalprod = [\n  {name:'Test1',vals:[12,14]},\n  {name:'Test2', vals:[19]}\n   //other array items\n ]\n</code></pre>\n\n<p>SO i have tried</p>\n\n<pre><code>    prod.forEach(item=&gt;{\n      //check if name is contained in the array -am stuck here\n   });\n</code></pre>\n\n<p>Am stuck on how to proceed. How do i proceed to  get the final array?</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 34, "user_id": 11877800, "user_type": "registered", "profile_image": "https://graph.facebook.com/2624545207579954/picture?type=large", "display_name": "Roman Shuvalov", "link": "https://stackoverflow.com/users/11877800/roman-shuvalov"}, "is_accepted": false, "score": 0, "last_activity_date": 1567626608, "creation_date": 1567626608, "answer_id": 57794987, "question_id": 57794769, "link": "https://stackoverflow.com/questions/57794769/how-to-add-multiple-ways-to-filter/57794987#57794987", "title": "how to add multiple ways to filter?", "body": "<p>You can create object with parameters and merge new into:</p>\n\n<pre><code>handleSearch = query =&gt; {\n  this.setState({\n    searchQuery: Object.assign(this.state.searchQuery, query)\n  });\n  this.getPagedData();\n};\n</code></pre>\n\n<p>Then use <a href=\"https://www.npmjs.com/package/qs\" rel=\"nofollow noreferrer\">qs</a> for serialize object into query string and make request with this string.</p>\n"}], "owner": {"reputation": 111, "user_id": 12016942, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBHLDILJrV7f-qPE6XsSkkDifVcPK74Sn2EJBTDKg=k-s128", "display_name": "Sami", "link": "https://stackoverflow.com/users/12016942/sami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567626608, "creation_date": 1567625509, "question_id": 57794769, "link": "https://stackoverflow.com/questions/57794769/how-to-add-multiple-ways-to-filter", "title": "how to add multiple ways to filter?", "body": "<p>Hi I am making an event application and so far the user can search by name of the event but I also want the user to be able to search by the name of the host and the category of the event. How can I achieve this in the same function?</p>\n\n<pre><code>handleSearch = query =&gt; {\n    this.setState({ searchQuery: query });\n    this.getPagedData();\n  };\n\n  getPagedData = () =&gt; {\n    const { searchQuery, events: allEvents } = this.state;\n\n    let filtered = allEvents;\n    if (searchQuery) {\n      filtered = allEvents.filter(e =&gt;\n        e.title.toLowerCase().startsWith(searchQuery.toLowerCase())\n      );\n    } \n\n    if (searchQuery.length === 0 || searchQuery.length === 1) {\n      this.setState({\n        events: getEvents()\n      });\n    } else {\n      this.setState({\n        events: filtered\n      });\n    }\n\n    return { totalCount: filtered.length };\n  };\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "flask"], "owner": {"reputation": 59, "user_id": 10923656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9685b1c1baf4ec5d678eb0675cd88a0c?s=128&d=identicon&r=PG&f=1", "display_name": "maybeicode", "link": "https://stackoverflow.com/users/10923656/maybeicode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1567625277, "creation_date": 1567625277, "question_id": 57794730, "link": "https://stackoverflow.com/questions/57794730/passing-a-js-file-objects-array-to-flask", "title": "Passing A Js File Objects Array To Flask", "body": "<p>I wonder if someone can help me with this as I'm new to JavaScript.</p>\n\n<p>I have a form, and within it I have a file input. However, when a file is uploaded I need to manipulate it and add new properties. So I extract the file from the input like so:</p>\n\n<pre><code>let uploadedFile = [];\nfor (let val of this.files) {\nuploadedFile.push(val)\n    }\n\nfor (val of uploadedFile){\n\n//Check file extension to classify the file type:\nlet extension = val.name.split('.')\nextension = String((extension[extension.length-1]).toLowerCase());\nlet fileType = val.type;\n\n//Arrays to hold extensions types we want to identify\nconst imageExtensions = ['jpeg','jpg','png']\nconst documentExtensions = ['xls','xlsx','csv','pdf']\n\n//Classify files and push to global files array\nif (imageExtensions.includes(extension)){\nlet newFile = new File([val], `${crname}-nr-${FileCount}.${extension}`, {type: `${fileType}`});\n\nnewFile.originalName = `${val.name}`\nglobalFilesArray.push(newFile);\n        }\n}\n</code></pre>\n\n<p>So as you can see the new file objects are pushed to an array named 'globalFilesArray'</p>\n\n<p>Now in Flask i'm typically accessing the form data using the request module.</p>\n\n<p>Must I now pass the array into a separate hidden file input so I can access it when the entire form is submitted?</p>\n\n<p>I'm a bit stumped with this because I need this to happen only when the form is submitted so I can also access the rest of the input fields in the form.</p>\n"}, {"tags": ["javascript", "regex", "validation", "parsley.js"], "comments": [{"owner": {"reputation": 18299, "user_id": 2191572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TWbVr.png?s=128&g=1", "display_name": "MonkeyZeus", "link": "https://stackoverflow.com/users/2191572/monkeyzeus"}, "edited": false, "score": 0, "creation_date": 1567625415, "post_id": 57794710, "comment_id": 102022590, "body": "Can you provide a sample of data which you are matching against?"}, {"owner": {"reputation": 398, "user_id": 4845856, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/6febf54b39ea2cf48f3256511b0d8e79?s=128&d=identicon&r=PG&f=1", "display_name": "Acdn", "link": "https://stackoverflow.com/users/4845856/acdn"}, "reply_to_user": {"reputation": 18299, "user_id": 2191572, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TWbVr.png?s=128&g=1", "display_name": "MonkeyZeus", "link": "https://stackoverflow.com/users/2191572/monkeyzeus"}, "edited": false, "score": 0, "creation_date": 1567625910, "post_id": 57794710, "comment_id": 102022781, "body": "i use this code with parsley.js data-parsley-pattern=&quot;^(?!(regularexpression)$)[a-zA-Z](?:[ ()&#39;.\\-a-zA-Z]*[a-zA-Z()])&quot;  and i have a set of words that i want to ignore but they don&#39;t have spaces or lower case. So i need to cover the variations like in the example above."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1567629892, "post_id": 57794710, "comment_id": 102023934, "body": "@Alinacdn So, you want to use a pattern that matches a string that does not contain some phrases with and without a space between? Can you please explain it a bit more?"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1567630948, "post_id": 57794710, "comment_id": 102024311, "body": "Or do you mean that beside the negation, the whole string should only contain letters, spaces, <code>(</code>, <code>)</code>, <code>&#39;</code>, <code>.</code> and <code>-</code> and should start with a letter and end with a letter or parentheses?"}, {"owner": {"reputation": 398, "user_id": 4845856, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/6febf54b39ea2cf48f3256511b0d8e79?s=128&d=identicon&r=PG&f=1", "display_name": "Acdn", "link": "https://stackoverflow.com/users/4845856/acdn"}, "edited": false, "score": 0, "creation_date": 1567631611, "post_id": 57794710, "comment_id": 102024552, "body": "ok so this is for a form where people are restricted to use the words or 2 words from the list but they can submit any other word except the ones in the ignore. The problem is that the ones inside ignore the 2 words are written as 1 word. Like in my example: ignore words: regularexpression. But people would submit regular expression with a space or maybe with upper case etc. And i want to match the ignore. Excpet the ignore list they can use any other word/words so that s why i have the rest of the syntax to allow the rest of the words outside the ignore list."}], "answers": [{"tags": [], "owner": {"reputation": 49, "user_id": 11869714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d1a11dd0a56c7789543a04360cd6a2a?s=128&d=identicon&r=PG&f=1", "display_name": "Kyvex", "link": "https://stackoverflow.com/users/11869714/kyvex"}, "is_accepted": false, "score": 1, "last_activity_date": 1567625707, "creation_date": 1567625707, "answer_id": 57794825, "question_id": 57794710, "link": "https://stackoverflow.com/questions/57794710/ignore-words-and-remove-case-sensitive-and-space-to-match/57794825#57794825", "title": "ignore words and remove case sensitive and space to match", "body": "<p>Unfortunately I do not know how to combine these together but someone will know but here are the Regex Patterns I would use.</p>\n\n<ol>\n<li>Whitespace and Character Casing</li>\n<li><p>For the word Regular Expression.</p>\n\n<p><code>^[A-Za-z.\\s_-]+$</code></p>\n\n<p><code>(?:regularexpression|regular expression)</code></p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1567630061, "post_id": 57794867, "comment_id": 102023997, "body": "JavaScript regex does not allow the use of inline modifiers."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 398, "user_id": 4845856, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/6febf54b39ea2cf48f3256511b0d8e79?s=128&d=identicon&r=PG&f=1", "display_name": "Acdn", "link": "https://stackoverflow.com/users/4845856/acdn"}, "edited": false, "score": 0, "creation_date": 1567640061, "post_id": 57794867, "comment_id": 102026416, "body": "@Alinacdn What help did you get from this answer? The solution is not working, nor helpful, it just does not work in JS."}, {"owner": {"reputation": 398, "user_id": 4845856, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/6febf54b39ea2cf48f3256511b0d8e79?s=128&d=identicon&r=PG&f=1", "display_name": "Acdn", "link": "https://stackoverflow.com/users/4845856/acdn"}, "edited": false, "score": 0, "creation_date": 1567670818, "post_id": 57794867, "comment_id": 102034112, "body": "Your solution works perfect, why do you say it doesn&#39;t work, i have tested it"}], "tags": [], "owner": {"reputation": 1, "user_id": 6553328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/omcAX.jpg?s=128&g=1", "display_name": "Emma", "link": "https://stackoverflow.com/users/6553328/emma"}, "is_accepted": false, "score": 1, "last_activity_date": 1567625901, "creation_date": 1567625901, "answer_id": 57794867, "question_id": 57794710, "link": "https://stackoverflow.com/questions/57794710/ignore-words-and-remove-case-sensitive-and-space-to-match/57794867#57794867", "title": "ignore words and remove case sensitive and space to match", "body": "<p>It's a bit difficult to guess, maybe this expression might be closer to what you have in mind:</p>\n\n<pre><code>(?i)^(?!(regular\\s*expression)$)[a-z](?:[ ()'.a-z-]*[a-z()])$\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>If you wish to explore/simplify/modify the expression, it's been\n  explained on the top right panel of\n  <a href=\"https://regex101.com/r/lU8STP/1/\" rel=\"nofollow noreferrer\">regex101.com</a>. If you'd like, you\n  can also watch in <a href=\"https://regex101.com/r/lU8STP/1/debugger\" rel=\"nofollow noreferrer\">this\n  link</a>, how it would match\n  against some sample inputs.</p>\n</blockquote>\n\n<hr>\n"}, {"tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1567631655, "creation_date": 1567631655, "answer_id": 57795714, "question_id": 57794710, "link": "https://stackoverflow.com/questions/57794710/ignore-words-and-remove-case-sensitive-and-space-to-match/57795714#57795714", "title": "ignore words and remove case sensitive and space to match", "body": "<p>Judging by your pattern, you want the whole string to only contain letters, spaces, <code>(</code>, <code>)</code>, <code>'</code>, <code>.</code> and <code>-</code> and should start with a letter and end with a letter or parentheses. Beside that, you are trying to negate the match if the string contains <code>regular expression</code>, <code>regularexpression</code>, <code>RegULar ExpressioN</code>, etc.</p>\n\n<p>In <strong>parsley.js</strong>, you may use both <em>string</em> and <em>regex literal</em> patterns, i.e. <code>data-parsley-pattern=\"\\d+\"</code> = <code>data-parsley-pattern=\"/^\\d+$/\"</code>. Note that string patterns are anchored by the framework automatically, while with the regex literal notation you need to add the anchors to make sure the whole string matches the regex.</p>\n\n<p>As JavaScript regex does not support inline modifiers, <strong>you need to use the *regex literal notation with <code>/</code> as delimitiers</strong>.</p>\n\n<p>The <code>data-parsley-pattern</code> will look like</p>\n\n<pre><code>data-parsley-pattern=\"/^(?!.*regular\\s*expression)[a-zA-Z](?:[ ()'.a-zA-Z-]*[a-zA-Z()])?$/i\"\n</code></pre>\n\n<p>See the <a href=\"https://regex101.com/r/zHgt3B/1\" rel=\"nofollow noreferrer\">regex demo</a>. <strong>Note the <code>/.../i</code>: the <code>i</code> is the case insensitive flag here</strong>.</p>\n\n<p>To add more exceptions, keep on adding <code>(?!.*my\\s*new\\s*phrase)</code>, or use an alternation inside a single lookahead, <code>(?!.*(?:regular\\s*expression|my\\s*new\\s*phrase))</code>. Also, use word boundaries if you need to match these phrases as whole words, e.g. <code>(?!.*\\b(?:regular\\s*expression|my\\s*new\\s*phrase)\\b)</code>.</p>\n\n<p><strong>Pattern details</strong></p>\n\n<ul>\n<li><code>^</code> - start of string</li>\n<li><code>(?!.*regular\\s*expression)</code> - no match if there is <code>regular</code> + 0 or more whitespaces and then <code>expression</code> after any 0+ chars other than line break chars as many as possible</li>\n<li><code>[a-zA-Z]</code> - an ASCII letter</li>\n<li><code>(?:[ ()'.a-zA-Z-]*[a-zA-Z()])?</code> - an optional sequence of \n\n<ul>\n<li><code>[ ()'.a-zA-Z-]*</code>  - 0+ ASCII letters, space, <code>(</code>, <code>)</code>, <code>'</code>, <code>.</code> or <code>-</code></li>\n<li><code>[a-zA-Z()]</code> - an ASCII letter or <code>(</code> or <code>)</code></li>\n</ul></li>\n<li><code>$</code> - end of string.</li>\n</ul>\n\n<p>JS demo:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"http://cdn.jsdelivr.net/parsleyjs/2.0.0-rc5/parsley.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;form id=\"parsley\" data-parsley-validate&gt;\r\n  &lt;input type=\"text\" name=\"the_name\" id=\"the_id\" data-parsley-pattern=\"/^(?!.*regular\\s*expression)[a-zA-Z](?:[ ()'.a-zA-Z-]*[a-zA-Z()])?$/i\" required&gt;\r\n  &lt;input type=\"submit\" /&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 398, "user_id": 4845856, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/6febf54b39ea2cf48f3256511b0d8e79?s=128&d=identicon&r=PG&f=1", "display_name": "Acdn", "link": "https://stackoverflow.com/users/4845856/acdn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 880, "favorite_count": 0, "accepted_answer_id": 57795714, "answer_count": 3, "score": 2, "last_activity_date": 1567640095, "creation_date": 1567625210, "last_edit_date": 1567640095, "question_id": 57794710, "link": "https://stackoverflow.com/questions/57794710/ignore-words-and-remove-case-sensitive-and-space-to-match", "title": "ignore words and remove case sensitive and space to match", "body": "<p>I would like to ignore 'regularexpression' but also ignore space and Uppercase so if someone types 'regular expression' or 'reguLarExpression' it will still match and ignore. Can you please help.</p>\n\n<pre><code>^(?!(regularexpression)$)[a-zA-Z](?:[ ()'.\\-a-zA-Z]*[a-zA-Z()])\n</code></pre>\n\n<p>I use this code in parsley.js:</p>\n\n<pre><code>data-parsley-pattern=\"^(?!(regularexpression)$)[a-zA-Z](?:[ ()'.\\-a-zA-Z]*[a-zA-Z()])\"\n</code></pre>\n\n<p>I have a set of words that I want to ignore but they don't have spaces or lower case. So, I need to cover the variations like in the example above.</p>\n"}, {"tags": ["javascript", "algorithm", "data-structures"], "comments": [{"owner": {"reputation": 19230, "user_id": 1444609, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/bgWmu.jpg?s=128&g=1", "display_name": "I wrestled a bear once.", "link": "https://stackoverflow.com/users/1444609/i-wrestled-a-bear-once"}, "edited": false, "score": 0, "creation_date": 1567625057, "post_id": 57794619, "comment_id": 102022453, "body": "why is <i>looping like crazy</i> a bad thing?"}, {"owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1567625165, "post_id": 57794619, "comment_id": 102022492, "body": "I assume the <i>like crazy</i> part is bad when we&#39;re trying to write <i>sane</i> programs..."}, {"owner": {"reputation": 956, "user_id": 7772988, "user_type": "registered", "profile_image": "https://graph.facebook.com/1295248957197306/picture?type=large", "display_name": "spark", "link": "https://stackoverflow.com/users/7772988/spark"}, "reply_to_user": {"reputation": 19230, "user_id": 1444609, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/bgWmu.jpg?s=128&g=1", "display_name": "I wrestled a bear once.", "link": "https://stackoverflow.com/users/1444609/i-wrestled-a-bear-once"}, "edited": false, "score": 0, "creation_date": 1567625401, "post_id": 57794619, "comment_id": 102022585, "body": "@Iwrestledabearonce I never said its bad. See fighting a bear isn&#39;t bad, but I would choose to avoid it."}, {"owner": {"reputation": 3951, "user_id": 11126534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb5159d7bad3d2fe37a313b340684?s=128&d=identicon&r=PG&f=1", "display_name": "mgarcia", "link": "https://stackoverflow.com/users/11126534/mgarcia"}, "edited": false, "score": 0, "creation_date": 1567625402, "post_id": 57794619, "comment_id": 102022586, "body": "What do you mean by <i>the tool names can change</i>? The attribute <i>tool</i> could be named differently? The values of <i>tool</i> attribute could be different from <i>A</i>, <i>B</i>, or <i>C</i>?"}, {"owner": {"reputation": 956, "user_id": 7772988, "user_type": "registered", "profile_image": "https://graph.facebook.com/1295248957197306/picture?type=large", "display_name": "spark", "link": "https://stackoverflow.com/users/7772988/spark"}, "reply_to_user": {"reputation": 3951, "user_id": 11126534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb5159d7bad3d2fe37a313b340684?s=128&d=identicon&r=PG&f=1", "display_name": "mgarcia", "link": "https://stackoverflow.com/users/11126534/mgarcia"}, "edited": false, "score": 0, "creation_date": 1567625463, "post_id": 57794619, "comment_id": 102022605, "body": "@mgarcia yup exactly. It can be anything A,B,C....X,Y,Z."}], "answers": [{"tags": [], "owner": {"reputation": 101365, "user_id": 4620771, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/BuWrj.jpg?s=128&g=1", "display_name": "Nenad Vracar", "link": "https://stackoverflow.com/users/4620771/nenad-vracar"}, "is_accepted": true, "score": 2, "last_activity_date": 1567625371, "creation_date": 1567625371, "answer_id": 57794749, "question_id": 57794619, "link": "https://stackoverflow.com/questions/57794619/logic-to-transform-data/57794749#57794749", "title": "Logic to Transform data", "body": "<p>You could use <code>reduce</code> method to get the result with array of dates and object of values for each tool.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [{\"_id\":1567362600000,\"KIDate\":\"2019-09-02\",\"KITools\":[{\"data\":1,\"tool\":\"A\"},{\"data\":2,\"tool\":\"B\"}]},{\"_id\":1567519839316,\"KIDate\":\"2019-09-01\",\"KITools\":[{\"data\":2,\"tool\":\"A\"},{\"data\":1,\"tool\":\"C\"}]},{\"_id\":1567519839317,\"KIDate\":\"2019-08-31\",\"KITools\":[{\"data\":0,\"tool\":\"C\"}]}]\r\n\r\nconst result = data.reduce((r, {KIDate, KITools}, i) =&gt; {\r\n  r.dates.push(KIDate);\r\n  \r\n  KITools.forEach(({data: dt, tool}) =&gt; {\r\n    if(!r.values[tool]) r.values[tool] = Array(data.length).fill(0);\r\n    r.values[tool][i] = dt\r\n  })\r\n  \r\n  return r;\r\n}, {dates: [], values: {}})\r\n\r\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 956, "user_id": 7772988, "user_type": "registered", "profile_image": "https://graph.facebook.com/1295248957197306/picture?type=large", "display_name": "spark", "link": "https://stackoverflow.com/users/7772988/spark"}, "edited": false, "score": 1, "creation_date": 1567669965, "post_id": 57794754, "comment_id": 102033722, "body": "Awesome Code. Thanks!"}], "tags": [], "owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "is_accepted": false, "score": 1, "last_activity_date": 1567625418, "creation_date": 1567625418, "answer_id": 57794754, "question_id": 57794619, "link": "https://stackoverflow.com/questions/57794619/logic-to-transform-data/57794754#57794754", "title": "Logic to Transform data", "body": "<p>You can use <code>reduce</code> and <code>forEach</code> with <code>Set</code> and <code>Map</code></p>\n\n<ul>\n<li>Initialize accumulator as object with <code>dates</code> and <code>data</code> key, <code>dates</code> is a <code>Set</code> and data is <code>Map</code></li>\n<li>For every element add the <code>KIDate</code> to dates key,</li>\n<li>Loop over <code>KITools</code>, check if that particular too exists in data <code>Map</code> if it exists update it's value by adding current values to id, if not set it's value as per current values</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let data = [{\"_id\": 1567362600000,\"KIDate\": \"2019-09-02\",\"KITools\": [{\"data\": 1,\"tool\": \"A\"},{\"data\": 2,\"tool\": \"B\"}]},{\"_id\": 1567519839316,\"KIDate\": \"2019-09-01\",\"KITools\": [{\"data\": 2,\"tool\": \"A\"},{\"data\": 1,\"tool\": \"C\"}]},{\"_id\": 1567519839317,\"KIDate\": \"2019-08-31\",\"KITools\": [{\"data\": 0,\"tool\": \"C\"}]},]\r\n  \r\nlet final = data.reduce((op,{KIDate,KITools})=&gt;{\r\n  op.dates.add(KIDate)\r\n  KITools.forEach(({data,tool})=&gt;{\r\n    if(op.data.has(data)){\r\n        op.data.get(data).data.push(tool)\r\n    } else{\r\n      op.data.set(data, {name: data, data:[tool]})\r\n    }\r\n  })\r\n  return op\r\n},{dates:new Set(),data: new Map()})\r\n\r\nconsole.log([...final.dates.values()])\r\nconsole.log([...final.data.values()])</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "is_accepted": false, "score": 1, "last_activity_date": 1567625774, "creation_date": 1567625774, "answer_id": 57794838, "question_id": 57794619, "link": "https://stackoverflow.com/questions/57794619/logic-to-transform-data/57794838#57794838", "title": "Logic to Transform data", "body": "<p>The <code>result1</code> array can be obtained via a direct <code>.map()</code>. To build the <code>result2</code> array will require additional work - one approach would be to do so via <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"nofollow noreferrer\"><code>.reduce()</code></a> as detailed below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data=[{\"_id\":1567362600000,\"KIDate\":\"2019-09-02\",\"KITools\":[{\"data\":1,\"tool\":\"A\"},{\"data\":2,\"tool\":\"B\"}]},{\"_id\":1567519839316,\"KIDate\":\"2019-09-01\",\"KITools\":[{\"data\":2,\"tool\":\"A\"},{\"data\":1,\"tool\":\"C\"}]},{\"_id\":1567519839317,\"KIDate\":\"2019-08-31\",\"KITools\":[{\"data\":0,\"tool\":\"C\"}]}];\r\n\r\nconst result1 = data.map(item =&gt; item.KIDate);\r\nconst result2 = data.reduce((result, item) =&gt; {\r\n\r\n  item.KITools.forEach(kitool =&gt; {\r\n    /* For current item, search for matching tool on name/tool fields */\r\n    let foundTool = result.find(i =&gt; i.name === kitool.tool);\r\n    if (foundTool) {\r\n      /* Add data to data sub array if match found */\r\n      foundTool.data.push(kitool.data);\r\n    } else {\r\n      /* Add new tool if no match found and init name and data array */\r\n      result.push({\r\n        name: kitool.tool,\r\n        data: [kitool.data]\r\n      });\r\n    }\r\n  });\r\n\r\n  return result;\r\n\r\n}, []).map((item, i, arr) =&gt; {\r\n  \r\n  /* Second phase of processing here to pad the data arrays with 0 values\r\n  if needed */\r\n  for (let i = item.data.length; i &lt; arr.length; i++) {\r\n    item.data.push(0);\r\n  }\r\n  return item;\r\n});\r\n\r\nconsole.log('result1:', result1);\r\nconsole.log('result2:', result2);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 956, "user_id": 7772988, "user_type": "registered", "profile_image": "https://graph.facebook.com/1295248957197306/picture?type=large", "display_name": "spark", "link": "https://stackoverflow.com/users/7772988/spark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 57794749, "answer_count": 3, "score": 0, "last_activity_date": 1567689919, "creation_date": 1567624765, "last_edit_date": 1567689919, "question_id": 57794619, "link": "https://stackoverflow.com/questions/57794619/logic-to-transform-data", "title": "Logic to Transform data", "body": "<p>I have an api that return me data in following format:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>[\n    {\n        \"_id\": 1567362600000,\n        \"KIDate\": \"2019-09-02\",\n        \"KITools\": [\n            {\n                \"data\": 1,\n                \"tool\": \"A\"\n            },\n            {\n                \"data\": 2,\n                \"tool\": \"B\"\n            }\n        ]\n    },\n    {\n        \"_id\": 1567519839316,\n        \"KIDate\": \"2019-09-01\",\n        \"KITools\": [\n            {\n                \"data\": 2,\n                \"tool\": \"A\"\n            },\n{\n                \"data\": 1,\n                \"tool\": \"C\"\n            }\n        ]\n    },\n    {\n        \"_id\": 1567519839317,\n        \"KIDate\": \"2019-08-31\",\n        \"KITools\": [\n            {\n                \"data\": 0,\n                \"tool\": \"C\"\n            }\n        ]\n    },\n  ]\n</code></pre>\n\n<p>I want to transform this data to get the following arrays:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Result 1 -  [\u201c2019-09-02\u201d,\u201d2019-09-01\u201d,\u201d2019-08-31\u201d]\nResult 2 -  [ {name: \u2018A\u2019, data:[1, 2, 0] }, { name: 'B', data: [2, 0, 0] }, { name: 'C', data: [0, 1, 0]}]\n</code></pre>\n\n<p>Currently I am able to achieve this by using loops and per-defining variables with the tool name like following and looping the api data to push into this variable.</p>\n\n<blockquote>\n  <p>var result2 = [{\n              name: 'A',\n              data: []\n          }, {\n              name: 'B',\n              data: []\n          }, {\n              name: 'C',\n              data: []\n          }];</p>\n</blockquote>\n\n<p>But this is not the expected behavior, the tool names can change and I have to figure that out dynamically based on the data returned by the api.\nWhat is the best way to achieve this without looping like crazy.</p>\n"}, {"tags": ["javascript", "discord.js"], "answers": [{"comments": [{"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1567625317, "post_id": 57794661, "comment_id": 102022551, "body": "Note to the OP: notice how this answer describes a potential solution in words. This is often a good place to start. Break down what you want to do into small steps and write them out in English (or whatever written language you like).l"}, {"owner": {"reputation": 465, "user_id": 2777590, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/69266f0c355cbbcc747ecfa32fb6ca80?s=128&d=identicon&r=PG&f=1", "display_name": "Dexirian", "link": "https://stackoverflow.com/users/2777590/dexirian"}, "edited": false, "score": 0, "creation_date": 1567626309, "post_id": 57794661, "comment_id": 102022922, "body": "Jesse was kind enough to add the i-- to the code (as to not increment the loop if no winner is selected) You could give this version a spin. Thanks Jesse!"}, {"owner": {"reputation": 528, "user_id": 10601203, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9D8AGoZZdls/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCnTLpwWAlD-INsh30JFJ6xNeVmkg/mo/photo.jpg?sz=128", "display_name": "Jesse", "link": "https://stackoverflow.com/users/10601203/jesse"}, "edited": false, "score": 0, "creation_date": 1567626494, "post_id": 57794661, "comment_id": 102022990, "body": "Whoops I forgot to put the <code>else</code> statement <i>facepalm</i>. You mind adding that in @Dexirian?"}, {"owner": {"reputation": 49, "user_id": 11815238, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oFOnr4mm8cg/AAAAAAAAAAI/AAAAAAAAAhY/A08B-X3sAE8/photo.jpg?sz=128", "display_name": "TheRealJan", "link": "https://stackoverflow.com/users/11815238/therealjan"}, "edited": false, "score": 0, "creation_date": 1567626722, "post_id": 57794661, "comment_id": 102023078, "body": "With that code: After I entered the command no other commands working anymore? (And the giveaway command also)"}, {"owner": {"reputation": 528, "user_id": 10601203, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9D8AGoZZdls/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCnTLpwWAlD-INsh30JFJ6xNeVmkg/mo/photo.jpg?sz=128", "display_name": "Jesse", "link": "https://stackoverflow.com/users/10601203/jesse"}, "edited": false, "score": 0, "creation_date": 1567626914, "post_id": 57794661, "comment_id": 102023141, "body": "Yea you have to change the line that I added from <code>i++;</code> to <code>else i++;</code> or it just loops. Also you may want to add and if statement to make sure the number of winners is less than or equal to the number of people entered."}, {"owner": {"reputation": 528, "user_id": 10601203, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9D8AGoZZdls/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCnTLpwWAlD-INsh30JFJ6xNeVmkg/mo/photo.jpg?sz=128", "display_name": "Jesse", "link": "https://stackoverflow.com/users/10601203/jesse"}, "edited": false, "score": 0, "creation_date": 1567627072, "post_id": 57794661, "comment_id": 102023196, "body": "Also put your <code>var index = Math.floor(Math.random() * peopleReacted.length)</code> at the beginning of the for loop. That should fix both issues."}, {"owner": {"reputation": 49, "user_id": 11815238, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oFOnr4mm8cg/AAAAAAAAAAI/AAAAAAAAAhY/A08B-X3sAE8/photo.jpg?sz=128", "display_name": "TheRealJan", "link": "https://stackoverflow.com/users/11815238/therealjan"}, "edited": false, "score": 0, "creation_date": 1567627095, "post_id": 57794661, "comment_id": 102023208, "body": "If I write that you can still win several times. What is that if statement I have to write?"}, {"owner": {"reputation": 49, "user_id": 11815238, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oFOnr4mm8cg/AAAAAAAAAAI/AAAAAAAAAhY/A08B-X3sAE8/photo.jpg?sz=128", "display_name": "TheRealJan", "link": "https://stackoverflow.com/users/11815238/therealjan"}, "edited": false, "score": 0, "creation_date": 1567627120, "post_id": 57794661, "comment_id": 102023217, "body": "I&#39;ll try it, Jesse"}, {"owner": {"reputation": 49, "user_id": 11815238, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oFOnr4mm8cg/AAAAAAAAAAI/AAAAAAAAAhY/A08B-X3sAE8/photo.jpg?sz=128", "display_name": "TheRealJan", "link": "https://stackoverflow.com/users/11815238/therealjan"}, "edited": false, "score": 0, "creation_date": 1567627597, "post_id": 57794661, "comment_id": 102023281, "body": "So?  <code>var winners = []; var winnerMessage = &quot;&quot;;\t var index = Math.floor(Math.random() * peopleReacted.length)  for (var i = 0; i &lt; winnerCount; i++){ \t     if(! winners.includes(index)) winners.push(peopleReacted[index]);     else i--; &#47;&#47; Don&#39;t progress the loop if no winner is selected. \t }</code>"}, {"owner": {"reputation": 49, "user_id": 11815238, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oFOnr4mm8cg/AAAAAAAAAAI/AAAAAAAAAhY/A08B-X3sAE8/photo.jpg?sz=128", "display_name": "TheRealJan", "link": "https://stackoverflow.com/users/11815238/therealjan"}, "edited": false, "score": 0, "creation_date": 1567628126, "post_id": 57794661, "comment_id": 102023333, "body": "Where should I put var index [...] ? (I don&#39;t understand)"}, {"owner": {"reputation": 528, "user_id": 10601203, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9D8AGoZZdls/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCnTLpwWAlD-INsh30JFJ6xNeVmkg/mo/photo.jpg?sz=128", "display_name": "Jesse", "link": "https://stackoverflow.com/users/10601203/jesse"}, "edited": false, "score": 0, "creation_date": 1567628433, "post_id": 57794661, "comment_id": 102023410, "body": "Put it on the first line inside the for loop."}, {"owner": {"reputation": 49, "user_id": 11815238, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oFOnr4mm8cg/AAAAAAAAAAI/AAAAAAAAAhY/A08B-X3sAE8/photo.jpg?sz=128", "display_name": "TheRealJan", "link": "https://stackoverflow.com/users/11815238/therealjan"}, "edited": false, "score": 0, "creation_date": 1567628627, "post_id": 57794661, "comment_id": 102023461, "body": "Under for (var i [..] it comes the same result (you can still win several times"}], "tags": [], "owner": {"reputation": 465, "user_id": 2777590, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/69266f0c355cbbcc747ecfa32fb6ca80?s=128&d=identicon&r=PG&f=1", "display_name": "Dexirian", "link": "https://stackoverflow.com/users/2777590/dexirian"}, "is_accepted": true, "score": 3, "last_activity_date": 1567691476, "last_edit_date": 1567691476, "creation_date": 1567625012, "answer_id": 57794661, "question_id": 57794579, "link": "https://stackoverflow.com/questions/57794579/one-player-can-win-several-times-in-giveaway-command-discord-js/57794661#57794661", "title": "One player can win several times in giveaway command (Discord.js)", "body": "<p>Problem is within these lines :</p>\n\n<pre><code>var index = Math.floor(Math.random() * peopleReacted.length)\nvar winners = [];\nvar winnerMessage = \"\";\nfor (var i = 0; i &lt; winnerCount; i++){\n    winners.push(peopleReacted[index]);\n\n}\n</code></pre>\n\n<p>I'd suggest pushing the winners to an array. When selecting a new winner, check if it already exists in the array, if not then push, else draw a new winner.</p>\n\n<p>Am no javacript expert, but something like :</p>\n\n<pre><code>var index = Math.floor(Math.random() * peopleReacted.length)\nvar winners = [];\nvar winnerMessage = \"\";\nfor (var i = 0; i &lt; winnerCount; i++){\n    if(! winners.includes(index)) winners.push(peopleReacted[index]);\n    else i--; // Don't progress the loop if no winner is selected.\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 528, "user_id": 10601203, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9D8AGoZZdls/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCnTLpwWAlD-INsh30JFJ6xNeVmkg/mo/photo.jpg?sz=128", "display_name": "Jesse", "link": "https://stackoverflow.com/users/10601203/jesse"}, "is_accepted": false, "score": 0, "last_activity_date": 1567631469, "last_edit_date": 1567631469, "creation_date": 1567630094, "answer_id": 57795449, "question_id": 57794579, "link": "https://stackoverflow.com/questions/57794579/one-player-can-win-several-times-in-giveaway-command-discord-js/57795449#57795449", "title": "One player can win several times in giveaway command (Discord.js)", "body": "<p>As Dexirian said <a href=\"https://stackoverflow.com/a/57794661/10601203\">here</a>,</p>\n\n<blockquote>\n  <p>Problem is within these lines :</p>\n</blockquote>\n\n<pre><code>var index = Math.floor(Math.random() * peopleReacted.length);\nvar winners = [];\nvar winnerMessage = \"\";\nfor (var i = 0; i &lt; winnerCount; i++){\n    winners.push(peopleReacted[index]);\n}\n</code></pre>\n\n<blockquote>\n  <p>I'd suggest pushing the winners to an array. When selecting a new winner, check if it already exists in the array, if not then push, else draw a new winner.</p>\n</blockquote>\n\n<p>I want to add to that by mentioning that you only pick one index and re-use it, thus the same person is added to <code>winners</code> every time. I would do the following:</p>\n\n<pre><code>var winners = [];\nvar winnerMessage = \"\";\nif(peopleReacted.length &lt; winnerCount){\n   winners = peopleReacted; // Add everyone to the list of winners if the number of participants is less than or equal to the number winners\n}\nelse{\n    let index = 0;\n    for(var i = 0; i &lt; winnerCount; i++){\n        index = Math.floor(Math.random() * (peopleReacted.length - 1)); // Subtract 1 from peopleReacted.length to prevent an Array Out of Bounds exception\n        if(!winners.includes(peopleReacted[index])) winners.push(peopleReacted[index]);\n        else i--; // Don't progress the loop if no winner is selected.\n    }\n}\n</code></pre>\n\n<p>And that should do it. Let me know if you have any questions!</p>\n"}, {"tags": [], "owner": {"reputation": 5000, "user_id": 11321804, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VOIwjh_teGk/AAAAAAAAAAI/AAAAAAAAIjY/X51qzoN8QLM/photo.jpg?sz=128", "display_name": "slothiful", "link": "https://stackoverflow.com/users/11321804/slothiful"}, "is_accepted": false, "score": 0, "last_activity_date": 1567630862, "creation_date": 1567630862, "answer_id": 57795592, "question_id": 57794579, "link": "https://stackoverflow.com/questions/57794579/one-player-can-win-several-times-in-giveaway-command-discord-js/57795592#57795592", "title": "One player can win several times in giveaway command (Discord.js)", "body": "<blockquote>\n  <pre class=\"lang-js prettyprint-override\"><code>var index = Math.floor(Math.random() * peopleReacted.length)\nvar winners = [];\nvar winnerMessage = \"\";\nfor (var i = 0; i &lt; winnerCount; i++){\n    winners.push(peopleReacted[index]);\n}\n</code></pre>\n</blockquote>\n\n<p>Since you only define the index once, the same user is being pushed into the <code>winners</code> array each iteration of the <code>for</code> loop.</p>\n\n<p>Determine a new winner each time and remove the selected winner from the selection pool so that they can't be selected again.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>if (peopleReacted.length &lt; winnerCount) { // Make sure there's enough users, not just 0\n  return message.channel.send(\"Unfortunately, not enough users took part in the giveaway! :(\")\n    .catch(console.error);\n}\n\nconst winners = [];\nconst winnerMessage = \"\";\n\nfor (let i = 0; i &lt; winnerCount; i++) {\n  const index = Math.floor(Math.random() * peopleReacted.length);\n  winners.push(peopleReacted[index]); // Pick a randomly selected user as a winner\n  peopleReacted.splice(index, 1); // Remove that user from the pool to be selected from\n}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 11815238, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oFOnr4mm8cg/AAAAAAAAAAI/AAAAAAAAAhY/A08B-X3sAE8/photo.jpg?sz=128", "display_name": "TheRealJan", "link": "https://stackoverflow.com/users/11815238/therealjan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 507, "favorite_count": 0, "accepted_answer_id": 57794661, "answer_count": 3, "score": 1, "last_activity_date": 1567691476, "creation_date": 1567624543, "question_id": 57794579, "link": "https://stackoverflow.com/questions/57794579/one-player-can-win-several-times-in-giveaway-command-discord-js", "title": "One player can win several times in giveaway command (Discord.js)", "body": "<p>Syntax of the command is: !giveaway (how many winner) (time) (prize) \nThen you can react to have a chance to win but: The problem is a user who reacts can win several times. I don't know how to fix that</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>message.delete();\n    var item = \"\";\n    var time;\n    var winnerCount\n    let messageArray = message.content.split(\" \");\n    for (var i = 3; i &lt; messageArray.length; i++) {\n        item += (messageArray[i] + \" \");\n\n    }\n    winnerCount = (messageArray[1]);\n    if(!winnerCount) return message.channel.send(\"You must specify the number of winners!\");\n   time = (messageArray[2]);\n   if(!time) return message.channel.send(\"You have to specify the time of the giveaway!\")\n    if(!item) return message.channel.send(\"You have to specify the prize of the giveaway!\")\nvar embed = new Discord.RichEmbed()\n.setAuthor(item)\n.setDescription(`React with \ud83c\udf89 to enter! ${winnerCount} Winner(s)`)\n.setFooter(`The giveaway lasts ${time} and was started at ${date.format(now, 'YYYY/MM/DD')} / ${date.format(now, 'HH:mm:ss')}!`)\nvar embedSent = await message.channel.send(embed);\nembedSent.react(\"\ud83c\udf89\");\nsetTimeout(function() {\nvar peopleReacted = embedSent.reactions.get(\"\ud83c\udf89\").users.filter(user =&gt; user.id !== client.user.id).array()\nif(peopleReacted.length === 0) return message.channel.send(\"Unfortunately, nobody took part in the giveaway! :(\")\nvar index = Math.floor(Math.random() * peopleReacted.length)\nvar winners = [];\nvar winnerMessage = \"\";\nfor (var i = 0; i &lt; winnerCount; i++){\n    winners.push(peopleReacted[index]);\n\n}\nfor (var i = 0; i &lt; winners.length; i++) {\n    winnerMessage += (winners[i].toString() + \" \");\n\n}\nlet haveHas = winners.length === 1 ? \"has\" : \"have\"\n\nif(winnerCount &lt; winners.length) return;\nmessage.channel.send(winnerMessage + \"\" + haveHas + ` won **${item}**`);\nlet embed = new Discord.RichEmbed()\n.setAuthor(`${item}`)\n.setDescription(`Winner(s): ${winnerMessage}`)\n.setFooter(`The giveaway ended!`)\nembedSent.edit(embed)\n}, ms(time))```\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 427, "user_id": 7790515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c3ed6816d78aeabe78b5ca2bf78a8d1?s=128&d=identicon&r=PG&f=1", "display_name": "cullanrocks", "link": "https://stackoverflow.com/users/7790515/cullanrocks"}, "edited": false, "score": 0, "creation_date": 1567624768, "post_id": 57794566, "comment_id": 102022333, "body": "Puppies doesn&#39;t exist in your state...."}, {"owner": {"reputation": 121, "user_id": 11488021, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-u4pvmfacv0U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re5yUzbA_SK_T_g6uJ601CrV9bPWQ/mo/photo.jpg?sz=128", "display_name": "Rowandinho", "link": "https://stackoverflow.com/users/11488021/rowandinho"}, "reply_to_user": {"reputation": 427, "user_id": 7790515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c3ed6816d78aeabe78b5ca2bf78a8d1?s=128&d=identicon&r=PG&f=1", "display_name": "cullanrocks", "link": "https://stackoverflow.com/users/7790515/cullanrocks"}, "edited": false, "score": 0, "creation_date": 1567624887, "post_id": 57794566, "comment_id": 102022391, "body": "apologies that was supposed to be cats, I have edited the post"}, {"owner": {"reputation": 427, "user_id": 7790515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c3ed6816d78aeabe78b5ca2bf78a8d1?s=128&d=identicon&r=PG&f=1", "display_name": "cullanrocks", "link": "https://stackoverflow.com/users/7790515/cullanrocks"}, "edited": false, "score": 0, "creation_date": 1567625112, "post_id": 57794566, "comment_id": 102022469, "body": "Since your cats state is an array, you need to pass the cat&#39;s name or id as an argument to handleCuteness, or else you&#39;ll never know which one to update."}], "answers": [{"comments": [{"owner": {"reputation": 13341, "user_id": 10030970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23e57ef36f01ce7924715bdc240cebae?s=128&d=identicon&r=PG", "display_name": "Cool Guy", "link": "https://stackoverflow.com/users/10030970/cool-guy"}, "reply_to_user": {"reputation": 121, "user_id": 11488021, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-u4pvmfacv0U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re5yUzbA_SK_T_g6uJ601CrV9bPWQ/mo/photo.jpg?sz=128", "display_name": "Rowandinho", "link": "https://stackoverflow.com/users/11488021/rowandinho"}, "edited": false, "score": 0, "creation_date": 1567626514, "post_id": 57794685, "comment_id": 102022997, "body": "@Rowandinho you&#39;re welcome! Just curious, which solution did you ultimately end up using :)"}], "tags": [], "owner": {"reputation": 13341, "user_id": 10030970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23e57ef36f01ce7924715bdc240cebae?s=128&d=identicon&r=PG", "display_name": "Cool Guy", "link": "https://stackoverflow.com/users/10030970/cool-guy"}, "is_accepted": false, "score": 2, "last_activity_date": 1567625496, "last_edit_date": 1567625496, "creation_date": 1567625101, "answer_id": 57794685, "question_id": 57794566, "link": "https://stackoverflow.com/questions/57794566/hey-all-how-can-i-increment-a-value-in-state-stored-within-an-array-object/57794685#57794685", "title": "Hey All, How can I increment a value in state stored within an array object", "body": "<p>Since you're working with an array of objects, in order for you to update the right cat, you need to identify the right object. You should give each cat object a unique identifier. This makes it easier to find the specific cat you want to update.</p>\n\n<p>Update your <code>handleCuteness</code> event-handler to accept a cat-id as an argument. This will help us <code>find</code> the right cat to update in the array. When setting-up the onClick handlers for your mark-up, you can pass the very same cat-ids belonging to each cat.</p>\n\n<pre><code>class App extends React.Component{\n  state = {\n    cats: [\n      {id: 1, name: \"felix\", cuteness: 0, img: \"blah\"},\n      {id: 2, name: \"samuel\", cuteness: 0, img: \"blah2\"}\n    ]\n  }\n\n  handleCuteness = (catId) =&gt; {\n     const catsCopy = [...this.state.cats]\n\n     let foundCat = catsCopy.find(cat =&gt; cat.id == catId)\n     foundCat.cuteness = foundCat.cuteness + 1\n\n     this.setState({\n        cats: catsCopy\n     })\n  }\n\n  createCats = () =&gt; {\n     const { cats } = this.state\n     return cats.map((cat) =&gt; {\n        return(\n           &lt;div&gt;\n               &lt;img src={cat.img}/&gt;\n               &lt;button \n                 className=\"btn btn-success\"\n                 onClick={() =&gt; this.handleCuteness(cat.id)}\n                &gt;\n                   Cuteness\n                   &lt;span className=\"badge badge-light m-2\"&gt;\n                     {cuteness} \n                   &lt;/span&gt;\n               &lt;/button&gt;\n           &lt;/div&gt;\n        )\n     })\n  }\n\n  render(){\n     return(\n       &lt;div&gt;{this.createCats()}&lt;/div&gt;\n     )\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 774, "user_id": 4994050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62a344883d52b107ac883719a0738135?s=128&d=identicon&r=PG", "display_name": "JCQuintas", "link": "https://stackoverflow.com/users/4994050/jcquintas"}, "is_accepted": true, "score": 1, "last_activity_date": 1567625171, "creation_date": 1567625171, "answer_id": 57794699, "question_id": 57794566, "link": "https://stackoverflow.com/questions/57794566/hey-all-how-can-i-increment-a-value-in-state-stored-within-an-array-object/57794699#57794699", "title": "Hey All, How can I increment a value in state stored within an array object", "body": "<p>You first have to know which object inside the array you want to edit. The example your provided doesn't work at all, would be better if you had a full working example.</p>\n\n<p>But lets assume you have the following state:</p>\n\n<pre><code>state = {\n  cats: [\n    {\n      name: 'felix',\n      cuteness: 0,\n    },\n    {\n      name: 'garfield',\n      cuteness: -1,\n    },\n  ],\n}\n</code></pre>\n\n<p>And you want to update the cuteness of <code>garfield</code> on click. What you must do is as follows:</p>\n\n<pre><code>const onClick = inc_cuteness =&gt; {\n  // map the array to find the \"garfield\" entry\n  const updatedCats = this.state.cats.map(cat =&gt; {\n    // update only the garfield entry and return it\n    if (cat.name === 'garfield') {\n      return { ...cat, cuteness: cat.cuteness + inc_cuteness }\n    }\n    // if entry is not garfield, then just return the previous value\n    return cat\n  })\n  // set new cats array\n  this.setState({ cats: updatedCats })\n}\n</code></pre>\n\n<p>if you need to dynamically choose a cat name you can use </p>\n\n<pre><code>const onClick = (inc_cuteness, catname) =&gt; {\n  const updatedCats = this.state.cats.map(cat =&gt; {\n    if (cat.name === catname) {\n      return { ...cat, cuteness: cat.cuteness + inc_cuteness }\n    }\n    return cat\n  })\n  this.setState({ cats: updatedCats })\n}\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 11488021, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-u4pvmfacv0U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re5yUzbA_SK_T_g6uJ601CrV9bPWQ/mo/photo.jpg?sz=128", "display_name": "Rowandinho", "link": "https://stackoverflow.com/users/11488021/rowandinho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 57794699, "answer_count": 2, "score": 0, "last_activity_date": 1567625496, "creation_date": 1567624460, "last_edit_date": 1567624867, "question_id": 57794566, "link": "https://stackoverflow.com/questions/57794566/hey-all-how-can-i-increment-a-value-in-state-stored-within-an-array-object", "title": "Hey All, How can I increment a value in state stored within an array object", "body": "<p>I am having trouble incrementing a part of my state. The issue im having is accessing or targeting the specific value i want to increment which is cuteness. I am new to react and have added the main bits of code relevant to the problem </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class App extends React.Component {\n state = {\n  cats: [\n   {\n     name: 'felix',\n     cuteness: 0,\n     img:\n       'https://....jpg\n   }]\n }\n\n handleCuteness = inc_cuteness =&gt; {\n  const { cuteness } = this.state.cats;\n  this.setState({ cuteness: cuteness + inc_cuteness });\n };\n\n &lt;button\n   className=\"btn btn-success\"\n   onClick={() =&gt; handleCuteness(1)}\n   value={cuteness}\n  &gt;\n  Cuteness \n  &lt;span className=\"badge badge-light m-2\"&gt;\n    {cuteness} \n  &lt;/span&gt;\n &lt;/button\n</code></pre>\n"}, {"tags": ["javascript", "css", "css-animations"], "answers": [{"comments": [{"owner": {"reputation": 46605, "user_id": 663447, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/3c5a518c8611ad19f80640cc80fe4383?s=128&d=identicon&r=PG", "display_name": "Harry", "link": "https://stackoverflow.com/users/663447/harry"}, "edited": false, "score": 0, "creation_date": 1567627069, "post_id": 57794742, "comment_id": 102023195, "body": "Thanks while this answers the question it&#39;s a bit tough for me because the animation is not aware of the end state. Trying to bridge together a bunch of different components."}, {"owner": {"reputation": 1096, "user_id": 5308388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gh3X8.png?s=128&g=1", "display_name": "Riddell", "link": "https://stackoverflow.com/users/5308388/riddell"}, "reply_to_user": {"reputation": 46605, "user_id": 663447, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/3c5a518c8611ad19f80640cc80fe4383?s=128&d=identicon&r=PG", "display_name": "Harry", "link": "https://stackoverflow.com/users/663447/harry"}, "edited": false, "score": 0, "creation_date": 1567627186, "post_id": 57794742, "comment_id": 102023240, "body": "On the end of the animation, you could add your next animation class. If you could provide additional HTML/animation someone may have a better solution"}], "tags": [], "owner": {"reputation": 1096, "user_id": 5308388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gh3X8.png?s=128&g=1", "display_name": "Riddell", "link": "https://stackoverflow.com/users/5308388/riddell"}, "is_accepted": true, "score": 1, "last_activity_date": 1567625355, "creation_date": 1567625355, "answer_id": 57794742, "question_id": 57794520, "link": "https://stackoverflow.com/questions/57794520/css-animations-how-to-transition-from-animation-to-a-resting-state/57794742#57794742", "title": "CSS Animations how to transition from animation to a resting state", "body": "<p>If I've understood correctly:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$( document ).ready(function() {\r\n    $('card').click(function () {\r\n      // Add animation class\r\n      $(this).toggleClass('active');\r\n      \r\n      // Listen to animation end event\r\n      $(this).one(\"animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd\", function(){\r\n        \r\n        // Remove the class\r\n        $(this).toggleClass('active');\r\n      });\r\n    });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>/* https://jsbin.com/yujacagero/1/edit?html,css,js,output */\r\n\r\ncard {\r\n  background: #f00;\r\n  border: 1px solid #000;\r\n  width: 40px;\r\n  height: 40px;\r\n  margin: 20px;\r\n  display: block;\r\n  transition: all 2s ease;\r\n  filter: drop-shadow(2px 2px 1px rgba(0,0,0,0.4)) drop-shadow(0 -1px 2px #008000);\r\n  transform: scale(1) rotate(0);\r\n}\r\ncard.active {\r\n  animation: randanims 2s;\r\n  animation-iteration-count: 1;\r\n  animation-direction: alternate;\r\n}\r\n@-moz-keyframes randanims {\r\n  0% {\r\n    transform: scale(1) rotate(180deg);\r\n    filter: drop-shadow(1rem 1rem 1px rgba(0,0,0,0.4)) drop-shadow(0 -5px 12px #008000);\r\n  }\r\n  25% {\r\n    transform: scale(2) rotate(180deg);\r\n    filter: drop-shadow(1rem 1rem 1px rgba(0,0,0,0.4)) drop-shadow(0 -5px 12px #008000);\r\n  }\r\n  50% {\r\n    transform: translate(20px) scale(0.5) rotate(0deg);\r\n    filter: drop-shadow(1rem 1rem 1px rgba(0,0,0,0.4)) drop-shadow(0 -5px 12px #008000);\r\n  }\r\n  75% {\r\n    transform: scale(2) rotate(-180deg);\r\n    filter: drop-shadow(1rem 1rem 1px rgba(0,0,0,0.4)) drop-shadow(0 -5px 12px #008000);\r\n  }\r\n  100% {\r\n    transform: scale(1) rotate(0deg);\r\n    filter: drop-shadow(2px 2px 1px rgba(0,0,0,0.4)) drop-shadow(0 -1px 2px #008000);\r\n  }\r\n}\r\n@-webkit-keyframes randanims {\r\n  0% {\r\n    transform: scale(1) rotate(180deg);\r\n    filter: drop-shadow(1rem 1rem 1px rgba(0,0,0,0.4)) drop-shadow(0 -5px 12px #008000);\r\n  }\r\n  25% {\r\n    transform: scale(2) rotate(180deg);\r\n    filter: drop-shadow(1rem 1rem 1px rgba(0,0,0,0.4)) drop-shadow(0 -5px 12px #008000);\r\n  }\r\n  50% {\r\n    transform: translate(20px) scale(0.5) rotate(0deg);\r\n    filter: drop-shadow(1rem 1rem 1px rgba(0,0,0,0.4)) drop-shadow(0 -5px 12px #008000);\r\n  }\r\n  75% {\r\n    transform: scale(2) rotate(-180deg);\r\n    filter: drop-shadow(1rem 1rem 1px rgba(0,0,0,0.4)) drop-shadow(0 -5px 12px #008000);\r\n  }\r\n  100% {\r\n    transform: scale(1) rotate(0deg);\r\n    filter: drop-shadow(2px 2px 1px rgba(0,0,0,0.4)) drop-shadow(0 -1px 2px #008000);\r\n  }\r\n}\r\n@-o-keyframes randanims {\r\n  0% {\r\n    transform: scale(1) rotate(180deg);\r\n    filter: drop-shadow(1rem 1rem 1px rgba(0,0,0,0.4)) drop-shadow(0 -5px 12px #008000);\r\n  }\r\n  25% {\r\n    transform: scale(2) rotate(180deg);\r\n    filter: drop-shadow(1rem 1rem 1px rgba(0,0,0,0.4)) drop-shadow(0 -5px 12px #008000);\r\n  }\r\n  50% {\r\n    transform: translate(20px) scale(0.5) rotate(0deg);\r\n    filter: drop-shadow(1rem 1rem 1px rgba(0,0,0,0.4)) drop-shadow(0 -5px 12px #008000);\r\n  }\r\n  75% {\r\n    transform: scale(2) rotate(-180deg);\r\n    filter: drop-shadow(1rem 1rem 1px rgba(0,0,0,0.4)) drop-shadow(0 -5px 12px #008000);\r\n  }\r\n  100% {\r\n    transform: scale(1) rotate(0deg);\r\n    filter: drop-shadow(2px 2px 1px rgba(0,0,0,0.4)) drop-shadow(0 -1px 2px #008000);\r\n  }\r\n}\r\n@keyframes randanims {\r\n  0% {\r\n    transform: scale(1) rotate(180deg);\r\n    filter: drop-shadow(1rem 1rem 1px rgba(0,0,0,0.4)) drop-shadow(0 -5px 12px #008000);\r\n  }\r\n  25% {\r\n    transform: scale(2) rotate(180deg);\r\n    filter: drop-shadow(1rem 1rem 1px rgba(0,0,0,0.4)) drop-shadow(0 -5px 12px #008000);\r\n  }\r\n  50% {\r\n    transform: translate(20px) scale(0.5) rotate(0deg);\r\n    filter: drop-shadow(1rem 1rem 1px rgba(0,0,0,0.4)) drop-shadow(0 -5px 12px #008000);\r\n  }\r\n  75% {\r\n    transform: scale(2) rotate(-180deg);\r\n    filter: drop-shadow(1rem 1rem 1px rgba(0,0,0,0.4)) drop-shadow(0 -5px 12px #008000);\r\n  }\r\n  100% {\r\n    transform: scale(1) rotate(0deg);\r\n    filter: drop-shadow(2px 2px 1px rgba(0,0,0,0.4)) drop-shadow(0 -1px 2px #008000);\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n  &lt;meta charset=\"utf-8\"&gt;\r\n  &lt;meta name=\"viewport\" content=\"width=device-width\"&gt;\r\n  &lt;title&gt;JS Bin&lt;/title&gt;\r\n  &lt;script src=\"https://code.jquery.com/jquery-1.12.4.js\"&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;card&gt;&lt;/card&gt;\r\n  &lt;card class=\"active\"&gt;&lt;/card&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"https://jsbin.com/yepibocane/1/edit?html,css,js,output\" rel=\"nofollow noreferrer\">Updated JSBin</a> with Stylus</p>\n"}], "owner": {"reputation": 46605, "user_id": 663447, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/3c5a518c8611ad19f80640cc80fe4383?s=128&d=identicon&r=PG", "display_name": "Harry", "link": "https://stackoverflow.com/users/663447/harry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 57794742, "answer_count": 1, "score": 0, "last_activity_date": 1567796770, "creation_date": 1567624189, "last_edit_date": 1567796770, "question_id": 57794520, "link": "https://stackoverflow.com/questions/57794520/css-animations-how-to-transition-from-animation-to-a-resting-state", "title": "CSS Animations how to transition from animation to a resting state", "body": "<p>Here's my code:</p>\n\n<p><a href=\"https://jsbin.com/hibiviwuki/1/edit?html,css,js,output\" rel=\"nofollow noreferrer\">https://jsbin.com/hibiviwuki/1/edit?html,css,js,output</a></p>\n\n<pre><code>card\n  background red\n  border 1px solid black\n  width 40px\n  height 40px\n  margin 20px\n  display block\n  transition 2s\n  filter drop-shadow(2px 2px 1px rgba(0, 0, 0, .4)) drop-shadow(0 -1px 2px green)\n  transform scale(1) rotate(0)\n\n  &amp;.active\n    animation randanims 2s\n    animation-iteration-count infinite\n    animation-direction alternate\n\n\n@keyframes randanims\n  0%\n    transform scale(2) rotate(180deg)\n    filter drop-shadow(1rem 1rem 1px rgba(0, 0, 0, .4)) drop-shadow(0 -5px 12px green)\n\n  50%\n    transform translate(20px) scale(.5) rotate(0deg)\n    filter drop-shadow(1rem 1rem 1px rgba(0, 0, 0, .4)) drop-shadow(0 -5px 12px green)\n\n  100%\n    transform scale(2) rotate(-180deg)\n    filter drop-shadow(1rem 1rem 1px rgba(0, 0, 0, .4)) drop-shadow(0 -5px 12px green)\n</code></pre>\n\n<p>I'm trying to get this to transition to a resting position smoothly onclick in 2s. Right now it jumps from the animated state to the state without  animations.</p>\n\n<p>Is this possible without taking control of the animation in JS?</p>\n"}, {"tags": ["javascript", "if-statement"], "comments": [{"owner": {"reputation": 393, "user_id": 7533716, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1263060770451227/picture?type=large", "display_name": "Tarek Baz", "link": "https://stackoverflow.com/users/7533716/tarek-baz"}, "edited": false, "score": 0, "creation_date": 1567624385, "post_id": 57794517, "comment_id": 102022174, "body": "would you provide us with more code, at least your <code>HTML</code>"}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 1, "creation_date": 1567624675, "post_id": 57794517, "comment_id": 102022289, "body": "The answer is right about <code>document.ready</code> not being a thing, but you can\u2019t put an if statement in an object literal like that either."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1567624805, "post_id": 57794517, "comment_id": 102022352, "body": "mixing jquery and DOM?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11962339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e7f0aec545a8d2da367f157bcb14d86?s=128&d=identicon&r=PG&f=1", "display_name": "mm5", "link": "https://stackoverflow.com/users/11962339/mm5"}, "edited": false, "score": 0, "creation_date": 1567627597, "post_id": 57794548, "comment_id": 102023282, "body": "While that maintains the interactivity of the menu, it does not load the page with the all filter selected. This is the site I am troubleshooting <a href=\"http://maria-muldoon.muldoongraphics.com/\" rel=\"nofollow noreferrer\">maria-muldoon.muldoongraphics.com</a>. When coding in Brackets the preview displays everything correctly. When I uploaded the site to hosting, the rows in the portfolio section started overlapping vertically. However, when you click &quot;All&quot; the rows display the margins correctly. I am thinking the document.readyState is the only way to go perhaps I am wrong."}, {"owner": {"reputation": 19230, "user_id": 1444609, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/bgWmu.jpg?s=128&g=1", "display_name": "I wrestled a bear once.", "link": "https://stackoverflow.com/users/1444609/i-wrestled-a-bear-once"}, "reply_to_user": {"reputation": 1, "user_id": 11962339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e7f0aec545a8d2da367f157bcb14d86?s=128&d=identicon&r=PG&f=1", "display_name": "mm5", "link": "https://stackoverflow.com/users/11962339/mm5"}, "edited": false, "score": 0, "creation_date": 1567628375, "post_id": 57794548, "comment_id": 102023392, "body": "code in the brackets is a syntax error, which means none of that code does anythng when there&#39;s a syntax error. if breaking the code fixes it then just remove that chunk of code entirely."}], "tags": [], "owner": {"reputation": 19230, "user_id": 1444609, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/bgWmu.jpg?s=128&g=1", "display_name": "I wrestled a bear once.", "link": "https://stackoverflow.com/users/1444609/i-wrestled-a-bear-once"}, "is_accepted": false, "score": 1, "last_activity_date": 1567625539, "last_edit_date": 1567625539, "creation_date": 1567624363, "answer_id": 57794548, "question_id": 57794517, "link": "https://stackoverflow.com/questions/57794517/if-else-statement-not-working-for-page-load/57794548#57794548", "title": "If/else statement not working for page load", "body": "<p><code>document.ready</code> isn't a thing. Try <code>if(document.readyState === \"complete\"){...}</code> instead.</p>\n\n<p>see: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/readyState\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Document/readyState</a></p>\n\n<p>Or, if you want to use jQuery's ready function, you can leave your code as is and add this line somewhere:</p>\n\n<pre><code>$(()=&gt;document.ready = true)\n</code></pre>\n\n<p><a href=\"https://learn.jquery.com/using-jquery-core/document-ready/\" rel=\"nofollow noreferrer\">https://learn.jquery.com/using-jquery-core/document-ready/</a></p>\n\n<p><strong>edit:</strong> I just realized what you were doing after seeing someone point it out in the comments.. You need to create the options object before instantiating the plugin.</p>\n\n<pre><code>if(document.getElementById(\"portfolio\")){\n   var options = {};\n   if(document.readyState === \"complete\"){\n      options.filter = '.all';\n   }else{\n      options.itemSelector = \".all\";\n      options.percentPosition = true;\n      options.masonry = {columnWidth: \".all\"};\n   }\n   var $grid = $(\".grid\").isotope(options);\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 321, "user_id": 2278606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/204b0d6be292a3d51049c38dcb633a6d?s=128&d=identicon&r=PG", "display_name": "hiad", "link": "https://stackoverflow.com/users/2278606/hiad"}, "is_accepted": false, "score": 0, "last_activity_date": 1567625227, "creation_date": 1567625227, "answer_id": 57794716, "question_id": 57794517, "link": "https://stackoverflow.com/questions/57794517/if-else-statement-not-working-for-page-load/57794716#57794716", "title": "If/else statement not working for page load", "body": "<p>Please use <code>document.ready</code>with complete. Please follow this code</p>\n\n<pre><code>        if (document.getElementById(\"portfolio\")) {\n            var $grid = $(\".grid\").isotope({\n\n                if(event.target.readyState === 'interactive') {\n                    itemSelector: \".all\",\n                    percentPosition: true,\n                    masonry: {\n                        columnWidth: \".all\"\n        }\n                }else if (event.target.readyState === 'complete') {\n                    filter = \".all\"\n                }\n        });\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11962339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e7f0aec545a8d2da367f157bcb14d86?s=128&d=identicon&r=PG&f=1", "display_name": "mm5", "link": "https://stackoverflow.com/users/11962339/mm5"}, "is_accepted": false, "score": 0, "last_activity_date": 1567678531, "last_edit_date": 1567678531, "creation_date": 1567645802, "answer_id": 57797237, "question_id": 57794517, "link": "https://stackoverflow.com/questions/57794517/if-else-statement-not-working-for-page-load/57797237#57797237", "title": "If/else statement not working for page load", "body": "<p>Discovered the solution for the data-filter page load:</p>\n\n<pre><code>if(document.getElementById(\"portfolio\")){\n        var $grid = $(\".grid\").isotope({\n          itemSelector: \".all\",\n            **filter: \".web\",**\n          percentPosition: true,\n          masonry: {\n            columnWidth: \".all\",\n          }\n        })\n  };\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11962339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e7f0aec545a8d2da367f157bcb14d86?s=128&d=identicon&r=PG&f=1", "display_name": "mm5", "link": "https://stackoverflow.com/users/11962339/mm5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1567678531, "creation_date": 1567624176, "last_edit_date": 1567630974, "question_id": 57794517, "link": "https://stackoverflow.com/questions/57794517/if-else-statement-not-working-for-page-load", "title": "If/else statement not working for page load", "body": "<p>Trying to get the portfolio section of the page to display a data-filter on page load while still maintaining the menu functionality.</p>\n\n<p>Tried this if/else statement it's not working. Where am I going wrong?</p>\n\n<pre><code>if(document.getElementById(\"portfolio\")){\n var $grid = $(\".grid\").isotope ({\n  if(document.ready){\n   filter = \".all\"\n  } else {\n      itemSelector: \".all\",\n      percentPosition: true,\n      masonry: {\n      columnWidth: \".all\"\n   }\n })\n};\n</code></pre>\n\n<p>I am editing a template. This is the original JS:</p>\n\n<pre><code> $('.filters ul li').click(function(){\n    $('.filters ul li').removeClass('active');\n    $(this).addClass('active');\n\n    var data = $(this).attr('data-filter');\n    $grid.isotope({\n      filter: data\n    })\n  });\n\n  if(document.getElementById(\"portfolio\")){\n        var $grid = $(\".grid\").isotope({\n          itemSelector: \".all\",\n          percentPosition: true,\n          masonry: {\n            columnWidth: \".all\"\n          }\n        })\n  };\n</code></pre>\n\n<p>And the section of html</p>\n\n<pre><code>                   &lt;div class=\"filters\"&gt;\n                    &lt;ul&gt;\n                        &lt;li class=\"active\" data- \n                        filter=\".all\"&gt;All&lt;/li&gt;\n                        &lt;li data-filter=\".web\"&gt;Web&lt;/li&gt;\n                        &lt;li data-filter=\".print\"&gt;Print&lt;/li&gt;\n                        &lt;li data- \n                     filter=\".interactive\"&gt;Interactive&lt;/li&gt;\n                    &lt;/ul&gt;\n                &lt;/div&gt;\n                &lt;div class=\"filters-content grid\"&gt;\n                    &lt;div class=\"row print all portfolio\"&gt;\n\n                         &lt;div class=\"col-lg-7 col-md-7 col-sm-12 col- \n                          xs-12\"&gt;\n                            &lt;img src=\"img/Portfolio/SP_ads.jpg\" \n                            style=\"width:100%;\"&gt;\n                            &lt;/div&gt;\n                        &lt;div class=\"col-lg-5 col-md-5 col-sm-12 col- \n                         xs-12 portfolio-text textright order-md- \n                          first\"&gt;\n                            &lt;h3&gt;Print Advertisements&lt;/h3&gt;\n                            &lt;p&gt;InDesign&lt;/p&gt;\n                            &lt;h6&gt;Full&amp;nbsp;page magazine \n                             advertisements for a luxury petite \n                           athletic fashion&amp;nbsp;scompany.&lt;/h6&gt;\n                            &lt;/div&gt;\n                    &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "vue.js", "vuejs2", "bootstrap-vue"], "answers": [{"comments": [{"owner": {"reputation": 3116, "user_id": 2420614, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/01ab775039ae8cfc1460a347e31669d0?s=128&d=identicon&r=PG", "display_name": "redshift", "link": "https://stackoverflow.com/users/2420614/redshift"}, "edited": false, "score": 0, "creation_date": 1567625607, "post_id": 57794576, "comment_id": 102022652, "body": "Yes, but for some reason I get the following console error using slots method: <code>main.js:26 Error: TypeError: Cannot read property &#39;branch&#39; of undefined Info: render</code>"}, {"owner": {"reputation": 3116, "user_id": 2420614, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/01ab775039ae8cfc1460a347e31669d0?s=128&d=identicon&r=PG", "display_name": "redshift", "link": "https://stackoverflow.com/users/2420614/redshift"}, "edited": false, "score": 0, "creation_date": 1567625891, "post_id": 57794576, "comment_id": 102022771, "body": "When I do your above slot method, it wont&#39; work, however, when I just do: <code>{{ branchName(data.item.branch) }}</code> in the slot template it will spit out json. For some reason I can&#39;t attach <code>.branch</code> to that method ..it gives the console error"}, {"owner": {"reputation": 3200, "user_id": 575468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17065ea1655f1e3283aac8d8fc16019?s=128&d=identicon&r=PG", "display_name": "dreijntjens", "link": "https://stackoverflow.com/users/575468/dreijntjens"}, "reply_to_user": {"reputation": 3116, "user_id": 2420614, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/01ab775039ae8cfc1460a347e31669d0?s=128&d=identicon&r=PG", "display_name": "redshift", "link": "https://stackoverflow.com/users/2420614/redshift"}, "edited": false, "score": 0, "creation_date": 1567626163, "post_id": 57794576, "comment_id": 102022871, "body": "Could you be a bit more specific? Which line is it exactly? I created a codesandbox btw to show it is working: <a href=\"https://codesandbox.io/s/btable-print-branch-name-1gte0\" rel=\"nofollow noreferrer\">codesandbox.io/s/btable-print-branch-name-1gte0</a>"}, {"owner": {"reputation": 3200, "user_id": 575468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17065ea1655f1e3283aac8d8fc16019?s=128&d=identicon&r=PG", "display_name": "dreijntjens", "link": "https://stackoverflow.com/users/575468/dreijntjens"}, "reply_to_user": {"reputation": 3116, "user_id": 2420614, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/01ab775039ae8cfc1460a347e31669d0?s=128&d=identicon&r=PG", "display_name": "redshift", "link": "https://stackoverflow.com/users/2420614/redshift"}, "edited": false, "score": 0, "creation_date": 1567626263, "post_id": 57794576, "comment_id": 102022909, "body": "I presume the data is in de example is not the real data probably the method is returning null in a certain case"}, {"owner": {"reputation": 3200, "user_id": 575468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17065ea1655f1e3283aac8d8fc16019?s=128&d=identicon&r=PG", "display_name": "dreijntjens", "link": "https://stackoverflow.com/users/575468/dreijntjens"}, "reply_to_user": {"reputation": 3116, "user_id": 2420614, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/01ab775039ae8cfc1460a347e31669d0?s=128&d=identicon&r=PG", "display_name": "redshift", "link": "https://stackoverflow.com/users/2420614/redshift"}, "edited": false, "score": 0, "creation_date": 1567626329, "post_id": 57794576, "comment_id": 102022927, "body": "For this example purpose I added the .branch as the method was returning an object.Normally I solve this in the method itself"}, {"owner": {"reputation": 3116, "user_id": 2420614, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/01ab775039ae8cfc1460a347e31669d0?s=128&d=identicon&r=PG", "display_name": "redshift", "link": "https://stackoverflow.com/users/2420614/redshift"}, "edited": false, "score": 0, "creation_date": 1567626333, "post_id": 57794576, "comment_id": 102022928, "body": "Some record data in my real data returns <code>null</code>. Is that an issue?"}, {"owner": {"reputation": 3200, "user_id": 575468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17065ea1655f1e3283aac8d8fc16019?s=128&d=identicon&r=PG", "display_name": "dreijntjens", "link": "https://stackoverflow.com/users/575468/dreijntjens"}, "reply_to_user": {"reputation": 3116, "user_id": 2420614, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/01ab775039ae8cfc1460a347e31669d0?s=128&d=identicon&r=PG", "display_name": "redshift", "link": "https://stackoverflow.com/users/2420614/redshift"}, "edited": false, "score": 0, "creation_date": 1567626658, "post_id": 57794576, "comment_id": 102023055, "body": "Yes it is, I updated my code so It will also work wil null values"}, {"owner": {"reputation": 3116, "user_id": 2420614, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/01ab775039ae8cfc1460a347e31669d0?s=128&d=identicon&r=PG", "display_name": "redshift", "link": "https://stackoverflow.com/users/2420614/redshift"}, "reply_to_user": {"reputation": 3200, "user_id": 575468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17065ea1655f1e3283aac8d8fc16019?s=128&d=identicon&r=PG", "display_name": "dreijntjens", "link": "https://stackoverflow.com/users/575468/dreijntjens"}, "edited": false, "score": 0, "creation_date": 1567626895, "post_id": 57794576, "comment_id": 102023132, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/198968/discussion-between-redshift-and-dreijntjens\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 3200, "user_id": 575468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17065ea1655f1e3283aac8d8fc16019?s=128&d=identicon&r=PG", "display_name": "dreijntjens", "link": "https://stackoverflow.com/users/575468/dreijntjens"}, "is_accepted": true, "score": 0, "last_activity_date": 1567626623, "last_edit_date": 1567626623, "creation_date": 1567624515, "answer_id": 57794576, "question_id": 57794484, "link": "https://stackoverflow.com/questions/57794484/bootstrapvue-b-table-item-data-not-running-formatter-callback/57794576#57794576", "title": "BootstrapVue: B-table item data not running formatter callback", "body": "<p>You should use slots to implement custom behavior like. For more information <a href=\"https://bootstrap-vue.js.org/docs/components/table#scoped-field-slots\" rel=\"nofollow noreferrer\">https://bootstrap-vue.js.org/docs/components/table#scoped-field-slots</a></p>\n\n<p>Here is how you could implement your code</p>\n\n<pre><code>&lt;template&gt;\n  &lt;div id=\"app\"&gt;\n    &lt;b-table striped hover :items=\"userProfiles\"&gt;\n      &lt;template slot=\"[uid]\" slot-scope=\"data\"&gt;{{ data.item.uid }}&lt;/template&gt;\n      &lt;template slot=\"[branch]\" slot-scope=\"data\"&gt;{{ branchName(data.item.branch) }}&lt;/template&gt;\n    &lt;/b-table&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p>Method:</p>\n\n<pre><code>branchName(value) {\n  const branch = this.branches.find(branch =&gt; value === branch.branch_id);\n  if (branch) {\n    return branch.branch\n  }\n\n  return \"\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4174, "user_id": 2744776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i2htF.jpg?s=128&g=1", "display_name": "Troy Morehouse", "link": "https://stackoverflow.com/users/2744776/troy-morehouse"}, "is_accepted": false, "score": 1, "last_activity_date": 1567647892, "last_edit_date": 1567647892, "creation_date": 1567625552, "answer_id": 57794784, "question_id": 57794484, "link": "https://stackoverflow.com/questions/57794484/bootstrapvue-b-table-item-data-not-running-formatter-callback/57794784#57794784", "title": "BootstrapVue: B-table item data not running formatter callback", "body": "<p>To answer the OPs original question (why the formatter function was not being called):</p>\n\n<p>In your <code>App.vue</code> file you are missing binding your <code>fields</code> definition array to the <code>fields</code> prop of <code>&lt;b-table&gt;</code>.  Try this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;template&gt;\n  &lt;div id=\"app\"&gt;\n    &lt;b-table striped hover :items=\"userProfiles\" :fields=\"fields\"&gt;&lt;/b-table&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p>If <code>&lt;b-table&gt;</code> isn't passed a field definition array, it will peek at the first row's item data and grab the field names that it finds, and then generates its own internal <code>fields</code> definition (just the field keys and humanized labels)</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8677075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ew7uC.jpg?s=128&g=1", "display_name": "williammussa", "link": "https://stackoverflow.com/users/8677075/williammussa"}, "is_accepted": false, "score": -1, "last_activity_date": 1598126434, "last_edit_date": 1598126434, "creation_date": 1598120498, "answer_id": 63539641, "question_id": 57794484, "link": "https://stackoverflow.com/questions/57794484/bootstrapvue-b-table-item-data-not-running-formatter-callback/63539641#63539641", "title": "BootstrapVue: B-table item data not running formatter callback", "body": "<p>try this in your template</p>\n<pre><code>&lt;template v-slot:cell(name)=&quot;data&quot;&gt;\n      &lt;router-link :to=&quot;/route/${data.index}&quot;&gt;\n        {{ data.value }}\n      &lt;/router-link&gt;\n</code></pre>\n"}], "owner": {"reputation": 3116, "user_id": 2420614, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/01ab775039ae8cfc1460a347e31669d0?s=128&d=identicon&r=PG", "display_name": "redshift", "link": "https://stackoverflow.com/users/2420614/redshift"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3001, "favorite_count": 0, "accepted_answer_id": 57794576, "answer_count": 3, "score": 0, "last_activity_date": 1598126434, "creation_date": 1567624023, "last_edit_date": 1567625120, "question_id": 57794484, "link": "https://stackoverflow.com/questions/57794484/bootstrapvue-b-table-item-data-not-running-formatter-callback", "title": "BootstrapVue: B-table item data not running formatter callback", "body": "<p>I am using the <code>&lt;b-table&gt;</code> component from <a href=\"https://bootstrap-vue.js.org/\" rel=\"nofollow noreferrer\">BootstrapVue</a> and trying to customize field output by using a <a href=\"https://bootstrap-vue.js.org/docs/components/table/#formatter-callback\" rel=\"nofollow noreferrer\">formatter callback function</a>. <strong>The table data displays fine , but for some reason the callback function method <code>branchName()</code> is not being called and the value is not being formatted to the branch name instead of the branch id.</strong></p>\n\n<p>I set up a codesandbox to demonstrate the problem: <a href=\"https://codesandbox.io/embed/btable-print-branch-name-3nv6n\" rel=\"nofollow noreferrer\">code demo</a></p>\n\n<p>The goal of the method is to return the name of the <code>branch</code> item. However, only the <code>branch_id</code> is being returned. In other words, the record row under the <code>Branch</code> table column should say <code>ACME10</code> and not <code>10</code>. </p>\n\n<p>My file named <code>App.vue</code>:</p>\n\n<pre><code>&lt;template&gt;\n  &lt;div id=\"app\"&gt;\n    &lt;b-table striped hover :items=\"userProfiles\"&gt;&lt;/b-table&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nexport default {\n  data() {\n    return {\n      userProfiles: [\n        {\n          uid: \"3\",\n          branch: 10\n        },\n        {\n          uid: \"1\",\n          branch: 20\n        },\n        {\n          uid: \"2\",\n          branch: 13\n        }\n      ],\n      branches: [\n        {\n          branch_id: 13,\n          branch: \"ACME13\"\n        },\n        {\n          branch_id: 10,\n          branch: \"ACME10\"\n        },\n        {\n          branch_id: 20,\n          branch: \"ACME20\"\n        }\n      ],\n      fields: [\n        {\n          key: \"branch\",\n          formatter: \"branchName\"\n        }\n      ]\n    };\n  },\n  methods: {\n    branchName(value) {\n      const name = this.branches[0].find(branch =&gt; value === branch.branch_id);\n      return name;\n    }\n  }\n};\n&lt;/script&gt;\n</code></pre>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1567624090, "post_id": 57794477, "comment_id": 102022052, "body": "Given that <code>findComment</code> doesn&#39;t return anything, and that it doesn&#39;t have any parameters, this won&#39;t work: <code>comments.concat(findComment(olElement.childNodes[i]))</code>. It would evaluate to <code>comments.concat(undefined)</code>. Your code has the ID hard-coded, rather than using the passed-in argument."}, {"owner": {"reputation": 6091, "user_id": 933198, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/25a22103fd3210fdfa142843c7777ff1?s=128&d=identicon&r=PG", "display_name": "Lee Taylor", "link": "https://stackoverflow.com/users/933198/lee-taylor"}, "edited": false, "score": 0, "creation_date": 1567624111, "post_id": 57794477, "comment_id": 102022060, "body": "Your code always looks for the same id and then looks for it&#39;s children. Ad infinitum"}, {"owner": {"reputation": 189597, "user_id": 616443, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/907798bf02efdaf6f9d07d3c0552868f?s=128&d=identicon&r=PG", "display_name": "j08691", "link": "https://stackoverflow.com/users/616443/j08691"}, "edited": false, "score": 0, "creation_date": 1567624260, "post_id": 57794477, "comment_id": 102022114, "body": "<a href=\"https://stackoverflow.com/questions/16151813/is-there-a-dom-api-for-querying-comment-nodes\" title=\"is there a dom api for querying comment nodes\">stackoverflow.com/questions/16151813/&hellip;</a>"}, {"owner": {"reputation": 1089, "user_id": 6080889, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j9S1fFOR5tc/AAAAAAAAAAI/AAAAAAAARjI/ZshXXge1K5o/photo.jpg?sz=128", "display_name": "Royson", "link": "https://stackoverflow.com/users/6080889/royson"}, "edited": false, "score": 0, "creation_date": 1567624369, "post_id": 57794477, "comment_id": 102022163, "body": "Everytime you call <code>findComment</code> method from the for loop you begin searching from the <code>everything</code> node. The function should have arguments to start from the childnodes"}], "answers": [{"comments": [{"owner": {"reputation": 16113, "user_id": 2610061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fa4474d4e3352d1f9da8f52df42db95?s=128&d=identicon&r=PG", "display_name": "cars10m", "link": "https://stackoverflow.com/users/2610061/cars10m"}, "edited": false, "score": 0, "creation_date": 1567658759, "post_id": 57795361, "comment_id": 102029704, "body": "You still seem to have forgotten to <code>return</code> the <code>comments</code> in your <code>findComments()</code> function."}], "tags": [], "owner": {"reputation": 439, "user_id": 2986044, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6c9a0583352e3cd4184aabdfacbbbdad?s=128&d=identicon&r=PG&f=1", "display_name": "franzke", "link": "https://stackoverflow.com/users/2986044/franzke"}, "is_accepted": false, "score": 0, "last_activity_date": 1567699058, "last_edit_date": 1567699058, "creation_date": 1567629573, "answer_id": 57795361, "question_id": 57794477, "link": "https://stackoverflow.com/questions/57794477/too-much-recursion-error-when-trying-to-find-all-html-comments/57795361#57795361", "title": "Too Much Recursion Error When Trying to Find All HTML Comments", "body": "<p>Move the olElements variable outside the function and pass in the element you want to search.  The recursion you have is always starting with 'everything';  </p>\n\n<pre><code>var comments = new Array();\nfunction findComment(element)\n{ \n        if (element.nodeType == 8)\n        {\n            comments[comments.length] = element;\n        } else if(element.childNodes.length&gt;0)\n            {\n                for (var i = 0; i&lt;element.childNodes.length; i++)\n                {\n                    comments = comments.concat(findComment(element.childNodes[i]));\n                }\n            }\n        return comments;\n}\n\nvar olElement = document.getElementById(\"everything\");//this is the id for my body element\nalert(findComment(olElement));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16113, "user_id": 2610061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fa4474d4e3352d1f9da8f52df42db95?s=128&d=identicon&r=PG", "display_name": "cars10m", "link": "https://stackoverflow.com/users/2610061/cars10m"}, "is_accepted": false, "score": 0, "last_activity_date": 1567667861, "last_edit_date": 1567667861, "creation_date": 1567661023, "answer_id": 57798897, "question_id": 57794477, "link": "https://stackoverflow.com/questions/57794477/too-much-recursion-error-when-trying-to-find-all-html-comments/57798897#57798897", "title": "Too Much Recursion Error When Trying to Find All HTML Comments", "body": "<p>This is a rough cut version of how you could do it with a recursion. It is not really elegant but will do the work:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function fico(el){\r\n  if (el.nodeType==8) return [el.textContent.trim()]\r\n  else return [...el.childNodes].map(fico);\r\n}\r\nconsole.log(fico(document.querySelector(\"#everything\")).toString().replace(/,+/g,\", \"));</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;body id=\"everything\"&gt;\r\n&lt;div&gt;something &lt;!-- comment1 --&gt;\r\n &lt;div&gt;with something inside\r\n   &lt;!-- comment2 --&gt;\r\n   &lt;div&gt;and something further&lt;div&gt;\r\n   &lt;span&gt;inside\r\n &lt;!-- comment3 --&gt;&lt;/span&gt;\r\n    it \r\n &lt;/div&gt;\r\n more regular text \r\n &lt;!-- comment4 --&gt; and enough.\r\n&lt;/div&gt;&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Depending on the html input the function will return an array of subarrays with further levels of subarrays. To flatten it I used the Array-method <code>toString()</code> and then <code>replace()</code> with a regular expression to throw out the multiple commas in the result. There is still a superfluous one at the beginning ;-)</p>\n\n<p>And here is an alternative version that uses a global <code>comments</code> array like you used in your code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var comments=[];\r\nfunction fico(el){\r\n  if (el.nodeType==8) comments.push(el.textContent.trim());\r\n  else [...el.childNodes].forEach(fico);\r\n}\r\nfico(document.querySelector(\"#everything\"));  // collect comments ...\r\nconsole.log(comments.join(', '));             // ... and display them</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;body id=\"everything\"&gt;\r\n&lt;div&gt;something &lt;!-- comment1 --&gt;\r\n &lt;div&gt;with something inside\r\n   &lt;!-- comment2 --&gt;\r\n   &lt;div&gt;and something further&lt;div&gt;\r\n   &lt;span&gt;inside\r\n &lt;!-- comment3 --&gt;&lt;/span&gt;\r\n    it \r\n &lt;/div&gt;\r\n more regular text \r\n &lt;!-- comment4 --&gt; and enough.\r\n&lt;/div&gt;&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 339, "user_id": 1542134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba1636459c437a9ae1ff23fe65d9cd9d?s=128&d=identicon&r=PG", "display_name": "EricMPastore", "link": "https://stackoverflow.com/users/1542134/ericmpastore"}, "is_accepted": false, "score": 0, "last_activity_date": 1567952220, "creation_date": 1567952220, "answer_id": 57842729, "question_id": 57794477, "link": "https://stackoverflow.com/questions/57794477/too-much-recursion-error-when-trying-to-find-all-html-comments/57842729#57842729", "title": "Too Much Recursion Error When Trying to Find All HTML Comments", "body": "<p>Update: I tried both methods above and received error that either \"element\" or \"el\" is null. So...progress. I've pulled together my full code and html and posted below:</p>\n\n<pre><code>    &lt;!DOCTYPE html&gt;\n    &lt;html&gt;\n        &lt;head&gt;\n            &lt;title&gt;A Simple Page&lt;/title&gt;\n            &lt;script&gt;\n                var comments = new Array();\n                    function findComment(element)\n                    { \n\n                            if (element.nodeType == 8)\n                            {\n                                comments[comments.length] = element;\n                            } else if(element.childNodes.length&gt;0)\n                                {\n                                    for (var i = 0; i&lt;element.childNodes.length; i++)\n                                    {\n                                        comments = comments.concat(findComment(element.childNodes[i]));\n                                    }\n                                }\n                            return comments;\n                    }\n\n//window.onload = countListItems;\n//window.onload = countTagItems;\n//window.onload = getElements;\nvar olElement = document.getElementById(\"everything\");//this is the id for my body element\nwindow.onload = alert(findComment(olElement));\n            &lt;/script&gt;\n        &lt;/head&gt;\n        &lt;body&gt;\n            &lt;div id=\"everything\"&gt;\n            &lt;h1&gt;Things to Do&lt;/h1&gt;&lt;!--this is a title--&gt;\n            &lt;ol id=\"toDoList\"&gt;&lt;!--this is a list--&gt;\n                &lt;li&gt;Mow the lawn&lt;/li&gt;&lt;!--this is a list item--&gt;\n                &lt;li&gt;Clean the windows&lt;/li&gt;\n                &lt;li&gt;Answer your email&lt;/li&gt;\n            &lt;/ol&gt;\n            &lt;p id=\"toDoNotes\"&gt;Make sure all these things are done so you can get some rest.&lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 339, "user_id": 1542134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba1636459c437a9ae1ff23fe65d9cd9d?s=128&d=identicon&r=PG", "display_name": "EricMPastore", "link": "https://stackoverflow.com/users/1542134/ericmpastore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1567952220, "creation_date": 1567623998, "question_id": 57794477, "link": "https://stackoverflow.com/questions/57794477/too-much-recursion-error-when-trying-to-find-all-html-comments", "title": "Too Much Recursion Error When Trying to Find All HTML Comments", "body": "<p>The script below is meant to find all html comments in the page (there are 4) and return them as one string. I ran the script below and received a \"Too Much Recursion\" error. </p>\n\n<p>Have I created an infinite loop or did I do something else?</p>\n\n<pre><code>function findComment()\n{ \n        var olElement = document.getElementById(\"everything\");//this is the id for my body element\n        var comments = new Array();\n\n        if (olElement.nodeType == 8)\n        {\n            comments[comments.length] = olElement;\n        } else if(olElement.childNodes.length&gt;0)\n            {\n                for (var i = 0; i&lt;olElement.childNodes.length; i++)\n                {\n                    comments = comments.concat(findComment(olElement.childNodes[i]));\n                }\n            }\n        alert(comments);\n}\n\n//window.onload = countListItems;\n//window.onload = countTagItems;\n//window.onload = getElements;\nwindow.onload = findComment;\n</code></pre>\n"}, {"tags": ["javascript"], "answers": [{"comments": [{"owner": {"reputation": 45386, "user_id": 1264804, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/oYX71.png?s=128&g=1", "display_name": "isherwood", "link": "https://stackoverflow.com/users/1264804/isherwood"}, "edited": false, "score": 0, "creation_date": 1567624474, "post_id": 57794541, "comment_id": 102022207, "body": "Right. You don&#39;t set the HTML of an input, you change its value."}], "tags": [], "owner": {"reputation": 430, "user_id": 10509886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jztmg.png?s=128&g=1", "display_name": "JDunken", "link": "https://stackoverflow.com/users/10509886/jdunken"}, "is_accepted": false, "score": 2, "last_activity_date": 1567624326, "creation_date": 1567624326, "answer_id": 57794541, "question_id": 57794457, "link": "https://stackoverflow.com/questions/57794457/javascript-unit-converter-with-2-dropdown-menus/57794541#57794541", "title": "JavaScript Unit Converter with 2 dropdown menus", "body": "<p><code>document.getElementById('convertedOuput').value = result</code> should display the result of your function.</p>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 12021045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42fc60f91dcf5187e95ccb72cf02dc28?s=128&d=identicon&r=PG&f=1", "display_name": "rodspain", "link": "https://stackoverflow.com/users/12021045/rodspain"}, "edited": false, "score": 1, "creation_date": 1568215240, "post_id": 57794641, "comment_id": 102205911, "body": "Hello. Thanks so much for taking the time to give such a detailed and clear explanation. And for the good will of helping a beginner. I had solved this next day after posting this and i just see the answer now. Sorry for not saying before. I&#39;m loving coding more and more everyday.  And it seems the community is super generous.  Hopefully one day i&#39;ll be able to help beginners the way i&#39;m beeing helped now. Thanks again."}], "tags": [], "owner": {"reputation": 13641, "user_id": 1871033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30bea353b9b21b063e2be8ab57a1465e?s=128&d=identicon&r=PG", "display_name": "CherryDT", "link": "https://stackoverflow.com/users/1871033/cherrydt"}, "is_accepted": true, "score": 1, "last_activity_date": 1567624874, "creation_date": 1567624874, "answer_id": 57794641, "question_id": 57794457, "link": "https://stackoverflow.com/questions/57794457/javascript-unit-converter-with-2-dropdown-menus/57794641#57794641", "title": "JavaScript Unit Converter with 2 dropdown menus", "body": "<p>You have a typo:</p>\n\n<p><code>var  madeSelection_1 = selecFrom[selectFrom.selectedIndex].value;</code></p>\n\n<p>This should be <code>selectFrom</code> and not <code>selecFrom</code>.</p>\n\n<p>Also, you need to set the value of the input field using <code>convertedOuput.value = result</code> instead of setting its <code>innerHTML</code>. (By the way, <code>convertedOuput</code> is also misspelled, should be <code>convertedOutput</code>, but it's consistent, so it should work anyway.)</p>\n\n<p>And finally, you are checking the selected units outside of the conversion button click handler, so they won't be updated when the user changes the selections in the dropdown. Move the corresponding lines which set <code>value</code>, <code>convertedOuput</code> and <code>madeSelection_1</code> and <code>madeSelection_2</code> into the <code>Conversion</code> function. (Explanation: Right now, the code is run once upon page load, so the values loaded there will always be the an empty string coming from the <code>Choose option</code> option. Afterwards, this part is run every time the button is clicked, so the values will be up to date.)</p>\n\n<p>It works now:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function Conversion() {\r\n  var val = document.getElementById(\"value\").value;\r\n  var convertedOutput = document.getElementById(\"convertedOutput\");\r\n\r\n  var selectFrom = document.getElementById(\"Selection\");\r\n  var selectTo = document.getElementById(\"Selection2\");\r\n\r\n  var madeSelection_1 = selectFrom[selectFrom.selectedIndex].value;\r\n  var madeSelection_2 = selectTo[selectTo.selectedIndex].value;\r\n\r\n  if (madeSelection_1 == \"kilograms1\" &amp;&amp; madeSelection_2 == \"kilograms2\") {\r\n    var result = val * 1;\r\n    convertedOutput.value = result;\r\n\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\" dir=\"ltr\"&gt;\r\n\r\n&lt;head&gt;\r\n  &lt;meta charset=\"utf-8\"&gt;\r\n  &lt;title&gt;&lt;/title&gt;\r\n  &lt;script src=\"simpleweightconversortest.js\"&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;form&gt;\r\n\r\n    &lt;!-- Select 1--&gt;\r\n    &lt;label&gt;From:&lt;/label&gt;\r\n    &lt;select name=\"converts\" id=\"Selection\"&gt;\r\n      &lt;option&gt;Chose Option&lt;/option&gt;\r\n      &lt;option value=\"kilograms1\"&gt;Kilograms&lt;/option&gt;\r\n      &lt;option value=\"grams1\"&gt;Grams&lt;/option&gt;\r\n      &lt;option value=\"miligrams1\"&gt;Miligrams&lt;/option&gt;\r\n    &lt;/select&gt;\r\n\r\n    &lt;!-- Select 2--&gt;\r\n    &lt;label&gt;To:&lt;/label&gt;\r\n    &lt;select name=\"converts2\" id=\"Selection2\"&gt;\r\n      &lt;option&gt;Chose Option&lt;/option&gt;\r\n      &lt;option value=\"kilograms2\"&gt;Kilograms&lt;/option&gt;\r\n      &lt;option value=\"grams2\"&gt;Grams&lt;/option&gt;\r\n      &lt;option value=\"miligrams2\"&gt;Miligrams&lt;/option&gt;\r\n    &lt;/select&gt;\r\n\r\n\r\n    &lt;!--INPUT--&gt;\r\n    &lt;br&gt;\r\n    &lt;br&gt;\r\n    &lt;br&gt;Value\r\n    &lt;input type=\"number\" id=\"value\" placeholder=\"Insert value\"&gt;\r\n\r\n    &lt;!--RESULT --&gt;\r\n    &lt;br&gt;Conversion\r\n    &lt;input type=\"text\" id=\"convertedOutput\"&gt;\r\n\r\n    &lt;br&gt;\r\n    &lt;br&gt;\r\n    &lt;input type=\"Button\" onclick=\"Conversion()\" value=\"convert\"&gt;\r\n  &lt;/form&gt;\r\n\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Note that you would have found a hint to these things more easily if you had looked into your browser's devtools - there you'd have seen an error about <code>selecFrom</code>.</p>\n\n<p>Try pressing F12 in your browser. :-)</p>\n\n<p>Furthermore, in the devtools you can do many powerful things to debug and analyze your code, such as executing arbitrary code at runtime, inspect variables, single-step through your lines of code, etc.</p>\n\n<p>I'd recommend you to watch the <a href=\"https://www.youtube.com/watch?v=x4q86IjJFag\" rel=\"nofollow noreferrer\">Google Chrome Devtools Crash Course video on YouTube</a> to get started!</p>\n"}], "owner": {"reputation": 45, "user_id": 12021045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42fc60f91dcf5187e95ccb72cf02dc28?s=128&d=identicon&r=PG&f=1", "display_name": "rodspain", "link": "https://stackoverflow.com/users/12021045/rodspain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "accepted_answer_id": 57794641, "answer_count": 2, "score": 1, "last_activity_date": 1567624874, "creation_date": 1567623917, "last_edit_date": 1567624497, "question_id": 57794457, "link": "https://stackoverflow.com/questions/57794457/javascript-unit-converter-with-2-dropdown-menus", "title": "JavaScript Unit Converter with 2 dropdown menus", "body": "<p>I'm new to JavaScript. Trying to build, for practice, a simple unit converter kind of like the one that google uses for converting kilos to pounds, inches to meters, etc.\n   I'd like to have an input box for entering the number value. \nAfter that, two  lists in the HTML files so i can choose in first  the unit i convert from; and on the second  the unit i convert to. \n  Maybe is an obvious one but i have not been able to find an answer to this problem. I'll post the last code/approach i tried.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\" dir=\"ltr\"&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;&lt;/title&gt;\n    &lt;script src=\"simpleweightconversortest.js\"&gt;&lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;form&gt;\n\n      &lt;!-- Select 1--&gt;\n      &lt;label&gt;From:&lt;/label&gt;\n    &lt;select name=\"converts\" id=\"Selection\"&gt;\n        &lt;option&gt;Chose Option&lt;/option&gt;\n        &lt;option value=\"kilograms1\"&gt;Kilograms&lt;/option&gt;\n        &lt;option value=\"grams1\"&gt;Grams&lt;/option&gt;\n        &lt;option value=\"miligrams1\"&gt;Miligrams&lt;/option&gt;\n    &lt;/select&gt;\n\n    &lt;!-- Select 2--&gt;\n    &lt;label&gt;To:&lt;/label&gt;\n  &lt;select name=\"converts2\" id=\"Selection2\"&gt;\n      &lt;option&gt;Chose Option&lt;/option&gt;\n      &lt;option value=\"kilograms2\"&gt;Kilograms&lt;/option&gt;\n      &lt;option value=\"grams2\"&gt;Grams&lt;/option&gt;\n      &lt;option value=\"miligrams2\"&gt;Miligrams&lt;/option&gt;\n  &lt;/select&gt;\n\n\n&lt;!--INPUT--&gt;\n    &lt;br&gt;\n    &lt;br&gt;\n    &lt;br&gt;Value\n    &lt;input type=\"number\" id=\"value\" placeholder=\"Insert value\"&gt;\n\n&lt;!--RESULT --&gt;\n    &lt;br&gt;Conversion\n    &lt;input type=\"text\" id=\"convertedOuput\"&gt;\n\n    &lt;br&gt;\n    &lt;br&gt;\n    &lt;input type=\"Button\" onclick=\"Conversion()\"\n    value=\"convert\"&gt;\n&lt;/form&gt;\n\n  &lt;/body&gt;\n  &lt;/html&gt;\n</code></pre>\n\n<pre><code>\n\n    var val = document.getElementById(\"value\").value;\n    var convertedOuput =document.getElementById(\"convertedOuput\");\n\n    var selectFrom = document.getElementById(\"Selection\");\n    var selectTo = document.getElementById(\"Selection2\");\n\n    var  madeSelection_1 = selecFrom[selectFrom.selectedIndex].value;\n    var  madeSelection_2 = selectTo[selectTo.selectedIndex].value;\n\n  function Conversion() {\n    if (madeSelection_1 == \"kilograms1\" &amp;&amp; madeSelection_2 == \"kilograms2\") {\n      var result = val * 1;\n      document.getElementById('convertedOuput').innerHTML = result;\n\n    }\n}\n</code></pre>\n\n<p>I'm not getting any output in my \"conversion\" input box. \nWhat am i doing wrong ? (i'm sure almost everything) Please help.</p>\n"}, {"tags": ["javascript", "html", "resources"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1567623850, "post_id": 57794419, "comment_id": 102021961, "body": "If you use PHP for the backend, then why don&#39;t you just generate the HTML from PHP?"}, {"owner": {"reputation": 11433, "user_id": 571648, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/3c8aa5f38b7aee1d95b797718d38cf45?s=128&d=identicon&r=PG", "display_name": "erdomester", "link": "https://stackoverflow.com/users/571648/erdomester"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1567624385, "post_id": 57794419, "comment_id": 102022173, "body": "@Daniel how is my question a duplicate of what you are referring to?"}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1567624459, "post_id": 57794419, "comment_id": 102022201, "body": "you are trying to include text in another html document."}, {"owner": {"reputation": 11433, "user_id": 571648, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/3c8aa5f38b7aee1d95b797718d38cf45?s=128&d=identicon&r=PG", "display_name": "erdomester", "link": "https://stackoverflow.com/users/571648/erdomester"}, "edited": false, "score": 0, "creation_date": 1567629951, "post_id": 57794419, "comment_id": 102023958, "body": "But not a whole html page, just &quot;part of it&quot;"}], "owner": {"reputation": 11433, "user_id": 571648, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/3c8aa5f38b7aee1d95b797718d38cf45?s=128&d=identicon&r=PG", "display_name": "erdomester", "link": "https://stackoverflow.com/users/571648/erdomester"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 15, "favorite_count": 0, "closed_date": 1567623876, "answer_count": 0, "score": 0, "last_activity_date": 1567623747, "creation_date": 1567623747, "question_id": 57794419, "link": "https://stackoverflow.com/questions/57794419/how-to-use-string-resources-in-html-files", "closed_reason": "Duplicate", "title": "How to use string resources in html files", "body": "<p>I am wondering if there is a way to load texts in a website from an external file. After googleing a lot I came up with nothing, but I don't think I am inventing the wheel here.</p>\n\n<p>I need something like</p>\n\n<pre><code>&lt;p id=\"1\"&gt;Resource.text1&lt;/p&gt;\n&lt;p id=\"2\"&gt;Resource.text2&lt;/p&gt;\n&lt;p id=\"3\"&gt;Resource.text3&lt;/p&gt; where locally it looks like this:\n&lt;p id=\"3\"&gt;Make text &lt;span style=\"color:blue;\"&gt;blue&lt;/span&gt;&lt;/p&gt;\n</code></pre>\n\n<p>I am using html with javascript for the frontend, and php for the backend.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "html", "angular", "angular-material"], "comments": [{"owner": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "edited": false, "score": 0, "creation_date": 1567628402, "post_id": 57794412, "comment_id": 102023401, "body": "I think because you might be doing it dynamically thats why you need to layout the whole menu. the parent when hovered, doesn&#39;t trigger close of grandchild until parent or child is different. <a href=\"https://dynamic-sidenav-multi-level-menu-uomjrw.stackblitz.io\" rel=\"nofollow noreferrer\">dynamic-sidenav-multi-level-menu-uomjrw.stackblitz.io</a>"}, {"owner": {"reputation": 6501, "user_id": 6561309, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ebf72f3e9baf847980ed8355216db133?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6561309/richard"}, "reply_to_user": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "edited": false, "score": 0, "creation_date": 1567628837, "post_id": 57794412, "comment_id": 102023549, "body": "@joyBlanks, thank you for the info.  Yes, I do think it&#39;s because I am doing it dynamically (I have to because it is data driven). Also, I am using recursion because then there is no code duplication. But I still don&#39;t know if there&#39;s a way to fix it?  Or some way to close the children items."}, {"owner": {"reputation": 6501, "user_id": 6561309, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ebf72f3e9baf847980ed8355216db133?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6561309/richard"}, "reply_to_user": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "edited": false, "score": 0, "creation_date": 1567628992, "post_id": 57794412, "comment_id": 102023609, "body": "Is there perhaps some way to change the menu name on each recursion? I have a depth value, maybe I can try that? (was thinking it may be because all the menu names are the same)."}, {"owner": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "edited": false, "score": 0, "creation_date": 1567629406, "post_id": 57794412, "comment_id": 102023764, "body": "You could try putting them in ngcontainers or ngtemplates and hide them"}, {"owner": {"reputation": 6501, "user_id": 6561309, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ebf72f3e9baf847980ed8355216db133?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6561309/richard"}, "reply_to_user": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "edited": false, "score": 0, "creation_date": 1567629553, "post_id": 57794412, "comment_id": 102023821, "body": "@joyBlanks, thanks. What would the syntax in the html look like then?  I am struggling to understand what to change the <code>#menu=&quot;matMenu&quot;</code> and <code>[matMenuTriggerFor]=&quot;menu&quot;</code> to."}, {"owner": {"reputation": 6501, "user_id": 6561309, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ebf72f3e9baf847980ed8355216db133?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6561309/richard"}, "reply_to_user": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "edited": false, "score": 0, "creation_date": 1567630121, "post_id": 57794412, "comment_id": 102024020, "body": "This example kind of does what I want <a href=\"https://stackblitz.com/edit/dynamic-mat-menu\" rel=\"nofollow noreferrer\">stackblitz.com/edit/dynamic-mat-menu</a>. i.e. <code>[matMenuTriggerFor]=item.elementRef</code>.  But I still don&#39;t know how to dynamically change the <code>#menu=&quot;matMenu&quot;</code>."}, {"owner": {"reputation": 6501, "user_id": 6561309, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ebf72f3e9baf847980ed8355216db133?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6561309/richard"}, "reply_to_user": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "edited": false, "score": 0, "creation_date": 1567632406, "post_id": 57794412, "comment_id": 102024770, "body": "This is also doing something similar, but I just can&#39;t seem to apply it to my example: <a href=\"https://stackoverflow.com/questions/50393885/angular-matmenutriggerfor-programmatically\" title=\"angular matmenutriggerfor programmatically\">stackoverflow.com/questions/50393885/&hellip;</a>."}, {"owner": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "edited": false, "score": 0, "creation_date": 1567633727, "post_id": 57794412, "comment_id": 102025160, "body": "let me know if the solution posted worked"}], "answers": [{"comments": [{"owner": {"reputation": 6501, "user_id": 6561309, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ebf72f3e9baf847980ed8355216db133?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6561309/richard"}, "edited": false, "score": 0, "creation_date": 1567633927, "post_id": 57795960, "comment_id": 102025200, "body": "thank you for the answer above. I appreciate the effort.  However, this will not work for me, because my solution is data-driven. This means that it may sometimes be more then 3 levels, sometimes less."}, {"owner": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "reply_to_user": {"reputation": 6501, "user_id": 6561309, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ebf72f3e9baf847980ed8355216db133?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6561309/richard"}, "edited": false, "score": 0, "creation_date": 1567634216, "post_id": 57795960, "comment_id": 102025265, "body": "well do you know the max levels?"}, {"owner": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "reply_to_user": {"reputation": 6501, "user_id": 6561309, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ebf72f3e9baf847980ed8355216db133?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6561309/richard"}, "edited": false, "score": 0, "creation_date": 1567634463, "post_id": 57795960, "comment_id": 102025324, "body": "I mean you have to write the code, this is more of the idea"}, {"owner": {"reputation": 6501, "user_id": 6561309, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ebf72f3e9baf847980ed8355216db133?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6561309/richard"}, "edited": false, "score": 0, "creation_date": 1567634551, "post_id": 57795960, "comment_id": 102025335, "body": "I don&#39;t think it will be large, but I don&#39;t know what it will be in the real wold situation. I just want to write this so it can cater for different levels. That&#39;s why I chose to use recursion."}], "tags": [], "owner": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "is_accepted": false, "score": 1, "last_activity_date": 1567635180, "last_edit_date": 1567635180, "creation_date": 1567633454, "answer_id": 57795960, "question_id": 57794412, "link": "https://stackoverflow.com/questions/57794412/angular-materials-cant-get-multi-items-to-work/57795960#57795960", "title": "Angular Materials - can&#39;t get multi items to work", "body": "<p>Ok here is the thing, You have to preprocess some data 2 way, that means in your object you have to know if it has children to enable more hierarchy level and you need to know which parent it came from to filter it to build this</p>\n\n<p>and your html should look like this. Since you know you can go 3 - 4 levels you generate template for those levels and play with data when it is there.</p>\n\n<p>There is also another @input for MatMenu called matMenuTriggerData with which the parent will trigger data to child.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;button mat-button [matMenuTriggerFor]=\"level1\" [matMenuTriggerData]=\"getData(null, 1)\"&gt;Animal index&lt;/button&gt;\n\n\n&lt;mat-menu #level1=\"matMenu\"&gt;\n  &lt;ng-template matMenuContent let-data=\"data\"&gt;\n      &lt;ng-template ngFor let-item [ngForOf]=\"data\"&gt;\n          &lt;button mat-menu-item *ngIf=\"item.children\" [matMenuTriggerFor]=\"level2\"\n            [matMenuTriggerData]=\"getData(item, 2)\"&gt;{{item.label}}&lt;/button&gt;\n          &lt;button mat-menu-item *ngIf=\"!item.children\"&gt;{{item.label}}&lt;/button&gt;\n        &lt;/ng-template&gt;\n  &lt;/ng-template&gt;\n&lt;/mat-menu&gt;\n\n&lt;mat-menu #level2=\"matMenu\"&gt;\n  &lt;ng-template matMenuContent let-data=\"data\"&gt;\n    &lt;ng-template ngFor let-item [ngForOf]=\"data\"&gt;\n      &lt;button mat-menu-item *ngIf=\"item.children\" [matMenuTriggerFor]=\"level3\"\n        [matMenuTriggerData]=\"getData(item, 3)\"&gt;{{item.label}}&lt;/button&gt;\n      &lt;button mat-menu-item *ngIf=\"!item.children\"&gt;{{item.label}}&lt;/button&gt;\n    &lt;/ng-template&gt;\n  &lt;/ng-template&gt;\n&lt;/mat-menu&gt;\n\n&lt;mat-menu #level3=\"matMenu\"&gt;\n  &lt;ng-template matMenuContent let-data=\"data\"&gt;\n    &lt;button mat-menu-item *ngFor=\"let item of data\"&gt;{{item.label}}&lt;/button&gt;\n  &lt;/ng-template&gt;\n&lt;/mat-menu&gt;\n</code></pre>\n\n<p>Note the last level has no more triggers.</p>\n\n<p>you can write a function for your filtered data </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>getData(selected, requested) {\n  return selected ? {\n    data:\n      this['level' + requested].filter(item =&gt; item.parent === selected.value)\n  } : { data: this.level1 };\n}\n</code></pre>\n\n<p>Each item will contain <code>value</code>, <code>label</code>, <code>parent</code> and <code>hasChildren</code> in different levels, you can directly hook up with api make sure the object is passed has a <code>data</code> attribute , see functon getData</p>\n\n<p>You can checkout this solution at <a href=\"https://stackblitz.com/edit/angular-yfslub\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-yfslub</a></p>\n\n<p>Hope you can modify to your needs.</p>\n"}], "owner": {"reputation": 6501, "user_id": 6561309, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ebf72f3e9baf847980ed8355216db133?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/6561309/richard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 500, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567635180, "creation_date": 1567623711, "question_id": 57794412, "link": "https://stackoverflow.com/questions/57794412/angular-materials-cant-get-multi-items-to-work", "title": "Angular Materials - can&#39;t get multi items to work", "body": "<p>I am using Angular 8 with Angular Materials to build a multi-level menu. I can get the menu to work by using recursion for each level. I recursively call the same directive that displays each level of the menu.</p>\n\n<p>This all works, and the menu is built as expected. However, the menu does not behave as expected. Examples I have seen, when you hover over an item, the nest item is opened, and if you move off an item, its child is closed.</p>\n\n<p>For example, this is a simple version I made:</p>\n\n<p><a href=\"https://stackblitz.com/edit/dynamic-sidenav-multi-level-menu-tvim5b?file=app/app.component.html\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/dynamic-sidenav-multi-level-menu-tvim5b?file=app/app.component.html</a></p>\n\n<p><strong>Problem</strong></p>\n\n<p>My issue is when I build my menu, if I click on an item, the child opens. However, I can never get the child to close unless I click off the menu altogether. It is not behaving like the above example.</p>\n\n<p><strong>Question</strong></p>\n\n<p>How can I get my example to be have like the above, and close menu items (children) when the items loses focus?</p>\n\n<p><strong>Info</strong></p>\n\n<p>I have not put my specific example in StackBlitz because I don't own the code, and it needs backend services to support the implementation.</p>\n\n<p>I think my issues are because I am building the menu items recursively , and the <code>[matMenuTriggerFor]</code> is referencing the menu in the next recursion.</p>\n\n<p><strong>Code</strong></p>\n\n<p>sidenav-list.component.html</p>\n\n<pre><code>&lt;mat-nav-list&gt;\n  &lt;!-- Add the Home item --&gt;\n  &lt;a mat-list-item routerLink=\"/home\" (click)=\"onSidenavClose()\"&gt;&lt;mat-icon&gt;home&lt;/mat-icon&gt;&lt;span class=\"nav-caption\"&gt;Home&lt;/span&gt;&lt;/a&gt;\n  &lt;!-- Recurse over the app-sidenav-item --&gt;\n  &lt;app-sidenav-item *ngFor=\"let item of navItems\" [item]=\"item\" [depth]=\"depth+1\" [sidenavClose]=\"sidenavClose\"&gt;&lt;/app-sidenav-item&gt;\n&lt;/mat-nav-list&gt;\n</code></pre>\n\n<p>sidenav-item.component.html <code>&lt;app-sidenav-item&gt;</code></p>\n\n<pre><code>&lt;div&gt;\n    &lt;button mat-button *ngIf=\"depth === 1\" [matMenuTriggerFor]=\"menu\"&gt;&lt;mat-icon&gt;play_arrow&lt;/mat-icon&gt;{{item.name | titlecase}}&lt;/button&gt;\n    &lt;button mat-menu-item *ngIf=\"depth &gt; 1\" [matMenuTriggerFor]=\"menu\"&gt;{{item.name}}&lt;/button&gt;\n\n    &lt;mat-menu #menu=\"matMenu\"&gt;\n        &lt;button *ngIf=\"item.actions.getItems\" mat-menu-item (click)=\"onItemSelected(item, 0)\"&gt;&lt;mat-icon&gt;list&lt;/mat-icon&gt;Get Items&lt;/button&gt;\n        &lt;button *ngIf=\"item.actions.updateItem\" mat-menu-item (click)=\"onItemSelected(item, 1)\"&gt;&lt;mat-icon&gt;edit&lt;/mat-icon&gt;Update Items&lt;/button&gt;\n        &lt;button *ngIf=\"item.actions.addItem\" mat-menu-item (click)=\"onItemSelected(item, 2)\"&gt;&lt;mat-icon&gt;add&lt;/mat-icon&gt;Add Item&lt;/button&gt;\n\n        &lt;app-sidenav-item *ngFor=\"let child of item.children\" [item]=\"child\" [depth]=\"depth+1\" [sidenavClose]=\"sidenavClose\"&gt;&lt;/app-sidenav-item&gt;\n    &lt;/mat-menu&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Screen Print</strong></p>\n\n<p>As you can see, I am able to open more than one item on separate nodes. I cannot get the previous one to close. Also, it only responds to clicks and not mouse hover.</p>\n\n<p><a href=\"https://i.stack.imgur.com/BaFTc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BaFTc.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "arrays", "loops", "compare"], "comments": [{"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1567623745, "post_id": 57794396, "comment_id": 102021916, "body": "effort so far ? please post the code you tried so far ?"}, {"owner": {"reputation": 19230, "user_id": 1444609, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/bgWmu.jpg?s=128&g=1", "display_name": "I wrestled a bear once.", "link": "https://stackoverflow.com/users/1444609/i-wrestled-a-bear-once"}, "edited": false, "score": 0, "creation_date": 1567623799, "post_id": 57794396, "comment_id": 102021935, "body": "1) please don&#39;t ask us to do your homework for you. your answers will be better received if you show some effort instead of just asking for free code. 2) the least amount of effort you can show is a simple google search."}], "answers": [{"tags": [], "owner": {"reputation": 427, "user_id": 7790515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c3ed6816d78aeabe78b5ca2bf78a8d1?s=128&d=identicon&r=PG&f=1", "display_name": "cullanrocks", "link": "https://stackoverflow.com/users/7790515/cullanrocks"}, "is_accepted": false, "score": 1, "last_activity_date": 1567623760, "creation_date": 1567623760, "answer_id": 57794424, "question_id": 57794396, "link": "https://stackoverflow.com/questions/57794396/comparing-two-arrays-and-creating-another-array-if-the-items-not-found/57794424#57794424", "title": "Comparing two arrays and creating another array if the items not found", "body": "<p>Use a combinations of filter and includes likes so:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let newArray = Array1.filter(x =&gt; !Array2.includes(x));\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11489613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42128cba176538ab2997aaba911f5aab?s=128&d=identicon&r=PG&f=1", "display_name": "newbiJavascript", "link": "https://stackoverflow.com/users/11489613/newbijavascript"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "closed_date": 1567623769, "answer_count": 1, "score": 1, "last_activity_date": 1567623760, "creation_date": 1567623635, "question_id": 57794396, "link": "https://stackoverflow.com/questions/57794396/comparing-two-arrays-and-creating-another-array-if-the-items-not-found", "closed_reason": "Duplicate", "title": "Comparing two arrays and creating another array if the items not found", "body": "<p>In javascript, I simply need to compare: </p>\n\n<pre><code>Array2 = ['a', 'd'] \n</code></pre>\n\n<p>with </p>\n\n<pre><code>Array1=['a','b','c','d','e'] //full subset \n</code></pre>\n\n<p>and return a new array of items which are not in Array 1. so the result should be </p>\n\n<pre><code>Array3 = ['b','c','e']\n</code></pre>\n\n<p>Appreciate a quick reply. Many thanks in advance</p>\n"}, {"tags": ["javascript", "jquery", "events", "remote-control"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1567623699, "post_id": 57794384, "comment_id": 102021898, "body": "Given that your question seems to revolve around the apple remote, it would probably be helpful if this question was tagged with it, if that tag exists."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 2, "creation_date": 1567623837, "post_id": 57794384, "comment_id": 102021955, "body": "You might also try <code>$(document.body).on(&#39;*&#39;, function(event){ console.log(event) });</code> and see if anything is written to the console when you click your remote buttons"}, {"owner": {"reputation": 19230, "user_id": 1444609, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/bgWmu.jpg?s=128&g=1", "display_name": "I wrestled a bear once.", "link": "https://stackoverflow.com/users/1444609/i-wrestled-a-bear-once"}, "edited": false, "score": 0, "creation_date": 1567624153, "post_id": 57794384, "comment_id": 102022078, "body": "try what Taplar said, and if it doesn&#39;t work, try it again in Safari. your odds will be better using an apple developed browser."}, {"owner": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1567625145, "post_id": 57794384, "comment_id": 102022484, "body": "@Taplar: <code>&#39;*&#39;</code> seems to be not a valid event class. You line is valid JavaScript code, and it works if I replace the asterisk with terms like <code>&#39;keydown&#39;</code> or <code>&#39;click&#39;</code>, but it doesn&#39;t react to anything when it is just <code>&#39;*&#39;</code>. (In Google Crome as well as Safari.)"}, {"owner": {"reputation": 6856, "user_id": 828864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0031af6f469d31621363e4fdf14601f?s=128&d=identicon&r=PG", "display_name": "skyline3000", "link": "https://stackoverflow.com/users/828864/skyline3000"}, "edited": false, "score": 0, "creation_date": 1567630950, "post_id": 57794384, "comment_id": 102024314, "body": "If it works with PowerPoint then at least at the OS level you can capture its events. I would try it in Google Slides to see if it works there as well. If the browser doesn&#39;t get any of the events, you&#39;d have to write something custom that forwards the events to the browser. I had to do this once for a trackpad device and made a server that communicated with the browser via WebSockets."}], "owner": {"reputation": 7788, "user_id": 1302716, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LrNqp.png?s=128&g=1", "display_name": "Hubert Sch&#246;lnast", "link": "https://stackoverflow.com/users/1302716/hubert-sch%c3%b6lnast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1567624616, "creation_date": 1567623589, "last_edit_date": 1567624616, "question_id": 57794384, "link": "https://stackoverflow.com/questions/57794384/events-from-remote-control-in-webbrowser", "title": "events from remote control in webbrowser", "body": "<p>I have written a html+css+javascript application, which simulates a presentation software (like powerpoint, keynote, prezi or similar), because I wanted to create some custom effects that are hard to create in such tools.</p>\n\n<p>When I use Powerpoint (on my Apple MacBook), it works perfect together with Apples Remote control (this guy: <a href=\"https://www.apple.com/shop/product/MM4T2AM/A/apple-remote\" rel=\"nofollow noreferrer\">Apple Remote</a>). A click on the right-arrow lets Powerpoint display the next slide (or the next animation within a slide) while a click on the left-arrows brings me back one step.</p>\n\n<p>Now I want to use this remote control in exactly the same way within my web browser (I'm using Google Crome, but any browser will do), using JavaScript+jQuery.</p>\n\n<p>My website-presentation already correctly reacts on the arrow-keys on my keyboard using these lines of code:</p>\n\n<pre><code>$('body').on('keydown',function(event) {\n    event.preventDefault();\n    oldframe = frame;\n    if ( event.which == 37 ) {//left\n        frame--;\n    }\n    if ( event.which == 38 ) {//up\n        frame--;\n    }\n    if ( event.which == 39 ) {//right\n        frame++;\n    }\n    if ( event.which == 40 ) {//down\n        frame++;\n    }\n    if (frame &lt; 0) {frame = 0;}\n    if (frame &gt; (frames.length - 1)) {frame = frames.length - 1;}\n    if (oldframe != frame) {gotoFrame(frame);}\n});\n</code></pre>\n\n<p>My Questions:</p>\n\n<ol>\n<li>Is it posible, to catch events form Apple Remote within a Webbrowser using JavaScript?  </li>\n<li>If yes: How? (using Javascript + jQuery)</li>\n</ol>\n\n<p>I just know, that Apple Remote doesn't fire keydown-events, nor does it fire click-events. I have no idea which kind of events it fires, and if the browser is even aware of them.</p>\n"}, {"tags": ["javascript", "arrays", "performance", "combinatorics", "code-readability"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1567623842, "post_id": 57794343, "comment_id": 102021958, "body": "In your <code>min+4</code> and <code>min+6</code> examples, why are there duplicates?"}, {"owner": {"reputation": 1, "user_id": 12021287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4586255aa7304393cf72b193e3677e6?s=128&d=identicon&r=PG&f=1", "display_name": "xopayas1", "link": "https://stackoverflow.com/users/12021287/xopayas1"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1567624276, "post_id": 57794343, "comment_id": 102022123, "body": "This is my reserve for the future. I wanted to create an algorithm in the future that would work with duplicates as well.Now we can ignore duplicates."}], "owner": {"reputation": 1, "user_id": 12021287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4586255aa7304393cf72b193e3677e6?s=128&d=identicon&r=PG&f=1", "display_name": "xopayas1", "link": "https://stackoverflow.com/users/12021287/xopayas1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567623341, "creation_date": 1567623341, "question_id": 57794343, "link": "https://stackoverflow.com/questions/57794343/whats-the-best-way-to-create-array-combinations-with-static-and-dynamic-values", "title": "what&#39;s the best way to create array combinations with static and dynamic values", "body": "<p>After long attempts, I managed to write a script that creates all the combinations of the array and you can set the levels of combinations.</p>\n\n<p>But how to make an option with restrictions of combinations, when some elements remain in position (static) and others around them change (dynamic).</p>\n\n<p>That's what I need:output sample:</p>\n\n<pre><code>  min\n  \"static1\", \"static2\", \"static3\" // (limited by number of static item if min 3) \n  \"static2\", \"static1\", \"static3\" // if true allow change order of main\n  (4) min+1\n  [\"others1\", \"static1\", \"static2\", \"static3\"]\n  [\"static1\", \"others1\", \"static2\", \"static3\"]\n  [\"others1\", \"static2\", \"static1\", \"static3\"]\n  ...\n  [\"others1\", \"static2\", \"static1\", \"static3\"]  true // iIf true, then you can allow static values to reorder\n  [\"others1\", \"static2\", \"static1\", \"static3\"]  true\n  ...\n  (7) min+4\n  [\"other\", \"static1\", \"other1\", \"static2\", \"other1\", \"static3\", \"other1\"] \n  ...\n  (9) max+6 \n  [\"other2\", \"static1\", \"other1\", \"static2\", \"other2\", \"other1\", \"static3\", \"other3\", \"other1\"]\n  ...\n</code></pre>\n\n<p>I realized that most likely I'm doing everything wrong. Perhaps there is a better way to do this.\nMy algorithm has a poor speed, often a message about insufficient memory, too many cycles, bad readability ...\nTherefore, I ask you to show me how best to make such combinations.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>     var static_arr1 = ['a','b','c','d'];\r\n     var static_arr2 = ['a','b','c','d'];\r\n     var combin_arr1 = ['a','b','c','d'];var p= [];var max =\"6\";\r\n     var a = [static_arr1, static_arr2, combin_arr1]; // OR var a = ['static_arr1':static_arr1,'static_arr2':static_arr2,'combin_arr1':combin_arr1]; if you prefer use multidimension array no problems, convert arrays to array of arrays or function create(){var nam = arguments.name;  return {val: arguments,}}\r\n     \r\n      // ------------------------------------  Count arrays:\r\n     for (var key in window) {var ss = key;\r\n          if( ss.indexOf(\"tic_\") &gt; -1){p.push(key);var min = p.length;  console.log(min);}}   // count global static arrays and set min level of combinations\r\n     \r\n     // =====================================\r\n\r\n     function get1DArray(arr){return arr.join().split(\",\");}                                    // if array multidimensional simple convert to 1d  - lost information and position:( +fast,siple , \u0441heck: if(this.filter(Array.isArray).length &gt; 1){}\r\n     \r\n     Array.prototype.combine=function combine(k){    var toCombine=get1DArray(this);   var last; \r\n      // ------------------------------------\r\n         function combi(n,comb){var combs=[];\r\n     \r\n             for ( var x=0,y=comb.length;x&lt;y;x++){var v = comb[x];    for ( var l=0,m=toCombine.length;l&lt;m;l++){   \r\n     \r\n                     combs.push(comb[x]+toCombine[l]); \r\n                 }\r\n             }\r\n     \r\n     \r\n     // recursion\r\n             if (n&lt;k-1){n++;combi(n,combs);}\r\n                                             else{last=combs;}        }\r\n      // ------------------------------------END func\r\n     \r\n         combi(1,toCombine);\r\n         return last;\r\n     }\r\n     \r\n     // ===================================== Example:\r\n     \r\n     for (var i = min; i &lt;= max;i++) { console.log(i)  // get levels from min and max\r\n     var toCombine=[combin_arr1, static_arr2, static_arr1];   \r\n     var results=toCombine.combine(i);\r\n     console.log(results)\r\n      }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "is_accepted": true, "score": 1, "last_activity_date": 1567624091, "last_edit_date": 1567624091, "creation_date": 1567623707, "answer_id": 57794410, "question_id": 57794339, "link": "https://stackoverflow.com/questions/57794339/pass-parameters-from-hoc-functional-component-to-component-doesnt-work/57794410#57794410", "title": "pass parameters from HOC functional component to component doesn&#39;t work", "body": "<p>Since you said you are not getting props right, you are most likely overwriting HOC props with <code>...props</code> thus move it up and see if that works.</p>\n\n<pre><code>    &lt;Component {...props} studentsLoading={loading} error={error} students={data &amp;&amp; data.students}  /&gt;\n               ^^^^^^^^^^\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 12021571, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214250489565905/picture?type=large", "display_name": "Omer Dital", "link": "https://stackoverflow.com/users/12021571/omer-dital"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 57794410, "answer_count": 1, "score": 1, "last_activity_date": 1567624091, "creation_date": 1567623319, "question_id": 57794339, "link": "https://stackoverflow.com/questions/57794339/pass-parameters-from-hoc-functional-component-to-component-doesnt-work", "title": "pass parameters from HOC functional component to component doesn&#39;t work", "body": "<p>I have HOC component and when I set a breakpoint I get the data properly, but when I'm passing the parameters to the component I don't get the props right</p>\n\n<pre><code>    const { loading, error, data } = useQuery(GET_STUDENTS);\n\n    return (\n        &lt;Component studentsLoading={loading} error={error} students={data &amp;&amp; data.students} {...props} /&gt;\n    );\n};\n</code></pre>\n\n<p>and the passed in component looks like that</p>\n\n<pre><code>const StudentList = ({error, studentsLoading, students}) =&gt; { }\n\nexport default withStudent(StudentList);\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "animation", "svg"], "comments": [{"owner": {"reputation": 4792, "user_id": 5351721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c48ea64d7d0229c32a90e51a1fac58a?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/5351721/sean"}, "edited": false, "score": 0, "creation_date": 1567625753, "post_id": 57794332, "comment_id": 102022710, "body": "Check out SVG masking or clip-paths. They let you mask out a portion of a shape without having to modify the shape or have additional visual elements floating on top of your original shape. <a href=\"https://developer.mozilla.org/en-US/docs/Web/SVG/Element/mask\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/SVG/Element/mask</a>"}, {"owner": {"reputation": 25506, "user_id": 271353, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/LdjXN.jpg?s=128&g=1", "display_name": "Michael Mullany", "link": "https://stackoverflow.com/users/271353/michael-mullany"}, "edited": false, "score": 0, "creation_date": 1567651378, "post_id": 57794332, "comment_id": 102028254, "body": "Also stroke-dash-array - if you calculate the right array, it should put the break in the right place."}], "answers": [{"comments": [{"owner": {"reputation": 384, "user_id": 10593368, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YqUPo7UYpsA/AAAAAAAAAAI/AAAAAAAAAFY/1t2pqdVpkoU/photo.jpg?sz=128", "display_name": "Jaden Baptista", "link": "https://stackoverflow.com/users/10593368/jaden-baptista"}, "edited": false, "score": 0, "creation_date": 1567768767, "post_id": 57801273, "comment_id": 102072102, "body": "Thank you! This is exactly what I needed."}], "tags": [], "owner": {"reputation": 24997, "user_id": 7897395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2108bc8318af0d73434ffa286ba2b22f?s=128&d=identicon&r=PG&f=1", "display_name": "enxaneta", "link": "https://stackoverflow.com/users/7897395/enxaneta"}, "is_accepted": true, "score": 2, "last_activity_date": 1567671663, "creation_date": 1567671663, "answer_id": 57801273, "question_id": 57794332, "link": "https://stackoverflow.com/questions/57794332/making-an-svg-path-that-looks-like-two-while-still-one-for-animation/57801273#57801273", "title": "Making an SVG path that looks like two, while still one for animation", "body": "<p>I suppose this is what you need. Using the paths you have I'm creating a mask for the group. \nI'm using javascript and css for the animation. Your animation may be different.\nPlease take a look</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let animatedPaths = Array.from(document.querySelectorAll(\"g path\"));\r\nanimatedPaths.forEach(p=&gt;{\r\n  let l = p.getTotalLength();\r\n  p.style.cssText = `stroke-dasharray:${l}; stroke-dashoffset:${l};`\r\n  })</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>svg{border:1px solid; width:100vh}\r\nsvg g path{transition:stroke-dashoffset 3s;}\r\nsvg:hover g path{stroke-dashoffset:0!important}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg viewBox=\"0 0 130.821 87.938\"&gt;\r\n  &lt;defs&gt;\r\n    &lt;mask id=\"m\"&gt;\r\n       &lt;path stroke=\"white\" stroke-width=\"7.5\"\r\n          d=\"M14.936 22.795v3.703h27.14\r\n                          M14.936 22.795v20.618h21.458\r\n                          M14.947 22.795l.082 38.443c16.467-.275 32.951.438 49.406-.502 4.717-1.167 9.144-3.87 12.234-7.623 3.127-5.011 4.014-11.665 1.11-16.988-1.62-3.331-3.98-6.636-7.709-7.742-6.395-2.218-13.296-2.331-19.994-2.068l-.088 27.165\r\n                          M14.947,22.795\r\n                          L15.029,61.238\r\n                          C31.494,60.963,47.995,61.675,64.435,60.736\r\n                          C68.945,59.746,73.421,56.732,76.2,53.762\r\n                          M88.962,57.226\r\n                          C94.879,60.6,102.494,63.364,109.025,60.062\r\n                          C113.765,56.972,113.035,48.8,107.784,46.62\r\n                          C102.356,43.259,95.491,42.848,90.504,38.68\r\n                          C87.846,33.93,91.522,27.365,96.874,26.854\r\n                          C102.412,25.549,107.873,28.191,112.6,30.788\" /&gt;\r\n    &lt;/mask&gt;\r\n  &lt;/defs&gt;\r\n\t&lt;linearGradient id=\"grad\" x1=\"298\" y1=\"0\" x2=\"304\" y2=\"0\" gradientUnits=\"userSpaceOnUse\"&gt;\r\n\t\t&lt;stop stop-color=\"#ddd\" offset=\"0\"/&gt;\r\n\t\t&lt;stop stop-color=\"#111\" offset=\"0.01\"/&gt;\r\n\t\t&lt;stop stop-color=\"#111\" offset=\"0.7\"/&gt;\r\n\t\t&lt;stop stop-color=\"#ddd\" offset=\"0.7\"/&gt;\r\n\t&lt;/linearGradient&gt;\r\n\t&lt;g fill=\"none\" stroke=\"url(#grad)\" stroke-width=\"7.4\" style=\"mask: url(#m)\"&gt;\r\n\t\t&lt;path d=\"M14.947 22.795l.082 38.443c16.467-.275 32.951.438 49.406-.502 4.717-1.167 9.144-3.87 12.234-7.623 3.127-5.011 4.014-11.665 1.11-16.988-1.62-3.331-3.98-6.636-7.709-7.742-6.395-2.218-13.296-2.331-19.994-2.068l-.088 27.165\r\n     M14.936 22.795v20.618h21.458\r\n\t\t M14.936 22.795v3.703h27.14\r\n\t\t M14.947 22.795l.082 38.443c16.465-.275 32.966 .437 49.406-.502c4.51-.99 8.986-4.004 11.765-6.974 c2.592-3.606 8.862 1.661 12.762 3.464 c5.917 3.374 13.532 6.138 20.063 2.836 c4.74-3.09 4.01-11.262 -1.241-13.442c-5.428-3.361 -12.293-3.772 -17.28-7.94c-2.658-4.75 1.018-11.315 6.37-11.826 c5.538-1.305 10.999 1.337 15.726 3.934\"/&gt;\r\n     \r\n     &lt;path d=\"M14.936 22.795v3.703h27.14\" /&gt;\r\n                                                         \r\n     \r\n     \r\n     &lt;path d=\"M14.936 22.795v20.618h21.458\" /&gt;\r\n    \r\n    &lt;path d=\"M14.947 22.795l.082 38.443c16.467-.275 32.951.438 49.406-.502 4.717-1.167 9.144-3.87 12.234-7.623 3.127-5.011 4.014-11.665 1.11-16.988-1.62-3.331-3.98-6.636-7.709-7.742-6.395-2.218-13.296-2.331-19.994-2.068l-.088 27.165\" /&gt;\r\n    &lt;/g&gt;\r\n    \r\n    \r\n    \r\n    \r\n   \r\n\t\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 384, "user_id": 10593368, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YqUPo7UYpsA/AAAAAAAAAAI/AAAAAAAAAFY/1t2pqdVpkoU/photo.jpg?sz=128", "display_name": "Jaden Baptista", "link": "https://stackoverflow.com/users/10593368/jaden-baptista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 57801273, "answer_count": 1, "score": 3, "last_activity_date": 1567671663, "creation_date": 1567623291, "last_edit_date": 1567628760, "question_id": 57794332, "link": "https://stackoverflow.com/questions/57794332/making-an-svg-path-that-looks-like-two-while-still-one-for-animation", "title": "Making an SVG path that looks like two, while still one for animation", "body": "<p>I'm trying to create an SVG animation of the letters E, D, and S. I have the JavaScript elsewhere in the file for animation, but it requires that all of the paths begin in the same place and branch off in different directions to create the letters. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg viewBox=\"0 0 130.821 87.938\"&gt;\r\n\t&lt;linearGradient id=\"grad\" x1=\"298\" y1=\"0\" x2=\"304\" y2=\"0\" gradientUnits=\"userSpaceOnUse\"&gt;\r\n\t\t&lt;stop stop-color=\"#ddd\" offset=\"0\"/&gt;\r\n\t\t&lt;stop stop-color=\"#111\" offset=\"0.01\"/&gt;\r\n\t\t&lt;stop stop-color=\"#111\" offset=\"0.7\"/&gt;\r\n\t\t&lt;stop stop-color=\"#ddd\" offset=\"0.7\"/&gt;\r\n\t&lt;/linearGradient&gt;\r\n\t&lt;g fill=\"none\" stroke=\"url(#grad)\" stroke-width=\"7.408239999999999\"\"&gt;\r\n\t\t&lt;path d=\"M14.947 22.795l.082 38.443c16.467-.275 32.951.438 49.406-.502 4.717-1.167 9.144-3.87 12.234-7.623 3.127-5.011 4.014-11.665 1.11-16.988-1.62-3.331-3.98-6.636-7.709-7.742-6.395-2.218-13.296-2.331-19.994-2.068l-.088 27.165\"/&gt;\r\n\t\t&lt;path d=\"M14.936 22.795v20.618h21.458\"/&gt;\r\n\t\t&lt;path d=\"M14.936 22.795v3.703h27.14\"/&gt;\r\n\t\t&lt;path d=\"M14.947 22.795l.082 38.443c16.465-.275 32.966.437 49.406-.502 4.51-.99 8.986-4.004 11.765-6.974 2.592-3.606 8.862 1.661 12.762 3.464 5.917 3.374 13.532 6.138 20.063 2.836 4.74-3.09 4.01-11.262-1.241-13.442-5.428-3.361-12.293-3.772-17.28-7.94-2.658-4.75 1.018-11.315 6.37-11.826 5.538-1.305 10.999 1.337 15.726 3.934\"/&gt;\r\n\t&lt;/g&gt;\r\n&lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Paste that in an HTML file and you'll see what I'm talking about with the paths overlapping at first, but branching off. Right now it looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/S1oBc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S1oBc.png\" alt=\"E D S Image\"></a></p>\n\n<p>Problem is, I need a break in between the S and the D. My first idea was to draw another line, the same color as my background, right in between the letters. This way, the whole path would be intact for the animation, but the user would only see the letters separated. Since I have some blurs and shadows on the page, it didn't turn out too well: </p>\n\n<p><a href=\"https://i.stack.imgur.com/tGOCC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tGOCC.png\" alt=\"E D S Image with break\"></a></p>\n\n<p>You can clearly see the path I drew in between the D and the S. How can I resolve this problem without breaking the path for animation? I can think of a few possible ways, but don't know how to accomplish any of them.</p>\n\n<ol>\n<li>How could I change the stroke color of the path, mid-path? I could change it to the background color at the end of the D, and then back to the normal #eeeeee at the start of the S.</li>\n<li>Possibly I could make the black path (which could be in another svg) higher than the light grey svg (using z-index?), but have the filters I have applied to the light grey svg be actually higher than the black path? It's hard to explain, but I'm just asking if you can set the z-index of a drop shadow CSS filter as different than the rest of the element.</li>\n<li>Somehow set the transparency of the black path so it makes that section of the grey svg invisible (I don't know if that's even possible). It'd be like a CSS invisibilty cloak.</li>\n</ol>\n\n<p>I think I could actually break the grey path into two, but I'd have to nail the timing of the animation for that to actually look alright. There's a lot more going on in the page than I explained, so that would take a very long time to get right. I'd love to hear everyone's suggestions before I go spend 20 hours on about as many pixels.</p>\n"}, {"tags": ["javascript", "c#", "html"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 3, "creation_date": 1567623325, "post_id": 57794311, "comment_id": 102021754, "body": "<code>~</code> is a feature that only exists in server-side C#.  Learn about relative URLs."}, {"owner": {"reputation": 211, "user_id": 11262159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/khGGF.jpg?s=128&g=1", "display_name": "JamesT", "link": "https://stackoverflow.com/users/11262159/jamest"}, "edited": false, "score": 2, "creation_date": 1567623334, "post_id": 57794311, "comment_id": 102021756, "body": "have you tried without the <code>~</code> at the beginning?"}, {"owner": {"reputation": 60, "user_id": 9195980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db2d7cf7554cad57f392619bdfbf6fb3?s=128&d=identicon&r=PG&f=1", "display_name": "StevenJe", "link": "https://stackoverflow.com/users/9195980/stevenje"}, "edited": false, "score": 0, "creation_date": 1567624402, "post_id": 57794311, "comment_id": 102022179, "body": "Thanks for heading me in the right direction.  I added the following to the Javascript function:  primaryFilename = primaryFilename.replace(&#39;~&#39;, &#39;&#39;);   and now this redirects fine."}, {"owner": {"reputation": 60, "user_id": 9195980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db2d7cf7554cad57f392619bdfbf6fb3?s=128&d=identicon&r=PG&f=1", "display_name": "StevenJe", "link": "https://stackoverflow.com/users/9195980/stevenje"}, "edited": false, "score": 0, "creation_date": 1567624543, "post_id": 57794311, "comment_id": 102022233, "body": "I should have caught that the tilde would not be recognized by Javascript, but still surprised that it prepends the previous file path to the new variable path instead of causing an error."}], "owner": {"reputation": 60, "user_id": 9195980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db2d7cf7554cad57f392619bdfbf6fb3?s=128&d=identicon&r=PG&f=1", "display_name": "StevenJe", "link": "https://stackoverflow.com/users/9195980/stevenje"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1567623191, "creation_date": 1567623191, "question_id": 57794311, "link": "https://stackoverflow.com/questions/57794311/using-javascript-to-redirect-to-new-page-prepends-current-page-directory-how-do", "title": "Using Javascript to redirect to new page prepends current page directory. How do I get rid of it?", "body": "<p>Using a Javascript function, I pass in the URL I want to redirect to in Chrome browser to the function called redirect2MainLookup.  Each time it prepends the current page directory to the redirect location, and gives the following error: </p>\n\n<p>Server Error in '/' Application.\nThe resource cannot be found.\nDescription: HTTP 404. The resource you are looking for (or one of its dependencies) could have been removed, had its name changed, \nor is temporarily unavailable.  Please review the following URL and make sure that it is spelled correctly. \nRequested URL: /LookupCodes/Edit/~/LookupCodes/Character.cshtml</p>\n\n<p>Below is the function where I have tried many of the redirect options found at <a href=\"https://stackoverflow.com/questions/503093/how-do-i-redirect-to-another-webpage\">How do I redirect to another webpage?</a></p>\n\n<p>HTML:\n    '''\n\n<p>onclick=\"redirect2MainLookup('~/LookupCodes/Character.cshtml')\">@Page.Title'''</p>\n\n<p>Javascript function: </p>\n\n<pre><code>function redirect2MainLookup(primaryFilename) {\n    alert(\"Inside redirect2MainLookup Function value = \" + \n    primaryFilename);\n    //location=primaryFilename;\n    alert(\"Location = \" + primaryFilename);\n    //window.location.href = primaryFilename;\n    window.location.replace(primaryFilename);\n    //$(location).attr('href', primaryFilename);\n};\n</code></pre>\n\n<p>My expectation is that ~/LookupCodes/Character.cshtml will be passed to the function for the redirect, WITHOUT /LookupCodes/Edit/ before it.</p>\n"}, {"tags": ["javascript", "webrtc", "rtcp", "rtcpeerconnection"], "comments": [{"owner": {"reputation": 33937, "user_id": 918910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SYpdz.jpg?s=128&g=1", "display_name": "jib", "link": "https://stackoverflow.com/users/918910/jib"}, "edited": false, "score": 0, "creation_date": 1567637895, "post_id": 57794305, "comment_id": 102026035, "body": "Remove <code>peerIdentity: [{</code> and <code>}]</code>. Only <code>iceServers</code> expects an array."}], "answers": [{"tags": [], "owner": {"reputation": 33937, "user_id": 918910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SYpdz.jpg?s=128&g=1", "display_name": "jib", "link": "https://stackoverflow.com/users/918910/jib"}, "is_accepted": false, "score": 1, "last_activity_date": 1567638681, "creation_date": 1567638681, "answer_id": 57796584, "question_id": 57794305, "link": "https://stackoverflow.com/questions/57794305/how-to-change-webrtc-rtcpmuxpolicy/57796584#57796584", "title": "How to change Webrtc rtcpMuxPolicy?", "body": "<p>First off, remove <code>peerIdentity: [{</code> and <code>}]</code>. Only <code>iceServers</code> expects an array. The syntax is:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const pc = new RTCPeerConnection({\n  iceServers: [{urls: 'stun-url..'}, {urls: 'stun-url-2..'}],\n  bundlePolicy: 'max-bundle', // add this line\n  rtcpMuxPolicy: 'negotiate'  // and this one\n});\n</code></pre>\n\n<pre><code>pc.setConfiguration({bundlePolicy: 'max-bundle', rtcpMuxPolicy: 'negotiate'});\n</code></pre>\n\n<p>Secondly, note that even though <a href=\"https://wpt.fyi/results/webrtc/RTCConfiguration-rtcpMuxPolicy.html?label=experimental&amp;label=master&amp;aligned\" rel=\"nofollow noreferrer\">some browsers</a> support <code>rtcpMuxPolicy</code>, the feature the <code>'negotiate'</code> value controls is marked <em>\"Feature at risk\"</em> in the <a href=\"http://w3c.github.io/webrtc-pc/#dom-rtcrtcpmuxpolicy\" rel=\"nofollow noreferrer\">specification</a>, so setting this value is most likely not supported.</p>\n\n<p>The spec says: <em>\"the user agent MAY not implement non-multiplexed RTCP, in which case it will reject attempts to construct an RTCPeerConnection with the negotiate policy.\"</em></p>\n"}], "owner": {"reputation": 2966, "user_id": 2587691, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/FadRz.jpg?s=128&g=1", "display_name": "ToTa", "link": "https://stackoverflow.com/users/2587691/tota"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 577, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1567638681, "creation_date": 1567623173, "last_edit_date": 1567632017, "question_id": 57794305, "link": "https://stackoverflow.com/questions/57794305/how-to-change-webrtc-rtcpmuxpolicy", "title": "How to change Webrtc rtcpMuxPolicy?", "body": "<p>I am trying to change <code>rtcpMuxPolicy</code> and also the <code>bundlePolicy</code>, but it seems like it cannot be changed</p>\n\n<p>This is my code:</p>\n\n<p><em>Attempt 1:</em></p>\n\n<pre><code>var servers = {\n    'iceServers': [{\n        'urls': 'stun-url..'\n    }, {\n        'urls': 'stun-url-2..'\n    }, {\n        'urls': 'turn-url..',\n        'credential': 'psw',\n        'username': 'user'\n    }],\n    peerIdentity: [{bundlePolicy: 'max-bundle', rtcpMuxPolicy: 'negotiate'}]//added this line\n};\n\nvar pc;\nvar sendChannel;\n\nnavigator.getUserMedia = (navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia);\n\npc = new RTCPeerConnection(servers);\n</code></pre>\n\n<p><em>Attempt 2:</em></p>\n\n<pre><code>var servers = {\n        'iceServers': [{\n            'urls': 'stun-url..'\n        }, {\n            'urls': 'stun-url-2..'\n        }, {\n            'urls': 'turn-url..',\n            'credential': 'psw',\n            'username': 'user'\n        }]\n    };\n\n    var pc;\n    var sendChannel;\n\n    navigator.getUserMedia = (navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia);\n\n    pc = new RTCPeerConnection(servers);\n    pc.setConfiguration([{bundlePolicy: 'max-bundle', rtcpMuxPolicy: 'negotiate'}]);\n</code></pre>\n\n<p>With both examples, I am still seeing the default values:</p>\n\n<pre><code>pc.getConfiguration()\n\nbundlePolicy: \"balanced\"\nrtcpMuxPolicy: \"require\"\n</code></pre>\n\n<p>And I can notice only one change and that is, the <code>iceServers</code> array is empty, but \n<code>bundlePolicy</code>, and <code>rtcpMuxPolicy</code> are still the default.</p>\n\n<p>I have WebRtc web solution that communicates with an Android application and everything works perfectly when streaming video, the problem occurs when I add dataChannel i.e.</p>\n\n<pre><code>sendChannel = pc.createDataChannel('sendDataChannel');\n</code></pre>\n\n<p>After adding the above line in my web solution, the android throws an error saying:</p>\n\n<blockquote>\n  <p>setSDP error:  Failed to set remote offer sdp:  Session error code:\n  ERROR_CONTENT.  Session error description: Failed to setup RTCP mux\n  filter..</p>\n</blockquote>\n"}, {"tags": ["javascript", "reactjs", "react-day-picker", "date-fns"], "answers": [{"tags": [], "owner": {"reputation": 25, "user_id": 4776438, "user_type": "registered", "profile_image": "https://graph.facebook.com/940788075954479/picture?type=large", "display_name": "Cheepo2109", "link": "https://stackoverflow.com/users/4776438/cheepo2109"}, "is_accepted": false, "score": 0, "last_activity_date": 1567833367, "creation_date": 1567833367, "answer_id": 57830888, "question_id": 57794304, "link": "https://stackoverflow.com/questions/57794304/inputing-date-on-react-day-picker-input-formatted-with-date-fns/57830888#57830888", "title": "Inputing date on react-day-picker input formatted with date-fns", "body": "<p>This is the example from their docs on how to use handleDayChange</p>\n\n<pre><code>handleDayChange(selectedDay, modifiers, dayPickerInput) {\n const input = dayPickerInput.getInput();\n this.setState({\n   selectedDay,\n   isEmpty: !input.value.trim(),\n   isValidDay: typeof selectedDay !== 'undefined',\n   isDisabled: modifiers.disabled === true,\n });\n}\n\n &lt;DayPickerInput onDayChange={handleDayChange}/&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11261588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79bbc5c2748a8b9f53f849196e38ac95?s=128&d=identicon&r=PG&f=1", "display_name": "Racheal", "link": "https://stackoverflow.com/users/11261588/racheal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 309, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567833367, "creation_date": 1567623165, "question_id": 57794304, "link": "https://stackoverflow.com/questions/57794304/inputing-date-on-react-day-picker-input-formatted-with-date-fns", "title": "Inputing date on react-day-picker input formatted with date-fns", "body": "<p>I can't type the date manually with react-day-picker using <code>onDayChange</code> but I can when I use an <code>onChange</code>. However, I do not get the selected value with an <code>onChange</code> and also I am using date-fns to format the date.</p>\n\n<pre><code>handleChangeDate(date, value) {\n    this.setState({\n      [value]: date,\n    });\n  }\n\n  parseDate(str, format, locale) {\n    const parsed = dateFnsParse(str, format, new Date(), { locale });\n\n    if (dateFnsValid(parsed)) {\n      return parsed;\n    }\n\n    return undefined;\n  }\n\n  formatDate(date, format, locale) {\n    return dateFnsFormat(date, format, { locale });\n  }\n</code></pre>\n\n<p>Using onDayChange</p>\n\n<pre><code>\n&lt;DayPickerInput\n   placeholder=\"Date Engaged\"\n   value={dateEngaged}\n   format=\"dd/MM/yyyy\"\n   formatDate={this.formatDate}\n   parseDate={this.parseDate}\n   onDayChange={value =&gt; this.handleChangeDate(value, 'dateEngaged')}\n  /&gt;\n</code></pre>\n\n<p>Using onChange</p>\n\n<pre><code>&lt;DayPickerInput\n   placeholder=\"Date Engaged\"\n   value={dateEngaged}\n   format=\"dd/MM/yyyy\"\n   formatDate={this.formatDate}\n   parseDate={this.parseDate}\n   onChange={value =&gt; this.handleChangeDate(value, 'dateEngaged')}\n  /&gt;\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 31569, "user_id": 4035, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/dWVIl.png?s=128&g=1", "display_name": "dance2die", "link": "https://stackoverflow.com/users/4035/dance2die"}, "edited": false, "score": 2, "creation_date": 1567622911, "post_id": 57794211, "comment_id": 102021615, "body": "Do you have a control over <code>Checkbox</code> implementation? meaning, it&#39;s your own component not some 3rd party component? If so you can use render-props pattern (I can happily reply with the render-props or children as function solution)"}, {"owner": {"reputation": 1243, "user_id": 4126418, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ea634661220acc6472bbcd47ea738227?s=128&d=identicon&r=PG&f=1", "display_name": "nyphur", "link": "https://stackoverflow.com/users/4126418/nyphur"}, "reply_to_user": {"reputation": 31569, "user_id": 4035, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/dWVIl.png?s=128&g=1", "display_name": "dance2die", "link": "https://stackoverflow.com/users/4035/dance2die"}, "edited": false, "score": 1, "creation_date": 1567623138, "post_id": 57794211, "comment_id": 102021689, "body": "@SungM.Kim yep ! i have control over it!"}, {"owner": {"reputation": 31569, "user_id": 4035, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/dWVIl.png?s=128&g=1", "display_name": "dance2die", "link": "https://stackoverflow.com/users/4035/dance2die"}, "edited": false, "score": 1, "creation_date": 1567623582, "post_id": 57794211, "comment_id": 102021851, "body": "@skovy&#39;s <a href=\"https://stackoverflow.com/a/57794300/4035\">answer below</a> works well too :)"}], "answers": [{"tags": [], "owner": {"reputation": 4430, "user_id": 2690790, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/810ebc2ef00faac83286d2bb892f38cd?s=128&d=identicon&r=PG", "display_name": "skovy", "link": "https://stackoverflow.com/users/2690790/skovy"}, "is_accepted": true, "score": 5, "last_activity_date": 1567623129, "creation_date": 1567623129, "answer_id": 57794300, "question_id": 57794211, "link": "https://stackoverflow.com/questions/57794211/how-do-i-add-an-anchor-tag-to-a-string-prop/57794300#57794300", "title": "How do I add an anchor tag to a string prop?", "body": "<p>You can pass in JSX for the <code>label</code> prop instead of a string, for example:</p>\n\n<pre><code>&lt;Checkbox\n  label={\n    &lt;&gt;\n      I have read and understood the &lt;a href=\"http://....\"&gt;Terms of Service&lt;/a&gt;{\" \"}\n      and consent to the &lt;a href=\"http://....\"&gt;Privacy Policy&lt;/a&gt;\n    &lt;/&gt;\n  }\n/&gt;;\n\n</code></pre>\n\n<p>Here is a full example:</p>\n\n<pre><code>import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./styles.css\";\n\nconst Checkbox = props =&gt; {\n  return (\n    &lt;label&gt;\n      &lt;input\n        type=\"checkbox\"\n        disabled={props.disabled}\n        onChange={props.handleChange}\n        checked={props.value}\n        placeholder={props.placeholder}\n      /&gt;\n      {props.label}\n    &lt;/label&gt;\n  );\n};\n\nfunction App() {\n  return (\n    &lt;div className=\"App\"&gt;\n      &lt;Checkbox\n        label={\n          &lt;&gt;\n            I have read and understood the{\" \"}\n            &lt;a href=\"http://....\"&gt;Terms of Service&lt;/a&gt; and consent to the{\" \"}\n            &lt;a href=\"http://....\"&gt;Privacy Policy&lt;/a&gt;\n          &lt;/&gt;\n        }\n      /&gt;\n    &lt;/div&gt;\n  );\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(&lt;App /&gt;, rootElement);\n</code></pre>\n\n<p><a href=\"https://codesandbox.io/s/label-jsx-9bxd8\" rel=\"noreferrer\">You can view the full interactive example here</a></p>\n"}], "owner": {"reputation": 1243, "user_id": 4126418, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ea634661220acc6472bbcd47ea738227?s=128&d=identicon&r=PG&f=1", "display_name": "nyphur", "link": "https://stackoverflow.com/users/4126418/nyphur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 419, "favorite_count": 0, "accepted_answer_id": 57794300, "answer_count": 1, "score": 3, "last_activity_date": 1567623129, "creation_date": 1567622766, "question_id": 57794211, "link": "https://stackoverflow.com/questions/57794211/how-do-i-add-an-anchor-tag-to-a-string-prop", "title": "How do I add an anchor tag to a string prop?", "body": "<p>I have a reusable input/checkbox component that takes in a <code>label</code> prop:</p>\n\n<pre><code>&lt;Checkbox\n  label=\"I have read and understood the Terms of Service and consent to the Privacy Policy\"\n/&gt;\n</code></pre>\n\n<p>and my checkbox's render:</p>\n\n<pre><code>&lt;label&gt;\n    &lt;input\n        type='checkbox'\n        disabled={this.props.disabled}\n        onChange={this.handleChange}\n        checked={this.props.value}\n        placeholder={this.props.placeholder}\n    /&gt;\n        {this.label}\n&lt;/label&gt;\n</code></pre>\n\n<p>however I want the label to accept something like</p>\n\n<pre><code>&lt;Checkbox\n  label=\"I have read and understood the &lt;a href=\"http://....\"&gt;Terms of Service&lt;/a&gt; and consent to the &lt;a href=\"http://....\"&gt;Privacy Policy&lt;/a&gt;\"\n/&gt;\n</code></pre>\n\n<p>and have the words <code>Terms of Service</code> and <code>Privacy Policy</code> as links. However this doesn't work.</p>\n\n<p>Do I have to use something like <code>dangerouslySetInnerHtml</code> to achieve something like this? From wha tI understand using <code>innerHTML</code> is a risk, is it not?</p>\n\n<p>What would be the best way to modify my component to be able to add links like this?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1567622460, "post_id": 57794112, "comment_id": 102021448, "body": "<code>_this = this</code> you are creating an implicit global"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1567622490, "post_id": 57794112, "comment_id": 102021461, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1470488/what-is-the-purpose-of-the-var-keyword-and-when-should-i-use-it-or-omit-it\">What is the purpose of the var keyword and when should I use it (or omit it)?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1096, "user_id": 5308388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gh3X8.png?s=128&g=1", "display_name": "Riddell", "link": "https://stackoverflow.com/users/5308388/riddell"}, "edited": false, "score": 0, "creation_date": 1567623245, "post_id": 57794217, "comment_id": 102021727, "body": "Worth noting: Arrow functions are not supported in <code>Internet Explorer</code> or <code>Opera Mini</code>"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "reply_to_user": {"reputation": 1096, "user_id": 5308388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gh3X8.png?s=128&g=1", "display_name": "Riddell", "link": "https://stackoverflow.com/users/5308388/riddell"}, "edited": false, "score": 0, "creation_date": 1567623420, "post_id": 57794217, "comment_id": 102021784, "body": "@Riddell Opera <i>Mini</i>. Opera itself supported arrow functions pretty much since ES6 came out. It&#39;s running on Chromium, so it&#39;s hard to not be up to date with web standards there."}, {"owner": {"reputation": 969, "user_id": 326242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35cde28dc376b1403cf4de6cbebc80e5?s=128&d=identicon&r=PG", "display_name": "Andrew Koster", "link": "https://stackoverflow.com/users/326242/andrew-koster"}, "edited": false, "score": 0, "creation_date": 1567623449, "post_id": 57794217, "comment_id": 102021796, "body": "Opera has supported arrow functions since 2015. But yes, if you need to support every browser on every device, you might need to set up an ES6 to ES5 compilation step to support modern Javascript syntax."}, {"owner": {"reputation": 1096, "user_id": 5308388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gh3X8.png?s=128&g=1", "display_name": "Riddell", "link": "https://stackoverflow.com/users/5308388/riddell"}, "edited": false, "score": 0, "creation_date": 1567623467, "post_id": 57794217, "comment_id": 102021807, "body": "Yes sorry, I was on two questions at once. That was typo. I&#39;ve updated the comment"}, {"owner": {"reputation": 969, "user_id": 326242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35cde28dc376b1403cf4de6cbebc80e5?s=128&d=identicon&r=PG", "display_name": "Andrew Koster", "link": "https://stackoverflow.com/users/326242/andrew-koster"}, "edited": false, "score": 0, "creation_date": 1567623565, "post_id": 57794217, "comment_id": 102021848, "body": "This sounds like it&#39;s a new project, so it&#39;s probably best to avoid starting the project with the technical debt of archaic Javascript syntax, especially for something fundamental like the data binding API."}, {"owner": {"reputation": 629, "user_id": 4256313, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/nOd6f.png?s=128&g=1", "display_name": "Zorak", "link": "https://stackoverflow.com/users/4256313/zorak"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1567623920, "post_id": 57794217, "comment_id": 102021989, "body": "Based on your suggestion and also the comment of @VLAZ, now it is working correctly, I just removed the ecma6 arrow functions and replaced them by standard function declaration, and it is now working, when I also removed &quot;this&quot; and just created var t = {}; as holder for all inner data. Many thanks, this is working :)"}], "tags": [], "owner": {"reputation": 969, "user_id": 326242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35cde28dc376b1403cf4de6cbebc80e5?s=128&d=identicon&r=PG", "display_name": "Andrew Koster", "link": "https://stackoverflow.com/users/326242/andrew-koster"}, "is_accepted": true, "score": 1, "last_activity_date": 1567623328, "last_edit_date": 1567623328, "creation_date": 1567622802, "answer_id": 57794217, "question_id": 57794112, "link": "https://stackoverflow.com/questions/57794112/js-multiple-data-binding-overwriting/57794217#57794217", "title": "JS multiple data binding overwriting", "body": "<p>Just use arrow functions to avoid redefining \"this\" and to avoid having to hack around it with a global variable:</p>\n\n<pre><code>function Binding(b) {\n    this.element = b.element\n    this.value = b.object[b.property]\n    this.attribute = b.attribute\n    this.valueGetter = () =&gt; {\n        return this.value;\n    }\n    this.valueSetter = (val) =&gt; {\n        this.value = val\n        this.element[_this.attribute] = val\n    }\n\n    Object.defineProperty(b.object, b.property, {\n        get: this.valueGetter,\n        set: this.valueSetter\n    }); \n    b.object[b.property] = this.value;\n\n    this.element[this.attribute] = this.value\n}\n</code></pre>\n\n<p>You could also use <code>const</code>, <code>let</code>, or <code>var</code> when defining <code>_this</code>, as a patch on top of your <code>_this</code> hack. But arrow functions avoid the <code>_this</code> hack in the first place. They're designed to avoid the scoping issues that led to the <code>_this</code> hack.</p>\n"}], "owner": {"reputation": 629, "user_id": 4256313, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/nOd6f.png?s=128&g=1", "display_name": "Zorak", "link": "https://stackoverflow.com/users/4256313/zorak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 57794217, "answer_count": 1, "score": 2, "last_activity_date": 1567623328, "creation_date": 1567622323, "question_id": 57794112, "link": "https://stackoverflow.com/questions/57794112/js-multiple-data-binding-overwriting", "title": "JS multiple data binding overwriting", "body": "<p>I need to implemennt data binding or any other kind of variable observer, whenever the variable changes, trigger some defined action. We are also talking about pure JS, I do not want to use any kind of framework or library due to the performance issues.</p>\n\n<p>I have found a pretty simple and nice data binding code, but its behavior is quite wierd. It works only if you try to bind only 1 variable. Whenever you try to bind multiple variables, it will bind all actions to the last element, even if the bindings was called separately to different variables.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function Binding(b) {\r\n\t_this = this\r\n\tthis.element = b.element\r\n\tthis.value = b.object[b.property]\r\n\tthis.attribute = b.attribute\r\n\tthis.valueGetter = function(){\r\n\t\treturn _this.value;\r\n\t}\r\n\tthis.valueSetter = function(val){\r\n\t\t_this.value = val\r\n\t\t_this.element[_this.attribute] = val\r\n\t}\r\n\r\n\tObject.defineProperty(b.object, b.property, {\r\n\t\tget: this.valueGetter,\r\n\t\tset: this.valueSetter\r\n\t});\t\r\n\tb.object[b.property] = this.value;\r\n\t\r\n\tthis.element[this.attribute] = this.value\r\n}\r\n\r\n\r\nvar obj = {a:123, b:456, c:789};\r\nvar myElement = document.getElementById(\"myText\");\r\nvar a = new Binding({\r\n\tobject: obj,\r\n\tproperty: \"a\",\r\n\telement: document.getElementById(\"myText\"),\r\n\tattribute: \"value\",\r\n});\r\n\r\nvar b = new Binding({\r\n\tobject: obj,\r\n\tproperty: \"b\",\r\n\telement: document.getElementById(\"myText2\"),\r\n\tattribute: \"value\",\r\n});\r\n\r\nvar c = new Binding({\r\n\tobject: obj,\r\n\tproperty: \"c\",\r\n\telement: document.getElementById(\"myText3\"),\r\n\tattribute: \"value\",\r\n});\r\n\r\nsetInterval(function(){\r\nfor(var key in obj)\r\n{obj[key]++;} }, 1000);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=text id=\"myText\"/&gt;\r\n&lt;input type=text id=\"myText2\"/&gt;\r\n&lt;input type=text id=\"myText3\"/&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Any idea please, how to alter the code in such a way, that I can bind the variables separately? I have tried to play with .bind() like if the \"this\" is overwriting something, I tried to play with rewriting function Bind to class, but so far with no results ...</p>\n\n<p>Any help appreciated, thanks!</p>\n"}, {"tags": ["javascript", "node.js", "discord", "discord.js"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 3754091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4v9vK.png?s=128&g=1", "display_name": "Clavaat", "link": "https://stackoverflow.com/users/3754091/clavaat"}, "edited": false, "score": 0, "creation_date": 1567641767, "post_id": 57795438, "comment_id": 102026718, "body": "I believe this is a piece to the puzzle. However, after testing it with this added, I&#39;m still getting a double-output. I&#39;m starting to think that it doesn&#39;t actually have to do with the mobile version necessarily and is instead a bug with discord.js. I&#39;ll keep digging."}, {"owner": {"reputation": 47, "user_id": 3754091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4v9vK.png?s=128&g=1", "display_name": "Clavaat", "link": "https://stackoverflow.com/users/3754091/clavaat"}, "edited": false, "score": 0, "creation_date": 1567642641, "post_id": 57795438, "comment_id": 102026866, "body": "For clarity, this is discord.js version 11.5.1. <a href=\"https://github.com/discordjs/discord.js/issues/2481\" rel=\"nofollow noreferrer\">github.com/discordjs/discord.js/issues/2481</a> I found this, which is explaining the exact issue I was having, but it seems to be back?"}, {"owner": {"reputation": 5000, "user_id": 11321804, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VOIwjh_teGk/AAAAAAAAAAI/AAAAAAAAIjY/X51qzoN8QLM/photo.jpg?sz=128", "display_name": "slothiful", "link": "https://stackoverflow.com/users/11321804/slothiful"}, "reply_to_user": {"reputation": 47, "user_id": 3754091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4v9vK.png?s=128&g=1", "display_name": "Clavaat", "link": "https://stackoverflow.com/users/3754091/clavaat"}, "edited": false, "score": 0, "creation_date": 1567642653, "post_id": 57795438, "comment_id": 102026868, "body": "@Clavaat The event would still be emitted for client status changes as it&#39;s a property of Presence, but this solution should just stop the listener."}, {"owner": {"reputation": 5000, "user_id": 11321804, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VOIwjh_teGk/AAAAAAAAAAI/AAAAAAAAIjY/X51qzoN8QLM/photo.jpg?sz=128", "display_name": "slothiful", "link": "https://stackoverflow.com/users/11321804/slothiful"}, "reply_to_user": {"reputation": 47, "user_id": 3754091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4v9vK.png?s=128&g=1", "display_name": "Clavaat", "link": "https://stackoverflow.com/users/3754091/clavaat"}, "edited": false, "score": 0, "creation_date": 1567642933, "post_id": 57795438, "comment_id": 102026921, "body": "&quot;...there were 2 instance of [D]iscord going on and it hit that event emmitter twice because of it.&quot; If your presence is from mobile <i>and</i> the desktop client or web client, this may cause your issue. It seems like a bug to me."}, {"owner": {"reputation": 47, "user_id": 3754091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4v9vK.png?s=128&g=1", "display_name": "Clavaat", "link": "https://stackoverflow.com/users/3754091/clavaat"}, "edited": false, "score": 0, "creation_date": 1567645608, "post_id": 57795438, "comment_id": 102027396, "body": "I made sure I wasn&#39;t connected to the mobile client when I attempted to trigger the event and, even with the added conditional, it still double-posted."}], "tags": [], "owner": {"reputation": 5000, "user_id": 11321804, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VOIwjh_teGk/AAAAAAAAAAI/AAAAAAAAIjY/X51qzoN8QLM/photo.jpg?sz=128", "display_name": "slothiful", "link": "https://stackoverflow.com/users/11321804/slothiful"}, "is_accepted": false, "score": 1, "last_activity_date": 1567630049, "creation_date": 1567630049, "answer_id": 57795438, "question_id": 57794090, "link": "https://stackoverflow.com/questions/57794090/exclude-mobile-updates-from-presenceupdate-event/57795438#57795438", "title": "Exclude mobile updates from &quot;presenceUpdate&quot; event?", "body": "<p>See <a href=\"https://discord.js.org/#/docs/main/stable/class/Presence?scrollTo=clientStatus\" rel=\"nofollow noreferrer\"><code>Presence.clientStatus</code></a>; it'll return what type of device a presence applies to.</p>\n\n<p>Using this property, you can compare the old user's client with the new user's client and return if it has changed.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>if (oldUser.presence.clientStatus !== newUser.presence.clientStatus) return;\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 3754091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4v9vK.png?s=128&g=1", "display_name": "Clavaat", "link": "https://stackoverflow.com/users/3754091/clavaat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 547, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567630049, "creation_date": 1567622199, "question_id": 57794090, "link": "https://stackoverflow.com/questions/57794090/exclude-mobile-updates-from-presenceupdate-event", "title": "Exclude mobile updates from &quot;presenceUpdate&quot; event?", "body": "<p>When using the \"presenceUpdate\" event in discord.js, it is successfully being fired when a status changes from \"nothing\" to \"streaming\". However, it seems as though, if I open the mobile client after the event is triggered, it happens again, with the exact same \"oldUser\" and \"newUser\". I'm using VSCode and running my node.js instance through there locally, so I am able to use breakpoints to debug.</p>\n\n<pre><code>client.on(\"presenceUpdate\", (oldUser, newUser) =&gt; {\n    //Exclude title changes and typing\n    if(oldUser.presence.game != null &amp;&amp; oldUser.presence.game.streaming) {\n        return;\n    }\n\n    if(oldUser.displayName === \"Test\" &amp;&amp; newUser.presence != null){\n        if(newUser.presence.game != null &amp;&amp; newUser.presence.game.streaming){\n            client.channels.get(\"channelId\").send(\"@everyone Test has started streaming!\");               \n        }\n    }\n});\n</code></pre>\n\n<p>As you can see, I have attempted to filter this \"double-trigger\" already with the first if block. This is not successful, because it looks like the first time it is triggered, the old and new user are exactly the same as the second time it triggers. The only difference I could tell is that the \"clientStatus\" now includes \"mobile: online\" as a property. Is there any way to prevent this double trigger in the first place, code-wise, or will I need to make better filters on my if statements?</p>\n"}, {"tags": ["javascript", "google-chrome-extension", "twitch"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11386585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85ec7374d426d0e05cd73262cde4ea89?s=128&d=identicon&r=PG&f=1", "display_name": "Phabio357", "link": "https://stackoverflow.com/users/11386585/phabio357"}, "edited": false, "score": 0, "creation_date": 1567626233, "post_id": 57794244, "comment_id": 102022901, "body": "Ah, good catch. When I try to run the parentNode version I get:   Uncaught TypeError: Cannot read property &#39;parentNode&#39; of undefined at &lt;anonymous&gt;:1:52.    I think I just need another way of finding the element I&#39;m looking for like using an XPath."}, {"owner": {"reputation": 1, "user_id": 11386585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85ec7374d426d0e05cd73262cde4ea89?s=128&d=identicon&r=PG&f=1", "display_name": "Phabio357", "link": "https://stackoverflow.com/users/11386585/phabio357"}, "edited": false, "score": 0, "creation_date": 1567628653, "post_id": 57794244, "comment_id": 102023474, "body": "Nevermind, I&#39;m just extremely new to javascript and was misusing the dev console. Your solution does work. My problem now is that for some reason my utilities.js file does not show in the extension when I load it unpacked even though it is inside the folder. Thanks for the help."}], "tags": [], "owner": {"reputation": 729, "user_id": 8555809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ac541878cd7de3dd2fae5e23af7247f?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/8555809/bob"}, "is_accepted": false, "score": 0, "last_activity_date": 1567622882, "creation_date": 1567622882, "answer_id": 57794244, "question_id": 57794085, "link": "https://stackoverflow.com/questions/57794085/chrome-extension-that-clicks-a-button-on-twitch/57794244#57794244", "title": "Chrome Extension that clicks a button on Twitch", "body": "<p>When I manually try to execute your <code>clickButton</code> method in the developer console, I get the following result:</p>\n\n<pre><code>&gt;&gt; document.getElementsByClassName(\"tw-icon__svg\")[19].click()\nTypeError: document.getElementsByClassName(...)[19].click is not a function\n</code></pre>\n\n<p>The element you seem to select by using this query is an svg element, which doesn't have this function. Its parent however is <code>click</code>able:</p>\n\n<pre><code>&gt;&gt; document.getElementsByClassName(\"tw-icon__svg\")[19].parentNode.click()\n// I can see the menu open\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11386585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85ec7374d426d0e05cd73262cde4ea89?s=128&d=identicon&r=PG&f=1", "display_name": "Phabio357", "link": "https://stackoverflow.com/users/11386585/phabio357"}, "is_accepted": false, "score": 0, "last_activity_date": 1567647069, "creation_date": 1567647069, "answer_id": 57797360, "question_id": 57794085, "link": "https://stackoverflow.com/questions/57794085/chrome-extension-that-clicks-a-button-on-twitch/57797360#57797360", "title": "Chrome Extension that clicks a button on Twitch", "body": "<p>I fixed this issue by using Bob's advice and doing troubleshooting. The main problem was referencing the correct element as he mentioned. I merged utilities.js with popup.js. Code looks like this.</p>\n\n<p>manifest.json</p>\n\n<pre><code>{\n    \"manifest_version\": 2,\n\n    \"name\": \"Twitch Point Clicker\",\n    \"description\": \"This extension collects points on Twitch for you\",\n    \"version\": \"1.0\",\n\n    \"browser_action\": {\n        \"default_icon\": \"icon.png\",\n        \"default_popup\": \"popup.html\"\n    },\n    \"permissions\": [\n        \"tabs\",\n        \"&lt;all_urls&gt;\"\n    ]\n}\n</code></pre>\n\n<p>popup.html</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Twitch Point Clicker&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;Twitch Point Clicker&lt;/h1&gt;\n    &lt;button id=\"checkPage\"&gt;Click Settings&lt;/button&gt;\n    &lt;script src=\"popup.js\"&gt;&lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>popup.js</p>\n\n<pre><code>function injectTheScript() {\n    chrome.tabs.query({url: \"https://www.twitch.tv/*\"}, function(tabs) {\n        chrome.tabs.executeScript( {code: \"document.querySelectorAll(\\\"[data-a-target='chat-settings']\\\")[0].click();\"});\n    });\n}\ndocument.getElementById('checkPage').addEventListener('click', injectTheScript);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11386585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85ec7374d426d0e05cd73262cde4ea89?s=128&d=identicon&r=PG&f=1", "display_name": "Phabio357", "link": "https://stackoverflow.com/users/11386585/phabio357"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 248, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1567647069, "creation_date": 1567622155, "question_id": 57794085, "link": "https://stackoverflow.com/questions/57794085/chrome-extension-that-clicks-a-button-on-twitch", "title": "Chrome Extension that clicks a button on Twitch", "body": "<p>I'm a hobbyist java programmer that just started learning javascript to make this extension.</p>\n\n<p>I'm trying to make an extension in chrome that will click the chat settings button by the chatbox on Twitch when I click the button in my extension.</p>\n\n<p>I actually want it to click the points button but that button appears randomly so I'm testing it with the settings button instead.</p>\n\n<p>I think it might be that the name of the class of the button is incorrect but I can't figure out the correct name. I would prefer not to use getElementsByID() because I have extensions that mess with the IDs.</p>\n\n<p>manifest.json</p>\n\n<pre><code>{\n\"manifest_version\": 2,\n\n  \"name\": \"Twitch Point Clicker\",\n  \"description\": \"This extension collects points on Twitch for you\",\n  \"version\": \"1.0\",\n\n  \"browser_action\": {\n   \"default_icon\": \"icon.png\",\n   \"default_popup\": \"popup.html\"\n  },\n  \"permissions\": [\n   \"activeTab\",\n   \"tabs\",\n   \"&lt;all_urls&gt;\"\n   ]\n}\n</code></pre>\n\n<p>popup.html</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Twitch Point Clicker&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;Twitch Point Clicker&lt;/h1&gt;\n    &lt;button id=\"checkPage\"&gt;Click Settings&lt;/button&gt;\n    &lt;script src=\"popup.js\"&gt;&lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>popup.js</p>\n\n<pre><code>function injectTheScript() {\n    chrome.tabs.query({active: true, currentWindow: true}, function(tabs) {\n        chrome.tabs.executeScript(tabs[0].id, {file: \"utilities.js\"});\n    });\n}\ndocument.getElementById('checkPage').addEventListener('click', injectTheScript);\n</code></pre>\n\n<p>utilities.js</p>\n\n<pre><code>function clickButton() {\n    var activityTab = document.getElementsByClassName(\"tw-icon__svg\")[19];\n    activityTab.click();\n}\n\nclickButton();\n</code></pre>\n\n<p>I don't get any error messages but the extension just does nothing when I run it.</p>\n"}, {"tags": ["javascript", "unit-testing", "testing", "redux", "jestjs"], "comments": [{"owner": {"reputation": 3951, "user_id": 11126534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb5159d7bad3d2fe37a313b340684?s=128&d=identicon&r=PG&f=1", "display_name": "mgarcia", "link": "https://stackoverflow.com/users/11126534/mgarcia"}, "edited": false, "score": 0, "creation_date": 1567625658, "post_id": 57794054, "comment_id": 102022669, "body": "If you are exporting <code>selectEndpoint</code> you could stub it in your tests so that it returns what you want. Can you show what you have tried in your test file?"}, {"owner": {"reputation": 125, "user_id": 3210101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff064720dd5cf1e115fe83301872bdf7?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/3210101/paul"}, "reply_to_user": {"reputation": 3951, "user_id": 11126534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb5159d7bad3d2fe37a313b340684?s=128&d=identicon&r=PG&f=1", "display_name": "mgarcia", "link": "https://stackoverflow.com/users/11126534/mgarcia"}, "edited": false, "score": 0, "creation_date": 1567626017, "post_id": 57794054, "comment_id": 102022825, "body": "@mgarcia I do export it for my react components, but i want to test my selectors directly mainly to be able to determine if changes break any functionality"}, {"owner": {"reputation": 125, "user_id": 3210101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff064720dd5cf1e115fe83301872bdf7?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/3210101/paul"}, "reply_to_user": {"reputation": 3951, "user_id": 11126534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0edb5159d7bad3d2fe37a313b340684?s=128&d=identicon&r=PG&f=1", "display_name": "mgarcia", "link": "https://stackoverflow.com/users/11126534/mgarcia"}, "edited": false, "score": 0, "creation_date": 1567626405, "post_id": 57794054, "comment_id": 102022956, "body": "@mgarcia my understanding is that jest mocks will only work for imports, so because the two functions are in the same file, there is no way for jest to create a mock"}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 3210101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff064720dd5cf1e115fe83301872bdf7?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/3210101/paul"}, "edited": false, "score": 0, "creation_date": 1567633923, "post_id": 57795527, "comment_id": 102025198, "body": "so this destroys all my other tests, for functions under <code>Redux&#47;global&#47;selectors</code> that i have in this test file"}, {"owner": {"reputation": 125, "user_id": 3210101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff064720dd5cf1e115fe83301872bdf7?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/3210101/paul"}, "edited": false, "score": 0, "creation_date": 1567634175, "post_id": 57795527, "comment_id": 102025255, "body": "I suppose i could remock each function to its true function for the specific test that is testing that function, but that seems to be a step in the wrong direction.. in terms of test verbosity/coupling"}, {"owner": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "reply_to_user": {"reputation": 125, "user_id": 3210101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff064720dd5cf1e115fe83301872bdf7?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/3210101/paul"}, "edited": false, "score": 0, "creation_date": 1567636483, "post_id": 57795527, "comment_id": 102025756, "body": "@Paul Split up your selector tests into different separate files. Each file should have its own respective test file. If this <i>is</i> a test file that is tied to a single file, that means that single file is doing too much and should be split up into smaller files"}], "tags": [], "owner": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "is_accepted": false, "score": 0, "last_activity_date": 1567630510, "creation_date": 1567630510, "answer_id": 57795527, "question_id": 57794054, "link": "https://stackoverflow.com/questions/57794054/proper-way-to-refactor-functions-that-use-functions-within-the-same-file-for-tes/57795527#57795527", "title": "Proper way to refactor functions that use functions within the same file for testing", "body": "<p>You're asking about function mocking, specifically <code>jest.mock</code> and <a href=\"https://jestjs.io/docs/en/mock-function-api.html#mockfnmockreturnvaluevalue\" rel=\"nofollow noreferrer\"><code>mockReturnValue</code></a>. Mock the import and define what your function should return.</p>\n\n<pre><code>import * as selectors from 'Redux/global/selectors'\njest.mock('Redux/global/selectors')\n\nselectors.selectEndpointA.mockReturnValue(() =&gt; 'whatever you want')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 125, "user_id": 3210101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff064720dd5cf1e115fe83301872bdf7?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/3210101/paul"}, "is_accepted": false, "score": 0, "last_activity_date": 1567636812, "creation_date": 1567636812, "answer_id": 57796398, "question_id": 57794054, "link": "https://stackoverflow.com/questions/57794054/proper-way-to-refactor-functions-that-use-functions-within-the-same-file-for-tes/57796398#57796398", "title": "Proper way to refactor functions that use functions within the same file for testing", "body": "<p>Ok the way I ended up solving this is a combination of currying and default values:</p>\n\n<p>refactored my endpoint selection functions as follows:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// selectors.js\n\nimport {selectIsAuthenticated} from 'Redux/customer/selectors'\n\nexport const selectEndpoint = state =&gt; selectIsAuthenticated(state) ? 'guest' : 'authenticated'\n\nexport const selectEndpointA = (endpointSelector = selectEndpoint) =&gt; state =&gt; `/rest/${endpointSelector(state)}/a`\n\nexport const selectEndpointB = (endpointSelector = selectEndpoint) =&gt; state =&gt; `/rest/${endpointSelector(state)}/b`\n</code></pre>\n\n<p>and the resulting tests...</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  describe('selectEndpointA', () =&gt; {\n    it('returns correct endpoint', () =&gt; {\n      const test = 'test'\n      const state = 'state'\n      const selectEndpoint = jest.fn(() =&gt; test)\n      expect(selectors.selectEndpointA(selectEndpoint)(state)).toEqual(`/rest/${test}/a`)\n      expect(selectEndpoint).toHaveBeenCalledWith(state)\n    })\n  })\n</code></pre>\n\n<p>and then because there is a default value, it means that in my usage elsewhere I can use:</p>\n\n<pre><code>const endpointA = selectEndpointA()(state)\n</code></pre>\n\n<p>and not be concerned with what function is deciding how the endpoint is determined, nor exactly what that function returns (but can test that separately)</p>\n"}], "owner": {"reputation": 125, "user_id": 3210101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff064720dd5cf1e115fe83301872bdf7?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/3210101/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1567708185, "creation_date": 1567622015, "last_edit_date": 1567708185, "question_id": 57794054, "link": "https://stackoverflow.com/questions/57794054/proper-way-to-refactor-functions-that-use-functions-within-the-same-file-for-tes", "title": "Proper way to refactor functions that use functions within the same file for testing", "body": "<p>In our application we need to use different endpoints depending upon whether the current user is authenticated. The status of authentication is stored in Redux state. This is a common pattern I have with redux selectors:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// selectors.js\n\nimport {selectIsAuthenticated} from 'Redux/customer/selectors'\n\nexport const selectEndpoint = state =&gt; selectIsAuthenticated(state) ? 'guest' : 'authenticated'\n\nexport const selectEndpointA = state =&gt; `/rest/${selectEndpoint(state)}/a`\n\nexport const selectEndpointB = state =&gt; `/rest/${selectEndpoint(state)}/b`\n</code></pre>\n\n<p>When testing, this becomes complicated because i cannot mock <code>selectEndpoint</code>.. so then the test for <code>selectEndpointA</code> becomes dependent upon the implementation of <code>selectEndpoint</code>, which is not ideal.</p>\n\n<p>What is the proper way to test something like this OR refactor it to be more easily testable?</p>\n\n<p>I have considered refactoring so that selectEndpoint is passed in as an argument (or curried) for <code>selectEndpointA</code> such as:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export const selectEndpointA = selectEndpoint =&gt; state =&gt; `/rest/${selectEndpoint(state)}/a`\n</code></pre>\n\n<p>but this seems overly complicated as now in my code I would need an addition import anywhere that I wanted to use <code>selectEndpointA</code></p>\n\n<p>EDIT:</p>\n\n<p>here's an example of a unit test that I have:</p>\n\n<pre><code>import * as selectors from 'Redux/global/selectors'\nimport * as customerSelectors from 'Redux/customer/selectors'\nconst nonAuthenticatedEndpoint = 'guest'\n/* ... */\n  describe('selectEndpoint', () =&gt; {\n    it('returns proper endpoint for non authenticated user', () =&gt; {\n      customerSelectors.selectIsAuthenticated = jest.fn(() =&gt; false)\n      const state = 'state'\n      const expected = nonAuthenticatedEndpoint\n      expect(selectors.selectEndpoint(state)).toEqual(expected)\n      expect(customerSelectors.selectIsAuthenticated).toHaveBeenCalledWith(\n        state\n      )\n    })\n}\n</code></pre>\n\n<p>so also within <code>Redux/global/selectors</code> is <code>selectEndpointA</code> and <code>selectEndpointB</code></p>\n\n<p>EDIT:</p>\n\n<p>and an example of a test that i would like to have work:</p>\n\n<pre><code>  describe('selectEndpointA', () =&gt; {\n    it('returns correct endpoint for non authenticated user', () =&gt; {\n      const state = {\n          /* some specific state */\n      }\n      expect(selectors.selectEndpointA(state)).toEqual('/rest/guest/a')\n    })\n  })\n</code></pre>\n\n<p>while this does work currently, i would like to find a way to decouple this from the implementation of <code>selectEndpoint</code> and have the comparison value not depend upon the return of <code>selectEndpoint</code></p>\n"}, {"tags": ["javascript", "reactjs", "webpack", "jsx", "create-react-app"], "comments": [{"owner": {"reputation": 8132, "user_id": 8605960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/manal.jpg?s=128&g=1", "display_name": "Asaf Aviv", "link": "https://stackoverflow.com/users/8605960/asaf-aviv"}, "edited": false, "score": 0, "creation_date": 1567622079, "post_id": 57794024, "comment_id": 102021283, "body": "You can save it on the window object <code>window.Foo = Foo</code>"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1567624100, "post_id": 57794024, "comment_id": 102022055, "body": "Which developer console exactly are you using? Does it support something like setting the environment to a specific file scope? Or maybe what you really want is a breakpoint in your file, while your application runs normally?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1567624126, "post_id": 57794024, "comment_id": 102022069, "body": "Try <code>const { Foo } = await import(&#39;.&#47;src&#47;state&#47;Foo.js&#39;);</code>"}], "owner": {"reputation": 1206, "user_id": 885312, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/beded0a38cc963593a98df7eed37767c?s=128&d=identicon&r=PG", "display_name": "trbabb", "link": "https://stackoverflow.com/users/885312/trbabb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567621859, "creation_date": 1567621859, "question_id": 57794024, "link": "https://stackoverflow.com/questions/57794024/instantiating-classes-in-the-developer-console", "title": "Instantiating classes in the developer console", "body": "<p>I've got a React/JSX app built with create-react-app. I have a state class <code>export class Foo { ... }</code> in <code>src/state/Foo.js</code>. I would like to instantiate some <code>Foo</code>s in the developer console for REPL debugging, but I can't figure out how to do that.</p>\n\n<p><code>let f = new Foo()</code> doesn't work, of course, because <code>Foo</code> is not in scope. <code>import Foo from './src/state/Foo.js'</code> produces a syntax error (which is not fixed by messing with the path to <code>Foo.js</code>). I suspect there would be problems anyway even if that did work, since the source is webpacked and the individual script files are gone.</p>\n\n<p>This seems like it should be simple; what am I missing? How do I instantiate classes from my source in the developer console?</p>\n"}, {"tags": ["javascript", "vue.js", "vuejs2"], "comments": [{"owner": {"reputation": 59704, "user_id": 635981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51763ff4e4c531c68326064bc13b84a6?s=128&d=identicon&r=PG", "display_name": "David Weldon", "link": "https://stackoverflow.com/users/635981/david-weldon"}, "edited": false, "score": 0, "creation_date": 1567623824, "post_id": 57794008, "comment_id": 102021947, "body": "I wouldn&#39;t do that unless you use the component in dozens of places. Not only is this a code smell, it&#39;s also problematic if the parent is positioned in some way other than <code>relative</code>."}, {"owner": {"reputation": 1398, "user_id": 11821793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/910ba89dda99dc1881e1b8eed28f0732?s=128&d=identicon&r=PG", "display_name": "Cathy Ha", "link": "https://stackoverflow.com/users/11821793/cathy-ha"}, "reply_to_user": {"reputation": 59704, "user_id": 635981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51763ff4e4c531c68326064bc13b84a6?s=128&d=identicon&r=PG", "display_name": "David Weldon", "link": "https://stackoverflow.com/users/635981/david-weldon"}, "edited": false, "score": 0, "creation_date": 1567624225, "post_id": 57794008, "comment_id": 102022106, "body": "Ok - thank you for the suggestion. Can you explain why it&#39;s bad practice to do so (i.e. why it&#39;s code smell?), and what you would suggest doing instead?"}, {"owner": {"reputation": 59704, "user_id": 635981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51763ff4e4c531c68326064bc13b84a6?s=128&d=identicon&r=PG", "display_name": "David Weldon", "link": "https://stackoverflow.com/users/635981/david-weldon"}, "edited": false, "score": 1, "creation_date": 1567626118, "post_id": 57794008, "comment_id": 102022859, "body": "In general, a codebase is easier to maintain if its sub-units (in this case components) have explicit relationships. Your desired solution is an implicit relationship - the act of adding component C to component P, will alter P. Imagine a year later, you convert P to be a modal and suddenly it breaks because of C&#39;s behavior. An explicit solution is just add <code>position: relative</code> to P, with a comment, or add a class like <code>o-container</code> to P where <code>o-container</code> is a reusable CSS object class with an understood purpose in your app."}, {"owner": {"reputation": 7648, "user_id": 5442308, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/246f740a4597f4fec0ebbc6be98fa8ab?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Aft", "link": "https://stackoverflow.com/users/5442308/matt-aft"}, "edited": false, "score": 1, "creation_date": 1567629279, "post_id": 57794008, "comment_id": 102023708, "body": "Any way you set this up will be messy but another approach could be to pass the parent as a slot into this component and that way you should be able to modify both styles from in here.  PS, you most likely wouldn&#39;t want to set it up in vuex in case you have multiple components on the same screen and don&#39;t want one to alter all the other parents. (unless this is your goal)"}, {"owner": {"reputation": 1398, "user_id": 11821793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/910ba89dda99dc1881e1b8eed28f0732?s=128&d=identicon&r=PG", "display_name": "Cathy Ha", "link": "https://stackoverflow.com/users/11821793/cathy-ha"}, "reply_to_user": {"reputation": 59704, "user_id": 635981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51763ff4e4c531c68326064bc13b84a6?s=128&d=identicon&r=PG", "display_name": "David Weldon", "link": "https://stackoverflow.com/users/635981/david-weldon"}, "edited": false, "score": 0, "creation_date": 1567635379, "post_id": 57794008, "comment_id": 102025518, "body": "@David Weldon thank you - that&#39;s what I ended up doing, adding a re-usable class to the parent. What you said makes sense. As a self-taught and relatively new coder it&#39;s good to learn these rules of coding."}, {"owner": {"reputation": 1398, "user_id": 11821793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/910ba89dda99dc1881e1b8eed28f0732?s=128&d=identicon&r=PG", "display_name": "Cathy Ha", "link": "https://stackoverflow.com/users/11821793/cathy-ha"}, "reply_to_user": {"reputation": 7648, "user_id": 5442308, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/246f740a4597f4fec0ebbc6be98fa8ab?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Aft", "link": "https://stackoverflow.com/users/5442308/matt-aft"}, "edited": false, "score": 0, "creation_date": 1567635383, "post_id": 57794008, "comment_id": 102025519, "body": "@MattAft yes that&#39;s what I thought. I wouldn&#39;t use a vuex store for this either."}, {"owner": {"reputation": 59704, "user_id": 635981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51763ff4e4c531c68326064bc13b84a6?s=128&d=identicon&r=PG", "display_name": "David Weldon", "link": "https://stackoverflow.com/users/635981/david-weldon"}, "edited": false, "score": 0, "creation_date": 1567656083, "post_id": 57794008, "comment_id": 102029092, "body": "@CathyHa Sounds good. I&#39;d recommend you add an answer and accept it, so others can benefit."}], "answers": [{"comments": [{"owner": {"reputation": 1398, "user_id": 11821793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/910ba89dda99dc1881e1b8eed28f0732?s=128&d=identicon&r=PG", "display_name": "Cathy Ha", "link": "https://stackoverflow.com/users/11821793/cathy-ha"}, "edited": false, "score": 0, "creation_date": 1567624426, "post_id": 57794542, "comment_id": 102022188, "body": "It seems kind of excessive to use a vuex store for this...doesn&#39;t it?"}, {"owner": {"reputation": 994, "user_id": 8598487, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/10212547207626865/picture?type=large", "display_name": "Carlos Pisarello", "link": "https://stackoverflow.com/users/8598487/carlos-pisarello"}, "reply_to_user": {"reputation": 1398, "user_id": 11821793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/910ba89dda99dc1881e1b8eed28f0732?s=128&d=identicon&r=PG", "display_name": "Cathy Ha", "link": "https://stackoverflow.com/users/11821793/cathy-ha"}, "edited": false, "score": 0, "creation_date": 1567625333, "post_id": 57794542, "comment_id": 102022560, "body": "The other way around is emiting an event on the child when the prop changes and reacting to that on the parent, i&#39;ll add that to the answer"}, {"owner": {"reputation": 1398, "user_id": 11821793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/910ba89dda99dc1881e1b8eed28f0732?s=128&d=identicon&r=PG", "display_name": "Cathy Ha", "link": "https://stackoverflow.com/users/11821793/cathy-ha"}, "edited": false, "score": 0, "creation_date": 1567635020, "post_id": 57794542, "comment_id": 102025425, "body": "The prop doesn&#39;t change - it&#39;s just an option"}, {"owner": {"reputation": 994, "user_id": 8598487, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/10212547207626865/picture?type=large", "display_name": "Carlos Pisarello", "link": "https://stackoverflow.com/users/8598487/carlos-pisarello"}, "reply_to_user": {"reputation": 1398, "user_id": 11821793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/910ba89dda99dc1881e1b8eed28f0732?s=128&d=identicon&r=PG", "display_name": "Cathy Ha", "link": "https://stackoverflow.com/users/11821793/cathy-ha"}, "edited": false, "score": 0, "creation_date": 1567703921, "post_id": 57794542, "comment_id": 102051983, "body": "then the solution is simpler, just store the option value inside a variable on the parent and pass it to the child, and that way you can react to that variable from the parent and from the child via the prop. It&#39;s not really clear what you mean when saying &quot;Without knowing anything from the parent&quot;."}], "tags": [], "owner": {"reputation": 994, "user_id": 8598487, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/10212547207626865/picture?type=large", "display_name": "Carlos Pisarello", "link": "https://stackoverflow.com/users/8598487/carlos-pisarello"}, "is_accepted": false, "score": 0, "last_activity_date": 1567627047, "last_edit_date": 1567627047, "creation_date": 1567624327, "answer_id": 57794542, "question_id": 57794008, "link": "https://stackoverflow.com/questions/57794008/how-to-style-parent-component-in-vue/57794542#57794542", "title": "How to style parent component in Vue", "body": "<p>There is two possible ways to achieve that:</p>\n\n<p><strong>Whith Vuex</strong></p>\n\n<p>Control all the styles from a single state variable.</p>\n\n<p><strong>Store</strong></p>\n\n<pre><code>state: {\n  absolute: false;\n}\nmutations: {\n  setAbsolute(state, value) {\n    state.absolute = value  // Here value should be true or false\n  }\n}\n</code></pre>\n\n<p><strong>Parent</strong></p>\n\n<pre><code>&lt;template&gt;\n  &lt;div :class=\"{relative: absolute}\"&gt;\n    &lt;child-component\n      :is-absolute=\"absolute\"\n    /&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\n  export default {\n    computed: {\n      absolute() {\n        return this$store.state.absolute\n      }\n    }\n  }\n&lt;/script&gt;\n</code></pre>\n\n<p>in the previous example i have a variable called absolute on the store and a mutation to set that property with a value, you sould always pass a boolean in this case, you can also make a switcher mutation like this:</p>\n\n<pre><code>mutations: {\n    switchAbsolute(state) {\n      state.absolute = !state.absolute\n    }\n  }\n</code></pre>\n\n<p>whenever you want to change that just call</p>\n\n<pre><code>  $store.commit('switchAbsolute')\n</code></pre>\n\n<p>or the following if you want to set the value manually with the first approach</p>\n\n<pre><code>  $store.commit('setAbsolute', [the value you want absolute to be])\n</code></pre>\n\n<p>The value of absolute is receibed as a computed property on your parent and from there you can control the style of the parent and pass the same value as a prop to the child. Pay attention to the conditional class binding, the .relative class should set the position to relative.</p>\n\n<p><strong>With watchers and events</strong></p>\n\n<p>The logic is the next: On the child component, you emit an event whenever the prop changes and handle the event on the parent to changet its styles:</p>\n\n<p><strong>Child</strong></p>\n\n<pre><code>props: {\n  absolute: {\n    type: Boolean,\n    default: false\n  }\n},\nwatch: {\n  absolute: function(newVal, oldVal) {\n    if (newVal === true) {\n      this.$emit('childIsAbsolute')\n    }\n  }\n}\n</code></pre>\n\n<p><strong>On the parent*</strong></p>\n\n<pre><code>&lt;template&gt;\n  &lt;div :styles=\"relativePosition\"&gt;\n    &lt;child-component @childIsAbsolute=\"handleChange($event)\" \n     :absolute=\"absolute\"\n    /&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n&lt;scrip&gt;\n  export default {\n    data() {\n      relative: false;\n      absolute: false\n    },\n    methods: {\n      handleChange(event) {\n        this.relative = event //here event is true or false, depending  \n        on the value of the child's prop, emited from the watcher\n      }\n    },\n    computed: {\n      relativePosition() {\n        return `position: ${this.relative ? 'relative' : 'static'}`\n      }\n    }\n  }\n&lt;/script&gt;\n</code></pre>\n\n<p>What we have done here is:</p>\n\n<p>set a prop absolute for the child and we watch it to emit an event when it changes, the event sends the new value of the prop to the parent and we react to that event and change the styles depending on that new value (true if the child is absolute and false if it's not).\nI don't really know where do you handle the value for that prop, in this example i made it's not necessary to handle it with events becaus we actually have the value we want to react to in the parent, but i don't really know where do you send that from.</p>\n"}, {"tags": [], "owner": {"reputation": 1398, "user_id": 11821793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/910ba89dda99dc1881e1b8eed28f0732?s=128&d=identicon&r=PG", "display_name": "Cathy Ha", "link": "https://stackoverflow.com/users/11821793/cathy-ha"}, "is_accepted": false, "score": 0, "last_activity_date": 1567705259, "creation_date": 1567705259, "answer_id": 57810593, "question_id": 57794008, "link": "https://stackoverflow.com/questions/57794008/how-to-style-parent-component-in-vue/57810593#57810593", "title": "How to style parent component in Vue", "body": "<p>As David Weldon has stated in my question's comment, what I'm trying to achieve (making a child component manipulate a parent's style when the child's prop is x) is actually not advised in clean coding practices. He's said it better, so I'll paste his comment here:</p>\n\n<blockquote>\n  <p>In general, a codebase is easier to maintain if its sub-units (in this\n  case components) have explicit relationships. Your desired solution is\n  an implicit relationship - the act of adding component C to component\n  P, will alter P. Imagine a year later, you convert P to be a modal and\n  suddenly it breaks because of C's behavior. An explicit solution is\n  just add position: relative to P, with a comment, or add a class like\n  o-container to P where o-container is a reusable CSS object class with\n  an understood purpose in your app.</p>\n</blockquote>\n\n<p>What I ended up doing is just creating a reusable css class and adding that to the parent's class, rather than making the child component manipulate the parent component's style.</p>\n\n<pre><code>.relative {\n    position: relative;\n}\n</code></pre>\n\n<p>I wouldn't suggest using a vuex state for this - as MattAft has noted in the comments as well.</p>\n"}], "owner": {"reputation": 1398, "user_id": 11821793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/910ba89dda99dc1881e1b8eed28f0732?s=128&d=identicon&r=PG", "display_name": "Cathy Ha", "link": "https://stackoverflow.com/users/11821793/cathy-ha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1567705259, "creation_date": 1567621794, "question_id": 57794008, "link": "https://stackoverflow.com/questions/57794008/how-to-style-parent-component-in-vue", "title": "How to style parent component in Vue", "body": "<p>I'm currently building a custom overlay component using Vue 2.x. There's a prop for the component that allows it to be either have an absolute position or a fixed position. </p>\n\n<p>The issue is that when I turn on the absolute position, I want to add <code>position: relative</code> to the parent component. I want this to be a re-usable component, so I want to be able to do this without knowing anything about the parent (id, class, etc.). What is the best approach here to add a style attribute to the custom component's parent?</p>\n\n<p>This is what my custom component currently looks like:</p>\n\n<pre><code>&lt;template&gt;\n  &lt;component\n    class=\"custom-overlay\"\n    :style=\"overlayStyle\"\n    :is=\"type\"\n    v-if=\"value\"&gt;\n    &lt;slot :style=\"overlayContentStyle\"&gt;\n    &lt;/slot&gt;\n  &lt;/component&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nimport { colorShiftHelpers } from '../../mixins/helpers'\n\nexport default {\n  props: {\n    value: {\n      default: true,\n      type: Boolean\n    },\n    dark: {\n      default: false,\n      type: Boolean\n    },\n    absolute: {\n      default: false,\n      type: Boolean\n    },\n    color: {\n      default: 'rgb(23, 30, 38)',\n      type: String\n    },\n    opacity: {\n      default: 0.46,\n      type: Number | String\n    },\n    type: {\n      default: 'div',\n      type: String\n    },\n    zIndex: {\n      default: 5,\n      type: Number | String\n    }\n  },\n  mixins: [colorShiftHelpers],\n  computed: {\n    overlayStyle({ absolute, color, opacity, zIndex }) {\n      return {\n        position: absolute ? 'absolute' : 'fixed',\n        background: this.addAlpha(color, opacity),\n        'z-index': zIndex\n      }\n    }\n  }\n}\n&lt;/script&gt;\n\n&lt;style scoped&gt;\n.custom-overlay {\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n}\n&lt;/style&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "json", "twitter-bootstrap", "etherscan"], "answers": [{"tags": [], "owner": {"reputation": 930, "user_id": 4518472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8rYu5.jpg?s=128&g=1", "display_name": "Tarun Khosla", "link": "https://stackoverflow.com/users/4518472/tarun-khosla"}, "is_accepted": false, "score": 0, "last_activity_date": 1567633960, "creation_date": 1567633960, "answer_id": 57796044, "question_id": 57793958, "link": "https://stackoverflow.com/questions/57793958/how-to-display-api-json-data-in-bootstrap-table/57796044#57796044", "title": "How to display API JSON data in bootstrap table", "body": "<p>As per the bootstrap table data-ajax is a method to replace ajax call. Should implement the same API as jQuery ajax method and hence I replaced it with your appropriate function </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n    &lt;title&gt;Page Title&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css\"&gt;\n    &lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.10.1/bootstrap-table.min.css\"&gt;\n    &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.10.1/bootstrap-table.min.js\"&gt;&lt;/script&gt;\n    &lt;link href=\"https://unpkg.com/bootstrap-table@1.15.4/dist/bootstrap-table.min.css\" rel=\"stylesheet\"&gt;\n\n    &lt;script src=\"https://unpkg.com/bootstrap-table@1.15.4/dist/bootstrap-table.min.js\"&gt;&lt;/script&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n    &lt;table id=\"table\" data-toggle=\"table\" data-height=\"460\" data-ajax=\"ajaxRequest\" data-search=\"true\"\n        data-side-pagination=\"server\" data-pagination=\"true\"&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th data-field=\"address\" data-sortable=\"true\"&gt;address&lt;/th&gt;\n                &lt;th data-field=\"data\" data-sortable=\"true\"&gt;data&lt;/th&gt;\n                &lt;th data-field=\"topics\" data-sortable=\"true\"&gt;topic&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n    &lt;/table&gt;\n\n    &lt;script&gt;\n        // your custom ajax request here\n        function ajaxRequest(params) {\n            var url = 'https://api-ropsten.etherscan.io/api?module=logs&amp;action=getLogs&amp;fromBlock=379224&amp;toBlock=latest&amp;address=0x96604Ac7312f3ba2c0f778564F0D13bFA5A54faa&amp;topic0=0x5436f9c7563d4b5be022d399b41f15519419cafca0f81c49d0cfbe78b925cbff&amp;apikey=IQN5KP8AKJ9WFTYNGZRJE7W3QHXPT4S65H';\n            $.get(url).then(function (res) {\n                params.success(res.result)\n            })\n        }\n    &lt;/script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12021429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cf2276fd71b104cf02bed4d23f1d057?s=128&d=identicon&r=PG&f=1", "display_name": "SOAIFAO", "link": "https://stackoverflow.com/users/12021429/soaifao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1243, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567687340, "creation_date": 1567621556, "last_edit_date": 1567687340, "question_id": 57793958, "link": "https://stackoverflow.com/questions/57793958/how-to-display-api-json-data-in-bootstrap-table", "title": "How to display API JSON data in bootstrap table", "body": "<p>I want to load event logo using etherscan API.</p>\n\n<p>It is not added to the bootstrap table.</p>\n\n<p>It's not long since I just started coding. Sorry for the many mistakes.</p>\n\n<p>JS:</p>\n\n<pre><code>$.getJSON(\"https://api-ropsten.etherscan.io/api?module=logs&amp;action=getLogs&amp;fromBlock=379224&amp;toBlock=latest&amp;address=0x96604Ac7312f3ba2c0f778564F0D13bFA5A54faa&amp;topic0=0x5436f9c7563d4b5be022d399b41f15519419cafca0f81c49d0cfbe78b925cbff&amp;apikey=IQN5KP8AKJ9WFTYNGZRJE7W3QHXPT4S65H\", function (data) {\n    console.log(data);\n    $(function () {\n        $('table').bootstrapTable({\n            data: JSON.parse(data.result)\n        });\n    });\n});\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css\"&gt;\n&lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.10.1/bootstrap-table.min.css\"&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.10.1/bootstrap-table.min.js\"&gt;&lt;/script&gt;\n&lt;link href=\"https://unpkg.com/bootstrap-table@1.15.4/dist/bootstrap-table.min.css\" rel=\"stylesheet\"&gt;\n\n&lt;script src=\"https://unpkg.com/bootstrap-table@1.15.4/dist/bootstrap-table.min.js\"&gt;&lt;/script&gt;\n\n&lt;table\nid=\"#table\"\ndata-toggle=\"table\"\ndata-silent-sort=\"false\"\ndata-height=\"460\"\ndata-pagination=\"true\"\ndata-side-pagination=\"server\"\ndata-url=\"http://api-ropsten.etherscan.io/api?module=logs&amp;action=getLogs&amp;fromBlock=379224&amp;toBlock=latest&amp;address=0x96604Ac7312f3ba2c0f778564F0D13bFA5A54faa&amp;topic0=0x5436f9c7563d4b5be022d399b41f15519419cafca0f81c49d0cfbe78b925cbff&amp;apikey=IQN5KP8AKJ9WFTYNGZRJE7W3QHXPT4S65H\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th data-field=\"address\" data-sortable=\"true\"&gt;address&lt;/th&gt;\n            &lt;th data-field=\"data\" data-sortable=\"true\"&gt;data&lt;/th&gt;\n            &lt;th data-field=\"topics\" data-sortable=\"true\"&gt;topic&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n&lt;/table&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "converters"], "comments": [{"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 1, "creation_date": 1567621604, "post_id": 57793927, "comment_id": 102021075, "body": "<a href=\"https://webpack.js.org/\" rel=\"nofollow noreferrer\">webpack</a>? Also, I would not really call the JavaScript module system &quot;new-ish&quot;, as ES6 is 4 years old."}, {"owner": {"reputation": 4813, "user_id": 1771994, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/92bb8a32559190ac0aa783c02c3c0299?s=128&d=identicon&r=PG&f=1", "display_name": "Tom O.", "link": "https://stackoverflow.com/users/1771994/tom-o"}, "edited": false, "score": 0, "creation_date": 1567621776, "post_id": 57793927, "comment_id": 102021155, "body": "Sounds like youre looking for a module bundler - webpack is a popular one: <a href=\"https://webpack.js.org/\" rel=\"nofollow noreferrer\">webpack.js.org</a>  - Given some entry point, it will create a dependency graph and bundle up all the modules you need."}, {"owner": {"reputation": 371, "user_id": 9916057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v0ueoRc9sUo/AAAAAAAAAAI/AAAAAAAAIAI/O9m-riagmB4/photo.jpg?sz=128", "display_name": "Kris10an", "link": "https://stackoverflow.com/users/9916057/kris10an"}, "edited": false, "score": 0, "creation_date": 1567621926, "post_id": 57793927, "comment_id": 102021220, "body": "Thanks guys, i had completely forgotten about webpack."}], "answers": [{"tags": [], "owner": {"reputation": 371, "user_id": 9916057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v0ueoRc9sUo/AAAAAAAAAAI/AAAAAAAAIAI/O9m-riagmB4/photo.jpg?sz=128", "display_name": "Kris10an", "link": "https://stackoverflow.com/users/9916057/kris10an"}, "is_accepted": false, "score": 0, "last_activity_date": 1567621983, "creation_date": 1567621983, "answer_id": 57794045, "question_id": 57793927, "link": "https://stackoverflow.com/questions/57793927/compiling-compressing-into-one-js-file/57794045#57794045", "title": "Compiling/compressing into one js file", "body": "<p>I can just use the module bundler <a href=\"https://webpack.js.org/\" rel=\"nofollow noreferrer\">webpack</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 371, "user_id": 9916057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v0ueoRc9sUo/AAAAAAAAAAI/AAAAAAAAIAI/O9m-riagmB4/photo.jpg?sz=128", "display_name": "Kris10an", "link": "https://stackoverflow.com/users/9916057/kris10an"}, "edited": false, "score": 0, "creation_date": 1567622216, "post_id": 57794084, "comment_id": 102021350, "body": "Yeah, but then id have to use system"}, {"owner": {"reputation": 54, "user_id": 11102521, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xM5p1ZEopqY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfxREIEudsJ0eq6bkW7sj4-Ys9xIw/mo/photo.jpg?sz=128", "display_name": "w41t3ra661t", "link": "https://stackoverflow.com/users/11102521/w41t3ra661t"}, "reply_to_user": {"reputation": 371, "user_id": 9916057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v0ueoRc9sUo/AAAAAAAAAAI/AAAAAAAAIAI/O9m-riagmB4/photo.jpg?sz=128", "display_name": "Kris10an", "link": "https://stackoverflow.com/users/9916057/kris10an"}, "edited": false, "score": 0, "creation_date": 1567622277, "post_id": 57794084, "comment_id": 102021376, "body": "I see, sorry! I think the bundler is what you want."}], "tags": [], "owner": {"reputation": 54, "user_id": 11102521, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xM5p1ZEopqY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfxREIEudsJ0eq6bkW7sj4-Ys9xIw/mo/photo.jpg?sz=128", "display_name": "w41t3ra661t", "link": "https://stackoverflow.com/users/11102521/w41t3ra661t"}, "is_accepted": false, "score": 1, "last_activity_date": 1567622155, "creation_date": 1567622155, "answer_id": 57794084, "question_id": 57793927, "link": "https://stackoverflow.com/questions/57793927/compiling-compressing-into-one-js-file/57794084#57794084", "title": "Compiling/compressing into one js file", "body": "<p>outFile will concatenate the output. </p>\n\n<pre><code>{\n  \"compilerOptions\": {\n      \"module\": \"System\"\n      \"outFile\": \"&lt;file/location&gt;\",\n      ...\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 371, "user_id": 9916057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v0ueoRc9sUo/AAAAAAAAAAI/AAAAAAAAIAI/O9m-riagmB4/photo.jpg?sz=128", "display_name": "Kris10an", "link": "https://stackoverflow.com/users/9916057/kris10an"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1567622155, "creation_date": 1567621391, "question_id": 57793927, "link": "https://stackoverflow.com/questions/57793927/compiling-compressing-into-one-js-file", "title": "Compiling/compressing into one js file", "body": "<p>I have a typescript project that compiles into javascript and runs in the browser. It utilizes the new-ish module system in javascript, and the files are in a hierarchy split into different folders. Are there any ways to convert my typescript files into just one javascript file (i would prefer not to use amd or system), or compress my converted javascript files into a single file? I cant just paste everything into a file as the code is split into modules, files and folders.</p>\n"}, {"tags": ["javascript", "javascript-objects"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 2, "creation_date": 1567621261, "post_id": 57793886, "comment_id": 102020936, "body": "Because they are two different objects in two different spaces in memory.  They are not the same object in the same allocated memory space, so by default object comparison, they are not equal"}, {"owner": {"reputation": 28228, "user_id": 7132550, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1063981417044495/picture?type=large", "display_name": "Micha\u0142 Turczyn", "link": "https://stackoverflow.com/users/7132550/micha%c5%82-turczyn"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1567621308, "post_id": 57793886, "comment_id": 102020954, "body": "@Taplar Oh, I thought that <code>==</code> operator would make implicit conversion."}, {"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 2, "creation_date": 1567621316, "post_id": 57793886, "comment_id": 102020957, "body": "conversion occurs when you try to match two different type not when they are of same type"}, {"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 0, "creation_date": 1567621378, "post_id": 57793886, "comment_id": 102020973, "body": "check this <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1567621438, "post_id": 57793886, "comment_id": 102020993, "body": "I&#39;m not familiar with how to implement the concept in javascript, but other languages like java based languages also have this same issue.  They overcome it by implementing a method that defines how they are serialized or converted to a string, before simple equality will &quot;just work&quot;.  Otherwise, a custom <code>equals(secondObject)</code> can be written and that method can check that all the internals are equal."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1567621443, "post_id": 57793886, "comment_id": 102020996, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/201183/how-to-determine-equality-for-two-javascript-objects\">How to determine equality for two JavaScript objects?</a>"}, {"owner": {"reputation": 596, "user_id": 4288706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/855e2bbcbb6fe7a3f77e015cc88b455a?s=128&d=identicon&r=PG", "display_name": "Anuja", "link": "https://stackoverflow.com/users/4288706/anuja"}, "edited": false, "score": 0, "creation_date": 1567621663, "post_id": 57793886, "comment_id": 102021106, "body": "in js two objects are never the same, checking for equality using <code>==</code> <code>===</code> would only compare the references which are sure to be different, so its always <code>false</code> unless you are comparing the same object. <code>==</code> , <code>===</code> equality does not check for the properties."}], "answers": [{"tags": [], "owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "is_accepted": true, "score": 2, "last_activity_date": 1567622005, "last_edit_date": 1567622005, "creation_date": 1567621668, "answer_id": 57793980, "question_id": 57793886, "link": "https://stackoverflow.com/questions/57793886/js-objects-equality/57793980#57793980", "title": "JS objects equality", "body": "<p>The first rule in the docs for <code>==</code> defines this</p>\n\n<blockquote>\n  <p>The comparison x == y, where x and y are values, produces true or\n  false. Such a comparison is performed as follows:</p>\n\n<pre><code>If Type(x) is the same as Type(y), then\n    Return the result of performing Strict Equality Comparison x === y.\n</code></pre>\n</blockquote>\n\n<p><a href=\"https://tc39.es/ecma262/#sec-abstract-equality-comparison\" rel=\"nofollow noreferrer\"><code>TC39</code></a></p>\n\n<hr>\n\n<pre><code>user1 == user2\n</code></pre>\n\n<p>Here you're comparing same type so there's no type conversion happens at all</p>\n\n<hr>\n\n<p>ToPrimitive is called only under these conditions</p>\n\n<ul>\n<li>If Type(x) is either String, Number, or Symbol and Type(y) is Object,\nreturn the result of the comparison x == ToPrimitive(y). </li>\n<li>If Type(x) is Object and Type(y) is either String, Number, or Symbol, return the result of the comparison ToPrimitive(x) == y.</li>\n</ul>\n"}], "owner": {"reputation": 28228, "user_id": 7132550, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1063981417044495/picture?type=large", "display_name": "Micha\u0142 Turczyn", "link": "https://stackoverflow.com/users/7132550/micha%c5%82-turczyn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 57793980, "answer_count": 1, "score": 2, "last_activity_date": 1567622005, "creation_date": 1567621204, "last_edit_date": 1567621268, "question_id": 57793886, "link": "https://stackoverflow.com/questions/57793886/js-objects-equality", "title": "JS objects equality", "body": "<p>I am trying to play with objects alongside with <code>Symbol.toPrimitive</code> symbol in order to convert objects to primitives.</p>\n\n<p>I used this code:</p>\n\n<pre><code>function UserEq(name) {\n    this.name = name;\n    this[Symbol.toPrimitive] = function (hint) {\n        alert(\"hint is: \" + hint);\n        return 0;\n    };\n}\nfunction objectEqualityCheck() {\n    let user1 = new UserEq(\"John\");\n    let user2 = new UserEq(\"Rambo\");\n\n    if (user1 == user2) alert(\"Equal!\");\n}\n</code></pre>\n\n<p>And I expect two conversions resulting in alert <code>Equal!</code>, but that is not what's hapenning...</p>\n\n<p>When used like <code>user1 == 0</code> all works fine (conversion is to <code>number</code> though).</p>\n\n<p>Why when two objects are compared, it does not work?</p>\n\n<p>EDIT: it doesn't work with <code>===</code> as well.</p>\n"}, {"tags": ["javascript", "svg", "tree", "drag-and-drop", "mxgraph"], "comments": [{"owner": {"reputation": 983, "user_id": 6454838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe0221051c0020c9a215370c282ffef?s=128&d=identicon&r=PG&f=1", "display_name": "NickAth", "link": "https://stackoverflow.com/users/6454838/nickath"}, "edited": false, "score": 0, "creation_date": 1567675865, "post_id": 57793857, "comment_id": 102036802, "body": "Could write some steps to reproduce your issue please?"}, {"owner": {"reputation": 2642, "user_id": 4057790, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/AwH9q.jpg?s=128&g=1", "display_name": "Mithun Shreevatsa", "link": "https://stackoverflow.com/users/4057790/mithun-shreevatsa"}, "reply_to_user": {"reputation": 983, "user_id": 6454838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe0221051c0020c9a215370c282ffef?s=128&d=identicon&r=PG&f=1", "display_name": "NickAth", "link": "https://stackoverflow.com/users/6454838/nickath"}, "edited": false, "score": 0, "creation_date": 1567675925, "post_id": 57793857, "comment_id": 102036829, "body": "@NickAth - i have demonstrated through gif above. You want me to write those steps?"}, {"owner": {"reputation": 983, "user_id": 6454838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe0221051c0020c9a215370c282ffef?s=128&d=identicon&r=PG&f=1", "display_name": "NickAth", "link": "https://stackoverflow.com/users/6454838/nickath"}, "edited": false, "score": 0, "creation_date": 1567676029, "post_id": 57793857, "comment_id": 102036881, "body": "In the gif I see straight the error (cellInfo is &#39;12&#39; while it should be &#39;14&#39; am I right?) But I do not see the steps taken before that leaded to this result"}, {"owner": {"reputation": 2642, "user_id": 4057790, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/AwH9q.jpg?s=128&g=1", "display_name": "Mithun Shreevatsa", "link": "https://stackoverflow.com/users/4057790/mithun-shreevatsa"}, "reply_to_user": {"reputation": 983, "user_id": 6454838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe0221051c0020c9a215370c282ffef?s=128&d=identicon&r=PG&f=1", "display_name": "NickAth", "link": "https://stackoverflow.com/users/6454838/nickath"}, "edited": false, "score": 0, "creation_date": 1567676167, "post_id": 57793857, "comment_id": 102036944, "body": "It is correct, cellInfo is the particular cell information, onclick of <code>14-Double click to set name</code>, cellInfo will be 14 i.e its own cell id information and there is a parentInfo which gives the value of its cell i.e <code>12-Double click to set name</code>"}, {"owner": {"reputation": 2642, "user_id": 4057790, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/AwH9q.jpg?s=128&g=1", "display_name": "Mithun Shreevatsa", "link": "https://stackoverflow.com/users/4057790/mithun-shreevatsa"}, "reply_to_user": {"reputation": 983, "user_id": 6454838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe0221051c0020c9a215370c282ffef?s=128&d=identicon&r=PG&f=1", "display_name": "NickAth", "link": "https://stackoverflow.com/users/6454838/nickath"}, "edited": false, "score": 0, "creation_date": 1567676569, "post_id": 57793857, "comment_id": 102037159, "body": "@NickAth -  have updated the question with steps to reproduce as well"}, {"owner": {"reputation": 983, "user_id": 6454838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe0221051c0020c9a215370c282ffef?s=128&d=identicon&r=PG&f=1", "display_name": "NickAth", "link": "https://stackoverflow.com/users/6454838/nickath"}, "edited": false, "score": 0, "creation_date": 1567678183, "post_id": 57793857, "comment_id": 102038013, "body": "Could you please provide the getParent function?"}, {"owner": {"reputation": 2642, "user_id": 4057790, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/AwH9q.jpg?s=128&g=1", "display_name": "Mithun Shreevatsa", "link": "https://stackoverflow.com/users/4057790/mithun-shreevatsa"}, "reply_to_user": {"reputation": 983, "user_id": 6454838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe0221051c0020c9a215370c282ffef?s=128&d=identicon&r=PG&f=1", "display_name": "NickAth", "link": "https://stackoverflow.com/users/6454838/nickath"}, "edited": false, "score": 0, "creation_date": 1567678958, "post_id": 57793857, "comment_id": 102038399, "body": "Sure, i have redeployed to heroku with bugfree code caused from the getParent fn and the code is : <code>function getParentCell(cell) {   if (cell.vertex) {     return cell.edges[0].source;   }   return &#39;&#39;; }</code>"}, {"owner": {"reputation": 2642, "user_id": 4057790, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/AwH9q.jpg?s=128&g=1", "display_name": "Mithun Shreevatsa", "link": "https://stackoverflow.com/users/4057790/mithun-shreevatsa"}, "reply_to_user": {"reputation": 983, "user_id": 6454838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe0221051c0020c9a215370c282ffef?s=128&d=identicon&r=PG&f=1", "display_name": "NickAth", "link": "https://stackoverflow.com/users/6454838/nickath"}, "edited": false, "score": 0, "creation_date": 1567679284, "post_id": 57793857, "comment_id": 102038560, "body": "One more important thing which i noticed here is, you just drag and drop under the cell where both are connected to same parent, this is throwing error. 20 -&gt; 22 throws error for me as they are under 16."}, {"owner": {"reputation": 983, "user_id": 6454838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe0221051c0020c9a215370c282ffef?s=128&d=identicon&r=PG&f=1", "display_name": "NickAth", "link": "https://stackoverflow.com/users/6454838/nickath"}, "edited": false, "score": 0, "creation_date": 1567680097, "post_id": 57793857, "comment_id": 102039000, "body": "the bug is still reproducible on the heroku app"}, {"owner": {"reputation": 2642, "user_id": 4057790, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/AwH9q.jpg?s=128&g=1", "display_name": "Mithun Shreevatsa", "link": "https://stackoverflow.com/users/4057790/mithun-shreevatsa"}, "reply_to_user": {"reputation": 983, "user_id": 6454838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe0221051c0020c9a215370c282ffef?s=128&d=identicon&r=PG&f=1", "display_name": "NickAth", "link": "https://stackoverflow.com/users/6454838/nickath"}, "edited": false, "score": 0, "creation_date": 1567681677, "post_id": 57793857, "comment_id": 102039851, "body": "Really, Please clear the cache and let me know how i can reproduce. Also thats not the blocker, blocker is parent and children relationship getting broke. By any chance are u suspecting the getParentCell is the culprit?"}, {"owner": {"reputation": 983, "user_id": 6454838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe0221051c0020c9a215370c282ffef?s=128&d=identicon&r=PG&f=1", "display_name": "NickAth", "link": "https://stackoverflow.com/users/6454838/nickath"}, "edited": false, "score": 0, "creation_date": 1567681967, "post_id": 57793857, "comment_id": 102040010, "body": "Yes I have the cache cleared. What I do is:  1) Add 14 under 20 2) Add 20 under 22  Now the parent info of &#39;20&#39; is &#39;20&#39; while it should be &#39;22&#39;  I suspect that the problem is related to the getParentCell(cell) indeed, maybe it has to do with a wrong reference, could you please try instead of <code>graph.insertEdge(parent, null, &#39;&#39;, target, source);</code> do the following?  <code>let sourceCopy = source.clone(); graph.removeCells([source]); graph.insertEdge(parent, null, &#39;&#39;, target, sourceCopy );</code>  ?"}, {"owner": {"reputation": 2642, "user_id": 4057790, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/AwH9q.jpg?s=128&g=1", "display_name": "Mithun Shreevatsa", "link": "https://stackoverflow.com/users/4057790/mithun-shreevatsa"}, "reply_to_user": {"reputation": 983, "user_id": 6454838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe0221051c0020c9a215370c282ffef?s=128&d=identicon&r=PG&f=1", "display_name": "NickAth", "link": "https://stackoverflow.com/users/6454838/nickath"}, "edited": false, "score": 0, "creation_date": 1567683189, "post_id": 57793857, "comment_id": 102040738, "body": "Boom. It dint work. Uploaded to <a href=\"https://github.com/hansiemithun/node-mxgraph\" rel=\"nofollow noreferrer\">github.com/hansiemithun/node-mxgraph</a>. Plz check"}, {"owner": {"reputation": 2642, "user_id": 4057790, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/AwH9q.jpg?s=128&g=1", "display_name": "Mithun Shreevatsa", "link": "https://stackoverflow.com/users/4057790/mithun-shreevatsa"}, "reply_to_user": {"reputation": 983, "user_id": 6454838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebe0221051c0020c9a215370c282ffef?s=128&d=identicon&r=PG&f=1", "display_name": "NickAth", "link": "https://stackoverflow.com/users/6454838/nickath"}, "edited": false, "score": 0, "creation_date": 1567695007, "post_id": 57793857, "comment_id": 102047735, "body": "@NickAth - any luck?"}, {"owner": {"reputation": 1175, "user_id": 1377626, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/X3SoC.png?s=128&g=1", "display_name": "Safal Pillai", "link": "https://stackoverflow.com/users/1377626/safal-pillai"}, "edited": false, "score": 0, "creation_date": 1591861959, "post_id": 57793857, "comment_id": 110217846, "body": "Which version of mxgraph is this?"}], "answers": [{"tags": [], "owner": {"reputation": 2642, "user_id": 4057790, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/AwH9q.jpg?s=128&g=1", "display_name": "Mithun Shreevatsa", "link": "https://stackoverflow.com/users/4057790/mithun-shreevatsa"}, "is_accepted": true, "score": 0, "last_activity_date": 1567755269, "creation_date": 1567755269, "answer_id": 57817636, "question_id": 57793857, "link": "https://stackoverflow.com/questions/57793857/how-to-update-the-graph-model-efficiently-after-certain-operation-in-mxgraph/57817636#57817636", "title": "How to update the graph model efficiently after certain operation in mxgraph?", "body": "<p>As i could not find any references for clone and deep cloning has a bug in jGraph itself and its open issue as well, i managed to solve this having the reference copy of cell and re-constructing the cells under target.</p>\n\n<pre><code>mxConnectionHandler.prototype.connect = function(source, target) {\n  const nodeData = [{\"id\":\"12\",\"value\":\"12-Double click to set name\",\"children\":[{\"id\":\"14\",\"value\":\"14-Double click to set name\"}]}]\n  drawNodes(graph, nodeData, target, source); // recursively\n};\n</code></pre>\n"}], "owner": {"reputation": 2642, "user_id": 4057790, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/AwH9q.jpg?s=128&g=1", "display_name": "Mithun Shreevatsa", "link": "https://stackoverflow.com/users/4057790/mithun-shreevatsa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 758, "favorite_count": 0, "accepted_answer_id": 57817636, "answer_count": 1, "score": 0, "last_activity_date": 1600633813, "creation_date": 1567621088, "last_edit_date": 1600633813, "question_id": 57793857, "link": "https://stackoverflow.com/questions/57793857/how-to-update-the-graph-model-efficiently-after-certain-operation-in-mxgraph", "title": "How to update the graph model efficiently after certain operation in mxgraph?", "body": "<p>After consecutive drag and drop in mxgraph, the parentInfo is lost for cell.</p>\n<p>Children and Parents for cell are not getting updated after consecutive drag and drop.</p>\n<blockquote>\n<p>Drag and Drop is handled using connect, the logic behind is simple.\nRemoving the existing parent connection and establishing new edge\nconnection with target node.</p>\n</blockquote>\n<pre><code>mxConnectionHandler.prototype.connect = function(\n      source,\n      target,\n      evt,\n      dropTarget\n    ) {\n      var sourceParentCell = getParentCell(source);\n      if (sourceParentCell !== target) {\n        graph.getModel().beginUpdate();\n        try {\n          var edges = graph.getEdgesBetween(sourceParentCell, source);\n          _.each(edges, edge =&gt; {\n            graph.getModel().remove(edge);\n          });\n          graph.insertEdge(parent, null, '', target, source);\n        } finally {\n          graph.getModel().endUpdate();\n        }\n      }\n    };\n  }\n</code></pre>\n<p><strong>Here goes the click event handler for the cell which provides information about the cell when clicked along with its immediate parent cell info.</strong></p>\n<pre><code>graph.addListener(mxEvent.CLICK, function(sender, evt) {\n      var cell = evt.getProperty('cell');\n      if (cell &amp;&amp; cell.id) {\n        const nodeData = hierarchialData(graph, cell);\n        console.log('cellInfo =&gt; ', JSON.stringify(nodeData));\n        console.log(\n          'parentInfo =&gt; ',\n          JSON.stringify(getParentCell(cell).value)\n        );\n      }\n    });\n</code></pre>\n<p>The above code is working fine for two drags, later the parentInfo is lost and shows the cell itself as its parent.</p>\n<p>Deployed in Heroku here: <a href=\"https://express-mxgraph.herokuapp.com/\" rel=\"nofollow noreferrer\">https://express-mxgraph.herokuapp.com/</a></p>\n<p><strong>Demo:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/sp4RM.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sp4RM.gif\" alt=\"enter image description here\" /></a></p>\n<p>When it reaches to the node: <code>20-Double click to set name</code>, you will notice its parentInfo is same: <code>20-Double click to set name</code> and not <code>22-Double click to set name</code> and hence the edge construction fails miserably.</p>\n<p>What's going wrong here, am I updating the vertex and edge properly or not?</p>\n<p>Also onload of the url, you may observe the whole graph is dragged towards the mouse move. This also should be avoided.</p>\n<h2>Steps to reproduce:</h2>\n<ul>\n<li><p>Move <code>14-Double click to set name</code> under <code>20-Double click to set name</code></p>\n<p>Click on <code>14-Double click to set name</code>, you will see cellInfo as <code>14-Double click to set name</code> and parentInfo as <code>20-Double click to set name</code> which is correct</p>\n</li>\n<li><p>Now drag <code>20-Double click to set name</code> under <code>22-Double click to set name</code></p>\n<p>Click on <code>20-Double click to set name</code>, CellInfo and ParentInfo both contains <code>20-Double click to set name</code>. ParentInfo actually should contain <code>22-Double click to set name</code>.</p>\n</li>\n<li><p>So the cell <code>20-Double click to set name</code>, it is already in a bad shape and when you now try to connect with <code>18-Double click to set name</code>. The graph breaks</p>\n</li>\n</ul>\n"}]