[{"tags": ["javascript"], "comments": [{"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 2, "creation_date": 1510185608, "post_id": 47191777, "comment_id": 81332843, "body": "<code>var obj = {[x.pitchName]: &#39;data&#39;}</code>?"}, {"owner": {"reputation": 11668, "user_id": 6234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdca3523d594811ce1c8f88cfe0f3f51?s=128&d=identicon&r=PG", "display_name": "DocMax", "link": "https://stackoverflow.com/users/6234/docmax"}, "reply_to_user": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1510186709, "post_id": 47191777, "comment_id": 81333173, "body": "@CRice, Thanks for mentioning the computed property syntax. It was new to me."}], "answers": [{"tags": [], "owner": {"reputation": 11668, "user_id": 6234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdca3523d594811ce1c8f88cfe0f3f51?s=128&d=identicon&r=PG", "display_name": "DocMax", "link": "https://stackoverflow.com/users/6234/docmax"}, "is_accepted": true, "score": 4, "last_activity_date": 1510186651, "last_edit_date": 1510186651, "creation_date": 1510186342, "answer_id": 47191878, "question_id": 47191777, "link": "https://stackoverflow.com/questions/47191777/javascript-adding-a-dictionary-to-a-list/47191878#47191878", "title": "Javascript: adding a dictionary to a list", "body": "<p>The object literal turns the keys into strings. In your case, you want to use a variable as the key, so you need to do it in two steps:</p>\n\n<pre><code>var z = {};\nz[x.pitchName] = 'data';\n</code></pre>\n\n<p>As CRice noted in a comment on the question, you can also use a computed property, provided you are using ES2015. More on that can be found on the MDN page for <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Object_initializer\" rel=\"nofollow noreferrer\">Object Initializers</a>. The syntax there would look like:</p>\n\n<pre><code>var z = {[x.pitchName]: 'data'};\n</code></pre>\n"}], "owner": {"reputation": 2727, "user_id": 986012, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/07059b53ad8cdae7f9955da84756b089?s=128&d=identicon&r=PG", "display_name": "Morgan Allen", "link": "https://stackoverflow.com/users/986012/morgan-allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "accepted_answer_id": 47191878, "answer_count": 1, "score": 0, "last_activity_date": 1510186651, "creation_date": 1510185550, "question_id": 47191777, "link": "https://stackoverflow.com/questions/47191777/javascript-adding-a-dictionary-to-a-list", "title": "Javascript: adding a dictionary to a list", "body": "<p>I have this simple dictionary:</p>\n\n<p><code>var x = {'pitchName': 'pitch1'}</code></p>\n\n<pre><code>console.log(x.pitchName)\n&gt;&gt; pitch1\n</code></pre>\n\n<p>Now I want to create a dictionary for something like:</p>\n\n<p><code>{x.pitchName : 'data'}</code></p>\n\n<p>However that throws and error.</p>\n\n<p>If I try:</p>\n\n<p><code>var z = x.pitchName\n{z: 'data'}</code></p>\n\n<p>that just returns:</p>\n\n<p><code>{z: 'data'}</code></p>\n\n<p>How can I create a dictionary where the key is the value of a previous dictionary? End goal is:</p>\n\n<p><code>{pitch1: 'data'}</code></p>\n"}, {"tags": ["javascript", "php", "amcharts"], "answers": [{"tags": [], "owner": {"reputation": 27290, "user_id": 16959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SlC7g.jpg?s=128&g=1", "display_name": "Jason Sperske", "link": "https://stackoverflow.com/users/16959/jason-sperske"}, "is_accepted": true, "score": 0, "last_activity_date": 1510596743, "last_edit_date": 1510596743, "creation_date": 1510185720, "answer_id": 47191803, "question_id": 47191735, "link": "https://stackoverflow.com/questions/47191735/security-issue-while-using-js-amcharts-with-php/47191803#47191803", "title": "Security Issue while using js amcharts with PHP", "body": "<p>PHP is a server side language <a href=\"https://www.amcharts.com/javascript-charts/\" rel=\"nofollow noreferrer\">amcharts.js</a> runs on the client, meaning any data it receives must be accessible to the same client that is rendering the chart.  You can't make data visible to the cart but invisible to the user, however if you want to limit what the user can see you can render the chart data as JSON in the containing html page (using <a href=\"http://php.net/manual/en/function.json-encode.php\" rel=\"nofollow noreferrer\"><code>json_encode</code></a>) and then pass it as a variable to the charting library, such as:</p>\n\n<pre><code>&lt;script&gt;\n  var chart = AmCharts.makeChart(\"chartdiv\", {\n   \"type\": \"serial\",\n   \"theme\": \"light\",\n   \"marginRight\": 70,\n   \"startDuration\": 1,\n   \"graphs\": [{\n     \"balloonText\": \"&lt;b&gt;[[category]]: [[value]]&lt;/b&gt;\",\n     \"fillColorsField\": \"color\",\n     \"fillAlphas\": 0.9,\n     \"lineAlpha\": 0.2,\n     \"type\": \"column\",\n     \"valueField\": \"visits\"\n   }],\n   \"chartCursor\": {\n     \"categoryBalloonEnabled\": false,\n     \"cursorAlpha\": 0,\n     \"zoomable\": false\n   },\n   \"categoryField\": \"country\",\n   \"categoryAxis\": {\n     \"gridPosition\": \"start\",\n     \"labelRotation\": 45\n   },\n   \"export\": {\n     \"enabled\": true\n   }\n   \"dataProvider\": &lt;%php echo json_encode($ResultsArray); %&gt;\n  });\n&lt;/script&gt;\n&lt;!-- HTML --&gt;\n&lt;div id=\"chartdiv\"&gt;&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8910240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db1cbb31e7a04e4bd25dc30d08032f31?s=128&d=identicon&r=PG&f=1", "display_name": "Rana", "link": "https://stackoverflow.com/users/8910240/rana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 47191803, "answer_count": 1, "score": 0, "last_activity_date": 1510596743, "creation_date": 1510185315, "question_id": 47191735, "link": "https://stackoverflow.com/questions/47191735/security-issue-while-using-js-amcharts-with-php", "title": "Security Issue while using js amcharts with PHP", "body": "<p>Using js amcharts with PHP, Found that source code and paths  is accessible through charts. How to block it as this can be serious security issue. I am new to PHP, please elaborate the answer if possible. Thanks</p>\n"}, {"tags": ["javascript", "angularjs", "html", "angular-ui-router"], "comments": [{"owner": {"reputation": 16749, "user_id": 2202537, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ef14A.png?s=128&g=1", "display_name": "lin", "link": "https://stackoverflow.com/users/2202537/lin"}, "edited": false, "score": 0, "creation_date": 1510186905, "post_id": 47191730, "comment_id": 81333227, "body": "Where is your <code>ui-sref</code>?"}, {"owner": {"reputation": 11, "user_id": 8908861, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203808619533510/picture?type=large", "display_name": "Enrique Torres", "link": "https://stackoverflow.com/users/8908861/enrique-torres"}, "reply_to_user": {"reputation": 16749, "user_id": 2202537, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ef14A.png?s=128&g=1", "display_name": "lin", "link": "https://stackoverflow.com/users/2202537/lin"}, "edited": false, "score": 0, "creation_date": 1510329213, "post_id": 47191730, "comment_id": 81403286, "body": "@lin Sorry about that, I&#39;ve updated the code changing all the ng-href to a ui-sref, nevertheless it still has the same behaviour described earlier."}, {"owner": {"reputation": 20314, "user_id": 1281501, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/db591cfa2d3fc416c8ea91a16393fc28?s=128&d=identicon&r=PG", "display_name": "lostintranslation", "link": "https://stackoverflow.com/users/1281501/lostintranslation"}, "edited": false, "score": 0, "creation_date": 1580655110, "post_id": 47191730, "comment_id": 106160367, "body": "@EnriqueTorres did you ever figured out what was going on, I am running into the same problem"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8908861, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203808619533510/picture?type=large", "display_name": "Enrique Torres", "link": "https://stackoverflow.com/users/8908861/enrique-torres"}, "edited": false, "score": 0, "creation_date": 1510327759, "post_id": 47195256, "comment_id": 81402379, "body": "Hello @Josh, first of all thanks for looking at my problem. I tried changing the ng-href to ui-sref, yet nothing changes in the url. the function doWork does the following thing but I don&#39;t know if it has something to do with my problem:  $scope.doWork = function (p) {         $scope.idState = p;         $scope.getIDs();     }"}, {"owner": {"reputation": 11, "user_id": 8908861, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203808619533510/picture?type=large", "display_name": "Enrique Torres", "link": "https://stackoverflow.com/users/8908861/enrique-torres"}, "edited": false, "score": 0, "creation_date": 1510327983, "post_id": 47195256, "comment_id": 81402516, "body": "$scope.getIDs = function () { $http({             url: &quot;<a href=\"http://189.164.191.218:4000/ChartService/ChartService\" rel=\"nofollow noreferrer\">189.164.191.218:4000/ChartService/ChartService</a>&quot;,             method: &quot;POST&quot;,             data: $.param({                 id: $scope.idState             }),             headers: {                 &#39;Content-Type&#39;: &#39;application/x-www-form-urlencoded; charset=utf-8&#39;             }         }) }"}], "tags": [], "owner": {"reputation": 121, "user_id": 8768942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c970879127b3d20b12d6e6b45f08397?s=128&d=identicon&r=PG", "display_name": "Josh Lindenger", "link": "https://stackoverflow.com/users/8768942/josh-lindenger"}, "is_accepted": false, "score": 0, "last_activity_date": 1510208905, "creation_date": 1510208905, "answer_id": 47195256, "question_id": 47191730, "link": "https://stackoverflow.com/questions/47191730/angularjs-ui-router-ui-sref-not-updating-url-in-address-bar/47195256#47195256", "title": "AngularJS UI Router: ui-sref not updating URL in address bar?", "body": "<p>You need to switch your <code>ng-href</code>s to <code>ui-sref</code>s, which is what ui-router uses <a href=\"https://ui-router.github.io/ng1/tutorial/hellosolarsystem\" rel=\"nofollow noreferrer\">to set up links to change states</a>. So something like...</p>\n\n<pre>\n&lt;div class=\"col-md-6 nopadding\" ng-repeat=\"estado in estados | filter:busqueda\"&gt;\n[...]\n   &lt;a ng-click=\"doWork(estado.idState)\" ng-href=\"index.html#!/dashboard/{{estado.idState}}\"&gt;\n</pre>\n\n<p>should be something more like...</p>\n\n<pre>\n&lt;div class=\"col-md-6 nopadding\" ng-repeat=\"estado in estados | filter:busqueda\"&gt;\n[...]\n   &lt;a ng-click=\"doWork(estado.idState)\" ui-sref=\"dashboard({ribtNameState: estado.idOrWhatever})\"&gt;\n</pre>\n\n<p>with the caveat that I don't know what doWork is actually doing, so I don't know if that is necessary.</p>\n\n<p>If you need to transition in a controller, you can also inject <a href=\"https://ui-router.github.io/ng1/docs/latest/modules/injectables.html#_state\" rel=\"nofollow noreferrer\">$state</a> and use <a href=\"https://ui-router.github.io/ng1/docs/latest/classes/state.stateservice.html#go\" rel=\"nofollow noreferrer\">$state.go(...)</a>, but most of the time <code>ui-sref</code>s can get it handled in my experience.</p>\n"}], "owner": {"reputation": 11, "user_id": 8908861, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203808619533510/picture?type=large", "display_name": "Enrique Torres", "link": "https://stackoverflow.com/users/8908861/enrique-torres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 396, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1510329133, "creation_date": 1510185262, "last_edit_date": 1510329133, "question_id": 47191730, "link": "https://stackoverflow.com/questions/47191730/angularjs-ui-router-ui-sref-not-updating-url-in-address-bar", "title": "AngularJS UI Router: ui-sref not updating URL in address bar?", "body": "<p>I'm building an AngularJS app and I'm using UI-Router in order to navigate through the app. </p>\n\n<p>The flow of the web app consist in first registering or login, then it takes you to a main grid that has a lot of elements that are being displayed through ng-repeat and when you click in one of them it takes you to a dashboard that displays information of the element that has been clicked and it also successfully changes the path to index.html#!/dashboard/(here goes the name of the element) </p>\n\n<p>This is the html 5 code of that main grid:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"container\"&gt;\r\n\r\n    &lt;div class=\"row\" ng-controller=\"ribtStateServicesController\" &gt;\r\n\r\n        &lt;div class=\"col-md-3 ribt_HomeGrid\" ng-repeat=\"estado in estados\" &gt;\r\n            &lt;div class=\"img-ribt_overlay\" &gt;\r\n               &lt;a ng-click=\"doWork(estado.idState)\" ui-sref=\"dashboard({ribtNameState: estado.idState})\"&gt;\r\n                &lt;img src=\"{{estado.image}}\" class=\"img-thumbnail\"&gt;\r\n                &lt;div class=\"ribt_overlay\" &gt;&lt;/div&gt;\r\n                &lt;/a&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n    &lt;/div&gt;\r\n\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>However, in that same dashboard I have a side menu, that has the same elements that were used in the main grid before. So I figured that it would take the same logic to be able to use the params that the UI-Router offer in order to change the URL and the content displayed. But it does nothing.</p>\n\n<p>This is the code in the HTML of the dashboard's side menu:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"col-md-6 nopadding\" ng-repeat=\"estado in estados | filter:busqueda\"&gt;\r\n\r\n\r\n                    &lt;md-card md-ink-ripple=\"#ffffff\"&gt;\r\n                        &lt;img ng-src=\"{{estado.nolabel}}\" class=\"md-card-image ribt_estado_side_img\" \r\n                        ui-sref=\"dashboard({ribtNameState: estado.idState})\"\r\n                        \r\n                        alt=\"Estado\" ng-click=\"doWork(estado.idState); toggleLeft()\"&gt;\r\n                        &lt;md-card-title class=\"nopadding\"&gt;\r\n                            &lt;md-card-title-text&gt;\r\n                                &lt;p class=\"ribt_card_estado_nombre\"&gt;{{estado.nombre}}&lt;/p&gt;\r\n                            &lt;/md-card-title-text&gt;\r\n\r\n                            &lt;md-menu&gt;\r\n\r\n\r\n                                &lt;md-button class=\"md-icon-button float-right\" aria-label=\"Share\" ng-click=\"$mdMenu.open()\"&gt;\r\n                                    &lt;i class=\"material-icons\"&gt;more_vert&lt;/i&gt;\r\n                                &lt;/md-button&gt;\r\n\r\n                                &lt;md-menu-content width=\"4\" ng-mouseleave=\"$mdMenu.close()\"&gt;\r\n                                    &lt;md-menu-item ng-repeat=\"item in [1, 2, 3]\"&gt;\r\n                                        &lt;md-button&gt;\r\n                                            Option {{item}}\r\n                                        &lt;/md-button&gt;\r\n                                    &lt;/md-menu-item&gt;\r\n                                &lt;/md-menu-content&gt;\r\n\r\n                            &lt;/md-menu&gt;\r\n\r\n                        &lt;/md-card-title&gt;\r\n\r\n                    &lt;/md-card&gt;\r\n\r\n\r\n\r\n\r\n                &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Heres is the code in my app config:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>ribtApp.config(function ($stateProvider,$mdThemingProvider,$locationProvider) {\r\n    \r\n    $stateProvider\r\n    \r\n    .state('login',  {\r\n        url: '',\r\n        templateUrl: 'ribtComponents/ribtLogin/ribtLogin.html',\r\n        controller: 'ribtLoginController'\r\n    }) \r\n    \r\n    .state('home', {\r\n        url: '/home',\r\n        templateUrl: 'ribtComponents/ribtHome/ribtHome.html',\r\n        controller: 'ribtStateServicesController'\r\n    })\r\n    \r\n    .state('dashboard', {\r\n        url: '/dashboard/{ribtNameState}',\r\n        templateUrl: 'ribtComponents/ribtDashboard/ribtDashboard.html',\r\n        controller: 'ribtStateServicesController',\r\n        resolve:{\r\n            ribtNameState: ['$stateParams', function($stateParams){\r\n                return $stateParams.ribtNameState;\r\n                console.log($stateParams.ribtNameState)\r\n            }]\r\n        }\r\n    });</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I tried a console log to see if the param was being changed and it is but it does nothing to the URL path. I've tried a lot of code that I've found in stackoverflow but none of them has worked. I would be deeply thankful if you could help me with this.</p>\n"}, {"tags": ["javascript", "html", "css", "onload"], "answers": [{"comments": [{"owner": {"reputation": 154, "user_id": 5787704, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9d75293f3574f3c6532c2da6bc7051a0?s=128&d=identicon&r=PG&f=1", "display_name": "prof chaos", "link": "https://stackoverflow.com/users/5787704/prof-chaos"}, "edited": false, "score": 0, "creation_date": 1510185433, "post_id": 47191741, "comment_id": 81332801, "body": "Actually although i&#39;m sure i tried it with id, now that i tried again it worked...silly mistake thank you. But why it doesn&#39;t work with document.getElementsByClassName since i use class = &quot;bottom_header&quot; only on the specific div?"}, {"owner": {"reputation": 5513, "user_id": 2718801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d4b144cdafa73e1d470362ed8d7c3a9?s=128&d=identicon&r=PG", "display_name": "jhpratt", "link": "https://stackoverflow.com/users/2718801/jhpratt"}, "reply_to_user": {"reputation": 154, "user_id": 5787704, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9d75293f3574f3c6532c2da6bc7051a0?s=128&d=identicon&r=PG&f=1", "display_name": "prof chaos", "link": "https://stackoverflow.com/users/5787704/prof-chaos"}, "edited": false, "score": 1, "creation_date": 1510185805, "post_id": 47191741, "comment_id": 81332906, "body": "It returns a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/NodeList\" rel=\"nofollow noreferrer\">NodeList</a>, which is why you still need to iterate/index even if it&#39;s just one item."}], "tags": [], "owner": {"reputation": 5513, "user_id": 2718801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d4b144cdafa73e1d470362ed8d7c3a9?s=128&d=identicon&r=PG", "display_name": "jhpratt", "link": "https://stackoverflow.com/users/2718801/jhpratt"}, "is_accepted": true, "score": 2, "last_activity_date": 1510185342, "creation_date": 1510185342, "answer_id": 47191741, "question_id": 47191724, "link": "https://stackoverflow.com/questions/47191724/uncaught-typeerror-cannot-set-property-backgroundimage-of-undefined-althout-j/47191741#47191741", "title": "Uncaught TypeError: Cannot set property &#39;backgroundImage&#39; of undefined althout js is called after page loads", "body": "<p><code>document.getElementsByClassName</code> returns one or more elements, so you'll need to get the first such element (or iterate over them).</p>\n"}], "owner": {"reputation": 154, "user_id": 5787704, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9d75293f3574f3c6532c2da6bc7051a0?s=128&d=identicon&r=PG&f=1", "display_name": "prof chaos", "link": "https://stackoverflow.com/users/5787704/prof-chaos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 474, "favorite_count": 0, "accepted_answer_id": 47191741, "answer_count": 1, "score": 0, "last_activity_date": 1510186934, "creation_date": 1510185231, "last_edit_date": 1510186934, "question_id": 47191724, "link": "https://stackoverflow.com/questions/47191724/uncaught-typeerror-cannot-set-property-backgroundimage-of-undefined-althout-j", "title": "Uncaught TypeError: Cannot set property &#39;backgroundImage&#39; of undefined althout js is called after page loads", "body": "<p>I thought that by using  <code>$(document).ready(function(){})</code> right before <code>&lt;/body&gt;</code> the page will have loaded but when i try to set the background image through javascript I get :</p>\n\n<pre><code>Uncaught TypeError: Cannot set property 'backgroundImage' of undefined.\n</code></pre>\n\n<p>The code is:</p>\n\n<pre><code>&lt;body&gt;\n&lt;div class=\"bottom_header\"&gt;&lt;/div&gt;\n&lt;script&gt;\n  $(document).ready(function(){\n  doSlideshow();\n\n  function doSlideshow()\n  {\n     var x = document.getElementsByClassName(\"bottom_header\");\n     x.style.backgroundImage = \"url('s1.jpg')\";\n  }\n})\n&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>I also tried the following but results in the same <code>typeError</code>. I can't understand what I'm doing wrong. </p>\n\n<pre><code>&lt;body&gt;\n&lt;div class=\"bottom_header\"&gt;&lt;/div&gt;\n&lt;script&gt;\nwindow.onload = function() {\n    alert(\"it's in\");\n    var x = document.getElementsByClassName(\"bottom_header\");\n    x.style.backgroundImage = \"url('s1.jpg')\";\n}\n&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n"}, {"tags": ["javascript", "xmlhttprequest", "cors"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1510185021, "post_id": 47191673, "comment_id": 81332689, "body": "Well what is the readyState? You do not get status until it is 4"}, {"owner": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "edited": false, "score": 0, "creation_date": 1510185173, "post_id": 47191673, "comment_id": 81332740, "body": "I ran that js code in my chrome console and it does enter the <code>if (xhr.status === 200)</code>"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1510187353, "post_id": 47191673, "comment_id": 81333335, "body": "see <a href=\"https://jsfiddle.net/79Lcvv1k/\" rel=\"nofollow noreferrer\">jsfiddle.net/79Lcvv1k</a> - which is your code with some output added - so ... problem was with the server side code, which you have since fixed"}, {"owner": {"reputation": 752, "user_id": 6113711, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh3.googleusercontent.com/-5vX_uCBuZbo/AAAAAAAAAAI/AAAAAAAABUs/i3e1O0JptKY/photo.jpg?sz=128", "display_name": "Jeankowkow", "link": "https://stackoverflow.com/users/6113711/jeankowkow"}, "edited": false, "score": 0, "creation_date": 1510325669, "post_id": 47191673, "comment_id": 81400945, "body": "Indeed, I hadn&#39;t noticed the error in the <code>JSON</code>. Thank you!"}, {"owner": {"reputation": 752, "user_id": 6113711, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh3.googleusercontent.com/-5vX_uCBuZbo/AAAAAAAAAAI/AAAAAAAABUs/i3e1O0JptKY/photo.jpg?sz=128", "display_name": "Jeankowkow", "link": "https://stackoverflow.com/users/6113711/jeankowkow"}, "edited": false, "score": 0, "creation_date": 1510494376, "post_id": 47191673, "comment_id": 81449202, "body": "Indeed, I hadn&#39;t noticed <a href=\"https://www.mocky.io/v2/5a038d6d3100000419916a9f\" rel=\"nofollow noreferrer\">the missing comma in the JSON</a>."}], "answers": [{"tags": [], "owner": {"reputation": 752, "user_id": 6113711, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh3.googleusercontent.com/-5vX_uCBuZbo/AAAAAAAAAAI/AAAAAAAABUs/i3e1O0JptKY/photo.jpg?sz=128", "display_name": "Jeankowkow", "link": "https://stackoverflow.com/users/6113711/jeankowkow"}, "is_accepted": true, "score": 0, "last_activity_date": 1510600552, "last_edit_date": 1510600552, "creation_date": 1510325940, "answer_id": 47225599, "question_id": 47191673, "link": "https://stackoverflow.com/questions/47191673/xhr-status-undefined/47225599#47225599", "title": "XHR status undefined", "body": "<p>Ok, so it seems that <code>Access-Control-Allow-Origin : *</code> is ignored when we access to the HTML file locally (from <code>file:///C:/.../index.html</code>).</p>\n\n<p>To make it work, we have to mount a local server (For example, with <a href=\"https://chrome.google.com/webstore/detail/web-server-for-chrome/ofhbbkphhbklhfoeikjpcbhemlocgigb\" rel=\"nofollow noreferrer\">this Chrome extension</a>) and access to the HTML file through HTTP (<code>http://127.0.0.1:8887/index.html</code>).</p>\n\n<p>Or use <a href=\"https://chrome.google.com/webstore/detail/allow-control-allow-origi/nlfbmbojpeacfghkpbjhddihlkkiljbi\" rel=\"nofollow noreferrer\">this other Chrome extension</a> that automatically add <code>Access-Control-Allow-Origin : *</code> in the header of the HTTP response.</p>\n"}], "owner": {"reputation": 752, "user_id": 6113711, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh3.googleusercontent.com/-5vX_uCBuZbo/AAAAAAAAAAI/AAAAAAAABUs/i3e1O0JptKY/photo.jpg?sz=128", "display_name": "Jeankowkow", "link": "https://stackoverflow.com/users/6113711/jeankowkow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1330, "favorite_count": 0, "accepted_answer_id": 47225599, "answer_count": 1, "score": -1, "last_activity_date": 1510600552, "creation_date": 1510184893, "last_edit_date": 1510495837, "question_id": 47191673, "link": "https://stackoverflow.com/questions/47191673/xhr-status-undefined", "title": "XHR status undefined", "body": "<p>I try to send a XHR request to a REST API but I can't get an answer.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>&lt;script&gt;\n  var xhr = new XMLHttpRequest();\n  xhr.open(\"GET\", \"http://www.mocky.io/v2/5a083d8e2f0000c61ee61140\", true);\n  xhr.setRequestHeader(\"Content-type\", \"application/json\");\n  xhr.onreadystatechange = function() {\n    console.log(\"xhr.readyState: \" + xhr.readyState);\n\n    if (xhr.readyState === XMLHttpRequest.DONE) {\n      console.log(\"xhr.status: \" + xhr.status);\n\n      if (xhr.status === 200) {\n        console.log(\"xhr.responseText: \" + xhr.responseText);\n\n        var response = JSON.parse(xhr.responseText);\n      }\n    }\n  }\n  xhr.send();\n  console.log(\"xhr.readyState: \" + xhr.readyState);\n  console.log(\"xhr.status: \" + xhr.status);\n&lt;/script&gt;\n</code></pre>\n\n<p>When I execut it, <code>xhr.status</code> remains undefined and it never enter in the <code>if (xhr.status === 200)</code>. I don't know why. Can someone help me?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>I fixed the JSON but I still have an error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/58Z7z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/58Z7z.png\" alt=\"Google Chrome console showing an error.\"></a></p>\n\n<p>The error is about <code>Access-Control-Allow-Origin</code>:</p>\n\n<blockquote>\n  <p>Failed to load <a href=\"http://www.mocky.io/v2/5a083d8e2f0000c61ee61140\" rel=\"nofollow noreferrer\">http://www.mocky.io/v2/5a083d8e2f0000c61ee61140</a>: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'null' is therefore not allowed access. The response had HTTP status code 403.</p>\n</blockquote>\n\n<p>So, I read <a href=\"https://stackoverflow.com/a/21640909/6113711\">this topic</a> that says I need to add <code>Access-Control-Allow-Origin : *</code> in the HTTP header on <a href=\"http://www.mocky.io/\" rel=\"nofollow noreferrer\">mocky.io</a>. I do it but it changes nothing:</p>\n\n<p><a href=\"https://i.stack.imgur.com/lDB4S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lDB4S.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the new <a href=\"http://www.mocky.io/v2/5a083d8e2f0000c61ee61140\" rel=\"nofollow noreferrer\">mocky.io</a> URL:</p>\n\n<pre><code>http://www.mocky.io/v2/5a083d8e2f0000c61ee61140\n</code></pre>\n\n<p>Does anyone see where my mistake is?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1510184824, "post_id": 47191645, "comment_id": 81332641, "body": "<code>.value</code> are strings ..."}, {"owner": {"reputation": 31, "user_id": 8664464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ccb2a0ba28f80eb3bb8d7031ff158ba?s=128&d=identicon&r=PG&f=1", "display_name": "Ken", "link": "https://stackoverflow.com/users/8664464/ken"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1510184921, "post_id": 47191645, "comment_id": 81332666, "body": "the input are numbers though. So how would I not get a NaN with my inputs?"}, {"owner": {"reputation": 3226, "user_id": 2928853, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dbIon.png?s=128&g=1", "display_name": "jrook", "link": "https://stackoverflow.com/users/2928853/jrook"}, "edited": false, "score": 0, "creation_date": 1510184997, "post_id": 47191645, "comment_id": 81332682, "body": "You need to convert your inputs using parseInt or similar function."}, {"owner": {"reputation": 511, "user_id": 5012606, "user_type": "registered", "profile_image": "https://graph.facebook.com/800817983358409/picture?type=large", "display_name": "Lixus", "link": "https://stackoverflow.com/users/5012606/lixus"}, "edited": false, "score": 0, "creation_date": 1510184998, "post_id": 47191645, "comment_id": 81332684, "body": "<code>.value</code> ALWAYS returns strings"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1510185054, "post_id": 47191645, "comment_id": 81332699, "body": "<code>.value</code> are strings regardless of content - <code>parseFloat</code>/<code>parseInt</code>/<code>Number</code> ... are just 3 methods you can use to solve your problem"}, {"owner": {"reputation": 31, "user_id": 8664464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ccb2a0ba28f80eb3bb8d7031ff158ba?s=128&d=identicon&r=PG&f=1", "display_name": "Ken", "link": "https://stackoverflow.com/users/8664464/ken"}, "edited": false, "score": 0, "creation_date": 1510185341, "post_id": 47191645, "comment_id": 81332777, "body": "i used parseFloat and nothing is being output now"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1510185661, "post_id": 47191645, "comment_id": 81332859, "body": "well ... the code you posted wont output anything"}], "answers": [{"comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1510185120, "post_id": 47191693, "comment_id": 81332722, "body": "this assumes the OP only wants to work with integers, of course"}], "tags": [], "owner": {"reputation": 51, "user_id": 3086637, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8IXCM.jpg?s=128&g=1", "display_name": "Guilherme A. Henschel", "link": "https://stackoverflow.com/users/3086637/guilherme-a-henschel"}, "is_accepted": false, "score": 1, "last_activity_date": 1510230033, "last_edit_date": 1510230033, "creation_date": 1510185020, "answer_id": 47191693, "question_id": 47191645, "link": "https://stackoverflow.com/questions/47191645/getting-a-nan-when-calculating/47191693#47191693", "title": "Getting a NaN when calculating", "body": "<p>You should parse the value from the input using <code>parseInt(value, base)</code>, where value is the input value and base the base in mathematical numeral systems.</p>\n\n<pre><code>var firstNumber = parseInt(document.getElementById(\"numberone\").value, 10);\nvar secondNumber = parseInt(document.getElementById(\"numbertwo\").value, 10);\n</code></pre>\n\n<p>You can read more about here:\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseInt\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseInt</a></p>\n\n<p>Edit:\nI assumed that you are handling integer values, but you can try <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseFloat\" rel=\"nofollow noreferrer\"><code>parseFloat</code></a> to handle float values or, also, use a library to manipulate and format numbers like <a href=\"http://numeraljs.com/\" rel=\"nofollow noreferrer\">Numeral.js</a></p>\n"}, {"tags": [], "owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "is_accepted": false, "score": 0, "last_activity_date": 1510185717, "creation_date": 1510185717, "answer_id": 47191802, "question_id": 47191645, "link": "https://stackoverflow.com/questions/47191645/getting-a-nan-when-calculating/47191802#47191802", "title": "Getting a NaN when calculating", "body": "<p>Your variables <code>firstNumber</code> and <code>secondNumber</code> get set once at the begining of the program (they more likely to be just empty strings, the two inputs are not yet filled whith anything by the time those two lines of code that set them are executed). You should get the values whenever one of the functions that relly on those values is executed:</p>\n\n<pre><code>function getValue(id) {\n    return +document.getElementById(id).value; // get the value of the input whose ID is id and convert the value to a number using unary +\n} \n\nfunction addition(){\n  var result = getValue(\"numberone\") + getValue(\"numbertwo\"); // use getValue here\n  document.getElementById(\"equals\").innerHTML = result;\n}\n\nfunction subtraction(){\n  var result = getValue(\"numberone\") - getValue(\"numbertwo\"); // here two\n  document.getElementById(\"equals\").innerHTML = result;\n}\n\n//...\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 8664464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ccb2a0ba28f80eb3bb8d7031ff158ba?s=128&d=identicon&r=PG&f=1", "display_name": "Ken", "link": "https://stackoverflow.com/users/8664464/ken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1510230033, "creation_date": 1510184764, "last_edit_date": 1510188374, "question_id": 47191645, "link": "https://stackoverflow.com/questions/47191645/getting-a-nan-when-calculating", "title": "Getting a NaN when calculating", "body": "<p>I'm getting a <code>NaN</code> value here when I try to input some number on my <em>html</em>. I don't know why.    </p>\n\n<pre><code>var firstNumber= document.getElementById(\"numberone\").value;\nvar secondNumber = document.getElementById(\"numbertwo\").value;\n\nfunction addition(){\n  var result = firstNumber + secondNumber;\n  document.getElementById(\"equals\").innerHTML = result;\n}\n\nfunction subtraction(){\n  var result = firstNumber - secondNumber;\n  document.getElementById(\"equals\").innerHTML = result;\n}\n\nfunction multiplication(){\n  var result = firstNumber * secondNumber;\n  document.getElementById(\"equals\").innerHTML = result;\n}\n</code></pre>\n"}, {"tags": ["javascript", "firebase", "firebase-realtime-database", "google-cloud-functions", "app-inventor"], "answers": [{"comments": [{"owner": {"reputation": 164, "user_id": 4335303, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/uz8t3.jpg?s=128&g=1", "display_name": "Ugur", "link": "https://stackoverflow.com/users/4335303/ugur"}, "edited": false, "score": 0, "creation_date": 1510229513, "post_id": 47197305, "comment_id": 81351375, "body": "does this write to the database as well as I&#39;m trying to do here: <code>newChildRef.set({User : LastUserId + 1});</code>"}, {"owner": {"reputation": 6208, "user_id": 2754146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QallG.png?s=128&g=1", "display_name": "Grimthorr", "link": "https://stackoverflow.com/users/2754146/grimthorr"}, "reply_to_user": {"reputation": 164, "user_id": 4335303, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/uz8t3.jpg?s=128&g=1", "display_name": "Ugur", "link": "https://stackoverflow.com/users/4335303/ugur"}, "edited": false, "score": 0, "creation_date": 1510229603, "post_id": 47197305, "comment_id": 81351433, "body": "Yes, the transaction will write back to the same location any value that is returned, so <code>return (current || 0) + 1;</code> will increment the current value by 1 (starting at 0 if <code>lastUserId</code> doesn&#39;t exist) and then save it back to the database automatically."}, {"owner": {"reputation": 164, "user_id": 4335303, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/uz8t3.jpg?s=128&g=1", "display_name": "Ugur", "link": "https://stackoverflow.com/users/4335303/ugur"}, "edited": false, "score": 0, "creation_date": 1510233003, "post_id": 47197305, "comment_id": 81353683, "body": "Database is written ok, but I&#39;m getting error in the logs and it doesnt return the written data: <code>TypeError: Cannot read property &#39;val&#39; of undefined     at admin.database.ref.transaction.then (&#47;user_code&#47;index.js:15:38)     at process._tickDomainCallback (internal&#47;process&#47;next_tick.js:135:7)</code> any ideas?"}, {"owner": {"reputation": 6208, "user_id": 2754146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QallG.png?s=128&g=1", "display_name": "Grimthorr", "link": "https://stackoverflow.com/users/2754146/grimthorr"}, "reply_to_user": {"reputation": 164, "user_id": 4335303, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/uz8t3.jpg?s=128&g=1", "display_name": "Ugur", "link": "https://stackoverflow.com/users/4335303/ugur"}, "edited": false, "score": 0, "creation_date": 1510239085, "post_id": 47197305, "comment_id": 81358309, "body": "Oops, sorry that&#39;s my fault, I didn&#39;t actually test the code! See updated code which I&#39;ve reworked &amp; tested."}, {"owner": {"reputation": 829, "user_id": 577875, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be0ef1bbe70ddd2e8bf61f5c9a340778?s=128&d=identicon&r=PG", "display_name": "Dennis", "link": "https://stackoverflow.com/users/577875/dennis"}, "edited": false, "score": 0, "creation_date": 1510239221, "post_id": 47197305, "comment_id": 81358415, "body": "What you could also consider, is using GUID / UUIDs - They have some benefits in terms of creating them prior insertion time. You can read some more about it here <a href=\"https://stackoverflow.com/questions/45399/advantages-and-disadvantages-of-guid-uuid-database-keys\" title=\"advantages and disadvantages of guid uuid database keys\">stackoverflow.com/questions/45399/&hellip;</a>"}], "tags": [], "owner": {"reputation": 6208, "user_id": 2754146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QallG.png?s=128&g=1", "display_name": "Grimthorr", "link": "https://stackoverflow.com/users/2754146/grimthorr"}, "is_accepted": true, "score": 1, "last_activity_date": 1510239081, "last_edit_date": 1510239081, "creation_date": 1510216681, "answer_id": 47197305, "question_id": 47191500, "link": "https://stackoverflow.com/questions/47191500/cloud-functions-https-trigger-to-generate-unique-user-ids/47197305#47197305", "title": "Cloud functions HTTPS trigger to generate unique user IDs", "body": "<p>The Firebase Authentication package provides an automatically generated unique ID for every authenticated user already, which you can obtain from <a href=\"https://firebase.google.com/docs/reference/js/firebase.User#uid\" rel=\"nofollow noreferrer\"><code>firebase.auth().currentUser.uid</code></a> on web and similar methods for other platforms.</p>\n\n<p>If you still want to generate your own incremental ID using Cloud Functions, you'll need to make use of a <a href=\"https://firebase.google.com/docs/reference/admin/node/admin.database.Reference#transaction\" rel=\"nofollow noreferrer\">transaction</a> and then send back the new ID, something like:</p>\n\n<pre><code>const functions = require('firebase-functions');\nconst admin = require('firebase-admin');\nadmin.initializeApp(functions.config().firebase);\n\nexports.generateUserId = functions.https.onRequest((req, res) =&gt; {\n    var ref = admin.database().ref('/lastUserId');\n    ref.transaction(function(current) {\n      return (current || 0) + 1;\n    }, function(error, committed, snapshot) {\n      if (error || !committed || !snapshot) {\n        console.error(\"Transaction failed abnormally!\", error || \"\");\n      } else {\n        console.log(\"Generated ID: \", snapshot.val());\n      }\n      res.status(200).send(snapshot.val().toString());\n    });\n});\n</code></pre>\n\n<p>This increments the <code>lastUserId</code> value in the database using a transaction and then sends this new ID back as a response (using <a href=\"https://firebase.google.com/docs/functions/http-events#terminate_http_functions\" rel=\"nofollow noreferrer\"><code>res.send()</code></a>) for use in the calling app.</p>\n"}], "owner": {"reputation": 164, "user_id": 4335303, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/uz8t3.jpg?s=128&g=1", "display_name": "Ugur", "link": "https://stackoverflow.com/users/4335303/ugur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1385, "favorite_count": 0, "accepted_answer_id": 47197305, "answer_count": 1, "score": 1, "last_activity_date": 1510248016, "creation_date": 1510183848, "last_edit_date": 1510248016, "question_id": 47191500, "link": "https://stackoverflow.com/questions/47191500/cloud-functions-https-trigger-to-generate-unique-user-ids", "title": "Cloud functions HTTPS trigger to generate unique user IDs", "body": "<p>For an AppInventor app which uses Firebase as database, I want to give unique user IDs to app users. After looking for some options I had the idea that I could use a Cloud HTTP function to be requested by the app, and the returning data would be a <code>UserId</code> generated by simply incrementing the last <code>UserId</code> in the <code>UserIds</code> table (not sure if it is one, either).</p>\n\n<p>That's the story, but I can't make the following code to deploy (and when I can, it doesn't work as I expect). It reads the last <code>UserId</code> correctly, but I could only make it overwrite the previous data so far.</p>\n\n<p>It throws an unexpected token error in the <code>\".\"</code> in <code>functions.https</code>.</p>\n\n<pre><code>const functions = require('firebase-functions');\n// Import and initialize the Firebase Admin SDK.\nconst admin = require('firebase-admin');\nadmin.initializeApp(functions.config().firebase);\n\nvar LastUserId = function f() {return admin.database().ref('UserIds').limitToLast(1)}\n\nexports.addWelcomeMessages = functions.https.onRequest((request, response)) =&gt; {\n    var ref = admin.database().ref('UserIds');\n    // this new, empty ref only exists locally\n    var newChildRef = ref.push();\n    // we can get its id using key()\n    console.log('my new shiny id is '+newChildRef.key());\n    // now it is appended at the end of data at the server\n    newChildRef.set({User : LastUserId + 1});\n});\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1510183669, "post_id": 47191446, "comment_id": 81332335, "body": "Probably to avoid setting <code>this</code> to <code>_utilities</code> inside the call."}], "answers": [{"comments": [{"owner": {"reputation": 84240, "user_id": 283863, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vItjB.png?s=128&g=1", "display_name": "Derek \u6715\u6703\u529f\u592b", "link": "https://stackoverflow.com/users/283863/derek-%e6%9c%95%e6%9c%83%e5%8a%9f%e5%a4%ab"}, "edited": false, "score": 0, "creation_date": 1510184449, "post_id": 47191501, "comment_id": 81332545, "body": "But why not just <code>(_utilities.validateNextState)(args)</code>? Edit: Apparently this will not have that effect but I have no idea why."}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "reply_to_user": {"reputation": 84240, "user_id": 283863, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vItjB.png?s=128&g=1", "display_name": "Derek \u6715\u6703\u529f\u592b", "link": "https://stackoverflow.com/users/283863/derek-%e6%9c%95%e6%9c%83%e5%8a%9f%e5%a4%ab"}, "edited": false, "score": 0, "creation_date": 1510184739, "post_id": 47191501, "comment_id": 81332619, "body": "@Derek\u6715\u6703\u529f\u592b JavaScript is weird."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1510184787, "post_id": 47191501, "comment_id": 81332635, "body": "You forgot the \u2122 @Pointy :p"}], "tags": [], "owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "is_accepted": true, "score": 3, "last_activity_date": 1510183854, "creation_date": 1510183854, "answer_id": 47191501, "question_id": 47191446, "link": "https://stackoverflow.com/questions/47191446/what-is-the-purpose-of-calling-0-func-in-js/47191501#47191501", "title": "What is the purpose of calling (0, func)() in JS?", "body": "<p>The sometimes mystifying semantics of JavaScript are probably the reason. The expression</p>\n\n<pre><code>(0, _utilities.validateNextState)\n</code></pre>\n\n<p>evaluates of course to a reference to that function. However, because it's in that parenthesized subexpression, the function call that's outside that will be made <em>without</em> that <code>_utilities</code> object being recognized as the context for the call (the <code>this</code> value). Thus inside the <code>validateNextState</code> function, <code>this</code> will be either <code>undefined</code> or a reference to the global object, depending on the \"strict\" mode state.</p>\n\n<p>I suspect that Babel does that because in the original source code the call to <code>validateNextState()</code> is made as if it were a \"naked\" function, not a method on an object. Babel doesn't know (probably) whether the value of <code>this</code> matters to that particular function, but it has to make sure it gets invoked safely.</p>\n"}], "owner": {"reputation": 9341, "user_id": 1377021, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ba1fbbd03fa9766d8ef36d54b25c3569?s=128&d=identicon&r=PG", "display_name": "nathancahill", "link": "https://stackoverflow.com/users/1377021/nathancahill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "closed_date": 1510184895, "accepted_answer_id": 47191501, "answer_count": 1, "score": 5, "last_activity_date": 1510183854, "creation_date": 1510183567, "question_id": 47191446, "link": "https://stackoverflow.com/questions/47191446/what-is-the-purpose-of-calling-0-func-in-js", "closed_reason": "Duplicate", "title": "What is the purpose of calling (0, func)() in JS?", "body": "<p>I came across this in <a href=\"https://unpkg.com/redux-immutable@4.0.0/dist/combineReducers.js\" rel=\"noreferrer\">code generated by Babel</a> from <a href=\"https://github.com/gajus/redux-immutable/blob/master/src/combineReducers.js#L29\" rel=\"noreferrer\">this source</a>. It would appear to be guarding a required function, somehow.</p>\n\n<pre><code>(0, _utilities.validateNextState)(nextDomainState, reducerName, action);\n</code></pre>\n\n<p>I understand how the comma statement in the parenthesis discards the <code>0</code> and returns the <code>validateNextState</code> function, but why not just do:</p>\n\n<pre><code>_utilities.validateNextState(nextDomainState, reducerName, action);\n</code></pre>\n\n<p>My guess is a type of guard (like closures guard scope, or setTimeout makes a function call asynchronous), but can't figure out what it's purpose is.</p>\n"}, {"tags": ["javascript", "jquery", "ajax", "twitter-bootstrap", "css"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 1, "creation_date": 1510183986, "post_id": 47191410, "comment_id": 81332411, "body": "&quot;the best way&quot;.  By who&#39;s standards?  This is potentially a highly opinionated question."}, {"owner": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 0, "creation_date": 1510185118, "post_id": 47191410, "comment_id": 81332721, "body": "What do you want to change the content too? Where is the new content coming from? What have you tried to date and what are the specific issues you are facing."}, {"owner": {"reputation": 3, "user_id": 8910165, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/982661f2d224eae64094f93f4c219a95?s=128&d=identicon&r=PG&f=1", "display_name": "SemSam", "link": "https://stackoverflow.com/users/8910165/semsam"}, "reply_to_user": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 0, "creation_date": 1510186183, "post_id": 47191410, "comment_id": 81333016, "body": "@JonP well that&#39;s part of my question. Where should I store the messages I want to display inside my &lt;h2&gt;."}, {"owner": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 0, "creation_date": 1510263494, "post_id": 47191410, "comment_id": 81373387, "body": "We can&#39;t tell you where to store them as we don&#39;t know enough about them. How many? How random? How are they updated etc. There is no one &quot;best way&quot; that will suit all needs. Check the source of the page you have linked too for one simple way to handle it."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8910165, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/982661f2d224eae64094f93f4c219a95?s=128&d=identicon&r=PG&f=1", "display_name": "SemSam", "link": "https://stackoverflow.com/users/8910165/semsam"}, "edited": false, "score": 0, "creation_date": 1510185029, "post_id": 47191518, "comment_id": 81332695, "body": "Yes, it does helps to do the typing effect , but how do I set changing titles? For example I want the &lt;h2 class=&quot;navbar-right&quot;&gt;I wanna get off&lt;/h2&gt; to change to &quot;Hello Dolly&quot;. I actually want 4 different &lt;h2&gt; ."}, {"owner": {"reputation": 535, "user_id": 3929126, "user_type": "registered", "profile_image": "https://graph.facebook.com/1460479086/picture?type=large", "display_name": "Samuel Imolorhe", "link": "https://stackoverflow.com/users/3929126/samuel-imolorhe"}, "reply_to_user": {"reputation": 3, "user_id": 8910165, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/982661f2d224eae64094f93f4c219a95?s=128&d=identicon&r=PG&f=1", "display_name": "SemSam", "link": "https://stackoverflow.com/users/8910165/semsam"}, "edited": false, "score": 0, "creation_date": 1510185387, "post_id": 47191518, "comment_id": 81332788, "body": "@SemSam you could always have an array of strings containing the different messages that you want to show. I was only giving you a starting point. You can always modify the code to pick each string in the array, and <code>display</code> it. You can also make it recursive if required."}, {"owner": {"reputation": 3, "user_id": 8910165, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/982661f2d224eae64094f93f4c219a95?s=128&d=identicon&r=PG&f=1", "display_name": "SemSam", "link": "https://stackoverflow.com/users/8910165/semsam"}, "edited": false, "score": 0, "creation_date": 1510186052, "post_id": 47191518, "comment_id": 81332970, "body": "I am sort of a newbie to all JavaScript, I&#39;ll use some more direction if it&#39;s not too much to ask...basically is that ,what you meant ?                       var message = [&#39;I wanna get off&#39;,&quot;Hello Dolly&quot;,&quot;Where is Waldo&quot;]; var count = 0; var msgInterval = setInterval(function(){   $(&#39;h2&#39;).html(message.substr(0, ++count));   if (count &gt;= message.length){     clearInterval(msgInterval);   } }, 400);"}], "tags": [], "owner": {"reputation": 535, "user_id": 3929126, "user_type": "registered", "profile_image": "https://graph.facebook.com/1460479086/picture?type=large", "display_name": "Samuel Imolorhe", "link": "https://stackoverflow.com/users/3929126/samuel-imolorhe"}, "is_accepted": false, "score": 1, "last_activity_date": 1510183936, "creation_date": 1510183936, "answer_id": 47191518, "question_id": 47191410, "link": "https://stackoverflow.com/questions/47191410/how-to-change-the-contents-of-a-html-tag-every-few-seconds/47191518#47191518", "title": "How to change the contents of a HTML tag every few seconds", "body": "<p>You can easily use a <code>setInterval</code> to achieve what you want.</p>\n\n<pre><code>var message = 'I wanna get off';\nvar count = 0;\nvar msgInterval = setInterval(function(){\n  $('h2').html(message.substr(0, ++count));\n  if (count &gt;= message.length){\n    clearInterval(msgInterval);\n  }\n}, 400);\n</code></pre>\n\n<p>This should get you off to a good start.</p>\n"}], "owner": {"reputation": 3, "user_id": 8910165, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/982661f2d224eae64094f93f4c219a95?s=128&d=identicon&r=PG&f=1", "display_name": "SemSam", "link": "https://stackoverflow.com/users/8910165/semsam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "closed_date": 1510252141, "answer_count": 1, "score": 0, "last_activity_date": 1510184664, "creation_date": 1510183342, "last_edit_date": 1510184664, "question_id": 47191410, "link": "https://stackoverflow.com/questions/47191410/how-to-change-the-contents-of-a-html-tag-every-few-seconds", "closed_reason": "Needs more focus", "title": "How to change the contents of a HTML tag every few seconds", "body": "<p>I would like the subtitle (h2) to change every few seconds. What is the best way to achieve this?  </p>\n\n<p>I would prefer to keep it as simple as possible, preferably using bootstrap/jquery/ajax/css - but, if necessary, I could use a PHP solution.</p>\n\n<p>You can see an example of this effect here: <a href=\"http://mattfarley.ca/\" rel=\"nofollow noreferrer\">http://mattfarley.ca/</a></p>\n\n<p>My html:</p>\n\n<pre><code>&lt;div id=\"header\" class=\"header\"&gt;\n     &lt;div class=\"container\"&gt;\n         &lt;div class=\"row\"&gt;\n             &lt;div class=\"col-md-6 wow bounceInLeft navbar-right\"&gt;\n                 &lt;h1 class=\"navbar-right\"&gt;Hello world&lt;/h1&gt;\n                 &lt;h2 class=\"navbar-right\"&gt;I wanna get off&lt;/h2&gt;\n                 &lt;button class=\"btn btn-lg btn-primary navbar-right\"\"&gt;More Info&lt;/button&gt;\n\n             &lt;/div&gt;\n\n         &lt;/div&gt;\n     &lt;/div&gt;\n &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 1305, "user_id": 2902161, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1261558429/picture?type=large", "display_name": "Ante Jablan Adamovi\u0107", "link": "https://stackoverflow.com/users/2902161/ante-jablan-adamovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1510183433, "post_id": 47191393, "comment_id": 81332254, "body": "Instead of <code>companies.name[k]</code> you access it like <code>companies[k].name</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1510185995, "post_id": 47191393, "comment_id": 81332951, "body": "See <a href=\"https://stackoverflow.com/questions/500504/why-is-using-for-in-with-array-iteration-such-a-bad-idea?lq=1\" title=\"why is using for in with array iteration such a bad idea\">stackoverflow.com/questions/500504/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 8276633, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/cf057a59785ad9b7998565da50b32334?s=128&d=identicon&r=PG&f=1", "display_name": "Harp", "link": "https://stackoverflow.com/users/8276633/harp"}, "edited": false, "score": 0, "creation_date": 1510183915, "post_id": 47191434, "comment_id": 81332395, "body": "okay thank you guys, is it better to use for loop or for each?"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1510184074, "post_id": 47191434, "comment_id": 81332428, "body": "I personally find for each more readable and you don&#39;t have to worry about index bleed over into different iterations."}, {"owner": {"reputation": 59, "user_id": 8033577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db514a0d812dc1c831edaeaac1581ef5?s=128&d=identicon&r=PG&f=1", "display_name": "MikeyT", "link": "https://stackoverflow.com/users/8033577/mikeyt"}, "edited": false, "score": 0, "creation_date": 1510184105, "post_id": 47191434, "comment_id": 81332436, "body": "As taplar above has stated using jquery will make it easier and $.each is better, but if you do not want to use jquery then the for loop is the solution."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1510184136, "post_id": 47191434, "comment_id": 81332446, "body": "@MikeyT modern browsers support native forEach.  See my solution below.  Ref with browser support at bottom: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 59, "user_id": 8033577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db514a0d812dc1c831edaeaac1581ef5?s=128&d=identicon&r=PG&f=1", "display_name": "MikeyT", "link": "https://stackoverflow.com/users/8033577/mikeyt"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1510184585, "post_id": 47191434, "comment_id": 81332587, "body": "@Taplar I missed your forEach, which makes your answer more comprehensive, but without knowing what support he needs I personally would use the for loop without Jquery. Just a personal preference on making sure it will run on everything, as there will be no doubt as much as we hate users using old browser versions, there will always be those who do."}, {"owner": {"reputation": 43, "user_id": 8276633, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/cf057a59785ad9b7998565da50b32334?s=128&d=identicon&r=PG&f=1", "display_name": "Harp", "link": "https://stackoverflow.com/users/8276633/harp"}, "edited": false, "score": 0, "creation_date": 1510184883, "post_id": 47191434, "comment_id": 81332656, "body": "okay thank you. Means a lot! I&#39;m new at this stuff so I make a lot of mistakes but I&#39;m grateful for the support. Very humbled by everyones depth and guidance. Hope everyone is having a great day!"}, {"owner": {"reputation": 43, "user_id": 8276633, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/cf057a59785ad9b7998565da50b32334?s=128&d=identicon&r=PG&f=1", "display_name": "Harp", "link": "https://stackoverflow.com/users/8276633/harp"}, "edited": false, "score": 0, "creation_date": 1510186114, "post_id": 47191434, "comment_id": 81332994, "body": "now im trying to see if my data-company value matches that of the one in my array..companies.name ex:&#39;dhillion&#39; and if so create that many divs that relate to that object ex: {name: &#39;dhillion&#39;, imgCount: 1} How to do that? I&#39;m trying this var projectImageGallery = document.querySelector(&#39;.project-img-gallery&#39;); for(var i =0; i &lt; companies.length; i++){ if(projectImageGallery.dataset.company === companies[i].name){ for(var j = 0; j &lt; companies[i].imgCount; j++){ $(&#39;&lt;div&gt;&lt;/div&gt;&#39;); } } }"}], "tags": [], "owner": {"reputation": 59, "user_id": 8033577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db514a0d812dc1c831edaeaac1581ef5?s=128&d=identicon&r=PG&f=1", "display_name": "MikeyT", "link": "https://stackoverflow.com/users/8033577/mikeyt"}, "is_accepted": false, "score": -1, "last_activity_date": 1510183503, "creation_date": 1510183503, "answer_id": 47191434, "question_id": 47191393, "link": "https://stackoverflow.com/questions/47191393/for-loop-through-an-array-with-objects/47191434#47191434", "title": "for loop through an array with objects", "body": "<p>You were close, you were missing to reference the position in the array.</p>\n\n<pre><code>     var companies = [\n                 {name: 'dhillion', imgCount: 1},\n                 {name: 'blinds', imgCount: 2},\n                 {name: 'honda', imgCount: 2},\n                 {name: 'nike', imgCount: 3},\n                 {name: 'protilla', imgCount: 3},\n                 {name: 'starbucks', imgCount: 4}\n                ];\n\nfor(var i =0; i &lt; companies.length; i++){\n    console.log(companies[i].name + '..' + companies[i].imgCount);\n}\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/brm0kx2d/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/brm0kx2d/</a></p>\n\n<p>Working example above</p>\n"}, {"tags": [], "owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "is_accepted": true, "score": -1, "last_activity_date": 1510183694, "creation_date": 1510183694, "answer_id": 47191475, "question_id": 47191393, "link": "https://stackoverflow.com/questions/47191393/for-loop-through-an-array-with-objects/47191475#47191475", "title": "for loop through an array with objects", "body": "<p>Personally i'd use the for each logic and let javascript handle the indexes for you.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var companies = [{\r\n    name: 'dhillion',\r\n    imgCount: 1\r\n  },\r\n  {\r\n    name: 'blinds',\r\n    imgCount: 2\r\n  },\r\n  {\r\n    name: 'honda',\r\n    imgCount: 2\r\n  },\r\n  {\r\n    name: 'nike',\r\n    imgCount: 3\r\n  },\r\n  {\r\n    name: 'protilla',\r\n    imgCount: 3\r\n  },\r\n  {\r\n    name: 'starbucks',\r\n    imgCount: 4\r\n  }\r\n];\r\n\r\nif (Array.prototype.forEach) {\r\n  //native logic if the browser supports it\r\n  companies.forEach(function(company){\r\n    console.log(company.name);\r\n  });\r\n} else {\r\n  //jQuery logic fallback if it does not, or you could just do this and not worry about testing for the fallback\r\n  $.each(companies, function(index, company){\r\n    console.log(company.name);\r\n  });\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 43, "user_id": 8276633, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/cf057a59785ad9b7998565da50b32334?s=128&d=identicon&r=PG&f=1", "display_name": "Harp", "link": "https://stackoverflow.com/users/8276633/harp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 47191475, "answer_count": 2, "score": -3, "last_activity_date": 1510183694, "creation_date": 1510183266, "question_id": 47191393, "link": "https://stackoverflow.com/questions/47191393/for-loop-through-an-array-with-objects", "title": "for loop through an array with objects", "body": "<p>I'm trying to for loop an array that has various objects, this is my code - any tips?</p>\n\n<pre><code> var companies = [\n                 {name: 'dhillion', imgCount: 1},\n                 {name: 'blinds', imgCount: 2},\n                 {name: 'honda', imgCount: 2},\n                 {name: 'nike', imgCount: 3},\n                 {name: 'protilla', imgCount: 3},\n                 {name: 'starbucks', imgCount: 4}\n                ];\n\n// for(var i =0; i &lt; companies.length; i++){\n//     console.log(companies.name + '..' + companies.imgCount);\n// }\n\nfor(var k in companies){\n    console.log(companies.name[k] + '..' + companies.imgCount[k]);\n}\n</code></pre>\n"}, {"tags": ["javascript", "google-apps-script", "spreadsheet"], "comments": [{"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "edited": false, "score": 3, "creation_date": 1510184372, "post_id": 47191376, "comment_id": 81332524, "body": "How about ignoring the header row when data is retrieved? So how about modifying from <code>var data = sheet.getRange(&quot;A:C&quot;).getValues();</code> to <code>var data = sheet.getRange(&quot;A2:C&quot;).getValues();</code>?"}, {"owner": {"reputation": 19920, "user_id": 1383168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atB67.png?s=128&g=1", "display_name": "Slai", "link": "https://stackoverflow.com/users/1383168/slai"}, "edited": false, "score": 0, "creation_date": 1510188108, "post_id": 47191376, "comment_id": 81333523, "body": "to skip the first line you can use <code>data.slice(1)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 3496, "user_id": 2961734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79f0229603e30b04fddc833d85afc9e0?s=128&d=identicon&r=PG&f=1", "display_name": "Laughing Vergil", "link": "https://stackoverflow.com/users/2961734/laughing-vergil"}, "is_accepted": false, "score": 1, "last_activity_date": 1510184051, "creation_date": 1510184051, "answer_id": 47191539, "question_id": 47191376, "link": "https://stackoverflow.com/questions/47191376/remove-the-line-title-from-the-json-structure/47191539#47191539", "title": "Remove the line title from the JSON structure", "body": "<p>There is a reason why most parsers include a question: \"Does your file include headers?\" (or some variation thereof)  However, if you will always have a header row guaranteed, you can change your parsing routine something like this:</p>\n\n<pre><code>function parseData(data) {\n\n    const output = {};\n    var currentGroupName = '';\n    var skipLine = 1;\n\n    data.forEach(function(line){\n        if (isBlank(line)){\n            return; \n        }\n        if (skipLine == 1) {\n            skipline = 0;\n        }\n        else {\n            if (line[0].trim().length &gt; 1) {\n                currentGroupName = line[0].trim();\n            }\n\n            output[currentGroupName] = output[currentGroupName] || {};\n\n            output[currentGroupName][line[1]] = line[2];\n        } \n    });\n\n    return output;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1215, "user_id": 2446351, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lWxqe.png?s=128&g=1", "display_name": "foundling", "link": "https://stackoverflow.com/users/2446351/foundling"}, "is_accepted": true, "score": 1, "last_activity_date": 1510247638, "last_edit_date": 1510247638, "creation_date": 1510184110, "answer_id": 47191555, "question_id": 47191376, "link": "https://stackoverflow.com/questions/47191376/remove-the-line-title-from-the-json-structure/47191555#47191555", "title": "Remove the line title from the JSON structure", "body": "<p>If you aren't concerned about memory usage, this is a good candidate for using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" rel=\"nofollow noreferrer\">ES2015 destructuring assignment</a>, which will let you break your <code>data</code> array into a new <code>header</code> array and a new <code>lines</code> array containing the array of lines you want.  Here is what your code might look like using that:</p>\n\n<pre><code>function parseData(data) {\n\n    const output = {};\n    var currentGroupName = '';\n    [header, ...lines] = data;  // break data into the first item, 'header', and the rest of the items, 'lines'\n\n    lines.forEach(function(line){\n        if (isBlank(line)){\n            return; \n        }\n\n        if (line[0].trim().length &gt; 1) {\n            currentGroupName = line[0].trim();\n        }\n\n        output[currentGroupName] = output[currentGroupName] || {};\n\n        output[currentGroupName][line[1]] = line[2];\n    });\n\n    return output;\n}\n</code></pre>\n\n<p>However, if you don't want to copy your data array, you could also just include the <code>index</code> parameter in the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach#Syntax\" rel=\"nofollow noreferrer\"><code>forEach</code></a> call inside of your <code>parseData</code> function and use it to skip the first line of data as you iterate through the lines:</p>\n\n<pre><code>function parseData(data) {\n\n    const output = {};\n    var currentGroupName = '';\n\n    data.forEach(function(line, index){\n        if (isBlank(line) || index === 0){\n            return; \n        }\n\n        if (line[0].trim().length &gt; 1) {\n            currentGroupName = line[0].trim();\n        }\n\n        output[currentGroupName] = output[currentGroupName] || {};\n\n        output[currentGroupName][line[1]] = line[2];\n    });\n\n    return output;\n}\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 8882189, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb60759b4bb5d3de0f4116ec258ae698?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/8882189/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 47191555, "answer_count": 2, "score": 0, "last_activity_date": 1510247638, "creation_date": 1510183136, "question_id": 47191376, "link": "https://stackoverflow.com/questions/47191376/remove-the-line-title-from-the-json-structure", "title": "Remove the line title from the JSON structure", "body": "<p><a href=\"https://i.stack.imgur.com/8BxMa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8BxMa.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is a <a href=\"https://docs.google.com/spreadsheets/d/1QGJU5FJVmKI3A5A3NFY-XQU7MlBOG0VmvUIZvx8Bitg/edit#gid=72338765\" rel=\"nofollow noreferrer\">link</a> of my spreadsheet</p>\n\n<pre><code>//max CPC\nvar maxCPC = 3.00;\n//min CPC\nvar minCPC = 0.50;\n//percentage change down\n\n\nfunction main() {\n    var SPREADSHEET_URL = \"https://docs.google.com/spreadsheets/d/1QGJU5FJVmKI3A5A3NFY-XQU7MlBOG0VmvUIZvx8Bitg/edit#gid=72338765\";\n\n    var spreadsheet = SpreadsheetApp.openByUrl(SPREADSHEET_URL);\n    var sheet = spreadsheet.getSheetByName('Campaigns');\n    var data = sheet.getRange(\"A:C\").getValues();\n\n    var test = parseData(data)\n}\n\n\nfunction isBlank(line) {\n    return line[0].trim() === '' &amp;&amp; line[1].trim() === '';\n}\n\n\nfunction parseData(data) {\n\n    const output = {};\n    var currentGroupName = '';\n\n    data.forEach(function(line){\n        if (isBlank(line)){\n            return; \n        }\n\n        if (line[0].trim().length &gt; 1) {\n            currentGroupName = line[0].trim();\n        }\n\n        output[currentGroupName] = output[currentGroupName] || {};\n\n        output[currentGroupName][line[1]] = line[2];\n    });\n\n    return output;\n}\n</code></pre>\n\n<p>This code allows me to reformat a Google-Spreadsheet into a JSON structure. I don't want to include the first line since it is the title line, but I don't know how to do that. How could I modify my code so that it works fine?</p>\n"}, {"tags": ["javascript", "reactjs", "redux"], "answers": [{"comments": [{"owner": {"reputation": 4227, "user_id": 2066880, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f46f26933c985706162014bd2fc0c9d3?s=128&d=identicon&r=PG", "display_name": "user2066880", "link": "https://stackoverflow.com/users/2066880/user2066880"}, "edited": false, "score": 0, "creation_date": 1510192621, "post_id": 47192477, "comment_id": 81334592, "body": "To clarify, reducers and selectors are both functions that deal with Redux state. I&#39;m trying to come up with a term to describe both of them in the same breath."}], "tags": [], "owner": {"reputation": 13438, "user_id": 1595699, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xlJ8d.png?s=128&g=1", "display_name": "klugjo", "link": "https://stackoverflow.com/users/1595699/klugjo"}, "is_accepted": false, "score": 0, "last_activity_date": 1510191169, "creation_date": 1510191169, "answer_id": 47192477, "question_id": 47191373, "link": "https://stackoverflow.com/questions/47191373/name-for-functions-that-deal-with-redux-state-e-g-reducers-and-selectors/47192477#47192477", "title": "Name for functions that deal with Redux state (e.g. reducers and selectors)", "body": "<p>As far as I am concerned these are also called reducers. Cf the documentation:</p>\n\n<blockquote>\n  <p>The reducer is a pure function that takes the previous state and an\n  action, and returns the next state. (previousState, action) =>\n  newState. It's called a reducer because it's the type of function you\n  would pass to Array.prototype.reduce(reducer, ?initialValue).</p>\n</blockquote>\n\n<p>I sometimes add a prefix to specify what that reducer is: <code>userReducer</code>, <code>productReducer</code> and so on ...</p>\n\n<p>Then within a reducer itself I will usually call the action handler function the same as the action name. For example:</p>\n\n<pre><code>function todos(state = [], action) {\n  switch (action.type) {\n    case 'ADD_TODO':\n      return addTodo(state, action); // then put your addTodo function above or in a different file\n    case 'TOGGLE_TODO':\n      return toggleTodo(state, action); // idem\n    default:\n      return state;\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4227, "user_id": 2066880, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f46f26933c985706162014bd2fc0c9d3?s=128&d=identicon&r=PG", "display_name": "user2066880", "link": "https://stackoverflow.com/users/2066880/user2066880"}, "edited": false, "score": 0, "creation_date": 1510199991, "post_id": 47193529, "comment_id": 81336427, "body": "Thanks I like that a lot. Could you clarify what you mean by saying &quot;it&#39;s reducers all the way down&quot;? Are you saying that selectors could be classified as reducers?"}, {"owner": {"reputation": 331, "user_id": 8570409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b73c42d105d48f4795a0a247ed2b7f66?s=128&d=identicon&r=PG", "display_name": "Haim Zamir", "link": "https://stackoverflow.com/users/8570409/haim-zamir"}, "reply_to_user": {"reputation": 4227, "user_id": 2066880, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f46f26933c985706162014bd2fc0c9d3?s=128&d=identicon&r=PG", "display_name": "user2066880", "link": "https://stackoverflow.com/users/2066880/user2066880"}, "edited": false, "score": 0, "creation_date": 1510207574, "post_id": 47193529, "comment_id": 81338829, "body": "The only real differences are that the top level functions called reducers can be composed directly in the redux api, and they consume action objects that must have a type property, whereas you are responsible for dispatching the actions inside the reducer (presumably by examining type), and you glue all the relevant functions together yourself)."}], "tags": [], "owner": {"reputation": 331, "user_id": 8570409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b73c42d105d48f4795a0a247ed2b7f66?s=128&d=identicon&r=PG", "display_name": "Haim Zamir", "link": "https://stackoverflow.com/users/8570409/haim-zamir"}, "is_accepted": true, "score": 1, "last_activity_date": 1510198862, "creation_date": 1510198862, "answer_id": 47193529, "question_id": 47191373, "link": "https://stackoverflow.com/questions/47191373/name-for-functions-that-deal-with-redux-state-e-g-reducers-and-selectors/47193529#47193529", "title": "Name for functions that deal with Redux state (e.g. reducers and selectors)", "body": "<p>If you insist on coming up with a term that handles both the \"reducer\" level and the \"selector\" level of this pattern, (and you don't like reducer, since it pretty much is reducers all the way down), you could consider the term \"transformer\" since you are taking an input and old state, and creating a transformed result.</p>\n"}], "owner": {"reputation": 4227, "user_id": 2066880, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f46f26933c985706162014bd2fc0c9d3?s=128&d=identicon&r=PG", "display_name": "user2066880", "link": "https://stackoverflow.com/users/2066880/user2066880"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 47193529, "answer_count": 2, "score": 0, "last_activity_date": 1510198862, "creation_date": 1510183127, "question_id": 47191373, "link": "https://stackoverflow.com/questions/47191373/name-for-functions-that-deal-with-redux-state-e-g-reducers-and-selectors", "title": "Name for functions that deal with Redux state (e.g. reducers and selectors)", "body": "<p>I need help naming functions that act on a slice of Redux state. What would be a good name for the type of functions that reducers and selectors are? I came up with <code>stateHandler</code>, but it's too wordy and generic.</p>\n"}, {"tags": ["javascript", "object", "methods", "w3c-geolocation"], "comments": [{"owner": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 0, "creation_date": 1510183999, "post_id": 47191355, "comment_id": 81332414, "body": "I&#39;d guess that <code>navigator.geolocation.watchPosition</code> is not finished (it&#39;s an async call, right?) when you call getPosition."}, {"owner": {"reputation": 783, "user_id": 870584, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/457759d0b4c4ed025dfc0a200e007a02?s=128&d=identicon&r=PG", "display_name": "ppetree", "link": "https://stackoverflow.com/users/870584/ppetree"}, "reply_to_user": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 0, "creation_date": 1510187307, "post_id": 47191355, "comment_id": 81333321, "body": "watchPosition gets called on init... I can wait a full minute and hit getPosition and get the same result.  And like I said, I can move this back to procedural and it works just fine."}], "answers": [{"tags": [], "owner": {"reputation": 783, "user_id": 870584, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/457759d0b4c4ed025dfc0a200e007a02?s=128&d=identicon&r=PG", "display_name": "ppetree", "link": "https://stackoverflow.com/users/870584/ppetree"}, "is_accepted": false, "score": 0, "last_activity_date": 1510952184, "creation_date": 1510952184, "answer_id": 47359137, "question_id": 47191355, "link": "https://stackoverflow.com/questions/47191355/javascript-object-variable-and-method-scope-problems-using-navigator-geolocation/47359137#47359137", "title": "javascript object variable and method scope problems using navigator.geolocation.watchPosition", "body": "<p>the answer lies in \"this\" - as apparently keeping up with the \"this\" is a bit too complicated for the javascript engineers so inside your object you have to make a copy of \"this\" and then use the copy to reference items in your object.</p>\n\n<pre><code>function geolocation() {\n  var self = this;\n  this.watchID;\n  this.position;\n\n  this.success = function(p) {\n    self.position = p;\n  };\n</code></pre>\n"}], "owner": {"reputation": 783, "user_id": 870584, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/457759d0b4c4ed025dfc0a200e007a02?s=128&d=identicon&r=PG", "display_name": "ppetree", "link": "https://stackoverflow.com/users/870584/ppetree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510952184, "creation_date": 1510183044, "question_id": 47191355, "link": "https://stackoverflow.com/questions/47191355/javascript-object-variable-and-method-scope-problems-using-navigator-geolocation", "title": "javascript object variable and method scope problems using navigator.geolocation.watchPosition", "body": "<p>I'm trying to move from my old procedural approach to javascript coding to a more object based approach. One of the pieces of code I'm trying to migrate is my location tracker as shown here:</p>\n\n<pre><code>var gps = new geolocation();\n\nfunction geolocation() {\n  this.watchID;\n  this.position;\n\n  this.success = function(p) {\n    this.position = p;\n  };\n\n  this.failure = function(error) {\n    var errmsg;\n\n    // convert the error code to a readable message\n    switch(error.code)\n    {\n        case error.PERMISSION_DENIED:\n          errmsg=\"App doesn't have permission to access your location.\";\n          break;\n        case error.POSITION_UNAVAILABLE:\n          errmsg=\"Your location information is unavailable to App.\";\n          break;    \n        case error.TIMEOUT:\n          errmsg=\"App's request to get your location timed out.\";        \n          break;\n        case error.UNKNOWN_ERROR:\n          errmsg=\"An unknown GPS error occurred.\";\n          break;\n    }\n    console.log(errmsg);\n  };\n\n  this.watchPosition = function() {\n    if(!this.watchID)\n    {\n      this.watchID = navigator.geolocation.watchPosition(this.success, this.failure, { maximumAge: 1000, timeout: 15000, enableHighAccuracy: true });\n    }\n  };\n\n  this.getPosition = function() {\n    return(this.position);\n  };\n\n  this.clearWatch = function() {\n    if(this.watchID)\n    {\n      // turn off the watch\n      navigator.geolocation.clearWatch(this.watchID);\n      this.watchID = null;\n      console.log(\"GPS WatchID was cleared.\", \"GPS Status\");\n    }\n  };\n};\n</code></pre>\n\n<p>I can access all the methods in this object. When I start gps.watchPosition(); this.watchID gets set. However, when I use:</p>\n\n<pre><code>var p = gps.getPosition(); \n</code></pre>\n\n<p>I get <strong>p</strong> as 'undefined' and running through the debugger shows <strong>this.position</strong> is also undefined.</p>\n\n<p>If I break this code back out to it's procedural state, it works fine. Obviously, I'm missing something but I just can't figure out what.</p>\n\n<p>(note: I did some minimizing of this code before posting)</p>\n"}, {"tags": ["javascript", "node.js", "aws-lambda", "axios", "alexa-skills-kit"], "comments": [{"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510183193, "post_id": 47191295, "comment_id": 81332161, "body": "What is the expected result? Why do you call <code>console.info()</code> after <code>return</code> statement?"}, {"owner": {"reputation": 1067, "user_id": 1394354, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ef67783b49601576315c265e5790ec9a?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/1394354/mike"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510183499, "post_id": 47191295, "comment_id": 81332278, "body": "The expected result of this debugging is to see the contents of <code>result</code> in the <code>axiosHelper()</code> function. But if you&#39;re asking about the end goal, then that is the retrieve a physical address from <code>result</code>, which returns as the <code>data</code> parameter in the <code>getKaiserBuildingHelper()</code> function&#39;s callback to be added to the <code>facilityOutput</code> variable which is returned and emitted by Alexa."}, {"owner": {"reputation": 1067, "user_id": 1394354, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ef67783b49601576315c265e5790ec9a?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/1394354/mike"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510183525, "post_id": 47191295, "comment_id": 81332286, "body": "Hope that makes sense. The <code>console.info()</code> call after the <code>return</code> statement is for debugging purposes."}, {"owner": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 0, "creation_date": 1510183536, "post_id": 47191295, "comment_id": 81332290, "body": "<code>getKaiserBuildingHelper</code> attempts to return facilityOutput however it just initiates an async ajax request so facilityOutput will probably be undefined."}, {"owner": {"reputation": 1067, "user_id": 1394354, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ef67783b49601576315c265e5790ec9a?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/1394354/mike"}, "reply_to_user": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 0, "creation_date": 1510183628, "post_id": 47191295, "comment_id": 81332324, "body": "@James, you are correct. Except <code>facilityOutput</code> is not undefined, it is returning it&#39;s last assigned value which is &quot;Before get JSON call.&quot; I set it to that for debugging purposes as well."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510183630, "post_id": 47191295, "comment_id": 81332325, "body": "Why do you expect <code>console.info()</code> to be reached after <code>return</code> statement? Is <code>console.info(response)</code> not logged within function passed to <code>axiosHelper()</code>? What is text of <code>getFacilitySearchEndpoint</code>?"}, {"owner": {"reputation": 1067, "user_id": 1394354, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ef67783b49601576315c265e5790ec9a?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/1394354/mike"}, "edited": false, "score": 0, "creation_date": 1510183734, "post_id": 47191295, "comment_id": 81332347, "body": "If you take a look at the screenshot of the console logs, you can see that <code>console.info(&quot;Ending getKaiserBuildingHelper()&quot;);</code> is being called just fine and both <code>console.info(response);</code> &amp; <code>console.info(&quot;Ending axiosHelper()&quot;);</code> are not getting called."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510184831, "post_id": 47191295, "comment_id": 81332643, "body": "You are trying to return the result of an asynchronous function call outside of the asynchronous function callback at <code>return facilityOutput</code>"}, {"owner": {"reputation": 1067, "user_id": 1394354, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ef67783b49601576315c265e5790ec9a?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/1394354/mike"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510185026, "post_id": 47191295, "comment_id": 81332693, "body": "@guest271314 yes, per the solution I linked in the original questions, I put the Axios call in its own separate asynchronous function. Even if I move it back to its original location inside of \u2018getJSON()\u2019, I will still get the same result."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510185180, "post_id": 47191295, "comment_id": 81332743, "body": "Where is <code>BLDG_TYPE</code> defined?"}, {"owner": {"reputation": 1067, "user_id": 1394354, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ef67783b49601576315c265e5790ec9a?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/1394354/mike"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510185758, "post_id": 47191295, "comment_id": 81332889, "body": "@guest271314 in this file. I didn\u2019t add it in the snippet because it is working as expected."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510185836, "post_id": 47191295, "comment_id": 81332914, "body": "Note also that the response is served without <code>Access-Control-Allow-Origin</code> header <code>Failed to load https:&#47;&#47;en.wikipedia.org&#47;w&#47;api.php?action=query&amp;format=json&amp;&zwnj;&#8203;list=search&amp;utf8=1&amp;s&zwnj;&#8203;rsearch=Tony+Stark: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. Origin &#39;https:&#47;&#47;stackoverflow.com&#39; is therefore not allowed access. If an opaque response serves your needs, set the request&#39;s mode to &#39;no-cors&#39; to fetch the resource with CORS disabled.</code>"}, {"owner": {"reputation": 1067, "user_id": 1394354, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ef67783b49601576315c265e5790ec9a?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/1394354/mike"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510186057, "post_id": 47191295, "comment_id": 81332973, "body": "@guest271314 I\u2019m sorry, I\u2019m not familiar with those headers and what they do. Could you explain, please? Also, where are you seeing that information?"}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1510186111, "post_id": 47191295, "comment_id": 81332993, "body": "Both <code>getJSON()</code> and <code>getKaiserBuildingHelper()</code> are not properly handling async responses.  See the answer yours has been marked a duplicate of for details on how to do that."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510186154, "post_id": 47191295, "comment_id": 81333008, "body": "<a href=\"https://stackoverflow.com/questions/10636611/how-does-access-control-allow-origin-header-work\" title=\"how does access control allow origin header work\">stackoverflow.com/questions/10636611/&hellip;</a>"}], "owner": {"reputation": 1067, "user_id": 1394354, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ef67783b49601576315c265e5790ec9a?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/1394354/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "closed_date": 1510186032, "answer_count": 0, "score": 0, "last_activity_date": 1510266449, "creation_date": 1510182680, "last_edit_date": 1510266449, "question_id": 47191295, "link": "https://stackoverflow.com/questions/47191295/amazon-alexa-http-callback-not-being-called", "closed_reason": "Duplicate", "title": "Amazon Alexa HTTP Callback not being called?", "body": "<p>I have an Alexa skill that takes the device's address and uses that information to find a nearby facility. According to this solution <a href=\"https://stackoverflow.com/questions/42354742/amazon-aws-lambda-alexa-http-get-issue\">here</a>, this is due to Javascript's asynchronicity.</p>\n\n<p>The proposed solution in the above-linked question is to pull the http call into its own function with a callback. I have done that (see code below) but the http request is still not returning.</p>\n\n<p>I have also taken a look at the solution <a href=\"https://stackoverflow.com/questions/14220321/how-to-return-the-response-from-an-asynchronous-call\">here</a> as proposed by @jfriend00. My callbacks are structured the same way. I still don't understand why my callbacks aren't returning before the rest of the code runs.</p>\n\n<p><strong>getKaiserBuildingHandler()</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const getKaiserBuildingHandler = function() {\r\n    console.info(\"Starting getKaiserBuildingHandler()\");\r\n    \r\n    ...\r\n\r\n      switch(addressResponse.statusCode) {\r\n          case 200:\r\n              console.log(\"Address successfully retrieved, now responding to user.\");\r\n\r\n              ...\r\n\r\n              const nearestKPFacility = getKaiserBuildingHelper(buildingType, address);\r\n              \r\n              ...\r\n\r\n              break;\r\n          \r\n          ...\r\n      }\r\n\r\n      console.info(\"Ending getKaiserBuildingHandler()\");\r\n    });\r\n\r\n    ...\r\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>getKaiserBuildingHelper()</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const getKaiserBuildingHelper = function(buildingType, address) {\r\n  console.info(\"Starting getKaiserBuildingHelper()\");\r\n\r\n  // var facilityOutput = Messages.ERROR;\r\n  var facilityOutput = \"Inside building helper function, initial value.\";\r\n\r\n  if (buildingType == BLDG_TYPE.PHARMACY ||\r\n      buildingType == BLDG_TYPE.CLINIC ||\r\n      buildingType == BLDG_TYPE.HOSPITAL) {\r\n\r\n    ...\r\n    \r\n    facilityOutput = \"Before get JSON call.\";\r\n\r\n    getJSON(buildingType, function(err, data) {\r\n      if (data != \"ERROR\") {\r\n        console.info(\"Received data from callback: \", data);\r\n        facilityOutput = \"The closest Kaiser Permanente \" + buildingType + \" to your location is located at \" + data + \".\";\r\n      } else {\r\n        console.error(\"Error with data received from callback. \", err);\r\n        facilityOutput = \"Entered JSON call, returned ERROR.\";\r\n      }\r\n    });\r\n  }\r\n\r\n  ...\r\n\r\n  return facilityOutput;\r\n\r\n  console.info(\"Ending getKaiserBuildingHelper()\");\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>getJSON()</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const getJSON = function(building, callback) {\r\n  console.info(\"Starting getJSON()\");\r\n\r\n  Axios\r\n    .get(getFacilitySearchEndpoint(building))\r\n    .then(function(response) {\r\n      callback(null, response);\r\n    })\r\n    .catch(function(error) {\r\n      callback(error, \"ERROR\");\r\n    });\r\n\r\n  console.info(\"Ending getJSON()\");\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>getFacilitySearchEndpoint() [wikipedia api just as placeholders]</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const getFacilitySearchEndpoint = function(building) {\r\n  console.info(\"Starting getFacilitySearchEndpoint()\");\r\n\r\n  switch (building) {\r\n    case BLDG_TYPE.HOSPITAL:\r\n      console.info(\"Ending getFacilitySearchEndpoint() with \" + building);\r\n      return \"https://en.wikipedia.org/w/api.php?action=query&amp;format=json&amp;list=search&amp;utf8=1&amp;srsearch=Albert+Einstein\";\r\n      break;\r\n    case BLDG_TYPE.PHARMACY:\r\n      console.info(\"Ending getFacilitySearchEndpoint() with \" + building);\r\n      return \"https://en.wikipedia.org/w/api.php?action=query&amp;format=json&amp;list=search&amp;utf8=1&amp;srsearch=Harry+Potter\";\r\n      break;\r\n    case BLDG_TYPE.CLINIC:\r\n      console.info(\"Ending getFacilitySearchEndpoint() with \" + building);\r\n      return \"https://en.wikipedia.org/w/api.php?action=query&amp;format=json&amp;list=search&amp;utf8=1&amp;srsearch=Tony+Stark\";\r\n      break;\r\n    default:\r\n      console.info(\"Ending getFacilitySearchEndpoint() with default\");\r\n      break;\r\n  }\r\n  console.info(\"Ending getFacilitySearchEndpoint()\");\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "css", "bing-maps"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1510191690, "post_id": 47191242, "comment_id": 81334368, "body": "why not a partially transparent png?"}], "answers": [{"comments": [{"owner": {"reputation": 1423, "user_id": 5026438, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OzS01.jpg?s=128&g=1", "display_name": "Chase Ingebritson", "link": "https://stackoverflow.com/users/5026438/chase-ingebritson"}, "edited": false, "score": 0, "creation_date": 1510619438, "post_id": 47208809, "comment_id": 81502711, "body": "I tried the transparent png on hover and this seemed to resolve the issue. I just have to figure out how to implement pushpin refreshing on hover.  Anyways, thanks!"}], "tags": [], "owner": {"reputation": 13947, "user_id": 1245450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/snMb2.jpg?s=128&g=1", "display_name": "rbrundritt", "link": "https://stackoverflow.com/users/1245450/rbrundritt"}, "is_accepted": true, "score": 1, "last_activity_date": 1510251031, "creation_date": 1510251031, "answer_id": 47208809, "question_id": 47191242, "link": "https://stackoverflow.com/questions/47191242/bing-maps-v8-pushpin-opacity/47208809#47208809", "title": "Bing Maps V8 Pushpin Opacity", "body": "<p>Changing the opacity of a pushpin is not a commonly requested feature, in fact I think this is only the second time in 10 years anyone has asked about this. That said, there are several ways to go about this. Since you are using an image URL, the easiest method would be to just create another image that has your opacity applied to it and then update the icon property as needed. </p>\n\n<p>If you want to get more complicated but make a more flexible solution you can use SVG's for pushpins and dynamically control the opacity that way. Here is an example that creates SVG based pushpins with different settings: <a href=\"https://bingmapsv8samples.azurewebsites.net/#SVG%20Pushpin%20Maker\" rel=\"nofollow noreferrer\">https://bingmapsv8samples.azurewebsites.net/#SVG%20Pushpin%20Maker</a> Since you aren't using the text property, you could easily use that as a placeholder in your SVG for opacity and dynamically update single property as needed.</p>\n\n<p>Another method is to use an HTML5 canvas, here is an example that scales the pushpin image: <a href=\"https://github.com/Microsoft/BingMapsV8CodeSamples/blob/master/Samples/Pushpins/Pushpin_Scaled.html\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/BingMapsV8CodeSamples/blob/master/Samples/Pushpins/Pushpin_Scaled.html</a></p>\n"}], "owner": {"reputation": 1423, "user_id": 5026438, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OzS01.jpg?s=128&g=1", "display_name": "Chase Ingebritson", "link": "https://stackoverflow.com/users/5026438/chase-ingebritson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 538, "favorite_count": 0, "accepted_answer_id": 47208809, "answer_count": 1, "score": 0, "last_activity_date": 1510251031, "creation_date": 1510182406, "last_edit_date": 1510191621, "question_id": 47191242, "link": "https://stackoverflow.com/questions/47191242/bing-maps-v8-pushpin-opacity", "title": "Bing Maps V8 Pushpin Opacity", "body": "<p>What I wanted to do was upon hovering over another element on the page, was to change the opacity of the Bing Maps V8 <a href=\"https://msdn.microsoft.com/en-us/library/mt712674.aspx\" rel=\"nofollow noreferrer\">Pushpins</a>. I know this is possible through Google Maps as I had it implemented there, but I haven't been able to find such an option with Bing Maps yet.</p>\n\n<p>Currently I am using a modified Pushpin to mark the location of a bus on a map:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jgfXB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jgfXB.png\" alt=\"Custom Pushpins\"></a></p>\n\n<p>Here is an example of the code I use to initialize the pins:</p>\n\n<pre><code>new Microsoft.Maps.Pushpin(map.getCenter(), {\n    icon: 'img/bus1.png',\n    anchor: new Microsoft.Maps.Point(14, 44),\n    visible: false,\n    text: \"\",\n    title: \"\"\n})\n</code></pre>\n\n<p>The <a href=\"https://msdn.microsoft.com/en-us/library/mt712673.aspx\" rel=\"nofollow noreferrer\">PushpinOptions</a> object doesn't seem to have anything relating to opacity. Is there an official or hack-y way that is used to go about this?</p>\n"}, {"tags": ["javascript", "google-maps", "google-maps-api-3"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 8521014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc54e7be67772cd1016232b570fa583b?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Huh", "link": "https://stackoverflow.com/users/8521014/nicholas-huh"}, "edited": false, "score": 0, "creation_date": 1510182899, "post_id": 47191256, "comment_id": 81332053, "body": "Thank you so much for your answer! But it doesn&#39;t pass objects properly.."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 85, "user_id": 8521014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc54e7be67772cd1016232b570fa583b?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Huh", "link": "https://stackoverflow.com/users/8521014/nicholas-huh"}, "edited": false, "score": 0, "creation_date": 1510183236, "post_id": 47191256, "comment_id": 81332179, "body": "@NicholasHuh See updated answer for more modern approach."}], "tags": [], "owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "is_accepted": false, "score": 1, "last_activity_date": 1510183213, "last_edit_date": 1510183213, "creation_date": 1510182481, "answer_id": 47191256, "question_id": 47191207, "link": "https://stackoverflow.com/questions/47191207/how-to-pass-objects-in-parameters-in-onclick-event/47191256#47191256", "title": "How to pass objects in parameters in onclick() event?", "body": "<p>First, your concatenation is wrong. You need to concatenate the variable into the string by terminating the string, concatenating the variable and then adding another string. Don't forget <code>+</code> between every concatenation:</p>\n\n<pre><code>onclick='getPlacesDetails(\"' + marker + '\",\"' + infowindow + '\")'\n</code></pre>\n\n<p>Second, all this will do is concatenate the entire object into your string, not some actual usable string property of that object.</p>\n\n<p>Now, you should not use inline HTML event attributes for event binding. That was how we did it 100 years ago and there are <strong><a href=\"https://stackoverflow.com/questions/43459890/javascript-function-doesnt-work-when-link-is-clicked/43459991#43459991\">many reasons</a></strong> not to do it. Instead, do all your event binding in script. This will also allow you to avoid the concatenation completely.</p>\n\n<p>Lastly, don't use a hyperlink if you aren't actually navigating anywhere. It's semantically incorrect and you have to disable the native click behavior of the link, not to mention that it can cause problems with the browser's history. Just about any visible element can be clicked, so just bind <code>click</code> to the <code>li</code> and forget the <code>a</code> completely:</p>\n\n<pre><code>var li = document.createElement(\"li\");    // Create the element in memory\nli.classList.add(\"w3-bar-item\");          // Configure the CSS\n\n// Set up the click event to an anonymous function that calls the\n// actual function you want and passes the parameters it needs:\nli.addEventListener(\"click\", function(){ \n   getPlacesDetails(marker, infowindow)\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 49343, "user_id": 2082673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gmyMb.jpg?s=128&g=1", "display_name": "dave", "link": "https://stackoverflow.com/users/2082673/dave"}, "is_accepted": true, "score": 4, "last_activity_date": 1510182714, "creation_date": 1510182714, "answer_id": 47191307, "question_id": 47191207, "link": "https://stackoverflow.com/questions/47191207/how-to-pass-objects-in-parameters-in-onclick-event/47191307#47191307", "title": "How to pass objects in parameters in onclick() event?", "body": "<p><code>marker</code> is an object, so you won't be able to convert it to a string to be put into the <code>onclick</code> attribute, and it's outside of the window scope, so you won't be able to do it directly in the <code>onclick</code> attribute anyways.  I would probably do it like this:</p>\n\n<pre><code>var $li = $(\"&lt;li&gt;&lt;a href='#' class='w3-bar-item'&gt;\" + place.name + \"&lt;/a&gt;&lt;/li&gt;\");\n$(\"ul\").append($li);\n$li.on('click', getPlacesDetails.bind(this, marker, infowindow));\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 8521014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc54e7be67772cd1016232b570fa583b?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Huh", "link": "https://stackoverflow.com/users/8521014/nicholas-huh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7100, "favorite_count": 0, "accepted_answer_id": 47191307, "answer_count": 2, "score": 0, "last_activity_date": 1510183213, "creation_date": 1510182229, "last_edit_date": 1510183069, "question_id": 47191207, "link": "https://stackoverflow.com/questions/47191207/how-to-pass-objects-in-parameters-in-onclick-event", "title": "How to pass objects in parameters in onclick() event?", "body": "<p>I have this function:</p>\n\n<pre><code>function createMarkersForPlaces(places, infowindow) {\n  for (var i = 0; i &lt; places.length; i++) {\n    var place = places[i];\n    var marker = new google.maps.Marker({\n      map: map,\n      title: place.name,\n      position: place.geometry.location,\n      id: place.place_id,\n      animation: google.maps.Animation.DROP\n    });\n    placeMarkers.push(marker);\n    // if user clicks one of the marker, execute getPlaceDetails\n    // for that specific place\n    marker.addListener('click', function() {\n      if (infowindow.marker == this) {\n      } else {\n        getPlacesDetails(this, infowindow);\n      }\n    });\n    // based on the places above, populate list in html\n    $(\"ul\").append(\"&lt;li&gt;&lt;a href='#' onclick='getPlacesDetails(\" + marker + \",\" + infowindow \")' class='w3-bar-item'&gt;\" + place.name + \"&lt;/a&gt;&lt;/li&gt;\");\n  }\n}\n</code></pre>\n\n<p>but this line of code does not work.</p>\n\n<pre><code>$(\"ul\").append(\"&lt;li&gt;&lt;a href='#' onclick='getPlacesDetails(\" + marker + \",\" + infowindow \")' class='w3-bar-item'&gt;\" + place.name + \"&lt;/a&gt;&lt;/li&gt;\");\n</code></pre>\n\n<p>inside of a function where marker and infowindow are defined, and other than this line of code, the function works perfect. Marker is an object from google.maps.marker, and infowindow is an object from google.maps.InfoWindow. How can I make it work?</p>\n\n<pre><code>function getPlacesDetails(marker, infowindow) {some function...}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "ecmascript-6"], "answers": [{"tags": [], "owner": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "is_accepted": true, "score": 2, "last_activity_date": 1510182366, "creation_date": 1510182366, "answer_id": 47191236, "question_id": 47191193, "link": "https://stackoverflow.com/questions/47191193/symbol-iterator-pass-argument/47191236#47191236", "title": "Symbol.Iterator - pass argument", "body": "<p>You can pass it in as an argument and then <code>bind</code> your <code>createGenerator</code> function. </p>\n\n<p>i.e.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function createGenerator(num) {\r\nvar _state = 0;\r\nreturn {\r\n    next() {\r\n        if (_state &lt; num) {\r\n            return { value: _state++ };\r\n        } else {\r\n            return { done: true };\r\n        }\r\n    }\r\n  }\r\n}\r\nvar iterable = {\r\n   [Symbol.iterator] : createGenerator.bind(this,10)\r\n};\r\nfor (var f of iterable) {\r\n   console.log(f)\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": false, "score": 2, "last_activity_date": 1510183985, "creation_date": 1510183985, "answer_id": 47191528, "question_id": 47191193, "link": "https://stackoverflow.com/questions/47191193/symbol-iterator-pass-argument/47191528#47191528", "title": "Symbol.Iterator - pass argument", "body": "<p>Use <a href=\"https://medium.com/javascript-inside/currying-partial-application-f1365d5fad3f\" rel=\"nofollow noreferrer\">partial application</a> - the outer function receives a number and returns the actual iterator that now has access to the number in the closure:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function createGenerator(n) {\r\n  return function() {\r\n    var _state = 0;\r\n    return {\r\n      next() {\r\n        if (_state &lt; n) {\r\n            return { value: _state++ };\r\n        } else {\r\n            return { done: true };\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\nvar iterable = {\r\n  [Symbol.iterator]: createGenerator(5)\r\n};\r\nfor (var f of iterable) {\r\n  console.log(f)\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1319, "user_id": 8380906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c278ef22827b8a19202340d9cafbd04?s=128&d=identicon&r=PG&f=1", "display_name": "KarlR", "link": "https://stackoverflow.com/users/8380906/karlr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 47191236, "answer_count": 2, "score": 0, "last_activity_date": 1510183985, "creation_date": 1510182147, "last_edit_date": 1510182619, "question_id": 47191193, "link": "https://stackoverflow.com/questions/47191193/symbol-iterator-pass-argument", "title": "Symbol.Iterator - pass argument", "body": "<p>I have a problem with JavaScript code. </p>\n\n<p>How Can I make that piece of code parameterized? I mean change 10 to variable which I can pass as an argument. </p>\n\n<pre><code>function createGenerator() {\nvar _state = 0;\nreturn {\n    next() {\n        if (_state &lt; 10) {\n            return { value: _state++ };\n        } else {\n            return { done: true };\n        }\n    }\n  }\n}\nvar iterable = {\n   [Symbol.iterator] : createGenerator\n};\nfor (var f of iterable) {\n   console.log(f)\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "css", "scroll"], "comments": [{"owner": {"reputation": 3923, "user_id": 4182029, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jyFLA.png?s=128&g=1", "display_name": "Rob Monhemius", "link": "https://stackoverflow.com/users/4182029/rob-monhemius"}, "edited": false, "score": 0, "creation_date": 1510183243, "post_id": 47191119, "comment_id": 81332183, "body": "It sounds like you want the function that scrolls your slider to be temporarily disabled after an user clicks it to look at the details. Maybe create a (boolean) variable  that prevents the functions that lets you scroll horizontally from running?"}], "owner": {"reputation": 1015, "user_id": 4368048, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-R20FkKXdjag/AAAAAAAAAAI/AAAAAAAAAE0/rlfhfiNHZ4E/photo.jpg?sz=128", "display_name": "Chang Liu", "link": "https://stackoverflow.com/users/4368048/chang-liu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1510181778, "creation_date": 1510181778, "question_id": 47191119, "link": "https://stackoverflow.com/questions/47191119/disable-horizontal-scrolling-on-an-overlay-but-maintain-scroll-position", "title": "Disable horizontal scrolling on an overlay but maintain scroll position", "body": "<p>I have an overlay menu that consists of a lot of vertical columns which overflow the window width. We navigate through this menu by horizontally scrolling.</p>\n\n<p>Clicking on one of these columns will bring up a \"detailed\" view, and centers the column to the window. In this view I want to lock the horizontal scrolling so the user can only just scroll down through the detailed view.</p>\n\n<p>However, the issue is that I want to maintain the <code>scrollLeft</code> position when I lock the scroll so the column remains centered on the page.</p>\n\n<p>I've tried a couple methods already:</p>\n\n<ol>\n<li><p>Setting <code>max-width: 100%; width: 100%; overflow: hidden</code> on <code>body</code>, <code>html</code>, etc.</p></li>\n<li><p>Setting the parent container to <code>overflow-x: hidden;</code> successfully locks the scroll but it resets the scroll position. And if I try a <code>translate</code> or <code>left</code> setting to readjust, the parts are cropped.</p></li>\n</ol>\n"}, {"tags": ["javascript", "node.js", "parse-platform", "parse-server"], "answers": [{"comments": [{"owner": {"reputation": 3859, "user_id": 1191072, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/768517ebc5e0277492cf54a891d5aafe?s=128&d=identicon&r=PG", "display_name": "Alessandro", "link": "https://stackoverflow.com/users/1191072/alessandro"}, "edited": false, "score": 0, "creation_date": 1510497435, "post_id": 47231315, "comment_id": 81450204, "body": "The thing is that when I host my backend on Heroku everything works just fine, it only gives that error when I run localhost, even if I modify the Parse server to use SSL. Can I manually declare headers when using the Javascript library?"}, {"owner": {"reputation": 86, "user_id": 6480630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zsNzT.png?s=128&g=1", "display_name": "montymxb", "link": "https://stackoverflow.com/users/6480630/montymxb"}, "reply_to_user": {"reputation": 3859, "user_id": 1191072, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/768517ebc5e0277492cf54a891d5aafe?s=128&d=identicon&r=PG", "display_name": "Alessandro", "link": "https://stackoverflow.com/users/1191072/alessandro"}, "edited": false, "score": 0, "creation_date": 1510637588, "post_id": 47231315, "comment_id": 81507396, "body": "Assuming the server you started in localhost doesn&#39;t have an issue you should be able to connect just fine. Using TLS/SSL is not the issue, plain HTTP works just fine. Double check your config matches (appId, js key) and verify your server is configured to use those keys. As for headers the sdk handles this internally when they are passed during init."}], "tags": [], "owner": {"reputation": 86, "user_id": 6480630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zsNzT.png?s=128&g=1", "display_name": "montymxb", "link": "https://stackoverflow.com/users/6480630/montymxb"}, "is_accepted": true, "score": 0, "last_activity_date": 1510348959, "creation_date": 1510348959, "answer_id": 47231315, "question_id": 47191109, "link": "https://stackoverflow.com/questions/47191109/connecting-to-parse-server-from-javascript-400-forbidden/47231315#47231315", "title": "Connecting to parse-server from Javascript - 400 Forbidden", "body": "<p>The 403 you're getting is the normal response for an unauthorized request. In this case, you would need to properly pass the headers necessary by your setup to authenticate via. A good example can be seen in the <a href=\"http://docs.parseplatform.org/rest/guide/#users\" rel=\"nofollow noreferrer\">docs rest guide</a>.</p>\n\n<pre><code># Signup a new user\ncurl -X POST \\\n  -H \"X-Parse-Application-Id: app-id-here\" \\\n  -H \"X-Parse-REST-API-Key: ${REST_API_KEY}\" \\\n  -H \"X-Parse-Revocable-Session: 1\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"username\":\"cooldude6\",\"password\":\"p_n7!-e8\",\"phone\":\"415-392-0202\"}' \\\n  http://localhost:1337/parse/users\n\n\n# Login as user\ncurl -X GET \\\n  -H \"X-Parse-Application-Id: app-id-here\" \\\n  -H \"X-Parse-REST-API-Key: ${REST_API_KEY}\" \\\n  -H \"X-Parse-Revocable-Session: 1\" \\\n  -G \\\n  --data-urlencode 'username=cooldude6' \\\n  --data-urlencode 'password=p_n7!-e8' \\\n  http://localhost:1337/parse/login\n</code></pre>\n\n<p>Notice the appId and restKey being passed in the headers, if these are correct (and if the server is setup to require a REST key) you would get a different <strong>400</strong> response.</p>\n\n<pre><code>{\"code\":200,\"error\":\"username/email is required.\"}\n</code></pre>\n\n<p>This was just pulled from the docs so I would recommend you get started there. Additionally we have some handy <a href=\"http://docs.parseplatform.org/js/guide/\" rel=\"nofollow noreferrer\">JS docs too</a>.</p>\n"}], "owner": {"reputation": 3859, "user_id": 1191072, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/768517ebc5e0277492cf54a891d5aafe?s=128&d=identicon&r=PG", "display_name": "Alessandro", "link": "https://stackoverflow.com/users/1191072/alessandro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 632, "favorite_count": 0, "accepted_answer_id": 47231315, "answer_count": 1, "score": 0, "last_activity_date": 1510348959, "creation_date": 1510181693, "last_edit_date": 1510219668, "question_id": 47191109, "link": "https://stackoverflow.com/questions/47191109/connecting-to-parse-server-from-javascript-400-forbidden", "title": "Connecting to parse-server from Javascript - 400 Forbidden", "body": "<p>I'm trying to run parse-server locally by doing \"npm start\". I know that the server is running at <a href=\"http://localhost:1337\" rel=\"nofollow noreferrer\">http://localhost:1337</a>, and when I enter this in the browser I get a valid response. However, when I try to connect to it using the Javascript API, I get this error: </p>\n\n<pre><code>POST http://localhost:1337/parse/login 403 (Forbidden)\n</code></pre>\n\n<p>It works if I host the backend on Heroku, which makes me think that the problem is that Parse in Javascript looks for an https link. This is how I load parse in Javascript:</p>\n\n<pre><code>var Parse = require('parse')\nParse.initialize('appID', 'javascriptKey')\nParse.serverURL = 'http://localhost:1337/parse'\n</code></pre>\n\n<p>Most of the solutions involve adding \"X-Parse-Application-Id\" and \"X-Parse-Master-Key\" headers to the browser request, but the request is made through the Javascript API.</p>\n\n<p>How can I work around this?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-cli"], "comments": [{"owner": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 0, "creation_date": 1510181852, "post_id": 47191031, "comment_id": 81331695, "body": "Not able to repro this, but I am using typescript 2.6.1. I can&#39;t imaging that would be the solution, though. My <code>@schematics&#47;angular</code> version in 0.1.0, too. I get maps. Good luck!"}, {"owner": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "reply_to_user": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 0, "creation_date": 1510183887, "post_id": 47191031, "comment_id": 81332388, "body": "@R.Richards: Thank you! Do you have <code>chunk {main} main.bundle.js, main.bundle.js.map</code> instead of just  <code>chunk {main} main.bundle.js</code>, right?"}, {"owner": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 0, "creation_date": 1510190075, "post_id": 47191031, "comment_id": 81334000, "body": "I use F12 in Chrome to open the dev tools. Go to Sources. Ctrl-P, then I can see any of my <i>.ts</i> files, and the tool status bar shows that the source is mapped from which ever file I choose."}, {"owner": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "reply_to_user": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 0, "creation_date": 1510243310, "post_id": 47191031, "comment_id": 81361522, "body": "@R.Richards: Sorry, I mean does <code>ng serve</code> prints <code>chunk {main} main.bundle.js, main.bundle.js.map</code> as it was in Angular 4 or just <code>chunk {main} main.bundle.js</code> (as it became after I upgraded to Angular 5)?"}, {"owner": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 0, "creation_date": 1510246115, "post_id": 47191031, "comment_id": 81363572, "body": "No. The map file listing in the <code>ng serve</code> output is no longer there. I guess I never noticed that until I just ran them side-by-side. I have not seen any adverse effects as a result."}, {"owner": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "reply_to_user": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 0, "creation_date": 1510251548, "post_id": 47191031, "comment_id": 81366901, "body": "@R.Richards: Ok, thank you for checking this! Something is definitely broken: though I&#39;ve managed to make mappings working for some time, after a bunch of changes in my project&#39;s TS files it stopped working again. Not sure even how to check what&#39;s wrong in Webpack."}], "owner": {"reputation": 10667, "user_id": 3345644, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5e4fa66a71e59fe32c2d602bdb5068b5?s=128&d=identicon&r=PG", "display_name": "Alexander Abakumov", "link": "https://stackoverflow.com/users/3345644/alexander-abakumov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 201, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510181320, "creation_date": 1510181320, "question_id": 47191031, "link": "https://stackoverflow.com/questions/47191031/angular-5-cli-1-5-0-map-files-are-not-generated", "title": "Angular 5 / CLI 1.5.0: .map files are not generated", "body": "<p>I installed Angular 5 / CLI 1.5.0:</p>\n\n<pre><code>Angular CLI: 1.5.0\nNode: 8.7.0\nOS: win32 x64\nAngular: 5.0.1\n... animations, common, compiler, compiler-cli, core, forms\n... http, language-service, platform-browser\n... platform-browser-dynamic, router\n\n@angular/cli: 1.5.0\n@angular-devkit/build-optimizer: 0.0.32\n@angular-devkit/core: 0.0.20\n@angular-devkit/schematics: 0.0.35\n@ngtools/json-schema: 1.1.0\n@ngtools/webpack: 1.8.0\n@schematics/angular: 0.1.2\ntypescript: 2.4.2\nwebpack: 3.8.1\n</code></pre>\n\n<p>I created a test project wint <code>ng new</code> and immediately run <code>ng serve</code>:</p>\n\n<pre><code>ng serve\n** NG Live Development Server is listening on localhost:4200, open your browser on http://localhost:4200/ **\nDate: 2017-11-08T22:24:20.928Z\nHash: 52facc1fd1cf476d4b1b\nTime: 8407ms\nchunk {inline} inline.bundle.js (inline) 5.79 kB [entry] [rendered]\nchunk {main} main.bundle.js (main) 20.5 kB [initial] [rendered]\nchunk {polyfills} polyfills.bundle.js (polyfills) 550 kB [initial] [rendered]\nchunk {styles} styles.bundle.js (styles) 33.6 kB [initial] [rendered]\nchunk {vendor} vendor.bundle.js (vendor) 7.02 MB [initial] [rendered]\n</code></pre>\n\n<p>For some reason it doesn't generate .map files to allow debugging in browser. With Angular 4 it was fine.</p>\n\n<p>How to fix that?</p>\n"}, {"tags": ["javascript", "jquery", "scroll", "jquery-animate", "scrolltop"], "comments": [{"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 2, "creation_date": 1510181478, "post_id": 47191020, "comment_id": 81331551, "body": "The scroll event runs far more times than once while you are scrolling. Adding/removing a class and animating with css would likely have better results rather than queuing up thousands of animations."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 1, "creation_date": 1510182066, "post_id": 47191020, "comment_id": 81331767, "body": "Any solution in regards to handling the scroll event should use some form of a throttle/debounce so that the scroll event is not processed repeatedly for one (from the user&#39;s perspective) scroll action.  It&#39;s also advised to move selectors outside of the scroll event handler, such as <code>$(&quot;#forumHeader&quot;)</code>, and cached so a variable reference to the element can be used rather than performed every time, to increase performance."}, {"owner": {"reputation": 1518, "user_id": 8719915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d00ca6fe7c9a0255388c312097749e9?s=128&d=identicon&r=PG", "display_name": "Jim-miraidev", "link": "https://stackoverflow.com/users/8719915/jim-miraidev"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1510182520, "post_id": 47191020, "comment_id": 81331921, "body": "@Taplar that didn&#39;t even cross my mind, thanks. I have updated the code below."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 1, "creation_date": 1510182750, "post_id": 47191020, "comment_id": 81332008, "body": "Quick example using a debounce.  <a href=\"https://jsfiddle.net/6bp0mzap/\" rel=\"nofollow noreferrer\">jsfiddle.net/6bp0mzap</a>"}, {"owner": {"reputation": 1518, "user_id": 8719915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d00ca6fe7c9a0255388c312097749e9?s=128&d=identicon&r=PG", "display_name": "Jim-miraidev", "link": "https://stackoverflow.com/users/8719915/jim-miraidev"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1510183162, "post_id": 47191020, "comment_id": 81332150, "body": "@Taplar that&#39;s awesome! thanks for enlightening me :)"}], "answers": [{"comments": [{"owner": {"reputation": 1518, "user_id": 8719915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d00ca6fe7c9a0255388c312097749e9?s=128&d=identicon&r=PG", "display_name": "Jim-miraidev", "link": "https://stackoverflow.com/users/8719915/jim-miraidev"}, "edited": false, "score": 0, "creation_date": 1510182204, "post_id": 47191143, "comment_id": 81331817, "body": "I get that this fires the function a lot, but I&#39;ve used similar solutions on sites and not noticed any performance issues. If you have any other suggestion on how to improve this type of scroll function that would be very much appreciated :)"}, {"owner": {"reputation": 13, "user_id": 5304497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/474f47f6d98e998f14422c2d833d2249?s=128&d=identicon&r=PG&f=1", "display_name": "Galaniitoluodda", "link": "https://stackoverflow.com/users/5304497/galaniitoluodda"}, "edited": false, "score": 0, "creation_date": 1510182251, "post_id": 47191143, "comment_id": 81331838, "body": "That seems to work as I want it to and I also realise that it&#39;s an more effective method. Thank you for your time! :)"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1510182811, "post_id": 47191143, "comment_id": 81332024, "body": "@Jim-miraidev quick example thrown together using a form of a debounce.  <a href=\"https://jsfiddle.net/6bp0mzap/\" rel=\"nofollow noreferrer\">jsfiddle.net/6bp0mzap</a>"}], "tags": [], "owner": {"reputation": 1518, "user_id": 8719915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d00ca6fe7c9a0255388c312097749e9?s=128&d=identicon&r=PG", "display_name": "Jim-miraidev", "link": "https://stackoverflow.com/users/8719915/jim-miraidev"}, "is_accepted": true, "score": 0, "last_activity_date": 1510182421, "last_edit_date": 1510182421, "creation_date": 1510181881, "answer_id": 47191143, "question_id": 47191020, "link": "https://stackoverflow.com/questions/47191020/jquery-animate-runs-correctly-only-once-then-starts-behaving-strangely/47191143#47191143", "title": "jQuery animate runs correctly only once, then starts behaving strangely", "body": "<p>I would use use the jQuery to add and remove a class, then use a CSS transition</p>\n\n<pre><code>$(document).ready(function(){\n\n     // EDIT - Move the selector outside of the scroll event as suggested\n     var header = $(\"#forumHeader\");\n\n     $(window).scroll(function(){\n\n        if($(window).scrollTop() &gt; 0) {\n            header.addClass('slide');\n        } else {\n            header.removeClass('slide');\n        }\n    });\n});\n</code></pre>\n\n<pre class=\"lang-css prettyprint-override\"><code>#forumHeader{\n    top: 60px;\n    -webkit-transition: top 500ms ease-out ;\n    -moz-transition: top 500ms ease-out ;\n    -o-transition: top 500ms ease-out ;\n    transition: top 500ms ease-out ;\n}\n#forumHeader.slide{\n    top: 250px;\n}\n#content\n{\nheight: 1000px;\nbackground-color: gray;\n}\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;div id=\"forumHeader\"&gt;Forum Header&lt;/div&gt;\n&lt;div id=\"content\"&gt;Some content here&lt;/div&gt;\n</code></pre>\n\n\n\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 13, "user_id": 5304497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/474f47f6d98e998f14422c2d833d2249?s=128&d=identicon&r=PG&f=1", "display_name": "Galaniitoluodda", "link": "https://stackoverflow.com/users/5304497/galaniitoluodda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 47191143, "answer_count": 1, "score": -2, "last_activity_date": 1510182421, "creation_date": 1510181265, "question_id": 47191020, "link": "https://stackoverflow.com/questions/47191020/jquery-animate-runs-correctly-only-once-then-starts-behaving-strangely", "title": "jQuery animate runs correctly only once, then starts behaving strangely", "body": "<p>I have the following JavaScript/jQuery code. I can't see any problem with it but it's not working correctly.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function(){\r\n    $(window).scroll(function(){\r\n        if($(window).scrollTop() &gt; 0) {\r\n            $(\"#forumHeader\").animate({top: '250px'});\r\n        }\r\n        else\r\n        {\r\n            $(\"#forumHeader\").animate({top: '60px'});\r\n        }\r\n    });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#forumHeader\r\n{\r\n    position: absolute;\r\n    top: 60px;\r\n    left: 0%;\r\n    height: 100px;\r\n    width: 200px;\r\n    color: white;\r\n    background-color: red;\r\n}\r\n\r\n#content\r\n{\r\n    height: 1000px;\r\n    background-color: gray;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"forumHeader\"&gt;Forum Header&lt;/div&gt;\r\n&lt;div id=\"content\"&gt;Some content here&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The first time I scroll down it is working as it should and animating #forumHeader top: 250px. But when I scroll back up again, it may take multiple seconds before it animates back to top: 60px. Sometimes it is changing back and forth, sometimes it may not do anything. What is the problem? Please help ..</p>\n"}, {"tags": ["javascript", "css", "d3.js"], "comments": [{"owner": {"reputation": 30153, "user_id": 7106086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V7fFc.png?s=128&g=1", "display_name": "Andrew Reid", "link": "https://stackoverflow.com/users/7106086/andrew-reid"}, "edited": false, "score": 1, "creation_date": 1510181350, "post_id": 47190955, "comment_id": 81331484, "body": "What attribute(s) are you transitioning? Currently the code is set up so that nothing transitions - the code chained to d3.transition() needs to specify what happens, currently only a delay and transition period are specified. What attributes do you want to transition?"}, {"owner": {"reputation": 90540, "user_id": 5768908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf0PS.jpg?s=128&g=1", "display_name": "Gerardo Furtado", "link": "https://stackoverflow.com/users/5768908/gerardo-furtado"}, "edited": false, "score": 0, "creation_date": 1510191454, "post_id": 47190955, "comment_id": 81334313, "body": "You are transitioning to <b>nothing</b>."}, {"owner": {"reputation": 45, "user_id": 8239543, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8ce5b153581abc585e9a89d8c7780a91?s=128&d=identicon&r=PG&f=1", "display_name": "benpaul", "link": "https://stackoverflow.com/users/8239543/benpaul"}, "edited": false, "score": 0, "creation_date": 1510277863, "post_id": 47190955, "comment_id": 81378304, "body": "I want the graph to ease in when it loads. Im not really sure how to specify what I&#39;m transitioning to."}], "owner": {"reputation": 45, "user_id": 8239543, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8ce5b153581abc585e9a89d8c7780a91?s=128&d=identicon&r=PG&f=1", "display_name": "benpaul", "link": "https://stackoverflow.com/users/8239543/benpaul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 270, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510211296, "creation_date": 1510180933, "question_id": 47190955, "link": "https://stackoverflow.com/questions/47190955/d3-transition-not-working-at-all", "title": "D3 transition not working...at all", "body": "<p>Im new to d3 and having a problem with transitions. I have a dendrogram graph that. This bit of code applies the paths to the nodes. </p>\n\n<pre><code>var link = g.selectAll(\".link\")\n    .data(root.descendants().slice(1))\n    .enter().append(\"path\")\n      .attr(\"class\", \"link\")\n      .attr(\"d\", function(d) {\n        return \"M\" + radialPoint(d.x, d.y)\n            + \"C\" + radialPoint(d.x, (d.y + d.parent.y) / 2)\n            + \" \" + radialPoint(d.parent.x, (d.y + d.parent.y) / 2)\n            + \" \" + radialPoint(d.parent.x, d.parent.y);\n      })\n      .transition(t);\n</code></pre>\n\n<p>This bit is a function that applies the transition attributes.</p>\n\n<pre><code>  var t = d3.transition()\n    .delay(1000)\n    .duration(1000);\n</code></pre>\n\n<p>Not sure where i'm going wrong with applying the transition but nothing happens when the paths are populated. No transitional effect at all. </p>\n\n<p>If you can spot the issue I would be grateful for the help. Thanks!</p>\n"}, {"tags": ["javascript", "menu", "electron", "ipc"], "comments": [{"owner": {"reputation": 4240, "user_id": 2550156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AdYzH.png?s=128&g=1", "display_name": "pergy", "link": "https://stackoverflow.com/users/2550156/pergy"}, "edited": false, "score": 1, "creation_date": 1510221022, "post_id": 47190951, "comment_id": 81345768, "body": "what do you want to do with <code>ipc</code> there? your menu.js and main.js are both running in main process. and  <i>&quot;if I already have a const declared as ipc globally then shouldn&#39;t JS look scopes above and find ipc?&quot;</i> <b>No</b>. It should not."}, {"owner": {"reputation": 49, "user_id": 5538521, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a7ec6df91271ca3153b5d0f20c15b3c7?s=128&d=identicon&r=PG&f=1", "display_name": "Lifeislifebutwhatiswhat", "link": "https://stackoverflow.com/users/5538521/lifeislifebutwhatiswhat"}, "reply_to_user": {"reputation": 4240, "user_id": 2550156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AdYzH.png?s=128&g=1", "display_name": "pergy", "link": "https://stackoverflow.com/users/2550156/pergy"}, "edited": false, "score": 0, "creation_date": 1510339515, "post_id": 47190951, "comment_id": 81408990, "body": "Oh right, because it&#39;s the same process, somehow i forgot that menu.js isn&#39;t part of the rendering process lol. Although I tried the method suggest below, but its giving me an error in syntax on import {BrowserWindow} from &#39;electron;  I just want to use the menu click to open a new browser window."}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 5538521, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a7ec6df91271ca3153b5d0f20c15b3c7?s=128&d=identicon&r=PG&f=1", "display_name": "Lifeislifebutwhatiswhat", "link": "https://stackoverflow.com/users/5538521/lifeislifebutwhatiswhat"}, "edited": false, "score": 0, "creation_date": 1510338762, "post_id": 47210613, "comment_id": 81408597, "body": "Um so it gives me an error: uncaught exception menu.js:1 (function(exports,require,module,_filename,_dirname,process,&zwnj;&#8203;global,Buffer){ return function(exports,require,module,_filename,_dirname) { import { BrowserWindow } from &#39;electron&#39;;   SyntaxError: Unexpected token import"}, {"owner": {"reputation": 1623, "user_id": 4104766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67eab5c2a866acc6b12c9b1095c7d4ff?s=128&d=identicon&r=PG&f=1", "display_name": "kemotoe", "link": "https://stackoverflow.com/users/4104766/kemotoe"}, "reply_to_user": {"reputation": 49, "user_id": 5538521, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a7ec6df91271ca3153b5d0f20c15b3c7?s=128&d=identicon&r=PG&f=1", "display_name": "Lifeislifebutwhatiswhat", "link": "https://stackoverflow.com/users/5538521/lifeislifebutwhatiswhat"}, "edited": false, "score": 0, "creation_date": 1510341776, "post_id": 47210613, "comment_id": 81410077, "body": "@Lifeislifebutwhatiswhat Sorry I was using es6 import syntax. I edited it."}], "tags": [], "owner": {"reputation": 1623, "user_id": 4104766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67eab5c2a866acc6b12c9b1095c7d4ff?s=128&d=identicon&r=PG&f=1", "display_name": "kemotoe", "link": "https://stackoverflow.com/users/4104766/kemotoe"}, "is_accepted": false, "score": 0, "last_activity_date": 1510361453, "last_edit_date": 1510361453, "creation_date": 1510257880, "answer_id": 47210613, "question_id": 47190951, "link": "https://stackoverflow.com/questions/47190951/electron-menu-keeps-saying-that-ipc-is-not-defined-when-clicked-even-when-the-ip/47210613#47210613", "title": "Electron menu keeps saying that ipc is not defined when clicked even when the ipc is assigned globally in main", "body": "<p>You don't need <code>ipc</code> in the menu.js for this. It's already running the same process. I would suggest using <code>webcontents</code> instead. </p>\n\n<p>In your <code>menu.js</code> import BrowserWindow and change the <code>click</code> function under <code>Database</code></p>\n\n<pre><code>const { BrowserWindow } = require('electron');\n\nlabel: 'Database',\nclick: () =&gt; {\n  const focusedWindow = BrowserWindow.getFocusedWindow();\n  focusedWindow.webContents.send('open-database');\n}\n</code></pre>\n\n<p>Then in your <code>main.js</code> add a listener for the <code>database</code> message and open a new <code>BrowserWindow</code></p>\n\n<pre><code>ipcMain.on('open-database', () =&gt; {\n  // open new BrowserWindow\n\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4240, "user_id": 2550156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AdYzH.png?s=128&g=1", "display_name": "pergy", "link": "https://stackoverflow.com/users/2550156/pergy"}, "is_accepted": false, "score": 0, "last_activity_date": 1510650705, "last_edit_date": 1510650705, "creation_date": 1510650090, "answer_id": 47281491, "question_id": 47190951, "link": "https://stackoverflow.com/questions/47190951/electron-menu-keeps-saying-that-ipc-is-not-defined-when-clicked-even-when-the-ip/47281491#47281491", "title": "Electron menu keeps saying that ipc is not defined when clicked even when the ipc is assigned globally in main", "body": "<p>Since <code>Menu</code> is a main process class, you don't have to use ipc communication for doing things like opening a new <code>BrowserWindow</code> (what you apparently want).</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const {BrowserWindow} = require('electron')\n\nmodule.exports = [\n  {\n    label: 'Database',\n    click (menuItem, browserWindow, event) {\n      let win = new BrowserWindow()\n      win.loadURL('https://electron.atom.io/docs/api/menu-item/')\n    }\n  }\n]\n</code></pre>\n\n<p>should be enough in your template for this.</p>\n\n<p>Note that if you plan to communicate with your window's renderer process, <code>click</code> callback comes with <code>browserWindow</code> argument giving you access to the window containing the menu item (see <code>click</code> property of <a href=\"https://electron.atom.io/docs/api/menu-item/#new-menuitemoptions\" rel=\"nofollow noreferrer\"><code>MenuItem</code></a> in documentation). You can then <code>executeJavascript</code> or <code>send</code> ipc message to renderer process using this argument.</p>\n\n<p><em>Also note, that despite the fact that <code>BrowserWindow</code> (or <code>ipc</code> or whatever) is already defined in an other file which requires this template, you have to define it again. Require/import/include chains doesn't work in two direction</em></p>\n"}], "owner": {"reputation": 49, "user_id": 5538521, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a7ec6df91271ca3153b5d0f20c15b3c7?s=128&d=identicon&r=PG&f=1", "display_name": "Lifeislifebutwhatiswhat", "link": "https://stackoverflow.com/users/5538521/lifeislifebutwhatiswhat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1526, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1510651059, "creation_date": 1510180886, "last_edit_date": 1510651059, "question_id": 47190951, "link": "https://stackoverflow.com/questions/47190951/electron-menu-keeps-saying-that-ipc-is-not-defined-when-clicked-even-when-the-ip", "title": "Electron menu keeps saying that ipc is not defined when clicked even when the ipc is assigned globally in main", "body": "<p>in my menu.js under \"label:'Database'\", the click event returns an error: ipc is not defined. I thought that if this is part of the main.js files and that if I already have a const declared as ipc globally then shouldn't JS look scopes above and find ipc?</p>\n\n<p>main.js:\n</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const electron = require('electron'),\n{app, Menu} = require('electron'),      \nWindow = electron.BrowserWindow,      \npath = require('path'),   \nurl = require('url'),      \nipc = require('electron').ipcMain,   // COMMUNICATIONS MODULE BETWEEN MAIN/RENDERER      \ntemplate = require('./menu.js');      \n\n// let mainWindow\napp.on('ready', () =&gt; {    \n  // LOADS THE DEFAULT WINDOW\n  let first_Window = new Window({width:800, height:600, frame:false}) \n  first_Window.loadURL(url.format({\n    pathname: path.join(__dirname, 'index.html'),\n    protocol: 'file:'\n  }))    \n  const menu = Menu.buildFromTemplate(template)\n  Menu.setApplicationMenu(menu)       \n})\n</code></pre>\n\n<p>Menu.js:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>module.exports = [ \n  {\n    label: 'stuff',\n    submenu: [\n      {role: 'undo'},\n      {role: 'redo'},\n      {type: 'separator'},\n      {role: 'cut'},\n      {role: 'copy'},\n      {role: 'paste'},\n      {role: 'pasteandmatchstyle'},\n      {role: 'delete'},\n      {role: 'selectall'}\n    ]\n  },\n  {\n    label: 'Database',\n    click() {\n       ipc.send('open_database', '')\n    }\n  },\n  {\n    label: 'View',\n    submenu: [\n      {role: 'reload'},\n      {role: 'forcereload'},\n      {role: 'toggledevtools'},\n      {type: 'separator'},\n      {role: 'resetzoom'},\n      {role: 'zoomin'},\n      {role: 'zoomout'},\n      {type: 'separator'},\n      {role: 'togglefullscreen'}\n    ]\n  },\n  {\n    role: 'window',\n    submenu: [\n      {role: 'minimize'},\n      {role: 'close'}\n    ]\n  },\n  {\n    role: 'help',\n    submenu: [\n      {\n        label: 'Learn More',\n        click () { require('electron').shell.openExternal('https://electron.atom.io') }\n      }\n    ]\n  }\n]\n</code></pre>\n\n<p>Note: My menu shows up just fine. The error only occurs if I click on database.</p>\n"}, {"tags": ["javascript", "reactjs", "menu", "state"], "answers": [{"tags": [], "owner": {"reputation": 1209, "user_id": 6938822, "user_type": "registered", "profile_image": "https://graph.facebook.com/10105418757997339/picture?type=large", "display_name": "Max", "link": "https://stackoverflow.com/users/6938822/max"}, "is_accepted": false, "score": 1, "last_activity_date": 1510183045, "creation_date": 1510183045, "answer_id": 47191356, "question_id": 47190934, "link": "https://stackoverflow.com/questions/47190934/lock-prevent-close-of-menu-reactjs/47191356#47191356", "title": "lock/prevent close of menu reactjs", "body": "<p>You can change your <code>handlePageClick</code> method to setState only when <code>this.state.menuLocked</code> is false.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  handlePageClick = () =&gt; {\r\n    if (!this.state.menuLocked) {\r\n      this.setState({\r\n        menuOpen: false,\r\n      });\r\n    }\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 499, "user_id": 5553368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/1238bdb437e73ac753cde9510f17c970?s=128&d=identicon&r=PG&f=1", "display_name": "StuffedPoblano", "link": "https://stackoverflow.com/users/5553368/stuffedpoblano"}, "edited": false, "score": 0, "creation_date": 1510237757, "post_id": 47191372, "comment_id": 81357291, "body": "Thanks, that did it!"}], "tags": [], "owner": {"reputation": 120, "user_id": 4237910, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EYsNgdvQmqE/AAAAAAAAAAI/AAAAAAAAAGQ/6bjfRklLDI4/photo.jpg?sz=128", "display_name": "Steve Hawkins", "link": "https://stackoverflow.com/users/4237910/steve-hawkins"}, "is_accepted": true, "score": 1, "last_activity_date": 1510183122, "creation_date": 1510183122, "answer_id": 47191372, "question_id": 47190934, "link": "https://stackoverflow.com/questions/47190934/lock-prevent-close-of-menu-reactjs/47191372#47191372", "title": "lock/prevent close of menu reactjs", "body": "<p>Inside of <code>handlePageClick()</code> you should do a check to see if <code>this.state.menuLocked</code> is true. If so, don't change the value of <code>menuOpen</code> in state.</p>\n\n<pre><code>handlePageClick = () =&gt; {\n  if (!this.state.menuLocked) {\n    this.setState({\n      menuOpen: false,\n    });\n  }\n}\n</code></pre>\n\n<p>As a side note, in <code>handleMenuLock()</code> you are using the previous value of <code>menuLocked</code> to set the new value. Since <code>setState</code> is asynchronous, it's entirely possible that the value of <code>menuLocked</code> has changed by the time it actually saves and so you may not get the desired result. As such, you should pass it a function like this:</p>\n\n<pre><code>handleMenuLock = () =&gt; {\n  this.setState((prevState) =&gt; ({ menuLocked: !prevState.menuLocked }))\n}\n</code></pre>\n\n<p>This ensures that the value is actually toggled. Docs on using <code>setState</code> in this manner can be found <a href=\"https://reactjs.org/docs/react-component.html#setstate\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 499, "user_id": 5553368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/1238bdb437e73ac753cde9510f17c970?s=128&d=identicon&r=PG&f=1", "display_name": "StuffedPoblano", "link": "https://stackoverflow.com/users/5553368/stuffedpoblano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 47191372, "answer_count": 2, "score": 0, "last_activity_date": 1510183122, "creation_date": 1510180804, "question_id": 47190934, "link": "https://stackoverflow.com/questions/47190934/lock-prevent-close-of-menu-reactjs", "title": "lock/prevent close of menu reactjs", "body": "<p>I have a side menu that opens when an icon is clicked and closes when the either the page is clicked or an item on the menu is clicked. I am trying to implement a lock so when the lock icon is clicked, the menu will not close even if you click on a menu item or on the page. </p>\n\n<p>I was able to setup the icon changing from a locked one to an unlocked one but I am having trouble with the functionality of stopping the close. Any help/suggestions would be awesome. Below are the 2 components that (the parent and the menu with the lock button) here is the code sandbox for a full look: <a href=\"https://codesandbox.io/s/pw6q46jp20\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/pw6q46jp20</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class SideBar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      category: props.category,\r\n      currentPage: {\r\n        backgroundColor: '#383838',\r\n        color: '#A9A9A9',\r\n      },\r\n      menuLocked: false,\r\n      menuOpen: false,\r\n      selectedIcon: null,\r\n    };\r\n  }\r\n  handleIconClick = (category) =&gt; {\r\n    this.setState({\r\n      category,\r\n      menuOpen: true,\r\n      selectedIcon: category,\r\n    });\r\n  };\r\n  handleMenuItemClick = (category) =&gt; {\r\n    this.setState({\r\n      menuOpen: false,\r\n      selectedIcon: '',\r\n      currentPage: category,\r\n    });\r\n  }\r\n  handlePageClick = () =&gt; {\r\n    this.setState({\r\n      menuOpen: false,\r\n    });\r\n  }\r\n  handleMenuLock = () =&gt; {\r\n    this.setState({ menuLocked: !this.state.menuLocked });\r\n  }\r\n  render() {\r\n    return (\r\n      &lt;div&gt;\r\n        &lt;TopBar {...this.props} /&gt;\r\n        &lt;Container&gt;\r\n          &lt;SideNav&gt;\r\n            &lt;ListWrapper&gt;\r\n              &lt;IconList\r\n                currentPage={this.state.currentPage}\r\n                openMenu={this.handleIconClick}\r\n                selectedIcon={this.state.selectedIcon}\r\n                visible={this.state.menuOpen}\r\n              /&gt;\r\n            &lt;/ListWrapper&gt;\r\n          &lt;/SideNav&gt;\r\n          &lt;PageContentWrapper&gt;\r\n            &lt;Sidebar.Pushable&gt;\r\n              &lt;PushMenu\r\n                category={this.state.category}\r\n                closeOnItemClick={this.handleMenuItemClick}\r\n                handleMenuLock={this.handleMenuLock}\r\n                menuLocked={this.state.menuLocked}\r\n                params={this.props.params}\r\n                visible={this.state.menuOpen}\r\n              /&gt;\r\n              &lt;Sidebar.Pusher\r\n                onClick={this.handlePageClick}&gt;\r\n                &lt;Segment basic&gt;\r\n                  {this.props.children || &lt;Home /&gt;}\r\n                &lt;/Segment&gt;\r\n              &lt;/Sidebar.Pusher&gt;\r\n            &lt;/Sidebar.Pushable&gt;\r\n          &lt;/PageContentWrapper&gt;\r\n        &lt;/Container&gt;\r\n      &lt;/div&gt;\r\n    );\r\n  }\r\n}\r\n\r\nSideBar.propTypes = {\r\n  children: PropTypes.any,\r\n  params: PropTypes.any,\r\n  category: PropTypes.any,\r\n};\r\n\r\nexport default SideBar;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class PushMenu extends React.Component {\r\n  render() {\r\n    const category = sideNavData.lookupCategory(this.props.category);\r\n    const menuLockButton = !this.props.menuLocked\r\n      ? &lt;Icon\r\n        link={true}\r\n        name='unlock'\r\n        size='big'\r\n      /&gt;\r\n      : &lt;Icon\r\n        link={true}\r\n        name='lock'\r\n        size='big'\r\n      /&gt;;\r\n    return (\r\n      &lt;Sidebar\r\n        className='Push-menu'\r\n        animation='push'\r\n        width='thin'\r\n        visible={this.props.visible}\r\n      &gt;\r\n        &lt;Header&gt;{this.props.category}&lt;/Header&gt;\r\n        &lt;Linebreak /&gt;\r\n        {\r\n          Object.keys(category).map((subCategory, index) =&gt; {\r\n            return (\r\n              &lt;div key={index}&gt;\r\n                &lt;SubcategoryHeader&gt;{subCategory}&lt;/SubcategoryHeader&gt;\r\n                &lt;List&gt;\r\n                  {\r\n                    Object.keys(category[subCategory]).map((item, index) =&gt; (\r\n                      &lt;li key={index}&gt;\r\n                        &lt;ListLink&gt;\r\n                          &lt;Link\r\n                            to={`/${this.props.category}/${subCategory}/${category[subCategory][item].name}`}\r\n                            activeStyle={{ color: '#FFFFFF' }}\r\n                            onClick={() =&gt; {\r\n                              this.props.closeOnItemClick(this.props.category);\r\n                            }}\r\n                          &gt;\r\n                            {category[subCategory][item].name}\r\n                          &lt;/Link&gt;\r\n                        &lt;/ListLink&gt;\r\n                      &lt;/li&gt;\r\n                    ))\r\n                  }\r\n                &lt;/List&gt;\r\n                &lt;LockButtonWrapper onClick={this.props.handleMenuLock}&gt;\r\n                  {menuLockButton}\r\n                &lt;/LockButtonWrapper&gt;\r\n              &lt;/div&gt;\r\n            );\r\n          })\r\n        }\r\n      &lt;/Sidebar&gt;\r\n    );\r\n  }\r\n}\r\n\r\nPushMenu.propTypes = {\r\n  category: PropTypes.any,\r\n  closeOnItemClick: PropTypes.func,\r\n  currentPage: PropTypes.func,\r\n  handleMenuLock: PropTypes.func,\r\n  menuLocked: PropTypes.bool,\r\n  visible: PropTypes.bool,\r\n};\r\n\r\nexport default PushMenu;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "scripting", "google-sheets", "google-drive-api"], "comments": [{"owner": {"reputation": 1969, "user_id": 5651536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e841ed95d19835d55d481e2678655df1?s=128&d=identicon&r=PG&f=1", "display_name": "John Ellmore", "link": "https://stackoverflow.com/users/5651536/john-ellmore"}, "edited": false, "score": 0, "creation_date": 1510180813, "post_id": 47190899, "comment_id": 81331273, "body": "Google Apps Script can definitely access and parse the files in a user&#39;s Drive. But that may not necessarily be easy or straightforward. Looks like the Drive Service API (<a href=\"https://developers.google.com/apps-script/reference/drive/\" rel=\"nofollow noreferrer\">developers.google.com/apps-script/reference/drive</a>) may be what you want."}, {"owner": {"reputation": 11, "user_id": 8910015, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102041835723574/picture?type=large", "display_name": "Jody Lane", "link": "https://stackoverflow.com/users/8910015/jody-lane"}, "reply_to_user": {"reputation": 1969, "user_id": 5651536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e841ed95d19835d55d481e2678655df1?s=128&d=identicon&r=PG&f=1", "display_name": "John Ellmore", "link": "https://stackoverflow.com/users/5651536/john-ellmore"}, "edited": false, "score": 0, "creation_date": 1510183149, "post_id": 47190899, "comment_id": 81332145, "body": "Thanks for the link. I&#39;ve been working through the documentation and I haven&#39;t found anything yet, but I&#39;ll keep digging through it. I&#39;m definitely a novice at this, but I have created a few working scripts before."}], "answers": [{"comments": [{"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "edited": false, "score": 0, "creation_date": 1510873071, "post_id": 47191487, "comment_id": 81633383, "body": "@Jody Lane Did my answer work? Would you please tell me about it? That is also useful for me to study. If this works, other people who have the same problem with you can also base your question as a question which can be solved."}], "tags": [], "owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "is_accepted": false, "score": 0, "last_activity_date": 1510183781, "creation_date": 1510183781, "answer_id": 47191487, "question_id": 47190899, "link": "https://stackoverflow.com/questions/47190899/parsing-html-files-from-google-drive-not-from-a-webpage-using-google-script/47191487#47191487", "title": "Parsing HTML files from Google Drive (not from a webpage) using Google Script", "body": "<p>How about this method? Using DriveApp, You can retrieve data from HTML file on Google Drive. I think that there are 2 patterns for retrieving data from HTML file. For this sample, a following HTML is used as a sample HTML.</p>\n\n<h3>Sample HTML :</h3>\n\n<p>This sample HTML is put on Google Drive.</p>\n\n<pre><code>&lt;html&gt;\n  &lt;body&gt;\n    &lt;a href=\"https://www.google.com/\"&gt;Google&lt;/a&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<h3>Pattern 1 :</h3>\n\n<p>If XmlService can be used for your HTML file, you can use this script.</p>\n\n<pre><code>var fileId = \"### file ID of HTML ###\";\nvar html = DriveApp.getFileById(fileId).getBlob().getDataAsString(); // Retrieve data from HTML file as string.\n\nvar data = XmlService.parse(html).getRootElement().getChild('body');\nvar url = data.getChild('a').getAttribute(\"href\").getValue();\nvar value = data.getChild('a').getValue();\nLogger.log(\"URL: %s, Value: %s\", url, value);\n</code></pre>\n\n<h3>Pattern 2 :</h3>\n\n<p>If XmlService cannot be used for your HTML file, you can retrieve data using a library \"Parser\". The sample script is as follows.</p>\n\n<pre><code>var fileId = \"### file ID of HTML ###\";\nvar html = DriveApp.getFileById(fileId).getBlob().getDataAsString(); // Retrieve data from HTML file as string.\n\nvar url = Parser.data(html).from('&lt;a href=\"').to('\"&gt;').build();\nvar value = Parser.data(html).from('&lt;a href=\"'+ url + '\"&gt;').to('&lt;/a&gt;').build();\nLogger.log(\"URL: %s, Value: %s\", url, value);\n</code></pre>\n\n<p>Both results are <code>URL: https://www.google.com/, Value: Google</code>.</p>\n\n<h3>References :</h3>\n\n<ul>\n<li><a href=\"https://developers.google.com/apps-script/reference/drive/drive-app\" rel=\"nofollow noreferrer\">DriveApp</a></li>\n<li><a href=\"https://developers.google.com/apps-script/reference/xml-service/xml-service\" rel=\"nofollow noreferrer\">XmlService</a></li>\n<li><a href=\"http://www.kutil.org/2016/01/easy-data-scrapping-with-google-apps.html\" rel=\"nofollow noreferrer\">About a library \"Parser\"</a></li>\n</ul>\n\n<p>If I misunderstand your question, I'm sorry.</p>\n"}], "owner": {"reputation": 11, "user_id": 8910015, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102041835723574/picture?type=large", "display_name": "Jody Lane", "link": "https://stackoverflow.com/users/8910015/jody-lane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 668, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1510183781, "creation_date": 1510180631, "question_id": 47190899, "link": "https://stackoverflow.com/questions/47190899/parsing-html-files-from-google-drive-not-from-a-webpage-using-google-script", "title": "Parsing HTML files from Google Drive (not from a webpage) using Google Script", "body": "<p>I am storing all of my wife's recipes in Paprika. One of the things I want to be able to do is export the entire database of recipes into a spreadsheet. Paprika only exports two formats: One is it's own proprietary <em>.paprika</em> format that is not human readable. The other is as a series of <em>.html</em> files. The HTML files contain hrecipe metadata, so I am hopeful that I can leverage that to pull out the necessary information.</p>\n\n<p>I thought the best way to traverse the set of files and pull out all of the information I needed would be to put them into a Google Drive folder and use Google Sheets and Scripts to extract the necessary information. </p>\n\n<p>So my question is: Is it possible to extract the necessary information from the recipe HTML files using Google Script? Google Script has an HTML parser that can look at an existing web page and pull down information from it, but I can't seem to make it work with an actual HTML file instead of a published web page.</p>\n\n<p>Any suggestions or help would be appreciated. </p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 1594, "user_id": 1049833, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8fc4322844d5d660cce31637cbbae9c6?s=128&d=identicon&r=PG", "display_name": "tyteen4a03", "link": "https://stackoverflow.com/users/1049833/tyteen4a03"}, "edited": false, "score": 0, "creation_date": 1510180769, "post_id": 47190894, "comment_id": 81331253, "body": "Alternatively, put a <code>.hidden</code> class with your <code>&lt;div&gt;</code>s, and remove/add this class when <code>.solutionLink</code> is clicked."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1510180835, "post_id": 47190894, "comment_id": 81331278, "body": "Why without jQuery?  jQuery exists to make your life so much easier."}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1510180921, "post_id": 47190894, "comment_id": 81331309, "body": "there&#39;s gotta be a duplicate for cases of <code>getElementsByClassName(&#39;classname&#39;).propertythatonlyexistson&zwnj;&#8203;singleelements</code>"}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1510180941, "post_id": 47190894, "comment_id": 81331316, "body": "plus, <code>getElementsByClassName</code> wants a classname, not a selector."}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1510181012, "post_id": 47190894, "comment_id": 81331343, "body": "there&#39;s a reason <code>getElementsByClassName</code> is named <code>getElementsByClassName</code> rather than <code>getElementByClassName</code>"}, {"owner": {"reputation": 1102, "user_id": 4208719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cd078e79ba74af02fe5692190dbc73d3?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro ", "link": "https://stackoverflow.com/users/4208719/pedro"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1510181387, "post_id": 47190894, "comment_id": 81331507, "body": "@ErikPhilips I was reading that is a good idea to learn vanilla javascript, and here I&#39;m trying."}, {"owner": {"reputation": 1728, "user_id": 8331815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14851208419c4973d3a75f344780abf?s=128&d=identicon&r=PG&f=1", "display_name": "SourceOverflow", "link": "https://stackoverflow.com/users/8331815/sourceoverflow"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1510182153, "post_id": 47190894, "comment_id": 81331805, "body": "@ErikPhilips Because you don&#39;t have to bloat up your code unnecessarily. For small pieces of js it is a really unnecessary dependency. And once you know vanilla js a bit better, jQuery doesn&#39;t make you that much more productive."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "reply_to_user": {"reputation": 1728, "user_id": 8331815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14851208419c4973d3a75f344780abf?s=128&d=identicon&r=PG&f=1", "display_name": "SourceOverflow", "link": "https://stackoverflow.com/users/8331815/sourceoverflow"}, "edited": false, "score": 0, "creation_date": 1510183984, "post_id": 47190894, "comment_id": 81332409, "body": "@SourceOverflow  Productivity isn&#39;t the only thing it provides,  Cross-Browser compatibility, Maintainability etc.  There is a reason we don&#39;t program in Machine Language these days.  Javascript is the Machine Language for Browsers.  jQuery, Knockout, React/Redux, Angular all from all points of view, just better frameworks to use.  Deep dive Learning JS is like learning Machine Code, at this point in time, it provides almost no value."}], "answers": [{"comments": [{"owner": {"reputation": 1102, "user_id": 4208719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cd078e79ba74af02fe5692190dbc73d3?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro ", "link": "https://stackoverflow.com/users/4208719/pedro"}, "edited": false, "score": 0, "creation_date": 1510181516, "post_id": 47191006, "comment_id": 81331567, "body": "Thank you! I&#39;m testing your code and gt this console error &quot;Cannot read property &#39;nextElementSibling&#39; of undefined&quot;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8701049"}, "reply_to_user": {"reputation": 1102, "user_id": 4208719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cd078e79ba74af02fe5692190dbc73d3?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro ", "link": "https://stackoverflow.com/users/4208719/pedro"}, "edited": false, "score": 0, "creation_date": 1510181754, "post_id": 47191006, "comment_id": 81331653, "body": "Here is a working example. (with some  added features) <a href=\"https://codepen.io/pablo-tavarez/pen/qVqGzX\" rel=\"nofollow noreferrer\">codepen.io/pablo-tavarez/pen/qVqGzX</a>"}, {"owner": {"reputation": 1102, "user_id": 4208719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cd078e79ba74af02fe5692190dbc73d3?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro ", "link": "https://stackoverflow.com/users/4208719/pedro"}, "edited": false, "score": 0, "creation_date": 1510181853, "post_id": 47191006, "comment_id": 81331696, "body": "Thanks a lot for your help."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8701049"}, "is_accepted": false, "score": 0, "last_activity_date": 1510181177, "creation_date": 1510181177, "answer_id": 47191006, "question_id": 47190894, "link": "https://stackoverflow.com/questions/47190894/onclick-show-hide-javascript/47191006#47191006", "title": "Onclick show/hide - Javascript", "body": "<p>Why are you currently attempting to retrieve the <code>nextSibling</code> of the very element that you wish to display (the <code>textNode</code>) ?\nUsing the <code>event Object</code> <code>target</code> (the <code>p.solutionLink</code>), access the adjacent <code>elementNode</code> (<code>div.solution</code>) . According to your code the follow solution should work for you.</p>\n\n<pre><code>function openSolution(event){\n  event.target.nextElementSibling.style.display = \"block\";\n}\n</code></pre>\n\n<p>P.S why is your CSS selector plural <code>.solutions</code> ?</p>\n"}, {"tags": [], "owner": {"reputation": 1728, "user_id": 8331815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14851208419c4973d3a75f344780abf?s=128&d=identicon&r=PG&f=1", "display_name": "SourceOverflow", "link": "https://stackoverflow.com/users/8331815/sourceoverflow"}, "is_accepted": false, "score": 1, "last_activity_date": 1510181909, "creation_date": 1510181909, "answer_id": 47191152, "question_id": 47190894, "link": "https://stackoverflow.com/questions/47190894/onclick-show-hide-javascript/47191152#47191152", "title": "Onclick show/hide - Javascript", "body": "<p>Your first problem is your css selector: The class <code>solutions</code> is really called <code>solution</code>.</p>\n\n<p>Next I would recommend making use of the <a href=\"https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes\" rel=\"nofollow noreferrer\"><strong>data-attributes</strong></a>. This way you can change your DOM-structure and don't have to change any js. Alternatively I would at least wrap every solution in its own container.</p>\n\n<p>Below is a (in my opinion) nice implementation, but I still want to outline some problems with your js:</p>\n\n<ul>\n<li><code>getElementsByClassName('.solution')\u0300  should be</code>getElementsByClassName('solution')\u0300 , since the <code>.</code> is not part of the class name</li>\n<li><code>getElementsByClassName</code> returns elementS, as in more than one. You will have to access them using <code>[0]</code></li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var solutionLink = document.querySelectorAll(\"p.solutionLink\");\r\n\r\nfunction openSolution(){\r\n  document.getElementById(this.dataset.target).style.display = \"block\";\r\n}\r\n\r\nfor(var i=0; i&lt; solutionLink.length; i++){\r\n  var solutions = solutionLink[i];\r\n  solutions.addEventListener('click', openSolution, false);\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.solution {display:none;}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p&gt;This problem #1&lt;/p&gt;\r\n\r\n&lt;p class=\"solutionLink\" data-target=\"sol1\"&gt;Click here to see solution&lt;/p&gt;\r\n\r\n&lt;div id=\"sol1\" class=\"solution\"&gt;\r\n  This is the solution to problem #1\r\n&lt;/div&gt;\r\n\r\n&lt;p&gt;This problem #2&lt;/p&gt;\r\n\r\n&lt;p class=\"solutionLink\" data-target=\"sol2\"&gt;Click here to see solution&lt;/p&gt;\r\n\r\n&lt;div id=\"sol2\" class=\"solution\"&gt;\r\n  This is the solution to problem #2\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 11755, "user_id": 4797603, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/AwTvE.jpg?s=128&g=1", "display_name": "Ronnie Royston", "link": "https://stackoverflow.com/users/4797603/ronnie-royston"}, "is_accepted": true, "score": 1, "last_activity_date": 1510183227, "creation_date": 1510183227, "answer_id": 47191386, "question_id": 47190894, "link": "https://stackoverflow.com/questions/47190894/onclick-show-hide-javascript/47191386#47191386", "title": "Onclick show/hide - Javascript", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var solutionLinks = document.querySelectorAll(\".solutionLink\");\r\n\r\nfor (var i = 0; i &lt; solutionLinks.length; i++) {\r\n  solutionLinks[i].addEventListener(\"click\", function() {\r\n    this.nextElementSibling.classList.toggle(\"hidden\");\r\n  });\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.hidden {\r\n  display:none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p&gt;This problem #1&lt;/p&gt;\r\n&lt;p class=\"solutionLink\"&gt;Click here to see solution&lt;/p&gt;\r\n&lt;div class=\"hidden\"&gt;\r\n  This is the solution to problem #1\r\n&lt;/div&gt;\r\n\r\n&lt;p&gt;This problem #2&lt;/p&gt;\r\n&lt;p class=\"solutionLink\"&gt;Click here to see solution&lt;/p&gt;\r\n&lt;div class=\"hidden\"&gt;\r\n  This is the solution to problem #2\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1102, "user_id": 4208719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cd078e79ba74af02fe5692190dbc73d3?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro ", "link": "https://stackoverflow.com/users/4208719/pedro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2040, "favorite_count": 0, "accepted_answer_id": 47191386, "answer_count": 3, "score": 0, "last_activity_date": 1510183227, "creation_date": 1510180599, "last_edit_date": 1510181579, "question_id": 47190894, "link": "https://stackoverflow.com/questions/47190894/onclick-show-hide-javascript", "title": "Onclick show/hide - Javascript", "body": "<p>I'm working a very simple program that show the solution of the problem when the user click on the solution link. I'm trying to do this without using jQuery.</p>\n\n<p>So the first thing that I did was to add a click to my <code>p</code>. But now I'm lost and I don't know how to display the solution.</p>\n\n<p>Any ideas on how to fix this problem?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var solutionLink = document.querySelectorAll(\"p.solutionLink\");\r\n\r\nfunction openSolution(){\r\n  document.getElementsByClassName('.solution').nextSibling.style.display = \"block\";\r\n}\r\n\r\nfor(var i=0; i&lt; solutionLink.length; i++){\r\n  var solutions = solutionLink[i];\r\n  solutions.addEventListener('click', openSolution, false);\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.solutions {display:none;}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p&gt;This problem #1&lt;/p&gt;\r\n\r\n&lt;p class=\"solutionLink\"&gt;Click here to see solution&lt;/p&gt;\r\n\r\n&lt;div class=\"solutions\"&gt;\r\n  This is the solution to problem #1\r\n&lt;/div&gt;\r\n\r\n&lt;p&gt;This problem #2&lt;/p&gt;\r\n\r\n&lt;p class=\"solutionLink\"&gt;Click here to see solution&lt;/p&gt;\r\n\r\n&lt;div class=\"solutions\"&gt;\r\n  This is the solution to problem #2\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 0, "creation_date": 1510180727, "post_id": 47190870, "comment_id": 81331236, "body": "Instead of <code>this.classList.toggle(&quot;show&quot;)</code>, you can simply use <code>ELEMENT.classList.toggle(&quot;show&quot;)</code>... but I&#39;m still not sure <b>exactly</b> what you&#39;re trying to do. Could you please clarify your intent a little further? Like which element are you trying to show?"}, {"owner": {"reputation": 168, "user_id": 4728122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/frNXV.jpg?s=128&g=1", "display_name": "Ben Bozorg", "link": "https://stackoverflow.com/users/4728122/ben-bozorg"}, "edited": false, "score": 0, "creation_date": 1510180772, "post_id": 47190870, "comment_id": 81331254, "body": "What are you trying to achieve here? Can you paste your complete HTML? Where is your event handler?"}, {"owner": {"reputation": 53, "user_id": 8548907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f85sl.jpg?s=128&g=1", "display_name": "Oh this crazy voices", "link": "https://stackoverflow.com/users/8548907/oh-this-crazy-voices"}, "edited": false, "score": 0, "creation_date": 1510180968, "post_id": 47190870, "comment_id": 81331323, "body": "I would like to have a block open when clicking on the icon. there are a lot of icons and, accordingly, to use getelbyId will be inconvenient.."}, {"owner": {"reputation": 53, "user_id": 8548907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f85sl.jpg?s=128&g=1", "display_name": "Oh this crazy voices", "link": "https://stackoverflow.com/users/8548907/oh-this-crazy-voices"}, "edited": false, "score": 0, "creation_date": 1510181111, "post_id": 47190870, "comment_id": 81331386, "body": "My event handler should be on the el with class: &quot;persons_contacts_details&quot;.."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 8548907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f85sl.jpg?s=128&g=1", "display_name": "Oh this crazy voices", "link": "https://stackoverflow.com/users/8548907/oh-this-crazy-voices"}, "edited": false, "score": 0, "creation_date": 1510182025, "post_id": 47191017, "comment_id": 81331754, "body": "as I understand..  I have to hang it on every tag with an icon? maybe there is another solution? and thanks a lot for your help!!"}, {"owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "reply_to_user": {"reputation": 53, "user_id": 8548907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f85sl.jpg?s=128&g=1", "display_name": "Oh this crazy voices", "link": "https://stackoverflow.com/users/8548907/oh-this-crazy-voices"}, "edited": false, "score": 0, "creation_date": 1510182548, "post_id": 47191017, "comment_id": 81331932, "body": "I&#39;m not sure what you mean when you say &quot;<i>icon</i>&quot;, but you can use a click handler and achieve the same result as <code>onclick</code>. And no worries with regards to the help; it&#39;s what we&#39;re here for! :)"}, {"owner": {"reputation": 53, "user_id": 8548907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f85sl.jpg?s=128&g=1", "display_name": "Oh this crazy voices", "link": "https://stackoverflow.com/users/8548907/oh-this-crazy-voices"}, "edited": false, "score": 0, "creation_date": 1510183153, "post_id": 47191017, "comment_id": 81332146, "body": "<b>this will be enough to indicate:</b> <code>var el = document.getElementsByClassName(&quot;controller);  for (var i = 0; i &lt; el.length; i++) {    el[i].addEventListener(&quot;click&quot;, toggle, false);  }</code>  <b>I&#39;m right? ))</b> <b>THANK YOU VERY VERY MUCH!!))</b>"}], "tags": [], "owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "is_accepted": true, "score": 1, "last_activity_date": 1510181237, "creation_date": 1510181237, "answer_id": 47191017, "question_id": 47190870, "link": "https://stackoverflow.com/questions/47190870/i-want-to-click-on-an-element-to-toggle-a-class-being-referenced-on-a-completely/47191017#47191017", "title": "I want to click on an element to toggle a class being referenced on a completely unrelated element (not a child, parent or sibling)", "body": "<p><strong><a href=\"http://api.jquery.com/toggle/\" rel=\"nofollow noreferrer\"><code>.toggle()</code></a></strong> is a jQuery function, and doesn't apply to <code>.classList</code>; it applies directly to the element itself. In order to toggle an element with raw JavaScript, the easiest solution would be to add an <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/onclick\" rel=\"nofollow noreferrer\"><code>onclick</code></a></strong> to the element that performs the toggling, and make use of an <code>if/else</code> to swap the <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style\" rel=\"nofollow noreferrer\"><code>style.display</code></a></strong> between <code>none</code> and <code>block</code>.</p>\n\n<p>This can be seen in the following working example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var hidden = document.getElementsByClassName(\"hidden\")[0];\r\n\r\nfunction toggle() {\r\n  if (hidden.style.display === \"none\") {\r\n    hidden.style.display = \"block\";\r\n  } else {\r\n    hidden.style.display = \"none\";\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.hidden {\r\n  display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"controller\" onclick=\"toggle()\"&gt;Toggle!&lt;/div&gt;\r\n&lt;div class=\"hidden\"&gt;I'm Hidden!&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Hope this helps! :)</p>\n"}], "owner": {"reputation": 53, "user_id": 8548907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f85sl.jpg?s=128&g=1", "display_name": "Oh this crazy voices", "link": "https://stackoverflow.com/users/8548907/oh-this-crazy-voices"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 47191017, "answer_count": 1, "score": 0, "last_activity_date": 1510181237, "creation_date": 1510180497, "question_id": 47190870, "link": "https://stackoverflow.com/questions/47190870/i-want-to-click-on-an-element-to-toggle-a-class-being-referenced-on-a-completely", "title": "I want to click on an element to toggle a class being referenced on a completely unrelated element (not a child, parent or sibling)", "body": "<p><strong>I want to click on an element to toggle a class being referenced on a completely unrelated element (not a child, parent or sibling)</strong> </p>\n\n<p><strong>For example, initially the code would look like this:</strong></p>\n\n<pre><code>&lt;div class=\"persons_contacts_details glyphicon glyphicon-option-vertical\"&gt;&lt;/div&gt;\n          &lt;div class=\"drop_content\"&gt;\n            &lt;div class=\"nav_item\"&gt;\n              Edit\n            &lt;/div&gt;\n            &lt;div class=\"nav_item\"&gt;\n              Move to...\n            &lt;/div&gt;\n            &lt;div class=\"nav_item_remove\"&gt;\n              Remove\n            &lt;/div&gt;\n          &lt;/div&gt;\n</code></pre>\n\n<p><strong>CSS:</strong></p>\n\n<pre><code>.drop_content {\n    display: none;\n}\n.show {\n    display: block;\n    z-index: 44;\n    position: absolute;\n    top: -7px;\n    right: -10px;\n    padding: 20px;\n    box-sizing: border-box;\n    min-width: 120px;\n    background-color: #fff;\n    box-shadow: 1px 2px 14px 1px #afafaf;\n}\n</code></pre>\n\n<p>there can be a lot of blocks, so I do not consider the option of searching for elements by id.  T think it will be better to use getElementsByClassName.. \nBut help me please to solve this problem :)\nMy code: </p>\n\n<pre><code>var menuEl = document.getElementsByClassName(\"persons_contacts_details\");\nvar dropcont = document.getElementsByClassName(\"drop_content\");\n\nfor (var i = 0; i &lt; menuEl.length; i++) {\n    menuEl[i].addEventListener(\"click\", function () {\n        this.classList.toggle(\"show\"); \n    }, false);\n}\n</code></pre>\n\n<p><strong>Thank you very much in advance!!!</strong></p>\n"}, {"tags": ["javascript", "regex"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7451361"}, "edited": false, "score": 0, "creation_date": 1510180339, "post_id": 47190798, "comment_id": 81331095, "body": "Your regex is &quot;\\d{4}&quot;"}, {"owner": {"reputation": 2263, "user_id": 7191927, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/eea1edd56073998f8d87e9b77cb5cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "Stpete111", "link": "https://stackoverflow.com/users/7191927/stpete111"}, "edited": false, "score": 0, "creation_date": 1510181542, "post_id": 47190798, "comment_id": 81331578, "body": "@FairPlay that brings back all 4 digit numbers."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7451361"}, "edited": false, "score": 0, "creation_date": 1510181796, "post_id": 47190798, "comment_id": 81331671, "body": "(?&lt;=b\\.\\s)\\d{4}    There you go."}, {"owner": {"reputation": 2263, "user_id": 7191927, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/eea1edd56073998f8d87e9b77cb5cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "Stpete111", "link": "https://stackoverflow.com/users/7191927/stpete111"}, "edited": false, "score": 0, "creation_date": 1510181973, "post_id": 47190798, "comment_id": 81331737, "body": "Thanks, this definitely works too, as do the other two answers."}, {"owner": {"reputation": 2263, "user_id": 7191927, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/eea1edd56073998f8d87e9b77cb5cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "Stpete111", "link": "https://stackoverflow.com/users/7191927/stpete111"}, "edited": false, "score": 0, "creation_date": 1510182262, "post_id": 47190798, "comment_id": 81331844, "body": "A downvote and a vote to close the thread?? <i>smh</i> - I guess there&#39;s always at least that one person out there with nothing better to do with their time.  Thank you to Fair-Play john-ellmore omijn and Mearg for your very helpful answers.  I would give each of you 5 rep points if I could!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7451361"}, "edited": false, "score": 1, "creation_date": 1511834394, "post_id": 47190798, "comment_id": 82001922, "body": "Relax, 90% of the time you will encounter retards on this site, that&#39;s how it goes. There are maaaaaaany retards here :D"}], "answers": [{"tags": [], "owner": {"reputation": 1969, "user_id": 5651536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e841ed95d19835d55d481e2678655df1?s=128&d=identicon&r=PG&f=1", "display_name": "John Ellmore", "link": "https://stackoverflow.com/users/5651536/john-ellmore"}, "is_accepted": true, "score": 2, "last_activity_date": 1510180419, "creation_date": 1510180419, "answer_id": 47190856, "question_id": 47190798, "link": "https://stackoverflow.com/questions/47190798/javascript-regex-match-on-only-one-set-of-4-numbers/47190856#47190856", "title": "Javascript Regex - match on only one set of 4 numbers", "body": "<p>Using the regular expression <code>/b\\. (\\d{4})/</code> should match all of the birth dates in the list.</p>\n"}, {"tags": [], "owner": {"reputation": 591, "user_id": 5422888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91e55ceffd42345ec280e8040ffe6668?s=128&d=identicon&r=PG&f=1", "display_name": "omijn", "link": "https://stackoverflow.com/users/5422888/omijn"}, "is_accepted": false, "score": 1, "last_activity_date": 1510180476, "creation_date": 1510180476, "answer_id": 47190865, "question_id": 47190798, "link": "https://stackoverflow.com/questions/47190798/javascript-regex-match-on-only-one-set-of-4-numbers/47190865#47190865", "title": "Javascript Regex - match on only one set of 4 numbers", "body": "<p>You can use this regex: <code>b\\.\\s(\\d{4})</code> and access capture group 1 to get the values you want.</p>\n\n<p>Try it here: <a href=\"https://regex101.com/r/zxbrs0/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/zxbrs0/1</a></p>\n"}, {"comments": [{"owner": {"reputation": 2263, "user_id": 7191927, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/eea1edd56073998f8d87e9b77cb5cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "Stpete111", "link": "https://stackoverflow.com/users/7191927/stpete111"}, "edited": false, "score": 0, "creation_date": 1510182300, "post_id": 47191183, "comment_id": 81331858, "body": "Thanks, Mearg, this is very helpful information for me to learn from."}], "tags": [], "owner": {"reputation": 139, "user_id": 8722940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2eefffefb366921234d304032a1f9fbe?s=128&d=identicon&r=PG&f=1", "display_name": "Mearg", "link": "https://stackoverflow.com/users/8722940/mearg"}, "is_accepted": false, "score": 1, "last_activity_date": 1510183331, "last_edit_date": 1510183331, "creation_date": 1510182076, "answer_id": 47191183, "question_id": 47190798, "link": "https://stackoverflow.com/questions/47190798/javascript-regex-match-on-only-one-set-of-4-numbers/47191183#47191183", "title": "Javascript Regex - match on only one set of 4 numbers", "body": "<p>The easiest way to do this (in Javascript, since you tagged Javascript on this question) is simply to do two regular expressions. For example, you could do this.</p>\n\n<pre><code>var str = '4 Mar 1797  John Adams                        (b. 1735 - d. 1826)';\nvar regex = /\\(b. [0-9]+/;\nvar regex2 = /[0-9]+/;\nvar birthDate = regex2.exec(regex.exec(str));\nreturn birthDate;\n</code></pre>\n\n<p>If you get the general idea it's not hard to adapt it to your circumstances. Just use a regex to find (b. 1735 (in this case) and then extract 1735. This is only necessary because, unfortunately, regex in Javascript doesn't allow for the same look behind feature that other regex engines do. In another platform you could use (?&lt;=\\(b. ) to just look behind the b.</p>\n\n<p>I've tested this script in Javascript, so it should work.</p>\n\n<p>Alternatively you could also use capturing parentheses. Try this in place of the regular expressions and var birthDate above:</p>\n\n<pre><code>var regex = /\\(b. ([0-9]+)/;\nvar birthDate = regex.exec(str)[1];\n</code></pre>\n\n<p>Just remember that exec() should return an array so you'll need to specify that you want the second element ([1]).</p>\n\n<p>This is also tested.</p>\n"}], "owner": {"reputation": 2263, "user_id": 7191927, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/eea1edd56073998f8d87e9b77cb5cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "Stpete111", "link": "https://stackoverflow.com/users/7191927/stpete111"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 47190856, "answer_count": 3, "score": 0, "last_activity_date": 1510183331, "creation_date": 1510180159, "question_id": 47190798, "link": "https://stackoverflow.com/questions/47190798/javascript-regex-match-on-only-one-set-of-4-numbers", "title": "Javascript Regex - match on only one set of 4 numbers", "body": "<p>I'm new to regex and and having trouble coming up an expression (javascript) to match what I  need.</p>\n\n<p>For this example:</p>\n\n<pre><code>21 Apr 1789 -  4 Mar 1797  John Adams                        (b. 1735 - d. 1826)  Fed \n 4 Mar 1797 -  4 Mar 1801  Thomas Jefferson                  (b. 1743 - d. 1826)  D-R \n 4 Mar 1801 -  4 Mar 1805  Aaron Burr                        (b. 1756 - d. 1836)  D-R \n 4 Mar 1805 - 20 Apr 1812  George Clinton                    (b. 1739 - d. 1812)  D-R \n 4 Mar 1813 - 23 Nov 1814  Elbridge Gerry                    (b. 1744 - d. 1814)  D-R \n 4 Mar 1817 -  4 Mar 1825  Daniel D. Tompkins                (b. 1744 - d. 1825)  D-R \n 4 Mar 1825 - 28 Dec 1832  John Caldwell Calhoun             (b. 1782 - d. 1850)  Dem \n 4 Mar 1833 -  4 Mar 1837  Martin van Buren                  (b. 1782 - d. 1862)  Dem \n 4 Mar 1837 -  4 Mar 1841  Richard Mentor Johnson            (b. 1780 - d. 1850)  Dem \n 4 Mar 1841 -  4 Apr 1841  John Tyler                        (b. 1790 - d. 1862)  Whg  \n 4 Mar 1845 -  4 Mar 1849  George Mifflin Dallas             (b. 1792 - d. 1864)  Dem \n</code></pre>\n\n<p>What I need from each row is only the 4 digit year that comes after the \"b. \".  So if I returned only my matches, it would be:</p>\n\n<pre><code>1735\n1743\n1756\n1739\n1744\n1744\n1782\n1782\n1780\n1790\n1792\n</code></pre>\n\n<p>No matter how I try to build the expression, whether on my own or using any of the online web apps, it always wants to match on <strong>all</strong> the 4-digit years, or, all 4-digit years up to and including the one I need.  This is certainly due in part to lack of experience on my side, so any help would be greatly appreciated.</p>\n"}, {"tags": ["javascript", "jquery", "addeventlistener"], "comments": [{"owner": {"reputation": 6244, "user_id": 833232, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/597891901827be52a8da06e355e13bc2?s=128&d=identicon&r=PG&f=1", "display_name": "Monah", "link": "https://stackoverflow.com/users/833232/monah"}, "edited": false, "score": 0, "creation_date": 1510184646, "post_id": 47190788, "comment_id": 81332602, "body": "you can use <code>$(window).off(&#39;wheel&#39;)</code> and <code>$(window).on(&#39;scroll&#39;,function(e){ &#47;*Your code*&#47;});</code>"}], "answers": [{"tags": [], "owner": {"reputation": 10192, "user_id": 1869660, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/HPWbl.gif?s=128&g=1", "display_name": "Sphinxxx", "link": "https://stackoverflow.com/users/1869660/sphinxxx"}, "is_accepted": true, "score": 0, "last_activity_date": 1510181024, "creation_date": 1510181024, "answer_id": 47190976, "question_id": 47190788, "link": "https://stackoverflow.com/questions/47190788/change-javascript-addeventlistener-from-wheel-to-scroll/47190976#47190976", "title": "Change javascript addEventListener from &#39;wheel&#39; to &#39;scroll&#39;", "body": "<p>There is no <code>scrollTop</code> property on the scroll event. You can use <code>window.scrollY</code> instead. See <a href=\"https://developer.mozilla.org/en-US/docs/Web/Events/scroll\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/Events/scroll</a></p>\n\n<pre><code>window.addEventListener('scroll', function (e) { \n    if(!parallaxLocked){\n        var scrollVal = window.scrollY * 0.001;\n        ...\n</code></pre>\n\n<p>Example: <a href=\"https://jsfiddle.net/ya34o8wz/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/ya34o8wz/</a></p>\n"}], "owner": {"reputation": 29, "user_id": 6487261, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/af83177992dc2a6fc3540816445943bf?s=128&d=identicon&r=PG&f=1", "display_name": "Julz", "link": "https://stackoverflow.com/users/6487261/julz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 521, "favorite_count": 0, "accepted_answer_id": 47190976, "answer_count": 1, "score": -1, "last_activity_date": 1510181024, "creation_date": 1510180129, "last_edit_date": 1510180331, "question_id": 47190788, "link": "https://stackoverflow.com/questions/47190788/change-javascript-addeventlistener-from-wheel-to-scroll", "title": "Change javascript addEventListener from &#39;wheel&#39; to &#39;scroll&#39;", "body": "<p>I'm trying to change this javascript event to happen on scroll rather than the mouse wheel. I've tried changing</p>\n\n<pre><code>window.addEventListener('wheel',function (e)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>window.addEventListener('scroll',function (e)\n</code></pre>\n\n<p>and then on this line changing</p>\n\n<pre><code>var scrollVal = e.deltaY * 0.001;\n</code></pre>\n\n<p>to </p>\n\n<pre><code>var scrollVal = e.scrollTop * 0.001;\n</code></pre>\n\n<p>But it's still not working. This is the full code:</p>\n\n<pre><code>window.addEventListener('wheel',function (e) { \nif(!parallaxLocked){\n  var scrollVal = e.deltaY * 0.001;\n\n  introContentDist -= (scrollVal * (window.innerHeight * 0.2));\n  mainContentDist -= (scrollVal * window.innerHeight);\n\n  if(mainContentDist &lt; window.innerHeight){\n    if(mainContentDist &gt; 0){\n      var distanceCoveredPercentage = mainContentDist / window.innerHeight;\n      TweenMax.to(introDiv, 0.1, {y: introContentDist+\"px\", opacity: 1 * distanceCoveredPercentage}); \n      TweenMax.to(belowFold, 0.1, {y: mainContentDist+\"px\"}); \n      window.scrollTo(0,0); \n\n      if(!firstSlideFadedUp){\n        if(mainContentDist &lt; window.innerHeight * 0.5){ // if parallaxed up 50%\n          contentSections[0].className = 'airpoints-module -active'; // fade in first section\n        }\n      }\n\n      if(!stickyLogosFadedUp){\n        if(mainContentDist &lt; window.innerHeight * 0.25){ // if parallaxed up 75%\n          stickyLogo.className = 'c-sticky-logo fade-in'; // fade in sticky logo changer\n          stickyLogosFadedUp = true;\n        }\n      }\n    } else {\n      // when scrolled to end, lock divs to final place\n      TweenMax.to(introDiv, 0.1, {y: \"-30%\"+\"px\"}); \n      TweenMax.to(belowFold, 0.1, {y: \"0%\"});\n      parallaxLocked = true;\n\n      // now that everything is locked in place\n      setupScrollLogoChanger(); \n    }\n  }\n}\n});\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1510180122, "post_id": 47190763, "comment_id": 81330995, "body": "How does the text in the <code>div</code> change? When does that happen?"}, {"owner": {"reputation": 781, "user_id": 5934704, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156492299675099/picture?type=large", "display_name": "Michael Evans", "link": "https://stackoverflow.com/users/5934704/michael-evans"}, "edited": false, "score": 2, "creation_date": 1510180173, "post_id": 47190763, "comment_id": 81331024, "body": "Upon first inspection, it seems like the switch will never match with <code>Diesel</code>or <code>AUTO</code>because of your <code>toLowerCase</code>. If you change them to <code>diesel</code> with small d and <code>auto</code>, all lowercase, you might have some luck."}, {"owner": {"reputation": 103, "user_id": 4792112, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N9JlTmT4szs/AAAAAAAAAAI/AAAAAAAABBo/PNoMpl0Ryi4/photo.jpg?sz=128", "display_name": "Nico Bach", "link": "https://stackoverflow.com/users/4792112/nico-bach"}, "edited": false, "score": 0, "creation_date": 1510180323, "post_id": 47190763, "comment_id": 81331088, "body": "the status tag has the same css class (.status-tag) for all of them. I am able to choose what the text is inside the div, so when I have &quot;auto&quot;, I want red for example, or when it is &quot;manual&quot;, it should be purple for example."}, {"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "reply_to_user": {"reputation": 781, "user_id": 5934704, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156492299675099/picture?type=large", "display_name": "Michael Evans", "link": "https://stackoverflow.com/users/5934704/michael-evans"}, "edited": false, "score": 0, "creation_date": 1510180366, "post_id": 47190763, "comment_id": 81331099, "body": "it seems you copied the code and you simply replace text by your own without paying attention to lowercase as @MichaelEvans said"}, {"owner": {"reputation": 103, "user_id": 4792112, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N9JlTmT4szs/AAAAAAAAAAI/AAAAAAAABBo/PNoMpl0Ryi4/photo.jpg?sz=128", "display_name": "Nico Bach", "link": "https://stackoverflow.com/users/4792112/nico-bach"}, "reply_to_user": {"reputation": 781, "user_id": 5934704, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156492299675099/picture?type=large", "display_name": "Michael Evans", "link": "https://stackoverflow.com/users/5934704/michael-evans"}, "edited": false, "score": 0, "creation_date": 1510180403, "post_id": 47190763, "comment_id": 81331117, "body": "@MichaelEvans it doesn&#39;t matter if i use caps or not, it still does not work. If you look at the original code, you change it to upper or lower case and it still works."}, {"owner": {"reputation": 5778, "user_id": 8698101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a32951f0068d47dfdc1dfc90ff44612b?s=128&d=identicon&r=PG&f=1", "display_name": "B. Fleming", "link": "https://stackoverflow.com/users/8698101/b-fleming"}, "edited": false, "score": 0, "creation_date": 1510180434, "post_id": 47190763, "comment_id": 81331129, "body": "Have you tried <code>&#39;background-color&#39;</code> instead of <code>&#39;background&#39;</code>?"}, {"owner": {"reputation": 781, "user_id": 5934704, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156492299675099/picture?type=large", "display_name": "Michael Evans", "link": "https://stackoverflow.com/users/5934704/michael-evans"}, "edited": false, "score": 0, "creation_date": 1510180512, "post_id": 47190763, "comment_id": 81331162, "body": "@NicoBach inside the switch, or in the status tags themselves?"}, {"owner": {"reputation": 5778, "user_id": 8698101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a32951f0068d47dfdc1dfc90ff44612b?s=128&d=identicon&r=PG&f=1", "display_name": "B. Fleming", "link": "https://stackoverflow.com/users/8698101/b-fleming"}, "edited": false, "score": 1, "creation_date": 1510180610, "post_id": 47190763, "comment_id": 81331191, "body": "Also, what others have said about your switch statement is correct. You&#39;re comparing an all-lowercase value to <code>case</code> statements containing text with non-lowercase characters. This will never evaluate correctly. Modify your switch statement to use all-lowercase strings."}, {"owner": {"reputation": 103, "user_id": 4792112, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N9JlTmT4szs/AAAAAAAAAAI/AAAAAAAABBo/PNoMpl0Ryi4/photo.jpg?sz=128", "display_name": "Nico Bach", "link": "https://stackoverflow.com/users/4792112/nico-bach"}, "reply_to_user": {"reputation": 781, "user_id": 5934704, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156492299675099/picture?type=large", "display_name": "Michael Evans", "link": "https://stackoverflow.com/users/5934704/michael-evans"}, "edited": false, "score": 0, "creation_date": 1510180806, "post_id": 47190763, "comment_id": 81331269, "body": "@MichaelEvans, not sure what the switch is. :/ not a dev, still a noob and learning. but the text is within the div itself: Screenshot here: <a href=\"https://www.awesomescreenshot.com/image/2951771/bd78112d5e5d41c185f386e118ef348a\" rel=\"nofollow noreferrer\">awesomescreenshot.com/image/2951771/&hellip;</a>"}, {"owner": {"reputation": 781, "user_id": 5934704, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156492299675099/picture?type=large", "display_name": "Michael Evans", "link": "https://stackoverflow.com/users/5934704/michael-evans"}, "edited": false, "score": 0, "creation_date": 1510180905, "post_id": 47190763, "comment_id": 81331302, "body": "@NicoBach take a look at my answer to see what I mean. Also consider the answer from marcobiedemann , that looks nice and concise"}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 4792112, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N9JlTmT4szs/AAAAAAAAAAI/AAAAAAAABBo/PNoMpl0Ryi4/photo.jpg?sz=128", "display_name": "Nico Bach", "link": "https://stackoverflow.com/users/4792112/nico-bach"}, "edited": false, "score": 0, "creation_date": 1510181183, "post_id": 47190914, "comment_id": 81331415, "body": "That makes sense. I have switched them all to lowercase, but still, only that default color is being applied."}], "tags": [], "owner": {"reputation": 781, "user_id": 5934704, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156492299675099/picture?type=large", "display_name": "Michael Evans", "link": "https://stackoverflow.com/users/5934704/michael-evans"}, "is_accepted": false, "score": 1, "last_activity_date": 1510180734, "creation_date": 1510180734, "answer_id": 47190914, "question_id": 47190763, "link": "https://stackoverflow.com/questions/47190763/change-div-background-color-based-on-text-inside-div/47190914#47190914", "title": "Change div background color based on text inside div", "body": "<p>As commented, now in the form of an answer for clarity. In your variable definition of <code>text</code> you are taking whatever the text is and turning it all lower case (a good idea, in most peoples' books), so that in your markup, you can use any combination of lower and uppercase letters and it will still work. But <em>because of this</em> you need to present them as all lowercase in the switch, in order for them to match properly (switch statements need an exact match to work).</p>\n\n<pre><code>$(function() {\n    var text = $('.image-container&gt;.status-tag').text().toLowerCase(), color;\n    switch (text) {\n     case 'diesel': // change here\n        color = '#ff0000';\n        break;\n     case 'auto': // and change here\n        color = '#6dc8bf';\n        break;\n     default:\n        color = '#39d52d';\n    }\n    $('.image-container&gt;.status-tag').css('background', color);\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 103, "user_id": 4792112, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N9JlTmT4szs/AAAAAAAAAAI/AAAAAAAABBo/PNoMpl0Ryi4/photo.jpg?sz=128", "display_name": "Nico Bach", "link": "https://stackoverflow.com/users/4792112/nico-bach"}, "edited": false, "score": 0, "creation_date": 1510181775, "post_id": 47190986, "comment_id": 81331665, "body": "Tyler, you are awesome man! that did exactley what I needed! Thank you soo much! I was at it for hours, hoping to solve the issue myself. Figured it was time for help. thanks again!"}, {"owner": {"reputation": 103, "user_id": 4792112, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N9JlTmT4szs/AAAAAAAAAAI/AAAAAAAABBo/PNoMpl0Ryi4/photo.jpg?sz=128", "display_name": "Nico Bach", "link": "https://stackoverflow.com/users/4792112/nico-bach"}, "edited": false, "score": 0, "creation_date": 1510253903, "post_id": 47190986, "comment_id": 81368195, "body": "Hey @TylerDahle, quick question...if i have 2 classes assigned to a div, how would i target it? I&#39;ve tried  $(&#39;.col-sm-5.col-results&gt;.status-tag&#39;).each(function(){  But that didnt seem to work. This is the HTML  &lt;div class=&quot;col-sm-5 col-results&quot;&gt;&lt;div class=&quot;status-tag&quot;&gt;Auto&lt;/div&gt;&lt;/div&gt;  Thanks"}, {"owner": {"reputation": 735, "user_id": 7376331, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/bc5b6cc1b9274f1cfd84abb3205d7bc7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Dahle", "link": "https://stackoverflow.com/users/7376331/tyler-dahle"}, "reply_to_user": {"reputation": 103, "user_id": 4792112, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N9JlTmT4szs/AAAAAAAAAAI/AAAAAAAABBo/PNoMpl0Ryi4/photo.jpg?sz=128", "display_name": "Nico Bach", "link": "https://stackoverflow.com/users/4792112/nico-bach"}, "edited": false, "score": 0, "creation_date": 1510254696, "post_id": 47190986, "comment_id": 81368648, "body": "Your approach is correct. You&#39;d do $(&#39;.first-class.second-class&gt;.child-ele.second-child-class&#39;)&zwnj;&#8203;. I added those to the example I made and it worked as expected. You don&#39;t need to use all classes in an element when selecting one, unless you need that level of exactness. You should be able to just grab $(&#39;.col-results&#39;). Also, do you have any runnable example with your element selection not working?"}, {"owner": {"reputation": 103, "user_id": 4792112, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N9JlTmT4szs/AAAAAAAAAAI/AAAAAAAABBo/PNoMpl0Ryi4/photo.jpg?sz=128", "display_name": "Nico Bach", "link": "https://stackoverflow.com/users/4792112/nico-bach"}, "edited": false, "score": 0, "creation_date": 1510261861, "post_id": 47190986, "comment_id": 81372579, "body": "Thanks for the reply @TylerDahle, I was able to achieve it like this   $(&#39;.col-results .status-tag&#39;).each(function(){  But now I ran into another issue (figures, right?) The page that I&#39;m applying all this too, has a search feature that loads the results via ajax. Once the results load, the code is no longer applied. How would I tell it to reapply the code after the results are loaded?"}, {"owner": {"reputation": 735, "user_id": 7376331, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/bc5b6cc1b9274f1cfd84abb3205d7bc7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Dahle", "link": "https://stackoverflow.com/users/7376331/tyler-dahle"}, "reply_to_user": {"reputation": 103, "user_id": 4792112, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N9JlTmT4szs/AAAAAAAAAAI/AAAAAAAABBo/PNoMpl0Ryi4/photo.jpg?sz=128", "display_name": "Nico Bach", "link": "https://stackoverflow.com/users/4792112/nico-bach"}, "edited": false, "score": 0, "creation_date": 1510264899, "post_id": 47190986, "comment_id": 81374104, "body": "Without a sample, I am just guessing what is occurring, but I believe: when someone searches, new results are loaded, but the .each() with the switch function is not run on these, so no styling occurs. Ajax has a &#39;complete&#39; option that you can set a function to. On complete, insert your html (or however you are getting it on the page), then rerun the .each() to style each element properly. (This is my guess at what to do based on what I gather from your last comment, hopefully its on the mark). This page gives info on ajax complete: <a href=\"http://api.jquery.com/jquery.ajax/\" rel=\"nofollow noreferrer\">api.jquery.com/jquery.ajax</a>"}, {"owner": {"reputation": 103, "user_id": 4792112, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N9JlTmT4szs/AAAAAAAAAAI/AAAAAAAABBo/PNoMpl0Ryi4/photo.jpg?sz=128", "display_name": "Nico Bach", "link": "https://stackoverflow.com/users/4792112/nico-bach"}, "edited": false, "score": 0, "creation_date": 1510265132, "post_id": 47190986, "comment_id": 81374201, "body": "too be honest, that seems over my head at this point. haha.  The page is here dev.infinitypxl.com/americar/full-inventory  As you can see there, the colors are being applied to the banners on each vehicle image. After doing a search on the left for BMW (nothing else)  the results load, but the code is no longer being applied. I really appreciate your help with this issue. :D"}, {"owner": {"reputation": 103, "user_id": 4792112, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N9JlTmT4szs/AAAAAAAAAAI/AAAAAAAABBo/PNoMpl0Ryi4/photo.jpg?sz=128", "display_name": "Nico Bach", "link": "https://stackoverflow.com/users/4792112/nico-bach"}, "edited": false, "score": 0, "creation_date": 1510265313, "post_id": 47190986, "comment_id": 81374280, "body": "and excuse the slow load times currently, my host is having some issues :/"}, {"owner": {"reputation": 735, "user_id": 7376331, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/bc5b6cc1b9274f1cfd84abb3205d7bc7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Dahle", "link": "https://stackoverflow.com/users/7376331/tyler-dahle"}, "reply_to_user": {"reputation": 103, "user_id": 4792112, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N9JlTmT4szs/AAAAAAAAAAI/AAAAAAAABBo/PNoMpl0Ryi4/photo.jpg?sz=128", "display_name": "Nico Bach", "link": "https://stackoverflow.com/users/4792112/nico-bach"}, "edited": false, "score": 0, "creation_date": 1510265842, "post_id": 47190986, "comment_id": 81374526, "body": "Try adding the .each(function(){}) at the end of the ajax complete function (just add another option in ajax -&gt; <code>complete: function(){ the .each() function here}</code>. It really does seem like you run that on page load, but then when new elements are added via ajax, they don&#39;t get the benefit of the styling because it is not ran again."}, {"owner": {"reputation": 103, "user_id": 4792112, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N9JlTmT4szs/AAAAAAAAAAI/AAAAAAAABBo/PNoMpl0Ryi4/photo.jpg?sz=128", "display_name": "Nico Bach", "link": "https://stackoverflow.com/users/4792112/nico-bach"}, "edited": false, "score": 0, "creation_date": 1510266499, "post_id": 47190986, "comment_id": 81374836, "body": "Like so: <code>&lt;script&gt; $(function() {     complete: function(){     $(&#39;.col-results .status-tag&#39;).each(function(){     \tconsole.log($(this).text());       var text = $(this).text().toLowerCase();     \tswitch (text) {      \tcase &#39;auto&#39;:         color = &#39;rgba(245, 36, 88, 0.8)&#39;;         break;      \tdefault:         color = &#39;tranparent&#39;; \t\t}     \t$(this).css(&#39;background&#39;, color);     });   }); }); &lt;&#47;script&gt;</code>"}, {"owner": {"reputation": 735, "user_id": 7376331, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/bc5b6cc1b9274f1cfd84abb3205d7bc7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Dahle", "link": "https://stackoverflow.com/users/7376331/tyler-dahle"}, "reply_to_user": {"reputation": 103, "user_id": 4792112, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N9JlTmT4szs/AAAAAAAAAAI/AAAAAAAABBo/PNoMpl0Ryi4/photo.jpg?sz=128", "display_name": "Nico Bach", "link": "https://stackoverflow.com/users/4792112/nico-bach"}, "edited": false, "score": 0, "creation_date": 1510266956, "post_id": 47190986, "comment_id": 81375014, "body": "Yes, but move the entire complete: function(){all your code} into the ajax call and make the complete another field in the ajax call."}, {"owner": {"reputation": 735, "user_id": 7376331, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/bc5b6cc1b9274f1cfd84abb3205d7bc7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Dahle", "link": "https://stackoverflow.com/users/7376331/tyler-dahle"}, "reply_to_user": {"reputation": 103, "user_id": 4792112, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N9JlTmT4szs/AAAAAAAAAAI/AAAAAAAABBo/PNoMpl0Ryi4/photo.jpg?sz=128", "display_name": "Nico Bach", "link": "https://stackoverflow.com/users/4792112/nico-bach"}, "edited": false, "score": 0, "creation_date": 1510267849, "post_id": 47190986, "comment_id": 81375426, "body": "I just added an edit that shows how to set up the complete or .done in your ajax call. I think .done is actually better to utilize then complete? I was seeing that complete was supposed to be deprecated."}, {"owner": {"reputation": 103, "user_id": 4792112, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N9JlTmT4szs/AAAAAAAAAAI/AAAAAAAABBo/PNoMpl0Ryi4/photo.jpg?sz=128", "display_name": "Nico Bach", "link": "https://stackoverflow.com/users/4792112/nico-bach"}, "edited": false, "score": 0, "creation_date": 1510321625, "post_id": 47190986, "comment_id": 81398177, "body": "Thank you! I will try to apply it today."}], "tags": [], "owner": {"reputation": 735, "user_id": 7376331, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/bc5b6cc1b9274f1cfd84abb3205d7bc7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Dahle", "link": "https://stackoverflow.com/users/7376331/tyler-dahle"}, "is_accepted": true, "score": 3, "last_activity_date": 1510267793, "last_edit_date": 1510267793, "creation_date": 1510181083, "answer_id": 47190986, "question_id": 47190763, "link": "https://stackoverflow.com/questions/47190763/change-div-background-color-based-on-text-inside-div/47190986#47190986", "title": "Change div background color based on text inside div", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function() {\r\n    //var text = $('.image-container&gt;.status-tag').text().toLowerCase(), color;\r\n    $('.image-container&gt;.status-tag').each(function(){\r\n    \tconsole.log($(this).text());\r\n      var text = $(this).text().toLowerCase();\r\n    \tswitch (text) {\r\n     \tcase 'diesel':\r\n        color = '#ff0000';\r\n        break;\r\n     \tcase 'auto':\r\n        color = '#6dc8bf';\r\n        break;\r\n     \tdefault:\r\n        color = '#39d52d';\r\n    \t}\r\n    \t$(this).css('background', color);\r\n    });\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;body&gt;\r\n &lt;div class=\"image-container\"&gt;\r\n   &lt;div class=\"status-tag\" style=\"height:50px;width:50px;margin-top: 10px; margin-bottom: 10px;\"&gt;Diesel&lt;/div&gt;\r\n   &lt;div class=\"status-tag\" style=\"height:50px;width:50px;margin-top: 10px; margin-bottom: 10px;\"&gt;AUTO&lt;/div&gt;\r\n   &lt;div class=\"status-tag\" style=\"height:50px;width:50px;margin-top: 10px; margin-bottom: 10px;\"&gt;Bleh&lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;script src=\"https://code.jquery.com/jquery-3.1.0.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here is your scenario in a runnable example that gives you what you are after. Like others have said, your switch cases need to match the text (you are using toLowerCase() but still trying to compare it with text with capital letters like 'Diesel' and 'AUTO'). But also, if you have multiple .image-container>.status-tag you will get back a string of all text in your original text variable. In the example I posted, you would get dieselautobleh from <code>$('.image-container&gt;.status-tag').text().toLowerCase()</code> which is why you are still getting the default color,</p>\n\n<p>Therefore, I used a a .each(function(){}); on it to deal with each image container on its own.</p>\n\n<p>Edit for comments about style not applied after ajax call:</p>\n\n<p>Try this:</p>\n\n<pre><code>$.ajax({\n  //all your ajax stuff\n  //This is where complete would go, like:\n  complete: function(){\n    //do your stuff\n  }\n}).done(function() {//a done handler to manage when the ajax call is done\n  $('.image-container .status-tag').each(function(){\n  //do your switch stuff to change color just like before\n  });\n});\n</code></pre>\n\n<p>From further looking, the complete I told you might work, but .done might be better to handle that (don't put in both a complete and a .done).</p>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 5059971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c5NK7.png?s=128&g=1", "display_name": "AbeCodes", "link": "https://stackoverflow.com/users/5059971/abecodes"}, "is_accepted": false, "score": 0, "last_activity_date": 1510181384, "creation_date": 1510181384, "answer_id": 47191044, "question_id": 47190763, "link": "https://stackoverflow.com/questions/47190763/change-div-background-color-based-on-text-inside-div/47191044#47191044", "title": "Change div background color based on text inside div", "body": "<p><strong>tl;dr:</strong></p>\n\n<ol>\n<li>move script to the end of the body tag</li>\n<li>use each on status flags</li>\n<li>lowercase your switch statements too</li>\n</ol>\n\n<p>Your script lives in the head section, so it may be executed before the body is rendered and in that case it will never find your elements. so put it at the end of the body section.</p>\n\n<p>also you use the jquery element selector so you get back an array of elements, not a single one. you have to check them all. a each should do the trick, smth like that (also match your switch cases to lower case, else there will be no match):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>$(function() {\r\n    var textElements = $('.image-container&gt;.status-tag'), color;\r\n    \r\n    textElements.each(function(index, element){\r\n      var text = $(element).text().toLowerCase();\r\n\r\n    switch (text) {\r\n         case 'diesel':\r\n            color = '#ff0000';\r\n            break;\r\n         case 'auto':\r\n            color = '#6dc8bf';\r\n            break;\r\n         default:\r\n            color = '#39d52d';\r\n        }\r\n      $(element).css('background', color);\r\n    })\r\n    \r\n    \r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 103, "user_id": 4792112, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N9JlTmT4szs/AAAAAAAAAAI/AAAAAAAABBo/PNoMpl0Ryi4/photo.jpg?sz=128", "display_name": "Nico Bach", "link": "https://stackoverflow.com/users/4792112/nico-bach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2288, "favorite_count": 0, "accepted_answer_id": 47190986, "answer_count": 3, "score": 0, "last_activity_date": 1510267793, "creation_date": 1510179979, "question_id": 47190763, "link": "https://stackoverflow.com/questions/47190763/change-div-background-color-based-on-text-inside-div", "title": "Change div background color based on text inside div", "body": "<p>On <a href=\"https://dev.infinitypxl.com/americar/\" rel=\"nofollow noreferrer\">this site</a> I have a \"status tag\" (Diesel, Auto, Manual, etc) on each inventory picture. I want the background color of that tag to be changed based on the text that is within the DIV.</p>\n\n<p>This is the code that I have so far:</p>\n\n<pre><code>&lt;script&gt;\n$(function() {\n    var text = $('.image-container&gt;.status-tag').text().toLowerCase(), color;\n    switch (text) {\n     case 'Diesel':\n        color = '#ff0000';\n        break;\n     case 'AUTO':\n        color = '#6dc8bf';\n        break;\n     default:\n        color = '#39d52d';\n    }\n    $('.image-container&gt;.status-tag').css('background', color);\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>The default color is showing up, but for some reason, I cannot get the specified color to show based on the text inside the div.</p>\n\n<p>This is not my own code, I found it on another thread<a href=\"http://jsfiddle.net/Icepickle/uJwE6/\" rel=\"nofollow noreferrer\">(original code here)</a>, but can't seem to get it to work on my site. any help would be appreciated.</p>\n"}, {"tags": ["javascript", "jquery", "css", "slider", "slide"], "answers": [{"tags": [], "owner": {"reputation": 467, "user_id": 4647933, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/3c732a9b3e82ee96fb0a68e4bc149fe6?s=128&d=identicon&r=PG&f=1", "display_name": "qua1ity", "link": "https://stackoverflow.com/users/4647933/qua1ity"}, "is_accepted": true, "score": 0, "last_activity_date": 1510240706, "creation_date": 1510240706, "answer_id": 47205427, "question_id": 47190753, "link": "https://stackoverflow.com/questions/47190753/swiperjs-doesnt-loop-correctly-slider/47205427#47205427", "title": "Swiperjs doesn&#39;t loop correctly (slider)", "body": "<p>Solved it by setting a 33% height on the slides with slidesPerView: \u2018auto\u2019</p>\n"}], "owner": {"reputation": 467, "user_id": 4647933, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/3c732a9b3e82ee96fb0a68e4bc149fe6?s=128&d=identicon&r=PG&f=1", "display_name": "qua1ity", "link": "https://stackoverflow.com/users/4647933/qua1ity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3630, "favorite_count": 1, "accepted_answer_id": 47205427, "answer_count": 1, "score": 0, "last_activity_date": 1510240706, "creation_date": 1510179919, "last_edit_date": 1510218828, "question_id": 47190753, "link": "https://stackoverflow.com/questions/47190753/swiperjs-doesnt-loop-correctly-slider", "title": "Swiperjs doesn&#39;t loop correctly (slider)", "body": "<p>Got some problems with the loop setting for swiper. The issue is that it stops sliding before going into a second loop, it always stops a certain point. Never worked with swiper before, and I'm not sure if this is intended or not? Or if there is a possible fix to it.</p>\n\n<p>You can see the problem in the codepen if you swipe down you will notice that it stops at the blue box, or the green box if swipping up. Is it possible to make it keep sliding somehow, or atleast making it so its not just a blank space at that position?</p>\n\n<p><a href=\"https://codepen.io/quality/pen/pdNQPb\" rel=\"nofollow noreferrer\">https://codepen.io/quality/pen/pdNQPb</a> </p>\n\n<pre><code>var swiper = new Swiper('.swiper-container', {\n    scrollbar: '.swiper-scrollbar',\n    scrollbarHide: true,\n    slidesPerView: 3,\n    centeredSlides: true,\n    freeMode: true,\n    spaceBetween: 30,\n    direction: 'vertical',\n    slideToClickedSlide: true,\n    loop: true\n});\n</code></pre>\n\n<p>Framework im using: <a href=\"http://idangero.us/swiper/api/\" rel=\"nofollow noreferrer\">http://idangero.us/swiper/api/</a></p>\n"}, {"tags": ["javascript", "jquery", "html", "parent-child"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 1, "creation_date": 1510179957, "post_id": 47190737, "comment_id": 81330908, "body": "appendChild..... or append() if jQuery"}, {"owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 1, "creation_date": 1510179992, "post_id": 47190737, "comment_id": 81330924, "body": "What research have you done? This should be an easy web search"}], "answers": [{"tags": [], "owner": {"reputation": 1969, "user_id": 5651536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e841ed95d19835d55d481e2678655df1?s=128&d=identicon&r=PG&f=1", "display_name": "John Ellmore", "link": "https://stackoverflow.com/users/5651536/john-ellmore"}, "is_accepted": false, "score": 0, "last_activity_date": 1510179947, "creation_date": 1510179947, "answer_id": 47190757, "question_id": 47190737, "link": "https://stackoverflow.com/questions/47190737/moving-a-child-from-one-parent-to-another-in-javascript/47190757#47190757", "title": "Moving a child from one parent to another in JavaScript?", "body": "<pre><code>$('#paragraph').appendTo('#div2')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55, "user_id": 7589135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0ced42faa9cfad008cb1dce36eb73f5?s=128&d=identicon&r=PG&f=1", "display_name": "Rarex", "link": "https://stackoverflow.com/users/7589135/rarex"}, "is_accepted": false, "score": 0, "last_activity_date": 1510189516, "creation_date": 1510189516, "answer_id": 47192296, "question_id": 47190737, "link": "https://stackoverflow.com/questions/47190737/moving-a-child-from-one-parent-to-another-in-javascript/47192296#47192296", "title": "Moving a child from one parent to another in JavaScript?", "body": "<p><code>$('#div2').append('#paragraph');</code>\nShould do it!</p>\n\n<p>Just a little side note:\nUse <code>.append()</code> when you add the element as the last children of the parent(#div2).\nIf you want it as the first you can use <code>.prepend()</code></p>\n"}, {"tags": [], "owner": {"reputation": 5128, "user_id": 1940238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UNPav.jpg?s=128&g=1", "display_name": "ecairol", "link": "https://stackoverflow.com/users/1940238/ecairol"}, "is_accepted": false, "score": 0, "last_activity_date": 1600836614, "creation_date": 1600836614, "answer_id": 64021225, "question_id": 47190737, "link": "https://stackoverflow.com/questions/47190737/moving-a-child-from-one-parent-to-another-in-javascript/64021225#64021225", "title": "Moving a child from one parent to another in JavaScript?", "body": "<p>This worked for me:</p>\n<pre><code>var block = document.querySelector('.block');\nvar parentNode = document.querySelector('#parent');\nparentNode.insertBefore(block, parentNode.firstChild);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3327, "user_id": 1533592, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eWKcL.jpg?s=128&g=1", "display_name": "dale landry", "link": "https://stackoverflow.com/users/1533592/dale-landry"}, "is_accepted": false, "score": 0, "last_activity_date": 1600839094, "last_edit_date": 1600839094, "creation_date": 1600838308, "answer_id": 64021479, "question_id": 47190737, "link": "https://stackoverflow.com/questions/47190737/moving-a-child-from-one-parent-to-another-in-javascript/64021479#64021479", "title": "Moving a child from one parent to another in JavaScript?", "body": "<p>Vanilla Javascript... A very basic example of how this could be done:</p>\n<p>Define the elements paragraph and div2 as variables...</p>\n<p>Create a new p element to move the textContent to in the div you are moving to...</p>\n<p>Append the p element to the div you are moving to, then assign the textContent of the paragraph to the new p element.</p>\n<p>Remove the initial p element from the initial div1</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// get the element of id paragraph\nlet target = document.getElementById('paragraph');\n// get the element you wish to move it to\nlet div2 = document.getElementById('div2');\n\n// a button to illustrate moving it from one element to another\nlet button = document.getElementById('button');\n\nbutton.addEventListener('click', function() {\n  // create a new p tag to append the element to\n  let p = document.createElement('p');\n  // append the new p tag to the div2 element\n  div2.append(p);\n  // assign the targets textContent to the new p element\n  p.textContent = target.textContent;\n  // remove the old p element from the initial div\n  target.remove();\n  button.remove();\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#div1 {\nbackground: #ddd;\n}\n\n#div2 {\nbackground: #ff0;\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;\n  &lt;div id=\"div1\"&gt;&lt;span&gt;This is Div 1&lt;/span&gt;\n    &lt;p id=\"paragraph\"&gt;Lorem ipsum dolor sit amet, adipiscing pellentesque egestas.&lt;/p&gt;\n  &lt;/div&gt;\n  &lt;input type=\"button\" id=\"button\" value=\"Click to move element\"&gt;\n\n  &lt;div id=\"div2\"&gt;&lt;span&gt;This is Div 2&lt;/span&gt;\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><em><strong>Jquery:</strong></em></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let para = $('#paragraph');\nlet div2 = $('#div2');\n\nlet btn = $('#button');\n\nbtn.click(function(){\n  let el = $('&lt;p&gt;&lt;/p&gt;');\n  div2.append(el);\n  el.text(para.text());\n  $('#div1').children()[1].remove();\n  btn.remove();\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#div1 {\nbackground: #ddd;\n}\n\n#div2 {\nbackground: #ff0;\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;div&gt;\n  &lt;div id=\"div1\"&gt;&lt;span&gt;This is Div 1&lt;/span&gt;\n    &lt;p id=\"paragraph\"&gt;Lorem ipsum dolor sit amet, adipiscing pellentesque egestas.&lt;/p&gt;\n  &lt;/div&gt;\n  &lt;input type=\"button\" id=\"button\" value=\"Click to move element\"&gt;\n\n  &lt;div id=\"div2\"&gt;&lt;span&gt;This is Div 2&lt;/span&gt;\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 55, "user_id": 8834169, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LmPT3iH9rk4/AAAAAAAAAAI/AAAAAAAAEEo/tR0zOltvwQc/photo.jpg?sz=128", "display_name": "Abishek Roka", "link": "https://stackoverflow.com/users/8834169/abishek-roka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1105, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1600839094, "creation_date": 1510179835, "last_edit_date": 1510183819, "question_id": 47190737, "link": "https://stackoverflow.com/questions/47190737/moving-a-child-from-one-parent-to-another-in-javascript", "title": "Moving a child from one parent to another in JavaScript?", "body": "<p>I would like to be able to change an elements parent. Basically I would like to move an element from one parent to another. I would like this to happen in Javascript, preferably using only the JQuery library.</p>\n\n<p>Before code:</p>\n\n<pre><code>&lt;div id = \"div1\"&gt;\n  &lt;p id = \"paragraph\"&gt;\n    Lorem ipsum dolor sit amet, adipiscing pellentesque egestas.\n  &lt;/p&gt;\n&lt;/div&gt; \n&lt;div id = \"div2&gt;&lt;/div&gt;\n</code></pre>\n\n<p>After code:</p>\n\n<pre><code>&lt;div id = \"div1\"&gt; &lt;/div&gt; \n&lt;div id = \"div2&gt;\n  &lt;p id = \"paragraph\"&gt;\n    Lorem ipsum dolor sit amet, adipiscing pellentesque egestas.\n  &lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "highcharts", "angular2-aot", "angular2-highcharts"], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 5401223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe46b452d06bee692ec814130e05b646?s=128&d=identicon&r=PG&f=1", "display_name": "coconochao", "link": "https://stackoverflow.com/users/5401223/coconochao"}, "edited": false, "score": 1, "creation_date": 1510325110, "post_id": 47221456, "comment_id": 81400527, "body": "The only problem is &quot;import * as HC_exporting from &#39;highcharts/modules/exporting&#39;;&quot; gives me that &quot;resolves to a non-module entity&quot; error."}], "tags": [], "owner": {"reputation": 7526, "user_id": 4046096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EuzIa.jpg?s=128&g=1", "display_name": "Kacper Madej", "link": "https://stackoverflow.com/users/4046096/kacper-madej"}, "is_accepted": false, "score": 1, "last_activity_date": 1510312204, "creation_date": 1510312204, "answer_id": 47221456, "question_id": 47190713, "link": "https://stackoverflow.com/questions/47190713/how-to-import-exporting-js-and-export-data-js-using-angular2-highcharts-and-aot/47221456#47221456", "title": "How to import exporting.js and export-data.js using angular2-highcharts and AOT compiler?", "body": "<p>You can create an instance of <code>Highcharts</code> with all modules loaded like <code>HighchartsModule(Highcharts)</code> and then pass the instance to <code>forRoot</code> function as explained in the <a href=\"https://github.com/gevgeny/angular2-highcharts#access-to-the-highcharts-static-api\" rel=\"nofollow noreferrer\">angular2-highcharts docs</a>.</p>\n\n<p>You should be able to load the modules using <code>require</code> or <code>import</code>.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as Highcharts from 'highcharts';\nrequire('highcharts/modules/exporting')(Highcharts);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>import * as Highcharts from 'highcharts';\nimport * as HC_exporting from 'highcharts/modules/exporting';\nHC_exporting(Highcharts);\n</code></pre>\n\n<p>and next the same as in the mentioned docs:</p>\n\n<pre><code>@NgModule({\n    ...\n    imports: [\n      BrowserModule, \n      ChartModule.forRoot(\n-       require('highcharts'),\n+       Highcharts\n      )\n    ],\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 5401223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe46b452d06bee692ec814130e05b646?s=128&d=identicon&r=PG&f=1", "display_name": "coconochao", "link": "https://stackoverflow.com/users/5401223/coconochao"}, "is_accepted": true, "score": 0, "last_activity_date": 1510325465, "creation_date": 1510325465, "answer_id": 47225449, "question_id": 47190713, "link": "https://stackoverflow.com/questions/47190713/how-to-import-exporting-js-and-export-data-js-using-angular2-highcharts-and-aot/47225449#47225449", "title": "How to import exporting.js and export-data.js using angular2-highcharts and AOT compiler?", "body": "<p>Just in case this helps anyone, I couldn't do it using imports. Instead, I had to include the <code>&lt;script src=\"~/node_modules/highcharts/modules/exporting.js\"&gt;</code> tag in my HTML. Since this JS is a self-invoking function, that's all it takes to make it work.</p>\n"}], "owner": {"reputation": 131, "user_id": 5401223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe46b452d06bee692ec814130e05b646?s=128&d=identicon&r=PG&f=1", "display_name": "coconochao", "link": "https://stackoverflow.com/users/5401223/coconochao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1246, "favorite_count": 0, "accepted_answer_id": 47225449, "answer_count": 2, "score": 0, "last_activity_date": 1510325465, "creation_date": 1510179705, "question_id": 47190713, "link": "https://stackoverflow.com/questions/47190713/how-to-import-exporting-js-and-export-data-js-using-angular2-highcharts-and-aot", "title": "How to import exporting.js and export-data.js using angular2-highcharts and AOT compiler?", "body": "<p>I'm using angular2-highcharts and my chart works just fine, but I need to export the chart to XLS.</p>\n\n<p>All I need to achieve this is doing</p>\n\n<pre><code>HighchartsExporting(Highcharts);\nHighchartsExportData(Highcharts);\n</code></pre>\n\n<p>somewhere in the code, and the export options will show up by the chart.</p>\n\n<p>The problem is how to import HighchartsExporting and HighchartsExportData properly, because the <a href=\"https://www.npmjs.com/package/angular2-highcharts#add-highcharts-modules\" rel=\"nofollow noreferrer\">standard solution</a> </p>\n\n<pre><code>@NgModule({\n    imports: [\n      BrowserModule, \n      ChartModule.forRoot(\n        require('highcharts'),\n        require('highcharts/modules/exporting')\n      ],\n</code></pre>\n\n<p>won't work with AOT, giving me some <em>\"Error encountered resolving symbol values statically\"</em> at compile time.</p>\n\n<p>I can get it to work by doing </p>\n\n<pre><code>import * as HichartsExporting from 'highcharts/modules/exporting';\nimport * as HighchartsExportData from 'highcharts/modules/export-data';\n</code></pre>\n\n<p>as suggested <a href=\"https://github.com/gevgeny/angular2-highcharts/issues/126\" rel=\"nofollow noreferrer\">here</a>, but it gives me 2 errors: </p>\n\n<ul>\n<li><em>Error   TS2497: Module '\"xxxx/highcharts/modules/exporting\"' resolves\nto a non-module entity and cannot be imported using this construct.</em> - JIT compilation</li>\n<li><em>Cannot find module 'highcharts/modules/export-data'.</em> - AOT compilation</li>\n</ul>\n\n<p>I can get around this by doing</p>\n\n<pre><code>import HichartsExporting  = require('highcharts/modules/exporting');\nimport HighchartsExportData = require('highcharts/modules/export-data');\n</code></pre>\n\n<p>as suggested <a href=\"https://stackoverflow.com/questions/39415661/what-does-resolves-to-a-non-module-entity-and-cannot-be-imported-using-this\">here</a>, but after AOT compilation, I get \"<em>Uncaught ReferenceError: require is not defined</em>\" at runtime.</p>\n\n<p>All solutions seem to work fine in practice, I just can't compile them. Any suggestions are welcome.</p>\n"}, {"tags": ["javascript", "php", "browser-history"], "comments": [{"owner": {"reputation": 1969, "user_id": 5651536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e841ed95d19835d55d481e2678655df1?s=128&d=identicon&r=PG&f=1", "display_name": "John Ellmore", "link": "https://stackoverflow.com/users/5651536/john-ellmore"}, "edited": false, "score": 0, "creation_date": 1510179719, "post_id": 47190681, "comment_id": 81330807, "body": "There&#39;s no programmatic way to access a user&#39;s entire browsing history from a webpage. That&#39;d be a huge security issue. Users would need to export their browsing history to a file and then upload the file."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "reply_to_user": {"reputation": 1969, "user_id": 5651536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e841ed95d19835d55d481e2678655df1?s=128&d=identicon&r=PG&f=1", "display_name": "John Ellmore", "link": "https://stackoverflow.com/users/5651536/john-ellmore"}, "edited": false, "score": 0, "creation_date": 1510183362, "post_id": 47190681, "comment_id": 81332235, "body": "@JohnEllmore <i>&quot;There&#39;s no programmatic way to access a user&#39;s entire browsing history from a webpage.&quot;</i> Yes, there is. Every request a made from a <code>window</code> can be observed programmatically."}, {"owner": {"reputation": 1969, "user_id": 5651536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e841ed95d19835d55d481e2678655df1?s=128&d=identicon&r=PG&f=1", "display_name": "John Ellmore", "link": "https://stackoverflow.com/users/5651536/john-ellmore"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510183537, "post_id": 47190681, "comment_id": 81332292, "body": "@guest271314 yes, it&#39;s all recorded, and yes, you can observe requests, but there&#39;s no way to retrieve the <i>browser&#39;s internal browsing history from a webpage using JS APIs</i> like Php Learner&#39;s asking."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "reply_to_user": {"reputation": 1969, "user_id": 5651536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e841ed95d19835d55d481e2678655df1?s=128&d=identicon&r=PG&f=1", "display_name": "John Ellmore", "link": "https://stackoverflow.com/users/5651536/john-ellmore"}, "edited": false, "score": 0, "creation_date": 1510183749, "post_id": 47190681, "comment_id": 81332349, "body": "@JohnEllmore The totality of requests is the browsing history. The entire request history can be retrieved as a <code>.har</code> file at DevTools or Developer Tools. All requests from the <code>window</code> can be observed using <code>PerformanceObserver</code>."}], "answers": [{"tags": [], "owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": -1, "last_activity_date": 1510179897, "creation_date": 1510179897, "answer_id": 47190748, "question_id": 47190681, "link": "https://stackoverflow.com/questions/47190681/is-auto-uploading-your-browsing-history-to-mysql-db-possible/47190748#47190748", "title": "Is Auto Uploading Your Browsing History To Mysql DB Possible?", "body": "<p>The server has no access to the browser history, so server-side code can't access it.</p>\n\n<p>JavaScript embedded in a webpage has no access to the browser history.</p>\n\n<p>Browser extensions might (but the specifics would depend on which browser you were using). Stand-along software running on the computer hosting the browser might (and again, the specifics would depend on which browser you were using).</p>\n\n<p>Either of those two options could upload the results to your server where you could process it with whatever language you liked (including PHP and JavaScript (e.g. with Node.js)).</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "is_accepted": true, "score": -3, "last_activity_date": 1510180073, "creation_date": 1510180073, "answer_id": 47190784, "question_id": 47190681, "link": "https://stackoverflow.com/questions/47190681/is-auto-uploading-your-browsing-history-to-mysql-db-possible/47190784#47190784", "title": "Is Auto Uploading Your Browsing History To Mysql DB Possible?", "body": "<p>You can create a browser extension which logs each request made from the browser. You can then post that data, for example as a <code>.har</code> file, to a server.</p>\n\n<p>Without using an extension you can use <code>PerformanceObserver</code> to observer all requests made from the <code>document</code>, send each entry as <code>JSON</code> to server.</p>\n"}], "owner": {"reputation": 1, "user_id": 8902998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a23ec78467bbd564beee2ddcc676ff06?s=128&d=identicon&r=PG&f=1", "display_name": "Php Learner", "link": "https://stackoverflow.com/users/8902998/php-learner"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "closed_date": 1510180898, "accepted_answer_id": 47190784, "answer_count": 2, "score": -6, "last_activity_date": 1510180073, "creation_date": 1510179528, "question_id": 47190681, "link": "https://stackoverflow.com/questions/47190681/is-auto-uploading-your-browsing-history-to-mysql-db-possible", "closed_reason": "Needs more focus", "title": "Is Auto Uploading Your Browsing History To Mysql DB Possible?", "body": "<p>Php Geniuses,</p>\n\n<p>Q1. Is there a way I can auto upload my internet browsing history onto my website's mysql db so I don't have to do it manually one by one ?\nCan php do the job or do I have to look into Javascript ?\nIf php can do it then what php functions would do the job ? Else, which Javascript function ?</p>\n\n<p>Q2. Is there a way I can auto upload my bookmarks onto my website's mysql db so I don't have to do it manually one by one ?\nCan php do the job or do I have to look into Javascript ?\nIf php can do it then what php functions would do the job ? Else, which Javascript function ?</p>\n\n<p>Few yrs back, before del.icio.us was bought by another company, you could auto upload all your bookmarks to your del.icio.us account so that you can later access all your bookmarks on the web from any computer and you did not need to be standing in-front of your home computer to access your bookmarks that you saved on your home computer. I want to build something like that but I don't want the extraction &amp; uploading limited to bookmarks only. Want to extract &amp; upload both bookmarks &amp; browsing history where one script could be for uploading browsing history and the other script for uploading bookmarks.</p>\n\n<p>MySql database\nDB Name: links</p>\n\n<p>Tbl Name: bookmarks\nColumns: id,date_&amp;_time,urls</p>\n\n<p>Tbl Name: browsing_history\nColumns: id,date_&amp;_time,urls</p>\n\n<p>I am thinking of providing a link on my page that when clicked it extracts all your browsing history and uploads it to my db.\nI am thinking of providing a link on my page that when clicked it extracts all your bookmarks and uploads it to my db (like del.icio.us used to do in the past before it was sold).</p>\n\n<p>You are aware that, you can access you browsing history by clicking CTRL H. The urls you see in the browsing history list, these must be auto uploaded.</p>\n\n<p>And, you are aware that, you can access you bookmarks by clicking CTRL B. The urls you see in the bookmarks list, these must be auto uploaded.</p>\n"}, {"tags": ["javascript", "php", "wordpress"], "comments": [{"owner": {"reputation": 1969, "user_id": 5651536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e841ed95d19835d55d481e2678655df1?s=128&d=identicon&r=PG&f=1", "display_name": "John Ellmore", "link": "https://stackoverflow.com/users/5651536/john-ellmore"}, "edited": false, "score": 1, "creation_date": 1510179881, "post_id": 47190654, "comment_id": 81330876, "body": "Does the email address need to be unique? Can you just put in <code>no-email@example.com</code> for every booking instead?"}, {"owner": {"reputation": 11, "user_id": 8824997, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155677701692464/picture?type=large", "display_name": "NHUD", "link": "https://stackoverflow.com/users/8824997/nhud"}, "reply_to_user": {"reputation": 1969, "user_id": 5651536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e841ed95d19835d55d481e2678655df1?s=128&d=identicon&r=PG&f=1", "display_name": "John Ellmore", "link": "https://stackoverflow.com/users/5651536/john-ellmore"}, "edited": false, "score": 0, "creation_date": 1510181971, "post_id": 47190654, "comment_id": 81331734, "body": "needs to be unique i&#39;m afraid."}, {"owner": {"reputation": 3898, "user_id": 1934920, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UH0E8.png?s=128&g=1", "display_name": "IrkenInvader", "link": "https://stackoverflow.com/users/1934920/irkeninvader"}, "edited": false, "score": 0, "creation_date": 1510244622, "post_id": 47190654, "comment_id": 81362498, "body": "Your code actually works well in a fiddle <a href=\"https://jsfiddle.net/jLouyb3z/\" rel=\"nofollow noreferrer\">jsfiddle.net/jLouyb3z</a>, I think it&#39;s something in your environment making <code>onclick=...</code> not work.  Should be able to attach click listeners without using that though"}, {"owner": {"reputation": 3898, "user_id": 1934920, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UH0E8.png?s=128&g=1", "display_name": "IrkenInvader", "link": "https://stackoverflow.com/users/1934920/irkeninvader"}, "edited": false, "score": 0, "creation_date": 1510244959, "post_id": 47190654, "comment_id": 81362734, "body": "check out this updated fiddle, I attach listeners in the script <a href=\"https://jsfiddle.net/jLouyb3z/1/\" rel=\"nofollow noreferrer\">jsfiddle.net/jLouyb3z/1</a>"}, {"owner": {"reputation": 3898, "user_id": 1934920, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UH0E8.png?s=128&g=1", "display_name": "IrkenInvader", "link": "https://stackoverflow.com/users/1934920/irkeninvader"}, "edited": false, "score": 0, "creation_date": 1510245035, "post_id": 47190654, "comment_id": 81362789, "body": "if that doesn&#39;t work you might try putting them in window.onload like this <a href=\"https://jsfiddle.net/jLouyb3z/2/\" rel=\"nofollow noreferrer\">jsfiddle.net/jLouyb3z/2</a>"}, {"owner": {"reputation": 11, "user_id": 8824997, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155677701692464/picture?type=large", "display_name": "NHUD", "link": "https://stackoverflow.com/users/8824997/nhud"}, "edited": false, "score": 0, "creation_date": 1510245543, "post_id": 47190654, "comment_id": 81363163, "body": "Thanks - your second fiddle allows the &#39;fn_copy&#39; to work properly, however the function &#39;rand&#39; still throws the same error.."}, {"owner": {"reputation": 11, "user_id": 8824997, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155677701692464/picture?type=large", "display_name": "NHUD", "link": "https://stackoverflow.com/users/8824997/nhud"}, "edited": false, "score": 0, "creation_date": 1510245828, "post_id": 47190654, "comment_id": 81363372, "body": "Actually.. that works PERFECTLY! Thank you"}, {"owner": {"reputation": 3898, "user_id": 1934920, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UH0E8.png?s=128&g=1", "display_name": "IrkenInvader", "link": "https://stackoverflow.com/users/1934920/irkeninvader"}, "edited": false, "score": 0, "creation_date": 1510245903, "post_id": 47190654, "comment_id": 81363433, "body": ":boom: Awesome! good job, keep at it!"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8824997, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155677701692464/picture?type=large", "display_name": "NHUD", "link": "https://stackoverflow.com/users/8824997/nhud"}, "edited": false, "score": 0, "creation_date": 1510182323, "post_id": 47190786, "comment_id": 81331865, "body": "you sir, are a star."}, {"owner": {"reputation": 11, "user_id": 8824997, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155677701692464/picture?type=large", "display_name": "NHUD", "link": "https://stackoverflow.com/users/8824997/nhud"}, "edited": false, "score": 0, "creation_date": 1510185102, "post_id": 47190786, "comment_id": 81332717, "body": "Could i modify this using yours and my solutions, to appear in a metabox on it&#39;s own and just pass the randomly generated email to the correct box?"}, {"owner": {"reputation": 3898, "user_id": 1934920, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UH0E8.png?s=128&g=1", "display_name": "IrkenInvader", "link": "https://stackoverflow.com/users/1934920/irkeninvader"}, "reply_to_user": {"reputation": 11, "user_id": 8824997, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155677701692464/picture?type=large", "display_name": "NHUD", "link": "https://stackoverflow.com/users/8824997/nhud"}, "edited": false, "score": 0, "creation_date": 1510191733, "post_id": 47190786, "comment_id": 81334380, "body": "@NHUD so are you basically trying to avoid letting the user see the random email string, and just pass it to the server without anyone seeing it?"}, {"owner": {"reputation": 3898, "user_id": 1934920, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UH0E8.png?s=128&g=1", "display_name": "IrkenInvader", "link": "https://stackoverflow.com/users/1934920/irkeninvader"}, "reply_to_user": {"reputation": 11, "user_id": 8824997, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155677701692464/picture?type=large", "display_name": "NHUD", "link": "https://stackoverflow.com/users/8824997/nhud"}, "edited": false, "score": 0, "creation_date": 1510191914, "post_id": 47190786, "comment_id": 81334424, "body": "I&#39;m not very familiar with wordpress so I might not be able to help you with the specifics"}, {"owner": {"reputation": 11, "user_id": 8824997, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155677701692464/picture?type=large", "display_name": "NHUD", "link": "https://stackoverflow.com/users/8824997/nhud"}, "edited": false, "score": 0, "creation_date": 1510243877, "post_id": 47190786, "comment_id": 81361928, "body": "The user can see the email sure. I&#39;ve updated my post with a more concise version of what i&#39;d like to achieve... any help appreciated."}], "tags": [], "owner": {"reputation": 3898, "user_id": 1934920, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UH0E8.png?s=128&g=1", "display_name": "IrkenInvader", "link": "https://stackoverflow.com/users/1934920/irkeninvader"}, "is_accepted": false, "score": 0, "last_activity_date": 1510180125, "creation_date": 1510180125, "answer_id": 47190786, "question_id": 47190654, "link": "https://stackoverflow.com/questions/47190654/how-do-i-1-create-a-randomly-generated-email-in-javascript-2-auto-fill-a-for/47190786#47190786", "title": "How do I (1) Create A Randomly Generated Email in Javascript (2) Auto fill a form with it", "body": "<p>After this line</p>\n\n<p><code>} else if (!sln_validateEmail($(val).val())) {</code></p>\n\n<p>remove all the code that notifies the user of invalid input and set the value to your random email.</p>\n\n<pre><code>    } else if (!sln_validateEmail($(val).val())) {\n        $(val).val(Math.random().toString(36).substring(5) + \"@mysite.co.uk\")\n    }\n</code></pre>\n\n<p>I'm not sure you want to lean on that <code>Math.random</code> call to make billions of unique emails but it might get you by.</p>\n"}], "owner": {"reputation": 11, "user_id": 8824997, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155677701692464/picture?type=large", "display_name": "NHUD", "link": "https://stackoverflow.com/users/8824997/nhud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 325, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510243810, "creation_date": 1510179414, "last_edit_date": 1510243810, "question_id": 47190654, "link": "https://stackoverflow.com/questions/47190654/how-do-i-1-create-a-randomly-generated-email-in-javascript-2-auto-fill-a-for", "title": "How do I (1) Create A Randomly Generated Email in Javascript (2) Auto fill a form with it", "body": "<p>and thanks for taking time to at least pity my lack of knowledge.</p>\n\n<p>I have a wordpress installation (stay with me..) that has a plugin where you enter some information including an email, in order to add, in this instance a new booking (crm type thing). This is done in the back end by admin. On some occasions, the client doesn't have an email address and as a hacky workaround i'd like the system to just generate a random email address in the box whenever it's left empty.</p>\n\n<p>Much of the plugin is in Javascript and i think i've found the validation function where my snippet might need 'injecting':</p>\n\n<p>(1)\nI'm fairly comfortable with PHP, and have written something that generates a random email (which will only be used internally)</p>\n\n<pre><code>//Random email address generator\nfunction generateRandomString($length = 10) {\n$characters = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n$charactersLength = strlen($characters);\n$randomString = '';\nfor ($i = 0; $i &lt; $length; $i++) {\n    $randomString .= $characters[rand(0, $charactersLength - 1)];\n}\n$randomString .= \"@mysite.co.uk\";\nreturn $randomString;\n</code></pre>\n\n<p>}</p>\n\n<p>(yes I know, there are a million neater ways to accomplish the above)</p>\n\n<p>(2) I think i've found the bit of javascript that validates the email input and was just hoping this may be the chunk of code i'd need to look at in order to generate a random email, if nothing else was entered.</p>\n\n<pre><code>function sln_validateBooking() {\nvar $ = jQuery;\n$('.sln-invalid').removeClass('sln-invalid');\n$('.sln-error').remove();\nvar hasErrors = false;\n\nvar toValidate = [\n    '#_sln_booking_service_select'\n];\n\nvar fields = $('#salon-step-date').attr('data-required_user_fields').split(',');\n$.each(fields, function(k, val) {\n    toValidate.push('#_sln_booking_' + val);\n});\n\n$.each(toValidate, function (k, val) {\n    if (val == '#_sln_booking_phone' &amp;&amp; !$('[name=_sln_booking_createuser]').is(':checked')) {\n        return;\n    } else if (val == '#_sln_booking_email') {\n        if (!$('[name=_sln_booking_createuser]').is(':checked') &amp;&amp; !$(val).val()) {\n            return;\n        } else if (!sln_validateEmail($(val).val())) {\n            $(val).addClass('sln-invalid').parent().append('&lt;div class=\"sln-error error\"&gt;This field is not a valid email&lt;/div&gt;');\n            if (!hasErrors) $(val).focus();\n            hasErrors = true;\n        }\n    } else if (val == '#_sln_booking_service_select') {\n        if (!$('[name=_sln_booking\\\\[services\\\\]\\\\[\\\\]]').size()) {\n            $(val).addClass('sln-invalid').parent().append('&lt;div class=\"sln-error error\"&gt;This field is required&lt;/div&gt;');\n            if (!hasErrors) $(val).focus();\n            hasErrors = true;\n        }\n    } else if (!$(val).val()) {\n        $(val).addClass('sln-invalid').parent().append('&lt;div class=\"sln-error error\"&gt;This field is required&lt;/div&gt;');\n        if (!hasErrors) $(val).focus();\n        hasErrors = true;\n    }\n});\nreturn !hasErrors;\n</code></pre>\n\n<p>}</p>\n\n<p>What would be great to know is a) if i should just shoot myself in the face and never go near a line of code again and also b) if there is a neat solution to this that I may forever be in your debt for solving.</p>\n\n<p>UPDATE:\nI've decided it would probably be better to pass this randomly generated email address to the empty field via a metabox, and not to hack at the plugin's code (which would only get overwritten)..</p>\n\n<p>However.. I get 'uncaught referenceError : rand is not defined at HTMLinputelement.onclick for both functions if i do something like this:</p>\n\n<pre><code>&lt;input type=\"text\" id=\"txt_name\" placeholder=\"click to generate\" value=\"\" /&gt;\n&lt;br/&gt;\n&lt;input type=\"button\" class=\"button button-primary button-large\" id=\"btn_Gen\" \nonclick=\"rand();\" value=\"Generate\" /&gt;\n&lt;br/&gt;\n&lt;input type=\"button\" class=\"button button-primary button-large\" id=\"btn_Run\" \nonclick=\"fn_copy();\" value=\"Autofill\" /&gt;\n&lt;br/&gt;\n&lt;script&gt;\nfunction rand() {\ndocument.getElementById(\"txt_name\").value = generateRandStr();\n}\n\nfunction generateRandStr() {\nvar candidates = \"ABCDEFGHIJKLMNOPQRSTUVWXY123456789\";\nvar randomemail = \"\",\nrand;\nfor (var i = 0; i &lt; 1; i++) {\nfor (var j = 0; j &lt; 8; j++) {\nrand = Math.floor(Math.random() * candidates.length);\nrandomemail += candidates.charAt(rand);\n}\nrandomemail += \"@blahblah.co.uk\";\n}\nreturn randomemail;\n}\n//working    \nfunction fn_copy() {\nvar temp = document.getElementById(\"txt_name\").value;\nif (temp != \"\") {\ndocument.getElementById(\"_sln_booking_email\").value = temp;\n} else\nalert(\"Text is Empty\");\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>HELP!</p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 99450, "user_id": 1686485, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g3GW9.png?s=128&g=1", "display_name": "tymeJV", "link": "https://stackoverflow.com/users/1686485/tymejv"}, "edited": false, "score": 2, "creation_date": 1510179386, "post_id": 47190611, "comment_id": 81330661, "body": "<code>getElementsByClassName</code> returns a collection of elements. You&#39;d have to loop the collection, or specify an index before running your code. Such as <code>getElementsByClassName(&quot;idemo2&quot;)[0].getAttribute(&quot;src&quot;)</code>"}, {"owner": {"reputation": 3898, "user_id": 1934920, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UH0E8.png?s=128&g=1", "display_name": "IrkenInvader", "link": "https://stackoverflow.com/users/1934920/irkeninvader"}, "edited": false, "score": 2, "creation_date": 1510179487, "post_id": 47190611, "comment_id": 81330702, "body": "jquery solution - <code>var source = $(&#39;.idemo2&#39;).first().attr(&#39;src&#39;);</code>"}, {"owner": {"reputation": 1969, "user_id": 5651536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e841ed95d19835d55d481e2678655df1?s=128&d=identicon&r=PG&f=1", "display_name": "John Ellmore", "link": "https://stackoverflow.com/users/5651536/john-ellmore"}, "edited": false, "score": 0, "creation_date": 1510179531, "post_id": 47190611, "comment_id": 81330716, "body": "<code>document.querySelector(&#39;#demo-left .idemo2&#39;).src</code> should do it"}, {"owner": {"reputation": 549, "user_id": 8435652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IKG6r.jpg?s=128&g=1", "display_name": "tjallo", "link": "https://stackoverflow.com/users/8435652/tjallo"}, "reply_to_user": {"reputation": 3898, "user_id": 1934920, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UH0E8.png?s=128&g=1", "display_name": "IrkenInvader", "link": "https://stackoverflow.com/users/1934920/irkeninvader"}, "edited": false, "score": 0, "creation_date": 1510179589, "post_id": 47190611, "comment_id": 81330745, "body": "@IrkenInvader it is working now, thanks for the solution!"}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1510179683, "post_id": 47190611, "comment_id": 81330787, "body": "the <code>.first()</code> is redundant"}, {"owner": {"reputation": 3898, "user_id": 1934920, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UH0E8.png?s=128&g=1", "display_name": "IrkenInvader", "link": "https://stackoverflow.com/users/1934920/irkeninvader"}, "edited": false, "score": 0, "creation_date": 1510179790, "post_id": 47190611, "comment_id": 81330836, "body": "I assume it&#39;s possible he has multiple <code>idemo2</code>s?"}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "reply_to_user": {"reputation": 3898, "user_id": 1934920, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UH0E8.png?s=128&g=1", "display_name": "IrkenInvader", "link": "https://stackoverflow.com/users/1934920/irkeninvader"}, "edited": false, "score": 0, "creation_date": 1510179830, "post_id": 47190611, "comment_id": 81330854, "body": "@IrkenInvader yes, but, .attr only gets the value of the first element&#39;s attribute. It doesn&#39;t have a way of representing multiple values the same way .text() does."}, {"owner": {"reputation": 3898, "user_id": 1934920, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UH0E8.png?s=128&g=1", "display_name": "IrkenInvader", "link": "https://stackoverflow.com/users/1934920/irkeninvader"}, "edited": false, "score": 0, "creation_date": 1510179909, "post_id": 47190611, "comment_id": 81330889, "body": "oh neat, I didn&#39;t know that.  Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 1518, "user_id": 8719915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d00ca6fe7c9a0255388c312097749e9?s=128&d=identicon&r=PG", "display_name": "Jim-miraidev", "link": "https://stackoverflow.com/users/8719915/jim-miraidev"}, "is_accepted": true, "score": 0, "last_activity_date": 1510179728, "creation_date": 1510179728, "answer_id": 47190716, "question_id": 47190611, "link": "https://stackoverflow.com/questions/47190611/trying-to-retrieve-src-of-class-gives-error/47190716#47190716", "title": "Trying to retrieve &#39;src&#39; of class gives error", "body": "<p>jQuery</p>\n\n<pre><code>var imgSrc = $(\".idemo2\").attr('src');\n</code></pre>\n"}], "owner": {"reputation": 549, "user_id": 8435652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IKG6r.jpg?s=128&g=1", "display_name": "tjallo", "link": "https://stackoverflow.com/users/8435652/tjallo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 47190716, "answer_count": 1, "score": 0, "last_activity_date": 1510179728, "creation_date": 1510179252, "question_id": 47190611, "link": "https://stackoverflow.com/questions/47190611/trying-to-retrieve-src-of-class-gives-error", "title": "Trying to retrieve &#39;src&#39; of class gives error", "body": "<p>I need to retrieve the html link that is in src inside a div on a web page, the div looks like this:</p>\n\n<pre><code>&lt;iframe width=\"100%\" class=\"idemo2\" frameborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\" src=\"some/private/link\"&gt;\n&lt;/iframe&gt;\n</code></pre>\n\n<p>I have already managed to get the contents of this class inside a variable using this little bit of code:</p>\n\n<pre><code>var l = document.getElementById(\"demo-left\").getElementsByClassName(\"idemo2\")\n</code></pre>\n\n<p>But when I try to retrieve the src, either by adding .src or .getAttribute(\"src\") to the back of the above placed code, or directly to the variable, it gives back the value of 'undefined'.</p>\n\n<p>My question is how do I get the src inside my variable instead of the whole Class?</p>\n\n<p>jQuery is also an option to use, but I have not studied how to use jQuery (yet).</p>\n"}, {"tags": ["javascript", "c++", "pac"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9031345, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/cc0c7faae549a8f36124fa16ddb55c22?s=128&d=identicon&r=PG", "display_name": "pochi", "link": "https://stackoverflow.com/users/9031345/pochi"}, "is_accepted": false, "score": 0, "last_activity_date": 1512022006, "creation_date": 1512022006, "answer_id": 47566874, "question_id": 47190609, "link": "https://stackoverflow.com/questions/47190609/c-tiny-js-execute-javascript-function-from-external-file/47566874#47566874", "title": "c++ tiny-js execute javascript function from external file", "body": "<p>I made application server using TinyJS.\nsee this.\n<a href=\"https://github.com/pochi0701/wizdlive\" rel=\"nofollow noreferrer\">https://github.com/pochi0701/wizdlive</a></p>\n"}], "owner": {"reputation": 703, "user_id": 7114793, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/a2b17f579d15da5cedb9b57581fe9651?s=128&d=identicon&r=PG&f=1", "display_name": "TVA van Hesteren", "link": "https://stackoverflow.com/users/7114793/tva-van-hesteren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1512022006, "creation_date": 1510179243, "question_id": 47190609, "link": "https://stackoverflow.com/questions/47190609/c-tiny-js-execute-javascript-function-from-external-file", "title": "c++ tiny-js execute javascript function from external file", "body": "<p>I have a C++ application which has to execute a Javascript-function from a dynamic file. (I need to read a proxy.pac file).</p>\n\n<p>E.g. I have a C++ application running which reads the following file: proxy.pac (which contains the javascript function <code>FindProxyForURL(url, host)</code>, which I have to call with the two parameters.</p>\n\n<p>However, I have no idea how to start off and I can't find anything on the internet so far.</p>\n\n<p><strong><em>So basically my question is: how doe I load dynamic Javascript from a file and execute a function within that code(/file)</em></strong></p>\n"}, {"tags": ["javascript", "angularjs", "radio-button", "radio-group"], "answers": [{"tags": [], "owner": {"reputation": 12891, "user_id": 5630778, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3yro_KhP3ds/AAAAAAAAAAI/AAAAAAAAACE/mDQEhphwsL0/photo.jpg?sz=128", "display_name": "Slava Utesinov", "link": "https://stackoverflow.com/users/5630778/slava-utesinov"}, "is_accepted": true, "score": 1, "last_activity_date": 1510213671, "creation_date": 1510213671, "answer_id": 47196524, "question_id": 47190563, "link": "https://stackoverflow.com/questions/47190563/angular-js-default-checked-radio-button/47196524#47196524", "title": "angular js default checked radio button", "body": "<p>Use <code>ng-value</code> directive instead of plain <code>value</code> attribute:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.2.23/angular.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;script&gt;\r\n  angular.module('app', [])\r\n&lt;/script&gt;\r\n\r\n&lt;div ng-app='app' ng-init='test=true'&gt;\r\n  &lt;label&gt;\r\n    &lt;input type=\"radio\" ng-model=\"test\" ng-value=\"true\"&gt;\r\n    One\r\n  &lt;/label&gt;\r\n  &lt;br/&gt;\r\n  &lt;label&gt;\r\n    &lt;input type=\"radio\" ng-model=\"test\" ng-value=\"false\"&gt;\r\n    Two\r\n  &lt;/label&gt;\r\n  &lt;br/&gt;\r\n  &lt;button ng-click='test = !test'&gt;Click&lt;/button&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 689, "user_id": 3868051, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/e132422e334d5ce7d763a8d44b58729b?s=128&d=identicon&r=PG&f=1", "display_name": "user3868051", "link": "https://stackoverflow.com/users/3868051/user3868051"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 47196524, "answer_count": 1, "score": 0, "last_activity_date": 1510386550, "creation_date": 1510179008, "last_edit_date": 1510386550, "question_id": 47190563, "link": "https://stackoverflow.com/questions/47190563/angular-js-default-checked-radio-button", "title": "angular js default checked radio button", "body": "<p>I know this has probably been asked many times before and I have been through the solutions but none seemed to have worked for me...</p>\n\n<p><strong>html file:</strong></p>\n\n<pre><code>&lt;input id=\"sampleA\" name=\"try\" type=\"radio\" data-ng-model=\"$ctrl.isSampleA\" value=\"true\" data-ng-change=\"$ctrl.update()\"&gt;&lt;/input&gt;\n&lt;label for=\"sampleA\"&gt;Sample A&lt;/label&gt;\n&lt;input id=\"sampleB\" name=\"try\" type=\"radio\" data-ng-model=\"$ctrl.isSampleA\" value=\"false\" data-ng-change=\"$ctrl.update()\"&gt;&lt;/input&gt;\n&lt;label for=\"sampleB\"&gt;Sample B&lt;/label&gt;\n</code></pre>\n\n<p><strong>js file:</strong></p>\n\n<pre><code>//Initialization:\nvm.isSampleA = false;\n//This function returns the correct boolean value returned by API\n    vm.update = function() {\n    vm.isSampleA = response.rows[\"0\"].sampleA;\n};\n</code></pre>\n\n<p>Briefly I'll explain the flow: \nThe default check initially is 'Sample B' option. Then the user checks 'Sample A' option and sends the updated value to REST API, where it gets updated correctly. Next when I want to edit this form again:</p>\n\n<p>Expected: <strong>'Sample A'</strong> should be checked</p>\n\n<p>Actual: none of the 2 options are checked, even though the value of <strong>'isSampleA'</strong> is true.</p>\n"}, {"tags": ["javascript", "google-apps-script", "google-ads-api"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 8882189, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb60759b4bb5d3de0f4116ec258ae698?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/8882189/dave"}, "edited": false, "score": 0, "creation_date": 1510180926, "post_id": 47190900, "comment_id": 81331311, "body": "<code>{test2={anotherele1=anotherprice1, anotherele2=anotherprice2, anotherele3=anotherprice3}, test3={aaa=123.0, ccc=678.0, bbb=345.0}, test1={element1=price1, element2=price2, element3=price3}}</code> I got that result, is it normal? Why adword replace <code>:</code> for <code>=</code>"}, {"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "reply_to_user": {"reputation": 85, "user_id": 8882189, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb60759b4bb5d3de0f4116ec258ae698?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/8882189/dave"}, "edited": false, "score": 0, "creation_date": 1510181099, "post_id": 47190900, "comment_id": 81331380, "body": "@Dave Yes. At GAS, <code>=</code> means the data is parsed as JSON. For example, when you retrieve the value &quot;price3&quot;, you can retrieve it by <code>test.test1.element3</code>. If you want to see the structure, you can use <code>Logger.log(JSON.stringify(test, null, &quot;\\t&quot;))</code>. The result of my answer was retrieved using that."}], "tags": [], "owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "is_accepted": true, "score": 1, "last_activity_date": 1510180637, "creation_date": 1510180637, "answer_id": 47190900, "question_id": 47190499, "link": "https://stackoverflow.com/questions/47190499/the-script-is-working-fine-but-not-in-google-apps-script/47190900#47190900", "title": "The script is working fine, but not in &#39;google-apps-script&#39;", "body": "<p>If you want to use this script at Google Apps Script, <code>let</code> and the arrow operator cannot be used. So how about the following modification?</p>\n\n<h3>Modification points :</h3>\n\n<ol>\n<li>Replace from <code>let</code> to <code>var</code>.</li>\n<li>Replace from <code>data.forEach(line =&gt; {</code> to <code>data.forEach(function(line){</code>.</li>\n</ol>\n\n<h3>Modified script :</h3>\n\n<pre><code>function main() {\n    var data = [['test1', 'element1', 'price1'], ['', 'element2', 'price2'], ['', 'element3', 'price3'], ['','' ,'' ], ['test2', 'anotherele1', 'anotherprice1'], ['', 'anotherele2', 'anotherprice2'], ['', 'anotherele3', 'anotherprice3'], ['', '', ''], ['test3', 'aaa', 123.0], ['', 'bbb', 345.0], ['', 'ccc', 678.0], ['', '', ''], ['','' , '']]\n    var test = parseData(data)\n    Logger.log(test)\n}\n\nfunction isBlank(line) {\n    return line[0].trim() === '' &amp;&amp; line[1].trim() === '';\n}\n\nfunction parseData(data) {\n    const output = {};\n    var currentGroupName = '';\n    data.forEach(function(line){\n        if (isBlank(line)){\n            return; \n        }\n        if (line[0].trim().length &gt; 0) {\n            currentGroupName = line[0].trim();\n        }\n        output[currentGroupName] = output[currentGroupName] || {};\n        output[currentGroupName][line[1]] = line[2];\n    });\n    return output;\n}\n</code></pre>\n\n<h3>Result :</h3>\n\n<pre><code>{\n  \"test1\": {\n    \"element1\": \"price1\",\n    \"element2\": \"price2\",\n    \"element3\": \"price3\"\n  },\n  \"test2\": {\n    \"anotherele1\": \"anotherprice1\",\n    \"anotherele2\": \"anotherprice2\",\n    \"anotherele3\": \"anotherprice3\"\n  },\n  \"test3\": {\n    \"aaa\": 123,\n    \"bbb\": 345,\n    \"ccc\": 678\n  }\n}\n</code></pre>\n\n<h3>Reference :</h3>\n\n<ul>\n<li><a href=\"https://developers.google.com/apps-script/guides/services/#basic_javascript_features\" rel=\"nofollow noreferrer\">https://developers.google.com/apps-script/guides/services/#basic_javascript_features</a></li>\n</ul>\n\n<p>If I misunderstand your question, I'm sorry.</p>\n"}, {"tags": [], "owner": {"reputation": 6270, "user_id": 6586255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ozmjk.png?s=128&g=1", "display_name": "TheAddonDepot", "link": "https://stackoverflow.com/users/6586255/theaddondepot"}, "is_accepted": false, "score": 3, "last_activity_date": 1510181335, "creation_date": 1510181335, "answer_id": 47191035, "question_id": 47190499, "link": "https://stackoverflow.com/questions/47190499/the-script-is-working-fine-but-not-in-google-apps-script/47191035#47191035", "title": "The script is working fine, but not in &#39;google-apps-script&#39;", "body": "<p>Tanaike's solution should solve your problem. But allow me to add some more background information. Google Apps Script has been around since 2009 and it is an implementation of Ecmascript 5. The <code>let</code> statement and the arrow operator are only supported in Ecmascript 6 and up.</p>\n\n<p>There is a feature request for App Script to support EcmaScript 6 on Google's issue tracker. A lot of us in the Apps Script community have been clamoring for Ecmascript 6 support. You can lend your voice to the cause by starring the issue. </p>\n\n<p>Here's a link to it:\n<a href=\"https://issuetracker.google.com/issues/36764074\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/36764074</a></p>\n"}], "owner": {"reputation": 85, "user_id": 8882189, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fb60759b4bb5d3de0f4116ec258ae698?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/8882189/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 0, "accepted_answer_id": 47190900, "answer_count": 2, "score": 0, "last_activity_date": 1510181335, "creation_date": 1510178762, "last_edit_date": 1510180563, "question_id": 47190499, "link": "https://stackoverflow.com/questions/47190499/the-script-is-working-fine-but-not-in-google-apps-script", "title": "The script is working fine, but not in &#39;google-apps-script&#39;", "body": "<pre><code>function main() {\n\n    var data = [['test1', 'element1', 'price1'], ['', 'element2', 'price2'], ['', 'element3', 'price3'], ['','' ,'' ], ['test2', 'anotherele1', 'anotherprice1'], ['', 'anotherele2', 'anotherprice2'], ['', 'anotherele3', 'anotherprice3'], ['', '', ''], ['test3', 'aaa', 123.0], ['', 'bbb', 345.0], ['', 'ccc', 678.0], ['', '', ''], ['','' , '']]\n\n    var test = parseData(data)\n    Logger.log(test)\n}\n\n\nfunction isBlank(line) {\n    return line[0].trim() === '' &amp;&amp; line[1].trim() === '';\n}\n\n\nfunction parseData(data) {\n\n    const output = {};\n    let currentGroupName = '';\n\n    data.forEach(line =&gt; {\n        if (isBlank(line)){\n            return; \n        }\n\n        if (line[0].trim().length &gt; 0) {\n            currentGroupName = line[0].trim();\n        }\n\n        output[currentGroupName] = output[currentGroupName] || {};\n\n        output[currentGroupName][line[1]] = line[2];\n    });\n\n    return output;\n}\n</code></pre>\n\n<p>The following JS script is working perfectly fine whenever I run it on my computer. However, if I try to run as <code>Preview</code>(sort of Adwords-console) on Adwords, I got an synthax error <code>Syntax errors in script: Missing ; before statement. (line 23)</code>. Be aware that line 23 is simply <code>let currentGroupName = '';</code>. Is there a clean way to fix that? This code is adapted to be testing out on your own computer as well as with google-apps-scripts.</p>\n\n<p>Here is a picture of my problem : </p>\n\n<p><a href=\"https://i.stack.imgur.com/GdKzI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GdKzI.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "reactjs", "onclick"], "answers": [{"tags": [], "owner": {"reputation": 46583, "user_id": 36687, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/170325813beddd7418a3b55ffbf378f9?s=128&d=identicon&r=PG", "display_name": "Brian Genisio", "link": "https://stackoverflow.com/users/36687/brian-genisio"}, "is_accepted": false, "score": 4, "last_activity_date": 1510178861, "creation_date": 1510178861, "answer_id": 47190526, "question_id": 47190459, "link": "https://stackoverflow.com/questions/47190459/pass-variable-to-onclick-in-react/47190526#47190526", "title": "Pass variable to onClick in React", "body": "<p>You can create an anonymous function and call your function with params, like this:</p>\n\n<pre><code>&lt;div onClick={e =&gt; this.handleClickDeleteIcon(e, index)}&gt;\n  &lt;DeleteForever /&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 2754, "user_id": 699285, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/37511b1e65178162ce63a8920bb117b7?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/699285/marc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1778, "favorite_count": 0, "closed_date": 1510210500, "answer_count": 1, "score": 2, "last_activity_date": 1510178861, "creation_date": 1510178582, "question_id": 47190459, "link": "https://stackoverflow.com/questions/47190459/pass-variable-to-onclick-in-react", "closed_reason": "Duplicate", "title": "Pass variable to onClick in React", "body": "<p>I am developing my UI using React and (for now at least) using Material-UI, which has  and  tags. Inside ListItem, I want to detect a click on an icon. The issue is my list will have a number of listitems, and I want to pass the index of the listite into my click handler. But I also need to pass in the click event itself. My code looks like this:</p>\n\n<pre><code>class SomeList extends React.Component { \n\n    handleClickDeleteIcon(e) {\n        e.stopPropagation();\n        console.log('Fired handleClickDeleteIcon()!');\n    }\n\n    everywhereClickFunction(e) {\n        console.log('Fired everywhereClickFunction()!');\n    }\n\n    render() {\n        return (\n            &lt;List&gt;\n              &lt;Subheader inset={true}&gt;Some Files&lt;/Subheader&gt;\n              &lt;ListItem\n                leftAvatar={&lt;Avatar icon={&lt;ActionAssignment /&gt;} backgroundColor={blue500} /&gt;}\n                rightIcon={\n                    &lt;div onClick={this.handleClickDeleteIcon}&gt;\n                        &lt;DeleteForever /&gt;\n                    &lt;/div&gt;\n                }\n                primaryText=\"Vacation itinerary\"\n                secondaryText=\"Jan 20, 2014\"\n                onTouchTap={this.everywhereClickFunction}\n                onClick={this.everywhereClickFunction}\n              /&gt;\n              &lt;ListItem\n                leftAvatar={&lt;Avatar icon={&lt;ActionAssignment /&gt;} backgroundColor={blue500} /&gt;}\n                rightIcon={\n                    &lt;div onClick={this.handleClickDeleteIcon}&gt;\n                        &lt;DeleteForever /&gt;\n                    &lt;/div&gt;\n                }\n                primaryText=\"Kitchen remodel\"\n                secondaryText=\"Jan 10, 2014\"\n              /&gt;\n              &lt;ListItem\n                leftAvatar={&lt;Avatar icon={&lt;ActionAssignment /&gt;} backgroundColor={blue500} /&gt;}\n                rightIcon={\n                    &lt;div onClick={this.handleClickDeleteIcon}&gt;\n                        &lt;DeleteForever /&gt;\n                    &lt;/div&gt;\n                }\n                primaryText=\"Something else\"\n                secondaryText=\"Nov 08, 2017\"\n              /&gt;\n            &lt;/List&gt;\n        );\n    }\n);\n</code></pre>\n\n<p>So how can I use onClick for each rightIcon to pass in a variable (like a list index or some unique id) that I can use inside handleClickDeleteIcon(e)? Note that I need handleClickDeleteIcon to also get the event e so I cant call e.stopPropagation(). </p>\n"}, {"tags": ["javascript", "node.js"], "comments": [{"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 1, "creation_date": 1510178933, "post_id": 47190450, "comment_id": 81330465, "body": "I think this will be quite hard with Node alone. If you know where the code will be deployed, I think it would be better to leverage what the operating system already is doing. For example on a mac you can access spotlight, which already catalogs files by content. There&#39;s a module for it too: <a href=\"https://www.npmjs.com/package/node-spotlight\" rel=\"nofollow noreferrer\">npmjs.com/package/node-spotlight</a> . Maybe there are for the OS you are using too.."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510179073, "post_id": 47190450, "comment_id": 81330517, "body": "Where does the code at Question read the contents of the file? Have you tried converting the <code>.pdf</code> and excel contents to plain text before searching the contents?"}, {"owner": {"reputation": 461, "user_id": 1170039, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b073d75eb176a0a1ba595dcf77936024?s=128&d=identicon&r=PG", "display_name": "Helen Danger Burns", "link": "https://stackoverflow.com/users/1170039/helen-danger-burns"}, "reply_to_user": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1510179291, "post_id": 47190450, "comment_id": 81330627, "body": "@Mark_M that&#39;s exactly what I need! But the vast majority of users will be on Windows machines... where would I look for that?!"}, {"owner": {"reputation": 461, "user_id": 1170039, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b073d75eb176a0a1ba595dcf77936024?s=128&d=identicon&r=PG", "display_name": "Helen Danger Burns", "link": "https://stackoverflow.com/users/1170039/helen-danger-burns"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510179370, "post_id": 47190450, "comment_id": 81330655, "body": "@guest271314 It doesn&#39;t yet... with the different file formats I wasn&#39;t quite sure how to approach it... I had found several pdf to text node modules but without a module for each file type it&#39;s not good!"}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510179440, "post_id": 47190450, "comment_id": 81330687, "body": "Have not tried to use an excel file in some time. Have you tried using <code>FileReader</code> to read <code>.pdf</code> files?"}, {"owner": {"reputation": 50397, "user_id": 1318694, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JPEVC.png?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/1318694/matt"}, "edited": false, "score": 0, "creation_date": 1510190740, "post_id": 47190450, "comment_id": 81334129, "body": "Are all these documents on clients machines or on a central server?"}, {"owner": {"reputation": 461, "user_id": 1170039, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b073d75eb176a0a1ba595dcf77936024?s=128&d=identicon&r=PG", "display_name": "Helen Danger Burns", "link": "https://stackoverflow.com/users/1170039/helen-danger-burns"}, "reply_to_user": {"reputation": 50397, "user_id": 1318694, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JPEVC.png?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/1318694/matt"}, "edited": false, "score": 0, "creation_date": 1510224636, "post_id": 47190450, "comment_id": 81348244, "body": "@Matt on the clients machine"}, {"owner": {"reputation": 461, "user_id": 1170039, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b073d75eb176a0a1ba595dcf77936024?s=128&d=identicon&r=PG", "display_name": "Helen Danger Burns", "link": "https://stackoverflow.com/users/1170039/helen-danger-burns"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510224751, "post_id": 47190450, "comment_id": 81348339, "body": "@guest271314 Ooo interesting... looking at this now... it doesn&#39;t SEEM limited to just PDF&#39;s as well, which is key. If I can&#39;t do them all then there&#39;s no point doing one."}, {"owner": {"reputation": 461, "user_id": 1170039, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b073d75eb176a0a1ba595dcf77936024?s=128&d=identicon&r=PG", "display_name": "Helen Danger Burns", "link": "https://stackoverflow.com/users/1170039/helen-danger-burns"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510227219, "post_id": 47190450, "comment_id": 81349874, "body": "@guest271314 FileReader requires the files to be manually selected by the user for security purposes so this isn&#39;t going to be any good for my purposes I&#39;m afraid. Thanks though."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510237176, "post_id": 47190450, "comment_id": 81356845, "body": "@HelenDangerBurns <code>FileReader</code> can read any <code>Blob</code> or <code>File</code> object, not only files selected by user <a href=\"https://www.npmjs.com/package/filereader\" rel=\"nofollow noreferrer\">npmjs.com/package/filereader</a>, see also  <a href=\"https://www.npmjs.com/package/screw-filereader\" rel=\"nofollow noreferrer\">npmjs.com/package/screw-filereader</a>"}], "owner": {"reputation": 461, "user_id": 1170039, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b073d75eb176a0a1ba595dcf77936024?s=128&d=identicon&r=PG", "display_name": "Helen Danger Burns", "link": "https://stackoverflow.com/users/1170039/helen-danger-burns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1881, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1510178510, "creation_date": 1510178510, "question_id": 47190450, "link": "https://stackoverflow.com/questions/47190450/search-file-contents-for-string-in-node-js", "title": "Search file contents for string in Node.js", "body": "<p>I am trying to replicate the Dropbox javascript SDK filesSearch on a local directory using Node.js. I need to basically walk through the directory and search every filename, and it's contents, against a search term, and if a match(es) are found, add them to a results array that can be sorted on matches at the end.</p>\n\n<p>After endlessly searching for a node module that can do this, I decided to do it myself. I've successfully got the walking through the directory down fine, and I can do a simple match on the folder name and file name, but I cannot see how to search the file contents?! The files are predominantly PDF's but may also be Word and Excel documents also.</p>\n\n<p>This is my 'walking' code so far:</p>\n\n<pre><code>walk_through_local_repository(store.get(\"local_repository_path\"), search_term);\nvar results = [];\n\nfunction walk_through_local_repository(path, search_term) {\n    fs.readdir(path, (err, dir) =&gt; {\n        for(var i = 0; i &lt; dir.length; ++i) {\n            // ignore hidden files/folders\n            if(dir[i].charAt(0) !== \".\" &amp;&amp; dir[i] !== \"TEMP\")\n            {\n                // determine whether or not the item is a file or a folder\n                if(fs.lstatSync(path+\"/\"+dir[i]).isDirectory())\n                {\n                    // it's a folder, check the folder name for matches\n                    if(dir[i].toLowerCase().indexOf(search_term) !== -1)\n                    {\n                        var score = 1;\n                    }\n                    else\n                    {\n                        var score = 0;\n                    }\n\n                    // go again\n                    console.log(\"going to walk_through_local_repository again for \"+path+\"/\"+dir[i]+\".\");\n                    walk_through_local_repository(path+\"/\"+dir[i], search_term);\n                }\n                else if(fs.lstatSync(path+\"/\"+dir[i]).isFile())\n                {\n                    // It's a file, check the filename for matches\n                    if(dir[i].toLowerCase().indexOf(search_term) !== -1)\n                    {\n                        var score = 1;\n                    }\n                    else\n                    {\n                        var score = 0;\n                    }\n\n                    // check the file CONTENTS here and update the score for this file again\n                }\n                results[i] = {path:path+\"/\"+dir[i], score:score};\n            }\n        }\n    });\n}\n</code></pre>\n\n<p>So I have three questions really...</p>\n\n<ol>\n<li>Is there a better way to do this? Have I missed a module somewhere?!</li>\n<li>If not, how do I search the contents of the files? PDF's, Word docs and Excel Spreadsheets</li>\n<li>How do I know when it's been through the whole directory and I can display the results array?</li>\n</ol>\n"}, {"tags": ["javascript", "settimeout", "cleartimeout"], "comments": [{"owner": {"reputation": 38258, "user_id": 560593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99c93a3c235763708dd7263e197acdc6?s=128&d=identicon&r=PG", "display_name": "Patrick Evans", "link": "https://stackoverflow.com/users/560593/patrick-evans"}, "edited": false, "score": 2, "creation_date": 1510178540, "post_id": 47190426, "comment_id": 81330293, "body": "You are overwriting timeout in each iteration, so your clearTimeout is only ever going to stop the very last one"}, {"owner": {"reputation": 1765, "user_id": 5503625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8qZ5N.png?s=128&g=1", "display_name": "Piyin", "link": "https://stackoverflow.com/users/5503625/piyin"}, "edited": false, "score": 0, "creation_date": 1510178561, "post_id": 47190426, "comment_id": 81330306, "body": "What exactly do you want to accomplish? You&#39;re only clearing the 1000th timeout, the rest will still work normally"}, {"owner": {"reputation": 46, "user_id": 6517312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3ec4f036882c3cddc5dd9ce5994439c?s=128&d=identicon&r=PG&f=1", "display_name": "N. Richli", "link": "https://stackoverflow.com/users/6517312/n-richli"}, "edited": false, "score": 0, "creation_date": 1510178630, "post_id": 47190426, "comment_id": 81330335, "body": "After the last timeout, I&#39;d like to change the image of the div.."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1510178642, "post_id": 47190426, "comment_id": 81330346, "body": "<code>clearTimeout</code> is working exactly as expected."}, {"owner": {"reputation": 46, "user_id": 6517312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3ec4f036882c3cddc5dd9ce5994439c?s=128&d=identicon&r=PG&f=1", "display_name": "N. Richli", "link": "https://stackoverflow.com/users/6517312/n-richli"}, "edited": false, "score": 0, "creation_date": 1510178712, "post_id": 47190426, "comment_id": 81330373, "body": "okay, then how should I resolve that?"}, {"owner": {"reputation": 559, "user_id": 5149051, "user_type": "registered", "profile_image": "https://graph.facebook.com/480167898809181/picture?type=large", "display_name": "Jared Bledsoe", "link": "https://stackoverflow.com/users/5149051/jared-bledsoe"}, "edited": false, "score": 0, "creation_date": 1510179545, "post_id": 47190426, "comment_id": 81330723, "body": "Please make it clear as to what you are trying to make, are you doing a slideshow?"}], "answers": [{"comments": [{"owner": {"reputation": 46, "user_id": 6517312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3ec4f036882c3cddc5dd9ce5994439c?s=128&d=identicon&r=PG&f=1", "display_name": "N. Richli", "link": "https://stackoverflow.com/users/6517312/n-richli"}, "edited": false, "score": 0, "creation_date": 1510179292, "post_id": 47190542, "comment_id": 81330628, "body": "thank you so much, but now, the images aren&#39;t changing anymore"}, {"owner": {"reputation": 594, "user_id": 8819974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/813c35835a2716e3033a5c5b3a45cff8?s=128&d=identicon&r=PG&f=1", "display_name": "Roman Habibi", "link": "https://stackoverflow.com/users/8819974/roman-habibi"}, "reply_to_user": {"reputation": 46, "user_id": 6517312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3ec4f036882c3cddc5dd9ce5994439c?s=128&d=identicon&r=PG&f=1", "display_name": "N. Richli", "link": "https://stackoverflow.com/users/6517312/n-richli"}, "edited": false, "score": 0, "creation_date": 1510179446, "post_id": 47190542, "comment_id": 81330689, "body": "what do you mean? Once you stop all timeouts, nothing will be changing any more. And using this code, you stop everything immediately, so if you want to stop the images changing only after some time you need to call <code>clearTimeout</code> after some time as well, see updated answer"}], "tags": [], "owner": {"reputation": 594, "user_id": 8819974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/813c35835a2716e3033a5c5b3a45cff8?s=128&d=identicon&r=PG&f=1", "display_name": "Roman Habibi", "link": "https://stackoverflow.com/users/8819974/roman-habibi"}, "is_accepted": false, "score": 0, "last_activity_date": 1510179659, "last_edit_date": 1510179659, "creation_date": 1510178913, "answer_id": 47190542, "question_id": 47190426, "link": "https://stackoverflow.com/questions/47190426/cleartimeout-does-not-work-proberly/47190542#47190542", "title": "clearTimeout does not work proberly", "body": "<p>You are overwriting the reference to <code>timeout</code> each iteration, so you are only having the reference to the last timeout stored. You can try to save all references to timeouts into an array e.g. <code>timeouts</code>, and after that loop through the array and clear each invoked timeout;</p>\n\n<pre><code>var timeouts = [];\n\nfunction start() {\n    for (var i = 0; i &lt; 1000; i += 50) {\n        var timeout = setTimeout(function () {\n            aRandomNumber1 = random();\n            aRandomNumber2 = random();\n            aRandomNumber3 = random();\n\n            document.getElementById('field1').innerHTML = '&lt;img src=\"' + img[aRandomNumber1] + '\" alt=\"Bild1\"&gt;';\n            document.getElementById('field2').innerHTML = '&lt;img src=\"' + img[aRandomNumber2] + '\" alt=\"Bild2\"&gt;';\n            document.getElementById('field3').innerHTML = '&lt;img src=\"' + img[aRandomNumber3] + '\" alt=\"Bild3\"&gt;';\n        }, i);\n       timeouts.push(timeout);\n    }\nfunction clearTimeouts(){\n   timeouts.forEach(timeout =&gt;{ clearTimeout(timeout);});\n   timeouts = [];\n}\n// stopping all timeouts after 1000 ms\nsetTimeout(clearTimeouts, 1000);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 559, "user_id": 5149051, "user_type": "registered", "profile_image": "https://graph.facebook.com/480167898809181/picture?type=large", "display_name": "Jared Bledsoe", "link": "https://stackoverflow.com/users/5149051/jared-bledsoe"}, "is_accepted": true, "score": 0, "last_activity_date": 1510179428, "creation_date": 1510179428, "answer_id": 47190659, "question_id": 47190426, "link": "https://stackoverflow.com/questions/47190426/cleartimeout-does-not-work-proberly/47190659#47190659", "title": "clearTimeout does not work proberly", "body": "<p>As others have stated, this line:</p>\n\n<pre><code>        timeout = setTimeout(function () {\n</code></pre>\n\n<p>Is simply re-creating a variable called timeout, not creating a new instance of it. When you CAN do, is make the timeout an object. Objects are functions that act as a \"template\" to create more instances of themselves, so you will actually have 1,000 different setTimeout functions.</p>\n\n<pre><code>var timeout = 0;\n//Store all created functions\nvar functions = [];\n\nfunction start() {\n    //Create 1000 objects and store them in the array\n    for (var i = 0; i &lt; 1000; i++) {\n        functions.push(new Timeout());\n    }\n\n    function Timeout() {\n        this.timeout = setTimeout(function () {\n            aRandomNumber1 = random();\n            aRandomNumber2 = random();\n            aRandomNumber3 = random();\n\n            document.getElementById('field1').innerHTML = '&lt;img src=\"' + img[aRandomNumber1] + '\" alt=\"Bild1\"&gt;';\n            document.getElementById('field2').innerHTML = '&lt;img src=\"' + img[aRandomNumber2] + '\" alt=\"Bild2\"&gt;';\n            document.getElementById('field3').innerHTML = '&lt;img src=\"' + img[aRandomNumber3] + '\" alt=\"Bild3\"&gt;';\n            }, i);\n        }\n    }\n\nfor (var i = 0; i &lt; functions.length; i++) {\n    functions[i].clearInterval(functions[i].timeout);\n}\n\ntimeout = 0;\n</code></pre>\n"}], "owner": {"reputation": 46, "user_id": 6517312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3ec4f036882c3cddc5dd9ce5994439c?s=128&d=identicon&r=PG&f=1", "display_name": "N. Richli", "link": "https://stackoverflow.com/users/6517312/n-richli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 47190659, "answer_count": 2, "score": -1, "last_activity_date": 1510179659, "creation_date": 1510178389, "question_id": 47190426, "link": "https://stackoverflow.com/questions/47190426/cleartimeout-does-not-work-proberly", "title": "clearTimeout does not work proberly", "body": "<p>Here is my code:</p>\n\n<pre><code> var timeout = 0;\n\nfunction start() {\n    for (var i = 0; i &lt; 1000; i += 50) {\n        timeout = setTimeout(function () {\n            aRandomNumber1 = random();\n            aRandomNumber2 = random();\n            aRandomNumber3 = random();\n\n            document.getElementById('field1').innerHTML = '&lt;img src=\"' + img[aRandomNumber1] + '\" alt=\"Bild1\"&gt;';\n            document.getElementById('field2').innerHTML = '&lt;img src=\"' + img[aRandomNumber2] + '\" alt=\"Bild2\"&gt;';\n            document.getElementById('field3').innerHTML = '&lt;img src=\"' + img[aRandomNumber3] + '\" alt=\"Bild3\"&gt;';\n        }, i);\n    }\n\n    clearTimeout(timeout);\n    timeout = 0;\n</code></pre>\n\n<p>The images aren't stopping on this point. There should be changed at the next step.</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 86, "user_id": 1303107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afe3e4f94c3ed2f48b9ad4c2756c8ae1?s=128&d=identicon&r=PG", "display_name": "Sinisa", "link": "https://stackoverflow.com/users/1303107/sinisa"}, "edited": false, "score": 0, "creation_date": 1510178611, "post_id": 47190385, "comment_id": 81330328, "body": "Please provide the css code related to the image."}, {"owner": {"reputation": 101, "user_id": 5013255, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10153434381947899/picture?type=large", "display_name": "Nebih Ba\u015faran", "link": "https://stackoverflow.com/users/5013255/nebih-ba%c5%9faran"}, "reply_to_user": {"reputation": 86, "user_id": 1303107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afe3e4f94c3ed2f48b9ad4c2756c8ae1?s=128&d=identicon&r=PG", "display_name": "Sinisa", "link": "https://stackoverflow.com/users/1303107/sinisa"}, "edited": false, "score": 0, "creation_date": 1510230831, "post_id": 47190385, "comment_id": 81352248, "body": "@Sinisa I added the css as well"}], "answers": [{"tags": [], "owner": {"reputation": 725, "user_id": 2506213, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/eUM8z.png?s=128&g=1", "display_name": "Kartik Prasad", "link": "https://stackoverflow.com/users/2506213/kartik-prasad"}, "is_accepted": false, "score": 0, "last_activity_date": 1510178644, "creation_date": 1510178644, "answer_id": 47190472, "question_id": 47190385, "link": "https://stackoverflow.com/questions/47190385/fullscreen-slider-image-appears-cropped/47190472#47190472", "title": "Fullscreen slider image appears cropped", "body": "<p>Not sure you can get a perfect result here but have you tried the backgound-size cover property?\n<a href=\"https://www.w3schools.com/cssref/css3_pr_background-size.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/cssref/css3_pr_background-size.asp</a></p>\n\n<pre><code>div {\n    background-image:url('smiley.gif');\n    background-repeat:no-repeat;\n    background-size:cover;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1161, "user_id": 8465105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460717adac56dcbf2692eaa8f291bec1?s=128&d=identicon&r=PG&f=1", "display_name": "nish", "link": "https://stackoverflow.com/users/8465105/nish"}, "is_accepted": false, "score": 2, "last_activity_date": 1510182545, "creation_date": 1510182545, "answer_id": 47191266, "question_id": 47190385, "link": "https://stackoverflow.com/questions/47190385/fullscreen-slider-image-appears-cropped/47191266#47191266", "title": "Fullscreen slider image appears cropped", "body": "<p>You can try 'background-size: cover' for this. </p>\n\n<p><strong>Syntax</strong></p>\n\n<pre><code>background-size: auto|length|cover|contain|initial|inherit;\n</code></pre>\n\n<p>The attached link has the sample code for your reference. <a href=\"https://jsfiddle.net/jv92788r/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/jv92788r/</a></p>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 86, "user_id": 1303107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afe3e4f94c3ed2f48b9ad4c2756c8ae1?s=128&d=identicon&r=PG", "display_name": "Sinisa", "link": "https://stackoverflow.com/users/1303107/sinisa"}, "is_accepted": false, "score": 0, "last_activity_date": 1510320875, "creation_date": 1510320875, "answer_id": 47224010, "question_id": 47190385, "link": "https://stackoverflow.com/questions/47190385/fullscreen-slider-image-appears-cropped/47224010#47224010", "title": "Fullscreen slider image appears cropped", "body": "<p>First I would remove the slider on mobile, most of my clients ask me to delete the slider on smaller res because the slider content usually is not visible like on higher res. Second solution is to have different slider images that will fit better on mobile. Right now the offers on banners are not that visible on smaller resolution like 360px. The problem on bigger resolution like 1920 is that the images are too small. For example the first image is 1200x600px and the other 3 images are 1000x500px. And you default slider height is 745px. That's why the images dont look good. Try to make the images bigger to fit the slider container and you should have half of the problem done :)</p>\n"}], "owner": {"reputation": 101, "user_id": 5013255, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10153434381947899/picture?type=large", "display_name": "Nebih Ba\u015faran", "link": "https://stackoverflow.com/users/5013255/nebih-ba%c5%9faran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1510320875, "creation_date": 1510178197, "last_edit_date": 1510230812, "question_id": 47190385, "link": "https://stackoverflow.com/questions/47190385/fullscreen-slider-image-appears-cropped", "title": "Fullscreen slider image appears cropped", "body": "<p>The fullscreen slider image I put on my website seems partially cropped on various platforms (mobile, small screen, etc). I am trying to fit and stretch it on my homepage and would like it to look the same (with its fullsize) on any platform. Tried many methods according to my search on web, but couldn't find any solutions.</p>\n\n<p>Here is the part of the code:</p>\n\n<pre><code>&lt;section class=\"bannercontainer\"&gt;\n        &lt;div class=\"fullscreenbanner-container\"&gt;\n            &lt;div class=\"fullscreenbanner\"&gt;\n\n                &lt;ul&gt;\n                    &lt;li data-transition=\"parallaxvertical\" data-slotamount=\"5\" data-masterspeed=\"1000\" data-title=\"Slide 1\"&gt;\n                        &lt;img src=\"~/img/index/slider/slider-05.jpg\" alt=\"slidebg1\" data-bgfit=\"cover\" data-bgposition=\"center\" data-bgrepeat=\"no-repeat\" &gt;\n</code></pre>\n\n<p>Here is the related css part:</p>\n\n<pre><code>.fullscreenbanner-container {\n  width: 100%;\n  position: relative;\n  padding: 0; }\n  .fullscreenbanner-container .tp-bullets.preview4 {\n    opacity: 1 !important;\n    height: auto !important; }\n    @media (min-width: 992px) {\n      .fullscreenbanner-container .tp-bullets.preview4 {\n        bottom: 30px !important; } }\n  .fullscreenbanner-container .tp-bullets.preview4 .bullet {\n    background: rgba(255, 255, 255, 0.5) !important;\n    -webkit-border-radius: 50%;\n    -moz-border-radius: 50%;\n    border-radius: 50%;\n    box-shadow: none !important;\n    width: 6px !important;\n    height: 6px !important;\n    border: 2px solid rgba(255, 255, 255, 0) !important;\n    display: inline-block;\n    margin-right: 14px !important;\n    margin-left: 0 !important;\n    margin-bottom: 0px !important;\n    -webkit-transition: background-color 0.2s, border-color 0.2s;\n    -moz-transition: background-color 0.2s, border-color 0.2s;\n    -ms-transition: background-color 0.2s, border-color 0.2s;\n    -o-transition: background-color 0.2s, border-color 0.2s;\n    transition: background-color 0.2s, border-color 0.2s;\n    float: none !important; }\n  .fullscreenbanner-container .tp-bullets.preview4 .bullet:hover, .fullscreenbanner-container .tp-bullets.preview4 .bullet.selected {\n    box-shadow: none !important;\n    background: rgba(255, 255, 255, 0) !important;\n    width: 14px !important;\n    height: 14px !important;\n    border: 2px solid white !important;\n    margin-right: 10px !important;\n    margin-left: -4px !important;\n    margin-bottom: -3px !important; }\n  .fullscreenbanner-container .tparrows.preview4 .tp-arr-iwrapper {\n    display: none !important; }\n</code></pre>\n\n<p>Here is how it looks on mobile right now:\n<a href=\"https://i.stack.imgur.com/Ir4wc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ir4wc.jpg\" alt=\"mobile\"></a>\nHere is how it looks on chrome browser right now:\n<a href=\"https://i.stack.imgur.com/ujgO8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ujgO8.jpg\" alt=\"browser\"></a>\nHere is the real-size image:\n<a href=\"https://i.stack.imgur.com/JFGTz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JFGTz.jpg\" alt=\"realsize\"></a></p>\n"}, {"tags": ["javascript", "jquery", "loops"], "comments": [{"owner": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 0, "creation_date": 1510178213, "post_id": 47190335, "comment_id": 81330124, "body": "What&#39;s the question/error/issue?"}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1510178370, "post_id": 47190335, "comment_id": 81330204, "body": "Please provide a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>"}, {"owner": {"reputation": 494, "user_id": 4038770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh4.googleusercontent.com/-_evIcWBo5rg/AAAAAAAAAAI/AAAAAAAAADg/NFjE0G_4DCo/photo.jpg?sz=128", "display_name": "Damian Doman", "link": "https://stackoverflow.com/users/4038770/damian-doman"}, "reply_to_user": {"reputation": 3155, "user_id": 1426450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c61b9f354bdea5e67f662c3d6803f2?s=128&d=identicon&r=PG", "display_name": "stephen.vakil", "link": "https://stackoverflow.com/users/1426450/stephen-vakil"}, "edited": false, "score": 0, "creation_date": 1510178377, "post_id": 47190335, "comment_id": 81330211, "body": "@stephen.vakil I&#39;ve updated question, didn&#39;t notice it was unclear at first sight"}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1510178498, "post_id": 47190335, "comment_id": 81330273, "body": "Use jQuery.  There is no reason to slice a class when you have <a href=\"https://api.jquery.com/hasclass/\" rel=\"nofollow noreferrer\"><code>hasClass()</code></a>."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1510178954, "post_id": 47190335, "comment_id": 81330473, "body": "The code you posted works.  (What browser are you using)."}], "answers": [{"tags": [], "owner": {"reputation": 781, "user_id": 5934704, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156492299675099/picture?type=large", "display_name": "Michael Evans", "link": "https://stackoverflow.com/users/5934704/michael-evans"}, "is_accepted": false, "score": 1, "last_activity_date": 1510179633, "creation_date": 1510179633, "answer_id": 47190697, "question_id": 47190335, "link": "https://stackoverflow.com/questions/47190335/loop-through-divs-with-class-x-to-find-correlation-with-divs-y/47190697#47190697", "title": "Loop through divs with class X to find correlation with divs Y", "body": "<p>I personally couldn't get your code to run, as one commenter suggested, but you were very close, at any rate. Here is what I adapted from yours, adjusting slightly. Hopefully it helps.</p>\n\n<pre><code>$(\".display-player-box\").each(function() {\n  var selected = false;\n  var selfId = $(this).attr('id');\n  $('.removefromsquad').each(function() {\n    if ($(this).hasClass(selfId)) {\n      selected = true;\n    }\n  });\n\n  if (selected) {\n    $(this).addClass('selected');\n  } else {\n    $(this).removeClass('selected');\n  }\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 494, "user_id": 4038770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh4.googleusercontent.com/-_evIcWBo5rg/AAAAAAAAAAI/AAAAAAAAADg/NFjE0G_4DCo/photo.jpg?sz=128", "display_name": "Damian Doman", "link": "https://stackoverflow.com/users/4038770/damian-doman"}, "edited": false, "score": 0, "creation_date": 1510243041, "post_id": 47190703, "comment_id": 81361300, "body": "Unfortunately my internet connection stopped working yesterday for some reason. That&#39;s true, to my surprise, that the snippet i added seems to work just fine, maybe I have some typos in my real code, gotta check it. Thank you very much for the shortened version, definitely gave me an idea on how i may construct this type of scripts in a more effective way in the future!"}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "reply_to_user": {"reputation": 494, "user_id": 4038770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh4.googleusercontent.com/-_evIcWBo5rg/AAAAAAAAAAI/AAAAAAAAADg/NFjE0G_4DCo/photo.jpg?sz=128", "display_name": "Damian Doman", "link": "https://stackoverflow.com/users/4038770/damian-doman"}, "edited": false, "score": 0, "creation_date": 1510246645, "post_id": 47190703, "comment_id": 81363974, "body": "I updated it with a very decoupled/reusable version."}], "tags": [], "owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "is_accepted": true, "score": 2, "last_activity_date": 1510246626, "last_edit_date": 1510246626, "creation_date": 1510179665, "answer_id": 47190703, "question_id": 47190335, "link": "https://stackoverflow.com/questions/47190335/loop-through-divs-with-class-x-to-find-correlation-with-divs-y/47190703#47190703", "title": "Loop through divs with class X to find correlation with divs Y", "body": "<p>Your post works, but it can be significantly shortened.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n  $(\".removefromsquad\").removeClass(\"selected\");\r\n  $(\".display-player-box\").each(function() {\r\n    var id = $(this).prop(\"id\");\r\n    $(\".removefromsquad.\" + id).addClass(\"selected\");\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.selected {\r\n  background-color: yellow;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;p&gt;Team slots:&lt;/p&gt;\r\n&lt;div class=\"removefromsquad\"&gt;EMPTY SLOT&lt;/div&gt;\r\n&lt;div class=\"removefromsquad\"&gt;EMPTY SLOT&lt;/div&gt;\r\n&lt;div class=\"removefromsquad 3\"&gt;PLAYER #3&lt;/div&gt;\r\n&lt;div class=\"removefromsquad 4\"&gt;PLAYER #4&lt;/div&gt;\r\n\r\n&lt;p&gt;Players to fill slots:&lt;/p&gt;\r\n&lt;div class=\"display-player-box\" id=\"1\"&gt;PICK PLAYER #1&lt;/div&gt;\r\n&lt;div class=\"display-player-box\" id=\"2\"&gt;PICK PLAYER #2&lt;/div&gt;\r\n&lt;div class=\"display-player-box\" id=\"3\"&gt;PICK PLAYER #3&lt;/div&gt;\r\n&lt;div class=\"display-player-box\" id=\"4\"&gt;PICK PLAYER #4&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If I were to design this as a reusable component, I would have changed it to something like the following.  I hope the following really helps you graps how to create some really nice components.</p>\n\n<p><a href=\"https://philipwalton.com/articles/decoupling-html-css-and-javascript/\" rel=\"nofollow noreferrer\">Highly Recommended Reading - Decoupling Your HTML, CSS, and JavaScript</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n  $(\".js-auto-selector\").each(function() {\r\n    var $container = $(this);\r\n    var unselectSelector = $container.data(\"unselect\");\r\n    $container.find(unselectSelector).removeClass(\"selected\");\r\n    $container.find(\"[data-selector-target]\").each(function() {\r\n      var targetSelector = $(this).data(\"selector-target\");\r\n      $container.find(targetSelector).addClass(\"selected\");\r\n    });\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.selected {\r\n  background-color: yellow;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"js-auto-selector\" data-unselect=\"removefromsquad\"&gt;\r\n  &lt;p&gt;Team slots:&lt;/p&gt;\r\n  &lt;div class=\"removefromsquad\"&gt;EMPTY SLOT&lt;/div&gt;\r\n  &lt;div class=\"removefromsquad\"&gt;EMPTY SLOT&lt;/div&gt;\r\n  &lt;div class=\"removefromsquad select-3\"&gt;PLAYER #3&lt;/div&gt;\r\n  &lt;div class=\"removefromsquad select-4\"&gt;PLAYER #4&lt;/div&gt;\r\n\r\n  &lt;p&gt;Players to fill slots:&lt;/p&gt;\r\n  &lt;div class=\"display-player-box\" data-selector-target=\".select-1\"&gt;PICK PLAYER #1&lt;/div&gt;\r\n  &lt;div class=\"display-player-box\" data-selector-target=\".select-2\"&gt;PICK PLAYER #2&lt;/div&gt;\r\n  &lt;div class=\"display-player-box\" data-selector-target=\".select-3\"&gt;PICK PLAYER #3&lt;/div&gt;\r\n  &lt;div class=\"display-player-box\" data-selector-target=\".select-4\"&gt;PICK PLAYER #4&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 494, "user_id": 4038770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh4.googleusercontent.com/-_evIcWBo5rg/AAAAAAAAAAI/AAAAAAAAADg/NFjE0G_4DCo/photo.jpg?sz=128", "display_name": "Damian Doman", "link": "https://stackoverflow.com/users/4038770/damian-doman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 47190703, "answer_count": 2, "score": 0, "last_activity_date": 1526905834, "creation_date": 1510178000, "last_edit_date": 1526905834, "question_id": 47190335, "link": "https://stackoverflow.com/questions/47190335/loop-through-divs-with-class-x-to-find-correlation-with-divs-y", "title": "Loop through divs with class X to find correlation with divs Y", "body": "<p>I'm trying to write a script that would let me to:</p>\n\n<ul>\n<li>loop through <code>.display-player-box</code> elements setting each <code>id</code> as variable,</li>\n<li>loop through <code>.removefromsquad</code> elements to find one which part of class attribute coresponds with previously found <code>.display-player-box</code> <code>id</code>,</li>\n<li>if the coresponding element is found i want to add a class <code>.selected</code> to this particular <code>.display-player-box</code> that matched.</li>\n</ul>\n\n<p>Code I've written so far:</p>\n\n<pre><code>$(\".display-player-box\").each(function() {                     // start looping\n    $selected = 0;                                             // set a variable to default\n    $boxid = $(this).attr(\"id\");                               // set id of element being looped as variable\n    $(\".removefromsquad\").each(function() {                    // loop through another row of elements\n        if ($(this).attr(\"class\").slice(16, 17) == $boxid) {   // looking for part of it's class matching previously saved variable\n            $selected = 1;                                     // if yes, update variable \n        };\n    });\n    if ($selected == 1) {                                      // if variable was updated...\n        $(this).addClass(\"selected\");                          // add class to .display-player-box\n    } else {                                                   // if not...\n        $(this).removeClass(\"selected\");                       // make sure it's removed\n    }\n});\n</code></pre>\n\n<p>The problem is - it simply doesn't work, it wouldn't add the class when elements are matched. There are no errors in console tho. What am I doing wrong?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\".display-player-box\").each(function() {\r\n                    $selected = 0;\r\n                    $boxid = $(this).attr(\"id\");\r\n                    $(\".removefromsquad\").each(function() { \r\n                        if ($(this).attr(\"class\").slice(16, 17) == $boxid) {\r\n                            $selected = 1;   \r\n                        };\r\n                    });\r\n                    if ($selected == 1) {\r\n                        $(this).addClass(\"selected\");\r\n                    } else {\r\n                        $(this).removeClass(\"selected\");\r\n                    }\r\n                });</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.selected {\r\n  background-color: yellow;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;p&gt;Team slots:&lt;/p&gt;\r\n&lt;div class=\"removefromsquad\"&gt;EMPTY SLOT&lt;/div&gt;\r\n&lt;div class=\"removefromsquad\"&gt;EMPTY SLOT&lt;/div&gt;\r\n&lt;div class=\"removefromsquad 3\"&gt;PLAYER #3&lt;/div&gt;\r\n&lt;div class=\"removefromsquad 4\"&gt;PLAYER #4&lt;/div&gt;\r\n\r\n&lt;p&gt;Players to fill slots:&lt;/p&gt;\r\n&lt;div class=\"display-player-box\" id=\"1\"&gt;PICK PLAYER #1&lt;/div&gt;\r\n&lt;div class=\"display-player-box\" id=\"2\"&gt;PICK PLAYER #2&lt;/div&gt;\r\n&lt;div class=\"display-player-box\" id=\"3\"&gt;PICK PLAYER #3&lt;/div&gt;\r\n&lt;div class=\"display-player-box\" id=\"4\"&gt;PICK PLAYER #4&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "regex"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1510179658, "post_id": 47190328, "comment_id": 81330774, "body": "You cannot use a pure regex here. Actually, it is better done without a regex. See <a href=\"https://jsfiddle.net/yn4wfo0c/2/\" rel=\"nofollow noreferrer\">this JSFiddle</a>. <code>s.split(&#47;\\s+&#47;).filter(function(x) { return x.indexOf(&#39;play.google.com&#39;) &gt; -1;})</code>"}], "answers": [{"comments": [{"owner": {"reputation": 224, "user_id": 4292990, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-EWa1b8poLac/AAAAAAAAAAI/AAAAAAAAADM/VM91F7YJAsQ/photo.jpg?sz=128", "display_name": "v3ntus", "link": "https://stackoverflow.com/users/4292990/v3ntus"}, "edited": false, "score": 0, "creation_date": 1510180670, "post_id": 47190524, "comment_id": 81331213, "body": "Thank you, is it possible to make a live example using jquery replace in a jsfiddle?"}, {"owner": {"reputation": 5696, "user_id": 4421870, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/38f9356608b91648b260644fc7a1b6a3?s=128&d=identicon&r=PG&f=1", "display_name": "Mako212", "link": "https://stackoverflow.com/users/4421870/mako212"}, "reply_to_user": {"reputation": 224, "user_id": 4292990, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-EWa1b8poLac/AAAAAAAAAAI/AAAAAAAAADM/VM91F7YJAsQ/photo.jpg?sz=128", "display_name": "v3ntus", "link": "https://stackoverflow.com/users/4292990/v3ntus"}, "edited": false, "score": 0, "creation_date": 1510251270, "post_id": 47190524, "comment_id": 81366750, "body": "@LucaSbenaglia sorry, I&#39;m not a JS developer, so I can&#39;t help you there."}, {"owner": {"reputation": 224, "user_id": 4292990, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-EWa1b8poLac/AAAAAAAAAAI/AAAAAAAAADM/VM91F7YJAsQ/photo.jpg?sz=128", "display_name": "v3ntus", "link": "https://stackoverflow.com/users/4292990/v3ntus"}, "edited": false, "score": 0, "creation_date": 1510263030, "post_id": 47190524, "comment_id": 81373140, "body": "Can you do it without Global and without Multiline?"}, {"owner": {"reputation": 224, "user_id": 4292990, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-EWa1b8poLac/AAAAAAAAAAI/AAAAAAAAADM/VM91F7YJAsQ/photo.jpg?sz=128", "display_name": "v3ntus", "link": "https://stackoverflow.com/users/4292990/v3ntus"}, "edited": false, "score": 0, "creation_date": 1510269570, "post_id": 47190524, "comment_id": 81376020, "body": "I don&#39;t need to select the rest of the line, your code matches also any words after my string."}, {"owner": {"reputation": 5696, "user_id": 4421870, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/38f9356608b91648b260644fc7a1b6a3?s=128&d=identicon&r=PG&f=1", "display_name": "Mako212", "link": "https://stackoverflow.com/users/4421870/mako212"}, "reply_to_user": {"reputation": 224, "user_id": 4292990, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-EWa1b8poLac/AAAAAAAAAAI/AAAAAAAAADM/VM91F7YJAsQ/photo.jpg?sz=128", "display_name": "v3ntus", "link": "https://stackoverflow.com/users/4292990/v3ntus"}, "edited": false, "score": 0, "creation_date": 1510269873, "post_id": 47190524, "comment_id": 81376129, "body": "@LucaSbenaglia I&#39;d look at what Wiktor suggested in the comments, that&#39;s probably a better solution for you."}], "tags": [], "owner": {"reputation": 5696, "user_id": 4421870, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/38f9356608b91648b260644fc7a1b6a3?s=128&d=identicon&r=PG&f=1", "display_name": "Mako212", "link": "https://stackoverflow.com/users/4421870/mako212"}, "is_accepted": true, "score": 1, "last_activity_date": 1553030070, "last_edit_date": 1553030070, "creation_date": 1510178847, "answer_id": 47190524, "question_id": 47190328, "link": "https://stackoverflow.com/questions/47190328/regex-match-everything-except-partial-match/47190524#47190524", "title": "REGEX: Match everything except partial match", "body": "<p>How about like this, using a negative lookahead:</p>\n\n<p><code>^(?!https:\\/\\/play\\.google\\.com\\/variable).*</code></p>\n\n<p><strong>Live example:</strong></p>\n\n<p><a href=\"https://regexr.com/3h4sq\" rel=\"nofollow noreferrer\">https://regexr.com/3h4sq</a></p>\n\n<p>Note that we can still successfully match substrings of the URL like \"google\" and \"variable\" while still excluding the full URL match.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Here's another way to do it without the lookahead, using <a href=\"https://www.rexegg.com/regex-best-trick.html\" rel=\"nofollow noreferrer\">The Greatest Regex Trick Ever</a> from Rexegg.com:</p>\n\n<pre><code>https:\\/\\/play\\.google\\.com\\/variable|(.*)\n</code></pre>\n\n<p>And return group 1:</p>\n\n<pre><code>$1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 224, "user_id": 4292990, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-EWa1b8poLac/AAAAAAAAAAI/AAAAAAAAADM/VM91F7YJAsQ/photo.jpg?sz=128", "display_name": "v3ntus", "link": "https://stackoverflow.com/users/4292990/v3ntus"}, "edited": false, "score": 0, "creation_date": 1510181011, "post_id": 47190585, "comment_id": 81331342, "body": "I&#39;d like to get that specific link of a given text, and then to use it in jQuery.load to get a thumbnail picture in that page to display it on my site."}], "tags": [], "owner": {"reputation": 128, "user_id": 2139035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a91b6b5c33f32103b4bf55fa73788c0?s=128&d=identicon&r=PG", "display_name": "Evan Thompson", "link": "https://stackoverflow.com/users/2139035/evan-thompson"}, "is_accepted": false, "score": 1, "last_activity_date": 1510179137, "creation_date": 1510179137, "answer_id": 47190585, "question_id": 47190328, "link": "https://stackoverflow.com/questions/47190328/regex-match-everything-except-partial-match/47190585#47190585", "title": "REGEX: Match everything except partial match", "body": "<p>I'm not totally clear what you're trying to do; but this is what I came up with:</p>\n\n<p>^([\\s\\S]<em>)?(\\S</em>)(https://play.google.com/\\S*)([\\s\\S]*)\\g</p>\n\n<p>then replace: $1$2$4</p>\n"}, {"tags": [], "owner": {"reputation": 2522, "user_id": 5976576, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9ec90d5b8c13f25c3eae9fe8a9df6fc8?s=128&d=identicon&r=PG&f=1", "display_name": "MotKohn", "link": "https://stackoverflow.com/users/5976576/motkohn"}, "is_accepted": false, "score": 0, "last_activity_date": 1510179257, "creation_date": 1510179257, "answer_id": 47190612, "question_id": 47190328, "link": "https://stackoverflow.com/questions/47190328/regex-match-everything-except-partial-match/47190612#47190612", "title": "REGEX: Match everything except partial match", "body": "<p>I would capture everything before and after into groups. Like this:</p>\n\n<pre><code>/([^]*)play\\.google\\.com([^]*)/\n</code></pre>\n\n<p>That way all you need is to replace the original text with the group before and after. e. g.:</p>\n\n<pre><code>original_text.replace(/([^]*)play\\.google\\.com([^]*)/, '$1$2');\n</code></pre>\n\n<p>This will give you all text before joined with all text after.</p>\n\n<p>P.S. This will only work if there is 1 and only 1 phrase \"play.google.com\" in the text.</p>\n"}], "owner": {"reputation": 224, "user_id": 4292990, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-EWa1b8poLac/AAAAAAAAAAI/AAAAAAAAADM/VM91F7YJAsQ/photo.jpg?sz=128", "display_name": "v3ntus", "link": "https://stackoverflow.com/users/4292990/v3ntus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 47190524, "answer_count": 3, "score": -1, "last_activity_date": 1553030070, "creation_date": 1510177968, "question_id": 47190328, "link": "https://stackoverflow.com/questions/47190328/regex-match-everything-except-partial-match", "title": "REGEX: Match everything except partial match", "body": "<p>I want to match everything except a given string (partial match) : <a href=\"https://play.google.com/variable\" rel=\"nofollow noreferrer\">https://play.google.com/variable</a></p>\n\n<p>I managed to do exactly the opposite at the moment by using the following regex:</p>\n\n<pre><code>(\\S*play\\.google\\.com\\S*)\n</code></pre>\n\n<p>which does select the only string I actually want to keep, so I want my regex to select all the text EXCEPT the one above (basically the opposite of what I just did).</p>\n\n<p>I tried negative lookahead but it didn't work, hope you can help me. Full code available here: <a href=\"https://regexr.com/3h4se\" rel=\"nofollow noreferrer\">https://regexr.com/3h4se</a></p>\n\n<p>If possible, I'd also love a jsfiddle which will strip away everything except that url, using your modified regex, so that the final output will just be:</p>\n\n<pre><code>https://play.google.com/variable\n</code></pre>\n\n<p>Good luck!</p>\n"}, {"tags": ["javascript"], "answers": [{"comments": [{"owner": {"reputation": 3073, "user_id": 4127542, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6a49e7f884f0e5abe66ec87101956457?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/4127542/phani"}, "edited": false, "score": 0, "creation_date": 1510179375, "post_id": 47190327, "comment_id": 81330657, "body": "could you provide this in es5?"}, {"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "reply_to_user": {"reputation": 3073, "user_id": 4127542, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6a49e7f884f0e5abe66ec87101956457?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/4127542/phani"}, "edited": false, "score": 0, "creation_date": 1510179567, "post_id": 47190327, "comment_id": 81330733, "body": "@LokeshCherukuri Yeah, sure. I think that destructuring inside argument declaration might caused some compatibility issues."}], "tags": [], "owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "is_accepted": false, "score": 3, "last_activity_date": 1510179528, "last_edit_date": 1510179528, "creation_date": 1510177967, "answer_id": 47190327, "question_id": 47190281, "link": "https://stackoverflow.com/questions/47190281/extract-array-that-is-inside-and-array-of-objects/47190327#47190327", "title": "extract array that is inside and array of objects", "body": "<p>Firstly you could map your <code>objs</code> array to get just the <code>labels</code> array, then remove dupe entries with <code>Set</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const objs = [\r\n  {labels: [\"label1\", \"label2\"]}, \r\n  {labels: [\"label1\", \"label3\"]},\r\n  {labels: [\"label2\", \"label4\"]},\r\n];\r\n\r\nconst r = [...new Set([].concat(...objs.map(({ labels }) =&gt; labels)))];\r\n\r\nconsole.log(r);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>ES5:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const objs = [\r\n  {labels: [\"label1\", \"label2\"]}, \r\n  {labels: [\"label1\", \"label3\"]},\r\n  {labels: [\"label2\", \"label4\"]},\r\n];\r\n\r\nconst r = [...new Set([].concat(...objs.map(function(v) {\r\n  return v.labels;\r\n})))];\r\n\r\nconsole.log(r);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 2343, "user_id": 974000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c0361191819a94edaa782ad397c642d?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn Janas", "link": "https://stackoverflow.com/users/974000/shawn-janas"}, "is_accepted": false, "score": 0, "last_activity_date": 1510178071, "creation_date": 1510178071, "answer_id": 47190355, "question_id": 47190281, "link": "https://stackoverflow.com/questions/47190281/extract-array-that-is-inside-and-array-of-objects/47190355#47190355", "title": "extract array that is inside and array of objects", "body": "<p>Try this using underscore</p>\n\n<pre><code>labels = _.union(this.get('objs').map(function(obj) {\n    return obj.labels.map(function(label) {\n        return label;\n    })\n}))\nconsole.log(labels);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "is_accepted": false, "score": 0, "last_activity_date": 1510178075, "creation_date": 1510178075, "answer_id": 47190358, "question_id": 47190281, "link": "https://stackoverflow.com/questions/47190281/extract-array-that-is-inside-and-array-of-objects/47190358#47190358", "title": "extract array that is inside and array of objects", "body": "<p>You can use spread element and <code>Set</code></p>\n\n<pre><code>let res = [];\n\nobjs.forEach(({labels}) =&gt; res = [...res, ...labels]);\n\nres = [...new Set(res)];\n</code></pre>\n\n<p>or <code>.filter()</code> and <code>.includes()</code></p>\n\n<pre><code>var res = [];\n\nobjs.forEach(({labels}) =&gt; \n  res = [...res, ...labels.filter(prop =&gt; !res.includes(prop))]);\n</code></pre>\n"}], "owner": {"reputation": 3073, "user_id": 4127542, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6a49e7f884f0e5abe66ec87101956457?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/4127542/phani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1510179528, "creation_date": 1510177746, "question_id": 47190281, "link": "https://stackoverflow.com/questions/47190281/extract-array-that-is-inside-and-array-of-objects", "title": "extract array that is inside and array of objects", "body": "<pre><code>var objs = [\n  {labels: [\"label1\", \"label2\"]}, \n  {labels: [\"label1\", \"label3\"]},\n  {labels: [\"label2\", \"label4\"]} \n]\n</code></pre>\n\n<p>i am trying to extract this [\"label1\", \"label2\", \"label3\", \"label4\"]</p>\n\n<pre><code>labels = this.get('objs').map(function(obj) {\n           return obj.labels.map(function(label) {\n             return label;\n           });\n         });\nconsole.log(labels);\n</code></pre>\n\n<p>But the above code printed [[\"label1\", \"label2\"], [\"label1\", \"label3\"], [\"label2\", \"label4\"]]</p>\n\n<p>Can someone help me with this?</p>\n"}, {"tags": ["javascript", "comma"], "comments": [{"owner": {"reputation": 1969, "user_id": 5651536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e841ed95d19835d55d481e2678655df1?s=128&d=identicon&r=PG&f=1", "display_name": "John Ellmore", "link": "https://stackoverflow.com/users/5651536/john-ellmore"}, "edited": false, "score": 1, "creation_date": 1510177706, "post_id": 47190238, "comment_id": 81329881, "body": "Use <code>number.toLocaleString()</code>: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 1555, "user_id": 3410584, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hVfv4.jpg?s=128&g=1", "display_name": "ValLeNain", "link": "https://stackoverflow.com/users/3410584/vallenain"}, "edited": false, "score": 0, "creation_date": 1510177780, "post_id": 47190238, "comment_id": 81329931, "body": "what do you mean by &quot;add a comma&quot; ? You want a decimal number or just add a comma after the number ?"}, {"owner": {"reputation": 3898, "user_id": 1934920, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UH0E8.png?s=128&g=1", "display_name": "IrkenInvader", "link": "https://stackoverflow.com/users/1934920/irkeninvader"}, "edited": false, "score": 0, "creation_date": 1510177882, "post_id": 47190238, "comment_id": 81329972, "body": "regex to add commas to a large number in the first answer here <a href=\"https://stackoverflow.com/questions/2901102/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript\" title=\"how to print a number with commas as thousands separators in javascript\">stackoverflow.com/questions/2901102/&hellip;</a>"}, {"owner": {"reputation": 135, "user_id": 1509059, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/950cb29b0dd4f9e4e0f2d5ea5f8ebefb?s=128&d=identicon&r=PG", "display_name": "user1509059", "link": "https://stackoverflow.com/users/1509059/user1509059"}, "reply_to_user": {"reputation": 1969, "user_id": 5651536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e841ed95d19835d55d481e2678655df1?s=128&d=identicon&r=PG&f=1", "display_name": "John Ellmore", "link": "https://stackoverflow.com/users/5651536/john-ellmore"}, "edited": false, "score": 0, "creation_date": 1510178239, "post_id": 47190238, "comment_id": 81330142, "body": "@JohnEllmore Ellmore, how would I implement that?  I&#39;m rather new to making these kinds of changes."}, {"owner": {"reputation": 1969, "user_id": 5651536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e841ed95d19835d55d481e2678655df1?s=128&d=identicon&r=PG&f=1", "display_name": "John Ellmore", "link": "https://stackoverflow.com/users/5651536/john-ellmore"}, "edited": false, "score": 0, "creation_date": 1510178372, "post_id": 47190238, "comment_id": 81330207, "body": "The answer by @kemotoe implements this correctly"}], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 1509059, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/950cb29b0dd4f9e4e0f2d5ea5f8ebefb?s=128&d=identicon&r=PG", "display_name": "user1509059", "link": "https://stackoverflow.com/users/1509059/user1509059"}, "edited": false, "score": 0, "creation_date": 1510181252, "post_id": 47190329, "comment_id": 81331444, "body": "I got it put together.  Thanks guys!  MileagePointsObj.innerHTML = (parseInt(((RaceLength*60*60)/LapTime)*10 / 10, 10) * 10).toLocaleString()"}], "tags": [], "owner": {"reputation": 1623, "user_id": 4104766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67eab5c2a866acc6b12c9b1095c7d4ff?s=128&d=identicon&r=PG&f=1", "display_name": "kemotoe", "link": "https://stackoverflow.com/users/4104766/kemotoe"}, "is_accepted": false, "score": 2, "last_activity_date": 1510177975, "creation_date": 1510177975, "answer_id": 47190329, "question_id": 47190238, "link": "https://stackoverflow.com/questions/47190238/add-commas-to-my-string/47190329#47190329", "title": "Add Commas To My String", "body": "<p>As stated in the comments use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString\" rel=\"nofollow noreferrer\"><code>toLocaleString()</code></a></p>\n\n<p>Simple example</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let number = 123456789;\r\nlet numberWithComma = number.toLocaleString();\r\nconsole.log(numberWithComma);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 135, "user_id": 1509059, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/950cb29b0dd4f9e4e0f2d5ea5f8ebefb?s=128&d=identicon&r=PG", "display_name": "user1509059", "link": "https://stackoverflow.com/users/1509059/user1509059"}, "is_accepted": false, "score": 0, "last_activity_date": 1510181300, "creation_date": 1510181300, "answer_id": 47191025, "question_id": 47190238, "link": "https://stackoverflow.com/questions/47190238/add-commas-to-my-string/47191025#47191025", "title": "Add Commas To My String", "body": "<p>Thank you for the help guys!</p>\n\n<p>MileagePointsObj.innerHTML = (parseInt(((RaceLength*60*60)/LapTime)*10 / 10, 10) * 10).toLocaleString()</p>\n"}], "owner": {"reputation": 135, "user_id": 1509059, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/950cb29b0dd4f9e4e0f2d5ea5f8ebefb?s=128&d=identicon&r=PG", "display_name": "user1509059", "link": "https://stackoverflow.com/users/1509059/user1509059"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1510181300, "creation_date": 1510177556, "last_edit_date": 1510178510, "question_id": 47190238, "link": "https://stackoverflow.com/questions/47190238/add-commas-to-my-string", "title": "Add Commas To My String", "body": "<p>I need help adding a comma to <code>MileagePointsObj.innerHTML</code> in <code>calcMileagePoints</code> function.  Right now it's set to round to the nearest 10.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;     \n        window.onload=function() {\n            LapTimeObj = document.getElementById('InputLaptime');\n            RaceLengthObj = document.getElementById('InputRaceLength');\n            MileagePointsObj = document.getElementById('TDMileagePoints');\n            document.getElementById('btnReset').onclick = resetInputs;\n            document.getElementById('btnCalc').onclick = calcMileagePoints;\n        }\n        function resetInputs() {\n            LapTimeObj.value = '';\n            RaceLengthObj.value = '';\n            MileagePointsObj.innerHTML = '';\n        }\n        function calcMileagePoints() {\n            var LapTime = new Number(LapTimeObj.value);\n            var RaceLength = new Number(RaceLengthObj.value);\n            MileagePointsObj.innerHTML = '';\n\n            MileagePointsObj.innerHTML = parseInt(((RaceLength*60*60)/LapTime)*10 / 10, 10) * 10;\n        }\n    &lt;/script&gt;\n</code></pre>\n\n<p>Thanks in advance!</p>\n\n<p>Jerome</p>\n"}, {"tags": ["javascript", "reactjs", "react-router", "react-proptypes"], "comments": [{"owner": {"reputation": 4828, "user_id": 8378419, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2772206b4d6afcbdfe7485286554190d?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Milejczak", "link": "https://stackoverflow.com/users/8378419/robbie-milejczak"}, "edited": false, "score": 2, "creation_date": 1510177604, "post_id": 47190223, "comment_id": 81329830, "body": "<code>&lt;Details item={data} &#47;&gt;</code> you&#39;re not supplying an item prop, change data to item"}], "answers": [{"comments": [{"owner": {"reputation": 432, "user_id": 6727266, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Iik92.jpg?s=128&g=1", "display_name": "Charles Duporge", "link": "https://stackoverflow.com/users/6727266/charles-duporge"}, "edited": false, "score": 1, "creation_date": 1510179262, "post_id": 47190246, "comment_id": 81330617, "body": "Thanks, you had it ! My informations are now well displayed but i&#39;ve still have a warning in console saying : &#39;Warning: Failed prop type: The prop <code>item.date</code> is marked as required in <code>Details</code>, but its value is <code>null</code>&#39; despite I correctly display the item.date in my component, why do I still have this ?"}], "tags": [], "owner": {"reputation": 2343, "user_id": 974000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c0361191819a94edaa782ad397c642d?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn Janas", "link": "https://stackoverflow.com/users/974000/shawn-janas"}, "is_accepted": true, "score": 2, "last_activity_date": 1526191089, "last_edit_date": 1526191089, "creation_date": 1510177599, "answer_id": 47190246, "question_id": 47190223, "link": "https://stackoverflow.com/questions/47190223/prop-is-marked-as-required-in-component-but-its-value-is-undefined/47190246#47190246", "title": "Prop is marked as required in component, but its value is `undefined`", "body": "<p>SinglePage is passing date props with name data as oppose to item that is defined in Details</p>\n\n<pre><code>&lt;Details item={date} /&gt;\n</code></pre>\n\n<p>Also adding init value for date</p>\n\n<pre><code>constructor(props) {\n    super(props);\n    this.state = {\n        date: { date: null },\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 432, "user_id": 6727266, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Iik92.jpg?s=128&g=1", "display_name": "Charles Duporge", "link": "https://stackoverflow.com/users/6727266/charles-duporge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59000, "favorite_count": 2, "accepted_answer_id": 47190246, "answer_count": 1, "score": 9, "last_activity_date": 1526191089, "creation_date": 1510177486, "question_id": 47190223, "link": "https://stackoverflow.com/questions/47190223/prop-is-marked-as-required-in-component-but-its-value-is-undefined", "title": "Prop is marked as required in component, but its value is `undefined`", "body": "<p>single.js : </p>\n\n<pre><code>import React, { Component } from 'react';\nimport Details from '../components/details'\nimport { ProgressBar } from 'react-materialize';\nimport { Route, Link } from 'react-router-dom';\n\nconst Test = () =&gt; (\n  &lt;div&gt; RENDER PAGE 1&lt;/div&gt;\n)\n\nclass SinglePage extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: null,\n    }\n  }\n\n    componentDidMount() {\n        fetch('http://localhost:1337/1')\n      .then((res) =&gt; res.json())\n      .then((json) =&gt; {\n        this.setState({\n          data: json,\n        });\n      });\n    }\n\n  render() {\n\n    const { data } = this.state;\n\n    return (\n\n      &lt;div&gt;\n\n        &lt;h2&gt; SinglePage &lt;/h2&gt;\n\n        {!data ? (\n          &lt;ProgressBar /&gt;\n        ) : (\n          &lt;div&gt;\n            &lt;Details data={data} /&gt;\n          &lt;/div&gt;\n        )}\n      &lt;/div&gt;\n    );\n  }\n\n}\n\nexport default SinglePage;\n</code></pre>\n\n<p>details.js : </p>\n\n<pre><code>import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Details extends Component {\n\n  static propTypes = {\n    item: PropTypes.shape({\n      date: PropTypes.string.isRequired,\n    }).isRequired,\n  }\n\n\n    render() {\n        const { item } = this.props;\n\n        return (\n            &lt;div&gt;\n                &lt;p&gt; {item.date} &lt;/p&gt;\n            &lt;/div&gt;\n        )\n    }\n}\n\nexport default Details;\n</code></pre>\n\n<p>In console, I am getting an error : Warning: Failed prop type: The prop <code>item</code> is marked as required in <code>Details</code>, but its value is <code>undefined</code>.</p>\n\n<p>From this I though my json was not catched but I have an other component which fetch on <a href=\"http://localhost:1337/\" rel=\"noreferrer\">http://localhost:1337/</a> , get datas and display them correctly, and going to <a href=\"http://localhost:1337/1\" rel=\"noreferrer\">http://localhost:1337/1</a> send me a json response so I'm quite confused here.</p>\n\n<p>Additional screenshot : <a href=\"https://i.stack.imgur.com/WUvIy.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WUvIy.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "redux", "redux-saga", "nextjs"], "comments": [{"owner": {"reputation": 65, "user_id": 3721412, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xIj1P.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/3721412/alex"}, "edited": false, "score": 0, "creation_date": 1601718583, "post_id": 47190172, "comment_id": 113496963, "body": "So is it resolved? I have the same issue but i can&#39;t understand nothing from answer."}], "answers": [{"tags": [], "owner": {"reputation": 1676, "user_id": 7878274, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/wnwnO.jpg?s=128&g=1", "display_name": "Vladislav Ihost", "link": "https://stackoverflow.com/users/7878274/vladislav-ihost"}, "is_accepted": false, "score": 1, "last_activity_date": 1511164914, "creation_date": 1511164914, "answer_id": 47387421, "question_id": 47190172, "link": "https://stackoverflow.com/questions/47190172/nextjs-with-redux-redux-saga-initialize-store/47387421#47387421", "title": "Nextjs with redux redux-saga initialize store", "body": "<pre><code>combineReducers({reducers}),\n</code></pre>\n\n<p>Most likely that you have dictionary of reducers, but provide them wrapped into redundant object. Use rest spread operator <code>combineReducers({...reducers})</code> or simple object passing <code>combineReducers(reducers)</code> in that case. See original documentation for it: <a href=\"https://redux.js.org/docs/api/combineReducers.html#arguments\" rel=\"nofollow noreferrer\">https://redux.js.org/docs/api/combineReducers.html#arguments</a></p>\n\n<p>If <code>reducers</code> is array, you should iterate over it and give own name to each reducer. </p>\n"}], "owner": {"reputation": 311, "user_id": 6645481, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/V1jxn.jpg?s=128&g=1", "display_name": "Andrej Lacko", "link": "https://stackoverflow.com/users/6645481/andrej-lacko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1179, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1511164914, "creation_date": 1510177269, "question_id": 47190172, "link": "https://stackoverflow.com/questions/47190172/nextjs-with-redux-redux-saga-initialize-store", "title": "Nextjs with redux redux-saga initialize store", "body": "<p>js like this</p>\n\n<pre><code>import {createStore, applyMiddleware, combineReducers} from 'redux'\nimport {composeWithDevTools} from 'redux-devtools-extension'\nimport withRedux from 'next-redux-wrapper'\nimport nextReduxSaga from 'next-redux-saga'\nimport createSagaMiddleware from 'redux-saga'\n\nimport {initialState} from './initialState'\nimport globalSaga from '../sagas/global'\n\nconst sagaMiddleware = createSagaMiddleware()\n\nexport function configureStore (reducers,initialState) {\n  console.log(initialState)\n\n  let states = {}\n  Object.keys(reducers).map((key) =&gt; {\n    states[key] = initialState[key]\n  })\n\n  console.log(reducers)\n  console.log(states)\n  const store = createStore(\n    combineReducers({reducers}),\n    states,\n    composeWithDevTools(applyMiddleware(sagaMiddleware))\n  )\n  store.sagaTask = sagaMiddleware.run(globalSaga)\n  return store\n}\n\nexport function withReduxSaga (BaseComponent, reducers) {\n  return withRedux(configureStore(reducers,initialState))(nextReduxSaga(BaseComponent))\n}\n\nexport default function configureWithReduxSaga(component,reducers){\n  return withReduxSaga(component,reducers)\n}\n</code></pre>\n\n<p>and the error is </p>\n\n<pre><code>Store does not have a valid reducer. Make sure the argument passed to\n\nmakeStore is not a function\n</code></pre>\n\n<p>What might be wrong, basically I would like to write function that adds <strong>reducers</strong> and <strong>store.global</strong> with specific sagas into nextjs component without much code, best would be something like this:</p>\n\n<pre><code>configureWithReduxSaga(\n{reducer1, reducer2},\n{saga1, saga2}\n)\n</code></pre>\n\n<p>is it possible? I can create root reducer and root saga and pass it to every component, that is not hard to code, but is it performant?</p>\n"}, {"tags": ["javascript", "php", "jquery"], "comments": [{"owner": {"reputation": 3898, "user_id": 1934920, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UH0E8.png?s=128&g=1", "display_name": "IrkenInvader", "link": "https://stackoverflow.com/users/1934920/irkeninvader"}, "edited": false, "score": 0, "creation_date": 1510177659, "post_id": 47190170, "comment_id": 81329855, "body": "after you add a new line with the + button, can you use jquery to select the new line and set repeater on it? <code>$(&#39;.repeater:last&#39;).repeater(...</code>"}, {"owner": {"reputation": 1, "user_id": 8909843, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214613395234381/picture?type=large", "display_name": "Willi Mora", "link": "https://stackoverflow.com/users/8909843/willi-mora"}, "reply_to_user": {"reputation": 3898, "user_id": 1934920, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UH0E8.png?s=128&g=1", "display_name": "IrkenInvader", "link": "https://stackoverflow.com/users/1934920/irkeninvader"}, "edited": false, "score": 0, "creation_date": 1510251017, "post_id": 47190170, "comment_id": 81366604, "body": "yes, but it has not worked for me that way"}], "owner": {"reputation": 1, "user_id": 8909843, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214613395234381/picture?type=large", "display_name": "Willi Mora", "link": "https://stackoverflow.com/users/8909843/willi-mora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510177268, "creation_date": 1510177268, "question_id": 47190170, "link": "https://stackoverflow.com/questions/47190170/repetitive-javascript-cycle", "title": "Repetitive javascript cycle", "body": "<p>  good night, I have this view (the image) which is part of an invoice, this is precisely the detail of the invoice, and I have in this detail a javascript function so that while I write the name of the product I look for the product in the database and when I select it I fill the input of the unit price corresponding to that product, until there all wonders, but the problem is that by pressing the + button to enter a new line and load a new product the function javascript no longer works, it occurred to me that I can use a foreach or something similar to make that function work every time a new line is inserted but I can not make it work, I leave the code:  </p>\n\n<pre><code>//search in the database\n$(\"#inputPrecioProducto\").devbridgeAutocomplete({\n        showNoSuggestionNotice: true,\n        serviceUrl: '/maderas/facturar/leer_productos',\n        noSuggestionNotice: 'No se encontraron datos',\n        onSelect: function (suggestion) {\n            $('#inputIdProducto').val(suggestion.data)\n            $('#inputPrecioUnidad').val(suggestion.precio_unidad);\n        }\n    });}\n\n\n\n\n\n\n// Product Field Repeater\n\n\n\n$('.repeater').repeater({\n                hide: function (deleteElement) {\n                var elemento=$(this);\n                swal({   \n                    title: \"Estas Seguro?\",   \n                    text: \"Se borrar\u00e1 toda la fila!\",   \n                    type: \"warning\",   \n                    showCancelButton: true,   \n                    confirmButtonColor: \"#DD6B55\",   \n                    confirmButtonText: \"Si, b\u00f3rralo!\",\n                    cancelButtonText: 'Cancelar',   \n                    closeOnConfirm: false\n                }, function(){   \n\n                    swal(\"Producto Borrado!\", \"Se ha eliminado el Producto.\", \"success\"); \n\n                    elemento.remove();\n                    sumarTotales();\n                    crearIgv();\n                });\n\n        },\n        isFirstItemUndeletable: true\n\n    });\n// ./ Product Field Repeater\n</code></pre>\n\n<p></p>\n"}, {"tags": ["javascript", "arrays", "json", "string", "angular"], "comments": [{"owner": {"reputation": 139, "user_id": 8903131, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/01133515ccd0f0f82efe135235d31e78?s=128&d=identicon&r=PG&f=1", "display_name": "Zlatko Loa ", "link": "https://stackoverflow.com/users/8903131/zlatko-loa"}, "reply_to_user": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 0, "creation_date": 1510177414, "post_id": 47190114, "comment_id": 81329749, "body": "I was initially getting an JSON object from web-service. I had to some parse, and got the specific values for each of names but now I have to return it with names.. does it make sense? For example {&quot;Sarah&quot;: &quot;1&quot;, &quot;Jamie&quot;: &quot;59&quot;, &quot;Mike&quot; : &quot;3&quot;..} then parsing"}, {"owner": {"reputation": 1555, "user_id": 3410584, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hVfv4.jpg?s=128&g=1", "display_name": "ValLeNain", "link": "https://stackoverflow.com/users/3410584/vallenain"}, "edited": false, "score": 0, "creation_date": 1510177538, "post_id": 47190114, "comment_id": 81329802, "body": "What is the angular part ? If there is none, please remove the tag"}, {"owner": {"reputation": 139, "user_id": 8903131, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/01133515ccd0f0f82efe135235d31e78?s=128&d=identicon&r=PG&f=1", "display_name": "Zlatko Loa ", "link": "https://stackoverflow.com/users/8903131/zlatko-loa"}, "reply_to_user": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 0, "creation_date": 1510177734, "post_id": 47190114, "comment_id": 81329901, "body": "@Xufox - updated in post. Thanks. Not sure below answer  by Ori Dori  is the best way to work for me.. I know that will work but Is there any better way to do this?"}, {"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 0, "creation_date": 1510177879, "post_id": 47190114, "comment_id": 81329971, "body": "Do you really need to nest each number string in another array? Just [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;] would be simpler."}, {"owner": {"reputation": 139, "user_id": 8903131, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/01133515ccd0f0f82efe135235d31e78?s=128&d=identicon&r=PG&f=1", "display_name": "Zlatko Loa ", "link": "https://stackoverflow.com/users/8903131/zlatko-loa"}, "edited": false, "score": 0, "creation_date": 1510177999, "post_id": 47190114, "comment_id": 81330029, "body": "I don&#39;t need to.. but that&#39;s what I get at the end.."}, {"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 0, "creation_date": 1510178054, "post_id": 47190114, "comment_id": 81330052, "body": "But more importantly, is there always going to be a single element in those sub-arrays? I.e. is <code>[[&quot;1&quot;], [&quot;2&quot;, &quot;3&quot;]]</code> impossible? And is each value (number string) unique or is something like <code>{&quot;Sarah&quot;: [&quot;1&quot;], &quot;Mike&quot;: [&quot;1&quot;]}</code> possible?"}, {"owner": {"reputation": 139, "user_id": 8903131, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/01133515ccd0f0f82efe135235d31e78?s=128&d=identicon&r=PG&f=1", "display_name": "Zlatko Loa ", "link": "https://stackoverflow.com/users/8903131/zlatko-loa"}, "edited": false, "score": 0, "creation_date": 1510178185, "post_id": 47190114, "comment_id": 81330109, "body": "srry, ill get back in a moment"}, {"owner": {"reputation": 139, "user_id": 8903131, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/01133515ccd0f0f82efe135235d31e78?s=128&d=identicon&r=PG&f=1", "display_name": "Zlatko Loa ", "link": "https://stackoverflow.com/users/8903131/zlatko-loa"}, "edited": false, "score": 0, "creation_date": 1510178517, "post_id": 47190114, "comment_id": 81330282, "body": "Other than using replace method to remove inner brackets.. I have no clue."}, {"owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "edited": false, "score": 0, "creation_date": 1510178630, "post_id": 47190114, "comment_id": 81330334, "body": "You need to take original json parse it to an array of names, and an array of numbers, update the numbers, and then combine it back to an object?"}, {"owner": {"reputation": 139, "user_id": 8903131, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/01133515ccd0f0f82efe135235d31e78?s=128&d=identicon&r=PG&f=1", "display_name": "Zlatko Loa ", "link": "https://stackoverflow.com/users/8903131/zlatko-loa"}, "edited": false, "score": 0, "creation_date": 1510178864, "post_id": 47190114, "comment_id": 81330431, "body": "my apologizes, i updated my original json object. I think it should be like that. That&#39;s exactly what I wanted to do. I was getting specific values to display in frontend, but now I want to bind with specific element names.."}, {"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 0, "creation_date": 1510179121, "post_id": 47190114, "comment_id": 81330538, "body": "Okay, now that you\u2019ve changed your requirements completely, what exactly are you looking for? An array of objects? Because you can\u2019t have two <code>grade</code> or <code>School</code> properties in the same object. Also, why is <code>grade</code> spelled in lower-case? And why exactly does that first array hold both the names and the grades redundantly?"}], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 8903131, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/01133515ccd0f0f82efe135235d31e78?s=128&d=identicon&r=PG&f=1", "display_name": "Zlatko Loa ", "link": "https://stackoverflow.com/users/8903131/zlatko-loa"}, "edited": false, "score": 0, "creation_date": 1510179680, "post_id": 47190590, "comment_id": 81330783, "body": "Thanks for your suggestion, but I don&#39;t want all array to be retrieved into JSON string. I want only values returned to be JSON string with each of names. For now, I only returned [[&quot;Sarah&quot;],[&quot;Jamie&quot;],[&quot;B&quot;],[&quot;148&quot;]], so I just want JSON string for this arrys along with their element names. Just like this [ &quot;Name&quot; : &quot;Sarah&quot;, &quot;Name&quot; : &quot;Jamie&quot;, &quot;School&quot;:&quot;B&quot;, &quot;Grade&quot; : &quot;148&quot;] and ignore rest"}], "tags": [], "owner": {"reputation": 99450, "user_id": 1686485, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g3GW9.png?s=128&g=1", "display_name": "tymeJV", "link": "https://stackoverflow.com/users/1686485/tymejv"}, "is_accepted": false, "score": 0, "last_activity_date": 1510179154, "creation_date": 1510179154, "answer_id": 47190590, "question_id": 47190114, "link": "https://stackoverflow.com/questions/47190114/convert-nested-array-to-json-string-in-js/47190590#47190590", "title": "convert nested array to JSON string in js?", "body": "<p>You can use <code>reduce</code> to do this!</p>\n\n<pre><code>let newData = data.Data.Table.reduce(function(arr, obj) {\n    let newObj = {};\n    for (let key in obj) {\n        newObj[key] = obj[key][0]\n    }\n\n    arr.push(newObj);\n    return arr;\n}, [])\n</code></pre>\n\n<p>Demo: <a href=\"https://jsfiddle.net/500eo2gp/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/500eo2gp/</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8153207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fc9c929be32a9b1be70c6c1f41208bb?s=128&d=identicon&r=PG&f=1", "display_name": "lakshmipradeep", "link": "https://stackoverflow.com/users/8153207/lakshmipradeep"}, "is_accepted": false, "score": 0, "last_activity_date": 1510249343, "last_edit_date": 1510249343, "creation_date": 1510183020, "answer_id": 47191351, "question_id": 47190114, "link": "https://stackoverflow.com/questions/47190114/convert-nested-array-to-json-string-in-js/47191351#47191351", "title": "convert nested array to JSON string in js?", "body": "<pre><code>let newDataArray = this.data.Data.Table.reduce(function(arr, obj) {\n  let newObj = {};\n  for (let key in obj) {\n    newObj[key] = obj[key][0]\n  }\n\n  arr.push(newObj);\n    return arr;\n  }, []\n);\nnewData =JSON.stringify(newDataArray);\n</code></pre>\n\n<hr>\n\n<p><code>JSON.stringify(newDataArray)</code> array from tymeJV 's code snippet will give you the JSON string as follows.</p>\n\n<p><code>[{\"Name\":\"Jamie\",\"School\":\"A\",\"grade\":\"99\"},{\"Name\":\"Mike\",\"School\":\"B\",\"grade\":\"148\"}]</code></p>\n\n<p>Demo:\n<a href=\"http://plnkr.co/edit/wPhVTOFhRgERLXKCuoYl?p=preview\" rel=\"nofollow noreferrer\">http://plnkr.co/edit/wPhVTOFhRgERLXKCuoYl?p=preview</a></p>\n"}, {"tags": [], "owner": {"reputation": 220, "user_id": 2650889, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100002444738891/picture?type=large", "display_name": "Batman25663", "link": "https://stackoverflow.com/users/2650889/batman25663"}, "is_accepted": false, "score": 0, "last_activity_date": 1510228522, "creation_date": 1510228522, "answer_id": 47201218, "question_id": 47190114, "link": "https://stackoverflow.com/questions/47190114/convert-nested-array-to-json-string-in-js/47201218#47201218", "title": "convert nested array to JSON string in js?", "body": "<p>You can try with the simple <code>forEach</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data =   {\"Data\": {\"Table\": [{\"Name\": [\"Jamie\"],\"School\": [\"A\"],\"grade\": [\"99\"]},{\"Name\": [\"Mike\"],\"School\": [\"B\"],\"grade\": [\"148\"]}]}};\r\n\r\nvar items = [];\r\ndata['Data']['Table'].forEach(function(item){\r\n  items.push({name: item.Name[0], grade: item.grade[0], school: item.School[0]});\r\n});\r\n\r\nconsole.log(JSON.stringify(items));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 139, "user_id": 8903131, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/01133515ccd0f0f82efe135235d31e78?s=128&d=identicon&r=PG&f=1", "display_name": "Zlatko Loa ", "link": "https://stackoverflow.com/users/8903131/zlatko-loa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1548, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1510249343, "creation_date": 1510177028, "last_edit_date": 1510179475, "question_id": 47190114, "link": "https://stackoverflow.com/questions/47190114/convert-nested-array-to-json-string-in-js", "title": "convert nested array to JSON string in js?", "body": "<p>I have a set of array like this : <code>[[\"Sarah\"],[\"Jamie\"],[\"B\"],[\"148\"]]</code></p>\n\n<p>and I want to convert this into <strong>JSON string</strong> with specific  element for each vaues. For example, </p>\n\n<pre><code>{ \"name\":\"Sarah\", \"grade\":\"148\", \"School\":\"B\"...}\n</code></pre>\n\n<p>How should I proceed? I tried to toString the array then bind with this element but it doesn't work out well.. </p>\n\n<p><strong>Original Json</strong> </p>\n\n<pre><code>   \"Data\":{\n      \"Table\":[\n         {\n            \"Name\":[\n               \"Jamie\"\n            ],\n            \"School\":[\n               \"A\"\n            ],\n            \"grade\":[\n               \"99\"\n            ]\n\n         },\n         {\n            \"Name\":[\n               \"Mike\"\n            ],\n            \"School\":[\n               \"B\"\n            ],\n            \"grade\":[\n               \"148\"\n            ]\n         }\n      ]\n   }\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 6856, "user_id": 828864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0031af6f469d31621363e4fdf14601f?s=128&d=identicon&r=PG", "display_name": "skyline3000", "link": "https://stackoverflow.com/users/828864/skyline3000"}, "edited": false, "score": 0, "creation_date": 1510178451, "post_id": 47190110, "comment_id": 81330246, "body": "Unfortunately, you can&#39;t have more than one <i>real</i> selection in Web browsers. The best you could do is fake it by creating elements to wrap around the content you want to appear to be highlighted (but that&#39;s a much more difficult problem to solve)."}], "answers": [{"tags": [], "owner": {"reputation": 481, "user_id": 8895604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31c765009a1a075823bf1e217b5dae9?s=128&d=identicon&r=PG&f=1", "display_name": "emshore", "link": "https://stackoverflow.com/users/8895604/emshore"}, "is_accepted": false, "score": 1, "last_activity_date": 1510181215, "creation_date": 1510181215, "answer_id": 47191012, "question_id": 47190110, "link": "https://stackoverflow.com/questions/47190110/programmatically-select-part-of-content-on-another-contenteditable-div/47191012#47191012", "title": "programmatically select part of content on another contenteditable div", "body": "<p>This is far from a complete solution, and it makes use of css to fake the second selection, but perhaps it will give you an idea. </p>\n\n<p>Try selecting \"ond\" in the leftdiv, as you suggested in your description, and \"ond\" is highlighted in the rightdiv (after the selection is complete - it won't live update as you drag the mouse to change the selection).  </p>\n\n<p>If you select content across multiple divs within leftdiv, this will break, and if you select text that appears multiple times, it will highlight the first match, not the exact match.  Like I said, just trying to give you a potential path to explore further.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#leftdiv').on('mouseup', function() {\r\n    $(\"*\").removeClass(\"highlight\");\r\n    $('#rightdiv').html($('#leftdiv').html());\r\n    var selection = window.getSelection()+\"\";   \r\n    var matchStart = $('#rightdiv').html().indexOf(selection);\r\n    var matchEnd = matchStart + selection.length - 1;\r\n    var beforeMatch = $('#rightdiv').html().slice(0, matchStart);\r\n    var matchText = $('#rightdiv').html().slice(matchStart, matchEnd + 1);\r\n    var afterMatch = $('#rightdiv').html().slice(matchEnd + 1);\r\n    $('#rightdiv').html(beforeMatch + \"&lt;font class='highlight'&gt;\" + matchText + \"&lt;/font&gt;\" + afterMatch);\r\n    \r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.highlight {background-color:#b4daf7;}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div  id=\"leftdiv\"   style=\"float:left;display:inline-block;height:100px;font-family:Helvetica;font-size:14px;width:300px;border:1px solid red;\" contenteditable&gt;\r\n    &lt;div&gt;\r\n        first text\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        second text\r\n    &lt;/div&gt;\r\n    ...\r\n    &lt;div&gt;\r\n        other texts\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;div  id=\"rightdiv\" style=\"margin-left:1em;display:inline-block;float:left;width:300px;height:100px;font-family:Helvetica;font-size:14px;border:1px solid red;\" contenteditable&gt;\r\n    &lt;div&gt;\r\n        first text\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        second text\r\n    &lt;/div&gt;\r\n    ...\r\n    &lt;div&gt;\r\n        other texts\r\n    &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 33, "user_id": 8686339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/823ca253f5176ef4b0b79c3f30d09640?s=128&d=identicon&r=PG&f=1", "display_name": "docnot", "link": "https://stackoverflow.com/users/8686339/docnot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1510181215, "creation_date": 1510177009, "last_edit_date": 1510177360, "question_id": 47190110, "link": "https://stackoverflow.com/questions/47190110/programmatically-select-part-of-content-on-another-contenteditable-div", "title": "programmatically select part of content on another contenteditable div", "body": "<pre><code>&lt;div  id=\"leftdiv\"   style=\"float:left;display:inline-block;height:100px;font-family:Helvetica;font-size:14px;width:300px;border:1px solid red;\" contenteditable&gt;\n    &lt;div&gt;\n        first text\n    &lt;/div&gt;\n    &lt;div&gt;\n        second text\n    &lt;/div&gt;\n    ...\n    &lt;div&gt;\n        other texts\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;div  id=\"rightdiv\" style=\"margin-left:1em;display:inline-block;float:left;width:300px;height:100px;font-family:Helvetica;font-size:14px;border:1px solid red;\" contenteditable&gt;\n    &lt;div&gt;\n        first text\n    &lt;/div&gt;\n    &lt;div&gt;\n        second text\n    &lt;/div&gt;\n    ...\n    &lt;div&gt;\n        other texts\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I have two contenteditable divs and these divs have exactly the same content. When I highlight part of content  in leftdiv like \"ond\" in \"second\" text using mouse, i want exactly the same part in rightdiv highlighted at the same time. Eventually  2 highlighting in seperate divs will occur simultaneously.     </p>\n\n<p>I have tried this but nothing happens.</p>\n\n<pre><code>  $('#leftdiv').on('mousedown', function() {\n        $('#leftdiv').on('selectstart', function() {\n            document.getElementById('rightdiv').tabIndex = -1 ;\n            document.getElementById('rightdiv').focus();\n            var range  = document.createRange();\n            range.selectNodeContents(this);\n            var sel  = window.getSelection();\n            sel.removeAllRanges();\n            sel.addRange(range);\n        });\n });\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "node.js"], "comments": [{"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1510177105, "post_id": 47190090, "comment_id": 81329604, "body": "Those code blocks are not equivalent.  <code>Promise.all()</code> will execute all of the Promises that you give it at the same time, not sequentially."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8909781"}, "reply_to_user": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 1, "creation_date": 1510177171, "post_id": 47190090, "comment_id": 81329635, "body": "Correct me please, what should i use instead?"}, {"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 1, "creation_date": 1510177204, "post_id": 47190090, "comment_id": 81329654, "body": "That being said, you may want to look into <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function\" rel=\"nofollow noreferrer\">async functions</a>.  They give a more terse way of doing Promises."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510177616, "post_id": 47190090, "comment_id": 81329840, "body": "What is the issue with code at Question?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8909781"}, "edited": false, "score": 0, "creation_date": 1510209895, "post_id": 47190090, "comment_id": 81339781, "body": "I have edited, and putted the issue: It is unreadable to concatenate too many functions manually one after one without forget something or redeclare something over again. It is vulnerable to syntax errors. (in real project this file could reach tons of lines). Therefore I need, or I shall define it as, we need, a one shot function or a method doing it for us without the chance of ruin the whole file."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510177687, "post_id": 47190253, "comment_id": 81329875, "body": "What is the issue with code at Question?"}, {"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510177835, "post_id": 47190253, "comment_id": 81329952, "body": "@guest271314 I am answering under the presumption that the OP is trying to find a way to retain references to the results of the <code>test*</code> functions.  I am assuming that is why the <code>Promise.all()</code> is appealing since you get a nice array of the results of all the <code>Promise</code>s you give it.  My answer shows a way to have your cake and eat it too, especially since, as I pointed out, the code blocks initially proposed are not equivalent."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510178387, "post_id": 47190253, "comment_id": 81330216, "body": "The code at Question can pass the result of previous <code>Promise</code> value to next  function which returns a <code>Promise</code>. OP simply does not return the value from the previous function which returns a <code>Promise</code> value to the next function which return a <code>Promise</code>"}, {"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510178549, "post_id": 47190253, "comment_id": 81330301, "body": "@guest271314 Then maybe I am misunderstanding the question.  I read &quot;<i>after first promise is done, I can continue using it&#39;s resolved data in the next promise</i>&quot; as, &quot;I want to keep the concrete value around, but I also want to feed it to the next function&quot;.  To me, that necessitates breaking the Promise chain.  If it is as you are interpreting it, then yes, you can just feed continuously as per Mark_M&#39;s answer."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510178614, "post_id": 47190253, "comment_id": 81330329, "body": "Why would a &quot;Promise chain&quot; need to be broken?"}, {"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510180260, "post_id": 47190253, "comment_id": 81331067, "body": "@guest271314 Does my edit make sense?"}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510180429, "post_id": 47190253, "comment_id": 81331125, "body": "OPs code is simply lacking passing the previous <code>Promise</code> value to next function which returns a <code>Promise</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8909781"}, "edited": false, "score": 0, "creation_date": 1510211194, "post_id": 47190253, "comment_id": 81340329, "body": "Nothing needs to be broken. I just want to kick out the &quot;manually&quot; way with then return then return then return that is very unreadable and syntax errors vulnerable! Promise.all does good work but not preserves the resolved data in this flow. Think about adding another cluster / function / promise in later situation, when using the &quot;the manual way&quot; you will forget add it to the handle promise for sure. No error will be displayed, just a user in db with missing details."}], "tags": [], "owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "is_accepted": false, "score": 1, "last_activity_date": 1510180130, "last_edit_date": 1510180130, "creation_date": 1510177623, "answer_id": 47190253, "question_id": 47190090, "link": "https://stackoverflow.com/questions/47190090/nodejs-promises-how-to-concatenate-the-resolved-data-within-the-promise-all-fun/47190253#47190253", "title": "Nodejs promises: how to concatenate the resolved data within the Promise.all function", "body": "<p>First of all, the code blocks that you proposed are not equivalent.  </p>\n\n<p>The \"manual\" way that you show says, \"run <code>test1</code>, then <code>test2</code> with the value returned from <code>test1</code>, then run <code>test3</code> with the value returned from <code>test2</code>.</p>\n\n<p>The <code>Promise.all</code> way will fire all three functions, effectively, simultaneously and will <strong>not</strong> feed the return value from one to the next (<a href=\"https://www.npmjs.com/package/promise.waterfall\" rel=\"nofollow noreferrer\"><code>promise.waterfall</code></a>).</p>\n\n<hr>\n\n<p>You may want to try <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function\" rel=\"nofollow noreferrer\">async functions</a>.  They provide a more terse, synchronous <strong><em>looking</em></strong> script.</p>\n\n<pre><code>async function test1() {\n    return \"test1\";\n}\n\nasync function test2(p) {\n    return `test2[${p}]`;\n}\n\nasync function test3(p) {\n    return `test3[${p}]`;\n}\n\n(async function () {\n    let t1 = await test1();\n    console.log(`Look what I got: ${t1}`);\n    let t2 = await test2(t1);\n    console.log(`And here: ${t2}`);\n    let t3 = await test3(t2);\n    console.log(`Also here: ${t3}`);\n\n    return {\n        t1,\n        t2,\n        t3\n    };\n}()).then(console.log);\n</code></pre>\n\n<p>Running this gives you the output:</p>\n\n<pre><code>Look what I got: test1\nAnd here: test2[test1]\nAlso here: test3[test2[test1]]\n{ t1: 'test1', t2: 'test2[test1]', t3: 'test3[test2[test1]]' }\n</code></pre>\n\n<hr>\n\n<p>In response to guest271314's comment:</p>\n\n<blockquote>\n  <p>Why would a \"Promise chain\" need to be broken?</p>\n</blockquote>\n\n<p>I see the need to break the chain if you need to use an earlier resolution in a later sequence, but don't want to pass a conglomeration of all the results in the chain down.  You can either nest callbacks which kind of defeats the point of Promises, or you could use async functions.</p>\n\n<p>Consider:</p>\n\n<pre><code>const test1 = () =&gt; Promise.resolve(\"test1\"),\n    test2 = (a) =&gt; Promise.resolve(`[${a}]test2`),\n    test3 = (a) =&gt; Promise.resolve(`[${a}]test3`),\n    test4 = (a) =&gt; Promise.resolve(`[${a}]test4`),\n    test5 = (a) =&gt; Promise.resolve(`[${a}]test5`),\n    greedy = (a, b) =&gt; Promise.resolve(`I need ${a} and ${b}`);\n\n// Pass through\ntest1()\n    .then(test2)\n    .then(test3)\n    .then(test4)\n    .then(test5)\n    // Greedy should actually be getting the result of test1 and test5\n    .then(greedy)\n    .then(console.log);\n\n// \"Breaking\" the chain\ntest1()\n    .then((a) =&gt; {\n        return test2(a)\n            .then(test3)\n            .then(test4)\n            .then(test5)\n            .then((b) =&gt; {\n                /*\n                 * I have to nest if I want to give greedy\n                 * the results of test1 and test5\n                 */\n                return greedy(a, b);\n            });\n    })\n    .then(console.log);\n\n// Using async\n(async function () {\n    const t1 = await test1(),\n        t2 = await test2(t1),\n        t3 = await test3(t2),\n        t4 = await test4(t3),\n        t5 = await test5(t4),\n        // I already have t1 and t5 populated\n        g = await greedy(t1, t5);\n    return g;\n}()).then(console.log);\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>I need [[[[test1]test2]test3]test4]test5 and undefined\nI need test1 and [[[[test1]test2]test3]test4]test5\nI need test1 and [[[[test1]test2]test3]test4]test5\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510177646, "post_id": 47190255, "comment_id": 81329851, "body": "What is the issue with code at Question? Note that <code>await</code> usage of code at Answer is outside of <code>async</code> function"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8909781"}, "edited": false, "score": 0, "creation_date": 1510213984, "post_id": 47190255, "comment_id": 81341783, "body": "Thanks. See my edit."}], "tags": [], "owner": {"reputation": 2825, "user_id": 3723803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Fujn1.jpg?s=128&g=1", "display_name": "Tim Hutchison", "link": "https://stackoverflow.com/users/3723803/tim-hutchison"}, "is_accepted": false, "score": 0, "last_activity_date": 1510177627, "creation_date": 1510177627, "answer_id": 47190255, "question_id": 47190090, "link": "https://stackoverflow.com/questions/47190090/nodejs-promises-how-to-concatenate-the-resolved-data-within-the-promise-all-fun/47190255#47190255", "title": "Nodejs promises: how to concatenate the resolved data within the Promise.all function", "body": "<p>I would recommend checking out the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function\" rel=\"nofollow noreferrer\">async functions</a> zero298 recommends.  For example (code not tested):</p>\n\n<pre><code>async function test1() {\n    return new Promise(function(resolve, reject) {\n      resolve(\"test1\");\n    });\n}\n\nasync function test2(p) {\n    return new Promise(function(resolve, reject) {\n      resolve(\"test2\");\n    });\n}\n\nasync function test3(p) {\n    return new Promise(function(resolve, reject) {\n      resolve(\"test3\");\n    });\n}\n\nvar test1 = await test1();\nvar test2 = await test2(test1);\nvar test3 = await test3();\n\nconsole.log(\"Finished\");\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8909781"}, "edited": false, "score": 0, "creation_date": 1510208712, "post_id": 47190409, "comment_id": 81339288, "body": "That is nice and cleaner for sure, but there is a problem in here: In console log I see:  Test1 Finished Test2 Test3 while I have to see Test1, Test2, Test3 and Finish.  But the resolved really pass between the promises functions."}], "tags": [], "owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "is_accepted": false, "score": 3, "last_activity_date": 1510178336, "creation_date": 1510178336, "answer_id": 47190409, "question_id": 47190090, "link": "https://stackoverflow.com/questions/47190090/nodejs-promises-how-to-concatenate-the-resolved-data-within-the-promise-all-fun/47190409#47190409", "title": "Nodejs promises: how to concatenate the resolved data within the Promise.all function", "body": "<p>If your promises are all taking the result of the previous promise and returning to the next (like they do in your example), you can make the syntax much terser by doing something like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function test1() {\r\n  return new Promise(function(resolve, reject) {\r\n    resolve(\"test1\");\r\n  });\r\n}\r\n\r\nfunction test2(p) {\r\n  return new Promise(function(resolve, reject) {\r\n    resolve(p + \" test2\");\r\n  });\r\n}\r\n\r\nfunction test3(p) {\r\n  return new Promise(function(resolve, reject) {\r\n    resolve(p + \" test3\");\r\n  });\r\n}\r\n\r\ntest1()\r\n  .then(test2)\r\n  .then(test3)\r\n  .then(console.log)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8909781"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7792, "favorite_count": 0, "closed_date": 1510179121, "answer_count": 3, "score": 1, "last_activity_date": 1510212911, "creation_date": 1510176948, "last_edit_date": 1510212911, "question_id": 47190090, "link": "https://stackoverflow.com/questions/47190090/nodejs-promises-how-to-concatenate-the-resolved-data-within-the-promise-all-fun", "closed_reason": "Duplicate", "title": "Nodejs promises: how to concatenate the resolved data within the Promise.all function", "body": "<p>UPDATE: I FOUND AN \"HOMEMADE\" SOLUTION BY MY OWN, SCROLL DOWN TO THIS THIS SOLUTION!</p>\n\n<p>When I'm doing NodeJS promises \"manually\" I have the option to pass the resolve value from the parent promise to it's child, or more precisely, \nfrom the first promise to the second and so for and so on.</p>\n\n<p>So, after first promise is done, I can continue using it's resolved data in the next promise. Sometimes this data is crucial for the whole process.\nSuch as sending a SMS via remote API, if the SMS will not be sent, I cannot be able to manage the next function.</p>\n\n<p>I have tried the \"shortcut\" (*sorry if it does not meant to be a shortcut):\nPromise.all.\nWell it's nice, and it pops up the catched promise reject value first and if everything is okay it goes to finish.\nBut how can I preserve the resolved data in the same manner I have described above?</p>\n\n<p>I will push here some code, so we can understand each other better:</p>\n\n<p><strong>Trying to do this using Promise.all</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function test1() {\r\n    return new Promise(function(resolve, reject) {\r\n      resolve(\"test1\");\r\n    });\r\n  }\r\n\r\n  function test2() {\r\n    return new Promise(function(resolve, reject) {\r\n      resolve(\"test2\");\r\n    });\r\n  }\r\n\r\n  function test3() {\r\n    return new Promise(function(resolve, reject) {\r\n      resolve(\"test3\");\r\n    });\r\n  }\r\n\r\n  Promise.all([test1, test2, test3].map(func =&gt; func())).then((result) =&gt; {\r\n    console.log('result: ', result);\r\n  }).catch((result) =&gt; {\r\n    console.log(\"Catched: \", result);\r\n  });</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Trying to do this using the \"manual\" way:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function test1() {\r\n    return new Promise(function(resolve, reject) {\r\n      resolve(\"test1\");\r\n    });\r\n  }\r\n\r\n  function test2(p) {\r\n    return new Promise(function(resolve, reject) {\r\n      resolve(\"test2\");\r\n    });\r\n  }\r\n\r\n  function test3(p) {\r\n    return new Promise(function(resolve, reject) {\r\n      resolve(\"test3\");\r\n    });\r\n  }\r\n\r\n  test1().then(function(result) {\r\n    return test2(result);\r\n  }).then(function(result) {\r\n    return test3();\r\n  }).then(function(result) {\r\n    console.log(\"Finished\");\r\n  });</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Now for the catch section if I am using the Promise.all function with the catch call back, it will rise the first catched match.\nThis is not good. Since I want to first tell the user he forgot filling email, later he has to be notified whether there was a problem sending SMS. But it does not working like that.</p>\n\n<p>Actually, I can do it the manual way seperate for then and seperate for catch, but it is a mess.. And it is very easy to cause mistake in the syntax that will take hours to find.</p>\n\n<p>********************** UPDATE - I FOUND AN HOMEMADE SOLUTIN!!! **********************</p>\n\n<pre><code>function test1() {\n    // some process return in overall as boolean\n    var overall = true;\n    if (overall)\n      return test2({test1: \"is resolved\"});\n    return catched(\"rejected on 1\");\n  }\n\n  function test2(result) {\n    // some process return in overall as boolean\n    var overall = true;\n    result.test2 = \"is resolved\";\n    if (overall)\n      return test3(result);\n    return catched(\"rejected on 2\");\n  }\n\n  function test3(result) {\n    // some process return in overall as boolean\n    var overall = true;\n    result.test3 = \"is resolved\";\n    if (overall)\n      return finished(result);\n    return catched(\"rejected on 3\");\n  }\n\n  function finished(result) {\n    console.log(result);\n  }\n\n  function catched(result) {\n    console.log(result);\n  }\n\n  test1();\n</code></pre>\n\n<p>test1() will run first. After each of them done it goes to the next, syntax is simple, my homemade Promise.all is super simple thats the solution. Plus, if in future we want to add a middle function between test2 to test3, we should not think about adding it in the end handle.</p>\n\n<p>Hmm.. probably that is it for now. \nHope it is clear to understand and help others!</p>\n\n<p>THANKS :)</p>\n"}, {"tags": ["javascript", "graphql", "apollo-client"], "answers": [{"comments": [{"owner": {"reputation": 7642, "user_id": 1757321, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f47b6fc12c9c2b7a93419b0f65de0a32?s=128&d=identicon&r=PG", "display_name": "KhoPhi", "link": "https://stackoverflow.com/users/1757321/khophi"}, "edited": false, "score": 0, "creation_date": 1541010977, "post_id": 47201259, "comment_id": 93076927, "body": "Maybe I&#39;m missing something, but I hardly see any difference in yours and the op"}, {"owner": {"reputation": 2738, "user_id": 4500001, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6af38ca40154e0664ea76d34cd90a782?s=128&d=identicon&r=PG&f=1", "display_name": "Locco0_0", "link": "https://stackoverflow.com/users/4500001/locco0-0"}, "reply_to_user": {"reputation": 7642, "user_id": 1757321, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f47b6fc12c9c2b7a93419b0f65de0a32?s=128&d=identicon&r=PG", "display_name": "KhoPhi", "link": "https://stackoverflow.com/users/1757321/khophi"}, "edited": false, "score": 0, "creation_date": 1541053437, "post_id": 47201259, "comment_id": 93088414, "body": "The main difference in the question and the answer is this: Question: verifyUser(id: $userId) Answer: verifyUser(userId: $userId)  This needs to be like that because in the definition of the query the userId parameter is requested. Thats what the graphQL error is trying to tell"}], "tags": [], "owner": {"reputation": 2738, "user_id": 4500001, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6af38ca40154e0664ea76d34cd90a782?s=128&d=identicon&r=PG&f=1", "display_name": "Locco0_0", "link": "https://stackoverflow.com/users/4500001/locco0-0"}, "is_accepted": false, "score": 0, "last_activity_date": 1510228662, "creation_date": 1510228662, "answer_id": 47201259, "question_id": 47190071, "link": "https://stackoverflow.com/questions/47190071/graphql-apollo-variable-was-not-provided-error-in-apollo-client-query-although/47201259#47201259", "title": "GraphQL Apollo: Variable was not provided error in apollo client query, although I think I set the variable", "body": "<p>I think you have the problem in the query definition:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>gql `\r\nquery RootQueryType($userId: ID!) {\r\nverifyUser(\r\nuserId: $userId // here you need the parameter to be userId\r\n) {\r\n    id,\r\n    token\r\n  }\r\n}`</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 89, "user_id": 6455343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2541cecd998b97c94e0a230adeb25493?s=128&d=identicon&r=PG&f=1", "display_name": "Motasem Halawani", "link": "https://stackoverflow.com/users/6455343/motasem-halawani"}, "is_accepted": false, "score": 1, "last_activity_date": 1549399334, "creation_date": 1549399334, "answer_id": 54542712, "question_id": 47190071, "link": "https://stackoverflow.com/questions/47190071/graphql-apollo-variable-was-not-provided-error-in-apollo-client-query-although/54542712#54542712", "title": "GraphQL Apollo: Variable was not provided error in apollo client query, although I think I set the variable", "body": "<p>The first userID should be <strong>id</strong> instead of <strong>userID</strong>, it should also be defined as <strong>id</strong> in the Apollo server to match your query..</p>\n\n<p><strong>Change:</strong>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>options: {\r\n  variables: { userId: userId }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>To:</strong>\n</p>\n\n<pre><code>options: {\n  variables: { id: userId }\n}\n</code></pre>\n\n\n"}], "owner": {"reputation": 11357, "user_id": 3142695, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f91bd70ad5b26849a739fa88c8fed054?s=128&d=identicon&r=PG&f=1", "display_name": "user3142695", "link": "https://stackoverflow.com/users/3142695/user3142695"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2128, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1549399334, "creation_date": 1510176841, "question_id": 47190071, "link": "https://stackoverflow.com/questions/47190071/graphql-apollo-variable-was-not-provided-error-in-apollo-client-query-although", "title": "GraphQL Apollo: Variable was not provided error in apollo client query, although I think I set the variable", "body": "<p>What is wrong with this basic apolloClient query?</p>\n\n<pre><code>import gql from 'graphql-tag'\n\nexport default (context, apolloClient, userId) =&gt; (\n  apolloClient.query({\n    query: gql`\n      query RootQueryType($userId: ID!) {\n        verifyUser(\n          id: $userId\n        ) {\n          id,\n          token\n        }\n      },\n    `,\n    options: {\n      variables: { userId: userId }\n    }\n  }).then(({ data }) =&gt; {\n    return { loggedInUser: data }\n  }).catch((error) =&gt; {\n    console.log(error)\n    return { loggedInUser: {} }\n  })\n)\n</code></pre>\n\n<p>I do get the error <code>Error: GraphQL error: Variable \"$userId\" of required type \"ID!\" was not provided.</code>. But I set the options and variables with this data.\nI don't see, what I am doing wrong.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 5782, "user_id": 2832398, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/356c99a077310a35816f852423859f4c?s=128&d=identicon&r=PG&f=1", "display_name": "lilezek", "link": "https://stackoverflow.com/users/2832398/lilezek"}, "edited": false, "score": 0, "creation_date": 1510176735, "post_id": 47190011, "comment_id": 81329425, "body": "Use <code>for ... of</code> instead of <code>forEach</code>."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 3, "creation_date": 1510176737, "post_id": 47190011, "comment_id": 81329426, "body": "You are using the wrong method. You should be using some() or every()"}], "answers": [{"tags": [], "owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "is_accepted": false, "score": 6, "last_activity_date": 1510176698, "creation_date": 1510176698, "answer_id": 47190032, "question_id": 47190011, "link": "https://stackoverflow.com/questions/47190011/javascript-return-isnt-returning/47190032#47190032", "title": "JavaScript Return isn&#39;t returning", "body": "<p>You are returning from the callback that you passed to <code>forEach()</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 103, "user_id": 2969957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GezoD.png?s=128&g=1", "display_name": "link0047", "link": "https://stackoverflow.com/users/2969957/link0047"}, "is_accepted": false, "score": 1, "last_activity_date": 1510177719, "creation_date": 1510177719, "answer_id": 47190277, "question_id": 47190011, "link": "https://stackoverflow.com/questions/47190011/javascript-return-isnt-returning/47190277#47190277", "title": "JavaScript Return isn&#39;t returning", "body": "<p>You are returning from the callback you passed to foreach. You should try something like this instead.</p>\n\n<pre><code> function hasDuplicates(array) {\n  var keyStore = {};\n  for (var i = 0; i &lt; array.length; ++i) {\n    var value = array[i];\n    if (value in keyStore) {\n      return true;\n    }\n    keyStore[value] = true;\n  }\n  return false;\n}\n</code></pre>\n"}], "owner": {"reputation": 273, "user_id": 8034470, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/048d3797b810f3467ee061fdeb259b3c?s=128&d=identicon&r=PG&f=1", "display_name": "Kaisin Li", "link": "https://stackoverflow.com/users/8034470/kaisin-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1510178755, "creation_date": 1510176637, "question_id": 47190011, "link": "https://stackoverflow.com/questions/47190011/javascript-return-isnt-returning", "title": "JavaScript Return isn&#39;t returning", "body": "<p>I wrote a simple function checking if an array contains duplicates, I want it to return true if it does and false if it doesn't.</p>\n\n<pre><code>function containsDuplicates(a) {\n    var hash = {};\n    a.forEach((elem, index) =&gt; {\n        if (hash[elem] === undefined) {\n            hash[elem] = 1;\n        } else {\n            console.log('true')\n            return true;\n        }\n\n        if (index === a.length - 1) {\n            console.log('false')\n            return false;\n        }\n    })\n}\n\nvar arr = [1, 2, 3, 4];\ncontainsDuplicates(arr)\n</code></pre>\n\n<p>My console.log logs just fine but it doesn't seem to be hitting the return. My entire function returns undefined every time. Why is this the case?</p>\n"}, {"tags": ["javascript", "arrays", "ecmascript-6", "underscore.js", "ecmascript-7"], "comments": [{"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 1, "creation_date": 1510176821, "post_id": 47190001, "comment_id": 81329477, "body": "What exactly is your question here? Are you looking for an ES6 version of <code>range</code>? Are you asking for clarification on how the second snippet works? If so, what precisely do you not understand about it? At least try to make an attempt at explaining it yourself."}, {"owner": {"reputation": 1069, "user_id": 8550915, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2fc581a0ed38feeb5e548a94251a56d9?s=128&d=identicon&r=PG&f=1", "display_name": "Karty", "link": "https://stackoverflow.com/users/8550915/karty"}, "reply_to_user": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 0, "creation_date": 1510176956, "post_id": 47190001, "comment_id": 81329531, "body": "I would like to know how range in ecmascript of javascript works"}], "answers": [{"comments": [{"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 1, "creation_date": 1510177417, "post_id": 47190045, "comment_id": 81329750, "body": "Another approach would be <code>(start, end) =&gt; new Array(end-start+1).fill().map((_, i) =&gt; start + i)</code>. Not sure which one wins out here."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1510177770, "post_id": 47190045, "comment_id": 81329923, "body": "A dubious <a href=\"https://jsperf.com/array-fill-vs-array-from/1\" rel=\"nofollow noreferrer\">microbenchmark</a> suggests <code>Array.fill</code> is better (on my browser, on Wednesdays, when it&#39;s 7C out, etc.)"}], "tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": true, "score": 12, "last_activity_date": 1577037458, "last_edit_date": 1577037458, "creation_date": 1510176771, "answer_id": 47190045, "question_id": 47190001, "link": "https://stackoverflow.com/questions/47190001/es6-7-equivalent-to-underscore-s-range-function/47190045#47190045", "title": "ES6/7 equivalent to underscore\u2019s range function", "body": "<p>The idea is to create an array of length <code>end - start + 1</code>, and then fill it with the relevant numbers using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from\" rel=\"nofollow noreferrer\">Array#from</a>.</p>\n\n<blockquote>\n  <p>The Array.from() method creates a new Array instance from an\n  array-like or iterable object.</p>\n</blockquote>\n\n<p>In this case Array#from needs an object with the length property. Using <code>Array(n)</code> creates such an object (array). You can also use <code>{ length: n }</code> directly. In this case <code>n = Math.abs(end - start) + 1</code>.</p>\n\n<p>Array#from accepts a <code>mapFn</code> callback, a function that can transform the iterated value. The function receives 2 params - the values (which we can ignore in this case), and the index (0 based). Adding <code>start</code> to the current index will create the numbers in the range.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const range = (start, end) =&gt; Array.from(\r\n  Array(Math.abs(end - start) + 1), \r\n  (_, i) =&gt; start + i\r\n);\r\n\r\nconsole.log(range(5, 10));\r\nconsole.log(range(-10, -5));\r\nconsole.log(range(-5, 10));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This version will handle reverse range as well (large to small) as well:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const range = (start, end) =&gt; {\r\n  const inc = (end - start) / Math.abs(end - start);\r\n  \r\n  return Array.from(\r\n    Array(Math.abs(end - start) + 1), \r\n    (_, i) =&gt; start + i * inc\r\n  );\r\n};\r\n\r\nconsole.log(range(5, 10));\r\nconsole.log(range(-5, -10));\r\nconsole.log(range(10, -5));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 11136, "user_id": 1244884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79435cc2571ffa23dfcef703f8d762e0?s=128&d=identicon&r=PG", "display_name": "customcommander", "link": "https://stackoverflow.com/users/1244884/customcommander"}, "is_accepted": false, "score": 2, "last_activity_date": 1606898398, "last_edit_date": 1606898398, "creation_date": 1577034574, "answer_id": 59446346, "question_id": 47190001, "link": "https://stackoverflow.com/questions/47190001/es6-7-equivalent-to-underscore-s-range-function/59446346#59446346", "title": "ES6/7 equivalent to underscore\u2019s range function", "body": "<p>Note that the following implementation does not allow for lazy-generated lists:</p>\n<pre class=\"lang-js prettyprint-override\"><code>Array.from(Array(n), (_, i) =&gt; x + i)\n</code></pre>\n<p>Imagine that you need a list of 1M numbers:</p>\n<pre class=\"lang-js prettyprint-override\"><code>range(1, 1000000);\n</code></pre>\n<p>Are you going to consume all of them? Maybe not, yet all the numbers have been generated already and they probably left a non-trivial footprint on your memory.</p>\n<p>It would be nice if we could get them one by one on demand.</p>\n<p>It turns out we can do exactly that with a generator:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function* range(start, end, step = 1) {\n  for (let value = start; value &lt; end; value += step) {\n    yield value;\n  }\n}\n\nfor (let x of range(1, Infinity)) {\n  if (x &gt; 10) {\n    break;\n  }\n  console.log(x);\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Did you notice the <code>range(1, Infinity)</code> bit?</p>\n<p>In a classic implementation where all the numbers are generated in advance, this code wouldn't even run as you would get stuck in an infinite number-generating loop.</p>\n"}], "owner": {"reputation": 1069, "user_id": 8550915, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2fc581a0ed38feeb5e548a94251a56d9?s=128&d=identicon&r=PG&f=1", "display_name": "Karty", "link": "https://stackoverflow.com/users/8550915/karty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1812, "favorite_count": 2, "accepted_answer_id": 47190045, "answer_count": 2, "score": 5, "last_activity_date": 1606898398, "creation_date": 1510176605, "last_edit_date": 1510176940, "question_id": 47190001, "link": "https://stackoverflow.com/questions/47190001/es6-7-equivalent-to-underscore-s-range-function", "title": "ES6/7 equivalent to underscore\u2019s range function", "body": "<p>Is there any ECMAScript 6/7 equivalent to underscore\u2019s <code>range</code> function?</p>\n\n<p>In underscore:</p>\n\n<pre><code>_.range(startPage, endPage + 1);\n</code></pre>\n\n<p>In ES2015:</p>\n\n<pre><code>Array.from(Array(n), (_, i) =&gt; x + i)\n</code></pre>\n\n<p>Not sure how the ES2015 version works. I would like to know how range in ecmascript of javascript works</p>\n"}, {"tags": ["javascript", "google-chrome", "google-chrome-extension", "shadow-dom"], "comments": [{"owner": {"reputation": 148712, "user_id": 19750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13b41b2620da0b1e630715e0c91a0b03?s=128&d=identicon&r=PG", "display_name": "Josh Lee", "link": "https://stackoverflow.com/users/19750/josh-lee"}, "edited": false, "score": 2, "creation_date": 1510179425, "post_id": 47189985, "comment_id": 81330683, "body": "There&#39;s a difference between inheritance and selectors. If I&#39;m not mistaken, the shadow boundary only affects selector visibility, but everything that would be inherited is. <a href=\"https://www.polymer-project.org/2.0/docs/devguide/style-shadow-dom#use-inheritance-from-document-level-styles\" rel=\"nofollow noreferrer\">polymer-project.org/2.0/docs/devguide/&hellip;</a> <a href=\"https://css-tricks.com/playing-shadow-dom/\" rel=\"nofollow noreferrer\">css-tricks.com/playing-shadow-dom</a>"}, {"owner": {"reputation": 1593, "user_id": 3803371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vPNTp.jpg?s=128&g=1", "display_name": "SethWhite", "link": "https://stackoverflow.com/users/3803371/sethwhite"}, "reply_to_user": {"reputation": 148712, "user_id": 19750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13b41b2620da0b1e630715e0c91a0b03?s=128&d=identicon&r=PG", "display_name": "Josh Lee", "link": "https://stackoverflow.com/users/19750/josh-lee"}, "edited": false, "score": 0, "creation_date": 1510181377, "post_id": 47189985, "comment_id": 81331501, "body": "@JoshLee Makes sense. It&#39;s starting to sound like using the Shadow DOM in this case isn&#39;t the best idea."}], "answers": [{"comments": [{"owner": {"reputation": 148712, "user_id": 19750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13b41b2620da0b1e630715e0c91a0b03?s=128&d=identicon&r=PG", "display_name": "Josh Lee", "link": "https://stackoverflow.com/users/19750/josh-lee"}, "edited": false, "score": 1, "creation_date": 1510241241, "post_id": 47192501, "comment_id": 81359923, "body": "This was accidentally a better example than I thought: The div inside the shadow content inherits the <code>color</code> property but not <code>border</code>."}, {"owner": {"reputation": 168, "user_id": 1014689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00405645c5fe2805e62c31576cf8cebc?s=128&d=identicon&r=PG", "display_name": "CITguy", "link": "https://stackoverflow.com/users/1014689/citguy"}, "edited": false, "score": 0, "creation_date": 1562079347, "post_id": 47192501, "comment_id": 100260472, "body": "Instead of using a splat, you could also consider wrapping all Shadow DOM content in a single root element (e.g., <code>&lt;div id=&quot;root&quot;&gt;... shadow markup here ...&lt;&#47;div&gt;</code>). This way you can break the cascade intentionally by targeting <code>#root</code>."}, {"owner": {"reputation": 4586, "user_id": 3002584, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ec8f711075255b4c196cb21448be2f6c?s=128&d=identicon&r=PG&f=1", "display_name": "OfirD", "link": "https://stackoverflow.com/users/3002584/ofird"}, "edited": false, "score": 0, "creation_date": 1589724703, "post_id": 47192501, "comment_id": 109400898, "body": "elaboration on why <i>The div inside the shadow content inherits the <code>color</code> property but not <code>border</code></i> can be found <a href=\"https://stackoverflow.com/a/49709787/3002584\">in this answer</a>."}], "tags": [], "owner": {"reputation": 148712, "user_id": 19750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13b41b2620da0b1e630715e0c91a0b03?s=128&d=identicon&r=PG", "display_name": "Josh Lee", "link": "https://stackoverflow.com/users/19750/josh-lee"}, "is_accepted": true, "score": 11, "last_activity_date": 1589466143, "last_edit_date": 1589466143, "creation_date": 1510191438, "answer_id": 47192501, "question_id": 47189985, "link": "https://stackoverflow.com/questions/47189985/shadow-dom-inheriting-parent-page-css-chrome/47192501#47192501", "title": "Shadow Dom inheriting parent page CSS [Chrome]", "body": "<p>Inherited properties will be inherited as usual. It's better to think of the shadow boundary as affecting the cascade, namely the scope of selectors and the importance of rules.</p>\n\n<p>To isolate shadow content from the page, consider <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/all\" rel=\"noreferrer\">the <code>all</code> property</a>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.getElementById(\"example_control\").attachShadow({mode:'open'}).innerHTML=`\r\n  &lt;h1&gt;shadow dom header&lt;/h1&gt;\r\n  &lt;div&gt;shadow dom div&lt;/div&gt;`;\r\ndocument.getElementById(\"example_initial\").attachShadow({mode:'open'}).innerHTML=`\r\n  &lt;style&gt;*{all:initial}&lt;/style&gt;\r\n  &lt;h1&gt;shadow dom header&lt;/h1&gt;\r\n  &lt;div&gt;shadow dom div&lt;/div&gt;`;\r\ndocument.getElementById(\"example_unset\").attachShadow({mode:'open'}).innerHTML=`\r\n  &lt;style&gt;*{all:unset}&lt;/style&gt;\r\n  &lt;h1&gt;shadow dom header&lt;/h1&gt;\r\n  &lt;div&gt;shadow dom div&lt;/div&gt;`;</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>div{color:purple}\r\ndiv{border:1px solid}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p&gt;control:\r\n&lt;div id=example_control&gt;&lt;/div&gt;\r\n\r\n&lt;p&gt;initial:\r\n&lt;div id=example_initial&gt;&lt;/div&gt;\r\n\r\n&lt;p&gt;unset\r\n&lt;div id=example_unset&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 602, "user_id": 1574059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c63581802d04203e3f0ab00c72a2410?s=128&d=identicon&r=PG", "display_name": "danguilherme", "link": "https://stackoverflow.com/users/1574059/danguilherme"}, "edited": false, "score": 0, "creation_date": 1560517149, "post_id": 50457238, "comment_id": 99773319, "body": "Fancier, more readable page: <a href=\"https://developers.google.com/web/fundamentals/web-components/shadowdom#reset\" rel=\"nofollow noreferrer\">developers.google.com/web/fundamentals/web-components/&hellip;</a>"}, {"owner": {"reputation": 168, "user_id": 1014689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00405645c5fe2805e62c31576cf8cebc?s=128&d=identicon&r=PG", "display_name": "CITguy", "link": "https://stackoverflow.com/users/1014689/citguy"}, "edited": false, "score": 1, "creation_date": 1562079429, "post_id": 50457238, "comment_id": 100260508, "body": "I&#39;d recommend avoiding the <code>:host</code> selector, because it can be overridden by Light DOM CSS."}], "tags": [], "owner": {"reputation": 1792, "user_id": 650881, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6c0412f715c2f1c1e1c1f2467c572a1c?s=128&d=identicon&r=PG", "display_name": "user650881", "link": "https://stackoverflow.com/users/650881/user650881"}, "is_accepted": false, "score": 9, "last_activity_date": 1526940798, "creation_date": 1526940798, "answer_id": 50457238, "question_id": 47189985, "link": "https://stackoverflow.com/questions/47189985/shadow-dom-inheriting-parent-page-css-chrome/50457238#50457238", "title": "Shadow Dom inheriting parent page CSS [Chrome]", "body": "<p>For me, adding <code>:host { all: initial }</code> as the first CSS rule within the ShadowDOM styles prevented inheritance without affecting other CSS defined within the ShadowDOM.</p>\n\n<p>Using <code>* { all: initial }</code> proved to be too broad and overrode most of my CSS defined within the ShadowDOM.</p>\n\n<p>Ref: Section marked #reset in WebFundamentals project <a href=\"https://github.com/google/WebFundamentals/blob/master/src/content/en/fundamentals/web-components/shadowdom.md\" rel=\"noreferrer\">ShadowDOM</a> document.</p>\n"}], "owner": {"reputation": 1593, "user_id": 3803371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vPNTp.jpg?s=128&g=1", "display_name": "SethWhite", "link": "https://stackoverflow.com/users/3803371/sethwhite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4051, "favorite_count": 0, "closed_date": 1589814410, "accepted_answer_id": 47192501, "answer_count": 2, "score": 10, "last_activity_date": 1589466143, "creation_date": 1510176551, "question_id": 47189985, "link": "https://stackoverflow.com/questions/47189985/shadow-dom-inheriting-parent-page-css-chrome", "closed_reason": "Duplicate", "title": "Shadow Dom inheriting parent page CSS [Chrome]", "body": "<p>Everything I've read indicates that the Shadow Dom is supposed to be 'safe' from its parent page CSS. I.E. if I have all divs styled to have purple font:</p>\n\n<pre><code>&lt;style&gt;\n  div{color: purple}\n&lt;/style&gt;\n</code></pre>\n\n<p>The divs in my Shadow Dom should have the browser default color.</p>\n\n<p>I am writing a chrome extension that injects html into any given page. Unless this html is protected by either Shadow Dom or Iframe, it will inherit all the page's CSS.</p>\n\n<p>The advice to solve this problem in this <a href=\"https://stackoverflow.com/questions/12783217/how-to-really-isolate-stylesheets-in-the-google-chrome-extension\">question</a>, was to use the Shadow Dom. So I implemented a solution, but noticed it was inheriting the page's CSS still. I thought this might have been an issue with using it in a Chrome extension, so I hijacked a jsBin from some Shadow Dom examples (and threw it in another live coding app for good measure).</p>\n\n<p><a href=\"https://codepen.io/hyrumwhite/pen/xPRexQ\" rel=\"noreferrer\">https://codepen.io/hyrumwhite/pen/xPRexQ</a></p>\n\n<p>Same result. My shadow DOM inherits the page CSS, and my divs (and weirdly my h1) are purple.</p>\n\n<p>It looks like the children in the Shadow Dom will inherit any styling applied to the host element.</p>\n\n<p>Is this working as designed? Is there a way to prevent this? Or is the shadow DOM new enough that this is a bug and I should expect similar bugs as I keep using it?</p>\n"}, {"tags": ["javascript", "php", "database", "sqlite", "web"], "comments": [{"owner": {"reputation": 23176, "user_id": 18149, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f5e10278b9b6a518d5835f658704d85f?s=128&d=identicon&r=PG", "display_name": "leeand00", "link": "https://stackoverflow.com/users/18149/leeand00"}, "edited": false, "score": 1, "creation_date": 1510177067, "post_id": 47189984, "comment_id": 81329577, "body": "SQL databases such as SQLite, are controlled by Structured Query Language (SQL) and Data Definition Language (DDL).  The languages you mention make calls to SQL databases via a database driver using SQL and DDL, or using some sort of a Object Relational Management API."}, {"owner": {"reputation": 1, "user_id": 7489069, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/71nJQ.jpg?s=128&g=1", "display_name": "Francisco Vital", "link": "https://stackoverflow.com/users/7489069/francisco-vital"}, "reply_to_user": {"reputation": 23176, "user_id": 18149, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f5e10278b9b6a518d5835f658704d85f?s=128&d=identicon&r=PG", "display_name": "leeand00", "link": "https://stackoverflow.com/users/18149/leeand00"}, "edited": false, "score": 0, "creation_date": 1510177128, "post_id": 47189984, "comment_id": 81329618, "body": "My question is: what is the best way to control SQLite database in web programming?"}, {"owner": {"reputation": 23176, "user_id": 18149, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f5e10278b9b6a518d5835f658704d85f?s=128&d=identicon&r=PG", "display_name": "leeand00", "link": "https://stackoverflow.com/users/18149/leeand00"}, "edited": false, "score": 2, "creation_date": 1510177201, "post_id": 47189984, "comment_id": 81329652, "body": "@FransicoVital I was just giving you an overview of how it works.  You don&#39;t control an SQL database with said languages, you control it with SQL and DDL."}, {"owner": {"reputation": 23176, "user_id": 18149, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f5e10278b9b6a518d5835f658704d85f?s=128&d=identicon&r=PG", "display_name": "leeand00", "link": "https://stackoverflow.com/users/18149/leeand00"}, "edited": false, "score": 1, "creation_date": 1510177288, "post_id": 47189984, "comment_id": 81329697, "body": "@FransicoVital You can always select one of those languages to use a drive and an API for; but as for which one is easiest, that&#39;s a matter of opinion."}], "answers": [{"comments": [{"owner": {"reputation": 1538, "user_id": 3095216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7768d5316c9dd2de110429b2054f4260?s=128&d=identicon&r=PG", "display_name": "BenRoob", "link": "https://stackoverflow.com/users/3095216/benroob"}, "edited": false, "score": 5, "creation_date": 1510179106, "post_id": 47190254, "comment_id": 81330531, "body": "Please don&#180;t answer bad questions like this."}], "tags": [], "owner": {"reputation": 626, "user_id": 7309717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vaeIF.png?s=128&g=1", "display_name": "Salvatore Q Zeroastro", "link": "https://stackoverflow.com/users/7309717/salvatore-q-zeroastro"}, "is_accepted": true, "score": -1, "last_activity_date": 1510177624, "creation_date": 1510177624, "answer_id": 47190254, "question_id": 47189984, "link": "https://stackoverflow.com/questions/47189984/control-sqlite-database-in-web/47190254#47190254", "title": "Control SQLite Database in Web", "body": "<p>I think there's not such a thing like \"the best programming language\", however, if you want to easily create a web application, I think PHP is a good choice.</p>\n\n<p>PHP is an easy to learn language, with a C-Like syntax, perfect for web purposes. There are lots of web db interfaces built in PHP (e.g. PHPMyAdmin for MySQL/MariaDB).</p>\n\n<p>You can use the PHP PDO drivers in order to make your applications work with several database engines, SQLite included.</p>\n\n<p><a href=\"http://php.net/manual/en/book.pdo.php\" rel=\"nofollow noreferrer\">http://php.net/manual/en/book.pdo.php</a></p>\n"}], "owner": {"reputation": 1, "user_id": 7489069, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/71nJQ.jpg?s=128&g=1", "display_name": "Francisco Vital", "link": "https://stackoverflow.com/users/7489069/francisco-vital"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "closed_date": 1510179217, "accepted_answer_id": 47190254, "answer_count": 1, "score": -10, "last_activity_date": 1510177624, "creation_date": 1510176544, "last_edit_date": 1510177159, "question_id": 47189984, "link": "https://stackoverflow.com/questions/47189984/control-sqlite-database-in-web", "closed_reason": "Opinion-based", "title": "Control SQLite Database in Web", "body": "<p>I am going to create a database to store some data. It is not a difficult database, in fact, it is a simple one. But I would like to control it with a program.</p>\n\n<p>I already built some programs that control databases, but they were for Windows. I use Linux, so I would like to create something that I could use everywhere.</p>\n\n<p>My idea is to create a web interface to control my database. I have a beginner knowledge about programming web sites. Althought, I am able to use HTML, PHP, JavaScript and others.</p>\n\n<p>But as a beginner in web, I would like to know, what would be the best programming language for a beginner, to control databases? What is the best way to control a SQLite database: JavaScript, PHP, other? Just want to know the easiest way. </p>\n\n<p>My database is going to be on my computer. Therefore, my web application should access my SQLite database and control it.</p>\n\n<p>So the real question is: what is the best way to control SQLite database in web programming?</p>\n"}, {"tags": ["javascript", "jquery", "json", "xml", "jstree"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1510176528, "post_id": 47189964, "comment_id": 81329314, "body": "Your ajax function is <b>asynchronous</b>."}, {"owner": {"reputation": 957, "user_id": 3904139, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1f4c694748fef026a900c32fea8c035?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3904139/chris"}, "edited": false, "score": 2, "creation_date": 1510176562, "post_id": 47189964, "comment_id": 81329335, "body": "Because the ajax takes some time to finish, but everything after it will run immediately. Just call another function at the end of your success callback to do whatever you want to do with the data."}, {"owner": {"reputation": 3898, "user_id": 1934920, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UH0E8.png?s=128&g=1", "display_name": "IrkenInvader", "link": "https://stackoverflow.com/users/1934920/irkeninvader"}, "edited": false, "score": 2, "creation_date": 1510176726, "post_id": 47189964, "comment_id": 81329422, "body": "You can call whatever function needs to process that array from within the success function, passing the array as a parameter"}, {"owner": {"reputation": 103, "user_id": 2969957, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GezoD.png?s=128&g=1", "display_name": "link0047", "link": "https://stackoverflow.com/users/2969957/link0047"}, "edited": false, "score": 2, "creation_date": 1510176766, "post_id": 47189964, "comment_id": 81329444, "body": "$.ajax is a asynchronous function. the console.log function is firing before the code in your success callback function, which is why your array is empty."}, {"owner": {"reputation": 561, "user_id": 3772763, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/926fb2804a62bfb027d7c703cf6edb35?s=128&d=identicon&r=PG&f=1", "display_name": "NamedArray", "link": "https://stackoverflow.com/users/3772763/namedarray"}, "edited": false, "score": 0, "creation_date": 1510177164, "post_id": 47189964, "comment_id": 81329631, "body": "That all worked.  Thank you for helping me make sense of it!"}], "answers": [{"tags": [], "owner": {"reputation": 362, "user_id": 8005437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d1ed8a57c90f81b223faba58d4254e2?s=128&d=identicon&r=PG", "display_name": "Nick Timmer", "link": "https://stackoverflow.com/users/8005437/nick-timmer"}, "is_accepted": true, "score": -1, "last_activity_date": 1510176569, "creation_date": 1510176569, "answer_id": 47189990, "question_id": 47189964, "link": "https://stackoverflow.com/questions/47189964/why-is-my-array-behaving-differently-outside-of-an-ajax-function-populating-js/47189990#47189990", "title": "Why is my Array behaving differently outside of an AJAX function? (populating jsTree)", "body": "<p>it hits this line of code 1st;</p>\n\n<p><code>//THIS ARRAY IS BORKED\n  console.log(myAry);</code> </p>\n\n<p>Asynchronous Javascript \nbefore the Ajax call returns processes</p>\n"}], "owner": {"reputation": 561, "user_id": 3772763, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/926fb2804a62bfb027d7c703cf6edb35?s=128&d=identicon&r=PG&f=1", "display_name": "NamedArray", "link": "https://stackoverflow.com/users/3772763/namedarray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "closed_date": 1510176560, "accepted_answer_id": 47189990, "answer_count": 1, "score": 0, "last_activity_date": 1510176569, "creation_date": 1510176429, "question_id": 47189964, "link": "https://stackoverflow.com/questions/47189964/why-is-my-array-behaving-differently-outside-of-an-ajax-function-populating-js", "closed_reason": "Duplicate", "title": "Why is my Array behaving differently outside of an AJAX function? (populating jsTree)", "body": "<p>Long story short, I'm creating a JSON-like array for jsTree.  What I don't understand is why the array is perfect for my needs inside the AJAX success function, but broken <em>outside</em> of that function.  Check out the screenshot from my console dump, you can see the differences.  Why is it different inside of the function vs. outside of the function?</p>\n\n<p>Essentially, I can't do what I need to do unless it's in the perfect format:  (myAry inside the function)</p>\n\n<p>What gives, man?</p>\n\n<pre><code>var myAry = [];\n\n$.ajax({\ntype: \"GET\",\nurl: \"parents.xml\",\ndataType: \"xml\",\nsuccess: function(xml) {\n\n    $(xml).find('group').each(function() {\n\n      myAry.push({\n        \"id\": $(this).find('GroupID').text(),\n        \"parent\": \"#\",\n        \"text\": $(this).find('GroupName').text(),\n      });\n\n\n    }); //end each loop\n\n      //this array is PERFECT\n      console.log(myAry);\n\n      } //end success function\n  }); //end ajax GET\n\n  //THIS ARRAY IS BORKED\n  console.log(myAry);\n</code></pre>\n\n<hr>\n\n<p>xml:</p>\n\n<pre><code> &lt;groups&gt;\n    &lt;group&gt;\n        &lt;GroupID&gt;1&lt;/GroupID&gt;\n        &lt;GroupName&gt;Instructional Assistant&lt;/GroupName&gt;\n    &lt;/group&gt;\n    &lt;group&gt;\n        &lt;GroupID&gt;2&lt;/GroupID&gt;\n        &lt;GroupName&gt;Technician&lt;/GroupName&gt;\n    &lt;/group&gt;\n    &lt;group&gt;\n        &lt;GroupID&gt;3&lt;/GroupID&gt;\n        &lt;GroupName&gt;HR Specialist&lt;/GroupName&gt;\n    &lt;/group&gt;\n&lt;/groups&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/IjPrj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IjPrj.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "angularjs", "mobile"], "comments": [{"owner": {"reputation": 2832, "user_id": 7132835, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/E83vH.jpg?s=128&g=1", "display_name": "Observer", "link": "https://stackoverflow.com/users/7132835/observer"}, "edited": false, "score": 0, "creation_date": 1510176889, "post_id": 47189947, "comment_id": 81329503, "body": "Please be specific what version of angular are you learning? You might want take a look on Ionic framework which is using Angular for mobile applications."}, {"owner": {"reputation": 81, "user_id": 1619263, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f270736e83b7d18c7096b4930d49183f?s=128&d=identicon&r=PG", "display_name": "Mani", "link": "https://stackoverflow.com/users/1619263/mani"}, "reply_to_user": {"reputation": 2832, "user_id": 7132835, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/E83vH.jpg?s=128&g=1", "display_name": "Observer", "link": "https://stackoverflow.com/users/7132835/observer"}, "edited": false, "score": 0, "creation_date": 1510177050, "post_id": 47189947, "comment_id": 81329575, "body": "hi Observer. I am learning angular 5. But I guess Iconic framework is a third party framework which is using angularjs. But why cant we directly use angular mobile ui instead of using iconic"}, {"owner": {"reputation": 1434, "user_id": 1703332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8fYFJ.jpg?s=128&g=1", "display_name": "Kumar Nitesh", "link": "https://stackoverflow.com/users/1703332/kumar-nitesh"}, "edited": false, "score": 0, "creation_date": 1510177708, "post_id": 47189947, "comment_id": 81329883, "body": "Look at NativeScript &quot;<a href=\"https://www.nativescript.org/\" rel=\"nofollow noreferrer\">nativescript.org</a>&quot; if you want to build native apps using angular5 or if you want just a web app you can look into &quot;<a href=\"http://mobileangularui.com/docs/\" rel=\"nofollow noreferrer\">mobileangularui.com/docs</a>&quot;"}, {"owner": {"reputation": 81, "user_id": 1619263, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f270736e83b7d18c7096b4930d49183f?s=128&d=identicon&r=PG", "display_name": "Mani", "link": "https://stackoverflow.com/users/1619263/mani"}, "edited": false, "score": 0, "creation_date": 1510179092, "post_id": 47189947, "comment_id": 81330524, "body": "Thanks for the response. Nativescript means no typescript? And  the mobileangularui website uses angularjs.  Can&#39;t we use pure angular components to develop mobile apps in official way? Why angular team  does not have official docs?"}], "owner": {"reputation": 81, "user_id": 1619263, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f270736e83b7d18c7096b4930d49183f?s=128&d=identicon&r=PG", "display_name": "Mani", "link": "https://stackoverflow.com/users/1619263/mani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1510176367, "creation_date": 1510176367, "last_edit_date": 1592644375, "question_id": 47189947, "link": "https://stackoverflow.com/questions/47189947/develop-mobile-apps-in-angular-framework", "title": "Develop mobile apps in angular framework", "body": "<p><em>Hi Friends,</em></p>\n<p>I am learning angular framework. The official Angular website says one platform for mobile and web. But I couldn't see any official docs or tutorials for mobile UI. Which means we can launch angular apps in mobile using a web browser? or is there any official way (without third party jars) to create mobile apps in angular? Could anyone please explain about this.</p>\n<p><em>Thanks</em></p>\n<p><em>Manivannan</em></p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 4828, "user_id": 8378419, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2772206b4d6afcbdfe7485286554190d?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Milejczak", "link": "https://stackoverflow.com/users/8378419/robbie-milejczak"}, "edited": false, "score": 5, "creation_date": 1510176338, "post_id": 47189929, "comment_id": 81329234, "body": "<code>$(&#39;#header&#39;).click(function(){$(&#39;#header&#39;).toggleClass(&#39;open&zwnj;&#8203;&#39;)})</code> <a href=\"http://api.jquery.com/toggleclass/\" rel=\"nofollow noreferrer\">api.jquery.com/toggleclass</a>"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 2, "creation_date": 1510176341, "post_id": 47189929, "comment_id": 81329235, "body": "Read the documentation for jQuery..... <a href=\"https://api.jquery.com/category/manipulation/class-attribute/\" rel=\"nofollow noreferrer\">api.jquery.com/category/manipulation/class-attribute</a>"}, {"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 0, "creation_date": 1510176401, "post_id": 47189929, "comment_id": 81329257, "body": "What did your research for \u201chow to add a class in jQuery\u201d and \u201chow to add a click listener in jQuery\u201d yield? What code do you currently have?"}, {"owner": {"reputation": 379, "user_id": 7342512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1EiE.jpg?s=128&g=1", "display_name": "Vaqif", "link": "https://stackoverflow.com/users/7342512/vaqif"}, "edited": false, "score": 0, "creation_date": 1510176563, "post_id": 47189929, "comment_id": 81329336, "body": "I want add click listener."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 1, "creation_date": 1510176672, "post_id": 47189929, "comment_id": 81329404, "body": "So read the documentation on click()....."}], "answers": [{"tags": [], "owner": {"reputation": 577, "user_id": 5417679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nog7t.png?s=128&g=1", "display_name": "marcos.efrem", "link": "https://stackoverflow.com/users/5417679/marcos-efrem"}, "is_accepted": false, "score": -1, "last_activity_date": 1510176670, "creation_date": 1510176670, "answer_id": 47190021, "question_id": 47189929, "link": "https://stackoverflow.com/questions/47189929/add-and-remove-class-with-action-in-javascript/47190021#47190021", "title": "Add and remove class with action in Javascript", "body": "<p>Toggleclass, is what you are looking for</p>\n"}, {"comments": [{"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 0, "creation_date": 1510177668, "post_id": 47190124, "comment_id": 81329860, "body": "Note that this isn\u2019t jQuery anymore."}], "tags": [], "owner": {"reputation": 2473, "user_id": 5481714, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8258ffa13cee232e0da6c87f5d1bb32f?s=128&d=identicon&r=PG&f=1", "display_name": "kawnah", "link": "https://stackoverflow.com/users/5481714/kawnah"}, "is_accepted": false, "score": 0, "last_activity_date": 1510177072, "creation_date": 1510177072, "answer_id": 47190124, "question_id": 47189929, "link": "https://stackoverflow.com/questions/47189929/add-and-remove-class-with-action-in-javascript/47190124#47190124", "title": "Add and remove class with action in Javascript", "body": "<p>Use the <code>toggle</code> method! Go like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var header = document.getElementById(\"header\");\r\n\r\nheader.addEventListener(\"click\", myFunc, false);\r\n\r\nfunction myFunc() {\r\n   header.classList.toggle(\"active\");\r\n }</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.normal {\r\n  background-color: red;\r\n}\r\n\r\n.active {\r\n  background-color: green;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button onclick=\"myFunc()\"&gt;click here&lt;/button&gt;\r\n&lt;h1 id=\"header\" class=\"normal\"&gt;The Header&lt;/h1&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And in your case, just replace <code>.active</code> with your class, <code>.open</code></p>\n"}], "owner": {"reputation": 379, "user_id": 7342512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1EiE.jpg?s=128&g=1", "display_name": "Vaqif", "link": "https://stackoverflow.com/users/7342512/vaqif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1510177072, "creation_date": 1510176291, "question_id": 47189929, "link": "https://stackoverflow.com/questions/47189929/add-and-remove-class-with-action-in-javascript", "title": "Add and remove class with action in Javascript", "body": "<p>How can i add class by clicking and remove after second clicking.</p>\n\n<pre><code>&lt;header id=\"header\" class=\"header-vertical dark\"&gt;\n</code></pre>\n\n<p>I want to add 'open' to class section when pressing like 2nd example</p>\n\n<pre><code>&lt;header id=\"header\" class=\"header-vertical dark open\"&gt;\n</code></pre>\n\n<p>Thanks for support :) </p>\n"}, {"tags": ["javascript", "angular", "ng-upgrade"], "comments": [{"owner": {"reputation": 1061, "user_id": 1168234, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d2a5de8681d8ec94cda046ff6a79d07c?s=128&d=identicon&r=PG", "display_name": "TJF", "link": "https://stackoverflow.com/users/1168234/tjf"}, "edited": false, "score": 0, "creation_date": 1510212564, "post_id": 47189917, "comment_id": 81341050, "body": "I have the same issue. Perhaps add a GitHub issue"}], "answers": [{"comments": [{"owner": {"reputation": 827, "user_id": 231039, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/959e01087b60aa39c40a9e41f5546ccd?s=128&d=identicon&r=PG", "display_name": "eflat", "link": "https://stackoverflow.com/users/231039/eflat"}, "edited": false, "score": 0, "creation_date": 1510982016, "post_id": 47209352, "comment_id": 81678390, "body": "What&#39;s been your experience with ngUpgrade?"}, {"owner": {"reputation": 391, "user_id": 3447857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4773ec428498d882bc73be27b2715e2?s=128&d=identicon&r=PG&f=1", "display_name": "theOwl", "link": "https://stackoverflow.com/users/3447857/theowl"}, "reply_to_user": {"reputation": 827, "user_id": 231039, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/959e01087b60aa39c40a9e41f5546ccd?s=128&d=identicon&r=PG", "display_name": "eflat", "link": "https://stackoverflow.com/users/231039/eflat"}, "edited": false, "score": 5, "creation_date": 1511203188, "post_id": 47209352, "comment_id": 81750907, "body": "eflat, it has been generally good since switching to the downgradeModule() approach. The upgradeModule() approach did not work for us as the performance was terrible given our bottom up approach  to upgrading. When upgrade module was used on a very large application the excessive digests that were fired made the application unusable. Everything has been pretty smooth since switching to the downgradeModule except for the issue posed in this question which we have since worked around."}], "tags": [], "owner": {"reputation": 391, "user_id": 3447857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4773ec428498d882bc73be27b2715e2?s=128&d=identicon&r=PG&f=1", "display_name": "theOwl", "link": "https://stackoverflow.com/users/3447857/theowl"}, "is_accepted": false, "score": 9, "last_activity_date": 1510337358, "last_edit_date": 1510337358, "creation_date": 1510253021, "answer_id": 47209352, "question_id": 47189917, "link": "https://stackoverflow.com/questions/47189917/using-downgrademodule-in-conjunction-with-downgradeinjectable-in-an-angular-an/47209352#47209352", "title": "Using downgradeModule in conjunction with downgradeInjectable in an angular / angularjs hybrid application results in error", "body": "<p>This was pointed out to me in an angular github thread.</p>\n\n<p><a href=\"https://github.com/angular/angular/issues/16491#issuecomment-343021511\" rel=\"noreferrer\">https://github.com/angular/angular/issues/16491#issuecomment-343021511</a></p>\n\n<blockquote>\n  <p>George Kalpakas's response:</p>\n  \n  <p>Just to be clear:\n  You can use downgradeInjectable() with downgradeModule(), but there are certain limitations. In particular, you cannot try to inject a downgraded injectable until Angular has been bootstrapped. And Angular is bootstrapped (asynchronously) the first time a downgraded component is being rendered. So, you can only safely use a downgraded service inside a downgraded component (i.e. inside upgraded AngularJS components).</p>\n  \n  <p>I know this is limiting enough that you might decide to not use downgradeInjectable() at all - just wanted to make it more clear what you can and can't do.</p>\n  \n  <p>Note that the equivalent limitation is true when using an upgraded injectable with UpgradeModule: You cannot use it until AngularJS has been bootstrapped. This limitation usually goes unnoticed though, because AngularJS is usually bootstrapped in the Angular module's ngDoBootstrap() method and AngularJS (unlike Angular) bootstraps synchronously.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 890, "user_id": 2335137, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/22db48dc1b0dd10ffa71cabb9e1a1b43?s=128&d=identicon&r=PG", "display_name": "JGoodgive", "link": "https://stackoverflow.com/users/2335137/jgoodgive"}, "is_accepted": false, "score": 0, "last_activity_date": 1516184536, "creation_date": 1516184536, "answer_id": 48298716, "question_id": 47189917, "link": "https://stackoverflow.com/questions/47189917/using-downgrademodule-in-conjunction-with-downgradeinjectable-in-an-angular-an/48298716#48298716", "title": "Using downgradeModule in conjunction with downgradeInjectable in an angular / angularjs hybrid application results in error", "body": "<p>I had the same issue and it sucked up several hours before finding this.\nMy workaround was to create a ServiceBootstrapComponent that does nothing but injects all the services that we need to downgrade.</p>\n\n<p>I then downgrade that component, mark it as en entry in @NgModule and add it to index.html.</p>\n\n<p>Works for me.</p>\n"}, {"comments": [{"owner": {"reputation": 4091, "user_id": 920355, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/67fd3353c90f22c0ed049d48b8ae82fb?s=128&d=identicon&r=PG&f=1", "display_name": "lucassp", "link": "https://stackoverflow.com/users/920355/lucassp"}, "edited": false, "score": 0, "creation_date": 1523623081, "post_id": 48668591, "comment_id": 86648801, "body": "any idea on how make this work in tests? I&#39;m getting the same error when testing a controller which uses a downgraded service :)"}, {"owner": {"reputation": 5734, "user_id": 1311394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cb1c20979a4dfe4c3eceaf53d855bbc?s=128&d=identicon&r=PG", "display_name": "ach", "link": "https://stackoverflow.com/users/1311394/ach"}, "edited": false, "score": 1, "creation_date": 1528471670, "post_id": 48668591, "comment_id": 88535401, "body": "Great, thanks. In my case I made mine a container using <code>ng-content</code> which also serves as the bootstrap element for the AngularJS app."}], "tags": [], "owner": {"reputation": 4545, "user_id": 1825727, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/bVGmM.png?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/1825727/akash"}, "is_accepted": false, "score": 10, "last_activity_date": 1518020602, "creation_date": 1518020602, "answer_id": 48668591, "question_id": 47189917, "link": "https://stackoverflow.com/questions/47189917/using-downgrademodule-in-conjunction-with-downgradeinjectable-in-an-angular-an/48668591#48668591", "title": "Using downgradeModule in conjunction with downgradeInjectable in an angular / angularjs hybrid application results in error", "body": "<p><em>Note: The answer below follows the convention of calling angular 1.x as angularjs and all angular 2+ versions as simply angular.</em></p>\n\n<p>Expanding on JGoodgive's answer above, basically, if you're using <code>downgradeModule</code>, then angular module is bootstrapped lazily by angularjs when it needs to render the first angular component. Until then, since the angular module isn't initialised, if you are accessing any angular services inside angularjs using <code>downgradeInjectable</code>, those services aren't available too.</p>\n\n<p>The workaround is to force bootstrapping of the angular module as early as possible. For this, a simple component is needed:</p>\n\n<pre><code>import {Component} from '@angular/core';\n\n@Component({\n  selector: 'service-bootstrap'\n  template: ''\n})\nexport class ServiceBootstrapComponent {}\n</code></pre>\n\n<p>This component doesn't do anything. Now, we declare this component in the top level angular module.</p>\n\n<pre><code>@NgModule({\n  // ...providers, imports etc.\n  declarations: [\n    // ... existing declarations\n    ServiceBootstrapComponent\n  ],\n  entryComponents: [\n    // ... existing entry components\n    ServiceBootstrapComponent\n  ]\n})\nexport class MyAngularModule {}\n</code></pre>\n\n<p>Next, we also need to add a downgraded version of this component to angularjs module. (I added this to the top level angularjs module I had)</p>\n\n<pre><code>angular.module('MyAngularJSModule', [\n  // ...existing imports\n])\n.directive(\n  'serviceBootstrap',\n  downgradeComponent({ component: ServiceBootstrapComponent }) as angular.IDirectiveFactory\n)\n</code></pre>\n\n<p>Finally, we throw in this component in our index.html.</p>\n\n<pre><code>&lt;body&gt;\n  &lt;service-bootstrap&gt;&lt;/service-bootstrap&gt;\n  &lt;!-- existing body contents --&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>When angularjs finds that component in the markup, it needs to initialise angular module to be able to render that component. The intended side effect of this is that the providers etc. also get initialised and are available to be used with <code>downgradeInjectable</code>, which can be used normally.</p>\n"}, {"comments": [{"owner": {"reputation": 338, "user_id": 543229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/212988e45e8e6bd6d2dab46b459ed9f9?s=128&d=identicon&r=PG", "display_name": "sneakyfildy", "link": "https://stackoverflow.com/users/543229/sneakyfildy"}, "edited": false, "score": 0, "creation_date": 1540396308, "post_id": 51175142, "comment_id": 92852813, "body": "This one saved my day in the end, thank you sir. I was able use (renamed) ng1App component (made a component) like a temporary &quot;decorator&quot; for ng1 components which need ng2 downgraded injectables.  &lt;ng1-downgrade-service-adapter&gt;  &lt;service-bootstrap (initialized)=&quot;$parent.$adapterCtrl.onInit()&quot;&gt;&lt;/service-      bootstrap&gt;&lt;notifications ng-if=&quot;$parent.$adapterCtrl.initialized&quot;&gt;&lt;/notifications&gt; &lt;/ng1-downgrade-service-adapter&gt;"}, {"owner": {"reputation": 10253, "user_id": 333777, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5662e99cac22dd9af28b2ab45b1a54de?s=128&d=identicon&r=PG", "display_name": "Klaster_1", "link": "https://stackoverflow.com/users/333777/klaster-1"}, "edited": false, "score": 0, "creation_date": 1547110687, "post_id": 51175142, "comment_id": 95081377, "body": "#2 has been fixed in 7.2.0."}, {"owner": {"reputation": 294, "user_id": 782824, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jv17G.png?s=128&g=1", "display_name": "DragonMoon", "link": "https://stackoverflow.com/users/782824/dragonmoon"}, "edited": false, "score": 0, "creation_date": 1569718942, "post_id": 51175142, "comment_id": 102686536, "body": "I am trying to use this method, but running into a snag. My AngularJS app depends on the low-level service I have migrated to Angular and am attempting to downgrade and inject into it. So I have AngularJS bootstrap, load an Angular directive and its module first, so I can downgrade a migrated service and use it in AngularJS. But wait -- the AngularJS app itself depends on this service being available, so how can it bootstrap properly? Ultimately, my app depends on all services bc they are used in the app. Can I migrate any of them this way?"}, {"owner": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "edited": false, "score": 0, "creation_date": 1588100602, "post_id": 51175142, "comment_id": 108769638, "body": "this method solved it for me with one gotcha.  i was using ui-router and it had resolves in it that depended on downgraded services. This caused the same injector before bootstrap problem (silently) inside the router resolve. To fix it, I had to add this to my hybrid js module: <code>.config([&#39;$urlRouterProvider&#39;, ($urlRouterProvider) =&gt; $urlRouterProvider.deferIntercept()])</code> to defer the router trying to resolve, and then in the <code>ng1AppDirective</code>, inject <code>$urlRouter</code> and call <code>$urlRouter.listen(); $urlRouter.sync();</code> in the <code>onInit()</code>  function. this guaranteed the services being available."}], "tags": [], "owner": {"reputation": 3060, "user_id": 380086, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cb86795578d9afd96850f4462d87b286?s=128&d=identicon&r=PG", "display_name": "ghusse", "link": "https://stackoverflow.com/users/380086/ghusse"}, "is_accepted": false, "score": 15, "last_activity_date": 1530712856, "last_edit_date": 1530712856, "creation_date": 1530711748, "answer_id": 51175142, "question_id": 47189917, "link": "https://stackoverflow.com/questions/47189917/using-downgrademodule-in-conjunction-with-downgradeinjectable-in-an-angular-an/51175142#51175142", "title": "Using downgradeModule in conjunction with downgradeInjectable in an angular / angularjs hybrid application results in error", "body": "<p>Answers in this thread helped me find a solution, but none contains the holy grail:</p>\n\n<ol>\n<li>Creating a <code>service-boostrap</code> component aside the app's code does not work, because Angular is loaded asynchronously, unlike AngularJS. This gives the same error <code>Trying to get the Angular injector before bootstrapping an Angular module.</code></li>\n<li>Creating a <code>service-bootstrap</code> component wrapping the AngularJS code kind of worked, but then I experienced issues with change detection inside Angular composants, as described in <a href=\"https://github.com/angular/angular/issues/22581\" rel=\"noreferrer\">this issue on github</a>.</li>\n<li>In the github issue, someone suggested to edit <code>@angular/upgrade</code> source code to change a <code>false</code> to <code>true</code> to force components to be created in the Zone. But in this case it seems to cause performance issues (it seemed to launch ngZone's code multiple times on user events)</li>\n<li>In order for the app to work correctly, I needed :\n\n<ol>\n<li>Not to have ng components containing AngularJS components containing Angular components. We need to only have AngularJS containing Angular components.</li>\n<li>Make sure that AngularJS components using Angular services are created after a first angular component, named <code>service-bootstrap</code></li>\n</ol></li>\n</ol>\n\n<p>To acheive this, I created a slightly modified <code>service-bootstrap</code> component:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Component, Output, EventEmitter, AfterViewInit } from \"@angular/core\";\n\n@Component({\n    selector: 'service-bootstrap',\n    template: ``\n})\nexport class ServiceBootstrapComponent implements AfterViewInit{\n    @Output()\n    public initialized: EventEmitter&lt;void&gt; = new EventEmitter();\n\n    public ngAfterViewInit(){\n        this.initialized.emit();\n    }\n}\n</code></pre>\n\n<p>Declared this component as <code>entryComponent</code> in the Angular module and called <code>downgradeComponent</code> to register it in AngularJS:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { downgradeModule, downgradeInjectable, downgradeComponent } from '@angular/upgrade/static';\n\nconst bootstrapFn = (extraProviders: StaticProvider[]) =&gt; {\n    const platformRef = platformBrowserDynamic(extraProviders);\n    return platformRef.bootstrapModule(AppModule);\n};\n\nconst downgradedModule = downgradeModule(bootstrapFn);\n\nconst app = angular.module('ngApp', [\n    downgradedModule,\n    'app'\n]);\n\napp.directive('serviceBootstrap', downgradeComponent({ component: ServiceBootstrapComponent }));\n</code></pre>\n\n<p>Then (and the magic happens here), I created a new AngularJS component:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>angular.module(\"app\")\n    .directive('ng1App', ng1AppDirective);\n\nfunction ng1AppDirective(){\n    return {\n        template: `\n            &lt;service-bootstrap (initialized)=\"onInit()\"&gt;&lt;/service-bootstrap&gt;\n            &lt;section ng-if=\"initialized\"&gt;\n              &lt;!-- Your previous app's code here --&gt;\n            &lt;/section&gt;\n        `,\n        controller: ng1AppController,\n        scope: {},\n    };\n}\n\nng1AppController.$inject = ['$scope'];\nfunction ng1AppController($scope){\n    $scope.onInit = onInit;\n    $scope.initialized = false;\n\n    function onInit(){\n        $scope.initialized = true;\n    }\n}\n</code></pre>\n\n<p>Then, my index.html only referenced this component</p>\n\n<pre><code>&lt;body&gt;\n  &lt;ng1-app&gt;&lt;/ng1-app&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>With this approach, I'm not nesting AngularJS components inside Angular components (which breaks change detection in Angular components), and still I ensure that a first Angular component is loaded before accessing the Angular providers.</p>\n"}, {"tags": [], "owner": {"reputation": 2251, "user_id": 3919057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-pU9Kwp1Uo9A/AAAAAAAAAAI/AAAAAAAAAa8/qq35SZAPU60/photo.jpg?sz=128", "display_name": "Rohith K P", "link": "https://stackoverflow.com/users/3919057/rohith-k-p"}, "is_accepted": false, "score": 2, "last_activity_date": 1559112999, "creation_date": 1559112999, "answer_id": 56354710, "question_id": 47189917, "link": "https://stackoverflow.com/questions/47189917/using-downgrademodule-in-conjunction-with-downgradeinjectable-in-an-angular-an/56354710#56354710", "title": "Using downgradeModule in conjunction with downgradeInjectable in an angular / angularjs hybrid application results in error", "body": "<p>I had the same issue, and the reasons are explained in the above answer.</p>\n\n<p>I fixed this by dynamically injecting the downgraded angular service using <a href=\"https://docs.angularjs.org/api/auto/service/$injector\" rel=\"nofollow noreferrer\">$injector</a>.</p>\n\n<p>Steps</p>\n\n<ul>\n<li><p>Register your downgraded service to angularjs module</p>\n\n<pre><code>angular.module('moduleName', dependencies)    \nangular.factory('service', downgradeInjectable(Service));\n</code></pre></li>\n<li><p>Inject <code>$injector</code> to your controller and use this to get the downgraded service</p>\n\n<pre><code>const service = this.$injector.get('service');\nservice.methos();\n</code></pre></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 2392, "user_id": 353550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b60a43d12c10195a0d5033e53d9125e5?s=128&d=identicon&r=PG", "display_name": "pankaj28843", "link": "https://stackoverflow.com/users/353550/pankaj28843"}, "is_accepted": false, "score": 0, "last_activity_date": 1559742063, "creation_date": 1559742063, "answer_id": 56461703, "question_id": 47189917, "link": "https://stackoverflow.com/questions/47189917/using-downgrademodule-in-conjunction-with-downgradeinjectable-in-an-angular-an/56461703#56461703", "title": "Using downgradeModule in conjunction with downgradeInjectable in an angular / angularjs hybrid application results in error", "body": "<p>I was getting the same error in our hybrid app. We are using the following versions:</p>\n\n<ul>\n<li>AngularJS 1.7.x</li>\n<li>Angular 7.3.x</li>\n</ul>\n\n<p>As mentioned <a href=\"https://stackoverflow.com/a/51175142/353550\">in this answer</a>, I also used a dummy component called <code>&lt;ng2-bootstrap&gt;</code> to force boostrapping of Angular. And then, I created an AngularJS service which checks if Angular has been bootstrapped:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// tslint:disable: max-line-length\n/**\n * This service can be used in cases where Angular fails with following error message:\n *\n * `Error: Trying to get the Angular injector before bootstrapping the corresponding Angular module.`\n *\n * Above error occurs because of how `downgradeModule` works.\n */\n\n/*@ngInject*/\nexport class Ng2BootstrapDetectionService {\n  private bootstrapDone = false;\n  constructor(private $q: ng.IQService) {}\n\n  public whenBootstrapDone(): ng.IPromise&lt;void&gt; {\n    if (this.bootstrapDone) {\n      return this.$q.resolve();\n    }\n\n    const deferred = this.$q.defer&lt;void&gt;();\n\n    angular.element(document).ready(() =&gt; {\n      const intervalId = setInterval(() =&gt; {\n        const el = document.querySelector('ng2-bootstrap');\n        if (el &amp;&amp; el.outerHTML.includes('ng-version=')) {\n          this.bootstrapDone = true;\n          clearInterval(intervalId);\n          deferred.resolve();\n        }\n      }, 500);\n    });\n\n    return deferred.promise;\n  }\n}\n</code></pre>\n\n<p><code>Ng2BootstrapDetectionService</code> can be used like below:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {NotificationService} from 'ng2-app/notification.service';\n\n// This can be used in cases where you get following error:\n// `Error: Trying to get the Angular injector before bootstrapping the corresponding Angular module.`\n\n// You will need access to following\n// $injector: AngularJS Injector\n// Ng2BootstrapDetectionService: our custom service to check bootsrap completion\nthis.Ng2BootstrapDetectionService\n  .whenBootstrapDone()\n  .then(() =&gt; {\n    const notificationService = this.$injector\n      .get&lt;NotificationService&gt;('ng2NotificationService');\n    notificationService.notify('my message!');\n  });\n</code></pre>\n\n<hr>\n\n<p>You can find more details about this solution <a href=\"https://medium.com/@pankaj28843/angularjs-to-angular-7-upgrade-for-performance-without-breaking-unit-tests-a03edf40dfaa#e82f\" rel=\"nofollow noreferrer\">at the end of this blog post</a>.</p>\n"}], "owner": {"reputation": 391, "user_id": 3447857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4773ec428498d882bc73be27b2715e2?s=128&d=identicon&r=PG&f=1", "display_name": "theOwl", "link": "https://stackoverflow.com/users/3447857/theowl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8336, "favorite_count": 7, "answer_count": 6, "score": 20, "last_activity_date": 1560455488, "creation_date": 1510176228, "last_edit_date": 1560455488, "question_id": 47189917, "link": "https://stackoverflow.com/questions/47189917/using-downgrademodule-in-conjunction-with-downgradeinjectable-in-an-angular-an", "title": "Using downgradeModule in conjunction with downgradeInjectable in an angular / angularjs hybrid application results in error", "body": "<p>With angular 5.0 the upgrade module now has the option of using downgradeModule which runs angularjs outside of the angular zone. While experimenting with this I have run into a problem with using downgradeInjectable.</p>\n\n<p>I am receiving the error:</p>\n\n<p><em>Uncaught Error: Trying to get the Angular injector before bootstrapping an Angular module.</em></p>\n\n<p><strong>Bootstrapping angular in angular js works fine</strong></p>\n\n<pre><code>import 'zone.js/dist/zone.js';\nimport * as angular from 'angular';\n/**\n * Angular bootstrapping\n */\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { decorateModuleRef } from 'src/environment';\nimport { AppModule } from 'src/app/app.module';\nimport { downgradeModule } from '@angular/upgrade/static';\n\nexport const bootstrapFn = ( extraProviders ) =&gt; {\n    const platformRef = platformBrowserDynamic( extraProviders );\n    return platformRef\n        .bootstrapModule( AppModule )\n        .then( decorateModuleRef );\n};\n\nangular.module( 'app.bootstrap', [\n    downgradeModule( bootstrapFn ),\n] );\n</code></pre>\n\n<p><strong>However...</strong></p>\n\n<p>Since the bootstrapping takes place after angularjs has been initialized I can no longer get the downgrade injectable working.</p>\n\n<p><strong>Service to be downgraded</strong></p>\n\n<pre><code>import { Injectable, Inject, OnInit } from '@angular/core';\n\n@Injectable()\nexport class MobileService implements OnInit{\n    constructor(\n        @Inject( 'angularjsDependency1' ) public angularjsDependency1 : any,\n        @Inject( 'angularjsDependency2' ) public angularjsDependency2 : any,\n    ) {}\n\n}\n</code></pre>\n\n<p><strong>Downgrade injectable attempt</strong></p>\n\n<pre><code>import * as angular from 'angular';\nimport { downgradeInjectable } from '@angular/upgrade/static';\nimport { MyService } from 'src/services/myService/myService';\n\nexport const myServiceDowngraded = angular.module( 'services.mobileService', [\n    angularjsDependency1,\n    angularjsDependency2,\n] )\n\n.factory(\n    'mobileService',\n    downgradeInjectable( MyService ),\n).name;\n</code></pre>\n\n<p>When \"downgradeInjectable( MyService ) runs the angular injector is not available yet since angular hasn't been bootstrapped. Hence the error:</p>\n\n<p><em>Uncaught Error: Trying to get the Angular injector before bootstrapping an Angular module.</em></p>\n\n<p>Does anyone have an idea how I might fix this?</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 1461, "user_id": 1232490, "user_type": "registered", "accept_rate": 23, "profile_image": "https://graph.facebook.com/1440420873/picture?type=large", "display_name": "Akansh", "link": "https://stackoverflow.com/users/1232490/akansh"}, "edited": false, "score": 0, "creation_date": 1510176135, "post_id": 47189824, "comment_id": 81329155, "body": "The problem could be that while you call <code>showInput</code> method, you don&#39;t calculate the updated value of <code>number</code> variable. Add <code>number = $(&#39;#number&#39;).val();</code> inside click method callback."}, {"owner": {"reputation": 4828, "user_id": 8378419, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2772206b4d6afcbdfe7485286554190d?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Milejczak", "link": "https://stackoverflow.com/users/8378419/robbie-milejczak"}, "edited": false, "score": 0, "creation_date": 1510176174, "post_id": 47189824, "comment_id": 81329172, "body": "to check if it&#39;s a number or string use the typeof operator <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/typeof\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a> then use .clone() <a href=\"https://api.jquery.com/clone/\" rel=\"nofollow noreferrer\">api.jquery.com/clone</a> to clone your image then append it <a href=\"http://api.jquery.com/append/\" rel=\"nofollow noreferrer\">api.jquery.com/append</a> to the desired node"}, {"owner": {"reputation": 3322, "user_id": 1029988, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b15fd30b47ef2be5d82a1bcae98de1e9?s=128&d=identicon&r=PG", "display_name": "Nicol&#225;s Straub", "link": "https://stackoverflow.com/users/1029988/nicol%c3%a1s-straub"}, "edited": false, "score": 0, "creation_date": 1510176436, "post_id": 47189824, "comment_id": 81329274, "body": "hint: <code>img</code> tags do not have <code>innerHTML</code>. if you want to display an image <code>x</code> amount of times, you have to create <code>x</code> amount of <code>img</code> tags and put them in a wrapper <code>div</code> (or <code>p</code>)"}], "answers": [{"tags": [], "owner": {"reputation": 2935, "user_id": 1757877, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/kJbyO.png?s=128&g=1", "display_name": "JTC", "link": "https://stackoverflow.com/users/1757877/jtc"}, "is_accepted": false, "score": 0, "last_activity_date": 1510177169, "creation_date": 1510177169, "answer_id": 47190147, "question_id": 47189824, "link": "https://stackoverflow.com/questions/47189824/the-image-will-be-displayed-as-many-times-as-entered-in-the-input-field/47190147#47190147", "title": "The image will be displayed as many times as entered in the input field", "body": "<p>Working fiddle: <a href=\"https://jsfiddle.net/4yqqp3m6/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/4yqqp3m6/</a></p>\n\n<p>Based on the errors you made, you should continue with something easier to get a real grip of <code>javascript</code> and <code>JQuery</code>.</p>\n\n<p>So you had multiple problems here - check comments: </p>\n\n<p>Javascript:</p>\n\n<pre><code>$(document).ready(function () {\n\n        $('#display').hide();\n        $('#danger').hide();\n\n\n        var src = $('#image').val();\n        var number = $('#number').val();\n\n        function showInput(number) { // the same here to get the number\n\n            var index = 1\n            for (var index = 0; index &lt; number; index++) {\n                document.getElementById('display').innerHTML +=\n                   ' &lt;img src=\"https://www.w3schools.com/howto/img_fjords.jpg\" /&gt;';\n            }\n\n            $('#display').show();\n        }\n\n\n\n            $(\"#submit\").click(function () {\n\n            //!! this part you missed\n            number = $(\"#number\").val(); // get the value from input\n                        number = parseInt(number); // number is string cast it to integer\n            //!!\n\n\n             if (number == \"\") {\n                //Check if number is numeric\n                $('#danger').html('Prosimy o wpisanie w\u0142a\u015bciwej warto\u015bci').show();\n                $(\"#number\").attr(\"style\", \"border-color: red!important\");\n\n                return false;\n\n            } else if (number &lt; 1 || number &gt; 100) {\n                $('#danger').html('Prosimy o wpisanie w\u0142a\u015bciwej warto\u015bci').show();\n                $(\"#number\").attr(\"style\", \"border-color: red!important\");\n\n                return false;\n\n            } else {\n\n                showInput(number); // you have to give the number to function\n                $('#danger').html('Prosimy o wpisanie w\u0142a\u015bciwej warto\u015bci').hide();\n                $(\"#number\").attr(\"style\", \"border-color: \");\n\n\n            }\n        });\n    });\n</code></pre>\n\n<p>HTML: </p>\n\n<pre><code>&lt;body&gt;\n    &lt;form&gt;\n        &lt;br/&gt;\n        &lt;label for=\"name\"&gt;Ile razy wy\u015bwietli si\u0119 obrazek&lt;/label&gt;\n        &lt;input type=\"number\" class=\"form-control\" name=\"number\" id=\"number\" placeholder=\"wpisz liczb\u0119 od 1 do 100\" required=\"\"&gt;\n    &lt;/form&gt;\n    &lt;br/&gt;\n\n    &lt;!-- this part was wrong too... --&gt;\n    &lt;div id='display'&gt;\n    &lt;/div&gt;\n\n\n    &lt;br/&gt;\n    &lt;br/&gt;\n    &lt;input type=\"submit\" name=\"submit\" id=\"submit\"&gt; &lt;!-- dont call show inpout yet --&gt;\n    &lt;div id=\"danger\" class=\"alert alert-danger collapse\"&gt;&lt;/div&gt;\n    &lt;br/&gt;\n    &lt;div id=\"img\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2935, "user_id": 1757877, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/kJbyO.png?s=128&g=1", "display_name": "JTC", "link": "https://stackoverflow.com/users/1757877/jtc"}, "edited": false, "score": 0, "creation_date": 1510177802, "post_id": 47190154, "comment_id": 81329941, "body": "I dont think she&#39;s looking for working refactured code... It may be  better to show bad points in her code and point her in the right direction and let her figure out the rest."}, {"owner": {"reputation": 13272, "user_id": 3211932, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/NIQhF.jpg?s=128&g=1", "display_name": "dhilt", "link": "https://stackoverflow.com/users/3211932/dhilt"}, "reply_to_user": {"reputation": 2935, "user_id": 1757877, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/kJbyO.png?s=128&g=1", "display_name": "JTC", "link": "https://stackoverflow.com/users/1757877/jtc"}, "edited": false, "score": 1, "creation_date": 1510177965, "post_id": 47190154, "comment_id": 81330010, "body": "@JTC I tried to reflect it in the code comments, thanks."}], "tags": [], "owner": {"reputation": 13272, "user_id": 3211932, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/NIQhF.jpg?s=128&g=1", "display_name": "dhilt", "link": "https://stackoverflow.com/users/3211932/dhilt"}, "is_accepted": false, "score": 0, "last_activity_date": 1510178758, "last_edit_date": 1510178758, "creation_date": 1510177206, "answer_id": 47190154, "question_id": 47189824, "link": "https://stackoverflow.com/questions/47189824/the-image-will-be-displayed-as-many-times-as-entered-in-the-input-field/47190154#47190154", "title": "The image will be displayed as many times as entered in the input field", "body": "<p>I've made a little refactoring of your code. The demo is available at <a href=\"https://plnkr.co/edit/SO4kprhzx1fyAsogqXBR?p=preview\" rel=\"nofollow noreferrer\">Plunker</a>.</p>\n\n<p><strong>JS</strong></p>\n\n<pre><code>$(document).ready(function () {\n    var image = document.getElementById('display').outerHTML; // to persist the image\n    $('#display').hide();\n    $('#danger').hide();\n\n    function showInput(number) {\n      $('#displayBox').html(''); // to remove previous images\n        for (var index = 0; index &lt; number; index++) {\n          $('#displayBox').append(image);\n        }\n    }\n\n    $(\"#submit\").click(function () {\n         var number = parseInt($('#number').val(), 10); // correct way to get a numeric input value\n         if (isNaN(number) || (number &lt; 1 || number &gt; 100)) { \n            $('#danger').html('Prosimy o wpisanie w\u0142a\u015bciwej warto\u015bci').show();\n            $(\"#number\").attr(\"style\", \"border-color: red!important\");\n            return false;\n        }  \n        showInput(number); // passing the actual number value\n        $('#danger').html('Prosimy o wpisanie w\u0142a\u015bciwej warto\u015bci').hide();\n        $(\"#number\").attr(\"style\", \"border-color: \");\n    });\n});\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;body&gt;\n    &lt;form&gt;\n        &lt;label for=\"name\"&gt;Ile razy wy\u015bwietli si\u0119 obrazek&lt;/label&gt;\n        &lt;input type=\"number\" class=\"form-control\" name=\"number\" id=\"number\" placeholder=\"wpisz liczb\u0119 od 1 do 100\" required=\"\"&gt;\n    &lt;/form&gt;\n    &lt;p id=\"displayBox\"&gt; &lt;!-- that's what I've added to the template, here we will push our images --&gt;\n        &lt;img id='display' src=\"https://cdn0.iconfinder.com/data/icons/fruits/128/Banana.png\" /&gt;\n    &lt;/p&gt;\n    &lt;input type=\"submit\" name=\"submit\" id=\"submit\" &gt; &lt;!-- no need to onclick since you have handler binding via js --&gt;\n    &lt;div id=\"danger\" class=\"alert alert-danger collapse\"&gt;&lt;/div&gt;\n    &lt;div id=\"img\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1461, "user_id": 5038073, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/5OTM0.jpg?s=128&g=1", "display_name": "Ayo K", "link": "https://stackoverflow.com/users/5038073/ayo-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1510177774, "creation_date": 1510177774, "answer_id": 47190285, "question_id": 47189824, "link": "https://stackoverflow.com/questions/47189824/the-image-will-be-displayed-as-many-times-as-entered-in-the-input-field/47190285#47190285", "title": "The image will be displayed as many times as entered in the input field", "body": "<p>made small changes to your code:</p>\n\n<p>css:</p>\n\n<pre><code>#display{\n    width:20%;\n}\n</code></pre>\n\n<p>javascript: </p>\n\n<pre><code>&lt;script&gt;\nvar src = $('#image').val();\nvar number = $('#number').val();\n$(document).ready(function () {\n\n    $('#display').hide();\n    $('#danger').hide();\n\n\n\n    $(\"#submit\").click(function () {\n    src = $('#image').val();\n    number = $('#number').val();\n    console.log(number);\n\n         if (number == \"\") {\n            //Check if number is numeric\n            $('#danger').html('Prosimy o wpisanie w\u0142a\u015bciwej warto\u015bci').show();\n            $(\"#number\").attr(\"style\", \"border-color: red!important\");\n\n            return false;\n\n        } else if (number &lt; 1 || number &gt; 100) {\n            $('#danger').html('Prosimy o wpisanie w\u0142a\u015bciwej warto\u015bci').show();\n            $(\"#number\").attr(\"style\", \"border-color: red!important\");\n\n            return false;\n\n        } else {\n\n            showInput()\n            $('#danger').html('Prosimy o wpisanie w\u0142a\u015bciwej warto\u015bci').hide();\n            $(\"#number\").attr(\"style\", \"border-color: \");\n\n\n        }\n    });\n});\n\n    function showInput() {\n        $('#container').empty();\n        var index = 1\n        for (var index = 0; index &lt; number; index++) {\n            $('#container').append(\"&lt;img id='display' src='image.jpg' /&gt;\");\n        }\n    }\n\n&lt;/script&gt;\n</code></pre>\n\n<p>html:</p>\n\n<pre><code>&lt;body&gt;\n    &lt;form&gt;\n    &lt;br/&gt;\n    &lt;label for=\"name\"&gt;Ile razy wy\u015bwietli si\u0119 obrazek&lt;/label&gt;\n    &lt;input type=\"number\" class=\"form-control\" name=\"number\" id=\"number\" placeholder=\"wpisz liczb\u0119 od 1 do 100\" required=\"\"&gt;\n&lt;/form&gt;\n&lt;br/&gt;\n&lt;div id=\"container\"&gt;\n\n&lt;/div&gt;\n&lt;br/&gt;\n&lt;br/&gt;\n&lt;input type=\"button\" name=\"submit\" id=\"submit\" value=\"submit\" onclick=\"showInput()\" &gt;\n&lt;div id=\"danger\" class=\"alert alert-danger collapse\"&gt;&lt;/div&gt;\n&lt;br/&gt;\n&lt;div id=\"img\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8909705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f7714571b32d6e9bec7ff8aed9805b5?s=128&d=identicon&r=PG&f=1", "display_name": "Anita", "link": "https://stackoverflow.com/users/8909705/anita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1510178758, "creation_date": 1510175710, "last_edit_date": 1510177675, "question_id": 47189824, "link": "https://stackoverflow.com/questions/47189824/the-image-will-be-displayed-as-many-times-as-entered-in-the-input-field", "title": "The image will be displayed as many times as entered in the input field", "body": "<p>I started my adventure with jQuery and in the exercise I encountered an obstacle that I do not know how to deal with.\nI have to write a code that will result when you enter a number, the image will be displayed as many times as the user entered.\nInput field that accepts only digits (code must be additionally verified). Minimum 1, maximum 100\nIf not a digit or out of range then we inform the user\nThe user enters a number and clicks a button, the program displays the above user as many times as the user entered\nWhat is more (do not have to be perfect) 5 pictures to insert a new line (<br>).\nI will be grateful for any help...</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script&gt;\r\n$(document).ready(function () {\r\n\r\n  $('#display').hide();\r\n  $('#danger').hide();\r\n\r\n  var src = $('#image').val();\r\n  var number = $('#number').val();\r\n\r\n  function showInput() {\r\n      var index = 1;\r\n      for (var index = 0; index &lt; number; index++) {\r\n        document.getElementById('#display').innerHTML =\r\n          document.getElementById(\"#number\").value;\r\n      }\r\n  }\r\n  \r\n  $(\"#submit\").click(function () {\r\n    if (number == \"\") {\r\n      //Check if number is numeric\r\n      $('#danger').html('Prosimy o wpisanie w\u0142a\u015bciwej warto\u015bci').show();\r\n      $(\"#number\").attr(\"style\", \"border-color: red!important\");\r\n      return false;\r\n      \r\n    } else if (number &lt; 1 || number &gt; 100) {\r\n      $('#danger').html('Prosimy o wpisanie w\u0142a\u015bciwej warto\u015bci').show();\r\n      $(\"#number\").attr(\"style\", \"border-color: red!important\");\r\n      return false;\r\n      \r\n    } else {\r\n      showInput()\r\n      $('#danger').html('Prosimy o wpisanie w\u0142a\u015bciwej warto\u015bci').hide();\r\n      $(\"#number\").attr(\"style\", \"border-color: \");\r\n    }\r\n  });\r\n  \r\n});\r\n&lt;/script&gt;\r\n\r\n&lt;body&gt;\r\n    &lt;form&gt;\r\n        &lt;br/&gt;\r\n        &lt;label for=\"name\"&gt;Ile razy wy\u015bwietli si\u0119 obrazek&lt;/label&gt;\r\n        &lt;input type=\"number\" class=\"form-control\" name=\"number\" id=\"number\" placeholder=\"wpisz liczb\u0119 od 1 do 100\" required=\"\"&gt;\r\n    &lt;/form&gt;\r\n    &lt;br/&gt;\r\n    &lt;p&gt;\r\n        &lt;img id='display' src=\"kaczka.jpg\" /&gt;\r\n    &lt;/p&gt;\r\n    &lt;br/&gt;\r\n    &lt;br/&gt;\r\n    &lt;input type=\"submit\" name=\"submit\" id=\"submit\" onclick=\"showInput()\" &gt;\r\n    &lt;div id=\"danger\" class=\"alert alert-danger collapse\"&gt;&lt;/div&gt;\r\n    &lt;br/&gt;\r\n    &lt;div id=\"img\"&gt;&lt;/div&gt;\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "react-native"], "comments": [{"owner": {"reputation": 2092, "user_id": 704466, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/932e3f9ef90863c0e124fd729078626f?s=128&d=identicon&r=PG", "display_name": "Mirodil", "link": "https://stackoverflow.com/users/704466/mirodil"}, "edited": false, "score": 0, "creation_date": 1510176879, "post_id": 47189736, "comment_id": 81329498, "body": "you can try <code>URLS.map(url=&gt; fetch(url).then(res=&gt;res.text()).then(extractData).then(item&zwnj;&#8203;s=&gt; this.setState({data:this.state.data.push(...items)})))</code>"}], "answers": [{"comments": [{"owner": {"reputation": 711, "user_id": 5008598, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d54982cda07c7c1489a9cd34c8655aea?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/5008598/harry"}, "edited": false, "score": 0, "creation_date": 1510243024, "post_id": 47189846, "comment_id": 81361288, "body": "All the requests are being fetched now, but they seem to override the previous data instead of adding all of it into the array."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "reply_to_user": {"reputation": 711, "user_id": 5008598, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d54982cda07c7c1489a9cd34c8655aea?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/5008598/harry"}, "edited": false, "score": 0, "creation_date": 1510243074, "post_id": 47189846, "comment_id": 81361317, "body": "That is probably related to reactjs code at <code>this.setState({             data: this.extractData(responseData)           })</code>, which have limited experience using."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "reply_to_user": {"reputation": 711, "user_id": 5008598, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d54982cda07c7c1489a9cd34c8655aea?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/5008598/harry"}, "edited": false, "score": 0, "creation_date": 1510275535, "post_id": 47189846, "comment_id": 81377709, "body": "What is the expect result of <code>data</code> at <code>this.setState({             data: this.extractData(responseData)           }</code>?"}], "tags": [], "owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "is_accepted": false, "score": 3, "last_activity_date": 1510177218, "last_edit_date": 1510177218, "creation_date": 1510175846, "answer_id": 47189846, "question_id": 47189736, "link": "https://stackoverflow.com/questions/47189736/how-to-fetch-data-from-multiple-urls-and-save-it-in-an-array-react-native/47189846#47189846", "title": "How to fetch data from multiple urls and save it in an array (react native)", "body": "<p>You are passing an array to <code>fetch()</code> instead of a string or <code>Request</code> object. You can use <code>Promise</code> all or <code>async/await</code> and a loop to make multiple calls to <code>fetch()</code> and get result when all requests complete or log error if any other the requests throw an error. You can also handle the error and continue the loop to get both successful requests and error messages.</p>\n\n<pre><code>  fetchData() {    \n    return Promise.all(\n      URLS.map(url =&gt; \n        fetch(url)\n        .then(response =&gt; response.text())\n        .then(responseData =&gt; {\n          this.setState({\n            data: this.extractData(responseData)\n          })\n        })\n        .catch(err =&gt; /* handle errors here */ console.error(err))\n      )\n    ).then(() =&gt; {// do stuff}, err =&gt; {// handle error})\n  }\n</code></pre>\n\n<p>It is not clear from Question what <code>.done()</code> is or what the expected result of calling <code>.done()</code> is.</p>\n"}, {"comments": [{"owner": {"reputation": 711, "user_id": 5008598, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d54982cda07c7c1489a9cd34c8655aea?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/5008598/harry"}, "edited": false, "score": 0, "creation_date": 1510306681, "post_id": 47207043, "comment_id": 81388749, "body": "and when i specify the index its showing only 3 items on the list <code>this.setState((prevState, props) =&gt; ({ data: [...prevState.data, this.extractData(responseData)[0]] })</code>"}, {"owner": {"reputation": 711, "user_id": 5008598, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d54982cda07c7c1489a9cd34c8655aea?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/5008598/harry"}, "edited": false, "score": 0, "creation_date": 1510321582, "post_id": 47207043, "comment_id": 81398154, "body": "Thanks i managed to fix the issue i had to do it like this: <code>data: [...prevState.data, ...this.extractData(responseData)]</code>"}], "tags": [], "owner": {"reputation": 61, "user_id": 4069535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be0d3a1dbda6e58f0f02bd65a46a257?s=128&d=identicon&r=PG", "display_name": "Peter Lazar", "link": "https://stackoverflow.com/users/4069535/peter-lazar"}, "is_accepted": true, "score": 1, "last_activity_date": 1510245199, "creation_date": 1510245199, "answer_id": 47207043, "question_id": 47189736, "link": "https://stackoverflow.com/questions/47189736/how-to-fetch-data-from-multiple-urls-and-save-it-in-an-array-react-native/47207043#47207043", "title": "How to fetch data from multiple urls and save it in an array (react native)", "body": "<p>In addition to @guest271314 answer, modify the setState call as</p>\n\n<pre><code>this.setState((prevState, props) =&gt; ({ data: [...prevState.data, this.extractData(responseData)] })\n</code></pre>\n\n<p>In your earlier code you were overwriting the data array every time a request completed. In the above snippet, you can see that it's adding the new response to the previous array.</p>\n"}], "owner": {"reputation": 711, "user_id": 5008598, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d54982cda07c7c1489a9cd34c8655aea?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/5008598/harry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1782, "favorite_count": 0, "accepted_answer_id": 47207043, "answer_count": 2, "score": 0, "last_activity_date": 1510245199, "creation_date": 1510175352, "question_id": 47189736, "link": "https://stackoverflow.com/questions/47189736/how-to-fetch-data-from-multiple-urls-and-save-it-in-an-array-react-native", "title": "How to fetch data from multiple urls and save it in an array (react native)", "body": "<p>I have an array of RSS URLs that i would like to get data from and save that data in one array. here is my code:</p>\n\n<pre><code>// rss urls array\nvar URLS = [\n  \"https://www.wired.com/feed/rss\",\n  \"http://feeds.bbci.co.uk/news/rss.xml\",\n  \"http://www.nasa.gov/rss/dyn/breaking_news.rss\"\n];\n</code></pre>\n\n<p>I have a data variable in my state where i would like the data to get stored</p>\n\n<pre><code>constructor() {\n    super()\n    this.state = {\n      data: []\n    }\n  }\n</code></pre>\n\n<p>I use the <code>fetchData()</code> function to attempt to fetch the Data</p>\n\n<pre><code>  fetchData() {\n    var urlArray = [];\n\n    for (var i = 0; i &lt; URLS.length; i++) {\n      urlArray.push(URLS[i]);\n    }\n\n    fetch(urlArray)\n      .then((response) =&gt; response.text())\n      .then((responseData) =&gt; {\n        this.setState({\n          data: this.extractData(responseData)\n        });\n      }).done();\n  }\n\n\n  componentDidMount() {\n    this.fetchData();\n  }\n</code></pre>\n\n<p>I use the <code>extractData</code> function to get data from the rss feed like this</p>\n\n<pre><code>  extractData(text) {\n    var doc = new DOMParser().parseFromString(text, 'text/xml');\n    var items_array = [];\n    var items = doc.getElementsByTagName('item');\n\n    for (var i = 0; i &lt; items.length; i++) {\n      items_array.push({\n        title: items[i].getElementsByTagName('title')[0].lastChild.data,\n        description: items[i].getElementsByTagName('description')[0].lastChild.data,\n        //thumbnail: items[i].getElementsByTagName('enclosure')[0].getAttribute('url'),\n        //link: items[i].getElementsByTagName('link')[0].textContent,\n        //date: items[i].getElementsByTagName('pubDate')[0].textContent,                    \n      })\n    }\n    return items_array;\n  }\n</code></pre>\n\n<p>But when i run i am getting an error saying \"cannot load an empty URL\"</p>\n"}, {"tags": ["javascript", "jquery", "tumblr", "tumblr-themes"], "comments": [{"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 1, "creation_date": 1510175353, "post_id": 47189698, "comment_id": 81328795, "body": "As a debugging attempt, remove all html from said file (the append)"}, {"owner": {"reputation": 3322, "user_id": 1029988, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b15fd30b47ef2be5d82a1bcae98de1e9?s=128&d=identicon&r=PG", "display_name": "Nicol&#225;s Straub", "link": "https://stackoverflow.com/users/1029988/nicol%c3%a1s-straub"}, "edited": false, "score": 1, "creation_date": 1510176044, "post_id": 47189698, "comment_id": 81329109, "body": "try replaceing <code>http:&#47;&#47;</code> with <code>&#47;&#47;</code>. AFAIK, you cannot load scripts from insecure locations within a secure site."}, {"owner": {"reputation": 171, "user_id": 4333321, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/aea491f2f55c40e6c7bd1c5f09aef648?s=128&d=identicon&r=PG&f=1", "display_name": "nr159", "link": "https://stackoverflow.com/users/4333321/nr159"}, "reply_to_user": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1510177095, "post_id": 47189698, "comment_id": 81329594, "body": "@KevinB, Thanks. This proved that there is definitely an issue with the HTML in the script..."}], "answers": [{"tags": [], "owner": {"reputation": 609, "user_id": 4944981, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f81942f6d83be34974fb53c27f9387dd?s=128&d=identicon&r=PG", "display_name": "chloe784", "link": "https://stackoverflow.com/users/4944981/chloe784"}, "is_accepted": false, "score": 0, "last_activity_date": 1513221732, "last_edit_date": 1513221732, "creation_date": 1510970607, "answer_id": 47361734, "question_id": 47189698, "link": "https://stackoverflow.com/questions/47189698/can-anybody-explain-why-this-script-cannot-be-uploaded-as-an-external-resource/47361734#47361734", "title": "Can Anybody Explain Why This Script Cannot Be Uploaded as an External Resource?", "body": "<p>It\u2019s due the HTML tags in the script. You can work around this by splitting the HTML tags so </p>\n\n<pre><code>\"&lt;li&gt;\"\n</code></pre>\n\n<p>Becomes</p>\n\n<pre><code>\"&lt;\"+\"li&gt;\"\n</code></pre>\n\n<p>And do the same with end tags too. </p>\n"}], "owner": {"reputation": 171, "user_id": 4333321, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/aea491f2f55c40e6c7bd1c5f09aef648?s=128&d=identicon&r=PG&f=1", "display_name": "nr159", "link": "https://stackoverflow.com/users/4333321/nr159"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1513221732, "creation_date": 1510175164, "last_edit_date": 1510177498, "question_id": 47189698, "link": "https://stackoverflow.com/questions/47189698/can-anybody-explain-why-this-script-cannot-be-uploaded-as-an-external-resource", "title": "Can Anybody Explain Why This Script Cannot Be Uploaded as an External Resource?", "body": "<p>I am currently working within Tumblr's theme builder framework, and have been facing some difficulties uploading certain scripts as external resources. Upon several upload attempts, I continuously received an error message implying that Tumblr does not accept .html files to be uploaded as an asset, even though the file I am attempting to upload is a .js file.</p>\n\n<p>I suppose it's worth noting that my site runs via HTTPS, so why would a code, (as shown below), not be able to be loaded as an external source/asset?</p>\n\n<p>UPDATE: Ok, so far the issue has something to do with this portion of HTML in the script:</p>\n\n<pre><code>if (photos[j].alt_sizes[1]) {\n        imgURL = photos[j].alt_sizes[1].url;\n        // console.log(imgURL, linkURL);\n      } else {\n        continue;\n      }\n      $(\"#tumblr-posts\").append(\n        \"&lt;li&gt;&lt;a href=\" +\n          linkURL +\n          \"&gt;&lt;img src=\" +\n          imgURL +\n          \" /&gt;&lt;/a&gt;\" +\n          \"&lt;/li&gt;\"\n      );\n    }\n</code></pre>\n\n<p>The denied external JS (mycustomscript.js):</p>\n\n<pre><code>apiKey = \"API-HIDDEN\";\nlimit = 4;\n$.ajax({\n  url: \"https://api.tumblr.com/v2/blog/MYTUMBLRID.tumblr.com/posts?limit=4\",\n  dataType: \"jsonp\",\n  data: {\n    api_key: apiKey,\n    tag: \"blog\"\n  },\n  success: function(results) {\n    var i = 0;\n    while (i &lt; results.response.posts.length) {\n      var type = results.response.posts[i].type;\n      if (type == \"photo\") {\n        var photos = results.response.posts[i].photos;\n        var linkURL = results.response.posts[i].post_url;\n        var caption = results.response.posts[i].caption;\n        for (var j = 0; j &lt; photos.length; j++) {\n          if (photos[j].alt_sizes[1]) {\n            imgURL = photos[j].alt_sizes[1].url;\n            // console.log(imgURL, linkURL);\n          } else {\n            continue;\n          }\n          $(\"#tumblr-posts\").append(\n            \"&lt;li&gt;&lt;a href=\" +\n              linkURL +\n              \"&gt;&lt;img src=\" +\n              imgURL +\n              \" /&gt;&lt;/a&gt;\" +\n              \"&lt;/li&gt;\"\n          );\n        }\n      }\n      i++;\n    }\n    console.log(results.response);\n  }\n});\n</code></pre>\n\n<p>How I've attempted to call for the script, (x's in place to conceal hidden link portions):</p>\n\n<pre><code>&lt;script src=\"http://static.tumblr.com/x/x/mycustomscript.js\"&gt;&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 4933, "user_id": 6338762, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/52b2972a524d0ae0dbe0ce4cbeb57c00?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Richardson", "link": "https://stackoverflow.com/users/6338762/kyle-richardson"}, "edited": false, "score": 0, "creation_date": 1510175503, "post_id": 47189686, "comment_id": 81328867, "body": "If the div is the next sibling to the input, you could give the div a class such as <code>default-hidden</code> and write styles: <code>div.default-hidden { display: none }</code> and <code>input:focus + div.default-hidden { display: block }</code>. No need for the show function."}, {"owner": {"reputation": 909, "user_id": 3603383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/sxhtg.jpg?s=128&g=1", "display_name": "Pascal Goldbach", "link": "https://stackoverflow.com/users/3603383/pascal-goldbach"}, "reply_to_user": {"reputation": 4933, "user_id": 6338762, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/52b2972a524d0ae0dbe0ce4cbeb57c00?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Richardson", "link": "https://stackoverflow.com/users/6338762/kyle-richardson"}, "edited": false, "score": 0, "creation_date": 1510176019, "post_id": 47189686, "comment_id": 81329093, "body": "Thank you @KyleRichardson, I didn&#39;t know that the <code>+</code> operator existed"}, {"owner": {"reputation": 4933, "user_id": 6338762, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/52b2972a524d0ae0dbe0ce4cbeb57c00?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Richardson", "link": "https://stackoverflow.com/users/6338762/kyle-richardson"}, "edited": false, "score": 1, "creation_date": 1510176095, "post_id": 47189686, "comment_id": 81329133, "body": "It is a very useful selector. I wish there was a previous sibling selector."}], "answers": [{"tags": [], "owner": {"reputation": 1969, "user_id": 5651536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e841ed95d19835d55d481e2678655df1?s=128&d=identicon&r=PG&f=1", "display_name": "John Ellmore", "link": "https://stackoverflow.com/users/5651536/john-ellmore"}, "is_accepted": true, "score": 4, "last_activity_date": 1510175308, "creation_date": 1510175308, "answer_id": 47189727, "question_id": 47189686, "link": "https://stackoverflow.com/questions/47189686/show-a-block-using-focus/47189727#47189727", "title": "Show a block using focus()", "body": "<p>You cannot focus an object that has <code>display: none</code> applied.</p>\n\n<p>From <a href=\"https://stackoverflow.com/a/21351546/5651536\">this question</a>:</p>\n\n<blockquote>\n  <p>Elements that are not visible cannot receive focus, therefore the :focus psuedo-class cannot apply.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": false, "score": 1, "last_activity_date": 1510176259, "creation_date": 1510176259, "answer_id": 47189923, "question_id": 47189686, "link": "https://stackoverflow.com/questions/47189686/show-a-block-using-focus/47189923#47189923", "title": "Show a block using focus()", "body": "<p>You can do this easily with CSS using the <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/Adjacent_sibling_selectors\" rel=\"nofollow noreferrer\">adjacent sibling selector</a>. When the button is focused, the sibling div appears:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>div {\r\n  width: 100px;\r\n  height: 100px;\r\n  border: 1px solid blue;\r\n  display: none;\r\n}\r\n\r\nbutton:focus + div {\r\n  background-color: red;\r\n  display: block;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button type=\"button\" value=\"\"&gt;click me!&lt;/button&gt;\r\n&lt;div id=\"element\" tabindex=\"-1\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 909, "user_id": 3603383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/sxhtg.jpg?s=128&g=1", "display_name": "Pascal Goldbach", "link": "https://stackoverflow.com/users/3603383/pascal-goldbach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 759, "favorite_count": 0, "accepted_answer_id": 47189727, "answer_count": 2, "score": 1, "last_activity_date": 1510176259, "creation_date": 1510175104, "question_id": 47189686, "link": "https://stackoverflow.com/questions/47189686/show-a-block-using-focus", "title": "Show a block using focus()", "body": "<p>My goal is :</p>\n\n<ul>\n<li>to show a popin when the user clicks on a button</li>\n<li>to hide the popin when the user clicks elsewhere</li>\n</ul>\n\n<p>I've tried this solution, and it works great : <a href=\"https://stackoverflow.com/questions/1403615/use-jquery-to-hide-a-div-when-the-user-clicks-outside-of-it\">Use jQuery to hide a DIV when the user clicks outside of it</a></p>\n\n<p>But I wanted to try something differently, I wanted to try <code>focus()</code></p>\n\n<p>So I made this code :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>div\r\n{\r\n  width: 100px;\r\n  height: 100px;\r\n  border: 1px solid blue;\r\n}\r\n\r\ndiv:focus\r\n{\r\n  background-color: red;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script&gt;\r\nfunction show()\r\n{\r\n\tdocument.getElementById(\"element\").focus();\r\n}\r\n\r\n&lt;/script&gt;\r\n\r\n&lt;input type=\"button\" onclick=\"show()\" value=\"click me!\"/&gt;\r\n&lt;div id=\"element\"tabindex=\"-1\"&gt;\r\n\r\n&lt;/div&gt;\r\nAfter you clicked the button, click elsewhere to remove the red background</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And it works great, now I want to hide the block and show it when the user clicks the button, I just added <code>display: block</code> and <code>display: none</code>, that's the only difference between the two versions</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>div\r\n{\r\n  width: 100px;\r\n  height: 100px;\r\n  border: 1px solid blue;\r\n  display: none;\r\n}\r\n\r\ndiv:focus\r\n{\r\n  background-color: red;\r\n  display: block;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script&gt;\r\nfunction show()\r\n{\r\n\tdocument.getElementById(\"element\").focus();\r\n}\r\n\r\n&lt;/script&gt;\r\n\r\n&lt;input type=\"button\" onclick=\"show()\" value=\"click me!\"/&gt;\r\n&lt;div id=\"element\"tabindex=\"-1\"&gt;\r\n\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And it's not working anymore, can someone tell me why?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 2, "creation_date": 1510174986, "post_id": 47189650, "comment_id": 81328602, "body": "Use an if statement?"}, {"owner": {"reputation": 4701, "user_id": 3662110, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/I19Jk.jpg?s=128&g=1", "display_name": "jmargolisvt", "link": "https://stackoverflow.com/users/3662110/jmargolisvt"}, "edited": false, "score": 1, "creation_date": 1510175006, "post_id": 47189650, "comment_id": 81328612, "body": "Where is your attempt?"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1510175026, "post_id": 47189650, "comment_id": 81328625, "body": "Would help if you showed what you are currently doing...."}, {"owner": {"reputation": 11, "user_id": 8841059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc74ce1374a8d20c8706806c86ad3d38?s=128&d=identicon&r=PG&f=1", "display_name": "Fabb", "link": "https://stackoverflow.com/users/8841059/fabb"}, "edited": false, "score": 0, "creation_date": 1510175353, "post_id": 47189650, "comment_id": 81328796, "body": "The attemt is to format is without seconds when they are 00 as I get a datestring with seconds, mostly with 00 for some places where I display them without the seconds."}, {"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1510175495, "post_id": 47189650, "comment_id": 81328863, "body": "@Fabb Right, but where&#39;s the code that you have? We need an example of what it is you want it to do and what you&#39;ve tried or are trying. You didn&#39;t give us a base to start from. You wouldn&#39;t go to your mechanic without your car and tell them there&#39;s a problem of some sort when you drive it."}, {"owner": {"reputation": 11, "user_id": 8841059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc74ce1374a8d20c8706806c86ad3d38?s=128&d=identicon&r=PG&f=1", "display_name": "Fabb", "link": "https://stackoverflow.com/users/8841059/fabb"}, "edited": false, "score": 0, "creation_date": 1510175800, "post_id": 47189650, "comment_id": 81328994, "body": "True, I&#39;m searching for a way and tried to enter and add the following link where I can accross as a start. I&#39;m just looking for a way, that an ifstatement is needed is quite clear. <a href=\"https://stackoverflow.com/questions/35758963/remove-seconds-milliseconds-from-date-convert-to-iso-string\" title=\"remove seconds milliseconds from date convert to iso string\">stackoverflow.com/questions/35758963/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8841059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc74ce1374a8d20c8706806c86ad3d38?s=128&d=identicon&r=PG&f=1", "display_name": "Fabb", "link": "https://stackoverflow.com/users/8841059/fabb"}, "edited": false, "score": 0, "creation_date": 1510177719, "post_id": 47190191, "comment_id": 81329888, "body": "Yes this very usefull, I came accross the something like same at the moment on w3schools. as it&#39;s all client side I wondered if there was something more JS or whatever library based way that doesn&#39;t rely on the browser. Your way is supported in all browsers tho"}, {"owner": {"reputation": 697, "user_id": 7837657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec854a1f8a312c44f0e6cd7359376172?s=128&d=identicon&r=PG&f=1", "display_name": "Sacha", "link": "https://stackoverflow.com/users/7837657/sacha"}, "reply_to_user": {"reputation": 11, "user_id": 8841059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc74ce1374a8d20c8706806c86ad3d38?s=128&d=identicon&r=PG&f=1", "display_name": "Fabb", "link": "https://stackoverflow.com/users/8841059/fabb"}, "edited": false, "score": 0, "creation_date": 1510177824, "post_id": 47190191, "comment_id": 81329948, "body": "@Fabb Glad I helped you :)"}], "tags": [], "owner": {"reputation": 697, "user_id": 7837657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec854a1f8a312c44f0e6cd7359376172?s=128&d=identicon&r=PG&f=1", "display_name": "Sacha", "link": "https://stackoverflow.com/users/7837657/sacha"}, "is_accepted": true, "score": 0, "last_activity_date": 1510177376, "creation_date": 1510177376, "answer_id": 47190191, "question_id": 47189650, "link": "https://stackoverflow.com/questions/47189650/javascript-remove-seconds-from-timestring-when-seconds-are-00/47190191#47190191", "title": "Javascript Remove seconds from timestring when seconds are 00", "body": "<p>If you would put this in a function, I think it'll work fine:</p>\n\n<pre><code>var d = new Date(); //get date\n\nh = d.getHours(); //get hours, minutes and seconds\nm = d.getMinutes();\ns = d.getSeconds();\n\nif (h &lt; 10) {  // In case an hour, a minute or a second is less than 10 (so 1 decimal),\n  h = \"0\" + h; // an extra '0' will be added.\n}\nif (m &lt; 10) {\n  m = \"0\" + m;\n}\nif (s &lt; 10) {\n  s = \"0\" + s;\n}\n\nif (s == 0) { // If 'seconds' is equal to zero, it'll only return the hours and minutes.\n  return(h + \":\" + m);\n} else {\n  return(h + \":\" + m + \":\" + s);\n}\n</code></pre>\n\n<p>It's long, I know, I'm sure there are shorter versions of this.</p>\n"}], "owner": {"reputation": 11, "user_id": 8841059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc74ce1374a8d20c8706806c86ad3d38?s=128&d=identicon&r=PG&f=1", "display_name": "Fabb", "link": "https://stackoverflow.com/users/8841059/fabb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "closed_date": 1510182598, "accepted_answer_id": 47190191, "answer_count": 1, "score": -4, "last_activity_date": 1510177376, "creation_date": 1510174944, "question_id": 47189650, "link": "https://stackoverflow.com/questions/47189650/javascript-remove-seconds-from-timestring-when-seconds-are-00", "closed_reason": "Needs more focus", "title": "Javascript Remove seconds from timestring when seconds are 00", "body": "<p>Is there a way to filter out the seconds in javascript of a timestring and only parse them when they are not :00 ?</p>\n\n<p>Like 12:00:00 should be parsed as 12:00\nLike 12:00:01 should be parsed as 12:00:01</p>\n"}, {"tags": ["javascript", "d3.js"], "answers": [{"comments": [{"owner": {"reputation": 30153, "user_id": 7106086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V7fFc.png?s=128&g=1", "display_name": "Andrew Reid", "link": "https://stackoverflow.com/users/7106086/andrew-reid"}, "reply_to_user": {"reputation": 311, "user_id": 3666761, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b601ca627f3e0985ef940077e43a1037?s=128&d=identicon&r=PG&f=1", "display_name": "brownshoes", "link": "https://stackoverflow.com/users/3666761/brownshoes"}, "edited": false, "score": 0, "creation_date": 1510683724, "post_id": 47191079, "comment_id": 81536011, "body": "Do you have a fiddle or gist that reproduces the issue that I can see?"}, {"owner": {"reputation": 311, "user_id": 3666761, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b601ca627f3e0985ef940077e43a1037?s=128&d=identicon&r=PG&f=1", "display_name": "brownshoes", "link": "https://stackoverflow.com/users/3666761/brownshoes"}, "edited": false, "score": 0, "creation_date": 1510684150, "post_id": 47191079, "comment_id": 81536285, "body": "Actually, I&#39;m making progress. When I appended the data to the context I still had the class as line, not line.     context.append(&quot;path&quot;)         .datum(data)         .attr(&quot;class&quot;, &quot;line2&quot;). seems to be working. If I have any more issues I&#39;ll setup as a bl.ock. Thanks, Andrew"}], "tags": [], "owner": {"reputation": 30153, "user_id": 7106086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V7fFc.png?s=128&g=1", "display_name": "Andrew Reid", "link": "https://stackoverflow.com/users/7106086/andrew-reid"}, "is_accepted": true, "score": 1, "last_activity_date": 1510181566, "creation_date": 1510181566, "answer_id": 47191079, "question_id": 47189616, "link": "https://stackoverflow.com/questions/47189616/update-the-context-line-upon-loading-new-data-d3/47191079#47191079", "title": "Update the context line upon loading new data d3", "body": "<p>Based on the code provided your error is here:</p>\n\n<pre><code>context = d3.select(\"g\").transition();\n</code></pre>\n\n<p>When updating the main area (focus) you use:</p>\n\n<pre><code>Line_chart = d3.select(\"g\").transition();\n</code></pre>\n\n<p>But, when updating the context (lower section), you use the same selection:</p>\n\n<pre><code>context = d3.select(\"g\").transition();\n</code></pre>\n\n<p><code>d3.select</code> will traverse the DOM until it finds an element that matches the selector. It will select the same g for each of these statements because <code>d3.select</code> selects only one matching DOM element, the first one it encounters. The first <code>g</code> you have is the <code>Line_Chart</code> <code>g</code>.</p>\n\n<p>As it selects the same element each time, you will never update the second or later <code>g</code>s. Furthermore, you are searching the first <code>g</code> for a line with the class <code>line2</code> (.select(\".line2\")), as this class exists only in a later <code>g</code>, it will always return a null selection - therefore nothing will be updated. One option would be to remove the reference to the <code>g</code> altogether and select the line with a unique identifier - assuming there is only one line with that class :</p>\n\n<pre><code>d3.select(\".line2\") // or better yet, svg.select() as it is in the svg\n.transition()\n.duration(750)\n.attr(\"d\", line2)\n.style(\"stroke\", function(d) {\n    console.log(d)\n    if(met.includes(trace)){\n        c = 'red'\n    }else{\n        c = 'steelblue'\n    }\n return c });\n</code></pre>\n\n<p>If you really want to keep the current structure, you could assign an id to the context <code>g</code>:</p>\n\n<pre><code>var context = svg.append(\"g\")\n   .attr(\"id\",\"context\")\n</code></pre>\n\n<p>And then select that id later when updating the line:</p>\n\n<pre><code>context = d3.select(\"#context\").transition();\ncontext.select(\".line2\")\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 3666761, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b601ca627f3e0985ef940077e43a1037?s=128&d=identicon&r=PG&f=1", "display_name": "brownshoes", "link": "https://stackoverflow.com/users/3666761/brownshoes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "accepted_answer_id": 47191079, "answer_count": 1, "score": 1, "last_activity_date": 1510181566, "creation_date": 1510174794, "question_id": 47189616, "link": "https://stackoverflow.com/questions/47189616/update-the-context-line-upon-loading-new-data-d3", "title": "Update the context line upon loading new data d3", "body": "<p>I've created a line chart that updates with new data that was based on this example\n<a href=\"https://bl.ocks.org/EfratVil/92f894ac0ba265192411e73f633a3e2f/645d58cad06fb8408a85afea3f5dc893d949ebc9\" rel=\"nofollow noreferrer\">https://bl.ocks.org/EfratVil/92f894ac0ba265192411e73f633a3e2f/645d58cad06fb8408a85afea3f5dc893d949ebc9</a></p>\n\n<p>While I've been able to update the main line, I cannot for the life of me get the context line below to update as well. Following the example here is the code to create the two lines</p>\n\n<pre><code>    var brush = d3.brushX()\n    .extent([\n        [0, 0],\n        [width, height2]\n    ])\n    .on(\"brush end\", brushed);\n\nvar zoom = d3.zoom()\n    .scaleExtent([1, Infinity])\n    .translateExtent([\n        [0, 0],\n        [width, height]\n    ])\n    .extent([\n        [0, 0],\n        [width, height]\n    ])\n    .on(\"zoom\", zoomed);\n\nline = d3.line()\n    .defined(function(d) {\n        return d[trace] != null;\n    })\n    .x(function(d) {\n        return x(d.DATE_PST);\n    })\n    .y(function(d) {\n        return y(+d[trace]);\n    });\n\nline2 = d3.line()\n    .x(function(d) {\n        return x2(d.DATE_PST);\n    })\n    .y(function(d) {\n        return y2(+d[trace]);\n    });\n\nvar clip = svg.append(\"defs\").append(\"svg:clipPath\")\n    .attr(\"id\", \"clip\")\n    .append(\"svg:rect\")\n    .attr(\"width\", width)\n    .attr(\"height\", height)\n    .attr(\"x\", 0)\n    .attr(\"y\", 0);\n\n\nvar Line_chart = svg.append(\"g\")\n    .attr(\"class\", \"focus\")\n    .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n    .attr(\"clip-path\", \"url(#clip)\");\n\n\nvar focus = svg.append(\"g\")\n    .attr(\"class\", \"focus\")\n    .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\nvar context = svg.append(\"g\")\n    .attr(\"class\", \"context\")\n    .attr(\"transform\", \"translate(\" + margin2.left + \",\" + margin2.top + \")\");\n\n\n\nx.domain(d3.extent(data, d =&gt; d.DATE_PST));\ny.domain([d3.min(data, d =&gt; +d[trace]), d3.max(data, d =&gt; +d[trace])]);\nx2.domain(x.domain());\ny2.domain(y.domain());\n\n\nfocus.append(\"g\")\n    .attr(\"class\", \"axis axis--x\")\n    .attr(\"transform\", \"translate(0,\" + height + \")\")\n    .call(xAxis);\n\nyaxe = focus.append(\"g\")\n    .attr(\"class\", \"axis axis--y\")\n    .call(yAxis);\n\n\n\n\nLine_chart.append(\"path\")\n    .datum(data)\n    .attr(\"class\", \"line\")\n    .attr(\"d\", line)\n    .style(\"stroke\", function() {\n        if(met.includes(trace)){\n            c = 'red'\n        }else{\n            c = 'steelblue'\n        }\n     return c });\n\ncontext.append(\"path\")\n    .datum(data)\n    .attr(\"class\", \"line2\")\n    .attr(\"id\", \"line2\")\n    .attr(\"d\", line2)\n    .style(\"stroke\", function() {\n        if(met.includes(trace)){\n            c = 'red'\n        }else{\n            c = 'steelblue'\n        }\n     return c });;\n\n\ncontext.append(\"g\")\n    .attr(\"class\", \"axis axis--x\")\n    .attr(\"transform\", \"translate(0,\" + height2 + \")\")\n    .call(xAxis2);\n\ncontext.append(\"g\")\n    .attr(\"class\", \"brush\")\n    .call(brush)\n    .call(brush.move, x.range());\n\nfocus1 = focus.append(\"g\")\n    .attr(\"class\", \"focus1\")\n    .style(\"display\", \"none\");\n// .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n// .attr(\"transform\", \"translate(0,\" + height + \")\");\n\nfocus1.append(\"circle\")\n    .attr(\"r\", 3);\n\nfocus1.append(\"text\")\n    .attr(\"x\", 9)\n    .attr(\"dy\", \".35em\");\n\nsvg.append(\"rect\")\n    .attr(\"class\", \"zoom\")\n    .attr(\"id\", \"overlay\")\n    .attr(\"width\", width)\n    .attr(\"height\", height)\n    .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n    .call(zoom)\n    .on(\"mouseover\", function() {\n        focus1.style(\"display\", null);\n    })\n    .on(\"mouseout\", function() {\n        focus1.style(\"display\", \"none\");\n    })\n    .on(\"mousemove\", mousemove);\n</code></pre>\n\n<p>and to update the Line_chart with the new data:</p>\n\n<pre><code>Line_chart = d3.select(\"g\").transition();\n\nLine_chart.select(\".line\")\n    .duration(750)\n    .attr(\"d\", line)\n    .style(\"stroke\", function(d) {\n        if(met.includes(trace)){\n            c = 'red'\n        }else{\n            c = 'steelblue'\n        }\n     return c });;\n</code></pre>\n\n<p>I've tried many variations to update the context line but have had no luck:</p>\n\n<pre><code> context = d3.select(\"g\").transition();\ncontext.select(\".line2\")\n.duration(750)\n.attr(\"d\", line2)\n.style(\"stroke\", function(d) {\n    console.log(d)\n    if(met.includes(trace)){\n        c = 'red'\n    }else{\n        c = 'steelblue'\n    }\n return c });\n</code></pre>\n\n<p>How do I update the context line?</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 6228, "user_id": 7427111, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10154540609073171/picture?type=large", "display_name": "Dhaval Jardosh", "link": "https://stackoverflow.com/users/7427111/dhaval-jardosh"}, "edited": false, "score": 2, "creation_date": 1510174863, "post_id": 47189584, "comment_id": 81328534, "body": "Show us in fiddle instead of downloading from Git"}, {"owner": {"reputation": 6228, "user_id": 7427111, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10154540609073171/picture?type=large", "display_name": "Dhaval Jardosh", "link": "https://stackoverflow.com/users/7427111/dhaval-jardosh"}, "edited": false, "score": 0, "creation_date": 1510175169, "post_id": 47189584, "comment_id": 81328701, "body": "<a href=\"https://codepen.io/dhavaljardosh/pen/QOGoZK\" rel=\"nofollow noreferrer\">I did some work for you</a>, is it something like this?"}, {"owner": {"reputation": 561, "user_id": 8897442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LvPVn.jpg?s=128&g=1", "display_name": "Erik James Robles", "link": "https://stackoverflow.com/users/8897442/erik-james-robles"}, "reply_to_user": {"reputation": 6228, "user_id": 7427111, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10154540609073171/picture?type=large", "display_name": "Dhaval Jardosh", "link": "https://stackoverflow.com/users/7427111/dhaval-jardosh"}, "edited": false, "score": 0, "creation_date": 1510192404, "post_id": 47189584, "comment_id": 81334537, "body": "Hello Dhaval. I tried it in jsfiddle and codepen and it doesn&#39;t look anything like what I am working on. I uploaded it to my drive account with an open link if you would like to download it on to your pc. Cheers. Link: <a href=\"https://drive.google.com/drive/folders/1GNd3JGwfAPmmCz5NP9Yr6W9HL861GUSp?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/drive/folders/&hellip;</a> and <a href=\"https://drive.google.com/open?id=1I8zzXyKyMUd8LHNOfmZW2y5qkwq3CZK9\" rel=\"nofollow noreferrer\">drive.google.com/open?id=1I8zzXyKyMUd8LHNOfmZW2y5qkwq3CZK9</a>"}, {"owner": {"reputation": 6228, "user_id": 7427111, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10154540609073171/picture?type=large", "display_name": "Dhaval Jardosh", "link": "https://stackoverflow.com/users/7427111/dhaval-jardosh"}, "edited": false, "score": 0, "creation_date": 1510192912, "post_id": 47189584, "comment_id": 81334660, "body": "Ok, so you want to make it responsive right?"}, {"owner": {"reputation": 561, "user_id": 8897442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LvPVn.jpg?s=128&g=1", "display_name": "Erik James Robles", "link": "https://stackoverflow.com/users/8897442/erik-james-robles"}, "reply_to_user": {"reputation": 6228, "user_id": 7427111, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10154540609073171/picture?type=large", "display_name": "Dhaval Jardosh", "link": "https://stackoverflow.com/users/7427111/dhaval-jardosh"}, "edited": false, "score": 0, "creation_date": 1510194359, "post_id": 47189584, "comment_id": 81335023, "body": "Yes. I tried to use media queries but they just won&#39;t do anything"}, {"owner": {"reputation": 6228, "user_id": 7427111, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10154540609073171/picture?type=large", "display_name": "Dhaval Jardosh", "link": "https://stackoverflow.com/users/7427111/dhaval-jardosh"}, "edited": false, "score": 0, "creation_date": 1510194384, "post_id": 47189584, "comment_id": 81335029, "body": "Ok will look tonight and let you know soon."}, {"owner": {"reputation": 561, "user_id": 8897442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LvPVn.jpg?s=128&g=1", "display_name": "Erik James Robles", "link": "https://stackoverflow.com/users/8897442/erik-james-robles"}, "reply_to_user": {"reputation": 6228, "user_id": 7427111, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10154540609073171/picture?type=large", "display_name": "Dhaval Jardosh", "link": "https://stackoverflow.com/users/7427111/dhaval-jardosh"}, "edited": false, "score": 0, "creation_date": 1510194449, "post_id": 47189584, "comment_id": 81335044, "body": "Thanks mate. I really appreciate it."}, {"owner": {"reputation": 561, "user_id": 8897442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LvPVn.jpg?s=128&g=1", "display_name": "Erik James Robles", "link": "https://stackoverflow.com/users/8897442/erik-james-robles"}, "reply_to_user": {"reputation": 6228, "user_id": 7427111, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10154540609073171/picture?type=large", "display_name": "Dhaval Jardosh", "link": "https://stackoverflow.com/users/7427111/dhaval-jardosh"}, "edited": false, "score": 0, "creation_date": 1510250337, "post_id": 47189584, "comment_id": 81366244, "body": "Hello Dhaval. I have added the photos in the codepen you provided me the other day. Thank you for your work on this. As you can see, the site is just about where I want it on just about all screens. However, as you will see in this link: <a href=\"https://codepen.io/ErikJamesRobles/pen/QOdxYo\" rel=\"nofollow noreferrer\">codepen.io/ErikJamesRobles/pen/QOdxYo</a> the slider image does not resize because I think something is preventing my media queries or I am just not doing them right. Thanks again for your help. Cheers."}, {"owner": {"reputation": 6228, "user_id": 7427111, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10154540609073171/picture?type=large", "display_name": "Dhaval Jardosh", "link": "https://stackoverflow.com/users/7427111/dhaval-jardosh"}, "edited": false, "score": 0, "creation_date": 1510251112, "post_id": 47189584, "comment_id": 81366654, "body": "Please check my answer."}, {"owner": {"reputation": 561, "user_id": 8897442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LvPVn.jpg?s=128&g=1", "display_name": "Erik James Robles", "link": "https://stackoverflow.com/users/8897442/erik-james-robles"}, "reply_to_user": {"reputation": 6228, "user_id": 7427111, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10154540609073171/picture?type=large", "display_name": "Dhaval Jardosh", "link": "https://stackoverflow.com/users/7427111/dhaval-jardosh"}, "edited": false, "score": 1, "creation_date": 1510533931, "post_id": 47189584, "comment_id": 81462055, "body": "Update. Just about there. I used the following code:  @media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {     // IE10+ CSS here } And targeted my header items. I&#39;ll post the new code in GitHub tomorrow.  Cheers."}], "answers": [{"tags": [], "owner": {"reputation": 1969, "user_id": 5651536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e841ed95d19835d55d481e2678655df1?s=128&d=identicon&r=PG&f=1", "display_name": "John Ellmore", "link": "https://stackoverflow.com/users/5651536/john-ellmore"}, "is_accepted": false, "score": 0, "last_activity_date": 1510174923, "creation_date": 1510174923, "answer_id": 47189643, "question_id": 47189584, "link": "https://stackoverflow.com/questions/47189584/i-am-struggling-with-my-header-in-css-not-resizing-correctly/47189643#47189643", "title": "I am struggling with my header in CSS not resizing correctly.", "body": "<p>You're taking elements out of the normal flow of content by setting them to <code>position: absolute</code>. This means that they won't affect the positioning of other elements.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/position#Absolute_positioning\" rel=\"nofollow noreferrer\">See the MDN article on the <code>position</code> property</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 561, "user_id": 8897442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LvPVn.jpg?s=128&g=1", "display_name": "Erik James Robles", "link": "https://stackoverflow.com/users/8897442/erik-james-robles"}, "edited": false, "score": 0, "creation_date": 1510274995, "post_id": 47208818, "comment_id": 81377582, "body": "Great. This is super. I also added a min width of 740px which kept the slider image from shrinking beyond legibility. I really appreciate you looking at this. I can&#39;t thank you enough. I&#39;ll make sure to post you and let you know when the site goes live. Cheers Mate."}], "tags": [], "owner": {"reputation": 6228, "user_id": 7427111, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10154540609073171/picture?type=large", "display_name": "Dhaval Jardosh", "link": "https://stackoverflow.com/users/7427111/dhaval-jardosh"}, "is_accepted": true, "score": 0, "last_activity_date": 1510251073, "creation_date": 1510251073, "answer_id": 47208818, "question_id": 47189584, "link": "https://stackoverflow.com/questions/47189584/i-am-struggling-with-my-header-in-css-not-resizing-correctly/47208818#47208818", "title": "I am struggling with my header in CSS not resizing correctly.", "body": "<p>I guess you might need <code>max-width:100%</code>\nWhich will not let your carousel overflow</p>\n\n<p>You might want to remove the unwanted space as well, which is created while resizing.</p>\n\n<p>Please check <strong><a href=\"https://codepen.io/dhavaljardosh/pen/QOdBOw\" rel=\"nofollow noreferrer\">this pen</a></strong>, thank you for putting it in Codepen it helps us a lot.</p>\n"}], "owner": {"reputation": 561, "user_id": 8897442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LvPVn.jpg?s=128&g=1", "display_name": "Erik James Robles", "link": "https://stackoverflow.com/users/8897442/erik-james-robles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 47208818, "answer_count": 2, "score": -2, "last_activity_date": 1510251073, "creation_date": 1510174689, "last_edit_date": 1510174933, "question_id": 47189584, "link": "https://stackoverflow.com/questions/47189584/i-am-struggling-with-my-header-in-css-not-resizing-correctly", "title": "I am struggling with my header in CSS not resizing correctly.", "body": "<p>I am struggling making my mobile first design work as my header doesn't resize in mobile view. I am fairly happy with how it looks in full-screen. I couldn't make any media query work. the files can be downloaded and view on my git-hub account at: <a href=\"https://github.com/ErikRobles/Psycology\" rel=\"nofollow noreferrer\">https://github.com/ErikRobles/Psycology</a>\nIf anyone can take a look and help me out, I would appreciate it. Thank you in advance. \n<a href=\"https://i.stack.imgur.com/hp02D.png\" rel=\"nofollow noreferrer\">The image shows what I want in small to mobile browsers.</a></p>\n"}, {"tags": ["javascript", "html"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 8909541, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/67e1990d2901d8c6d91a3993864b572f?s=128&d=identicon&r=PG&f=1", "display_name": "Reader", "link": "https://stackoverflow.com/users/8909541/reader"}, "is_accepted": true, "score": 0, "last_activity_date": 1512148241, "creation_date": 1512148241, "answer_id": 47598221, "question_id": 47189568, "link": "https://stackoverflow.com/questions/47189568/edit-html-javascript-wont-display-uploaded-image/47598221#47598221", "title": "EDIT: HTML / Javascript Won&#39;t Display Uploaded Image", "body": "<p>I finally found an answer. As it turns out, I was missing a <code>/</code> at the end of the <code>&lt;img&gt;</code> tag. I feel a bit silly...</p>\n"}], "owner": {"reputation": 31, "user_id": 8909541, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/67e1990d2901d8c6d91a3993864b572f?s=128&d=identicon&r=PG&f=1", "display_name": "Reader", "link": "https://stackoverflow.com/users/8909541/reader"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 47598221, "answer_count": 1, "score": 0, "last_activity_date": 1512148241, "creation_date": 1510174645, "last_edit_date": 1510763653, "question_id": 47189568, "link": "https://stackoverflow.com/questions/47189568/edit-html-javascript-wont-display-uploaded-image", "title": "EDIT: HTML / Javascript Won&#39;t Display Uploaded Image", "body": "<p>I am trying to set up a website via flask, and am having an issue with the site displaying an image. </p>\n\n<p>First, in a form on the home page, there is a checkbox that, when checked, will allow the image to be displayed. There is a function associated with the checkbox that reveals additional checkboxes, though I do not think it has any effect on what I am having issues with (included all the same):</p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;form action= \"{{ url_for('search') }}\" method = \"post\"&gt;\n  &lt;dl&gt;\n    &lt;dd&gt;Plot LIV&lt;input type=checkbox name=\"testing\" onchange=\"Options()\"&gt;\n    &lt;dd&gt;&lt;input type=submit name=\"submit\" value=Search&gt;\n        &lt;div id=\"ops\" style=\"display:none; float:center;\"&gt;\n            &lt;table&gt;\n               &lt;tr&gt;&lt;td&gt;SE&lt;input type=checkbox name=\"se\"&gt;&lt;/td&gt;\n               &lt;td&gt;RE&lt;input type=checkbox name=\"A\"&gt;&lt;/td&gt;\n               &lt;td&gt;ITH&lt;input type=checkbox name=\"B\"&gt;&lt;/td&gt;\n               &lt;td&gt;VTH&lt;input type=checkbox name=\"C\"&gt;&lt;/td&gt;\n             &lt;/table&gt;\n        &lt;/div&gt;\n  &lt;/dl&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>JavaScript:</strong></p>\n\n<pre><code>function Options() {\n        var x = document.getElementById(\"ops\");\n        if (x.style.display === \"block\") {\n            x.style.display = \"none\";\n        } else {\n            x.style.display = \"block\";\n        }\n    }\n</code></pre>\n\n<p>I have uploaded the image to a separate URL as a <code>.png</code>. When I go to the address in the internet browser, the image opens fine. I try and access the URL from the html using the built-in <code>url_for</code> flask method:</p>\n\n<pre><code>&lt;img scr= \"{{ url_for('picture', _external=True) }}\" alt= \"broken\"&gt;\n</code></pre>\n\n<p>This code is in another <code>dir</code> that is revealed when a certain value is revealed in a dropdown menu:</p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;select id=\"testp\" onchange=\"DispDat(this.value)\"&gt;\n&lt;option value=\" \"&gt;&lt;strong&gt;Select Example&lt;/strong&gt;&lt;/option&gt;\n&lt;option value=\"Example\"&gt;&lt;strong&gt;Example Text&lt;/strong&gt;&lt;/option&gt;\n&lt;/select&gt;\n&lt;div id=\"table_tab\"&gt;\n   &lt;div id=\"Example\" style=\"display:none\"&gt;\n            &lt;table&gt;\n            ...\n            &lt;/table&gt;\n            &lt;br&gt;\n            {% if request.form.testing %}\n                   &lt;img scr= \"{{ url_for('picture', _external=True) }}\" alt= \"broken\"&gt;                \n            {% endif %}\n\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>JavaScript:</strong></p>\n\n<pre><code>function DispDat(key) {\n  var divs = document.getElementById(\"table_tab\").children;\n  for (var iter = 0; iter &lt; divs.length; iter++) {\n      divs[iter].style.display = \"none\";}\n  var o = document.getElementById(key);\n  if (o) {\n      o.style.display = \"block\";}\n</code></pre>\n\n<p>I look at the source code when I attempt to display the image, and the URL in the source code is correct: If I were to copy-paste it into the browser directly, it brings me to the correct page. However, all that shows up is the alt text. </p>\n\n<p>Looking at the command window, it posts the data, as expected, and all of the other data that would have gone in the <code>table</code> in the second <code>HTML</code> script is displayed. Is there something that I am missing, or is what I am trying to do impossible because I have chosen to use a <code>POST</code>-method form?</p>\n\n<p>EDIT:\nI did notice another error that was popping up in the command window whenever I tried to close the server after loading a page were the image should have loaded:</p>\n\n<pre><code>QObject::~QObject: Timers cannot be stopped from another thread\n</code></pre>\n\n<p>Could this help in identifying the problem?</p>\n"}, {"tags": ["javascript", "css", "svg"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8666630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c39c9abb475aae927a7a5885bed957b?s=128&d=identicon&r=PG&f=1", "display_name": "CChung", "link": "https://stackoverflow.com/users/8666630/cchung"}, "edited": false, "score": 0, "creation_date": 1510185245, "post_id": 47190626, "comment_id": 81332760, "body": "Wow!  thank you for the help Sphinxxx.  I really appreciate it."}], "tags": [], "owner": {"reputation": 10192, "user_id": 1869660, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/HPWbl.gif?s=128&g=1", "display_name": "Sphinxxx", "link": "https://stackoverflow.com/users/1869660/sphinxxx"}, "is_accepted": true, "score": 1, "last_activity_date": 1510179293, "creation_date": 1510179293, "answer_id": 47190626, "question_id": 47189550, "link": "https://stackoverflow.com/questions/47189550/loop-through-an-svg-using-js/47190626#47190626", "title": "Loop through an SVG using JS", "body": "<p>You can either clone a lot of SVGs using <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Node/cloneNode\" rel=\"nofollow noreferrer\"><code>Node.cloneNode()</code></a> in <code>createBubble()</code>...</p>\n\n<pre><code>var el = svg.cloneNode(true);\n</code></pre>\n\n<p>..or you can keep using <code>&lt;span&gt;</code>s, and set the SVG as <code>background-image</code> in CSS:</p>\n\n<pre><code>span {\n    background-image: url(\"/path/to/star.svg\");\n    background-size: contain;\n    background-position: center;\n    background-repeat: no-repeat;\n    ...\n</code></pre>\n\n<p>Either way, if you want a drop-shadow on your star, you need to do that using a <code>&lt;filter&gt;</code> in the SVG file.</p>\n\n<p>Updated pen: <a href=\"https://codepen.io/Sphinxxxx/pen/YEpbwZ\" rel=\"nofollow noreferrer\">https://codepen.io/Sphinxxxx/pen/YEpbwZ</a><br>\n<em>Uses cloned SVGs. Change <code>cloneSVGs</code> to <code>false</code> to use spans with background image.</em></p>\n"}], "owner": {"reputation": 33, "user_id": 8666630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c39c9abb475aae927a7a5885bed957b?s=128&d=identicon&r=PG&f=1", "display_name": "CChung", "link": "https://stackoverflow.com/users/8666630/cchung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 258, "favorite_count": 0, "accepted_answer_id": 47190626, "answer_count": 1, "score": 3, "last_activity_date": 1510179293, "creation_date": 1510174606, "question_id": 47189550, "link": "https://stackoverflow.com/questions/47189550/loop-through-an-svg-using-js", "title": "Loop through an SVG using JS", "body": "<p>So I have a small star SVG that I made, and I'm trying to use that star instead of styling a span to make a bunch of bubbles float up to the top of my div.  I'm having trouble trying to figure out how to get my Javascript loop to instead use an SVG to make my bubbles, instead of the span.    </p>\n\n<pre><code>\"use strict\";\n\n// variables\nvar numBubbles = 60;\nvar minSize = 10;\nvar maxSize = 20;\nvar container = document.getElementById(\"container\");\n\n// get the size of a bubble\n// Randomized between minSize and maxSize\nfunction bubbleSize() {\n  return Math.floor(Math.random() * (maxSize - minSize + 1)) + minSize;\n}\n\n// Get the location of a bubble.\n// Between left=2% and left=98%.\nfunction bubbleLocation() {\n  return Math.floor(Math.random() * 96) + 2;\n}\n\n// Create a bubble using the\n// previous two functions.\nfunction createBubble() {\n  var size = bubbleSize();\n  var location = bubbleLocation();\n\n  // create span\n  var el = document.createElement(\"span\");\n\n  // style span\n  el.setAttribute(\"style\", \"width: \" + size + \"px; height: \" + size + \"px; left: \" + location + \"%; box-shadow: \" + \"0px 0px 12px 2px #ff4e85;\");\n\n  // append span\n  container.appendChild(el);\n\n}\n\n// Start adding bubbles.\n(function startBubbles() {\n  var i = 0;\n\n  function addBubble() {\n    if (i &lt; numBubbles) {\n      createBubble();\n      i++;\n    } else {\n      clearInterval(inter);\n    }\n  }\n\n  // Add a bubble every 500ms.\n  // But we don't want too many bubbles...\n\n  var inter = setInterval(addBubble, 300);\n\n})();\n</code></pre>\n\n<p><a href=\"https://codepen.io/smugfox/pen/KyNxLG\" rel=\"nofollow noreferrer\">https://codepen.io/smugfox/pen/KyNxLG</a></p>\n"}, {"tags": ["javascript", "html", "css", "reactjs", "material-ui"], "comments": [{"owner": {"reputation": 4018, "user_id": 2357848, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/m1gIn.jpg?s=128&g=1", "display_name": "Emad Emami", "link": "https://stackoverflow.com/users/2357848/emad-emami"}, "edited": false, "score": 0, "creation_date": 1510174773, "post_id": 47189546, "comment_id": 81328471, "body": "use <code>transform: translateX() translateY()</code>"}, {"owner": {"reputation": 11724, "user_id": 233337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dqjJ9.jpg?s=128&g=1", "display_name": "Serg Chernata", "link": "https://stackoverflow.com/users/233337/serg-chernata"}, "edited": false, "score": 0, "creation_date": 1510175075, "post_id": 47189546, "comment_id": 81328652, "body": "ps use a snippet next time, it has a &quot;Tidy&quot; function to format your markup"}, {"owner": {"reputation": 2327, "user_id": 5898523, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb0f7f53781e168fd00463786bee3942?s=128&d=identicon&r=PG&f=1", "display_name": "SeaWarrior404", "link": "https://stackoverflow.com/users/5898523/seawarrior404"}, "reply_to_user": {"reputation": 4018, "user_id": 2357848, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/m1gIn.jpg?s=128&g=1", "display_name": "Emad Emami", "link": "https://stackoverflow.com/users/2357848/emad-emami"}, "edited": false, "score": 0, "creation_date": 1510210105, "post_id": 47189546, "comment_id": 81339865, "body": "@EmadEmami Could you please elaborate on that?"}], "owner": {"reputation": 2327, "user_id": 5898523, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb0f7f53781e168fd00463786bee3942?s=128&d=identicon&r=PG&f=1", "display_name": "SeaWarrior404", "link": "https://stackoverflow.com/users/5898523/seawarrior404"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1224, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1510175053, "creation_date": 1510174594, "last_edit_date": 1510175053, "question_id": 47189546, "link": "https://stackoverflow.com/questions/47189546/how-to-position-nested-cards-in-react-using-material-ui", "title": "How to position nested cards in React using Material UI?", "body": "<p>Im using <a href=\"http://www.material-ui.com/#/components/card\" rel=\"nofollow noreferrer\">Material UI</a> for React and working on the Material Cards Component. My requirement is, Im displaying a card which sits right below the main App bar. This card has one more smaller card nested inside it. The problem is Im able to move the smaller card inside the bigger card horizontally using the marginLeft attributes. However Im unable to move this smaller card vertically inside the bigger card. When i use marginTop attribute, the bigger(Parent card) also moves down. \nHow can I change the position of the card vertically inside the parent card?</p>\n\n<p>My code is as follows:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;\r\n  &lt;Card style={{ width: '100vw', height: '60vh', margin: 'auto', marginTop: '0.05vh', backgroundColor: '#263238', }}&gt;\r\n    &lt;Card style={{ width: '30vw', height: '40vh', marginLeft: '10vw', marginTop: '0.05vh', backgroundColor: '#FAFAFA', }}&gt;\r\n      &lt;CardText color=\"#263238\" style={{ fontSize: '3vw', }}&gt;\r\n        Lorem Ipsum Lorem Ipsum\r\n      &lt;/CardText&gt;\r\n    &lt;/Card&gt;\r\n  &lt;/Card&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "angularjs", "twitter-bootstrap"], "answers": [{"tags": [], "owner": {"reputation": 1461, "user_id": 1232490, "user_type": "registered", "accept_rate": 23, "profile_image": "https://graph.facebook.com/1440420873/picture?type=large", "display_name": "Akansh", "link": "https://stackoverflow.com/users/1232490/akansh"}, "is_accepted": true, "score": 1, "last_activity_date": 1510177326, "last_edit_date": 1510177326, "creation_date": 1510177021, "answer_id": 47190113, "question_id": 47189519, "link": "https://stackoverflow.com/questions/47189519/angularjs-toggle-class-in-bootstrap-btn-group/47190113#47190113", "title": "angularjs toggle class in bootstrap btn-group", "body": "<p>You can do this easily by storing the clicked button, update your method like </p>\n\n<pre><code>$scope.filter_emails = function(category) {\n    $scope.selectedButton = category;\n    if (category === \"inbox\") {\n        $scope.grouped = group(inbox($scope.emails));\n    } else if (category === \"shielded\") {\n        $scope.grouped = group(shield($scope.emails));\n    } else if (category === \"new\") {\n        $scope.grouped = group(is_new($scope.emails));\n    } else {\n        $scope.grouped = group($scope.emails);\n    }\n}\n</code></pre>\n\n<p>And in your html, you simply use <code>ng-class</code> to update the class accordingly, </p>\n\n<pre><code>&lt;div class=\"btn-group\"&gt;\n    &lt;button class=\"btn\" ng-class={'btn-primary': !selectedButton, 'btn-outline-primary': selectedButton} ng-click=\"filter_emails()\"&gt;&lt;span class=\"ion-home mr-2\"&gt;&lt;/span&gt;All&lt;/button&gt;\n    &lt;button class=\"btn\" ng-class={'btn-primary': selectedButton === 'new', 'btn-outline-primary': selectedButton !== 'new'} ng-click=\"filter_emails('new')\"&gt;&lt;span class=\"ion-plus-circled mr-2\"&gt;&lt;/span&gt;New&lt;/button&gt;\n    &lt;button class=\"btn\" ng-class={'btn-primary': selectedButton === 'inbox', 'btn-outline-primary': selectedButton !== 'inbox'} ng-click=\"filter_emails('inbox')\"&gt;&lt;span class=\"ion-archive mr-2\"&gt;&lt;/span&gt;Inbox&lt;/button&gt;\n    &lt;button class=\"btn\" ng-class={'btn-primary': selectedButton === 'shielded', 'btn-outline-primary': selectedButton !== 'shielded'} ng-click=\"filter_emails('shielded')\"&gt;&lt;span class=\"ion-paper-airplane align-middle mr-2\"&gt;&lt;/span&gt;Shielded&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2553, "user_id": 7195998, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh6.googleusercontent.com/-ADfmBxhEc70/AAAAAAAAAAI/AAAAAAAAAF0/birMSyMBWDU/photo.jpg?sz=128", "display_name": "Sandra Willford", "link": "https://stackoverflow.com/users/7195998/sandra-willford"}, "edited": false, "score": 0, "creation_date": 1510179217, "post_id": 47190161, "comment_id": 81330596, "body": "showing my newbieness, here i was trying to do it from the controller!"}, {"owner": {"reputation": 2811, "user_id": 8417363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/hO0vR.png?s=128&g=1", "display_name": "Jimenemex", "link": "https://stackoverflow.com/users/8417363/jimenemex"}, "reply_to_user": {"reputation": 2553, "user_id": 7195998, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh6.googleusercontent.com/-ADfmBxhEc70/AAAAAAAAAAI/AAAAAAAAAF0/birMSyMBWDU/photo.jpg?sz=128", "display_name": "Sandra Willford", "link": "https://stackoverflow.com/users/7195998/sandra-willford"}, "edited": false, "score": 0, "creation_date": 1510179769, "post_id": 47190161, "comment_id": 81330830, "body": "@SandraWillford Consider accepting my answer or other answers if they solved the problem."}, {"owner": {"reputation": 2553, "user_id": 7195998, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh6.googleusercontent.com/-ADfmBxhEc70/AAAAAAAAAAI/AAAAAAAAAF0/birMSyMBWDU/photo.jpg?sz=128", "display_name": "Sandra Willford", "link": "https://stackoverflow.com/users/7195998/sandra-willford"}, "edited": false, "score": 0, "creation_date": 1510180084, "post_id": 47190161, "comment_id": 81330969, "body": "yea for some reason gulp concat is throwing an error at element.bind(&#39;click&#39;, function() {} ? any guesses?"}, {"owner": {"reputation": 2553, "user_id": 7195998, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh6.googleusercontent.com/-ADfmBxhEc70/AAAAAAAAAAI/AAAAAAAAAF0/birMSyMBWDU/photo.jpg?sz=128", "display_name": "Sandra Willford", "link": "https://stackoverflow.com/users/7195998/sandra-willford"}, "edited": false, "score": 0, "creation_date": 1510181440, "post_id": 47190161, "comment_id": 81331525, "body": "this is working, sort of. It&#39;s adding the class but not removing from the siblings."}, {"owner": {"reputation": 2811, "user_id": 8417363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/hO0vR.png?s=128&g=1", "display_name": "Jimenemex", "link": "https://stackoverflow.com/users/8417363/jimenemex"}, "reply_to_user": {"reputation": 2553, "user_id": 7195998, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh6.googleusercontent.com/-ADfmBxhEc70/AAAAAAAAAAI/AAAAAAAAAF0/birMSyMBWDU/photo.jpg?sz=128", "display_name": "Sandra Willford", "link": "https://stackoverflow.com/users/7195998/sandra-willford"}, "edited": false, "score": 0, "creation_date": 1510545603, "post_id": 47190161, "comment_id": 81464662, "body": "@SandraWillford Try just removing <code>&#39;button&#39;</code> from <code>.silbings(&#39;button&#39;)</code> if there are no other siblings other than buttons in the <code>div</code>"}], "tags": [], "owner": {"reputation": 2811, "user_id": 8417363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/hO0vR.png?s=128&g=1", "display_name": "Jimenemex", "link": "https://stackoverflow.com/users/8417363/jimenemex"}, "is_accepted": false, "score": 1, "last_activity_date": 1510177239, "creation_date": 1510177239, "answer_id": 47190161, "question_id": 47189519, "link": "https://stackoverflow.com/questions/47189519/angularjs-toggle-class-in-bootstrap-btn-group/47190161#47190161", "title": "angularjs toggle class in bootstrap btn-group", "body": "<p>Create a directive and put it in your HTML</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;div class=\"btn-group\"&gt;\n\n\n   &lt;button class=\"btn btn-primary\" ng-click=\"filter_emails()\" get-siblings&gt;&lt;span class=\"ion-home mr-2\"&gt;&lt;/span&gt;All&lt;/button&gt;\n    &lt;button class=\"btn btn-outline-primary\" ng-click=\"filter_emails('new')\" get-siblings&gt;&lt;span class=\"ion-plus-circled mr-2\"&gt;&lt;/span&gt;New&lt;/button&gt;\n    &lt;button class=\"btn btn-outline-primary\" ng-click=\"filter_emails('inbox')\" get-siblings&gt;&lt;span class=\"ion-archive mr-2\"&gt;&lt;/span&gt;Inbox&lt;/button&gt;\n    &lt;button class=\"btn btn-outline-primary\" ng-click=\"filter_emails('shielded')\" get-siblings&gt;&lt;span class=\"ion-paper-airplane align-middle mr-2\"&gt;&lt;/span&gt;Shielded&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Javascript</p>\n\n<pre><code>yourApp.directive('getSiblings', function() {\n   return {\n      scope: true,\n      link: function(scope,element,attrs){\n        element.bind('click', function() {\n            element.addClass('btn-primary');\n            element.removeClass('btn-outline-primary');\n            element.siblings('button').addClass('btn-outline');               \n            element.siblings('button').removeClass('btn-primary');               \n         }\n      }\n   }\n});\n</code></pre>\n"}], "owner": {"reputation": 2553, "user_id": 7195998, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh6.googleusercontent.com/-ADfmBxhEc70/AAAAAAAAAAI/AAAAAAAAAF0/birMSyMBWDU/photo.jpg?sz=128", "display_name": "Sandra Willford", "link": "https://stackoverflow.com/users/7195998/sandra-willford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 902, "favorite_count": 0, "accepted_answer_id": 47190113, "answer_count": 2, "score": 0, "last_activity_date": 1510177326, "creation_date": 1510174502, "question_id": 47189519, "link": "https://stackoverflow.com/questions/47189519/angularjs-toggle-class-in-bootstrap-btn-group", "title": "angularjs toggle class in bootstrap btn-group", "body": "<p>I have a group of buttons:</p>\n\n<pre><code>&lt;div class=\"btn-group\"&gt;\n    &lt;button class=\"btn btn-primary\" ng-click=\"filter_emails()\"&gt;&lt;span class=\"ion-home mr-2\"&gt;&lt;/span&gt;All&lt;/button&gt;\n    &lt;button class=\"btn btn-outline-primary\" ng-click=\"filter_emails('new')\"&gt;&lt;span class=\"ion-plus-circled mr-2\"&gt;&lt;/span&gt;New&lt;/button&gt;\n    &lt;button class=\"btn btn-outline-primary\" ng-click=\"filter_emails('inbox')\"&gt;&lt;span class=\"ion-archive mr-2\"&gt;&lt;/span&gt;Inbox&lt;/button&gt;\n    &lt;button class=\"btn btn-outline-primary\" ng-click=\"filter_emails('shielded')\"&gt;&lt;span class=\"ion-paper-airplane align-middle mr-2\"&gt;&lt;/span&gt;Shielded&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>and an ng-click function as this:</p>\n\n<pre><code>$scope.filter_emails = function(category) {\n    if (category === \"inbox\") {\n        $scope.grouped = group(inbox($scope.emails));\n    } else if (category === \"shielded\") {\n        $scope.grouped = group(shield($scope.emails));\n    } else if (category === \"new\") {\n        $scope.grouped = group(is_new($scope.emails));\n    } else {\n        $scope.grouped = group($scope.emails);\n    }\n}\n</code></pre>\n\n<p>The desired behavior I am trying to achieve is to add 'btn-primary' / remove 'btn-outline-primary' on the button clicked and add 'btn-outline' / remove 'btn-primary' from the previously selected button.</p>\n\n<p>I am pretty brand new to angularjs so I am not sure how to do this and I want to resist augmenting anything with jQuery :)</p>\n"}, {"tags": ["javascript", "asynchronous"], "comments": [{"owner": {"reputation": 29068, "user_id": 149436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4c5aa5126e36603eabdfdc57c46583?s=128&d=identicon&r=PG", "display_name": "Evan Trimboli", "link": "https://stackoverflow.com/users/149436/evan-trimboli"}, "edited": false, "score": 0, "creation_date": 1510174546, "post_id": 47189486, "comment_id": 81328332, "body": "You call the function before you assign the callback."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 6510852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30d6aaafbc5225e5c22927087b9fb6b0?s=128&d=identicon&r=PG&f=1", "display_name": "aii", "link": "https://stackoverflow.com/users/6510852/aii"}, "edited": false, "score": 0, "creation_date": 1510180236, "post_id": 47189521, "comment_id": 81331055, "body": "wow thanks! the explanation for JS hoisting working with <code>var</code> really helped clear my misunderstanding. So despite var being global, it is still declared folllowing the top to bottom logic, right?"}, {"owner": {"reputation": 5508, "user_id": 580487, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6wn22.jpg?s=128&g=1", "display_name": "tommybananas", "link": "https://stackoverflow.com/users/580487/tommybananas"}, "reply_to_user": {"reputation": 39, "user_id": 6510852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30d6aaafbc5225e5c22927087b9fb6b0?s=128&d=identicon&r=PG&f=1", "display_name": "aii", "link": "https://stackoverflow.com/users/6510852/aii"}, "edited": false, "score": 0, "creation_date": 1510181074, "post_id": 47189521, "comment_id": 81331364, "body": "<code>var</code> is not global per se, its scope is whatever context it was declared in. But yes, execution is still top to bottom, including variable instantiation and assignment which is why you were getting undefined."}], "tags": [], "owner": {"reputation": 5508, "user_id": 580487, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6wn22.jpg?s=128&g=1", "display_name": "tommybananas", "link": "https://stackoverflow.com/users/580487/tommybananas"}, "is_accepted": true, "score": 4, "last_activity_date": 1510176104, "last_edit_date": 1510176104, "creation_date": 1510174506, "answer_id": 47189521, "question_id": 47189486, "link": "https://stackoverflow.com/questions/47189486/node-js-callback-function-scope/47189521#47189521", "title": "node.js callback function scope", "body": "<p><code>callback</code> is <code>undefined</code> at the time of the call to <code>fs.readdir()</code>. Instantiating it above this call would work.</p>\n\n<pre><code>fs.readdir(process.argv[2], 'utf8', callback); // callback is undefined here\nvar callback = ...\n</code></pre>\n\n<p>This will work though:</p>\n\n<pre><code>var callback = ...\nfs.readdir(process.argv[2], 'utf8', callback); // callback is now defined\n</code></pre>\n\n<p>Using <a href=\"https://www.w3schools.com/js/js_hoisting.asp\" rel=\"nofollow noreferrer\">Javascript hoisting</a> this will also work:</p>\n\n<pre><code>fs.readdir(process.argv[2], 'utf8', callback);\nfunction callback() {\n  // do callback stuff\n}\n</code></pre>\n\n<p><strong>Why doesn't Javascript hoisting work with <code>var</code>?</strong></p>\n\n<blockquote>\n  <p>It's important to point out that the hoisting will affect the variable declaration, but not its value's initialization. The value will be indeed assigned when the assignment statement is reached <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var\" rel=\"nofollow noreferrer\">source</a></p>\n</blockquote>\n\n<p><strong>What does this mean?</strong></p>\n\n<p>It means when you hoist a <code>var</code> declaration, you are only \"reserving\" the variable in scope and not running any of the code to set its value. Since all uninstantiated variables in javascript default to an <code>undefined</code> value, this was the value of the <code>callback</code> variable.</p>\n"}], "owner": {"reputation": 39, "user_id": 6510852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30d6aaafbc5225e5c22927087b9fb6b0?s=128&d=identicon&r=PG&f=1", "display_name": "aii", "link": "https://stackoverflow.com/users/6510852/aii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "accepted_answer_id": 47189521, "answer_count": 1, "score": 1, "last_activity_date": 1510181194, "creation_date": 1510174361, "last_edit_date": 1510181194, "question_id": 47189486, "link": "https://stackoverflow.com/questions/47189486/node-js-callback-function-scope", "title": "node.js callback function scope", "body": "<p>I'm currently doing an exercise in learnyounode and I can't quite figure out why this version of my code isn't executing correctly.</p>\n\n<pre><code>  1 'use strict';\n  2 \n  3 const fs = require('fs');\n  4 \n  5 \n  6                                                                                     \n  7 fs.readdir(process.argv[2], 'utf8', callback);\n  8 \n  9 var callback = function (err, files) {\n 10     let ext = process.argv[3];\n 11     files.forEach((val, idx) =&gt; {\n 12         if (val.split('.')[1] == ext){\n 13             console.log(val); \n 14         }\n 15     });\n 16 };\n</code></pre>\n\n<p>If I simply call <code>fs.readdir(...)</code> at the end, it executes so I know it must be an asynchronous / function closure sort of issue that I'm not understanding. Could someone explain why my code above throws an error saying <code>(node:23729) [DEP0013] DeprecationWarning: Calling an asynchronous function without callback is deprecated.</code> ?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "angularjs", "ngroute"], "comments": [{"owner": {"reputation": 2553, "user_id": 7195998, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh6.googleusercontent.com/-ADfmBxhEc70/AAAAAAAAAAI/AAAAAAAAAF0/birMSyMBWDU/photo.jpg?sz=128", "display_name": "Sandra Willford", "link": "https://stackoverflow.com/users/7195998/sandra-willford"}, "edited": false, "score": 0, "creation_date": 1510175310, "post_id": 47189475, "comment_id": 81328778, "body": "did you pass $locationProvider as an argument into your factory? app.config(function($routeProvider, $locationProvider)"}, {"owner": {"reputation": 2553, "user_id": 7195998, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh6.googleusercontent.com/-ADfmBxhEc70/AAAAAAAAAAI/AAAAAAAAAF0/birMSyMBWDU/photo.jpg?sz=128", "display_name": "Sandra Willford", "link": "https://stackoverflow.com/users/7195998/sandra-willford"}, "edited": false, "score": 0, "creation_date": 1510175389, "post_id": 47189475, "comment_id": 81328811, "body": "also why include the #! with html5mode you don&#39;t need to use this you can just access it via url.tld/path"}, {"owner": {"reputation": 1478, "user_id": 4608207, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/bc633cfa2c8954cf90dfdf55a9ecd1d8?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/4608207/john"}, "reply_to_user": {"reputation": 2553, "user_id": 7195998, "user_type": "registered", "accept_rate": 61, "profile_image": "https://lh6.googleusercontent.com/-ADfmBxhEc70/AAAAAAAAAAI/AAAAAAAAAF0/birMSyMBWDU/photo.jpg?sz=128", "display_name": "Sandra Willford", "link": "https://stackoverflow.com/users/7195998/sandra-willford"}, "edited": false, "score": 0, "creation_date": 1510175491, "post_id": 47189475, "comment_id": 81328861, "body": "Yeah I don&#39;t use <code>#!</code> in the code.From code update the location works fine using <code>location.path(&#39;path&#39;)</code> but if I type that into a url it doesn&#39;t work"}], "owner": {"reputation": 1478, "user_id": 4608207, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/bc633cfa2c8954cf90dfdf55a9ecd1d8?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/4608207/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510381052, "creation_date": 1510174318, "last_edit_date": 1510381052, "question_id": 47189475, "link": "https://stackoverflow.com/questions/47189475/navigating-to-angularjs-page-from-url", "title": "Navigating to angularJS page from url", "body": "<p>How come I can't navigate to a page using a regular url? For example I have a page at <code>/about</code>, but if I open a new tab and try to go to <code>http://localhost:3000/about</code> I'll get the general <code>Cannot GET '/about'</code> error. </p>\n\n<p>But if I go to <code>http://localhost:3000/#!/about</code> it renders the page and changes the url to a clean url without the <code>#!</code>. </p>\n\n<p>I have <code>html5Mode(true)</code> set.</p>\n\n<p>I'm using version 1.6.6 of angular and angular-route</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 754, "user_id": 6304194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f64d02254017103c7a076dce641e1d9?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan Hessell", "link": "https://stackoverflow.com/users/6304194/tristan-hessell"}, "edited": false, "score": 0, "creation_date": 1510185290, "post_id": 47189447, "comment_id": 81332770, "body": "What browser &amp; version are you running this in?"}, {"owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "edited": false, "score": 0, "creation_date": 1510251525, "post_id": 47189447, "comment_id": 81366888, "body": "The name <code>search</code> is overloaded. It is used both as the name of a function and also as a parameter of a function."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 7140645, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-tZR81lGwhF4/AAAAAAAAAAI/AAAAAAAADDE/HHymS8ZtrHI/photo.jpg?sz=128", "display_name": "Gopi Rain", "link": "https://stackoverflow.com/users/7140645/gopi-rain"}, "edited": false, "score": 0, "creation_date": 1510175935, "post_id": 47189692, "comment_id": 81329061, "body": "in elastic search this is not possible"}, {"owner": {"reputation": 5860, "user_id": 548997, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/JJ1gz.jpg?s=128&g=1", "display_name": "Lex", "link": "https://stackoverflow.com/users/548997/lex"}, "reply_to_user": {"reputation": 37, "user_id": 7140645, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-tZR81lGwhF4/AAAAAAAAAAI/AAAAAAAADDE/HHymS8ZtrHI/photo.jpg?sz=128", "display_name": "Gopi Rain", "link": "https://stackoverflow.com/users/7140645/gopi-rain"}, "edited": false, "score": 0, "creation_date": 1510180044, "post_id": 47189692, "comment_id": 81330951, "body": "It won&#39;t let you pass <b>body</b> as a pre-defined object? Seriously? That is messed up."}], "tags": [], "owner": {"reputation": 5860, "user_id": 548997, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/JJ1gz.jpg?s=128&g=1", "display_name": "Lex", "link": "https://stackoverflow.com/users/548997/lex"}, "is_accepted": true, "score": 1, "last_activity_date": 1510175131, "creation_date": 1510175131, "answer_id": 47189692, "question_id": 47189447, "link": "https://stackoverflow.com/questions/47189447/define-field-name-in-javascript-object-literal-from-variable/47189692#47189692", "title": "define field name in JavaScript object literal from variable", "body": "<p>You'll have to split it up so you can build the <strong>body</strong> object dynamically:</p>\n\n<pre><code>var body = {\n    \"query\": {\n        \"match\": { }\n    }\n};\nbody.query.match[search] = {\n    \"query\": match,\n    \"type\": \"phrase\"\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 754, "user_id": 6304194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f64d02254017103c7a076dce641e1d9?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan Hessell", "link": "https://stackoverflow.com/users/6304194/tristan-hessell"}, "is_accepted": false, "score": 0, "last_activity_date": 1510194323, "creation_date": 1510194323, "answer_id": 47192901, "question_id": 47189447, "link": "https://stackoverflow.com/questions/47189447/define-field-name-in-javascript-object-literal-from-variable/47192901#47192901", "title": "define field name in JavaScript object literal from variable", "body": "<p>This isn't an AngularJS problem - the problem is you are trying to use a <em>Computed Property Name</em> for the object literal when the browser you are using doesn't support it.</p>\n\n<p><strong>Computed Property Name documentation link:</strong></p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Object_initializer#Computed_property_names\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Object_initializer#Computed_property_names</a></p>\n\n<p>To see the which browsers can &amp; can't use <em>Computed Property Names</em>:</p>\n\n<p><a href=\"https://kangax.github.io/compat-table/es6/#test-object_literal_extensions_computed_properties\" rel=\"nofollow noreferrer\">https://kangax.github.io/compat-table/es6/#test-object_literal_extensions_computed_properties</a></p>\n"}], "owner": {"reputation": 37, "user_id": 7140645, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-tZR81lGwhF4/AAAAAAAAAAI/AAAAAAAADDE/HHymS8ZtrHI/photo.jpg?sz=128", "display_name": "Gopi Rain", "link": "https://stackoverflow.com/users/7140645/gopi-rain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 47189692, "answer_count": 2, "score": 0, "last_activity_date": 1510249898, "creation_date": 1510174238, "last_edit_date": 1510249898, "question_id": 47189447, "link": "https://stackoverflow.com/questions/47189447/define-field-name-in-javascript-object-literal-from-variable", "title": "define field name in JavaScript object literal from variable", "body": "<p><strong>i need to change the field dynamically</strong></p>\n\n<pre><code>   this.search = function(search, match) {\n          var deferred = $q.defer()\n          search({\n            size: 10000,\n            index: \"products\",\n            body: {\n              \"query\": {\n                \"match\": {\n                  [search]: {\n                    \"query\": match,\n                    // \"operator\": \"and\",\n                    type:\"phrase\"\n                  }\n                }\n              }\n            }\n</code></pre>\n\n<p><strong>but its showing the  error   30:16  error  Parsing error: Unexpected token [</strong></p>\n"}, {"tags": ["javascript", "node.js"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 2, "creation_date": 1510174167, "post_id": 47189407, "comment_id": 81328130, "body": "Node.js doesn&#39;t use global scope in that way."}, {"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1510174198, "post_id": 47189407, "comment_id": 81328145, "body": "<a href=\"https://nodejs.org/api/globals.html#globals_global\" rel=\"nofollow noreferrer\">nodejs.org/api/globals.html#globals_global</a>"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 2, "creation_date": 1510174215, "post_id": 47189407, "comment_id": 81328158, "body": "In the code you posted, the functions aren&#39;t called. It&#39;s helpful with a simple sample like this for people to be able to copy/paste and reproduce your results."}, {"owner": {"reputation": 89878, "user_id": 1945651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9J4D8.png?s=128&g=1", "display_name": "JLRishe", "link": "https://stackoverflow.com/users/1945651/jlrishe"}, "edited": false, "score": 0, "creation_date": 1510174445, "post_id": 47189407, "comment_id": 81328275, "body": "Implicit globals don&#39;t work if you try to use the variable before it&#39;s assigned a value."}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1510174801, "post_id": 47189407, "comment_id": 81328488, "body": "You <b>can</b> have anonymous functions and use function expressions like <code>function(){ console.log(&#39;hello&#39;)</code> -- you just need to use them like <code>var Fn = function(){console.log(&quot;hello&quot;)</code> or <code>const Fn = () =&gt; console.log(&quot;hello&quot;)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "is_accepted": true, "score": 2, "last_activity_date": 1510174620, "last_edit_date": 1510174620, "creation_date": 1510174268, "answer_id": 47189461, "question_id": 47189407, "link": "https://stackoverflow.com/questions/47189407/in-node-script-variable-defined-without-var-appears-to-not-be-in-the-global-s/47189461#47189461", "title": "In Node script, variable defined without &#39;var&#39; appears to not be in the global scope", "body": "<p>The variable <code>xyz</code> won't be declared until you actually call the functions. Then <code>xyz</code> will be in the scope of the file (but not really global) and your <code>console.log()</code> should work as expected.</p>\n\n<p>This, for example, will log the string to the console:</p>\n\n<pre><code>function myfunc() {\n\n    function innermyfunc() {\n        xyz = \"I just created a new global variable\";\n    }\n    innermyfunc()\n}\n\nmyfunc()\nconsole.log(xyz)\n</code></pre>\n\n<p>Having said that, it's a generally-accepted bad practice to declare variable like this. It's much better to use <code>var xyz</code> (or <code>const</code> or <code>let</code>) at the top of the file where you can see them easily and understand they should be scoped to the file. This will save you some bug-hunting time, I promise.</p>\n"}, {"tags": [], "owner": {"reputation": 5112, "user_id": 810901, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/dd8040e85a3ee76162255ca06d2d3093?s=128&d=identicon&r=PG", "display_name": "galchen", "link": "https://stackoverflow.com/users/810901/galchen"}, "is_accepted": false, "score": 0, "last_activity_date": 1510174330, "creation_date": 1510174330, "answer_id": 47189478, "question_id": 47189407, "link": "https://stackoverflow.com/questions/47189407/in-node-script-variable-defined-without-var-appears-to-not-be-in-the-global-s/47189478#47189478", "title": "In Node script, variable defined without &#39;var&#39; appears to not be in the global scope", "body": "<p>You need to run the functions </p>\n\n<pre><code>function func(){\n    a = 5;\n}\nconsole.log(a); // a is not defined\nfunc();\nconsole.log(a); // 5\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 5546516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2740ff04976efd9227308a424eea0a95?s=128&d=identicon&r=PG&f=1", "display_name": "B.K Lewis", "link": "https://stackoverflow.com/users/5546516/b-k-lewis"}, "is_accepted": false, "score": 0, "last_activity_date": 1510174507, "creation_date": 1510174507, "answer_id": 47189522, "question_id": 47189407, "link": "https://stackoverflow.com/questions/47189407/in-node-script-variable-defined-without-var-appears-to-not-be-in-the-global-s/47189522#47189522", "title": "In Node script, variable defined without &#39;var&#39; appears to not be in the global scope", "body": "<p>You have to run the functions for xyz to be declared. Also this will also throw an error if you are using strict mode.</p>\n"}], "owner": {"reputation": 34200, "user_id": 995862, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d5efb6c1054808f7a79aaefbc64cce76?s=128&d=identicon&r=PG", "display_name": "Kurt Peek", "link": "https://stackoverflow.com/users/995862/kurt-peek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 47189461, "answer_count": 3, "score": -2, "last_activity_date": 1510174640, "creation_date": 1510174092, "last_edit_date": 1510174640, "question_id": 47189407, "link": "https://stackoverflow.com/questions/47189407/in-node-script-variable-defined-without-var-appears-to-not-be-in-the-global-s", "title": "In Node script, variable defined without &#39;var&#39; appears to not be in the global scope", "body": "<p>I'm trying to reproduce <a href=\"https://stackoverflow.com/users/476/deceze\">deceze</a>'s answer to <a href=\"https://stackoverflow.com/questions/2485423/is-using-var-to-declare-variables-optional#answer-2485895\">Is using &#39;var&#39; to declare variables optional?</a> with the following (adapted) Node.js script:</p>\n\n<pre><code>var foo = \"I'm global\";\nvar bar = \"So am I\";\n\nfunction myfunc() {\n    var foo = \"I'm local, the previous 'foo' didn't notice a thing\";\n    var baz = \"I'm local, too\";\n\n    function innermyfunc() {\n        var foo = \"I'm even more local, all three 'foos' have different values\";\n        baz = \"I just changed 'baz' one scope higher, but it's still not global\";\n        bar = \"I just changed the global 'bar' variable\";\n        xyz = \"I just created a new global variable\";\n    }\n}\n\nconsole.log(xyz)\n</code></pre>\n\n<p>However, this leads to a </p>\n\n<pre><code>console.log(xyz)\n            ^\n\nReferenceError: xyz is not defined\n</code></pre>\n\n<p>However, as I understand from his answer this should be <code>\"I just created a new global variable\"</code>, because it was defined without the <code>var</code> keyword and therefore 'bubbles up' until it reaches and attached to the global object.</p>\n\n<p>Why is this not the case?</p>\n\n<p>(I also have a second question: in the original answer the function names <code>myfunc</code> and <code>innermyfunc</code> were not there, but this leads to a <code>SyntaxError</code>. Is it not allowed to define anonymous functions in Node?)</p>\n"}, {"tags": ["javascript", "jquery", "safari"], "answers": [{"comments": [{"owner": {"reputation": 9864, "user_id": 158008, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/834ab5fa1dd4a0ce31b808afdf0ff03c?s=128&d=identicon&r=PG", "display_name": "James123", "link": "https://stackoverflow.com/users/158008/james123"}, "edited": false, "score": 0, "creation_date": 1510175934, "post_id": 47189427, "comment_id": 81329059, "body": "good catch.. thank you. I am confuse other browsers ignored this."}], "tags": [], "owner": {"reputation": 1969, "user_id": 5651536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e841ed95d19835d55d481e2678655df1?s=128&d=identicon&r=PG&f=1", "display_name": "John Ellmore", "link": "https://stackoverflow.com/users/5651536/john-ellmore"}, "is_accepted": true, "score": 6, "last_activity_date": 1510174376, "last_edit_date": 1510174376, "creation_date": 1510174158, "answer_id": 47189427, "question_id": 47189362, "link": "https://stackoverflow.com/questions/47189362/safari-browser-only-throwing-this-jquery-error-divid-divselectall-inputid/47189427#47189427", "title": "Safari browser only throwing this Jquery error div[id^=&#39;divSelectAll&#39;] input[id^=&#39;chk_&#39;&quot;)", "body": "<p>You're missing the final closing square bracket <code>]</code> on your selector. Some browsers apparently handle this just fine, but Safari appears to be picky.</p>\n\n<pre><code>$(\"div[id^='divSelectAll'] input[id^='chk_']\").prop('disabled', true);\n</code></pre>\n"}], "owner": {"reputation": 9864, "user_id": 158008, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/834ab5fa1dd4a0ce31b808afdf0ff03c?s=128&d=identicon&r=PG", "display_name": "James123", "link": "https://stackoverflow.com/users/158008/james123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "accepted_answer_id": 47189427, "answer_count": 1, "score": 1, "last_activity_date": 1510174376, "creation_date": 1510173946, "question_id": 47189362, "link": "https://stackoverflow.com/questions/47189362/safari-browser-only-throwing-this-jquery-error-divid-divselectall-inputid", "title": "Safari browser only throwing this Jquery error div[id^=&#39;divSelectAll&#39;] input[id^=&#39;chk_&#39;&quot;)", "body": "<p>I have below code which working in all browser but not on safari. </p>\n\n<pre><code> $(\"div[id^='divSelectAll'] input[id^='chk_'\").prop('disabled', true);\n</code></pre>\n\n<blockquote>\n  <p>it gives Syntax error, unrecognized expression:\n  div[id^='divSelectAll'] input[id^='chk_' </p>\n</blockquote>\n\n<p>Anyone knows how to fix this?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 7, "creation_date": 1510173981, "post_id": 47189357, "comment_id": 81328016, "body": "It takes a shallow copy. If the original <code>this.rows</code> is array-like (iterable), but not truly an array, it will be one after the assignment."}, {"owner": {"reputation": 31273, "user_id": 3928341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oc0hd.jpg?s=128&g=1", "display_name": "nem035", "link": "https://stackoverflow.com/users/3928341/nem035"}, "edited": false, "score": 2, "creation_date": 1510174022, "post_id": 47189357, "comment_id": 81328041, "body": "Basically does the same thing as <code>this.rows = this.rows.slice()</code>"}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1510174979, "post_id": 47189357, "comment_id": 81328595, "body": "You have to show us more context to make sense out of this."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1510176486, "post_id": 47189357, "comment_id": 81329298, "body": "What is  <code>event.target.value</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "is_accepted": true, "score": 1, "last_activity_date": 1510176665, "creation_date": 1510176665, "answer_id": 47190018, "question_id": 47189357, "link": "https://stackoverflow.com/questions/47189357/what-does-this-use-of-the-spread-operator-do/47190018#47190018", "title": "What does this use of the spread operator do?", "body": "<p>The spread syntax will give a shallow copy of the original array.</p>\n\n<p>There are at least two reasons why this may be useful:</p>\n\n<ul>\n<li>Any references that exist to the original <code>rows</code> property will not be affected by later assignments made to the direct properties of the copied array.</li>\n<li>If the original value of <code>rows</code> was not a true array, but iterable (array-like), then the result of the spread syntax assignment will still be a true array.</li>\n</ul>\n\n<p>Here is an artificially made object to illustrate these two points:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Foo {\r\n    constructor(n) { // Define array-like object \r\n        this.rows = {\r\n            // Define iterator\r\n            [Symbol.iterator]: function* () {\r\n                for (let i = 0; i &lt; n; i++) yield this[i];\r\n            },\r\n        }\r\n        // Create \"index\" properties\r\n        for (let i = 0; i &lt; n; i++) this.rows[i] = [];\r\n    }\r\n    bar(rowIndex, cell, value) {\r\n        this.rows[rowIndex][cell] = value;\r\n        console.log(this.rows);\r\n        // Take shallow copy\r\n        this.rows = [...this.rows];\r\n        // Now it is a true array\r\n        console.log(this.rows);\r\n        // We add a value to that array, which other copies will not see\r\n        this.rows.push(\"added\");\r\n        console.log(this.rows);\r\n    }\r\n}\r\nvar foo = new Foo(2); // Create array-like object\r\nvar remember = foo.rows; // get its rows\r\nfoo.bar(1, 0, 15); // set one particular value to 15\r\n// Demonstrate that the value that was added inside the method is not in our copy\r\nconsole.log(remember);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Note how the first output has the <code>{ }</code> notation: it is not recognised as a true array. The second output is with <code>[ ]</code>: a true array. The third output shows an additional value that was pushed on that array. The final output shows these manipulations (making it an array and adding a value to it) are not reflected in the original reference we had to the <code>rows</code> property.</p>\n"}], "owner": {"reputation": 6331, "user_id": 55589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/jSPqS.jpg?s=128&g=1", "display_name": "Darrell Brogdon", "link": "https://stackoverflow.com/users/55589/darrell-brogdon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 47190018, "answer_count": 1, "score": 1, "last_activity_date": 1510176665, "creation_date": 1510173934, "question_id": 47189357, "link": "https://stackoverflow.com/questions/47189357/what-does-this-use-of-the-spread-operator-do", "title": "What does this use of the spread operator do?", "body": "<p>I just noticed this in some code and I've been trying to understand what it is doing.</p>\n\n<pre><code>this.rows[rowIndex][cell] = event.target.value;\nthis.rows = [...this.rows];\n</code></pre>\n\n<p>It appears to me that it's simply assigning <code>this.rows</code> to itself.  Is there some other use of the spread operator in which this makes sense?  Or is it simply a bug?</p>\n"}, {"tags": ["javascript", "jquery", "google-maps"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 5795742, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RbnUwWzKiSw/AAAAAAAAAAI/AAAAAAAADDc/gHhIkbQ1fSg/photo.jpg?sz=128", "display_name": "Jordan ", "link": "https://stackoverflow.com/users/5795742/jordan"}, "edited": false, "score": 0, "creation_date": 1510174681, "post_id": 47189423, "comment_id": 81328417, "body": "ah works perfectly. Took me a little bit to understand what you meant, but If i&#39;m understanding correctly, on mine, changeSelection was just passing in the element, but not the value, so this refers to this object and val pulls the actual value? crude explanation but its the best way I can explain lol"}, {"owner": {"reputation": 13272, "user_id": 3211932, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/NIQhF.jpg?s=128&g=1", "display_name": "dhilt", "link": "https://stackoverflow.com/users/3211932/dhilt"}, "reply_to_user": {"reputation": 17, "user_id": 5795742, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RbnUwWzKiSw/AAAAAAAAAAI/AAAAAAAADDc/gHhIkbQ1fSg/photo.jpg?sz=128", "display_name": "Jordan ", "link": "https://stackoverflow.com/users/5795742/jordan"}, "edited": false, "score": 0, "creation_date": 1510174805, "post_id": 47189423, "comment_id": 81328491, "body": "@Jordan I made a little update... The Event object had been passed in that case, see <a href=\"https://api.jquery.com/change/\" rel=\"nofollow noreferrer\">the doc</a>: &quot;handler Type: Function( Event eventObject )&quot;"}], "tags": [], "owner": {"reputation": 13272, "user_id": 3211932, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/NIQhF.jpg?s=128&g=1", "display_name": "dhilt", "link": "https://stackoverflow.com/users/3211932/dhilt"}, "is_accepted": true, "score": 1, "last_activity_date": 1510174933, "last_edit_date": 1510174933, "creation_date": 1510174150, "answer_id": 47189423, "question_id": 47189349, "link": "https://stackoverflow.com/questions/47189349/values-not-passing-from-html-form-to-javascript-variables-logging-undefined-wh/47189423#47189423", "title": "Values not passing from html form to Javascript, variables logging undefined, why?", "body": "<p>It's so because you pass an Event object to the <code>changeSelection</code> method. You need to pass a value instead:</p>\n\n<pre><code>$(\"#selectedCity\").change(function() {\n  changeSelection($(this).val());\n});\n</code></pre>\n\n<p>This would work because jQuery sets <code>this</code> within the handler's callback to a DOM element. Per <a href=\"http://api.jquery.com/Types/#Element\" rel=\"nofollow noreferrer\">jQuery doc</a>:</p>\n\n<blockquote>\n  <p>Whenever you call jQuery's .each() method or one of its event methods\n  on a jQuery collection, the context of the callback function \u2014 this \u2014\n  is set to a DOM element.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 88, "user_id": 7277284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db0ed706e9d7e37c2c89c9fce4dc1bd?s=128&d=identicon&r=PG&f=1", "display_name": "Jan Nitschke", "link": "https://stackoverflow.com/users/7277284/jan-nitschke"}, "is_accepted": false, "score": 0, "last_activity_date": 1510174592, "creation_date": 1510174592, "answer_id": 47189544, "question_id": 47189349, "link": "https://stackoverflow.com/questions/47189349/values-not-passing-from-html-form-to-javascript-variables-logging-undefined-wh/47189544#47189544", "title": "Values not passing from html form to Javascript, variables logging undefined, why?", "body": "<p>you are calling    </p>\n\n<pre><code>$(\"#selectedCity\").change(changeSelection);\n</code></pre>\n\n<p>while your function changeSelection needs a parameter</p>\n\n<pre><code>function changeSelection(loc) { ... }\n</code></pre>\n\n<p>you probably want to get the value of the select, therefore I would recommend:</p>\n\n<pre><code>$(\"#selectedCity\").change(function({changeSelection($(\"#selectedCity\").options[$(\"#selectedCity\").selectedIndex].value);});  \n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 5795742, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RbnUwWzKiSw/AAAAAAAAAAI/AAAAAAAADDc/gHhIkbQ1fSg/photo.jpg?sz=128", "display_name": "Jordan ", "link": "https://stackoverflow.com/users/5795742/jordan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 47189423, "answer_count": 2, "score": 0, "last_activity_date": 1510175011, "creation_date": 1510173903, "last_edit_date": 1510175011, "question_id": 47189349, "link": "https://stackoverflow.com/questions/47189349/values-not-passing-from-html-form-to-javascript-variables-logging-undefined-wh", "title": "Values not passing from html form to Javascript, variables logging undefined, why?", "body": "<p>I'm trying to make a small site for class that will changes maps based on drop down selection. The first map pops up fine because I have the lat and long values hard coded, but when you use the drop down box, the values come back undefined. I dont think it's being passed correctly and I can't figure out why. </p>\n\n<pre><code> &lt;!DOCTYPE HTML&gt;\n&lt;head&gt;\n    &lt;meta charset='utf-8'&gt;\n    &lt;link href ='style.css' rel='stylesheet' /&gt;\n    &lt;script async defer src=\"https://maps.googleapis.com/maps/api/js?key=[hidden]\"&gt;&lt;/script&gt;\n\n    &lt;title&gt;Geolocation&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=\"map\"&gt;&lt;/div&gt;\n    &lt;div id=\"formArea\"&gt;\n        &lt;form&gt;\n            &lt;h1&gt;Famous Cities&lt;/h1&gt;\n            &lt;fieldset&gt;\n                &lt;label&gt;Cities&lt;/label&gt;\n                &lt;select id=\"selectedCity\" name=\"selectedCity\"&gt;\n                    &lt;option value='None'&gt;Please select a city from the dropdown&lt;/option&gt;\n                    &lt;option value='ITA'&gt;Rome, Italy&lt;/option&gt;\n                    &lt;option value='FRA'&gt;Paris, France&lt;/option&gt;\n                    &lt;option value='USA'&gt;New York, USA&lt;/option&gt;\n                &lt;/select&gt;\n            &lt;/fieldset&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n&lt;script src=\"https://code.jquery.com/jquery-3.2.1.js\" integrity=\"sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE=\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n&lt;script src='script.js'&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>and the JS file is below</p>\n\n<pre><code>var map;\n\nfunction initMap() {\n        var mapDisplay = document.getElementById('map');\n        var mapOptions = {\n            center: new google.maps.LatLng(40.7484,-73.9857),\n        zoom: 8\n        };\n        map = new google.maps.Map(mapDisplay, mapOptions);\n\n        console.log('now exiting initMap');\n}\n\n\nvar coordsLat = {\n    'ITA':41.9028,\n    'FRA':48.8566,\n    'USA':40.7128,\n};\n\nvar coordsLng = {\n    'ITA': 12.4964,\n    'FRA': 2.3522,\n    'USA': -74.0060\n};\n\nfunction changeSelection(loc) {\n    var lac = coordsLat[loc];\n    var lgc = coordsLng[loc];\n    map.setCenter(new google.maps.LatLng(lac, lgc));\n    console.log('selection changed')\n    console.log('new coordinates are now: ' + lac +\" : \" + lgc);\n}\n\n\n$(document).ready(function(){\n    $(window).on('load', function(){\n    initMap();\n    $(\"#selectedCity\").change(changeSelection);\n\n    });\n});\n</code></pre>\n"}, {"tags": ["javascript", "vue.js", "bootstrap-multiselect"], "comments": [{"owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "edited": false, "score": 0, "creation_date": 1510174019, "post_id": 47189324, "comment_id": 81328037, "body": "What do you mean <i>it does not load correctly</i>?"}], "answers": [{"tags": [], "owner": {"reputation": 24, "user_id": 5261398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02cd21bbad4141535f432f50ec9ed336?s=128&d=identicon&r=PG&f=1", "display_name": "epganuelas", "link": "https://stackoverflow.com/users/5261398/epganuelas"}, "is_accepted": true, "score": -1, "last_activity_date": 1510176998, "creation_date": 1510176998, "answer_id": 47190103, "question_id": 47189324, "link": "https://stackoverflow.com/questions/47189324/loading-bootstrap-multiselect-dynamically-in-vuejs-loop/47190103#47190103", "title": "Loading bootstrap-multiselect dynamically in vueJs loop", "body": "<p>Try this:</p>\n\n<p><a href=\"http://jsfiddle.net/Lw5us5y3/5/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/Lw5us5y3/5/</a></p>\n\n<p>I'm calling the refresh method of multiselect after the updated vue lifecycle. </p>\n\n<p><code></p>\n\n<pre><code>$(function() {\n    $('.mult').multiselect();\n});\n\nnew Vue({\n  el: '#app',\n  data: {\n    params: '',\n    message: 'Test'\n  },\n  methods: {\n    load: function() {\n        this.params = [{value: 'cheese'},\n        {value: 'tomatoes'}]\n    }\n  },\n  updated: function(){\n    $('.mult').multiselect('refresh');\n  }\n})\n</code></pre>\n\n<p></code></p>\n"}], "owner": {"reputation": 518, "user_id": 5726811, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-yxejpJf5ovg/AAAAAAAAAAI/AAAAAAAAAVc/Sj6YD7-C7fg/photo.jpg?sz=128", "display_name": "Yurich", "link": "https://stackoverflow.com/users/5726811/yurich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 744, "favorite_count": 0, "accepted_answer_id": 47190103, "answer_count": 1, "score": 0, "last_activity_date": 1510176998, "creation_date": 1510173821, "question_id": 47189324, "link": "https://stackoverflow.com/questions/47189324/loading-bootstrap-multiselect-dynamically-in-vuejs-loop", "title": "Loading bootstrap-multiselect dynamically in vueJs loop", "body": "<p>I'm trying to load dynamically bootstrap-multiselect in VueJs loop.</p>\n\n<p>I want to do something like this:</p>\n\n<pre><code>&lt;div class=\"col-xs-6 col-sm-4 mb-1\" v-for=\"params in param\"&gt;\n\n   &lt;select class=\"mult\" multiple=\"multiple\"&gt;\n       &lt;option value=\"cheese\"&gt;Cheese&lt;/option&gt;\n       &lt;option value=\"tomatoes\"&gt;Tomatoes&lt;/option&gt;\n   &lt;/select&gt;\n\n &lt;/div&gt;\n</code></pre>\n\n<p>but it does not load correctly\n<a href=\"http://jsfiddle.net/Lw5us5y3/4/\" rel=\"nofollow noreferrer\">Check this out jsfiddle</a></p>\n\n<p>Please, i need advice.</p>\n"}, {"tags": ["javascript", "html", "selection"], "comments": [{"owner": {"reputation": 4708, "user_id": 5901848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qbaoZ.jpg?s=128&g=1", "display_name": "Sanchit Patiyal", "link": "https://stackoverflow.com/users/5901848/sanchit-patiyal"}, "edited": false, "score": 0, "creation_date": 1510174297, "post_id": 47189309, "comment_id": 81328199, "body": "try element.selection.empty();"}, {"owner": {"reputation": 697, "user_id": 7837657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec854a1f8a312c44f0e6cd7359376172?s=128&d=identicon&r=PG&f=1", "display_name": "Sacha", "link": "https://stackoverflow.com/users/7837657/sacha"}, "reply_to_user": {"reputation": 4708, "user_id": 5901848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qbaoZ.jpg?s=128&g=1", "display_name": "Sanchit Patiyal", "link": "https://stackoverflow.com/users/5901848/sanchit-patiyal"}, "edited": false, "score": 0, "creation_date": 1510174618, "post_id": 47189309, "comment_id": 81328378, "body": "@SanchitPatiyal I tried: the function throws error <i>Uncaught TypeError: Cannot read property &#39;empty&#39; of undefined</i> :("}, {"owner": {"reputation": 4708, "user_id": 5901848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qbaoZ.jpg?s=128&g=1", "display_name": "Sanchit Patiyal", "link": "https://stackoverflow.com/users/5901848/sanchit-patiyal"}, "edited": false, "score": 0, "creation_date": 1510174682, "post_id": 47189309, "comment_id": 81328420, "body": "How about document.selection.empty();"}, {"owner": {"reputation": 1461, "user_id": 1232490, "user_type": "registered", "accept_rate": 23, "profile_image": "https://graph.facebook.com/1440420873/picture?type=large", "display_name": "Akansh", "link": "https://stackoverflow.com/users/1232490/akansh"}, "edited": false, "score": 0, "creation_date": 1510174691, "post_id": 47189309, "comment_id": 81328428, "body": "element.selection is supportable in IE I think. Can you tell which browser you used?"}, {"owner": {"reputation": 697, "user_id": 7837657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec854a1f8a312c44f0e6cd7359376172?s=128&d=identicon&r=PG&f=1", "display_name": "Sacha", "link": "https://stackoverflow.com/users/7837657/sacha"}, "reply_to_user": {"reputation": 1461, "user_id": 1232490, "user_type": "registered", "accept_rate": 23, "profile_image": "https://graph.facebook.com/1440420873/picture?type=large", "display_name": "Akansh", "link": "https://stackoverflow.com/users/1232490/akansh"}, "edited": false, "score": 0, "creation_date": 1510174741, "post_id": 47189309, "comment_id": 81328454, "body": "@AkanshGulati I&#39;m using Chrome"}, {"owner": {"reputation": 1461, "user_id": 1232490, "user_type": "registered", "accept_rate": 23, "profile_image": "https://graph.facebook.com/1440420873/picture?type=large", "display_name": "Akansh", "link": "https://stackoverflow.com/users/1232490/akansh"}, "reply_to_user": {"reputation": 4708, "user_id": 5901848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qbaoZ.jpg?s=128&g=1", "display_name": "Sanchit Patiyal", "link": "https://stackoverflow.com/users/5901848/sanchit-patiyal"}, "edited": false, "score": 0, "creation_date": 1510174862, "post_id": 47189309, "comment_id": 81328532, "body": "document.selection is defined for IE &lt; 9, while window.getSelection is compatible with most browsers now. @SanchitPatiyal"}, {"owner": {"reputation": 4708, "user_id": 5901848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qbaoZ.jpg?s=128&g=1", "display_name": "Sanchit Patiyal", "link": "https://stackoverflow.com/users/5901848/sanchit-patiyal"}, "reply_to_user": {"reputation": 1461, "user_id": 1232490, "user_type": "registered", "accept_rate": 23, "profile_image": "https://graph.facebook.com/1440420873/picture?type=large", "display_name": "Akansh", "link": "https://stackoverflow.com/users/1232490/akansh"}, "edited": false, "score": 0, "creation_date": 1510174908, "post_id": 47189309, "comment_id": 81328559, "body": "I see anyway <code>window.getSelection().removeAllRanges()</code> will do the trick @AkanshGulati"}, {"owner": {"reputation": 697, "user_id": 7837657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec854a1f8a312c44f0e6cd7359376172?s=128&d=identicon&r=PG&f=1", "display_name": "Sacha", "link": "https://stackoverflow.com/users/7837657/sacha"}, "edited": false, "score": 0, "creation_date": 1510174952, "post_id": 47189309, "comment_id": 81328583, "body": "Yes, I think you mean <code>window.getSelection().empty()</code>? I tested it and that does the job as well. But anyways, thanks for your answer :)"}, {"owner": {"reputation": 1461, "user_id": 1232490, "user_type": "registered", "accept_rate": 23, "profile_image": "https://graph.facebook.com/1440420873/picture?type=large", "display_name": "Akansh", "link": "https://stackoverflow.com/users/1232490/akansh"}, "edited": false, "score": 0, "creation_date": 1510175064, "post_id": 47189309, "comment_id": 81328647, "body": "Yes, they both are alias of each other."}], "answers": [{"comments": [{"owner": {"reputation": 697, "user_id": 7837657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec854a1f8a312c44f0e6cd7359376172?s=128&d=identicon&r=PG&f=1", "display_name": "Sacha", "link": "https://stackoverflow.com/users/7837657/sacha"}, "edited": false, "score": 0, "creation_date": 1510174702, "post_id": 47189459, "comment_id": 81328435, "body": "Thanks! Worked fine. I didn&#39;t expect it to be this simple! :)"}], "tags": [], "owner": {"reputation": 1461, "user_id": 1232490, "user_type": "registered", "accept_rate": 23, "profile_image": "https://graph.facebook.com/1440420873/picture?type=large", "display_name": "Akansh", "link": "https://stackoverflow.com/users/1232490/akansh"}, "is_accepted": true, "score": 1, "last_activity_date": 1510174633, "last_edit_date": 1510174633, "creation_date": 1510174264, "answer_id": 47189459, "question_id": 47189309, "link": "https://stackoverflow.com/questions/47189309/how-to-cancel-selection-in-contenteditable-div/47189459#47189459", "title": "How to cancel selection in contenteditable div?", "body": "<p>I think you want to remove selection completely. You can do so once you have replaced the string with </p>\n\n<pre><code>window.getSelection().removeAllRanges()\n</code></pre>\n\n<p>So basically, once you select the range of content, you can get the range with <code>window.getSelection()</code> method which returns set of details about selected content. It has many functions to alter the range and remove the range completely. To know more, you can read in brief of all supported methods <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Selection\" rel=\"nofollow noreferrer\">Selection API</a> </p>\n"}], "owner": {"reputation": 697, "user_id": 7837657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec854a1f8a312c44f0e6cd7359376172?s=128&d=identicon&r=PG&f=1", "display_name": "Sacha", "link": "https://stackoverflow.com/users/7837657/sacha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 0, "accepted_answer_id": 47189459, "answer_count": 1, "score": 0, "last_activity_date": 1510174633, "creation_date": 1510173768, "question_id": 47189309, "link": "https://stackoverflow.com/questions/47189309/how-to-cancel-selection-in-contenteditable-div", "title": "How to cancel selection in contenteditable div?", "body": "<p>On my page, I have a <code>contenteditable</code> <code>div</code> element. When a specific key is pressed, a function executes:</p>\n\n<pre><code>function bla(element) {\n  if (getSelectionHtml() != \"\") {\n    replaceSelectedText(\"text\");\n  }\n}\n</code></pre>\n\n<p><code>getSelectionHtml()</code> checks if something is selected by the user. <code>replaceSelectedText(text)</code> replaces the selected text with a given string. Both functions are working properly.<br>\nAfter the selected text has been replaced, I want to 'cancel' the user's selection, as the selection is now equal to the 'new' string, so just deleting the text is not an option.</p>\n\n<p>I tried this:</p>\n\n<pre><code>element.style.userSelect = \"none\";\nelement.style.userSelect = \"text;\n</code></pre>\n\n<p>But it didn't work because <code>userSelect: none</code> doesn't seem to change anything in a div element with <code>contenteditable</code>. Also, this solution looks pretty ugly for such a simple problem.</p>\n\n<p>So, how can I cancel the user's selection?</p>\n"}, {"tags": ["javascript", "jquery", "datatables"], "comments": [{"owner": {"reputation": 1898, "user_id": 5852567, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-01XLpEIZ5Vo/AAAAAAAAAAI/AAAAAAAADBw/wp2BC0SOGVE/photo.jpg?sz=128", "display_name": "DIEGO CARRASCAL", "link": "https://stackoverflow.com/users/5852567/diego-carrascal"}, "edited": false, "score": 0, "creation_date": 1510174657, "post_id": 47189284, "comment_id": 81328397, "body": "filter your data using your rule set, each filtering will return an &quot;array&quot; of data with each type and then you display them."}], "answers": [{"comments": [{"owner": {"reputation": 76942, "user_id": 1407478, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mDZaj.png?s=128&g=1", "display_name": "davidkonrad", "link": "https://stackoverflow.com/users/1407478/davidkonrad"}, "edited": false, "score": 0, "creation_date": 1510181535, "post_id": 47189573, "comment_id": 81331574, "body": "<code>label = (n =&gt; (n &gt; 0.45 ? (n &gt; 0.55 ? &#39;high&#39; : &#39;moderate&#39;) : &#39;low&#39;))</code> I get the <i>idea</i> that ES6 let you produce oneliners with even higher level of obscurity :)"}], "tags": [], "owner": {"reputation": 5483, "user_id": 4481312, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/teLso.jpg?s=128&g=1", "display_name": "marmeladze", "link": "https://stackoverflow.com/users/4481312/marmeladze"}, "is_accepted": false, "score": 0, "last_activity_date": 1510175102, "last_edit_date": 1510175102, "creation_date": 1510174650, "answer_id": 47189573, "question_id": 47189284, "link": "https://stackoverflow.com/questions/47189284/display-and-sort-numeric-column-as-ordered-categories/47189573#47189573", "title": "Display and sort numeric column as ordered categories", "body": "<p>I honestly do not know how datatables work, but below snippet might give you idea. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>label = (n =&gt; (n &gt; 0.45 ? (n &gt; 0.55 ? 'high' : 'moderate') : 'low'))\r\nary = [ 0.5, 0.7, 0.2, 0.4, 0.9 ]\r\nary.forEach(i =&gt; console.log(label(i)))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>below snippet is a humble attempt to render those data as table items.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>label = (n =&gt; (n &gt; 0.45 ? (n &gt; 0.55 ? 'high' : 'moderate') : 'low'))\r\n\r\nas_row_item = (el) =&gt; \"&lt;tr&gt;&lt;td&gt;\"+el+\"&lt;/td&gt;&lt;td&gt;\";\r\n\r\nary = [ 0.5, 0.7, 0.2, 0.4, 0.9 ]\r\nary.forEach(i =&gt; document.querySelector(\"table\").innerHTML += as_row_item(label(i)));</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>table, tr, td {\r\nborder: 1px solid #ccc;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table&gt;&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 50625, "user_id": 3549014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290cbac6da9b4ef5ac976e5d50ab637e?s=128&d=identicon&r=PG", "display_name": "Gyrocode.com", "link": "https://stackoverflow.com/users/3549014/gyrocode-com"}, "is_accepted": true, "score": 1, "last_activity_date": 1510177476, "last_edit_date": 1510177476, "creation_date": 1510175314, "answer_id": 47189728, "question_id": 47189284, "link": "https://stackoverflow.com/questions/47189284/display-and-sort-numeric-column-as-ordered-categories/47189728#47189728", "title": "Display and sort numeric column as ordered categories", "body": "<p>Use <a href=\"https://datatables.net/reference/option/columns.render\" rel=\"nofollow noreferrer\"><code>columns.render</code></a> option to generate content for cell only when that content is displayed. jQuery DataTables will use original numerical value for ordering.</p>\n\n<p>For example:</p>\n\n<pre><code>var table = $('#example').DataTable({\n   columnDefs: [\n        {\n            targets: 1,\n            render: function(data, type, full, meta){\n                if(type === 'display'){\n                    if (data &gt; 0.55) {\n                        data = \"high \";\n                    } else if (data &gt; 0.45) {\n                        data = \"moderate\";\n                    } else {\n                        data = \"low\";\n                    }                    \n                }\n\n                return data;\n            }\n        }\n   ]    \n});\n</code></pre>\n\n<p>See <a href=\"https://jsfiddle.net/5s07onyv/\" rel=\"nofollow noreferrer\">this example</a> for code and demonstration.</p>\n"}], "owner": {"reputation": 85, "user_id": 8909584, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NXj2jd2xvvE/AAAAAAAAAAI/AAAAAAAAAKY/m9IRQ0GPOnM/photo.jpg?sz=128", "display_name": "Bruce Pucci", "link": "https://stackoverflow.com/users/8909584/bruce-pucci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 47189728, "answer_count": 2, "score": 1, "last_activity_date": 1510177476, "creation_date": 1510173684, "last_edit_date": 1510174850, "question_id": 47189284, "link": "https://stackoverflow.com/questions/47189284/display-and-sort-numeric-column-as-ordered-categories", "title": "Display and sort numeric column as ordered categories", "body": "<p>I have a column of my table that is a float with value between 0-1. I would like it to display as an ordered label but sort by the original value.</p>\n\n<p>For example with the following rule set...</p>\n\n<pre><code>if (value &gt; 0.55) {\n    \"high\"\n} else if (value &gt; 0.45) {\n    \"moderate\"\n} else {\n   \"low\"\n}\n</code></pre>\n\n<p>and the values...</p>\n\n<pre><code>[0.5, 0.7, 0.2, 0.4, 0.9]\n</code></pre>\n\n<p>I would like the column to read...</p>\n\n<pre><code>|moderate|\n|high    |\n|low     |\n|low     |\n|high    |\n</code></pre>\n\n<p>But still be sortable by the original values.</p>\n\n<p>I tried writing an extension with <code>jQuery.fn.dataTableExt.oSort</code> without much luck. Any other ideas?</p>\n"}, {"tags": ["javascript", "json"], "comments": [{"owner": {"reputation": 4180, "user_id": 421089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1umTe.png?s=128&g=1", "display_name": "mamapitufo", "link": "https://stackoverflow.com/users/421089/mamapitufo"}, "edited": false, "score": 1, "creation_date": 1510173957, "post_id": 47189264, "comment_id": 81328002, "body": "can you add some of the things that you have tried?"}, {"owner": {"reputation": 137, "user_id": 7632397, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-S060rHmNeTA/AAAAAAAAAAI/AAAAAAAAM0o/UukObUWDo6k/photo.jpg?sz=128", "display_name": "David Daza", "link": "https://stackoverflow.com/users/7632397/david-daza"}, "reply_to_user": {"reputation": 4180, "user_id": 421089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1umTe.png?s=128&g=1", "display_name": "mamapitufo", "link": "https://stackoverflow.com/users/421089/mamapitufo"}, "edited": false, "score": 0, "creation_date": 1510174653, "post_id": 47189264, "comment_id": 81328394, "body": "The question is answered but I was doing a stupidity. Literally the same code as the accepted answer but I was using <code>const</code> instead of <code>let</code> and the error level was unchecked in the console, so I wasn&#39;t able to see what was going on."}], "answers": [{"tags": [], "owner": {"reputation": 40100, "user_id": 6238977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kBcTp.png?s=128&g=1", "display_name": "mickl", "link": "https://stackoverflow.com/users/6238977/mickl"}, "is_accepted": true, "score": 2, "last_activity_date": 1510173995, "creation_date": 1510173995, "answer_id": 47189378, "question_id": 47189264, "link": "https://stackoverflow.com/questions/47189264/array-of-objects-to-json/47189378#47189378", "title": "Array of objects to json", "body": "<p>Try this:</p>\n\n<pre><code>let output = {};\n\narray.forEach(doc =&gt; {\n    for(let key in doc){\n        output[key] = doc[key];\n    }\n});\n\nlet result = [output]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 137, "user_id": 7632397, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-S060rHmNeTA/AAAAAAAAAAI/AAAAAAAAM0o/UukObUWDo6k/photo.jpg?sz=128", "display_name": "David Daza", "link": "https://stackoverflow.com/users/7632397/david-daza"}, "edited": false, "score": 0, "creation_date": 1510174543, "post_id": 47189420, "comment_id": 81328330, "body": "This works too, but <a href=\"https://stackoverflow.com/users/6238977/mickl\">@mickl</a> answeres first so I&#39;m accepting his answer. But hey, thank you!"}, {"owner": {"reputation": 5513, "user_id": 2718801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d4b144cdafa73e1d470362ed8d7c3a9?s=128&d=identicon&r=PG", "display_name": "jhpratt", "link": "https://stackoverflow.com/users/2718801/jhpratt"}, "reply_to_user": {"reputation": 137, "user_id": 7632397, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-S060rHmNeTA/AAAAAAAAAAI/AAAAAAAAM0o/UukObUWDo6k/photo.jpg?sz=128", "display_name": "David Daza", "link": "https://stackoverflow.com/users/7632397/david-daza"}, "edited": false, "score": 0, "creation_date": 1510174664, "post_id": 47189420, "comment_id": 81328402, "body": "All good! Was just making sure that it worked, otherwise I definitely would have had it in first (not that it much matters)"}], "tags": [], "owner": {"reputation": 5513, "user_id": 2718801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d4b144cdafa73e1d470362ed8d7c3a9?s=128&d=identicon&r=PG", "display_name": "jhpratt", "link": "https://stackoverflow.com/users/2718801/jhpratt"}, "is_accepted": false, "score": 2, "last_activity_date": 1510174129, "creation_date": 1510174129, "answer_id": 47189420, "question_id": 47189264, "link": "https://stackoverflow.com/questions/47189264/array-of-objects-to-json/47189420#47189420", "title": "Array of objects to json", "body": "<p>This should do the trick. What this does is iterate through all elements in the initial array, then goes through all the keys in that object. It'll copy over all those into the <code>result</code> object.</p>\n\n<pre><code>let result = {};\n\ninitial.forEach(obj =&gt;\n    Object.keys(obj).forEach(key =&gt; result[key] = obj[key])\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 120, "user_id": 4237910, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EYsNgdvQmqE/AAAAAAAAAAI/AAAAAAAAAGQ/6bjfRklLDI4/photo.jpg?sz=128", "display_name": "Steve Hawkins", "link": "https://stackoverflow.com/users/4237910/steve-hawkins"}, "is_accepted": false, "score": 4, "last_activity_date": 1510174809, "creation_date": 1510174809, "answer_id": 47189619, "question_id": 47189264, "link": "https://stackoverflow.com/questions/47189264/array-of-objects-to-json/47189619#47189619", "title": "Array of objects to json", "body": "<p>A more compact version that does not require multiple forEach calls might be something like this:</p>\n\n<pre><code>const final = [initial.reduce((finalObj, nextObj) =&gt; Object.assign(finalObj, nextObj), {})]\n</code></pre>\n\n<p>This uses reduce to start off with a new object and then Object.assign() to merge each of the inner objects into it.</p>\n"}], "owner": {"reputation": 137, "user_id": 7632397, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-S060rHmNeTA/AAAAAAAAAAI/AAAAAAAAM0o/UukObUWDo6k/photo.jpg?sz=128", "display_name": "David Daza", "link": "https://stackoverflow.com/users/7632397/david-daza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 47189378, "answer_count": 3, "score": -1, "last_activity_date": 1510174809, "creation_date": 1510173640, "question_id": 47189264, "link": "https://stackoverflow.com/questions/47189264/array-of-objects-to-json", "title": "Array of objects to json", "body": "<p>I don't know if there is a related question but I have a variable with the following structure:</p>\n\n<pre><code>[\n  { key_1: [{...},{...},{...}] },\n  { key_2: [{...},{...},{...}] },\n  { key_3: [{...},{...},{...}] },\n]\n</code></pre>\n\n<p>I want to achieve this:</p>\n\n<pre><code>[\n  { \n    key_1: [{...},{...},{...}],\n    key_2: [{...},{...},{...}],\n    key_3: [{...},{...},{...}]\n  }\n]\n</code></pre>\n\n<p>I've tried doing things with <code>map</code>and <code>forEach</code> but I'm really stuck. Thanks for your help</p>\n"}, {"tags": ["javascript", "polymer", "polymer-2.x"], "comments": [{"owner": {"reputation": 660, "user_id": 5428766, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/8c1e99ae9dabc3a49d818ca45e81532e?s=128&d=identicon&r=PG&f=1", "display_name": "Jose Raul Perera", "link": "https://stackoverflow.com/users/5428766/jose-raul-perera"}, "edited": false, "score": 0, "creation_date": 1510235418, "post_id": 47189243, "comment_id": 81355550, "body": "This is just an opinion but in my experience I don&#39;t recommend you to do that, I tried one time and I found problems with scope and  dependencies."}], "answers": [{"comments": [{"owner": {"reputation": 693, "user_id": 1188717, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b6e97c0e8dd39b7684a0267cbf77d30a?s=128&d=identicon&r=PG", "display_name": "risingtiger", "link": "https://stackoverflow.com/users/1188717/risingtiger"}, "edited": false, "score": 0, "creation_date": 1510245856, "post_id": 47203982, "comment_id": 81363388, "body": "Thats an interesting approach. I didn&#39;t realize that the get template method is amiable in Polymer 2.0. I&#39;ll experiment with that and see what I come up with."}, {"owner": {"reputation": 693, "user_id": 1188717, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b6e97c0e8dd39b7684a0267cbf77d30a?s=128&d=identicon&r=PG", "display_name": "risingtiger", "link": "https://stackoverflow.com/users/1188717/risingtiger"}, "edited": false, "score": 0, "creation_date": 1510602070, "post_id": 47203982, "comment_id": 81495398, "body": "I think this makes the most sense. And since crazypeter&#39;s answer didn&#39;t work with the css link outside of the template tag, I&#39;m going to be rerouting my code to be more like this -- with the boon that it gets it closer to how it needs to be for Polymer 3.0"}], "tags": [], "owner": {"reputation": 51, "user_id": 6041439, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1VnH-UWMgGk/AAAAAAAAAAI/AAAAAAAAABA/GGp9hR1AOCI/photo.jpg?sz=128", "display_name": "OneBitAhead", "link": "https://stackoverflow.com/users/6041439/onebitahead"}, "is_accepted": true, "score": 1, "last_activity_date": 1510236683, "creation_date": 1510236683, "answer_id": 47203982, "question_id": 47189243, "link": "https://stackoverflow.com/questions/47189243/best-practice-in-separating-javascript-from-html-in-polymer-2-0-components/47203982#47203982", "title": "Best Practice in separating javascript from HTML in Polymer 2.0 components", "body": "<p>Looking at this from another perspective: Polymer 2.0 elements can implement a static getter method named template, so you can seperate out the HTML part like this:</p>\n\n<pre><code>class SeperateMarkup extends PolyElement {\n\n    ...\n\n  static get is() { return 'seperate-markup-el'; }\n\n  static get template() {       \n    // Maybe, have a look at \n    // Polymer.DomModule.import(SeperateMarkup.is, 'template');\n    // to retrieve markup \n\n    return \"&lt;h1&gt;someMarkup&lt;/h1&gt;\";\n  }\n\n    ...\n\n}\n</code></pre>\n\n<p>Recommended read on this and other Polymer 2.0 aspects: Monica Dinculescus examples on <a href=\"https://glitch.com/edit/#!/aspiring-chauffeur?path=views/index.html:1:0\" rel=\"nofollow noreferrer\">https://glitch.com/edit/#!/aspiring-chauffeur?path=views/index.html:1:0</a></p>\n"}, {"comments": [{"owner": {"reputation": 693, "user_id": 1188717, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b6e97c0e8dd39b7684a0267cbf77d30a?s=128&d=identicon&r=PG", "display_name": "risingtiger", "link": "https://stackoverflow.com/users/1188717/risingtiger"}, "edited": false, "score": 0, "creation_date": 1510594440, "post_id": 47237412, "comment_id": 81491257, "body": "That is pretty much the solution I have in place. The one difference, being that I had my css inside the template tag. Would that make the css global then, not having it encapsulated within the template?"}, {"owner": {"reputation": 693, "user_id": 1188717, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b6e97c0e8dd39b7684a0267cbf77d30a?s=128&d=identicon&r=PG", "display_name": "risingtiger", "link": "https://stackoverflow.com/users/1188717/risingtiger"}, "edited": false, "score": 0, "creation_date": 1510601993, "post_id": 47237412, "comment_id": 81495358, "body": "So, I tried this -- with the css link outside of the template tag, but within the dom-module tag. It did what I expected, set it to the global namespace. Therefore, unable to reach the elements within the component."}, {"owner": {"reputation": 1018, "user_id": 5139329, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/158ef694537ec940c35905b4b20062d0?s=128&d=identicon&r=PG", "display_name": "crazypeter", "link": "https://stackoverflow.com/users/5139329/crazypeter"}, "reply_to_user": {"reputation": 693, "user_id": 1188717, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b6e97c0e8dd39b7684a0267cbf77d30a?s=128&d=identicon&r=PG", "display_name": "risingtiger", "link": "https://stackoverflow.com/users/1188717/risingtiger"}, "edited": false, "score": 0, "creation_date": 1510609011, "post_id": 47237412, "comment_id": 81499090, "body": "If it&#39;s in the <code>&lt;dom-module&gt;</code>, the CSS is not global. I have used this approach ever since, and it works. Alternatively, if you want to put it in the template, use this import: <code>&lt;link rel=&quot;stylesheet&quot; href=&quot;your-element.css&quot;&gt;</code>."}, {"owner": {"reputation": 1018, "user_id": 5139329, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/158ef694537ec940c35905b4b20062d0?s=128&d=identicon&r=PG", "display_name": "crazypeter", "link": "https://stackoverflow.com/users/5139329/crazypeter"}, "reply_to_user": {"reputation": 693, "user_id": 1188717, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b6e97c0e8dd39b7684a0267cbf77d30a?s=128&d=identicon&r=PG", "display_name": "risingtiger", "link": "https://stackoverflow.com/users/1188717/risingtiger"}, "edited": false, "score": 0, "creation_date": 1510609780, "post_id": 47237412, "comment_id": 81499478, "body": "Your question was mainly about externalizing the JS, the CSS was just a little extra on top. So this is the correct answer, while OneBitAhead didn&#39;t really answer the question, just gave you an alternative that doesn&#39;t even discuss how to import the .js file."}, {"owner": {"reputation": 693, "user_id": 1188717, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b6e97c0e8dd39b7684a0267cbf77d30a?s=128&d=identicon&r=PG", "display_name": "risingtiger", "link": "https://stackoverflow.com/users/1188717/risingtiger"}, "edited": false, "score": 0, "creation_date": 1511196191, "post_id": 47237412, "comment_id": 81746930, "body": "I still believe the answer from OneBitAhead to be the best. Its elegant, works in Polymer 2.0, and, importantly, is moving in line with how Polymer 3.0 will be. But, for others reading through this thread, either solutions can work. I suppose its a matter of preference."}], "tags": [], "owner": {"reputation": 1018, "user_id": 5139329, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/158ef694537ec940c35905b4b20062d0?s=128&d=identicon&r=PG", "display_name": "crazypeter", "link": "https://stackoverflow.com/users/5139329/crazypeter"}, "is_accepted": false, "score": 2, "last_activity_date": 1510399821, "creation_date": 1510399821, "answer_id": 47237412, "question_id": 47189243, "link": "https://stackoverflow.com/questions/47189243/best-practice-in-separating-javascript-from-html-in-polymer-2-0-components/47237412#47237412", "title": "Best Practice in separating javascript from HTML in Polymer 2.0 components", "body": "<p>Here is how to externalize JS and CSS.</p>\n\n<pre><code>&lt;link rel=\"import\" href=\"../bower_components/polymer/polymer-element.html\"&gt;\n\n&lt;dom-module id=\"your-element\"&gt;\n  &lt;link rel=\"import\" type=\"css\" href=\"your-element.css\"&gt;\n  &lt;template&gt;\n  &lt;/template&gt;\n  &lt;script type=\"text/javascript\" src=\"your-element.js\"&gt;&lt;/script&gt;\n&lt;/dom-module&gt;\n</code></pre>\n\n<p>Your class gets defined in the global scope and the JS files gets imported only once because of the HTML import deduping. When executing the JS code, it will find the corresponding <code>&lt;dom-module&gt;</code>. Also, don't forget</p>\n\n<pre><code>customElements.define(YourElement.is, YourElement);\n</code></pre>\n\n<p>in your JS file. Note that <code>&lt;script ...&gt;</code> can be inside or outside the <code>&lt;dom-module&gt;</code>, and the CSS imports must be outside the template. The script will be loaded when the HTML file is loaded. <a href=\"https://www.youtube.com/watch?v=lVVOGnlOAX0\" rel=\"nofollow noreferrer\">Here is some info</a> on lazy loading elements.</p>\n"}], "owner": {"reputation": 693, "user_id": 1188717, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b6e97c0e8dd39b7684a0267cbf77d30a?s=128&d=identicon&r=PG", "display_name": "risingtiger", "link": "https://stackoverflow.com/users/1188717/risingtiger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1038, "favorite_count": 0, "accepted_answer_id": 47203982, "answer_count": 2, "score": 1, "last_activity_date": 1510399821, "creation_date": 1510173594, "question_id": 47189243, "link": "https://stackoverflow.com/questions/47189243/best-practice-in-separating-javascript-from-html-in-polymer-2-0-components", "title": "Best Practice in separating javascript from HTML in Polymer 2.0 components", "body": "<p>The typical code example given for a Polymer 2.0 project looks like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link rel=\"import\" href=\"../../bower_components/polymer/polymer-element.html\"&gt;\r\n\r\n&lt;dom-module id='component-name'&gt;\r\n  &lt;template&gt;\r\n    &lt;style&gt;\r\n      :host {\r\n        display: block;\r\n      }\r\n    &lt;/style&gt;\r\n    &lt;slot&gt;&lt;/slot&gt;\r\n  &lt;/template&gt;\r\n  \r\n  &lt;script&gt;\r\n    class ComponentName extends Polymer.Element {\r\n      static get is() { return 'component-name'; }\r\n    }\r\n    \r\n    window.customElements.define(ComponentName.is, ComponentName);\r\n  &lt;/script&gt;\r\n&lt;/dom-module&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I want to separate out the javascript, so that the ComponentName is written in a separate file, thus keeping my linters happy and my sanity in check while working on large projects. </p>\n\n<p>I've come up with this solution:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link rel=\"import\" href=\"../../bower_components/polymer/polymer-element.html\"&gt;\r\n\r\n&lt;dom-module id='component-name'&gt;\r\n  &lt;template&gt;\r\n    &lt;style&gt;\r\n      :host {\r\n        display: block;\r\n      }\r\n    &lt;/style&gt;\r\n    &lt;slot&gt;&lt;/slot&gt;\r\n  &lt;/template&gt;\r\n  \r\n  &lt;script type='module' src='./componentname.js'&gt;&lt;/script&gt;\r\n&lt;/dom-module&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The only difference is that I'm now loading the file from a separate file as a script type='module' (so that I can also import other js files in to that).</p>\n\n<p>It appears to work, but I'm not sure its really the best thing to do. For one, I'm not sure what scope the class ComponentName is being defined in and if there may be conflicts. But, more importantly, I'm not sure how the loading sequence happens. Does the script load on instantiation of the app instead of through lazy loading? </p>\n\n<p>Is there some one out there versed in the Polymer world that has experience with this sort of thing and has an idea of best practices in separating out js logic from the the HTML while setting up components? Or, is the solution I've lined out sufficient? Also, any references to learn more about the dynamic load process Polymer goes through would be beneficial. </p>\n\n<p>(and I do know that Polymer 3.0 may solve this problem with es6 modules), but unfortunately I can't wait until it comes out.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 5523, "user_id": 2594812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc8f4767c6d139bb824167fa04b992e0?s=128&d=identicon&r=PG", "display_name": "Sam Hartman", "link": "https://stackoverflow.com/users/2594812/sam-hartman"}, "edited": false, "score": 0, "creation_date": 1510173756, "post_id": 47189242, "comment_id": 81327891, "body": "That&#39;s the answer I would expect; it seems intuitive.  Please explain what you think that result means and why you think it is confusing."}, {"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "reply_to_user": {"reputation": 5523, "user_id": 2594812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc8f4767c6d139bb824167fa04b992e0?s=128&d=identicon&r=PG", "display_name": "Sam Hartman", "link": "https://stackoverflow.com/users/2594812/sam-hartman"}, "edited": false, "score": 0, "creation_date": 1510173947, "post_id": 47189242, "comment_id": 81327996, "body": "@SamHartman, &quot;<code>[]</code> is a number&quot;, is intuitive?? You have a strange definition of the word"}, {"owner": {"reputation": 13113, "user_id": 5556440, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fZ0t8.jpg?s=128&g=1", "display_name": "Chin Leung", "link": "https://stackoverflow.com/users/5556440/chin-leung"}, "edited": false, "score": 0, "creation_date": 1510173949, "post_id": 47189242, "comment_id": 81327998, "body": "Because <code>isNaN([])</code> returns <code>false</code> and <code>false === false</code> is <code>true</code>."}, {"owner": {"reputation": 13113, "user_id": 5556440, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fZ0t8.jpg?s=128&g=1", "display_name": "Chin Leung", "link": "https://stackoverflow.com/users/5556440/chin-leung"}, "edited": false, "score": 0, "creation_date": 1510174000, "post_id": 47189242, "comment_id": 81328027, "body": "<code>[]</code> is converted to <code>0</code>, and 0 is a number. <code>Number([]);</code>"}, {"owner": {"reputation": 3322, "user_id": 1029988, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b15fd30b47ef2be5d82a1bcae98de1e9?s=128&d=identicon&r=PG", "display_name": "Nicol&#225;s Straub", "link": "https://stackoverflow.com/users/1029988/nicol%c3%a1s-straub"}, "edited": false, "score": 0, "creation_date": 1510174186, "post_id": 47189242, "comment_id": 81328142, "body": "it&#39;s coerced, not converted. there&#39;s a slight difference. In practice, conversion (<code>parseInt([])</code>) returns NaN"}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 1, "creation_date": 1510175205, "post_id": 47189242, "comment_id": 81328722, "body": "@smac89 <code>isNaN</code> tests whether <i>a number</i> is the special <code>NaN</code> value. Calling it on non-numbers is a misuse in the first place. But yes <code>[]</code> as a number is not <code>NaN</code>."}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1510175364, "post_id": 47189242, "comment_id": 81328800, "body": "Closely related: <a href=\"https://stackoverflow.com/q/825402/1048572\">Why does <code>isNaN(&quot; &quot;)</code> equal false?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13113, "user_id": 5556440, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fZ0t8.jpg?s=128&g=1", "display_name": "Chin Leung", "link": "https://stackoverflow.com/users/5556440/chin-leung"}, "edited": false, "score": 0, "creation_date": 1510173910, "post_id": 47189335, "comment_id": 81327976, "body": "You mean <code>isNaN</code> returns <code>false</code> when it&#39;s a number."}, {"owner": {"reputation": 3322, "user_id": 1029988, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b15fd30b47ef2be5d82a1bcae98de1e9?s=128&d=identicon&r=PG", "display_name": "Nicol&#225;s Straub", "link": "https://stackoverflow.com/users/1029988/nicol%c3%a1s-straub"}, "reply_to_user": {"reputation": 13113, "user_id": 5556440, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fZ0t8.jpg?s=128&g=1", "display_name": "Chin Leung", "link": "https://stackoverflow.com/users/5556440/chin-leung"}, "edited": false, "score": 0, "creation_date": 1510174024, "post_id": 47189335, "comment_id": 81328042, "body": "thanks for pointing the mistake out... it&#39;s hard to wrap your head around JavaScript&#39;s idiosyncrasies sometimes"}, {"owner": {"reputation": 5523, "user_id": 2594812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc8f4767c6d139bb824167fa04b992e0?s=128&d=identicon&r=PG", "display_name": "Sam Hartman", "link": "https://stackoverflow.com/users/2594812/sam-hartman"}, "edited": false, "score": 0, "creation_date": 1510174603, "post_id": 47189335, "comment_id": 81328367, "body": "This answer is just wrong.  isNAN is not about determining if something is a number."}, {"owner": {"reputation": 3322, "user_id": 1029988, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b15fd30b47ef2be5d82a1bcae98de1e9?s=128&d=identicon&r=PG", "display_name": "Nicol&#225;s Straub", "link": "https://stackoverflow.com/users/1029988/nicol%c3%a1s-straub"}, "reply_to_user": {"reputation": 5523, "user_id": 2594812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc8f4767c6d139bb824167fa04b992e0?s=128&d=identicon&r=PG", "display_name": "Sam Hartman", "link": "https://stackoverflow.com/users/2594812/sam-hartman"}, "edited": false, "score": 0, "creation_date": 1510174741, "post_id": 47189335, "comment_id": 81328456, "body": "@SamHartman I never said that. I further explained how coercion works, in case you want to revisit your downvote"}], "tags": [], "owner": {"reputation": 3322, "user_id": 1029988, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b15fd30b47ef2be5d82a1bcae98de1e9?s=128&d=identicon&r=PG", "display_name": "Nicol&#225;s Straub", "link": "https://stackoverflow.com/users/1029988/nicol%c3%a1s-straub"}, "is_accepted": true, "score": 1, "last_activity_date": 1510179999, "last_edit_date": 1510179999, "creation_date": 1510173850, "answer_id": 47189335, "question_id": 47189242, "link": "https://stackoverflow.com/questions/47189242/can-someone-explain-me-this-javascript-behaviour-isnan/47189335#47189335", "title": "Can someone explain me this javascript behaviour? isNaN([])", "body": "<p>this has to do with type coercion. when <code>isNaN</code> receives anything but a number, it coerces the value to a number... so it basically does <code>+value</code>. since <code>+[]</code> is <code>0</code> and <code>0</code> is a number, <code>isNaN</code> returns <code>false</code>.</p>\n\n<p>If you want to check whether a value is not a number, you need to convert it with <code>parseInt</code> (or <code>parseFloat</code>). both those functions will return NaN for an empty array. </p>\n\n<p>The difference is with conversion you're explicitly telling it the input is number-like and should therefore be able to be converted into a value of type <code>Number</code> without issues. Since <code>[]</code> is not number-like, trying to parse (convert) it will result in NaN. </p>\n\n<p><strong>This is an extremely simplified explanation of how parsing and conversion work. For one, they are two separate things. if you want to learn more about how these two work, start <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseInt\" rel=\"nofollow noreferrer\">here</a></strong></p>\n\n<p>With coercion, however (which is what you're doing), you essentially passed it a value and \"assumed\" (for lack of a better word) the values type is compatible with the parameters' requirements. So isNaN receives an array and guesses you meant to pass it a number, and coerces it to its number equivalent (in the case of an empty array, 0) before performing the actual operation. so isNaN is performed on 0, not an empty array.</p>\n\n<p><strong>Again, this explanation is oversimplified. for more information about type coercion in JS, go <a href=\"https://github.com/getify/You-Dont-Know-JS/blob/master/types%20%26%20grammar/ch4.md\" rel=\"nofollow noreferrer\">here</a></strong></p>\n"}, {"comments": [{"owner": {"reputation": 3322, "user_id": 1029988, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b15fd30b47ef2be5d82a1bcae98de1e9?s=128&d=identicon&r=PG", "display_name": "Nicol&#225;s Straub", "link": "https://stackoverflow.com/users/1029988/nicol%c3%a1s-straub"}, "edited": false, "score": 0, "creation_date": 1510174926, "post_id": 47189530, "comment_id": 81328569, "body": "Remember NaN is a Number (strange as it may seem), so the behaviour has everything to do with coercion"}, {"owner": {"reputation": 5523, "user_id": 2594812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc8f4767c6d139bb824167fa04b992e0?s=128&d=identicon&r=PG", "display_name": "Sam Hartman", "link": "https://stackoverflow.com/users/2594812/sam-hartman"}, "reply_to_user": {"reputation": 3322, "user_id": 1029988, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b15fd30b47ef2be5d82a1bcae98de1e9?s=128&d=identicon&r=PG", "display_name": "Nicol&#225;s Straub", "link": "https://stackoverflow.com/users/1029988/nicol%c3%a1s-straub"}, "edited": false, "score": 0, "creation_date": 1510181045, "post_id": 47189530, "comment_id": 81331355, "body": "@Nicol&#225;s Straub they have everything to do with the implementation and nothing to do with the interface contract.  You want isNAN to return false for every object in the universe except for NAN."}, {"owner": {"reputation": 3322, "user_id": 1029988, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b15fd30b47ef2be5d82a1bcae98de1e9?s=128&d=identicon&r=PG", "display_name": "Nicol&#225;s Straub", "link": "https://stackoverflow.com/users/1029988/nicol%c3%a1s-straub"}, "edited": false, "score": 0, "creation_date": 1510181508, "post_id": 47189530, "comment_id": 81331563, "body": "OK, without getting into too much detail, let&#39;s first look at your example. Math.sqrt doesn&#39;t try to get the square root of a negative number, it does <code>if val &lt; 0 return NaN</code>, so, internally, no mathematical operation was performed. If you do the same, but with <code>&quot;1&quot;</code>, the output is <code>1</code>, because the value put in is implicitly converted (coerced) to a number. In the case of the OP question <code>isNaN([])</code> returns false because, again, the array is coerced to a number. The process is as so: [].valueOf() is called, which returns an empty string, which is a native type. that, in turn, is converted"}, {"owner": {"reputation": 3322, "user_id": 1029988, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b15fd30b47ef2be5d82a1bcae98de1e9?s=128&d=identicon&r=PG", "display_name": "Nicol&#225;s Straub", "link": "https://stackoverflow.com/users/1029988/nicol%c3%a1s-straub"}, "edited": false, "score": 0, "creation_date": 1510181896, "post_id": 47189530, "comment_id": 81331708, "body": "to a number explicitly (not exactly casting, but let&#39;s call it that), so the operation can be performed, because isNaN requires a number to operate. since casting an empty string to a number results in 0 in JS, isNaN returns false because it performs the operation against the number 0. if you use parseInt, it returns NaN because the first character of the array, converted via the toString method, is not a number, not because you didn&#39;t actually pass a number in. in fact, <code>parseInt([1,2,3])</code> results in 123, whereas <code>isNaN([1,2,3])</code> equals <code>true</code>. I won&#39;t continue to comment because of space"}, {"owner": {"reputation": 3322, "user_id": 1029988, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b15fd30b47ef2be5d82a1bcae98de1e9?s=128&d=identicon&r=PG", "display_name": "Nicol&#225;s Straub", "link": "https://stackoverflow.com/users/1029988/nicol%c3%a1s-straub"}, "edited": false, "score": 0, "creation_date": 1510182215, "post_id": 47189530, "comment_id": 81331821, "body": "and BTW, I didn&#39;t downvote your answer because I don&#39;t agree with you, I did it because I find it incomplete to the point of being misleading."}, {"owner": {"reputation": 5523, "user_id": 2594812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc8f4767c6d139bb824167fa04b992e0?s=128&d=identicon&r=PG", "display_name": "Sam Hartman", "link": "https://stackoverflow.com/users/2594812/sam-hartman"}, "reply_to_user": {"reputation": 3322, "user_id": 1029988, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b15fd30b47ef2be5d82a1bcae98de1e9?s=128&d=identicon&r=PG", "display_name": "Nicol&#225;s Straub", "link": "https://stackoverflow.com/users/1029988/nicol%c3%a1s-straub"}, "edited": false, "score": 0, "creation_date": 1510194231, "post_id": 47189530, "comment_id": 81334995, "body": "@Nicol&#225;s Straub  I agree that my answer was incomplete to the point of being misleading.  I&#39;ve expanded it significantly; thanks for the motivation to do so."}, {"owner": {"reputation": 3322, "user_id": 1029988, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b15fd30b47ef2be5d82a1bcae98de1e9?s=128&d=identicon&r=PG", "display_name": "Nicol&#225;s Straub", "link": "https://stackoverflow.com/users/1029988/nicol%c3%a1s-straub"}, "edited": false, "score": 0, "creation_date": 1510241362, "post_id": 47189530, "comment_id": 81360004, "body": "I removed the downvote. just want to say coercion is critical though. For example, <code>isNaN(parseInt([1,2,3]))</code> returns <code>false</code> but <code>isNaN([1,2,3])</code> returns <code>true</code>. This (and a ton of other gremlins in JS&#39;s type conversion approach) is why it&#39;s very important to have at least a basic understanding of how coercion works. Otherwise, you end up confused in a pit of code behaving extremely poorly, scratching your head and asking yourself &#39;Why??&#39; (as the OP was). I&#39;ve been there more times than I care to admit with this language, which is why I feel understanding coercion is so important"}], "tags": [], "owner": {"reputation": 5523, "user_id": 2594812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc8f4767c6d139bb824167fa04b992e0?s=128&d=identicon&r=PG", "display_name": "Sam Hartman", "link": "https://stackoverflow.com/users/2594812/sam-hartman"}, "is_accepted": false, "score": 0, "last_activity_date": 1510194177, "last_edit_date": 1510194177, "creation_date": 1510174551, "answer_id": 47189530, "question_id": 47189242, "link": "https://stackoverflow.com/questions/47189242/can-someone-explain-me-this-javascript-behaviour-isnan/47189530#47189530", "title": "Can someone explain me this javascript behaviour? isNaN([])", "body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN\" rel=\"nofollow noreferrer\">NAN</a> is what is returned when a math function fails. NaN is present in almost all languages that do floating point math.  However some Javascript functions (and the internal logic that coerces values) also return NaN when values are coerced to being a number that do not have a numeric representation.  It's a lot easier to understand why <code>isNaN</code> is defined the way it is if you think about NaN as being intended for the case where your math gave a nonsense answer and ignore its role in representing numeric coersion failures.  Obviously when writing Javascript, you'll need to consider (and use) the coersion NaN, but this particular language design choice makes more sense if you ignore that for the moment.</p>\n\n<p>So, for example <code>math.sqrt(-1)</code> is NAN.  the <code>isNAN</code> function returns true if and only if its input argument is NAN.  Since <code>[]</code> is not NAN, I'd expect <code>isNAN([])</code> to return false.  <code>isNAN</code> is the wrong function for determining if something is a number.  It does have strange coersion rules, buteven without them, the answer would be the same in the case  of <code>isNAN([]</code>.  <code>[]</code> is not the<code>NAN</code> object, so <code>isNAN([])</code> is false.  As @Nicol\u00e1s Straub points out, the implementation happens to coerce <code>[]</code> to a number first, but we'd expect the same result given the interface contract of <code>isNAN</code> even if it did not.</p>\n\n<pre><code>ReferenceError: ISNAN is not defined\nat repl:1:1\nat REPLServer.defaultEval (repl.js:272:27)\nat bound (domain.js:287:14)\nat REPLServer.runBound [as eval] (domain.js:300:12)\nat REPLServer.&lt;anonymous&gt; (repl.js:441:12)\nat emitOne (events.js:82:20)\nat REPLServer.emit (events.js:169:7)\nat REPLServer.Interface._onLine (readline.js:203:10)\nat REPLServer.Interface._line (readline.js:542:8)\nat REPLServer.Interface._ttyWrite (readline.js:819:14)\n</code></pre>\n\n<blockquote>\n  <p>isNaN\n  [Function: isNaN]</p>\n  \n  <p>isNaN(\"bar\")\n      true</p>\n</blockquote>\n\n<p>However, <code>\"bar\"</code> is not actually the IEEE not a number floating point construct, so we'd expect  that a function would tell us <code>\"bar\"</code> is not <code>NaN</code>.  Because <code>isNaN</code> coerces its argument to a number, it gives us the wrong answer.\nThe es6  <code>Number.isNaN</code> function would give us the correct answer <code>\"bar\"</code> is not <code>NaN</code>.</p>\n"}], "owner": {"reputation": 259, "user_id": 2255234, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/290e5a3c34db0e7829510ce7ccff3531?s=128&d=identicon&r=PG", "display_name": "SkinyMonkey", "link": "https://stackoverflow.com/users/2255234/skinymonkey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 1, "accepted_answer_id": 47189335, "answer_count": 2, "score": 0, "last_activity_date": 1510194177, "creation_date": 1510173591, "last_edit_date": 1510173815, "question_id": 47189242, "link": "https://stackoverflow.com/questions/47189242/can-someone-explain-me-this-javascript-behaviour-isnan", "title": "Can someone explain me this javascript behaviour? isNaN([])", "body": "<p>I just don't get it:</p>\n\n<pre><code>isNaN([]) === false -&gt; true\n</code></pre>\n\n<p>In the browser or in node.js</p>\n\n<p>I'd like to understand why.</p>\n"}, {"tags": ["javascript", "reactjs", "react-router", "gatsby"], "answers": [{"comments": [{"owner": {"reputation": 5716, "user_id": 519497, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/vql9T.jpg?s=128&g=1", "display_name": "GluePear", "link": "https://stackoverflow.com/users/519497/gluepear"}, "edited": false, "score": 3, "creation_date": 1510176600, "post_id": 47189876, "comment_id": 81329362, "body": "Yeah I&#39;m wondering how to do this specifically in Gatsby&#39;s architecture, best practices etc."}], "tags": [], "owner": {"reputation": 169, "user_id": 8588970, "user_type": "registered", "profile_image": "https://graph.facebook.com/10103456300405059/picture?type=large", "display_name": "Jonny Rathbone", "link": "https://stackoverflow.com/users/8588970/jonny-rathbone"}, "is_accepted": false, "score": -1, "last_activity_date": 1510175985, "creation_date": 1510175985, "answer_id": 47189876, "question_id": 47189234, "link": "https://stackoverflow.com/questions/47189234/modify-routing-in-gatsby-site/47189876#47189876", "title": "Modify routing in Gatsby site", "body": "<p>If you use react-router you can just use <code>&lt;Route path=\"/\" component={Blog} /&gt;</code></p>\n\n<p>Any path that follows from the root \"/\" will go to the same Blog component (you can avoid this by declaring 'exact path' instead). I'm guessing you can use the url to determine which chunk you display then.</p>\n"}, {"tags": [], "owner": {"reputation": 3143, "user_id": 182702, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e567aa8adbd2d49cd9990ea1ed19d4eb?s=128&d=identicon&r=PG", "display_name": "Kyle Mathews", "link": "https://stackoverflow.com/users/182702/kyle-mathews"}, "is_accepted": true, "score": 3, "last_activity_date": 1510341082, "creation_date": 1510341082, "answer_id": 47229651, "question_id": 47189234, "link": "https://stackoverflow.com/questions/47189234/modify-routing-in-gatsby-site/47229651#47229651", "title": "Modify routing in Gatsby site", "body": "<p>With Gatsby, you create routes programmatically.</p>\n\n<p>Check out gatsby-paginate which makes it easy to create paginated index pages <a href=\"https://github.com/pixelstew/gatsby-paginate/\" rel=\"nofollow noreferrer\">https://github.com/pixelstew/gatsby-paginate/</a></p>\n"}], "owner": {"reputation": 5716, "user_id": 519497, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/vql9T.jpg?s=128&g=1", "display_name": "GluePear", "link": "https://stackoverflow.com/users/519497/gluepear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2839, "favorite_count": 1, "accepted_answer_id": 47229651, "answer_count": 2, "score": 2, "last_activity_date": 1510341082, "creation_date": 1510173570, "question_id": 47189234, "link": "https://stackoverflow.com/questions/47189234/modify-routing-in-gatsby-site", "title": "Modify routing in Gatsby site", "body": "<p>I want to set up pagination in a Gatsby blog. In my <code>pages/index.js</code> page I am storing the posts, the \"chunked\" posts (e.g. chunks of 4 posts per page), and the current page number:</p>\n\n<pre><code>this.state = {\n  allPosts: props.data.allMarkdownRemark.edges,\n  postChunks: [],\n  currentpage: 0,\n};\n</code></pre>\n\n<p>Currently, if I go to <code>localhost:8000</code> it points to this component, loads the first 4 posts and displays them. I want to be able to go to <code>localhost:8000/page2</code> and for this route to point to the <em>same</em> component. Currently it takes me to the <code>404</code> page. How can I modify the routing so that all <code>pageX</code> routes go to the same <code>index.js</code> component?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 2, "creation_date": 1510173562, "post_id": 47189202, "comment_id": 81327785, "body": "This seems like a fairly trivial problem. What approaches have you considered? How have they failed? Have you got as far as iterating over the properties on the object?"}, {"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1510173635, "post_id": 47189202, "comment_id": 81327820, "body": "How are you defining &quot;nonexistent&quot;? <code>null</code> and <code>undefined</code> are values that (in the normal definition of things) <i>exist</i>. Are you only concerned with those values? Any value that is falsy? What about <code>0</code>? or <code>&quot;&quot;</code>? or <code>&quot;0&quot;</code>? or <code>false</code>? or <code>[]</code>? or <code>{}</code>?"}, {"owner": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "reply_to_user": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1510173708, "post_id": 47189202, "comment_id": 81327863, "body": "0, &quot;0&quot;, false are good values. I need to remove only nonexistent values"}, {"owner": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "reply_to_user": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1510174780, "post_id": 47189202, "comment_id": 81328475, "body": "&gt; null and undefined are values that (in the normal definition of things) exist... Say it to AWS Lambda function))"}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1510175414, "post_id": 47189202, "comment_id": 81328824, "body": "<code>delete</code> is almost never a best practice."}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1510175439, "post_id": 47189202, "comment_id": 81328839, "body": "Try <code>JSON.parse(JSON.stringify(o))</code> - JSON ignores undefined and null values"}, {"owner": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "reply_to_user": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1510175778, "post_id": 47189202, "comment_id": 81328985, "body": "@Bergi It&#39;s a interesting workaround but it doesn&#39;t remove null."}, {"owner": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "reply_to_user": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1510177989, "post_id": 47189202, "comment_id": 81330023, "body": "@Quentin Why did you downvoted my question and all answers? Do you have an answer?"}], "answers": [{"comments": [{"owner": {"reputation": 13272, "user_id": 3211932, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/NIQhF.jpg?s=128&g=1", "display_name": "dhilt", "link": "https://stackoverflow.com/users/3211932/dhilt"}, "reply_to_user": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "edited": false, "score": 0, "creation_date": 1510177895, "post_id": 47189266, "comment_id": 81329974, "body": "@DmitryGrinko This is a pretty common way. If you prefer ES6, then use B.K Lewis method. To satisfy ES5, use my code."}, {"owner": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "edited": false, "score": 0, "creation_date": 1510178149, "post_id": 47189266, "comment_id": 81330093, "body": "KyleRichardson said that delete will kill all optimization for that object. The hidden class becomes invalid. What do you think about it?"}, {"owner": {"reputation": 13272, "user_id": 3211932, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/NIQhF.jpg?s=128&g=1", "display_name": "dhilt", "link": "https://stackoverflow.com/users/3211932/dhilt"}, "reply_to_user": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "edited": false, "score": 0, "creation_date": 1510178580, "post_id": 47189266, "comment_id": 81330316, "body": "@DmitryGrinko I would agree with that comment... So I added non-mutation version to my answer. After getting the result, you may do an assignment <code>a = result</code> if you need to replace initial object."}, {"owner": {"reputation": 13272, "user_id": 3211932, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/NIQhF.jpg?s=128&g=1", "display_name": "dhilt", "link": "https://stackoverflow.com/users/3211932/dhilt"}, "reply_to_user": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "edited": false, "score": 0, "creation_date": 1510178951, "post_id": 47189266, "comment_id": 81330471, "body": "@DmitryGrinko And if we are talking about performance, this try (ES5) would me much faster than <code>Object.keys</code> + <code>.filter</code> + <code>.reduce</code>."}, {"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "reply_to_user": {"reputation": 4933, "user_id": 6338762, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/52b2972a524d0ae0dbe0ce4cbeb57c00?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Richardson", "link": "https://stackoverflow.com/users/6338762/kyle-richardson"}, "edited": false, "score": 0, "creation_date": 1510181014, "post_id": 47189266, "comment_id": 81331345, "body": "You have to be aware that it&#39;s still mutating version. With every cycle of your <code>for..in</code> loop and passed condition, you will <b>mutate</b> the <code>result</code> variable. @KyleRichardson"}, {"owner": {"reputation": 4933, "user_id": 6338762, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/52b2972a524d0ae0dbe0ce4cbeb57c00?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Richardson", "link": "https://stackoverflow.com/users/6338762/kyle-richardson"}, "edited": false, "score": 0, "creation_date": 1510181324, "post_id": 47189266, "comment_id": 81331474, "body": "Yes it mutates the &quot;result&quot; object, but not the original."}], "tags": [], "owner": {"reputation": 13272, "user_id": 3211932, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/NIQhF.jpg?s=128&g=1", "display_name": "dhilt", "link": "https://stackoverflow.com/users/3211932/dhilt"}, "is_accepted": false, "score": 2, "last_activity_date": 1510178465, "last_edit_date": 1510178465, "creation_date": 1510173646, "answer_id": 47189266, "question_id": 47189202, "link": "https://stackoverflow.com/questions/47189202/how-to-get-an-object-without-undefined-values/47189266#47189266", "title": "How to get an object without undefined values?", "body": "<p>Try following approach:</p>\n\n<pre><code>let a = {\n    a: 1,\n    b: undefined,\n    c: 2345,\n    d: null\n};\n\nfor(p in a) {\n  if(a[p] === undefined || a[p] === null) {\n    delete a[p];\n  }\n}\n\nconsole.log(a); // {a: 1, c: 2345}\n</code></pre>\n\n<p>UPD. Non-mutation version:</p>\n\n<pre><code>let result = {};\nfor(p in a) {\n  if(a[p] === undefined || a[p] === null) {\n    continue;\n  }\n  result[p] = a[p];\n}\n\nconsole.log(result); // {a: 1, c: 2345} \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "edited": false, "score": 0, "creation_date": 1510174610, "post_id": 47189333, "comment_id": 81328373, "body": "I did something like this. Is it best practice?"}, {"owner": {"reputation": 19, "user_id": 5546516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2740ff04976efd9227308a424eea0a95?s=128&d=identicon&r=PG&f=1", "display_name": "B.K Lewis", "link": "https://stackoverflow.com/users/5546516/b-k-lewis"}, "reply_to_user": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "edited": false, "score": 0, "creation_date": 1510174775, "post_id": 47189333, "comment_id": 81328474, "body": "@DmitryGrinko I would say it&#39;s the simplest way and definitely efficient enough for what you&#39;re doing. I think people could argue against it being the &#39;best&#39; way but I do things like this 9 times out of 10."}, {"owner": {"reputation": 19, "user_id": 5546516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2740ff04976efd9227308a424eea0a95?s=128&d=identicon&r=PG&f=1", "display_name": "B.K Lewis", "link": "https://stackoverflow.com/users/5546516/b-k-lewis"}, "reply_to_user": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "edited": false, "score": 0, "creation_date": 1510175125, "post_id": 47189333, "comment_id": 81328679, "body": "@DmitryGrinko neither do I my friend"}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1510175483, "post_id": 47189333, "comment_id": 81328858, "body": "@B.KLewis The <code>delete</code> operator is not efficient at all"}, {"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "edited": false, "score": 1, "creation_date": 1510175507, "post_id": 47189333, "comment_id": 81328871, "body": "I would suggest to avoid mutation."}, {"owner": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "reply_to_user": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "edited": false, "score": 0, "creation_date": 1510175909, "post_id": 47189333, "comment_id": 81329051, "body": "@Kinduser What do you mean?"}, {"owner": {"reputation": 19, "user_id": 5546516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2740ff04976efd9227308a424eea0a95?s=128&d=identicon&r=PG&f=1", "display_name": "B.K Lewis", "link": "https://stackoverflow.com/users/5546516/b-k-lewis"}, "reply_to_user": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1510175997, "post_id": 47189333, "comment_id": 81329086, "body": "@Bergi A link to your source for that claim and a different work around would be helpful"}, {"owner": {"reputation": 4933, "user_id": 6338762, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/52b2972a524d0ae0dbe0ce4cbeb57c00?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Richardson", "link": "https://stackoverflow.com/users/6338762/kyle-richardson"}, "edited": false, "score": 0, "creation_date": 1510176516, "post_id": 47189333, "comment_id": 81329310, "body": "@B.K Lewis  Read about v8 and hidden class optimization. <code>delete</code> will kill all optimization for that object. The hidden class becomes invalid."}, {"owner": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "reply_to_user": {"reputation": 4933, "user_id": 6338762, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/52b2972a524d0ae0dbe0ce4cbeb57c00?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Richardson", "link": "https://stackoverflow.com/users/6338762/kyle-richardson"}, "edited": false, "score": 0, "creation_date": 1510177422, "post_id": 47189333, "comment_id": 81329753, "body": "@KyleRichardson Do you have any answer on my question?"}, {"owner": {"reputation": 4933, "user_id": 6338762, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/52b2972a524d0ae0dbe0ce4cbeb57c00?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Richardson", "link": "https://stackoverflow.com/users/6338762/kyle-richardson"}, "reply_to_user": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "edited": false, "score": 0, "creation_date": 1510179449, "post_id": 47189333, "comment_id": 81330691, "body": "@DmitryGrinko I up voted Kind User&#39;s answer. It is the solution I would suggest. Just keep in mind this will only work for one level of the object. Nested objects will not have undefined and null values removed. You will need to use this recursively on nested objects. Also as stated, this will remove 0 and boolean false as well, so adjust to keep those values as needed."}, {"owner": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "reply_to_user": {"reputation": 4933, "user_id": 6338762, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/52b2972a524d0ae0dbe0ce4cbeb57c00?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Richardson", "link": "https://stackoverflow.com/users/6338762/kyle-richardson"}, "edited": false, "score": 0, "creation_date": 1510179941, "post_id": 47189333, "comment_id": 81330905, "body": "@KyleRichardson Thank you. I agree with you but actually I don&#39;t care about nested objects and such values as 0 and false are important in my case. And answer of dhilt looks very good as well."}, {"owner": {"reputation": 4933, "user_id": 6338762, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/52b2972a524d0ae0dbe0ce4cbeb57c00?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Richardson", "link": "https://stackoverflow.com/users/6338762/kyle-richardson"}, "reply_to_user": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "edited": false, "score": 0, "creation_date": 1510179997, "post_id": 47189333, "comment_id": 81330925, "body": "@DmitryGrinko I would not use <code>delete</code> personally."}, {"owner": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "reply_to_user": {"reputation": 4933, "user_id": 6338762, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/52b2972a524d0ae0dbe0ce4cbeb57c00?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Richardson", "link": "https://stackoverflow.com/users/6338762/kyle-richardson"}, "edited": false, "score": 0, "creation_date": 1510180051, "post_id": 47189333, "comment_id": 81330955, "body": "@KyleRichardson Yes. I mean his Non-mutation version"}, {"owner": {"reputation": 4933, "user_id": 6338762, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/52b2972a524d0ae0dbe0ce4cbeb57c00?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Richardson", "link": "https://stackoverflow.com/users/6338762/kyle-richardson"}, "reply_to_user": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "edited": false, "score": 0, "creation_date": 1510180223, "post_id": 47189333, "comment_id": 81331050, "body": "@DmitryGrinko posted answer that does what you want. You should accept King User&#39;s answer though, imo."}], "tags": [], "owner": {"reputation": 19, "user_id": 5546516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2740ff04976efd9227308a424eea0a95?s=128&d=identicon&r=PG&f=1", "display_name": "B.K Lewis", "link": "https://stackoverflow.com/users/5546516/b-k-lewis"}, "is_accepted": false, "score": 0, "last_activity_date": 1510173846, "creation_date": 1510173846, "answer_id": 47189333, "question_id": 47189202, "link": "https://stackoverflow.com/questions/47189202/how-to-get-an-object-without-undefined-values/47189333#47189333", "title": "How to get an object without undefined values?", "body": "<p>Can do something quite easy such as:</p>\n\n<pre><code>Object.keys(o).forEach((key) =&gt; (o[key] == null || o[key] == undefined)\n&amp;&amp; delete o[key]);\n</code></pre>\n\n<p>This will remove all null and undefined values.</p>\n"}, {"comments": [{"owner": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "edited": false, "score": 0, "creation_date": 1510177283, "post_id": 47189935, "comment_id": 81329695, "body": "Actually empty array [] and empty object {} aren&#39;t falsy values but anyway thank you for your answer. It looks like an good answer on my bad question)"}, {"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "reply_to_user": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "edited": false, "score": 0, "creation_date": 1510177412, "post_id": 47189935, "comment_id": 81329748, "body": "@DmitryGrinko Ah, yeah. Good spot, thanks. Anyways someone downvoted every answer, I wonder why"}], "tags": [], "owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "is_accepted": true, "score": 2, "last_activity_date": 1510177421, "last_edit_date": 1510177421, "creation_date": 1510176295, "answer_id": 47189935, "question_id": 47189202, "link": "https://stackoverflow.com/questions/47189202/how-to-get-an-object-without-undefined-values/47189935#47189935", "title": "How to get an object without undefined values?", "body": "<p>As I wrote in comment, I would suggest to avoid mutation (do not overwrite the parent variable). Consider following approach:</p>\n\n<p><strong>Note</strong>: <code>(v) =&gt; o[v]</code> will filter out every <em>falsy</em> value. In case, if you expect that your keys will have e.g. an empty string <code>''</code>, <code>0</code> or boolean <code>false</code> values, feel free to precise this condition.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const o = {\r\n  a: 1,\r\n  b: undefined,\r\n  c: 2345,\r\n  d: null,\r\n};\r\n\r\nconst r = Object.keys(o).filter((v) =&gt; o[v]).reduce((s, a) =&gt; ({\r\n  ...s,\r\n  [a]: o[a],\r\n}), {});\r\n\r\nconsole.log(r);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 4933, "user_id": 6338762, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/52b2972a524d0ae0dbe0ce4cbeb57c00?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Richardson", "link": "https://stackoverflow.com/users/6338762/kyle-richardson"}, "reply_to_user": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "edited": false, "score": 0, "creation_date": 1510180765, "post_id": 47190801, "comment_id": 81331252, "body": "@Kinduser I was only trying to help him, if you look at comments I told him to accept your answer, because this is your answer plus helping him include false and 0 values. Not trying to take credit :)"}, {"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "edited": false, "score": 0, "creation_date": 1510180931, "post_id": 47190801, "comment_id": 81331314, "body": "Sure, it&#39;s fine :P"}], "tags": [], "owner": {"reputation": 4933, "user_id": 6338762, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/52b2972a524d0ae0dbe0ce4cbeb57c00?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Richardson", "link": "https://stackoverflow.com/users/6338762/kyle-richardson"}, "is_accepted": false, "score": 1, "last_activity_date": 1510180175, "creation_date": 1510180175, "answer_id": 47190801, "question_id": 47189202, "link": "https://stackoverflow.com/questions/47189202/how-to-get-an-object-without-undefined-values/47190801#47190801", "title": "How to get an object without undefined values?", "body": "<p>This will do what you want for a one level deep object. It returns false, and 0 values and removes undefined and null.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const o = {\r\n  a: 1,\r\n  b: undefined,\r\n  c: 2345,\r\n  d: null,\r\n  e: 0,\r\n  f: false,\r\n  g: {},\r\n  h: []\r\n};\r\n\r\nconst r = Object.keys(o)\r\n  .filter((v) =&gt; {\r\n    return o[v] === false || o[v] === 0 || o[v];\r\n  })\r\n  .reduce((s, a) =&gt; ({\r\n    ...s,\r\n    [a]: o[a],\r\n  }),\r\n{});\r\n\r\nconsole.log(r);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 8483, "user_id": 6108211, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bZBT3.png?s=128&g=1", "display_name": "Dmitry Grinko", "link": "https://stackoverflow.com/users/6108211/dmitry-grinko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 47189935, "answer_count": 4, "score": -2, "last_activity_date": 1510180175, "creation_date": 1510173466, "last_edit_date": 1510176076, "question_id": 47189202, "link": "https://stackoverflow.com/questions/47189202/how-to-get-an-object-without-undefined-values", "title": "How to get an object without undefined values?", "body": "<p>I have an object</p>\n\n<pre><code>let o = {\n    a: 1,\n    b: undefined,\n    c: 2345,\n    d: null\n}\n</code></pre>\n\n<p>How to get an object without null and undefined values?</p>\n\n<pre><code>let o = {\n    a: 1,\n    c: 2345\n}\n</code></pre>\n\n<p>Is this best practice?</p>\n\n<pre><code>Object.keys(o).forEach((key) =&gt; (o[key] == null || o[key] == undefined)\n&amp;&amp; delete o[key]);\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 3189, "user_id": 5550045, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4iZIx.jpg?s=128&g=1", "display_name": "Anastasios Selmani", "link": "https://stackoverflow.com/users/5550045/anastasios-selmani"}, "edited": false, "score": 0, "creation_date": 1510176612, "post_id": 47189199, "comment_id": 81329370, "body": "This post could probably help. <a href=\"https://stackoverflow.com/questions/11144370/using-mousedown-event-on-mobile-without-jquery-mobile\" title=\"using mousedown event on mobile without jquery mobile\">stackoverflow.com/questions/11144370/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 216, "user_id": 4938126, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/91cfaaef853b443b92860f8b0506405c?s=128&d=identicon&r=PG&f=1", "display_name": "stefansixx1", "link": "https://stackoverflow.com/users/4938126/stefansixx1"}, "is_accepted": false, "score": 0, "last_activity_date": 1510173864, "creation_date": 1510173864, "answer_id": 47189339, "question_id": 47189199, "link": "https://stackoverflow.com/questions/47189199/holdable-button-on-js-how-need-rewrite-code-for-correctly-work-on-mobile-device/47189339#47189339", "title": "Holdable button on JS. How need rewrite code for correctly work on mobile devices?", "body": "<p>You need to use touchstart and touchend events to detect a touch on a button on mobile devices. On some devices touchmove might also trigger so you can also check for that.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Touch_events\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Touch_events</a></p>\n"}, {"tags": [], "owner": {"reputation": 810, "user_id": 3476772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b385f14492f1bbe5e98663594931ee5d?s=128&d=identicon&r=PG", "display_name": "Steven Lacks", "link": "https://stackoverflow.com/users/3476772/steven-lacks"}, "is_accepted": true, "score": 0, "last_activity_date": 1510175770, "last_edit_date": 1510175770, "creation_date": 1510174026, "answer_id": 47189387, "question_id": 47189199, "link": "https://stackoverflow.com/questions/47189199/holdable-button-on-js-how-need-rewrite-code-for-correctly-work-on-mobile-device/47189387#47189387", "title": "Holdable button on JS. How need rewrite code for correctly work on mobile devices?", "body": "<p>To do it by actual hold, you'd do something like:</p>\n\n<pre><code>var timeoutContainer;\n\n// this should work with mouse only\n\n$el.on('mousedown', function(ev) {\n    if(ev.type=='click'){\n        timeoutContainer = setInterval(function(){\n        // your stuff.\n        }, timeToHold);\n    }\n}); \n\n$el.on('mouseup', function(ev) {\n    clearInterval(timeoutContainer);\n}); \n\n// or, if you only want to apply it to touch. \n\n$el.on('touchstart', function(ev) {\n    timeoutContainer = setTimeout(function(){\n    // your stuff.\n    }, timeToHold);\n}); \n\n$el.on('touchend', function(ev) {\n    clearTimeout(timeoutContainer);\n}); \n</code></pre>\n\n<p>After looking at your fiddle, it may not be working as expected because of touchcancel. I noticed you have document.mouseup. It might be treating moving finger as a mouse up or something. If you do it explicitly as touch start it may behave differently. You'd need to check for mobile before as above in the mouse down part.</p>\n"}], "owner": {"reputation": 35, "user_id": 8339180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe4976bd819b07d5f7195dede3a5c448?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Mogilevich", "link": "https://stackoverflow.com/users/8339180/dmitry-mogilevich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 47189387, "answer_count": 2, "score": 0, "last_activity_date": 1510175770, "creation_date": 1510173454, "question_id": 47189199, "link": "https://stackoverflow.com/questions/47189199/holdable-button-on-js-how-need-rewrite-code-for-correctly-work-on-mobile-device", "title": "Holdable button on JS. How need rewrite code for correctly work on mobile devices?", "body": "<p>Holdable button works on desktop, but doesn't work on mobile </p>\n\n<pre><code>clicker.mousedown(function(){\n    timeout = setInterval(function(){\n        clicker.text(count++);\n    }, 500);\n\n    return false;\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/8FmRd/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/8FmRd/</a>\nwhat's wrong?</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 4708, "user_id": 5901848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qbaoZ.jpg?s=128&g=1", "display_name": "Sanchit Patiyal", "link": "https://stackoverflow.com/users/5901848/sanchit-patiyal"}, "edited": false, "score": 2, "creation_date": 1510173497, "post_id": 47189180, "comment_id": 81327740, "body": "You have a typo <code>document:getElementById(&quot;test&quot;)</code> should be <code>document.getElementById(&quot;test&quot;)</code>"}, {"owner": {"reputation": 2717, "user_id": 2883184, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/dae17306841de73b2e27aae5359292af?s=128&d=identicon&r=PG&f=1", "display_name": "bamtheboozle", "link": "https://stackoverflow.com/users/2883184/bamtheboozle"}, "edited": false, "score": 0, "creation_date": 1510173514, "post_id": 47189180, "comment_id": 81327755, "body": "It&#39;s <code>document.getElementById</code>, NOT <code>document:getElementById</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1969, "user_id": 5651536, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e841ed95d19835d55d481e2678655df1?s=128&d=identicon&r=PG&f=1", "display_name": "John Ellmore", "link": "https://stackoverflow.com/users/5651536/john-ellmore"}, "is_accepted": true, "score": -2, "last_activity_date": 1510173525, "creation_date": 1510173525, "answer_id": 47189221, "question_id": 47189180, "link": "https://stackoverflow.com/questions/47189180/why-is-the-text-element-not-being-changed-when-i-try-with-a-function/47189221#47189221", "title": "Why is the text element not being changed when I try with a function", "body": "<p>You have a syntax error. Change:</p>\n\n<pre><code>document:getElementById\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>document.getElementById\n</code></pre>\n\n<p>(colon to a period)</p>\n"}, {"tags": [], "owner": {"reputation": 143, "user_id": 5004075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bCzzj.jpg?s=128&g=1", "display_name": "Developer Nodejs", "link": "https://stackoverflow.com/users/5004075/developer-nodejs"}, "is_accepted": false, "score": -1, "last_activity_date": 1510173570, "creation_date": 1510173570, "answer_id": 47189235, "question_id": 47189180, "link": "https://stackoverflow.com/questions/47189180/why-is-the-text-element-not-being-changed-when-i-try-with-a-function/47189235#47189235", "title": "Why is the text element not being changed when I try with a function", "body": "<p>This line:</p>\n\n<pre><code>document:getElementById(\"test\").innerHTML = string + \": Modified\";\n</code></pre>\n\n<p>Should be:</p>\n\n<pre><code>document.getElementById(\"test\").innerHTML = string + \": Modified\";\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8653862, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-43iyjrDM7_g/AAAAAAAAAAI/AAAAAAAAAC0/dsh_EiyZUE0/photo.jpg?sz=128", "display_name": "Andrew", "link": "https://stackoverflow.com/users/8653862/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 47189221, "answer_count": 2, "score": -5, "last_activity_date": 1510820506, "creation_date": 1510173398, "last_edit_date": 1510820506, "question_id": 47189180, "link": "https://stackoverflow.com/questions/47189180/why-is-the-text-element-not-being-changed-when-i-try-with-a-function", "title": "Why is the text element not being changed when I try with a function", "body": "<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;functionTesting&lt;/title&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        &lt;p id = \"test\" &gt;test&lt;/p&gt;\n        &lt;script type = \"text/javascript\" &gt;\n        function change(string){\n            //return string + \": Modified\"\n            document:getElementById(\"test\").innerHTML = string + \": Modified\"\n        }\n        change(\"1234\")\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>the test is never changed to \"1234: Modified. It seems to stay as \"test\" unless I get the element outside the function then change it.</p>\n"}, {"tags": ["javascript", "arrays", "sorting"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1510173436, "post_id": 47189171, "comment_id": 81327708, "body": "Use a debugger to figure out what your code is doing."}], "answers": [{"tags": [], "owner": {"reputation": 238, "user_id": 2659549, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/036dc690de0cb5a745980551d5212775?s=128&d=identicon&r=PG", "display_name": "nicusor", "link": "https://stackoverflow.com/users/2659549/nicusor"}, "is_accepted": false, "score": 0, "last_activity_date": 1510173938, "creation_date": 1510173938, "answer_id": 47189359, "question_id": 47189171, "link": "https://stackoverflow.com/questions/47189171/javascript-pass-array-to-function-in-class/47189359#47189359", "title": "Javascript pass array to function in class", "body": "<p>The following code works yet in order to make it a bubble sort you need 2 loops. With one loop you'll basically just sort the first number.</p>\n\n<pre><code>class sort {\n  constructor(array) {\n    this.array = array;\n  }\n\n  /* Buble soring */\n\n  bubble_sort() {\n    let swapped = false;\n\n    for (let i = 0; i &lt; this.array.length; i++) {\n      if (this.array[i] &gt; this.array[i + 1]) {\n        /* Swapping method */\n        let temp = this.array[i + 1];\n        this.array[i + 1] = this.array[i];\n        this.array[i] = temp;\n      }\n    }\n    return this.array;\n  }\n}\n\nlet d = new sort([5, 4, 3, 2, 1]);\n\nconsole.log(d.bubble_sort());\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 3907947, "user_type": "registered", "profile_image": "https://graph.facebook.com/100008250528807/picture?type=large", "display_name": "Md Razu Ahammed Molla", "link": "https://stackoverflow.com/users/3907947/md-razu-ahammed-molla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 593, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1510173938, "creation_date": 1510173360, "last_edit_date": 1510173481, "question_id": 47189171, "link": "https://stackoverflow.com/questions/47189171/javascript-pass-array-to-function-in-class", "title": "Javascript pass array to function in class", "body": "<p>Please let me know, why my function is not working, </p>\n\n<pre><code>class sort{\n\nconstructor(array){\n\n  this.array=array;\n}\n\n/* Buble soring */\n  bubble_sort(){\n\n      let swapped = false;\n\n\n      for(let i=0; i&lt;this.array.length; i++){\n            if(this.array[i]&gt;this.array[i+1]){\n              /* Swapping method */\n              let temp = this.array[i+1];\n              this.array[i] = this.array[i];\n              this.array[i] = this.array[i+1];\n              this.array[i+1] =temp;\n              return this.array;\n            };\n      };\n\n  };\n};\n\n\nlet d = new sort([5,4,3,2,1]);\n\nconsole.log(d.bubble_sort())\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "sorting", "less"], "comments": [{"owner": {"reputation": 4589, "user_id": 6388243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0AJFc.png?s=128&g=1", "display_name": "Nissa", "link": "https://stackoverflow.com/users/6388243/nissa"}, "edited": false, "score": 1, "creation_date": 1510173463, "post_id": 47189128, "comment_id": 81327721, "body": "Is something stopping you from using the sort function?"}, {"owner": {"reputation": 97, "user_id": 8640304, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c4927277468ac9989ce9906bf8e8945a?s=128&d=identicon&r=PG&f=1", "display_name": "Milan", "link": "https://stackoverflow.com/users/8640304/milan"}, "reply_to_user": {"reputation": 4589, "user_id": 6388243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0AJFc.png?s=128&g=1", "display_name": "Nissa", "link": "https://stackoverflow.com/users/6388243/nissa"}, "edited": false, "score": 0, "creation_date": 1510173615, "post_id": 47189128, "comment_id": 81327808, "body": "Whats this function?"}, {"owner": {"reputation": 4589, "user_id": 6388243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0AJFc.png?s=128&g=1", "display_name": "Nissa", "link": "https://stackoverflow.com/users/6388243/nissa"}, "edited": false, "score": 0, "creation_date": 1510173780, "post_id": 47189128, "comment_id": 81327906, "body": "Okay, I&#39;ll write an answer explaining it."}, {"owner": {"reputation": 4589, "user_id": 6388243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0AJFc.png?s=128&g=1", "display_name": "Nissa", "link": "https://stackoverflow.com/users/6388243/nissa"}, "edited": false, "score": 1, "creation_date": 1510175305, "post_id": 47189128, "comment_id": 81328775, "body": "Actually, never mind. I&#39;ll just <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\" rel=\"nofollow noreferrer\">link to MDN</a> and leave it at that."}, {"owner": {"reputation": 4767, "user_id": 992964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05d73e837359063dfa0684e9e4eccdec?s=128&d=identicon&r=PG", "display_name": "Fred Stark", "link": "https://stackoverflow.com/users/992964/fred-stark"}, "edited": false, "score": 0, "creation_date": 1510530647, "post_id": 47189128, "comment_id": 81461295, "body": "why not use <code>stylint --fix</code>"}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 8640304, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c4927277468ac9989ce9906bf8e8945a?s=128&d=identicon&r=PG&f=1", "display_name": "Milan", "link": "https://stackoverflow.com/users/8640304/milan"}, "edited": false, "score": 0, "creation_date": 1510585070, "post_id": 47255192, "comment_id": 81485089, "body": "I use Eclipse... Do you know a feature in Eclipse for this...?"}, {"owner": {"reputation": 61, "user_id": 5516073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PJW5j.jpg?s=128&g=1", "display_name": "owi", "link": "https://stackoverflow.com/users/5516073/owi"}, "reply_to_user": {"reputation": 97, "user_id": 8640304, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c4927277468ac9989ce9906bf8e8945a?s=128&d=identicon&r=PG&f=1", "display_name": "Milan", "link": "https://stackoverflow.com/users/8640304/milan"}, "edited": false, "score": 0, "creation_date": 1511292976, "post_id": 47255192, "comment_id": 81796878, "body": "I&#39;m not too familiar with Eclipse, but what I&#39;ve found is <a href=\"https://stackoverflow.com/questions/1601793/how-do-i-modify-eclipse-code-formatting\">SO: How do I modify Eclipse Code Formatting</a> and a dedicated <a href=\"https://www.normalesup.org/~simonet/soft/ow/eclipse-less.html\" rel=\"nofollow noreferrer\">Less plugin for Eclipse</a>. That might help you out."}, {"owner": {"reputation": 97, "user_id": 8640304, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c4927277468ac9989ce9906bf8e8945a?s=128&d=identicon&r=PG&f=1", "display_name": "Milan", "link": "https://stackoverflow.com/users/8640304/milan"}, "edited": false, "score": 0, "creation_date": 1511473178, "post_id": 47255192, "comment_id": 81881885, "body": "Thank you very much! Also your Codepen snippet is workin great!"}], "tags": [], "owner": {"reputation": 61, "user_id": 5516073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PJW5j.jpg?s=128&g=1", "display_name": "owi", "link": "https://stackoverflow.com/users/5516073/owi"}, "is_accepted": true, "score": 1, "last_activity_date": 1510529406, "creation_date": 1510529406, "answer_id": 47255192, "question_id": 47189128, "link": "https://stackoverflow.com/questions/47189128/javascript-less-sorter/47255192#47255192", "title": "Javascript Less Sorter", "body": "<p>I took a look at it to see if I could solve this one. Check this out: </p>\n\n<p>Codepen: <a href=\"https://codepen.io/huppys/pen/VrbxLd?editors=1010\" rel=\"nofollow noreferrer\">https://codepen.io/huppys/pen/VrbxLd?editors=1010</a></p>\n\n<p>I replaced the <code>string.includes(\"something\")</code> with some regular expressions to be able to filter even for some different kind of less expressions. </p>\n\n<p>Plus: Properties get sorted. After finding a property the string describing the property gets pushed into an array. Before adding the found properties to the output string they get sorted.</p>\n\n<p>Side note: What IDE or editor are you using for writing your LESS code? Probably it could take care of the syntax sorting itself?</p>\n"}], "owner": {"reputation": 97, "user_id": 8640304, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c4927277468ac9989ce9906bf8e8945a?s=128&d=identicon&r=PG&f=1", "display_name": "Milan", "link": "https://stackoverflow.com/users/8640304/milan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 47255192, "answer_count": 1, "score": -1, "last_activity_date": 1510529406, "creation_date": 1510173239, "last_edit_date": 1592644375, "question_id": 47189128, "link": "https://stackoverflow.com/questions/47189128/javascript-less-sorter", "title": "Javascript Less Sorter", "body": "<h1>Problem:</h1>\n<p>I want to make a Less-sorting script for myself. When i enter Less Code in the textarea and click the button, p#result should output the sorted Less Code.</p>\n<p>The Less Code should be sorted like this:</p>\n<p>{<br />\nMixins(They all start with &quot;.mx&quot;)</p>\n<p>Properties(Sorted in alphabetic Order)<br />\n}</p>\n<h3>Here is what i have got so far:</h3>\n<p>index.html:</p>\n<pre><code>&lt;head&gt;\n    &lt;script src=&quot;jquery.min.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;textarea id=&quot;input&quot; style=&quot;width: 600px; height: 300px; resize: none;&quot;&gt;\n&lt;/textarea&gt;\n&lt;p id=&quot;result&quot; style=&quot;max-width: 600px; word-wrap: break-word;&quot;&gt;&lt;/p&gt;\n&lt;button&gt;Sort&lt;/button&gt;\n&lt;script src=&quot;jquery.sorter.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<br>\n<p>jquery.sorter.js:</p>\n<pre><code>var result = &quot;&quot;,\nmixins = &quot;&quot;,\nproperties = &quot;&quot;;\n\n$(&quot;button&quot;).on(&quot;click&quot;, function () {\n    var textarea = $('#input').val().split('\\n');\n    \n    function checkLine(position) {\n        var index;\n    \n        for (index = position; index &lt; textarea.length; ++index) {\n            var line = textarea[index].trim();\n        \n            if (line.includes(&quot;{&quot;) === true)\n            {\n            \n                result = result + mixins + &quot;&lt;br&gt;&quot; + properties + line + &quot;&lt;br&gt;&quot;;\n                mixins = &quot;&quot;;\n                properties = &quot;&quot;;\n            \n                checkLine(index + 1);\n            \n            } else if (line.includes(&quot;}&quot;) === true)\n            {\n            \n                result = result + mixins + properties + line + &quot;&lt;br&gt;&quot;;\n                mixins = &quot;&quot;;\n                properties = &quot;&quot;;\n                break;\n            \n            } else if (line.includes(&quot;.mx&quot;) === true)\n            {\n            \n                mixins = mixins + line + &quot;&lt;br&gt;&quot;;\n            \n            } else if (line.includes(&quot;:&quot;) === true)\n            {\n            \n                properties = properties + line + &quot;&lt;br&gt;&quot;;\n            \n            } else\n            {\n            \n                result = result + &quot;&lt;br&gt;&quot;;\n            \n            }\n            console.log(index + &quot;: &quot; + mixins + &quot; &quot; + properties);\n        }\n    }\n\n    checkLine(0);\n\n    $(&quot;p#result&quot;).append(result);\n    $(&quot;button&quot;).hide();\n});\n</code></pre>\n<p><strong>If i enter this:</strong></p>\n<pre><code>.frame {\n    color: blue;\n    background-color: white;\n    .mx-hello(white);\n    .framesecond {\n        font-size: 12px;\n        background: green;\n        .mx-test(white);\n    }\n}\n</code></pre>\n<p><strong>I should get al least this output: (I didnt think of a sorting mechanism yet... :D)</strong></p>\n<pre><code>.frame {\n    .mx-hello(white);\n\n    color: blue;\n    background-color: white;\n    .framesecond {\n        .mx-test(white);\n        \n        font-size: 12px;\n        background: green;\n    }\n}\n</code></pre>\n<p><strong>But i get this Output:</strong></p>\n<pre><code>.frame {\n.mx-hello(white);\n\ncolor: blue;\nbackground-color: white;\n.framesecond {\n.mx-test(white);\nfont-size: 12px;\nbackground: green;\n}\n.mx-test(white);\nfont-size: 12px;\nbackground: green;\n}\n.mx-hello(white);\n\ncolor: blue;\nbackground-color: white;\n.framesecond {\n.mx-test(white);\nfont-size: 12px;\nbackground: green;\n}\n.mx-test(white);\nfont-size: 12px;\nbackground: green;\n}\n</code></pre>\n<h3>Background - Story:</h3>\n<p>I work for a Web-Development Company. My Less Code always looks a bit messy, but we have guidelines how to format our Code. If im done with a Project i always sit there hour for hour just rearranging Less Code. Then i thought to myself: &quot;There must be an easier solution for my problem!&quot;. So i googled and googled and nothing really worked. Then i decided to try it myself and thats why i am here!</p>\n<h1>I hope you understand my Problem, if something is unclear please let me know so i can edit my Question! (Im not so good at javascript, so any help is appreciated! :D)</h1>\n"}, {"tags": ["javascript", "three.js"], "comments": [{"owner": {"reputation": 6277, "user_id": 3889100, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/mhI6k.png?s=128&g=1", "display_name": "TheJim01", "link": "https://stackoverflow.com/users/3889100/thejim01"}, "edited": false, "score": 0, "creation_date": 1510264180, "post_id": 47189117, "comment_id": 81373722, "body": "In Chrome, you can take two heap snapshots and compare them for deltas. It might be worthwhile to perform one dump after your initial forced garbage collection, and another after the second forced garbage collection. You can then filter on &quot;THREE&quot; to see if any THREE-specific objects are hanging out. It&#39;ll be harder to tell if the objects are, say <code>Float32Array</code>s (as used by buffers), especially if the original parent object is gone."}, {"owner": {"reputation": 4933, "user_id": 6338762, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/52b2972a524d0ae0dbe0ce4cbeb57c00?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Richardson", "link": "https://stackoverflow.com/users/6338762/kyle-richardson"}, "reply_to_user": {"reputation": 6277, "user_id": 3889100, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/mhI6k.png?s=128&g=1", "display_name": "TheJim01", "link": "https://stackoverflow.com/users/3889100/thejim01"}, "edited": false, "score": 0, "creation_date": 1510266772, "post_id": 47189117, "comment_id": 81374946, "body": "@TheJim01added an update."}, {"owner": {"reputation": 6277, "user_id": 3889100, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/mhI6k.png?s=128&g=1", "display_name": "TheJim01", "link": "https://stackoverflow.com/users/3889100/thejim01"}, "edited": false, "score": 0, "creation_date": 1510324955, "post_id": 47189117, "comment_id": 81400403, "body": "100kb per model isn&#39;t much, unless you&#39;re loading thousands of models. (I know, as a programmer, you want memory to start at <code>0</code> and return to <code>0</code>, but JavaScript is far from a perfect world). What you&#39;re showing in your screenshot is only the delta of plain JavaScript arrays. If that&#39;s where most of your memory is being swallowed, then you might be out of luck unless you want to check every one to see if it&#39;s something you can handle better to allow those arrays to get garbage collected."}, {"owner": {"reputation": 4933, "user_id": 6338762, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/52b2972a524d0ae0dbe0ce4cbeb57c00?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Richardson", "link": "https://stackoverflow.com/users/6338762/kyle-richardson"}, "reply_to_user": {"reputation": 6277, "user_id": 3889100, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/mhI6k.png?s=128&g=1", "display_name": "TheJim01", "link": "https://stackoverflow.com/users/3889100/thejim01"}, "edited": false, "score": 0, "creation_date": 1510340646, "post_id": 47189117, "comment_id": 81409537, "body": "I was able to solve the problem by coming at the problem from an architectural stand point. Instead of trying to break down the whole three js environment, I leave the environment alone and just add remove and objects and dispose of textures and geometries as needed. The leak had to do with disposing of the renderer and creating a new one. I&#39;m going to leave this question open in case some three js god sees it and can explain to me what I was doing wrong with the renderer, or if it is a three js optimization issue."}, {"owner": {"reputation": 6277, "user_id": 3889100, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/mhI6k.png?s=128&g=1", "display_name": "TheJim01", "link": "https://stackoverflow.com/users/3889100/thejim01"}, "edited": false, "score": 0, "creation_date": 1510348000, "post_id": 47189117, "comment_id": 81412913, "body": "Were you giving it a canvas to use each time, or were you utilizing the <code>renderer.domElement</code> it generates?"}, {"owner": {"reputation": 4933, "user_id": 6338762, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/52b2972a524d0ae0dbe0ce4cbeb57c00?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Richardson", "link": "https://stackoverflow.com/users/6338762/kyle-richardson"}, "reply_to_user": {"reputation": 6277, "user_id": 3889100, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/mhI6k.png?s=128&g=1", "display_name": "TheJim01", "link": "https://stackoverflow.com/users/3889100/thejim01"}, "edited": false, "score": 0, "creation_date": 1510348536, "post_id": 47189117, "comment_id": 81413173, "body": "I was using the renderer.domElement - Oddly THREE was retaining nested references to things in the renderer even after the dispose though. Even with renderer.dispose(), controls.dispose(), and recursive disposal of all textures, texture maps, and geometries in the scene; the renderer still had cached references to textures."}], "owner": {"reputation": 4933, "user_id": 6338762, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/52b2972a524d0ae0dbe0ce4cbeb57c00?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Richardson", "link": "https://stackoverflow.com/users/6338762/kyle-richardson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 485, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1510266756, "creation_date": 1510173193, "last_edit_date": 1510266756, "question_id": 47189117, "link": "https://stackoverflow.com/questions/47189117/three-js-r88-memory-leak", "title": "Three.js r88 - memory leak", "body": "<p>Forward: I've already looked at every three.js memory leak post I can find, and the majority of them are out dated with deprecated functions. Even the newer ones produce no results in this situation.</p>\n\n<p>Client side frameworks: React v15.5.4, ThreeJS r88.</p>\n\n<p>Here is a performance profile of the JS Heap:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FYTpf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FYTpf.png\" alt=\"enter image description here\"></a></p>\n\n<p>Everything is working fine during the render loop. I would expect the blue JS Heap line to be at the bottom after I change components and trigger my cleanup function in the components componentWillUnmount lifecycle method. Unfortunately this is not the case. Where the blue line becomes flat is where the change in components takes place and the cleanup code is executed. Somehow the heap increases???</p>\n\n<p>Here is the code that adds objects to the scene and the cleanup / disposal mechanisms:</p>\n\n<pre><code>/*\n* This is how the models are added to the scene. A listener is added to each object in the scene\n* to invoke Builder.prototype.model._dispose when the remove event is triggered\n*/\n//..\ninit: {\n    // ...\n    _modelInScene: function( modelData ) {\n        const { dimensions, index, model, sectionModelsArray, tableConfig, type } = modelData;\n\n        sectionModelsArray.push( model );\n\n        // size and position model\n        //Builder.model._sizeAndPosition( { model, dimensions, type, index }, tableConfig );\n\n        // add model to scene\n        _threejs.scene.add( model );\n\n        model.addEventListener( \"removed\", Builder.prototype.model._dispose );\n\n        // store type of model on model meshes so that we can get this information during raycasting\n        model.traverse( function ( child ) {\n            child.addEventListener( \"removed\", Builder.prototype.model._dispose );\n\n            if ( child instanceof THREE.Mesh ) {\n                child._modelType = type;\n            }\n        } );\n    },\n    // ...\n},\n//..\n/*\n* This is the function triggered in componentWillUnmount method of the react component that contains\n* the three js scene. In this function I remove all top level children from the scene. This triggers\n* the listeners for the remove event and calls the dispose function which releases geometry, materials,\n* and removes nested objects from scene triggering their remove events etc...\n*/\n//...\ncleanup: function() {\n    // dispose of scene listeners\n    Builder.prototype._removeListeners();\n\n    // TODO - implement cache\n\n    // clear the model cache\n    //Builder.prototype.model._clearCache();\n\n    // clear the texture cache\n    //Builder.prototype.texture._clearCache();\n\n    // remove tableConfig from _threejs object\n    _tableConfig = null;\n\n    // reset tableConfig in redux store\n    _dispatch( removeTable() );\n\n    // remove all children from scene\n    while( _threejs.scene.children.length &gt; 0 ) {\n        _threejs.scene.remove( _threejs.scene.children[ 0 ] );\n    }\n\n    // remove reference to animations in the heightAnimationController\n    if ( _threejs.heightAnimationController ) _threejs.heightAnimationController.dispose();\n\n    // reset _shouldCastRay to false\n    _shouldCastRay = false;\n\n    // dispose of controls listeners\n    _threejs.controls.dispose();\n\n    // dispose of rendering context\n    _threejs.renderer.dispose();\n\n    // reset _threejs object\n    _threejs = {\n        camera: null,\n        controls: null,\n        heightAnimationController: null,\n        lookAt: null,\n        mouseCoords: null,\n        raycaster: null,\n        raycasterTargetModels: [],\n        renderer: null,\n        scene: null,\n        sceneHeight: 0,\n        sceneWidth: 0,\n        tableConfig: null\n    };\n\n    // cancel requestAnimationFrame from Builder.prototype._animate3js\n    cancelAnimationFrame( _animationFrameId );\n},\n//...\n\n/*\n* Dispose function invoked by remove listeners\n*/\n//...\nmodel: {\n    //..\n    _dispose: function() {\n        const target = arguments[ 0 ].target;\n\n        if ( target instanceof THREE.Mesh ) {\n            if ( target.geometry ) {\n                target.geometry.dispose();\n            }\n\n            if ( target.material ) {\n                if ( target.material.bumpMap ) target.material.bumpMap.dispose();\n                if ( target.material.envMap ) target.material.envMap.dispose();\n                if ( target.material.lightMap ) target.material.lightMap.dispose();\n                if ( target.material.map ) target.material.map.dispose();\n                if ( target.material.normalMap ) target.material.normalMap.dispose();\n                if ( target.material.specularMap ) target.material.specularMap.dispose();\n\n                target.material.dispose();\n            }\n        } else {\n            while ( target.children.length &gt; 0 ) {\n                target.remove( target.children[ 0 ] );\n            }\n        }\n    },\n    //..\n},\n//..\n</code></pre>\n\n<p>During cleanup I dispose of OrbitControls, WebGLRenderingContext, all Textures, and Geometries, and remove all references to anything three.js related.</p>\n\n<p>Also, the react component that I'm changing to is just an empty div element. There is nothing in this stateless component that would explain the jump in the heap.</p>\n\n<p>I've spent many hours looking through the three.js source, on stackoverflow, and on other sites trying to figure this one out. Any assistance would be greatly appreciated!</p>\n\n<p>EDIT: The \"models\" that get added to the scene are instances of <code>THREE.Scene</code> and contain Object3D containers with Meshes in them. They are exported from blender and loaded via <code>THREE.ObjectLoader</code>. Just in case that is pertinent.</p>\n\n<p>EDIT #2: After more research on finding and fixing memory leaks I have a better timeline to display. This has a forced garbage collection at the beginning and the heap is at 13,522,544. The large spike is the initialization of the three js scene and the loading of the models. That part is expected. After leaving the three js portion of the app, running the disposal code, and then forcing another garbage collection. After the second garbage collection I would expect the heap to be the same as at the beginning. I am in the same place int he app and all of three js should have been cleaned up, but the heap is now 14,830,808; an increase of 1,308,264.</p>\n\n<p>Here is the timeline:</p>\n\n<p><a href=\"https://i.stack.imgur.com/QoUld.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QoUld.png\" alt=\"enter image description here\"></a></p>\n\n<p>I can provide any requested information, currently spinning wheels :(</p>\n\n<p>EDIT #3:</p>\n\n<p>I've reduced the leak to approximately 100kb per initialization and deconstruction of models. Unfortunately the comparison between snapshots is in my mind, rather vague. (I am new to fixing leaks though!)</p>\n\n<p><a href=\"https://i.stack.imgur.com/JdpSM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JdpSM.png\" alt=\"enter image description here\"></a></p>\n\n<p>It looks like everything makes it way back to THREE or webpackJsonp. Any advice on this? I think this might be something I just have to live with if I want to use the libraries.</p>\n"}, {"tags": ["javascript", "logarithm"], "comments": [{"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 1, "creation_date": 1510173252, "post_id": 47189078, "comment_id": 81327604, "body": "Is that the only contingency you need? If it&#39;s equal to 1 leave it as 1?"}, {"owner": {"reputation": 3791, "user_id": 472317, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/aa192f0ab032bec6af9047f05e6be867?s=128&d=identicon&r=PG&f=1", "display_name": "cdarwin", "link": "https://stackoverflow.com/users/472317/cdarwin"}, "reply_to_user": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1510173352, "post_id": 47189078, "comment_id": 81327658, "body": "I only need this, but one should be scaled as well"}, {"owner": {"reputation": 3791, "user_id": 472317, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/aa192f0ab032bec6af9047f05e6be867?s=128&d=identicon&r=PG&f=1", "display_name": "cdarwin", "link": "https://stackoverflow.com/users/472317/cdarwin"}, "reply_to_user": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1510180577, "post_id": 47189078, "comment_id": 81331185, "body": "I&#39;d like to clarify that I don&#39;t want to leave one... one, but I want to scale it too"}], "answers": [{"comments": [{"owner": {"reputation": 3791, "user_id": 472317, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/aa192f0ab032bec6af9047f05e6be867?s=128&d=identicon&r=PG&f=1", "display_name": "cdarwin", "link": "https://stackoverflow.com/users/472317/cdarwin"}, "edited": false, "score": 0, "creation_date": 1510177160, "post_id": 47189476, "comment_id": 81329630, "body": "this leaves one... one, but I have in mind that it should be scaled as well to something like maxLineLength / Math.log(max)"}, {"owner": {"reputation": 3791, "user_id": 472317, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/aa192f0ab032bec6af9047f05e6be867?s=128&d=identicon&r=PG&f=1", "display_name": "cdarwin", "link": "https://stackoverflow.com/users/472317/cdarwin"}, "edited": false, "score": 0, "creation_date": 1510245363, "post_id": 47189476, "comment_id": 81363032, "body": "I&#39;m still thinking about one, however if you map an event like 0.1 it becomes a negative number (-38) , while I need it to be mapped to a small but positive number."}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 3791, "user_id": 472317, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/aa192f0ab032bec6af9047f05e6be867?s=128&d=identicon&r=PG&f=1", "display_name": "cdarwin", "link": "https://stackoverflow.com/users/472317/cdarwin"}, "edited": false, "score": 0, "creation_date": 1510245449, "post_id": 47189476, "comment_id": 81363085, "body": "please add some example data and the wanted outcome."}, {"owner": {"reputation": 3791, "user_id": 472317, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/aa192f0ab032bec6af9047f05e6be867?s=128&d=identicon&r=PG&f=1", "display_name": "cdarwin", "link": "https://stackoverflow.com/users/472317/cdarwin"}, "edited": false, "score": 0, "creation_date": 1510245749, "post_id": 47189476, "comment_id": 81363324, "body": "I edited my question, specifing positive numbers should remain positive. Maybe an horizontal translation is needed"}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 0, "last_activity_date": 1510249219, "last_edit_date": 1510249219, "creation_date": 1510174319, "answer_id": 47189476, "question_id": 47189078, "link": "https://stackoverflow.com/questions/47189078/calculating-the-length-of-a-segment-in-a-logarithmic-scale/47189476#47189476", "title": "Calculating the length of a segment in a logarithmic scale", "body": "<p>You could decrement <code>maxLineLength</code> and add one at the end of the calculation.</p>\n\n<p>For values smaller than one, you could use a factor which normalizes all values relative to the first value. The start value is always one, or in terms of logaritmic view, zero.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var maxLineLength = 20,\r\n    lineLen = function(max) {\r\n        return function (x) {\r\n            return (maxLineLength - 1) * Math.log(x) / Math.log(max) + 1;\r\n        };\r\n    },\r\n    events = [0.1, 1, 5, 20, 50],\r\n    normalized = events.map((v, _, a) =&gt; v / a[0]),\r\n    max = Math.max.apply(null, normalized),\r\n    result = normalized.map(lineLen(max));\r\n\r\nconsole.log(result);\r\nconsole.log(normalized);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 7910, "user_id": 4510033, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/5n5GO.jpg?s=128&g=1", "display_name": "\u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0438\u043d \u0412\u0430\u043d", "link": "https://stackoverflow.com/users/4510033/%d0%9a%d0%be%d0%bd%d1%81%d1%82%d0%b0%d0%bd%d1%82%d0%b8%d0%bd-%d0%92%d0%b0%d0%bd"}, "edited": false, "score": 0, "creation_date": 1510348803, "post_id": 47231191, "comment_id": 81413293, "body": "Unfortunately, I have no idea how to express this method in a mathematical way."}, {"owner": {"reputation": 3791, "user_id": 472317, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/aa192f0ab032bec6af9047f05e6be867?s=128&d=identicon&r=PG&f=1", "display_name": "cdarwin", "link": "https://stackoverflow.com/users/472317/cdarwin"}, "edited": false, "score": 0, "creation_date": 1510763568, "post_id": 47231191, "comment_id": 81576074, "body": "I think shifting is needed, at least to avoid negative results. But I don&#39;t understand why you shift by Math.E when you calculate the var adjusted, can you explain why?"}, {"owner": {"reputation": 7910, "user_id": 4510033, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/5n5GO.jpg?s=128&g=1", "display_name": "\u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0438\u043d \u0412\u0430\u043d", "link": "https://stackoverflow.com/users/4510033/%d0%9a%d0%be%d0%bd%d1%81%d1%82%d0%b0%d0%bd%d1%82%d0%b8%d0%bd-%d0%92%d0%b0%d0%bd"}, "reply_to_user": {"reputation": 3791, "user_id": 472317, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/aa192f0ab032bec6af9047f05e6be867?s=128&d=identicon&r=PG&f=1", "display_name": "cdarwin", "link": "https://stackoverflow.com/users/472317/cdarwin"}, "edited": false, "score": 0, "creation_date": 1510808780, "post_id": 47231191, "comment_id": 81594821, "body": "@cdarwin By this algorithm, the smaller the logarithmic base you specified is, the more they are <i>adjusted</i> (try <code>0.00000001</code> for the base). You may specify any value for the base. I just thought that <code>Math.E</code> would be great for the example code because it&#39;s one of the <i>beautiful</i> constants, such as \u03c0."}], "tags": [], "owner": {"reputation": 7910, "user_id": 4510033, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/5n5GO.jpg?s=128&g=1", "display_name": "\u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0438\u043d \u0412\u0430\u043d", "link": "https://stackoverflow.com/users/4510033/%d0%9a%d0%be%d0%bd%d1%81%d1%82%d0%b0%d0%bd%d1%82%d0%b8%d0%bd-%d0%92%d0%b0%d0%bd"}, "is_accepted": false, "score": 0, "last_activity_date": 1510808488, "last_edit_date": 1510808488, "creation_date": 1510348288, "answer_id": 47231191, "question_id": 47189078, "link": "https://stackoverflow.com/questions/47189078/calculating-the-length-of-a-segment-in-a-logarithmic-scale/47231191#47231191", "title": "Calculating the length of a segment in a logarithmic scale", "body": "<h1><em>Shorter but not too short; longer but not too long.</em></h1>\n\n<p>Actually I met the same problem years ago, and gave up for this (maybe?).\nI've just read your question here and now, and I think I've just found the solution: <em>shifting</em>.</p>\n\n<pre><code>const log = (base, value) =&gt; (Math.log(value) / Math.log(base));\n\nconst weights = [0, 0.1, 1, 5, 20, 50, 100];\nconst base = Math.E; // Setting\n\nconst shifted = weights.map(x =&gt; x + base);\nconst logged = shifted.map(x =&gt; log(base, x));\nconst unshifted = logged.map(x =&gt; x - 1);\n\nconst total = unshifted.reduce((a, b) =&gt; a + b, 0);\nconst ratio = unshifted.map(x =&gt; x / total);\nconst percents = ratio.map(x =&gt; x * 100);\n\nconsole.log(percents);\n// [\n//   0,\n//   0.35723375538333857,\n//   3.097582209424984,\n//   10.3192042142806,\n//   20.994247877004888,\n//   29.318026542735115,\n//   35.91370540117108\n// ]\n</code></pre>\n\n<hr>\n\n<h2>Visualization</h2>\n\n<p>The smaller the logarithmic base is, the more they are <em>adjusted</em>;\nand vice versa.\nActually I don't know the reason. XD</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\t&lt;head&gt;\r\n\t\t&lt;meta name=\"author\" content=\"K.\"&gt;\r\n\r\n\t\t&lt;title&gt;Shorter but not too short; longer but not too long.&lt;/title&gt;\r\n\r\n\t\t&lt;style&gt;\r\n\t\t\tcanvas\r\n\t\t\t{\r\n\t\t\t\tbackground-color: whitesmoke;\r\n\t\t\t}\r\n\t\t&lt;/style&gt;\r\n\t&lt;/head&gt;\r\n\r\n\t&lt;body&gt;\r\n\t\t&lt;canvas id=\"canvas\" height=\"5\"&gt;&lt;/canvas&gt;\r\n\r\n\t\t&lt;label&gt;Weights: &lt;input id=\"weights\" type=\"text\" value=\"[0, 0.1, 100, 1, 5, 20, 2.718, 50]\"&gt;.&lt;/label&gt;\r\n\t\t&lt;label&gt;Base: &lt;input id=\"base\" type=\"number\" value=\"2.718281828459045\"&gt;.&lt;/label&gt;\r\n\t\t&lt;button id=\"draw\" type=\"button\"&gt;Draw&lt;/button&gt;\r\n\r\n\t\t&lt;script&gt;\r\n\t\t\tconst input = new Proxy({}, {\r\n\t\t\t\tget(_, thing)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn eval(document.getElementById(thing).value);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tconst color = [\"tomato\", \"black\"];\r\n\t\t\tconst canvas_element = document.getElementById(\"canvas\");\r\n\t\t\tconst canvas_context = canvas_element.getContext(\"2d\");\r\n\t\t\tcanvas_element.width = document.body.clientWidth;\r\n\r\n\t\t\tdocument.getElementById(\"draw\").addEventListener(\"click\", _ =&gt; {\r\n\t\t\t\tconst log = (base, value) =&gt; (Math.log(value) / Math.log(base));\r\n\r\n\t\t\t\tconst weights = input.weights;\r\n\t\t\t\tconst base = input.base;\r\n\r\n\t\t\t\tconst orig_total = weights.reduce((a, b) =&gt; a + b, 0);\r\n\t\t\t\tconst orig_percents = weights.map(x =&gt; x / orig_total * 100);\r\n\r\n\t\t\t\tconst adjusted = weights.map(x =&gt; x + base);\r\n\t\t\t\tconst logged = adjusted.map(x =&gt; log(base, x));\r\n\t\t\t\tconst rebased = logged.map(x =&gt; x - 1);\r\n\r\n\t\t\t\tconst total = rebased.reduce((a, b) =&gt; a + b, 0);\r\n\t\t\t\tconst ratio = rebased.map(x =&gt; x / total);\r\n\t\t\t\tconst percents = ratio.map(x =&gt; x * 100);\r\n\t\t\t\tconst result = percents.map((percent, index) =&gt; `${weights[index]} | ${orig_percents[index]}% --&gt; ${percent}% (${color[index &amp; 1]})`);\r\n\t\t\t\tconsole.info(result);\r\n\r\n\t\t\t\tlet position = 0;\r\n\t\t\t\tratio.forEach((rate, index) =&gt; {\r\n\t\t\t\t\tcanvas_context.beginPath();\r\n\t\t\t\t\tcanvas_context.moveTo(position, 0);\r\n\t\t\t\t\tposition += (canvas_element.width * rate);\r\n\t\t\t\t\tcanvas_context.lineTo(position, 0);\r\n\t\t\t\t\tcanvas_context.lineWidth = 10;\r\n\t\t\t\t\tcanvas_context.strokeStyle = color[index &amp; 1];\r\n\t\t\t\t\tcanvas_context.stroke();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t&lt;/script&gt;\r\n\t&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "is_accepted": false, "score": 2, "last_activity_date": 1510352648, "last_edit_date": 1510352648, "creation_date": 1510348367, "answer_id": 47231206, "question_id": 47189078, "link": "https://stackoverflow.com/questions/47189078/calculating-the-length-of-a-segment-in-a-logarithmic-scale/47231206#47231206", "title": "Calculating the length of a segment in a logarithmic scale", "body": "<p>You can use an expression like <code>Math.pow(x, 0.35)</code> instead of <code>Math.log(x)</code>. It keeps all values positive, and gives the behavior that you want for small ratios. You can experiment with different exponent values in the range (0,1) to find the one that fits your needs.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var maxLineLength = 20;\r\nvar exponent = 0.35;\r\nvar lineLen = function(x, max) {\r\n   return maxLineLength * Math.pow(x/max, exponent);\r\n}\r\nvar events = [0, 0.01, 0.1, 1, 5, 20, 50];\r\nvar max = Math.max.apply(null, events);\r\nevents.map(function (x) {\r\n    console.log(lineLen(x, max));\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 3791, "user_id": 472317, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/aa192f0ab032bec6af9047f05e6be867?s=128&d=identicon&r=PG&f=1", "display_name": "cdarwin", "link": "https://stackoverflow.com/users/472317/cdarwin"}, "edited": false, "score": 0, "creation_date": 1510603448, "post_id": 47269831, "comment_id": 81496174, "body": "the idea of using log(x+1) is an interesting one, but I don&#39;t fully understand why are you multiplying by (max+min)/(max-min). I&#39;d also like to have lineLen equals to maxLineLength for the element equal to the max."}, {"owner": {"reputation": 3857, "user_id": 4110233, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/L0Fpf.jpg?s=128&g=1", "display_name": "TheChetan", "link": "https://stackoverflow.com/users/4110233/thechetan"}, "reply_to_user": {"reputation": 3791, "user_id": 472317, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/aa192f0ab032bec6af9047f05e6be867?s=128&d=identicon&r=PG&f=1", "display_name": "cdarwin", "link": "https://stackoverflow.com/users/472317/cdarwin"}, "edited": false, "score": 0, "creation_date": 1510628704, "post_id": 47269831, "comment_id": 81504992, "body": "It&#39;s just a scaling factor. You can choose to omit it. But it helps when max and min are closer together. And if they are far apart, then it does nothing. It scales the difference between the closer terms when the values are close to each other. Try the example for <code>[1,2,3,4]</code>"}, {"owner": {"reputation": 3857, "user_id": 4110233, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/L0Fpf.jpg?s=128&g=1", "display_name": "TheChetan", "link": "https://stackoverflow.com/users/4110233/thechetan"}, "reply_to_user": {"reputation": 3791, "user_id": 472317, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/aa192f0ab032bec6af9047f05e6be867?s=128&d=identicon&r=PG&f=1", "display_name": "cdarwin", "link": "https://stackoverflow.com/users/472317/cdarwin"}, "edited": false, "score": 0, "creation_date": 1510765152, "post_id": 47269831, "comment_id": 81577193, "body": "@cdarwin, edited the answer to suit your requirements. Which is just <code>x+1</code> instead of <code>x</code> and <code>max+1</code> instead of <code>max</code>."}], "tags": [], "owner": {"reputation": 3857, "user_id": 4110233, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/L0Fpf.jpg?s=128&g=1", "display_name": "TheChetan", "link": "https://stackoverflow.com/users/4110233/thechetan"}, "is_accepted": true, "score": 2, "last_activity_date": 1510950335, "last_edit_date": 1510950335, "creation_date": 1510593010, "answer_id": 47269831, "question_id": 47189078, "link": "https://stackoverflow.com/questions/47189078/calculating-the-length-of-a-segment-in-a-logarithmic-scale/47269831#47269831", "title": "Calculating the length of a segment in a logarithmic scale", "body": "<p>You can take <code>log(x+1)</code> instead of <code>log(x)</code>, that doesn't change the value too much and the ratios are maintained for smaller numbers.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var maxLineLength = 20;\r\nvar lineLen = (x, max) =&gt; maxLineLength * Math.log(x+1)/Math.log(max+1);\r\nvar events = [ 0.1, 1, 5, 20, 50];\r\nvar visualizer = function(events){\r\n    var max = Math.max.apply(null, events);\r\n    return events.reduce((y, x) =&gt; {\r\n         y.push(lineLen(x, max));\r\n         return y;\r\n    }, []);\r\n};\r\n\r\nconsole.log(visualizer(events));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 3284, "user_id": 3518108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZuQVh.jpg?s=128&g=1", "display_name": "Sam H.", "link": "https://stackoverflow.com/users/3518108/sam-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1510662431, "creation_date": 1510662431, "answer_id": 47285900, "question_id": 47189078, "link": "https://stackoverflow.com/questions/47189078/calculating-the-length-of-a-segment-in-a-logarithmic-scale/47285900#47285900", "title": "Calculating the length of a segment in a logarithmic scale", "body": "<p>You are scaling these numbers. Your starting set is the domain, what you end up with is the range. The shape of that transformation, it sounds like, will be either log or follow a power. </p>\n\n<p>It turns out this is a very common problem in many fields, especially data visualization. That is why D3.js - THE data visualization tool - has <a href=\"https://github.com/d3/d3-scale/blob/master/README.md#continuous-scales\" rel=\"nofollow noreferrer\">everything you need</a> to do this easily. </p>\n\n<pre><code> const x = d3.scale.log().range([0, events]);\n</code></pre>\n\n<p>It's the right to for the job. And if you need to do some graphs, you're all set!</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 8910882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69da02a758e586a64f68a9f4818e0455?s=128&d=identicon&r=PG&f=1", "display_name": "lemarc", "link": "https://stackoverflow.com/users/8910882/lemarc"}, "is_accepted": false, "score": 0, "last_activity_date": 1510831325, "creation_date": 1510831325, "answer_id": 47328394, "question_id": 47189078, "link": "https://stackoverflow.com/questions/47189078/calculating-the-length-of-a-segment-in-a-logarithmic-scale/47328394#47328394", "title": "Calculating the length of a segment in a logarithmic scale", "body": "<p>As long as your events are > 0 you can avoid shifting by scaling the events so the minimum value is above 1. The scalar can be calculated based on a minimum line length in addition to the maximum line length you already have.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// generates an array of line lengths between minLineLength and maxLineLength\r\n// assumes events contains only values &gt; 0 and 0 &lt; minLineLength &lt; maxLineLength\r\nfunction generateLineLengths(events, minLineLength, maxLineLength) {\r\n  var min = Math.min.apply(null, events);\r\n  var max = Math.max.apply(null, events);\r\n\r\n  //calculate scalar that sets line length for the minimum value in events to minLineLength\r\n  var mmr = minLineLength / maxLineLength;\r\n  var scalar = Math.pow(Math.pow(max, mmr) / min, 1 / (1 - mmr));\r\n\r\n  function lineLength(x) {\r\n    return maxLineLength * (Math.log(x * scalar) / Math.log(max * scalar));\r\n  }\r\n\r\n  return events.map(lineLength)\r\n}\r\n\r\nvar events = [0.1, 1, 5, 20, 50];\r\n\r\nconsole.log('Between 1 and 20')\r\ngenerateLineLengths(events, 1, 20).forEach(function(x) {\r\n  console.log(x)\r\n})\r\n// 1\r\n// 8.039722549519123\r\n// 12.960277450480875\r\n// 17.19861274759562\r\n// 20\r\n\r\nconsole.log('Between 5 and 25')\r\ngenerateLineLengths(events, 5, 25).forEach(function(x) {\r\n  console.log(x)\r\n})\r\n// 5\r\n// 12.410234262651711\r\n// 17.58976573734829\r\n// 22.05117131325855\r\n// 25</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3791, "user_id": 472317, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/aa192f0ab032bec6af9047f05e6be867?s=128&d=identicon&r=PG&f=1", "display_name": "cdarwin", "link": "https://stackoverflow.com/users/472317/cdarwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 899, "favorite_count": 4, "accepted_answer_id": 47269831, "answer_count": 6, "score": 20, "last_activity_date": 1510950335, "creation_date": 1510173051, "last_edit_date": 1510245653, "question_id": 47189078, "link": "https://stackoverflow.com/questions/47189078/calculating-the-length-of-a-segment-in-a-logarithmic-scale", "title": "Calculating the length of a segment in a logarithmic scale", "body": "<p>I want to calculate the length of a line for a series of events.</p>\n\n<p>I'm doing this with the following code.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var maxLineLength = 20;\r\nvar lineLen = function(x, max) {\r\n    return maxLineLength * (x / max);\r\n}\r\nvar events = [0.1, 1, 5, 20, 50];\r\nvar max = Math.max.apply(null, events);\r\nevents.map(function (x) {\r\n    console.log(lineLen(x, max));\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This works, but I'm using linear scaling, while I'd like to use logarithms, because I don't want small events to become too small numbers when big ones are present. </p>\n\n<p>I modified the lineLen function as you can see below, but - obviously - it doesn't work for events equals to one, because the log of one is zero. I want to show events equals to one (opportunely scaled) and not make them become zero. I also need positive numbers to remain positive (0.1 becomes a negative number)</p>\n\n<p>How should I modify lineLen to use a logarithmic scale?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var maxLineLength = 20;\r\nvar lineLen = function(x, max) {\r\n   return maxLineLength * (Math.log(x) / Math.log(max));\r\n}\r\nvar events = [0.1, 1, 5, 20, 50];\r\nvar max = Math.max.apply(null, events);\r\nevents.map(function (x) {\r\n    console.log(lineLen(x, max));\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs", "webpack"], "comments": [{"owner": {"reputation": 4018, "user_id": 2357848, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/m1gIn.jpg?s=128&g=1", "display_name": "Emad Emami", "link": "https://stackoverflow.com/users/2357848/emad-emami"}, "edited": false, "score": 1, "creation_date": 1510173313, "post_id": 47189072, "comment_id": 81327636, "body": "you need file-loader or url-loader for parsing images. also require your image above of your class ReadOnlyTableRow ."}, {"owner": {"reputation": 1137, "user_id": 535867, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b72c97535b4898635f5fa9b863924fb6?s=128&d=identicon&r=PG", "display_name": "tatmanblue", "link": "https://stackoverflow.com/users/535867/tatmanblue"}, "reply_to_user": {"reputation": 4018, "user_id": 2357848, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/m1gIn.jpg?s=128&g=1", "display_name": "Emad Emami", "link": "https://stackoverflow.com/users/2357848/emad-emami"}, "edited": false, "score": 0, "creation_date": 1510173511, "post_id": 47189072, "comment_id": 81327752, "body": "and what loader is that?  Ive tried one and didnt resolve anything. this is one I used:      {       test: /\\.(png|jpg)$/,       loader: &#39;url?limit=25000&#39;     }"}, {"owner": {"reputation": 4018, "user_id": 2357848, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/m1gIn.jpg?s=128&g=1", "display_name": "Emad Emami", "link": "https://stackoverflow.com/users/2357848/emad-emami"}, "edited": false, "score": 0, "creation_date": 1510173912, "post_id": 47189072, "comment_id": 81327977, "body": "<code>loader: &#39;url?limit=25000&#39;</code>... what is your image loader?! what about using this : <a href=\"https://github.com/webpack-contrib/file-loader\" rel=\"nofollow noreferrer\">github.com/webpack-contrib/file-loader</a>"}, {"owner": {"reputation": 1137, "user_id": 535867, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b72c97535b4898635f5fa9b863924fb6?s=128&d=identicon&r=PG", "display_name": "tatmanblue", "link": "https://stackoverflow.com/users/535867/tatmanblue"}, "reply_to_user": {"reputation": 4018, "user_id": 2357848, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/m1gIn.jpg?s=128&g=1", "display_name": "Emad Emami", "link": "https://stackoverflow.com/users/2357848/emad-emami"}, "edited": false, "score": 0, "creation_date": 1510174293, "post_id": 47189072, "comment_id": 81328194, "body": "same error as the first error.   Could the problem be that the image is in a folder that is at the same level the component?  I&#39;ve added more notes above"}, {"owner": {"reputation": 4018, "user_id": 2357848, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/m1gIn.jpg?s=128&g=1", "display_name": "Emad Emami", "link": "https://stackoverflow.com/users/2357848/emad-emami"}, "edited": false, "score": 0, "creation_date": 1510174448, "post_id": 47189072, "comment_id": 81328277, "body": "no, I don&#39;t think so..what is your devDependencies in package.json?"}, {"owner": {"reputation": 1137, "user_id": 535867, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b72c97535b4898635f5fa9b863924fb6?s=128&d=identicon&r=PG", "display_name": "tatmanblue", "link": "https://stackoverflow.com/users/535867/tatmanblue"}, "reply_to_user": {"reputation": 4018, "user_id": 2357848, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/m1gIn.jpg?s=128&g=1", "display_name": "Emad Emami", "link": "https://stackoverflow.com/users/2357848/emad-emami"}, "edited": false, "score": 0, "creation_date": 1510174767, "post_id": 47189072, "comment_id": 81328469, "body": "its posted above.    &quot;devDependencies&quot;: {     &quot;file-loader&quot;: &quot;^1.1.5&quot;   }"}, {"owner": {"reputation": 4018, "user_id": 2357848, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/m1gIn.jpg?s=128&g=1", "display_name": "Emad Emami", "link": "https://stackoverflow.com/users/2357848/emad-emami"}, "reply_to_user": {"reputation": 1137, "user_id": 535867, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b72c97535b4898635f5fa9b863924fb6?s=128&d=identicon&r=PG", "display_name": "tatmanblue", "link": "https://stackoverflow.com/users/535867/tatmanblue"}, "edited": false, "score": 0, "creation_date": 1510174869, "post_id": 47189072, "comment_id": 81328538, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/158548/discussion-between-emad-emami-and-tatmanblue\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1137, "user_id": 535867, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b72c97535b4898635f5fa9b863924fb6?s=128&d=identicon&r=PG", "display_name": "tatmanblue", "link": "https://stackoverflow.com/users/535867/tatmanblue"}, "is_accepted": true, "score": 1, "last_activity_date": 1513186169, "last_edit_date": 1513186169, "creation_date": 1510260845, "answer_id": 47211348, "question_id": 47189072, "link": "https://stackoverflow.com/questions/47189072/webpack-compile-error-on-requireimagepath/47211348#47211348", "title": "webpack compile error on require(imagePath)", "body": "<p>To solve this problem, I used file-loader, per @Emad suggestion in the comments above. Additionally, I needed to use a different web.config which is different than the directions provided for file-loader.  The web.config changes are as follows.</p>\n\n<pre><code>module.exports = {\n  entry: './src/app.js',\n  output: {\n    path: __dirname,\n    filename: 'bundle.js'\n  },\n  module: {   \n    loaders: [     \n      {\n        test: /\\.jsx?$/,\n        exclude: /node_modules/,\n        loader: 'babel-loader',\n        query: { presets: [ 'es2015', 'react' ] }\n      },\n      {\n        test: /\\.(png|jpg|gif)$/,\n        loader: 'file-loader',\n        exclude: /node_modules/,\n        options: {}\n      }        \n    ]     \n  }\n};\n</code></pre>\n\n<p>I changed my javascript code to pull in the image via the import statement: </p>\n\n<pre><code>import reloadImage from './../assets/reload-sm.png';\n</code></pre>\n\n<p>Thnx\nMatt</p>\n"}], "owner": {"reputation": 1137, "user_id": 535867, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b72c97535b4898635f5fa9b863924fb6?s=128&d=identicon&r=PG", "display_name": "tatmanblue", "link": "https://stackoverflow.com/users/535867/tatmanblue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 47211348, "answer_count": 1, "score": 0, "last_activity_date": 1513186169, "creation_date": 1510173031, "last_edit_date": 1510174738, "question_id": 47189072, "link": "https://stackoverflow.com/questions/47189072/webpack-compile-error-on-requireimagepath", "title": "webpack compile error on require(imagePath)", "body": "<p>I'm trying to dymaically load an image in ReactJS.  So far, what I've found on the internet has not worked.</p>\n\n<p>My react component looks like this:</p>\n\n<pre><code>class ReadOnlyTableRow extends React.Component {\n    render() {\n        let optionImage = require('../assets/option.jpg');\n        return (\n            &lt;tr&gt;\n                &lt;td&gt;\n                &lt;img src={optionImage} /&gt;\n                    {this.props.data.type}\n                &lt;/td&gt;\n                &lt;td&gt;{this.props.data.symbol}&lt;/td&gt;\n            &lt;/tr&gt; \n        );\n    }\n}\n</code></pre>\n\n<p>and the webpack error I get is this:</p>\n\n<blockquote>\n  <p>ERROR in ./src/assets/option.jpg Module parse failed:\n  C:\\Java\\src\\options\\web\\src\\assets\\option.jpg Unexpected character '?'\n  (1:0) You may need an appropriate loader to handle this file type.\n  SyntaxError: Unexpected character '?' (1:0)</p>\n</blockquote>\n\n<p>I tried adding a loader to my webpack, but that gave different errors.  So I removed it from my webconfig file.</p>\n\n<p>and my webpack.config file</p>\n\n<pre><code>module.exports = {\n  entry: './src/app.js',\n  output: {\n    path: __dirname,\n    filename: 'bundle.js'\n  },\n  module: {\n    loaders: [\n      {\n        test: /\\.jsx?$/,\n        exclude: /node_modules/,\n        loader: 'babel-loader',\n        query: { presets: [ 'es2015', 'react' ] }\n      }   \n    ]\n  }\n};\n</code></pre>\n\n<p>What am I missing? or doing wrong?\nThnx,\nMatt</p>\n\n<p><strong>Addendum</strong>:\nWhen I include this in my webpack.config</p>\n\n<pre><code>  module: {\n    loaders: [\n      {\n        test: /\\.jsx?$/,\n        exclude: /node_modules/,\n        loader: 'babel-loader',\n        query: { presets: [ 'es2015', 'react' ] }\n      },\n      {\n        test: /\\.(png|jpg)$/,\n        loader: 'url?limit=25000'\n      }         \n    ]\n  }\n</code></pre>\n\n<p>I get another error:</p>\n\n<blockquote>\n  <p>WARNING in Loader\n  C:\\Java\\src\\options\\web\\node_modules\\url\\url.js?limit=25000 didn't\n  return a function</p>\n</blockquote>\n\n<p>The structure of my project is such:\nsrc</p>\n\n<pre><code>|---Components\n     ---ReadOnlyTableRow \n|---assets\n     ---option.jpb\n</code></pre>\n\n<p>here's the package.config file</p>\n\n<pre><code>{\n  \"name\": \"engine\",\n  \"version\": \"1.0.0\",\n  \"description\": \"engine UI written in React\",\n  \"main\": \"index.js\",\n  \"private\": true,\n  \"scripts\": {\n    \"start\": \"webpack-dev-server --progress --inline --port 8112\",\n    \"build\": \"webpack\"\n  },\n  \"keywords\": [],\n  \"author\": \"mpr\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"babel-core\": \"^6.17.0\",\n    \"babel-loader\": \"^6.2.4\",\n    \"babel-preset-es2015\": \"^6.6.0\",\n    \"babel-preset-react\": \"^6.5.0\",\n    \"moment\": \"^2.18.1\",\n    \"react\": \"^0.14.6\",\n    \"react-bootstrap\": \"^0.30.5\",\n    \"react-currency-input\": \"^1.2.6\",\n    \"react-date-picker\": \"^5.3.28\",\n    \"react-dom\": \"^0.14.6\",\n    \"webpack\": \"^1.13.0\",\n    \"webpack-dev-server\": \"^1.16.2\"\n  },\n  \"devDependencies\": {\n    \"file-loader\": \"^1.1.5\"\n  }\n}\n</code></pre>\n\n<p>Thnx, Matt</p>\n"}, {"tags": ["javascript", "html", "email"], "comments": [{"owner": {"reputation": 3484, "user_id": 1343684, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aMizb.jpg?s=128&g=1", "display_name": "Rudresha Parameshappa", "link": "https://stackoverflow.com/users/1343684/rudresha-parameshappa"}, "edited": false, "score": 0, "creation_date": 1510173248, "post_id": 47189067, "comment_id": 81327601, "body": "You need to setup SMTP server or use Googles service with your account as the sender."}, {"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 3484, "user_id": 1343684, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aMizb.jpg?s=128&g=1", "display_name": "Rudresha Parameshappa", "link": "https://stackoverflow.com/users/1343684/rudresha-parameshappa"}, "edited": false, "score": 0, "creation_date": 1510173416, "post_id": 47189067, "comment_id": 81327694, "body": "@RudreshaParameshappa \u2014 More importantly, you need some intermediate software to connect your form to the SMTP server. HTML doesn&#39;t provide a way to do it."}, {"owner": {"reputation": 3484, "user_id": 1343684, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aMizb.jpg?s=128&g=1", "display_name": "Rudresha Parameshappa", "link": "https://stackoverflow.com/users/1343684/rudresha-parameshappa"}, "reply_to_user": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1510173476, "post_id": 47189067, "comment_id": 81327727, "body": "@Quentin yes my bad I forgot to mention that"}], "answers": [{"comments": [{"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1510173848, "post_id": 47189156, "comment_id": 81327944, "body": "I&#39;d note that <code>mailto:</code> requires an email client installed or some kind of <a href=\"https://developer.mozilla.org/en-US/docs/Web-based_protocol_handlers\" rel=\"nofollow noreferrer\">Web-based protocol handler</a> needs to be registered in the user agent.  Even then, spotty at best."}, {"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1510173940, "post_id": 47189156, "comment_id": 81327991, "body": "@zero298 \u2014 Not just any email client though. I left the specifics of how it was unreliable to the page behind the link."}], "tags": [], "owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 1, "last_activity_date": 1510173315, "creation_date": 1510173315, "answer_id": 47189156, "question_id": 47189067, "link": "https://stackoverflow.com/questions/47189067/simple-html-form-that-will-send-an-email/47189156#47189156", "title": "Simple HTML form that will send an email?", "body": "<blockquote>\n  <p>Is there an easy way to send an email through an HTML page?</p>\n</blockquote>\n\n<p>Easy? Yes.</p>\n\n<p>The <code>mailto:</code> URL scheme. </p>\n\n<pre><code>&lt;form action='mailto:foo@example.com'\n</code></pre>\n\n<p>However, it is <a href=\"http://isolani.co.uk/articles/mailto.html\" rel=\"nofollow noreferrer\">highly unreliable</a>, to the point where it is not sensible to use it on the open web and usually more effort then it is worth to ensure that all clients on an intranet support it.</p>\n\n<blockquote>\n  <p>In asp.net it can easily be done</p>\n</blockquote>\n\n<p>Server-side solutions are the only sensible approach.</p>\n\n<p>Third-party hosted solutions do exist but on an intranet it should be very easy to get the required server-side environment available.</p>\n"}], "owner": {"reputation": 2791, "user_id": 4191466, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5e8319491a3bf6019ad5ebaf8163be55?s=128&d=identicon&r=PG&f=1", "display_name": "fdkgfosfskjdlsjdlkfsf", "link": "https://stackoverflow.com/users/4191466/fdkgfosfskjdlsjdlkfsf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 47189156, "answer_count": 1, "score": -3, "last_activity_date": 1510173315, "creation_date": 1510173020, "question_id": 47189067, "link": "https://stackoverflow.com/questions/47189067/simple-html-form-that-will-send-an-email", "title": "Simple HTML form that will send an email?", "body": "<p>Is there an easy way to send an email through an HTML page? It would be something like <a href=\"https://www.w3schools.com/html/tryit.asp?filename=tryhtml_form_mail\" rel=\"nofollow noreferrer\">this</a>. We're in an intranet, so I don't know if it's possible to setup the SMTP server and password. When I tried the example above, I get the popup window to install Outlook.</p>\n\n<p>I tried using <a href=\"https://stackoverflow.com/questions/7381150/how-to-send-an-email-from-javascript\">How to send an email from JavaScript</a>, but I think I'll have the same limitations as the solution above.</p>\n\n<p>The email will essentially be between two email addresses in the intranet (ie. joe@Company.com -> bob@Company.com).</p>\n\n<p>In asp.net it can easily be done, but I just wanted to create a simple form in the meantime.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "html", "reactjs", "canvas"], "comments": [{"owner": {"reputation": 105, "user_id": 4395589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1163e98db4bee974f65a3e9766a0b58?s=128&d=identicon&r=PG&f=1", "display_name": "kozi", "link": "https://stackoverflow.com/users/4395589/kozi"}, "edited": false, "score": 0, "creation_date": 1510173294, "post_id": 47189065, "comment_id": 81327624, "body": "canvasimage.crossOrigin = &#39;*&#39;; doesn&#39;t help too"}, {"owner": {"reputation": 797, "user_id": 7491889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0687af3db1f5fc96a8bee1d40e0cbeaf?s=128&d=identicon&r=PG&f=1", "display_name": "T Porter", "link": "https://stackoverflow.com/users/7491889/t-porter"}, "edited": false, "score": 0, "creation_date": 1510175107, "post_id": 47189065, "comment_id": 81328667, "body": "Have you tried the other solutions mentioned in the accepted answer <a href=\"https://stackoverflow.com/questions/22710627/tainted-canvases-may-not-be-exported\">here</a>?"}, {"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1510177010, "post_id": 47189065, "comment_id": 81329554, "body": "Are you using <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/drawImage\" rel=\"nofollow noreferrer\"><code>drawImage()</code></a> anywhere?  How are you loading the image that you are providing to <code>drawImage()</code>?  Is it over the <code>file:&#47;&#47;</code> protocol?  Is the image on a different domain?"}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 4395589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1163e98db4bee974f65a3e9766a0b58?s=128&d=identicon&r=PG&f=1", "display_name": "kozi", "link": "https://stackoverflow.com/users/4395589/kozi"}, "edited": false, "score": 0, "creation_date": 1510178855, "post_id": 47190080, "comment_id": 81330428, "body": "thanks for help, btw i dont know why but just window.open return error - with &#39;about:blank&#39; - no error at all :)"}, {"owner": {"reputation": 78, "user_id": 8021864, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d72598257a049a44ddf4cd385ffe9a96?s=128&d=identicon&r=PG&f=1", "display_name": "OsuDani", "link": "https://stackoverflow.com/users/8021864/osudani"}, "reply_to_user": {"reputation": 105, "user_id": 4395589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1163e98db4bee974f65a3e9766a0b58?s=128&d=identicon&r=PG&f=1", "display_name": "kozi", "link": "https://stackoverflow.com/users/4395589/kozi"}, "edited": false, "score": 0, "creation_date": 1510234184, "post_id": 47190080, "comment_id": 81354562, "body": "Glad I could help! :)"}, {"owner": {"reputation": 368, "user_id": 7424232, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a7SzuBMPB-Q/AAAAAAAAAAI/AAAAAAAAAHA/WQ2P3hnHvvQ/photo.jpg?sz=128", "display_name": "Safwat Fathi", "link": "https://stackoverflow.com/users/7424232/safwat-fathi"}, "edited": false, "score": 0, "creation_date": 1612787248, "post_id": 47190080, "comment_id": 116866977, "body": "You should under no circumstances manipulate the DOM. Please refer to this link <a href=\"https://stackoverflow.com/questions/41435734/should-i-manipulate-dom-directly-or-using-react-state-props\" title=\"should i manipulate dom directly or using react state props\">stackoverflow.com/questions/41435734/&hellip;</a>"}], "tags": [], "owner": {"reputation": 78, "user_id": 8021864, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d72598257a049a44ddf4cd385ffe9a96?s=128&d=identicon&r=PG&f=1", "display_name": "OsuDani", "link": "https://stackoverflow.com/users/8021864/osudani"}, "is_accepted": true, "score": 2, "last_activity_date": 1510176901, "creation_date": 1510176901, "answer_id": 47190080, "question_id": 47189065, "link": "https://stackoverflow.com/questions/47189065/cant-save-canvas-to-image-tainted-canvas-react-app/47190080#47190080", "title": "cant save canvas to image - tainted canvas - react app", "body": "<p>I did this for a code challenge not too long ago. Not sure if this is exactly what you need but I hope it helps.</p>\n\n<pre><code>import React, { Component } from \"react\";\n\nclass Save extends Component{\n  saveCanvas() {\n    const canvasSave = document.getElementById('resetCanvas');\n    const d = canvasSave.toDataURL('image/png');\n    const w = window.open('about:blank', 'image from canvas');\n    w.document.write(\"&lt;img src='\"+d+\"' alt='from canvas'/&gt;\");\n    console.log('Saved!');\n  }\n\n  render(){\n    return(\n      &lt;div&gt;\n        &lt;button onClick={ this.saveCanvas }&gt;Save&lt;/button&gt;\n      &lt;/div&gt;\n    )\n  }\n}\n\nexport default Save;\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 4395589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1163e98db4bee974f65a3e9766a0b58?s=128&d=identicon&r=PG&f=1", "display_name": "kozi", "link": "https://stackoverflow.com/users/4395589/kozi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2044, "favorite_count": 0, "accepted_answer_id": 47190080, "answer_count": 1, "score": 2, "last_activity_date": 1510176901, "creation_date": 1510173019, "last_edit_date": 1510176719, "question_id": 47189065, "link": "https://stackoverflow.com/questions/47189065/cant-save-canvas-to-image-tainted-canvas-react-app", "title": "cant save canvas to image - tainted canvas - react app", "body": "<p>After line with <code>canvas.toDataURL()</code> I get an error with </p>\n\n<blockquote>\n  <p>Failed to execute 'toDataURL' on 'HTMLCanvasElement': tainted canvas\n  may no be exported</p>\n</blockquote>\n\n<p>Tried to search solution at my own, with cross origin, but this didn't help me. Is there any possibility to download image created on canvas? I saw examples with <code>toDataURL()</code>, but those unfortunately don't work for me. I will consider other solutions.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>   _handleSaveButton(){\r\n    var canvas = document.getElementById('memesCanvas');\r\n    console.log(canvas);\r\n    \r\n    var canvasimage=document.createElement(\"img\");\r\n    canvasimage.setAttribute('crossOrigin','anonymous');\r\n    canvasimage = canvas.toDataURL('image/png');\r\n    canvasimage.replace(/^data:image\\/[^;]/, 'data:application/octet-stream');\r\n    alert(canvasimage);\r\n  }\r\n \r\n &lt;ReactButton onClick={() =&gt; this._handleSaveButton()} styleName={'generate-meme'} name='generate meme'/&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "c#", "jquery", "asp.net-mvc", "kendo-ui"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 1, "creation_date": 1510173178, "post_id": 47188980, "comment_id": 81327571, "body": "Your method is returning a partial view, so you need to add that partial to the DOM in the success callback - <code>$(someElemeny).html(data)</code> or you need to return just the <code>base64string</code> if the image element already exists in the DOM"}, {"owner": {"reputation": 174, "user_id": 3720760, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lYHho.jpg?s=128&g=1", "display_name": "Krazy Dev", "link": "https://stackoverflow.com/users/3720760/krazy-dev"}, "edited": false, "score": 0, "creation_date": 1510176764, "post_id": 47188980, "comment_id": 81329441, "body": "That did it! Thanks man!"}], "answers": [{"tags": [], "owner": {"reputation": 174, "user_id": 3720760, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lYHho.jpg?s=128&g=1", "display_name": "Krazy Dev", "link": "https://stackoverflow.com/users/3720760/krazy-dev"}, "is_accepted": false, "score": 0, "last_activity_date": 1510178984, "last_edit_date": 1510178984, "creation_date": 1510176808, "answer_id": 47190060, "question_id": 47188980, "link": "https://stackoverflow.com/questions/47188980/mvc-partial-view-not-displaying-image/47190060#47190060", "title": "MVC Partial View Not Displaying Image", "body": "<p>As Stephen have suggested, adding this to my ajax solved the problem!</p>\n\n<pre><code>$.ajax({\n    datatype: \"html\",\n    type: \"GET\",\n    url: '@Url.Action(\"OpenImagePopUp\", \"Help\")',\n    data: { id: item.id },\n    success: function (html) {\n\n        $(\"#ImagePopUp\").html(html);\n        $(\"#ImagePopUp\").data(\"kendoWindow\").open().center(true);\n    }\n})\n</code></pre>\n\n<p>I also made my controller return html content instead and removed the image tag on my partial view-</p>\n\n<pre><code>public ActionResult OpenImagePopUp(int? id)\n        {\n            if (id != null)\n            {\n                string html = string.Empty;\n                Help request2 = new Help();\n                request2.id = id;\n                var response = apiHelp.GetHelpRecords(request2);\n                if (response.Error != null)\n                {\n                    ErrorLogRequest errorReq = new ErrorLogRequest()\n                    {\n                        LogDate = DateTime.Now,\n                        LogMethod = \"GetHelpRecords\",\n                        LogPage = \"Canopy Help\",\n                        LogPerson = User.Identity.Name,\n                        LogInfo = response.Error.ErrorCode + \" \" + response.Error.ErrorMessage + \" \" + response.Error.ExceptionObject.Message\n                    };\n                    apiErrorLog.InsertErrorLog(errorReq);\n                }\n                var helpRecords = response.data.Select(s =&gt; new Help()\n                {\n                    id = s.id,\n                    Image = s.Image\n\n                }).Where(w =&gt; w.id == id).FirstOrDefault();\n\n                if (helpRecords.Image != null)\n                {\n                    var base64string = Convert.ToBase64String(helpRecords.Image);\n                    request2.ImgSrcBase64 = string.Format(\"data:image/gif;base64,{0}\", base64string);\n\n                    html = string.Format(\"&lt;img id='imgPopUp' src='{0}' alt='Image'/&gt;\", request2.ImgSrcBase64);\n\n                    return Content(html, \"text/html\");\n                }\n                else\n                {\n                    html = \"&lt;h4&gt;This record has no image attached!&lt;/h4&gt;\";\n                    return Content(html, \"text/html\");\n                }\n            }\n            else return new EmptyResult();\n        }\n</code></pre>\n"}], "owner": {"reputation": 174, "user_id": 3720760, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lYHho.jpg?s=128&g=1", "display_name": "Krazy Dev", "link": "https://stackoverflow.com/users/3720760/krazy-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 490, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510178984, "creation_date": 1510172679, "question_id": 47188980, "link": "https://stackoverflow.com/questions/47188980/mvc-partial-view-not-displaying-image", "title": "MVC Partial View Not Displaying Image", "body": "<p>I have a Kendo Grid where one of the columns is actually a link to open a pop up to view the image. I'm able to get the image back but I'm unsuccessful so far. Here is what I have so far-</p>\n\n<p><strong>Controller-</strong></p>\n\n<pre><code>     public ActionResult OpenImagePopUp(int? id)\n        {\n            Help request2 = new Help();\n            request2.id = id;\n            var response = apiHelp.GetHelpRecords(request2);\n            if (response.Error != null)\n            {\n                ErrorLogRequest errorReq = new ErrorLogRequest()\n                {\n                    LogDate = DateTime.Now,\n                    LogMethod = \"GetHelpRecords\",\n                    LogPage = \"Canopy Help\",\n                    LogPerson = User.Identity.Name,\n                    LogInfo = response.Error.ErrorCode + \" \" + response.Error.ErrorMessage + \" \" + response.Error.ExceptionObject.Message\n                };\n                apiErrorLog.InsertErrorLog(errorReq);\n            }\n            var helpRecords = response.data.Select(s =&gt; new Help()\n            {\n                Image = s.Image\n\n            }).FirstOrDefault();\n\n            var base64string = Convert.ToBase64String(helpRecords.Image);\n            request2.ImgSrcBase64 = String.Format(\"data:image/gif;base64,{0}\", base64string);\n            return PartialView(\"ImagePopUp\", request2);\n        }\n</code></pre>\n\n<p><strong>My View / Javascript -</strong> </p>\n\n<pre><code>&lt;div&gt;\n    @(Html.Kendo().Window()\n        .Name(\"ImagePopUp\")\n        //.LoadContentFrom(\"OpenPopUpWindow\", \"BlueButtonView\")\n        .Draggable()\n        .Actions(actions =&gt; actions.Close())\n        .Modal(true).Visible(false)\n        .HtmlAttributes(new { style = \"margin: 10px\" })\n        .LoadContentFrom(\"OpenImagePopUp\", \"Help\")\n    .Draggable()\n    .Resizable()\n    .Width(600)\n    .Actions(actions =&gt; actions.Close())\n    )\n\n&lt;/div&gt;\n\nfunction showImage(e) {\n        var grid = $(\"#CanopyHelpGrid\").getKendoGrid();\n        var item = grid.dataItem($(e.target).closest(\"tr\"));\n\n        $(\"#ImagePopUp\").data(\"kendoWindow\").open().center(true);\n        $.ajax({\n            datatype: \"image\",\n            type: \"GET\",\n            url: '@Url.Action(\"OpenImagePopUp\", \"Help\")',\n            data: { id: item.id },\n            success: function (data) {\n                //$(\"#imgPopUp\").attr('src', data);\n            }\n        })\n    }\n</code></pre>\n\n<p>Then finally my partial view - </p>\n\n<pre><code>@model OSH.Domain.Models.CanopyHelp.Help\n\n&lt;img id=\"imgPopUp\" alt=\"Image\" src='@Model.ImgSrcBase64'&gt;\n</code></pre>\n\n<p>I tried to convert the array to a base64 string then format it to be the image source but I keep seeing no image. </p>\n"}, {"tags": ["javascript", "jquery", "html", "string", "twitter-bootstrap"], "comments": [{"owner": {"reputation": 512, "user_id": 3355541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G3Hjo.jpg?s=128&g=1", "display_name": "marciojc", "link": "https://stackoverflow.com/users/3355541/marciojc"}, "edited": false, "score": 2, "creation_date": 1510172710, "post_id": 47188911, "comment_id": 81327338, "body": "You want to use the <code>$sentence.html(insertNewHtml)</code> ???"}, {"owner": {"reputation": 4828, "user_id": 8378419, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2772206b4d6afcbdfe7485286554190d?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Milejczak", "link": "https://stackoverflow.com/users/8378419/robbie-milejczak"}, "edited": false, "score": 0, "creation_date": 1510173490, "post_id": 47188911, "comment_id": 81327735, "body": "side note, I would use <code>string.indexOf(substring) !== -1</code> because <code>string.includes()</code> has poor browser support"}], "answers": [{"tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": true, "score": 1, "last_activity_date": 1510173155, "creation_date": 1510173155, "answer_id": 47189106, "question_id": 47188911, "link": "https://stackoverflow.com/questions/47188911/replace-string-for-html-element/47189106#47189106", "title": "Replace string for html element", "body": "<p>Replace the strings with the span text, and using <a href=\"http://api.jquery.com/html/\" rel=\"nofollow noreferrer\"><code>.html()</code></a>, jQuery will convert the string to html content:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function setSentence() {\r\n  // Return random int between min (included) and max (excluded)\r\n  function getRandomInt(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min)) + min;\r\n  }\r\n\r\n  const sentenceList = [\"El mundo era tan reciente, que muchas cosas carec\u00edan de nombre, y para mencionarlas hab\u00eda que se\u00f1alar\u00edas con el dedo.\", \"Melqu\u00edades, que era un hombre honrado, le previno: \u00abPara eso no sirve.\u00bb\", \"Pero Jos\u00e9 Arcadio Buend\u00eda no cre\u00eda en aquel tiempo en la honradez de los gitanos, as\u00ed que cambi\u00f3 su mulo y una partida de chivos por los dos lingotes imantados.\", \"\u00darsula Iguar\u00e1n, su mujer, que contaba con aquellos animales para ensanchar el desmedrado patrimonio dom\u00e9stico, no consigui\u00f3 disuadirlo.\", \"\u00abMuy pronto ha de sobrarnos oro para empedrar la casa\u00bb, replic\u00f3 su marido.\"];\r\n\r\n  var sentence = sentenceList[getRandomInt(0, sentenceList.length)];\r\n  var $sentence = $(\"#test-sentence\");\r\n  var testSentence = sentence;\r\n\r\n\r\n  // instead of \"??? \" I would like to replace the identified text for &lt;span class=\"glyphicon glyphicon-question-sign\"&gt;&lt;/span&gt; plus a space\r\n\r\n  if (testSentence.match(/por\\b/i)) { // find por at end of words, ignore case\r\n    testSentence = '&lt;span&gt;' + testSentence.replace(/\\bpor\\b/ig, \"&lt;span class=\\\"glyphicon glyphicon-question-sign\\\"&gt;&lt;/span&gt;\") + '&lt;/span&gt;';\r\n  } else if (testSentence.match(/para\\b/i)) {  // find pata at end of words, ignore case\r\n    testSentence = '&lt;span&gt;' + testSentence.replace(\"para \", \"&lt;span class=\\\"glyphicon glyphicon-question-sign\\\"&gt;&lt;/span&gt;\") + '&lt;/span&gt;';\r\n  }\r\n\r\n  $sentence.html(testSentence);\r\n}\r\n\r\nsetSentence();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.glyphicon::before {\r\n  content: '?demo?'\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"test-sentence\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 552, "user_id": 4789789, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e345d89712d63b16a426a0a2c65c8c55?s=128&d=identicon&r=PG&f=1", "display_name": "gonzalo2000", "link": "https://stackoverflow.com/users/4789789/gonzalo2000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 47189106, "answer_count": 1, "score": 0, "last_activity_date": 1510173155, "creation_date": 1510172375, "question_id": 47188911, "link": "https://stackoverflow.com/questions/47188911/replace-string-for-html-element", "title": "Replace string for html element", "body": "<p>I'm working on the control flow for a randomly selected array string. If the string includes one of my test cases, it converts to \"??? \". To enhance the presentation, I would like to change it to a bootstrap glyphicon. I'm currently using .replace() to modify the string into a different one: is there a way to modify the string into a span element?</p>\n\n<p>I've been going over the documentation for .replace() and <a href=\"https://stackoverflow.com/questions/19177222/replace-string-with-dom-element\">other</a> SO questions on <a href=\"https://stackoverflow.com/questions/15203611/find-and-replace-html-string-with-jquery\">similar</a> topics, but I haven't been able to apply a solution thus far.</p>\n\n<pre><code>function setSentence() {\n  // Return random int between min (included) and max (excluded)\n  function getRandomInt(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min)) + min;\n  }\n\n  const sentenceList = [\"El mundo era tan reciente, que muchas cosas carec\u00edan de nombre, y para mencionarlas hab\u00eda que se\u00f1alar\u00edas con el dedo.\", \"Melqu\u00edades, que era un hombre honrado, le previno: \u00abPara eso no sirve.\u00bb\", \"Pero Jos\u00e9 Arcadio Buend\u00eda no cre\u00eda en aquel tiempo en la honradez de los gitanos, as\u00ed que cambi\u00f3 su mulo y una partida de chivos por los dos lingotes imantados.\", \"\u00darsula Iguar\u00e1n, su mujer, que contaba con aquellos animales para ensanchar el desmedrado patrimonio dom\u00e9stico, no consigui\u00f3 disuadirlo.\", \"\u00abMuy pronto ha de sobrarnos oro para empedrar la casa\u00bb, replic\u00f3 su marido.\"];\n\n  var sentence = sentenceList[getRandomInt(0, sentenceList.length)];\n  var $sentence = $(\"#test-sentence\");\n  var testSentence = sentence;\n\n\n  // instead of \"??? \" I would like to replace the identified text for &lt;span class=\"glyphicon glyphicon-question-sign\"&gt;&lt;/span&gt; plus a space\n\n  if (testSentence.includes(\"por \") || testSentence.includes(\"Por \")) {\n    if (testSentence.includes(\"por \")) {\n      testSentence = testSentence.replace(\"por \", \"??? \");\n    } else {\n      testSentence = testSentence.replace(\"Por \", \"??? \");\n    }\n  } else {\n    if (testSentence.includes(\"para \")) {\n      testSentence = testSentence.replace(\"para \", \"??? \");\n    } else {\n      testSentence = testSentence.replace(\"Para \", \"??? \");\n    }\n  }\n\n  $sentence.text(testSentence);\n}\n\nsetSentence();\n</code></pre>\n\n<p>The html contains:</p>\n\n<pre><code>&lt;p&gt;&lt;span id=\"test-sentence\"&gt;&lt;/span&gt;&lt;/p&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "mongoose"], "owner": {"reputation": 11, "user_id": 7619429, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8OMni1aXbkA/AAAAAAAAAAI/AAAAAAAAAEU/4BD4U0zoyaw/photo.jpg?sz=128", "display_name": "Mohamed Saidi", "link": "https://stackoverflow.com/users/7619429/mohamed-saidi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "closed_date": 1510173179, "answer_count": 0, "score": 1, "last_activity_date": 1510358466, "creation_date": 1510172292, "last_edit_date": 1510358466, "question_id": 47188891, "link": "https://stackoverflow.com/questions/47188891/how-to-render-two-array-to-ejs-wit-mongoose", "closed_reason": "Duplicate", "title": "how to render two array to ejs wit mongoose", "body": "<p>hello every one i am new in node.js i am playing around with the code by building small forum where Users can write some posts . when i open the home page i expect to have every post with his owner but i get all the posts with the same user and the user change every time i refresh the page </p>\n\n<h2>this is my Model User</h2>\n\n<pre><code> var mongoose=require('mongoose'),\n\n\nvar Schema=mongoose.Schema;\nvar UserSchema=new Schema({\n    username:String,\n    email:String,\n    password:String,\n    insdate:{type:Date,default:Date.now},\n    isDeleted:{type:Boolean,default:false},\n\n\n\n});\n\nvar User=mongoose.model(\"users\",UserSchema);\nmodule.exports=User;\n</code></pre>\n\n<h2>this is my model Post</h2>\n\n<pre><code>var mongoose=require('mongoose');\nvar Schema=mongoose.Schema;\nvar PostSchema=new Schema({\n    title: String,\n    body: String,\n    isDeleted:{type:Boolean,default:false},\n    added:{type:Date,default:Date.now},\n    owner:{\n        type:mongoose.Schema.Types.ObjectId,\n        ref:'users'\n    }\n\n\n});\nvar Post=mongoose.model(\"posts\",PostSchema);\nmodule.exports=Post;\n</code></pre>\n\n<p>and here where i try to send data to the browser i use ejs</p>\n\n<pre><code>    app.get('/', function (req, res) {\n      //i want to fetch Post and User and get them in one array here //and render them to my home page like any forum\n    res.render('home',{posts:posts_with_their_owners_username})\n\n      });\n});\n</code></pre>\n"}]