[{"tags": ["javascript", "es6-promise", "web3"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1577318111, "post_id": 59482652, "comment_id": 105141602, "body": "using Promise.then inside the <code>for</code> loops doesn&#39;t wait for those promises to be resolved ... consider using async/await (if the code in the loop needs to run in series) or Promise.all with array.map if you can run those promises concurrently - though, your for loops aren&#39;t simple as in one case you&#39;re adding 2 to the index each iteration so that may need some filtering"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1577318356, "post_id": 59482652, "comment_id": 105141630, "body": "also, your <code>.then</code>s are completely wrong since you aren&#39;t passing a function to them - I&#39;m guessing that <code>connections_blocks.methods.get_deposit_blocks(current_email)&zwnj;&#8203;.call</code> returns a promise?"}, {"owner": {"reputation": 645, "user_id": 9108471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sE26C.jpg?s=128&g=1", "display_name": "Zeeshan Ahmad Khalil", "link": "https://stackoverflow.com/users/9108471/zeeshan-ahmad-khalil"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1577318569, "post_id": 59482652, "comment_id": 105141651, "body": "Yes, I can run promises concurrently. And I don&#39;t know what it means to return a promise!"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1577319153, "post_id": 59482652, "comment_id": 105141727, "body": "a function returns something ... it can be anything ... even a promise"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1577321248, "post_id": 59482652, "comment_id": 105141930, "body": "your pseudo code does not accurately described the actual code - the psuedo code is easily fixed, the actual code requires far more information"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1577321421, "post_id": 59482652, "comment_id": 105141944, "body": "before answering this question, need to know what <code>connections_blocks.methods.get_send_blocks</code> is, what it takes as arguments, what it returns, can you pass a callback to it and will it still return a promise, if there&#39;s asyncrhonous code in the callback, how does that effect the promise returned by the function ... etc"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1577321526, "post_id": 59482652, "comment_id": 105141962, "body": "your edited code does not address the issues I had in my now deleted answer - no, that code you wrote does not fix your problem because of the issues I mentioned"}, {"owner": {"reputation": 645, "user_id": 9108471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sE26C.jpg?s=128&g=1", "display_name": "Zeeshan Ahmad Khalil", "link": "https://stackoverflow.com/users/9108471/zeeshan-ahmad-khalil"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1577322105, "post_id": 59482652, "comment_id": 105142043, "body": "@JaromandaX I added the reference of <code>connections_blocks.methods.get_send_blocks</code>. Sorry, I should have added it before and I removed the code in UPDATE as it was not solving the problem."}], "answers": [{"tags": [], "owner": {"reputation": 393, "user_id": 12595279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1757996a838c1da0c078e8b086f6116?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/12595279/fubar"}, "is_accepted": false, "score": 1, "last_activity_date": 1577320939, "creation_date": 1577320939, "answer_id": 59482866, "question_id": 59482652, "link": "https://stackoverflow.com/questions/59482652/executing-a-code-after-a-promise-with-nested-promises-inside-it-is-resolved/59482866#59482866", "title": "Executing a code after a promise with nested promises inside it is resolved", "body": "<p>I presume that the resolve of Promise_1 and Promise_3 will wait for the callbacks to complete. If this is the case, this should work.</p>\n\n<pre><code>user_xp = 0\n\nconnections_blocks.methods.get_deposit_blocks(current_email).call({\n    from: new_web3.eth.Contract.defaultAccount\n}, function (err, result) {\n    deposit_blocks = result\n    console.log(deposit_blocks)\n    deposit_blocks = deposit_blocks.split(\",\")\n    deposit_blocks.splice(0, 1)\n    // array to hold the promises\n    const subPromises = []\n    for (i_ in deposit_blocks) {\n        console.log(deposit_blocks[i_])\n        subPromises.push(new_web3.eth.getBlock(deposit_blocks[i_]))\n    }\n    // waiting for all promises to resolve\n    Promise.all(subPromises).then(function (deposit_block) {\n        user_xp = user_xp + deposit_block.gasUsed\n        console.log(user_xp)\n    })\n})\n.then(\n    connections_blocks.methods.get_send_blocks(current_email).call({\n        from: new_web3.eth.Contract.defaultAccount\n    }, function (err, result) {\n        send_blocks = result\n        console.log(send_blocks)\n        send_blocks = send_blocks.split(\",\")\n        send_blocks.splice(0, 1)\n        const subPromises = []\n        for (i_ = 0; i_ &lt; send_blocks.length; i_ = i_ + 2) {\n            console.log(send_blocks[i_])\n            subPromises.push(\n                new_web3.eth.getBlock(send_blocks[i_])\n            )\n        }\n        Promise.all(subPromises).then(function (send_block) {\n            user_xp = user_xp + send_block.gasUsed\n            console.log(user_xp)\n        })\n    })\n)\n.then(function () {\n    console.log(user_xp)\n    xp = document.getElementById('xp')\n    xp.innerHTML = \"XP:\" + user_xp\n})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 645, "user_id": 9108471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sE26C.jpg?s=128&g=1", "display_name": "Zeeshan Ahmad Khalil", "link": "https://stackoverflow.com/users/9108471/zeeshan-ahmad-khalil"}, "edited": false, "score": 0, "creation_date": 1577323498, "post_id": 59482919, "comment_id": 105142228, "body": "Thanks, it worked like magic. I was just thinking to use <code>.then()</code> instead of a callback function. And I am still a little confused that how we are using returned promise in next <code>.then()</code>. I think it is passed to result parameter"}], "tags": [], "owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "is_accepted": true, "score": 1, "last_activity_date": 1577323105, "last_edit_date": 1577323105, "creation_date": 1577321680, "answer_id": 59482919, "question_id": 59482652, "link": "https://stackoverflow.com/questions/59482652/executing-a-code-after-a-promise-with-nested-promises-inside-it-is-resolved/59482919#59482919", "title": "Executing a code after a promise with nested promises inside it is resolved", "body": "<p>Problems with your code include</p>\n\n<ol>\n<li>the arguments to .then must be functions</li>\n<li>if you need to wait for the Promises in the loop, you need to add them to an array and then use promise.all to wait until they're all resolved</li>\n</ol>\n\n<p>Try the following changes to your <em>actual</em> code - I'm assuming that without the node style callback, the function returns a promise that resolves to the <code>result</code> that would be passed to the node-style callback (which is removed in this code)</p>\n\n<p>(if you wait a while I'll flatten the promise chain - just noticed it isn't as flat as it could be</p>\n\n<pre><code>user_xp = 0\nreturn connections_blocks.methods.get_deposit_blocks(current_email).call({\n    from: new_web3.eth.Contract.defaultAccount\n})\n.then(function (result) {\n    var promises = []\n    deposit_blocks = result\n    console.log(deposit_blocks)\n    deposit_blocks = deposit_blocks.split(\",\")\n    deposit_blocks.splice(0, 1)\n    for (i_ in deposit_blocks) {\n        console.log(deposit_blocks[i_])\n        promises.push(\n            new_web3.eth.getBlock(deposit_blocks[i_]).then(function (deposit_block) {\n                user_xp = user_xp + deposit_block.gasUsed\n                console.log(user_xp)\n            })\n        )\n    }\n    return Promise.all(promises)\n})\n.then(function () {\n    return connections_blocks.methods.get_send_blocks(current_email).call({\n        from: new_web3.eth.Contract.defaultAccount\n    })\n})\n.then(function (result) {\n    var promises=[]\n    send_blocks = result\n    console.log(send_blocks)\n    send_blocks = send_blocks.split(\",\")\n    send_blocks.splice(0, 1)\n    for (i_ = 0; i_ &lt; send_blocks.length; i_ = i_ + 2) {\n        console.log(send_blocks[i_])\n        promises.push(\n            new_web3.eth.getBlock(send_blocks[i_]).then(function (send_block) {\n                user_xp = user_xp + send_block.gasUsed\n                console.log(user_xp)\n            })\n        )\n    }\n    return Promise.all(promises)\n})\n.then(function () {\n    console.log(user_xp)\n    xp = document.getElementById('xp')\n    xp.innerHTML = \"XP:\" + user_xp\n})\n</code></pre>\n\n<p>As an added \"bonus\", I believe the code can be simplified to</p>\n\n<pre><code>return connections_blocks.methods.get_deposit_blocks(current_email).call({\n    from: new_web3.eth.Contract.defaultAccount\n})\n.then(result =&gt; Promise.all(result.split(\",\").slice(1).map(deposit_block =&gt; new_web3.eth.getBlock(deposit_block)\n    .then(deposit_block =&gt; deposit_block.gasUsed)\n})\n.then(gasUsed1Array =&gt; connections_blocks.methods.get_send_blocks(current_email).call({\n        from: new_web3.eth.Contract.defaultAccount\n    })\n    .then(result =&gt; Promise.all(result.split(\",\").slice(1).filter((v, i) =&gt; !(i%2)).map(send_blocks =&gt; new_web3.eth.getBlock(send_block)\n        .then(send_block =&gt; send_block.gasUsed)\n    )))\n    .then(gasUsed2Array =&gt; [...gasUsed1Array, ...gasUsed2Array])\n)\n.then(results =&gt; {\n    user_xp = results.reduce((a, b) =&gt; a + b);\n    console.log(user_xp)\n    xp = document.getElementById('xp')\n    xp.innerHTML = \"XP:\" + user_xp\n})\n</code></pre>\n"}], "owner": {"reputation": 645, "user_id": 9108471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sE26C.jpg?s=128&g=1", "display_name": "Zeeshan Ahmad Khalil", "link": "https://stackoverflow.com/users/9108471/zeeshan-ahmad-khalil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 59482919, "answer_count": 2, "score": 0, "last_activity_date": 1577323105, "creation_date": 1577318050, "last_edit_date": 1577322003, "question_id": 59482652, "link": "https://stackoverflow.com/questions/59482652/executing-a-code-after-a-promise-with-nested-promises-inside-it-is-resolved", "title": "Executing a code after a promise with nested promises inside it is resolved", "body": "<p>I have the following js code structure;</p>\n\n<pre><code>Promise_1.then(function(){\n  for(){\n    Promise2.then(function(){\n      ...\n    })\n  }\n}).then(\n  Promise_3.then(function(){\n    for(){\n      Promise4.then(function(){\n        ...\n      })\n    }\n  })\n).then(\n  function(){\n    // SOME CODE\n  }\n)\n</code></pre>\n\n<p>I want to execute SOME CODE after the above promises are resolved. But the SOME CODE is executing before the above promises are resolved. I know I can enclose SOME CODE in <code>setTimeout()</code> which will solve the problem as suggested by other answers on SO but I think it's not a good idea. The actual code on which I am working is as follow;</p>\n\n<pre><code>user_xp = 0\nconnections_blocks.methods.get_deposit_blocks(current_email).call({\n    from: new_web3.eth.Contract.defaultAccount\n}, function (err, result) {\n    deposit_blocks = result\n    console.log(deposit_blocks)\n    deposit_blocks = deposit_blocks.split(\",\")\n    deposit_blocks.splice(0, 1)\n    for (i_ in deposit_blocks) {\n        console.log(deposit_blocks[i_])\n        user_xp + new_web3.eth.getBlock(deposit_blocks[i_]).then(function (deposit_block) {\n            user_xp = user_xp + deposit_block.gasUsed\n            console.log(user_xp)\n        })\n    }\n}).then(\n    connections_blocks.methods.get_send_blocks(current_email).call({\n        from: new_web3.eth.Contract.defaultAccount\n    }, function (err, result) {\n        send_blocks = result\n        console.log(send_blocks)\n        send_blocks = send_blocks.split(\",\")\n        send_blocks.splice(0, 1)\n        for (i_ = 0; i_ &lt; send_blocks.length; i_ = i_ + 2) {\n            console.log(send_blocks[i_])\n            user_xp + new_web3.eth.getBlock(send_blocks[i_]).then(function (send_block) {\n                user_xp = user_xp + send_block.gasUsed\n                console.log(user_xp)\n            })\n        }\n    })).then(\n    setTimeout(function () {\n        console.log(user_xp)\n        xp = document.getElementById('xp')\n        xp.innerHTML = \"XP:\" + user_xp\n    },1000)\n)\n</code></pre>\n\n<p>In the above code, I am just using <code>setTimeout()</code> which is solving my problem. But I want the code to execute automatically only when the above promises are resolved. Is there any easy way to do that in JS w/o putting promises in functions and making it more complex.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I am using the following web3's function to fetch data from the solidity's smart contract which actually returns a promise with the data as <code>promiseValue</code></p>\n\n<p><a href=\"https://web3js.readthedocs.io/en/v1.2.4/web3-eth-contract.html#methods-mymethod-call\" rel=\"nofollow noreferrer\">myContract.methods.myMethod([parameters).call(options,[callback])</a></p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 4, "creation_date": 1577317672, "post_id": 59482627, "comment_id": 105141559, "body": "It&#39;s not errornous to refer to a non-existent property, but it <i>is</i> erronous to refer to a standalone variable name which doesn&#39;t exist"}, {"owner": {"reputation": 4107, "user_id": 9770840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/984adcd06e81b4ed593225545018aacb?s=128&d=identicon&r=PG&f=1", "display_name": "Attersson", "link": "https://stackoverflow.com/users/9770840/attersson"}, "edited": false, "score": 2, "creation_date": 1577319222, "post_id": 59482627, "comment_id": 105141731, "body": "Where is this being executed? On a browser? NodeJS? Anywhere else?"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 10076821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arUf2.jpg?s=128&g=1", "display_name": "Fahad Malik", "link": "https://stackoverflow.com/users/10076821/fahad-malik"}, "edited": false, "score": 0, "creation_date": 1577401620, "post_id": 59482658, "comment_id": 105162660, "body": "Beautiful answer...Increased my knowledge &amp; makes perfect sense :)"}], "tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 4, "last_activity_date": 1577318106, "creation_date": 1577318106, "answer_id": 59482658, "question_id": 59482627, "link": "https://stackoverflow.com/questions/59482627/undefined-variable-with-without-object-name-in-js/59482658#59482658", "title": "Undefined variable with &amp; without object name in JS", "body": "<p>It's not errornous to refer to a non-existent property, but it <em>is</em> erronous to refer to a standalone variable name which doesn't exist.</p>\n\n<p>When one references a non-existent property on an object, <code>undefined</code> will be returned - that's how how things work. But standalone variable names, on the other hand, <em>do</em> need to be defined before referring to them, in almost all situations. Failing to define a standalone variable before trying to refer to it will throw a <code>ReferenceError</code> in all but 2 situations:</p>\n\n<p>(1) When using <code>typeof</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>console.log(typeof foo);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>(2) When assigning to such a variable in non-strict mode (the variable will be implicitly created on the global object):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = [1, 2, 3];\r\n\r\nfor (i = 0; i &lt; arr.length; i++) {\r\n  // if in sloppy mode, and i hasn't been defined beforehand,\r\n  // it will be created as a global variable\r\n}\r\nconsole.log(typeof i);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you try to assign to such a variable in strict mode when it hasn't been declared beforehand, an error will be thrown.</p>\n"}, {"tags": [], "owner": {"reputation": 854, "user_id": 1978210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f122d35000067535ffd1f41df595ddc?s=128&d=identicon&r=PG&f=1", "display_name": "JonoJames", "link": "https://stackoverflow.com/users/1978210/jonojames"}, "is_accepted": false, "score": 0, "last_activity_date": 1577318125, "creation_date": 1577318125, "answer_id": 59482662, "question_id": 59482627, "link": "https://stackoverflow.com/questions/59482627/undefined-variable-with-without-object-name-in-js/59482662#59482662", "title": "Undefined variable with &amp; without object name in JS", "body": "<p>When you looking for a variable </p>\n\n<pre><code>console.log(abc);\n</code></pre>\n\n<p>Is not defined and should throw </p>\n\n<blockquote>\n  <p>Uncaught ReferenceError: abc </p>\n</blockquote>\n\n<p>is not defined in any context at all </p>\n\n<p>however </p>\n\n<pre><code>console.log(this.abc) and console.log(window.abc)\n</code></pre>\n\n<p>part of it is defined </p>\n\n<pre><code>console.log(this) \nconsole.log(window)\n</code></pre>\n\n<p>return current objects instance and window objects respectively and have a reference point. the plain console.log(abc) has no reference point </p>\n"}, {"comments": [{"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1577318904, "post_id": 59482666, "comment_id": 105141697, "body": "What JavaScript implementation produces a value other than <code>undefined</code> when accessing a nonexistent property?"}, {"owner": {"reputation": 4107, "user_id": 9770840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/984adcd06e81b4ed593225545018aacb?s=128&d=identicon&r=PG&f=1", "display_name": "Attersson", "link": "https://stackoverflow.com/users/9770840/attersson"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1577318960, "post_id": 59482666, "comment_id": 105141704, "body": "Have we tried on Adobe Script Toolkit? on Unity3D? On some embedded device? There is javascript everywhere. I do not give anything for granted. OP never specified."}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 1, "creation_date": 1577319043, "post_id": 59482666, "comment_id": 105141714, "body": "If you don\u2019t know that it might change, don\u2019t say it might change. Vague hedging is extremely unhelpful."}, {"owner": {"reputation": 4107, "user_id": 9770840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/984adcd06e81b4ed593225545018aacb?s=128&d=identicon&r=PG&f=1", "display_name": "Attersson", "link": "https://stackoverflow.com/users/9770840/attersson"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1577319126, "post_id": 59482666, "comment_id": 105141724, "body": "These conclusions are valid only in browser context or on node console and untested everywhere else."}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1577319252, "post_id": 59482666, "comment_id": 105141733, "body": "The behaviour is part of the JavaScript specification. You\u2019ll be hard-pressed to find a browser or environment that calls itself JS and doesn\u2019t conform in this respect, and implying that you might want to write code to avoid relying on it is bad advice."}, {"owner": {"reputation": 4107, "user_id": 9770840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/984adcd06e81b4ed593225545018aacb?s=128&d=identicon&r=PG&f=1", "display_name": "Attersson", "link": "https://stackoverflow.com/users/9770840/attersson"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1577319488, "post_id": 59482666, "comment_id": 105141761, "body": "@Ry- My point is for example on Adobe Droplets there is a different runtime behaviour (the droplet blocks, there is no logging, although console.log exists). I agree that is off topic. People will figure that stuff on their own"}], "tags": [], "owner": {"reputation": 4107, "user_id": 9770840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/984adcd06e81b4ed593225545018aacb?s=128&d=identicon&r=PG&f=1", "display_name": "Attersson", "link": "https://stackoverflow.com/users/9770840/attersson"}, "is_accepted": false, "score": 0, "last_activity_date": 1577319968, "last_edit_date": 1577319968, "creation_date": 1577318213, "answer_id": 59482666, "question_id": 59482627, "link": "https://stackoverflow.com/questions/59482627/undefined-variable-with-without-object-name-in-js/59482666#59482666", "title": "Undefined variable with &amp; without object name in JS", "body": "<p>On most browsers and Javascript environments that respect Javascript specification (this may change in other javascript environments where there is no console):</p>\n\n<p>Any property that has not been assigned a value or non existent property (or a function without a return statement) returns <code>undefined</code>.</p>\n\n<p>In the first examples, the dot operator is being called. <strong>The behaviour in case you access a non existent property is defined</strong> and it is that to return <code>undefined</code>, which is a valid js type. Therefore <code>undefined</code> is being logged.</p>\n\n<p>On the last example, on the other hand, the non existent variable throws a ReferenceError. This happens directly, as unlike the first case, no context has been accessed, no dot operator is being called and this is just a plain error.</p>\n"}, {"tags": [], "owner": {"reputation": 44, "user_id": 8591612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30b7e5fd008d4754bd87fc2e463de2cc?s=128&d=identicon&r=PG", "display_name": "saidfurkandize", "link": "https://stackoverflow.com/users/8591612/saidfurkandize"}, "is_accepted": false, "score": 0, "last_activity_date": 1577318844, "creation_date": 1577318844, "answer_id": 59482701, "question_id": 59482627, "link": "https://stackoverflow.com/questions/59482627/undefined-variable-with-without-object-name-in-js/59482701#59482701", "title": "Undefined variable with &amp; without object name in JS", "body": "<p>actually it's not a variable. It is a key which is inside an object. (At this point the object is <code>this</code> or <code>window</code>). this and window created from JavaScript.</p>\n"}, {"tags": [], "owner": {"reputation": 460, "user_id": 8025468, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XXXfssed_1k/AAAAAAAAAAI/AAAAAAAAAE8/M8Mzu1uBjSI/photo.jpg?sz=128", "display_name": "Fasid Mpm", "link": "https://stackoverflow.com/users/8025468/fasid-mpm"}, "is_accepted": false, "score": 0, "last_activity_date": 1577319885, "last_edit_date": 1577319885, "creation_date": 1577319567, "answer_id": 59482754, "question_id": 59482627, "link": "https://stackoverflow.com/questions/59482627/undefined-variable-with-without-object-name-in-js/59482754#59482754", "title": "Undefined variable with &amp; without object name in JS", "body": "<p>It's an interesting question to ask!. \nTo be able to understand this, we must understand <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/Hoisting\" rel=\"nofollow noreferrer\">Variable Hoisting in Jaascript</a>. </p>\n\n<p>if you want an <code>undefined</code> for a variable that is not declared <em>yet</em> , well the following would work!</p>\n\n<pre><code>console.log(abc)\nvar abc = 'ss';\n</code></pre>\n\n<p>So, here if we try to access a <em>declared</em> variable before it is initialized then <code>undefined</code> is actually assigned at the top of function execution. in other words, all the variables are hoisted to the top of their immediate scope level and are assigned <code>undefined</code> until they reach the initialization point.</p>\n\n<p>to give you a blunt answer,  trying to use an undeclared variable would give you <code>Reference Error</code> while trying to access a declared variable before the initialization would give you<code>undefined</code></p>\n\n<p>and, for objects like <code>this</code> and <code>window</code>  well they are available objects . so basically at this point people say, <code>In Javascript everything is present</code>, meaning, trying to access a property that is not yet there in a js object would give you <code>undefined</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 16, "user_id": 7479994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72cd20a627e807d2b78ddb80c07cd196?s=128&d=identicon&r=PG&f=1", "display_name": "Anah Victor", "link": "https://stackoverflow.com/users/7479994/anah-victor"}, "is_accepted": false, "score": 0, "last_activity_date": 1577320123, "creation_date": 1577320123, "answer_id": 59482799, "question_id": 59482627, "link": "https://stackoverflow.com/questions/59482627/undefined-variable-with-without-object-name-in-js/59482799#59482799", "title": "Undefined variable with &amp; without object name in JS", "body": "<p>It is the normal JavaScript behavior.</p>\n\n<blockquote>\n  <p>Lets consider a variable <code>name</code></p>\n</blockquote>\n\n<pre><code>var name;\nconsole.log(name);\n</code></pre>\n\n<p>The above wont throw an error, because the variable <code>name</code> was declared before using it in <code>console.log</code>.</p>\n\n<pre><code>console.log(name);\n</code></pre>\n\n<p>This will throw a reference error because you did not declare the variable first.</p>\n\n<p>But,</p>\n\n<p>If name is accessed from an already defined variable( e.g. window, this ), it wont throw an error whether defined or not. Just like the below will simply print undefined, reference error wont be thrown.</p>\n\n<pre><code>console.log(window.name);\n</code></pre>\n\n<p>Note that window is already defined by the browser.</p>\n\n<p>Notwithstanding,</p>\n\n<pre><code>console.log(window_a.name);\n</code></pre>\n\n<p>the above will throw a reference error because <code>name</code> is being accessed on an undefined variable <code>window_a</code>.</p>\n\n<pre><code>var window_a = {};\nconsole.log(window_a.name);\n</code></pre>\n\n<p>This wont throw reference error because <code>window_a</code> is now declared.</p>\n"}], "owner": {"reputation": 37, "user_id": 10076821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arUf2.jpg?s=128&g=1", "display_name": "Fahad Malik", "link": "https://stackoverflow.com/users/10076821/fahad-malik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 59482658, "answer_count": 6, "score": -1, "last_activity_date": 1577320123, "creation_date": 1577317593, "question_id": 59482627, "link": "https://stackoverflow.com/questions/59482627/undefined-variable-with-without-object-name-in-js", "title": "Undefined variable with &amp; without object name in JS", "body": "<p>When I run the following simple Javascript line...console logs an error.</p>\n\n<pre><code>console.log(abc);\n</code></pre>\n\n<p>But when I run the above line like</p>\n\n<pre><code>console.log(this.abc); or console.log(window.abc);\n</code></pre>\n\n<p>the console does not throw an error. Instead it prints \"undefined\".\nWhy?\nNote: 'abc' variable is not defined or declared.</p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "express", "mongoose"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 3330380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4IjWC.jpg?s=128&g=1", "display_name": "Ahmed Mokhtar", "link": "https://stackoverflow.com/users/3330380/ahmed-mokhtar"}, "is_accepted": false, "score": 0, "last_activity_date": 1577317719, "creation_date": 1577317719, "answer_id": 59482637, "question_id": 59482582, "link": "https://stackoverflow.com/questions/59482582/mongoose-multiple-databases-typeerror-users-model-is-not-a-function/59482637#59482637", "title": "Mongoose Multiple Databases TypeError: users.model is not a function", "body": "<p>i think the problem is in user.js file, the model function comes from mongoose so you need to create instance of mongoose and use it to create the model by .model()\nso the rewrite of the code will be something like this</p>\n\n<pre><code>var mongoose = require('mongoose');\nvar userSchema = require('../schemas/userSchema');\nmodule.exports = users =&gt; {\n  mongoose.model('User', userSchema);\n};\n</code></pre>\n\n<p>i hope it works </p>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 6674410, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/79245c96bcdf289ac04dc586370d095c?s=128&d=identicon&r=PG&f=1", "display_name": "MateoC", "link": "https://stackoverflow.com/users/6674410/mateoc"}, "edited": false, "score": 0, "creation_date": 1577318742, "post_id": 59482639, "comment_id": 105141676, "body": "This is if I want to have one connection. I am trying to have one model associate with one database. <a href=\"https://mongoosejs.com/docs/connections.html#multiple_connections\" rel=\"nofollow noreferrer\">mongoosejs.com/docs/connections.html#multiple_connections</a>"}], "tags": [], "owner": {"reputation": 345, "user_id": 9475949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1fcb104d11569c176237f2954ffbbdc?s=128&d=identicon&r=PG&f=1", "display_name": "Madushanka kahawa", "link": "https://stackoverflow.com/users/9475949/madushanka-kahawa"}, "is_accepted": false, "score": 2, "last_activity_date": 1577317734, "creation_date": 1577317734, "answer_id": 59482639, "question_id": 59482582, "link": "https://stackoverflow.com/questions/59482582/mongoose-multiple-databases-typeerror-users-model-is-not-a-function/59482639#59482639", "title": "Mongoose Multiple Databases TypeError: users.model is not a function", "body": "<p>your user.js is incorrect. You cannot use users.model('User', userSchema);\nit should be like this</p>\n\n<pre><code>var userSchema = require('../schemas/userSchema');\nvar mongoose = require('mongoose');\n\nmodule.exports = () =&gt; {\n  mongoose.model('User', userSchema);\n};\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 6674410, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/79245c96bcdf289ac04dc586370d095c?s=128&d=identicon&r=PG&f=1", "display_name": "MateoC", "link": "https://stackoverflow.com/users/6674410/mateoc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1577317734, "creation_date": 1577316876, "question_id": 59482582, "link": "https://stackoverflow.com/questions/59482582/mongoose-multiple-databases-typeerror-users-model-is-not-a-function", "title": "Mongoose Multiple Databases TypeError: users.model is not a function", "body": "<p>I am trying to use Mongoose's example for defining models in a separate document from their schemas (whilst having multiple databases). </p>\n\n<p>Mongoose's Docs example for User.js: \n</p>\n\n<pre><code>const userSchema = require('./userSchema');\n\nmodule.exports = conn =&gt; {\n  conn.model('User', userSchema);\n};\n</code></pre>\n\n\n\n<p>However, I am getting errors </p>\n\n<blockquote>\n  <p>(TypeError: users.model is not a function)</p>\n</blockquote>\n\n<p>that I suspect come from the database promise that <code>mongoose.createConnection(...).</code>. \nThe structure is as followed </p>\n\n<pre><code>-models  \n  -user.js\n-schemas  \n  -userSchema.js\n-app.js\n</code></pre>\n\n<p>I have cut information that I don't think is apart of the problem (noted ...) but let me know if I need to include anything else. \nApp.js: </p>\n\n<pre><code>...\nvar cookieParser = require('cookie-parser');\nvar session = require('express-session');\nvar mongoose = require('mongoose');\nvar logger = require('morgan');\nvar passport = require('passport');\nvar LocalStrategy = require('passport-local').Strategy;\nvar indexRouter = require('./routes/index');\nvar generatorRouter = require('./routes/generator');\nvar usersRouter = require('./routes/users');\n\nvar app = express();\n\n// view engine setup\napp.set('views', path.join(__dirname, 'views'));\napp.set('view engine', 'ejs');\napp.use(express.static(path.join(__dirname, 'public')));\n\n// connect databases\nvar users = mongoose.createConnection('mongodb://localhost:27017/users', {useNewUrlParser: true, useUnifiedTopology: true})\n.then(function() {\n  console.log('usersDB connected')\n}).catch(err =&gt; console.log(err))\n\nvar userData = mongoose.createConnection('mongodb://localhost:27017/userData', {useNewUrlParser: true, useUnifiedTopology: true})\n.then(() =&gt; console.log('userDataDB connected'))\n.catch(err =&gt; console.log(err))\n\n\napp.set('trust proxy', 1)\napp.use(logger('dev'));\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\napp.use(bodyParser.json());\napp.use(cookieParser());\napp.use(session({\n  secret: shhhhh,\n  resave: false,\n  saveUninitialized: true\n}));\n\n//set up passport\napp.use(passport.initialize());\napp.use(passport.session());\nvar User = require('./models/user')(users);\n\napp.use('/', indexRouter);\napp.use('/g', generatorRouter);\napp.use('/users', usersRouter);\n\npassport.use(\n  new LocalStrategy(function(username, password, done) {\n    console.log(User);\n    User.findOne({\n        username: username\n    }, function(err, user) {\n        if (err) return done(err);\n        if (!user) return done(null, false);\n        if (!user.authenticate(password)) return done(null, false);\n        return done(null, user);\n     });\n   })\n);\n\npassport.serializeUser(function(user, done) {\n    done(null, user.id);\n});\n\npassport.deserializeUser(function(id, done) {\n    User.findById(id, function(err, user) {\n        done(err, user);\n    });\n});\n...\nmodule.exports = app;\n</code></pre>\n\n<p>user.js</p>\n\n<pre><code>var userSchema = require('../schemas/userSchema');\n\nmodule.exports = users =&gt; {\n  users.model('User', userSchema);\n};\n</code></pre>\n\n<p>userSchema.js</p>\n\n<pre><code>var mongoose = require('mongoose');\nvar bcrypt = require('bcrypt')\n\nvar userSchema = new mongoose.Schema({\n  \"email\": {\n    type: String,\n    required: true\n  },\n  \"username\": {\n    type: String,\n    required: true\n  },\n  \"password\": {\n    type: String,\n    required: true\n  },\n  \"date\": {\n    type: Date,\n    default: Date.now\n  },\n})\n\n//generate hash\nuserSchema.methods.generateHash = function(password) {\n    return bcrypt.hashSync(password, bcrypt.genSaltSync(8));\n};\n\n// password checker\nuserSchema.methods.authenticate = function(password) {\n    return bcrypt.compareSync(password, this.password);\n};\n\nmodule.exports = userSchema;\n</code></pre>\n\n<p>I've also tried using User(users) and User(await users) but neither works for trying to pass the database into the User function. </p>\n"}, {"tags": ["javascript", "dom"], "answers": [{"tags": [], "owner": {"reputation": 4645, "user_id": 11998782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZZ3Di.png?s=128&g=1", "display_name": "Shiny", "link": "https://stackoverflow.com/users/11998782/shiny"}, "is_accepted": false, "score": 2, "last_activity_date": 1577318065, "last_edit_date": 1577318065, "creation_date": 1577317444, "answer_id": 59482617, "question_id": 59482568, "link": "https://stackoverflow.com/questions/59482568/how-can-i-delete-a-specific-li-list-on-click/59482617#59482617", "title": "How can i delete a specific li list on click?", "body": "<p>When <code>deleteItem.addEventListener('click', items)</code> is ran, it only attaches the eventListener to the elements <em>currently</em> on the DOM - the ones you create dynamically will not have this eventListener</p>\n\n<p>You can use 'event delegation' instead to listen for clicks, and filter theses clicks based on if the click was coming from the correct element</p>\n\n<p>You can read more about event delegation from <a href=\"https://davidwalsh.name/event-delegate\" rel=\"nofollow noreferrer\">davidwalsh's blog</a> and <a href=\"https://stackoverflow.com/a/1688293/11998782\">this StackOverflow answer</a></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>document.addEventListener('click', function(e) =&gt; {\n  if(e.target &amp;&amp; e.target.classList.includes('delete')){\n    e.target.parentElement.remove() \n  }\n});\n</code></pre>\n\n<hr>\n\n<p>You could also make use of the elements <code>onclick</code> attribute, and pass <code>this</code> in the parameter of the function call - this way you can access the HTML Element directly from the parameter; this also avoids having to have an eventListener, or using an if to check if it's the correct class / ID</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Add the function to the onclick attribute of the img\n&lt;img class=\"delete\" onclick=\"deleteItem(this)\" src=\"demo.png\" /&gt;\n\n// in this function, 'item' refers to the DOM Element that was clicked\nfunction deleteItem (item) {\n  item.parentElement.remove();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25, "user_id": 12352499, "user_type": "registered", "profile_image": "https://graph.facebook.com/958251647892491/picture?type=large", "display_name": "Ayman Ben", "link": "https://stackoverflow.com/users/12352499/ayman-ben"}, "is_accepted": false, "score": 0, "last_activity_date": 1577318454, "creation_date": 1577318454, "answer_id": 59482677, "question_id": 59482568, "link": "https://stackoverflow.com/questions/59482568/how-can-i-delete-a-specific-li-list-on-click/59482677#59482677", "title": "How can i delete a specific li list on click?", "body": "<p>This code will allow you to remove the first element on ul .\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let list = document.getElementById(\"list\"); // ul element\r\nlet remove = document.getElementById(\"remove\"); // remove button\r\n\r\n// on double click event\r\nremove.onclick = () =&gt; {\r\n  // remove the first child from the list\r\n  list.removeChild(list.firstChild);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ul id=\"list\"&gt;\r\n  &lt;li&gt;One&lt;/li&gt;  \r\n  &lt;li&gt;Two&lt;/li&gt;\r\n  &lt;li&gt;three&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;input type=\"button\" id=\"remove\" value=\"Remove First\"&gt;&lt;/input&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 41, "user_id": 5059498, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gslUlumpLL0/AAAAAAAAAAI/AAAAAAAAAEo/9LHABMhMlQs/photo.jpg?sz=128", "display_name": "ES Sinc", "link": "https://stackoverflow.com/users/5059498/es-sinc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1577321044, "creation_date": 1577316637, "question_id": 59482568, "link": "https://stackoverflow.com/questions/59482568/how-can-i-delete-a-specific-li-list-on-click", "title": "How can i delete a specific li list on click?", "body": "<pre><code>const list = document.getElementById('list')\nconst addtodo = document.getElementById('addtodo')\n//const items = document.querySelector('.item')\nconst deleteItem = document.querySelector('.delete')\naddtodo.addEventListener('keypress', submitTodo)\n\nfunction submitTodo(event) {\n    if (event.keyCode == 13) {\n        event.preventDefault()\n        let value = addtodo.value\n        let li = document.createElement('li')\n\n        li.innerHTML = `\n        &lt;img class=\"unchecked\" src=\"icon/unchecked.svg\" /&gt; \n        ${value}\n        &lt;img class=\"delete\" src=\"icon/icons8-multiply-26.png\" /&gt; `\n\n        list.appendChild(li)\n    }\n}\n\ndeleteItem.addEventListener('click', items)\n\n\nfunction items(item) {\n    if (item.target.classList.contains('delete')) {\n        item.target.parentElement.remove()\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>The code above only allows me to delete one item and its the first one on the list\n  I try to solve it on my own but couldn't any idea whats wrong</p>\n</blockquote>\n"}, {"tags": ["javascript"], "answers": [{"tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 7, "last_activity_date": 1577317322, "last_edit_date": 1577317322, "creation_date": 1577316830, "answer_id": 59482580, "question_id": 59482564, "link": "https://stackoverflow.com/questions/59482564/removing-options-from-select-tag-in-vanilla-javascript-with-for-of-loop/59482580#59482580", "title": "Removing options from Select tag in Vanilla JavaScript with &quot;for .. of&quot; loop", "body": "<p>The <code>.options</code> collection is (unfortunately) <em>live</em>, so iterating over the live collection's items one-by-one and <code>.remove</code>ing every one will result in every odd one being kept. (Eg, right when you remove the first item, the <code>[0]</code>th item of the collection will immediately become the <em>next</em> item in the collection - what used to be <code>[1]</code> will become <code>[0]</code> (and then once you go to the next index at <code>[1]</code>, the <em>new</em> item at position 0 won't be iterated over)</p>\n\n<p>Use <code>document.querySelectorAll</code> instead, which returns a collection which is static:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>for (const option of document.querySelectorAll('#form-select &gt; option')) {\r\n  option.remove();\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;select id=\"form-select\"&gt;\r\n  &lt;option&gt;111&lt;/option&gt;\r\n  &lt;option&gt;222&lt;/option&gt;\r\n  &lt;option&gt;333&lt;/option&gt;\r\n&lt;/select&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You can also spread into a (static) array before removing elements::</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>for (const option of [...document.querySelector('#form-select').options]) {\r\n  option.remove();\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;select id=\"form-select\"&gt;\r\n  &lt;option&gt;111&lt;/option&gt;\r\n  &lt;option&gt;222&lt;/option&gt;\r\n  &lt;option&gt;333&lt;/option&gt;\r\n&lt;/select&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Another option which just <em>happens</em> to work because the collection is live (but probably shouldn't be used, since it's not intuitive):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const { options } = document.querySelector('#form-select');\r\nwhile (options.length) {\r\n  options[0].remove();\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;select id=\"form-select\"&gt;\r\n  &lt;option&gt;111&lt;/option&gt;\r\n  &lt;option&gt;222&lt;/option&gt;\r\n  &lt;option&gt;333&lt;/option&gt;\r\n&lt;/select&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1577318360, "post_id": 59482613, "comment_id": 105141632, "body": "The <code>.options</code> is <i>not</i> an array, which is the source of the problem - rather, it&#39;s an HTMLCollection, which is live. Were it an array, it&#39;d be static, and there wouldn&#39;t be any problems."}, {"owner": {"reputation": 10320, "user_id": 818326, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ace3174f4519bdd2a622e1f14b2ebbae?s=128&d=identicon&r=PG", "display_name": "symlink", "link": "https://stackoverflow.com/users/818326/symlink"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 1, "creation_date": 1577319728, "post_id": 59482613, "comment_id": 105141786, "body": "@CertainPerformance removing elements from an array as you iterate through it <i>does</i> cause the problem I&#39;ve illustrated."}, {"owner": {"reputation": 10320, "user_id": 818326, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ace3174f4519bdd2a622e1f14b2ebbae?s=128&d=identicon&r=PG", "display_name": "symlink", "link": "https://stackoverflow.com/users/818326/symlink"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 1, "creation_date": 1577321941, "post_id": 59482613, "comment_id": 105142015, "body": "@CertainPerformance An <code>HTMLOptionsCollection</code> object acts in this context like an array."}], "tags": [], "owner": {"reputation": 10320, "user_id": 818326, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ace3174f4519bdd2a622e1f14b2ebbae?s=128&d=identicon&r=PG", "display_name": "symlink", "link": "https://stackoverflow.com/users/818326/symlink"}, "is_accepted": false, "score": 3, "last_activity_date": 1577317398, "creation_date": 1577317398, "answer_id": 59482613, "question_id": 59482564, "link": "https://stackoverflow.com/questions/59482564/removing-options-from-select-tag-in-vanilla-javascript-with-for-of-loop/59482613#59482613", "title": "Removing options from Select tag in Vanilla JavaScript with &quot;for .. of&quot; loop", "body": "<p>You're removing items from an array, <em>as</em> you iterate through the array. So you have:</p>\n\n<p><code>[\"one\",\"two\",\"three\"]</code></p>\n\n<p>then you remove the item at index 0, which is \"one,\" leaving you with:</p>\n\n<p><code>[\"two\",\"three\"]</code></p>\n\n<p>next you remove the item at index 1, which is \"three,\" leaving you with:</p>\n\n<p><code>[\"two\"]</code></p>\n\n<p>there is no item at index 2, so the loop stops.</p>\n\n<p>Iterate through the array in <em>reverse</em> instead:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const t = document.querySelector(\"#form-select\")\r\n\r\nfor (let i = t.options.length-1; i &gt;= 0; i--) {\r\n  t.removeChild(t.options[i])\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;select id=\"form-select\"&gt;\r\n  &lt;option&gt;111&lt;/option&gt;\r\n  &lt;option&gt;222&lt;/option&gt;\r\n  &lt;option&gt;333&lt;/option&gt;\r\n&lt;/select&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 2395, "user_id": 11653883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M5n7K.jpg?s=128&g=1", "display_name": "Aaron Plocharczyk", "link": "https://stackoverflow.com/users/11653883/aaron-plocharczyk"}, "is_accepted": false, "score": 2, "last_activity_date": 1577589645, "creation_date": 1577589645, "answer_id": 59516627, "question_id": 59482564, "link": "https://stackoverflow.com/questions/59482564/removing-options-from-select-tag-in-vanilla-javascript-with-for-of-loop/59516627#59516627", "title": "Removing options from Select tag in Vanilla JavaScript with &quot;for .. of&quot; loop", "body": "<p>I see that your main goal is to understand the process that causes this to happen, so this should illustrate the problem for you:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arr = [\"one\", \"two\", \"three\", \"four\", \"five\", \"six\"];\r\n\r\nfor(var i = 0; i &lt; arr.length; i++){\r\n\tconsole.log(\"i is \" + i + \", so we are removing \\\"\" + arr[i] + \"\\\" from \" + JSON.stringify(arr) + \".\");\r\n\tarr.splice(i, 1);\r\n\tconsole.log(\"After that removal, the array is \" + JSON.stringify(arr) + \". We'll now iterate i to \" + (i + 1) + \" and continue the loop.\");\r\n}\r\nconsole.log(\"i is too high to grab a value from the array, so we're finished. We're left with \" + JSON.stringify(arr) + \".\");</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This loop goes through the exact same type of process that your \"for .. of\" loop goes through to leave you with extras in the final result. The problem is that it is destroying its own indices as it's iterating through them, thus changing the value that <code>i</code> is really referring to. When I'm facing this issue, I like to loop through the array <em>backwards</em> so I'm unaffected by my own destruction, like so:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arr = [\"one\", \"two\", \"three\", \"four\", \"five\", \"six\"];\r\n\r\nfor(var i = arr.length - 1; i &gt;= 0; i--){\r\n\tconsole.log(\"i is \" + i + \", so we are removing \\\"\" + arr[i] + \"\\\" from \" + JSON.stringify(arr) + \".\");\r\n\tarr.splice(i, 1);\r\n\tconsole.log(\"After that removal, the array is \" + JSON.stringify(arr) + \". We'll now iterate i to \" + (i - 1) + \" and continue the loop.\");\r\n}\r\nconsole.log(\"i is too low to grab a value from the array, so we're finished. We're left with \" + JSON.stringify(arr) + \".\");</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I hope this helps you understand what's going on here thoroughly. If you have any questions, feel free to leave me a comment.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 3206361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gA4wr.jpg?s=128&g=1", "display_name": "kichus14", "link": "https://stackoverflow.com/users/3206361/kichus14"}, "is_accepted": false, "score": 0, "last_activity_date": 1577699369, "creation_date": 1577699369, "answer_id": 59528762, "question_id": 59482564, "link": "https://stackoverflow.com/questions/59482564/removing-options-from-select-tag-in-vanilla-javascript-with-for-of-loop/59528762#59528762", "title": "Removing options from Select tag in Vanilla JavaScript with &quot;for .. of&quot; loop", "body": "<p>You are looping through the same array where index changes once you remove the item from array. Below is the sample where you can loop through options without index and remove it from array.</p>\n\n<pre><code>var selectOptions = document.querySelectorAll('#remove-option&gt;option');\nselectOptions.forEach(function(selectOption) {\n  selectOption.remove();\n  selectOption = null;\n});\n</code></pre>\n\n<p>Here is the <a href=\"https://jsfiddle.net/kichus14/b3hg0k5f/\" rel=\"nofollow noreferrer\">fiddle</a></p>\n"}], "owner": {"reputation": 632, "user_id": 3383722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/911f79735562cbf042fa586ec654667b?s=128&d=identicon&r=PG", "display_name": "Piotr", "link": "https://stackoverflow.com/users/3383722/piotr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 586, "favorite_count": 0, "accepted_answer_id": 59482580, "answer_count": 4, "score": 10, "last_activity_date": 1577699369, "creation_date": 1577316575, "question_id": 59482564, "link": "https://stackoverflow.com/questions/59482564/removing-options-from-select-tag-in-vanilla-javascript-with-for-of-loop", "title": "Removing options from Select tag in Vanilla JavaScript with &quot;for .. of&quot; loop", "body": "<p>When trying to remove options from select, there is always one left, why?</p>\n\n<pre><code>&lt;select id=\"form-select\"&gt;   \n&lt;option&gt;111&lt;/option&gt;\n&lt;option&gt;222&lt;/option&gt;\n&lt;option&gt;333&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>This JS is not working:</p>\n\n<pre><code>var t = document.querySelector('#form-select'); \nfor(var i of t.options) {\n      t.remove(i.index)\n    }\n</code></pre>\n\n<p>And this is not working also:</p>\n\n<pre><code>for(var i of document.querySelector('#form-select').options) {\n  i.remove()\n}\n</code></pre>\n\n<p>I know that there are other solutions to achieve that, but i would like to understand why it's not working as it supposed to </p>\n"}, {"tags": ["javascript", "node.js", "express", "vue.js", "vue-router"], "comments": [{"owner": {"reputation": 8957, "user_id": 1073868, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/397bb6e2c9cc191a20143ca8566385c5?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/1073868/dan"}, "edited": false, "score": 0, "creation_date": 1577316475, "post_id": 59482535, "comment_id": 105141396, "body": "You only use map in one place. I&#39;m guessing the remote API you&#39;re querying with axios isn&#39;t returning data in the format you&#39;re expecting. Check to see if <code>res.data</code> is <code>undefined</code> (in <code>EkonomiService.js</code>)"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1577316487, "post_id": 59482535, "comment_id": 105141399, "body": "perhaps data has no property called <code>posts</code>"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "reply_to_user": {"reputation": 8957, "user_id": 1073868, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/397bb6e2c9cc191a20143ca8566385c5?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/1073868/dan"}, "edited": false, "score": 0, "creation_date": 1577316545, "post_id": 59482535, "comment_id": 105141409, "body": "@DanPantry - <code>res.data</code> can&#39;t be undefined, since <code>data.posts.map</code> complains about <code>map</code> not <code>posts</code>"}, {"owner": {"reputation": 8957, "user_id": 1073868, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/397bb6e2c9cc191a20143ca8566385c5?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/1073868/dan"}, "edited": false, "score": 0, "creation_date": 1577316577, "post_id": 59482535, "comment_id": 105141414, "body": "Apologies, you&#39;re right. I misread :)"}, {"owner": {"reputation": 81, "user_id": 11277479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc1718ef3fe972bd3f86f5769df47ae?s=128&d=identicon&r=PG&f=1", "display_name": "kodak", "link": "https://stackoverflow.com/users/11277479/kodak"}, "reply_to_user": {"reputation": 8957, "user_id": 1073868, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/397bb6e2c9cc191a20143ca8566385c5?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/1073868/dan"}, "edited": false, "score": 0, "creation_date": 1577316605, "post_id": 59482535, "comment_id": 105141418, "body": "@DanPantry the data is succesfully getting returned, because i can see it in my logs on cmd."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1577316677, "post_id": 59482535, "comment_id": 105141434, "body": "@kodak - show us (<b>in the question</b>) an example of the response you get from the request"}, {"owner": {"reputation": 81, "user_id": 11277479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc1718ef3fe972bd3f86f5769df47ae?s=128&d=identicon&r=PG&f=1", "display_name": "kodak", "link": "https://stackoverflow.com/users/11277479/kodak"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1577316835, "post_id": 59482535, "comment_id": 105141448, "body": "@JaromandaX i added a picture to show you guys, but here i&#39;ll paste it here too :  ``` [ { _id: 5e03cf30a42ac53ca04193b5,     name: &#39;Biznesi m&#235; profitabil?&#39;,     content: &#39;Klikoni p&#235;r m&#235; shum&#235;...&#39;,     category: 5e0295317e7b5c07d8f359a4 },   { _id: 5e03dfb8942efe25d4b1e448,     name: &#39;test&#39;,     content: &#39;testest&#39;,     category: 5e0295317e7b5c07d8f359a4 } ] GET /ekonomi/ 304 83.485 ms - -```"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1577316872, "post_id": 59482535, "comment_id": 105141454, "body": "based on the <b>picture</b> you posted (why a picture?) ... you just want <code>data.map</code> -"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1577316892, "post_id": 59482535, "comment_id": 105141458, "body": "@kodak - I said <b>in the question</b> - why not post it <b>in the question</b>"}, {"owner": {"reputation": 81, "user_id": 11277479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc1718ef3fe972bd3f86f5769df47ae?s=128&d=identicon&r=PG&f=1", "display_name": "kodak", "link": "https://stackoverflow.com/users/11277479/kodak"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1577316980, "post_id": 59482535, "comment_id": 105141469, "body": "@JaromandaX when i do <code>data.map</code> i get the data.map is not a function, i posted the picture so you can see it better."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1577317098, "post_id": 59482535, "comment_id": 105141481, "body": "yes, and the data you posted has no array called <code>posts</code>, but seems to be an array itself, so <code>data.map</code> SHOULD exist - if what you posted is what you get"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1577317157, "post_id": 59482535, "comment_id": 105141486, "body": "Perhaps you should post what the browser receives, rather than some random console.log from the server which could be anything?"}, {"owner": {"reputation": 81, "user_id": 11277479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc1718ef3fe972bd3f86f5769df47ae?s=128&d=identicon&r=PG&f=1", "display_name": "kodak", "link": "https://stackoverflow.com/users/11277479/kodak"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1577317227, "post_id": 59482535, "comment_id": 105141495, "body": "@JaromandaX never mind bro i fixed it thanks a lot. I had the API return a new array called ekonomiPosts so i forgot to change the anme of it. Thanks a lot again"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1577317276, "post_id": 59482535, "comment_id": 105141500, "body": "yes, I just spotted that in your backend code - so clearly you showed the wrong &quot;result&quot; :p - by the way, your frontend code still uses a Promise constructor anti-pattern by the way - and is FAR more complex than it needs to be :p .... <code>class EkonomiService {     static getEconomyPosts() {         return axios.get(url).then(res =&gt; res.data.ekonomiPosts)     } }</code> does what you need"}, {"owner": {"reputation": 81, "user_id": 11277479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc1718ef3fe972bd3f86f5769df47ae?s=128&d=identicon&r=PG&f=1", "display_name": "kodak", "link": "https://stackoverflow.com/users/11277479/kodak"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1577317311, "post_id": 59482535, "comment_id": 105141505, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/204851/discussion-between-kodak-and-jaromanda-x\">continue this discussion in chat</a>."}], "owner": {"reputation": 81, "user_id": 11277479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc1718ef3fe972bd3f86f5769df47ae?s=128&d=identicon&r=PG&f=1", "display_name": "kodak", "link": "https://stackoverflow.com/users/11277479/kodak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 783, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1602772801, "creation_date": 1577316309, "last_edit_date": 1579204239, "question_id": 59482535, "link": "https://stackoverflow.com/questions/59482535/cannot-read-property-map-of-undefined-in-express-vuejs", "title": "Cannot read property &#39;map&#39; of undefined in Express, VueJS", "body": "<p>i'm building a fullstack app with Express, VueJS and mongoose and it's basically a news feed app. Before two days i had another error but you guys helped me fix it but now i have another one and basically its kinda the same. I have my backend which is handling all the HTTP request and i'm rendering the data (the posts in this case) in the frontend. My main page loads all the posts successfully but i have another page called economy which shows only the posts which are in the economy category but when i try to render the data the same way i did for all the posts it says 'Cannot read property 'map' of undefined'.</p>\n\n<p>I will provide you with the code so you don't get confused</p>\n\n<p>ekonomi.js class:</p>\n\n<pre><code>const express = require(\"express\");\nconst router = express.Router();\n\nconst Post = require(\"../../models/post\");\n\nrouter.get(\"/\", (req, res, next) =&gt; {\n  Post.find()\n    .where(\"category\")\n    .equals(\"5e0295317e7b5c07d8f359a4\")\n    .select(\"_id name content category\")\n    .exec()\n    .then(doc =&gt; {\n      console.log(doc);\n      res.status(200).json({\n        count: doc.length,\n        ekonomiPosts: doc\n      });\n    })\n    .catch(err =&gt; {\n      console.log(err);\n      res.status(500).json({\n        error: err\n      });\n    });\n});\n\nmodule.exports = router;\n\n</code></pre>\n\n<p>EkonomiService.js class which is in the frontend and has the getEconomyPosts() method :</p>\n\n<pre><code>\nconst url = \"http://localhost:9000/ekonomi/\";\n\nclass EkonomiService {\n  static getEconomyPosts() {\n    return new Promise(async (resolve, reject) =&gt; {\n      try {\n        const res = await axios.get(url);\n        const data = res.data;\n        resolve(\n          data.posts.map(post =&gt; ({\n            ...post\n          }))\n        );\n      } catch (err) {\n        reject(err);\n      }\n    });\n  }\n}\n\nexport default EkonomiService;\n</code></pre>\n\n<p>EkonomiComponent.vue class</p>\n\n<pre><code>  &lt;div class=\"container\"&gt;\n    &lt;h1 class=\"introTitle\"&gt;Ekonomi&lt;/h1&gt;\n    &lt;hr /&gt;\n    &lt;p class=\"error\" v-if=\"error\"&gt;{{ error }}&lt;/p&gt;\n    &lt;div class=\"posts-container\"&gt;\n      &lt;div\n        class=\"post\"\n        v-for=\"(post, index) in posts\"\n        v-bind:item=\"post\"\n        v-bind:index=\"index\"\n        v-bind:key=\"post._id\"\n      &gt;\n        &lt;img :src=\"post.postImage\" class=\"postImage\" /&gt;\n        &lt;p class=\"category\"&gt;{{ post.category.name }}&lt;/p&gt;\n        &lt;p class=\"title\"&gt;{{ post.name }}&lt;/p&gt;\n        &lt;p class=\"content\"&gt;{{ post.content }}&lt;/p&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nimport EkonomiService from \"../services/EkonomiService\";\n\nexport default {\n  name: \"EkonomiComponent\",\n  data() {\n    return {\n      posts: [],\n      error: \"\",\n      text: \"\"\n    };\n  },\n  async created() {\n    try {\n      this.posts = await EkonomiService.getEconomyPosts();\n    } catch (err) {\n      this.error = err.message;\n    }\n  }\n};\n</code></pre>\n\n<p>When i try and fetch the data from the url <a href=\"http://localhost:9000/posts/\" rel=\"nofollow noreferrer\">http://localhost:9000/posts/</a> just like i did in my main page which returns all the posts it doesn't throw any errors, so i don't exactly know where the problem is.</p>\n\n<p><a href=\"https://i.stack.imgur.com/5fxK3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5fxK3.png\" alt=\"The data from backend\"></a></p>\n\n<p>I would appreciate if you could help me, thanks.</p>\n"}, {"tags": ["javascript", "node.js", "postgresql", "sequelize.js", "sequelize-auto"], "owner": {"reputation": 51505, "user_id": 741099, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9a7101fe3ba50e621e91ee1edf9d27bb?s=128&d=identicon&r=PG", "display_name": "Nyxynyx", "link": "https://stackoverflow.com/users/741099/nyxynyx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 485, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1577315914, "creation_date": 1577315914, "question_id": 59482492, "link": "https://stackoverflow.com/questions/59482492/sequelize-create-import-dynamically-generated-models", "title": "Sequelize Create/Import Dynamically Generated Models", "body": "<p>I have a Sequelize migration script (built off <code>sequelize-cli</code>'s initial migration script generated from running <code>sequelize-cli</code>) that dynamically creates tables based on a list of ~100 hardcoded table names imported from a .json file. Thus, it will be tedious and error-prone to hardcode the Sequelize model definitions by hand.</p>\n\n<p><strong>Question:</strong> How can we dynamically generate the Sequelize models by reading from the same .json file? I am mainly stuck how we should return multiple Sequelize models using <code>module.exports</code>, based on the model definition file auto-generated from running <code>sequelize-cli model:generate --name Base ...</code>. There appears to be a special script <code>models/index.js</code> for reading the model definition file <code>models/base.js</code>.</p>\n\n<p><strong>models/base.js</strong></p>\n\n<pre><code>'use strict';\nconst universe = require('../config/universe.json');\n\nconst generateModel = (sequelize, DataTypes, tableName) =&gt; {\n    const schema = {\n        name: DataTypes.STRING,\n        power: DataTypes.DOUBLE,\n    };\n    const options = {\n        timestamps: false,\n    };\n    const Model = sequelize.define(tableName, schema, options);\n    Model.associate = function(models) {\n        // associations can be defined here\n    }\n\n    return Model;\n}\n\nmodule.exports = (sequelize, DataTypes) =&gt; {\n    models = []\n    for (let planet in universe) {\n        for (const species of universe[planet]) {\n            models.push(generateModel(species));\n        }\n    }\n\n  return models;\n};\n</code></pre>\n\n<p><strong>app.js</strong></p>\n\n<p><em>Attempting to load the dynamically created model Human</em></p>\n\n<pre><code>const Human = require('./models').base.human;\n\nHuman.create({name: 'Tom', power: 1.23});\n</code></pre>\n\n<p><strong>config/universe.json</strong></p>\n\n<p><em>Example hardcoded data file</em></p>\n\n<pre><code>{\n    \"earth\": [\n        'human', \n        'cat', \n        'dog'\n    ]\n}\n</code></pre>\n\n<p><strong>models/index.js</strong></p>\n\n<p><em>This file is auto-generated after running <code>sequelize-cli init</code></em></p>\n\n<pre><code>'use strict';\n\nconst fs = require('fs');\nconst path = require('path');\nconst Sequelize = require('sequelize');\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || 'development';\nconst config = require(__dirname + '/../config/config.json')[env];\nconst db = {};\n\nlet sequelize;\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs\n  .readdirSync(__dirname)\n  .filter(file =&gt; {\n    return (file.indexOf('.') !== 0) &amp;&amp; (file !== basename) &amp;&amp; (file.slice(-3) === '.js');\n  })\n  .forEach(file =&gt; {\n    const model = sequelize['import'](path.join(__dirname, file));\n    db[model.name] = model;\n  });\n\nObject.keys(db).forEach(modelName =&gt; {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nmodule.exports = db;\n</code></pre>\n"}, {"tags": ["javascript", "if-statement"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 12597682, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jpXqXJhl6fY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd67xzr9wpk_JVxDiTbXIqIc-8dKQ/photo.jpg?sz=128", "display_name": "Bishop Walker", "link": "https://stackoverflow.com/users/12597682/bishop-walker"}, "edited": false, "score": 0, "creation_date": 1577319968, "post_id": 59482543, "comment_id": 105141809, "body": "okay cool thank you let me go try that. Thanks for the quick response.."}, {"owner": {"reputation": 21, "user_id": 12597682, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jpXqXJhl6fY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd67xzr9wpk_JVxDiTbXIqIc-8dKQ/photo.jpg?sz=128", "display_name": "Bishop Walker", "link": "https://stackoverflow.com/users/12597682/bishop-walker"}, "edited": false, "score": 0, "creation_date": 1577320558, "post_id": 59482543, "comment_id": 105141869, "body": "then to finish your code     {       amount = &quot;200&quot;;     } else {      amount = &quot;300&quot;;    }      document.getElementById(&#39;lilDiv&#39;).innerHTML = statement + amount;   Cause it&#39;s still not working it always does the first then, never the else"}, {"owner": {"reputation": 14270, "user_id": 1540854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e49f9de6321622f1fcebc76e72da708?s=128&d=identicon&r=PG", "display_name": "jeprubio", "link": "https://stackoverflow.com/users/1540854/jeprubio"}, "reply_to_user": {"reputation": 21, "user_id": 12597682, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jpXqXJhl6fY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd67xzr9wpk_JVxDiTbXIqIc-8dKQ/photo.jpg?sz=128", "display_name": "Bishop Walker", "link": "https://stackoverflow.com/users/12597682/bishop-walker"}, "edited": false, "score": 0, "creation_date": 1577325816, "post_id": 59482543, "comment_id": 105142447, "body": "Sorry, it must be ands instead of ors. I&#39;ve updated the answer. I understant you want the 300 if it&#39;s one of the companies <code>(insurance == &quot;amica&quot; || insurance == &quot;travelers&quot;...</code>. The negation of that, when it&#39;s none of the 5 companies, is <code>(insurance != &quot;amica&quot; &amp;&amp; insurance != &quot;travelers&quot;...</code> check <code>Morgan&#39;s law</code>"}], "tags": [], "owner": {"reputation": 14270, "user_id": 1540854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e49f9de6321622f1fcebc76e72da708?s=128&d=identicon&r=PG", "display_name": "jeprubio", "link": "https://stackoverflow.com/users/1540854/jeprubio"}, "is_accepted": false, "score": 1, "last_activity_date": 1577325592, "last_edit_date": 1577325592, "creation_date": 1577316407, "answer_id": 59482543, "question_id": 59482488, "link": "https://stackoverflow.com/questions/59482488/javascript-if-or-statements/59482543#59482543", "title": "javascript if or statements", "body": "<p>When you do:</p>\n\n<pre><code>if (insurance != (\"amica\" || \"travelers\" || \"national general\" || \"infinity\" || \"cincinatti\"))\n</code></pre>\n\n<p>It's evaluating first <code>(\"amica\" || \"travelers\" || \"national general\" || \"infinity\" || \"cincinatti\")</code> and then checking if it's different than the insurance value.</p>\n\n<p>I suppose you wanted to do:</p>\n\n<pre><code>if (insurance != \"amica\" &amp;&amp; insurance != \"travelers\" &amp;&amp; insurance != \"national general\" &amp;&amp; insurance != \"infinity\" &amp;&amp; insurance != \"cincinatti\")\n</code></pre>\n\n<p>And this could also be solved by defining an array and checking whether it includes that value:</p>\n\n<pre><code>const insurances = [\"amica\", \"travelers\", \"national general\", \n\"infinity\", \"cincinatti\"];\n\nif (!insurances.includes(insurance))\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 12597682, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jpXqXJhl6fY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd67xzr9wpk_JVxDiTbXIqIc-8dKQ/photo.jpg?sz=128", "display_name": "Bishop Walker", "link": "https://stackoverflow.com/users/12597682/bishop-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "closed_date": 1577316271, "answer_count": 1, "score": 1, "last_activity_date": 1577325592, "creation_date": 1577315863, "last_edit_date": 1577316513, "question_id": 59482488, "link": "https://stackoverflow.com/questions/59482488/javascript-if-or-statements", "closed_reason": "Needs details or clarity", "title": "javascript if or statements", "body": "<p>I have the following code:</p>\n\n<pre><code>if (insurance != (\"amica\" || \"travelers\" || \"national general\" || \"infinity\" || \"cincinatti\")) {\n    amount = \"$200\";\n} else {\n    amount = \"$300\";\n}\n</code></pre>\n\n<p>I'm trying to have my web page display you get $200 if it's not one of the five company above. </p>\n\n<p>Unfortunately, I can't seem to get it to work. I've written it several different ways\nI started\n<code>if (insurance === \"amica || insurance === \"travelers || ...</code> but nothing seems to work. </p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["javascript", "node.js", "postgresql", "jestjs", "knex.js"], "answers": [{"tags": [], "owner": {"reputation": 5991, "user_id": 122643, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9b8d53dbc30a2db40a85586731e8c5bf?s=128&d=identicon&r=PG", "display_name": "Rich Churcher", "link": "https://stackoverflow.com/users/122643/rich-churcher"}, "is_accepted": true, "score": 0, "last_activity_date": 1577832825, "creation_date": 1577832825, "answer_id": 59548983, "question_id": 59482478, "link": "https://stackoverflow.com/questions/59482478/how-to-handle-foreign-key-constraint-with-jest-supertest-knex-postgres/59548983#59548983", "title": "How to handle foreign key constraint with Jest/Supertest/Knex/Postgres", "body": "<p>I think the trick here will be to resort to a bit of <code>knex.raw</code>:</p>\n\n<pre><code>await db.raw('TRUNCATE graphs, users RESTART IDENTITY CASCADE');\n</code></pre>\n\n<p><code>CASCADE</code> because you don't want foreign key constraints getting in the way, and <code>RESTART IDENTITY</code> because the default Postgres behaviour is not to reset sequences. See <a href=\"https://www.postgresql.org/docs/12/sql-truncate.html\" rel=\"nofollow noreferrer\">TRUNCATE</a>.</p>\n\n<p>While we're on a related subject, allow me to introduce something that might make your life a lot easier: template databases! Templates are databases that Postgres can use to very rapidly recreate a database from a known state (by copying it). This can be faster than even truncating tables, and it allows us to skip all the annoying foreign key stuff when testing.</p>\n\n<p>For example, you could use <code>raw</code> to do the following:</p>\n\n<pre><code>DROP DATABASE testdb;\nCREATE DATABASE testdb TEMPLATE testdb_template;\n</code></pre>\n\n<p>This is a surprisingly inexpensive operation, and is great for testing because you can begin with a known state (not necessarily an empty one) each time you do a test run. I guess the caveats are that your <code>knexfile.js</code> will need to specify a connection with a user sufficiently credentialled to create and delete databases (so maybe an 'admin' connection that knows about <code>localhost</code> only) and that the template must be created and maintained. See <a href=\"https://www.postgresql.org/docs/12/manage-ag-templatedbs.html\" rel=\"nofollow noreferrer\">Template Databases</a> for more.</p>\n"}], "owner": {"reputation": 348, "user_id": 5046696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/xi6xI.jpg?s=128&g=1", "display_name": "cpppatrick", "link": "https://stackoverflow.com/users/5046696/cpppatrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 618, "favorite_count": 0, "accepted_answer_id": 59548983, "answer_count": 1, "score": 1, "last_activity_date": 1577832825, "creation_date": 1577315758, "question_id": 59482478, "link": "https://stackoverflow.com/questions/59482478/how-to-handle-foreign-key-constraint-with-jest-supertest-knex-postgres", "title": "How to handle foreign key constraint with Jest/Supertest/Knex/Postgres", "body": "<p>I'm trying to start writing tests for my application. I'm using Jest &amp; Supertest to run all of my tests. When I try and run my test suite, I'm getting an error regarding a foreign key constraint.</p>\n\n<p>The error:</p>\n\n<pre><code>error: truncate \"users\" restart identity - cannot truncate a table referenced in a foreign key constrainterror: cannot truncate a table referenced in a foreign key constraint\n</code></pre>\n\n<p>This is my server.spec.js file:</p>\n\n<pre><code>const request = require('supertest');\nconst server = require('./server.js');\nconst db = require('../data/db-config.js');\n\ndescribe('server.js', () =&gt; {\n    describe('POST /register', () =&gt; {\n        it('should return 201 created', async () =&gt; {\n            const user = \n                { \n                    name: \"test\",\n                    username: \"test\",\n                    email: \"test77@test.com\",\n                    password: \"password\"\n                }\n            const res = await request(server).post('/api/auth/register').send(user);\n            expect(res.status).toBe(201);\n        })\n\n        beforeEach(async () =&gt; {\n            await db(\"graphs\").truncate();\n            await db(\"users\").truncate();\n          });\n    })\n})\n</code></pre>\n\n<p>And here is my knex migration file:</p>\n\n<pre><code>exports.up = function(knex) {\n  return (\n      knex.schema\n        .createTable('users', tbl =&gt; {\n            tbl.increments();\n            tbl.string('username', 255).notNullable();\n            tbl.string('password', 255).notNullable();\n            tbl.string('name', 255).notNullable();\n            tbl.string('email', 255).unique().notNullable();\n        })\n        .createTable('graphs', tbl =&gt; {\n          tbl.increments();\n          tbl.string('graph_name', 255).notNullable();\n          tbl.specificType('dataset', 'integer[]').notNullable();\n          tbl\n            .integer('user_id')\n            .unsigned()\n            .notNullable()\n            .references('id')\n            .inTable('users')\n            .onDelete('CASCADE')\n            .onUpdate('CASCADE');\n        })\n  )\n};\n\nexports.down = function(knex) {\n  return (\n      knex.schema\n        .dropTableIfExists('graphs')  \n        .dropTableIfExists('users')\n  )\n};\n</code></pre>\n\n<p>I came across this answer in my research: <a href=\"https://stackoverflow.com/questions/16049097/how-to-test-tables-linked-with-foreign-keys\">How to test tables linked with foreign keys?</a></p>\n\n<p>I'm new to both Postgres as well as testing. It makes sense that I would need to drop the tables in the reverse order like I have in my migration. But when I try to truncate them in the <code>beforeEach</code> section of my test, it doesn't seem to matter what order the tables are listed in.</p>\n\n<p>I'm not sure where exactly to go from here. Any help would be greatly appreciated.</p>\n"}, {"tags": ["javascript", "random", "numbers", "generator"], "comments": [{"owner": {"reputation": 1054, "user_id": 10508250, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KjjYVoCOwmg/AAAAAAAAAAI/AAAAAAAAAKU/5OoE4lwEnYw/photo.jpg?sz=128", "display_name": "Tharindu Vindula", "link": "https://stackoverflow.com/users/10508250/tharindu-vindula"}, "edited": false, "score": 0, "creation_date": 1577315871, "post_id": 59482446, "comment_id": 105141338, "body": "you want java code or javascript code"}, {"owner": {"reputation": 949, "user_id": 1196983, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/FO9zN.jpg?s=128&g=1", "display_name": "1000Gbps", "link": "https://stackoverflow.com/users/1196983/1000gbps"}, "edited": false, "score": 0, "creation_date": 1577316674, "post_id": 59482446, "comment_id": 105141433, "body": "See <a href=\"https://stackoverflow.com/questions/12673691/true-or-better-random-numbers-with-javascript\" title=\"true or better random numbers with javascript\">stackoverflow.com/questions/12673691/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 953, "user_id": 4070660, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c16ef6b3d189409dad1c7f5622ade04c?s=128&d=identicon&r=PG&f=1", "display_name": "K.H.", "link": "https://stackoverflow.com/users/4070660/k-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1577353749, "creation_date": 1577353749, "answer_id": 59486617, "question_id": 59482446, "link": "https://stackoverflow.com/questions/59482446/how-can-i-make-my-random-number-generator-stop-producing-the-same-numbersjavas/59486617#59486617", "title": "How can i make my random number generator stop producing the same numbers?(Javascript)", "body": "<p>If you don't want repeats, one approach is to generate array of all possible values and then take random value from array everytime (and remove it at the same time). That way values never repeat.</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 12597662, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCm5-zT0oMU3enP6aLWsE-mWhEVqu6aeeDpQ9y1kq0=k-s128", "display_name": "Chris Daravalis", "link": "https://stackoverflow.com/users/12597662/chris-daravalis"}, "edited": false, "score": 0, "creation_date": 1577453298, "post_id": 59490113, "comment_id": 105175218, "body": "This has been very helpful thanks a lot. Is there a way i can make it stop after it has cycled through all the available numbers?"}, {"owner": {"reputation": 2395, "user_id": 11653883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M5n7K.jpg?s=128&g=1", "display_name": "Aaron Plocharczyk", "link": "https://stackoverflow.com/users/11653883/aaron-plocharczyk"}, "reply_to_user": {"reputation": 23, "user_id": 12597662, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCm5-zT0oMU3enP6aLWsE-mWhEVqu6aeeDpQ9y1kq0=k-s128", "display_name": "Chris Daravalis", "link": "https://stackoverflow.com/users/12597662/chris-daravalis"}, "edited": false, "score": 0, "creation_date": 1577457604, "post_id": 59490113, "comment_id": 105176791, "body": "No problem! Just replace the stuff inside the if statement with: return false;"}], "tags": [], "owner": {"reputation": 2395, "user_id": 11653883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M5n7K.jpg?s=128&g=1", "display_name": "Aaron Plocharczyk", "link": "https://stackoverflow.com/users/11653883/aaron-plocharczyk"}, "is_accepted": true, "score": 0, "last_activity_date": 1577372597, "creation_date": 1577372597, "answer_id": 59490113, "question_id": 59482446, "link": "https://stackoverflow.com/questions/59482446/how-can-i-make-my-random-number-generator-stop-producing-the-same-numbersjavas/59490113#59490113", "title": "How can i make my random number generator stop producing the same numbers?(Javascript)", "body": "<p>To prevent repetitions, generate a shuffled array of all possible values. <a href=\"https://randojs.com\" rel=\"nofollow noreferrer\">randojs.com</a> makes it easy to do this. For a shuffled array of all numbers 0-30, all you have to say is:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var sequence = randoSequence(30);\r\n\r\nconsole.log(sequence);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://randojs.com/1.0.0.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So, to convert your code, all you'll have to do is:</p>\n\n<pre><code>var sequence = randoSequence(30);\nfunction function1() {\n    if(sequence.length == 0){//refill the array once we've completely iterated through all possible values\n        sequence = randoSequence(30);\n    }\n\n    var randomNumber = sequence.pop();\n    var imgName = \"pic (\" + randomNumber + \").jpg\";\n    document.getElementById(\"imgid2\").src=\"Pictures\" + \"/\" + imgName;\n}\n</code></pre>\n\n<p>Note that this code also loops through the complete set of all possible values AGAIN once we've run out. Like I said, this code uses <a href=\"https://randojs.com\" rel=\"nofollow noreferrer\">randojs.com</a>, so if you want to use it, make sure you toss this in the head tag of your html document:</p>\n\n<pre><code>&lt;script src=\"https://randojs.com/1.0.0.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Here's a proof of concept if you just want to hit \"run\" and see it work:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var sequence = randoSequence(30);\r\n\r\nfunction function1() {\r\n  if (sequence.length == 0) { //refill the array once we've completely iterated through all possible values\r\n    sequence = randoSequence(30);\r\n    console.log(\"ALL POSSIBLE VALUES REFILLED.\");\r\n  }\r\n\r\n  console.log(sequence.pop());\r\n}\r\n\r\nfor (var i = 0; i &lt; 35; i++) function1();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://randojs.com/1.0.0.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 23, "user_id": 12597662, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCm5-zT0oMU3enP6aLWsE-mWhEVqu6aeeDpQ9y1kq0=k-s128", "display_name": "Chris Daravalis", "link": "https://stackoverflow.com/users/12597662/chris-daravalis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 59490113, "answer_count": 2, "score": 2, "last_activity_date": 1577372597, "creation_date": 1577315337, "last_edit_date": 1577356537, "question_id": 59482446, "link": "https://stackoverflow.com/questions/59482446/how-can-i-make-my-random-number-generator-stop-producing-the-same-numbersjavas", "title": "How can i make my random number generator stop producing the same numbers?(Javascript)", "body": "<p>I have created a random number generator and I want to avoid repeating the same values.\nHere is my code:</p>\n\n<pre><code>function function1() {\n  var randomNumber = Math.floor(Math.random() * 30) + 1;\n  var imgName = \"pic (\" + randomNumber + \").jpg\";\n  document.getElementById(\"imgid2\").src=\"Pictures\" + \"/\" + imgName;\n}\n</code></pre>\n"}, {"tags": ["javascript", "php", "html", "css"], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 11277479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc1718ef3fe972bd3f86f5769df47ae?s=128&d=identicon&r=PG&f=1", "display_name": "kodak", "link": "https://stackoverflow.com/users/11277479/kodak"}, "is_accepted": false, "score": 0, "last_activity_date": 1577315255, "creation_date": 1577315255, "answer_id": 59482440, "question_id": 59482418, "link": "https://stackoverflow.com/questions/59482418/how-do-i-display-text-with-a-colored-background-when-i-select-one-of-the-content/59482440#59482440", "title": "how do I display text with a colored background when I select one of the contents of the combo box in php javascript", "body": "<p>In your css you can do something like this :</p>\n\n<p>(if you use radio buttons):</p>\n\n<pre><code>.input[type=\"radio\"]:checked {\n   background-color: blue;\n}\n</code></pre>\n\n<p>(if you use dropdown):</p>\n\n<pre><code>option:checked {\n  background: red;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 12548833, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDDThMSqwGsXN_yLjhpBNczk-kW566DVD26p_IF=k-s128", "display_name": "Agam Pramana", "link": "https://stackoverflow.com/users/12548833/agam-pramana"}, "edited": false, "score": 0, "creation_date": 1577324512, "post_id": 59482483, "comment_id": 105142319, "body": "sorry , i mean like this <a href=\"https://prnt.sc/qfqx2v\" rel=\"nofollow noreferrer\">prnt.sc/qfqx2v</a> click this link thanks"}, {"owner": {"reputation": 1488, "user_id": 5999686, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T14yZ.jpg?s=128&g=1", "display_name": "Marc Hjorth", "link": "https://stackoverflow.com/users/5999686/marc-hjorth"}, "reply_to_user": {"reputation": 1, "user_id": 12548833, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDDThMSqwGsXN_yLjhpBNczk-kW566DVD26p_IF=k-s128", "display_name": "Agam Pramana", "link": "https://stackoverflow.com/users/12548833/agam-pramana"}, "edited": false, "score": 0, "creation_date": 1577460440, "post_id": 59482483, "comment_id": 105177910, "body": "I updated my answer, hopefully this is what you are looking for. @AgamPramana"}], "tags": [], "owner": {"reputation": 1488, "user_id": 5999686, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T14yZ.jpg?s=128&g=1", "display_name": "Marc Hjorth", "link": "https://stackoverflow.com/users/5999686/marc-hjorth"}, "is_accepted": false, "score": 0, "last_activity_date": 1577460415, "last_edit_date": 1577460415, "creation_date": 1577315794, "answer_id": 59482483, "question_id": 59482418, "link": "https://stackoverflow.com/questions/59482418/how-do-i-display-text-with-a-colored-background-when-i-select-one-of-the-content/59482483#59482483", "title": "how do I display text with a colored background when I select one of the contents of the combo box in php javascript", "body": "<p>You could do it like this using plain <code>javascript</code>.</p>\n\n<p><a href=\"https://jsfiddle.net/jrh068xk/3/\" rel=\"nofollow noreferrer\"><strong>JSFiddle Demo</strong></a></p>\n\n<p>I put comments in the code for explanation.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Select the dropdown color selector.\r\n\r\nvar colorSelect = document.querySelector(\"#colors\");\r\n\r\n\r\n// Add a function to run, each time a new option(color) is selected.'\r\n\r\ncolorSelect.addEventListener(\"change\", changeColor);\r\n\r\n\r\n// Run the function from the previous event listener.\r\n// The function get the color with \"this.value\", where this is the selected value. \r\n// This works since each option has a value in the markup, otherwise you had to get the text value.\r\n// Then it sets the background color of the body to the selected color.\r\n\r\nfunction changeColor() {\r\n    var selectedValue = this.value;\r\n    document.body.style.backgroundColor = selectedValue;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;select name=\"colors\" id=\"colors\"&gt;\r\n  &lt;option value=\"\"&gt;&lt;/option&gt;\r\n  &lt;option value=\"red\"&gt;red&lt;/option&gt;\r\n  &lt;option value=\"blue\"&gt;blue&lt;/option&gt;\r\n  &lt;option value=\"green\"&gt;green&lt;/option&gt;\r\n&lt;/select&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p><strong>Updated answer</strong></p>\n\n<p><a href=\"http://jsfiddle.net/j3ycu06f/4/\" rel=\"nofollow noreferrer\"><strong>Working demo</strong></a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var box = document.querySelector(\".box\");\r\nvar colorSelect = document.querySelector(\"#colors\");\r\n\r\ncolorSelect.addEventListener(\"change\", changeColor);\r\n\r\nfunction changeColor() {\r\n  var selectedColor = this.value;\r\n  var selectedType = colorSelect.options[colorSelect.selectedIndex].text;\r\n\r\n  box.style.backgroundColor = selectedColor;\r\n  box.innerHTML = selectedType;\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.box {\r\n  height: 20px;\r\n  width: 200px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"box\"&gt;&lt;/div&gt;\r\n\r\n&lt;select name=\"colors\" id=\"colors\"&gt;\r\n  &lt;option value=\"\"&gt;&lt;/option&gt;\r\n  &lt;option value=\"red\"&gt;Danger&lt;/option&gt;\r\n  &lt;option value=\"yellow\"&gt;Warning&lt;/option&gt;\r\n  &lt;option value=\"green\"&gt;Success&lt;/option&gt;\r\n&lt;/select&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1493, "user_id": 10032505, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/clhpj.jpg?s=128&g=1", "display_name": "Mohammad", "link": "https://stackoverflow.com/users/10032505/mohammad"}, "is_accepted": false, "score": 0, "last_activity_date": 1577317757, "last_edit_date": 1577317757, "creation_date": 1577316573, "answer_id": 59482563, "question_id": 59482418, "link": "https://stackoverflow.com/questions/59482418/how-do-i-display-text-with-a-colored-background-when-i-select-one-of-the-content/59482563#59482563", "title": "how do I display text with a colored background when I select one of the contents of the combo box in php javascript", "body": "<p>As you said <strong>combobox</strong> you can use <strong>wijmo</strong> library and code (full-screen to test snippets) and <a href=\"https://jsfiddle.net/maxofpower/Ld7y041x/8/\" rel=\"nofollow noreferrer\"><strong>JSfiddle</strong></a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>onload = function() {\r\n\r\n  // create some random data\r\n  var names = 'primary,warning,danger'.split(','),\r\n    data = [];\r\n  for (var i = 0; i &lt; names.length; i++) {\r\n    data.push({\r\n      name: names[i]\r\n    });\r\n  }\r\n\r\n  var theComboString = new wijmo.input.ComboBox('#theComboString', {\r\n    selectedIndexChanged: function(s, e) {\r\n    \tsetText('theComboStringCurrent', s.text);\r\n    },\r\n    itemsSource: names\r\n\t});\r\n \r\n\r\n\t// show text in an element on the page\r\n  function setText(id, value) {\r\n  \tdocument.getElementById(id).textContent = value;\r\n    if(value==\"primary\")\r\n    {\r\n    $(\"#theComboString\").css(\"background-color\",\"green\");\r\n    }\r\n    if(value==\"danger\")\r\n    {\r\n    $(\"#theComboString\").css(\"background-color\",\"red\");\r\n    }\r\n     if(value==\"warning\")\r\n    {\r\n    $(\"#theComboString\").css(\"background-color\",\"orange\");\r\n    }\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css\" rel=\"stylesheet\"/&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;link href=\"https://cdn.grapecity.com/wijmo/5.latest/styles/wijmo.min.css\" rel=\"stylesheet\"/&gt;\r\n&lt;script src=\"https://cdn.grapecity.com/wijmo/5.latest/controls/wijmo.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdn.grapecity.com/wijmo/5.latest/controls/wijmo.input.min.js\"&gt;&lt;/script&gt;\r\n\r\n\r\n&lt;div class=\"container\"&gt;\r\n\r\n  &lt;h1&gt;\r\n    ComboBox\r\n  &lt;/h1&gt;\r\n\r\n  &lt;label for=\"theComboString\"&gt;Strings:&lt;/label&gt;\r\n  &lt;div id=\"theComboString\"&gt;&lt;/div&gt;\r\n  &lt;p&gt;\r\n    The current value is: &lt;b id=\"theComboStringCurrent\"&gt;&lt;/b&gt;.\r\n  &lt;/p&gt;\r\n\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 12548833, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDDThMSqwGsXN_yLjhpBNczk-kW566DVD26p_IF=k-s128", "display_name": "Agam Pramana", "link": "https://stackoverflow.com/users/12548833/agam-pramana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1577460415, "creation_date": 1577314880, "last_edit_date": 1577321715, "question_id": 59482418, "link": "https://stackoverflow.com/questions/59482418/how-do-i-display-text-with-a-colored-background-when-i-select-one-of-the-content", "title": "how do I display text with a colored background when I select one of the contents of the combo box in php javascript", "body": "<p>I have 3 text in combobox (primary,danger,warning) when i clicked the one of that, text will be displayed based on the combobox selected with the background color, the example, i select danger text in combobox that will displayed text danger with the red background, how i to make it in php, javascript?</p>\n\n<p><a href=\"https://prnt.sc/qfqx2v\" rel=\"nofollow noreferrer\">https://prnt.sc/qfqx2v</a>\n<a href=\"https://prnt.sc/qfqx86\" rel=\"nofollow noreferrer\">https://prnt.sc/qfqx86</a></p>\n\n<p>i have example just click the link on top</p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 2, "creation_date": 1577315134, "post_id": 59482412, "comment_id": 105141257, "body": "You think you&#39;ve prevented content copying? Good luck with that"}, {"owner": {"reputation": 1, "user_id": 6494998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d97781ee1158aaa911150d59869982b6?s=128&d=identicon&r=PG&f=1", "display_name": "Neerad Vaidya", "link": "https://stackoverflow.com/users/6494998/neerad-vaidya"}, "reply_to_user": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1577315486, "post_id": 59482412, "comment_id": 105141288, "body": "Yeah, if the loaded content origins from same domain"}, {"owner": {"reputation": 165027, "user_id": 1902010, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a19f9308334d07d4be19c8f6d11151ff?s=128&d=identicon&r=PG", "display_name": "ceejayoz", "link": "https://stackoverflow.com/users/1902010/ceejayoz"}, "edited": false, "score": 1, "creation_date": 1577315755, "post_id": 59482412, "comment_id": 105141323, "body": "@NeeradVaidya Anyone who wants to copy is going to disable JavaScript, or use the developer tools, or any of a number of other approaches. Trying to stop people from copying text is pointless and simply not possible."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1577315920, "post_id": 59482412, "comment_id": 105141343, "body": "the only way to prevent someone from copying content is to not send it (I think that&#39;s a Zen quote)"}, {"owner": {"reputation": 1, "user_id": 6494998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d97781ee1158aaa911150d59869982b6?s=128&d=identicon&r=PG&f=1", "display_name": "Neerad Vaidya", "link": "https://stackoverflow.com/users/6494998/neerad-vaidya"}, "reply_to_user": {"reputation": 165027, "user_id": 1902010, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a19f9308334d07d4be19c8f6d11151ff?s=128&d=identicon&r=PG", "display_name": "ceejayoz", "link": "https://stackoverflow.com/users/1902010/ceejayoz"}, "edited": false, "score": 0, "creation_date": 1577318492, "post_id": 59482412, "comment_id": 105141640, "body": "@ceejayoz yeah I know and I understand, but this is weird ask from my client. I tried to make them understand but it did not worked out. So I had no other option to ask you folks."}, {"owner": {"reputation": 1, "user_id": 6494998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d97781ee1158aaa911150d59869982b6?s=128&d=identicon&r=PG&f=1", "display_name": "Neerad Vaidya", "link": "https://stackoverflow.com/users/6494998/neerad-vaidya"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1577318544, "post_id": 59482412, "comment_id": 105141645, "body": "@JaromandaX nice quote..."}], "owner": {"reputation": 1, "user_id": 6494998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d97781ee1158aaa911150d59869982b6?s=128&d=identicon&r=PG&f=1", "display_name": "Neerad Vaidya", "link": "https://stackoverflow.com/users/6494998/neerad-vaidya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 223, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577314759, "creation_date": 1577314759, "question_id": 59482412, "link": "https://stackoverflow.com/questions/59482412/prevent-content-copying-from-iframe", "title": "Prevent content copying from iframe", "body": "<p>I want to prevent copying content loaded in iframe. I am using the following code [<a href=\"https://stackoverflow.com/a/30398393\">per this answer</a>], and it works fine.</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Test&lt;/title&gt;\n    &lt;script type='text/javascript' src='//code.jquery.com/jquery-1.8.3.js'&gt;&lt;/script&gt;\n    &lt;script type='text/javascript'&gt;\n        $(window).load(function () {            \n            var $frame = $(\"#tif\");\n            $frame.contents().bind(\"copy\", function (e) {\n                e.preventDefault();\n            });\n        });\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;iframe src=\"whatever.com\" height=\"768\" width=\"1366\" id=\"tif\"&gt;&lt;/iframe&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>But when a pdf file is given as the source, the above code fails. Any suggestions?</p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "backend", "web-hosting"], "comments": [{"owner": {"reputation": 1741, "user_id": 238847, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c202e2ec33e677d2c3bbe5e73ab965bc?s=128&d=identicon&r=PG", "display_name": "Stan Wiechers", "link": "https://stackoverflow.com/users/238847/stan-wiechers"}, "edited": false, "score": 0, "creation_date": 1577317009, "post_id": 59482408, "comment_id": 105141473, "body": "It could be a firewall visibility issue that you encountering. Your hosting provider may not allow outgoing calls to cluster0-shard-00-00-wf77h.mongodb.net:27017 or mongodb may not accept calls from your hosting provider (less likely). Maybe it&#39;s best to use a different hosting provider altogether like heroku.com that make deployments of node.js apps much simpler."}, {"owner": {"reputation": 11, "user_id": 11592296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2952a0b578875e5ed1a686c60f252b4?s=128&d=identicon&r=PG&f=1", "display_name": "Myles", "link": "https://stackoverflow.com/users/11592296/myles"}, "reply_to_user": {"reputation": 1741, "user_id": 238847, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c202e2ec33e677d2c3bbe5e73ab965bc?s=128&d=identicon&r=PG", "display_name": "Stan Wiechers", "link": "https://stackoverflow.com/users/238847/stan-wiechers"}, "edited": false, "score": 0, "creation_date": 1577317691, "post_id": 59482408, "comment_id": 105141566, "body": "@StanWiechers thank you I have feeling this could be the reason this is my first time hosting a website besides on Github which is really different. I&#39;m using go daddy.com to host the site do you think it could possibly be the server for MongoDB I don&#39;t have it installed on the hosting server. I&#39;ll consider Heroku next time but since I already have a really good plan for the year for this hosting I would like to find a way to do it here even if I have to find an alternative approach. I&#39;m only using node.js and MongoDB to save form data. So I could use something else, any suggestions?"}, {"owner": {"reputation": 1741, "user_id": 238847, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c202e2ec33e677d2c3bbe5e73ab965bc?s=128&d=identicon&r=PG", "display_name": "Stan Wiechers", "link": "https://stackoverflow.com/users/238847/stan-wiechers"}, "edited": false, "score": 0, "creation_date": 1577318140, "post_id": 59482408, "comment_id": 105141604, "body": "It sounds like you already turned on &#39;free access&#39; in mongo atlas, so it sounds like it is a godaddy firewall issue, either the port or the address are not going through the network rules. Reach out to godaddy support."}, {"owner": {"reputation": 11, "user_id": 11592296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2952a0b578875e5ed1a686c60f252b4?s=128&d=identicon&r=PG&f=1", "display_name": "Myles", "link": "https://stackoverflow.com/users/11592296/myles"}, "reply_to_user": {"reputation": 1741, "user_id": 238847, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c202e2ec33e677d2c3bbe5e73ab965bc?s=128&d=identicon&r=PG", "display_name": "Stan Wiechers", "link": "https://stackoverflow.com/users/238847/stan-wiechers"}, "edited": false, "score": 0, "creation_date": 1577318752, "post_id": 59482408, "comment_id": 105141678, "body": "Ok I&#39;ll try that thanks again!"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11592296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2952a0b578875e5ed1a686c60f252b4?s=128&d=identicon&r=PG&f=1", "display_name": "Myles", "link": "https://stackoverflow.com/users/11592296/myles"}, "edited": false, "score": 0, "creation_date": 1577315265, "post_id": 59482422, "comment_id": 105141267, "body": "I already have that on. It then set another ip address with 0.0.0.0/0. It works when I use the web app locally but for some reason something is not connecting properly when on the hosting server. I can post my backend code if that helps?"}, {"owner": {"reputation": 11, "user_id": 11592296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2952a0b578875e5ed1a686c60f252b4?s=128&d=identicon&r=PG&f=1", "display_name": "Myles", "link": "https://stackoverflow.com/users/11592296/myles"}, "edited": false, "score": 0, "creation_date": 1577315797, "post_id": 59482422, "comment_id": 105141327, "body": "Could it be something else?"}, {"owner": {"reputation": 91, "user_id": 5681322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3375040a547de2d1349890923488ca3?s=128&d=identicon&r=PG&f=1", "display_name": "Jora", "link": "https://stackoverflow.com/users/5681322/jora"}, "reply_to_user": {"reputation": 11, "user_id": 11592296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2952a0b578875e5ed1a686c60f252b4?s=128&d=identicon&r=PG&f=1", "display_name": "Myles", "link": "https://stackoverflow.com/users/11592296/myles"}, "edited": false, "score": 0, "creation_date": 1577340768, "post_id": 59482422, "comment_id": 105144564, "body": "@Myles well the second line MongoNetworkError indication shows your mongo server is limited by IP address or something which is barrier to reach to. Maybe your connection or ISP matters"}, {"owner": {"reputation": 11, "user_id": 11592296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2952a0b578875e5ed1a686c60f252b4?s=128&d=identicon&r=PG&f=1", "display_name": "Myles", "link": "https://stackoverflow.com/users/11592296/myles"}, "edited": false, "score": 0, "creation_date": 1577348762, "post_id": 59482422, "comment_id": 105146609, "body": "Maybe, I think my hosting service is blocking it somehow."}], "tags": [], "owner": {"reputation": 91, "user_id": 5681322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3375040a547de2d1349890923488ca3?s=128&d=identicon&r=PG&f=1", "display_name": "Jora", "link": "https://stackoverflow.com/users/5681322/jora"}, "is_accepted": false, "score": 0, "last_activity_date": 1577314956, "creation_date": 1577314956, "answer_id": 59482422, "question_id": 59482408, "link": "https://stackoverflow.com/questions/59482408/trying-to-connect-to-mongodb-from-a-web-server-using-expressjs/59482422#59482422", "title": "Trying to connect to MongoDB from a web server using Expressjs", "body": "<p>If you are using mongo atlas service, there is a section called Network access on the left sidebar on your dashboard. You can check free access from anywhere and then the problem will be solved.</p>\n\n<p>Actually mongo atlas put IP address constraints on incoming requests by default.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 11592296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2952a0b578875e5ed1a686c60f252b4?s=128&d=identicon&r=PG&f=1", "display_name": "Myles", "link": "https://stackoverflow.com/users/11592296/myles"}, "edited": false, "score": 0, "creation_date": 1577394205, "post_id": 59482771, "comment_id": 105160953, "body": "I called my hosting provider and they told me it isn&#39;t possible to use mongodb since it&#39;s I guess &quot;an intensive database&quot; but I can use SQL through cpanel if I wanted to use mongodb I would have to upgrade to a VPS service."}], "tags": [], "owner": {"reputation": 11, "user_id": 11592296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2952a0b578875e5ed1a686c60f252b4?s=128&d=identicon&r=PG&f=1", "display_name": "Myles", "link": "https://stackoverflow.com/users/11592296/myles"}, "is_accepted": false, "score": 0, "last_activity_date": 1577319832, "creation_date": 1577319832, "answer_id": 59482771, "question_id": 59482408, "link": "https://stackoverflow.com/questions/59482408/trying-to-connect-to-mongodb-from-a-web-server-using-expressjs/59482771#59482771", "title": "Trying to connect to MongoDB from a web server using Expressjs", "body": "<p>Well, this seems pretty unfortunate turns out its most likely not possible. I'm glad I was able to learn more about how hosting an actual site works but it seems like I'm gonna have to try a different approach for saving data.</p>\n\n<p>Reference: [<a href=\"https://serverfault.com/questions/260924/how-can-i-setup-mongodb-with-godaddy-shared-hosting][1]\">https://serverfault.com/questions/260924/how-can-i-setup-mongodb-with-godaddy-shared-hosting][1]</a></p>\n"}], "owner": {"reputation": 11, "user_id": 11592296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2952a0b578875e5ed1a686c60f252b4?s=128&d=identicon&r=PG&f=1", "display_name": "Myles", "link": "https://stackoverflow.com/users/11592296/myles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 560, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1577319832, "creation_date": 1577314743, "question_id": 59482408, "link": "https://stackoverflow.com/questions/59482408/trying-to-connect-to-mongodb-from-a-web-server-using-expressjs", "title": "Trying to connect to MongoDB from a web server using Expressjs", "body": "<p>I'm trying to set up my website it's already complete and it works locally on my computer but when I transferred it to a hosting site that uses cpanel. The contact page that uses Express as it's backend wasn't working. So I got access to the terminal and set up node js and all of the dependencies I am using through npm but I've run into this error concerning the connection to MongoDB I can't figure out what to do. </p>\n\n<pre><code>Photo form listening at http://0.0.0.0:27017\n(node:1021120) DeprecationWarning: current Server Discovery and Monitoring engine is deprecated, and will be removed in a future version. To use the new Server Discover and Monitoring engine, pass option { useUnifiedTopology: true } to the MongoClient constructor.\n(node:1021120) UnhandledPromiseRejectionWarning: MongoNetworkError: failed to connect to server [cluster0-shard-00-00-wf77h.mongodb.net:27017] on first connect [MongoNetworkError: connect ECONNREFUSED ip_address:27017]\n    at Pool.&lt;anonymous&gt; (/home/q75z8jpp645w/public_html/node_modules/mongodb/lib/core/topologies/server.js:433:11)\n    at emitOne (events.js:116:13)\n    at Pool.emit (events.js:211:7)\n    at createConnection (/home/q75z8jpp645w/public_html/node_modules/mongodb/lib/core/connection/pool.js:577:14)\n    at connect (/home/q75z8jpp645w/public_html/node_modules/mongodb/lib/core/connection/pool.js:1021:9)\n    at makeConnection (/home/q75z8jpp645w/public_html/node_modules/mongodb/lib/core/connection/connect.js:31:7)\n    at callback (/home/q75z8jpp645w/public_html/node_modules/mongodb/lib/core/connection/connect.js:247:5)\n    at TLSSocket.err (/home/q75z8jpp645w/public_html/node_modules/mongodb/lib/core/connection/connect.js:276:7)\n    at Object.onceWrapper (events.js:315:30)\n    at emitOne (events.js:116:13)\n    at TLSSocket.emit (events.js:211:7)\n    at emitErrorNT (internal/streams/destroy.js:64:8)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)\n(node:1021120) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejectinga promise which was not handled with .catch(). (rejection id: 1)\n(node:1021120) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. Inthe future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n</code></pre>\n\n<p>I've tried various ways to remedy this but to no prevail. I figure it could be I don't have mongodb in my path for the server but I wasn't able to get access to add it so I didn't try could that be it. If anyone has experience with mongodb and hosting websites your help would be greatly appreciated. Also I'm open to using a different database I just opted to use mongo for it's simplicity. </p>\n\n<p>So far i've been studying about how to make websites and webpages but I've never really encountered how to host these sites so when I made my website I wasn't thinking how I could host it with it using nodejs/expressjs, mongodb, and even other modules such as handlebars and lightbox (which seem to be working).</p>\n"}, {"tags": ["javascript"], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 11277479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc1718ef3fe972bd3f86f5769df47ae?s=128&d=identicon&r=PG&f=1", "display_name": "kodak", "link": "https://stackoverflow.com/users/11277479/kodak"}, "is_accepted": false, "score": 0, "last_activity_date": 1577315566, "creation_date": 1577315566, "answer_id": 59482459, "question_id": 59482327, "link": "https://stackoverflow.com/questions/59482327/cannot-import-a-node-module-using-require/59482459#59482459", "title": "cannot import a node_module using require?", "body": "<p>Try using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import\" rel=\"nofollow noreferrer\">import</a> keyword. It will look something like this <code>import ApiAi from 'api-api'</code> and then maybe the export keyword will work.</p>\n"}, {"tags": [], "owner": {"reputation": 183, "user_id": 12548550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffcfc113de6f8525f54993ad1e80e225?s=128&d=identicon&r=PG&f=1", "display_name": "tcanusso", "link": "https://stackoverflow.com/users/12548550/tcanusso"}, "is_accepted": false, "score": 0, "last_activity_date": 1577316534, "creation_date": 1577316534, "answer_id": 59482561, "question_id": 59482327, "link": "https://stackoverflow.com/questions/59482327/cannot-import-a-node-module-using-require/59482561#59482561", "title": "cannot import a node_module using require?", "body": "<p>Have you run npm install of the module you are trying to use? You can check this if you have a node_modules folder, the folder 'api-ai-javascript' should be around.</p>\n\n<p>Are you using an updated node version? Maybe you are using an old version of node and this package you are trying to use requires a newer one (check with <code>node -v</code> within a terminal).</p>\n\n<p>Another thing, this line:</p>\n\n<p><code>var ApiAi = require('api-ai-javascript').ApiAiClient</code></p>\n\n<p>Means you are importing the ApiAiClient from the module 'api-ai-javascript', and you are keeping a reference to it within the variable '<strong>ApiAi</strong>'. So, if you want to use it, you need to call:</p>\n\n<p><code>var client = new ApiAi({ accessToken: '459833646b974d85a1d853c7hdg' });</code></p>\n\n<p>Notice I changed <code>new ApiAiClient</code> to <code>new ApiAi</code>.</p>\n"}], "owner": {"reputation": 3549, "user_id": 5288560, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OJfXd.jpg?s=128&g=1", "display_name": "gpbaculio", "link": "https://stackoverflow.com/users/5288560/gpbaculio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1577327151, "creation_date": 1577313504, "last_edit_date": 1577327151, "question_id": 59482327, "link": "https://stackoverflow.com/questions/59482327/cannot-import-a-node-module-using-require", "title": "cannot import a node_module using require?", "body": "<p>I am importing a module like this in commonjs:</p>\n\n<pre><code>var ApiAi = require('api-ai-javascript').ApiAiClient\n</code></pre>\n\n<p>But I can't use it like this:</p>\n\n<pre><code>var client = new ApiAiClient({ accessToken: '459833646b974d85a1d853c7hdg' });\n</code></pre>\n\n<p>I get an error:</p>\n\n<blockquote>\n  <p>export * from \"./es6/ApiAiClient\"; </p>\n  \n  <p>^^^^^^</p>\n  \n  <p>SyntaxError: Unexpected token 'export'</p>\n</blockquote>\n\n<p>How do I fix this?</p>\n"}, {"tags": ["javascript", "jquery"], "answers": [{"comments": [{"owner": {"reputation": 1736, "user_id": 7732282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e7f292c4626ee6e55f8667529107a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Andre Nuechter", "link": "https://stackoverflow.com/users/7732282/andre-nuechter"}, "edited": false, "score": 2, "creation_date": 1577314234, "post_id": 59482279, "comment_id": 105141137, "body": "<code>Number.isNan()</code> would be even better :)"}, {"owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "reply_to_user": {"reputation": 1736, "user_id": 7732282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e7f292c4626ee6e55f8667529107a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Andre Nuechter", "link": "https://stackoverflow.com/users/7732282/andre-nuechter"}, "edited": false, "score": 0, "creation_date": 1577314421, "post_id": 59482279, "comment_id": 105141172, "body": "I agree. However, I didn&#39;t want to confuse the OP, and <code>Number.isNaN()</code> is not supported by IE."}], "tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": false, "score": 3, "last_activity_date": 1577314053, "last_edit_date": 1577314053, "creation_date": 1577313020, "answer_id": 59482279, "question_id": 59482252, "link": "https://stackoverflow.com/questions/59482252/adding-a-class-for-numbers/59482279#59482279", "title": "Adding a class for numbers", "body": "<p>The type of <code>elem</code> is always <code>object</code>. You need the text content of <code>elem</code>, which you can get using jQuery's <a href=\"https://api.jquery.com/text/\" rel=\"nofollow noreferrer\"><code>.text()</code></a> method. However, the text content is a string, and you can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/isNaN\" rel=\"nofollow noreferrer\"><code>isNaN()</code></a> to check if it can be converted to a number:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\"p\").each(function(i, elem) {\r\n  var $el = $(elem);\r\n  $el.addClass(isNaN($el.text()) ? 'other' : 'number');\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.number {\r\n  color: blue;\r\n}\r\n\r\n.other {\r\n  color: green;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;p&gt;abc&lt;/p&gt;\r\n&lt;p&gt;123&lt;/p&gt;\r\n&lt;p&gt;dynia&lt;/p&gt;\r\n&lt;p&gt;semolina&lt;/p&gt;\r\n&lt;p&gt;og\u00f3r&lt;/p&gt;\r\n&lt;p&gt;234&lt;/p&gt;\r\n&lt;p&gt;2345&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 10320, "user_id": 818326, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ace3174f4519bdd2a622e1f14b2ebbae?s=128&d=identicon&r=PG", "display_name": "symlink", "link": "https://stackoverflow.com/users/818326/symlink"}, "is_accepted": false, "score": 0, "last_activity_date": 1577313232, "creation_date": 1577313232, "answer_id": 59482305, "question_id": 59482252, "link": "https://stackoverflow.com/questions/59482252/adding-a-class-for-numbers/59482305#59482305", "title": "Adding a class for numbers", "body": "<p>With jQuery:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function() {\r\n  $(\"p\").each(function() {\r\n      $(this).addClass(isNaN($(this).text()) ? \"number\" : \"other\")\r\n  })\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.number {color: blue} .other {color: green}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;p&gt;abc&lt;/p&gt;\r\n&lt;p&gt;123&lt;/p&gt;\r\n&lt;p&gt;dynia&lt;/p&gt;\r\n&lt;p&gt;semolina&lt;/p&gt;\r\n&lt;p&gt;og\u00f3r&lt;/p&gt;\r\n&lt;p&gt;234&lt;/p&gt;\r\n&lt;p&gt;2345&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>With regular Javascript:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.querySelectorAll(\"p\").forEach((el) =&gt; {\r\n    el.classList += isNaN(el.textContent) ? \"other\" : \"number\"\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.number {color: blue} .other {color: green}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p&gt;abc&lt;/p&gt;\r\n&lt;p&gt;123&lt;/p&gt;\r\n&lt;p&gt;dynia&lt;/p&gt;\r\n&lt;p&gt;semolina&lt;/p&gt;\r\n&lt;p&gt;og\u00f3r&lt;/p&gt;\r\n&lt;p&gt;234&lt;/p&gt;\r\n&lt;p&gt;2345&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 31, "user_id": 12597463, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-x-lPOC39Nz8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd47dAHeZAUKWFtJaW5YIPG8aWRGA/photo.jpg?sz=128", "display_name": "Beata", "link": "https://stackoverflow.com/users/12597463/beata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1577314053, "creation_date": 1577312670, "last_edit_date": 1577313609, "question_id": 59482252, "link": "https://stackoverflow.com/questions/59482252/adding-a-class-for-numbers", "title": "Adding a class for numbers", "body": "<p>I add a class to paragraphs in regular statement:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\"p\").each(function(i, elem) {\r\n  typeof elem === \"number\" ?\r\n    ($(\"p\").addClass(\"number\")) :\r\n    ($(\"p\").addClass(\"other\"))\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.number {\r\n  color: blue;\r\n}\r\n\r\n.other {\r\n  color: green;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;p&gt;abc&lt;/p&gt;\r\n&lt;p&gt;123&lt;/p&gt;\r\n&lt;p&gt;dynia&lt;/p&gt;\r\n&lt;p&gt;semolina&lt;/p&gt;\r\n&lt;p&gt;og\u00f3r&lt;/p&gt;\r\n&lt;p&gt;234&lt;/p&gt;\r\n&lt;p&gt;2345&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But all elements are green (like not-numbers).\nIf I instead of adding class type console.log(True/False) I obtain correct results.</p>\n"}, {"tags": ["javascript", "typescript", "visual-studio-code", "jsdoc"], "answers": [{"comments": [{"owner": {"reputation": 2557, "user_id": 8340889, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/75A4R.jpg?s=128&g=1", "display_name": "i.brod", "link": "https://stackoverflow.com/users/8340889/i-brod"}, "edited": false, "score": 0, "creation_date": 1577362034, "post_id": 59484679, "comment_id": 105151004, "body": "Yes but i wasn&#39;t sure how to actually import that type(seems it&#39;s impossible to import TS types when you&#39;re using JS). What worked eventually is importing directly the Model from &#39;sequelize/lib/model&#39;"}], "tags": [], "owner": {"reputation": 59, "user_id": 12124406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08e214ff3091d8ae0da9aae62b775fc7?s=128&d=identicon&r=PG&f=1", "display_name": "aelesia", "link": "https://stackoverflow.com/users/12124406/aelesia"}, "is_accepted": false, "score": 0, "last_activity_date": 1577341963, "creation_date": 1577341963, "answer_id": 59484679, "question_id": 59482229, "link": "https://stackoverflow.com/questions/59482229/how-to-manually-import-a-type-from-an-index-d-ts-file-and-tell-vs-code-intellis/59484679#59484679", "title": "How to manually import a type from an index.d.ts file, and tell VS Code intellisense that a variable is of that type?", "body": "<p>If you're using Typescript, set the Type in the constructor like so</p>\n\n<pre><code>constructor(model: Sequelize){\n    this.model = model\n}\n</code></pre>\n\n<p>If you're using Javascript, write the JSDocs like so:</p>\n\n<pre><code>/**\n * @param {Sequelize} model\n */\nconstructor(model){\n    this.model = model\n}\n</code></pre>\n"}], "owner": {"reputation": 2557, "user_id": 8340889, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/75A4R.jpg?s=128&g=1", "display_name": "i.brod", "link": "https://stackoverflow.com/users/8340889/i-brod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 223, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577341963, "creation_date": 1577312345, "question_id": 59482229, "link": "https://stackoverflow.com/questions/59482229/how-to-manually-import-a-type-from-an-index-d-ts-file-and-tell-vs-code-intellis", "title": "How to manually import a type from an index.d.ts file, and tell VS Code intellisense that a variable is of that type?", "body": "<p>I have the following problem: I'm building some program based on Express.js(using plain JS, not TS).\nI'm using Sequelize as an ORM.</p>\n\n<p>I have \"repository\" classes, which inherit functionality from a BaseRepository class. This is an example UserRepo:</p>\n\n<pre><code>   class UserRepo extends BaseRepo{\n        constructor(model){\n            super(model);\n        }    \n    }\n</code></pre>\n\n<p>The parent class, BaseRepo:</p>\n\n<pre><code>class BaseRepo{\n\n    constructor(model){//VSCODE HAS NO CLUE WHAT TYPE THAT IS\n        this.model = model\n    }\n    async index(){\n        const records = await this.model.findAll();\n        return records;\n    }\n\n    ...\n\n}   \n</code></pre>\n\n<p>The problem is that VSCode doesn't know that this.model is a <strong>Sequelize model</strong>, being that it gets injected elsewhere. Therefore, intellisense doesn't work.</p>\n\n<p>Is there any way to manually import the model type declaration, and tell VSCode to use it, perhaps using JSDoc?</p>\n\n<p>Any help would be greatly appreciated.</p>\n"}, {"tags": ["javascript", "html", "web-component"], "comments": [{"owner": {"reputation": 589, "user_id": 7359357, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a73acf1d6f82d15b450f42bfabddd27b?s=128&d=identicon&r=PG&f=1", "display_name": "Yotam Dahan", "link": "https://stackoverflow.com/users/7359357/yotam-dahan"}, "edited": false, "score": 0, "creation_date": 1577312815, "post_id": 59482227, "comment_id": 105140921, "body": "Just to understand you more, you would like to add html page one in another?"}, {"owner": {"reputation": 12745, "user_id": 1663023, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fc43a735e2c498f450a9908a5bd9ebf4?s=128&d=identicon&r=PG", "display_name": "Qian Chen", "link": "https://stackoverflow.com/users/1663023/qian-chen"}, "reply_to_user": {"reputation": 589, "user_id": 7359357, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a73acf1d6f82d15b450f42bfabddd27b?s=128&d=identicon&r=PG&f=1", "display_name": "Yotam Dahan", "link": "https://stackoverflow.com/users/7359357/yotam-dahan"}, "edited": false, "score": 0, "creation_date": 1577312917, "post_id": 59482227, "comment_id": 105140932, "body": "Yes. Now I have to write <code>&lt;template&gt;&lt;&#47;template&gt;</code> inside index.html. I want to put each template in its own file."}, {"owner": {"reputation": 13857, "user_id": 4114907, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/08NXV.jpg?s=128&g=1", "display_name": "AndrewL64", "link": "https://stackoverflow.com/users/4114907/andrewl64"}, "edited": false, "score": 0, "creation_date": 1577313702, "post_id": 59482227, "comment_id": 105141044, "body": "Can you kindly provide a code snippet of what you have so far."}, {"owner": {"reputation": 6380, "user_id": 2520800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60edc4072807728bf0f69a8af73f716c?s=128&d=identicon&r=PG", "display_name": "Danny &#39;365CSI&#39; Engelman", "link": "https://stackoverflow.com/users/2520800/danny-365csi-engelman"}, "edited": false, "score": 0, "creation_date": 1577350493, "post_id": 59482227, "comment_id": 105147139, "body": "If you like separate HTML,JS,CSS files have a look at <a href=\"https://svelte.dev/\" rel=\"nofollow noreferrer\">svelte.dev</a> Totally <b>not</b> Custom Elements but very clean Component based programming. There is no dependency, Svelte <b>compiles</b> to JS"}, {"owner": {"reputation": 12745, "user_id": 1663023, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fc43a735e2c498f450a9908a5bd9ebf4?s=128&d=identicon&r=PG", "display_name": "Qian Chen", "link": "https://stackoverflow.com/users/1663023/qian-chen"}, "reply_to_user": {"reputation": 6380, "user_id": 2520800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60edc4072807728bf0f69a8af73f716c?s=128&d=identicon&r=PG", "display_name": "Danny &#39;365CSI&#39; Engelman", "link": "https://stackoverflow.com/users/2520800/danny-365csi-engelman"}, "edited": false, "score": 0, "creation_date": 1577389633, "post_id": 59482227, "comment_id": 105159799, "body": "@Danny&#39;365CSI&#39;Engelman I don&#39;t want any dependency."}], "answers": [{"tags": [], "owner": {"reputation": 27, "user_id": 7306460, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208199181363965/picture?type=large", "display_name": "Tomma5o", "link": "https://stackoverflow.com/users/7306460/tomma5o"}, "is_accepted": false, "score": 0, "last_activity_date": 1577315179, "creation_date": 1577315179, "answer_id": 59482432, "question_id": 59482227, "link": "https://stackoverflow.com/questions/59482227/html-to-include-another-html/59482432#59482432", "title": "html to include another html", "body": "<p>Normally when I write WebComponents I create the template tag inside my js file.</p>\n\n<p>for example:</p>\n\n<pre><code>const template = document.createElement('template');\ntemplate.innerHTML = `&lt;div&gt;hello there&lt;/div&gt;`;\n</code></pre>\n\n<p>So I have more control of my template.</p>\n\n<p>I attach a link with a well written guide for mastering WebComponents:\n<a href=\"https://dev.to/thepassle/web-components-from-zero-to-hero-4n4m\" rel=\"nofollow noreferrer\">https://dev.to/thepassle/web-components-from-zero-to-hero-4n4m</a></p>\n"}, {"tags": [], "owner": {"reputation": 3092, "user_id": 701263, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f145997aeec8662800ea27abbe7e796a?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/701263/kyle"}, "is_accepted": false, "score": 0, "last_activity_date": 1577315654, "creation_date": 1577315654, "answer_id": 59482467, "question_id": 59482227, "link": "https://stackoverflow.com/questions/59482227/html-to-include-another-html/59482467#59482467", "title": "html to include another html", "body": "<p>I would use the <code>fetch</code> API to grab the content of your template from the server and put the contents inside a DOM node. Something like this:</p>\n\n<p><strong>my-detail.js</strong></p>\n\n<pre><code>(() =&gt; {\n  let templateContent = null;\n  let onLoaded = [];\n  (() =&gt; {\n    let templateContainer = document.createElement(\"div\");\n    fetch(\"./my-detail.html\")\n      .then(res =&gt; res.text())\n      .then(text =&gt; {\n        templateContainer.innerHTML = text;\n        templateContent = templateContainer.firstChild.content;\n        onLoaded.forEach(cb =&gt; cb());\n        loaded = true;\n    });\n  })();\n  customElements.define(\n    \"my-detail\",\n    class extends HTMLElement {\n      loaded = false;\n      constructor() {\n        super();\n        const onLoad = () =&gt; {\n          this.attachShadow({ mode: \"open\" }).appendChild(\n            templateContent.cloneNode(true)\n          );\n        };\n        if (templateContent != null) {\n          onLoad();\n        } else {\n          onLoaded.push(onLoad);\n        }\n      }\n\n      static get observedAttributes() {\n        return [\"a\"];\n      }\n\n      attributeChangedCallback(name, oldValue, newValue) {\n        console.log(name, oldValue, newValue);\n      }\n    }\n  );\n})();\n</code></pre>\n\n<p><strong>my-detail.html</strong></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;template id=\"my-detail\"&gt;\n    &lt;div&gt;hello there&lt;/div&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p>You can obviously create some small utility function to simplify this logic so don't end up with a ton of duplicate code across your application.</p>\n"}, {"tags": [], "owner": {"reputation": 16645, "user_id": 402322, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GWEWt.gif?s=128&g=1", "display_name": "ceving", "link": "https://stackoverflow.com/users/402322/ceving"}, "is_accepted": false, "score": 1, "last_activity_date": 1577316584, "creation_date": 1577316584, "answer_id": 59482565, "question_id": 59482227, "link": "https://stackoverflow.com/questions/59482227/html-to-include-another-html/59482565#59482565", "title": "html to include another html", "body": "<p><a href=\"https://en.wikipedia.org/wiki/Server_Side_Includes\" rel=\"nofollow noreferrer\">Server Side Includes (SSI)</a> let you include HTML files into HTML files. It is a mature feature of most web servers. Enable it and put an include statement into your HTML code:</p>\n\n<pre><code>&lt;!--#include file=\"my-summary.html\" --&gt;\n&lt;!--#include file=\"my-detail.html\" --&gt;\n</code></pre>\n\n<p>Sometimes SSI is just enabled for files with the extension \".shtml\".</p>\n\n<p>This is the fastest solution, because it does not require additional requests. All HTML code gets delivered with the first request.</p>\n"}], "owner": {"reputation": 12745, "user_id": 1663023, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fc43a735e2c498f450a9908a5bd9ebf4?s=128&d=identicon&r=PG", "display_name": "Qian Chen", "link": "https://stackoverflow.com/users/1663023/qian-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1577316584, "creation_date": 1577312334, "last_edit_date": 1577313907, "question_id": 59482227, "link": "https://stackoverflow.com/questions/59482227/html-to-include-another-html", "title": "html to include another html", "body": "<p>I like the way Angular manage components. I mean separate html, scss and js files. But I don't want to use Angular, Webpack or jQuery. I'm hoping to write a simple web app depending only on the native browser apis. I'm almost there, but the only thing that is blocking me is to include html templates into the index.html. One way probably I could do would be to write a script to append all templates to the end of the index.html. I tested it and it worked well. But I wonder if there's any easier way that I am not aware of. Please note I need zero dependency.</p>\n\n<p>index.html</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;WSLD&lt;/title&gt;\n    &lt;script type=\"module\" src=\"my-summary.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"module\" src=\"my-detail.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;my-summary&gt;&lt;/my-summary&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n&lt;template id=\"my-summary\"&gt;\n    &lt;my-detail&gt;&lt;/my-detail&gt;\n    &lt;my-detail&gt;&lt;/my-detail&gt;\n&lt;/template&gt;\n\n&lt;template id=\"my-detail\"&gt;\n    &lt;div&gt;hello there&lt;/div&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p>my-summary.js</p>\n\n<pre><code>customElements.define('my-summary',\n    class extends HTMLElement {\n        constructor() {\n            super();\n            const template = document.querySelector('#my-summary').content;\n            this.attachShadow({mode: 'open'}).appendChild(template.cloneNode(true));\n            // this.appendChild(template.cloneNode(true));\n\n            const details = this.shadowRoot.querySelectorAll('my-detail');\n            console.log(details);\n            details[0].setAttribute('a', '123');\n        }\n    }\n);\n</code></pre>\n\n<p>my-detail.js</p>\n\n<pre><code>customElements.define('my-detail',\n    class extends HTMLElement {\n        constructor() {\n            super();\n            const template = document.querySelector('#my-detail').content;\n            const shadowRoot = this.attachShadow({mode: 'open'}).appendChild(template.cloneNode(true));\n            // this.appendChild(template.cloneNode(true));\n        }\n\n        static get observedAttributes() {\n            return [\"a\"];\n        }\n\n        attributeChangedCallback(name, oldValue, newValue) {\n            console.log(name, oldValue, newValue);\n        }\n    }\n);\n</code></pre>\n"}, {"tags": ["javascript", "qt", "xmlhttprequest", "qml"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1577322494, "post_id": 59482223, "comment_id": 105142094, "body": "In linux with Qt 5.14 I get <code>qml: calling callback qml: RESULTS: &lt;!doctype html&gt;&lt;html itemscope=&quot;&quot; itemtype=&quot;http:&#47;&#47;schema.org&#47;WebPage&quot; ... much more text ...&quot;</code>, Have you tried doing the same with webengineview?"}, {"owner": {"reputation": 247, "user_id": 11477722, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JJAkyk9L4wE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcooIyOiYyRLa4HNpDUQrcHnUVRTw/mo/photo.jpg?sz=128", "display_name": "Tyler M", "link": "https://stackoverflow.com/users/11477722/tyler-m"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1577322999, "post_id": 59482223, "comment_id": 105142157, "body": "Thanks, that&#39;s a big relief to know it&#39;s at least partially working. I&#39;m running windows QT 5.12.6 ... QtWebEngine installed, i&#39;m exposing SSL .dll files by placing them in the /debug and /release folders... if that might cause this issue please enlighten me. Otherwise, I&#39;m installing 5.14 and I&#39;ll try it out on there"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1577323334, "post_id": 59482223, "comment_id": 105142207, "body": "I recommend you find out what version of OpenSSL you need for the version of Qt you use. Do you get any error messages in the console?"}, {"owner": {"reputation": 247, "user_id": 11477722, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JJAkyk9L4wE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcooIyOiYyRLa4HNpDUQrcHnUVRTw/mo/photo.jpg?sz=128", "display_name": "Tyler M", "link": "https://stackoverflow.com/users/11477722/tyler-m"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1577324570, "post_id": 59482223, "comment_id": 105142331, "body": "Originally I was getting an error until i dropped the .dll files into the debug and release folders ... now I&#39;ve updated OpenSSL to version 1.1.1, then I set  <code>INCLUDEPATH += C:\\OpenSSL-Win64\\bin</code> ... I also dropped the <code>libcrypto</code> and <code>libssl</code> .dll files from <code>\\bin</code> into the /debug and /release folders. I&#39;m getting error <code>qt.network.ssl: QSslSocket::connectToHostEncrypted: TLS initialization failed</code>"}, {"owner": {"reputation": 247, "user_id": 11477722, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JJAkyk9L4wE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcooIyOiYyRLa4HNpDUQrcHnUVRTw/mo/photo.jpg?sz=128", "display_name": "Tyler M", "link": "https://stackoverflow.com/users/11477722/tyler-m"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1577373817, "post_id": 59482223, "comment_id": 105154902, "body": "It&#39;s working in my Ubuntu 19.04 environment... I&#39;ll dig deeper into the windows OpenSSL, that seems to be the issue here"}, {"owner": {"reputation": 2045, "user_id": 6842395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d215da0d7fcc97ae7fbca3af451bf10d?s=128&d=identicon&r=PG&f=1", "display_name": "Former contributor", "link": "https://stackoverflow.com/users/6842395/former-contributor"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1578556470, "post_id": 59482223, "comment_id": 105478642, "body": "@TylerM and @eyllanesc: now that the OpenSSL issue has been addressed in the other question (and my bounty is collected :-) I&#39;m going to answer also this one  (which will require several edits) with the findings on the other question about <code>console.log()</code> and the goals of recording a good bug report for Qt and for other people suffering the same issue and looking here in the future (which is the <i>raison d&#39;&#234;tre</i> of SO)."}, {"owner": {"reputation": 2045, "user_id": 6842395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d215da0d7fcc97ae7fbca3af451bf10d?s=128&d=identicon&r=PG&f=1", "display_name": "Former contributor", "link": "https://stackoverflow.com/users/6842395/former-contributor"}, "edited": false, "score": 0, "creation_date": 1578562713, "post_id": 59482223, "comment_id": 105481589, "body": "This question is about <code>console.log()</code> failing in Windows, and not about <code>XMLHttpRequest</code>. I&#39;ve tried to edit the question tags, but both @nKognito and @nick-a rejected the edit.  Shame!"}], "answers": [{"comments": [{"owner": {"reputation": 2045, "user_id": 6842395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d215da0d7fcc97ae7fbca3af451bf10d?s=128&d=identicon&r=PG&f=1", "display_name": "Former contributor", "link": "https://stackoverflow.com/users/6842395/former-contributor"}, "edited": false, "score": 0, "creation_date": 1580729396, "post_id": 59659781, "comment_id": 106180457, "body": "Looks like the bug is now fixed in Qt 5.14.2: <a href=\"https://bugreports.qt.io/browse/QTBUG-80996\" rel=\"nofollow noreferrer\">bugreports.qt.io/browse/QTBUG-80996</a>"}], "tags": [], "owner": {"reputation": 2045, "user_id": 6842395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d215da0d7fcc97ae7fbca3af451bf10d?s=128&d=identicon&r=PG&f=1", "display_name": "Former contributor", "link": "https://stackoverflow.com/users/6842395/former-contributor"}, "is_accepted": true, "score": 2, "last_activity_date": 1578571228, "last_edit_date": 1578571228, "creation_date": 1578558263, "answer_id": 59659781, "question_id": 59482223, "link": "https://stackoverflow.com/questions/59482223/why-does-xmlhttprequest-responsetext-not-exist/59659781#59659781", "title": "Why does XMLHttpRequest responseText not exist?", "body": "<p>In Windows 10 x86_64 with Qt Creator 4.11.0, this function in OP's <code>main.qml</code> does nothing at all:</p>\n\n<pre><code>function logResults(results) {\n    console.log(\"RESULTS: \" + results)\n}\n</code></pre>\n\n<p>But it works perfectly on Linux. The problem is only in Windows. Nothing is printed in the output panel. No errors, no \"qml: something\". Nada. As a workaround, this alternative works:</p>\n\n<pre><code>function logResults(results) {\n    console.log(\"RESULTS Length=\", results.length);\n    console.log(\"results.substr=\", results.substr(0, 20)); \n}\n</code></pre>\n\n<p>It prints something at the \"Application output\" panel:</p>\n\n<pre><code>qml: RESULTS Length= 47932\nqml: results.substr= &lt;!doctype html&gt;&lt;html\n</code></pre>\n\n<p>Digging a bit further, we can observe that this:</p>\n\n<pre><code>console.log(\"results.substr=\", results.substr(0, 32000)); \n</code></pre>\n\n<p>Works, but this fails again:</p>\n\n<pre><code>console.log(\"results.substr=\", results.substr(0, 32800)); \n</code></pre>\n\n<p>This suggest that there is a limit about 32K, and console.log() fails silently when the content is larger than this limit. But only in Windows. This smells like a bug somewhere in Qt...</p>\n\n<p><strong>Edit</strong></p>\n\n<p>It is not only a problem with <code>console.log()</code>, but in QtCreator's logging. This program fails to print all the output in the Application Output panel:</p>\n\n<pre><code>#include &lt;QCoreApplication&gt;\n#include &lt;QDebug&gt;\n\nint main(int argc, char *argv[])\n{\n    QCoreApplication a(argc, argv);\n    QString str;\n    str.fill('1', 32763);\n    qDebug() &lt;&lt; str;\n    str.fill('2', 32764);\n    qDebug() &lt;&lt; str;\n    return 0;\n}\n</code></pre>\n\n<p>The '2's string is correctly displayed only when selecting Project > Run Settings > Run in terminal checkbox, but it is omitted when the checkbox is clear. Any message larger than 32763 characters is silenced in Application Output.</p>\n\n<p>Bug report created: <a href=\"https://bugreports.qt.io/browse/QTCREATORBUG-23454\" rel=\"nofollow noreferrer\">https://bugreports.qt.io/browse/QTCREATORBUG-23454</a></p>\n"}], "owner": {"reputation": 247, "user_id": 11477722, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JJAkyk9L4wE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcooIyOiYyRLa4HNpDUQrcHnUVRTw/mo/photo.jpg?sz=128", "display_name": "Tyler M", "link": "https://stackoverflow.com/users/11477722/tyler-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "closed_date": 1578585577, "accepted_answer_id": 59659781, "answer_count": 1, "score": 1, "last_activity_date": 1578571228, "creation_date": 1577312299, "last_edit_date": 1577322425, "question_id": 59482223, "link": "https://stackoverflow.com/questions/59482223/why-does-xmlhttprequest-responsetext-not-exist", "closed_reason": "Duplicate", "title": "Why does XMLHttpRequest responseText not exist?", "body": "<p>Reproducible example in QML:</p>\n\n<p><strong>main.cpp</strong></p>\n\n<pre><code>#include &lt;QSsl&gt;\n</code></pre>\n\n<p><strong>main.qml</strong></p>\n\n<pre><code>import QtQuick 2.12\nimport QtQuick.Window 2.12\nimport QtQuick.Controls 2.0\n\nWindow {\n    visible: true\n    width: 640\n    height: 480\n\n    Component.onCompleted: getPage(logResults)\n\n    function logResults(results) {\n        console.log(\"RESULTS: \" + results)\n    }\n\n    function getPage(callback) {\n        var xhttp = new XMLHttpRequest();\n        var url = \"https://www.google.com/\"\n\n        xhttp.onreadystatechange = function() {\n            if (xhttp.readyState === 4 &amp;&amp; xhttp.status === 200) {\n                console.log(\"calling callback\")\n                callback(xhttp.responseText)                \n            }\n        };\n        xhttp.open(\"GET\", url);\n        xhttp.send();\n    }\n}\n</code></pre>\n\n<p>Output I get:</p>\n\n<pre><code>qml: calling callback\n</code></pre>\n\n<p>Output I expect:</p>\n\n<pre><code>qml: calling callback\nqml: RESULTS: &lt;the HTML located at https://www.google.com/&gt;\n</code></pre>\n\n<p>The <code>xhttp.responseText</code> is not empty or undefined, in fact the <code>console.log()</code> throws no errors. Reformat the code like so:</p>\n\n<pre><code>        xhttp.onreadystatechange = function() {\n            if (xhttp.readyState === 4 &amp;&amp; xhttp.status === 200) {\n                console.log(\"Am I alive?\")\n                console.log(\"response text: \" + xhttp.responseText)\n                console.log(\"I am alive\")\n            }\n        };\n</code></pre>\n\n<p>then I get output: </p>\n\n<pre><code>qml: Am I alive?\nqml: I am alive\n</code></pre>\n\n<p><strong>Why does XMLHttpRequest responseText not exist?</strong> Why does it kill the console.log() and not throw an 'undefined' or some other error? Is there a better way to scrape the html from this web page?</p>\n"}, {"tags": ["javascript", "jquery", "html", "css", "twitter-bootstrap"], "answers": [{"tags": [], "owner": {"reputation": 741, "user_id": 11954917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4BCoy.png?s=128&g=1", "display_name": "Makwana Prahlad", "link": "https://stackoverflow.com/users/11954917/makwana-prahlad"}, "is_accepted": false, "score": 2, "last_activity_date": 1577338999, "creation_date": 1577338999, "answer_id": 59484284, "question_id": 59482171, "link": "https://stackoverflow.com/questions/59482171/make-bootstrap-modal-scrollable/59484284#59484284", "title": "Make bootstrap modal scrollable", "body": "<p>Please try this code it works properly:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n&lt;head&gt;\r\n  &lt;title&gt;Bootstrap Example&lt;/title&gt;\r\n  &lt;meta charset=\"utf-8\"&gt;\r\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\r\n  &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css\"&gt;\r\n  &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n  &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js\"&gt;&lt;/script&gt;\r\n  &lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js\"&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;br&gt;&lt;br&gt;&lt;br&gt;\r\n&lt;!-- Button trigger modal --&gt;\r\n&lt;button type=\"button\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#exampleModalScrollable\"&gt;\r\n  Launch demo modal\r\n&lt;/button&gt;\r\n\r\n&lt;!-- Modal --&gt;\r\n&lt;div class=\"modal fade\" id=\"exampleModalScrollable\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalScrollableTitle\" aria-hidden=\"true\"&gt;\r\n  &lt;div class=\"modal-dialog modal-dialog-scrollable\" role=\"document\"&gt;\r\n    &lt;div class=\"modal-content\"&gt;\r\n      &lt;div class=\"modal-header\"&gt;\r\n        &lt;h5 class=\"modal-title\" id=\"exampleModalScrollableTitle\"&gt;Modal title&lt;/h5&gt;\r\n        &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"&gt;\r\n          &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\r\n        &lt;/button&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=\"modal-body\"&gt;\r\n       &lt;p&gt;Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.&lt;/p&gt;\r\n       &lt;p&gt;Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor.&lt;/p&gt;\r\n       &lt;p&gt;Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla.&lt;/p&gt;\r\n       &lt;p&gt;Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.&lt;/p&gt;\r\n       &lt;p&gt;Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor.&lt;/p&gt;\r\n       &lt;p&gt;Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla.&lt;/p&gt;\r\n       &lt;p&gt;Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.&lt;/p&gt;\r\n       &lt;p&gt;Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor.&lt;/p&gt;\r\n       &lt;p&gt;Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla.&lt;/p&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=\"modal-footer\"&gt;\r\n        &lt;button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\"&gt;Close&lt;/button&gt;\r\n        &lt;button type=\"button\" class=\"btn btn-primary\"&gt;Save changes&lt;/button&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I hope above code will be useful for you.</p>\n\n<p>Thank you. </p>\n"}], "owner": {"reputation": 517, "user_id": 10661104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37b469f4c23b63bf3bae19f45ddb9a5e?s=128&d=identicon&r=PG&f=1", "display_name": "namko", "link": "https://stackoverflow.com/users/10661104/namko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577338999, "creation_date": 1577311575, "question_id": 59482171, "link": "https://stackoverflow.com/questions/59482171/make-bootstrap-modal-scrollable", "title": "Make bootstrap modal scrollable", "body": "<p>I am using bootstrap modal in my application which might have a long content. I have 2 modals in different pages. When I view my modal in a mobile devices I can scroll one of my modal but my second modal cannot be scrolled. When I try to scroll it the background scrolls instead. Even when I click inside the modal it seems like the modal is not on focus. I thought I must have added different modal properties in each of my modal but the modal code is the same for both which is something like:</p>\n\n<pre><code> &lt;div class=\"modal fade\" id=\"modalFeedback\" data-keyboard=\"false\"  tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\"&gt;\n   &lt;div class=\"modal-dialog modal-lg modal-dialog-centered\" role=\"document\"&gt; \n</code></pre>\n\n<p>I am not sure why this is happening</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 1954, "user_id": 10048799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43e3b78b616247e7b5a2fcfde299bcfb?s=128&d=identicon&r=PG&f=1", "display_name": "kaleidawave", "link": "https://stackoverflow.com/users/10048799/kaleidawave"}, "edited": false, "score": 1, "creation_date": 1577311282, "post_id": 59482115, "comment_id": 105140688, "body": "Maybe try <code>parkingSpots.find(x =&gt; (x.coordinates[0] === e.latLng.lat() &amp;&amp; x.coordinates[1] === e.latLng.lng()));</code>"}, {"owner": {"reputation": 47740, "user_id": 395910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/59c1bcdff2510bdb021b3afe1eb69677?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/395910/terry"}, "reply_to_user": {"reputation": 1954, "user_id": 10048799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43e3b78b616247e7b5a2fcfde299bcfb?s=128&d=identicon&r=PG&f=1", "display_name": "kaleidawave", "link": "https://stackoverflow.com/users/10048799/kaleidawave"}, "edited": false, "score": 0, "creation_date": 1577311408, "post_id": 59482115, "comment_id": 105140711, "body": "You cannot use <code>===</code> to compare arrays, since they are essentially objects and objects are unique: one object will never be a strict equivalent to another. You will need to compare the lat and lng independently as per @kaleidawave&#39;s suggestion."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1577311703, "post_id": 59482115, "comment_id": 105140759, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/7837456/how-to-compare-arrays-in-javascript\">How to compare arrays in JavaScript?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1452, "user_id": 694770, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ee5b78a8269c7d956fc5223e5800d901?s=128&d=identicon&r=PG", "display_name": "Andrej", "link": "https://stackoverflow.com/users/694770/andrej"}, "is_accepted": false, "score": 0, "last_activity_date": 1577312387, "last_edit_date": 1577312387, "creation_date": 1577311379, "answer_id": 59482150, "question_id": 59482115, "link": "https://stackoverflow.com/questions/59482115/how-to-find-array-inside-object/59482150#59482150", "title": "How to find array inside object", "body": "<p>You need to compare two arrays by comparing each item of the first array with the corresponding item of another array. Directly comparing an array against another array will never work - they always be different, because JS compares arrays (objects) by their reference. Only if both references point to the same array they will be equal. The primitives however are compared by value.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let selectedParkingSpot = parkingSpots.find(x =&gt; x.coordinates[0] === arrayToBeFound[0] &amp;&amp;  x.coordinates[1] === arrayToBeFound[1]);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 5681322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3375040a547de2d1349890923488ca3?s=128&d=identicon&r=PG&f=1", "display_name": "Jora", "link": "https://stackoverflow.com/users/5681322/jora"}, "is_accepted": false, "score": 0, "last_activity_date": 1577311463, "creation_date": 1577311463, "answer_id": 59482159, "question_id": 59482115, "link": "https://stackoverflow.com/questions/59482115/how-to-find-array-inside-object/59482159#59482159", "title": "How to find array inside object", "body": "<p>I think this is the easiest way</p>\n\n<pre><code>let selectedParkingSpot = parkingSpots.find(x =&gt; x.coordinates[0] === arrayToBeFound[0] &amp;&amp; x.coordinates[1] === arrayToBeFound[1]);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 183, "user_id": 12548550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffcfc113de6f8525f54993ad1e80e225?s=128&d=identicon&r=PG&f=1", "display_name": "tcanusso", "link": "https://stackoverflow.com/users/12548550/tcanusso"}, "is_accepted": false, "score": 0, "last_activity_date": 1577311865, "creation_date": 1577311865, "answer_id": 59482194, "question_id": 59482115, "link": "https://stackoverflow.com/questions/59482115/how-to-find-array-inside-object/59482194#59482194", "title": "How to find array inside object", "body": "<p>You can use the answers being posted here, I like them more except if you are going to add values to that array, or perform comparisons between other arrays and/or object, or if you don't care about your array's order.</p>\n\n<p>Otherwise, you can use <a href=\"https://lodash.com/docs/4.17.15#isEqual\" rel=\"nofollow noreferrer\">Lodash's isEqual</a> to compare objects by their values.</p>\n"}, {"comments": [{"owner": {"reputation": 3092, "user_id": 701263, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f145997aeec8662800ea27abbe7e796a?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/701263/kyle"}, "edited": false, "score": 0, "creation_date": 1577313880, "post_id": 59482314, "comment_id": 105141079, "body": "Please don\u2019t recommend to stringify an object for comparison. If you have a large dataset, stringify will be very inefficient."}], "tags": [], "owner": {"reputation": 393, "user_id": 12595279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1757996a838c1da0c078e8b086f6116?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/12595279/fubar"}, "is_accepted": false, "score": -1, "last_activity_date": 1577313341, "creation_date": 1577313341, "answer_id": 59482314, "question_id": 59482115, "link": "https://stackoverflow.com/questions/59482115/how-to-find-array-inside-object/59482314#59482314", "title": "How to find array inside object", "body": "<p>You can't compare 2 arrays but if you stringify them it will work.</p>\n\n<pre><code>const data = [\n    {\n        _id: \"5e03c83459d0c115589067ba\",\n        capacity: 2,\n        description: \"safas\",\n        title: \"aa\",\n        coordinates: [-34.193705512748686, 150.2320126953125]\n    }\n]\nconst arrayToBeFound = [-34.193705512748686, 150.2320126953125]\n\nlet spot = data.find((ele)=&gt;{\n    return JSON.stringify(ele.coordinates) === JSON.stringify(arrayToBeFound)\n})\n\n// returns the object\nconsole.log(spot)\n\n// returns false\nconsole.log(data[0].coordinates == arrayToBeFound)\n\n//returns true\nconsole.log(typeof data[0].coordinates === typeof arrayToBeFound)\n</code></pre>\n\n<p>The reason why you got undefined is because the comparison of <code>x.coordinates == arrayToBeFound</code> returns false there fore find won't return any thing and since selectedParkingSpot holds no value it will be undefined.</p>\n"}, {"tags": [], "owner": {"reputation": 759, "user_id": 2796249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J2w9o.jpg?s=128&g=1", "display_name": "Ahed Kabalan", "link": "https://stackoverflow.com/users/2796249/ahed-kabalan"}, "is_accepted": false, "score": 0, "last_activity_date": 1577458806, "creation_date": 1577458806, "answer_id": 59502507, "question_id": 59482115, "link": "https://stackoverflow.com/questions/59482115/how-to-find-array-inside-object/59502507#59502507", "title": "How to find array inside object", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n\r\n    function arraysEqual(a, b) {\r\n      if (a === b) return true;\r\n      if (a == null || b == null) return false;\r\n      if (a.length != b.length) return false;\r\n\r\n      for (var i = 0; i &lt; a.length; ++i) {\r\n        if (a[i] !== b[i]) return false;\r\n      }\r\n      return true;\r\n    }\r\n\r\n    var arrayOfObjects  = [{\r\n        _id: \"5e03c83459d0c115589067ba\",\r\n        capacity: 2,\r\n        description: \"safas\",\r\n        title: \"aa\",\r\n        coordinates: [-34.193705512748686, 160.2320126953125],\r\n    },\r\n    {\r\n        _id: \"5e03c83459d0c115589067ba\",\r\n        capacity: 2,\r\n        description: \"safas\",\r\n        title: \"aa\",\r\n        coordinates: [-34.193705512748686, 150.2320126953125],\r\n    }];\r\n\r\n\r\n    var arrayToBeFound = [-34.193705512748686, 150.2320126953125];\r\n\r\n    $.each(arrayOfObjects, function(index, object){\r\n        if(arraysEqual(arrayToBeFound, object.coordinates)){\r\n            console.log(arrayOfObjects[index]);\r\n        }\r\n    });\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 87, "user_id": 12361681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce28dc18b3ed8d0407f4c216d483e1ed?s=128&d=identicon&r=PG&f=1", "display_name": "user12361681", "link": "https://stackoverflow.com/users/12361681/user12361681"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 308, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1577458806, "creation_date": 1577311035, "last_edit_date": 1577311103, "question_id": 59482115, "link": "https://stackoverflow.com/questions/59482115/how-to-find-array-inside-object", "title": "How to find array inside object", "body": "<p>I have <code>parkingSpots</code> that is an array of objects which contains a property of coordinates which is also an array.</p>\n\n<p>e.g index 0:</p>\n\n<pre><code>_id: \"5e03c83459d0c115589067ba\"\ncapacity: 2\ndescription: \"safas\"\ntitle: \"aa\"\ncoordinates: (2) [-34.193705512748686, 150.2320126953125]\n</code></pre>\n\n<p>I'm trying to find the object that has the <code>arrayToBeFound</code>. I tries this solution and many others but still doesn't work.</p>\n\n<pre><code>    let arrayToBeFound = [e.latLng.lat(), e.latLng.lng()];\n    let selectedParkingSpot = parkingSpots.find(x =&gt; x.coordinates === arrayToBeFound);\n</code></pre>\n\n<p>I keep getting undefined but it exists. Any help?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1577311418, "post_id": 59482105, "comment_id": 105140715, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/10713749/javascript-validation-numbers-only\">Javascript - validation, numbers only</a>"}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 12597446, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBApBZ_XtoMzPOgEwx3imQVaaglxsNZ2QqBsGXM3A=k-s128", "display_name": "Jiangxi123", "link": "https://stackoverflow.com/users/12597446/jiangxi123"}, "edited": false, "score": 0, "creation_date": 1577313735, "post_id": 59482322, "comment_id": 105141048, "body": "Thank you! Would I do that for each value? For the name, age, and adjective field?"}, {"owner": {"reputation": 87, "user_id": 12597446, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBApBZ_XtoMzPOgEwx3imQVaaglxsNZ2QqBsGXM3A=k-s128", "display_name": "Jiangxi123", "link": "https://stackoverflow.com/users/12597446/jiangxi123"}, "edited": false, "score": 0, "creation_date": 1577314099, "post_id": 59482322, "comment_id": 105141114, "body": "would I do that in a nested function?"}], "tags": [], "owner": {"reputation": 345, "user_id": 9475949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1fcb104d11569c176237f2954ffbbdc?s=128&d=identicon&r=PG&f=1", "display_name": "Madushanka kahawa", "link": "https://stackoverflow.com/users/9475949/madushanka-kahawa"}, "is_accepted": true, "score": 4, "last_activity_date": 1577313441, "creation_date": 1577313441, "answer_id": 59482322, "question_id": 59482105, "link": "https://stackoverflow.com/questions/59482105/prevent-wrong-input-in-js-after-submitting-a-form/59482322#59482322", "title": "Prevent Wrong Input in JS After Submitting A Form", "body": "<p>For that, you have to check Name field value is number or not. We can check the value is number or not using isNaN function. This function returns true or false. </p>\n\n<pre><code>isNaN(12)           // falsee\nisNaN(-4.5)         // false\nisNaN(15-3)         // false\nisNaN(0)            // false\nisNaN('123')        // false\nisNaN('Nuwan')      // true\nisNaN('2005/12/12') // true\nisNaN()             // true\n</code></pre>\n\n<p>So, in your code getVars() function change like this</p>\n\n<pre><code>function getVars() {\n        var name = document.getElementById(\"personOne\").value;\n        if(!isNaN(name) &amp;&amp; name.length != 0){\n            alert(\"That is not a valid input. PLease type again!\");\n        }else{\n            person1 = String(document.getElementById(\"personOne\").value);\n            age = Number(document.getElementById(\"ageOne\").value);\n            firstAdjective = String(document.getElementById(\"adjective\").value);\n            document.getElementById(\"madLibCreation\").innerHTML = \"There once was a person named \" + person1 + \". She was \" + age + \" and very \" + firstAdjective + \".\";\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 344, "user_id": 3484557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a704bc7f05fa9855942bad306159af1?s=128&d=identicon&r=PG", "display_name": "Nick Taras", "link": "https://stackoverflow.com/users/3484557/nick-taras"}, "is_accepted": false, "score": 0, "last_activity_date": 1577314299, "creation_date": 1577314299, "answer_id": 59482380, "question_id": 59482105, "link": "https://stackoverflow.com/questions/59482105/prevent-wrong-input-in-js-after-submitting-a-form/59482380#59482380", "title": "Prevent Wrong Input in JS After Submitting A Form", "body": "<p><a href=\"https://www.w3.org/WAI/tutorials/forms/validation/\" rel=\"nofollow noreferrer\">https://www.w3.org/WAI/tutorials/forms/validation/</a></p>\n\n<p>This link provides some useful information and example code around how you can do this with HTML5, providing the validations and required inputs to each input field. </p>\n\n<p>By implementing these validations your form will not submit until the requirements are met.</p>\n\n<p>Here are a few other ideas that may also help:</p>\n\n<p>By using a </p>\n\n<pre><code>&lt;form onsubmit=\"getVars()\" name=\"MadLibs\"&gt;\n</code></pre>\n\n<p>tag, your data will be wrapped inside the event, which can be accessed within your submit function. This will also reduce the effort to collect the data via element id\u2019s. </p>\n\n<pre><code>const getVars = function(event) {\n    event.preventDefault(); // stop the page refresh on submit\n    const formData = event.target; \n    const personOne = formData.personOne;\n    ...\n}\n</code></pre>\n\n<p>Lastly by adding  tags for each input, it will further  increase the accessibility of the form:</p>\n\n<p><a href=\"https://www.w3.org/WAI/tutorials/forms/labels/\" rel=\"nofollow noreferrer\">https://www.w3.org/WAI/tutorials/forms/labels/</a></p>\n\n<p>Hope this helps with your project.</p>\n"}, {"tags": [], "owner": {"reputation": 393, "user_id": 12595279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1757996a838c1da0c078e8b086f6116?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/12595279/fubar"}, "is_accepted": false, "score": 0, "last_activity_date": 1579331867, "last_edit_date": 1579331867, "creation_date": 1577317203, "answer_id": 59482596, "question_id": 59482105, "link": "https://stackoverflow.com/questions/59482105/prevent-wrong-input-in-js-after-submitting-a-form/59482596#59482596", "title": "Prevent Wrong Input in JS After Submitting A Form", "body": "<p>So you want to prevent wrong information before submitting any thing. This can be achieved by some checks to the value entered into the fields. This can be done all at once on button click or while typing with an event handler on the field for keyup. You can further use setTimeout to check with a small delay.</p>\n\n<p>If you check and set classes to elements which are faulty, you can check for them with a css selector.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const person1 = document.getElementById(\"personOne\")\r\nconst age = document.getElementById(\"ageOne\")\r\nconst firstAdjective = document.getElementById(\"adjective\")\r\n\r\n// use a function(){} block for the handler, it will bin this\r\nperson1.addEventListener(`keyup`, function(){\r\n    // use arrow function to not bind this so it will refer to the html node\r\n    // can be used to delay the evaluation\r\n    setTimeout(()=&gt;{\r\n        // some regex... /regex/flags will create a new regex\r\n        // ^ is start, $ is end and [a-z]* is a to z 0 or more times\r\n        // flag i is case insensitive\r\n        const regEx = /^[a-z]+$/i\r\n        \r\n        //\r\n        if(!regEx.test(person1.value)){\r\n            this.classList.add(`invalid`)\r\n        } else {\r\n            this.classList.remove(`invalid`)\r\n        }\r\n        \r\n    },200)\r\n    \r\n})\r\n\r\nfunction getVars() {\r\n\r\n    if(!document.querySelectorAll(`.invalid`)[0]){\r\n        document.getElementById(\"madLibCreation\").innerText = `There once was a person named ${person1.value} she was ${age.value} and very ${firstAdjective.value}.`\r\n    } else {\r\n        alert(`fix your shit`)\r\n    }\r\n    \r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.invalid{\r\n    color: red;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n    &lt;title&gt;\r\n        Mad Libs Story\r\n    &lt;/title&gt;\r\n    &lt;meta charset='utf-8'&gt;\r\n    &lt;meta name='viewport' content='width=device-width, initial-scale=1'&gt;\r\n    &lt;link rel='stylesheet' type='text/css' media='screen' href='main.css'&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n    &lt;h3&gt;\r\n        Welcome to Mad Libs! Please type in the prompted Information. Then press the submit button. Have fun!\r\n    &lt;/h3&gt;\r\n\r\n    &lt;p&gt;\r\n        Name of Person in Room: &lt;input type=\"text\" id=\"personOne\"&gt;\r\n    &lt;/p&gt;\r\n    &lt;p&gt;\r\n        Age: &lt;input type=\"text\" id=\"ageOne\"&gt;\r\n    &lt;/p&gt;\r\n    &lt;p&gt;\r\n        Adjective: &lt;input type=\"text\" id=\"adjective\"&gt;\r\n    &lt;/p&gt;\r\n\r\n\r\n    \r\n    &lt;input type=\"submit\" value=\"Get My MadLib Creation!\" onclick=\"getVars()\"&gt;\r\n\r\n    &lt;p id=\"madLibCreation\"&gt;&lt;/p&gt;\r\n\r\n&lt;/body&gt;\r\n\r\n&lt;script src=\"./main.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 87, "user_id": 12597446, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBApBZ_XtoMzPOgEwx3imQVaaglxsNZ2QqBsGXM3A=k-s128", "display_name": "Jiangxi123", "link": "https://stackoverflow.com/users/12597446/jiangxi123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 59482322, "answer_count": 3, "score": 5, "last_activity_date": 1579331867, "creation_date": 1577310834, "question_id": 59482105, "link": "https://stackoverflow.com/questions/59482105/prevent-wrong-input-in-js-after-submitting-a-form", "title": "Prevent Wrong Input in JS After Submitting A Form", "body": "<p>I am creating a sample MabLibs type thing in HTML and JS. When the person inputs stuff in a field, it will use that to create their own MadLib.</p>\n\n<p>I've done a little research and not finding exactly what I am looking for. Say a person puts 12 in the Name field. How would code that so if this instance does happen, it won't go through and alert \"That is not a valid input. PLease type again!\" or something along those lines.</p>\n\n<p>The code I am using is below. I am very new to Javascript so I know the format and stuff might be wrong.</p>\n\n<pre><code>&lt;html&gt;&lt;head&gt;\n&lt;title&gt;\n  Mad Libs Story\n&lt;/title&gt;\n\n&lt;script&gt;\n  function getVars() {\n    person1 = String(document.getElementById(\"personOne\").value);\n    age = Number(document.getElementById(\"ageOne\").value);\n    firstAdjective = String(document.getElementById(\"adjective\").value);\n\n\n    document.getElementById(\"madLibCreation\").innerHTML = \"There once was a person named \" + person1 + \". She was \" + age + \" and very \" + firstAdjective = \".\";\n\n  }\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h3&gt;\nWelcome to Mad Libs! Please type in the prompted Information. Then press the submit button. Have fun!   \n&lt;/h3&gt;  \n\n&lt;p&gt;\n  Name of Person in Room: &lt;input type=\"text\" id=\"personOne\"&gt;\n  &lt;/p&gt;\n&lt;p&gt;\n  Age: &lt;input type=\"text\" id=\"ageOne\"&gt;\n  &lt;/p&gt;\n&lt;p&gt;\n  Adjective: &lt;input type=\"text\" id=\"adjective\"&gt;\n  &lt;/p&gt;\n\n\n\n&lt;input type=\"submit\" value=\"Get My MadLib Creation!\" onclick=\"getVars();\"&gt;\n\n&lt;p id=\"madLibCreation\"&gt;&lt;/p&gt;\n\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "vue.js", "webpack", "storybook"], "owner": {"reputation": 306, "user_id": 3487044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oNIUe.jpg?s=128&g=1", "display_name": "Ska&#255;", "link": "https://stackoverflow.com/users/3487044/ska%c3%bf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 632, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1577363111, "creation_date": 1577310649, "last_edit_date": 1577363111, "question_id": 59482076, "link": "https://stackoverflow.com/questions/59482076/add-storybook-to-a-vue-js-webpack-project-parse-failed-unexpected-token-10", "title": "Add storybook to a vue.js webpack project parse failed: Unexpected token (1:0) &lt;template&gt;", "body": "<p>I have a problem when starting storybook after adding it to a new vuejs project.</p>\n\n<p>Apparently when including a .vue file it is not interpreted correctly ...</p>\n\n<p>Here are all the steps I performed to setup the vue.js project and adding the storybook (I'm on Windows 10):</p>\n\n<p>1) Command line: <code>vue init webpack app-test</code></p>\n\n<pre><code>? Project name app-test\n? Project description A Vue.js project\n? Author email@email.email\n? Standalone build view\n? Install vue-router? Yes\n? Use ESLint to lint your code? Yes\n? Pick an ESLint preset Standard\n? Set up unit tests Yes\n? Pick a test runner jest\n? Setup e2e tests with Nightwatch? No.\n? Should we run `npm install` for you after the project has been created? (recommended) npm\n\n\u00a0\u00a0\u00a0view-cli \u00b7 Generated \"app-test\".\n\nInstalling project dependencies ...\n\n[...]\n</code></pre>\n\n<p>2) Then I followed this tutorial to add storybook to my project (Manual setup): <a href=\"https://storybook.js.org/docs/guides/guide-vue/\" rel=\"nofollow noreferrer\">https://storybook.js.org/docs/guides/guide-vue/</a></p>\n\n<p>But when I try to start storybook I get several errors:</p>\n\n<pre><code>&gt; start-storybook\n\ninfo @storybook/vue v5.2.8\ninfo\ninfo =&gt; Loading presets\nWARN   Failed to load preset: \"C:\\\\Users\\\\Firstname Lastname\\\\Desktop\\\\workspace\\\\website\\\\components\\\\front-end\\\\app\\\\node_modules\\\\@storybook\\\\vue\\\\dist\\\\server\\\\framework-preset-vue.js\"\nERR! Error: Cannot find module 'vue-loader/lib/plugin'\nERR!     at Function.Module._resolveFilename (internal/modules/cjs/loader.js:655:15)\nERR!     at Function.Module._load (internal/modules/cjs/loader.js:580:25)\nERR!     at Module.require (internal/modules/cjs/loader.js:711:19)\nERR!     at require (internal/modules/cjs/helpers.js:14:16)\nERR!     at Object.&lt;anonymous&gt; (C:\\Users\\Firstname Lastname\\Desktop\\workspace\\website\\components\\front-end\\app\\node_modules\\@storybook\\vue\\dist\\server\\framework-preset-vue.js:11:38)\nERR!     at Module._compile (internal/modules/cjs/loader.js:805:30)\nERR!     at Object.Module._extensions..js (internal/modules/cjs/loader.js:816:10)\nERR!     at Module.load (internal/modules/cjs/loader.js:672:32)\nERR!     at tryModuleLoad (internal/modules/cjs/loader.js:612:12)\nERR!     at Function.Module._load (internal/modules/cjs/loader.js:604:3)\nERR!     at Module.require (internal/modules/cjs/loader.js:711:19)\nERR!     at require (internal/modules/cjs/helpers.js:14:16)\nERR!     at interopRequireDefault (C:\\Users\\Firstname Lastname\\Desktop\\workspace\\website\\components\\front-end\\app\\node_modules\\@storybook\\core\\dist\\server\\presets.js:20:18)\nERR!     at loadPreset (C:\\Users\\Firstname Lastname\\Desktop\\workspace\\website\\components\\front-end\\app\\node_modules\\@storybook\\core\\dist\\server\\presets.js:30:17)\nERR!     at Array.map (&lt;anonymous&gt;)\nERR!     at loadPresets (C:\\Users\\Firstname Lastname\\Desktop\\workspace\\website\\components\\front-end\\app\\node_modules\\@storybook\\core\\dist\\server\\presets.js:59:26)\nERR!  { Error: Cannot find module 'vue-loader/lib/plugin'\nERR!     at Function.Module._resolveFilename (internal/modules/cjs/loader.js:655:15)\nERR!     at Function.Module._load (internal/modules/cjs/loader.js:580:25)\nERR!     at Module.require (internal/modules/cjs/loader.js:711:19)\nERR!     at require (internal/modules/cjs/helpers.js:14:16)\nERR!     at Object.&lt;anonymous&gt; (C:\\Users\\Firstname Lastname\\Desktop\\workspace\\website\\components\\front-end\\app\\node_modules\\@storybook\\vue\\dist\\server\\framework-preset-vue.js:11:38)\nERR!     at Module._compile (internal/modules/cjs/loader.js:805:30)\nERR!     at Object.Module._extensions..js (internal/modules/cjs/loader.js:816:10)\nERR!     at Module.load (internal/modules/cjs/loader.js:672:32)\nERR!     at tryModuleLoad (internal/modules/cjs/loader.js:612:12)\nERR!     at Function.Module._load (internal/modules/cjs/loader.js:604:3)\nERR!     at Module.require (internal/modules/cjs/loader.js:711:19)\nERR!     at require (internal/modules/cjs/helpers.js:14:16)\nERR!     at interopRequireDefault (C:\\Users\\Firstname Lastname\\Desktop\\workspace\\website\\components\\front-end\\app\\node_modules\\@storybook\\core\\dist\\server\\presets.js:20:18)\nERR!     at loadPreset (C:\\Users\\Firstname Lastname\\Desktop\\workspace\\website\\components\\front-end\\app\\node_modules\\@storybook\\core\\dist\\server\\presets.js:30:17)\nERR!     at Array.map (&lt;anonymous&gt;)\nERR!     at loadPresets (C:\\Users\\Firstname Lastname\\Desktop\\workspace\\website\\components\\front-end\\app\\node_modules\\@storybook\\core\\dist\\server\\presets.js:59:26)\nERR!   stack:\nERR!    \"Error: Cannot find module 'vue-loader/lib/plugin'\\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:655:15)\\n    at Function.Module._load (internal/modules/cjs/loader.js:580:25)\\n    at Module.require (internal/modules/cjs/loader.js:711:19)\\n    at require (internal/modules/cjs/helpers.js:14:16)\\n    at Object.&lt;anonymous&gt; (C:\\\\Users\\\\Firstname Lastname\\\\Desktop\\\\workspace\\\\website\\\\components\\\\front-end\\\\app\\\\node_modules\\\\@storybook\\\\vue\\\\dist\\\\server\\\\framework-preset-vue.js:11:38)\\n    at Module._compile (internal/modules/cjs/loader.js:805:30)\\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:816:10)\\n    at Module.load (internal/modules/cjs/loader.js:672:32)\\n    at tryModuleLoad (internal/modules/cjs/loader.js:612:12)\\n    at Function.Module._load (internal/modules/cjs/loader.js:604:3)\\n    at Module.require (internal/modules/cjs/loader.js:711:19)\\n    at require (internal/modules/cjs/helpers.js:14:16)\\n    at interopRequireDefault (C:\\\\Users\\\\Firstname Lastname\\\\Desktop\\\\workspace\\\\website\\\\components\\\\front-end\\\\app\\\\node_modules\\\\@storybook\\\\core\\\\dist\\\\server\\\\presets.js:20:18)\\n    at loadPreset (C:\\\\Users\\\\Firstname Lastname\\\\Desktop\\\\workspace\\\\website\\\\components\\\\front-end\\\\app\\\\node_modules\\\\@storybook\\\\core\\\\dist\\\\server\\\\presets.js:30:17)\\n    at Array.map (&lt;anonymous&gt;)\\n    at loadPresets (C:\\\\Users\\\\Firstname Lastname\\\\Desktop\\\\workspace\\\\website\\\\components\\\\front-end\\\\app\\\\node_modules\\\\@storybook\\\\core\\\\dist\\\\server\\\\presets.js:59:26)\",\nERR!   code: 'MODULE_NOT_FOUND' }\ninfo =&gt; Loading presets\nWARN   Failed to load preset: \"C:\\\\Users\\\\Firstname Lastname\\\\Desktop\\\\workspace\\\\website\\\\components\\\\front-end\\\\app\\\\node_modules\\\\@storybook\\\\vue\\\\dist\\\\server\\\\framework-preset-vue.js\"\nERR! Error: Cannot find module 'vue-loader/lib/plugin'\nERR!     at Function.Module._resolveFilename (internal/modules/cjs/loader.js:655:15)\nERR!     at Function.Module._load (internal/modules/cjs/loader.js:580:25)\nERR!     at Module.require (internal/modules/cjs/loader.js:711:19)\nERR!     at require (internal/modules/cjs/helpers.js:14:16)\nERR!     at Object.&lt;anonymous&gt; (C:\\Users\\Firstname Lastname\\Desktop\\workspace\\website\\components\\front-end\\app\\node_modules\\@storybook\\vue\\dist\\server\\framework-preset-vue.js:11:38)\nERR!     at Module._compile (internal/modules/cjs/loader.js:805:30)\nERR!     at Object.Module._extensions..js (internal/modules/cjs/loader.js:816:10)\nERR!     at Module.load (internal/modules/cjs/loader.js:672:32)\nERR!     at tryModuleLoad (internal/modules/cjs/loader.js:612:12)\nERR!     at Function.Module._load (internal/modules/cjs/loader.js:604:3)\nERR!     at Module.require (internal/modules/cjs/loader.js:711:19)\nERR!     at require (internal/modules/cjs/helpers.js:14:16)\nERR!     at interopRequireDefault (C:\\Users\\Firstname Lastname\\Desktop\\workspace\\website\\components\\front-end\\app\\node_modules\\@storybook\\core\\dist\\server\\presets.js:20:18)\nERR!     at loadPreset (C:\\Users\\Firstname Lastname\\Desktop\\workspace\\website\\components\\front-end\\app\\node_modules\\@storybook\\core\\dist\\server\\presets.js:30:17)\nERR!     at Array.map (&lt;anonymous&gt;)\nERR!     at loadPresets (C:\\Users\\Firstname Lastname\\Desktop\\workspace\\website\\components\\front-end\\app\\node_modules\\@storybook\\core\\dist\\server\\presets.js:59:26)\nERR!  { Error: Cannot find module 'vue-loader/lib/plugin'\nERR!     at Function.Module._resolveFilename (internal/modules/cjs/loader.js:655:15)\nERR!     at Function.Module._load (internal/modules/cjs/loader.js:580:25)\nERR!     at Module.require (internal/modules/cjs/loader.js:711:19)\nERR!     at require (internal/modules/cjs/helpers.js:14:16)\nERR!     at Object.&lt;anonymous&gt; (C:\\Users\\Firstname Lastname\\Desktop\\workspace\\website\\components\\front-end\\app\\node_modules\\@storybook\\vue\\dist\\server\\framework-preset-vue.js:11:38)\nERR!     at Module._compile (internal/modules/cjs/loader.js:805:30)\nERR!     at Object.Module._extensions..js (internal/modules/cjs/loader.js:816:10)\nERR!     at Module.load (internal/modules/cjs/loader.js:672:32)\nERR!     at tryModuleLoad (internal/modules/cjs/loader.js:612:12)\nERR!     at Function.Module._load (internal/modules/cjs/loader.js:604:3)\nERR!     at Module.require (internal/modules/cjs/loader.js:711:19)\nERR!     at require (internal/modules/cjs/helpers.js:14:16)\nERR!     at interopRequireDefault (C:\\Users\\Firstname Lastname\\Desktop\\workspace\\website\\components\\front-end\\app\\node_modules\\@storybook\\core\\dist\\server\\presets.js:20:18)\nERR!     at loadPreset (C:\\Users\\Firstname Lastname\\Desktop\\workspace\\website\\components\\front-end\\app\\node_modules\\@storybook\\core\\dist\\server\\presets.js:30:17)\nERR!     at Array.map (&lt;anonymous&gt;)\nERR!     at loadPresets (C:\\Users\\Firstname Lastname\\Desktop\\workspace\\website\\components\\front-end\\app\\node_modules\\@storybook\\core\\dist\\server\\presets.js:59:26)\nERR!   stack:\nERR!    \"Error: Cannot find module 'vue-loader/lib/plugin'\\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:655:15)\\n    at Function.Module._load (internal/modules/cjs/loader.js:580:25)\\n    at Module.require (internal/modules/cjs/loader.js:711:19)\\n    at require (internal/modules/cjs/helpers.js:14:16)\\n    at Object.&lt;anonymous&gt; (C:\\\\Users\\\\Firstname Lastname\\\\Desktop\\\\workspace\\\\website\\\\components\\\\front-end\\\\app\\\\node_modules\\\\@storybook\\\\vue\\\\dist\\\\server\\\\framework-preset-vue.js:11:38)\\n    at Module._compile (internal/modules/cjs/loader.js:805:30)\\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:816:10)\\n    at Module.load (internal/modules/cjs/loader.js:672:32)\\n    at tryModuleLoad (internal/modules/cjs/loader.js:612:12)\\n    at Function.Module._load (internal/modules/cjs/loader.js:604:3)\\n    at Module.require (internal/modules/cjs/loader.js:711:19)\\n    at require (internal/modules/cjs/helpers.js:14:16)\\n    at interopRequireDefault (C:\\\\Users\\\\Firstname Lastname\\\\Desktop\\\\workspace\\\\website\\\\components\\\\front-end\\\\app\\\\node_modules\\\\@storybook\\\\core\\\\dist\\\\server\\\\presets.js:20:18)\\n    at loadPreset (C:\\\\Users\\\\Firstname Lastname\\\\Desktop\\\\workspace\\\\website\\\\components\\\\front-end\\\\app\\\\node_modules\\\\@storybook\\\\core\\\\dist\\\\server\\\\presets.js:30:17)\\n    at Array.map (&lt;anonymous&gt;)\\n    at loadPresets (C:\\\\Users\\\\Firstname Lastname\\\\Desktop\\\\workspace\\\\website\\\\components\\\\front-end\\\\app\\\\node_modules\\\\@storybook\\\\core\\\\dist\\\\server\\\\presets.js:59:26)\",\nERR!   code: 'MODULE_NOT_FOUND' }\ninfo =&gt; Using default Webpack setup.\n10% building 1/1 modules 0 active(node:20820) DeprecationWarning: Tapable.plugin is deprecated. Use new API on `.hooks` instead\nwebpack built 67e016cd23aad0230032 in 12596ms\n\u00d7 \uff62wdm\uff63: Hash: 67e016cd23aad0230032\nVersion: webpack 4.41.4\nTime: 12596ms\nBuilt at: 2019-12-25 22:39:17\n                                          Asset      Size        Chunks\n  Chunk Names\n                                    iframe.html  3.05 KiB                [emitted]\n\n            main.67e016cd23aad0230032.bundle.js  6.15 KiB          main  [emitted] [immutable]\n  main\n        main.67e016cd23aad0230032.bundle.js.map  1.84 KiB          main  [emitted] [dev]\n  main\n    runtime~main.67e016cd23aad0230032.bundle.js  31.2 KiB  runtime~main  [emitted] [immutable]\n  runtime~main\nruntime~main.67e016cd23aad0230032.bundle.js.map  32.3 KiB  runtime~main  [emitted] [dev]\n  runtime~main\n    vendors~main.67e016cd23aad0230032.bundle.js  2.91 MiB  vendors~main  [emitted] [immutable]  [big]  vendors~main\nvendors~main.67e016cd23aad0230032.bundle.js.map   2.9 MiB  vendors~main  [emitted] [dev]\n  vendors~main\nEntrypoint main [big] = runtime~main.67e016cd23aad0230032.bundle.js runtime~main.67e016cd23aad0230032.bundle.js.map vendors~main.67e016cd23aad0230032.bundle.js vendors~main.67e016cd23aad0230032.bundle.js.map main.67e016cd23aad0230032.bundle.js main.67e016cd23aad0230032.bundle.js.map\n[0] multi ./node_modules/@storybook/core/dist/server/common/polyfills.js ./node_modules/@storybook/core/dist/server/preview/globals.js ./.storybook/config.js ./node_modules/webpack-hot-middleware/client.js?reload=true&amp;quiet=true 64 bytes {main} [built]\n[./.storybook/config.js] 118 bytes {main} [built]\n[./node_modules/@storybook/core/dist/server/common/polyfills.js] 120 bytes {vendors~main} [built]\n[./node_modules/@storybook/core/dist/server/preview/globals.js] 93 bytes {vendors~main} [built]\n[./node_modules/@storybook/core/node_modules/core-js/features/symbol/index.js] 359 bytes {vendors~main} [built]\n[./node_modules/@storybook/core/node_modules/regenerator-runtime/runtime.js] 23 KiB {vendors~main} [built]\n[./node_modules/@storybook/core/node_modules/webpack/buildin/harmony-module.js] (webpack)/buildin/harmony-module.js 573 bytes {vendors~main} [built]\n[./node_modules/@storybook/core/node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 497 bytes {vendors~main} [built]\n[./node_modules/@storybook/vue/dist/client/index.js] 1.21 KiB {vendors~main} [built]\n[./node_modules/airbnb-js-shims/index.js] 40 bytes {vendors~main} [built]\n[./node_modules/global/window.js] 232 bytes {vendors~main} [built]\n[./node_modules/querystring-es3/index.js] 127 bytes {vendors~main} [built]\n[./node_modules/strip-ansi/index.js] 161 bytes {vendors~main} [built]\n[./node_modules/webpack-hot-middleware/client-overlay.js] 2.17 KiB {vendors~main} [built]\n[./node_modules/webpack-hot-middleware/client.js?reload=true&amp;quiet=true] 7.68 KiB {vendors~main} [built]\n    + 758 hidden modules\n\nERROR in ./src/components/atoms/Button.vue 1:0\nModule parse failed: Unexpected token (1:0)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n&gt; &lt;template&gt;\n|   &lt;div&gt;{{ label }}&lt;/div&gt;\n| &lt;/template&gt;\n @ ./stories/mybutton/index.stories.js 2:0-61 16:28-36\n @ ./stories sync \\.stories\\.js$\n @ ./.storybook/config.js\n @ multi ./node_modules/@storybook/core/dist/server/common/polyfills.js ./node_modules/@storybook/core/dist/server/preview/globals.js ./.storybook/config.js ./node_modules/webpack-hot-middleware/client.js?reload=true&amp;quiet=true\nChild HtmlWebpackCompiler:\n                          Asset      Size               Chunks  Chunk Names\n    __child-HtmlWebpackPlugin_0  6.53 KiB  HtmlWebpackPlugin_0  HtmlWebpackPlugin_0\n    Entrypoint HtmlWebpackPlugin_0 = __child-HtmlWebpackPlugin_0\n    [./node_modules/@storybook/core/node_modules/html-webpack-plugin/lib/loader.js!./node_modules/@storybook/core/dist/server/templates/index.ejs] 2.18 KiB {HtmlWebpackPlugin_0} [built]\n\nWARN Broken build, fix the error above.\nWARN You may need to refresh the browser.\n</code></pre>\n\n<p><strong>.babelrc</strong></p>\n\n<pre><code>{\n  \"presets\": [\n    [\"env\", {\n      \"modules\": false,\n      \"targets\": {\n        \"browsers\": [\"&gt; 1%\", \"last 2 versions\", \"not ie &lt;= 8\"]\n      }\n    }],\n    \"stage-2\"\n  ],\n  \"plugins\": [\"transform-vue-jsx\", \"transform-runtime\"],\n  \"env\": {\n    \"test\": {\n      \"presets\": [\"env\", \"stage-2\"],\n      \"plugins\": [\"transform-vue-jsx\", \"transform-es2015-modules-commonjs\", \"dynamic-import-node\"]\n    }\n  }\n}\n</code></pre>\n\n<p><strong>package.json</strong></p>\n\n<pre><code>{\n  \"name\": \"app-test\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Description\",\n  \"author\": \"Email &lt;email@email.email&gt;\",\n  \"private\": true,\n  \"scripts\": {\n    \"dev\": \"webpack-dev-server --inline --progress --config build/webpack.dev.conf.js\",\n    \"start\": \"npm run dev\",\n    \"unit\": \"jest --config test/unit/jest.conf.js --coverage\",\n    \"test\": \"npm run unit\",\n    \"lint\": \"eslint --ext .js,.vue src test/unit\",\n    \"build\": \"node build/build.js\",\n    \"storybook\": \"start-storybook\"\n  },\n  \"dependencies\": {\n    \"vue\": \"^2.6.11\",\n    \"vue-router\": \"^3.0.1\"\n  },\n  \"devDependencies\": {\n    \"@babel/core\": \"^7.7.7\",\n    \"@storybook/vue\": \"^5.2.8\",\n    \"autoprefixer\": \"^7.1.2\",\n    \"babel-core\": \"^6.26.3\",\n    \"babel-eslint\": \"^8.2.1\",\n    \"babel-helper-vue-jsx-merge-props\": \"^2.0.3\",\n    \"babel-jest\": \"^21.0.2\",\n    \"babel-loader\": \"^7.1.5\",\n    \"babel-plugin-dynamic-import-node\": \"^1.2.0\",\n    \"babel-plugin-syntax-jsx\": \"^6.18.0\",\n    \"babel-plugin-transform-es2015-modules-commonjs\": \"^6.26.0\",\n    \"babel-plugin-transform-runtime\": \"^6.22.0\",\n    \"babel-plugin-transform-vue-jsx\": \"^3.5.0\",\n    \"babel-preset-env\": \"^1.3.2\",\n    \"babel-preset-es2015\": \"^6.24.1\",\n    \"babel-preset-stage-2\": \"^6.22.0\",\n    \"babel-preset-vue\": \"^2.0.2\",\n    \"chalk\": \"^2.0.1\",\n    \"copy-webpack-plugin\": \"^4.0.1\",\n    \"css-loader\": \"^0.28.0\",\n    \"eslint\": \"^4.15.0\",\n    \"eslint-config-standard\": \"^10.2.1\",\n    \"eslint-friendly-formatter\": \"^3.0.0\",\n    \"eslint-loader\": \"^1.7.1\",\n    \"eslint-plugin-import\": \"^2.7.0\",\n    \"eslint-plugin-node\": \"^5.2.0\",\n    \"eslint-plugin-promise\": \"^3.4.0\",\n    \"eslint-plugin-standard\": \"^3.0.1\",\n    \"eslint-plugin-vue\": \"^4.0.0\",\n    \"extract-text-webpack-plugin\": \"^3.0.0\",\n    \"file-loader\": \"^1.1.4\",\n    \"friendly-errors-webpack-plugin\": \"^1.6.1\",\n    \"html-webpack-plugin\": \"^2.30.1\",\n    \"jest\": \"^22.0.4\",\n    \"jest-serializer-vue\": \"^0.3.0\",\n    \"node-notifier\": \"^5.1.2\",\n    \"optimize-css-assets-webpack-plugin\": \"^3.2.0\",\n    \"ora\": \"^1.2.0\",\n    \"portfinder\": \"^1.0.13\",\n    \"postcss-import\": \"^11.0.0\",\n    \"postcss-loader\": \"^2.0.8\",\n    \"postcss-url\": \"^7.2.1\",\n    \"rimraf\": \"^2.6.0\",\n    \"semver\": \"^5.3.0\",\n    \"shelljs\": \"^0.7.6\",\n    \"storybook\": \"^5.1.11\",\n    \"uglifyjs-webpack-plugin\": \"^1.1.1\",\n    \"url-loader\": \"^0.5.8\",\n    \"vue-jest\": \"^1.0.2\",\n    \"vue-loader\": \"^13.7.3\",\n    \"vue-style-loader\": \"^3.0.1\",\n    \"vue-template-compiler\": \"^2.6.11\",\n    \"webpack\": \"^3.12.0\",\n    \"webpack-bundle-analyzer\": \"^2.9.0\",\n    \"webpack-dev-server\": \"^2.9.1\",\n    \"webpack-merge\": \"^4.1.0\"\n  },\n  \"engines\": {\n    \"node\": \"&gt;= 6.0.0\",\n    \"npm\": \"&gt;= 3.0.0\"\n  },\n  \"browserslist\": [\n    \"&gt; 1%\",\n    \"last 2 versions\",\n    \"not ie &lt;= 8\"\n  ]\n}\n</code></pre>\n\n<p><strong>index.stories.js</strong></p>\n\n<pre><code>import MyButton from '../../src/components/atoms/Button.vue'\n\nexport default { title: 'Button' }\n\nexport const withText = () =&gt; '&lt;my-button&gt;with text&lt;/my-button&gt;'\n\nexport const withEmoji = () =&gt; '&lt;my-button&gt;\ud83d\ude00 \ud83d\ude0e \ud83d\udc4d \ud83d\udcaf&lt;/my-button&gt;'\n\nexport const asAComponent = () =&gt; ({\n  components: { MyButton },\n  template: '&lt;my-button :rounded=\"true\"&gt;rounded&lt;/my-button&gt;'\n})\n</code></pre>\n\n<p><strong>Button.vue</strong></p>\n\n<pre><code>&lt;template&gt;\n  &lt;div&gt;{{ label }}&lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nexport default {\n  name: 'my-button',\n  data () {\n    return {\n      label: 'Mon bouton'\n    }\n  }\n}\n&lt;/script&gt;\n\n&lt;!-- Add \"scoped\" attribute to limit CSS to this component only --&gt;\n&lt;style scoped&gt;\ndiv {\n  background-color:black;\n  color:white;\n}\n&lt;/style&gt;\n</code></pre>\n\n<p>Adam.</p>\n"}, {"tags": ["javascript", "vuejs2"], "answers": [{"tags": [], "owner": {"reputation": 4645, "user_id": 11998782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZZ3Di.png?s=128&g=1", "display_name": "Shiny", "link": "https://stackoverflow.com/users/11998782/shiny"}, "is_accepted": true, "score": 4, "last_activity_date": 1577311592, "last_edit_date": 1577311592, "creation_date": 1577310846, "answer_id": 59482106, "question_id": 59482074, "link": "https://stackoverflow.com/questions/59482074/how-to-merge-strings-from-foreach-loop-to-an-array/59482106#59482106", "title": "How to merge strings from forEach loop to an array", "body": "<p>It makes more sense here to just use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\"><code>.map()</code></a>, as it will create a new Array with the return value of each iteration</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data=[{ImageSets:[{ImageSet:[{$:{Category:\"variant\"},SwatchImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41NeQS3RMzL._SL30_.jpg\"],Height:[{_:\"30\",$:{Units:\"pixels\"}}],Width:[{_:\"30\",$:{Units:\"pixels\"}}]}],SmallImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41NeQS3RMzL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],ThumbnailImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41NeQS3RMzL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],TinyImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41NeQS3RMzL._SL110_.jpg\"],Height:[{_:\"110\",$:{Units:\"pixels\"}}],Width:[{_:\"110\",$:{Units:\"pixels\"}}]}],MediumImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41NeQS3RMzL._SL160_.jpg\"],Height:[{_:\"160\",$:{Units:\"pixels\"}}],Width:[{_:\"160\",$:{Units:\"pixels\"}}]}],LargeImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41NeQS3RMzL.jpg\"],Height:[{_:\"500\",$:{Units:\"pixels\"}}],Width:[{_:\"500\",$:{Units:\"pixels\"}}]}],HiResImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/81OWhCeCRtL.jpg\"],Height:[{_:\"2560\",$:{Units:\"pixels\"}}],Width:[{_:\"2560\",$:{Units:\"pixels\"}}]}]},{$:{Category:\"variant\"},SwatchImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/316W1tHrMuL._SL30_.jpg\"],Height:[{_:\"30\",$:{Units:\"pixels\"}}],Width:[{_:\"30\",$:{Units:\"pixels\"}}]}],SmallImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/316W1tHrMuL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],ThumbnailImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/316W1tHrMuL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],TinyImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/316W1tHrMuL._SL110_.jpg\"],Height:[{_:\"110\",$:{Units:\"pixels\"}}],Width:[{_:\"110\",$:{Units:\"pixels\"}}]}],MediumImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/316W1tHrMuL._SL160_.jpg\"],Height:[{_:\"160\",$:{Units:\"pixels\"}}],Width:[{_:\"160\",$:{Units:\"pixels\"}}]}],LargeImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/316W1tHrMuL.jpg\"],Height:[{_:\"500\",$:{Units:\"pixels\"}}],Width:[{_:\"500\",$:{Units:\"pixels\"}}]}],HiResImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/71e4eChoGzL.jpg\"],Height:[{_:\"2560\",$:{Units:\"pixels\"}}],Width:[{_:\"2560\",$:{Units:\"pixels\"}}]}]},{$:{Category:\"variant\"},SwatchImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/31TgrPVXYjL._SL30_.jpg\"],Height:[{_:\"30\",$:{Units:\"pixels\"}}],Width:[{_:\"30\",$:{Units:\"pixels\"}}]}],SmallImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/31TgrPVXYjL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],ThumbnailImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/31TgrPVXYjL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],TinyImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/31TgrPVXYjL._SL110_.jpg\"],Height:[{_:\"110\",$:{Units:\"pixels\"}}],Width:[{_:\"110\",$:{Units:\"pixels\"}}]}],MediumImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/31TgrPVXYjL._SL160_.jpg\"],Height:[{_:\"160\",$:{Units:\"pixels\"}}],Width:[{_:\"160\",$:{Units:\"pixels\"}}]}],LargeImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/31TgrPVXYjL.jpg\"],Height:[{_:\"500\",$:{Units:\"pixels\"}}],Width:[{_:\"500\",$:{Units:\"pixels\"}}]}],HiResImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/71qsXsLLRWL.jpg\"],Height:[{_:\"2560\",$:{Units:\"pixels\"}}],Width:[{_:\"2560\",$:{Units:\"pixels\"}}]}]},{$:{Category:\"variant\"},SwatchImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/51qcfjgaAZL._SL30_.jpg\"],Height:[{_:\"30\",$:{Units:\"pixels\"}}],Width:[{_:\"30\",$:{Units:\"pixels\"}}]}],SmallImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/51qcfjgaAZL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],ThumbnailImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/51qcfjgaAZL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],TinyImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/51qcfjgaAZL._SL110_.jpg\"],Height:[{_:\"110\",$:{Units:\"pixels\"}}],Width:[{_:\"110\",$:{Units:\"pixels\"}}]}],MediumImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/51qcfjgaAZL._SL160_.jpg\"],Height:[{_:\"160\",$:{Units:\"pixels\"}}],Width:[{_:\"160\",$:{Units:\"pixels\"}}]}],LargeImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/51qcfjgaAZL.jpg\"],Height:[{_:\"500\",$:{Units:\"pixels\"}}],Width:[{_:\"500\",$:{Units:\"pixels\"}}]}],HiResImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/91hyvNK4stL.jpg\"],Height:[{_:\"2560\",$:{Units:\"pixels\"}}],Width:[{_:\"2560\",$:{Units:\"pixels\"}}]}]},{$:{Category:\"variant\"},SwatchImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41numbb3sgL._SL30_.jpg\"],Height:[{_:\"30\",$:{Units:\"pixels\"}}],Width:[{_:\"30\",$:{Units:\"pixels\"}}]}],SmallImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41numbb3sgL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],ThumbnailImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41numbb3sgL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],TinyImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41numbb3sgL._SL110_.jpg\"],Height:[{_:\"110\",$:{Units:\"pixels\"}}],Width:[{_:\"110\",$:{Units:\"pixels\"}}]}],MediumImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41numbb3sgL._SL160_.jpg\"],Height:[{_:\"160\",$:{Units:\"pixels\"}}],Width:[{_:\"160\",$:{Units:\"pixels\"}}]}],LargeImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41numbb3sgL.jpg\"],Height:[{_:\"500\",$:{Units:\"pixels\"}}],Width:[{_:\"500\",$:{Units:\"pixels\"}}]}],HiResImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/816DOkjvgKL.jpg\"],Height:[{_:\"2560\",$:{Units:\"pixels\"}}],Width:[{_:\"2560\",$:{Units:\"pixels\"}}]}]},{$:{Category:\"variant\"},SwatchImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41PLx0E2sqL._SL30_.jpg\"],Height:[{_:\"30\",$:{Units:\"pixels\"}}],Width:[{_:\"30\",$:{Units:\"pixels\"}}]}],SmallImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41PLx0E2sqL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],ThumbnailImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41PLx0E2sqL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],TinyImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41PLx0E2sqL._SL110_.jpg\"],Height:[{_:\"110\",$:{Units:\"pixels\"}}],Width:[{_:\"110\",$:{Units:\"pixels\"}}]}],MediumImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41PLx0E2sqL._SL160_.jpg\"],Height:[{_:\"160\",$:{Units:\"pixels\"}}],Width:[{_:\"160\",$:{Units:\"pixels\"}}]}],LargeImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41PLx0E2sqL.jpg\"],Height:[{_:\"500\",$:{Units:\"pixels\"}}],Width:[{_:\"500\",$:{Units:\"pixels\"}}]}],HiResImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/819xXjN-ghL.jpg\"],Height:[{_:\"2560\",$:{Units:\"pixels\"}}],Width:[{_:\"2560\",$:{Units:\"pixels\"}}]}]},{$:{Category:\"primary\"},SwatchImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41bz4b5IbLL._SL30_.jpg\"],Height:[{_:\"30\",$:{Units:\"pixels\"}}],Width:[{_:\"30\",$:{Units:\"pixels\"}}]}],SmallImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41bz4b5IbLL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],ThumbnailImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41bz4b5IbLL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],TinyImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41bz4b5IbLL._SL110_.jpg\"],Height:[{_:\"110\",$:{Units:\"pixels\"}}],Width:[{_:\"110\",$:{Units:\"pixels\"}}]}],MediumImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41bz4b5IbLL._SL160_.jpg\"],Height:[{_:\"160\",$:{Units:\"pixels\"}}],Width:[{_:\"160\",$:{Units:\"pixels\"}}]}],LargeImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41bz4b5IbLL.jpg\"],Height:[{_:\"500\",$:{Units:\"pixels\"}}],Width:[{_:\"500\",$:{Units:\"pixels\"}}]}],HiResImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/71-w1EWOaWL.jpg\"],Height:[{_:\"2560\",$:{Units:\"pixels\"}}],Width:[{_:\"2560\",$:{Units:\"pixels\"}}]}]}]}]}];\r\n\r\nlet urlsArray = data[0].ImageSets[0].ImageSet.map((image) =&gt; {\r\n  return image.LargeImage[0].URL[0];\r\n});\r\n\r\nconsole.log(urlsArray);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This is how you would do it with <code>.forEach()</code>, additionally</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data=[{ImageSets:[{ImageSet:[{$:{Category:\"variant\"},SwatchImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41NeQS3RMzL._SL30_.jpg\"],Height:[{_:\"30\",$:{Units:\"pixels\"}}],Width:[{_:\"30\",$:{Units:\"pixels\"}}]}],SmallImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41NeQS3RMzL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],ThumbnailImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41NeQS3RMzL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],TinyImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41NeQS3RMzL._SL110_.jpg\"],Height:[{_:\"110\",$:{Units:\"pixels\"}}],Width:[{_:\"110\",$:{Units:\"pixels\"}}]}],MediumImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41NeQS3RMzL._SL160_.jpg\"],Height:[{_:\"160\",$:{Units:\"pixels\"}}],Width:[{_:\"160\",$:{Units:\"pixels\"}}]}],LargeImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41NeQS3RMzL.jpg\"],Height:[{_:\"500\",$:{Units:\"pixels\"}}],Width:[{_:\"500\",$:{Units:\"pixels\"}}]}],HiResImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/81OWhCeCRtL.jpg\"],Height:[{_:\"2560\",$:{Units:\"pixels\"}}],Width:[{_:\"2560\",$:{Units:\"pixels\"}}]}]},{$:{Category:\"variant\"},SwatchImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/316W1tHrMuL._SL30_.jpg\"],Height:[{_:\"30\",$:{Units:\"pixels\"}}],Width:[{_:\"30\",$:{Units:\"pixels\"}}]}],SmallImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/316W1tHrMuL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],ThumbnailImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/316W1tHrMuL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],TinyImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/316W1tHrMuL._SL110_.jpg\"],Height:[{_:\"110\",$:{Units:\"pixels\"}}],Width:[{_:\"110\",$:{Units:\"pixels\"}}]}],MediumImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/316W1tHrMuL._SL160_.jpg\"],Height:[{_:\"160\",$:{Units:\"pixels\"}}],Width:[{_:\"160\",$:{Units:\"pixels\"}}]}],LargeImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/316W1tHrMuL.jpg\"],Height:[{_:\"500\",$:{Units:\"pixels\"}}],Width:[{_:\"500\",$:{Units:\"pixels\"}}]}],HiResImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/71e4eChoGzL.jpg\"],Height:[{_:\"2560\",$:{Units:\"pixels\"}}],Width:[{_:\"2560\",$:{Units:\"pixels\"}}]}]},{$:{Category:\"variant\"},SwatchImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/31TgrPVXYjL._SL30_.jpg\"],Height:[{_:\"30\",$:{Units:\"pixels\"}}],Width:[{_:\"30\",$:{Units:\"pixels\"}}]}],SmallImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/31TgrPVXYjL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],ThumbnailImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/31TgrPVXYjL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],TinyImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/31TgrPVXYjL._SL110_.jpg\"],Height:[{_:\"110\",$:{Units:\"pixels\"}}],Width:[{_:\"110\",$:{Units:\"pixels\"}}]}],MediumImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/31TgrPVXYjL._SL160_.jpg\"],Height:[{_:\"160\",$:{Units:\"pixels\"}}],Width:[{_:\"160\",$:{Units:\"pixels\"}}]}],LargeImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/31TgrPVXYjL.jpg\"],Height:[{_:\"500\",$:{Units:\"pixels\"}}],Width:[{_:\"500\",$:{Units:\"pixels\"}}]}],HiResImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/71qsXsLLRWL.jpg\"],Height:[{_:\"2560\",$:{Units:\"pixels\"}}],Width:[{_:\"2560\",$:{Units:\"pixels\"}}]}]},{$:{Category:\"variant\"},SwatchImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/51qcfjgaAZL._SL30_.jpg\"],Height:[{_:\"30\",$:{Units:\"pixels\"}}],Width:[{_:\"30\",$:{Units:\"pixels\"}}]}],SmallImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/51qcfjgaAZL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],ThumbnailImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/51qcfjgaAZL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],TinyImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/51qcfjgaAZL._SL110_.jpg\"],Height:[{_:\"110\",$:{Units:\"pixels\"}}],Width:[{_:\"110\",$:{Units:\"pixels\"}}]}],MediumImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/51qcfjgaAZL._SL160_.jpg\"],Height:[{_:\"160\",$:{Units:\"pixels\"}}],Width:[{_:\"160\",$:{Units:\"pixels\"}}]}],LargeImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/51qcfjgaAZL.jpg\"],Height:[{_:\"500\",$:{Units:\"pixels\"}}],Width:[{_:\"500\",$:{Units:\"pixels\"}}]}],HiResImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/91hyvNK4stL.jpg\"],Height:[{_:\"2560\",$:{Units:\"pixels\"}}],Width:[{_:\"2560\",$:{Units:\"pixels\"}}]}]},{$:{Category:\"variant\"},SwatchImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41numbb3sgL._SL30_.jpg\"],Height:[{_:\"30\",$:{Units:\"pixels\"}}],Width:[{_:\"30\",$:{Units:\"pixels\"}}]}],SmallImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41numbb3sgL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],ThumbnailImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41numbb3sgL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],TinyImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41numbb3sgL._SL110_.jpg\"],Height:[{_:\"110\",$:{Units:\"pixels\"}}],Width:[{_:\"110\",$:{Units:\"pixels\"}}]}],MediumImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41numbb3sgL._SL160_.jpg\"],Height:[{_:\"160\",$:{Units:\"pixels\"}}],Width:[{_:\"160\",$:{Units:\"pixels\"}}]}],LargeImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41numbb3sgL.jpg\"],Height:[{_:\"500\",$:{Units:\"pixels\"}}],Width:[{_:\"500\",$:{Units:\"pixels\"}}]}],HiResImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/816DOkjvgKL.jpg\"],Height:[{_:\"2560\",$:{Units:\"pixels\"}}],Width:[{_:\"2560\",$:{Units:\"pixels\"}}]}]},{$:{Category:\"variant\"},SwatchImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41PLx0E2sqL._SL30_.jpg\"],Height:[{_:\"30\",$:{Units:\"pixels\"}}],Width:[{_:\"30\",$:{Units:\"pixels\"}}]}],SmallImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41PLx0E2sqL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],ThumbnailImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41PLx0E2sqL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],TinyImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41PLx0E2sqL._SL110_.jpg\"],Height:[{_:\"110\",$:{Units:\"pixels\"}}],Width:[{_:\"110\",$:{Units:\"pixels\"}}]}],MediumImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41PLx0E2sqL._SL160_.jpg\"],Height:[{_:\"160\",$:{Units:\"pixels\"}}],Width:[{_:\"160\",$:{Units:\"pixels\"}}]}],LargeImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41PLx0E2sqL.jpg\"],Height:[{_:\"500\",$:{Units:\"pixels\"}}],Width:[{_:\"500\",$:{Units:\"pixels\"}}]}],HiResImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/819xXjN-ghL.jpg\"],Height:[{_:\"2560\",$:{Units:\"pixels\"}}],Width:[{_:\"2560\",$:{Units:\"pixels\"}}]}]},{$:{Category:\"primary\"},SwatchImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41bz4b5IbLL._SL30_.jpg\"],Height:[{_:\"30\",$:{Units:\"pixels\"}}],Width:[{_:\"30\",$:{Units:\"pixels\"}}]}],SmallImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41bz4b5IbLL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],ThumbnailImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41bz4b5IbLL._SL75_.jpg\"],Height:[{_:\"75\",$:{Units:\"pixels\"}}],Width:[{_:\"75\",$:{Units:\"pixels\"}}]}],TinyImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41bz4b5IbLL._SL110_.jpg\"],Height:[{_:\"110\",$:{Units:\"pixels\"}}],Width:[{_:\"110\",$:{Units:\"pixels\"}}]}],MediumImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41bz4b5IbLL._SL160_.jpg\"],Height:[{_:\"160\",$:{Units:\"pixels\"}}],Width:[{_:\"160\",$:{Units:\"pixels\"}}]}],LargeImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/41bz4b5IbLL.jpg\"],Height:[{_:\"500\",$:{Units:\"pixels\"}}],Width:[{_:\"500\",$:{Units:\"pixels\"}}]}],HiResImage:[{URL:[\"https://images-na.ssl-images-amazon.com/images/I/71-w1EWOaWL.jpg\"],Height:[{_:\"2560\",$:{Units:\"pixels\"}}],Width:[{_:\"2560\",$:{Units:\"pixels\"}}]}]}]}]}];\r\n\r\nlet urlsArray = [];\r\ndata[0].ImageSets[0].ImageSet.map((image) =&gt; {\r\n  urlsArray.push(image.LargeImage[0].URL[0]);\r\n});\r\n\r\nconsole.log(urlsArray);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 337, "user_id": 3465265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8229457a7332370b86d4c621d8b9eff?s=128&d=identicon&r=PG&f=1", "display_name": "Key", "link": "https://stackoverflow.com/users/3465265/key"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "closed_date": 1577311578, "accepted_answer_id": 59482106, "answer_count": 1, "score": 0, "last_activity_date": 1577311592, "creation_date": 1577310638, "question_id": 59482074, "link": "https://stackoverflow.com/questions/59482074/how-to-merge-strings-from-foreach-loop-to-an-array", "closed_reason": "Duplicate", "title": "How to merge strings from forEach loop to an array", "body": "<p>Here is my code. (sorry about ugly json data)</p>\n\n<pre><code>var data = [{\"ImageSets\":[{\"ImageSet\":[{\"$\":{\"Category\":\"variant\"},\"SwatchImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/41NeQS3RMzL._SL30_.jpg\"],\"Height\":[{\"_\":\"30\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"30\",\"$\":{\"Units\":\"pixels\"}}]}],\"SmallImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/41NeQS3RMzL._SL75_.jpg\"],\"Height\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}]}],\"ThumbnailImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/41NeQS3RMzL._SL75_.jpg\"],\"Height\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}]}],\"TinyImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/41NeQS3RMzL._SL110_.jpg\"],\"Height\":[{\"_\":\"110\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"110\",\"$\":{\"Units\":\"pixels\"}}]}],\"MediumImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/41NeQS3RMzL._SL160_.jpg\"],\"Height\":[{\"_\":\"160\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"160\",\"$\":{\"Units\":\"pixels\"}}]}],\"LargeImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/41NeQS3RMzL.jpg\"],\"Height\":[{\"_\":\"500\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"500\",\"$\":{\"Units\":\"pixels\"}}]}],\"HiResImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/81OWhCeCRtL.jpg\"],\"Height\":[{\"_\":\"2560\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"2560\",\"$\":{\"Units\":\"pixels\"}}]}]},{\"$\":{\"Category\":\"variant\"},\"SwatchImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/316W1tHrMuL._SL30_.jpg\"],\"Height\":[{\"_\":\"30\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"30\",\"$\":{\"Units\":\"pixels\"}}]}],\"SmallImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/316W1tHrMuL._SL75_.jpg\"],\"Height\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}]}],\"ThumbnailImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/316W1tHrMuL._SL75_.jpg\"],\"Height\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}]}],\"TinyImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/316W1tHrMuL._SL110_.jpg\"],\"Height\":[{\"_\":\"110\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"110\",\"$\":{\"Units\":\"pixels\"}}]}],\"MediumImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/316W1tHrMuL._SL160_.jpg\"],\"Height\":[{\"_\":\"160\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"160\",\"$\":{\"Units\":\"pixels\"}}]}],\"LargeImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/316W1tHrMuL.jpg\"],\"Height\":[{\"_\":\"500\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"500\",\"$\":{\"Units\":\"pixels\"}}]}],\"HiResImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/71e4eChoGzL.jpg\"],\"Height\":[{\"_\":\"2560\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"2560\",\"$\":{\"Units\":\"pixels\"}}]}]},{\"$\":{\"Category\":\"variant\"},\"SwatchImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/31TgrPVXYjL._SL30_.jpg\"],\"Height\":[{\"_\":\"30\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"30\",\"$\":{\"Units\":\"pixels\"}}]}],\"SmallImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/31TgrPVXYjL._SL75_.jpg\"],\"Height\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}]}],\"ThumbnailImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/31TgrPVXYjL._SL75_.jpg\"],\"Height\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}]}],\"TinyImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/31TgrPVXYjL._SL110_.jpg\"],\"Height\":[{\"_\":\"110\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"110\",\"$\":{\"Units\":\"pixels\"}}]}],\"MediumImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/31TgrPVXYjL._SL160_.jpg\"],\"Height\":[{\"_\":\"160\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"160\",\"$\":{\"Units\":\"pixels\"}}]}],\"LargeImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/31TgrPVXYjL.jpg\"],\"Height\":[{\"_\":\"500\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"500\",\"$\":{\"Units\":\"pixels\"}}]}],\"HiResImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/71qsXsLLRWL.jpg\"],\"Height\":[{\"_\":\"2560\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"2560\",\"$\":{\"Units\":\"pixels\"}}]}]},{\"$\":{\"Category\":\"variant\"},\"SwatchImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/51qcfjgaAZL._SL30_.jpg\"],\"Height\":[{\"_\":\"30\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"30\",\"$\":{\"Units\":\"pixels\"}}]}],\"SmallImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/51qcfjgaAZL._SL75_.jpg\"],\"Height\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}]}],\"ThumbnailImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/51qcfjgaAZL._SL75_.jpg\"],\"Height\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}]}],\"TinyImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/51qcfjgaAZL._SL110_.jpg\"],\"Height\":[{\"_\":\"110\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"110\",\"$\":{\"Units\":\"pixels\"}}]}],\"MediumImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/51qcfjgaAZL._SL160_.jpg\"],\"Height\":[{\"_\":\"160\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"160\",\"$\":{\"Units\":\"pixels\"}}]}],\"LargeImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/51qcfjgaAZL.jpg\"],\"Height\":[{\"_\":\"500\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"500\",\"$\":{\"Units\":\"pixels\"}}]}],\"HiResImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/91hyvNK4stL.jpg\"],\"Height\":[{\"_\":\"2560\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"2560\",\"$\":{\"Units\":\"pixels\"}}]}]},{\"$\":{\"Category\":\"variant\"},\"SwatchImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/41numbb3sgL._SL30_.jpg\"],\"Height\":[{\"_\":\"30\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"30\",\"$\":{\"Units\":\"pixels\"}}]}],\"SmallImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/41numbb3sgL._SL75_.jpg\"],\"Height\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}]}],\"ThumbnailImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/41numbb3sgL._SL75_.jpg\"],\"Height\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}]}],\"TinyImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/41numbb3sgL._SL110_.jpg\"],\"Height\":[{\"_\":\"110\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"110\",\"$\":{\"Units\":\"pixels\"}}]}],\"MediumImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/41numbb3sgL._SL160_.jpg\"],\"Height\":[{\"_\":\"160\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"160\",\"$\":{\"Units\":\"pixels\"}}]}],\"LargeImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/41numbb3sgL.jpg\"],\"Height\":[{\"_\":\"500\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"500\",\"$\":{\"Units\":\"pixels\"}}]}],\"HiResImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/816DOkjvgKL.jpg\"],\"Height\":[{\"_\":\"2560\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"2560\",\"$\":{\"Units\":\"pixels\"}}]}]},{\"$\":{\"Category\":\"variant\"},\"SwatchImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/41PLx0E2sqL._SL30_.jpg\"],\"Height\":[{\"_\":\"30\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"30\",\"$\":{\"Units\":\"pixels\"}}]}],\"SmallImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/41PLx0E2sqL._SL75_.jpg\"],\"Height\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}]}],\"ThumbnailImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/41PLx0E2sqL._SL75_.jpg\"],\"Height\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}]}],\"TinyImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/41PLx0E2sqL._SL110_.jpg\"],\"Height\":[{\"_\":\"110\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"110\",\"$\":{\"Units\":\"pixels\"}}]}],\"MediumImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/41PLx0E2sqL._SL160_.jpg\"],\"Height\":[{\"_\":\"160\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"160\",\"$\":{\"Units\":\"pixels\"}}]}],\"LargeImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/41PLx0E2sqL.jpg\"],\"Height\":[{\"_\":\"500\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"500\",\"$\":{\"Units\":\"pixels\"}}]}],\"HiResImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/819xXjN-ghL.jpg\"],\"Height\":[{\"_\":\"2560\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"2560\",\"$\":{\"Units\":\"pixels\"}}]}]},{\"$\":{\"Category\":\"primary\"},\"SwatchImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/41bz4b5IbLL._SL30_.jpg\"],\"Height\":[{\"_\":\"30\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"30\",\"$\":{\"Units\":\"pixels\"}}]}],\"SmallImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/41bz4b5IbLL._SL75_.jpg\"],\"Height\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}]}],\"ThumbnailImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/41bz4b5IbLL._SL75_.jpg\"],\"Height\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"75\",\"$\":{\"Units\":\"pixels\"}}]}],\"TinyImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/41bz4b5IbLL._SL110_.jpg\"],\"Height\":[{\"_\":\"110\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"110\",\"$\":{\"Units\":\"pixels\"}}]}],\"MediumImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/41bz4b5IbLL._SL160_.jpg\"],\"Height\":[{\"_\":\"160\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"160\",\"$\":{\"Units\":\"pixels\"}}]}],\"LargeImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/41bz4b5IbLL.jpg\"],\"Height\":[{\"_\":\"500\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"500\",\"$\":{\"Units\":\"pixels\"}}]}],\"HiResImage\":[{\"URL\":[\"https://images-na.ssl-images-amazon.com/images/I/71-w1EWOaWL.jpg\"],\"Height\":[{\"_\":\"2560\",\"$\":{\"Units\":\"pixels\"}}],\"Width\":[{\"_\":\"2560\",\"$\":{\"Units\":\"pixels\"}}]}]}]}]}]\n\n        data[0].ImageSets[0].ImageSet.forEach((image) =&gt; {\n            var images = image.LargeImage[0].URL[0]\n            console.log(images)\n        })\n</code></pre>\n\n<p>I'm getting all URL's in console log.</p>\n\n<p><a href=\"https://i.stack.imgur.com/urlBb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/urlBb.png\" alt=\"console log\"></a></p>\n\n<p>I tried to merge them with <code>split()</code> but it's not working. Each string is getting its own array. Similarly if i use <code>var images = image.LargeImage[0].URL</code>. Each string return it's own array.</p>\n\n<p>What i want is a single array with all URL's like this.</p>\n\n<pre><code>[\"https://images-na.ssl-images-amazon.com/images/I/41NeQS3RMzL.jpg\", \"https://images-na.ssl-images-amazon.com/images/I/316W1tHrMuL.jpg\", \"https://images-na.ssl-images-amazon.com/images/I/31TgrPVXYjL.jpg\", \"https://images-na.ssl-images-amazon.com/images/I/51qcfjgaAZL.jpg\", \"https://images-na.ssl-images-amazon.com/images/I/41numbb3sgL.jpg\", \"https://images-na.ssl-images-amazon.com/images/I/41PLx0E2sqL.jpg\",\"https://images-na.ssl-images-amazon.com/images/I/41bz4b5IbLL.jpg\"]\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "loops", "object"], "comments": [{"owner": {"reputation": 333, "user_id": 4119678, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/yUW6p.jpg?s=128&g=1", "display_name": "afryingpan", "link": "https://stackoverflow.com/users/4119678/afryingpan"}, "edited": false, "score": 0, "creation_date": 1577310597, "post_id": 59482048, "comment_id": 105140563, "body": "What exactly is the question? Trying to find a better way to do it?"}, {"owner": {"reputation": 1256, "user_id": 3717691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e31f2eebcaa93d53b27abaf149df957?s=128&d=identicon&r=PG&f=1", "display_name": "Jeppe", "link": "https://stackoverflow.com/users/3717691/jeppe"}, "edited": false, "score": 1, "creation_date": 1577311208, "post_id": 59482048, "comment_id": 105140678, "body": "<code>n</code> is a string, right? And then you try to access the property using <code>dirs[i].n</code>? I think you need to do <code>dirs[i][n]</code> then."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11975059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d430be072b39b0430f544554177bfaa9?s=128&d=identicon&r=PG&f=1", "display_name": "heliumface770", "link": "https://stackoverflow.com/users/11975059/heliumface770"}, "is_accepted": false, "score": 0, "last_activity_date": 1577311288, "creation_date": 1577311288, "answer_id": 59482138, "question_id": 59482048, "link": "https://stackoverflow.com/questions/59482048/trying-to-loop-through-an-array-of-objects-to-populate-arrays-with-data-in-objec/59482138#59482138", "title": "Trying to loop through an array of objects to populate arrays with data in objects", "body": "<p>I changed the media array to</p>\n\n<p><code>var mediaArr = [dirs[i].tv, dirs[i].movies, dirs[i].images, etc..]</code></p>\n\n<p>and scoped it within the loop so it could identify \"i\"</p>\n"}], "owner": {"reputation": 1, "user_id": 11975059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d430be072b39b0430f544554177bfaa9?s=128&d=identicon&r=PG&f=1", "display_name": "heliumface770", "link": "https://stackoverflow.com/users/11975059/heliumface770"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577339693, "creation_date": 1577310342, "last_edit_date": 1577339693, "question_id": 59482048, "link": "https://stackoverflow.com/questions/59482048/trying-to-loop-through-an-array-of-objects-to-populate-arrays-with-data-in-objec", "title": "Trying to loop through an array of objects to populate arrays with data in objects", "body": "<p>I'm writing a node script to gather a bunch of file names and locations over several hard drives. The issue is that I'm trying to dial into the \"dirs\" array of objects with a loop so instead of having to code for dirs[i].tv, dirs[i].movies, dirs[i].images, etc for each object in the array I'll have an array of [\"tv\", \"movies\", \"images, \"etc\"] that's looped through. I ended up with something like \"dirs[i].n\" with \"n\" being a variable defined by the loop, but that's the issue that isn't working. Since \"n\" isn't defined in the object the script is returning an error</p>\n\n<p>Below is the code I'm working with</p>\n\n<pre><code>var dirs = [\n    {\n        name: \"C\",\n        loc: \"C:/\",\n        tv: undefined,\n        movies: undefined,\n        images: \"Users/'Master William'/Pictures/\",\n        music: undefined,\n        torrents: undefined,\n        porn: undefined\n    },\n    {\n        name: \"D\",\n        loc: \"D:/\",\n        tv: \"Video/TV/\",\n        movies: \"Video/Movies/\",\n        images: \"images/pics/\",\n        music: \"Music/\",\n        torrents: \"Torrents/\",\n        porn: undefined\n    },\n    {\n        name: \"I\",\n        loc: \"I:/\",\n        tv: \"Users/heliu/Videos/TV/\",\n        movies: \"Users/heliu/Videos/Movies/\",\n        images: \"Users/heliu/Desktop/Will/Pics/\",\n        music: \"Users/heliu/Music/\",\n        torrents: undefined,\n        porn: \"Users/heliu/Videos/Pr0n/\"\n    },\n    {\n        name: \"J\",\n        loc: \"J:/\",\n        tv: \"Video/TV/\",\n        movies: \"Video/Movies/\",\n        images: \"Pics\",\n        music: \"Tunes/\",\n        torrents: undefined,\n        porn: \"Pornography/\"\n    }\n]\n\nconst fs = require(\"fs\");\nvar tvArr = [];\nvar moviesArr = [];\nvar imagesArr = [];\nvar musicArr = [];\nvar torrentsArr = [];\nvar pornArr = [];\nvar mediaArr = [\"tv\", \"movies\", \"images\", \"music\", \"torrents\", \"porn\"];\nvar arrArr = [tvArr, moviesArr, imagesArr, musicArr, torrentsArr, pornArr];\n\n\nfor( var i = 0; i &lt; dirs.length; i++){\n    let o = dirs[i].loc;\n    for( var j = 0; j &lt; mediaArr.length; j++){\n        let n = mediaArr[j];\n        if(dirs[i].n !== undefined){\n            let x = dirs[i].loc+dirs[i].n;\n            fs.readdirSync(x).forEach(file =&gt; {\n                arrArr[j].push(file);\n            })\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 20731, "user_id": 2181514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pS2Yo.jpg?s=128&g=1", "display_name": "freedomn-m", "link": "https://stackoverflow.com/users/2181514/freedomn-m"}, "edited": false, "score": 0, "creation_date": 1577310453, "post_id": 59482038, "comment_id": 105140533, "body": "For letters: <a href=\"http://www.asciitable.com/\" rel=\"nofollow noreferrer\">asciitable.com</a>"}], "answers": [{"comments": [{"owner": {"reputation": 970, "user_id": 267706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57898b06cf611e1719aa39b126419a3b?s=128&d=identicon&r=PG", "display_name": "JohnC", "link": "https://stackoverflow.com/users/267706/johnc"}, "reply_to_user": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1577351064, "post_id": 59482210, "comment_id": 105147327, "body": "Thanks for the questIon, I forgot to add the original link, now corrected"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1577363783, "post_id": 59482210, "comment_id": 105151569, "body": "What does this have to do with keycodes, e.g., the question?"}], "tags": [], "owner": {"reputation": 970, "user_id": 267706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57898b06cf611e1719aa39b126419a3b?s=128&d=identicon&r=PG", "display_name": "JohnC", "link": "https://stackoverflow.com/users/267706/johnc"}, "is_accepted": false, "score": -4, "last_activity_date": 1577350981, "last_edit_date": 1577350981, "creation_date": 1577312081, "answer_id": 59482210, "question_id": 59482038, "link": "https://stackoverflow.com/questions/59482038/how-are-keycodes-decided/59482210#59482210", "title": "How are keycodes decided?", "body": "<p><a href=\"https://www.w3schools.com/jsref/event_key_keycode.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/jsref/event_key_keycode.asp</a></p>\n\n<p>utf8/16 has taken over ASCII as computing has adjusted to dealing with all the world's languages systematically.\n<a href=\"https://www.w3schools.com/charsets/ref_html_utf8.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/charsets/ref_html_utf8.asp</a></p>\n"}, {"comments": [{"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1577326327, "post_id": 59483035, "comment_id": 105142511, "body": "&quot;the keycode returned for letter keys is always the ASCII code for the letter in upper case.&quot; nope. In <code>keypress</code> event it will be the cased one. Here are the algoritm<b>s</b> to determine the <code>.keyCode</code> value: <a href=\"https://www.w3.org/TR/uievents/#determine-keydown-keyup-keyCode\" rel=\"nofollow noreferrer\">w3.org/TR/uievents/#determine-keydown-keyup-keyCode</a>"}, {"owner": {"reputation": 12410, "user_id": 5217142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57daeb5f96b7a591e3447d41e59bbc94?s=128&d=identicon&r=PG&f=1", "display_name": "traktor", "link": "https://stackoverflow.com/users/5217142/traktor"}, "reply_to_user": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1577333163, "post_id": 59483035, "comment_id": 105143263, "body": "@Kaiido thanks - I was trying to avoid being specific about all the  messy details but rushed that one. Answer updated to include it."}], "tags": [], "owner": {"reputation": 12410, "user_id": 5217142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57daeb5f96b7a591e3447d41e59bbc94?s=128&d=identicon&r=PG&f=1", "display_name": "traktor", "link": "https://stackoverflow.com/users/5217142/traktor"}, "is_accepted": false, "score": 1, "last_activity_date": 1577343897, "last_edit_date": 1577343897, "creation_date": 1577323694, "answer_id": 59483035, "question_id": 59482038, "link": "https://stackoverflow.com/questions/59482038/how-are-keycodes-decided/59483035#59483035", "title": "How are keycodes decided?", "body": "<p>(revised)</p>\n\n<p>The values for the legacy <code>keyCode</code> property of key board events is covered in the <a href=\"https://www.w3.org/TR/uievents/#legacy-KeyboardEvent\" rel=\"nofollow noreferrer\">UIEvents standard</a>. In particular</p>\n\n<ul>\n<li><code>keyCode</code> is often the ASCII character code of the key pressed, especially for numeric digits and upper case letters.</li>\n<li>For lower case letters, <code>keyup</code> and <code>keydown</code> events return as<code>keyCode</code> value the ASCII code of the the letter in <strong>upper case</strong>, however -</li>\n<li>The <code>keycode</code> for lower case letters in <code>keypress</code> events is the ASCII code for the lower case letter. </li>\n<li>The <code>keyCode</code> for some keys, whose function is similar to that of an ASCII control character, is the control character's ASCII code.  E.G.  <code>TAB</code>, <code>CR</code>, <code>BS</code> or <code>ESC</code> ASCII codes are returned for the Tab, Enter,  Backspace or Esc labelled keys respectively.</li>\n<li>For non alphanumeric keys which have ASCII codes, <code>keyCode</code> may be obtained from key code tables shown in section <a href=\"https://www.w3.org/TR/uievents/#fixed-virtual-key-codes\" rel=\"nofollow noreferrer\">7.3.3</a> or <a href=\"https://www.w3.org/TR/uievents/#optionally-fixed-virtual-key-codes\" rel=\"nofollow noreferrer\">7.3.4</a>. As a result their <code>keyCode</code> value isn't their ASCII value. </li>\n<li>If the key is not a printable character, it doesn't have an corresponding ASCII code and doesn't generate a key press event. This kind of key can use a <code>keyCode</code> value for <code>keydown</code> and <code>keyup</code> events from lower case letter codes (e.g. <code>Del</code> uses \"d\", function keys <code>F1</code> through <code>F11</code> use letters 'p' through 'z'), or from the  ASCII codes of characters whose keyCodes were taken from tables 7.3.3 or 7.3.4. linked above. E.G. <code>F12</code> uses the ASCII code for '{', <code>ArrowLeft</code> for '%' and <code>pageDown</code> for '\"' as their <code>keyCode</code> value.)\n\n<hr>\n\n<blockquote>\n  <p>How are keycodes decided?</p>\n</blockquote></li>\n</ul>\n\n<p>The origin of <code>keyCode</code> values likely dates back to how scan codes from physical keyboards were sent to PCs as two bytes: one for the character pressed, and a status byte for modifier keys such as  Shift, Alt and others. This could be transformed by lookup tables for different keyboard layouts, but somewhere along the line at least one browser ended up with a <code>keyCode</code> solution to represent which key was pressed using an 8 bit value. Whatever the browser, other browsers would have followed suit to become \"compatible\".</p>\n\n<p>Avoid using <code>keyCode</code> values in modern browsers unless support is required for older browsers which don't supply Unicode or <a href=\"https://www.w3.org/TR/uievents-key/#named-key-attribute-values\" rel=\"nofollow noreferrer\">named-values</a> in the event object's <code>key</code> property.</p>\n\n<hr>\n\n<blockquote>\n  <p>Is there a key with a keyCode of 1?</p>\n</blockquote>\n\n<p>The ASCII code value of 1 is the ASCII <code>SOH</code> (start of heading) control character, and was generated on old ASCII keyboards by pressing the <code>Ctrl</code> and the <code>A</code> keys at the same time. There is no reference to it being generated by its own keyboard key (it doesn't have one), or being used for anything else in section 7 of the standard.</p>\n\n<p>In short, it is not possible to generate a <code>keycode</code> value of <code>1</code> from the PC keyboard in a browser*. You could try detecting the <code>A</code> key with the <code>ctrlKey</code> event property set, but <code>Ctrl+A</code> is widely used in software for \"select all\".</p>\n\n<p><sub>* Under Windows, typing 0,0 and 1 on the keypad whilst holding down the ALT key produces an <code>SOH</code>character and is recognized by my editor as such. Trying this trick in Firefox didn't work and simply produced key events for <code>ALT</code>, <code>0</code>, <code>0</code> and <code>1</code>. </sub></p>\n"}], "owner": {"reputation": 41, "user_id": 12591925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e02354b210404fe1866743c62ba26fa?s=128&d=identicon&r=PG&f=1", "display_name": "Rebecca Phillips", "link": "https://stackoverflow.com/users/12591925/rebecca-phillips"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1577350981, "creation_date": 1577310224, "last_edit_date": 1577315890, "question_id": 59482038, "link": "https://stackoverflow.com/questions/59482038/how-are-keycodes-decided", "title": "How are keycodes decided?", "body": "<p>Is there a key with a keyCode of 1? I've tried researching but could not find anything. What decides the keycodes of each key? Just wondering...</p>\n\n<pre><code>var directions = {\n    37: \"left\",\n    38: \"up\",\n    39: \"right\",\n    40: \"down\",\n    87:\"up\",\n    68:\"right\",\n    83:\"down\",\n    65:\"left\"\n};\n</code></pre>\n\n<p>Here it shows they keycodes of the left, right, up , down keys and w, a,s,d keys.</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1577310370, "post_id": 59482030, "comment_id": 105140513, "body": "Can you show the code that defines and adds the click handler?"}, {"owner": {"reputation": 957, "user_id": 7337055, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dca315ce631a496123c05a99f1679ccd?s=128&d=identicon&r=PG&f=1", "display_name": "L. Faros", "link": "https://stackoverflow.com/users/7337055/l-faros"}, "edited": false, "score": 0, "creation_date": 1577310410, "post_id": 59482030, "comment_id": 105140523, "body": "actually <code>i</code> is never incremented, how did you increment it in the console ?"}, {"owner": {"reputation": 47740, "user_id": 395910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/59c1bcdff2510bdb021b3afe1eb69677?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/395910/terry"}, "edited": false, "score": 0, "creation_date": 1577310475, "post_id": 59482030, "comment_id": 105140539, "body": "There&#39;s no logic in your pasted code that increments <code>i</code>, so of course it does not increment."}, {"owner": {"reputation": 21640, "user_id": 807787, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/65inB.jpg?s=128&g=1", "display_name": "Jeremy J Starcher", "link": "https://stackoverflow.com/users/807787/jeremy-j-starcher"}, "edited": false, "score": 0, "creation_date": 1577310483, "post_id": 59482030, "comment_id": 105140542, "body": "In the code snippet you posted, you are assigning the value of <code>0</code> to <code>i</code>. It isn&#39;t being incremented anywhere.  You need to post enough of your code to demonstrate the issue, but not post too much so that the problem is buried."}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 2, "creation_date": 1577310518, "post_id": 59482030, "comment_id": 105140551, "body": "The template literal is evaluated immediately: it results in a string <code>&quot;&lt;p&gt;0&lt;&#47;p&gt;&quot;</code> without any dynamic link to the variable <code>i</code> that might increment later on. Maybe that is the confusion here?"}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1577310722, "post_id": 59482030, "comment_id": 105140586, "body": "Where you increment <code>i</code>, you should also do <code>$(&quot;.taskdone&gt;p&quot;).text(i);</code>."}, {"owner": {"reputation": 89, "user_id": 12597387, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBUouxGPqv1Xu0iqqUNXZ1oo7k2xhVE_MuSPN0=k-s128", "display_name": "Alco", "link": "https://stackoverflow.com/users/12597387/alco"}, "edited": false, "score": 0, "creation_date": 1577311718, "post_id": 59482030, "comment_id": 105140764, "body": "Okay this is it like I said there is a button that deletes item it means the task is done and on click &quot;i&quot; is incremented by 1 but in HTML on the website, it&#39;s showing 0, also to mention that there is another button that executes function createElement(), everything is working well just this increment on website number is always 0 but when I open console and type &quot;i&quot; it&#39;s showing number(times button got clicked)"}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 12597387, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBUouxGPqv1Xu0iqqUNXZ1oo7k2xhVE_MuSPN0=k-s128", "display_name": "Alco", "link": "https://stackoverflow.com/users/12597387/alco"}, "edited": false, "score": 0, "creation_date": 1577313494, "post_id": 59482201, "comment_id": 105141013, "body": "So there is no way to update that paragraph on clicking that button for the task done with increment solution, whatever I try it&#39;s always 0 but when I log it in the console it&#39;s working ok. Is there any other way to count when I click on that button and that number in website change."}, {"owner": {"reputation": 776, "user_id": 5990341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0tjMW.jpg?s=128&g=1", "display_name": "Liad Yogev", "link": "https://stackoverflow.com/users/5990341/liad-yogev"}, "reply_to_user": {"reputation": 89, "user_id": 12597387, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBUouxGPqv1Xu0iqqUNXZ1oo7k2xhVE_MuSPN0=k-s128", "display_name": "Alco", "link": "https://stackoverflow.com/users/12597387/alco"}, "edited": false, "score": 0, "creation_date": 1577313934, "post_id": 59482201, "comment_id": 105141088, "body": "@Alco try to read my answer again. all you need to do is to update the <code>p</code> text after <code>i++</code> took a place."}, {"owner": {"reputation": 89, "user_id": 12597387, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBUouxGPqv1Xu0iqqUNXZ1oo7k2xhVE_MuSPN0=k-s128", "display_name": "Alco", "link": "https://stackoverflow.com/users/12597387/alco"}, "edited": false, "score": 0, "creation_date": 1577314948, "post_id": 59482201, "comment_id": 105141238, "body": "Thank you for your answer and time I must say I tried that before and a lot of other options as well and you gave me idea once an increment takes place a have to execute this :      $(&quot;.taskdone p&quot;).text(i)  And I added this to a function deleteItem() where increment is happening its working now and numbers are updating so simple. I got pretty much confused"}], "tags": [], "owner": {"reputation": 776, "user_id": 5990341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0tjMW.jpg?s=128&g=1", "display_name": "Liad Yogev", "link": "https://stackoverflow.com/users/5990341/liad-yogev"}, "is_accepted": true, "score": 0, "last_activity_date": 1577311933, "creation_date": 1577311933, "answer_id": 59482201, "question_id": 59482030, "link": "https://stackoverflow.com/questions/59482030/why-is-my-increment-0-when-append-to-element/59482201#59482201", "title": "Why is my increment 0 when append to element", "body": "<p>The point is that <code>i</code> does <code>increment</code>, but an <code>increment</code> in <code>i</code> doesn't causes <code>$(\".taskdone\")</code> to get updated.</p>\n\n<p>If you <code>console.log</code> the <code>i</code> after each button click you would see it updating.</p>\n\n<p>You can just manually update the <code>p</code> inside <code>.taskdone</code> once an <code>incremention</code> took a place like this:</p>\n\n<pre><code>$(\".taskdone p\").text(i)\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 12597387, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBUouxGPqv1Xu0iqqUNXZ1oo7k2xhVE_MuSPN0=k-s128", "display_name": "Alco", "link": "https://stackoverflow.com/users/12597387/alco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 59482201, "answer_count": 1, "score": 1, "last_activity_date": 1577311933, "creation_date": 1577310121, "last_edit_date": 1577311583, "question_id": 59482030, "link": "https://stackoverflow.com/questions/59482030/why-is-my-increment-0-when-append-to-element", "title": "Why is my increment 0 when append to element", "body": "<p>So I have this problem my var i = 0 is incrementing whenever I click the specific button which triggers increment. I tested it on console and increment is working it's going up by one whenever the button is pressed.\nBut here is the problem when I append paragraph and \"i\" in it, to a div in HTML it's just showing a \"0\" and it's not changing values like 1, 2, 3 when the button is clicked.\nI wanted that it counts how many tasks are completed.\nI tried to google it but couldn't find an answer.</p>\n\n<p>Just to say that I'm still a beginner at JS and JQuery. So don't go hard on me. :D</p>\n\n<pre><code>var i = 0\n\n$(\".taskdone\").append(`&lt;p&gt;${i}&lt;/p&gt;`)\n\nfunction createElement(e) {\n\n$(\".ul\").append(`&lt;div&gt;\n&lt;li class=\"list\"&gt; ${e} &lt;/li&gt;\n&lt;button onclick=\" changeText(), deleteItem(this) \" class=\"task-done\"&gt;&lt;/button&gt;\n&lt;hr&gt;\n&lt;/div&gt;`)\n\nfunction deleteItem(event) {\nevent.parentElement.remove();\n\n$(\".container\").animate({\n    height: \"-=95px\"\n}, 800);\n\ni++;\n\n};\n\n\n};\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "smooth-scrolling"], "comments": [{"owner": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "edited": false, "score": 0, "creation_date": 1577309875, "post_id": 59481957, "comment_id": 105140437, "body": "this is unclear..."}, {"owner": {"reputation": 1573, "user_id": 5653071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8NhHH.jpg?s=128&g=1", "display_name": "Lucian", "link": "https://stackoverflow.com/users/5653071/lucian"}, "reply_to_user": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "edited": false, "score": 0, "creation_date": 1577310011, "post_id": 59481957, "comment_id": 105140453, "body": "@MisterJojo when you make the page long so both content are visible on the same page, <a href=\"https://i.imgur.com/C9mu1iK.png\" rel=\"nofollow noreferrer\">i.imgur.com/C9mu1iK.png</a> like this, notice the second nav item is active. I don&#39;t need that. I need the first item active all the time at first"}, {"owner": {"reputation": 1573, "user_id": 5653071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8NhHH.jpg?s=128&g=1", "display_name": "Lucian", "link": "https://stackoverflow.com/users/5653071/lucian"}, "reply_to_user": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "edited": false, "score": 0, "creation_date": 1577311318, "post_id": 59481957, "comment_id": 105140695, "body": "@MisterJojo  so you are suggesting there\u2019s no way we can alter the behavior to have it something I described?"}, {"owner": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "edited": false, "score": 0, "creation_date": 1577318971, "post_id": 59481957, "comment_id": 105141707, "body": "I change my mind: see answer below"}], "answers": [{"comments": [{"owner": {"reputation": 1573, "user_id": 5653071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8NhHH.jpg?s=128&g=1", "display_name": "Lucian", "link": "https://stackoverflow.com/users/5653071/lucian"}, "edited": false, "score": 0, "creation_date": 1577431425, "post_id": 59482735, "comment_id": 105167977, "body": "Thank you for the answer but that won\u2019t work since both the content should be visible. If I wanted to show only 1 content in a page, I could have used <code>height: 100vh</code> or similar to .subcontent and it could work perfectly. But thank you"}, {"owner": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "reply_to_user": {"reputation": 1573, "user_id": 5653071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8NhHH.jpg?s=128&g=1", "display_name": "Lucian", "link": "https://stackoverflow.com/users/5653071/lucian"}, "edited": false, "score": 0, "creation_date": 1577454681, "post_id": 59482735, "comment_id": 105175676, "body": "@Lucian in this case use it just for the last one... <code>main div.subcontent:last-child { min-height:100vh; }</code>  <i>see my new added answer in my original post</i>"}], "tags": [], "owner": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "is_accepted": false, "score": 0, "last_activity_date": 1577454565, "last_edit_date": 1577454565, "creation_date": 1577319333, "answer_id": 59482735, "question_id": 59481957, "link": "https://stackoverflow.com/questions/59481957/smooth-anchor-links-active-element-wrong-when-the-content-is-too-short-on-the-fi/59482735#59482735", "title": "Smooth anchor links active element wrong when the content is too short on the first page", "body": "<p>you can use <strong>css</strong> <code>min-height:100%:</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.querySelectorAll('header a').forEach(ha=&gt;{\r\n  ha.onclick=e=&gt;{\r\n    document.querySelector('header li.active').classList.remove('active')\r\n    e.target.closest('li').classList.add('active')\r\n  }\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.nav {\r\n  list-style: none;\r\n  display: block;\r\n  width: 100%;\r\n  margin: 0;padding: 0; \r\n}\r\n.nav&gt;li {\r\n  display: inline-block;\r\n  padding: 8px;\r\n}\r\n.nav a {\r\n  display: block;\r\n  background: #666;\r\n  padding: 5px 10px;\r\n  text-decoration: none;\r\n  color: #fff;\r\n  border-bottom: 2px solid #666;\r\n}\r\n.nav li.active a,\r\n.nav li a:hover {\r\n  background: #333;\r\n  border-bottom-color: #f0f;\r\n}\r\n/*  .subcontent {  padding-top: 40px;  } */ \r\nhtml { height:100%;  }\r\nbody { display: flex; height: 100%; flex-direction: column; margin: 0;padding: 0;  }\r\n  /*  header {  } */\r\nmain { flex-grow:1; overflow: auto; scroll-behavior: smooth;  }\r\n\r\n.subcontent { min-height:100%; }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;header&gt;\r\n  &lt;ul class=\"nav nav-tabs\"&gt;\r\n    &lt;li role=\"presentation\" class=\"active\"&gt;\r\n      &lt;a class=\"nav-tab-link smooth-scroll\" href=\"#planBenefits\"&gt;Plan Benefits&lt;/a&gt;\r\n    &lt;/li&gt;\r\n    &lt;li role=\"presentation\"&gt;\r\n      &lt;a class=\"nav-tab-link smooth-scroll\" href=\"#supportDocuments\"&gt;Support Documents&lt;/a&gt;\r\n    &lt;/li&gt;\r\n  &lt;/ul&gt;\r\n&lt;/header&gt;\r\n\r\n&lt;main&gt;\r\n  &lt;div id=\"planBenefits\"  class=\"subcontent\"&gt;\r\n    &lt;h1 class=\"push-bot-3 text-capitalize\"&gt;&lt;strong&gt;Plan benefits&lt;/strong&gt;&lt;/h1&gt;\r\n    &lt;p class=\"push-bot-2\"&gt;Your plan is designed to help you create wealth, protect your wealth and transfer it to your beneficiaries in a tax efficient way. The actual long-term costs and benefits of your plan will vary from the original projection when underlying long-term assumptions such as tax rates, tax laws and interest rates change.&lt;/p&gt;\r\n    &lt;p class=\"push-bot-2\"&gt;Your plan is designed to help you create wealth, protect your wealth and transfer it to your beneficiaries in a tax efficient way. The actual long-term costs and benefits of your plan will vary from the original projection when underlying long-term assumptions such as tax rates, tax laws and interest rates change.&lt;/p&gt;\r\n    &lt;p class=\"push-bot-2\"&gt;Your plan is designed to help you create wealth, protect your wealth and transfer it to your beneficiaries in a tax efficient way. The actual long-term costs and benefits of your plan will vary from the original projection when underlying long-term assumptions such as tax rates, tax laws and interest rates change.&lt;/p&gt;\r\n    &lt;p class=\"push-bot-2\"&gt;Your plan is designed to help you create wealth, protect your wealth and transfer it to your beneficiaries in a tax efficient way. The actual long-term costs and benefits of your plan will vary from the original projection when underlying long-term assumptions such as tax rates, tax laws and interest rates change.&lt;/p&gt;\r\n  &lt;/div&gt;\r\n  &lt;div id=\"supportDocuments\"  class=\"subcontent\"&gt;\r\n    &lt;h1 class=\"push-bot-3 text-capitalize\"&gt;&lt;strong&gt;Supports&lt;/strong&gt;&lt;/h1&gt;\r\n    &lt;p class=\"push-bot-2\"&gt;Your plan is designed to help you create wealth, protect your wealth and transfer it to your beneficiaries in a tax efficient way. The actual long-term costs and benefits of your plan will vary from the original projection when underlying long-term assumptions such as tax rates, tax laws and interest rates change.&lt;/p&gt;\r\n  &lt;/div&gt;\r\n&lt;/main&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>[edit] <strong>other solution:</strong>  <em>(just for the last subcontent)</em></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.querySelectorAll('header a').forEach(ha=&gt;{\r\n  ha.onclick=e=&gt;{\r\n    document.querySelector('header li.active').classList.remove('active')\r\n    e.target.closest('li').classList.add('active')\r\n  }\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.nav {\r\n  list-style: none;\r\n  display: block;\r\n  width: 100%;\r\n  margin: 0;padding: 0; \r\n}\r\n.nav&gt;li {\r\n  display: inline-block;\r\n  padding: 8px;\r\n}\r\n.nav a {\r\n  display: block;\r\n  background: #666;\r\n  padding: 5px 10px;\r\n  text-decoration: none;\r\n  color: #fff;\r\n  border-bottom: 2px solid #666;\r\n}\r\n.nav li.active a,\r\n.nav li a:hover {\r\n  background: #333;\r\n  border-bottom-color: #f0f;\r\n}\r\n/*  .subcontent {  padding-top: 40px;  } */ \r\nhtml { height:100%;  }\r\nbody { display: flex; height: 100%; flex-direction: column; margin: 0;padding: 0;  }\r\n  /*  header {  } */\r\nmain { flex-grow:1; overflow: auto; scroll-behavior: smooth;  }\r\n\r\nmain div.subcontent:last-child { min-height:100vh; }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;header&gt;\r\n  &lt;ul class=\"nav nav-tabs\"&gt;\r\n    &lt;li role=\"presentation\" class=\"active\"&gt;\r\n      &lt;a class=\"nav-tab-link smooth-scroll\" href=\"#planBenefits\"&gt;Plan Benefits&lt;/a&gt;\r\n    &lt;/li&gt;\r\n    &lt;li role=\"presentation\"&gt;\r\n      &lt;a class=\"nav-tab-link smooth-scroll\" href=\"#supportDocuments\"&gt;Support Documents&lt;/a&gt;\r\n    &lt;/li&gt;\r\n  &lt;/ul&gt;\r\n&lt;/header&gt;\r\n\r\n&lt;main&gt;\r\n  &lt;div id=\"planBenefits\"  class=\"subcontent\"&gt;\r\n    &lt;h1 class=\"push-bot-3 text-capitalize\"&gt;&lt;strong&gt;Plan benefits&lt;/strong&gt;&lt;/h1&gt;\r\n    &lt;p class=\"push-bot-2\"&gt;Your plan is designed to help you create wealth, protect your wealth and transfer it to your beneficiaries in a tax efficient way. The actual long-term costs and benefits of your plan will vary from the original projection when underlying long-term assumptions such as tax rates, tax laws and interest rates change.&lt;/p&gt;\r\n    &lt;p class=\"push-bot-2\"&gt;Your plan is designed to help you create wealth, protect your wealth and transfer it to your beneficiaries in a tax efficient way. The actual long-term costs and benefits of your plan will vary from the original projection when underlying long-term assumptions such as tax rates, tax laws and interest rates change.&lt;/p&gt;\r\n    &lt;p class=\"push-bot-2\"&gt;Your plan is designed to help you create wealth, protect your wealth and transfer it to your beneficiaries in a tax efficient way. The actual long-term costs and benefits of your plan will vary from the original projection when underlying long-term assumptions such as tax rates, tax laws and interest rates change.&lt;/p&gt;\r\n    &lt;p class=\"push-bot-2\"&gt;Your plan is designed to help you create wealth, protect your wealth and transfer it to your beneficiaries in a tax efficient way. The actual long-term costs and benefits of your plan will vary from the original projection when underlying long-term assumptions such as tax rates, tax laws and interest rates change.&lt;/p&gt;\r\n  &lt;/div&gt;\r\n  &lt;div id=\"supportDocuments\"  class=\"subcontent\"&gt;\r\n    &lt;h1 class=\"push-bot-3 text-capitalize\"&gt;&lt;strong&gt;Supports&lt;/strong&gt;&lt;/h1&gt;\r\n    &lt;p class=\"push-bot-2\"&gt;Your plan is designed to help you create wealth, protect your wealth and transfer it to your beneficiaries in a tax efficient way. The actual long-term costs and benefits of your plan will vary from the original projection when underlying long-term assumptions such as tax rates, tax laws and interest rates change.&lt;/p&gt;\r\n  &lt;/div&gt;\r\n&lt;/main&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1573, "user_id": 5653071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8NhHH.jpg?s=128&g=1", "display_name": "Lucian", "link": "https://stackoverflow.com/users/5653071/lucian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577454565, "creation_date": 1577309244, "question_id": 59481957, "link": "https://stackoverflow.com/questions/59481957/smooth-anchor-links-active-element-wrong-when-the-content-is-too-short-on-the-fi", "title": "Smooth anchor links active element wrong when the content is too short on the first page", "body": "<p>I am having problem with smooth anchor link, where there is only few content in the first section and second section is visible in the viewport, the active state shows to the second anchor.</p>\n\n<p>here is the fiddle: <a href=\"https://jsfiddle.net/moviecrew/k4o275Lh/17/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/moviecrew/k4o275Lh/17/</a></p>\n\n<p>try increasing the result page height and decreasing.</p>\n\n<p>is there any way I can make the first item active when there is less content in the first section?</p>\n\n<pre><code>function initAnchors() {\n  new SmoothScroll({\n    anchorLinks: 'a.smooth-scroll[href^=\"#\"]:not([href=\"#\"])',\n    // extraOffset: 185,\n    extraOffset: 209,\n    // extraOffset: 313,\n    activeClasses: 'parent',\n    anchorActiveClass: 'active',\n    wheelBehavior: 'none'\n  });\n}\n</code></pre>\n\n<p>This is where the page is initialized. </p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 3, "creation_date": 1577307922, "post_id": 59481829, "comment_id": 105140126, "body": "The problem is not just the <code>=&gt;</code> functions, it&#39;s also that IE does not support <code>async&#47;await</code>.   You&#39;ll have to handle the Promise management yourself."}], "answers": [{"comments": [{"owner": {"reputation": 336, "user_id": 5257557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e92371730d8d56defcad35a0cb37bda?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Reshetniak", "link": "https://stackoverflow.com/users/5257557/denis-reshetniak"}, "edited": false, "score": 0, "creation_date": 1577308958, "post_id": 59481918, "comment_id": 105140302, "body": "Dear Stefan, according to <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>, async is not supported in IE.  This code still contains <code>async</code> keyword. You need to use presets and specify exact version of IE."}], "tags": [], "owner": {"reputation": 1186, "user_id": 7051999, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154080012093174/picture?type=large", "display_name": "Stefan Avramovic", "link": "https://stackoverflow.com/users/7051999/stefan-avramovic"}, "is_accepted": true, "score": 0, "last_activity_date": 1577308677, "creation_date": 1577308677, "answer_id": 59481918, "question_id": 59481829, "link": "https://stackoverflow.com/questions/59481829/how-do-i-convert-this-arrow-function/59481918#59481918", "title": "How do I convert this Arrow Function?", "body": "<p>Just use <a href=\"https://babeljs.io/\" rel=\"nofollow noreferrer\">https://babeljs.io/</a></p>\n\n<pre><code>var store = window.WebChat.createStore({}, function (_ref) {\n      var dispatch = _ref.dispatch;\n      return function (next) {\n        return async function (action) {\n          if (action.type === 'DIRECT_LINE/POST_ACTIVITY') {\n            // Mocking data to be sent\n            var userId = 'xyz789';\n            var payloadUserContext = action.payload;\n            action = window.simpleUpdateIn(action, ['payload', 'activity', 'channelData'], function () {\n              return {\n                'personId': userId,\n                'domain': $.urlParam('d'),\n                'environment': window.location.host,\n                'userContext': payloadUserContext\n              };\n            });\n          }\n\n          return next(action);\n        };\n      };\n    });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 183, "user_id": 12548550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffcfc113de6f8525f54993ad1e80e225?s=128&d=identicon&r=PG&f=1", "display_name": "tcanusso", "link": "https://stackoverflow.com/users/12548550/tcanusso"}, "is_accepted": false, "score": 0, "last_activity_date": 1577309882, "last_edit_date": 1577309882, "creation_date": 1577308709, "answer_id": 59481922, "question_id": 59481829, "link": "https://stackoverflow.com/questions/59481829/how-do-i-convert-this-arrow-function/59481922#59481922", "title": "How do I convert this Arrow Function?", "body": "<p>You can use this online babel transpiler <a href=\"https://babeljs.io/repl\" rel=\"nofollow noreferrer\">https://babeljs.io/repl</a> (a transpiler is used to convert code from one version to another, in this case we want to go from es6 to es5).</p>\n\n<p>You can check for ES browser support here <a href=\"https://www.w3schools.com/js/js_versions.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/js/js_versions.asp</a></p>\n\n<hr>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Messing around with the web, I find out babel produces a result that you probably wouldn't want to use (at least for functions defined with async/await).</p>\n\n<p>What you can do is transpile with babel, and whatever is left with async/await, change it up to .then and .catch.</p>\n\n<p>For instance,</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const someAsyncRequest = () =&gt; new Promise((resolve) =&gt; {\r\n  setTimeout(() =&gt; {\r\n    resolve(\"Responding\")\r\n  }, 1000)\r\n})\r\n\r\nconst myAsyncFunction = async () =&gt; {\r\n  console.log(\"Making request\")\r\n  const result = await someAsyncRequest()\r\n  console.log(result)\r\n  console.log(\"Done!\")\r\n}\r\n\r\nfunction myIE9AsyncFunction() {\r\n  console.log(\"Making request\")\r\n  someAsyncRequest()\r\n    .then(function (result) {\r\n      console.log(result)\r\n      console.log(\"Done!\")\r\n    })\r\n    .catch(function (error) {\r\n      console.log(\"What the... \", error)\r\n    })\r\n}\r\n\r\nmyAsyncFunction()\r\nmyIE9AsyncFunction()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 99, "user_id": 10968113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ff78858af05fc9e2369793308525f21?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitriy", "link": "https://stackoverflow.com/users/10968113/dmitriy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 59481918, "answer_count": 2, "score": 0, "last_activity_date": 1577309882, "creation_date": 1577307783, "question_id": 59481829, "link": "https://stackoverflow.com/questions/59481829/how-do-i-convert-this-arrow-function", "title": "How do I convert this Arrow Function?", "body": "<p>I cannot figure out how to convert this arrow function into IE compatible function. I really appreciate if someone could provide a resolution to this:</p>\n\n<pre><code>const store = window.WebChat.createStore({}, ({ dispatch }) =&gt; next =&gt; async action =&gt; {\n                        if (action.type === 'DIRECT_LINE/POST_ACTIVITY') {\n                            // Mocking data to be sent\n                            const userId = 'xyz789';\n                            const payloadUserContext = action.payload;\n\n                            action = window.simpleUpdateIn(\n                                action,\n                                ['payload', 'activity', 'channelData'],\n                                () =&gt; ({\n                                    'personId': userId,\n                                    'domain': $.urlParam('d'),\n                                    'environment': window.location.host,\n                                    'userContext': payloadUserContext\n                                })\n                            )\n                        }\n                        return next(action);\n                    });\n</code></pre>\n"}, {"tags": ["javascript", "redux", "react-redux"], "comments": [{"owner": {"reputation": 13857, "user_id": 4114907, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/08NXV.jpg?s=128&g=1", "display_name": "AndrewL64", "link": "https://stackoverflow.com/users/4114907/andrewl64"}, "edited": false, "score": 0, "creation_date": 1577307966, "post_id": 59481799, "comment_id": 105140132, "body": "What exactly does <code>mapDispatchToProps</code> do here? Can you please provide some more code for a better context of what the id and dispatch is for?"}], "answers": [{"tags": [], "owner": {"reputation": 7026, "user_id": 7141073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b0f2e16c86753e559fdd61cce2051b1?s=128&d=identicon&r=PG&f=1", "display_name": "Fyodor", "link": "https://stackoverflow.com/users/7141073/fyodor"}, "is_accepted": true, "score": 1, "last_activity_date": 1577329479, "creation_date": 1577329479, "answer_id": 59483445, "question_id": 59481799, "link": "https://stackoverflow.com/questions/59481799/input-order-in-a-redux-mapdispatchtoprops-declaration/59483445#59483445", "title": "Input order in a Redux mapDispatchToProps declaration", "body": "<p>if you do </p>\n\n<pre><code>connect(null, mapDispatchToProps)(Component1)\n</code></pre>\n\n<p>it will not work.</p>\n\n<p>As of <a href=\"https://react-redux.js.org/using-react-redux/connect-mapdispatch#two-forms-of-mapdispatchtoprops\" rel=\"nofollow noreferrer\">documentation</a>, </p>\n\n<blockquote>\n  <p>The mapDispatchToProps parameter can be of two forms. While the function form allows more customization, the object form is easy to use.</p>\n  \n  <ul>\n  <li>Function form: Allows more customization, gains access to dispatch and optionally ownProps</li>\n  <li>Object shorthand form: More declarative and easier to use</li>\n  </ul>\n</blockquote>\n\n<p>The function form should return object, but your <code>mapDispatchToProps</code> returns a function, so it will be ignored.</p>\n\n<p>I think you see this function as action creator when Redux is used with Redux-thunk. This way it will work, but it should be passed as object prop like this <code>connect(null, { mapDispatchToProps })(Component1)</code>. This way it will be available to <code>Component1</code>.</p>\n\n<p>Internally, <code>connect</code> do the following</p>\n\n<ol>\n<li><p>If you passed function as <code>mapDispatchToProps</code> it will be called with <code>dispatch</code> as first argument. And <code>connect</code> expects object as result that will be merged to props.</p>\n\n<p><code>mapDispatchToProps</code> can be implemented as below</p>\n\n<pre><code> mapDispatchToProps = dispatch =&gt; ({\n     changeID (id) {\n         return dispatch =&gt; /* some code */\n     }\n })\n</code></pre>\n\n<p>Component will receive <code>changeID</code> function as prop. And this function can be used only with Redux-thunk. When component calls <code>changeID</code> Redux will pass it to Redux-thunk, which in turn call internal function with <code>dispatch</code> provided as first argument.</p></li>\n<li><p>If you pass object as <code>mapDispatchToProps</code> all props of this object will become part of component props</p>\n\n<pre><code>mapDispatchToProps = {\n    changeID (id) {\n        return dispatch =&gt; /* some code */\n    }\n}\n</code></pre>\n\n<p>Essentially it ill work the same as code from point 1.</p></li>\n</ol>\n\n<p>So the main idea is that any function with signature</p>\n\n<pre><code>const SomeFunc = id =&gt; dispatch =&gt; { /* code */ }\n</code></pre>\n\n<p>can only be used with Redux-thunk. Redux-thunk will call internal function providing <code>dispatch</code> as first argument.</p>\n\n<p>Without Redux-thunk only following action creators are allowed</p>\n\n<pre><code>const SomeFunc = id =&gt; ({ type: 'ACTION', id })\n</code></pre>\n\n<p>which are simply action creators.</p>\n"}], "owner": {"reputation": 143, "user_id": 5281300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf1880da15b911f8a59ffd1d0a3576dd?s=128&d=identicon&r=PG&f=1", "display_name": "Rima", "link": "https://stackoverflow.com/users/5281300/rima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 59483445, "answer_count": 1, "score": 1, "last_activity_date": 1577329479, "creation_date": 1577307438, "question_id": 59481799, "link": "https://stackoverflow.com/questions/59481799/input-order-in-a-redux-mapdispatchtoprops-declaration", "title": "Input order in a Redux mapDispatchToProps declaration", "body": "<p>The thing I can't understand is that in this currying style declaration why is the dispatch input the second one? </p>\n\n<p>Doesn't <em>connect</em> call this function with dispatch as input and then assign the return value to props? so the return value should be the function that gets an id as input and does something.</p>\n\n<p>But with my understanding of currying, this function should first be called with an id as input and then the returned function can be called with dispatch input.</p>\n\n<pre><code>export const mapDispatchToProps = id =&gt; dispatch =&gt; {\n    //e.g. dispatch an action that deletes that id\n};\n</code></pre>\n\n<p>So why is this function correct?</p>\n"}, {"tags": ["javascript", "reactjs", "function", "constructor", "state"], "comments": [{"owner": {"reputation": 39336, "user_id": 1377002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oDeF7.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/1377002/andy"}, "edited": false, "score": 2, "creation_date": 1577307239, "post_id": 59481735, "comment_id": 105140007, "body": "<a href=\"https://javascriptplayground.com/refactoring-to-react-hooks/\" rel=\"nofollow noreferrer\">javascriptplayground.com/refactoring-to-react-hooks</a> - make sure you&#39;re on a recent version of React."}], "answers": [{"comments": [{"owner": {"reputation": 70, "user_id": 9565877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JYXFS.jpg?s=128&g=1", "display_name": "Ansh Varun", "link": "https://stackoverflow.com/users/9565877/ansh-varun"}, "edited": false, "score": 0, "creation_date": 1577515443, "post_id": 59481946, "comment_id": 105189846, "body": "thanks @westfalensgod for this contribution, basically i used hooks !"}, {"owner": {"reputation": 70, "user_id": 9565877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JYXFS.jpg?s=128&g=1", "display_name": "Ansh Varun", "link": "https://stackoverflow.com/users/9565877/ansh-varun"}, "edited": false, "score": 0, "creation_date": 1577515603, "post_id": 59481946, "comment_id": 105189870, "body": "<a href=\"https://react-hook-form.com/get-started\" rel=\"nofollow noreferrer\">react-hook-form</a> this guided me a lot."}], "tags": [], "owner": {"reputation": 66, "user_id": 12244694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p3l4D.jpg?s=128&g=1", "display_name": "westfalensgod", "link": "https://stackoverflow.com/users/12244694/westfalensgod"}, "is_accepted": false, "score": 2, "last_activity_date": 1577309059, "creation_date": 1577309059, "answer_id": 59481946, "question_id": 59481735, "link": "https://stackoverflow.com/questions/59481735/how-to-do-state-operations-in-function-in-react-without-class/59481946#59481946", "title": "How to do state operations in function in react without class", "body": "<p>The thing you're probably looking for called <a href=\"https://reactjs.org/docs/hooks-intro.html\" rel=\"nofollow noreferrer\">react hooks</a>. They allow you to use state management in your functional components. They're cool because they're lightweight in compare with class components.</p>\n\n<p>First, import <code>useState</code> function from <code>react</code>:</p>\n\n<p><code>import { useState } from 'react'</code></p>\n\n<p>Then, before your return, add these lines:\n<code>const [name, setName] = useState('');</code></p>\n\n<p>The first argument here is the name of your state property, and the second one is the function to change it.</p>\n\n<p>So, instead of this:</p>\n\n<pre><code>handleChange = event =&gt; {\n  this.setState({\n    [event.target.id]: event.target.value\n  });\n}\n</code></pre>\n\n<p>Write this:</p>\n\n<pre><code>handleChange = event =&gt; {\n  setName(event.target.value);\n}\n</code></pre>\n\n<p>If you want to make it more complex, you can rewrite your hook from this:</p>\n\n<p><code>const [name, setName] = useState('');</code></p>\n\n<p>to this:</p>\n\n<pre><code>const [state, setState] = useState({\n  name: '',\n  checked: false,\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 70, "user_id": 9565877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JYXFS.jpg?s=128&g=1", "display_name": "Ansh Varun", "link": "https://stackoverflow.com/users/9565877/ansh-varun"}, "is_accepted": true, "score": 0, "last_activity_date": 1577515997, "creation_date": 1577515997, "answer_id": 59508795, "question_id": 59481735, "link": "https://stackoverflow.com/questions/59481735/how-to-do-state-operations-in-function-in-react-without-class/59508795#59508795", "title": "How to do state operations in function in react without class", "body": "<pre><code>export default function WorkSection() {\n  const { register, handleSubmit } = useForm();\n  const onSubmit = data =&gt; {\n    axios\n      .get(\" \n...................... my code ...............\n</code></pre>\n\n<p>and my input form is : </p>\n\n<pre><code> return (\n    &lt;div className={classes.section}&gt;\n          &lt;form onSubmit={handleSubmit(onSubmit)}&gt;\n                &lt;Input\n                  name=\"Name\"\n                  placeholder=\"Name\"\n                  inputRef={register}\n                  fullWidth={true}\n                /&gt;\n                &lt;Input\n                  name=\"email\"\n                  type=\"email\"\n                  placeholder=\"Email\"\n                  fullWidth={true}\n                  inputRef={register({ required: true })}\n                /&gt;\n                &lt;Input\n                  name=\"contact\"\n                  placeholder=\"Contact\"\n                  fullWidth={true}\n                  inputRef={register({ required: true })}\n                /&gt;         \n                &lt;Input\n                  name=\"description\"\n                  placeholder=\"Message\"\n                  multiline={true}\n                  fullWidth={true}\n                  inputRef={register({ required: true })}\n                /&gt;\n               &lt;button className=\"btnColor\" justify=\"center\" type=\"submit\"&gt;\n                  Send Message\n                &lt;/button&gt;\n              &lt;/GridItem&gt;\n            &lt;/GridContainer&gt;\n          &lt;/form&gt;\n&lt;/div&gt;     \n</code></pre>\n\n<p>Basically i used  </p>\n\n<pre><code>   inputRef={register}\n</code></pre>\n\n<p>and other part as satated above. \nRight code , worked for me ~</p>\n"}], "owner": {"reputation": 70, "user_id": 9565877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JYXFS.jpg?s=128&g=1", "display_name": "Ansh Varun", "link": "https://stackoverflow.com/users/9565877/ansh-varun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 59508795, "answer_count": 2, "score": 0, "last_activity_date": 1577515997, "creation_date": 1577306785, "question_id": 59481735, "link": "https://stackoverflow.com/questions/59481735/how-to-do-state-operations-in-function-in-react-without-class", "title": "How to do state operations in function in react without class", "body": "<p>this is my React worksection.js file and its function made instead of class</p>\n\n<pre><code>export default function WorkSection() {\n</code></pre>\n\n<p>now i need to do here constructor to initialise state and do function operations which i'll call on button click</p>\n\n<pre><code> return (\n    &lt;div className={classes.section}&gt;\n      &lt;GridContainer justify=\"center\"&gt;\n        &lt;GridItem cs={12} sm={12} md={8}&gt;\n          &lt;h2 className={classes.title}&gt;Work with us&lt;/h2&gt;\n          &lt;h4 className={classes.description}&gt;\n            BAIOS BAY LLP is looking for collaborations with you, Contact us\n            today !\n          &lt;/h4&gt;\n          &lt;form onSubmit={this.handleSubmit}&gt;\n            &lt;GridContainer&gt;\n              &lt;GridItem xs={12} sm={12} md={6}&gt;\n                &lt;CustomInput\n                  labelText=\"Your Name\"\n                  id=\"name\"\n                  onChange={this.handleChange}\n                  defaultValue={this.state.name}\n                  formControlProps={{\n                    fullWidth: true\n                  }}\n                /&gt; &lt;/GridItem&gt;   &lt;/GridContainer&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>\n\n<p>this is my form where i am submitting name and will add button click so how can i initialise state and functions to call onclick functions where\nmy functions are as :</p>\n\n<pre><code> constructor(props) {\n    super(props);\n    this.state = {\n    name : ''}\n  }\nhandleChange = event =&gt; {\n  this.setState({\n    [event.target.id]: event.target.value\n\n  });\n}\n\nhandleClick = event =&gt; {\n  this.setState({\n    [event.target.id]: event.target.checked\n\n  });\n}\n\nhandleSubmit = event =&gt; {\n  event.preventDefault();\n  if (this.state.username === '') {\n    this.showMessage('Info', \"Username is empty\");\n    return;\n  }\n  }\n</code></pre>\n\n<p>i need to place this function and i did it with class worksection but how to do it with export default function Worksection()</p>\n"}, {"tags": ["javascript", "php", "fetch"], "comments": [{"owner": {"reputation": 3976, "user_id": 9410412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v7cIX.jpg?s=128&g=1", "display_name": "ibrahim tanyalcin", "link": "https://stackoverflow.com/users/9410412/ibrahim-tanyalcin"}, "edited": false, "score": 1, "creation_date": 1577307295, "post_id": 59481718, "comment_id": 105140022, "body": "did you try the optional argument of JSON_UNESCAPED_UNICODE on php ? <a href=\"https://stackoverflow.com/questions/16498286/why-does-the-php-json-encode-function-convert-utf-8-strings-to-hexadecimal-entit\" title=\"why does the php json encode function convert utf 8 strings to hexadecimal entit\">stackoverflow.com/questions/16498286/&hellip;</a>"}, {"owner": {"reputation": 3976, "user_id": 9410412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v7cIX.jpg?s=128&g=1", "display_name": "ibrahim tanyalcin", "link": "https://stackoverflow.com/users/9410412/ibrahim-tanyalcin"}, "edited": false, "score": 0, "creation_date": 1577307450, "post_id": 59481718, "comment_id": 105140041, "body": "I can also perfectly use JSON.parse on your input, doesnt throw any error whatsover."}, {"owner": {"reputation": 3979, "user_id": 1461181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iz6GY.png?s=128&g=1", "display_name": "odan", "link": "https://stackoverflow.com/users/1461181/odan"}, "edited": false, "score": 0, "creation_date": 1577308202, "post_id": 59481718, "comment_id": 105140174, "body": "Try to remove <code>?&gt;</code> from your PHP script."}, {"owner": {"reputation": 377, "user_id": 3326849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/505a26b95069bd0bb253df020675c841?s=128&d=identicon&r=PG&f=1", "display_name": "GGSoft", "link": "https://stackoverflow.com/users/3326849/ggsoft"}, "edited": false, "score": 0, "creation_date": 1577308262, "post_id": 59481718, "comment_id": 105140186, "body": "@ ibrahim tanyalcin I checked the version of PHP and it is 5.5.17, besides your splution doesn&#39;t fix"}, {"owner": {"reputation": 377, "user_id": 3326849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/505a26b95069bd0bb253df020675c841?s=128&d=identicon&r=PG&f=1", "display_name": "GGSoft", "link": "https://stackoverflow.com/users/3326849/ggsoft"}, "edited": false, "score": 0, "creation_date": 1577308425, "post_id": 59481718, "comment_id": 105140215, "body": "<code>echo json_encode($myArray, JSON_UNESCAPED_UNICODE);</code>"}, {"owner": {"reputation": 21453, "user_id": 1839439, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/agMKZ.png?s=128&g=1", "display_name": "Dharman", "link": "https://stackoverflow.com/users/1839439/dharman"}, "edited": false, "score": 1, "creation_date": 1577320788, "post_id": 59481718, "comment_id": 105141886, "body": "If you are still using PHP 5 I strongly recommend to upgrade as soon as possible. This version is no longer supported. <a href=\"https://youtu.be/wCZ5TJCBWMg?t=2434\" rel=\"nofollow noreferrer\">Let Rasmus Lerdorf explain it to you</a>"}], "owner": {"reputation": 377, "user_id": 3326849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/505a26b95069bd0bb253df020675c841?s=128&d=identicon&r=PG&f=1", "display_name": "GGSoft", "link": "https://stackoverflow.com/users/3326849/ggsoft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "closed_date": 1577341158, "answer_count": 0, "score": 0, "last_activity_date": 1577320824, "creation_date": 1577306630, "last_edit_date": 1577320824, "question_id": 59481718, "link": "https://stackoverflow.com/questions/59481718/cant-fetch-data-on-php-server-via-javascript", "closed_reason": "Duplicate", "title": "Can&#39;t fetch data on php server, via javascript;", "body": "<p>I have PHP server on my localhost.\nAnd file with following script:</p>\n\n<pre><code>?php\ninclude 'config.php';\n$mysqli = new mysqli(GGC_HOST , GGC_USER , GGC_PASSWORD , GGC_DB);\n    if (mysqli_connect_errno()){\n        die(\"Connect failed: \". mysqli_connect_error());\n    }//if\n\n    $mysqli-&gt;set_charset(\"utf8\");\n    $queryString=\"SELECT Id, name, description, price, old FROM fruits;\";\n\n\n    $myArray=array();   \n\n    if ($result = $mysqli-&gt;query($queryString)) {\n\n        while($row = $result-&gt;fetch_array(MYSQLI_ASSOC)) {\n            $myArray[] = $row;\n        }//while\n   }//if\n    echo json_encode($myArray);\n\n$result-&gt;close();\n$mysqli-&gt;close();\n?&gt;\n</code></pre>\n\n<p>When I try to run my php file in browser, it gives me some result, like this:</p>\n\n<blockquote>\n  <p>[{\"Id\":\"1\",\"name\":\"\\u10d5\\u10d0\\u10e8\\u10da\\u10d8\",\"description\":\"\\u10d1\\u10e0\\u10dd\\u10ea\\u10d9\\u10d8\n  I\n  \\u10ee\\u10d0\\u10e0\\u10d8\\u10e1\\u10ee\\u10d8\\u10e1\",\"price\":\"1.25\",\"old\":\"0\"},{\"Id\":\"2\",\"name\":\"\\u10db\\u10e1\\u10ee\\u10d0\\u10da\\u10d8\",\"description\":\"\\u10d2\\u10e3\\u10da\\u10d0\\u10d1\\u10d8\n  \\u10d5\\u10d0\\u10dc\\u10d8\\u10e1\",\"price\":\"3.5\",\"old\":\"0\"}]</p>\n</blockquote>\n\n<p>My first question is: Why it shows it so strange in browser, and how to fix it?</p>\n\n<p>when I fetch data from JavaScript: </p>\n\n<pre><code>fetch('http://localhost/aaa/fruits.php', {\n                method: 'GET', // *GET, POST, PUT, DELETE, etc.\n                mode: 'no-cors', // no-cors, cors, *same-origin\n                headers: {\n                    'Content-Type': 'application/json',\n                    \"Access-Control-Allow-Origin\":\"*\"\n                    // 'Content-Type': 'application/x-www-form-urlencoded',\n                  },\n                // Useful for including session ID (and, IIRC, authorization headers)\n              })\n              .then(response =&gt; response.json())\n              .then(data =&gt; {\n                console.log(data) // Prints result from `response.json()`\n              })\n              .catch(error =&gt; console.error(error))\n</code></pre>\n\n<p>Console shows me: </p>\n\n<blockquote>\n  <p>SyntaxError: Unexpected end of input\n      at index.js:156</p>\n</blockquote>\n\n<p>I can't solve this problem during 3 days and decided to share with you. \n156th line is: </p>\n\n<pre><code>.then(response =&gt; response.json())\n</code></pre>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 708, "user_id": 9359945, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Raphael Deiana", "link": "https://stackoverflow.com/users/9359945/raphael-deiana"}, "edited": false, "score": 1, "creation_date": 1577307514, "post_id": 59481700, "comment_id": 105140053, "body": "You can set the same css class for multiple elements but the id must be unique."}], "answers": [{"tags": [], "owner": {"reputation": 381, "user_id": 11523447, "user_type": "registered", "profile_image": "https://graph.facebook.com/898078623868825/picture?type=large", "display_name": "Adnane Ar", "link": "https://stackoverflow.com/users/11523447/adnane-ar"}, "is_accepted": false, "score": 0, "last_activity_date": 1577307375, "creation_date": 1577307375, "answer_id": 59481793, "question_id": 59481700, "link": "https://stackoverflow.com/questions/59481700/how-can-delete-the-clicked-item-using-the-click-event-if-all-items-have-the-same/59481793#59481793", "title": "How can delete the clicked item using the click event if all items have the same Id", "body": "<p>Here is a simple solution of your problem! Sorry if I didn't understand what you meant..</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.getElementById('add').addEventListener('click', function(){\r\n\r\n//get the text and the text header from the fields\r\nvar addtxtheader = document.getElementById('addtxtheader').value;\r\nvar addtxt = document.getElementById('addtxt').value;\r\n\r\n// get the list \r\nvar list = document.getElementById('todolist');\r\n\r\n\r\n//create elements\r\n\r\nvar listitem = document.createElement('li')\r\nvar todotxtheader = document.createElement('div');\r\nvar todotxthd = document.createElement('div');\r\nvar deleteitem = document.createElement('div');\r\nvar deletex = document.createElement('i');\r\n\r\n\r\nvar todohtxt = document.createElement('h3');\r\nvar todotext = document.createElement('div');\r\nvar todotxt = document.createElement('p');\r\n\r\n//add classes to their respected elements\r\nlistitem.classList.add('todoitem');\r\ntodotxtheader.classList.add('todotextheader');\r\ntodotxthd.classList.add('todotxthd');\r\ndeleteitem.classList.add('delete');\r\ntodotext.classList.add('todotext');\r\n\r\n//append elements\r\nlist.insertBefore(listitem, list.childNodes[0])\r\nlistitem.appendChild(todotxtheader);\r\ntodotxtheader.appendChild(todotxthd);\r\ntodotxthd.appendChild(todohtxt);\r\ntodotxtheader.appendChild(deleteitem);\r\ndeleteitem.appendChild(deletex);\r\ndeletex.innerHTML = '&lt;i id=\"deletex\" class=\"far fa-window-close deletex\" &gt;'\r\nlistitem.appendChild(todotext);\r\ntodotext.appendChild(todotxt)\r\n\r\n//assign the input value\r\ntodohtxt.innerHTML = addtxtheader;\r\ntodotxt.innerHTML = addtxt;\r\n\r\n})\r\n\r\ndocument.addEventListener('click', function(e){\r\n    e=(e||window.event);\r\n    e.preventDefault();\r\n    const path=e.path;\r\n    path.forEach(elem=&gt;{\r\n  if(elem!=window&amp;&amp;elem!=document&amp;&amp;elem!=document.documentElement)       {\r\n        if(elem.id==\"deletex\"){\r\n          var item = elem.parentNode.parentNode.parentNode;\r\n          var parent = item.parentNode;\r\n          parent.removeChild(item);\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"todocontent\"&gt;\r\n        &lt;ul id=\"todolist\" class=\"todolist\"&gt;\r\n            &lt;li id=\"todoitem\" class=\"todoitem\"&gt;\r\n                    &lt;div class=\"todotextheader\"&gt;\r\n                        &lt;div class=\"todotxthd\"&gt;&lt;h3&gt;To do note Header&lt;/h3&gt;&lt;/div&gt;\r\n                        &lt;div class=\"delete\"&gt;&lt;i id=\"deletex\" class=\"far fa-window-close deletex\" &gt;X&lt;/i&gt; \r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=\"todotext\"&gt;\r\n                        &lt;p&gt;this is the main text of the todo note&lt;/p&gt;\r\n                    &lt;/div&gt;\r\n            &lt;/li&gt;\r\n        &lt;/ul&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n\r\n\r\n\r\n &lt;div class=\"addcontainer\"&gt;\r\n        &lt;div class=\"addtextheader\"&gt;\r\n            &lt;input type=\"text\" id=\"addtxtheader\" style=\"width: 565px; height: 25px;\" maxlength=\"50\"&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"addtext\"&gt;\r\n            &lt;textarea name=\"addtxt\" id=\"addtxt\" cols=\"79\" rows=\"7\"&gt;&lt;/textarea&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"addbtn\"&gt;\r\n            &lt;button id=\"add\"&gt;+&lt;/button&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1186, "user_id": 7051999, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154080012093174/picture?type=large", "display_name": "Stefan Avramovic", "link": "https://stackoverflow.com/users/7051999/stefan-avramovic"}, "is_accepted": true, "score": 2, "last_activity_date": 1577308196, "creation_date": 1577308196, "answer_id": 59481877, "question_id": 59481700, "link": "https://stackoverflow.com/questions/59481700/how-can-delete-the-clicked-item-using-the-click-event-if-all-items-have-the-same/59481877#59481877", "title": "How can delete the clicked item using the click event if all items have the same Id", "body": "<p>Yo need to loop thru all elements and add an event listener. On new element run the addListener function to add event listener on new elements.. You can see my example</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.getElementById('add').addEventListener('click', function(){\r\n\r\n   document.getElementById('todolist').innerHTML += '&lt;li id=\"todoitem\" class=\"todoitem\"&gt;'+\r\n                        '&lt;div class=\"todotextheader\"&gt;'+\r\n                            '&lt;div class=\"todotxthd\"&gt;'+\r\n                            '&lt;h3&gt;'+\r\n                            document.getElementById('addtxtheader').value+\r\n                            '&lt;/h3&gt;'+\r\n   document.getElementById('addtxt').value +\r\n                           '&lt;/div&gt;'+\r\n                            '&lt;div class=\"delete\"&gt;&lt;i id=\"deletex\" class=\"far fa-window-close deletex\" &gt;&lt;/i&gt;&lt;/div&gt;'+\r\n                        '&lt;/div&gt;'+\r\n                        '&lt;div class=\"todotext\"&gt;'+\r\n                        '&lt;p&gt;this is the main text of the todo note&lt;/p&gt;'+\r\n                        '&lt;/div&gt;&lt;/li&gt;';\r\n\r\n  addListener()\r\n    })\r\nfunction addListener(){\r\n    var elements = document.getElementsByClassName('delete');\r\n    for(var element in elements){\r\n      elements[element].addEventListener('click', function(e){\r\n        e.target.parentNode.parentNode.parentNode.remove(); \r\n        \r\n      })\r\n      \r\n    }\r\n  }  \r\naddListener();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=\"UTF-8\"&gt;\r\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\r\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt;\r\n    &lt;title&gt;ToDo&lt;/title&gt;\r\n    &lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.css\"&gt;\r\n    &lt;script src='https://kit.fontawesome.com/a076d05399.js'&gt;&lt;/script&gt;\r\n    &lt;link rel=\"stylesheet\" href=\"todo.css\"&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n \r\n\r\n\r\n\r\n &lt;div class=\"addcontainer\"&gt;\r\n        &lt;div class=\"addtextheader\"&gt;\r\n            &lt;input type=\"text\" id=\"addtxtheader\" style=\"width: 565px; height: 25px;\" maxlength=\"50\"&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"addtext\"&gt;\r\n            &lt;textarea name=\"addtxt\" id=\"addtxt\" cols=\"79\" rows=\"7\"&gt;&lt;/textarea&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"addbtn\"&gt;\r\n            &lt;button id=\"add\"&gt;+&lt;/button&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  \r\n  \r\n  \r\n    &lt;div class=\"todocontainer\"&gt;\r\n        &lt;div class=\"todoheader\"&gt;\r\n            &lt;h1&gt;TO DO DONE&lt;/h1&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"todocontent\"&gt;\r\n            &lt;ul id=\"todolist\" class=\"todolist\"&gt;\r\n              \r\n                &lt;li id=\"todoitem\" class=\"todoitem\"&gt;\r\n                        &lt;div class=\"todotextheader\"&gt;\r\n                            &lt;div class=\"todotxthd\"&gt;&lt;h3&gt;To do note Header&lt;/h3&gt;&lt;/div&gt;\r\n                            &lt;div class=\"delete\"&gt;&lt;i id=\"deletex\" class=\"far fa-window-close deletex\" &gt;&lt;/i&gt;&lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=\"todotext\"&gt;\r\n                            &lt;p&gt;this is the main text of the todo note&lt;/p&gt;\r\n                        &lt;/div&gt;\r\n                &lt;/li&gt;\r\n              \r\n              \r\n            &lt;/ul&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"addcontainer\"&gt;\r\n            &lt;div class=\"addtextheader\"&gt;\r\n                &lt;input type=\"text\" id=\"addtxtheader\" style=\"width: 565px; height: 25px;\" maxlength=\"50\"&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=\"addtext\"&gt;\r\n                &lt;textarea name=\"addtxt\" id=\"addtxt\" cols=\"79\" rows=\"7\"&gt;&lt;/textarea&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=\"addbtn\"&gt;\r\n                &lt;button id=\"add\"&gt;+&lt;/button&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  \r\n\r\n    &lt;script src=\"todo.js\"&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 393, "user_id": 12595279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1757996a838c1da0c078e8b086f6116?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/12595279/fubar"}, "is_accepted": false, "score": 0, "last_activity_date": 1577308669, "last_edit_date": 1577308669, "creation_date": 1577308319, "answer_id": 59481889, "question_id": 59481700, "link": "https://stackoverflow.com/questions/59481700/how-can-delete-the-clicked-item-using-the-click-event-if-all-items-have-the-same/59481889#59481889", "title": "How can delete the clicked item using the click event if all items have the same Id", "body": "<p>Your solution should already work a little more cleaner example:</p>\n\n<pre><code>document.getElementById('todoitem').addEventListener('click', function(event){\n        if(event.originalTarget.id == \"deletex\"){\n            this.parentElement.removeChild(this);\n        }\n})\n</code></pre>\n\n<p>What this does is, it binds the event handler to the ToDo item it self. Sine DOM events bubble the list item will get triggered when some one clicks it and it checks if that click was onto the deletex item and if so it will delete itself.</p>\n\n<p>Bind this event listener onto the object when creating it.</p>\n\n<pre><code>//create elements\n\nvar listitem = document.createElement('li')\nlistitem.addEventListener('click', function(event){\n        if(event.originalTarget.id == \"deletex\"){\n            this.parentElement.removeChild(this);\n        }\n})\nvar todotxtheader = document.createElement('div');\nvar todotxthd = document.createElement('div');\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 10145645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98b99d7e09d9bae7b97b3b29a7b79ac9?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmed", "link": "https://stackoverflow.com/users/10145645/ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 59481877, "answer_count": 3, "score": 1, "last_activity_date": 1577308669, "creation_date": 1577306353, "question_id": 59481700, "link": "https://stackoverflow.com/questions/59481700/how-can-delete-the-clicked-item-using-the-click-event-if-all-items-have-the-same", "title": "How can delete the clicked item using the click event if all items have the same Id", "body": "<p>I'm trying to delete only the selected list item but it is only working when manually add the item in the code and note using javascript, But I want to add and remove element to the list using code please help thanks. \nI want to be able to add elements to the ul element and remove them when clicked on the x on the top right corner.</p>\n\n<pre><code> &lt;div class=\"todocontent\"&gt;\n        &lt;ul id=\"todolist\" class=\"todolist\"&gt;\n            &lt;li id=\"todoitem\" class=\"todoitem\"&gt;\n                    &lt;div class=\"todotextheader\"&gt;\n                        &lt;div class=\"todotxthd\"&gt;&lt;h3&gt;To do note Header&lt;/h3&gt;&lt;/div&gt;\n                        &lt;div class=\"delete\"&gt;&lt;i id=\"deletex\" class=\"far fa-window-close deletex\" &gt;&lt;/i&gt; \n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"todotext\"&gt;\n                        &lt;p&gt;this is the main text of the todo note&lt;/p&gt;\n                    &lt;/div&gt;\n            &lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n\n\n\n\n\n &lt;div class=\"addcontainer\"&gt;\n        &lt;div class=\"addtextheader\"&gt;\n            &lt;input type=\"text\" id=\"addtxtheader\" style=\"width: 565px; height: 25px;\" maxlength=\"50\"&gt;\n        &lt;/div&gt;\n        &lt;div class=\"addtext\"&gt;\n            &lt;textarea name=\"addtxt\" id=\"addtxt\" cols=\"79\" rows=\"7\"&gt;&lt;/textarea&gt;\n        &lt;/div&gt;\n        &lt;div class=\"addbtn\"&gt;\n            &lt;button id=\"add\"&gt;+&lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>my js:</p>\n\n<pre><code>document.getElementById('add').addEventListener('click', function(){\n\n//get the text and the text header from the fields\nvar addtxtheader = document.getElementById('addtxtheader').value;\nvar addtxt = document.getElementById('addtxt').value;\n\n// get the list \nvar list = document.getElementById('todolist');\n\n\n//create elements\n\nvar listitem = document.createElement('li')\nvar todotxtheader = document.createElement('div');\nvar todotxthd = document.createElement('div');\nvar deleteitem = document.createElement('div');\nvar deletex = document.createElement('i');\n\n\nvar todohtxt = document.createElement('h3');\nvar todotext = document.createElement('div');\nvar todotxt = document.createElement('p');\n\n//add classes to their respected elements\nlistitem.classList.add('todoitem');\ntodotxtheader.classList.add('todotextheader');\ntodotxthd.classList.add('todotxthd');\ndeleteitem.classList.add('delete');\ntodotext.classList.add('todotext');\n\n//append elements\nlist.insertBefore(listitem, list.childNodes[0])\nlistitem.appendChild(todotxtheader);\ntodotxtheader.appendChild(todotxthd);\ntodotxthd.appendChild(todohtxt);\ntodotxtheader.appendChild(deleteitem);\ndeleteitem.appendChild(deletex);\ndeletex.innerHTML = '&lt;i id=\"deletex\" class=\"far fa-window-close deletex\" &gt;'\nlistitem.appendChild(todotext);\ntodotext.appendChild(todotxt)\n\n//assign the input value\ntodohtxt.innerHTML = addtxtheader;\ntodotxt.innerHTML = addtxt;\n\n})\n\ndocument.getElementById('deletex').addEventListener('click', function(){\n    var item = this.parentNode.parentNode.parentNode;\n    var parent = item.parentNode;\n    parent.removeChild(item);\n\n\n})\n</code></pre>\n\n<p>my code: <a href=\"https://jsfiddle.net/c2rkm7tx/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/c2rkm7tx/</a></p>\n"}, {"tags": ["javascript", "node.js", "electron", "webtorrent"], "comments": [{"owner": {"reputation": 2347, "user_id": 1335237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e6f508f7c24482fc0a3b2546ccfb8075?s=128&d=identicon&r=PG", "display_name": "snwflk", "link": "https://stackoverflow.com/users/1335237/snwflk"}, "edited": false, "score": 2, "creation_date": 1577333588, "post_id": 59481593, "comment_id": 105143316, "body": "It&#39;s hard to help with intermittent problems. You need to debug the code. Listen for the <code>error</code> event and print the error. Chances are you&#39;ll find the causes for the intermittent problems."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6681755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88fa1080df8dc260e02b8404b1342034?s=128&d=identicon&r=PG&f=1", "display_name": "Technobabel", "link": "https://stackoverflow.com/users/6681755/technobabel"}, "edited": false, "score": 0, "creation_date": 1577568762, "post_id": 59498664, "comment_id": 105201715, "body": "No the Electron app keeps running after the download and the <i>done</i> message gets printed to the console. And both error handlers don&#39;t print anything.  I found a solution to the problem (see original post). Anyway, thanks for your suggestions! :)"}, {"owner": {"reputation": 24189, "user_id": 841830, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/thtU5.jpg?s=128&g=1", "display_name": "Darren Cook", "link": "https://stackoverflow.com/users/841830/darren-cook"}, "reply_to_user": {"reputation": 23, "user_id": 6681755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88fa1080df8dc260e02b8404b1342034?s=128&d=identicon&r=PG&f=1", "display_name": "Technobabel", "link": "https://stackoverflow.com/users/6681755/technobabel"}, "edited": false, "score": 0, "creation_date": 1577611704, "post_id": 59498664, "comment_id": 105207543, "body": "@Technobabel It is better to post a self-answer (and then mark it correct) than to put the fix in the question."}], "tags": [], "owner": {"reputation": 24189, "user_id": 841830, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/thtU5.jpg?s=128&g=1", "display_name": "Darren Cook", "link": "https://stackoverflow.com/users/841830/darren-cook"}, "is_accepted": false, "score": 1, "last_activity_date": 1577439245, "creation_date": 1577439245, "answer_id": 59498664, "question_id": 59481593, "link": "https://stackoverflow.com/questions/59481593/why-are-my-finished-torrents-sometimes-not-getting-written-to-disk/59498664#59498664", "title": "Why are my finished torrents (sometimes) not getting written to disk?", "body": "<p>Does the Electron app shut down after the download, or does it keep running? (If the former, you'll need a way to delay that shutdown until you are sure writing has completed. E.g. Make sure there are no unresolved promises.)</p>\n\n<p>Does the <code>done</code> message happen in the case when not everything is written to disk?</p>\n\n<p>There are two error handlers you need to add to your code, which are likely to explain the problem. </p>\n\n<p>The client has <a href=\"https://github.com/webtorrent/webtorrent/blob/master/docs/api.md#clientonerror-function-err-\" rel=\"nofollow noreferrer\">an error handler</a>.</p>\n\n<p>The torrent object also has <a href=\"https://github.com/webtorrent/webtorrent/blob/master/docs/api.md#torrentonerror-function-err-\" rel=\"nofollow noreferrer\">an error handler</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 6681755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88fa1080df8dc260e02b8404b1342034?s=128&d=identicon&r=PG&f=1", "display_name": "Technobabel", "link": "https://stackoverflow.com/users/6681755/technobabel"}, "is_accepted": true, "score": 0, "last_activity_date": 1577623784, "creation_date": 1577623784, "answer_id": 59519556, "question_id": 59481593, "link": "https://stackoverflow.com/questions/59481593/why-are-my-finished-torrents-sometimes-not-getting-written-to-disk/59519556#59519556", "title": "Why are my finished torrents (sometimes) not getting written to disk?", "body": "<p><strong>Update: I fixed the problem.</strong></p>\n\n<p>After I debugged the fs-chunk-store which webtorrent is using, I found out that an error is thrown right before the data is writen to disk. The error occures when fs.mkdir is called to create the new path for the download destination ( ENOENT: no such file or directory, mkdir 'path/to/folder'). Without a callback function as parameter the error will not be printed to stdout.</p>\n\n<p>My solution now is to use a custom implementation of fs-chunk-store which allows the creation of folders recursivly.</p>\n"}], "owner": {"reputation": 23, "user_id": 6681755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88fa1080df8dc260e02b8404b1342034?s=128&d=identicon&r=PG&f=1", "display_name": "Technobabel", "link": "https://stackoverflow.com/users/6681755/technobabel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 59519556, "answer_count": 2, "score": 1, "last_activity_date": 1577623807, "creation_date": 1577305303, "last_edit_date": 1577623807, "question_id": 59481593, "link": "https://stackoverflow.com/questions/59481593/why-are-my-finished-torrents-sometimes-not-getting-written-to-disk", "title": "Why are my finished torrents (sometimes) not getting written to disk?", "body": "<p>I try to write a little torrent client with electron and webtorrent. Everything seems fine at first but sometimes when a torrent is finished downloading the resulting files are not getting written to disk.</p>\n\n<p>My project is setup via the SimulatedGREG/electron-vue boilerplate.</p>\n\n<p>Here the code of my torrent client class:</p>\n\n<pre><code>const WebTorrent = require('webtorrent');\nconst client = new WebTorrent();  \nexport default class TorrentClient {\n  download (downloadInfo) {\n    console.log('download torrent from magnet link:', downloadInfo.magnetLink);\n\n    let torrent = client.add(downloadInfo.infoHash);\n    torrent.on('download', function (bytes) {\n      console.log('just downloaded: ' + bytes);\n      console.log('total downloaded: ' + torrent.downloaded);\n      console.log('download speed: ' + torrent.downloadSpeed);\n      console.log('progress: ' + torrent.progress);\n    });\n    torrent.on('done', function () {\n      console.log('done...');\n    });\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "css", "graph", "chart.js"], "comments": [{"owner": {"reputation": 1054, "user_id": 10508250, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KjjYVoCOwmg/AAAAAAAAAAI/AAAAAAAAAKU/5OoE4lwEnYw/photo.jpg?sz=128", "display_name": "Tharindu Vindula", "link": "https://stackoverflow.com/users/10508250/tharindu-vindula"}, "edited": false, "score": 0, "creation_date": 1577305312, "post_id": 59481571, "comment_id": 105139704, "body": "pls add your code in codepen or Fiddle"}, {"owner": {"reputation": 415, "user_id": 9185238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xh2Rx.png?s=128&g=1", "display_name": "Soul Eeater", "link": "https://stackoverflow.com/users/9185238/soul-eeater"}, "edited": false, "score": 0, "creation_date": 1577330886, "post_id": 59481571, "comment_id": 105143020, "body": "Better add a link to a working example instead of an image.. it&#39;s easier for us to help you if we can see how your code is working"}, {"owner": {"reputation": 4166, "user_id": 11393381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SShVL.jpg?s=128&g=1", "display_name": "Awais", "link": "https://stackoverflow.com/users/11393381/awais"}, "edited": false, "score": 0, "creation_date": 1577339532, "post_id": 59481571, "comment_id": 105144319, "body": "Welcome to SO, please paste your minimal working code so that we can help, for time being search 78% in you html file i think its written some where in html"}, {"owner": {"reputation": 1, "user_id": 9784637, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Aphro Pfotte", "link": "https://stackoverflow.com/users/9784637/aphro-pfotte"}, "reply_to_user": {"reputation": 1054, "user_id": 10508250, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KjjYVoCOwmg/AAAAAAAAAAI/AAAAAAAAAKU/5OoE4lwEnYw/photo.jpg?sz=128", "display_name": "Tharindu Vindula", "link": "https://stackoverflow.com/users/10508250/tharindu-vindula"}, "edited": false, "score": 0, "creation_date": 1577351597, "post_id": 59481571, "comment_id": 105147507, "body": "@TharinduVindula, I have added code, please check now"}, {"owner": {"reputation": 415, "user_id": 9185238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xh2Rx.png?s=128&g=1", "display_name": "Soul Eeater", "link": "https://stackoverflow.com/users/9185238/soul-eeater"}, "edited": false, "score": 0, "creation_date": 1577417475, "post_id": 59481571, "comment_id": 105165086, "body": "@AphroPfotte I think it would be better to see the example working, maybe a <a href=\"https://plnkr.co/edit/?p=catalogue\" rel=\"nofollow noreferrer\">Plunker</a>, because I don&#39;t know how are you defining <code>formatDate</code> ..also I think it would be good to see how is your html looking"}], "owner": {"reputation": 1, "user_id": 9784637, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Aphro Pfotte", "link": "https://stackoverflow.com/users/9784637/aphro-pfotte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577350333, "creation_date": 1577305051, "last_edit_date": 1577350333, "question_id": 59481571, "link": "https://stackoverflow.com/questions/59481571/remove-from-chart-js-graph", "title": "remove % from chart.js graph", "body": "<p>I have integrated <a href=\"https://www.chartjs.org/samples/latest/tooltips/positioning.html\" rel=\"nofollow noreferrer\">chart.js tooltip</a> graph. Graph is showing some random value like 78% in the mid of the graph. I dont know from where it is coming. </p>\n\n<p>Please have a look on the image. Please tell me how to remove it as I cant find it on chart.js examples and on google.</p>\n\n<p><a href=\"https://i.stack.imgur.com/cc0Nv.png\" rel=\"nofollow noreferrer\">example image1</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/bzy5P.png\" rel=\"nofollow noreferrer\">example image2</a></p>\n\n<p>Below is my code</p>\n\n<pre><code>function createConfig(position) {\n    var today = new Date();\n    var first = formatDate(new Date(today.setDate(today.getDate()-6)));\n    var today = new Date();\n    var second = formatDate(new Date(today.setDate(today.getDate()-5)));\n    var today = new Date();\n    var third = formatDate(new Date(today.setDate(today.getDate()-4)));\n    var today = new Date();\n    var fourth = formatDate(new Date(today.setDate(today.getDate()-3)));\n    var today = new Date();\n    var fifth = formatDate(new Date(today.setDate(today.getDate()-2)));\n    var today = new Date();\n    var sixth = formatDate(new Date(today.setDate(today.getDate()-1)));\n    var today = new Date();\n    var today = formatDate(today);\n\n    console.log(desktop_data);\n\n    return {\n        type: 'line',\n        data: {\n            labels: [first, second, third, fourth, fifth, sixth, today],\n            datasets: [{\n                label: 'Desktop',\n                borderColor: '#376593',\n                backgroundColor: '#376593',\n                data: desktop_data,\n                fill: false,\n            }, {\n                label: 'Mobile',\n                borderColor: '#ffa200',\n                backgroundColor: '#ffa200',\n                data: mobile_data,\n                fill: false,\n            }]\n        },\n        options: {\n            responsive: true,\n            title: {\n                display: true\n            },\n            tooltips: {\n                position: position,\n                mode: 'index',\n                intersect: false,\n            },\n        }\n    };\n}\n\nvar chart;\n\nwindow.onload = function() {\n    var container = document.querySelector('.container_chart');\n\n    ['average'].forEach(function(position) {\n        var div = document.createElement('div');\n        div.classList.add('chart-container');\n\n        var canvas = document.createElement('canvas');\n        div.appendChild(canvas);\n        container.appendChild(div);\n\n        var ctx = canvas.getContext('2d');\n        var config = createConfig(position);\n        chart = new Chart(ctx, config);\n\n    });\n};\n</code></pre>\n"}, {"tags": ["javascript", "html", "ajax", "forms"], "comments": [{"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1577305147, "post_id": 59481549, "comment_id": 105139676, "body": "Yes, this is possible to do. Do you know how to filter data out of a JavaScript array? Do you know how to display the result? See the many Q&amp;A on this site. For example <a href=\"https://stackoverflow.com/questions/23720988/how-to-filter-json-data-in-javascript-or-jquery\">this</a>"}, {"owner": {"reputation": 13, "user_id": 12231674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa491d17152d655c59cfe4edf795eb3c?s=128&d=identicon&r=PG&f=1", "display_name": "user12231674", "link": "https://stackoverflow.com/users/12231674/user12231674"}, "reply_to_user": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1577305606, "post_id": 59481549, "comment_id": 105139751, "body": "@trincot Yes I do know about filtering JSON data, however I do not understand how to add that filter to a XMLhttprequest."}, {"owner": {"reputation": 700, "user_id": 3136401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9u5Fx.jpg?s=128&g=1", "display_name": "Sarvesh Mahajan", "link": "https://stackoverflow.com/users/3136401/sarvesh-mahajan"}, "edited": false, "score": 0, "creation_date": 1577305834, "post_id": 59481549, "comment_id": 105139794, "body": "You don&#39;t need to add filter logic to XMLhttprequest, you simply need to filter on the response <code>data</code> object <code>const data = JSON.parse(xhr.response);</code>"}, {"owner": {"reputation": 13, "user_id": 12231674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa491d17152d655c59cfe4edf795eb3c?s=128&d=identicon&r=PG&f=1", "display_name": "user12231674", "link": "https://stackoverflow.com/users/12231674/user12231674"}, "edited": false, "score": 0, "creation_date": 1577306207, "post_id": 59481549, "comment_id": 105139849, "body": "How do I filter the response?"}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1577310063, "post_id": 59481549, "comment_id": 105140461, "body": "I don&#39;t understand: <i>&quot;I do know about filtering JSON data&quot;</i> and <i>&quot;How do I filter the response?&quot;</i> contradict each other. The response is JSON..."}, {"owner": {"reputation": 13, "user_id": 12231674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa491d17152d655c59cfe4edf795eb3c?s=128&d=identicon&r=PG&f=1", "display_name": "user12231674", "link": "https://stackoverflow.com/users/12231674/user12231674"}, "edited": false, "score": 0, "creation_date": 1577325712, "post_id": 59481549, "comment_id": 105142440, "body": "To clear it up, I meant I know how to filter JSON data, if I just have a JSON file that I created myself, I know how to navigate and select different aspects of that JSON data, but I don&#39;t know how to filter the response variable in the XMLhttprequest, meaning I don&#39;t understand where to start in this line to filter the JSON : const data = JSON.parse(xhr.response);  I have only been learning web development for 2 months, therefore, cannot see straight away what correlates to what and how to use basic JSON handling within functions. Hope that cleared it, in the end I didn&#39;t need to filter it."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 12231674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa491d17152d655c59cfe4edf795eb3c?s=128&d=identicon&r=PG&f=1", "display_name": "user12231674", "link": "https://stackoverflow.com/users/12231674/user12231674"}, "edited": false, "score": 0, "creation_date": 1577306287, "post_id": 59481655, "comment_id": 105139860, "body": "I cannot filter the data before I don&#39;t think, since I need to type any name that is present in the JSON data and it needs to show me everything corresponding to that name."}, {"owner": {"reputation": 15, "user_id": 8804400, "user_type": "registered", "profile_image": "https://graph.facebook.com/1543579089043023/picture?type=large", "display_name": "Banned007", "link": "https://stackoverflow.com/users/8804400/banned007"}, "reply_to_user": {"reputation": 13, "user_id": 12231674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa491d17152d655c59cfe4edf795eb3c?s=128&d=identicon&r=PG&f=1", "display_name": "user12231674", "link": "https://stackoverflow.com/users/12231674/user12231674"}, "edited": false, "score": 0, "creation_date": 1577306504, "post_id": 59481655, "comment_id": 105139894, "body": "Then I did&#39;t understand your question. In the last part you said that you are going to be displaying the first one on the dataset, correct?"}, {"owner": {"reputation": 15, "user_id": 8804400, "user_type": "registered", "profile_image": "https://graph.facebook.com/1543579089043023/picture?type=large", "display_name": "Banned007", "link": "https://stackoverflow.com/users/8804400/banned007"}, "reply_to_user": {"reputation": 13, "user_id": 12231674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa491d17152d655c59cfe4edf795eb3c?s=128&d=identicon&r=PG&f=1", "display_name": "user12231674", "link": "https://stackoverflow.com/users/12231674/user12231674"}, "edited": false, "score": 0, "creation_date": 1577306876, "post_id": 59481655, "comment_id": 105139951, "body": "In the statement <code>xhr.open(&quot;GET&quot;, &quot;http:&#47;&#47;127.0.0.1:3000&#47;users&quot;);</code> are you asking for everything on your dataset?"}, {"owner": {"reputation": 13, "user_id": 12231674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa491d17152d655c59cfe4edf795eb3c?s=128&d=identicon&r=PG&f=1", "display_name": "user12231674", "link": "https://stackoverflow.com/users/12231674/user12231674"}, "edited": false, "score": 0, "creation_date": 1577308508, "post_id": 59481655, "comment_id": 105140230, "body": "It was only an example, I should be able to type any name, and that name and details about that user should display."}], "tags": [], "owner": {"reputation": 15, "user_id": 8804400, "user_type": "registered", "profile_image": "https://graph.facebook.com/1543579089043023/picture?type=large", "display_name": "Banned007", "link": "https://stackoverflow.com/users/8804400/banned007"}, "is_accepted": false, "score": -1, "last_activity_date": 1577337086, "last_edit_date": 1577337086, "creation_date": 1577305879, "answer_id": 59481655, "question_id": 59481549, "link": "https://stackoverflow.com/questions/59481549/how-to-get-specific-json-data-from-a-server-using-javascript/59481655#59481655", "title": "How to GET specific JSON data from a server using Javascript?", "body": "<p>This could be done two ways, you could filter the data before it is served to your web page (server logic), or you could just use the first object in your JSON array when it arrives at the web page, you might want to order the dataset before taking the first one.</p>\n\n<p>If you are getting all the user's information in your query (<code>xhr.open(\"GET\", \"http://127.0.0.1:3000/users\")</code>) and you are trying to filter it on the frontend, then your <code>xhr.onload</code> should be something like. </p>\n\n<pre><code>xhr.onload = () =&gt; {\n        const jsonArray = JSON.parse(xhr.response);\n        const user = Object.keys(jsonArray).map(key =&gt; jsonArray[key]).filter(e =&gt; e.name == document.getElementById(\"search_byname\").value)[0];\n        console.log(user );\n    };\n</code></pre>\n\n<p>if your JSON array is already filtered (if you queried your database filtering by name), then it should be</p>\n\n<pre><code>xhr.onload = () =&gt; {\n        const user = JSON.parse(xhr.response)[0];\n        console.log(user);\n    };\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 12231674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa491d17152d655c59cfe4edf795eb3c?s=128&d=identicon&r=PG&f=1", "display_name": "user12231674", "link": "https://stackoverflow.com/users/12231674/user12231674"}, "edited": false, "score": 0, "creation_date": 1577306513, "post_id": 59481674, "comment_id": 105139895, "body": "The backend is not written in php but Javascript, and as I saw it takes a parameter users/:userID, so do I need to just add extra code that takes users/:userNAME ?"}, {"owner": {"reputation": 2736, "user_id": 7616528, "user_type": "registered", "profile_image": "https://graph.facebook.com/1835281490072128/picture?type=large", "display_name": "TheMisir", "link": "https://stackoverflow.com/users/7616528/themisir"}, "reply_to_user": {"reputation": 13, "user_id": 12231674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa491d17152d655c59cfe4edf795eb3c?s=128&d=identicon&r=PG&f=1", "display_name": "user12231674", "link": "https://stackoverflow.com/users/12231674/user12231674"}, "edited": false, "score": 0, "creation_date": 1577306576, "post_id": 59481674, "comment_id": 105139911, "body": "@user12231674 could you edit backend code. or the data is provided by the third-party?"}, {"owner": {"reputation": 13, "user_id": 12231674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa491d17152d655c59cfe4edf795eb3c?s=128&d=identicon&r=PG&f=1", "display_name": "user12231674", "link": "https://stackoverflow.com/users/12231674/user12231674"}, "edited": false, "score": 0, "creation_date": 1577306889, "post_id": 59481674, "comment_id": 105139953, "body": "I can edit it, but I should not have to, since the id: and name: and barcode: keys are there, I just need to use them somehow to filter the response."}, {"owner": {"reputation": 2736, "user_id": 7616528, "user_type": "registered", "profile_image": "https://graph.facebook.com/1835281490072128/picture?type=large", "display_name": "TheMisir", "link": "https://stackoverflow.com/users/7616528/themisir"}, "reply_to_user": {"reputation": 13, "user_id": 12231674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa491d17152d655c59cfe4edf795eb3c?s=128&d=identicon&r=PG&f=1", "display_name": "user12231674", "link": "https://stackoverflow.com/users/12231674/user12231674"}, "edited": false, "score": 0, "creation_date": 1577307035, "post_id": 59481674, "comment_id": 105139977, "body": "Could you post the backend code (especially users request part) in somewhere? We need to check the code to let you know how to filter the response."}], "tags": [], "owner": {"reputation": 2736, "user_id": 7616528, "user_type": "registered", "profile_image": "https://graph.facebook.com/1835281490072128/picture?type=large", "display_name": "TheMisir", "link": "https://stackoverflow.com/users/7616528/themisir"}, "is_accepted": false, "score": 0, "last_activity_date": 1577638519, "last_edit_date": 1577638519, "creation_date": 1577306081, "answer_id": 59481674, "question_id": 59481549, "link": "https://stackoverflow.com/questions/59481549/how-to-get-specific-json-data-from-a-server-using-javascript/59481674#59481674", "title": "How to GET specific JSON data from a server using Javascript?", "body": "<h1>Backend side</h1>\n\n<p>You need to specify the search service in your backend firstly. For example, you may check if there is a <code>GET</code> parameter named <code>search</code> then filter users by given parameter value.</p>\n\n<p><strong>PHP</strong></p>\n\n<pre class=\"lang-php prettyprint-override\"><code>&lt;?php\n\n$search = @$_GET['search'];\n$query = 'SELECT * FROM users';\n\nif (strlen($search) &gt; 0) \n  $query .= \" WHERE name LIKE '%$search%'\");\n}\n\n// Then execute $query and print data as json\n\n?&gt;\n</code></pre>\n\n<p><strong>Express.js</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>app.get('/users', (req, res) =&gt; {\n  let search = req.query.search;\n  let query = 'SELECT * FROM users' + (\n    search &amp;&amp; search.length ? ` WHERE name LIKE '%${search}%'` : '';\n  );\n\n  // execute [query] and send response\n});\n</code></pre>\n\n<p>The code above code is only for example purpose, don't use it in production which may lead to <a href=\"https://www.w3schools.com/sql/sql_injection.asp\" rel=\"nofollow noreferrer\">SQL Injection</a>.</p>\n\n<h1>Frontend side</h1>\n\n<p>Change your js with that code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const getBtn = document.getElementById(\"get-btn\");\nconst searchByNameInput = document.getElementById(\"search_byname\");\n\nconst getData = function() {\n    const xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", \"http://127.0.0.1:3000/users?search=\" + encodeURIComponent(searchByNameInput.value));\n\n    xhr.onload = function() {\n        const data = JSON.parse(xhr.response);\n        console.log(data);\n    };\n    xhr.send();\n\n};\n\ngetBtn.addEventListener(\"click\", getData);\n</code></pre>\n\n<p>In that code, we used <a href=\"https://en.wikipedia.org/wiki/Query_string\" rel=\"nofollow noreferrer\">query string</a> to give the server additional arguments to filter our request. To specify query string you need to add <code>?</code> (question mark) after the url and specify the parameters separated by <code>&amp;</code> symbol.</p>\n\n<pre><code>https://website.tld/link/to/page?param1=value1&amp;param2=value2&amp;...&amp;paramN=valueN\n</code></pre>\n\n<p>On the backend side, you can get the given parameters easily by using your language's or framework's features then filter results by using <a href=\"https://www.w3schools.com/sql/sql_where.asp\" rel=\"nofollow noreferrer\">sql <code>WHERE</code> clause</a>.</p>\n\n<p>Here are other code examples to get query string parameters in different languages/frameworks.</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/6912872/7616528\">Node.js > Express</a></li>\n<li><a href=\"https://forums.asp.net/t/1072321.aspx?How+to+get+parameter+in+url+by+C+for+net+\" rel=\"nofollow noreferrer\">C# > ASP.NET</a></li>\n<li><a href=\"https://stackoverflow.com/questions/11280948/best-way-to-get-query-string-from-a-url-in-python\">Python > Django</a></li>\n<li><a href=\"https://stackoverflow.com/a/15081132/7616528\">PHP > Laravel</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 12231674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa491d17152d655c59cfe4edf795eb3c?s=128&d=identicon&r=PG&f=1", "display_name": "user12231674", "link": "https://stackoverflow.com/users/12231674/user12231674"}, "is_accepted": true, "score": 0, "last_activity_date": 1577637394, "last_edit_date": 1577637394, "creation_date": 1577308909, "answer_id": 59481936, "question_id": 59481549, "link": "https://stackoverflow.com/questions/59481549/how-to-get-specific-json-data-from-a-server-using-javascript/59481936#59481936", "title": "How to GET specific JSON data from a server using Javascript?", "body": "<p>I have figured it out, the server has a separate javascript file that performs GET requests. Therefore instead of this:</p>\n\n<pre><code>\n    xhr.open(\"GET\", \"http://127.0.0.1:3000/users\");\n\n\n</code></pre>\n\n<p>I should write this:</p>\n\n<pre><code>xhr.open(\"GET\", \"http://127.0.0.1:3000/search?type=user&amp;name=\" + input);\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 12231674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa491d17152d655c59cfe4edf795eb3c?s=128&d=identicon&r=PG&f=1", "display_name": "user12231674", "link": "https://stackoverflow.com/users/12231674/user12231674"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 59481936, "answer_count": 3, "score": 0, "last_activity_date": 1577934560, "creation_date": 1577304906, "last_edit_date": 1577934560, "question_id": 59481549, "link": "https://stackoverflow.com/questions/59481549/how-to-get-specific-json-data-from-a-server-using-javascript", "title": "How to GET specific JSON data from a server using Javascript?", "body": "<p>I have a created sqlite server that holds JSON data about users. The data looks like this:</p>\n\n<pre><code>{\n0:{\n    id: 1,\n    name:   \"Sam Smith\",\n  },\n1:{\n    id: 2,\n    name:   \"Jane Smith\",\n  }\n}\n</code></pre>\n\n<p>I also have a basic html page with a form:</p>\n\n<pre><code>&lt;div id=\"input\" class=\"searchuser\"&gt;\n        &lt;form&gt;\n            &lt;legend class=\"useradd-fonts\"&gt;Search Existing User&lt;/legend&gt;\n\n\n            &lt;label for=\"search_byname\"&gt;Name: &lt;input type=\"text\" id=\"search_byname\"/&gt;&lt;/label&gt;\n            &lt;input type=\"button\" id=\"get-btn\" value=\"Search\" /&gt;&lt;br&gt;\n        &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I also have code for getting this data from the server with an XMLhttprequest(), however, the code only allows to get the whole JSON data and display all the users:</p>\n\n<pre><code>const getBtn = document.getElementById(\"get-btn\");\n\nconst getData = function() {\n    const xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", \"http://127.0.0.1:3000/users\");\n\n    xhr.onload = function() {\n        const data = JSON.parse(xhr.response);\n        console.log(data);\n    };\n    xhr.send();\n\n};\n\ngetBtn.addEventListener(\"click\", getData);\n</code></pre>\n\n<p>My question is, how can I search a user by their name, so in the HTML form, write Sam Smith, and after clicking the button this will return only the first user's information and not all of the users in the dataset? I would like to do this with XMLhttprequests without using any external libraries, is this possible to do?</p>\n"}, {"tags": ["javascript", "reactjs", "toggle"], "answers": [{"comments": [{"owner": {"reputation": 1555, "user_id": 6114445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uSwiF.jpg?s=128&g=1", "display_name": "Jonathan Rys", "link": "https://stackoverflow.com/users/6114445/jonathan-rys"}, "edited": false, "score": 0, "creation_date": 1577306172, "post_id": 59481662, "comment_id": 105139846, "body": "Can you describe how your answer solves the problem?"}, {"owner": {"reputation": 1322, "user_id": 4557781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z58mG.jpg?s=128&g=1", "display_name": "Babak Yaghoobi", "link": "https://stackoverflow.com/users/4557781/babak-yaghoobi"}, "reply_to_user": {"reputation": 1555, "user_id": 6114445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uSwiF.jpg?s=128&g=1", "display_name": "Jonathan Rys", "link": "https://stackoverflow.com/users/6114445/jonathan-rys"}, "edited": false, "score": 0, "creation_date": 1577306557, "post_id": 59481662, "comment_id": 105139907, "body": "I added just index for handleClick(index) and check it with modal when render after setState with className={modal &amp;&amp; modalIndex == index ? &quot;&quot; : &quot;open&quot;}"}, {"owner": {"reputation": 1322, "user_id": 4557781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z58mG.jpg?s=128&g=1", "display_name": "Babak Yaghoobi", "link": "https://stackoverflow.com/users/4557781/babak-yaghoobi"}, "reply_to_user": {"reputation": 1555, "user_id": 6114445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uSwiF.jpg?s=128&g=1", "display_name": "Jonathan Rys", "link": "https://stackoverflow.com/users/6114445/jonathan-rys"}, "edited": false, "score": 0, "creation_date": 1577306962, "post_id": 59481662, "comment_id": 105139968, "body": "vote is not important, that&#39;s important your problem solving"}], "tags": [], "owner": {"reputation": 1322, "user_id": 4557781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z58mG.jpg?s=128&g=1", "display_name": "Babak Yaghoobi", "link": "https://stackoverflow.com/users/4557781/babak-yaghoobi"}, "is_accepted": false, "score": -1, "last_activity_date": 1577305996, "creation_date": 1577305996, "answer_id": 59481662, "question_id": 59481532, "link": "https://stackoverflow.com/questions/59481532/toggle-function-to-single-element-using-react/59481662#59481662", "title": "Toggle function to single element using react", "body": "<pre><code>    state = {\n        isLoading: true,\n        table: [],\n        photos: [],\n        error: null,\n        modal: true,\n        modalIndex: -1\n    };\n\n    handleClick = (index) =&gt; {\n        this.setState(state =&gt; ({ modal: !state.modal, modalIndex: index}))\n    };\n\n    fetchUsers() {\n        fetch(`${API_URL}/post/`)\n            .then(response =&gt; response.json())\n            .then(data =&gt;\n                this.setState({\n                    table: data.results,\n                    photos: data.results.photos,\n                    isLoading: false,\n                })\n            )\n            .catch(error =&gt; this.setState({error, isLoading: false}));\n    }\n    componentDidMount() {\n        this.fetchUsers();\n    }\n    const {isLoading, table, error, modal, modalIndex} = this.state;\n    return (\n        &lt;div&gt;\n            &lt;div className=\"news-container\"&gt;\n                &lt;div className=\"container\"&gt;\n                    {error ? &lt;p&gt;{error.message}&lt;/p&gt; : null}\n                    {!isLoading ? (\n                        table.map((result, index) =&gt; {\n                            const {id, title, created_date, text, author, photos} = result;\n                            const img = [];\n                            for (let i = 0; i &lt; photos.length; i++) {\n                                img.push(&lt;img src={photos[i]} alt=\"\"/&gt;);\n                            }\n                            return (\n                                &lt;div className={modal &amp;&amp; modalIndex == index ? \"news-card\" : \"news-card news-card-open\"} key={id}&gt;\n                                    &lt;p className=\"title\"&gt;{title}&lt;/p&gt;\n                                    &lt;span className=\"news-date\"&gt;{created_date}&lt;/span&gt;\n                                    &lt;div className=\"describe-block\"&gt;\n                                        &lt;pre&gt;Describe: {text}&lt;/pre&gt;\n                                        &lt;p&gt;{author}&lt;/p&gt;\n                                    &lt;/div&gt;\n                                    &lt;button className={modal &amp;&amp; modalIndex == index ? \"\" : \"open\"} id={id} onClick={()=&gt;this.handleClick(index)}&gt;Expand&lt;/button&gt;\n                                &lt;/div&gt;\n                            );\n                        })\n                    ) : (\n                        &lt;h3&gt;Loading...&lt;/h3&gt;\n                    )}\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    );\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12374732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAo5bcEr_mFNbQlQ5uGsOG4AfquGGvdYKWC-qcLJQ=k-s128", "display_name": "Yevhen Batenko", "link": "https://stackoverflow.com/users/12374732/yevhen-batenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1577307045, "creation_date": 1577307045, "answer_id": 59481754, "question_id": 59481532, "link": "https://stackoverflow.com/questions/59481532/toggle-function-to-single-element-using-react/59481754#59481754", "title": "Toggle function to single element using react", "body": "<p>Thanks for Babak Yaghoobi, but i used the data id sent from the backend. And it's work allmost. New small problem, when click to another \"expand\" first click will be removed class open on before element and than when second click add new class to current element </p>\n\n<pre><code>...\n state = {\n        isLoading: true,\n        table: [],\n        photos: [],\n        error: null,\n        modal: true,\n        modalIndex: -1\n    };\n\n    handleClick = (id) =&gt; {\n        this.setState(state =&gt; ({ modal: !state.modal, modalIndex: id}))\n    };\n...\n&lt;button className={modal &amp;&amp; modalIndex === id ? \"\" : \"open\"} id={id} onClick={()=&gt;this.handleClick(result.id)}&gt;Expand&lt;/button&gt;\n...\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12374732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAo5bcEr_mFNbQlQ5uGsOG4AfquGGvdYKWC-qcLJQ=k-s128", "display_name": "Yevhen Batenko", "link": "https://stackoverflow.com/users/12374732/yevhen-batenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1577307045, "creation_date": 1577304718, "last_edit_date": 1577305710, "question_id": 59481532, "link": "https://stackoverflow.com/questions/59481532/toggle-function-to-single-element-using-react", "title": "Toggle function to single element using react", "body": "<p>Please, tell me how to apply the toggle function to one element and not to all. This function adds a class to all elements where use a \"modal\" state. </p>\n\n<p>On image here what I'm trying to do:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cPbCV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cPbCV.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is my code so far:</p>\n\n<pre><code>\n    state = {\n        isLoading: true,\n        table: [],\n        photos: [],\n        error: null,\n        modal: true\n    };\n\n    handleClick = () =&gt; {\n        this.setState(state =&gt; ({ modal: !state.modal}))\n    };\n\n    fetchUsers() {\n        fetch(`${API_URL}/post/`)\n            .then(response =&gt; response.json())\n            .then(data =&gt;\n                this.setState({\n                    table: data.results,\n                    photos: data.results.photos,\n                    isLoading: false,\n                })\n            )\n            .catch(error =&gt; this.setState({error, isLoading: false}));\n    }\n    componentDidMount() {\n        this.fetchUsers();\n    }\n\n        const {isLoading, table, error, modal} = this.state;\n        return (\n            &lt;div&gt;\n                &lt;div className=\"news-container\"&gt;\n                    &lt;div className=\"container\"&gt;\n                        {error ? &lt;p&gt;{error.message}&lt;/p&gt; : null}\n                        {!isLoading ? (\n                            table.map(result =&gt; {\n                                const {id, title, created_date, text, author, photos} = result;\n                                const img = [];\n                                for (let i = 0; i &lt; photos.length; i++) {\n                                    img.push(&lt;img src={photos[i]} alt=\"\"/&gt;);\n                                }\n                                return (\n                                    &lt;div className={modal ? \"news-card\" : \"news-card news-card-open\"} key={id}&gt;\n                                        &lt;p className=\"title\"&gt;{title}&lt;/p&gt;\n                                        &lt;span className=\"news-date\"&gt;{created_date}&lt;/span&gt;\n                                        &lt;div className=\"describe-block\"&gt;\n                                            &lt;pre&gt;Describe: {text}&lt;/pre&gt;\n                                            &lt;p&gt;{author}&lt;/p&gt;\n                                        &lt;/div&gt;\n                                        &lt;button className={modal ? \"\" : \"open\"} id={id} onClick={this.handleClick}&gt;Expand&lt;/button&gt;\n                                    &lt;/div&gt;\n                                );\n                            })\n                        ) : (\n                            &lt;h3&gt;Loading...&lt;/h3&gt;\n                        )}\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        );\n    }\n\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12572723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2bab28f0c07756e60dcc9f1a5f79b5?s=128&d=identicon&r=PG&f=1", "display_name": "Melissa", "link": "https://stackoverflow.com/users/12572723/melissa"}, "edited": false, "score": 0, "creation_date": 1577369974, "post_id": 59481577, "comment_id": 105153606, "body": "Thank you so much!It shows the alert now but after clicking ok, the new task is still added. How do I solve that?"}, {"owner": {"reputation": 4645, "user_id": 11998782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZZ3Di.png?s=128&g=1", "display_name": "Shiny", "link": "https://stackoverflow.com/users/11998782/shiny"}, "reply_to_user": {"reputation": 1, "user_id": 12572723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2bab28f0c07756e60dcc9f1a5f79b5?s=128&d=identicon&r=PG&f=1", "display_name": "Melissa", "link": "https://stackoverflow.com/users/12572723/melissa"}, "edited": false, "score": 0, "creation_date": 1577370160, "post_id": 59481577, "comment_id": 105153653, "body": "If it&#39;s showing the alert it should be in the else section of your if / else - not sure what the issue could be without having more testable code; In your question I&#39;m missing the HTML. I&#39;ve updated my answer to include <code>$(&#39;#task li&#39;).length</code> in the first if as well, that might have been an issue - try with that change"}, {"owner": {"reputation": 4645, "user_id": 11998782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZZ3Di.png?s=128&g=1", "display_name": "Shiny", "link": "https://stackoverflow.com/users/11998782/shiny"}, "reply_to_user": {"reputation": 1, "user_id": 12572723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2bab28f0c07756e60dcc9f1a5f79b5?s=128&d=identicon&r=PG&f=1", "display_name": "Melissa", "link": "https://stackoverflow.com/users/12572723/melissa"}, "edited": false, "score": 0, "creation_date": 1577728446, "post_id": 59481577, "comment_id": 105239422, "body": "Hey @Maayanp10, did you find a resolution to this issue?"}], "tags": [], "owner": {"reputation": 4645, "user_id": 11998782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZZ3Di.png?s=128&g=1", "display_name": "Shiny", "link": "https://stackoverflow.com/users/11998782/shiny"}, "is_accepted": false, "score": 0, "last_activity_date": 1577370128, "last_edit_date": 1577370128, "creation_date": 1577305111, "answer_id": 59481577, "question_id": 59481473, "link": "https://stackoverflow.com/questions/59481473/how-to-prevent-user-from-adding-more-than-4-tasks-to-a-todo-list-in-javascript/59481577#59481577", "title": "How to prevent user from adding more than 4 Tasks to a ToDo list in JavaScript", "body": "<p>Looks like <code>task</code> isn't being updated, as you're assigning the value once and then always checking against that value - it's not updating dynamically</p>\n\n<p>You could either count how many <code>li</code> are present in the list, inside the if statement to make sure it's always returning the correct amount though, or you could update the value of <code>task</code> after appending the new <code>li</code> to the page</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$(\"ul\").on(\"click\", \"li\", function() {\n  $(this).toggleClass(\"completed\");\n});\n\nvar task = document.getElementById(\"task\").childElementCount;\n\n// remove to do\n\n$(\"ul\").on(\"click\", \"span\", function(event) {\n  $(this).parent().fadeOut(500, function() {\n    $(this).remove();\n  });\n  event.stopPropagation();\n});\n\n$(\"input[type='text']\").keypress(function(event) {\n\n  if (event.which === 13 &amp;&amp; $('#task li').length &lt;= 4) {\n\n    //    grabbing new tasks from user\n    var newTask = $(this).val();\n    $(this).val(\"\");\n    // create a new li and add to ul\n    $(\"ul\").append(\"&lt;li&gt;&lt;span&gt;&lt;i class='fa fa-trash'&gt;&lt;/i&gt;&lt;/span&gt; \" + newTask + \"&lt;/li&gt;\")\n\n  } else if (event.which === 13 &amp;&amp; $('#task li').length &gt; 4) {\n    alert(\"you are trying to add too many tasks\");\n  }\n});\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12572723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d2bab28f0c07756e60dcc9f1a5f79b5?s=128&d=identicon&r=PG&f=1", "display_name": "Melissa", "link": "https://stackoverflow.com/users/12572723/melissa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577370128, "creation_date": 1577304058, "question_id": 59481473, "link": "https://stackoverflow.com/questions/59481473/how-to-prevent-user-from-adding-more-than-4-tasks-to-a-todo-list-in-javascript", "title": "How to prevent user from adding more than 4 Tasks to a ToDo list in JavaScript", "body": "<p>I have a todo list with very simple functionality.\nPeople can enter a new task in the input box and delete the task after it's added and also cross it out when its clicked in order to check the task off.\nI am trying to prevent the user from being able to add more than 4 tasks to the list.\nWhen the user enters a new value and there are already 4 tasks in the to do list there should be an alert that says they cannot exceed 4 tasks. This is my code, for some reason it doesn't work (it lets users add as many tasks as they want :</p>\n\n<pre><code>$(\"ul\").on(\"click\", \"li\", function() {\n    $(this).toggleClass(\"completed\");\n});\n\nvar task= document.getElementById(\"task\").childElementCount;\n\n// remove to do\n\n$(\"ul\").on(\"click\", \"span\", function(event) {\n  $(this).parent().fadeOut(500, function() {\n    $(this).remove();\n  });  \n    event.stopPropagation();\n});\n\n\n\n$(\"input[type='text']\").keypress(function(event) {\n\n    if(event.which === 13 &amp;&amp; task &lt;= 4) {\n\n        //    grabbing new tasks from user\n            var newTask = $(this).val();\n            $(this).val(\"\");\n            // create a new li and add to ul\n            $(\"ul\").append(\"&lt;li&gt;&lt;span&gt;&lt;i class='fa fa-trash'&gt;&lt;/i&gt;&lt;/span&gt; \" + newTask + \"&lt;/li&gt;\")\n\n    } else if (event.which === 13 &amp;&amp; task &gt; 4) {\n        alert(\"you are trying to add too many tasks\");\n    }\n\n}); ``` \n</code></pre>\n"}, {"tags": ["javascript", "node.js", "linux", "shell", "deployment"], "comments": [{"owner": {"reputation": 403, "user_id": 3554119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b79421d48f8e4e753ab9ec19b3a964b7?s=128&d=identicon&r=PG&f=1", "display_name": "dirkt", "link": "https://stackoverflow.com/users/3554119/dirkt"}, "edited": false, "score": 0, "creation_date": 1577305693, "post_id": 59481432, "comment_id": 105139766, "body": "For those requirements, if the actual problem is solving the EACCESS error (you should edit the question to include that information), then you should look at the permissions of all directories, and make sure that the user account that manages node packages on each computer has correct permissions. One way to do that is to give <code>&#47;usr&#47;local</code> a special group, set the sticky bit with <code>chmod</code> (see <code>man chmod</code>), make the installing account a member of that group, and don&#39;t use <code>sudo</code> for <code>npm install -g</code>."}, {"owner": {"reputation": 5733, "user_id": 463994, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/aveH2.jpg?s=128&g=1", "display_name": "MountainX", "link": "https://stackoverflow.com/users/463994/mountainx"}, "reply_to_user": {"reputation": 403, "user_id": 3554119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b79421d48f8e4e753ab9ec19b3a964b7?s=128&d=identicon&r=PG&f=1", "display_name": "dirkt", "link": "https://stackoverflow.com/users/3554119/dirkt"}, "edited": false, "score": 0, "creation_date": 1577322168, "post_id": 59481432, "comment_id": 105142055, "body": "@dirkt - thank you. Your suggestion sounds appropriate. Also, I&#39;m reluctant to edit the question. I don&#39;t want to make this question a near duplicate."}, {"owner": {"reputation": 5733, "user_id": 463994, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/aveH2.jpg?s=128&g=1", "display_name": "MountainX", "link": "https://stackoverflow.com/users/463994/mountainx"}, "reply_to_user": {"reputation": 403, "user_id": 3554119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b79421d48f8e4e753ab9ec19b3a964b7?s=128&d=identicon&r=PG&f=1", "display_name": "dirkt", "link": "https://stackoverflow.com/users/3554119/dirkt"}, "edited": false, "score": 0, "creation_date": 1577322220, "post_id": 59481432, "comment_id": 105142062, "body": "@dirkt - also, I think your comment would be a good answer to that question. If you want to post it, I&#39;ll accept your answer."}, {"owner": {"reputation": 303, "user_id": 1119611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba103d73b2ab92ad759af4751c0b3e10?s=128&d=identicon&r=PG", "display_name": "Sohail", "link": "https://stackoverflow.com/users/1119611/sohail"}, "edited": false, "score": 1, "creation_date": 1581042893, "post_id": 59481432, "comment_id": 106306414, "body": "What about a packaging solution to create a standalone offline executable package and deploy it as any other software to your workstations? Then you can have a single copy on each machine that every user runs. Something like this one: <a href=\"https://github.com/zeit/pkg\" rel=\"nofollow noreferrer\">github.com/zeit/pkg</a> or even Electron (if you like to have a UI too)"}, {"owner": {"reputation": 5733, "user_id": 463994, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/aveH2.jpg?s=128&g=1", "display_name": "MountainX", "link": "https://stackoverflow.com/users/463994/mountainx"}, "reply_to_user": {"reputation": 303, "user_id": 1119611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba103d73b2ab92ad759af4751c0b3e10?s=128&d=identicon&r=PG", "display_name": "Sohail", "link": "https://stackoverflow.com/users/1119611/sohail"}, "edited": false, "score": 0, "creation_date": 1581043582, "post_id": 59481432, "comment_id": 106306534, "body": "@Sohail - thanks for the link to <code>pkg</code>. Looks interesting. I already solved this issue, but for next time I will look into  <code>pkg</code>."}], "answers": [{"comments": [{"owner": {"reputation": 5733, "user_id": 463994, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/aveH2.jpg?s=128&g=1", "display_name": "MountainX", "link": "https://stackoverflow.com/users/463994/mountainx"}, "edited": false, "score": 0, "creation_date": 1577321669, "post_id": 59482237, "comment_id": 105141979, "body": "I can&#39;t use your first option because this needs to work on laptops too when they are not connected to the local network. In your second method, are you installing a copy for every user on every machine or are you installing once (globally) per machine?"}, {"owner": {"reputation": 5733, "user_id": 463994, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/aveH2.jpg?s=128&g=1", "display_name": "MountainX", "link": "https://stackoverflow.com/users/463994/mountainx"}, "edited": false, "score": 0, "creation_date": 1577321834, "post_id": 59482237, "comment_id": 105142003, "body": "If installing locally requires installing a copy for <b>every user</b> on every machine, I think I will abandon Node for the next project."}, {"owner": {"reputation": 534, "user_id": 3305301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1480773f1b8f902b820cd4ad6709f2c?s=128&d=identicon&r=PG&f=1", "display_name": "tomanizer", "link": "https://stackoverflow.com/users/3305301/tomanizer"}, "reply_to_user": {"reputation": 5733, "user_id": 463994, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/aveH2.jpg?s=128&g=1", "display_name": "MountainX", "link": "https://stackoverflow.com/users/463994/mountainx"}, "edited": false, "score": 0, "creation_date": 1577336313, "post_id": 59482237, "comment_id": 105143731, "body": "The issues you describe are not really specific to Node. Any application that needs to run locally on machines without network connectivity nut at some point be installed on that machine. The approach I suggested in the second method is supposed to help this easier by managing this deployment and  updates easier by not requiring any user intervention and providing a centralised place for updates. Or have I perhaps misunderstood your question? What technologies other than Node apps would you think could run locally without being installed locally?"}, {"owner": {"reputation": 5733, "user_id": 463994, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/aveH2.jpg?s=128&g=1", "display_name": "MountainX", "link": "https://stackoverflow.com/users/463994/mountainx"}, "edited": false, "score": 0, "creation_date": 1577393788, "post_id": 59482237, "comment_id": 105160848, "body": "yes, we misunderstood each other. I do wish to install locally. I do not wish to install locally multiple times on each device."}, {"owner": {"reputation": 534, "user_id": 3305301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1480773f1b8f902b820cd4ad6709f2c?s=128&d=identicon&r=PG&f=1", "display_name": "tomanizer", "link": "https://stackoverflow.com/users/3305301/tomanizer"}, "reply_to_user": {"reputation": 5733, "user_id": 463994, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/aveH2.jpg?s=128&g=1", "display_name": "MountainX", "link": "https://stackoverflow.com/users/463994/mountainx"}, "edited": false, "score": 0, "creation_date": 1577394925, "post_id": 59482237, "comment_id": 105161110, "body": "Ah sorry. Yes I misunderstood."}], "tags": [], "owner": {"reputation": 534, "user_id": 3305301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1480773f1b8f902b820cd4ad6709f2c?s=128&d=identicon&r=PG&f=1", "display_name": "tomanizer", "link": "https://stackoverflow.com/users/3305301/tomanizer"}, "is_accepted": false, "score": 0, "last_activity_date": 1577312484, "creation_date": 1577312484, "answer_id": 59482237, "question_id": 59481432, "link": "https://stackoverflow.com/questions/59481432/how-to-deploy-javascript-app-that-runs-from-command-line/59482237#59482237", "title": "How to deploy Javascript app that runs from command line?", "body": "<p>We are using these two approaches for similar deployments:</p>\n\n<ul>\n<li><p>the programs live on a specific network mount. All users can run the same package from there. The developer only updates this package. No copying to local machines. </p></li>\n<li><p>we use a simple deployment script which runs on all machines on logon. It pushes and copies the latest version to the local machine. </p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 403, "user_id": 3554119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b79421d48f8e4e753ab9ec19b3a964b7?s=128&d=identicon&r=PG&f=1", "display_name": "dirkt", "link": "https://stackoverflow.com/users/3554119/dirkt"}, "is_accepted": true, "score": 1, "last_activity_date": 1577339421, "creation_date": 1577339421, "answer_id": 59484325, "question_id": 59481432, "link": "https://stackoverflow.com/questions/59481432/how-to-deploy-javascript-app-that-runs-from-command-line/59484325#59484325", "title": "How to deploy Javascript app that runs from command line?", "body": "<p>For those requirements, if the actual problem is solving the EACCESS error (you should edit the question to include that information), then you should look at the permissions of all directories, and make sure that the user account that manages node packages on each computer has correct permissions.</p>\n\n<p>One way to do that is to give <code>/usr/local</code> a special group, set the sticky bit with <code>chmod</code> (see man <code>chmod</code>), and use <code>chgrp -R</code> on the existing tree.</p>\n\n<p>Then make the installing account a member of that group, and don't use <code>sudo</code> for <code>npm install -g</code>. </p>\n\n<p>(Never using <code>sudo</code> for installations into <code>/usr/local</code> has the additional advantage that you can't accidentally install something somewhere else, for example because you didn't set paths in this local package source correctly.)</p>\n"}], "owner": {"reputation": 5733, "user_id": 463994, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/aveH2.jpg?s=128&g=1", "display_name": "MountainX", "link": "https://stackoverflow.com/users/463994/mountainx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "accepted_answer_id": 59484325, "answer_count": 2, "score": 1, "last_activity_date": 1577339421, "creation_date": 1577303564, "last_edit_date": 1577309586, "question_id": 59481432, "link": "https://stackoverflow.com/questions/59481432/how-to-deploy-javascript-app-that-runs-from-command-line", "title": "How to deploy Javascript app that runs from command line?", "body": "<p>I have a simple CLI application written in Javascript using Node that is for internal use by a small team. It runs in the Linux terminal as a CLI app. The app consists of a single \".js\" file and requires a few Node packages. The problem I face now is how to deploy it to our internal team using a simple method that fits with our routine process of keeping end user computers updated.</p>\n\n<p>Our app needs to be installed <strong>once</strong> per workstation / laptop and to be available to all users on that computer. Any user should be able to open a terminal and enter the command to run the app.</p>\n\n<p>It seems a lot of people have discussed using Javascript for shell programming, but this issue of deploying the completed app is not widely discussed. I have not found anything on the topic. So far I have been recommended solutions that are appropriate for either development environments or web servers.</p>\n\n<p><strong>This app is not a web app and it is not deployed on a server</strong>. It needs to run offline. I am also <strong>not asking about developing or maintaining the app on a development workstation</strong>.</p>\n\n<p>The installation process should ideally be as about simple as installing a shell script in <code>/usr/local/bin</code> and setting permissions so all permitted users on a computer can run it. We are looking for an installation method like this: </p>\n\n<ul>\n<li><p>copy the Javascript file only once to each computer (to a location on the <code>$PATH</code>) and make sure the Node packages are available globally on that computer. </p></li>\n<li><p>I specifically want to avoid having to do an <code>npm install</code> for each user account on each computer. </p></li>\n<li><p>I also want to avoid having to update Node packages for each user account on each computer.</p></li>\n</ul>\n\n<p>A developer will keep the app updated so it is always compatible with the latest version of the Node packages, and all computers it is deployed on will always have the latest versions of those packages installed.</p>\n\n<p>One specific problem I encountered is discussed <a href=\"https://unix.stackexchange.com/questions/557295/how-to-install-node-package-globally-the-right-way/558867#558867\">here</a>, but the answers assume a different set of requirements (such as the need for \"multiple applications running on different package versions\").</p>\n"}, {"tags": ["javascript", "firebase", "firebase-realtime-database"], "answers": [{"tags": [], "owner": {"reputation": 9545, "user_id": 3068190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YDAi7.jpg?s=128&g=1", "display_name": "samthecodingman", "link": "https://stackoverflow.com/users/3068190/samthecodingman"}, "is_accepted": true, "score": 2, "last_activity_date": 1577373334, "creation_date": 1577373334, "answer_id": 59490244, "question_id": 59481424, "link": "https://stackoverflow.com/questions/59481424/firebase-update-field-using-variable-in-javascript/59490244#59490244", "title": "Firebase update field using variable in javascript", "body": "<p>If I understand your intentions correctly, you want the field that is updated to be the value of <code>editUserField</code>.</p>\n\n<p>As an example, if <code>editUserField</code> is <code>\"favorite-food\"</code> and <code>newUserValue</code> is <code>\"pizza\"</code>, you want <code>{ favorite-food: pizza }</code> to be added to the user's data.</p>\n\n<p>If that's the case, you were very close, you just need to wrap <code>editUserField</code> in square brackets to use it's value:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>database.update({\n  [editUserField]: newUserValue\n})\n</code></pre>\n\n<p>Note: Don't forget to sanitise <code>editUserField</code>! You wouldn't want them setting <code>{ isAdmin: true }</code>.</p>\n"}], "owner": {"reputation": 1225, "user_id": 5724342, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d0fc4bbc261a7a2a233a196a0b655fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Gurmukh Singh", "link": "https://stackoverflow.com/users/5724342/gurmukh-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 0, "accepted_answer_id": 59490244, "answer_count": 1, "score": 1, "last_activity_date": 1577373334, "creation_date": 1577303507, "question_id": 59481424, "link": "https://stackoverflow.com/questions/59481424/firebase-update-field-using-variable-in-javascript", "title": "Firebase update field using variable in javascript", "body": "<p>I have a function which should go ahead and update the database on firebase</p>\n\n<pre><code>function editUser() {\n  var userID = document.getElementById('userID').value;\n  var editUserField = document.getElementById('editUserField').value;\n  var newUserValue = document.getElementById('newUserValue').value;\n\n  var database = firebase.database().ref().child('users/' + userID);\n  database.once(\"value\", function(snapshot){\n      console.log(snapshot.val());\n  })\n\n  database.update({\n    editUserField: newUserValue\n  })\n\n}\n</code></pre>\n\n<p>The above code is sort of working. Its getting the correct user, but whats not happening is the field is not getting updated, but instead, its creating a new field in the database and assigning it the value.</p>\n\n<p>Looks like a key pair value is getting passed in</p>\n\n<pre><code>editUserField: newUserValue\n</code></pre>\n\n<p>but its actually taking the value <code>editUserField</code> </p>\n\n<p>rather than getting getting it from the input:</p>\n\n<pre><code>var editUserField = document.getElementById('editUserField').value;\n</code></pre>\n\n<p>The value is actually getting stored correct from:</p>\n\n<pre><code>var newUserValue = document.getElementById('newUserValue').value;\n</code></pre>\n\n<p>But it doesnot update the value for the correct key, instead creates a new field called <code>editUserField</code></p>\n\n<p>I need it to get the values from the input and update the fields in firebase.</p>\n"}, {"tags": ["javascript", "regex"], "comments": [{"owner": {"reputation": 1677, "user_id": 11251344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2247c5d5fe8caec4cde459156df0e4bb?s=128&d=identicon&r=PG&f=1", "display_name": "BlackPearl", "link": "https://stackoverflow.com/users/11251344/blackpearl"}, "edited": false, "score": 1, "creation_date": 1577303740, "post_id": 59481375, "comment_id": 105139431, "body": "What do you mean by &#39;all non 10 digit numbers&#39; ? Can you add a sample and intended output?"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1577303755, "post_id": 59481375, "comment_id": 105139435, "body": "... Either check to see if it&#39;s there before adding it, or remove it and add it on later. Regexes can contain multiple expressions, for example, a <code>+1</code>, so you could simply remove all <code>+1</code> and non-digits, then add it on later. It&#39;s unclear what you mean by &quot;non 10 digit numbers&quot;, if you&#39;re aiming for typos, don&#39;t--validate against the number of digits after you&#39;re done, don&#39;t alter user input willy-nilly."}], "answers": [{"tags": [], "owner": {"reputation": 406, "user_id": 4142985, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pL2ts2nF7WQ/AAAAAAAAAAI/AAAAAAAAAEk/eCZaGfgVmRc/photo.jpg?sz=128", "display_name": "J369", "link": "https://stackoverflow.com/users/4142985/j369"}, "is_accepted": true, "score": -1, "last_activity_date": 1577303798, "creation_date": 1577303798, "answer_id": 59481452, "question_id": 59481375, "link": "https://stackoverflow.com/questions/59481375/add-a-prefix-of-1-to-a-string/59481452#59481452", "title": "Add a prefix of +1 to a string", "body": "<p>You want to check for an optional +1 in front.</p>\n\n<pre><code>\"+167t6if6\".replace(/(\\+1)?[^0-9.\\,]./g, '');\nphoneNumber = '+1' + phoneNumber;\n</code></pre>\n\n<p>This will match zero or one occurrences of +1, and any number of non digits.</p>\n\n<p><code>(\\+1)?</code> This checks for optional +1</p>\n\n<p>The period at the end makes any number of non-digits match - this is in the case that there are no non-digits after the +1.</p>\n"}], "owner": {"reputation": 7739, "user_id": 4861207, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh3.googleusercontent.com/-2H-VyJZnOwY/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-i6qKh44s9gIeIEL3c0m5Q8ywBu5w/mo/photo.jpg?sz=128", "display_name": "Jessica", "link": "https://stackoverflow.com/users/4861207/jessica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "closed_date": 1577312118, "accepted_answer_id": 59481452, "answer_count": 1, "score": -4, "last_activity_date": 1577303798, "creation_date": 1577302982, "question_id": 59481375, "link": "https://stackoverflow.com/questions/59481375/add-a-prefix-of-1-to-a-string", "closed_reason": "Needs details or clarity", "title": "Add a prefix of +1 to a string", "body": "<p>How can I remove all non 10 digit numbers from a string, and add a +1 to the front of it if it doesn't exist yet?</p>\n\n<p>Here's the regex code I have:</p>\n\n<pre><code>phoneNumber.replace(/[^0-9.\\,]/g, '');\nphoneNumber = '+1' + phoneNumber;\n</code></pre>\n\n<p>but this won't work if <code>phoneNumber</code> already has <code>+1</code>. How can I make it that the regex first removes all non numerical, and adds a prefix of +1?</p>\n"}, {"tags": ["javascript", "node.js", "express", "mongoose", "eslint"], "comments": [{"owner": {"reputation": 2942, "user_id": 4436077, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/958db005e9c5216e82e4e346174bb6bb?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4436077/alex"}, "edited": false, "score": 0, "creation_date": 1577302497, "post_id": 59481304, "comment_id": 105139259, "body": "How about class or file names within your project?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12551065"}, "reply_to_user": {"reputation": 2942, "user_id": 4436077, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/958db005e9c5216e82e4e346174bb6bb?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4436077/alex"}, "edited": false, "score": 0, "creation_date": 1577302591, "post_id": 59481304, "comment_id": 105139265, "body": "I think they are pretty unique, I attached photo"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user12551065"}, "is_accepted": false, "score": 0, "last_activity_date": 1577304994, "creation_date": 1577304994, "answer_id": 59481559, "question_id": 59481304, "link": "https://stackoverflow.com/questions/59481304/es-lint-is-throwing-a-warning-for-there-are-multiple-modules-with-names-that/59481559#59481559", "title": "es-lint is throwing a warning for ```There are multiple modules with names that only differ in casing.``` for node_modules", "body": "<p>The error was, when I cd into the folder i did <code>cd frontend</code> but the folder name is <code>frontEnd</code> , so be careful of your casing :D</p>\n\n<p>you can see the error in the output log, but its hard to see it if you are not looking for it. </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user12551065"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1607206272, "creation_date": 1577302262, "last_edit_date": 1577302616, "question_id": 59481304, "link": "https://stackoverflow.com/questions/59481304/es-lint-is-throwing-a-warning-for-there-are-multiple-modules-with-names-that", "title": "es-lint is throwing a warning for ```There are multiple modules with names that only differ in casing.``` for node_modules", "body": "<p>I checked all my import statements and they seem to be fine, the only odd import I have is react-bootstrap and I import it as </p>\n\n<p><code>import { Jumbotron, Button  } from 'react-bootstrap';</code> </p>\n\n<p>to use the Jumbotron and button, not sure what else to do. </p>\n\n<pre><code>\n[HMR] Waiting for update signal from WDS...\nbackend.js:6 ../frontEnd/node_modules/process/browser.js\nThere are multiple modules with names that only differ in casing.\nThis can lead to unexpected behavior when compiling on a filesystem with other case-semantic.\nUse equal casing. Compare these module identifiers:\n* C:\\Users\\User\\Desktop\\Image_Uploader\\frontEnd\\node_modules\\babel-loader\\lib\\index.js??ref--6-oneOf-2!C:\\Users\\User\\Desktop\\Image_Uploader\\frontEnd\\node_modules\\process\\browser.js\n    Used by 2 module(s), i. e.\n    C:\\Users\\User\\Desktop\\Image_Uploader\\frontEnd\\node_modules\\babel-loader\\lib\\index.js??ref--6-oneOf-2!C:\\Users\\User\\Desktop\\Image_Uploader\\frontEnd\\node_modules\\react-error-overlay\\lib\\index.js\n* C:\\Users\\User\\Desktop\\Image_Uploader\\frontEnd\\node_modules\\babel-loader\\lib\\index.js??ref--6-oneOf-2!C:\\Users\\User\\Desktop\\Image_Uploader\\frontend\\node_modules\\process\\browser.js\n    Used by 1 module(s), i. e.\n    C:\\Users\\User\\Desktop\\Image_Uploader\\frontEnd\\node_modules\\babel-loader\\lib\\index.js??ref--6-oneOf-2!C:\\Users\\User\\Desktop\\Image_Uploader\\frontend\\node_modules\\axios\\lib\\defaults.js\nr @ backend.js:6\nprintWarnings @ webpackHotDevClient.js:137\nhandleWarnings @ webpackHotDevClient.js:142\npush../node_modules/react-dev-utils/webpackHotDevClient.js.connection.onmessage @ webpackHotDevClient.js:209\nbackend.js:6 ../frontEnd/node_modules/webpack/buildin/global.js\nThere are multiple modules with names that only differ in casing.\nThis can lead to unexpected behavior when compiling on a filesystem with other case-semantic.\nUse equal casing. Compare these module identifiers:\n* C:\\Users\\User\\Desktop\\Image_Uploader\\frontEnd\\node_modules\\babel-loader\\lib\\index.js??ref--6-oneOf-2!C:\\Users\\User\\Desktop\\Image_Uploader\\frontEnd\\node_modules\\webpack\\buildin\\global.js\n    Used by 1 module(s), i. e.\n    C:\\Users\\User\\Desktop\\Image_Uploader\\frontEnd\\node_modules\\babel-loader\\lib\\index.js??ref--6-oneOf-2!C:\\Users\\User\\Desktop\\Image_Uploader\\frontEnd\\node_modules\\node-libs-browser\\node_modules\\punycode\\punycode.js\n* C:\\Users\\User\\Desktop\\Image_Uploader\\frontEnd\\node_modules\\babel-loader\\lib\\index.js??ref--6-oneOf-2!C:\\Users\\User\\Desktop\\Image_Uploader\\frontend\\node_modules\\webpack\\buildin\\global.js\n    Used by 2 module(s), i. e.\n    C:\\Users\\User\\Desktop\\Image_Uploader\\frontEnd\\node_modules\\babel-loader\\lib\\index.js??ref--6-oneOf-2!C:\\Users\\User\\Desktop\\Image_Uploader\\frontend\\node_modules\\gud\\index.js\nr @ backend.js:6\nprintWarnings @ webpackHotDevClient.js:137\nhandleWarnings @ webpackHotDevClient.js:142\npush../node_modules/react-dev-utils/webpackHotDevClient.js.connection.onmessage @ webpackHotDevClient.js:209\n</code></pre>\n\n<p>my file names <a href=\"https://i.stack.imgur.com/tZ7Xt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tZ7Xt.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "php", "ajax"], "answers": [{"comments": [{"owner": {"reputation": 350, "user_id": 9050912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JnAjf.jpg?s=128&g=1", "display_name": "Cem Firat", "link": "https://stackoverflow.com/users/9050912/cem-firat"}, "edited": false, "score": 0, "creation_date": 1577310376, "post_id": 59481553, "comment_id": 105140515, "body": "thanks, have accepted your suggestion. Among other things, I deleted the //xhr.setRequestHeader(&#39;Content-Type &#39;,&#39; application / x-www-form-urlencoded &#39;); its work fine."}], "tags": [], "owner": {"reputation": 11162, "user_id": 11619647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0MnDA.jpg?s=128&g=1", "display_name": "Emiel Zuurbier", "link": "https://stackoverflow.com/users/11619647/emiel-zuurbier"}, "is_accepted": true, "score": 1, "last_activity_date": 1577306255, "last_edit_date": 1577306255, "creation_date": 1577304935, "answer_id": 59481553, "question_id": 59481303, "link": "https://stackoverflow.com/questions/59481303/count-button-pass-the-current-page-url-with-pure-javascript-ajax-to-the-php-vari/59481553#59481553", "title": "count button pass the current page URL with pure javascript Ajax to the php variable", "body": "<blockquote>\n  <p>Notice: Undefined index: url in /var/www/dist/lib/Counter/CounterReq.php on line 5</p>\n</blockquote>\n\n<p>The notice means that your are looking for a an index in an associative array that does not exist.<br>\nLet's tackle that.</p>\n\n<p>Store your data you want to send in a <code>FormData</code> object.</p>\n\n<pre><code>let url = window.location.href;\nconst data = new FormData()\ndata.set('url', url);\n</code></pre>\n\n<p>Modify your 'Content-Type' to <code>'multipart/form-data'</code> or remove it all the same. The <code>FormData</code> instance will automatically set the correct header.</p>\n\n<pre><code>xhr.setRequestHeader('Content-Type', 'multipart/form-data');\n</code></pre>\n\n<p>Send the data to the server in the <code>.send</code> method.</p>\n\n<pre><code>xhr.send(data);\n</code></pre>\n\n<p>Use the <code>$_POST</code> global array instead of <code>$_GET</code>, you are sending your data through the <code>POST</code> method so it will be in the former. </p>\n\n<p>The data that you have sent to the server has now been processed as an associative array. Check if the key of <code>url</code> exists in and store it if it does.</p>\n\n<pre><code>$url = isset( $_POST['url'] ) ? $_POST['url'] : '';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 350, "user_id": 9050912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JnAjf.jpg?s=128&g=1", "display_name": "Cem Firat", "link": "https://stackoverflow.com/users/9050912/cem-firat"}, "edited": false, "score": 0, "creation_date": 1577310143, "post_id": 59481555, "comment_id": 105140478, "body": "sorry, its was a my mistake; the question was not correct. now: $_REQUEST[&#39;url&#39;] instead of $_GET[&#39;url&#39;]"}], "tags": [], "owner": {"reputation": 1341, "user_id": 798223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/535bd46fb5e0fa234a2405b38525b9e9?s=128&d=identicon&r=PG", "display_name": "GKFX", "link": "https://stackoverflow.com/users/798223/gkfx"}, "is_accepted": false, "score": 1, "last_activity_date": 1577304950, "creation_date": 1577304950, "answer_id": 59481555, "question_id": 59481303, "link": "https://stackoverflow.com/questions/59481303/count-button-pass-the-current-page-url-with-pure-javascript-ajax-to-the-php-vari/59481555#59481555", "title": "count button pass the current page URL with pure javascript Ajax to the php variable", "body": "<p>You need to urlencode the variable you want to send and name it; change post to</p>\n\n<pre><code>let post = 'url=' + encodeURIComponent(url);\n</code></pre>\n\n<p>and it should work fine.</p>\n\n<p>Edit: I didn't notice that you're using the <code>_GET</code> array instead of <code>_POST</code>. As the other answer says, make that change too.</p>\n\n<p>However, it isn't necessary to use JSON; <code>application/x-www-form-urlencoded</code> works fine too.</p>\n"}], "owner": {"reputation": 350, "user_id": 9050912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JnAjf.jpg?s=128&g=1", "display_name": "Cem Firat", "link": "https://stackoverflow.com/users/9050912/cem-firat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 59481553, "answer_count": 2, "score": 0, "last_activity_date": 1577309987, "creation_date": 1577302250, "last_edit_date": 1592644375, "question_id": 59481303, "link": "https://stackoverflow.com/questions/59481303/count-button-pass-the-current-page-url-with-pure-javascript-ajax-to-the-php-vari", "title": "count button pass the current page URL with pure javascript Ajax to the php variable", "body": "<p>I try to <strong>pass the current page URL</strong> (<code>window.location.href</code>) with <strong>pure javascript Ajax</strong> to the <strong>php variable</strong> <code>$_REQUEST['url']</code>. what am I doing wrong?</p>\n<p>Counter.js:</p>\n<pre class=\"lang-js prettyprint-override\"><code>'use strict';\nlet clicks = document.querySelectorAll('.Counter-trigger'); // IE8\nlet voted = localStorage.getItem('voted');\nlet message = document.getElementById('Counter-message');\nlet count = document.getElementById('Counter-count');\nlet i;\nlet url;\nlet post;\nlet xhr;\n\nfor (let i = 0; i &lt; clicks.length; i++) {\n  clicks[i].onclick = function () {\n    if (voted == 'voted') {\n      message.innerHTML = &quot;Sorry, ...!!&quot;;\n    } else {\n      let url = window.location.href;\n      let post = url; // post string\n      let xhr = new XMLHttpRequest();\n      xhr.open('POST', './lib/Counter/CounterReq.php', true);\n      xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState != 4 || xhr.status != 200) return;\n        console.log(xhr.responseText);\n        message.innerHTML = &quot;Thanks!!&quot;;\n        count.innerHTML = +count.textContent+1;\n      };\n      xhr.send(post);\n      localStorage.setItem('rate', 'voted');\n      voted = 'voted';\n    }\n  }\n}\n</code></pre>\n<p>CounterReq.php</p>\n<pre class=\"lang-php prettyprint-override\"><code>$url = $_REQUEST['url']; // posted from page\n$origin = $_SERVER['DOCUMENT_ROOT'].parse_url($url,PHP_URL_PATH);\n$file = '_Counter.txt'; // counts is saved in this document\n$file_path = $origin.'_Counter.txt'; // counts is saved here\n$count = file_get_contents($file_path);\nif ($count == null){$count = 0; echo $count;\n}\n$count++; // increment count by 1\n$handle = fopen($file_path, &quot;w+&quot;);\nflock($handle,LOCK_EX); // LOCK_EX (2) exclusive locking for write access\nfwrite($handle, $count);\nflock($handle,LOCK_UN); // LOCK_EX (3) Releases a lock\nfclose($handle); // close file\n</code></pre>\n<p>index.php</p>\n<pre class=\"lang-php prettyprint-override\"><code>&lt;?php\n$path = $_SERVER['DOCUMENT_ROOT'].'/'.$_SERVER['REQUEST_URI']; // the path to the file\n$file = '_Counter.txt'; // the number of vote is saved here\n$file_path = $path.'_Counter.txt'; // the number of vote is saved here\nif (!file_exists($file)) { // if the file does not exist, it will be created\n    fopen($file, &quot;w&quot;); } // open file for writing only\n    $count = file_get_contents($file_path); // reads entire file into a string\n    if ($count == null){$count = 0;} // if the file empty, set count 0\n?&gt;\n&lt;button class=&quot;Counter-trigger&quot;&gt;vote&lt;/button&gt;\n&lt;span id=&quot;Counter-count&quot;&gt;'.$count.'&lt;/span&gt; times&lt;br&gt;\n&lt;div id=&quot;ClapsCounter-message&quot;&gt;&lt;/div&gt;\n&lt;script async src=&quot;./lib/Counter/Counter.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<h2>console.log:</h2>\n<p><b>Notice</b>:  Undefined index: url in <b>/var/www/dist/lib/Counter/CounterReq.php</b> on line <b>5</b><br /></p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 970, "user_id": 267706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57898b06cf611e1719aa39b126419a3b?s=128&d=identicon&r=PG", "display_name": "JohnC", "link": "https://stackoverflow.com/users/267706/johnc"}, "edited": false, "score": 0, "creation_date": 1577310787, "post_id": 59481294, "comment_id": 105140598, "body": "Are you able to build a simple example that replicates the problem in Codepen, Jsbin etc or StackOverflow snippet tool? This will make it much easier for others to help you."}, {"owner": {"reputation": 31, "user_id": 11342441, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_DNQ1VH1iKE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3remfSmUwMgjoRnQ9IeGSLJBA64jjw/mo/photo.jpg?sz=128", "display_name": "Jorn Reed", "link": "https://stackoverflow.com/users/11342441/jorn-reed"}, "reply_to_user": {"reputation": 970, "user_id": 267706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57898b06cf611e1719aa39b126419a3b?s=128&d=identicon&r=PG", "display_name": "JohnC", "link": "https://stackoverflow.com/users/267706/johnc"}, "edited": false, "score": 0, "creation_date": 1577546677, "post_id": 59481294, "comment_id": 105196126, "body": "<a href=\"https://codepen.io/janmoes/pen/YzPxrJz\" rel=\"nofollow noreferrer\">codepen.io/janmoes/pen/YzPxrJz</a>"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 11342441, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_DNQ1VH1iKE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3remfSmUwMgjoRnQ9IeGSLJBA64jjw/mo/photo.jpg?sz=128", "display_name": "Jorn Reed", "link": "https://stackoverflow.com/users/11342441/jorn-reed"}, "edited": false, "score": 0, "creation_date": 1577979463, "post_id": 59543863, "comment_id": 105299870, "body": "It does work untill you click on close and click on an image again, the image highlight block will appear without an image, if you click next or prev, it will show probably the first image of the gallery then. Checked it on the codepen link!"}, {"owner": {"reputation": 970, "user_id": 267706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57898b06cf611e1719aa39b126419a3b?s=128&d=identicon&r=PG", "display_name": "JohnC", "link": "https://stackoverflow.com/users/267706/johnc"}, "reply_to_user": {"reputation": 31, "user_id": 11342441, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_DNQ1VH1iKE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3remfSmUwMgjoRnQ9IeGSLJBA64jjw/mo/photo.jpg?sz=128", "display_name": "Jorn Reed", "link": "https://stackoverflow.com/users/11342441/jorn-reed"}, "edited": false, "score": 0, "creation_date": 1578000940, "post_id": 59543863, "comment_id": 105308256, "body": "Well spotted, I took so long to get a working solution I forgot to test it thoroughly. I think it is fixed now."}, {"owner": {"reputation": 31, "user_id": 11342441, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_DNQ1VH1iKE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3remfSmUwMgjoRnQ9IeGSLJBA64jjw/mo/photo.jpg?sz=128", "display_name": "Jorn Reed", "link": "https://stackoverflow.com/users/11342441/jorn-reed"}, "edited": false, "score": 0, "creation_date": 1579454213, "post_id": 59543863, "comment_id": 105763398, "body": "Sorry for the late response, it works perfectly. For example if i have 2 <code>.container</code> classes and they both have a gallery in it like my example, would that break your code, or will it work as two seperate galleries?"}, {"owner": {"reputation": 970, "user_id": 267706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57898b06cf611e1719aa39b126419a3b?s=128&d=identicon&r=PG", "display_name": "JohnC", "link": "https://stackoverflow.com/users/267706/johnc"}, "reply_to_user": {"reputation": 31, "user_id": 11342441, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_DNQ1VH1iKE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3remfSmUwMgjoRnQ9IeGSLJBA64jjw/mo/photo.jpg?sz=128", "display_name": "Jorn Reed", "link": "https://stackoverflow.com/users/11342441/jorn-reed"}, "edited": false, "score": 0, "creation_date": 1579458320, "post_id": 59543863, "comment_id": 105764544, "body": "The easy option is to use 2 pages for 2 galleries and then just change the images.  You might be able to replicate a second gallery under the 1st one by  duplicating most of the code and renaming a few things.   Or would you want to select a gallery from a list and then display only 1 gallery at a time per page?  That would be more of a redesign I think. If you can accept my answer that would be appreciated."}, {"owner": {"reputation": 31, "user_id": 11342441, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_DNQ1VH1iKE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3remfSmUwMgjoRnQ9IeGSLJBA64jjw/mo/photo.jpg?sz=128", "display_name": "Jorn Reed", "link": "https://stackoverflow.com/users/11342441/jorn-reed"}, "edited": false, "score": 0, "creation_date": 1579490166, "post_id": 59543863, "comment_id": 105771230, "body": "i made the website for a tattoo artist and he wants to have multiple galleries (per category) on the same page, every gallery div is sepearate by a <code>&lt;hr &#47;&gt;</code>"}], "tags": [], "owner": {"reputation": 970, "user_id": 267706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57898b06cf611e1719aa39b126419a3b?s=128&d=identicon&r=PG", "display_name": "JohnC", "link": "https://stackoverflow.com/users/267706/johnc"}, "is_accepted": false, "score": 0, "last_activity_date": 1578034631, "last_edit_date": 1578034631, "creation_date": 1577793526, "answer_id": 59543863, "question_id": 59481294, "link": "https://stackoverflow.com/questions/59481294/adding-next-and-prev-buttons-to-jquery-image-gallery/59543863#59543863", "title": "Adding next and prev buttons to jQuery image gallery", "body": "<p>How about this?  I eventually got the prev and next buttons working.</p>\n\n<pre><code>    [https://codepen.io/newschapmj1/pen/WNbZOYy][1]\n  $(document).ready(function () {\n      //newimg1 - temp copy of img1\n      var img1, newimg1;\n      const block = $(\".image-viewer\");\n\n      $('.img-highlight').click(function () {\n        const el = $(\".photo-size\");\n        el.css(\"display\", \"block\");\n\n        //$('div.newgallery').empty();  //empty destination\n        img1 = $(this);\n        console.log('click img1', img1);\n\n        var src = $(this).attr('src');\n\n        $(this).clone().appendTo(block).attr('src', src).addClass('highlighted-img');\n      });\n\n      $('.next').click(function (ev) {\n\n        ev.preventDefault();\n\n        newimg1 = $(img1).parent().next().children();\n\n        if (newimg1.length &gt; 0) {\n          // image found\n          $(block.empty());\n          $(newimg1).clone().appendTo(block);\n\n          $(block).addClass('highlighted-img');\n          img1 = newimg1;\n        }\n        else {\n          //no image - so do nothing\n        }\n\n      });\n\n      $('.prev').click(function (ev) {\n\n        ev.preventDefault();\n\n        newimg1 = $(img1).parent().prev().children();\n\n        if (newimg1.length &gt; 0) {\n          // image found\n          $(block.empty());\n          $(newimg1).clone().appendTo(block);\n\n          $(block).addClass('highlighted-img');\n          img1 = newimg1;\n        }\n        else {\n          //no image - so do nothing\n        }\n\n      });\n\n\n      $('.close').click(function (ev) {\n        ev.preventDefault();\n\n        $(block).removeClass('highlighted-img');\n        $(block.empty());\n\n        $(\".photo-size\").css(\"display\", \"none\");\n        img1 = null;\n        newimg1 = null;\n\n      });\n\n    });\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11342441, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_DNQ1VH1iKE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3remfSmUwMgjoRnQ9IeGSLJBA64jjw/mo/photo.jpg?sz=128", "display_name": "Jorn Reed", "link": "https://stackoverflow.com/users/11342441/jorn-reed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1578034631, "creation_date": 1577302140, "last_edit_date": 1577317094, "question_id": 59481294, "link": "https://stackoverflow.com/questions/59481294/adding-next-and-prev-buttons-to-jquery-image-gallery", "title": "Adding next and prev buttons to jQuery image gallery", "body": "<p>I've made an image gallery using jQuery (click on the image and it appears big on the screen). \nHence I wanted to add a 'next' and 'prev' button to switch from view, basically replacing the src attribute from the image highlighter with the next or previous image when clicked. But this doesn't seem to be working.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"row\"&gt;\n        &lt;div class=\"col-md-2 col-sm-6 test-padding\"&gt;\n            &lt;img src=\"http://www.truestorytattoo.nl/wp-content/uploads/2019/12/bg-flower-1.jpg\" class=\"img-padding img-highlight\" style=\"width: 100%;\"/&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"col-md-2 col-sm-6 test-padding\"&gt;\n            &lt;img src=\"http://www.truestorytattoo.nl/wp-content/uploads/2019/12/bg-flower-2.jpg\" class=\"img-padding img-highlight\" style=\"width: 100%;\"/&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"col-md-2 col-sm-6 test-padding\"&gt;\n            &lt;img src=\"http://www.truestorytattoo.nl/wp-content/uploads/2019/12/bg-flower-3.jpg\" class=\"img-padding img-highlight\" style=\"width: 100%;\"/&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"col-md-2 col-sm-6 test-padding\"&gt;\n            &lt;img src=\"http://www.truestorytattoo.nl/wp-content/uploads/2019/12/hand-rose55.jpg\" class=\"img-padding img-highlight\" style=\"width: 100%;\"/&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"col-md-2 col-sm-6 test-padding\"&gt;\n            &lt;img src=\"http://www.truestorytattoo.nl/wp-content/uploads/2019/12/ROSE-BLACK.jpg\" class=\"img-padding img-highlight\" style=\"width: 100%;\"/&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"col-md-2 col-sm-6 test-padding\"&gt;\n            &lt;img src=\"http://www.truestorytattoo.nl/wp-content/uploads/2019/12/rose-blgr.jpg\" class=\"img-padding img-highlight\" style=\"width: 100%;\"/&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n        &lt;div class=\"photo-size\"&gt;\n            &lt;a href=\"#\" class=\"close\"&gt;CLOSE&lt;/a&gt;\n            &lt;div class=\"image-viewer\"&gt;&lt;/div&gt;\n            &lt;a href=\"#\" class=\"next\"&gt;NEXT&lt;/a&gt;\n            &lt;a href=\"#\" class=\"prev\"&gt;PREV&lt;/a&gt;\n           &lt;/div&gt;\n</code></pre>\n\n<p>I'm not even sure if the <code>next</code> function is in the right position for overwriting the data:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$( document ).ready(function() {\n    $('.img-highlight').click(function () {\n        const el = $(\".photo-size\");\n        el.css(\"display\", \"block\");\n        var src = $(this).attr('src');\n        const block = $(\".image-viewer\");\n        $(this).clone().appendTo(block).attr('src', src).addClass('highlighted-img');\n        $('.next').click(function(ev){\n            ev.preventDefault();\n            var src = $(this).parent().next().find('img').attr('src');\n            alert(src);\n        });\n    });\n\n    $('.close').click(function (ev) {\n        ev.preventDefault();\n        $('.image-viewer').empty()\n        $(\".photo-size\").css(\"display\", \"none\");\n    });\n\n});\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "sockets", "socket.io"], "comments": [{"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1577308799, "post_id": 59481292, "comment_id": 105140273, "body": "You will have to show us where the <code>username</code> variable is defined and what code is supposed to set it before you call this <code>io.emit()</code>.  You haven&#39;t shown us any of that code so we have no idea why it&#39;s not defined other than you never defined the variable in this scope.  I hope you realize that receiving some data via socket.io does not automatically define any variables that you can just reference like you are with <code>username</code>."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1577308884, "post_id": 59481292, "comment_id": 105140290, "body": "Are you supposed to be referencing <code>msg.username</code> instead of just <code>username</code>?"}, {"owner": {"reputation": 55, "user_id": 12587088, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bRubh14Z1G8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rezvWazoEYDGr_n1_j9n8wsqLly0w/photo.jpg?sz=128", "display_name": "baddeveloper22", "link": "https://stackoverflow.com/users/12587088/baddeveloper22"}, "reply_to_user": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1577317890, "post_id": 59481292, "comment_id": 105141585, "body": "Possibly? Is socket io taking the whole object that the socket emits and putting setting it to msg? I did show where the username variable is defined, at least the part that matters, on the webpage when inspected those variables take the value they need to have, so those aren&#39;t the issue. I suspect you&#39;re onto something with msg.username so I&#39;ll double check if any tweaks to that will fix the issue. Will update shortly."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 12587088, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bRubh14Z1G8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rezvWazoEYDGr_n1_j9n8wsqLly0w/photo.jpg?sz=128", "display_name": "baddeveloper22", "link": "https://stackoverflow.com/users/12587088/baddeveloper22"}, "edited": false, "score": 0, "creation_date": 1577335455, "post_id": 59482680, "comment_id": 105143592, "body": "Thank you, I forgot to comment after your initial comment on the post but I changed it with the msg.username extension and it worked as intended, but thank you a lot for the help!"}], "tags": [], "owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "is_accepted": true, "score": 1, "last_activity_date": 1577318478, "creation_date": 1577318478, "answer_id": 59482680, "question_id": 59481292, "link": "https://stackoverflow.com/questions/59481292/problems-with-multiple-variable-socket-io-emits/59482680#59482680", "title": "Problems with multiple variable socket.io emits", "body": "<p>When you do this in the client:</p>\n\n<pre><code>socket.emit('chatMessage', { message: $('#messageField').val(), username: userName, tag: userTag, userpiclink: userPicture});\n</code></pre>\n\n<p>That means that when you receive it in the server here:</p>\n\n<pre><code> socket.on('chatMessage', function(msg){\n    io.emit('chatMessage', { sendmessage: msg, sendname: username, sendertag: tag, postpiclink: userpiclink });\n    console.log('message: ' + sendmessage + sendname + sendertag + postpiclink);\n });\n</code></pre>\n\n<p>That means that <code>msg</code> will be the entire object you sent.  So, if you want the username from that object, you need to refer to:</p>\n\n<pre><code>msg.username\n</code></pre>\n\n<p>not just</p>\n\n<pre><code>username\n</code></pre>\n\n<p>So, you would change to this:</p>\n\n<pre><code>socket.on('chatMessage', function(msg){\n    io.emit('chatMessage', { sendmessage: msg, sendname: msg.username, sendertag: msg.tag, postpiclink: msg.userpiclink });\n    console.log('message: ' + sendmessage + sendname + sendertag + postpiclink);\n});\n</code></pre>\n\n<p>FYI, it's redundant to be sending the entire <code>msg</code> object and then also be sending three individual properties again all in the same message.  You're essentially sending those three properties twice.</p>\n"}], "owner": {"reputation": 55, "user_id": 12587088, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bRubh14Z1G8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rezvWazoEYDGr_n1_j9n8wsqLly0w/photo.jpg?sz=128", "display_name": "baddeveloper22", "link": "https://stackoverflow.com/users/12587088/baddeveloper22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 59482680, "answer_count": 1, "score": 0, "last_activity_date": 1577318478, "creation_date": 1577302117, "question_id": 59481292, "link": "https://stackoverflow.com/questions/59481292/problems-with-multiple-variable-socket-io-emits", "title": "Problems with multiple variable socket.io emits", "body": "<p>So I followed a couple questions about a similar question, however, the questions and their appropriate solutions were from multiple years ago, and since then socket.io has seen several updates which make their code unusable. I've tried adapting it to fit v2.3.0 but it does not work.</p>\n\n<p>I'm trying to make a chat application which has several variables that I'm trying to emit with each io.emit event (picture, name, tag, message, etc.)</p>\n\n<p>At the moment, my server-side code looks as such:</p>\n\n<pre><code>    socket.on('chatMessage', function(msg){\n        io.emit('chatMessage', { sendmessage: msg, sendname: username, sendertag: tag, postpiclink: userpiclink });\n        console.log('message: ' + sendmessage + sendname + sendertag + postpiclink);\n    });\n</code></pre>\n\n<p>There is obviously more than just this but this is the only relevant code and the rest of it functions as it should. On my client side, each event sends all the variables (I believe) along with the event. It looks as such:</p>\n\n<pre><code>    var userName = \"&lt;?=$_SESSION['userName'];?&gt;\"\n    var userTag = \"&lt;?php if($userRank == 7) { echo \"[Owner]\";} elseif ($userRank == 3) { echo \"[Mod]\";} elseif ($userRank == 5) { echo \"[Admin]\";} else {}?&gt;\"\n    var userPicture = \"&lt;?=$userPicture?&gt;\"\n            $('.chatMessageSubmitForm').submit(function(e){\n                e.preventDefault();\n                e.stopPropagation();\n                socket.emit('chatMessage', { message: $('#messageField').val(), username: userName, tag: userTag, userpiclink: userPicture});\n                $('#messageField').val('');\n                return false;\n            });\n            socket.on('chatMessage', function(msg){\n                $('.chatMessageList').append($('&lt;li&gt;&lt;img src=\"'+ postpiclink + '\"class=\"chatMessageUserPicture\"&gt;&lt;h2 class=\"chatUserName\"&gt;' + sendertag + sendname + '&lt;/h2&gt;').text(sendmessage));\n            });\n</code></pre>\n\n<p>As far as I'm aware this should be formatted correctly, however when I try to send a chat message the following message appears on my server terminal:</p>\n\n<pre><code>io.emit('chatMessage', { sendmessage: msg, sendname: username, sendertag: tag, postpiclink: userpiclink });\n\nReferenceError: username is not defined\n</code></pre>\n\n<p>I'm not entirely braindead so obviously it isn't receiving the username variable when the socket emits it, but I have no clue why. Any help would be greatly appreciated.</p>\n"}, {"tags": ["javascript", "breakout"], "comments": [{"owner": {"reputation": 48099, "user_id": 1405634, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/218ed9884ff6fa541a821187836ade50?s=128&d=identicon&r=PG", "display_name": "Prisoner", "link": "https://stackoverflow.com/users/1405634/prisoner"}, "edited": false, "score": 1, "creation_date": 1577301990, "post_id": 59481264, "comment_id": 105139188, "body": "You said &quot;error occurred&quot;. Can you update the question to show the errors you&#39;re getting?"}, {"owner": {"reputation": 665, "user_id": 12162243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ih7E1.jpg?s=128&g=1", "display_name": "PajLe", "link": "https://stackoverflow.com/users/12162243/pajle"}, "edited": false, "score": 1, "creation_date": 1577302806, "post_id": 59481264, "comment_id": 105139298, "body": "<code>let step = funtion()</code> is this typo present in your code as well, or is it just here on stackoverflow? (Should be <code>let step = function()</code>"}, {"owner": {"reputation": 69, "user_id": 11712965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e796563c0ec40ea71f54f34586f695bc?s=128&d=identicon&r=PG&f=1", "display_name": "hs96", "link": "https://stackoverflow.com/users/11712965/hs96"}, "reply_to_user": {"reputation": 665, "user_id": 12162243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ih7E1.jpg?s=128&g=1", "display_name": "PajLe", "link": "https://stackoverflow.com/users/12162243/pajle"}, "edited": false, "score": 1, "creation_date": 1577303517, "post_id": 59481264, "comment_id": 105139400, "body": "Ahhh that&#39;s exactly where my error came from. Thanks @Pajacar123. Sorry about the inconvenience for such mistake. I couldn&#39;t track the error when i was running the code in Atom. I was wondering if there&#39;s a way to have at least a warning or error message displayed so that i can easily keep track of the code status. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 665, "user_id": 12162243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ih7E1.jpg?s=128&g=1", "display_name": "PajLe", "link": "https://stackoverflow.com/users/12162243/pajle"}, "is_accepted": true, "score": 1, "last_activity_date": 1577304068, "creation_date": 1577304068, "answer_id": 59481476, "question_id": 59481264, "link": "https://stackoverflow.com/questions/59481264/how-to-keep-the-ball-within-the-wall-boundaries-in-javascript-breakout-game/59481476#59481476", "title": "How to keep the ball within the wall boundaries in JavaScript breakout game?", "body": "<p>The problem is a typo: </p>\n\n<pre><code>let step = funtion()\n</code></pre>\n\n<p>Change it to:</p>\n\n<pre><code>let step = function()\n</code></pre>\n\n<p>Consider using some IDE/Editor which will notify you for such typos. I used visual studio code which told me something was wrong:</p>\n\n<hr>\n\n<ul>\n<li>Before fixing your typo</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/imFjA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/imFjA.png\" alt=\"Before fixing\"></a></p>\n\n<ul>\n<li>After fixing your typo</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/f59L8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f59L8.png\" alt=\"After fixing\"></a></p>\n"}], "owner": {"reputation": 69, "user_id": 11712965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e796563c0ec40ea71f54f34586f695bc?s=128&d=identicon&r=PG&f=1", "display_name": "hs96", "link": "https://stackoverflow.com/users/11712965/hs96"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 59481476, "answer_count": 1, "score": 0, "last_activity_date": 1577304068, "creation_date": 1577301877, "question_id": 59481264, "link": "https://stackoverflow.com/questions/59481264/how-to-keep-the-ball-within-the-wall-boundaries-in-javascript-breakout-game", "title": "How to keep the ball within the wall boundaries in JavaScript breakout game?", "body": "<p>I'm creating a Javascript breakout game but have an issue with keeping the ball within the wall boundaries. </p>\n\n<p>On running the program, the paddle works fine with a static ball created right in the middle of the window. Until i set the code to keep the ball within the wall boundaries (top, left, and right), at this point, error occurred and the whole program ceased to work. </p>\n\n<p>I've tried several if/else variations to mend it but can't figure out why the code is not working. JavaScript code as follows:</p>\n\n<pre><code>function createPaddle(gw) {\n  let x0 = (gw.getWidth() - PADDLE_WIDTH) / 2;\n  let y0 = PADDLE_Y;\n  let paddle = GRect(x0, y0, PADDLE_WIDTH, PADDLE_HEIGHT);\n  paddle.setFilled(true);\n  gw.add(paddle);\n\n  let mouseMoveAction = function(e) {\n    let x = e.getX() - (PADDLE_WIDTH / 2);\n    let y = PADDLE_Y;\n    if (x &gt; 0 &amp;&amp; x &lt;= gw.getWidth() - PADDLE_WIDTH) {\n      paddle.setLocation(x, y);\n    }\n  };\n  gw.addEventListener(\"mousemove\", mouseMoveAction);\n}\n\n\nfunction createBall(gw) {\n  let centerX = gw.getWidth() / 2;\n  let centerY = gw.getHeight() / 2;\n  let x0 = centerX - (BALL_SIZE / 2);\n  let y0 = centerY - (BALL_SIZE / 2);\n  let ball = GOval(x0, y0, BALL_SIZE, BALL_SIZE);\n  ball.setFilled(true);\n  gw.add(ball);\n\n  let clickAction = function(e) {\n    let vy = INITIAL_Y_VELOCITY;\n    let vx = randomReal(MIN_X_VELOCITY, MAX_X_VELOCITY);\n    if (randomChance()) vx = -vx;\n\n    let step = funtion() {\n      if (ball.getX() &gt; 0 &amp;&amp; ball.getY() &gt; 0 &amp;&amp;\n          ball.getX() &lt; gw.getWidth() - BALL_SIZE &amp;&amp;\n          ball.getY() &lt; gw.getHeight() - BALL_SIZE) {\n        ball.move(vx, vy);\n      } if (ball.getX() &lt; 0 || ball.getX() &gt; gw.getWidth() - BALL_SIZE) {\n        vx = -vx;\n        ball.move(vx, vy);\n      } if (ball.getY() &lt; 0) {\n        vy = -vy;\n        ball.move(vx, vy);\n      } else if (ball.getY() &gt; gw.getHeight() - BALL_SIZE) {\n        clearInterval(timer);\n      }\n    };\n    let timer = setInterval(step, TIME_STEP);\n  };\n  gw.addEventListener(\"click\", clickAction);\n}\n</code></pre>\n\n<p>Your help is much appreciated. Thanks!</p>\n"}, {"tags": ["javascript", "reactjs", "firebase", "firebase-authentication", "react-router-dom"], "comments": [{"owner": {"reputation": 3447, "user_id": 4855817, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OBpzT.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4855817/alex"}, "edited": false, "score": 0, "creation_date": 1577357402, "post_id": 59481184, "comment_id": 105149470, "body": "I&#39;ve checked your code. authenticated user with <code>&#47;settings</code> route loads the settings page! but unauthenticated user went to 404 page.do you want unauthenticated user renders the to login page?"}, {"owner": {"reputation": 47, "user_id": 12541194, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAuMnSbrEYbQmdNWoCKQVrDRFFJJIb25DxbKWQJ=k-s128", "display_name": "ishwak sharda", "link": "https://stackoverflow.com/users/12541194/ishwak-sharda"}, "reply_to_user": {"reputation": 3447, "user_id": 4855817, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OBpzT.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4855817/alex"}, "edited": false, "score": 0, "creation_date": 1577454629, "post_id": 59481184, "comment_id": 105175658, "body": "It doesn&#39;t render the /settings when the user is authenticated, that is the problem, it redirects to /404. even if the user is authenticated."}, {"owner": {"reputation": 3447, "user_id": 4855817, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OBpzT.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4855817/alex"}, "edited": false, "score": 0, "creation_date": 1577455050, "post_id": 59481184, "comment_id": 105175801, "body": "check this sample please <a href=\"https://codesandbox.io/s/react-router-dom-0xq6u\" rel=\"nofollow noreferrer\">codesandbox.io/s/react-router-dom-0xq6u</a>"}], "owner": {"reputation": 47, "user_id": 12541194, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAuMnSbrEYbQmdNWoCKQVrDRFFJJIb25DxbKWQJ=k-s128", "display_name": "ishwak sharda", "link": "https://stackoverflow.com/users/12541194/ishwak-sharda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 177, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1577301019, "creation_date": 1577301019, "question_id": 59481184, "link": "https://stackoverflow.com/questions/59481184/react-router-dom-not-rendering-the-conditional-routes-login-and-auth", "title": "React router dom not rendering the conditional routes (login and auth)", "body": "<p>I have a login page and an auth page (a private page). I render them conditionally, so when the user if authenticaded, it redirects it to go to render that routes and not the login routes.</p>\n\n<p>The problem is that when in the URL, I put /settings (the user s authenticated), it doesn't render it, instead, it redirects me to ./404 (which I made when it finds that the route doesn't exist, but this route exists).</p>\n\n<p>There is the following code from the files:</p>\n\n<p><em>./App.js</em></p>\n\n<pre><code>...\nrender() {\n    let Routing;\n    if (!this.state.loading_auth) {\n      if (this.state.auth) {\n        Routing = &lt;Dashboard auth={this.state.auth} /&gt;;\n      } else {\n        Routing = &lt;Init auth={this.state.auth} /&gt;;\n      }\n    } else if (this.props.loading || this.state.loading_auth) {\n      Routing = &lt;h1&gt;Loading...&lt;/h1&gt;;\n    }\n\n    return &lt;BrowserRouter&gt;{Routing}&lt;/BrowserRouter&gt;;\n  }\n...\n</code></pre>\n\n<p><em>./Dashboard.js</em></p>\n\n<pre><code>...\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;Navbar /&gt;\n        &lt;Switch&gt;\n          &lt;Route exact path=\"/\"&gt;\n            &lt;MainPage auth={this.props.auth} /&gt;\n          &lt;/Route&gt;\n          &lt;Route path=\"/settings\"&gt;\n            &lt;Settings /&gt;\n          &lt;/Route&gt;\n          &lt;Route\n            path=\"/404\"\n            render={() =&gt; (\n              &lt;h1&gt;\n                Page not found, auth, go &lt;Link to=\"/\"&gt;home&lt;/Link&gt;\n              &lt;/h1&gt;\n            )}\n          /&gt;\n          &lt;Redirect from=\"*\" to=\"/404\" /&gt;\n        &lt;/Switch&gt;\n      &lt;/div&gt;\n    );\n</code></pre>\n\n<p><em>./Init.js</em></p>\n\n<pre><code>...\nrender() {\n    return (\n      &lt;div&gt;\n        &lt;Navbar /&gt;\n        &lt;Switch&gt;\n          &lt;Route exact path=\"/\"&gt;\n            &lt;LandingPage /&gt;\n          &lt;/Route&gt;\n          &lt;Route path=\"/login\"&gt;\n            &lt;LoginPage /&gt;\n          &lt;/Route&gt;\n          &lt;Route path=\"/signup\"&gt;\n            &lt;SignupPage /&gt;\n          &lt;/Route&gt;\n          &lt;Route path=\"/forget\"&gt;\n            &lt;Forget /&gt;\n          &lt;/Route&gt;\n          &lt;Route\n            path=\"/404\"\n            render={() =&gt; (\n              &lt;h1&gt;\n                Page not found, not auth, go &lt;Link to=\"/\"&gt;home&lt;/Link&gt;\n              &lt;/h1&gt;\n            )}\n          &gt;&lt;/Route&gt;\n          &lt;Redirect from=\"*\" to=\"/404\" /&gt;\n        &lt;/Switch&gt;\n      &lt;/div&gt;\n    );\n  }\n</code></pre>\n\n<p>Where am I doing wrong? Thanks for your answer :)</p>\n"}, {"tags": ["javascript", "mysql", "logging", "sequelize.js"], "answers": [{"tags": [], "owner": {"reputation": 3010, "user_id": 3415984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sTrps.jpg?s=128&g=1", "display_name": "ttrasn", "link": "https://stackoverflow.com/users/3415984/ttrasn"}, "is_accepted": true, "score": 1, "last_activity_date": 1577346707, "creation_date": 1577346707, "answer_id": 59485472, "question_id": 59481110, "link": "https://stackoverflow.com/questions/59481110/how-to-add-logging-for-sequelize-update/59485472#59485472", "title": "How to add logging for sequelize update", "body": "<p>I found solution.</p>\n\n<p>that was so easy just adding <code>logging:true</code> in options.</p>\n\n<pre><code>TableModel.update(\n    {counter: 0},\n    {\n        where: {\n            id: itm.i\n        },\n        logging:true\n    }\n    ).then((res) =&gt;{\n        console.log('res',res);\n    }).catch(e =&gt; {\n        console.log('update error : ', e);\n    });\n</code></pre>\n"}], "owner": {"reputation": 3010, "user_id": 3415984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sTrps.jpg?s=128&g=1", "display_name": "ttrasn", "link": "https://stackoverflow.com/users/3415984/ttrasn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 0, "accepted_answer_id": 59485472, "answer_count": 1, "score": 1, "last_activity_date": 1577346707, "creation_date": 1577300162, "last_edit_date": 1577304991, "question_id": 59481110, "link": "https://stackoverflow.com/questions/59481110/how-to-add-logging-for-sequelize-update", "title": "How to add logging for sequelize update", "body": "<p>In my project <code>sequelize</code> logging is disabled, but I want active logging in the exact query.</p>\n\n<p>How can I do that?</p>\n\n<pre><code>TableModel.update(\n    {counter: 0},\n    {where: {\n        id: itm.i\n    }},\n    ).then((res) =&gt;{\n        console.log('res',res);\n    }).catch(e =&gt; {\n        console.log('update error : ', e);\n    });\n</code></pre>\n\n<p>I know how I can do it in findall query like this:</p>\n\n<pre><code>TableModel.findAll({where: {...}, logging: console.log})\n</code></pre>\n\n<p>but in the update, I can't find any solution.</p>\n\n<p><strong>sequelize version: 5.21</strong> </p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 1278, "user_id": 7822426, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5xCPplMlhFk/AAAAAAAAAAI/AAAAAAAAPkU/PR9rcRkEtvg/photo.jpg?sz=128", "display_name": "tobiasfried", "link": "https://stackoverflow.com/users/7822426/tobiasfried"}, "edited": false, "score": 0, "creation_date": 1577300214, "post_id": 59481076, "comment_id": 105138876, "body": "Add some more context on how <code>state</code> is used in the UI. There is nothing inherently fishy about your <code>setRecommendations()</code> function."}, {"owner": {"reputation": 1333, "user_id": 5167502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-jTyHQ157oR0/AAAAAAAAAAI/AAAAAAAAABk/frYq29Dp2Xk/photo.jpg?sz=128", "display_name": "hjm", "link": "https://stackoverflow.com/users/5167502/hjm"}, "edited": false, "score": 1, "creation_date": 1577300527, "post_id": 59481076, "comment_id": 105138948, "body": "you should add all the code you are using in your component, it will be easier to know whats wrong"}, {"owner": {"reputation": 563, "user_id": 10096110, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0g5nwPEc2Pw/AAAAAAAAAAI/AAAAAAAAHHQ/dEIYkXL0iZQ/photo.jpg?sz=128", "display_name": "Tyler Strouth", "link": "https://stackoverflow.com/users/10096110/tyler-strouth"}, "edited": false, "score": 0, "creation_date": 1577467570, "post_id": 59481076, "comment_id": 105180554, "body": "I added more code, let me know if there&#39;s anything else you want to see. I will admit my function that setRecommendations is calling is kind of lengthy and could take a while, but it is so strange that I click login, and then login and wait and no matter how long I wait nothing shows until the second click."}, {"owner": {"reputation": 14845, "user_id": 522877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/23600761a82cabda402d13f1bf45bfff?s=128&d=identicon&r=PG", "display_name": "Wex", "link": "https://stackoverflow.com/users/522877/wex"}, "edited": false, "score": 0, "creation_date": 1577467937, "post_id": 59481076, "comment_id": 105180691, "body": "Rather than using bind your can change your method declaration to <code>search = (term) =&gt; { ... }</code>. This attaches the method to the instance instead of the prototype, and has the same effect as binding in the constructor."}, {"owner": {"reputation": 563, "user_id": 10096110, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0g5nwPEc2Pw/AAAAAAAAAAI/AAAAAAAAHHQ/dEIYkXL0iZQ/photo.jpg?sz=128", "display_name": "Tyler Strouth", "link": "https://stackoverflow.com/users/10096110/tyler-strouth"}, "edited": false, "score": 0, "creation_date": 1577468171, "post_id": 59481076, "comment_id": 105180756, "body": "Just to be clear, I could, maybe should, do this for all functions? Because search is a leftover function that I don&#39;t really use anymore, that I forgot to delete."}, {"owner": {"reputation": 14845, "user_id": 522877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/23600761a82cabda402d13f1bf45bfff?s=128&d=identicon&r=PG", "display_name": "Wex", "link": "https://stackoverflow.com/users/522877/wex"}, "edited": false, "score": 0, "creation_date": 1577468455, "post_id": 59481076, "comment_id": 105180828, "body": "Well no, you should only do this when you need effect of the <code>this</code> binding in the constructor. In other cases it&#39;s better to use the regular syntax to keep the method attached to the prototype so that the same function can be reused for every instance of the class."}, {"owner": {"reputation": 14845, "user_id": 522877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/23600761a82cabda402d13f1bf45bfff?s=128&d=identicon&r=PG", "display_name": "Wex", "link": "https://stackoverflow.com/users/522877/wex"}, "edited": false, "score": 0, "creation_date": 1577468726, "post_id": 59481076, "comment_id": 105180933, "body": "Also, have you considered using a linter for your code? I like eslint. I&#39;d also recommend prettier, which has some nice IDE integrations (I use vscode). I&#39;d also highly recommend TypeScript - I personally don&#39;t write vanilla JavaScript anymore, and according to the 2019 State of JavaScript it&#39;s one of the hottest languages to learn."}, {"owner": {"reputation": 563, "user_id": 10096110, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0g5nwPEc2Pw/AAAAAAAAAAI/AAAAAAAAHHQ/dEIYkXL0iZQ/photo.jpg?sz=128", "display_name": "Tyler Strouth", "link": "https://stackoverflow.com/users/10096110/tyler-strouth"}, "edited": false, "score": 0, "creation_date": 1577643798, "post_id": 59481076, "comment_id": 105215118, "body": "I can tell you exactly what is wrong now. The foundation for this was a codecademy project that is purely client side 100% in React and JavaScript. Whatever they are doing in getAccessToken must be done first. Before anything requiring an Access Token can be done. You may see in the else clause of the function nothing is done after <code>window.location=[the url]</code> thus if a function calls getAccessToken, if it is the first time they will not receive anything, it won&#39;t be until the second time it is called that a token will be returned. Now if you have suggestions for that let me know"}, {"owner": {"reputation": 1287, "user_id": 5767099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1144731518892203/picture?type=large", "display_name": "Claudio Cortese", "link": "https://stackoverflow.com/users/5767099/claudio-cortese"}, "edited": false, "score": 0, "creation_date": 1577644516, "post_id": 59481076, "comment_id": 105215281, "body": "Just a little note here, make sure to use <code>className</code> and not <code>class</code>, as <code>class</code> is a reserved keyword in JavaScript. So instead of <code>&lt;button class=&quot;button&quot;&gt;</code> it should be <code>&lt;button className=&quot;button&quot;&gt;</code>"}, {"owner": {"reputation": 1287, "user_id": 5767099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1144731518892203/picture?type=large", "display_name": "Claudio Cortese", "link": "https://stackoverflow.com/users/5767099/claudio-cortese"}, "edited": false, "score": 0, "creation_date": 1577645201, "post_id": 59481076, "comment_id": 105215487, "body": "Another note, to avoid <code>props drilling</code> and simplify the code, you can use the Context API or React Redux. So that you can provide <code>tracks</code> to <code>Tracklist</code> directly, without providing them as prop to <code>RecommendationResults</code> first."}], "answers": [{"tags": [], "owner": {"reputation": 563, "user_id": 10096110, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0g5nwPEc2Pw/AAAAAAAAAAI/AAAAAAAAHHQ/dEIYkXL0iZQ/photo.jpg?sz=128", "display_name": "Tyler Strouth", "link": "https://stackoverflow.com/users/10096110/tyler-strouth"}, "is_accepted": true, "score": 0, "last_activity_date": 1577660329, "creation_date": 1577660329, "answer_id": 59524042, "question_id": 59481076, "link": "https://stackoverflow.com/questions/59481076/i-have-to-click-the-button-twice-to-get-states-to-render-correctly-in-react/59524042#59524042", "title": "I have to click the button twice to get states to render correctly in React", "body": "<p>The problem being that <code>getAccessToken()</code> needed to be called once again after <code>window.location</code> is called. It was decided that calling <code>getAccessToken()</code> in the else block after <code>window.location</code> should be sufficient and thus solves this issue.</p>\n"}], "owner": {"reputation": 563, "user_id": 10096110, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0g5nwPEc2Pw/AAAAAAAAAAI/AAAAAAAAHHQ/dEIYkXL0iZQ/photo.jpg?sz=128", "display_name": "Tyler Strouth", "link": "https://stackoverflow.com/users/10096110/tyler-strouth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 59524042, "answer_count": 1, "score": 1, "last_activity_date": 1577660329, "creation_date": 1577299837, "last_edit_date": 1577643735, "question_id": 59481076, "link": "https://stackoverflow.com/questions/59481076/i-have-to-click-the-button-twice-to-get-states-to-render-correctly-in-react", "title": "I have to click the button twice to get states to render correctly in React", "body": "<p>I am working with React and I have a button that is suppose to set a state</p>\n\n<pre><code>&lt;button class=\"button\" onClick={this.setRecommendations}&gt;\n            Log Into Spotify\n&lt;/button&gt;\n</code></pre>\n\n<p>This calls the fucntion</p>\n\n<pre><code>setRecommendations(){\n    recommendations().then(recs =&gt; {\n      this.setState({recommendations: recs});\n    });\n  }\n</code></pre>\n\n<p>which updates this state <code>recommendations: [],</code> so when I click the button I wait a while, and nothing happens, but sure enough no matter how long I wait the moment I click the button again, results begin to display. </p>\n\n<p>I know that setState is async but this code mimics an similar function that displayed results more instantaneously with just one click, is there anything I can do to make it work with one click?</p>\n\n<p>*******update with more code*******</p>\n\n<p>This is my app</p>\n\n<pre><code>  class App extends React.Component {\n  //constructor\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      searchResults: [],\n      recommendations: [],\n      playlistName: 'New Playlist',\n      playlistTracks: [],\n      topAlbums: [\"Cats\", \"Wicked\", \"Heathers\", \"Charli\", \"Little Mermaind\"],\n      album_count: [10, 20, 25, 30, 35],\n      topArtist: [\"Dua Lipa\", \"Sierra Boggess\", \"Barrett Wilbert Reed\", \"Charli XCX\", \"Jessica Klean\"],\n      artist_count: [5, 10, 25, 35, 55],\n      topGenre: [\"classical\", \"broadway\", \"pop\", \"punk\", \"hip-hop\"],\n      genre_count: [50, 25, 5, 13, 7],\n      popRange: [\"0-20\", \"21-40\", \"41-60\", \"61-80\", \"81-100\"],\n      pop_count: [20, 40, 60, 40, 20]\n    };\n    this.search = this.search.bind(this);\n    this.setRecommendations = this.setRecommendations.bind(this);\n    this.addTrack = this.addTrack.bind(this);\n    this.removeTrack = this.removeTrack.bind(this);\n    this.updatePlaylistName = this.updatePlaylistName.bind(this);\n    this.savePlaylist = this.savePlaylist.bind(this);\n  }\n\n  search(term) {\n    Spotify.search(term).then(searchResults =&gt; {\n      this.setState({searchResults: searchResults});\n    });\n  }\n\n  setRecommendations(){\n    recommendations().then(recs =&gt; {\n      this.setState({recommendations: recs});\n    });\n  }\n\n  //addTracks\n  addTrack(track) {\n    let tracks = this.state.playlistTracks;\n    if (tracks.find(savedTrack =&gt; savedTrack.id === track.id)) {\n      return;\n    }\n\n    tracks.push(track);\n    this.setState({playlistTracks: tracks});\n  }\n\n  //removeTracks\n  removeTrack(track) {\n    let tracks = this.state.playlistTracks;\n    tracks = tracks.filter(currentTrack =&gt; currentTrack.id !== track.id);\n\n    this.setState({playlistTracks: tracks});\n  }\n\n  //updatePlaylistName\n  updatePlaylistName(name) {\n    this.setState({playlistName: name});\n  }\n\n  //savePlaylist\n  savePlaylist() {\n    const trackUris = this.state.playlistTracks.map(track =&gt; track.uri);\n    Spotify.savePlaylist(this.state.playlistName, trackUris).then(() =&gt; {\n      this.setState({\n        playlistName: 'New Playlist',\n        playlistTracks: []\n      });\n    });\n  }\n\n  //This what we will see\n  render() {\n    //this.recommendations()\n    return (\n      &lt;div&gt;\n        &lt;h1&gt;Spotify Recommendations&lt;/h1&gt;\n        &lt;div className=\"App\"&gt;\n          &lt;button class=\"button\" onClick={this.setRecommendations}&gt;\n            Log Into Spotify\n          &lt;/button&gt;\n          &lt;Graphs data={this.state.album_count} margin={this.state.topAlbums} /&gt;\n          &lt;div className=\"Graphs\"&gt;\n            &lt;Graphs data={this.state.artist_count} margin={this.state.topArtist} /&gt;\n          &lt;/div&gt;\n          &lt;p&gt; below are some recommendations based on your listening history &lt;/p&gt;\n          &lt;div className=\"App-playlist\"&gt;\n            &lt;RecommendationResults recommendationResults={this.state.recommendations}\n                           onAdd={this.addTrack} /&gt;\n\n            &lt;Playlist playlistName={this.state.playlistName}\n                      playlistTracks={this.state.playlistTracks}\n                      onNameChange={this.updatePlaylistName}\n                      onRemove={this.removeTrack}\n                      onSave={this.savePlaylist} /&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>After clicking the button it displays recommendations</p>\n\n<pre><code>&lt;RecommendationResults recommendationResults={this.state.recommendations}\n                           onAdd={this.addTrack} /&gt;\n</code></pre>\n\n<p>which calls this component</p>\n\n<pre><code>class RecommendationResults extends React.Component {\n  render() {\n    return (\n      &lt;div className=\"RecommendationResults\"&gt;\n        &lt;h2&gt;Recommendations&lt;/h2&gt;\n        &lt;TrackList tracks={this.props.recommendationResults} onAdd={this.props.onAdd} /&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>Which calls another component</p>\n\n<pre><code>class TrackList extends React.Component {\n  render() {\n    return (\n      &lt;div className=\"TrackList\"&gt;\n        {\n          this.props.tracks.map(track =&gt; {\n            return &lt;Track track={track}\n                          key={track.id}\n                          onAdd={this.props.onAdd}\n                          isRemoval={this.props.isRemoval}\n                          onRemove={this.props.onRemove} /&gt;\n          })\n        }\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>This is the function setRecommendations calls</p>\n\n<pre><code>//get recommendations based off song history\nexport async function recommendations(){\n  const unique = await findUnique();\n  const recommendations = [];\n  for(var index = 0; index &lt; unique.length; index++){\n    var trackURI = (unique[index].uri).slice(14, (unique[index].uri).length);\n    var rec = await Spotify.recommendations(trackURI, unique[index].pop);\n    for(var i=0; i&lt;rec.length; i++){\n      recommendations.push(rec[i]);\n    }\n  }\n  const uniqueRec = getUnique(recommendations);\n  return await uniqueRec;\n}\n</code></pre>\n\n<p>This function is the issue, nothing is returned from the else clause, thus if it is the first time it is called nothing will be returned until the second time.</p>\n\n<pre><code>//getAccessToken\n  getAccessToken() {\n    if (accessToken) {\n      return accessToken;\n    }\n    const accessTokenMatch = window.location.href.match(/access_token=([^&amp;]*)/);\n    const expiresInMatch = window.location.href.match(/expires_in=([^&amp;]*)/);\n    if (accessTokenMatch &amp;&amp; expiresInMatch) {\n      accessToken = accessTokenMatch[1];\n      const expiresIn = Number(expiresInMatch[1]);\n      window.setTimeout(() =&gt; accessToken = '', expiresIn * 1000);\n      window.history.pushState('Access Token', null, '/'); // This clears the parameters, allowing us to grab a new access token when it expires.\n      return accessToken;\n    } else {\n      const accessUrl = `https://accounts.spotify.com/authorize?client_id=${clientId}&amp;response_type=token&amp;scope=${scopes.join(\"%20\")}&amp;redirect_uri=${redirectUri}`;\n      window.location = accessUrl;\n    }\n  },\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "jestjs", "enzyme"], "comments": [{"owner": {"reputation": 183, "user_id": 12548550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffcfc113de6f8525f54993ad1e80e225?s=128&d=identicon&r=PG&f=1", "display_name": "tcanusso", "link": "https://stackoverflow.com/users/12548550/tcanusso"}, "edited": false, "score": 0, "creation_date": 1577299854, "post_id": 59481051, "comment_id": 105138809, "body": "I don&#39;t know if this could be the problem, but you are binding a method that doesn&#39;t exist. You should bind &#39;toggleClick&#39; instead of &#39;onToggleClick&#39;."}, {"owner": {"reputation": 833, "user_id": 6641245, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/d6b114ec613a211807d60cf383b10927?s=128&d=identicon&r=PG&f=1", "display_name": "rick1", "link": "https://stackoverflow.com/users/6641245/rick1"}, "reply_to_user": {"reputation": 183, "user_id": 12548550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffcfc113de6f8525f54993ad1e80e225?s=128&d=identicon&r=PG&f=1", "display_name": "tcanusso", "link": "https://stackoverflow.com/users/12548550/tcanusso"}, "edited": false, "score": 0, "creation_date": 1577300146, "post_id": 59481051, "comment_id": 105138862, "body": "edited, this is not a problem"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1577300555, "post_id": 59481051, "comment_id": 105138957, "body": "You don&#39;t need to spyOn anything, pass a test double function into the props and make sure <i>that</i> gets called. Test behaviour (passed callback is invoked), not implementation."}], "answers": [{"tags": [], "owner": {"reputation": 36140, "user_id": 6463558, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/g22sX.jpg?s=128&g=1", "display_name": "slideshowp2", "link": "https://stackoverflow.com/users/6463558/slideshowp2"}, "is_accepted": false, "score": 0, "last_activity_date": 1577333973, "creation_date": 1577333973, "answer_id": 59483795, "question_id": 59481051, "link": "https://stackoverflow.com/questions/59481051/spy-on-method-call-on-button-click-with-jest-enzyme/59483795#59483795", "title": "Spy on method call on button click with Jest/Enzyme", "body": "<p>You need to use <code>jest.spyOn</code> before shallow rendering the component.</p>\n\n<p>E.g.</p>\n\n<p><code>index.jsx</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import React from 'react';\n\nexport default class Btn extends React.Component {\n  constructor(props) {\n    super(props);\n    this.toggleClick = this.toggleClick.bind(this);\n  }\n\n  toggleClick() {\n    const { onClick } = this.props;\n    onClick();\n  }\n\n  render() {\n    return (\n      &lt;button className=\"btn\" onClick={this.toggleClick}&gt;\n        &lt;div /&gt;\n      &lt;/button&gt;\n    );\n  }\n}\n</code></pre>\n\n<p><code>index.spec.jsx</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { shallow } from 'enzyme';\nimport Btn from './';\n\ndescribe('59481051', () =&gt; {\n  afterEach(() =&gt; {\n    jest.restoreAllMocks();\n  });\n  test('test button click', () =&gt; {\n    const props = { onClick: jest.fn() };\n    const spyOnClick = jest.spyOn(Btn.prototype, 'toggleClick');\n    const wrapper = shallow(&lt;Btn {...props} /&gt;);\n    wrapper.find('button').simulate('click');\n    expect(spyOnClick).toHaveBeenCalled();\n    expect(props.onClick).toHaveBeenCalled();\n  });\n});\n</code></pre>\n\n<p>Unit test result with 100% coverage:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>PASS  src/stackoverflow/59481051/index.spec.jsx (12.053s)\n  59481051\n    \u2713 test button click (15ms)\n\n-----------|----------|----------|----------|----------|-------------------|\nFile       |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |\n-----------|----------|----------|----------|----------|-------------------|\nAll files  |      100 |      100 |      100 |      100 |                   |\n index.jsx |      100 |      100 |      100 |      100 |                   |\n-----------|----------|----------|----------|----------|-------------------|\nTest Suites: 1 passed, 1 total\nTests:       1 passed, 1 total\nSnapshots:   0 total\nTime:        13.703s\n</code></pre>\n\n<p>Source code: <a href=\"https://github.com/mrdulin/jest-codelab/tree/master/src/stackoverflow/59481051\" rel=\"nofollow noreferrer\">https://github.com/mrdulin/jest-codelab/tree/master/src/stackoverflow/59481051</a></p>\n"}], "owner": {"reputation": 833, "user_id": 6641245, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/d6b114ec613a211807d60cf383b10927?s=128&d=identicon&r=PG&f=1", "display_name": "rick1", "link": "https://stackoverflow.com/users/6641245/rick1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 819, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1577333973, "creation_date": 1577299507, "last_edit_date": 1577300132, "question_id": 59481051, "link": "https://stackoverflow.com/questions/59481051/spy-on-method-call-on-button-click-with-jest-enzyme", "title": "Spy on method call on button click with Jest/Enzyme", "body": "<p>I want to test in method was called on button click. I have following code:</p>\n\n<pre><code>import React from 'react';\n\nexport default class Btn extends React.Component {\n  constructor(props) {\n    super(props);\n    this.toggleClick = this.toggleClick.bind(this);\n  }\n\n\n  toggleClick() {\n    const { onClick } = this.props;\n    onClick();\n  }\n\n  render() {\n\n    return (\n      &lt;button\n        className=\"btn\"\n        onClick={this.toggleClick}\n      &gt;\n        &lt;div /&gt;\n      &lt;/button&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>I wrote such a test to test if onToggleClick was called:</p>\n\n<pre><code>test('test button click', () =&gt; {\n   const wrapper = shallow(&lt;Btn {...props} /&gt;);\n\n    const instance = wrapper.instance();\n    const spyOnClick = jest.spyOn(instance, 'toggleClick');\n\n    wrapper.find('button').simulate('click');\n\n    expect(spyOnClick).toHaveBeenCalled();\n  });\n</code></pre>\n\n<p>but what I have in console output is</p>\n\n<pre><code>Expected number of calls: &gt;= 1\nReceived number of calls:    0\n</code></pre>\n\n<p>I do not understand where is my mistake or what I did wrong. Can somebody help?</p>\n"}, {"tags": ["javascript", "angular"], "comments": [{"owner": {"reputation": 869, "user_id": 6322587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fedcaa357fc398f933b21e1f93c214ea?s=128&d=identicon&r=PG", "display_name": "Katherine R", "link": "https://stackoverflow.com/users/6322587/katherine-r"}, "edited": false, "score": 1, "creation_date": 1577299771, "post_id": 59481033, "comment_id": 105138789, "body": "Are you able to confirm the results of <code>getAllTicket</code> are being returned? I&#39;m assuming it&#39;s an observable of some sort from a http service?"}, {"owner": {"reputation": 323, "user_id": 11650363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a47b903f3ea8e34e162930b1f55caec?s=128&d=identicon&r=PG&f=1", "display_name": "Hongli Bu", "link": "https://stackoverflow.com/users/11650363/hongli-bu"}, "reply_to_user": {"reputation": 869, "user_id": 6322587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fedcaa357fc398f933b21e1f93c214ea?s=128&d=identicon&r=PG", "display_name": "Katherine R", "link": "https://stackoverflow.com/users/6322587/katherine-r"}, "edited": false, "score": 0, "creation_date": 1577299878, "post_id": 59481033, "comment_id": 105138812, "body": "Yes, I can get the result from a http call. It can be shown in browser console. but it seems the table loaded before I get the result."}, {"owner": {"reputation": 323, "user_id": 11650363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a47b903f3ea8e34e162930b1f55caec?s=128&d=identicon&r=PG&f=1", "display_name": "Hongli Bu", "link": "https://stackoverflow.com/users/11650363/hongli-bu"}, "reply_to_user": {"reputation": 869, "user_id": 6322587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fedcaa357fc398f933b21e1f93c214ea?s=128&d=identicon&r=PG", "display_name": "Katherine R", "link": "https://stackoverflow.com/users/6322587/katherine-r"}, "edited": false, "score": 0, "creation_date": 1577300274, "post_id": 59481033, "comment_id": 105138891, "body": "the getAllTicket is extracting data from nodejs by a http call"}, {"owner": {"reputation": 310, "user_id": 9674146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dda8420960adb555dc8ba9cd02c1602?s=128&d=identicon&r=PG&f=1", "display_name": "ic_paty", "link": "https://stackoverflow.com/users/9674146/ic-paty"}, "edited": false, "score": 1, "creation_date": 1577301311, "post_id": 59481033, "comment_id": 105139077, "body": "could you please share a stackblitz link containing the above code ?"}, {"owner": {"reputation": 323, "user_id": 11650363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a47b903f3ea8e34e162930b1f55caec?s=128&d=identicon&r=PG&f=1", "display_name": "Hongli Bu", "link": "https://stackoverflow.com/users/11650363/hongli-bu"}, "edited": false, "score": 1, "creation_date": 1577301492, "post_id": 59481033, "comment_id": 105139106, "body": "Let me try to reproduce the problem in stackblitz"}, {"owner": {"reputation": 11962, "user_id": 1252748, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/9DbOP.gif?s=128&g=1", "display_name": "1252748", "link": "https://stackoverflow.com/users/1252748/1252748"}, "edited": false, "score": 0, "creation_date": 1577303556, "post_id": 59481033, "comment_id": 105139406, "body": "Something isn\u2019t right with that log statement in getAllTicket"}, {"owner": {"reputation": 323, "user_id": 11650363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a47b903f3ea8e34e162930b1f55caec?s=128&d=identicon&r=PG&f=1", "display_name": "Hongli Bu", "link": "https://stackoverflow.com/users/11650363/hongli-bu"}, "reply_to_user": {"reputation": 11962, "user_id": 1252748, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/9DbOP.gif?s=128&g=1", "display_name": "1252748", "link": "https://stackoverflow.com/users/1252748/1252748"}, "edited": false, "score": 0, "creation_date": 1577307712, "post_id": 59481033, "comment_id": 105140088, "body": "@1252748 but when I remove the child component and put the material table to the parent component, it works."}], "answers": [{"comments": [{"owner": {"reputation": 323, "user_id": 11650363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a47b903f3ea8e34e162930b1f55caec?s=128&d=identicon&r=PG&f=1", "display_name": "Hongli Bu", "link": "https://stackoverflow.com/users/11650363/hongli-bu"}, "edited": false, "score": 0, "creation_date": 1577310793, "post_id": 59482059, "comment_id": 105140600, "body": "so @input doesn&#39;t monitor the changes of value?"}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "reply_to_user": {"reputation": 323, "user_id": 11650363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a47b903f3ea8e34e162930b1f55caec?s=128&d=identicon&r=PG&f=1", "display_name": "Hongli Bu", "link": "https://stackoverflow.com/users/11650363/hongli-bu"}, "edited": false, "score": 2, "creation_date": 1577311517, "post_id": 59482059, "comment_id": 105140729, "body": "If you displayed the <code>@Input</code> values in the component, the view would be updated when the property changes. But you use the input property to create a <code>MatTableDataSource</code> in <code>ngOnInit</code> and that object isn&#39;t updated when the input property changes. You can see a similar situation in <a href=\"https://stackblitz.com/edit/angular-fpobg1?file=src%2Fapp%2Fchild.component.ts\" rel=\"nofollow noreferrer\">this stackblitz</a>."}, {"owner": {"reputation": 323, "user_id": 11650363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a47b903f3ea8e34e162930b1f55caec?s=128&d=identicon&r=PG&f=1", "display_name": "Hongli Bu", "link": "https://stackoverflow.com/users/11650363/hongli-bu"}, "edited": false, "score": 0, "creation_date": 1577321711, "post_id": 59482059, "comment_id": 105141986, "body": "Thank you I tried this method, I can see the data logged in the console now. but I cannot see the data in the page. So that means there is another problem for display. I cannot even see the table header"}], "tags": [], "owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "is_accepted": true, "score": 3, "last_activity_date": 1577326957, "last_edit_date": 1577326957, "creation_date": 1577310436, "answer_id": 59482059, "question_id": 59481033, "link": "https://stackoverflow.com/questions/59481033/why-i-cant-get-result-from-parent-component-in-angular/59482059#59482059", "title": "Why I can&#39;t get result from parent component in Angular", "body": "<p>According to your console output, you use <code>tablesource</code> in your child component before it has been updated by the parent component. Instead of creating <code>datasource</code> in <code>ngOnInit</code> of the child component, define the <code>tablesource</code> property as a setter and create <code>datasource</code> in that setter:</p>\n\n<pre><code>@Input() set tablesource(value: Ticket[]) {\n  console.log(value);\n  this.dataSource = new MatTableDataSource(value);\n}\n</code></pre>\n\n<p>See <a href=\"https://stackblitz.com/edit/angular-jmjzpt?file=src%2Fapp%2Fchild.component.ts\" rel=\"nofollow noreferrer\">this stackblitz</a> for a demo.</p>\n"}], "owner": {"reputation": 323, "user_id": 11650363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a47b903f3ea8e34e162930b1f55caec?s=128&d=identicon&r=PG&f=1", "display_name": "Hongli Bu", "link": "https://stackoverflow.com/users/11650363/hongli-bu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 619, "favorite_count": 1, "accepted_answer_id": 59482059, "answer_count": 1, "score": 6, "last_activity_date": 1577326957, "creation_date": 1577299351, "last_edit_date": 1577325462, "question_id": 59481033, "link": "https://stackoverflow.com/questions/59481033/why-i-cant-get-result-from-parent-component-in-angular", "title": "Why I can&#39;t get result from parent component in Angular", "body": "<p>I want child components in angular to separate Material Table(child) from other elements(parent), but the weird thing is that it seems I cannot get data from the parent or I get initialized data from parents and cannot refresh.\nHere is the Code:\nfirstly, the parent .ts file:</p>\n\n<pre><code>@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss']\n})\nexport class DashboardComponent implements OnInit{\n\n  ticketList: Ticket[] = [];\n  originalTicketList: Ticket[] = [];\n  filterAllForm: FormGroup;\n  labelList: string[];\n  homeLabelList: string[];\n  currentTicketId: string;\n  searchBy: string = '';\n  maxall : number = 100;\n  isLoading :boolean = true;\n  showRelatedTickets = true;\n\n  constructor(private ticket: TicketService,\n    private formBuilder: FormBuilder) { }\n\n  ngOnInit() {\n    this.filterAllForm = this.formBuilder.group({\n      startDate: [''],\n      endDate: ['']\n    });\n    this.getAllTicket();\n\n  }\n\n\n  get filterFormControls() { return this.filterAllForm.controls; }\n\n\n\n  getAllTicket() {\n    let queryParams = '';\n    console.log(this.currentTicketId) + \" \" + this.searchBy;\n    if (this.searchBy === 'id') {\n      queryParams = 'id=' + this.currentTicketId;\n      this.showRelatedTickets = true;\n    }else if(this.searchBy !== ''){\n      queryParams = this.searchBy + '=' + this.currentTicketId;\n      this.showRelatedTickets = false;\n    }\n\n    this.ticket.getAllTicket(queryParams).then((res: Ticket[]) =&gt; {\n      this.isLoading = false;\n      this.ticketList = res;\n      this.originalTicketList = this.ticketList;\n    });\n  }\n\n\n  searchTicket() {\n    this.isLoading = true;\n    this.getAllTicket();\n  }\n\n}\n\n</code></pre>\n\n<p>the parent html like this:</p>\n\n<pre><code>    &lt;div class=\"ticket-container\"&gt;\n      &lt;mat-card *ngIf=\"isLoading\" class=\"mat-card-style\"&gt;\n        &lt;mat-progress-spinner color=\"primary\" mode=\"indeterminate\"&gt;\n        &lt;/mat-progress-spinner&gt;\n      &lt;/mat-card&gt;\n      &lt;div *ngIf=\"showRelatedTickets\"&gt;\n        &lt;app-dashboard-related-tickets-table [tablesource]=\"ticketList\"&gt;\n        &lt;/app-dashboard-related-tickets-table&gt;\n      &lt;/div&gt;\n      &lt;div *ngIf=\"!showRelatedTickets\"&gt;\n        &lt;app-dashboard-non-related-tickets-table [tablesource]=\"ticketList\"&gt;\n        &lt;/app-dashboard-non-related-tickets-table&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>and there are two children you can see, one is app-dashboard-related-tickets-table and another one is app-dashboard-non-related-tickets-table, they have a different format and changed by the button \n<strong>showRelatedTickets</strong>. Here I will show the first one \nthe child(app-dashboard-related-tickets-table) .ts file:</p>\n\n<pre><code>@Component({\n  selector: 'app-dashboard-related-tickets-table',\n  templateUrl: './dashboard-related-tickets-table.component.html',\n  styleUrls: ['./dashboard-related-tickets-table.component.scss']\n})\nexport class DashboardRelatedTicketsTableComponent implements OnInit, AfterViewInit{\n  dataSource: any;\n  displayedDetailColumns = ['id', 'caseStatus', 'anchorPoint', 'findingSourceSystem','caseCreateTimestamp', 'resolvedBy', 'resolution', 'resolutionNote'];\n  maxall: number = 100;\n\n  @Input() tablesource: Ticket[];\n  @ViewChild(MatPaginator, {static: false}) paginator: MatPaginator;\n  @ViewChild(MatSort, { static: true }) sort: MatSort;\n\n  applyFilter(filterValue: string) {\n    this.dataSource.filter = filterValue.trim().toLowerCase();\n\n  }\n  constructor() { }\n\n  ngOnInit() {\n    console.log(this.tablesource);\n    this.dataSource = new MatTableDataSource(this.tablesource);\n  }\n\n  ngAfterViewInit(){\n    this.dataSource.paginator = this.paginator;\n    this.dataSource.sort = this.sort;\n    this.getPageSizeOptions();\n  }\n\n  getPageSizeOptions(): number[] {\n    if (this.dataSource.data.length&gt;this.maxall){\n      return [20, 50, this.dataSource.data.length];\n    }else{\n      return [20, 50, this.maxall];\n    }\n  }\n\n}\n</code></pre>\n\n<p>then the child(app-dashboard-related-tickets-table) .html file:</p>\n\n<pre><code>&lt;table mat-table matTableExporter [dataSource]=\"dataSource\" matSort class=\"mat-elevation-z8\"\n    #exporter=\"matTableExporter\"&gt;\n    &lt;!-- Ticket Column --&gt;\n    &lt;ng-container matColumnDef=\"id\"&gt;\n        &lt;th mat-header-cell *matHeaderCellDef mat-sort-header class=\"mat-column-id-source\"&gt; SIR ID &lt;/th&gt;\n        &lt;td mat-cell *matCellDef=\"let element\" class=\"mat-column-id-source\"&gt;\n            &lt;a href='ticket/{{element.id}}'&gt;{{element.id}}&lt;/a&gt;\n        &lt;/td&gt;\n    &lt;/ng-container&gt;\n\n    &lt;!-- Type Column event source --&gt;\n    &lt;ng-container matColumnDef=\"findingSourceSystem\"&gt;\n        &lt;th mat-header-cell *matHeaderCellDef mat-sort-header class=\"mat-column-id-source\"&gt; Source &lt;/th&gt;\n        &lt;td mat-cell *matCellDef=\"let element\" class=\"mat-column-id-source\"&gt; {{element.findingSourceSystem}} &lt;/td&gt;\n    &lt;/ng-container&gt;\n\n    &lt;!-- Type Column Related Event count --&gt;\n    &lt;ng-container matColumnDef=\"anchorPoint\"&gt;\n        &lt;th mat-header-cell *matHeaderCellDef class=\"mat-column-related-ticket-num\"&gt; Related Cases &lt;/th&gt;\n        &lt;td mat-cell *matCellDef=\"let element\" class=\"mat-column-related-ticket-num\"&gt;\n            {{element.relatedVertices}} &lt;/td&gt;\n    &lt;/ng-container&gt;\n\n    &lt;!-- Type Column event source --&gt;\n    &lt;ng-container matColumnDef=\"caseStatus\"&gt;\n        &lt;th mat-header-cell *matHeaderCellDef mat-sort-header class=\"mat-column-case\"&gt; Case Status &lt;/th&gt;\n        &lt;td mat-cell *matCellDef=\"let element\" class=\"mat-column-case\"&gt; {{element.caseStatus}} &lt;/td&gt;\n    &lt;/ng-container&gt;\n\n    &lt;!-- Type Column event source --&gt;\n    &lt;ng-container matColumnDef=\"caseCreateTimestamp\"&gt;\n        &lt;th mat-header-cell *matHeaderCellDef mat-sort-header class=\"mat-column-date\"&gt; Case Created &lt;/th&gt;\n        &lt;td mat-cell *matCellDef=\"let element\" class=\"mat-column-date\"&gt;\n            {{element.caseCreateTimestamp | date:'MMM d, y, h:mm:ss a'}}\n        &lt;/td&gt;\n    &lt;/ng-container&gt;\n\n    &lt;ng-container matColumnDef=\"resolvedBy\"&gt;\n        &lt;th mat-header-cell *matHeaderCellDef class=\"mat-column-resolvedBy\"&gt; Resolved By &lt;/th&gt;\n        &lt;td mat-cell *matCellDef=\"let element\" class=\"mat-column-resolvedBy\"&gt; {{element.resolvedBy}}\n        &lt;/td&gt;\n    &lt;/ng-container&gt;\n\n    &lt;ng-container matColumnDef=\"resolution\"&gt;\n        &lt;th mat-header-cell *matHeaderCellDef class=\"mat-column-closeCode\"&gt; Close Code &lt;/th&gt;\n        &lt;td mat-cell *matCellDef=\"let element\" class=\"mat-column-closeCode\"&gt; {{element.resolution}}\n        &lt;/td&gt;\n    &lt;/ng-container&gt;\n\n    &lt;ng-container matColumnDef=\"resolutionNote\"&gt;\n        &lt;th mat-header-cell *matHeaderCellDef class=\"mat-column-closeNote\"&gt; Close Note &lt;/th&gt;\n        &lt;td mat-cell *matCellDef=\"let element\" class=\"mat-column-closeNote\"&gt; {{element.resolutionNote}}\n        &lt;/td&gt;\n    &lt;/ng-container&gt;\n    &lt;tr mat-header-row *matHeaderRowDef=\"displayedColumns; sticky: true\"&gt;&lt;/tr&gt;\n    &lt;tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"&gt;&lt;/tr&gt;\n&lt;/table&gt;\n&lt;mat-paginator [pageSizeOptions]=\"getPageSizeOptions()\" showFirstLastButtons&gt;&lt;/mat-paginator&gt;\n&lt;button mat-raised-button (click)=\"exporter.exportTable('csv')\" class=\"export-button\"&gt;Export Results&lt;/button&gt;\n</code></pre>\n\n<p>So in the child component, I use @input tablesource, and display dataSource. but the result is like this:\n<a href=\"https://i.stack.imgur.com/FE4VW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FE4VW.png\" alt=\"enter image description here\"></a></p>\n\n<p>The child component seems loaded because the export result button is already there, but the table didn't show. I just to do </p>\n\n<pre><code>console.log(tablesource)\n</code></pre>\n\n<p>I got []</p>\n\n<p>This is the browser console log:\n<a href=\"https://i.stack.imgur.com/9OwS1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9OwS1.png\" alt=\"enter image description here\"></a>\nAny Idea what happened?</p>\n\n<p>I was trying to reproduce here: <a href=\"https://stackblitz.com/edit/angular-hbzpvr\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-hbzpvr</a>\nbut I am sorry, I am not good at angular, so I am not sure how to load parent to page. </p>\n"}, {"tags": ["javascript", "python", "django", "reactjs", "react-router-dom"], "comments": [{"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1577301482, "post_id": 59480980, "comment_id": 105139102, "body": "You regular expression catches everything. You need something less greedy."}, {"owner": {"reputation": 31, "user_id": 12596715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/850bcdf002c76d823f075b6418a5b1c4?s=128&d=identicon&r=PG&f=1", "display_name": "AshtonMc", "link": "https://stackoverflow.com/users/12596715/ashtonmc"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1577310028, "post_id": 59480980, "comment_id": 105140455, "body": "@Klaus D. I don&#39;t really understand what you mean by that. Could you please elaborate?"}, {"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1577325148, "post_id": 59480980, "comment_id": 105142377, "body": "The regular expression <code>^(?:.*)&#47;?$</code> matches on everything. It is equivalent to <code>^.*$</code>."}, {"owner": {"reputation": 31, "user_id": 12596715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/850bcdf002c76d823f075b6418a5b1c4?s=128&d=identicon&r=PG&f=1", "display_name": "AshtonMc", "link": "https://stackoverflow.com/users/12596715/ashtonmc"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1577340358, "post_id": 59480980, "comment_id": 105144492, "body": "@Klaus D. Actually, my problem is that it isn&#39;t. I tried using this for urls such as <code>&#47;settings</code> and it worked. But for <code>&#47;settings&#47;about</code> , <code>^(?:.*)&#47;?$</code> gave me a 404. Any help on why that isn&#39;t working or what I should do?"}], "owner": {"reputation": 31, "user_id": 12596715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/850bcdf002c76d823f075b6418a5b1c4?s=128&d=identicon&r=PG&f=1", "display_name": "AshtonMc", "link": "https://stackoverflow.com/users/12596715/ashtonmc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 685, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1577340487, "creation_date": 1577298891, "last_edit_date": 1577340487, "question_id": 59480980, "link": "https://stackoverflow.com/questions/59480980/how-do-i-configure-django-urls-to-work-with-all-react-router-paths", "title": "How do I configure Django URLS to work with all react-router paths", "body": "<p>I am trying to use Django Python with React Javascript to create a web application. At first, my Django URLS would load my react-router-dom pages as 404, but after some researching I found that I could use <code>url(r'^(?:.*)/?$', views.index)</code> to load all of my \"first level\" pages. ex: <code>index/settings</code>. But this url map didn't work for my \"second level\" pages. ex: <code>index/settings/about</code>. I can't for the life of me figure out how load my second level pages, or re-engineer the previous solution to work for this. I would appreciate any insight on how to solve this issue, and perhaps these types of problems in general when it comes to URLS, because I am a relatively new programmer and I have LOTS to learn. Thanks!</p>\n\n<p>EDIT: <code>r'^(?:.*)/?$'</code> isn't working for all of my url mappings so far. I believe that this is part of my main issue. I also deleted the extra url mapping in order to keep my code dry.</p>\n\n<p>urls.py:</p>\n\n<pre><code>\nfrom django.contrib import admin\nfrom django.urls import include, path, re_path\nfrom django.conf.urls import include, url\nfrom backend import views\n\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    path('api/', include('backend.urls')),\n    url(r'^(?:.*)/?$', views.index),\n\n]\n</code></pre>\n\n<p>index.js:</p>\n\n<pre><code>\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport LoginIndex from './login_index';\nimport Settings from './settings';\nimport About from './about';\nimport * as serviceWorker from './serviceWorker';\nimport { Route, Link, BrowserRouter as Router } from 'react-router-dom';\n\nconst routing = (\n    &lt;Router&gt;\n        &lt;div&gt;\n            &lt;Route exact path=\"/\" component={App} /&gt;\n            &lt;Route  path=\"/login_index\" component={LoginIndex} /&gt;\n            &lt;Route exact path=\"/settings\" component={Settings} /&gt;\n            &lt;Route  path=\"/settings/about\" component={About} /&gt;\n        &lt;/div&gt;\n    &lt;/Router&gt;\n)\n\nReactDOM.render(routing, document.getElementById('root', 'login_index', 'settings'));\n\nserviceWorker.unregister();\n</code></pre>\n"}, {"tags": ["javascript", "php", "html", "laravel"], "answers": [{"tags": [], "owner": {"reputation": 361, "user_id": 12536761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8WDgP.jpg?s=128&g=1", "display_name": "Fahd Yousri", "link": "https://stackoverflow.com/users/12536761/fahd-yousri"}, "is_accepted": true, "score": 1, "last_activity_date": 1577302093, "creation_date": 1577302093, "answer_id": 59481291, "question_id": 59480975, "link": "https://stackoverflow.com/questions/59480975/how-do-i-keep-filter-options-on-second-page-in-php-laravel/59481291#59481291", "title": "How do I keep filter options on second page in php laravel?", "body": "<p>you can append parameters to <code>$users-&gt;links()</code>\nSo, you will use something like <code>{{ $users-&gt;appends(request()-&gt;except('page'))-&gt;links() }}</code></p>\n\n<p>reference: <a href=\"https://github.com/laravel/framework/issues/19441\" rel=\"nofollow noreferrer\">https://github.com/laravel/framework/issues/19441</a></p>\n"}], "owner": {"reputation": 29, "user_id": 11126461, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pGLEJl0biiE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfRaouVO6YvHfgQPmH-DS4p_8Q1Bg/mo/photo.jpg?sz=128", "display_name": "stef vleugels", "link": "https://stackoverflow.com/users/11126461/stef-vleugels"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "accepted_answer_id": 59481291, "answer_count": 1, "score": 1, "last_activity_date": 1577302093, "creation_date": 1577298849, "question_id": 59480975, "link": "https://stackoverflow.com/questions/59480975/how-do-i-keep-filter-options-on-second-page-in-php-laravel", "title": "How do I keep filter options on second page in php laravel?", "body": "<p>I want to filter my table of users on my page. I can do this but only for the first page. When I click on the second page everything gets reverted back to default while it should remember the form inputs. This is my code:</p>\n\n<p>my PHP page:</p>\n\n<pre><code>    &lt;h1&gt;users&lt;/h1&gt;\n\n    {{--message voor als een user wordt aangepast. Forget en save zorgen ervoor dat de message niet heel de tijd opnieuw wordt getoond--}}\n    @if(Session::has('flash_message'))\n        &lt;div id=\"editmessage\" class=\"alert alert-success\"&gt;\n            {{ Session::get('flash_message') }}\n            {{ Session::forget('flash_message') }}\n            {{ Session::save() }}\n        &lt;/div&gt;\n    @endif\n\n    &lt;form method=\"get\" action=\"/admin/users\" id=\"searchForm\"&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;div class=\"col-sm-4 mb-2 lg-4\"&gt;\n                &lt;input type=\"text\" class=\"form-control\" name=\"name\" id=\"name\"\n                       value=\"{{ request()-&gt;name }}\" placeholder=\"Filter user by name or email\"&gt;\n            &lt;/div&gt;\n            &lt;div class=\"col-sm-4 mb-2 lg-4\"&gt;\n\n                &lt;select class=\"form-control\" name=\"userfilter\" id=\"userfilter\"&gt;\n                    &lt;option class=\"genrekeuze\" value=\"id\"&gt;Sort By ID (default)&lt;/option&gt;\n                    &lt;option class=\"genrekeuze\" {{ request()-&gt;name }} value=\"name\"&gt;Name&lt;/option&gt;\n                    &lt;option class=\"genrekeuze\" {{ request()-&gt;email }} value=\"email\"&gt;email&lt;/option&gt;\n                    &lt;option class=\"genrekeuze\" value=\"active\"&gt;active&lt;/option&gt;\n                    &lt;option class=\"genrekeuze\" value=\"admin\"&gt;admin&lt;/option&gt;\n                &lt;/select&gt;\n\n            &lt;/div&gt;\n            &lt;div class=\"col-sm-4 mb-2 lg-4\"&gt;\n\n                &lt;select class=\"form-control\" name=\"direction\" id=\"direction\"&gt;\n                    &lt;option id=\"richtingboven\" class=\"genrekeuze\" value=\"asc\"&gt;ascending&lt;/option&gt;\n\n                    &lt;option id=\"richtingonder\" class=\"genrekeuze\" value=\"desc\"&gt;descending&lt;/option&gt;\n\n                &lt;/select&gt;\n\n            &lt;/div&gt;\n            &lt;div class=\"col-sm-2 mb-2\"&gt;\n                &lt;button style=\"display: inline;\" type=\"submit\" class=\"btn btn-success btn-block\"&gt;Search&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n    &lt;hr&gt;\n\n        {{--Wordt alleen getoond als er geen users zijn (zie script_after)--}}\n        &lt;div style=\"display: none;\" id=\"errormessage\" class=\"alert alert-danger alert-dismissible fade show\"&gt;\n            Can't find any users\n            &lt;button type=\"button\" class=\"close\" data-dismiss=\"alert\"&gt;\n                &lt;span&gt;&amp;times;&lt;/span&gt;\n            &lt;/button&gt;\n        &lt;/div&gt;\n\n\n\n\n    {{ $users-&gt;links() }}\n\n    &lt;div class=\"table-responsive\"&gt;\n        &lt;table class=\"table\"&gt;\n            &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th&gt;#&lt;/th&gt;\n                &lt;th&gt;user&lt;/th&gt;\n                &lt;th&gt;E-mail&lt;/th&gt;\n                &lt;th&gt;active / admin&lt;/th&gt;\n                &lt;th&gt;Actions&lt;/th&gt;\n            &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody id=\"usertable\"&gt;\n\n                @foreach ($users as $user)\n\n                    &lt;tr&gt;\n                        &lt;td data-id=\"{{$user-&gt;id}}\"&gt;{{$user-&gt;id}}&lt;/td&gt;\n                        &lt;td data-name=\"{{$user-&gt;name}}\"&gt;{{$user-&gt;name}}&lt;/td&gt;\n                        &lt;td data-mail=\"{{$user-&gt;email}}\"&gt;{{$user-&gt;email}}&lt;/td&gt;\n\n                        @if ($user-&gt;active==0 &amp;&amp; $user-&gt;admin==0)\n                            &lt;td&gt;NO / NO&lt;/td&gt;\n                        @endif\n                        @if ($user-&gt;active==1 &amp;&amp; $user-&gt;admin==1)\n                            &lt;td&gt;YES / YES&lt;/td&gt;\n                        @endif\n                        @if ($user-&gt;active==0 &amp;&amp; $user-&gt;admin==1)\n                            &lt;td&gt;NO / YES&lt;/td&gt;\n                        @endif\n                        @if ($user-&gt;active==1 &amp;&amp; $user-&gt;admin==0)\n                            &lt;td&gt;YES / NO&lt;/td&gt;\n                        @endif\n\n                        {{--edit en delete buttons verwijderen voor admin--}}\n                        @if($user-&gt;id!=1)\n                        &lt;td&gt;\n                        &lt;div class=\"btn-group btn-group-sm\"&gt;\n\n                            &lt;a href=\"/admin/users/{{$user-&gt;id}}/edit\" class=\"btn btn-outline-success btn-edit\"\n                               data-toggle=\"tooltip\" data-name=\"{{$user-&gt;name}}\" title=\"Edit {{$user-&gt;name}}\"&gt;&lt;i class=\"fas fa-edit\"&gt;&lt;/i&gt;&lt;/a&gt;\n\n\n                            &lt;a href=\"#!\" class=\"btn btn-outline-danger btn-delete\"\n                               data-toggle=\"tooltip\" data-id=\"{{$user-&gt;id}}\" data-name=\"{{$user-&gt;name}}\" title=\"Delete {{$user-&gt;name}}\"&gt;\n                                &lt;i class=\"fas fa-trash\"&gt;&lt;/i&gt;\n                            &lt;/a&gt;\n                        &lt;/div&gt;\n                        &lt;/td&gt;\n                        @endif\n\n                    &lt;/tr&gt;\n\n                @endforeach\n\n\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n    &lt;/div&gt;\n@endsection\n</code></pre>\n\n<p>My controller:</p>\n\n<pre><code>public function index(Request $request)\n    {\n\n        //vraag input van zoekbalk en option list\n        $zoeknaam = '%' . $request-&gt;input('name') . '%';\n        $vallist=$request-&gt;input('userfilter','id');\n        $direction=$request-&gt;input('direction','asc');\n\n        //users uit database halen, paginate en where functie voor filteren\n        $users = User::where('name', 'like', $zoeknaam)\n            -&gt;orWhere('email', 'like', $zoeknaam)\n            -&gt;orderBy($vallist,$direction)\n            -&gt;paginate(15);\n\n\n        $result = compact('users');\n\n        Json::dump($result);\n\n        //naar view met data\n        return view('admin.users.users', $result);\n    }\n</code></pre>\n\n<p>I don't know whether the fault is in my page or in my controller. \nThanks for reading.</p>\n"}, {"tags": ["javascript", "canvas", "html5-canvas"], "comments": [{"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1577298893, "post_id": 59480937, "comment_id": 105138621, "body": "Do you have tens of thousands of rectangles? I wouldn&#39;t <i>think</i> that such code would result in performance problems, though ti can certainly be optimized better"}, {"owner": {"reputation": 322, "user_id": 9356222, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vWuUIJUZYA0/AAAAAAAAAAI/AAAAAAAAAVw/v5or85qLaQA/photo.jpg?sz=128", "display_name": "Bryan Enid", "link": "https://stackoverflow.com/users/9356222/bryan-enid"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1577299793, "post_id": 59480937, "comment_id": 105138797, "body": "Only 9 aliens rectangles, and the bullet rectangle. I can fire 2 bullets per second."}, {"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 2, "creation_date": 1577299929, "post_id": 59480937, "comment_id": 105138822, "body": "If so, no way the code in the question would result in performance issues unless you&#39;re on a toaster or something"}, {"owner": {"reputation": 894, "user_id": 3580933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B2ig9.png?s=128&g=1", "display_name": "spankajd", "link": "https://stackoverflow.com/users/3580933/spankajd"}, "edited": false, "score": 0, "creation_date": 1577344760, "post_id": 59480937, "comment_id": 105145588, "body": "can you create jsfeddle link? it will be easy to give solution there"}], "owner": {"reputation": 322, "user_id": 9356222, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vWuUIJUZYA0/AAAAAAAAAAI/AAAAAAAAAVw/v5or85qLaQA/photo.jpg?sz=128", "display_name": "Bryan Enid", "link": "https://stackoverflow.com/users/9356222/bryan-enid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577320066, "creation_date": 1577298550, "last_edit_date": 1577320066, "question_id": 59480937, "link": "https://stackoverflow.com/questions/59480937/how-to-do-collision-detection-when-there-are-many-objects-javascript", "title": "How to do Collision Detection when there are many objects (JavaScript)", "body": "<p>I'm using this logic to detect intersection of 2 rectangles</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>if (this.position.x &lt; (alien.position.x + alien.width) &amp;&amp;\n(this.position.x + this.width) &gt; alien.position.x &amp;&amp;\nthis.position.y &lt; (alien.position.y + alien.height) &amp;&amp;\n(this.position.y + this.height) &gt; alien.position.y) {\n   return true\n}\nelse { return false }\n</code></pre>\n\n<p>It works, but the thing is, I have to iterate through all aliens to check if they are intersecting with the rectangle A and there are many aliens in the canvas and therefore performance is bad. Is there another way to improve this logic or another way to approach this?</p>\n\n<p>This having issues with 9 squares (aliens) 1 bullet. Bullets are fired 2 per second and each is looping through all aliens.</p>\n\n<p>Intel i5 9th Generation, GTX 1060, 16GB Ram</p>\n"}, {"tags": ["javascript", "logic", "bit-manipulation", "circuit"], "comments": [{"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1577298407, "post_id": 59480912, "comment_id": 105138527, "body": "what type of input do you want?"}, {"owner": {"reputation": 66677, "user_id": 169992, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/OeNfG.png?s=128&g=1", "display_name": "Lance Pollard", "link": "https://stackoverflow.com/users/169992/lance-pollard"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1577298440, "post_id": 59480912, "comment_id": 105138536, "body": "You know I am not really sure, whatever input makes this possible to define, either as an axiom or not."}, {"owner": {"reputation": 52741, "user_id": 555045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/182d0ce855c8324a596648c04643e8f9?s=128&d=identicon&r=PG", "display_name": "nicomp", "link": "https://stackoverflow.com/users/555045/nicomp"}, "edited": false, "score": 0, "creation_date": 1577307285, "post_id": 59480912, "comment_id": 105140019, "body": "There is a bottom. Logic circuits in hardware are physical devices. You can keep stacking layers of &quot;emulate NAND using more NANDs&quot; on top, but the bottom is still there, just further away now. By the way JavaScript <code>if</code> statements work <i>completely differently</i> from <code>if</code> in pure digital logic."}], "answers": [{"comments": [{"owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "reply_to_user": {"reputation": 66677, "user_id": 169992, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/OeNfG.png?s=128&g=1", "display_name": "Lance Pollard", "link": "https://stackoverflow.com/users/169992/lance-pollard"}, "edited": false, "score": 0, "creation_date": 1577300241, "post_id": 59481040, "comment_id": 105138883, "body": "I updated the answer. See if it answers your question."}], "tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": true, "score": 2, "last_activity_date": 1577299912, "last_edit_date": 1577299912, "creation_date": 1577299431, "answer_id": 59481040, "question_id": 59480912, "link": "https://stackoverflow.com/questions/59480912/how-is-the-nand-gate-implemented-conceptually/59481040#59481040", "title": "How is the NAND gate implemented? (Conceptually)", "body": "<p>Since NAND is Not AND you can declare it using AND, which means that NAND is not an axiom:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function nand(a, b) {\r\n  return !(a &amp;&amp; b)\r\n}\r\n\r\nconsole.log(nand(false, false)) // true\r\nconsole.log(nand(true, false)) // true\r\nconsole.log(nand(false, true)) // true\r\nconsole.log(nand(true, true)) // false</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Using multiplication you can declare NAND with 0 and 1. Since AND is <code>a * b</code> (you get 1 if both are 1), NAND is <code>1 - a * b</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function nand(a, b) {\r\n  return 1 - a * b\r\n}\r\n\r\nconsole.log(nand(0, 0)) // 1\r\nconsole.log(nand(1, 0)) // 1\r\nconsole.log(nand(0, 1)) // 1\r\nconsole.log(nand(1, 1)) // 0</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 66677, "user_id": 169992, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/OeNfG.png?s=128&g=1", "display_name": "Lance Pollard", "link": "https://stackoverflow.com/users/169992/lance-pollard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2579, "favorite_count": 0, "accepted_answer_id": 59481040, "answer_count": 1, "score": 1, "last_activity_date": 1577299912, "creation_date": 1577298319, "last_edit_date": 1577298408, "question_id": 59480912, "link": "https://stackoverflow.com/questions/59480912/how-is-the-nand-gate-implemented-conceptually", "title": "How is the NAND gate implemented? (Conceptually)", "body": "<p>I am trying to find the lowest level of things that you just <em>can't implement</em> because they are too low level. So it seems that all computation can be constructed from the <a href=\"https://en.wikipedia.org/wiki/NAND_logic\" rel=\"nofollow noreferrer\">NAND gate</a>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/rpqNC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rpqNC.png\" alt=\"enter image description here\"></a></p>\n\n<p>From the truth table it is easy to \"implement\" in JavaScript:</p>\n\n<pre><code>function nand(a, b) {\n  if (a == 0 &amp;&amp; b == 0) return 1\n  if (a == 0 &amp;&amp; b == 1) return 1\n  if (a == 1 &amp;&amp; b == 0) return 1\n  if (a == 1 &amp;&amp; b == 1) return 0\n}\n</code></pre>\n\n<p>But this is cheating. Because how are the <a href=\"https://electronics.stackexchange.com/questions/15393/generic-method-for-implementing-if-else-statement-in-hardware-using-gates-mux-d\">IF statements implemented</a>? I don't quite know how to represent that if-statement link in code since I'm not sure familiar with logic gates/circuits, but I am pretty sure the IF statement itself could be represented as a combination of NAND gates.</p>\n\n<p><em><strong>So then it's turtles all the way down!</strong> A NAND gate is implemented with more NAND gates (for the if-statements), etc..</em></p>\n\n<p>So how do we avoid this situation? Do we simply say that a NAND gate is an <em>axiom</em>? I am wondering because I'm wondering where the foundation for formal verification lies.</p>\n\n<p>Put another way, the reason I'm asking is because I've noticed that every function can be implemented as other functions, even the IF statement and such. Everything can be implemented all the way down to NAND gates. But then I am left swinging, the NAND is a function too, but what is it's implementation?!? I'm confused/perplexed and need some guidance on how to think about this.</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 1109, "user_id": 1857453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50c4540fe187860b137dabd3e42a8615?s=128&d=identicon&r=PG", "display_name": "selfagency", "link": "https://stackoverflow.com/users/1857453/selfagency"}, "edited": false, "score": 0, "creation_date": 1577298698, "post_id": 59480890, "comment_id": 105138591, "body": "Post a more complete code sample to CodePen or similar."}, {"owner": {"reputation": 21, "user_id": 12192312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4127837e450aa9920054e0238b18cbe4?s=128&d=identicon&r=PG&f=1", "display_name": "j.k.ells", "link": "https://stackoverflow.com/users/12192312/j-k-ells"}, "reply_to_user": {"reputation": 1109, "user_id": 1857453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50c4540fe187860b137dabd3e42a8615?s=128&d=identicon&r=PG", "display_name": "selfagency", "link": "https://stackoverflow.com/users/1857453/selfagency"}, "edited": false, "score": 0, "creation_date": 1577298881, "post_id": 59480890, "comment_id": 105138620, "body": "what&#39;s the issue with the code sample? That is a script that when a button is clicked, it toggles theme from light to dark. What do you need?"}, {"owner": {"reputation": 1109, "user_id": 1857453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50c4540fe187860b137dabd3e42a8615?s=128&d=identicon&r=PG", "display_name": "selfagency", "link": "https://stackoverflow.com/users/1857453/selfagency"}, "edited": false, "score": 0, "creation_date": 1577298943, "post_id": 59480890, "comment_id": 105138631, "body": "We have no idea how you&#39;re loading the external content that you&#39;re trying to manipulate."}, {"owner": {"reputation": 21, "user_id": 12192312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4127837e450aa9920054e0238b18cbe4?s=128&d=identicon&r=PG&f=1", "display_name": "j.k.ells", "link": "https://stackoverflow.com/users/12192312/j-k-ells"}, "reply_to_user": {"reputation": 1109, "user_id": 1857453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50c4540fe187860b137dabd3e42a8615?s=128&d=identicon&r=PG", "display_name": "selfagency", "link": "https://stackoverflow.com/users/1857453/selfagency"}, "edited": false, "score": 0, "creation_date": 1577299279, "post_id": 59480890, "comment_id": 105138696, "body": "I can&#39;t really load it to CodePen because depending on the link click it will display a different page. The &#39;loading&#39; portion of the external page is not an issue. It loads with no problem. But I will show you a code example in the edit above."}, {"owner": {"reputation": 21, "user_id": 12192312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4127837e450aa9920054e0238b18cbe4?s=128&d=identicon&r=PG&f=1", "display_name": "j.k.ells", "link": "https://stackoverflow.com/users/12192312/j-k-ells"}, "reply_to_user": {"reputation": 1109, "user_id": 1857453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50c4540fe187860b137dabd3e42a8615?s=128&d=identicon&r=PG", "display_name": "selfagency", "link": "https://stackoverflow.com/users/1857453/selfagency"}, "edited": false, "score": 0, "creation_date": 1577299968, "post_id": 59480890, "comment_id": 105138833, "body": "it is added above."}], "owner": {"reputation": 21, "user_id": 12192312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4127837e450aa9920054e0238b18cbe4?s=128&d=identicon&r=PG&f=1", "display_name": "j.k.ells", "link": "https://stackoverflow.com/users/12192312/j-k-ells"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577299597, "creation_date": 1577298081, "last_edit_date": 1577299597, "question_id": 59480890, "link": "https://stackoverflow.com/questions/59480890/add-class-to-different-html-page", "title": "Add Class to different html page", "body": "<p>I'm having difficulty applying a class to a different page. Here is the scenario: I have a single page that I'm designing that loads external pages onto that page based off a link click in the menu. With this, I would like to incorporate a 'theme' button that when selected, changes from light to dark theme. The issue I'm running into, is even calling the class in the script, will change the background of that class, but won't change any of the font in the external page being displayed and there is also a white border on the object tag. </p>\n\n<p><strong>Question is, how do I remove the white border in the object tag and affect the font tags (h1, h2, p, li, a, etc) on the page being loaded in the object tag?</strong></p>\n\n<p>Here is the code for the script below. The external page is identified by the \"ex_object\" class:</p>\n\n<pre><code>&lt;script&gt;\n$('#darkend').click(function(){\n$('html').toggleClass(\"dark\");\n$('.ex_object').toggleClass(\"dark\");\n$('#darkend').hide(\"slow\");\n$('#lightend').show(\"slow\");\n$('#nav-toggle-header').css('color','#fff');\n$('.wrapper').css('background','rgb(32,32,32)');\n$('.sidemenu-info').css('background','rgb(32,32,32)');\n});\n\n$('#lightend').click(function(){\n$('html').toggleClass(\"dark\");\n$('.ex_object').toggleClass(\"dark\");\n$('#darkend').show(\"slow\");\n$('#lightend').hide(\"slow\");\n$('#nav-toggle-header').css('color','#000000');\n});\n\n$('#nav-toggle-header').click(function(){\n$('.wrapper').show('slow');\n$('#sidebar').show('slow');\n\n});\n\n$('#nav-toggle-menu').click(function(){\n$('.wrapper').hide('slow');\n});\n&lt;/script&gt;\n\n&lt;div class=\"wrapper\"&gt;\n&lt;nav id=\"sidebar\"&gt;\n&lt;section data-accordion&gt;\n&lt;section id=\"menu_accordion\" data-control&gt;DROP MENU&lt;/section&gt;\n&lt;div data-content&gt;\n&lt;a href=\"#\" class=\"tab-link\" data-tab=\"tab-1\"&gt;&lt;li id=\"menu_accordion_sub\"&gt;&lt;span&gt;TEST&lt;/span&gt;&lt;/li&gt;&lt;/a&gt;\n&lt;/section&gt;\n&lt;/nav&gt;\n&lt;/div&gt;\n&lt;div class=\"main\"&gt;\n&lt;div id=\"content\"&gt;\n\n&lt;div id=\"tab-1\" class=\"tab-content\"&gt;\n&lt;object data=\"Pages/TEST.html\" class=\"ex_object\"&gt;&lt;/object&gt;          \n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n\n\n&lt;script&gt;\n$(document).ready(function(){\n\n$('.tab-link').click(function(){\nvar tab_id = $(this).attr('data-tab');\n\n$('.tab-link').removeClass('current');\n$('.tab-content').removeClass('current');\n$(\".wrapper\").hide(\"slow\");\n\n$(this).addClass('current');\n$(\"#\"+tab_id).addClass('current');\n})\n\n});\n&lt;/script&gt;\n\n\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "performance", "foreach", "v8"], "comments": [{"owner": {"reputation": 6127, "user_id": 2236921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfceb3e027563f0e5dd8ec8d45b70d63?s=128&d=identicon&r=PG", "display_name": "Lennholm", "link": "https://stackoverflow.com/users/2236921/lennholm"}, "edited": false, "score": 2, "creation_date": 1577298974, "post_id": 59480871, "comment_id": 105138639, "body": "This is an implementation detail of the JS engine. There are several different JS engines in use depending on the environment, which use different optimization strategies, so there\u2019s no universal answer to your question. I should note though that just because the callback isn\u2019t invoked for an empty index doesn\u2019t mean the engine doesn\u2019t iterate over it. It has to somehow determine if it\u2019s empty or not, after all."}, {"owner": {"reputation": 2717, "user_id": 1563634, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c3de5781d5c6232ca691ae9a85c47377?s=128&d=identicon&r=PG", "display_name": "mathheadinclouds", "link": "https://stackoverflow.com/users/1563634/mathheadinclouds"}, "reply_to_user": {"reputation": 6127, "user_id": 2236921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfceb3e027563f0e5dd8ec8d45b70d63?s=128&d=identicon&r=PG", "display_name": "Lennholm", "link": "https://stackoverflow.com/users/2236921/lennholm"}, "edited": false, "score": 0, "creation_date": 1577318644, "post_id": 59480871, "comment_id": 105141661, "body": "@Lennholm: you&#39;re absolutely right linking this to the JS engine. That&#39;s why I added the v8 tag, thanks."}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 2, "creation_date": 1577333155, "post_id": 59480871, "comment_id": 105143261, "body": "forEach still has to iterate over all numeric values from 0 to .length. For instance if you did <code>Object.defineProperty( arr, &#39;42&#39;, { enumerable: false } )</code>, it should still pass over this non-enumerable <code>42</code> index, and if you did <code>arr[&quot;foo&quot;] = bar</code>, it should  ignore this <code>foo</code> property."}, {"owner": {"reputation": 2717, "user_id": 1563634, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c3de5781d5c6232ca691ae9a85c47377?s=128&d=identicon&r=PG", "display_name": "mathheadinclouds", "link": "https://stackoverflow.com/users/1563634/mathheadinclouds"}, "reply_to_user": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1577334016, "post_id": 59480871, "comment_id": 105143381, "body": "@Kaiido: that sounds interesting. So you&#39;re saying, it possible that what <code>.forEach</code> loops over can be different from what <code>Object.keys</code> gives? I would love to see a fiddle for that. Thanks in advance."}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 1, "creation_date": 1577334121, "post_id": 59480871, "comment_id": 105143397, "body": "Well just <code>a = []; a.foo = &quot;bar&quot;;</code> will do."}, {"owner": {"reputation": 2717, "user_id": 1563634, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c3de5781d5c6232ca691ae9a85c47377?s=128&d=identicon&r=PG", "display_name": "mathheadinclouds", "link": "https://stackoverflow.com/users/1563634/mathheadinclouds"}, "reply_to_user": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1577334459, "post_id": 59480871, "comment_id": 105143446, "body": "<a href=\"https://jsfiddle.net/mathheadinclouds/vLpmch81/\" rel=\"nofollow noreferrer\">jsfiddle.net/mathheadinclouds/vLpmch81</a>  fiddle for what @Kaiido just said."}, {"owner": {"reputation": 2717, "user_id": 1563634, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c3de5781d5c6232ca691ae9a85c47377?s=128&d=identicon&r=PG", "display_name": "mathheadinclouds", "link": "https://stackoverflow.com/users/1563634/mathheadinclouds"}, "reply_to_user": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1577334869, "post_id": 59480871, "comment_id": 105143506, "body": "@Kaiido, OK then, is it true that <code>Object.keys</code> will always give a superset of what <code>.forEach</code> will loop over? And, then, couldn&#39;t I just use <code>Object.keys(...).filter()</code> to boil down the keys to the &quot;actual&quot; ones? The filter function checking for the key being numerical, plus maybe other stuff (the esoteric enumerable: false thing you mentioned which I have never used in &gt;20 years of JS, for example). You definitely got a point, but I still do not see why <code>.forEach</code> <i>HAS TO</i> loop over all those entries. &quot;Has to&quot; is a strong word, you know."}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 2, "creation_date": 1577335410, "post_id": 59480871, "comment_id": 105143581, "body": "I already gave such an example too: <code>Object.defineProperty( arr, &#39;42&#39;, { enumerable: false } )</code> <a href=\"https://jsfiddle.net/burt241f/\" rel=\"nofollow noreferrer\">jsfiddle.net/burt241f</a>"}, {"owner": {"reputation": 2717, "user_id": 1563634, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c3de5781d5c6232ca691ae9a85c47377?s=128&d=identicon&r=PG", "display_name": "mathheadinclouds", "link": "https://stackoverflow.com/users/1563634/mathheadinclouds"}, "edited": false, "score": 0, "creation_date": 1577335920, "post_id": 59480871, "comment_id": 105143673, "body": "ah, right, now I see. The &quot;foo&quot; thing shows how Object.keys can give more, and the defineProperty thing shows how Object.keys can give less. So the defineProperty thing would make the big loop possibly necessary (not the foo thing, because we can use filter there, as I mentioned). I say &quot;possibly&quot;, because, what do I know, maybe there is a method with which you can get all the stuff for which &quot;defineProperty&quot; has been called in one array."}, {"owner": {"reputation": 2717, "user_id": 1563634, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c3de5781d5c6232ca691ae9a85c47377?s=128&d=identicon&r=PG", "display_name": "mathheadinclouds", "link": "https://stackoverflow.com/users/1563634/mathheadinclouds"}, "reply_to_user": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1577337754, "post_id": 59480871, "comment_id": 105143969, "body": "@Kaiido: just trying to imagine what it is like to be a JS engine programmer, and what it would involve writing the implementation of <code>.forEach</code>. It&#39;s all very interesting what you&#39;re saying but it remains that the engine, due to having some implementation of a sparse array at it&#39;s disposal should not have to run this giant loop. It is <b>extremely</b> counter intuitive to me that such a loop would be necessary. This is strictly from the engine point of view.  I&#39;m talking about the <i>engine</i> finding a way not to have to do the big loop, not some JS lib. I probably should shut up, not beingEnginDev"}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1577338076, "post_id": 59480871, "comment_id": 105144021, "body": "Sure they could have optimizations running on to make this case faster, but given how rare sparse arrays are compared to full ones, if having this optimization in place means slower iteration or value setting for all &quot;normal&quot; arrays, or bigger objects to store in memory, I can see how an implementer won&#39;t be willing to do this."}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1577341518, "post_id": 59480871, "comment_id": 105144732, "body": "@mathheadinclouds have you read <a href=\"https://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.foreach\" rel=\"nofollow noreferrer\">the spec</a>?"}, {"owner": {"reputation": 6127, "user_id": 2236921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfceb3e027563f0e5dd8ec8d45b70d63?s=128&d=identicon&r=PG", "display_name": "Lennholm", "link": "https://stackoverflow.com/users/2236921/lennholm"}, "edited": false, "score": 1, "creation_date": 1577342008, "post_id": 59480871, "comment_id": 105144832, "body": "Using <code>Object.keys()</code> on an array seems like an anti-pattern to me. I would probably use a plain object instead of a sparse array if I found myself in this scenario."}, {"owner": {"reputation": 2717, "user_id": 1563634, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c3de5781d5c6232ca691ae9a85c47377?s=128&d=identicon&r=PG", "display_name": "mathheadinclouds", "link": "https://stackoverflow.com/users/1563634/mathheadinclouds"}, "reply_to_user": {"reputation": 6127, "user_id": 2236921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfceb3e027563f0e5dd8ec8d45b70d63?s=128&d=identicon&r=PG", "display_name": "Lennholm", "link": "https://stackoverflow.com/users/2236921/lennholm"}, "edited": false, "score": 0, "creation_date": 1577342853, "post_id": 59480871, "comment_id": 105145046, "body": "@Lennholm: LOL, I just answered my own question (before your comment, but apparently, you didn&#39;t see it) with exactly the same thought. So we agree!"}, {"owner": {"reputation": 2717, "user_id": 1563634, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c3de5781d5c6232ca691ae9a85c47377?s=128&d=identicon&r=PG", "display_name": "mathheadinclouds", "link": "https://stackoverflow.com/users/1563634/mathheadinclouds"}, "reply_to_user": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1577344033, "post_id": 59480871, "comment_id": 105145370, "body": "@MarkMeyer: I suffer from severe TL;DRobia. So no. But thanks for the link."}, {"owner": {"reputation": 2717, "user_id": 1563634, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c3de5781d5c6232ca691ae9a85c47377?s=128&d=identicon&r=PG", "display_name": "mathheadinclouds", "link": "https://stackoverflow.com/users/1563634/mathheadinclouds"}, "reply_to_user": {"reputation": 6127, "user_id": 2236921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfceb3e027563f0e5dd8ec8d45b70d63?s=128&d=identicon&r=PG", "display_name": "Lennholm", "link": "https://stackoverflow.com/users/2236921/lennholm"}, "edited": false, "score": 0, "creation_date": 1577388520, "post_id": 59480871, "comment_id": 105159517, "body": "@Lennholm: The anti-pattern is not the usage of <code>Object.keys()</code>. It&#39;s to use <code>Array</code> at all. If you have such huge gaps, <code>Array</code> is simply the wrong choice. But not using <code>Object.keys()</code> won&#39;t make the error go away. On the contrary. It&#39;s the hacky fix which makes the error less bad. So yes. Plain object."}], "answers": [{"tags": [], "owner": {"reputation": 2717, "user_id": 1563634, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c3de5781d5c6232ca691ae9a85c47377?s=128&d=identicon&r=PG", "display_name": "mathheadinclouds", "link": "https://stackoverflow.com/users/1563634/mathheadinclouds"}, "is_accepted": false, "score": 2, "last_activity_date": 1595269825, "last_edit_date": 1595269825, "creation_date": 1577341066, "answer_id": 59484539, "question_id": 59480871, "link": "https://stackoverflow.com/questions/59480871/foreach-vs-object-keys-foreach-performance-on-sparse-arrays/59484539#59484539", "title": ".forEach vs Object.keys().forEach performance on sparse arrays", "body": "<p>Ok, ok, ok - so it's just one of those things one has to live with; I didn't want to hear that, but that <em>is</em> the right answer.</p>\n<p>I'm going to continue to not read specs, and be bewildered at times. No, I'm not recommending that behavior, it's just the way I roll. Trying it out on the console just makes more sense to me, it's definitely more fun, while specs tend to make me fall asleep. Thankfully, people are different, and not everybody is like that.</p>\n<p>Maybe a more interesting question is how to deal with the phenomenon in practice. If, for example, I have to deal with a 'sparse Array' as in &quot;2 items of product 51472 and 1 item of product 81369&quot;, I'll use an <em>object</em> (<code>{}</code>) with keys 51472 and 81369, and <em>not</em> an array (<code>[]</code>).</p>\n<p>Making it an array just because all keys happen to be non-negative integers is <s>a bad idea</s> <strong>the worst idea of the last 10 thousand years</strong> - because you then have <code>.forEach</code>, which is a <strong>FALSE FRIEND</strong></p>\n<p>2 related questions:</p>\n<p><a href=\"https://stackoverflow.com/questions/46526520/why-are-we-allowed-to-create-sparse-arrays-in-javascript\">Why are we allowed to create sparse arrays in JavaScript</a></p>\n<p><a href=\"https://stackoverflow.com/questions/20126593/what-use-cases-are-there-in-javascript-for-sparse-arrays\">What use cases are there in JavaScript for Sparse Arrays?</a></p>\n"}, {"comments": [{"owner": {"reputation": 18838, "user_id": 6036428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b632c15ba23e78e466c8d33d657378fe?s=128&d=identicon&r=PG&f=1", "display_name": "jmrk", "link": "https://stackoverflow.com/users/6036428/jmrk"}, "edited": false, "score": 3, "creation_date": 1577364390, "post_id": 59485968, "comment_id": 105151805, "body": "The engine probably <i>could</i> add a fast path for that case, but simply hasn&#39;t gotten around to it yet because there were more urgent issues to work on. The Array.prototype.forEach implementation is complicated enough as it is..."}], "tags": [], "owner": {"reputation": 5575, "user_id": 6532549, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/Zn4qe.jpg?s=128&g=1", "display_name": "yqlim", "link": "https://stackoverflow.com/users/6532549/yqlim"}, "is_accepted": true, "score": -1, "last_activity_date": 1577690980, "last_edit_date": 1577690980, "creation_date": 1577350141, "answer_id": 59485968, "question_id": 59480871, "link": "https://stackoverflow.com/questions/59480871/foreach-vs-object-keys-foreach-performance-on-sparse-arrays/59485968#59485968", "title": ".forEach vs Object.keys().forEach performance on sparse arrays", "body": "<blockquote>\n  <p><s>as if</s> <em>because</em>, in one case, a giant pointless loop from zero to length <s>would be</s> <em>is</em> executed, but not in the other case.</p>\n</blockquote>\n\n<hr>\n\n<p>According to the <a href=\"https://www.ecma-international.org/ecma-262/5.1/#sec-15.4.4.18\" rel=\"nofollow noreferrer\">ECMA documentation</a>:</p>\n\n<ol>\n<li>The <code>.forEach</code> method will loop through all array elements by its <code>.length</code> property.</li>\n<li>The callback passed to <code>.forEach</code> will only be invoked if an element is not empty.</li>\n</ol>\n\n<p>To demonstrate this you can simply do:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function doNothing(){}\r\nlet perf;\r\n\r\n\r\nconsole.log('Array with 50 million length and 1 non-empty element:');\r\nconst a = [];\r\na[49999999] = 'a';\r\nconsole.log('a.length:', a.length);\r\n\r\nperf = performance.now();\r\na.forEach(doNothing);\r\nconsole.log('a:', performance.now() - perf);\r\nconsole.log('');\r\n\r\n\r\nconsole.log('Array with 0 length:');\r\nconst b = [];\r\nb.foo = 'a';\r\nconsole.log('b.length:', b.length);\r\n\r\nperf = performance.now();\r\nb.forEach(doNothing);\r\nconsole.log('b:', performance.now() - perf);\r\nconsole.log('');\r\n\r\n\r\nconsole.log('Array with 50 million length and 0 non-empty element:');\r\nconst c = [];\r\nc.length = 50000000;\r\nconsole.log('c.length:', c.length);\r\n\r\nperf = performance.now();\r\nc.forEach(doNothing);\r\nconsole.log('c:', performance.now() - perf);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2717, "user_id": 1563634, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c3de5781d5c6232ca691ae9a85c47377?s=128&d=identicon&r=PG", "display_name": "mathheadinclouds", "link": "https://stackoverflow.com/users/1563634/mathheadinclouds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 1, "accepted_answer_id": 59485968, "answer_count": 2, "score": 2, "last_activity_date": 1595269825, "creation_date": 1577297835, "last_edit_date": 1595268746, "question_id": 59480871, "link": "https://stackoverflow.com/questions/59480871/foreach-vs-object-keys-foreach-performance-on-sparse-arrays", "title": ".forEach vs Object.keys().forEach performance on sparse arrays", "body": "<p>Tell me if I'm wrong: <code>array.forEach(callbackFunction)</code> is suited for sparse arrays. It executes <code>callbackFunction</code> not for each index between zero and the array length, but only for the keys which are actually <code>in</code>  the array. And (tell me if I'm wrong) those keys are exactly what <code>Object.keys(array)</code> will give me. Hence (tell me <em>why</em> I'm wrong) it shouldn't make a difference if the <code>.forEach</code> method is called on <code>array</code> itself or on <code>Object.keys(array)</code>. So, why on earth is there this performance difference - as if, in one case, a giant pointless loop from zero to length would be executed, but not in the other case.</p>\n<p>Snippet showing performance difference:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function doNothing(){}\nCONSOLE = document.getElementById('console');\n\narr = [];\narr[49888999] = 42;\n\nstart = performance.now();\narr.forEach(doNothing);\nduration1 = performance.now() - start;\n\nstart = performance.now();\nObject.keys(arr).forEach(doNothing);\nduration2 = performance.now() - start;\n\nCONSOLE.textContent = [duration1, duration2].join('\\n');</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;pre id='console'&gt;&lt;/pre&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Snippet showing that the callback function <strong>IS CALLED ONLY ONCE</strong> in <strong>BOTH</strong> cases</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>console1 = document.getElementById('console1');\nconsole2 = document.getElementById('console2');\nfunction doNothingVerbose1(){\n  console1.textContent = 1 + (+console1.textContent);\n}\nfunction doNothingVerbose2(){\n  console2.textContent = 1 + (+console2.textContent);\n}\n\narr = [];\narr[49888999] = 42;\n\nstart = performance.now();\narr.forEach(doNothingVerbose1);\nduration1 = performance.now() - start;\n\nstart = performance.now();\nObject.keys(arr).forEach(doNothingVerbose2);\nduration2 = performance.now() - start;\n\nconsole.log(duration1, duration2);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>~~~~~ 1 ~~~~~\n&lt;pre id='console1'&gt;0&lt;/pre&gt;\n~~~~~ 2 ~~~~~\n&lt;pre id='console2'&gt;0&lt;/pre&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>UPDATE</strong></p>\n<p>I just did a test to find out whether or not the above <code>arr=[];arr[49888999]=42;</code> is an actual sparse array, i.e. has much less memory footprint compared to doing <code>arr=new Array(49889000)</code>. And yes, that is the case. Doing this hundreds of times in a loop, the sparse version takes a couple of seconds but doesn't crash, but the <code>new Array(50 million)</code> version crashes the fiddle. So if it's not stored as a 'normal C++ array' in the engine then the engine must &quot;have&quot; <code>Object.keys</code> of the array, so why doesn't the engine make efficient use of it? I might have a too simplistic view of what a JS engine has to do; is it wrong to say that the engine must &quot;have&quot; <code>Object.keys</code> because it &quot;has&quot; a <em>sparse</em> array implementation backing our variable <code>arr</code> in some fashion? Maybe someone actually working on a browser/JS engine can shed some light here.</p>\n<p><a href=\"https://jsperf.com/array-foreach-performance/1\" rel=\"nofollow noreferrer\">above test on jsperf</a></p>\n"}, {"tags": ["javascript", "sequelize.js", "timescaledb"], "answers": [{"tags": [], "owner": {"reputation": 1099, "user_id": 8465166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b5cfb72c7934325762dba97d237c3e1?s=128&d=identicon&r=PG", "display_name": "Mike Freedman", "link": "https://stackoverflow.com/users/8465166/mike-freedman"}, "is_accepted": true, "score": 5, "last_activity_date": 1577298316, "creation_date": 1577298316, "answer_id": 59480911, "question_id": 59480852, "link": "https://stackoverflow.com/questions/59480852/save-javascript-date-now-millisecond-timestamps-in-timescaledb/59480911#59480911", "title": "Save Javascript Date.now() millisecond timestamps in TimescaleDB", "body": "<p>(Timescaler here)</p>\n\n<ol>\n<li><p>We recommend using the native timestamptz (timestamp with time zone) or timestamp format whenever possible, rather than integers.  It's microsecond accuracy and is much easier to utilize with time zone conversion, queries using timestamps, now(), etc.  The one time this isn't possible is for nanosecond accuracy (need a bigint), but that doesn't apply here.</p></li>\n<li><p>You are already encountering an issue in using an integer timestamp (rather than timestamp type).  You are setting <code>chunk_time_interval</code> to an interval type but your column is an integer.  The problem is that we don't know if your integer represents nanoseconds, seconds, hours, etc., so you can't use something human-readable like '1 day'.  In this case, if your time column is milliseconds, you'd need to specify 86400000.</p></li>\n</ol>\n\n<p>But in generally, would recommend using timestamptz types if at all possible.</p>\n"}], "owner": {"reputation": 51505, "user_id": 741099, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9a7101fe3ba50e621e91ee1edf9d27bb?s=128&d=identicon&r=PG", "display_name": "Nyxynyx", "link": "https://stackoverflow.com/users/741099/nyxynyx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 59480911, "answer_count": 1, "score": 1, "last_activity_date": 1577298316, "creation_date": 1577297645, "question_id": 59480852, "link": "https://stackoverflow.com/questions/59480852/save-javascript-date-now-millisecond-timestamps-in-timescaledb", "title": "Save Javascript Date.now() millisecond timestamps in TimescaleDB", "body": "<p>I am trying to store unix timestamps with millisecond precision generated from Javascript's <code>Date.now()</code> into a TimescaleDB table <code>Data</code> under the column named <code>timestamp</code> with type <code>int8</code>, or <code>DataTypes.BIGINT</code> when using the Javascript library <code>Sequelize</code>. </p>\n\n<p><strong>Question 1:</strong> Is <code>int8</code>/<code>BIGINT</code> the recommended type to store millisecond unix timestamps in?</p>\n\n<p><strong>Question 2:</strong> When I try to create the TimescaleDB hypertable using:</p>\n\n<pre><code>SELECT create_hypertable('\"Data\"', 'timestamp', chunk_time_interval =&gt; interval '1 day');\n</code></pre>\n\n<p>I get the error message</p>\n\n<blockquote>\n  <p>ERROR:  invalid interval: must be an integer type for integer dimensions\n  , Time: 0.006000s</p>\n</blockquote>\n\n<p>Is this because the <code>interval '1 day'</code> can not be used with a column of interger type, but only for timestamp and date types?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 658, "user_id": 11564070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74d7a64152131af8a9e3ce519de9a3a0?s=128&d=identicon&r=PG&f=1", "display_name": "Tinu Jos K", "link": "https://stackoverflow.com/users/11564070/tinu-jos-k"}, "edited": false, "score": 2, "creation_date": 1577297564, "post_id": 59480833, "comment_id": 105138343, "body": "You have to use querySelectorAll instead of querySelector so that it will select all the a tags, please see this <a href=\"https://stackoverflow.com/questions/14377590/queryselector-and-queryselectorall-vs-getelementsbyclassname-and-getelementbyid\" title=\"queryselector and queryselectorall vs getelementsbyclassname and getelementbyid\">stackoverflow.com/questions/14377590/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2955, "user_id": 6655126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DUGmM.jpg?s=128&g=1", "display_name": "T. Short", "link": "https://stackoverflow.com/users/6655126/t-short"}, "is_accepted": false, "score": 1, "last_activity_date": 1577297778, "creation_date": 1577297778, "answer_id": 59480865, "question_id": 59480833, "link": "https://stackoverflow.com/questions/59480833/in-javascript-getattribute-from-li-element-works-partially/59480865#59480865", "title": "In JavaScript getAttribute from li element works partially", "body": "<p><code>document.querySelector</code> will only return the first element it finds.</p>\n\n<p>What you want to use is <code>doucment.querySelectorAll()</code>. This will return an array of all the elements that match the query. You can read more about it here:</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll</a></p>\n"}, {"comments": [{"owner": {"reputation": 185, "user_id": 6665246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1TIFu.png?s=128&g=1", "display_name": "Isabella", "link": "https://stackoverflow.com/users/6665246/isabella"}, "edited": false, "score": 1, "creation_date": 1577298319, "post_id": 59480867, "comment_id": 105138504, "body": "Your code worked perfectly by using &quot;querySelectorAll&quot; instead of &quot;getElementsByTagName&quot;, thank you."}], "tags": [], "owner": {"reputation": 10894, "user_id": 3150271, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/EXijl.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/3150271/anonymous"}, "is_accepted": false, "score": 1, "last_activity_date": 1577297801, "creation_date": 1577297801, "answer_id": 59480867, "question_id": 59480833, "link": "https://stackoverflow.com/questions/59480833/in-javascript-getattribute-from-li-element-works-partially/59480867#59480867", "title": "In JavaScript getAttribute from li element works partially", "body": "<p>You're only adding the listener to the first element. Add it to all of them:</p>\n\n<pre><code>document.getElementsByTagName('a').forEach(e =&gt; {\n    let clicked = e.getAttribute('data-video');\n    e.addEventListener('click', () =&gt; {\n        document.querySelector('iframe').src = clicked;\n    });\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 185, "user_id": 6665246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1TIFu.png?s=128&g=1", "display_name": "Isabella", "link": "https://stackoverflow.com/users/6665246/isabella"}, "edited": false, "score": 0, "creation_date": 1577299958, "post_id": 59480903, "comment_id": 105138829, "body": "I decided to choose your answer because it is more readable and it is much better for minimalist people like me, thank you all."}], "tags": [], "owner": {"reputation": 9567, "user_id": 7916438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8541ff62182bcfd172e116a4e0d2fa58?s=128&d=identicon&r=PG", "display_name": "tevemadar", "link": "https://stackoverflow.com/users/7916438/tevemadar"}, "is_accepted": true, "score": 2, "last_activity_date": 1577298195, "creation_date": 1577298195, "answer_id": 59480903, "question_id": 59480833, "link": "https://stackoverflow.com/questions/59480833/in-javascript-getattribute-from-li-element-works-partially/59480903#59480903", "title": "In JavaScript getAttribute from li element works partially", "body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector\" rel=\"nofollow noreferrer\"><code>querySelector()</code></a></p>\n\n<blockquote>\n  <p>The Document method querySelector() returns the first Element within the document that matches the specified selector, or group of selectors. If no matches are found, null is returned.</p>\n</blockquote>\n\n<p>You rather need <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll\" rel=\"nofollow noreferrer\"><code>querySelectorAll</code></a></p>\n\n<blockquote>\n  <p>The Document method querySelectorAll() returns a static (not live) NodeList representing a list of the document's elements that match the specified group of selectors.</p>\n</blockquote>\n\n<p>You need this latter one with a loop, also the event handler should handle the event for deciding what has been clicked:</p>\n\n<pre><code>document.querySelectorAll('a').forEach(item =&gt; item.addEventListener('click',\n    event =&gt; document.querySelector('iframe').src = event.target.getAttribute('data-video')\n));\n</code></pre>\n\n<p>Demo (it just displays text as these snippets are heavily sandboxed here)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.querySelectorAll('a').forEach(item =&gt; item.addEventListener('click',\r\n    event =&gt; document.querySelector('.vid').innerText = event.target.getAttribute('data-video')\r\n));</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"container\"&gt;\r\n    &lt;div class=\"list\"&gt;\r\n        &lt;li&gt;&lt;a data-video=\"https://www.youtube.com/embed/PkZNo7MFNFg\" href=\"#\"&gt;Vido 1&lt;/a&gt;&lt;/li&gt;\r\n        &lt;li&gt;&lt;a data-video=\"https://www.youtube.com/embed/7bE2mI4ePeU\" href=\"#\"&gt;Vido 2&lt;/a&gt;&lt;/li&gt;\r\n        &lt;br&gt;\r\n        &lt;br&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"vid\"&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4363769, "user_type": "registered", "profile_image": "https://graph.facebook.com/1073781501/picture?type=large", "display_name": "Arnab Banerji", "link": "https://stackoverflow.com/users/4363769/arnab-banerji"}, "is_accepted": false, "score": 1, "last_activity_date": 1577298244, "creation_date": 1577298244, "answer_id": 59480906, "question_id": 59480833, "link": "https://stackoverflow.com/questions/59480833/in-javascript-getattribute-from-li-element-works-partially/59480906#59480906", "title": "In JavaScript getAttribute from li element works partially", "body": "<p>I think this can work:</p>\n\n<pre><code>    &lt;div class=\"container\"&gt;\n    &lt;div class=\"list\"&gt;\n        &lt;li&gt;&lt;a data-video=\"https://www.youtube.com/embed/PkZNo7MFNFg\" href=\"#\"&gt;Vido 1&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a data-video=\"https://www.youtube.com/embed/7bE2mI4ePeU\" href=\"#\"&gt;Vido 2&lt;/a&gt;&lt;/li&gt;\n        &lt;br&gt;\n        &lt;br&gt;\n    &lt;/div&gt;\n    &lt;div class=\"vid\"&gt;\n        &lt;iframe id=\"videos\" width=\"760\" height=\"415\" style=\"background: #ccc;\" src=\"\" frameborder=\"0\"\n                allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n                allowfullscreen&gt;&lt;/iframe&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n    &lt;script&gt;\n\n        let allLinks = document.querySelectorAll('a');\n        for (let i = 0; i &lt; allLinks.length; i++) {\n            let link = allLinks[i];\n\n            link.addEventListener('click', function () {\n                let clicked = this.getAttribute('data-video');\n                console.log(`clicked = ${clicked}`);\n                document.querySelector('iframe').src = clicked;\n            });\n        }\n\n    &lt;/script&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 853, "user_id": 9421516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f91808486b8410a10013d8643a5899c?s=128&d=identicon&r=PG&f=1", "display_name": "Md. Amirozzaman", "link": "https://stackoverflow.com/users/9421516/md-amirozzaman"}, "is_accepted": false, "score": 1, "last_activity_date": 1577300146, "last_edit_date": 1577300146, "creation_date": 1577298757, "answer_id": 59480966, "question_id": 59480833, "link": "https://stackoverflow.com/questions/59480833/in-javascript-getattribute-from-li-element-works-partially/59480966#59480966", "title": "In JavaScript getAttribute from li element works partially", "body": "<p>First of all <code>querySelector</code> return only first element,so we need to <code>querySelectorAll</code> to target all elements.So try this one:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"container\"&gt;\r\n    &lt;div class=\"list\"&gt;\r\n        &lt;li&gt;&lt;a data-video=\"https://www.youtube.com/embed/PkZNo7MFNFg\" href=\"#\" &gt;Vido 1&lt;/a&gt;&lt;/li&gt;\r\n        &lt;li&gt;&lt;a data-video=\"https://www.youtube.com/embed/7bE2mI4ePeU\" href=\"#\"&gt;Vido 2&lt;/a&gt;&lt;/li&gt;\r\n        &lt;br&gt;\r\n        &lt;br&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"vid\"&gt;\r\n        &lt;iframe id=\"videos\" width=\"760\" height=\"415\" style=\"background: #ccc;\" src=\"\" frameborder=\"0\"\r\n            allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\r\n            allowfullscreen&gt;&lt;/iframe&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;script&gt;\r\n    const vLinks = document.querySelectorAll(\"a\");\r\n    for (const vLink of vLinks) {\r\n        vLink.addEventListener('click', (e) =&gt; {\r\n              e.preventDefault();\r\n              document.querySelector('iframe').src=e.target.dataset.video;\r\n              console.log(e.target.dataset.video);\r\n          })\r\n    };\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Another approach is:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"container\"&gt;\r\n    &lt;div class=\"list\"&gt;\r\n        &lt;li&gt;&lt;a data-video=\"https://www.youtube.com/embed/PkZNo7MFNFg\" href=\"#\" &gt;Vido 1&lt;/a&gt;&lt;/li&gt;\r\n        &lt;li&gt;&lt;a data-video=\"https://www.youtube.com/embed/7bE2mI4ePeU\" href=\"#\"&gt;Vido 2&lt;/a&gt;&lt;/li&gt;\r\n        &lt;br&gt;\r\n        &lt;br&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"vid\"&gt;\r\n        &lt;iframe id=\"videos\" width=\"760\" height=\"415\" style=\"background: #ccc;\" src=\"\" frameborder=\"0\"\r\n            allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\r\n            allowfullscreen&gt;&lt;/iframe&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;script&gt;\r\n    \r\n    window.addEventListener('click', (e) =&gt; {\r\n        //action has been taken if target elements has 'data-video' attribute\r\n        if(e.target.dataset.video){\r\n            e.preventDefault();\r\n            document.querySelector('iframe').src=e.target.dataset.video;\r\n            console.log(e.target.dataset.video);\r\n        }\r\n    })\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 185, "user_id": 6665246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1TIFu.png?s=128&g=1", "display_name": "Isabella", "link": "https://stackoverflow.com/users/6665246/isabella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 1, "accepted_answer_id": 59480903, "answer_count": 5, "score": 1, "last_activity_date": 1577300146, "creation_date": 1577297508, "question_id": 59480833, "link": "https://stackoverflow.com/questions/59480833/in-javascript-getattribute-from-li-element-works-partially", "title": "In JavaScript getAttribute from li element works partially", "body": "<p>My Js code in the bottom is working properly for first link, but not for the second, even if I refresh the page it works only for first link, any idea how to solve this? thank you.</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n    &lt;div class=\"list\"&gt;\n        &lt;li&gt;&lt;a data-video=\"https://www.youtube.com/embed/PkZNo7MFNFg\" href=\"#\"&gt;Vido 1&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a data-video=\"https://www.youtube.com/embed/7bE2mI4ePeU\" href=\"#\"&gt;Vido 2&lt;/a&gt;&lt;/li&gt;\n        &lt;br&gt;\n        &lt;br&gt;\n    &lt;/div&gt;\n    &lt;div class=\"vid\"&gt;\n        &lt;iframe id=\"videos\" width=\"760\" height=\"415\" style=\"background: #ccc;\" src=\"\" frameborder=\"0\"\n            allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n            allowfullscreen&gt;&lt;/iframe&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\n    let clicked = document.querySelector('a').getAttribute('data-video');\n    document.querySelector('a').addEventListener('click', () =&gt; {\n        document.querySelector('iframe').src = clicked;\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["javascript", "ionic-framework", "dependencies", "ionic4"], "answers": [{"tags": [], "owner": {"reputation": 338, "user_id": 6095092, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/TLLxV.jpg?s=128&g=1", "display_name": "Louay Sleman", "link": "https://stackoverflow.com/users/6095092/louay-sleman"}, "is_accepted": false, "score": 0, "last_activity_date": 1591949896, "creation_date": 1591949896, "answer_id": 62340290, "question_id": 59480814, "link": "https://stackoverflow.com/questions/59480814/how-to-use-ionic-super-tabs-in-ionic-4/62340290#62340290", "title": "How to use Ionic super tabs in ionic 4?", "body": "<p>For ionic 4 an updated Packages published under the @ionic-super-tabs/ scope are compatible with ionic 4.0.0 and above to use it just run this:</p>\n\n<pre><code>npm i @ionic-super-tabs/angular\n</code></pre>\n\n<p>and for more information you can find it in this repository on github <a href=\"https://github.com/zyra/ionic-super-tabs#ionic-4\" rel=\"nofollow noreferrer\">ionic-super-tabs@ionic4</a></p>\n\n<p>Hope this will help you.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11801512"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1104, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1591949896, "creation_date": 1577297331, "last_edit_date": 1581403496, "question_id": 59480814, "link": "https://stackoverflow.com/questions/59480814/how-to-use-ionic-super-tabs-in-ionic-4", "title": "How to use Ionic super tabs in ionic 4?", "body": "<p>I work with <code>ionic 4</code> and I added <code>super tabs</code> in my app, and when I want to run my app this <strong>error:</strong></p>\n\n<blockquote>\n  <p>ERROR in ./node_modules/@ionic-super-tabs/angular/dist/fesm5.js\n      Module not found: Error: Can\u2019t resolve \u2018@ionic-super-tabs/core/dist/types/components\u2019 in\n  \u2018E:\\Angular_Project\\Ionic project\\Clone\n  Raihan\\raihan-4\\node_modules@ionic-super-tabs\\angular\\dist\u2019\n      [ERROR] An error occurred while running subprocess ng.</p>\n</blockquote>\n\n<p>Any solutions?</p>\n"}, {"tags": ["javascript", "xhtml", "innerhtml", "internet-explorer-10"], "comments": [{"owner": {"reputation": 658, "user_id": 11564070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74d7a64152131af8a9e3ce519de9a3a0?s=128&d=identicon&r=PG&f=1", "display_name": "Tinu Jos K", "link": "https://stackoverflow.com/users/11564070/tinu-jos-k"}, "edited": false, "score": 0, "creation_date": 1577297335, "post_id": 59480796, "comment_id": 105138297, "body": "<a href=\"https://stackoverflow.com/questions/18990441/innerhtml-br-breaking\" title=\"innerhtml br breaking\">stackoverflow.com/questions/18990441/innerhtml-br-breaking</a>  Please see if this helps"}, {"owner": {"reputation": 309, "user_id": 12548236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd55febd47cccf9460c9441d724f0c7c?s=128&d=identicon&r=PG", "display_name": "AiAbdrahim", "link": "https://stackoverflow.com/users/12548236/aiabdrahim"}, "edited": false, "score": 0, "creation_date": 1577299196, "post_id": 59480796, "comment_id": 105138681, "body": "is &lt;br&gt; not working for IE10 ????"}, {"owner": {"reputation": 1, "user_id": 12596692, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCe8vpktCfMGEz6z5wrJT5rFx3i64qvXdjRIf47=k-s128", "display_name": "Lavanya Kumari", "link": "https://stackoverflow.com/users/12596692/lavanya-kumari"}, "edited": false, "score": 0, "creation_date": 1577301788, "post_id": 59480796, "comment_id": 105139162, "body": "i need to store it in xhtml format later."}, {"owner": {"reputation": 42447, "user_id": 1016716, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1c83d772b1c065603c7f20975d8d3552?s=128&d=identicon&r=PG", "display_name": "Mr Lister", "link": "https://stackoverflow.com/users/1016716/mr-lister"}, "edited": false, "score": 0, "creation_date": 1577396160, "post_id": 59480796, "comment_id": 105161387, "body": "It works as desired when you serve up the HTML file as XHTML to begin with."}], "answers": [{"tags": [], "owner": {"reputation": 6456, "user_id": 11490347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lFlKK.jpg?s=128&g=1", "display_name": "Yu Zhou", "link": "https://stackoverflow.com/users/11490347/yu-zhou"}, "is_accepted": false, "score": 1, "last_activity_date": 1577327172, "creation_date": 1577327172, "answer_id": 59483275, "question_id": 59480796, "link": "https://stackoverflow.com/questions/59480796/innerhtml-converts-br-tag-to-br/59483275#59483275", "title": ".innerhtml converts &lt;br/&gt; tag to &lt;br&gt;", "body": "<p><code>innerHTML</code> converts it to <code>&lt;br&gt;</code> because it should be <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/br\" rel=\"nofollow noreferrer\"><code>&lt;br&gt;</code></a> in html. If you want to use it as <code>&lt;br /&gt;</code> in XHTML, you could replace <code>&lt;br&gt;</code> with <code>&lt;br /&gt;</code> after getting the inner html. You could refer to the sample below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var a = document.getElementsByTagName(\"div\")[0];\r\nvar b = a.innerHTML.split(\"&lt;br&gt;\").join(\"&lt;br /&gt;\");\r\nconsole.log(b);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;\r\n  &lt;span&gt;line 1&lt;br /&gt;line 2&lt;br /&gt;line 3&lt;/span&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 12596692, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCe8vpktCfMGEz6z5wrJT5rFx3i64qvXdjRIf47=k-s128", "display_name": "Lavanya Kumari", "link": "https://stackoverflow.com/users/12596692/lavanya-kumari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577327172, "creation_date": 1577297042, "last_edit_date": 1577297141, "question_id": 59480796, "link": "https://stackoverflow.com/questions/59480796/innerhtml-converts-br-tag-to-br", "title": ".innerhtml converts &lt;br/&gt; tag to &lt;br&gt;", "body": "<p>I am trying to get the innerhtml of an html element which contains self closing br tags<code>&lt;br/&gt;</code> but using .innerhtml converts the <code>&lt;br/&gt;</code> to <code>&lt;br&gt;</code> tag. I am working with IE10 And it has no XHTML parser to get innerhtml. This is the html:</p>\n\n<pre><code>&lt;div&gt;\n&lt;span&gt;line 1&lt;br/&gt;line 2&lt;br/&gt;line 3&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I want to retain the self closing tag as it is but want to avoid using regEx. Can anyone help me with some other approach to achieve this?</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 2425, "user_id": 2732184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/089a5d9251fc0939723aeb01f145094a?s=128&d=identicon&r=PG&f=1", "display_name": "bmatovu", "link": "https://stackoverflow.com/users/2732184/bmatovu"}, "edited": false, "score": 0, "creation_date": 1577298201, "post_id": 59480795, "comment_id": 105138474, "body": "Since the keys are variable, I would go with a legacy for loop and sum the totals on each pass.  Else with a common key like &#39;sales&#39;; <code>array reduce</code> would be good for the job."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1577310770, "post_id": 59480795, "comment_id": 105140593, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/27879827/sum-of-object-properties-within-an-array\">Sum of object properties within an array</a>"}], "answers": [{"comments": [{"owner": {"reputation": 296, "user_id": 2426420, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1980b7a85af10081b93b8ab2588aa1a8?s=128&d=identicon&r=PG&f=1", "display_name": "J2015", "link": "https://stackoverflow.com/users/2426420/j2015"}, "edited": false, "score": 0, "creation_date": 1577297950, "post_id": 59480816, "comment_id": 105138424, "body": "Thanks for your reply. Do you know rather than defining the response, how to get that string from the server?"}, {"owner": {"reputation": 3010, "user_id": 3415984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sTrps.jpg?s=128&g=1", "display_name": "ttrasn", "link": "https://stackoverflow.com/users/3415984/ttrasn"}, "reply_to_user": {"reputation": 296, "user_id": 2426420, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1980b7a85af10081b93b8ab2588aa1a8?s=128&d=identicon&r=PG&f=1", "display_name": "J2015", "link": "https://stackoverflow.com/users/2426420/j2015"}, "edited": false, "score": 0, "creation_date": 1577298208, "post_id": 59480816, "comment_id": 105138476, "body": "@J2015 its depends on your <code>api</code> and your request."}, {"owner": {"reputation": 296, "user_id": 2426420, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1980b7a85af10081b93b8ab2588aa1a8?s=128&d=identicon&r=PG&f=1", "display_name": "J2015", "link": "https://stackoverflow.com/users/2426420/j2015"}, "edited": false, "score": 0, "creation_date": 1577298914, "post_id": 59480816, "comment_id": 105138624, "body": "Didn&#39;t get it. my endpoint would be somthing linke <a href=\"https://example.com/?name=&quot;Jack\" rel=\"nofollow noreferrer\">example.com/?name=&quot;Jack</a>&quot; and I expect a list of jsons as a response. I dont know how to read this response"}, {"owner": {"reputation": 3010, "user_id": 3415984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sTrps.jpg?s=128&g=1", "display_name": "ttrasn", "link": "https://stackoverflow.com/users/3415984/ttrasn"}, "reply_to_user": {"reputation": 296, "user_id": 2426420, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1980b7a85af10081b93b8ab2588aa1a8?s=128&d=identicon&r=PG&f=1", "display_name": "J2015", "link": "https://stackoverflow.com/users/2426420/j2015"}, "edited": false, "score": 0, "creation_date": 1577299384, "post_id": 59480816, "comment_id": 105138716, "body": "@J2015 see this link <a href=\"https://stackoverflow.com/questions/247483/http-get-request-in-javascript\" title=\"http get request in javascript\">stackoverflow.com/questions/247483/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3010, "user_id": 3415984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sTrps.jpg?s=128&g=1", "display_name": "ttrasn", "link": "https://stackoverflow.com/users/3415984/ttrasn"}, "is_accepted": true, "score": 1, "last_activity_date": 1577297353, "creation_date": 1577297353, "answer_id": 59480816, "question_id": 59480795, "link": "https://stackoverflow.com/questions/59480795/how-to-return-a-sum-of-a-list-of-json-object-values-in-html/59480816#59480816", "title": "How to return a sum of a list of json object values in HTML", "body": "<p>Short answer of your question is :</p>\n\n<pre><code>var a = '[{\"Phone\":800}, {\"laptop\":1500}, {\"car\":12000},{\"watch\":300}]';\n\n// parse your json to object if your json is string and not generated by js\na = JSON.parse(a); \n\nvar sum = 0;\nObject.values(a).forEach(function(ww){\n   sum += Object.values(ww)[0]; // get sum of every object item value.\n});\n\nconsole.log(sum);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 296, "user_id": 2426420, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1980b7a85af10081b93b8ab2588aa1a8?s=128&d=identicon&r=PG&f=1", "display_name": "J2015", "link": "https://stackoverflow.com/users/2426420/j2015"}, "edited": false, "score": 0, "creation_date": 1577298935, "post_id": 59480933, "comment_id": 105138630, "body": "Thanks for your reply. Do you know rather than defining the response, how to get that string from the server?"}, {"owner": {"reputation": 3407, "user_id": 9432559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7d1f5d95a510943bb5aaed991b94a20?s=128&d=identicon&r=PG&f=1", "display_name": "SDushan", "link": "https://stackoverflow.com/users/9432559/sdushan"}, "reply_to_user": {"reputation": 296, "user_id": 2426420, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1980b7a85af10081b93b8ab2588aa1a8?s=128&d=identicon&r=PG&f=1", "display_name": "J2015", "link": "https://stackoverflow.com/users/2426420/j2015"}, "edited": false, "score": 0, "creation_date": 1577299149, "post_id": 59480933, "comment_id": 105138667, "body": "you can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fet&zwnj;&#8203;ch</a> or <a href=\"https://github.com/axios/axios\" rel=\"nofollow noreferrer\">github.com/axios/axios</a> to get data from server"}], "tags": [], "owner": {"reputation": 3407, "user_id": 9432559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7d1f5d95a510943bb5aaed991b94a20?s=128&d=identicon&r=PG&f=1", "display_name": "SDushan", "link": "https://stackoverflow.com/users/9432559/sdushan"}, "is_accepted": false, "score": 1, "last_activity_date": 1577298478, "creation_date": 1577298478, "answer_id": 59480933, "question_id": 59480795, "link": "https://stackoverflow.com/questions/59480795/how-to-return-a-sum-of-a-list-of-json-object-values-in-html/59480933#59480933", "title": "How to return a sum of a list of json object values in HTML", "body": "<p>Use <code>reduce()</code> method in JavaScript.</p>\n\n<pre><code>let data = [{\"Phone\":1}, {\"laptop\":1}, {\"car\":1},{\"watch\":1}]\n\nlet total = data.reduce((acc, value) =&gt; {\n    return acc + value[Object.keys(value)[0]]\n}, 0)\n\nconsole.log(total);\n</code></pre>\n"}], "owner": {"reputation": 296, "user_id": 2426420, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1980b7a85af10081b93b8ab2588aa1a8?s=128&d=identicon&r=PG&f=1", "display_name": "J2015", "link": "https://stackoverflow.com/users/2426420/j2015"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 59480816, "answer_count": 2, "score": 0, "last_activity_date": 1577298478, "creation_date": 1577297041, "question_id": 59480795, "link": "https://stackoverflow.com/questions/59480795/how-to-return-a-sum-of-a-list-of-json-object-values-in-html", "title": "How to return a sum of a list of json object values in HTML", "body": "<p>I am building a html form which based on that, when user submits his/her name it should return an integer representing sum of all bought items by user, the return value from API is a list of json formate, which looks like this:</p>\n\n<pre><code>[{\"Phone\":800}, {\"laptop\":1500}, {\"car\":12000},{\"watch\":300}]\n</code></pre>\n\n<p>This is my html code:</p>\n\n<pre><code>   &lt;!DOCTYPE html&gt;\n  &lt;html lang=\"en\"&gt;\n   &lt;head&gt;\n       &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n       &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"MyMain.css\"&gt;\n       &lt;script language=\"JavaScript\"&gt;\n        function myFunction() {\n            document.getElementById('myshow').innerHTML = \n                        document.getElementById(\"Name\").value;\n\n             return false;\n          }\n       &lt;/script&gt;\n   &lt;/head&gt;\n   &lt;body&gt;\n      &lt;div class=\"container\"&gt;\n            &lt;div&gt;\n              &lt;fieldset&gt;\n                &lt;form method=\"POST\" action=\"\" onSubmit=\"return myFunction();\"&gt;\n                  &lt;div class=\"row\"&gt;\n                    &lt;div form-group\"&gt;\n                      &lt;label for=\"fname\"&gt;Your Name: &lt;/label&gt;\n                      &lt;input type=\"text\" class=\"form-control\" name=\"name\" id=\"Name\" placeholder=\"Jon\" value=\"\"&gt;\n                    &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div&gt;\n                      &lt;input type=\"submit\" class=\"button\" value=\"Submit\"&gt;&lt;br/&gt;\n                    &lt;/div&gt;\n                  &lt;/div&gt;\n\n                &lt;/form&gt;\n\n              &lt;/fieldset&gt;\n            &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"container\"&gt;\n      &lt;fieldset&gt;\n        &lt;div&gt;\n            &lt;label&gt;Prices: &lt;/label&gt;\n            &lt;p&gt;&lt;span id='myshow'&gt;&lt;/span&gt;&lt;/p&gt;\n        &lt;/div&gt;\n      &lt;/fieldset&gt;\n     &lt;/div&gt;\n   &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I have no idea how to get that response and how to sum values of items!</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 293, "user_id": 7958562, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/22a2dd1fadf59bc3e5725daa7cda4a7c?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/7958562/john"}, "edited": false, "score": 0, "creation_date": 1577368059, "post_id": 59481355, "comment_id": 105153025, "body": "Thank you, I will also be looking at some of the other approaches&#168;"}, {"owner": {"reputation": 293, "user_id": 7958562, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/22a2dd1fadf59bc3e5725daa7cda4a7c?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/7958562/john"}, "edited": false, "score": 0, "creation_date": 1577633096, "post_id": 59481355, "comment_id": 105212359, "body": "Is it possible to fetch data when expanding a node with your second approach?"}, {"owner": {"reputation": 486, "user_id": 5235638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc3e4b427adce6b684290ed656edb137?s=128&d=identicon&r=PG&f=1", "display_name": "SciFiThief", "link": "https://stackoverflow.com/users/5235638/scifithief"}, "reply_to_user": {"reputation": 293, "user_id": 7958562, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/22a2dd1fadf59bc3e5725daa7cda4a7c?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/7958562/john"}, "edited": false, "score": 0, "creation_date": 1577897739, "post_id": 59481355, "comment_id": 105277131, "body": "It&#39;s in the example. Check out handleChange function. It has a setTimeout function that emulates an xhr call. You can replace the body of handleChange (you can also pass any args that you need for your xhr call) fn with your own logic to fetch data on expand."}], "tags": [], "owner": {"reputation": 486, "user_id": 5235638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc3e4b427adce6b684290ed656edb137?s=128&d=identicon&r=PG&f=1", "display_name": "SciFiThief", "link": "https://stackoverflow.com/users/5235638/scifithief"}, "is_accepted": true, "score": 5, "last_activity_date": 1577302773, "creation_date": 1577302773, "answer_id": 59481355, "question_id": 59480773, "link": "https://stackoverflow.com/questions/59480773/fetching-async-treeview-data/59481355#59481355", "title": "Fetching Async TreeView Data", "body": "<p>In your example, it seems, you are trying to build the tree where each node that has children will also be a tree.</p>\n\n<p>In this case, render will look like this:</p>\n\n<pre><code>{/*The node below should act as the root node for now */}\n&lt;TreeItem nodeId={props.id} label={props.name}&gt;\n    {childNodes || [&lt;div key=\"stub\" /&gt;]} // stub div is used so user could see expand icon\n&lt;/TreeItem&gt;\n// you also need to pass props for root items\nReactDOM.render(&lt;MyTreeItem id=\"1\" name=\"Applications\" /&gt;, rootElement);\n</code></pre>\n\n<p>You can check the working code here: <a href=\"https://codesandbox.io/s/material-demo-k5ol6\" rel=\"noreferrer\">https://codesandbox.io/s/material-demo-k5ol6</a></p>\n\n<p>There are multiple ways to render a tree. One is to model a tree structure and render it in a way so each node that has children would no longer be a whole another tree with local state, like in your implementation. The advantage of this approach is that you can provide a complete tree via props, not only by fetching it on 'expand' action.</p>\n\n<p>Here's the example of such an approach: <a href=\"https://codesandbox.io/s/material-demo-h6zfe\" rel=\"noreferrer\">https://codesandbox.io/s/material-demo-h6zfe</a></p>\n\n<p>Also, you could render the tree as a list, where each nested level has an offset specified via styles. This has an advantage when you need to have a pagination on each level separately (in case if a single level has a lot of items). The implementation is not as easy as in the cases above, so I will not provide an example.</p>\n"}], "owner": {"reputation": 293, "user_id": 7958562, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/22a2dd1fadf59bc3e5725daa7cda4a7c?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/7958562/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1351, "favorite_count": 0, "accepted_answer_id": 59481355, "answer_count": 1, "score": 0, "last_activity_date": 1577302773, "creation_date": 1577296852, "question_id": 59480773, "link": "https://stackoverflow.com/questions/59480773/fetching-async-treeview-data", "title": "Fetching Async TreeView Data", "body": "<p>I'm new to react and I'm building a <code>TreeView</code> component in react where I fetch data as nodes are expanded. I'm using the TreeView from Material UI: <a href=\"https://material-ui.com/api/tree-view/\" rel=\"nofollow noreferrer\">https://material-ui.com/api/tree-view/</a></p>\n\n<p>I have created the component below which fetches data when a node is expanded. MyTreeItem is a custom version expanding the original with a fetch call. But I'm confused on how to display the childnodes. How can I do this? </p>\n\n<pre><code>import ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport TreeView from \"@material-ui/lab/TreeView\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\nimport TreeItem from \"@material-ui/lab/TreeItem\";\nconst { useState, useCallback } = React;\n\nexport default function MyTreeItem({ id, name }) {\n  const [childNodes, setChildNodes] = useState(null);\n  const [expanded, setExpanded] = React.useState([]);\n\n  function fakeAjax(url) {\n    return fetch(url).then(res =&gt; {\n      if (!res.ok) {\n        throw new Error(\"HTTP error \" + res.status);\n      }\n      return res.json();\n    });\n  }\n\n  function fetchChildNodes(id) {\n    // Should in reality be \"URL/id\", but fake JSON for now\n    return fakeAjax(`https://api.myjson.com/bins/1aqhsc`);\n  }\n\n  const handleChange = (event, nodes) =&gt; {\n    const expandingNodes = nodes.filter(x =&gt; !expanded.includes(x));\n    setExpanded(nodes);\n    if (expandingNodes[0]) {\n      const childId = expandingNodes[0];\n      fetchChildNodes(childId).then(result =&gt;\n        setChildNodes(result.children.map(node =&gt; &lt;MyTreeItem {...node} /&gt;))\n      );\n    }\n  };\n\n  return (\n    &lt;TreeView\n      defaultCollapseIcon={&lt;ExpandMoreIcon /&gt;}\n      defaultExpandIcon={&lt;ChevronRightIcon /&gt;}\n      expanded={expanded}\n      onNodeToggle={handleChange}\n    &gt;\n      {/*The node below should act as the root node for now */}\n      &lt;TreeItem nodeId=\"1\" label=\"Applications\"&gt;\n        {/*The childnodes should be here*/}\n      &lt;/TreeItem&gt;\n    &lt;/TreeView&gt;\n  );\n}\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(&lt;MyTreeItem /&gt;, rootElement);\n\n</code></pre>\n"}, {"tags": ["javascript"], "answers": [{"tags": [], "owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "is_accepted": false, "score": 0, "last_activity_date": 1577300206, "creation_date": 1577300206, "answer_id": 59481113, "question_id": 59480671, "link": "https://stackoverflow.com/questions/59480671/javascript-canvas-snowing-animation/59481113#59481113", "title": "JavaScript - Canvas snowing animation", "body": "<p>You could move all the flake-specific code into a <code>class</code> so that you can instantiate a new flake with <code>new</code>. The variables that define the properties of the flake should be defined as instance properties. In this case you need to do that change for the variables <code>xloc</code>, <code>yloc</code> and <code>strokeStyle</code>. Even though the latter is a property of <code>ctx</code>, that property needs to change every time another flake is displayed, so the flake must know itself what its color is. So that needs to be a property.</p>\n\n<p>Then I would suggest to remove the code that moves the flake back to the top, as that really should be considered a <em>different</em> flake. So it makes more sense to destroy the previous instance, and create a new one.</p>\n\n<p>Another asynchronous loop (also with <code>setTimeout</code>, but will a larger delay) can take care of creating new flakes.</p>\n\n<p>Here is how your code can be adapted to that. Comments clarify all changes I made:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let canvas = document.getElementById(\"wip\");\r\nlet ctx = canvas.getContext(\"2d\");\r\ncanvas.width = window.innerWidth-30;\r\ncanvas.height = window.innerHeight-30;\r\n\r\nclass SnowFlake { // each snowflake will be an instance of this class\r\n    constructor() { // this is called when you do `new SnowFlake()`\r\n        // the location is now saved in variables that belong to the instance:\r\n        // Note the use of `this` in all three assignments:\r\n        this.xloc = Math.floor(Math.random() * canvas.width);\r\n        this.yloc = 0;\r\n        this.strokeStyle=\"#\"+((1&lt;&lt;24)*Math.random()|0).toString(16);\r\n    }\r\n    drawflake(){ // This function becomes a method\r\n        // Get the stroke style that was saved during construction:\r\n        ctx.strokeStyle=this.strokeStyle;\r\n        // Get the location that was saved during construction\r\n        let xloc = this.xloc;\r\n        let yloc = this.yloc;\r\n        \r\n        // No change needed in the drawing part of this function...\r\n        ctx.beginPath();\r\n\r\n        //Top Right Brunch\r\n        ctx.moveTo(xloc,yloc);\r\n        ctx.lineTo(xloc-7,yloc-7);\r\n        ctx.lineTo(xloc-11,yloc-7);\r\n\r\n        ctx.moveTo(xloc-7,yloc-7);\r\n        ctx.lineTo(xloc-7,yloc-11);\r\n\r\n        ctx.moveTo(xloc-7,yloc-7);\r\n        ctx.lineTo(xloc-14,yloc-14);\r\n        ctx.lineTo(xloc-17,yloc-14);\r\n\r\n        ctx.moveTo(xloc-14,yloc-14);\r\n        ctx.lineTo(xloc-14,yloc-17);\r\n\r\n        ctx.moveTo(xloc-14,yloc-14);\r\n        ctx.lineTo(xloc-18,yloc-18);\r\n\r\n        //Top Left Brunch\r\n        ctx.moveTo(xloc,yloc);\r\n        ctx.lineTo(xloc+7,yloc-7);\r\n        ctx.lineTo(xloc+11,yloc-7);\r\n\r\n        ctx.moveTo(xloc+7,yloc-7);\r\n        ctx.lineTo(xloc+7,yloc-11);\r\n\r\n        ctx.moveTo(xloc+7,yloc-7);\r\n        ctx.lineTo(xloc+14,yloc-14);\r\n        ctx.lineTo(xloc+17,yloc-14);\r\n\r\n        ctx.moveTo(xloc+14,yloc-14);\r\n        ctx.lineTo(xloc+14,yloc-17);\r\n\r\n        ctx.moveTo(xloc+14,yloc-14);\r\n        ctx.lineTo(xloc+18,yloc-18);\r\n\r\n        //Bottom Left Brunch\r\n        ctx.moveTo(xloc,yloc);\r\n        ctx.lineTo(xloc+7,yloc+7);\r\n        ctx.lineTo(xloc+7,yloc+11);\r\n\r\n        ctx.moveTo(xloc+7,yloc+7);\r\n        ctx.lineTo(xloc+11,yloc+7);\r\n\r\n        ctx.moveTo(xloc+7,yloc+7);\r\n        ctx.lineTo(xloc+14,yloc+14);\r\n        ctx.lineTo(xloc+14,yloc+17);\r\n\r\n        ctx.moveTo(xloc+14,yloc+14);\r\n        ctx.lineTo(xloc+17,yloc+14);\r\n\r\n        ctx.moveTo(xloc+14,yloc+14);\r\n        ctx.lineTo(xloc+18,yloc+18);\r\n\r\n        //Bottom Right Brunch\r\n        ctx.moveTo(xloc,yloc);\r\n        ctx.lineTo(xloc-7,yloc+7);\r\n        ctx.lineTo(xloc-11,yloc+7);\r\n\r\n        ctx.moveTo(xloc-7,yloc+7);\r\n        ctx.lineTo(xloc-7,yloc+11);\r\n\r\n        ctx.moveTo(xloc-7,yloc+7);\r\n        ctx.lineTo(xloc-14,yloc+14);\r\n        ctx.lineTo(xloc-17,yloc+14);\r\n\r\n        ctx.moveTo(xloc-14,yloc+14);\r\n        ctx.lineTo(xloc-14,yloc+17);\r\n\r\n        ctx.moveTo(xloc-14,yloc+14);\r\n        ctx.lineTo(xloc-18,yloc+18);\r\n\r\n        //Left Brunch\r\n        ctx.moveTo(xloc,yloc);\r\n        ctx.lineTo(xloc-9.899,yloc);\r\n        ctx.lineTo(xloc-12.899,yloc-3);\r\n\r\n        ctx.moveTo(xloc-9.899,yloc);\r\n        ctx.lineTo(xloc-12.899,yloc+3);\r\n\r\n        ctx.moveTo(xloc-9.899,yloc);\r\n        ctx.lineTo(xloc-19.799,yloc);\r\n        ctx.lineTo(xloc-22.799,yloc-3);\r\n\r\n        ctx.moveTo(xloc-19.799,yloc);\r\n        ctx.lineTo(xloc-22.799,yloc+3);\r\n\r\n        ctx.moveTo(xloc-19.799,yloc);\r\n        ctx.lineTo(xloc-25.456,yloc);\r\n\r\n        //Right Brunch\r\n        ctx.moveTo(xloc,yloc);\r\n        ctx.lineTo(xloc+9.899,yloc);\r\n        ctx.lineTo(xloc+12.899,yloc-3);\r\n\r\n        ctx.moveTo(xloc+9.899,yloc);\r\n        ctx.lineTo(xloc+12.899,yloc+3);\r\n\r\n        ctx.moveTo(xloc+9.899,yloc);\r\n        ctx.lineTo(xloc+19.799,yloc);\r\n        ctx.lineTo(xloc+22.799,yloc-3);\r\n\r\n        ctx.moveTo(xloc+19.799,yloc);\r\n        ctx.lineTo(xloc+22.799,yloc+3);\r\n\r\n        ctx.moveTo(xloc+19.799,yloc);\r\n        ctx.lineTo(xloc+25.456,yloc);\r\n\r\n        ctx.lineWidth = 1;\r\n        ctx.lineCap = 'round';\r\n        ctx.stroke();\r\n\r\n        // Save the new location to the instance:\r\n        this.yloc = yloc+1;\r\n        // Don't deal here with the range check. Do that in `repeat`\r\n    }\r\n}\r\n\r\nfunction clearCanvas() {\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n}\r\n\r\n// Collection that holds all of the active flakes\r\nlet flakes = new Set;\r\n\r\nfunction repeat() {\r\n    clearCanvas();\r\n    // Draw all flakes\r\n    for (let flake of flakes) {\r\n        flake.drawflake();\r\n        if (flake.yloc &gt; canvas.height) { // flake reached the bottom?\r\n            flakes.delete(flake); // remove the flake from the collection\r\n        }\r\n    }\r\n    setTimeout(repeat, 24);\r\n}\r\n\r\n// new function to deal with the generation of new flakes\r\nfunction generate() {\r\n    flakes.add(new SnowFlake()); // construct a new flake and add it to the collection\r\n    // Make the time between two generations of a new flakes a bit random\r\n    setTimeout(generate, 1000 + Math.random() * 2000);\r\n}\r\n\r\ngenerate(); // also start the generations\r\nrepeat();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"wip\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You can influence the rate of flake generation, and its variation, by changing the two constants used in the expression <code>1000 + Math.random() * 2000</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 11162, "user_id": 11619647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0MnDA.jpg?s=128&g=1", "display_name": "Emiel Zuurbier", "link": "https://stackoverflow.com/users/11619647/emiel-zuurbier"}, "is_accepted": false, "score": 0, "last_activity_date": 1577300490, "last_edit_date": 1592644375, "creation_date": 1577300490, "answer_id": 59481132, "question_id": 59480671, "link": "https://stackoverflow.com/questions/59480671/javascript-canvas-snowing-animation/59481132#59481132", "title": "JavaScript - Canvas snowing animation", "body": "<p>I would image that you would use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes\" rel=\"nofollow noreferrer\">Classes</a> to create multiple snow flakes who have the same behavior but with unique properties. Behavior like your <code>drawflake</code> function which draws the line of each flake.</p>\n<p>Create a <code>class</code> that is a blueprint to all future <code>SnowFlakes</code> and it give it the method <code>draw</code> in which you will put your drawing logic.</p>\n<pre><code>const canvas = document.getElementById(&quot;wip&quot;);\nconst ctx = canvas.getContext(&quot;2d&quot;);\ncanvas.width = window.innerWidth-30;\ncanvas.height = window.innerHeight-30;\n\nclass SnowFlake {\n  constructor(context) {\n    this.ctx = context;\n  }\n  draw() {\n    this.ctx.beginPath();\n    // other drawing functions...\n  }\n}\n</code></pre>\n<p>Now you can start creating <code>SnowFlake</code> <em>instances</em>, as many as you would like. Write a function which will create instances of the newly created <code>class</code> and make it able to pass the <code>amount</code> of instances and the <code>context</code> of the canvas. The <code>amount</code> parameter will be <em>how many</em> instances you want to create and have returned, and the <code>context</code> is the context of the <code>canvas</code> element which will be passed into the object to use it inside of it.</p>\n<pre><code>function createSnowFlakes(amount, context) {\n    const snowFlakes = [];\n    for (let i = 0; i &lt; amount; i++) {\n        const snowFlake = new SnowFlake(context);\n        snowFlakes.push(snowFlake);\n    }\n    return snowFlakes;\n}\n</code></pre>\n<p>Now create the instances by calling your <code>createSnowFlakes</code> function with the <code>amount</code> and <code>context</code> parameter given and store the result in a variable.</p>\n<pre><code>const amountOfSnowFlakes = 10;\nconst snowFlakes = createSnowFlakes(amountOfSnowFlakes, ctx)\n</code></pre>\n<p>You have now created multiple <code>SnowFlake</code> instances and each and everyone of them can draw itself whenever and wherever. All you have to do is call the <code>.draw()</code> method of each <code>SnowFlake</code>, which is your drawing logic which you will add yourself.</p>\n<p>Create a function that loops over each <code>SnowFlake</code> and calls the <code>.draw()</code> method. With this function you can control when all the snow flakes have to be drawn and can be used in your <code>repeat</code> function.</p>\n<pre><code>function drawSnowFlakes(snowFlakes) {\n    snowFlakes.forEach(snowFlake =&gt; snowFlake.draw());\n}\n</code></pre>\n<p>By now you should have a lot of control over creating a group of snow flakes en when to draw them. Go from here and see if it works out.</p>\n<p>And don't hesitate to ask a question.</p>\n"}], "owner": {"reputation": 21, "user_id": 5533399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7730e11499e510fe2049b491c1c92ae0?s=128&d=identicon&r=PG&f=1", "display_name": "george", "link": "https://stackoverflow.com/users/5533399/george"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1577300490, "creation_date": 1577295879, "last_edit_date": 1577298015, "question_id": 59480671, "link": "https://stackoverflow.com/questions/59480671/javascript-canvas-snowing-animation", "title": "JavaScript - Canvas snowing animation", "body": "<p>I want to create a snowing animation effect in JavaScript. My knowledge is really poor in this coding language. However, I managed to do that with one snowflake, with a loop as well. </p>\n\n<p>I now want to generate more than one snowflake. Can someone help me to figure out how to generate more snowflakes?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let canvas = document.getElementById(\"wip\");\r\nlet ctx = canvas.getContext(\"2d\");\r\ncanvas.width = window.innerWidth-30;\r\ncanvas.height = window.innerHeight-30;\r\n\r\nlet xloc = Math.floor(Math.random() * canvas.width);\r\nlet yloc = 0;\r\nctx.strokeStyle=\"#\"+((1&lt;&lt;24)*Math.random()|0).toString(16);\r\n\r\nfunction drawflake(){\r\n    ctx.beginPath();\r\n\r\n    //Top Right Brunch\r\n    ctx.moveTo(xloc,yloc);\r\n    ctx.lineTo(xloc-7,yloc-7);\r\n    ctx.lineTo(xloc-11,yloc-7);\r\n\r\n    ctx.moveTo(xloc-7,yloc-7);\r\n    ctx.lineTo(xloc-7,yloc-11);\r\n\r\n    ctx.moveTo(xloc-7,yloc-7);\r\n    ctx.lineTo(xloc-14,yloc-14);\r\n    ctx.lineTo(xloc-17,yloc-14);\r\n\r\n    ctx.moveTo(xloc-14,yloc-14);\r\n    ctx.lineTo(xloc-14,yloc-17);\r\n\r\n    ctx.moveTo(xloc-14,yloc-14);\r\n    ctx.lineTo(xloc-18,yloc-18);\r\n\r\n    //Top Left Brunch\r\n    ctx.moveTo(xloc,yloc);\r\n    ctx.lineTo(xloc+7,yloc-7);\r\n    ctx.lineTo(xloc+11,yloc-7);\r\n\r\n    ctx.moveTo(xloc+7,yloc-7);\r\n    ctx.lineTo(xloc+7,yloc-11);\r\n\r\n    ctx.moveTo(xloc+7,yloc-7);\r\n    ctx.lineTo(xloc+14,yloc-14);\r\n    ctx.lineTo(xloc+17,yloc-14);\r\n\r\n    ctx.moveTo(xloc+14,yloc-14);\r\n    ctx.lineTo(xloc+14,yloc-17);\r\n\r\n    ctx.moveTo(xloc+14,yloc-14);\r\n    ctx.lineTo(xloc+18,yloc-18);\r\n\r\n    //Bottom Left Brunch\r\n    ctx.moveTo(xloc,yloc);\r\n    ctx.lineTo(xloc+7,yloc+7);\r\n    ctx.lineTo(xloc+7,yloc+11);\r\n\r\n    ctx.moveTo(xloc+7,yloc+7);\r\n    ctx.lineTo(xloc+11,yloc+7);\r\n\r\n    ctx.moveTo(xloc+7,yloc+7);\r\n    ctx.lineTo(xloc+14,yloc+14);\r\n    ctx.lineTo(xloc+14,yloc+17);\r\n\r\n    ctx.moveTo(xloc+14,yloc+14);\r\n    ctx.lineTo(xloc+17,yloc+14);\r\n\r\n    ctx.moveTo(xloc+14,yloc+14);\r\n    ctx.lineTo(xloc+18,yloc+18);\r\n\r\n    //Bottom Right Brunch\r\n    ctx.moveTo(xloc,yloc);\r\n    ctx.lineTo(xloc-7,yloc+7);\r\n    ctx.lineTo(xloc-11,yloc+7);\r\n\r\n    ctx.moveTo(xloc-7,yloc+7);\r\n    ctx.lineTo(xloc-7,yloc+11);\r\n\r\n    ctx.moveTo(xloc-7,yloc+7);\r\n    ctx.lineTo(xloc-14,yloc+14);\r\n    ctx.lineTo(xloc-17,yloc+14);\r\n\r\n    ctx.moveTo(xloc-14,yloc+14);\r\n    ctx.lineTo(xloc-14,yloc+17);\r\n\r\n    ctx.moveTo(xloc-14,yloc+14);\r\n    ctx.lineTo(xloc-18,yloc+18);\r\n\r\n    //Left Brunch\r\n    ctx.moveTo(xloc,yloc);\r\n    ctx.lineTo(xloc-9.899,yloc);\r\n    ctx.lineTo(xloc-12.899,yloc-3);\r\n\r\n    ctx.moveTo(xloc-9.899,yloc);\r\n    ctx.lineTo(xloc-12.899,yloc+3);\r\n\r\n    ctx.moveTo(xloc-9.899,yloc);\r\n    ctx.lineTo(xloc-19.799,yloc);\r\n    ctx.lineTo(xloc-22.799,yloc-3);\r\n\r\n    ctx.moveTo(xloc-19.799,yloc);\r\n    ctx.lineTo(xloc-22.799,yloc+3);\r\n\r\n    ctx.moveTo(xloc-19.799,yloc);\r\n    ctx.lineTo(xloc-25.456,yloc);\r\n\r\n    //Right Brunch\r\n    ctx.moveTo(xloc,yloc);\r\n    ctx.lineTo(xloc+9.899,yloc);\r\n    ctx.lineTo(xloc+12.899,yloc-3);\r\n\r\n    ctx.moveTo(xloc+9.899,yloc);\r\n    ctx.lineTo(xloc+12.899,yloc+3);\r\n\r\n    ctx.moveTo(xloc+9.899,yloc);\r\n    ctx.lineTo(xloc+19.799,yloc);\r\n    ctx.lineTo(xloc+22.799,yloc-3);\r\n\r\n    ctx.moveTo(xloc+19.799,yloc);\r\n    ctx.lineTo(xloc+22.799,yloc+3);\r\n\r\n    ctx.moveTo(xloc+19.799,yloc);\r\n    ctx.lineTo(xloc+25.456,yloc);\r\n\r\n    ctx.lineWidth = 1;\r\n    ctx.lineCap = 'round';\r\n    ctx.stroke();\r\n\r\n    yloc=yloc+1;\r\n    if (yloc&gt;canvas.height) {\r\n        yloc=0;\r\n        xloc = Math.floor(Math.random() * canvas.width);\r\n        ctx.strokeStyle=\"#\"+((1&lt;&lt;24)*Math.random()|0).toString(16);\r\n    }\r\n}\r\n\r\nfunction clearCanvas() {\r\n    ctx.clearRect(0,0, canvas.width, canvas.height);\r\n}\r\n\r\nfunction repeat() {\r\n    clearCanvas();\r\n    drawflake();\r\n    setTimeout(repeat, 24);\r\n}\r\n\r\nrepeat();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"wip\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 329, "user_id": 5023133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p4Qbe.jpg?s=128&g=1", "display_name": "Liuk", "link": "https://stackoverflow.com/users/5023133/liuk"}, "edited": false, "score": 0, "creation_date": 1577295800, "post_id": 59480625, "comment_id": 105137964, "body": "The methods getPosition().ab and getPosition().cb ??? Show these docs: <a href=\"https://developers.google.com/maps/documentation/javascript/reference#Marker\" rel=\"nofollow noreferrer\">developers.google.com/maps/documentation/javascript/&hellip;</a> and <a href=\"https://developers.google.com/maps/documentation/javascript/reference#LatLng\" rel=\"nofollow noreferrer\">developers.google.com/maps/documentation/javascript/&hellip;</a>"}, {"owner": {"reputation": 87, "user_id": 12361681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce28dc18b3ed8d0407f4c216d483e1ed?s=128&d=identicon&r=PG&f=1", "display_name": "user12361681", "link": "https://stackoverflow.com/users/12361681/user12361681"}, "reply_to_user": {"reputation": 329, "user_id": 5023133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p4Qbe.jpg?s=128&g=1", "display_name": "Liuk", "link": "https://stackoverflow.com/users/5023133/liuk"}, "edited": false, "score": 0, "creation_date": 1577295890, "post_id": 59480625, "comment_id": 105137983, "body": "@Liuk it&#39;s almost the same issue. How can I access the marker created outside the class?"}, {"owner": {"reputation": 645, "user_id": 7692076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz3oP.jpg?s=128&g=1", "display_name": "Akshit Mehra", "link": "https://stackoverflow.com/users/7692076/akshit-mehra"}, "edited": false, "score": 1, "creation_date": 1577295930, "post_id": 59480625, "comment_id": 105137994, "body": "But you didn&#39;t pass any props to <code>&lt;MapContainer &#47;&gt;</code>?"}, {"owner": {"reputation": 426, "user_id": 8208260, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ooPhwHYC0oI/AAAAAAAAAAI/AAAAAAAAAHg/ZfVzqXuXIQI/photo.jpg?sz=128", "display_name": "Sangam Rajpara", "link": "https://stackoverflow.com/users/8208260/sangam-rajpara"}, "edited": false, "score": 0, "creation_date": 1577299705, "post_id": 59480625, "comment_id": 105138779, "body": "You haven&#39;t passed anything to props, so in MapContainer component props will be null."}], "owner": {"reputation": 87, "user_id": 12361681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce28dc18b3ed8d0407f4c216d483e1ed?s=128&d=identicon&r=PG&f=1", "display_name": "user12361681", "link": "https://stackoverflow.com/users/12361681/user12361681"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1577295503, "creation_date": 1577295503, "question_id": 59480625, "link": "https://stackoverflow.com/questions/59480625/how-to-get-value-from-object-react-javascript", "title": "How to get value from object - React / Javascript", "body": "<p>I have this very basic piece of code. I can click on the map and it shows the marker with certain coordinates. Works perfect. <code>onMapClick</code> sets <code>markerPosition</code> to the latitute and longitude (works fine)</p>\n\n<p>But now I want to show the coordinates in the HTML. I tried <code>Coordinates are {this.props.markerPosition}</code> but <code>this.props.markerPosition</code> is always null. How can I get the value of markerPosition?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import React from 'react';\r\nimport { compose, withStateHandlers } from \"recompose\";\r\nimport { InfoWindow, withGoogleMap, withScriptjs, GoogleMap, Marker } from 'react-google-maps';\r\n\r\n\r\nconst Map = compose(\r\n    withStateHandlers(() =&gt; ({\r\n        isMarkerShown: false,\r\n        markerPosition: null\r\n      }), {\r\n        onMapClick: ({ isMarkerShown }) =&gt; (e) =&gt; ({\r\n            markerPosition: e.latLng,\r\n            isMarkerShown:true\r\n        })\r\n      }),\r\n    withScriptjs,\r\n    withGoogleMap\r\n)\r\n    (props =&gt;\r\n        &lt;GoogleMap\r\n            defaultZoom={8}\r\n            defaultCenter={{ lat: -34.397, lng: 150.644 }}\r\n            onClick={props.onMapClick}\r\n        &gt;\r\n            {props.isMarkerShown &amp;&amp; &lt;Marker position={props.markerPosition} /&gt;}\r\n\r\n        &lt;/GoogleMap&gt;\r\n    )\r\n\r\nexport default class MapContainer extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            &lt;div style={{ height: '100%' }}&gt;\r\n                &lt;Map\r\n                    googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyAvcDy5ZYc2ujCS6TTtI3RYX5QmuoV8Ffw\"\r\n                    loadingElement={&lt;div style={{ height: `100%` }} /&gt;}\r\n                    containerElement={&lt;div style={{ height: `400px` }} /&gt;}\r\n                    mapElement={&lt;div style={{ height: `100%` }} /&gt;}\r\n                /&gt;\r\n\r\n                Coordinates are {this.props.markerPosition}\r\n            &lt;/div&gt;\r\n        )\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Working example here: <a href=\"https://stackblitz.com/edit/react-snxake\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/react-snxake</a></p>\n"}, {"tags": ["javascript", "html", "dom"], "comments": [{"owner": {"reputation": 6316, "user_id": 1184717, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7f8710cd5754a79df5dc5cd3d5308da2?s=128&d=identicon&r=PG", "display_name": "Mr.", "link": "https://stackoverflow.com/users/1184717/mr"}, "edited": false, "score": 0, "creation_date": 1577294853, "post_id": 59480506, "comment_id": 105137806, "body": "would you like to do it dynamically?"}, {"owner": {"reputation": 121, "user_id": 7724154, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PQRGs.png?s=128&g=1", "display_name": "Shiranai", "link": "https://stackoverflow.com/users/7724154/shiranai"}, "reply_to_user": {"reputation": 6316, "user_id": 1184717, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7f8710cd5754a79df5dc5cd3d5308da2?s=128&d=identicon&r=PG", "display_name": "Mr.", "link": "https://stackoverflow.com/users/1184717/mr"}, "edited": false, "score": 0, "creation_date": 1577295437, "post_id": 59480506, "comment_id": 105137902, "body": "@Mr. What do you mean by dynamically in this context? The string to be replaced and the replacement should be able to be specified by a function but that can always be done with <code>new RegExp</code>."}, {"owner": {"reputation": 6316, "user_id": 1184717, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7f8710cd5754a79df5dc5cd3d5308da2?s=128&d=identicon&r=PG", "display_name": "Mr.", "link": "https://stackoverflow.com/users/1184717/mr"}, "edited": false, "score": 0, "creation_date": 1577338004, "post_id": 59480506, "comment_id": 105144010, "body": "there are many ways to do it - on the client side, on the serer side, or pre-processing before you even serve it. which method are you interested?"}, {"owner": {"reputation": 121, "user_id": 7724154, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PQRGs.png?s=128&g=1", "display_name": "Shiranai", "link": "https://stackoverflow.com/users/7724154/shiranai"}, "reply_to_user": {"reputation": 6316, "user_id": 1184717, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7f8710cd5754a79df5dc5cd3d5308da2?s=128&d=identicon&r=PG", "display_name": "Mr.", "link": "https://stackoverflow.com/users/1184717/mr"}, "edited": false, "score": 0, "creation_date": 1577387566, "post_id": 59480506, "comment_id": 105159273, "body": "@Mr. Client side"}], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 7724154, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PQRGs.png?s=128&g=1", "display_name": "Shiranai", "link": "https://stackoverflow.com/users/7724154/shiranai"}, "edited": false, "score": 0, "creation_date": 1577295315, "post_id": 59480556, "comment_id": 105137878, "body": "Thanks! Could you specify how would you implement point 2? These replacements will happen quite a bit so I am a bit concerned on the efficiency. My first thought is just making single regex (without the &#39;g&#39; tag) and while-looping until there are no more matches. Was wondering if you knew any &#39;global&#39; method that does all of these at once (like <code>.replace</code> with the &#39;g&#39; tag)."}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "reply_to_user": {"reputation": 121, "user_id": 7724154, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PQRGs.png?s=128&g=1", "display_name": "Shiranai", "link": "https://stackoverflow.com/users/7724154/shiranai"}, "edited": false, "score": 0, "creation_date": 1577322267, "post_id": 59480556, "comment_id": 105142067, "body": "&quot;run a regex on what?&quot; Because you can only run regex on strings, and you certainly <a href=\"/a/590789/740553\">can&#39;t run it on the body.innerHTML</a> and expect that to work. So if you want to do it <i>right</i>, you&#39;ll have to traverse the DOM and use functions like <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Node/replaceChild\" rel=\"nofollow noreferrer\">replaceChild</a>, <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Node/insertBefore\" rel=\"nofollow noreferrer\">insertBefore</a>, and <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Node/appendChild\" rel=\"nofollow noreferrer\">appendChild</a>. But you&#39;re also guaranteed to fail in this for any webpage that uses React or the like."}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "reply_to_user": {"reputation": 121, "user_id": 7724154, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PQRGs.png?s=128&g=1", "display_name": "Shiranai", "link": "https://stackoverflow.com/users/7724154/shiranai"}, "edited": false, "score": 0, "creation_date": 1577322387, "post_id": 59480556, "comment_id": 105142081, "body": "(because unlike for a standard web page, where the DOM is the authority, in React etc. the DOM has zero authority, and any UI update will just put the data you replaced right back)"}], "tags": [], "owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "is_accepted": false, "score": 2, "last_activity_date": 1577294753, "creation_date": 1577294753, "answer_id": 59480556, "question_id": 59480506, "link": "https://stackoverflow.com/questions/59480506/replace-all-words-in-html-without-affecting-tags/59480556#59480556", "title": "Replace all words in html without affecting tags", "body": "<p>You're close, but you need to replace the entire text node with a <em>set</em> of three new nodes:</p>\n\n<ol>\n<li>a textnode that contains \"everything before your string\",</li>\n<li>an HTML node for the tag you want (and don't use <code>&lt;a&gt;</code> unless it's an actual link), and then</li>\n<li>another textnode that contains all the remaining text.</li>\n</ol>\n\n<p>And then, of course, that remaining textnode is now part of the still-unprocessed set of text nodes.</p>\n\n<p>(unless you do a <code>split</code> for your term, then interleave as many additional nodes as needed. Then you just run through textnodes one by one without having to put \"the remainder\" back on your stack)</p>\n"}], "owner": {"reputation": 121, "user_id": 7724154, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PQRGs.png?s=128&g=1", "display_name": "Shiranai", "link": "https://stackoverflow.com/users/7724154/shiranai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1577300827, "creation_date": 1577294445, "question_id": 59480506, "link": "https://stackoverflow.com/questions/59480506/replace-all-words-in-html-without-affecting-tags", "title": "Replace all words in html without affecting tags", "body": "<p>I am looking for a way to replace all instances of <code>Foo</code> with <code>&lt;a&gt;Bar&lt;/a&gt;</code> (a functioning link) in a given website. Ideally without any extra library like jquery.</p>\n\n<p>What I tried:</p>\n\n<ul>\n<li><code>document.body.innerHtml</code> and similars (<code>document.getElementByTagName('p)</code>) won't work with a simple <code>.replace(/Foo/g, '&lt;a&gt;Bar&lt;/a&gt;')</code> because it may end up replacing a <code>Foo</code> class-name or id, so it breaks the page. Also may affect some js scripts in the body.</li>\n<li>Editing only textNodes (with something like <a href=\"https://stackoverflow.com/questions/2579666/getelementsbytagname-equivalent-for-textnodes\">this</a>) does not work because it displays the <code>a</code> tags as text, instead of creating DOM elements.</li>\n<li>Trying to solve the textNodes problem and going to the parent element and applying <code>.replace</code> there just generates the same problem as the first bullet.</li>\n</ul>\n\n<p>I've searched for answers to other similar questions but I haven't found any that solves this three points.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 8140, "user_id": 6517383, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/CSaA5.jpg?s=128&g=1", "display_name": "Black Mamba", "link": "https://stackoverflow.com/users/6517383/black-mamba"}, "edited": false, "score": 0, "creation_date": 1577294744, "post_id": 59480493, "comment_id": 105137792, "body": "Have you tried anything for this? A fiddle would be helpful."}, {"owner": {"reputation": 401, "user_id": 11252816, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Pu_PEKpdGuY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re9sxY1Sc8BCwKsfxkasrocqR-wGA/mo/photo.jpg?sz=128", "display_name": "youssef ali", "link": "https://stackoverflow.com/users/11252816/youssef-ali"}, "edited": false, "score": 0, "creation_date": 1577295852, "post_id": 59480493, "comment_id": 105137973, "body": "i think you can listen to the check event and when the condition you want happens you can disable all the unselected checkboxs"}, {"owner": {"reputation": 25, "user_id": 5122994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nyRz0.jpg?s=128&g=1", "display_name": "Kapris", "link": "https://stackoverflow.com/users/5122994/kapris"}, "edited": false, "score": 0, "creation_date": 1577296335, "post_id": 59480493, "comment_id": 105138080, "body": "I did, but nothing to solve the above problem. This is so far what I got: limit the amount of checked checkboxes per group. I need to limit to max. 2 groups.  Vanilla JS can also go. Dosen&#39;t have to be jQuery.  <a href=\"https://jsfiddle.net/kapris/t3m7dg04/4/\" rel=\"nofollow noreferrer\">jsfiddle.net/kapris/t3m7dg04/4</a>"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 5122994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nyRz0.jpg?s=128&g=1", "display_name": "Kapris", "link": "https://stackoverflow.com/users/5122994/kapris"}, "edited": false, "score": 0, "creation_date": 1577565870, "post_id": 59480939, "comment_id": 105201121, "body": "Thanks for this. Your solution works as well very fine. I also voted your solution up, but it seems that I still have to earn 2 points before I do that. Thanks."}], "tags": [], "owner": {"reputation": 360, "user_id": 3275205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6TVdD.jpg?s=128&g=1", "display_name": "Zhephard", "link": "https://stackoverflow.com/users/3275205/zhephard"}, "is_accepted": true, "score": 1, "last_activity_date": 1577298558, "creation_date": 1577298558, "answer_id": 59480939, "question_id": 59480493, "link": "https://stackoverflow.com/questions/59480493/limit-checked-amount-of-grouped-checkboxes-i-e-max-2-groups/59480939#59480939", "title": "Limit checked amount of grouped checkboxes (i.e. max 2 groups)", "body": "<p>Since vanilla is also a go you can try the following</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>(function () {\n\n      var checkboxes = [];\n      var areas = [];\n      var maxInArea = null;\n      var maxOverall = null;\n\n      function init() {\n        //initialize checkboxes and areas as well as limits\n        checkboxes = document.querySelectorAll('input[type=\"checkbox\"]');\n        areas = document.getElementsByClassName('area');\n        maxInArea = 2;\n        maxOverall = 4;\n\n        for (var i = 0; i &lt; checkboxes.length; i++) checkboxes[i].addEventListener('click', handleCheckboxClick, false); //add an event listener to each checkbox\n      }\n\n\n      function handleCheckboxClick(e) {\n        var currentArea;\n        var currentAreaCheckboxes;\n\n        currentArea = e.target.parentElement; //get the current area...\n        currentAreaCheckboxes = currentArea.querySelectorAll('input[type=\"checkbox\"]'); //...to count its checked checkboxes\n\n        if ((_getActiveCheckboxesInArea(currentAreaCheckboxes) &gt; maxInArea) //check limits per area...\n          || (_getActiveCheckboxesOverall() &gt; maxOverall) ){ //...then overall\n          e.target.checked = false;\n        }\n      }\n\n      function _getActiveCheckboxesInArea(areaCheckboxes) {\n        var count = 0;\n\n        for (var i = 0; i &lt; areaCheckboxes.length; i++)\n          if (areaCheckboxes[i].checked) count++;\n\n        return count;\n      }\n\n      function _getActiveCheckboxesOverall() {\n        var count = 0;\n\n        for (var i = 0; i &lt; checkboxes.length; i++)\n          if (checkboxes[i].checked) count++;\n\n        return count;\n      }\n\n      init();\n\n    })();\n</code></pre>\n\n<p>As you can see the trick is to have a count for the current area detecting the area parent element when the checkbox is clicked. It looks quite like a long script, but since it is Vanilla you have more control, simplicity and performance than using jQuery, you will notice as soon you give it the first read</p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 5122994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nyRz0.jpg?s=128&g=1", "display_name": "Kapris", "link": "https://stackoverflow.com/users/5122994/kapris"}, "edited": false, "score": 0, "creation_date": 1577565815, "post_id": 59480971, "comment_id": 105201116, "body": "Thank you so much for this. It works like a charm. I voted your solution up, but it seems that I still have to earn 2 points before I do that. Thanks."}], "tags": [], "owner": {"reputation": 10320, "user_id": 818326, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ace3174f4519bdd2a622e1f14b2ebbae?s=128&d=identicon&r=PG", "display_name": "symlink", "link": "https://stackoverflow.com/users/818326/symlink"}, "is_accepted": false, "score": 1, "last_activity_date": 1577298798, "creation_date": 1577298798, "answer_id": 59480971, "question_id": 59480493, "link": "https://stackoverflow.com/questions/59480493/limit-checked-amount-of-grouped-checkboxes-i-e-max-2-groups/59480971#59480971", "title": "Limit checked amount of grouped checkboxes (i.e. max 2 groups)", "body": "<p>You can do this by keeping an array of all names for checked boxes, and comparing it against the most recently clicked box:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const max = 2\r\n    let totals = []\r\n\r\n  const checkboxes = document.querySelectorAll('.area &gt; input[type=\"checkbox\"]')\r\n    checkboxes.forEach(el =&gt; {\r\n        el.addEventListener(\"click\", (e) =&gt; {\r\n            \r\n            //check within group\r\n            let within = totals.filter(name =&gt; name === e.target.name)\r\n            if(e.target.checked &amp;&amp; within.length &gt;= max &amp;&amp; totals.indexOf(e.target.name) &gt; -1){\r\n                console.log(\"max within group reached\")\r\n                e.preventDefault()\r\n                return\r\n            }\r\n            \r\n            //check all groups\r\n            let without = totals.filter((name, idx, arr) =&gt; arr.indexOf(name) === idx)\r\n            if(e.target.checked &amp;&amp; without.length &gt;= max &amp;&amp; without.indexOf(e.target.name) === -1){\r\n                console.log(\"max groups reached\")\r\n                e.preventDefault()\r\n                return\r\n            }\r\n        \r\n            if(e.target.checked){\r\n                totals.push(e.target.name)\r\n            }else{\r\n                totals.splice(totals.indexOf(e.target.name),1)\r\n            }\r\n        })\r\n    })</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.c {\r\n  max-width: 1200px;\r\n  margin: auto;\r\n}\r\n\r\n.area {\r\n  margin-bottom: 10px;\r\n  ;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"c\"&gt;\r\n\r\n        &lt;div id=\"area1\" class=\"area\"&gt;\r\n            &lt;input type=\"checkbox\" value=\"Option 1-1\" id=\"option1\" name=\"option1\" /&gt;&lt;label for=\"option1\"&gt;Option 11&lt;/label&gt;&lt;br /&gt;\r\n            &lt;input type=\"checkbox\" value=\"Option 1-2\" id=\"option2\" name=\"option1\" /&gt;&lt;label for=\"option2\"&gt;Option 12&lt;/label&gt;&lt;br /&gt;\r\n            &lt;input type=\"checkbox\" value=\"Option 1-3\" id=\"option3\" name=\"option1\" /&gt;&lt;label for=\"option3\"&gt;Option 13&lt;/label&gt;&lt;br /&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div id=\"area2\" class=\"area\"&gt;\r\n            &lt;input type=\"checkbox\" value=\"Option 2-1\" id=\"option21\" name=\"option2\" /&gt;&lt;label for=\"option21\"&gt;Option 21&lt;/label&gt;&lt;br /&gt;\r\n            &lt;input type=\"checkbox\" value=\"Option 2-2\" id=\"option22\" name=\"option2\" /&gt;&lt;label for=\"option22\"&gt;Option 22&lt;/label&gt;&lt;br /&gt;\r\n            &lt;input type=\"checkbox\" value=\"Option 2-3\" id=\"option23\" name=\"option2\" /&gt;&lt;label for=\"option23\"&gt;Option 23&lt;/label&gt;&lt;br /&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div id=\"area3\" class=\"area\"&gt;\r\n            &lt;input type=\"checkbox\" value=\"Option 3-1\" id=\"option31\" name=\"option3\" /&gt;&lt;label for=\"option31\"&gt;Option 31&lt;/label&gt;&lt;br /&gt;\r\n            &lt;input type=\"checkbox\" value=\"Option 3-2\" id=\"option32\" name=\"option3\" /&gt;&lt;label for=\"option32\"&gt;Option 32&lt;/label&gt;&lt;br /&gt;\r\n            &lt;input type=\"checkbox\" value=\"Option 3-3\" id=\"option33\" name=\"option3\" /&gt;&lt;label for=\"option33\"&gt;Option 33&lt;/label&gt;&lt;br /&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div id=\"area4\" class=\"area\"&gt;\r\n            &lt;input type=\"checkbox\" value=\"Option 4-1\" id=\"option41\" name=\"option4\" /&gt;&lt;label for=\"option41\"&gt;Option 41&lt;/label&gt;&lt;br /&gt;\r\n            &lt;input type=\"checkbox\" value=\"Option 4-2\" id=\"option42\" name=\"option4\" /&gt;&lt;label for=\"option42\"&gt;Option 42&lt;/label&gt;&lt;br /&gt;\r\n            &lt;input type=\"checkbox\" value=\"Option 4-3\" id=\"option43\" name=\"option4\" /&gt;&lt;label for=\"option43\"&gt;Option 43&lt;/label&gt;&lt;br /&gt;\r\n        &lt;/div&gt;\r\n\r\n    &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 25, "user_id": 5122994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nyRz0.jpg?s=128&g=1", "display_name": "Kapris", "link": "https://stackoverflow.com/users/5122994/kapris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 59480939, "answer_count": 2, "score": 1, "last_activity_date": 1577298798, "creation_date": 1577294341, "last_edit_date": 1577296773, "question_id": 59480493, "link": "https://stackoverflow.com/questions/59480493/limit-checked-amount-of-grouped-checkboxes-i-e-max-2-groups", "title": "Limit checked amount of grouped checkboxes (i.e. max 2 groups)", "body": "<p>This might be simple to solve, but I ran into many issues, so I hope someone can help.\nI have groups of checkboxes (options coming form a db), something like this</p>\n\n<ul>\n<li>area1: 4 options</li>\n<li>area2: 6 options</li>\n<li>areaX: X options etc.</li>\n</ul>\n\n<p>The user has to select at least one option from one group/area, but no more than 2/group from max. 2 groups/areas (aka max. 4 options; max 2 options per group/area; max 2 groups/areas).</p>\n\n<p>I know how to limit the amount of checked boxes checked for a simple scenario, but I'm blank with the above problem (also found some posts, i.e. <a href=\"https://stackoverflow.com/questions/30441866/how-to-give-limitation-to-dynamic-checkboxes/30442693#30442693\">this</a>.</p>\n\n<p>I hope someone can help.</p>\n\n<p>Thanks in advance.</p>\n\n<p>So far I have this (limit the checkboxes per group)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function(){\r\n  var max = 2;\r\n  var checkboxes = $('.area &gt; input[type=\"checkbox\"]');\r\n  console.log(checkboxes);\r\n  checkboxes.click(function(){\r\n    var $this = $(this);\r\n    var set = checkboxes.filter('[name=\"'+ this.name +'\"]');\r\n    var current = set.filter(':checked').length;\r\n    return current &lt;= max;\r\n\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.c {\r\n  max-width: 1200px;\r\n  margin: auto;\r\n}\r\n.area {\r\n  margin-bottom: 10px;;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"c\"&gt;\r\n\r\n        &lt;div id=\"area1\" class=\"area\"&gt;\r\n            &lt;input type=\"checkbox\" value=\"Option 1-1\" id=\"option1\" name=\"option1\" /&gt;&lt;label for=\"option1\"&gt;Option 11&lt;/label&gt;&lt;br /&gt;\r\n            &lt;input type=\"checkbox\" value=\"Option 1-2\" id=\"option2\" name=\"option1\" /&gt;&lt;label for=\"option2\"&gt;Option 12&lt;/label&gt;&lt;br /&gt;\r\n            &lt;input type=\"checkbox\" value=\"Option 1-3\" id=\"option3\" name=\"option1\" /&gt;&lt;label for=\"option3\"&gt;Option 13&lt;/label&gt;&lt;br /&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div id=\"area2\" class=\"area\"&gt;\r\n            &lt;input type=\"checkbox\" value=\"Option 2-1\" id=\"option21\" name=\"option2\" /&gt;&lt;label for=\"option21\"&gt;Option 21&lt;/label&gt;&lt;br /&gt;\r\n            &lt;input type=\"checkbox\" value=\"Option 2-2\" id=\"option22\" name=\"option2\" /&gt;&lt;label for=\"option22\"&gt;Option 22&lt;/label&gt;&lt;br /&gt;\r\n            &lt;input type=\"checkbox\" value=\"Option 2-3\" id=\"option23\" name=\"option2\" /&gt;&lt;label for=\"option23\"&gt;Option 23&lt;/label&gt;&lt;br /&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div id=\"area3\" class=\"area\"&gt;\r\n            &lt;input type=\"checkbox\" value=\"Option 3-1\" id=\"option31\" name=\"option3\" /&gt;&lt;label for=\"option31\"&gt;Option 31&lt;/label&gt;&lt;br /&gt;\r\n            &lt;input type=\"checkbox\" value=\"Option 3-2\" id=\"option32\" name=\"option3\" /&gt;&lt;label for=\"option32\"&gt;Option 32&lt;/label&gt;&lt;br /&gt;\r\n            &lt;input type=\"checkbox\" value=\"Option 3-3\" id=\"option33\" name=\"option3\" /&gt;&lt;label for=\"option33\"&gt;Option 33&lt;/label&gt;&lt;br /&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div id=\"area4\" class=\"area\"&gt;\r\n            &lt;input type=\"checkbox\" value=\"Option 4-1\" id=\"option41\" name=\"option4\" /&gt;&lt;label for=\"option41\"&gt;Option 41&lt;/label&gt;&lt;br /&gt;\r\n            &lt;input type=\"checkbox\" value=\"Option 4-2\" id=\"option42\" name=\"option4\" /&gt;&lt;label for=\"option42\"&gt;Option 42&lt;/label&gt;&lt;br /&gt;\r\n            &lt;input type=\"checkbox\" value=\"Option 4-3\" id=\"option43\" name=\"option4\" /&gt;&lt;label for=\"option43\"&gt;Option 43&lt;/label&gt;&lt;br /&gt;\r\n        &lt;/div&gt;\r\n\r\n    &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>/ K</p>\n"}, {"tags": ["javascript", "html", "input", "highlight"], "answers": [{"tags": [], "owner": {"reputation": 1149, "user_id": 1697008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83c5c26c404a765ed2e55e3ab0c1c65d?s=128&d=identicon&r=PG", "display_name": "daf", "link": "https://stackoverflow.com/users/1697008/daf"}, "is_accepted": true, "score": 0, "last_activity_date": 1577297129, "creation_date": 1577297129, "answer_id": 59480802, "question_id": 59480461, "link": "https://stackoverflow.com/questions/59480461/highlighted-input-text-wont-update-on-key-press/59480802#59480802", "title": "Highlighted input text wont update on key press", "body": "<p>looks like your problem is the first <code>if</code> statement in that <code>onkeypress</code> handler -- if you have 3 characters, no processing occurs. Sadly, setting a max value on a number input doesn't stop the user from typing in a larger number (at least, not on Firefox), neither does setting a maxlength property seem to do the trick. However, I've put together some javascript which provides a nearly-natural response:</p>\n\n<ul>\n<li>typing extra characters: they are fleetingly shown, but then trimmed off</li>\n<li>reducing less than zero: should clamp to zero</li>\n<li>back-spacing should allow emptying the field.</li>\n</ul>\n\n<p>here goes:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;script type=\"text/javascript\"&gt;\nvar input = document.querySelector(\"#input\");\nvar min = parseInt(input.min);\nvar max = parseInt(input.max);\n\ninput.onkeypress = function(ev) {\n  // I assume the OP has a good reason for ignoring\n  // - and .\n  if (ev.charCode == 46 || ev.charCode == 45) {\n     ev.preventDefault();\n     return;\n  }\n};\ninput.onkeyup = function(ev) {\n  var current = parseInt(input.value);\n  if (current == \"\") {\n    return;\n  }\n  input.value = clamp(current);\n}\nfunction clamp(value) {\n  if (isNaN(value)) {\n    return \"\";\n  }\n  if (value &gt;= min &amp;&amp; value &lt;= max) {\n    return value;\n  }\n  if (value &gt; max) {\n    var str = value.toString();\n    return str.substr(0, (max + \"\").length);\n  }\n  return min;\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>And of course this script should only be found <em>after</em> the input, since it assumes the input exists. You may also need to modify this to suit the needs of multiple inputs as I've stored variables like the input and it's min/max in global variables.</p>\n"}], "owner": {"reputation": 320, "user_id": 5715663, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f97faa636dfff4577766484d606a6f4b?s=128&d=identicon&r=PG&f=1", "display_name": "nenur", "link": "https://stackoverflow.com/users/5715663/nenur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 59480802, "answer_count": 1, "score": 0, "last_activity_date": 1577297129, "creation_date": 1577294070, "question_id": 59480461, "link": "https://stackoverflow.com/questions/59480461/highlighted-input-text-wont-update-on-key-press", "title": "Highlighted input text wont update on key press", "body": "<p>I am having an issue when the user highlights their entire input in a  tag and then on keypress of a number to update the selected input, the input won't update if the max input size was reached (this only happens when the user highlights the entire input value). In the case of my code below the input type is a number with the range 0-999 and the max input size equals 3. What might be the cause of this issue?</p>\n\n<p>input.js:</p>\n\n<pre><code>table.rows[2].cells[1].innerHTML = \"&lt;input type=number id=input name=number min=0 max=999 value=&gt;\";\n\ndocument.getElementById(\"input\").addEventListener(\"input\", processInput);\n\ndocument.getElementById(\"input\").onkeypress = function() {\n   if (this.value.length == 3) {\n      return false;\n   } \n   if (event.charCode == 46 || event.charCode == 45) {\n      event.preventDefault();\n   }\n};\n</code></pre>\n"}, {"tags": ["javascript", "php"], "comments": [{"owner": {"reputation": 73668, "user_id": 1415724, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zErhj.jpg?s=128&g=1", "display_name": "Funk Forty Niner", "link": "https://stackoverflow.com/users/1415724/funk-forty-niner"}, "edited": false, "score": 0, "creation_date": 1577294751, "post_id": 59480452, "comment_id": 105137794, "body": "Why is this tagged as &quot;php&quot;?"}, {"owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "reply_to_user": {"reputation": 73668, "user_id": 1415724, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zErhj.jpg?s=128&g=1", "display_name": "Funk Forty Niner", "link": "https://stackoverflow.com/users/1415724/funk-forty-niner"}, "edited": false, "score": 0, "creation_date": 1577295430, "post_id": 59480452, "comment_id": 105137901, "body": "@FunkFortyNiner it looks very much to me that this HTML is part of some PHP code that is missing the larger context. Note the variable prefaced with <code>$</code>, and the real giveaway is the <code>.</code>s which looks very much like concatenation of PHP strings."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 12083866, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p7pvllr7HB8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reA9AL6T-dNhvYaoM7F6kcM7AmKxg/photo.jpg?sz=128", "display_name": "James Tigwela", "link": "https://stackoverflow.com/users/12083866/james-tigwela"}, "edited": false, "score": 0, "creation_date": 1577294697, "post_id": 59480494, "comment_id": 105137781, "body": "Thank you for your answer let me try and i will come back"}, {"owner": {"reputation": 31, "user_id": 12083866, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p7pvllr7HB8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reA9AL6T-dNhvYaoM7F6kcM7AmKxg/photo.jpg?sz=128", "display_name": "James Tigwela", "link": "https://stackoverflow.com/users/12083866/james-tigwela"}, "edited": false, "score": 0, "creation_date": 1577294991, "post_id": 59480494, "comment_id": 105137830, "body": "But how to declare as a variable so I can be able to pass to PHP file?"}, {"owner": {"reputation": 147, "user_id": 12593651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Ndcd.jpg?s=128&g=1", "display_name": "InDevX", "link": "https://stackoverflow.com/users/12593651/indevx"}, "reply_to_user": {"reputation": 31, "user_id": 12083866, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p7pvllr7HB8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reA9AL6T-dNhvYaoM7F6kcM7AmKxg/photo.jpg?sz=128", "display_name": "James Tigwela", "link": "https://stackoverflow.com/users/12083866/james-tigwela"}, "edited": false, "score": 0, "creation_date": 1577296338, "post_id": 59480494, "comment_id": 105138081, "body": "@JamesTigwela Added to answer"}], "tags": [], "owner": {"reputation": 147, "user_id": 12593651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Ndcd.jpg?s=128&g=1", "display_name": "InDevX", "link": "https://stackoverflow.com/users/12593651/indevx"}, "is_accepted": true, "score": 0, "last_activity_date": 1577296309, "last_edit_date": 1577296309, "creation_date": 1577294345, "answer_id": 59480494, "question_id": 59480452, "link": "https://stackoverflow.com/questions/59480452/how-to-pass-parameter-from-javascript-to-ajax-function/59480494#59480494", "title": "How to pass parameter from javascript to Ajax function", "body": "<p>Pass value:</p>\n\n<pre><code>onclick=\"removerow('.$row[\"sn\"].');\"\n</code></pre>\n\n<p>Accept it:</p>\n\n<pre><code>function removerow(value) \n{\n    // and you can use it just like variable\n    console.log(value);\n}\n</code></pre>\n\n<p>Sends var to php file (using jquery ajax):</p>\n\n<pre><code>function removerow(value) \n{\n    $.ajax({\n        url: 'index.php', // here path to php file\n        type: 'post',  //type of a query\n        data: {myVariable: value}, // data which sends into php file\n        success: function (data) {\n            alert('sended successfully!');\n        }\n    });\n}\n</code></pre>\n\n<p>And then, inside index.php (file, on which data was sended), we can saw our data using this:</p>\n\n<pre><code>$_POST['myVariable'];\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 12083866, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p7pvllr7HB8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reA9AL6T-dNhvYaoM7F6kcM7AmKxg/photo.jpg?sz=128", "display_name": "James Tigwela", "link": "https://stackoverflow.com/users/12083866/james-tigwela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 59480494, "answer_count": 1, "score": 0, "last_activity_date": 1577331143, "creation_date": 1577294028, "last_edit_date": 1577331143, "question_id": 59480452, "link": "https://stackoverflow.com/questions/59480452/how-to-pass-parameter-from-javascript-to-ajax-function", "title": "How to pass parameter from javascript to Ajax function", "body": "<p>Hello I need help on this, I have this code</p>\n\n<pre><code>&lt;a href=\"javascript:void(0);\" onclick=\"removerow('.$row[\"sn\"].');\"&gt;\n     &lt;i class=\"fa fa-remove\" style=\"color: red\"&gt;&lt;/i&gt;\n&lt;/a&gt;\n</code></pre>\n\n<p>and i need to get value from <code>onclick=\"removerow('.$row[\"sn\"].')</code> to this function</p>\n\n<pre><code>function removerow() \n{\n    var vpb_sn = _______.val();\n}\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 12641, "user_id": 7599510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iJk2N.jpg?s=128&g=1", "display_name": "norbitrial", "link": "https://stackoverflow.com/users/7599510/norbitrial"}, "edited": false, "score": 1, "creation_date": 1577293885, "post_id": 59480419, "comment_id": 105137610, "body": "Could you please share what you have tried so far? It would be useful for us to help you, thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 495, "user_id": 5823893, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GIHms2pRCno/AAAAAAAAAAI/AAAAAAAABFQ/fZhyIrJgTLw/photo.jpg?sz=128", "display_name": "Nathan Hawks", "link": "https://stackoverflow.com/users/5823893/nathan-hawks"}, "is_accepted": false, "score": 0, "last_activity_date": 1577294017, "creation_date": 1577294017, "answer_id": 59480448, "question_id": 59480419, "link": "https://stackoverflow.com/questions/59480419/how-can-i-store-a-string-value-inside-a-html-div/59480448#59480448", "title": "How can i store a string value inside a html div?", "body": "<pre><code>divID = 'the id of your div';\ncontent = 'the content you want in that div';\ndiv = document.getElementById(divID);\ndiv.innerHTML(content);\n</code></pre>\n\n<p>Documentation:</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementById\" rel=\"nofollow noreferrer\">.getElementByID</a></p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/innerHTML\" rel=\"nofollow noreferrer\">.innerHTML</a></p>\n"}, {"tags": [], "owner": {"reputation": 448, "user_id": 10534963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXrly.jpg?s=128&g=1", "display_name": "Leandro Luque", "link": "https://stackoverflow.com/users/10534963/leandro-luque"}, "is_accepted": true, "score": 1, "last_activity_date": 1577294097, "creation_date": 1577294097, "answer_id": 59480464, "question_id": 59480419, "link": "https://stackoverflow.com/questions/59480419/how-can-i-store-a-string-value-inside-a-html-div/59480464#59480464", "title": "How can i store a string value inside a html div?", "body": "<p>You can store arbitrary data in custom attributes.</p>\n\n<pre><code>&lt;div id=\"id1\" any=\"value\"&gt;\n\ndocument.getElementById(\"id1\").getAttribute(\"any\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 168, "user_id": 12330848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/157251266eeac9500403511558670ecc?s=128&d=identicon&r=PG&f=1", "display_name": "Maxsym Kosov", "link": "https://stackoverflow.com/users/12330848/maxsym-kosov"}, "is_accepted": false, "score": 1, "last_activity_date": 1577294648, "creation_date": 1577294648, "answer_id": 59480542, "question_id": 59480419, "link": "https://stackoverflow.com/questions/59480419/how-can-i-store-a-string-value-inside-a-html-div/59480542#59480542", "title": "How can i store a string value inside a html div?", "body": "<p>Let assume a div tag's id equals to NumberID ( <code>&lt;div id=\"NumberID\"&gt;&lt;/div&gt;</code> )</p>\n\n<p>If you are gonna wanna use javascript,</p>\n\n<pre><code>var NumberID = document.getElementById(\"NumberID\").innerHTML;\n</code></pre>\n\n<p>Then you can get the result from the NumberID variable. </p>\n"}, {"tags": [], "owner": {"reputation": 393, "user_id": 12595279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1757996a838c1da0c078e8b086f6116?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/12595279/fubar"}, "is_accepted": false, "score": 0, "last_activity_date": 1577304441, "creation_date": 1577304441, "answer_id": 59481506, "question_id": 59480419, "link": "https://stackoverflow.com/questions/59480419/how-can-i-store-a-string-value-inside-a-html-div/59481506#59481506", "title": "How can i store a string value inside a html div?", "body": "<p>So what you want to use for storage is an array cause it's way faster than the DOM and the DOM isn't your storage. Here a small code example how to use an array to store stuff, extract and foreach</p>\n\n<pre><code>// declaring the array\nconst messages = [];\n\n// can be automated to restructure incoming dataformat\nfunction incoming(nodeId, msgId, msg) {\n    messages.push({\n        // you can store the html node directly for faster access\n        // even better if you pass the node as a parameter\n        // \"node\": document.getElementById(nodeId),\n        \"node\": nodeId,\n        \"msgId\": msgId,\n        \"msg\": msg\n    })\n    // do other stuff here example:\n    // appendMsg();\n}\n\n// incoming messages\nincoming(\"box-1\", 25823, \"hi, whats up??\")\nincoming(\"box-2\", 25824, \"not much...\")\nincoming(\"box-3\", 25825, \"wanna learn JS?\")\nlet searchResult = messages.find((ele) =&gt; {\n    // use return ele.node.id == `box-1` if you store the elements and want to find an element\n    return ele.node == \"box-2\"  \n})\nconsole.log(searchResult)\n\n// using map to print the text of all messages\nmessages.map(ele =&gt; console.log(ele.msg))\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10668271, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gvP0HJH_A4g/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gN2AUBOU19HnP-GDZJtbc3-tImPw/mo/photo.jpg?sz=128", "display_name": "None", "link": "https://stackoverflow.com/users/10668271/none"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 0, "accepted_answer_id": 59480464, "answer_count": 4, "score": 0, "last_activity_date": 1577315793, "creation_date": 1577293753, "last_edit_date": 1577315793, "question_id": 59480419, "link": "https://stackoverflow.com/questions/59480419/how-can-i-store-a-string-value-inside-a-html-div", "title": "How can i store a string value inside a html div?", "body": "<p>I'm trying to make a simple messenger for my school project</p>\n\n<p>I need to store id number of each chat message inside himself (which is a div tag) and I want to access this value from JavaScript with id or name of div.</p>\n\n<p>sorry for my bad English</p>\n"}, {"tags": ["javascript", "jquery", "wordpress"], "answers": [{"tags": [], "owner": {"reputation": 448, "user_id": 10534963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXrly.jpg?s=128&g=1", "display_name": "Leandro Luque", "link": "https://stackoverflow.com/users/10534963/leandro-luque"}, "is_accepted": true, "score": 0, "last_activity_date": 1577294203, "creation_date": 1577294203, "answer_id": 59480480, "question_id": 59480405, "link": "https://stackoverflow.com/questions/59480405/how-to-remove-text-that-is-not-under-any-element-with-javascript/59480480#59480480", "title": "How to Remove text that is not under any element with javascript", "body": "<p>Use the String Locator plugin. Search for it and remove. If it is not dynamically generated, you'll find it.</p>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 10111894, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--xkTqjuB_EU/AAAAAAAAAAI/AAAAAAAAAB0/iuei9zN1KJg/photo.jpg?sz=128", "display_name": "mmendescortes", "link": "https://stackoverflow.com/users/10111894/mmendescortes"}, "is_accepted": false, "score": 1, "last_activity_date": 1582487244, "last_edit_date": 1592644375, "creation_date": 1578679381, "answer_id": 59686846, "question_id": 59480405, "link": "https://stackoverflow.com/questions/59480405/how-to-remove-text-that-is-not-under-any-element-with-javascript/59686846#59686846", "title": "How to Remove text that is not under any element with javascript", "body": "<h1>Pure and easy solution</h1>\n<h3>Replace the content on the rendered HTML with an empty string</h3>\n<p>If it is inside the body tag of your HTML, all tou need to do is replace it with an empty string.</p>\n<p>For example:</p>\n<pre><code>window.onload=()=&gt;{\n    document.body.innerHTML.replace(&quot;pure-text&quot;, &quot;&quot;);\n}\n</code></pre>\n<p>What I did was basically get everything from the body tag and replace the string &quot;pure-text&quot; with an empty string.</p>\n<p>Please, note the window.onload that ensures the code runs after everything is loaded.</p>\n<p>This exemple however can fail easily on situations where the thing you want to remove loads dinamically with a new name after every request, be aware of that.</p>\n"}], "owner": {"reputation": 11, "user_id": 8789692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcb9e90c9ebdaffa4bf766be0727d324?s=128&d=identicon&r=PG&f=1", "display_name": "Uzair", "link": "https://stackoverflow.com/users/8789692/uzair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 59480480, "answer_count": 2, "score": 1, "last_activity_date": 1582487244, "creation_date": 1577293584, "last_edit_date": 1577294224, "question_id": 59480405, "link": "https://stackoverflow.com/questions/59480405/how-to-remove-text-that-is-not-under-any-element-with-javascript", "title": "How to Remove text that is not under any element with javascript", "body": "<p>There are some codes loading at the footer of my website. when i viewed source code it doesn't have any element and i am not able find them inside my wordpress theme files. How can i remove them?</p>\n\n<p>when i inspect it, it is just showing like this (without any element).</p>\n\n<pre><code>body.single-product .layout-sidebar-no div.product div.summary {\nwidth: 48%;\n}\nbody.single-product .layout-sidebar-no div.product div.images {\nwidth: 50%;\n}\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "reactjs", "react-native", "ecmascript-6"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1577293613, "post_id": 59480360, "comment_id": 105137546, "body": "There&#39;s also no <code>...team.id</code>, since <code>.team</code> is an array. Why a second array btw? Can&#39;t you just add <code>status: true</code> to the first array&#39;s team objects?"}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1577293623, "post_id": 59480360, "comment_id": 105137549, "body": "Why is there two objects with <code>id:2</code> in expected <code>array2</code>? Please create distinct ids for each object in <code>array1</code> and objects in <code>team</code> array and write a clear problem statement. It&#39;s unclear which <code>id</code> you want added in array2"}, {"owner": {"reputation": 2796, "user_id": 2741011, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a3208cd5e60a197b8889eeaf5f30da63?s=128&d=identicon&r=PG&f=1", "display_name": "Somename", "link": "https://stackoverflow.com/users/2741011/somename"}, "reply_to_user": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1577293678, "post_id": 59480360, "comment_id": 105137563, "body": "@adiga lets say I want to add the array[1] ids."}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1577293868, "post_id": 59480360, "comment_id": 105137606, "body": "So, given <code>id=3</code> from <code>updateArray</code> parameter, you want to get <code>array1[2].team</code> objects to be pushed into <code>array2</code> with <code>status: true</code>? Do you remove the existing objects from <code>array2</code> before doing this?"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1577293969, "post_id": 59480360, "comment_id": 105137631, "body": "Please take a step back and describe what the ultimate goal is. Something like &quot;I want a boolean <code>status</code> for each team and to be able to change it as I like using something like <code>setTeamStatus(id, newStatus)</code>&quot;"}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 1, "creation_date": 1577294009, "post_id": 59480360, "comment_id": 105137647, "body": "What if <code>array2</code> already has (some of) the ids?"}, {"owner": {"reputation": 2796, "user_id": 2741011, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a3208cd5e60a197b8889eeaf5f30da63?s=128&d=identicon&r=PG&f=1", "display_name": "Somename", "link": "https://stackoverflow.com/users/2741011/somename"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1577294119, "post_id": 59480360, "comment_id": 105137673, "body": "@ChrisG, I want array2 to have individual objects with ids from <code>team</code> of selected id from array1, and set status to true."}, {"owner": {"reputation": 2796, "user_id": 2741011, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a3208cd5e60a197b8889eeaf5f30da63?s=128&d=identicon&r=PG&f=1", "display_name": "Somename", "link": "https://stackoverflow.com/users/2741011/somename"}, "reply_to_user": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1577294160, "post_id": 59480360, "comment_id": 105137680, "body": "@trincot, The array2 will always be empty and waiting for Ids from array1[n].team and set them to true."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1577294296, "post_id": 59480360, "comment_id": 105137706, "body": "Ok, but where in state are you storing which team the status objects in <code>array2</code> are referring to? And if all team members have the same status, why store them individually? Also: <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY problem</a> (we&#39;re stuck at the fifth list item currently)"}], "answers": [{"comments": [{"owner": {"reputation": 2796, "user_id": 2741011, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a3208cd5e60a197b8889eeaf5f30da63?s=128&d=identicon&r=PG&f=1", "display_name": "Somename", "link": "https://stackoverflow.com/users/2741011/somename"}, "edited": false, "score": 0, "creation_date": 1577293785, "post_id": 59480400, "comment_id": 105137588, "body": "But how do I push it to array 2? where do I put this in the function?"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1577294215, "post_id": 59480400, "comment_id": 105137695, "body": "This seems to be the solution OP is looking for, as far as I can tell."}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1577294333, "post_id": 59480400, "comment_id": 105137718, "body": "<code>array1[id]</code> assumes that <code>id</code>s are same as indices (which they aren&#39;t). OP probably wants <code>const { team = [] } = this.state.array1.find(a =&gt; a.id === id) || {}; const array2 = team.map(...)</code>"}, {"owner": {"reputation": 645, "user_id": 7692076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz3oP.jpg?s=128&g=1", "display_name": "Akshit Mehra", "link": "https://stackoverflow.com/users/7692076/akshit-mehra"}, "edited": false, "score": 0, "creation_date": 1577294619, "post_id": 59480400, "comment_id": 105137769, "body": "If the key order remains the same, maybe the <code>map()</code> method can be called on <code>array1[id - 1]</code>, so that that the index resembles the key. However, it will be a problem when one of the elements is removed."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1577294726, "post_id": 59480400, "comment_id": 105137788, "body": "Or use <code>find()</code> to grab the proper team array."}, {"owner": {"reputation": 645, "user_id": 7692076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz3oP.jpg?s=128&g=1", "display_name": "Akshit Mehra", "link": "https://stackoverflow.com/users/7692076/akshit-mehra"}, "reply_to_user": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1577295409, "post_id": 59480400, "comment_id": 105137899, "body": "@adiga I have updated my answer, please feel free to edit or correct."}], "tags": [], "owner": {"reputation": 645, "user_id": 7692076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz3oP.jpg?s=128&g=1", "display_name": "Akshit Mehra", "link": "https://stackoverflow.com/users/7692076/akshit-mehra"}, "is_accepted": true, "score": 0, "last_activity_date": 1577295215, "last_edit_date": 1577295215, "creation_date": 1577293559, "answer_id": 59480400, "question_id": 59480360, "link": "https://stackoverflow.com/questions/59480360/setstate-of-an-array/59480400#59480400", "title": "SetState of an array", "body": "<p>Using the map function on <code>array1[id]</code>:</p>\n\n<pre><code>updateArray = id =&gt; {\n    const array2 = this.state.array1[id].team.map(item =&gt; (\n        {id: item.id, status: true}\n    ));\n    this.setState({array2})\n}\n</code></pre>\n\n<p>I don't know if you always want to replace the values in <code>array2</code> or you need multiple new arrays to be created in the <code>state</code> depending upon the <code>id</code>s passed to the above function, like <code>array2</code>, <code>array3</code> and so on?</p>\n\n<p><strong>UPDATE:</strong> if the <code>id</code> isn't the same as the index of the parent array (as suggested by <em>adiga</em> and <em>Chris</em>)</p>\n\n<pre><code>updateArray = id =&gt; {\n    const arrayToConsider = this.state.array1.find(element =&gt; (\n        element.id === id\n    ));\n    const array2 = arrayToConsider.team.map(item =&gt; (\n        {id: item.id, status: true}\n    ));\n    this.setState({array2})\n}\n</code></pre>\n"}], "owner": {"reputation": 2796, "user_id": 2741011, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a3208cd5e60a197b8889eeaf5f30da63?s=128&d=identicon&r=PG&f=1", "display_name": "Somename", "link": "https://stackoverflow.com/users/2741011/somename"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 59480400, "answer_count": 1, "score": -2, "last_activity_date": 1577295215, "creation_date": 1577293229, "last_edit_date": 1577293613, "question_id": 59480360, "link": "https://stackoverflow.com/questions/59480360/setstate-of-an-array", "title": "SetState of an array", "body": "<p>I have an object in the state that has an array. I want to set the status of the <code>IDs</code> of that array to another empty array in the state. I want the <code>array1[1].team.id</code> to be pushed to the empty array, <code>array2</code> and set status to be true. My code: </p>\n\n<pre><code>this.state: {\n\n    array1: [\n        {id:1, team: [\n            {id:1, name: 'name1a'},\n            {id:2, name: 'name2a'},\n            {id:3, name: 'name3a'}\n        ]},\n\n        {id:2, team: [\n            {id:1, name: 'name1b'},\n            {id:2, name: 'name2b'},\n            {id:3, name: 'name3b'}\n        ]},\n\n        {id:3, team: [\n            {id:1, name: 'name1c'},\n            {id:2, name: 'name2c'},\n            {id:3, name: 'name3c'}\n        ]},\n    ],\n\n    array2: [\n\n    ]\n\n}\n</code></pre>\n\n<p>So with the function, I want array2 to be: </p>\n\n<pre><code>array2: [\n   {id:1, status:true},\n   {id:2, status:true},\n   {id:2, status:true}\n]\n</code></pre>\n\n<p>I tried: </p>\n\n<pre><code>updateArray = (id) =&gt; {     //consider id=1\n\n    let array2 = [...this.state.array2];\n\n    let newArray2 = [...this.state.array1[id].team.id, status:true];\n\n    this.setState({\n        array2: newArray2\n    })\n\n}\n</code></pre>\n\n<p>And it did not work. Obviously, doing something wrong. How do I do it? Thanks.</p>\n"}, {"tags": ["javascript", "selenium", "selenium-webdriver", "ui-automation", "browser-automation"], "comments": [{"owner": {"reputation": 599, "user_id": 5900163, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5KtOp.jpg?s=128&g=1", "display_name": "Keff", "link": "https://stackoverflow.com/users/5900163/keff"}, "edited": false, "score": 0, "creation_date": 1577295468, "post_id": 59480355, "comment_id": 105137906, "body": "I think you must pass in <code>firefox</code> instead of <code>Firefox</code>"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 12592066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8dc0ecb1a1ecec644ca95a561473fb2?s=128&d=identicon&r=PG&f=1", "display_name": "eda", "link": "https://stackoverflow.com/users/12592066/eda"}, "edited": false, "score": 0, "creation_date": 1577383317, "post_id": 59485948, "comment_id": 105158031, "body": "Hello,  I tried both of the answers and i just get this: node:17904) UnhandledPromiseRejectionWarning: Error: Do not know how to build driver: Firefox; did you forget to call usingServer(url)?"}], "tags": [], "owner": {"reputation": 19, "user_id": 12599921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcd7aca761bd4b6aa712fe9f82191902?s=128&d=identicon&r=PG&f=1", "display_name": "Sarin Babu", "link": "https://stackoverflow.com/users/12599921/sarin-babu"}, "is_accepted": false, "score": 0, "last_activity_date": 1577355776, "last_edit_date": 1577355776, "creation_date": 1577349993, "answer_id": 59485948, "question_id": 59480355, "link": "https://stackoverflow.com/questions/59480355/selenium-webdriver-cant-find-the-driver-in-javascript/59485948#59485948", "title": "selenium-webdriver can&#39;t find the driver in javascript?", "body": "<p>Just Try this :</p>\n\n<pre><code>const {Builder, By, Key, util} = require('selenium-webdriver');\nconst firefox = require('selenium-webdriver/firefox');\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 12592066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8dc0ecb1a1ecec644ca95a561473fb2?s=128&d=identicon&r=PG&f=1", "display_name": "eda", "link": "https://stackoverflow.com/users/12592066/eda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 565, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1577355776, "creation_date": 1577293193, "last_edit_date": 1577305721, "question_id": 59480355, "link": "https://stackoverflow.com/questions/59480355/selenium-webdriver-cant-find-the-driver-in-javascript", "title": "selenium-webdriver can&#39;t find the driver in javascript?", "body": "<pre><code>const {Builder, By, Key, util} = require(\"selenium-webdriver/Firefox\");\nasync function example(){\nlet driver = await new Builder().forBrowser('Firefox').build();\nawait driver.get(\"https://www.google.com\");\nawait driver.findElement(By.name(\"q\")).sendKeys(\"Selenium\", Key.RETURN);\n</code></pre>\n\n<p>Hello,\nI am constantly getting these errors, although I added the webdriver path in the system and I cant execute the test.\nHas anyone experienced something like that?</p>\n\n<pre><code>(node:15844) UnhandledPromiseRejectionWarning: Error: Do not know how to build driver: Firefox\n(node:4764) UnhandledPromiseRejectionWarning: TypeError: Builder is not a constructor\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "dom", "window", "this"], "comments": [{"owner": {"reputation": 1, "user_id": 10550549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5Jv5C.jpg?s=128&g=1", "display_name": "T&#226;n", "link": "https://stackoverflow.com/users/10550549/t%c3%a2n"}, "edited": false, "score": 1, "creation_date": 1577293289, "post_id": 59480353, "comment_id": 105137483, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/29030747/what-does-arrow-function-mean-in-javascript\">What does arrow function &#39;() =&gt; {}&#39; mean in Javascript?</a>"}, {"owner": {"reputation": 23, "user_id": 12072520, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IvOb3PTRWZ4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hjI7vFU7a1qUE9WqjxUK1WdNRxKw/mo/photo.jpg?sz=128", "display_name": "Woosik", "link": "https://stackoverflow.com/users/12072520/woosik"}, "reply_to_user": {"reputation": 1, "user_id": 10550549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5Jv5C.jpg?s=128&g=1", "display_name": "T&#226;n", "link": "https://stackoverflow.com/users/10550549/t%c3%a2n"}, "edited": false, "score": 0, "creation_date": 1577302427, "post_id": 59480353, "comment_id": 105139250, "body": "actually, not. but thx :)"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 12072520, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IvOb3PTRWZ4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hjI7vFU7a1qUE9WqjxUK1WdNRxKw/mo/photo.jpg?sz=128", "display_name": "Woosik", "link": "https://stackoverflow.com/users/12072520/woosik"}, "edited": false, "score": 0, "creation_date": 1577302617, "post_id": 59480420, "comment_id": 105139272, "body": "umm, but you can see what I used <code>console.log(this)</code>"}], "tags": [], "owner": {"reputation": 81, "user_id": 11277479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc1718ef3fe972bd3f86f5769df47ae?s=128&d=identicon&r=PG&f=1", "display_name": "kodak", "link": "https://stackoverflow.com/users/11277479/kodak"}, "is_accepted": false, "score": 1, "last_activity_date": 1577293758, "creation_date": 1577293758, "answer_id": 59480420, "question_id": 59480353, "link": "https://stackoverflow.com/questions/59480353/jquery-why-is-this-in-callback-function-window/59480420#59480420", "title": "jQuery why is $(this) in callback function &quot;window&quot;?", "body": "<p>The jQuery <a href=\"https://www.w3schools.com/jquery/traversing_parent.asp\" rel=\"nofollow noreferrer\">.parent()</a> method return the parent of a span element, which is shown in the documentation.</p>\n\n<p>Your icon is probably inside a span element and when you call the method parent() <code>var p = $(this).parent();</code>  you are targeting the <a href=\"https://www.w3schools.com/jsref/obj_window.asp\" rel=\"nofollow noreferrer\">Window</a> object.</p>\n"}], "owner": {"reputation": 23, "user_id": 12072520, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IvOb3PTRWZ4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hjI7vFU7a1qUE9WqjxUK1WdNRxKw/mo/photo.jpg?sz=128", "display_name": "Woosik", "link": "https://stackoverflow.com/users/12072520/woosik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577302779, "creation_date": 1577293191, "last_edit_date": 1577302779, "question_id": 59480353, "link": "https://stackoverflow.com/questions/59480353/jquery-why-is-this-in-callback-function-window", "title": "jQuery why is $(this) in callback function &quot;window&quot;?", "body": "<p>I was about to make delete button for my to-do list code. \nthis is my code in <code>&lt;script&gt;</code></p>\n\n<pre><code>  var del = $(\"&lt;ion-icon name='trash'&gt;&lt;/ion-icon&gt;\").click((e)=&gt;{\n    var p = $(this).parent();\n    p.remove()\n    console.log(this)\n  })\n</code></pre>\n\n<p>and I got log like this in browser console.</p>\n\n<p><code>Window\u00a0{parent: Window, opener: null, top: Window, length: 0, frames: Window,\u00a0\u2026}</code></p>\n\n<p>now I found another one is way to use <code>$(e.target)</code> \nbut I'm still curious why $(this) in callback function is \"window\".<br><br>\nI'm waiting for your great answer :) thx !</p>\n\n<ul>\n<li>and this is what I wanna do in my code</li>\n</ul>\n\n<pre><code>$('#task').click((e)=&gt;{\n\n  var task = $(\"&lt;li class='task'&gt;&lt;/li&gt;\").text($('#enter-task').val())\n\n  var del = $(\"&lt;ion-icon name='trash'&gt;&lt;/ion-icon&gt;\").click((e)=&gt;{\n    var p = $(this).parent();\n    p.remove()\n    console.log(this)\n  })\n\n  task.append(del)\n\n  $(\"#tasklist\").append(task)\n\n})\n</code></pre>\n"}, {"tags": ["javascript", "regex", "electron"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1577293381, "post_id": 59480331, "comment_id": 105137503, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/DOMParser\" rel=\"nofollow noreferrer\">Parse the HTML</a> instead, then use something like <code>parsedDoc.querySelectorAll(&#39;link&#39;).forEach(...)</code> to get <code>href</code>s."}, {"owner": {"reputation": 8140, "user_id": 6517383, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/CSaA5.jpg?s=128&g=1", "display_name": "Black Mamba", "link": "https://stackoverflow.com/users/6517383/black-mamba"}, "edited": false, "score": 0, "creation_date": 1577293525, "post_id": 59480331, "comment_id": 105137531, "body": "Where do you want to use the not operator? In regex ^ is a not operator you can use it like this <code>[^__]</code>"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user12097764"}, "is_accepted": false, "score": 1, "last_activity_date": 1578277828, "last_edit_date": 1578277828, "creation_date": 1577299033, "answer_id": 59481000, "question_id": 59480331, "link": "https://stackoverflow.com/questions/59480331/regex-html-file-href-src-url-pattern/59481000#59481000", "title": "regex html file href/src url pattern", "body": "<p>A regex to find any tag with src or href attribute with value containing one of these<br>\nextensions or sub-dirs <code>css, js, svg, json</code> is this :</p>\n\n<p><code>/&lt;[\\w:]+(?=(?:[^&gt;\"']|\"[^\"]*\"|'[^']*')*?\\s(href|src)\\s*=\\s*(?:(['\"])\\s*((?:(?!\\2)[\\S\\s])*?[.\\/](?:css|js|svg|json)(?:(?!\\2)[\\S\\s])*?)\\s*\\2))\\s+(?:\"[\\S\\s]*?\"|'[\\S\\s]*?'|[^&gt;]*?)+&gt;/</code></p>\n\n<p><a href=\"https://regex101.com/r/tKrTSO/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/tKrTSO/1</a></p>\n\n<p>Where : </p>\n\n<ul>\n<li>Attribute is in group 1</li>\n<li>Value is in group 3</li>\n</ul>\n\n<p>Expanded  </p>\n\n<pre><code> &lt; [\\w:]+               # Any tag\n\n (?=                    # Assert (a pseudo atomic group)\n      (?: [^&gt;\"'] | \" [^\"]* \" | ' [^']* ' )*?\n      \\s \n      ( href | src )         # (1), href or src attribute\n      \\s* = \\s* \n      (?:\n           ( ['\"] )               # (2), Quote\n           \\s* \n\n           (                      # (3 start), value\n                (?:\n                     (?! \\2 )\n                     [\\S\\s] \n                )*?\n\n                [./]                   # One of these extensions or sub-dirs\n                (?: css | js | svg | json )\n\n                (?:\n                     (?! \\2 )\n                     [\\S\\s] \n                )*?\n           )                      # (3 end)\n           \\s*               \n           \\2 \n      )\n )\n \\s+ \n (?: \" [\\S\\s]*? \" | ' [\\S\\s]*? ' | [^&gt;]*? )+\n &gt;\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 12453546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8660475c62f7ff2809de5b68e8620b0?s=128&d=identicon&r=PG&f=1", "display_name": "skyslide22", "link": "https://stackoverflow.com/users/12453546/skyslide22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1578277828, "creation_date": 1577292986, "last_edit_date": 1577302612, "question_id": 59480331, "link": "https://stackoverflow.com/questions/59480331/regex-html-file-href-src-url-pattern", "title": "regex html file href/src url pattern", "body": "<p>Building an Electron app which gives you all colors of any website.</p>\n\n<p>For that, the app downloads the url (like <a href=\"http://youtube.com\" rel=\"nofollow noreferrer\">http://youtube.com</a>) and saves it as html.\nNow the app reads the html file and searches for any url which links to a file which might contain a color value (rgb/rgba/#/hsl), so those files would be css,js,svg etc. Those urls are added to an array, which is used by the electron-download-manager package lateron...</p>\n\n<p>eg: <code>[\"href=\"/main.css?v=33.1\"\", \"src=\"http://somesite.com/js/regex.js\"\"]</code></p>\n\n<p>href=\" / src=\" are removed by other functions</p>\n\n<p>My pattern for the url is:</p>\n\n<pre><code>/(href|src)=(\"|')(.*?)(\\.|\\/)(css|js|svg|json)(.*?)(\"|')/g\n</code></pre>\n\n<p>which just works fine, but it doesnt end matching on the closing quote symbol '/\"</p>\n\n<p>the match of the first example is the whole line, it contains everything after the closing quote, so the title=\"\" is part of the url, which makes no sense</p>\n\n<pre><code>href=\"https://www.youtube.com/opensearch?locale=de_DE\" title=\"YouTube\"&gt;&lt;link rel=\"manifest\" href=\"/manifest.json\" // matches everything until json is found\n\nsrc=\"bla.css\" // works\nsrc='bla.css?ver=123.456' // works\n</code></pre>\n\n<p>Is there a regex rule which says \"stop by this character\"?</p>\n\n<p>my rule should be:</p>\n\n<blockquote>\n  <p>(start with href=\", url , ends with .css/.js, optional fileversion(?v=123), quote symbol)</p>\n</blockquote>\n"}, {"tags": ["javascript", "node.js", "mongodb", "express", "mongoose"], "comments": [{"owner": {"reputation": 315, "user_id": 11896129, "user_type": "registered", "profile_image": "https://graph.facebook.com/723894017772419/picture?type=large", "display_name": "Oner T.", "link": "https://stackoverflow.com/users/11896129/oner-t"}, "edited": false, "score": 0, "creation_date": 1577293771, "post_id": 59480307, "comment_id": 105137582, "body": "put console.logs to the post function in your express, so we can see what are that object and req.body   <code>app.post(&#39;&#47;&#39;, (req, res) =&gt; {   Post.create(req.body)   console.log(req.body)   .then(post =&gt; {res.send(post), console.log(post)})   .catch(err =&gt; res.status(500).send(err)) })</code>"}, {"owner": {"reputation": 606, "user_id": 3717071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bo0UH.jpg?s=128&g=1", "display_name": "Lokesh Daiya", "link": "https://stackoverflow.com/users/3717071/lokesh-daiya"}, "edited": false, "score": 0, "creation_date": 1577307074, "post_id": 59480307, "comment_id": 105139980, "body": "Can you try to add <code>app.use(express.urlencoded({extended: true}));</code>. For forms this needs to be added."}, {"owner": {"reputation": 13691, "user_id": 7237613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uSfTu.png?s=128&g=1", "display_name": "whoami - fakeFaceTrueSoul", "link": "https://stackoverflow.com/users/7237613/whoami-fakefacetruesoul"}, "edited": false, "score": 0, "creation_date": 1577318231, "post_id": 59480307, "comment_id": 105141615, "body": "you need to do this : <code>console.log(&#39;req.body : &#39; + JSON.stringify(req.body))</code> to view in normal form. &amp; then what was the issue with mongoDB updates ?"}, {"owner": {"reputation": 1, "user_id": 11056656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00f177568158da51f932511645860f6?s=128&d=identicon&r=PG&f=1", "display_name": "youggyu lee", "link": "https://stackoverflow.com/users/11056656/youggyu-lee"}, "edited": false, "score": 0, "creation_date": 1577332836, "post_id": 59480307, "comment_id": 105143219, "body": "<b>Oner T.</b> thank you your help but req.body print out <b>req.body : [object Object]</b>"}, {"owner": {"reputation": 1, "user_id": 11056656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00f177568158da51f932511645860f6?s=128&d=identicon&r=PG&f=1", "display_name": "youggyu lee", "link": "https://stackoverflow.com/users/11056656/youggyu-lee"}, "edited": false, "score": 0, "creation_date": 1577332988, "post_id": 59480307, "comment_id": 105143241, "body": "Thank you so much <b>Lokesh Daiya 7</b> that problem looks like fixed it! have a nice day"}, {"owner": {"reputation": 1, "user_id": 11056656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00f177568158da51f932511645860f6?s=128&d=identicon&r=PG&f=1", "display_name": "youggyu lee", "link": "https://stackoverflow.com/users/11056656/youggyu-lee"}, "edited": false, "score": 0, "creation_date": 1577333348, "post_id": 59480307, "comment_id": 105143284, "body": "<b>srinivasy</b> thank you sooo much that issue is fixed it and i can see req.body thanks to your code! thank you all guys have a nice day happy new year :)"}], "owner": {"reputation": 1, "user_id": 11056656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f00f177568158da51f932511645860f6?s=128&d=identicon&r=PG&f=1", "display_name": "youggyu lee", "link": "https://stackoverflow.com/users/11056656/youggyu-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577292806, "creation_date": 1577292806, "question_id": 59480307, "link": "https://stackoverflow.com/questions/59480307/the-data-is-not-being-stored-normally-to-mongodb", "title": "The data is not being stored normally to mongodb", "body": "<p>i have some problem.</p>\n\n<p>the problem is data is not being stored normally to mongodb.</p>\n\n<p>i don't know why does not work normally.</p>\n\n<p>sources:</p>\n\n<blockquote>\n  <p>write.ejs</p>\n</blockquote>\n\n<pre><code>&lt;form method='post' action=\"/post/write\"&gt;\n    &lt;table border=\"1\"&gt;  \n        &lt;tr&gt;\n            &lt;td&gt;id&lt;/td&gt;\n            &lt;td&gt;&lt;input type='text' name='postid' id='postid'&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;title&lt;/td&gt;\n            &lt;td&gt;&lt;input type='text' name='title' id='title'&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;content&lt;/td&gt;\n            &lt;td&gt;&lt;input type='text' name='content' id='content'&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;\n                &lt;input type=\"submit\" value=\"submit!\"&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n\n\n&lt;/form&gt;\n</code></pre>\n\n<blockquote>\n  <p>post.js</p>\n</blockquote>\n\n<pre><code>const mongoose = require('mongoose')\n\nconst postSchema = new mongoose.Schema({\n    postid: String,\n    title: String,\n    content: String,\n    published_date: { type: Date, default: Date.now}\n})\n\npostSchema.static.create = function (payload){\n  // console.log('payload' + payload)\n  // console.log('post' + post)\n  const post = new this(payload)\n  return post.save()\n}\n\npostSchema.statics.findAll = function (){\n  return this.find({});\n}\n\npostSchema.statics.findOneByPostid = function (postid) {\n  return this.findOne({ postid });\n};\n\npostSchema.statics.updateByPostid = function (postid, payload) {\n  // { new: true }: return the modified document rather than the original. defaults to false\n  return this.findOneAndUpdate({ postid }, payload, { new: true });\n};\n\npostSchema.statics.deleteByPostid = function (postid) {\n  return this.remove({ postid });\n};\n\n\nmodule.exports = mongoose.model('Post', postSchema)\n</code></pre>\n\n<blockquote>\n  <p>post.js</p>\n</blockquote>\n\n<pre><code>const express = require('express')\nconst Post = require('../models/post')\nconst bodyParser = require('body-parser')\nconst app = express.Router()\n\napp.use(bodyParser.json())\n\napp.get('/', (req, res) =&gt; {\n  Post.findAll()\n  .then((posts) =&gt; {\n    if (!posts.length) return res.status(404).send({ err: 'post not found from get /'})\n    res.render('posts', {data:posts})\n  })\n  .catch(err =&gt; res.status(500).send(err))\n})\n\napp.get('/postid/:postid', (req, res) =&gt; {\n  Post.findOneByPostid(req.params.postid)\n  .then((post) =&gt; {\n    if (!post) return res.status(404).send({ err: 'post not found from get /postid:/postid '})\n    // res.send(`findone successfully: ${post}`)\n    res.render('post', {data:post})\n  })\n  .catch(err =&gt; res.status(500).send(err))\n})\n\n// this is example. it would be comment code.\napp.post('/', (req, res) =&gt; {\n  Post.create(req.body)\n  .then(post =&gt; res.send(post))\n  .catch(err =&gt; res.status(500).send(err))\n})\n\napp.get('/write', (req, res) =&gt; {\n  res.render('write')\n})\n\napp.post('/write', (req, res) =&gt; {\n  console.log('req.body : ' + req.body)\n  Post.create(req.body)\n  .then(post =&gt; res.send(post))\n  .catch(err =&gt; res.status(500).send(err))\n})\n\napp.put('/postid/:postid', (req, res) =&gt; {\n  Post.updateByPostid(req.params.postid, req.body)\n    .then(post =&gt; res.send(post))\n    .catch(err =&gt; res.status(500).send(err));\n});\n\napp.delete('/postid/:postid', (req, res) =&gt; {\n  Post.deleteByPostid(req.params.postid)\n    .then(() =&gt; res.sendStatus(200))\n    .catch(err =&gt; res.status(500).send(err));\n});\n\nmodule.exports = app\n</code></pre>\n\n<p>the problem is data is not being stored normally to mongodb.\nwhen i send values at below route</p>\n\n<p><a href=\"http://localhost:3000/post/write\" rel=\"nofollow noreferrer\">http://localhost:3000/post/write</a></p>\n\n<p>and results at the mongodb</p>\n\n<pre><code>{\"_id\":\"5e038fd7d17c122ee084b397\",\"published_date\":\"2019-12-25T16:35:35.566Z\",\"__v\":0}\n</code></pre>\n\n<p>supervisor app.js</p>\n\n<pre><code>&gt; Starting child process with 'node app.js' Watching directory\n&gt; 'C:\\workspace\\my_blog' for changes. Press rs for restarting the\n&gt; process. (node:14860) DeprecationWarning: current URL string parser is\n&gt; deprecated, and will be removed in a future version. To use the new\n&gt; parser, pass option { useNewUrlParser: true } to MongoClient.connect.\n&gt; node server running successfully 3000 (node:14860) DeprecationWarning:\n&gt; current Server Discovery and Monitoring engine is deprecated, and will\n&gt; be removed in a future version. To use the new Server Discover and\n&gt; Monitoring engine, pass option { useUnifiedTopology: true } to the\n&gt; MongoClient constructor. Connected to mongod server \n&gt; req.body : [object &gt; Object]\n</code></pre>\n\n<p>req.body is  [object > Object] how can i see this object?</p>\n\n<p>thank you</p>\n"}, {"tags": ["javascript", "reactjs", "material-ui", "react-leaflet"], "comments": [{"owner": {"reputation": 104, "user_id": 3795797, "user_type": "registered", "profile_image": "https://graph.facebook.com/1259033712/picture?type=large", "display_name": "KeatonBenning", "link": "https://stackoverflow.com/users/3795797/keatonbenning"}, "edited": false, "score": 0, "creation_date": 1577294718, "post_id": 59480303, "comment_id": 105137785, "body": "what happens if you save it to a variable on console.log it?    HERES A CODE SNIPPET:                   import React from &quot;react&quot;; import ReactDOM from &quot;react-dom&quot;; import ReactDOMServer from &#39;react-dom/server&#39;; import Fab from &#39;@material-ui/core/Fab&#39;;  function App() {   let test = ReactDOMServer.renderToString(     &lt;Fab size=&quot;small&quot; variant=&quot;extended&quot;&gt;       Test     &lt;/Fab&gt;);  console.log(test); }  const rootElement = document.getElementById(&quot;root&quot;); ReactDOM.render(&lt;App /&gt;, rootElement);"}, {"owner": {"reputation": 151, "user_id": 4204429, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1dd5781050c34f92f50343756924bf9c?s=128&d=identicon&r=PG&f=1", "display_name": "Marcin", "link": "https://stackoverflow.com/users/4204429/marcin"}, "reply_to_user": {"reputation": 104, "user_id": 3795797, "user_type": "registered", "profile_image": "https://graph.facebook.com/1259033712/picture?type=large", "display_name": "KeatonBenning", "link": "https://stackoverflow.com/users/3795797/keatonbenning"}, "edited": false, "score": 0, "creation_date": 1577298043, "post_id": 59480303, "comment_id": 105138445, "body": "It logs HTMLString correctly. The snippet provided in the question also returns correct HTMLString but it throws an error. I&#39;m trying to add ~thousand of markers to the map and every marker has a custom icon made using <code>renderToString</code> which throws this error."}, {"owner": {"reputation": 9327, "user_id": 4929531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QCqJG.jpg?s=128&g=1", "display_name": "kboul", "link": "https://stackoverflow.com/users/4929531/kboul"}, "edited": false, "score": 0, "creation_date": 1577304213, "post_id": 59480303, "comment_id": 105139519, "body": "Your sandbox does not contain any code relevant to your question"}, {"owner": {"reputation": 151, "user_id": 4204429, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1dd5781050c34f92f50343756924bf9c?s=128&d=identicon&r=PG&f=1", "display_name": "Marcin", "link": "https://stackoverflow.com/users/4204429/marcin"}, "edited": false, "score": 0, "creation_date": 1577313403, "post_id": 59480303, "comment_id": 105140999, "body": "Ouch, sorry, it should work now."}, {"owner": {"reputation": 104, "user_id": 3795797, "user_type": "registered", "profile_image": "https://graph.facebook.com/1259033712/picture?type=large", "display_name": "KeatonBenning", "link": "https://stackoverflow.com/users/3795797/keatonbenning"}, "edited": false, "score": 1, "creation_date": 1577331677, "post_id": 59480303, "comment_id": 105143102, "body": "L.icon seems to not have the functionality that your looking for. You must pass in a URL and not HTML.  <a href=\"https://leafletjs.com/reference-1.6.0.html#icon-option\" rel=\"nofollow noreferrer\">leafletjs.com/reference-1.6.0.html#icon-option</a>"}, {"owner": {"reputation": 151, "user_id": 4204429, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1dd5781050c34f92f50343756924bf9c?s=128&d=identicon&r=PG&f=1", "display_name": "Marcin", "link": "https://stackoverflow.com/users/4204429/marcin"}, "edited": false, "score": 0, "creation_date": 1577350942, "post_id": 59480303, "comment_id": 105147286, "body": "I&#39;m sorry, my fault. I meant L.DivIcon, not L.Icon. I updated the question and added link to Leaflet docs."}], "answers": [{"tags": [], "owner": {"reputation": 4690, "user_id": 5271656, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PEJifvpPf1k/AAAAAAAAAAI/AAAAAAAAADA/FXEzfQw_YIc/photo.jpg?sz=128", "display_name": "Murli Prajapati", "link": "https://stackoverflow.com/users/5271656/murli-prajapati"}, "is_accepted": false, "score": 0, "last_activity_date": 1577789140, "creation_date": 1577789140, "answer_id": 59543038, "question_id": 59480303, "link": "https://stackoverflow.com/questions/59480303/why-does-rendertostring-throws-error-about-uselayouteffect-while-rendering-mater/59543038#59543038", "title": "Why does renderToString throws error about useLayoutEffect while rendering Material-UI component?", "body": "<p>I used <code>renderToStaticMarkup</code> to render a custom marker. Marker is getting rendered but still getting the warnings.</p>\n\n<pre><code>import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { renderToStaticMarkup } from \"react-dom/server\";\nimport { divIcon } from \"leaflet\";\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet\";\nimport Fab from \"@material-ui/core/Fab\";\n\nimport \"./styles.css\";\n\nclass App extends Component {\n  state = {\n    lat: 51.505,\n    lng: -0.091,\n    zoom: 13\n  };\n\n  render() {\n    const position = [this.state.lat, this.state.lng];\n    const iconMarkup = renderToStaticMarkup(\n      &lt;Fab size=\"small\" variant=\"extended\"&gt;\n        Test\n      &lt;/Fab&gt;\n    );\n    const customMarkerIcon = divIcon({\n      html: iconMarkup\n    });\n\n    return (\n      &lt;div&gt;\n        &lt;Map center={position} zoom={this.state.zoom}&gt;\n          &lt;TileLayer\n            attribution='&amp;amp;copy &lt;a href=\"http://osm.org/copyright\"&gt;OpenStreetMap&lt;/a&gt; contributors'\n            url=\"https://{s}.tile.osm.org/{z}/{x}/{y}.png\"\n          /&gt;\n          &lt;Marker position={position} icon={customMarkerIcon}&gt;\n            &lt;Popup&gt;\n              A pretty CSS3 popup. &lt;br /&gt; Easily customizable.\n            &lt;/Popup&gt;\n          &lt;/Marker&gt;\n        &lt;/Map&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(&lt;App /&gt;, rootElement);\n</code></pre>\n\n<p>Working code: <a href=\"https://codesandbox.io/s/react-leaflet-icon-material-mx1iu\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/react-leaflet-icon-material-mx1iu</a></p>\n"}], "owner": {"reputation": 151, "user_id": 4204429, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1dd5781050c34f92f50343756924bf9c?s=128&d=identicon&r=PG&f=1", "display_name": "Marcin", "link": "https://stackoverflow.com/users/4204429/marcin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 512, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577789140, "creation_date": 1577292791, "last_edit_date": 1577350896, "question_id": 59480303, "link": "https://stackoverflow.com/questions/59480303/why-does-rendertostring-throws-error-about-uselayouteffect-while-rendering-mater", "title": "Why does renderToString throws error about useLayoutEffect while rendering Material-UI component?", "body": "<p>I am using React v.16.12.0 and @MaterialUI/core v4.8.1.</p>\n\n<p>I am trying to create custom icon for React Leaflet Marker. The icon is a <code>Fab</code> component from Material-UI. To do that, I need to pass a HTML string to <code>L.DivIcon</code> <a href=\"https://leafletjs.com/reference-1.6.0.html#divicon\" rel=\"nofollow noreferrer\">(DivIcon Docs)</a> Leaflet component, so I am using <code>renderToString()</code> method from <code>react-dom/server</code>.</p>\n\n<p>And it is throwing an error:</p>\n\n<blockquote>\n  <p>Warning: useLayoutEffect does nothing on the server, because its effect cannot be encoded into the server renderer's output format. This will lead to a mismatch between the initial, non-hydrated UI and the intended UI. To avoid this, useLayoutEffect should only be used in components that render exclusively on the client.\n      in NoSsr\n      in button\n      in ForwardRef(ButtonBase)\n      in WithStyles(ForwardRef(ButtonBase))\n      in ForwardRef(Fab)\n      in WithStyles(ForwardRef(Fab)) (at src/index.js:9)</p>\n</blockquote>\n\n<p>While I'm not using useLayoutEffect.</p>\n\n<p>Here's a simple example: </p>\n\n<pre><code>import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport ReactDOMServer from 'react-dom/server';\nimport Fab from '@material-ui/core/Fab';\n\nfunction App() {\n  return ReactDOMServer.renderToString(\n    &lt;Fab size=\"small\" variant=\"extended\"&gt;\n      Test\n    &lt;/Fab&gt;);\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(&lt;App /&gt;, rootElement);\n</code></pre>\n\n<p>Online: <a href=\"https://codesandbox.io/s/material-ui-rendertostring-tc90b\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/material-ui-rendertostring-tc90b</a></p>\n\n<p>Why is it throwing that error? What's incorrect with this code? Is there any other way to generate HTML-String from Material-UI Component in order to pass it as an icon to Leaflet Marker?</p>\n"}, {"tags": ["javascript", "mouseevent", "mousemove"], "answers": [{"comments": [{"owner": {"reputation": 5538, "user_id": 5980430, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e941fd748178dc871ae6a9974d5099d4?s=128&d=identicon&r=PG&f=1", "display_name": "apple apple", "link": "https://stackoverflow.com/users/5980430/apple-apple"}, "edited": false, "score": 0, "creation_date": 1577293844, "post_id": 59480413, "comment_id": 105137600, "body": "well, there is no <code>button.addEventListener</code> in OP&#39;s code."}, {"owner": {"reputation": 86, "user_id": 12294009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14e44fc2a5c94f8de92d7308c6a75875?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammed Ibrahim", "link": "https://stackoverflow.com/users/12294009/muhammed-ibrahim"}, "reply_to_user": {"reputation": 5538, "user_id": 5980430, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e941fd748178dc871ae6a9974d5099d4?s=128&d=identicon&r=PG&f=1", "display_name": "apple apple", "link": "https://stackoverflow.com/users/5980430/apple-apple"}, "edited": false, "score": 0, "creation_date": 1577294001, "post_id": 59480413, "comment_id": 105137639, "body": "@appleapple, sorry, instead of <code>window.addEventListener</code>. I&#39;ve fixed it"}, {"owner": {"reputation": 579, "user_id": 9907004, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Hf-9fhfU4_w/AAAAAAAAAAI/AAAAAAAABnE/yhlV6r3rIIw/photo.jpg?sz=128", "display_name": "Sandesh Sapkota", "link": "https://stackoverflow.com/users/9907004/sandesh-sapkota"}, "edited": false, "score": 0, "creation_date": 1577294136, "post_id": 59480413, "comment_id": 105137675, "body": "@MuhammedIbrahim I don&#39;t want to solve it by adding other event handlers and working with other elements. I have created a  one step of borderline on code   through calulation. comment  <code>if (mouseHasEntered) {}</code> block and see you will understand more."}], "tags": [], "owner": {"reputation": 86, "user_id": 12294009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14e44fc2a5c94f8de92d7308c6a75875?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammed Ibrahim", "link": "https://stackoverflow.com/users/12294009/muhammed-ibrahim"}, "is_accepted": false, "score": 0, "last_activity_date": 1577294928, "last_edit_date": 1577294928, "creation_date": 1577293679, "answer_id": 59480413, "question_id": 59480297, "link": "https://stackoverflow.com/questions/59480297/how-to-move-a-button-near-to-cursor-when-cursor-is-coming-and-move-a-little-more/59480413#59480413", "title": "How to move a button near to cursor when cursor is coming and move a little more far when cursor is leaving", "body": "<p>If I understood your intention correctly, I think you need to:</p>\n\n<ol>\n<li><strong>add</strong> <code>buttonWrapWrapper</code> selector</li>\n</ol>\n\n<pre><code>const button = document.querySelector(\".button\");\nconst buttonWrapWrapper = document.querySelector(\".button-wrap-wrapper\");\n</code></pre>\n\n<ol start=\"2\">\n<li><strong>attach</strong> the event listeners to <code>buttonWrapWrapper</code> instead of <code>window</code>:</li>\n</ol>\n\n<pre><code>buttonWrapWrapper.addEventListener(\"mousemove\", mouseMove);\nbuttonWrapWrapper.addEventListener(\"mouseout\", resetPositon);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 579, "user_id": 9907004, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Hf-9fhfU4_w/AAAAAAAAAAI/AAAAAAAABnE/yhlV6r3rIIw/photo.jpg?sz=128", "display_name": "Sandesh Sapkota", "link": "https://stackoverflow.com/users/9907004/sandesh-sapkota"}, "edited": false, "score": 0, "creation_date": 1577339176, "post_id": 59480627, "comment_id": 105144237, "body": "Yes !! this is what the result must be. But I could not get why : :else { resetPositon(); } do not listen do the window."}, {"owner": {"reputation": 5538, "user_id": 5980430, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e941fd748178dc871ae6a9974d5099d4?s=128&d=identicon&r=PG&f=1", "display_name": "apple apple", "link": "https://stackoverflow.com/users/5980430/apple-apple"}, "reply_to_user": {"reputation": 579, "user_id": 9907004, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Hf-9fhfU4_w/AAAAAAAAAAI/AAAAAAAABnE/yhlV6r3rIIw/photo.jpg?sz=128", "display_name": "Sandesh Sapkota", "link": "https://stackoverflow.com/users/9907004/sandesh-sapkota"}, "edited": false, "score": 0, "creation_date": 1577339681, "post_id": 59480627, "comment_id": 105144360, "body": "@SandeshSapkota well, I mean you should remove <code>window.addEventListener(&quot;mouseout&quot;, resetPositon);</code>"}], "tags": [], "owner": {"reputation": 5538, "user_id": 5980430, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e941fd748178dc871ae6a9974d5099d4?s=128&d=identicon&r=PG&f=1", "display_name": "apple apple", "link": "https://stackoverflow.com/users/5980430/apple-apple"}, "is_accepted": true, "score": 1, "last_activity_date": 1577295528, "creation_date": 1577295528, "answer_id": 59480627, "question_id": 59480297, "link": "https://stackoverflow.com/questions/59480297/how-to-move-a-button-near-to-cursor-when-cursor-is-coming-and-move-a-little-more/59480627#59480627", "title": "How to move a button near to cursor when cursor is coming and move a little more far when cursor is leaving", "body": "<ul>\n<li>you should reset the distance when mouse leave. (I'm not sure, just guess this is what you want, since you write <code>mouseHasEntered = true</code> when reset)</li>\n<li>since you handle mouse leave yourself (the <code>else mouseIsInButtonTerritory</code> part) do not listen to window.</li>\n</ul>\n\n<hr>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const button = document.querySelector(\".button\");\r\nlet { width, height, x: buttonX, y: buttonY } = button.getBoundingClientRect(); // gives you width, height, left-X,top-y of the button\r\n\r\nbuttonX = buttonX + width / 2; //  center point of button on x-axis\r\nbuttonY = buttonY + height / 2; //  center point of button on y-axis\r\n\r\n/*************** Functions ***************/\r\n\r\nlet distance = width;\r\nlet mouseHasEntered = true;\r\nlet mouseIsInButtonTerritory;\r\n\r\nfunction mouseMove(e) {\r\n  const x = e.x; // current x of cursor\r\n  const y = e.y; // current y of cursor\r\n\r\n  const leftBorderLine = buttonX - distance;\r\n  const rightBorderLine = buttonX + distance;\r\n  const topBorderLine = buttonY - distance;\r\n  const bottomBorderline = buttonY + distance;\r\n  const xWalk = (x - buttonX) / 2; // the distance to move the button when mouse moves on X axis\r\n  const yWalk = (y - buttonY) / 2; // the distance to move the button when mouse moves on Y axis\r\n\r\n  mouseIsInButtonTerritory =\r\n    x &gt; leftBorderLine &amp;&amp;\r\n    x &lt; rightBorderLine &amp;&amp;\r\n    y &gt; topBorderLine &amp;&amp;\r\n    y &lt; bottomBorderline; // becomes true if  mouse is inside all of these border-line\r\n\r\n  if (mouseIsInButtonTerritory) {\r\n    if (mouseHasEntered) {\r\n      // this must happen only once to create outside borderline\r\n      //creating another level borderline by incresing distance;\r\n      // while cursor is returing the button comes out of nearest border-line and return from this borderline\r\n      distance = distance + distance;\r\n      mouseHasEntered = false;\r\n    }\r\n    catchCursor(xWalk, yWalk); // call the function when mouse in in the button's territory\r\n  } else {\r\n    resetPositon();\r\n  }\r\n}\r\n\r\nfunction catchCursor(xWalk, yWalk) {\r\n  // translates the button in the direction where cursor is.\r\n  button.style.transform = `translate(${xWalk}px, ${yWalk}px)`;\r\n}\r\n\r\nfunction resetPositon() {\r\n  // resets the postion of the button as it was initial.\r\n  button.style.transform = `translate(${0}px, ${0}px)`;\r\n  if(!mouseHasEntered)distance/=2;\r\n  mouseHasEntered = true;\r\n  // when button is return to it's position (mouseHasEntered = true) lets to increase the initial borderline of button for the next time\r\n}\r\n\r\n/*************** Event-handler ***************/\r\n\r\nwindow.addEventListener(\"mousemove\", mouseMove);\r\n//window.addEventListener(\"mouseout\", resetPositon);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>*,\r\n*::before,\r\n*::after {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\n:root {\r\n  --gutter-lg: 4rem;\r\n  --gutter-md: 3rem;\r\n  --gutter-sm: 1rem;\r\n  --gutter-xm: 1rem;\r\n  --color-white: #fff;\r\n  --color-black: #000;\r\n}\r\n\r\nbody {\r\n  background: var(--color-black);\r\n  font: 16px verdana;\r\n  color: var(--color-white);\r\n}\r\n\r\n.banner {\r\n  display: flex;\r\n  height: 100vh;\r\n}\r\n\r\n.button {\r\n  margin: auto;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease-out;\r\n}\r\n\r\n.button-wrap-wrapper {\r\n  width: 192px;\r\n  height: 192px;\r\n  border: 1px dashed #fff;\r\n  margin: auto;\r\n  display: flex;\r\n}\r\n\r\n.button-wrap {\r\n  width: 128px;\r\n  height: 128px;\r\n  margin: auto;\r\n  /* background: orange; */\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: 1px dashed #fff;\r\n}\r\n\r\n.button__like-text {\r\n  display: block;\r\n  color: var(--color-black);\r\n  background: var(--color-white);\r\n  width: var(--gutter-lg);\r\n  height: var(--gutter-lg);\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;section class=\"banner\"&gt;\r\n      &lt;div class=\"button-wrap-wrapper\"&gt;\r\n        &lt;div class=\"button-wrap\"&gt;\r\n          &lt;div class=\"button\"&gt;\r\n            &lt;span class=\"button__like-text\"&gt;\r\n              Like\r\n            &lt;/span&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/section&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 579, "user_id": 9907004, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Hf-9fhfU4_w/AAAAAAAAAAI/AAAAAAAABnE/yhlV6r3rIIw/photo.jpg?sz=128", "display_name": "Sandesh Sapkota", "link": "https://stackoverflow.com/users/9907004/sandesh-sapkota"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 59480627, "answer_count": 2, "score": 0, "last_activity_date": 1577295528, "creation_date": 1577292758, "last_edit_date": 1577295146, "question_id": 59480297, "link": "https://stackoverflow.com/questions/59480297/how-to-move-a-button-near-to-cursor-when-cursor-is-coming-and-move-a-little-more", "title": "How to move a button near to cursor when cursor is coming and move a little more far when cursor is leaving", "body": "<p>I am trying to create a little mouse moving animation. When cursor comes near to the button I call it  <em>borderline</em> - Certain distance from the button, the button moves to the cursor direction.</p>\n\n<p>Here I have shown two steps dashed <em>borderline</em> with css just for clarity and understanding. \nI have created the nearest <em>borderline</em> from code by calculating the center point of button and decreasing and adding width and height of the button for both x and y axis. </p>\n\n<p>And I want to solve this in the same process I'm working not by adding other <code>event-listener</code> tothe <code>parent-elements</code> of the button.</p>\n\n<p>Here is what I have tried..</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const button = document.querySelector(\".button\");\r\nlet { width, height, x: buttonX, y: buttonY } = button.getBoundingClientRect(); // gives you width, height, left-X,top-y of the button\r\n\r\nbuttonX = buttonX + width / 2; //  center point of button on x-axis\r\nbuttonY = buttonY + height / 2; //  center point of button on y-axis\r\n\r\n/*************** Functions ***************/\r\n\r\nlet distance = width;\r\nlet mouseHasEntered = true;\r\nlet mouseIsInButtonTerritory;\r\n\r\nfunction mouseMove(e) {\r\n  const x = e.x; // current x of cursor\r\n  const y = e.y; // current y of cursor\r\n\r\n  const leftBorderLine = buttonX - distance;\r\n  const rightBorderLine = buttonX + distance;\r\n  const topBorderLine = buttonY - distance;\r\n  const bottomBorderline = buttonY + distance;\r\n  const xWalk = (x - buttonX) / 2; // the distance to move the button when mouse moves on X axis\r\n  const yWalk = (y - buttonY) / 2; // the distance to move the button when mouse moves on Y axis\r\n\r\n  mouseIsInButtonTerritory =\r\n    x &gt; leftBorderLine &amp;&amp;\r\n    x &lt; rightBorderLine &amp;&amp;\r\n    y &gt; topBorderLine &amp;&amp;\r\n    y &lt; bottomBorderline; // becomes true if  mouse is inside all of these border-line\r\n\r\n  if (mouseIsInButtonTerritory) {\r\n    if (mouseHasEntered) {\r\n      // this must happen only once to create outside borderline\r\n      //creating another level borderline by incresing distance;\r\n      // while cursor is returing the button comes out of nearest border-line and return from this borderline\r\n      distance = distance + distance;\r\n      mouseHasEntered = false;\r\n    }\r\n    catchCursor(xWalk, yWalk); // call the function when mouse in in the button's territory\r\n  } else {\r\n    resetPositon();\r\n  }\r\n}\r\n\r\nfunction catchCursor(xWalk, yWalk) {\r\n  // translates the button in the direction where cursor is.\r\n  button.style.transform = `translate(${xWalk}px, ${yWalk}px)`;\r\n}\r\n\r\nfunction resetPositon() {\r\n  // resets the postion of the button as it was initial.\r\n  button.style.transform = `translate(${0}px, ${0}px)`;\r\n  mouseHasEntered = true;\r\n  // when button is return to it's position (mouseHasEntered = true) lets to increase the initial borderline of button for the next time\r\n}\r\n\r\n/*************** Event-handler ***************/\r\n\r\nwindow.addEventListener(\"mousemove\", mouseMove);\r\nwindow.addEventListener(\"mouseout\", resetPositon);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>*,\r\n*::before,\r\n*::after {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\n:root {\r\n  --gutter-lg: 4rem;\r\n  --gutter-md: 3rem;\r\n  --gutter-sm: 1rem;\r\n  --gutter-xm: 1rem;\r\n  --color-white: #fff;\r\n  --color-black: #000;\r\n}\r\n\r\nbody {\r\n  background: var(--color-black);\r\n  font: 16px verdana;\r\n  color: var(--color-white);\r\n}\r\n\r\n.banner {\r\n  display: flex;\r\n  height: 100vh;\r\n}\r\n\r\n.button {\r\n  margin: auto;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease-out;\r\n}\r\n\r\n.button-wrap-wrapper {\r\n  width: 192px;\r\n  height: 192px;\r\n  border: 1px dashed #fff;\r\n  margin: auto;\r\n  display: flex;\r\n}\r\n\r\n.button-wrap {\r\n  width: 128px;\r\n  height: 128px;\r\n  margin: auto;\r\n  /* background: orange; */\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: 1px dashed #fff;\r\n}\r\n\r\n.button__like-text {\r\n  display: block;\r\n  color: var(--color-black);\r\n  background: var(--color-white);\r\n  width: var(--gutter-lg);\r\n  height: var(--gutter-lg);\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;section class=\"banner\"&gt;\r\n      &lt;div class=\"button-wrap-wrapper\"&gt;\r\n        &lt;div class=\"button-wrap\"&gt;\r\n          &lt;div class=\"button\"&gt;\r\n            &lt;span class=\"button__like-text\"&gt;\r\n              Like\r\n            &lt;/span&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/section&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>What is not working as expected is: <code>mouseIsInButtonTerritory</code> becomes true and I am trying to increase the <code>borderline</code> here</p>\n\n<pre><code> if (mouseHasEntered) {\n      // this must happen only once to create outside borderline\n      //creating another level borderline by incresing distance;\n      // while cursor is returing the button comes out of nearest border-line and return from this borderline\n      distance = distance + distance;\n    }\n</code></pre>\n\n<p>the button keep following the cursor all the time.</p>\n\n<p>What I am trying to solve is if the cursor is coming out of the both <em>borderlines</em> the button must cross the first <em>borderline</em> and come near to the last <em>borderline</em> and go back where it was in initial phase. </p>\n\n<p>I am not getting where I am doing wrong. is there a anything that is missing ?</p>\n"}, {"tags": ["javascript", "reactjs", "react-native", "react-hooks", "use-effect"], "comments": [{"owner": {"reputation": 645, "user_id": 7692076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz3oP.jpg?s=128&g=1", "display_name": "Akshit Mehra", "link": "https://stackoverflow.com/users/7692076/akshit-mehra"}, "edited": false, "score": 0, "creation_date": 1577292647, "post_id": 59480220, "comment_id": 105137329, "body": "The question is unclear to me. Can you please elaborate on: &quot;<code>value2</code> necessarily have to be <code>false</code>.&quot;? Because using the OR operator, this is the behaviour you want, right?"}, {"owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 1, "creation_date": 1577292660, "post_id": 59480220, "comment_id": 105137331, "body": "I think this question relies on those &quot;<i>7 or 8 values</i>&quot; you have. The way you should handle this is 2 different <code>useEffect</code> with correct dependency arrays."}, {"owner": {"reputation": 12641, "user_id": 7599510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iJk2N.jpg?s=128&g=1", "display_name": "norbitrial", "link": "https://stackoverflow.com/users/7599510/norbitrial"}, "reply_to_user": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1577292771, "post_id": 59480220, "comment_id": 105137368, "body": "I agree with @MattOestreich. Then you can have value1 and value2 separately in the different dependency arrays."}, {"owner": {"reputation": 2527, "user_id": 10116367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ixorG.jpg?s=128&g=1", "display_name": "Kevvv", "link": "https://stackoverflow.com/users/10116367/kevvv"}, "edited": false, "score": 0, "creation_date": 1577292811, "post_id": 59480220, "comment_id": 105137375, "body": "To further elaborate, this is for React Native Switch toggle menu where each toggle does different execution."}, {"owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1577292998, "post_id": 59480220, "comment_id": 105137412, "body": "Then you should def use 2 separate <code>useEffect</code>. It sounds like the issue is with your logic in those &quot;<i>7 or 8 values</i>&quot;."}, {"owner": {"reputation": 2527, "user_id": 10116367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ixorG.jpg?s=128&g=1", "display_name": "Kevvv", "link": "https://stackoverflow.com/users/10116367/kevvv"}, "edited": false, "score": 0, "creation_date": 1577293194, "post_id": 59480220, "comment_id": 105137458, "body": "7 or 8 values exist because there are 7 or 8 things to toggle in the menu. For example, there are 7 or 8 things a user wants to get notifications on."}, {"owner": {"reputation": 797, "user_id": 9615185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQKQ6.png?s=128&g=1", "display_name": "Dor Lugasi-Gal", "link": "https://stackoverflow.com/users/9615185/dor-lugasi-gal"}, "edited": false, "score": 0, "creation_date": 1577690081, "post_id": 59480220, "comment_id": 105224418, "body": "something is not clear. if you want the second logic to run when the value1 is false, so you need to use &amp;&amp; operator"}], "owner": {"reputation": 2527, "user_id": 10116367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ixorG.jpg?s=128&g=1", "display_name": "Kevvv", "link": "https://stackoverflow.com/users/10116367/kevvv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577292061, "creation_date": 1577292061, "question_id": 59480220, "link": "https://stackoverflow.com/questions/59480220/how-to-use-conditional-statement-with-multiple-values-within-useeffect-optimally", "title": "how to use conditional statement with multiple values within useEffect optimally", "body": "<p>I have multiple values that I want to use in <code>useEffect</code>.  The problem is that there is a conditional statement within that get executed according to the content of the values passed:</p>\n\n<p>For example, let's say I have two values: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const [value1, setValue1] = useState()\nconst [value2, setValue2] = useState()\n\nuseEffect(() =&gt; {\n    if(value1 || value2) {\n        // first logic\n    } else {\n        // second logic\n    }\n}, [value1, value2])\n</code></pre>\n\n<p>This won't work because <code>useEffect</code> runs every time either <code>value1</code> or <code>value2</code> updates.  The reason I don't want this is because if I want the \"second logic\" to run when <code>value1</code> is <code>false</code>, <code>value2</code> necessarily have to be <code>false</code>. </p>\n\n<p>I can create separate <code>useEffect</code> for individual values, but the logic inside <code>useEffect</code> I currently have is super long and I have 7, 8 values I'm operating with so I'm looking to see if there are more optimal solutions out there. </p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 2955, "user_id": 6655126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DUGmM.jpg?s=128&g=1", "display_name": "T. Short", "link": "https://stackoverflow.com/users/6655126/t-short"}, "edited": false, "score": 0, "creation_date": 1577292178, "post_id": 59480184, "comment_id": 105137238, "body": "Welcome to SO. Please outline exactly what the problem is you are facing. You can find out more on how to ask good questions here: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1126, "user_id": 9303401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53456389c9b47030f58f3eea3296243d?s=128&d=identicon&r=PG&f=1", "display_name": "Monica Acha", "link": "https://stackoverflow.com/users/9303401/monica-acha"}, "is_accepted": false, "score": 4, "last_activity_date": 1577292109, "creation_date": 1577292109, "answer_id": 59480227, "question_id": 59480184, "link": "https://stackoverflow.com/questions/59480184/how-do-i-make-a-form-appear-with-javascript/59480227#59480227", "title": "How do I make a form appear with javascript?", "body": "<ol>\n<li>You need to call <code>validateForm()</code> on click of submit button</li>\n<li>Hide the forms initially, on choosing the form, the forms will get displayed</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script&gt;\r\n  function validateForm() {\r\n\r\n    var x = document.forms[\"choice\"][\"choose one\"].value;\r\n    if (x == \"A\") {\r\n      document.getElementById(\"a\").style.display = \"block\";\r\n      document.getElementById(\"b\").style.display = \"none\";\r\n    } else {\r\n      document.getElementById(\"b\").style.display = \"block\";\r\n      document.getElementById(\"a\").style.display = \"none\";\r\n    }\r\n  }\r\n&lt;/script&gt;\r\n\r\n\r\n&lt;form method=\"get\" name=\"choice\"&gt;\r\n  0000:&lt;br&gt;\r\n  &lt;label&gt;\r\n      &lt;input type=\"radio\" name=\"choose one\" value=\"A\"&gt;\r\n                        A\r\n  &lt;/label&gt;&lt;br&gt;\r\n  &lt;label&gt;\r\n      &lt;input type=\"radio\" name=\"choose one\" value=\"B\"&gt;\r\n                        B\r\n  &lt;/label&gt;&lt;br&gt;\r\n  &lt;input type=\"button\" value=\"Sub\" onclick=\"validateForm()\"&gt;\r\n&lt;/form&gt;\r\n\r\n&lt;form id=\"a\" style=\"display:none\"&gt;\r\n  form a\r\n&lt;/form&gt;\r\n\r\n&lt;form id=\"b\" style=\"display:none\"&gt;\r\n  form b\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 10320, "user_id": 818326, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ace3174f4519bdd2a622e1f14b2ebbae?s=128&d=identicon&r=PG", "display_name": "symlink", "link": "https://stackoverflow.com/users/818326/symlink"}, "is_accepted": false, "score": 1, "last_activity_date": 1577292418, "creation_date": 1577292418, "answer_id": 59480265, "question_id": 59480184, "link": "https://stackoverflow.com/questions/59480184/how-do-i-make-a-form-appear-with-javascript/59480265#59480265", "title": "How do I make a form appear with javascript?", "body": "<p>Add an <code>onchange</code> event and set both forms to <code>display:none</code> on start:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.querySelectorAll(\"input[type='radio']\").forEach(el =&gt; {\r\n  el.addEventListener(\"change\", (evt) =&gt; validateForm(evt))\r\n})\r\n\r\nfunction validateForm(e) {\r\n  let a = document.getElementById(\"a\")\r\n  let b = document.getElementById(\"b\")\r\n\r\n  a.style.display = b.style.display = \"none\"\r\n\r\n  if (e.target.value == \"A\") {\r\n    a.style.display = \"block\";\r\n  } else {\r\n    b.style.display = \"block\";\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#a,\r\n#b {\r\n  display: none\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form action=\"form.php\" method=\"get\" name=\"choice\"&gt;\r\n  0000:&lt;br&gt;\r\n  &lt;label&gt;\r\n    &lt;input type=\"radio\" name=\"choose one\" value=\"A\"&gt;\r\n     A\r\n  &lt;/label&gt;&lt;br&gt;\r\n  &lt;label&gt;\r\n    &lt;input type=\"radio\" name=\"choose one\" value=\"B\"&gt;\r\n    B\r\n   &lt;/label&gt;&lt;br&gt;\r\n  &lt;input type=\"submit\" value=\"Sub\"&gt;\r\n&lt;/form&gt;\r\n\r\n&lt;form id=\"a\"&gt;\r\n  Form A\r\n&lt;/form&gt;\r\n\r\n&lt;form id=\"b\"&gt;\r\n  Form B\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1434, "user_id": 812973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/979cec162ab3690982af477f6d70f1a4?s=128&d=identicon&r=PG", "display_name": "gregn3", "link": "https://stackoverflow.com/users/812973/gregn3"}, "is_accepted": false, "score": 0, "last_activity_date": 1577292633, "creation_date": 1577292633, "answer_id": 59480287, "question_id": 59480184, "link": "https://stackoverflow.com/questions/59480184/how-do-i-make-a-form-appear-with-javascript/59480287#59480287", "title": "How do I make a form appear with javascript?", "body": "<p>When you submit a form , it reloads the page . So you can't show a form after the first form is submitted, in the default case.</p>\n\n<p>So you either need to submit the form using AJAX, or include the other two forms in the first form (change them to <code>&lt;div&gt;</code> tags, and put them inside the first form). Change the submit button to just a <code>&lt;button&gt;</code> element with an <code>onclick</code> method, to show the second part of the form, and it should also show the real submit button.\nYou may want to disable submitting the form when the user presses <code>enter</code> while typing in any fields, and disable submitting with the soft keyboard on mobile.\nIt should be possible to find with Google how to do each of these.</p>\n"}], "owner": {"reputation": 31, "user_id": 12596363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b22cf82a969bd03da53b883b1aa78827?s=128&d=identicon&r=PG&f=1", "display_name": "Daracon", "link": "https://stackoverflow.com/users/12596363/daracon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1577292633, "creation_date": 1577291807, "question_id": 59480184, "link": "https://stackoverflow.com/questions/59480184/how-do-i-make-a-form-appear-with-javascript", "title": "How do I make a form appear with javascript?", "body": "<p>I Have a form 2 radio choices, a and b, when the form is submited i want another form, a form for a and one for b, to go from display:none to display:block depending on the choice. here's what i have.</p>\n\n<pre><code>&lt;script&gt;\n    function validateForm() {\n        var x = document.forms[\"choice\"][\"choose one\"].value;\n        if (x == \"A\") {\n            document.getElementById(\"a\").style.display = \"block\";\n            }\n        else {\n            document.getElementById(\"b\").style.display = \"block\";\n            }\n        }   \n&lt;/script&gt;\n</code></pre>\n\n<p>and later in html.</p>\n\n<pre><code>&lt;form action=\"form.php\" method=\"get\" name=\"choice\"&gt;\n                    0000:&lt;br&gt;\n                    &lt;label&gt;\n                        &lt;input type=\"radio\" name=\"choose one\" value=\"A\"&gt;\n                        A\n                    &lt;/label&gt;&lt;br&gt;\n                    &lt;label&gt;\n                        &lt;input type=\"radio\" name=\"choose one\" value=\"B\"&gt;\n                        B\n                    &lt;/label&gt;&lt;br&gt;\n                    &lt;input type=\"submit\" value=\"Sub\"&gt;\n                &lt;/form&gt;\n\n&lt;form id=\"a\"&gt;\n&lt;/form&gt;\n\n&lt;form id=\"b\"&gt;\n&lt;/form&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "web", "geolocation", "ip"], "comments": [{"owner": {"reputation": 38170, "user_id": 57135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/S9roh.jpg?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/57135/joe"}, "edited": false, "score": 0, "creation_date": 1577331356, "post_id": 59480140, "comment_id": 105143073, "body": "Usually you use the IP of their public facing connection - you\u2019d get this server side as the requesting IP."}], "answers": [{"tags": [], "owner": {"reputation": 1336, "user_id": 1941686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/417dac93e2b34e233e650009ec31da58?s=128&d=identicon&r=PG", "display_name": "Michael C.", "link": "https://stackoverflow.com/users/1941686/michael-c"}, "is_accepted": true, "score": 2, "last_activity_date": 1577412074, "last_edit_date": 1577412074, "creation_date": 1577329988, "answer_id": 59483486, "question_id": 59480140, "link": "https://stackoverflow.com/questions/59480140/how-to-find-the-geolocation-of-a-private-ip-address/59483486#59483486", "title": "How to find the geolocation of a private IP address?", "body": "<p>IP geolocation is ONLY working on public IP address.</p>\n\n<p>Private IP address is being used worldwide and co-existing in multiple locations at the same time. There is NO WAY you can geolocate private IP address without other unique identifier such as public IP address, MAC address or nearby base station.</p>\n"}], "owner": {"reputation": 11, "user_id": 12596358, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAh_MXdJ1aagYnIQuEitLjTmBIW-egeOdbMr-MvtA=k-s128", "display_name": "Sriharsh Aditya", "link": "https://stackoverflow.com/users/12596358/sriharsh-aditya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 428, "favorite_count": 1, "closed_date": 1577335060, "accepted_answer_id": 59483486, "answer_count": 1, "score": -4, "last_activity_date": 1577412074, "creation_date": 1577291355, "question_id": 59480140, "link": "https://stackoverflow.com/questions/59480140/how-to-find-the-geolocation-of-a-private-ip-address", "closed_reason": "Needs more focus", "title": "How to find the geolocation of a private IP address?", "body": "<p>So, i have a node.js application running on Heroku. What i want to achieve is that when the user grants permission I'm able to geolocate that user. For this, i need IP address of that user which I was able to get via my code. The problem is that I'm unable to geolocate the user using this private IP address(It is not allowed). Are there any alternatives to achieve what I want?</p>\n"}, {"tags": ["javascript", "html", "html5-canvas", "collision-detection", "collision"], "comments": [{"owner": {"reputation": 5538, "user_id": 5980430, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e941fd748178dc871ae6a9974d5099d4?s=128&d=identicon&r=PG&f=1", "display_name": "apple apple", "link": "https://stackoverflow.com/users/5980430/apple-apple"}, "edited": false, "score": 1, "creation_date": 1577292542, "post_id": 59480123, "comment_id": 105137311, "body": "1. <code>i &lt; this.bullets.length</code> 2. your bullet object has no <code>width</code>."}, {"owner": {"reputation": 346, "user_id": 11825193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96dbf18e6966f8a49ae7a9bb547f778e?s=128&d=identicon&r=PG&f=1", "display_name": "Kenzoid", "link": "https://stackoverflow.com/users/11825193/kenzoid"}, "reply_to_user": {"reputation": 5538, "user_id": 5980430, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e941fd748178dc871ae6a9974d5099d4?s=128&d=identicon&r=PG&f=1", "display_name": "apple apple", "link": "https://stackoverflow.com/users/5980430/apple-apple"}, "edited": false, "score": 0, "creation_date": 1577292719, "post_id": 59480123, "comment_id": 105137349, "body": "@appleapple Thanks! I needed somebody besides myself to run over the code."}], "answers": [{"tags": [], "owner": {"reputation": 5538, "user_id": 5980430, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e941fd748178dc871ae6a9974d5099d4?s=128&d=identicon&r=PG&f=1", "display_name": "apple apple", "link": "https://stackoverflow.com/users/5980430/apple-apple"}, "is_accepted": true, "score": 1, "last_activity_date": 1577293023, "creation_date": 1577293023, "answer_id": 59480337, "question_id": 59480123, "link": "https://stackoverflow.com/questions/59480123/unexpected-result-when-resolving-collision-in-javascript/59480337#59480337", "title": "Unexpected Result when Resolving Collision in JavaScript", "body": "<ul>\n<li>when iterate through a array, the last item is at <code>length-1</code> (which mean you should use <code>&lt; length</code>, not <code>&lt; length-1</code>)</li>\n<li>the remove code should be <code>obstacles.splice(j, 1);</code> (<code>i</code> is the index for bullet)</li>\n<li>you do not assign size to bullet (and you may also want to use this size when draw)</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var cvs = document.getElementById('canvas');\r\nvar ctx = cvs.getContext(\"2d\");\r\nvar gameEnded = false;\r\n\r\nvar player = {\r\n    score: 0,\r\n    x: 50,\r\n    y: 150,\r\n    radius: 10,\r\n    jumping: false,\r\n    bullets: [],\r\n    velocityX: 0,\r\n    velocityY: 1,\r\n    angle: 90,\r\n\r\n    update: function() {\r\n        this.draw();\r\n        this.score++;\r\n\r\n        if(this.y + this.radius + 2 &gt; cvs.height - 50 &amp;&amp; this.jumping === false || this.y - this.radius + 2 &lt; 0 + 50 &amp;&amp; this.jumping === true) {\r\n            this.velocityY = 0;\r\n        } else if(this.jumping === false){\r\n            this.velocityY = 4;\r\n        } else {\r\n            this.velocityY = -4;\r\n        }\r\n\r\n        obstacles.forEach((obstacle) =&gt; {\r\n            if(colliding(this, obstacle)) {\r\n                gameEnded = true;\r\n            }\r\n        });\r\n\r\n        this.x += this.velocityX;\r\n        this.y += this.velocityY;\r\n\r\n        for(var i = 0; i &lt; this.bullets.length; i++) {//&lt;==============\r\n            this.bullets[i].x += this.bullets[i].speed;\r\n\r\n            if(this.bullets[i].x &gt; cvs.width) {\r\n                this.bullets.splice(i, 1);\r\n            }\r\n\r\n            for(var j = 0; j &lt; obstacles.length; j++) {//&lt;==============\r\n                if(rectanglesColliding(this.bullets[i], obstacles[j])) {\r\n                    console.log(\"Collision\");\r\n                    obstacles.splice(j, 1);//&lt;==============\r\n                }\r\n            }\r\n        }\r\n    }, \r\n\r\n    draw: function() {\r\n        this.bullets.forEach((bullet) =&gt; {\r\n            ctx.fillStyle = 'green';\r\n            ctx.fillRect(bullet.x, bullet.y, 7, 2);\r\n        });\r\n\r\n        ctx.fillStyle = 'blue';\r\n        ctx.beginPath();\r\n        ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);\r\n        ctx.fill();\r\n    }\r\n};\r\n\r\nvar obstacles = [{ x: 150, y: 60, width: 10, height: 20 }];\r\n\r\ndocument.addEventListener('keydown', (event) =&gt; {\r\n    if(event.key === ' ') {\r\n        player.jumping = true;\r\n    }\r\n    if(event.key === 'w') {\r\n        shoot();\r\n    }\r\n});\r\ndocument.addEventListener('keyup', (event) =&gt; {\r\n    if(event.key === ' ') {\r\n        player.jumping = false;\r\n    }\r\n});\r\n\r\nfunction randomIntFromRange(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\r\n\r\nfunction getWidth() {\r\n    return Math.max(\r\n        document.body.scrollWidth,\r\n        document.documentElement.scrollWidth,\r\n        document.body.offsetWidth,\r\n        document.documentElement.offsetWidth,\r\n        document.documentElement.clientWidth\r\n    );\r\n}\r\n\r\nfunction getHeight() {\r\n    return Math.max(\r\n        document.body.scrollHeight,\r\n        document.documentElement.scrollHeight,\r\n        document.body.offsetHeight,\r\n        document.documentElement.offsetHeight,\r\n        document.documentElement.clientHeight\r\n    );\r\n}\r\n\r\nfunction colliding(circle, rect) {\r\n    var distX = Math.abs(circle.x - rect.x - rect.width / 2);\r\n    var distY = Math.abs(circle.y - rect.y - rect.height / 2);\r\n\r\n    if(distX &gt; (rect.width / 2 + circle.radius)) return false;\r\n    if(distY &gt; (rect.height / 2 + circle.radius)) return false;\r\n\r\n    if(distX &lt;= (rect.width / 2)) return true;\r\n    if(distY &lt;= (rect.height / 2)) return true;\r\n}\r\n\r\nfunction rectanglesColliding(rect1, rect2) {\r\n    if(rect1.x &lt; rect2.x + rect2.width &amp;&amp;\r\n        rect1.x + rect1.width &gt; rect2.x &amp;&amp;\r\n        rect1.y &lt; rect2.y + rect2.height &amp;&amp;\r\n        rect1.y + rect1.height &gt; rect2.y) {\r\n            return true;\r\n    }\r\n}\r\n\r\nfunction distance(x1, y1, x2, y2) {\r\n    const xDist = x2 - x1;\r\n    const yDist = y2 - y1;\r\n\r\n    return Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\r\n}\r\n\r\nfunction shoot() {\r\n    player.bullets.push({ x: player.x + 10, y: player.y, speed: 6, width: 7, height: 6  }); //&lt;====================\r\n}\r\n\r\nfunction generateObstacle() {\r\n    var obstacle = {\r\n        x: obstacles[0].x + randomIntFromRange(cvs.width - 100, cvs.width + 70),\r\n        y: 0 + randomIntFromRange(20, 550),\r\n        width: randomIntFromRange(25, 35),\r\n        height: randomIntFromRange(10, 25)\r\n    };\r\n\r\n    for(var i = 0; i &lt; obstacles.length; i++) {\r\n        if(distance(obstacle.x, obstacle.y, obstacles[i].x, obstacles[i].y) &lt; 65) {\r\n            obstacle = {\r\n                x: obstacles[0].x + randomIntFromRange(cvs.width - 100, cvs.width + 70),\r\n                y: 0 + randomIntFromRange(20, 550),\r\n                width: randomIntFromRange(25, 35),\r\n                height: randomIntFromRange(10, 25)\r\n            };\r\n\r\n            i = -1;\r\n        }\r\n    }\r\n\r\n    obstacles.push({ x: obstacle.x, y: obstacle.y, width: obstacle.width, height: obstacle.height });\r\n}\r\n\r\nfunction removeBadObstacles() {\r\n    for(var i = 0; i &lt; obstacles.length; i++) {\r\n        if(obstacles[i].x &lt; 0) {\r\n            obstacles.splice(i, 1);\r\n        }\r\n    }\r\n}\r\n\r\nfunction updateObstacles() {\r\n    if(obstacles[obstacles.length - 1].x &lt; cvs.width + 5) {\r\n        generateObstacle();\r\n        generateObstacle();\r\n    }\r\n\r\n    obstacles.forEach((obstacle) =&gt; {\r\n        obstacle.x -= 10;\r\n        ctx.fillStyle = 'red';\r\n        ctx.fillRect(obstacle.x, obstacle.y, obstacle.width, obstacle.height);\r\n    });\r\n}\r\n\r\nfunction init() {\r\n    cvs.width = getWidth();\r\n    cvs.height = getHeight();\r\n    update();\r\n}\r\n\r\nfunction update() {\r\n    if(gameEnded) {\r\n        ctx.font = '50px Verdana';\r\n        return ctx.fillText('Game Over', 110, cvs.height / 2);\r\n    }\r\n    requestAnimationFrame(update);\r\n\r\n    removeBadObstacles();\r\n    ctx.fillStyle = 'black';\r\n    ctx.fillRect(0, 0, cvs.width, cvs.height);\r\n    updateObstacles();\r\n    player.update();\r\n    ctx.font = '30px Impact';\r\n    ctx.fillText(\"Score: \" + player.score, 20, 40);\r\n}\r\n\r\ninit();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Game&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;canvas id=\"canvas\"&gt;&lt;/canvas&gt;\r\n\r\n        &lt;script type=\"text/javascript\" src=\"./JS/main.js\"&gt;&lt;/script&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 346, "user_id": 11825193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96dbf18e6966f8a49ae7a9bb547f778e?s=128&d=identicon&r=PG&f=1", "display_name": "Kenzoid", "link": "https://stackoverflow.com/users/11825193/kenzoid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 59480337, "answer_count": 1, "score": 1, "last_activity_date": 1577293023, "creation_date": 1577291226, "question_id": 59480123, "link": "https://stackoverflow.com/questions/59480123/unexpected-result-when-resolving-collision-in-javascript", "title": "Unexpected Result when Resolving Collision in JavaScript", "body": "<p>I've been making a simple game just with the HTML5 canvas and plain JavaScript. Most recently I tried adding a feature to shoot bullets which would then destroy obstacles but I've come upon a problem. Whenever you shoot a bullet it doesn't move until another is shot. Even when it starts moving and collides with one of the obstacles nothing happens. I've done some troubleshooting and I can't seem to get to the bottom of it. Any help and/or suggestions would be greatly appreciated.</p>\n\n<p>Collision handling code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>for(var i = 0; i &lt; this.bullets.length - 1; i++) { // -1 is present because whenever I remove it I get an error. I have a feeling this may be related to the order of how everything updates, will be fixed\n    this.bullets[i].x += this.bullets[i].speed;\n\n    if(this.bullets[i].x &gt; cvs.width) {\n        this.bullets.splice(i, 1);\n    }\n\n    for(var j = 0; j &lt; obstacles.length - 1; j++) { // Same here\n        if(rectanglesColliding(this.bullets[i], obstacles[j])) {\n             console.log(\"Collision\");\n        }\n    }\n}\n</code></pre>\n\n<p>Full player object:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var player = {\n    score: 0,\n    x: 50,\n    y: 150,\n    radius: 10,\n    jumping: false,\n    bullets: [],\n    velocityX: 0,\n    velocityY: 1,\n    angle: 90,\n\n    update: function() {\n        this.draw();\n        this.score++;\n\n        if(this.y + this.radius + 2 &gt; cvs.height - 50 &amp;&amp; this.jumping === false || this.y - this.radius + 2 &lt; 0 + 50 &amp;&amp; this.jumping === true) {\n            this.velocityY = 0;\n        } else if(this.jumping === false){\n            this.velocityY = 4;\n        } else {\n            this.velocityY = -4;\n        }\n\n        obstacles.forEach((obstacle) =&gt; {\n            if(colliding(this, obstacle)) {\n                gameEnded = true;\n            }\n        });\n\n        this.x += this.velocityX;\n        this.y += this.velocityY;\n\n        for(var i = 0; i &lt; this.bullets.length - 1; i++) { // -1 is present because whenever I remove it I get an error. I have a feeling this may be related to the order of how everything updates, will be fixed\n            this.bullets[i].x += this.bullets[i].speed;\n\n            if(this.bullets[i].x &gt; cvs.width) {\n                this.bullets.splice(i, 1);\n            }\n\n            for(var j = 0; j &lt; obstacles.length - 1; j++) { // Same here\n                if(rectanglesColliding(this.bullets[i], obstacles[j])) {\n                    console.log(\"Collision\");\n                }\n            }\n        }\n    }, \n\n    draw: function() {\n        this.bullets.forEach((bullet) =&gt; {\n            ctx.fillStyle = 'green';\n            ctx.fillRect(bullet.x, bullet.y, 7, 2);\n        });\n\n        ctx.fillStyle = 'blue';\n        ctx.beginPath();\n        ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);\n        ctx.fill();\n    }\n};\n</code></pre>\n\n<p>Collision Detection Function:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function rectanglesColliding(rect1, rect2) {\n    if(rect1.x &lt; rect2.x + rect2.width &amp;&amp;\n        rect1.x + rect1.width &gt; rect2.x &amp;&amp; // Found on Mozilla.com: https://developer.mozilla.org/en-US/docs/Games/Techniques/2D_collision_detection\n        rect1.y &lt; rect2.y + rect2.height &amp;&amp;\n        rect1.y + rect1.height &gt; rect2.y) return true;\n    else return false;\n}\n</code></pre>\n\n<p>Shoot Function:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function shoot() {\n    player.bullets.push({ x: player.x + 10, y: player.y, speed: 6 });\n}\n</code></pre>\n\n<p>Object of the game:\nSurvive as long as you can by avoiding the obstacles.</p>\n\n<p>Controls:\nSpace: Go up\nW: Shoot Bullet</p>\n\n<p>Full code snippet:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var cvs = document.getElementById('canvas');\r\nvar ctx = cvs.getContext(\"2d\");\r\nvar gameEnded = false;\r\n\r\nvar player = {\r\n    score: 0,\r\n    x: 50,\r\n    y: 150,\r\n    radius: 10,\r\n    jumping: false,\r\n    bullets: [],\r\n    velocityX: 0,\r\n    velocityY: 1,\r\n    angle: 90,\r\n\r\n    update: function() {\r\n        this.draw();\r\n        this.score++;\r\n\r\n        if(this.y + this.radius + 2 &gt; cvs.height - 50 &amp;&amp; this.jumping === false || this.y - this.radius + 2 &lt; 0 + 50 &amp;&amp; this.jumping === true) {\r\n            this.velocityY = 0;\r\n        } else if(this.jumping === false){\r\n            this.velocityY = 4;\r\n        } else {\r\n            this.velocityY = -4;\r\n        }\r\n\r\n        obstacles.forEach((obstacle) =&gt; {\r\n            if(colliding(this, obstacle)) {\r\n                gameEnded = true;\r\n            }\r\n        });\r\n\r\n        this.x += this.velocityX;\r\n        this.y += this.velocityY;\r\n\r\n        for(var i = 0; i &lt; this.bullets.length - 1; i++) {\r\n            this.bullets[i].x += this.bullets[i].speed;\r\n\r\n            if(this.bullets[i].x &gt; cvs.width) {\r\n                this.bullets.splice(i, 1);\r\n            }\r\n\r\n            for(var j = 0; j &lt; obstacles.length - 1; j++) {\r\n                if(rectanglesColliding(this.bullets[i], obstacles[j])) {\r\n                    console.log(\"Collision\");\r\n                    // obstacles.splice(i, 1);\r\n                }\r\n            }\r\n        }\r\n    }, \r\n\r\n    draw: function() {\r\n        this.bullets.forEach((bullet) =&gt; {\r\n            ctx.fillStyle = 'green';\r\n            ctx.fillRect(bullet.x, bullet.y, 7, 2);\r\n        });\r\n\r\n        ctx.fillStyle = 'blue';\r\n        ctx.beginPath();\r\n        ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);\r\n        ctx.fill();\r\n    }\r\n};\r\n\r\nvar obstacles = [{ x: 150, y: 60, width: 10, height: 20 }];\r\n\r\ndocument.addEventListener('keydown', (event) =&gt; {\r\n    if(event.key === ' ') {\r\n        player.jumping = true;\r\n    }\r\n    if(event.key === 'w') {\r\n        shoot();\r\n    }\r\n});\r\ndocument.addEventListener('keyup', (event) =&gt; {\r\n    if(event.key === ' ') {\r\n        player.jumping = false;\r\n    }\r\n});\r\n\r\nfunction randomIntFromRange(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\r\n\r\nfunction getWidth() {\r\n    return Math.max(\r\n        document.body.scrollWidth,\r\n        document.documentElement.scrollWidth,\r\n        document.body.offsetWidth,\r\n        document.documentElement.offsetWidth,\r\n        document.documentElement.clientWidth\r\n    );\r\n}\r\n\r\nfunction getHeight() {\r\n    return Math.max(\r\n        document.body.scrollHeight,\r\n        document.documentElement.scrollHeight,\r\n        document.body.offsetHeight,\r\n        document.documentElement.offsetHeight,\r\n        document.documentElement.clientHeight\r\n    );\r\n}\r\n\r\nfunction colliding(circle, rect) {\r\n    var distX = Math.abs(circle.x - rect.x - rect.width / 2);\r\n    var distY = Math.abs(circle.y - rect.y - rect.height / 2);\r\n\r\n    if(distX &gt; (rect.width / 2 + circle.radius)) return false;\r\n    if(distY &gt; (rect.height / 2 + circle.radius)) return false;\r\n\r\n    if(distX &lt;= (rect.width / 2)) return true;\r\n    if(distY &lt;= (rect.height / 2)) return true;\r\n}\r\n\r\nfunction rectanglesColliding(rect1, rect2) {\r\n    if(rect1.x &lt; rect2.x + rect2.width &amp;&amp;\r\n        rect1.x + rect1.width &gt; rect2.x &amp;&amp;\r\n        rect1.y &lt; rect2.y + rect2.height &amp;&amp;\r\n        rect1.y + rect1.height &gt; rect2.y) {\r\n            return true;\r\n    }\r\n}\r\n\r\nfunction distance(x1, y1, x2, y2) {\r\n    const xDist = x2 - x1;\r\n    const yDist = y2 - y1;\r\n\r\n    return Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\r\n}\r\n\r\nfunction shoot() {\r\n    player.bullets.push({ x: player.x + 10, y: player.y, speed: 6 });\r\n}\r\n\r\nfunction generateObstacle() {\r\n    var obstacle = {\r\n        x: obstacles[0].x + randomIntFromRange(cvs.width - 100, cvs.width + 70),\r\n        y: 0 + randomIntFromRange(20, 550),\r\n        width: randomIntFromRange(25, 35),\r\n        height: randomIntFromRange(10, 25)\r\n    };\r\n\r\n    for(var i = 0; i &lt; obstacles.length; i++) {\r\n        if(distance(obstacle.x, obstacle.y, obstacles[i].x, obstacles[i].y) &lt; 65) {\r\n            obstacle = {\r\n                x: obstacles[0].x + randomIntFromRange(cvs.width - 100, cvs.width + 70),\r\n                y: 0 + randomIntFromRange(20, 550),\r\n                width: randomIntFromRange(25, 35),\r\n                height: randomIntFromRange(10, 25)\r\n            };\r\n\r\n            i = -1;\r\n        }\r\n    }\r\n\r\n    obstacles.push({ x: obstacle.x, y: obstacle.y, width: obstacle.width, height: obstacle.height });\r\n}\r\n\r\nfunction removeBadObstacles() {\r\n    for(var i = 0; i &lt; obstacles.length; i++) {\r\n        if(obstacles[i].x &lt; 0) {\r\n            obstacles.splice(i, 1);\r\n        }\r\n    }\r\n}\r\n\r\nfunction updateObstacles() {\r\n    if(obstacles[obstacles.length - 1].x &lt; cvs.width + 5) {\r\n        generateObstacle();\r\n        generateObstacle();\r\n    }\r\n\r\n    obstacles.forEach((obstacle) =&gt; {\r\n        obstacle.x -= 10;\r\n        ctx.fillStyle = 'red';\r\n        ctx.fillRect(obstacle.x, obstacle.y, obstacle.width, obstacle.height);\r\n    });\r\n}\r\n\r\nfunction init() {\r\n    cvs.width = getWidth();\r\n    cvs.height = getHeight();\r\n    update();\r\n}\r\n\r\nfunction update() {\r\n    if(gameEnded) {\r\n        ctx.font = '50px Verdana';\r\n        return ctx.fillText('Game Over', 110, cvs.height / 2);\r\n    }\r\n    requestAnimationFrame(update);\r\n\r\n    removeBadObstacles();\r\n    ctx.fillStyle = 'black';\r\n    ctx.fillRect(0, 0, cvs.width, cvs.height);\r\n    updateObstacles();\r\n    player.update();\r\n    ctx.font = '30px Impact';\r\n    ctx.fillText(\"Score: \" + player.score, 20, 40);\r\n}\r\n\r\ninit();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Game&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;canvas id=\"canvas\"&gt;&lt;/canvas&gt;\r\n\r\n        &lt;script type=\"text/javascript\" src=\"./JS/main.js\"&gt;&lt;/script&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs", "react-hooks"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11788161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d6c2ad566a97a80c3c6fc57b482f6dd?s=128&d=identicon&r=PG&f=1", "display_name": "andrev36", "link": "https://stackoverflow.com/users/11788161/andrev36"}, "edited": false, "score": 0, "creation_date": 1577293566, "post_id": 59480133, "comment_id": 105137541, "body": "Thanks for the answer, I&#39;ll mark it as accepted, but there was another thing to change too. Your second option worked, for fetching and showing all data on the first render, first option did not. Another thing was that I had to change array like this: [items, searchTerm, pickedColor]. And not like this: [items, searchResults, colorPickResults]"}, {"owner": {"reputation": 14783, "user_id": 2071697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d1ded508aa80214b01298b83562406?s=128&d=identicon&r=PG", "display_name": "skyboyer", "link": "https://stackoverflow.com/users/2071697/skyboyer"}, "reply_to_user": {"reputation": 13, "user_id": 11788161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d6c2ad566a97a80c3c6fc57b482f6dd?s=128&d=identicon&r=PG&f=1", "display_name": "andrev36", "link": "https://stackoverflow.com/users/11788161/andrev36"}, "edited": false, "score": 0, "creation_date": 1577308525, "post_id": 59480133, "comment_id": 105140233, "body": "sorry, don&#39;t follow. where (incorrectly) did you used <code>[items, searchResults, colorPickResults]</code> in your code?"}, {"owner": {"reputation": 13, "user_id": 11788161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d6c2ad566a97a80c3c6fc57b482f6dd?s=128&d=identicon&r=PG&f=1", "display_name": "andrev36", "link": "https://stackoverflow.com/users/11788161/andrev36"}, "edited": false, "score": 0, "creation_date": 1577311290, "post_id": 59480133, "comment_id": 105140690, "body": "Ah sorry for misleading comment, in code, there are correct values that are: [items, searchTerm, pickedColor]. It was just that while I tried to fix code with information from you I also created another problem for me by replacing array above with: [items, searchResults, colorPickResults]. So finally the correct array to put there so fetching and filtering were working was: [items, searchTerm, pickedColor], and create two useEffect&#39;s where one was for fetching with empty array [] at the end."}], "tags": [], "owner": {"reputation": 14783, "user_id": 2071697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d1ded508aa80214b01298b83562406?s=128&d=identicon&r=PG", "display_name": "skyboyer", "link": "https://stackoverflow.com/users/2071697/skyboyer"}, "is_accepted": true, "score": 0, "last_activity_date": 1577291276, "creation_date": 1577291276, "answer_id": 59480133, "question_id": 59480045, "link": "https://stackoverflow.com/questions/59480045/item-list-fetched-with-useeffect-hook-renders-only-after-it-is-filtered-with-use/59480133#59480133", "title": "Item list fetched with useEffect hook renders only after it is filtered with useEffect", "body": "<p>calling async function and trying access data it will return somewhere later will never work as you expect</p>\n\n<pre><code>fetchItems();\nconst resultsFromSearch = items.filter((item: any) =&gt;\n  item.title.toLowerCase().includes(searchTerm)\n);\n</code></pre>\n\n<p>You should either add that code to <code>.then</code> inside <code>fetchItems</code> or probably have separate <code>useEffect</code>:</p>\n\n<pre><code>useEffect(() =&gt; {\nconst resultsFromSearch = items.filter((item: any) =&gt;\n      item.title.toLowerCase().includes(searchTerm)\n    );\nsetSearchResults(resultsFromSearch);\n}, [items])\n</code></pre>\n\n<p>To me second option is more declarative and more flexible, but it's up to you</p>\n"}], "owner": {"reputation": 13, "user_id": 11788161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d6c2ad566a97a80c3c6fc57b482f6dd?s=128&d=identicon&r=PG&f=1", "display_name": "andrev36", "link": "https://stackoverflow.com/users/11788161/andrev36"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1491, "favorite_count": 0, "accepted_answer_id": 59480133, "answer_count": 1, "score": 0, "last_activity_date": 1577291276, "creation_date": 1577290463, "question_id": 59480045, "link": "https://stackoverflow.com/questions/59480045/item-list-fetched-with-useeffect-hook-renders-only-after-it-is-filtered-with-use", "title": "Item list fetched with useEffect hook renders only after it is filtered with useEffect", "body": "<p>My problem is that I am trying to show data (item list) on the first render using useEffect, with useState hooks, and after it is rendered I want to filter these mapped items.</p>\n\n<p>At the moment when I get to items page, I get zero items rendered on-page. And they are rendered only after I filter them (either by search filter or by choosing the desired color from the select dropdown).</p>\n\n<p>Below I show my code:</p>\n\n<pre><code>...\n  var [searchTerm, setSearchTerm] = useState&lt;any&gt;(\"\");\n  var [searchResults, setSearchResults] = useState&lt;any&gt;([]);\n  const handleInput = (e: any) =&gt; {\n    console.log(e.target.value);\n    setSearchTerm(e.target.value);\n  };\n  var [pickedColor, setPickedColor] = useState&lt;any&gt;(\"\");\n  var [colorPickResults, setColorPickResults] = useState&lt;any&gt;([]);\n  const handleColorChange = (e: any) =&gt; {\n    console.log(e.target.value);\n    setPickedColor(e.target.value);\n  };\n  var [items, setItems] = useState&lt;any&gt;([]);\n  useEffect(() =&gt; {\n    var message: string = \"\";\n    var fetchItems = () =&gt; {\n      axios\n        .get(\"/api/products\")\n        .then((res: any) =&gt; {\n          console.log(\"res :\", res);\n          setItems(res.data.data[0].products);\n          console.log(\"res.data.data[0].products :\", res.data.data[0].products);\n          if (res.status === 200) {\n            message = \"Products successfuly fetched.\";\n            console.log(message);\n          } else {\n            message = \"Something went wrong. Please try again later.\";\n            console.log(message);\n          }\n        })\n        .catch((err: any) =&gt; console.log(err));\n    };\n    fetchItems();\n    const resultsFromSearch = items.filter((item: any) =&gt;\n      item.title.toLowerCase().includes(searchTerm)\n    );\n    setSearchResults(resultsFromSearch);\n    const resultsFromPickedColor = resultsFromSearch.filter((item: any) =&gt;\n      item.color.toLowerCase().includes(pickedColor)\n    );\n    setColorPickResults(resultsFromPickedColor);\n  }, [searchTerm, pickedColor]);\n  var filteredItems = colorPickResults;\n  var itemList = filteredItems.map((item: any) =&gt; {\n    return (\n      &lt;div key={item.id} style={{ width: \"370px\", padding: \"1rem\" }}&gt;\n...\n</code></pre>\n\n<p>I get successful message in the console, and item is successfully fetched as I mentioned above.</p>\n\n<p>What I have tried:\n1.Adding \"items\" to: [searchTerm, pickedColor, items] array, but then useEffect creates infinite loop when fetching items, and (probably) re-renders component at each fetch.</p>\n\n<p>What can I change to get desired functionality mentioned at start of my post?\nShould I add some other hooks like useContext,useMemo? Or maybe I can somehow separate fetching from filtering?</p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 31823, "user_id": 1960455, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d22bdc5c04b48a9054586eb64174ea99?s=128&d=identicon&r=PG", "display_name": "t.niese", "link": "https://stackoverflow.com/users/1960455/t-niese"}, "edited": false, "score": 3, "creation_date": 1577290588, "post_id": 59480040, "comment_id": 105136903, "body": "How do you inject the code?"}, {"owner": {"reputation": 19, "user_id": 9911800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YggXn.jpg?s=128&g=1", "display_name": "jacohawk", "link": "https://stackoverflow.com/users/9911800/jacohawk"}, "reply_to_user": {"reputation": 31823, "user_id": 1960455, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d22bdc5c04b48a9054586eb64174ea99?s=128&d=identicon&r=PG", "display_name": "t.niese", "link": "https://stackoverflow.com/users/1960455/t-niese"}, "edited": false, "score": 0, "creation_date": 1577291063, "post_id": 59480040, "comment_id": 105137001, "body": "@t.niese I just type f12 in web browser and put the code inside de loaded page inside DOM, just replace the old for the new one"}, {"owner": {"reputation": 17869, "user_id": 1376624, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/40jqM.png?s=128&g=1", "display_name": "Wesley Smith", "link": "https://stackoverflow.com/users/1376624/wesley-smith"}, "edited": false, "score": 0, "creation_date": 1577291909, "post_id": 59480040, "comment_id": 105137187, "body": "JavaScript you paste into an element from the inspect window will not be evaluated and run by the browser. You can paste the js code in the console and that would run it if you\u2019re just testing stuff, or you can add the script to the actual html of the page so it\u2019d run on page load"}], "owner": {"reputation": 19, "user_id": 9911800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YggXn.jpg?s=128&g=1", "display_name": "jacohawk", "link": "https://stackoverflow.com/users/9911800/jacohawk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577290857, "creation_date": 1577290449, "question_id": 59480040, "link": "https://stackoverflow.com/questions/59480040/functions-not-working-when-injecting-jquery", "title": "Functions not working when injecting jQuery", "body": "<p>I'm not able to run a simple script in a web which I inject jQuery\nSo lets imagine an almost blank web:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\r\n&lt;head&gt;\r\n\t&lt;title&gt;Demo&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Then I open DOM and insert this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\r\n&lt;head&gt;\r\n\t&lt;title&gt;Demo&lt;/title&gt;\r\n\t&lt;script src=\"https://code.jquery.com/jquery-3.4.1.slim.min.js\"&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;button class=\"btn btn-danger btn-block\" id=\"demo\"&gt;Demo&lt;/button&gt;\r\n\r\n&lt;script&gt;\r\n$(function(){\r\n\t$(document).on('click','#demo',function(){\r\n\t\talert(\"Hello World!\");\r\n\t});\r\n});\r\n&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And thats not working :( only works if the web starts with all the code at first, but don't when injecting.\nIs there a way to make it possible?\nThanks a lot and greetings :)</p>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript", "ngmodel"], "comments": [{"owner": {"reputation": 3374, "user_id": 7203873, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8cea8b0090dfbf776ebdb0f1e3c9d8a?s=128&d=identicon&r=PG", "display_name": "Plochie", "link": "https://stackoverflow.com/users/7203873/plochie"}, "edited": false, "score": 2, "creation_date": 1577290462, "post_id": 59480018, "comment_id": 105136885, "body": "can you please explain why such requirement?"}, {"owner": {"reputation": 5325, "user_id": 6118550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jq2eV.png?s=128&g=1", "display_name": "C_Ogoo", "link": "https://stackoverflow.com/users/6118550/c-ogoo"}, "edited": false, "score": 0, "creation_date": 1577291301, "post_id": 59480018, "comment_id": 105137051, "body": "I&#39;m not sure i understand your ask, but this looks like a case for <code>ngTemplate</code>: <a href=\"https://angular.io/api/common/NgTemplateOutlet\" rel=\"nofollow noreferrer\">angular.io/api/common/NgTemplateOutlet</a>"}, {"owner": {"reputation": 1, "user_id": 11202514, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZRtIeaupWiM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdIa6gvJM3-6Mc0osfrkjuh0FJpQg/mo/photo.jpg?sz=128", "display_name": "Ritika Agarwal", "link": "https://stackoverflow.com/users/11202514/ritika-agarwal"}, "reply_to_user": {"reputation": 3374, "user_id": 7203873, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8cea8b0090dfbf776ebdb0f1e3c9d8a?s=128&d=identicon&r=PG", "display_name": "Plochie", "link": "https://stackoverflow.com/users/7203873/plochie"}, "edited": false, "score": 0, "creation_date": 1577291569, "post_id": 59480018, "comment_id": 105137111, "body": "@Plochie <a href=\"https://www.google.co.in/maps/dir///@12.9697259,77.7178782,13z/data=!5m1!1e2\" rel=\"nofollow noreferrer\">google.co.in/maps/dir///@12.9697259,77.7178782,13z/&hellip;</a>  Just like this where I can add stops in between"}, {"owner": {"reputation": 3374, "user_id": 7203873, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8cea8b0090dfbf776ebdb0f1e3c9d8a?s=128&d=identicon&r=PG", "display_name": "Plochie", "link": "https://stackoverflow.com/users/7203873/plochie"}, "edited": false, "score": 0, "creation_date": 1577291678, "post_id": 59480018, "comment_id": 105137132, "body": "I dont understant the google maps links. Also you cant just clone the template. The most you can do is clone the dom generated by template ref. But in that case you will not be getting any angular features anyway."}, {"owner": {"reputation": 1, "user_id": 11202514, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZRtIeaupWiM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdIa6gvJM3-6Mc0osfrkjuh0FJpQg/mo/photo.jpg?sz=128", "display_name": "Ritika Agarwal", "link": "https://stackoverflow.com/users/11202514/ritika-agarwal"}, "edited": false, "score": 0, "creation_date": 1577291759, "post_id": 59480018, "comment_id": 105137150, "body": "I want to add waypoints which is nothing but a textbox along with auto complete address"}], "owner": {"reputation": 1, "user_id": 11202514, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZRtIeaupWiM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdIa6gvJM3-6Mc0osfrkjuh0FJpQg/mo/photo.jpg?sz=128", "display_name": "Ritika Agarwal", "link": "https://stackoverflow.com/users/11202514/ritika-agarwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577354190, "creation_date": 1577290207, "last_edit_date": 1577354190, "question_id": 59480018, "link": "https://stackoverflow.com/questions/59480018/how-to-dynamically-add-waypoints-in-angular-along-with-auto-complete-address", "title": "How to dynamically add waypoints in Angular along with auto complete address?", "body": "<pre><code>&lt;div [hidden]=\"!showWaypoint\" #waypoint&gt;\n                &lt;div class=\"form-group label-floating\"&gt;\n                  &lt;label class=\"control-label\"&gt;Waypoint&lt;/label&gt;\n                  &lt;input type=\"text\" class=\"form-control search-address\" name = \"waypoint\" placeholder=\" \" [(ngModel)]=\"wayPointInput\" #stop&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n</code></pre>\n\n<p>I want to clone this entire portion, just like appending when i am clicking on add waypoint. I Dont want to use structural directives like *ngFor.\nI have also consoled this </p>\n\n<pre><code> @ViewChild('waypoint') wp;\n    console.log(this.wp.nativeElement);\n</code></pre>\n\n<p>but I dont know how to append it along with the change in ngModel name so that after submitting I get a set of data in an array.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1577290595, "post_id": 59479993, "comment_id": 105136904, "body": "The counter needs to start at <code>3</code>, or there will be 3 rows too many. <code>i</code> otoh needs to start at <code>0</code>, or there will be 3 columns too few."}], "answers": [{"tags": [], "owner": {"reputation": 970, "user_id": 267706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57898b06cf611e1719aa39b126419a3b?s=128&d=identicon&r=PG", "display_name": "JohnC", "link": "https://stackoverflow.com/users/267706/johnc"}, "is_accepted": false, "score": 0, "last_activity_date": 1577292138, "creation_date": 1577292138, "answer_id": 59480232, "question_id": 59479993, "link": "https://stackoverflow.com/questions/59479993/adding-columns-and-rows-to-tale-by-input-vanilla-js/59480232#59480232", "title": "Adding columns and rows to tale by input - Vanilla JS", "body": "<p>I was looking here\n<a href=\"https://www.w3schools.com/jsref/met_table_insertrow.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/jsref/met_table_insertrow.asp</a></p>\n\n<p>I spotted 2 things missing:</p>\n\n<p>1/</p>\n\n<pre><code>&lt;main&gt;\n    &lt;table id=\"myTable\"&gt;\n        &lt;tr&gt;\n</code></pre>\n\n<p>2/</p>\n\n<pre><code> let counter = 0;\n var table = document.getElementById(\"myTable\");\n while (counter != parseInt(tableSizeInput.value)) {\n</code></pre>\n\n<p>That should get you adding extra rows</p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 10599588, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XK1wA19IU3o/AAAAAAAAAAI/AAAAAAAAAGc/32Gzp4Z6jy4/photo.jpg?sz=128", "display_name": "flemeth wow", "link": "https://stackoverflow.com/users/10599588/flemeth-wow"}, "is_accepted": false, "score": 0, "last_activity_date": 1577295644, "creation_date": 1577295644, "answer_id": 59480639, "question_id": 59479993, "link": "https://stackoverflow.com/questions/59479993/adding-columns-and-rows-to-tale-by-input-vanilla-js/59480639#59480639", "title": "Adding columns and rows to tale by input - Vanilla JS", "body": "<p>using this method, i mean inserting rows and then cell for that row,\ni don't think that u can insert cells for already existing rows. \n   So u cant make 3x3 table to be 7x7 by insertRow/Cell method but u can make 3x3 table to become 3x7 or even 7x7 BUT in that case first 3 row wil not have cells. \nP.s make sure to add css with td,tr borders if u run this code</p>\n\n<pre><code>\n    &lt;body&gt;\n\n\n            &lt;table id=\"tt\"&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n\n                &lt;tr&gt;\n                    &lt;td&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n\n                &lt;tr&gt;\n                    &lt;td&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/table&gt;\n\n    &lt;script&gt;\n\n     function a()\n    {\n\n    var v=document.getElementById('i1').value;\n    parseInt(v);\n\n    var table=document.getElementById('tt');\n\n    for (var i = 0; i &lt; v-3; i++) {\n      var row = table.insertRow(0);\n\n    for (var l = 0; l &lt; v; l++) {\n          var cell = row.insertCell(l);\n    }\n\n    }\n\n    }\n    &lt;/script&gt;\n            &lt;input id=\"i1\" type=\"text\"&gt;\n            &lt;input id=\"b1\" onclick=\"a();\" type=\"button\"&gt;\n    &lt;/body&gt; \n\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 12464659, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nO9vtNNXiT4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3refHGnbNSqATao1rgG-yHKgQdTNzQ/photo.jpg?sz=128", "display_name": "lir sim", "link": "https://stackoverflow.com/users/12464659/lir-sim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1577295644, "creation_date": 1577289976, "question_id": 59479993, "link": "https://stackoverflow.com/questions/59479993/adding-columns-and-rows-to-tale-by-input-vanilla-js", "title": "Adding columns and rows to tale by input - Vanilla JS", "body": "<p>the table in default is 3x3 (3 rows &amp; 3 columns).\nIf the user writes in input 7, the table needs to be changed into 7x7 table.</p>\n\n<p>What I did in the code is first adding the rows (working successfully), and then adding to every row cells/columns - But this is not working for some reason.</p>\n\n<p>Thanks for help !  </p>\n\n<p>Relevant code:</p>\n\n<pre><code>\n    &lt;main&gt;\n        &lt;table&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n\n            &lt;tr&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n\n            &lt;tr&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n    &lt;/main&gt;\n\n&lt;input id=\"tableSizeInput\" type=\"text\" placeholder=\"enter number\"&gt;\n            &lt;button id=\"tableSizeButton\"&gt;Set&lt;/button&gt;\n</code></pre>\n\n<pre><code>table {\n    border-collapse: collapse;\n    width: 50vw;\n    height: 70vh;\n    border: 5px solid black;\n    margin: auto;\n}\n\ntd {\n    border: 5px solid black;\n    background-color: white;\n}\n</code></pre>\n\n<pre><code>tableSizeButton.onclick = function () {\n                let counter = 0;\n                while(counter!=parseInt(tableSizeInput.value))\n                {\n                    let row = table.insertRow(0);\n                    let cell1 = row.insertCell(0);\n                    let cell2 = row.insertCell(1);\n                    let cell3 = row.insertCell(2);\n\n                    counter++;\n                }\n\n                for (let b = 0; b&lt;table.rows.length; b++)\n                {\n                    for(let i = 3; i&lt;parseInt(tableSizeInput.value)-3; i++)\n                       {\n                           table.rows[b].insertCell(i);\n                       }\n                }\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "edited": false, "score": 5, "creation_date": 1577290825, "post_id": 59479987, "comment_id": 105136945, "body": "<code>setTimeout</code> does not pause your code for the specified time interval. It just schedules the function to happen at that later point, and continues your script. That&#39;s why you see <code>&quot;and then this&quot;</code> first - because <code>callback</code> is called approximately half a second before <code>&quot;this first&quot;</code> is logged."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1577292066, "post_id": 59479987, "comment_id": 105137214, "body": "Here&#39;s the common three ways to do this: <a href=\"https://jsfiddle.net/khrismuc/qpox21Lu/\" rel=\"nofollow noreferrer\">jsfiddle.net/khrismuc/qpox21Lu</a> (callback, promises, async/await)"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1577379001, "post_id": 59479987, "comment_id": 105156598, "body": "Just call <code>callback()</code> after <code>console.log(&#39;this first&#39;)</code> (or whatever the long-running work is) without the <code>setTimeout</code>... what&#39;s the confusion?"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1577379223, "post_id": 59479987, "comment_id": 105156666, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/42423121/why-does-the-code-skip-the-settimeout-and-only-later-catch-up\">Why does the code skip the setTimeout and only later catch up?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 581, "user_id": 6602027, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/6c18cd2f81be6cb962913797478d2b72?s=128&d=identicon&r=PG&f=1", "display_name": "Venkat Lokeswar", "link": "https://stackoverflow.com/users/6602027/venkat-lokeswar"}, "is_accepted": false, "score": 0, "last_activity_date": 1577290505, "creation_date": 1577290505, "answer_id": 59480053, "question_id": 59479987, "link": "https://stackoverflow.com/questions/59479987/javascript-callback-execution-not-working-as-per-understanding/59480053#59480053", "title": "Javascript callback execution not working as per understanding", "body": "<p>Simple example </p>\n\n<pre><code>function theCallBack(data){\n   console.log(data, \"From doSomethingmethod\")\n}\n\nfunction doSomething(callback){\n\n //Calling callback after Some operation  \n //Example\n    axios.get(url)\n    .then(function(response){\n         callback(response)\n    })\n}\n\n\ndoSomething(theCallBack);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1491, "user_id": 996946, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a84158250c6a89b0e4647d555d3ae7f5?s=128&d=identicon&r=PG", "display_name": "Alex 75", "link": "https://stackoverflow.com/users/996946/alex-75"}, "is_accepted": false, "score": 2, "last_activity_date": 1577378681, "last_edit_date": 1577378681, "creation_date": 1577298660, "answer_id": 59480953, "question_id": 59479987, "link": "https://stackoverflow.com/questions/59479987/javascript-callback-execution-not-working-as-per-understanding/59480953#59480953", "title": "Javascript callback execution not working as per understanding", "body": "<p>Your code does this:  </p>\n\n<ol>\n<li>set a timer that will execute a function after 500 ms (this action takes no time)</li>\n<li>call the callback() function (immediately) that print \"and then this\"</li>\n</ol>\n\n<p>... after 500 ms:  </p>\n\n<ol start=\"3\">\n<li>log \"this first\"   </li>\n</ol>\n\n<p>The big mistake is to put the code that should be executed first in the \"delayed\" function!<br>\nThis is your code correct to execute the 2 logs correctly.  </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>doThis(andThenThis)\n\nfunction andThenThis() {\n  console.log('and then this')\n}\n\nfunction doThis(callback) {\n  console.log('this first')  // this is executed immediately\n  setTimeout(function() {\n    callback()  // this will be executed after 500ms\n  }, 500)  \n  // console.log('this first')   // if moved here it is still executed before the callback\n}\n</code></pre>\n\n<p>As shown in the comment, if you switch actions 1 and 2, you still have the same result, same logs order (to demonstrate the call to setTimeout() exit immediately). </p>\n"}, {"tags": [], "owner": {"reputation": 7, "user_id": 9982411, "user_type": "registered", "profile_image": "https://graph.facebook.com/2067876973428081/picture?type=large", "display_name": "Hamza Murtaza", "link": "https://stackoverflow.com/users/9982411/hamza-murtaza"}, "is_accepted": false, "score": 0, "last_activity_date": 1577300823, "creation_date": 1577300823, "answer_id": 59481167, "question_id": 59479987, "link": "https://stackoverflow.com/questions/59479987/javascript-callback-execution-not-working-as-per-understanding/59481167#59481167", "title": "Javascript callback execution not working as per understanding", "body": "<p>This is how you use a callback function.</p>\n\n<pre><code>function doThis(callback) {\n  console.log('this first')\n  setTimeout(() =&gt; {\n    callback()\n  }, 500)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2395, "user_id": 11653883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M5n7K.jpg?s=128&g=1", "display_name": "Aaron Plocharczyk", "link": "https://stackoverflow.com/users/11653883/aaron-plocharczyk"}, "is_accepted": false, "score": 0, "last_activity_date": 1577379561, "creation_date": 1577379561, "answer_id": 59491283, "question_id": 59479987, "link": "https://stackoverflow.com/questions/59479987/javascript-callback-execution-not-working-as-per-understanding/59491283#59491283", "title": "Javascript callback execution not working as per understanding", "body": "<p>This:</p>\n\n<pre><code>function doThis(callback) {\n  setTimeout(function() {\n    console.log('this first')\n  }, 500)\n  callback()\n}\n</code></pre>\n\n<p>Should be this:</p>\n\n<pre><code>function doThis(callback) {\n  setTimeout(function() {\n    console.log('this first');\n    callback();\n  }, 500);\n}\n</code></pre>\n\n<p>When it's outside of the timeout, it executes immediately. Only things in the timeout wait. Try it out here:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>doThis(andThenThis);\r\n\r\nfunction andThenThis() {\r\n  console.log('and then this');\r\n}\r\n\r\nfunction doThis(callback) {\r\n  setTimeout(function() {\r\n    console.log('this first');\r\n    callback();\r\n  }, 500);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 175, "user_id": 2647840, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/fbbb0fba0a01e4a5ce961cab38657f6a?s=128&d=identicon&r=PG", "display_name": "Nirmesh", "link": "https://stackoverflow.com/users/2647840/nirmesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1577379561, "creation_date": 1577289939, "last_edit_date": 1577329693, "question_id": 59479987, "link": "https://stackoverflow.com/questions/59479987/javascript-callback-execution-not-working-as-per-understanding", "title": "Javascript callback execution not working as per understanding", "body": "<p>I am trying to understand the following callback:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>doThis(andThenThis);\r\n\r\nfunction andThenThis() {\r\n  console.log('and then this')\r\n}\r\n\r\nfunction doThis(callback) {\r\n  setTimeout(function() {\r\n    console.log('this first')\r\n  }, 500)\r\n  callback()\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I've tried using a callback so that my function would execute after the <code>setTimeout</code>, no matter how long the first function takes to perform.<br>\nI am expecting it to print: 'this first', followed by: 'and then this'. Is there any way I can do that?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 141, "user_id": 12169933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hwo4e.jpg?s=128&g=1", "display_name": "Nisheanthan", "link": "https://stackoverflow.com/users/12169933/nisheanthan"}, "edited": false, "score": 0, "creation_date": 1577292809, "post_id": 59479981, "comment_id": 105137374, "body": "<code>var input = document.getElementById(&quot;id_desiredFrames&quot;).value;</code> is executed only when the page is loaded. so there are no value on page load. so you can call a function on change of input to get the value."}, {"owner": {"reputation": 659, "user_id": 12347754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qqes7.jpg?s=128&g=1", "display_name": "V.Volkov", "link": "https://stackoverflow.com/users/12347754/v-volkov"}, "edited": false, "score": 0, "creation_date": 1577293262, "post_id": 59479981, "comment_id": 105137475, "body": "<code>getElementById</code> returns <code>null</code>, not <code>undefined</code>"}, {"owner": {"reputation": 659, "user_id": 12347754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qqes7.jpg?s=128&g=1", "display_name": "V.Volkov", "link": "https://stackoverflow.com/users/12347754/v-volkov"}, "edited": false, "score": 0, "creation_date": 1577294322, "post_id": 59479981, "comment_id": 105137714, "body": "Also, it doesn&#39;t fix your problem, but there is <code>onchange</code> eventlistener, which can track the changes in <code>input</code> field."}, {"owner": {"reputation": 343, "user_id": 10557703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-V7BFHq8uYeQ/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDTF26XC8NostEXRBvsnuj3ac0msg/mo/photo.jpg?sz=128", "display_name": "Lesnie Sncheider", "link": "https://stackoverflow.com/users/10557703/lesnie-sncheider"}, "reply_to_user": {"reputation": 141, "user_id": 12169933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hwo4e.jpg?s=128&g=1", "display_name": "Nisheanthan", "link": "https://stackoverflow.com/users/12169933/nisheanthan"}, "edited": false, "score": 0, "creation_date": 1577294978, "post_id": 59479981, "comment_id": 105137826, "body": "@Nisheanthan Ohhh, got it. I&#39;m just not sure how to turn it into a function as a whole."}, {"owner": {"reputation": 141, "user_id": 12169933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hwo4e.jpg?s=128&g=1", "display_name": "Nisheanthan", "link": "https://stackoverflow.com/users/12169933/nisheanthan"}, "edited": false, "score": 0, "creation_date": 1577296207, "post_id": 59479981, "comment_id": 105138056, "body": "@LesnieSncheider I&#39;m posting my suggestion as an answer, please have a check on that."}], "answers": [{"comments": [{"owner": {"reputation": 343, "user_id": 10557703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-V7BFHq8uYeQ/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDTF26XC8NostEXRBvsnuj3ac0msg/mo/photo.jpg?sz=128", "display_name": "Lesnie Sncheider", "link": "https://stackoverflow.com/users/10557703/lesnie-sncheider"}, "edited": false, "score": 0, "creation_date": 1577292625, "post_id": 59480253, "comment_id": 105137327, "body": "Oh sorry , the full exception is <code>Uncaught TypeError: Cannot read property &#39;split&#39; of undefined     at processChunk (0eaace3b-4b4c-4c76-93c5-8e8921ae247c:309)     at HTMLInputElement.onkeyup (0eaace3b-4b4c-4c76-93c5-8e8921ae247c:213)</code> . I tried pasting your function in instead of mine and now it just returns the value 0."}, {"owner": {"reputation": 659, "user_id": 12347754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qqes7.jpg?s=128&g=1", "display_name": "V.Volkov", "link": "https://stackoverflow.com/users/12347754/v-volkov"}, "reply_to_user": {"reputation": 343, "user_id": 10557703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-V7BFHq8uYeQ/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDTF26XC8NostEXRBvsnuj3ac0msg/mo/photo.jpg?sz=128", "display_name": "Lesnie Sncheider", "link": "https://stackoverflow.com/users/10557703/lesnie-sncheider"}, "edited": false, "score": 0, "creation_date": 1577293515, "post_id": 59480253, "comment_id": 105137526, "body": "Try removing the first or second <code>return</code> and condition before it to find out which <code>split</code> throws the error :)"}], "tags": [], "owner": {"reputation": 659, "user_id": 12347754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qqes7.jpg?s=128&g=1", "display_name": "V.Volkov", "link": "https://stackoverflow.com/users/12347754/v-volkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1577292306, "creation_date": 1577292306, "answer_id": 59480253, "question_id": 59479981, "link": "https://stackoverflow.com/questions/59479981/automatically-calculate-value-on-input-using-onkeyup/59480253#59480253", "title": "Automatically calculate value on input using onkeyup", "body": "<p>It is about <code>chunk</code> or <code>stepInfo[0]</code>, isn' it? I'd suggest to add a few conditions before function execution - that way it will ~ignore incorrect input at least:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function processChunk(chunk) {\r\n  if (!chunk || chunk.indexOf(',') == -1)\r\n    return;\r\n  var stepInfo = chunk.split(\",\");\r\n  var step = 1;\r\n  if(stepInfo.length &gt; 1)\r\n    step = stepInfo[1];\r\n  \r\n  if (!stepInfo[0] || stepInfo[0].indexOf('-') == -1)\r\n    return;\r\n  var range = stepInfo[0].split(\"-\");\r\n  var frame = Math.round((range[1]- range[0]+ 1) / step);\r\n  totFrames += frame;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 343, "user_id": 10557703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-V7BFHq8uYeQ/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDTF26XC8NostEXRBvsnuj3ac0msg/mo/photo.jpg?sz=128", "display_name": "Lesnie Sncheider", "link": "https://stackoverflow.com/users/10557703/lesnie-sncheider"}, "edited": false, "score": 0, "creation_date": 1577296849, "post_id": 59480697, "comment_id": 105138184, "body": "When I type into the input field nothing seems to get calculated. The value of <code>TotalFrames</code> is just <code>none</code>. I tried changing <code>onchange</code> to <code>onkeyup</code> and that just returns the value <code>NaN</code> when inputting the data onto the input field"}, {"owner": {"reputation": 141, "user_id": 12169933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hwo4e.jpg?s=128&g=1", "display_name": "Nisheanthan", "link": "https://stackoverflow.com/users/12169933/nisheanthan"}, "reply_to_user": {"reputation": 343, "user_id": 10557703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-V7BFHq8uYeQ/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDTF26XC8NostEXRBvsnuj3ac0msg/mo/photo.jpg?sz=128", "display_name": "Lesnie Sncheider", "link": "https://stackoverflow.com/users/10557703/lesnie-sncheider"}, "edited": false, "score": 0, "creation_date": 1577297333, "post_id": 59480697, "comment_id": 105138295, "body": "Can you share any stackblitz code snippets, so I can figure out exactly where are we getting the problem."}, {"owner": {"reputation": 343, "user_id": 10557703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-V7BFHq8uYeQ/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDTF26XC8NostEXRBvsnuj3ac0msg/mo/photo.jpg?sz=128", "display_name": "Lesnie Sncheider", "link": "https://stackoverflow.com/users/10557703/lesnie-sncheider"}, "edited": false, "score": 0, "creation_date": 1577298350, "post_id": 59480697, "comment_id": 105138514, "body": "Here you go. <a href=\"https://codesandbox.io/s/trusting-dust-y0yww?fontsize=14&amp;hidenavigation=1&amp;theme=dark\" rel=\"nofollow noreferrer\">codesandbox.io/s/&hellip;</a>  I dont use Angular and stuff like stackblitz use, so I just found something else. Hopes thats ok"}, {"owner": {"reputation": 343, "user_id": 10557703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-V7BFHq8uYeQ/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDTF26XC8NostEXRBvsnuj3ac0msg/mo/photo.jpg?sz=128", "display_name": "Lesnie Sncheider", "link": "https://stackoverflow.com/users/10557703/lesnie-sncheider"}, "edited": false, "score": 0, "creation_date": 1577300503, "post_id": 59480697, "comment_id": 105138941, "body": "Ah I noticed it assigns the value when you press enter on the input field, but the calculations are wrong now."}, {"owner": {"reputation": 141, "user_id": 12169933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hwo4e.jpg?s=128&g=1", "display_name": "Nisheanthan", "link": "https://stackoverflow.com/users/12169933/nisheanthan"}, "reply_to_user": {"reputation": 343, "user_id": 10557703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-V7BFHq8uYeQ/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDTF26XC8NostEXRBvsnuj3ac0msg/mo/photo.jpg?sz=128", "display_name": "Lesnie Sncheider", "link": "https://stackoverflow.com/users/10557703/lesnie-sncheider"}, "edited": false, "score": 0, "creation_date": 1577302472, "post_id": 59480697, "comment_id": 105139257, "body": "check this <a href=\"https://codesandbox.io/s/laughing-visvesvaraya-t90y7\" rel=\"nofollow noreferrer\">solution</a>"}, {"owner": {"reputation": 343, "user_id": 10557703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-V7BFHq8uYeQ/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDTF26XC8NostEXRBvsnuj3ac0msg/mo/photo.jpg?sz=128", "display_name": "Lesnie Sncheider", "link": "https://stackoverflow.com/users/10557703/lesnie-sncheider"}, "edited": false, "score": 0, "creation_date": 1577302991, "post_id": 59480697, "comment_id": 105139321, "body": "It does assign the values but only the first one are correct. If you keep adding values after it has run the function the first time, then it adds up the values instead of calculating just the data from the input only."}, {"owner": {"reputation": 141, "user_id": 12169933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hwo4e.jpg?s=128&g=1", "display_name": "Nisheanthan", "link": "https://stackoverflow.com/users/12169933/nisheanthan"}, "reply_to_user": {"reputation": 343, "user_id": 10557703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-V7BFHq8uYeQ/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDTF26XC8NostEXRBvsnuj3ac0msg/mo/photo.jpg?sz=128", "display_name": "Lesnie Sncheider", "link": "https://stackoverflow.com/users/10557703/lesnie-sncheider"}, "edited": false, "score": 1, "creation_date": 1577303455, "post_id": 59480697, "comment_id": 105139390, "body": "yeah, i see that issue. can you check the same link now."}, {"owner": {"reputation": 141, "user_id": 12169933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hwo4e.jpg?s=128&g=1", "display_name": "Nisheanthan", "link": "https://stackoverflow.com/users/12169933/nisheanthan"}, "reply_to_user": {"reputation": 343, "user_id": 10557703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-V7BFHq8uYeQ/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDTF26XC8NostEXRBvsnuj3ac0msg/mo/photo.jpg?sz=128", "display_name": "Lesnie Sncheider", "link": "https://stackoverflow.com/users/10557703/lesnie-sncheider"}, "edited": false, "score": 0, "creation_date": 1577345054, "post_id": 59480697, "comment_id": 105145686, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/204862/discussion-between-nisheanthan-and-lesnie-sncheider\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 141, "user_id": 12169933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hwo4e.jpg?s=128&g=1", "display_name": "Nisheanthan", "link": "https://stackoverflow.com/users/12169933/nisheanthan"}, "is_accepted": true, "score": 1, "last_activity_date": 1577297451, "last_edit_date": 1577297451, "creation_date": 1577296153, "answer_id": 59480697, "question_id": 59479981, "link": "https://stackoverflow.com/questions/59479981/automatically-calculate-value-on-input-using-onkeyup/59480697#59480697", "title": "Automatically calculate value on input using onkeyup", "body": "<p>I would suggest to call an onchange/onkeyup event to get the value of input field </p>\n\n<p>HTML,</p>\n\n<pre><code>&lt;input onkeyup=\"check()\" id=\"id_desiredFrames\"&gt; &lt;/input&gt;\n</code></pre>\n\n<p>JS,</p>\n\n<pre><code>var totFrames = 0;\n\nfunction check() {\n  var input = document.getElementById(\"id_desiredFrames\").value;  \n  var chunk = input.split(\";\")\n  chunk.forEach(processChunk);\n\n  document.getElementById(\"TotalFrames\").value = totFrames\n}\n\nfunction processChunk(chunk) {\n  var stepInfo = chunk.split(\",\");\n  var step = 1;\n  if(stepInfo.length &gt; 1)\n    step = stepInfo[1];\n\n  var range = stepInfo[0].split(\"-\");\n  var frame = Math.round((range[1]- range[0]+ 1) / step);\n  totFrames += frame;\n}\n</code></pre>\n\n<p>hope this is what you are looking for.</p>\n"}], "owner": {"reputation": 343, "user_id": 10557703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-V7BFHq8uYeQ/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDTF26XC8NostEXRBvsnuj3ac0msg/mo/photo.jpg?sz=128", "display_name": "Lesnie Sncheider", "link": "https://stackoverflow.com/users/10557703/lesnie-sncheider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 59480697, "answer_count": 2, "score": 0, "last_activity_date": 1577297451, "creation_date": 1577289882, "last_edit_date": 1577292649, "question_id": 59479981, "link": "https://stackoverflow.com/questions/59479981/automatically-calculate-value-on-input-using-onkeyup", "title": "Automatically calculate value on input using onkeyup", "body": "<p>I have some code that calculates the amount of frames based on some users input. I can get this to work when I input the data manually into the function, but I would like this to be calculated automatically via \"onkeyup\" on the input field, so I changed the code a little to do that, but it doesn't work. It throws the exception </p>\n\n<pre><code>Uncaught TypeError: Cannot read property 'split' of undefined\n    at processChunk (0eaace3b-4b4c-4c76-93c5-8e8921ae247c:309)\n    at HTMLInputElement.onkeyup (0eaace3b-4b4c-4c76-93c5-8e8921ae247c:213)\n</code></pre>\n\n<p>Script that has the issue.</p>\n\n<pre><code>    var input = document.getElementById(\"id_desiredFrames\").value;  \n    var totFrames = 0;\n\n    var chunk = input.split(\";\")\n    chunk.forEach(processChunk);\n\n    document.getElementById(\"TotalFrames\").value = totFrames\n\n    function processChunk(chunk) {\n      var stepInfo = chunk.split(\",\");\n      var step = 1;\n      if(stepInfo.length &gt; 1)\n        step = stepInfo[1];\n\n      var range = stepInfo[0].split(\"-\");\n      var frame = Math.round((range[1]- range[0]+ 1) / step);\n      totFrames += frame;\n    }\n</code></pre>\n\n<p>Script that works but with manual input data:</p>\n\n<pre><code>var input = \"1-4; 10-20,2\"\nvar totFrames = 0;\n\nvar chunk = input.split(\";\")\nchunk.forEach(processChunk);\n\nconsole.log(totFrames);\n\nfunction processChunk(chunk) {\n  var stepInfo = chunk.split(\",\");\n  var step = 1;\n  if(stepInfo.length &gt; 1)\n    step = stepInfo[1];\n\n  var range = stepInfo[0].split(\"-\");\n  var frame = Math.round((range[1]- range[0]+ 1) / step);\n  totFrames += frame;\n}\n</code></pre>\n\n<p><code>id_desiredFrames</code> is the input field on my form.\n   <code>TotalFrames</code> is a hidden field I would like the value to be passed on to, so I can get the value when the user POST</p>\n"}, {"tags": ["javascript", "function", "loops", "p5.js"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1577292503, "post_id": 59479968, "comment_id": 105137302, "body": "This is called &quot;projection&quot; and should be avoided at all costs. You should instead use a class, create instances and keep references to them in an array. What are these factors? What&#39;s toggling the visibility?"}], "answers": [{"tags": [], "owner": {"reputation": 581, "user_id": 6602027, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/6c18cd2f81be6cb962913797478d2b72?s=128&d=identicon&r=PG&f=1", "display_name": "Venkat Lokeswar", "link": "https://stackoverflow.com/users/6602027/venkat-lokeswar"}, "is_accepted": false, "score": 1, "last_activity_date": 1577290095, "creation_date": 1577290095, "answer_id": 59480007, "question_id": 59479968, "link": "https://stackoverflow.com/questions/59479968/how-to-loop-through-functions-by-name-in-p5js-javascript/59480007#59480007", "title": "How to loop through functions by name in P5js / JavaScript", "body": "<p>fci will be a string so the String class will not have a method show, You will get an exception. Instead </p>\n\n<p>You can write in this way</p>\n\n<pre><code>var factorObject = {\n  factor1Input:createInput(\"\")\n}\nfactorObject['factor1Input'].position(leftMargin, topMargin + 50);\n</code></pre>\n\n<p>For show </p>\n\n<pre><code>factorObject['factor1Input'].show();\n</code></pre>\n\n<p>Here in the loop</p>\n\n<pre><code> for (let i = 1; i &lt; factorCount; i++){\n      let fci = \"factor\" + i + \"Input\"; \n      factorObject[fci].show(); \n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 10898286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Njq78.png?s=128&g=1", "display_name": "Chris Amato", "link": "https://stackoverflow.com/users/10898286/chris-amato"}, "edited": false, "score": 0, "creation_date": 1577461040, "post_id": 59480122, "comment_id": 105178110, "body": "Actually, Max, it&#39;s close, but I&#39;m running into some other issues with this code. Can you take a look? <a href=\"https://editor.p5js.org/knectar/sketches/07YcpXUzS\" rel=\"nofollow noreferrer\">editor.p5js.org/knectar/sketches/07YcpXUzS</a> You&#39;ll see a warning in line 18. And then it looks like I&#39;m doing something wrong with capturing the array element value after updating (e.g.) the first input field."}, {"owner": {"reputation": 3115, "user_id": 8390411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdb4d2674d818861be4a4139469ebe59?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8390411/max"}, "reply_to_user": {"reputation": 105, "user_id": 10898286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Njq78.png?s=128&g=1", "display_name": "Chris Amato", "link": "https://stackoverflow.com/users/10898286/chris-amato"}, "edited": false, "score": 1, "creation_date": 1577491791, "post_id": 59480122, "comment_id": 105187019, "body": "that is just a warning about confusing semantics, but that is totally fine. There is another problem however, in my example I passed specific params to <code>factorUpdate</code> function so that you can use them to know which input was updated, but in your code you don&#39;t use them, so regardless of what event was updated,  the same <code>factorUpdate</code> will always run and log the first input. Edited my answer with simplified example"}, {"owner": {"reputation": 105, "user_id": 10898286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Njq78.png?s=128&g=1", "display_name": "Chris Amato", "link": "https://stackoverflow.com/users/10898286/chris-amato"}, "edited": false, "score": 0, "creation_date": 1577563463, "post_id": 59480122, "comment_id": 105200569, "body": "Thanks Max, this is now working as expected. It doesn&#39;t look like so many Update buttons are actually needed, <a href=\"https://editor.p5js.org/knectar/sketches/07YcpXUzS\" rel=\"nofollow noreferrer\">editor.p5js.org/knectar/sketches/07YcpXUzS</a>"}, {"owner": {"reputation": 105, "user_id": 10898286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Njq78.png?s=128&g=1", "display_name": "Chris Amato", "link": "https://stackoverflow.com/users/10898286/chris-amato"}, "edited": false, "score": 0, "creation_date": 1578068275, "post_id": 59480122, "comment_id": 105329853, "body": "hi Max, quick question, is there a way to rewrite the lamda function not as a lamda function? Also, for the line <code>function factorUpdate(i, event){</code> the code is working without the second &quot;event&quot; parameter. Is that param necessary?"}, {"owner": {"reputation": 3115, "user_id": 8390411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdb4d2674d818861be4a4139469ebe59?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8390411/max"}, "reply_to_user": {"reputation": 105, "user_id": 10898286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Njq78.png?s=128&g=1", "display_name": "Chris Amato", "link": "https://stackoverflow.com/users/10898286/chris-amato"}, "edited": false, "score": 0, "creation_date": 1578075654, "post_id": 59480122, "comment_id": 105333125, "body": "@ChrisAmato yes you can use classic function as well <code>function() { factorUpdate(i) }</code> and no, <code>event</code> param is not necessary if you are not using it"}], "tags": [], "owner": {"reputation": 3115, "user_id": 8390411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdb4d2674d818861be4a4139469ebe59?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8390411/max"}, "is_accepted": false, "score": 1, "last_activity_date": 1577492069, "last_edit_date": 1577492069, "creation_date": 1577291223, "answer_id": 59480122, "question_id": 59479968, "link": "https://stackoverflow.com/questions/59479968/how-to-loop-through-functions-by-name-in-p5js-javascript/59480122#59480122", "title": "How to loop through functions by name in P5js / JavaScript", "body": "<p>The reason why your code doesn't work is because you create a string and try to call it like a variable with the same name</p>\n\n<pre><code>let fci = \"factor\" + i + \"Input\"; \nfci.show(); // fci is just a string 'factor1Input', has nothing in common with factor1Input variable\n</code></pre>\n\n<p>You should use arrays <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array\" rel=\"nofollow noreferrer\">Arrays</a> and instead of keeping input number (e.g. index) inside a name, let it be the index of an item in the array</p>\n\n<pre><code>const factorCount = 10\nconst inputs = []\nconst buttons = []\n\n// example of creating inputs and buttons in a loop, you can create them manually if you want,\n// but don't forget to .push them to respective array\n\nfor (let i = 1; i &lt; factorCount; i++){\n  const input = createInput(\"\");\n  input.position(leftMargin, topMargin + 50 * i); // using index to calculate top margin\n  input.changed((value) =&gt; this.factorUpdate(i, value)); // notice the change here\n  inputs.push(input)\n  const button = createButton('Update Factor');\n  button.position(100, 100 + 50 * i); // also using index to calculate top margin\n  buttons.push(button)\n}\n\n\nfunction showInput(index) {\n  inputs[index].show()\n  buttons[index].show()\n}\n\nfunction hideInput(index) {\n  inputs[index].hide()\n  buttons[index].hide()\n}\n\nshowInput(3) // shows 3rd input and button\nhideInput(4) // hides 4th input and button\n</code></pre>\n\n<p>Notice also how I changed your <code>this.factor1update</code> method call. The same way you don't want to have 10 separate variables for 10 elements, you don't want to have 10 methods to handle changes on those 10 elements (what if there was 10000 elements?). Instead, create one method <code>factorUpdate</code> that will receive item index and the value that was changed and use that to handle the input change</p>\n\n<hr>\n\n<p>added:</p>\n\n<pre><code>for (let i = 0; i &lt; factorCount; i++){ // changed 1 to 0 here, it was a typo\n  const input = createInput(\"\");\n  input.position(leftMargin, topMargin + 50 * i);\n  input.changed(() =&gt; factorUpdate(i)); // we call factorUpdate with index of an element\n  inputs.push(input)\n  const button = createButton('Update Factor');\n  button.position(185, topMargin + 50 * i);\n  buttons.push(button)\n}\n\nfunction factorUpdate(i, event){\n  // argument i is now an index of unfocused input\n  console.log(\"input index: \" + i + \", value: \" + inputs[i].value());\n}\n</code></pre>\n\n<p>Note also how <code>input.changed()</code> works: you edit the input, then you click somewhere else on the page to unfocus it, and that's when this event is triggered. With that in mind, buttons here don't actually do anything as there are no click listeners assigned to them</p>\n"}], "owner": {"reputation": 105, "user_id": 10898286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Njq78.png?s=128&g=1", "display_name": "Chris Amato", "link": "https://stackoverflow.com/users/10898286/chris-amato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1577492069, "creation_date": 1577289778, "question_id": 59479968, "link": "https://stackoverflow.com/questions/59479968/how-to-loop-through-functions-by-name-in-p5js-javascript", "title": "How to loop through functions by name in P5js / JavaScript", "body": "<p>I'm working on a basic P5 program that requires up to ten input boxes. </p>\n\n<p>So I need to first create the button instances, using e.g.  </p>\n\n<pre><code>  factor1Input = createInput(\"\"); // create DOM element for input field\n  factor1Input.position(leftMargin, topMargin + 50); // place button on screen\n  factor1Input.changed(this.factor1update); // call function when value changes\n  factor1Button = createButton('Update Factor'); // create DOM element for button\n  factor1Button.position(100, 100); // position button\n</code></pre>\n\n<p>Then toggle their visibility using e.g. </p>\n\n<pre><code>    factor1Input.show(); // toggle display on\n    factor1Button.show();\n\n    factor1Input.hide(); // or toggle it off \n    factor1Button.hide();\n</code></pre>\n\n<p>But because I'll have up to 10, this will require a ton of repetitive code. </p>\n\n<p>So I want to create a loop that goes something like (e.g. just for the show function); </p>\n\n<pre><code>    for (let i = 1; i &lt; factorCount; i++){\n      let fci = \"factor\" + i + \"Input\"; \n      let fcb = \"factor\" + i + \"Button\"; \n\n      fci.show(); \n      fcb.show(); \n    }\n</code></pre>\n\n<p>But I'm getting the following error: </p>\n\n<pre><code>Uncaught TypeError: fci.show is not a function\n</code></pre>\n\n<p>Which suggests some kind of type mismatch, i.e. I can't seem to just compile a string, and have this recognized as the JavaScript function. </p>\n\n<p>Any suggestions? </p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 4645, "user_id": 11998782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZZ3Di.png?s=128&g=1", "display_name": "Shiny", "link": "https://stackoverflow.com/users/11998782/shiny"}, "edited": false, "score": 1, "creation_date": 1577289738, "post_id": 59479939, "comment_id": 105136725, "body": "<code>.toString()</code> - It&#39;s a method, not a property, so you need the brackets"}, {"owner": {"reputation": 1, "user_id": 12282866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e0f1daceabc5fdab2f6a8be62d6a8a9?s=128&d=identicon&r=PG&f=1", "display_name": "AlDAan", "link": "https://stackoverflow.com/users/12282866/aldaan"}, "edited": false, "score": 0, "creation_date": 1577289937, "post_id": 59479939, "comment_id": 105136775, "body": "<a href=\"https://jsfiddle.net/gure8y6v/\" rel=\"nofollow noreferrer\">jsfiddle.net/gure8y6v</a>"}, {"owner": {"reputation": 137, "user_id": 4027605, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "SPS", "link": "https://stackoverflow.com/users/4027605/sps"}, "edited": false, "score": 1, "creation_date": 1577292771, "post_id": 59479939, "comment_id": 105137367, "body": "In your renderLists function you are using list.name but your items in lists are string. So when you are pushing txt in lists you need to insert as object"}], "answers": [{"tags": [], "owner": {"reputation": 4645, "user_id": 11998782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZZ3Di.png?s=128&g=1", "display_name": "Shiny", "link": "https://stackoverflow.com/users/11998782/shiny"}, "is_accepted": false, "score": 0, "last_activity_date": 1577293804, "last_edit_date": 1577293804, "creation_date": 1577292776, "answer_id": 59480299, "question_id": 59479939, "link": "https://stackoverflow.com/questions/59479939/trouble-with-storage-with-prompt/59480299#59480299", "title": "trouble with storage with prompt", "body": "<p>Your error seems to be in the renderLists function, which is on the JSFiddle that you linked in the comments. You're looping over your <code>lists</code> Array, which contains the input String - But you're trying to access properties as if it was an Object; which is instead giving you <code>undefined</code></p>\n\n<p>You have <code>createList</code>which will turn that input into an Object with the current keys, so I assume you meant to include that</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>output.addEventListener('click', e =&gt; {\n    let txt = prompt('Enter what you want to do ^^').toString();\n    lists.push(createList(txt));\n    saveAndRender();\n});\n\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/y2mu5sz3/\" rel=\"nofollow noreferrer\">Here is an updated JSFiddle</a></p>\n"}], "owner": {"reputation": 1, "user_id": 12282866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e0f1daceabc5fdab2f6a8be62d6a8a9?s=128&d=identicon&r=PG&f=1", "display_name": "AlDAan", "link": "https://stackoverflow.com/users/12282866/aldaan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577293804, "creation_date": 1577289524, "last_edit_date": 1577290025, "question_id": 59479939, "link": "https://stackoverflow.com/questions/59479939/trouble-with-storage-with-prompt", "title": "trouble with storage with prompt", "body": "<p>i need when i click on input then must prompt and result transferred to storage, help me please, i tried to find this resolve in google but no use:(</p>\n\n<pre><code>const output = document.querySelector('[data-output]');\n\nconst LOCAL_STORAGE_LIST_KEY = 'task.lists';\nconst LOCAL_STORAGE_SELECTED_LIST_ID_KEY = 'task.selectedListId';\nlet lists = JSON.parse(localStorage.getItem(LOCAL_STORAGE_LIST_KEY)) || [];\nlet selectedListId = localStorage.getItem(LOCAL_STORAGE_SELECTED_LIST_ID_KEY);\n\noutput.addEventListener('click', e =&gt; {\n    let txt = prompt('Enter what you want to do ^^').toString();\n    lists.push(txt);\n    saveAndRender();\n});\n</code></pre>\n"}, {"tags": ["javascript", "recursion"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1577289696, "post_id": 59479936, "comment_id": 105136712, "body": "In the base case, <code>countdown</code> returns the empty array literal <code>[]</code>. This is what will get assigned to <code>arr</code>."}, {"owner": {"reputation": 11633, "user_id": 34806, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d07730fff34f9fff3cbf1c72d5dfe74a?s=128&d=identicon&r=PG", "display_name": "Dexygen", "link": "https://stackoverflow.com/users/34806/dexygen"}, "edited": false, "score": 2, "creation_date": 1577289713, "post_id": 59479936, "comment_id": 105136715, "body": "&quot;I understand the concept of recursion.&quot;  Not to be rude, but given what you are stuck on, I&#39;d argue that you <i>don&#39;t</i> understand the concept very well.  Hint: what does countdown return especially in the if block"}], "answers": [{"tags": [], "owner": {"reputation": 10568, "user_id": 2951933, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6HrRg.png?s=128&g=1", "display_name": "Eugen Sunic", "link": "https://stackoverflow.com/users/2951933/eugen-sunic"}, "is_accepted": false, "score": 0, "last_activity_date": 1577294049, "last_edit_date": 1577294049, "creation_date": 1577290181, "answer_id": 59480016, "question_id": 59479936, "link": "https://stackoverflow.com/questions/59479936/i-dont-understand-this-case-of-recursion/59480016#59480016", "title": "I don&#39;t understand this case of recursion", "body": "<blockquote>\n  <p>What bugs me is that I don't get when or how const arr becomes and\n  array.</p>\n</blockquote>\n\n<p>See the base case returns an empty array? This is where it all starts, thanks to that you are able to proceed with the array structure once the code returns from the recursive calls.</p>\n\n<p><strong>Code explanation</strong></p>\n\n<p>Unshift will append at zeroth index the LIFO, meaning</p>\n\n<p>the last which was in is 1 and it will be added to the array, after that the array will add number 2 at zeroth index and at second index you'll have number 1, after that number 3 will be added at zeroth index, second index will be number 2, and last index will contain number 1. Now you see the pattern...</p>\n\n<p>Try to console.log in between</p>\n\n<pre><code>function countDown(n) {\n  if (n &lt; 1) {\n    return [];\n  } else {\n    const countArray = countDown(n - 1);\n    console.log(n)\n    countArray.unshift(n);\n    return countArray;\n  }\n}\nconsole.log(countDown(5));\n</code></pre>\n\n<p>If you are more used to ES6+ syntax, add the first element n at the first position of the array and de-structure the rest.</p>\n\n<pre><code>function countDown(n) {\n  if (n &lt; 1) {\n    return [];\n  } else {\n    const countArray=[n,...countDown(n - 1)];\n    return countArray;\n  }\n}\nconsole.log(countDown(5));\n</code></pre>\n\n<p>And at last, you can make it a one liner with ternary operators:</p>\n\n<pre><code>const countDown = (n) =&gt; n &lt; 1 ? [] : [n, ...countDown(n - 1)];\nconsole.log(countDown(5));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 12596248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00ec442b1e87653311a5b19dfd2ab1e8?s=128&d=identicon&r=PG&f=1", "display_name": "xgreed", "link": "https://stackoverflow.com/users/12596248/xgreed"}, "edited": false, "score": 0, "creation_date": 1577296680, "post_id": 59480562, "comment_id": 105138152, "body": "Thanks for detailing the loop. Makes it clearer but the one detail that bugs me is: arr is [] at the 3rd loop. I know that the function will eventually return an empty array but I don&#39;t know why this empty array is assigned to arr."}, {"owner": {"reputation": 10320, "user_id": 818326, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ace3174f4519bdd2a622e1f14b2ebbae?s=128&d=identicon&r=PG", "display_name": "symlink", "link": "https://stackoverflow.com/users/818326/symlink"}, "reply_to_user": {"reputation": 15, "user_id": 12596248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00ec442b1e87653311a5b19dfd2ab1e8?s=128&d=identicon&r=PG&f=1", "display_name": "xgreed", "link": "https://stackoverflow.com/users/12596248/xgreed"}, "edited": false, "score": 0, "creation_date": 1577296776, "post_id": 59480562, "comment_id": 105138176, "body": "@xgreed Did you see my update at the end that I made a few minutes ago? I go over that a bit."}, {"owner": {"reputation": 15, "user_id": 12596248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00ec442b1e87653311a5b19dfd2ab1e8?s=128&d=identicon&r=PG&f=1", "display_name": "xgreed", "link": "https://stackoverflow.com/users/12596248/xgreed"}, "edited": false, "score": 0, "creation_date": 1577297359, "post_id": 59480562, "comment_id": 105138302, "body": "countdown(2) =&gt; const arr = countdown(1) =&gt; const arr = countdown(0) =&gt; return []. countdown(0) returns an empty array that is assigned to arr and once that &quot;loop&quot; ends, countdown(1) arr.unshift adds 1 to arr and ....."}, {"owner": {"reputation": 10320, "user_id": 818326, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ace3174f4519bdd2a622e1f14b2ebbae?s=128&d=identicon&r=PG", "display_name": "symlink", "link": "https://stackoverflow.com/users/818326/symlink"}, "reply_to_user": {"reputation": 15, "user_id": 12596248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00ec442b1e87653311a5b19dfd2ab1e8?s=128&d=identicon&r=PG&f=1", "display_name": "xgreed", "link": "https://stackoverflow.com/users/12596248/xgreed"}, "edited": false, "score": 0, "creation_date": 1577302285, "post_id": 59480562, "comment_id": 105139231, "body": "@xgreed Yes, exactly"}], "tags": [], "owner": {"reputation": 10320, "user_id": 818326, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ace3174f4519bdd2a622e1f14b2ebbae?s=128&d=identicon&r=PG", "display_name": "symlink", "link": "https://stackoverflow.com/users/818326/symlink"}, "is_accepted": false, "score": 0, "last_activity_date": 1577296505, "last_edit_date": 1577296505, "creation_date": 1577294836, "answer_id": 59480562, "question_id": 59479936, "link": "https://stackoverflow.com/questions/59479936/i-dont-understand-this-case-of-recursion/59480562#59480562", "title": "I don&#39;t understand this case of recursion", "body": "<p>Let's follow the pattern for a relatively simple call. Here again is the function:</p>\n\n<pre><code>function countdown(n) {\n  if (n &lt; 1) {\n    return [];\n  } else {\n    const arr = countdown(n - 1);\n    arr.unshift(n);\n    return arr;\n  }\n}\n</code></pre>\n\n<p>Say you call <code>countdown(2)</code>:</p>\n\n<h3>Loop 1:</h3>\n\n<p>1a) n is not less than 1</p>\n\n<p>1b) an arr is initialized and set to countdown(1)</p>\n\n<h3>Loop 2:</h3>\n\n<p>2a) n is not less than 1</p>\n\n<p>2b) an arr is initialized and set to countdown(0)</p>\n\n<h3>Loop 3:</h3>\n\n<p>3a) n is less than 1</p>\n\n<p>3b) an empty array is returned to loop 2</p>\n\n<blockquote>\n  <p>arr is []</p>\n</blockquote>\n\n<h3>Loop 2 cont.</h3>\n\n<p>2c) arr.unshift adds the number 2 to the start of the array. </p>\n\n<blockquote>\n  <p>arr is [2]</p>\n</blockquote>\n\n<p>2d) arr is returned to loop 1</p>\n\n<h3>Loop 1 cont.</h3>\n\n<p>1c) arr.unshift adds the number 1 to the start of the array. </p>\n\n<blockquote>\n  <p>array is [1,2]</p>\n</blockquote>\n\n<p>1d) arr is returned to function call</p>\n\n<p>So if you wrote <code>let result = countdown(2)</code> and <code>console.log(result)</code>, you will get: <code>[1,2]</code></p>\n\n<blockquote>\n  <p>What bugs me is that I don't get when or how const arr becomes and\n  array.</p>\n</blockquote>\n\n<p>Look at steps 3b, 2b, and 2c:</p>\n\n<p><code>3b) an empty array is returned to loop 2</code></p>\n\n<p><code>2b) an arr is initialized and set to countdown(0)</code></p>\n\n<p><code>2c) arr.unshift adds the number 2 to the start of the array.</code></p>\n\n<p>An empty array is set to <code>const arr</code>, then the number 2 is added to that array.</p>\n\n<p>Now look at steps 2d and 1c:</p>\n\n<p><code>2d) arr is returned to loop 1</code></p>\n\n<p><code>1c) arr.unshift adds the number 1 to the start of the array.</code></p>\n\n<p>That array is set to a <strong>new</strong> array like this (<code>const arr = [2]</code>) and the number 1 is added to that array. Finally in 1d, that new array is returned to the expression that called the function. For every recursive loop you have something like this:</p>\n\n<p><code>const arr = something</code></p>\n\n<p><code>new const arr = old const arr</code></p>\n"}], "owner": {"reputation": 15, "user_id": 12596248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00ec442b1e87653311a5b19dfd2ab1e8?s=128&d=identicon&r=PG&f=1", "display_name": "xgreed", "link": "https://stackoverflow.com/users/12596248/xgreed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 372, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1577296505, "creation_date": 1577289481, "question_id": 59479936, "link": "https://stackoverflow.com/questions/59479936/i-dont-understand-this-case-of-recursion", "title": "I don&#39;t understand this case of recursion", "body": "<p>This is a solution from this <a href=\"https://www.freecodecamp.org/learn/javascript-algorithms-and-data-structures/basic-javascript/use-recursion-to-create-a-countdown\" rel=\"nofollow noreferrer\">exercice</a> on FreeCodeCamp</p>\n\n<pre><code>function countdown(n) {\n  if (n &lt; 1) {\n    return [];\n  } else {\n    const arr = countdown(n - 1);\n    arr.unshift(n);\n    return arr;\n  }\n}\n</code></pre>\n\n<p>I understand the concept of recursion. I get that the function countdown will be repeated until n &lt; 1 and the following command arr.unshift(n) will be executed once all possible values of n will be evaluated. What bugs me is that I don't get when or how const arr becomes and array.</p>\n"}, {"tags": ["javascript", "reactjs", "material-ui", "mui"], "answers": [{"comments": [{"owner": {"reputation": 116, "user_id": 1813201, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/abfdaf374e584e575cbaaf2cbfc3b0a7?s=128&d=identicon&r=PG&f=1", "display_name": "Hola", "link": "https://stackoverflow.com/users/1813201/hola"}, "edited": false, "score": 0, "creation_date": 1577387712, "post_id": 59492059, "comment_id": 105159309, "body": "I am using the theme. I would like to change the theme at the run time"}, {"owner": {"reputation": 407, "user_id": 6857436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NVdWq.jpg?s=128&g=1", "display_name": "Tayyab Razzaq", "link": "https://stackoverflow.com/users/6857436/tayyab-razzaq"}, "reply_to_user": {"reputation": 116, "user_id": 1813201, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/abfdaf374e584e575cbaaf2cbfc3b0a7?s=128&d=identicon&r=PG&f=1", "display_name": "Hola", "link": "https://stackoverflow.com/users/1813201/hola"}, "edited": false, "score": 0, "creation_date": 1577423640, "post_id": 59492059, "comment_id": 105166072, "body": "You can have a simple state in your component and can decide on the base of that which theme you want to provide. I&#39;ve updated the answer to providing theme bases on state."}, {"owner": {"reputation": 90, "user_id": 8750548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49Gx6.png?s=128&g=1", "display_name": "rsedlr", "link": "https://stackoverflow.com/users/8750548/rsedlr"}, "edited": false, "score": 0, "creation_date": 1589203715, "post_id": 59492059, "comment_id": 109191475, "body": "I&#39;m new to react so sorry if this is obvious, but how would you call &#39;handleDarkThemeChanged&#39; from within the App component?"}, {"owner": {"reputation": 407, "user_id": 6857436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NVdWq.jpg?s=128&g=1", "display_name": "Tayyab Razzaq", "link": "https://stackoverflow.com/users/6857436/tayyab-razzaq"}, "edited": false, "score": 0, "creation_date": 1589216901, "post_id": 59492059, "comment_id": 109199640, "body": "you can add a Switch Button and on click of it trigger the function."}], "tags": [], "owner": {"reputation": 407, "user_id": 6857436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NVdWq.jpg?s=128&g=1", "display_name": "Tayyab Razzaq", "link": "https://stackoverflow.com/users/6857436/tayyab-razzaq"}, "is_accepted": false, "score": 0, "last_activity_date": 1577423736, "last_edit_date": 1577423736, "creation_date": 1577384594, "answer_id": 59492059, "question_id": 59479897, "link": "https://stackoverflow.com/questions/59479897/how-to-configure-material-ui-theme-on-the-fly/59492059#59492059", "title": "How to configure material-ui theme on the fly?", "body": "<p>You can use <a href=\"https://material-ui.com/customization/theming/#theme-provider\" rel=\"nofollow noreferrer\">theme-provider</a> to create &amp; provide the theme to your app. Basic code to create &amp; provide theme is given below.</p>\n\n<pre><code>import { MuiThemeProvider } from '@material-ui/core';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport App from './App';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: '#757ce8',\n      main: '#3f50b5',\n      dark: '#002884',\n      contrastText: '#fff',\n    },\n    secondary: {\n      light: '#ff7961',\n      main: '#f44336',\n      dark: '#ba000d',\n      contrastText: '#000',\n    },\n  },\n});\n\nexport default props =&gt; (\n  &lt;MuiThemeProvider theme={theme}&gt;\n    &lt;App {...props}/&gt;\n  &lt;/MuiThemeProvider&gt;\n);\n</code></pre>\n\n<p>where App is your main app component.</p>\n\n<p>if you have multiple themes then you have to maintain a state where you will define which theme you want to provide.</p>\n\n<pre><code>import { MuiThemeProvider } from '@material-ui/core';\nimport React, { useState } from 'react';\nimport DarkTheme from './DarkTheme';\nimport LightTheme from './LightTheme';\nimport App from './App';\n\nexport default props =&gt; {\n    const [darkTheme, setDarkTheme] = useState(false);\n    return (\n        &lt;MuiThemeProvider theme={darkTheme ? DarkTheme : LightTheme}&gt;\n            &lt;App\n                {...props}\n                darkTheme={darkTheme}\n                handleDarkThemeChanged={setDarkTheme}/&gt;\n        &lt;/MuiThemeProvider&gt;\n    );\n};\n</code></pre>\n"}], "owner": {"reputation": 116, "user_id": 1813201, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/abfdaf374e584e575cbaaf2cbfc3b0a7?s=128&d=identicon&r=PG&f=1", "display_name": "Hola", "link": "https://stackoverflow.com/users/1813201/hola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 349, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577423736, "creation_date": 1577289273, "question_id": 59479897, "link": "https://stackoverflow.com/questions/59479897/how-to-configure-material-ui-theme-on-the-fly", "title": "How to configure material-ui theme on the fly?", "body": "<p>What would be the approach to configure the material-ui theme object on the fly?</p>\n\n<p>That behavior is implemented when a user clicks on the button \"set docs colors\" on <a href=\"https://material-ui.com/customization/color/#color-tool\" rel=\"nofollow noreferrer\">the documentation page</a> of the mui.</p>\n"}, {"tags": ["javascript", "firebase", "google-cloud-firestore", "firebase-security"], "comments": [{"owner": {"reputation": 4701, "user_id": 3662110, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/I19Jk.jpg?s=128&g=1", "display_name": "jmargolisvt", "link": "https://stackoverflow.com/users/3662110/jmargolisvt"}, "edited": false, "score": 0, "creation_date": 1577290036, "post_id": 59479872, "comment_id": 105136797, "body": "Can you be more specific about what is unclear in the docs?  What have you tried that isn&#39;t working the way you&#39;d expect?"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1577293878, "post_id": 59479872, "comment_id": 105137608, "body": "It&#39;s up to you to translate your security requirements into rules.  Please make an attempt at doing this, and if what you&#39;re doing isn&#39;t working the way you expect, post a question with the rules and code.  Start with the documentation: <a href=\"https://firebase.google.com/docs/firestore/security/get-started\" rel=\"nofollow noreferrer\">firebase.google.com/docs/firestore/security/get-started</a>"}, {"owner": {"reputation": 55, "user_id": 6711857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0efa2d95e364bab6d87b5f085a6b157?s=128&d=identicon&r=PG&f=1", "display_name": "SuperPykkon", "link": "https://stackoverflow.com/users/6711857/superpykkon"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1577296072, "post_id": 59479872, "comment_id": 105138029, "body": "I used the docs again along with the accepted answer&#39;s rules to modify it a bit and make it work (I think), thanks for that! @DougStevenson"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 6711857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0efa2d95e364bab6d87b5f085a6b157?s=128&d=identicon&r=PG&f=1", "display_name": "SuperPykkon", "link": "https://stackoverflow.com/users/6711857/superpykkon"}, "edited": false, "score": 0, "creation_date": 1577294932, "post_id": 59480008, "comment_id": 105137816, "body": "Hello, I went through the docs again before you posted this and I think I somewhat understand it. So I&#39;m kind of confused with the update, delete rule for comments and posts because the name for those docs are a randomly generated token from javascript and not &quot;request.auth.uid&quot;. It then gets the uid which is another randomly generated string from javascript and compares it to the auth uid. Like i&#39;ve mentioned. there are 2 different uids for all users. But I have to really thank you for this as it has given me something to start with, I will try to modify this and let you know if it works!"}, {"owner": {"reputation": 55, "user_id": 6711857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0efa2d95e364bab6d87b5f085a6b157?s=128&d=identicon&r=PG&f=1", "display_name": "SuperPykkon", "link": "https://stackoverflow.com/users/6711857/superpykkon"}, "edited": false, "score": 0, "creation_date": 1577295998, "post_id": 59480008, "comment_id": 105138009, "body": "I edited the question with the modified rules, it works (I think). Thanks again!"}, {"owner": {"reputation": 1884, "user_id": 2931124, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/GEdNT.jpg?s=128&g=1", "display_name": "ked", "link": "https://stackoverflow.com/users/2931124/ked"}, "reply_to_user": {"reputation": 55, "user_id": 6711857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0efa2d95e364bab6d87b5f085a6b157?s=128&d=identicon&r=PG&f=1", "display_name": "SuperPykkon", "link": "https://stackoverflow.com/users/6711857/superpykkon"}, "edited": false, "score": 0, "creation_date": 1577341041, "post_id": 59480008, "comment_id": 105144626, "body": "ok, glad that it worked, write rule is generalised rule for create, update and delete. so u can either use write or if u want more granular rules, u can use 3 rules"}, {"owner": {"reputation": 1884, "user_id": 2931124, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/GEdNT.jpg?s=128&g=1", "display_name": "ked", "link": "https://stackoverflow.com/users/2931124/ked"}, "reply_to_user": {"reputation": 55, "user_id": 6711857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0efa2d95e364bab6d87b5f085a6b157?s=128&d=identicon&r=PG&f=1", "display_name": "SuperPykkon", "link": "https://stackoverflow.com/users/6711857/superpykkon"}, "edited": false, "score": 0, "creation_date": 1577341247, "post_id": 59480008, "comment_id": 105144678, "body": "i have suggested a edit for your rules, for please check the edit"}], "tags": [], "owner": {"reputation": 1884, "user_id": 2931124, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/GEdNT.jpg?s=128&g=1", "display_name": "ked", "link": "https://stackoverflow.com/users/2931124/ked"}, "is_accepted": true, "score": 1, "last_activity_date": 1577290097, "creation_date": 1577290097, "answer_id": 59480008, "question_id": 59479872, "link": "https://stackoverflow.com/questions/59479872/google-firestore-rules-for-a-class-blog/59480008#59480008", "title": "Google Firestore rules for a class blog", "body": "<p>Check out the following rules you can use for your firestore database</p>\n\n<pre><code>service cloud.firestore {\n  match /databases/{database}/documents {\n//create document id with users UID assigned by firestore, while creating a users document, this rules allows users to read and write only their data\n    match /users/{userId} {\n      allow read, write: if request.auth.uid == userId;\n    }\n//post id is random id generated by firebase\n    match /posts/{postId} {\n      //allows authenticated users to create or read posts\n      allow read, create: if request.auth.uid != null;\n      //allows users to update or delete only their posts.\n      allow update, delete: if get(/databases/$(database)/documents/posts/$(request.auth.uid)).data.uid == request.auth.uid;\n    }\n//comment id is random id generated by firebase\n    match /comments/{commentId} {\n      //allows authenticated users to create or read comments\n      allow read, create: if request.auth.uid != null;\n      //allows users to update or delete only their comments.\n      allow update, delete: if get(/databases/$(database)/documents/posts/$(request.auth.uid)).data.uid == request.auth.uid;\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 6711857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0efa2d95e364bab6d87b5f085a6b157?s=128&d=identicon&r=PG&f=1", "display_name": "SuperPykkon", "link": "https://stackoverflow.com/users/6711857/superpykkon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 59480008, "answer_count": 1, "score": 1, "last_activity_date": 1577295933, "creation_date": 1577289068, "last_edit_date": 1577295933, "question_id": 59479872, "link": "https://stackoverflow.com/questions/59479872/google-firestore-rules-for-a-class-blog", "title": "Google Firestore rules for a class blog", "body": "<p>I volunteered to make a class blog for my English class where everyone can make an account and post stuff. I used Google firebase for this, the Authentication and Firestore. Anyone can sign up and post their thing. Everything works fine except for the database security rules, right now, it's on <strong>test mode</strong> so anyone can do anything to the data.</p>\n\n<p>The structure of it is:</p>\n\n<p>/users/{Authentication UID}:\n- joined\n- name\n- uid (this is a token generated from javascript used for the profile page and others)</p>\n\n<p>/posts/{PID}:\n- date\n- pid\n- post\n- title\n- uid</p>\n\n<p>/comments/{PID}:\n- comment\n- date\n- pid\n- uid</p>\n\n<p>To clear up some things: there are two uids, one as the document name which is from the Authentication and another which is a token generated from JavaScript used for the posts, comments and profile page.</p>\n\n<p>All I ask for is one simple thing. <strong>What rules should I use to secure the data?</strong> I had a look at the firebase docs but ended up with no luck. </p>\n\n<p><strong>EDIT 1:</strong> Changed the accepted answer's rules a bit and got it working (I think):</p>\n\n<pre><code>rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n      allow read: if true;\n    }\n\n    match /users/{userId} {\n      allow write: if request.auth.uid == userId;\n    }\n    match /posts/{postId} {\n      allow create: if request.auth.uid != null;\n      allow update, delete: if get(/databases/$(database)/documents/users/$(request.auth.uid)).data.uid == resource.data.uid;\n    }\n    match /comments/{commentId} {\n      allow create: if request.auth.uid != null;\n      allow update, delete: if get(/databases/$(database)/documents/users/$(request.auth.uid)).data.uid == resource.data.uid;\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "graphql"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1577288967, "post_id": 59479816, "comment_id": 105136551, "body": "Yes, you can do that, but no, you really shouldn&#39;t. A geolocation is a tuple of exactly two numbers, it should be an object with <code>longitude</code> and <code>latitude</code> properties, not an array/list of arbitrarily many numbers."}, {"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1577289311, "post_id": 59479816, "comment_id": 105136625, "body": "@Bergi that&#39;s how Google&#39;s location API returns the geolocation I believe. It&#39;s a bit of old code I&#39;m relearning. Also, could you point me in the direction of the documentation or even just writing the answer? Thanks."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1577289551, "post_id": 59479816, "comment_id": 105136681, "body": "What kind of &quot;documentation&quot; do you expect?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1577289599, "post_id": 59479816, "comment_id": 105136688, "body": "Even if Google&#39;s location API does that, in GraphQL it&#39;s much better represented using a custom Scalar type (that only permits numeric arrays of length 2)."}, {"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1577290175, "post_id": 59479816, "comment_id": 105136837, "body": "@Bergi What&#39;s the code to force convert a String into Float? Where should I put the conversion? And I think you&#39;re right. Having longitude/latitude object is going to be much more clear going forward. I think either Google or PostgreSQL has their geolocation arrays in the wrong order, because they map differently if you put their coordinates in."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1577291423, "post_id": 59479816, "comment_id": 105137074, "body": "<a href=\"https://stackoverflow.com/questions/642650/how-to-convert-string-into-float-in-javascript/642674#642674\" title=\"how to convert string into float in javascript\">stackoverflow.com/questions/642650/&hellip;</a>"}, {"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1577319802, "post_id": 59479816, "comment_id": 105141794, "body": "@Bergi I mean in GraphQL, before it tries to parse the data"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1577362121, "post_id": 59479816, "comment_id": 105151030, "body": "If you use a custom scalar, you can use a custom parser and serialiser. Not sure what you mean by &quot;<i>before GraphQL tries to parse the data</i>&quot;? You should probably bring it to the right format <i>before</i> passing it to GraphQL."}], "answers": [{"tags": [], "owner": {"reputation": 659, "user_id": 1506675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed0d1fa4a084cbafe33d3e58d03ddee3?s=128&d=identicon&r=PG", "display_name": "Markus Madeja", "link": "https://stackoverflow.com/users/1506675/markus-madeja"}, "is_accepted": false, "score": 1, "last_activity_date": 1578037666, "last_edit_date": 1578037666, "creation_date": 1577974010, "answer_id": 59564710, "question_id": 59479816, "link": "https://stackoverflow.com/questions/59479816/graphql-convert-strings-to-floats-in-args/59564710#59564710", "title": "GraphQL convert Strings to Floats in args", "body": "<p>You can convert your Strings to Floats right before using them:</p>\n\n\n\n<pre><code>async resolve (\n    _,\n    args,\n    req\n)\n{\n    const results =\n        await findMaps(args.map(parseFloat))\n\n    return results\n}\n</code></pre>\n\n<p>You could also analyse them and throw an exception if needed.</p>\n"}], "owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 415, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1578037666, "creation_date": 1577288476, "question_id": 59479816, "link": "https://stackoverflow.com/questions/59479816/graphql-convert-strings-to-floats-in-args", "title": "GraphQL convert Strings to Floats in args", "body": "<p>Currently, I'm taking geolocation coordinates from my GET url parameters, which actually them into strings. i.e. </p>\n\n<p>For a url like this:\n<code>www.example.com?geolocation=-23.12345&amp;geolocation=12.12345</code></p>\n\n<p>it converts it into: <code>[\"-23.12345\", \"12.12345\"]</code></p>\n\n<p>Is it possible to just send it as an array of strings, which GraphQL can then reformat before testing it?</p>\n\n<p>Here's a bit of my GraphQL code:</p>\n\n<pre><code>const geolocation =\n    graphql.GraphQLNonNull(\n        graphql.GraphQLList(\n            graphql.GraphQLNonNull(\n                graphql.GraphQLFloat\n            )\n        )\n    )\n\nvar query =\n    new graphql.GraphQLObjectType({\n        name: \"Query\",\n        fields:\n        {\n            findMaps:\n            {\n                args:\n                {\n                    geolocation:\n                    {\n                        type:\n                            geolocation,\n                    },\n                },\n                type:\n                    convertToManyType(\n                        map,\n                        \"map\"\n                    ),\n                async resolve (\n                    _,\n                    args,\n                    req\n                )\n                {\n                    const results =\n                        await findMaps(args)\n\n                    return results\n                }\n            }\n        }\n    })\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "gatsby"], "comments": [{"owner": {"reputation": 3581, "user_id": 1880380, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/BLlZi.jpg?s=128&g=1", "display_name": "Mindastic", "link": "https://stackoverflow.com/users/1880380/mindastic"}, "edited": false, "score": 0, "creation_date": 1577289106, "post_id": 59479786, "comment_id": 105136575, "body": "All your <code>import</code>s in your component can be changed to <code>require</code> and that will make it be compatible (and will continue to work in the same way). I am not sure if your component will work inside your plugin though, but at least you can try."}, {"owner": {"reputation": 584, "user_id": 12196394, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qja1waQENLA/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJN2mwD5Nl3ZL9IKs3QcvzCi8nM3Jg/photo.jpg?sz=128", "display_name": "Jojolatino", "link": "https://stackoverflow.com/users/12196394/jojolatino"}, "reply_to_user": {"reputation": 3581, "user_id": 1880380, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/BLlZi.jpg?s=128&g=1", "display_name": "Mindastic", "link": "https://stackoverflow.com/users/1880380/mindastic"}, "edited": false, "score": 0, "creation_date": 1577289628, "post_id": 59479786, "comment_id": 105136700, "body": "@Mindastic Now it says unexpected token &#39;&lt;&#39; maybe JSX isn&#39;t supported?"}], "owner": {"reputation": 584, "user_id": 12196394, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qja1waQENLA/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJN2mwD5Nl3ZL9IKs3QcvzCi8nM3Jg/photo.jpg?sz=128", "display_name": "Jojolatino", "link": "https://stackoverflow.com/users/12196394/jojolatino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577288235, "creation_date": 1577288235, "question_id": 59479786, "link": "https://stackoverflow.com/questions/59479786/how-to-use-react-components-inside-a-gatsby-plugin", "title": "How to use react components inside a Gatsby plugin?", "body": "<p>I want to create a Gatsby plugin with an index.js file but I want to render React components inside the plugin. I imported react:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const React = require('react');\nconst MyComponent = require('myComponent');\nmodules.exports = () =&gt; {\n    const myRenderedComponent = React.render(MyComponent);\n    ...\n}\n</code></pre>\n\n<p>But it fails because it doesn't understand the <code>import</code> statement I have in <code>myComponent.js</code>.\nHow can I render a component inside a Gatsby plugin instead of having to write the HTML?</p>\n\n<p>I would be too silly to write the component's HTML by hand instead of just using the component itself</p>\n"}, {"tags": ["javascript", "html", "csv", "highcharts", "colors"], "answers": [{"comments": [{"owner": {"reputation": 225, "user_id": 6626441, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7Yezy.jpg?s=128&g=1", "display_name": "SystemTheory", "link": "https://stackoverflow.com/users/6626441/systemtheory"}, "edited": false, "score": 0, "creation_date": 1577294837, "post_id": 59480326, "comment_id": 105137802, "body": "Thanks, however, there are two lines drawn with labels ADJ_HIGH and ADJ_LOW. The code you give changes ADJ_HIGH to yellow in legend and red in plot but does not change ADJ_LOW default colors. I&#39;d like to add more lines and independently adjust colors for each column/line in the csv data."}, {"owner": {"reputation": 101, "user_id": 12500448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abacfc0c8f4fc8d915a400f88fa120d6?s=128&d=identicon&r=PG&f=1", "display_name": "Bhavana", "link": "https://stackoverflow.com/users/12500448/bhavana"}, "reply_to_user": {"reputation": 225, "user_id": 6626441, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7Yezy.jpg?s=128&g=1", "display_name": "SystemTheory", "link": "https://stackoverflow.com/users/6626441/systemtheory"}, "edited": false, "score": 1, "creation_date": 1577296287, "post_id": 59480326, "comment_id": 105138068, "body": "just ass another color as follows   series: [{                 color: &#39;#FFFF00&#39;,                 lineColor: &#39;#FF0000&#39;             },{                 color: &#39;#FF0000&#39;,                 lineColor: &#39;#FFFF00&#39;             }]"}, {"owner": {"reputation": 225, "user_id": 6626441, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7Yezy.jpg?s=128&g=1", "display_name": "SystemTheory", "link": "https://stackoverflow.com/users/6626441/systemtheory"}, "edited": false, "score": 0, "creation_date": 1577297228, "post_id": 59480326, "comment_id": 105138269, "body": "That works. Thanks! Must have made syntax error when I tried that suggestion."}], "tags": [], "owner": {"reputation": 101, "user_id": 12500448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abacfc0c8f4fc8d915a400f88fa120d6?s=128&d=identicon&r=PG&f=1", "display_name": "Bhavana", "link": "https://stackoverflow.com/users/12500448/bhavana"}, "is_accepted": true, "score": 4, "last_activity_date": 1577300504, "last_edit_date": 1577300504, "creation_date": 1577292953, "answer_id": 59480326, "question_id": 59479778, "link": "https://stackoverflow.com/questions/59479778/how-to-change-line-color-when-loading-static-csv-data-into-highcharts-highstock/59480326#59480326", "title": "How to change line color when loading static csv data into Highcharts Highstock graph?", "body": "<p>To change the color of the line you should use the following code:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>series: [{\n    color: '#FFFF00',\n    lineColor: '#FF0000'\n   }]\n</code></pre>\n\n<p>so change your script into following:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code> &lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;\n            Chart\n        &lt;/title&gt;\n        &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.6/proj4.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"https://code.highcharts.com/stock/highstock.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"https://code.highcharts.com/maps/modules/map.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"https://code.highcharts.com/modules/data.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"https://code.highcharts.com/mapdata/countries/in/in-all.js\"&gt;&lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=\"chart-container\" style=\"min-width: 400px; height: 600px; margin: auto\"&gt;&lt;/div&gt;\n        &lt;pre id=\"csv\" style=\"display: none\"&gt;DATE,ADJ_HIGH,ADJ_LOW\n            2018-04-27,164.33,160.63\n            2018-04-30,167.26,161.84\n            2018-05-01,169.20,165.27\n            2018-05-02,177.75,173.80\n            2018-05-03,177.50,174.44\n        &lt;/pre&gt;\n        &lt;script type=\"text/javascript\"&gt;\n            Highcharts.stockChart('chart-container', {\n                chart: {\n                    type: 'line'\n                },\n                title: {\n                    text: 'Chart',\n                },\n                legend: {\n                    enabled: true,\n                    floating: true,\n                    verticalAlign: 'top',\n                    align:'left'\n                },\n                credits: {\n                    enabled: false\n                },\n                data: {\n                    csv: document.getElementById('csv').innerHTML\n                },\n                series: [{\n                    color: '#FFFF00',\n                    lineColor: '#FF0000'\n                }]\n            });\n        &lt;/script&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 225, "user_id": 6626441, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7Yezy.jpg?s=128&g=1", "display_name": "SystemTheory", "link": "https://stackoverflow.com/users/6626441/systemtheory"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 59480326, "answer_count": 1, "score": 0, "last_activity_date": 1577300504, "creation_date": 1577288131, "question_id": 59479778, "link": "https://stackoverflow.com/questions/59479778/how-to-change-line-color-when-loading-static-csv-data-into-highcharts-highstock", "title": "How to change line color when loading static csv data into Highcharts Highstock graph?", "body": "<p>The following code plots static csv into Highstock chart in my browser. How do I change the color of the plot lines? The lines show up in the legend with labels ADJ_HIGH and ADJ_LOW. </p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;\n Chart\n&lt;/title&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.6/proj4.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://code.highcharts.com/stock/highstock.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://code.highcharts.com/maps/modules/map.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://code.highcharts.com/modules/data.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://code.highcharts.com/mapdata/countries/in/in-all.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div id=\"chart-container\" style=\"min-width: 400px; height: 600px; margin: auto\"&gt;&lt;/div&gt;\n&lt;pre id=\"csv\" style=\"display: none\"&gt;DATE,ADJ_HIGH,ADJ_LOW\n2018-04-27,164.33,160.63\n2018-04-30,167.26,161.84\n2018-05-01,169.20,165.27\n2018-05-02,177.75,173.80\n2018-05-03,177.50,174.44\n&lt;/pre&gt;\n&lt;script type=\"text/javascript\"&gt;\nHighcharts.stockChart('chart-container', {\n  chart: {\n    type: 'line'\n  },\n  title: {\n    text: 'Chart'\n  },\n  legend: {\n    enabled: true,\n    floating: true,\n    verticalAlign: 'top',\n    align:'left'\n  },\n  credits: {\n    enabled: false\n  },\n  data: {\n    csv: document.getElementById('csv').innerHTML\n  }\n});\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "textarea"], "comments": [{"owner": {"reputation": 187, "user_id": 9904808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "skimad", "link": "https://stackoverflow.com/users/9904808/skimad"}, "edited": false, "score": 0, "creation_date": 1577288342, "post_id": 59479775, "comment_id": 105136419, "body": "How about restricting the length of text in your text box as most textarea do (example, stackoverflow comment) so that you are sure the length cannot exceed what you set."}, {"owner": {"reputation": 1, "user_id": 11920777, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Lij_tlV2l-Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rds-WbNlnLRRvwWqTMYX5lBp301Kw/photo.jpg?sz=128", "display_name": "Jordan Tiona", "link": "https://stackoverflow.com/users/11920777/jordan-tiona"}, "reply_to_user": {"reputation": 187, "user_id": 9904808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "skimad", "link": "https://stackoverflow.com/users/9904808/skimad"}, "edited": false, "score": 0, "creation_date": 1577293809, "post_id": 59479775, "comment_id": 105137595, "body": "You&#39;re referring to the maxlength attribute for textareas? The number of characters I want to allow would also depend on how many of those were new line characters. If a textarea only had one character per line then the maxlength would be much smaller than if there were no newlines at all and everything just wrapped like normal."}], "owner": {"reputation": 1, "user_id": 11920777, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Lij_tlV2l-Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rds-WbNlnLRRvwWqTMYX5lBp301Kw/photo.jpg?sz=128", "display_name": "Jordan Tiona", "link": "https://stackoverflow.com/users/11920777/jordan-tiona"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577288085, "creation_date": 1577288085, "question_id": 59479775, "link": "https://stackoverflow.com/questions/59479775/how-can-i-calculate-the-maximum-number-of-rows-in-a-textarea-with-a-set-height", "title": "How can I calculate the maximum number of rows in a textarea with a set height?", "body": "<p>I'm currently developing a sort of browser based word processor and am using a textarea to hold the contents. The textarea has a height set to 100% to fill a container div with padding and other elements in it. Is there a way I can calculate the number of rows that will fit in the textarea without overflowing so I can prevent additional lines from being created? I could of course just hide the overflow, but I don't want that excess text to get saved when I push the contents to a database.</p>\n"}, {"tags": ["javascript", "webdriver", "webdriver-io"], "comments": [{"owner": {"reputation": 2927, "user_id": 2695752, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4cnS5.jpg?s=128&g=1", "display_name": "Xotabu4", "link": "https://stackoverflow.com/users/2695752/xotabu4"}, "edited": false, "score": 1, "creation_date": 1577364291, "post_id": 59479770, "comment_id": 105151761, "body": "What means <code>not working</code> ? You getting some exception?"}, {"owner": {"reputation": 1368, "user_id": 1315787, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/RVHJu.jpg?s=128&g=1", "display_name": "VeryNiceArgumentException", "link": "https://stackoverflow.com/users/1315787/veryniceargumentexception"}, "reply_to_user": {"reputation": 2927, "user_id": 2695752, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4cnS5.jpg?s=128&g=1", "display_name": "Xotabu4", "link": "https://stackoverflow.com/users/2695752/xotabu4"}, "edited": false, "score": 0, "creation_date": 1577440867, "post_id": 59479770, "comment_id": 105170778, "body": "@Xotabu4 - you right. I put extra information in my post. It&#39;s async mode and the error is that it cannot find the element."}], "answers": [{"comments": [{"owner": {"reputation": 496, "user_id": 3553424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2Eot9.jpg?s=128&g=1", "display_name": "Naveen Thiyagarajan", "link": "https://stackoverflow.com/users/3553424/naveen-thiyagarajan"}, "edited": false, "score": 2, "creation_date": 1577293416, "post_id": 59479977, "comment_id": 105137509, "body": "Hi, Question: Are you using WDIO in standalone mode or with runner file approach? Basically WDIO has ways to run the code synchronously. You need to pick an option  based on the mode you are using it."}, {"owner": {"reputation": 2927, "user_id": 2695752, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4cnS5.jpg?s=128&g=1", "display_name": "Xotabu4", "link": "https://stackoverflow.com/users/2695752/xotabu4"}, "edited": false, "score": 2, "creation_date": 1577364381, "post_id": 59479977, "comment_id": 105151800, "body": "Thats all about your configuration - if you using WDIO in sync mode - you don&#39;t need to worry about async/await. Without it - you need to handle async code execution order by yourself - by putting await for all your async commands."}], "tags": [], "owner": {"reputation": 1368, "user_id": 1315787, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/RVHJu.jpg?s=128&g=1", "display_name": "VeryNiceArgumentException", "link": "https://stackoverflow.com/users/1315787/veryniceargumentexception"}, "is_accepted": false, "score": 1, "last_activity_date": 1577289879, "creation_date": 1577289879, "answer_id": 59479977, "question_id": 59479770, "link": "https://stackoverflow.com/questions/59479770/webdriver-javascript-getting-web-element-by-attribute-name/59479977#59479977", "title": "Webdriver &amp; javascript: Getting web element by attribute name", "body": "<p>ok ... the sintaxe is ok. what I was failing of was the missing <strong>await</strong> in front of selector. The element doesn't exist when this line was reached, then when I tried to set a value I got an error.</p>\n\n<pre><code>let user = await $('input[name=\"Login\"]')\n</code></pre>\n\n<p>I realized that logging the value of user:</p>\n\n<p>Without await:</p>\n\n<pre><code>&gt;&gt;&gt;&gt;&gt;&gt;&gt; [object Promise]\n</code></pre>\n\n<p>With await:</p>\n\n<pre><code>&gt;&gt;&gt;&gt;&gt;&gt;&gt; [object Object]\n</code></pre>\n\n<p>Without await it is hard to know when the elemeent was not rendered yet or it is just wrong.</p>\n\n<p>Any suggestion on how to handle it in a better/more elegant way will be really appreciated. </p>\n"}], "owner": {"reputation": 1368, "user_id": 1315787, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/RVHJu.jpg?s=128&g=1", "display_name": "VeryNiceArgumentException", "link": "https://stackoverflow.com/users/1315787/veryniceargumentexception"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1577440794, "creation_date": 1577288031, "last_edit_date": 1577440794, "question_id": 59479770, "link": "https://stackoverflow.com/questions/59479770/webdriver-javascript-getting-web-element-by-attribute-name", "title": "Webdriver &amp; javascript: Getting web element by attribute name", "body": "<p>I'm trying to get an web element by attribute name (async way)</p>\n\n<pre><code>&lt;input name=\"Login\" placeholder=\"Login\" type=\"text\"&gt;\n</code></pre>\n\n<p>In Webdriver v4 (legacy code) it is <a href=\"http://v4.webdriver.io/v3.4/guide/usage/selectors.html#Name-Attribute\" rel=\"nofollow noreferrer\">documented</a> as the following:</p>\n\n<pre><code>$('input[name=\"Login\"]')\n</code></pre>\n\n<p>I'm using webdriver v5> where it is not working \n(element not found) and <a href=\"https://webdriver.io/docs/selectors.html\" rel=\"nofollow noreferrer\">documentation</a> doesn't explain how to proceed in cases like that (or maybe I'm just not finding it) </p>\n\n<p>What I am missing here?</p>\n"}, {"tags": ["javascript", "html", "google-chrome"], "comments": [{"owner": {"reputation": 10398, "user_id": 4398966, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Md0LP.jpg?s=128&g=1", "display_name": "DCR", "link": "https://stackoverflow.com/users/4398966/dcr"}, "edited": false, "score": 0, "creation_date": 1577288194, "post_id": 59479748, "comment_id": 105136378, "body": "please show some code of what you&#39;ve attempted"}, {"owner": {"reputation": 724, "user_id": 2632107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf6114b3072f3fd075698d514a5d1c05?s=128&d=identicon&r=PG", "display_name": "S0AndS0", "link": "https://stackoverflow.com/users/2632107/s0ands0"}, "edited": false, "score": 0, "creation_date": 1609016573, "post_id": 59479748, "comment_id": 115731720, "body": "Related Q&amp;A may be of use, Change default CSS for Google Chrome <a href=\"https://superuser.com/questions/52967/change-default-css-of-google-chrome\" title=\"change default css of google chrome\">superuser.com/questions/52967/&hellip;</a> ... TLDR <code>--enable-user-stylesheet</code> when starting Chrome <i>should</i> enable loading custom CSS rules."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 12596178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/121643e9fb13a8bff409daed69b55413?s=128&d=identicon&r=PG&f=1", "display_name": "omcc", "link": "https://stackoverflow.com/users/12596178/omcc"}, "edited": false, "score": 0, "creation_date": 1577288553, "post_id": 59479815, "comment_id": 105136463, "body": "thank you, I&#39;m really new at this I&#39;ll look into doing that"}, {"owner": {"reputation": 170, "user_id": 9162901, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gaYknxZCLOg/AAAAAAAAAAI/AAAAAAAAAgI/rJ0DXWn_6qU/photo.jpg?sz=128", "display_name": "Yosi Leibman", "link": "https://stackoverflow.com/users/9162901/yosi-leibman"}, "reply_to_user": {"reputation": 25, "user_id": 12596178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/121643e9fb13a8bff409daed69b55413?s=128&d=identicon&r=PG&f=1", "display_name": "omcc", "link": "https://stackoverflow.com/users/12596178/omcc"}, "edited": false, "score": 0, "creation_date": 1577289079, "post_id": 59479815, "comment_id": 105136568, "body": "<a href=\"https://github.com/YosiLeibman/chrome-extention-neshei\" rel=\"nofollow noreferrer\">github.com/YosiLeibman/chrome-extention-neshei</a> repository from my GitHub that make something similar"}, {"owner": {"reputation": 25, "user_id": 12596178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/121643e9fb13a8bff409daed69b55413?s=128&d=identicon&r=PG&f=1", "display_name": "omcc", "link": "https://stackoverflow.com/users/12596178/omcc"}, "edited": false, "score": 0, "creation_date": 1577291437, "post_id": 59479815, "comment_id": 105137077, "body": "okay I installed an extension called stylebot that lets you overwrite css of the webpage, I typed in .bbb {display:none} and it&#39;s working like I wanted it to now, thanks for all the help and comments"}], "tags": [], "owner": {"reputation": 170, "user_id": 9162901, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gaYknxZCLOg/AAAAAAAAAAI/AAAAAAAAAgI/rJ0DXWn_6qU/photo.jpg?sz=128", "display_name": "Yosi Leibman", "link": "https://stackoverflow.com/users/9162901/yosi-leibman"}, "is_accepted": false, "score": 2, "last_activity_date": 1577288475, "creation_date": 1577288475, "answer_id": 59479815, "question_id": 59479748, "link": "https://stackoverflow.com/questions/59479748/how-to-delete-all-elements-with-a-certain-class-from-a-page-in-chrome/59479815#59479815", "title": "how to delete all elements with a certain class from a page in chrome", "body": "<p>you can write a simple chrome extension that will run in each site you visit.\nin the extension yon need to run:</p>\n\n<pre><code>const classArr = docunemt.querySelectorAll(\".yourClassName\")\n</code></pre>\n\n<p>after you got all of them - you run over each one end set style.display to none</p>\n\n<pre><code>for(let elm of classArr){\n    elm.style.display = \"none\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10568, "user_id": 2951933, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6HrRg.png?s=128&g=1", "display_name": "Eugen Sunic", "link": "https://stackoverflow.com/users/2951933/eugen-sunic"}, "is_accepted": false, "score": 1, "last_activity_date": 1577289426, "last_edit_date": 1577289426, "creation_date": 1577289089, "answer_id": 59479873, "question_id": 59479748, "link": "https://stackoverflow.com/questions/59479748/how-to-delete-all-elements-with-a-certain-class-from-a-page-in-chrome/59479873#59479873", "title": "how to delete all elements with a certain class from a page in chrome", "body": "<p>Here is a solution on how to remove them completely instead of display none\nbe careful of the array mutation, because of it you will always be deleting the first element in the array until the array get's emtpy</p>\n\n<p>demo example: <a href=\"https://jsfiddle.net/o7dzgbcm/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/o7dzgbcm/</a></p>\n\n<p>HTML</p>\n\n<pre><code>&lt;div class='aaa'&gt;\n  aaa1\n&lt;/div&gt;\n\n&lt;div class='bbb'&gt;\n  bbb\n  &lt;div class='aaa'&gt;\n    aaa2\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class='ccc'&gt;\n  ccc\n&lt;/div&gt;\n</code></pre>\n\n<p>JS</p>\n\n<pre><code>const arrHtml = document.getElementsByClassName('aaa');\n\nwhile (!!arrHtml.length) {\n  arrHtml[0].parentNode.removeChild(arrHtml[0])\n}\n</code></pre>\n\n<p>And here is a function on how you can change between display none and removing the elements completely out of the DOM</p>\n\n<pre><code>function clearElements(className, arg) {\n  const arrHtml = document.getElementsByClassName(className);\n  if (arg === 'none') {\n    for (let i = 0; i &lt; arrHtml.length; i++) {\n      arrHtml[i].style.display='none'\n    }\n  } else {\n    while (!!arrHtml.length) {\n      arrHtml[0].parentNode.removeChild(arrHtml[0])\n    }\n\n  }\n}\n// display none\nclearElements('none', \"aaa\");\n// remove the elements\nclearElements('aaa')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 12500448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abacfc0c8f4fc8d915a400f88fa120d6?s=128&d=identicon&r=PG&f=1", "display_name": "Bhavana", "link": "https://stackoverflow.com/users/12500448/bhavana"}, "is_accepted": false, "score": 1, "last_activity_date": 1577294618, "creation_date": 1577294618, "answer_id": 59480538, "question_id": 59479748, "link": "https://stackoverflow.com/questions/59479748/how-to-delete-all-elements-with-a-certain-class-from-a-page-in-chrome/59480538#59480538", "title": "how to delete all elements with a certain class from a page in chrome", "body": "<p>Consider your class name as hidingclass, you can use</p>\n\n<pre><code>  $(document).ready(function () {\n     $(\".hidingclass\").hide();\n });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14893499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e678d2213fce19dd8ee470c4c72e6ae5?s=128&d=identicon&r=PG&f=1", "display_name": "destroyallads", "link": "https://stackoverflow.com/users/14893499/destroyallads"}, "is_accepted": false, "score": 0, "last_activity_date": 1609060288, "last_edit_date": 1609060288, "creation_date": 1609012869, "answer_id": 65460198, "question_id": 59479748, "link": "https://stackoverflow.com/questions/59479748/how-to-delete-all-elements-with-a-certain-class-from-a-page-in-chrome/65460198#65460198", "title": "how to delete all elements with a certain class from a page in chrome", "body": "<p>First install uBlock Origin if you haven't already, then right click the Hindsight 2020 popup, then click block element.</p>\n"}], "owner": {"reputation": 25, "user_id": 12596178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/121643e9fb13a8bff409daed69b55413?s=128&d=identicon&r=PG&f=1", "display_name": "omcc", "link": "https://stackoverflow.com/users/12596178/omcc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1049, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1609060288, "creation_date": 1577287876, "question_id": 59479748, "link": "https://stackoverflow.com/questions/59479748/how-to-delete-all-elements-with-a-certain-class-from-a-page-in-chrome", "title": "how to delete all elements with a certain class from a page in chrome", "body": "<p>say there are elements in a website I'm using have elements with classes 'aaa' 'bbb' 'ccc', and I wanna delete or set display:none for all elements with the class 'bbb', how can I go about doing this, changing attributes of elements locally on a website I'm visiting? I know there's inspect element->delete element but there are a lot of them and I want the browser to do this automatically every time I open the site.</p>\n"}, {"tags": ["javascript", "rest", "api", "multidimensional-array", "xmlhttprequest"], "comments": [{"owner": {"reputation": 450, "user_id": 7554092, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MIy5t46W4TI/AAAAAAAAAAI/AAAAAAAAAIg/OniP_oQDamQ/photo.jpg?sz=128", "display_name": "Max Svid", "link": "https://stackoverflow.com/users/7554092/max-svid"}, "edited": false, "score": 1, "creation_date": 1577287991, "post_id": 59479745, "comment_id": 105136338, "body": "var resp = JSON.parse(Http.responseText); and use resp as your data source"}, {"owner": {"reputation": 27, "user_id": 4623068, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6w_4eQ1nNGc/AAAAAAAAAAI/AAAAAAAAAAA/AjuHyoH6LpM/photo.jpg?sz=128", "display_name": "Rakesh Bagaria", "link": "https://stackoverflow.com/users/4623068/rakesh-bagaria"}, "reply_to_user": {"reputation": 450, "user_id": 7554092, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MIy5t46W4TI/AAAAAAAAAAI/AAAAAAAAAIg/OniP_oQDamQ/photo.jpg?sz=128", "display_name": "Max Svid", "link": "https://stackoverflow.com/users/7554092/max-svid"}, "edited": false, "score": 0, "creation_date": 1577293085, "post_id": 59479745, "comment_id": 105137427, "body": "it is working but in the console i can see below exception"}], "answers": [{"comments": [{"owner": {"reputation": 164, "user_id": 5720826, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-j4yR_ZHDASY/AAAAAAAAAAI/AAAAAAAAAI4/i8GD018SA4k/photo.jpg?sz=128", "display_name": "Vipul Dessai", "link": "https://stackoverflow.com/users/5720826/vipul-dessai"}, "reply_to_user": {"reputation": 27, "user_id": 4623068, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6w_4eQ1nNGc/AAAAAAAAAAI/AAAAAAAAAAA/AjuHyoH6LpM/photo.jpg?sz=128", "display_name": "Rakesh Bagaria", "link": "https://stackoverflow.com/users/4623068/rakesh-bagaria"}, "edited": false, "score": 0, "creation_date": 1577292934, "post_id": 59479836, "comment_id": 105137404, "body": "Your most welcome, you can accept the answer and close the question"}, {"owner": {"reputation": 27, "user_id": 4623068, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6w_4eQ1nNGc/AAAAAAAAAAI/AAAAAAAAAAA/AjuHyoH6LpM/photo.jpg?sz=128", "display_name": "Rakesh Bagaria", "link": "https://stackoverflow.com/users/4623068/rakesh-bagaria"}, "edited": false, "score": 0, "creation_date": 1577293101, "post_id": 59479836, "comment_id": 105137430, "body": "Uncaught SyntaxError: Unexpected end of JSON input     at JSON.parse (&lt;anonymous&gt;)     at XMLHttpRequest.Http.onreadystatechange (index:21)  it is giving me array but in console i can see above exception also , anything wrong in my code?"}, {"owner": {"reputation": 164, "user_id": 5720826, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-j4yR_ZHDASY/AAAAAAAAAAI/AAAAAAAAAI4/i8GD018SA4k/photo.jpg?sz=128", "display_name": "Vipul Dessai", "link": "https://stackoverflow.com/users/5720826/vipul-dessai"}, "reply_to_user": {"reputation": 27, "user_id": 4623068, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6w_4eQ1nNGc/AAAAAAAAAAI/AAAAAAAAAAA/AjuHyoH6LpM/photo.jpg?sz=128", "display_name": "Rakesh Bagaria", "link": "https://stackoverflow.com/users/4623068/rakesh-bagaria"}, "edited": false, "score": 0, "creation_date": 1577293331, "post_id": 59479836, "comment_id": 105137489, "body": "you can try to place the JSON.parse inside a try catch block, the error occurs when the reponse received is not a proper JS object"}, {"owner": {"reputation": 164, "user_id": 5720826, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-j4yR_ZHDASY/AAAAAAAAAAI/AAAAAAAAAI4/i8GD018SA4k/photo.jpg?sz=128", "display_name": "Vipul Dessai", "link": "https://stackoverflow.com/users/5720826/vipul-dessai"}, "reply_to_user": {"reputation": 27, "user_id": 4623068, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6w_4eQ1nNGc/AAAAAAAAAAI/AAAAAAAAAAA/AjuHyoH6LpM/photo.jpg?sz=128", "display_name": "Rakesh Bagaria", "link": "https://stackoverflow.com/users/4623068/rakesh-bagaria"}, "edited": false, "score": 0, "creation_date": 1577294032, "post_id": 59479836, "comment_id": 105137651, "body": "it could also be possible that your response string contains encoded characters, make sure there are none."}], "tags": [], "owner": {"reputation": 164, "user_id": 5720826, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-j4yR_ZHDASY/AAAAAAAAAAI/AAAAAAAAAI4/i8GD018SA4k/photo.jpg?sz=128", "display_name": "Vipul Dessai", "link": "https://stackoverflow.com/users/5720826/vipul-dessai"}, "is_accepted": false, "score": 0, "last_activity_date": 1577288691, "creation_date": 1577288691, "answer_id": 59479836, "question_id": 59479745, "link": "https://stackoverflow.com/questions/59479745/convert-a-string-to-multi-dimensional-array-in-javascript/59479836#59479836", "title": "Convert a string to multi-dimensional array in javascript", "body": "<p>Use JSON.parse to convert the array in the response string.    </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nconst Http = new XMLHttpRequest();\nconst url='/hello/get_pw_status';\nHttp.open(\"GET\", url);\nHttp.send();\nvar resp;\n\nHttp.onreadystatechange = (e) =&gt; {\n    var multiDimentionalArray;\n    if(typeof Http.responseText == \"string\") {\n        multiDimentionalArray = JSON.parse(Http.responseText);\n    }\n    conosle.log(multiDimentionalArray);\n}\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 4623068, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6w_4eQ1nNGc/AAAAAAAAAAI/AAAAAAAAAAA/AjuHyoH6LpM/photo.jpg?sz=128", "display_name": "Rakesh Bagaria", "link": "https://stackoverflow.com/users/4623068/rakesh-bagaria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1577299947, "creation_date": 1577287830, "last_edit_date": 1577299947, "question_id": 59479745, "link": "https://stackoverflow.com/questions/59479745/convert-a-string-to-multi-dimensional-array-in-javascript", "title": "Convert a string to multi-dimensional array in javascript", "body": "<p>This is returned by the REST API: <code>[[5671, 204], [5673, 192], [5674, 120], [5683, 120], [5684, 192], [5685, 204]]</code></p>\n\n<p>when i am doing typeof i am getting string for above in javascript . i want to convert it to a multi dimensional array.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nconst Http = new XMLHttpRequest();\nconst url='/hello/get_pw_status';\nHttp.open(\"GET\", url);\nHttp.send();\nvar resp;\n\nHttp.onreadystatechange = (e) =&gt; {\nconsole.log(Http.responseText);\ndocument.getElementById(\"demo\").innerHTML =Http.responseText;\nconsole.log(typeof Http.responseText);\n\n\nvar pw_data = [];\npw_data=Http.data;\nconsole.log(pw_data);\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "firefox", "dom"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1577287928, "post_id": 59479722, "comment_id": 105136323, "body": "You&#39;re using jQuery anyway; why not <code>$(ready)</code> to run the function? What else have you done to investigate the problem? Have you verified that the <code>ready()</code> function is called? Are errors reported? There&#39;s not really enough code posted to see how the menu mechanism works."}, {"owner": {"reputation": 31, "user_id": 9929659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/480739596f43b9f3efd93b96dc4b30eb?s=128&d=identicon&r=PG&f=1", "display_name": "Knerdist", "link": "https://stackoverflow.com/users/9929659/knerdist"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1577289492, "post_id": 59479722, "comment_id": 105136669, "body": "$(ready) was the first that I tried. The navbar was not visible. The ready() function is definitely called, but the navbar was not displayed (IN Firefox, safari and chrome). I realised it was an issue of DOM load and hence switched to document.load(&quot;DOMContentLoaded&quot;). The navbar has about 220 lines of code. The submenu is just standard - and shown above. It works fine with Safari and chrome. Not sure what code would help..."}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1577307059, "post_id": 59479722, "comment_id": 105139979, "body": "The jQuery <code>$(someFunction)</code> <b>is</b> a &quot;DOMReady&quot; handler. Anyway I can&#39;t make any guesses without seeing more relevant code."}], "owner": {"reputation": 31, "user_id": 9929659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/480739596f43b9f3efd93b96dc4b30eb?s=128&d=identicon&r=PG&f=1", "display_name": "Knerdist", "link": "https://stackoverflow.com/users/9929659/knerdist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577287671, "creation_date": 1577287671, "question_id": 59479722, "link": "https://stackoverflow.com/questions/59479722/strange-browser-problem-while-loading-an-external-file-using-query", "title": "Strange browser problem while loading an external file using query", "body": "<p>I am trying to load an external file (navbar) using jquery thus:</p>\n\n<pre><code>  &lt;script&gt;\n    document.addEventListener(\"DOMContentLoaded\", ready);\n    function ready() {\n        $(\"#leftNav\").load(\"nav.html\", function () {\n            setSelected(\"dashboard\");\n        });\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>Nav.html has sub-menu toggles that get called when user clicks a menu item.E.g.</p>\n\n<pre><code>  &lt;ul class=\"menu__subnav\"&gt;\n                        &lt;li id=\"channel\" class=\"menu__item \" aria-haspopup=\"true\"&gt;&lt;a\n                                href=\"channelInfo.html\"\n                                class=\"menu_link \"&gt;&lt;i\n                                class=\"icon_bullet\"&gt;&lt;span&gt;&lt;/span&gt;&lt;/i&gt;&lt;span\n                                class=\"link-text\"&gt;Channel Information&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n                        &lt;li id=\"newChannel\" class=\"menu__item \" aria-haspopup=\"true\"&gt;&lt;a\n                                href=\"newChannel.html\"\n                                class=\"menu__link \"&gt;&lt;i\n                                class=\"icon_bullet\"&gt;&lt;span&gt;&lt;/span&gt;&lt;/i&gt;&lt;span\n                                class=\"link-text\"&gt;New Channel&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n                        &lt;li id=\"startChannel\" class=\"menu__item \" aria-haspopup=\"true\"&gt;&lt;a\n                                href=\"startChannel.html\"\n                                class=\"menu__link \"&gt;&lt;i\n                                class=\"icon_bullet\"&gt;&lt;span&gt;&lt;/span&gt;&lt;/i&gt;&lt;span\n                                class=\"link-text\"&gt;Start Channel&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;\n\n                    &lt;/ul&gt;\n</code></pre>\n\n<p>Works fine in Safari, Chrome. However the sub-menu toggles don't seem to work in Firefox.Is there any way that Firefox renders DOM differently? Any pointers would be helpful!!</p>\n\n<p>I have tried listening for window.load(\"DOMContentLoaded\") event too but to no avail.</p>\n"}]