[{"tags": ["javascript"], "comments": [{"owner": {"reputation": 662, "user_id": 6468413, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/4DCK9.png?s=128&g=1", "display_name": "Nodir Rashidov", "link": "https://stackoverflow.com/users/6468413/nodir-rashidov"}, "edited": false, "score": 0, "creation_date": 1490227186, "post_id": 42964807, "comment_id": 73023701, "body": "can you tell us more about the error (conflict)?"}, {"owner": {"reputation": 1217, "user_id": 3946099, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/kbEJ7.jpg?s=128&g=1", "display_name": "Taylor Ackley", "link": "https://stackoverflow.com/users/3946099/taylor-ackley"}, "edited": false, "score": 0, "creation_date": 1490227758, "post_id": 42964807, "comment_id": 73023875, "body": "How do we know these links are safe?"}], "owner": {"reputation": 9, "user_id": 6305234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d276e69bd908fa8433908fc61e3a1b4?s=128&d=identicon&r=PG&f=1", "display_name": "Lazywarp", "link": "https://stackoverflow.com/users/6305234/lazywarp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490226870, "creation_date": 1490226870, "question_id": 42964807, "link": "https://stackoverflow.com/questions/42964807/trying-to-get-separate-scripts-to-load-on-website", "title": "Trying to get separate scripts to load on website", "body": "<p>I'm not a java script programmer and am way over my head here.</p>\n\n<p>The non-profit I'm volunteering for is using this slideshow (<a href=\"http://dynamicdrive.com/dynamicindex14/fadeinslideshow.htm\" rel=\"nofollow noreferrer\">http://dynamicdrive.com/dynamicindex14/fadeinslideshow.htm</a>) and now wants to add this widget (<a href=\"http://discord.deliriousdrunkards.com/\" rel=\"nofollow noreferrer\">http://discord.deliriousdrunkards.com/</a>).</p>\n\n<p>The problem is they start conflicting with each other. I know a little bit about Javascript but don't understand how these two scripts are interfering with each other.</p>\n\n<p>If someone can at least point me in a direction as to what might be going on it would be appreciated.</p>\n"}, {"tags": ["javascript", "angularjs", "node.js"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1490226848, "post_id": 42964791, "comment_id": 73023607, "body": "please post the code here."}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 2, "creation_date": 1490226868, "post_id": 42964791, "comment_id": 73023611, "body": "a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> at that."}, {"owner": {"reputation": 25, "user_id": 7751373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff94e25053ce2db8e0cd585af143959b?s=128&d=identicon&r=PG&f=1", "display_name": "L Giriunas", "link": "https://stackoverflow.com/users/7751373/l-giriunas"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1490227254, "post_id": 42964791, "comment_id": 73023720, "body": "I thaught that link to GitHub will be better to see everything, but I am adding code as you asked"}], "answers": [{"tags": [], "owner": {"reputation": 6107, "user_id": 413785, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/03021a61666cfcbe2867dd205c4ed8ab?s=128&d=identicon&r=PG", "display_name": "tkit", "link": "https://stackoverflow.com/users/413785/tkit"}, "is_accepted": true, "score": 2, "last_activity_date": 1490228459, "last_edit_date": 1490228459, "creation_date": 1490228005, "answer_id": 42964972, "question_id": 42964791, "link": "https://stackoverflow.com/questions/42964791/angularjs-on-local-server/42964972#42964972", "title": "AngularJS on local server", "body": "<p>This is most probably not a node.js issue. Your HTML or JS probably stayed cached in your browser and you're still seeing the old code. </p>\n\n<p>Open dev tools in chrome (with F12) and then click the three vertical dots and select \"settings\". </p>\n\n<p><a href=\"https://i.stack.imgur.com/5mm5g.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5mm5g.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Then under Settings -> Network enable the \"disable cache while dev tools is open\" option.</p>\n\n<p><a href=\"https://i.stack.imgur.com/lUJn4.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lUJn4.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Then hit F5 to refresh the page and this should fetch the latest JS file for you and you should see \"done\" after that.</p>\n"}], "owner": {"reputation": 25, "user_id": 7751373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff94e25053ce2db8e0cd585af143959b?s=128&d=identicon&r=PG&f=1", "display_name": "L Giriunas", "link": "https://stackoverflow.com/users/7751373/l-giriunas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 42964972, "answer_count": 1, "score": 0, "last_activity_date": 1490228459, "creation_date": 1490226789, "last_edit_date": 1490227141, "question_id": 42964791, "link": "https://stackoverflow.com/questions/42964791/angularjs-on-local-server", "title": "AngularJS on local server", "body": "<p>I am trying a very simple web application using AngularJS, which files you can see <a href=\"https://github.com/LaurynasGiriunas/EventsApp/tree/master/EventsApp\" rel=\"nofollow noreferrer\">here</a>. To run it I have installed node.js and ran \"npm install -g http-server\" on command prompt (Windows 10), navigated to the folder and then executed \"http-server -o\". Chrome window opened and everything looked fine, it looked that controller worked fine. At the moment it only returns a word to the variable in index.html. I wanted to make sure that everything really works fine, so I added a tag with word \"Hello!\" to the index.html and changed controller return word from \"success\" to \"done\". Reloaded the website page and I was surprised that I saw \"Hello!\" and \"success\", but not \"Hello!\" and \"done\". I have closed local server and ran it again, but result coming from controller was still the same. Could someone explain why is this happening and what should I do to get the new result from controller?</p>\n\n<p>index.html is: </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;EventsApp&lt;/title&gt;\n\n&lt;link href=\"http://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css\" rel=\"stylesheet\"&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"css/main.css\"&gt;\n&lt;link href='https://fonts.googleapis.com/css?family=Roboto:300,400,700' rel='stylesheet' type='text/css'&gt;\n\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.6.3/angular.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.6.3/angular-route.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n\n&lt;body ng-app=\"EventsApp\" ng-controller=\"HomeController\" &gt;\n  &lt;header class=\"container\"&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;h1 class=\"col-sm-8\"&gt;EventsApp&lt;/h1&gt;\n    &lt;/div&gt;\n  &lt;/header&gt;\n\n&lt;section class=\"jumbotron\"&gt;\n&lt;/section&gt;\n\n\n&lt;h1&gt;  {{test}}  &lt;/h1&gt;\n&lt;div ng-view&gt;&lt;/div&gt;\n\n\n&lt;!-- Modules --&gt;\n&lt;script type=\"text/javascript\"  src=\"js/app.js\"&gt;&lt;/script&gt;\n\n&lt;!-- Controllers --&gt;\n&lt;script type=\"text/javascript\"  src=\"js/controllers/HomeController.js\"&gt;&lt;/script&gt;\n\n&lt;!-- Services --&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>HomeController.js is:</p>\n\n<pre><code>app.controller('HomeController', ['$scope', \n function($scope ) {\n    $scope.test=\"done\";\n}]);\n</code></pre>\n\n<p>app.js is:</p>\n\n<pre><code>var app = angular.module(\"EventsApp\", []);\n</code></pre>\n"}, {"tags": ["javascript", "css", "css-hyphens"], "comments": [{"owner": {"reputation": 3440, "user_id": 2983609, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/MtvUf.jpg?s=128&g=1", "display_name": "Pytth", "link": "https://stackoverflow.com/users/2983609/pytth"}, "edited": false, "score": 0, "creation_date": 1490226922, "post_id": 42964779, "comment_id": 73023627, "body": "You could probably get pretty fancy with the <code>canvas</code> api."}], "answers": [{"tags": [], "owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "is_accepted": true, "score": 0, "last_activity_date": 1495643205, "creation_date": 1495643205, "answer_id": 44163883, "question_id": 42964779, "link": "https://stackoverflow.com/questions/42964779/is-there-any-way-to-re-use-css3-created-word-hyphenation/44163883#44163883", "title": "Is there any way to re-use CSS3 created word hyphenation?", "body": "<p>Short answer: no, there is no easy way to piggyback on the browser's hyphen generator.</p>\n"}], "owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 44163883, "answer_count": 1, "score": 1, "last_activity_date": 1495643205, "creation_date": 1490226697, "question_id": 42964779, "link": "https://stackoverflow.com/questions/42964779/is-there-any-way-to-re-use-css3-created-word-hyphenation", "title": "Is there any way to re-use CSS3 created word hyphenation?", "body": "<p>I'm trying to split words into syllables on a website that helps kids learn to read.  This turns out to be hard.</p>\n\n<p><a href=\"http://mnater.github.io/Hyphenator/\" rel=\"nofollow noreferrer\">JavaScript Hyphenation libraries</a> are large.  Chrome browser can already auto-hyphenate using the <code>hyphens: auto;</code> CSS3 tag.  I'd like to say to my line of text in the browser \"Hi there!  Please tell me all possible ways you would consider splitting these words, thanks!\"</p>\n\n<p>Which means I would need to somehow \"read\" the results of hyphenated words packed into very narrow divs.  AFAIK you can't grab the text -  hyphenation is only a <em>display</em> thing.  Is there any way to figure out where the words were hyphenated?</p>\n\n<p><a href=\"https://jsfiddle.net/8v5xxuh1/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/8v5xxuh1/</a></p>\n"}, {"tags": ["javascript", "reactjs", "redux", "react-redux"], "comments": [{"owner": {"reputation": 2334, "user_id": 3483369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RVICc.jpg?s=128&g=1", "display_name": "AJ Funk", "link": "https://stackoverflow.com/users/3483369/aj-funk"}, "edited": false, "score": 0, "creation_date": 1490226671, "post_id": 42964728, "comment_id": 73023563, "body": "What is the token for if you don&#39;t have any user authentication? If there is no user authentication, how can you prevent anybody from making the HTTP request and getting this API token?"}, {"owner": {"reputation": 999, "user_id": 1940025, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/00cd1d2cd66bf36c0cd6b0aee4732505?s=128&d=identicon&r=PG", "display_name": "Hossein Jabbari", "link": "https://stackoverflow.com/users/1940025/hossein-jabbari"}, "reply_to_user": {"reputation": 2334, "user_id": 3483369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RVICc.jpg?s=128&g=1", "display_name": "AJ Funk", "link": "https://stackoverflow.com/users/3483369/aj-funk"}, "edited": false, "score": 0, "creation_date": 1490226915, "post_id": 42964728, "comment_id": 73023625, "body": "@AJFunk If the token is generated server side on my react app then I would accept only valid tokens on my API (no direct access), so nobody could access it without at least going through my react app and getting a token from that app either validly or by tricking the app. Then I can focus on securing my app not my API. The API is a PHP app, completely independent."}, {"owner": {"reputation": 548, "user_id": 7744070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed1e6f10fd9fd0d794873adfc3019564?s=128&d=identicon&r=PG&f=1", "display_name": "Rei Dien", "link": "https://stackoverflow.com/users/7744070/rei-dien"}, "edited": false, "score": 0, "creation_date": 1490227188, "post_id": 42964728, "comment_id": 73023702, "body": "in my opinion you will need to use a bundler (webpack will be good) you will then setup your client to fetch the token, then create a redux store to store your token. i really dont know if redux&#39;s store creation can support CommonJS or direct from browser use."}, {"owner": {"reputation": 2883, "user_id": 1735223, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0f9cbf40bed746f8248593ec435e3cd8?s=128&d=identicon&r=PG", "display_name": "anoop", "link": "https://stackoverflow.com/users/1735223/anoop"}, "edited": false, "score": 0, "creation_date": 1490227434, "post_id": 42964728, "comment_id": 73023774, "body": "What I used to do is, in any API call token is passed to server &amp; if token is not valid or not present, server issues un-authorized response. Client app can then force to redirect to login page &amp; get the token from auth process. Once we get the token, keep it in local storage."}, {"owner": {"reputation": 2334, "user_id": 3483369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RVICc.jpg?s=128&g=1", "display_name": "AJ Funk", "link": "https://stackoverflow.com/users/3483369/aj-funk"}, "edited": false, "score": 0, "creation_date": 1490227693, "post_id": 42964728, "comment_id": 73023860, "body": "@HosseinJabbari you&#39;re not really adding any layers of security with this. What prevents anybody from making a HTTP request to your endpoint to fetch a token? You would prevent this by restricting what domains are allowed access. By doing that, you have no need for token since only your domain can access it. Without any user authentication, there is really no need for a JWT. A JWT stores encrypted information, but you have no user information to store in it"}, {"owner": {"reputation": 999, "user_id": 1940025, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/00cd1d2cd66bf36c0cd6b0aee4732505?s=128&d=identicon&r=PG", "display_name": "Hossein Jabbari", "link": "https://stackoverflow.com/users/1940025/hossein-jabbari"}, "reply_to_user": {"reputation": 2883, "user_id": 1735223, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0f9cbf40bed746f8248593ec435e3cd8?s=128&d=identicon&r=PG", "display_name": "anoop", "link": "https://stackoverflow.com/users/1735223/anoop"}, "edited": false, "score": 0, "creation_date": 1490227781, "post_id": 42964728, "comment_id": 73023886, "body": "@anoop There is not authentication in my app and my API requires a token and I don&#39;t want to give the token directly to my client from the clien-side, want to pass it from the server-side which obtains it through a local http request to a PHP application that is the API itself."}, {"owner": {"reputation": 999, "user_id": 1940025, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/00cd1d2cd66bf36c0cd6b0aee4732505?s=128&d=identicon&r=PG", "display_name": "Hossein Jabbari", "link": "https://stackoverflow.com/users/1940025/hossein-jabbari"}, "reply_to_user": {"reputation": 2334, "user_id": 3483369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RVICc.jpg?s=128&g=1", "display_name": "AJ Funk", "link": "https://stackoverflow.com/users/3483369/aj-funk"}, "edited": false, "score": 0, "creation_date": 1490227841, "post_id": 42964728, "comment_id": 73023903, "body": "@AJFunk there is no public endpoint. It&#39;s a local server endpoint."}, {"owner": {"reputation": 3440, "user_id": 2983609, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/MtvUf.jpg?s=128&g=1", "display_name": "Pytth", "link": "https://stackoverflow.com/users/2983609/pytth"}, "edited": false, "score": 0, "creation_date": 1490227949, "post_id": 42964728, "comment_id": 73023936, "body": "This is mad confusing. There are likely so many ways to go about doing this. But why not just make a request to your node app from your frontend, which then makes a request to your php, which would then return the info to your node app, which could then return it to the frontend?"}, {"owner": {"reputation": 999, "user_id": 1940025, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/00cd1d2cd66bf36c0cd6b0aee4732505?s=128&d=identicon&r=PG", "display_name": "Hossein Jabbari", "link": "https://stackoverflow.com/users/1940025/hossein-jabbari"}, "reply_to_user": {"reputation": 2334, "user_id": 3483369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RVICc.jpg?s=128&g=1", "display_name": "AJ Funk", "link": "https://stackoverflow.com/users/3483369/aj-funk"}, "edited": false, "score": 0, "creation_date": 1490227953, "post_id": 42964728, "comment_id": 73023940, "body": "@AJFunk the domain can be spoofed easily in a hosts file."}, {"owner": {"reputation": 2334, "user_id": 3483369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RVICc.jpg?s=128&g=1", "display_name": "AJ Funk", "link": "https://stackoverflow.com/users/3483369/aj-funk"}, "edited": false, "score": 0, "creation_date": 1490228038, "post_id": 42964728, "comment_id": 73023967, "body": "@HosseinJabbari then how does your react app communicate with your API? If a user is using your app, it is running in their browser on their local machine. A HTTP request has to be made to your server to fetch the token, which means any machine can make that request and presumably fetch that token."}, {"owner": {"reputation": 999, "user_id": 1940025, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/00cd1d2cd66bf36c0cd6b0aee4732505?s=128&d=identicon&r=PG", "display_name": "Hossein Jabbari", "link": "https://stackoverflow.com/users/1940025/hossein-jabbari"}, "reply_to_user": {"reputation": 3440, "user_id": 2983609, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/MtvUf.jpg?s=128&g=1", "display_name": "Pytth", "link": "https://stackoverflow.com/users/2983609/pytth"}, "edited": false, "score": 0, "creation_date": 1490228179, "post_id": 42964728, "comment_id": 73024021, "body": "@Pytth this is exactly what I want. don&#39;t know how to implement a server side functionality in my react-redux app."}, {"owner": {"reputation": 999, "user_id": 1940025, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/00cd1d2cd66bf36c0cd6b0aee4732505?s=128&d=identicon&r=PG", "display_name": "Hossein Jabbari", "link": "https://stackoverflow.com/users/1940025/hossein-jabbari"}, "reply_to_user": {"reputation": 3440, "user_id": 2983609, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/MtvUf.jpg?s=128&g=1", "display_name": "Pytth", "link": "https://stackoverflow.com/users/2983609/pytth"}, "edited": false, "score": 0, "creation_date": 1490228341, "post_id": 42964728, "comment_id": 73024069, "body": "@Pytth I also want the response from the node app to my react-redux be rendered server side so the token request isn&#39;t seen by the client."}, {"owner": {"reputation": 3440, "user_id": 2983609, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/MtvUf.jpg?s=128&g=1", "display_name": "Pytth", "link": "https://stackoverflow.com/users/2983609/pytth"}, "edited": false, "score": 0, "creation_date": 1490228618, "post_id": 42964728, "comment_id": 73024147, "body": "Im not understanding why you need a token? If you have two servers running, why not just: 1) Have your client make a request to Node. 2) Have node make a request to PHP. 3) When the PHP get&#39;s the request, it can check that you included some arbitrary secret/value in the req body ( if it&#39;s there, you are good; if it&#39;s not, then the req is rejected). Get what Im saying? No one would have access to variable values on your server unless you have some other vulnerability."}, {"owner": {"reputation": 999, "user_id": 1940025, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/00cd1d2cd66bf36c0cd6b0aee4732505?s=128&d=identicon&r=PG", "display_name": "Hossein Jabbari", "link": "https://stackoverflow.com/users/1940025/hossein-jabbari"}, "reply_to_user": {"reputation": 3440, "user_id": 2983609, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/MtvUf.jpg?s=128&g=1", "display_name": "Pytth", "link": "https://stackoverflow.com/users/2983609/pytth"}, "edited": false, "score": 0, "creation_date": 1490231479, "post_id": 42964728, "comment_id": 73024940, "body": "@Pytth !! sometimes I&#39;m so entangled that I lose common sense. True what you said is most logical. Any good tutorials on how to implement a node app inside my react app?"}], "answers": [{"tags": [], "owner": {"reputation": 3440, "user_id": 2983609, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/MtvUf.jpg?s=128&g=1", "display_name": "Pytth", "link": "https://stackoverflow.com/users/2983609/pytth"}, "is_accepted": true, "score": 1, "last_activity_date": 1490285923, "creation_date": 1490285923, "answer_id": 42981588, "question_id": 42964728, "link": "https://stackoverflow.com/questions/42964728/server-side-jwt-for-my-react-redux-application/42981588#42981588", "title": "Server side JWT for my react-redux application", "body": "<p>Here is a good starter tutorial explaining how to hookup use Node and React together.</p>\n\n<p><a href=\"https://scotch.io/tutorials/react-on-the-server-for-beginners-build-a-universal-react-and-node-app\" rel=\"nofollow noreferrer\">https://scotch.io/tutorials/react-on-the-server-for-beginners-build-a-universal-react-and-node-app</a></p>\n"}], "owner": {"reputation": 999, "user_id": 1940025, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/00cd1d2cd66bf36c0cd6b0aee4732505?s=128&d=identicon&r=PG", "display_name": "Hossein Jabbari", "link": "https://stackoverflow.com/users/1940025/hossein-jabbari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 595, "favorite_count": 1, "accepted_answer_id": 42981588, "answer_count": 1, "score": 0, "last_activity_date": 1490285923, "creation_date": 1490226448, "question_id": 42964728, "link": "https://stackoverflow.com/questions/42964728/server-side-jwt-for-my-react-redux-application", "title": "Server side JWT for my react-redux application", "body": "<p>I am a beginner with <code>react</code> and <code>redux</code>. I have searched a lot but all I get is <code>server-side rendering</code>, but I don't want that (correct me if I'm wrong). What I want is this:</p>\n\n<p>My react-redux app calls an <code>API</code> to get some <code>JSON</code> response. The problem is that there is no user authentication <strong>(and won't be)</strong>. Therefore I want to have a <code>Token</code> for my <code>API</code> calls. I need my react-redux app to obtain a token on the <code>server-side</code> from my locally hosted PHP (Laravel) app through an API or HTTP request. Then set that token for my <code>client-side</code> of the react-redux app.</p>\n\n<p>I simply don't know where to start and how to have this <code>server.js</code> in my react-redux app.</p>\n"}, {"tags": ["javascript", "json", "post", "d3.js"], "answers": [{"tags": [], "owner": {"reputation": 125, "user_id": 650698, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/wVfKP.png?s=128&g=1", "display_name": "Duk", "link": "https://stackoverflow.com/users/650698/duk"}, "is_accepted": false, "score": 0, "last_activity_date": 1490228071, "creation_date": 1490228071, "answer_id": 42964983, "question_id": 42964726, "link": "https://stackoverflow.com/questions/42964726/d3-how-to-properly-pass-request-body-in-a-post-request/42964983#42964983", "title": "d3 how to properly pass request body in a post request?", "body": "<p>Try</p>\n\n<pre><code>d3.request(\"https://erudite-master-api-awsmaui.lab.expts.net/erudite/search\")\n  .header(\"Content-Type\", \"application/x-www-form-urlencoded\")\n  .mimeType(\"application/json\")\n  .post(\"intent=data-quality\", function (error,data){...});\n</code></pre>\n\n<p>And if you are expecting JSON response, you can just use d3.json instead.</p>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 5573429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8df29d54cb7737cd7c2119bc9ecf15ee?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Tesfaye", "link": "https://stackoverflow.com/users/5573429/daniel-tesfaye"}, "edited": false, "score": 0, "creation_date": 1490301019, "post_id": 42965753, "comment_id": 73064413, "body": "Thank you, &quot;.post(JSON.stringify(data)&quot; is what I needed."}], "tags": [], "owner": {"reputation": 101125, "user_id": 16363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/xv8q9.png?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/16363/mark"}, "is_accepted": true, "score": 4, "last_activity_date": 1490233376, "creation_date": 1490233376, "answer_id": 42965753, "question_id": 42964726, "link": "https://stackoverflow.com/questions/42964726/d3-how-to-properly-pass-request-body-in-a-post-request/42965753#42965753", "title": "d3 how to properly pass request body in a post request?", "body": "<p>Looking at your <code>curl</code>, my guess would be:</p>\n\n<pre><code>var data = {\n  \"action\": \"string\",\n  \"fields\": [\n    \"string\"\n  ],\n  \"filters\": {}\n};\n\nd3.request(\"https://erudite-master-api-awsmaui.lab.expts.net/erudite/search?intent=data-quality\")\n  .header(\"Content-Type\", \"application/json\")\n  .post(JSON.stringify(data), function (error,data) {\n\n    ...\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 5573429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8df29d54cb7737cd7c2119bc9ecf15ee?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Tesfaye", "link": "https://stackoverflow.com/users/5573429/daniel-tesfaye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1902, "favorite_count": 1, "accepted_answer_id": 42965753, "answer_count": 2, "score": 1, "last_activity_date": 1490233376, "creation_date": 1490226438, "question_id": 42964726, "link": "https://stackoverflow.com/questions/42964726/d3-how-to-properly-pass-request-body-in-a-post-request", "title": "d3 how to properly pass request body in a post request?", "body": "<p>I have this d3 script that generates a table based on the returned JSON results of a post request to a dynamic API.</p>\n\n<pre><code>d3.request(\"https://erudite-master-api-awsmaui.lab.expts.net/erudite/search\")\n.header(\"Content-Type\", \"application/json\")\n.post(\"intent=data-quality\", function (error,data){\n\n                      function tabulate(data, columns) {\n                            var table = d3.select('#response').append('table')\n                            var thead = table.append('thead')\n                            var tbody = table.append('tbody');\n\n                            // append the header row\n                            thead.append('tr')\n                              .selectAll('th')\n                              .data(columns).enter()\n                              .append('th')\n                                .text(function (column) { return column; });\n\n                            // create a row for each object in the data\n                            var rows = tbody.selectAll('tr')\n                              .data(data)\n                              .enter()\n                              .append('tr');\n\n                    console.log(data)\n                      // create a cell in each row for each column\n                      var cells = rows.selectAll('td')\n                              .data(function (row) {\n                                return columns.map(function (column) {\n                                  return {column: column, value: row[column]};\n                                });\n                              })\n                              .enter()\n                              .append('td')\n                                .text(function (d) { return d.value; });\n                      return table;\n                    }\n                        // render the table\n                        tabulate(data, d3.keys(data[0]));  \n\n                    });\n</code></pre>\n\n<p>When executing this post request to the API this is how it is expected to work passed input parameter: \n<a href=\"https://i.stack.imgur.com/oTN96.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oTN96.png\" alt=\"example request body\"></a>\n<a href=\"https://i.stack.imgur.com/nFWDQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nFWDQ.png\" alt=\"example request/response\"></a></p>\n\n<p>However when I'm running this script, I get a 400 error code returned. I think I know what I am missing which might be passing the request body? Not 100% certain though. Any help is appreciated. </p>\n"}, {"tags": ["javascript", "mongodb", "callback", "asynccallback"], "answers": [{"comments": [{"owner": {"reputation": 5795, "user_id": 1682924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09267d283f9e9b779ae68df72584ca99?s=128&d=identicon&r=PG", "display_name": "David van Driessche", "link": "https://stackoverflow.com/users/1682924/david-van-driessche"}, "edited": false, "score": 0, "creation_date": 1490255206, "post_id": 42964752, "comment_id": 73032581, "body": "Thanks much! I already thought of method 1, just tested it and of course that works. It also looks awful and grated against any sense of OOP I have built up over the years. But perhaps that&#39;s to be expected with Javascript; I&#39;m starting to think that there might be more downsides than upsides to trying to use classes in Javascript. Your second method is interesting, but I&#39;m never going to write code like that; it feels completely upside down."}, {"owner": {"reputation": 20471, "user_id": 1552587, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed783ecfe6b4babe78d4ae5b206ef431?s=128&d=identicon&r=PG", "display_name": "Titus", "link": "https://stackoverflow.com/users/1552587/titus"}, "reply_to_user": {"reputation": 5795, "user_id": 1682924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09267d283f9e9b779ae68df72584ca99?s=128&d=identicon&r=PG", "display_name": "David van Driessche", "link": "https://stackoverflow.com/users/1682924/david-van-driessche"}, "edited": false, "score": 0, "creation_date": 1490272718, "post_id": 42964752, "comment_id": 73044424, "body": "@DavidvanDriessche I added a new option to my answer. I had the same problem with JavaScript OOP but the new syntax (arrow functions and the <code>class</code> and <code>super</code> keywords) made things easier."}, {"owner": {"reputation": 5795, "user_id": 1682924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09267d283f9e9b779ae68df72584ca99?s=128&d=identicon&r=PG", "display_name": "David van Driessche", "link": "https://stackoverflow.com/users/1682924/david-van-driessche"}, "edited": false, "score": 0, "creation_date": 1490299059, "post_id": 42964752, "comment_id": 73063293, "body": "Ah, very cool. I&#39;m using this in a node-red project with node.js so I&#39;m assuming I won&#39;t have too many problems getting this to work. I&#39;m using your first method now and that works fine, but I&#39;m going to try this second method and read up on this class and super stuff (and the arrows); that feels more like it. Thanks Titus!"}, {"owner": {"reputation": 20471, "user_id": 1552587, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed783ecfe6b4babe78d4ae5b206ef431?s=128&d=identicon&r=PG", "display_name": "Titus", "link": "https://stackoverflow.com/users/1552587/titus"}, "reply_to_user": {"reputation": 5795, "user_id": 1682924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09267d283f9e9b779ae68df72584ca99?s=128&d=identicon&r=PG", "display_name": "David van Driessche", "link": "https://stackoverflow.com/users/1682924/david-van-driessche"}, "edited": false, "score": 0, "creation_date": 1490299423, "post_id": 42964752, "comment_id": 73063516, "body": "@DavidvanDriessche Yes, you can use the new syntax in node applications without problems. I&#39;m glad I could help. Good luck."}, {"owner": {"reputation": 5795, "user_id": 1682924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09267d283f9e9b779ae68df72584ca99?s=128&d=identicon&r=PG", "display_name": "David van Driessche", "link": "https://stackoverflow.com/users/1682924/david-van-driessche"}, "edited": false, "score": 0, "creation_date": 1490343300, "post_id": 42964752, "comment_id": 73079274, "body": "Hi Titus, this works beautifully. I read up a bunch on more advanced Javascript and your method 3 works perfectly. The syntax is still a little unwieldy, but not having to use this fake &quot;self&quot; variable is great and I find this syntax actually easier on the eyes than the regular function call back. Thanks once more!"}], "tags": [], "owner": {"reputation": 20471, "user_id": 1552587, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed783ecfe6b4babe78d4ae5b206ef431?s=128&d=identicon&r=PG", "display_name": "Titus", "link": "https://stackoverflow.com/users/1552587/titus"}, "is_accepted": true, "score": 1, "last_activity_date": 1490272615, "last_edit_date": 1490272615, "creation_date": 1490226566, "answer_id": 42964752, "question_id": 42964657, "link": "https://stackoverflow.com/questions/42964657/how-can-i-update-a-member-variable-of-a-javascript-class-with-a-value-from-mongo/42964752#42964752", "title": "How can I update a member variable of a Javascript class with a value from MongoDB?", "body": "<p>Yes, you're right, inside the callback <code>this</code> doesn't refer to the <code>Job</code> object anymore. To fix that you have a couple of options.</p>\n\n<p>1) Keep a reference to the Job object to use inside the callback to set the <code>id</code>.</p>\n\n<pre><code>Job.prototype.createFromID = function( inID, callback ) {\n\n    this.id = \"\";\n    var self = this;\n\n    var db = MongoClient.connect('mongodb://localhost:27017/nodepurple', function( err, db ) {\n        if (err) { \n            return false; \n        }\n        db.collection('jobs').find({ jobID: inID }).limit( 1 ).toArray( function( err, theJobs ) {\n            if (theJobs.length == 1) {\n                self.id = theJobs[0].jobID;\n                db.close();\n                callback( (self.id != \"\"), self );\n            }\n        }); \n    }); \n}\n</code></pre>\n\n<p>2) Bind the Job object to the callback function</p>\n\n<pre><code>Job.prototype.createFromID = function( inID, callback ) {\n\n    this.id = \"\";\n    var mongoCallback2 = function(err, theJobs) {\n        if (theJobs.length == 1) {\n            this.id = theJobs[0].jobID;\n            db.close();\n            callback((this.id != \"\"), this);\n        }\n    }\n    var mongoCallback1 = function(err, db) {\n        if (err) { return false; }\n        db.collection('jobs').find({jobID: inID}).limit(1).toArray(mongoCallback2.bind(this)); \n    }); \n\n    var db = MongoClient.connect('mongodb://localhost:27017/nodepurple', mongoCallback1.bind(this));\n}\n</code></pre>\n\n<p>3) Using arrow functions. Arrow functions do not change the context.</p>\n\n<pre><code>Job.prototype.createFromID = function( inID, callback ) {\n\n    this.id = \"\";\n\n    var db = MongoClient.connect('mongodb://localhost:27017/nodepurple', (err, db) =&gt; {\n        if (err) { \n            return false; \n        }\n        db.collection('jobs').find({jobID: inID}).limit( 1 ).toArray((err, theJobs) =&gt; {\n            if (theJobs.length == 1) {\n                self.id = theJobs[0].jobID;\n                db.close();\n                callback((this.id != \"\"), this);\n            }\n        }); \n    }); \n}\n</code></pre>\n\n<p>Arrow functions are not supported by all browser or all browser versions but there are tools out there that can convert you code to work on a wider range of browsers and browsers versions.</p>\n"}], "owner": {"reputation": 5795, "user_id": 1682924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09267d283f9e9b779ae68df72584ca99?s=128&d=identicon&r=PG", "display_name": "David van Driessche", "link": "https://stackoverflow.com/users/1682924/david-van-driessche"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "accepted_answer_id": 42964752, "answer_count": 1, "score": 0, "last_activity_date": 1490272615, "creation_date": 1490225915, "question_id": 42964657, "link": "https://stackoverflow.com/questions/42964657/how-can-i-update-a-member-variable-of-a-javascript-class-with-a-value-from-mongo", "title": "How can I update a member variable of a Javascript class with a value from MongoDB?", "body": "<p>I have a job class, defined in Javascript as such:</p>\n\n<pre><code>var Job = function() {};\nmodule.exports = Job;\n</code></pre>\n\n<p>I then define a member function using its prototype. That works fine, until I try to use a value from a database to set the member variable:</p>\n\n<pre><code>// Create from an existing job ID\nJob.prototype.createFromID = function( inID, callback ) {\n\n    // Start by making sure we're invalid \n    this.id = \"\";\n\n    // Connect to database\n    var db = MongoClient.connect('mongodb://localhost:27017/nodepurple', function( err, db ) {\n        if (err) { return false; }\n\n        // Find the job document we're interested in\n        db.collection('jobs').find({ jobID: inID }).limit( 1 ).toArray( function( err, theJobs ) {\n            if (theJobs.length == 1) {\n                this.id = theJobs[0].jobID;\n\n                // Close the database\n                db.close();\n\n                callback( (this.id != \"\"), this );\n            }\n        }); // Find\n    }); // Connect\n}\n</code></pre>\n\n<p>The purpose of this function is to:</p>\n\n<ul>\n<li>Get a MongoDB document defining the specific job I'm interested in (defined by the \"inID\" parameter.</li>\n<li>Fill a bunch of member variables of the job instance for which this function was called.</li>\n</ul>\n\n<p>This doesn't work. I think I understand why it doesn't work, when these MongoDB callbacks return, I'm assuming I'm no longer in the right context to make this work, but I'm struggling to see how this can be resolved.</p>\n\n<p>So, how can I take the value MongoDB gives me back for jobID and use that to populate the \"id\" member variable in the particular Job instance I'm working on?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 1516, "user_id": 4922688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/M7SdI.jpg?s=128&g=1", "display_name": "John Rey M. Baylen", "link": "https://stackoverflow.com/users/4922688/john-rey-m-baylen"}, "edited": false, "score": 0, "creation_date": 1490225754, "post_id": 42964590, "comment_id": 73023294, "body": "<code>array.splice(array.indexOf(&#39;tree&#39;), 1);</code> second parameter tells how many to delete."}, {"owner": {"reputation": 20471, "user_id": 1552587, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed783ecfe6b4babe78d4ae5b206ef431?s=128&d=identicon&r=PG", "display_name": "Titus", "link": "https://stackoverflow.com/users/1552587/titus"}, "edited": false, "score": 1, "creation_date": 1490225981, "post_id": 42964590, "comment_id": 73023363, "body": "Beside specifying how many elements should be deleted you should also make sure that <code>array.indexOf(...)</code> doesn&#39;t return <code>-1</code> otherwise <code>splice(-1, 1)</code> will remove the last element."}], "answers": [{"tags": [], "owner": {"reputation": 2449, "user_id": 6346483, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154223277015798/picture?type=large", "display_name": "Anish Goyal", "link": "https://stackoverflow.com/users/6346483/anish-goyal"}, "is_accepted": false, "score": 2, "last_activity_date": 1490226131, "last_edit_date": 1490226131, "creation_date": 1490225627, "answer_id": 42964607, "question_id": 42964590, "link": "https://stackoverflow.com/questions/42964590/javascript-how-can-i-use-splice-on-an-array-to-move-a-specific-word/42964607#42964607", "title": "Javascript: How can I use splice() on an array to move a specific word?", "body": "<p>You also have to provide an argument specifying how many items to delete. Otherwise, all elements from the specified start index will be removed.</p>\n\n<pre><code>array.splice(array.indexOf('tree'), 1);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11951, "user_id": 1126273, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XqyXV.png?s=128&g=1", "display_name": "Bal&#225;zs &#201;des", "link": "https://stackoverflow.com/users/1126273/bal%c3%a1zs-%c3%89des"}, "is_accepted": false, "score": 2, "last_activity_date": 1490225637, "creation_date": 1490225637, "answer_id": 42964608, "question_id": 42964590, "link": "https://stackoverflow.com/questions/42964590/javascript-how-can-i-use-splice-on-an-array-to-move-a-specific-word/42964608#42964608", "title": "Javascript: How can I use splice() on an array to move a specific word?", "body": "<p>Just filter it:</p>\n\n<pre><code>const withoutTree = array.filter(word =&gt; word !== 'tree')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 396, "user_id": 7470815, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2dkYqnfFeao/AAAAAAAAAAI/AAAAAAAAAG0/XKVwtqt15Ec/photo.jpg?sz=128", "display_name": "Ehren Murdick", "link": "https://stackoverflow.com/users/7470815/ehren-murdick"}, "is_accepted": false, "score": 3, "last_activity_date": 1490225665, "creation_date": 1490225665, "answer_id": 42964614, "question_id": 42964590, "link": "https://stackoverflow.com/questions/42964590/javascript-how-can-i-use-splice-on-an-array-to-move-a-specific-word/42964614#42964614", "title": "Javascript: How can I use splice() on an array to move a specific word?", "body": "<p>The second argument to <code>splice</code> is the number of items to delete.</p>\n\n<pre><code>array.splice(array.indexOf('tree'), 1);\n</code></pre>\n\n<p>otherwise all following elements are deleted.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice</a></p>\n"}, {"tags": [], "owner": {"reputation": 1056, "user_id": 5515908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a3e62f0ae609ea09d82c9b88e2bf5d55?s=128&d=identicon&r=PG&f=1", "display_name": "techie_questie", "link": "https://stackoverflow.com/users/5515908/techie-questie"}, "is_accepted": false, "score": 0, "last_activity_date": 1490255856, "creation_date": 1490255856, "answer_id": 42970208, "question_id": 42964590, "link": "https://stackoverflow.com/questions/42964590/javascript-how-can-i-use-splice-on-an-array-to-move-a-specific-word/42970208#42970208", "title": "Javascript: How can I use splice() on an array to move a specific word?", "body": "<p>Javascript splice method works with index to be deleted and item to be deleted.\nIn your case-</p>\n\n<pre><code>var newArray =  array.splice(2,1);\nconsole.log(newArray);// outputs ['dog','man']\n</code></pre>\n\n<p>Here 2 is the index of the element to be deleted which is 'tree' in your case and the second argument defines the number of element to be deleted.</p>\n"}], "owner": {"reputation": 767, "user_id": 5011074, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/1706535979573780/picture?type=large", "display_name": "Colin Sygiel", "link": "https://stackoverflow.com/users/5011074/colin-sygiel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1490255856, "creation_date": 1490225530, "question_id": 42964590, "link": "https://stackoverflow.com/questions/42964590/javascript-how-can-i-use-splice-on-an-array-to-move-a-specific-word", "title": "Javascript: How can I use splice() on an array to move a specific word?", "body": "<p>This is the code I have - can you please tell me what is wrong? I would like to remove a specific word from the array using splice, in this case \"tree\".</p>\n\n<pre><code>var array = ['dog', 'man', 'tree']\narray.splice(array.indexOf('tree'));\n</code></pre>\n"}, {"tags": ["javascript", "google-maps", "google-maps-api-3"], "answers": [{"comments": [{"owner": {"reputation": 15279, "user_id": 1058134, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/44W6b.png?s=128&g=1", "display_name": "Huangism", "link": "https://stackoverflow.com/users/1058134/huangism"}, "edited": false, "score": 0, "creation_date": 1606754834, "post_id": 42976800, "comment_id": 115050887, "body": "Places Autocomplete API provides a way to get the selected address, <a href=\"https://developers.google.com/maps/documentation/javascript/examples/places-autocomplete\" rel=\"nofollow noreferrer\">developers.google.com/maps/documentation/javascript/examples&zwnj;&#8203;/&hellip;</a>"}], "tags": [], "owner": {"reputation": 4336, "user_id": 5452965, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PVSOP.jpg?s=128&g=1", "display_name": "codtex", "link": "https://stackoverflow.com/users/5452965/codtex"}, "is_accepted": true, "score": 2, "last_activity_date": 1546943522, "last_edit_date": 1546943522, "creation_date": 1490274009, "answer_id": 42976800, "question_id": 42964586, "link": "https://stackoverflow.com/questions/42964586/maps-api-autocomplete-suggestion-wont-replace-value-of-input/42976800#42976800", "title": "Maps API autocomplete suggestion won&#39;t replace value of input", "body": "<p>Hello_ mate,</p>\n\n<p>it seems like <code>searchInput.value</code> is still not updated when you call your code.</p>\n\n<p>Try putting a timeout before executing your code - see forked codepen <strong><a href=\"https://codepen.io/anon/pen/VqdxVX?editors=1111\" rel=\"nofollow noreferrer\">HERE</a></strong></p>\n\n<p>So you can fix your issue like this:</p>\n\n<pre><code>searchInput.addEventListener(\"change\", () =&gt; {\n    // Wrap in setTimeout, so you give time searchInput.value to be updated\n    setTimeout(function() {\n        let addr = searchInput.value;\n        console.log(addr)\n        let embed = \"&lt;iframe frameborder='0' scrolling='no' marginheight='0' marginwidth='0' src='https://maps.google.com/maps?&amp;amp;q=\" + encodeURIComponent(addr) + \"&amp;amp;output=embed'&gt;&lt;/iframe&gt;\";\n\n        $('.place').html(embed);\n    }, 100); \n});\n</code></pre>\n\n<p><strong>Conclusion</strong></p>\n\n<p>There is a delay before <code>google.maps.places.Autocomplete</code> updates the value of <code>&lt;input&gt;</code></p>\n"}], "owner": {"reputation": 1897, "user_id": 3713238, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/pRmL1.jpg?s=128&g=1", "display_name": "Auzy", "link": "https://stackoverflow.com/users/3713238/auzy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 419, "favorite_count": 0, "accepted_answer_id": 42976800, "answer_count": 1, "score": 2, "last_activity_date": 1546943522, "creation_date": 1490225502, "question_id": 42964586, "link": "https://stackoverflow.com/questions/42964586/maps-api-autocomplete-suggestion-wont-replace-value-of-input", "title": "Maps API autocomplete suggestion won&#39;t replace value of input", "body": "<p>I have an input field that uses Google Maps API autocomplete. I want to save the data from that input to database(Firebase). But the issue is that after selecting the autocomplete result and submitting the form it shows the value saving what <strong>I typed prior to selecting autocomple</strong></p>\n\n<p>EX:</p>\n\n<p>I select \"New York City...\" from autocomplete after typing \"New\"\nEven though the input field shows \"New York City\" what it submits is only \"New\"</p>\n\n<p>For demo purposes I hooked it up to a Google Map iframe: Full code found here: <a href=\"http://codepen.io/Auzy/pen/wJyXKR?editors=1111\" rel=\"nofollow noreferrer\">http://codepen.io/Auzy/pen/wJyXKR?editors=1111</a></p>\n\n<pre><code>const searchInput = document.getElementById('searchTextField');\nconst autocomplete = new google.maps.places.Autocomplete(searchInput);\n\nsearchInput.addEventListener(\"change\", () =&gt; {\n    let addr = searchInput.value;\n    console.log(addr)\n    let embed= \"&lt;iframe frameborder='0' scrolling='no' marginheight='0' marginwidth='0' src='https://maps.google.com/maps?&amp;amp;q=\"+ encodeURIComponent( addr ) + \"&amp;amp;output=embed'&gt;&lt;/iframe&gt;\";  \n\n    $('.place').html(embed);                                         \n});\nfunction getInput(){\n\n    var addr = document.getElementById('searchTextField').value;\n\n\n        var embed= \"&lt;iframe frameborder='0' scrolling='no' marginheight='0' marginwidth='0' src='https://maps.google.com/maps?&amp;amp;q=\"+ encodeURIComponent( addr ) + \"&amp;amp;output=embed'&gt;&lt;/iframe&gt;\";  \n\n        $('.place').html(embed);\n\n};\n</code></pre>\n"}, {"tags": ["javascript", "nginx"], "answers": [{"tags": [], "owner": {"reputation": 1116, "user_id": 6208463, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-caVKD5yXnrQ/AAAAAAAAAAI/AAAAAAAAAGE/t3mDGvVkNtk/photo.jpg?sz=128", "display_name": "Jason Joslin", "link": "https://stackoverflow.com/users/6208463/jason-joslin"}, "is_accepted": true, "score": 1, "last_activity_date": 1493029590, "creation_date": 1493029590, "answer_id": 43585650, "question_id": 42964555, "link": "https://stackoverflow.com/questions/42964555/nginx-only-serving-first-72kbs-of-my-js-files/43585650#43585650", "title": "Nginx only serving first 72kbs of my JS files", "body": "<p>Would appear when disk space is low NGINX defaults to minimal safe settings.</p>\n\n<p>When I checked the VMs health I noticed that the disk drive was full. Elasticsearch was logging a couple of GBs worth of text in to error logs each day. I still Have not fully identified why elastic search is flooding the error logs.</p>\n\n<p>But I think excessive disk space usage has contributed to this error. Nginx could be detecting this and switching over to minimal safe configuration which would only allow 72kbs of data to be served per file.</p>\n\n<p>Once I cleared out the excessive logs, Nginx began serving the full JS files again without needing to restart nginx or kibana.</p>\n"}], "owner": {"reputation": 1116, "user_id": 6208463, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-caVKD5yXnrQ/AAAAAAAAAAI/AAAAAAAAAGE/t3mDGvVkNtk/photo.jpg?sz=128", "display_name": "Jason Joslin", "link": "https://stackoverflow.com/users/6208463/jason-joslin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 43585650, "answer_count": 1, "score": 0, "last_activity_date": 1520923326, "creation_date": 1490225291, "last_edit_date": 1520923326, "question_id": 42964555, "link": "https://stackoverflow.com/questions/42964555/nginx-only-serving-first-72kbs-of-my-js-files", "title": "Nginx only serving first 72kbs of my JS files", "body": "<p>Nginx appears to only be loading the first 72kbs of my javascript files. I've searched all around  my nginx config files and cannot see this setting anywhere. I've added things like </p>\n\n<pre><code>location / {\n    ...\n    proxy_max_temp_file_size 1m;\n    ...\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>location / {\n    ...\n    sendfile on;\n    sendfile_max_chunk 1m;\n\n    ...\n}\n</code></pre>\n\n<p>But still I'm unable to overwrite this weird setting that is only allowing first part of the file to load.</p>\n\n<p>The connection uses nginx <code>proxy_pass</code> to foward port <code>80</code> to kibanas port '5601'. I feel like there could be a setting that limits file transfer over proxy? Just not sure where to find it.</p>\n\n<p>proxypass connection looks like:</p>\n\n<pre><code>server {\n    listen 80;\n\n    server_name logs.mydomain.com;\n\n    auth_basic \"Restricted Access\";\n    auth_basic_user_file /etc/nginx/htpasswd.users;\n\n    location / {\n        proxy_pass http://localhost:5601;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection 'upgrade';\n        proxy_set_header Host $host;\n        proxy_cache_bypass $http_upgrade;\n    }\n}\n</code></pre>\n\n<p>And my default nginx settings is posted here:</p>\n\n<blockquote>\n  <p><a href=\"http://www.heypasteit.com/clip/OEKIR\" rel=\"nofollow noreferrer\">http://www.heypasteit.com/clip/OEKIR</a></p>\n</blockquote>\n"}, {"tags": ["javascript", "firebase", "web", "push-notification", "firebase-cloud-messaging"], "answers": [{"comments": [{"owner": {"reputation": 866, "user_id": 3349900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63afbae7034d05e0bbe69f2d7b15a974?s=128&d=identicon&r=PG&f=1", "display_name": "tutankhamun", "link": "https://stackoverflow.com/users/3349900/tutankhamun"}, "edited": false, "score": 0, "creation_date": 1492976077, "post_id": 43226371, "comment_id": 74201318, "body": "That&#39;s wrong. Look at another answer (by PaulPaulsen)"}], "tags": [], "owner": {"reputation": 374, "user_id": 5146763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/642d4ffa929f1ca23563de42864dc67e?s=128&d=identicon&r=PG&f=1", "display_name": "Dheeraj Nalawade", "link": "https://stackoverflow.com/users/5146763/dheeraj-nalawade"}, "is_accepted": false, "score": -1, "last_activity_date": 1491382428, "creation_date": 1491382428, "answer_id": 43226371, "question_id": 42964547, "link": "https://stackoverflow.com/questions/42964547/uncaught-firebaseerror-messaging-this-method-is-available-in-a-window-context/43226371#43226371", "title": "Uncaught FirebaseError: Messaging: This method is available in a Window context", "body": "<p>This is happening because you might have added the following code in service worker file(firebase-messaging-sw.js) \nconst messaging = firebase.messaging();</p>\n\n<p>Remove it and see code works.</p>\n\n<p>The above line should be added to index.html only.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 2632181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55d40dc391aac18e6aca0f4403804ee1?s=128&d=identicon&r=PG", "display_name": "PaulPaulsen", "link": "https://stackoverflow.com/users/2632181/paulpaulsen"}, "is_accepted": false, "score": 3, "last_activity_date": 1492551308, "creation_date": 1492551308, "answer_id": 43482590, "question_id": 42964547, "link": "https://stackoverflow.com/questions/42964547/uncaught-firebaseerror-messaging-this-method-is-available-in-a-window-context/43482590#43482590", "title": "Uncaught FirebaseError: Messaging: This method is available in a Window context", "body": "<p>Please keep the Line, it is very much required in the SW:</p>\n\n<blockquote>\n  <p>const messaging = firebase.messaging();</p>\n</blockquote>\n\n<p>The Issue is not Messaging itself, but most likely a part of it that is used in your SW which however is not supported in there.</p>\n\n<p>Sadly I can't see your Code from the SW, but what was causing this issue for me was that I implemented the following to receive Messages, while the Website is in foreground:</p>\n\n<pre><code>messaging.onMessage(function(payload) {\n  console.log(\"Message received. \", payload);\n  // ...\n});\n</code></pre>\n\n<p>This however requires the window context and needs to be implemented in the actual website, not the SW. For me this caused the Error you described.</p>\n\n<p>Try using <a href=\"https://github.com/firebase/quickstart-js/blob/master/messaging/firebase-messaging-sw.js\" rel=\"nofollow noreferrer\">Firebases sample SW</a>. This is doing everything it needs to and allows you to receive Notifications in the Background.</p>\n\n<p>If you want to share your SW code, we could have a look at it.</p>\n"}, {"comments": [{"owner": {"reputation": 451, "user_id": 2042120, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/64c1820ca9fbf538493e8f6f4b4d472f?s=128&d=identicon&r=PG", "display_name": "Deepak", "link": "https://stackoverflow.com/users/2042120/deepak"}, "edited": false, "score": 0, "creation_date": 1516365122, "post_id": 44383158, "comment_id": 83667562, "body": "@kimberlee did you try this? Did it help?"}, {"owner": {"reputation": 205, "user_id": 314584, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/83e30c3421f3568234a78bf9ceae7ad0?s=128&d=identicon&r=PG", "display_name": "Matt Austin", "link": "https://stackoverflow.com/users/314584/matt-austin"}, "edited": false, "score": 1, "creation_date": 1567792121, "post_id": 44383158, "comment_id": 102083275, "body": "Hi, I have this issue too. The messaging variable is defined in my service worker so I can&#39;t reference it in the main javascript file. Surely I don&#39;t need to initialize firebase twice (once in service worker and once in the web app)? Is there an elegant/efficent way to subscribe to messages in both foreground and background?"}, {"owner": {"reputation": 421, "user_id": 8037167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q0xex.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/8037167/peter"}, "reply_to_user": {"reputation": 205, "user_id": 314584, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/83e30c3421f3568234a78bf9ceae7ad0?s=128&d=identicon&r=PG", "display_name": "Matt Austin", "link": "https://stackoverflow.com/users/314584/matt-austin"}, "edited": false, "score": 1, "creation_date": 1573108624, "post_id": 44383158, "comment_id": 103775350, "body": "@MattAustin Did you manage to solve your problem? Also curious at the moment."}, {"owner": {"reputation": 205, "user_id": 314584, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/83e30c3421f3568234a78bf9ceae7ad0?s=128&d=identicon&r=PG", "display_name": "Matt Austin", "link": "https://stackoverflow.com/users/314584/matt-austin"}, "reply_to_user": {"reputation": 421, "user_id": 8037167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q0xex.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/8037167/peter"}, "edited": false, "score": 0, "creation_date": 1573121961, "post_id": 44383158, "comment_id": 103781842, "body": "@Peter the following is working well for me to avoid initializing twice...   var fbase = !firebase.apps.length        ? firebase.initializeApp({         &#39;messagingSenderId&#39;: &#39;&lt;MY_ID&gt;&#39;       })        : firebase.app(); const messaging = fbase.messaging()"}], "tags": [], "owner": {"reputation": 451, "user_id": 2042120, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/64c1820ca9fbf538493e8f6f4b4d472f?s=128&d=identicon&r=PG", "display_name": "Deepak", "link": "https://stackoverflow.com/users/2042120/deepak"}, "is_accepted": false, "score": 19, "last_activity_date": 1496731827, "creation_date": 1496731827, "answer_id": 44383158, "question_id": 42964547, "link": "https://stackoverflow.com/questions/42964547/uncaught-firebaseerror-messaging-this-method-is-available-in-a-window-context/44383158#44383158", "title": "Uncaught FirebaseError: Messaging: This method is available in a Window context", "body": "<p>This method should be there in the main javascript file, NOT in service worker. Service Worker works in the background.</p>\n\n<pre><code>    messaging.onMessage(function(payload) {\n      console.log(\"Message received. \", payload);\n      // ...\n    });\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 14643, "user_id": 1377145, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9f9cf7ea6e5c50a9c05c631a2fe3ae18?s=128&d=identicon&r=PG", "display_name": "Hugo Gresse", "link": "https://stackoverflow.com/users/1377145/hugo-gresse"}, "edited": false, "score": 0, "creation_date": 1503920547, "post_id": 44815855, "comment_id": 78794658, "body": "apiKey != cloud messaging server key. BTW, you should only need the <code>server id</code> not the <code>server key</code>"}], "tags": [], "owner": {"reputation": 834, "user_id": 4925203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2UZui.jpg?s=128&g=1", "display_name": "Grant Castner", "link": "https://stackoverflow.com/users/4925203/grant-castner"}, "is_accepted": false, "score": -1, "last_activity_date": 1498706584, "creation_date": 1498706584, "answer_id": 44815855, "question_id": 42964547, "link": "https://stackoverflow.com/questions/42964547/uncaught-firebaseerror-messaging-this-method-is-available-in-a-window-context/44815855#44815855", "title": "Uncaught FirebaseError: Messaging: This method is available in a Window context", "body": "<p>I was receiving a similar error. Updating my JavaScript to use the new server key rather than the legacy server key removed the error. To get the new key, go to Firebase Console --> Cloud Messaging. Note that the web app quick start on the Firebase console overview page still uses the legacy key.</p>\n\n<pre><code>var config = {\n    apiKey: \"&lt;**newAPIKey**&gt;\",\n    authDomain: \"&lt;domain&gt;\",\n    databaseURL: \"&lt;databaseUrl&gt;\",\n    projectId: \"&lt;id&gt;\",\n    storageBucket: \"\",\n    messagingSenderId: \"&lt;SenderId&gt;\"\n};\nfirebase.initializeApp(config);\n</code></pre>\n"}], "owner": {"reputation": 487, "user_id": 1066949, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/63e7395930f348f86d1ce8c6f210339f?s=128&d=identicon&r=PG", "display_name": "Kimberlee Ho", "link": "https://stackoverflow.com/users/1066949/kimberlee-ho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14511, "favorite_count": 1, "answer_count": 4, "score": 7, "last_activity_date": 1498706584, "creation_date": 1490225245, "last_edit_date": 1490235144, "question_id": 42964547, "link": "https://stackoverflow.com/questions/42964547/uncaught-firebaseerror-messaging-this-method-is-available-in-a-window-context", "title": "Uncaught FirebaseError: Messaging: This method is available in a Window context", "body": "<p>I'm using Firebase service worker for web push notification. Currently, I am facing this error:</p>\n\n<pre><code>Uncaught FirebaseError: Messaging: This method is available in a Window context. (messaging/only-available-in-window).\n</code></pre>\n\n<p>I am using a website on my desktop to register the SW. How do I resolve this issue?</p>\n\n<p>Error stack I'm getting in console.</p>\n\n<pre><code>browserErrorMessage: \"Failed to register a ServiceWorker: ServiceWorker script evaluation failed\"\ncode :\"messaging/failed-serviceworker-registration\"\nmessage :\"Messaging: We are unable to register the default service worker. Failed to register a ServiceWorker: ServiceWorker script evaluation failed (messaging/failed-serviceworker-registration).\"\nstack: \"FirebaseError: Messaging: We are unable to register the default service worker. Failed to register a ServiceWorker: ServiceWorker script evaluation failed (messaging/failed-serviceworker-registration).\u21b5    at https://www.gstatic.com/firebasejs/3.7.0/firebase.js:555:225\"\n__proto__: Error\n</code></pre>\n\n<p>Thank you</p>\n"}, {"tags": ["javascript", "unit-testing", "nock"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6630458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d6161754b9fba95a80f442f5ab6bd0?s=128&d=identicon&r=PG&f=1", "display_name": "binndur", "link": "https://stackoverflow.com/users/6630458/binndur"}, "edited": false, "score": 0, "creation_date": 1490227695, "post_id": 42964665, "comment_id": 73023862, "body": "thats my understanding too, but whatever I have above without the body is returning me a response, thats what is confusing me. why is my example not throwing NOCK no match found error"}], "tags": [], "owner": {"reputation": 2330, "user_id": 4895407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wd3Qi.jpg?s=128&g=1", "display_name": "edwarddamato", "link": "https://stackoverflow.com/users/4895407/edwarddamato"}, "is_accepted": false, "score": 0, "last_activity_date": 1490225963, "creation_date": 1490225963, "answer_id": 42964665, "question_id": 42964541, "link": "https://stackoverflow.com/questions/42964541/why-is-nock-matching-request-when-body-time-and-timeout-should-not-match/42964665#42964665", "title": "Why is nock matching request when body, time and timeout should not match?", "body": "<p>You need to specify a <code>body</code> in your <code>nock</code> object otherwise nock will just intercept it based on the URL and verb.</p>\n\n<p>As per the <a href=\"https://github.com/node-nock/nock#specifying-request-body\" rel=\"nofollow noreferrer\">official nock documentation</a>, a body must be specified in order to be matched.</p>\n\n<p>Your nock object would look something like this:</p>\n\n<pre><code>nock(`http://localhost`, {\n  reqheaders: {\n    'Content-Type': 'application/json'\n  }\n})\n.post('/', {\n  test: 'test'\n})\n.reply(201, function () {\n  return fs.readFileSync(`./data/mock-response.json`, 'utf8');\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 639, "user_id": 500328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88c3aca00a32d4b4a06cd94095893eca?s=128&d=identicon&r=PG", "display_name": "Hari Gangadharan", "link": "https://stackoverflow.com/users/500328/hari-gangadharan"}, "is_accepted": false, "score": 0, "last_activity_date": 1538493368, "creation_date": 1538493368, "answer_id": 52611354, "question_id": 42964541, "link": "https://stackoverflow.com/questions/42964541/why-is-nock-matching-request-when-body-time-and-timeout-should-not-match/52611354#52611354", "title": "Why is nock matching request when body, time and timeout should not match?", "body": "<p>According to doc: You <strong>can</strong> specify the request body to be matched as the second argument to the get, post, put or delete specifications.</p>\n\n<p>It does not say <strong>must</strong>. All posts will match if no body is specified.</p>\n"}], "owner": {"reputation": 11, "user_id": 6630458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d6161754b9fba95a80f442f5ab6bd0?s=128&d=identicon&r=PG&f=1", "display_name": "binndur", "link": "https://stackoverflow.com/users/6630458/binndur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2906, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550503887, "creation_date": 1490225210, "last_edit_date": 1490225514, "question_id": 42964541, "link": "https://stackoverflow.com/questions/42964541/why-is-nock-matching-request-when-body-time-and-timeout-should-not-match", "title": "Why is nock matching request when body, time and timeout should not match?", "body": "<p>I have a service request nocked, I expect a nock error (nock: No match for request POST) in this case but getting a successful response. wondering why!</p>\n\n<pre><code>nock(`http://localhost`, {\n                reqheaders: {\n                    'Content-Type': 'application/json'\n                }\n            })\n            .post('/')\n            .reply(201, function () {\n                return fs.readFileSync(`./data/mock-response.json`, 'utf8');\n            });\n</code></pre>\n\n<p>and the actual service call is</p>\n\n<pre><code>    request(\n    url: 'http://localhost/',\n    time:true,\n    timeout: 5000,\n    method: 'POST',\n    headers: {\n        Content-Type: 'application/json\n    },\n    body: {\n        test:'test'}\n</code></pre>\n\n<p>)</p>\n\n<p>Am not matching on the following parameters with nock\nbody,time,timeout\nstill nocks returns me the right son</p>\n"}, {"tags": ["javascript", "angular", "recursion"], "comments": [{"owner": {"reputation": 5626, "user_id": 635678, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Lqi4B.jpg?s=128&g=1", "display_name": "Dan O", "link": "https://stackoverflow.com/users/635678/dan-o"}, "edited": false, "score": 0, "creation_date": 1490225336, "post_id": 42964534, "comment_id": 73023158, "body": "<a href=\"http://stackoverflow.com/questions/3127429/how-does-the-this-keyword-work/3127440#3127440\" title=\"how does the this keyword work\">stackoverflow.com/questions/3127429/&hellip;</a>"}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1490225705, "post_id": 42964534, "comment_id": 73023279, "body": "You definitely do not want to start a new <i>interval</i> on every recursive call. Use <code>setTimeout</code> instead. And don&#39;t forget the <code>if (this.timeLeft &gt; 0)</code> condition."}], "owner": {"reputation": 378, "user_id": 7106700, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gLlmr.jpg?s=128&g=1", "display_name": "slotdp02", "link": "https://stackoverflow.com/users/7106700/slotdp02"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "closed_date": 1490225723, "answer_count": 0, "score": 0, "last_activity_date": 1502637765, "creation_date": 1490225186, "last_edit_date": 1502637765, "question_id": 42964534, "link": "https://stackoverflow.com/questions/42964534/recursive-function-in-angular-2", "closed_reason": "Duplicate", "title": "Recursive function in Angular 2", "body": "<p>I get an error when I write this recursive function in Angular 2 (Typescript):</p>\n\n<pre><code>ngOnInit() {\n    this.countdown(6)\n}\n\ncountdown(time) {\n    this.timeLeft = time - 1\n    console.log(this.timeLeft)\n    setInterval(function() {\n      this.countdown(this.timeLeft)\n    }, 1000)\n }\n</code></pre>\n\n<p><em>timeLeft</em> is declared as a class property.</p>\n\n<p>Here is the error I get:</p>\n\n<pre><code>EXCEPTION: this.countdown is not a function\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<p>Thanks! </p>\n"}, {"tags": ["javascript", "knockout.js"], "comments": [{"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 0, "creation_date": 1490235876, "post_id": 42964523, "comment_id": 73026174, "body": "I was just about to tell you about <code>bind</code> when I read your final sentence."}, {"owner": {"reputation": 4224, "user_id": 1922611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RSD8r.jpg?s=128&g=1", "display_name": "Jason Spake", "link": "https://stackoverflow.com/users/1922611/jason-spake"}, "edited": false, "score": 0, "creation_date": 1490286972, "post_id": 42964523, "comment_id": 73055976, "body": "It would be helpful to see some of the javascript too. The knockout binding context shouldn&#39;t have anything to do with the value of &quot;this&quot; inside your functions."}], "owner": {"reputation": 15524, "user_id": 1715673, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/dcd9836a94720caadd7dfc82d1df627d?s=128&d=identicon&r=PG", "display_name": "Peter Wone", "link": "https://stackoverflow.com/users/1715673/peter-wone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 410, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1490304719, "creation_date": 1490225160, "last_edit_date": 1495535411, "question_id": 42964523, "link": "https://stackoverflow.com/questions/42964523/scope-in-knockout-binding", "title": "Scope in knockout binding", "body": "<p>This is some mark-up for a list of answers in a question editor.</p>\n\n<pre><code>var Answers = ko.observableArray([\"Answer 1\",\"Answer 2\",\"Answer 3\"]);\n\n&lt;!-- ko foreach: Answers --&gt;\n&lt;div class=\"qa-box\" data-bind=\"event: { mousedown: mouseDown, dragend: dragEnd, dragstart: dragStart }\"&gt;\n  &lt;div class=\"qa-body\"&gt;\n    &lt;div class=\"radio\"&gt;\n      &lt;label&gt;\n        &lt;input type=\"radio\" data-bind=\"attr: { name: 'Q' + $parentContext.$index(), value: $index }, checked: $parent.CorrectAnswer\" /&gt;&lt;span&gt;&lt;/span&gt;\n        Tick the correct answer\n      &lt;/label&gt;\n      &lt;a href=\"#\" data-bind=\"click: function(d,e){ $parent.remove(d,e); }\"&gt;\n        &lt;i class=\"fa fa-times\"&gt;&lt;/i&gt;\n        Remove this answer\n      &lt;/a&gt;\n      &lt;div class=\"form-control\" contenteditable=\"true\" data-placeholder=\"Put answer text here\" data-bind=\"ckeditor: $data, attr: { id: 'Q' + $parentContext.$index() + 'A' + $index() }\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;!-- /ko --&gt;\n</code></pre>\n\n<p><code>Answers</code> is a ko.observableArray containing strings. The remove link is on the template for each string because that captures which string is to be removed, but the remove operation is defined on the object that owns the list.</p>\n\n<p>Originally I coded it like this:</p>\n\n<pre><code>data-bind=\"click: $parent.remove\"\n</code></pre>\n\n<p>and <code>remove</code> was called, but unsurprisingly <code>this</code> was the string rather than the parent object. So I rewrote it like so:</p>\n\n<pre><code>data-bind=\"click: function(){ $parent.remove($data); }\"\n</code></pre>\n\n<p>which failed to change anything. Then I tried this</p>\n\n<pre><code>data-bind=\"click: function(d,e){ $parent.remove(d,e); }\"\n</code></pre>\n\n<p>which <em>works</em>. Inside the remove method, <code>this</code> is the parent object, and the parameter is the string.</p>\n\n<p>Given that the final form works, why <em>doesn't</em> <code>function(){ $parent.remove($data);</code> change <code>this</code> to the value of <code>$parent</code> inside the call to <code>remove</code>? </p>\n\n<p>On a related note, I tried writing it like this</p>\n\n<pre><code>function(){ $parent.remove.apply($parent, $data); }\n</code></pre>\n\n<p>but this produced a JS error complaining that something wasn't a function. It didn't say <em>what</em> wasn't a function, and when I looked up apply on mdn I couldn't see anything wrong. What's up with that?</p>\n\n<hr>\n\n<p>A more elegant solution to this precise problem is available from Anders's answer to <a href=\"https://stackoverflow.com/questions/18138379/how-to-access-parent-or-parents-in-knockout-viewmodel-click-event\">How to access $parent or $parents[] in knockout viewmodel click event?</a></p>\n\n<p>Ignore the accepted answer (same as my solution) and scroll down a little to learn about <code>bind</code>.</p>\n"}, {"tags": ["javascript", "node.js", "reactjs", "express", "socket.io"], "comments": [{"owner": {"reputation": 7159, "user_id": 877279, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/5fa0544f9a87c652a5b5c1d4b401fcae?s=128&d=identicon&r=PG", "display_name": "Tyler Sebastian", "link": "https://stackoverflow.com/users/877279/tyler-sebastian"}, "edited": false, "score": 1, "creation_date": 1490225847, "post_id": 42964520, "comment_id": 73023314, "body": "And your server implementation? Can we see that?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4386721"}, "reply_to_user": {"reputation": 7159, "user_id": 877279, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/5fa0544f9a87c652a5b5c1d4b401fcae?s=128&d=identicon&r=PG", "display_name": "Tyler Sebastian", "link": "https://stackoverflow.com/users/877279/tyler-sebastian"}, "edited": false, "score": 0, "creation_date": 1490226632, "post_id": 42964520, "comment_id": 73023553, "body": "@TylerSebastian I just added a screenshot of the relevant server.js code, thank you!"}], "owner": {"user_type": "does_not_exist", "display_name": "user4386721"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 197, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490229472, "creation_date": 1490225147, "last_edit_date": 1490229472, "question_id": 42964520, "link": "https://stackoverflow.com/questions/42964520/trying-to-implement-socket-io-with-node-js-express-and-react-onto-my-production", "title": "Trying to implement socket.io with node.js express and react onto my production server", "body": "<p>Having issues integrating socket io + express js onto my Bluehost server.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n&lt;head&gt;\r\n\t&lt;meta charset=\"UTF-8\"&gt;\r\n\t&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\r\n\t&lt;title&gt;React Poll App&lt;/title&gt;\r\n\t&lt;link rel=\"stylesheet\" href=\"/style.css\"&gt;\r\n\t&lt;link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u\" crossorigin=\"anonymous\"&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;div class=\"container\" id=\"react-container\"&gt;\r\n\t\t&lt;h1&gt;Live Polling&lt;/h1&gt;\r\n\t&lt;/div&gt;\r\n   &lt;!-- &lt;script src=\"/socket.io-client/dist/socket.io.js\"&gt;&lt;/script&gt; --&gt;\r\n   &lt;script src=\"https://cdn.socket.io/socket.io-1.3.5.js\"&gt;&lt;/script&gt;\r\n\t&lt;script src=\"./dist/bundle.js\"&gt;&lt;/script&gt;\r\n   &lt;!-- &lt;script src=\"/socket.io/socket.io.js\"&gt;&lt;/script&gt; --&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>here's my app.js</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var React         = require('react');\r\nvar Router        = require('react-router');\r\nvar RouteHandler  = Router.RouteHandler;\r\nvar Header        = require('./parts/Header');\r\nvar io = require('socket.io-client');\r\nvar APP = React.createClass({\r\n\r\n  getInitialState(){\r\n    return {\r\n      status  : 'disconnected',\r\n      title   : '',\r\n      member  : {},\r\n      audience: [],\r\n      speaker : '',\r\n      questions: [],\r\n      currentQuestion: false\r\n    }\r\n  },\r\n\r\n  componentWillMount(){\r\n    this.socket = io('react-test.derrickmv.com');\r\n    this.socket.on('connect', this.connect);\r\n    this.socket.on('disconnect', this.disconnect);\r\n    this.socket.on('welcome', this.updateState);\r\n    this.socket.on('joined', this.joined);\r\n    this.socket.on('audience', this.updateAudience);\r\n    this.socket.on('start', this.start);\r\n    this.socket.on('end', this.updateState);\r\n    this.socket.on('ask', this.ask);\r\n  },\r\n\r\n  emit(eventName, payload){\r\n    this.socket.emit(eventName, payload);\r\n  },\r\n\r\n  connect(){\r\n    var member = (sessionStorage.member) ? JSON.parse(sessionStorage.member): null;\r\n\r\n    if (member &amp;&amp; member.type ==='audience'){\r\n      this.emit('join', member);\r\n    } else if (member &amp;&amp; member.type === 'speaker'){\r\n      this.emit('start', {name: member.name, title : sessionStorage.title});\r\n    }\r\n\r\n    this.setState({ status: 'connected'});\r\n  },\r\n\r\n  disconnect(){\r\n    this.setState({\r\n      status: 'disconnected',\r\n      title:   'disconnected',\r\n      speaker: ''\r\n    });\r\n  },\r\n\r\n  updateState(serverState){\r\n    this.setState(serverState);\r\n  },\r\n\r\n  joined(member){\r\n     sessionStorage.member = JSON.stringify(member);\r\n     this.setState({ member: member});\r\n  },\r\n\r\n  start(presentation){\r\n     if( this.state.member.type === 'speaker'){\r\n       sessionStorage.title = presentation.title;\r\n     }\r\n     this.setState(presentation);\r\n  },\r\n\r\n  ask(question){\r\n    sessionStorage.answer = '';\r\n    this.setState({ currentQuestion: question });\r\n  },\r\n\r\n  updateAudience(newAudience){\r\n    this.setState({ audience: newAudience});\r\n  },\r\n\r\n  render(){\r\n    return (\r\n      &lt;div&gt;\r\n          &lt;Header {...this.state} /&gt;\r\n          &lt;RouteHandler emit={this.emit} {...this.state} /&gt;\r\n      &lt;/div&gt;\r\n    );\r\n  }\r\n});\r\n\r\nmodule.exports = APP;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>After placing everything into my server, I get the following errors in the console log stating a 404 (Not Found) Error.</p>\n\n<p><a href=\"https://i.stack.imgur.com/TCrcF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TCrcF.png\" alt=\"screenshot of console log\"></a></p>\n\n<p>Here's my app-server.js:\n<a href=\"https://i.stack.imgur.com/we4DI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/we4DI.png\" alt=\"SCREENSHOT OF APP-SERVER.JS\"></a></p>\n\n<p>Thanks so much for helping!</p>\n"}, {"tags": ["javascript", "php", "arrays"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1490225416, "post_id": 42964518, "comment_id": 73023184, "body": "Use <code>preg_match_all()</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1490225610, "post_id": 42964518, "comment_id": 73023254, "body": "Many song titles contain parentheses. You&#39;re going to have a hard time distinguishing the parentheses that are part of the title and the ones that hold the performance type."}], "answers": [{"tags": [], "owner": {"reputation": 871, "user_id": 7742642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b47333950e67476df0595fedc0b79056?s=128&d=identicon&r=PG", "display_name": "Simon K", "link": "https://stackoverflow.com/users/7742642/simon-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1490226570, "creation_date": 1490226570, "answer_id": 42964754, "question_id": 42964518, "link": "https://stackoverflow.com/questions/42964518/convert-a-block-of-formatted-text-into-php-arrays/42964754#42964754", "title": "Convert A Block Of Formatted Text Into PHP Arrays", "body": "<p>This will help you...</p>\n\n<pre><code>$re = '/\\(([0-9NEW]+)\\)\\s+([A-Z&amp; ]+) \u2013 (.*)/m';\n$str = '(1) FRANK SINATRA \u2013 Strangers In The Night (and charts)\n(4) THE MERSEYS \u2013 Sorrow\n(19)    PAUL &amp; BARRY RYAN \u2013 I Love Her\n(NEW)   EDDY ARNOLD \u2013 I Want To Go With You';\n\npreg_match_all($re, $str, $matches, PREG_SET_ORDER, 0);\n\n// Print the entire match result\nvar_dump($matches);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 7754078, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PKARQajmw2M/AAAAAAAAAAI/AAAAAAAAAAA/3LJZb6hhT4k/photo.jpg?sz=128", "display_name": "WolFi", "link": "https://stackoverflow.com/users/7754078/wolfi"}, "is_accepted": true, "score": 1, "last_activity_date": 1490227825, "creation_date": 1490227825, "answer_id": 42964947, "question_id": 42964518, "link": "https://stackoverflow.com/questions/42964518/convert-a-block-of-formatted-text-into-php-arrays/42964947#42964947", "title": "Convert A Block Of Formatted Text Into PHP Arrays", "body": "<p>This regular expression would get you an array at $matches with an 'id' element and a 'name' element containing all the corresponding position if i understood your format correctly</p>\n\n<pre><code>$a = \"(1) FRANK SINATRA \u2013 Strangers In The Night (and charts)\n(4) THE MERSEYS \u2013 Sorrow\n(19)    PAUL &amp; BARRY RYAN \u2013 I Love Her\n(NEW)   EDDY ARNOLD \u2013 I Want To Go With You\";\n\npreg_match_all('/\\((?&lt;id&gt;[0-9]|NEW)\\) (?&lt;name&gt;.*)/', $a, $matches);\nprint_r($matches);\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7753006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aad39f2d3bc4bd07436252331c5ba16a?s=128&d=identicon&r=PG&f=1", "display_name": "Cally B", "link": "https://stackoverflow.com/users/7753006/cally-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 42964947, "answer_count": 2, "score": 0, "last_activity_date": 1490227825, "creation_date": 1490225137, "last_edit_date": 1490225404, "question_id": 42964518, "link": "https://stackoverflow.com/questions/42964518/convert-a-block-of-formatted-text-into-php-arrays", "title": "Convert A Block Of Formatted Text Into PHP Arrays", "body": "<p>So I have a block of text which I wish to convert into a PHP array. The end goal is to enter over 40 years worth of data into MySQL database as quickly as possible.</p>\n\n<pre><code>(1) FRANK SINATRA \u2013 Strangers In The Night (and charts)\n(4) THE MERSEYS \u2013 Sorrow\n(19)    PAUL &amp; BARRY RYAN \u2013 I Love Her\n(NEW)   EDDY ARNOLD \u2013 I Want To Go With You\n</code></pre>\n\n<p>So ideally, if the data could be parsed into the following arrays so I can process the data. Any ideas how to do this? I did think of using preg_split. Does anyone else have any ideas?</p>\n\n<pre><code>$chartpos[] = \"1\"\n$artist[] = \"FRANK SINATRA\"\n$track[] = \"Strangers In The Night\"\n$performancetype[] = \"and charts\"`\n</code></pre>\n"}, {"tags": ["javascript", "pdf", "if-statement", "acrobat"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 7754023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5da1a2f60f2d50362aa8faf2378989e5?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Monterville", "link": "https://stackoverflow.com/users/7754023/alex-monterville"}, "edited": false, "score": 0, "creation_date": 1490283166, "post_id": 42969413, "comment_id": 73052999, "body": "Hi Max \u2013 this totals everything correctly. Only problem is that it doesn&#39;t total them unless all of the fields are are given a value, which is the problem I&#39;m trying to solve with the scripting. I basically am looking for a solution that will calculate Charges 1-3 and NetWeight &amp; MRM Rate separately and independently of each other, still having those totals appear in the Total field. I tried uploading a screenshot to help clarify of the form here but for having some kind of problem with the uploader."}, {"owner": {"reputation": 3227, "user_id": 2241145, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ff4bb43d7776533dbd96d13258c99f4d?s=128&d=identicon&r=PG", "display_name": "Max Wyss", "link": "https://stackoverflow.com/users/2241145/max-wyss"}, "reply_to_user": {"reputation": 101, "user_id": 7754023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5da1a2f60f2d50362aa8faf2378989e5?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Monterville", "link": "https://stackoverflow.com/users/7754023/alex-monterville"}, "edited": false, "score": 0, "creation_date": 1490299617, "post_id": 42969413, "comment_id": 73063631, "body": "You could define another variable and set it to the sum of the charges fields. Also keep in mind that you will only get a non-zero result when Netweight, MFMRate and one of the Charges fields have a non-zero value."}], "tags": [], "owner": {"reputation": 3227, "user_id": 2241145, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ff4bb43d7776533dbd96d13258c99f4d?s=128&d=identicon&r=PG", "display_name": "Max Wyss", "link": "https://stackoverflow.com/users/2241145/max-wyss"}, "is_accepted": false, "score": 1, "last_activity_date": 1490253060, "creation_date": 1490253060, "answer_id": 42969413, "question_id": 42964510, "link": "https://stackoverflow.com/questions/42964510/statements-missing-for-short-js-script-for-pdf-form/42969413#42969413", "title": "Statements missing for short JS script for PDF form", "body": "<p>You do not need a function definition for this, if you put the script in the Calculate event of the field containing the result.</p>\n\n<p>This code should work (unless, see below)</p>\n\n<pre><code>var v1 = this.getField(\"Charges1\").value;\nvar v2 = this.getField(\"Charges2\").value;\nvar v3 = this.getField(\"Charges3\").value;\nvar v4 = this.getField(\"NetWeight\").value;\nvar v5 = this.getField(\"MRMRate\").value;\nevent.value = (v4 * v5) * (v1*1 + v2*1 + v3*1);\n</code></pre>\n\n<p>This should display a value, even if it is just 0. It may not display anything if the result field is formatted to display nothing if its value is 0 (check the Format tab in the field properties about that).</p>\n"}], "owner": {"reputation": 101, "user_id": 7754023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5da1a2f60f2d50362aa8faf2378989e5?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Monterville", "link": "https://stackoverflow.com/users/7754023/alex-monterville"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490379226, "creation_date": 1490225083, "question_id": 42964510, "link": "https://stackoverflow.com/questions/42964510/statements-missing-for-short-js-script-for-pdf-form", "title": "Statements missing for short JS script for PDF form", "body": "<p>I'm very new to JS and writing scripts. Right now, I am creating a form in Acrobat and calculating  5 fields, the result of which will be the value of another field. I don't know anything about writing if/else statements, but I feel like thats what I might need for the script to function right, because the totaled value only appears (and works fine) if all of the other values are entered. But all of them won't always be entered (sometimes v1, v2 &amp; v3 won't be entered at all), so I need something that will enable the script/value to work even if one or more of those values aren't present.  What I have right now is:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>(function () {\r\n\r\nvar v1 = +getField(\"Charges1\").value;\r\n\r\n    var v2 = +getField(\"Charges2\").value;\r\n\r\n    var v3 = +getField(\"Charges3\").value;\r\n\r\n    var v4 = +getField(\"NetWeight\").value;\r\n\r\n    var v5 = +getField(\"MRMRate\").value;\r\n\r\n    event.value = (v4 * v5) * (v1 + v2 + v3);\r\n   \r\n})();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Any help at all would be appreciated \u2013 thank you!</p>\n"}, {"tags": ["javascript", "webpack", "vue.js", "babeljs"], "answers": [{"tags": [], "owner": {"reputation": 183, "user_id": 2711226, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/jiWHD.jpg?s=128&g=1", "display_name": "tijanicharles", "link": "https://stackoverflow.com/users/2711226/tijanicharles"}, "is_accepted": false, "score": 0, "last_activity_date": 1558228863, "creation_date": 1558228863, "answer_id": 56204060, "question_id": 42964474, "link": "https://stackoverflow.com/questions/42964474/gulp-webpack-not-transpiling-vue-files/56204060#56204060", "title": "Gulp/Webpack not transpiling Vue files", "body": "<p>I don't have much experience with vue and webpack as I myself am in the process of learning. Perhaps you may want to apply your vue-loader to your js test since you are sending your vue component to bundle.js.</p>\n\n<p>Just a thought, corrections are more than welcome.</p>\n"}], "owner": {"reputation": 347, "user_id": 3450791, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d2d05be133538fd281a57d2293525cf5?s=128&d=identicon&r=PG&f=1", "display_name": "mattpolicastro", "link": "https://stackoverflow.com/users/3450791/mattpolicastro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 490, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558228863, "creation_date": 1490224842, "question_id": 42964474, "link": "https://stackoverflow.com/questions/42964474/gulp-webpack-not-transpiling-vue-files", "title": "Gulp/Webpack not transpiling Vue files", "body": "<p>When I run Webpack from the command line, everything works perfectly: the generated bundle is properly transpiled/uglified and runs fine in the browser. However, when I try to call Webpack from Gulp (I'm using Gulp@4, FWIW), I always get this error:</p>\n\n<pre><code>stream.js:74\n      throw er; // Unhandled stream error in pipe.\n      ^\nError: bundle.js from UglifyJs\nUnexpected token: name (Vue) [bundle.js:47,8]\n</code></pre>\n\n<p>I've started with Babel with a .babelrc, manually pointed Webpack-stream to Webpack 2^.X.X, and even gave Buble a shot after <a href=\"https://github.com/babel/babel-loader/issues/249\" rel=\"nofollow noreferrer\">reading this</a>. Any recommendations?</p>\n\n<h2>package.json</h2>\n\n<pre><code>\"dependencies\": {\n  \"body-parser\": \"^1.16.0\",\n  \"csv-parse\": \"^1.2.0\",\n  \"express\": \"^4.14.1\",\n  \"express-handlebars\": \"^3.0.0\",\n  \"knex\": \"^0.12.7\",\n  \"marked\": \"^0.3.6\",\n  \"sass\": \"^0.5.0\",\n  \"sqlite3\": \"^3.1.8\"\n},\n\"devDependencies\": {\n  \"browser-sync\": \"^2.18.8\",\n  \"buble\": \"^0.15.2\",\n  \"buble-loader\": \"^0.4.1\",\n  \"css-loader\": \"^0.27.3\",\n  \"eslint\": \"^3.14.1\",\n  \"eslint-plugin-html\": \"^2.0.1\",\n  \"eslint-plugin-vue\": \"^2.0.1\",\n  \"gulp\": \"github:gulpjs/gulp#4.0\",\n  \"gulp-nodemon\": \"^2.2.1\",\n  \"gulp-sass\": \"^3.1.0\",\n  \"gulp-uglify\": \"^2.1.2\",\n  \"gulp-webpack\": \"^1.5.0\",\n  \"jsdoc-to-markdown\": \"^3.0.0\",\n  \"uglify-js\": \"^2.8.14\",\n  \"vue\": \"^2.2.4\",\n  \"vue-loader\": \"^11.2.0\",\n  \"vue-template-compiler\": \"^2.2.4\",\n  \"webpack\": \"^2.3.1\",\n  \"webpack-stream\": \"^3.2.0\"\n}\n</code></pre>\n\n<h2>webpack.config.js</h2>\n\n<pre><code>const path = require('path');\n\nconst webpack = require('webpack');\n\nmodule.exports = {\n  entry: path.resolve(__dirname, 'src/views/vue.js'),\n  output: {\n    filename: 'bundle.js',\n    path: path.resolve(__dirname, 'src/public/js')\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.vue$/,\n        loader: 'vue-loader'\n      },\n      {\n        test: /\\.js$/,\n        loader: 'buble-loader'\n      }\n    ]\n  },\n  plugins: [\n    new webpack.optimize.UglifyJsPlugin()\n  ]\n};\n</code></pre>\n\n<h2>gulpfile.js</h2>\n\n<pre><code>const path        = require('path');\nconst browserSync = require('browser-sync');\nconst gulp        = require('gulp');\nconst nodemon     = require('gulp-nodemon');\nconst uglify      = require('gulp-uglify');\nconst webpack     = require('webpack-stream');\n\nconst BROWSER_SYNC_DELAY    = 1000;\nconst NODEMON_RESTART_DELAY = 5000;\n\ngulp.task('compile-js', (done) =&gt; {\n  // Use webpack to transpile, bundle, and uglify front-end JS\n  gulp.src(path.resolve(__dirname, 'src/views/vue.js'))\n    .pipe(webpack(require(path.resolve(__dirname, 'webpack.config.js'))))\n    .pipe(gulp.dest(path.resolve(__dirname, 'src/public/js')));\n\n  done();\n});\n</code></pre>\n\n<h2>vue.js</h2>\n\n<pre><code>import Vue from 'vue';\nimport App from './index.vue';\n\nnew Vue({\n  el: '#app',\n  render: (createElement) =&gt; {\n    return createElement(App);\n  }\n});\n</code></pre>\n\n<h2>index.vue</h2>\n\n<pre><code>&lt;template&gt;\n  &lt;p&gt;{{ message }}&lt;/p&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\n  export default {\n    data() {\n      return { message: 'Hello world!' };\n    }\n  };\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "scroll"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7236046"}, "edited": false, "score": 0, "creation_date": 1490224927, "post_id": 42964464, "comment_id": 73023022, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/4326845/how-can-i-determine-the-direction-of-a-jquery-scroll-event\">How can I determine the direction of a jQuery scroll event?</a>"}, {"owner": {"reputation": 61, "user_id": 5728652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b705cec727800b5fe98bcb1f733e62a3?s=128&d=identicon&r=PG&f=1", "display_name": "False", "link": "https://stackoverflow.com/users/5728652/false"}, "edited": false, "score": 0, "creation_date": 1490224997, "post_id": 42964464, "comment_id": 73023046, "body": "No because i use e.preventDefault() so the data is always the same and i cant check the old and the new position."}, {"owner": {"reputation": 61, "user_id": 5728652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b705cec727800b5fe98bcb1f733e62a3?s=128&d=identicon&r=PG&f=1", "display_name": "False", "link": "https://stackoverflow.com/users/5728652/false"}, "edited": false, "score": 0, "creation_date": 1490278574, "post_id": 42964464, "comment_id": 73049115, "body": "can no one help me ? :("}], "owner": {"reputation": 61, "user_id": 5728652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b705cec727800b5fe98bcb1f733e62a3?s=128&d=identicon&r=PG&f=1", "display_name": "False", "link": "https://stackoverflow.com/users/5728652/false"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490224782, "creation_date": 1490224782, "question_id": 42964464, "link": "https://stackoverflow.com/questions/42964464/jquery-mobile-scroll-event-get-directionup-down-with-e-preventdefault", "title": "Jquery mobile scroll event get direction(up,down) with e.preventDefault()", "body": "<p>how i can get the direction from scroll event (mobile) ? (With e.preventDefault() )?</p>\n\n<p>I already tried some scroll events and looked at the event content (via console.log(e))</p>\n\n<p>Thanks :)</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 56558, "user_id": 1679602, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/waYTU.jpg?s=128&g=1", "display_name": "King King", "link": "https://stackoverflow.com/users/1679602/king-king"}, "edited": false, "score": 0, "creation_date": 1490233360, "post_id": 42964422, "comment_id": 73025468, "body": "for a shorter expression to set <code>dayOfWeek</code>, you can put all values in an array like this <code>dayOfWeek =  [&quot;Sunday&quot;,&quot;Monday&quot;,&quot;Tuesday&quot;,&quot;Wednesday&quot;,&quot;Thursday&quot;,&quot;Friday&quot;&zwnj;&#8203;,&quot;Saturday&quot;][date.ge&zwnj;&#8203;tDay()]</code>"}, {"owner": {"reputation": 56558, "user_id": 1679602, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/waYTU.jpg?s=128&g=1", "display_name": "King King", "link": "https://stackoverflow.com/users/1679602/king-king"}, "edited": false, "score": 0, "creation_date": 1490233488, "post_id": 42964422, "comment_id": 73025503, "body": "Or even shorter (but a bit slower): <code>dayOfWeek = &quot;Sun,Mon,Tues,Wednes,Thurs,Fri,Satur&quot;.split(&quot;,&quot;)[date.getDay&zwnj;&#8203;()] + &quot;day&quot;;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 13181, "user_id": 17300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6913044c5e536029098ce2d5c9b841e?s=128&d=identicon&r=PG", "display_name": "Stephen P", "link": "https://stackoverflow.com/users/17300/stephen-p"}, "edited": false, "score": 0, "creation_date": 1490225023, "post_id": 42964495, "comment_id": 73023055, "body": "(<code>discard</code>) you type faster than I do! +1"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 3, "last_activity_date": 1490224955, "creation_date": 1490224955, "answer_id": 42964495, "question_id": 42964422, "link": "https://stackoverflow.com/questions/42964422/javascript-need-help-converting-user-input-from-form-into-html/42964495#42964495", "title": "Javascript - Need help converting user input from form into HTML", "body": "<p>The first problem is that second argument to <code>addEventListener</code> has to be a function. You're calling the function immediately, not passing a reference to a function. </p>\n\n<pre><code>document.getElementById(\"submit-button\").addEventListener(\"click\", function() {\n    writesDay(dayOfWeek);\n});\n</code></pre>\n\n<p>The next problem is that you have to calculate <code>dayOfWeek</code> when the user clicks the button. You're calculating it when the page is initially loaded, so it doesn't get the user's input to the form field. So all that code needs to be inside that function:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function writesDay(d) {\r\n  document.getElementById(\"answer\").innerHTML = \"You were born on a \" + d;\r\n}\r\ndocument.getElementById(\"submit-button\").addEventListener(\"click\", function() {\r\n  var date = new Date();\r\n  var dobInput = document.getElementById(\"dob-input\").value;\r\n  var splitDob = dobInput.split(\"/\");\r\n\r\n  var month = parseInt(splitDob[0] - 1);\r\n  var day = parseInt(splitDob[1]);\r\n  var year = parseInt(splitDob[2]);\r\n\r\n  date.setFullYear(year, month, day);\r\n  var dayOfWeek = \"\";\r\n\r\n  switch (date.getDay()) {\r\n    case 0:\r\n      dayOfWeek = \"Sunday\";\r\n      break;\r\n    case 1:\r\n      dayOfWeek = \"Monday\";\r\n      break;\r\n    case 2:\r\n      dayOfWeek = \"Tuesday\";\r\n      break;\r\n    case 3:\r\n      dayOfWeek = \"Wednesday\";\r\n      break;\r\n    case 4:\r\n      dayOfWeek = \"Thursday\";\r\n      break;\r\n    case 5:\r\n      dayOfWeek = \"Friday\";\r\n      break;\r\n    case 6:\r\n      dayOfWeek = \"Saturday\";\r\n      break;\r\n  }\r\n  writesDay(dayOfWeek);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h3&gt;Please enter your date of birth in this format (MM/DD/YYYY)&lt;/h3&gt;\r\n\r\n&lt;form id=\"dob-question\"&gt;\r\n  &lt;input type=\"text\" name=\"Date of Birth\" id=\"dob-input\" value=\"01/31/1986\"&gt;\r\n  &lt;/input&gt;\r\n  &lt;button type=\"button\" id=\"submit-button\"&gt;Submit&lt;/button&gt;\r\n&lt;/form&gt;\r\n\r\n&lt;div id=\"answer\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 3818, "user_id": 5932623, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qY15Q.jpg?s=128&g=1", "display_name": "Alex Young", "link": "https://stackoverflow.com/users/5932623/alex-young"}, "is_accepted": false, "score": 0, "last_activity_date": 1490225341, "creation_date": 1490225341, "answer_id": 42964563, "question_id": 42964422, "link": "https://stackoverflow.com/questions/42964422/javascript-need-help-converting-user-input-from-form-into-html/42964563#42964563", "title": "Javascript - Need help converting user input from form into HTML", "body": "<p>You have only wrapped your writesDay code in a function, the rest of the code will be executed as soon as it loads.  You need to execute the code which gets the date etc. when the button is clicked as well.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function writesDay(d) {\r\n    document.getElementById(\"answer\").innerHTML = \"You were born on a \" + d;\r\n  }\r\n\r\nfunction getDayName(date) {\r\n  var dayOfWeek = \"\";\r\n  switch(date.getDay()) {\r\n    case 0: \r\n      dayOfWeek = \"Sunday\";\r\n      break;\r\n    case 1:\r\n      dayOfWeek = \"Monday\";\r\n      break;\r\n    case 2: \r\n      dayOfWeek = \"Tuesday\";\r\n      break;\r\n    case 3:\r\n      dayOfWeek = \"Wednesday\";\r\n      break;\r\n    case 4:\r\n      dayOfWeek = \"Thursday\";\r\n      break;\r\n    case 5:\r\n      dayOfWeek = \"Friday\";\r\n      break;\r\n    case 6:\r\n      dayOfWeek = \"Saturday\";\r\n      break;\r\n  }\r\n  return dayOfWeek;\r\n}\r\n\r\nfunction getDateFromArray(splitDob) {\r\n  var date = new Date();\r\n\r\n  var month = parseInt(splitDob[0] - 1);\r\n  var day = parseInt(splitDob[1]);\r\n  var year = parseInt(splitDob[2]);\r\n\r\n  date.setFullYear(year, month, day);\r\n  \r\n  return date;\r\n}\r\n\r\nfunction getSplitDob() {\r\n  var dobInput = document.getElementById(\"dob-input\").value;\r\n  var splitDob = dobInput.split(\"/\");\r\n  return splitDob;\r\n}\r\n\r\nfunction updateDay() {\r\n  var splitDob = getSplitDob();\r\n  var date = getDateFromArray(splitDob);\r\n  var day = getDayName(date);\r\n  writesDay(day);\r\n}\r\n\r\ndocument.getElementById(\"submit-button\").addEventListener(\"click\", updateDay);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form id = \"dob-question\"&gt;\r\n          &lt;input type=\"text\" name=\"Date of Birth\" id=\"dob-input\" value=\"01/31/1986\"&gt;\r\n          &lt;/input&gt;\r\n          &lt;button type=\"button\" id=\"submit-button\"&gt;Submit&lt;/button&gt;\r\n        &lt;/form&gt;\r\n\r\n        &lt;div id=\"answer\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 126, "user_id": 4509730, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-L1IGotuk1mc/AAAAAAAAAAI/AAAAAAAAEnM/zgrJJj-9_Es/photo.jpg?sz=128", "display_name": "Ananthaprakash", "link": "https://stackoverflow.com/users/4509730/ananthaprakash"}, "is_accepted": false, "score": 1, "last_activity_date": 1490225876, "creation_date": 1490225876, "answer_id": 42964651, "question_id": 42964422, "link": "https://stackoverflow.com/questions/42964422/javascript-need-help-converting-user-input-from-form-into-html/42964651#42964651", "title": "Javascript - Need help converting user input from form into HTML", "body": "<p>You need to move your code inside the function, so that it is not called when loading. Check another simple way to implement.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h3&gt;Please enter your date of birth in this format (MM/DD/YYYY)&lt;/h3&gt;\r\n\r\n&lt;form id = \"dob-question\"&gt;\r\n\t&lt;input type=\"date\" name=\"Date of Birth\" id=\"dob-input\" value=\"01/31/1986\"&gt;\r\n\t&lt;/input&gt;\r\n\t&lt;button type=\"button\" id=\"submit-button\"&gt;Submit&lt;/button&gt;\r\n\t&lt;/form&gt;\r\n\r\n\t&lt;div id=\"answer\"&gt;&lt;/div&gt;\r\n\r\n&lt;script&gt;\r\n  document.querySelector('#submit-button').addEventListener('click', function(){\r\n  let userInput = document.querySelector(\"#dob-input\"),\r\n      birthDate = new Date(userInput.value);\r\n  document.querySelector('#answer').innerHTML = \"You born on \" + [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"][birthDate.getUTCDay()];\r\n  });\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 61, "user_id": 6789026, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/4c0b623d83d21bc2671fe5fce59553cd?s=128&d=identicon&r=PG&f=1", "display_name": "pmath325", "link": "https://stackoverflow.com/users/6789026/pmath325"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1490226335, "creation_date": 1490224543, "question_id": 42964422, "link": "https://stackoverflow.com/questions/42964422/javascript-need-help-converting-user-input-from-form-into-html", "title": "Javascript - Need help converting user input from form into HTML", "body": "<p>Alright, so I'm a bit of a beginner and I am trying to convert user input into a program that calculates what day the user was born on based on their input. </p>\n\n<p>The gist of the html code is as follows: </p>\n\n<pre><code>&lt;h3&gt;Please enter your date of birth in this format (MM/DD/YYYY)&lt;/h3&gt;\n\n        &lt;form id = \"dob-question\"&gt;\n          &lt;input type=\"text\" name=\"Date of Birth\" id=\"dob-input\" value=\"01/31/1986\"&gt;\n          &lt;/input&gt;\n          &lt;button type=\"button\" id=\"submit-button\"&gt;Submit&lt;/button&gt;\n        &lt;/form&gt;\n\n        &lt;div id=\"answer\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>And the Javascript:</p>\n\n<pre><code>&lt;script&gt;\n  function writesDay(d) {\n    document.getElementById(\"answer\").innerHTML = \"You were born on a \" + d;\n  }\n\n  var date = new Date();\n  var dobInput = document.getElementById(\"dob-input\").value;\n  var splitDob = dobInput.split(\"/\");\n\n  var month = parseInt(splitDob[0] - 1);\n  var day = parseInt(splitDob[1]);\n  var year = parseInt(splitDob[2]);\n\n  date.setFullYear(year, month, day);\n  var dayOfWeek = \"\";\n\n  switch(date.getDay()) {\n    case 0: \n      dayOfWeek = \"Sunday\";\n      break;\n    case 1:\n      dayOfWeek = \"Monday\";\n      break;\n    case 2: \n      dayOfWeek = \"Tuesday\";\n      break;\n    case 3:\n      dayOfWeek = \"Wednesday\";\n      break;\n    case 4:\n      dayOfWeek = \"Thursday\";\n      break;\n    case 5:\n      dayOfWeek = \"Friday\";\n      break;\n    case 6:\n      dayOfWeek = \"Saturday\";\n      break;\n  }\n\n  document.getElementById(\"submit-button\").addEventListener(\"click\", writesDay(dayOfWeek));\n\n&lt;/script&gt;\n</code></pre>\n\n<p>My first problem is this: Before hitting the submit button, the code already runs the function and writes out the date from the default input value (Jan 31, 1986). I don't want this to show up until the submit button is clicked. I also want it to change based on what the user inputs and write now it just doesn't. In fact, the submit button really doesn't do anything and I can't figure out why. Help is appreciated!</p>\n"}, {"tags": ["javascript"], "answers": [{"tags": [], "owner": {"reputation": 103, "user_id": 7509185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9ObBV.jpg?s=128&g=1", "display_name": "CrazyInfin8", "link": "https://stackoverflow.com/users/7509185/crazyinfin8"}, "is_accepted": false, "score": 0, "last_activity_date": 1490232845, "creation_date": 1490232845, "answer_id": 42965683, "question_id": 42964421, "link": "https://stackoverflow.com/questions/42964421/digital-clock-with-images/42965683#42965683", "title": "Digital clock with images", "body": "<p>Ok so just how we got the time as a string, I suggest taking each letter of the string and use an image to represent each letter using HTML img tags (which we can generate using pure javascript). Check out the example below. I hope it helps.\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function startTime() {\r\n  var today = new Date();\r\n  var h = today.getHours();\r\n  var m = today.getMinutes();\r\n  var s = today.getSeconds();\r\n  m = checkTime(m);\r\n  s = checkTime(s);\r\n  //this variable contains the time as a string\r\n  var string = h + \":\" + m + \":\" + s;\r\n  //this converts string to a set of HTML img tags containing images\r\n  var img = stringToImage(string);\r\n  //this puts the time on the website\r\n  document.getElementById('txt').innerHTML =\r\n    string + \"&lt;br&gt;\" + img;\r\n  //this loops the function every 1000 milliseconds (1 second)\r\n  var t = setTimeout(startTime, 1000);\r\n}\r\n\r\nfunction checkTime(i) {\r\n  if (i &lt; 10) {\r\n    i = \"0\" + i\r\n  } // add zero in front of numbers &lt; 10\r\n  return i;\r\n}\r\n\r\n//This function takes each letter of an array and pairs it to an image of the img array \r\nfunction stringToImage(s) {\r\n  //create a temporary blank variable to hold HTML images\r\n  var temp = \"\"\r\n  for (var i = 0; i &lt; s.length; i++) {\r\n    //we take the URL from array img and shove it into an HTML img tag\r\n    //also append it to the temporary variable\r\n    temp = temp + \"&lt;img src='\" + img[s[i]] + \"'/&gt;\"\r\n  }\r\n  //uncomment below line to see what the temporary variable says\r\n  //console.log(temp)\r\n  return temp\r\n}\r\n\r\n\r\n//all image URLs are put into this array. feel free to change URLs\r\nvar img = {\r\n  \"1\": \"http://www.kidsmathgamesonline.com/images/pictures/numbers120/number1.jpg\",\r\n  \"2\": \"http://www.kidsmathgamesonline.com/images/pictures/numbers120/number2.jpg\",\r\n  \"3\": \"http://www.kidsmathgamesonline.com/images/pictures/numbers120/number3.jpg\",\r\n  \"4\": \"http://www.kidsmathgamesonline.com/images/pictures/numbers120/number4.jpg\",\r\n  \"5\": \"http://www.kidsmathgamesonline.com/images/pictures/numbers120/number5.jpg\",\r\n  \"6\": \"http://www.kidsmathgamesonline.com/images/pictures/numbers120/number6.jpg\",\r\n  \"7\": \"http://www.kidsmathgamesonline.com/images/pictures/numbers120/number7.jpg\",\r\n  \"8\": \"http://www.kidsmathgamesonline.com/images/pictures/numbers120/number8.jpg\",\r\n  \"9\": \"http://www.kidsmathgamesonline.com/images/pictures/numbers120/number9.jpg\",\r\n  \"0\": \"http://www.kidsmathgamesonline.com/images/pictures/numbers120/number0.jpg\",\r\n  \":\": \"https://images.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.colonsemicolon.com%2Fwp-content%2Fuploads%2F2012%2F02%2Fcolon.gif&amp;f=1\"\r\n}\r\n\r\n//credit images to:\r\n//http://www.kidsmathgamesonline.com/pictures/numbers.html\r\n//http://www.colonsemicolon.com/</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n  &lt;!--&lt;script type=\"text/javascript\" src=\"topic.js\"&gt;--&gt;\r\n  &lt;/script&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body onload=\"startTime()\"&gt;\r\n\r\n  &lt;div id=\"txt\"&gt;&lt;/div&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 8891931, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-k1rpsFU12mA/AAAAAAAAAAI/AAAAAAAAADI/FWT-Xn-jqbE/photo.jpg?sz=128", "display_name": "Pranav Bhat", "link": "https://stackoverflow.com/users/8891931/pranav-bhat"}, "is_accepted": false, "score": 0, "last_activity_date": 1544200671, "last_edit_date": 1544200671, "creation_date": 1544200311, "answer_id": 53673476, "question_id": 42964421, "link": "https://stackoverflow.com/questions/42964421/digital-clock-with-images/53673476#53673476", "title": "Digital clock with images", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>setInterval(test,1000);\r\n\t\tfunction test()\r\n\t\t{\r\n\t\t\t$(\"body\").load('#ch');\r\n\t\t}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n\t&lt;title&gt;&lt;/title&gt;\r\n\t&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\t&lt;!-- &lt;meta http-equiv=\"refresh\" content=\"1\"&gt; --&gt;\r\n\t&lt;script&gt;\r\n\t\t\r\n\t&lt;/script&gt;\r\n\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;center&gt;\r\n\t&lt;h1&gt;Digital Clock&lt;/h1&gt;\r\n\t&lt;hr&gt;\r\n\t&lt;div id=\"ch\"&gt;&lt;?php date_default_timezone_set(\"Asia/Kolkata\"); echo date('h:i:s A e'); ?&gt;&lt;/div&gt;\r\n&lt;/center&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 7753963, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210918732036777/picture?type=large", "display_name": "HuSoS", "link": "https://stackoverflow.com/users/7753963/husos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 933, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1544200671, "creation_date": 1490224534, "question_id": 42964421, "link": "https://stackoverflow.com/questions/42964421/digital-clock-with-images", "title": "Digital clock with images", "body": "<p>I want to make a digital clock with images, but i don't know where to start.\nThe project consist to replace clock number with images on 24 hours style.</p>\n\n<p>From 7 to 20 (need to show blue numbers) (Open) From 20 to 7 (need to show red numbers) (Closed).</p>\n\n<p>I'm trying to work around with the w3c exemple \"<a href=\"https://www.w3schools.com/js/tryit.asp?filename=tryjs_timing_clock\" rel=\"nofollow noreferrer\">https://www.w3schools.com/js/tryit.asp?filename=tryjs_timing_clock</a>\"</p>\n\n<p>But i don't know how to replace numbers with images in 2 diffrents array. It's need to be only in javascript because it's what i'm trying to learn.</p>\n\n<p>I don't know if my question is clear but thanks.</p>\n"}, {"tags": ["javascript", "reactjs", "recompose"], "answers": [{"tags": [], "owner": {"reputation": 7607, "user_id": 1846573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/672ba495b3eadfdb0daee60ed354bdff?s=128&d=identicon&r=PG", "display_name": "wuct", "link": "https://stackoverflow.com/users/1846573/wuct"}, "is_accepted": false, "score": 0, "last_activity_date": 1492064606, "creation_date": 1492064606, "answer_id": 43384934, "question_id": 42964390, "link": "https://stackoverflow.com/questions/42964390/retrieve-recompose-local-dispatch-function-from-withreducer-in-withhandlers/43384934#43384934", "title": "Retrieve recompose local dispatch function from withReducer in withHandlers", "body": "<p>You should move <code>withReducer</code> to the right of <code>withHandlers</code>:</p>\n\n<pre><code>compose(\n  withReducer(...),\n  withHandlers(...)\n)\n</code></pre>\n\n<p>In this way, <code>withReducer</code> will create the dispatch function first and append it to <code>props</code>, then <code>withHandlers</code> can consume it.</p>\n"}], "owner": {"reputation": 5335, "user_id": 2309862, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/8xjCJ.jpg?s=128&g=1", "display_name": "vamsiampolu", "link": "https://stackoverflow.com/users/2309862/vamsiampolu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 531, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1492064606, "creation_date": 1490224418, "question_id": 42964390, "link": "https://stackoverflow.com/questions/42964390/retrieve-recompose-local-dispatch-function-from-withreducer-in-withhandlers", "title": "Retrieve recompose local dispatch function from withReducer in withHandlers", "body": "<p>I have a component which is already connected to the <code>redux</code> store and has the <code>dispatch</code> injected to it. I am trying to update the local state of the component using <code>withReducer</code> and <code>withHandlers</code> like this:</p>\n\n<pre><code>const reducer = (state, action) =&gt; {\n  switch (action.type) {\n    case 'SET_ACTIVE_TAB':\n      console.log('recieved action', action)\n      const { activeTab } = action\n      return activeTab\n    default:\n     return state\n  }\n</code></pre>\n\n<p>}</p>\n\n<pre><code>const initialState = 'actions'\n\nconst handlers = withHandlers({\n  onTabClick: props =&gt; (e, { name }) =&gt; {\n    const { dispatchLocal } = props\n    dispatchLocal({\n      type: 'SET_ACTIVE_TAB',\n      activeTab: name\n    })\n  }\n})\n\nconst enhancer = withReducer('activeTab', 'dispatchLocal', reducer, initialState)\n</code></pre>\n\n<p>I find that when I <code>compose</code>:</p>\n\n<pre><code>compose(handlers, enhancer)(LayerListItem)\n</code></pre>\n\n<p>The <code>dispatchLocal</code> prop is not defined within the <code>handler</code>. What is the best way of creating and binding action creators with <code>recompose</code> to update the application state.</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1490224414, "post_id": 42964355, "comment_id": 73022833, "body": "Well you&#39;re calculating the value and storing it as <code>som</code>, correct? The next step is simply to get the text from the third input (just as you did with <code>var getal1</code> and <code>var getal2</code>), and do an <code>if</code> statement. <code>if (parseFloat(input3value) == som)  { alert(&quot;Correct!&quot;); } else { alert(&quot;Incorrect!&quot;); }</code> - Check out the basics of <a href=\"https://www.w3schools.com/js/js_if_else.asp\" rel=\"nofollow noreferrer\">JavaScript If...Else statements</a> for more information."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1490224502, "post_id": 42964355, "comment_id": 73022865, "body": "Use a <code>&lt;select&gt;</code> that lets you choose the operation. Then you can write a <code>switch()</code> statement that performs the appropriate calculation depending on which operation they selected."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7753898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6GtvR.png?s=128&g=1", "display_name": "vaskimjoe", "link": "https://stackoverflow.com/users/7753898/vaskimjoe"}, "edited": false, "score": 0, "creation_date": 1490231215, "post_id": 42964771, "comment_id": 73024861, "body": "Hi Chris, thanks a lot for your help! I copied and run the code you send, but the only thing is, the calculator doesn&#39;t function for some reason.. I don&#39;t know if you would like to take a quick look at the code again? I would really appreciate it, since the deadline for this project is in about 8 hours. Thanks :)"}], "tags": [], "owner": {"reputation": 5947, "user_id": 5771750, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mBNlv.png?s=128&g=1", "display_name": "Chris Happy", "link": "https://stackoverflow.com/users/5771750/chris-happy"}, "is_accepted": false, "score": 0, "last_activity_date": 1490226661, "creation_date": 1490226661, "answer_id": 42964771, "question_id": 42964355, "link": "https://stackoverflow.com/questions/42964355/im-getting-stuck-while-trying-to-make-a-calculator-using-html-and-javascript/42964771#42964771", "title": "I&#39;m getting stuck while trying to make a calculator using html and Javascript", "body": "<p>Okay, I did the \"+\" functionality for you. Since it was a school project, I'm going to try to not do the entire thing for you. If you need more help, just ask :)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.getElementById(\"button\").onclick = berekenSom;\r\nvar uitkomst = document.getElementById(\"uitkomst\");\r\n\r\n\r\nfunction berekenSom() {\r\n  var getal1 = parseFloat(document.getElementById(\"getal_1\").value); \r\n  var getal2 = parseFloat(document.getElementById(\"getal_2\").value);\r\n  var getal3 = parseFloat(document.getElementById(\"getal_3\").value);\r\n  \r\n  var op = document.getElementById(\"operation\")\r\n  var select = op.options[op.selectedIndex].value;\r\n  \r\n  var som;\r\n  \r\n  if (select == \"+\") {\r\n    var som = getal1 + getal2;\r\n  }\r\n  \r\n  if (getal3 == som) {\r\n    uitkomst.style.color = \"green\";\r\n  } else {\r\n    uitkomst.style.color = \"red\";\r\n  }\r\n\r\n  uitkomst.innerHTML = \"The calculation \" + getal1 + \" \" + select + \" \" + getal2 + \" = \" + som;\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>h3 {\r\n  color: green;\r\n}\r\n\r\n#uitkomst {\r\n  color: blue;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;pre&gt;\r\n         &lt;h2&gt;Javascript Calculator&lt;/h2&gt;\r\n         Insert first number:   &lt;input type=\"number\" id=\"getal_1\"&gt;\r\n\r\n         Insert second number:  &lt;input type=\"number\" id=\"getal_2\"&gt;\r\n        \r\n         My own calculation:    &lt;input type=\"number\" id=\"getal_3\"&gt;\r\n         \r\n         Operation:             &lt;select id=\"operation\"&gt;\r\n                    &lt;option value=\"+\"&gt;Plus&lt;/option&gt;\r\n                    &lt;option value=\"-\"&gt;Minus&lt;/option&gt;\r\n                    &lt;option value=\"/\"&gt;Divide&lt;/option&gt;\r\n                    &lt;option value=\"*\"&gt;Multiply&lt;/option&gt;\r\n                                 &lt;/select&gt;\r\n\r\n         &lt;h3 id=\"uitkomst\" &gt;The answer is:&lt;/h3&gt;\r\n\r\n         &lt;button id=\"button\"&gt;Calculate&lt;/button&gt;\r\n      &lt;/pre&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 7753898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6GtvR.png?s=128&g=1", "display_name": "vaskimjoe", "link": "https://stackoverflow.com/users/7753898/vaskimjoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490232141, "creation_date": 1490224233, "question_id": 42964355, "link": "https://stackoverflow.com/questions/42964355/im-getting-stuck-while-trying-to-make-a-calculator-using-html-and-javascript", "title": "I&#39;m getting stuck while trying to make a calculator using html and Javascript", "body": "<p>For a school project I have to make a calculator using html and Javascript. There should be three input boxes, one to enter a first number, one to enter a second number and a third one to guess the right answer. Below there should be a button to calculate. </p>\n\n<p>The calculator has to be able to do: +, -, :, *, modulo</p>\n\n<p>The third box should be used to type a self guessed answer, then after the calculation, there has to be a pop up which says wrong answer, or right answer.</p>\n\n<p>But right now I'm getting stuck at this point, I created all the input boxes and the calculator is able to add numbers. But I just don't know how to do the rest. Can someone please help me out with this?</p>\n\n<p>Here is the code I have right now:\n(There are a few Dutch words in there. \"Getal\" means: Digit. \"Uitkomst\" means: Answer \"berekenSom\" means: Calculate)\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n   &lt;head&gt;\r\n      &lt;title&gt;Calculator&lt;/title&gt;\r\n      &lt;style&gt;\r\n         h3 {\r\n            color: green;\r\n         }\r\n      &lt;/style&gt;\r\n   &lt;/head&gt;\r\n   &lt;body&gt;\r\n      &lt;pre&gt;\r\n         &lt;h2&gt;Javascript Calculator&lt;/h2&gt;\r\n         Insert first number:   &lt;input type=\"number\" id=\"getal_1\"&gt;\r\n\r\n         Insert second number:  &lt;input type=\"number\" id=\"getal_2\"&gt;\r\n        \r\n         My own calculation:    &lt;input type=\"number\" id=\"getal_3\"&gt;\r\n\r\n         &lt;h3 id=\"uitkomst\" &gt;The answer is:&lt;/h3&gt;\r\n\r\n         &lt;button id=\"button\"&gt;Calculate&lt;/button&gt;\r\n      &lt;/pre&gt;\r\n   &lt;/body&gt;\r\n&lt;/html&gt;\r\n&lt;script&gt;\r\n   document.getElementById(\"button\").onclick = berekenSom;\r\n   var uitkomst = document.getElementById(\"uitkomst\");\r\n   \r\n   \r\n   function berekenSom() {\r\n      var getal1 = document.getElementById(\"getal_1\").value;\r\n      \r\n      var getal2 = document.getElementById(\"getal_2\").value;\r\n\r\n\r\n      var som = parseFloat(getal1) + parseFloat(getal2);\r\n\r\n      uitkomst.style.color = \"red\";\r\n\r\n      uitkomst.innerHTML = \"The calculation \" + getal1 + \" + \" + getal2 + \" = \" + som;\r\n   }\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I would appreciate it a lot if someone could help me with this, because I'm kinda stuck at the moment.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["javascript", "html"], "answers": [{"tags": [], "owner": {"reputation": 349, "user_id": 3846889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f91d6d65a74dc7e87c4b8e660ef9f4?s=128&d=identicon&r=PG&f=1", "display_name": "Ain", "link": "https://stackoverflow.com/users/3846889/ain"}, "is_accepted": false, "score": 0, "last_activity_date": 1490225149, "last_edit_date": 1490225149, "creation_date": 1490224830, "answer_id": 42964470, "question_id": 42964350, "link": "https://stackoverflow.com/questions/42964350/fullscreen-canvas-not-showing-entire-image/42964470#42964470", "title": "Fullscreen canvas not showing entire image", "body": "<p>By default, canvas doesn't take the same size as the window.\nTry setting canvas width and height like this:</p>\n\n<pre><code>ctx.width = window.innerWidth;\nctx.height = window.innerHeight;\n</code></pre>\n\n<p>or maybe</p>\n\n<pre><code>ctx.width = document.body.clientWidth; \nctx.height = document.body.clientHeight;\n</code></pre>\n\n<p>if that's what you prefer. Depends on the browser, see</p>\n\n<p><a href=\"https://www.w3schools.com/js/js_window.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/js/js_window.asp</a></p>\n\n<p>Also, you might need to remove some css defaults by overriding:</p>\n\n<pre><code>html, body, canvas {\n    margin: 0;\n    padding: 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7432478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17f2941c50ead289d6633eb06678168?s=128&d=identicon&r=PG&f=1", "display_name": "user7432478", "link": "https://stackoverflow.com/users/7432478/user7432478"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490225149, "creation_date": 1490224209, "question_id": 42964350, "link": "https://stackoverflow.com/questions/42964350/fullscreen-canvas-not-showing-entire-image", "title": "Fullscreen canvas not showing entire image", "body": "<p>So i am trying to display a fullscreen image on a canvas (Minus the 80px header) but the canvas is playing up and not showing the entire thing.</p>\n\n<p>Javascript</p>\n\n<pre><code>var c =document.getElementById(\"myCanvas\");\nvar ctx = c.getContext(\"2d\");\nvar img = new Image();\n\n\nimg.onload = function() {\n    ctx.drawImage(img, 0, 0);\n    c.style.width = document.body.clientWidth;\n    c.style.height = document.body.clientHeight-80;\n};\nimg.src = \"lol.gif\";\n</code></pre>\n\n<p>And here is what lol.gif should <a href=\"https://gyazo.com/9b5c6e9f86d95ce2ea4bb1269e955033\" rel=\"nofollow noreferrer\">Look like</a></p>\n\n<p>However, this is what it does <a href=\"https://gyazo.com/0a58ceb36a1468d8618d6d6a30cfeee9\" rel=\"nofollow noreferrer\">look like</a> on the site. That purple bar should be there, thats the nav bar (When i make it)</p>\n\n<p>Thanks for the help.</p>\n"}, {"tags": ["javascript", "node.js", "multithreading", "asynchronous", "v8"], "comments": [{"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1490224080, "post_id": 42964281, "comment_id": 73022689, "body": "\u201cexecutes every asynchronous context in its own VM\u201d \u2013 what\u2019s an asynchronous context?"}, {"owner": {"reputation": 892, "user_id": 4442749, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/dbb02e4991deea8a5659f76b37e0e11a?s=128&d=identicon&r=PG&f=1", "display_name": "Philippe Hebert", "link": "https://stackoverflow.com/users/4442749/philippe-hebert"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1490226037, "post_id": 42964281, "comment_id": 73023381, "body": "I do not know whether or not I am using the proper terminology here. I think the easiest way to think about it is to think of it as an expressJS request. Every expressJS has it&#39;s own execution context, and it is managed asynchronously by NodeJS&#39; main event loop. As such you have an asynchronous context. It is also similar in a way to a thread&#39;s stack/heap in a way."}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1490226101, "post_id": 42964281, "comment_id": 73023399, "body": "No, it\u2019s not, sorry. It\u2019s just a function call managed by an event loop. They all run in the same \u201ccontext\u201d. What are you trying to accomplish with a \u201ccontext-specific global\u201d?"}, {"owner": {"reputation": 892, "user_id": 4442749, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/dbb02e4991deea8a5659f76b37e0e11a?s=128&d=identicon&r=PG&f=1", "display_name": "Philippe Hebert", "link": "https://stackoverflow.com/users/4442749/philippe-hebert"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1490227936, "post_id": 42964281, "comment_id": 73023934, "body": "Ah, that saddens me. I&#39;m trying to make the req and res objects from an expressJS request available throughout the stack so that I don&#39;t have to pass them in function signatures."}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1490231704, "post_id": 42964281, "comment_id": 73025005, "body": "That kind of thing, which you might see implemented using thread locals in other languages, isn\u2019t really good design anyway. As an easy sort of starting pattern, I\u2019d put all request context on the request object, pass it around, and return a promise representing the response instead of relying on it being passed in."}, {"owner": {"reputation": 892, "user_id": 4442749, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/dbb02e4991deea8a5659f76b37e0e11a?s=128&d=identicon&r=PG&f=1", "display_name": "Philippe Hebert", "link": "https://stackoverflow.com/users/4442749/philippe-hebert"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1490233626, "post_id": 42964281, "comment_id": 73025541, "body": "I&#39;m aware that it&#39;s not an optimal pattern, and I&#39;d avoid it if preferable. However it is really useful for logging, debugging, and error-handling purposes."}, {"owner": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "edited": false, "score": 0, "creation_date": 1490237186, "post_id": 42964281, "comment_id": 73026523, "body": "<code>Every  expressJS has it&#39;s own execution context</code> that&#39;s not true. Every expressJS request passes the request object down the chain of functions that process requests. You have to realise that expressJS request processing pipeline is not object oriented, it&#39;s procedural"}, {"owner": {"reputation": 18838, "user_id": 6036428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b632c15ba23e78e466c8d33d657378fe?s=128&d=identicon&r=PG&f=1", "display_name": "jmrk", "link": "https://stackoverflow.com/users/6036428/jmrk"}, "edited": false, "score": 0, "creation_date": 1490283388, "post_id": 42964281, "comment_id": 73053173, "body": "Just to clarify: &quot;VX&quot; is an extremely toxic chemical weapon; &quot;V8&quot; is an open-source JavaScript engine (used by e.g. Chrome and Node.js)."}], "answers": [{"comments": [{"owner": {"reputation": 892, "user_id": 4442749, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/dbb02e4991deea8a5659f76b37e0e11a?s=128&d=identicon&r=PG&f=1", "display_name": "Philippe Hebert", "link": "https://stackoverflow.com/users/4442749/philippe-hebert"}, "edited": false, "score": 0, "creation_date": 1490225826, "post_id": 42964540, "comment_id": 73023310, "body": "Indeed, javascript uses closures. However you cannot propagate a closure beyond the limit of the file in which it is written. Thus you cannot have closures that extend beyond the module level. I don&#39;t think that context-specific global is a contradiction either. Because these are global for the complete context of execution, just not cross-context. It&#39;s essentially the same as a global under a thread. It is <i>global</i>  within the thread."}], "tags": [], "owner": {"reputation": 186, "user_id": 7471556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5daae352aef5a3a21134886ed345de22?s=128&d=identicon&r=PG", "display_name": "Steve Harris", "link": "https://stackoverflow.com/users/7471556/steve-harris"}, "is_accepted": false, "score": 0, "last_activity_date": 1490225209, "creation_date": 1490225209, "answer_id": 42964540, "question_id": 42964281, "link": "https://stackoverflow.com/questions/42964281/nodejs-get-current-vm-context/42964540#42964540", "title": "NodeJS: Get Current VM Context", "body": "<p>Context specific globals?  Isn't that a contradiction?</p>\n\n<p>Javascript uses <a href=\"https://www.w3schools.com/js/js_function_closures.asp\" rel=\"nofollow noreferrer\">closures</a>.  So you want to declare and create functions within functions and this will establish and preserve your concept of \"context specific globals\".</p>\n"}, {"tags": [], "owner": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "is_accepted": true, "score": 1, "last_activity_date": 1490238869, "last_edit_date": 1495541845, "creation_date": 1490236989, "answer_id": 42966302, "question_id": 42964281, "link": "https://stackoverflow.com/questions/42964281/nodejs-get-current-vm-context/42966302#42966302", "title": "NodeJS: Get Current VM Context", "body": "<p>Your understanding of node is incorrect. Specifically you said:</p>\n\n<blockquote>\n  <p>Javascript VX (V8 currently) engine, and executes every asynchronous context in its own VM</p>\n</blockquote>\n\n<p>No. Javascript has only one context. The current VM. There are multithreading extensions in node.js such as <a href=\"https://www.npmjs.com/package/webworker-threads\" rel=\"nofollow noreferrer\">webworker-threads</a> but they're not often used because:</p>\n\n<ol>\n<li>They rarely improve throughput and almost always increase latency</li>\n<li>They're almost never necessary because almost nothing in node.js blocks</li>\n</ol>\n\n<p>If you want a slightly more low-level technical detail of how asynchronous execution work in node.js see my answer to this question: <a href=\"https://stackoverflow.com/questions/29883525/i-know-that-callback-function-runs-asynchronously-but-why/29885509#29885509\">I know that callback function runs asynchronously, but why?</a></p>\n"}], "owner": {"reputation": 892, "user_id": 4442749, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/dbb02e4991deea8a5659f76b37e0e11a?s=128&d=identicon&r=PG&f=1", "display_name": "Philippe Hebert", "link": "https://stackoverflow.com/users/4442749/philippe-hebert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 639, "favorite_count": 0, "accepted_answer_id": 42966302, "answer_count": 2, "score": 0, "last_activity_date": 1490238869, "creation_date": 1490223889, "question_id": 42964281, "link": "https://stackoverflow.com/questions/42964281/nodejs-get-current-vm-context", "title": "NodeJS: Get Current VM Context", "body": "<p>Node JS executes the codebase in the Javascript VX (V8 currently) engine, and executes every asynchronous context in its own VM.</p>\n\n<p>Given this information, is there an API that allows to find in which VM context the current code execution is taking place?</p>\n\n<p>I am attempting to create context-specific globals.</p>\n\n<p>Is this possible?\nIs my understanding of Node correct?</p>\n"}, {"tags": ["javascript", "jsp"], "comments": [{"owner": {"reputation": 1, "user_id": 7753353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7f1c9fc70cce9ca6f8d51888ca73486?s=128&d=identicon&r=PG&f=1", "display_name": "Nymphodor_Tonks", "link": "https://stackoverflow.com/users/7753353/nymphodor-tonks"}, "edited": false, "score": 0, "creation_date": 1490223947, "post_id": 42964267, "comment_id": 73022646, "body": "&lt;td&gt;&lt;label for=&quot;User Name&quot;&gt;USER NAME:&lt;/label&gt;&lt;/td&gt;&lt;br&gt;&lt;br&gt;   &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;UName&quot; value=&quot;&quot; size=&quot;10&quot; id=&quot;UName&quot; /&gt;"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7753353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7f1c9fc70cce9ca6f8d51888ca73486?s=128&d=identicon&r=PG&f=1", "display_name": "Nymphodor_Tonks", "link": "https://stackoverflow.com/users/7753353/nymphodor-tonks"}, "edited": false, "score": 0, "creation_date": 1490323241, "post_id": 42980837, "comment_id": 73072269, "body": "thanks so much for your reply. I should have been more clear. my apologies. The checkExists () function is an onblur event created on the input box. Iam writing it to check if the username is unique or not."}, {"owner": {"reputation": 1, "user_id": 7753353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7f1c9fc70cce9ca6f8d51888ca73486?s=128&d=identicon&r=PG&f=1", "display_name": "Nymphodor_Tonks", "link": "https://stackoverflow.com/users/7753353/nymphodor-tonks"}, "edited": false, "score": 0, "creation_date": 1490323497, "post_id": 42980837, "comment_id": 73072335, "body": "I know why request.getParameter is returning null value. its because  JSP is a server-side scripting language, it will not be able to &quot;see&quot; what the user is selecting from the field unless the value is submitted to the server somehow for processing, such as a form submission.(this i found on web) and onblur event does not submit form. hence the null value."}], "tags": [], "owner": {"reputation": 653, "user_id": 1496408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47b1cc2d29736536d4036acd8e3a7571?s=128&d=identicon&r=PG", "display_name": "funcoding", "link": "https://stackoverflow.com/users/1496408/funcoding"}, "is_accepted": false, "score": 0, "last_activity_date": 1490283898, "creation_date": 1490283898, "answer_id": 42980837, "question_id": 42964267, "link": "https://stackoverflow.com/questions/42964267/need-help-to-understand-why-request-getparameter-is-returning-null/42980837#42980837", "title": "Need help to understand why request. getParameter is returning null", "body": "<p>I guess you are returning false on your form submission, that's why is null!\nSee my example:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;%\n    if (request.getParameter(\"code\") != null)   \n        System.out.println(\" AFTER SUBMIT code: \"+request.getParameter(\"code\"));\n%&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n&lt;title&gt;Test Form&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form method=\"post\" onSubmit=\"return validateForm()\"&gt;\nCode:&lt;input type=\"text\" name=\"code\" id=\"code\"/&gt;\n&lt;button type=\"submit\"&gt;Submit&lt;/button&gt;\n&lt;/form&gt;\n&lt;script&gt;\nfunction validateForm(){\n    console.log(document.querySelector(\"#code\"));\n\n    &lt;%\n        System.out.println(\"CODE: \"+request.getParameter(\"code\"));\n    %&gt;\n}\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7753353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7f1c9fc70cce9ca6f8d51888ca73486?s=128&d=identicon&r=PG&f=1", "display_name": "Nymphodor_Tonks", "link": "https://stackoverflow.com/users/7753353/nymphodor-tonks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490283898, "creation_date": 1490223829, "last_edit_date": 1490247490, "question_id": 42964267, "link": "https://stackoverflow.com/questions/42964267/need-help-to-understand-why-request-getparameter-is-returning-null", "title": "Need help to understand why request. getParameter is returning null", "body": "<p>The request.getParameter is returning null. But I see the value is captured by document.getElementById but not by request.getParameter. Dont know why?</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n           function checkExists(){\n\n             var NUSN=document.getElementById('UName').value;\n                       //  alert(\"helloeeee \");\n                      // alert (\" NUSN is : \" + NUSN);\n            &lt;% \n            Connection conn = null;\n            String url= \"jdbc:sqlserver://localhost:1433;databaseName=Movie\";\n            String driver=\"com.microsoft.sqlserver.jdbc.SQLServerDriver\";\n            String username =\"sam\";\n            Class.forName(driver);           \n            conn=java.sql.DriverManager.getConnection(url,username,\"sa\");\n            String NUSN1 = request.getParameter(\"UName\");\n            System.out.println(\"New user is : \");\n            System.out.println(NUSN1);   //here the value is null- dont know why\n            Statement stmt = conn.createStatement();\n           ResultSet rs=stmt.executeQuery(\"select username from Userdetails where usename in (\"+ NUSN1+\")\");\n            while (rs.next()){\n                if (rs.first()){\n                    out.println(\"User name already taken\");\n\n                }\n                else out.println(\"User name Valid\");\n            }\n\n\n\n            %&gt;\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>Here is my form: posting just the relevant part</p>\n\n<pre><code>    &lt;tr&gt; &lt;td&gt;&lt;label for=\"User Name\"&gt;USER NAME:&lt;/label&gt;&lt;/td&gt;&lt;br&gt;&lt;br&gt;\n    &lt;td&gt;&lt;input type=\"text\" name=\"UName\" value=\"\" size=\"10\" id=\"UName\" /&gt;&lt;/td&gt;\n     &lt;/tr&gt;\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1490223967, "post_id": 42964262, "comment_id": 73022653, "body": "Any errors in your console?"}], "answers": [{"tags": [], "owner": {"reputation": 186, "user_id": 7471556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5daae352aef5a3a21134886ed345de22?s=128&d=identicon&r=PG", "display_name": "Steve Harris", "link": "https://stackoverflow.com/users/7471556/steve-harris"}, "is_accepted": false, "score": 1, "last_activity_date": 1490224339, "creation_date": 1490224339, "answer_id": 42964376, "question_id": 42964262, "link": "https://stackoverflow.com/questions/42964262/two-jquery-functions-not-working-in-single-script-tag/42964376#42964376", "title": "Two jQuery functions not working in single &lt;script&gt; tag", "body": "<p>If you are initializing events, you should do that when the document is ready, not in script tags directly.  script tags are generally a race condition when it comes to elements being available in the DOM while it is being rendered.</p>\n\n<p>Use <a href=\"https://learn.jquery.com/using-jquery-core/document-ready/\" rel=\"nofollow noreferrer\">$(document).ready()</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 167, "user_id": 827856, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/eonMA.jpg?s=128&g=1", "display_name": "Mahmood", "link": "https://stackoverflow.com/users/827856/mahmood"}, "edited": false, "score": 0, "creation_date": 1490225716, "post_id": 42964379, "comment_id": 73023285, "body": "So, I&#39;m using the script tag at end of page, which is fine right?"}, {"owner": {"reputation": 630, "user_id": 409236, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bde952efa3910b2b7f49bb063ffa2834?s=128&d=identicon&r=PG", "display_name": "Joshua Russell", "link": "https://stackoverflow.com/users/409236/joshua-russell"}, "reply_to_user": {"reputation": 167, "user_id": 827856, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/eonMA.jpg?s=128&g=1", "display_name": "Mahmood", "link": "https://stackoverflow.com/users/827856/mahmood"}, "edited": false, "score": 0, "creation_date": 1490225804, "post_id": 42964379, "comment_id": 73023304, "body": "Correct, you will need to first include jQuery, followed by the code posted above."}], "tags": [], "owner": {"reputation": 630, "user_id": 409236, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bde952efa3910b2b7f49bb063ffa2834?s=128&d=identicon&r=PG", "display_name": "Joshua Russell", "link": "https://stackoverflow.com/users/409236/joshua-russell"}, "is_accepted": true, "score": 1, "last_activity_date": 1490225922, "last_edit_date": 1490225922, "creation_date": 1490224363, "answer_id": 42964379, "question_id": 42964262, "link": "https://stackoverflow.com/questions/42964262/two-jquery-functions-not-working-in-single-script-tag/42964379#42964379", "title": "Two jQuery functions not working in single &lt;script&gt; tag", "body": "<p>You need to wrap all of your javascript with <code>$(document).ready()</code></p>\n\n<pre><code>$(document).ready(function() {\n\n    j$('#type').on('change', function() {\n        if(this.value == 'Technical Issue'){ \n            j$('#techtroubleshootoption').show();\n                j$('#forceemailcase').show();\n            j$('#main').hide();\n        } \n        else{\n            j$('#techtroubleshootoption').hide();\n            j$('#forceemailcase').hide();\n            j$('#main').show();\n        } \n        });\n        j$('#chkforcemailcase').click( function()\n        {\n        if(this.checked){ \n            j$('#techtroubleshootoption').hide();\n                j$('#forceemailcase').show();\n            j$('#main').show();\n        } \n        else{\n            j$('#techtroubleshootoption').show();\n            j$('#forceemailcase').show();\n            j$('#main').hide();\n        }   \n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 827856, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/eonMA.jpg?s=128&g=1", "display_name": "Mahmood", "link": "https://stackoverflow.com/users/827856/mahmood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 42964379, "answer_count": 2, "score": 0, "last_activity_date": 1490225922, "creation_date": 1490223795, "question_id": 42964262, "link": "https://stackoverflow.com/questions/42964262/two-jquery-functions-not-working-in-single-script-tag", "title": "Two jQuery functions not working in single &lt;script&gt; tag", "body": "<p>I have a requirement, </p>\n\n<ol>\n<li>on selection of a particular picklist item, I need to show/hide a section with <code>checkbox</code></li>\n<li>on selection of the checkbox, in step-1, I further need to show/hide another section.</li>\n</ol>\n\n<blockquote>\n  <p>This is what I tried</p>\n</blockquote>\n\n<pre><code>&lt;script&gt;\nj$('#type').on('change', function()\n{\n\n    if(this.value == 'Technical Issue'){ \n        j$('#techtroubleshootoption').show();\n         j$('#forceemailcase').show();\n        j$('#main').hide();\n    } \n    else{\n        j$('#techtroubleshootoption').hide();\n        j$('#forceemailcase').hide();\n        j$('#main').show();\n    } \n});\nj$('#chkforcemailcase').click( function()\n{\n  if(this.checked){ \n        j$('#techtroubleshootoption').hide();\n         j$('#forceemailcase').show();\n        j$('#main').show();\n    } \n    else{\n        j$('#techtroubleshootoption').show();\n        j$('#forceemailcase').show();\n        j$('#main').hide();\n    }   \n});\n&lt;/script&gt;\n</code></pre>\n\n<p>The first function is working and upon selection of a desired values it is showing/hiding section below, but on the selection of checkbox, it is not doing anything.</p>\n\n<blockquote>\n  <p>Workaround</p>\n</blockquote>\n\n<p>If a put the <strong>second function</strong> in another <code>&lt;script&gt;</code> tag it works <strong>fine</strong>. Now, my question is why it didn't work in the same <code>&lt;script&gt;</code> tag and is it the right way to do it to declare multiple <code>&lt;script&gt;</code> tags for each function (which  doesn't sound right to me).</p>\n"}, {"tags": ["javascript", "jquery", "html", "css", "toggle"], "comments": [{"owner": {"reputation": 2334, "user_id": 3483369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RVICc.jpg?s=128&g=1", "display_name": "AJ Funk", "link": "https://stackoverflow.com/users/3483369/aj-funk"}, "edited": false, "score": 0, "creation_date": 1490224074, "post_id": 42964253, "comment_id": 73022687, "body": "this seems to be working fine for me (class toggles). Are you using CSS to show/hide the element based on the .new-album class?"}, {"owner": {"reputation": 2987, "user_id": 866262, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8eeb0e1f683af90afa962f8dbab3974b?s=128&d=identicon&r=PG", "display_name": "stumped", "link": "https://stackoverflow.com/users/866262/stumped"}, "reply_to_user": {"reputation": 2334, "user_id": 3483369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RVICc.jpg?s=128&g=1", "display_name": "AJ Funk", "link": "https://stackoverflow.com/users/3483369/aj-funk"}, "edited": false, "score": 0, "creation_date": 1490224595, "post_id": 42964253, "comment_id": 73022898, "body": "<code>.new-album</code> right now is a  blue rectangle, and I&#39;d like for the link to show/hide it"}, {"owner": {"reputation": 1081, "user_id": 6826288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3697688d3a6af2cbba4e541357565be8?s=128&d=identicon&r=PG", "display_name": "Ravenous", "link": "https://stackoverflow.com/users/6826288/ravenous"}, "edited": false, "score": 0, "creation_date": 1490224911, "post_id": 42964253, "comment_id": 73023016, "body": "At the moment, you are just appending the class <code>new-album</code> to <code>content</code>, do you want to toggle the visibility of the class <code>new-album</code> (that&#39;s a sibling of <code>content</code> and not <code>content</code> itself) when clicking on that link?"}, {"owner": {"reputation": 2987, "user_id": 866262, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8eeb0e1f683af90afa962f8dbab3974b?s=128&d=identicon&r=PG", "display_name": "stumped", "link": "https://stackoverflow.com/users/866262/stumped"}, "reply_to_user": {"reputation": 1081, "user_id": 6826288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3697688d3a6af2cbba4e541357565be8?s=128&d=identicon&r=PG", "display_name": "Ravenous", "link": "https://stackoverflow.com/users/6826288/ravenous"}, "edited": false, "score": 0, "creation_date": 1490225047, "post_id": 42964253, "comment_id": 73023063, "body": "@Ravenous Yes, I would like to toggle the visibility of the class <code>new-album</code> when the link in the nav bar is clicked"}], "answers": [{"tags": [], "owner": {"reputation": 2334, "user_id": 3483369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RVICc.jpg?s=128&g=1", "display_name": "AJ Funk", "link": "https://stackoverflow.com/users/3483369/aj-funk"}, "is_accepted": false, "score": 2, "last_activity_date": 1490226024, "last_edit_date": 1490226024, "creation_date": 1490225034, "answer_id": 42964506, "question_id": 42964253, "link": "https://stackoverflow.com/questions/42964253/trouble-toggling-class-jquery/42964506#42964506", "title": "Trouble toggling class (jquery)", "body": "<p>Just toggling a class won't show/hide you element. There needs to be CSS rules associated with that class. </p>\n\n<p>This will show/hide the <code>.new-album</code> element every time the New Album link is clicked</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n  $('#test a').click(function() {\r\n    $(\".content\").toggleClass(\"show-new-album\");\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.new-album {\r\n  display: none;\r\n}\r\n\r\n.show-new-album .new-album {\r\n  display: block;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;nav&gt;\r\n  &lt;ul&gt;\r\n    &lt;li&gt;&lt;a href=\"index.php\"&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li id=\"test\"&gt;&lt;a href=\"#\"&gt;New Album&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=\"#\"&gt;New Photo&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li id=\"login\"&gt;&lt;a href=\"#\"&gt;Login&lt;/a&gt;&lt;/li&gt;\r\n  &lt;/ul&gt;\r\n&lt;/nav&gt;\r\n\r\n&lt;div class=\"content\"&gt;\r\n  &lt;div class=\"new-album\"&gt;\r\n    ...\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1081, "user_id": 6826288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3697688d3a6af2cbba4e541357565be8?s=128&d=identicon&r=PG", "display_name": "Ravenous", "link": "https://stackoverflow.com/users/6826288/ravenous"}, "is_accepted": true, "score": 2, "last_activity_date": 1490225725, "last_edit_date": 1490225725, "creation_date": 1490225246, "answer_id": 42964548, "question_id": 42964253, "link": "https://stackoverflow.com/questions/42964253/trouble-toggling-class-jquery/42964548#42964548", "title": "Trouble toggling class (jquery)", "body": "<p>You can toggle an <code>active</code> class on the element you want to show/hide itself, and by using <code>opacity</code> instead of <code>display</code>, you can also animate the process.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n    $('#test a').click(function() {\r\n        $(\".content\").find(\".new-album\").toggleClass('active');\r\n    });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.new-album {\r\n  width: 25px;\r\n  height: 25px;\r\n  background: blue;\r\n  transition: opacity 1s linear;\r\n  opacity: 0;\r\n}\r\n\r\n.active {\r\n  opacity: 1;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;body&gt;\r\n        &lt;nav&gt;\r\n            &lt;ul&gt;\r\n                &lt;li&gt;&lt;a href=\"index.php\"&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n                &lt;li id=\"test\"&gt;&lt;a href=\"#\"&gt;New Album&lt;/a&gt;&lt;/li&gt;\r\n                &lt;li&gt;&lt;a href=\"#\"&gt;New Photo&lt;/a&gt;&lt;/li&gt;\r\n                &lt;li id=\"login\"&gt;&lt;a href=\"#\"&gt;Login&lt;/a&gt;&lt;/li&gt;\r\n            &lt;/ul&gt;\r\n        &lt;/nav&gt;\r\n\r\n        &lt;div class=\"content\"&gt;\r\n             &lt;div class=\"new-album\"&gt;\r\n                ...\r\n             &lt;/div&gt;\r\n        &lt;/div&gt;\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 431, "user_id": 2864834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44f5f46bd61b7da61103e7cbcc104f11?s=128&d=identicon&r=PG&f=1", "display_name": "Maarten", "link": "https://stackoverflow.com/users/2864834/maarten"}, "is_accepted": false, "score": 0, "last_activity_date": 1490227969, "creation_date": 1490227969, "answer_id": 42964968, "question_id": 42964253, "link": "https://stackoverflow.com/questions/42964253/trouble-toggling-class-jquery/42964968#42964968", "title": "Trouble toggling class (jquery)", "body": "<p>This usually happens when multiple events are running on the same event. Try changing to .mouseUp instead of .click.</p>\n"}, {"comments": [{"owner": {"reputation": 25691, "user_id": 1675954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zZXdA.jpg?s=128&g=1", "display_name": "Rachel Gallen", "link": "https://stackoverflow.com/users/1675954/rachel-gallen"}, "edited": false, "score": 0, "creation_date": 1490233539, "post_id": 42965761, "comment_id": 73025515, "body": "Click on the &quot;New Album&quot; link"}], "tags": [], "owner": {"reputation": 25691, "user_id": 1675954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zZXdA.jpg?s=128&g=1", "display_name": "Rachel Gallen", "link": "https://stackoverflow.com/users/1675954/rachel-gallen"}, "is_accepted": false, "score": 1, "last_activity_date": 1490251811, "last_edit_date": 1490251811, "creation_date": 1490233420, "answer_id": 42965761, "question_id": 42964253, "link": "https://stackoverflow.com/questions/42964253/trouble-toggling-class-jquery/42965761#42965761", "title": "Trouble toggling class (jquery)", "body": "<p>If you tweaked it a bit you could still use the toggle, but add/remove a class on toggle to enable the show/hide effect. Check out the (working) snippet</p>\n\n<p>Hope this helps</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n    $('#test a').click(function() {\r\n      $(\".new-album\").toggleClass(\"show\");\r\n    });\r\n  \r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>nav {\r\n  display: block;\r\n   }\r\n   a{\r\n  color: #000000;\r\n}\r\na:hover{ color:red;}\r\n\r\nul {\r\n  list-style: none;\r\n}\r\n\r\nul li a {\r\n  margin-left: 5px;\r\n  text-decoration: none;\r\n}\r\np{\r\n width:100%;\r\n text-align:left;\r\n}\r\n\r\n.content {\r\n  width: 80%;\r\n  margin: 0 auto;\r\n}\r\n\r\n.new-album {\r\n  display: block;\r\n}\r\n\r\n.show {\r\n  display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;nav&gt;\r\n  &lt;ul&gt;\r\n    &lt;li&gt;&lt;a href=\"index.php\"&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li id=\"test\"&gt;&lt;a href=\"#album1\"&gt;New Album&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=\"#\"&gt;New Photo&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li id=\"login\"&gt;&lt;a href=\"#\"&gt;Login&lt;/a&gt;&lt;/li&gt;\r\n  &lt;/ul&gt;\r\n&lt;/nav&gt;\r\n\r\n&lt;div class=\"content\"&gt;\r\n  &lt;div class=\"new-album show\"&gt;\r\n    &lt;a id=\"album1\"&gt;&lt;/a&gt;\r\n    &lt;p&gt;Check out the National's new album - it rocks!&lt;/p&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2987, "user_id": 866262, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8eeb0e1f683af90afa962f8dbab3974b?s=128&d=identicon&r=PG", "display_name": "stumped", "link": "https://stackoverflow.com/users/866262/stumped"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 42964548, "answer_count": 4, "score": 1, "last_activity_date": 1549743277, "creation_date": 1490223765, "last_edit_date": 1549743277, "question_id": 42964253, "link": "https://stackoverflow.com/questions/42964253/trouble-toggling-class-jquery", "title": "Trouble toggling class (jquery)", "body": "<p>I can't seem to get the <code>new-album</code> to appear and disappear. When I put <code>console.log(\"here\")</code> in the <code>click</code> function, nothing prints to the console. However, I don't see what's wrong with the way I accessed the <code>test</code> link.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n  $('#test a').click(function() {\r\n    $(\".content\").toggleClass(\"new-album\");\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;nav&gt;\r\n  &lt;ul&gt;\r\n    &lt;li&gt;&lt;a href=\"index.php\"&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li id=\"test\"&gt;&lt;a href=\"#\"&gt;New Album&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=\"#\"&gt;New Photo&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li id=\"login\"&gt;&lt;a href=\"#\"&gt;Login&lt;/a&gt;&lt;/li&gt;\r\n  &lt;/ul&gt;\r\n&lt;/nav&gt;\r\n\r\n&lt;div class=\"content\"&gt;\r\n  &lt;div class=\"new-album\"&gt;\r\n    ...\r\n  &lt;/div&gt;\r\n    ...\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "angularjs", "service", "format", "currency"], "comments": [{"owner": {"reputation": 3440, "user_id": 2983609, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/MtvUf.jpg?s=128&g=1", "display_name": "Pytth", "link": "https://stackoverflow.com/users/2983609/pytth"}, "edited": false, "score": 1, "creation_date": 1490229565, "post_id": 42964243, "comment_id": 73024408, "body": "I mean, that looks pretty simple to me. You could make it even SIMPLER though by not using a filter at all and instead moving most/all of that functionality into a function that gets called like <code>&lt;p&gt;{{myCurrencyFunc(44.45)}}&lt;&#47;p&gt;</code> But just saying, that might not be best practice."}, {"owner": {"reputation": 137, "user_id": 4244808, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/44b32037c7a5ebd0f3c810db2000be06?s=128&d=identicon&r=PG&f=1", "display_name": "Stack Juice", "link": "https://stackoverflow.com/users/4244808/stack-juice"}, "reply_to_user": {"reputation": 3440, "user_id": 2983609, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/MtvUf.jpg?s=128&g=1", "display_name": "Pytth", "link": "https://stackoverflow.com/users/2983609/pytth"}, "edited": false, "score": 0, "creation_date": 1490275786, "post_id": 42964243, "comment_id": 73046901, "body": "Yea that would be against best practice, thanks though."}], "owner": {"reputation": 137, "user_id": 4244808, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/44b32037c7a5ebd0f3c810db2000be06?s=128&d=identicon&r=PG&f=1", "display_name": "Stack Juice", "link": "https://stackoverflow.com/users/4244808/stack-juice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490223740, "creation_date": 1490223740, "question_id": 42964243, "link": "https://stackoverflow.com/questions/42964243/create-a-custom-currency-filter-using-angular-in-the-simplest-way-possible", "title": "create a custom currency filter using angular in the simplest way possible", "body": "<p>I am creating a custom currency filter in angular js. Everything is working, but I want to see if there's an easier way to simply some of my code. </p>\n\n<p>Here is where I pass the filter.</p>\n\n<pre><code>   &lt;p&gt;{{ 44.95 | formatCurrency }}&lt;/p&gt;\n</code></pre>\n\n<p>Ideally I will get the market from the api, but for now I'm just mocking it:</p>\n\n<pre><code>.filter('formatCurrency', function(currencyService){\n    //from api call\n    let market = 'Br';\n\n    return function(number) {\n      const marketFormat = currencyService.get(market);\n      let output;\n\n      number = number.toString().replace('.', marketFormat.decimalDelimiter);\n      addCurrencySymbol(number);\n\n      function addCurrencySymbol(number){\n        const symbol = marketFormat.currencySign;\n        number = marketFormat.showsBefore ? symbol + number : number + symbol;\n        addSpecialString(number);\n      }\n\n      function addSpecialString(number){\n        const specialString = marketFormat.specialString;\n        if (specialString) {\n          number = marketFormat.showsStringBefore ? specialString + ' ' + number : number  + ' ' + specialString;\n        }\n        output = number\n      }\n\n      return output;\n    }\n});\n</code></pre>\n\n<p>I'm using a service called currencyService to get the data properties of the way the market likes the currency filtered: </p>\n\n<pre><code>.service('currencyService', function(){\n\n  function get(market){\n    let numberFormatForMarket = {\n      US: { decimalDelimiter: '.', currencySign: '$', showsBefore: true, specialString: null },\n      UK: { decimalDelimiter: '.', currencySign: '\u00a3', showsBefore: true, specialString: null },\n      FR: { decimalDelimiter: ',', currencySign: '\u20ac', showsBefore: false, specialString: null },\n      ES: { decimalDelimiter: ',', currencySign: '\u20ac', showsBefore: false, specialString: null },\n      BEnl: { decimalDelimiter: ',', currencySign: '\u20ac', showsBefore: false, specialString: null },\n      BEfr: { decimalDelimiter: ',', currencySign: '\u20ac', showsBefore: false, specialString: null },\n      CAen: { decimalDelimiter: '.', currencySign: '$', showsBefore: false, specialString: 'C', showsStringBefore: true },\n      CAfr: { decimalDelimiter: ',', currencySign: '$', showsBefore: false, specialString: 'C', showsStringBefore: false },\n      SE: { decimalDelimiter: '.', currencySign: '', showsBefore: false, specialString: 'kr', showsStringBefore: false },\n      AU: { decimalDelimiter: '.', currencySign: '$', showsBefore: true, specialString: 'A', showsStringBefore: true },\n      NZ: { decimalDelimiter: '.', currencySign: '$', showsBefore: true, specialString: 'NZ', showsStringBefore: true },\n      DE: { decimalDelimiter: ',', currencySign: '\u20ac', showsBefore: false, specialString: null },\n      NL: { decimalDelimiter: ',', currencySign: '\u20ac', showsBefore: false, specialString: null },\n      CHfr: { decimalDelimiter: '.', currencySign: '', showsBefore: true, specialString: 'Fr.', showsStringBefore: true },\n      CHde: { decimalDelimiter: '.', currencySign: '', showsBefore: true, specialString: 'Fr.', showsStringBefore: true },\n      Br: { decimalDelimiter: ',', currencySign: '$', showsBefore: true, specialString: 'R', showsStringBefore: true },\n\n    }\n\n    return numberFormatForMarket[market];\n  }\n\n  return {\n    get\n  }\n</code></pre>\n\n<p>Here is the code: <a href=\"https://embed.plnkr.co/GJELOhMSECxXpCm9J3V9/\" rel=\"nofollow noreferrer\">https://embed.plnkr.co/GJELOhMSECxXpCm9J3V9/</a>\nMy main question: I'm working hard on trying to write CLEAN CODE. Is there anything major I can do here to simplify things? </p>\n"}, {"tags": ["javascript", "android", "browser", "webgl"], "comments": [{"owner": {"reputation": 3161, "user_id": 1513187, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3237cddbf003e1af3b51900c02ec005b?s=128&d=identicon&r=PG", "display_name": "Nikola Lukic", "link": "https://stackoverflow.com/users/1513187/nikola-lukic"}, "edited": false, "score": 0, "creation_date": 1496649592, "post_id": 42964230, "comment_id": 75729907, "body": "If you use opegles 1.1 spec you can run webgl on lot of devices.  I suggest chromium for android webview . Webgl supported long time ago , webrtc is new feature."}], "answers": [{"comments": [{"owner": {"reputation": 5149, "user_id": 2924127, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/fdb6af04a195bf2f39097d32fc691aea?s=128&d=identicon&r=PG&f=1", "display_name": "user2924127", "link": "https://stackoverflow.com/users/2924127/user2924127"}, "edited": false, "score": 0, "creation_date": 1490229791, "post_id": 42964391, "comment_id": 73024485, "body": "Thanks for the reply. Yes crosswalk is great for browser issues, but some phones graphic cards can&#39;t handle it. I am unsure though if new phones will will be built to be able to run webgl?"}, {"owner": {"reputation": 82151, "user_id": 128511, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/KwGaJ.png?s=128&g=1", "display_name": "gman", "link": "https://stackoverflow.com/users/128511/gman"}, "edited": false, "score": 0, "creation_date": 1490260118, "post_id": 42964391, "comment_id": 73035377, "body": "no one can predict the future. It seems unlikely to me any company would make a new phone that doesn&#39;t support WebGL as it would probably also not support the majority of popular games. At the same time some company is about to release non-smartphone old style feature phones. There&#39;s no way to know what companies will do."}], "tags": [], "owner": {"reputation": 3766, "user_id": 1764080, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c039fcc583a7df47d9b415dcccd343a4?s=128&d=identicon&r=PG", "display_name": "Shmuel", "link": "https://stackoverflow.com/users/1764080/shmuel"}, "is_accepted": false, "score": 0, "last_activity_date": 1490224418, "creation_date": 1490224418, "answer_id": 42964391, "question_id": 42964230, "link": "https://stackoverflow.com/questions/42964230/webgl-support-for-newer-android-phones/42964391#42964391", "title": "Webgl support for newer android phones", "body": "<p>You can use the Crosswalk Webview. This may help avoid unexpected platform issues.</p>\n\n<p><a href=\"https://gist.github.com/butelo/9365587\" rel=\"nofollow noreferrer\">https://gist.github.com/butelo/9365587</a></p>\n\n<p><a href=\"https://crosswalk-project.org/documentation/android/embedding_crosswalk.html\" rel=\"nofollow noreferrer\">https://crosswalk-project.org/documentation/android/embedding_crosswalk.html</a></p>\n\n<p><a href=\"https://medium.com/@tegon/webgl-and-es6-in-android-webview-with-crosswalk-d6880eb5e8fc#.wn9tnshhm\" rel=\"nofollow noreferrer\">https://medium.com/@tegon/webgl-and-es6-in-android-webview-with-crosswalk-d6880eb5e8fc#.wn9tnshhm</a></p>\n"}], "owner": {"reputation": 5149, "user_id": 2924127, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/fdb6af04a195bf2f39097d32fc691aea?s=128&d=identicon&r=PG&f=1", "display_name": "user2924127", "link": "https://stackoverflow.com/users/2924127/user2924127"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 408, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490224418, "creation_date": 1490223692, "question_id": 42964230, "link": "https://stackoverflow.com/questions/42964230/webgl-support-for-newer-android-phones", "title": "Webgl support for newer android phones", "body": "<p>I plan on creating a javascript app which will have some image manipulation needed. I have tested it on a regular browser without webgl and it is very slow compared to a phone which supports webgl. This is an important feature, but not crucial to the application (if ~80% of users could use it that would be fine). Some devices are blacklisted from using webgl (<a href=\"https://www.khronos.org/webgl/wiki/BlacklistsAndWhitelists\" rel=\"nofollow noreferrer\">https://www.khronos.org/webgl/wiki/BlacklistsAndWhitelists</a>) but I am wondering is it safe to say as a general rule of thumb that newer phones will support webgl?</p>\n"}, {"tags": ["javascript", "php", "vue.js", "laravel-echo"], "answers": [{"tags": [], "owner": {"reputation": 69497, "user_id": 38065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25f88c47b81c1e154551f64771074b06?s=128&d=identicon&r=PG", "display_name": "Bert", "link": "https://stackoverflow.com/users/38065/bert"}, "is_accepted": true, "score": 1, "last_activity_date": 1506088984, "last_edit_date": 1506088984, "creation_date": 1490224718, "answer_id": 42964454, "question_id": 42964182, "link": "https://stackoverflow.com/questions/42964182/error-calling-vue-js-function-from-within-laravel-echo/42964454#42964454", "title": "Error calling vue.js function from within laravel echo", "body": "<p>You used a fat arrow function for your callbacks everywhere except that one, so you lost the correct context on <code>this</code>. Change it to</p>\n\n<pre><code>subscribeRoom()\n{\n    this.rooms.forEach(entry =&gt; {\n        Echo.private('chat.'+entry.id)\n            .listen('.newMessage', e =&gt; this.updateMessage(e.message)); \n    });\n},\n</code></pre>\n"}], "owner": {"reputation": 476, "user_id": 3762430, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d468281fbd01ce067b75088d83773ec?s=128&d=identicon&r=PG&f=1", "display_name": "kofoworola", "link": "https://stackoverflow.com/users/3762430/kofoworola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 474, "favorite_count": 0, "accepted_answer_id": 42964454, "answer_count": 1, "score": 2, "last_activity_date": 1506088984, "creation_date": 1490223462, "question_id": 42964182, "link": "https://stackoverflow.com/questions/42964182/error-calling-vue-js-function-from-within-laravel-echo", "title": "Error calling vue.js function from within laravel echo", "body": "<p>So i'm building a chat room module into my laravel app with vue,echo and pusher. The real-time broadcasting and receiving with laravel works already, the issue i'm having is when i call a method of the vue instance from the echo subscribe function i get a method undefined error in java-script. Please note i am a noob in vue.js\nHere is my app.js file of laravel</p>\n\n<pre><code>Vue.component('example', require('./components/Example.vue'));\nVue.component('chat-messages', require('./components/ChatMessages.vue'));\n\nwindow.App = {};\nwindow.App.app = 'hello';\n\nwindow.App.app = new Vue({\n    el: '#wrapper',\n    data: {\n        messages: [],\n        rooms: [],\n        test: 'yes',\n        first: 0\n    },\n    created() {\n        this.fetchRooms();\n    },\n    methods: {\n        fetchMessages(id) {\n            axios.get('/messages/' + id).then(response =&gt; {\n                this.messages = response.data;\n                console.log(response.data);\n            });\n        },\n        fetchRooms()\n        {\n            axios.get('/rooms').then(response =&gt; {\n                this.rooms = response.data;\n                this.first = this.rooms[0].id;\n                this.fetchMessages(this.first);\n                this.subscribeRoom();\n            });\n        },  \n        sendMessage(data)\n        {\n            axios.post('/chat/send', {\n                message: data.message,\n                room_id: data.room_id\n            }).then(response =&gt; {\n                this.messages.push(response.data);\n            });\n        },\n        subscribeRoom()\n        {\n            console.log('sub');\n            this.rooms.forEach(function(entry)\n            {\n                Echo.private('chat.'+entry.id)\n                        .listen('.newMessage',(e)=&gt;{\n                            this.updateMessage(e.message); //throws undefined error when a new message comes in also when i try to push directly says undefined variable for this.messages\n                            console.log(e);\n                });\n            });\n        },\n        updateMessage(message)\n        {\n            this.messages.push(message);\n        }\n    }\n});  \n</code></pre>\n"}, {"tags": ["javascript", "promise", "async-await", "arrow-functions"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 2, "creation_date": 1490223341, "post_id": 42964102, "comment_id": 73022380, "body": "It&#39;s worth noting that at least firefox and babel does let you do that"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 27, "creation_date": 1490223399, "post_id": 42964102, "comment_id": 73022413, "body": "<code>var foo = async () =&gt; await Promise.resolve(&#39;ha&#39;);</code> - works just fine"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 2, "creation_date": 1490223474, "post_id": 42964102, "comment_id": 73022449, "body": "saying <code>it doesn&#39;t work</code> is meaningless ... are you getting an error? perhaps you&#39;re doing something else wrong, without the code that &quot;doesn&#39;t work&quot; and a meaningful description of how it doesn&#39;t work, can only guess that you&#39;re doing something wrong (or using an old browser)"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1490223481, "post_id": 42964102, "comment_id": 73022452, "body": "@JaromandaX well I can&#39;t find it in any spec, so far at least"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1490223599, "post_id": 42964102, "comment_id": 73022504, "body": "that may well be @Pointy, but it does work natively in current firefox and chrome and node.js (7.7.4)"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1490223915, "post_id": 42964102, "comment_id": 73022631, "body": "The <a href=\"https://tc39.github.io/ecma262/#sec-async-arrow-function-definitions\" rel=\"nofollow noreferrer\">ES2017 spec</a> has a section on async arrow function definitions @Pointy."}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1490224107, "post_id": 42964102, "comment_id": 73022698, "body": "@MikeMcCaughan yes I&#39;m just getting to that; I figured it had to be somewhere because I saw some Babel discussions about it (thanks)"}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1490224244, "post_id": 42964102, "comment_id": 73022772, "body": "What do you mean by &quot;<i>equivalent syntax for Node.js</i>&quot;? As soon as node supports <code>async</code>/<code>await</code>, it will support exactly that syntax."}, {"owner": {"reputation": 20067, "user_id": 3769905, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ae9bf76c0597ac1712a84af33e12467d?s=128&d=identicon&r=PG&f=1", "display_name": "BonsaiOak", "link": "https://stackoverflow.com/users/3769905/bonsaioak"}, "edited": false, "score": 0, "creation_date": 1490224258, "post_id": 42964102, "comment_id": 73022778, "body": "It turned my problem was actually that I hadn&#39;t updated node.js to the latest version.  I would have seen that immediately but I couldn&#39;t find a good example of correct syntax.  I&#39;ve updated my question to reflect that."}, {"owner": {"reputation": 20067, "user_id": 3769905, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ae9bf76c0597ac1712a84af33e12467d?s=128&d=identicon&r=PG&f=1", "display_name": "BonsaiOak", "link": "https://stackoverflow.com/users/3769905/bonsaioak"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1490224306, "post_id": 42964102, "comment_id": 73022796, "body": "@JaromandaX You&#39;re right.  I should have posted my error message."}, {"owner": {"reputation": 20067, "user_id": 3769905, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ae9bf76c0597ac1712a84af33e12467d?s=128&d=identicon&r=PG&f=1", "display_name": "BonsaiOak", "link": "https://stackoverflow.com/users/3769905/bonsaioak"}, "reply_to_user": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1490224372, "post_id": 42964102, "comment_id": 73022819, "body": "@Bergi I edited in a hurry and made the silly mistake of writing &quot;node.js&quot; instead of &quot;arrow functions&quot;  See my updated question."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1490224483, "post_id": 42964102, "comment_id": 73022854, "body": "@BonsaiOak - you still can, it&#39;s not too late"}], "answers": [{"comments": [{"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 16, "creation_date": 1490224781, "post_id": 42964310, "comment_id": 73022969, "body": "The OP appears to be looking for a named, async, arrow function which is the one syntax you do not show."}, {"owner": {"reputation": 245145, "user_id": 1348195, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=128&d=identicon&r=PG", "display_name": "Benjamin Gruenbaum", "link": "https://stackoverflow.com/users/1348195/benjamin-gruenbaum"}, "edited": false, "score": 55, "creation_date": 1490226940, "post_id": 42964310, "comment_id": 73023635, "body": "Actually, <code>const foo = async () =&gt; {}</code> creates a named async function named <code>foo</code>. It&#39;s entirely possible to do named functions this way (just no hoisting). In ES2016+ assignment of an anonymous function to a variable names it after the variable if it is declared there."}, {"owner": {"reputation": 20067, "user_id": 3769905, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ae9bf76c0597ac1712a84af33e12467d?s=128&d=identicon&r=PG&f=1", "display_name": "BonsaiOak", "link": "https://stackoverflow.com/users/3769905/bonsaioak"}, "reply_to_user": {"reputation": 245145, "user_id": 1348195, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=128&d=identicon&r=PG", "display_name": "Benjamin Gruenbaum", "link": "https://stackoverflow.com/users/1348195/benjamin-gruenbaum"}, "edited": false, "score": 0, "creation_date": 1490294796, "post_id": 42964310, "comment_id": 73060868, "body": "@BenjaminGruenbaum What changed in es2016+?  I thought it was always that way."}, {"owner": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "reply_to_user": {"reputation": 245145, "user_id": 1348195, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=128&d=identicon&r=PG", "display_name": "Benjamin Gruenbaum", "link": "https://stackoverflow.com/users/1348195/benjamin-gruenbaum"}, "edited": false, "score": 9, "creation_date": 1496543565, "post_id": 42964310, "comment_id": 75702854, "body": "@BenjaminGruenbaum Please don&#39;t call it named function. In js, a named anonymous function is a very specific syntax <code>foo = function bar () {}</code> that was created to replace <code>arguments.callee</code> when writing recursive anonymous functions. What you have there is a variable named <code>foo</code> that is a reference to a function."}, {"owner": {"reputation": 245145, "user_id": 1348195, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=128&d=identicon&r=PG", "display_name": "Benjamin Gruenbaum", "link": "https://stackoverflow.com/users/1348195/benjamin-gruenbaum"}, "reply_to_user": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "edited": false, "score": 22, "creation_date": 1496603033, "post_id": 42964310, "comment_id": 75717553, "body": "@slebetman since ES2015 when you do <code>const foo = async () =&gt; {}</code> the name of the function is set to <code>foo</code> - <a href=\"http://www.ecma-international.org/ecma-262/6.0/#sec-assignment-operators-runtime-semantics-evaluation\" rel=\"nofollow noreferrer\">ecma-international.org/ecma-262/6.0/&hellip;</a> and <a href=\"http://www.ecma-international.org/ecma-262/6.0/#sec-object-initializer-runtime-semantics-propertydefinitionevaluation\" rel=\"nofollow noreferrer\">ecma-international.org/ecma-262/6.0/&hellip;</a> - see discussion in <a href=\"https://esdiscuss.org/topic/name-anonymous-functions-on-property-assignments\" rel=\"nofollow noreferrer\">esdiscuss.org/topic/&hellip;</a>"}, {"owner": {"reputation": 3151, "user_id": 2119946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cae444ffe4d22b6b3bffb9114405f41d?s=128&d=identicon&r=PG", "display_name": "Faris Rayhan", "link": "https://stackoverflow.com/users/2119946/faris-rayhan"}, "edited": false, "score": 0, "creation_date": 1517569793, "post_id": 42964310, "comment_id": 84159102, "body": "What is the difference if we use async function with constanta. const somefunction = async () =&gt; {}"}, {"owner": {"reputation": 19544, "user_id": 985454, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/240c85cfce79d99a6393196f484484a6?s=128&d=identicon&r=PG", "display_name": "Qwerty", "link": "https://stackoverflow.com/users/985454/qwerty"}, "reply_to_user": {"reputation": 3151, "user_id": 2119946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cae444ffe4d22b6b3bffb9114405f41d?s=128&d=identicon&r=PG", "display_name": "Faris Rayhan", "link": "https://stackoverflow.com/users/2119946/faris-rayhan"}, "edited": false, "score": 2, "creation_date": 1532434613, "post_id": 42964310, "comment_id": 89964629, "body": "@FarisRayhan It&#39;s just as with other constants, the reference of the variable <code>somefunction</code> cannot be changed after it is set. (It points to your anonymous async function.)"}, {"owner": {"reputation": 8169, "user_id": 650104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50d91c4e7c47e577adbeef720e9010fe?s=128&d=identicon&r=PG", "display_name": "Javarome", "link": "https://stackoverflow.com/users/650104/javarome"}, "edited": false, "score": 0, "creation_date": 1539877348, "post_id": 42964310, "comment_id": 92669005, "body": "If calling from another <code>async</code> function, you can also wait for anonymous/arrow functions using   <code>await (async () =&gt; { &#47;&#47; do something });</code>"}, {"owner": {"reputation": 333, "user_id": 7106933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcc6024f3e0d913f1902cbb3aec40502?s=128&d=identicon&r=PG&f=1", "display_name": "MLissCetrus", "link": "https://stackoverflow.com/users/7106933/mlisscetrus"}, "edited": false, "score": 0, "creation_date": 1580337624, "post_id": 42964310, "comment_id": 106068956, "body": "I have defined my function like this:  getDataFromPhoneNumber = (phone) =&gt; {     return new Promise((resolve, reject) =&gt;{  /*stuff here*/ } } how do I make that async ?"}, {"owner": {"reputation": 3097, "user_id": 3070062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f20c7574a287e2a9be02000157f65532?s=128&d=identicon&r=PG&f=1", "display_name": "Falco", "link": "https://stackoverflow.com/users/3070062/falco"}, "reply_to_user": {"reputation": 333, "user_id": 7106933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcc6024f3e0d913f1902cbb3aec40502?s=128&d=identicon&r=PG&f=1", "display_name": "MLissCetrus", "link": "https://stackoverflow.com/users/7106933/mlisscetrus"}, "edited": false, "score": 0, "creation_date": 1591970110, "post_id": 42964310, "comment_id": 110264045, "body": "@MLissCetrus just like the answer suggests: <code>async phone =&gt; {&#47;* stuff here *&#47;}</code>"}, {"owner": {"reputation": 1202, "user_id": 4969945, "user_type": "registered", "accept_rate": 11, "profile_image": "https://lh3.googleusercontent.com/-V_gW7xpKyDI/AAAAAAAAAAI/AAAAAAAAH7o/Fvn3wFRSbMA/photo.jpg?sz=128", "display_name": "cpcallen", "link": "https://stackoverflow.com/users/4969945/cpcallen"}, "reply_to_user": {"reputation": 245145, "user_id": 1348195, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=128&d=identicon&r=PG", "display_name": "Benjamin Gruenbaum", "link": "https://stackoverflow.com/users/1348195/benjamin-gruenbaum"}, "edited": false, "score": 0, "creation_date": 1602241334, "post_id": 42964310, "comment_id": 113664960, "body": "@BenjaminGruenbaum: <code>const foo = async () =&gt; \u2026</code> sets the <code>.name</code> property on the function (just like <code>var foo = function () {\u2026</code> did in ES5\u2014this is only a change in that <code>const</code> an arrow functions did not exist in ES5\u2014 but that doesn&#39;t make the function a <i>named</i> function.  Consider: in the <code>var foo</code> case you can change the value of <code>foo</code> and whoops, function can no longer call itself.  That&#39;s different than <code>function foo() {\u2026</code>, where <code>foo</code> can always call itself by that name."}], "tags": [], "owner": {"reputation": 20067, "user_id": 3769905, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ae9bf76c0597ac1712a84af33e12467d?s=128&d=identicon&r=PG&f=1", "display_name": "BonsaiOak", "link": "https://stackoverflow.com/users/3769905/bonsaioak"}, "is_accepted": true, "score": 1101, "last_activity_date": 1590486871, "last_edit_date": 1590486871, "creation_date": 1490224023, "answer_id": 42964310, "question_id": 42964102, "link": "https://stackoverflow.com/questions/42964102/syntax-for-async-arrow-function/42964310#42964310", "title": "Syntax for async arrow function", "body": "<p>Async <strong>arrow functions</strong> look like this:</p>\n\n<pre><code>const foo = async () =&gt; {\n  // do something\n}\n</code></pre>\n\n<p>Async <strong>arrow functions</strong> look like this for a <em>single argument</em> passed to it:</p>\n\n<pre><code>const foo = async evt =&gt; {\n  // do something with evt\n}\n</code></pre>\n\n<p>Async <strong>arrow functions</strong> look like this for <em>multiple arguments</em> passed to it:</p>\n\n<pre><code>const foo = async (evt, callback) =&gt; {\n  // do something with evt\n  // return response with callback\n}\n</code></pre>\n\n<p>The <strong>anonymous</strong> form works as well:</p>\n\n<pre><code>const foo = async function() {\n  // do something\n}\n</code></pre>\n\n<p>An async function <strong>declaration</strong> looks like this:</p>\n\n<pre><code>async function foo() {\n  // do something\n}\n</code></pre>\n\n<p>Using async function in a <strong>callback</strong>:</p>\n\n<pre><code>const foo = event.onCall(async () =&gt; {\n  // do something\n})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "edited": false, "score": 11, "creation_date": 1496543431, "post_id": 44350194, "comment_id": 75702840, "body": "Note that a named function expression is a very specific syntax in javascript. This is NOT a named function expression. Using the right words is important to avoid confusion later on when one phrase can evolve to mean two things. FYI, a named function expression is: <code>foo = function myName () {}</code>. The name is <code>myName</code> and it is specified to only exist inside the anonymous function and not defined anywhere outside. It&#39;s purpose is to replace <code>arguments.callee</code> when writing recursive anonymous functions."}, {"owner": {"reputation": 656, "user_id": 1064996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8f8b4259659eeb464c78c452c65189c?s=128&d=identicon&r=PG", "display_name": "Vaz", "link": "https://stackoverflow.com/users/1064996/vaz"}, "reply_to_user": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "edited": false, "score": 1, "creation_date": 1504395131, "post_id": 44350194, "comment_id": 78997962, "body": "I was about to dispute you @slebetman on technicality, since this is a (arrow) function expression and you end up with a named function (ie <code>foo.name === &#39;foo&#39;</code>). But only because it&#39;s in the initializer of a <code>const</code> *statement*\u2014meaning it&#39;s not quite right to call this a &quot;named async arrow function expression&quot;. You&#39;re also correct that a named function expression&#39;s name is only <i>bound</i> inside its own body, but it is also stored in the function&#39;s <code>name</code> property, which is nice for debugging (and is more often the reason I&#39;d name them)."}, {"owner": {"reputation": 656, "user_id": 1064996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8f8b4259659eeb464c78c452c65189c?s=128&d=identicon&r=PG", "display_name": "Vaz", "link": "https://stackoverflow.com/users/1064996/vaz"}, "edited": false, "score": 5, "creation_date": 1504395345, "post_id": 44350194, "comment_id": 78997981, "body": "To put it another way, there&#39;s no such thing as a &quot;named arrow function expression&quot;, but it can become &quot;named&quot; by being part of a const or let <i>statement</i> (not sure about var because of hoisting), in the sense of having a name <code>fn.name</code> as well as having a binding in scope (the variable)."}], "tags": [], "owner": {"reputation": 6875, "user_id": 5458075, "user_type": "registered", "profile_image": "https://graph.facebook.com/1145846158763351/picture?type=large", "display_name": "Edoardo L&#39;Astorina", "link": "https://stackoverflow.com/users/5458075/edoardo-lastorina"}, "is_accepted": false, "score": 139, "last_activity_date": 1569957369, "last_edit_date": 1569957369, "creation_date": 1496542574, "answer_id": 44350194, "question_id": 42964102, "link": "https://stackoverflow.com/questions/42964102/syntax-for-async-arrow-function/44350194#44350194", "title": "Syntax for async arrow function", "body": "<p>This the simplest way to assign an <code>async</code> arrow function <strong>expression</strong> to a <strong>named</strong> variable:</p>\n\n<pre><code>const foo = async () =&gt; {\n  // do something\n}\n</code></pre>\n\n<p><sub>(Note that this is not strictly equivalent to <code>async function foo() { }</code>. Besides <a href=\"https://stackoverflow.com/q/34361379/247696\">the differences between the <code>function</code> keyword and an arrow expression</a>, the function in this answer is not <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/Hoisting\" rel=\"noreferrer\">\"hoisted to the top\"</a>.)</sub></p>\n"}, {"comments": [{"owner": {"reputation": 258, "user_id": 555167, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/C8Vdk.jpg?s=128&g=1", "display_name": "Tak&#225;cs Zsolt", "link": "https://stackoverflow.com/users/555167/tak%c3%a1cs-zsolt"}, "edited": false, "score": 6, "creation_date": 1521402503, "post_id": 47946242, "comment_id": 85704369, "body": "with one param you don&#39;t need parenthesis.  YourAsyncFunctionName = async value =&gt; {      /* Code goes here */  }"}, {"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "reply_to_user": {"reputation": 258, "user_id": 555167, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/C8Vdk.jpg?s=128&g=1", "display_name": "Tak&#225;cs Zsolt", "link": "https://stackoverflow.com/users/555167/tak%c3%a1cs-zsolt"}, "edited": false, "score": 1, "creation_date": 1599109117, "post_id": 47946242, "comment_id": 112672477, "body": "@Tak&#225;csZsolt it a matter of preference. What Justin did is not wrong. I like to put parenthesis just in case I have add more params in the future"}], "tags": [], "owner": {"reputation": 755, "user_id": 4110635, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/36dcde6f0fbf99b374c19cfa9ea31ea2?s=128&d=identicon&r=PG", "display_name": "Justin E. Samuels", "link": "https://stackoverflow.com/users/4110635/justin-e-samuels"}, "is_accepted": false, "score": 14, "last_activity_date": 1513969712, "creation_date": 1513969712, "answer_id": 47946242, "question_id": 42964102, "link": "https://stackoverflow.com/questions/42964102/syntax-for-async-arrow-function/47946242#47946242", "title": "Syntax for async arrow function", "body": "<p>You may also do: </p>\n\n<pre><code> YourAsyncFunctionName = async (value) =&gt; {\n\n    /* Code goes here */\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 828, "user_id": 2638426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/214648be230a1c7b222e0d74568a674b?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/2638426/michael"}, "is_accepted": false, "score": 64, "last_activity_date": 1532100811, "last_edit_date": 1532100811, "creation_date": 1532095470, "answer_id": 51444324, "question_id": 42964102, "link": "https://stackoverflow.com/questions/42964102/syntax-for-async-arrow-function/51444324#51444324", "title": "Syntax for async arrow function", "body": "<p>Immediately Invoked Async Arrow Function:</p>\n\n<pre><code>(async () =&gt; {\n    console.log(await asyncFunction());\n})();\n</code></pre>\n\n<p>Immediately Invoked Async Function Expression:</p>\n\n<pre><code>(async function () {\n    console.log(await asyncFunction());\n})();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2266, "user_id": 2664160, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4dad7df0060f3fc9fa4f1665603d47c8?s=128&d=identicon&r=PG&f=1", "display_name": "codemirror", "link": "https://stackoverflow.com/users/2664160/codemirror"}, "is_accepted": false, "score": 19, "last_activity_date": 1571965561, "last_edit_date": 1571965561, "creation_date": 1553586628, "answer_id": 55352144, "question_id": 42964102, "link": "https://stackoverflow.com/questions/42964102/syntax-for-async-arrow-function/55352144#55352144", "title": "Syntax for async arrow function", "body": "<p>Async Arrow function syntax with parameters</p>\n\n<pre><code>const myFunction = async (a, b, c) =&gt; {\n   // Code here\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 526, "user_id": 11741753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uv0xN.jpg?s=128&g=1", "display_name": "Chaurasia", "link": "https://stackoverflow.com/users/11741753/chaurasia"}, "is_accepted": false, "score": 19, "last_activity_date": 1574859337, "creation_date": 1574859337, "answer_id": 59070755, "question_id": 42964102, "link": "https://stackoverflow.com/questions/42964102/syntax-for-async-arrow-function/59070755#59070755", "title": "Syntax for async arrow function", "body": "<p><strong>Basic Example</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>folder = async () =&gt; {\n    let fold = await getFold();\n    //await localStorage.save('folder');\n    return fold;\n  };\n</code></pre>\n\n\n"}, {"comments": [{"owner": {"reputation": 12601, "user_id": 514878, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2436423552aa319c4e960540ff091b0b?s=128&d=identicon&r=PG", "display_name": "FluffyKitten", "link": "https://stackoverflow.com/users/514878/fluffykitten"}, "edited": false, "score": 1, "creation_date": 1599354369, "post_id": 63756440, "comment_id": 112748951, "body": "Please edit your answer to explain how this code answers the question and improves on the many upvoted answers the question already has, so that it is useful to other users with similar issues. Code-only answers are discouraged on Stack Overflow because they don&#39;t explain how it solves the problem."}], "tags": [], "owner": {"reputation": 71, "user_id": 10686509, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-92z_sTtF1Ck/AAAAAAAAAAI/AAAAAAAADkE/tkR9_LfqGdM/photo.jpg?sz=128", "display_name": "suraj gholap", "link": "https://stackoverflow.com/users/10686509/suraj-gholap"}, "is_accepted": false, "score": 6, "last_activity_date": 1599325191, "creation_date": 1599325191, "answer_id": 63756440, "question_id": 42964102, "link": "https://stackoverflow.com/questions/42964102/syntax-for-async-arrow-function/63756440#63756440", "title": "Syntax for async arrow function", "body": "<p>My async function</p>\n<pre><code>const getAllRedis = async (key) =&gt; {\n  let obj = [];\n\n  await client.hgetall(key, (err, object) =&gt; {\n    console.log(object);\n    _.map(object, (ob)=&gt;{\n      obj.push(JSON.parse(ob));\n    })\n    return obj;\n    // res.send(obj);\n});\n}\n</code></pre>\n"}], "owner": {"reputation": 20067, "user_id": 3769905, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ae9bf76c0597ac1712a84af33e12467d?s=128&d=identicon&r=PG&f=1", "display_name": "BonsaiOak", "link": "https://stackoverflow.com/users/3769905/bonsaioak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336859, "favorite_count": 118, "accepted_answer_id": 42964310, "answer_count": 7, "score": 643, "last_activity_date": 1599325191, "creation_date": 1490223039, "last_edit_date": 1546913260, "question_id": 42964102, "link": "https://stackoverflow.com/questions/42964102/syntax-for-async-arrow-function", "title": "Syntax for async arrow function", "body": "<p>I can mark a javascript function as \"async\" (i.e. returning a promise) with the <code>async</code> keyword.  Like this:</p>\n\n<pre><code>async function foo() {\n  // do something\n}\n</code></pre>\n\n<p>What is the equivalent syntax for arrow functions?</p>\n"}, {"tags": ["javascript", "reactjs", "firebase", "react-native", "native-base"], "comments": [{"owner": {"reputation": 7648, "user_id": 5442308, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/246f740a4597f4fec0ebbc6be98fa8ab?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Aft", "link": "https://stackoverflow.com/users/5442308/matt-aft"}, "edited": false, "score": 0, "creation_date": 1490229900, "post_id": 42964073, "comment_id": 73024516, "body": "So it&#39;s working but it isn&#39;t showing. I think you might need to wrap your navigator around a View with flex: 1."}, {"owner": {"reputation": 19, "user_id": 7076194, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/df366273d5ee4d5b0fa3b2badc3a957a?s=128&d=identicon&r=PG&f=1", "display_name": "mcw", "link": "https://stackoverflow.com/users/7076194/mcw"}, "reply_to_user": {"reputation": 7648, "user_id": 5442308, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/246f740a4597f4fec0ebbc6be98fa8ab?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Aft", "link": "https://stackoverflow.com/users/5442308/matt-aft"}, "edited": false, "score": 0, "creation_date": 1490230258, "post_id": 42964073, "comment_id": 73024616, "body": "@MattAft yea I&#39;ve tried wrapping the Navigator in a View and both the HomeIndex and ShowPage within my renderScene conditional in Views. Neither approach seems to do much good."}], "answers": [{"tags": [], "owner": {"reputation": 19, "user_id": 7076194, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/df366273d5ee4d5b0fa3b2badc3a957a?s=128&d=identicon&r=PG&f=1", "display_name": "mcw", "link": "https://stackoverflow.com/users/7076194/mcw"}, "is_accepted": true, "score": 0, "last_activity_date": 1490284203, "creation_date": 1490284203, "answer_id": 42980934, "question_id": 42964073, "link": "https://stackoverflow.com/questions/42964073/react-native-navigator-not-rendering-initialroute/42980934#42980934", "title": "React-Native -- Navigator not rendering initialRoute", "body": "<p>My issue was stemming from the nesting of my <code>&lt;Routing /&gt;</code> component in the <code>&lt;Content&gt;</code> tags in my MainLayout.js. Removed those and it rendered correctly.</p>\n"}], "owner": {"reputation": 19, "user_id": 7076194, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/df366273d5ee4d5b0fa3b2badc3a957a?s=128&d=identicon&r=PG&f=1", "display_name": "mcw", "link": "https://stackoverflow.com/users/7076194/mcw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 42980934, "answer_count": 1, "score": 0, "last_activity_date": 1490284203, "creation_date": 1490222905, "last_edit_date": 1490283343, "question_id": 42964073, "link": "https://stackoverflow.com/questions/42964073/react-native-navigator-not-rendering-initialroute", "title": "React-Native -- Navigator not rendering initialRoute", "body": "<p>In the process of teaching myself React-Native. Building a mock-up of a retail iOS site which draws its data from Firebase and have hit a snag trying to incorporate Navigator. My app flows from 'index.ios.js > MainLayout > Routing > HomeIndex'. Here are said components:</p>\n\n<p>MainLayout.js</p>\n\n<pre><code>import React, { Component } from 'react';\nimport { Text } from 'react-native';\nimport { Container, Header, Title, Content, Footer, FooterTab, Button, Left, Right, Body, Icon } from 'native-base';\nimport Routing from './Routing';\nimport HomeIndex from '../pages/HomeIndex';\n\nclass MainLayout extends Component {\n  render() {\n    return (\n      &lt;Container&gt;\n        &lt;Header&gt;\n            &lt;Left&gt;\n                &lt;Button transparent&gt;\n                &lt;/Button&gt;\n            &lt;/Left&gt;\n            &lt;Body&gt;\n                &lt;Title&gt;RetailSite&lt;/Title&gt;\n            &lt;/Body&gt;\n            &lt;Right /&gt;\n        &lt;/Header&gt;\n\n        &lt;Content&gt;\n          &lt;Routing /&gt;\n        &lt;/Content&gt;\n\n        &lt;Footer&gt;\n            &lt;FooterTab&gt;\n                &lt;Button full&gt;\n                    &lt;Text&gt;Footer&lt;/Text&gt;\n                &lt;/Button&gt;\n            &lt;/FooterTab&gt;\n        &lt;/Footer&gt;\n      &lt;/Container&gt;\n    );\n  }\n}\n\nexport default MainLayout;\n</code></pre>\n\n<p>Routing.js</p>\n\n<pre><code>import React, { Component } from 'react';\nimport { Navigator, View } from 'react-native';\nimport HomeIndex from '../pages/HomeIndex';\nimport ShowPage from '../pages/ShowPage';\n\nclass Routing extends Component {\n\n  renderScene(route, navigator) {\n    if (route.name === 'home') {\n      return &lt;HomeIndex navigator={navigator} /&gt;\n    } else if (route.name === 'show') {\n      return &lt;ShowPage navigator={navigator} /&gt;\n    }\n  }\n\n  render() {\n    return (\n      &lt;Navigator\n        initialRoute={{ name: 'home' }}\n        renderScene={this.renderScene.bind(this)}\n      /&gt;\n    );\n  }\n}\n\nexport default Routing;\n</code></pre>\n\n<p>HomeIndex.js</p>\n\n<pre><code>import React, { Component } from 'react';\nimport { RNRSData } from '../../config/FirebaseConstants';\nimport { StyleSheet, Text, View, TouchableHighlight, Image, Navigator } from 'react-native';\nimport styles from '../../../styles.js';\n\nclass HomeIndex extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      allProducts: [],\n    }\n  }\n\n  componentDidMount() {\n    let _this = this;\n    let products = {};\n\n    RNRSData.ref('products/').once('value', function(data) {\n      data.forEach(function(productNode) {\n        let name = productNode.val().name;\n        let cost = productNode.val().cost;\n        let image = productNode.val().image;\n        let idNumber = productNode.key;\n        products[name] = {name: name, cost: cost, image: image, id: idNumber}\n      })\n    }).then(function(product) {\n      console.log(product)\n      let keys = Object.keys(products).sort();\n      let sortedHash = {};\n      let sortedArray = [];\n\n      for (let i = 0; i &lt; keys.length; i++) {\n        let key = keys[i];\n        sortedArray.push(sortedHash[key] = products[key]);\n      }\n\n      _this.setState({allProducts: sortedArray}, function afterProductSet() {\n\n      });\n    })\n  }\n\n  render () {\n    let allProducts = this.state.allProducts;\n    console.log(allProducts);\n\n    return (\n      &lt;View&gt;\n        &lt;Text style={styles.homeHeader}&gt;New Arrivals&lt;/Text&gt;\n        &lt;View style={styles.homeIndexContainer}&gt;\n            {allProducts.map(function(object) {\n              return (\n                &lt;View style={styles.liContainer} key={object.id}&gt;\n                    &lt;Image source={{uri: object.image}} style={styles.liImage}&gt;\n                    &lt;Text style={styles.liTextName}&gt;{object.name}&lt;/Text&gt;\n                    &lt;Text style={styles.liTextCost}&gt;${object.cost}&lt;/Text&gt;\n                    &lt;/Image&gt;\n                &lt;/View&gt;\n              )\n            })}\n        &lt;/View&gt;\n      &lt;/View&gt;\n    )\n  }\n}\n\nexport default HomeIndex;\n</code></pre>\n\n<p>As it stands, my simulator renders the header and footer and hits the console.log in the HomeIndex and displays the correct data in said console.log. But it's not displaying the data it's pulling from Firebase within my simulator. </p>\n\n<p>If I switch out <code>&lt;Routing /&gt;</code> for <code>&lt;HomeIndex /&gt;</code> within MainLayout.js it correctly displays the index in the simulator, which is leading me to suspect it may be something I'm botching within Routing.js. Or if the Navigator is somehow throwing off my componentDidMount method. Any help would be appreciated.</p>\n"}, {"tags": ["javascript", "node.js", "setinterval"], "answers": [{"comments": [{"owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "edited": false, "score": 1, "creation_date": 1490223538, "post_id": 42964097, "comment_id": 73022475, "body": "By executing the function directly, instead of passing a reference, the timeout is not respected and setTimeout has no effect. Removing this error leads to never executing the function, because the timeout is the same as the interval."}, {"owner": {"reputation": 6258, "user_id": 1527018, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/62e4e73fe7386a5e9401f90dc98c7584?s=128&d=identicon&r=PG", "display_name": "mic4ael", "link": "https://stackoverflow.com/users/1527018/mic4ael"}, "reply_to_user": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "edited": false, "score": 0, "creation_date": 1490223590, "post_id": 42964097, "comment_id": 73022499, "body": "yeah, but that was just an example how you can clear the timeout you created"}], "tags": [], "owner": {"reputation": 6258, "user_id": 1527018, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/62e4e73fe7386a5e9401f90dc98c7584?s=128&d=identicon&r=PG", "display_name": "mic4ael", "link": "https://stackoverflow.com/users/1527018/mic4ael"}, "is_accepted": true, "score": 2, "last_activity_date": 1490222995, "creation_date": 1490222995, "answer_id": 42964097, "question_id": 42964058, "link": "https://stackoverflow.com/questions/42964058/node-js-stop-the-function-before-running-it-again/42964097#42964097", "title": "node/js stop the function before running it again", "body": "<p><code>setTimeout</code> returns a <code>timeoutID</code> value that you can use later to stop the timer</p>\n\n<pre><code>var timeoutId = setTimeout( myfunction(), interval);\nclearTimeout(timeoutId);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 719, "user_id": 5408274, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh3.googleusercontent.com/-ngotadOmleM/AAAAAAAAAAI/AAAAAAAAINY/jR6_a3r4muA/photo.jpg?sz=128", "display_name": "Henrique Van Klaveren", "link": "https://stackoverflow.com/users/5408274/henrique-van-klaveren"}, "edited": false, "score": 0, "creation_date": 1490230785, "post_id": 42964288, "comment_id": 73024755, "body": "but you can show me?  Because I can not make logic work."}], "tags": [], "owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "is_accepted": false, "score": 1, "last_activity_date": 1490224269, "last_edit_date": 1490224269, "creation_date": 1490223922, "answer_id": 42964288, "question_id": 42964058, "link": "https://stackoverflow.com/questions/42964058/node-js-stop-the-function-before-running-it-again/42964288#42964288", "title": "node/js stop the function before running it again", "body": "<p>Your code, especially together with the requirement, doesn't make sense. First, you need to pass a reference to a function to <code>setTimeout</code> instead of executing it directly, </p>\n\n<pre><code>setTimeout(myfunction, 1000);\n</code></pre>\n\n<p>Otherwise, setTimeout has no effect at all and the function will just be executed without a timeout. </p>\n\n<p>Now if we fix this error, what we have is a interval that is the same for <code>setInterval</code> and for <code>setTimeout</code>. If you want to stop the execution of the function we've passed to <code>setTimeout</code> everytime the <code>setInterval</code> ticks, your <code>setTimeout</code> will be interrupted and never executed because of  the same interval you've specified. The next tick will stop the function before it did a thing.  </p>\n\n<p>See this example - notice that nothing happens:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var interval = 1000;\r\n\r\nsetInterval( function(){\r\n  var i = setTimeout( myfunction, interval )\r\n  clearTimeout(i);\r\n}, interval );\r\n\r\nfunction myfunction() {\r\n\tconsole.log(\"you'll never see me\"); \r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 719, "user_id": 5408274, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh3.googleusercontent.com/-ngotadOmleM/AAAAAAAAAAI/AAAAAAAAINY/jR6_a3r4muA/photo.jpg?sz=128", "display_name": "Henrique Van Klaveren", "link": "https://stackoverflow.com/users/5408274/henrique-van-klaveren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 42964097, "answer_count": 2, "score": 0, "last_activity_date": 1490224269, "creation_date": 1490222801, "question_id": 42964058, "link": "https://stackoverflow.com/questions/42964058/node-js-stop-the-function-before-running-it-again", "title": "node/js stop the function before running it again", "body": "<p>I have a function running at each time interval, I need to simply stop the function before running it again.</p>\n\n<p>Something similar to the code below.</p>\n\n<pre><code>var interval = 1000*60*3.14159;\n\nsetInterval( function(){\n  setTimeout( myfunction(), interval )\n}, interval );\n</code></pre>\n"}, {"tags": ["javascript", "python", "django", "google-chrome", "google-chrome-extension"], "answers": [{"tags": [], "owner": {"reputation": 10942, "user_id": 1202214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/501be28c0bf8615dd7cc6ab809ef35e9?s=128&d=identicon&r=PG", "display_name": "Andreas Bergstr&#246;m", "link": "https://stackoverflow.com/users/1202214/andreas-bergstr%c3%b6m"}, "is_accepted": false, "score": 0, "last_activity_date": 1554365983, "last_edit_date": 1592644375, "creation_date": 1554365983, "answer_id": 55511066, "question_id": 42964056, "link": "https://stackoverflow.com/questions/42964056/securely-storing-django-rest-api-token-in-chrome-extension/55511066#55511066", "title": "Securely storing Django REST API token in Chrome extension", "body": "<p>You should use <a href=\"https://www.informationsecuritybuzz.com/articles/security-and-privacy-best-practices-on-building-a-chrome-extension/\" rel=\"nofollow noreferrer\">chrome.identity</a>:</p>\n<blockquote>\n<p>Developers can leverage chrome.identity API to store user credentials. A Chrome extension usually makes API requests to external resources. A best practice is to store an OAuth API token. Such tokens can perform authorized requests on behalf of users without user names / passwords, and can be revoked by the user anytime.</p>\n<p>Chrome API provides a chrome.identity service, which provides a secure way for an extension to authenticate, fetch and refresh tokens. This API enables a user to perform authentication against a third-party service. Chrome can interactively display a popup UI, which:</p>\n</blockquote>\n<p>Here's the <a href=\"https://developer.chrome.com/apps/identity\" rel=\"nofollow noreferrer\">official docs</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14083871, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjRr-Wj5-Brn1muXHhfcf9EVzYmSv2z3bqoLcwCeA=k-s128", "display_name": "bert", "link": "https://stackoverflow.com/users/14083871/bert"}, "is_accepted": false, "score": 0, "last_activity_date": 1600182270, "last_edit_date": 1600182270, "creation_date": 1600026081, "answer_id": 63874874, "question_id": 42964056, "link": "https://stackoverflow.com/questions/42964056/securely-storing-django-rest-api-token-in-chrome-extension/63874874#63874874", "title": "Securely storing Django REST API token in Chrome extension", "body": "<p>Chrome does not allow extensions to modify/deal with cookies.</p>\n<p>In the <a href=\"https://developer.chrome.com/\" rel=\"nofollow noreferrer\">documentation</a> it says: &quot;Use the Chrome Identity API to authenticate users: the <em>getAuthToken</em> for users logged into their Google Account and the <em>launchWebAuthFlow</em> for users logged into a non-Google account. <strong>If your app uses its own server to authenticate users, you will need to use the latter</strong>&quot;</p>\n<p>You can find the documentation about non-Google accounts <a href=\"https://developer.chrome.com/apps/app_identity#non\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>You can store your token in local storage which is only accessible by your extension but be aware that, it is not encrypted and can be seen through Chrome's development tools.</p>\n"}], "owner": {"reputation": 71, "user_id": 5919716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0f95dc0eb945e2a4b74fb2ec38bb1f9?s=128&d=identicon&r=PG&f=1", "display_name": "sfirrin", "link": "https://stackoverflow.com/users/5919716/sfirrin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 374, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1600182270, "creation_date": 1490222785, "question_id": 42964056, "link": "https://stackoverflow.com/questions/42964056/securely-storing-django-rest-api-token-in-chrome-extension", "title": "Securely storing Django REST API token in Chrome extension", "body": "<p>I'm making a Chrome extension which should allow users to enter their username and password into a pop-up interface, post those to the server via AJAX, and receive a Django REST API token which the Chrome extension can use to interact with the Django app (get user info, create new records, etc. - so it should be secure).</p>\n\n<p>Right now I've got the Chrome extension making the request and receiving the API token, but I'm struggling with how to store the API token securely.</p>\n\n<p>I know that chrome.storage is out because the docs say that it's not secure. Would it be possible to use cookies here? The extension needs to run on multiple domains, so I'm not sure if I can use cookies securely.</p>\n\n<p>I'd like to not require the user to log in every time they use Chrome, but I'm not sure how to go about storing the API data.</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "google-sheets"], "answers": [{"comments": [{"owner": {"reputation": 400, "user_id": 2748187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mtP0A.jpg?s=128&g=1", "display_name": "Tom Palmer", "link": "https://stackoverflow.com/users/2748187/tom-palmer"}, "edited": false, "score": 3, "creation_date": 1507401859, "post_id": 42964126, "comment_id": 80198180, "body": "Where do you put the .d.ts file? TS doesn&#39;t seem to find it, no matter where I put it."}, {"owner": {"reputation": 115, "user_id": 3830945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd284c77f86f2be77794476f31b1405f?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad Ganshin", "link": "https://stackoverflow.com/users/3830945/vlad-ganshin"}, "edited": false, "score": 4, "creation_date": 1520498288, "post_id": 42964126, "comment_id": 85342450, "body": "I created <code>@types&#47;&lt;module_name&gt;</code> dir in my <code>src</code> and put there <code>index.d.ts</code> file with one line like above. It worked."}], "tags": [], "owner": {"reputation": 7552, "user_id": 1614863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5e93890c5b54d18dd454f14789c2b225?s=128&d=identicon&r=PG", "display_name": "Diullei", "link": "https://stackoverflow.com/users/1614863/diullei"}, "is_accepted": true, "score": 15, "last_activity_date": 1490223159, "creation_date": 1490223159, "answer_id": 42964126, "question_id": 42964013, "link": "https://stackoverflow.com/questions/42964013/adding-declarations-file-manually-typescript/42964126#42964126", "title": "Adding declarations file manually (TypeScript)", "body": "<p>If you dont need to care about the typings inside this module you can only create a <code>*.d.ts</code> file and put the following content (e.g. create a typings.d.ts):</p>\n\n<pre><code>declare module 'google-spreadsheet';\n</code></pre>\n\n<p>To define the types inside the module you can change the above code to:</p>\n\n<pre><code>declare module 'google-spreadsheet' {\n    // define the types...\n}\n</code></pre>\n"}], "owner": {"reputation": 5252, "user_id": 1026271, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c8f1c932fadbd0eb676c5903e5421725?s=128&d=identicon&r=PG", "display_name": "Alon", "link": "https://stackoverflow.com/users/1026271/alon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6154, "favorite_count": 1, "accepted_answer_id": 42964126, "answer_count": 1, "score": 6, "last_activity_date": 1490223159, "creation_date": 1490222596, "question_id": 42964013, "link": "https://stackoverflow.com/questions/42964013/adding-declarations-file-manually-typescript", "title": "Adding declarations file manually (TypeScript)", "body": "<p>I didn't find a declaration file for 'google-spreadsheet' so I'm trying to create one by myself:</p>\n\n<p>in typings -> modules, I've added a new folder named \"google-spreadsheet\", and there I've added a new file named \"index.d.ts\" which has the following content:</p>\n\n<pre><code>export class GoogleSpreadsheet {\n\n}\n</code></pre>\n\n<p>In the client file I have this:</p>\n\n<pre><code>import * as GoogleSpreadsheet from 'google-spreadsheet';\n</code></pre>\n\n<p>But 'google-spreadsheet' is marked with red, saying: </p>\n\n<blockquote>\n  <p>TS2307 Cannot find module 'google-spreadsheet'.</p>\n</blockquote>\n\n<p>BTW I've NPM-installed 'google-spreadsheet' and it works JavaScriptly. Only the TypeScript bothers me here.</p>\n\n<p>Any ideas how to solve that?</p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 73, "user_id": 4043077, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-pHzHy8hnX4Y/AAAAAAAAAAI/AAAAAAAAAY8/zucKKzviTzU/photo.jpg?sz=128", "display_name": "dcas", "link": "https://stackoverflow.com/users/4043077/dcas"}, "edited": false, "score": 0, "creation_date": 1490222564, "post_id": 42963998, "comment_id": 73022076, "body": "The link[1] = [1]: <a href=\"http://exercices.openclassrooms.com/assessment/534?login=6463957&amp;tk=ae61f26683862339a1de1be6303a6298&amp;sbd=2016-02-01&amp;sbdtk=2466d6bae51e373d89ac8e3f74213199\" rel=\"nofollow noreferrer\">exercices.openclassrooms.com/assessment/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 4043077, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-pHzHy8hnX4Y/AAAAAAAAAAI/AAAAAAAAAY8/zucKKzviTzU/photo.jpg?sz=128", "display_name": "dcas", "link": "https://stackoverflow.com/users/4043077/dcas"}, "edited": false, "score": 0, "creation_date": 1490345574, "post_id": 42964208, "comment_id": 73080459, "body": "Yes, it solved my issue ! But this looks a little bit of magic for me what has happened actually ? What behaviour did i prevent to do happen by adding  <code>event.preventDefault();</code>"}, {"owner": {"reputation": 73, "user_id": 4043077, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-pHzHy8hnX4Y/AAAAAAAAAAI/AAAAAAAAAY8/zucKKzviTzU/photo.jpg?sz=128", "display_name": "dcas", "link": "https://stackoverflow.com/users/4043077/dcas"}, "edited": false, "score": 0, "creation_date": 1490347038, "post_id": 42964208, "comment_id": 73081245, "body": "I check which event was being prevented by adding <code>console.log(event.type)</code> before and after <code>event.preventDefault();</code>  and the event type is called : <code>preventClick</code>."}, {"owner": {"reputation": 126, "user_id": 2971336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5799c076fc47d61f98a0915326de89df?s=128&d=identicon&r=PG&f=1", "display_name": "PresidentPratik", "link": "https://stackoverflow.com/users/2971336/presidentpratik"}, "reply_to_user": {"reputation": 73, "user_id": 4043077, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-pHzHy8hnX4Y/AAAAAAAAAAI/AAAAAAAAAY8/zucKKzviTzU/photo.jpg?sz=128", "display_name": "dcas", "link": "https://stackoverflow.com/users/4043077/dcas"}, "edited": false, "score": 0, "creation_date": 1490743966, "post_id": 42964208, "comment_id": 73246461, "body": "you&#39;re preventing the default behavior of a click on a link/button, the default behavior is to go the the resource pointed by the link thus a reload will happen in browser due to which you don&#39;t see your newly added things."}], "tags": [], "owner": {"reputation": 126, "user_id": 2971336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5799c076fc47d61f98a0915326de89df?s=128&d=identicon&r=PG&f=1", "display_name": "PresidentPratik", "link": "https://stackoverflow.com/users/2971336/presidentpratik"}, "is_accepted": true, "score": 0, "last_activity_date": 1490223552, "creation_date": 1490223552, "answer_id": 42964208, "question_id": 42963998, "link": "https://stackoverflow.com/questions/42963998/jquery-cleaning-my-page-view-after-i-add-some-html-links/42964208#42964208", "title": "JQuery cleaning my page view after I add some html links", "body": "<p>I guess you need to do a preventDefault on click of the button.</p>\n"}], "owner": {"reputation": 73, "user_id": 4043077, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-pHzHy8hnX4Y/AAAAAAAAAAI/AAAAAAAAAY8/zucKKzviTzU/photo.jpg?sz=128", "display_name": "dcas", "link": "https://stackoverflow.com/users/4043077/dcas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 42964208, "answer_count": 1, "score": 0, "last_activity_date": 1490223552, "creation_date": 1490222520, "last_edit_date": 1490222620, "question_id": 42963998, "link": "https://stackoverflow.com/questions/42963998/jquery-cleaning-my-page-view-after-i-add-some-html-links", "title": "JQuery cleaning my page view after I add some html links", "body": "<ul>\n<li>What i want</li>\n</ul>\n\n<p>When I try to accomplish this exercise on this <a href=\"http://exercices.openclassrooms.com/assessment/534?login=6463957&amp;tk=ae61f26683862339a1de1be6303a6298&amp;sbd=2016-02-01&amp;sbdtk=2466d6bae51e373d89ac8e3f74213199\" rel=\"nofollow noreferrer\">link</a>. when i try to add a link by submitting my form.</p>\n\n<p>I should get another link displayed in the main list, but it does something ,then restarts to the old display. </p>\n\n<ul>\n<li>What i tried and found</li>\n</ul>\n\n<p>I checked in the debugger what is happening, and it seems that after this part of Jquery code executed, all the page gets cleaned. </p>\n\n<pre><code>if ( !( eventHandle = elemData.handle ) ) {\n            eventHandle = elemData.handle = function( e ) {\n\n                // Discard the second event of a jQuery.event.trigger() and\n                // when an event is called after a page has unloaded\n                return typeof jQuery !== \"undefined\" &amp;&amp; jQuery.event.triggered !== e.type ?\n                    jQuery.event.dispatch.apply( elem, arguments ) : undefined;\n            };\n        }\n</code></pre>\n\n<p>You can find my code on this jsfiddle link :  JSfiddle introduce an error related to JS; to see the \"clean\" you should directly test in the browser. <a href=\"https://jsfiddle.net/didiercas/hvham7by/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/didiercas/hvham7by/</a></p>\n"}, {"tags": ["javascript", "jquery", "html"], "answers": [{"tags": [], "owner": {"reputation": 1081, "user_id": 6826288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3697688d3a6af2cbba4e541357565be8?s=128&d=identicon&r=PG", "display_name": "Ravenous", "link": "https://stackoverflow.com/users/6826288/ravenous"}, "is_accepted": false, "score": 0, "last_activity_date": 1490222919, "creation_date": 1490222919, "answer_id": 42964075, "question_id": 42963985, "link": "https://stackoverflow.com/questions/42963985/enable-scroll-onclick/42964075#42964075", "title": "Enable scroll onClick", "body": "<p><code>document.getElementsByTagName('body')[0].className += ' allowscrolling';</code></p>\n\n<p>This will do, you can't use jQuery if you don't load it in your project. </p>\n"}, {"comments": [{"owner": {"reputation": 951, "user_id": 3294512, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/tioDW.jpg?s=128&g=1", "display_name": "malditojavi", "link": "https://stackoverflow.com/users/3294512/malditojavi"}, "edited": false, "score": 0, "creation_date": 1490223362, "post_id": 42964078, "comment_id": 73022389, "body": "Did that change <a href=\"https://codepen.io/malditojavi/project/editor/ZgWYrZ/\" rel=\"nofollow noreferrer\">codepen.io/malditojavi/project/editor/ZgWYrZ</a> still not able to scroll."}, {"owner": {"reputation": 1218, "user_id": 6042307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee6ebc7609bac3a4ddf6c7920c2c083a?s=128&d=identicon&r=PG", "display_name": "gabesoft", "link": "https://stackoverflow.com/users/6042307/gabesoft"}, "reply_to_user": {"reputation": 951, "user_id": 3294512, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/tioDW.jpg?s=128&g=1", "display_name": "malditojavi", "link": "https://stackoverflow.com/users/3294512/malditojavi"}, "edited": false, "score": 0, "creation_date": 1490223492, "post_id": 42964078, "comment_id": 73022456, "body": "it&#39;s <code>getElementsByTagName</code> notice the <code>s</code> in <code>getElements</code>"}], "tags": [], "owner": {"reputation": 1218, "user_id": 6042307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee6ebc7609bac3a4ddf6c7920c2c083a?s=128&d=identicon&r=PG", "display_name": "gabesoft", "link": "https://stackoverflow.com/users/6042307/gabesoft"}, "is_accepted": true, "score": 1, "last_activity_date": 1490222929, "creation_date": 1490222929, "answer_id": 42964078, "question_id": 42963985, "link": "https://stackoverflow.com/questions/42963985/enable-scroll-onclick/42964078#42964078", "title": "Enable scroll onClick", "body": "<p>There is no <code>getElementByTagName</code> that returns a single element. There is a <code>getElementsByTagName</code> that returns an array. Use that and get the first element of the arrray to set the class\n<code>\ndocument.getElementsByTagName('body')[0].className = 'allowscrolling';\n</code></p>\n"}], "owner": {"reputation": 951, "user_id": 3294512, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/tioDW.jpg?s=128&g=1", "display_name": "malditojavi", "link": "https://stackoverflow.com/users/3294512/malditojavi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "accepted_answer_id": 42964078, "answer_count": 2, "score": 0, "last_activity_date": 1490222929, "creation_date": 1490222463, "question_id": 42963985, "link": "https://stackoverflow.com/questions/42963985/enable-scroll-onclick", "title": "Enable scroll onClick", "body": "<p>I'm working with 2 divs, the first div should fill the whole screen (width &amp; height) and once there is a button or link clicked in it, it should enable the scroll besides take to the second div.</p>\n\n<p>I have been able to set something like this <a href=\"https://codepen.io/malditojavi/project/editor/ZgWYrZ/#0\" rel=\"nofollow noreferrer\">https://codepen.io/malditojavi/project/editor/ZgWYrZ/#0</a> But I'm unable to change the class of the  with my own class 'allowscrolling' that would re-enable that scroll.</p>\n\n<p>I used this function </p>\n\n<pre><code>allowScrolling() {\n    document.getElementByTagName(\"body\").className = \"allowscrolling\";\n}\n</code></pre>\n\n<p>Also tried via jquery, with:</p>\n\n<pre><code>&lt;script&gt;\n $(\"button\").click(function(){\n $(\"body\").css(\"overflow\",\"scroll\");\n });\n&lt;/script&gt;\n</code></pre>\n\n<p>But both won't enable scroll after I click the first link. Anything I'm missing?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 53434, "user_id": 5037551, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/BYnIO.jpg?s=128&g=1", "display_name": "Dekel", "link": "https://stackoverflow.com/users/5037551/dekel"}, "edited": false, "score": 0, "creation_date": 1490222494, "post_id": 42963970, "comment_id": 73022037, "body": "Did you try something out?"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1490223062, "post_id": 42963970, "comment_id": 73022283, "body": "Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Key phrases: &quot;Search, and research&quot; and &quot;Explain ... any difficulties that have prevented you from solving it yourself&quot;."}, {"owner": {"reputation": 57, "user_id": 4603359, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1c27a6c490e19790e2b37715d0f72dc4?s=128&d=identicon&r=PG&f=1", "display_name": "chocofan", "link": "https://stackoverflow.com/users/4603359/chocofan"}, "reply_to_user": {"reputation": 53434, "user_id": 5037551, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/BYnIO.jpg?s=128&g=1", "display_name": "Dekel", "link": "https://stackoverflow.com/users/5037551/dekel"}, "edited": false, "score": 0, "creation_date": 1490223743, "post_id": 42963970, "comment_id": 73022566, "body": "@Dekel - yes. My apologies. I pasted the wrong code in. I&#39;ve since corrected. The code seems to work well in that everything displays properly on the page so long as I have the &quot;if else&quot; commented out. If that segment is live then I lose the table this references."}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1490226237, "post_id": 42963970, "comment_id": 73023445, "body": "<code>} if else {</code>, <code>!===</code> ???"}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1490226328, "post_id": 42963970, "comment_id": 73023474, "body": "You will want to test the class of the <code>currentParent</code> inside the loop, not the <code>element</code>."}], "answers": [{"tags": [], "owner": {"reputation": 2449, "user_id": 6346483, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154223277015798/picture?type=large", "display_name": "Anish Goyal", "link": "https://stackoverflow.com/users/6346483/anish-goyal"}, "is_accepted": false, "score": 0, "last_activity_date": 1490229413, "last_edit_date": 1490229413, "creation_date": 1490229061, "answer_id": 42965112, "question_id": 42963970, "link": "https://stackoverflow.com/questions/42963970/traverse-dom-to-determine-status-of-parent-return-strings-on-conditions/42965112#42965112", "title": "Traverse DOM to determine status of parent. Return strings on conditions", "body": "<p>Try using this (code is explained under code snippet):</p>\n\n<pre><code>var findParentByClassName = function(elem, className)\n{\n  if(elem == null)\n  {\n    console.log(\"No elem\");\n  }\n  else if(elem.parentNode == null)\n  {\n    console.log(\"No parent\");\n  }\n  else\n  {\n    console.log(\"Found a parent, looking for an ancestor with the given class name\");\n\n    var ancestor = elem.parentNode;\n    while(ancestor != null)\n    {\n      if(ancestor.classList.contains(className))\n      {\n        console.log(\"Found ancestor with correct classname\");\n        return parent;\n      }\n    }\n  }\n  console.log(\"Could not find parent with correct class name.\");\n  return null;\n};\n</code></pre>\n\n<p>First, you double check whether or not you were actually given an element. If not, we can do nothing.</p>\n\n<p>Then, we use <code>else if</code> - not <code>if else</code> - to check if the element has a parent. If it does not, we can do nothing again.</p>\n\n<p>Finally, our else branch is executed if we have an element with an ancestor. From this point, we can move up the DOM tree iteratively. If we find an element whose classList contains the className we were given, we have found a matching ancestor, and return it. Otherwise, we return null.</p>\n\n<p>Note that this code finds an ancestor with a matching class name, which is not necessarily a direct parent. I'm assuming this is what you want based on your code.</p>\n\n<p>Now, this becomes much easier if you're using jQuery:</p>\n\n<pre><code>var findParentByClassName = function(elem, className)\n{\n  return $(elem).closest(\".\" + className);\n};\n</code></pre>\n\n<p>The downside here is that you won't be able to log messages explaining\nwhy no ancestor with the right class name could be found if one does not exist.</p>\n\n<p>Here's how if-else if-else statements work:</p>\n\n<pre><code>if(condition)\n{\n  // code to execute if the condition is true\n}\nelse if(condition2) // condition2 is only checked if the 1st one is false\n{\n  // code to run if condition2 is true\n}\nelse if(condition3) // you can have 0 or more else if conditions\n{\n  // in practice, you can have as many as you want\n  // there are limits, but you'll probably never reach them\n  // unless you're trying to\n}\nelse\n{\n  // code to execute if none of the conditions were true\n}\n</code></pre>\n\n<p>Conditions are boolean expressions. These could be boolean values,\nequality checks, greater than / less than, whether or not a variable\nis null / undefined, so on and so forth.</p>\n\n<p>I would recommend reading through a JavaScript tutorial for more information.</p>\n"}], "owner": {"reputation": 57, "user_id": 4603359, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1c27a6c490e19790e2b37715d0f72dc4?s=128&d=identicon&r=PG&f=1", "display_name": "chocofan", "link": "https://stackoverflow.com/users/4603359/chocofan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1490229413, "creation_date": 1490222364, "last_edit_date": 1490223549, "question_id": 42963970, "link": "https://stackoverflow.com/questions/42963970/traverse-dom-to-determine-status-of-parent-return-strings-on-conditions", "title": "Traverse DOM to determine status of parent. Return strings on conditions", "body": "<p>This is the code I have:</p>\n\n<pre><code>var findParentByClassName = function(element, targetClass) {\nif (element) {\n    element.parentElement === null;\n        console.log(\"No parent found\");\n} if else {\n    element.parentElement !=== targetClass;\n        console.log(\"No parent found with that class name\");\n} else {\n    var currentParent = element.parentElement;\n    while (currentParent.className !== targetClass &amp;&amp; currentParent.className !== null) {\n        currentParent = currentParent.parentElement;\n    }\n    return currentParent;\n}\n};\n</code></pre>\n\n<p>I need to be able to check for two other conditions:</p>\n\n<ol>\n<li>Check to see if the provided \"element\" has a parent. If it does, send a string to the console.</li>\n<li>If it does not find a parent with the provided \"targetClass\" name then have it return a different string to the console.</li>\n</ol>\n\n<p>I'm assuming this would be done via an if - if-else - else function but for the life of me, I'm just not able to get it.</p>\n"}, {"tags": ["javascript", "php", "jquery", "html", "forms"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1490222219, "post_id": 42963912, "comment_id": 73021909, "body": "Why do you have them in separate forms? Put them in the same form and they&#39;ll both be submitted."}, {"owner": {"reputation": 86, "user_id": 1464589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ce503c3e013b9dcdbb3c822538c607?s=128&d=identicon&r=PG", "display_name": "Enrique YC", "link": "https://stackoverflow.com/users/1464589/enrique-yc"}, "edited": false, "score": 0, "creation_date": 1490222239, "post_id": 42963912, "comment_id": 73021922, "body": "Barmar have a reason"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1490222282, "post_id": 42963912, "comment_id": 73021941, "body": "I also don&#39;t understand what your jQuery code is doing. You don&#39;t need to change the <code>selected</code> attribute, submitting the form will send the value that the user selected."}, {"owner": {"reputation": 27, "user_id": 5560786, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1077263105652387/picture?type=large", "display_name": "Mohammed Alsaiari", "link": "https://stackoverflow.com/users/5560786/mohammed-alsaiari"}, "edited": false, "score": 0, "creation_date": 1490222416, "post_id": 42963912, "comment_id": 73022002, "body": "because i want each select to be submitted on change, not all of them"}, {"owner": {"reputation": 27, "user_id": 5560786, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1077263105652387/picture?type=large", "display_name": "Mohammed Alsaiari", "link": "https://stackoverflow.com/users/5560786/mohammed-alsaiari"}, "edited": false, "score": 0, "creation_date": 1490222547, "post_id": 42963912, "comment_id": 73022072, "body": "yes i can just write, this.form.submit(), but my question when i submit the first select than the second the first select value does not been saved"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1490222568, "post_id": 42963912, "comment_id": 73022080, "body": "Maybe you should be using AJAX instead of submitting the form? Submitting the form reloads the page, so you lose everything unless you save it in a cookie or storage."}, {"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "edited": false, "score": 0, "creation_date": 1490222599, "post_id": 42963912, "comment_id": 73022093, "body": "Ajax might be better then. Because each submission will refresh the whole page. And unless you&#39;re getting the posts and putting them back into the HTML, it&#39;s going to just default"}, {"owner": {"reputation": 27, "user_id": 5560786, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1077263105652387/picture?type=large", "display_name": "Mohammed Alsaiari", "link": "https://stackoverflow.com/users/5560786/mohammed-alsaiari"}, "edited": false, "score": 0, "creation_date": 1490222695, "post_id": 42963912, "comment_id": 73022133, "body": "i have no experience using AJAX , but i have tried and that didn&#39;t work."}, {"owner": {"reputation": 27, "user_id": 5560786, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1077263105652387/picture?type=large", "display_name": "Mohammed Alsaiari", "link": "https://stackoverflow.com/users/5560786/mohammed-alsaiari"}, "edited": false, "score": 0, "creation_date": 1490222776, "post_id": 42963912, "comment_id": 73022166, "body": "$(&quot;#city&quot;).change(function(){  \t    var selected = $(&quot;#city&quot;).find(&#39;:selected&#39;).val();  \t\t    $.ajax({ \t\t        url: index.php \t\t        type: &#39;POST&#39; \t\t        success:function(data) { \t\t           handleData(data); \t\t        } \t\t    });         \t});"}, {"owner": {"reputation": 27, "user_id": 5560786, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1077263105652387/picture?type=large", "display_name": "Mohammed Alsaiari", "link": "https://stackoverflow.com/users/5560786/mohammed-alsaiari"}, "edited": false, "score": 0, "creation_date": 1490222807, "post_id": 42963912, "comment_id": 73022186, "body": "i have tried this but does not work"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 5560786, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1077263105652387/picture?type=large", "display_name": "Mohammed Alsaiari", "link": "https://stackoverflow.com/users/5560786/mohammed-alsaiari"}, "edited": false, "score": 0, "creation_date": 1490224418, "post_id": 42964314, "comment_id": 73022835, "body": "Hey i have tried but not working, is this src include right (&lt;script src=&quot;<a href=\"https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js&quot;&gt;\" rel=\"nofollow noreferrer\">ajax.googleapis.com/ajax/libs/jquery/3.1.1/&hellip;</a>)"}, {"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "reply_to_user": {"reputation": 27, "user_id": 5560786, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1077263105652387/picture?type=large", "display_name": "Mohammed Alsaiari", "link": "https://stackoverflow.com/users/5560786/mohammed-alsaiari"}, "edited": false, "score": 0, "creation_date": 1490224690, "post_id": 42964314, "comment_id": 73022938, "body": "ah sorry, forgot about making hte url a string, try again"}, {"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "reply_to_user": {"reputation": 27, "user_id": 5560786, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1077263105652387/picture?type=large", "display_name": "Mohammed Alsaiari", "link": "https://stackoverflow.com/users/5560786/mohammed-alsaiari"}, "edited": false, "score": 0, "creation_date": 1490224744, "post_id": 42964314, "comment_id": 73022953, "body": "You should check your browser console to check for any errors. THat&#39;s the quickest way to see if your inclusions worked and any other problems code-wise."}, {"owner": {"reputation": 27, "user_id": 5560786, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1077263105652387/picture?type=large", "display_name": "Mohammed Alsaiari", "link": "https://stackoverflow.com/users/5560786/mohammed-alsaiari"}, "edited": false, "score": 0, "creation_date": 1490226305, "post_id": 42964314, "comment_id": 73023465, "body": "it give error in (handleData(data);), i believe it is a function, or not): just found the code."}, {"owner": {"reputation": 27, "user_id": 5560786, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1077263105652387/picture?type=large", "display_name": "Mohammed Alsaiari", "link": "https://stackoverflow.com/users/5560786/mohammed-alsaiari"}, "edited": false, "score": 0, "creation_date": 1490226448, "post_id": 42964314, "comment_id": 73023498, "body": "it does work when change the select, but not pass the variable."}, {"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "reply_to_user": {"reputation": 27, "user_id": 5560786, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1077263105652387/picture?type=large", "display_name": "Mohammed Alsaiari", "link": "https://stackoverflow.com/users/5560786/mohammed-alsaiari"}, "edited": false, "score": 0, "creation_date": 1490226994, "post_id": 42964314, "comment_id": 73023647, "body": "yes handleData is a function, I don&#39;t know what you want to do with the data afterwards. And what do you mean by &quot;not pass the variable&quot;? As in the post doesn&#39;t receive anything?"}, {"owner": {"reputation": 27, "user_id": 5560786, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1077263105652387/picture?type=large", "display_name": "Mohammed Alsaiari", "link": "https://stackoverflow.com/users/5560786/mohammed-alsaiari"}, "edited": false, "score": 0, "creation_date": 1490227114, "post_id": 42964314, "comment_id": 73023683, "body": "for now just want to print to see if it work.yes i mean post does not receive anything."}, {"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "reply_to_user": {"reputation": 27, "user_id": 5560786, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1077263105652387/picture?type=large", "display_name": "Mohammed Alsaiari", "link": "https://stackoverflow.com/users/5560786/mohammed-alsaiari"}, "edited": false, "score": 0, "creation_date": 1490227470, "post_id": 42964314, "comment_id": 73023781, "body": "What&#39;s in <code>index.php</code>? Does it echo anything? Could also just <code>console.log(&quot;success&quot;);</code> in the success part (see edit) to see if it worked."}, {"owner": {"reputation": 27, "user_id": 5560786, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1077263105652387/picture?type=large", "display_name": "Mohammed Alsaiari", "link": "https://stackoverflow.com/users/5560786/mohammed-alsaiari"}, "edited": false, "score": 0, "creation_date": 1490227830, "post_id": 42964314, "comment_id": 73023902, "body": "success,  all of this is in index.php, and when variable been post all query that displaying data changed depend in that variable"}, {"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "reply_to_user": {"reputation": 27, "user_id": 5560786, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1077263105652387/picture?type=large", "display_name": "Mohammed Alsaiari", "link": "https://stackoverflow.com/users/5560786/mohammed-alsaiari"}, "edited": false, "score": 0, "creation_date": 1490228047, "post_id": 42964314, "comment_id": 73023972, "body": "should probably also post your <code>index.php</code> code as well. Is your form html in <code>index.php</code> as well?"}, {"owner": {"reputation": 27, "user_id": 5560786, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1077263105652387/picture?type=large", "display_name": "Mohammed Alsaiari", "link": "https://stackoverflow.com/users/5560786/mohammed-alsaiari"}, "edited": false, "score": 0, "creation_date": 1490228153, "post_id": 42964314, "comment_id": 73024009, "body": "for now -  f(isset($_POST[&#39;city&#39;])){ \t\t\t$c = $_POST[&#39;city&#39;]; \t\t\t \t\t} want to print the post value"}, {"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "reply_to_user": {"reputation": 27, "user_id": 5560786, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1077263105652387/picture?type=large", "display_name": "Mohammed Alsaiari", "link": "https://stackoverflow.com/users/5560786/mohammed-alsaiari"}, "edited": false, "score": 0, "creation_date": 1490228233, "post_id": 42964314, "comment_id": 73024036, "body": "if your form is inside index.php, then it&#39;s best to just submit it, otherwise Ajax will return all your html again. So either split the php file into a second one, which processes the POSTS, or keep it as a normal submit but add php to your html"}, {"owner": {"reputation": 27, "user_id": 5560786, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1077263105652387/picture?type=large", "display_name": "Mohammed Alsaiari", "link": "https://stackoverflow.com/users/5560786/mohammed-alsaiari"}, "edited": false, "score": 0, "creation_date": 1490229926, "post_id": 42964314, "comment_id": 73024524, "body": "i have separated them but not working :(, Thanks any way"}, {"owner": {"reputation": 27, "user_id": 5560786, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1077263105652387/picture?type=large", "display_name": "Mohammed Alsaiari", "link": "https://stackoverflow.com/users/5560786/mohammed-alsaiari"}, "edited": false, "score": 0, "creation_date": 1490230006, "post_id": 42964314, "comment_id": 73024546, "body": "even in normal submit value received from post, but not changed in select"}, {"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "reply_to_user": {"reputation": 27, "user_id": 5560786, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1077263105652387/picture?type=large", "display_name": "Mohammed Alsaiari", "link": "https://stackoverflow.com/users/5560786/mohammed-alsaiari"}, "edited": false, "score": 0, "creation_date": 1490230050, "post_id": 42964314, "comment_id": 73024558, "body": "If that is what your html looks like in index.php, then it will always be like that, unless you start adding php in between your html which chooses your selected. Put an example in the edit."}, {"owner": {"reputation": 27, "user_id": 5560786, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1077263105652387/picture?type=large", "display_name": "Mohammed Alsaiari", "link": "https://stackoverflow.com/users/5560786/mohammed-alsaiari"}, "edited": false, "score": 0, "creation_date": 1490235852, "post_id": 42964314, "comment_id": 73026166, "body": "it worked like that , with this jQuery $(&#39;#dept&#39;).change(function() { \t\t      \t\t       this.form.submit(); \t});   Thank you so much"}], "tags": [], "owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "is_accepted": true, "score": 1, "last_activity_date": 1490230148, "last_edit_date": 1490230148, "creation_date": 1490224038, "answer_id": 42964314, "question_id": 42963912, "link": "https://stackoverflow.com/questions/42963912/save-previous-value-from-posted-select/42964314#42964314", "title": "save previous value from posted select", "body": "<p>I noticed you were missing some commas and that you didn't pass any data. Try this instead. </p>\n\n<pre><code>$(\"#city\").change(function()\n{ \n        var selected = $(\"#city\").find(':selected').val(); \n        $.ajax({ \n            url: \"index.php\", \n            type: 'POST',\n            data: {\n                \"city\": selected\n            },\n            success: function(data) { \n                console.log(\"success\");\n            } \n        }); \n});\n</code></pre>\n\n<p>Also, you should be able to get the value of a select via <code>val()</code> e.g. <code>$(\"#city\").val()</code>.</p>\n\n<p>For normal submit:</p>\n\n<pre><code>&lt;form method=\"post\" action=\"index.php\"&gt;\n&lt;select id=\"city\" name=\"city\" class=\"styled-select\"&gt;\n&lt;option value=\"all\" &lt;?php echo $_POST['city']===\"all\" ? \"selected\" : \"\" ?&gt;&gt;all&lt;/option&gt;\n&lt;option value=\"Van\" &lt;?php echo $_POST['city']===\"Van\" ? \"selected\" : \"\" ?&gt;&gt;Vancouver&lt;/option&gt;\n&lt;option value=\"vic\" &lt;?php echo $_POST['city']===\"vic\" ? \"selected\" : \"\" ?&gt;&gt;Victoria&lt;/option&gt;\n&lt;/form&gt;\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 5560786, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1077263105652387/picture?type=large", "display_name": "Mohammed Alsaiari", "link": "https://stackoverflow.com/users/5560786/mohammed-alsaiari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 42964314, "answer_count": 1, "score": 1, "last_activity_date": 1490230148, "creation_date": 1490222086, "question_id": 42963912, "link": "https://stackoverflow.com/questions/42963912/save-previous-value-from-posted-select", "title": "save previous value from posted select", "body": "<p>I am having problem passing two select to $_POST </p>\n\n<p>i have two select and when i post from the first the value is not been saved ,so when i post from the second select doesn't remember the first select value ,I want to pass the first select and save the value to select.</p>\n\n<pre><code>&lt;form method=\"post\" action=\"index.php\"&gt;\n&lt;select id=\"city\" name=\"city\" class=\"styled-select\"&gt;\n&lt;option value=\"all\" selected=\"selected\"&gt;all&lt;/option&gt;\n&lt;option value=\"Van\"&gt;Vancouver&lt;/option&gt;\n&lt;option value=\"vic\"&gt;Victoria&lt;/option&gt;\n&lt;/form&gt;\n\n&lt;form method=\"post\" action=\"index.php\"&gt;\n&lt;select id=\"dept\" name=\"dept\" class=\"styled-select\"&gt;\n&lt;option value=\"all\" selected=\"selected\"&gt;all&lt;/option&gt;\n&lt;option value=\"1\"&gt;First&lt;/option&gt;\n&lt;option value=\"2\"&gt;Second&lt;/option&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>and i am using jquery to submit the form in change \nwhen first form submitted select does not save the value of the selected option </p>\n\n<pre><code>$(document).ready(function() {\n\n$('#city').change(function() {\n\n           $(this).find(\"option[selected='true']\").removeAttr('selected');\n\n           $(this).find('option:selected').attr('selected', 'true');\n\n           this.form.submit();\n});\n$('#dept').change(function() {\n\n           $(this).find(\"option[selected='true']\").removeAttr('selected');\n\n           $(this).find('option:selected').attr('selected', 'true');\n\n           this.form.submit();\n});\n\n\n});\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "json", "node.js", "cors"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1490221780, "post_id": 42963814, "comment_id": 73021700, "body": "does your nodejs handle <code>OPTIONS</code> preflight request correctly?"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1490221831, "post_id": 42963814, "comment_id": 73021724, "body": "although <code>Origin &#39;null&#39;</code> suggests the page that is making the request is loaded using <code>file:&#47;&#47;</code> protocol"}, {"owner": {"reputation": 86, "user_id": 1464589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ce503c3e013b9dcdbb3c822538c607?s=128&d=identicon&r=PG", "display_name": "Enrique YC", "link": "https://stackoverflow.com/users/1464589/enrique-yc"}, "edited": false, "score": 0, "creation_date": 1490221877, "post_id": 42963814, "comment_id": 73021744, "body": "your server isnt work like you doing"}, {"owner": {"reputation": 31, "user_id": 7710209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8136c4b545390da015980dd507ae0682?s=128&d=identicon&r=PG&f=1", "display_name": "Jatin", "link": "https://stackoverflow.com/users/7710209/jatin"}, "edited": false, "score": 0, "creation_date": 1490221924, "post_id": 42963814, "comment_id": 73021763, "body": "yes page is loaded using file:// protocol"}, {"owner": {"reputation": 31, "user_id": 7710209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8136c4b545390da015980dd507ae0682?s=128&d=identicon&r=PG&f=1", "display_name": "Jatin", "link": "https://stackoverflow.com/users/7710209/jatin"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1490222481, "post_id": 42963814, "comment_id": 73022031, "body": "I&#39;m using http-server but still not working @JaromandaX"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1490222844, "post_id": 42963814, "comment_id": 73022199, "body": "does your nodejs code handle <code>OPTIONS</code> preflight request correctly? What is the error now that you are using http for the page? (it <b>won&#39;t</b> be the same error)"}, {"owner": {"reputation": 31, "user_id": 7710209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8136c4b545390da015980dd507ae0682?s=128&d=identicon&r=PG&f=1", "display_name": "Jatin", "link": "https://stackoverflow.com/users/7710209/jatin"}, "edited": false, "score": 0, "creation_date": 1490223073, "post_id": 42963814, "comment_id": 73022288, "body": "<code>XMLHttpRequest cannot load http:&#47;&#47;localhost:3000&#47;lvl&#47;2&#47;data. Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. Origin &#39;http:&#47;&#47;localhost:8080&#39; is therefore not allowed access. angular.js:14516 </code>"}, {"owner": {"reputation": 31, "user_id": 7710209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8136c4b545390da015980dd507ae0682?s=128&d=identicon&r=PG&f=1", "display_name": "Jatin", "link": "https://stackoverflow.com/users/7710209/jatin"}, "edited": false, "score": 0, "creation_date": 1490223099, "post_id": 42963814, "comment_id": 73022303, "body": "<code>Possibly unhandled rejection: {&quot;data&quot;:null,&quot;status&quot;:-1,&quot;config&quot;:{&quot;method&quot;:&quot;POST&quot;,&quot;transfor&zwnj;&#8203;mRequest&quot;:[null],&quot;tr&zwnj;&#8203;ansformResponse&quot;:[nu&zwnj;&#8203;ll],&quot;jsonpCallbackPa&zwnj;&#8203;ram&quot;:&quot;callback&quot;,&quot;url&zwnj;&#8203;&quot;:&quot;http:&#47;&#47;localhost:&zwnj;&#8203;3000&#47;lvl&#47;2&#47;data&quot;,&quot;he&zwnj;&#8203;aders&quot;:{&quot;Authorizati&zwnj;&#8203;on&quot;:&quot;Basic dGVzdDp0ZXN0&quot;,&quot;Content-Type&quot;:&quot;application&#47;x-www-form-urlenco&zwnj;&#8203;ded&quot;,&quot;Accept&quot;:&quot;appli&zwnj;&#8203;cation&#47;json, text&#47;plain, *&#47;*&quot;},&quot;data&quot;:{&quot;Code&quot;:&quot;test data&quot;}},&quot;statusText&quot;:&quot;&quot;}</code>"}, {"owner": {"reputation": 31, "user_id": 7710209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8136c4b545390da015980dd507ae0682?s=128&d=identicon&r=PG&f=1", "display_name": "Jatin", "link": "https://stackoverflow.com/users/7710209/jatin"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1490223228, "post_id": 42963814, "comment_id": 73022343, "body": "and I dont know about OPTIONS in my nodejs code @JaromandaX"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1490223893, "post_id": 42963814, "comment_id": 73022625, "body": "see this <code>Response to preflight request doesn&#39;t pass access control check</code> - that&#39;s the OPTIONS preflight that is failing - read about CORS preflight to understand - if you were using express on the server, you&#39;d use express-cors - <a href=\"https://www.npmjs.com/package/express-cors\" rel=\"nofollow noreferrer\">npmjs.com/package/express-cors</a>"}], "answers": [{"tags": [], "owner": {"reputation": 907, "user_id": 3603755, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000619058154/picture?type=large", "display_name": "Artem Tutov", "link": "https://stackoverflow.com/users/3603755/artem-tutov"}, "is_accepted": false, "score": 0, "last_activity_date": 1490224962, "creation_date": 1490224962, "answer_id": 42964499, "question_id": 42963814, "link": "https://stackoverflow.com/questions/42963814/angularjs-cors-error-while-making-post-request-to-the-local-nodejs-server/42964499#42964499", "title": "AngularJS CORS error while making post request to the local nodeJS server", "body": "<p>You can temporary disable checking CORS with extension for browser:</p>\n\n<p><strong>Chrome:</strong></p>\n\n<p><a href=\"https://chrome.google.com/webstore/detail/allow-control-allow-origi/nlfbmbojpeacfghkpbjhddihlkkiljbi/related\" rel=\"nofollow noreferrer\">Allow-Control-Allow-Origin: *</a></p>\n\n<p>For <strong>Opera</strong> you should install:</p>\n\n<p>1)<a href=\"https://addons.opera.com/pl/extensions/details/download-chrome-extension-9/?display=en\" rel=\"nofollow noreferrer\">Extension allows you to install extensions from Chrome Web Store</a> </p>\n\n<p>2)<a href=\"https://chrome.google.com/webstore/detail/allow-control-allow-origi/nlfbmbojpeacfghkpbjhddihlkkiljbi/related\" rel=\"nofollow noreferrer\">Allow-Control-Allow-Origin: *</a></p>\n"}], "owner": {"reputation": 31, "user_id": 7710209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8136c4b545390da015980dd507ae0682?s=128&d=identicon&r=PG&f=1", "display_name": "Jatin", "link": "https://stackoverflow.com/users/7710209/jatin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1513, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1515749133, "creation_date": 1490221643, "last_edit_date": 1515749133, "question_id": 42963814, "link": "https://stackoverflow.com/questions/42963814/angularjs-cors-error-while-making-post-request-to-the-local-nodejs-server", "title": "AngularJS CORS error while making post request to the local nodeJS server", "body": "<p>I'm trying to send json data over post request but getting errors, I've tried many answers of stackoverflow but not getting answer I've also tried <code>jsonp</code> method but not getting any thing.</p>\n\n<blockquote>\n  <p>XMLHttpRequest cannot load <a href=\"http://localhost:3000/lvl/2/data\" rel=\"nofollow noreferrer\">http://localhost:3000/lvl/2/data</a>. Response\n  to preflight request doesn't pass access control check:<br> No\n  'Access-Control-Allow-Origin' header is present on the requested\n  resource. Origin 'null' is therefore not allowed access.</p>\n  \n  <p>angular.js:14516 Possibly unhandled rejection:\n  {\"data\":null,\"status\":-1,\"config\":{\"method\":\"POST\",\"transformRequest\":[null],\"transformResponse\":[null],\"jsonpCallbackParam\":\"callback\",\"url\":\"<a href=\"http://localhost:3000/lvl/2/data\" rel=\"nofollow noreferrer\">http://localhost:3000/lvl/2/data</a>\",\"headers\":{\"Authorization\":\"Basic\n  dGVzdDp0ZXN0\",\"Content-Type\":\"application/x-www-form-urlencoded\",\"Accept\":\"application/json, text/plain, <em>/</em>\"},\"data\":{\"Code\":\"test data\"}},\"statusText\":\"\"}</p>\n</blockquote>\n\n<p><strong>http post request:</strong></p>\n\n<pre><code>$http({\n    url:'http://localhost:3000/lvl/2/data',\n    method:\"POST\",\n    headers: {\n        'Authorization': 'Basic dGVzdDp0ZXN0',\n        'Content-Type': 'application/x-www-form-urlencoded'\n    },\n    data: {\n        'Code': 'test data'\n    }\n}).then(function() {\n    console.log('submitted')\n});\n</code></pre>\n\n<p><strong>NodeJs Post request:</strong></p>\n\n<pre><code>router.post('/lvl/2/data', function (req, res){\n    res.header(\"Access-Control-Allow-Origin\", \"*\");\n    res.header(\"Access-Control-Allow-Methods\", \"POST, GET, PUT, OPTIONS, DELETE\");\n    res.header(\"Access-Control-Max-Age\", \"3600\");\n    res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n    console.log(req.body);\n    res.send('submitted');\n});\n</code></pre>\n"}, {"tags": ["javascript", "d3.js", "data-visualization", "export-to-csv"], "answers": [{"comments": [{"owner": {"reputation": 257, "user_id": 5530643, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/M5lpf.png?s=128&g=1", "display_name": "Lasagna Cat", "link": "https://stackoverflow.com/users/5530643/lasagna-cat"}, "edited": false, "score": 0, "creation_date": 1490285179, "post_id": 42964617, "comment_id": 73054673, "body": "Hi Eric, I took your feedback and adjusted my code to use ordinal instead of threshold, but some cells that I have not specified are being colored in. I made an edit to my main post and added a picture of my result, could you please take a look? Thank you!!"}, {"owner": {"reputation": 257, "user_id": 5530643, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/M5lpf.png?s=128&g=1", "display_name": "Lasagna Cat", "link": "https://stackoverflow.com/users/5530643/lasagna-cat"}, "edited": false, "score": 0, "creation_date": 1490741508, "post_id": 42964617, "comment_id": 73245699, "body": "Hi Eric, may I have some feedback please? I&#39;ve made an edit to my original post updating the issue. Thank you so much!"}, {"owner": {"reputation": 13161, "user_id": 2498782, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4ed0cbcc27c492d6742337ac1ce0b19e?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Guan", "link": "https://stackoverflow.com/users/2498782/eric-guan"}, "reply_to_user": {"reputation": 257, "user_id": 5530643, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/M5lpf.png?s=128&g=1", "display_name": "Lasagna Cat", "link": "https://stackoverflow.com/users/5530643/lasagna-cat"}, "edited": false, "score": 0, "creation_date": 1490744354, "post_id": 42964617, "comment_id": 73246581, "body": "Ordinal scales are forgiving in that if you pass in an &quot;unknown&quot; input value, it will still attempt to output a value. Relative to my answer, an &quot;unknown&quot; value would be a value other than &quot;OFFLINE&quot; and &quot;ONLINE&quot;. I suggest setting a default color for an unknown value, such as white. Check out the docs <a href=\"https://github.com/d3/d3-scale/blob/master/README.md#ordinal_unknown\" rel=\"nofollow noreferrer\">github.com/d3/d3-scale/blob/master/README.md#ordinal_unknown</a>"}], "tags": [], "owner": {"reputation": 13161, "user_id": 2498782, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4ed0cbcc27c492d6742337ac1ce0b19e?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Guan", "link": "https://stackoverflow.com/users/2498782/eric-guan"}, "is_accepted": false, "score": 0, "last_activity_date": 1490225706, "creation_date": 1490225706, "answer_id": 42964617, "question_id": 42963770, "link": "https://stackoverflow.com/questions/42963770/how-to-use-d3-js-colorscale-to-change-color-based-on-string-values-rather-than-n/42964617#42964617", "title": "How to use d3.js colorScale to change color based on string values rather than numeric values?", "body": "<p>You would use an ordinal scale, which maps strings to values.</p>\n\n<pre><code>var colorScale = d3.scale.ordinal()\n    .domain(['OFFLINE','ONLINE'])\n    .range(['red','green']);\n</code></pre>\n"}], "owner": {"reputation": 257, "user_id": 5530643, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/M5lpf.png?s=128&g=1", "display_name": "Lasagna Cat", "link": "https://stackoverflow.com/users/5530643/lasagna-cat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 678, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490285140, "creation_date": 1490221494, "last_edit_date": 1490285140, "question_id": 42963770, "link": "https://stackoverflow.com/questions/42963770/how-to-use-d3-js-colorscale-to-change-color-based-on-string-values-rather-than-n", "title": "How to use d3.js colorScale to change color based on string values rather than numeric values?", "body": "<p>Long story short: I was given a d3.js example to help visualize a <code>.csv</code> report that file count numbers for each server in my environment. The goal of the report is to make sure no particular server has too many files in it. So if a server had less than 50 files, the cell would be colored green. If 50-100, colored yellow and anything above 100 colored red.</p>\n\n<p>Here is the specific colorScale code example I am using:</p>\n\n<pre><code>var colorScale = d3.scale.threshold()\n    .domain([50,100,20000])\n    .range([\"MediumSpringGreen\",\"Yellow\",\"OrangeRed\"]);\n</code></pre>\n\n<p>Since this colorScale is designed to have a numeric domain, I am curious how to configure it to accept string values instead?</p>\n\n<p>For an example, I am adding more information to my <code>.csv</code> report and instead of just file numbers in servers, I want to show uptime and report things where if there is a cell that says \"ONLINE\", it would be colored green and if there is a cell that says \"OFFLINE\", it would be colored red.</p>\n\n<p>--EDIT:--</p>\n\n<p>Hi, so I made the adjustment to use <code>ordinal</code> instead of <code>threshold</code>:</p>\n\n<pre><code>var colorScale = d3.scale.ordinal()\n    .domain([\" \",\"STATE : 4 RUNNING\",\"STATE : 1 STOPPED\"])\n    .range([\"White\",\"MediumSpringGreen\",\"OrangeRed\"]);\n</code></pre>\n\n<p>However the result is that other cells are being populated as well:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jYrkm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jYrkm.png\" alt=\"enter image description here\"></a></p>\n\n<p>For an example in the image, my IP address is being colored in as green and \"Hostname\" is being colored in red.</p>\n\n<p>As of right now, I just want <code>STATE 4: RUNNING</code> to be green and <code>STATE 1: STOPPED</code> to be red.</p>\n"}, {"tags": ["javascript", "html", "function", "styles", "setinterval"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1490221948, "post_id": 42963760, "comment_id": 73021783, "body": "rad about transition <a href=\"https://developer.mozilla.org/en/docs/Web/CSS/transition\" rel=\"nofollow noreferrer\">here</a> ... you need more than a duration, you need at least a property as well - also, not sure you can &quot;transition&quot; img src changes"}, {"owner": {"reputation": 23, "user_id": 7734130, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DCLo3.jpg?s=128&g=1", "display_name": "CheckLife", "link": "https://stackoverflow.com/users/7734130/checklife"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1490222278, "post_id": 42963760, "comment_id": 73021939, "body": "so the does indeed change, but i want it to fade in as if its blending into the old image. @JaromandaX"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1490222491, "post_id": 42963760, "comment_id": 73022034, "body": "CSS transitions are irrelevant when changing img src attribute"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7734130, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DCLo3.jpg?s=128&g=1", "display_name": "CheckLife", "link": "https://stackoverflow.com/users/7734130/checklife"}, "edited": false, "score": 0, "creation_date": 1490223068, "post_id": 42964012, "comment_id": 73022287, "body": "so i understand how to fade an image out but i want it to transition into the other image i created in the JavaScript....kind of like when the cat fades i would want a new cat to show up...theoretically speaking."}], "tags": [], "owner": {"reputation": 3610, "user_id": 7234275, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ya8yF.jpg?s=128&g=1", "display_name": "Amr Aly", "link": "https://stackoverflow.com/users/7234275/amr-aly"}, "is_accepted": false, "score": 0, "last_activity_date": 1490223572, "last_edit_date": 1490223572, "creation_date": 1490222592, "answer_id": 42964012, "question_id": 42963760, "link": "https://stackoverflow.com/questions/42963760/how-do-i-slow-down-the-transition-of-my-image-changing-if-i-created-a-new-image/42964012#42964012", "title": "How do I slow down the transition of my image changing if I created a new image in JavaScript?", "body": "<p>try something like this</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  document.getElementById('fade').addEventListener('click', function () {\r\n   document.getElementById('cat').style.opacity = .0;\r\n   document.getElementById('cat2').style.opacity = 1;\r\n  })</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#cat {\r\n  transition: opacity 1s ease-out;\r\n  position: absolute;\r\n}\r\n\r\n#cat2 {\r\n  opacity: 0;\r\n  transition: opacity 1s ease-out;\r\n  position: absolute;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;img src=\"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSVdqOi4n85V3ryq1cf-5GJC7ezxjZNmqAoSVGNvCILoWgsEe6FYP7YpoY\" alt=\"TmaC\" width=\"175px\" height=\"220px\" id=\"cat\"/&gt;\r\n&lt;img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTIwESPol4bmt3xUdAAYq8OmKeua5T7UAtvdLB154Nhs888PhvP\" alt=\"TmaC\" width=\"175px\"  height=\"220px\" id=\"cat2\"/&gt;\r\n&lt;button id=\"fade\" style=\"margin-top:250px\"&gt;Fade&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 80, "user_id": 6789286, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d5a45138a74eff44f2967c9a1bd9dded?s=128&d=identicon&r=PG&f=1", "display_name": "Drew Pereli", "link": "https://stackoverflow.com/users/6789286/drew-pereli"}, "is_accepted": true, "score": 0, "last_activity_date": 1490224131, "last_edit_date": 1490224131, "creation_date": 1490222745, "answer_id": 42964045, "question_id": 42963760, "link": "https://stackoverflow.com/questions/42963760/how-do-i-slow-down-the-transition-of-my-image-changing-if-i-created-a-new-image/42964045#42964045", "title": "How do I slow down the transition of my image changing if I created a new image in JavaScript?", "body": "<p>Edit: sounds like you're trying to fade one image into another. See this <a href=\"https://jsfiddle.net/23w8ufLd/4/\" rel=\"nofollow noreferrer\">jsfiddle</a></p>\n\n<p>A couple. Your line breaks should read <code>&lt;br/&gt;</code>, not <code>&lt;/br&gt;</code>. Also, why are you using an \"li\" element to hold the link? LI elements are generally used within ordered or unordered lists.</p>\n"}], "owner": {"reputation": 23, "user_id": 7734130, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DCLo3.jpg?s=128&g=1", "display_name": "CheckLife", "link": "https://stackoverflow.com/users/7734130/checklife"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 42964045, "answer_count": 2, "score": 0, "last_activity_date": 1490224131, "creation_date": 1490221453, "question_id": 42963760, "link": "https://stackoverflow.com/questions/42963760/how-do-i-slow-down-the-transition-of-my-image-changing-if-i-created-a-new-image", "title": "How do I slow down the transition of my image changing if I created a new image in JavaScript?", "body": "<p>I created an image in JavaScript but I want it to fade when the function is called, however I'm a bit confused on how to do this. When I tried setting the transition it doesnt work. Can someone please help?</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;script src=\"yellow.js\"&gt; &lt;/script&gt;\n&lt;/head&gt;\n&lt;style&gt;\n\n\n\n&lt;/style&gt;\n\n\n&lt;body&gt;\n\n&lt;img src=\"tmac.jpg\" alt=\"TmaC\" width=\"175px\" height=\"220px\" class=\"tracy\"/&gt;\n&lt;/br&gt; &lt;/br&gt;\n\n&lt;li class=\"thead\" onclick=\"slow()\"&gt;&lt;a href=\"#\"&gt;News&lt;/a&gt;&lt;/li&gt;\n&lt;script&gt;\nfunction changeStyle() {\ncool = document.getElementsByClassName(\"tracy\");\n\ntmag = cool[0].src=\"tmagic.jpg\";\n}\nfunction slow() {\nslows = setInterval(changeStyle, 3000);\n\nslows.style.transition=\"2s\";\n}\n\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "textures", "webgl"], "answers": [{"comments": [{"owner": {"reputation": 3826, "user_id": 544958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b6c53f2f4c666d2d58f2fde51ec80f9?s=128&d=identicon&r=PG", "display_name": "rocketsarefast", "link": "https://stackoverflow.com/users/544958/rocketsarefast"}, "edited": false, "score": 0, "creation_date": 1494434461, "post_id": 42971611, "comment_id": 74830389, "body": "though off topic, the console.log tip is very informative and something I never knew."}], "tags": [], "owner": {"reputation": 82151, "user_id": 128511, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/KwGaJ.png?s=128&g=1", "display_name": "gman", "link": "https://stackoverflow.com/users/128511/gman"}, "is_accepted": false, "score": 4, "last_activity_date": 1490260668, "last_edit_date": 1490260668, "creation_date": 1490260358, "answer_id": 42971611, "question_id": 42963723, "link": "https://stackoverflow.com/questions/42963723/webgl-teximage2d-conversion-requires-pixel-reformatting/42971611#42971611", "title": "WebGL texImage2D: Conversion requires pixel reformatting", "body": "<p>What is the error? Check your browser's JavaScript console</p>\n\n<p>If the image you're loading is not a power of 2 in both dimensions you'll get an error and a warning. One error when calling <code>gl.generateMipmap</code> because in WebGL1 you can't generate mips for non-power-of-2 textures. Also a warning when you try to render it because if you have a non-power-of-2 texture you have to set <code>TEXTURE_MIN_FILTER</code> to <code>LINEAR</code> or <code>NEAREST</code> otherwise it's unrenderable.</p>\n\n<p>Powers of 2 are 1, 2, 4, 8, 16, 32, 64, 128, 256, etc...</p>\n\n<p>Also btw it's probably more useful to use a comma instead of a plus with <code>console.log</code></p>\n\n<pre><code>console.log(\"handleTextureLoaded, image =\", image);\n</code></pre>\n\n<p>Instead of </p>\n\n<pre><code>console.log(\"handleTextureLoaded, image = \" + image);\n</code></pre>\n\n<p>Compare the results: </p>\n\n<p><a href=\"https://i.stack.imgur.com/AFI8I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AFI8I.png\" alt=\"js console\"></a></p>\n\n<p>The reason is with a plus the image is converted to a string, concatenated with <code>\"handleTextureLoaded, image = \"</code> and then sent to console.log so all <code>console.log</code> sees is a single string. With the comma the actual image is sent to <code>console.log</code> and so <code>console.log</code> can do more magic</p>\n"}, {"tags": [], "owner": {"reputation": 837, "user_id": 1689088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d2a960783afdeeb713e8bbe4484dd87?s=128&d=identicon&r=PG", "display_name": "pleup", "link": "https://stackoverflow.com/users/1689088/pleup"}, "is_accepted": false, "score": 4, "last_activity_date": 1490361767, "creation_date": 1490361767, "answer_id": 43000644, "question_id": 42963723, "link": "https://stackoverflow.com/questions/42963723/webgl-teximage2d-conversion-requires-pixel-reformatting/43000644#43000644", "title": "WebGL texImage2D: Conversion requires pixel reformatting", "body": "<p>It's not an error, despite the \"Error\" label. It's just a warning saying loading your image to texture will need some heavy cpu side pixel conversions. If you don't really have performance issues, just ignore it.</p>\n\n<p>As we speak it's a WIP issue.</p>\n\n<p>It's not an error, just a warning -> <a href=\"https://dxr.mozilla.org/mozilla-central/source/dom/canvas/TexUnpackBlob.cpp#316-318\" rel=\"nofollow noreferrer\">https://dxr.mozilla.org/mozilla-central/source/dom/canvas/TexUnpackBlob.cpp#316-318</a></p>\n\n<p>For more infos,check out this thread:\n<a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1246410\" rel=\"nofollow noreferrer\">https://bugzilla.mozilla.org/show_bug.cgi?id=1246410</a></p>\n"}], "owner": {"reputation": 53, "user_id": 7753851, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TI8qmQ0PQSk/AAAAAAAAAAI/AAAAAAAABEo/lSz3_FwFJOo/photo.jpg?sz=128", "display_name": "M. Cubr&#237;a", "link": "https://stackoverflow.com/users/7753851/m-cubr%c3%ada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4263, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1490361767, "creation_date": 1490221270, "question_id": 42963723, "link": "https://stackoverflow.com/questions/42963723/webgl-teximage2d-conversion-requires-pixel-reformatting", "title": "WebGL texImage2D: Conversion requires pixel reformatting", "body": "<p>this is my first question in this page since i dont find people with this error, I hope I explain myself in this question.</p>\n\n<p>Mm having a problem with WebGl textures, I get the next error:\nError: WebGL: texImage2D: Conversion requires pixel reformatting.</p>\n\n<p>This happens here:</p>\n\n<pre><code>function initSueloTextures(gl, sueloParametros) {\n  sueloParametros.textureSuelo = gl.createTexture();\n  gl.bindTexture(gl.TEXTURE_2D, sueloParametros.textureSuelo);\n  gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE,\n          new Uint8Array([0, 0, 255, 255]));\n  var sueloImage = new Image();\n  sueloImage.onload = function() { handleTextureLoaded(gl, sueloImage, sueloParametros.textureSuelo); }\n  sueloImage.src = \"resources/marbletexture.png\";\n}\n\n\n\nfunction handleTextureLoaded(gl, image, texture) {\n  console.log(\"handleTextureLoaded, image = \" + image);\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n  gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA,\n    gl.UNSIGNED_BYTE, image);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_NEAREST);\n  gl.generateMipmap(gl.TEXTURE_2D);\n  gl.bindTexture(gl.TEXTURE_2D, null);\n}\n</code></pre>\n\n<p>The error appears in the handleTextureLoaded texImage2D. I think the variables I use are not a problem because I changed them for another global ones I created to test it and the error still appears.</p>\n\n<p>Im using the last version of Firefox.</p>\n\n<p>Thank you for your time.</p>\n"}, {"tags": ["javascript", "node.js", "pm2"], "comments": [{"owner": {"reputation": 25905, "user_id": 313421, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ipQVy.jpg?s=128&g=1", "display_name": "Xaqron", "link": "https://stackoverflow.com/users/313421/xaqron"}, "edited": false, "score": 2, "creation_date": 1509814316, "post_id": 42963708, "comment_id": 81176021, "body": "Your code will work if you just replace <code>args</code> with <code>node_args</code>."}, {"owner": {"reputation": 743, "user_id": 3779309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ocxHV.jpg?s=128&g=1", "display_name": "zubair1024", "link": "https://stackoverflow.com/users/3779309/zubair1024"}, "edited": false, "score": 0, "creation_date": 1603277231, "post_id": 42963708, "comment_id": 113984227, "body": "<a href=\"https://grizzlybit.info/blog/increase-nodejs-memory-limit\" rel=\"nofollow noreferrer\">grizzlybit.info/blog/increase-nodejs-memory-limit</a>"}], "answers": [{"comments": [{"owner": {"reputation": 195, "user_id": 3147859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d86cb5f63c7ca76f6dbbc57aa64cac9?s=128&d=identicon&r=PG&f=1", "display_name": "MasterN8", "link": "https://stackoverflow.com/users/3147859/mastern8"}, "edited": false, "score": 0, "creation_date": 1490235980, "post_id": 42964810, "comment_id": 73026209, "body": "Anyway to do this without restarting when it hits the max memory though...just keep it under a certain level?"}, {"owner": {"reputation": 1711, "user_id": 7332645, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/qtlBE.png?s=128&g=1", "display_name": "zhangjinzhou", "link": "https://stackoverflow.com/users/7332645/zhangjinzhou"}, "reply_to_user": {"reputation": 195, "user_id": 3147859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d86cb5f63c7ca76f6dbbc57aa64cac9?s=128&d=identicon&r=PG&f=1", "display_name": "MasterN8", "link": "https://stackoverflow.com/users/3147859/mastern8"}, "edited": false, "score": 0, "creation_date": 1490283684, "post_id": 42964810, "comment_id": 73053416, "body": "@MasterN8 At least I don&#39;t know anyway to do so. You won&#39;t be able t access the server when it&#39;s stopping and restarting. A way to reduce the frequency of reboot is to improve your code to reduce memory leak and also set the memory limit reasonable."}, {"owner": {"reputation": 1711, "user_id": 7332645, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/qtlBE.png?s=128&g=1", "display_name": "zhangjinzhou", "link": "https://stackoverflow.com/users/7332645/zhangjinzhou"}, "reply_to_user": {"reputation": 3440, "user_id": 2983609, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/MtvUf.jpg?s=128&g=1", "display_name": "Pytth", "link": "https://stackoverflow.com/users/2983609/pytth"}, "edited": false, "score": 2, "creation_date": 1490283808, "post_id": 42964810, "comment_id": 73053535, "body": "@Pytth Agree! Some people don&#39;t comment even when you ask why you get down vote."}, {"owner": {"reputation": 486, "user_id": 7027615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9WNHb.jpg?s=128&g=1", "display_name": "Haseeb Burki", "link": "https://stackoverflow.com/users/7027615/haseeb-burki"}, "edited": false, "score": 0, "creation_date": 1560758543, "post_id": 42964810, "comment_id": 99826345, "body": "@zh What is the default limit of <code>max_memory_restart</code>. If I don&#39;t add it, will it <b>not</b> restart at all?"}, {"owner": {"reputation": 444, "user_id": 2547005, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/100002029059777/picture?type=large", "display_name": "Vardan", "link": "https://stackoverflow.com/users/2547005/vardan"}, "edited": false, "score": 0, "creation_date": 1562410091, "post_id": 42964810, "comment_id": 100369845, "body": "@Burki 1300MB is default limit"}], "tags": [], "owner": {"reputation": 1711, "user_id": 7332645, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/qtlBE.png?s=128&g=1", "display_name": "zhangjinzhou", "link": "https://stackoverflow.com/users/7332645/zhangjinzhou"}, "is_accepted": true, "score": 18, "last_activity_date": 1490226880, "creation_date": 1490226880, "answer_id": 42964810, "question_id": 42963708, "link": "https://stackoverflow.com/questions/42963708/node-js-pm2-maximum-memory-limit/42964810#42964810", "title": "Node JS pm2 maximum memory limit", "body": "<p>I used pm2 to directly run node.js scripts and this code works for me:</p>\n\n<pre><code>pm2 start file.js --max-memory-restart 100M\n</code></pre>\n\n<p>Hope the max-memory-restart argument works for you</p>\n"}, {"tags": [], "owner": {"reputation": 2041, "user_id": 5824483, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1045400122183130/picture?type=large", "display_name": "Amulya Kashyap", "link": "https://stackoverflow.com/users/5824483/amulya-kashyap"}, "is_accepted": false, "score": 3, "last_activity_date": 1590434915, "last_edit_date": 1590434915, "creation_date": 1586507908, "answer_id": 61136726, "question_id": 42963708, "link": "https://stackoverflow.com/questions/42963708/node-js-pm2-maximum-memory-limit/61136726#61136726", "title": "Node JS pm2 maximum memory limit", "body": "<p>You have to use <code>node_args</code> instead of <code>args</code>. Also, to be safe you can manually set <code>max_memory_restart</code> this option enables you to restart your process before it crashes.</p>\n\n<pre><code>{\n  \"apps\": [\n   {\n     \"name\": \"Sample\",\n     \"script\": \"runit.js\",\n     \"watch\": false,\n     \"cwd\": \"xxxxxx\",\n     \"env\": {\n       \"NODE_TLS_REJECT_UNAUTHORIZED\": '0',\n       \"NODE_ENV\": \"local_public\",\n       \"PORT\": 3000,\n       \"PROXY_PORT\": 4000,\n     },\n     \"max_memory_restart\": \"180\",\n     \"node_args\": [\n       \"--max_old_space_size=200\"\n     ]\n   }\n ]\n}\n</code></pre>\n"}], "owner": {"reputation": 195, "user_id": 3147859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d86cb5f63c7ca76f6dbbc57aa64cac9?s=128&d=identicon&r=PG&f=1", "display_name": "MasterN8", "link": "https://stackoverflow.com/users/3147859/mastern8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21465, "favorite_count": 3, "accepted_answer_id": 42964810, "answer_count": 2, "score": 5, "last_activity_date": 1590434915, "creation_date": 1490221181, "question_id": 42963708, "link": "https://stackoverflow.com/questions/42963708/node-js-pm2-maximum-memory-limit", "title": "Node JS pm2 maximum memory limit", "body": "<p>I'm using pm2 and node js.  What I want to do is set a maximum memory limit for an application.  My dev server's limit is 500mb split between two applications.  Ideally I would like to limit it to 200mb.  I need this limit to be a hard limit for the application, and for it to not restart the application if it exceeds it like the pm2 command \"max_memory_restart\" does. I've also tried to use the --max_old_space_size command with no luck. Is there any way to do this?</p>\n\n<p>Example pm2 json file</p>\n\n<pre><code>{\n  \"apps\": [\n   {\n     \"name\": \"Sample\",\n     \"script\": \"runit.js\",\n     \"watch\": false,\n     \"cwd\": \"xxxxxx\",\n     \"env\": {\n       \"NODE_TLS_REJECT_UNAUTHORIZED\": '0',\n       \"NODE_ENV\": \"local_public\",\n       \"PORT\": 3000,\n       \"PROXY_PORT\": 4000,\n     },\n     \"args\": [\n       \"--max_old_space_size=200\"\n     ]\n   }\n ]\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["javascript", "json", "postgresql", "list", "hashmap"], "comments": [{"owner": {"reputation": 396, "user_id": 7470815, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2dkYqnfFeao/AAAAAAAAAAI/AAAAAAAAAG0/XKVwtqt15Ec/photo.jpg?sz=128", "display_name": "Ehren Murdick", "link": "https://stackoverflow.com/users/7470815/ehren-murdick"}, "edited": false, "score": 0, "creation_date": 1490222880, "post_id": 42963677, "comment_id": 73022213, "body": "What&#39;s not working about using JSON.parse? That&#39;s valid json, it should parse just fine. (I checked the validity of the json using <a href=\"http://jsonlint.com/\" rel=\"nofollow noreferrer\">jsonlint.com</a>)"}, {"owner": {"reputation": 1, "user_id": 7631835, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154950619350119/picture?type=large", "display_name": "Nata", "link": "https://stackoverflow.com/users/7631835/nata"}, "reply_to_user": {"reputation": 396, "user_id": 7470815, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2dkYqnfFeao/AAAAAAAAAAI/AAAAAAAAAG0/XKVwtqt15Ec/photo.jpg?sz=128", "display_name": "Ehren Murdick", "link": "https://stackoverflow.com/users/7470815/ehren-murdick"}, "edited": false, "score": 0, "creation_date": 1490231506, "post_id": 42963677, "comment_id": 73024953, "body": "how would I use JSON.parse function to get, let`s say the image path and save it in a var called img?"}, {"owner": {"reputation": 1, "user_id": 7631835, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154950619350119/picture?type=large", "display_name": "Nata", "link": "https://stackoverflow.com/users/7631835/nata"}, "reply_to_user": {"reputation": 396, "user_id": 7470815, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2dkYqnfFeao/AAAAAAAAAAI/AAAAAAAAAG0/XKVwtqt15Ec/photo.jpg?sz=128", "display_name": "Ehren Murdick", "link": "https://stackoverflow.com/users/7470815/ehren-murdick"}, "edited": false, "score": 0, "creation_date": 1490233753, "post_id": 42963677, "comment_id": 73025571, "body": "var json = &#39;&lt;%=request.getAttribute(&quot;data&quot;) %&gt;&#39;\t\t\t \t\t\t\tfor(var i = 0; i &lt; json.length; i++) { \t\t\t\t    var obj = json[i]; \t\t\t\t    alert(obj.id); \t\t\t\t}"}, {"owner": {"reputation": 1, "user_id": 7631835, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154950619350119/picture?type=large", "display_name": "Nata", "link": "https://stackoverflow.com/users/7631835/nata"}, "reply_to_user": {"reputation": 396, "user_id": 7470815, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2dkYqnfFeao/AAAAAAAAAAI/AAAAAAAAAG0/XKVwtqt15Ec/photo.jpg?sz=128", "display_name": "Ehren Murdick", "link": "https://stackoverflow.com/users/7470815/ehren-murdick"}, "edited": false, "score": 0, "creation_date": 1490233823, "post_id": 42963677, "comment_id": 73025596, "body": "when i try the above code, json.length gives me the total length of the string, 850 and loops through each character and displays &quot;undefined&quot; in the alert box.  I have no idea why."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7631835, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154950619350119/picture?type=large", "display_name": "Nata", "link": "https://stackoverflow.com/users/7631835/nata"}, "is_accepted": false, "score": 0, "last_activity_date": 1490243358, "creation_date": 1490243358, "answer_id": 42967271, "question_id": 42963677, "link": "https://stackoverflow.com/questions/42963677/how-to-fetch-data-from-database-hashmap-it-converti-hashmap-to-jsonobject-list/42967271#42967271", "title": "How to fetch data from database, hashmap it, converti hashmap to JSONObject list and use it in javascript", "body": "<p>*********I fixed the problem*********\ni just had to convert json variable back to JSON object by doing json = JSON.parse(json); to make sure that js doesn't treat it like a string. that fixed it for me and now I can get the image by looping through it with obj.image.  Thanks Ehren Murdick for taking the time to read and reply.</p>\n"}], "owner": {"reputation": 1, "user_id": 7631835, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154950619350119/picture?type=large", "display_name": "Nata", "link": "https://stackoverflow.com/users/7631835/nata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 301, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490243358, "creation_date": 1490220984, "question_id": 42963677, "link": "https://stackoverflow.com/questions/42963677/how-to-fetch-data-from-database-hashmap-it-converti-hashmap-to-jsonobject-list", "title": "How to fetch data from database, hashmap it, converti hashmap to JSONObject list and use it in javascript", "body": "<p>I'm working on a java web project using (tomcat,jsp,postgres,googlemap etc.).  The postgres database table has 7 columns and one of the columns is of geography datatype.  So I retrieved the data using Hashmap and put it in an ArrayList with the following method that receives a ResultSet object. </p>\n\n<pre><code>  public ArrayList resultSetToArrayList(ResultSet rs) throws SQLException{\n\n  ResultSetMetaData md = rs.getMetaData();\n  int columns = md.getColumnCount();\n  ArrayList list = new ArrayList();\n  ArrayList&lt;HashMap&lt;String, Object&gt;&gt; dataMap = new \n  ArrayList&lt;HashMap&lt;String,Object&gt;&gt;();\n\n  while (rs.next()){\n  HashMap row = new HashMap(columns);\n        for(int i=1; i&lt;=columns; ++i){                          \n            row.put(md.getColumnName(i),rs.getObject(i));\n        }\n        list.add(row);\n    }\n  return list;\n}\n</code></pre>\n\n<p>In my doGet servlet method, I have the following code to convert the arraylist to JSONObject list and then I forward the response to a jsp.</p>\n\n<pre><code>ArrayList&lt;HashMap&lt;String, Object&gt;&gt; hashmapData =  \nnewArrayList&lt;HashMap&lt;String, \nObject&gt;&gt;();\nhashmapData = api.resultSetToArrayList(rs);//api is an instance  \n                            of my APIService class that contains the method\nList&lt;JSONObject&gt; jsonObj = new ArrayList&lt;JSONObject&gt;();\n\nfor(HashMap&lt;String, Object&gt; data : hashmapData) { \n        JSONObject obj = new JSONObject(data);\n        jsonObj.add(obj);\n}\nrequest.setAttribute(\"data\",jsonObj);\n\n              //Disptching request\n\nRequestDispatcher dispatcher =\nrequest.getRequestDispatcher(\"displayallobjects.jsp\");\n\n              if (dispatcher != null){\n              dispatcher.forward(request, response);\n              } \n  .....\n   ....//rest of the code\n  }\n</code></pre>\n\n<p>Everything is working and I'm able to retrieve the JSONObject List in my .jsp file through a request object in the following format:</p>\n\n<pre><code>  &lt;script&gt;\n        var jsondata = '&lt;%=request.getAttribute(\"data\") %&gt;'\n  ....\n  &lt;/script&gt;\n\n [{\"id\":49,\"location\":\"POINT(43.5729914065888 -79.7675657272339)\", \n \"questid\":3,\"image\":\"images\\/science.jpg\",\"type\":\"science\"}, \n {\"id\":51,\"location\":\"POINT(43.5725872088145 -79.7640466690063)\", \n \"questid\":5,\"image\":\"images\\/math.jpg\",\"type\":\"math\"}, \n {\"id\":52,\"location\":\"POINT(43.5730224986129 -79.7701406478882)\", \n \"questid\":2,\"image\":\"images\\/math.jpg\",\"type\":\"math\"}, \n {\"id\":53,\"location\":\"POINT(43.5742972577808 -79.7683811187744)\", \n \"questid\":1,\"image\":\"images\\/english.jpg\",\"type\":\"english\"}, \n {\"id\":54,\"location\":\"POINT(43.5707838318471 -79.7665357589722)\", \n \"questid\":9,\"image\":\"images\\/science.jpg\",\"type\":\"science\"}]\n</code></pre>\n\n<p>Now, I need to use this data to create markers on the map.  I just can't seem to parse this data in any way.  I tried JSON.parse(jsondata), and other relations functions available in javascript like stringify etc.  but nothing works.</p>\n\n<p>How can I save the value of each item into javascript array variables, so I loop through the array and display the markers on proper locations with the right icons.?????? PLEASE HELP, I've spent so much time trying to figure this out.  Nothing is working.  </p>\n\n<p>What I think the problem is the format of the json object [{\"\":\"\"}].  but I have no idea how to fix it.</p>\n"}, {"tags": ["javascript", "angularjs", "angularjs-scope"], "comments": [{"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 6, "creation_date": 1490221032, "post_id": 42963649, "comment_id": 73021362, "body": "The code outside will run before the code inside does, so it&#39;s undefined at first"}], "answers": [{"tags": [], "owner": {"reputation": 6107, "user_id": 413785, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/03021a61666cfcbe2867dd205c4ed8ab?s=128&d=identicon&r=PG", "display_name": "tkit", "link": "https://stackoverflow.com/users/413785/tkit"}, "is_accepted": true, "score": 0, "last_activity_date": 1490230275, "creation_date": 1490230275, "answer_id": 42965299, "question_id": 42963649, "link": "https://stackoverflow.com/questions/42963649/scope-on-use-passed-value/42965299#42965299", "title": "$scope.$on use passed value", "body": "<p>This part of your code is an asynchronous callback:</p>\n\n<pre><code>(event, args) =&gt; {\n  $scope.data = args.data;\n  console.log($scope.data);\n}\n</code></pre>\n\n<p>That means it will run once the <code>myEvent</code> is triggered. The second console.log() will run immediately when that script and that particular line gets loaded by the browser and this part of your code is not async but synchronous. Because your code will in this case fully load before your event gets triggered, your \"second\" console.log() will run before the \"first\" one.</p>\n\n<p>I suggest you read a bit about <a href=\"http://javascriptissexy.com/understand-javascript-callback-functions-and-use-them/\" rel=\"nofollow noreferrer\">how callbacks work</a>. It is one of the core patterns when working with javascript and it will help you a lot to understand how callbacks work in any of your future work.</p>\n"}], "owner": {"reputation": 13, "user_id": 7753836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88ba78b3f7c31a576dff5cfc15b506de?s=128&d=identicon&r=PG&f=1", "display_name": "vld", "link": "https://stackoverflow.com/users/7753836/vld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 42965299, "answer_count": 1, "score": 1, "last_activity_date": 1490230275, "creation_date": 1490220828, "question_id": 42963649, "link": "https://stackoverflow.com/questions/42963649/scope-on-use-passed-value", "title": "$scope.$on use passed value", "body": "<p>I get this problem when I send data with broadcast, here is my code:</p>\n\n<pre><code>$rootScope.$broadcast('myEvent',{\n   data:\"value\"\n });\n</code></pre>\n\n<p>and my on code:</p>\n\n<pre><code>$scope.$on('myEvent', (event, args) =&gt; {\n     $scope.data = args.data;\n     console.log($scope.data);\n  });\n  console.log($scope.data);\n</code></pre>\n\n<p>The problem is, that console.log inside function displays value, but outside I get undefined, what I missed?\nthanks.</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 3, "creation_date": 1490220925, "post_id": 42963643, "comment_id": 73021314, "body": "<code>margin-top: 1em</code>?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1490220997, "post_id": 42963643, "comment_id": 73021348, "body": "You should put the <code>&lt;br&gt;</code> inside the DIV, not before it."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1490221050, "post_id": 42963643, "comment_id": 73021368, "body": "I&#39;m not sure why you need <code>&lt;br&gt;</code> at all. A DIV will normally be on a new line."}, {"owner": {"reputation": 4326, "user_id": 3281014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIpXo.jpg?s=128&g=1", "display_name": "Nawed Khan", "link": "https://stackoverflow.com/users/3281014/nawed-khan"}, "edited": false, "score": 1, "creation_date": 1490221164, "post_id": 42963643, "comment_id": 73021416, "body": "why BR? use CSS margin-top on the div!"}, {"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1490221201, "post_id": 42963643, "comment_id": 73021438, "body": "If you would like to use the break tag, don&#39;t add the break before the element. Add it within the html you&#39;re manipulating."}, {"owner": {"reputation": 15, "user_id": 4879837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a70d338636dd92cf7f9ba8846b16a7df?s=128&d=identicon&r=PG&f=1", "display_name": "Brett T", "link": "https://stackoverflow.com/users/4879837/brett-t"}, "edited": false, "score": 0, "creation_date": 1490221365, "post_id": 42963643, "comment_id": 73021511, "body": "because of the coloring on the page i need there to be white space before the div and ONLY if there is an error.  That&#39;s why i cant put the br inside the div, and the div is a new line but there is no white space above it."}, {"owner": {"reputation": 15, "user_id": 4879837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a70d338636dd92cf7f9ba8846b16a7df?s=128&d=identicon&r=PG&f=1", "display_name": "Brett T", "link": "https://stackoverflow.com/users/4879837/brett-t"}, "edited": false, "score": 0, "creation_date": 1490221409, "post_id": 42963643, "comment_id": 73021529, "body": "Anyways, Phil&#39;s suggestion worked, i am just trying to figure out how to mark it right.  thanks Phil (and Nawed Khan)!"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7236046"}, "is_accepted": true, "score": 0, "last_activity_date": 1490221561, "creation_date": 1490221561, "answer_id": 42963791, "question_id": 42963643, "link": "https://stackoverflow.com/questions/42963643/adding-a-line-break-before-a-div-in-javascript/42963791#42963791", "title": "Adding a line break before a div in javascript", "body": "<p>You can, here is a neat little trick.</p>\n\n<p>When you add the line breaks, <em>add a class to them like so...</em></p>\n\n<pre><code>$('#sku-upc-error').html(jqXHR.responseText).before(\"&lt;br class='break' /&gt;\");\n</code></pre>\n\n<p>Then when you run the code to hide the error message, include this code directly after it to remove the line breaks.</p>\n\n<pre><code>$(\".break\").remove();\n</code></pre>\n\n<p>Give that a try and let me know how you get on. You can also use <code>.hide()</code> if you wanted but this removes them all from the DOM properly rather than hiding them but keeping them within the markup.</p>\n"}], "owner": {"reputation": 15, "user_id": 4879837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a70d338636dd92cf7f9ba8846b16a7df?s=128&d=identicon&r=PG&f=1", "display_name": "Brett T", "link": "https://stackoverflow.com/users/4879837/brett-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 501, "favorite_count": 0, "accepted_answer_id": 42963791, "answer_count": 1, "score": 0, "last_activity_date": 1490221561, "creation_date": 1490220796, "question_id": 42963643, "link": "https://stackoverflow.com/questions/42963643/adding-a-line-break-before-a-div-in-javascript", "title": "Adding a line break before a div in javascript", "body": "<p>I have a JavaScript function that runs when an html button is clicked.  If an error occurs in the function i display an error which is just an html div that i add text to dynamically and is usually hidden until the error occurs.  I would like to dynamically add a line break (br) before the error display (before the div) at the same time.</p>\n\n<p>My issue is that, if the user keeps clicking the button and an error keeps occurring, the page fills up with line breaks and the rest of the page moves down.  So the breaks are compounding and never going away.  Here is the JavaScript which dynamically adds the error text to the div and a line break before it.</p>\n\n<pre><code>$('#sku-upc-error').html(jqXHR.responseText).before(\"&lt;br /&gt;\");\n</code></pre>\n\n<p>Here is the html that displays the error.  </p>\n\n<pre><code>&lt;div class=\"error-display\" id=\"sku-upc-error\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I can hide or remove the div dynamically, when the error doesn't occur but the line breaks are still there.  like this for example:</p>\n\n<pre><code>$(\"#sku-upc-error\").hide();\n</code></pre>\n\n<p>Is there a way to remove the line breaks too?  Or a better way to add the breaks before the error div so that they don't stay on the page and compound if errors keep occurring?</p>\n"}, {"tags": ["javascript", "angularjs"], "comments": [{"owner": {"reputation": 4527, "user_id": 541065, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/447f6522620ddb164d15f777e8719bed?s=128&d=identicon&r=PG", "display_name": "Nikolaj Dam Larsen", "link": "https://stackoverflow.com/users/541065/nikolaj-dam-larsen"}, "edited": false, "score": 0, "creation_date": 1490220946, "post_id": 42963614, "comment_id": 73021326, "body": "What kind of object is <code>vm.allItems</code>? Just a regular array?"}, {"owner": {"reputation": 627, "user_id": 6632052, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a42958d670a5f7beed6cc8b8dcfd3527?s=128&d=identicon&r=PG", "display_name": "Bijay Timilsina", "link": "https://stackoverflow.com/users/6632052/bijay-timilsina"}, "reply_to_user": {"reputation": 4527, "user_id": 541065, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/447f6522620ddb164d15f777e8719bed?s=128&d=identicon&r=PG", "display_name": "Nikolaj Dam Larsen", "link": "https://stackoverflow.com/users/541065/nikolaj-dam-larsen"}, "edited": false, "score": 0, "creation_date": 1490221165, "post_id": 42963614, "comment_id": 73021417, "body": "yes it&#39;s an array of objects.my bad not mentioning it."}, {"owner": {"reputation": 4527, "user_id": 541065, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/447f6522620ddb164d15f777e8719bed?s=128&d=identicon&r=PG", "display_name": "Nikolaj Dam Larsen", "link": "https://stackoverflow.com/users/541065/nikolaj-dam-larsen"}, "edited": false, "score": 0, "creation_date": 1490221273, "post_id": 42963614, "comment_id": 73021473, "body": "No problem. I assumed that was the case, just had to be certain."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1490221418, "post_id": 42963614, "comment_id": 73021534, "body": "You likely have errors in your console. Let us know what those are."}, {"owner": {"reputation": 1574, "user_id": 537079, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d204bd02ffb30d5ed5597e6e29e9d407?s=128&d=identicon&r=PG", "display_name": "Nikhil Bhandari", "link": "https://stackoverflow.com/users/537079/nikhil-bhandari"}, "edited": false, "score": 0, "creation_date": 1490221771, "post_id": 42963614, "comment_id": 73021691, "body": "You can combine the closures from first two events to achieve 3rd, but it won&#39;t be the best way."}], "answers": [{"comments": [{"owner": {"reputation": 627, "user_id": 6632052, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a42958d670a5f7beed6cc8b8dcfd3527?s=128&d=identicon&r=PG", "display_name": "Bijay Timilsina", "link": "https://stackoverflow.com/users/6632052/bijay-timilsina"}, "edited": false, "score": 0, "creation_date": 1490221400, "post_id": 42963718, "comment_id": 73021527, "body": "i&#39;m directly modifying the array by passing &#39;item&#39; so it&#39;s still type array tho"}, {"owner": {"reputation": 4527, "user_id": 541065, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/447f6522620ddb164d15f777e8719bed?s=128&d=identicon&r=PG", "display_name": "Nikolaj Dam Larsen", "link": "https://stackoverflow.com/users/541065/nikolaj-dam-larsen"}, "reply_to_user": {"reputation": 627, "user_id": 6632052, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a42958d670a5f7beed6cc8b8dcfd3527?s=128&d=identicon&r=PG", "display_name": "Bijay Timilsina", "link": "https://stackoverflow.com/users/6632052/bijay-timilsina"}, "edited": false, "score": 1, "creation_date": 1490221614, "post_id": 42963718, "comment_id": 73021616, "body": "Are you sure? According to the <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/push\" rel=\"nofollow noreferrer\">JavaScript specification</a> <code>vm.allItems.push(item)</code> should return the new length of the array - not the actual array."}, {"owner": {"reputation": 627, "user_id": 6632052, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a42958d670a5f7beed6cc8b8dcfd3527?s=128&d=identicon&r=PG", "display_name": "Bijay Timilsina", "link": "https://stackoverflow.com/users/6632052/bijay-timilsina"}, "edited": false, "score": 2, "creation_date": 1490222658, "post_id": 42963718, "comment_id": 73022118, "body": "yea you are right. i meant to do concat() but did push() . thanks for the heads up :)"}], "tags": [], "owner": {"reputation": 4527, "user_id": 541065, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/447f6522620ddb164d15f777e8719bed?s=128&d=identicon&r=PG", "display_name": "Nikolaj Dam Larsen", "link": "https://stackoverflow.com/users/541065/nikolaj-dam-larsen"}, "is_accepted": false, "score": 1, "last_activity_date": 1490221230, "creation_date": 1490221230, "answer_id": 42963718, "question_id": 42963614, "link": "https://stackoverflow.com/questions/42963614/listening-events-and-updating-page-without-refresh/42963718#42963718", "title": "Listening events and Updating page without Refresh", "body": "<p>The JavaScript function <code>push()</code> actually returns the new length of the array, not the array itself. So calling <code>findIndex()</code> on the return value of <code>push()</code> may be what's causing your issue. </p>\n"}, {"comments": [{"owner": {"reputation": 627, "user_id": 6632052, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a42958d670a5f7beed6cc8b8dcfd3527?s=128&d=identicon&r=PG", "display_name": "Bijay Timilsina", "link": "https://stackoverflow.com/users/6632052/bijay-timilsina"}, "edited": false, "score": 0, "creation_date": 1490222592, "post_id": 42963948, "comment_id": 73022089, "body": "oh that&#39;s really clean. i filter out both old and new item but later concat the new one. thanks a lot :)"}, {"owner": {"reputation": 1574, "user_id": 537079, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d204bd02ffb30d5ed5597e6e29e9d407?s=128&d=identicon&r=PG", "display_name": "Nikhil Bhandari", "link": "https://stackoverflow.com/users/537079/nikhil-bhandari"}, "reply_to_user": {"reputation": 627, "user_id": 6632052, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a42958d670a5f7beed6cc8b8dcfd3527?s=128&d=identicon&r=PG", "display_name": "Bijay Timilsina", "link": "https://stackoverflow.com/users/6632052/bijay-timilsina"}, "edited": false, "score": 0, "creation_date": 1490222786, "post_id": 42963948, "comment_id": 73022170, "body": "Check again I have added another way."}, {"owner": {"reputation": 627, "user_id": 6632052, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a42958d670a5f7beed6cc8b8dcfd3527?s=128&d=identicon&r=PG", "display_name": "Bijay Timilsina", "link": "https://stackoverflow.com/users/6632052/bijay-timilsina"}, "edited": false, "score": 0, "creation_date": 1490223276, "post_id": 42963948, "comment_id": 73022364, "body": "yea the second one is what i originally planned to do. new es6 and fp methods have made me lazy. btw you have a typo in line 3 (array[0])"}], "tags": [], "owner": {"reputation": 1574, "user_id": 537079, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d204bd02ffb30d5ed5597e6e29e9d407?s=128&d=identicon&r=PG", "display_name": "Nikhil Bhandari", "link": "https://stackoverflow.com/users/537079/nikhil-bhandari"}, "is_accepted": true, "score": 1, "last_activity_date": 1490223328, "last_edit_date": 1490223328, "creation_date": 1490222283, "answer_id": 42963948, "question_id": 42963614, "link": "https://stackoverflow.com/questions/42963614/listening-events-and-updating-page-without-refresh/42963948#42963948", "title": "Listening events and Updating page without Refresh", "body": "<p>You can try something like this:</p>\n\n<pre><code>$scope.$on('itemUpdt', (e, item) =&gt; {\n    vm.allItems = vm.allItems.filter(item =&gt; {\n        item._id !== item._id;\n    });\n    vm.allItems.push(item);\n});\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>const findIndex = (array, item) =&gt; {\n    for(let i=0; i&lt;array.length; i++){\n        if(array[i]._id == item._id){\n            return i;\n        }\n    }\n    return -1\n};\n\n$scope.$on('itemUpdt', (e, item) =&gt; {\n    var indexToRemove = findIndex(vm.allItems, item);\n    vm.allItems.splice(indexToRemove, 1);\n    vm.allItems.push(item);\n});\n</code></pre>\n"}], "owner": {"reputation": 627, "user_id": 6632052, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a42958d670a5f7beed6cc8b8dcfd3527?s=128&d=identicon&r=PG", "display_name": "Bijay Timilsina", "link": "https://stackoverflow.com/users/6632052/bijay-timilsina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 42963948, "answer_count": 2, "score": 1, "last_activity_date": 1490223328, "creation_date": 1490220674, "last_edit_date": 1490222420, "question_id": 42963614, "link": "https://stackoverflow.com/questions/42963614/listening-events-and-updating-page-without-refresh", "title": "Listening events and Updating page without Refresh", "body": "<p>I am finding a specific logical problem a tad bit difficult. My problem is like this: </p>\n\n<p>I send a PUT request from inside a controller via some factory methods. I want to update the data without any kind of page-refresh. for eg. $state.go() or $location.path() etc. For POST and DEL, I've done something like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$scope.$on('itemRemoved', (e, item) =&gt; {\r\n    vm.allItems = vm.allItems.filter(item =&gt; {\r\n        item._id !== item._id)\r\n       })\r\n    })\r\n$scope.$on('itemAdded', (e, item) =&gt; vm.allItems.push(item))\r\n      \r\n// For PUT, I want to do something like this..\r\n\r\n $scope.$on('itemUpdt', (e, item) =&gt; {\r\n    vm.allItems.push(item).findIndex('index of oldItem').splice('exclude oldItem index').join(',')\r\n  })</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>'item' is an array of object returned from ajax call. The above method didn't work for me. Is there something wrong or any better ways to solve this problem? Thanks for reading :) </p>\n"}, {"tags": ["javascript", "arrays", "reactjs", "material-ui"], "comments": [{"owner": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "edited": false, "score": 0, "creation_date": 1490221185, "post_id": 42963599, "comment_id": 73021429, "body": "Is it not possible to do the <code>onRequestClose</code> inside ElementShow instead? Why does the parent need to pass down a <code>handleClose</code>?"}, {"owner": {"reputation": 23, "user_id": 4769878, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZRxjJR6OyVE/AAAAAAAAAAI/AAAAAAAAAag/8KwkugK9fuA/photo.jpg?sz=128", "display_name": "z-a-h", "link": "https://stackoverflow.com/users/4769878/z-a-h"}, "reply_to_user": {"reputation": 8806, "user_id": 6554121, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1", "display_name": "A. L", "link": "https://stackoverflow.com/users/6554121/a-l"}, "edited": false, "score": 0, "creation_date": 1490223355, "post_id": 42963599, "comment_id": 73022388, "body": "I guess the parent doesn&#39;t need to pass down <code>handleClose</code>. The issue is that I need to attach an dialogOpen state to each element and be able to change the value of it from the parent component."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4769878, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZRxjJR6OyVE/AAAAAAAAAAI/AAAAAAAAAag/8KwkugK9fuA/photo.jpg?sz=128", "display_name": "z-a-h", "link": "https://stackoverflow.com/users/4769878/z-a-h"}, "edited": false, "score": 0, "creation_date": 1490223502, "post_id": 42963734, "comment_id": 73022459, "body": "Thank you!! This works as intended. I can pass the <code>&lt;ElementShow&gt;</code> component instead of the dialog inside the <code>selectedElement &amp;&amp;</code> block."}], "tags": [], "owner": {"reputation": 7159, "user_id": 877279, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/5fa0544f9a87c652a5b5c1d4b401fcae?s=128&d=identicon&r=PG", "display_name": "Tyler Sebastian", "link": "https://stackoverflow.com/users/877279/tyler-sebastian"}, "is_accepted": true, "score": 2, "last_activity_date": 1490221703, "last_edit_date": 1490221703, "creation_date": 1490221319, "answer_id": 42963734, "question_id": 42963599, "link": "https://stackoverflow.com/questions/42963599/how-to-render-array-of-elements-as-dialog-in-a-list/42963734#42963734", "title": "How to render array of elements as &lt;Dialog&gt; in a &lt;List&gt;", "body": "<p>Well, one issue you have is that <code>this.state</code> is the parent component's state, not specific to each child - so when you write </p>\n\n<pre><code>elements.map((element) =&gt; {\n    ...\n    &lt;ElementShow dialoagOpen={ this.state.dialogOpen } /&gt;\n})\n</code></pre>\n\n<p>it will effect all elements.</p>\n\n<p>What I would do is something like</p>\n\n<pre><code>class ElementList {\n    onClickElement = (element) =&gt; {\n        this.setState({\n            dialogOpen: true,\n            selectedElement: element\n        });\n    }\n\n    render() {\n        const mElements = elements.map((element) =&gt; {\n            /* I would suggest using a partial here, as opposed to what I've written */\n            return &lt;ListItem onClick={ () =&gt; { this.onClickElement(element) } } /&gt;\n        });\n\n        const { selectedElement } = this.state;\n\n        return (\n            &lt;div&gt;\n                &lt;List className='box'&gt;\n                    &lt;Subheader&gt;Elements&lt;/Subheader&gt;\n                    { mElements } \n                &lt;/List&gt;\n\n                { selectedElement &amp;&amp; (\n                    &lt;Dialog\n                        title={ selectedElement.name }\n                        modal={ false}\n                        open={ this.state.dialogOpen }\n                        element={ selectedElement }\n                        onRequestClose={ this.handleClose }\n                    &gt;\n                        { selectedElement }\n                    &lt;/Dialog&gt;\n                ) }\n            &lt;/div&gt;\n        )\n    }\n}\n</code></pre>\n\n<p>I think this will accomplish what you want. When you want to hide the dialog, you set <code>this.state.dialogOpen</code> to <code>false</code> and clear <code>this.state.selectedElement</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1110, "user_id": 3149396, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/KhmUP.jpg?s=128&g=1", "display_name": "Rorschach120", "link": "https://stackoverflow.com/users/3149396/rorschach120"}, "is_accepted": false, "score": 0, "last_activity_date": 1490224220, "creation_date": 1490224220, "answer_id": 42964351, "question_id": 42963599, "link": "https://stackoverflow.com/questions/42963599/how-to-render-array-of-elements-as-dialog-in-a-list/42964351#42964351", "title": "How to render array of elements as &lt;Dialog&gt; in a &lt;List&gt;", "body": "<p>You need to have individual state (true or false) for each dialog rendered.</p>\n\n<p>Pass the index of each element to your <code>handleOpen</code> and <code>handleClose</code> functions and use that to toggle the correct state.</p>\n\n<pre><code>return elements.map((element, index) =&gt; {\n        return (\n          &lt;ListItem\n            key={element._id}\n            primaryText={element.name}\n            onClick={() =&gt; this.handleOpen(index)}\n          &gt;\n            &lt;ElementShow\n              dialogOpen={this.state.dialogOpen[index]}\n              handleClose={this.handleClose(index)} element={element} /&gt;\n          &lt;/ListItem&gt;\n        )\n      })\n</code></pre>\n\n<p>Next, setup your state as an array equal to the number of elements and also initialize the first dialog as open. Include the index in your open/close functions to access parts of the array.</p>\n\n<pre><code>  constructor(props) {\n    super(props)\n    this.state = {\n      dialogOpen: props.element.map((element, index) =&gt; {\n        return index === 0 ? true : false;\n      }\n    }\n  }\n\n  handleOpen = (index) =&gt; {\n    this.setState({ dialogOpen[index]: true })\n  }\n\n  handleClose = (index) =&gt; {\n    this.setState({ dialogOpen[index]: false })\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 349, "user_id": 12954021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h058L.jpg?s=128&g=1", "display_name": "A Webb", "link": "https://stackoverflow.com/users/12954021/a-webb"}, "is_accepted": false, "score": 0, "last_activity_date": 1608323533, "creation_date": 1608323533, "answer_id": 65363553, "question_id": 42963599, "link": "https://stackoverflow.com/questions/42963599/how-to-render-array-of-elements-as-dialog-in-a-list/65363553#65363553", "title": "How to render array of elements as &lt;Dialog&gt; in a &lt;List&gt;", "body": "<p>For anyone using hooks here is my solution:</p>\n<pre><code>  const [openDialog, setDialogOpen] = React.useState(false);\n  const [selectedElement, setSelectedElement] = React.useState();\n\n  const handleDialogOpen = (element) =&gt; {\n    setDialogOpen(true);\n    setSelectedElement(element);\n  };\n  return (\n    {elements.map((e) =&gt; (\n     ...\n     &lt;CardActionArea onClick={() =&gt; handleDialogOpen(e)}&gt;\n     ...\n     {selectedElement &amp;&amp; (\n        &lt;EditDialog\n         selectedElement={selectedElement}\n         openDialog={openDialog}\n         setOpenDialog={setDialogOpen}\n         /&gt;\n      )}\n    ))}\n  )\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 4769878, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZRxjJR6OyVE/AAAAAAAAAAI/AAAAAAAAAag/8KwkugK9fuA/photo.jpg?sz=128", "display_name": "z-a-h", "link": "https://stackoverflow.com/users/4769878/z-a-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1537, "favorite_count": 0, "accepted_answer_id": 42963734, "answer_count": 3, "score": 1, "last_activity_date": 1608323533, "creation_date": 1490220609, "question_id": 42963599, "link": "https://stackoverflow.com/questions/42963599/how-to-render-array-of-elements-as-dialog-in-a-list", "title": "How to render array of elements as &lt;Dialog&gt; in a &lt;List&gt;", "body": "<p>I'm building a component, <code>&lt;ElementList&gt;</code> that receives an array of elements in the props and builds a <code>&lt;List&gt;</code> where each <code>&lt;ListItem&gt;</code> is a element of array. \nI'm passing the <code>&lt;ListItem&gt;</code> a separate component called <code>&lt;ElementShow&gt;</code>, which wraps a material-ui <code>&lt;Dialog&gt;</code> component.<br>\nWhen a <code>&lt;ListItem&gt;</code> is clicked, it should open the <code>&lt;Dialog&gt;</code> for the specific <code>&lt;ElementShow&gt;</code> component. </p>\n\n<p>Currently, when I click on any of the <code>&lt;ListItem&gt;</code>'s it opens the <code>&lt;Dialog&gt;</code> for the last element of the array, regardless of which <code>&lt;ListItem&gt;</code> I click. </p>\n\n<p>Here's the code for reference: </p>\n\n<p>ElementList.js</p>\n\n<pre><code>import React from 'react'\nimport {List, ListItem} from 'material-ui/List'\nimport Subheader from 'material-ui/Subheader'\nimport ElementShow from './ElementShow'\n\nclass ElementList extends React.Component {\n  constructor() {\n    super()\n    this.state = {\n      dialogOpen: false\n    }\n  }\n\n  handleOpen = () =&gt; {\n    this.setState({dialogOpen: true})\n  }\n\n  handleClose = () =&gt; {\n    this.setState({dialogOpen: false})\n  }\n\n  renderElements () {\n    const {elements} = this.props\n    if (elements.length &lt; 1) {\n      return (\n        &lt;ListItem\n          key='empty_element'\n          primaryText='No Elements Yet'\n        /&gt;\n      )\n    } else {\n      return elements.map(element =&gt; {\n        return (\n          &lt;ListItem\n            key={element._id}\n            primaryText={element.name}\n            onClick={this.handleOpen}\n          &gt;\n            &lt;ElementShow\n              dialogOpen={this.state.dialogOpen}\n              handleClose={this.handleClose} element={element} /&gt;\n          &lt;/ListItem&gt;\n        )\n      })\n    }\n  }\n\n  render () {\n    return (\n      &lt;List className='box'&gt;\n        &lt;Subheader&gt;Elements&lt;/Subheader&gt;\n        {this.renderElements()}\n      &lt;/List&gt;\n    )\n  }\n}\nexport default ElementList\n</code></pre>\n\n<p>ElementShow.js</p>\n\n<pre><code>import React from 'react'\nimport Dialog from 'material-ui/Dialog'\n\nclass ElementShow extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      open: props.dialogOpen\n    }\n  }\n\n  render () {\n    const { element, handleClose } = this.props\n    return (\n      &lt;Dialog\n        title={element.name}\n        modal={false}\n        open={this.props.dialogOpen}\n        onRequestClose={handleClose}&gt;\n        {element}\n      &lt;/Dialog&gt;\n    )\n  }\n}\n\nexport default ElementShow\n</code></pre>\n\n<p>I think I need to link the dialog state to the specific character, but I haven't been able to find a method that works yet.</p>\n\n<p>Any help/tips are appreciated!</p>\n"}, {"tags": ["javascript", "jquery", "jasmine", "jasmine-jquery"], "comments": [{"owner": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "edited": false, "score": 0, "creation_date": 1490220644, "post_id": 42963576, "comment_id": 73021198, "body": "<code>expect(populateNotes())</code> calls the function, it should be <code>expect(populateNotes)</code>"}, {"owner": {"reputation": 396, "user_id": 7470815, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2dkYqnfFeao/AAAAAAAAAAI/AAAAAAAAAG0/XKVwtqt15Ec/photo.jpg?sz=128", "display_name": "Ehren Murdick", "link": "https://stackoverflow.com/users/7470815/ehren-murdick"}, "reply_to_user": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "edited": false, "score": 0, "creation_date": 1490223178, "post_id": 42963576, "comment_id": 73022326, "body": "@4castle I don&#39;t think it&#39;s a duplicate, they&#39;re missing some other bits of jasmine as well."}], "answers": [{"comments": [{"owner": {"reputation": 3351, "user_id": 2731253, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf88a5179da66f2e54012dd30b6f31cb?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/2731253/james"}, "edited": false, "score": 0, "creation_date": 1490225135, "post_id": 42964123, "comment_id": 73023089, "body": "hmm... that didn&#39;t work, is it possible that the object isn&#39;t <code>window</code>? I literally have the function just sitting there... so window should be right..."}, {"owner": {"reputation": 396, "user_id": 7470815, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2dkYqnfFeao/AAAAAAAAAAI/AAAAAAAAAG0/XKVwtqt15Ec/photo.jpg?sz=128", "display_name": "Ehren Murdick", "link": "https://stackoverflow.com/users/7470815/ehren-murdick"}, "reply_to_user": {"reputation": 3351, "user_id": 2731253, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf88a5179da66f2e54012dd30b6f31cb?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/2731253/james"}, "edited": false, "score": 0, "creation_date": 1490225531, "post_id": 42964123, "comment_id": 73023219, "body": "You could define the function on window, just to make it testable. Instead of <code>function populateNotes(...</code> you can do <code>window.populateNotes = function(...</code>"}, {"owner": {"reputation": 3351, "user_id": 2731253, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf88a5179da66f2e54012dd30b6f31cb?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/2731253/james"}, "edited": false, "score": 0, "creation_date": 1490227199, "post_id": 42964123, "comment_id": 73023707, "body": "so explicitly defining the function on window still didn&#39;t cause the test to pass. however i can definitely verify that it&#39;s passing in a local server... any other ideas?"}, {"owner": {"reputation": 396, "user_id": 7470815, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2dkYqnfFeao/AAAAAAAAAAI/AAAAAAAAAG0/XKVwtqt15Ec/photo.jpg?sz=128", "display_name": "Ehren Murdick", "link": "https://stackoverflow.com/users/7470815/ehren-murdick"}, "reply_to_user": {"reputation": 3351, "user_id": 2731253, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf88a5179da66f2e54012dd30b6f31cb?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/2731253/james"}, "edited": false, "score": 0, "creation_date": 1490227371, "post_id": 42964123, "comment_id": 73023750, "body": "What&#39;s the failure message you&#39;re getting from jasmine exactly?"}, {"owner": {"reputation": 3351, "user_id": 2731253, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf88a5179da66f2e54012dd30b6f31cb?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/2731253/james"}, "edited": false, "score": 0, "creation_date": 1490228648, "post_id": 42964123, "comment_id": 73024158, "body": "<code>Error: Expected spy populatePreOrderNotes to have been called.</code>"}, {"owner": {"reputation": 396, "user_id": 7470815, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2dkYqnfFeao/AAAAAAAAAAI/AAAAAAAAAG0/XKVwtqt15Ec/photo.jpg?sz=128", "display_name": "Ehren Murdick", "link": "https://stackoverflow.com/users/7470815/ehren-murdick"}, "reply_to_user": {"reputation": 3351, "user_id": 2731253, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf88a5179da66f2e54012dd30b6f31cb?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/2731253/james"}, "edited": false, "score": 0, "creation_date": 1490228780, "post_id": 42964123, "comment_id": 73024194, "body": "@james Do you have screen hero? This would be a lot easier to debug if we could pair. (I work for the company that wrote jasmine)"}], "tags": [], "owner": {"reputation": 396, "user_id": 7470815, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2dkYqnfFeao/AAAAAAAAAAI/AAAAAAAAAG0/XKVwtqt15Ec/photo.jpg?sz=128", "display_name": "Ehren Murdick", "link": "https://stackoverflow.com/users/7470815/ehren-murdick"}, "is_accepted": true, "score": 3, "last_activity_date": 1490223146, "creation_date": 1490223146, "answer_id": 42964123, "question_id": 42963576, "link": "https://stackoverflow.com/questions/42963576/do-you-need-spies-to-test-if-a-function-has-been-called-in-jasmine/42964123#42964123", "title": "Do you need spies to test if a function has been called in Jasmine?", "body": "<p>You need to do two things, first you need to spy on the function before the click. Normally you would spy on a function like this that is a member of an object. Where is populateNotes defined? You need a reference to it somehow.</p>\n\n<pre><code>// This might work, if the function is defined globally. \nspyOn(window, 'populateNotes');\n\n// Then do your action that should result in that func being called\n$(\"#show-cart\").click();\n\n// Then your expectation. The expectation should be on the function\n// itself, not on the result. So no parens.\nexpect(window.populateNotes).toHaveBeenCalled();\n</code></pre>\n"}], "owner": {"reputation": 3351, "user_id": 2731253, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf88a5179da66f2e54012dd30b6f31cb?s=128&d=identicon&r=PG&f=1", "display_name": "james", "link": "https://stackoverflow.com/users/2731253/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3608, "favorite_count": 0, "accepted_answer_id": 42964123, "answer_count": 1, "score": 1, "last_activity_date": 1490229405, "creation_date": 1490220540, "last_edit_date": 1490229405, "question_id": 42963576, "link": "https://stackoverflow.com/questions/42963576/do-you-need-spies-to-test-if-a-function-has-been-called-in-jasmine", "title": "Do you need spies to test if a function has been called in Jasmine?", "body": "<p>Am learning Jasmine, wondering if the following test would be valid? And if not, can someone explain why? I've been reading a number of tutorials and can't find a good explanation that has helped me understand why I can't seem to write a test like the one below correctly.</p>\n\n<pre><code>// spec\ndescribe(\"when cart is clicked\", function() {\n    it(\"should call the populateNotes function\", function() {\n        $(\"#show-cart\").click()\n        expect(populateNotes()).toHaveBeenCalled();\n    })\n})\n\n// code\n$(\"#show-cart\").click(function() {\n    populateNotes();\n})\n</code></pre>\n"}, {"tags": ["javascript", "forms", "date", "autofill"], "comments": [{"owner": {"reputation": 193, "user_id": 1775578, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3c08a98caf96a0cdab954960c58f4e22?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/1775578/matt"}, "edited": false, "score": 0, "creation_date": 1490221381, "post_id": 42963545, "comment_id": 73021516, "body": "Have a look at <a href=\"https://momentjs.com/\" rel=\"nofollow noreferrer\">MomentJS</a>, they have loads of easy ways to format dates."}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 7637995, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/266622140432583/picture?type=large", "display_name": "Jamie Sexton", "link": "https://stackoverflow.com/users/7637995/jamie-sexton"}, "edited": false, "score": 0, "creation_date": 1490221278, "post_id": 42963666, "comment_id": 73021477, "body": "Thanks Harsheet. I already have that code. and as a js file. And it works fine if I call it into another part of my site using a php include code.  But it isn&#39;t working in the form field. Not as simply as your example is."}, {"owner": {"reputation": 147, "user_id": 7637995, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/266622140432583/picture?type=large", "display_name": "Jamie Sexton", "link": "https://stackoverflow.com/users/7637995/jamie-sexton"}, "edited": false, "score": 0, "creation_date": 1490221647, "post_id": 42963666, "comment_id": 73021629, "body": "How is the form field identifying that script as &#39;date&#39;? and where should I include that js code? Same page? diff page? etc...."}, {"owner": {"reputation": 699, "user_id": 7607671, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1f37ca2821c6926f7a40501854a5e052?s=128&d=identicon&r=PG&f=1", "display_name": "Harsheet", "link": "https://stackoverflow.com/users/7607671/harsheet"}, "reply_to_user": {"reputation": 147, "user_id": 7637995, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/266622140432583/picture?type=large", "display_name": "Jamie Sexton", "link": "https://stackoverflow.com/users/7637995/jamie-sexton"}, "edited": false, "score": 0, "creation_date": 1490221795, "post_id": 42963666, "comment_id": 73021704, "body": "Sorry but I did not get your question. You can include that js code anywhere, means in the script tag or in a separate js file as well."}, {"owner": {"reputation": 147, "user_id": 7637995, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/266622140432583/picture?type=large", "display_name": "Jamie Sexton", "link": "https://stackoverflow.com/users/7637995/jamie-sexton"}, "edited": false, "score": 0, "creation_date": 1490222122, "post_id": 42963666, "comment_id": 73021860, "body": "IDK.... still can&#39;t figure it out. I put your code in the head of the page, and did the form field exactly like you did.....  Its not populating the field at all. Field is blank."}, {"owner": {"reputation": 699, "user_id": 7607671, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1f37ca2821c6926f7a40501854a5e052?s=128&d=identicon&r=PG&f=1", "display_name": "Harsheet", "link": "https://stackoverflow.com/users/7607671/harsheet"}, "reply_to_user": {"reputation": 147, "user_id": 7637995, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/266622140432583/picture?type=large", "display_name": "Jamie Sexton", "link": "https://stackoverflow.com/users/7637995/jamie-sexton"}, "edited": false, "score": 0, "creation_date": 1490222339, "post_id": 42963666, "comment_id": 73021965, "body": "Can you add a snippet with the exact code you have?"}, {"owner": {"reputation": 147, "user_id": 7637995, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/266622140432583/picture?type=large", "display_name": "Jamie Sexton", "link": "https://stackoverflow.com/users/7637995/jamie-sexton"}, "edited": false, "score": 0, "creation_date": 1490222501, "post_id": 42963666, "comment_id": 73022049, "body": "The form is here:  <a href=\"http://www.rebelplanetnews.com/article-form2.php\" rel=\"nofollow noreferrer\">rebelplanetnews.com/article-form2.php</a>"}, {"owner": {"reputation": 699, "user_id": 7607671, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1f37ca2821c6926f7a40501854a5e052?s=128&d=identicon&r=PG&f=1", "display_name": "Harsheet", "link": "https://stackoverflow.com/users/7607671/harsheet"}, "reply_to_user": {"reputation": 147, "user_id": 7637995, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/266622140432583/picture?type=large", "display_name": "Jamie Sexton", "link": "https://stackoverflow.com/users/7637995/jamie-sexton"}, "edited": false, "score": 0, "creation_date": 1490225234, "post_id": 42963666, "comment_id": 73023120, "body": "Are you sure you have added the correct script?"}, {"owner": {"reputation": 147, "user_id": 7637995, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/266622140432583/picture?type=large", "display_name": "Jamie Sexton", "link": "https://stackoverflow.com/users/7637995/jamie-sexton"}, "edited": false, "score": 0, "creation_date": 1490231480, "post_id": 42963666, "comment_id": 73024942, "body": "Yes.... I added your code correctly. And it does work. Thank you for that.  However, the code only works if I put the full &lt;script&gt; inline with the input field.  I tried putting the &lt;script&gt; in the head, and it didn&#39;t work.  What I would like to do is put that script in an external file and call it with a shorter code inline.  Any advice?"}, {"owner": {"reputation": 699, "user_id": 7607671, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1f37ca2821c6926f7a40501854a5e052?s=128&d=identicon&r=PG&f=1", "display_name": "Harsheet", "link": "https://stackoverflow.com/users/7607671/harsheet"}, "reply_to_user": {"reputation": 147, "user_id": 7637995, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/266622140432583/picture?type=large", "display_name": "Jamie Sexton", "link": "https://stackoverflow.com/users/7637995/jamie-sexton"}, "edited": false, "score": 0, "creation_date": 1490231791, "post_id": 42963666, "comment_id": 73025032, "body": "Have you tried adding the js code in a separate file and then calling it in your page in the head section?"}, {"owner": {"reputation": 147, "user_id": 7637995, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/266622140432583/picture?type=large", "display_name": "Jamie Sexton", "link": "https://stackoverflow.com/users/7637995/jamie-sexton"}, "edited": false, "score": 0, "creation_date": 1490232483, "post_id": 42963666, "comment_id": 73025245, "body": "Yes, I have. But somewhere between that and making it appear in the field (prepopulated), something isn&#39;t working  I guess I need someone to outline it in all three parts for me since I can&#39;t seem to get my mind around it today.  1.) The external file 2.) The head code 3.) The code that goes inline to populate the field."}, {"owner": {"reputation": 699, "user_id": 7607671, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1f37ca2821c6926f7a40501854a5e052?s=128&d=identicon&r=PG&f=1", "display_name": "Harsheet", "link": "https://stackoverflow.com/users/7607671/harsheet"}, "reply_to_user": {"reputation": 147, "user_id": 7637995, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/266622140432583/picture?type=large", "display_name": "Jamie Sexton", "link": "https://stackoverflow.com/users/7637995/jamie-sexton"}, "edited": false, "score": 0, "creation_date": 1490233370, "post_id": 42963666, "comment_id": 73025474, "body": "Can you try by adding all the js code in window.onload = (the above function)."}, {"owner": {"reputation": 147, "user_id": 7637995, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/266622140432583/picture?type=large", "display_name": "Jamie Sexton", "link": "https://stackoverflow.com/users/7637995/jamie-sexton"}, "edited": false, "score": 0, "creation_date": 1490233921, "post_id": 42963666, "comment_id": 73025637, "body": "Thanks man. I&#39;m having a stressful day today. I can&#39;t even think straight enough to concentrate on figuring this out right now. I&#39;ll just have to use the long code in the form for now and maybe come back to it later when I&#39;m fresh."}, {"owner": {"reputation": 699, "user_id": 7607671, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1f37ca2821c6926f7a40501854a5e052?s=128&d=identicon&r=PG&f=1", "display_name": "Harsheet", "link": "https://stackoverflow.com/users/7607671/harsheet"}, "reply_to_user": {"reputation": 147, "user_id": 7637995, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/266622140432583/picture?type=large", "display_name": "Jamie Sexton", "link": "https://stackoverflow.com/users/7637995/jamie-sexton"}, "edited": false, "score": 0, "creation_date": 1490234023, "post_id": 42963666, "comment_id": 73025667, "body": "That&#39;s alright, but do try my suggestion once. Hope it works!"}], "tags": [], "owner": {"reputation": 699, "user_id": 7607671, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1f37ca2821c6926f7a40501854a5e052?s=128&d=identicon&r=PG&f=1", "display_name": "Harsheet", "link": "https://stackoverflow.com/users/7607671/harsheet"}, "is_accepted": false, "score": 0, "last_activity_date": 1490225217, "last_edit_date": 1490225217, "creation_date": 1490220934, "answer_id": 42963666, "question_id": 42963545, "link": "https://stackoverflow.com/questions/42963545/wrong-date-format-in-form-field/42963666#42963666", "title": "Wrong Date Format In Form Field", "body": "<p>Try this - </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>(function() {\r\nvar days = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];\r\n\r\nvar months = ['January','February','March','April','May','June','July','August','September','October','November','December'];\r\n\r\nDate.prototype.getMonthName = function() {\r\n    return months[ this.getMonth() ];\r\n};\r\nDate.prototype.getDayName = function() {\r\n    return days[ this.getDay() ];\r\n};\r\n})();\r\n\r\nvar now = new Date();\r\nvar day = now.getDayName();\r\nvar month = now.getMonthName();\r\nvar date = now.getDate();\r\nvar year = now.getFullYear()\r\n \r\n document.getElementById('date').value = day + ' ' + month + ' ' + date + ', ' + year;</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;body&gt;\r\n&lt;input class=\"fieldsRt\" id=\"date\" name=\"date\"&gt;\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 147, "user_id": 7637995, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/266622140432583/picture?type=large", "display_name": "Jamie Sexton", "link": "https://stackoverflow.com/users/7637995/jamie-sexton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "closed_date": 1490220923, "answer_count": 1, "score": -2, "last_activity_date": 1490225217, "creation_date": 1490220392, "question_id": 42963545, "link": "https://stackoverflow.com/questions/42963545/wrong-date-format-in-form-field", "closed_reason": "Duplicate", "title": "Wrong Date Format In Form Field", "body": "<p>I posted a similar question last night, unfortunately I included the wrong code to get the help I need. Let me try again.</p>\n\n<p>I am trying to autofill a 'date' field in my web form so the user doesn't have to enter it.</p>\n\n<p>Currently, I am using the code below in the form field, which works fine, except it doesn't provide the date in the correct format for my particular needs.</p>\n\n<pre><code>    &lt;input id=\"date\" name=\"date\"&gt;&lt;script type=\"text/javascript\"&gt;document.getElementById('date').value = Date();&lt;/script&gt;\n</code></pre>\n\n<p>The code above produces a result like this: </p>\n\n<p>Wed Mar 22 2017 00:59:21 GMT-0700 (Pacific Daylight Time)</p>\n\n<p>I would rather the result was like this: </p>\n\n<p>Wednesday March 22, 2017</p>\n"}, {"tags": ["javascript", "jquery", "html", "iframe"], "comments": [{"owner": {"reputation": 12805, "user_id": 1403714, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a5b424d4146905962a24acd6815aeb84?s=128&d=identicon&r=PG", "display_name": "Stephen Thomas", "link": "https://stackoverflow.com/users/1403714/stephen-thomas"}, "edited": false, "score": 0, "creation_date": 1490220961, "post_id": 42963520, "comment_id": 73021333, "body": "<a href=\"http://stackoverflow.com/questions/1451208/access-iframe-elements-in-javascript\">duplicate</a>"}, {"owner": {"reputation": 1348, "user_id": 6735573, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/026a164e58778bbe4f8c778cb1980e14?s=128&d=identicon&r=PG&f=1", "display_name": "DeA", "link": "https://stackoverflow.com/users/6735573/dea"}, "edited": false, "score": 0, "creation_date": 1491200976, "post_id": 42963520, "comment_id": 73428949, "body": "Hey, did you figure out how to do this? I&#39;m having the same problem right now"}], "owner": {"reputation": 11, "user_id": 7632565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50810bf95365d73fe9f38007d7e516de?s=128&d=identicon&r=PG&f=1", "display_name": "ujellyx", "link": "https://stackoverflow.com/users/7632565/ujellyx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1490220283, "creation_date": 1490220283, "question_id": 42963520, "link": "https://stackoverflow.com/questions/42963520/access-radio-button-value-from-iframe", "title": "Access radio button value from iFrame?", "body": "<p>I have a main-page with several separate iFrames including radio-buttons.\nI want to validate the choices and because of that need the values of specific radio-button choices.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"de\"&gt;\n&lt;head&gt;\n  &lt;meta charset=\"UTF-8\"&gt;\n  &lt;title&gt;...&lt;/title&gt;\n\n  &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js\"&gt;&lt;/script&gt;\n  &lt;script type=\"text/javascript\"&gt;\n  $('#validate').click(function() {\nalert('Value ' + $('#legitimation').contents().find('input[name=\"group_1\"]').val());\n});\n  &lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;iframe id=\"legitimation\" name=\"legitimation\" src=\"Legitimation.html\" width=\"300\" height=\"800\"&gt;\n  &lt;p&gt;Your browser does not support iframes.&lt;/p&gt;\n&lt;/iframe&gt;\n&lt;input type=\"button\" id='validate' name='validate' value='VALIDATE' /&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>inside my Legitimation.html i have several radio buttons (grouped up):</p>\n\n<pre><code>&lt;form action=\"#\" id=\"unique_id\" class=\"productFilter\"&gt;\n    &lt;fieldset id=\"step1\" class=\"step1 option0\"&gt;\n        &lt;legend&gt;Legitimation&lt;/legend&gt;\n        &lt;p&gt;\n            &lt;input id=\"question_1\" name=\"group_1\" type=\"radio\" value=\"1\"/&gt;\n            &lt;label for=\"question_1\"&gt;Unidentifiziert&lt;/label&gt;\n        &lt;/p&gt;\n        &lt;p&gt;\n            &lt;input id=\"question_2\" name=\"group_1\" type=\"radio\" value=\"2\"/&gt;\n            &lt;label for=\"question_2\"&gt;Unlegitimiert&lt;/label&gt;\n        &lt;/p&gt;\n        &lt;p&gt;\n            &lt;input id=\"question_3\" name=\"group_1\" type=\"radio\" value=\"3\"/&gt;\n            &lt;label for=\"question_3\"&gt;Legitimiert&lt;/label&gt;\n        &lt;/p&gt;\n    &lt;/fieldset&gt; [...]\n</code></pre>\n\n<p>I want to get feedback on which of the radio buttons was clicked, but i just can't seem to find a way on how to do that...\nAny help would be appreciated.</p>\n"}, {"tags": ["javascript", "jquery", "css", "html"], "comments": [{"owner": {"reputation": 304305, "user_id": 519413, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7839089cd91dc5cc5eb1e0cdbf3312ed?s=128&d=identicon&r=PG", "display_name": "Rory McCrossan", "link": "https://stackoverflow.com/users/519413/rory-mccrossan"}, "edited": false, "score": 0, "creation_date": 1490220015, "post_id": 42963434, "comment_id": 73020965, "body": "Please place all relevant code in the question, ideally in a snippet. You can use the <code>[&lt;&gt;]</code> button in the editor to create one."}, {"owner": {"reputation": 128, "user_id": 3448547, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Dx19O.jpg?s=128&g=1", "display_name": "HelloWorld", "link": "https://stackoverflow.com/users/3448547/helloworld"}, "edited": false, "score": 0, "creation_date": 1490220119, "post_id": 42963434, "comment_id": 73021006, "body": "why not use the hidden tag in html? &lt;p hidden&gt;Hidden paragraph.&lt;/p&gt;"}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 4683273, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh6.googleusercontent.com/-D4tE4yMffsU/AAAAAAAAAAI/AAAAAAAAATU/N4p97LH3-Bc/photo.jpg?sz=128", "display_name": "Peter Lum", "link": "https://stackoverflow.com/users/4683273/peter-lum"}, "edited": false, "score": 0, "creation_date": 1490288402, "post_id": 42964344, "comment_id": 73056946, "body": "This is cool Chris! However, I&#39;m trying to have elements that can be visually revealed by the circle itself. I feel like I might need to append elements to the circle div&#39;s layer somehow."}], "tags": [], "owner": {"reputation": 5947, "user_id": 5771750, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mBNlv.png?s=128&g=1", "display_name": "Chris Happy", "link": "https://stackoverflow.com/users/5771750/chris-happy"}, "is_accepted": false, "score": 0, "last_activity_date": 1490224178, "creation_date": 1490224178, "answer_id": 42964344, "question_id": 42963434, "link": "https://stackoverflow.com/questions/42963434/how-can-i-reveal-hide-images-that-i-can-interact-with/42964344#42964344", "title": "How can I reveal/hide images that I can interact with?", "body": "<p>Okay, this is going to sound a little weird and I might take a while of time, but I think this could work.</p>\n\n<p>All of the text appears within <code>.circle</code> including the \"text\" for links. Then, use <code>pointer-events: none</code> on <code>.circle</code>.</p>\n\n<p>Position links and such absolutely, and when you click on it, ta da!</p>\n\n<p>(I'm hoping this makes sense. For example...)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>(function ($) {\r\n\t\"use strict\";\r\n    \r\n    $( document ).on( \"mousemove\", function( event ) {\r\n        $(\".circle\" ).animate({\r\n            top: event.pageY-($(\".circle\").height()/2),\r\n            left: event.pageX-($(\".circle\").width()/2)\r\n        }, 0, \"linear\");\r\n    });\r\n    \r\n})(jQuery)</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.tada {\r\n  height: 110px;\r\n  width: 540px;\r\n  top: 131px;\r\n  left: 368px;\r\n  position: absolute;\r\n  cursor: pointer;/* so you can tell if you actually click it */\r\n  z-index: 50;\r\n}\r\n\r\nbody, html{\r\n    background-image: url();\r\n    background-attachment: fixed;\r\n    background-position: bottom;\r\n    background-size: cover;\r\n    margin: 0 auto;\r\n    height: 900px;\r\n    width: 900px;\r\n    padding: 0;\r\n      overflow: hidden;\r\n    cursor: none;\r\n}\r\n\r\n#BG{\r\n      background-image: url(https://farm3.staticflickr.com/2904/14648139676_6a96f5fc58_h.jpg);\r\n    background-attachment: fixed;\r\n    background-position: bottom;\r\n    background-size: cover;\r\n    height: 100%;\r\n    padding: 0;\r\n    margin: 0;\r\n      overflow: hidden;\r\n    cursor: none;\r\n}\r\n\r\n.overlay{\r\n   /* background-color: rgba(255,255,255,0.4);*/\r\n    height: 100%;\r\n    border-radius: 50%;\r\n}\r\n\r\n\r\n.circle{\r\n    width: 500px;\r\n    height: 500px;\r\n    position: relative;\r\n    \r\n    background-image: url(http://dailyrindblog.com/PeterLum/test.jpg);\r\n    background-attachment: fixed;\r\n    background-position: bottom;\r\n    background-size: cover;    \r\n    border-radius: 50%;\r\n}\r\n\r\n#item{\r\n  position:absolute;\r\n  top:50%;\r\n  left:50%;\r\n}\r\n\r\n.circle.full{\r\n  width: 1000%;\r\n  height: 1000%;\r\n  transition: 250ms ease all;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;body&gt;\r\n&lt;div id=\"BG\"&gt;\r\n     &lt;div class=\"circle\"&gt;\r\n\r\n      &lt;div class=\"overlay\"&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n  \r\n  &lt;a class=\"tada\" href=\"https://jsfiddle.net/Chris_Happy/3jbf7562/\"&gt;&lt;/a&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 123, "user_id": 4683273, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh6.googleusercontent.com/-D4tE4yMffsU/AAAAAAAAAAI/AAAAAAAAATU/N4p97LH3-Bc/photo.jpg?sz=128", "display_name": "Peter Lum", "link": "https://stackoverflow.com/users/4683273/peter-lum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490297174, "creation_date": 1490219980, "last_edit_date": 1490297174, "question_id": 42963434, "link": "https://stackoverflow.com/questions/42963434/how-can-i-reveal-hide-images-that-i-can-interact-with", "title": "How can I reveal/hide images that I can interact with?", "body": "<p>I have a website where I'm looking to hide things like images, links, or any interactive element, that upon hover reveal those things.</p>\n\n<p>I currently have this mockup where I have two images overlaying each other and when you scroll around, reveal the background image with text in it. How might I add elements to the div being revealed that I can interact with?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I've gotten a little further with putting an element being hidden by the circle element, but still am unable to make the element self constrained and contained to the size of the background. I've tried resizing its height and width properties, but still can't get it to position properly within.</p>\n\n<pre><code><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    (function ($) {\r\n    \t\"use strict\";\r\n        \r\n        $( document ).on( \"mousemove\", function( event ) {\r\n            $(\".circle\" ).animate({\r\n                top: event.pageY-($(\".circle\").height()/2),\r\n                left: event.pageX-($(\".circle\").width()/2)\r\n            }, 0, \"linear\");\r\n        });\r\n        \r\n    })(jQuery)</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>    body, html{\r\n    background-image: url();\r\n    background-attachment: fixed;\r\n    background-position: bottom;\r\n    background-size: cover;\r\n    height: 100%;\r\n    padding: 0;\r\n    margin: 0;\r\n      overflow: hidden;\r\n    cursor: none;\r\n}\r\n\r\n.hide{\r\n  opacity:0;\r\n  color:orange;\r\n  font-size:200px;\r\n}\r\n\r\n.tada {\r\n  height: 110px;\r\n  width: 540px;\r\n  top: 131px;\r\n  left: 368px;\r\n  position: absolute;\r\n  cursor: pointer;/* so you can tell if you actually click it */\r\n  z-index: 50;\r\n}\r\n\r\n\r\n#BG{\r\n      background-image: url(https://farm3.staticflickr.com/2904/14648139676_6a96f5fc58_h.jpg);\r\n    background-attachment: fixed;\r\n    background-position: bottom;\r\n    background-size: cover;\r\n    height: 100%;\r\n    padding: 0;\r\n    margin: 0;\r\n      overflow: hidden;\r\n    cursor: none;\r\n}\r\n.overlay{\r\n    background-color: rgba(255,255,255,0.8);\r\n    height: 100%;\r\n    border-radius: 50%;\r\n\r\n}\r\n\r\n\r\n.circle{\r\n    width: 250px;\r\n    height: 250px;\r\n    position: relative;\r\n    \r\n    background-image: url(http://dailyrindblog.com/PeterLum/test.jpg);\r\n    background-attachment: fixed;\r\n    background-position: bottom;\r\n    background-size: cover;    \r\n    border-radius: 50%;\r\n}\r\n\r\n#item{\r\n  position:absolute;\r\n  top:50%;\r\n  left:50%;\r\n}\r\n\r\n.circle.full{\r\n  width: 1000%;\r\n  height: 1000%;\r\n  transition: 250ms ease all;\r\n}\r\n\r\n\r\n.treasure{\r\n        background-image: url(http://dailyrindblog.com/PeterLum/circle.png);\r\n    background-attachment: fixed;\r\n    background-position:center center;\r\n    background-size: 250px 250px;\r\n    background-repeat:no-repeat;\r\n    height: 250px;\r\n    width:250px;\r\n    padding: 0;\r\n    left:50%;\r\n    top:50%;\r\n    margin: 0;\r\n   cursor:pointer;\r\n      overflow: hidden;\r\n      border-radius: 50%;\r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;div id=\"BG\"&gt;\r\n    &lt;div class=\"circle\"&gt;\r\n    &lt;div class=\"overlay\"&gt;\r\n    &lt;a href=\"www.google.com\"&gt;&lt;div class=\"treasure\"&gt;&lt;/div&gt;&lt;/a&gt;\r\n    &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n\n</code></pre>\n"}, {"tags": ["javascript", "asynchronous", "promise"], "comments": [{"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1490220109, "post_id": 42963412, "comment_id": 73021002, "body": "arrayofpromises"}, {"owner": {"reputation": 17692, "user_id": 867294, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fcb041f273e31f7f8b4f635fba685060?s=128&d=identicon&r=PG", "display_name": "Willem D&#39;Haeseleer", "link": "https://stackoverflow.com/users/867294/willem-dhaeseleer"}, "edited": false, "score": 0, "creation_date": 1490220362, "post_id": 42963412, "comment_id": 73021104, "body": "Message to the down voter: please substantiate why you would down vote this great question ?"}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1490225866, "post_id": 42963412, "comment_id": 73023317, "body": "Are you sure that you don&#39;t want to call <code>next</code> at all when the <code>array</code> is empty?"}], "answers": [{"comments": [{"owner": {"reputation": 1628, "user_id": 791686, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0eb28f4929512841fb7de2494a85aef8?s=128&d=identicon&r=PG", "display_name": "mrBorna", "link": "https://stackoverflow.com/users/791686/mrborna"}, "reply_to_user": {"reputation": 17692, "user_id": 867294, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fcb041f273e31f7f8b4f635fba685060?s=128&d=identicon&r=PG", "display_name": "Willem D&#39;Haeseleer", "link": "https://stackoverflow.com/users/867294/willem-dhaeseleer"}, "edited": false, "score": 0, "creation_date": 1490636901, "post_id": 42963479, "comment_id": 73190688, "body": "Great. Upvoted. :) @WillemD&#39;Haeseleer if you&#39;ve ever worked with other programmers, you&#39;ll know why it&#39;s unreadable. Just because you can fit everything on one line doesn&#39;t mean you should!"}, {"owner": {"reputation": 17692, "user_id": 867294, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fcb041f273e31f7f8b4f635fba685060?s=128&d=identicon&r=PG", "display_name": "Willem D&#39;Haeseleer", "link": "https://stackoverflow.com/users/867294/willem-dhaeseleer"}, "reply_to_user": {"reputation": 1628, "user_id": 791686, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0eb28f4929512841fb7de2494a85aef8?s=128&d=identicon&r=PG", "display_name": "mrBorna", "link": "https://stackoverflow.com/users/791686/mrborna"}, "edited": false, "score": 0, "creation_date": 1490640430, "post_id": 42963479, "comment_id": 73192809, "body": "@mrBorna if you ever worked with functional programming, you&#39;ll know why chaining methods isn&#39;t all that bad"}], "tags": [], "owner": {"reputation": 9937, "user_id": 2130365, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/DDYvz.png?s=128&g=1", "display_name": "SimpleJ", "link": "https://stackoverflow.com/users/2130365/simplej"}, "is_accepted": false, "score": 5, "last_activity_date": 1490221510, "last_edit_date": 1490221510, "creation_date": 1490220133, "answer_id": 42963479, "question_id": 42963412, "link": "https://stackoverflow.com/questions/42963412/how-can-i-turn-my-javascript-callback-flow-into-a-promise/42963479#42963479", "title": "How can I turn my javascript callback flow into a Promise?", "body": "<p>You could use <code>Promise.all</code> and <code>Array#map</code>:</p>\n\n<pre><code>function getMentionedUsers(str) {\n  return Promise.all(getUsernamesFromString(str).map((username) =&gt; {\n    return getUserByUsername(username).then((model) =&gt; model.key);\n  }));\n}\n</code></pre>\n\n<p>A more readable version broken into two functions:</p>\n\n<pre><code>function getUserKeyByUsername(username) {\n  return getUserByUsername(username).then((user) =&gt; user.key);\n}\n\nfunction getMentionedUsers(str) {\n  const promises = getUsernamesFromString(str).map(getUserKeyByUsername);\n  return Promise.all(promises);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17692, "user_id": 867294, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fcb041f273e31f7f8b4f635fba685060?s=128&d=identicon&r=PG", "display_name": "Willem D&#39;Haeseleer", "link": "https://stackoverflow.com/users/867294/willem-dhaeseleer"}, "is_accepted": false, "score": 1, "last_activity_date": 1490226728, "last_edit_date": 1490226728, "creation_date": 1490220202, "answer_id": 42963501, "question_id": 42963412, "link": "https://stackoverflow.com/questions/42963412/how-can-i-turn-my-javascript-callback-flow-into-a-promise/42963501#42963501", "title": "How can I turn my javascript callback flow into a Promise?", "body": "<p>Use <code>Promise.all</code>.</p>\n\n<pre><code>const getMentionedUsers = str =&gt;\n        Promise.all(\n            getUsernamesFromString(str).map(\n                username =&gt; getUserByUsername(username)\n                    .then(model =&gt; model.key)\n            )\n        );\n</code></pre>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all</a></p>\n"}, {"comments": [{"owner": {"reputation": 17692, "user_id": 867294, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fcb041f273e31f7f8b4f635fba685060?s=128&d=identicon&r=PG", "display_name": "Willem D&#39;Haeseleer", "link": "https://stackoverflow.com/users/867294/willem-dhaeseleer"}, "edited": false, "score": 1, "creation_date": 1490221093, "post_id": 42963613, "comment_id": 73021382, "body": "I would not recommend this. When using callbacks with this code any errors that might occur when getting the user will be completely ignored.  You are essentially getting the worst of both worlds really. I would recommend to only use promises. Or at the very least use standard callbacks if you must use callbacks."}, {"owner": {"reputation": 18469, "user_id": 264794, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/544a9bda68e318eea03a8ecb886ca458?s=128&d=identicon&r=PG", "display_name": "Ryan Wheale", "link": "https://stackoverflow.com/users/264794/ryan-wheale"}, "reply_to_user": {"reputation": 17692, "user_id": 867294, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fcb041f273e31f7f8b4f635fba685060?s=128&d=identicon&r=PG", "display_name": "Willem D&#39;Haeseleer", "link": "https://stackoverflow.com/users/867294/willem-dhaeseleer"}, "edited": false, "score": 0, "creation_date": 1490221453, "post_id": 42963613, "comment_id": 73021552, "body": "@WillemD&#39;Haeseleer - I added the <code>catch</code> code so errors are not lost. Thanks for pointing that out. His original code swallowed errors too... just sayin&#39;.  As far as choosing one over the other, there are libraries which do this and it&#39;s a useful feature. Also, by supporting both he doesn&#39;t have to rewrite all the code which calls this function. If this is part of open source code, he wouldn&#39;t have to use a major release just to get the new &quot;promise&quot; feature out."}, {"owner": {"reputation": 17692, "user_id": 867294, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fcb041f273e31f7f8b4f635fba685060?s=128&d=identicon&r=PG", "display_name": "Willem D&#39;Haeseleer", "link": "https://stackoverflow.com/users/867294/willem-dhaeseleer"}, "edited": false, "score": 0, "creation_date": 1490222441, "post_id": 42963613, "comment_id": 73022012, "body": "You are still using non standard callbacks with makes it impossible to deal with error propagation. The fact that the original code was already broken is not a good reason to not fix it."}, {"owner": {"reputation": 18469, "user_id": 264794, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/544a9bda68e318eea03a8ecb886ca458?s=128&d=identicon&r=PG", "display_name": "Ryan Wheale", "link": "https://stackoverflow.com/users/264794/ryan-wheale"}, "reply_to_user": {"reputation": 17692, "user_id": 867294, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fcb041f273e31f7f8b4f635fba685060?s=128&d=identicon&r=PG", "display_name": "Willem D&#39;Haeseleer", "link": "https://stackoverflow.com/users/867294/willem-dhaeseleer"}, "edited": false, "score": 0, "creation_date": 1490223022, "post_id": 42963613, "comment_id": 73022264, "body": "That&#39;s a separate issue though, he asked how to convert his function to promise based. His original code was broken in that sense, not my answer. I was just showing him how he could do both - which is really useful and is used by libs like Mongoose."}, {"owner": {"reputation": 17692, "user_id": 867294, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fcb041f273e31f7f8b4f635fba685060?s=128&d=identicon&r=PG", "display_name": "Willem D&#39;Haeseleer", "link": "https://stackoverflow.com/users/867294/willem-dhaeseleer"}, "edited": false, "score": 0, "creation_date": 1490223492, "post_id": 42963613, "comment_id": 73022457, "body": "I&#39;m gonna have to strongly disagree, pointing out the issues in OP&#39;s code is the whole point why OP posted in the first place. He has working code already and specifically asked how this could be done better due to his inexperience in the domain."}, {"owner": {"reputation": 18469, "user_id": 264794, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/544a9bda68e318eea03a8ecb886ca458?s=128&d=identicon&r=PG", "display_name": "Ryan Wheale", "link": "https://stackoverflow.com/users/264794/ryan-wheale"}, "reply_to_user": {"reputation": 17692, "user_id": 867294, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fcb041f273e31f7f8b4f635fba685060?s=128&d=identicon&r=PG", "display_name": "Willem D&#39;Haeseleer", "link": "https://stackoverflow.com/users/867294/willem-dhaeseleer"}, "edited": false, "score": 0, "creation_date": 1490223641, "post_id": 42963613, "comment_id": 73022525, "body": "The OP posted for this: <code>&quot;I&#39;d like to turn getMentionedUsers into a promise. How can I do that?&quot;</code> - but you seem pretty intent on this whole misuse of callbacks thing, so I updated my answer."}], "tags": [], "owner": {"reputation": 18469, "user_id": 264794, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/544a9bda68e318eea03a8ecb886ca458?s=128&d=identicon&r=PG", "display_name": "Ryan Wheale", "link": "https://stackoverflow.com/users/264794/ryan-wheale"}, "is_accepted": false, "score": 0, "last_activity_date": 1490224046, "last_edit_date": 1490224046, "creation_date": 1490220672, "answer_id": 42963613, "question_id": 42963412, "link": "https://stackoverflow.com/questions/42963412/how-can-i-turn-my-javascript-callback-flow-into-a-promise/42963613#42963613", "title": "How can I turn my javascript callback flow into a Promise?", "body": "<p>You can have the best of both. If you pass a <code>next</code> function, it will get called with the results. If not, your method will return a promise.</p>\n\n<pre><code>function getMentionedUsers(str, next){\n    var array = getUsernamesFromString(str); //['john','alex','jess'];\n    var promise = Promise.resolve([]); // default \n    var hasNext = typeof next === 'function';\n    if(array.length &gt; 0){\n        promise = Promise.all(array.map(function(username){\n            return getUserByUsername(username); \n        }));\n    }\n    promise = promise.then(models =&gt; {\n        var users = models.map(model =&gt; model.key);\n        if (hasNext) next(null, users);\n        return users;\n    });\n    if (hasNext) promise.catch(next);\n    else return promise;\n};\n</code></pre>\n\n<p><strong>UPDATE:</strong> Though not part of your original question, this is still a good point and worth pointing out. Your existing code is using a non-standard callback technique. The standard callback technique expects an error as the first parameter and results as a second parameter:</p>\n\n<pre><code>next(new Error(...)); //-&gt; when something fails\nnext(null, results); //-&gt; when something succeeds\n</code></pre>\n\n<p>As such, I have updated my code to show the \"standard\" callback behavior alongside promises. Using the hybrid approach above allows for existing code to stay in place while allowing new code to use the new Promise technique. This would be considered a \"non-breaking change\".</p>\n"}, {"comments": [{"owner": {"reputation": 214832, "user_id": 179736, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e77327f7ef0c6213525de4dcea19b200?s=128&d=identicon&r=PG", "display_name": "TIMEX", "link": "https://stackoverflow.com/users/179736/timex"}, "edited": false, "score": 0, "creation_date": 1490221218, "post_id": 42963642, "comment_id": 73021448, "body": "How do I get an array of user keys at the end?"}, {"owner": {"reputation": 17692, "user_id": 867294, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fcb041f273e31f7f8b4f635fba685060?s=128&d=identicon&r=PG", "display_name": "Willem D&#39;Haeseleer", "link": "https://stackoverflow.com/users/867294/willem-dhaeseleer"}, "edited": false, "score": 0, "creation_date": 1490221287, "post_id": 42963642, "comment_id": 73021482, "body": "This answer is a little over elaborative, also the code snippet doesn&#39;t seem to do anything."}, {"owner": {"reputation": 1628, "user_id": 791686, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0eb28f4929512841fb7de2494a85aef8?s=128&d=identicon&r=PG", "display_name": "mrBorna", "link": "https://stackoverflow.com/users/791686/mrborna"}, "reply_to_user": {"reputation": 214832, "user_id": 179736, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e77327f7ef0c6213525de4dcea19b200?s=128&d=identicon&r=PG", "display_name": "TIMEX", "link": "https://stackoverflow.com/users/179736/timex"}, "edited": false, "score": 0, "creation_date": 1490637296, "post_id": 42963642, "comment_id": 73190925, "body": "@TIMEX updated it to wait for the promise at the end. It will return a list of users which you can map to the ID&#39;s if you want"}], "tags": [], "owner": {"reputation": 1628, "user_id": 791686, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0eb28f4929512841fb7de2494a85aef8?s=128&d=identicon&r=PG", "display_name": "mrBorna", "link": "https://stackoverflow.com/users/791686/mrborna"}, "is_accepted": false, "score": -1, "last_activity_date": 1490637228, "last_edit_date": 1490637228, "creation_date": 1490220790, "answer_id": 42963642, "question_id": 42963412, "link": "https://stackoverflow.com/questions/42963412/how-can-i-turn-my-javascript-callback-flow-into-a-promise/42963642#42963642", "title": "How can I turn my javascript callback flow into a Promise?", "body": "<p>using native ES6 promises, written in a functional style:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Returns array of usernames\r\nfunction getUsernamesFromString(str = '') {\r\n  return str.split(',').map(s =&gt; s.trim())\r\n}\r\n\r\n// returns promise of user\r\nfunction getUserByUserName(username) {\r\n  // Lets say this is a slow async function and returns a promise\r\n  return Promise.resolve({\r\n    id: (Math.random() * 10 ** 10).toFixed(0),\r\n    username\r\n  });\r\n}\r\n\r\nfunction getMentionedUsers(str) {\r\n  return Promise.all(\r\n    getUsernamesFromString(str).map(getUserByUserName)\r\n  );\r\n}\r\n\r\ngetMentionedUsers('kai, ava, mia, nova').then(console.log.bind(console))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>However, there are also libraries like <a href=\"http://bluebirdjs.com\" rel=\"nofollow noreferrer\">bluebird</a> that can promisify objects and functions automatically as long as the follow the NODE convention of <code>(err, result)</code> as the callback arguments.</p>\n\n<p>You can also just return a <code>new Promise((resolve, reject) =&gt; { /* all your code */ })</code> and just call <code>resolve(dataToResolveWith)</code> if it succeeds and <code>reject(new Error())</code> if it fails, but you rarely have to do that and in fact, it's an anti-pattern.</p>\n"}], "owner": {"reputation": 214832, "user_id": 179736, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e77327f7ef0c6213525de4dcea19b200?s=128&d=identicon&r=PG", "display_name": "TIMEX", "link": "https://stackoverflow.com/users/179736/timex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 1, "answer_count": 4, "score": 3, "last_activity_date": 1490637228, "creation_date": 1490219882, "question_id": 42963412, "link": "https://stackoverflow.com/questions/42963412/how-can-i-turn-my-javascript-callback-flow-into-a-promise", "title": "How can I turn my javascript callback flow into a Promise?", "body": "<pre><code>function getMentionedUsers(str, next){\n    var array = getUsernamesFromString(str); //['john','alex','jess'];\n    if(array.length &gt; 0){\n        var users = [];\n        var pending = array.length;\n        array.forEach(function(username){\n            getUserByUsername(username).then(function(model){\n                users.push(model.key);\n                --pending || next(users); //this is a callback model\n            }); \n        });\n    }\n};\n\nfunction getUserByUsername(username){\n    return admin.database().ref('/users').orderByChild('username').equalTo(username).once('value').then(function(snapshot) {\n        return snapshot.val(); //this is the firebase example of a promise\n    });\n};\n</code></pre>\n\n<p>Right now, I'm doing this:</p>\n\n<pre><code>    getMentionedUsers(model.body, function(users){\n        console.log(\"Mentions\", users);\n    });\n</code></pre>\n\n<p>However, I'd like to turn <code>getMentionedUsers</code> into a promise.  How can I do that? I'm new to Promises</p>\n"}, {"tags": ["javascript", "vue.js", "vuejs2", "vue-router"], "comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1490220429, "post_id": 42963409, "comment_id": 73021125, "body": "Do you have the <a href=\"https://router.vuejs.org/en/essentials/history-mode.html\" rel=\"nofollow noreferrer\">required server-side URL rewrites</a> in place? If so, what does the configuration look like?"}, {"owner": {"reputation": 4984, "user_id": 1695318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc46279a48fb05f333fd00d00c6d4513?s=128&d=identicon&r=PG", "display_name": "iamjpg", "link": "https://stackoverflow.com/users/1695318/iamjpg"}, "edited": false, "score": 0, "creation_date": 1490220881, "post_id": 42963409, "comment_id": 73021291, "body": "This sounds like a pushstate/history issue, although I could be wrong. Is this happening in development or production? Check the docs here for help: <a href=\"http://router.vuejs.org/en/essentials/history-mode.html\" rel=\"nofollow noreferrer\">router.vuejs.org/en/essentials/history-mode.html</a>"}, {"owner": {"reputation": 4103, "user_id": 221244, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b6e362446a6a1a88f2f596fb1a108bb1?s=128&d=identicon&r=PG", "display_name": "alexarsh", "link": "https://stackoverflow.com/users/221244/alexarsh"}, "edited": false, "score": 0, "creation_date": 1490255349, "post_id": 42963409, "comment_id": 73032650, "body": "Thanks guys. The problem happens locally so there is no apache/nginx.... Also tried to remove &quot;mode:&#39;history&#39;&quot; and I see the same problem. Any other ideas?"}, {"owner": {"reputation": 4103, "user_id": 221244, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b6e362446a6a1a88f2f596fb1a108bb1?s=128&d=identicon&r=PG", "display_name": "alexarsh", "link": "https://stackoverflow.com/users/221244/alexarsh"}, "edited": false, "score": 2, "creation_date": 1490256986, "post_id": 42963409, "comment_id": 73033492, "body": "Ok. Found the problem. Inside the component I tried to access store data during the template render and it happened before i got the data from my ajax request to the server. Stupid me, but thanks for the help anyway!"}], "owner": {"reputation": 4103, "user_id": 221244, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b6e362446a6a1a88f2f596fb1a108bb1?s=128&d=identicon&r=PG", "display_name": "alexarsh", "link": "https://stackoverflow.com/users/221244/alexarsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2205, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1490219866, "creation_date": 1490219866, "question_id": 42963409, "link": "https://stackoverflow.com/questions/42963409/why-vue-app-is-not-mounted-on-refresh", "title": "Why Vue app is not mounted on refresh?", "body": "<p>I have Vuejs SPA app with the following code:</p>\n\n<pre><code>...\nimport Rides from './components/rides'\nimport RideInfo from './components/ride_info'\n...\n\n//Defining router\nconst router = new VueRouter({\n    mode: 'history',\n    routes: [\n        { path: '/rides/:car', component: Rides, name: 'rides' },\n        { path: '/ride_info/:ride_index', component: RideInfo, name: 'ride_info' }\n    ]\n});\n\n//Defining vuex store\nconst store = new Vuex.Store({\n    state: {\n        isLoggedIn: !!localStorage.getItem(\"token\"),\n        data: {}\n    },\n    mutations: {\n        login (state) {\n            state.isLoggedIn = true;\n        },\n        logout (state) {\n            state.isLoggedIn = false;\n        },\n        set_initial_data(state, data) {\n            state.data = data;\n        }\n    },\n    actions: {\n        login({ commit }, token) {\n            localStorage.setItem(\"token\", token);\n            commit(\"login\");\n        },\n        logout({ commit }) {\n            localStorage.removeItem(\"token\");\n            commit(\"logout\");\n        },\n        set_initial_data({commit}, data) {\n            commit(\"set_initial_data\", data);\n        }\n    },\n    getters: {\n        isLoggedIn: state =&gt; {\n            return state.isLoggedIn\n        },\n        data: state =&gt; {\n            return state.data\n        }\n    }\n});\n\n//Starting the app\nconst app = new Vue({\n    router,\n    store,\n    mounted: function() {\n        console.log(\"app mounted\");\n        var that = this;\n        $.get(\"/initial_data/\", {}, function(data) {\n            that.$store.dispatch('set_initial_data', data);\n        });\n    }\n}).$mount('#app');\n</code></pre>\n\n<p>When I go to <a href=\"http://localhost:8000/rides/123\" rel=\"nofollow noreferrer\">http://localhost:8000/rides/123</a> and refresh, I get into the mounted function and get the initial data as I should. </p>\n\n<p>When I go to <a href=\"http://localhost:8000/ride_info/123\" rel=\"nofollow noreferrer\">http://localhost:8000/ride_info/123</a> and refresh I don't get into the mounted function and not bringing the data.</p>\n\n<p>Any idea why this is happening and how can I make the app go to mounted function on every refresh regardless of url?</p>\n"}, {"tags": ["javascript", "angularjs"], "comments": [{"owner": {"reputation": 405, "user_id": 3765393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vd4Nw.jpg?s=128&g=1", "display_name": "Dominik Krzywiecki", "link": "https://stackoverflow.com/users/3765393/dominik-krzywiecki"}, "edited": false, "score": 2, "creation_date": 1490219965, "post_id": 42963390, "comment_id": 73020944, "body": "Did you try call <code>$scope.$apply()</code> after change image source?"}], "answers": [{"tags": [], "owner": {"reputation": 11460, "user_id": 1437934, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/dwjZm.png?s=128&g=1", "display_name": "Gonzalo.-", "link": "https://stackoverflow.com/users/1437934/gonzalo"}, "is_accepted": true, "score": 4, "last_activity_date": 1490219983, "creation_date": 1490219983, "answer_id": 42963436, "question_id": 42963390, "link": "https://stackoverflow.com/questions/42963390/angularjs-scope-does-not-notice-change/42963436#42963436", "title": "AngularJS scope does not notice change", "body": "<p>if it is a thirdy party library that is updating your <code>$scope</code>, to let angular context to be aware of your change you need to call <code>$scope.$apply()</code></p>\n\n<pre><code>$scope.$apply(function() {\n    $scope.imageDataUrl = imageDataUrl;\n});\n</code></pre>\n\n<p>in your callback</p>\n\n<p>See <a href=\"https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$apply\" rel=\"nofollow noreferrer\">docs</a></p>\n\n<blockquote>\n  <p><code>$apply()</code> is used to execute an expression in AngularJS from outside of\n  the AngularJS framework. (For example from browser DOM events,\n  setTimeout, XHR or third party libraries). Because we are calling into\n  the AngularJS framework we need to perform proper scope life cycle of\n  exception handling, executing watches.</p>\n</blockquote>\n"}], "owner": {"reputation": 1929, "user_id": 4070724, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/77b685bc319db59059a384dc38d0521a?s=128&d=identicon&r=PG&f=1", "display_name": "Palmi", "link": "https://stackoverflow.com/users/4070724/palmi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "closed_date": 1490220265, "accepted_answer_id": 42963436, "answer_count": 1, "score": 0, "last_activity_date": 1490219983, "creation_date": 1490219754, "question_id": 42963390, "link": "https://stackoverflow.com/questions/42963390/angularjs-scope-does-not-notice-change", "closed_reason": "Duplicate", "title": "AngularJS scope does not notice change", "body": "<p>I have a <code>$scope</code> field that I use for a <code>ng-src</code> attribute in an <code>&lt;img&gt;:</code></p>\n\n<pre><code>$scope.imageDataUrl\n</code></pre>\n\n<p>The field is initialized as follows:</p>\n\n<pre><code>$scope.myJsWrapper = new MyJsWrapper();\n$scope.myJsWrapper.getImageUrl(function (imageDataUrl) {\n    $scope.imageDataUrl = imageDataUrl;\n});\n</code></pre>\n\n<p>Here the external JS function:</p>\n\n<pre><code>function MyJsWrapper() {\n    this.getImageUrl = function (withImage) {\n        thirdPartyJsFile.getData().then(function (data) {\n            var imageDataUrl = thirdPartyJsFile.getDataUrl(data, \"image/png\");\n            if (withImage) {\n                withImage(imageDataUrl);\n            }\n         });\n    }\n}\n</code></pre>\n\n<p>It is a complicated way, but the third party app forces me to do it that way.\nThe problem I have is that somehow angular does not notice the change of the field <code>imageDataUrl</code>. So the image is not updated.\nI tried even <code>$scope.$watch</code> for that field but it wasn't triggered.\nFunny enough it changes when I scroll in the browser or click anywhere (as well the <code>$scope.$watch</code>).</p>\n\n<p>Why does angular not recognize the field change and what do I need to do so it works?</p>\n"}, {"tags": ["javascript", "jquery", "api", "weather", "city"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7753207, "user_type": "registered", "profile_image": "https://graph.facebook.com/767292006759238/picture?type=large", "display_name": "Aaron Peck", "link": "https://stackoverflow.com/users/7753207/aaron-peck"}, "edited": false, "score": 0, "creation_date": 1490223007, "post_id": 42964009, "comment_id": 73022258, "body": "I&#39;ll try this way as well! Thanks dude."}, {"owner": {"reputation": 2971, "user_id": 5561773, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ssUz7.jpg?s=128&g=1", "display_name": "Clement", "link": "https://stackoverflow.com/users/5561773/clement"}, "reply_to_user": {"reputation": 11, "user_id": 7753207, "user_type": "registered", "profile_image": "https://graph.facebook.com/767292006759238/picture?type=large", "display_name": "Aaron Peck", "link": "https://stackoverflow.com/users/7753207/aaron-peck"}, "edited": false, "score": 0, "creation_date": 1490223050, "post_id": 42964009, "comment_id": 73022275, "body": "Np. Good luck with your projects!"}, {"owner": {"reputation": 11, "user_id": 7753207, "user_type": "registered", "profile_image": "https://graph.facebook.com/767292006759238/picture?type=large", "display_name": "Aaron Peck", "link": "https://stackoverflow.com/users/7753207/aaron-peck"}, "edited": false, "score": 0, "creation_date": 1490223411, "post_id": 42964009, "comment_id": 73022419, "body": "The issue is I don&#39;t want to only display the coordinates, but the actual city of the coordinates. Suggestions?"}, {"owner": {"reputation": 2971, "user_id": 5561773, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ssUz7.jpg?s=128&g=1", "display_name": "Clement", "link": "https://stackoverflow.com/users/5561773/clement"}, "reply_to_user": {"reputation": 11, "user_id": 7753207, "user_type": "registered", "profile_image": "https://graph.facebook.com/767292006759238/picture?type=large", "display_name": "Aaron Peck", "link": "https://stackoverflow.com/users/7753207/aaron-peck"}, "edited": false, "score": 0, "creation_date": 1490224653, "post_id": 42964009, "comment_id": 73022919, "body": "If you found it helpful could you please mark it as the answer and upvote? Would really appreciate it :)"}], "tags": [], "owner": {"reputation": 2971, "user_id": 5561773, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ssUz7.jpg?s=128&g=1", "display_name": "Clement", "link": "https://stackoverflow.com/users/5561773/clement"}, "is_accepted": false, "score": 5, "last_activity_date": 1490381467, "last_edit_date": 1490381467, "creation_date": 1490222580, "answer_id": 42964009, "question_id": 42963323, "link": "https://stackoverflow.com/questions/42963323/how-do-you-use-javascript-to-get-the-current-city-the-user-is-in-and-display-it/42964009#42964009", "title": "How do you use JavaScript to get the current city the user is in and display it in a &lt;h2&gt;?", "body": "<p>To elaborate on my previous answer, a cleaner and more vanilla JavaScript way to get the coordinates is like so. </p>\n\n<p>This is just a few short lines longer and the benefits are massive:</p>\n\n<ol>\n<li>Don't have to include jQuery library, which is massive and slows down page load times</li>\n<li><strong>This means you won't have to rely on a HEAVY EXTERNAL API to make AJAX calls for the same data (and other useless API-specific info e.g. requestID) and will seriously streamline your application</strong>.</li>\n<li>Avoids the use of many callbacks and thus avoids callback hell.</li>\n</ol>\n\n<p>See image below for results. Super lightweight and fast. For more detailed information, have a look at <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Geolocation/Using_geolocation\" rel=\"noreferrer\">MDN - Using Geolocation</a>.</p>\n\n<pre><code>if (\"geolocation\" in navigator) {\n    // Do something with coordinates returned\n    function processCoords(position) {\n        let latitude = position.coords.latitude;\n        let longitude = position.coords.longitude;\n        let first_div = document.querySelector('div');\n        let el_h2 = document.createElement('h2');\n\n        // Set h2 text as coordinates\n        el_h2.innerText = `Latitude: ${latitude}, Longitude: ${longitude}`;\n\n        // Append h2 to document\n        first_div.appendChild(el_h2);\n    }\n\n    // Fetch Coordinates\n    navigator.geolocation.getCurrentPosition(processCoords);\n}\n</code></pre>\n\n<p><strong>To get the City:</strong></p>\n\n<blockquote>\n  <p>It's usually best practice to store the coordinates only in your db\n  and then make separate city requests when required. This makes things\n  easier when you want to implement say a Map View on Mobile or Desktop,\n  which all use coordinates rather than names for plots.</p>\n</blockquote>\n\n<p>You can use the Google Maps API and passing in the LatLong data directly. Someone has created a gist on how to do it <a href=\"https://gist.github.com/AmirHossein/92a0597b5f723b19c648\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Benefit of using GMaps instead of Geo-IP:</p>\n\n<ol>\n<li>Google Maps API is heavily, heavily, heavily optimised. From faster\nservers to better-written code. You can also import a specific part\nof the GMaps API so you can cut down on your source code size. All\nof this adds up to a much faster experience.</li>\n<li>GMaps can be assumed to be around for longer than a 3rd party site like Geo-Ip.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/c6Tkh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/c6Tkh.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 11, "user_id": 7753207, "user_type": "registered", "profile_image": "https://graph.facebook.com/767292006759238/picture?type=large", "display_name": "Aaron Peck", "link": "https://stackoverflow.com/users/7753207/aaron-peck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6906, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490381467, "creation_date": 1490219480, "last_edit_date": 1490222925, "question_id": 42963323, "link": "https://stackoverflow.com/questions/42963323/how-do-you-use-javascript-to-get-the-current-city-the-user-is-in-and-display-it", "title": "How do you use JavaScript to get the current city the user is in and display it in a &lt;h2&gt;?", "body": "<pre><code>$(document).ready(function(){\n    $(\"#getLocation\").on(\"click\", function(){\n        $.getJSON('https://geoip-db.com/json/geoip.php?jsonp=?') \n        .done (function(location) {\n            $('#city').html(location.city);             \n        });\n    });\n});\n</code></pre>\n\n<p>This is the current JavaScript I've been using, and <a href=\"https://codepen.io/apeck14/pen/rydgRM/?editors=1010\" rel=\"nofollow noreferrer\">here</a> is the link to the CodePen I'm using it for. I'm using the location of the users city to find the weather of that city as well. </p>\n\n<p>I've read on multiple sites about how to use several different API's to get the users city location, but non have worked in my project. Thanks for the help, in advance.</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1490223731, "post_id": 42963276, "comment_id": 73022561, "body": "Your function looks fine, but substring will only work if you&#39;re always wrapping the value in quotes. Regarding the Rails, it&#39;s separate from JavaScript. You may want to open a new question to see what&#39;s going on in your Ruby. I&#39;d need to see more to understand what you&#39;re doing."}, {"owner": {"reputation": 1823, "user_id": 5065860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/faadf161352c9fca88a34c8f05103185?s=128&d=identicon&r=PG&f=1", "display_name": "msmith1114", "link": "https://stackoverflow.com/users/5065860/msmith1114"}, "reply_to_user": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1490223936, "post_id": 42963276, "comment_id": 73022642, "body": "Right, so I guess thats what it&#39;s doing. Since the function DOES work im just unit testing against it. I guess I just didn&#39;t understand why my jsfiddle didn&#39;t work as it&#39;s definitely passing <code>table[data-table-values]</code> through the function. So I didn&#39;t know if it would bring along double quotes or not...and why it didn&#39;t work when I did it. BTW I say rails but these are javascript files within rails Im talking about."}], "answers": [{"comments": [{"owner": {"reputation": 304305, "user_id": 519413, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7839089cd91dc5cc5eb1e0cdbf3312ed?s=128&d=identicon&r=PG", "display_name": "Rory McCrossan", "link": "https://stackoverflow.com/users/519413/rory-mccrossan"}, "edited": false, "score": 0, "creation_date": 1490219519, "post_id": 42963302, "comment_id": 73020729, "body": "Why the downvote? Please let me know if I&#39;ve misunderstood the question."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1490220223, "post_id": 42963302, "comment_id": 73021043, "body": "Did not cast down vote; note neither attribute value at html is JSON"}, {"owner": {"reputation": 304305, "user_id": 519413, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7839089cd91dc5cc5eb1e0cdbf3312ed?s=128&d=identicon&r=PG", "display_name": "Rory McCrossan", "link": "https://stackoverflow.com/users/519413/rory-mccrossan"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1490220338, "post_id": 42963302, "comment_id": 73021089, "body": "@guest271314 you&#39;re correct that the first one isn&#39;t as that is what the OP was originally using. My second example is, it&#39;s just HTML encoded so that the <code>&quot;</code> it contains does not interfere with the HTML attributes."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1490220493, "post_id": 42963302, "comment_id": 73021151, "body": "Use &#39;&#39; following = surrounding value to use &quot;&quot; within attribute value. Also two identifiers at data-*  camel cased at get"}, {"owner": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "edited": false, "score": 0, "creation_date": 1490220495, "post_id": 42963302, "comment_id": 73021153, "body": "I like the answer myself as it shows how an alternative works and provides insight."}, {"owner": {"reputation": 304305, "user_id": 519413, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7839089cd91dc5cc5eb1e0cdbf3312ed?s=128&d=identicon&r=PG", "display_name": "Rory McCrossan", "link": "https://stackoverflow.com/users/519413/rory-mccrossan"}, "edited": false, "score": 0, "creation_date": 1490220555, "post_id": 42963302, "comment_id": 73021171, "body": "<code>Also two identifiers at data-* camel cased at get</code> I have no idea what that&#39;s supposed to mean."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1490220680, "post_id": 42963302, "comment_id": 73021208, "body": "Not at computer where can easily pull links. Believe spec camel cases data-table-value at get of .dataset to tableValue"}, {"owner": {"reputation": 304305, "user_id": 519413, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7839089cd91dc5cc5eb1e0cdbf3312ed?s=128&d=identicon&r=PG", "display_name": "Rory McCrossan", "link": "https://stackoverflow.com/users/519413/rory-mccrossan"}, "edited": false, "score": 0, "creation_date": 1490220711, "post_id": 42963302, "comment_id": 73021223, "body": "That&#39;s true, but irrelevant in this case."}, {"owner": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "edited": false, "score": 0, "creation_date": 1490220744, "post_id": 42963302, "comment_id": 73021237, "body": "<code>console.log(test.data(&#39;table-values&#39;)); console.log(test.data(&#39;tableValues&#39;));</code>  :) two of the same I find the camel case less &quot;like&quot; the original and thus use it less myself."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1490220802, "post_id": 42963302, "comment_id": 73021259, "body": "No not irrelevant from perspective here. The spec should be followed before jQuery .data() function. Primarily JSON reference should be valid JSON value=&#39;{&quot;abc&quot;:&quot;123&quot;}&#39;"}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1490221277, "post_id": 42963302, "comment_id": 73021476, "body": "JSON.parse() can then be called with element.dataset.tableValue as parameter"}, {"owner": {"reputation": 1823, "user_id": 5065860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/faadf161352c9fca88a34c8f05103185?s=128&d=identicon&r=PG&f=1", "display_name": "msmith1114", "link": "https://stackoverflow.com/users/5065860/msmith1114"}, "edited": false, "score": 0, "creation_date": 1490223086, "post_id": 42963302, "comment_id": 73022294, "body": "I didn&#39;t downvote, I have also provided an edit to the question that explains what is actually going on."}], "tags": [], "owner": {"reputation": 304305, "user_id": 519413, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7839089cd91dc5cc5eb1e0cdbf3312ed?s=128&d=identicon&r=PG", "display_name": "Rory McCrossan", "link": "https://stackoverflow.com/users/519413/rory-mccrossan"}, "is_accepted": false, "score": 2, "last_activity_date": 1490219369, "creation_date": 1490219369, "answer_id": 42963302, "question_id": 42963276, "link": "https://stackoverflow.com/questions/42963276/jquery-data-returning-undefined-on-css-selector/42963302#42963302", "title": "Jquery data() returning undefined on CSS selector", "body": "<p>The issue is because you need to provide the attribute name, minus the <code>data-</code> prefix, to the <code>data()</code> method, not the element selector. Try this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var $test = $('#test');\r\nconsole.log($test.data('table-values'));</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;table id=\"test\" data-table-values=\"'{'header': ['value1', 'value2']}'\"&gt;&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Also note that if you provide the attribute as HTML encoded JSON then jQuery will automatically deserialise it for you so that you can immediately work with the object's properties:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var $test = $('#test');\r\nvar obj = $test.data('table-values')\r\nconsole.log(obj);\r\nconsole.log(obj.header[0]);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;table id=\"test\" data-table-values=\"{&amp;quot;header&amp;quot;: [&amp;quot;value1&amp;quot;,&amp;quot;value2&amp;quot;]}\"&gt;&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1490222036, "post_id": 42963510, "comment_id": 73021813, "body": "Why use .replace() where you could use element.dataset.tableValue and JSON.parse()? Valid JSON is mentioned at description though the value of data-* attribute at html at Answer is not valid JSON"}, {"owner": {"reputation": 1823, "user_id": 5065860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/faadf161352c9fca88a34c8f05103185?s=128&d=identicon&r=PG&f=1", "display_name": "msmith1114", "link": "https://stackoverflow.com/users/5065860/msmith1114"}, "edited": false, "score": 0, "creation_date": 1490222409, "post_id": 42963510, "comment_id": 73021997, "body": "This makes sense, I was just going off a function I was unit testing against: (Ill post the function in the edit) if you can comment on why it shouldn&#39;t work/etc..."}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1490222434, "post_id": 42963510, "comment_id": 73022011, "body": "@guest271314 That wouldn&#39;t work, what you&#39;re suggesting is <code>JSON.parse( document.getElementById(&#39;test&#39;).dataset[&#39;tableValues&#39;] );</code>  the value is still malformed JSON (as you noted).  If it was valid, there wouldn&#39;t need to be any <code>replace()</code> above."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1490222813, "post_id": 42963510, "comment_id": 73022188, "body": "No that is not what am suggesting. Correct html and valid JSON within html. Will post Answer when able. There is no reason for either html or JSON to be malformed or invalid"}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1490222817, "post_id": 42963510, "comment_id": 73022191, "body": "I should add that if it was valid JSON in the attribute, then what @guest271314 is suggesting would work, however it also wouldn&#39;t be widely supported across browsers, since it&#39;s a newer property.  Suffice to say IE11+"}, {"owner": {"reputation": 1823, "user_id": 5065860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/faadf161352c9fca88a34c8f05103185?s=128&d=identicon&r=PG&f=1", "display_name": "msmith1114", "link": "https://stackoverflow.com/users/5065860/msmith1114"}, "edited": false, "score": 0, "creation_date": 1490223057, "post_id": 42963510, "comment_id": 73022280, "body": "Posted edit. And the code does work...so I guess im wondering why it works in this case (as in the application code im unit testing against)"}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1490223091, "post_id": 42963510, "comment_id": 73022300, "body": "What do you mean by &quot;wouldn&#39;t be widely supported across browsers&quot;? ie? How is that related to composing valid JSON within html?"}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1490223376, "post_id": 42963510, "comment_id": 73022398, "body": "@guest271314 see here: <a href=\"http://stackoverflow.com/questions/7127896/problem-using-elem-dataset-with-ie-and-jsfiddle\" title=\"problem using elem dataset with ie and jsfiddle\">stackoverflow.com/questions/7127896/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1490223757, "post_id": 42963510, "comment_id": 73022571, "body": "Not sure how link is relevant? Have not used ie in some time though if did use ie at all there would be no viable rationale to use any version less than most recent version"}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1490224485, "post_id": 42963510, "comment_id": 73022856, "body": "@guest271314 that&#39;s a matter of opinion and choice.  Some people don&#39;t have the luxury of dropping support of a certain browsers.  Other people are forced to use certain browsers.  In this case, IE&lt;11 does not allow access of <code>element.dataset</code>, which presents a problem."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1490225871, "post_id": 42963510, "comment_id": 73023320, "body": "Of course support for old browsers can be dropped. It is not a matter of luxury but a matter of consistently updating free browsers"}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1490282440, "post_id": 42963510, "comment_id": 73052350, "body": "<i>&quot;Fixing JSON&quot;</i> JSON at html at Answer is still not valid"}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1490292699, "post_id": 42963510, "comment_id": 73059653, "body": "@guest271314 perhaps I misinterpreted your intentions. My guess is there is a language gap. The &quot;Fixing JSON&quot; section includes a note about inserting valid-JSON. Maybe you want me to update to demonstrate how that would look? That sounds reasonable - thank you."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1490299996, "post_id": 42963510, "comment_id": 73063844, "body": "Unfortunately not currently able to post properly formatted Answer. <a href=\"http://stackoverflow.com/questions/42963276/jquery-data-returning-undefined-on-css-selector/42963510?noredirect=1#comment73021259_42963302\" title=\"jquery data returning undefined on css selector\">stackoverflow.com/questions/42963276/&hellip;</a> has brief example of valid JSON at data-* attribute at html. Use single quotes around value. No intent other than to convey that point. Cannot measure intent, and intent is irrelevant; only actual conduct can be measured. Language is not issue; unless one believes or exhibits posture that their way of communicating is the only valid way to communicate"}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1490301085, "post_id": 42963510, "comment_id": 73064456, "body": "Not sure if link to comment is accurate. Valid JSON should have double quotes surrounding property names, not single quotes data-table-values=&#39;{&quot;header&quot;: [&quot;value1&quot;, &quot;value2&quot;]}&#39; you can then call JSON.parse() with element.dataset.tableValue as parameter"}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1490301904, "post_id": 42963510, "comment_id": 73064899, "body": "You could also use double quotes and escape it. The point being, my answer was why his JS didn&#39;t work. If he&#39;s pulling in the HTML from another site, he has no control over it, except in the client. Your example is just an illustration of properly formatted (valid) JSON. Again, that&#39;s correct, I just didn&#39;t provide an example of that. I&#39;ll update when I&#39;m not on a handheld device."}], "tags": [], "owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "is_accepted": true, "score": 3, "last_activity_date": 1490333012, "last_edit_date": 1495540919, "creation_date": 1490220226, "answer_id": 42963510, "question_id": 42963276, "link": "https://stackoverflow.com/questions/42963276/jquery-data-returning-undefined-on-css-selector/42963510#42963510", "title": "Jquery data() returning undefined on CSS selector", "body": "<h2>Retrieving data-* value</h2>\n\n<p>You refer to the attribute as <code>table[data-table-values]</code>, which is incorrect on two accounts:</p>\n\n<ol>\n<li><code>table[]</code> is not necessary.  I'm not sure why you were using that.  This isn't a selector, this is a property lookup.</li>\n<li><code>data-table-values</code> should be <code>table-values</code>.  Your HTML attribute is called \"data-table-values\", but the <code>.data()</code> lookup does not need that for any of the HTML data-* attributes.  </li>\n</ol>\n\n<p>The end result of both of these is to have <code>.data('table-values')</code> as evidenced in the example at the bottom.</p>\n\n<p>If you wanted to look up the actual attribute value, then you would need to include the <code>data-</code> prefix, because you're searching for that specific HTML attribute; e.g., <code>$test.attr('data-table-values')</code>, but it's against common practice to do this for data-* attributes.</p>\n\n<p>One thing you should note about the <code>.data()</code> method is that, it operates in memory.  It doesn't update your HTML.  If you use any sort of inspector you would see that setting <code>$test.data('foo','bar')</code>, it does not bind a <code>foo</code> attribute to the element, nor modifies the DOM, it manages the value internally to jQuery.</p>\n\n<h3>Fixing JSON</h3>\n\n<p>To use the value as JSON, you need to store it as wellformed JSON, right now you're using single quotes as the encapsulating JSON string delimiter <code>'{'':[]}'</code> and also to delimit the object keys.  You must use double quotes for valid JSON. </p>\n\n<p>In the example below, I trim off your leading and ending single quotes (<code>'</code>) and then replace all the single quotes around the keys with double quotes <code>\"</code>.  I broke this into several lines for clarity, but could be condensed into several lines.</p>\n\n<p><strong><em>Note:</strong> if the JSON is valid and properly stored in the <code>data-*</code> attribute, then the client wouldn't need to do so much work scrubbing it and the code would be much more simpler</em></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var $test = $('#test');\r\nvar str = $test.data('table-values'); // &lt;=== was:\"table[data-table-values]\"\r\nconsole.log('data-* value:', str);\r\n\r\n// format to a valid JSON string\r\nstr = str.replace(/^'+/, ''); // remove leading single quote\r\nstr = str.replace(/'+$/, ''); // remove ending single quote\r\nstr = str.replace(/'/g, '\"'); // use double quotes\r\nconsole.log('Replaced single quotes:', str);\r\n\r\n// make JS object\r\nvar obj = JSON.parse(str);\r\nconsole.log('obj:', obj);\r\nconsole.log('obj.header[1]:', obj.header[1]);\r\n\r\n// make JSON string\r\nconsole.log('JSON:', JSON.stringify(obj));</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;table id=\"test\" data-table-values=\"'{'header': ['value1', 'value2']}'\"&gt;&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<h1>Better HTML</h1>\n\n<p>Here is an example per <a href=\"https://stackoverflow.com/users/2801559/guest271314\">@guest271314</a>'s suggestion, which demonstrates having well-formed JSON in your HTML.</p>\n\n<p>Notice there are far fewer lines (only one required to get the JSON object).  Provided is the jQuery and the ES6 equivalent:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// jQuery\r\nvar obj = $('#test').data('table-values');\r\nconsole.log('obj:', obj);\r\nconsole.log('obj.header[1]:', obj.header[1]);\r\nconsole.log('JSON.stringify(obj):', JSON.stringify(obj));\r\n\r\n// ES6\r\nvar obj2 = JSON.parse(document.querySelector('#test').dataset['tableValues']);\r\nconsole.log('obj2:', obj2);\r\nconsole.log('obj2.header[1]:', obj2.header[1]);\r\nconsole.log('JSON.stringify(obj2):', JSON.stringify(obj2));</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;table id=\"test\" data-table-values='{\"header\": [\"value1\", \"value2\"]}'&gt;&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1823, "user_id": 5065860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/faadf161352c9fca88a34c8f05103185?s=128&d=identicon&r=PG&f=1", "display_name": "msmith1114", "link": "https://stackoverflow.com/users/5065860/msmith1114"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 42963510, "answer_count": 2, "score": 0, "last_activity_date": 1490333012, "creation_date": 1490219271, "last_edit_date": 1490223497, "question_id": 42963276, "link": "https://stackoverflow.com/questions/42963276/jquery-data-returning-undefined-on-css-selector", "title": "Jquery data() returning undefined on CSS selector", "body": "<p>I was testing out the <code>data()</code> method of jQuery which seems to be very powerful. This is actually for testing out a fixture I'm going to be making for a unit test (that parses out JSON elements by replacing the single quotes with double quotes).</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var test = $('#test');\r\nconsole.log(test.data('table[data-table-values]')); </code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;table id=\"test\" data-table-values=\"'{'header': ['value1', 'value2']}'\"&gt;&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It returns <code>undefined</code>. However from my understanding this should be returning what the selector is, which in this case should be: <code>'{'header': ['value1', 'value2']}'</code></p>\n\n<p>Am I missing something? </p>\n\n<p>edit: For reference I am testing against a function that does this:</p>\n\n<pre><code>function parseStuff(str) {\n  return JSON.parse(\n    str\n      .substring(1, (str.length - 1))\n      .replace(/'/g, '\"')\n  );\n}\n</code></pre>\n\n<p>but the thing is, whats getting passed to is in controller/container (My Rails knowledge is limited so im going on what I can read). but for example some of the code looks like:</p>\n\n<pre><code>&lt;instance of container/controller&gt;.data('tableValues')\n</code></pre>\n\n<p>where 'tableValues is defined as a selector earlier on in the code, and the instance of container/controller is probably the table object itself I'd assume:</p>\n\n<pre><code>tableValues: 'table[data-table-options]' //A bunch more of these selectors are defined\n</code></pre>\n\n<p>So essentially im trying to set up a HTML fixture I can test this against. The HTML I posted was how it appears in chrome dev tools (obviously with a lot more stuff in the table element, but im just focusing on this selector in particular)</p>\n"}, {"tags": ["javascript", "jquery", "asp.net-mvc"], "answers": [{"comments": [{"owner": {"reputation": 677, "user_id": 7545390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nlpak.jpg?s=128&g=1", "display_name": "Lab Lab", "link": "https://stackoverflow.com/users/7545390/lab-lab"}, "edited": false, "score": 0, "creation_date": 1490219581, "post_id": 42963290, "comment_id": 73020768, "body": "You mean put this image element inside the div, and then append this element with already created &lt;img src=&quot;&quot;?"}], "tags": [], "owner": {"reputation": 347, "user_id": 7179818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28e7ffde2341b5675fa6d0100a84874?s=128&d=identicon&r=PG&f=1", "display_name": "Brett Harris", "link": "https://stackoverflow.com/users/7179818/brett-harris"}, "is_accepted": false, "score": 2, "last_activity_date": 1490219318, "creation_date": 1490219318, "answer_id": 42963290, "question_id": 42963213, "link": "https://stackoverflow.com/questions/42963213/how-to-escape-double-image-loading/42963290#42963290", "title": "How to escape double image loading?", "body": "<p>Check if the image exists server side and replace the src before you even send it to the client. </p>\n"}, {"comments": [{"owner": {"reputation": 677, "user_id": 7545390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nlpak.jpg?s=128&g=1", "display_name": "Lab Lab", "link": "https://stackoverflow.com/users/7545390/lab-lab"}, "edited": false, "score": 0, "creation_date": 1490219763, "post_id": 42963311, "comment_id": 73020838, "body": "Thanks! That&#39;s exactly what i&#39;m asked for!"}, {"owner": {"reputation": 4527, "user_id": 541065, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/447f6522620ddb164d15f777e8719bed?s=128&d=identicon&r=PG", "display_name": "Nikolaj Dam Larsen", "link": "https://stackoverflow.com/users/541065/nikolaj-dam-larsen"}, "reply_to_user": {"reputation": 677, "user_id": 7545390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nlpak.jpg?s=128&g=1", "display_name": "Lab Lab", "link": "https://stackoverflow.com/users/7545390/lab-lab"}, "edited": false, "score": 0, "creation_date": 1490220052, "post_id": 42963311, "comment_id": 73020976, "body": "Do note, that some older browsers may still load the placeholder avatar (although it wont show it). Most new browsers though, will most likely use the <code>display: none;</code> to determine that the image should not be loaded initially."}], "tags": [], "owner": {"reputation": 4527, "user_id": 541065, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/447f6522620ddb164d15f777e8719bed?s=128&d=identicon&r=PG", "display_name": "Nikolaj Dam Larsen", "link": "https://stackoverflow.com/users/541065/nikolaj-dam-larsen"}, "is_accepted": true, "score": 2, "last_activity_date": 1490219418, "creation_date": 1490219418, "answer_id": 42963311, "question_id": 42963213, "link": "https://stackoverflow.com/questions/42963213/how-to-escape-double-image-loading/42963311#42963311", "title": "How to escape double image loading?", "body": "<p>You can use css to hide the img initially e.g. using <code>style=\"display:none;\"</code> and then when the image loads, display it again like this:</p>\n\n<pre><code>$.ajax({\n    type: 'POST',\n    url: '/Account/HasAvatar/',\n    success:\n        function (data) { //data - it's the name of the image file\n            console.log(data);\n            if (data == null){\n                $(\"#avatar\").css('display', 'initial');\n                return;\n            }\n            $(\"#avatar\").one('load', function(){\n                $(\"#avatar\").css('display', 'initial');\n            });\n            $(\"#avatar\").attr(\"src\", window.location.protocol+\"//\"+window.location.host+\"/Path/\" + data);\n        }\n})\n</code></pre>\n"}], "owner": {"reputation": 677, "user_id": 7545390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nlpak.jpg?s=128&g=1", "display_name": "Lab Lab", "link": "https://stackoverflow.com/users/7545390/lab-lab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 42963311, "answer_count": 2, "score": 1, "last_activity_date": 1490219418, "creation_date": 1490219056, "question_id": 42963213, "link": "https://stackoverflow.com/questions/42963213/how-to-escape-double-image-loading", "title": "How to escape double image loading?", "body": "<p>In my web project, I have a different html pages and the _Layout page.\nThis layout page displays the profile photo of a user like this:</p>\n\n<pre><code> &lt;img src=\"~/Path/avatar.png\" id=\"avatar\"&gt;\n</code></pre>\n\n<p>And I implemented one thing: if the user haven't ever uploaded the profile photo, _Layout page will always display the standard <code>avatar.png</code>. Else, if he uploaded their avatar, I do next: </p>\n\n<pre><code>$.ajax({\n        type: 'POST',\n        url: '/Account/HasAvatar/',\n        success:\n            function (data) { //data - it's the name of the image file\n                console.log(data);\n                if (data == null)\n                    return;\n            $(\"#avatar\").attr(\"src\", window.location.protocol+\"//\"+window.location.host+\"/Path/\" + data);\n        }\n    })\n</code></pre>\n\n<p>If the current user has already uploaded the profile photo, controller method <code>HasAvatar()</code> returns its name and then jquery changes the standard <code>&lt;img src=\"\"&gt;</code> to an already existed image. But here I have a problem. When a user load any page, firstly he can see the standard avatar and only then (in 0.2 sec) the current user's image is loaded. How to escape this double image loading? Any ideas?</p>\n"}, {"tags": ["javascript", "jquery", "accessibility", "screen-readers", "jaws-screen-reader"], "answers": [{"comments": [{"owner": {"reputation": 8546, "user_id": 76714, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/T0yim.jpg?s=128&g=1", "display_name": "slugolicious", "link": "https://stackoverflow.com/users/76714/slugolicious"}, "edited": false, "score": 0, "creation_date": 1490483513, "post_id": 42989016, "comment_id": 73133269, "body": "I&#39;m glad you can&#39;t tell if I&#39;m running JAWS or not.  I don&#39;t want people to know if I need assistive technology.  That would be an invasion of privacy and probably a HIPAA violoation"}, {"owner": {"reputation": 374, "user_id": 5848153, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/ZHRv7.png?s=128&g=1", "display_name": "glass duo", "link": "https://stackoverflow.com/users/5848153/glass-duo"}, "edited": false, "score": 0, "creation_date": 1492802376, "post_id": 42989016, "comment_id": 74153191, "body": "Thanks @Andre Polykanine. You are correct that the browser cannot interact with JAWS. However, after some research and contacting VFO (the makers of JAWS) technical support I have found that you can write scripts for JAWS that will help it better interact with the browser. In my case, my users are going to be subscribers to a service and we could ostensibly give them these scripts to install in JAWS so that they can better use our web app and it&#39;s note taking feature. So you can get this to work, not with Javascript, but with a package of scripts for JAWS.  Not the perfect solution, but ok."}, {"owner": {"reputation": 3065, "user_id": 1604592, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/rxTAF.jpg?s=128&g=1", "display_name": "Andre Polykanine", "link": "https://stackoverflow.com/users/1604592/andre-polykanine"}, "edited": false, "score": 0, "creation_date": 1492899970, "post_id": 42989016, "comment_id": 74181443, "body": "Ah yes, this you can do, but please note, if you distribute JAWS scripts, you restrict your users&#39; screen reader choice. I&#39;ve been a faithful JAWS user for nineteen years now, but other screen readers are also around nowadays. To answer the privacy question, u-hm... I mean... it&#39;s kinda weird for me to read. If I knew who and when uses an assistive technology, I could direct him/her in a more fine-grained way, I believe."}], "tags": [], "owner": {"reputation": 3065, "user_id": 1604592, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/rxTAF.jpg?s=128&g=1", "display_name": "Andre Polykanine", "link": "https://stackoverflow.com/users/1604592/andre-polykanine"}, "is_accepted": false, "score": 1, "last_activity_date": 1490313007, "creation_date": 1490313007, "answer_id": 42989016, "question_id": 42963202, "link": "https://stackoverflow.com/questions/42963202/can-jaws-screenreader-send-its-focus-to-a-javascript-function/42989016#42989016", "title": "Can JAWS screenreader send it&#39;s focus to a javascript function", "body": "<p>Unfortunately, this is not possible. Nor can you know whether JAWS <em>is</em> running or not at a particular moment. I wish I could, though.<br>\nSo, I believe what you are doing is the best you can do to get your user back. You can try some accessible modal window plugin like <a href=\"https://github.com/humaan/modaal\" rel=\"nofollow noreferrer\">Modaal</a>, it does its work quite good and returns the user in the place where he/she was before opening the modal, when it is ever possible.</p>\n"}], "owner": {"reputation": 374, "user_id": 5848153, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/ZHRv7.png?s=128&g=1", "display_name": "glass duo", "link": "https://stackoverflow.com/users/5848153/glass-duo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 559, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490313007, "creation_date": 1490219014, "last_edit_date": 1490229481, "question_id": 42963202, "link": "https://stackoverflow.com/questions/42963202/can-jaws-screenreader-send-its-focus-to-a-javascript-function", "title": "Can JAWS screenreader send it&#39;s focus to a javascript function", "body": "<p>I am creating a web app that will be accessed frequently with the JAWS screen reader. </p>\n\n<p>I have several instances where it would be helpful for javascript to know what piece of text JAWS is specifically focused on. </p>\n\n<p><strong>Specific example:</strong> </p>\n\n<p>The user is reading a piece of text.  They use a key command to open up a pop-up window, where they can write a note about what they are reading.  When they close the pop-up window, I want them to return to the place where they left off.  </p>\n\n<p><strong>I have tried something like the following:</strong></p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;textarea contenteditable='true' id='note'&gt;\n&lt;/textarea&gt;\n</code></pre>\n\n<p>Javascript:</p>\n\n<pre><code>var focused;\n\nfunction openNote() {\n  focused = document.activeElement;\n  $( '#note' ).show();\n  $( '#note' ).focus();\n}\n\nfunction closeNote() {\n  $( '#note' ).hide();\n  $( focused ).focus();\n} \n</code></pre>\n\n<p>But the code above does not do what I want.  The variable <code>focused</code> will remember a link or a button or something like that.  But not the actual text that JAWS was reading.  </p>\n\n<p>How do I get the exact object/text that JAWS had in focus when <code>openNote()</code> was called?</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "edited": false, "score": 0, "creation_date": 1490219247, "post_id": 42963199, "comment_id": 73020617, "body": "What happens if you change to <code>image&#47;png</code> instead of <code>application&#47;png</code> as the  proper mime type?"}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1490219973, "post_id": 42963199, "comment_id": 73020946, "body": "Where is image uploaded to server?"}], "answers": [{"comments": [{"owner": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "edited": false, "score": 0, "creation_date": 1490219919, "post_id": 42963303, "comment_id": 73020918, "body": "Yup, change to the method you suggest :)"}], "tags": [], "owner": {"reputation": 15523, "user_id": 60020, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ZIU6u.jpg?s=128&g=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/60020/samuel"}, "is_accepted": true, "score": 1, "last_activity_date": 1490219828, "last_edit_date": 1490219828, "creation_date": 1490219371, "answer_id": 42963303, "question_id": 42963199, "link": "https://stackoverflow.com/questions/42963199/javascript-function-is-corrupting-my-png-image/42963303#42963303", "title": "Javascript function is corrupting my .png image", "body": "<p><code>readAsText</code> is not appropriate for binary data such as images. Try using <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsArrayBuffer\" rel=\"nofollow noreferrer\">readAsArrayBuffer</a> or <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\" rel=\"nofollow noreferrer\">readAsDataUrl</a> instead.</p>\n\n<p>See <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL#Example\" rel=\"nofollow noreferrer\">this example</a> that shows a preview image from a file selector.</p>\n\n<p>You should also change the mimetype to <code>image/png</code> as Mark Schultheiss suggested.</p>\n"}, {"tags": [], "owner": {"reputation": 5, "user_id": 7704139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da4ac343a1df0b32d1ab60c2be16c863?s=128&d=identicon&r=PG&f=1", "display_name": "taltoooldtocode", "link": "https://stackoverflow.com/users/7704139/taltoooldtocode"}, "is_accepted": false, "score": 0, "last_activity_date": 1490229200, "creation_date": 1490229200, "answer_id": 42965139, "question_id": 42963199, "link": "https://stackoverflow.com/questions/42963199/javascript-function-is-corrupting-my-png-image/42965139#42965139", "title": "Javascript function is corrupting my .png image", "body": "<p>Thank you so much Samuel and Mark!  This code is working!</p>\n\n<pre><code>input.onchange = function(e) {\n      var reader = new FileReader();\n      console.log(\"reader in CommandNewCtrl\", reader);\n      reader.onload = function(event) {\n        console.log(\"event\", event);\n        text.value = event.target.result;\n        button.disabled = false;\n      }\n      name = e.target.files[0].name;\n      console.log(\"name\", name);\n      reader.readAsArrayBuffer(new Blob([e.target.files[0]], {   //was readAsText\n        // \"type\": \"application/png\"\n            \"type\": \"image/png\"\n\n      }));\n    };\n\n    button.onclick = function(e) {\n      e.preventDefault();\n      var blob = new Blob([text.value], {\n        \"type\": \"image/png\"\n      });\n      console.log(\"blob\", blob);\n      var a = document.createElement(\"a\");\n      a.download = name;\n      console.log(\"a.download\", a.download);\n      a.href = URL.createObjectURL(blob);\n      console.log(\"a.href\", a.href);\n      document.body.appendChild(a);\n      a.click();\n      text.value = \"\";\n      input.value = \"\";\n      button.disabled = true;\n      document.body.removeChild(a);\n    }\n};\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 7704139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da4ac343a1df0b32d1ab60c2be16c863?s=128&d=identicon&r=PG&f=1", "display_name": "taltoooldtocode", "link": "https://stackoverflow.com/users/7704139/taltoooldtocode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 625, "favorite_count": 0, "accepted_answer_id": 42963303, "answer_count": 2, "score": 0, "last_activity_date": 1490229200, "creation_date": 1490218991, "question_id": 42963199, "link": "https://stackoverflow.com/questions/42963199/javascript-function-is-corrupting-my-png-image", "title": "Javascript function is corrupting my .png image", "body": "<p>I am developing a website and trying to upload an image to a local folder.  I am successfully uploading the image, but I get an error when I try to open the image.  Can anyone show me how to fix this problem?</p>\n\n<p>Here is the error:\nCould not load image'.PNG'. Fatal error reading PNG image file: not a PNG file.</p>\n\n<p>Here is my partial:</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n    &lt;label&gt;Please Upload your Images&lt;/label&gt;\n    &lt;br&gt;\n    &lt;area href=\"./img\" alt=\"this is a test\"&gt;\n    &lt;br&gt;\n    &lt;input type=\"file\" class=\"form-control-file\" ng-click=\"uploadImage()\" id=\"uploadButton\" multiple&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Here is my function:</p>\n\n<pre><code>$scope.uploadImage = function(){\n    var input = document.getElementById(\"uploadButton\");\n    var text = document.querySelector(\"area\");\n    var button = document.getElementById(\"submitButton\");\n    var name;\n\n    input.onchange = function(e) {\n      var reader = new FileReader();\n      console.log(\"reader in CommandNewCtrl\", reader);\n      reader.onload = function(event) {\n        console.log(\"event\", event);\n        text.value = event.target.result;\n        button.disabled = false;\n      }\n      name = e.target.files[0].name;\n      console.log(\"name\", name);\n      reader.readAsText(new Blob([e.target.files[0]], {\n        \"type\": \"application/png\"\n      }));\n    };\n\n    button.onclick = function(e) {\n      e.preventDefault();\n      var blob = new Blob([text.value], {\n        \"type\": \"application/png\"\n      });\n      console.log(\"blob\", blob);\n      var a = document.createElement(\"a\");\n      a.download = name;\n      console.log(\"a.download\", a.download);\n      a.href = URL.createObjectURL(blob);\n      console.log(\"a.href\", a.href);\n      document.body.appendChild(a);\n      a.click();\n      text.value = \"\";\n      input.value = \"\";\n      button.disabled = true;\n      document.body.removeChild(a);\n    }\n};\n</code></pre>\n"}, {"tags": ["javascript", "html", "angularjs", "monaca"], "comments": [{"owner": {"reputation": 405, "user_id": 3765393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vd4Nw.jpg?s=128&g=1", "display_name": "Dominik Krzywiecki", "link": "https://stackoverflow.com/users/3765393/dominik-krzywiecki"}, "edited": false, "score": 0, "creation_date": 1490219092, "post_id": 42963163, "comment_id": 73020531, "body": "I&#39;m not sure but maybe <code>ng-cloak</code> will help. If not just add <code>ng-show</code> with the same condition like in <code>ng-if</code>."}, {"owner": {"reputation": 2262, "user_id": 2318781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45h5D.jpg?s=128&g=1", "display_name": "Ben Beck", "link": "https://stackoverflow.com/users/2318781/ben-beck"}, "edited": false, "score": 0, "creation_date": 1490219320, "post_id": 42963163, "comment_id": 73020643, "body": "I can&#39;t tell what&#39;s going on in your controller/service(s), but you&#39;re probably not using a promise."}, {"owner": {"reputation": 1851, "user_id": 626819, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/le2jb.png?s=128&g=1", "display_name": "heyred", "link": "https://stackoverflow.com/users/626819/heyred"}, "reply_to_user": {"reputation": 2262, "user_id": 2318781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45h5D.jpg?s=128&g=1", "display_name": "Ben Beck", "link": "https://stackoverflow.com/users/2318781/ben-beck"}, "edited": false, "score": 0, "creation_date": 1490219566, "post_id": 42963163, "comment_id": 73020761, "body": "@Ben Beck - No Im not using a promise. I am using a asynchronous call to check if the user is logged in, which makes the lookup even longer. I will try ng-cloak and if that doesnt work Ill implement a promise."}, {"owner": {"reputation": 1058, "user_id": 1945927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28c24a7f9f6a3ec84c43cdf1456c5cae?s=128&d=identicon&r=PG", "display_name": "Piou", "link": "https://stackoverflow.com/users/1945927/piou"}, "edited": false, "score": 0, "creation_date": 1490219572, "post_id": 42963163, "comment_id": 73020766, "body": "It can also be that your login callback mechanism is not angular based (i.e triggered by something like <code>window.addEventListener</code>) then the callback is not angular aware and no digest is triggered. Then a simple <code>$scope.$applyAsync()</code> solves the problem. Moreover the one second delay sounds like the angular auto digest triger."}], "answers": [{"tags": [], "owner": {"reputation": 142, "user_id": 7745058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce657ec11f556ad25efb33ad1bd117c6?s=128&d=identicon&r=PG", "display_name": "Brmmmm", "link": "https://stackoverflow.com/users/7745058/brmmmm"}, "is_accepted": false, "score": 1, "last_activity_date": 1490219796, "creation_date": 1490219796, "answer_id": 42963399, "question_id": 42963163, "link": "https://stackoverflow.com/questions/42963163/delay-displaying-ui-in-cross-platform-app-on-ng-if/42963399#42963399", "title": "Delay displaying UI in cross platform app on ng-if", "body": "<p>I would also use the ng-show and hide the items until they are evaluated using the ng-hide class, see below:</p>\n\n<pre><code>&lt;div class=\"ng-hide\" ng-show=\"!loggedIn\"&gt;\n    &lt;div ng-include=\"'login/login-details.html'\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;!-- Show if user logged in --&gt;\n&lt;div class=\"ng-hide\" ng-show=\"loggedIn\"&gt;\n    &lt;div ng-include=\"'login/login-confirmation.html'\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3088, "user_id": 3453034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d1a874b0527bb96b2f9849e21bd24e0?s=128&d=identicon&r=PG", "display_name": "cnorthfield", "link": "https://stackoverflow.com/users/3453034/cnorthfield"}, "is_accepted": false, "score": 1, "last_activity_date": 1490221713, "creation_date": 1490221713, "answer_id": 42963830, "question_id": 42963163, "link": "https://stackoverflow.com/questions/42963163/delay-displaying-ui-in-cross-platform-app-on-ng-if/42963830#42963830", "title": "Delay displaying UI in cross platform app on ng-if", "body": "<p>One method you can use is if <code>loggedIn</code> is <code>null</code> or <code>undefined</code> until you check weather the user is logged in, you can use a strict comparison operator <code>===</code> for <code>true</code> and <code>false</code> like so:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;ons-page&gt;\n        &lt;ons-scroller &gt;\n            &lt;!-- Show if user not logged in --&gt;\n            &lt;div ng-if=\"loggedIn === false\"&gt;\n                &lt;div ng-include=\"'login/login-details.html'\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n            &lt;!-- Show if user logged in --&gt;\n            &lt;div ng-if=\"loggedIn === true\"&gt;\n                &lt;div ng-include=\"'login/login-confirmation.html'\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/ons-scroller&gt;\n    &lt;/ons-page&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This would ensure that neither gets displayed until the outcome of your \"lookup\".</p>\n\n<p>Another solution to the problem, depending on your choice of routing, would be to make use of <a href=\"https://docs.angularjs.org/api/ngRoute/provider/$routeProvider\" rel=\"nofollow noreferrer\"><code>ngRoute</code>'</a>s or <a href=\"https://github.com/angular-ui/ui-router/wiki#resolve\" rel=\"nofollow noreferrer\"><code>ui-router</code></a>'s <code>resolve</code> property. This way you can check if the user is logged in before the view is loaded.</p>\n"}], "owner": {"reputation": 1851, "user_id": 626819, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/le2jb.png?s=128&g=1", "display_name": "heyred", "link": "https://stackoverflow.com/users/626819/heyred"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1490221713, "creation_date": 1490218849, "question_id": 42963163, "link": "https://stackoverflow.com/questions/42963163/delay-displaying-ui-in-cross-platform-app-on-ng-if", "title": "Delay displaying UI in cross platform app on ng-if", "body": "<p>I have a cross platform app built using Monaca and AngularJS.</p>\n\n<p>On some screens I display a generic view, and then display certain sections based on the outcome of some calculations/lookups using <strong><em>ng-if</em></strong> and <strong><em>ng-include</em></strong>.</p>\n\n<p>E.g. for the Login screen, I display a generic view, while in my controller I check whether the user has logged in before. Depending on the outcome of this lookup, I either show a Welcome message OR prompt the user to Login.</p>\n\n<p>Below is a abbreviated version of the generic <em>login</em> view.</p>\n\n<pre><code>&lt;div&gt;\n    &lt;ons-page&gt;\n        &lt;ons-scroller &gt;\n            &lt;!-- Show if user not logged in --&gt;\n            &lt;div ng-if=\"!loggedIn\"&gt;\n                &lt;div ng-include=\"'login/login-details.html'\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n            &lt;!-- Show if user logged in --&gt;\n            &lt;div ng-if=\"loggedIn\"&gt;\n                &lt;div ng-include=\"'login/login-confirmation.html'\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/ons-scroller&gt;\n    &lt;/ons-page&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This is working fine but the issue is that the first <strong><em>ng-if</em></strong> is always shown - even just for a second - while the controller checks if the user is logged in and then sets the value of <strong><em>loggedIn</em></strong>. So the user always sees the login prompt until the controller returns true or false on the variable <strong><em>loggedIn</em></strong>.</p>\n\n<p>The boolean value for <strong><em>loggedIn</em></strong> is just defined but not initialed in the controller. It only gets initiated once the lookup has been done.</p>\n\n<p>How can I stop both the <strong><em>ng-include</em></strong> s from displaying till I know which one to display? </p>\n\n<p>I can create another <strong><em>ng-if</em></strong> but it seems long winded and inefficient.</p>\n"}, {"tags": ["javascript", "loops", "for-loop", "google-apps-script"], "answers": [{"tags": [], "owner": {"reputation": 26870, "user_id": 2946873, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/pIQti.jpg?s=128&g=1", "display_name": "Alan Wells", "link": "https://stackoverflow.com/users/2946873/alan-wells"}, "is_accepted": false, "score": 1, "last_activity_date": 1490221174, "creation_date": 1490221174, "answer_id": 42963705, "question_id": 42963162, "link": "https://stackoverflow.com/questions/42963162/loop-in-google-apps-script-handle-an-error-fatal-error-stops-the-script-loop/42963705#42963705", "title": "Loop in Google Apps Script, handle an error, fatal error, stops the script, loop stops", "body": "<p>You could try putting some of the code into a <code>try/catch</code> and if there is an error, simply continue looping:</p>\n\n<pre><code>try {\n  var dcheck = AdminDirectory.Domains.get(customer, data[i]);\n\n  if (dcheck) {//Check for truthy value\n    var status = dcheck.verified;\n  } else {\n    continue;//If \"get\" returned a falsy value then continue\n  }\n} catch(e) {\n  continue;//If error continue looping\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 34507, "user_id": 7215091, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/2pNI4.jpg?s=128&g=1", "display_name": "MetaMan", "link": "https://stackoverflow.com/users/7215091/metaman"}, "is_accepted": false, "score": 0, "last_activity_date": 1490226512, "creation_date": 1490226512, "answer_id": 42964741, "question_id": 42963162, "link": "https://stackoverflow.com/questions/42963162/loop-in-google-apps-script-handle-an-error-fatal-error-stops-the-script-loop/42964741#42964741", "title": "Loop in Google Apps Script, handle an error, fatal error, stops the script, loop stops", "body": "<p>Here's another way of doing the same thing.  I wasn't clear on what this <code>if(status === ({}))</code> was so I thought it might be interesting to make that third alternative a little less narrow because if it's expected to be boolean and it's neither true nor false then it's not clear to me what else is left.  It might take a while but I'd try to run through this with the debugger.  But I'm not familiar with AdminDirectory so I'm kinda guessing here.</p>\n\n<pre><code>function domainList() \n{\n  var ss = SpreadsheetApp.getActiveSpreadsheet();\n  var sheet = ss.getActiveSheet();\n  var data = sheet.getRange(\"B2:B\").getValues();\n  var customer = \"my_customer\";\n  var value = '';\n  for(i=0; i&lt;data.length; i++)\n  {\n    value = '';\n    var dcheck = AdminDirectory.Domains.get(customer, data[i]);\n    var status = dcheck.verified;\n    switch(status)\n    {\n      case true:\n        value = 'Domain Verified';\n        break;\n      case false:\n        value = 'Domain Not Verified';\n        break;\n      default:\n        value = 'unknown';    \n    }\n    Logger.log(status);\n    var range = ss.getSheets()[0].getRange(2+i, 7)\n    range.clear();\n    range.setValue(value);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 331, "user_id": 6946807, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/454c963ec32249ea18e2d25a53d6bebb?s=128&d=identicon&r=PG&f=1", "display_name": "Gela Ram", "link": "https://stackoverflow.com/users/6946807/gela-ram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4506, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1536841366, "creation_date": 1490218848, "last_edit_date": 1536841366, "question_id": 42963162, "link": "https://stackoverflow.com/questions/42963162/loop-in-google-apps-script-handle-an-error-fatal-error-stops-the-script-loop", "title": "Loop in Google Apps Script, handle an error, fatal error, stops the script, loop stops", "body": "<p>I am using Google Apps Script </p>\n\n<p>I have a Google Sheet where column 1 has 120 domain names (120 rows) and i need to write the status of these domains as \"Domain Verified\" / \"Domain Not Verified\" in Column 7</p>\n\n<p>I wrote a script which is using Admin Directory API service and using AdminDirectory.get.domains.verified which results in boolean (True = domain verified, False = domain not verified) to check the status of domains to see if they are verified domains in google.</p>\n\n<p>my below script works absolutely fine, it checks for each domain name row and puts the status as either in column 7, however the problem is that my loop stops as soon as it comes to any domain which is NOT yet registered in Google, in the logs it says \"Execution failed: Domain not found. (line 36, file \"Code\") [1.412 seconds total runtime]\"</p>\n\n<p>where i expect it to be running till the last row (120th) regardless of the result.</p>\n\n<p>What I actually want is, regardless of the result, my loop should cover all 120 rows, can you help?</p>\n\n<p>Here is my Script-:</p>\n\n<pre><code>function domainList() {\n\n  var ss = SpreadsheetApp.getActiveSpreadsheet()\n  var sheet = ss.getActiveSheet()\n  var data = sheet.getRange(\"B2:B\").getValues()\n  var customer = \"my_customer\"\n\n  for(i=0; i&lt;data.length; i++){\n    var dcheck = AdminDirectory.Domains.get(customer, data[i]);\n\n    var status = dcheck.verified\n    if(status === true){\n      status = \"Domain Verified\"}\n    else if(status === false){\n    status = \"Domain Not Verified\"}\n    else if(status === ({})){\n      continue;\n    }\n\n    Logger.log(status)\n\n    var range = ss.getSheets()[0].getRange(2+i, 7).clear()\n\n var range = ss.getSheets()[0].getRange(2+i, 7)\n    range.setValue(status)\n  }}\n</code></pre>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 14148, "user_id": 4604701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8cb75b7c39263de208e368e72ad3ad1?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/4604701/fubar"}, "edited": false, "score": 0, "creation_date": 1490218873, "post_id": 42963129, "comment_id": 73020446, "body": "Do you want to remove all strings?"}, {"owner": {"reputation": 1232, "user_id": 7453707, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh4.googleusercontent.com/-ga6gJDP75pc/AAAAAAAAAAI/AAAAAAAAAO0/pIEgPij3PqU/photo.jpg?sz=128", "display_name": "ShocKwav3_", "link": "https://stackoverflow.com/users/7453707/shockwav3"}, "reply_to_user": {"reputation": 14148, "user_id": 4604701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8cb75b7c39263de208e368e72ad3ad1?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/4604701/fubar"}, "edited": false, "score": 0, "creation_date": 1490219059, "post_id": 42963129, "comment_id": 73020522, "body": "yes exactly. but with map"}, {"owner": {"reputation": 14148, "user_id": 4604701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8cb75b7c39263de208e368e72ad3ad1?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/4604701/fubar"}, "edited": false, "score": 1, "creation_date": 1490219093, "post_id": 42963129, "comment_id": 73020532, "body": "Curious, why do you want to use <code>map</code>?"}, {"owner": {"reputation": 1232, "user_id": 7453707, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh4.googleusercontent.com/-ga6gJDP75pc/AAAAAAAAAAI/AAAAAAAAAO0/pIEgPij3PqU/photo.jpg?sz=128", "display_name": "ShocKwav3_", "link": "https://stackoverflow.com/users/7453707/shockwav3"}, "reply_to_user": {"reputation": 14148, "user_id": 4604701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8cb75b7c39263de208e368e72ad3ad1?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/4604701/fubar"}, "edited": false, "score": 0, "creation_date": 1490219234, "post_id": 42963129, "comment_id": 73020609, "body": "i know is unethical but honestly im just trying to understand how this works"}], "answers": [{"comments": [{"owner": {"reputation": 14148, "user_id": 4604701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8cb75b7c39263de208e368e72ad3ad1?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/4604701/fubar"}, "edited": false, "score": 0, "creation_date": 1490219512, "post_id": 42963197, "comment_id": 73020727, "body": "OP mentions consecutive, but his desired output is achieved using the above solution."}], "tags": [], "owner": {"reputation": 14148, "user_id": 4604701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8cb75b7c39263de208e368e72ad3ad1?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/4604701/fubar"}, "is_accepted": false, "score": 2, "last_activity_date": 1490218982, "creation_date": 1490218982, "answer_id": 42963197, "question_id": 42963129, "link": "https://stackoverflow.com/questions/42963129/splice-function-not-removing-2-cosecutive-string-from-array/42963197#42963197", "title": "splice function not removing 2 cosecutive string from array", "body": "<p>It's much easier to use the <code>filter</code> function and return <code>true</code> for everything that's not a <code>string</code>.</p>\n\n<pre><code>var a = [1, 'a', 'b', 'c', 0, 15, 'k', 'e'];\nvar b = a.filter(function (item) {\n    return ! (typeof item === 'string');\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 161, "user_id": 4362815, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/10808f4c5a0243cd3e8792f348d5b773?s=128&d=identicon&r=PG&f=1", "display_name": "daft300punk", "link": "https://stackoverflow.com/users/4362815/daft300punk"}, "edited": false, "score": 0, "creation_date": 1490220957, "post_id": 42963540, "comment_id": 73021329, "body": "How does map work when the array it&#39;s working on keeps changing its length?"}, {"owner": {"reputation": 101365, "user_id": 4620771, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/BuWrj.jpg?s=128&g=1", "display_name": "Nenad Vracar", "link": "https://stackoverflow.com/users/4620771/nenad-vracar"}, "reply_to_user": {"reputation": 161, "user_id": 4362815, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/10808f4c5a0243cd3e8792f348d5b773?s=128&d=identicon&r=PG&f=1", "display_name": "daft300punk", "link": "https://stackoverflow.com/users/4362815/daft300punk"}, "edited": false, "score": 0, "creation_date": 1490221139, "post_id": 42963540, "comment_id": 73021405, "body": "It doesn&#39;t <code>:)</code>."}, {"owner": {"reputation": 1232, "user_id": 7453707, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh4.googleusercontent.com/-ga6gJDP75pc/AAAAAAAAAAI/AAAAAAAAAO0/pIEgPij3PqU/photo.jpg?sz=128", "display_name": "ShocKwav3_", "link": "https://stackoverflow.com/users/7453707/shockwav3"}, "edited": false, "score": 0, "creation_date": 1490221355, "post_id": 42963540, "comment_id": 73021508, "body": "i get the idea. lets say i don&#39;t touch the main array and the how i can set this to another variable ?"}, {"owner": {"reputation": 101365, "user_id": 4620771, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/BuWrj.jpg?s=128&g=1", "display_name": "Nenad Vracar", "link": "https://stackoverflow.com/users/4620771/nenad-vracar"}, "edited": false, "score": 0, "creation_date": 1490221659, "post_id": 42963540, "comment_id": 73021630, "body": "I think i understand what you are asking, so arrays are passed by reference so if your function just returns original modified array and you put value of that function in new variable its still same array as you can see here <a href=\"https://jsfiddle.net/Lg0wyt9u/1731/\" rel=\"nofollow noreferrer\">jsfiddle.net/Lg0wyt9u/1731</a>, but you can create copy of array and there are couple methods to do that one is using <code>slice()</code> <a href=\"https://jsfiddle.net/Lg0wyt9u/1732/\" rel=\"nofollow noreferrer\">jsfiddle.net/Lg0wyt9u/1732</a>"}, {"owner": {"reputation": 101365, "user_id": 4620771, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/BuWrj.jpg?s=128&g=1", "display_name": "Nenad Vracar", "link": "https://stackoverflow.com/users/4620771/nenad-vracar"}, "edited": false, "score": 0, "creation_date": 1490222006, "post_id": 42963540, "comment_id": 73021805, "body": "Also note that when you use map it returns new array <a href=\"https://jsfiddle.net/Lg0wyt9u/1733/\" rel=\"nofollow noreferrer\">jsfiddle.net/Lg0wyt9u/1733</a>"}, {"owner": {"reputation": 1232, "user_id": 7453707, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh4.googleusercontent.com/-ga6gJDP75pc/AAAAAAAAAAI/AAAAAAAAAO0/pIEgPij3PqU/photo.jpg?sz=128", "display_name": "ShocKwav3_", "link": "https://stackoverflow.com/users/7453707/shockwav3"}, "edited": false, "score": 0, "creation_date": 1490223470, "post_id": 42963540, "comment_id": 73022444, "body": "basically i want to know how can i get <code>[1, 0, 15]</code> instead of <code>[1, null, null, null, 0, 15, null, null]</code>"}], "tags": [], "owner": {"reputation": 101365, "user_id": 4620771, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/BuWrj.jpg?s=128&g=1", "display_name": "Nenad Vracar", "link": "https://stackoverflow.com/users/4620771/nenad-vracar"}, "is_accepted": true, "score": 2, "last_activity_date": 1490220372, "creation_date": 1490220372, "answer_id": 42963540, "question_id": 42963129, "link": "https://stackoverflow.com/questions/42963129/splice-function-not-removing-2-cosecutive-string-from-array/42963540#42963540", "title": "splice function not removing 2 cosecutive string from array", "body": "<p>Problem is that when you splice element from original array you get problem in iteration of <code>map()</code>, so for example when you remove <code>a</code> with index of 1 now the next element with index of 2 is <code>c</code> because original array is now this <code>[ 1, \"b\", \"c\", 0, 15, \"k\", \"e\" ]</code> so you skip <code>b</code>. If you don't remove elements you can see that map will match not numbers in your code.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function filter_list(l) {\r\n  l.map((item, i, main) =&gt; {\r\n    if (typeof item == \"string\") main[i] = null\r\n  })\r\n  return l;\r\n}\r\n\r\nconsole.log(filter_list([1, 'a', 'b', 'c', 0, 15, 'k', 'e']))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1232, "user_id": 7453707, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh4.googleusercontent.com/-ga6gJDP75pc/AAAAAAAAAAI/AAAAAAAAAO0/pIEgPij3PqU/photo.jpg?sz=128", "display_name": "ShocKwav3_", "link": "https://stackoverflow.com/users/7453707/shockwav3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 42963540, "answer_count": 2, "score": 1, "last_activity_date": 1490220372, "creation_date": 1490218718, "question_id": 42963129, "link": "https://stackoverflow.com/questions/42963129/splice-function-not-removing-2-cosecutive-string-from-array", "title": "splice function not removing 2 cosecutive string from array", "body": "<pre><code>function filter_list(l) {\n    l.map((item,i,main) =&gt; {\n     if(typeof item===\"string\")\n     {return main.splice(i,1);}\n      else\n      return item;\n    });\n  console.log(l);\n}\nfilter_list([1,'a','b','c',0,15,'k','e']);\n</code></pre>\n\n<p>here i am expecting output of <code>[1, 0, 15]</code>. But instead it is giving me <code>[1, \"b\", 0, 15, \"e\"]</code>. it seems to not removing strings one exists after another. Also i am trying to get the updated array in a new array variable but i don't have any idea how to do that here.  Some help would be very much appreciated.</p>\n"}, {"tags": ["javascript", "jquery", "html", "local-storage"], "answers": [{"comments": [{"owner": {"reputation": 967, "user_id": 5770166, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/76920ead85fe03082541210a8cd4f600?s=128&d=identicon&r=PG&f=1", "display_name": "Xander", "link": "https://stackoverflow.com/users/5770166/xander"}, "edited": false, "score": 0, "creation_date": 1490219175, "post_id": 42963160, "comment_id": 73020572, "body": "Thanks @NikxDa but I&#39;m confiused about how you used &#39;abc&#39; for the getItem. How does it know what to fill the textarea with as it&#39;s not saved as a particular name"}, {"owner": {"reputation": 967, "user_id": 5770166, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/76920ead85fe03082541210a8cd4f600?s=128&d=identicon&r=PG&f=1", "display_name": "Xander", "link": "https://stackoverflow.com/users/5770166/xander"}, "edited": false, "score": 0, "creation_date": 1490219257, "post_id": 42963160, "comment_id": 73020621, "body": "Would I put localStorage.setItem(&quot;note1&quot;, $(&quot;#note1input&quot;).val()); ?"}, {"owner": {"reputation": 3737, "user_id": 4459695, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VAgGs.png?s=128&g=1", "display_name": "NikxDa", "link": "https://stackoverflow.com/users/4459695/nikxda"}, "reply_to_user": {"reputation": 967, "user_id": 5770166, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/76920ead85fe03082541210a8cd4f600?s=128&d=identicon&r=PG&f=1", "display_name": "Xander", "link": "https://stackoverflow.com/users/5770166/xander"}, "edited": false, "score": 0, "creation_date": 1490219444, "post_id": 42963160, "comment_id": 73020692, "body": "You don&#39;t, this is just an example of the usage. Just replace every <code>.value</code> with <code>.val()</code>. Therefore <code>noteX = $(&quot;#noteXitem&quot;).value</code> becomes <code>noteX = $(&quot;#noteXitem&quot;).val()</code> and <code>$(&quot;#noteXItem&quot;).value = localStorage.getItem (&quot;noteX&quot;)</code> becomes <code>$(&quot;#noteXItem&quot;).val(localStorage.getItem(&quot;noteX&quot;))</code>."}, {"owner": {"reputation": 967, "user_id": 5770166, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/76920ead85fe03082541210a8cd4f600?s=128&d=identicon&r=PG&f=1", "display_name": "Xander", "link": "https://stackoverflow.com/users/5770166/xander"}, "edited": false, "score": 0, "creation_date": 1490220905, "post_id": 42963160, "comment_id": 73021303, "body": "Thanks very much for your help @NikxDa"}], "tags": [], "owner": {"reputation": 3737, "user_id": 4459695, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VAgGs.png?s=128&g=1", "display_name": "NikxDa", "link": "https://stackoverflow.com/users/4459695/nikxda"}, "is_accepted": false, "score": 1, "last_activity_date": 1490220609, "last_edit_date": 1490220609, "creation_date": 1490218843, "answer_id": 42963160, "question_id": 42963091, "link": "https://stackoverflow.com/questions/42963091/how-to-save-the-value-of-textarea-to-localstorage-then-display-it-in-the-same-te/42963160#42963160", "title": "How to save the value of textarea to localstorage then display it in the same textarea", "body": "<p>You cannot use <code>.value</code> on a jQuery object. Use jQuery's <code>.val()</code> function to set and get the value instead.\nFor example:  </p>\n\n<pre><code>$(\"#note1input\").val(localStorage.getItem (\"abc\")); //Get\nlocalStorage.setItem ($(\"#note1input\").val()); //Set\n</code></pre>\n\n<p>Full working example with auto-save would be this:<br>\nHTML:</p>\n\n<pre><code>&lt;input data-store=\"1\"&gt;&lt;/input&gt;\n&lt;input data-store=\"2\"&gt;&lt;/input&gt;\n&lt;input data-store=\"3\"&gt;&lt;/input&gt;\n&lt;input data-store=\"4\"&gt;&lt;/input&gt;\n&lt;input data-store=\"5\"&gt;&lt;/input&gt;\n</code></pre>\n\n<p>JS: </p>\n\n<pre><code>$(document).ready (function () {\n  $(\"*[data-store]\").each(function () {\n    $(this).val(localStorage.getItem(\"item-\" + $(this).attr(\"data-store\")));\n  });\n\n  $(\"*[data-store]\").on(\"keyup\", function (itm) {\n    localStorage.setItem (\"item-\" + $(this).attr(\"data-store\"), $(this).val());\n  })\n})\n</code></pre>\n\n<p>Check out: <a href=\"http://codepen.io/NikxDa/pen/vxjgpb\" rel=\"nofollow noreferrer\">http://codepen.io/NikxDa/pen/vxjgpb</a></p>\n"}, {"comments": [{"owner": {"reputation": 3737, "user_id": 4459695, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VAgGs.png?s=128&g=1", "display_name": "NikxDa", "link": "https://stackoverflow.com/users/4459695/nikxda"}, "edited": false, "score": 0, "creation_date": 1490219551, "post_id": 42963316, "comment_id": 73020750, "body": "An explanation would&#39;ve been way better, because the author is obviously just starting to learn JavaScript and jQuery. This is too advanced. You should either explain what you&#39;re doing or just update the authors initial code, otherwise he will just copy without understanding."}, {"owner": {"reputation": 967, "user_id": 5770166, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/76920ead85fe03082541210a8cd4f600?s=128&d=identicon&r=PG&f=1", "display_name": "Xander", "link": "https://stackoverflow.com/users/5770166/xander"}, "edited": false, "score": 0, "creation_date": 1490219648, "post_id": 42963316, "comment_id": 73020789, "body": "This makes sense to me, I just haven&#39;t used a lot of jQuery so I was unaware of .val() instead of .value"}, {"owner": {"reputation": 1548, "user_id": 1430631, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dq5Xnazm0m0/AAAAAAAAAAI/AAAAAAAAAZo/5NJI5vgscLI/photo.jpg?sz=128", "display_name": "br3t", "link": "https://stackoverflow.com/users/1430631/br3t"}, "reply_to_user": {"reputation": 3737, "user_id": 4459695, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VAgGs.png?s=128&g=1", "display_name": "NikxDa", "link": "https://stackoverflow.com/users/4459695/nikxda"}, "edited": false, "score": 0, "creation_date": 1490219850, "post_id": 42963316, "comment_id": 73020884, "body": "@NikxDa, I&#39;ve added some"}, {"owner": {"reputation": 967, "user_id": 5770166, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/76920ead85fe03082541210a8cd4f600?s=128&d=identicon&r=PG&f=1", "display_name": "Xander", "link": "https://stackoverflow.com/users/5770166/xander"}, "edited": false, "score": 0, "creation_date": 1490220135, "post_id": 42963316, "comment_id": 73021010, "body": "@br3t Thank you, I&#39;ve added this code but it&#39;s still not working for me. The textboxes now contain &#39;undefined&#39; so it seems to be getting the locastorage value correctly but if I alter them, save it and reload the page the values remain as undefined"}, {"owner": {"reputation": 967, "user_id": 5770166, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/76920ead85fe03082541210a8cd4f600?s=128&d=identicon&r=PG&f=1", "display_name": "Xander", "link": "https://stackoverflow.com/users/5770166/xander"}, "edited": false, "score": 0, "creation_date": 1490220173, "post_id": 42963316, "comment_id": 73021027, "body": "@br3t I will update the question with my entire code if you wouldn&#39;t mind checking it to see if you know what the problem is"}, {"owner": {"reputation": 3737, "user_id": 4459695, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VAgGs.png?s=128&g=1", "display_name": "NikxDa", "link": "https://stackoverflow.com/users/4459695/nikxda"}, "edited": false, "score": 0, "creation_date": 1490220382, "post_id": 42963316, "comment_id": 73021110, "body": "In this case, at least do it completely right: <a href=\"http://codepen.io/NikxDa/pen/vxjgpb\" rel=\"nofollow noreferrer\">codepen.io/NikxDa/pen/vxjgpb</a>"}, {"owner": {"reputation": 1548, "user_id": 1430631, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dq5Xnazm0m0/AAAAAAAAAAI/AAAAAAAAAZo/5NJI5vgscLI/photo.jpg?sz=128", "display_name": "br3t", "link": "https://stackoverflow.com/users/1430631/br3t"}, "reply_to_user": {"reputation": 967, "user_id": 5770166, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/76920ead85fe03082541210a8cd4f600?s=128&d=identicon&r=PG&f=1", "display_name": "Xander", "link": "https://stackoverflow.com/users/5770166/xander"}, "edited": false, "score": 0, "creation_date": 1490220772, "post_id": 42963316, "comment_id": 73021251, "body": "@EthanBristow , to save values use <code>localStorage.setItem</code>"}, {"owner": {"reputation": 967, "user_id": 5770166, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/76920ead85fe03082541210a8cd4f600?s=128&d=identicon&r=PG&f=1", "display_name": "Xander", "link": "https://stackoverflow.com/users/5770166/xander"}, "edited": false, "score": 0, "creation_date": 1490220889, "post_id": 42963316, "comment_id": 73021296, "body": "Oops, my mistake. Didn&#39;t see that. Thank you very much for your help @br3t"}, {"owner": {"reputation": 1548, "user_id": 1430631, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dq5Xnazm0m0/AAAAAAAAAAI/AAAAAAAAAZo/5NJI5vgscLI/photo.jpg?sz=128", "display_name": "br3t", "link": "https://stackoverflow.com/users/1430631/br3t"}, "reply_to_user": {"reputation": 967, "user_id": 5770166, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/76920ead85fe03082541210a8cd4f600?s=128&d=identicon&r=PG&f=1", "display_name": "Xander", "link": "https://stackoverflow.com/users/5770166/xander"}, "edited": false, "score": 0, "creation_date": 1490221013, "post_id": 42963316, "comment_id": 73021355, "body": "@EthanBristow, that&#39;s ok, it was my copy-paste mistake too in one of drafts of my answer"}], "tags": [], "owner": {"reputation": 1548, "user_id": 1430631, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dq5Xnazm0m0/AAAAAAAAAAI/AAAAAAAAAZo/5NJI5vgscLI/photo.jpg?sz=128", "display_name": "br3t", "link": "https://stackoverflow.com/users/1430631/br3t"}, "is_accepted": true, "score": 1, "last_activity_date": 1490219753, "last_edit_date": 1490219753, "creation_date": 1490219442, "answer_id": 42963316, "question_id": 42963091, "link": "https://stackoverflow.com/questions/42963091/how-to-save-the-value-of-textarea-to-localstorage-then-display-it-in-the-same-te/42963316#42963316", "title": "How to save the value of textarea to localstorage then display it in the same textarea", "body": "<p>Get values by <a href=\"http://api.jquery.com/val/\" rel=\"nofollow noreferrer\">.val()</a> instead of <code>value</code> (<code>value</code> is property from vanilla javascript, not jQuery):</p>\n\n<pre><code>$(document).ready(function () {\n    var savesnotesbtn = document.getElementById(\"savenotesbtn\");\n\n    //FILL TEXT AREAS WITH NOTES\n    for (var i = 1; i &lt; 11; i++) {\n      $(\"#note\" + i + \"input\").val(localStorage.getItem(\"note\" + i));\n    }\n\n    function saveNotes() {\n      //Change styles of button\n      $(\"#savenotesbtn\").removeClass(\"notSaved\").addClass(\"Saved\");\n      // Save data to localstorage\n      for (var i = 1; i &lt; 11; i++) {\n        localStorage.setItem(\"note\" + i, $(\"#note\" + i + \"input\").val());\n      }\n    };\n    savesnotesbtn.addEventListener(\"click\", saveNotes);\n});\n</code></pre>\n"}], "owner": {"reputation": 967, "user_id": 5770166, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/76920ead85fe03082541210a8cd4f600?s=128&d=identicon&r=PG&f=1", "display_name": "Xander", "link": "https://stackoverflow.com/users/5770166/xander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2387, "favorite_count": 0, "accepted_answer_id": 42963316, "answer_count": 2, "score": 0, "last_activity_date": 1490220609, "creation_date": 1490218556, "last_edit_date": 1490220245, "question_id": 42963091, "link": "https://stackoverflow.com/questions/42963091/how-to-save-the-value-of-textarea-to-localstorage-then-display-it-in-the-same-te", "title": "How to save the value of textarea to localstorage then display it in the same textarea", "body": "<p>I'm creating a simple note storing application and would like the values of all text areas to be saved to the local storage when the user hits a save button. When the user returns I would like the textareas to display the saved notes. Below I will add the relevent code. As for now, when I reload the page the textareas aren't filled with the notes and I can't figure out why.</p>\n\n<p>JSLint errors: <a href=\"https://gyazo.com/c2271b41e83a7d3f81ee024386832e5b\" rel=\"nofollow noreferrer\">https://gyazo.com/c2271b41e83a7d3f81ee024386832e5b</a></p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div id=\"container\"&gt;\n     &lt;button id=\"note1btn\" data-role=\"button\"&gt;Note #1&lt;/button&gt;\n     &lt;textarea id=\"note1input\" class=\"textarea hide\" rows=\"10\" cols=\"50\"&gt;&lt;/textarea&gt;\n\n     &lt;button id=\"note2btn\" data-role=\"button\"&gt;Note #2&lt;/button&gt;\n     &lt;textarea id=\"note2input\" class=\"textarea hide\" rows=\"10\" cols=\"50\"&gt;&lt;/textarea&gt;\n\n     &lt;button id=\"note3btn\" data-role=\"button\"&gt;Note #3&lt;/button&gt;\n     &lt;textarea id=\"note3input\" class=\"textarea hide\" rows=\"10\" cols=\"50\"&gt;&lt;/textarea&gt;\n\n     &lt;button id=\"note4btn\" data-role=\"button\"&gt;Note #4&lt;/button&gt;\n     &lt;textarea id=\"note4input\" class=\"textarea hide\" rows=\"10\" cols=\"50\"&gt;&lt;/textarea&gt;\n\n     &lt;button id=\"note5btn\" data-role=\"button\"&gt;Note #5&lt;/button&gt;\n     &lt;textarea id=\"note5input\" class=\"textarea hide\" rows=\"10\" cols=\"50\"&gt;&lt;/textarea&gt;\n\n     &lt;button id=\"note6btn\" data-role=\"button\"&gt;Note #6&lt;/button&gt;\n     &lt;textarea id=\"note6input\" class=\"textarea hide\" rows=\"10\" cols=\"50\"&gt;&lt;/textarea&gt;\n\n     &lt;button id=\"note7btn\" data-role=\"button\"&gt;Note #7&lt;/button&gt;\n     &lt;textarea id=\"note7input\" class=\"textarea hide\" rows=\"10\" cols=\"50\"&gt;&lt;/textarea&gt;\n\n     &lt;button id=\"note8btn\" data-role=\"button\"&gt;Note #8&lt;/button&gt;\n     &lt;textarea id=\"note8input\" class=\"textarea hide\" rows=\"10\" cols=\"50\"&gt;&lt;/textarea&gt;\n\n     &lt;button id=\"note9btn\" data-role=\"button\"&gt;Note #9&lt;/button&gt;\n     &lt;textarea id=\"note9input\" class=\"textarea hide\" rows=\"10\" cols=\"50\"&gt;&lt;/textarea&gt;\n\n      &lt;button id=\"note10btn\" data-role=\"button\"&gt;Note #10&lt;/button&gt;\n      &lt;textarea id=\"note10input\" class=\"textarea hide\" rows=\"10\" cols=\"50\"&gt;&lt;/textarea&gt;\n\n      &lt;button id=\"savenotesbtn\" data-role=\"button\"&gt;Save&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>$(document).ready(function () {\n    var savesnotesbtn = document.getElementById(\"savenotesbtn\");\n\n    //FILL TEXT AREAS WITH NOTES\n    for (var i = 1; i &lt; 11; i++) {\n        $(\"#note\" + i + \"input\").val(localStorage.getItem(\"note\" + i));\n    }\n\n\n    //SWIPE LEFT\n    $(document).on('swipeleft', '.ui-page', function (event) {\n        if (event.handled !== true) { // This will prevent event triggering more then once   \n            var nextpage = $.mobile.activePage.next('[data-role=\"page\"]');\n            // swipe using id of next page if exists\n            if (nextpage.length &gt; 0) {\n                $.mobile.changePage(nextpage, {transition: \"slide\", reverse: false}, true, true);\n            }\n            event.handled = true;\n        }\n        return false;\n    });\n\n    //SWIFE RIGHT\n    $(document).on('swiperight', '.ui-page', function (event) {\n        if (event.handled !== true) { // This will prevent event triggering more then once\n            var prevpage = $(this).prev('[data-role=\"page\"]');\n            if (prevpage.length &gt; 0) {\n                $.mobile.changePage(prevpage, {transition: \"slide\", reverse: true}, true, true);\n            }\n            event.handled = true;\n        }\n        return false;\n    });\n\n    //DISPLAY NOTE\n    $(\"body\").on('click', '[id^=\"note\"]', function (e) {\n        $(this).next('textarea').toggleClass(\"hide\");\n    });\n\n    $(\".textarea\").on('input', function () {\n        $(\"#savenotesbtn\").addClass(\"notSaved\");\n    });\n\n\n    savesnotesbtn.addEventListener(\"click\", saveNotes);\n\n});\n\n//SAVE NOTES\n    function saveNotes() {\n        //Change styles of button\n        $(\"#savenotesbtn\").removeClass(\"notSaved\").addClass(\"Saved\");       \n\n        //Save notes in local storage\n        for (var i = 1; i &lt; 11; i++) {\n        localStorage.getItem(\"note\" + i, $(\"#note\" + i + \"input\").val());\n        }\n\n    }\n</code></pre>\n"}, {"tags": ["javascript", "python", "html"], "comments": [{"owner": {"reputation": 15907, "user_id": 3527940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k1R45.jpg?s=128&g=1", "display_name": "jcaron", "link": "https://stackoverflow.com/users/3527940/jcaron"}, "edited": false, "score": 0, "creation_date": 1490221466, "post_id": 42963075, "comment_id": 73021558, "body": "What&#39;s the path of your script? Do you see any errors in your browser&#39;s console?"}, {"owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "edited": false, "score": 0, "creation_date": 1490225921, "post_id": 42963075, "comment_id": 73023335, "body": "&quot;the buttons do not seem to work&quot;? How?"}], "owner": {"reputation": 1, "user_id": 7753708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92248353e3f2e2d7414da96bd890e7b8?s=128&d=identicon&r=PG&f=1", "display_name": "Nikkkki", "link": "https://stackoverflow.com/users/7753708/nikkkki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 500, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490228987, "creation_date": 1490218510, "last_edit_date": 1490228987, "question_id": 42963075, "link": "https://stackoverflow.com/questions/42963075/running-html-javascript-code-using-cgi-bin-and-python", "title": "Running HTML/JavaScript code using CGI-Bin and Python", "body": "<p>I have two buttons that both require a call to CGI scripts in the CGI-Bin. Using simple xmlhttp in html I was able to call the scripts and have it working. However I copied my exact code, but this time using python and printing the HTML as seen below. However the buttons do not seem to work when been clicked... Do I need to do something differently?</p>\n\n<pre><code>   #!/usr/bin/python\n   # enable debugging\n   import cgi\n   import cgitb\n   cgitb.enable()\n   print \"Content-Type: text/html;charset=utf-8\"\n   print\n   print '''&lt;!DOCTYPE html&gt;\n   ******More code and stuff******\n   &lt;h2&gt;Change Status of Door&lt;/h2&gt;\n   &lt;button style=\"height: 50px; width: 100px\" onclick=\"lock()\"&gt;Lock&lt;/button&gt;\n   &lt;button style=\"height: 50px; width: 100px\" onclick=\"unlock()\"&gt;Unlock&lt;/button&gt;\n\n   &lt;script type=\"text/javascript\"&gt;\n   var xmlhttp;\n   xmlhttp=new XMLHttpRequest();\n\n   function lock()\n       {\n           xmlhttp.open(\"GET\",\"cgi-bin/lock.cgi\",true);\n           xmlhttp.send();\n       }\n   function unlock()\n       {\n           xmlhttp.open(\"GET\",\"cgi-bin/unlock.cgi\",true);\n           xmlhttp.send();\n       }\n   &lt;/script&gt;\n   '''\n   print '''\n   &lt;/body&gt;\n   &lt;/html&gt;'''\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "express", "twitter", "socket.io"], "comments": [{"owner": {"reputation": 93, "user_id": 2971327, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4148d972756808be14d73b1b463969d?s=128&d=identicon&r=PG", "display_name": "DougLuce", "link": "https://stackoverflow.com/users/2971327/dougluce"}, "edited": false, "score": 0, "creation_date": 1490645973, "post_id": 42963060, "comment_id": 73195957, "body": "I&#39;ll work on this some more and see if I can find a solution for it. I&#39;m sure this is a little tough for someone to test because they have to get an API key from Twitter to test it. I&#39;ll see if maybe I can get a temporary API key."}], "owner": {"reputation": 93, "user_id": 2971327, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4148d972756808be14d73b1b463969d?s=128&d=identicon&r=PG", "display_name": "DougLuce", "link": "https://stackoverflow.com/users/2971327/dougluce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1490218440, "creation_date": 1490218440, "question_id": 42963060, "link": "https://stackoverflow.com/questions/42963060/duplicated-output-from-twit-npm-module-twitter-api", "title": "Duplicated output from Twit (NPM module &amp; Twitter API)", "body": "<p>I'm building a portfolio website and I want to integrate a live Twitter feed. I'm using Node, Socket.IO, Express, and Twit. I have the stream working and outputting the tweets to the page, but when the client refreshes or disconnects and reconnects the tweets are then duplicated, as in I receive multiples of the same tweet. The server side of the code is connecting to the Twitter API using Twit to get a stream from Twitter's public stream containing all tweets about a supplied hashtag, and then sending them to the client using <code>io.sockets.emit()</code>.</p>\n\n<p>What I think is happening is the client is still connected and receiving the tweets, then on reconnect receives them again.</p>\n\n<p>Here is my backend code and further down my client side code (planning on refactoring this to multiple modules). Pictures supplied at the bottom.</p>\n\n<p>Thanks for the help on this, I have been having a blast with Node so far!</p>\n\n<pre><code>var express = require('express');\nvar app = express();\nvar http = require('http');\nvar server = http.createServer(app);\nvar io = require('socket.io').listen(server);\nserver.listen(3000);\n\n//To Do refactor\napp.get('/style.css', function(req, res) {\n  res.sendFile(__dirname + \"/public/style.css\");\n});\n\napp.get('/feed.html', function (req, res) {\n  res.sendFile(__dirname + \"/public/feed.html\");\n});\n\napp.get('/index.html', function (req, res) {\n  res.sendFile(__dirname + \"/public/index.html\");\n});\n\napp.get('/', function (req, res) {\n  res.sendFile(__dirname + \"/public/index.html\");\n});\n\napp.get('/contact.html', function (req, res) {\n  res.sendFile(__dirname + \"/public/contact.html\");\n});\n\napp.get('/work.html', function (req, res) {\n  res.sendFile(__dirname + \"/public/work.html\");\n});\n\napp.get('/social.html', function (req, res) {\n  res.sendFile(__dirname + \"/public/social.html\");\n});\n\napp.get('/about.html', function (req, res) {\n  res.sendFile(__dirname + \"/public/about.html\");\n});\n\nvar Twit = require('twit');\nvar watchList = ['#USA'];\n var T = new Twit({\n    consumer_key:         ''\n  , consumer_secret:      ''\n  , access_token:         ''\n  , access_token_secret:  ''\n})\n\nio.sockets.on('connection', function (socket) {\n  console.log('Connected');\n\n var stream = T.stream('statuses/filter', { track: watchList });\n\n  stream.on('tweet', function (tweet) {\n    if(tweet.text !== undefined){\n      //console.log(tweet.text);\n       io.sockets.emit('stream',tweet.text);\n    }\n  });\n\n  socket.on('disconnect', function(){\n    console.log('Disconnected');\n  });\n\n });\n</code></pre>\n\n<p>Here is my client side code:</p>\n\n<pre><code>&lt;script&gt;\n          var socket = io.connect('http://localhost:3000');\n          var count = 0;\n\n          socket.on('stream', function(tweet){       \n          if(count &lt; 10)   {\n            $('#tweetd').append(tweet + '&lt;br&gt;');\n            count++;\n            //console.log(count)\n          }\n        });\n  &lt;/script&gt;\n &lt;div id=\"tweetd\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/s6G3D.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s6G3D.jpg\" alt=\"This is on the first connection\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/ONlOB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ONlOB.jpg\" alt=\"This is what is looks like on the reconnection\"></a></p>\n"}, {"tags": ["javascript", "jquery", "html"], "answers": [{"comments": [{"owner": {"reputation": 347, "user_id": 7179818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28e7ffde2341b5675fa6d0100a84874?s=128&d=identicon&r=PG&f=1", "display_name": "Brett Harris", "link": "https://stackoverflow.com/users/7179818/brett-harris"}, "edited": false, "score": 0, "creation_date": 1490218577, "post_id": 42963017, "comment_id": 73020310, "body": "This would consider 0 as negative."}, {"owner": {"reputation": 9229, "user_id": 2571021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/87cbb4445df2a3318c04b951bf1d8148?s=128&d=identicon&r=PG", "display_name": "Dijkgraaf", "link": "https://stackoverflow.com/users/2571021/dijkgraaf"}, "edited": false, "score": 0, "creation_date": 1490219069, "post_id": 42963017, "comment_id": 73020527, "body": "An explanation of why the OPs code did not work and the key point as to why yours did, e.g that there were more than one item with the id status so that you needed to iterate through them, would improve your answer."}], "tags": [], "owner": {"reputation": 5947, "user_id": 5771750, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mBNlv.png?s=128&g=1", "display_name": "Chris Happy", "link": "https://stackoverflow.com/users/5771750/chris-happy"}, "is_accepted": false, "score": 1, "last_activity_date": 1490219507, "last_edit_date": 1490219507, "creation_date": 1490218309, "answer_id": 42963017, "question_id": 42962967, "link": "https://stackoverflow.com/questions/42962967/javascript-css-am-i-doing-right-this-way/42963017#42963017", "title": "JavaScript &amp; CSS - Am I doing right this way?", "body": "<p>Try this!</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//run code for every element with the status class\r\n$(\".status\").each(function () { \r\n\r\n   //cache which element is $(this) to make code load faster\r\n   $this = $(this); \r\n\r\n   //cache the text of $(this)\r\n   //parseInt() makes \"text\" into number so that we can use \"&gt;\", \"&lt;\", etc..\r\n   number = parseInt( $this.text() ); \r\n   \r\n   //if number is great than or equal to zero, make it green\r\n   if (number &gt;= 0) { \r\n     $this.css(\"color\", \"green\")\r\n\r\n   //if the number is NOT greater than or equal to zero, make it red\r\n   } else {\r\n     $this.css(\"color\", \"red\")\r\n   }\r\n\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"status\"&gt;-10&lt;/div&gt;\r\n&lt;div class=\"status\"&gt;2&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Note: this makes 0 also green.</p>\n\n<p>Improving your code:</p>\n\n<ul>\n<li>use <code>[.each()][1]</code> so that you can run the code for every element</li>\n<li>use <code>$(this)</code> to select the text for <em>that</em> element</li>\n</ul>\n\n<p>You could use <code>.html()</code> instead of <code>.text()</code> and maybe your <code>filter</code> function, but this is just how I do it :)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function () {\r\n\r\n$(\".status\").each(function (){ //add .each\r\n\r\n    $(this).filter(function () { //add $(this)\r\n    return $(this).html() &lt; 0;\r\n})\r\n    .css('color', 'blue'); //remove parent\r\n});\r\n\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"status\"&gt;-10&lt;/div&gt;\r\n&lt;div class=\"status\"&gt;2&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 304305, "user_id": 519413, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7839089cd91dc5cc5eb1e0cdbf3312ed?s=128&d=identicon&r=PG", "display_name": "Rory McCrossan", "link": "https://stackoverflow.com/users/519413/rory-mccrossan"}, "is_accepted": false, "score": 1, "last_activity_date": 1490219141, "creation_date": 1490219141, "answer_id": 42963239, "question_id": 42962967, "link": "https://stackoverflow.com/questions/42962967/javascript-css-am-i-doing-right-this-way/42963239#42963239", "title": "JavaScript &amp; CSS - Am I doing right this way?", "body": "<p>The main issue with your code is that you're comparing a string (the value of <code>html()</code>) to an integer. You can also simplify the code by providing a function to <code>addClass()</code> which deals with the logic. Try this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\".status\").addClass(function() {\r\n  return parseInt($(this).html(), 10) &lt; 0 ? 'negative' : 'positive';\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.positive { color: #0C0; }\r\n.negative { color: #C00; }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;span class=\"status\"&gt;10&lt;/span&gt;&lt;br /&gt;\r\n&lt;span class=\"status\"&gt;-1&lt;/span&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Note that this would technically consider <code>0</code> to be a 'positive' value. The logic in the <code>addClass()</code> handler function can easily be changed if you do not want that behaviour.</p>\n"}], "owner": {"reputation": 57, "user_id": 2741456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bXPOk.jpg?s=128&g=1", "display_name": "Chinmay Rajyaguru", "link": "https://stackoverflow.com/users/2741456/chinmay-rajyaguru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1490219507, "creation_date": 1490218061, "question_id": 42962967, "link": "https://stackoverflow.com/questions/42962967/javascript-css-am-i-doing-right-this-way", "title": "JavaScript &amp; CSS - Am I doing right this way?", "body": "<p>I would like to add 'RED' color while value comes negative and 'GREEN' color for positive value. I tried a lot to figure out why it's not working but don't get success.</p>\n\n<p>Kindly correct my script. What's wrong in below code:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;script src=\"http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js\"&gt;&lt;/script&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function () {\n$(\".status\")\n    .filter(function () {\n    return $(this).html() &lt; 0;\n})\n    .parent().css('color', 'blue');\n});\n&lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;span class=\"status\"&gt;10&lt;/span&gt;&lt;br /&gt;\n&lt;span class=\"status\"&gt;-1&lt;/span&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "php", "jquery", "mysql", "json"], "comments": [{"owner": {"reputation": 6983, "user_id": 2359679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pdw9s.jpg?s=128&g=1", "display_name": "hassan", "link": "https://stackoverflow.com/users/2359679/hassan"}, "edited": false, "score": 0, "creation_date": 1490218855, "post_id": 42962948, "comment_id": 73020439, "body": "your code is <b>vulnerable</b> to sql injection attacks;"}], "answers": [{"comments": [{"owner": {"reputation": 461, "user_id": 6166209, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/YEb1m.jpg?s=128&g=1", "display_name": "Fala", "link": "https://stackoverflow.com/users/6166209/fala"}, "edited": false, "score": 0, "creation_date": 1490218574, "post_id": 42963070, "comment_id": 73020309, "body": "Thank you! let me give it a try and get back to you."}], "tags": [], "owner": {"reputation": 28915, "user_id": 179216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/08Iyn.png?s=128&g=1", "display_name": "Jeff B", "link": "https://stackoverflow.com/users/179216/jeff-b"}, "is_accepted": true, "score": 1, "last_activity_date": 1490218919, "last_edit_date": 1490218919, "creation_date": 1490218490, "answer_id": 42963070, "question_id": 42962948, "link": "https://stackoverflow.com/questions/42962948/how-to-pass-a-javascript-variable-to-php-using-getjson/42963070#42963070", "title": "How to pass a javascript variable to php using getJSON", "body": "<p>You use the builtin global <code>$_GET</code> to retrieve parameters:</p>\n\n<pre><code>&lt;?php\nif (isset($_GET['userid'])) {\n    $USERID = $_GET['userid'];\n} else {\n    $USERID = \" \";\n}\n?&gt;\n</code></pre>\n\n<p>And to pass the value from jQuery:</p>\n\n<pre><code>$.getJSON(url,\n{\n    userid: myUserID \n},\nfunction (result) {\n        // your result function\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 461, "user_id": 6166209, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/YEb1m.jpg?s=128&g=1", "display_name": "Fala", "link": "https://stackoverflow.com/users/6166209/fala"}, "edited": false, "score": 0, "creation_date": 1490219199, "post_id": 42963105, "comment_id": 73020585, "body": "Thank you for your answer, same as first answer which I already tried! But I really appreciate you taking the time to help me."}, {"owner": {"reputation": 871, "user_id": 7742642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b47333950e67476df0595fedc0b79056?s=128&d=identicon&r=PG", "display_name": "Simon K", "link": "https://stackoverflow.com/users/7742642/simon-k"}, "reply_to_user": {"reputation": 461, "user_id": 6166209, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/YEb1m.jpg?s=128&g=1", "display_name": "Fala", "link": "https://stackoverflow.com/users/6166209/fala"}, "edited": false, "score": 0, "creation_date": 1490219301, "post_id": 42963105, "comment_id": 73020639, "body": "No problem. I&#39;m new to stack overflow. I find it frustrating when I have taken time to answer a question and half way though, writing the answer, someone else comes in with the same answer before me and steals my thunder! Ah well!"}, {"owner": {"reputation": 461, "user_id": 6166209, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/YEb1m.jpg?s=128&g=1", "display_name": "Fala", "link": "https://stackoverflow.com/users/6166209/fala"}, "edited": false, "score": 0, "creation_date": 1490219874, "post_id": 42963105, "comment_id": 73020893, "body": "Haha, yeah it happened to me before! this is how it is, first correct answer and you&#39;re obligated to mark it as complete, lol. Thanks and sorry again."}], "tags": [], "owner": {"reputation": 871, "user_id": 7742642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b47333950e67476df0595fedc0b79056?s=128&d=identicon&r=PG", "display_name": "Simon K", "link": "https://stackoverflow.com/users/7742642/simon-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1490218625, "creation_date": 1490218625, "answer_id": 42963105, "question_id": 42962948, "link": "https://stackoverflow.com/questions/42962948/how-to-pass-a-javascript-variable-to-php-using-getjson/42963105#42963105", "title": "How to pass a javascript variable to php using getJSON", "body": "<p>Change this...</p>\n\n<pre><code>$$.getJSON(url, function (result) {\n</code></pre>\n\n<p>To this...</p>\n\n<pre><code>$$.getJSON(url, {userID:123}, function (result) {\n</code></pre>\n\n<p>Set 123 to whatever value you want.</p>\n\n<p>Then in your PHP get your variable from $_GET['userID']</p>\n\n<p>Be careful. Your script is vulnerable to SQL injection.</p>\n"}], "owner": {"reputation": 461, "user_id": 6166209, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/YEb1m.jpg?s=128&g=1", "display_name": "Fala", "link": "https://stackoverflow.com/users/6166209/fala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 352, "favorite_count": 0, "accepted_answer_id": 42963070, "answer_count": 2, "score": 0, "last_activity_date": 1490218919, "creation_date": 1490218000, "question_id": 42962948, "link": "https://stackoverflow.com/questions/42962948/how-to-pass-a-javascript-variable-to-php-using-getjson", "title": "How to pass a javascript variable to php using getJSON", "body": "<p>I'm trying to create a page that lists some notifications according to the user id.</p>\n\n<p>I have this Javascript function to get the results as JSON</p>\n\n<pre><code>  var url=\"http://localhost/app/demo/getNotifications.php\";\n    $$.getJSON(url, function (result) {\n      $$.each(result, function (i, field) {\n\n        var nID = field.id;\n        var nDonor = field.donor_id;\n\n        // APPENDS DATA TO LISTFVIEW\n        $$(\"#notlistview\").append(\"HTML HERE\");\n      });\n\n    });\n</code></pre>\n\n<p>And this is the php file:</p>\n\n<pre><code>&lt;?php\ninclude \"db1.php\";\n\n$USERID = \" \";\n\n$data=array();\n$q=mysqli_query($con,\"SELECT * FROM blood_donations WHERE requester_id='USERID'  ORDER BY `id` DESC\");\nwhile ($row=mysqli_fetch_object($q)){\n $data[]=$row;\n}\necho json_encode($data);\n?&gt;\n</code></pre>\n\n<p>My question is how do I pass a value from javascript to fill in the $USERID in the php file with the sent Value?</p>\n\n<p>I only need to retrieve the results related to the USERID, so if you have another way, that's fine too.</p>\n"}, {"tags": ["javascript", "reactjs", "react-native", "jestjs", "enzyme"], "answers": [{"tags": [], "owner": {"reputation": 4783, "user_id": 3071332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5f7908389d809c55c8032331aebe8ee?s=128&d=identicon&r=PG&f=1", "display_name": "TLadd", "link": "https://stackoverflow.com/users/3071332/tladd"}, "is_accepted": false, "score": 0, "last_activity_date": 1490229716, "creation_date": 1490229716, "answer_id": 42965217, "question_id": 42962940, "link": "https://stackoverflow.com/questions/42962940/calling-a-function-from-a-parent-class-to-test-the-child-class/42965217#42965217", "title": "Calling a function from a parent class to test the child class", "body": "<p>I'm not sure the test you are describing makes sense to write. The issue is that from LeagueTeamAbout's perspective, it doesn't know anything about StyleButton. StyleButton is passed in as part of a prop to LeagueTeamAbout, but it presumably could be passed any number of other things. </p>\n\n<p>In general, you don't take into account all the places a component may be used when writing a unit test for it; it's just about testing the component's functionality in isolation. You wouldn't want to have to update a component's test every time you use it somewhere else, unless you actually changed that component's functionality in some way.</p>\n\n<p>You would test the interaction between the LeagueTeamAbout component and the StyleButton component in TeamDetail-test.js, since that's where these two components appear together. I would write a test there that basically asserts the LeagueTeamAbout component is passed the correct details prop (including the StyleButton's) given different sets of props (canMessage set to true and false, for instance)</p>\n"}], "owner": {"reputation": 969, "user_id": 2744963, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/d54577f9d444943e85dafbbd7ab0b85e?s=128&d=identicon&r=PG", "display_name": "Justus Eapen", "link": "https://stackoverflow.com/users/2744963/justus-eapen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 507, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1536770819, "creation_date": 1490217959, "last_edit_date": 1536770819, "question_id": 42962940, "link": "https://stackoverflow.com/questions/42962940/calling-a-function-from-a-parent-class-to-test-the-child-class", "title": "Calling a function from a parent class to test the child class", "body": "<p>I'm a writing a test with Jest and Enzyme to test the functionality of a component in a React Native application.</p>\n\n<p>There is a parent component and a child component that used a method in the parent to instantiate.</p>\n\n<p>To elaborate, here is a abridged version of the parent class:</p>\n\n<pre><code>const TeamDetail = React.createClass({\n  propTypes: {\n    team: PropTypes.object.isRequired,\n\n   ...[INSERT MANY REQUIRED PROPS HERE]\n\n    viewTeamMessageFeed: PropTypes.func.isRequired,\n  },\n\n    ... INIT LOGIC ...\n\n  render() {\n    return (\n      &lt;TabContainer\n        containerStyle={styles.tabContainer}\n        primaryTab={'board'}\n        tabs={this.tabs()}\n        /&gt;\n    )\n  },\n  tabs() {\n    let tabs = [\n      this.tab('board', this.renderBoard()),\n    ];\n\n    return (tabs);\n  },\n  tab(name: string, panel: Object) {\n    let empty = true;\n    return({name: name, panel: panel, empty: empty})\n  },\n  renderBoard() {\n    return(\n      &lt;LeagueTeamAbout\n        item={this.props.team}\n        details={this.teamDetails()}\n      /&gt;\n    )\n  },\n  ...MORE METHODS...THIS NEXT ONE IS IMPORTANT:\n  renderMessagingButton() {\n    if (this.props.canMessage) {\n      return (\n        &lt;StyledButton buttonText='Messaging' onPress={() =&gt; this.props.viewTeamMessageFeed(this.props.team)} /&gt;\n      );\n    }\n    return null;\n  ...\n</code></pre>\n\n<p>OK, so that's the parent.</p>\n\n<p>I'm testing the parent component <code>&lt;LeagueTeamAbout/&gt;</code></p>\n\n<p>That component has a details property that is set by the teamDetails() method. <code>teamDetails()</code> returns a details object that includes a messaging attribute that is set by the <code>renderMessagingButton()</code> method.</p>\n\n<p>I'm trying to write a test that expects the <code>messagingButton</code> to execute the <code>viewTeamMessageFeed()</code> method upon being tapped by the user.</p>\n\n<p>How do I write this test? I need to somehow call <code>renderMessagingButton()</code> to mock the <code>LeagueTeamAbout</code> details object. </p>\n\n<p><strong>How do I call the parent component's <code>renderMessagingButton()</code> function from the <code>LeagueTeamAbout-test.js</code> file?</strong></p>\n"}, {"tags": ["javascript", "c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 1757, "user_id": 7547940, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o9hMH.jpg?s=128&g=1", "display_name": "rayepps", "link": "https://stackoverflow.com/users/7547940/rayepps"}, "edited": false, "score": 0, "creation_date": 1490219684, "post_id": 42962921, "comment_id": 73020803, "body": "I think Eduardo got the issue right but as an aside you should not be stuffing the ViewBag with variables you want on your view. It was created so you could have access to those variables out of the scope of your view in _Layout.cshtml. Create a PersonalityViewModel.cs class with the properties you want your view to have access to then initialize it and populate its values in the controller and pass it to your view."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1490221240, "post_id": 42962921, "comment_id": 73021461, "body": "If this is the actual code, there&#39;s something else going on here. Your function builds the script using <code>&quot;&lt;script type=\\&quot;text&#47;javascript\\&quot;&gt;&quot;</code>, which would be <code>&lt;script type=&quot;text&#47;javascript&quot;&gt;</code> after unescape, but your &quot;what is being returned&quot; shows <code>&lt;script type=&#39;text&#47;javascript&#39; &gt;</code>. Note the difference in quote marks and spacing. There&#39;s obviously something going on that&#39;s not shown here."}, {"owner": {"reputation": 13, "user_id": 5780666, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/bb7ca93a7544ec7fb549f783fab07e59?s=128&d=identicon&r=PG&f=1", "display_name": "Miranda Johnson", "link": "https://stackoverflow.com/users/5780666/miranda-johnson"}, "edited": false, "score": 0, "creation_date": 1490280606, "post_id": 42962921, "comment_id": 73050857, "body": "Yes I saw that too."}], "answers": [{"tags": [], "owner": {"reputation": 36917, "user_id": 2385, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/b80a2c9f2d1e1bcaeee6bd4ec86550de?s=128&d=identicon&r=PG", "display_name": "Eduardo Molteni", "link": "https://stackoverflow.com/users/2385/eduardo-molteni"}, "is_accepted": false, "score": 0, "last_activity_date": 1490218615, "creation_date": 1490218615, "answer_id": 42963103, "question_id": 42962921, "link": "https://stackoverflow.com/questions/42962921/dynamically-generated-javascript-in-asp-net-mvc-view/42963103#42963103", "title": "Dynamically generated javascript in ASP.NET MVC view", "body": "<p>Look into the <code>Personality.cshtml</code> view. There you will find the  <code>(function($){</code> code</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 5780666, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/bb7ca93a7544ec7fb549f783fab07e59?s=128&d=identicon&r=PG&f=1", "display_name": "Miranda Johnson", "link": "https://stackoverflow.com/users/5780666/miranda-johnson"}, "is_accepted": false, "score": 0, "last_activity_date": 1490288518, "creation_date": 1490288518, "answer_id": 42982501, "question_id": 42962921, "link": "https://stackoverflow.com/questions/42962921/dynamically-generated-javascript-in-asp-net-mvc-view/42982501#42982501", "title": "Dynamically generated javascript in ASP.NET MVC view", "body": "<p>I found the cause.  I have the MVC Controls Toolkit in  the project.</p>\n\n<p>There was the following code </p>\n\n<pre><code> public static class MySuperPackage {\n    public static void PreStart() {\n        MVCControlsToolkit.Core.Extensions.Register();\n        //System.Web.Mvc.GlobalFilters.Filters.Add(new MVCControlsToolkit.ActionFilters.PlaceJavascriptAttribute());\n    }\n}\n</code></pre>\n\n<p>Commenting out the adding of the filter resolved the issue </p>\n"}], "owner": {"reputation": 13, "user_id": 5780666, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/bb7ca93a7544ec7fb549f783fab07e59?s=128&d=identicon&r=PG&f=1", "display_name": "Miranda Johnson", "link": "https://stackoverflow.com/users/5780666/miranda-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 270, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1490288518, "creation_date": 1490217866, "last_edit_date": 1490220899, "question_id": 42962921, "link": "https://stackoverflow.com/questions/42962921/dynamically-generated-javascript-in-asp-net-mvc-view", "title": "Dynamically generated javascript in ASP.NET MVC view", "body": "<p>I have a database which holds some Javascripts.  The texts displayed to the user vary by section and languge.  The correct script needed is pulled using a SPROC.  This is then assigned in the controller to the ViewBag.  It is then displayed on the view.  Every thing works great except for one obstacle, it is adding jQuery function around my Javascript which then makes it not work.  I set a break point in the controller and can clearly see that it does not have the jQuery function when on the controller.  I thought perhaps if I added the script\ntag in the controller and then wrote it to the view using Html.Raw that it might fix it but nope.  </p>\n\n<p>here is the code in the controller</p>\n\n<pre><code> public ActionResult Personality(int AssessmentID, int ProfileID, int LanguageID)\n    {\n        string script = \"&lt;script type=\\\"text/javascript\\\"&gt;\";\n        var questions = db.CRI_AssessmentQuestions.Where(a =&gt; a.SectionID == 1 &amp;&amp; a.LanguageID == LanguageID).OrderBy(a =&gt; a.Sequence);\n        using (SqlConnection oConn = new SqlConnection(ConfigurationManager.ConnectionStrings[\"CRI_Support\"].ConnectionString))\n        {\n            SqlCommand oCmd = new SqlCommand();\n            object pages;\n            oCmd.CommandText = \"CRI_GetSectionCount\";\n            oCmd.CommandType = CommandType.StoredProcedure;\n            oCmd.Parameters.Add(new SqlParameter(\"@AssessmentID\", AssessmentID));\n            oCmd.Connection = oConn;\n            oConn.Open();\n            pages = oCmd.ExecuteScalar();\n            oConn.Close();\n            oCmd.Dispose();\n            ViewBag.NumPages = pages.ToString();\n\n            SqlCommand myCmd = new SqlCommand();\n            object mids;\n            myCmd.CommandText = \"CRI_GetAllowedMiddles\";\n            myCmd.CommandType = CommandType.StoredProcedure;\n            myCmd.Parameters.Add(new SqlParameter(\"@AssessmentID\", AssessmentID));\n            myCmd.Connection = oConn;\n            oConn.Open();\n            mids = myCmd.ExecuteScalar();\n            oConn.Close();\n            myCmd.Dispose();\n            ViewBag.Middles = mids.ToString();\n\n            SqlCommand tCmd = new SqlCommand();\n            object totalQ;\n            tCmd.CommandText = \"PersonalityQuestionCount\";\n            tCmd.CommandType = CommandType.StoredProcedure;\n            tCmd.Parameters.Add(new SqlParameter(\"@AssessmentID\", AssessmentID));\n            tCmd.Connection = oConn;\n            oConn.Open();\n            totalQ = tCmd.ExecuteScalar();\n            oConn.Close();\n            tCmd.Dispose();\n\n            SqlCommand cmd = new SqlCommand();\n            Object returnValue;\n            cmd.CommandText = \"CRI_GetNewScript\";\n            cmd.CommandType = CommandType.StoredProcedure;\n            cmd.Parameters.Add(new SqlParameter(\"@SectionID\", 1));\n            cmd.Parameters.Add(new SqlParameter(\"@LanguageID\", LanguageID));\n            cmd.Connection = oConn;\n            oConn.Open();\n            returnValue = cmd.ExecuteScalar();\n            oConn.Close();\n            cmd.Dispose();\n            script += returnValue.ToString() + \"&lt;/script&gt;\";\n            script = script.Replace(\"#iPageNumber#\", \"1\").Replace(\"#iTotalPages#\", pages.ToString()).Replace(\"#iAllowedMiddles#\", mids.ToString()).Replace(\"#TotalQuestions#\", totalQ.ToString());\n        }\n        ViewBag.Script = script;\n        ViewBag.AssessmentID = AssessmentID;\n        ViewBag.ProfileID = ProfileID;\n        ViewBag.LanguageID = LanguageID;\n        return View(questions);\n    }\n</code></pre>\n\n<p>here is the code in the view </p>\n\n<pre><code>@Html.Raw(ViewBag.Script) \n</code></pre>\n\n<p>and here is what is being returned </p>\n\n<pre><code>    &lt;script type='text/javascript' &gt;\n(function($){\n\nvar message = \"\";\nvar pagenumber =  1;\nvar totalpages = 6;\nvar middles = 7;\nvar boolDisplayPassword = false;\nvar allow = \"\";\nswitch(middles){\n    case 7:\n        allow = \"twenty (20) minutes\";\n        break;\n    case 6:\n        allow = \"seventeen (17) minutes\";\n        break;\n    case 5:\n        allow = \"fourteen (14) minutes\";\n        break;\n    case 4:\n        allow = \"twelve (12) minutes\";\n        break;\n    case 3:\n        allow = \"nine (9) minutes\";\n        break;\n    case 2:\n        allow = \"six (6) minutes\";\n        break;\n}\nfunction instructions(){\n    section=\"Personality\"\n    self.status=\":  This is section \"+pagenumber+\" of \"+totalpages\n    message+=\"&lt;br /&gt;&lt;br /&gt;&lt;p&gt;The first assessment is a series of 76 questions that is not timed. There are no right or wrong answers. \";\n    message+=\"Since we are interested in your style of doing things, it is in your best interest to answer the questions \";\n    message+=\"with openness and honesty using your own value system, not what you think the Administrator wants you to say.\";\n    message+=\" There is a consistency measure built into the assessment, so guessing at the intent of the questions is likely \";\n    message+=\"to present a highly distorted profile of your results. Your candid responses are always the best answers.&lt;/p&gt;\";\n    message+=\"&lt;p&gt;Answer each question by clicking the circle next to the answer you want to select.&lt;/p&gt;\";\n    message+=\"&lt;p&gt;&lt;strong&gt;DO NOT SELECT MORE THAN \"+middles+\" MIDDLE RESPONSES!&lt;/strong&gt;&lt;/p&gt;\";\n    message+=\"&lt;p&gt;This exercise should take approximately \" + allow +\", but it is not timed. Answer each question honestly.\";\n    message+=\" If you give untrue responses, they will show up in the assessment results!&lt;/p&gt;&lt;br /&gt;&lt;p&gt;Please be aware that taking this assessment when ill, under the influence \";\n    message+=\"of medications that can impact your mental alertness, or when you are feeling overly tired may negatively impact the results.\";  \n    message+=\"  We encourage you to take the assessment when you are rested and feeling well.&lt;/p&gt;\";\n    message+='&lt;br /&gt;&lt;br /&gt;&lt;p style=\"text-align:center;\"&gt;&lt;a href=\"javascript:void(0)\" onClick=\"displayAssessment();\" style=\"font:bold 1.2em arial\" alt=\"click to continue\"&gt;&lt;strong&gt;continue&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;';   \n    document.getElementById('message').style.display = \"block\";     \n    document.getElementById('message').innerHTML = message; \n}\nfunction returncheck(f){\n    var totalMids = 0;\n    var numCheckedResp = 0;\n    var numQuestion = 0;\n    var currOption = \"\";\n\n    for(i=0; i &lt; f.elements.length; i++){\n        if(f.elements[i].type == \"radio\"){\n            if(f.elements[i].name == currOption){   \n                if(f.elements[i].checked){\n                    numCheckedResp++;\n                    if(f.elements[i].value == \"2\"){\n                        totalMids ++;\n                    }\n                }\n            }else{\n                if(f.elements[i].checked){\n                    numCheckedResp++;\n                }           \n                currOption = f.elements[i].name;\n                numQuestion++;              \n            }\n\n        }\n    }\n    if(f.MidChoices.value == 0){\n        f.MidChoices.value = totalMids;\n    }\n    if(!(numQuestion == numCheckedResp)){\n        ErrMsg = \"You have answered \"+numCheckedResp+\" of the \"+numQuestion+\" questions.&lt;br /&gt;Please go back and answer all questions.\";\n        document.getElementById('errors').innerHTML = ErrMsg;\n        document.getElementById('DisplayUserError').style.visibility = 'visible';\n        return false;\n    }else{\n        if(totalMids &gt; 7){\n            ErrMsg = \"You have answered \"+totalMids+\" middle Questions.&lt;br /&gt;Please go back and change \"+(totalMids - 7)+\" of the answers.\";\n            document.getElementById('errors').innerHTML = ErrMsg;\n            document.getElementById('DisplayUserError').style.visibility = 'visible';\n            return false;\n        }else{\n            return true;\n        }\n    }\n}\nfunction displayAssessment(){\n    document.getElementById('message').innerHTML = \"\";\n    document.getElementById('message').style.display = \"none\"; \n    document.getElementById('AssessmentData').style.display = \"block\"; \n}\n\n})(jQuery);\n&lt;/script&gt;\n</code></pre>\n\n<p>this is NOT jQuery  so it should not have  </p>\n\n<pre><code>(function($){\n})(jQuery);\n</code></pre>\n\n<p>What do I need to do to get this to display properly?</p>\n"}, {"tags": ["javascript", "firefox", "web"], "comments": [{"owner": {"reputation": 292139, "user_id": 965051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XgLe7.gif?s=128&g=1", "display_name": "adeneo", "link": "https://stackoverflow.com/users/965051/adeneo"}, "edited": false, "score": 0, "creation_date": 1490217761, "post_id": 42962875, "comment_id": 73019927, "body": "Figure out the keycodes for numbers, and exclude those"}, {"owner": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "reply_to_user": {"reputation": 292139, "user_id": 965051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XgLe7.gif?s=128&g=1", "display_name": "adeneo", "link": "https://stackoverflow.com/users/965051/adeneo"}, "edited": false, "score": 0, "creation_date": 1490217838, "post_id": 42962875, "comment_id": 73019966, "body": "@adeneo I tried that this works fine in chrome but in firefox it doesn&#39;t in the comments i listed the keycodes, but i don&#39;t know what i&#39;m missing here."}, {"owner": {"reputation": 18759, "user_id": 2226988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6fbec3a71b2e95e4a6e41478deb379?s=128&d=identicon&r=PG", "display_name": "Tom Blodget", "link": "https://stackoverflow.com/users/2226988/tom-blodget"}, "edited": false, "score": 0, "creation_date": 1490224370, "post_id": 42962875, "comment_id": 73022817, "body": "@taji01 You do realize there are 109591 <a href=\"http://www.fileformat.info/info/unicode/category/index.htm\" rel=\"nofollow noreferrer\">letter</a> characters in 6 categories. Perhaps you mean just those in the <a href=\"http://www.unicode.org/charts/nameslist/index.html\" rel=\"nofollow noreferrer\">C0 Controls and Basic Latin</a> block. (In case English is your focus, that does cover all the letters in the English alphabet but not all the letters used in English text.)"}, {"owner": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "reply_to_user": {"reputation": 18759, "user_id": 2226988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6fbec3a71b2e95e4a6e41478deb379?s=128&d=identicon&r=PG", "display_name": "Tom Blodget", "link": "https://stackoverflow.com/users/2226988/tom-blodget"}, "edited": false, "score": 0, "creation_date": 1490636543, "post_id": 42962875, "comment_id": 73190453, "body": "Thanks for the explanation, and C0 Controls and Basic Latin is a nice reference guide! @TomBlodget"}, {"owner": {"reputation": 2130, "user_id": 7386637, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b132e53835fe3b80fef2879b3bb142ad?s=128&d=identicon&r=PG&f=1", "display_name": "rpivovar", "link": "https://stackoverflow.com/users/7386637/rpivovar"}, "edited": false, "score": 0, "creation_date": 1539294022, "post_id": 42962875, "comment_id": 92461290, "body": "&quot;You do realize there are 109591 letter characters in 6 categories.&quot; I like how this is stated as if it&#39;s common knowledge."}], "answers": [{"comments": [{"owner": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "edited": false, "score": 0, "creation_date": 1490218158, "post_id": 42962929, "comment_id": 73020115, "body": "Thank you for the comment. I tried this to it lets me backspace and tab however when i type numbers it passes through."}, {"owner": {"reputation": 51, "user_id": 7751692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cc080558e97ec107f99ad20d27325cd?s=128&d=identicon&r=PG&f=1", "display_name": "jdereynal", "link": "https://stackoverflow.com/users/7751692/jdereynal"}, "reply_to_user": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "edited": false, "score": 0, "creation_date": 1490218290, "post_id": 42962929, "comment_id": 73020163, "body": "If you only want to allow certain keys, you should probably use an array with all allowed values and loop through that for every character press to see if it matches or doesn&#39;t"}, {"owner": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "edited": false, "score": 0, "creation_date": 1490219154, "post_id": 42962929, "comment_id": 73020557, "body": "I will try that to. Thanks"}], "tags": [], "owner": {"reputation": 51, "user_id": 7751692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cc080558e97ec107f99ad20d27325cd?s=128&d=identicon&r=PG&f=1", "display_name": "jdereynal", "link": "https://stackoverflow.com/users/7751692/jdereynal"}, "is_accepted": false, "score": 0, "last_activity_date": 1490217906, "creation_date": 1490217906, "answer_id": 42962929, "question_id": 42962875, "link": "https://stackoverflow.com/questions/42962875/allow-only-white-space-letters-backspace-and-tab/42962929#42962929", "title": "Allow only white space, letters, backspace, and tab", "body": "<p><code>if (inputValue === 8 &amp;&amp; inputValue === 9)</code> this condition will never pass, your var can't be equal to both 8 and 9, you should use ||</p>\n"}, {"tags": [], "owner": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "is_accepted": true, "score": 0, "last_activity_date": 1490221453, "creation_date": 1490221453, "answer_id": 42963761, "question_id": 42962875, "link": "https://stackoverflow.com/questions/42962875/allow-only-white-space-letters-backspace-and-tab/42963761#42963761", "title": "Allow only white space, letters, backspace, and tab", "body": "<p>This is what worked for me. This allows letters, white space, backspace and tab. I'm going to leave it here in case someone needs it.</p>\n\n<pre><code>                $(document).ready(function () {\n                    $(\"#inputTextBox\").keypress(function (event) {\n                        var inputValue = event.which;\n                        //Allow letters, white space, backspace and tab. \n                        //Backspace ASCII = 8 \n                        //Tab ASCII = 9 \n                        if (!(inputValue &gt;= 65 &amp;&amp; inputValue &lt;= 123)\n                            &amp;&amp; (inputValue != 32 &amp;&amp; inputValue != 0)\n                            &amp;&amp; (inputValue != 48 &amp;&amp; inputValue != 8)\n                            &amp;&amp; (inputValue != 9)){\n                                event.preventDefault(); \n                        }\n                        console.log(inputValue);\n                    });\n</code></pre>\n"}], "owner": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 876, "favorite_count": 1, "accepted_answer_id": 42963761, "answer_count": 2, "score": 0, "last_activity_date": 1584408119, "creation_date": 1490217677, "last_edit_date": 1584408119, "question_id": 42962875, "link": "https://stackoverflow.com/questions/42962875/allow-only-white-space-letters-backspace-and-tab", "title": "Allow only white space, letters, backspace, and tab", "body": "<p>I'm using Firefox to test my script out. My goal is to allow white space, letters, backspace and tab to work, but for some reason I could break my code and type in a number which I don't want. How can I fix this issue? </p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>                $(document).ready(function () {\n                    $(\"#inputTextBox\").keypress(function (event) {\n                        var inputValue = event.which;\n\n                        //Backspace ASCII = 8 \n                        //Tab ASCII = 9 \n                        if (!(inputValue &gt;= 65 &amp;&amp; inputValue &lt;= 123)) {\n                            if (inputValue === 8 &amp;&amp; inputValue === 9){\n                                event.preventDefault();\n                            }\n                        }\n                        console.log(inputValue);\n                    });\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "twitter-bootstrap-3", "bootstrap-modal", "bootstrap-datepicker"], "comments": [{"owner": {"reputation": 601, "user_id": 3569421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmROE.jpg?s=128&g=1", "display_name": "carlosrafaelgn", "link": "https://stackoverflow.com/users/3569421/carlosrafaelgn"}, "edited": false, "score": 0, "creation_date": 1591099675, "post_id": 42962863, "comment_id": 109921386, "body": "I ended up here after all these years, and replacing show with shown was not an option to me. I fixed the issue with a hack, and proposed a solution that perhaps you could use: <a href=\"https://github.com/uxsolutions/bootstrap-datepicker/issues/2571\" rel=\"nofollow noreferrer\">github.com/uxsolutions/bootstrap-datepicker/issues/2571</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1684, "user_id": 1790075, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6368f437a62530d1e8c7d69134926af7?s=128&d=identicon&r=PG", "display_name": "Mkoch", "link": "https://stackoverflow.com/users/1790075/mkoch"}, "is_accepted": true, "score": 1, "last_activity_date": 1490219125, "last_edit_date": 1495535410, "creation_date": 1490219125, "answer_id": 42963227, "question_id": 42962863, "link": "https://stackoverflow.com/questions/42962863/bootstrap-datepicker-in-bootstrap-modal/42963227#42963227", "title": "bootstrap datepicker in bootstrap modal", "body": "<p>I found the answer in a similar question: <a href=\"https://stackoverflow.com/questions/28721516/bootstrap-datepicker-not-woking-in-modal?rq=1\">Bootstrap datepicker not woking in modal</a></p>\n\n<p>To solve the issue, the <code>show.bs.modal</code> had to be replaced by <code>shown.bs.modal</code>.</p>\n"}], "owner": {"reputation": 1684, "user_id": 1790075, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6368f437a62530d1e8c7d69134926af7?s=128&d=identicon&r=PG", "display_name": "Mkoch", "link": "https://stackoverflow.com/users/1790075/mkoch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1840, "favorite_count": 0, "accepted_answer_id": 42963227, "answer_count": 1, "score": 1, "last_activity_date": 1490219125, "creation_date": 1490217643, "last_edit_date": 1490218923, "question_id": 42962863, "link": "https://stackoverflow.com/questions/42962863/bootstrap-datepicker-in-bootstrap-modal", "title": "bootstrap datepicker in bootstrap modal", "body": "<p>I have a modal window in the <code>#editorWin</code> div, which can be opened from multiple locations on the page. Each time it has a different content, coming from an Ajax query in the following way:</p>\n\n<pre><code>$('#editorWin').on('show.bs.modal', function (event) {\n         $('#modalCont').html('Loading...')\n         $.ajax({\n                // load AJAX content and overwrite Load... message\n         })\n});\n</code></pre>\n\n<p>When the modal window is opened, I want to use a Bootstrap Datepicker widget in it. When I click on the datepicker however, the AJAX loaded content of my modal window disappears. </p>\n\n<p>I suspect that opening the datepicker might trigger the <code>show.bs.modal</code> event and that messes with my former function but I'm not sure. </p>\n\n<p>There is no JS error in the console.</p>\n"}, {"tags": ["javascript", "php"], "comments": [{"owner": {"reputation": 3530, "user_id": 5436458, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/356b39dda72cd189f8cf7ae8b838c066?s=128&d=identicon&r=PG&f=1", "display_name": "Omi", "link": "https://stackoverflow.com/users/5436458/omi"}, "edited": false, "score": 0, "creation_date": 1490218110, "post_id": 42962840, "comment_id": 73020088, "body": "where is your php code"}, {"owner": {"reputation": 47, "user_id": 6866917, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ccoE4.jpg?s=128&g=1", "display_name": "Bianca Pereira", "link": "https://stackoverflow.com/users/6866917/bianca-pereira"}, "reply_to_user": {"reputation": 3530, "user_id": 5436458, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/356b39dda72cd189f8cf7ae8b838c066?s=128&d=identicon&r=PG&f=1", "display_name": "Omi", "link": "https://stackoverflow.com/users/5436458/omi"}, "edited": false, "score": 0, "creation_date": 1490218268, "post_id": 42962840, "comment_id": 73020153, "body": "is in the hidden div, I&#39;m mostly using it to handle the form, but I&#39;m thinking php maybe the best form to solve my problem since javascript didn&#39;t gave me a solution yet"}, {"owner": {"reputation": 3530, "user_id": 5436458, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/356b39dda72cd189f8cf7ae8b838c066?s=128&d=identicon&r=PG&f=1", "display_name": "Omi", "link": "https://stackoverflow.com/users/5436458/omi"}, "edited": false, "score": 0, "creation_date": 1490218340, "post_id": 42962840, "comment_id": 73020186, "body": "your php code will be in same file na?"}, {"owner": {"reputation": 47, "user_id": 6866917, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ccoE4.jpg?s=128&g=1", "display_name": "Bianca Pereira", "link": "https://stackoverflow.com/users/6866917/bianca-pereira"}, "reply_to_user": {"reputation": 3530, "user_id": 5436458, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/356b39dda72cd189f8cf7ae8b838c066?s=128&d=identicon&r=PG&f=1", "display_name": "Omi", "link": "https://stackoverflow.com/users/5436458/omi"}, "edited": false, "score": 0, "creation_date": 1490218441, "post_id": 42962840, "comment_id": 73020255, "body": "yes, in the same file"}], "answers": [{"tags": [], "owner": {"reputation": 3530, "user_id": 5436458, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/356b39dda72cd189f8cf7ae8b838c066?s=128&d=identicon&r=PG&f=1", "display_name": "Omi", "link": "https://stackoverflow.com/users/5436458/omi"}, "is_accepted": true, "score": 1, "last_activity_date": 1490218818, "creation_date": 1490218818, "answer_id": 42963156, "question_id": 42962840, "link": "https://stackoverflow.com/questions/42962840/show-a-div-after-submitting-a-form-and-keep-the-information-of-the-form/42963156#42963156", "title": "Show a div after submitting a form and keep the information of the form", "body": "<p>Try this:</p>\n\n<pre><code>&lt;?php\n$show =\"none\";\nif ($_SERVER['REQUEST_METHOD'] === 'POST') {\n$show = \"block\";\n}\n\n?&gt;\n&lt;html&gt;\n\n&lt;body&gt;\n\n&lt;form action=\"\" method=\"post\" class=\"generator-form\" onsubmit=\"showHide();  return false\"&gt;\n            &lt;label for=\"name\"&gt;\n                &lt;input type=\"text\" name=\"nome\" placeholder=\"Insira seu nome\" required&gt;\n            &lt;/label&gt;\n  &lt;input type=\"submit\" value=\"go\"&gt;\n\n  &lt;div style=\"display:&lt;?php echo $show;?&gt;\"&gt;hello&lt;/div&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 6866917, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ccoE4.jpg?s=128&g=1", "display_name": "Bianca Pereira", "link": "https://stackoverflow.com/users/6866917/bianca-pereira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1312, "favorite_count": 0, "accepted_answer_id": 42963156, "answer_count": 1, "score": 0, "last_activity_date": 1605799660, "creation_date": 1490217550, "question_id": 42962840, "link": "https://stackoverflow.com/questions/42962840/show-a-div-after-submitting-a-form-and-keep-the-information-of-the-form", "title": "Show a div after submitting a form and keep the information of the form", "body": "<p>I need to show a div after receiving info from a form. I got a good code to show the div after submitting the code, but for this code work, I need to use <code>return false</code> so the page doesn't reload.</p>\n\n<p>Here is the code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function showHide() {\r\n    document.getElementById(\"hidden\").style.display = \"block\";\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#hidden {\r\n    display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\r\n\r\n&lt;body&gt;\r\n\r\n&lt;form action=\"\" method=\"post\" class=\"generator-form\" onsubmit=\"showHide();  return false\"&gt;\r\n            &lt;label for=\"name\"&gt;\r\n                &lt;input type=\"text\" name=\"nome\" placeholder=\"Insira seu nome\" required&gt;\r\n            &lt;/label&gt;\r\n  &lt;input type=\"submit\" value=\"go\"&gt;\r\n  \r\n  &lt;div id=\"hidden\"&gt;hello&lt;/div&gt;\r\n\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>PS:</strong> I don't know why the js is not working in here, <a href=\"https://codepen.io/biibis/pen/BWxzJa\" rel=\"nofollow noreferrer\">in codepen it's</a>.</p>\n\n<p>So, here's the thing: </p>\n\n<ol>\n<li>I can't use <code>return: false</code> because I do need to return these values; and</li>\n<li>I don't want to use <code>onclick()</code> because when the user clicks on the\nbutton it'll show a blank box.</li>\n</ol>\n\n<p>To explain better, I'll get the infos I got in the form and show them in the previously hidden div. It's a signature generator for email.</p>\n\n<p>There's someway I can do this with javascript or php?</p>\n"}, {"tags": ["javascript", "node.js"], "comments": [{"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1490224404, "post_id": 42962795, "comment_id": 73022829, "body": "You need to make <code>obj.something</code> return another such proxy, not a string."}, {"owner": {"reputation": 593, "user_id": 1944296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61246f2bc76f9162b8a7c1a7373f58ef?s=128&d=identicon&r=PG", "display_name": "Cyph", "link": "https://stackoverflow.com/users/1944296/cyph"}, "reply_to_user": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1490229884, "post_id": 42962795, "comment_id": 73024512, "body": "@Bergi it does not seem there is a way to determine how many levels deep the property is located. If I knew that the parent was non-existent I could call another proxy.  Would love an example if I&#39;m missing something. thx"}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1490230965, "post_id": 42962795, "comment_id": 73024794, "body": "There is no way to determine that, it&#39;s just dynamic property access. You need to <i>always</i> return a proxy."}, {"owner": {"reputation": 593, "user_id": 1944296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61246f2bc76f9162b8a7c1a7373f58ef?s=128&d=identicon&r=PG", "display_name": "Cyph", "link": "https://stackoverflow.com/users/1944296/cyph"}, "reply_to_user": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1490232475, "post_id": 42962795, "comment_id": 73025239, "body": "@Bergi can you show how as an &#39;answer&#39;?"}, {"owner": {"reputation": 593, "user_id": 1944296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61246f2bc76f9162b8a7c1a7373f58ef?s=128&d=identicon&r=PG", "display_name": "Cyph", "link": "https://stackoverflow.com/users/1944296/cyph"}, "reply_to_user": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1490232559, "post_id": 42962795, "comment_id": 73025267, "body": "@Bergi i should add, i tried to implement what you suggested and I got some undesirable results so I&#39;m assuming I misunderstood something"}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1490232692, "post_id": 42962795, "comment_id": 73025304, "body": "@idbehold already implemented the approach I was talking about"}], "answers": [{"comments": [{"owner": {"reputation": 593, "user_id": 1944296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61246f2bc76f9162b8a7c1a7373f58ef?s=128&d=identicon&r=PG", "display_name": "Cyph", "link": "https://stackoverflow.com/users/1944296/cyph"}, "edited": false, "score": 0, "creation_date": 1490222329, "post_id": 42962924, "comment_id": 73021958, "body": "Not sure I&#39;m following correctly. Can you show an example using the func. I shared above."}, {"owner": {"reputation": 593, "user_id": 1944296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61246f2bc76f9162b8a7c1a7373f58ef?s=128&d=identicon&r=PG", "display_name": "Cyph", "link": "https://stackoverflow.com/users/1944296/cyph"}, "edited": false, "score": 0, "creation_date": 1490233949, "post_id": 42962924, "comment_id": 73025642, "body": "I did a bit of testing, I agree. lodash _.get seems the way to go for now.  I was trying to preserve the simple dot accessor syntax but no dice"}], "tags": [], "owner": {"reputation": 15471, "user_id": 1397319, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9101dfda077f5f21924241b05c7e124f?s=128&d=identicon&r=PG", "display_name": "idbehold", "link": "https://stackoverflow.com/users/1397319/idbehold"}, "is_accepted": true, "score": 3, "last_activity_date": 1490224361, "last_edit_date": 1490224361, "creation_date": 1490217870, "answer_id": 42962924, "question_id": 42962795, "link": "https://stackoverflow.com/questions/42962795/es6-proxy-safe-deep-object/42962924#42962924", "title": "es6 proxy safe deep object", "body": "<p>You need to wrap the return value in your proxify function:</p>\n\n<pre><code>function proxify(event) {\n  return isPrimitive(event) ? event : new Proxy(event, { get: getProp });\n}\nfunction isPrimitive(v) {\n  return v == null || (typeof v !== 'function' &amp;&amp; typeof v !== 'object');\n}\nfunction getProp (target, property) {\n  if (property in target) {\n    return proxify(target[property]);\n  } else {\n    return proxify({});\n  }\n}\n</code></pre>\n\n<p>In all honesty, you're probably better off using something like <a href=\"https://lodash.com/docs/4.17.4#get\" rel=\"nofollow noreferrer\">lodash's <code>_.get()</code></a> or <a href=\"http://ramdajs.com/docs/#path\" rel=\"nofollow noreferrer\">ramda's <code>R.path()</code></a>. There's no way to know from the first <code>getProp()</code> call how many layers deep the evaluation is going to go, so it has to always return a primitive value or a \"truthy\" <code>Proxy</code> instance so that the next property access can be intercepted (if one happens). The <code>_.get()</code> method on the other hand takes a string so it can immediately know from the initial invocation that you're only trying to access down so many levels. </p>\n"}, {"tags": [], "owner": {"reputation": 877, "user_id": 4540253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/INlQg.png?s=128&g=1", "display_name": "MTroy", "link": "https://stackoverflow.com/users/4540253/mtroy"}, "is_accepted": false, "score": 0, "last_activity_date": 1494439075, "last_edit_date": 1494439075, "creation_date": 1494431441, "answer_id": 43897339, "question_id": 42962795, "link": "https://stackoverflow.com/questions/42962795/es6-proxy-safe-deep-object/43897339#43897339", "title": "es6 proxy safe deep object", "body": "<p>As idbehold said, you must return a primitive value or new proxy.\nI think you dont need loDash to do that, and Yes, you can manage the depth of the nested proxy ! (see my last point, <a href=\"https://github.com/ztroy/jsShare/blob/master/deepProxy.js\" rel=\"nofollow noreferrer\">deepProxy</a>.\nBut, since I'm not sure what you want to do, i would like focus your attention to those few points:</p>\n\n<h1>First usage (simulated chain):</h1>\n\n<hr>\n\n<pre><code>function proxify(event){\n    return isPrimitive(event) ? event : new Proxy(event,{ get: getProp });\n}\n\nfunction isPrimitive(v){\n    return v == null || (typeof v !== 'function' &amp;&amp; typeof v !== 'object');\n}\n\nfunction getProp(target, property){\n    return (property in target)\n        ? proxify(target[property])\n        : proxify({});\n}\n</code></pre>\n\n<p>this code as it stands, will simulate nested properties,\nbut not confer any members dependency (because no assignment, then no preservation).</p>\n\n<pre><code>obj.something.else = 99;\nconsole.log(obj.something.else) // returning a new Proxy()\n</code></pre>\n\n<p>IMO, it doesn't make sense, or reserved to very specific cases.\nAgain, it depend of what is your purpose.</p>\n\n<h1>Second usage (deep assignment):</h1>\n\n<hr>\n\n<p>Basic not extensible assignment</p>\n\n<pre><code>function proxify(defprop={})\n{\n    return new Proxy(defprop, handler);\n};\nvar handler = \n{\n    get: function(target, property, receiver)\n    {\n        if(!(property in target))\n            target[property] = proxify();\n        return Reflect.get(target, property, receiver);\n    },\n};\n\nobj.something.else = 99;\nconsole.log(obj.something.else) // returning 99\n</code></pre>\n\n<p>Extensible to assignment</p>\n\n<p>By using basic chainable proxy, if you try to set a new object (or nested object) you will only trap the root of this new property.\nThere is no more possible chainning, this is not suitable and not safe.</p>\n\n<p>Remember the following case:</p>\n\n<blockquote>\n  <p>Cyph:\n  But if the object property is deep nested</p>\n  \n  <blockquote>\n    <p><code>obj.something.else.deeper</code></p>\n  </blockquote>\n</blockquote>\n\n<p>(Bad way) Assuming this assignment:</p>\n\n<pre><code>var deeper = {toto: \"titi\"};\nobj.something.else = deeper;\n\nconsole.log(obj.something.else.toto)\n// will return \"titi\"\n\nobj.something.else.toto.something.else = {tutu: \"tata\"};\n// will return a typeError Again\n</code></pre>\n\n<p>(Good way) To propagate the chain ability\nYou need to check for the type of value as a true object in the setter trap, and proxify each root properties. The rest of the depth will be converted naturally by the getter trap.</p>\n\n<pre><code>var handler = \n{\n    get: function(target, property, receiver)\n    {\n        if(!(property in target))\n            target[property] = proxify();\n        return Reflect.get(target, property, receiver);\n    },\n    set: function(target, property, value, receiver)\n    {\n        // extend proxify to appended nested object\n        if(({}).toString.call(value) === \"[object Object]\")\n            value = deepApply(receiver, property, value);\n\n        return Reflect.set(target, property, value, receiver);\n    },\n};\nvar deepApply = function(receiver,property, data)\n{\n    var proxy = proxify();\n    var props = Object.keys(data);\n    var size = props.length;\n\n    for(var i = 0; i &lt; size; i++)\n    {\n        property = props[i];\n        proxy[property] = data[property];\n    }\n    return proxy;\n};\n</code></pre>\n\n<h1>Manage the depth</h1>\n\n<hr>\n\n<p>I invite you to read my actual solution : <a href=\"https://github.com/ztroy/jsShare/blob/master/deepProxy.js\" rel=\"nofollow noreferrer\">deepProxy</a></p>\n\n<ul>\n<li>The level can be auto-defined via the proto declaration \nwhen the object structure is setted. Then you can easily know the current floor and add conditional instructions for each level.</li>\n<li>The path of property can be reach from his accessor.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 14459, "user_id": 1215133, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/zzQPB.jpg?s=128&g=1", "display_name": "Elliot B.", "link": "https://stackoverflow.com/users/1215133/elliot-b"}, "is_accepted": false, "score": 1, "last_activity_date": 1562086237, "last_edit_date": 1562086237, "creation_date": 1523313726, "answer_id": 49742737, "question_id": 42962795, "link": "https://stackoverflow.com/questions/42962795/es6-proxy-safe-deep-object/49742737#49742737", "title": "es6 proxy safe deep object", "body": "<p>I published a library on GitHub (<strong><a href=\"https://github.com/ElliotNB/observable-slim\" rel=\"nofollow noreferrer\">Observable Slim</a></strong>) that enables you to proxy an object and any nested children of that object. It also has a few extra features:</p>\n\n<ul>\n<li>Reports back to a specified callback whenever changes occur.</li>\n<li>Will prevent user from trying to Proxy a Proxy.</li>\n<li>Keeps a store of which objects have been proxied and will re-use existing proxies instead of creating new ones (very significant performance implications).</li>\n<li>Written in ES5 and employs a forked version of the <a href=\"https://github.com/GoogleChrome/proxy-polyfill\" rel=\"nofollow noreferrer\">Proxy polyfill</a> so it can be deployed in older browsers fairly easily and support Array mutation methods.</li>\n</ul>\n\n<p>It works like this:</p>\n\n<pre><code>var test = {testing:{}};\nvar p = ObservableSlim.create(test, true, function(changes) {\n    console.log(JSON.stringify(changes));\n});\n\np.testing.blah = 42; // console:  [{\"type\":\"add\",\"target\":{\"blah\":42},\"property\":\"blah\",\"newValue\":42,\"currentPath\":\"testing.blah\",jsonPointer:\"/testing/blah\",\"proxy\":{\"blah\":42}}]\n</code></pre>\n"}], "owner": {"reputation": 593, "user_id": 1944296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61246f2bc76f9162b8a7c1a7373f58ef?s=128&d=identicon&r=PG", "display_name": "Cyph", "link": "https://stackoverflow.com/users/1944296/cyph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2073, "favorite_count": 0, "accepted_answer_id": 42962924, "answer_count": 3, "score": 3, "last_activity_date": 1562086237, "creation_date": 1490217366, "question_id": 42962795, "link": "https://stackoverflow.com/questions/42962795/es6-proxy-safe-deep-object", "title": "es6 proxy safe deep object", "body": "<p>I wrote a small wrapper to return undefined in place of typeError when accessing properties that don't exist using a Proxy. Here is the code:</p>\n\n<pre><code>function proxify(event) {\n    var proxy = new Proxy(event, {\n        get: function (target, property) {\n            if (property in target) {\n                return target[property];\n            } else {\n                    return '';\n            }\n          }\n        }\n    });\n    return proxy;\n}\n</code></pre>\n\n<p>This works when a property is missing 1 level deep. \nFor example, assuming obj.something does not exist:</p>\n\n<pre><code>obj.something.else\n</code></pre>\n\n<p>will return undefined</p>\n\n<p>But if the object property is deep nested</p>\n\n<pre><code>obj.something.else.deeper\n</code></pre>\n\n<p>I receive a typeError</p>\n\n<p>My question is how do I extend the function above to work on deep nested objects? </p>\n\n<p>Thx</p>\n"}, {"tags": ["javascript", "d3.js"], "comments": [{"owner": {"reputation": 13161, "user_id": 2498782, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4ed0cbcc27c492d6742337ac1ce0b19e?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Guan", "link": "https://stackoverflow.com/users/2498782/eric-guan"}, "edited": false, "score": 0, "creation_date": 1490227154, "post_id": 42962792, "comment_id": 73023694, "body": "You haven&#39;t specified what the update selection should do."}, {"owner": {"reputation": 9531, "user_id": 491181, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5728e1eaf86f796b7b626f322b1ad956?s=128&d=identicon&r=PG", "display_name": "ridermansb", "link": "https://stackoverflow.com/users/491181/ridermansb"}, "reply_to_user": {"reputation": 13161, "user_id": 2498782, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4ed0cbcc27c492d6742337ac1ce0b19e?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Guan", "link": "https://stackoverflow.com/users/2498782/eric-guan"}, "edited": false, "score": 0, "creation_date": 1490227219, "post_id": 42962792, "comment_id": 73023713, "body": "@EricGuan how can I specify this?"}, {"owner": {"reputation": 13161, "user_id": 2498782, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4ed0cbcc27c492d6742337ac1ce0b19e?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Guan", "link": "https://stackoverflow.com/users/2498782/eric-guan"}, "edited": false, "score": 0, "creation_date": 1490227593, "post_id": 42962792, "comment_id": 73023824, "body": "The update selection is returned by <code>data()</code>. Store that in a variable. Then you can access the enter and exit selections from that variable."}, {"owner": {"reputation": 9531, "user_id": 491181, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5728e1eaf86f796b7b626f322b1ad956?s=128&d=identicon&r=PG", "display_name": "ridermansb", "link": "https://stackoverflow.com/users/491181/ridermansb"}, "reply_to_user": {"reputation": 13161, "user_id": 2498782, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4ed0cbcc27c492d6742337ac1ce0b19e?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Guan", "link": "https://stackoverflow.com/users/2498782/eric-guan"}, "edited": false, "score": 0, "creation_date": 1490227897, "post_id": 42962792, "comment_id": 73023921, "body": "Yea.. I can`t understand.Maybe you can show me: <a href=\"https://jsfiddle.net/Ridermansb/3azxpmoe/\" rel=\"nofollow noreferrer\">jsfiddle.net/Ridermansb/3azxpmoe</a>"}, {"owner": {"reputation": 13161, "user_id": 2498782, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4ed0cbcc27c492d6742337ac1ce0b19e?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Guan", "link": "https://stackoverflow.com/users/2498782/eric-guan"}, "edited": false, "score": 0, "creation_date": 1490227949, "post_id": 42962792, "comment_id": 73023937, "body": "<a href=\"https://bost.ocks.org/mike/join/\" rel=\"nofollow noreferrer\">bost.ocks.org/mike/join</a>"}, {"owner": {"reputation": 9531, "user_id": 491181, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5728e1eaf86f796b7b626f322b1ad956?s=128&d=identicon&r=PG", "display_name": "ridermansb", "link": "https://stackoverflow.com/users/491181/ridermansb"}, "reply_to_user": {"reputation": 13161, "user_id": 2498782, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4ed0cbcc27c492d6742337ac1ce0b19e?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Guan", "link": "https://stackoverflow.com/users/2498782/eric-guan"}, "edited": false, "score": 0, "creation_date": 1490228884, "post_id": 42962792, "comment_id": 73024222, "body": "The add and remove works, but still update X and Y don&#39;t work.. <a href=\"https://jsfiddle.net/Ridermansb/3azxpmoe/\" rel=\"nofollow noreferrer\">jsfiddle.net/Ridermansb/3azxpmoe</a>   Even using <code>.merge(circle)</code> function"}, {"owner": {"reputation": 13161, "user_id": 2498782, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4ed0cbcc27c492d6742337ac1ce0b19e?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Guan", "link": "https://stackoverflow.com/users/2498782/eric-guan"}, "edited": false, "score": 1, "creation_date": 1490230077, "post_id": 42962792, "comment_id": 73024569, "body": "<a href=\"https://jsfiddle.net/kds6wkh0/\" rel=\"nofollow noreferrer\">jsfiddle.net/kds6wkh0</a>"}, {"owner": {"reputation": 9531, "user_id": 491181, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5728e1eaf86f796b7b626f322b1ad956?s=128&d=identicon&r=PG", "display_name": "ridermansb", "link": "https://stackoverflow.com/users/491181/ridermansb"}, "reply_to_user": {"reputation": 13161, "user_id": 2498782, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4ed0cbcc27c492d6742337ac1ce0b19e?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Guan", "link": "https://stackoverflow.com/users/2498782/eric-guan"}, "edited": false, "score": 0, "creation_date": 1490230651, "post_id": 42962792, "comment_id": 73024716, "body": "Ohh.  I miss the <code>dot.select(&#39;circle&#39;).attr(&#39;cx&#39;, d =&gt; SCALES.x(d.x)) ... </code> Thanks. If you want, you can add the answer and I will mark as answer"}], "answers": [{"tags": [], "owner": {"reputation": 13161, "user_id": 2498782, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4ed0cbcc27c492d6742337ac1ce0b19e?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Guan", "link": "https://stackoverflow.com/users/2498782/eric-guan"}, "is_accepted": true, "score": 3, "last_activity_date": 1490230690, "creation_date": 1490230690, "answer_id": 42965356, "question_id": 42962792, "link": "https://stackoverflow.com/questions/42962792/update-data-in-d3-v4-using-enter-and-exit-not-working/42965356#42965356", "title": "Update data in D3 v4 using enter and exit not working", "body": "<p>jsfiddle.net/kds6wkh0 </p>\n\n<p>The update selection:</p>\n\n<pre><code>let dot = svg\n        .selectAll('.dot')\n    .data(data,d=&gt;d.id)\n  dot.select('circle')\n    .attr('cx', d =&gt; SCALES.x(d.x))\n    .attr('cy', d =&gt; SCALES.y(d.y))\n    dot.select('text')\n    .attr('x', d =&gt; SCALES.x(d.x))\n    .attr('y', d =&gt; SCALES.y(d.y))\n</code></pre>\n"}], "owner": {"reputation": 9531, "user_id": 491181, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5728e1eaf86f796b7b626f322b1ad956?s=128&d=identicon&r=PG", "display_name": "ridermansb", "link": "https://stackoverflow.com/users/491181/ridermansb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 582, "favorite_count": 0, "accepted_answer_id": 42965356, "answer_count": 1, "score": 0, "last_activity_date": 1490230690, "creation_date": 1490217358, "last_edit_date": 1490223579, "question_id": 42962792, "link": "https://stackoverflow.com/questions/42962792/update-data-in-d3-v4-using-enter-and-exit-not-working", "title": "Update data in D3 v4 using enter and exit not working", "body": "<p>Very simple example that draw texts in <code>x</code> ,<code>y</code> positions. But when I change the data and redraw with new data nothing happens.</p>\n\n<p>I call <code>drawDots</code> function after update the data and the data its quite simple, array with <code>x</code> and <code>y</code> positions, follow the full source:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [\r\n  {\"id\": \"A\", \"x\": 2000, \"y\": 2000 },\r\n  {\"id\": \"B\", \"x\": 5000, \"y\": 5000 },\r\n  {\"id\": \"C\", \"x\": 10000, \"y\": 10000 }\r\n]\r\n\r\nconst letters = \"DEFGHIJKLMNOPQRSTUVXWYZ\".split('')\r\n\r\nconst el = document.getElementById(\"matrix\")\r\n\r\nconst SIZE = {width: el.offsetWidth, height: el.offsetHeight};\r\nconst DOMAIN = {x: [20000, 0], y: [0, 20000]};\r\nconst SCALES = {\r\n\tx: d3.scaleLinear().range([SIZE.width, 0]).domain(DOMAIN.x),\r\n  y: d3.scaleLinear().range([0,  SIZE.height]).domain(DOMAIN.y)\r\n}\r\n\r\n// Draw board\r\nconst chart = d3.select(el)\r\n    .append('svg:svg')\r\n    .attr('width', SIZE.width)\r\n    .attr('height', SIZE.height)\r\n    .attr('class', 'chart');\r\n    \r\nconst svg = chart.append('g')\r\n\t.attr('transform', `translate(0, 0`)\r\n  .attr('width', SIZE.width)\r\n  .attr('height', SIZE.height)\r\n  .attr('class', 'main')\r\n\r\n// Handle Event to update D3\r\n$(el).bind(\"updateD3\", function () {\r\n\tconst dot = svg.append('g')\r\n\t\t.selectAll('.dot')\r\n  \t.data(data)\r\n    .enter()\r\n    .append(\"g\")\r\n    .attr('class', 'dot')\r\n\r\n  const circle = dot\r\n    .append(\"circle\")\r\n    .attr('class', 'circle')\r\n    .attr('cx', d =&gt; SCALES.x(d.x))\r\n    .attr('cy', d =&gt; SCALES.y(d.y))\r\n    .attr('fill', 'black')\r\n    .attr('r', '9')\r\n  \r\n  const letter = dot\r\n    .append(\"text\")\r\n    .attr('class', 'letter')\r\n    .attr('x', d =&gt; SCALES.x(d.x))\r\n    .attr('y', d =&gt; SCALES.y(d.y))\r\n    .attr('text-anchor', 'middle')\r\n    .attr('fill', 'white')\r\n    .attr('alignment-baseline', 'central')\r\n    .text(d =&gt; d.id)\r\n    \r\n  dot.exit().remove()\r\n});\r\n\r\n$(el).trigger(\"updateD3\");\r\n\r\n// Handle Button Clicks\r\n$(\"#update\").click(function() {\r\n  const idx =  _.random(0, data.length-1)\r\n  data[idx].x = _.random(0, 20000);\r\n  data[idx].y = _.random(0, 20000);\r\n  console.log('Modified object %s: %O', data[idx].id, data[idx])\r\n  $(el).trigger(\"updateD3\");\r\n})\r\n\r\n$(\"#add\").click(function() {\r\n  data.push({ \r\n  \tid: letters.shift(), \r\n    x: _.random(0, _.max(DOMAIN.x)), \r\n    y: _.random(0, _.max(DOMAIN.y)) \r\n  })\r\n  console.log('Add object %O', data[data.length-1])\r\n  $(el).trigger(\"updateD3\");\r\n})\r\n\r\n$(\"#remove\").click(function() {\r\n  let dataRemoved = data.pop()\r\n  letters.unshift(dataRemoved.id)\r\n  console.log('Remove object %O', dataRemoved, data, letters)\r\n  $(el).trigger(\"updateD3\");\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>html, body: {\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n#matrix {\r\n  border: 1px solid black;\r\n  min-height: 300px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://d3js.org/d3.v4.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdn.jsdelivr.net/lodash/4.17.4/lodash.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n    \r\n&lt;button id=\"update\"&gt; Update data &lt;/button&gt;\r\n&lt;button id=\"remove\"&gt; Remove data &lt;/button&gt;\r\n&lt;button id=\"add\"&gt; Add data &lt;/button&gt;\r\n&lt;br&gt;&lt;hr&gt;\r\n&lt;div id=\"matrix\"&gt; &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery", "d3.js", "charts"], "answers": [{"comments": [{"owner": {"reputation": 3722, "user_id": 5249203, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/62ade2eeb123f33d7fdc8d54fd4122f9?s=128&d=identicon&r=PG&f=1", "display_name": "user5249203", "link": "https://stackoverflow.com/users/5249203/user5249203"}, "edited": false, "score": 0, "creation_date": 1490277896, "post_id": 42965575, "comment_id": 73048583, "body": "Thank you very much. It is perfect. What does <code>d3.scale.category20()</code> do ? create 20 colors? What to do if my legend items would be for instance 100, does the color scheme scales automatically to accommodate based on the <code>count</code> of legends ? one more thing, the tool tip works on fiddle displaying the count...but does not work on my browser ? I&#39;m i missing something ?"}, {"owner": {"reputation": 3722, "user_id": 5249203, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/62ade2eeb123f33d7fdc8d54fd4122f9?s=128&d=identicon&r=PG&f=1", "display_name": "user5249203", "link": "https://stackoverflow.com/users/5249203/user5249203"}, "edited": false, "score": 0, "creation_date": 1490278644, "post_id": 42965575, "comment_id": 73049181, "body": "Thank you for the stepwise explanation, it is really helpful"}, {"owner": {"reputation": 3722, "user_id": 5249203, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/62ade2eeb123f33d7fdc8d54fd4122f9?s=128&d=identicon&r=PG&f=1", "display_name": "user5249203", "link": "https://stackoverflow.com/users/5249203/user5249203"}, "edited": false, "score": 0, "creation_date": 1490301157, "post_id": 42965575, "comment_id": 73064495, "body": "is there a way to add scroll bar to legend and horizontal scroll  for a fixed with plot ?"}, {"owner": {"reputation": 13161, "user_id": 2498782, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4ed0cbcc27c492d6742337ac1ce0b19e?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Guan", "link": "https://stackoverflow.com/users/2498782/eric-guan"}, "reply_to_user": {"reputation": 3722, "user_id": 5249203, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/62ade2eeb123f33d7fdc8d54fd4122f9?s=128&d=identicon&r=PG&f=1", "display_name": "user5249203", "link": "https://stackoverflow.com/users/5249203/user5249203"}, "edited": false, "score": 0, "creation_date": 1490304087, "post_id": 42965575, "comment_id": 73066047, "body": "There are several color scales with preset colors, you can view them in the documentation. If you have more items than colors, the scale will start recycling colors. Jsfiddle is run on a browser, so i&#39;m not sure what the problem is. The only way i know to get scrollbars in SVG is to use <code>foreignObject</code>"}, {"owner": {"reputation": 3722, "user_id": 5249203, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/62ade2eeb123f33d7fdc8d54fd4122f9?s=128&d=identicon&r=PG&f=1", "display_name": "user5249203", "link": "https://stackoverflow.com/users/5249203/user5249203"}, "edited": false, "score": 0, "creation_date": 1490308595, "post_id": 42965575, "comment_id": 73068119, "body": "what is <code>foreignObject</code> ? can you provide a documentation or example to try ?"}, {"owner": {"reputation": 13161, "user_id": 2498782, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4ed0cbcc27c492d6742337ac1ce0b19e?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Guan", "link": "https://stackoverflow.com/users/2498782/eric-guan"}, "reply_to_user": {"reputation": 3722, "user_id": 5249203, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/62ade2eeb123f33d7fdc8d54fd4122f9?s=128&d=identicon&r=PG&f=1", "display_name": "user5249203", "link": "https://stackoverflow.com/users/5249203/user5249203"}, "edited": false, "score": 0, "creation_date": 1490309678, "post_id": 42965575, "comment_id": 73068495, "body": "<code>foreignObject</code> is an element that can contain html elements. So if you put a <code>div</code> into a <code>foreignObject</code> into <code>svg</code>, your div can scroll. I suggest you just google <code>foreignObject</code>."}], "tags": [], "owner": {"reputation": 13161, "user_id": 2498782, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4ed0cbcc27c492d6742337ac1ce0b19e?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Guan", "link": "https://stackoverflow.com/users/2498782/eric-guan"}, "is_accepted": true, "score": 1, "last_activity_date": 1490232185, "creation_date": 1490232185, "answer_id": 42965575, "question_id": 42962790, "link": "https://stackoverflow.com/questions/42962790/automate-color-pick-for-the-stacked-bar-plots/42965575#42965575", "title": "automate color pick for the stacked bar plots", "body": "<p><a href=\"http://jsfiddle.net/ve38098w/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/ve38098w/</a></p>\n\n<p>All you need to do is create a new color scale</p>\n\n<pre><code>var colors = d3.scale.category20()\n</code></pre>\n\n<p>Associate each layer point with a fruit</p>\n\n<pre><code>var keys = [\"redDelicious\", \"mcintosh\", \"oranges\", \"pears\", \"cherries\", \"plum\",\"grapes\", \"melons\"]\n\nvar dataset = d3.layout.stack()(keys.map(function(fruit) {\n  return data.map(function(d) {\n    return {x: parse(d.year), y: +d[fruit], name: fruit};\n  });\n}));\n</code></pre>\n\n<p>And then start passing in fruit names during the data join.</p>\n\n<pre><code>var rect = groups.selectAll(\"rect\")\n  .data(function(d) { return d; })\n  .enter()\n  .append(\"rect\")\n  ...\n  .style(\"fill\", d=&gt; colors(d.name))\n</code></pre>\n\n<p>The first time you pass in <code>\"apple\"</code> like <code>var randomColor = colors('apple')</code>, apple will be assigned a color. The next time you pass in apple, you will retrieve the same color. </p>\n\n<p>For the legend, do adata join to create the rectangles, using the previously discussed color scale.</p>\n\n<pre><code>var legend = svg.selectAll(\".legend\")\n  .data(keys)\n  .enter().append(\"g\")\n  .attr(\"class\", \"legend\")\n  .attr(\"transform\", function(d, i) { return \"translate(30,\" + i * 19 + \")\"; });\n\nlegend.append(\"rect\")\n  .attr(\"x\", width - 18)\n  .attr(\"width\", 18)\n  .attr(\"height\", 18)\n  .style(\"fill\", d=&gt;colors(d));\n\nlegend.append(\"text\")\n  .attr(\"x\", width + 5)\n  .attr(\"y\", 9)\n  .attr(\"dy\", \".35em\")\n  .style(\"text-anchor\", \"start\")\n  .text(d=&gt;d);\n</code></pre>\n"}], "owner": {"reputation": 3722, "user_id": 5249203, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/62ade2eeb123f33d7fdc8d54fd4122f9?s=128&d=identicon&r=PG&f=1", "display_name": "user5249203", "link": "https://stackoverflow.com/users/5249203/user5249203"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 42965575, "answer_count": 1, "score": 0, "last_activity_date": 1490232185, "creation_date": 1490217355, "last_edit_date": 1490224290, "question_id": 42962790, "link": "https://stackoverflow.com/questions/42962790/automate-color-pick-for-the-stacked-bar-plots", "title": "automate color pick for the stacked bar plots", "body": "<p>below is my example jsfiddle, of what I am trying to achieve. </p>\n\n<p><a href=\"http://jsfiddle.net/mwvhhe3o/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/mwvhhe3o/</a></p>\n\n<ol>\n<li>How to pass color range instead of manually entring the hexa codes ?</li>\n</ol>\n\n<p>I tried passing color values as </p>\n\n<pre><code>var colorRange = d3.scale.category20();\n var colors = d3.scale.ordinal()\n            .range(colorRange.range());\n</code></pre>\n\n<p>and then, <code>.attr(\"fill\", colorRange );</code> to respective fill. However, did not suceed. </p>\n\n<ol start=\"2\">\n<li>I pass the legend values as a variable, is there a way to automate the case switch? Any alternative way to case switch. </li>\n</ol>\n\n<p>I have too many legend names to manually name them. an example below </p>\n\n<pre><code> legend.append(\"text\")\n       .attr(\"x\", width + 5)\n       .attr(\"y\", 9)\n       .attr(\"dy\", \".35em\")\n       .style(\"text-anchor\", \"start\")\n       .text(function(d, i) { \n        switch (i) {\n        case 0: return \"Anjou pears\";\n        case 1: return \"Naval oranges\";\n        case 2: return \"McIntosh apples\";\n        case 3: return \"Red Delicious apples\";\n        case 4: return \"cherries\";\n        case 5: return \"plum\";\n        case 6: return \"grapes\";\n        case 7: return \"melons\";\n       }\n    }); \n</code></pre>\n\n<p>Any direction or suggestion to achieve the above task is helpful</p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "crud", "mlab"], "comments": [{"owner": {"reputation": 63390, "user_id": 2683814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16a4c2fb341c51388d5cdfcf0e956f6c?s=128&d=identicon&r=PG&f=1", "display_name": "s7vr", "link": "https://stackoverflow.com/users/2683814/s7vr"}, "edited": false, "score": 0, "creation_date": 1490219608, "post_id": 42962773, "comment_id": 73020776, "body": "We can rule out connection issue if your GET function works. How is your mlab user set up ? does the user only have read role ?  What do you see when you make other calls ?"}, {"owner": {"reputation": 3, "user_id": 6871250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afa96edb6e503548053cd92c64545365?s=128&d=identicon&r=PG&f=1", "display_name": "Maria S", "link": "https://stackoverflow.com/users/6871250/maria-s"}, "reply_to_user": {"reputation": 63390, "user_id": 2683814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16a4c2fb341c51388d5cdfcf0e956f6c?s=128&d=identicon&r=PG&f=1", "display_name": "s7vr", "link": "https://stackoverflow.com/users/2683814/s7vr"}, "edited": false, "score": 0, "creation_date": 1490246749, "post_id": 42962773, "comment_id": 73029097, "body": "It has read/write permissions. Other calls say &quot;could not get any response&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6871250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afa96edb6e503548053cd92c64545365?s=128&d=identicon&r=PG&f=1", "display_name": "Maria S", "link": "https://stackoverflow.com/users/6871250/maria-s"}, "edited": false, "score": 1, "creation_date": 1490246834, "post_id": 42964269, "comment_id": 73029123, "body": "That was intentional, since I was posting on github. On my local machine, I do include password and username."}], "tags": [], "owner": {"reputation": 126, "user_id": 6401872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1537ea9b8a6c30753e6a2d128b187e19?s=128&d=identicon&r=PG&f=1", "display_name": "BirdLawExpert", "link": "https://stackoverflow.com/users/6401872/birdlawexpert"}, "is_accepted": false, "score": 0, "last_activity_date": 1490223831, "creation_date": 1490223831, "answer_id": 42964269, "question_id": 42962773, "link": "https://stackoverflow.com/questions/42962773/confused-on-redoing-crud-after-linking-to-mlab/42964269#42964269", "title": "Confused on redoing CRUD after linking to mlab", "body": "<p>On your server.js you forgot to change <code>&lt;username&gt;:&lt;password&gt;</code> to the mongodb user's UN/PW on line 5. Also, I don't think you need a port variable as that's included in the mongodb connection string.</p>\n\n<p>Edit: Just be careful about what you use for your password as github is completely open to anyone to see if this is going to be live code it wouldn't be hard to inject whatever they want into your DB. If this is live consider using <a href=\"https://www.npmjs.com/package/dotenv\" rel=\"nofollow noreferrer\">DotEnv</a></p>\n"}], "owner": {"reputation": 3, "user_id": 6871250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afa96edb6e503548053cd92c64545365?s=128&d=identicon&r=PG&f=1", "display_name": "Maria S", "link": "https://stackoverflow.com/users/6871250/maria-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490223831, "creation_date": 1490217261, "last_edit_date": 1511306746, "question_id": 42962773, "link": "https://stackoverflow.com/questions/42962773/confused-on-redoing-crud-after-linking-to-mlab", "title": "Confused on redoing CRUD after linking to mlab", "body": "<p>I have a basic CRUD app that loads blog posts from my local mongo database, and they are rendered to an html page. CRUD operations worked until I started loading api data from mlab. Although GET function works, I don't know how to go about getting DELETE, PUT, and POST to work. I know it should be simple, I just need a pointer in the right direction.</p>\n\n<p>My previous work using my local database is commented out in server.js and models.js, since I still want to retain that code.</p>\n\n<p>Sorry, forgot to add the link to my github: <a href=\"https://github.com/maria-S-456/final-node-blog\" rel=\"nofollow noreferrer\">https://github.com/maria-S-456/final-node-blog</a></p>\n"}, {"tags": ["javascript", "angularjs", "scroll", "infinite-scroll"], "answers": [{"comments": [{"owner": {"reputation": 896, "user_id": 2075992, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/MbXk7.jpg?s=128&g=1", "display_name": "Troy Bryant", "link": "https://stackoverflow.com/users/2075992/troy-bryant"}, "edited": false, "score": 0, "creation_date": 1490219382, "post_id": 42962819, "comment_id": 73020669, "body": "this duplicated the the result.  The original result was 77 with this logic now 154 and still has the extra table lines in the html"}, {"owner": {"reputation": 3289, "user_id": 1218546, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/e260f7f1584a756bfc3a4ee96c7bd8bd?s=128&d=identicon&r=PG", "display_name": "Haddar Macdasi", "link": "https://stackoverflow.com/users/1218546/haddar-macdasi"}, "reply_to_user": {"reputation": 896, "user_id": 2075992, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/MbXk7.jpg?s=128&g=1", "display_name": "Troy Bryant", "link": "https://stackoverflow.com/users/2075992/troy-bryant"}, "edited": false, "score": 0, "creation_date": 1490219620, "post_id": 42962819, "comment_id": 73020779, "body": "I&#39;ve edited the answer, the logic is that new items should be append to vm.items array. and I don&#39;t know how the service &quot;getProductList&quot; knows to paginate the results."}], "tags": [], "owner": {"reputation": 3289, "user_id": 1218546, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/e260f7f1584a756bfc3a4ee96c7bd8bd?s=128&d=identicon&r=PG", "display_name": "Haddar Macdasi", "link": "https://stackoverflow.com/users/1218546/haddar-macdasi"}, "is_accepted": true, "score": 0, "last_activity_date": 1490219518, "last_edit_date": 1490219518, "creation_date": 1490217447, "answer_id": 42962819, "question_id": 42962757, "link": "https://stackoverflow.com/questions/42962757/cannot-read-property-result-of-undefined-infinite-scroll/42962819#42962819", "title": "Cannot read property &#39;result&#39; of undefined infinite scroll", "body": "<pre><code>vm.items = [];\n    vm.busy = false;\n    vm.loadMore = function () {\n        if (vm.busy) return;\n        vm.busy = true;\n        productDataService.getProductList()\n            .then(function (result) {                   \n                console.log(result.data);\n                for (var i = 0; i &lt; result.data.length; i++) {\n                    vm.items.push(result.data[i].result);                        \n\n                }\n                vm.busy = false;\n            });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1997, "user_id": 867620, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/85a3d947035a6a73b823b6fee2ccb933?s=128&d=identicon&r=PG", "display_name": "sethro", "link": "https://stackoverflow.com/users/867620/sethro"}, "is_accepted": false, "score": 0, "last_activity_date": 1490217876, "last_edit_date": 1490217876, "creation_date": 1490217528, "answer_id": 42962830, "question_id": 42962757, "link": "https://stackoverflow.com/questions/42962757/cannot-read-property-result-of-undefined-infinite-scroll/42962830#42962830", "title": "Cannot read property &#39;result&#39; of undefined infinite scroll", "body": "<p>I would suspect this block:</p>\n\n<pre><code>for (var i = 0; i &lt; vm.items.length; i++) {\n       vm.items.push(vm.items[i].result);                        \n       vm.busy = true;\n}\n</code></pre>\n\n<p>Each time this for loop iterates, you are adding an element to <code>vm.items</code>, making <code>vm.items.length</code> = <code>vm.items.length + 1</code>, which you are using as the condition in your for loop: <strong><code>i &lt; vm.items.length</code></strong>. This loop is chasing its own tail, i.e. you have an infinite loop.</p>\n"}, {"tags": [], "owner": {"reputation": 134, "user_id": 3099059, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cudQlRJGbhU/AAAAAAAAAAI/AAAAAAAAAFM/hfzhCyVB5eI/photo.jpg?sz=128", "display_name": "Nekudotayim", "link": "https://stackoverflow.com/users/3099059/nekudotayim"}, "is_accepted": false, "score": 0, "last_activity_date": 1490217539, "creation_date": 1490217539, "answer_id": 42962837, "question_id": 42962757, "link": "https://stackoverflow.com/questions/42962757/cannot-read-property-result-of-undefined-infinite-scroll/42962837#42962837", "title": "Cannot read property &#39;result&#39; of undefined infinite scroll", "body": "<p>remove the line <em>vm.items = result.data;</em> and iterate over <em>result.data</em> instead</p>\n"}], "owner": {"reputation": 896, "user_id": 2075992, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/MbXk7.jpg?s=128&g=1", "display_name": "Troy Bryant", "link": "https://stackoverflow.com/users/2075992/troy-bryant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 42962819, "answer_count": 3, "score": 0, "last_activity_date": 1490219518, "creation_date": 1490217178, "question_id": 42962757, "link": "https://stackoverflow.com/questions/42962757/cannot-read-property-result-of-undefined-infinite-scroll", "title": "Cannot read property &#39;result&#39; of undefined infinite scroll", "body": "<p>Got my infinite scroll working with some odd behavior.  I keep getting an TypeError: Cannot read property 'result' of undefined.</p>\n\n<p>My data is retrieved but keeps fetching more data resulting in blank lines of html in my table and I'm not sure of what is going on.</p>\n\n<p>In the code below i've tried result.data | data  and then vm.items[i]</p>\n\n<p>Thanks</p>\n\n<p>Here is the code:</p>\n\n<pre><code>    vm.items = [];\n    vm.busy = false;\n    vm.loadMore = function () {\n        if (vm.busy) return;\n        vm.busy = true;\n        productDataService.getProductList()\n            .then(function (result) {                   \n                console.log(result.data);\n                vm.items = result.data;\n                for (var i = 0; i &lt; vm.items.length; i++) {\n                    vm.items.push(vm.items[i].result);                        \n                    vm.busy = true;\n                }\n            });\n</code></pre>\n"}, {"tags": ["javascript", "stripe-payments"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1490217677, "post_id": 42962752, "comment_id": 73019883, "body": "I don&#39;t think there&#39;s such a thing as <code>stripe.createToken()</code>, just <code>stripe.card.createToken</code> and <code>stripe.bankAccount.createToken()</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1490217781, "post_id": 42962752, "comment_id": 73019937, "body": "I don&#39;t recognize any of the methods you&#39;re using from <a href=\"https://stripe.com/docs/stripe.js?\" rel=\"nofollow noreferrer\">stripe.js documentation</a>"}, {"owner": {"reputation": 389, "user_id": 1386644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/becf31d8b1ccd6672689135ca22aac82?s=128&d=identicon&r=PG", "display_name": "Biskwit", "link": "https://stackoverflow.com/users/1386644/biskwit"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1490218039, "post_id": 42962752, "comment_id": 73020056, "body": "I&#39;m talking about this <a href=\"https://stripe.com/docs/elements/reference#stripe-create-token\" rel=\"nofollow noreferrer\">stripe.com/docs/elements/reference#stripe-create-token</a>"}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1490219218, "post_id": 42963215, "comment_id": 73020596, "body": "Shouldn&#39;t it be <code>stripe.createToken(elements)</code>?"}, {"owner": {"reputation": 4320, "user_id": 5108826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dulBj.png?s=128&g=1", "display_name": "duck", "link": "https://stackoverflow.com/users/5108826/duck"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1490219503, "post_id": 42963215, "comment_id": 73020720, "body": "It has to be one of the elements you&#39;ve created and mounted rather than the parent <code>elements</code> here --- <code>stripe.createToken(elements)</code> will throw an error."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1490219541, "post_id": 42963215, "comment_id": 73020743, "body": "So he has to call <code>createToken</code> separately for each element?"}, {"owner": {"reputation": 4320, "user_id": 5108826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dulBj.png?s=128&g=1", "display_name": "duck", "link": "https://stackoverflow.com/users/5108826/duck"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 6, "creation_date": 1490222845, "post_id": 42963215, "comment_id": 73022200, "body": "@Barmar nope! On any one of the elements will work. <a href=\"https://jsfiddle.net/ywain/o2n3js2r/\" rel=\"nofollow noreferrer\">jsfiddle.net/ywain/o2n3js2r</a>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1490222895, "post_id": 42963215, "comment_id": 73022221, "body": "Thx. We&#39;re still using stripe.js v2, I&#39;m not really familiar with this new design."}, {"owner": {"reputation": 839, "user_id": 6191855, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/u8HTb.jpg?s=128&g=1", "display_name": "Julien Salinas", "link": "https://stackoverflow.com/users/6191855/julien-salinas"}, "edited": false, "score": 4, "creation_date": 1498813753, "post_id": 42963215, "comment_id": 76665637, "body": "Thanks a lot. I could not figure how to create the token with cardNumber only but indeed <code>stripe.createToken(cardNumber)</code> works ! Stripe&#39;s docs would need improvements regarding Elements&#39; customization..."}, {"owner": {"reputation": 131, "user_id": 5185971, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t8ysscrsu98/AAAAAAAAAAI/AAAAAAAABII/Awbn5b7xSFc/photo.jpg?sz=128", "display_name": "Kesupile K", "link": "https://stackoverflow.com/users/5185971/kesupile-k"}, "edited": false, "score": 3, "creation_date": 1501234409, "post_id": 42963215, "comment_id": 77700313, "body": "this approach works thanks. But I agree, it is not a very intuitive approach to creating an API. If anyone here works for Stripe, could you please take a look at this"}, {"owner": {"reputation": 23542, "user_id": 1008999, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/02f476ed950384700afba952f6efaa28?s=128&d=identicon&r=PG", "display_name": "Endless", "link": "https://stackoverflow.com/users/1008999/endless"}, "edited": false, "score": 0, "creation_date": 1511896665, "post_id": 42963215, "comment_id": 82035463, "body": "wtf, in v2 you could pass in a object, now you have to use there own UI elements too? sucks"}], "tags": [], "owner": {"reputation": 4320, "user_id": 5108826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dulBj.png?s=128&g=1", "display_name": "duck", "link": "https://stackoverflow.com/users/5108826/duck"}, "is_accepted": true, "score": 43, "last_activity_date": 1523471883, "last_edit_date": 1523471883, "creation_date": 1490219084, "answer_id": 42963215, "question_id": 42962752, "link": "https://stackoverflow.com/questions/42962752/creating-stripe-token-using-separate-elements/42963215#42963215", "title": "Creating stripe token using separate elements", "body": "<p>From the <code>Elements</code> reference.</p>\n\n<blockquote>\n  <p>element: the Element you wish to tokenize data from. The Element will\n  pull data from other Elements you\u2019ve created on the same instance of\n  elements to tokenize.</p>\n</blockquote>\n\n<p><a href=\"https://stripe.com/docs/elements/reference#stripe-create-token\" rel=\"noreferrer\">https://stripe.com/docs/elements/reference#stripe-create-token</a></p>\n\n<p>So you can initialize elements</p>\n\n<pre><code>var elements = stripe.elements();\n</code></pre>\n\n<p>And then define / mount your fields </p>\n\n<pre><code>var cardNumber = elements.create('cardNumber');\ncardNumber.mount('#card-number');\nvar cardExpiry = elements.create('cardExpiry');\ncardExpiry.mount('#card-expiry');\nvar cardCvc = elements.create('cardCvc');\ncardCvc.mount('#card-cvc');\n\n// creating a postal code element is deprecated \n// var cardPostalCode = elements.create('postalCode');\n// cardPostalCode.mount('#card-postal-code');\n</code></pre>\n\n<p>Then this should pull them all in as they are part of <code>elements</code></p>\n\n<pre><code>stripe.createToken(cardNumber).then(doSomething);\n</code></pre>\n\n<hr>\n\n<p><strong>Edit:</strong> The postal code element has been deprecated, so I removed it from my example. If you're using separate fields and want to collect the postal code (or other address data), you should do this via an <code>&lt;input&gt;</code> and then pass it into the optional <code>cardData</code> object when calling <code>stripe.createToken</code></p>\n\n<p><a href=\"https://stripe.com/docs/stripe-js/reference#elements-create\" rel=\"noreferrer\">https://stripe.com/docs/stripe-js/reference#elements-create</a></p>\n\n<pre><code>// &lt;input id=\"postal-code\" name=\"postal_code\" class=\"field\" placeholder=\"90210\" /&gt;\n\nvar cardData = { \n  address_zip: document.getElementById('postal-code').value\n}\n\nstripe.createToken(cardNumber,cardData).then(doSomething);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2205, "user_id": 6460122, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/WTsp7.jpg?s=128&g=1", "display_name": "ricks", "link": "https://stackoverflow.com/users/6460122/ricks"}, "edited": false, "score": 0, "creation_date": 1549921136, "post_id": 46282482, "comment_id": 96071011, "body": "How is this different from duck&#39;s solution? Seems like it is creating a token from the card number element as well."}], "tags": [], "owner": {"reputation": 1553, "user_id": 647427, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/HQfyU.jpg?s=128&g=1", "display_name": "cman77", "link": "https://stackoverflow.com/users/647427/cman77"}, "is_accepted": false, "score": 2, "last_activity_date": 1505746764, "creation_date": 1505746764, "answer_id": 46282482, "question_id": 42962752, "link": "https://stackoverflow.com/questions/42962752/creating-stripe-token-using-separate-elements/46282482#46282482", "title": "Creating stripe token using separate elements", "body": "<p>Here is a jsfiddle someone from the Stripe team put together that takes a different approach:</p>\n\n<p><a href=\"https://jsfiddle.net/ywain/o2n3js2r/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/ywain/o2n3js2r/</a></p>\n\n<pre><code>var stripe = Stripe('XYZ');\nvar elements = stripe.elements();\n\nvar style = {\n  base: {\n    iconColor: '#666EE8',\n    color: '#31325F',\n    lineHeight: '40px',\n    fontWeight: 300,\n    fontFamily: 'Helvetica Neue',\n    fontSize: '15px',\n\n    '::placeholder': {\n      color: '#CFD7E0',\n    },\n  },\n};\n\nvar cardNumberElement = elements.create('cardNumber', {\n  style: style\n});\ncardNumberElement.mount('#card-number-element');\n\nvar cardExpiryElement = elements.create('cardExpiry', {\n  style: style\n});\ncardExpiryElement.mount('#card-expiry-element');\n\nvar cardCvcElement = elements.create('cardCvc', {\n  style: style\n});\ncardCvcElement.mount('#card-cvc-element');\n\nvar postalCodeElement = elements.create('postalCode', {\n  style: style\n});\npostalCodeElement.mount('#postal-code-element');\n\n\nfunction setOutcome(result) {\n  var successElement = document.querySelector('.success');\n  var errorElement = document.querySelector('.error');\n  successElement.classList.remove('visible');\n  errorElement.classList.remove('visible');\n\n  if (result.token) {\n    // In this example, we're simply displaying the token\n    successElement.querySelector('.token').textContent = result.token.id;\n    successElement.classList.add('visible');\n\n    // In a real integration, you'd submit the form with the token to your backend server\n    //var form = document.querySelector('form');\n    //form.querySelector('input[name=\"token\"]').setAttribute('value', result.token.id);\n    //form.submit();\n  } else if (result.error) {\n    errorElement.textContent = result.error.message;\n    errorElement.classList.add('visible');\n  }\n}\n\ncardNumberElement.on('change', function(event) {\n  setOutcome(event);\n});\n\ndocument.querySelector('form').addEventListener('submit', function(e) {\n  e.preventDefault();\n  stripe.createToken(cardNumberElement).then(setOutcome);\n});\n</code></pre>\n"}], "owner": {"reputation": 389, "user_id": 1386644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/becf31d8b1ccd6672689135ca22aac82?s=128&d=identicon&r=PG", "display_name": "Biskwit", "link": "https://stackoverflow.com/users/1386644/biskwit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20138, "favorite_count": 6, "accepted_answer_id": 42963215, "answer_count": 2, "score": 32, "last_activity_date": 1523471883, "creation_date": 1490217162, "question_id": 42962752, "link": "https://stackoverflow.com/questions/42962752/creating-stripe-token-using-separate-elements", "title": "Creating stripe token using separate elements", "body": "<p>Instead of using the element type 'card' I needed to separate the elements, In the documentation example they only use 'card' so when they create a token they just pass the card object to the create token parameter.</p>\n\n<pre><code>stripe.createToken(card).then(function(result) {\n\n});\n</code></pre>\n\n<p>How can I pass these multiple objects to create a token?</p>\n\n<pre><code>var cardNumber = elements.create('cardNumber');\ncardNumber.mount('#card-number');\nvar cardExpiry = elements.create('cardExpiry');\ncardExpiry.mount('#card-expiry');\nvar cardCvc = elements.create('cardCvc');\ncardCvc.mount('#card-cvc');\nvar cardPostalCode = elements.create('postalCode');\ncardPostalCode.mount('#card-postal-code');\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 28915, "user_id": 179216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/08Iyn.png?s=128&g=1", "display_name": "Jeff B", "link": "https://stackoverflow.com/users/179216/jeff-b"}, "edited": false, "score": 0, "creation_date": 1490217349, "post_id": 42962728, "comment_id": 73019738, "body": "Why don&#39;t you use <code>focus</code> instead of <code>click touchstart</code>?"}, {"owner": {"reputation": 2524, "user_id": 4563161, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/vQUNB.png?s=128&g=1", "display_name": "DCdaz", "link": "https://stackoverflow.com/users/4563161/dcdaz"}, "reply_to_user": {"reputation": 28915, "user_id": 179216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/08Iyn.png?s=128&g=1", "display_name": "Jeff B", "link": "https://stackoverflow.com/users/179216/jeff-b"}, "edited": false, "score": 0, "creation_date": 1490217445, "post_id": 42962728, "comment_id": 73019779, "body": "This is specifically for a tocuhevent"}, {"owner": {"reputation": 28915, "user_id": 179216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/08Iyn.png?s=128&g=1", "display_name": "Jeff B", "link": "https://stackoverflow.com/users/179216/jeff-b"}, "edited": false, "score": 0, "creation_date": 1490217991, "post_id": 42962728, "comment_id": 73020036, "body": "Well, you are using <code>blur</code>.  Blur and focus are handled differently on touch devices.  What are you really trying to accomplish?  You are mixing and matching blur/focus and touch events which I believe is the cause of your issue.  Each platform handles the order a little differently, and in this case I don&#39;t think <code>blur</code> fires until after the <code>touchstart</code> event on the second input."}, {"owner": {"reputation": 28915, "user_id": 179216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/08Iyn.png?s=128&g=1", "display_name": "Jeff B", "link": "https://stackoverflow.com/users/179216/jeff-b"}, "edited": false, "score": 0, "creation_date": 1490218123, "post_id": 42962728, "comment_id": 73020094, "body": "How about using <code>touchleave</code> instead of <code>blur</code>?"}, {"owner": {"reputation": 2524, "user_id": 4563161, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/vQUNB.png?s=128&g=1", "display_name": "DCdaz", "link": "https://stackoverflow.com/users/4563161/dcdaz"}, "reply_to_user": {"reputation": 5947, "user_id": 5771750, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mBNlv.png?s=128&g=1", "display_name": "Chris Happy", "link": "https://stackoverflow.com/users/5771750/chris-happy"}, "edited": false, "score": 0, "creation_date": 1490218166, "post_id": 42962728, "comment_id": 73020120, "body": "@ChrisHappy not sure how you thought that was a duplicate."}, {"owner": {"reputation": 2524, "user_id": 4563161, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/vQUNB.png?s=128&g=1", "display_name": "DCdaz", "link": "https://stackoverflow.com/users/4563161/dcdaz"}, "reply_to_user": {"reputation": 28915, "user_id": 179216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/08Iyn.png?s=128&g=1", "display_name": "Jeff B", "link": "https://stackoverflow.com/users/179216/jeff-b"}, "edited": false, "score": 0, "creation_date": 1490218285, "post_id": 42962728, "comment_id": 73020159, "body": "@JeffB Touchend same result"}, {"owner": {"reputation": 2524, "user_id": 4563161, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/vQUNB.png?s=128&g=1", "display_name": "DCdaz", "link": "https://stackoverflow.com/users/4563161/dcdaz"}, "reply_to_user": {"reputation": 28915, "user_id": 179216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/08Iyn.png?s=128&g=1", "display_name": "Jeff B", "link": "https://stackoverflow.com/users/179216/jeff-b"}, "edited": false, "score": 0, "creation_date": 1490218348, "post_id": 42962728, "comment_id": 73020193, "body": "@JeffB I can roughly solve it with using settimeout but IOS wont respond to anything less than 400ms so theirs quite the stutter of the effect. It also doesnt feel to safe doing it that way"}, {"owner": {"reputation": 5947, "user_id": 5771750, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mBNlv.png?s=128&g=1", "display_name": "Chris Happy", "link": "https://stackoverflow.com/users/5771750/chris-happy"}, "edited": false, "score": 0, "creation_date": 1490218750, "post_id": 42962728, "comment_id": 73020392, "body": "@DCdaz ...[facepalm]"}, {"owner": {"reputation": 28915, "user_id": 179216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/08Iyn.png?s=128&g=1", "display_name": "Jeff B", "link": "https://stackoverflow.com/users/179216/jeff-b"}, "edited": false, "score": 0, "creation_date": 1490219015, "post_id": 42962728, "comment_id": 73020503, "body": "@DCdaz If you just use the <code>click</code> and <code>blur</code> events on iOS, it works fine."}, {"owner": {"reputation": 2524, "user_id": 4563161, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/vQUNB.png?s=128&g=1", "display_name": "DCdaz", "link": "https://stackoverflow.com/users/4563161/dcdaz"}, "reply_to_user": {"reputation": 28915, "user_id": 179216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/08Iyn.png?s=128&g=1", "display_name": "Jeff B", "link": "https://stackoverflow.com/users/179216/jeff-b"}, "edited": false, "score": 0, "creation_date": 1490219376, "post_id": 42962728, "comment_id": 73020667, "body": "@JeffB yes it does but then it also works on desktop :P, its to combat the keyboard showing and due to other reasons i cant rely on the normal methods but its ok I figured out  work around"}], "answers": [{"tags": [], "owner": {"reputation": 2524, "user_id": 4563161, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/vQUNB.png?s=128&g=1", "display_name": "DCdaz", "link": "https://stackoverflow.com/users/4563161/dcdaz"}, "is_accepted": true, "score": 0, "last_activity_date": 1490219556, "creation_date": 1490219556, "answer_id": 42963342, "question_id": 42962728, "link": "https://stackoverflow.com/questions/42962728/jquery-touchstart-not-working-for-blur/42963342#42963342", "title": "jQuery touchstart not working for blur", "body": "<p>So figured out a way to get it to work and also eliminate any painful flickering of the footer animating between input focus'.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('input:not(:radio)').on('click touchstart', function (e) {\r\n\t if(e.type==='click'){}else{\r\n\t\t $('#form-footer').hide();\r\n\t\t setTimeout(function(){ $('#form-footer').addClass('touched').show(); }, 400);\r\n\t }\t\r\n}).on('blur', function () {\t     \r\n\t\t $('.touched').removeClass('touched');\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2524, "user_id": 4563161, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/vQUNB.png?s=128&g=1", "display_name": "DCdaz", "link": "https://stackoverflow.com/users/4563161/dcdaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 560, "favorite_count": 0, "accepted_answer_id": 42963342, "answer_count": 1, "score": 0, "last_activity_date": 1490219556, "creation_date": 1490217087, "question_id": 42962728, "link": "https://stackoverflow.com/questions/42962728/jquery-touchstart-not-working-for-blur", "title": "jQuery touchstart not working for blur", "body": "<p>The issue I have here is with <code>touchstart</code>. Whats happening instead of behaving like click when you click into another focused input it adds the wanted class to footer. <code>Touchstart</code> doesn't. Instead it seem to act to quickly for the blur and the blur happens after.</p>\n\n<p>Anyone know how to stop this so <code>touchstart</code> behaves like click?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('input:not(:radio)').on('click touchstart', function (e) {\r\n\t if(e.type==='click'){}else{\r\n\t\t $('footer').addClass('touched');\r\n\t }\t\r\n}).on('blur', function () {\r\n\t\t $('.touched').removeClass('touched');\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>footer{background:blue;display:block;height:50px;}\r\nfooter.touched{background:red}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;input type=\"text\"&gt;\r\n&lt;input type=\"text\"&gt;\r\n&lt;footer&gt;footer&lt;/footer&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "firebase", "firebase-authentication"], "comments": [{"owner": {"reputation": 23567, "user_id": 5081766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1f78b145103df7e99305218df85a5b?s=128&d=identicon&r=PG&f=1", "display_name": "bojeil", "link": "https://stackoverflow.com/users/5081766/bojeil"}, "edited": false, "score": 1, "creation_date": 1490233235, "post_id": 42962708, "comment_id": 73025437, "body": "Firebase sessions are indefinite. Once the user signs in, that same user should remain signed in. Firebase ID tokens (obtained via getToken) will be refreshed whenever they expire and an Auth operation is run."}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "reply_to_user": {"reputation": 23567, "user_id": 5081766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1f78b145103df7e99305218df85a5b?s=128&d=identicon&r=PG&f=1", "display_name": "bojeil", "link": "https://stackoverflow.com/users/5081766/bojeil"}, "edited": false, "score": 0, "creation_date": 1490240210, "post_id": 42962708, "comment_id": 73027292, "body": "Sounds like an answer @bojeil! :-)"}], "owner": {"reputation": 1675, "user_id": 9774, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/82a1aab90548bf742196496ef86210aa?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/9774/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 396, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1490235447, "creation_date": 1490216982, "last_edit_date": 1490235447, "question_id": 42962708, "link": "https://stackoverflow.com/questions/42962708/firebase-emailauthprovider-token", "title": "firebase EmailAuthProvider token", "body": "<p>I created a user using email and password and now I want to store the token for that user so he doesn't need to sign in everytime. I managed to get the token after the first sign in using </p>\n\n<pre><code>firebase.auth()\n  .signInWithEmailAndPassword(this.loginEmail, this.loginPassword)\n  .then(res =&gt; {\n    res.getToken().then(token =&gt; {\n      firebase_token = token\n    })\n  })\n  .catch(error =&gt; {\n    console.log(error.toString())\n  })\n</code></pre>\n\n<p>But now I can't use the token to sign in either using credential. </p>\n\n<pre><code>var cred = firebase.auth.EmailAuthProvider.credential(email, firebase_token)\nfirebase.auth().signInWithCredential(cred).then(function (user) {\n  console.log('using google auth provider')\n  console.log(user)\n})\n</code></pre>\n\n<p>or custom token</p>\n\n<pre><code>firebase.auth().signInWithCustomToken(firebase_token).then(function (user) {\n  console.log(user)\n}).catch((error) =&gt; {\n  console.error(error)\n})\n</code></pre>\n\n<p>So what is the point of the token? It would work for other Auth like Google and Facebook but I just wanted a simple email and password...</p>\n\n<p>Do I have to resort to store the email and password on the device in order to sign them in automatically?</p>\n"}, {"tags": ["javascript", "google-maps", "google-maps-api-3", "local-storage"], "answers": [{"comments": [{"owner": {"reputation": 1615, "user_id": 1006610, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/105c06618d3f6d35e0370e091f9b98dd?s=128&d=identicon&r=PG&f=1", "display_name": "kaoscify", "link": "https://stackoverflow.com/users/1006610/kaoscify"}, "edited": false, "score": 0, "creation_date": 1490283433, "post_id": 42977960, "comment_id": 73053208, "body": "Thanks sand. I&#39;m testing this. But isn&#39;t this replacing the entire collection instead of replacing the one polygon that was edited?"}, {"owner": {"reputation": 4336, "user_id": 5452965, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PVSOP.jpg?s=128&g=1", "display_name": "codtex", "link": "https://stackoverflow.com/users/5452965/codtex"}, "reply_to_user": {"reputation": 1615, "user_id": 1006610, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/105c06618d3f6d35e0370e091f9b98dd?s=128&d=identicon&r=PG&f=1", "display_name": "kaoscify", "link": "https://stackoverflow.com/users/1006610/kaoscify"}, "edited": false, "score": 0, "creation_date": 1490285870, "post_id": 42977960, "comment_id": 73055232, "body": "@mapr this code is always updating the <code>localStorage</code> with latest data from <code>drawLayer</code> and <code>savedLayer</code>, so yes it is replacing the entire collection, but isn&#39;t it working as you want ? I can add new stuff, change old stuff and when I save I see exactly what I saved - isn&#39;t this the point ?"}, {"owner": {"reputation": 1615, "user_id": 1006610, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/105c06618d3f6d35e0370e091f9b98dd?s=128&d=identicon&r=PG&f=1", "display_name": "kaoscify", "link": "https://stackoverflow.com/users/1006610/kaoscify"}, "edited": false, "score": 0, "creation_date": 1490286996, "post_id": 42977960, "comment_id": 73055988, "body": "Yes it&#39;s working well. But if one is storing these in a database, and if you have drawn 50-100 polygons, isn&#39;t it expensive to send the entire collection rather than the one that was just edited?"}, {"owner": {"reputation": 4336, "user_id": 5452965, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PVSOP.jpg?s=128&g=1", "display_name": "codtex", "link": "https://stackoverflow.com/users/5452965/codtex"}, "reply_to_user": {"reputation": 1615, "user_id": 1006610, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/105c06618d3f6d35e0370e091f9b98dd?s=128&d=identicon&r=PG&f=1", "display_name": "kaoscify", "link": "https://stackoverflow.com/users/1006610/kaoscify"}, "edited": false, "score": 0, "creation_date": 1490322396, "post_id": 42977960, "comment_id": 73072063, "body": "Well this question is a matter of database design, if you store whole object <code>json</code> in MySQL <code>TEXT</code> field you will be fine to always overwrite this field with the latest data ( people are sending much more bigger objects over HTTP ). Well if you have a single row for each polygon then you can send only <code>drawLayer</code> to your server. Possibilities are a lot, as I said this is another story :) Good Luck!"}, {"owner": {"reputation": 1615, "user_id": 1006610, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/105c06618d3f6d35e0370e091f9b98dd?s=128&d=identicon&r=PG&f=1", "display_name": "kaoscify", "link": "https://stackoverflow.com/users/1006610/kaoscify"}, "edited": false, "score": 0, "creation_date": 1490330629, "post_id": 42977960, "comment_id": 73074250, "body": "Thanks for your thoughts @sand. Appreciated."}], "tags": [], "owner": {"reputation": 4336, "user_id": 5452965, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PVSOP.jpg?s=128&g=1", "display_name": "codtex", "link": "https://stackoverflow.com/users/5452965/codtex"}, "is_accepted": true, "score": 0, "last_activity_date": 1490276931, "creation_date": 1490276931, "answer_id": 42977960, "question_id": 42962700, "link": "https://stackoverflow.com/questions/42962700/how-to-replace-old-geometry-with-new-geometry-in-localstorage-using-google-maps/42977960#42977960", "title": "How to replace old geometry with new geometry in localStorage using Google Maps API?", "body": "<p>I didn't spend a lot of time to read your code and I didn't get the point of using two layers instead of one layer. With some <code>console.log()</code> statements I realized that you are always saving <code>drawLayer</code> to <code>localStorage</code> and that's why you miss saved/updated data. </p>\n\n<p>I forked your jsfiddle <strong><a href=\"http://jsfiddle.net/488dyz6u/1/\" rel=\"nofollow noreferrer\">HERE</a></strong> and did small modifications in <code>savePolygons()</code> method and seems that it is working now as expected. </p>\n\n<p>In short words I make sure that I'm saving the data from <code>drawLayer</code> and <code>savedLayer</code> to <code>localStorage</code> so we don't miss anything.</p>\n\n<p>Just for reference:</p>\n\n<pre><code>function savePolygons(json) {\n    var btn = document.getElementById('save-edits');\n    btn.onclick = function() {\n\n        var drawLayerData, savedLayerData;\n\n        drawLayer.toGeoJson(function(json) {\n\n            console.log('saving geo data drawLayer ...')\n            console.log(json);\n            drawLayerData = json;\n\n            if(typeof savedLayerData != 'undefined'){\n                json.features = json.features.concat(savedLayerData.features)\n                localStorage.setItem('geoData', JSON.stringify(json));\n                alert('Data was saved');\n            }\n        });\n\n        savedLayer.toGeoJson(function(json) {\n\n            console.log('saving geo data savedLayer ...')\n            console.log(json);\n            savedLayerData = json;\n\n            if(typeof drawLayerData != 'undefined'){\n                json.features = json.features.concat(drawLayerData.features)\n                localStorage.setItem('geoData', JSON.stringify(json));\n                alert('Data was saved');\n            }\n        });\n    };\n}\n</code></pre>\n"}], "owner": {"reputation": 1615, "user_id": 1006610, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/105c06618d3f6d35e0370e091f9b98dd?s=128&d=identicon&r=PG&f=1", "display_name": "kaoscify", "link": "https://stackoverflow.com/users/1006610/kaoscify"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 508, "favorite_count": 0, "accepted_answer_id": 42977960, "answer_count": 1, "score": 0, "last_activity_date": 1490276931, "creation_date": 1490216954, "question_id": 42962700, "link": "https://stackoverflow.com/questions/42962700/how-to-replace-old-geometry-with-new-geometry-in-localstorage-using-google-maps", "title": "How to replace old geometry with new geometry in localStorage using Google Maps API?", "body": "<p>I have 2 data layers on my Google Map: <code>savedLayer</code> (used for displaying/loading saved data on the map), and <code>drawLayer</code> (used for drawing on the map).</p>\n\n<p>I'm currently able to store a drawn polygon on the map in localStorage using the Save button, and then display it on the map from localStorage.</p>\n\n<p>What I'm struggling with is updating localStorage with any changes that are made to a particular polygon afterwards. Let's say you draw 3 or 4 polygons (I assign unique IDs to them). How do I update the geometry in localStorage for the selected polygon? How do I remove it? I basically want to send new updates of that polygon to localStorage once Saved is clicked.</p>\n\n<p>I know there's a <code>setgeometry</code> event that I can use, and I'm currently using that to detect when the a geometry in <code>savedLayer</code> changes, but am struggling with replacing the old geometry with the new one:</p>\n\n<pre><code>changedGeom = savedLayer.addListener('setgeometry', function(e) {\n    console.log('changed geometry for polygon #' + e.feature.getProperty('featureID'));\n    console.log(e.newGeometry);\n});\n</code></pre>\n\n<p><strong>JSFiddle - <a href=\"http://jsfiddle.net/h0f3ycf4\" rel=\"nofollow noreferrer\">http://jsfiddle.net/h0f3ycf4</a></strong></p>\n\n<p>P.S. You can currently delete/remove polygons from map using right-click on your mouse. But once I hit Save, this change is not reflected in localStorage.</p>\n\n<p><strong>Full JS:</strong></p>\n\n<pre><code>var map, data, drawLayer, savedLayer, changedGeom;\nvar currentID = 0;\nvar uniqueID = function() {\n    return ++currentID;\n}\n\nfunction initMap() {\n    map = new google.maps.Map(document.getElementById('map'), {\n        center: {\n            lat: -33.865143,\n            lng: 151.209900\n        },\n        zoom: 16,\n        clickableIcons: false,\n        mapTypeId: google.maps.MapTypeId.TERRAIN,\n        mapTypeControl: false\n    });\n\n    drawLayer = new google.maps.Data({\n        map: map\n    });\n    savedLayer = new google.maps.Data({\n        map: map\n    });\n    drawLayer.setControls(['Polygon']);\n    drawLayer.setStyle({\n        editable: true,\n        draggable: true\n    });\n    bindDataLayerListeners(drawLayer);\n    savePolygons(drawLayer);\n    loadPolygons(savedLayer);\n}\n\nfunction bindDataLayerListeners(drawLayer) {\n    drawLayer.addListener('addfeature', function(e) {\n        e.feature.setProperty('featureID', uniqueID());\n    });\n\n    drawLayer.addListener('mouseover', function(e) {\n        drawLayer.revertStyle();\n        drawLayer.overrideStyle(e.feature, {\n            fillOpacity: 0.5,\n            editable: true,\n            draggable: true\n        });\n    });\n}\n\nfunction loadPolygons(map) {\n    data = JSON.parse(localStorage.getItem('geoData'));\n\n    savedLayer.forEach(function(f) {\n        savedLayer.remove(f);\n    });\n\n    savedLayer.addGeoJson(data);\n\n    savedLayer.addListener('mouseover', function(e) {\n        savedLayer.revertStyle();\n        savedLayer.overrideStyle(e.feature, {\n            fillOpacity: 0.5,\n            editable: true,\n            draggable: true\n        });\n    });\n\n    map.addListener('click', function() {\n        savedLayer.revertStyle();\n    });\n\n    savedLayer.addListener('rightclick', function(e) {\n        data = JSON.parse(localStorage.getItem('geoData'));\n        data.features = data.features.filter(function(feature) {\n            return feature.properties.featureID !== e.feature.getProperty('featureID');\n        });\n        savedLayer.remove(e.feature);\n    });\n\n    changedGeom = savedLayer.addListener('setgeometry', function(e) {\n        console.log('changed geometry for polygon #' + e.feature.getProperty('featureID'));\n        console.log(e.newGeometry);\n    });\n}\n\nfunction savePolygons(json) {\n    var btn = document.getElementById('save-edits');\n    btn.onclick = function() {\n        // if (changedGeom) {\n        // console.log('geometry was changed and updated');\n        //savedLayer.addListener('setgeometry', savePolygon);\n        // } else {\n        // if (json.features.length === 0) {\n        // console.log('nothing to save');\n        // } else {\n        drawLayer.toGeoJson(function(json) {\n            localStorage.setItem('geoData', JSON.stringify(json));\n            alert('Saved to localStorage');\n        });\n        //  }\n        // }\n    };\n}\ninitMap();\n</code></pre>\n"}, {"tags": ["javascript", "d3.js"], "answers": [{"tags": [], "owner": {"reputation": 755, "user_id": 5852293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dfbf4bcf083ce9b428a01d9e26b8e87?s=128&d=identicon&r=PG&f=1", "display_name": "Taran J", "link": "https://stackoverflow.com/users/5852293/taran-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1490268505, "creation_date": 1490268505, "answer_id": 42974738, "question_id": 42962675, "link": "https://stackoverflow.com/questions/42962675/d3-donut-with-new-data-will-not-draw-properly/42974738#42974738", "title": "D3 Donut with new data will not draw properly", "body": "<p>whenever you switch dataset, you either need to remove the existing svg structure or reset them. You can remove them like this and the remaining code will create a new structure:</p>\n\n<pre><code>if(d3.select(selector))\nd3.select(selector).select(\"svg\").remove();\n</code></pre>\n\n<p>Here's the working fiddle: <a href=\"https://jsfiddle.net/swevens/Lb2temc8/17/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/swevens/Lb2temc8/17/</a></p>\n"}], "owner": {"reputation": 357, "user_id": 3838684, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dXLHv.jpg?s=128&g=1", "display_name": "Aeisys", "link": "https://stackoverflow.com/users/3838684/aeisys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1490268505, "creation_date": 1490216848, "question_id": 42962675, "link": "https://stackoverflow.com/questions/42962675/d3-donut-with-new-data-will-not-draw-properly", "title": "D3 Donut with new data will not draw properly", "body": "<p>I'm new to D3 and I'm struggling to update my donut chart with new data.</p>\n\n<p>When the data is swapped, the calculated segments are wrong. At first glance the chart might look like a proper donut, but if you inspect the donut you will see that one of the segments is the size of the entire donut.</p>\n\n<p><a href=\"https://jsfiddle.net/LaserDeathBlade/Lb2temc8/\" rel=\"nofollow noreferrer\">jsfiddle</a></p>\n\n<p>I included a commented line of code that completely redraws the donut chart. If you uncomment it, you'll be able to see how the chart is supposed to look.</p>\n\n<p><strong>The update function:</strong></p>\n\n<pre><code>function updateDonut(selector, dataset){\n  var width = 120;\n  var height = 120;\n  var donutWidth = 25;\n  var radius = Math.min(width, height) / 2;\n  var color = d3.scale.category20c(); \n\n  var pie = d3.layout.pie()\n  .value(function(d) {\n    return d.values;\n  })\n  .sort(null);\n\n  var arc = d3.svg.arc()\n  .innerRadius(radius - donutWidth)\n  .outerRadius(radius);\n\n  var svg = d3.select(selector).select(\"svg &gt; g\");\n\n  if(svg.empty()){\n    svg = d3.select(selector)\n      .append('svg')\n      .attr('width', width)\n      .attr('height', height)\n      .append('g')\n      .attr('transform', 'translate(' + (width / 2) + ',' + (height / 2) + ')');\n  }\n\n  /*Uncommenting below line shows donut should look like*/\n  //svg.selectAll(\"path\").remove();\n\n  var path = svg.selectAll(\"path\");\n  path = path.data(pie(dataset));\n\n  path.enter().append(\"path\")\n    .attr(\"fill\", function(d, i) { return color(i) })\n    .attr(\"d\", arc)\n\n  path.exit().remove()\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "performance", "operating-system"], "comments": [{"owner": {"reputation": 10707, "user_id": 6650102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/boCIP.jpg?s=128&g=1", "display_name": "Aurora0001", "link": "https://stackoverflow.com/users/6650102/aurora0001"}, "edited": false, "score": 2, "creation_date": 1490217012, "post_id": 42962670, "comment_id": 73019565, "body": "You might be able to dig through <a href=\"https://github.com/nodejs/node/blob/master/lib/os.js\" rel=\"nofollow noreferrer\">the source</a> and find how it&#39;s implemented."}], "answers": [{"comments": [{"owner": {"reputation": 719, "user_id": 4481287, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh6.googleusercontent.com/-f-x0zQTDToE/AAAAAAAAAAI/AAAAAAAAAGM/ySb8KAzjS28/photo.jpg?sz=128", "display_name": "Kevin Cohen", "link": "https://stackoverflow.com/users/4481287/kevin-cohen"}, "edited": false, "score": 0, "creation_date": 1490223568, "post_id": 42962820, "comment_id": 73022489, "body": "Thanks! This is what I was looking for. I don&#39;t know why I got downvoted but this helps. Thanks"}], "tags": [], "owner": {"reputation": 52633, "user_id": 3155639, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d254eedd932f950213109aa3706aba74?s=128&d=identicon&r=PG", "display_name": "Alexander O&#39;Mara", "link": "https://stackoverflow.com/users/3155639/alexander-omara"}, "is_accepted": true, "score": 1, "last_activity_date": 1490217455, "creation_date": 1490217455, "answer_id": 42962820, "question_id": 42962670, "link": "https://stackoverflow.com/questions/42962670/how-does-nodejs-os-module-work/42962820#42962820", "title": "How does NodeJS OS Module work", "body": "<p>The <code>os.totalmem</code> function is a native function from <code>process.binding('os')</code> called <code>getTotalMem</code>. Their implementations can be found in the Node source code:</p>\n\n<p>The following code can be found in <a href=\"https://github.com/nodejs/node/blob/98e54b0bd4854bdb3e2949d1b6b20d6777fb7cde/src/node_os.cc\" rel=\"nofollow noreferrer\"><code>src/node_os.cc</code></a>:</p>\n\n<pre><code>static void GetTotalMemory(const FunctionCallbackInfo&lt;Value&gt;&amp; args) {\n  double amount = uv_get_total_memory();\n  if (amount &lt; 0)\n    return;\n  args.GetReturnValue().Set(amount);\n}\n\n// ...\n\nenv-&gt;SetMethod(target, \"getTotalMem\", GetTotalMemory);\n</code></pre>\n\n<p>The <code>uv_get_total_memory</code> function has <a href=\"https://github.com/nodejs/node/search?utf8=%E2%9C%93&amp;q=uv_get_total_memory&amp;type=\" rel=\"nofollow noreferrer\">several implementations</a> based on the host OS.</p>\n\n<p>Here is the Linux implementation <a href=\"https://github.com/nodejs/node/blob/63243bcb330408d511b3945c53719425d8b7abb8/deps/uv/src/unix/linux-core.c#L497-L503\" rel=\"nofollow noreferrer\"><code>deps/uv/src/unix/linux-core.c</code></a>:</p>\n\n<pre><code>uint64_t uv_get_total_memory(void) {\n  struct sysinfo info;\n\n  if (sysinfo(&amp;info) == 0)\n    return (uint64_t) info.totalram * info.mem_unit;\n  return 0;\n}\n</code></pre>\n\n<p>The Linux build uses <code>sysinfo</code> to get this information. It does not need to spawn another another process.</p>\n"}], "owner": {"reputation": 719, "user_id": 4481287, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh6.googleusercontent.com/-f-x0zQTDToE/AAAAAAAAAAI/AAAAAAAAAGM/ySb8KAzjS28/photo.jpg?sz=128", "display_name": "Kevin Cohen", "link": "https://stackoverflow.com/users/4481287/kevin-cohen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 42962820, "answer_count": 1, "score": -1, "last_activity_date": 1490217455, "creation_date": 1490216807, "question_id": 42962670, "link": "https://stackoverflow.com/questions/42962670/how-does-nodejs-os-module-work", "title": "How does NodeJS OS Module work", "body": "<p>Nodejs has a built in OS module that we can use by having this line in our code</p>\n\n<pre><code>var os = require('os');\n</code></pre>\n\n<p>There are a number of functions to use such as getting free memory, total memory, cpu usage, load average, etc.</p>\n\n<p>My question here is <strong>HOW</strong> does nodejs calculate this information? </p>\n\n<p>For example, the free/total RAM memory, how is that being done under curtains. Is it calling another process to read stats from the system? is it running a separate command like <code>iostat</code> or <code>dstat</code>? How is it actually retrieving that data for us?</p>\n"}, {"tags": ["javascript", "arrays", "object"], "comments": [{"owner": {"reputation": 1997, "user_id": 867620, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/85a3d947035a6a73b823b6fee2ccb933?s=128&d=identicon&r=PG", "display_name": "sethro", "link": "https://stackoverflow.com/users/867620/sethro"}, "edited": false, "score": 0, "creation_date": 1490217133, "post_id": 42962659, "comment_id": 73019626, "body": "do you care about keeping track of the order of the rolls/sums? Or do you just want to know the number of times each sum occurred?"}], "answers": [{"comments": [{"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 1, "creation_date": 1490217244, "post_id": 42962743, "comment_id": 73019685, "body": "I would not use <code>freq[sum]++</code> in an expression that is assigned to the same variable. It is confusing. Maybe <code>(freq[sum] || 0) + 1;</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1490217288, "post_id": 42962743, "comment_id": 73019703, "body": "I meant to write <code>+ 1</code>, not <code>++</code>, fingers typed too fast."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 3, "last_activity_date": 1490217268, "last_edit_date": 1490217268, "creation_date": 1490217131, "answer_id": 42962743, "question_id": 42962659, "link": "https://stackoverflow.com/questions/42962659/count-amount-of-time-a-number-appears-in-an-array/42962743#42962743", "title": "Count amount of time a number appears in an Array", "body": "<p>Use an object whose keys are the sums, and values are the number of times the sum appears. Loop through <code>trackSum</code> and increment the value of the corresponding element.</p>\n\n<pre><code>var freq = {};\ntrackSum.forEach(function(sum) {\n    freq[sum] = freq[sum] ? freq[sum] + 1 : 1;\n}\nconsole.log(freq);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7753598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec26cc74ae4f74839a8c2788e829e4d4?s=128&d=identicon&r=PG&f=1", "display_name": "laurajanedres", "link": "https://stackoverflow.com/users/7753598/laurajanedres"}, "is_accepted": false, "score": 0, "last_activity_date": 1490218349, "creation_date": 1490218349, "answer_id": 42963030, "question_id": 42962659, "link": "https://stackoverflow.com/questions/42962659/count-amount-of-time-a-number-appears-in-an-array/42963030#42963030", "title": "Count amount of time a number appears in an Array", "body": "<p>Apologies for answering my own question, but after some googling, I figured it out. So don't pay attention to the reduce method I have in my original post. This is what I did instead:</p>\n\n<pre><code>var countedSum = trackSum.reduce(function(emptyObj, sum, i, arr){\n      if (sum in emptyObj){\n        emptyObj[sum]++\n      } else {\n        emptyObj[sum] = 1\n      }\n      return emptyObj;\n    }, {});\n</code></pre>\n\n<p>This returns an object, with the sum value as the key, and the amount of times it happens as the value.</p>\n\n<p>Then I learned a new method that grabs the values and puts it in an array.</p>\n\n<pre><code>Object.values(countedSum)\n</code></pre>\n\n<p>That solves it! </p>\n\n<p>Thanks @Barmar for your help!</p>\n"}], "owner": {"reputation": 1, "user_id": 7753598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec26cc74ae4f74839a8c2788e829e4d4?s=128&d=identicon&r=PG&f=1", "display_name": "laurajanedres", "link": "https://stackoverflow.com/users/7753598/laurajanedres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1490218349, "creation_date": 1490216775, "last_edit_date": 1490216948, "question_id": 42962659, "link": "https://stackoverflow.com/questions/42962659/count-amount-of-time-a-number-appears-in-an-array", "title": "Count amount of time a number appears in an Array", "body": "<p>So I have a dice rolling function. I want to roll 2 dice 20 times, each time I roll, I want to add those numbers, and then I want to see how many times the sum appears, and put that number into an array.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function Dice() {\r\n  this.roll = function() {\r\n    var randomValue = Math.ceil(Math.random() * 6);\r\n    this.side = randomValue;\r\n    return this.side;\r\n  }\r\n}\r\n\r\nvar dice1 = new Dice();\r\nvar dice2 = new Dice();\r\n\r\nfunction getAmount() {\r\n  var finalArray = [];\r\n\r\n  function diceSum() {\r\n    var sum = dice1.roll() + dice2.roll();\r\n    return sum;\r\n  }\r\n\r\n  var trackSum = [];\r\n  for (var i = 1; i &lt;= 20; i++) {\r\n    trackSum.push(diceSum());\r\n  }\r\n\r\n\r\n  var reduced = trackSum.reduce(function(acc, sum, i, arr) {\r\n    return acc.i += sum;\r\n  }, {});\r\n  return reduced;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>so I get <code>trackSum</code> which has 20 numbers in an array which, each number is the sum of the 2 dice rolled. If <code>sum = 2</code> and it appears 5 times, <code>sum = 4</code>, appears 2 times, <code>sum = 3</code>, appears 1 time, final array should look like </p>\n\n<pre><code>[5, 2, 1]\n</code></pre>\n\n<p>So far I tried a <code>reduce</code> method, <code>filter</code>, and <code>forEach</code>. I just can't figure out how to compare the numbers to see how many times it's appearing. Any help would be appreciated. Thanks!</p>\n"}, {"tags": ["javascript", "angular", "animation"], "comments": [{"owner": {"reputation": 3589, "user_id": 5155810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63d9ecb9d210b766fbdb63510b0811d7?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Cremer", "link": "https://stackoverflow.com/users/5155810/martin-cremer"}, "edited": false, "score": 0, "creation_date": 1490390251, "post_id": 42962609, "comment_id": 73108150, "body": "I don&#39;t understand why you try to create multiple void states, instead of multiple visible states?  Anyway, you can&#39;t assign styles to void state, as it says in the docu: &#39;Note that in this case the styles are applied to the void state directly in the transition definitions, and not in a separate state(void) definition.&#39;"}, {"owner": {"reputation": 10431, "user_id": 315260, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/0736bf3db7e9baeaa851eae69cbb56f0?s=128&d=identicon&r=PG", "display_name": "T. Junghans", "link": "https://stackoverflow.com/users/315260/t-junghans"}, "reply_to_user": {"reputation": 3589, "user_id": 5155810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63d9ecb9d210b766fbdb63510b0811d7?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Cremer", "link": "https://stackoverflow.com/users/5155810/martin-cremer"}, "edited": false, "score": 0, "creation_date": 1490644897, "post_id": 42962609, "comment_id": 73195393, "body": "@MartinJavinez I can see why my question may sound challenging and sure, there could be alternative solutions but before I look into those, I&#39;d like to know if it is possible to set a void style depending on values passed to a component via @Input?"}], "owner": {"reputation": 10431, "user_id": 315260, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/0736bf3db7e9baeaa851eae69cbb56f0?s=128&d=identicon&r=PG", "display_name": "T. Junghans", "link": "https://stackoverflow.com/users/315260/t-junghans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1490256277, "creation_date": 1490216564, "last_edit_date": 1490256277, "question_id": 42962609, "link": "https://stackoverflow.com/questions/42962609/is-there-a-way-to-dynamically-set-the-void-state-style-of-an-angular-animation-d", "title": "Is there a way to dynamically set the void state style of an Angular animation depending on input?", "body": "<p>I am trying to dynamically set the <a href=\"https://angular.io/docs/ts/latest/guide/animations.html#!#the-void-state\" rel=\"nofollow noreferrer\">void state</a> style of an Angular (2) component animation.</p>\n\n<p>I have a component that is rendered on \"create\" and re-rendered on \"update\". In both cases a <strong>void => * transition</strong> is triggered. However, for \"update\" I'd like a different void-style as for \"create\".</p>\n\n<p>Example: <strong>Create</strong></p>\n\n<pre><code>state(\"void\", style({ opacity: 0, transform: \"scale(0.8)\" }))\n</code></pre>\n\n<p>Example: <strong>Update</strong></p>\n\n<pre><code>state(\"void\", style({ opacity: 1, transform: \"scale(1)\" }))\n</code></pre>\n\n<p>Can this be achieved?</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 4184, "user_id": 816584, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0bcb4808f0143c8b239b192d662b0d7b?s=128&d=identicon&r=PG", "display_name": "Steve Buzonas", "link": "https://stackoverflow.com/users/816584/steve-buzonas"}, "edited": false, "score": 0, "creation_date": 1504386432, "post_id": 42962603, "comment_id": 78996210, "body": "The second has a flaw similar to doing <code>onClick={this.handleClick.bind(this)}</code> in the first, where a new function is created on each render."}], "answers": [{"tags": [], "owner": {"reputation": 461, "user_id": 2990377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc810e9de9e49cd9ab6e2011c108513a?s=128&d=identicon&r=PG", "display_name": "marcusmolchany", "link": "https://stackoverflow.com/users/2990377/marcusmolchany"}, "is_accepted": false, "score": 1, "last_activity_date": 1490296071, "last_edit_date": 1495539981, "creation_date": 1490217061, "answer_id": 42962724, "question_id": 42962603, "link": "https://stackoverflow.com/questions/42962603/href-with-onclick-in-reactjs/42962724#42962724", "title": "href with onClick in ReactJS", "body": "<p>There is a slight performance issue with ---the second--- both snippets. Every time you render that <code>&lt;a&gt;</code> tag the function in the <code>onClick</code> will be reallocated.</p>\n\n<p>Here is a detailed post outlining all the ways to bind <code>this</code> in react. (<a href=\"https://medium.com/@housecor/react-binding-patterns-5-approaches-for-handling-this-92c651b5af56#.53op90a6w\" rel=\"nofollow noreferrer\">https://medium.com/@housecor/react-binding-patterns-5-approaches-for-handling-this-92c651b5af56#.53op90a6w</a>)</p>\n\n<hr>\n\n<p>Edited. I misinterpreted the example code, it has the same issue of allocating the function on each render as the inline arrow function snippet. Refer <a href=\"https://stackoverflow.com/users/5103346/vincent-damour\">Vincent D'amour</a>'s accepted answer.</p>\n"}, {"tags": [], "owner": {"reputation": 2971, "user_id": 5103346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfXxE.jpg?s=128&g=1", "display_name": "Vincent D&#39;amour", "link": "https://stackoverflow.com/users/5103346/vincent-damour"}, "is_accepted": true, "score": 25, "last_activity_date": 1575568532, "last_edit_date": 1575568532, "creation_date": 1490227226, "answer_id": 42964862, "question_id": 42962603, "link": "https://stackoverflow.com/questions/42962603/href-with-onclick-in-reactjs/42964862#42964862", "title": "href with onClick in ReactJS", "body": "<p>Both options produce almost the same result. Since ActionLink is a stateless component, <code>handleClick</code> will be re-created and <code>onClick</code> reallocated. If you want to get the best performance, you can use a class, something like this:  </p>\n\n<pre><code>class ActionLink extends React.Component () {\n  handleClick = (e) =&gt; {\n    e.preventDefault();\n    console.log('The link was clicked.');\n  };\n\n  render() {\n    return (\n      &lt;a href=\"#\" onClick={this.handleClick}&gt;\n        Click me\n      &lt;/a&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>In this example. the <code>handleClick</code> is bound only once, and only the render method will be executed. You can also bind the <code>handleClick</code> in the constructor if you prefer. But the differences are so small that I would suggest you use the one you prefer and you find it clearer.</p>\n"}, {"comments": [{"owner": {"reputation": 426, "user_id": 9328334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ee164473a78dc22bcb651892b8b99aa?s=128&d=identicon&r=PG", "display_name": "vivalldi", "link": "https://stackoverflow.com/users/9328334/vivalldi"}, "edited": false, "score": 2, "creation_date": 1565035979, "post_id": 48339557, "comment_id": 101217276, "body": "It looks like you left off the <code>()</code> to call <code>handleClick</code>."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9061132"}, "is_accepted": false, "score": 3, "last_activity_date": 1516359523, "creation_date": 1516359523, "answer_id": 48339557, "question_id": 42962603, "link": "https://stackoverflow.com/questions/42962603/href-with-onclick-in-reactjs/48339557#48339557", "title": "href with onClick in ReactJS", "body": "<p>the best way to fix this repeated function call on page load is to do </p>\n\n<pre><code>&lt;a href=\"#\" onClick={() =&gt; {this.handleClick}}&gt;click me&lt;/a&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 181, "user_id": 11383115, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1PebGyQiYtU/AAAAAAAAAAI/AAAAAAAAAJY/y1GLqUqlybM/photo.jpg?sz=128", "display_name": "Dhanushka Udayanga", "link": "https://stackoverflow.com/users/11383115/dhanushka-udayanga"}, "is_accepted": false, "score": 0, "last_activity_date": 1580476899, "last_edit_date": 1580476899, "creation_date": 1565242460, "answer_id": 57405742, "question_id": 42962603, "link": "https://stackoverflow.com/questions/42962603/href-with-onclick-in-reactjs/57405742#57405742", "title": "href with onClick in ReactJS", "body": "<p>I think you should bind with current object. let it try. refer the following example:</p>\n\n<pre><code>&lt;a href=\"#\" onClick={this.handleclick.bind(this)}&gt;click me&lt;/a&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1297, "user_id": 11611288, "user_type": "registered", "profile_image": "https://graph.facebook.com/432283524263015/picture?type=large", "display_name": "jerryurenaa", "link": "https://stackoverflow.com/users/11611288/jerryurenaa"}, "is_accepted": false, "score": 0, "last_activity_date": 1595866540, "last_edit_date": 1595866540, "creation_date": 1595866171, "answer_id": 63119183, "question_id": 42962603, "link": "https://stackoverflow.com/questions/42962603/href-with-onclick-in-reactjs/63119183#63119183", "title": "href with onClick in ReactJS", "body": "<p>using this code will produce a warning</p>\n<pre><code>&lt;a href=&quot;#&quot; onClick={() =&gt; action()}&gt;Link&lt;/a&gt;\n</code></pre>\n<p>there is a workaround this by following react cli advice and it is that if you cannot provide a valid link address with HTTP: etc to change your  tag to a button. It is possible to make a button look like a link with pure CSS. here is the example.</p>\n<p>step one create the button styles</p>\n<pre><code>const buttonToLink = {\n        fontSize: '1em',\n        textAlign: 'left',\n        color: 'blue',\n        background: 'none',\n        margin: 0,\n        padding: 0,\n        border: 'none',\n        cursor: 'pointer'\n     \n    }\n</code></pre>\n<p>step 2 add the styles to the button</p>\n<pre><code>&lt;button style={buttonToLink} onClick={() =&gt; action()}&gt; This link has no warning&lt;/button&gt;\n</code></pre>\n<p>Please note that &quot;action()&quot; is the function we want the button to follow.</p>\n"}, {"tags": [], "owner": {"reputation": 352, "user_id": 1772359, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/QXJCA.jpg?s=128&g=1", "display_name": "Anderson Bressane", "link": "https://stackoverflow.com/users/1772359/anderson-bressane"}, "is_accepted": false, "score": 1, "last_activity_date": 1596733107, "creation_date": 1596733107, "answer_id": 63288424, "question_id": 42962603, "link": "https://stackoverflow.com/questions/42962603/href-with-onclick-in-reactjs/63288424#63288424", "title": "href with onClick in ReactJS", "body": "<p>In my case, if i had <code>href=&quot;#&quot;</code> i was being redirected anyway, so i left my link/button like this:</p>\n<pre><code>&lt;a href=&quot;&quot; role=&quot;button&quot; onClick={this.myAction}&gt;Click here&lt;/a&gt;\n</code></pre>\n"}], "owner": {"reputation": 1307, "user_id": 867125, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/3d1d54eb01212ee0d212dc0b9b4de0a2?s=128&d=identicon&r=PG&f=1", "display_name": "TechTurtle", "link": "https://stackoverflow.com/users/867125/techturtle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87799, "favorite_count": 4, "accepted_answer_id": 42964862, "answer_count": 6, "score": 28, "last_activity_date": 1596733107, "creation_date": 1490216543, "last_edit_date": 1565031287, "question_id": 42962603, "link": "https://stackoverflow.com/questions/42962603/href-with-onclick-in-reactjs", "title": "href with onClick in ReactJS", "body": "<p>As per Reactjs.org to handle event and prevent default use below code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function ActionLink() {\n  function handleClick(e) {\n    e.preventDefault();\n    console.log('The link was clicked.');\n  }\n  return (\n    &lt;a href=\"#\" onClick={handleClick}&gt;\n      Click me\n    &lt;/a&gt;\n  );\n}\n</code></pre>\n\n<p>However, this also requires to add binding in constructor like:</p>\n\n<pre><code>this.handleClick = this.handleClick.bind(this);\n</code></pre>\n\n<p>I was able to get desired behaviour by below code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;span&gt;\n  &lt;a href=\"#\" onClick={()=&gt;doSomething(arg1,agr2)}&gt;Click here&lt;/a&gt;\n&lt;/span&gt;\n</code></pre>\n\n<p><em>Question:</em> Which one is better option? It seems first one requires to use stateful component and second option can do the things irrespective of component being stateful or stateless.</p>\n"}, {"tags": ["javascript", "html", "arrays", "forms"], "comments": [{"owner": {"reputation": 296, "user_id": 1618415, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/nCqLF.jpg?s=128&g=1", "display_name": "Kobbe", "link": "https://stackoverflow.com/users/1618415/kobbe"}, "edited": false, "score": 0, "creation_date": 1490216713, "post_id": 42962592, "comment_id": 73019411, "body": "Alamgir. Put yourself in the place of others and ask yourself if anyone (who cannot look inside your head) would understand your question."}, {"owner": {"reputation": 11, "user_id": 4723181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WQ7h2.jpg?s=128&g=1", "display_name": "Alamgir Hossain", "link": "https://stackoverflow.com/users/4723181/alamgir-hossain"}, "reply_to_user": {"reputation": 296, "user_id": 1618415, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/nCqLF.jpg?s=128&g=1", "display_name": "Kobbe", "link": "https://stackoverflow.com/users/1618415/kobbe"}, "edited": false, "score": 0, "creation_date": 1490217099, "post_id": 42962592, "comment_id": 73019613, "body": "Hey Kobbe, thanks for replying. I just want to pass an array through an input field like &lt;input type=&quot;text&quot; name=&quot;field_name[]&quot;&gt;"}, {"owner": {"reputation": 11, "user_id": 4723181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WQ7h2.jpg?s=128&g=1", "display_name": "Alamgir Hossain", "link": "https://stackoverflow.com/users/4723181/alamgir-hossain"}, "reply_to_user": {"reputation": 296, "user_id": 1618415, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/nCqLF.jpg?s=128&g=1", "display_name": "Kobbe", "link": "https://stackoverflow.com/users/1618415/kobbe"}, "edited": false, "score": 0, "creation_date": 1490217163, "post_id": 42962592, "comment_id": 73019639, "body": "And want to add value of this array(field_name[]) dynamically one by one by javascript."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1490217289, "post_id": 42962592, "comment_id": 73019704, "body": "Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Key phrases: &quot;Search, and research&quot; and &quot;Explain ... any difficulties that have prevented you from solving it yourself&quot;."}, {"owner": {"reputation": 11, "user_id": 4723181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WQ7h2.jpg?s=128&g=1", "display_name": "Alamgir Hossain", "link": "https://stackoverflow.com/users/4723181/alamgir-hossain"}, "edited": false, "score": 0, "creation_date": 1490218426, "post_id": 42962592, "comment_id": 73020247, "body": "I am sorry . I am new in stackoverflow. But I think you understood my question."}, {"owner": {"reputation": 11, "user_id": 4723181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WQ7h2.jpg?s=128&g=1", "display_name": "Alamgir Hossain", "link": "https://stackoverflow.com/users/4723181/alamgir-hossain"}, "edited": false, "score": 0, "creation_date": 1490219208, "post_id": 42962592, "comment_id": 73020592, "body": "Hey, why the downvote? Is this my fault to join as a new comer in stackoverflow?"}], "answers": [{"tags": [], "owner": {"reputation": 296, "user_id": 1618415, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/nCqLF.jpg?s=128&g=1", "display_name": "Kobbe", "link": "https://stackoverflow.com/users/1618415/kobbe"}, "is_accepted": false, "score": 0, "last_activity_date": 1490243822, "creation_date": 1490243822, "answer_id": 42967336, "question_id": 42962592, "link": "https://stackoverflow.com/questions/42962592/define-a-hidden-text-field-to-pass-an-array-and-set-the-array-value-one-by-one-b/42967336#42967336", "title": "Define a hidden text field to pass an array and set the array value one by one by javascript", "body": "<p>Alamgir Hossain, why on earth would you do that? This is one of the wackiest questions I have seen. I can see no reason why what you want to do would make sense.</p>\n\n<p>I don't know how you want to trigger filling the value of that text input. I do it with an event listener. This loops through the array, makes a string, and puts it in the value of the text input.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;script src=\"http://code.jquery.com/jquery-latest.min.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n        function myUselessFunction () {\n            var x = [\"banana\",\"apple\",\"lemon\",\"mango\"];\n            var str = \"\";\n            for (i=0; i&lt;x.length; i++) {\n                str += x[i] + \" \"; // space at end is to separate words\n                }\n            $(\"#array-field\").val(str);\n            }\n        window.addEventListener(\"load\", myUselessFunction);\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form&gt;\n        &lt;input type=\"text\" name=\"myArray\" id=\"array-field\" value=\"\"&gt;&lt;br&gt;\n        &lt;input type=\"submit\" value=\"Submit\"&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p></p>\n"}], "owner": {"reputation": 11, "user_id": 4723181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WQ7h2.jpg?s=128&g=1", "display_name": "Alamgir Hossain", "link": "https://stackoverflow.com/users/4723181/alamgir-hossain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1490243822, "creation_date": 1490216502, "last_edit_date": 1490220481, "question_id": 42962592, "link": "https://stackoverflow.com/questions/42962592/define-a-hidden-text-field-to-pass-an-array-and-set-the-array-value-one-by-one-b", "title": "Define a hidden text field to pass an array and set the array value one by one by javascript", "body": "<p>I want to pass an array by a html text field like</p>\n\n<pre><code>&lt;input type=\"text\" name=\"array[]\" id=\"array-field\"&gt;\n</code></pre>\n\n<p>and want to set this array value one by one by javascript before submit the form. </p>\n\n<p>I have tried this by following code but it is sending only last value or replacing the previous value by next value.</p>\n\n<pre><code>var a = [\"a\", \"b\", \"c\"];\na.forEach(function(entry) {\n    $('#array-field').value(entry);\n});\n</code></pre>\n\n<p>How can I do that. Please help..</p>\n"}, {"tags": ["javascript", "redirect", "firefox-addon", "firefox-addon-webextensions"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1490216578, "post_id": 42962582, "comment_id": 73019335, "body": "Is this for a Firefox add on or something? If so, you may want to consider adding the appropriate tag. This is not something that would work in any normal web page..."}, {"owner": {"reputation": 26, "user_id": 6540248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c52ad87befb5f70e3c04293845c21a2?s=128&d=identicon&r=PG&f=1", "display_name": "A Kh", "link": "https://stackoverflow.com/users/6540248/a-kh"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1490216734, "post_id": 42962582, "comment_id": 73019423, "body": "Yes it is, sorry i&#39;ll add that now"}], "owner": {"reputation": 26, "user_id": 6540248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c52ad87befb5f70e3c04293845c21a2?s=128&d=identicon&r=PG&f=1", "display_name": "A Kh", "link": "https://stackoverflow.com/users/6540248/a-kh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 410, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1490230012, "creation_date": 1490216472, "last_edit_date": 1490217119, "question_id": 42962582, "link": "https://stackoverflow.com/questions/42962582/javascript-onbeforerequest-redirect-url-does-not-work", "title": "Javascript onbeforerequest redirect url does not work", "body": "<p>I was trying to create a Mozilla Firefox URL redirection addon however when I created it myself using the code on the mozilla firefox page about OnBeforeRequest url redirection, the addon didn't work. So I decided to copy and paste the code from the Mozilla website guide to see if I wrote the code wrong, however the same thing happens. It cancels the requests correctly however whenever I try redirecting urls using the redirectUrl option, it doesn't work</p>\n\n<p>My code is as follows:</p>\n\n<p><strong>manifest.json</strong></p>\n\n<pre><code>{\n\n  \"description\": \"Demonstrating webRequests\",\n  \"manifest_version\": 2,\n  \"name\": \"webRequest-demo\",\n  \"version\": \"1.0\",\n  \"applications\": {\n    \"gecko\": {\n      \"id\": \"@addontest\"\n    }\n  },\n  \"permissions\": [\n    \"webRequest\", \"webRequestBlocking\"\n  ],\n\n  \"background\": {\n    \"scripts\": [\"main.js\"]\n  }\n\n}\n</code></pre>\n\n<p><strong>main.js</strong></p>\n\n<pre><code>var pattern = \"https://mdn.mozillademos.org/*\";\n\nfunction redirect(requestDetails) {\n  console.log(\"Redirecting: \" + requestDetails.url);\n  return {\n    redirectUrl: \"https://38.media.tumblr.com/tumblr_ldbj01lZiP1qe0eclo1_500.gif\"\n    // cancel:true\n  };\n}\n\nbrowser.webRequest.onBeforeRequest.addListener(\n  redirect,\n  {urls:[pattern], types:[\"image\"]},\n  [\"blocking\"]\n);\n</code></pre>\n\n<p>In the <strong>main.js</strong>, if I were to comment out the</p>\n\n<pre><code>redirectUrl: \"https://38.media.tumblr.com/tumblr_ldbj01lZiP1qe0eclo1_500.gif\"\n</code></pre>\n\n<p>and uncomment the following line:</p>\n\n<pre><code>cancel:true\n</code></pre>\n\n<p>the code works correctly and the requests are canceled, however its just whenever I try to redirect it, it stops working.</p>\n\n<p>Can anyone help please? It's been bugging me for a few days now and I just can't seem to find anything to fix it. There's no errors or anything in the firefox console (CTRL + SHIFT + J) or in the firebug console</p>\n"}, {"tags": ["javascript", "angularjs", "recaptcha"], "answers": [{"comments": [{"owner": {"reputation": 3273, "user_id": 1747217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xResU.jpg?s=128&g=1", "display_name": "mikeswright49", "link": "https://stackoverflow.com/users/1747217/mikeswright49"}, "edited": false, "score": 2, "creation_date": 1490288517, "post_id": 42982405, "comment_id": 73057020, "body": "For testing you should probably bind to $window rather than window itself."}, {"owner": {"reputation": 9637, "user_id": 1254684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/opuG3.jpg?s=128&g=1", "display_name": "Chtiwi Malek", "link": "https://stackoverflow.com/users/1254684/chtiwi-malek"}, "reply_to_user": {"reputation": 3273, "user_id": 1747217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xResU.jpg?s=128&g=1", "display_name": "mikeswright49", "link": "https://stackoverflow.com/users/1747217/mikeswright49"}, "edited": false, "score": 0, "creation_date": 1490289485, "post_id": 42982405, "comment_id": 73057658, "body": "you&#39;re absolutely right, using the global window object directly causes testability problems, thanks for pointing that out."}, {"owner": {"reputation": 2449, "user_id": 2741060, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cDL2l.jpg?s=128&g=1", "display_name": "Jaeeun Lee", "link": "https://stackoverflow.com/users/2741060/jaeeun-lee"}, "edited": false, "score": 2, "creation_date": 1490472192, "post_id": 42982405, "comment_id": 73130170, "body": "It didn&#39;t work at first, but it was because I didn&#39;t inject $window as a dependency. Thanks!"}, {"owner": {"reputation": 308, "user_id": 1150681, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/68375ae2ce7cfd3ca677f2028a08cb38?s=128&d=identicon&r=PG", "display_name": "Starfs", "link": "https://stackoverflow.com/users/1150681/starfs"}, "edited": false, "score": 0, "creation_date": 1504201053, "post_id": 42982405, "comment_id": 78934437, "body": "this looks promising. I am a bit confused. In this example ng-click is not being called. Should it be like this? &lt;button class=&quot;g-recaptcha&quot;   data-sitekey=&quot;your_google_key_here&quot;   data-callback=&quot;login&quot;   data-size&gt; Login &lt;/button&gt; . or &lt;button class=&quot;g-recaptcha&quot; ng-click=&quot;login&quot;   data-sitekey=&quot;your_google_key_here&quot;   data-callback=&quot;login&quot;   data-size&gt; Login &lt;/button&gt;"}], "tags": [], "owner": {"reputation": 9637, "user_id": 1254684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/opuG3.jpg?s=128&g=1", "display_name": "Chtiwi Malek", "link": "https://stackoverflow.com/users/1254684/chtiwi-malek"}, "is_accepted": true, "score": 12, "last_activity_date": 1501157725, "last_edit_date": 1501157725, "creation_date": 1490288238, "answer_id": 42982405, "question_id": 42962577, "link": "https://stackoverflow.com/questions/42962577/invisible-google-recaptcha-with-angularjs/42982405#42982405", "title": "Invisible Google reCaptcha with AngularJS", "body": "<p>There is an angular wrapper for this, but if like me, you want to use the original JavaScript library this is how to do it :</p>\n\n<p>The data-callback expect a java-script global function, so using a function inside a $scope will not work.. the solution i came up with is to create a global function that inherit the angular function.</p>\n\n<p>so you should do :</p>\n\n<pre><code>$scope.login = function (token) {\n  // your login logic\n}\n$window.login = $scope.login;\n</code></pre>\n\n<p>and dont forget to inject $window as a dependency in your scope.</p>\n\n<p>The google invisible reCaptcha will send you a token so you can verify the user serverside.</p>\n\n<p>and in your html :</p>\n\n<pre><code>&lt;button class=\"g-recaptcha\"\n  data-sitekey=\"your_google_key_here\"\n  data-callback=\"login\"\n  data-size&gt;\nLogin\n&lt;/button&gt;\n</code></pre>\n\n<p>hope this helps.</p>\n"}], "owner": {"reputation": 2449, "user_id": 2741060, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cDL2l.jpg?s=128&g=1", "display_name": "Jaeeun Lee", "link": "https://stackoverflow.com/users/2741060/jaeeun-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4932, "favorite_count": 0, "accepted_answer_id": 42982405, "answer_count": 1, "score": 3, "last_activity_date": 1528995776, "creation_date": 1490216467, "question_id": 42962577, "link": "https://stackoverflow.com/questions/42962577/invisible-google-recaptcha-with-angularjs", "title": "Invisible Google reCaptcha with AngularJS", "body": "<p>I'm trying to implement the <strong>invisible</strong> reCAPTCHA in my AngularJS web app. According to their doc, I'm supposed to add an attribute called \"data-callback\" to the submit button for the login form. However, I am attaching the function for the http request to the button using ng-click. Then what should I put in \"data-callback\" attribute's value? Also, how can I know if the recaptcha result is successful or not, and get g-recaptcha-response to send to the server with my http request?</p>\n\n<p><a href=\"https://developers.google.com/recaptcha/docs/invisible\" rel=\"nofollow noreferrer\">https://developers.google.com/recaptcha/docs/invisible</a></p>\n"}, {"tags": ["javascript", "animation", "webpage"], "comments": [{"owner": {"reputation": 585, "user_id": 2423270, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/870a14c6a181bf2c997305128b731c74?s=128&d=identicon&r=PG", "display_name": "dunnmifflsys", "link": "https://stackoverflow.com/users/2423270/dunnmifflsys"}, "edited": false, "score": 0, "creation_date": 1490217372, "post_id": 42962550, "comment_id": 73019748, "body": "Are you open to using CSS?"}, {"owner": {"reputation": 532, "user_id": 4660377, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tFJU9.jpg?s=128&g=1", "display_name": "Truextacy", "link": "https://stackoverflow.com/users/4660377/truextacy"}, "edited": false, "score": 0, "creation_date": 1490217468, "post_id": 42962550, "comment_id": 73019788, "body": "I would try looking at this answer, may offer some help <a href=\"http://stackoverflow.com/questions/5353254/javascript-onkeydown-event-fire-only-once\" title=\"javascript onkeydown event fire only once\">stackoverflow.com/questions/5353254/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 7752598, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8194680c4f1f9c5aea66b86ea3d495b1?s=128&d=identicon&r=PG&f=1", "display_name": "KrazyKoder22", "link": "https://stackoverflow.com/users/7752598/krazykoder22"}, "edited": false, "score": 0, "creation_date": 1490279679, "post_id": 42962867, "comment_id": 73050028, "body": "Oh I think I get it. So you&#39;re saying that they can&#39;t work at the same time, and that one of them will always be working instead of the other? And the solution you gave made lots of sense. Thanks"}], "tags": [], "owner": {"reputation": 199, "user_id": 3718557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tHlIa.png?s=128&g=1", "display_name": "AGrzes", "link": "https://stackoverflow.com/users/3718557/agrzes"}, "is_accepted": true, "score": 0, "last_activity_date": 1490217663, "creation_date": 1490217663, "answer_id": 42962867, "question_id": 42962550, "link": "https://stackoverflow.com/questions/42962550/how-do-i-keep-function-active-after-it-has-been-read-javascript/42962867#42962867", "title": "How do I keep function active after it has been read? (Javascript)", "body": "<p>The issue is not with JavaScript but with styles You are using.</p>\n\n<p>You are setting both  <code>ball.style.top</code> and <code>ball.style.bottom</code> and the result is inconsistent location so one coordinate triumphs over the other.</p>\n\n<p>If you replace </p>\n\n<pre><code>ball.style.bottom=posup*2+\"px\"\n</code></pre>\n\n<p>with</p>\n\n<pre><code>ball.style.top=480 - posup*2+\"px\"\n</code></pre>\n\n<p>You should get the result you are expecting.</p>\n"}], "owner": {"reputation": 47, "user_id": 7752598, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8194680c4f1f9c5aea66b86ea3d495b1?s=128&d=identicon&r=PG&f=1", "display_name": "KrazyKoder22", "link": "https://stackoverflow.com/users/7752598/krazykoder22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 42962867, "answer_count": 1, "score": 0, "last_activity_date": 1490217663, "creation_date": 1490216326, "question_id": 42962550, "link": "https://stackoverflow.com/questions/42962550/how-do-i-keep-function-active-after-it-has-been-read-javascript", "title": "How do I keep function active after it has been read? (Javascript)", "body": "<p>I am making a simple webpage animation with javascript. Here's what I have so far:</p>\n\n<pre><code>document.onkeydown = checkKey;\n            function checkKey(e) {\n                e = e || window.event;\n                if (e.keyCode == \"38\") {\n                    var ball=document.getElementById(\"ball\");\n                    var posup=0;\n                    var speedone=setInterval(up, 0);\n                    function up(){\n                        if(posup==240){\n                            clearInterval(speedone);\n                        }else{\n                            posup++;\n                            ball.style.bottom=posup*2+\"px\";\n                        }\n                    }\n                }else if(e.keyCode==\"40\"){\n                    var ball=document.getElementById(\"ball\");\n                    var posdown=0;\n                    var speedtwo=setInterval(down, 0);\n                    function down(){\n                        if(posdown==240){\n                            clearInterval(speedtwo);\n                        }else{\n                            posdown++;\n                            ball.style.top=posdown*2+\"px\";\n                        }\n                    }\n                }\n            }\n</code></pre>\n\n<p>This code is supposed to make a little white ball move up when the up arrow key is pressed and move down when the down arrow key is pressed. It is able to go up and back down, but after it goes down it can't go back up, it can only replay the downwards animation. I have tried to enclose the entire thing in one big parent function, but it still doesn't work. I think it might be because how javascript is read from top to bottom, so the \"up\" movement code isn't read a second time. I'd like some help and tips on how to fix this problem and get my program up and running, thanks.</p>\n"}, {"tags": ["javascript", "ajax"], "comments": [{"owner": {"reputation": 6240, "user_id": 3223157, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/s6g80.jpg?s=128&g=1", "display_name": "Xatenev", "link": "https://stackoverflow.com/users/3223157/xatenev"}, "edited": false, "score": 0, "creation_date": 1490216584, "post_id": 42962540, "comment_id": 73019339, "body": "Maybe your server connection is unstable or similar. Check your Network tab in your developer tools (F12 mostly) for the ajax request and see if it is sent at all. Something like &quot;it randomly works sometimes and sometimes not&quot; doesn&#39;t exist in programming."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1490217784, "post_id": 42962540, "comment_id": 73019941, "body": "There&#39;s no way for us to know why it&#39;s not working, so there&#39;s no way of knowing the &quot;best&quot; solution for it is. You could create a separate timeout functionality such that if <code>onreadystatechange</code> doesn&#39;t fire in, say, 30 seconds, it tries again. You could even use something like &quot;exponential backoff&quot; (search for it) if you wanted to get fancy."}], "answers": [{"comments": [{"owner": {"reputation": 1571, "user_id": 1209203, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bcf02b342081511b0d905703e568fcac?s=128&d=identicon&r=PG", "display_name": "Guesser", "link": "https://stackoverflow.com/users/1209203/guesser"}, "edited": false, "score": 0, "creation_date": 1490219939, "post_id": 42963057, "comment_id": 73020928, "body": "That is giving a state of 4 but the status is 0, there are no other states logged before it goes to 4, a good request lists states 2 &amp; 3 as well."}, {"owner": {"reputation": 1693, "user_id": 464431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e84623f1706592fad1daf9d8f4cfdd0?s=128&d=identicon&r=PG", "display_name": "Tom Robinson", "link": "https://stackoverflow.com/users/464431/tom-robinson"}, "reply_to_user": {"reputation": 1571, "user_id": 1209203, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bcf02b342081511b0d905703e568fcac?s=128&d=identicon&r=PG", "display_name": "Guesser", "link": "https://stackoverflow.com/users/1209203/guesser"}, "edited": false, "score": 0, "creation_date": 1490230220, "post_id": 42963057, "comment_id": 73024609, "body": "Your XHR technique fails randomly, just as your hidden iframe technique also failed randomly. Coincidence? <i>I DON&#39;T THINK SO!</i>   Next easy thing to try: Does <code>send</code> fail instantly without any network traffic, or does it fail after attempting a connection? Try using Fiddler to see what&#39;s happening on the network. An instant failure probably generates no traffic; a later failure will show a ton of useful stuff in the Request and Response; and no failures <i>at all</i> means fiddler has &quot;fixed&quot; the problem by massaging the network traffic as a proxy."}, {"owner": {"reputation": 1571, "user_id": 1209203, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bcf02b342081511b0d905703e568fcac?s=128&d=identicon&r=PG", "display_name": "Guesser", "link": "https://stackoverflow.com/users/1209203/guesser"}, "edited": false, "score": 0, "creation_date": 1490293857, "post_id": 42963057, "comment_id": 73060346, "body": "Well I&#39;m guessing it is a network issue it&#39;s just odd that it happens so often, do AJAX requests not automatically retry? I have put in a timer to check the status if the upload and then resend the form if it has failed, That seems to have solved the problem."}], "tags": [], "owner": {"reputation": 1693, "user_id": 464431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e84623f1706592fad1daf9d8f4cfdd0?s=128&d=identicon&r=PG", "display_name": "Tom Robinson", "link": "https://stackoverflow.com/users/464431/tom-robinson"}, "is_accepted": true, "score": 1, "last_activity_date": 1490218426, "creation_date": 1490218426, "answer_id": 42963057, "question_id": 42962540, "link": "https://stackoverflow.com/questions/42962540/ajax-form-not-sending-and-has-no-error-codes/42963057#42963057", "title": "AJAX form not sending and has no error codes", "body": "<p>You need to put <code>onreadystatechange</code> <em>before</em> <code>send</code>. Otherwise <code>readystate</code> might change before your handler is defined, so it will not detect the event. A successful <code>send</code> is likely to take at least a tiny bit of time to complete asynchronously, but a <code>send</code> which fails locally might fail synchronously, so you don't see the error.</p>\n"}], "owner": {"reputation": 1571, "user_id": 1209203, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bcf02b342081511b0d905703e568fcac?s=128&d=identicon&r=PG", "display_name": "Guesser", "link": "https://stackoverflow.com/users/1209203/guesser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 42963057, "answer_count": 1, "score": 0, "last_activity_date": 1490218426, "creation_date": 1490216289, "question_id": 42962540, "link": "https://stackoverflow.com/questions/42962540/ajax-form-not-sending-and-has-no-error-codes", "title": "AJAX form not sending and has no error codes", "body": "<p>This is a problem that is really quite frustrating, I was using the iFrame method of sending a form to a hidden iFrame so data can be sent without leaving a page, that all worked but sometimes the form just wouldn't send. This happens from all network locations and is seemingly random.</p>\n\n<p>So I have just changed the code to use the AJAX method of sending a form and exactly the same thing is happening, I can send form after form and about 1 in 20 just don't work.</p>\n\n<pre><code>var formElement = document.querySelector(\"#myform\");\nvar request = new XMLHttpRequest();\nrequest.open(\"POST\", \"php/upload.html\");\n\nrequest.send(new FormData(formElement));\n\nrequest.onreadystatechange = function() {\nconsole.log(request.readyState);\nconsole.log(request.status);\n\n};\n</code></pre>\n\n<p>So the code is very simple, for a successful upload all the statuses are reported but when it goes wrong absolutely nothing is logged. I have also put an e-mail notification on the form destination page and this doesn't get sent when the problem occurs. So I know when it goes wrong the page is not called at all. </p>\n\n<p>What would be the best solution here, with no feedback from the AJAX request it is pretty difficult to work with, is the only solution to use a timer a keep checking a connection has been made?</p>\n"}, {"tags": ["javascript", "javascript-objects"], "comments": [{"owner": {"reputation": 57573, "user_id": 6144, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/282eed17fcb9682bb2816697482b64ec?s=128&d=identicon&r=PG", "display_name": "scunliffe", "link": "https://stackoverflow.com/users/6144/scunliffe"}, "edited": false, "score": 1, "creation_date": 1490216445, "post_id": 42962539, "comment_id": 73019258, "body": "missing line: <code>cats.push(catObject);</code>"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1490216484, "post_id": 42962539, "comment_id": 73019289, "body": "You&#39;re naming the properties differently in <code>catObject</code> than the existing objects in <code>cats</code>. <code>url</code> instead of <code>imgUrl</code>; <code>count</code> instead of <code>clickCount</code>. Just change those property names."}, {"owner": {"reputation": 31, "user_id": 4908316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1761e4cef06b1906197caaa72dd49c1?s=128&d=identicon&r=PG&f=1", "display_name": "sumi", "link": "https://stackoverflow.com/users/4908316/sumi"}, "edited": false, "score": 0, "creation_date": 1490218091, "post_id": 42962539, "comment_id": 73020079, "body": "thanks you Mike. That worked like magic."}, {"owner": {"reputation": 31, "user_id": 4908316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1761e4cef06b1906197caaa72dd49c1?s=128&d=identicon&r=PG&f=1", "display_name": "sumi", "link": "https://stackoverflow.com/users/4908316/sumi"}, "edited": false, "score": 0, "creation_date": 1490218388, "post_id": 42962539, "comment_id": 73020219, "body": "Mike, how can I mark your reply as answer?"}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 5773696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79b643ff0556814329cf43a0f4e44232?s=128&d=identicon&r=PG", "display_name": "M. Nunisa", "link": "https://stackoverflow.com/users/5773696/m-nunisa"}, "is_accepted": false, "score": 0, "last_activity_date": 1490606487, "creation_date": 1490606487, "answer_id": 43042510, "question_id": 42962539, "link": "https://stackoverflow.com/questions/42962539/javascript-push-method-for-adding-object-to-array-of-objects/43042510#43042510", "title": "javascript push() method for adding object to array of objects", "body": "<p><strong>Correction</strong></p>\n\n<p><code>model</code> is not an array of objects rather <code>model</code> is an object that contains a property (i.e. <code>cats</code>) which is an array of objects.</p>\n\n<p><strong>You're correct</strong></p>\n\n<p>From your description, it is clear that you have successfully pushed <code>catObject</code> into <code>cats</code> using <code>model.cats.push(catObject);</code> </p>\n\n<p><strong>What went wrong</strong></p>\n\n<p>You might have used <code>loop</code> to access the elements inside <code>cats</code> array and got <code>undefined</code> for <code>model.cats.clickCount</code> and <code>model.cats.imgUrl</code> of only the last object you've pushed because you named properties of <code>catObject</code> as <code>url</code> and <code>count</code> (i.e. instead of <code>imgUrl</code> and <code>clickCount</code>). So, just change the property names to <code>imgUrl</code> and <code>clickCount</code> to fix the issue.</p>\n\n<p><a href=\"https://jsbin.com/sufewal/edit?js,console\" rel=\"nofollow noreferrer\">Corrected code here</a></p>\n"}], "owner": {"reputation": 31, "user_id": 4908316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1761e4cef06b1906197caaa72dd49c1?s=128&d=identicon&r=PG&f=1", "display_name": "sumi", "link": "https://stackoverflow.com/users/4908316/sumi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 177, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490606487, "creation_date": 1490216283, "question_id": 42962539, "link": "https://stackoverflow.com/questions/42962539/javascript-push-method-for-adding-object-to-array-of-objects", "title": "javascript push() method for adding object to array of objects", "body": "<pre><code>var model = {\n  cats: [\n    {\n        clickCount: 0,\n        name: \"Panther\",\n        imgUrl: \"images/cat1.png\"           \n    },\n    {\n        clickCount: 0,\n        name: \"Tiger\",\n        imgUrl: \"images/cat2.png\"           \n    },\n    {\n        clickCount: 0,\n        name: \"Rocky\",\n        imgUrl: \"images/cat3.png\"           \n    },\n    {\n        clickCount: 0,\n        name: \"Marshal\",\n        imgUrl: \"images/cat4.png\"           \n    },\n    {\n        clickCount: 0,\n        name: \"Simpson\",\n        imgUrl: \"images/cat5.png\"           \n    },\n    {\n        clickCount: 0,\n        name: \"Kajol\",\n        imgUrl: \"images/cat6.png\"           \n    }\n  ]\n};\ncatObject = {\n                name: document.getElementById('text-name').value,\n                url: document.getElementById('text-url').value,\n                count: document.getElementById('text-count').value\n            };\n</code></pre>\n\n<p>model is an array of objects. I am trying to add another object using model.cats.push(catObject); \nwhere text-name, text-url, text-count are ids of textboxes in a form.\nI am not getting desired results. I am seeing that only catObject.name is getting pushed onto model.cats and catObject.url and catObject.count is not getting added and hence 'undefined' are values of the model.cats.imgUrl and model.cats.clickCount.\nI can add full code if required. I tried so may things.. Could someone check if I am missing anything here? Thanks in advance.</p>\n"}, {"tags": ["javascript", "html", "css", "canvas"], "comments": [{"owner": {"reputation": 6521, "user_id": 7583953, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w0Jkd.jpg?s=128&g=1", "display_name": "Alec", "link": "https://stackoverflow.com/users/7583953/alec"}, "reply_to_user": {"reputation": 189597, "user_id": 616443, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/907798bf02efdaf6f9d07d3c0552868f?s=128&d=identicon&r=PG", "display_name": "j08691", "link": "https://stackoverflow.com/users/616443/j08691"}, "edited": false, "score": 0, "creation_date": 1490216857, "post_id": 42962482, "comment_id": 73019493, "body": "sorry about that. Im not using jQuery for any functions in this program yet, though"}, {"owner": {"reputation": 189597, "user_id": 616443, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/907798bf02efdaf6f9d07d3c0552868f?s=128&d=identicon&r=PG", "display_name": "j08691", "link": "https://stackoverflow.com/users/616443/j08691"}, "edited": false, "score": 0, "creation_date": 1490216936, "post_id": 42962482, "comment_id": 73019533, "body": "No need to be sorry, just fix that error and any others that pop up in the developer console. Press F12 and look at the console tab."}, {"owner": {"reputation": 6521, "user_id": 7583953, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w0Jkd.jpg?s=128&g=1", "display_name": "Alec", "link": "https://stackoverflow.com/users/7583953/alec"}, "reply_to_user": {"reputation": 189597, "user_id": 616443, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/907798bf02efdaf6f9d07d3c0552868f?s=128&d=identicon&r=PG", "display_name": "j08691", "link": "https://stackoverflow.com/users/616443/j08691"}, "edited": false, "score": 0, "creation_date": 1490217019, "post_id": 42962482, "comment_id": 73019568, "body": "I have no idea how to properly include jQuery in jsfiddle. It isn&#39;t a problem in my browser, the console only shows the error I outlined"}], "answers": [{"comments": [{"owner": {"reputation": 6521, "user_id": 7583953, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w0Jkd.jpg?s=128&g=1", "display_name": "Alec", "link": "https://stackoverflow.com/users/7583953/alec"}, "edited": false, "score": 0, "creation_date": 1490216365, "post_id": 42962530, "comment_id": 73019211, "body": "you&#39;re right, but it still doesn&#39;t work even when I fixed this"}, {"owner": {"reputation": 16607, "user_id": 829835, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/TteD0.jpg?s=128&g=1", "display_name": "rlemon", "link": "https://stackoverflow.com/users/829835/rlemon"}, "edited": false, "score": 0, "creation_date": 1490216616, "post_id": 42962530, "comment_id": 73019354, "body": "<code>window.onload = Setup();</code> should be <code>window.onload = Setup</code>"}], "tags": [], "owner": {"reputation": 5190, "user_id": 1980235, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LMPK7.jpg?s=128&g=1", "display_name": "JAM", "link": "https://stackoverflow.com/users/1980235/jam"}, "is_accepted": true, "score": 1, "last_activity_date": 1490216242, "creation_date": 1490216242, "answer_id": 42962530, "question_id": 42962482, "link": "https://stackoverflow.com/questions/42962482/canvas-not-drawing-in-js-html/42962530#42962530", "title": "Canvas not drawing in JS/HTML", "body": "<p>Double check your HTML. Your id is misplaced.</p>\n\n<pre><code>&lt;canvas&gt;id=\"playBoard\"&lt;/canvas&gt;\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>&lt;canvas id=\"playBoard\"&gt;&lt;/canvas&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6521, "user_id": 7583953, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w0Jkd.jpg?s=128&g=1", "display_name": "Alec", "link": "https://stackoverflow.com/users/7583953/alec"}, "edited": false, "score": 0, "creation_date": 1490216544, "post_id": 42962556, "comment_id": 73019315, "body": "I fixed this but the problem still persists"}], "tags": [], "owner": {"reputation": 1257, "user_id": 867891, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea790dc98b4a896b7401b6dfd65b99c9?s=128&d=identicon&r=PG", "display_name": "Victor P", "link": "https://stackoverflow.com/users/867891/victor-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1490216356, "creation_date": 1490216356, "answer_id": 42962556, "question_id": 42962482, "link": "https://stackoverflow.com/questions/42962482/canvas-not-drawing-in-js-html/42962556#42962556", "title": "Canvas not drawing in JS/HTML", "body": "<p>You have a typo on the canvas element. Change this:</p>\n\n<pre><code>&lt;canvas&gt;id=\"playBoard\"&lt;/canvas&gt;\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>&lt;canvas id=\"playBoard\"&gt;&lt;/canvas&gt;\n</code></pre>\n\n<p>In other words, put the id on the element itself</p>\n"}, {"comments": [{"owner": {"reputation": 6521, "user_id": 7583953, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w0Jkd.jpg?s=128&g=1", "display_name": "Alec", "link": "https://stackoverflow.com/users/7583953/alec"}, "edited": false, "score": 0, "creation_date": 1490216538, "post_id": 42962580, "comment_id": 73019313, "body": "I fixed this but the problem still persists"}], "tags": [], "owner": {"reputation": 51, "user_id": 7751692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cc080558e97ec107f99ad20d27325cd?s=128&d=identicon&r=PG&f=1", "display_name": "jdereynal", "link": "https://stackoverflow.com/users/7751692/jdereynal"}, "is_accepted": false, "score": 0, "last_activity_date": 1490216468, "creation_date": 1490216468, "answer_id": 42962580, "question_id": 42962482, "link": "https://stackoverflow.com/questions/42962482/canvas-not-drawing-in-js-html/42962580#42962580", "title": "Canvas not drawing in JS/HTML", "body": "<p>You're trying to select the element with the id playBoard, but you haven't assigned it to your canvas, probably just a typo.</p>\n\n<p><code>&lt;canvas&gt;id=\"playBoard\"&lt;/canvas&gt;</code> should be <code>&lt;canvas id=\"playBoard\"&gt;&lt;/canvas&gt;</code></p>\n"}], "owner": {"reputation": 6521, "user_id": 7583953, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w0Jkd.jpg?s=128&g=1", "display_name": "Alec", "link": "https://stackoverflow.com/users/7583953/alec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 0, "accepted_answer_id": 42962530, "answer_count": 3, "score": 0, "last_activity_date": 1490216966, "creation_date": 1490216083, "last_edit_date": 1490216966, "question_id": 42962482, "link": "https://stackoverflow.com/questions/42962482/canvas-not-drawing-in-js-html", "title": "Canvas not drawing in JS/HTML", "body": "<p>I get this error: \"cannot read property 'getContext' of null\"\nI looked up others with this issue, all of them had their JS running before their HTML div was created, but that is not the case for me.\nI have linked a JSFiddle with my code, but it doesn't work well because I have fixed elements.\nSomeone please help, I have no idea what is going on.\nJSFIDDLE: <a href=\"https://jsfiddle.net/alec935/Ln7yghbx/1/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/alec935/Ln7yghbx/1/</a></p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;meta charset=\"UTF-8\"&gt;\n&lt;head&gt;\n    &lt;title&gt;Snake&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"snake.css\"&gt;\n    &lt;script type=\"text/javascript\" src=\"jquery-3.2.0.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div id=\"game\"&gt;\n    &lt;div id=\"play\"&gt;\n    &lt;canvas id=\"playBoard\"&gt;&lt;/canvas&gt;\n    &lt;script src=\"snake.js\"&gt;&lt;/script&gt;\n    &lt;/div&gt;\n    &lt;div id=\"credits\"&gt;&lt;h1&gt;&lt;i&gt;Snake Game&lt;/i&gt;, designed by Alec xxxxx&lt;/h1&gt;&lt;/div&gt;\n    &lt;div id=\"info\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>@keyframes pulsate {\n  0% {color:white}\n  50% {color:black;}\n  100% {color:white}\n}\n\nbody {\n    background-image:url(images/snaxe.jpg);\n    background: fill;\n}\n\n#game{\n    width:1450px;\n    height:800px;\n    background-color:black;\n    margin: 0 auto;\n    position:relative;\n}\n\n#credits {\n    color: white;\n    font-size: 19px;\n    text-shadow: rgb(255, 255, 255) 0px -1px 4px, rgb(255, 255, 0) 0px -2px 10px, rgb(255, 128, 0) 0px -10px 20px, rgb(255, 0, 0) 0px -18px 40px;\n    animation: pulsate 4s infinite;\n}\n\n#play{\n    width:720px;\n    height:720px;\n    background-color:red;\n    z-index:1;\n}\n\n#playBoard {\n    width:720px;\n    height:720px;\n    z-index:0;\n}\n\n#info{\n    position:fixed;\n    top:8px;\n    right:115px;\n    width:730px;\n    height:800px;\n    background-color:white;\n    z-index: 1;\n}\n</code></pre>\n\n<p>JavaScript:</p>\n\n<pre><code>$(function() {\nvar snakeX, snakeY;\nvar fruitX, fruitY;\nvar gameOver = true;\nvar direction = 0; //0 = null, 1 = left, 2 = right, 3 = up, 4 = down\n\nfunction Draw() {\n    var canvas = document.getElementById(\"playBoard\");\n    var ctx = canvas.getContext(\"2d\");\n\n    //Snake\n    ctx.beginPath();\n    ctx.lineWidth=\"5\";\n    ctx.strokeStyle=\"green\";\n    ctx.fillRect(385,385,50,50);\n\n}\n\n\nfunction Setup() {\n    gameOver = false;\n    Draw();\n}\n\nwindow.onload = Setup;\n});\n</code></pre>\n\n<p>Edit: I had a typo in my canvas element. This has since been fixed. The problem still persists, however.</p>\n"}, {"tags": ["javascript", "angularjs"], "comments": [{"owner": {"reputation": 3991, "user_id": 6299938, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/af9d073d2179a984f5e6ad984a42d1d0?s=128&d=identicon&r=PG", "display_name": "Julien TASSIN", "link": "https://stackoverflow.com/users/6299938/julien-tassin"}, "edited": false, "score": 0, "creation_date": 1490217184, "post_id": 42962447, "comment_id": 73019650, "body": "There is a problem in your jsfiddle <code>this.files</code> does not exists."}, {"owner": {"reputation": 2093, "user_id": 5357758, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/266d83febb1a6e98f03837ea1ad3c411?s=128&d=identicon&r=PG&f=1", "display_name": "yavg", "link": "https://stackoverflow.com/users/5357758/yavg"}, "reply_to_user": {"reputation": 3991, "user_id": 6299938, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/af9d073d2179a984f5e6ad984a42d1d0?s=128&d=identicon&r=PG", "display_name": "Julien TASSIN", "link": "https://stackoverflow.com/users/6299938/julien-tassin"}, "edited": false, "score": 0, "creation_date": 1490217548, "post_id": 42962447, "comment_id": 73019819, "body": "sorry! i updated the jsdfiddle <a href=\"http://jsfiddle.net/07u4muuq/\" rel=\"nofollow noreferrer\">jsfiddle.net/07u4muuq</a>"}, {"owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "edited": false, "score": 0, "creation_date": 1490229696, "post_id": 42962447, "comment_id": 73024449, "body": "Use <a href=\"https://docs.angularjs.org/api/ng/function/angular.element#angularjs-s-jqlite\" rel=\"nofollow noreferrer\">jqLite element.on()</a> to bind event listeners."}, {"owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "edited": false, "score": 0, "creation_date": 1490229952, "post_id": 42962447, "comment_id": 73024533, "body": "Also read <a href=\"https://docs.angularjs.org/guide/forms#custom-validation\" rel=\"nofollow noreferrer\">AngularJS Developer Guide - Custom Validation</a>."}], "owner": {"reputation": 2093, "user_id": 5357758, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/266d83febb1a6e98f03837ea1ad3c411?s=128&d=identicon&r=PG&f=1", "display_name": "yavg", "link": "https://stackoverflow.com/users/5357758/yavg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 324, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1490223013, "creation_date": 1490215965, "last_edit_date": 1490223013, "question_id": 42962447, "link": "https://stackoverflow.com/questions/42962447/validate-an-input-file-in-a-directiveangular-js", "title": "Validate an input file in a directive(Angular.js)", "body": "<p>Currently I want to validate 2 fields of a form using a directive. The first field of text I want to be validated when I write the word \"manuel\". Then I want to validate that the input file is validated when loading an image. If the conditions are met, I set to true | false according to the validation.\nIf the validation of the text field is true then</p>\n\n<pre><code> ngModel.$setValidity('validate', true);\n</code></pre>\n\n<p>otherwise</p>\n\n<pre><code>ngModel.$setValidity('validate', false);\n</code></pre>\n\n<p>(the same for the input file)</p>\n\n<p>The problem is that the form is never valid, even if I load a valid image. What I can do?. I want to solve everything in a directive, if there is any better way to validate the input file, feedback is welcome, but do not want attributes as required and need this in the same directive.</p>\n\n<pre><code> &lt;form class=\"form-horizontal well\" name=\"form\" &gt;\n    &lt;input type=\"text\"  ng-model=\"numero\"  class=\"form-control\" validate /&gt;\n    &lt;input type=\"file\" id='file' ng-model='file'  /&gt;\n    &lt;button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\" ng-disabled=\"form.$invalid\" &gt;SEND&lt;/button&gt;\n  &lt;/form&gt;\n\n\n    var app = angular.module('app', []);\n\n    app.controller('appCtrl', function ($scope) {\n    });\n\n    app.directive('validate', function ($timeout) {\n\n        return {\n            restrict: 'AE',\n            require: 'ngModel', \n\n            link: function (scope, element, attrs, ngModel) {\n              if (!ngModel){\n                return;          \n              }\n              //initially set false validation of form\n              ngModel.$setValidity('validate', false);\n\n              ngModel.$parsers.push(function(val){\n                if (val==\"manuel\"){\n                  ngModel.$setValidity('validate', true);\n\n                } else {\n                  ngModel.$setValidity('validate', false);\n                }\n                ngModel.$render();\n              })\n\n                function bindEvent(element, type, handler) {\n                  if (element.addEventListener) {\n                    element.addEventListener(type, handler, false);\n                  } else {\n                    element.attachEvent('on' + type, handler);\n                  }\n                }\n\n                //******************** Validate File *********************//\n                //initially set false validation of file\n                ngModel.$setValidity('file', false);\n\n                 bindEvent(element[0], 'change', function() {\n                  var sNameFile=this.files[0].name;\n                  var sExtension=sNameFile.split(\".\");\n                  sExtension=sExtension[sExtension.length-1].toLowerCase();\n\n                      if(sExtension==\"gif\" || sExtension==\"jpg\" || sExtension==\"jpeg\" || sExtension==\"png\" || sExtension==\"bmp\"){\n                        console.log(\" is image\")\n                         ngModel.$setValidity('file', true);\n                         console.log(ngModel)\n                      }\n                      else{\n                        console.log(\"is not image\")\n                        ngModel.$setValidity('file', false);\n                        element[0].value=null;\n                      }\n                });\n\n            }\n        };\n    });\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/07u4muuq/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/07u4muuq/</a></p>\n"}, {"tags": ["javascript", "vue.js"], "comments": [{"owner": {"reputation": 7985, "user_id": 3918577, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/cfZLg.jpg?s=128&g=1", "display_name": "Belmin Bedak", "link": "https://stackoverflow.com/users/3918577/belmin-bedak"}, "edited": false, "score": 0, "creation_date": 1490216711, "post_id": 42962443, "comment_id": 73019408, "body": "I don&#39;t think this approach is not something you want to do, and it&#39;s not something that&#39;s recommended.Why simply not assign id to div and mount vue instance to that div, and inside instance you can create different components which would have their own state ? Pro tip: try to simply forgot everything about jQuery when you are working with VueJS ;)"}, {"owner": {"reputation": 407, "user_id": 2291529, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/7Dn6n.png?s=128&g=1", "display_name": "porthunt", "link": "https://stackoverflow.com/users/2291529/porthunt"}, "reply_to_user": {"reputation": 7985, "user_id": 3918577, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/cfZLg.jpg?s=128&g=1", "display_name": "Belmin Bedak", "link": "https://stackoverflow.com/users/3918577/belmin-bedak"}, "edited": false, "score": 0, "creation_date": 1490216792, "post_id": 42962443, "comment_id": 73019457, "body": "Because I would have like 6 or 7 vue instances doing the same thing. What do you recommend for something like this?"}, {"owner": {"reputation": 7985, "user_id": 3918577, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/cfZLg.jpg?s=128&g=1", "display_name": "Belmin Bedak", "link": "https://stackoverflow.com/users/3918577/belmin-bedak"}, "edited": false, "score": 0, "creation_date": 1490217322, "post_id": 42962443, "comment_id": 73019717, "body": "It&#39;s hard to say because I don&#39;t know what you are exactly building, but I&#39;d go with one main instance and component/s that represtent div.foo state."}], "answers": [{"tags": [], "owner": {"reputation": 69497, "user_id": 38065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25f88c47b81c1e154551f64771074b06?s=128&d=identicon&r=PG", "display_name": "Bert", "link": "https://stackoverflow.com/users/38065/bert"}, "is_accepted": true, "score": 23, "last_activity_date": 1490217580, "last_edit_date": 1490217580, "creation_date": 1490217117, "answer_id": 42962738, "question_id": 42962443, "link": "https://stackoverflow.com/questions/42962443/vue-instance-using-classes/42962738#42962738", "title": "Vue instance using classes", "body": "<p>You can't do what you are suggesting, but you could create a new Vue for each element matching your selector.</p>\n\n<p>Each would hold it's own state.</p>\n\n<pre><code>const vues = document.querySelectorAll(\".app\");\nArray.prototype.forEach.call(vues, (el, index) =&gt; new Vue({el, data:{message: \"hello \" + index}}))\n</code></pre>\n\n<p><a href=\"http://codepen.io/Kradek/pen/bqMBPy?editors=1010\" rel=\"noreferrer\">Example</a>.</p>\n\n<p>If you wanted a shared state,</p>\n\n<pre><code>const vues = document.querySelectorAll(\".app\");\nconst each = Array.prototype.forEach;\nconst data = {\n  message: \"hello world\"\n};\neach.call(vues, (el, index) =&gt; new Vue({el, data}))\n</code></pre>\n\n<p>At which point you could do something like <code>data.message = \"new value\"</code> and all the Vues would change.</p>\n\n<p><a href=\"http://codepen.io/Kradek/pen/QprdjW?editors=1010\" rel=\"noreferrer\">Example 2</a>.</p>\n\n<p><em>This is just me playing around though</em>. It might be advisable for you to just create one Vue and manage all your <code>foo</code>s.</p>\n"}, {"tags": [], "owner": {"reputation": 126, "user_id": 8609152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60e2b41b3d1a24691df84f59ff19c1d8?s=128&d=identicon&r=PG&f=1", "display_name": "DanPottsHimself", "link": "https://stackoverflow.com/users/8609152/danpottshimself"}, "is_accepted": false, "score": 1, "last_activity_date": 1515508400, "creation_date": 1515508400, "answer_id": 48170441, "question_id": 42962443, "link": "https://stackoverflow.com/questions/42962443/vue-instance-using-classes/48170441#48170441", "title": "Vue instance using classes", "body": "<p>Additionally, if you want to access the html from your js/ts files, you can use vue's ref system.</p>\n\n<p>example:</p>\n\n<pre><code>&lt;template&gt; \n&lt;div ref=\"example\"&gt;example&lt;/div&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p>example.js:</p>\n\n<pre><code>var myExampleDiv = this.$refs.example;\n</code></pre>\n\n<p>or if your using typescript</p>\n\n<p>example.ts:</p>\n\n<pre><code>const myExampleDiv = this.$refs.example as HTMLElement;\n</code></pre>\n\n<p>For more information on this:\n<a href=\"https://vuejs.org/v2/api/#vm-refs\" rel=\"nofollow noreferrer\">https://vuejs.org/v2/api/#vm-refs</a></p>\n"}], "owner": {"reputation": 407, "user_id": 2291529, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/7Dn6n.png?s=128&g=1", "display_name": "porthunt", "link": "https://stackoverflow.com/users/2291529/porthunt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7658, "favorite_count": 0, "accepted_answer_id": 42962738, "answer_count": 2, "score": 7, "last_activity_date": 1515508400, "creation_date": 1490215954, "question_id": 42962443, "link": "https://stackoverflow.com/questions/42962443/vue-instance-using-classes", "title": "Vue instance using classes", "body": "<p>I'm new to Vue and have a few questions on it. But I think the issue I am running is the one I have no idea how to solve it:</p>\n\n<p>I have a few <code>&lt;div class=\"foo\"&gt;</code> in my code. I want to interact with these <code>&lt;div&gt;</code>s using a Vue instance. I had the idea to use something like:</p>\n\n<pre><code>var app = new Vue({\n  el: 'div.foo',\n  data: {\n    message: 'bar'\n  }\n})\n</code></pre>\n\n<p>Therefore, all the <code>div.foo</code> elements would be manageable by <code>app</code>. But how can I get EXACTLY the element I'm working with?</p>\n\n<p>Let's say in JQuery we have this...</p>\n\n<pre><code>$(\"div.foo\").click(function() {\n    console.log($(this));\n})\n</code></pre>\n\n<p>The code will work for every <code>div.foo</code>, but the print will show just the clicked element.</p>\n"}, {"tags": ["javascript", "bigcommerce"], "comments": [{"owner": {"reputation": 684, "user_id": 5535081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YUbBvjZyBRk/AAAAAAAAAAI/AAAAAAAAHPE/bhW8dwoSLKg/photo.jpg?sz=128", "display_name": "Donny West", "link": "https://stackoverflow.com/users/5535081/donny-west"}, "edited": false, "score": 0, "creation_date": 1490219006, "post_id": 42962432, "comment_id": 73020500, "body": "Can you share your webpack config?  This should be in the stencil.conf.js and webpack.conf.js files in your theme&#39;s root directory."}, {"owner": {"reputation": 26, "user_id": 7607038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b15078f46ad7cfa1a542e68f6779ab4c?s=128&d=identicon&r=PG", "display_name": "kevinkonrad", "link": "https://stackoverflow.com/users/7607038/kevinkonrad"}, "reply_to_user": {"reputation": 684, "user_id": 5535081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YUbBvjZyBRk/AAAAAAAAAAI/AAAAAAAAHPE/bhW8dwoSLKg/photo.jpg?sz=128", "display_name": "Donny West", "link": "https://stackoverflow.com/users/5535081/donny-west"}, "edited": false, "score": 0, "creation_date": 1490277694, "post_id": 42962432, "comment_id": 73048436, "body": "@DonnyWest The question has been updated with the contents of stencil.conf.js and webpack.conf.js. Thanks for your time!"}, {"owner": {"reputation": 684, "user_id": 5535081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YUbBvjZyBRk/AAAAAAAAAAI/AAAAAAAAHPE/bhW8dwoSLKg/photo.jpg?sz=128", "display_name": "Donny West", "link": "https://stackoverflow.com/users/5535081/donny-west"}, "edited": false, "score": 0, "creation_date": 1490285282, "post_id": 42962432, "comment_id": 73054765, "body": "All looks good with your webpack config, are you sure the file you are editing is being imported into your entry file or one of its descendents?  Try making a change directly in the &#39;assets/js/app.js&#39; file and see if that triggers a reload.  If it does, then your issue is probably related to the importing of the file(s) you were modifying."}, {"owner": {"reputation": 26, "user_id": 7607038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b15078f46ad7cfa1a542e68f6779ab4c?s=128&d=identicon&r=PG", "display_name": "kevinkonrad", "link": "https://stackoverflow.com/users/7607038/kevinkonrad"}, "reply_to_user": {"reputation": 684, "user_id": 5535081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YUbBvjZyBRk/AAAAAAAAAAI/AAAAAAAAHPE/bhW8dwoSLKg/photo.jpg?sz=128", "display_name": "Donny West", "link": "https://stackoverflow.com/users/5535081/donny-west"}, "edited": false, "score": 0, "creation_date": 1490290236, "post_id": 42962432, "comment_id": 73058146, "body": "@DonnyWest Modifying app.js does not trigger a reload. Also, I am only modifying js files that were already part of the theme at this point. I have not added any js files to the theme."}, {"owner": {"reputation": 684, "user_id": 5535081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YUbBvjZyBRk/AAAAAAAAAAI/AAAAAAAAHPE/bhW8dwoSLKg/photo.jpg?sz=128", "display_name": "Donny West", "link": "https://stackoverflow.com/users/5535081/donny-west"}, "edited": false, "score": 0, "creation_date": 1490291576, "post_id": 42962432, "comment_id": 73058982, "body": "That&#39;s strange.  To confirm, you are able to run &#39;stencil start&#39; in the theme&#39;s root directory, the command line prints out the local URL and some status messages, and you can successfully go to the local URL and see your development site running, correct?"}, {"owner": {"reputation": 26, "user_id": 7607038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b15078f46ad7cfa1a542e68f6779ab4c?s=128&d=identicon&r=PG", "display_name": "kevinkonrad", "link": "https://stackoverflow.com/users/7607038/kevinkonrad"}, "reply_to_user": {"reputation": 684, "user_id": 5535081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YUbBvjZyBRk/AAAAAAAAAAI/AAAAAAAAHPE/bhW8dwoSLKg/photo.jpg?sz=128", "display_name": "Donny West", "link": "https://stackoverflow.com/users/5535081/donny-west"}, "edited": false, "score": 0, "creation_date": 1490293857, "post_id": 42962432, "comment_id": 73060345, "body": "@DonnyWest Yep, I can run stencil start and view everything locally with no issues."}, {"owner": {"reputation": 684, "user_id": 5535081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YUbBvjZyBRk/AAAAAAAAAAI/AAAAAAAAHPE/bhW8dwoSLKg/photo.jpg?sz=128", "display_name": "Donny West", "link": "https://stackoverflow.com/users/5535081/donny-west"}, "edited": false, "score": 1, "creation_date": 1490295196, "post_id": 42962432, "comment_id": 73061093, "body": "That&#39;s odd, seems for all the world like it should be working.  I&#39;d try uninstalling and reinstalling stencil-cli globally, deleting the node_modules directory inside of your theme, running npm cache clear and then reinstalling the theme&#39;s dependencies with npm i inside the theme directory.  That&#39;s as fresh of a start as you can get, perhaps that will shake loose whatever is acting up?"}, {"owner": {"reputation": 26, "user_id": 7607038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b15078f46ad7cfa1a542e68f6779ab4c?s=128&d=identicon&r=PG", "display_name": "kevinkonrad", "link": "https://stackoverflow.com/users/7607038/kevinkonrad"}, "reply_to_user": {"reputation": 684, "user_id": 5535081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YUbBvjZyBRk/AAAAAAAAAAI/AAAAAAAAHPE/bhW8dwoSLKg/photo.jpg?sz=128", "display_name": "Donny West", "link": "https://stackoverflow.com/users/5535081/donny-west"}, "edited": false, "score": 0, "creation_date": 1490377694, "post_id": 42962432, "comment_id": 73101457, "body": "@DonnyWest I have now done the things you mentioned. My js files still don&#39;t seem to be updating, but modifying app.js now triggers a reload."}, {"owner": {"reputation": 684, "user_id": 5535081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YUbBvjZyBRk/AAAAAAAAAAI/AAAAAAAAHPE/bhW8dwoSLKg/photo.jpg?sz=128", "display_name": "Donny West", "link": "https://stackoverflow.com/users/5535081/donny-west"}, "edited": false, "score": 0, "creation_date": 1490380284, "post_id": 42962432, "comment_id": 73102944, "body": "Nice, that&#39;s a step in the right direction at least, now we know that both stencil-cli and your theme&#39;s webpack config are working.  Again I&#39;d double check to be sure that the file you want to modify is being imported into the bundle&#39;s entry point, and that it&#39;s not in one of the directories in the &#39;ignored&#39; array in your webpack watch options (which seem to just be stylesheets, but it doesn&#39;t hurt to double check).  If the import isn&#39;t the culprit, try adding &#39;webpackConfig.cache = false;&#39; at the top of your &#39;development&#39; function in stencil.conf.js"}], "owner": {"reputation": 26, "user_id": 7607038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b15078f46ad7cfa1a542e68f6779ab4c?s=128&d=identicon&r=PG", "display_name": "kevinkonrad", "link": "https://stackoverflow.com/users/7607038/kevinkonrad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 426, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1490277644, "creation_date": 1490215907, "last_edit_date": 1490277644, "question_id": 42962432, "link": "https://stackoverflow.com/questions/42962432/local-javascript-files-not-updating-stencil-cli", "title": "Local JavaScript Files Not Updating - Stencil CLI", "body": "<p>I am modifying a purchased stencil-based theme for a client. When I modify javascript files, bundle.js does not update and I do not see a file change in the CLI. I am unable to see my changes on the local site. However, as a test, I was able to modify bundle.js directly and saw my change take place. </p>\n\n<p>I have looked through the BC docs and have asked questions in other forums, but still no solution. I am not getting any errors in the CLI when I start stencil or run the bundle command. I can also upload my theme to the store without error.</p>\n\n<p>Any ideas?</p>\n\n<p>**Edit: </p>\n\n<p>Here are the contents of my stencil.conf.js file:</p>\n\n<pre><code>var path = require('path');\nvar webpack = require('webpack');\nvar webpackConfig = require('./webpack.conf.js');\n\nwebpackConfig.context = __dirname;\nwebpackConfig.entry = path.resolve(__dirname, 'assets/js/app.js');\nwebpackConfig.output = {\n  path: path.resolve(__dirname, 'assets/js'),\n  filename: 'bundle.js'\n};\n\n/**\n * Watch options for the core watcher\n * @type {{files: string[], ignored: string[]}}\n */\nvar watchOptions = {\n  // If files in these directories change, reload the page.\n  files: [\n    '/assets',\n    '/templates',\n    '/lang'\n  ],\n\n  //Do not watch files in these directories\n  ignored: [\n    '/assets/scss',\n    '/assets/css',\n  ]\n};\n\n/**\n * Hook into the stencil-cli browsersync instance for rapid development of themes.\n * Watch any custom files and trigger a rebuild\n * @param {Object} Bs\n */\nfunction development(Bs) {\n  var compiler = webpack(webpackConfig);\n  // Rebuild the bundle once at bootup\n  compiler.watch({}, function(err, stats) {\n    if (err) {\n      console.error(err)\n    }\n\n    Bs.reload();\n  });\n}\n\n/**\n */\n/**\n * Hook into the `stencil bundle` command and build your files before they are packaged as a .zip\n * Be sure to call the `done()` callback when finished\n * @param {function} done\n */\nfunction production(done) {\n  var compiler;\n\n  webpackConfig.devtool = false;\n  webpackConfig.plugins.push(new webpack.optimize.DedupePlugin());\n  webpackConfig.plugins.push(new webpack.optimize.UglifyJsPlugin({\n    comments: false\n  }));\n\n  compiler = webpack(webpackConfig);\n\n  compiler.run(function(err, stats) {\n    if (err) {\n      throw err;\n    }\n\n    done();\n  });\n}\n\nmodule.exports = {\n  watchOptions: watchOptions,\n  development: development,\n  production: production,\n};\n</code></pre>\n\n<p>Here are the contents of my webpack.conf.js file:</p>\n\n<pre><code>    var path = require('path');\n    var webpack = require('webpack');\n\n    module.exports = {\n        devtool: 'eval-cheap-module-source-map',\n        bail: false,\n        module: {\n            loaders: [\n                {\n                    test: /\\.js$/,\n                    loader: 'babel',\n                    include: [\n                        path.resolve(__dirname, 'assets/js'),\n                        path.resolve(__dirname, 'node_modules/@bigcommerce/stencil-utils'),\n                    ],\n                    query: {\n                        compact: false,\n                        cacheDirectory: true,\n                        presets: [ ['es2015', {loose: true}] ]\n                    }\n                 }\n            ]\n        },\n        plugins: [],\n        watch: false\n    };\n</code></pre>\n"}, {"tags": ["javascript", "php", "jquery", "joomla"], "comments": [{"owner": {"reputation": 871, "user_id": 7742642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b47333950e67476df0595fedc0b79056?s=128&d=identicon&r=PG", "display_name": "Simon K", "link": "https://stackoverflow.com/users/7742642/simon-k"}, "edited": false, "score": 0, "creation_date": 1490216765, "post_id": 42962410, "comment_id": 73019440, "body": "Just put something clickable inside the anchor tags. Rather than using an empty &lt;img /&gt; tag, put an actual working image tag or add some text."}], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 6419221, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9888df27e00b1baa72d63e9ae3a16b21?s=128&d=identicon&r=PG&f=1", "display_name": "Amonnn", "link": "https://stackoverflow.com/users/6419221/amonnn"}, "edited": false, "score": 0, "creation_date": 1490350798, "post_id": 42968464, "comment_id": 73083533, "body": "Yes, I know your method, but I going to load not only 2 modules but 15. And if I set to load them all, my page is starting for a long time"}], "tags": [], "owner": {"reputation": 3324, "user_id": 1789393, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/z75xB.jpg?s=128&g=1", "display_name": "Amit Ray", "link": "https://stackoverflow.com/users/1789393/amit-ray"}, "is_accepted": false, "score": 0, "last_activity_date": 1490250435, "last_edit_date": 1490250435, "creation_date": 1490249413, "answer_id": 42968464, "question_id": 42962410, "link": "https://stackoverflow.com/questions/42962410/replace-one-module-by-another-by-using-js-and-php-in-joomla/42968464#42968464", "title": "Replace one module by another by using JS and PHP in Joomla", "body": "<p>In your code </p>\n\n<pre><code>&lt;div id=\"mods\"&gt;{loadposition mod1}&lt;/div&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a id=\"mod1\" href=\"#mod1\"&gt;&lt;img /&gt;&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a id=\"mod2\" href=\"#mod2\"&gt;&lt;img /&gt;&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p><code>{loadposition mod1}</code> is used to load the module mod1 from server by parsing the code so if you use jQuery it will just change in the client PC but wont load a module. You may need ajax for that. best is to load both the modules and hide one module. When someone clicks the second image they see the other module. This can be a better option, but not tested by me:</p>\n\n<pre><code>&lt;div id=\"mods1\"&gt;{loadposition mod1}&lt;/div&gt;\n&lt;div id=\"mods2\" style=\"display: none\"&gt;{loadposition mod2}&lt;/div&gt;\n &lt;ul&gt;\n    &lt;li&gt;&lt;a id=\"mod1\" href=\"#mod1\"&gt;&lt;img /&gt;&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a id=\"mod2\" href=\"#mod2\"&gt;&lt;img /&gt;&lt;/a&gt;&lt;/li&gt;\n &lt;/ul&gt;\n</code></pre>\n\n<p>My jQuery code will be</p>\n\n<pre><code>jQuery(document).ready(function() {\n  jQuery(\"#mod1\").click(function() {\n    $(\"#mods1\").css(\"display\", \"block\");\n    $(\"#mods2\").css(\"display\", \"none\");\n  });\n  jQuery(\"#mod2\").click(function() {\n    $(\"#mods2\").css(\"display\", \"block\");\n    $(\"#mods1\").css(\"display\", \"none\");\n  });  \n});\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 6419221, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9888df27e00b1baa72d63e9ae3a16b21?s=128&d=identicon&r=PG&f=1", "display_name": "Amonnn", "link": "https://stackoverflow.com/users/6419221/amonnn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1490250435, "creation_date": 1490215802, "question_id": 42962410, "link": "https://stackoverflow.com/questions/42962410/replace-one-module-by-another-by-using-js-and-php-in-joomla", "title": "Replace one module by another by using JS and PHP in Joomla", "body": "<p>Extremely need your help. I have a page on my website with two modules with shows some articles. On the left side I have an Joomla article which inludes module that display some short news by using {loadposition} and at the right side module which displays long articles. I want to make a switcher that will replace module at my article by another module. My code that is not working correct is following </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>\t\r\n\r\n&lt;div id=\"mods\"&gt;{loadposition mod1}&lt;/div&gt;\r\n&lt;ul&gt;\r\n&lt;li&gt;&lt;a id=\"mod1\" href=\"#mod1\"&gt;&lt;img /&gt;&lt;/a&gt;&lt;/li&gt;\r\n&lt;li&gt;&lt;a id=\"mod2\" href=\"#mod2\"&gt;&lt;img /&gt;&lt;/a&gt;&lt;/li&gt;\r\n&lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And script which only change text and not loading module is following </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> jQuery(document).ready(function() {\r\n  jQuery(\"#mod1\").click(function() {\r\n    jQuery(\"#mods\").html('{loadposition mod1}'); \r\n  });\r\n  jQuery(\"#mod2\").click(function() {\r\n    jQuery(\"#mods\").html('{loadposition mod2}'); \r\n  });  \r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I need to load another module mod2 instead mod1 that was loaded together with full page. Please help to make my script work correct.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 4193, "user_id": 974619, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0b2bcf4dc66c4d501eacdf6a994bbfd8?s=128&d=identicon&r=PG", "display_name": "Renaud", "link": "https://stackoverflow.com/users/974619/renaud"}, "reply_to_user": {"reputation": 3870, "user_id": 1769777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06763dd36a45c8966c7171ba3697847d?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/1769777/adam"}, "edited": false, "score": 7, "creation_date": 1510235589, "post_id": 42962394, "comment_id": 81355662, "body": "@Adam don&#39;t be so shallow"}], "answers": [{"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 8, "last_activity_date": 1493370154, "last_edit_date": 1493370154, "creation_date": 1490216532, "answer_id": 42962601, "question_id": 42962394, "link": "https://stackoverflow.com/questions/42962394/angular-2-how-to-detect-changes-in-an-array-input-property/42962601#42962601", "title": "Angular 2: How to detect changes in an array? (@input property)", "body": "\n\n<p>You can use <a href=\"https://angular.io/docs/ts/latest/api/core/index/IterableDiffers-class.html\" rel=\"noreferrer\">IterableDiffers</a></p>\n\n<p>It's used by <a href=\"https://github.com/angular/angular/blob/c10c060d2037daffadfe7975ac584e83225400b4/packages/common/src/directives/ng_for_of.ts#L134\" rel=\"noreferrer\">*ngFor</a></p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>constructor(private _differs: IterableDiffers) {}\n\nngOnChanges(changes: SimpleChanges): void {\n  if (!this._differ &amp;&amp; value) {\n     this._differ = this._differs.find(value).create(this.ngForTrackBy);\n  }\n}\n\nngDoCheck(): void {\n  if (this._differ) {\n    const changes = this._differ.diff(this.ngForOf);\n    if (changes) this._applyChanges(changes);\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4177, "user_id": 292578, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/717f9e67bdf6018f58ac55b96502caf7?s=128&d=identicon&r=PG", "display_name": "Sparafusile", "link": "https://stackoverflow.com/users/292578/sparafusile"}, "edited": false, "score": 2, "creation_date": 1541280548, "post_id": 42962723, "comment_id": 93164527, "body": "The <code>diff</code> method has been renamed to <code>find</code>: <a href=\"https://angular.io/api/core/IterableDiffers\" rel=\"nofollow noreferrer\">angular.io/api/core/IterableDiffers</a>"}, {"owner": {"reputation": 10285, "user_id": 5411511, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uMvn3.jpg?s=128&g=1", "display_name": "seidme", "link": "https://stackoverflow.com/users/5411511/seidme"}, "reply_to_user": {"reputation": 4177, "user_id": 292578, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/717f9e67bdf6018f58ac55b96502caf7?s=128&d=identicon&r=PG", "display_name": "Sparafusile", "link": "https://stackoverflow.com/users/292578/sparafusile"}, "edited": false, "score": 0, "creation_date": 1542619400, "post_id": 42962723, "comment_id": 93618950, "body": "@Sparafusile  how&#39;s that?"}, {"owner": {"reputation": 4177, "user_id": 292578, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/717f9e67bdf6018f58ac55b96502caf7?s=128&d=identicon&r=PG", "display_name": "Sparafusile", "link": "https://stackoverflow.com/users/292578/sparafusile"}, "edited": false, "score": 0, "creation_date": 1542644778, "post_id": 42962723, "comment_id": 93633347, "body": "My guess is they hit F2, typed a new name, then hit enter. Older versions still use diff, but newer versions use find. I added a link to the documentation."}, {"owner": {"reputation": 10285, "user_id": 5411511, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uMvn3.jpg?s=128&g=1", "display_name": "seidme", "link": "https://stackoverflow.com/users/5411511/seidme"}, "reply_to_user": {"reputation": 4177, "user_id": 292578, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/717f9e67bdf6018f58ac55b96502caf7?s=128&d=identicon&r=PG", "display_name": "Sparafusile", "link": "https://stackoverflow.com/users/292578/sparafusile"}, "edited": false, "score": 4, "creation_date": 1542714100, "post_id": 42962723, "comment_id": 93659702, "body": "@Sparafusile Your link points to <code>IterableDiffers</code>, not to <code>IterableDiffer</code> interface. Please check: <a href=\"https://angular.io/api/core/IterableDiffer\" rel=\"nofollow noreferrer\">angular.io/api/core/IterableDiffer</a>"}, {"owner": {"reputation": 4177, "user_id": 292578, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/717f9e67bdf6018f58ac55b96502caf7?s=128&d=identicon&r=PG", "display_name": "Sparafusile", "link": "https://stackoverflow.com/users/292578/sparafusile"}, "edited": false, "score": 3, "creation_date": 1542762486, "post_id": 42962723, "comment_id": 93682878, "body": "Oops. I just made an appointment with my optometrist for new glasses."}, {"owner": {"reputation": 556, "user_id": 7480923, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fcb1aa2b43bf2bb7d943fd1b62664c7?s=128&d=identicon&r=PG", "display_name": "Julian Torregrosa", "link": "https://stackoverflow.com/users/7480923/julian-torregrosa"}, "edited": false, "score": 4, "creation_date": 1548344731, "post_id": 42962723, "comment_id": 95516138, "body": "Remember to initialize the iterableDiffer like this <code>iterableDiffer:IterableDiffer&lt;YourSingleItemType&gt;;</code>"}, {"owner": {"reputation": 1393, "user_id": 6289085, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-8MUZtNdEnY4/AAAAAAAAAAI/AAAAAAAACFg/ZZ_59p5l5ik/photo.jpg?sz=128", "display_name": "muratoner", "link": "https://stackoverflow.com/users/6289085/muratoner"}, "edited": false, "score": 1, "creation_date": 1557526728, "post_id": 42962723, "comment_id": 98809050, "body": "thanks for your recommend. was usefull for me thanks."}, {"owner": {"reputation": 14811, "user_id": 4574281, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/gSI2p.png?s=128&g=1", "display_name": "WasiF", "link": "https://stackoverflow.com/users/4574281/wasif"}, "edited": false, "score": 4, "creation_date": 1564754183, "post_id": 42962723, "comment_id": 101145829, "body": "<code>ngDoCheck</code> is expensive for resources as I have used it with find method but the way @SeidMehmedovic did is the best one for performance. Thumbs-up"}], "tags": [], "owner": {"reputation": 10285, "user_id": 5411511, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uMvn3.jpg?s=128&g=1", "display_name": "seidme", "link": "https://stackoverflow.com/users/5411511/seidme"}, "is_accepted": true, "score": 114, "last_activity_date": 1578930518, "last_edit_date": 1578930518, "creation_date": 1490217061, "answer_id": 42962723, "question_id": 42962394, "link": "https://stackoverflow.com/questions/42962394/angular-2-how-to-detect-changes-in-an-array-input-property/42962723#42962723", "title": "Angular 2: How to detect changes in an array? (@input property)", "body": "<p><code>OnChanges</code> <a href=\"https://angular.io/docs/ts/latest/guide/lifecycle-hooks.html\" rel=\"noreferrer\">Lifecycle Hook</a> will trigger only when input property's instance changes. </p>\n\n<p>If you want to check whether an element inside the input array has been added, moved or removed, you can use <a href=\"https://angular.io/api/core/IterableDiffers\" rel=\"noreferrer\">IterableDiffers</a> inside the <code>DoCheck</code> Lifecycle Hook as follows:</p>\n\n<pre><code>constructor(private iterableDiffers: IterableDiffers) {\n    this.iterableDiffer = iterableDiffers.find([]).create(null);\n}\n\nngDoCheck() {\n    let changes = this.iterableDiffer.diff(this.inputArray);\n    if (changes) {\n        console.log('Changes detected!');\n    }\n}\n</code></pre>\n\n<p>If you need to detect changes in objects inside an array, you will need to iterate through all elements, and apply <a href=\"https://angular.io/docs/ts/latest/api/core/index/KeyValueDiffers-class.html\" rel=\"noreferrer\">KeyValueDiffers</a> for each element. (You can do this in parallel with previous check).</p>\n\n<p>Visit this post for more information: <a href=\"https://stackoverflow.com/questions/35748484/detect-changes-in-objects-inside-array-in-angular2/36268847#36268847\">Detect changes in objects inside array in Angular2</a></p>\n"}, {"tags": [], "owner": {"reputation": 321, "user_id": 3670284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ed6548ee50ddeec210cde67137d1c32?s=128&d=identicon&r=PG", "display_name": "Jan Cejka", "link": "https://stackoverflow.com/users/3670284/jan-cejka"}, "is_accepted": false, "score": 11, "last_activity_date": 1490221788, "creation_date": 1490221788, "answer_id": 42963851, "question_id": 42962394, "link": "https://stackoverflow.com/questions/42962394/angular-2-how-to-detect-changes-in-an-array-input-property/42963851#42963851", "title": "Angular 2: How to detect changes in an array? (@input property)", "body": "<p>Read following article, don't miss mutable vs immutable objects.</p>\n\n<p>Key issue is that you mutate array elements, while array reference stays the same. And Angular2 change detection checks only array reference to detect changes. After you understand concept of immutable objects you would understand why you have an issue and how to solve it.</p>\n\n<p>I use redux store in one of my projects to avoid this kind of issues.</p>\n\n<p><a href=\"https://blog.thoughtram.io/angular/2016/02/22/angular-2-change-detection-explained.html\" rel=\"noreferrer\">https://blog.thoughtram.io/angular/2016/02/22/angular-2-change-detection-explained.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 11310, "user_id": 1303170, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/vDoNk.jpg?s=128&g=1", "display_name": "r3plica", "link": "https://stackoverflow.com/users/1303170/r3plica"}, "edited": false, "score": 0, "creation_date": 1542550854, "post_id": 47092879, "comment_id": 93600317, "body": "I am marking you up for this, it helped me more than any of the others. Not sure why you were marked with a minus!"}, {"owner": {"reputation": 1338, "user_id": 1288552, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/adce884adf61b97826377920652083fd?s=128&d=identicon&r=PG", "display_name": "NoRyb", "link": "https://stackoverflow.com/users/1288552/noryb"}, "edited": false, "score": 2, "creation_date": 1550671276, "post_id": 47092879, "comment_id": 96354561, "body": "As far as I see it, this is not a solution as <code>changes</code> is always set - which means you could just do <code>this.myMethodAfterChange();</code> inside <code>ngDoCheck</code>. This would work but create a performance issue."}], "tags": [], "owner": {"reputation": 187, "user_id": 8356316, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1a6b0196783d5e8409f9309f6d501115?s=128&d=identicon&r=PG&f=1", "display_name": "Stack Over", "link": "https://stackoverflow.com/users/8356316/stack-over"}, "is_accepted": false, "score": 2, "last_activity_date": 1566534633, "last_edit_date": 1566534633, "creation_date": 1509702977, "answer_id": 47092879, "question_id": 42962394, "link": "https://stackoverflow.com/questions/42962394/angular-2-how-to-detect-changes-in-an-array-input-property/47092879#47092879", "title": "Angular 2: How to detect changes in an array? (@input property)", "body": "<p>It's work for me:</p>\n\n<pre><code>@Component({\n  selector: 'my-component',\n  templateUrl: './my-component.component.html',\n  styleUrls: ['./my-component.component.scss']\n})\nexport class MyComponent implements DoCheck {\n\n  @Input() changeArray: MyClassArray[]= [];\n  private differ: IterableDiffers;\n\n  constructor(private differs: IterableDiffers) {\n    this.differ = differs;\n  }\n\n  ngDoCheck() {\n    const changes = this.differ.find(this.insertedTasks);\n    if (changes) {\n      this.myMethodAfterChange();\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 457, "user_id": 330191, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9f08615df21d0977996e1ff3089bfdca?s=128&d=identicon&r=PG", "display_name": "Jared Christensen", "link": "https://stackoverflow.com/users/330191/jared-christensen"}, "edited": false, "score": 0, "creation_date": 1557341386, "post_id": 51101651, "comment_id": 98736132, "body": "This worked pretty well for me in my situation. &lt;dhi-context-menu [selectedJobs]=&quot;[].concat(selectedJobs$ | async)&quot;&gt;&lt;/dhi-context-menu&gt;"}, {"owner": {"reputation": 528, "user_id": 4098749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K2NYJ.jpg?s=128&g=1", "display_name": "Ernesto Alfonso", "link": "https://stackoverflow.com/users/4098749/ernesto-alfonso"}, "edited": false, "score": 0, "creation_date": 1580382631, "post_id": 51101651, "comment_id": 106082999, "body": "how is this from the point of view of performance and memory consumption?"}, {"owner": {"reputation": 2295, "user_id": 5116816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4111034bee13e4a6ba84edb2bd1d10f0?s=128&d=identicon&r=PG&f=1", "display_name": "Wojtek Majerski", "link": "https://stackoverflow.com/users/5116816/wojtek-majerski"}, "reply_to_user": {"reputation": 528, "user_id": 4098749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K2NYJ.jpg?s=128&g=1", "display_name": "Ernesto Alfonso", "link": "https://stackoverflow.com/users/4098749/ernesto-alfonso"}, "edited": false, "score": 0, "creation_date": 1582629539, "post_id": 51101651, "comment_id": 106835456, "body": "@ErnestoAlfonso: it&#39;s a zero performance operation because you do not clone the array content (elements). You only create a new variable that points to the same memory area as the previous one."}, {"owner": {"reputation": 213, "user_id": 5090475, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FjPAe.jpg?s=128&g=1", "display_name": "stringnome", "link": "https://stackoverflow.com/users/5090475/stringnome"}, "edited": false, "score": 0, "creation_date": 1603228601, "post_id": 51101651, "comment_id": 113969979, "body": "your answer saved my day"}, {"owner": {"reputation": 303, "user_id": 6542910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ssjrp.jpg?s=128&g=1", "display_name": "zhouwangsheng", "link": "https://stackoverflow.com/users/6542910/zhouwangsheng"}, "edited": false, "score": 0, "creation_date": 1615601931, "post_id": 51101651, "comment_id": 117749759, "body": "i love this answer, cause it work in react\\vue\\angular;"}], "tags": [], "owner": {"reputation": 2295, "user_id": 5116816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4111034bee13e4a6ba84edb2bd1d10f0?s=128&d=identicon&r=PG&f=1", "display_name": "Wojtek Majerski", "link": "https://stackoverflow.com/users/5116816/wojtek-majerski"}, "is_accepted": false, "score": 22, "last_activity_date": 1530274934, "creation_date": 1530274934, "answer_id": 51101651, "question_id": 42962394, "link": "https://stackoverflow.com/questions/42962394/angular-2-how-to-detect-changes-in-an-array-input-property/51101651#51101651", "title": "Angular 2: How to detect changes in an array? (@input property)", "body": "<p>You can always create a new reference to the array by merging it with an empty array:</p>\n\n<pre><code>this.yourArray = [{...}, {...}, {...}];\nthis.yourArray[0].yourModifiedField = \"whatever\";\n\nthis.yourArray = [].concat(this.yourArray);\n</code></pre>\n\n<p>The code above will change the array reference and it will trigger the OnChanges mechanism in children components.</p>\n"}, {"comments": [{"owner": {"reputation": 13145, "user_id": 4850343, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BNXOO.jpg?s=128&g=1", "display_name": "Sebastian Wozny", "link": "https://stackoverflow.com/users/4850343/sebastian-wozny"}, "edited": false, "score": 0, "creation_date": 1551045159, "post_id": 53273433, "comment_id": 96485388, "body": "You had me at &quot;set myself into a trap by using setInterval(myService.function, 1000)&quot;"}], "tags": [], "owner": {"reputation": 39, "user_id": 10643898, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/2612162c7fd72224fd46268d3a0c10aa?s=128&d=identicon&r=PG", "display_name": "bess", "link": "https://stackoverflow.com/users/10643898/bess"}, "is_accepted": false, "score": 3, "last_activity_date": 1542080305, "creation_date": 1542080305, "answer_id": 53273433, "question_id": 42962394, "link": "https://stackoverflow.com/questions/42962394/angular-2-how-to-detect-changes-in-an-array-input-property/53273433#53273433", "title": "Angular 2: How to detect changes in an array? (@input property)", "body": "<p>This already appears answered. However for future problem seekers, I wanted to add something missed when I was researching and debugging a change detection problem I had. Now, my issue was a little isolated, and admittedly a stupid mistake on my end, but nonetheless relevant.\nWhen you are updating the values in the <code>Array</code> or <code>Object</code> in reference, ensure that you are in the correct scope. I set myself into a trap by using <code>setInterval(myService.function, 1000)</code>, where <code>myService.function()</code> would update the values of a public array, I used outside the service. This never actually updated the array, as the binding was off, and the correct usage should have been <code>setInterval(myService.function.bind(this), 1000)</code>. I wasted my time trying change detection hacks, when it was a silly/simple blunder. Eliminate scope as a culprit before trying change detection solutions; it might save you some time. </p>\n"}, {"tags": [], "owner": {"reputation": 37, "user_id": 4339968, "user_type": "registered", "profile_image": "https://graph.facebook.com/100008076428993/picture?type=large", "display_name": "Rheimus", "link": "https://stackoverflow.com/users/4339968/rheimus"}, "is_accepted": false, "score": 1, "last_activity_date": 1565639838, "creation_date": 1565639838, "answer_id": 57467521, "question_id": 42962394, "link": "https://stackoverflow.com/questions/42962394/angular-2-how-to-detect-changes-in-an-array-input-property/57467521#57467521", "title": "Angular 2: How to detect changes in an array? (@input property)", "body": "<p>You can use an impure pipe if you are directly using the array in your components template. (This example is for simple arrays that don't need deep checking)</p>\n\n<pre><code>@Pipe({\n  name: 'arrayChangeDetector',\n  pure: false\n})\nexport class ArrayChangeDetectorPipe implements PipeTransform {\n  private differ: IterableDiffer&lt;any&gt;;\n\n  constructor(iDiff: IterableDiffers) {\n    this.differ = iDiff.find([]).create();\n  }\n\n  transform(value: any[]): any[] {\n    if (this.differ.diff(value)) {\n      return [...value];\n    }\n    return value;\n  }\n}\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;cmp [items]=\"arrayInput | arrayChangeDetector\"&gt;&lt;/cmp&gt;\n</code></pre>\n\n<p>For those time travelers among us still hitting array problems here is a reproduction of the issue along with several possible solutions.</p>\n\n<p><a href=\"https://stackblitz.com/edit/array-value-changes-not-detected-ang-8\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/array-value-changes-not-detected-ang-8</a></p>\n\n<p>Solutions include:</p>\n\n<ul>\n<li>NgDoCheck</li>\n<li>Using a Pipe</li>\n<li>Using Immutable JS <a href=\"https://www.npmjs.com/package/immutable\" rel=\"nofollow noreferrer\">NPM</a> <a href=\"https://github.com/immutable-js/immutable-js\" rel=\"nofollow noreferrer\">github</a> </li>\n</ul>\n"}], "owner": {"reputation": 891, "user_id": 3333028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kx6w1.png?s=128&g=1", "display_name": "pablolmedorado", "link": "https://stackoverflow.com/users/3333028/pablolmedorado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80241, "favorite_count": 18, "accepted_answer_id": 42962723, "answer_count": 7, "score": 78, "last_activity_date": 1578930518, "creation_date": 1490215748, "last_edit_date": 1511356969, "question_id": 42962394, "link": "https://stackoverflow.com/questions/42962394/angular-2-how-to-detect-changes-in-an-array-input-property", "title": "Angular 2: How to detect changes in an array? (@input property)", "body": "<p>I have a parent component that retrieves an array of objects using an ajax request.</p>\n\n<p>This component has two children components: One of them shows the objects in a tree structure and the other one renders its content in a table format. The parent passes the array to their children through an @input property and they display the content properly. Everything as expected.</p>\n\n<p>The problem occurs when you change some field within the objects: the child components are not notified of those changes. Changes are only triggered if you manually reassign the array to its variable.</p>\n\n<p>I'm used to working with Knockout JS and I need to get an effect similar to that of observableArrays.</p>\n\n<p>I've read something about DoCheck but I'm not sure how it works.</p>\n"}]