[{"tags": ["javascript", "css", "progress-bar", "custom-controls"], "comments": [{"owner": {"reputation": 11701, "user_id": 8376184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U6TIU.jpg?s=128&g=1", "display_name": "FZs", "link": "https://stackoverflow.com/users/8376184/fzs"}, "edited": false, "score": 0, "creation_date": 1577836292, "post_id": 59549148, "comment_id": 105267472, "body": "I can&#39;t reproduce the problem, your code works for me (Chrome 81). What browser do you use?"}], "answers": [{"comments": [{"owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1577838587, "post_id": 59549235, "comment_id": 105267702, "body": "The bar moves but the &#39;ball&#39; doesn&#39;t - not sure if you noticed that or not.. just FYI."}, {"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "reply_to_user": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1577838617, "post_id": 59549235, "comment_id": 105267707, "body": "It&#39;s mentioned in my answer."}, {"owner": {"reputation": 227, "user_id": 12628719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b03708709a7686ac7d653b7c9657aed4?s=128&d=identicon&r=PG&f=1", "display_name": "coder123", "link": "https://stackoverflow.com/users/12628719/coder123"}, "edited": false, "score": 0, "creation_date": 1577838618, "post_id": 59549235, "comment_id": 105267708, "body": "And what would I put inside the this?   <code>function initProgressBar() {   &#47;&#47; TODO: What goes here? }</code>"}, {"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1577838661, "post_id": 59549235, "comment_id": 105267712, "body": "I don&#39;t know. You put that on your element but didn&#39;t define the function for it. I&#39;m not sure what you want that function to do. Do you need it? (hence the TODO comment)"}, {"owner": {"reputation": 227, "user_id": 12628719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b03708709a7686ac7d653b7c9657aed4?s=128&d=identicon&r=PG&f=1", "display_name": "coder123", "link": "https://stackoverflow.com/users/12628719/coder123"}, "edited": false, "score": 0, "creation_date": 1577838716, "post_id": 59549235, "comment_id": 105267719, "body": "Yes I&#39;m not sure what to put for the function."}, {"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1577838825, "post_id": 59549235, "comment_id": 105267729, "body": "...This is starting to sound like you copied/pasted someone&#39;s code and don&#39;t know how to tailor it to your needs. If that&#39;s the case, I would strip your example down to a bare minimum working example and build from there."}, {"owner": {"reputation": 227, "user_id": 12628719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b03708709a7686ac7d653b7c9657aed4?s=128&d=identicon&r=PG&f=1", "display_name": "coder123", "link": "https://stackoverflow.com/users/12628719/coder123"}, "edited": false, "score": 0, "creation_date": 1577838947, "post_id": 59549235, "comment_id": 105267741, "body": "Its not copied and pasted although I have taken parts off codes from different pieces of work and customized it, although I don&#39;t understand the progress bar element at all. Please help me."}, {"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 1, "creation_date": 1577839138, "post_id": 59549235, "comment_id": 105267763, "body": "I would suggest breaking out the progress bar logic into it&#39;s isolated &quot;app&quot; for now. Get a bare minimum working example of pressing a button and it progressing over 10 seconds or something. Once you have that down, you should be able to bring that into your app. If you have a specific question around that, feel free to post a new questions and I&#39;m happy to take a look. Part of the problem when learning something like this when you&#39;re not familiar with it is that it&#39;s challenging because you&#39;re covering too much at once."}, {"owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 1, "creation_date": 1577839196, "post_id": 59549235, "comment_id": 105267771, "body": "My fault @mwilson - I prob should have read your answer before commenting lol.."}, {"owner": {"reputation": 227, "user_id": 12628719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b03708709a7686ac7d653b7c9657aed4?s=128&d=identicon&r=PG&f=1", "display_name": "coder123", "link": "https://stackoverflow.com/users/12628719/coder123"}, "edited": false, "score": 0, "creation_date": 1577839618, "post_id": 59549235, "comment_id": 105267815, "body": "@mwilson great news! I just fixed it and the progress bar is running smooth, all I did was change the transition width (not sure why that worked). One last quick question, what is the code to show the current time?"}, {"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1577839730, "post_id": 59549235, "comment_id": 105267826, "body": "Current time of what? Please open a new question for this with the specifics."}], "tags": [], "owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "is_accepted": true, "score": 0, "last_activity_date": 1577838747, "last_edit_date": 1577838747, "creation_date": 1577837185, "answer_id": 59549235, "question_id": 59549148, "link": "https://stackoverflow.com/questions/59549148/how-do-i-fix-my-progress-bar-from-glitching/59549235#59549235", "title": "How do I fix my progress bar from glitching?", "body": "<p>It looks like you're missing some key things to make it work</p>\n\n<p>The first thing is that your <code>play</code> button doesn't actually do anything. Try adding an event to handle the clicking of the play button and play the audio</p>\n\n<pre><code>var playButton = document.getElementById('pButton');\n\nplayButton.addEventListener('click', e =&gt; { audio.play(); });\n</code></pre>\n\n<p>The second issue I see is that your <code>audio</code> tag is supposed to call <code>initProgressBar</code> but that function doesn't exist.</p>\n\n<pre><code>&lt;audio id=\"audioPlayer\" preload=\"true\" ontimeupdate=\"initProgressBar()\"&gt;\n</code></pre>\n\n<p>I added a placeholder function for you to fill in. If you don't need this function, remove it from the HTML.</p>\n\n<pre><code>function initProgressBar() {\n  // TODO: What goes here?\n}\n</code></pre>\n\n<p>After you add the click event in, the audio plays when clicked and the progress bar makes the correct progress. However, your circle doesn't move with the progress. I'm assuming you just haven't gotten that part yet.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var timer;\r\nvar percent = 0;\r\nvar audio = document.getElementById(\"audioPlayer\");\r\nvar playButton = document.getElementById('pButton');\r\n\r\nplayButton.addEventListener('click', e =&gt; { audio.play(); });\r\n\r\nfunction initProgressBar() {\r\n  // TODO: What goes here?\r\n}\r\n\r\naudio.addEventListener(\"playing\", function(_event) {\r\n  var duration = _event.target.duration;\r\n  advance(duration, audio);\r\n});\r\naudio.addEventListener(\"pause\", function(_event) {\r\n  clearTimeout(timer);\r\n});\r\nvar advance = function(duration, element) {\r\n  var progress = document.getElementById(\"progress\");\r\n  increment = 10 / duration\r\n  percent = Math.min(increment * element.currentTime * 10, 100);\r\n  progress.style.width = percent + '%'\r\n  startTimer(duration, element);\r\n}\r\nvar startTimer = function(duration, element) {\r\n  if (percent &lt; 100) {\r\n    timer = setTimeout(function() {\r\n      advance(duration, element)\r\n    }, 100);\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#timeline {\r\n  width: 50%;\r\n  height: 4px;\r\n  background: rgba(0, 0, 0, .3);\r\n  margin-top: 27px;\r\n  float: left;\r\n  margin-left: 10px;\r\n  border-radius: 15px;\r\n  background-color: blue;\r\n}\r\n\r\n\r\n/*Grabable Playhead*/\r\n\r\n#playhead {\r\n  cursor: pointer;\r\n  width: 18px;\r\n  height: 18px;\r\n  border-radius: 50%;\r\n  margin-top: -10.9px;\r\n  background: black;\r\n}\r\n\r\n.progress {\r\n  height: 5px;\r\n  background: black;\r\n  transition: width .1s linear;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;audio id=\"audioPlayer\" preload=\"true\" ontimeupdate=\"initProgressBar()\"&gt;\r\n        &lt;source src=\"https://tunechestmusic.000webhostapp.com/sleepy.mp3\"&gt;      \r\n    &lt;/audio&gt;\r\n&lt;div id=\"wrapper\"&gt;\r\n  &lt;!--Audio Player Interface--&gt;\r\n  &lt;div id=\"audioplayer\"&gt;\r\n    &lt;button id=\"pButton\" class=\"play\"&gt;Play&lt;/button&gt;\r\n    &lt;div id=\"timeline\"&gt;\r\n      &lt;div class=\"progress\" id=\"progress\"&gt;&lt;/div&gt;\r\n      &lt;div id=\"playhead\"&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 227, "user_id": 12628719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b03708709a7686ac7d653b7c9657aed4?s=128&d=identicon&r=PG&f=1", "display_name": "coder123", "link": "https://stackoverflow.com/users/12628719/coder123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 59549235, "answer_count": 1, "score": 0, "last_activity_date": 1577838747, "creation_date": 1577835545, "last_edit_date": 1577838409, "question_id": 59549148, "link": "https://stackoverflow.com/questions/59549148/how-do-i-fix-my-progress-bar-from-glitching", "title": "How do I fix my progress bar from glitching?", "body": "<p>I am experiencing an issue where the progress bar is behind, if you click <a href=\"https://tunechestmusic.000webhostapp.com/\" rel=\"nofollow noreferrer\">THIS LINK</a> and go to the second song you will see that the progress bar is all messed up. If anyone has a solution please help! <a href=\"https://i.stack.imgur.com/vW45m.jpg\" rel=\"nofollow noreferrer\">This is an image</a> of what the problem is. Also this is all the coding I think necessary to solve the problem.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var timer;\r\nvar percent = 0;\r\nvar audio = document.getElementById(\"audioPlayer\");\r\naudio.addEventListener(\"playing\", function(_event) {\r\n  var duration = _event.target.duration;\r\n  advance(duration, audio);\r\n});\r\naudio.addEventListener(\"pause\", function(_event) {\r\n  clearTimeout(timer);\r\n});\r\nvar advance = function(duration, element) {\r\n  var progress = document.getElementById(\"progress\");\r\n  increment = 10 / duration\r\n  percent = Math.min(increment * element.currentTime * 10, 100);\r\n  progress.style.width = percent + '%'\r\n  startTimer(duration, element);\r\n}\r\nvar startTimer = function(duration, element) {\r\n  if (percent &lt; 100) {\r\n    timer = setTimeout(function() {\r\n      advance(duration, element)\r\n    }, 100);\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#timeline {\r\n  width: 50%;\r\n  height: 4px;\r\n  background: rgba(0, 0, 0, .3);\r\n  margin-top: 27px;\r\n  float: left;\r\n  margin-left: 10px;\r\n  border-radius: 15px;\r\n  background-color: blue;\r\n}\r\n\r\n\r\n/*Grabable Playhead*/\r\n\r\n#playhead {\r\n  cursor: pointer;\r\n  width: 18px;\r\n  height: 18px;\r\n  border-radius: 50%;\r\n  margin-top: -10.9px;\r\n  background: black;\r\n}\r\n\r\n.progress {\r\n  height: 5px;\r\n  background: black;\r\n  transition: width .1s linear;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;audio id=\"audioPlayer\" preload=\"true\" ontimeupdate=\"initProgressBar()\"&gt;\r\n        &lt;source src=\"https://tunechestmusic.000webhostapp.com/sleepy.mp3\"&gt;      \r\n    &lt;/audio&gt;\r\n&lt;div id=\"wrapper\"&gt;\r\n  &lt;!--Audio Player Interface--&gt;\r\n  &lt;div id=\"audioplayer\"&gt;\r\n    &lt;button id=\"pButton\" class=\"play\"&gt;&lt;/button&gt;\r\n    &lt;div id=\"timeline\"&gt;\r\n      &lt;div class=\"progress\" id=\"progress\"&gt;&lt;/div&gt;\r\n      &lt;div id=\"playhead\"&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs", "react-hooks"], "answers": [{"tags": [], "owner": {"reputation": 6121, "user_id": 816116, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/0IoOR.jpg?s=128&g=1", "display_name": "Gasim", "link": "https://stackoverflow.com/users/816116/gasim"}, "is_accepted": false, "score": 0, "last_activity_date": 1577836166, "creation_date": 1577836166, "answer_id": 59549183, "question_id": 59549125, "link": "https://stackoverflow.com/questions/59549125/changing-pages-with-react-hooks-resets-itself/59549183#59549183", "title": "Changing pages with React hooks (Resets itself)", "body": "<p>EDIT: Don't forget to set button type to <code>type=\"button\"</code> because otherwise, the type will be equal to \"submit.\" It is be the reason why your website is reloading.</p>\n\n<hr>\n\n<p>Side note:</p>\n\n<p>When changing state based on previous value, always use functional updates because otherwise you are relying on unexpected behavior (race conditions, timing etc):</p>\n\n<pre><code>&lt;button onClick={() =&gt; setPage(p =&gt; p + 1)} type=\"button\"&gt;\n  Click me\n&lt;/button&gt;\n</code></pre>\n\n<p>The code above will ensure that pages always increment based on the latest value. If you want to read about it more, check out the <a href=\"https://reactjs.org/docs/hooks-reference.html#functional-updates\" rel=\"nofollow noreferrer\">docs</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 173187, "user_id": 128165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cdef5bd2099545a776ee86fb8049bdc6?s=128&d=identicon&r=PG", "display_name": "Gabriele Petrioli", "link": "https://stackoverflow.com/users/128165/gabriele-petrioli"}, "is_accepted": true, "score": 3, "last_activity_date": 1577836239, "creation_date": 1577836239, "answer_id": 59549190, "question_id": 59549125, "link": "https://stackoverflow.com/questions/59549125/changing-pages-with-react-hooks-resets-itself/59549190#59549190", "title": "Changing pages with React hooks (Resets itself)", "body": "<p>That happens because your <code>page===2</code> displays a form, and when you click the <code>button</code> elements the form get submitted (<em>they default to submit buttons</em>).</p>\n\n<p>Add <code>type=\"button\"</code> to the <code>button</code> elements and it should get fixed.</p>\n\n<pre><code>  &lt;button\n    value=\"Back\"\n    onClick={() =&gt; setPage(prevPage =&gt; prevPage - 1)}\n    type=\"button\"\n  &gt;\n    Back\n  &lt;/button&gt;\n  &lt;p&gt;You clicked {page} times&lt;/p&gt;\n  &lt;button onClick={() =&gt; setPage(page + 1)} type=\"button\"&gt;\n    Click me\n  &lt;/button&gt;\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 12634292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec69073f8010d2174ce0315e65d8c576?s=128&d=identicon&r=PG&f=1", "display_name": "Jared Bernhart Baez", "link": "https://stackoverflow.com/users/12634292/jared-bernhart-baez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 0, "accepted_answer_id": 59549190, "answer_count": 2, "score": 2, "last_activity_date": 1577848750, "creation_date": 1577835078, "last_edit_date": 1577848750, "question_id": 59549125, "link": "https://stackoverflow.com/questions/59549125/changing-pages-with-react-hooks-resets-itself", "title": "Changing pages with React hooks (Resets itself)", "body": "<p>I am trying to control what question is displayed in a function that acts as a long form using Hooks. I am using use and setState. The first two pages work with no problem but then on the third click the third page ends up flashing on the screen for a second and the program goes back to 0. I don't understand what is causing this. </p>\n\n<pre><code>import React, { useState } from 'react';\nimport './Form.css';\nfunction Form() {\nconst [page, setPage] = useState(0);\nconst [firstName, setFirstName] = useState('');\nconst [lastName, setLastName] = useState('');\nconst [password, setPassword] = useState('');\nconst [email, setEmail] = useState('');\n\nif (page === 0 ){\nreturn (\n  &lt;div&gt;\n    &lt;p&gt;{page}&lt;/p&gt;\n      &lt;h1&gt; Hello, I am Adiona.&lt;/h1&gt;\n      &lt;p&gt;You clicked {page} times&lt;/p&gt;\n      &lt;button onClick={() =&gt; setPage(page + 1)}&gt;\n       Click me\n      &lt;/button&gt;\n  &lt;/div&gt;\n );\n};\n\nif (page === 1 ){\n  return (\n    &lt;div&gt;\n      &lt;p&gt;{page}&lt;/p&gt;\n      &lt;h1 &gt;Welcome to Adiona. Fill out this section to create your account.&lt;/h1&gt;\n      &lt;form class = 'Initial'&gt;\n      &lt;input id = 'First Name' placeHolder='First Name' type = 'text' onChange={(e)=&gt;setFirstName(e)}/&gt;\n      &lt;input id = 'Last Name' placeHolder='Last Name' type = 'text' onChange={(e)=&gt;setLastName(e)}/&gt;\n      &lt;input id = 'Email' placeHolder='Email' type = 'text' onChange={(e)=&gt;setEmail(e)}/&gt;\n      &lt;input id = 'Password' placeHolder='Password' type = 'text' onChange={(e)=&gt;setPassword(e)}/&gt;\n         &lt;button value = 'Back' onClick={() =&gt; setPage(prevPage =&gt; prevPage - 1)}&gt;\n         Back\n         &lt;/button&gt;\n         &lt;p&gt;You clicked {page} times&lt;/p&gt;\n         &lt;button onClick={() =&gt; setPage(page + 1)}&gt;\n           Click me\n         &lt;/button&gt;\n      &lt;/form&gt;\n    &lt;/div&gt;\n  );\n};\n\nif (page === 2) {\n  return(\n    &lt;div&gt;\n    &lt;h1&gt; hello &lt;/h1&gt;\n    &lt;/div&gt;\n  );\n};\n\n};\nexport default Form\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "eslint", "storybook"], "comments": [{"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1577835269, "post_id": 59549122, "comment_id": 105267347, "body": "Have you seen this? <a href=\"https://github.com/typescript-eslint/typescript-eslint/issues/379\" rel=\"nofollow noreferrer\">github.com/typescript-eslint/typescript-eslint/issues/379</a> Also, if you can find the json file for you eslint, you can just add the rule to see if that resolves."}, {"owner": {"reputation": 13318, "user_id": 1815710, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dddf39759fed431cd1e8ecad2aa7dc49?s=128&d=identicon&r=PG", "display_name": "Liondancer", "link": "https://stackoverflow.com/users/1815710/liondancer"}, "reply_to_user": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1577835436, "post_id": 59549122, "comment_id": 105267368, "body": "@mwilson With <code>create-react-app</code> I think the <code>.eslintrc</code> file is hidden from me. So I just have to find that JSON file and add the rule?"}, {"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1577835539, "post_id": 59549122, "comment_id": 105267378, "body": "Yea, I&#39;m not sure if that app uses something different, but usually there is a file called <code>tslint.json</code> which is just a json file with TypeScript lint rules. If you have this in a repo somewhere, I can take a look"}, {"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1577835650, "post_id": 59549122, "comment_id": 105267391, "body": "The error message is kind of confusing though. ES screams JavaScript, but <code>no-implicit-any</code> is a TypeScript thing. Since it&#39;s hanging off the <code>@typescript-eslint</code> path, I&#39;m assuming you&#39;re working with TypeScript"}, {"owner": {"reputation": 13318, "user_id": 1815710, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dddf39759fed431cd1e8ecad2aa7dc49?s=128&d=identicon&r=PG", "display_name": "Liondancer", "link": "https://stackoverflow.com/users/1815710/liondancer"}, "reply_to_user": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1577836043, "post_id": 59549122, "comment_id": 105267433, "body": "@mwilson yes I am! Still trying to find these files. I haven&#39;t created them manually, so I assume they&#39;re generated somewhere"}, {"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1577836391, "post_id": 59549122, "comment_id": 105267486, "body": "It should be at the root. According to the docs, I think you&#39;re looking for <code>.eslintrc.js</code> (<a href=\"https://github.com/typescript-eslint/typescript-eslint/blob/master/docs/getting-started/linting/README.md\" rel=\"nofollow noreferrer\">github.com/typescript-eslint/typescript-eslint/blob/master/&zwnj;&#8203;docs/&hellip;</a>)"}, {"owner": {"reputation": 13318, "user_id": 1815710, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dddf39759fed431cd1e8ecad2aa7dc49?s=128&d=identicon&r=PG", "display_name": "Liondancer", "link": "https://stackoverflow.com/users/1815710/liondancer"}, "reply_to_user": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1577837034, "post_id": 59549122, "comment_id": 105267551, "body": "@mwilson I am still getting the same error even after adding the <code>.eslintrc.js</code> file to the root of my project. My project runs fine on it&#39;s own but with <code>yarn storybook</code> this error is produced"}, {"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1577837288, "post_id": 59549122, "comment_id": 105267580, "body": "Looks like there should be a <code>.eslintrc.json</code> file as well (this is the thing that should hold the rules). Do you see that? (<a href=\"https://eslint.org/docs/user-guide/configuring\" rel=\"nofollow noreferrer\">eslint.org/docs/user-guide/configuring</a>)"}, {"owner": {"reputation": 13318, "user_id": 1815710, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dddf39759fed431cd1e8ecad2aa7dc49?s=128&d=identicon&r=PG", "display_name": "Liondancer", "link": "https://stackoverflow.com/users/1815710/liondancer"}, "reply_to_user": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 1, "creation_date": 1577856353, "post_id": 59549122, "comment_id": 105269291, "body": "@mwilson I added .eslintrc.json and it worked! You answer the question and I will mark it! Thank you!"}], "answers": [{"tags": [], "owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "is_accepted": true, "score": 3, "last_activity_date": 1577916959, "creation_date": 1577916959, "answer_id": 59556532, "question_id": 59549122, "link": "https://stackoverflow.com/questions/59549122/definition-for-rule-typescript-eslint-no-implicit-any-was-not-found-with-stor/59556532#59556532", "title": "Definition for rule &#39;@typescript-eslint/no-implicit-any&#39; was not found with Storybook js", "body": "<p>It sounds like you're missing the <code>.eslintrc.json</code> file which describes the rules. You can read more about the file format and options here: <a href=\"https://eslint.org/docs/user-guide/configuring\" rel=\"nofollow noreferrer\">https://eslint.org/docs/user-guide/configuring</a></p>\n\n<p>Example:</p>\n\n<pre><code>{\n    \"parserOptions\": {\n        \"ecmaVersion\": 6,\n        \"sourceType\": \"module\",\n        \"ecmaFeatures\": {\n            \"jsx\": true\n        }\n    },\n    \"rules\": {\n        \"semi\": \"error\"\n    }\n}\n</code></pre>\n\n<p>If the error still occurs, try configuring the <code>no-implicit-any</code> rule. </p>\n"}], "owner": {"reputation": 13318, "user_id": 1815710, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dddf39759fed431cd1e8ecad2aa7dc49?s=128&d=identicon&r=PG", "display_name": "Liondancer", "link": "https://stackoverflow.com/users/1815710/liondancer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4221, "favorite_count": 2, "accepted_answer_id": 59556532, "answer_count": 1, "score": 2, "last_activity_date": 1577916959, "creation_date": 1577834997, "last_edit_date": 1577849163, "question_id": 59549122, "link": "https://stackoverflow.com/questions/59549122/definition-for-rule-typescript-eslint-no-implicit-any-was-not-found-with-stor", "title": "Definition for rule &#39;@typescript-eslint/no-implicit-any&#39; was not found with Storybook js", "body": "<p>I am getting this error when I make changes to the generated code from running <code>Storybook.js</code>. These are the instructions I am following</p>\n\n<p><a href=\"https://gist.github.com/shilman/bc9cbedb2a7efb5ec6710337cbd20c0c\" rel=\"nofollow noreferrer\">https://gist.github.com/shilman/bc9cbedb2a7efb5ec6710337cbd20c0c</a></p>\n\n<p>But because I am adding <code>StorybookJS</code> to an existing project, the only commands I've ran are:</p>\n\n<pre><code>$ npx -p @storybook/cli@next sb init --story-format=csf-ts\n$ yarn add @storybook/addon-docs@next --dev\n</code></pre>\n\n<p>Running <code>yarn storybook</code> produces this error. </p>\n\n<pre><code>ERROR in ./src/stories/0-Welcome.stories.tsx\nModule Error (from ./node_modules/eslint-loader/dist/cjs.js):\n\n  Line 5:1:   Definition for rule '@typescript-eslint/no-implicit-any' was not found  @typescript-eslint/no-implicit-any\n  Line 24:1:  Definition for rule '@typescript-eslint/no-implicit-any' was not found  @typescript-eslint/no-implicit-any\n</code></pre>\n\n<p>The storybook server runs fine but as soon as I make changes to some text and <code>Storybook</code> tries to reload the changes, I get the error seen above.</p>\n\n<p>There is a lot of magic that happens behind the scenes of <code>create-react-app</code> so I am unaware of how to pinpoint and fix this error. My guess is that a <code>eslint typescript rule</code> is missing so upon <code>Storybook</code> reloading any type of change, the missing rule error occurs</p>\n\n<p><a href=\"https://i.stack.imgur.com/tKMjm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tKMjm.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "typescript", "floating-point"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 4, "creation_date": 1577835101, "post_id": 59549115, "comment_id": 105267332, "body": "Your data should contain <i>numbers</i>, not strings with numbers in them, ideally. And what you&#39;re seeing is normal computer (not just JavaScript) floating-point math."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1577839250, "post_id": 59549115, "comment_id": 105267776, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken\">Is floating point math broken?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 10697827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76311db7b289ce06c061d267ee2697d5?s=128&d=identicon&r=PG&f=1", "display_name": "Invic18", "link": "https://stackoverflow.com/users/10697827/invic18"}, "edited": false, "score": 0, "creation_date": 1577902832, "post_id": 59549195, "comment_id": 105278512, "body": "this did work for a bit but when I hooked it into my pie chart some of the floating points added  excess numbers behind the decimal. I think the roundDigit function that the other guy provided protected against this. Thanks for your submission though!"}], "tags": [], "owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "is_accepted": false, "score": 1, "last_activity_date": 1577836311, "creation_date": 1577836311, "answer_id": 59549195, "question_id": 59549115, "link": "https://stackoverflow.com/questions/59549115/sum-of-floating-point-numbers-in-objects-typescript/59549195#59549195", "title": "Sum of Floating Point numbers in Objects. ( Typescript )", "body": "<p>You can use your current dataset and run it through an <code>Array.reduce</code> function so add your numbers up. I'm a little unclear on the desired output so the below example spits out an object of protein, carbs, fat and calories.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [{\"upload_date\":\"2019-12-31T21:41:42.943Z\",\"item\":\"hot_dog\",\"protein_content\":\"10.00\",\"carb_content\":\"25.00\",\"fat_content\":\"15.00\",\"calories\":\"1170.00\"},{\"upload_date\":\"2019-12-31T21:41:56.604Z\",\"item\":\"fried_rice\",\"protein_content\":\"3.50\",\"carb_content\":\"64.30\",\"fat_content\":\"28.00\",\"calories\":\"2188.00\"},{\"upload_date\":\"2019-12-31T21:43:06.372Z\",\"item\":\"greek_salad\",\"protein_content\":\"6.60\",\"carb_content\":\"10.30\",\"fat_content\":\"19.40\",\"calories\":\"1079.00\"},{\"upload_date\":\"2019-12-31T21:42:56.577Z\",\"item\":\"fried_rice\",\"protein_content\":\"3.50\",\"carb_content\":\"64.30\",\"fat_content\":\"28.00\",\"calories\":\"2188.00\"},{\"upload_date\":\"2019-12-31T21:42:45.559Z\",\"item\":\"steak\",\"protein_content\":\"25.10\",\"carb_content\":\"0.00\",\"fat_content\":\"0.50\",\"calories\":\"445.00\"},{\"upload_date\":\"2019-12-31T21:42:28.609Z\",\"item\":\"hot_dog\",\"protein_content\":\"10.00\",\"carb_content\":\"25.00\",\"fat_content\":\"15.00\",\"calories\":\"1170.00\"},{\"upload_date\":\"2019-12-31T21:42:15.793Z\",\"item\":\"steak\",\"protein_content\":\"25.10\",\"carb_content\":\"0.00\",\"fat_content\":\"0.50\",\"calories\":\"445.00\"},{\"upload_date\":\"2019-12-31T21:42:05.049Z\",\"item\":\"greek_salad\",\"protein_content\":\"6.60\",\"carb_content\":\"10.30\",\"fat_content\":\"19.40\",\"calories\":\"1079.00\"}];\r\n\r\nconst result = data.reduce( (acc, curr) =&gt; {\r\n  acc.protein_content += parseFloat(curr['protein_content']);\r\n  acc.carb_content += parseFloat(curr['carb_content']);\r\n  acc.fat_content += parseFloat(curr['fat_content']);\r\n  acc.calories += parseFloat(curr['calories']);\r\n  return acc;\r\n}, {protein_content: 0, carb_content: 0, fat_content: 0, calories: 0});\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 97, "user_id": 10697827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76311db7b289ce06c061d267ee2697d5?s=128&d=identicon&r=PG&f=1", "display_name": "Invic18", "link": "https://stackoverflow.com/users/10697827/invic18"}, "edited": false, "score": 0, "creation_date": 1577902713, "post_id": 59549251, "comment_id": 105278481, "body": "This one worked basically out of the box for me. The other example although an improvement required me to make some modifications but ultimately I had some extra floating point numbers when hooked into my pie chart. Thanks @pascalpuetz"}], "tags": [], "owner": {"reputation": 4134, "user_id": 6513723, "user_type": "registered", "profile_image": "https://graph.facebook.com/1164703250267724/picture?type=large", "display_name": "pascalpuetz", "link": "https://stackoverflow.com/users/6513723/pascalpuetz"}, "is_accepted": true, "score": 1, "last_activity_date": 1577837544, "creation_date": 1577837544, "answer_id": 59549251, "question_id": 59549115, "link": "https://stackoverflow.com/questions/59549115/sum-of-floating-point-numbers-in-objects-typescript/59549251#59549251", "title": "Sum of Floating Point numbers in Objects. ( Typescript )", "body": "<p>JavaScript floating point math is subject to inacuracies, as you can see in <a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken\">this issue</a>.</p>\n\n<p>You can just round to the desired digit by using the following:</p>\n\n<pre><code>const dietInfo =  [{\"upload_date\":\"2019-12-31T21:41:42.943Z\",\"item\":\"hot_dog\",\"protein_content\":\"10.00\",\"carb_content\":\"25.00\",\"fat_content\":\"15.00\",\"calories\":\"1170.00\"},{\"upload_date\":\"2019-12-31T21:41:56.604Z\",\"item\":\"fried_rice\",\"protein_content\":\"3.50\",\"carb_content\":\"64.30\",\"fat_content\":\"28.00\",\"calories\":\"2188.00\"},{\"upload_date\":\"2019-12-31T21:43:06.372Z\",\"item\":\"greek_salad\",\"protein_content\":\"6.60\",\"carb_content\":\"10.30\",\"fat_content\":\"19.40\",\"calories\":\"1079.00\"},{\"upload_date\":\"2019-12-31T21:42:56.577Z\",\"item\":\"fried_rice\",\"protein_content\":\"3.50\",\"carb_content\":\"64.30\",\"fat_content\":\"28.00\",\"calories\":\"2188.00\"},{\"upload_date\":\"2019-12-31T21:42:45.559Z\",\"item\":\"steak\",\"protein_content\":\"25.10\",\"carb_content\":\"0.00\",\"fat_content\":\"0.50\",\"calories\":\"445.00\"},{\"upload_date\":\"2019-12-31T21:42:28.609Z\",\"item\":\"hot_dog\",\"protein_content\":\"10.00\",\"carb_content\":\"25.00\",\"fat_content\":\"15.00\",\"calories\":\"1170.00\"},{\"upload_date\":\"2019-12-31T21:42:15.793Z\",\"item\":\"steak\",\"protein_content\":\"25.10\",\"carb_content\":\"0.00\",\"fat_content\":\"0.50\",\"calories\":\"445.00\"},{\"upload_date\":\"2019-12-31T21:42:05.049Z\",\"item\":\"greek_salad\",\"protein_content\":\"6.60\",\"carb_content\":\"10.30\",\"fat_content\":\"19.40\",\"calories\":\"1079.00\"}];\n\nconst {protein, calories, carbs, fat} = dietInfo.reduce((res, entry) =&gt; ({ \n     res.protein += +entry.protein_content, // The \"+\" operator transforms a string containing a number to an actual number\n     res.calories += +entry.calories\n     res.carbs += +entry.carbs_content,\n     res.fat += +entry.fat_content\n}), {protein: 0, calories: 0, carbs: 0, fat: 0});\n\n// Function to round to a specific digit or less\nconst roundToDigit = (num, digits) =&gt; (Math.round(num * Math.pow(10, digits) + Number.EPSILON) / Math.pow(10, digits)); \n\nthis.protein = roundToDigit(protein, 1);\nthis.calories = roundToDigit(calories, 1);\nthis.carbs = roundToDigit(carbs, 1);\nthis.fat = roundToDigit(fat, 1);\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 10697827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76311db7b289ce06c061d267ee2697d5?s=128&d=identicon&r=PG&f=1", "display_name": "Invic18", "link": "https://stackoverflow.com/users/10697827/invic18"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 59549251, "answer_count": 2, "score": 0, "last_activity_date": 1577837544, "creation_date": 1577834900, "question_id": 59549115, "link": "https://stackoverflow.com/questions/59549115/sum-of-floating-point-numbers-in-objects-typescript", "title": "Sum of Floating Point numbers in Objects. ( Typescript )", "body": "<p>I am trying to get the sum my floating point values, I am getting very weird output like 8 decimal places and other undesired results. What I want to do is just add all the objects protein values for example into a sum i.e 200.1</p>\n\n<p>**</p>\n\n<h2>DATA</h2>\n\n<p>**</p>\n\n<p>**</p>\n\n<pre><code>[{\"upload_date\":\"2019-12-31T21:41:42.943Z\",\"item\":\"hot_dog\",\"protein_content\":\"10.00\",\"carb_content\":\"25.00\",\"fat_content\":\"15.00\",\"calories\":\"1170.00\"},{\"upload_date\":\"2019-12-31T21:41:56.604Z\",\"item\":\"fried_rice\",\"protein_content\":\"3.50\",\"carb_content\":\"64.30\",\"fat_content\":\"28.00\",\"calories\":\"2188.00\"},{\"upload_date\":\"2019-12-31T21:43:06.372Z\",\"item\":\"greek_salad\",\"protein_content\":\"6.60\",\"carb_content\":\"10.30\",\"fat_content\":\"19.40\",\"calories\":\"1079.00\"},{\"upload_date\":\"2019-12-31T21:42:56.577Z\",\"item\":\"fried_rice\",\"protein_content\":\"3.50\",\"carb_content\":\"64.30\",\"fat_content\":\"28.00\",\"calories\":\"2188.00\"},{\"upload_date\":\"2019-12-31T21:42:45.559Z\",\"item\":\"steak\",\"protein_content\":\"25.10\",\"carb_content\":\"0.00\",\"fat_content\":\"0.50\",\"calories\":\"445.00\"},{\"upload_date\":\"2019-12-31T21:42:28.609Z\",\"item\":\"hot_dog\",\"protein_content\":\"10.00\",\"carb_content\":\"25.00\",\"fat_content\":\"15.00\",\"calories\":\"1170.00\"},{\"upload_date\":\"2019-12-31T21:42:15.793Z\",\"item\":\"steak\",\"protein_content\":\"25.10\",\"carb_content\":\"0.00\",\"fat_content\":\"0.50\",\"calories\":\"445.00\"},{\"upload_date\":\"2019-12-31T21:42:05.049Z\",\"item\":\"greek_salad\",\"protein_content\":\"6.60\",\"carb_content\":\"10.30\",\"fat_content\":\"19.40\",\"calories\":\"1079.00\"}]\n</code></pre>\n\n<h2>CODE</h2>\n\n<p>**</p>\n\n<pre><code>for(let i = 0; i &lt; dietInfo.length; i++) {\n     this.protein +=  dietInfo[i].protein_content\n     this.calories += parseFloat(dietInfo[i].calories)\n     this.carbs += parseFloat(dietInfo[i].carbs_content)\n     this.fat += parseFloat(dietInfo[i].fat_content)\n    //  this.protein = parseFloat(this.protein).toFixed(1)\n}\nconsole.log('before:', this.protein);\n// round of inaccuracies, assuming decimals\nthis.protein = Math.round(this.protein*100000000)/100000000;\nconsole.log('after:', this.protein);\n</code></pre>\n"}, {"tags": ["javascript", "phaser-framework"], "comments": [{"owner": {"reputation": 6095, "user_id": 1274820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/620aa435151f022b9c4070eae088d788?s=128&d=identicon&r=PG", "display_name": "user1274820", "link": "https://stackoverflow.com/users/1274820/user1274820"}, "edited": false, "score": 0, "creation_date": 1577835000, "post_id": 59549076, "comment_id": 105267319, "body": "This thread may be helpful <a href=\"https://www.html5gamedevs.com/topic/38533-angle-to-mouse-pointer-on-phaser-3/\" rel=\"nofollow noreferrer\">html5gamedevs.com/topic/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 952, "user_id": 4966930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oD0C1.png?s=128&g=1", "display_name": "brae", "link": "https://stackoverflow.com/users/4966930/brae"}, "is_accepted": true, "score": 1, "last_activity_date": 1577994348, "creation_date": 1577994348, "answer_id": 59569133, "question_id": 59549076, "link": "https://stackoverflow.com/questions/59549076/how-to-make-bullet-move-in-direction-of-cursor-in-phaser-3/59569133#59569133", "title": "How to make bullet move in direction of cursor in Phaser 3?", "body": "<p>In Phaser, velocity is basically the speed at which your object travels towards an unspecified point. You are setting the velocity of your projectile to the distance between the object and the cursor, so when the cursor is further from the object it will have a higher velocity and thus, move faster. </p>\n\n<p>Instead, you want to find the position of the cursor and set your projectile object moving towards that point. Since you're using <code>setVelocityX()</code> I'm assuming you are using a built-in physics library, so it should be as simple as this:</p>\n\n<pre><code>this.physics.moveTo(this.projectile_sprite, this.game.input.mousePointer.x,\n  this.game.input.mousePointer.y);\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 12634285, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-usOaRH9sqhA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfgfpcZQI1n7s9Y9wfmB5V0BW85TA/photo.jpg?sz=128", "display_name": "xXproHacker", "link": "https://stackoverflow.com/users/12634285/xxprohacker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "accepted_answer_id": 59569133, "answer_count": 1, "score": 0, "last_activity_date": 1577994348, "creation_date": 1577834169, "question_id": 59549076, "link": "https://stackoverflow.com/questions/59549076/how-to-make-bullet-move-in-direction-of-cursor-in-phaser-3", "title": "How to make bullet move in direction of cursor in Phaser 3?", "body": "<p>I am creating a 2D game and trying to make bullet move towards the cursor. I'm not sure how to do this is what I cuurently have</p>\n\n<pre><code>let xDist = this.game.input.mousePointer.x - this.x;\nlet yDist = this.game.input.mousePointer.y - this.y;\nlet angle = Math.atan(yDist/xDist);\n\nthis.projectile_sprite.setVelocityX(yDist);\nthis.projectile_sprite.setVelocityY(xDist);\n</code></pre>\n\n<p>The projectile moves faster when its further away which is not what I desire. How do I fix this?</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 1193, "user_id": 2614805, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/100000416337806/picture?type=large", "display_name": "Marios Nikolaou", "link": "https://stackoverflow.com/users/2614805/marios-nikolaou"}, "edited": false, "score": 1, "creation_date": 1577834168, "post_id": 59549049, "comment_id": 105267196, "body": "Can you post less code and more meaningful?"}, {"owner": {"reputation": 75, "user_id": 8821405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2eda39a917de6bef88ab66788796c985?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandra", "link": "https://stackoverflow.com/users/8821405/alexandra"}, "reply_to_user": {"reputation": 1193, "user_id": 2614805, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/100000416337806/picture?type=large", "display_name": "Marios Nikolaou", "link": "https://stackoverflow.com/users/2614805/marios-nikolaou"}, "edited": false, "score": 0, "creation_date": 1577834528, "post_id": 59549049, "comment_id": 105267251, "body": "hi @MariosNikolaou just wanted to show what has been developed, I want 3 columns of text that are compared  and differences are shown. If you compare Base text vs new text that is working fine but I want same functionality for the 3rd text column"}, {"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1577835265, "post_id": 59549049, "comment_id": 105267346, "body": "This is a lot for anyone to come in and wrap their heads around. Can you be more specific with the issue you&#39;re having? Judging by your initial scope In order to even get started helping you we would have to build your environment from scratch and spend time sifting through the lengthy process (some of which works and some of which doesn&#39;t ) to figure out what&#39;s happening."}], "owner": {"reputation": 75, "user_id": 8821405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2eda39a917de6bef88ab66788796c985?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandra", "link": "https://stackoverflow.com/users/8821405/alexandra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577833677, "creation_date": 1577833677, "question_id": 59549049, "link": "https://stackoverflow.com/questions/59549049/using-javascript-to-do-comparison-of-user-inputs", "title": "Using Javascript to do comparison of user inputs", "body": "<p>I have the following code that is using 3 columns to check for difference in input values.\nThe third column difference in my view is generated fine but while viewing it the table is not displaying it.</p>\n\n<p>What is want to do is to compare base text with new text and thrid text input enteries and display the changes to user in inline or side by side format</p>\n\n<p><strong>index.html</strong> </p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge,chrome=1\"&gt;\n    &lt;title&gt;jsdifflib demo&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"diffview.css\"/&gt;\n    &lt;script type=\"text/javascript\" src=\"diffview.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"difflib.js\"&gt;&lt;/script&gt;\n&lt;style type=\"text/css\"&gt;\nbody {\n    font-size: 12px;\n    font-family: Sans-Serif,serif;\n}\nh2 {\n    margin: 0.5em 0 0.1em;\n    text-align: center;\n}\n.top {\n    text-align: center;\n}\n.textInput {\n    display: block;\n    width: 49%;\n    float: left;\n}\ntextarea {\n    width:100%;\n    height:300px;\n}\nlabel:hover {\n    text-decoration: underline;\n    cursor: pointer;\n}\n.spacer {\n    margin-left: 10px;\n}\n.viewType {\n    font-size: 16px;\n    clear: both;\n    text-align: center;\n    padding: 1em;\n}\n#diffoutput {\n    width: 100%;\n}\n&lt;/style&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n\nfunction diffUsingJS(viewType) {\n    \"use strict\";\n    var byId = function (id) { return document.getElementById(id); },\n        base = difflib.stringAsLines(byId(\"baseText\").value),\n        newtxt = difflib.stringAsLines(byId(\"newText\").value),\n            thirdText = difflib.stringAsLines(byId(\"3rdText\").value),\n        sm = new difflib.SequenceMatcher(base, newtxt, thirdText),\n        opcodes = sm.get_opcodes(),\n        diffoutputdiv = byId(\"diffoutput\"),\n        contextSize = byId(\"contextSize\").value;\n\n    diffoutputdiv.innerHTML = \"\";\n    contextSize = contextSize || null;\n\n    diffoutputdiv.appendChild(diffview.buildView({\n        baseTextLines: base,\n        newTextLines: newtxt,\n        thirdTextLines: thirdText,\n        opcodes: opcodes,\n        baseTextName: \"Base Text\",\n        newTextName: \"New Text\",\n        thirdTextName: \"Third Text\",\n        contextSize: contextSize,\n        viewType: viewType\n    }));\n}\n\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=\"top\"&gt;\n        &lt;strong&gt;Context size (optional):&lt;/strong&gt; &lt;input type=\"text\" id=\"contextSize\" value=\"\" /&gt;\n    &lt;/div&gt;\n    &lt;div class=\"textInput\"&gt;\n        &lt;h2&gt;Base Text&lt;/h2&gt;\n        &lt;textarea id=\"baseText\" &gt;a&lt;/textarea&gt;\n    &lt;/div&gt;\n    &lt;div class=\"textInput spacer\"&gt;\n        &lt;h2&gt;New Text&lt;/h2&gt;\n        &lt;textarea id=\"newText\"&gt;b&lt;/textarea&gt;\n    &lt;/div&gt;\n    &lt;div class=\"textInput spacer\"&gt;\n        &lt;h2&gt;3rd Text&lt;/h2&gt;\n        &lt;textarea id=\"3rdText\"&gt;c&lt;/textarea&gt;\n    &lt;/div&gt;\n    &lt;div class=\"viewType\"&gt;\n        &lt;input type=\"radio\" name=\"_viewtype\" id=\"sidebyside\" onclick=\"diffUsingJS(0);\" /&gt; &lt;label for=\"sidebyside\"&gt;Side by Side Diff&lt;/label&gt;\n        &amp;nbsp; &amp;nbsp;\n        &lt;input type=\"radio\" name=\"_viewtype\" id=\"inline\" onclick=\"diffUsingJS(1);\" /&gt; &lt;label for=\"inline\"&gt;Inline Diff&lt;/label&gt;\n    &lt;/div&gt;\n    &lt;div id=\"diffoutput\"&gt; &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>diffview.js</strong></p>\n\n<pre><code>var diffview = {\n\n        /**\n         * Builds and returns a visual diff view.  The single parameter, `params', should contain\n         * the following values:\n         *\n         * - baseTextLines: the array of strings that was used as the base text input to SequenceMatcher\n         * - newTextLines: the array of strings that was used as the new text input to SequenceMatcher\n         * - opcodes: the array of arrays returned by SequenceMatcher.get_opcodes()\n         * - baseTextName: the title to be displayed above the base text listing in the diff view; defaults\n         *     to \"Base Text\"\n         * - newTextName: the title to be displayed above the new text listing in the diff view; defaults\n         *     to \"New Text\"\n         * - contextSize: the number of lines of context to show around differences; by default, all lines\n         *     are shown\n         * - viewType: if 0, a side-by-side diff view is generated (default); if 1, an inline diff view is\n         *     generated\n         */\n        buildView: function (params) {\n            var baseTextLines = params.baseTextLines;\n            var newTextLines = params.newTextLines;\n            var thirdTextLines = params.thirdTextLines;\n            var opcodes = params.opcodes;\n            var baseTextName = params.baseTextName ? params.baseTextName : \"Base Text\";\n            var newTextName = params.newTextName ? params.newTextName : \"New Text\";\n            var thirdTextName = params.thirdTextName ? params.thirdTextName: \"Third Text\"\n            var contextSize = params.contextSize;\n            var inline = (params.viewType == 0 || params.viewType == 1) ? params.viewType : 0;\n\n            if (baseTextLines == null)\n                throw \"Cannot build diff view; baseTextLines is not defined.\";\n            if (newTextLines == null)\n                throw \"Cannot build diff view; newTextLines is not defined.\";\n            if (thirdTextLines == null)\n                throw \"Cannot build diff view; thirdTextLines is not defined.\";\n            if (!opcodes)\n                throw \"Canno build diff view; opcodes is not defined.\";\n\n            function celt (name, clazz) {\n                var e = document.createElement(name);\n                e.className = clazz;\n                return e;\n            }\n\n            function telt (name, text) {\n                var e = document.createElement(name);\n                e.appendChild(document.createTextNode(text));\n                return e;\n            }\n\n            function ctelt (name, clazz, text) {\n                var e = document.createElement(name);\n                e.className = clazz;\n                e.appendChild(document.createTextNode(text));\n                return e;\n            }\n\n            var tdata = document.createElement(\"thead\");\n            var node = document.createElement(\"tr\");\n            tdata.appendChild(node);\n            if (inline) {\n                node.appendChild(document.createElement(\"th\"));\n                node.appendChild(document.createElement(\"th\"));\n                node.appendChild(ctelt(\"th\", \"texttitle\", baseTextName + \" vs. \" + newTextName + \" vs. \" + thirdTextName));\n            } else {\n                node.appendChild(document.createElement(\"th\"));\n                node.appendChild(ctelt(\"th\", \"texttitle\", baseTextName));\n                node.appendChild(document.createElement(\"th\"));\n                node.appendChild(ctelt(\"th\", \"texttitle\", newTextName));\n                node.appendChild(document.createElement(\"th\"));\n                node.appendChild(ctelt(\"th\", \"texttitle\", thirdTextName));\n            }\n            tdata = [tdata];\n\n            var rows = [];\n            var node2;\n\n            /**\n             * Adds two cells to the given row; if the given row corresponds to a real\n             * line number (based on the line index tidx and the endpoint of the \n             * range in question tend), then the cells will contain the line number\n             * and the line of text from textLines at position tidx (with the class of\n             * the second cell set to the name of the change represented), and tidx + 1 will\n             * be returned.  Otherwise, tidx is returned, and two empty cells are added\n             * to the given row.\n             */\n            function addCells (row, tidx, tend, textLines, change) {\n                if (tidx &lt; tend) {\n                    row.appendChild(telt(\"th\", (tidx + 1).toString()));\n                    row.appendChild(ctelt(\"td\", change, textLines[tidx].replace(/\\t/g, \"\\u00a0\\u00a0\\u00a0\\u00a0\")));\n                    return tidx + 1;\n                } else {\n                    row.appendChild(document.createElement(\"th\"));\n                    row.appendChild(celt(\"td\", \"empty\"));\n                    return tidx;\n                }\n            }\n\n            function addCellsInline (row, tidx, tidx2, textLines, change) {\n                row.appendChild(telt(\"th\", tidx == null ? \"\" : (tidx + 1).toString()));\n                row.appendChild(telt(\"th\", tidx2 == null ? \"\" : (tidx2 + 1).toString()));\n                row.appendChild(ctelt(\"td\", change, textLines[tidx != null ? tidx : tidx2].replace(/\\t/g, \"\\u00a0\\u00a0\\u00a0\\u00a0\")));\n            }\n\n            for (var idx = 0; idx &lt; opcodes.length; idx++) {\n                code = opcodes[idx];\n                change = code[0];\n                var b = code[1];\n                var be = code[2];\n                var n = code[3];\n                var ne = code[4];\n                var rowcnt = Math.max(be - b, ne - n);\n                var toprows = [];\n                var botrows = [];\n                for (var i = 0; i &lt; rowcnt; i++) {\n                    // jump ahead if we've alredy provided leading context or if this is the first range\n                    if (contextSize &amp;&amp; opcodes.length &gt; 1 &amp;&amp; ((idx &gt; 0 &amp;&amp; i == contextSize) || (idx == 0 &amp;&amp; i == 0)) &amp;&amp; change==\"equal\") {\n                        var jump = rowcnt - ((idx == 0 ? 1 : 2) * contextSize);\n                        if (jump &gt; 1) {\n                            toprows.push(node = document.createElement(\"tr\"));\n\n                            b += jump;\n                            n += jump;\n                            i += jump - 1;\n                            node.appendChild(telt(\"th\", \"...\"));\n                            if (!inline) node.appendChild(ctelt(\"td\", \"skip\", \"\"));\n                            node.appendChild(telt(\"th\", \"...\"));\n                            node.appendChild(ctelt(\"td\", \"skip\", \"\"));\n\n                            // skip last lines if they're all equal\n                            if (idx + 1 == opcodes.length) {\n                                break;\n                            } else {\n                                continue;\n                            }\n                        }\n                    }\n\n                    toprows.push(node = document.createElement(\"tr\"));\n                    if (inline) {\n                        if (change == \"insert\") {\n                            addCellsInline(node, null, n++, newTextLines, change);\n                        } else if (change == \"replace\") {\n                            botrows.push(node2 = document.createElement(\"tr\"));\n                            if (b &lt; be) addCellsInline(node, b++, null, baseTextLines, \"delete\");\n                            if (n &lt; ne) addCellsInline(node2, null, n++, newTextLines, \"insert\");\n                            if (n &lt; ne) addCellsInline(node2, null, n++, thirdTextLines, \"insert\");\n\n                        } else if (change == \"delete\") {\n                            addCellsInline(node, b++, null, baseTextLines, change);\n                        } else {\n                            // equal\n                            addCellsInline(node, b++, n++, baseTextLines, change);\n                        }\n                    } else {\n                        b = addCells(node, b, be, baseTextLines, change);\n                        n = addCells(node, n, ne, newTextLines, change);\n                        n = addCells(node, n, ne, thirdTextLines, change);\n\n                    }\n                }\n\n                for (var i = 0; i &lt; toprows.length; i++) rows.push(toprows[i]);\n                for (var i = 0; i &lt; botrows.length; i++) rows.push(botrows[i]);\n            }\n\n\n\n            tdata.push(node = document.createElement(\"tbody\"));\n            for (var idx in rows) rows.hasOwnProperty(idx) &amp;&amp; node.appendChild(rows[idx]);\n\n            node = celt(\"table\", \"diff\" + (inline ? \" inlinediff\" : \"\"));\n            for (var idx in tdata) tdata.hasOwnProperty(idx) &amp;&amp; node.appendChild(tdata[idx]);\n            return node;\n        }\n    };\n</code></pre>\n\n<p><strong>difflib.js</strong></p>\n\n<pre><code>var __whitespace = {\" \":true, \"\\t\":true, \"\\n\":true, \"\\f\":true, \"\\r\":true};\n\nvar difflib = {\n    defaultJunkFunction: function (c) {\n        return __whitespace.hasOwnProperty(c);\n    },\n\n    stripLinebreaks: function (str) { return str.replace(/^[\\n\\r]*|[\\n\\r]*$/g, \"\"); },\n\n    stringAsLines: function (str) {\n        var lfpos = str.indexOf(\"\\n\");\n        var crpos = str.indexOf(\"\\r\");\n        var linebreak = ((lfpos &gt; -1 &amp;&amp; crpos &gt; -1) || crpos &lt; 0) ? \"\\n\" : \"\\r\";\n\n        var lines = str.split(linebreak);\n        for (var i = 0; i &lt; lines.length; i++) {\n            lines[i] = difflib.stripLinebreaks(lines[i]);\n        }\n\n        return lines;\n    },\n\n    // iteration-based reduce implementation\n    __reduce: function (func, list, initial) {\n        if (initial != null) {\n            var value = initial;\n            var idx = 0;\n        } else if (list) {\n            var value = list[0];\n            var idx = 1;\n        } else {\n            return null;\n        }\n\n        for (; idx &lt; list.length; idx++) {\n            value = func(value, list[idx]);\n        }\n\n        return value;\n    },\n\n    // comparison function for sorting lists of numeric tuples\n    __ntuplecomp: function (a, b) {\n        var mlen = Math.max(a.length, b.length);\n        for (var i = 0; i &lt; mlen; i++) {\n            if (a[i] &lt; b[i]) return -1;\n            if (a[i] &gt; b[i]) return 1;\n        }\n\n        return a.length == b.length ? 0 : (a.length &lt; b.length ? -1 : 1);\n    },\n\n    __calculate_ratio: function (matches, length) {\n        return length ? 2.0 * matches / length : 1.0;\n    },\n\n    // returns a function that returns true if a key passed to the returned function\n    // is in the dict (js object) provided to this function; replaces being able to\n    // carry around dict.has_key in python...\n    __isindict: function (dict) {\n        return function (key) { return dict.hasOwnProperty(key); };\n    },\n\n    // replacement for python's dict.get function -- need easy default values\n    __dictget: function (dict, key, defaultValue) {\n        return dict.hasOwnProperty(key) ? dict[key] : defaultValue;\n    },  \n\n    SequenceMatcher: function (a, b, c, isjunk) {\n\n        this.set_seqs = function (a, b, c, ) {\n\n\n            this.set_seq1(a);\n            this.set_seq2(b);\n            this.set_seq3(c);\n\n\n        }\n\n        this.set_seq1 = function (a) {\n            if (a == this.a) return;\n            this.a = a;\n            this.matching_blocks = this.opcodes = null;\n        }\n\n        this.set_seq2 = function (b) {\n            console.log(\"Value in set \", b)\n\n            if (b == this.b) return;\n            this.b = b;\n            this.matching_blocks = this.opcodes = this.fullbcount = null;\n            this.__chain_b();\n        }\n\n        this.set_seq3 = function (c) {\n            console.log(\"Value in set \", c)\n            if (c == this.c) return;\n            this.c = c;\n            this.matching_blocks = this.opcodes = this.fullbcount = null;\n            this.__chain_c();\n        }\n\n        this.__chain_c = function () {\n            console.log(\"This is \", this.c)\n            var c = this.c;\n            var n = c.length;\n            var c2j = this.c2j = {};\n            var populardict = {};\n            for (var i = 0; i &lt; c.length; i++) {\n                var celt = c[i];\n                if (c2j.hasOwnProperty(celt)) {\n                    var indices = c2j[elt];\n                    if (n &gt;= 200 &amp;&amp; indices.length * 100 &gt; n) {\n                        populardict[celt] = 1;\n                        delete c2j[celt];\n                    } else {\n                        indices.push(i);\n                    }\n                } else {\n                    c2j[celt] = [i];\n                }\n            }\n\n            for (var elt in populardict) {\n                if (populardict.hasOwnProperty(elt)) {\n                    delete c2j[elt];\n                }\n            }\n\n            var isjunk = this.isjunk;\n            var junkdict = {};\n            if (isjunk) {\n                for (var elt in populardict) {\n                    if (populardict.hasOwnProperty(elt) &amp;&amp; isjunk(elt)) {\n                        junkdict[elt] = 1;\n                        delete populardict[elt];\n                    }\n                }\n                for (var elt in c2j) {\n                    if (c2j.hasOwnProperty(elt) &amp;&amp; isjunk(elt)) {\n                        junkdict[elt] = 1;\n                        delete c2j[elt];\n                    }\n                }\n            }\n\n            this.iscjunk = difflib.__isindict(junkdict);\n            this.iscpopular = difflib.__isindict(populardict);\n        }\n\n\n\n        this.__chain_b = function () {\n            var b = this.b;\n            var n = b.length;\n            var b2j = this.b2j = {};\n            var populardict = {};\n            for (var i = 0; i &lt; b.length; i++) {\n                var elt = b[i];\n                if (b2j.hasOwnProperty(elt)) {\n                    var indices = b2j[elt];\n                    if (n &gt;= 200 &amp;&amp; indices.length * 100 &gt; n) {\n                        populardict[elt] = 1;\n                        delete b2j[elt];\n                    } else {\n                        indices.push(i);\n                    }\n                } else {\n                    b2j[elt] = [i];\n                }\n            }\n\n            for (var elt in populardict) {\n                if (populardict.hasOwnProperty(elt)) {\n                    delete b2j[elt];\n                }\n            }\n\n            var isjunk = this.isjunk;\n            var junkdict = {};\n            if (isjunk) {\n                for (var elt in populardict) {\n                    if (populardict.hasOwnProperty(elt) &amp;&amp; isjunk(elt)) {\n                        junkdict[elt] = 1;\n                        delete populardict[elt];\n                    }\n                }\n                for (var elt in b2j) {\n                    if (b2j.hasOwnProperty(elt) &amp;&amp; isjunk(elt)) {\n                        junkdict[elt] = 1;\n                        delete b2j[elt];\n                    }\n                }\n            }\n\n            this.isbjunk = difflib.__isindict(junkdict);\n            this.isbpopular = difflib.__isindict(populardict);\n        }\n\n        this.find_longest_match = function (alo, ahi, blo, bhi) {\n            var a = this.a;\n            var b = this.b;\n            var b2j = this.b2j;\n            var isbjunk = this.isbjunk;\n            var besti = alo;\n            var bestj = blo;\n            var bestsize = 0;\n            var j = null;\n            var k;\n\n            var j2len = {};\n            var nothing = [];\n            for (var i = alo; i &lt; ahi; i++) {\n                var newj2len = {};\n                var jdict = difflib.__dictget(b2j, a[i], nothing);\n                for (var jkey in jdict) {\n                    if (jdict.hasOwnProperty(jkey)) {\n                        j = jdict[jkey];\n                        if (j &lt; blo) continue;\n                        if (j &gt;= bhi) break;\n                        newj2len[j] = k = difflib.__dictget(j2len, j - 1, 0) + 1;\n                        if (k &gt; bestsize) {\n                            besti = i - k + 1;\n                            bestj = j - k + 1;\n                            bestsize = k;\n                        }\n                    }\n                }\n                j2len = newj2len;\n            }\n\n            while (besti &gt; alo &amp;&amp; bestj &gt; blo &amp;&amp; !isbjunk(b[bestj - 1]) &amp;&amp; a[besti - 1] == b[bestj - 1]) {\n                besti--;\n                bestj--;\n                bestsize++;\n            }\n\n            while (besti + bestsize &lt; ahi &amp;&amp; bestj + bestsize &lt; bhi &amp;&amp;\n                    !isbjunk(b[bestj + bestsize]) &amp;&amp;\n                    a[besti + bestsize] == b[bestj + bestsize]) {\n                bestsize++;\n            }\n\n            while (besti &gt; alo &amp;&amp; bestj &gt; blo &amp;&amp; isbjunk(b[bestj - 1]) &amp;&amp; a[besti - 1] == b[bestj - 1]) {\n                besti--;\n                bestj--;\n                bestsize++;\n            }\n\n            while (besti + bestsize &lt; ahi &amp;&amp; bestj + bestsize &lt; bhi &amp;&amp; isbjunk(b[bestj + bestsize]) &amp;&amp;\n                    a[besti + bestsize] == b[bestj + bestsize]) {\n                bestsize++;\n            }\n\n            return [besti, bestj, bestsize];\n        }\n\n        this.get_matching_blocks = function () {\n            if (this.matching_blocks != null) return this.matching_blocks;\n            var la = this.a.length;\n            var lb = this.b.length;\n\n            var queue = [[0, la, 0, lb]];\n            var matching_blocks = [];\n            var alo, ahi, blo, bhi, qi, i, j, k, x;\n            while (queue.length) {\n                qi = queue.pop();\n                alo = qi[0];\n                ahi = qi[1];\n                blo = qi[2];\n                bhi = qi[3];\n                x = this.find_longest_match(alo, ahi, blo, bhi);\n                i = x[0];\n                j = x[1];\n                k = x[2];\n\n                if (k) {\n                    matching_blocks.push(x);\n                    if (alo &lt; i &amp;&amp; blo &lt; j)\n                        queue.push([alo, i, blo, j]);\n                    if (i+k &lt; ahi &amp;&amp; j+k &lt; bhi)\n                        queue.push([i + k, ahi, j + k, bhi]);\n                }\n            }\n\n            matching_blocks.sort(difflib.__ntuplecomp);\n\n            var i1 = 0, j1 = 0, k1 = 0, block = 0;\n            var i2, j2, k2;\n            var non_adjacent = [];\n            for (var idx in matching_blocks) {\n                if (matching_blocks.hasOwnProperty(idx)) {\n                    block = matching_blocks[idx];\n                    i2 = block[0];\n                    j2 = block[1];\n                    k2 = block[2];\n                    if (i1 + k1 == i2 &amp;&amp; j1 + k1 == j2) {\n                        k1 += k2;\n                    } else {\n                        if (k1) non_adjacent.push([i1, j1, k1]);\n                        i1 = i2;\n                        j1 = j2;\n                        k1 = k2;\n                    }\n                }\n            }\n\n            if (k1) non_adjacent.push([i1, j1, k1]);\n\n            non_adjacent.push([la, lb, 0]);\n            this.matching_blocks = non_adjacent;\n            return this.matching_blocks;\n        }\n\n        this.get_opcodes = function () {\n            if (this.opcodes != null) return this.opcodes;\n            var i = 0;\n            var j = 0;\n            var answer = [];\n            this.opcodes = answer;\n            var block, ai, bj, size, tag;\n            var blocks = this.get_matching_blocks();\n            for (var idx in blocks) {\n                if (blocks.hasOwnProperty(idx)) {\n                    block = blocks[idx];\n                    ai = block[0];\n                    bj = block[1];\n                    size = block[2];\n                    tag = '';\n                    if (i &lt; ai &amp;&amp; j &lt; bj) {\n                        tag = 'replace';\n                    } else if (i &lt; ai) {\n                        tag = 'delete';\n                    } else if (j &lt; bj) {\n                        tag = 'insert';\n                    }\n                    if (tag) answer.push([tag, i, ai, j, bj]);\n                    i = ai + size;\n                    j = bj + size;\n\n                    if (size) answer.push(['equal', ai, i, bj, j]);\n                }\n            }\n\n            return answer;\n        }\n\n        // this is a generator function in the python lib, which of course is not supported in javascript\n        // the reimplementation builds up the grouped opcodes into a list in their entirety and returns that.\n        this.get_grouped_opcodes = function (n) {\n            if (!n) n = 3;\n            var codes = this.get_opcodes();\n            if (!codes) codes = [[\"equal\", 0, 1, 0, 1]];\n            var code, tag, i1, i2, j1, j2;\n            if (codes[0][0] == 'equal') {\n                code = codes[0];\n                tag = code[0];\n                i1 = code[1];\n                i2 = code[2];\n                j1 = code[3];\n                j2 = code[4];\n                codes[0] = [tag, Math.max(i1, i2 - n), i2, Math.max(j1, j2 - n), j2];\n            }\n            if (codes[codes.length - 1][0] == 'equal') {\n                code = codes[codes.length - 1];\n                tag = code[0];\n                i1 = code[1];\n                i2 = code[2];\n                j1 = code[3];\n                j2 = code[4];\n                codes[codes.length - 1] = [tag, i1, Math.min(i2, i1 + n), j1, Math.min(j2, j1 + n)];\n            }\n\n            var nn = n + n;\n            var group = [];\n            var groups = [];\n            for (var idx in codes) {\n                if (codes.hasOwnProperty(idx)) {\n                    code = codes[idx];\n                    tag = code[0];\n                    i1 = code[1];\n                    i2 = code[2];\n                    j1 = code[3];\n                    j2 = code[4];\n                    if (tag == 'equal' &amp;&amp; i2 - i1 &gt; nn) {\n                        group.push([tag, i1, Math.min(i2, i1 + n), j1, Math.min(j2, j1 + n)]);\n                        groups.push(group);\n                        group = [];\n                        i1 = Math.max(i1, i2-n);\n                        j1 = Math.max(j1, j2-n);\n                    }\n\n                    group.push([tag, i1, i2, j1, j2]);\n                }\n            }\n\n            if (group &amp;&amp; !(group.length == 1 &amp;&amp; group[0][0] == 'equal')) groups.push(group)\n\n            return groups;\n        }\n\n        this.ratio = function () {\n            matches = difflib.__reduce(\n                            function (sum, triple) { return sum + triple[triple.length - 1]; },\n                            this.get_matching_blocks(), 0);\n            return difflib.__calculate_ratio(matches, this.a.length + this.b.length);\n        }\n\n        this.quick_ratio = function () {\n            var fullbcount, elt;\n            if (this.fullbcount == null) {\n                this.fullbcount = fullbcount = {};\n                for (var i = 0; i &lt; this.b.length; i++) {\n                    elt = this.b[i];\n                    fullbcount[elt] = difflib.__dictget(fullbcount, elt, 0) + 1;\n                }\n            }\n            fullbcount = this.fullbcount;\n\n            var avail = {};\n            var availhas = difflib.__isindict(avail);\n            var matches = numb = 0;\n            for (var i = 0; i &lt; this.a.length; i++) {\n                elt = this.a[i];\n                if (availhas(elt)) {\n                    numb = avail[elt];\n                } else {\n                    numb = difflib.__dictget(fullbcount, elt, 0);\n                }\n                avail[elt] = numb - 1;\n                if (numb &gt; 0) matches++;\n            }\n\n            return difflib.__calculate_ratio(matches, this.a.length + this.b.length);\n        }\n\n        this.real_quick_ratio = function () {\n            var la = this.a.length;\n            var lb = this.b.length;\n            return _calculate_ratio(Math.min(la, lb), la + lb);\n        }\n\n        this.isjunk = isjunk ? isjunk : difflib.defaultJunkFunction;\n        this.a = this.b = null;\n        this.set_seqs(a, b, c);\n    }\n};\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "sequelize.js", "discord.js"], "answers": [{"tags": [], "owner": {"reputation": 412, "user_id": 5520593, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156275316355232/picture?type=large", "display_name": "Astrydax", "link": "https://stackoverflow.com/users/5520593/astrydax"}, "is_accepted": false, "score": 0, "last_activity_date": 1579157779, "creation_date": 1579157779, "answer_id": 59764420, "question_id": 59548989, "link": "https://stackoverflow.com/questions/59548989/making-an-f-bomb-counter-discord-bot-sequelize/59764420#59764420", "title": "Making an f bomb counter discord bot, Sequelize", "body": "<p>i don't recommend that guide. I suggest looking at this guide and adapting it to fit your needs.  <a href=\"https://anidiots.guide/coding-guides/sqlite-based-points-system\" rel=\"nofollow noreferrer\">https://anidiots.guide/coding-guides/sqlite-based-points-system</a></p>\n\n<p>This example counts every time a user sends any message, instead add an IF MESSAGE CONTAINS F-BOMB check, then add points.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user12628865"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1579157779, "creation_date": 1577832880, "question_id": 59548989, "link": "https://stackoverflow.com/questions/59548989/making-an-f-bomb-counter-discord-bot-sequelize", "title": "Making an f bomb counter discord bot, Sequelize", "body": "<p>I want to make an f bomb counter. So I was looking at the discordjs.guide on squelize and dbs and I honestly found it annoying because it was acting as if I already knew everything it was trying to teach. To me it just lacks a lot of explenation (I just get easily confused by a lot of things). What I want to do is have a database like so:</p>\n\n<pre><code>    host: 'localhost',\n    dialect: 'sqlite',\n    logging: false,\n    storage: 'database.sqlite',\n});\n\n\nconst Tags = sequelize.define('f_bombs', {\n    chatnname: {\n        type: Sequelize.STRING,\n        unique: true,\n    },\n    fbomb_count: {\n        type: Sequelize.INTEGER,\n        defaultValue: 0,\n        allowNull: false,\n    }, //&lt;- basically a db that holds an f_bomb count for each chat the bot is in\n\n//and then having something like this code below that interacts with the db I made, or somewhat made\n\nbot.on('message', message=&gt;{\n if(message.content.includes('fart')) {\n\n   f_bombs[message.guild.id]++; //f_bombs\n\n}\n}\n}); \n</code></pre>\n\n<p>However I don't know how to store a variable (that holds the f bomb count) for each discord server that uses the bot that doesn't resest every time I turn off the bot (that's why I want to use a database). If any one of you guys finds a website other than discordjs.guide that can help me, that will much appreciated!</p>\n"}, {"tags": ["javascript", "ecmascript-6", "babeljs"], "comments": [{"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1577833206, "post_id": 59548979, "comment_id": 105267084, "body": "Stop using <code>default</code> exports if you want to actually selectively import (which is what destructuring is). Or, if you absolutely need <code>default</code> exports, stop selectively importing and import the module as a namespace."}], "answers": [{"tags": [], "owner": {"reputation": 3958, "user_id": 11081214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b53d0cefd959372f49e84b943a1187f?s=128&d=identicon&r=PG&f=1", "display_name": "Snow", "link": "https://stackoverflow.com/users/11081214/snow"}, "is_accepted": true, "score": 1, "last_activity_date": 1577833143, "creation_date": 1577833143, "answer_id": 59549010, "question_id": 59548979, "link": "https://stackoverflow.com/questions/59548979/javascript-es6-import-destructuring-not-working/59549010#59549010", "title": "javascript es6: import destructuring not working", "body": "<p>Unfortunately, it's not possible to import a default export which is an object <em>and</em> destructure it at the same time, because that syntax clashes with the syntax of importing <em>named</em> exports from the other file. Your</p>\n\n<pre><code>import { Application } from '../records/application';\n</code></pre>\n\n<p>tries to import the <em>named export</em> named <code>Application</code> from the other file, but it has no such named export, so things break.</p>\n\n<p>The <code>{</code>s after <code>import</code> indicate that you're importing something that's named; no <code>{</code>s indicates that you're importing the default.</p>\n\n<p>You can import the default and destructure on the next line:</p>\n\n<pre><code>import FullApplication from '../records/application';\nconst { Application } = FullApplication;\n</code></pre>\n\n<p>If that other file really doesn't have anything else in it, it would make more sense to make the <code>Application</code> record the default export:</p>\n\n<pre><code>const Application = new Record({\n    'loaded': false,\n});\nexport default Application;\n</code></pre>\n\n<pre><code>import Application from '../records/application';\n</code></pre>\n\n<p>Or you could name the <code>Application</code> export, and have no default export:</p>\n\n<pre><code>export const Application = new Record({\n    'loaded': false,\n});\n</code></pre>\n\n<pre><code>import { Application } from '../records/application';\n</code></pre>\n"}], "owner": {"reputation": 325, "user_id": 12433319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e4683771a220ed05cd31658e9507ad0?s=128&d=identicon&r=PG&f=1", "display_name": "lispquestions", "link": "https://stackoverflow.com/users/12433319/lispquestions"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 1, "accepted_answer_id": 59549010, "answer_count": 1, "score": 0, "last_activity_date": 1577833143, "creation_date": 1577832791, "question_id": 59548979, "link": "https://stackoverflow.com/questions/59548979/javascript-es6-import-destructuring-not-working", "title": "javascript es6: import destructuring not working", "body": "<p>Have redux files set up in a <code>modules</code> folder:</p>\n\n<pre><code>\\modules\n    \\application\n        \\actions\n            application.js\n            index.js\n        \\records\n            application.js\n        \\reducers\n            application.js\n            index.js\n</code></pre>\n\n<p>My <code>application</code> record is an Immutable record that exports a default:</p>\n\n<pre><code>import {Record, List, Map, Set, OrderedMap} from 'immutable';\n\nconst Application = new Record({\n    'loaded': false,\n});\n\nexport default {\n    Application,\n};\n</code></pre>\n\n<p>In my <code>reducers/application.js</code> file, I destructure the export on import:</p>\n\n<pre><code>import {Record, List, Map, Set, OrderedMap} from 'immutable';\nimport { Application } from '../records/application';\n\nimport \n    APP_INITIALIZE\nfrom '../actions';\n\nconst initialAppState = new Application();\n\nexport default (state = initialAppState, action )=&gt; {\n    switch (action.type) {\n\n    case APP_INITIALIZE:\n        return state\n                .set('loaded', true);\n\n    default:\n        return state;\n    }\n};\n</code></pre>\n\n<p>I would expect this to work because <code>records/application.js</code> exports an object, which contains the immutable record. However, I get the following error:</p>\n\n<p><code>application.js:10 Uncaught TypeError: _records_application__WEBPACK_IMPORTED_MODULE_1__.Application is not a constructor</code></p>\n\n<p>And when I inspect the <code>Application</code> object inside <code>reducers/application.js</code>, I get <code>undefined</code>.</p>\n\n<p>My <code>.babelrc</code> file looks like this:</p>\n\n<pre><code>{\n  \"presets\": [\n    \"@babel/preset-react\",\n    [\"@babel/preset-env\", {\n      \"useBuiltIns\": \"usage\",\n      \"corejs\": 2,\n      \"targets\": {\n          \"firefox\": \"64\",\n          \"chrome\": \"58\",\n          \"ie\": \"11\",\n          \"electron\": \"4\"   \n      },\n    }]\n  ],\n  \"plugins\": [\n    \"@babel/plugin-proposal-class-properties\"\n  ]\n}\n</code></pre>\n\n<p>What am I doing wrong here?</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 1, "creation_date": 1577831264, "post_id": 59548838, "comment_id": 105266723, "body": "Please show your relevant HTML and CSS."}, {"owner": {"reputation": 8222, "user_id": 1291879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Umr9q.png?s=128&g=1", "display_name": "Tigger", "link": "https://stackoverflow.com/users/1291879/tigger"}, "edited": false, "score": 0, "creation_date": 1577833061, "post_id": 59548838, "comment_id": 105267066, "body": "Looks like you have access to the code, so just change <code>class=&quot;parallax-container break-grid&quot;</code> to your own <code>class</code>. For example, <code>class=&quot;parallax-container my-grid&quot;</code>."}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1577833588, "post_id": 59548838, "comment_id": 105267125, "body": "What does &quot;Is there a way to not apply certain CSS classes to a particular class&quot; even mean? That&#39;s... literally what CSS classes are? You define a CSS <code>.whatever</code> block of rules, and then that gets applied to whichever element uses <code>whatever</code> as one of its classes. If you don&#39;t want to apply it, don&#39;t have it in the element&#39;s class list?"}, {"owner": {"reputation": 570, "user_id": 5347656, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/50c696cb8d82b2701f5e9267a6a1a775?s=128&d=identicon&r=PG&f=1", "display_name": "frillybob", "link": "https://stackoverflow.com/users/5347656/frillybob"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1577834423, "post_id": 59548838, "comment_id": 105267240, "body": "@Mike&#39;Pomax&#39;Kamermans By have the class <code>.break-grid</code> nested inside of <code>.container</code> for instance, <code>.break-grid</code> gets <code>.container</code>&#39;s styles. I want to know how to exclude a nested element from getting that style without moving it out of the nesting."}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1577834650, "post_id": 59548838, "comment_id": 105267272, "body": "you&#39;re working with <i>cascading stylesheets</i>, the &quot;cascading&quot; part is kind of literally the whole point, so you don&#39;t get to &quot;not inherit&quot; styles. Instead of thinking in terms of &quot;not inheriting parent styles&quot;, think &quot;what needs to be set&quot;: just explicitly set each rule that you explicitly need for your element, and that will override what you inherit."}, {"owner": {"reputation": 570, "user_id": 5347656, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/50c696cb8d82b2701f5e9267a6a1a775?s=128&d=identicon&r=PG&f=1", "display_name": "frillybob", "link": "https://stackoverflow.com/users/5347656/frillybob"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1577835962, "post_id": 59548838, "comment_id": 105267425, "body": "@Mike&#39;Pomax&#39;Kamermans I realize that, however, I&#39;m using a CSS framework which means that these parent classes are black-boxed to me. I realize I can open up the css files for the framework, but that defeats the purpose of a framework in the first place - if I start poking around in implementation details. Additionally, I highly doubt it&#39;s just one or two things that constrain the grid, but a whole host of things making the solution brittle to framework updates."}], "answers": [{"tags": [], "owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "is_accepted": true, "score": 1, "last_activity_date": 1577836361, "creation_date": 1577836361, "answer_id": 59549198, "question_id": 59548838, "link": "https://stackoverflow.com/questions/59548838/do-not-apply-certain-css-class-styles-to-specific-class/59549198#59549198", "title": "Do not apply certain CSS class styles to specific class", "body": "<p>You can use the <code>:not()</code> CSS pseudo-class. <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/:not\" rel=\"nofollow noreferrer\">( On MDN )</a></p>\n\n<pre><code>  .container &gt; .row &gt; .col &gt; *:not(.parallax-container) { \n    //styling\n  }\n</code></pre>\n\n<p><strong>Note</strong>: realize this is a demonstration, I'm not going through every BootStrap property that would be applied innately, and you would have to do that yourself: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.container &gt; .row &gt; .col &gt; *:not(.parallax-container)  {\r\n background: rgba(0,0,255,.5);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"container\"&gt;\r\n  &lt;div class=\"row\"&gt;\r\n    &lt;div class=\"col\"&gt;\r\n\r\n      &lt;h1&gt;Things&lt;/h1&gt;\r\n     \r\n     // Do not apply here\r\n      &lt;div class=\"parallax-container break-grid\"&gt;\r\n        &lt;div class=\"parallax\"&gt;\r\n          &lt;span&gt;whatever&lt;/span&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n      \r\n\r\n      &lt;h2&gt;Stuff&lt;/h2&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p>Personally, I would advise you to listen to everyone else and just build this thing using Cascading styles. <code>:not</code> is an excellent tool, but I get the impression that you're likely to abuse it/over-rely on it and get yourself in a bind style-wise. </p>\n\n<p>In any case, good luck!</p>\n"}], "owner": {"reputation": 570, "user_id": 5347656, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/50c696cb8d82b2701f5e9267a6a1a775?s=128&d=identicon&r=PG&f=1", "display_name": "frillybob", "link": "https://stackoverflow.com/users/5347656/frillybob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 59549198, "answer_count": 1, "score": 1, "last_activity_date": 1577845559, "creation_date": 1577831173, "last_edit_date": 1577845559, "question_id": 59548838, "link": "https://stackoverflow.com/questions/59548838/do-not-apply-certain-css-class-styles-to-specific-class", "title": "Do not apply certain CSS class styles to specific class", "body": "<p>Is there a way to not apply certain CSS classes to a particular class or id? I have an image in a grid using the Materialize CSS framework. I would like it to break outside the grid and reach the corners of the screen. Essentially I want to exclude the <code>.container</code>, <code>.row</code>, and the <code>.col</code> css styles from a class called <code>.break-grid</code>. However, I would still like other styles to apply. (in this case <code>.parallax-container</code> and <code>.parallax</code>. </p>\n\n<p>Is there a better way to go about \"breaking out of the grid\" than the way I'm pursing? A pure CSS/HTML solution would be preferred but I am willing to use Javascript/Jquery to solve this as well. </p>\n\n<p>Here is a code sample of what I'm trying to do. I have no CSS as this is a css framework (I do not want to edit the framework). I would need css to fix change it I presume. </p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"container\"&gt;\n  &lt;div class=\"row\"&gt;\n    &lt;div class=\"col\"&gt;\n      &lt;!-- Apply here --&gt;\n      &lt;h1&gt;Things&lt;/h1&gt;\n      &lt;!-- Don't apply here --&gt;\n      &lt;div class=\"parallax-container break-grid\"&gt;\n        &lt;div class=\"parallax\"&gt;\n          &lt;%= image_tag('infos/home/test_parallax.jpg')%&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;!-- Apply here --&gt;\n      &lt;h2&gt;Stuff&lt;/h2&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "json"], "comments": [{"owner": {"reputation": 1101, "user_id": 6460856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/348ceb4cfb329409b99e1805cef9e382?s=128&d=identicon&r=PG&f=1", "display_name": "Swetank Poddar", "link": "https://stackoverflow.com/users/6460856/swetank-poddar"}, "edited": false, "score": 0, "creation_date": 1577831143, "post_id": 59548804, "comment_id": 105266702, "body": "I think you are supposed to delete the elements like this: delete user[&#39;password&#39;]"}, {"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1577831391, "post_id": 59548804, "comment_id": 105266742, "body": "Instead of using <code>delete user.password;</code> use <code>Reflect.deleteProperty(user, &quot;password&quot;);</code> then check if it returns <code>true</code>."}, {"owner": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "edited": false, "score": 2, "creation_date": 1577831476, "post_id": 59548804, "comment_id": 105266755, "body": "Above two comments are incorrect, see <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect/deleteProperty\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/delete\" rel=\"nofollow noreferrer\">here</a>. Asker&#39;s usage of delete is correct, the problem is probably code not shown."}, {"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "reply_to_user": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "edited": false, "score": 0, "creation_date": 1577831649, "post_id": 59548804, "comment_id": 105266798, "body": "@Klaycon what&#39;s incorrect about determining whether or not a property is actually deleted?"}, {"owner": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "reply_to_user": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 2, "creation_date": 1577831856, "post_id": 59548804, "comment_id": 105266847, "body": "@zfrisch <code>delete user.password</code> will also return <code>true</code> if the property is absolutely no longer on the object and <code>false</code> otherwise, having to use Reflect is wholly unnecessary and verbose"}, {"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "reply_to_user": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "edited": false, "score": 0, "creation_date": 1577832762, "post_id": 59548804, "comment_id": 105267018, "body": "@Klaycon Hm. You&#39;re right. The literal text on it states <b>Returns A Boolean indicating whether or not the property was successfully deleted.</b>, and I guess that mislead me to believe it had... you know, accuracy, over <code>delete</code> ? lol. Though it does have the benefit of TypeErrors. One step in the right direction for the spec, but definitely a letdown."}, {"owner": {"reputation": 38170, "user_id": 57135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/S9roh.jpg?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/57135/joe"}, "edited": false, "score": 0, "creation_date": 1577886586, "post_id": 59548804, "comment_id": 105274646, "body": "The snippet shown should work.  You could confirm via a console log that the user object is as expected before being returned in the response.  Which would imply the error is elsewhere."}, {"owner": {"reputation": 9, "user_id": 5747082, "user_type": "registered", "profile_image": "https://graph.facebook.com/1714131952156778/picture?type=large", "display_name": "Muhammad Fayez", "link": "https://stackoverflow.com/users/5747082/muhammad-fayez"}, "edited": false, "score": 0, "creation_date": 1578039786, "post_id": 59548804, "comment_id": 105317304, "body": "the object user is returned from mongoose find query, I tested the delete method with another normal object via console and the results did well. but here can&#39;t see any action on user, does it because a special status in mongoose returned object or an async code exec."}], "answers": [{"comments": [{"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1577842953, "post_id": 59548839, "comment_id": 105268182, "body": "A very clever use of destructuring.  Will have to remember that one for copying most, but not all properties from an object."}], "tags": [], "owner": {"reputation": 3328, "user_id": 4821374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e32e968142f8750964d2370408cc4c53?s=128&d=identicon&r=PG&f=1", "display_name": "Rob Brander", "link": "https://stackoverflow.com/users/4821374/rob-brander"}, "is_accepted": false, "score": 1, "last_activity_date": 1577831220, "creation_date": 1577831220, "answer_id": 59548839, "question_id": 59548804, "link": "https://stackoverflow.com/questions/59548804/object-is-returned-the-same-although-im-mutating-it/59548839#59548839", "title": "Object is returned the same although I&#39;m mutating it", "body": "<p>You could create a new object without the password and use that in your response:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const { password, ...restOfUser } = user\n\nres.status(200).json({\n  status: true,\n  message: 'Authenticated!',\n  data: {\n    token\n    user: restOfUser\n  }\n})\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 5747082, "user_type": "registered", "profile_image": "https://graph.facebook.com/1714131952156778/picture?type=large", "display_name": "Muhammad Fayez", "link": "https://stackoverflow.com/users/5747082/muhammad-fayez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1577832405, "creation_date": 1577830708, "last_edit_date": 1577831874, "question_id": 59548804, "link": "https://stackoverflow.com/questions/59548804/object-is-returned-the-same-although-im-mutating-it", "title": "Object is returned the same although I&#39;m mutating it", "body": "<p>The upcoming code snippet is removing the password attribute from the user JSON object and return it in response. what is happening is that the password attribute is still returning!</p>\n\n<pre><code>\nconst signin = (req, res, next) =&gt; {\n    let requestBody = req.body;\n\n    userModel.findUserByEmail(requestBody.email).then(user =&gt; {\n        bcrypt.compare(requestBody.password, user.password, (error, result) =&gt; {\n            if (!result) {\n                return res.status(500).json({\n                    status: false,\n                    message: 'Auth Failed!',\n                    error\n                });\n            }\n\n            if (error) {\n                return res.status(500).json({\n                    error\n                });\n            }\n\n            let token = jwt.sign({\n                email: user.email,\n                userId: user._id\n            }, \n            process.env.JWT_KEY, \n            {\n                expiresIn: \"2h\"\n            });\n\n            // remonve password key\n            delete user.password\n\n            res.status(200).json({\n                status: true,\n                message: 'Authenticated!',\n                data: {\n                    token,\n                    user\n                }\n            });\n        });\n\n    }).catch(error =&gt; {\n        return res.status(500).json({\n                status: false,\n                message: 'Auth Failed!',\n                error\n            });\n    });\n}\n</code></pre>\n\n<p>not sure the problem is related to async compilation or not</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 1101, "user_id": 6460856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/348ceb4cfb329409b99e1805cef9e382?s=128&d=identicon&r=PG&f=1", "display_name": "Swetank Poddar", "link": "https://stackoverflow.com/users/6460856/swetank-poddar"}, "edited": false, "score": 1, "creation_date": 1577830761, "post_id": 59548791, "comment_id": 105266649, "body": "I don&#39;t understand what you are trying to do. Are you trying to do &quot;listen&quot; when the value changes (when the box is ticked)?"}, {"owner": {"reputation": 1101, "user_id": 6460856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/348ceb4cfb329409b99e1805cef9e382?s=128&d=identicon&r=PG&f=1", "display_name": "Swetank Poddar", "link": "https://stackoverflow.com/users/6460856/swetank-poddar"}, "edited": false, "score": 0, "creation_date": 1577830846, "post_id": 59548791, "comment_id": 105266666, "body": "Also, the reason why it doesn&#39;t work after the first time is because the checkbox&#39;s value is never &quot;off&quot; and the query selector looks weird too."}, {"owner": {"reputation": 1954, "user_id": 10048799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43e3b78b616247e7b5a2fcfde299bcfb?s=128&d=identicon&r=PG&f=1", "display_name": "kaleidawave", "link": "https://stackoverflow.com/users/10048799/kaleidawave"}, "edited": false, "score": 1, "creation_date": 1577830847, "post_id": 59548791, "comment_id": 105266667, "body": "Not sure if you are getting the reference to the checkbox correctly. Try <code>var checkbox = document.querySelector(&quot;input[name=&#39;checkbox&#39;]&quot;)</code>"}, {"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1577830966, "post_id": 59548791, "comment_id": 105266687, "body": "<code>document.checkbox</code> won&#39;t work. If it&#39;s in a form and the form has a name you can do <code>document.formName.nameInForm</code>. But, I&#39;m not recommending using a form."}, {"owner": {"reputation": 21, "user_id": 12539013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2dd3cb20adbfc427db22c61e3a851f6e?s=128&d=identicon&r=PG&f=1", "display_name": "Philip Yeranosian", "link": "https://stackoverflow.com/users/12539013/philip-yeranosian"}, "reply_to_user": {"reputation": 1101, "user_id": 6460856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/348ceb4cfb329409b99e1805cef9e382?s=128&d=identicon&r=PG&f=1", "display_name": "Swetank Poddar", "link": "https://stackoverflow.com/users/6460856/swetank-poddar"}, "edited": false, "score": 0, "creation_date": 1577831160, "post_id": 59548791, "comment_id": 105266705, "body": "@SwetankPoddar in case &quot;on&quot; I set the checkbox value = &quot;off&quot;. Are you sure its never off?"}, {"owner": {"reputation": 1101, "user_id": 6460856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/348ceb4cfb329409b99e1805cef9e382?s=128&d=identicon&r=PG&f=1", "display_name": "Swetank Poddar", "link": "https://stackoverflow.com/users/6460856/swetank-poddar"}, "edited": false, "score": 1, "creation_date": 1577831275, "post_id": 59548791, "comment_id": 105266724, "body": "I think you are getting confused by how checkboxes work. If the checkbox is &quot;checked&quot; then it submits a value of &quot;on&quot; otherwise it doesn&#39;t submit/pass anything."}, {"owner": {"reputation": 21, "user_id": 12539013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2dd3cb20adbfc427db22c61e3a851f6e?s=128&d=identicon&r=PG&f=1", "display_name": "Philip Yeranosian", "link": "https://stackoverflow.com/users/12539013/philip-yeranosian"}, "edited": false, "score": 0, "creation_date": 1577831315, "post_id": 59548791, "comment_id": 105266731, "body": "I see. I can&#39;t use it like a radio button?"}, {"owner": {"reputation": 653, "user_id": 3393030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca9496d758234de62db0bdaeafa247c7?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan W.", "link": "https://stackoverflow.com/users/3393030/ryan-w"}, "edited": false, "score": 0, "creation_date": 1577831506, "post_id": 59548791, "comment_id": 105266765, "body": "YourInputVar.checked returns either true or false by design."}, {"owner": {"reputation": 1101, "user_id": 6460856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/348ceb4cfb329409b99e1805cef9e382?s=128&d=identicon&r=PG&f=1", "display_name": "Swetank Poddar", "link": "https://stackoverflow.com/users/6460856/swetank-poddar"}, "edited": false, "score": 1, "creation_date": 1577831621, "post_id": 59548791, "comment_id": 105266790, "body": "@PhilipYeranosian If you want to set the value as &quot;off&quot; if it is not checked, then simply check if its checked and if its not set the value for that parameter as &quot;off&quot;. And no you cannot use it as a radio button. There&#39;s a reason why radio and checkboxes exists! :D"}], "answers": [{"comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1577831527, "post_id": 59548848, "comment_id": 105266770, "body": "Spaces around <code>=</code> are perfectly fine in HTML."}, {"owner": {"reputation": 653, "user_id": 3393030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca9496d758234de62db0bdaeafa247c7?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan W.", "link": "https://stackoverflow.com/users/3393030/ryan-w"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1577831597, "post_id": 59548848, "comment_id": 105266788, "body": "it&#39;s a poor practice (not well formed) and linters will complain in many cases."}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1577831888, "post_id": 59548848, "comment_id": 105266855, "body": "<a href=\"https://www.w3.org/TR/2012/WD-html-markup-20120329/syntax.html#syntax-attr-unquoted\" rel=\"nofollow noreferrer\">Spaces are explicitly allowed in the HTML5 spec.</a> Linters can say what they want but it&#39;s perfectly fine to surround the <code>=</code> with spaces."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1577832194, "post_id": 59548848, "comment_id": 105266906, "body": "@RyanW. Spaces in HTML do not make the document not well-formed."}, {"owner": {"reputation": 653, "user_id": 3393030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca9496d758234de62db0bdaeafa247c7?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan W.", "link": "https://stackoverflow.com/users/3393030/ryan-w"}, "edited": false, "score": 0, "creation_date": 1577832424, "post_id": 59548848, "comment_id": 105266954, "body": "Are you referring to semantic structure? If so, you can have poorly formed DOM structures with errors that is semantically correct."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1577968167, "post_id": 59548848, "comment_id": 105294367, "body": "I&#39;m not sure you are aware of the meaning of &quot;well-formed&quot; when referring to a markup language. Semantics have nothing to do with it. Spaces do not impact whether the markup is well-formed or not. Their use is simply a matter of preference, on which people (and linters) can disagree, but that doesn&#39;t change the fact that it&#39;s perfectly acceptable code."}, {"owner": {"reputation": 653, "user_id": 3393030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca9496d758234de62db0bdaeafa247c7?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan W.", "link": "https://stackoverflow.com/users/3393030/ryan-w"}, "edited": false, "score": 0, "creation_date": 1578109653, "post_id": 59548848, "comment_id": 105341631, "body": "Technically, you&#39;re correct. I meant it&#39;s a matter of style and readability. Spaces around the &quot;=&quot; make it difficult to quickly identify the kay/value pairs of the attributes and their values."}], "tags": [], "owner": {"reputation": 653, "user_id": 3393030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca9496d758234de62db0bdaeafa247c7?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan W.", "link": "https://stackoverflow.com/users/3393030/ryan-w"}, "is_accepted": false, "score": 1, "last_activity_date": 1577831628, "last_edit_date": 1577831628, "creation_date": 1577831325, "answer_id": 59548848, "question_id": 59548791, "link": "https://stackoverflow.com/questions/59548791/is-this-the-proper-way-to-use-a-checkbox/59548848#59548848", "title": "Is this the proper way to use a checkbox?", "body": "<p>You don't want spaces around your equals sign in HTML. Also, a switch statement is a little verbose for when you have less than three conditions. </p>\n\n<p>Not sure what you are trying to accomplish exactly, but here you go.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var checkbox = document.querySelector('.checkbox');\r\ncheckbox.addEventListener('change', function(){\r\n   this.checked ? this.setAttribute('value', 'on') : this.setAttribute('value', 'off');\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input class=\"checkbox\" type=\"checkbox\" name=\"checkbox\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 1101, "user_id": 6460856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/348ceb4cfb329409b99e1805cef9e382?s=128&d=identicon&r=PG&f=1", "display_name": "Swetank Poddar", "link": "https://stackoverflow.com/users/6460856/swetank-poddar"}, "edited": false, "score": 0, "creation_date": 1577831693, "post_id": 59548873, "comment_id": 105266809, "body": "But if the checkbox isn&#39;t &quot;checked&quot; then its not really going to submit anything, right?"}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 1101, "user_id": 6460856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/348ceb4cfb329409b99e1805cef9e382?s=128&d=identicon&r=PG&f=1", "display_name": "Swetank Poddar", "link": "https://stackoverflow.com/users/6460856/swetank-poddar"}, "edited": false, "score": 1, "creation_date": 1577831809, "post_id": 59548873, "comment_id": 105266838, "body": "@SwetankPoddar Checkboxes (or any other form field) don&#39;t have to be used in conjunction with <code>form</code> elements and <code>form</code> submissions. They can be used for &quot;in-page&quot; behavior. While I don&#39;t advocate changing their <code>value</code>, it&#39;s not wrong to do."}], "tags": [], "owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "is_accepted": false, "score": 0, "last_activity_date": 1577832358, "last_edit_date": 1577832358, "creation_date": 1577831558, "answer_id": 59548873, "question_id": 59548791, "link": "https://stackoverflow.com/questions/59548791/is-this-the-proper-way-to-use-a-checkbox/59548873#59548873", "title": "Is this the proper way to use a checkbox?", "body": "<p>Make sure to get a reference to the checkbox using the proper API:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Get a reference to the element the proper way:\r\nvar checkbox = document.querySelector(\"input[type='checkbox']\");\r\n\r\n\r\ncheckbox.addEventListener('change', function(){\r\n  switch(this.value){\r\n    case \"on\":\r\n      this.value = \"off\"; \r\n      break;\r\n    case \"off\":\r\n      this.value = \"on\"; \r\n      break;\r\n  }\r\n  \r\n  console.log(this.value)\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"checkbox\" name = \"checkbox\" checked = \"checked\" value = \"on\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>With that said, it's not super useful to change the value of a checkbox because it's checked. The usual way a checkbox is used is either to submit its <code>value</code> as part of a <code>form</code> submission or to use as a Boolean indicator of some state for \"in-page\" behavior. You generally don't want or need to change the <code>value</code> of a checkbox, instead you simply want to know if it is checked, which can be done by looking at its <code>.checked</code> property and making decisions based on that. A checkbox will have a <code>checked</code> property value of <code>true</code> when it's been checked and <code>false</code> when it isn't.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Get a reference to the element the proper way:\r\nvar checkbox = document.querySelector(\"input[type='checkbox']\");\r\n\r\ncheckbox.addEventListener('change', function(){\r\n  if(this.checked){\r\n    console.log(\"Checkbox is checked! Do something about it!\");\r\n  } else {\r\n    console.log(\"Forget it. Checkbox wasn't checked.\");\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"checkbox\" name = \"checkbox\" value = \"on\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "is_accepted": false, "score": 0, "last_activity_date": 1577833761, "creation_date": 1577833761, "answer_id": 59549052, "question_id": 59548791, "link": "https://stackoverflow.com/questions/59548791/is-this-the-proper-way-to-use-a-checkbox/59549052#59549052", "title": "Is this the proper way to use a checkbox?", "body": "<p>No need of JS for this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#chkBx + label { display:none; }\r\n#chkBx:checked + label { display:inline; }\r\n#chkBx:checked + label + label { display:none; }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"checkbox\" id=\"chkBx\" checked &gt;&lt;label for=\"chkBx\"&gt;On&lt;/label&gt;&lt;label for=\"chkBx\"&gt;Off&lt;/label&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 21, "user_id": 12539013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2dd3cb20adbfc427db22c61e3a851f6e?s=128&d=identicon&r=PG&f=1", "display_name": "Philip Yeranosian", "link": "https://stackoverflow.com/users/12539013/philip-yeranosian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1577833761, "creation_date": 1577830537, "last_edit_date": 1577832689, "question_id": 59548791, "link": "https://stackoverflow.com/questions/59548791/is-this-the-proper-way-to-use-a-checkbox", "title": "Is this the proper way to use a checkbox?", "body": "<p>Is this the proper way to use a checkbox in JS. I can only get the event to fire one time, not each time I click the box.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    var checkbox = document.checkbox;\r\n    checkbox.addEventListener('change', function(){\r\n    switch(this.value){\r\n\r\n    case \"on\":\r\n    checkbox.value = \"off\"; break;\r\n    case \"off\":\r\n    checkbox.value = \"on\"; break;\r\n    }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;input type=\"checkbox\" name = \"checkbox\" checked = \"checked\" value = \"on\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "html", "arrays", "json", "local-storage"], "comments": [{"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1577831451, "post_id": 59548790, "comment_id": 105266751, "body": "You need to use more logic when developing your code. <code>localStorage.setItem(&quot;males&quot;,JSON.stringify(males));</code> is inside a loop? Why? I guess we should start by asking what you&#39;re really trying to do, so we can show you a more logical approach."}, {"owner": {"reputation": 3, "user_id": 7591343, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BMB8nuCnM7Q/AAAAAAAAAAI/AAAAAAAAAw8/NgcZ-e3347U/photo.jpg?sz=128", "display_name": "Jacob Gallion", "link": "https://stackoverflow.com/users/7591343/jacob-gallion"}, "reply_to_user": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1577831925, "post_id": 59548790, "comment_id": 105266862, "body": "@StackSlave well, the thing that you are pointing out doesn&#39;t seem to be my biggest issue because it works as it is when storing and then displaying the names, so your point seems irrelevant to my bigger issues. My problem is in dealing with the setInterval part. When the setInterval code activates after a browser refresh, the localStorage data in the &quot;males&quot; array restarts to the default [Placeholder, Placeholder, 18], but it works otherwise (no refreshing)."}, {"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1577832246, "post_id": 59548790, "comment_id": 105266916, "body": "It looks like your males is not based on the localStorage when you rerun your mess. <code>var males = localStorage.males; if(!males){ &#47;* run your start code *&#47; }</code>."}, {"owner": {"reputation": 3, "user_id": 7591343, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BMB8nuCnM7Q/AAAAAAAAAAI/AAAAAAAAAw8/NgcZ-e3347U/photo.jpg?sz=128", "display_name": "Jacob Gallion", "link": "https://stackoverflow.com/users/7591343/jacob-gallion"}, "reply_to_user": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1577832460, "post_id": 59548790, "comment_id": 105266960, "body": "@StackSlave why is everyone so pretentious on this website, how is it that bad of a mess? lmao anyhow, you are incorrect because if that were the case, it would not save the names when I delete the setInterval code. When I delete the setInterval code, the names are perfectly stored in localStorage even after refreshing the browser. So obviously there is something wrong with the setInterval code."}], "answers": [{"tags": [], "owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "is_accepted": false, "score": 0, "last_activity_date": 1577838416, "last_edit_date": 1577838416, "creation_date": 1577837987, "answer_id": 59549271, "question_id": 59548790, "link": "https://stackoverflow.com/questions/59548790/localstorage-not-updating-and-then-storing-new-values/59549271#59549271", "title": "LocalStorage not updating and then storing new values", "body": "<p>Maybe you really want to do something more like:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function shuffle(a){\r\n  a.sort(function(b, c){\r\n    return 0.5 - Math.random();\r\n  });\r\n}\r\nfunction RandomPeople(lastNameArray, firstNameArray){\r\n  var t = this;\r\n  this.lastNames; this.firstNames;\r\n  this.make = function(){\r\n    this.lastNames = lastNameArray.slice(); this.firstNames = firstNameArray.slice();\r\n    this.people = []; shuffle(this.firstNames);\r\n    this.firstNames.forEach(function(n){\r\n      t.people.push([t.lastNames[Math.floor(Math.random()*t.lastNames.length)], n, 18]);\r\n    });\r\n    return this;\r\n  }\r\n  this.grab = function(){\r\n    if(localStorage.people){\r\n      return JSON.parse(localStorage.people);\r\n    }\r\n    return false;\r\n  }\r\n  this.save = function(){\r\n    localStorage.people = JSON.stringify(this.people);\r\n    return this;\r\n  }\r\n}\r\nvar men = new RandomPeople(['J.', 'M.', 'B.', 'D.', 'W.'], ['John', 'Bob', 'Jim', 'Tim', 'Skylar', 'Zach', 'Jacob']);\r\nvar peps = men.grab();\r\nif(!peps){\r\n  men.make(); peps[5][2] += 2; men.save(); peps = men.people;\r\n}\r\nconsole.log(peps);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3, "user_id": 7591343, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BMB8nuCnM7Q/AAAAAAAAAAI/AAAAAAAAAw8/NgcZ-e3347U/photo.jpg?sz=128", "display_name": "Jacob Gallion", "link": "https://stackoverflow.com/users/7591343/jacob-gallion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 471, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577838416, "creation_date": 1577830526, "question_id": 59548790, "link": "https://stackoverflow.com/questions/59548790/localstorage-not-updating-and-then-storing-new-values", "title": "LocalStorage not updating and then storing new values", "body": "<p>My goal is to build a large array of data that has both text and numbers, and the text is randomly selected from a preselected array of names (first and last name). Function start() is activated with a button.</p>\n\n<pre><code>var malenames = [\"John\", \"Bob\", \"Jim\",\"Tim\",\"Skylar\",\"Zach\",\"Jacob\"];\nvar maleLast = [\"J.\",\"M.\",\"B.\",\"D.\",\"W.\"];\nvar males = new Array();\nmales[0] = new Array(\"Placeholder\",\"Placeholder\",18);\nmales[1] = new Array(\"Placeholder\",\"Placeholder\",18);\nmales[2] = new Array(\"Placeholder\",\"Placeholder\",18);\nmales[3] = new Array(\"Placeholder\",\"Placeholder\",18);\nmales[4] = new Array(\"Placeholder\",\"Placeholder\",18);\nmales[5] = new Array(\"Placeholder\",\"Placeholder\",18);\nmales[6] = new Array(\"Placeholder\",\"Placeholder\",18);\nmales[7] = new Array(\"Placeholder\",\"Placeholder\",18);\nmales[8] = new Array(\"Placeholder\",\"Placeholder\",18);\nmales[9] = new Array(\"Placeholder\",\"Placeholder\",18);\n\n\n\n\nfunction start() {\nlocalStorage.setItem(\"random\", Math.floor((Math.random()*(100-0))));\nspan.textContent = localStorage.getItem(\"random\");\n\n\nvar i;\nvar j;\nfor (i=0; i &lt; males.length; i++) {\nmales[i][0] = malenames[Math.floor(Math.random()*malenames.length)];\nlocalStorage.setItem(\"males\", JSON.stringify(males));\n}\n\nfor (j=0; j&lt;males.length; j++) {\nmales[j][1] = maleLast[Math.floor(Math.random()*maleLast.length)];\nlocalStorage.setItem(\"males\", JSON.stringify(males));\n}\n\n\n\nfirstN.textContent = males[0][0];\nlastN.textContent = males[0][1];\nage.textContent = males[0][2];\n\n}\n</code></pre>\n\n<p>This code successfully randomizes and then saves the first and last names into the array in localStorage. However, I am wanting to modify the number 18 on a timer by adding a value to it every so many seconds.</p>\n\n<pre><code>setInterval(function(){\n\nvar k;\n\nfor(k=0;k&lt;males.length;k++){\n\nmales[k][2]++;\nlocalStorage.setItem(\"males\",JSON.stringify(males));\n\n\n}\nage.innerHTML = males[0][2];\n\n}, 3000);\n</code></pre>\n\n<p>Everything works just fine and everything gets stored into localStorage until I refresh the page. When I refresh the page, the localStorage array is still correct until the interval occurs. When this happens, the arrays refresh back to [Placeholder, Placeholder, 18]. I am curious as to why the code does this when I am only trying to add to the age variable every interval. I would gladly accept feedback and explanations into understanding this. Thank you.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 653, "user_id": 3393030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca9496d758234de62db0bdaeafa247c7?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan W.", "link": "https://stackoverflow.com/users/3393030/ryan-w"}, "edited": false, "score": 0, "creation_date": 1577830634, "post_id": 59548771, "comment_id": 105266633, "body": "Could you share your code?"}, {"owner": {"reputation": 25, "user_id": 12167532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e62a71d0448bbd7f38fc13e851082c3b?s=128&d=identicon&r=PG&f=1", "display_name": "xnkka", "link": "https://stackoverflow.com/users/12167532/xnkka"}, "reply_to_user": {"reputation": 653, "user_id": 3393030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca9496d758234de62db0bdaeafa247c7?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan W.", "link": "https://stackoverflow.com/users/3393030/ryan-w"}, "edited": false, "score": 0, "creation_date": 1577831733, "post_id": 59548771, "comment_id": 105266819, "body": "i have edited my question, but cant put all code because get warning from site"}, {"owner": {"reputation": 653, "user_id": 3393030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca9496d758234de62db0bdaeafa247c7?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan W.", "link": "https://stackoverflow.com/users/3393030/ryan-w"}, "edited": false, "score": 0, "creation_date": 1577832628, "post_id": 59548771, "comment_id": 105266996, "body": "I would change the class name from Player1 to Player and call Player.initPlayer() within a for loop."}], "owner": {"reputation": 25, "user_id": 12167532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e62a71d0448bbd7f38fc13e851082c3b?s=128&d=identicon&r=PG&f=1", "display_name": "xnkka", "link": "https://stackoverflow.com/users/12167532/xnkka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577831668, "creation_date": 1577830278, "last_edit_date": 1577831668, "question_id": 59548771, "link": "https://stackoverflow.com/questions/59548771/how-create-multiple-user-control-on-one-page", "title": "How create multiple user control on one page?", "body": "<p>I have class Player which creates audio player, in static method create of this class i render ui of player an insert to dom using innerHtml, with one instance on page it's works fine, but i want creaete many instances on one page. How can I do it? Maybe we have any pattern to do that?</p>\n\n<pre><code>class Player1{\nplayer = new Audio()\ntimeMouseDown = false\nvolumeMouseDown = false\nisRateListActive = false\nisVolumeControlActive = false\nbtnPlay = document.querySelector('.play')\nbtnVolume = document.querySelector('.volume')\nbtnDownload = document.querySelector('.download')\nbtnUpload = document.querySelector('.upload')\n// another elements\n\nconstructor(){\n  this.player.src = \"audio/1.mp3\"\n  this.player.loop = true\n}\n\ninitListeners(){\n  this.btnPlay.addEventListener('click', this.play.bind(this))\n  this.btnVolume.addEventListener('click',this.showVolumeControl.bind(this))\n  this.btnDownload.addEventListener('click',this.download.bind(this))\n  this.btnUpload.addEventListener('click',this.upload.bind(this))\n  //another events\n\n}\n\nstatic create(root){\n  debugger\n  this.root = document.querySelector(root);\n  this.root.innerHTML = `&lt;div class=\"player\"&gt;\n  &lt;div class=\"title\" oncopy=\"return false\"&gt;\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u0440\u043e\u0436\u043a\u0438&lt;/div&gt;\n  &lt;div class=\"controls\"&gt;\n    &lt;a href=\"#\" class=\"play\"&gt;&lt;i class=\"fa fa-play\"&gt;&lt;/i&gt;&lt;/a&gt;\n    &lt;span class=\"time past_time\"&gt;00:00&lt;/span&gt;\n    &lt;div class=\"progress\"&gt;\n      &lt;div class=\"progress_bar\" data-progress=\"6rem\"&gt;\n        &lt;div class=\"progress_line\"&gt;&lt;/div&gt;\n        &lt;div class=\"progress_control\"&gt;&lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;span class=\"time rest_time\"&gt;00:00&lt;/span&gt;\n    &lt;div class=\"rate_picker\"&gt;\n      &lt;div class=\"rate_list\"&gt;\n        //some tags\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;`\n}\ninitPlayer() {\n  this.initListeners()\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["javascript", "mongodb"], "comments": [{"owner": {"reputation": 847, "user_id": 10690138, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qzy4Dpg0wB0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hRPOPYeX5t-sSMnc5QTCVLQG767Q/mo/photo.jpg?sz=128", "display_name": "Mahesh Bhatnagar", "link": "https://stackoverflow.com/users/10690138/mahesh-bhatnagar"}, "edited": false, "score": 0, "creation_date": 1577870615, "post_id": 59548760, "comment_id": 105271238, "body": "can you share data ?"}, {"owner": {"reputation": 7, "user_id": 10322441, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-W8imoDicXB0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOKo-WN8Oy5vVx6QTamB8cbjS3SXQ/mo/photo.jpg?sz=128", "display_name": "Wiley Buchanan", "link": "https://stackoverflow.com/users/10322441/wiley-buchanan"}, "reply_to_user": {"reputation": 847, "user_id": 10690138, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qzy4Dpg0wB0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hRPOPYeX5t-sSMnc5QTCVLQG767Q/mo/photo.jpg?sz=128", "display_name": "Mahesh Bhatnagar", "link": "https://stackoverflow.com/users/10690138/mahesh-bhatnagar"}, "edited": false, "score": 0, "creation_date": 1577908829, "post_id": 59548760, "comment_id": 105279823, "body": "Okay I think I figured out what is wrong. The second database call to write the data fires off, but the for loop doesn&#39;t wait for this call to finish before continuing to start over the loop. So when it finds data again on the second one, it finds an empty list. Does anyone have an easy solution to make the for loop wait for the second call to finish?"}, {"owner": {"reputation": 7, "user_id": 10322441, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-W8imoDicXB0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOKo-WN8Oy5vVx6QTamB8cbjS3SXQ/mo/photo.jpg?sz=128", "display_name": "Wiley Buchanan", "link": "https://stackoverflow.com/users/10322441/wiley-buchanan"}, "reply_to_user": {"reputation": 847, "user_id": 10690138, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qzy4Dpg0wB0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hRPOPYeX5t-sSMnc5QTCVLQG767Q/mo/photo.jpg?sz=128", "display_name": "Mahesh Bhatnagar", "link": "https://stackoverflow.com/users/10690138/mahesh-bhatnagar"}, "edited": false, "score": 0, "creation_date": 1577910617, "post_id": 59548760, "comment_id": 105280193, "body": "Im going to try a recursive solution that calls itself at the end after the second call."}, {"owner": {"reputation": 7, "user_id": 10322441, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-W8imoDicXB0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOKo-WN8Oy5vVx6QTamB8cbjS3SXQ/mo/photo.jpg?sz=128", "display_name": "Wiley Buchanan", "link": "https://stackoverflow.com/users/10322441/wiley-buchanan"}, "reply_to_user": {"reputation": 847, "user_id": 10690138, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qzy4Dpg0wB0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hRPOPYeX5t-sSMnc5QTCVLQG767Q/mo/photo.jpg?sz=128", "display_name": "Mahesh Bhatnagar", "link": "https://stackoverflow.com/users/10690138/mahesh-bhatnagar"}, "edited": false, "score": 0, "creation_date": 1577915766, "post_id": 59548760, "comment_id": 105281222, "body": "Okay the recursive solution worked! :)))))"}], "owner": {"reputation": 7, "user_id": 10322441, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-W8imoDicXB0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOKo-WN8Oy5vVx6QTamB8cbjS3SXQ/mo/photo.jpg?sz=128", "display_name": "Wiley Buchanan", "link": "https://stackoverflow.com/users/10322441/wiley-buchanan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577830088, "creation_date": 1577830088, "question_id": 59548760, "link": "https://stackoverflow.com/questions/59548760/why-wont-these-find-and-update-mongo-db-calls-work-in-the-right-sequence", "title": "Why wont these find and update mongo db calls work in the right sequence?", "body": "<p>I am working on a function that takes in student data from an excel sheet and assigns the students to student-groups based on the data in the student's row. </p>\n\n<p>I am having problems getting it to accumulate all the imported students, instead it only seems to write the last one or two students if I import a batch of three students.</p>\n\n<p>There are three steps as I see it: I need to find the current student list for a group, then add the new student to that list, and then finally update the group list with the old students and the new students combined. </p>\n\n<p>I think there must be a race error happening because the 'found students' always console logs as an empty list, so the update part isn't happening in the right sequence I believe?</p>\n\n<p>Here is the first way I tried it, which gave me the undesired result described: </p>\n\n<pre><code>global.db.collection(\"groups\").find({userId: user_id.toString(), groupNumber:parseInt(realGroupNumber)}).toArray( function (err, group) {\n    if(err) {console.log(err)};\n    if(group[0]) {\n        //Add student to group's student list...\n        group[0].students.push(NewRow[realRowNumber]);\n        //Update  group with new student list...\n        global.db.collection(\"groups\").updateOne({userId: user_id.toString(), groupNumber:parseInt(realGroupNumber)}, {$set: group[0]}, {upsert: true}, function (err, group) {\n            if(err) {console.log(err)};\n        });\n    };\n});\n</code></pre>\n\n<p>Then I tried to use a callback function to avoid a race error, but got the same result:</p>\n\n<pre><code>function findStudentList(param, callback) {\n    //Find group matching group number, user id\n    global.db.collection(\"groups\").find({userId: user_id.toString(), groupNumber:parseInt(param)}).toArray( function (err, group) {\n        if(err) {console.log(err)};\n        if(group[0]) {\n            callback(group[0]);\n        };\n    });\n};\n\nfunction updateStudentList(oldGroupInfo) {\n    newStudent = NewRow[realRowNumber]\n    oldGroupInfo.students.push(newStudent)\n    // db.update with new list here\n    global.db.collection(\"groups\").updateOne({userId: user_id.toString(), groupNumber:parseInt(realGroupNumber)}, {$set: oldGroupInfo}, {upsert: true}, function (err, group) {\n        if(err) {console.log(err)};\n    });\n};\n\nfindStudentList(realGroupNumber, updateStudentList)\n\n\n</code></pre>\n\n<p>Any ideas what could be wrong? This is inside a for loop, being called once per new student. It acts like previous update to the student list never happened... The find call comes up with an empty student list every time through, instead of adding and accumulating students. Even though I have console logged everything and the data is going to the right place, just not updating correctly. Once again only the last student or the last two students make it in the group successfully.</p>\n\n<p>Any help is greatly appreciated! Thanks!</p>\n"}, {"tags": ["javascript", "html"], "answers": [{"tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 4, "last_activity_date": 1577832169, "last_edit_date": 1577832169, "creation_date": 1577831747, "answer_id": 59548889, "question_id": 59548756, "link": "https://stackoverflow.com/questions/59548756/passing-voice-objects-instead-of-strings-to-speech-synthesis/59548889#59548889", "title": "Passing voice objects instead of strings to speech synthesis", "body": "<p>To see (part) of the problem, log the HTML that you generated:</p>\n\n<pre><code>&lt;div class=\"select_US\"&gt;\n&lt;div&gt;\n      &lt;input type=\"checkbox\" id=\"[object SpeechSynthesisVoice]\" name=\"[object SpeechSynthesisVoice]\"&gt;\n      &lt;label for=\"[object SpeechSynthesisVoice]\"&gt;Microsoft David Desktop - English (United States)&lt;/label&gt;\n    &lt;/div&gt;&lt;div&gt;\n      &lt;input type=\"checkbox\" id=\"[object SpeechSynthesisVoice]\" name=\"[object SpeechSynthesisVoice]\"&gt;\n      &lt;label for=\"[object SpeechSynthesisVoice]\"&gt;Microsoft Zira Desktop - English (United States)&lt;/label&gt;\n    &lt;/div&gt;&lt;div&gt;\n      &lt;input type=\"checkbox\" id=\"[object SpeechSynthesisVoice]\" name=\"[object SpeechSynthesisVoice]\"&gt;\n      &lt;label for=\"[object SpeechSynthesisVoice]\"&gt;Google US English&lt;/label&gt;\n    &lt;/div&gt;&lt;/div&gt;\n</code></pre>\n\n<p>See the <code>[object SpeechSynthesisVoice]</code>s? When you do</p>\n\n<pre><code>  let voices_US = speechSynthesis.getVoices().filter(function(voice) {\n    return voice.lang == 'en-US';\n\n  });\n</code></pre>\n\n<p><code>voices_us</code> becomes an array of voices. But then when you do</p>\n\n<pre><code>voices_US.map(function(name) {\n</code></pre>\n\n<p>what <code>name</code> holds is actually a <em>voice</em>, not a string, which is a big part of the problem. This is one reason why precise variable names are important. Let's call the parameter <code>voice</code> instead, and use its <code>name</code> property to get at the string.</p>\n\n<p>Then, once the timeout callback runs, <code>.find</code> one of the checkboxes which is checked. If there is one, take its <code>name</code> (a string), and <code>.find</code> in the voices array the voice with the same name. Then you can assign that found voice to <code>voiceInstance</code> and use <code>msg.voice = voiceInstance;</code> inside <code>speak</code>.</p>\n\n<p>You should also only run the main part of <code>loadVoices</code> once, to otherwise you'll continually create new inputs.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>'use strict';\r\n\r\n// Get the voice select element.\r\nconst select_US = document.querySelector('.select_US');\r\nconst select_UK = document.querySelector('.select_UK');\r\nlet voiceInstance;\r\n\r\n// Fetch the list of voices and populate the voice options at the beginning of the course\r\nfunction loadVoices() {\r\n  // Fetch the available voices.\r\n  const voices_US = speechSynthesis.getVoices().filter(voice =&gt; voice.lang == 'en-US');\r\n  if (!voices_US.length || voiceInstance) {\r\n    // Chrome; voices haven't loaded yet, or a voice is already selected\r\n    return;\r\n  }\r\n  const checkboxes_US = voices_US.map(function(voice) {\r\n    const { name } = voice;\r\n    const div = document.createElement('div');\r\n    div.innerHTML = `\r\n      &lt;input type=\"checkbox\" id=\"${name}\" name=\"${name}\"&gt;\r\n      &lt;label for=\"${name}\"&gt;${name}&lt;/label&gt;\r\n    `;\r\n    select_US.appendChild(div);\r\n    return div.querySelector('input');\r\n  });\r\n\r\n  //You have 3 seconds to select voices via checkboxes\r\n  setTimeout(function() {\r\n    const checkbox = checkboxes_US.find(checkbox =&gt; checkbox.checked);\r\n    if (!checkbox) {\r\n      console.log('Not fast enough');\r\n      return;\r\n    }\r\n    const name = checkbox.name;\r\n    voiceInstance = speechSynthesis.getVoices().find(voice =&gt; voice.name === name);\r\n  }, 3000)\r\n\r\n}\r\n\r\n// Execute loadVoices.\r\nloadVoices();\r\n\r\n// Chrome loads voices asynchronously.\r\nwindow.speechSynthesis.onvoiceschanged = loadVoices;\r\n\r\n// Create a new utterance for the specified text and add it to\r\n// the queue.\r\nfunction speak(text) {\r\n  if (!voiceInstance) {\r\n    // No instance to use to speak with\r\n    return;\r\n  }\r\n  // Create a new instance of SpeechSynthesisUtterance.\r\n  var msg = new SpeechSynthesisUtterance();\r\n  msg.voice = voiceInstance;\r\n\r\n  // Set the text.\r\n  msg.text = text;\r\n\r\n  // Queue this utterance.\r\n  window.speechSynthesis.speak(msg);\r\n}\r\n\r\n// after 5 seconds initiate speech synthesis\r\nsetTimeout(function() {\r\n  console.log('Speaking..');\r\n  speak('This is a simple example text here!');\r\n}, 5000);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"select_US\"&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The logic would probably be easier to follow, without relying on global variable reassignment, if each timeout called the next:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>'use strict';\r\n\r\nif (!window.chrome) {\r\n  loadVoices();\r\n} else {\r\n  // Chrome loads voices asynchronously.\r\n  window.speechSynthesis.addEventListener('voiceschanged', loadVoices, { once: true });\r\n}\r\n\r\nfunction loadVoices() {\r\n  const allVoices = speechSynthesis.getVoices();\r\n  const voices_US = allVoices.filter(voice =&gt; voice.lang == 'en-US');\r\n  const select_US = document.querySelector('.select_US');\r\n  const checkboxes_US = voices_US.map(function(voice) {\r\n    const { name } = voice;\r\n    const div = select_US.appendChild(document.createElement('div'));\r\n    div.innerHTML = `\r\n      &lt;input type=\"checkbox\" id=\"${name}\" name=\"${name}\"&gt;\r\n      &lt;label for=\"${name}\"&gt;${name}&lt;/label&gt;\r\n    `;\r\n    return div.querySelector('input');\r\n  });\r\n\r\n  //You have 3 seconds to select voices via checkboxes\r\n  setTimeout(function() {\r\n    const checkbox = checkboxes_US.find(checkbox =&gt; checkbox.checked);\r\n    if (!checkbox) {\r\n      console.log('Not fast enough');\r\n      return;\r\n    }\r\n    const name = checkbox.name;\r\n    const voiceInstance = speechSynthesis.getVoices().find(voice =&gt; voice.name === name);\r\n    console.log('Voice found...');\r\n    setTimeout(speak, 2000, 'This is a simple example text here!', voiceInstance);\r\n  }, 3000)\r\n}\r\n\r\nfunction speak(text, voice) {\r\n  var msg = new SpeechSynthesisUtterance();\r\n  msg.voice = voice;\r\n  msg.text = text;\r\n  window.speechSynthesis.speak(msg);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"select_US\"&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2640, "user_id": 10715551, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8x4H1HHVIAo/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hc2CYqXQnqd3r2sWKJNmN5NkurzQ/mo/photo.jpg?sz=128", "display_name": "Sara Ree", "link": "https://stackoverflow.com/users/10715551/sara-ree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 59548889, "answer_count": 1, "score": 3, "last_activity_date": 1577832169, "creation_date": 1577830025, "last_edit_date": 1577831506, "question_id": 59548756, "link": "https://stackoverflow.com/questions/59548756/passing-voice-objects-instead-of-strings-to-speech-synthesis", "title": "Passing voice objects instead of strings to speech synthesis", "body": "<p>Thanks to <a href=\"https://stackoverflow.com/users/6331369/ivan\">@Ivan</a> I have a simple code to select the speech synthesis voices via checkboxes:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Get the voice select element.\r\nconst select_US = document.querySelector('.select_US');\r\nconst select_UK = document.querySelector('.select_UK');\r\nlet selected_voices;\r\n\r\n// Fetch the list of voices and populate the voice options at the beginning of the course\r\nfunction loadVoices() {\r\n  // Fetch the available voices.\r\n  let voices_US = speechSynthesis.getVoices().filter(function(voice) {\r\n    return voice.lang == 'en-US';\r\n\r\n  });\r\n\r\n  //console.log(voices_US); //outputs array of voice objects\r\n\r\n  const checkboxes_US = voices_US.map(function(name) {\r\n\r\n    const html = `\r\n    &lt;div&gt;\r\n      &lt;input type=\"checkbox\" id=\"${name}\" name=\"${name}\"&gt;\r\n      &lt;label for=\"${name}\"&gt;${name.name}&lt;/label&gt;\r\n    &lt;/div&gt;\r\n  `.trim();\r\n\r\n    const wrapper = document.createElement('div');\r\n    wrapper.innerHTML = html;\r\n\r\n    const element = select_US.appendChild(wrapper.firstChild);\r\n    return element.querySelector('input');\r\n\r\n  });\r\n\r\n  //You have 3 seconds to select voices via checkboxes\r\n  setTimeout(function() {\r\n\r\n    selected_voices = checkboxes_US.filter(checkbox =&gt; checkbox.checked).map(checkbox =&gt; checkbox.name);\r\n\r\n    console.log(selected_voices);\r\n\r\n  }, 3000)\r\n\r\n}\r\n\r\n// Execute loadVoices.\r\nloadVoices();\r\n\r\n// Chrome loads voices asynchronously.\r\nwindow.speechSynthesis.onvoiceschanged = function(e) {\r\n  loadVoices();\r\n};\r\n\r\n// Create a new utterance for the specified text and add it to\r\n// the queue.\r\nfunction speak(text) {\r\n  // Create a new instance of SpeechSynthesisUtterance.\r\n  var msg = new SpeechSynthesisUtterance();\r\n  msg.voice = selected_voices[0];\r\n\r\n  // Set the text.\r\n  msg.text = text;\r\n\r\n  // Queue this utterance.\r\n  window.speechSynthesis.speak(msg);\r\n}\r\n\r\n// after 5 seconds initiate speech synthesis\r\nsetTimeout(function() {\r\n  console.log('Speaking..');\r\n  speak('This is a simple example text here!');\r\n}, 5000);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"select_US\"&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The expected behavior is that the user has 3 seconds to select the voices via checkboxes..</p>\n\n<p>User can select as many voices as he/she wants but we only want the first voice in the array:</p>\n\n<pre><code>msg.voice = selected_voices[0];\n</code></pre>\n\n<p>If <code>selected_voices</code> contains the voice objects the code would work correctly but, there is a problem with it. When I log it:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0XjwV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0XjwV.png\" alt=\"enter image description here\"></a></p>\n\n<p>It seems like string elements inside the array!</p>\n\n<p>Instead, we should see:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BU1lf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BU1lf.png\" alt=\"enter image description here\"></a></p>\n\n<p>I think that <code>selected_voices</code> is the problem, it fails to provide the correct value.</p>\n\n<p>How can I fix that? I can't find a solution without a hand.</p>\n"}, {"tags": ["javascript", "asp.net", "ajax", "request", "addeventlistener"], "comments": [{"owner": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 0, "creation_date": 1577830333, "post_id": 59548752, "comment_id": 105266582, "body": "Form.submit() doesn\u2019t use Ajax, you would need to prevent the default behaviour and handle that part with your own code."}, {"owner": {"reputation": 83, "user_id": 12096366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb591f333bbf5193af5be5462616fa84?s=128&d=identicon&r=PG&f=1", "display_name": "Neovssmith", "link": "https://stackoverflow.com/users/12096366/neovssmith"}, "reply_to_user": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 0, "creation_date": 1577831548, "post_id": 59548752, "comment_id": 105266773, "body": "oh I see thanks. I ended up going with Jquery  get closest form and .trigger submit but I don&#39;t like using jquery. I&#39;m still interested in a vanilla JS way"}], "owner": {"reputation": 83, "user_id": 12096366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb591f333bbf5193af5be5462616fa84?s=128&d=identicon&r=PG&f=1", "display_name": "Neovssmith", "link": "https://stackoverflow.com/users/12096366/neovssmith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577830011, "creation_date": 1577830011, "question_id": 59548752, "link": "https://stackoverflow.com/questions/59548752/how-do-you-get-this-form-submit-to-submit-as-a-get-for-a-ajax-beginform-form", "title": "how do you get this.form.submit() to submit as a GET for a Ajax.BeginForm() form", "body": "<p>I have a view that updates a partial view on a get request but when I try to add eventlisteners using vanilla JS and this.form.submit() it's submitting as a post request which is reloading the page and returning just the partial view instead of an ajax request. </p>\n\n<p>Here's my code: </p>\n\n<pre><code>&lt;body style=\"overflow-x:hidden !important;\"&gt;\n&lt;h6&gt;Activity Management&lt;/h6&gt;\n@using (Ajax.BeginForm(\"getActivityManagementTwoActivities\", \"CallCenter\", new AjaxOptions{HttpMethod= \"Get\", UpdateTargetId= \"activitiesForPartial\"}))\n{\n    &lt;div class=\"row \"&gt;\n        &lt;div class=\"col-md-12\" style=\"float:right;\"&gt;\n            &lt;div class=\"dateWrapper\"&gt;@{ Html.RenderPartial(\"_DateFilter\"); } &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"row\" style=\"margin-top: 10px; margin-bottom: 8px;\"&gt;\n        &lt;div class=\"col-md-3 ActivityManagementTwoHeader\" style=\"font-size:12px; font-weight: bold\"&gt;\n            Displaying Results 5 of 5\n        &lt;/div&gt;\n        &lt;div class=\"col-md-3\"&gt;\n            Items per page:\n            @Html.DropDownList(\"results\", new List&lt;SelectListItem&gt;\n                {\n                new SelectListItem { Value = \"25\", Text= \"25\"},\n                new SelectListItem { Value = \"50\", Text= \"50\"},\n                new SelectListItem { Value = \"100\", Text= \"100\"},\n                })\n            &lt;button type=\"submit\" value=\"Submit\"&gt;Submit&lt;/button&gt;\n\n        &lt;/div&gt;\n        &lt;div class=\"col-md-3\"&gt;\n            &lt;select id=\"test2222\"&gt;\n                &lt;option&gt;Filter&lt;/option&gt;\n                &lt;option&gt;test&lt;/option&gt;\n            &lt;/select&gt;\n            &lt;select&gt;\n                &lt;option&gt;Sort&lt;/option&gt;\n            &lt;/select&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n}\n\n    &lt;div id=\"activitiesForPartial\"&gt;\n        @{ Html.RenderPartial(\"_ActivityManagementCollapseComponent\", Model);}\n    &lt;/div&gt;\n&lt;script&gt;\n//this part is failing to update as an AJAX \n    document.getElementById(\"test2222\").addEventListener(\"change\", function () {\n        alert(\"test\");\n        this.form.submit(); \n    })\n&lt;/script&gt;\n</code></pre>\n\n<p>  </p>\n\n<p>The problem is the request is being sent as a POST which just wants to reload the page and only return a partial view. I just want to update the partial view AJAXingly without reloading the page. </p>\n\n<p>My button works. The Submit works just fine. </p>\n"}, {"tags": ["javascript", "python", "react-native", "tcp", "tcpclient"], "owner": {"reputation": 149, "user_id": 10325843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07d42d907ed3260dfab991ba08c8f079?s=128&d=identicon&r=PG&f=1", "display_name": "imcze", "link": "https://stackoverflow.com/users/10325843/imcze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 291, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1578753343, "creation_date": 1577829515, "question_id": 59548712, "link": "https://stackoverflow.com/questions/59548712/read-messages-from-client-tcp-ip-in-react-native", "title": "Read messages from client TCP IP in react-native", "body": "<p>I am facing one weird problem with my application I am able to make connection as a client to the TCP IP this is the code that I am using in Javascript:</p>\n\n<pre><code>const cn = TcpSocket.createConnection({\n  port: 27015,\n  host: '192.168.0.10',\n  localAddress: '192.168.0.11',\n});\ncn.on('data', res =&gt; {\n  cn.write('\\x80\\x00\\x00');\n});\ncn.on('error', function(error) {\n  console.log('imce error: ', error);\n});\ncn.on('close', function() {\n  console.log('Connection closed!');\n});\n</code></pre>\n\n<p>but the problem appears when I receive message from server and for each message I should send back acknowledgment like this <strong>cn.write('\\x80\\x00\\x00');</strong> and it goes till somewhere and then I don't receive messages from server, while weird part is here I made two other scripts that works very good one in Python and one in PHP both of them have same logic meaning make connection and then write data as a client but here the only difference is that when I read data I read it with infinite loop you can see both examples, now I am wondering does it have any chance this <strong>cn.on('data', with callback here)</strong> in Javascript to make it like in both examples to store it in one variable everytime that has new message and then to run infinite loop also in Javascript.</p>\n\n<p>Python example:</p>\n\n<pre><code>sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nserver_address = ('192.168.0.15', 27015)\nprint(sys.stderr, 'connecting to %s port %s' % server_address)\nsock.connect(server_address)\nfull_msg = ''\ntry:\n    # Send data\n    message = '\\x06\\x01\\x0C\\x19\\x40\\x49\\x07\\x56\\x04\\x00\\x00\\x00\\x00\\x04\\x00'\n    print(sys.stderr, 'sending amount \"%s\"' % message)\n    sock.sendall(message)\n\n    while True:\n            msg = sock.recv(1024)\n            if len(msg) &lt;= 0:\n                    break\n            full_msg += msg\n            ackmsg = '\\x80\\x00\\x00'\n            print(sys.stderr, 'sending ack \"%s\"' % message)\n            sock.sendall(ackmsg)\nfinally:\n    print(sys.stderr, 'closing socket')\nsock.close()\n</code></pre>\n\n<p>PHP example:</p>\n\n<pre><code>$socket = socket_create(AF_INET, SOCK_STREAM, SOL_TCP);\n\nif(!is_resource($socket)) onSocketFailure(\"Failed to create socket\");\n\nsocket_connect($socket, \"192.168.0.10\", 27015) or onSocketFailure(\"Failed to connect to chat.stackoverflow.com:6667\", $socket);\n\nsocket_write($socket, \"\\x06\\x01\\x0C\\x19\\x40\\x49\\x07\\x56\\x04\\x00\\x00\\x00\\x00\\x04\\x00\");\n\nwhile(true) {\n    $line = socket_read($socket, 1024);\n    error_log(strlen($line));\n    if(strlen($line) &lt;= 0) {\n        break;\n    }\n    error_log($line);\n    socket_write($socket, \"\\x80\\x00\\x00\");\n\n}\n\nsocket_close($socket);\n</code></pre>\n"}, {"tags": ["javascript", "ajax"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1577828530, "post_id": 59548622, "comment_id": 105266262, "body": "<code>document.getElementById(&quot;ulistval&quot;).innerHTML = &quot;&lt;&#47;select&gt;&quot;; </code> &lt;-- you are not building a string! You are replacing all of the content of the element with <code>&lt;&#47;select&gt;</code>. Build a string, set the innerHTML, fix your opening select tag"}, {"owner": {"reputation": 27, "user_id": 12542470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c1600f3a0b9a5f20b6ef6fb02ac1?s=128&d=identicon&r=PG&f=1", "display_name": "kobs24", "link": "https://stackoverflow.com/users/12542470/kobs24"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1577828826, "post_id": 59548622, "comment_id": 105266323, "body": "Thank you so much. After concatenating them all in a string and then sending the value to the id, it worked! I appreciate it!"}], "owner": {"reputation": 27, "user_id": 12542470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c1600f3a0b9a5f20b6ef6fb02ac1?s=128&d=identicon&r=PG&f=1", "display_name": "kobs24", "link": "https://stackoverflow.com/users/12542470/kobs24"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577828370, "creation_date": 1577828370, "question_id": 59548622, "link": "https://stackoverflow.com/questions/59548622/why-arent-my-values-coming-from-webservice-inserting-into-select-tag-via-ajax", "title": "Why aren&#39;t my values coming from webservice inserting into select tag via AJAX?", "body": "<p>so I have am making a GET request to my webservice class to get the emails of all users to store inside of <code>&lt;option&gt;</code> tags within <code>&lt;select&gt;</code> tags. When I print to the console, everything looks correct, but my <code>&lt;select&gt;</code> tags aren't even showing up on the page when I run it in the browser. I have ensured that the id that I'm grabbing is correct, the values are being received from the webservice, information is being parsed correctly, etc... Also, this function is using \"onload\" from the body tag. Here is my code:</p>\n\n<pre><code> function loader() {\n    let xhttp = new XMLHttpRequest();\n    xhttp.onreadystatechange = function() {\n        if (this.readyState == 4 &amp;&amp; this.status == 200){\n            let val = JSON.parse(this.responseText);\n            let len = val.length;\n            document.getElementById(\"ulistval\").innerHTML = \"select name='emailname' id='emailget'&gt;\";\n            for(let i = 0; i &lt; len; i++){\n                document.getElementById(\"ulistval\").innerHTML = `&lt;option value=\"${val[i].email}\"&gt;${val[i].email}&lt;/option&gt;`;\n                console.log(`&lt;option value=\"${val[i].email}\"&gt;${val[i].email}&lt;/option&gt;`);\n            }\n            document.getElementById(\"ulistval\").innerHTML = \"&lt;/select&gt;\"; \n        }\n    }\n</code></pre>\n"}, {"tags": ["javascript", "firefox", "websocket"], "comments": [{"owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1577828602, "post_id": 59548618, "comment_id": 105266283, "body": "I&#39;m using Firefox 71.0 (64bit) and it writes the error/closes the connection immediately (same behavior in Chrome).. Running this on a Macbook Pro Catalina 10.15.2"}, {"owner": {"reputation": 12864, "user_id": 157525, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5820228fd7aefaba2a8bfb0503b9e2a8?s=128&d=identicon&r=PG", "display_name": "gct", "link": "https://stackoverflow.com/users/157525/gct"}, "reply_to_user": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1577828767, "post_id": 59548618, "comment_id": 105266311, "body": "Interesting, I&#39;m Firefox 71 (64bit) on Linux Mint.  It&#39;s consistently taking &gt; 60 seconds for me."}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1577828792, "post_id": 59548618, "comment_id": 105266315, "body": "Markup note: this is superbad JS. You&#39;re writing modern HTML and JS: don&#39;t use <i>any</i> <code>on...=</code> on HTML elements. (1) don&#39;t use <code>type=&quot;text&#47;javascript&quot; for script tags: you&#39;re using HTML5: </code>script` is Javascript by default. (2) make your JS an actual file, so that (3) you can use <code>&lt;script src=&quot;...&quot; defer&gt;&lt;&#47;script&gt;</code>. That&#39;ll load the source in parallel with everything else, but <i>run</i> it only after the entire document&#39;s been parsed. And then put that <code>&lt;script&gt;</code> in the head element. Now that we have <code>async</code> and <code>defer</code>, don&#39;t put JS in your body anymore. Also: <code>&lt;meta charset=&quot;utf-8&quot;&gt;</code>. Again: HTML5"}, {"owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1577829031, "post_id": 59548618, "comment_id": 105266359, "body": "@Mike&#39;Pomax&#39;Kamermans thanks for the valuable info but (1) how does that help here? (2) Pretty sure OP just provided that demo/example as the &#39;lowest denominator&#39; type of code to be used for testing..."}, {"owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1577829220, "post_id": 59548618, "comment_id": 105266387, "body": "@gct which desktop are you using for Linux Mint? I can spin up a VM real quick to test.."}, {"owner": {"reputation": 12864, "user_id": 157525, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5820228fd7aefaba2a8bfb0503b9e2a8?s=128&d=identicon&r=PG", "display_name": "gct", "link": "https://stackoverflow.com/users/157525/gct"}, "reply_to_user": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1577829362, "post_id": 59548618, "comment_id": 105266413, "body": "@MattOestreich I&#39;m using Cinnamon.  Interestingly, sometimes the connection <i>does</i> close immediately.  Looking at Wireshark, I can see the SYN packet followed by a RST/ACK from the server.  If I reload after that, then it takes 60 seconds.  Is this some sort of SYN flood protection?"}, {"owner": {"reputation": 12864, "user_id": 157525, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5820228fd7aefaba2a8bfb0503b9e2a8?s=128&d=identicon&r=PG", "display_name": "gct", "link": "https://stackoverflow.com/users/157525/gct"}, "edited": false, "score": 0, "creation_date": 1577829814, "post_id": 59548618, "comment_id": 105266499, "body": "Now that I let it sit for a few minutes, it&#39;s closing the connection immediately...  If I do it too fast, then it starts backing off on the timeout, this must be some sort of protection to prevent DDOS."}, {"owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1577829914, "post_id": 59548618, "comment_id": 105266512, "body": "Sounds like you&#39;re onto something -- I still haven&#39;t been able to reproduce, which is really odd."}, {"owner": {"reputation": 12864, "user_id": 157525, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5820228fd7aefaba2a8bfb0503b9e2a8?s=128&d=identicon&r=PG", "display_name": "gct", "link": "https://stackoverflow.com/users/157525/gct"}, "edited": false, "score": 0, "creation_date": 1577830304, "post_id": 59548618, "comment_id": 105266576, "body": "I answered it below, it&#39;s an intentional change to try to comply with RFC 6455 better."}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1577830803, "post_id": 59548618, "comment_id": 105266659, "body": "@gct comments are not answers. I left you a note on your markup, which is worth improving completely independently of your question. You&#39;re using HTML5, but you&#39;re also using HTML4.01 JS and HTML patterns. Stop using those patterns."}, {"owner": {"reputation": 12864, "user_id": 157525, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5820228fd7aefaba2a8bfb0503b9e2a8?s=128&d=identicon&r=PG", "display_name": "gct", "link": "https://stackoverflow.com/users/157525/gct"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1577831406, "post_id": 59548618, "comment_id": 105266744, "body": "@Mike&#39;Pomax&#39;Kamermans  I appreciate it, but I&#39;m not a webdev by day, so I just threw together minimal example.  I&#39;ve used your bezier guide in the past, that&#39;s good stuff, thanks."}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1577831678, "post_id": 59548618, "comment_id": 105266802, "body": "always glad to hear it&#39;s been useful - but even if you&#39;re not a web dev, showing modern code on SO is <i>always</i> worth it. There&#39;s tons of boilerplates available for most common code editors (sublime, VS Code, etc) so typically you don&#39;t even want to write your own code. Just use &quot;whatever&#39;s already guaranteed to be modern, proper code&quot;. (a <code>doctype html</code>, which explicitly says it&#39;s HTML5, but then a HTML4.01 meta tag syntax from literally over 20 years ago, for example, makes no sense =)"}], "answers": [{"tags": [], "owner": {"reputation": 12864, "user_id": 157525, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5820228fd7aefaba2a8bfb0503b9e2a8?s=128&d=identicon&r=PG", "display_name": "gct", "link": "https://stackoverflow.com/users/157525/gct"}, "is_accepted": true, "score": 1, "last_activity_date": 1577830676, "last_edit_date": 1577830676, "creation_date": 1577830280, "answer_id": 59548772, "question_id": 59548618, "link": "https://stackoverflow.com/questions/59548618/firefox-doesnt-close-websocket-immediately-on-connection-error/59548772#59548772", "title": "Firefox doesn&#39;t close WebSocket immediately on connection error?", "body": "<p>Found it. This is <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=711793\" rel=\"nofollow noreferrer\">intentional</a> behavior to comply with RFC 6455.  Per <a href=\"https://bug711793.bmoattachments.org/attachment.cgi?id=637655\" rel=\"nofollow noreferrer\">this</a> patch, it uses an exponential backoff up to 60 seconds max.  Unfortunately I think this means auto-reconnecting to a websocket endpoint in Firefox is broken.</p>\n"}], "owner": {"reputation": 12864, "user_id": 157525, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5820228fd7aefaba2a8bfb0503b9e2a8?s=128&d=identicon&r=PG", "display_name": "gct", "link": "https://stackoverflow.com/users/157525/gct"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 59548772, "answer_count": 1, "score": 0, "last_activity_date": 1577830676, "creation_date": 1577828331, "question_id": 59548618, "link": "https://stackoverflow.com/questions/59548618/firefox-doesnt-close-websocket-immediately-on-connection-error", "title": "Firefox doesn&#39;t close WebSocket immediately on connection error?", "body": "<p>I have this demo code:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n  &lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/&gt;\n  &lt;/head&gt;\n    &lt;body onload=\"init()\"&gt;\n      &lt;script type=\"text/javascript\"&gt;\n        function init() {\n            this.ws = new WebSocket(\"ws://localhost:1234\");\n            console.log(\"opening\");\n\n            // on close, display message and try to reopen\n            this.ws.onclose = function (evt) {\n                console.log(\"closed\");\n            }\n        }\n      &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Which is connecting to a websocket endpoint that doesn't exist.  I would expect this to error out basically immediately, but in Firefox, the time between it printing \"opening\" and printing \"closed\" is over a minute:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Zsfz7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zsfz7.png\" alt=\"snippet\"></a></p>\n\n<p>Is this expected behavior, or can it be configured to time out more quickly?  In Chrome the connection errors out immediately:</p>\n\n<p><a href=\"https://i.stack.imgur.com/zmqws.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zmqws.png\" alt=\"snippet\"></a></p>\n"}, {"tags": ["javascript", "jquery", "html", "css", "sharepoint"], "answers": [{"tags": [], "owner": {"reputation": 3739, "user_id": 5746974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TYo6a.jpg?s=128&g=1", "display_name": "LZ_MSFT", "link": "https://stackoverflow.com/users/5746974/lz-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1577848764, "creation_date": 1577848764, "answer_id": 59549812, "question_id": 59548600, "link": "https://stackoverflow.com/questions/59548600/is-there-an-alternative-to-image-map-to-be-able-to-change-background-color-of-a/59549812#59549812", "title": "Is there an alternative to image map to be able to change background-color of a specifif div area on an image?", "body": "<p>Add the example code below into script editor web part in site page to check if it works.</p>\n\n<pre><code>&lt;div&gt;\n    &lt;img src=\"https://cdn-images-1.medium.com/max/1600/0*H8odJZNPmo13lEJ2\" class=\"map\" width=\"800\" usemap=\"#simple\"/&gt;\n    &lt;map name=\"simple\"&gt;\n        &lt;area coords=\"211,259,192,300,212,337,208,414,228,425,243,418,274,363,307,305,291,292,272,284,231,254\" shape=\"poly\" data-maphilight='{\"strokeColor\":\"4d738e\",\"strokeWidth\":5,\"fillColor\":\"4d738e\",\"fillOpacity\":0.5}'&gt;\n    &lt;/map&gt;\n&lt;/div&gt;\n&lt;script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-3.3.1.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/maphilight/1.4.0/jquery.maphilight.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function () {\n        $('.map').maphilight();\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/UBoel.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UBoel.png\" alt=\"enter image description here\"></a></p>\n\n<p>And using IE F12 developer tools to check if some js error occurs, and check the CSS styles.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 3470686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2ef9cc4439debd3849afe303986c09d?s=128&d=identicon&r=PG&f=1", "display_name": "user3470686", "link": "https://stackoverflow.com/users/3470686/user3470686"}, "is_accepted": false, "score": 0, "last_activity_date": 1578401849, "creation_date": 1578401849, "answer_id": 59628885, "question_id": 59548600, "link": "https://stackoverflow.com/questions/59548600/is-there-an-alternative-to-image-map-to-be-able-to-change-background-color-of-a/59628885#59628885", "title": "Is there an alternative to image map to be able to change background-color of a specifif div area on an image?", "body": "<p>No it doesn't work, and there is no js or css error in dev tool.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 3470686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2ef9cc4439debd3849afe303986c09d?s=128&d=identicon&r=PG&f=1", "display_name": "user3470686", "link": "https://stackoverflow.com/users/3470686/user3470686"}, "is_accepted": false, "score": 0, "last_activity_date": 1578402071, "creation_date": 1578402071, "answer_id": 59628952, "question_id": 59548600, "link": "https://stackoverflow.com/questions/59548600/is-there-an-alternative-to-image-map-to-be-able-to-change-background-color-of-a/59628952#59628952", "title": "Is there an alternative to image map to be able to change background-color of a specifif div area on an image?", "body": "<p>No it doesn't work.</p>\n\n<p>There is an error with maphilight.js don't know what it mean.</p>\n\n<p>There's a screenshot : </p>\n\n<p><a href=\"https://i.stack.imgur.com/RkDy5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RkDy5.jpg\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 31, "user_id": 3470686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2ef9cc4439debd3849afe303986c09d?s=128&d=identicon&r=PG&f=1", "display_name": "user3470686", "link": "https://stackoverflow.com/users/3470686/user3470686"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1578402071, "creation_date": 1577828093, "question_id": 59548600, "link": "https://stackoverflow.com/questions/59548600/is-there-an-alternative-to-image-map-to-be-able-to-change-background-color-of-a", "title": "Is there an alternative to image map to be able to change background-color of a specifif div area on an image?", "body": "<p>I tried with image map combine with the Jquery Tool maphilight.js and it work all fine on desktop but when I tried to deploy the html page in a Content Editor Webpart on Sharepoint Onpremise, it doesn't work.</p>\n\n<p>I tried to put the code in a Script Editor Webpart without any success.</p>\n\n<p>There is the code : </p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-3.3.1.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"./js/jquery.maphilight.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function () {\n        $('.map').maphilight();\n    });&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div&gt;\n    &lt;img src=\"./images/canada.png\" class=\"map\" usemap=\"#simple\"&gt;\n    &lt;map name=\"simple\"&gt;\n        &lt;area coords=\"542,313,573,365,590,372,608,370,621,372,636,365,670,359,675,341,670,321,677,306,690,295,698,282,703,257,700,229,672,241,662,252,649,262,634,257,619,252,606,239,619,231,608,216,593,203,573,188,575,208,560,213,552,213,544,206,534,198,524,200,506,193,493,200,481,200,498,226,498,239,514,241,527,249,527,277,521,285,532,298\" shape=\"poly\" data-maphilight='{\"strokeColor\":\"4d738e\",\"strokeWidth\":5,\"fillColor\":\"4d738e\",\"fillOpacity\":0.5}'&gt;\n    &lt;/map&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Like I sad it work very well on my desktop but not on sharepoint on premise.\nAnd yes i have changed the path of img and js library for the good one on the SP version. </p>\n\n<p>Is there any alternative I can do with css or any other plugin.</p>\n\n<p>Thanks in advance.</p>\n\n<p>Screenshot :</p>\n\n<p><a href=\"https://i.stack.imgur.com/3Ifbg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Ifbg.png\" alt=\"Exemple\"></a></p>\n"}, {"tags": ["javascript", "ag-grid"], "comments": [{"owner": {"reputation": 9344, "user_id": 1417185, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5rjLN.jpg?s=128&g=1", "display_name": "Paritosh", "link": "https://stackoverflow.com/users/1417185/paritosh"}, "edited": false, "score": 0, "creation_date": 1577944624, "post_id": 59548511, "comment_id": 105285868, "body": "Server being slow shouldn&#39;t be a problem. I think you are initializing <code>dataSource</code> in incorrect manner. Could you share your code on plunk or stackblitz?"}, {"owner": {"reputation": 123, "user_id": 12440031, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rhHnqXXeGQk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdb7FNkatFkcNTvpRtLWFIPOdQq7g/photo.jpg?sz=128", "display_name": "Dan", "link": "https://stackoverflow.com/users/12440031/dan"}, "reply_to_user": {"reputation": 9344, "user_id": 1417185, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5rjLN.jpg?s=128&g=1", "display_name": "Paritosh", "link": "https://stackoverflow.com/users/1417185/paritosh"}, "edited": false, "score": 0, "creation_date": 1577976758, "post_id": 59548511, "comment_id": 105298443, "body": "@Paritosh Getting it to work on one of those would be pretty time consuming but here&#39;s a pastebin of the code. I use CoffeeScript - here&#39;s that file <a href=\"https://pastebin.com/v9SrQLKz\" rel=\"nofollow noreferrer\">pastebin.com/v9SrQLKz</a>, or here&#39;s a pastebin of some translated JS I got from an online tool: <a href=\"https://pastebin.com/9CmrZFL7\" rel=\"nofollow noreferrer\">pastebin.com/9CmrZFL7</a>  The main takeaway is that the &quot;works&quot; variable is a list of inventory items. Anything that is like &quot;gridLoadMore&quot; or &quot;gridFetch&quot; or whatever are making calls to the server to fetch data. <code>this.CreateAgGridDataSource() </code> creates the data source to put in with <code>this.gridOptions.api.setServerSideDatasource(datasource)</code>"}, {"owner": {"reputation": 288, "user_id": 1507280, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A4sxc.png?s=128&g=1", "display_name": "OvSleep", "link": "https://stackoverflow.com/users/1507280/ovsleep"}, "edited": false, "score": 0, "creation_date": 1597259371, "post_id": 59548511, "comment_id": 112077828, "body": "@Dan, did you ever found a solution for this? I&#39;m running into the same issue now"}], "owner": {"reputation": 123, "user_id": 12440031, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rhHnqXXeGQk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdb7FNkatFkcNTvpRtLWFIPOdQq7g/photo.jpg?sz=128", "display_name": "Dan", "link": "https://stackoverflow.com/users/12440031/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 521, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577827108, "creation_date": 1577827108, "question_id": 59548511, "link": "https://stackoverflow.com/questions/59548511/ag-grid-rowdatachanged-not-firing-properly", "title": "Ag-Grid rowDataChanged not firing properly", "body": "<p>Here is my <code>onDataChanged()</code> event. It's plugged into my Ag-Grid HTML. It does fire (3 times) but each time it only thinks there's 1 row being displayed. I'm using the serverSide row model and data coming in from the server is a bit slow, so I think that's the problem. I need to have this event fire when the data is changed though, so I can perform some actions when I have a full list of data. At the moment, again, it only ever thinks there's 1 row being displayed when I see that there are 20 in the list.</p>\n\n<pre><code>     onDataChanged: function(event) {\n        var count;\n        console.log(\"data changed\");\n        count = this.gridOptions.api.getDisplayedRowCount();\n        console.log(count);\n      }\n// only ever outputs \"1\" even though I see 20+ items in the list\n</code></pre>\n\n<p>Because I'm using the serverSide row model, I'm using a serverDatasource to populate the data. Is there another way to detect when data has been changed? Thank you</p>\n"}, {"tags": ["javascript", "charts", "highcharts"], "comments": [{"owner": {"reputation": 1887, "user_id": 2996989, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x5ptd.jpg?s=128&g=1", "display_name": "Ahmed Sunny", "link": "https://stackoverflow.com/users/2996989/ahmed-sunny"}, "edited": false, "score": 0, "creation_date": 1577885311, "post_id": 59548510, "comment_id": 105274363, "body": "there is way to do it custom code, depends on your data, if your data is dynamic or static, you can use custom categories for xAxis"}], "answers": [{"tags": [], "owner": {"reputation": 1044, "user_id": 2769517, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5d31fd8430a239e2db1a685b7f2389f8?s=128&d=identicon&r=PG&f=1", "display_name": "Marko", "link": "https://stackoverflow.com/users/2769517/marko"}, "is_accepted": false, "score": 0, "last_activity_date": 1577886356, "creation_date": 1577886356, "answer_id": 59553063, "question_id": 59548510, "link": "https://stackoverflow.com/questions/59548510/how-to-format-xaxis-label-as-date-for-each-value-in-highcharts/59553063#59553063", "title": "How to format xAxis label as date for each value in Highcharts?", "body": "<p>I managed to do it like this</p>\n\n<pre><code>Highcharts.chart(\"container\", {\n    xAxis: {\n        type: 'datetime',\n        labels: {\n            formatter() {\n\n                // get data from series, \"this.value\" is a key for each array\n                var currentData = this.chart.userOptions.series[0].data[this.value];\n\n                // split \"2018-10\" into array and return each on new line\n                var currentData = currentData[0].split('-');\n                return currentData[1] + '&lt;br&gt;' + currentData[0];\n\n            }\n        }\n\n    },\n\n  series: [\n    {\n      data: [\n        [\"2018-10\", 18],\n        [\"2018-11\", 16],\n        [\"2018-12\", 21],\n        [\"2019-01\", 22],\n        [\"2019-02\", 22],\n        [\"2019-03\", 20],\n        [\"2019-04\", 22],\n        [\"2019-05\", 24],\n        [\"2019-06\", 25],\n        [\"2019-07\", 31],\n        [\"2019-08\", 35],\n        [\"2019-09\", 33],\n        [\"2019-10\", 35],\n        [\"2019-11\", 35],\n        [\"2019-12\", 35]\n      ]\n    }\n  ]\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1887, "user_id": 2996989, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x5ptd.jpg?s=128&g=1", "display_name": "Ahmed Sunny", "link": "https://stackoverflow.com/users/2996989/ahmed-sunny"}, "is_accepted": true, "score": 1, "last_activity_date": 1577886739, "creation_date": 1577886739, "answer_id": 59553098, "question_id": 59548510, "link": "https://stackoverflow.com/questions/59548510/how-to-format-xaxis-label-as-date-for-each-value-in-highcharts/59553098#59553098", "title": "How to format xAxis label as date for each value in Highcharts?", "body": "<p>You can do it like this way, using type category will give the xaxis of series</p>\n\n<pre><code> xAxis: {\n   type: 'category',\n   labels: {\n        formatter: function () {\n            var str = this.value.split('-');\n            return str[1]+'&lt;br&gt;'+ str[0];\n        }\n    }\n},\n</code></pre>\n"}], "owner": {"reputation": 1044, "user_id": 2769517, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5d31fd8430a239e2db1a685b7f2389f8?s=128&d=identicon&r=PG&f=1", "display_name": "Marko", "link": "https://stackoverflow.com/users/2769517/marko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 59553098, "answer_count": 2, "score": 1, "last_activity_date": 1577886739, "creation_date": 1577827098, "question_id": 59548510, "link": "https://stackoverflow.com/questions/59548510/how-to-format-xaxis-label-as-date-for-each-value-in-highcharts", "title": "How to format xAxis label as date for each value in Highcharts?", "body": "<p>I am trying to create a simple line chart. As you can see data is formatted so that the first value in array is date (year - month), and then there is a value. I can change the format of date if necessary but data will generally always have a single value for each month in ascending order up to current month. </p>\n\n<p>Is it possible to format chart so that bottom axis has labels for date (year + month)? Here is the <a href=\"https://codepen.io/ivan-topi/pen/QWwqaXw\" rel=\"nofollow noreferrer\">Codepen</a> of my working example and here is the <a href=\"https://jsfiddle.net/gh/get/library/pure/highcharts/highcharts/tree/master/samples/highcharts/demo/line-basic/\" rel=\"nofollow noreferrer\">original Highchart example</a> if needed. </p>\n\n<pre><code>Highcharts.chart(\"container\", {\n  series: [\n    {\n      data: [\n        [\"2018-10\", 18],\n        [\"2018-11\", 16],\n        [\"2018-12\", 21],\n        [\"2019-01\", 22],\n        [\"2019-02\", 22],\n        [\"2019-03\", 20],\n        [\"2019-04\", 22],\n        [\"2019-05\", 24],\n        [\"2019-06\", 25],\n        [\"2019-07\", 31],\n        [\"2019-08\", 35],\n        [\"2019-09\", 33],\n        [\"2019-10\", 35],\n        [\"2019-11\", 35],\n        [\"2019-12\", 35]\n      ]\n    }\n  ]\n});\n</code></pre>\n\n<p>This is what I am aiming for \n<a href=\"https://i.stack.imgur.com/lwsnG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lwsnG.png\" alt=\"enter image description here\"></a></p>\n\n<p>If I can easier do this in a different library I am open to suggestions.</p>\n"}, {"tags": ["javascript", "html", "css", "dom", "display"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 12139670, "user_type": "registered", "profile_image": "https://graph.facebook.com/741015723030245/picture?type=large", "display_name": "Mohamed Necib", "link": "https://stackoverflow.com/users/12139670/mohamed-necib"}, "edited": false, "score": 0, "creation_date": 1577829116, "post_id": 59548631, "comment_id": 105266373, "body": "Ok I&#39;ll try this :)"}], "tags": [], "owner": {"reputation": 61, "user_id": 5084543, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-87P5_II0tQM/AAAAAAAAAAI/AAAAAAAAAhk/ovhpC7PXH4Q/photo.jpg?sz=128", "display_name": "Olek", "link": "https://stackoverflow.com/users/5084543/olek"}, "is_accepted": false, "score": 0, "last_activity_date": 1577828451, "creation_date": 1577828451, "answer_id": 59548631, "question_id": 59548499, "link": "https://stackoverflow.com/questions/59548499/replace-image-by-another-using-css-display-and-js/59548631#59548631", "title": "Replace image by another using css display and JS", "body": "<p>from display \"none\" to \"inline\" there is no transition. Instead try to use \"opacity: 0\" and \"opacity: 1\" and set the \"transition: all 0.2s ease\";</p>\n"}, {"tags": [], "owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "is_accepted": false, "score": 0, "last_activity_date": 1577830738, "creation_date": 1577830738, "answer_id": 59548807, "question_id": 59548499, "link": "https://stackoverflow.com/questions/59548499/replace-image-by-another-using-css-display-and-js/59548807#59548807", "title": "Replace image by another using css display and JS", "body": "<p><strong>The Display Property:</strong></p>\n\n<p>In your initial question you say that you want to use the <strong>display</strong> property to hide and show your images, <strong>however</strong>, you also state that you would like to have the screens <em>transition</em> from one to another.</p>\n\n<p>Transitioning is definitely possible through the aptly named CSS <code>transition</code> property  </p>\n\n<p>The problem is that the <strong>display</strong> property is not able to be animated. If an element is configured to <code>display: none;</code> the page is <strong>immediately</strong> repainted with that element removed.</p>\n\n<p>This means that you need to use a different property, and we typically would use <code>opacity</code> or <code>visibility</code>. Here are the differences between these three:</p>\n\n<ul>\n<li><code>display: none;</code> \n\n<ul>\n<li><em>immediately</em> collapses the element</li>\n<li>removes the element from view.</li>\n<li>There's no transition allowed.</li>\n</ul></li>\n<li><code>visibility: hidden;</code> \n\n<ul>\n<li>Does not collapse the element\n\n<ul>\n<li>The space it occupied is blank. </li>\n</ul></li>\n<li>removes the element from view</li>\n<li>Transitions are allowed\n\n<ul>\n<li>The element will still <em>pop</em> out of sight.</li>\n</ul></li>\n</ul></li>\n<li><code>opacity: 0;</code> \n\n<ul>\n<li>Does not collapse the element\n\n<ul>\n<li>The space it occupied is blank. </li>\n</ul></li>\n<li>removes the element from view</li>\n<li>Transitions are allowed.\n\n<ul>\n<li>The element will fade until it is not visible.</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>Here is an example of the different way these properties affect the layout of the page:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const context = document.querySelector(\"#examples\");\r\n\r\nconst ele = context.querySelector.bind(context),\r\n      hide = section =&gt; section.classList.toggle(\"hide\"),\r\n      onClickHide = (btn, section) =&gt; btn.addEventListener(\"click\", () =&gt; hide(section));\r\n\r\n  opacity = ele(\".opacity\"),\r\n  opacity_button = ele(\"#oBtn\"),\r\n  \r\n  visibility = ele(\".visibility\"),\r\n  visibility_button = ele(\"#vBtn\"),\r\n  \r\n  display = ele(\".display\"),\r\n  display_button = ele(\"#dBtn\"),\r\n  \r\n  toggle_button = ele(\"#tBtn\");\r\n  \r\n\r\nonClickHide(opacity_button, opacity);\r\nonClickHide(visibility_button, visibility);\r\nonClickHide(display_button, display);\r\n\r\ntoggle_button\r\n  .addEventListener(\"click\", function() {\r\n  hide(opacity); \r\n  hide(visibility);\r\n  hide(display);\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>html,\r\nbody,\r\n#examples {\r\n  width: 100%;\r\n  height: 100%;\r\n  box-sizing: content-box;\r\n  margin: 0px;\r\n  padding: 0px;\r\n}\r\n\r\n#examples section {\r\ndisplay: flex;\r\nflex-direction: column;\r\n  width: 100px;\r\n  height: 100px;\r\n  border: 5px solid black;\r\n  margin: 5px;\r\n  transition: all .5s ease-in-out;\r\n}\r\n\r\n#examples section.hide {\r\n  border-radius: 100px;\r\n}\r\n#examples section.opacity {\r\n  background-color: blue;\r\n  color: white;\r\n}\r\n\r\n#examples section.opacity.hide {\r\n  opacity: 0;\r\n}\r\n\r\n#examples section.visibility {\r\n  background-color: purple;\r\n  color: white;\r\n}\r\n\r\n#examples section.visibility.hide {\r\n  visibility: hidden;\r\n}\r\n\r\n#examples section.display {\r\ndisplay: block;\r\n  background-color: red;\r\n  color: white;\r\n}\r\n\r\n#examples section.display.hide {\r\ncolor: black;\r\n  display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;main id=\"examples\"&gt;\r\n  &lt;section class=\"opacity\"&gt;opacity &lt;button id=\"oBtn\"&gt;hide&lt;/button&gt;&lt;/section&gt;\r\n  &lt;hr /&gt;\r\n  &lt;section class=\"visibility\"&gt;visibility &lt;button id=\"vBtn\"&gt;hide&lt;/button&gt;&lt;/section&gt;\r\n  &lt;hr /&gt;\r\n  &lt;section class=\"display\"&gt;display &lt;button id=\"dBtn\"&gt;hide&lt;/button&gt;&lt;/section&gt;\r\n  &lt;hr/&gt;\r\n  &lt;button id=\"tBtn\"&gt;Toggle All&lt;/button&gt;\r\n&lt;/main&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Note:</strong> In the above there are actually two properties transitioning - <code>opacity</code>, <code>visibility</code>, or <code>display</code> - <strong>and</strong> <code>border-radius</code>. You should notice firstly how in the <code>display</code> example the <code>border-radius</code> change isn't seen <em>at all</em>, and secondly how the <code>display</code> example is the only one that collapses the element so that it no longer takes up space.</p>\n\n<hr>\n\n<h2>Applying Transitions:</h2>\n\n<p>By combining <code>opacity: 0;</code> with <code>height: 0px; width: 0px;</code> we can remove the element visually from the page while also removing any impact it has on other elements - meaning that it <strong>won't take up space</strong> and <strong>is transitionable</strong>.</p>\n\n<p>However, in your particular case ( wanting to change the image to a different color ), all of that isn't necessary. You can swap out your <code>img</code> tags for <code>div</code> tags, then apply the background-url property to get an image (a.e. <code>background-url: url(\"facebook.png\");</code> ) and a <code>hover</code> effect that adds whatever <code>background-color</code> you're looking for.</p>\n\n<pre><code>#facebook {\n width: 50px;\n height: 50px;\n\nbackground-image: url(\"http://via.placeholder.com/50x50\");\ncursor: pointer;\ntransition: all .3s ease-in-out;\n}\n\n#facebook:hover {\n    background-color: darkblue;\n    background-blend-mode: color-dodge;\n}\n</code></pre>\n\n<p><strong>Note:</strong> You can also adjust <code>background-blend-mode</code> to other options to change how the image and the color are put together. a.e. <code>background-blend-mode: luminosity;</code> will make the color lighter <code>background-blend-mode: color-dodge;</code> will make it darker and add \"dodge\" effect. Feel free to play around!</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#facebook {\r\nwidth: 50px;\r\nheight: 50px;\r\nbackground-image: url(\"http://via.placeholder.com/50x50\");\r\ncursor: pointer;\r\ntransition: all .3s ease-in-out;\r\n}\r\n#facebook:hover {\r\n    background-color: darkblue;\r\n    background-blend-mode: color-dodge;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"social_bar\"&gt;\r\n    &lt;div class=\"width_size\"&gt;        \r\n        &lt;p&gt;CONTACT@PIERREJACOBSON.COM&lt;/p&gt;\r\n        &lt;div id=\"network_logo\"&gt;\r\n     \r\n            &lt;div alt=\"logo_facebook\" id=\"facebook\"&gt;&lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;!--network_logo--&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;!--width_size--&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 37, "user_id": 12139670, "user_type": "registered", "profile_image": "https://graph.facebook.com/741015723030245/picture?type=large", "display_name": "Mohamed Necib", "link": "https://stackoverflow.com/users/12139670/mohamed-necib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1577830738, "creation_date": 1577827023, "last_edit_date": 1577828589, "question_id": 59548499, "link": "https://stackoverflow.com/questions/59548499/replace-image-by-another-using-css-display-and-js", "title": "Replace image by another using css display and JS", "body": "<p>I'm trying to apply the same effect on the social network logo: <a href=\"https://www.pierrejacobson.com/\" rel=\"nofollow noreferrer\">https://www.pierrejacobson.com/</a></p>\n\n<p>Instead of using CSS awesome, I would like to do it with an image but it doesn't work as expected.</p>\n\n<p>Regarding CSS, there is no need to put the code here. I just have the three social network logo on <code>display: none;</code>.</p>\n\n<p>Could you please help me? </p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div id=\"social_bar\"&gt;\n    &lt;div class=\"width_size\"&gt;        \n        &lt;img alt=\"image enveloppe\" class=\"email\" src=\"email.png\" /&gt;\n        &lt;p&gt;CONTACT@PIERREJACOBSON.COM&lt;/p&gt;\n        &lt;div id=\"network_logo\"&gt;\n            &lt;img alt=\"logo_facebook\" id=\"fixed_facebook\" src=\"facebook.png\" /&gt;\n            &lt;img alt=\"logo_youtube\" id=\"fixed_youtube\" src=\"youtube.png\" /&gt;\n            &lt;img alt=\"logo_instagram\" id=\"fixed_instagram\" src=\"instagram.png\" /&gt;\n            &lt;img alt=\"logo_facebook\" id=\"facebook\" src=\"facebook_blue.png\" /&gt;\n            &lt;img alt=\"logo_youtube\"  id=\"youtube\" src=\"youtube_blue.png\" /&gt;\n            &lt;img alt=\"logo_instagram\"  id=\"instagram\" src=\"instagram_blue.png\" /&gt;\n        &lt;/div&gt;\n\n        &lt;!--network_logo--&gt;\n    &lt;/div&gt;\n\n    &lt;!--width_size--&gt;\n&lt;/div&gt;\n\n&lt;!--social_bar--&gt;\n&lt;div id=\"logo_bar\"&gt;\n    &lt;div class=\"width_size\"&gt;\n        &lt;img alt=\"logo\" src=\"logo-pierre-jacobson2.png\" /&gt;\n        &lt;input type=\"text\" id=\"name\" name=\"name\" required minlength=\"4\" maxlength=\"8\" size=\"30\" value=\"RECHERCHER...\" /&gt;\n        &lt;img alt=\"search\" src=\"search-solid.svg\" /&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>JS</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const get_img = function(name){ return document.getElementById(name); };\n\nconst img_one = get_img(\"fixed_facebook\");\nconst img_two = get_img(\"fixed_youtube\");\nconst img_three = get_img(\"fixed_instagram\");\nconst img_facebook = get_img(\"facebook\");\nconst img_youtube = get_img(\"youtube\");\nconst img_instagram = get_img(\"instagram\");\n\nimg_one.addEventListener(\"mouseover\", function (event) {\n    img_one.style.display = \"none\";\n    img_facebook.style.display = \"inline\";\n});\nimg_two.addEventListener(\"mouseover\", function (event) {\n    img_two.style.display = \"none\";\n    img_youtube.style.display = \"inline\";\n});\nimg_three.addEventListener(\"mouseover\", function (event) {\n    img_three.style.display = \"none\";\n    img_instagram.style.display = \"inline\";\n});\nimg_one.addEventListener(\"mouseout\", function (event) {\n    img_one.style.display = \"inline\";\n    img_facebook.style.display = \"none\";\n});\nimg_two.addEventListener(\"mouseout\", function (event) {\n    img_two.style.display = \"inline\";\n    img_youtube.style.display = \"none\";\n});\nimg_three.addEventListener(\"mouseout\", function (event) {\n    img_three.style.display = \"inline\";\n    img_instagram.style.display = \"none\";\n});\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "json"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 2, "creation_date": 1577827105, "post_id": 59548488, "comment_id": 105266027, "body": "&quot;<i>without parsing through the whole array</i>&quot; impossible - if you want to do something with each element, then you need to visit each element."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1577827885, "post_id": 59548488, "comment_id": 105266167, "body": "Use <code>Array.prototype.map()</code> to extract the properties you want from each element."}], "answers": [{"tags": [], "owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "is_accepted": true, "score": 0, "last_activity_date": 1577828858, "last_edit_date": 1577828858, "creation_date": 1577828457, "answer_id": 59548632, "question_id": 59548488, "link": "https://stackoverflow.com/questions/59548488/how-to-take-particular-key-value-pairs-from-json-array/59548632#59548632", "title": "How to take particular key value pairs from json array", "body": "<p>You could use a <code>Proxy</code> to get them individually:</p>\n\n<pre><code>let proxy = new Proxy(data,   {get: function(target, prop, receiver) {\n      let obj = Reflect.get(...arguments);\n      return { \"Item\": obj[\"Item\"], \"Unit CP\": obj[\"Unit CP\"] };\n  } });\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let data = [{\"Item\": \"Item1\", \"Unit CP\": 100, \"Unit SP\": 150, \"Quantity\": 1, \"TotalSP\": 150},\r\n{\"Item\": \"Item2\", \"Unit CP\": 50, \"Unit SP\": 70, \"Quantity\": 7, \"TotalSP\": 490},\r\n{\"Item\": \"Item3\", \"Unit CP\": 1000, \"Unit SP\": 900, \"Quantity\": 1, \"TotalSP\": 900},\r\n{\"Item\": \"Item4\", \"Unit CP\": 200, \"Unit SP\": 500, \"Quantity\": 2, \"TotalSP\": 1000},\r\n{\"Item\": \"Item5\", \"Unit CP\": 300, \"Unit SP\": 311, \"Quantity\": 3, \"TotalSP\": 933},\r\n{\"Item\": \"Item6\", \"Unit CP\": 750, \"Unit SP\": 755, \"Quantity\": 2, \"TotalSP\": 1510}]\r\n\r\nlet proxy = new Proxy(data,   {get: function(target, prop, receiver) {\r\n      let obj = Reflect.get(...arguments);\r\n      return { \"Item\": obj[\"Item\"], \"Unit SP\": obj[\"Unit SP\"] };\r\n  } });\r\n  \r\n console.log( proxy[0] )</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p>Or adjust <code>Symbol.iterator</code> to only return back what's needed while iterating.</p>\n\n<pre><code>data[Symbol.iterator] = function* () {\n let i = -1;\n while(++i &lt; data.length) {\n yield { \"Item\": data[i][\"Item\"], \"Unit CP\": data[i][\"Unit CP\"] }\n }\n}\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let data = [{\"Item\": \"Item1\", \"Unit CP\": 100, \"Unit SP\": 150, \"Quantity\": 1, \"TotalSP\": 150},\r\n{\"Item\": \"Item2\", \"Unit CP\": 50, \"Unit SP\": 70, \"Quantity\": 7, \"TotalSP\": 490},\r\n{\"Item\": \"Item3\", \"Unit CP\": 1000, \"Unit SP\": 900, \"Quantity\": 1, \"TotalSP\": 900},\r\n{\"Item\": \"Item4\", \"Unit CP\": 200, \"Unit SP\": 500, \"Quantity\": 2, \"TotalSP\": 1000},\r\n{\"Item\": \"Item5\", \"Unit CP\": 300, \"Unit SP\": 311, \"Quantity\": 3, \"TotalSP\": 933},\r\n{\"Item\": \"Item6\", \"Unit CP\": 750, \"Unit SP\": 755, \"Quantity\": 2, \"TotalSP\": 1510}]\r\n\r\ndata[Symbol.iterator] = function* () {\r\n let i = -1;\r\n while(++i &lt; data.length) {\r\n yield { \"Item\": data[i][\"Item\"], \"Unit SP\": data[i][\"Unit SP\"] }\r\n }\r\n}\r\n\r\nfor(let obj of data) console.log(obj);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p>Probably, as you've likely supposed, the easiest way is just to use <code>Array.prototype.map</code> and create a new instance of data as you'd like it. </p>\n\n<p>The only reason I could see you <em>not</em> going this route is if you needed to use the same reference, but as you haven't mentioned that I would almost always suggest this:</p>\n\n<pre><code>data.map(obj =&gt; ({ \"Item\": obj[\"Item\"], \"Unit SP\": obj[\"Unit SP\"] }) );\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let data = [{\"Item\": \"Item1\", \"Unit CP\": 100, \"Unit SP\": 150, \"Quantity\": 1, \"TotalSP\": 150},\r\n{\"Item\": \"Item2\", \"Unit CP\": 50, \"Unit SP\": 70, \"Quantity\": 7, \"TotalSP\": 490},\r\n{\"Item\": \"Item3\", \"Unit CP\": 1000, \"Unit SP\": 900, \"Quantity\": 1, \"TotalSP\": 900},\r\n{\"Item\": \"Item4\", \"Unit CP\": 200, \"Unit SP\": 500, \"Quantity\": 2, \"TotalSP\": 1000},\r\n{\"Item\": \"Item5\", \"Unit CP\": 300, \"Unit SP\": 311, \"Quantity\": 3, \"TotalSP\": 933},\r\n{\"Item\": \"Item6\", \"Unit CP\": 750, \"Unit SP\": 755, \"Quantity\": 2, \"TotalSP\": 1510}]\r\n\r\nlet transformed = data.map(obj =&gt; ({ \"Item\": obj[\"Item\"], \"Unit SP\": obj[\"Unit SP\"] }) );\r\n\r\nconsole.log(transformed);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<h2>Aside:</h2>\n\n<p>You'll notice that these all get the data in some way and then extrapolate a new Object from it. That's just how <em>data transformations</em> work. If your only option is to get the data as-is from wherever you're getting it from, there's no getting around it. </p>\n\n<p>If this is a resource that you're pulling from( like a REST API ) and you have access to alter what information is going out, that's where you'd start if you don't want to alter your data on the client-side.</p>\n\n<p>Otherwise some combination of the above will likely have to do.</p>\n"}], "owner": {"reputation": 3, "user_id": 12210567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/283abd495766ee3b52ee0ab19146cd28?s=128&d=identicon&r=PG&f=1", "display_name": "narendra", "link": "https://stackoverflow.com/users/12210567/narendra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "closed_date": 1577828600, "accepted_answer_id": 59548632, "answer_count": 1, "score": -2, "last_activity_date": 1577828858, "creation_date": 1577826890, "question_id": 59548488, "link": "https://stackoverflow.com/questions/59548488/how-to-take-particular-key-value-pairs-from-json-array", "closed_reason": "Needs details or clarity", "title": "How to take particular key value pairs from json array", "body": "<p>I have a large amount of data in JSON array format.\nA shorter version of which is as shown below</p>\n\n<pre><code>[{\"Item\": \"Item1\", \"Unit CP\": 100, \"Unit SP\": 150, \"Quantity\": 1, \"TotalSP\": 150},\n{\"Item\": \"Item2\", \"Unit CP\": 50, \"Unit SP\": 70, \"Quantity\": 7, \"TotalSP\": 490},\n{\"Item\": \"Item3\", \"Unit CP\": 1000, \"Unit SP\": 900, \"Quantity\": 1, \"TotalSP\": 900},\n{\"Item\": \"Item4\", \"Unit CP\": 200, \"Unit SP\": 500, \"Quantity\": 2, \"TotalSP\": 1000},\n{\"Item\": \"Item5\", \"Unit CP\": 300, \"Unit SP\": 311, \"Quantity\": 3, \"TotalSP\": 933},\n{\"Item\": \"Item6\", \"Unit CP\": 750, \"Unit SP\": 755, \"Quantity\": 2, \"TotalSP\": 1510}]\n</code></pre>\n\n<p>i want to get a JSON array of objects with keys \"Item\" and \"Unit SP\" only i.e</p>\n\n<pre><code>[{\"Item\": \"Item1\", \"Unit SP\": 150},\n{\"Item\": \"Item2\", \"Unit SP\": 70},\n{\"Item\": \"Item3\", \"Unit SP\": 900},\n{\"Item\": \"Item4\", \"Unit SP\": 500},\n{\"Item\": \"Item5\", \"Unit SP\": 311},\n{\"Item\": \"Item6\", \"Unit SP\": 755}]\n</code></pre>\n\n<p>Is there a simpler way to do so in javascript without parsing through the whole array?\nThanks in advance </p>\n"}, {"tags": ["javascript", "amazon-web-services", "amazon-cognito"], "comments": [{"owner": {"reputation": 11, "user_id": 12548677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9cdaab6c8ff12532df3a93a4f277b3b?s=128&d=identicon&r=PG&f=1", "display_name": "Miguel", "link": "https://stackoverflow.com/users/12548677/miguel"}, "edited": false, "score": 0, "creation_date": 1578494817, "post_id": 59548461, "comment_id": 105457511, "body": "haha silly me! I figured the error or more my typo. value has to be &#39;Value&#39; instead of &#39;value&#39;"}], "owner": {"reputation": 11, "user_id": 12548677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9cdaab6c8ff12532df3a93a4f277b3b?s=128&d=identicon&r=PG&f=1", "display_name": "Miguel", "link": "https://stackoverflow.com/users/12548677/miguel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1577848669, "creation_date": 1577826605, "last_edit_date": 1577848669, "question_id": 59548461, "link": "https://stackoverflow.com/questions/59548461/attributelist-push-is-not-working-in-cognito", "title": "attributeList.push() is not working in cognito", "body": "<p>The email(username) works but the given_name and family_name does not. I want to push this attributes so I can see it in cognito. I am using amazon-cognito-identity.js. Am I doing something wrong with the attributeList.push() method?</p>\n\n<pre><code>function registerButton() {\n    var username = document.getElementById('personalemail').value;\n    var given_name = document.getElementById('given_name').value;\n    var family_name = document.getElementById('family_name').value;\n    var password = document.getElementById('passwordInput').value;\n\n    //starts gathering info from cognito\n    var poolData = {\n        UserPoolId : _config.cognito.userPoolId, \n        ClientId : _config.cognito.clientId \n    }\n\n    var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);\n\n    var attributeList = [];\n\n    var dataEmail = {\n        Name: 'email',\n        value: username\n    };\n    var dataFirstName = {\n        Name: 'given_name',\n        value: given_name\n    };\n    var dataLastName = {\n        Name: 'family_name',\n        value: family_name\n    };\n\n    var attributeEmail = new AmazonCognitoIdentity.CognitoUserAttribute(dataEmail);\n    var attributeFirstName = new AmazonCognitoIdentity.CognitoUserAttribute(dataFirstName);\n    var attributeLastName = new AmazonCognitoIdentity.CognitoUserAttribute(dataLastName);   \n\n    attributeList.push(attributeEmail);\n    attributeList.push(attributeFirstName);\n    attributeList.push(attributeLastName);\n\n    userPool.signUp(username, password, attributeList, null, function(err, result){\n        if (err) {\n            alert(err.message || JSON.stringify(err));\n            return;\n        }\n\n        //location.replace(\"../register/subscriptionplans.html\");\n    });\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "http", "httpmodule"], "comments": [{"owner": {"reputation": 11, "user_id": 11734650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ie1lE.jpg?s=128&g=1", "display_name": "Binaya Rijal", "link": "https://stackoverflow.com/users/11734650/binaya-rijal"}, "edited": false, "score": 0, "creation_date": 1577826271, "post_id": 59548426, "comment_id": 105265874, "body": "Output of above program: PS D:\\Programming note-self\\projects&gt; node app.js Listening @port 8000"}, {"owner": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "edited": false, "score": 0, "creation_date": 1577826491, "post_id": 59548426, "comment_id": 105265916, "body": "Did the video tutor instruct you to make the strict comparison <code>req === &#39;&#47;&#39;</code>? Look up some examples of <code>createServer</code> usage online and see how they check which route the request is coming through."}, {"owner": {"reputation": 11, "user_id": 11734650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ie1lE.jpg?s=128&g=1", "display_name": "Binaya Rijal", "link": "https://stackoverflow.com/users/11734650/binaya-rijal"}, "reply_to_user": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "edited": false, "score": 1, "creation_date": 1577826718, "post_id": 59548426, "comment_id": 105265957, "body": "Yes, he instructed to make strict comparison, but i think i found the mistake, I just forgot to use url properties of req method while comparing and now issue is solved. Thank you for your advice. using req.url === &#39;/&#39; helped me."}], "answers": [{"tags": [], "owner": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "is_accepted": true, "score": 3, "last_activity_date": 1577826999, "creation_date": 1577826999, "answer_id": 59548498, "question_id": 59548426, "link": "https://stackoverflow.com/questions/59548426/node-js-http-server-taking-long-time-to-load-and-is-not-sending-data/59548498#59548498", "title": "Node.js HTTP Server- Taking long time to load and is not sending data", "body": "<p>The strict comparison <code>req === '/'</code> is comparing a <em>request object</em> with a string, a comparison which will never be true.</p>\n\n<p>You likely meant to use: <code>req.url === '/'</code></p>\n"}], "owner": {"reputation": 11, "user_id": 11734650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ie1lE.jpg?s=128&g=1", "display_name": "Binaya Rijal", "link": "https://stackoverflow.com/users/11734650/binaya-rijal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 59548498, "answer_count": 1, "score": 0, "last_activity_date": 1577826999, "creation_date": 1577826207, "question_id": 59548426, "link": "https://stackoverflow.com/questions/59548426/node-js-http-server-taking-long-time-to-load-and-is-not-sending-data", "title": "Node.js HTTP Server- Taking long time to load and is not sending data", "body": "<p>I am learning node.js, While using HTTP module i tried to create by own server as per instruction of video tutor but my server is not sending any response at port 3000 and port 8000.</p>\n\n<p>*</p>\n\n<pre><code>const http = require('http');\nconst server = http.createServer((req, res) =&gt; { \n    if(req === '/'){ \n        res.write('Hello world, first program in server using http module');\n        res.end();\n    }\n    if(req === '/api/courses'){\n        res.write(json.strigify([1,2,3]));\n        res.end();\n    }\n});\nserver.listen(8000);\nconsole.log('Listening @port 8000');\n</code></pre>\n\n<p>*</p>\n"}, {"tags": ["javascript", "reactjs", "jestjs", "react-testing-library"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 12633931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7713912451817e6c888da31bc6f8a55?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/12633931/jared"}, "edited": false, "score": 0, "creation_date": 1577832345, "post_id": 59548822, "comment_id": 105266939, "body": "Thanks for the response Drew, but I am not using Redux. I&#39;m using the built in useReducer hook in React."}, {"owner": {"reputation": 39638, "user_id": 8690857, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-47_HcdolAr0/AAAAAAAAAAI/AAAAAAAAB30/lD6xAXOWlu4/photo.jpg?sz=128", "display_name": "Drew Reese", "link": "https://stackoverflow.com/users/8690857/drew-reese"}, "reply_to_user": {"reputation": 23, "user_id": 12633931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7713912451817e6c888da31bc6f8a55?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/12633931/jared"}, "edited": false, "score": 0, "creation_date": 1577832684, "post_id": 59548822, "comment_id": 105267007, "body": "Yes @Jared, that was merely an example of a wrapper/provider I use in testing. Further in my answer I shared a wrapper I think you can use that mocks a <code>dispatch</code> function for your component under test. The actions/reducers used by both redux and <code>useReducer</code> hook are nearly identical."}, {"owner": {"reputation": 23, "user_id": 12633931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7713912451817e6c888da31bc6f8a55?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/12633931/jared"}, "edited": false, "score": 0, "creation_date": 1577833128, "post_id": 59548822, "comment_id": 105267072, "body": "Ahh pardon my ignorance, I&#39;m not the most familiar with Redux. I thought the second part was still related to Redux. I see what you are saying now."}, {"owner": {"reputation": 39638, "user_id": 8690857, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-47_HcdolAr0/AAAAAAAAAAI/AAAAAAAAB30/lD6xAXOWlu4/photo.jpg?sz=128", "display_name": "Drew Reese", "link": "https://stackoverflow.com/users/8690857/drew-reese"}, "reply_to_user": {"reputation": 23, "user_id": 12633931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7713912451817e6c888da31bc6f8a55?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/12633931/jared"}, "edited": false, "score": 0, "creation_date": 1577833318, "post_id": 59548822, "comment_id": 105267097, "body": "Sure, no problem at all. If anything is still unclear or you&#39;re still struggling I can try to provide more details or get a working code sandbox demo up."}, {"owner": {"reputation": 23, "user_id": 12633931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7713912451817e6c888da31bc6f8a55?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/12633931/jared"}, "edited": false, "score": 0, "creation_date": 1577836081, "post_id": 59548822, "comment_id": 105267440, "body": "I got what you said running in my project. It is no longer saying dispatch isn&#39;t a function.  So in this case since we are mocking the dispatch, it won&#39;t actually toggle and display the &quot;My name is frog&quot; text?  This line fails in my test, i believe since we are mocking it with a <code>jest.fn()</code> call.  <code>expect(queryByText(&#39;My name is frog&#39;)).toBeInTheDocument();</code>"}, {"owner": {"reputation": 39638, "user_id": 8690857, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-47_HcdolAr0/AAAAAAAAAAI/AAAAAAAAB30/lD6xAXOWlu4/photo.jpg?sz=128", "display_name": "Drew Reese", "link": "https://stackoverflow.com/users/8690857/drew-reese"}, "reply_to_user": {"reputation": 23, "user_id": 12633931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7713912451817e6c888da31bc6f8a55?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/12633931/jared"}, "edited": false, "score": 0, "creation_date": 1577836523, "post_id": 59548822, "comment_id": 105267503, "body": "@Jared For the <code>RandomButton</code> component? No, <code>blue</code> and the div with that text are part of your <code>MyApp</code> component. This is why I shared how to test that your button component correctly called &quot;dispatch&quot; with the argument you expected since this is all the button does."}, {"owner": {"reputation": 23, "user_id": 12633931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7713912451817e6c888da31bc6f8a55?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/12633931/jared"}, "edited": false, "score": 0, "creation_date": 1577836891, "post_id": 59548822, "comment_id": 105267535, "body": "Yeap, I just wanted to confirm. It can&#39;t find the changed div text because it is apart of the parent. If i wanted to see that showing up, I would need to test the parent component, instead of the child which is just a button. Thanks for your help, I think i&#39;m getting it."}], "tags": [], "owner": {"reputation": 39638, "user_id": 8690857, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-47_HcdolAr0/AAAAAAAAAAI/AAAAAAAAB30/lD6xAXOWlu4/photo.jpg?sz=128", "display_name": "Drew Reese", "link": "https://stackoverflow.com/users/8690857/drew-reese"}, "is_accepted": true, "score": 3, "last_activity_date": 1577837570, "last_edit_date": 1577837570, "creation_date": 1577830985, "answer_id": 59548822, "question_id": 59548409, "link": "https://stackoverflow.com/questions/59548409/typeerror-dispatch-is-not-a-function-when-using-usereducer-usecontext-and-rea/59548822#59548822", "title": "&quot;TypeError: dispatch is not a function&quot; when using useReducer/useContext and React-Testing-Library", "body": "<p>I've not tested redux hooks with react-testing-library, but I do know you'll have to provide a wrapper to the render function that provides the Provider with dispatch function.</p>\n\n<p>Here's an example I use to test components connected to a redux store:</p>\n\n<blockquote>\n  <p>testUtils.js</p>\n</blockquote>\n\n<pre><code>import React from 'react';\nimport { createStore } from 'redux';\nimport { render } from '@testing-library/react';\nimport { Provider } from 'react-redux';\nimport reducer from '../reducers';\n\n// https://testing-library.com/docs/example-react-redux\nexport const renderWithRedux = (\n  ui,\n  { initialState, store = createStore(reducer, initialState) } = {},\n  options,\n) =&gt; ({\n  ...render(&lt;Provider store={store}&gt;{ui}&lt;/Provider&gt;, options),\n  store,\n});\n</code></pre>\n\n<p>So, based upon what you've shared I think the wrapper you'd want would look something like this:</p>\n\n<pre><code>import React from 'react';\nimport MyContext from 'contexts/MyContext';\n\n// export so you can test that it was called with specific arguments\nexport dispatchMock = jest.fn();\n\nexport ProviderWrapper = ({ children }) =&gt; (\n  // place your mock dispatch function in the provider\n  &lt;MyContext.Provider value={{ dispatch: dispatchMock }}&gt;\n    {children}\n  &lt;/MyContext.Provider&gt;\n);\n</code></pre>\n\n<p>and in your test:</p>\n\n<pre><code>import React from 'react';\nimport RandomButton from '../RandomButton';\nimport { render, fireEvent } from '@testing-library/react';\nimport { ProviderWrapper, dispatchMock } from './testUtils';\n\ndescribe('Button Render', () =&gt; {\n  it('click button', () =&gt; {\n    const { getByTestId, queryByText } = render(\n      &lt;RandomButton /&gt;,\n      { wrapper: ProviderWrapper }, // Specify your wrapper here\n    );\n\n    expect(getByTestId('jared-test-button')).toBeInTheDocument();\n    fireEvent.click(getByTestId('jared-test-button'));\n    // expect(queryByText('My name is frog')).toBeInTheDocument(); // won't work since this text is part of the parent component\n\n    // If you wanted to test that the dispatch was called correctly\n    expect(dispatchMock).toHaveBeenCalledWith({ type: 'SWITCH' });\n  })\n})\n</code></pre>\n\n<p>Like I said, I've not had to specifically test redux hooks but I believe this should get you to a good place.</p>\n"}], "owner": {"reputation": 23, "user_id": 12633931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7713912451817e6c888da31bc6f8a55?s=128&d=identicon&r=PG&f=1", "display_name": "Jared", "link": "https://stackoverflow.com/users/12633931/jared"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1456, "favorite_count": 0, "accepted_answer_id": 59548822, "answer_count": 1, "score": 2, "last_activity_date": 1577837570, "creation_date": 1577826005, "last_edit_date": 1577829209, "question_id": 59548409, "link": "https://stackoverflow.com/questions/59548409/typeerror-dispatch-is-not-a-function-when-using-usereducer-usecontext-and-rea", "title": "&quot;TypeError: dispatch is not a function&quot; when using useReducer/useContext and React-Testing-Library", "body": "<p>I'm having issues testing my components that use dispatch via useReducer with React-testing-library. </p>\n\n<p>I created a less complex example to try to boil down what is going on and that is still having the same <code>dispatch is not a function</code> problem. When I run my tests, I am getting this error:</p>\n\n<pre><code>\n      11 |         data-testid=\"jared-test-button\"\n      12 |         onClick={() =&gt; {\n    &gt; 13 |           dispatch({ type: 'SWITCH' })\n         |           ^\n      14 |         }}\n      15 |       &gt;\n      16 |         Click Me\n\n</code></pre>\n\n<p>Also, if I do a <code>console.log(typeof dispatch)</code> inside <code>RandomButton</code>, and I click on the button the output says <code>function</code>.</p>\n\n<p>Here is the test in question.</p>\n\n<pre><code>import React from 'react'\nimport RandomButton from '../RandomButton'\nimport { render, fireEvent } from '@testing-library/react'\n\ndescribe('Button Render', () =&gt; {\n  it('click button', () =&gt; {\n    const { getByTestId, queryByText } = render(&lt;RandomButton /&gt;)\n\n    expect(getByTestId('jared-test-button')).toBeInTheDocument()\n    fireEvent.click(getByTestId('jared-test-button'))\n    expect(queryByText('My name is frog')).toBeInTheDocument()\n  })\n})\n\n</code></pre>\n\n<p>Here is my relevant code:</p>\n\n<p>RandomButton.js</p>\n\n<pre><code>import React, { useContext } from 'react'\nimport MyContext from 'contexts/MyContext'\n\nconst RandomButton = () =&gt; {\n  const { dispatch } = useContext(MyContext)\n\n  return (\n    &lt;div&gt;\n      &lt;Button\n        data-testid=\"jared-test-button\"\n        onClick={() =&gt; {\n          dispatch({ type: 'SWITCH' })\n        }}\n      &gt;\n        Click Me\n      &lt;/Button&gt;\n    &lt;/div&gt;\n  )\n}\n\nexport default RandomButton\n</code></pre>\n\n<p>MyApp.js</p>\n\n<pre><code>import React, { useReducer } from 'react'\nimport {myreducer} from './MyFunctions'\nimport MyContext from 'contexts/MyContext'\nimport RandomButton from './RandomButton'\n\n  const initialState = {\n    blue: false,\n  }\n  const [{ blue },dispatch] = useReducer(myreducer, initialState)\n\n\nreturn (\n    &lt;MyContext.Provider value={{ dispatch }}&gt;\n      &lt;div&gt;\n            {blue &amp;&amp; &lt;div&gt;My name is frog&lt;/div&gt;}\n            &lt;RandomButton /&gt;\n    &lt;/div&gt;\n    &lt;/MyContext.Provider&gt;\n)\n\nexport default MyApp\n</code></pre>\n\n<p>MyFunctions.js</p>\n\n<pre><code>export const myreducer = (state, action) =&gt; {\n  switch (action.type) {\n    case 'SWITCH':\n      return { ...state, blue: !state.blue }\n    default:\n      return state\n  }\n}\n\n</code></pre>\n\n<p>MyContext.js</p>\n\n<pre><code>import React from 'react'\n\nconst MyContext = React.createContext({})\n\nexport default MyContext\n\n</code></pre>\n\n<p>It is probably something stupid that I am missing, but after reading the docs and looking at other examples online I'm not seeing the solution.</p>\n"}, {"tags": ["javascript", "arrays", "increment"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 12633915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eec21e5db1b148151f07595f9110459d?s=128&d=identicon&r=PG&f=1", "display_name": "sabak", "link": "https://stackoverflow.com/users/12633915/sabak"}, "edited": false, "score": 1, "creation_date": 1577827278, "post_id": 59548438, "comment_id": 105266060, "body": "wow it&#39;s very smart ! thanks you very much !"}, {"owner": {"reputation": 2395, "user_id": 11653883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M5n7K.jpg?s=128&g=1", "display_name": "Aaron Plocharczyk", "link": "https://stackoverflow.com/users/11653883/aaron-plocharczyk"}, "reply_to_user": {"reputation": 23, "user_id": 12633915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eec21e5db1b148151f07595f9110459d?s=128&d=identicon&r=PG&f=1", "display_name": "sabak", "link": "https://stackoverflow.com/users/12633915/sabak"}, "edited": false, "score": 1, "creation_date": 1577827366, "post_id": 59548438, "comment_id": 105266082, "body": "No problem! If this is the answer you&#39;re looking for, would you mind marking it with an upvote and accepted checkmark? It&#39;ll let people know you&#39;re happy with the answer and give me some points as well."}], "tags": [], "owner": {"reputation": 2395, "user_id": 11653883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M5n7K.jpg?s=128&g=1", "display_name": "Aaron Plocharczyk", "link": "https://stackoverflow.com/users/11653883/aaron-plocharczyk"}, "is_accepted": true, "score": 3, "last_activity_date": 1577826783, "last_edit_date": 1577826783, "creation_date": 1577826336, "answer_id": 59548438, "question_id": 59548383, "link": "https://stackoverflow.com/questions/59548383/incrementing-two-indexes-instead-of-one/59548438#59548438", "title": "Incrementing two indexes instead of one", "body": "<p>The middle array <em>is</em> the same array as the last. It's just a <a href=\"https://www.dyn-web.com/javascript/arrays/value-vs-reference.php\" rel=\"nofollow noreferrer\">reference</a> to the same exact value. Imagine there are two newscasters, each reporting on the same story. If the story changes, both newscasters will tell you the same update. That's what these arrays are doing. When you say <code>arr1 = arr2</code>, you're just saying that <code>arr1</code> is now a newscaster for the same story/value- so changing the value associated with one of them changes both of them. To change this, you need to clone the array before assigning it to a new variable.</p>\n\n<p>Replace:</p>\n\n<pre><code>snake[i]=snake[i+1];\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>snake[i]=snake[i+1].slice(0);\n</code></pre>\n\n<p>Using <a href=\"https://www.w3schools.com/jsref/jsref_slice_array.asp\" rel=\"nofollow noreferrer\"><code>.slice(0)</code></a> on the array is a method to clone a <a href=\"https://we-are.bookmyshow.com/understanding-deep-and-shallow-copy-in-javascript-13438bad941c\" rel=\"nofollow noreferrer\">shallow copy</a> of the array (which will be sufficient for your code) so each one is actually its own value.</p>\n"}], "owner": {"reputation": 23, "user_id": 12633915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eec21e5db1b148151f07595f9110459d?s=128&d=identicon&r=PG&f=1", "display_name": "sabak", "link": "https://stackoverflow.com/users/12633915/sabak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "closed_date": 1577835308, "accepted_answer_id": 59548438, "answer_count": 1, "score": 2, "last_activity_date": 1577826783, "creation_date": 1577825729, "last_edit_date": 1577826627, "question_id": 59548383, "link": "https://stackoverflow.com/questions/59548383/incrementing-two-indexes-instead-of-one", "closed_reason": "Duplicate", "title": "Incrementing two indexes instead of one", "body": "<p>I'm  trying to make a snake game. To move the snake I have a 2D array that helps me fill the canvas on the rights places, so to make it move forward my logic is to give to every part of the snake's body (= every index) the position that is in the index of the next one, and the head gets its x position incremented \"manually\" in the if statement if I am trying to go right for example.</p>\n\n<p>Here I am starting with snake that's length is 3 ([3,3] and [4,3] are the body's parts and [5,3] is the head)</p>\n\n<p>here is my code :</p>\n\n<pre><code>var snake = [[3,3],[4,3],[5,3]];\nvar dir = \"right\";\nfunction snakeGo(){\n        eraseSnake();\n\n        for(var i = 0; i &lt; snake.length-1; i++){\n            snake[i]=snake[i+1];\n        }\n\n        if(dir == \"right\"){\n            snake[snake.length-1][0]++;\n        }\n        drawSnake();\n    }\n\n    snakeGo();\n</code></pre>\n\n<p>but when I am debugging, before the program enters the if, 'snake' is [[4,3],[5,3],[5,3]] and at the end of the if 'snake' is [[4,3],[6,3],[6,3]]</p>\n\n<p>but I think it should be [[4,3],[5,3],[6,3]]..</p>\n\n<p>snake.length-1 = 2 ! why is it incrementing snake<a href=\"https://i.stack.imgur.com/xwdOi.png\" rel=\"nofollow noreferrer\">1</a>[0] ?</p>\n\n<p>before the if: </p>\n\n<p><a href=\"https://i.stack.imgur.com/xwdOi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xwdOi.png\" alt=\"enter image description here\"></a></p>\n\n<p>after the if: </p>\n\n<p><a href=\"https://i.stack.imgur.com/dfZfT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dfZfT.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "firebase", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 4, "creation_date": 1577825881, "post_id": 59548379, "comment_id": 105265810, "body": "There is a lot of commented-out code here.  Could you edit the question to show the minimal amount of code needed to understand the issue?"}, {"owner": {"reputation": 170, "user_id": 10287480, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NdjzTEPHE7U/AAAAAAAAAAI/AAAAAAAAAFk/sVkfrrbInbo/photo.jpg?sz=128", "display_name": "kyrolos magdy", "link": "https://stackoverflow.com/users/10287480/kyrolos-magdy"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1577826146, "post_id": 59548379, "comment_id": 105265852, "body": "Thanks for fast responding, Done"}, {"owner": {"reputation": 10255, "user_id": 1024832, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/954d8559c2d4cd308e4c2795423dd268?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/1024832/marc"}, "edited": false, "score": 1, "creation_date": 1577826208, "post_id": 59548379, "comment_id": 105265865, "body": "Your call to <code>checkUniqueName()</code> is inside a <code>forEach</code> loop. Could that be why it &quot;keeps calling it self over and over&quot;?"}, {"owner": {"reputation": 170, "user_id": 10287480, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NdjzTEPHE7U/AAAAAAAAAAI/AAAAAAAAAFk/sVkfrrbInbo/photo.jpg?sz=128", "display_name": "kyrolos magdy", "link": "https://stackoverflow.com/users/10287480/kyrolos-magdy"}, "edited": false, "score": 0, "creation_date": 1577826463, "post_id": 59548379, "comment_id": 105265908, "body": "actually that must be it, testing......"}, {"owner": {"reputation": 9545, "user_id": 3068190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YDAi7.jpg?s=128&g=1", "display_name": "samthecodingman", "link": "https://stackoverflow.com/users/3068190/samthecodingman"}, "edited": false, "score": 1, "creation_date": 1577826729, "post_id": 59548379, "comment_id": 105265964, "body": "Also, when you say <code>checkUniqueName()</code> is calling itself over and over, is this because you can see the log message <code>&quot;checking unique nameing&quot;</code> multiple times? Because that is also in a for loop and will fire once for every document with the same project name (and especially if you have a problem with calling <code>insert()</code> multiple times, it will get exponentially worse on later runs because there will be more matches)."}], "answers": [{"comments": [{"owner": {"reputation": 170, "user_id": 10287480, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NdjzTEPHE7U/AAAAAAAAAAI/AAAAAAAAAFk/sVkfrrbInbo/photo.jpg?sz=128", "display_name": "kyrolos magdy", "link": "https://stackoverflow.com/users/10287480/kyrolos-magdy"}, "edited": false, "score": 0, "creation_date": 1577827208, "post_id": 59548490, "comment_id": 105266045, "body": "Thank you all for fast responding it worked eventually."}, {"owner": {"reputation": 170, "user_id": 10287480, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NdjzTEPHE7U/AAAAAAAAAAI/AAAAAAAAAFk/sVkfrrbInbo/photo.jpg?sz=128", "display_name": "kyrolos magdy", "link": "https://stackoverflow.com/users/10287480/kyrolos-magdy"}, "edited": false, "score": 0, "creation_date": 1577827356, "post_id": 59548490, "comment_id": 105266080, "body": "your code worked partially you have to replace the hasChildren() with projectData.exist because exist is a Boolean value attached to the querySnapShot we are getting"}, {"owner": {"reputation": 9545, "user_id": 3068190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YDAi7.jpg?s=128&g=1", "display_name": "samthecodingman", "link": "https://stackoverflow.com/users/3068190/samthecodingman"}, "reply_to_user": {"reputation": 170, "user_id": 10287480, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NdjzTEPHE7U/AAAAAAAAAAI/AAAAAAAAAFk/sVkfrrbInbo/photo.jpg?sz=128", "display_name": "kyrolos magdy", "link": "https://stackoverflow.com/users/10287480/kyrolos-magdy"}, "edited": false, "score": 0, "creation_date": 1577829422, "post_id": 59548490, "comment_id": 105266427, "body": "I&#39;ve been working with the RTDB too much it seems. The equivalent code is <a href=\"https://firebase.google.com/docs/reference/js/firebase.firestore.QuerySnapshot.html#empty\" rel=\"nofollow noreferrer\"><code>QuerySnapshot#empty</code></a>. Because this is a query, you should be looking at the children of the returned snapshot, not the snapshot itself."}], "tags": [], "owner": {"reputation": 9545, "user_id": 3068190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YDAi7.jpg?s=128&g=1", "display_name": "samthecodingman", "link": "https://stackoverflow.com/users/3068190/samthecodingman"}, "is_accepted": true, "score": 2, "last_activity_date": 1577829315, "last_edit_date": 1577829315, "creation_date": 1577826909, "answer_id": 59548490, "question_id": 59548379, "link": "https://stackoverflow.com/questions/59548379/keeps-calling-itself-when-using-the-onclick-event-handler/59548490#59548490", "title": "Keeps calling itself when using the onClick event handler", "body": "<p>Your <code>checkUniqueName()</code> function can be rewritten as:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>checkUniqueName = async () =&gt; {\n  const projectName = this.state.projectData.title;\n  const companyName = this.state.companyName;\n  const projectRef = fireStore.collection('PROJECT')\n  const qsMatchingProjects = await projectRef.where(\"ProjectName\", \"==\", projectName).where(\"CompanyName\", \"==\", companyName).get();\n\n  if (qsMatchingProjects.empty) {\n    this.insert();\n  } else {\n    NotificationManager.error('this project already exists');\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 170, "user_id": 10287480, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NdjzTEPHE7U/AAAAAAAAAAI/AAAAAAAAAFk/sVkfrrbInbo/photo.jpg?sz=128", "display_name": "kyrolos magdy", "link": "https://stackoverflow.com/users/10287480/kyrolos-magdy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 59548490, "answer_count": 1, "score": 0, "last_activity_date": 1577829315, "creation_date": 1577825699, "last_edit_date": 1577826317, "question_id": 59548379, "link": "https://stackoverflow.com/questions/59548379/keeps-calling-itself-when-using-the-onclick-event-handler", "title": "Keeps calling itself when using the onClick event handler", "body": "<p><strong><em>what I expect to happen:</em></strong> \nwhen the user clicks addProject button the event listener will run calling </p>\n\n<pre><code>formSubmit\n</code></pre>\n\n<p>and we will check for the date if it's valid or not then if it's valid it will call <code>fetchingCompanyNameAndUserData</code></p>\n\n<p>it will fetch the required data update the state and it will call <code>checkUniqueName</code> which again will fetch some data making sure there is no duplication and then it's supposed to call <code>this.insert()</code>\nwhich will finally insert the data into our firestore-NoSQL- DB.\n<strong><em>The issue:</em></strong>\nthese function specially the <code>checkUniqueName</code> keeps calling it self over and over and I don't know what is wrong there.\nthe code: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>formSubmit = event =&gt; {\n  event.preventDefault();\n  const isLoading = this.state;\n\n  var sdate = this.state.projectData.sdate;\n  var edate = this.state.projectData.edate;\n  if (sdate &gt; edate) {\n    NotificationManager.error(`Please entre a valid dates`);\n    return;\n  } else {\n    // isLoading = true;\n    this.fetchingCompanyNameAndUserData();\n  }  \n};\n\nfetchingCompanyNameAndUserData = async () =&gt; {\n  const userRef = fireStore.collection('users');\n  const userData = await userRef.where(\"Email\", \"==\", auth.currentUser.email).get();\n  userData.forEach(doc =&gt; {\n    console.log('this one must match', doc.data().CompanyName)\n    const cashedFirstName = doc.data().FirstName;\n    const cashedLastName = doc.data().LastName;\n    const fullName = cashedFirstName + ' ' + cashedLastName;\n    return this.setState({\n        companyName: doc.data().CompanyName,\n        userName: fullName,\n      }, () =&gt; {\n        console.log('done fetching');\n        this.checkUniqueName();\n      });\n  })\n};\n\ncheckUniqueName = async () =&gt; {\n  const projectName = this.state.projectData.title;\n  const companyName = this.state.companyName;\n  const projectRef = fireStore.collection('PROJECT')\n  const projectData = await projectRef.where(\"ProjectName\", \"==\", projectName).get();\n\n  projectData.forEach(doc =&gt; {\n    if (doc.data().CompanyName !== companyName) {\n      console.log('checking unique nameing');\n      this.insert();\n    } else {\n      NotificationManager.error('this project already exists');\n    }\n\n  })\n}\n\nasync insert() {\n  //async function foo() {\n  console.log('insreting proooo');\n  var ptitle = this.state.projectData.title;\n  var pdesc = this.state.projectData.desc;\n  var sdate = this.state.projectData.sdate;\n  var edate = this.state.projectData.edate;\n  var status = this.state.projectData.status;\n  var companyName = this.state.companyName;\n\n\n  try {\n\n    let response = await fireStore.collection(\"PROJECT\").add(\n      {\n        ProjectName: ptitle,\n        CompanyName: companyName,\n        ProjectDescription: pdesc,\n        startDate: sdate,\n        EndDate: edate,\n        Status: status,\n        CreatedBy: auth.currentUser.email,\n        CreatedDate: toUTCDateString(new Date()),\n        LastModifiedBy: auth.currentUser.email,\n        LastModifiedDate: toUTCDateString(new Date()),\n        UserDocId: auth.currentUser.uid\n      });\n\n    let doc = await fireStore.collection(\"PROJECT\").doc(response.id).get()\n\n    this.handleClose();\n\n    //alert(doc.id)\n    var d1 = doc.id;\n    this.props.history.push('/app/dashboard/addproject/' + d1);\n\n    //this.handleClose;\n    NotificationManager.success('Project Created Successfully!');\n\n  }\n  catch (error) {\n    //console.log('error: ', error);\n    console.log(error)\n  }\n}\n</code></pre>\n\n<p>Hope I made it as clear as possible here</p>\n"}, {"tags": ["javascript", "html", "clojure", "clojurescript"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 3552633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc277fed03b496adcc615911065e1259?s=128&d=identicon&r=PG&f=1", "display_name": "Turmolt", "link": "https://stackoverflow.com/users/3552633/turmolt"}, "edited": false, "score": 0, "creation_date": 1577859442, "post_id": 59549304, "comment_id": 105269668, "body": "using :on-submit does not change anything, unfortunately."}, {"owner": {"reputation": 93, "user_id": 3552633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc277fed03b496adcc615911065e1259?s=128&d=identicon&r=PG&f=1", "display_name": "Turmolt", "link": "https://stackoverflow.com/users/3552633/turmolt"}, "edited": false, "score": 0, "creation_date": 1577890097, "post_id": 59549304, "comment_id": 105275416, "body": "I wrapped the input in a form tag, subscribed <code>(.preventDefault e)</code> to the <code>:on-submit</code>  and it worked! Thank you for the help"}], "tags": [], "owner": {"reputation": 46737, "user_id": 31615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1127d0098e693682f382758abd9f6c76?s=128&d=identicon&r=PG", "display_name": "Svante", "link": "https://stackoverflow.com/users/31615/svante"}, "is_accepted": true, "score": 2, "last_activity_date": 1577878254, "last_edit_date": 1577878254, "creation_date": 1577838665, "answer_id": 59549304, "question_id": 59548327, "link": "https://stackoverflow.com/questions/59548327/stop-page-reload-when-user-hits-enter-in-input-field-clojurescript/59549304#59549304", "title": "Stop page reload when user hits &quot;ENTER&quot; in input field - ClojureScript", "body": "<p>You need to spell the attribute <code>:on-submit</code> (lower case, dashed), <em>(edit)</em> and it needs to be on the form, not the input.</p>\n\n<p>Aside: you do not need a <code>do</code> to wrap the function body, and returning <code>false</code> in addition to calling <code>.preventDefault</code> on the event is redundant.</p>\n"}], "owner": {"reputation": 93, "user_id": 3552633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc277fed03b496adcc615911065e1259?s=128&d=identicon&r=PG&f=1", "display_name": "Turmolt", "link": "https://stackoverflow.com/users/3552633/turmolt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 59549304, "answer_count": 1, "score": 0, "last_activity_date": 1577878254, "creation_date": 1577825100, "last_edit_date": 1577841011, "question_id": 59548327, "link": "https://stackoverflow.com/questions/59548327/stop-page-reload-when-user-hits-enter-in-input-field-clojurescript", "title": "Stop page reload when user hits &quot;ENTER&quot; in input field - ClojureScript", "body": "<p>I am learning web development using Clojurescript and shadow-cljs and so far it has been awesome. I created a <a href=\"https://turmolt.github.io/reddit-viewer/\" rel=\"nofollow noreferrer\">really bad reddit viewing webapp</a> but have found that when the user first navigates to the site and clicks in the search field, then hits \"ENTER\" it will reload the page. I have added a (.preventDefault e) subscription to the onSubmit event, but it still reloads unless the user changes to the chart and back (adding # to the web-address).</p>\n\n<p>Here is the reagent code that generates the input field:</p>\n\n<pre><code>[:input.form-control.mr-sm-2\n  {:type \"text\"\n   :placeholder \"Aww\"\n   :aria-label \"Search\"\n   :on-change #(rf/dispatch [:set-search-val  (-&gt; % .-target .-value)])\n   :onSubmit (fn [e] (do (.preventDefault e)\n                         (identity false)))}]\n</code></pre>\n\n<p>2 Questions:</p>\n\n<ol>\n<li><p>What am I doing wrong? I would like for the subreddit to refresh on enter, but if I can just get it to stop reloading I will be happy</p></li>\n<li><p>Why does having # in the web address solve the problem?</p></li>\n</ol>\n\n<p><a href=\"https://github.com/Turmolt/reddit-viewer\" rel=\"nofollow noreferrer\">Here is the source code for anyone interested</a></p>\n"}, {"tags": ["javascript", "reactjs", "axios"], "answers": [{"tags": [], "owner": {"reputation": 1112, "user_id": 5278079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6186337f21a9aac5c1ef7d1bc1ddf19d?s=128&d=identicon&r=PG&f=1", "display_name": "Sm Srikanth", "link": "https://stackoverflow.com/users/5278079/sm-srikanth"}, "is_accepted": true, "score": 2, "last_activity_date": 1577825229, "creation_date": 1577825229, "answer_id": 59548336, "question_id": 59548298, "link": "https://stackoverflow.com/questions/59548298/response-returning-undefined-react-js-axios/59548336#59548336", "title": "Response returning undefined react js axios", "body": "<p>I think u need to check in <code>response.data.value</code> instead of <code>response.value</code>.\naxios populates the entire server response in <code>response.data</code></p>\n"}], "owner": {"reputation": 3, "user_id": 11739819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79726fd792ff9d5a511af87e0743a74f?s=128&d=identicon&r=PG&f=1", "display_name": "Waleed Ahmad", "link": "https://stackoverflow.com/users/11739819/waleed-ahmad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 465, "favorite_count": 0, "accepted_answer_id": 59548336, "answer_count": 1, "score": 0, "last_activity_date": 1577825326, "creation_date": 1577824847, "last_edit_date": 1577825326, "question_id": 59548298, "link": "https://stackoverflow.com/questions/59548298/response-returning-undefined-react-js-axios", "title": "Response returning undefined react js axios", "body": "<p>I trying to view status of a variable (salesforecasting) in database. Its responds by sending true or false which is received fine in Postman. However when it gets to react, it is shows undefined on console. if i see whole response object, there i can see value has return correctly but when i try to print it, it shows undefined.</p>\n\n<p>in routes/api/salesforecasting.js</p>\n\n<pre><code>router.post('/view', function(req, res) {\n    const email=\"Hamzakhan003@gmail.com\"\n    Customer.findOne({Email:email})\n    .then(data=&gt;{\n        if(data){\n            let salevalue=data.Salesforecasting\n        res.send({\n            value: salevalue \n        });\n    }\n    });\n});\n</code></pre>\n\n<p>in react file</p>\n\n<pre><code>componentDidMount(){\n            return axios.post('http://localhost:3000/api/sales-forecasting/view')\n            .then(response =&gt; {\n                //const output = response.value\n                const value = response.value;\n                {console.log(arr.value)}\n                this.setState({\n                    added: value\n                });\n            });\n    }\n</code></pre>\n"}, {"tags": ["javascript", "ruby-on-rails", "database", "openlayers", "jbuilder"], "comments": [{"owner": {"reputation": 3902, "user_id": 10608621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d59df09a85d05117c63706f66811b70c?s=128&d=identicon&r=PG", "display_name": "mechnicov", "link": "https://stackoverflow.com/users/10608621/mechnicov"}, "edited": false, "score": 0, "creation_date": 1577850833, "post_id": 59548291, "comment_id": 105268802, "body": "To jbuilder or to view and JS?"}, {"owner": {"reputation": 1803, "user_id": 2565086, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4bbf81bfc2e7edf541834050eeea37e5?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/2565086/greg"}, "reply_to_user": {"reputation": 3902, "user_id": 10608621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d59df09a85d05117c63706f66811b70c?s=128&d=identicon&r=PG", "display_name": "mechnicov", "link": "https://stackoverflow.com/users/10608621/mechnicov"}, "edited": false, "score": 0, "creation_date": 1578076711, "post_id": 59548291, "comment_id": 105333565, "body": "@mechinicov. I missed your response. But I think it&#39;s to jBuilder. The error is:      Started GET &quot;/people/show_locations&quot; for ::1 at 2020-01-03 10:34:14 -0800       Processing by PeopleController#show as <i>/</i>         Parameters: {&quot;id&quot;=&gt;&quot;show_locations&quot;}         Person Load (1.5ms)  SELECT &quot;people&quot;.* FROM &quot;people&quot; WHERE &quot;people&quot;.&quot;id&quot; = $1 LIMIT $2  [[&quot;id&quot;, nil], [&quot;LIMIT&quot;, 1]]         \u21b3 app/controllers/people_controller.rb:108:in <code>set_person&#39;       ActiveRecord::RecordNotFound - Couldn&#39;t find Person with &#39;id&#39;=show_locations:         app&#47;controllers&#47;people_controller.rb:108:in </code>set_person&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 1803, "user_id": 2565086, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4bbf81bfc2e7edf541834050eeea37e5?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/2565086/greg"}, "edited": false, "score": 0, "creation_date": 1577893481, "post_id": 59550104, "comment_id": 105276105, "body": "Thank you for answering, but that isn&#39;t doing it. From the console:      new VectorImageLayer({             title: &#39;Where lived and worked&#39;,       imageRatio: 2,              source: new VectorSource({             url: &#39;../people/show_locations/${$(&#39;#person-details&#39;).data(&#39;id&#39;)}&zwnj;&#8203;&#39;,                                                ^      format: new GeoJSON()           }),          console.log(url)----         The caret is pointing at the # in &#39;#person-details&#39;"}, {"owner": {"reputation": 1156, "user_id": 4955546, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3ypcYA0ACXs/AAAAAAAAAAI/AAAAAAAABgY/gcCpBwKBymI/photo.jpg?sz=128", "display_name": "Sikandar Tariq", "link": "https://stackoverflow.com/users/4955546/sikandar-tariq"}, "reply_to_user": {"reputation": 1803, "user_id": 2565086, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4bbf81bfc2e7edf541834050eeea37e5?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/2565086/greg"}, "edited": false, "score": 0, "creation_date": 1577952230, "post_id": 59550104, "comment_id": 105288005, "body": "you are using a <code>single quote</code> which is wrong. For javascript string interpolation use <code>backquote</code> as in the answer"}, {"owner": {"reputation": 1156, "user_id": 4955546, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3ypcYA0ACXs/AAAAAAAAAAI/AAAAAAAABgY/gcCpBwKBymI/photo.jpg?sz=128", "display_name": "Sikandar Tariq", "link": "https://stackoverflow.com/users/4955546/sikandar-tariq"}, "reply_to_user": {"reputation": 1803, "user_id": 2565086, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4bbf81bfc2e7edf541834050eeea37e5?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/2565086/greg"}, "edited": false, "score": 0, "creation_date": 1577952300, "post_id": 59550104, "comment_id": 105288032, "body": "or simply use string concatenation  <code>&#39;..&#47;people&#47;show_locations&#47;&#39; + $(&#39;#person-details&#39;).data(&#39;id&#39;)</code>"}, {"owner": {"reputation": 1803, "user_id": 2565086, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4bbf81bfc2e7edf541834050eeea37e5?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/2565086/greg"}, "edited": false, "score": 0, "creation_date": 1577999648, "post_id": 59550104, "comment_id": 105307868, "body": "` Rendered people/show.html.erb within layouts/application (Duration: 10684.1ms | Allocations: 24597) [Webpacker] Everything&#39;s up-to-date. Nothing to do` Not sure where the single quote came from. But the above is the current response."}, {"owner": {"reputation": 1156, "user_id": 4955546, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3ypcYA0ACXs/AAAAAAAAAAI/AAAAAAAABgY/gcCpBwKBymI/photo.jpg?sz=128", "display_name": "Sikandar Tariq", "link": "https://stackoverflow.com/users/4955546/sikandar-tariq"}, "reply_to_user": {"reputation": 1803, "user_id": 2565086, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4bbf81bfc2e7edf541834050eeea37e5?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/2565086/greg"}, "edited": false, "score": 0, "creation_date": 1578026130, "post_id": 59550104, "comment_id": 105313819, "body": "were you able to find some solution?"}, {"owner": {"reputation": 1803, "user_id": 2565086, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4bbf81bfc2e7edf541834050eeea37e5?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/2565086/greg"}, "edited": false, "score": 0, "creation_date": 1578076244, "post_id": 59550104, "comment_id": 105333364, "body": "Thanks for asking. but no. I&#39;ve tried both your and @max suggestions. I updated the OP. I get a little lost in Rails much less in working with JavaScript. Not sure I was clear in my previous response to you, but I now have the backquote. The json is not being produced. But no errors."}, {"owner": {"reputation": 1803, "user_id": 2565086, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4bbf81bfc2e7edf541834050eeea37e5?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/2565086/greg"}, "edited": false, "score": 0, "creation_date": 1578109803, "post_id": 59550104, "comment_id": 105341651, "body": "` url: &#39;../people/show_locations/&#39; + $(&#39;#person-details&#39;).data(&#39;url&#39;)` seems to be the correct syntax to pass the id, but still doesn&#39;t trigger building the geojson."}, {"owner": {"reputation": 1803, "user_id": 2565086, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4bbf81bfc2e7edf541834050eeea37e5?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/2565086/greg"}, "edited": false, "score": 0, "creation_date": 1583807921, "post_id": 59550104, "comment_id": 107231510, "body": "<a href=\"https://stackoverflow.com/questions/60610788/rails-connecting-to-jbuilder\" title=\"rails connecting to jbuilder\">stackoverflow.com/questions/60610788/&hellip;</a> where I&#39;m using to Leaflet which I have working and go on from there. I hope back to OpenLayers eventually"}], "tags": [], "owner": {"reputation": 1156, "user_id": 4955546, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3ypcYA0ACXs/AAAAAAAAAAI/AAAAAAAABgY/gcCpBwKBymI/photo.jpg?sz=128", "display_name": "Sikandar Tariq", "link": "https://stackoverflow.com/users/4955546/sikandar-tariq"}, "is_accepted": false, "score": 0, "last_activity_date": 1577855547, "creation_date": 1577855547, "answer_id": 59550104, "question_id": 59548291, "link": "https://stackoverflow.com/questions/59548291/rails-passing-variable-to-jbuilder/59550104#59550104", "title": "Rails passing variable to jBuilder", "body": "<p>you can simply pass <code>id</code> or complete URL of action (which I would prefer) using HTML <code>data</code> attribute.</p>\n\n<blockquote>\n  <p>show.html.erb</p>\n</blockquote>\n\n<pre><code>&lt;div id=\"person-details\" data-url=\"&lt;%= @person.id %&gt;\"&gt;&lt;/div&gt;\n</code></pre>\n\n<blockquote>\n  <p>javascript/packs/olPeopleMap.js</p>\n</blockquote>\n\n<pre><code>new VectorImageLayer({\n  title: 'Where lived and worked',\n  imageRatio: 2,\n  source: new VectorSource({\n    url: `../people/show_locations/${$('#person-details').data('id')}`,\n    format: new GeoJSON()\n}),\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 311, "user_id": 7105526, "user_type": "registered", "profile_image": "https://graph.facebook.com/1812496678973073/picture?type=large", "display_name": "B&#249;i Nh\u1eadt Duy", "link": "https://stackoverflow.com/users/7105526/b%c3%b9i-nh%e1%ba%adt-duy"}, "is_accepted": false, "score": -3, "last_activity_date": 1577879789, "creation_date": 1577879789, "answer_id": 59552290, "question_id": 59548291, "link": "https://stackoverflow.com/questions/59548291/rails-passing-variable-to-jbuilder/59552290#59552290", "title": "Rails passing variable to jBuilder", "body": "<p>Rails runs on Server, JavaSciprt is scripting language runs on browser(client). Basically, there is no way to pass data from Rails to Javascript directly. So you need to third store to pass data between Rails and Javascript like HTML data attribute, HTML hidden filed,...</p>\n"}, {"comments": [{"owner": {"reputation": 1803, "user_id": 2565086, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4bbf81bfc2e7edf541834050eeea37e5?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/2565086/greg"}, "edited": false, "score": 0, "creation_date": 1584302243, "post_id": 59556488, "comment_id": 107388670, "body": "Error <code>olPersonMap.js:271 Uncaught TypeError: Cannot read property &#39;target&#39; of undefined</code> on the line <code>url: map.target.dataset.url</code>. Where does the syntax for <code>map.target.dataset.url</code> come from? PS  <code>olPeopleMap.js</code> is renamed to <code>olPersonMap.js</code> as that makes more sense."}], "tags": [], "owner": {"reputation": 75558, "user_id": 544825, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UFdOO.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/544825/max"}, "is_accepted": false, "score": 0, "last_activity_date": 1577917926, "last_edit_date": 1577917926, "creation_date": 1577916513, "answer_id": 59556488, "question_id": 59548291, "link": "https://stackoverflow.com/questions/59548291/rails-passing-variable-to-jbuilder/59556488#59556488", "title": "Rails passing variable to jBuilder", "body": "<p>First setup a nested route that delivers the JSON you want to consume:</p>\n\n<pre><code>resources :people do\n  resources :locations, only: :index, module: :people \nend  \n</code></pre>\n\n<hr>\n\n<pre><code>module People\n  class LocationsController\n    # GET /people/1/locations.json\n    def index\n      @person = Person.includes(:locations).find(params[:person_id])\n      @locations = @person.locations\n    end\n  end\nend\n</code></pre>\n\n<p>Rename your view <code>app/views/people/locations/index.json.jbuilder</code>.</p>\n\n<p>Then setup the map container in the view:</p>\n\n<pre><code>&lt;div id=\"map\" class=\"map\" data-url=\"&lt;%= person_locations_path(@person) %&gt;\"&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>If your doing it the right way there is no reason to go near the <code>.js.erb</code> nonsense that just makes a mess of everything since it makes your server get involved in the state of the client.</p>\n\n<p>Don't try to put different script tags on different pages. Its not a good approach - especially if turbolinks is involved. Instead create handlers that augment different elements on the page if the are present (in this case the #map element) that go in your \"static\" <code>/javascripts/packs</code> directory.</p>\n\n<p>This keeps the seperation of concerns in place - the server just delivers data that the client consumes and it lets your javascript be concatenated, minified, cached and delivered via a CDN instead of having Rails serve up interpolated <code>.js.erb</code> soup.</p>\n\n<p>It also avoids turning your Rails app into a bunch of RPC style routes that just update the client.</p>\n\n<p>In OpenLayers you should be able to get the element that the map is bound to through the target property of the map.</p>\n\n<pre><code>new VectorImageLayer({\n  title: 'Where lived and worked',\n  imageRatio: 2,\n  source: new VectorSource({\n    url: map.target.dataset.url,\n    format: new GeoJSON()\n}),\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1803, "user_id": 2565086, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4bbf81bfc2e7edf541834050eeea37e5?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/2565086/greg"}, "is_accepted": false, "score": 0, "last_activity_date": 1584394045, "creation_date": 1584394045, "answer_id": 60713435, "question_id": 59548291, "link": "https://stackoverflow.com/questions/59548291/rails-passing-variable-to-jbuilder/60713435#60713435", "title": "Rails passing variable to jBuilder", "body": "<p>The answer is incorporated into the OP. Thank you @max. </p>\n\n<p>PS. I changed <code>olPeopleMap.js</code> to <code>olPersonMap.js</code> as it was more logical.</p>\n"}], "owner": {"reputation": 1803, "user_id": 2565086, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4bbf81bfc2e7edf541834050eeea37e5?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/2565086/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 637, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1584394045, "creation_date": 1577824751, "last_edit_date": 1584393930, "question_id": 59548291, "link": "https://stackoverflow.com/questions/59548291/rails-passing-variable-to-jbuilder", "title": "Rails passing variable to jBuilder", "body": "<p>Fixed and solutions incorporated into the OP. A combination of comments by @max here and to my related posting <a href=\"https://stackoverflow.com/questions/60610788/rails-connecting-to-jbuilder\">Rails connecting to jBuilder</a>. Edits are with <code>// Was:</code></p>\n\n<p>I'm trying to get values through a <code>has_many :through</code> relationship. Three main databases: people, locations (which has street address and other information), and the join table, <code>years</code> which links the person to a particular address on a specific date. </p>\n\n<pre><code># models/person.rb\nclass Person &lt; ApplicationRecord\n  has_many :years, dependent: :destroy \n  has_many :locations, through: :years\n\n# models/location.rb\nclass Location &lt; ApplicationRecord\n  has_many :years\n  has_many :people, through: :years\n\n# models/year.rb\nclass Year &lt; ApplicationRecord\n  belongs_to :location\n  belongs_to :person\n</code></pre>\n\n<p><code>years</code> links the person to a particular address on a specific date.</p>\n\n<p>As I understand it the flow is that the <code>show.html.erb</code> calls <code>javascript/packs/olPersonMap.js</code> which then calls <code>show_locations.json.jbuilder</code>. How do I pass the <code>person.id</code> to jbuilder?</p>\n\n<p>From <code>views/people/show.html.erb</code> (class is probably not needed now, refactoring needed).</p>\n\n<pre><code>// Was: &lt;div id=\"map\" class=\"map\"&gt;&lt;/div&gt;\n &lt;div id=\"map\" class=\"map\" data-url=\"&lt;%= person_locations_path(@person) %&gt;\"&gt;&lt;/div&gt;  \n&lt;%= javascript_pack_tag 'olPersonMap' %&gt;\n&lt;div&gt;\n</code></pre>\n\n<p>From <code>javascript/packs/olPersonMap.js</code>.</p>\n\n<pre><code>// Near the top of the file\nvar urlJSON = $('#map').data('url') + '.json'\n// and much further down in the code\nnew VectorImageLayer({\n  title: 'Where lived and worked',\n  imageRatio: 2,\n  source: new VectorSource({\n    // Was: url: '../people/show_locations',\n    url: urlJSON\n    format: new GeoJSON()\n}),\n</code></pre>\n\n<p>From @max \njBuilder was in <code>app/views/people/show_locations.json.jbuilder</code>, now <code>app/views/people/locations/index.json.jbuilder</code>. Leaving code out as it wasn't the main problem (although it did have few errors).</p>\n\n<p>And this </p>\n\n<pre><code># app/controllers/people/locations_controller.rb\nmodule People\n  class LocationsController &lt; ApplicationController\n    before_action :set_person\n\n    def index\n      respond_to do |f|\n        f.json\n      end\n    end\n\n    private\n    def set_person\n      @person = Person.eager_load(:locations)\n                      .find(params[:person_id])\n      @locations = @person.locations\n    end\n  end\nend\n</code></pre>\n\n<p>and <code>routes.rb</code></p>\n\n<pre><code>resources :people do\n  resources :locations, only: [:index], module: :people\nend\n</code></pre>\n\n<p>In summary, how do I pass person.id to the jBuilder? Or am I going at this all wrong?</p>\n\n<p>Thank you @max. I need to work on understanding what the controller is doing. Lots of moving parts. <code>https://secure-shore-68966.herokuapp.com/people/124</code> is the Leaflet version. Will push this OpenLayers version after some refactoring to remove all the trial stuff.</p>\n"}, {"tags": ["javascript", "asynchronous"], "comments": [{"owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 2, "creation_date": 1577824295, "post_id": 59548216, "comment_id": 105265500, "body": "just put it in the setTimeout??"}, {"owner": {"reputation": 362, "user_id": 11703419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcf99c122885da9ffffbb0aeb843cf2d?s=128&d=identicon&r=PG", "display_name": "Donnovan", "link": "https://stackoverflow.com/users/11703419/donnovan"}, "reply_to_user": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1577825200, "post_id": 59548216, "comment_id": 105265690, "body": "@MattOestreich The problem with that is, if the then function doesn&#39;t catch an error, the code won&#39;t run. I need the <code>event.target.innerHTML = FULL_HEART</code> and <code>event.target.setAttribute(&#39;class&#39;, &#39;like-glyph activated-heart&#39;)</code> to run if there is no error, and delayed if there is an error."}], "answers": [{"comments": [{"owner": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "edited": false, "score": 1, "creation_date": 1577825089, "post_id": 59548261, "comment_id": 105265664, "body": "The asker wants the full heart to be displayed regardless of if there was an error, but delayed by 3 seconds if there was an error. This answer currently only displays the full heart if there was an error and not otherwise."}, {"owner": {"reputation": 2395, "user_id": 11653883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M5n7K.jpg?s=128&g=1", "display_name": "Aaron Plocharczyk", "link": "https://stackoverflow.com/users/11653883/aaron-plocharczyk"}, "reply_to_user": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "edited": false, "score": 1, "creation_date": 1577825495, "post_id": 59548261, "comment_id": 105265743, "body": "Answer updated. Just put the success code in the then and the rejected code in the catch."}], "tags": [], "owner": {"reputation": 2395, "user_id": 11653883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M5n7K.jpg?s=128&g=1", "display_name": "Aaron Plocharczyk", "link": "https://stackoverflow.com/users/11653883/aaron-plocharczyk"}, "is_accepted": false, "score": 2, "last_activity_date": 1577825468, "last_edit_date": 1577825468, "creation_date": 1577824428, "answer_id": 59548261, "question_id": 59548216, "link": "https://stackoverflow.com/questions/59548216/how-do-i-run-code-after-a-settimeout-is-run/59548261#59548261", "title": "How do I run code after a setTimeout() is run?", "body": "<p>That's what a <a href=\"https://codeburst.io/javascript-what-the-heck-is-a-callback-aba4da2deced\" rel=\"nofollow noreferrer\">callback</a> is for:</p>\n\n<pre><code>document.addEventListener('DOMContentLoaded', () =&gt; {\n  const likeButtons = document.querySelectorAll('.like-glyph');\n  const modal = document.getElementById('modal');\n\n  function displayError(callback) {\n    modal.removeAttribute('class');\n    setTimeout(function(){\n        modal.setAttribute('class','hidden');\n        callback();\n    }, 3000);\n  };\n\n  function likifyMe(button) {\n    button.addEventListener('click', (event) =&gt; {\n      if (event.target.innerHTML === EMPTY_HEART) {\n        mimicServerCall().then(() =&gt; {\n            event.target.innerHTML = FULL_HEART;\n            event.target.setAttribute('class', 'like-glyph activated-heart');\n        }).catch(() =&gt; {\n            displayError(function(){\n                event.target.innerHTML = FULL_HEART;\n                event.target.setAttribute('class', 'like-glyph activated-heart');\n            });\n        });\n      } else {\n        event.target.innerHTML = EMPTY_HEART\n        event.target.setAttribute('class', 'like-glyph')\n      }\n    });\n  };\n\n  likeButtons.forEach(button =&gt; {\n    likifyMe(button)\n  });\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11701, "user_id": 8376184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U6TIU.jpg?s=128&g=1", "display_name": "FZs", "link": "https://stackoverflow.com/users/8376184/fzs"}, "edited": false, "score": 0, "creation_date": 1577835892, "post_id": 59548287, "comment_id": 105267417, "body": "Note: the code <code>promise.catch(catchFn).then(thenFn)</code> will run <code>thenFn</code> even if <code>promise</code> gets rejected, unless the <code>catchFn</code> re-throws the exception. To make it called only if there weren&#39;t errors, it should be <code>promise.then(thenFn,catchFn)</code> or <code>promise.then(thenFn).catch(catchFn)</code>"}, {"owner": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "reply_to_user": {"reputation": 11701, "user_id": 8376184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U6TIU.jpg?s=128&g=1", "display_name": "FZs", "link": "https://stackoverflow.com/users/8376184/fzs"}, "edited": false, "score": 0, "creation_date": 1577919452, "post_id": 59548287, "comment_id": 105281901, "body": "@FZs That was the intended behavior the asker was requesting. The <code>thenFn</code> (in this case, to show the full heart) should run regardless of success or failure, <i>but</i> if it was a failure, it should wait for the failure message to vanish."}, {"owner": {"reputation": 11701, "user_id": 8376184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U6TIU.jpg?s=128&g=1", "display_name": "FZs", "link": "https://stackoverflow.com/users/8376184/fzs"}, "edited": false, "score": 0, "creation_date": 1577919676, "post_id": 59548287, "comment_id": 105281934, "body": "I  haven&#39;t really got what the question was, and I haven&#39;t wrote that you aren&#39;t correct, just a note (in case if the OP searched for an different solution)."}], "tags": [], "owner": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "is_accepted": true, "score": 2, "last_activity_date": 1577824744, "creation_date": 1577824744, "answer_id": 59548287, "question_id": 59548216, "link": "https://stackoverflow.com/questions/59548216/how-do-i-run-code-after-a-settimeout-is-run/59548287#59548287", "title": "How do I run code after a setTimeout() is run?", "body": "<p>Leverage the following behavior of promise chaining detailed by <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises#Chaining\" rel=\"nofollow noreferrer\">MDN:</a></p>\n\n<blockquote>\n  <p>It's possible to chain after a failure, i.e. a catch, which is useful to accomplish new actions even after an action failed in the chain.</p>\n</blockquote>\n\n<p>You can rewrite the block in question to this (notice it's <code>.catch().then()</code>):</p>\n\n<pre><code>      if (event.target.innerHTML === EMPTY_HEART) {\n        mimicServerCall().catch(() =&gt; displayError()).then(() =&gt; {\n          event.target.innerHTML = FULL_HEART;\n          event.target.setAttribute('class', 'like-glyph activated-heart');\n        });\n      } else { \n</code></pre>\n\n<p>Then, just have <code>displayError()</code> return a promise that resolves with the timeout:</p>\n\n<pre><code>  function displayError() {\n    return new Promise((resolve,reject) =&gt; {\n      modal.removeAttribute('class');\n      setTimeout(() =&gt; {\n        modal.setAttribute('class','hidden');\n        resolve();\n      }, 3000);\n    });\n  };\n</code></pre>\n\n<p>The resulting behavior is that your code to activate the heart is guaranteed to happen in the event of either success or failure, but if it did fail, it will wait the three seconds for the <code>setTimeout</code> to execute. This is thanks to promise chaining, which will wait for the promise returned by <code>displayError()</code> to resolve before executing the following <code>.then()</code> callback.</p>\n"}], "owner": {"reputation": 362, "user_id": 11703419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcf99c122885da9ffffbb0aeb843cf2d?s=128&d=identicon&r=PG", "display_name": "Donnovan", "link": "https://stackoverflow.com/users/11703419/donnovan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 59548287, "answer_count": 2, "score": 0, "last_activity_date": 1577836003, "creation_date": 1577823998, "last_edit_date": 1577836003, "question_id": 59548216, "link": "https://stackoverflow.com/questions/59548216/how-do-i-run-code-after-a-settimeout-is-run", "title": "How do I run code after a setTimeout() is run?", "body": "<p>I need the </p>\n\n<pre><code>event.target.innerHTML = FULL_HEART\nevent.target.setAttribute('class', 'like-glyph activated-heart')\n</code></pre>\n\n<p>after the <code>displayError()</code> setTimeout interval is completed in the scenario that the <code>mimicServerCall()</code> catches an error.</p>\n\n<pre><code>document.addEventListener('DOMContentLoaded', () =&gt; {\n  const likeButtons = document.querySelectorAll('.like-glyph');\n  const modal = document.getElementById('modal');\n\n  function displayError() {\n    modal.removeAttribute('class');\n    setTimeout(function(){ modal.setAttribute('class','hidden') }, 3000);\n  };\n\n  function likifyMe(button) {\n    button.addEventListener('click', (event) =&gt; {\n      if (event.target.innerHTML === EMPTY_HEART) {\n        mimicServerCall().then(() =&gt; {}).catch(() =&gt; {displayError()});\n        event.target.innerHTML = FULL_HEART\n        event.target.setAttribute('class', 'like-glyph activated-heart')\n      } else {\n        event.target.innerHTML = EMPTY_HEART\n        event.target.setAttribute('class', 'like-glyph')\n      }\n    });\n  };\n\n  likeButtons.forEach(button =&gt; {\n    likifyMe(button)\n  });\n\n});\n</code></pre>\n\n<p>Is there a way to achieve this?</p>\n"}, {"tags": ["javascript", "html", "css", "angular"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1577826964, "post_id": 59548214, "comment_id": 105266002, "body": "An alternative that may be easier to implement: show <code>(Select philosopher)</code> as the defaut in the select control."}], "answers": [{"comments": [{"owner": {"reputation": 1062, "user_id": 7960402, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cfe6b312c4538b8a8aabcb1480b85411?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/7960402/felix"}, "edited": false, "score": 0, "creation_date": 1577843587, "post_id": 59548299, "comment_id": 105268230, "body": "For material works good. Thanks. Would be nice to have similar for native HTML elements without much scripting ..."}, {"owner": {"reputation": 1062, "user_id": 7960402, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cfe6b312c4538b8a8aabcb1480b85411?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/7960402/felix"}, "edited": false, "score": 0, "creation_date": 1577849796, "post_id": 59548299, "comment_id": 105268712, "body": "If error: ExpressionChangedAfterItHasBeenCheckedError. The solution appears to be adding: &#39;private changeDetector: ChangeDetectorRef&#39; to constructor and then insert: ngAfterViewChecked() { this.changeDetector.detectChanges();}"}], "tags": [], "owner": {"reputation": 1335, "user_id": 1037613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f3YUq.png?s=128&g=1", "display_name": "Oded BD", "link": "https://stackoverflow.com/users/1037613/oded-bd"}, "is_accepted": false, "score": 1, "last_activity_date": 1577824854, "creation_date": 1577824854, "answer_id": 59548299, "question_id": 59548214, "link": "https://stackoverflow.com/questions/59548214/how-to-have-select-options-list-open-dropped-down-by-default-on-page-load-pla/59548299#59548299", "title": "How to have select options list open / dropped down by default on page load (plain HTML/CSS or Angular solution)", "body": "<p>If you are willing to use mat-select of Angular Material you can do it like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import {Component, ViewChild, AfterViewInit} from '@angular/core';\r\n\r\n/**\r\n * @title Basic select\r\n */\r\n@Component({\r\n  selector: 'select-overview-example',\r\n  templateUrl: 'select-overview-example.html',\r\n  styleUrls: ['select-overview-example.css'],\r\n})\r\nexport class SelectOverviewExample implements AfterViewInit {\r\n  @ViewChild('mySelect') mySelect;\r\n  foods = [\r\n    {value: 'steak-0', viewValue: 'Steak'},\r\n    {value: 'pizza-1', viewValue: 'Pizza'},\r\n    {value: 'tacos-2', viewValue: 'Tacos'}\r\n  ];\r\n\r\n  ngAfterViewInit() {\r\n    this.mySelect.open();\r\n  }\r\n}\r\n\r\n\r\n/**  Copyright 2017 Google Inc. All Rights Reserved.\r\n    Use of this source code is governed by an MIT-style license that\r\n    can be found in the LICENSE file at http://angular.io/license */</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;mat-form-field&gt;\r\n  &lt;mat-select #mySelect placeholder=\"Favorite food\"&gt;\r\n    &lt;mat-option *ngFor=\"let food of foods\" [value]=\"food.value\"&gt;\r\n      {{ food.viewValue }}\r\n    &lt;/mat-option&gt;\r\n  &lt;/mat-select&gt;\r\n&lt;/mat-form-field&gt;\r\n&lt;br&gt;\r\n&lt;button (click)=\"click()\"&gt;click&lt;/button&gt;\r\n\r\n&lt;!-- Copyright 2017 Google Inc. All Rights Reserved.\r\n    Use of this source code is governed by an MIT-style license that\r\n    can be found in the LICENSE file at http://angular.io/license --&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Or you can try Jquery options like shown here\n<a href=\"https://stackoverflow.com/questions/23609105/how-to-open-select-programmatically\">How to open select programmatically</a></p>\n"}], "owner": {"reputation": 1062, "user_id": 7960402, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cfe6b312c4538b8a8aabcb1480b85411?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/7960402/felix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577824854, "creation_date": 1577823987, "question_id": 59548214, "link": "https://stackoverflow.com/questions/59548214/how-to-have-select-options-list-open-dropped-down-by-default-on-page-load-pla", "title": "How to have select options list open / dropped down by default on page load (plain HTML/CSS or Angular solution)", "body": "<p>Interestingly, I do not seam to find a simple solution for a simple requirement of having  list of select options open / dropped down on page load.</p>\n\n<p>I am working with Angular 8 in case that offers some simple script, but I was assuming HTML/CSS should have this built in with some property - such as: 'isOpen' or 'isDroppedDown' ...</p>\n\n<p>I see some are resolving it with 'size' or 'multiple', but these change the visual property of the control and I want consistency. The control needs to be/look the same (with the little arrow ...)</p>\n\n<p>Code example: Say we have this list/array in TS/Angular code:</p>\n\n<pre><code>  philosophers = ['Aristotle', 'Epicurus', 'Descartes', 'Seneca', 'Plato'];\n</code></pre>\n\n<p>and we feed it to this template:</p>\n\n<pre><code>        &lt;select name=\"phil_selector\" [(ngModel)]=\"selected_phil\"&gt;\n                &lt;option *ngFor=\"let item of philosophers; index as ix\" [value]=\"ix\"&gt;\n                    {{item}}\n                &lt;/option&gt;\n        &lt;/select&gt;\n\n        // For those who prefer plain HTML:\n\n        &lt;select name=\"phil_selector\"&gt;\n            &lt;option value=\"0\"&gt;&lt;/option&gt;\n            &lt;option value=\"1\"&gt;Aristotle&lt;/option&gt;\n            &lt;option value=\"2\"&gt;Epicurus&lt;/option&gt;\n            &lt;option value=\"3\"&gt;Descartes&lt;/option&gt;\n            &lt;option value=\"4\"&gt;Seneca&lt;/option&gt;\n            &lt;option value=\"5\"&gt;Plato&lt;/option&gt;\n        &lt;/select&gt;\n</code></pre>\n\n<p>We do not want any item/philosopher be selected by default, but when the page loads, we want the drop-box be already open, to make it clear to the user, that 1st thing he has to do, is to make his selection from the visible list of options. So he will see this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/bjc6f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bjc6f.png\" alt=\"enter image description here\"></a></p>\n\n<p>And, he just clicks on his choice and goes on ...</p>\n\n<p>To summarize the requirement - we need to have a list of 'select' options open (dropped down) after HTML page has loaded.</p>\n"}, {"tags": ["javascript", "html", "google-apps-script"], "comments": [{"owner": {"reputation": 1820, "user_id": 10713297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5E7Ax.jpg?s=128&g=1", "display_name": "Sourabh Choraria", "link": "https://stackoverflow.com/users/10713297/sourabh-choraria"}, "edited": false, "score": 1, "creation_date": 1577824433, "post_id": 59548213, "comment_id": 105265528, "body": "Could you please share the code in it&#39;s entirety? What is <code>formSubmit</code> supposed to do?"}, {"owner": {"reputation": 3, "user_id": 12633886, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBq88kxBDVDYw2Gpyk3q9xwYvyhq2KLteutIRrtlUc=k-s128", "display_name": "Oren Mano", "link": "https://stackoverflow.com/users/12633886/oren-mano"}, "reply_to_user": {"reputation": 1820, "user_id": 10713297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5E7Ax.jpg?s=128&g=1", "display_name": "Sourabh Choraria", "link": "https://stackoverflow.com/users/10713297/sourabh-choraria"}, "edited": false, "score": 0, "creation_date": 1577826093, "post_id": 59548213, "comment_id": 105265841, "body": "See edits above. Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 34507, "user_id": 7215091, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/2pNI4.jpg?s=128&g=1", "display_name": "MetaMan", "link": "https://stackoverflow.com/users/7215091/metaman"}, "is_accepted": false, "score": 0, "last_activity_date": 1582165590, "last_edit_date": 1582165590, "creation_date": 1577838706, "answer_id": 59549306, "question_id": 59548213, "link": "https://stackoverflow.com/questions/59548213/i-cannot-get-input-to-work-under-google-app-script/59549306#59549306", "title": "I cannot get input to work under google app script", "body": "<p>Here's an example form that you can probably use to accomplish your needs.  This form is used as a simple receipt collection system.  You can actually take and upload images from a mobile device with it.  I also has text and button input types and upload a form node.</p>\n\n<p>Code.gs</p>\n\n<pre><code>var receiptImageFolderId='';\nvar SSID='';\n\nfunction onOpen() {\n  SpreadsheetApp.getUi().createMenu('Receipt Collection')\n    .addItem('Run as Dialog', 'showAsDialog')\n    .addItem('Run as Sidebar', 'showAsSidebar')\n    .addToUi();\n  var sh=SpreadsheetApp.getActive().getSheetByName(\"Sheet1\");\n  sh.getRange(sh.getLastRow()+1,1).activate();\n}\n\nfunction uploadTheForm(theForm) {\n  var rObj={};\n  rObj['vendor']=theForm.vendor;\n  rObj['amount']=theForm.amount;\n  rObj['date']=theForm.date;\n  rObj['notes']=theForm.notes\n  var fileBlob=theForm.receipt;\n  var fldr = DriveApp.getFolderById(receiptImageFolderId);\n  rObj['file']=fldr.createFile(fileBlob);\n  rObj['filetype']=fileBlob.getContentType(); \n  Logger.log(JSON.stringify(rObj));\n  var cObj=formatFileName(rObj);\n  Logger.log(JSON.stringify(cObj));\n  var ss=SpreadsheetApp.openById(SSID);\n  ss.getSheetByName('Sheet1').appendRow([cObj.date,cObj.vendor,cObj.amount,cObj.notes,cObj.file.getUrl()]);\n  var html=Utilities.formatString('&lt;br /&gt;FileName: %s',cObj.file.getName());\n  return html;\n}\n\nfunction formatFileName(rObj) {\n  if(rObj) {\n    Logger.log(JSON.stringify(rObj));\n    var mA=rObj.date.split('-');\n    var name=Utilities.formatString('%s_%s_%s.%s',Utilities.formatDate(new Date(mA[0],mA[1]-1,mA[2]),Session.getScriptTimeZone(),\"yyyyMMdd\"),rObj.vendor,rObj.amount,rObj.filetype.split('/')[1]);\n    rObj.file.setName(name);\n  }else{\n      throw('Invalid or No File in formatFileName() upload.gs');\n  }\n  return rObj;\n}\n\nfunction doGet() {\n  var output=HtmlService.createHtmlOutputFromFile('receipts').setTitle('thehtml');\n  return output.setXFrameOptionsMode(HtmlService.XFrameOptionsMode.ALLOWALL).addMetaTag('viewport', 'width=360, initial-scale=1');\n}\n\nfunction showAsDialog() {\n  var ui=HtmlService.createHtmlOutputFromFile('thehtml');\n  SpreadsheetApp.getUi().showModelessDialog(ui, 'Receipts')\n}\n\nfunction showAsSidebar() {\n   var ui=HtmlService.createHtmlOutputFromFile('thehtml');\n  SpreadsheetApp.getUi().showSidebar(ui);\n}\n\nfunction initForm() {\n  var datestring=Utilities.formatDate(new Date(),Session.getScriptTimeZone(), \"yyyy-MM-dd\")\n  return {date:datestring};\n}\n</code></pre>\n\n<p>The Html:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;base target=\"_top\"&gt;\n    &lt;link rel=\"stylesheet\" href=\"//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css\"&gt;\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://code.jquery.com/ui/1.12.1/jquery-ui.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n      $(function(){\n        google.script.run\n        .withSuccessHandler(function(rObj){\n          $('#dt').val(rObj.date);\n        })\n        .initForm();\n\n      });\n      function fileUploadJs(frmData) {\n        var amt=$('#amt').val();\n        var vndr=$('#vndr').val();\n        var img=$('#img').val();\n        if(!amt){\n          window.alert('No amount provided');\n          $('#amt').focus();\n          return;\n        }\n        if(!vndr) {\n          window.alert('No vendor provided');\n          $('#vndr').focus();\n          return;\n        }\n        if(!img) {\n          window.alert('No image chosen');\n          $('#img').focus();\n        }\n        document.getElementById('status').style.display ='inline';\n        google.script.run\n        .withSuccessHandler(function(hl){\n          document.getElementById('status').innerHTML=hl;\n        })\n        .uploadTheForm(frmData)\n      }\n      console.log('My Code');\n    &lt;/script&gt;\n    &lt;style&gt;\n      input,textarea{margin:5px 5px 5px 0;}\n    &lt;/style&gt;\n  &lt;/head&gt;\n   &lt;body&gt;\n    &lt;h3 id=\"main-heading\"&gt;Receipt Information&lt;/h3&gt;\n    &lt;div id=\"formDiv\"&gt;\n      &lt;form id=\"myForm\"&gt;\n        &lt;br /&gt;&lt;input type=\"date\" name=\"date\" id=\"dt\"/&gt;\n        &lt;br /&gt;&lt;input type=\"number\" name=\"amount\" placeholder=\"Amount\" id=\"amt\" /&gt;\n        &lt;br /&gt;&lt;input type=\"text\" name=\"vendor\" placeholder=\"Vendor\" id=\"vndr\"/&gt;\n        &lt;br /&gt;&lt;textarea name=\"notes\" cols=\"40\" rows=\"2\" placeholder=\"NOTES\"&gt;&lt;/textarea&gt;\n        &lt;br/&gt;Receipt Image\n        &lt;br /&gt;&lt;input type=\"file\" name=\"receipt\" id=\"img\" /&gt;\n        &lt;br /&gt;&lt;input type=\"button\" value=\"Submit\" onclick=\"fileUploadJs(this.parentNode)\" /&gt;\n      &lt;/form&gt;\n    &lt;/div&gt;\n  &lt;div id=\"status\" style=\"display: none\"&gt;\n  &lt;!-- div will be filled with innerHTML after form submission. --&gt;\n  Uploading. Please wait...\n  &lt;/div&gt;  \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Here's what the dialog looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/O04pV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O04pV.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 12633886, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBq88kxBDVDYw2Gpyk3q9xwYvyhq2KLteutIRrtlUc=k-s128", "display_name": "Oren Mano", "link": "https://stackoverflow.com/users/12633886/oren-mano"}, "edited": false, "score": 0, "creation_date": 1577886196, "post_id": 59549642, "comment_id": 105274559, "body": "Thank you Tanaike, this was the problem. I&#39;m not sure why the parentheses are not needed here and why the function call did work. But it does work now."}, {"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "reply_to_user": {"reputation": 3, "user_id": 12633886, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBq88kxBDVDYw2Gpyk3q9xwYvyhq2KLteutIRrtlUc=k-s128", "display_name": "Oren Mano", "link": "https://stackoverflow.com/users/12633886/oren-mano"}, "edited": false, "score": 0, "creation_date": 1577932782, "post_id": 59549642, "comment_id": 105283868, "body": "@Oren Mano Thank you for replying. I&#39;m glad your issue was resolved. About your additional question, when <code>()</code> is added to the function name and run the script, the function is run. For example, when the function is <code>function sample() { console.log(&quot;foo&quot;); }</code>, when <code>sample()</code> is run, you can see <code>foo</code> at the console. On the other hand, when <code>sample</code> is run, you can see the script of function at the console."}, {"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "reply_to_user": {"reputation": 3, "user_id": 12633886, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBq88kxBDVDYw2Gpyk3q9xwYvyhq2KLteutIRrtlUc=k-s128", "display_name": "Oren Mano", "link": "https://stackoverflow.com/users/12633886/oren-mano"}, "edited": false, "score": 0, "creation_date": 1577932784, "post_id": 59549642, "comment_id": 105283870, "body": "@Oren Mano In the script in your question, the function <code>getData()</code> is declared at <code>addEventListener</code>, in this case, when <code>addEventListener</code> is run, the function <code>getData</code> is run. In this case, it is required to declare it as the script. So <code>addEventListener(&quot;click&quot;, getData())</code> was required to be modified to <code>addEventListener(&quot;click&quot;, getData)</code>. By this, when the event is run, the function <code>getData</code> is run with the arguments. If I misunderstood your replying, I apologize."}], "tags": [], "owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "is_accepted": true, "score": 0, "last_activity_date": 1577845361, "creation_date": 1577845361, "answer_id": 59549642, "question_id": 59548213, "link": "https://stackoverflow.com/questions/59548213/i-cannot-get-input-to-work-under-google-app-script/59549642#59549642", "title": "I cannot get input to work under google app script", "body": "<ul>\n<li>You want to retrieve the value of <code>&lt;input type=\"text\" id=\"firstname\"&gt;</code> when the button is clicked.\n\n<ul>\n<li>In your current situation, when you see the log with the script editor, only <code>name</code> is retrieved. This is your current issue.</li>\n</ul></li>\n<li>You want to know the reason of the issue.</li>\n</ul>\n\n<p>If my understanding is correct, how about this answer? Please think of this as just one of several possible answers.</p>\n\n<h3>Modification points:</h3>\n\n<ul>\n<li>In your script, <code>document.getElementById(\"send\").addEventListener(\"click\", getData());</code> is used. In this case, when the HTML is loaded, <code>getData()</code> is run by <code>()</code> of <code>getData()</code>. By this, <code>uname</code> becomes <code>\"\"</code> and <code>\"\"</code> is sent to <code>formSubmit(uname)</code>, then, when you see the log, you see <code>name</code>. And also, in this case, even when the button is clicked, <code>google.script.run.formSubmit(uname);</code> cannot be run. I think that this is the reason of the issue of your script in your question.</li>\n</ul>\n\n<p>In order to avoid this, please modify your script as follows.</p>\n\n<h3>Modified script:</h3>\n\nFrom:\n\n<pre><code>document.getElementById(\"send\").addEventListener(\"click\", getData());\n</code></pre>\n\nTo:\n\n<pre><code>document.getElementById(\"send\").addEventListener(\"click\", getData);\n</code></pre>\n\n<ul>\n<li>By the above modification for your script, when <code>sample</code> is inputted to \"Name 1\" and click \"Send\" button, you can see <code>name sample</code> at the log with the script editor.</li>\n</ul>\n\n<h3>Reference:</h3>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\" rel=\"nofollow noreferrer\">addEventListener()</a></li>\n</ul>\n\n<p>If I misunderstood your question and this was not the result you want, I apologize.</p>\n"}], "owner": {"reputation": 3, "user_id": 12633886, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBq88kxBDVDYw2Gpyk3q9xwYvyhq2KLteutIRrtlUc=k-s128", "display_name": "Oren Mano", "link": "https://stackoverflow.com/users/12633886/oren-mano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 59549642, "answer_count": 2, "score": 0, "last_activity_date": 1582165590, "creation_date": 1577823958, "last_edit_date": 1577826037, "question_id": 59548213, "link": "https://stackoverflow.com/questions/59548213/i-cannot-get-input-to-work-under-google-app-script", "title": "I cannot get input to work under google app script", "body": "<p>I'm writing a web app under google sheets and can't get an input field to work. What am I doing wrong?\neverything works but uname is always empty (not undefined).</p>\n\n<p>edit: I'm adding the full code after simplifying it as much as I could.\nIn the log I get \"name\" regardless of the input I type in.  </p>\n\n<p>In the file code.gs:</p>\n\n<pre><code>function doGet () {\n      var participant = {};\n\n      var templ = HtmlService.createTemplateFromFile('out');   \n      return templ.evaluate();;\n\n\n}\n\n\nfunction formSubmit(name) {\n\n      Logger.log(\"name \" + name);\n\n\n      }\n</code></pre>\n\n<p>In out.html</p>\n\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n      &lt;base target =\"_top\"&gt;    \n  &lt;/head&gt;\n  &lt;body dir=\"rtl\"; background-color: #92a8d1;&gt;\n\n\n    &lt;label&gt; Name 1 &lt;/label&gt; &lt;input type=\"text\" id=\"firstname\"&gt;&lt;br&gt;\n    &lt;label&gt; Name 2 &lt;/label&gt; &lt;input type=\"text\" id=\"lastname\"&gt; &lt;br&gt;&lt;br&gt;\n    &lt;button type=\"button\" id=\"send\"&gt;Send&lt;/button&gt;\n\n\n     &lt;script&gt;\n\n    document.getElementById(\"send\").addEventListener(\"click\", getData());\n\n    function getData(){ \n      var uname = document.getElementById(\"firstname\").value;   \n      google.script.run.formSubmit(uname);\n\n\n    }\n\n      &lt;/script&gt;\n\n\n\n\n\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "three.js", "glsl", "shader"], "comments": [{"owner": {"reputation": 82151, "user_id": 128511, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/KwGaJ.png?s=128&g=1", "display_name": "gman", "link": "https://stackoverflow.com/users/128511/gman"}, "edited": false, "score": 0, "creation_date": 1577850650, "post_id": 59548197, "comment_id": 105268784, "body": "<a href=\"https://thebookofshaders.com/\" rel=\"nofollow noreferrer\">The book of shaders</a> has nothing to do with three.js. If you to learn WebGL consider <a href=\"https://webglfundamentals.org\" rel=\"nofollow noreferrer\">these articles</a>"}], "answers": [{"comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1577826440, "post_id": 59548423, "comment_id": 105265898, "body": "An explanation of the answer would likely be more helpful to someone learning the subject..."}, {"owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "edited": false, "score": 0, "creation_date": 1577826463, "post_id": 59548423, "comment_id": 105265907, "body": "I think he want to know where to get <code>x</code> from and what to do with <code>y</code>."}], "tags": [], "owner": {"reputation": 105, "user_id": 7520856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PSY20.jpg?s=128&g=1", "display_name": "Paul Freeman", "link": "https://stackoverflow.com/users/7520856/paul-freeman"}, "is_accepted": false, "score": 1, "last_activity_date": 1577826915, "last_edit_date": 1577826915, "creation_date": 1577826130, "answer_id": 59548423, "question_id": 59548197, "link": "https://stackoverflow.com/questions/59548197/book-of-shaders-exercises/59548423#59548423", "title": "Book of shaders exercises", "body": "<p>I believe it would be something like this:</p>\n\n<pre><code>y = sin(u_time + x);\n</code></pre>\n\n<p>You should see the sin wave moving along the x axis.</p>\n\n<p>Explanation:\nu_time is the time in seconds since the shader started.  Using this variable, we can add it to the x value before calculating sin, which will give the effect of the wave moving along the x axis.</p>\n\n<p>To implement it, you can change the text just under the graph.<a href=\"https://i.stack.imgur.com/iId3G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iId3G.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "is_accepted": false, "score": 2, "last_activity_date": 1577828741, "last_edit_date": 1577828741, "creation_date": 1577827292, "answer_id": 59548531, "question_id": 59548197, "link": "https://stackoverflow.com/questions/59548197/book-of-shaders-exercises/59548531#59548531", "title": "Book of shaders exercises", "body": "<p>You'll need 2 uniform variables, the resolution of the viewport (<code>u_resolution</code>) and the time (<code>u_time</code>) in seconds:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>uniform vec2 u_resolution;\nuniform float u_time;\n</code></pre>\n\n<p><code>x</code> can be get by the x coordinate of the fragment. Map the x coordinate to the range [0, 2*PI]:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>vec2 st = gl_FragCoord.xy/u_resolution.xy;\nfloat x = st.x * 2.0 * 3.141529;\n</code></pre>\n\n<p>Calculate <code>y</code>. <a href=\"https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/sin.xhtml\" rel=\"nofollow noreferrer\"><code>sin</code></a> is the <a href=\"https://en.wikipedia.org/wiki/Sine\" rel=\"nofollow noreferrer\">Sine</a> function:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>float y = sin(x + u_time);\n</code></pre>\n\n<p>Set the color channels of the fragment by <code>y</code>. <code>y</code> has to be mapped from the range [-1, 1], to [0, 1]:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>gl_FragColor = vec4(vec3(y*0.5+0.5), 1.0);\n</code></pre>\n\n<p>The result is a sine gradient, moving from the right to the left:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var container, camera, scene, renderer, uniforms;\r\n\r\ninit();\r\nanimate();\r\n\r\nfunction init() {\r\n    container = document.getElementById( 'container' );\r\n    camera = new THREE.Camera();\r\n    camera.position.z = 1;\r\n    scene = new THREE.Scene();\r\n    var geometry = new THREE.PlaneBufferGeometry( 2, 2 );\r\n\r\n    uniforms = {\r\n        u_time: { type: \"f\", value: 1.0 },\r\n        u_resolution: { type: \"v2\", value: new THREE.Vector2() }\r\n    };\r\n\r\n    var material = new THREE.ShaderMaterial( {\r\n        uniforms: uniforms,\r\n        vertexShader: document.getElementById( 'vertexShader' ).textContent,\r\n        fragmentShader: document.getElementById( 'fragmentShader' ).textContent\r\n    } );\r\n    var mesh = new THREE.Mesh( geometry, material );\r\n    scene.add( mesh );\r\n    renderer = new THREE.WebGLRenderer();\r\n    renderer.setPixelRatio( window.devicePixelRatio );\r\n    container.appendChild( renderer.domElement );\r\n    (window.onresize = function() {\r\n        renderer.setSize( window.innerWidth, window.innerHeight );\r\n        uniforms.u_resolution.value.x = renderer.domElement.width;\r\n        uniforms.u_resolution.value.y = renderer.domElement.height;\r\n    })();\r\n}\r\n\r\nfunction animate(delta_ms) {\r\n    requestAnimationFrame( animate );\r\n    uniforms.u_time.value = delta_ms / 1000.0;\r\n    renderer.render( scene, camera );\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script id=\"vertexShader\" type=\"x-shader/x-vertex\"&gt;\r\nvoid main() {\r\n    gl_Position = vec4( position, 1.0 );\r\n}\r\n&lt;/script&gt;\r\n\r\n&lt;script id=\"fragmentShader\" type=\"x-shader/x-fragment\"&gt;\r\nuniform vec2 u_resolution;\r\nuniform float u_time;\r\n\r\nvoid main() {\r\n    vec2 st = gl_FragCoord.xy/u_resolution.xy;\r\n\r\n    float x = st.x * 2.0 * 3.141529;\r\n    float y = sin(x + u_time);\r\n\r\n    gl_FragColor = vec4(vec3(y*0.5+0.5), 1.0);\r\n}\r\n&lt;/script&gt;\r\n\r\n&lt;div id=\"container\"&gt;&lt;/div&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/110/three.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 149, "user_id": 12474604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b13d2cd346b84a8e9dfa3f4950f75293?s=128&d=identicon&r=PG&f=1", "display_name": "Fulvio", "link": "https://stackoverflow.com/users/12474604/fulvio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 423, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1577828741, "creation_date": 1577823806, "last_edit_date": 1577826358, "question_id": 59548197, "link": "https://stackoverflow.com/questions/59548197/book-of-shaders-exercises", "title": "Book of shaders exercises", "body": "<p>I am spending  this winter holidays trying to learn something about shaders, I am stuck with this couple exercise:</p>\n\n<pre><code>y = sin(x);\n</code></pre>\n\n<p>Try the following exercises and notice what happens:</p>\n\n<ul>\n<li>Add time (u_time) to x before computing the sin. Internalize that motion along\nx.</li>\n</ul>\n\n<p>how do I implement it?</p>\n"}, {"tags": ["javascript", "regex"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1577823873, "post_id": 59548189, "comment_id": 105265416, "body": "the regex checks for <code>widt</code> followed by <i>any amount of <code>h</code> characters</i> and then the end of the line. So, it won&#39;t match anything but a line ending in <code>widt</code>, <code>width</code>, <code>widthh</code>, <code>widthhh</code> and so on."}, {"owner": {"reputation": 30330, "user_id": 1352288, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Ra8hE.png?s=128&g=1", "display_name": "Mitya", "link": "https://stackoverflow.com/users/1352288/mitya"}, "edited": false, "score": 0, "creation_date": 1577823884, "post_id": 59548189, "comment_id": 105265417, "body": "Yes but it doesn&#39;t <i>end</i> with width, which is what you&#39;re enforcing via <code>$</code>"}], "answers": [{"tags": [], "owner": {"reputation": 22927, "user_id": 468592, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/24c893062f94d0e60db020e9e3163a2c?s=128&d=identicon&r=PG", "display_name": "Jeremy Harris", "link": "https://stackoverflow.com/users/468592/jeremy-harris"}, "is_accepted": true, "score": 1, "last_activity_date": 1577823923, "creation_date": 1577823923, "answer_id": 59548209, "question_id": 59548189, "link": "https://stackoverflow.com/questions/59548189/regex-to-test-an-expression/59548209#59548209", "title": "Regex to test an expression", "body": "<p>You need to use <code>.</code> to match any character followed by the <code>*</code> to match 1 or more.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const oldStyle = 'width:90%;height:inherit;padding-left:20px;';\r\nconst result = /width.*$/.test(oldStyle);\r\n\r\ndocument.getElementById('result').innerHTML = \"Result: \" + result;</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"result\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1759, "user_id": 443626, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1ba1aed46f15b9daaf993f4b2ec1d04e?s=128&d=identicon&r=PG", "display_name": "redoc01", "link": "https://stackoverflow.com/users/443626/redoc01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "closed_date": 1577884828, "accepted_answer_id": 59548209, "answer_count": 1, "score": -3, "last_activity_date": 1577823923, "creation_date": 1577823748, "question_id": 59548189, "link": "https://stackoverflow.com/questions/59548189/regex-to-test-an-expression", "closed_reason": "Not suitable for this site", "title": "Regex to test an expression", "body": "<p>I have this expression:</p>\n\n<pre><code>/width*$/.test(oldStyle)\n</code></pre>\n\n<p>And oldStyle has this inside of it:</p>\n\n<pre><code>width:90%;height:inherit;padding-left:20px;\n</code></pre>\n\n<p>The expression should return true as i have tested it in a online JavaScript regex expression tool.</p>\n\n<p>Why is this returning false?</p>\n\n<p>Can i use this expression the way i have coded?</p>\n"}, {"tags": ["javascript", "css"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1577823296, "post_id": 59548130, "comment_id": 105265263, "body": "You can add a class and then just let CSS do its job styling the element."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 3, "creation_date": 1577823501, "post_id": 59548130, "comment_id": 105265318, "body": "Sounds like an <a href=\"https://xyproblem.info\" rel=\"nofollow noreferrer\">XY Problem</a>. What are you trying to do, and why isn&#39;t setting the style attribute worthwhile?"}, {"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 2, "creation_date": 1577823610, "post_id": 59548130, "comment_id": 105265345, "body": "As Heretic said, you might want to explain your end result, because though you <i>can</i> do what you&#39;re asking, right now it seems like you&#39;re trying to perform an unnecessary hack."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1577823682, "post_id": 59548130, "comment_id": 105265368, "body": "@HereticMonkey in fairness, setting the style attribute either workd <i>for now</i> or leads to problems later in my experience. The very high weight the styles have usually mean that if you ever need to apply some common style to something with a <code>style</code> attribute you cannot. A 5 minutes job of just adding some CSS turns into a two day task of changing the JS appropriately, testing to make sure there aren&#39;t any styles overriding the desired style and amending those (if any)."}, {"owner": {"reputation": 9, "user_id": 12628015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa173f3a0b3c3cc11a153c022daf4105?s=128&d=identicon&r=PG&f=1", "display_name": "RRJudah", "link": "https://stackoverflow.com/users/12628015/rrjudah"}, "edited": false, "score": 0, "creation_date": 1577823738, "post_id": 59548130, "comment_id": 105265381, "body": "I did not want as many style attributes because it could get long and cluttered for others to read. That&#39;s all."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1577824036, "post_id": 59548130, "comment_id": 105265450, "body": "@VLAZ Sure, but as you said in your first comment, why not just use a stylesheet? This seems like a question in search of problem. My comment was more to elicit the reason for the question, to head off answers like the ones below. Granted, most people don&#39;t read the comments... but then most people answer duplicates ;)."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1577824464, "post_id": 59548130, "comment_id": 105265540, "body": "@HereticMonkey &quot;<i>why not use a stylesheet?</i>&quot; good question. In my experience, it&#39;s usually something like 1. there is a task to make some error text red 2. some developer does <code>.css(&quot;color&quot;, &quot;red&quot;)</code> because they&#39;ve picked up an easy task and aren&#39;t web developers. 3. some new requirement comes in to add some other styling to error texts (e.g., make them different colour). So instead of just changing what should have been <code>.errorText { color: red; }</code> - a trivial CSS change, it&#39;s now much more involved."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 12628015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa173f3a0b3c3cc11a153c022daf4105?s=128&d=identicon&r=PG&f=1", "display_name": "RRJudah", "link": "https://stackoverflow.com/users/12628015/rrjudah"}, "edited": false, "score": 0, "creation_date": 1577823399, "post_id": 59548141, "comment_id": 105265291, "body": "Can you remove the style element afterwards?"}, {"owner": {"reputation": 3958, "user_id": 11081214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b53d0cefd959372f49e84b943a1187f?s=128&d=identicon&r=PG&f=1", "display_name": "Snow", "link": "https://stackoverflow.com/users/11081214/snow"}, "reply_to_user": {"reputation": 9, "user_id": 12628015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa173f3a0b3c3cc11a153c022daf4105?s=128&d=identicon&r=PG&f=1", "display_name": "RRJudah", "link": "https://stackoverflow.com/users/12628015/rrjudah"}, "edited": false, "score": 0, "creation_date": 1577823485, "post_id": 59548141, "comment_id": 105265314, "body": "By removing the style tag. <code>styleTag.remove()</code>"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1577824124, "post_id": 59548141, "comment_id": 105265467, "body": "Why is this preferable over just creating a stylesheet and using a <code>link</code> to reference it, then adding/removing the class on the element?"}, {"owner": {"reputation": 3958, "user_id": 11081214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b53d0cefd959372f49e84b943a1187f?s=128&d=identicon&r=PG&f=1", "display_name": "Snow", "link": "https://stackoverflow.com/users/11081214/snow"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1577827913, "post_id": 59548141, "comment_id": 105266176, "body": "@HereticMonkey If the style to be applied isn&#39;t dynamic, and you have the ability to write and link to external stylesheets, and changing attributes of the element is OK, then yes, that&#39;d be a lot easier, but I didn&#39;t want to assume anything given the weird nature of the question"}], "tags": [], "owner": {"reputation": 3958, "user_id": 11081214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b53d0cefd959372f49e84b943a1187f?s=128&d=identicon&r=PG&f=1", "display_name": "Snow", "link": "https://stackoverflow.com/users/11081214/snow"}, "is_accepted": false, "score": 1, "last_activity_date": 1577823471, "last_edit_date": 1577823471, "creation_date": 1577823278, "answer_id": 59548141, "question_id": 59548130, "link": "https://stackoverflow.com/questions/59548130/can-you-style-an-element-with-javascript-without-adding-a-style-attribute/59548141#59548141", "title": "Can you style an element with JavaScript without adding a style attribute?", "body": "<p>If you can come up with a selector that targets the element, another option is to append a stylesheet that contains that selector:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const styleTag = document.head.appendChild(document.createElement('style'));\r\nstyleTag.textContent = 'div { color: blue; }';</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;Some div&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It'd be more reliable if you're permitted to change the element in some way, like add a class or other attribute:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const div = document.querySelector('div');\r\nconst className = `_${('' + Math.random()).slice(2)}`;\r\ndiv.classList.add(className);\r\nconst styleTag = document.head.appendChild(document.createElement('style'));\r\nstyleTag.textContent = `.${className} { color: blue; }`;</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;Some div&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 12628015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa173f3a0b3c3cc11a153c022daf4105?s=128&d=identicon&r=PG&f=1", "display_name": "RRJudah", "link": "https://stackoverflow.com/users/12628015/rrjudah"}, "edited": false, "score": 0, "creation_date": 1577823599, "post_id": 59548166, "comment_id": 105265343, "body": "Isn&#39;t it document.addEventListener?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12629985"}, "reply_to_user": {"reputation": 9, "user_id": 12628015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa173f3a0b3c3cc11a153c022daf4105?s=128&d=identicon&r=PG&f=1", "display_name": "RRJudah", "link": "https://stackoverflow.com/users/12628015/rrjudah"}, "edited": false, "score": 0, "creation_date": 1577823690, "post_id": 59548166, "comment_id": 105265373, "body": "@RRJudah Sorry my bad"}, {"owner": {"reputation": 11701, "user_id": 8376184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U6TIU.jpg?s=128&g=1", "display_name": "FZs", "link": "https://stackoverflow.com/users/8376184/fzs"}, "reply_to_user": {"reputation": 9, "user_id": 12628015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa173f3a0b3c3cc11a153c022daf4105?s=128&d=identicon&r=PG&f=1", "display_name": "RRJudah", "link": "https://stackoverflow.com/users/12628015/rrjudah"}, "edited": false, "score": 0, "creation_date": 1577838631, "post_id": 59548166, "comment_id": 105267709, "body": "@RRJudah Actually, it works both with <code>window</code> and <code>document</code>..."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user12629985"}, "is_accepted": false, "score": 0, "last_activity_date": 1577824351, "last_edit_date": 1577824351, "creation_date": 1577823497, "answer_id": 59548166, "question_id": 59548130, "link": "https://stackoverflow.com/questions/59548130/can-you-style-an-element-with-javascript-without-adding-a-style-attribute/59548166#59548166", "title": "Can you style an element with JavaScript without adding a style attribute?", "body": "<ul>\n<li>Add a CSS class inside <code>styles</code> tags</li>\n<li>Use the <code>DOMContentLoaded</code> event to add a class to the element when the document is loaded</li>\n<li>Get the elment through its tag name</li>\n<li>Use <code>setAttribute</code> method in vanillaJS to add the CSS class to your tag elment</li>\n<li>In this way it could be more maintainable yoru code, because you change at css level and JS auntomaticly will put the value tanken from css class declared</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n      &lt;meta charset=\"utf-8\"&gt;\r\n      &lt;meta name=\"viewport\" content=\"width=device-width\"&gt;\r\n      &lt;title&gt;Example&lt;/title&gt;\r\n      &lt;style&gt;\r\n        .styles {\r\n          color: red;\r\n        }\r\n      &lt;/style&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;p&gt;Hello there&lt;/p&gt;\r\n    &lt;script&gt;\r\n      let paragraph = document.querySelector(\"p\")\r\n      \r\n      document.addEventListener(\"DOMContentLoaded\", () =&gt; {\r\n        paragraph.setAttribute(\"class\", \"styles\")\r\n      })\r\n    &lt;/script&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 22927, "user_id": 468592, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/24c893062f94d0e60db020e9e3163a2c?s=128&d=identicon&r=PG", "display_name": "Jeremy Harris", "link": "https://stackoverflow.com/users/468592/jeremy-harris"}, "is_accepted": false, "score": 0, "last_activity_date": 1577823552, "creation_date": 1577823552, "answer_id": 59548169, "question_id": 59548130, "link": "https://stackoverflow.com/questions/59548130/can-you-style-an-element-with-javascript-without-adding-a-style-attribute/59548169#59548169", "title": "Can you style an element with JavaScript without adding a style attribute?", "body": "<p>With JS, you can write anything to the DOM, including a <code>&lt;style&gt;</code> tag. So for example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const el = document.getElementById('changeColor');\r\nel.onclick = function(e) { \r\n   const s = document.createElement('style');\r\n   s.innerHTML = '.box { background-color: yellow; }';\r\n   document.querySelector('body').appendChild(s);\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.box {\r\n   width: 150px;\r\n   height: 150px;\r\n   background-color: red;\r\n   color: white;\r\n   padding: 20px;\r\n}\r\n\r\n#changeColor {\r\n   margin: 10px 0;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;body&gt;\r\n   &lt;button type=\"button\" id=\"changeColor\"&gt;Change It&lt;/button&gt;\r\n   &lt;div class=\"box\"&gt;This is a box&lt;/div&gt;\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 9, "user_id": 12628015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa173f3a0b3c3cc11a153c022daf4105?s=128&d=identicon&r=PG&f=1", "display_name": "RRJudah", "link": "https://stackoverflow.com/users/12628015/rrjudah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1577824351, "creation_date": 1577823170, "last_edit_date": 1577823442, "question_id": 59548130, "link": "https://stackoverflow.com/questions/59548130/can-you-style-an-element-with-javascript-without-adding-a-style-attribute", "title": "Can you style an element with JavaScript without adding a style attribute?", "body": "<p>When you write <code>element.style = \"...\"</code> in JavaScript in adds the <code>style</code> attribute to the element you add the style to. Is there a way to add a style without the <code>style</code> attribute, without any libraries?</p>\n"}, {"tags": ["javascript", "angular", "asynchronous", "async-await", "async.js"], "comments": [{"owner": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "edited": false, "score": 0, "creation_date": 1577823615, "post_id": 59548122, "comment_id": 105265347, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/18983138/callback-after-all-asynchronous-foreach-callbacks-are-completed\">Callback after all asynchronous forEach callbacks are completed</a>"}, {"owner": {"reputation": 564, "user_id": 12069171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b084cbfc762adbb20929553ae2cc92c4?s=128&d=identicon&r=PG&f=1", "display_name": "Lint", "link": "https://stackoverflow.com/users/12069171/lint"}, "reply_to_user": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "edited": false, "score": 0, "creation_date": 1577823683, "post_id": 59548122, "comment_id": 105265369, "body": "I already tried promises, but it didn&#39;t worked"}, {"owner": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "edited": false, "score": 1, "creation_date": 1577824022, "post_id": 59548122, "comment_id": 105265448, "body": "your <code>async&#47;await</code> snippet makes it very clear that you didn&#39;t read the question I linked above. You <b>can&#39;t</b> use forEach like that to make the async function wait until each product has been processed. Use a normal loop."}, {"owner": {"reputation": 564, "user_id": 12069171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b084cbfc762adbb20929553ae2cc92c4?s=128&d=identicon&r=PG&f=1", "display_name": "Lint", "link": "https://stackoverflow.com/users/12069171/lint"}, "reply_to_user": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "edited": false, "score": 0, "creation_date": 1577824310, "post_id": 59548122, "comment_id": 105265503, "body": "will normal loop work fine in this scenario ?"}, {"owner": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "edited": false, "score": 0, "creation_date": 1577824400, "post_id": 59548122, "comment_id": 105265523, "body": "<code>.forEach()</code> calls an async function immediately on each element of the array without waiting for the previous to finish. if you use a regular <code>for</code> loop, you can <code>await</code> the processing of each element before the loop continues to the next iteration"}, {"owner": {"reputation": 489, "user_id": 10447393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dbaf17435bbc846d21fb55809953133?s=128&d=identicon&r=PG&f=1", "display_name": "WGriffing", "link": "https://stackoverflow.com/users/10447393/wgriffing"}, "edited": false, "score": 0, "creation_date": 1577825099, "post_id": 59548122, "comment_id": 105265668, "body": "I think your first example could benefit from utilizing <code>forkJoin</code> from <code>rxjs</code>. You make an array of Observables and then subscribe to the execution of the entire array. If all of your requests succeed, the subscribe is executed. If any of them fail, the whole thing fails and you can catch the failure instead. Related/some examples: <a href=\"https://stackoverflow.com/questions/48300456/forkjoin-issue-on-angular\" title=\"forkjoin issue on angular\">stackoverflow.com/questions/48300456/forkjoin-issue-on-angul&zwnj;&#8203;ar</a>"}, {"owner": {"reputation": 564, "user_id": 12069171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b084cbfc762adbb20929553ae2cc92c4?s=128&d=identicon&r=PG&f=1", "display_name": "Lint", "link": "https://stackoverflow.com/users/12069171/lint"}, "reply_to_user": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "edited": false, "score": 0, "creation_date": 1577832411, "post_id": 59548122, "comment_id": 105266953, "body": "@Klaycon I tried but its not working either :("}], "answers": [{"tags": [], "owner": {"reputation": 547, "user_id": 4755659, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/LM993.jpg?s=128&g=1", "display_name": "Maximilian Fixl", "link": "https://stackoverflow.com/users/4755659/maximilian-fixl"}, "is_accepted": true, "score": 1, "last_activity_date": 1579298115, "last_edit_date": 1579298115, "creation_date": 1579286245, "answer_id": 59793123, "question_id": 59548122, "link": "https://stackoverflow.com/questions/59548122/execute-a-function-after-a-response-of-previous-in-angular/59793123#59793123", "title": "Execute a function after a response of previous in Angular", "body": "<p>I just <a href=\"https://stackoverflow.com/questions/59786513/javascript-async-get-request-inside-loop/59786833#59786833\">answered a question</a> today, about almost the same problem. Maybe you still need a solution, otherwise see it as another way to go.</p>\n\n<p>Doesn't mind if you use <code>async</code> <code>await</code> or <code>daisy chain</code> style with <code>new Promise</code>. Since version 3.x of <code>async</code> framework, you'll be able to use the amazing iteration functions (don't know if all) as promise, if you don't use <code>callback</code>.</p>\n\n<p>This is an simple example, how you could use the <code>eachOf</code> function for asynchronously tasks.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const async = require('async');\n\nlet items = [\n    { firstName: 'John', lastName: 'Doe' },\n    { firstName: 'Jane', lastName: 'Doe' },\n    { firstName: 'Me', lastName: 'Myself And I' }\n];\n\nasync.eachOf(items, (item, index, callback) =&gt; {\n\n    //here you could query db with vaulues from items array as item\n    console.log('this is item:', item);\n\n    new Promise(resolve =&gt; {\n        setTimeout(() =&gt; {\n            resolve(true);\n        }, 500);\n    })\n    .then(result =&gt; {\n       //maybe you need to do something else\n       console.log('this is the result:', result);\n\n       callback();\n    });\n})\n.then(() =&gt; {\n    //working ahead with daisy chain\n    console.log('All items updated');\n});\n</code></pre>\n\n<p>I hope you can work with this setup or it's an inspiration to restructure this and using <code>async</code> <code>await</code> in another handy way.</p>\n"}], "owner": {"reputation": 564, "user_id": 12069171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b084cbfc762adbb20929553ae2cc92c4?s=128&d=identicon&r=PG&f=1", "display_name": "Lint", "link": "https://stackoverflow.com/users/12069171/lint"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 59793123, "answer_count": 1, "score": 0, "last_activity_date": 1599076359, "creation_date": 1577823109, "last_edit_date": 1599076359, "question_id": 59548122, "link": "https://stackoverflow.com/questions/59548122/execute-a-function-after-a-response-of-previous-in-angular", "title": "Execute a function after a response of previous in Angular", "body": "<p>I'm trying to execute a function after a success response of previous function has returned. Have been trying, with different approaches, but still in vain.</p>\n<p>I want my service to post <code>newLoan</code> only after the the <code>loanTerms</code> have been added (which is a API call), but doesn't waits for that an execute the next function without the response of previous.</p>\n<p>Before posting this question, I already tried different methods, Even though I'm putting my code inside the <code>subscribe</code> method of function. but still I doesn't performs the way I want it.\nThe problem is that I've list of products, and I've to perform a network operation on each product and then execute my other function, but it only waits for just 1st product, after that I doesn't wait and executes the next function.\nHere is my code</p>\n<pre><code>{\n    this.newLoanForm.value.invoiceDate = this.loanDate.format();\n    document.getElementById('submitButton').style.display = 'none';\n\n   \n    // Adding number of months against give loan term ID\n    let loanProducts = this.loanProductForm.value.products;\n    let loanTerm;\n\n    loanProducts.forEach(product =&gt; {\n      this.loanTermService.getLoanTerm(product.loanTermId).subscribe((response: any) =&gt; {\n        // console.log('Number of months: ', response.numberOfMonths)\n        loanTerm = response.numberOfMonths;\n        product.installmentStartDate = this.installmentStartDate.format();\n        product.monthlyInstallment = product.total / loanTerm;\n\n        // I want this function to executed after all the products have been completed their network activity, but it only waits for just 1st product, after that it executes the below code. how do I make it wait for all products.\n        this.loanService.postLoan(this.newLoanForm.value).subscribe((response: any) =&gt; {\n\n          console.log('Loan added successfully: ', response);\n          PNotify.success({\n            title: 'Loan added Successfully',\n            text: 'Redirecting to list page',\n            minHeight: '75px'\n          })\n          document.getElementById('submitButton').style.display = 'initial';\n          this.router.navigate(['searchLoan']);\n\n        }, (error) =&gt; {\n          console.log('Error occured while adding loan: ', error);\n          PNotify.error({\n            title: 'Error occured while adding loan',\n            text: 'Failed to add new loan',\n            minHeight: '75px'\n          })\n          document.getElementById('submitButton').style.display = 'initial';\n        })\n\n      }, error =&gt; {\n        console.log('Error while retrieving loanTermId: ', error);\n      });\n    });\n\n\n    this.newLoanForm.value.loanProducts = loanProducts;\n    console.log('Loan Products: ', this.loanProductForm.value);\n\n</code></pre>\n<p>here's how I tried the above code with promise and <code>async</code> and <code>await</code></p>\n<pre><code>async calculateInstallments() {\n    // Adding number of months against give loan term ID\n    this.loanProducts = this.loanProductForm.value.products;\n    // let loanTerm;\n\n    this.loanProducts.forEach(async product =&gt; {\n      console.log('Call to get loanTerms: ', await this.loanTermService.getLoanTermById(product.loanTermId));\n      let response: any = await this.loanTermService.getLoanTermById(product.loanTermId);\n      await this.loanProductService.getLoanProductByLoanId(product.loanTermId).then(() =&gt; {\n        let loanTerm = response.numberOfMonths;\n        console.log('loanTerms', loanTerm);\n        product.installmentStartDate = this.installmentStartDate.format();\n        product.monthlyInstallment = product.total / loanTerm;\n      });\n\n    });\n  }\n// putting the function I want to execute after the response of previous in the `then` method\n\n    await this.calculateInstallments().then(() =&gt; {\n\n      this.newLoanForm.value.loanProducts = this.loanProducts;\n      // Posting loan after the response of loanTerms Service\n      this.loanService.postLoan(this.newLoanForm.value).subscribe((response: any) =&gt; {\n\n        console.log('Loan added successfully: ', response);\n        PNotify.success({\n          title: 'Loan added Successfully',\n          text: 'Redirecting to list page',\n          minHeight: '75px'\n        });\n        document.getElementById('submitButton').style.display = 'initial';\n        this.router.navigate(['searchLoan']);\n\n      }, (error) =&gt; {\n        console.log('Error occured while adding loan: ', error);\n        PNotify.error({\n          title: 'Error occured while adding loan',\n          text: 'Failed to add new loan',\n          minHeight: '75px'\n        });\n        document.getElementById('submitButton').style.display = 'initial';\n      });\n\n\n    });\n</code></pre>\n<p>but it didn't work unfortunately.</p>\n"}, {"tags": ["javascript", "node.js", "reactjs", "rest", "express"], "comments": [{"owner": {"reputation": 3447, "user_id": 4855817, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OBpzT.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4855817/alex"}, "edited": false, "score": 0, "creation_date": 1578121304, "post_id": 59548118, "comment_id": 105343169, "body": "could you please attach server-side code"}, {"owner": {"reputation": 785, "user_id": 10626207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/611c5e694ee433fdb6424569985ebc29?s=128&d=identicon&r=PG", "display_name": "Mattia Rasulo", "link": "https://stackoverflow.com/users/10626207/mattia-rasulo"}, "edited": false, "score": 0, "creation_date": 1578300079, "post_id": 59548118, "comment_id": 105381275, "body": "You need to add your server-side handling logic or the question is not answerable!"}], "answers": [{"comments": [{"owner": {"reputation": 309, "user_id": 8976140, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a4b0d3bb664743236244667badc29c4d?s=128&d=identicon&r=PG&f=1", "display_name": "Waeez", "link": "https://stackoverflow.com/users/8976140/waeez"}, "edited": false, "score": 1, "creation_date": 1577988303, "post_id": 59548199, "comment_id": 105303761, "body": "Thank you for your answer. I think storing Files in Base64 going to make the JSON very heavy. This will cause a performance Issues"}, {"owner": {"reputation": 309, "user_id": 8976140, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a4b0d3bb664743236244667badc29c4d?s=128&d=identicon&r=PG&f=1", "display_name": "Waeez", "link": "https://stackoverflow.com/users/8976140/waeez"}, "edited": false, "score": 0, "creation_date": 1577989754, "post_id": 59548199, "comment_id": 105304284, "body": "I tried another alternative, But this becomes challenging when it comes to multer. Please see the updated question"}], "tags": [], "owner": {"reputation": 3115, "user_id": 8390411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdb4d2674d818861be4a4139469ebe59?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8390411/max"}, "is_accepted": false, "score": 5, "last_activity_date": 1577823840, "creation_date": 1577823840, "answer_id": 59548199, "question_id": 59548118, "link": "https://stackoverflow.com/questions/59548118/how-to-send-a-file-in-array-of-object-to-express-server/59548199#59548199", "title": "How to send a file in array of object to express server?", "body": "<p>You can't include file inside JSON. File is not JSON-serializable. Ideally you should have a separate endpoint to accept your files, send them with <code>content-type: multipart/form-data</code>, receive unique id for that file stored on the server, then send your JSON with ids instead of files.</p>\n\n<p>As a chaper alternative you can Base64 encode your files into a string, insert this string in your request, and then decode it back on the receiving side</p>\n"}, {"tags": [], "owner": {"reputation": 748, "user_id": 3807415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e5925417e44499f2dd8f75da41fab9?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh S", "link": "https://stackoverflow.com/users/3807415/santhosh-s"}, "is_accepted": false, "score": 3, "last_activity_date": 1578485430, "last_edit_date": 1578485430, "creation_date": 1578137285, "answer_id": 59590231, "question_id": 59548118, "link": "https://stackoverflow.com/questions/59548118/how-to-send-a-file-in-array-of-object-to-express-server/59590231#59590231", "title": "How to send a file in array of object to express server?", "body": "<p>FormData key values are array by default\nin your code Just change  </p>\n\n<pre><code>formData.append(`file_${i}`, selectedFile.file);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>formData.append(`file`, selectedFile.file);\n</code></pre>\n\n<p>You should be able to receive the file array in server side using <code>multer().array('file')</code> </p>\n\n<p>Sample below demonstrating FormData key values array behavior\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const formData = new FormData();\r\nformData.append('key1', 'value1');\r\nformData.append('key1', 'value2');\r\nformData.append('key2', 'value1');\r\n\r\nformData.forEach(function(value, key){ \r\n    console.log(key, value);\r\n    \r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 580, "user_id": 1211070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wYkCS.png?s=128&g=1", "display_name": "AndyS", "link": "https://stackoverflow.com/users/1211070/andys"}, "is_accepted": false, "score": 0, "last_activity_date": 1578603322, "creation_date": 1578603322, "answer_id": 59671951, "question_id": 59548118, "link": "https://stackoverflow.com/questions/59548118/how-to-send-a-file-in-array-of-object-to-express-server/59671951#59671951", "title": "How to send a file in array of object to express server?", "body": "<p>I use FormData to send a number of files - and then on the node.js server I use Formidable.</p>\n\n<p>I've pasted some partial code below that may help - sorry it's not a smaller sample.</p>\n\n<p>Hope it helps</p>\n\n<p>On the browser side I have:</p>\n\n<pre><code>let form_data = new FormData()\nform_data.append('upload_data', file)\n$.ajax({\n  url: '/file/upload' + remote_path + '/' + filename,\n  type: 'POST',\n  data: form_data,\n  processData: false,\n  contentType: false,\n  success: (res) =&gt; {\n...\n</code></pre>\n\n<p>On the node.js side (apologies for the length..)I have:</p>\n\n<pre><code>const fs = require('fs')\nconst formidable = require('formidable')\nconst path = require('path')\n...\napp.post('/file/upload/*', (req, res) =&gt; {\nlet filename = req.params[0]\nlet media = path.basename(filename)\nlet folder = filename.substring(0, filename.length - media.length)\nlet form = new formidable.IncomingForm()\n// form.encoding = 'utf-8'\nform.multiples = true\nform.uploadDir = path.join(media_folder, folder)\nform.keepExtensions = true\nform.parse(req, (err, fields, files) =&gt; {\n  if (err) {\n    fail(res, 'failed to upload')\n  } else {\n    success(res)\n  }\n})\nform.on('fileBegin', (name, file) =&gt; {\n  const [fileName, fileExt] = file.name.split('.')\n  file.path = path.join(form.uploadDir, `${fileName}_${new Date().getTime()}.${fileExt}`)\n})\nform.on('file', (field, file) =&gt; {\n  fs.rename(file.path, path.join(form.uploadDir, file.name), (err) =&gt; {\n    if (!res.headersSent) { // Fix since first response is received\n      fail(res, 'an error has occured with form upload' + err)\n    }\n  })\n})\nform.on('error', (err) =&gt; {\n  fail(res, 'an error has occured with form upload' + err)\n})\nform.on('aborted', (err) =&gt; {\n  fail(res, 'Upload cancelled by browser')\n})\n</code></pre>\n\n<p>})</p>\n"}], "owner": {"reputation": 309, "user_id": 8976140, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a4b0d3bb664743236244667badc29c4d?s=128&d=identicon&r=PG&f=1", "display_name": "Waeez", "link": "https://stackoverflow.com/users/8976140/waeez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1641, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1578603322, "creation_date": 1577823082, "last_edit_date": 1577988944, "question_id": 59548118, "link": "https://stackoverflow.com/questions/59548118/how-to-send-a-file-in-array-of-object-to-express-server", "title": "How to send a file in array of object to express server?", "body": "<p>I have an array of the object, each object contains some properties of type string and a file.</p>\n\n<p>This is how my array looks like:</p>\n\n<pre><code>const args = [\n    {\n        name: 'presentation',\n        price: 9.99,\n        tags: 'invest, finance, business',\n        file: File,\n        thumbnail: File\n    },\n    {\n        name: 'presentation2',\n        price: 20.99,\n        tags: 'invest, finance, business',\n        file: File,\n        thumbnail: File\n    }\n]\n\nconst headers = {\n headers: {\n   Authorization: `Bearer ${token}`\n }\n};\n</code></pre>\n\n<p>My goal is to send this whole array of the object to the Express Server. there I will save information to the Mongo and upload the file to S3. \nBut Currently, I am unable to get the file stream on the server when I send this in a POST request,\neven the whole <code>req.body</code> is an empty object when I console.log it</p>\n\n<pre><code>axios.post(`${slidesRoute}/createSlides`, args, headers);\n</code></pre>\n\n<hr>\n\n<p><strong>Alternatively, I tried to put everything into FormData.</strong>\nfor example:</p>\n\n<pre><code>let formData = new FormData();\n    selectedFiles.forEach((selectedFile, i) =&gt; {\n        formData.append(`name_${i}`, selectedFile.name);\n        formData.append(`price_${i}`, selectedFile.price);\n        formData.append(`tags_${i}`, selectedFile.tags);\n        formData.append(`file_${i}`, selectedFile.file);\n        formData.append(`thumbnail_${i}`, selectedFile.thumbnail);\n    });\naxios.post(`${slidesRoute}/createSlides`, formData, headers);\n</code></pre>\n\n<p>Then In the backend. I am unable to catch these files using multer. Because the filenames in form data are being generated dynamically like </p>\n\n<pre><code>file_1, file_2 file_3,...\n</code></pre>\n\n<p>But multer expects the exact filename to be passed\nfor example <code>multer().array('file')</code> </p>\n\n<p>so in my second approach I am unable to catch files using Multer</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 4078, "user_id": 10549165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Redsx.png?s=128&g=1", "display_name": "Chris B.", "link": "https://stackoverflow.com/users/10549165/chris-b"}, "reply_to_user": {"reputation": 2631, "user_id": 7551257, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/cb65191d421d20322e2cc7b64daa8531?s=128&d=identicon&r=PG&f=1", "display_name": "Melissa Stewart", "link": "https://stackoverflow.com/users/7551257/melissa-stewart"}, "edited": false, "score": 0, "creation_date": 1577843268, "post_id": 59548262, "comment_id": 105268201, "body": "I guess there&#39;s more, but that fetch definitely will not be updated without listing dependencies used within the effect. Your linter should flag that. Good luck."}, {"owner": {"reputation": 2631, "user_id": 7551257, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/cb65191d421d20322e2cc7b64daa8531?s=128&d=identicon&r=PG&f=1", "display_name": "Melissa Stewart", "link": "https://stackoverflow.com/users/7551257/melissa-stewart"}, "edited": false, "score": 0, "creation_date": 1577848306, "post_id": 59548262, "comment_id": 105268608, "body": "B can you please take a look at the repo, <a href=\"https://github.com/melissa-stewart/mealplan\" rel=\"nofollow noreferrer\">github.com/melissa-stewart/mealplan</a>"}], "tags": [], "owner": {"reputation": 4078, "user_id": 10549165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Redsx.png?s=128&g=1", "display_name": "Chris B.", "link": "https://stackoverflow.com/users/10549165/chris-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1577843792, "last_edit_date": 1577843792, "creation_date": 1577824436, "answer_id": 59548262, "question_id": 59548113, "link": "https://stackoverflow.com/questions/59548113/passing-props-back-everytime-a-from-is-submitted-in-react/59548262#59548262", "title": "Passing props back everytime a from is submitted in React", "body": "<p>I believe you need to add all of the prop values as dependencies in your <code>useEffect</code> call within the <code>MealList</code> component.  With an empty dependency array, the function inside will only run once when the component mounts. By listing dependencies, it will run the fetch again when any of them change. Something like this:</p>\n\n<pre><code> useEffect(async () =&gt; {\n        const mealsData = await fetchMeals(localStorage.getItem('user_id'), props.fromDate, props.toDate, props.fromTime, props.toTime);\n       // Assuming mealsData is an array of new values\n        setMeals(mealsData);\n    }, [props]);\n</code></pre>\n\n<p>I think that should cover all the changes.</p>\n\n<p><strong>EDIT</strong>: Don't list <code>meals</code> as a dependency, as it could cause an infinite loop.</p>\n"}], "owner": {"reputation": 2631, "user_id": 7551257, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/cb65191d421d20322e2cc7b64daa8531?s=128&d=identicon&r=PG&f=1", "display_name": "Melissa Stewart", "link": "https://stackoverflow.com/users/7551257/melissa-stewart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577843792, "creation_date": 1577823018, "question_id": 59548113, "link": "https://stackoverflow.com/questions/59548113/passing-props-back-everytime-a-from-is-submitted-in-react", "title": "Passing props back everytime a from is submitted in React", "body": "<p>I have a <code>Dashboard</code> component which has 3 children <code>Search</code>, <code>MealList</code> and <code>UserData</code>.\nI have 4 state variables, <code>fromDate</code>, <code>toDate</code>, <code>fromTime</code> and <code>toTime</code> which are initially set to null inside the <code>Dashboard</code>.\nThese are passed down to the <code>MealList</code> component as props. </p>\n\n<pre><code>const Dashboard = () =&gt; {\n\n    const [username, setUsername] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [calories, setCalories] = useState(\"\");\n    const [fromDate, setFromDate] = useState(null);\n    const [toDate, setToDate] = useState(null);\n    const [fromTime, setFromTime] = useState(null);\n    const [toTime, setToTime] = useState(null);\n\n    useEffect(async () =&gt;{\n        const data = await fetchUserData(localStorage.getItem('email'));\n        localStorage.setItem('user_id', data['id']);\n        setUsername(data['username']);\n        setEmail(data['email']);\n        setCalories(data['calories']);\n    }, []);\n\n    const updateList = (fd, td, ft, tt) =&gt;{\n        setFromDate(fd);\n        setToDate(td);\n        setFromTime(ft);\n        setToTime(tt);\n    };\n    console.log(fromDate);\n    return (\n        &lt;div&gt;\n            &lt;Navigation/&gt;\n            &lt;div className=\"wrapper\"&gt;\n                &lt;div style={{display: 'flex', flexFlow: 'row wrap'}}&gt;\n                    &lt;UserData username={username} email={email} calories={calories}/&gt;\n                    &lt;Search onSubmit={updateList}/&gt;\n                &lt;/div&gt;\n                &lt;MealList fromDate={fromDate} toDate={toDate} fromTime={fromTime} toTime={toTime}/&gt;\n\n            &lt;/div&gt;\n\n        &lt;/div&gt;\n\n    )\n};\nexport default Dashboard;\n</code></pre>\n\n<p>The MealList component fetches data based on these 4 state variables.</p>\n\n<pre><code>const MealList = (props) =&gt; {\n    const [meals, setMeals] = useState([]);\n    useEffect(async () =&gt; {\n        const mealsData = await fetchMeals(localStorage.getItem('user_id'), props.fromDate, props.toDate, props.fromTime, props.toTime);\n        setMeals([...meals, ...mealsData]);\n    }, []);\n\n    return (\n        &lt;div style={{width: '70%'}}&gt;\n            &lt;h3 style={{color: 'grey', fontSize: '1.4em', fontWeight: '700', marginBottom: '1em'}}&gt;&lt;FontAwesomeIcon\n                icon={faPlusCircle} style={{color: '#007bff', marginRight: '0.5em'}}/&gt; ADD MEAL&lt;/h3&gt;\n            &lt;Table striped bordered hover&gt;\n                &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;#&lt;/th&gt;\n                    &lt;th&gt;Meal&lt;/th&gt;\n                    &lt;th&gt;Calories&lt;/th&gt;\n                    &lt;th&gt;Time&lt;/th&gt;\n                    &lt;th&gt;Date&lt;/th&gt;\n                    &lt;th&gt;Update&lt;/th&gt;\n                    &lt;th&gt;Delete&lt;/th&gt;\n                &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                {meals.map((meal, index) =&gt; (&lt;Meal count={index +1} meal={meal}/&gt;))}\n                &lt;/tbody&gt;\n            &lt;/Table&gt;\n        &lt;/div&gt;\n\n    )\n};\nexport default MealList;\n</code></pre>\n\n<p>These state variables are updated in the from submission inside <code>Search</code>, which calls the <code>updateList</code> function inside <code>Dashboard</code>. \n1. How do I pass these values back and re-render MealList everytime these <code>updateList</code> is called?\n2. How do I nullify the meals array inside MealList and add the new set of values fetched?\nThis I believe will add values to the existing array.</p>\n\n<pre><code>const [meals, setMeals] = useState([]);\nsetMeals([...meals, ...mealsData]);\n</code></pre>\n"}, {"tags": ["javascript", "undo", "quill", "redo"], "comments": [{"owner": {"reputation": 4515, "user_id": 4808079, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/hXTld.jpg?s=128&g=1", "display_name": "Seph Reed", "link": "https://stackoverflow.com/users/4808079/seph-reed"}, "edited": false, "score": 0, "creation_date": 1577822835, "post_id": 59548078, "comment_id": 105265173, "body": "Naw, sorry about that:  <a href=\"https://stackoverflow.com/a/15516286/4808079\">stackoverflow.com/a/15516286/4808079</a>"}], "answers": [{"comments": [{"owner": {"reputation": 241, "user_id": 12329136, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCWAmdMyLwW8WovCSEtuvF4QAdy6jMDFphlbmee=k-s128", "display_name": "Page COW", "link": "https://stackoverflow.com/users/12329136/page-cow"}, "edited": false, "score": 0, "creation_date": 1577823631, "post_id": 59548125, "comment_id": 105265353, "body": "I have tried this and an error code always pops up saying &quot;quill&quot; is undefined. I&#39;m don&#39;t know how to fix the error code. Have you used QuillJS before?"}, {"owner": {"reputation": 51, "user_id": 11421078, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kujds_3lelw/AAAAAAAAAAI/AAAAAAAAABs/tMK5vMRdlro/photo.jpg?sz=128", "display_name": "Sebi S", "link": "https://stackoverflow.com/users/11421078/sebi-s"}, "reply_to_user": {"reputation": 241, "user_id": 12329136, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCWAmdMyLwW8WovCSEtuvF4QAdy6jMDFphlbmee=k-s128", "display_name": "Page COW", "link": "https://stackoverflow.com/users/12329136/page-cow"}, "edited": false, "score": 0, "creation_date": 1577824508, "post_id": 59548125, "comment_id": 105265547, "body": "At some point you should have defined a variable such as &quot;var foo = new Quill(...)&quot;. Don&#39;t put &quot;quill&quot;, but the variable that you defined."}, {"owner": {"reputation": 241, "user_id": 12329136, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCWAmdMyLwW8WovCSEtuvF4QAdy6jMDFphlbmee=k-s128", "display_name": "Page COW", "link": "https://stackoverflow.com/users/12329136/page-cow"}, "edited": false, "score": 0, "creation_date": 1577983879, "post_id": 59548125, "comment_id": 105301906, "body": "I started another question that can be found at <a href=\"https://stackoverflow.com/questions/59555447/how-to-create-undo-redo-buttons-in-quill-js-react-quill\" title=\"how to create undo redo buttons in quill js react quill\">stackoverflow.com/questions/59555447/&hellip;</a>  I&#39;m still not able to get the undo/redo function working. I was able to create the buttons, but the buttons currently don&#39;t do anything. I&#39;m using React-Quill and I haven&#39;t had to create a new Quill variable to use the program. I know your function has to work because I&#39;ve seen it elsewhere, I just can&#39;t figure out how to make it work in my code.  Can you check out the other post I linked to? I wrote out the code I used. Thanks for your help!"}], "tags": [], "owner": {"reputation": 51, "user_id": 11421078, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kujds_3lelw/AAAAAAAAAAI/AAAAAAAAABs/tMK5vMRdlro/photo.jpg?sz=128", "display_name": "Sebi S", "link": "https://stackoverflow.com/users/11421078/sebi-s"}, "is_accepted": true, "score": 0, "last_activity_date": 1577823151, "creation_date": 1577823151, "answer_id": 59548125, "question_id": 59548078, "link": "https://stackoverflow.com/questions/59548078/make-an-onclick-event-equal-to-an-undo-keycode-combination-javascript/59548125#59548125", "title": "Make an onClick event equal to an undo keyCode combination? (JavaScript)", "body": "<p>When the button is pressed, call the function:</p>\n\n<pre><code>quill.history.undo();\n</code></pre>\n\n<p>Check out the docs at <a href=\"https://quilljs.com/docs/modules/history/\" rel=\"nofollow noreferrer\">https://quilljs.com/docs/modules/history/</a></p>\n\n<p>Answering your question directly, there is no way to trick the quilljs editor into thinking that you pressed control+z in this way.</p>\n"}], "owner": {"reputation": 241, "user_id": 12329136, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCWAmdMyLwW8WovCSEtuvF4QAdy6jMDFphlbmee=k-s128", "display_name": "Page COW", "link": "https://stackoverflow.com/users/12329136/page-cow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 59548125, "answer_count": 1, "score": 0, "last_activity_date": 1577823151, "creation_date": 1577822696, "question_id": 59548078, "link": "https://stackoverflow.com/questions/59548078/make-an-onclick-event-equal-to-an-undo-keycode-combination-javascript", "title": "Make an onClick event equal to an undo keyCode combination? (JavaScript)", "body": "<p>Is it possible to make an onClick event equal to a combination of keyCodes? I'm trying to make an undo button. What I want is a button's onClick event to be equal to keying down \"Command-Z\" or \"Ctrl-Z\".</p>\n\n<p>I can't create the undo feature from scratch. I'm using QuillJS. The undo feature is already built into the program using the keydown method. But there isn't an undo button built into the program. I'm trying to create one that activates the undo keydown event.</p>\n"}, {"tags": ["javascript", "node.js", "linux", "unix", "electron"], "comments": [{"owner": {"reputation": 38170, "user_id": 57135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/S9roh.jpg?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/57135/joe"}, "edited": false, "score": 1, "creation_date": 1577823114, "post_id": 59548068, "comment_id": 105265226, "body": "You should look at something like <code>drivelist</code> and <code>diskusage</code> packages if you want to get more cross-platform.  The <code>wmic</code> command you have now is Windows-specific; there are similar versions in Linux and other UNIXes (and thus MacOS) (see <code>df</code> for example) but not all the fields you have have exact parallels (e.g. a drive could be mounted &quot;inside&quot; the path of another drive)"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1577823230, "post_id": 59548068, "comment_id": 105265246, "body": "There is <code>df</code> on <i>NIX OSes but the nature of the filesystems means that the output is not at all equivalent to the above. You can have a tree on C:, D:, E:, etc. However with *NIX you&#39;d have start at <code>&#47;</code>, yet you can *mount</i> a different partition anywhere in that tree. For example, a common one is to have <code>&#47;home</code> (equivalent to the Windows <code>C:\\Users` directory) on a different partition. So you might end up with sizes of, say, </code>20 GB` for <code>&#47;</code> but <code>100 GB</code> for <code>&#47;home</code> yet from FS navigation perspective they might as well be the same partition."}, {"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "reply_to_user": {"reputation": 38170, "user_id": 57135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/S9roh.jpg?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/57135/joe"}, "edited": false, "score": 0, "creation_date": 1577826712, "post_id": 59548068, "comment_id": 105265956, "body": "@Joe so is <code>drivelist</code> and <code>diskusage</code> only Windows specific too? or does <code>df</code> simply allow you to execute <code>wmic</code>-like commands on Linux and UNIX?"}, {"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1577826774, "post_id": 59548068, "comment_id": 105265972, "body": "@VLAZ thanks for the info. so what do you think the best approach is?"}], "answers": [{"comments": [{"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1577838477, "post_id": 59549287, "comment_id": 105267690, "body": "sweet thanks. hey i just realized something else. for some reason <code>wmic logicaldisk get size</code> returns the &quot;total&quot; size of the disk without accounting for reserved space. you know any way i can account for the reserved space on each disk on Windows??"}, {"owner": {"reputation": 3136, "user_id": 6577664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WUVcR.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/6577664/joshua"}, "reply_to_user": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1577839150, "post_id": 59549287, "comment_id": 105267765, "body": "If there is a command that could get the total reserved space then you could run that command separately, then factor the result into your calculation. I&#39;ve taken a look and I couldn&#39;t find a command that could do this. If I were to find one though I couldn&#39;t be sure because I&#39;m on Ubuntu not Windows."}, {"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1577839319, "post_id": 59549287, "comment_id": 105267783, "body": "i have no clue. i havent used command line in a minute lol. i tried looking thru the help settings on <code>wmic logicaldisk get</code> and couldnt see anything related to reserved space :( ill have to keep looking i guess. appreciate your help!!"}, {"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1577840569, "post_id": 59549287, "comment_id": 105267929, "body": "found a way, although im not sure it will work with node ?? <code>diskpart</code> and then <code>list disk</code> seems to accurately display the total minus reserved space."}, {"owner": {"reputation": 3136, "user_id": 6577664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WUVcR.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/6577664/joshua"}, "reply_to_user": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1577841964, "post_id": 59549287, "comment_id": 105268080, "body": "It seems like that will work, my computer isn&#39;t Windows so I can&#39;t check if it&#39;ll work or not. The only way to find out is to try it :)"}, {"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1577842120, "post_id": 59549287, "comment_id": 105268098, "body": "im not sure how to do two consecutive asynchronous commands like that. the problem is that when i try <code>cp.exec(&#39;diskpart&#39; ...)</code> it launches an actual instance of command prompt (the windows CL tool) :("}, {"owner": {"reputation": 3136, "user_id": 6577664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WUVcR.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/6577664/joshua"}, "reply_to_user": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 1, "creation_date": 1577842948, "post_id": 59549287, "comment_id": 105268180, "body": "I see, try using <a href=\"https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options\" rel=\"nofollow noreferrer\"><code>cp.spawn(</code></a> instead of <code>cp.exec(</code>. Also try running both commands at once like: <code>cp.exec(&#39;diskpart; list disk&#39;</code>."}, {"owner": {"reputation": 3136, "user_id": 6577664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WUVcR.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/6577664/joshua"}, "reply_to_user": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1577843041, "post_id": 59549287, "comment_id": 105268185, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/205176/discussion-between-joshua-and-oldboy\">continue this discussion in chat</a>."}, {"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1577849635, "post_id": 59549287, "comment_id": 105268695, "body": "same issue unfortunately. it also launches an actual instance of command prompt"}, {"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1577850454, "post_id": 59549287, "comment_id": 105268768, "body": "figured out how to get the info. <code>exec(&#39;get-volume&#39;, {&#39;shell&#39;: &#39;powershell.exe&#39;} ... )</code>. beautiful."}, {"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1577851025, "post_id": 59549287, "comment_id": 105268824, "body": "oh jesus i just realized when the size it displays from <code>get-volume</code> is different from the value of <code>size</code> from <code>get-volume | format-list driveletter, size</code>. absolutely retarded lol"}, {"owner": {"reputation": 3136, "user_id": 6577664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WUVcR.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/6577664/joshua"}, "reply_to_user": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1577852931, "post_id": 59549287, "comment_id": 105268973, "body": "Great, so do you have everything you need then?"}, {"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1577853181, "post_id": 59549287, "comment_id": 105269000, "body": "for this question yes for the most part. thanks again!! <a href=\"https://stackoverflow.com/q/59549998/7543162\">here is my new question</a> if youre interested"}], "tags": [], "owner": {"reputation": 3136, "user_id": 6577664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WUVcR.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/6577664/joshua"}, "is_accepted": false, "score": 3, "last_activity_date": 1577838663, "last_edit_date": 1577838663, "creation_date": 1577838324, "answer_id": 59549287, "question_id": 59548068, "link": "https://stackoverflow.com/questions/59548068/get-used-free-disk-space-for-all-drives-on-all-platforms/59549287#59549287", "title": "Get Used/Free Disk Space for All Drives on All Platforms", "body": "<p>There probably isn't a command that works across all platforms.</p>\n\n<p>But what you can do is get the current platform with <code>process.platform</code> and run a different command on each platform.</p>\n\n<p>For example:</p>\n\n<pre><code>const cp = require('child_process');\n\nif (process.platform == 'win32') { // Run wmic for Windows.\n    cp.exec('wmic logicaldisk get size,freespace,caption', (error, stdout)=&gt;{\n      let drives = stdout.trim()split('\\r\\r\\n')\n        .map(value =&gt; value.trim().split(/\\s{2,0}/))\n        .slice(1)\n    });\n} else if (process.platform == 'linux') { // Run df for Linux.\n    cp.exec('df', (error, stdout)=&gt;{\n        // Do your magic here.\n    });\n} else {\n    // Run something for a mac.\n}\n</code></pre>\n\n<p>You can read about <code>process.platform</code> <a href=\"https://nodejs.org/api/process.html#process_process_platform\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1141, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1577838663, "creation_date": 1577822634, "question_id": 59548068, "link": "https://stackoverflow.com/questions/59548068/get-used-free-disk-space-for-all-drives-on-all-platforms", "title": "Get Used/Free Disk Space for All Drives on All Platforms", "body": "<p>I am creating an Electron app that helps me manage my disk space. However, I would like it to work on Linux/UNIX too.</p>\n\n<p>I wrote the following code, which works great for Windows, but not Linux/UNIX systems.</p>\n\n<pre><code>window.onload = function(){\n  const cp = require('child_process')\n  cp.exec('wmic logicaldisk get size,freespace,caption', (error, stdout)=&gt;{\n    let drives = stdout.trim()split('\\r\\r\\n')\n      .map(value =&gt; value.trim().split(/\\s{2,0}/))\n      .slice(1)\n  })\n}\n</code></pre>\n\n<p>The output looks like this.</p>\n\n<pre><code>[\n  [\"560232439808\",  \"C:\", \"999526756352\",  \"System\"  ]\n  [\"999369699328\",  \"D:\", \"999558213632\",  \"SSD\"     ]\n  [\"1511570386944\", \"E:\", \"8001545039872\", \"Get\"     ]\n  [\"4620751712256\", \"F:\", \"8001545039872\", \"BR\"      ]\n  [\"788449492992\",  \"G:\", \"4000650883072\", \"Seen\"    ]\n  [\"2296009408512\", \"H:\", \"4000768323584\", \"Seen 2\"  ]\n  [\"3594248679424\", \"I:\", \"8001545039872\", \"2160\"    ]\n  [\"3507750227968\", \"J:\", \"8001545039872\", \"1080\"    ]\n  [\"945300619264\",  \"K:\", \"999625322496\",  \"Trailer\" ]\n]\n</code></pre>\n\n<p>Since I am unfamiliar with Linux/UNIX, I am wondering how I can achieve the same output for Linux/UNIX too?</p>\n"}, {"tags": ["javascript", "reactjs", "redux", "react-redux"], "comments": [{"owner": {"reputation": 4078, "user_id": 10549165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Redsx.png?s=128&g=1", "display_name": "Chris B.", "link": "https://stackoverflow.com/users/10549165/chris-b"}, "edited": false, "score": 0, "creation_date": 1577822764, "post_id": 59548025, "comment_id": 105265152, "body": "You&#39;re just trying to run a function when <code>onOk</code> is called? I&#39;m not clear on why you wouldn&#39;t be able to pass in a callback as a prop, or simply add new state inside <code>EvensFormModal</code>. I&#39;m not totally clear on what you&#39;re trying to do."}, {"owner": {"reputation": 99, "user_id": 8245275, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VADM9tV7wD4/AAAAAAAAAAI/AAAAAAAAABU/Ez97V7k1QIc/photo.jpg?sz=128", "display_name": "Silent Beast", "link": "https://stackoverflow.com/users/8245275/silent-beast"}, "reply_to_user": {"reputation": 4078, "user_id": 10549165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Redsx.png?s=128&g=1", "display_name": "Chris B.", "link": "https://stackoverflow.com/users/10549165/chris-b"}, "edited": false, "score": 0, "creation_date": 1577823044, "post_id": 59548025, "comment_id": 105265210, "body": "I need to get user inputs in the form, which I store in a hook. The data has to be passed to the parent ModalWrapper in order for it to call a function and pass the correct parameters.I would have to pass an onChange function only to EventsFormModal, but it would also be passed to ModalWrapper with the way the modal is set up."}, {"owner": {"reputation": 4078, "user_id": 10549165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Redsx.png?s=128&g=1", "display_name": "Chris B.", "link": "https://stackoverflow.com/users/10549165/chris-b"}, "edited": false, "score": 0, "creation_date": 1577823390, "post_id": 59548025, "comment_id": 105265287, "body": "I think I know what you mean. This may not be the most helpful, but to me it would make more sense for the form to be a component which handles its own submission, and itself triggers any actions that need to occur in the modal (closing, etc.), which can be easily passed down as props, rather than trying to lift the state up, though it&#39;s certainly possible."}, {"owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1577827974, "post_id": 59548025, "comment_id": 105266186, "body": "So you want the EventsFormModal state passed to the ModalWrapper after someone clicks OK in the modal?"}, {"owner": {"reputation": 99, "user_id": 8245275, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VADM9tV7wD4/AAAAAAAAAAI/AAAAAAAAABU/Ez97V7k1QIc/photo.jpg?sz=128", "display_name": "Silent Beast", "link": "https://stackoverflow.com/users/8245275/silent-beast"}, "edited": false, "score": 0, "creation_date": 1577829339, "post_id": 59548025, "comment_id": 105266409, "body": "Yes, that is the goal."}], "answers": [{"tags": [], "owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "is_accepted": true, "score": 1, "last_activity_date": 1577838531, "creation_date": 1577838531, "answer_id": 59549295, "question_id": 59548025, "link": "https://stackoverflow.com/questions/59548025/react-lifting-state-in-component-with-containment/59549295#59549295", "title": "React Lifting State in Component with Containment", "body": "<p>I assume you want to pass the data that was entered back to <code>ModalWrapper</code> once the user clicks 'OK'.. I made this little demo to show how you can do something like this..</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const { useState } = React;\r\nconst { render } = ReactDOM;\r\n\r\nconst SomeModal = () =&gt; {\r\n  const [show, setShow] = useState(false);\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n\r\n  const showModal = () =&gt; setShow(true);\r\n  const hideModal = () =&gt; setShow(false);\r\n  \r\n  const handleNameChange = event =&gt; setName(event.target.value);\r\n  const handleEmailChange = event =&gt; setEmail(event.target.value);\r\n\r\n  return (\r\n    &lt;main&gt;\r\n      &lt;ModalWrapper show={show} handleClose={hideModal} onOk={({name, email})}&gt;\r\n        &lt;input type=\"text\" onChange={handleNameChange} placeholder=\"Name\" /&gt;\r\n        &lt;input type=\"text\" onChange={handleEmailChange} placeholder=\"Email\" /&gt;\r\n      &lt;/ModalWrapper&gt;\r\n      &lt;button type=\"button\" onClick={showModal}&gt;\r\n        Open Modal\r\n      &lt;/button&gt;\r\n    &lt;/main&gt;\r\n  );\r\n};\r\n\r\nconst ModalWrapper = ({ handleClose, show, children, onOk }) =&gt; {\r\n  const [onOkData, setOnOkData] = useState();\r\n  const showHideClassName = show ? \"modal display-block\" : \"modal display-none\";\r\n  \r\n  const handleModalClose = (event, data) =&gt; {\r\n    handleClose();\r\n    setOnOkData(onOk);\r\n  }\r\n\r\n  return (\r\n    &lt;div&gt;\r\n    &lt;div className={showHideClassName}&gt;\r\n      &lt;section className=\"modal-main\"&gt;\r\n        {children}\r\n        &lt;button onClick={handleModalClose}&gt;Ok&lt;/button&gt;\r\n      &lt;/section&gt;\r\n    &lt;/div&gt;\r\n      {onOkData \r\n        ? &lt;pre&gt;This data was sent from \"SomeModal\": {JSON.stringify(onOkData, null, 2)}&lt;/pre&gt; \r\n        : \"\"}\r\n    &lt;/div&gt;\r\n  );\r\n};\r\n\r\nconst App = () =&gt; &lt;SomeModal /&gt;\r\n\r\nrender(&lt;App /&gt;, document.body);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width:100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.6);\r\n}\r\n\r\n.modal-main {\r\n  position:fixed;\r\n  background: white;\r\n  width: 80%;\r\n  height: auto;\r\n  top:50%;\r\n  left:50%;\r\n  padding: 20px;\r\n  transform: translate(-50%,-50%);\r\n}\r\n\r\n.display-block {\r\n  display: block;\r\n}\r\n\r\n.display-none {\r\n  display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/16.12.0/umd/react.production.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.11.0/umd/react-dom.production.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 99, "user_id": 8245275, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VADM9tV7wD4/AAAAAAAAAAI/AAAAAAAAABU/Ez97V7k1QIc/photo.jpg?sz=128", "display_name": "Silent Beast", "link": "https://stackoverflow.com/users/8245275/silent-beast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 59549295, "answer_count": 1, "score": 0, "last_activity_date": 1577838531, "creation_date": 1577822229, "last_edit_date": 1577823192, "question_id": 59548025, "link": "https://stackoverflow.com/questions/59548025/react-lifting-state-in-component-with-containment", "title": "React Lifting State in Component with Containment", "body": "<p>I currently have a modal system with containment. There is a ModalWrapper that handles closing the modal and form submission. The actual modal content goes in another component, which I called EventsModalForm:</p>\n\n<p>Modal Wrapper:</p>\n\n<pre><code>import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { EVENT_FORM_MODAL } from '../layout/modalTypes';\n\nconst ModalWrapper = props =&gt; {\n  const handleBackgroundClick = e =&gt; {\n    if (e.target === e.currentTarget) props.hideModal();\n  };\n\n  const onOk = () =&gt; {\n    if (props.modal.currentModal === EVENT_FORM_MODAL){\n      //Do form submition \n    } else {\n      props.onOk();\n    }\n    props.hideModal();\n  };\n\n  const [formStates, setFormStates] = useState({\n    ...props.modal.form_fields\n  });\n  const handleFormChange = e =&gt; {\n    return setFormStates({ ...formStates, [e.target.name]: [e.target.value] })    \n  }\n\n\n  const okButton = props.showOk\n    ? (\n      &lt;button\n        className=\"btn btn-primary\"\n        onClick={onOk}\n        disabled={props.okDisabled}\n      &gt;\n        {props.modal.okText}\n      &lt;/button&gt;\n    ) : null;\n\n\n  return (\n    &lt;div className=\"modal-overlay-div\" onClick={handleBackgroundClick}&gt;\n      &lt;div style={modal_content_div}&gt;\n        &lt;header&gt;\n            &lt;span&gt;\n              &lt;button onClick={props.hideModal} className=\"close\"&gt;&amp;times;&lt;/button&gt;\n            &lt;/span&gt;\n            &lt;h1&gt;{props.title}&lt;/h1&gt;  \n          &lt;hr /&gt;   \n        &lt;/header&gt;\n\n        {props.children}\n\n        {okButton}\n      &lt;/div&gt;\n    &lt;/div&gt;\n  );\n};\n//content shortened for clarity  \n\nexport default ModalWrapper;\n</code></pre>\n\n<p>EventsModalForm:</p>\n\n<pre><code>import React from 'react';\nimport {\n  Button,\n  Form,\n  FormGroup,\n  Input,\n  Label\n} from \"reactstrap\";\n\nimport 'flatpickr/dist/themes/material_blue.css';\nimport Flatpickr from 'react-flatpickr';\n\n\nimport ModalWrapper from './ModalWrapper';\n\nconst EventsFormModal = props =&gt; {\n  //have form hook here\n  return (\n    &lt;ModalWrapper\n      {...props}\n      title=\"Event form\"\n      width={600}\n      showOk={true}\n    &gt;\n      &lt;Form&gt;\n        //form...\n      &lt;/Form&gt;\n    &lt;/ModalWrapper&gt;\n  );\n};\n\nexport default EventsFormModal;\n</code></pre>\n\n<p>I'm trying to use hooks within the EventsFormModal, and whenever onOk gets called, have state be passed to ModalWrapper. However, with the way my modal is set up, I can't seem to find a way to lift state to ModalWrapper. Props passed to ModalWrapper and EventsFormModal are the same, so I wouldn't be able to create a function in the parent component and pass it as props to the child. Any help would be appreciated!   </p>\n"}, {"tags": ["javascript", "html", "css", "vue.js"], "comments": [{"owner": {"reputation": 11660, "user_id": 2055998, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Vx3A.jpg?s=128&g=1", "display_name": "PM 77-1", "link": "https://stackoverflow.com/users/2055998/pm-77-1"}, "edited": false, "score": 0, "creation_date": 1577822143, "post_id": 59547982, "comment_id": 105265025, "body": "How is it different from changing the value of any other input field?"}, {"owner": {"reputation": 494, "user_id": 6242967, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/77fa0155639d700714aacdcf3d202093?s=128&d=identicon&r=PG&f=1", "display_name": "iJamesPHP2", "link": "https://stackoverflow.com/users/6242967/ijamesphp2"}, "edited": false, "score": 0, "creation_date": 1577822147, "post_id": 59547982, "comment_id": 105265026, "body": "AngularJS is godly for these things."}, {"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1577822176, "post_id": 59547982, "comment_id": 105265032, "body": "Can you provide some code that you&#39;ve tried? In Vue or Vanilla JS this is very simple, but understandably we&#39;re here to help not to write things for you."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1577823304, "post_id": 59547982, "comment_id": 105265267, "body": "The answers you&#39;ve received so far all assume you want to change the title of the document the user is visiting (for the period of time the user is visiting that specific document). I don&#39;t believe this is actually what you want to do, but can&#39;t really tell. Please <a href=\"https://stackoverflow.com/posts/59547982/edit\">edit</a> your question to be more clear. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for tips on what makes a good question."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user12629985"}, "edited": false, "score": 0, "creation_date": 1577822298, "post_id": 59548024, "comment_id": 105265053, "body": "OP uses vueJS nor Angular"}, {"owner": {"reputation": 9, "user_id": 12628015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa173f3a0b3c3cc11a153c022daf4105?s=128&d=identicon&r=PG&f=1", "display_name": "RRJudah", "link": "https://stackoverflow.com/users/12628015/rrjudah"}, "edited": false, "score": 0, "creation_date": 1577822628, "post_id": 59548024, "comment_id": 105265108, "body": "He said &quot;is there a library I can use or Vue.&quot; That means we are not restricted to just Vue.js"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12629985"}, "edited": false, "score": 0, "creation_date": 1577822699, "post_id": 59548024, "comment_id": 105265131, "body": "check this out <b>or can I use Vue (which is part of our project) to do this?</b>"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1577823138, "post_id": 59548024, "comment_id": 105265230, "body": "It is not worth bringing in a dependency on Angular (let alone an older library like AngularJS) just to be able to change the title of an HTML page."}, {"owner": {"reputation": 9, "user_id": 12628015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa173f3a0b3c3cc11a153c022daf4105?s=128&d=identicon&r=PG&f=1", "display_name": "RRJudah", "link": "https://stackoverflow.com/users/12628015/rrjudah"}, "edited": false, "score": 0, "creation_date": 1577823214, "post_id": 59548024, "comment_id": 105265242, "body": "True, that is why I added the way of using pure JavaScript."}], "tags": [], "owner": {"reputation": 9, "user_id": 12628015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa173f3a0b3c3cc11a153c022daf4105?s=128&d=identicon&r=PG&f=1", "display_name": "RRJudah", "link": "https://stackoverflow.com/users/12628015/rrjudah"}, "is_accepted": false, "score": 0, "last_activity_date": 1577822223, "creation_date": 1577822223, "answer_id": 59548024, "question_id": 59547982, "link": "https://stackoverflow.com/questions/59547982/is-there-a-way-to-add-an-input-field-with-a-default-value-that-a-user-can-rename/59548024#59548024", "title": "Is there a way to add an input field with a default value that a user can rename dynamically?", "body": "<p>You could do this two ways. The first only doesn't require any libraries. The second requires <a href=\"https://angularjs.org/\" rel=\"nofollow noreferrer\">Angular.js</a>.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;title&gt;&lt;/title&gt;\n&lt;input onkeypress=\"document.getElementsByTagName('title')[0].innerHTML = this.value\"&gt;\n</code></pre>\n\n<p>OR</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;title&gt;{{input}}&lt;/title&gt;\n&lt;input ng-model=\"input\"&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22927, "user_id": 468592, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/24c893062f94d0e60db020e9e3163a2c?s=128&d=identicon&r=PG", "display_name": "Jeremy Harris", "link": "https://stackoverflow.com/users/468592/jeremy-harris"}, "is_accepted": false, "score": 0, "last_activity_date": 1577822294, "creation_date": 1577822294, "answer_id": 59548029, "question_id": 59547982, "link": "https://stackoverflow.com/questions/59547982/is-there-a-way-to-add-an-input-field-with-a-default-value-that-a-user-can-rename/59548029#59548029", "title": "Is there a way to add an input field with a default value that a user can rename dynamically?", "body": "<p>Or you can do it with vanilla JS:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const el = document.getElementById('title');\r\nel.onkeyup = function(e) {\r\n   window.document.title = e.target.value;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>New Page Title: &lt;input type=\"text\" id=\"title\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 686, "user_id": 4421078, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bO3qWQubkB4/AAAAAAAAAAI/AAAAAAAAAlI/UWjXQC0qOlY/photo.jpg?sz=128", "display_name": "Diego Baranowski", "link": "https://stackoverflow.com/users/4421078/diego-baranowski"}, "is_accepted": false, "score": 0, "last_activity_date": 1577822851, "creation_date": 1577822851, "answer_id": 59548098, "question_id": 59547982, "link": "https://stackoverflow.com/questions/59547982/is-there-a-way-to-add-an-input-field-with-a-default-value-that-a-user-can-rename/59548098#59548098", "title": "Is there a way to add an input field with a default value that a user can rename dynamically?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;body&gt;\r\n    Title:\r\n    &lt;input id=\"userTitle\" type=\"text\" name=\"lname\"&gt;&lt;/input&gt;\r\n    &lt;button onclick=\"changeTitle()\"&gt;Change Title&lt;/button&gt;\r\n    &lt;script&gt;\r\n        function changeTitle() {\r\n            document.title = document.getElementById('userTitle').value;\r\n        }\r\n    &lt;/script&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n\u200b</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 57, "user_id": 11843028, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lXGQDSpt8Sg/AAAAAAAAAAI/AAAAAAAAAAc/XNAua_aKLfg/photo.jpg?sz=128", "display_name": "Chris Mok", "link": "https://stackoverflow.com/users/11843028/chris-mok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1577826022, "creation_date": 1577821838, "last_edit_date": 1577826022, "question_id": 59547982, "link": "https://stackoverflow.com/questions/59547982/is-there-a-way-to-add-an-input-field-with-a-default-value-that-a-user-can-rename", "title": "Is there a way to add an input field with a default value that a user can rename dynamically?", "body": "<p>I'm looking for the capability to allow a user to change text on a page dynamically, but I haven't found anything relating to what I'm looking for.</p>\n\n<p>Does anyone know of a way to add this functionality? Is there a library or can I use Vue (which is part of our project) to do this?</p>\n\n<p><a href=\"https://i.stack.imgur.com/BV5VJ.png\" rel=\"nofollow noreferrer\">The final result I'm looking for</a></p>\n\n<p>The idea is to allow a user to rename 'Project 1' by pressing the icon on the right, to a name of their choosing, and then save it so the new name is seen every time that user visits the page.</p>\n\n<p>Any help or insight as to how I can get this or build this functionality would be much appreciated.</p>\n"}, {"tags": ["javascript", "html", "preloader"], "comments": [{"owner": {"reputation": 11, "user_id": 12320230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mANbIo2eePQWRG9PoBOB0eE5la6CJCaBDhLHmCMWw=k-s128", "display_name": "Paul Gamsam", "link": "https://stackoverflow.com/users/12320230/paul-gamsam"}, "edited": false, "score": 0, "creation_date": 1577977177, "post_id": 59547920, "comment_id": 105298678, "body": "Thanks everyone. It&#39;s fixed now. I couldn&#39;t figure out the actual problem though so this is kind of a hack. I added the preloader html, the style and the javascript code all to the same header file. This way I guess, no file has to be required for the preloader to work correctly"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12320230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mANbIo2eePQWRG9PoBOB0eE5la6CJCaBDhLHmCMWw=k-s128", "display_name": "Paul Gamsam", "link": "https://stackoverflow.com/users/12320230/paul-gamsam"}, "edited": false, "score": 0, "creation_date": 1577977119, "post_id": 59547984, "comment_id": 105298646, "body": "Thanks, I checked this and it is required correctly. Most of my included scripts though have the defer attribute added to them to improve page load time. That must have been the problem"}], "tags": [], "owner": {"reputation": 36, "user_id": 5654116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4Cxr.jpg?s=128&g=1", "display_name": "Abd Alrahman Fani", "link": "https://stackoverflow.com/users/5654116/abd-alrahman-fani"}, "is_accepted": false, "score": 0, "last_activity_date": 1577821849, "creation_date": 1577821849, "answer_id": 59547984, "question_id": 59547920, "link": "https://stackoverflow.com/questions/59547920/where-should-html-preloader-be-placed/59547984#59547984", "title": "Where should HTML Preloader be placed?", "body": "<p>have you checked if jQuery is required correctly ? you will need to have jQuery before your  since the loading is in order.\n<br>\nOther than that i see no errors ! \nit would be very helpful if you can show us the whole page code and if there is any errors shows up in the console.</p>\n"}, {"tags": [], "owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "is_accepted": false, "score": 0, "last_activity_date": 1577822004, "creation_date": 1577822004, "answer_id": 59547997, "question_id": 59547920, "link": "https://stackoverflow.com/questions/59547920/where-should-html-preloader-be-placed/59547997#59547997", "title": "Where should HTML Preloader be placed?", "body": "<p>JQuery <code>.load</code> has been deprecated since 1.8 </p>\n\n<p>Use <code>.on(\"load\", function() { })</code> and it should work fine as it does below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(window).on(\"load\", function() {\r\n    $('body').removeClass('no-scroll-y');\r\n    $('#ctn-preloader').fadeOut('slow');\r\n  });</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;body&gt;\r\n&lt;div id=\"ctn-preloader\" class=\"ctn-preloader\"&gt;\r\n    &lt;div class=\"animation-preloader\"&gt;\r\n      &lt;div class=\"spinner\"&gt;&lt;/div&gt;\r\n      &lt;div class=\"txt-loading\"&gt;\r\n        &lt;span data-text-preloader=\"P\" class=\"letters-loading\"&gt;\r\n          P\r\n        &lt;/span&gt;\r\n        &lt;span data-text-preloader=\"U\" class=\"letters-loading\"&gt;\r\n          U\r\n        &lt;/span&gt;\r\n        &lt;span data-text-preloader=\"M\" class=\"letters-loading\"&gt;\r\n          M\r\n        &lt;/span&gt;\r\n        &lt;span data-text-preloader=\"S\" class=\"letters-loading\"&gt;\r\n          S\r\n        &lt;/span&gt;\r\n        &lt;span data-text-preloader=\"A\" class=\"letters-loading\"&gt;\r\n          A\r\n      &lt;/div&gt;\r\n      &lt;p class=\"text-center\"&gt;Loading&lt;/p&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"loader\"&gt;\r\n      &lt;div class=\"row\"&gt;\r\n        &lt;div class=\"col-12 loader-section\"&gt;\r\n          &lt;div class=\"bg\"&gt;&lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  &lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 12628015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa173f3a0b3c3cc11a153c022daf4105?s=128&d=identicon&r=PG&f=1", "display_name": "RRJudah", "link": "https://stackoverflow.com/users/12628015/rrjudah"}, "is_accepted": false, "score": 0, "last_activity_date": 1577827325, "creation_date": 1577827325, "answer_id": 59548534, "question_id": 59547920, "link": "https://stackoverflow.com/questions/59547920/where-should-html-preloader-be-placed/59548534#59548534", "title": "Where should HTML Preloader be placed?", "body": "<p>Another alternative is this</p>\n\n<pre><code>$(document).ready(function(){\n    // code here\n});\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$(function(){\n    // code here\n});\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12320230, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mANbIo2eePQWRG9PoBOB0eE5la6CJCaBDhLHmCMWw=k-s128", "display_name": "Paul Gamsam", "link": "https://stackoverflow.com/users/12320230/paul-gamsam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 297, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1577827325, "creation_date": 1577821271, "question_id": 59547920, "link": "https://stackoverflow.com/questions/59547920/where-should-html-preloader-be-placed", "title": "Where should HTML Preloader be placed?", "body": "<p>I am making a custom preloader for my site. It works fine on localhost but on the live site, the div shows no animation and the text is just placed at the bottom of the site.</p>\n\n<pre><code>&lt;!-- Preloader --&gt;\n  &lt;div id=\"ctn-preloader\" class=\"ctn-preloader\"&gt;\n    &lt;div class=\"animation-preloader\"&gt;\n      &lt;div class=\"spinner\"&gt;&lt;/div&gt;\n      &lt;div class=\"txt-loading\"&gt;\n        &lt;span data-text-preloader=\"P\" class=\"letters-loading\"&gt;\n          P\n        &lt;/span&gt;\n        &lt;span data-text-preloader=\"U\" class=\"letters-loading\"&gt;\n          U\n        &lt;/span&gt;\n        &lt;span data-text-preloader=\"M\" class=\"letters-loading\"&gt;\n          M\n        &lt;/span&gt;\n        &lt;span data-text-preloader=\"S\" class=\"letters-loading\"&gt;\n          S\n        &lt;/span&gt;\n        &lt;span data-text-preloader=\"A\" class=\"letters-loading\"&gt;\n          A\n      &lt;/div&gt;\n      &lt;p class=\"text-center\"&gt;Loading&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;div class=\"loader\"&gt;\n      &lt;div class=\"row\"&gt;\n        &lt;div class=\"col-12 loader-section\"&gt;\n          &lt;div class=\"bg\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>Here is the JS code that hides the preloader</p>\n\n<pre><code>$(window).load(function() {\n    $('body').removeClass('no-scroll-y');\n    $('#ctn-preloader').fadeOut('slow');\n  });\n</code></pre>\n\n<p>The HTML was initially just before the closing body tag before adding script files. It worked fine on localhost but not online. \nI shifted it to be just below the opening body tag. Now it loads endlessly on localhost except the index page but still doesn't load online.</p>\n"}, {"tags": ["javascript", "html", "browser", "microsoft-edge"], "answers": [{"comments": [{"owner": {"reputation": 1594, "user_id": 2759427, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9H9OY.png?s=128&g=1", "display_name": "Coburn", "link": "https://stackoverflow.com/users/2759427/coburn"}, "edited": false, "score": 0, "creation_date": 1577823070, "post_id": 59547993, "comment_id": 105265219, "body": "It does support const, v 42.17134.1098.0 is what I&#39;m using. After further testing it seems to only be our internal domain that ignores the parameters... Using <code>window.open()</code> on <code>https:&#47;&#47;eprize.com</code> always ignores the parameters, no matter what site I&#39;m on when I&#39;m running <code>window.open()</code> (even if on <code>google.com</code> or <code>msn.com</code>). <code>window.open()</code> with <code>https:&#47;&#47;example.com</code> and <code>https:&#47;&#47;google.com</code> seem to work just fine"}, {"owner": {"reputation": 1594, "user_id": 2759427, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9H9OY.png?s=128&g=1", "display_name": "Coburn", "link": "https://stackoverflow.com/users/2759427/coburn"}, "edited": false, "score": 0, "creation_date": 1577823735, "post_id": 59547993, "comment_id": 105265380, "body": "Nah, I don&#39;t think it&#39;s a protocol issue, I&#39;ve seen no pattern between http and https causing the issue. After more testing there seems to be no pattern. Doing a <code>window.open()</code> on <code>https:&#47;&#47;eprize.com</code> of <code>https:&#47;&#47;google.com</code> or <code>https:&#47;&#47;example.com</code> seems to ignore the parameters again, so it&#39;s not just opening the one domain... I&#39;m stumped"}, {"owner": {"reputation": 9, "user_id": 12628015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa173f3a0b3c3cc11a153c022daf4105?s=128&d=identicon&r=PG&f=1", "display_name": "RRJudah", "link": "https://stackoverflow.com/users/12628015/rrjudah"}, "reply_to_user": {"reputation": 1594, "user_id": 2759427, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9H9OY.png?s=128&g=1", "display_name": "Coburn", "link": "https://stackoverflow.com/users/2759427/coburn"}, "edited": false, "score": 0, "creation_date": 1577823921, "post_id": 59547993, "comment_id": 105265426, "body": "I just tried on my Edge and it worked for me. Most people don&#39;t use Edge anyway. Many Edge users are migrating to Edge (Chromium) or Chrome. Chrome, Firefox, and Opera are the big ones, there is not point supported the lesser used browsers."}, {"owner": {"reputation": 1594, "user_id": 2759427, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9H9OY.png?s=128&g=1", "display_name": "Coburn", "link": "https://stackoverflow.com/users/2759427/coburn"}, "edited": false, "score": 0, "creation_date": 1577824088, "post_id": 59547993, "comment_id": 105265460, "body": "After even further testing, the parameters are accepted between <code>eprize.com</code> and <code>merkleinc.com</code> but not between <code>merkleinc.com</code> and <code>google.com</code> (ePrize is owned by Merkle). Similarly between <code>force.com</code> and <code>eprize.com</code>, it works. It looks to be some sort of issue between Windows &#39;Trusted Sites&#39; and non-&#39;Trusted Sites&#39; found in the &#39;Internet Settings&#39;"}, {"owner": {"reputation": 1594, "user_id": 2759427, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9H9OY.png?s=128&g=1", "display_name": "Coburn", "link": "https://stackoverflow.com/users/2759427/coburn"}, "edited": false, "score": 0, "creation_date": 1577824113, "post_id": 59547993, "comment_id": 105265464, "body": "And it is company policy to support Edge, so unfortunately there&#39;s no way around it..."}, {"owner": {"reputation": 9, "user_id": 12628015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa173f3a0b3c3cc11a153c022daf4105?s=128&d=identicon&r=PG&f=1", "display_name": "RRJudah", "link": "https://stackoverflow.com/users/12628015/rrjudah"}, "reply_to_user": {"reputation": 1594, "user_id": 2759427, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9H9OY.png?s=128&g=1", "display_name": "Coburn", "link": "https://stackoverflow.com/users/2759427/coburn"}, "edited": false, "score": 1, "creation_date": 1577824149, "post_id": 59547993, "comment_id": 105265470, "body": "Oh, I&#39;ve dealt with that. Programming in IE and Edge is super difficult."}], "tags": [], "owner": {"reputation": 9, "user_id": 12628015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa173f3a0b3c3cc11a153c022daf4105?s=128&d=identicon&r=PG&f=1", "display_name": "RRJudah", "link": "https://stackoverflow.com/users/12628015/rrjudah"}, "is_accepted": false, "score": 0, "last_activity_date": 1577821939, "creation_date": 1577821939, "answer_id": 59547993, "question_id": 59547823, "link": "https://stackoverflow.com/questions/59547823/window-open-parameters-ignored-when-opening-cross-origin-window-in-microsoft-e/59547993#59547993", "title": "window.open() parameters ignored when opening cross-origin window in Microsoft Edge", "body": "<p>For me it is working correctly so the problem may be the version of Edge you are using. You can use <a href=\"https://www.caniuse.com\" rel=\"nofollow noreferrer\">caniuse.com</a> to check whether you can use things or not. However, since you have found this hacky way of using it you can turn it into a function like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>   function popup(url, title){\n     const popupWindow = window.open(\n       \"/#\",\n       title,\n       'menu=no,toolbar=no,width=700,height=600,scrollbars=1,resizable=0,' +\n       'directories=no,location=no,screenX=0,screenY=0,top=48,left=48',\n     );\n     popupWindow.location.href = url;\n   }\n</code></pre>\n\n<p>And now you can use the function popup.</p>\n\n<p>By the way, I can see you are using ES6. Make sure your version of Edge supports const.</p>\n"}, {"comments": [{"owner": {"reputation": 1594, "user_id": 2759427, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9H9OY.png?s=128&g=1", "display_name": "Coburn", "link": "https://stackoverflow.com/users/2759427/coburn"}, "edited": false, "score": 0, "creation_date": 1577847542, "post_id": 59549720, "comment_id": 105268554, "body": "Any idea if there&#39;s a workaround if these settings are controlled by Group Policy?"}, {"owner": {"reputation": 8001, "user_id": 10309381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a284b365772283540b23d67dbbbd2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak-MSFT", "link": "https://stackoverflow.com/users/10309381/deepak-msft"}, "reply_to_user": {"reputation": 1594, "user_id": 2759427, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9H9OY.png?s=128&g=1", "display_name": "Coburn", "link": "https://stackoverflow.com/users/2759427/coburn"}, "edited": false, "score": 1, "creation_date": 1577847950, "post_id": 59549720, "comment_id": 105268578, "body": "If you are available to modify these settings via Group policy then I can try to find relevant policies. If you mean that these settings are maintained by group policies and you cannot modify it then I suggest you continue with your workaround as I did not get any other alternative way."}, {"owner": {"reputation": 8001, "user_id": 10309381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a284b365772283540b23d67dbbbd2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak-MSFT", "link": "https://stackoverflow.com/users/10309381/deepak-msft"}, "reply_to_user": {"reputation": 1594, "user_id": 2759427, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9H9OY.png?s=128&g=1", "display_name": "Coburn", "link": "https://stackoverflow.com/users/2759427/coburn"}, "edited": false, "score": 0, "creation_date": 1578990112, "post_id": 59549720, "comment_id": 105609091, "body": "@Coburn, can you please inform the status of this issue? If the above answer solved the issue, then please try to accept the answer. If you found the solution by yourself then try to post your solution as an answer. If the issue still persists then let us know about the current status for the issue. Thanks for your understanding."}, {"owner": {"reputation": 1594, "user_id": 2759427, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9H9OY.png?s=128&g=1", "display_name": "Coburn", "link": "https://stackoverflow.com/users/2759427/coburn"}, "edited": false, "score": 0, "creation_date": 1578997710, "post_id": 59549720, "comment_id": 105612850, "body": "This is probably the best answer for this case. No way to change Group Policy on my computer but this should fix the problem for anyone else."}], "tags": [], "owner": {"reputation": 8001, "user_id": 10309381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a284b365772283540b23d67dbbbd2d2e?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak-MSFT", "link": "https://stackoverflow.com/users/10309381/deepak-msft"}, "is_accepted": true, "score": 1, "last_activity_date": 1577846989, "creation_date": 1577846989, "answer_id": 59549720, "question_id": 59547823, "link": "https://stackoverflow.com/questions/59547823/window-open-parameters-ignored-when-opening-cross-origin-window-in-microsoft-e/59549720#59549720", "title": "window.open() parameters ignored when opening cross-origin window in Microsoft Edge", "body": "<p>I try to check the issue and it looks like security settings related issue.</p>\n\n<p>I suggest you modify the below <strong>Internet Options</strong> settings.</p>\n\n<p>(1) <strong>Enabled</strong> the <strong>Access data sources across domains</strong> option.</p>\n\n<blockquote>\n  <p>Internet Options -> Security (Tab) ->   Custom Level -> Miscellaneous\n  -> Access data sources across domains ->  Set to Enabled</p>\n</blockquote>\n\n<p>(2) <strong>Disabled</strong> the <strong>Protected mode</strong>.</p>\n\n<blockquote>\n  <p>Internet Options -> Security (Tab) ->   uncheck Enable Protected mode\n  for Internet &amp; Local Intranet</p>\n</blockquote>\n\n<p>(3) Add both domains to the <strong>trusted site list</strong>.</p>\n\n<blockquote>\n  <p>Internet Options -> Security (Tab) -> Trusted sites -> Sites -> Add both domains to the list.</p>\n</blockquote>\n\n<p>(4) Uncheck <strong>Require server verification(https:)</strong>:</p>\n\n<blockquote>\n  <p>Internet Options -> Security (Tab) ->   Trusted site -> Sites ->\n  Uncheck Require server verification(https:) ->   enter localhost url &amp;\n  click on add button.</p>\n</blockquote>\n\n<p>After modifying the above settings, I tested this code.</p>\n\n<pre><code>const popupWindow = window.open(\n    \"https://Bing.com\",\n    \"Microsoft page\",\n    'menu=no,toolbar=no,width=700,height=600,scrollbars=1,resizable=0,' +\n        'directories=no,location=no,screenX=0,screenY=0,top=48,left=48',\n);\n</code></pre>\n\n<p>Output in <strong>Microsoft Edge 44.18362.1.0</strong> :</p>\n\n<p><a href=\"https://i.stack.imgur.com/05h7g.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/05h7g.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1594, "user_id": 2759427, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9H9OY.png?s=128&g=1", "display_name": "Coburn", "link": "https://stackoverflow.com/users/2759427/coburn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 740, "favorite_count": 0, "accepted_answer_id": 59549720, "answer_count": 2, "score": 0, "last_activity_date": 1577846989, "creation_date": 1577820391, "question_id": 59547823, "link": "https://stackoverflow.com/questions/59547823/window-open-parameters-ignored-when-opening-cross-origin-window-in-microsoft-e", "title": "window.open() parameters ignored when opening cross-origin window in Microsoft Edge", "body": "<p>In Microsoft Edge, the following snippet will ignore the options passed to <code>window.open()</code> when <code>url</code> is a different origin than the current domain. But works it works fine in Chrome and Firefox, and when the domain is the same origin.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const popupWindow = window.open(\n    url,\n    title,\n    'menu=no,toolbar=no,width=700,height=600,scrollbars=1,resizable=0,' +\n        'directories=no,location=no,screenX=0,screenY=0,top=48,left=48',\n);\n</code></pre>\n\n<p>I found a hacky workaround to get the window to size properly but this is really annoying and you can see it redirect the page.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const popupWindow = window.open(\n    \"/#\",\n    title,\n    'menu=no,toolbar=no,width=700,height=600,scrollbars=1,resizable=0,' +\n        'directories=no,location=no,screenX=0,screenY=0,top=48,left=48',\n);\npopupWindow.location.href = url;\n</code></pre>\n\n<p>How do I make this work on Microsoft Edge? Why is Microsoft Edge ignoring my size and other parameters? Is this a bug?</p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 30330, "user_id": 1352288, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Ra8hE.png?s=128&g=1", "display_name": "Mitya", "link": "https://stackoverflow.com/users/1352288/mitya"}, "edited": false, "score": 0, "creation_date": 1577820521, "post_id": 59547813, "comment_id": 105264699, "body": "With the code you&#39;ve shown, Bar and Baz would not be affected because they do not match the selector passed to the event registration, <code>ul#dropdown-download-links &gt; li &gt; a</code>."}, {"owner": {"reputation": 315, "user_id": 4912881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32fc9d1c2e83fbc05c18da2653e580dd?s=128&d=identicon&r=PG&f=1", "display_name": "HelloWorld", "link": "https://stackoverflow.com/users/4912881/helloworld"}, "reply_to_user": {"reputation": 30330, "user_id": 1352288, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Ra8hE.png?s=128&g=1", "display_name": "Mitya", "link": "https://stackoverflow.com/users/1352288/mitya"}, "edited": false, "score": 0, "creation_date": 1577820567, "post_id": 59547813, "comment_id": 105264711, "body": "The HTML is just an example, I can re-examine but I think the selector still doesn&#39;t match the children links which are not working."}, {"owner": {"reputation": 30330, "user_id": 1352288, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Ra8hE.png?s=128&g=1", "display_name": "Mitya", "link": "https://stackoverflow.com/users/1352288/mitya"}, "edited": false, "score": 0, "creation_date": 1577820620, "post_id": 59547813, "comment_id": 105264723, "body": "Well we can only help based on the code you post. But right now, that JS has nothing to do with those Baz and Bar links, so the question is void. If those links aren&#39;t working, it&#39;s for another reason that wouldn&#39;t be clear without seeing your actual, wider code."}, {"owner": {"reputation": 315, "user_id": 4912881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32fc9d1c2e83fbc05c18da2653e580dd?s=128&d=identicon&r=PG&f=1", "display_name": "HelloWorld", "link": "https://stackoverflow.com/users/4912881/helloworld"}, "reply_to_user": {"reputation": 30330, "user_id": 1352288, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Ra8hE.png?s=128&g=1", "display_name": "Mitya", "link": "https://stackoverflow.com/users/1352288/mitya"}, "edited": false, "score": 0, "creation_date": 1577820654, "post_id": 59547813, "comment_id": 105264727, "body": "The most accuarete example of the code is this fiddle: <a href=\"https://jsfiddle.net/o8fdhke5/1/\" rel=\"nofollow noreferrer\">jsfiddle.net/o8fdhke5/1</a>"}, {"owner": {"reputation": 315, "user_id": 4912881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32fc9d1c2e83fbc05c18da2653e580dd?s=128&d=identicon&r=PG&f=1", "display_name": "HelloWorld", "link": "https://stackoverflow.com/users/4912881/helloworld"}, "reply_to_user": {"reputation": 30330, "user_id": 1352288, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Ra8hE.png?s=128&g=1", "display_name": "Mitya", "link": "https://stackoverflow.com/users/1352288/mitya"}, "edited": false, "score": 0, "creation_date": 1577820685, "post_id": 59547813, "comment_id": 105264735, "body": "The black boxes (which normally are much smaller icons and have some text would be clickable but as you can see they are not. It conveys the same problem."}, {"owner": {"reputation": 30330, "user_id": 1352288, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Ra8hE.png?s=128&g=1", "display_name": "Mitya", "link": "https://stackoverflow.com/users/1352288/mitya"}, "edited": false, "score": 3, "creation_date": 1577820685, "post_id": 59547813, "comment_id": 105264736, "body": "Sure, but Fiddles are supplementary. In order to help you, it&#39;s reasonable to expect all relevant information to be in the question :)"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1577821712, "post_id": 59547813, "comment_id": 105264950, "body": "There&#39;s no <code>preventDefault()</code> in your code shown here. <code>stopPropagation()</code> does something different. <code>unbind()</code> is also likely unnecessary, if it&#39;s truly being run on document ready."}, {"owner": {"reputation": 1169, "user_id": 5471481, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207812171852268/picture?type=large", "display_name": "Ivan Karaman", "link": "https://stackoverflow.com/users/5471481/ivan-karaman"}, "edited": false, "score": 0, "creation_date": 1577824339, "post_id": 59547813, "comment_id": 105265512, "body": "@HelloWorld your jsfiddle works fine, watch your console, maybe there are errors, as i saw on jsfiddle links don&#39;t work because they are linked on your local webserver and they are blocked by a browser for <code>mixed content</code>, the links have <code>HTTP</code> but page is loaded by <code>HTTPS</code>."}], "answers": [{"comments": [{"owner": {"reputation": 315, "user_id": 4912881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32fc9d1c2e83fbc05c18da2653e580dd?s=128&d=identicon&r=PG&f=1", "display_name": "HelloWorld", "link": "https://stackoverflow.com/users/4912881/helloworld"}, "edited": false, "score": 0, "creation_date": 1577820870, "post_id": 59547869, "comment_id": 105264775, "body": "This is the best answer and the only that I will think that&#39;ll work with my rigid serve fed structure. Is there an easy jQuery alternative to it?"}, {"owner": {"reputation": 145, "user_id": 11697704, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y-jy2GA187Q/AAAAAAAAAAI/AAAAAAAAAH8/zSxngMSzMrU/photo.jpg?sz=128", "display_name": "dr_nyt", "link": "https://stackoverflow.com/users/11697704/dr-nyt"}, "reply_to_user": {"reputation": 315, "user_id": 4912881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32fc9d1c2e83fbc05c18da2653e580dd?s=128&d=identicon&r=PG&f=1", "display_name": "HelloWorld", "link": "https://stackoverflow.com/users/4912881/helloworld"}, "edited": false, "score": 0, "creation_date": 1577821362, "post_id": 59547869, "comment_id": 105264876, "body": "This link sums it up quite well: <a href=\"https://www.tutorialrepublic.com/faq/how-to-remove-attribute-from-an-html-element-in-jquery.php\" rel=\"nofollow noreferrer\">tutorialrepublic.com/faq/&hellip;</a>"}, {"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1577821398, "post_id": 59547869, "comment_id": 105264888, "body": "IMO, if a vanilla JS method works for the job, there&#39;s no need to resort to a big library like jQuery to do the same thing"}], "tags": [], "owner": {"reputation": 145, "user_id": 11697704, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y-jy2GA187Q/AAAAAAAAAAI/AAAAAAAAAH8/zSxngMSzMrU/photo.jpg?sz=128", "display_name": "dr_nyt", "link": "https://stackoverflow.com/users/11697704/dr-nyt"}, "is_accepted": false, "score": 1, "last_activity_date": 1577820782, "creation_date": 1577820782, "answer_id": 59547869, "question_id": 59547813, "link": "https://stackoverflow.com/questions/59547813/how-to-change-e-preventdefault-from-disabling-links-of-children-anchor/59547869#59547869", "title": "How to change e.preventDefault() from disabling links of children anchor?", "body": "<p>I am sure there are better ways to do it but you could try to just remove the href attribute tag with 'removeAttribute(\"href\")'</p>\n\n<p>Source: <a href=\"https://stackoverflow.com/a/17387382/11697704\">https://stackoverflow.com/a/17387382/11697704</a></p>\n"}, {"tags": [], "owner": {"reputation": 1169, "user_id": 5471481, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207812171852268/picture?type=large", "display_name": "Ivan Karaman", "link": "https://stackoverflow.com/users/5471481/ivan-karaman"}, "is_accepted": false, "score": 0, "last_activity_date": 1577822065, "last_edit_date": 1577822065, "creation_date": 1577821541, "answer_id": 59547955, "question_id": 59547813, "link": "https://stackoverflow.com/questions/59547813/how-to-change-e-preventdefault-from-disabling-links-of-children-anchor/59547955#59547955", "title": "How to change e.preventDefault() from disabling links of children anchor?", "body": "<p>You should use the <code>children</code> method instead <code>&gt;</code> it's better for performance, this code doesn't have an affect on children links, you sure that problem in this code?</p>\n\n<p>solution with removing attr <code>href</code> will not work for you, because these links will reload a page...</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n  $(\"ul#dropdown-download-links\").children('li').children('a').click(function(e) {\r\n    e.preventDefault();\r\n    $(this).next(\"ul\").slideToggle();\r\n  });\r\n  \r\n  // empty href attr doesn't prevent page reload\r\n  const $second = $(\"ul#dropdown-second\");\r\n  if($second.length) {\r\n    $second.children('li').children('a').attr('href', '');\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;h2&gt;With 'preventDefault'&lt;/h2&gt;\r\n&lt;ul id=\"dropdown-download-links\"&gt;\r\n  &lt;li&gt;\r\n    &lt;a href=\"foo.html\"&gt;Foo&lt;/a&gt; &lt;!-- Don't want this clickable, but cannot remove it --&gt;\r\n    &lt;ul&gt;\r\n      &lt;li&gt;&lt;a href=\"bar.html\"&gt;Bar&lt;/a&gt;&lt;/li&gt;\r\n      &lt;li&gt;&lt;a href=\"baz.html\"&gt;Baz&lt;/a&gt;&lt;/li&gt;\r\n   &lt;/ul&gt;\r\n &lt;/li&gt;\r\n &lt;li&gt;&lt;!-- .. same style structure here .. --&gt;&lt;/li&gt;\r\n &lt;li&gt;&lt;!-- .. same style structure here .. --&gt;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;h2&gt;With removed 'href' attribute&lt;/h2&gt;\r\n&lt;ul id=\"dropdown-second\"&gt;\r\n  &lt;li&gt;\r\n    &lt;a href=\"foo.html\"&gt;Foo&lt;/a&gt; &lt;!-- Don't want this clickable, but cannot remove it --&gt;\r\n    &lt;ul&gt;\r\n      &lt;li&gt;&lt;a href=\"bar.html\"&gt;Bar&lt;/a&gt;&lt;/li&gt;\r\n      &lt;li&gt;&lt;a href=\"baz.html\"&gt;Baz&lt;/a&gt;&lt;/li&gt;\r\n   &lt;/ul&gt;\r\n &lt;/li&gt;\r\n &lt;li&gt;\r\n    &lt;a href=\"foo.html\"&gt;Foo&lt;/a&gt; &lt;!-- Don't want this clickable, but cannot remove it --&gt;\r\n    &lt;ul&gt;\r\n      &lt;li&gt;&lt;a href=\"bar.html\"&gt;Bar&lt;/a&gt;&lt;/li&gt;\r\n      &lt;li&gt;&lt;a href=\"baz.html\"&gt;Baz&lt;/a&gt;&lt;/li&gt;\r\n   &lt;/ul&gt;\r\n &lt;/li&gt;\r\n &lt;li&gt;\r\n    &lt;a href=\"foo.html\"&gt;Foo&lt;/a&gt; &lt;!-- Don't want this clickable, but cannot remove it --&gt;\r\n    &lt;ul&gt;\r\n      &lt;li&gt;&lt;a href=\"bar.html\"&gt;Bar&lt;/a&gt;&lt;/li&gt;\r\n      &lt;li&gt;&lt;a href=\"baz.html\"&gt;Baz&lt;/a&gt;&lt;/li&gt;\r\n   &lt;/ul&gt;\r\n &lt;/li&gt;\r\n &lt;li&gt;&lt;!-- .. same style structure here .. --&gt;&lt;/li&gt;\r\n &lt;li&gt;&lt;!-- .. same style structure here .. --&gt;&lt;/li&gt;\r\n&lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 1169, "user_id": 5471481, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207812171852268/picture?type=large", "display_name": "Ivan Karaman", "link": "https://stackoverflow.com/users/5471481/ivan-karaman"}, "edited": false, "score": 0, "creation_date": 1577822250, "post_id": 59547991, "comment_id": 105265048, "body": "it will remove click event for sliding children"}, {"owner": {"reputation": 1169, "user_id": 5471481, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207812171852268/picture?type=large", "display_name": "Ivan Karaman", "link": "https://stackoverflow.com/users/5471481/ivan-karaman"}, "edited": false, "score": 0, "creation_date": 1577822665, "post_id": 59547991, "comment_id": 105265121, "body": "my typo, sorry, he wants to click on a link but this CSS will disable click event, that will not work for this case"}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 1169, "user_id": 5471481, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207812171852268/picture?type=large", "display_name": "Ivan Karaman", "link": "https://stackoverflow.com/users/5471481/ivan-karaman"}, "edited": false, "score": 0, "creation_date": 1577822781, "post_id": 59547991, "comment_id": 105265161, "body": "@IvanKaraman I don&#39;t think you&#39;ve read the requirements. He does NOT want the link to be clickable. Look at his own comment next to it."}, {"owner": {"reputation": 1169, "user_id": 5471481, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207812171852268/picture?type=large", "display_name": "Ivan Karaman", "link": "https://stackoverflow.com/users/5471481/ivan-karaman"}, "edited": false, "score": 0, "creation_date": 1577824660, "post_id": 59547991, "comment_id": 105265576, "body": "I saw his jsfiddle example, this link is for opening a dropdown menu, but I like your answer, I didn&#39;t think about this CSS prop as a solution..."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 1169, "user_id": 5471481, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207812171852268/picture?type=large", "display_name": "Ivan Karaman", "link": "https://stackoverflow.com/users/5471481/ivan-karaman"}, "edited": false, "score": 0, "creation_date": 1577824864, "post_id": 59547991, "comment_id": 105265609, "body": "@IvanKaraman If that&#39;s the case, the event can just be added to the <code>li</code> parent, rather than the <code>a</code>. Answer updated. Problem solved."}], "tags": [], "owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "is_accepted": false, "score": 1, "last_activity_date": 1577825096, "last_edit_date": 1577825096, "creation_date": 1577821934, "answer_id": 59547991, "question_id": 59547813, "link": "https://stackoverflow.com/questions/59547813/how-to-change-e-preventdefault-from-disabling-links-of-children-anchor/59547991#59547991", "title": "How to change e.preventDefault() from disabling links of children anchor?", "body": "<p>How about a simple CSS solution using <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/pointer-events\" rel=\"nofollow noreferrer\"><code>pointer-events</code></a>?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Set the event handler on the &lt;li&gt;, not the &lt;a&gt;\r\n$(\"ul#dropdown-download-links &gt; li\").click(function(e) {\r\n  $(this).find(\"ul\").slideToggle();\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>a[href=\"foo.html\"] { pointer-events:none; } /* Now, it can't be clicked! */</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;ul id=\"dropdown-download-links\"&gt;\r\n  &lt;li&gt;\r\n    &lt;a href=\"foo.html\"&gt;Foo&lt;/a&gt; &lt;!-- Don't want this clickable, but cannot remove it --&gt;\r\n    &lt;ul&gt;\r\n      &lt;li&gt;&lt;a href=\"bar.html\"&gt;Bar&lt;/a&gt;&lt;/li&gt;\r\n      &lt;li&gt;&lt;a href=\"baz.html\"&gt;Baz&lt;/a&gt;&lt;/li&gt;\r\n   &lt;/ul&gt;\r\n &lt;/li&gt;\r\n &lt;li&gt;&lt;!-- .. same style structure here .. --&gt;&lt;/li&gt;\r\n &lt;li&gt;&lt;!-- .. same style structure here .. --&gt;&lt;/li&gt;\r\n&lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 315, "user_id": 4912881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32fc9d1c2e83fbc05c18da2653e580dd?s=128&d=identicon&r=PG&f=1", "display_name": "HelloWorld", "link": "https://stackoverflow.com/users/4912881/helloworld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1577825096, "creation_date": 1577820325, "last_edit_date": 1577820527, "question_id": 59547813, "link": "https://stackoverflow.com/questions/59547813/how-to-change-e-preventdefault-from-disabling-links-of-children-anchor", "title": "How to change e.preventDefault() from disabling links of children anchor?", "body": "<p>Say we have HTML structure like this:</p>\n\n<pre><code>&lt;ul id=\"dropdown-download-links\"&gt;\n  &lt;li&gt;\n    &lt;a href=\"foo.html\"&gt;Foo&lt;/a&gt; &lt;!-- Don't want this clickable, but cannot remove it --&gt;\n    &lt;ul&gt;\n      &lt;li&gt;&lt;a href=\"bar.html\"&gt;Bar&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"baz.html\"&gt;Baz&lt;/a&gt;&lt;/li&gt;\n   &lt;/ul&gt;\n &lt;/li&gt;\n &lt;li&gt;&lt;!-- .. same style structure here .. --&gt;&lt;/li&gt;\n &lt;li&gt;&lt;!-- .. same style structure here .. --&gt;&lt;/li&gt;\n&lt;/ul&gt; \n</code></pre>\n\n<p>So you click on <strong>Foo</strong> and then it toggles <strong>Bar</strong> and <strong>Baz</strong> both of which SHOULD be clickable as <code>target=_blank</code> pdf documents. The obvious problem is because of <code>e.preventDefault()</code> none of the links work as they should. The relevant jQuery is here:</p>\n\n<pre><code>$(document).ready(function() {\n  $(\"ul#dropdown-download-links &gt; li &gt; a\").unbind().click(function(e) {\n    e.stopPropagation();\n    var ulContainer = $(this).closest(\"li\").find(\"ul\");\n    $(ulContainer).slideToggle();\n  });\n});\n</code></pre>\n\n<p>Can anyone see a way in which the <strong>Bar</strong> and <strong>Baz</strong> links would work despite using <code>e.preventDefault()</code>? So that the original parents which were themselves supposed to be links act as clickable elements that unfold the new links?</p>\n"}, {"tags": ["javascript", "jquery", "cookies"], "answers": [{"tags": [], "owner": {"reputation": 495, "user_id": 5823893, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GIHms2pRCno/AAAAAAAAAAI/AAAAAAAABFQ/fZhyIrJgTLw/photo.jpg?sz=128", "display_name": "Nathan Hawks", "link": "https://stackoverflow.com/users/5823893/nathan-hawks"}, "is_accepted": false, "score": 0, "last_activity_date": 1577833083, "creation_date": 1577833083, "answer_id": 59549003, "question_id": 59547772, "link": "https://stackoverflow.com/questions/59547772/creating-and-checking-cookies-value-with-javascript-jquery/59549003#59549003", "title": "Creating and Checking cookies value with javascript/jquery", "body": "<p>JQuery no longer has an active plugin for this. Two alternatives exist depending on your needs:</p>\n\n<ul>\n<li>you can use <a href=\"https://github.com/js-cookie/js-cookie\" rel=\"nofollow noreferrer\">JS-Cookie</a> for a way to work with cookies in Javascript </li>\n<li>you can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\" rel=\"nofollow noreferrer\">LocalStorage</a> instead of cookies</li>\n</ul>\n\n<p>LocalStorage is the easier way, but if you need compatibility with older browsers go with cookies.</p>\n"}], "owner": {"reputation": 197, "user_id": 5412604, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/88bf91e766351f3f64847ee413eb0c38?s=128&d=identicon&r=PG&f=1", "display_name": "Marcio", "link": "https://stackoverflow.com/users/5412604/marcio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577833083, "creation_date": 1577819933, "question_id": 59547772, "link": "https://stackoverflow.com/questions/59547772/creating-and-checking-cookies-value-with-javascript-jquery", "title": "Creating and Checking cookies value with javascript/jquery", "body": "<p>I'm setting up a new pop up and would like to create cookie. The basic function is to add classes into the wrapper if a cookie exists (or depending on value if that's possible). This is what I got so far:</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div id=\"new-popup\" class=\"active \"&gt;\n&lt;span class=\"collapse-popup\"&gt;X&lt;/span&gt;\n&lt;form&gt;\n&lt;input class=\"tnp-email\" type=\"email\" placeholder=\"Email Address\" name=\"ne\" required=\"\"&gt;\n&lt;input class=\"tnp-submit\" type=\"submit\" value=\"Submit\"&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>JS/JQUERY:</p>\n\n<pre><code>jQuery(document).ready(function($) {\n\n    var popuptwo = $('#new-popup');\n    var cookie = GetCookie(\"testbb2020\");\n    if(cookie == null) { }\n\n    if(cookie === 'closed') { \n        $('#new-popup').addClass('closed-test')\n    }\n\n    if(cookie === 'subscribed') { \n        $('#new-popup').addClass('subscribed-test')\n    }\n\n    // Click on \"Close\"\n    $('#new-popup .collapse-popup').click(function(event) {\n        var date = new Date();\n        date.setTime(date.getTime() + (30 * 24 * 60 * 60 * 1000));\n        expires = \"; expires=\" + date.toGMTString();\n        document.cookie = \"testbb2020=closed\" + expires + \"; path=/\"; {\n        }\n\n    });\n\n    // Click on \"Subscribe\"\n    $('#new-popup input.tnp-submit').click(function(event) {\n        var date = new Date();\n        date.setTime(date.getTime() + (30 * 24 * 60 * 60 * 1000));\n        expires = \"; expires=\" + date.toGMTString();\n        document.cookie = \"testbb2020=subscribed\" + expires + \"; path=/\"; {\n        }\n\n    });\n\n});\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 704, "user_id": 5330103, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7a1b9518a1b9591ae9e3b322dd644d2f?s=128&d=identicon&r=PG", "display_name": "Amir Rezvani", "link": "https://stackoverflow.com/users/5330103/amir-rezvani"}, "is_accepted": false, "score": 0, "last_activity_date": 1577820996, "creation_date": 1577820996, "answer_id": 59547891, "question_id": 59547750, "link": "https://stackoverflow.com/questions/59547750/why-is-my-onchange-event-not-working-in-react/59547891#59547891", "title": "Why is my onChange event not working in React?", "body": "<p>i run your code in sandBox:\n<a href=\"https://codesandbox.io/s/onchange-problem-37c4i\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/onchange-problem-37c4i</a></p>\n\n<p>there is no issue with your functionality as far as i can see.</p>\n\n<p>but in this case if <code>onChange</code> dose not work for you is because maybe inside of <code>&lt; SearchInput  /&gt;</code> component you don't pass the value up to the parent element.</p>\n\n<p>check the sandBox and notice to the SearchInput1 and SearchInput2</p>\n"}, {"tags": [], "owner": {"reputation": 1937, "user_id": 197472, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/29jv4.jpg?s=128&g=1", "display_name": "Barryman9000", "link": "https://stackoverflow.com/users/197472/barryman9000"}, "is_accepted": false, "score": 2, "last_activity_date": 1577821152, "creation_date": 1577821152, "answer_id": 59547904, "question_id": 59547750, "link": "https://stackoverflow.com/questions/59547750/why-is-my-onchange-event-not-working-in-react/59547904#59547904", "title": "Why is my onChange event not working in React?", "body": "<p>You have a typo! Missing the \"l\" in <code>handleChange</code> :)</p>\n\n<pre><code>handleChange = (e) =&gt; {\n        const { onChange } = this.props;\n\n        onChange(e);\n    }\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 8710722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/223eb94113a5086e1fb09eb6ac68082b?s=128&d=identicon&r=PG&f=1", "display_name": "M. Greco", "link": "https://stackoverflow.com/users/8710722/m-greco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 787, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1577821152, "creation_date": 1577819683, "question_id": 59547750, "link": "https://stackoverflow.com/questions/59547750/why-is-my-onchange-event-not-working-in-react", "title": "Why is my onChange event not working in React?", "body": "<p>I am coding a simple search input component for an app that will eventually become larger, but I am at a loss for why the onChange prop associated with it isn't being called. Here I will show my search input component and the app component into which I import it: </p>\n\n<pre><code>import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class SearchInput extends Component {\n    static defaultProps = {\n        onChange: () =&gt; Promise.resolve(),\n    }\n\n    static propTypes = {\n        onChange: PropTypes.func,\n        value: PropTypes.string,\n    }\n\n    render() {\n        const { value } = this.props;\n        return (\n            &lt;input className=\"search-input\" type='text' onChange={this.handleChange} value={value}/&gt;\n        )\n    }\n\n    handeChange = (e) =&gt; {\n        const { onChange } = this.props;\n\n        onChange(e);\n    }\n}\n</code></pre>\n\n<p>And then here's my main app component (very simple still, and keep in mind that I have list-rendering functionality, but that isn't where my issue lies). I'm pretty sure the issue lies somewhere in the handleSearchDidChange method that I wrote up and tacked onto the onChange prop for the SearchInput component: </p>\n\n<pre><code>import React, { Component } from 'react';\nimport Container from './components/container'\nimport List from './components/list'\nimport SearchInput from './components/search-input';\n\n// Styles\nimport './App.css';\n\nexport default class App extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      searchValue: undefined,\n      isSearching: false,\n    }\n    // this.handleSearchDidChange = this.handleSearchDidChange.bind(this);\n  }\n\n  render() {\n    // in the main render, we render the container component (yet to be styled)\n    // and then call renderList inside of it. We need \"this\" because this is \n    // a class-based component, and we need to tell the component that we are \n    // using the method associated with this class\n    return (\n      &lt;div className=\"App\"&gt;\n        &lt;Container&gt;\n            {this.renderSearchInput()}\n            {this.renderList()}\n        &lt;/Container&gt;\n      &lt;/div&gt;\n    );\n  }\n\n  renderSearchInput = () =&gt; {\n    const { searchValue } = this.state;\n    return (&lt;SearchInput onChange={this.handleSearchDidChange} value={searchValue}/&gt;)\n  }\n\n  renderList = () =&gt; {\n    // return the list component, passing in the fetchData method call as the data prop\n    // since this prop type is an array and data is an array-type prop, this is \n    // acceptable\n    return &lt;List data={this.fetchData()}/&gt;\n  }\n  // possibly something wrong with this method? \n  handleSearchDidChange = (e) =&gt; {\n    const { target } = e;\n    const { value } = target;\n\n    this.setState({\n      searchValue: value,\n      isSearching: true,\n    });\n\n    console.log('value: ', value);\n    console.log('searchValue: ', this.state.searchValue);\n    console.log('-------------------------')\n\n    }\n\n\n  fetchData = () =&gt; {\n    // initialize a list of items\n    // still wondering why we cannot put the listItems constant and the \n    // return statement inside of a self-closing setTimeout function in \n    // order to simulate an API call\n      const listItems = [\n        {title: 'Make a transfer'},\n        {title: 'Wire money'},\n        {title: 'Set a travel notice'},\n        {title: 'Pop money'},\n        {title: 'Edit travel notice'},\n        {title: 'test money things'},\n        {title: 'more test money things'},\n        {title: 'bananas'},\n        {title: 'apples to eat'},\n        {title: 'I like CocaCola'},\n        {title: 'Christmas cookies'},\n        {title: 'Santa Claus'}, \n        {title: 'iPhones'},\n        {title: 'Technology is amazing'},\n        {title: 'Technology'},\n        {title: 'React is the best'},\n    ];\n    // return it\n      return listItems;\n  }\n</code></pre>\n"}, {"tags": ["javascript", "loops", "for-loop", "callback", "settimeout"], "comments": [{"owner": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "edited": false, "score": 1, "creation_date": 1577819660, "post_id": 59547735, "comment_id": 105264513, "body": "you called second first by executing it when you passed it to first, should be <code>first(second);</code>, because second is the callback. You big dummy :-)"}, {"owner": {"reputation": 1952, "user_id": 4552846, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-kY4961qs0mE/AAAAAAAAAAI/AAAAAAAACM0/-6b9LpUTT2Q/photo.jpg?sz=128", "display_name": "Azeame", "link": "https://stackoverflow.com/users/4552846/azeame"}, "reply_to_user": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "edited": false, "score": 0, "creation_date": 1577822663, "post_id": 59547735, "comment_id": 105265120, "body": "@r3wt It&#39;s obvious the last part of your comment was meant to be jokingly, but you may want to consider removing it anyways."}, {"owner": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "reply_to_user": {"reputation": 1952, "user_id": 4552846, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-kY4961qs0mE/AAAAAAAAAAI/AAAAAAAACM0/-6b9LpUTT2Q/photo.jpg?sz=128", "display_name": "Azeame", "link": "https://stackoverflow.com/users/4552846/azeame"}, "edited": false, "score": 0, "creation_date": 1577825909, "post_id": 59547735, "comment_id": 105265816, "body": "@Azeame nah, i&#39;m good. back in my day, being a noob on this site and asking a dumb question would get you skull dragged by an angry mob. i don&#39;t agree with this soft pc culture at all. the abuse i took here made me a tougher person, and also a more conscious software developer in terms of security and ethics"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 12439451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1a09d33128dae28abed518301d5e78?s=128&d=identicon&r=PG&f=1", "display_name": "unpolygon", "link": "https://stackoverflow.com/users/12439451/unpolygon"}, "edited": false, "score": 0, "creation_date": 1577819896, "post_id": 59547748, "comment_id": 105264568, "body": "Wow! Thank you so much for answer."}], "tags": [], "owner": {"reputation": 3958, "user_id": 11081214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b53d0cefd959372f49e84b943a1187f?s=128&d=identicon&r=PG&f=1", "display_name": "Snow", "link": "https://stackoverflow.com/users/11081214/snow"}, "is_accepted": true, "score": 0, "last_activity_date": 1577819659, "creation_date": 1577819659, "answer_id": 59547748, "question_id": 59547735, "link": "https://stackoverflow.com/questions/59547735/settimeout-loop-wait-another-settimeout-loop/59547748#59547748", "title": "setTimeout loop wait another setTimeout loop", "body": "<p>There are 10 iterations in <code>first</code>, so the callback for <code>second</code> should run after <code>10 * 10</code> milliseconds. Also make sure to <em>pass</em> <code>second</code> into <code>first</code> instead of calling <code>second</code> immediately:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function first(callback) {\r\n  for (let i = 0; i &lt; 10; i++) {\r\n    setTimeout(() =&gt; {\r\n      console.log('i: ', i);\r\n    }, 10 * i);\r\n  }\r\n  setTimeout(callback, 10 * 10)\r\n}\r\n\r\nfunction second() {\r\n  for (let j = 0; j &lt; 10; j++) {\r\n    setTimeout(() =&gt; {\r\n      console.log('j: ', j);\r\n    }, 10 * j);\r\n  }\r\n}\r\n\r\nfirst(second);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 13, "user_id": 12439451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1a09d33128dae28abed518301d5e78?s=128&d=identicon&r=PG&f=1", "display_name": "unpolygon", "link": "https://stackoverflow.com/users/12439451/unpolygon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 59547748, "answer_count": 1, "score": 1, "last_activity_date": 1577819659, "creation_date": 1577819516, "question_id": 59547735, "link": "https://stackoverflow.com/questions/59547735/settimeout-loop-wait-another-settimeout-loop", "title": "setTimeout loop wait another setTimeout loop", "body": "<p>I want to execute second function after first function is done.<br />\nresult: <br />&emsp;&emsp;&emsp;i: 0,i: 1,...,i: 9,\n<br />&emsp;&emsp;&emsp;j: 0,j: 1,...,j: 9</p>\n\n<pre><code>function first(callback){\n  for(let i = 0 ; i &lt; 10;i++){\n    setTimeout(() =&gt; {\n      console.log('i: ',i);\n    },10*i);\n  }\n  setTimeout(() =&gt; {\n    callback();  \n  },10*i);\n}\n\nfunction second(){\n  for(let j = 0 ; j &lt; 10; j++){\n    setTimeout(() =&gt; {\n      console.log('j: ',j);\n    },10*j);\n  }\n}\n\nfirst(second());\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 557, "user_id": 4758885, "user_type": "registered", "profile_image": "https://graph.facebook.com/454505741370833/picture?type=large", "display_name": "Gang Fang", "link": "https://stackoverflow.com/users/4758885/gang-fang"}, "reply_to_user": {"reputation": 3958, "user_id": 11081214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b53d0cefd959372f49e84b943a1187f?s=128&d=identicon&r=PG&f=1", "display_name": "Snow", "link": "https://stackoverflow.com/users/11081214/snow"}, "edited": false, "score": 0, "creation_date": 1577819706, "post_id": 59547710, "comment_id": 105264525, "body": "@Snow - Sure, here you go <a href=\"https://ww3.fmovie.sc/search-query/superman/\" rel=\"nofollow noreferrer\">ww3.fmovie.sc/search-query/superman</a>. Do let me know if you get any insights from it."}, {"owner": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "edited": false, "score": 0, "creation_date": 1577819825, "post_id": 59547710, "comment_id": 105264553, "body": "the virus source is here <code>https:&#47;&#47;ilivaris.pw&#47;rr44aiahDEp&#47;15863</code>, and its of course heavily obfuscated. it is injected via script tag on the page where you view movies"}, {"owner": {"reputation": 557, "user_id": 4758885, "user_type": "registered", "profile_image": "https://graph.facebook.com/454505741370833/picture?type=large", "display_name": "Gang Fang", "link": "https://stackoverflow.com/users/4758885/gang-fang"}, "reply_to_user": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "edited": false, "score": 0, "creation_date": 1577819946, "post_id": 59547710, "comment_id": 105264579, "body": "@r3wt, thank you so much bro. I am aware of the malicious source. Do you know how the injection is done w/o any onclick?"}, {"owner": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "edited": false, "score": 0, "creation_date": 1577819979, "post_id": 59547710, "comment_id": 105264587, "body": "@GangFang i deobfuscated the source, and there are a couple lines where it walks the document attaching a click listener to every non text node"}, {"owner": {"reputation": 557, "user_id": 4758885, "user_type": "registered", "profile_image": "https://graph.facebook.com/454505741370833/picture?type=large", "display_name": "Gang Fang", "link": "https://stackoverflow.com/users/4758885/gang-fang"}, "reply_to_user": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "edited": false, "score": 0, "creation_date": 1577820077, "post_id": 59547710, "comment_id": 105264613, "body": "@r3wt, wow that&#39;s cool! Did you use any tools for deobfuscation?"}, {"owner": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "edited": false, "score": 1, "creation_date": 1577820591, "post_id": 59547710, "comment_id": 105264713, "body": "i used <a href=\"https://lelinhtinh.github.io/de4js/\" rel=\"nofollow noreferrer\">lelinhtinh.github.io/de4js</a>  but i can&#39;t actually deobfuscate it, however just having the code pretty printed allowed me to find all the malicious stuff it does. its quite alot. i would probably start by base64 decoding the items in the array at top of the script to see what each thing is."}, {"owner": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "edited": false, "score": 1, "creation_date": 1577821343, "post_id": 59547710, "comment_id": 105264873, "body": "after further analysis, i have determined this code was 99.999% likely to have been obfuscated using <a href=\"https://obfuscator.io/\" rel=\"nofollow noreferrer\">obfuscator.io</a>, and there is no known deobfuscator that works on their proprietary obfuscator."}, {"owner": {"reputation": 557, "user_id": 4758885, "user_type": "registered", "profile_image": "https://graph.facebook.com/454505741370833/picture?type=large", "display_name": "Gang Fang", "link": "https://stackoverflow.com/users/4758885/gang-fang"}, "reply_to_user": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "edited": false, "score": 0, "creation_date": 1577838912, "post_id": 59547710, "comment_id": 105267737, "body": "@r3wt - Thanks again, just looked into that and learnt some new stuff!"}], "answers": [{"comments": [{"owner": {"reputation": 557, "user_id": 4758885, "user_type": "registered", "profile_image": "https://graph.facebook.com/454505741370833/picture?type=large", "display_name": "Gang Fang", "link": "https://stackoverflow.com/users/4758885/gang-fang"}, "edited": false, "score": 0, "creation_date": 1577839421, "post_id": 59547809, "comment_id": 105267798, "body": "Thank you so much! I wonder if the script is inserted into the page by bad guys or a part of the site itself. This is inside the body tag: <code>&lt;script data-cfasync=&quot;false&quot; type=&quot;text&#47;javascript&quot; src=&quot;&#47;&#47;ilivaris.pw&#47;rr44aiahDEp&#47;15863&quot;&gt;&lt;&#47;script&gt;</code>"}, {"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "reply_to_user": {"reputation": 557, "user_id": 4758885, "user_type": "registered", "profile_image": "https://graph.facebook.com/454505741370833/picture?type=large", "display_name": "Gang Fang", "link": "https://stackoverflow.com/users/4758885/gang-fang"}, "edited": false, "score": 1, "creation_date": 1577840599, "post_id": 59547809, "comment_id": 105267936, "body": "Looking at the site more closely, I&#39;m pretty sure the whole site is designed to serve malware. <code>This isn&#39;t a video-hosting site that&#39;s been taken over by malware-distributors - it&#39;s a malware distributor site posing as a video-hosting site.</code> The &quot;bad guys&quot; are the creators of the site themselves."}], "tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": false, "score": 3, "last_activity_date": 1577840546, "last_edit_date": 1577840546, "creation_date": 1577820268, "answer_id": 59547809, "question_id": 59547710, "link": "https://stackoverflow.com/questions/59547710/how-to-redirect-users-on-click-no-matter-where-they-click-on-a-page-in-js/59547809#59547809", "title": "How to redirect users on click no matter where they click on a page in JS?", "body": "<p>I think the whole site is a scam designed to serve malware and nothing else. I can't figure out a way to play videos even when the ads and new windows are disabled. The closest I could get was to a \"Play Video\" interface which refused to play but also said \"You must create a Free Account to stream this movie/episode\", which linked somewhere <em>offsite</em> that instructed the user to download malware.</p>\n\n<p>This isn't a video-hosting site that's been taken over by malware-distributors - it's a malware distributor site posing as a video-hosting site.</p>\n\n<p>If you want to prevent it from opening windows, if it were me, I'd write a userscript to monkeypatch the page <em>before</em> the page has a chance to run anything. All you have to do is overwrite <code>window.open</code> with a function that doesn't open a window, and nothing will be opened:</p>\n\n<pre><code>// ==UserScript==\n// @name         No Window Opening\n// @match        https://ww3.fmovie.sc/*\n// @run-at       document-start\n// @grant        none\n// ==/UserScript==\n\nwindow.open = () =&gt; null;\n</code></pre>\n\n<p>You'll need a userscript manager like <a href=\"https://www.tampermonkey.net/\" rel=\"nofollow noreferrer\">Tampermonkey</a>.</p>\n\n<p>The userscript needs to run <em>as soon as possible</em>, before anything on the site loads (otherwise the ad script will be able to take a reference to the original <code>window.open</code> before you overwrite it). If the userscript isn't running in time, it won't work. If this is your experience, go into Tampermonkey settings, open Advanced options, scroll to the bottom, and set (Experimental) Inject Mode to Instant.</p>\n\n<p>The ad script saves a reference to <code>window.open</code> to a top-level variable named <code>glxopen</code>, so another option would be to overwrite <code>window.glxopen</code> with a getter that returns a no-op function, and a setter that does nothing.</p>\n\n<p>Another option would be to completely block the URL / domain that's serving the script with the ads - you could use your preferred version of Adblock to block <code>https://ilivaris.pw/rr44aiahDEp/15863</code>, or add <code>https://ilivaris.pw/</code> to your Hosts file.</p>\n"}, {"comments": [{"owner": {"reputation": 557, "user_id": 4758885, "user_type": "registered", "profile_image": "https://graph.facebook.com/454505741370833/picture?type=large", "display_name": "Gang Fang", "link": "https://stackoverflow.com/users/4758885/gang-fang"}, "edited": false, "score": 0, "creation_date": 1577820588, "post_id": 59547821, "comment_id": 105264712, "body": "Thank you fubar I appreciate it. I did the same thing in Chrome. The problem is the code is obfuscated and in one line so it&#39;s hard to make sense of it."}], "tags": [], "owner": {"reputation": 393, "user_id": 12595279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1757996a838c1da0c078e8b086f6116?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/12595279/fubar"}, "is_accepted": false, "score": 1, "last_activity_date": 1577820371, "creation_date": 1577820371, "answer_id": 59547821, "question_id": 59547710, "link": "https://stackoverflow.com/questions/59547710/how-to-redirect-users-on-click-no-matter-where-they-click-on-a-page-in-js/59547821#59547821", "title": "How to redirect users on click no matter where they click on a page in JS?", "body": "<p>Use the debuger and pause the website so you can see what has been triggered. Here from Firefox. <code>Step in</code> <code>Step over</code> to continue Execution of the page.</p>\n\n<p><a href=\"https://i.stack.imgur.com/crBbj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/crBbj.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 557, "user_id": 4758885, "user_type": "registered", "profile_image": "https://graph.facebook.com/454505741370833/picture?type=large", "display_name": "Gang Fang", "link": "https://stackoverflow.com/users/4758885/gang-fang"}, "is_accepted": false, "score": 0, "last_activity_date": 1577839228, "creation_date": 1577839228, "answer_id": 59549344, "question_id": 59547710, "link": "https://stackoverflow.com/questions/59547710/how-to-redirect-users-on-click-no-matter-where-they-click-on-a-page-in-js/59549344#59549344", "title": "How to redirect users on click no matter where they click on a page in JS?", "body": "<p>It turns out that it could be achieved simply by adding a click event to the whole window. The malicious code probably does just that but it has been obfuscated so it took sometime to find out.</p>\n\n<pre><code>window.addEventListener(\"click\", function(){\n  document.getElementById(\"demo\").innerHTML = sometext;\n});\n</code></pre>\n"}], "owner": {"reputation": 557, "user_id": 4758885, "user_type": "registered", "profile_image": "https://graph.facebook.com/454505741370833/picture?type=large", "display_name": "Gang Fang", "link": "https://stackoverflow.com/users/4758885/gang-fang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1577840546, "creation_date": 1577819314, "question_id": 59547710, "link": "https://stackoverflow.com/questions/59547710/how-to-redirect-users-on-click-no-matter-where-they-click-on-a-page-in-js", "title": "How to redirect users on click no matter where they click on a page in JS?", "body": "<p>I am investigating a piece of malware on a free movie site. The malware redirects user to some other page <strong>no matter where one clicks</strong>. </p>\n\n<p>I tried deleting the header tag, div with main id tag and footer tag and eventually the whole body tag but the redirection was still effective. Therefore I came to conclusion that the malicious func is triggered on click not attached to any specific elements in the HTML.</p>\n\n<p>My question is how is that done?</p>\n\n<p>(if you want to try yourself, just google fmovie)</p>\n"}, {"tags": ["javascript", "vue.js", "ag-grid"], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 12440031, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rhHnqXXeGQk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdb7FNkatFkcNTvpRtLWFIPOdQq7g/photo.jpg?sz=128", "display_name": "Dan", "link": "https://stackoverflow.com/users/12440031/dan"}, "edited": false, "score": 0, "creation_date": 1577823534, "post_id": 59548002, "comment_id": 105265327, "body": "Didn&#39;t work unfortunately - ended up with this result: <a href=\"http://snappyimages.nextwavesrl.netdna-cdn.com/img/7d3f56f2b5d848f71c39e236e0bff928.png\" rel=\"nofollow noreferrer\">snappyimages.nextwavesrl.netdna-cdn.com/img/&hellip;</a>"}, {"owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "reply_to_user": {"reputation": 123, "user_id": 12440031, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rhHnqXXeGQk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdb7FNkatFkcNTvpRtLWFIPOdQq7g/photo.jpg?sz=128", "display_name": "Dan", "link": "https://stackoverflow.com/users/12440031/dan"}, "edited": false, "score": 0, "creation_date": 1577823636, "post_id": 59548002, "comment_id": 105265355, "body": "can you share your gridOptions code just to verify if anyother code is causing this issue"}, {"owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "reply_to_user": {"reputation": 123, "user_id": 12440031, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rhHnqXXeGQk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdb7FNkatFkcNTvpRtLWFIPOdQq7g/photo.jpg?sz=128", "display_name": "Dan", "link": "https://stackoverflow.com/users/12440031/dan"}, "edited": false, "score": 0, "creation_date": 1577825196, "post_id": 59548002, "comment_id": 105265689, "body": "Did you try below line gridOptions: getMainMenuItems: () =&gt; {      return [&#39;generalMenuTab&#39;, &#39;columnsMenuTab&#39;]     }"}, {"owner": {"reputation": 123, "user_id": 12440031, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rhHnqXXeGQk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdb7FNkatFkcNTvpRtLWFIPOdQq7g/photo.jpg?sz=128", "display_name": "Dan", "link": "https://stackoverflow.com/users/12440031/dan"}, "edited": false, "score": 2, "creation_date": 1577826737, "post_id": 59548002, "comment_id": 105265965, "body": "Yes, I took it out because it wasn&#39;t working. I get the following error in the browser console: &quot;unknown menu item type columnsMenuTab&quot; (same for generalMenuTab)"}], "tags": [], "owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "is_accepted": false, "score": 1, "last_activity_date": 1577822043, "creation_date": 1577822043, "answer_id": 59548002, "question_id": 59547706, "link": "https://stackoverflow.com/questions/59547706/menutabs-not-showing-up-in-ag-grid/59548002#59548002", "title": "MenuTabs not showing up in Ag-Grid", "body": "<p>To achieve expected result, use below option of using <code>getMainMenuItems</code> callback instead of <code>menuTabs</code></p>\n\n<pre><code>var gridOptions = {\n    sortable: true\n    resizable: true\n    getMainMenuItems: () =&gt; {\n     return ['generalMenuTab', 'columnsMenuTab']\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123, "user_id": 12440031, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rhHnqXXeGQk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdb7FNkatFkcNTvpRtLWFIPOdQq7g/photo.jpg?sz=128", "display_name": "Dan", "link": "https://stackoverflow.com/users/12440031/dan"}, "is_accepted": true, "score": 0, "last_activity_date": 1578427875, "creation_date": 1578427875, "answer_id": 59635439, "question_id": 59547706, "link": "https://stackoverflow.com/questions/59547706/menutabs-not-showing-up-in-ag-grid/59635439#59635439", "title": "MenuTabs not showing up in Ag-Grid", "body": "<p>MenuTabs are not fully supported on the material theme, which I was using. I've since switched to Balham and now have the menu tabs I want.</p>\n"}], "owner": {"reputation": 123, "user_id": 12440031, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rhHnqXXeGQk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdb7FNkatFkcNTvpRtLWFIPOdQq7g/photo.jpg?sz=128", "display_name": "Dan", "link": "https://stackoverflow.com/users/12440031/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 633, "favorite_count": 0, "accepted_answer_id": 59635439, "answer_count": 2, "score": 0, "last_activity_date": 1578427875, "creation_date": 1577819271, "question_id": 59547706, "link": "https://stackoverflow.com/questions/59547706/menutabs-not-showing-up-in-ag-grid", "title": "MenuTabs not showing up in Ag-Grid", "body": "<p>I'm just trying to get the columns menu tab to show up in Ag-Grid. Nothing complicated. I'd like to have the general tab and the columns tab, like in the demo <a href=\"https://www.ag-grid.com/javascript-grid-grouping/\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>When I set nothing, only the general tab shows up. If I set general and columns, only general shows up. If I set only columns, I get a weird blank bar.</p>\n\n<p>This is with general and columns set:\n<a href=\"https://i.stack.imgur.com/an3fV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/an3fV.jpg\" alt=\"General and columns tab set\"></a></p>\n\n<p>Code (in gridOptions - note that I'm using CoffeeScript)</p>\n\n<pre><code>defaultColDef:\n  sortable: true\n  resizable: true\n  menuTabs: ['generalMenuTab', 'columnsMenuTab']\n</code></pre>\n\n<p>No errors reported in console. Using Vue.js if that matters.</p>\n"}, {"tags": ["javascript", "html", "canvas", "html5-canvas"], "answers": [{"tags": [], "owner": {"reputation": 144312, "user_id": 62076, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/62c90b6f399e6b95554b2da31ca8619a?s=128&d=identicon&r=PG", "display_name": "Alex Wayne", "link": "https://stackoverflow.com/users/62076/alex-wayne"}, "is_accepted": false, "score": 0, "last_activity_date": 1577820229, "creation_date": 1577820229, "answer_id": 59547807, "question_id": 59547679, "link": "https://stackoverflow.com/questions/59547679/how-to-add-a-fade-effect-to-only-certain-elements-on-a-html-canvas/59547807#59547807", "title": "How to add a fade effect to only certain elements on a html canvas", "body": "<p>Canvas is a painting surface. Meaning you can't change it <em>after</em> you paint it. You can only clear it, or paint over it. Just like a real painting, you can't change the color of a stroke you've already painted.</p>\n\n<p>So you must <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/clearRect\" rel=\"nofollow noreferrer\">clear</a> the canvas and then redraw it all, except this time draw some circles with a different opacity. Just change the last number on those <code>rgba</code> values to be between 0 and 1 to change the opacity.</p>\n\n<p>Store opacity in a variable somewhere:</p>\n\n<pre><code>var circleOpacity = 1;\n</code></pre>\n\n<p>Change the opacity and then redraw in your interval function:</p>\n\n<pre><code>circleOpactiy -= 0.2;\ndrawMyCanvas();\n</code></pre>\n\n<p>Now draw the some pieces with a <code>fillStyle</code> something like:</p>\n\n<pre><code>ctx.fillStyle = shouldBeFaded ? `rgba(0,0,0,${circleOpacity})` : 'rgba(0,0,0,1)'\n</code></pre>\n\n<hr>\n\n<p>Alternatively, you could position two canvases absolutely so they are on top of each other and you could fade the top one as you are already doing. That way you won't have to re-render the canvas constantly. If the only thing you want to do is fade some circles, this might be easier. But if you want to anything more complex on that canvas (like render a game of some sort) you'll want to redraw the canvas every frame of animation anyway.</p>\n"}, {"tags": [], "owner": {"reputation": 41032, "user_id": 3877726, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/C7qq2.png?s=128&g=1", "display_name": "Blindman67", "link": "https://stackoverflow.com/users/3877726/blindman67"}, "is_accepted": true, "score": 0, "last_activity_date": 1577978517, "last_edit_date": 1577978517, "creation_date": 1577835207, "answer_id": 59549135, "question_id": 59547679, "link": "https://stackoverflow.com/questions/59547679/how-to-add-a-fade-effect-to-only-certain-elements-on-a-html-canvas/59549135#59549135", "title": "How to add a fade effect to only certain elements on a html canvas", "body": "<p>A great canvas 2d resource is MDN's <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D\" rel=\"nofollow noreferrer\">CanvasRenderingContext2D</a></p>\n\n<h2>Animations using canvas.</h2>\n\n<p>You will need a render loop if you want to animate canvas content.</p>\n\n<p>The render loop is called 60 times a second, if possible, drawing too much and the rate will drop below 60fps.</p>\n\n<p>The main loop clears the canvas, then draws the animated content, then requests the next frame.</p>\n\n<pre><code>requestAnimationFrame(mainLoop);  // request the first frame to start the animation\nfunction mainLoop() {\n    ctx.globalAlpha = 1; // default to 1 in case there is other content drawn\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);  // clear the canvas\n    drawContent(); // render the content.\n    requestAnimationFrame(mainLoop);  // request the next frame (in 1/60th second)\n}\n</code></pre>\n\n<p>A function to draw the circle. You can remove the alpha from the color and use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalAlpha\" rel=\"nofollow noreferrer\"><code>globalAlpha</code></a> to set the transparency.</p>\n\n<pre><code>Math.TAU = Math.PI * 2;  // set up 2 PI\nfunction drawCircle(x, y, radius, color, alpha = 1) {\n    ctx.globalAlpha = alpha;\n    ctx.fillStyle = color;\n    ctx.strokeStyle = \"#000\"; \n    ctx.lineWidth = 4;\n    ctx.beginPath();\n    ctx.arc(x, y, radius, 0, Math.TAU);\n    ctx.fill();\n    ctx.stroke();\n}\n</code></pre>\n\n<p>Create an object to hold a circle's description and an array to put them in</p>\n\n<pre><code>const circles = [];\nfunction circle(x,y,r = 10, col = \"#FFF\", alpha = 1) {\n    return {x, y, r, col, alpha, alphaTarget: alpha};\n}\n</code></pre>\n\n<p>Then in the <code>drawContent</code> function draw the circles one at a time</p>\n\n<pre><code>function drawContent() {\n    for (const circle of circles) {\n        if(circle.alpha !== circle.alphaTarget) {\n           const aStep = circle.alphaTarget - circle.alpha;\n           const dir = Math.sign(aStep);\n           circle.alpha += Math.min(Math.abs(aStep), dir * 0.02)) * dir;\n        }  \n        drawCircle(circle.x, circle.y, circle.r, circle.col, circle.alpha);\n    }\n }\n</code></pre>\n\n<h2>Demo</h2>\n\n<p>The demo draws 100 circles each with their own color and alpha. The alpha is randomly selected to fade out and then back in.</p>\n\n<p>You will need a render loop if you want to animate canvas content.</p>\n\n<p>I move the circle so that if a device is to slow to render the content then it will be easier to see the low frame rate.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Math.TAU = Math.PI * 2;  // set up 2 PI\r\nMath.rand = (val) =&gt; Math.random() * val;\r\nMath.randI = (val) =&gt; Math.random() * val | 0;\r\nrequestAnimationFrame(mainLoop);  \r\n\r\nconst ctx = canvas.getContext(\"2d\");\r\nconst W = canvas.width = innerWidth; // size canvas to page\r\nconst H = canvas.height = innerHeight; // size canvas to page\r\nconst circleCount = 100;\r\nconst circleFadeRate = 0.01; // per 60th second\r\n\r\nconst circles = [];\r\nconst circle = (x,y,r = 10, col = \"#FFF\", alpha = 1) =&gt; ({x, y, r, col, alpha, alphaTarget: alpha});\r\ncreateCircles();\r\nfunction createCircles() {\r\n    var i = circleCount;\r\n    while (i--) {\r\n        circles.push(circle(Math.rand(W), Math.rand(H), Math.rand(10) + 10, \"#\" + Math.randI(0xFFF).toString(16).padStart(3,\"0\"), 1));\r\n     }\r\n     circles.sort((a,b) =&gt; a.r - b.r); // big drawn last\r\n}\r\nfunction mainLoop() {\r\n    ctx.globalAlpha = 1;\r\n    ctx.clearRect(0, 0, W, H);  \r\n    drawContent(); \r\n    requestAnimationFrame(mainLoop); \r\n}\r\nfunction drawCircle(x, y, radius, color, alpha = 1) {\r\n    ctx.globalAlpha = alpha;\r\n    ctx.fillStyle = color;\r\n    ctx.strokeStyle = \"#000\";\r\n    ctx.lineWidth = 2;\r\n    ctx.beginPath();\r\n    ctx.arc(x, y, radius, 0, Math.TAU);\r\n    ctx.fill();\r\n    ctx.stroke();\r\n}\r\nfunction drawContent() {\r\n    for (const circle of circles) {\r\n        if(circle.alpha !== circle.alphaTarget) {\r\n           const aStep = circle.alphaTarget - circle.alpha;\r\n           const dir = Math.sign(aStep);\r\n           circle.alpha += Math.min(Math.abs(aStep), 0.02) * dir;\r\n        } else if(Math.random() &lt; 0.01) {\r\n           circle.alphaTarget = circle.alpha &lt; 0.7 ? 1 : Math.random() * 0.4;\r\n        }\r\n        circle.y += (circle.r - 10) / 5;\r\n        circle.y = circle.y &gt; H + circle.r + 2 ? -(circle.r + 2) : circle.y;\r\n        drawCircle(circle.x, circle.y, circle.r, circle.col, circle.alpha);\r\n    }\r\n }</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n   padding: 0px;\r\n}\r\ncanvas {\r\n   position: absolute;\r\n   top: 0px;\r\n   left: 0px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"canvas\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>For more information on the 2D canvas API see the link at top of this answer.</p>\n"}], "owner": {"reputation": 81, "user_id": 12342320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8457dc4063be789cf3e3ecfbc37b8f56?s=128&d=identicon&r=PG&f=1", "display_name": "nad34", "link": "https://stackoverflow.com/users/12342320/nad34"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 59549135, "answer_count": 2, "score": 0, "last_activity_date": 1577978517, "creation_date": 1577819070, "question_id": 59547679, "link": "https://stackoverflow.com/questions/59547679/how-to-add-a-fade-effect-to-only-certain-elements-on-a-html-canvas", "title": "How to add a fade effect to only certain elements on a html canvas", "body": "<p>I have a canvas with multiple circles in different colours and I want add a fade out effect only to some circles. The effect is only applicable to the ones in red and green.</p>\n\n<p>The code is as follows</p>\n\n<pre><code>function drawPiece(pieceX, pieceY, color) {\n\nif (color === \"rgba(0,0,0,1)\" || color === \"rgba(255,255,255,1)\"){\n\n\n    ctx.beginPath();\n    ctx.fillStyle = color;\n    ctx.arc(pieceX, pieceY, 50, 0, 2 * Math.PI, false);\n    ctx.fill();\n    ctx.lineWidth = \"4\";\n    ctx.strokeStyle = \"rgba(0,0,0,1)\";\n    ctx.stroke();\n    ctx.closePath();\n}\nelse {\n    ctx.beginPath();\n    ctx.fillStyle = color;\n    ctx.arc(pieceX, pieceY, 10, 0, 2 * Math.PI, false);\n    ctx.fill();\n    ctx.lineWidth = \"4\";\n    ctx.strokeStyle = \"rgba(0,0,0,1)\";\n    ctx.stroke();\n    ctx.closePath();\n    setTimeout(function(){\n        var fadeTarget = document.getElementById(\"canvasGame\");\n        var fadeEffect = setInterval(function () {\n            if (!fadeTarget.style.opacity) {\n                fadeTarget.style.opacity = 1;\n            }\n            if (fadeTarget.style.opacity &gt; 0) {\n                fadeTarget.style.opacity -= 0.02;\n            } else {\n                clearInterval(fadeEffect);\n            }\n        }, 20);\n    },0.5);\n\n}\n\n\n}\n</code></pre>\n\n<p>The fade effect works but it fades out the whole canvas and not the individual circles.</p>\n\n<p>How can I achieve this, that only some elements are faded out.</p>\n\n<p>Thanks in advance </p>\n"}, {"tags": ["javascript", "arrays", "node.js", "object"], "comments": [{"owner": {"reputation": 161, "user_id": 10038165, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EP0T--rFTL0/AAAAAAAAAAI/AAAAAAAAAIU/fi7JaGDZs1g/photo.jpg?sz=128", "display_name": "Jaime M", "link": "https://stackoverflow.com/users/10038165/jaime-m"}, "edited": false, "score": 1, "creation_date": 1577818823, "post_id": 59547633, "comment_id": 105264357, "body": "I would try using map to iterate over the list and return a new list formatted as you want."}, {"owner": {"reputation": 1194, "user_id": 2777954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08fabe1577988347877cf82be6d0335?s=128&d=identicon&r=PG", "display_name": "August Miller", "link": "https://stackoverflow.com/users/2777954/august-miller"}, "edited": false, "score": 1, "creation_date": 1577821484, "post_id": 59547633, "comment_id": 105264900, "body": "A couple of the answers have suggested using a keyed Object for your resulting data. I think the recommendation is good, and would advise that you consider how important the resulting &quot;shape&quot; (per @tex) of the data is to the eventual output."}], "answers": [{"comments": [{"owner": {"reputation": 425, "user_id": 2455162, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/27L47.jpg?s=128&g=1", "display_name": "greatTeacherOnizuka", "link": "https://stackoverflow.com/users/2455162/greatteacheronizuka"}, "edited": false, "score": 0, "creation_date": 1577828383, "post_id": 59547752, "comment_id": 105266239, "body": "this looks great but why do you prefer the object vs the array structure?"}, {"owner": {"reputation": 2646, "user_id": 40751, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VVvwi.jpg?s=128&g=1", "display_name": "tex", "link": "https://stackoverflow.com/users/40751/tex"}, "reply_to_user": {"reputation": 425, "user_id": 2455162, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/27L47.jpg?s=128&g=1", "display_name": "greatTeacherOnizuka", "link": "https://stackoverflow.com/users/2455162/greatteacheronizuka"}, "edited": false, "score": 0, "creation_date": 1577829415, "post_id": 59547752, "comment_id": 105266425, "body": "@greatTeacherOnizuka Thanks! I added some notes about why I prefer the object to the array in the answer. Let me know if you have any other questions, and I&#39;ll do my best to answer them."}, {"owner": {"reputation": 425, "user_id": 2455162, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/27L47.jpg?s=128&g=1", "display_name": "greatTeacherOnizuka", "link": "https://stackoverflow.com/users/2455162/greatteacheronizuka"}, "edited": false, "score": 0, "creation_date": 1577831869, "post_id": 59547752, "comment_id": 105266849, "body": "how do you go for printing all the entries of the object assuming you don&#39;t know the value of the key? I end up with something like  <code>Object.keys(transformed).map(        key =&gt; {            console.log(`${key} : ${transformed[key]}`)            Object.keys(transformed[key]).forEach(k=&gt;{            {(Object.values(transformed[key]).map(el =&gt; el.map(console.log(el.match_id)}          });                  }      )</code>   which doesnt look right. PS I am using React so you can just write in JSX if you prefer"}, {"owner": {"reputation": 425, "user_id": 2455162, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/27L47.jpg?s=128&g=1", "display_name": "greatTeacherOnizuka", "link": "https://stackoverflow.com/users/2455162/greatteacheronizuka"}, "edited": false, "score": 0, "creation_date": 1577832066, "post_id": 59547752, "comment_id": 105266883, "body": "I am trying to have a structure that looks like &lt;H1&gt;England&lt;/H1&gt;&lt;H2&gt;PREMIER LEAGUE&lt;/H2&gt; &lt;P&gt;{MATCH_ID}&lt;/P&gt;..."}, {"owner": {"reputation": 2646, "user_id": 40751, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VVvwi.jpg?s=128&g=1", "display_name": "tex", "link": "https://stackoverflow.com/users/40751/tex"}, "reply_to_user": {"reputation": 425, "user_id": 2455162, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/27L47.jpg?s=128&g=1", "display_name": "greatTeacherOnizuka", "link": "https://stackoverflow.com/users/2455162/greatteacheronizuka"}, "edited": false, "score": 0, "creation_date": 1577843541, "post_id": 59547752, "comment_id": 105268224, "body": "@greatTeacherOnizuka added a React snippet to show how you might generate your desired output from the intermediate object data structure."}], "tags": [], "owner": {"reputation": 2646, "user_id": 40751, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VVvwi.jpg?s=128&g=1", "display_name": "tex", "link": "https://stackoverflow.com/users/40751/tex"}, "is_accepted": true, "score": 2, "last_activity_date": 1577844492, "last_edit_date": 1577844492, "creation_date": 1577819704, "answer_id": 59547752, "question_id": 59547633, "link": "https://stackoverflow.com/questions/59547633/transform-an-array-of-objects-structure/59547752#59547752", "title": "Transform an array of objects structure", "body": "<p>I've provided two solutions - one that returns an object keyed by country and league names (this would be my preference / recommendation) and one that extends the first solution to return the shape you requested.</p>\n\n<p>This first snippet transforms your input into an object keyed by country and league names:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [{match_id: \"255232\",country_id: \"41\",country_name: \"England\",league_id: \"152\",league_name: \"National League\",match_date: \"2020-01-01\",match_status: \"\",match_time: \"16:00\"},{match_id: \"255233\",country_id: \"41\",country_name: \"Italy\",league_id: \"152\",league_name: \"Serie a\",match_date: \"2020-01-01\",match_status: \"\",match_time: \"16:00\"},{match_id: \"255234\",country_id: \"41\",country_name: \"Italy\",league_id: \"152\",league_name: \"Serie a\",match_date: \"2020-01-01\",match_status: \"\",match_time: \"16:00\"}]\r\n\r\nconst transformed = data.reduce(\r\n  (acc, { country_name, league_name, ...match }) =&gt; {\r\n    acc[country_name] = acc[country_name] || {}\r\n    acc[country_name][league_name] = acc[country_name][league_name] || []\r\n    acc[country_name][league_name].push(match)\r\n    return acc\r\n  },\r\n  {}\r\n)\r\n\r\nconsole.log(transformed)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This second snippet extends the first one, returning the shape you requested, originally:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [{match_id: \"255232\",country_id: \"41\",country_name: \"England\",league_id: \"152\",league_name: \"National League\",match_date: \"2020-01-01\",match_status: \"\",match_time: \"16:00\"},{match_id: \"255233\",country_id: \"41\",country_name: \"Italy\",league_id: \"152\",league_name: \"Serie a\",match_date: \"2020-01-01\",match_status: \"\",match_time: \"16:00\"},{match_id: \"255234\",country_id: \"41\",country_name: \"Italy\",league_id: \"152\",league_name: \"Serie a\",match_date: \"2020-01-01\",match_status: \"\",match_time: \"16:00\"}]\r\n\r\nconst tmp = data.reduce(\r\n  (acc, { country_name, league_name, ...match }) =&gt; {\r\n    acc[country_name] = acc[country_name] || {}\r\n    acc[country_name][league_name] = acc[country_name][league_name] || []\r\n    acc[country_name][league_name].push(match)\r\n    return acc\r\n  },\r\n  {}\r\n)\r\n\r\nconst transformed = Object.entries(tmp).map(\r\n  ([country_name, leagues]) =&gt; ({\r\n      country_name,\r\n      entries: Object.entries(leagues).map(\r\n        ([league_name, events]) =&gt; ({ league_name, events })\r\n      )\r\n  })\r\n)\r\n\r\nconsole.log(transformed)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>There are a few reasons I prefer the keyed object to the array:</p>\n\n<ol>\n<li>There's less nesting in the keyed object, and it will be smaller when stringified.</li>\n<li>It's easier to get all entries for a country and/or a country + league from the object (e.g. <code>transformed.England[\"National League\"]</code>).</li>\n<li>It's less work to generate the object.</li>\n<li>One entry per country means the 'correct' data structure is <code>Map</code> (correct in most but not necessarily all cases). The object is a better approximation of a <code>Map</code> than the array.</li>\n</ol>\n\n<p>I use (and teach) a similar technique with success in <code>redux</code>. Rather than just storing an array of objects returned by an API, I also store an object based on the array that is indexed by the objects' ids. It's much easier to work with this object than it is with the raw array in many cases:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const arr = [{ id: 'a', foo: 'bar' }, { id: 'b', foo: 'baz' }]\nconst obj = { a: { foo: 'bar' }, b: { foo: 'baz' } }\n</code></pre>\n\n<p>Here's a quick snippet showing how to go from the object to your desired React output, if it turns out the object is a useful intermediate data structure:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const { Fragment } = React\r\n\r\nconst data = [{match_id: \"255232\",country_id: \"41\",country_name: \"England\",league_id: \"152\",league_name: \"National League\",match_date: \"2020-01-01\",match_status: \"\",match_time: \"16:00\"},{match_id: \"255233\",country_id: \"41\",country_name: \"Italy\",league_id: \"152\",league_name: \"Serie a\",match_date: \"2020-01-01\",match_status: \"\",match_time: \"16:00\"},{match_id: \"255234\",country_id: \"41\",country_name: \"Italy\",league_id: \"152\",league_name: \"Serie a\",match_date: \"2020-01-01\",match_status: \"\",match_time: \"16:00\"}]\r\n\r\nconst transformed = data.reduce(\r\n  (acc, { country_name, league_name, ...match }) =&gt; {\r\n    acc[country_name] = acc[country_name] || {}\r\n    acc[country_name][league_name] = acc[country_name][league_name] || []\r\n    acc[country_name][league_name].push(match)\r\n    return acc\r\n  },\r\n  {}\r\n)\r\n\r\nconst League = ({ league, matches }) =&gt; (\r\n  &lt;Fragment&gt;\r\n    &lt;h2&gt;{league}&lt;/h2&gt;\r\n    {matches.map(({ match_id }) =&gt; (&lt;p&gt;{match_id}&lt;/p&gt;))}\r\n  &lt;/Fragment&gt;\r\n)\r\n\r\nReactDOM.render(\r\n  Object.entries(transformed).map(([country, leagues]) =&gt; (\r\n    &lt;Fragment&gt;\r\n      &lt;h1&gt;{country}&lt;/h1&gt;\r\n      {Object.entries(leagues).map(([league, matches]) =&gt; (\r\n        &lt;League league={league} matches={matches} /&gt;\r\n      ))}\r\n    &lt;/Fragment&gt;\r\n  )),\r\n  document.body\r\n)</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/16.6.3/umd/react.production.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.6.3/umd/react-dom.production.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"react\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1194, "user_id": 2777954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08fabe1577988347877cf82be6d0335?s=128&d=identicon&r=PG", "display_name": "August Miller", "link": "https://stackoverflow.com/users/2777954/august-miller"}, "is_accepted": false, "score": 1, "last_activity_date": 1577821250, "last_edit_date": 1577821250, "creation_date": 1577820873, "answer_id": 59547877, "question_id": 59547633, "link": "https://stackoverflow.com/questions/59547633/transform-an-array-of-objects-structure/59547877#59547877", "title": "Transform an array of objects structure", "body": "<p>This seems like a use case for a <code>for</code> loop, that creates or <code>push</code>es each \"result\" into the appropriate Country index, then uses similar logic to organize the matches for each country by League. The code below is pretty verbose-- if you use a utility library like Lodash, you can achieve some of this much more succinctly via something like <code>groupBy</code> (although, that would produce an object instead of an array).</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const results = [/* ...your original data... */];\nconst resultsByCountry = [];\n\n// The first loop just indexes the matches by Country:\nfor (let r = 0; r &lt; results.length; r++) {\n  let result = results[r];\n  let existingCountryIndex = resultsByCountry.findIndex((country) =&gt; country.country_name == result.country_name);\n\n  // Temporarily, we're just stashing the matches flat, here. We'll take another pass to group them into leagues, once we know they're all sorted into the right countries:\n  if (existingCountryIndex &gt; -1) {\n    resultsByCountry[existingCountryIndex].entries.push(result);\n  } else {\n    resultsByCountry.push({\n      country_name: result.country_name,\n      entries: [result]\n    });\n  }\n}\n\n\n// The second loop organizes the matches into leagues, by a very similar means:\nfor (let c = 0; c &lt; resultsByCountry.length; c++) {\n  const country = resultsByCountry[c]\n  let matches = country.entries;\n  let matchesByLeague = [];\n\n  for (let m = 0; m &lt; matches.length; m++) {\n    let match = matches[m];\n    let existingLeagueIndex = matchesByLeague.findIndex((league) =&gt; league.league_name == match.league_name);\n\n    if (existingLeagueIndex &gt; -1) {\n      matchesByLeague[existingLeagueIndex].events.push(match);\n    } else {\n      matchesByLeague.push({\n        league_name: match.league_name,\n        events: [match]\n      });\n    }\n  }\n\n  // Overwrite the old `entries` key with the grouped array:\n  country.entries = matchesByLeague;\n}\n\nconsole.log(resultsByCountry);\n</code></pre>\n\n<blockquote>\n  <p>Again, this is pretty crude. There is probably a way to implement it with <code>map</code> and <code>reduce</code>, but because the data structure is unusual, and the question specifically asked about transforming from an array to an array (not an object), I've provided this as a simple + explicit answer.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 2, "last_activity_date": 1577822462, "last_edit_date": 1577822462, "creation_date": 1577822085, "answer_id": 59548010, "question_id": 59547633, "link": "https://stackoverflow.com/questions/59547633/transform-an-array-of-objects-structure/59548010#59548010", "title": "Transform an array of objects structure", "body": "<p>You could store all information for building nested group/value pairs and take an array for all keys for the final objects and reduce the array by reducing the group array.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = [{ match_id: \"255232\", country_id: \"41\", country_name: \"England\", league_id: \"152\", league_name: \"National League\", match_date: \"2020-01-01\", match_status: \"\", match_time: \"16:00\" }, { match_id: \"255232\", country_id: \"41\", country_name: \"Italy\", league_id: \"152\", league_name: \"Serie a\", match_date: \"2020-01-01\", match_status: \"\", match_time: \"16:00\" }, { match_id: \"255232\", country_id: \"41\", country_name: \"Italy\", league_id: \"153\", league_name: \"Serie b\", match_date: \"2020-01-01\", match_status: \"\", match_time: \"16:00\" }],\r\n    groups = [['country_name', 'entries'], ['league_name', 'events']],\r\n    values = ['match_date', 'match_status', 'match_time'],\r\n    result = data.reduce((r, o) =&gt; {\r\n        groups\r\n            .reduce((group, [key, values]) =&gt; {\r\n                var temp = group.find(q =&gt; q[key] === o[key]);\r\n                if (!temp) group.push(temp = { [key]: o[key], [values]: [] });\r\n                return temp[values];\r\n            }, r)\r\n            .push(Object.assign(...values.map(k =&gt; ({ [k]: o[k] }))));\r\n        return r;\r\n    }, []);\r\n\r\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1112, "user_id": 5278079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6186337f21a9aac5c1ef7d1bc1ddf19d?s=128&d=identicon&r=PG&f=1", "display_name": "Sm Srikanth", "link": "https://stackoverflow.com/users/5278079/sm-srikanth"}, "is_accepted": false, "score": 0, "last_activity_date": 1577824823, "creation_date": 1577824823, "answer_id": 59548295, "question_id": 59547633, "link": "https://stackoverflow.com/questions/59547633/transform-an-array-of-objects-structure/59548295#59548295", "title": "Transform an array of objects structure", "body": "<pre><code>const map1 = {};\nconst list = matches.map(match =&gt; {\n  if (!map1[match.country_name]) {\n    map1[match.country_name] = {};\n  }\n  map1[match.country_name][\"entries\"] =\n    map1[match.country_name][\"entries\"] &amp;&amp;\n    map1[match.country_name][\"entries\"].length &gt; 0\n      ? map1[match.country_name][\"entries\"].concat(match)\n      : [match];\n});\n\nconst result = [];\nObject.keys(map1).forEach(country =&gt; {\n  const m = {};\n  m[\"country_name\"] = country;\n  m[\"entries\"] = [];\n  const entries = map1[country][\"entries\"];\n\n  entries.forEach(entry =&gt; {\n    m[\"entries\"].push({\n      league_name: entry.league_name,\n      events: entry\n    });\n  });\n\n  result.push(m);\n});\n// result has the required info.\n</code></pre>\n"}], "owner": {"reputation": 425, "user_id": 2455162, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/27L47.jpg?s=128&g=1", "display_name": "greatTeacherOnizuka", "link": "https://stackoverflow.com/users/2455162/greatteacheronizuka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 59547752, "answer_count": 4, "score": 1, "last_activity_date": 1577844492, "creation_date": 1577818593, "last_edit_date": 1577819375, "question_id": 59547633, "link": "https://stackoverflow.com/questions/59547633/transform-an-array-of-objects-structure", "title": "Transform an array of objects structure", "body": "<p>At the moment I am working with an api that returns an array of objects that looks like</p>\n\n<pre><code>[{match_id: \"255232\",\ncountry_id: \"41\",\ncountry_name: \"England\",\nleague_id: \"152\",\nleague_name: \"National League\",\nmatch_date: \"2020-01-01\",\nmatch_status: \"\",\nmatch_time: \"16:00\"},\n{match_id: \"255232\",\n    country_id: \"41\",\n    country_name: \"Italy\",\n    league_id: \"152\",\n    league_name: \"Serie a\",\n    match_date: \"2020-01-01\",\n    match_status: \"\",\n    match_time: \"16:00\"},\n{match_id: \"255232\",\n        country_id: \"41\",\n        country_name: \"Italy\",\n        league_id: \"153\",\n        league_name: \"Serie b\",\n        match_date: \"2020-01-01\",\n        match_status: \"\",\n        match_time: \"16:00\"},...\n    ...\n\n]\n</code></pre>\n\n<p>I would like to transform it in a way that ends up looking like:</p>\n\n<pre><code>const transformed = [\n{\n    country_name: \"England\",\n    entries: [\n        {league_name: \"National League\",\n        events: [{},{}]}\n    ]\n\n},\n{country_name: \"Italy\",\nentries: [\n    {\n        league_name: \"Serie a\",\n        events: [{},{}]\n    },\n    {\n        league_name: \"Serie b\",\n        events: [{},{}]\n    }...\n]]\n</code></pre>\n\n<p>I have tried to use .reduce but did not end up with expected output and I end up with just a reverted structure. Basically what I need is to catalogue by country_name first and league_name second.</p>\n\n<p>Obviously the data is dynamic and the names of countries/leagues change often.</p>\n"}, {"tags": ["javascript", "regex", "string"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1577818765, "post_id": 59547625, "comment_id": 105264344, "body": "<code>bitrate[2]</code> is a string, not a number, so the resulting operation is concatenation, not addition."}, {"owner": {"reputation": 3441, "user_id": 1064270, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ae57f6f876de8a169f3670a39bf13332?s=128&d=identicon&r=PG&f=1", "display_name": "Ga&#235;l", "link": "https://stackoverflow.com/users/1064270/ga%c3%abl"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1577818943, "post_id": 59547625, "comment_id": 105264387, "body": "You are right, it was just concatenation!"}], "answers": [{"comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1577818818, "post_id": 59547643, "comment_id": 105264355, "body": "<code>parseInt(bitrate[1] * 1000)</code> the inner expression will already produce a number, no need to parse it."}], "tags": [], "owner": {"reputation": 4693, "user_id": 5501536, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/50b9ab14ab8699a3862c14ee48126abe?s=128&d=identicon&r=PG&f=1", "display_name": "chevybow", "link": "https://stackoverflow.com/users/5501536/chevybow"}, "is_accepted": false, "score": -2, "last_activity_date": 1577818740, "creation_date": 1577818740, "answer_id": 59547643, "question_id": 59547625, "link": "https://stackoverflow.com/questions/59547625/addition-of-two-strings-gives-unintended-result/59547643#59547643", "title": "Addition of two strings gives unintended result", "body": "<p>You can parse them as ints instead of manipulating strings</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var str= \"Bit rate                                 : 5 333 kb/s\"\r\n\r\nvar bitrate= str.match(/Bit\\srate\\s*:\\s([0-9]*)\\s([0-9]*)\\s/);\r\nconsole.log(bitrate);\r\n\r\nconsole.log(parseInt(bitrate[1] * 1000) + parseInt(bitrate[2]));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 3958, "user_id": 11081214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b53d0cefd959372f49e84b943a1187f?s=128&d=identicon&r=PG&f=1", "display_name": "Snow", "link": "https://stackoverflow.com/users/11081214/snow"}, "is_accepted": false, "score": -1, "last_activity_date": 1577818742, "creation_date": 1577818742, "answer_id": 59547644, "question_id": 59547625, "link": "https://stackoverflow.com/questions/59547625/addition-of-two-strings-gives-unintended-result/59547644#59547644", "title": "Addition of two strings gives unintended result", "body": "<p>Here, the second captured group <em>just so happens</em> to be 3 characters long, so multiplying the first captured group by 1000 and adding it to the second group will <em>just so happen</em> to produce the same result as plain concatenation.</p>\n\n<p>But you have to add them together properly first. Your second attempt isn't working properly because the right-hand side of the <code>+</code> is a string, and a number <code>+</code> a string results in concatenation, not addition:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var str = \"Bit rate                                 : 5 333 kb/s\"\r\n\r\nvar bitrate = str.match(/Bit\\srate\\s*:\\s([0-9]*)\\s([0-9]*)\\s/);\r\nconsole.log(bitrate[1] * 1000 + Number(bitrate[2]));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If the input isn't guaranteed to have exactly 3 digits in the second capturing group, the concatenation method won't work.</p>\n"}], "owner": {"reputation": 3441, "user_id": 1064270, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ae57f6f876de8a169f3670a39bf13332?s=128&d=identicon&r=PG&f=1", "display_name": "Ga&#235;l", "link": "https://stackoverflow.com/users/1064270/ga%c3%abl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "closed_date": 1577818914, "answer_count": 2, "score": 0, "last_activity_date": 1577818773, "creation_date": 1577818529, "last_edit_date": 1577818773, "question_id": 59547625, "link": "https://stackoverflow.com/questions/59547625/addition-of-two-strings-gives-unintended-result", "closed_reason": "Duplicate", "title": "Addition of two strings gives unintended result", "body": "<p>I would like to get a numeric value in a string which is in the format <code>1 111</code>. </p>\n\n<p>I used a regex to extract it: \n<code>([0-9]*)\\s([0-9]*)</code></p>\n\n<p>then I thought that I will obtain the correct result with this operation: \n<code>regex_result[1]*1000+regex_result[2]</code></p>\n\n<p>But actually I just have to addition them and I do not understand why. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var str= \"Bit rate                                 : 5 333 kb/s\"\r\n\r\nvar bitrate= str.match(/Bit\\srate\\s*:\\s([0-9]*)\\s([0-9]*)\\s/);\r\nconsole.log(bitrate);\r\n\r\n//attempted result, but incorrect code\r\nconsole.log(bitrate[1]+bitrate[2]);\r\n\r\n//attempted correct code, but wrong result\r\nconsole.log(bitrate[1]*1000+bitrate[2]);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 24311, "user_id": 19856, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/INXtX.jpg?s=128&g=1", "display_name": "Traveling Tech Guy", "link": "https://stackoverflow.com/users/19856/traveling-tech-guy"}, "edited": false, "score": 0, "creation_date": 1577820233, "post_id": 59547663, "comment_id": 105264649, "body": "This works well! However, for design/CSS purposes, I don&#39;t really want to add an extra <code>div</code> there. Is there a way to add just the <code>onclick</code> event around the children, without an actual element?"}, {"owner": {"reputation": 3387, "user_id": 3359473, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/52c45ab3bf02f7f49e7ec28ae1b84319?s=128&d=identicon&r=PG&f=1", "display_name": "0xc14m1z", "link": "https://stackoverflow.com/users/3359473/0xc14m1z"}, "reply_to_user": {"reputation": 24311, "user_id": 19856, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/INXtX.jpg?s=128&g=1", "display_name": "Traveling Tech Guy", "link": "https://stackoverflow.com/users/19856/traveling-tech-guy"}, "edited": false, "score": 1, "creation_date": 1577877129, "post_id": 59547663, "comment_id": 105272617, "body": "Yes, you can clone the element(s) using <code>React.cloneElement</code> and replace the <code>onClick</code> handler with your stuff. Be careful though to keep track of other click handlers set by the user and to call those at the end of your <code>onClick</code> handler passing down the event. If you need more help, I&#39;m here. Oh, and Happy New Year."}], "tags": [], "owner": {"reputation": 3387, "user_id": 3359473, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/52c45ab3bf02f7f49e7ec28ae1b84319?s=128&d=identicon&r=PG&f=1", "display_name": "0xc14m1z", "link": "https://stackoverflow.com/users/3359473/0xc14m1z"}, "is_accepted": true, "score": 2, "last_activity_date": 1577819312, "last_edit_date": 1577819312, "creation_date": 1577818880, "answer_id": 59547663, "question_id": 59547604, "link": "https://stackoverflow.com/questions/59547604/how-can-i-add-an-event-to-a-child-component/59547663#59547663", "title": "How can I add an event to a child component?", "body": "<p>You can wrap your <code>children</code> with something, like a <code>div</code>, who can listen for your event, something like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export default ({soundName, ...children}) =&gt; {\n    const sound = require(`../sounds/${soundName}.mp3`);\n    const soundRef = useRef(null);\n    const playSound = () =&gt; {\n        soundRef.current.play();\n    }\n\n    return &lt;&gt;\n        &lt;audio ref={soundRef}&gt;&lt;source src={sound} /&gt;&lt;/audio&gt;\n        &lt;div onClick={ playSound\u00a0}&gt;\n            {children}    // &lt;--- this is where I need to somehow add the event\n        &lt;/div&gt;\n    &lt;/&gt;\n}\n\n</code></pre>\n\n<p>I think this covers most of your cases.</p>\n\n<p>There might be a children which intercept the event before the <code>Audio</code> component and prevent the event propagation to the parent, something like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;Audio soundName=\"bird\"&gt;\n    &lt;img\n        src=\"bird.png\"\n        onClick={ event =&gt; {\n            doSomethingOnThisImageClick()\n            event.stopPropagation()\n        }}\n    /&gt;\n&lt;/Audio&gt;\n</code></pre>\n\n<p>If you know that this case might happen but you still want to play the file no matter what, you need to recognize the event in its capture phase, BEFORE the child component even know it, using the <code>Capture</code> variant of the event name, like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export default ({soundName, ...children}) =&gt; {\n    const sound = require(`../sounds/${soundName}.mp3`);\n    const soundRef = useRef(null);\n    const playSound = () =&gt; {\n        soundRef.current.play();\n    }\n\n    return &lt;&gt;\n        &lt;audio ref={soundRef}&gt;&lt;source src={sound} /&gt;&lt;/audio&gt;\n\n        { /*      notice here?     */ }\n        { /*           |           */ }\n        { /*           v           */ }\n        &lt;div onClickCapture={ playSound\u00a0}&gt;\n            {children}\n        &lt;/div&gt;\n    &lt;/&gt;\n}\n\n</code></pre>\n"}], "owner": {"reputation": 24311, "user_id": 19856, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/INXtX.jpg?s=128&g=1", "display_name": "Traveling Tech Guy", "link": "https://stackoverflow.com/users/19856/traveling-tech-guy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 59547663, "answer_count": 1, "score": 0, "last_activity_date": 1577819312, "creation_date": 1577818290, "question_id": 59547604, "link": "https://stackoverflow.com/questions/59547604/how-can-i-add-an-event-to-a-child-component", "title": "How can I add an event to a child component?", "body": "<p>I'd like certain elements on my site to emit a sound when clicked. I easily did that by adding an <code>audio</code> element with a <code>ref</code>, and a function that plays the <code>ref</code>s sound <code>onClick</code>.</p>\n\n<pre><code>const sound = require('../sounds/bird.mp3');\nconst soundRef = useRef(null);\nconst playSound = () =&gt; {\n    soundRef.current.play();\n}\n\nreturn &lt;div&gt;\n    &lt;audio ref={soundRef}&gt;&lt;source src={sound} /&gt;&lt;/audio&gt;\n    &lt;img src=\"bird.png\" onClick={playSound} /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Since I now found out I may need to reuse this, I decided to create an <code>Audio</code> component to encapsulate the clicked element. I'd like it to receive the sound's file name as a property:</p>\n\n<pre><code>&lt;Audio soundName=\"bird\"&gt;\n    &lt;div&gt;&lt;img src=\"bird.png\" /&gt;&lt;/div&gt;\n&lt;/Audio&gt;\n</code></pre>\n\n<p>My problem is: in the <code>Audio</code> component, I get the <code>soundName</code> and <code>children</code> props and render the <code>{children</code>, but how do I add an <code>onClick</code> even to the child element, so it would trigger the <code>Audio</code> element <code>playSound</code> function?</p>\n\n<p>What I currently have in the <code>Audio</code> component:</p>\n\n<pre><code>export default ({soundName, ...children}) =&gt; {\n    const sound = require(`../sounds/${soundName}.mp3`);\n    const soundRef = useRef(null);\n    const playSound = () =&gt; {\n        soundRef.current.play();\n    }\n\n    return &lt;&gt;\n        &lt;audio ref={soundRef}&gt;&lt;source src={sound} /&gt;&lt;/audio&gt;\n        {children}    // &lt;--- this is where I need to somehow add the event\n    &lt;/&gt;\n}\n</code></pre>\n\n<p>I'm hoping I'm missing a tiny thing here...</p>\n"}, {"tags": ["javascript", "react-native", "position", "state", "absolute"], "answers": [{"tags": [], "owner": {"reputation": 372, "user_id": 8807556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb942499406f435ee5cf20bb5e0f32ee?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8807556/eliseo"}, "is_accepted": true, "score": 1, "last_activity_date": 1577819888, "creation_date": 1577819888, "answer_id": 59547768, "question_id": 59547596, "link": "https://stackoverflow.com/questions/59547596/react-native-absolute-positioned-components-not-rendering-completely-unless-a-s/59547768#59547768", "title": "React-native: Absolute positioned components not rendering completely unless a state is changed", "body": "<p>The position is not the problem, the problem is size of <code>&lt;Icon /&gt;</code> try to using number instad <code>Dimensions</code> calc, or make this calc on <code>componentDidMount</code> or <code>render</code></p>\n"}], "owner": {"reputation": 111, "user_id": 10792914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cda9f7bf680640f619a562e7c86b1404?s=128&d=identicon&r=PG&f=1", "display_name": "W. Robarts", "link": "https://stackoverflow.com/users/10792914/w-robarts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 59547768, "answer_count": 1, "score": 0, "last_activity_date": 1577819888, "creation_date": 1577818245, "last_edit_date": 1577819382, "question_id": 59547596, "link": "https://stackoverflow.com/questions/59547596/react-native-absolute-positioned-components-not-rendering-completely-unless-a-s", "title": "React-native: Absolute positioned components not rendering completely unless a state is changed", "body": "<p>I have a screen that has several components, some with relative positioning and some with absolute. When the screen is opened, the absolute positioned components don't go all the way to their final correct position, or size. They appear on the screen, but in the wrong spot and size. Only by changing a state with a button press, do the components finish rendering. Here's a simplified version of the screen below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cfgiQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cfgiQ.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>The screenshot on the left has the absolutely positioned menu icon (3 horizontal lines at the top right), not all the way in its correct position yet. The screen on the right shows the icon in its final correct position, only after I changed a state by pressing a touchable region.</p>\n\n<p>Here is the code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import React, {Component} from 'react';\r\nimport {View, Text, StyleSheet, Animated, Image, Dimensions, TouchableWithoutFeedback} from 'react-native';\r\nimport colors from '../config/colors';\r\nimport Icon from 'react-native-vector-icons/Ionicons';\r\nimport Orientation from 'react-native-orientation-locker';\r\n\r\nconst w = (Dimensions.get('window').width);\r\nconst h = (Dimensions.get('window').height);\r\nconst r = h / w;\r\n\r\nif (r &gt; 1.9) {\r\n    mission_font_heading = 14;\r\n    mission_font = 12;\r\n    check_dimension = 14;\r\n    name_font = 10;\r\n} else {\r\n    mission_font_heading = 12;\r\n    mission_font = 10;\r\n    check_dimension = 12;\r\n    name_font = 8;\r\n}\r\n\r\nclass how_to_play9_screen extends Component {\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {\r\n            test: 0, //changing this state \"fixes\" the component's position\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        Orientation.lockToPortrait();\r\n    }\r\n\r\n    openMenu() {}\r\n\r\n    showMission() {\r\n        this.setState({test: 2}); //this changes the state\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            &lt;View&gt;\r\n                &lt;Image\r\n                    style={styles.backgroundImage}\r\n                    source={require('../images/Background.png')}\r\n                &gt;\r\n                &lt;/Image&gt;\r\n                &lt;View style={{alignItems: 'center'}}&gt;\r\n                    &lt;TouchableWithoutFeedback onPress={() =&gt; this.showMission()}&gt;\r\n                        &lt;View style={styles.missionContainer}&gt;\r\n                            &lt;Text style={styles.missionTitleText}&gt;\r\n                                MISSION TITLE\r\n                            &lt;/Text&gt;\r\n                            &lt;Text style={styles.text}&gt;\r\n                                (X VP)\r\n                            &lt;/Text&gt;\r\n                            &lt;View style={{flexDirection: 'row'}}&gt;\r\n                                &lt;Image\r\n                                    style={styles.checkBox}\r\n                                    source={require('../images/Checkbox.jpg')}\r\n                                /&gt;\r\n                                &lt;Text style={styles.missionReqText}&gt;\r\n                                    Mission Requirement 1\r\n                                &lt;/Text&gt;\r\n                            &lt;/View&gt;\r\n                        &lt;/View&gt;\r\n                    &lt;/TouchableWithoutFeedback&gt;\r\n                &lt;/View&gt;\r\n                // below is the absolute positioned component\r\n                &lt;View\r\n                    style={{\r\n                        position: 'absolute',\r\n                        top: 5,\r\n                        right: 5,\r\n                    }}\r\n                &gt;\r\n                    &lt;TouchableWithoutFeedback\r\n                        onPress={() =&gt; this.openMenu()}\r\n                    &gt;\r\n                        &lt;Icon\r\n                            name='ios-menu'\r\n                            size={(Dimensions.get('window').width) * .08}\r\n                            color={colors.JBDarkTeal}\r\n                        /&gt;\r\n                    &lt;/TouchableWithoutFeedback&gt;\r\n                &lt;/View&gt;\r\n            &lt;/View&gt;\r\n        );\r\n    }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    backgroundImage: {\r\n        width: (Dimensions.get('window').height) * .65,\r\n        height: (Dimensions.get('window').height) * 1.3,\r\n        position: 'absolute',\r\n        left: 0,\r\n        top: 0,\r\n    },\r\n    missionContainer:  {\r\n        backgroundColor: colors.JBTealTrans,\r\n        borderWidth: 2,\r\n        borderColor: colors.JBTan,\r\n        marginVertical: 10,\r\n        paddingVertical: 3,\r\n        paddingRight: 5,\r\n        width: '80%',\r\n    },\r\n    missionTitleText: {\r\n        fontSize: mission_font_heading,\r\n        textAlign: 'center',\r\n        color: colors.JBTan,\r\n        marginVertical: 3,\r\n        marginHorizontal: 5,\r\n    },\r\n    text: {\r\n        fontSize: mission_font,\r\n        textAlign: 'center',\r\n        color: colors.JBTan,\r\n        marginVertical: 3,\r\n    },\r\n    missionReqText: {\r\n        fontSize: 12,\r\n        color: colors.JBTan,\r\n        marginVertical: 3,\r\n        marginLeft: 5,\r\n        marginRight: 5,\r\n    },\r\n    checkBox: {\r\n        width: check_dimension,\r\n        height: check_dimension,\r\n        marginVertical: 3,\r\n        marginLeft: 5,\r\n    },\r\n})\r\n\r\nexport default how_to_play9_screen;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I want the icon and any other absolute positioned components to go straight to their final position upon screen opening.</p>\n\n<p>Edit: I should also mention that the previous screen locks the orientation to landscape, and this screen locks it back to portrait. I found that if I load this screen from a different screen that is already in portrait, then this one renders correctly, so it seems that it doesn't like me changing the orientation.</p>\n"}, {"tags": ["javascript", "boolean-expression"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1577817844, "post_id": 59547532, "comment_id": 105264141, "body": "Does the code work as currently written?"}, {"owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "edited": false, "score": 2, "creation_date": 1577817845, "post_id": 59547532, "comment_id": 105264142, "body": "Are you aware of <code>Array.prototype.some</code>? <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 471, "user_id": 7841421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a8156ee9808993682d6e6fcc919af05?s=128&d=identicon&r=PG&f=1", "display_name": "oriont", "link": "https://stackoverflow.com/users/7841421/oriont"}, "edited": false, "score": 1, "creation_date": 1577818118, "post_id": 59547532, "comment_id": 105264202, "body": "Applying an &#39;or&#39; to each of the indexes of your list of booleans is the same as checking if any of them are actually true, so you could literally just see if the list has the value &#39;true&#39; in it, using <code>Array.includes(true)</code>"}, {"owner": {"reputation": 527, "user_id": 7496806, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fsK1X.png?s=128&g=1", "display_name": "Asqiir", "link": "https://stackoverflow.com/users/7496806/asqiir"}, "edited": false, "score": 0, "creation_date": 1577818278, "post_id": 59547532, "comment_id": 105264241, "body": "&quot;or&quot; is cheap, when used on a large bunch. (Very fast.) How expensive are those functions?"}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1577818378, "post_id": 59547532, "comment_id": 105264276, "body": "@Asqiir: Not very. They\u2019re just function calls plus very similar loops, and JavaScript engines are decent at function calls. If you profile and this turns out to be a bottleneck, you can compare them. (I expect <code>includes</code> to be the fastest and about as good as a loop.)"}], "answers": [{"comments": [{"owner": {"reputation": 3958, "user_id": 11081214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b53d0cefd959372f49e84b943a1187f?s=128&d=identicon&r=PG&f=1", "display_name": "Snow", "link": "https://stackoverflow.com/users/11081214/snow"}, "edited": false, "score": 3, "creation_date": 1577818933, "post_id": 59547546, "comment_id": 105264386, "body": "<code>.some</code> works, but <code>.includes</code> in the other answer really is a more appropriate choice."}], "tags": [], "owner": {"reputation": 3958, "user_id": 11081214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b53d0cefd959372f49e84b943a1187f?s=128&d=identicon&r=PG&f=1", "display_name": "Snow", "link": "https://stackoverflow.com/users/11081214/snow"}, "is_accepted": false, "score": 5, "last_activity_date": 1577817870, "creation_date": 1577817870, "answer_id": 59547546, "question_id": 59547532, "link": "https://stackoverflow.com/questions/59547532/shortest-way-to-or-a-list-of-booleans-in-javascript/59547546#59547546", "title": "Shortest way to &quot;or&quot; a list of booleans in javascript", "body": "<p>One option is to use <code>.some</code>:</p>\n\n<pre><code>const value = list.some(Boolean);\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const list = [false, false, false, true, false];\r\nconst value = list.some(Boolean);\r\nconsole.log(value);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const list = [false, false, false, false, false];\r\nconst value = list.some(Boolean);\r\nconsole.log(value);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 3, "creation_date": 1577818044, "post_id": 59547551, "comment_id": 105264182, "body": "Incredibly verbose and inefficient (not short-circuiting) compared to <code>some</code> or <code>includes</code>, so not <i>exactly</i>\u2026"}, {"owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 0, "creation_date": 1577818139, "post_id": 59547551, "comment_id": 105264209, "body": "This is definitely not &quot;exactly&quot; what <code>reduce</code> is for. The primary case for <code>reduce</code> is combining values, you should use <code>includes</code> for checking if a value exists or <code>some</code> to check for the existence of truthiness."}, {"owner": {"reputation": 3199, "user_id": 6692606, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3653dbd72e2fd66e0a741b97aa322e1?s=128&d=identicon&r=PG&f=1", "display_name": "ASDFGerte", "link": "https://stackoverflow.com/users/6692606/asdfgerte"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1577818143, "post_id": 59547551, "comment_id": 105264210, "body": "@Ry- &quot;logical or&quot; returns the value of the variable, which is not necessarily a boolean. <code>some</code> does not work to retrieve that value."}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "reply_to_user": {"reputation": 3199, "user_id": 6692606, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3653dbd72e2fd66e0a741b97aa322e1?s=128&d=identicon&r=PG&f=1", "display_name": "ASDFGerte", "link": "https://stackoverflow.com/users/6692606/asdfgerte"}, "edited": false, "score": 2, "creation_date": 1577818161, "post_id": 59547551, "comment_id": 105264217, "body": "@ASDFGerte: \u201dI have a list of booleans.\u201d \u201dI want to \u2026 get the result. (So, a new boolean.)\u201d (later edit FWIW: short-circuiting <code>||</code> for non-booleans is <code>list.find(Boolean)</code>.)"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "reply_to_user": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 0, "creation_date": 1577818228, "post_id": 59547551, "comment_id": 105264231, "body": "@JohnMontgomery applying the same operation to all is <i>exactly</i> what is happening here. The reduce operation could have just been <code>(a, b) =&gt; a + b</code> but here it&#39;s <code>(a, b) =&gt; a || b</code> it&#39;s fundamentally the same kind of operation - it&#39;s just algebra but with booleans instead of numbers."}, {"owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1577818333, "post_id": 59547551, "comment_id": 105264264, "body": "@VLAZ OP wants to check if the list has at least one true value. <code>includes</code> or <code>some</code> is much better for that."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "reply_to_user": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 1, "creation_date": 1577818373, "post_id": 59547551, "comment_id": 105264274, "body": "@JohnMontgomery which doesn&#39;t make a <code>reduce</code> operation <i>wrong</i>."}, {"owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1577818399, "post_id": 59547551, "comment_id": 105264279, "body": "@VLAZ No, but as mentioned it&#39;s verbose and inefficient and there&#39;s no reason to prefer it here."}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 2, "creation_date": 1577818734, "post_id": 59547551, "comment_id": 105264339, "body": "@J&#246;rgWMittag: You could wait till the answer\u2019s fully finished to post it, or just edit documentation links into the answers that are already better instead of merging them into yours."}, {"owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 1, "creation_date": 1577819257, "post_id": 59547551, "comment_id": 105264436, "body": "@J&#246;rgWMittag People have no way of knowing that you&#39;re still working on your answer, especially with how many times I see someone post an incomplete answer just to get it in first. If you&#39;re worried about losing your work, you can write it in a separate text editor. Otherwise, expect people to respond to the current version of what you&#39;ve posted."}, {"owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 1, "creation_date": 1577819806, "post_id": 59547551, "comment_id": 105264546, "body": "@J&#246;rgWMittag Now that&#39;s just ignoring a trivial XY problem. ORing a list of booleans is logically equivalent to checking if it has at least one true value, and nothing in the question says they can&#39;t use a more efficient method."}], "tags": [], "owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "is_accepted": false, "score": 0, "last_activity_date": 1577820158, "last_edit_date": 1577820158, "creation_date": 1577817908, "answer_id": 59547551, "question_id": 59547532, "link": "https://stackoverflow.com/questions/59547532/shortest-way-to-or-a-list-of-booleans-in-javascript/59547551#59547551", "title": "Shortest way to &quot;or&quot; a list of booleans in javascript", "body": "<p>In the general case, this is <em>exactly</em> what <a href=\"https://tc39.es/ecma262/#sec-array.prototype.reduce\" rel=\"nofollow noreferrer\"><code>Array.prototype.reduce</code></a> is for:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>list.reduce((previousValue, currentValue) =&gt; previousValue || currentValue)\n</code></pre>\n\n<p><a href=\"https://wikipedia.org/wiki/Fold_%28higher-order_function%29\" rel=\"nofollow noreferrer\"><code>reduce</code> (or <code>fold</code> as it is called in some other languages)</a> is a <em>general method of iteration</em> which means that <em>anything you can do with a loop</em>, you can also do with <code>reduce</code>. What <code>reduce</code> does, is use a binary operation to \"fold\" all elements of a collection into a new value. In this case, it is a rather simple operation, and the result type is the same type as the elements, but that doesn't have to be the case: the result type can be different than the element type, and the result type can be arbitrarily complex (it can even be again a collection).</p>\n\n<p>You can think of <code>reduce</code> as replacing the comma in an array with a binary operator. In other words, if you have </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const arr = [a, b, c, d, e, f, g];\n</code></pre>\n\n<p>then </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>arr.reduce((accumulator, element) =&gt; accumulator + element)\n</code></pre>\n\n<p>will compute</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>a + b + c + d + e + f + g\n</code></pre>\n\n<p>However, because <code>reduce</code> is a <em>general</em> method, it doesn't convey much meaning. There are more specialized methods that cannot do \"everything\", but using those methods tells the reader more about what is going on in your code. So, for example, you <em>can</em> use <code>reduce</code> to transform each element, but you <em>should</em> rather use <a href=\"https://tc39.es/ecma262/#sec-array.prototype.map\" rel=\"nofollow noreferrer\"><code>Array.prototype.map</code></a> for that.</p>\n\n<p>Note that your specific example has some specific properties: since <code>OR</code>-ing a bunch of values together is only <code>false</code> if every single value is <code>false</code>, or in other words, is <code>true</code> if at least one value is <code>true</code>, all we need to check is if there is <em>some</em> element that is <code>true</code>.</p>\n\n<p>And there is a specific method for checking whether some element has a specific property: <a href=\"https://tc39.es/ecma262/#sec-array.prototype.some\" rel=\"nofollow noreferrer\"><code>Array.prototype.some</code></a>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>list.some(el =&gt; el)\n</code></pre>\n\n<p>In this case, the property is actually just the <em>identity function</em>. Alternatively, you can use the <a href=\"https://tc39.es/ecma262/#sec-boolean-constructor\" rel=\"nofollow noreferrer\"><code>Boolean</code> constructor</a>, which acts as the identity function for booleans:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>list.some(Boolean)\n</code></pre>\n\n<p>you can also use <a href=\"https://tc39.es/ecma262/#sec-array.prototype.includes\" rel=\"nofollow noreferrer\"><code>Array.prototype.includes</code></a> to check if the list includes at least one <code>true</code> value:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>list.includes(true)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1577817985, "post_id": 59547552, "comment_id": 105264170, "body": "I think the intended result is <code>const value = list.includes(true);</code>."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1577818099, "post_id": 59547552, "comment_id": 105264195, "body": "What is <code>index</code>? It&#39;s certainly not any index of the array. It can also only be either <code>0</code> or <code>1</code>. So, it&#39;s more of a boolean."}], "tags": [], "owner": {"reputation": 4645, "user_id": 11998782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZZ3Di.png?s=128&g=1", "display_name": "Shiny", "link": "https://stackoverflow.com/users/11998782/shiny"}, "is_accepted": true, "score": 7, "last_activity_date": 1577818115, "last_edit_date": 1577818115, "creation_date": 1577817912, "answer_id": 59547552, "question_id": 59547532, "link": "https://stackoverflow.com/questions/59547532/shortest-way-to-or-a-list-of-booleans-in-javascript/59547552#59547552", "title": "Shortest way to &quot;or&quot; a list of booleans in javascript", "body": "<p>You could use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes\" rel=\"nofollow noreferrer\"><code>.includes</code></a>, which checks if an Array includes a value, and returns <code>true</code> / <code>false</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const list = [true, true, true, true, false];\r\n\r\n// Checks if list contains the Boolean True\r\nconst value = list.includes(true);\r\n\r\nconsole.log(value);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 1, "creation_date": 1577818133, "post_id": 59547553, "comment_id": 105264208, "body": "some or includes makes more sense since reduce visits every index"}, {"owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 1, "creation_date": 1577818288, "post_id": 59547553, "comment_id": 105264247, "body": "Agreed - <code>reduce</code> popped into my head instantly (what can I say, I&#39;m a functional programmer at heart :) ), but with this specific problem I agree that those are probably better solutions. (Although I&#39;m sceptical whether you&#39;d ever be able to actually observe the theoretical performance difference in practice.)"}], "tags": [], "owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "is_accepted": false, "score": -1, "last_activity_date": 1577817919, "creation_date": 1577817919, "answer_id": 59547553, "question_id": 59547532, "link": "https://stackoverflow.com/questions/59547532/shortest-way-to-or-a-list-of-booleans-in-javascript/59547553#59547553", "title": "Shortest way to &quot;or&quot; a list of booleans in javascript", "body": "<p>This is a classic use case for <code>reduce</code>:</p>\n\n<pre><code>value = list.reduce((a, b) =&gt; a || b, false);\n</code></pre>\n\n<p>(Note the starting accumulator value should be <code>false</code> - using <code>true</code> as you are, the result will <em>always</em> be <code>true</code>!)</p>\n"}], "owner": {"reputation": 527, "user_id": 7496806, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fsK1X.png?s=128&g=1", "display_name": "Asqiir", "link": "https://stackoverflow.com/users/7496806/asqiir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1042, "favorite_count": 0, "accepted_answer_id": 59547552, "answer_count": 4, "score": 1, "last_activity_date": 1577820158, "creation_date": 1577817656, "last_edit_date": 1577817927, "question_id": 59547532, "link": "https://stackoverflow.com/questions/59547532/shortest-way-to-or-a-list-of-booleans-in-javascript", "title": "Shortest way to &quot;or&quot; a list of booleans in javascript", "body": "<p>I have a list of booleans. I want to apply <code>||</code> (\"or\") on each of them, and get the result. (So, a new boolean.) </p>\n\n<p>The list has no fixed length, so I can't simply write the code as <code>value = l[0] || ... l[length-1]</code>. (It would also be ugly for long lists.)</p>\n\n<p>My approach:</p>\n\n<pre><code>let index = 0;\nlet value = true;\nwhile(index &lt; list.length &amp;&amp; value == value || list[index]) {\n    index += 1;\n}\n</code></pre>\n\n<p>I guess that this is possible as one statement. How?</p>\n"}, {"tags": ["javascript"], "answers": [{"tags": [], "owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "is_accepted": true, "score": 0, "last_activity_date": 1577842285, "last_edit_date": 1577842285, "creation_date": 1577821113, "answer_id": 59547902, "question_id": 59547524, "link": "https://stackoverflow.com/questions/59547524/the-text-box-doest-change-the-color-in-javascript/59547902#59547902", "title": "the text-box does&#39;t change the color in javascript", "body": "<p>There's a bunch here to re-work. Check the HTML, CSS, and JavaScript comments in the code below for details, but the main point is that HTML, CSS, and JavaScript already provide most of the functionality you are looking for. If you simply add <code>required</code> to the <code>input</code> elements that cannot be blank, you'll get automatic validity checking and styling.</p>\n\n<p>Check our how <a href=\"https://developer.mozilla.org/en-US/docs/Learn/Forms/Form_validation\" rel=\"nofollow noreferrer\">HTML5 Form Validity</a> works.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n  &lt;title&gt;Form Validation&lt;/title&gt;\r\n  &lt;style&gt;\r\n    /* CSS provides valid and invalid pseudo-classes which will automatically\r\n       kick in based on the validity of form elements */\r\n    .validate:valid { background-color:#fff; }\r\n    .validate:invalid { background-color:#803ADD; }  \r\n    \r\n    label { display:inline-block; width: 5em; }\r\n    form &gt; div { margin-bottom: .2em; }\r\n  \r\n  &lt;/style&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n  &lt;section&gt;\r\n    &lt;h1&gt;Managing Form&lt;/h1&gt;\r\n    &lt;!-- Don't forget to fill in the action attribute of the form! --&gt;\r\n    &lt;form id=\"usuer_register\" name=\"usuer_register\" method=\"post\" action=\"\"&gt;\r\n    \r\n      &lt;!-- Do not use tables for layout! They are only for displaying tabular data. --&gt;\r\n      &lt;div&gt;\r\n        &lt;!-- Use label elements with form fields for better accessibility.\r\n             Now, clicking on the label text focuses the field. Also, type=\"text\"\r\n             is not required on textboxes as \"text\" is the default type. \r\n             Lastly, just add the \"required\" attribute for automatic validity checking. --&gt;\r\n        &lt;label for=\"fName\"&gt;Name: &lt;/label&gt;&lt;input id=\"fName\" name=\"fName\" class=\"validate\" required&gt;\r\n      &lt;/div&gt;\r\n      &lt;div&gt;\r\n        &lt;label for=\"lName\"&gt;Last Name: &lt;/label&gt;&lt;input id=\"lName\" name=\"lName\" class=\"validate\" required&gt;\r\n      &lt;/div&gt;\r\n      &lt;div&gt;\r\n        &lt;label for=\"age\"&gt;Age: &lt;/label&gt;&lt;input id=\"age\" name=\"age\"&gt;\r\n      &lt;/div&gt;\r\n      &lt;div&gt;\r\n        &lt;!-- Submit Buttons shouldn't have a name because they \r\n             don't have any data that you would want submitted\r\n             along with the form. --&gt;\r\n        &lt;input type=\"submit\"&gt;\r\n      &lt;/div&gt;\r\n    &lt;/form&gt;\r\n  &lt;/section&gt;\r\n\r\n  &lt;!-- As long as your script element is the last element\r\n       in the body, there is no need for a \"start\" function \r\n       or a \"load\" event hander. The following code will just\r\n       run when it is reached and at this point in the document\r\n       all the HTML has been parsed. --&gt;\r\n  &lt;script&gt;\r\n    // Use meaningfull variable names\r\n    let fName = document.getElementById(\"fName\");\r\n    let lName = document.getElementById(\"lName\")\r\n  \r\n    // The inputs will be invalid initially, so flag them\r\n    // that way from the start\r\n    fName.setCustomValidity(\"Enter First Name\");\r\n    lName.setCustomValidity(\"Enter Last Name\");  \r\n  \r\n    fName.addEventListener(\"input\", verif);\r\n    lName.addEventListener(\"input\", verif);\r\n  \r\n    function verif(){\r\n      // The field has recieved input, so the required validation\r\n      // requirement has been met.\r\n      this.setCustomValidity(\"\");\r\n    }\r\n  &lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Happy New Year!</p>\n"}], "owner": {"reputation": 31, "user_id": 12311812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7145eddf3efc0f6d26a6bc6610f805fd?s=128&d=identicon&r=PG&f=1", "display_name": "Axel", "link": "https://stackoverflow.com/users/12311812/axel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 59547902, "answer_count": 1, "score": 1, "last_activity_date": 1577842354, "creation_date": 1577817608, "last_edit_date": 1577842354, "question_id": 59547524, "link": "https://stackoverflow.com/questions/59547524/the-text-box-doest-change-the-color-in-javascript", "title": "the text-box does&#39;t change the color in javascript", "body": "<p>First, Happy New Year everyone!</p>\n\n<p>I tried make a Form in which the Check Boxes(text)at the start(calling a function, <code>verif()</code>) where they must be in different color than as soon the user input a name the Colors must change in white, also I use the method, <code>setCustomValidity</code> to advice the user to fill the box in a case he(she) forgot but even I don't get the error massage where I must fill the box. \nUnfortunately my plan looks has error but I don't know where is that.</p>\n\n<pre><code>&lt;section id=\"secty\"&gt;\n&lt;h1 id=\"demo\"&gt;Managing Form&lt;/h1&gt;\n&lt;form id=\"usuer_register\" name=\"usuer_register\" method=\"post\"&gt;\n\n&lt;table&gt;\n&lt;tr&gt;&lt;td&gt;Name&amp;#58;&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"text\" id=\"nam\" name=\"nam\"&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td&gt;Last name&amp;#58;&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"text\" id=\"name1\" name=\"name1\"&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td&gt;Age&amp;#58;&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"text\" id=\"age\" name=\"age\"&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td&gt;&lt;input type=\"submit\" id=\"regist\" name=\"regist\"&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;/table&gt;\n&lt;/form&gt;\n&lt;/section&gt;\n&lt;script&gt;\n        function start(){\n                    var x=document.getElementById(\"nam\");\n                    var y=document.getElementById(\"name1\");\n                    x.addEventListener(\"input\", verif, false);\n                    y.addEventListener(\"input\", verif, false);\n                    verif();    \n             }\n               function verif(){\n\n               if(x.value==\"\" &amp;&amp; y.value==\"\"){\n               x.setCustomValidity(\"Enter Name or Lastname\");\n               x.style.background=\"#803ADD\";\n               y.style.background=\"#803ADD\";\n\n                              }\n             else{\n                   x.setCustomValidity(\"\");  // this restart as default;\n                   x.style.background=\"#FFFFFF\";\n                   y.style.background=\"#FFFFFF\";\n\n                }\n        }\n        window.addEventListener(\"load\", start, false);\n    &lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 391, "user_id": 4781064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86c5e533507126d217181862297ac590?s=128&d=identicon&r=PG&f=1", "display_name": "sushrut619", "link": "https://stackoverflow.com/users/4781064/sushrut619"}, "edited": false, "score": 1, "creation_date": 1577829901, "post_id": 59547521, "comment_id": 105266508, "body": "Don&#39;t know why this was down voted. Don&#39;t have the complete answer but I think that is how Javascript import statements works in general and this has anything to do with react in particular. I think the path info is provided in package.json for the module. I think we can also do imports by custom module name without paths if we have a correctly configured package.json for our custom module"}, {"owner": {"reputation": 687, "user_id": 2599052, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/a6e1802a117676e21672a20b6051daaa?s=128&d=identicon&r=PG", "display_name": "user2599052", "link": "https://stackoverflow.com/users/2599052/user2599052"}, "reply_to_user": {"reputation": 391, "user_id": 4781064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86c5e533507126d217181862297ac590?s=128&d=identicon&r=PG&f=1", "display_name": "sushrut619", "link": "https://stackoverflow.com/users/4781064/sushrut619"}, "edited": false, "score": 0, "creation_date": 1577878958, "post_id": 59547521, "comment_id": 105272974, "body": "will try to check"}, {"owner": {"reputation": 9329, "user_id": 570118, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/iYiuI.jpg?s=128&g=1", "display_name": "Wolfgang Kuehn", "link": "https://stackoverflow.com/users/570118/wolfgang-kuehn"}, "edited": false, "score": 0, "creation_date": 1602628377, "post_id": 59547521, "comment_id": 113779940, "body": "Yes, <code>import &#39;react&#39;</code> is illegal syntax in EcmaScript. That is unless browser vendors agree on something like <a href=\"https://github.com/WICG/import-maps\" rel=\"nofollow noreferrer\">Import Maps</a>"}], "owner": {"reputation": 687, "user_id": 2599052, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/a6e1802a117676e21672a20b6051daaa?s=128&d=identicon&r=PG", "display_name": "user2599052", "link": "https://stackoverflow.com/users/2599052/user2599052"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577817558, "creation_date": 1577817558, "question_id": 59547521, "link": "https://stackoverflow.com/questions/59547521/how-does-import-statement-work-in-react-without-specifying-the-path-information", "title": "how does import statement work in react without specifying the path information in import statement as module imports cannot have a bare path", "body": "<p>A lot of examples use the syntax <code>import React, { Component } from 'react';</code> to import React class which should be a default export in a module exported from a file with name <code>react</code>. However it is a rule that import statements need to have a path information like <code>./react</code> in it and cannot be bare. Is webpack or some other library being used to make this work ?</p>\n"}, {"tags": ["javascript", "node.js"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1577817485, "post_id": 59547503, "comment_id": 105264054, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/37576685/using-async-await-with-a-foreach-loop\">Using async/await with a forEach loop</a>"}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1577854399, "post_id": 59547503, "comment_id": 105269095, "body": "Multiple choices here: <a href=\"https://stackoverflow.com/questions/29880715/how-to-synchronize-a-sequence-of-promises/29906506#29906506\">How to sequence promises</a>.  The simplest in modern browsers is a <code>for</code> loop with <code>await</code>.  The <code>.reduce()</code> loop and a number of the other solutions there work in any browser.  As best I know, jQuery does not have this feature built-in."}], "owner": {"reputation": 188, "user_id": 8557833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nc7fW.jpg?s=128&g=1", "display_name": "Atif Farooq", "link": "https://stackoverflow.com/users/8557833/atif-farooq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577817413, "creation_date": 1577817413, "question_id": 59547503, "link": "https://stackoverflow.com/questions/59547503/browser-equivalent-of-node-jss-async-foreachseries", "title": "Browser equivalent of Node.js&#39;s async.forEachSeries()?", "body": "<p>As part of bootstraper script i am writing for a html template, i am required to use an API for determining names of various countries corresponding to there alpha-3 codes, like CHN for China and GBR for Greate Britian.</p>\n\n<p>I would like to know if there is some JQuery method that will allow me to \"iterate\" over an array of these alpha-3 country codes and make a GET request to the remote server for the country name corresponding to each code.</p>\n\n<p>Is there a such a method ? Essentially what i am looking for is the web browser equivalent of Node.js's async.forEachSeries() function.</p>\n"}, {"tags": ["javascript", "selenium"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 2092908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd081ce99d912a5c1cd3b75c1c7eeef2?s=128&d=identicon&r=PG", "display_name": "areen sattar", "link": "https://stackoverflow.com/users/2092908/areen-sattar"}, "edited": false, "score": 0, "creation_date": 1577998851, "post_id": 59549193, "comment_id": 105307616, "body": "getInnerHTML() does not appear to be an available method on the element. is there a difference in span vs some other tag?"}, {"owner": {"reputation": 15, "user_id": 2092908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd081ce99d912a5c1cd3b75c1c7eeef2?s=128&d=identicon&r=PG", "display_name": "areen sattar", "link": "https://stackoverflow.com/users/2092908/areen-sattar"}, "edited": false, "score": 0, "creation_date": 1577999286, "post_id": 59549193, "comment_id": 105307757, "body": "found solution. see edit in questions. thanks for the help!"}], "tags": [], "owner": {"reputation": 47898, "user_id": 966023, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/917fcb4327159076f752c0c3c3fddfbb?s=128&d=identicon&r=PG", "display_name": "pguardiario", "link": "https://stackoverflow.com/users/966023/pguardiario"}, "is_accepted": true, "score": 0, "last_activity_date": 1577836300, "creation_date": 1577836300, "answer_id": 59549193, "question_id": 59547500, "link": "https://stackoverflow.com/questions/59547500/how-do-i-get-the-innerhtml-of-the-selected-selenium-webelement-using-javascript/59549193#59549193", "title": "How do I get the innerHTML of the selected Selenium WebElement using javascript?", "body": "<p>You would just \"await\" the promise:</p>\n\n<pre><code>driver.findElements(By.className(\"lvHighlightSubjectClass\")).then(async (subjects) =&gt; {\n  for(let subject of subjects) {\n    console.log(await subject.getInnerHtml())\n  }\n});\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 2092908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd081ce99d912a5c1cd3b75c1c7eeef2?s=128&d=identicon&r=PG", "display_name": "areen sattar", "link": "https://stackoverflow.com/users/2092908/areen-sattar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 59549193, "answer_count": 1, "score": 0, "last_activity_date": 1577999250, "creation_date": 1577817363, "last_edit_date": 1577999250, "question_id": 59547500, "link": "https://stackoverflow.com/questions/59547500/how-do-i-get-the-innerhtml-of-the-selected-selenium-webelement-using-javascript", "title": "How do I get the innerHTML of the selected Selenium WebElement using javascript?", "body": "<p>I need to get the text enclosed in the returned span elements.</p>\n\n<pre><code>  driver.findElements(By.className(\"lvHighlightSubjectClass\")).then(async (subjects) =&gt; {\n      for (let i = 0; i &lt; 10; i++) {\n        const subject = subjects[i];\n        if (subject) {\n          console.log(await subject.getAttribute('innerHTML'));\n        }\n      }\n  });\n</code></pre>\n\n<p>I seem to be getting a Promise back from each console.log call.  How can I access the attributes of the WebElements returned by findElements?</p>\n"}, {"tags": ["javascript", "html"], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 9925452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78dad2d6cd7467f4ce117a9cd9aab660?s=128&d=identicon&r=PG&f=1", "display_name": "panman", "link": "https://stackoverflow.com/users/9925452/panman"}, "edited": false, "score": 0, "creation_date": 1577830447, "post_id": 59548351, "comment_id": 105266603, "body": "thanks so much for this, so close to getting to what i want.. however how can I have two different words &#39;motion&#39; and &#39;designer&#39;? also sometimes they overlap in this code"}], "tags": [], "owner": {"reputation": 4458, "user_id": 130453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9510a3b34bd894d94d4a670ea05662e?s=128&d=identicon&r=PG", "display_name": "corn3lius", "link": "https://stackoverflow.com/users/130453/corn3lius"}, "is_accepted": true, "score": 1, "last_activity_date": 1577980296, "last_edit_date": 1577980296, "creation_date": 1577825354, "answer_id": 59548351, "question_id": 59547479, "link": "https://stackoverflow.com/questions/59547479/how-to-have-two-different-text-elements-moving-randomly-on-a-page-in-javascript/59548351#59548351", "title": "How to have two different text elements moving randomly on a page in Javascript", "body": "<p>Multiple text boxes is easy : </p>\n\n<p>Change the initialize boxes part to include more than one. </p>\n\n<pre><code>// Initialize random boxes:\nvar boxes = [];\nvar boxCount = 2\nfor (var i = 0; i &lt; boxCount; i++) { \n</code></pre>\n\n<p>Second your random color is flawed , try this : </p>\n\n<pre><code>function randomColor() {\n  var hex = Math.floor(Math.random() * 0x1000000).toString(16);\n  return \"#\" + (\"000000\" + hex).substr(hex.length);\n}\n</code></pre>\n\n<p>I don't think that roboto is available in the canvas element. (I could be wrong)\n<code>monospace</code> is available though. </p>\n\n<p><strong>Edit</strong></p>\n\n<p>If you want different words you could use another array for them: </p>\n\n<pre><code>var words = ['motion','designer']\nfor (var i = 0; i &lt; words.length; i++) {\n</code></pre>\n\n<p>as you create boxes use the words array. </p>\n\n<p>You can't hard code the size of the box if you want have the words to collide. Height should be at least the font height <code>40px</code> and if you want to get the width of the text box there is a context helping function : </p>\n\n<pre><code>box.width = context.measureText(words[i]).width; \n</code></pre>\n\n<p>See the snippet for usage : </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Return random RGB color string:\r\n\r\nfunction randomColor() {\r\n  var hex = Math.floor(Math.random() * 0x1000000).toString(16);\r\n  return \"#\" + (\"000000\" + hex).substr(hex.length);\r\n}\r\n\r\n// Poor man's box physics update for time step dt:\r\nfunction doPhysics(boxes, width, height, dt) {\r\n  for (let i = 0; i &lt; boxes.length; i++) {\r\n    var box = boxes[i];\r\n\r\n    // Update positions: \r\n    box.x += box.dx * dt;\r\n    box.y += box.dy * dt;\r\n\r\n    // Handle boundary collisions:\r\n    if (box.x &lt; 0) {\r\n      box.x = 0;\r\n      box.dx = -box.dx;\r\n    } else if (box.x + box.width &gt; width) {\r\n      box.x = width - box.width;\r\n      box.dx = -box.dx;\r\n    }\r\n    if (box.y &lt; 0) {\r\n      box.y = 0;\r\n      box.dy = -box.dy;\r\n    } else if (box.y + box.height &gt; height) {\r\n      box.y = height - box.height;\r\n      box.dy = -box.dy;\r\n    }\r\n  }\r\n\r\n  // Handle box collisions:\r\n  for (let i = 0; i &lt; boxes.length; i++) {\r\n    for (let j = i + 1; j &lt; boxes.length; j++) {\r\n      var box1 = boxes[i];\r\n      var box2 = boxes[j];\r\n      var dx = Math.abs(box1.x - box2.x);\r\n      var dy = Math.abs(box1.y - box2.y);\r\n\r\n      // Check for overlap:\r\n      if (2 * dx &lt; (box1.width  + box2.width ) &amp;&amp;\r\n          2 * dy &lt; (box1.height + box2.height)) {\r\n\r\n        // Swap dx if moving towards each other: \r\n        if ((box1.x &gt; box2.x) == (box1.dx &lt; box2.dx)) {\r\n          var swap = box1.dx;\r\n          box1.dx = box2.dx;\r\n          box2.dx = swap;\r\n        }\r\n\r\n        // Swap dy if moving towards each other: \r\n        if ((box1.y &gt; box2.y) == (box1.dy &lt; box2.dy)) {\r\n          var swap = box1.dy;\r\n          box1.dy = box2.dy;\r\n          box2.dy = swap;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nvar canvas = document.getElementById(\"canvas\");\r\nvar context = canvas.getContext(\"2d\");\r\n\r\n// Initialize random boxes:\r\nvar boxes = [];\r\nvar words = [\"designer\",\"motion\",\"hi\"]\r\nfor (var i = 0; i &lt; words.length; i++) {\r\n  var box = {\r\n    x: Math.floor(Math.random() * canvas.width),\r\n    y: Math.floor(Math.random() * canvas.height),\r\n    width: 50, // Will be dynamic\r\n    height: 42,\r\n    dx: (Math.random() - 0.5) * 0.3,\r\n    dy: (Math.random() - 0.5) * 0.3\r\n  };\r\n  boxes.push(box);\r\n}\r\n\r\n\r\n// Initialize random color and set up interval:\r\nvar color = randomColor();\r\nsetInterval(function() {\r\n  color = randomColor();\r\n}, 450);\r\n\r\n// Update physics at fixed rate:\r\nvar last = performance.now();\r\nsetInterval(function(time) {\r\n  var now = performance.now();\r\n  doPhysics(boxes, canvas.width, canvas.height, now - last);\r\n  last = now;\r\n}, 50);\r\n\r\n// Draw animation frames at optimal frame rate:\r\nfunction draw(now) {\r\n  context.clearRect(0, 0, canvas.width, canvas.height);\r\n  for (let i = 0; i &lt; boxes.length; i++) {\r\n    var box = boxes[i];\r\n    \r\n    // Interpolate position:\r\n    var x = box.x + box.dx * (now - last);\r\n    var y = box.y + box.dy * (now - last);\r\n    box.width = context.measureText(words[i]).width; \r\n    \r\n    context.beginPath();\r\n    context.fillStyle = color;\r\n    context.font = \"normal 40px monospace\";\r\n    context.textBaseline = \"hanging\";\r\n    context.fillText(words[i], x, y);\r\n    context.closePath();\r\n  }\r\n  requestAnimationFrame(draw);\r\n}\r\nrequestAnimationFrame(draw);\r\n\r\ncanvas.width = window.innerWidth;\r\ncanvas.height = window.innerHeight;</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n    &lt;body&gt;\r\n    &lt;head&gt;\r\n        &lt;link rel=\"stylesheet\" href=\"test.css\"&gt;\r\n        &lt;meta charset=\"utf-8\"&gt;\r\n        &lt;meta name=\"viewport\" content=\"initial-scale=1\"&gt;\r\n        &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;\r\n        &lt;title&gt;&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;canvas id=\"canvas\"&gt;&lt;/canvas&gt;\r\n    &lt;script src=\"test.js\"&gt;&lt;/script&gt;  \r\n    &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 59, "user_id": 9925452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78dad2d6cd7467f4ce117a9cd9aab660?s=128&d=identicon&r=PG&f=1", "display_name": "panman", "link": "https://stackoverflow.com/users/9925452/panman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 1, "accepted_answer_id": 59548351, "answer_count": 1, "score": 0, "last_activity_date": 1578000779, "creation_date": 1577817131, "last_edit_date": 1578000779, "question_id": 59547479, "link": "https://stackoverflow.com/questions/59547479/how-to-have-two-different-text-elements-moving-randomly-on-a-page-in-javascript", "title": "How to have two different text elements moving randomly on a page in Javascript", "body": "<p>So I've been reading this <a href=\"https://stackoverflow.com/questions/43726536/making-canvas-text-objects-bounce-off-of-each-other-and-be-created-by-an-array\">post</a> which I found is the closest to what I want. Basically, I want two different text elements (two different words) moving around the page randomly and also bouncing off each other when they come in contact. </p>\n\n<p>I have tried to edit the code so that it's black and have only one text element. However how can I also include a second text element (a different word) moving randomly as well?</p>\n\n<p>Also how can I change it to Roboto Mono font?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Return random RGB color string:\r\n\r\nfunction randomColor() {\r\n  var hex = Math.floor(Math.random() * 0x1000000).toString(16);\r\n  return \"#\" + (\"000000\" + hex).slice(0);\r\n}\r\n\r\n// Poor man's box physics update for time step dt:\r\nfunction doPhysics(boxes, width, height, dt) {\r\n  for (let i = 0; i &lt; boxes.length; i++) {\r\n    var box = boxes[i];\r\n\r\n    // Update positions: \r\n    box.x += box.dx * dt;\r\n    box.y += box.dy * dt;\r\n\r\n    // Handle boundary collisions:\r\n    if (box.x &lt; 0) {\r\n      box.x = 0;\r\n      box.dx = -box.dx;\r\n    } else if (box.x + box.width &gt; width) {\r\n      box.x = width - box.width;\r\n      box.dx = -box.dx;\r\n    }\r\n    if (box.y &lt; 0) {\r\n      box.y = 0;\r\n      box.dy = -box.dy;\r\n    } else if (box.y + box.height &gt; height) {\r\n      box.y = height - box.height;\r\n      box.dy = -box.dy;\r\n    }\r\n  }\r\n\r\n  // Handle box collisions:\r\n  for (let i = 0; i &lt; boxes.length; i++) {\r\n    for (let j = i + 1; j &lt; boxes.length; j++) {\r\n      var box1 = boxes[i];\r\n      var box2 = boxes[j];\r\n      var dx = Math.abs(box1.x - box2.x);\r\n      var dy = Math.abs(box1.y - box2.y);\r\n\r\n      // Check for overlap:\r\n      if (2 * dx &lt; (box1.width  + box2.width ) &amp;&amp;\r\n          2 * dy &lt; (box1.height + box2.height)) {\r\n\r\n        // Swap dx if moving towards each other: \r\n        if ((box1.x &gt; box2.x) == (box1.dx &lt; box2.dx)) {\r\n          var swap = box1.dx;\r\n          box1.dx = box2.dx;\r\n          box2.dx = swap;\r\n        }\r\n\r\n        // Swap dy if moving towards each other: \r\n        if ((box1.y &gt; box2.y) == (box1.dy &lt; box2.dy)) {\r\n          var swap = box1.dy;\r\n          box1.dy = box2.dy;\r\n          box2.dy = swap;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nvar canvas = document.getElementById(\"canvas\");\r\nvar context = canvas.getContext(\"2d\");\r\n\r\n// Initialize random boxes:\r\nvar boxes = [];\r\nfor (var i = 0; i &lt; 1; i++) {\r\n  var box = {\r\n    x: Math.floor(Math.random() * canvas.width),\r\n    y: Math.floor(Math.random() * canvas.height),\r\n    width: 50,\r\n    height: 20,\r\n    dx: (Math.random() - 0.5) * 0.3,\r\n    dy: (Math.random() - 0.5) * 0.3\r\n  };\r\n  boxes.push(box);\r\n}\r\n\r\n\r\n// Initialize random color and set up interval:\r\nvar color = randomColor();\r\nsetInterval(function() {\r\n  color = randomColor();\r\n}, 450);\r\n\r\n// Update physics at fixed rate:\r\nvar last = performance.now();\r\nsetInterval(function(time) {\r\n  var now = performance.now();\r\n  doPhysics(boxes, canvas.width, canvas.height, now - last);\r\n  last = now;\r\n}, 50);\r\n\r\n// Draw animation frames at optimal frame rate:\r\nfunction draw(now) {\r\n  context.clearRect(0, 0, canvas.width, canvas.height);\r\n  for (let i = 0; i &lt; boxes.length; i++) {\r\n    var box = boxes[i];\r\n    \r\n    // Interpolate position:\r\n    var x = box.x + box.dx * (now - last);\r\n    var y = box.y + box.dy * (now - last);\r\n    \r\n    context.beginPath();\r\n    context.fillStyle = color;\r\n    context.font = \"40px 'Roboto Mono'\";\r\n    context.textBaseline = \"hanging\";\r\n    context.fillText(\"motion\", x, y);\r\n    context.closePath();\r\n  }\r\n  requestAnimationFrame(draw);\r\n}\r\nrequestAnimationFrame(draw);\r\n\r\ncanvas.width = window.innerWidth;\r\ncanvas.height = window.innerHeight;</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n    &lt;body&gt;\r\n    &lt;head&gt;\r\n        &lt;link rel=\"stylesheet\" href=\"test.css\"&gt;\r\n        &lt;meta charset=\"utf-8\"&gt;\r\n        &lt;meta name=\"viewport\" content=\"initial-scale=1\"&gt;\r\n        &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;\r\n        &lt;title&gt;&lt;/title&gt;\r\n        \r\n        \r\n    &lt;/head&gt;\r\n    \r\n    &lt;canvas id=\"canvas\"&gt;&lt;/canvas&gt;\r\n    \r\n\r\n\r\n        &lt;script src=\"test.js\"&gt;&lt;/script&gt;\r\n        \r\n        \r\n        \r\n        \r\n    &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "express", "nodemailer"], "answers": [{"tags": [], "owner": {"reputation": 1068, "user_id": 1279000, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/290568c65e584249ed48f9974a076585?s=128&d=identicon&r=PG", "display_name": "Christopher Stevens", "link": "https://stackoverflow.com/users/1279000/christopher-stevens"}, "is_accepted": false, "score": 0, "last_activity_date": 1577829861, "creation_date": 1577829861, "answer_id": 59548743, "question_id": 59547459, "link": "https://stackoverflow.com/questions/59547459/to-have-an-alert-box-in-browser-set-by-express/59548743#59548743", "title": "To have an alert box in browser set by express", "body": "<p>Running a script directly from a server response like <code>&lt;script&gt;doSomethingMaybeBad();&lt;/script&gt;</code> will not likely run in modern browsers as it could be used as an attack. At a glance anyway it doesn't seem like you're loading the full page <code>&lt;html&gt;...&lt;/html&gt;</code> on the client side with these requests.</p>\n\n<p>I recommend listening to ajax responses from the client side and showing an alert then. Without seeing all your code, here's a rough idea:</p>\n\n<p>Replace:</p>\n\n<pre><code>res.render('index','&lt;script&gt;alert(\"email has been sent\")&lt;/script&gt;');\n</code></pre>\n\n<p>with a JSON response, or response in the same format as you had it before like this:</p>\n\n<pre><code>{ msg: 'email has been sent', status: 200 }\n</code></pre>\n\n<p>Then in your client code, replace something like this (just guessing what you have as you didn't post a client side example):</p>\n\n<pre><code>$('msg').html(response.msg)\n</code></pre>\n\n<p>With:</p>\n\n<pre><code>if (response.status === 200) {\n    alert(msg.msg);\n    // consider redirecting here if needed?\n} else {\n    // show error, jQuery in this example however may be different for your current\n    $('msg').html(response.msg)\n}\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 10915924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dd457908c261e520a593184299518ee?s=128&d=identicon&r=PG&f=1", "display_name": "Yasin", "link": "https://stackoverflow.com/users/10915924/yasin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577829861, "creation_date": 1577816957, "question_id": 59547459, "link": "https://stackoverflow.com/questions/59547459/to-have-an-alert-box-in-browser-set-by-express", "title": "To have an alert box in browser set by express", "body": "<p>I'm using express to send email by <code>nodemailer</code> module.\n my code is following:</p>\n\n<pre><code>app.post('/', (req, res) =&gt; {\nconst output = `\n&lt;p&gt;You have new one contact request&lt;/p&gt;\n&lt;h3&gt;Contact Details&lt;/h3&gt;\n&lt;ul&gt;\n&lt;li&gt;Name:${req.body.name}&lt;/li&gt;\n&lt;li&gt;Email:${req.body.email}&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3&gt;Message&lt;/h3&gt;\n&lt;p&gt;${req.body.message}&lt;/p&gt;\n`;\n\n// create reusable transporter object using the default SMTP transport\nlet transporter = nodeMailer.createTransport({\n    host: \"mail.gmail.com\",\n    port: 587,\n    secure: false, // true for 465, false for other ports\n    auth: {\n        user: 'mymail@gamil.com', // generated ethereal user\n        pass: '2020' // generated ethereal password\n    },\n    tls: {\n        rejectUnauthorized: false\n    }\n});\n\n// send mail with defined transport object\nlet mailOptions = {\n    from: \"mymail@gamil.com\", // sender address\n    to: \"myfriend@gmail.com\", // list of receivers\n    subject: \"the subject\", // Subject line\n    html: output // html body\n};\n\ntransporter.sendMail(mailOptions, (error, info) =&gt; {\n    if (error) {\n        return console.log(error);\n    }\n    // , info.res\n    console.log(\"Message sent: %s\", info.messageId);\n    console.log(\"Preview URL: %s\", nodeMailer.getTestMessageUrl(info));\n   res.render('index', { msg: 'email has been sent' });\n    res.redirect('back');\n});});\n</code></pre>\n\n<p>after clicking <code>submit</code> button, below code redirects to the Contact page:</p>\n\n<pre><code>        res.redirect('back');\n</code></pre>\n\n<p>and then shows a message by this code:</p>\n\n<pre><code>       res.render('index', { msg: 'email has been sent' });\n</code></pre>\n\n<p>now my aim is to instead of showing text by the forementioned code, showing the text in an alert box.\nwhat I've tried for is like:</p>\n\n<pre><code>res.render('index','&lt;script&gt;alert(\"email has been sent\")&lt;/script&gt;');\n</code></pre>\n\n<p>but this doesn't work at all. by the way I'm not using <code>ajax</code>. then any idea or solution please?</p>\n"}, {"tags": ["javascript", "html"], "answers": [{"comments": [{"owner": {"reputation": 2640, "user_id": 10715551, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8x4H1HHVIAo/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hc2CYqXQnqd3r2sWKJNmN5NkurzQ/mo/photo.jpg?sz=128", "display_name": "Sara Ree", "link": "https://stackoverflow.com/users/10715551/sara-ree"}, "edited": false, "score": 0, "creation_date": 1577818131, "post_id": 59547545, "comment_id": 105264207, "body": "Thanks for the answer...plus one... your code is complicated for a beginner like me :) and I don&#39;t want that drop-down anymore..."}, {"owner": {"reputation": 2640, "user_id": 10715551, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8x4H1HHVIAo/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hc2CYqXQnqd3r2sWKJNmN5NkurzQ/mo/photo.jpg?sz=128", "display_name": "Sara Ree", "link": "https://stackoverflow.com/users/10715551/sara-ree"}, "edited": false, "score": 0, "creation_date": 1577819145, "post_id": 59547545, "comment_id": 105264419, "body": "Can you please remove the drop-down and add the names to <code>selected</code> array... I can&#39;t understand your code...:("}, {"owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "reply_to_user": {"reputation": 2640, "user_id": 10715551, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8x4H1HHVIAo/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hc2CYqXQnqd3r2sWKJNmN5NkurzQ/mo/photo.jpg?sz=128", "display_name": "Sara Ree", "link": "https://stackoverflow.com/users/10715551/sara-ree"}, "edited": false, "score": 0, "creation_date": 1577819591, "post_id": 59547545, "comment_id": 105264499, "body": "Done. Is that what you&#39;re looking for?"}], "tags": [], "owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "is_accepted": false, "score": 2, "last_activity_date": 1577819578, "last_edit_date": 1577819578, "creation_date": 1577817848, "answer_id": 59547545, "question_id": 59547420, "link": "https://stackoverflow.com/questions/59547420/generate-check-boxes-based-on-array-elements-then-populate-another-array-based-o/59547545#59547545", "title": "Generate check boxes based on array elements then populate another array based on checked check boxes", "body": "<p>You'll have to add an onClick event handler for the checkboxes and add them to the select that way.. Something like this should get you started:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let dropDown = document.getElementById('names');\r\nlet container = document.getElementById('container');\r\nlet selected = [];\r\nlet names = ['Joe', 'Mike', 'Sara', 'Jack'];\r\n\r\n// Loop through each of the voices.\r\nnames.forEach(function(e, i) {\r\n  let html = `\r\n    &lt;input onClick=\"handleCheck('container', 'names')\" type=\"checkbox\" name=\"checkbox\" id=\"${i}_${e}\" value=\"${e}\"&gt;\r\n    &lt;label for=\"${i}_${e}\"&gt;${e}&lt;/label&gt;\r\n  `;\r\n  container.innerHTML += html;\r\n});\r\n\r\nfunction handleCheck(containerElementId, inputElementId) {\r\n  let containerElement = document.getElementById(containerElementId);\r\n  let select = document.getElementById(inputElementId);\r\n  select.innerHTML = \"\";\r\n  selected = [];\r\n  containerElement.querySelectorAll('input[type=\"checkbox\"]').forEach(el =&gt; {\r\n    if(el.checked) {\r\n      select.innerHTML += `&lt;option value=\"${el.value}\"&gt;${el.value}&lt;/option&gt;`;\r\n      selected.push(el.value);\r\n    }\r\n  })\r\n  console.log(\"selected\", selected);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"option\" id=\"container\"&gt;\r\n\r\n  &lt;label for=\"voice\"&gt;US Pronunciation:&lt;/label&gt;\r\n  &lt;select name=\"voice\" id=\"names\"&gt;&lt;/select&gt;\r\n\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 11635, "user_id": 6331369, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/eiYzG.png?s=128&g=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/6331369/ivan"}, "reply_to_user": {"reputation": 2640, "user_id": 10715551, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8x4H1HHVIAo/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hc2CYqXQnqd3r2sWKJNmN5NkurzQ/mo/photo.jpg?sz=128", "display_name": "Sara Ree", "link": "https://stackoverflow.com/users/10715551/sara-ree"}, "edited": false, "score": 0, "creation_date": 1577819351, "post_id": 59547661, "comment_id": 105264457, "body": "Hi @SaraRee, if you need additional information, don&#39;t hesitate."}], "tags": [], "owner": {"reputation": 11635, "user_id": 6331369, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/eiYzG.png?s=128&g=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/6331369/ivan"}, "is_accepted": true, "score": 1, "last_activity_date": 1577819959, "last_edit_date": 1577819959, "creation_date": 1577818853, "answer_id": 59547661, "question_id": 59547420, "link": "https://stackoverflow.com/questions/59547420/generate-check-boxes-based-on-array-elements-then-populate-another-array-based-o/59547661#59547661", "title": "Generate check boxes based on array elements then populate another array based on checked check boxes", "body": "<p>You can create a <code>div</code> element containing an <code>input</code> and a <code>label</code> for each element of the array. Each one of these elements needs to be appended to an existing parent element <code>option</code>. You can achieve this by writing down the actual HTML inside back-quotes. Then create an empty element with <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/createElement\" rel=\"nofollow noreferrer\"><code>document.createElement</code></a>. Using the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/innerHTML\" rel=\"nofollow noreferrer\"><code>innerHTML</code></a> property you can fill this element with the HTML you wrote. Finally append it like you did using <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Node/appendChild\" rel=\"nofollow noreferrer\"><code>appendChild</code></a>:</p>\n\n<pre><code>  const html = `\n    &lt;div&gt;\n      &lt;input type=\"checkbox\" id=\"${name}\" name=\"${name}\"&gt;\n      &lt;label for=\"${name}\"&gt;${name}&lt;/label&gt;\n    &lt;/div&gt;\n  `.trim();\n\n  const wrapper = document.createElement('div');\n  wrapper.innerHTML = html;\n\n  const element = option.appendChild(wrapper.firstChild);\n</code></pre>\n\n<p>Instead of using <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/createElement\" rel=\"nofollow noreferrer\"><code>forEach</code></a> to loop through your array, I would use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\"><code>map</code></a> which allows us to create an array of <code>input</code> elements on the go. It's the exact same as using a <code>forEach</code>... the only difference is you need to return an element in your callback function:</p>\n\n<pre><code>const checkboxes = names.map(function(name) {\n\n  const html = `\n    &lt;div&gt;\n      &lt;input type=\"checkbox\" id=\"${name}\" name=\"${name}\"&gt;\n      &lt;label for=\"${name}\"&gt;${name}&lt;/label&gt;\n    &lt;/div&gt;\n  `.trim();\n\n  const wrapper = document.createElement('div');\n  wrapper.innerHTML = html;\n\n  const element = option.appendChild(wrapper.firstChild);\n\n  return element.querySelector('input');\n\n});\n</code></pre>\n\n<p>So now we have an array called <code>checkboxes</code> which holds four <code>input</code> elements corresponding to our four names contained in the initial <code>names</code> array.</p>\n\n<p>Whenever you need to know the checkboxes that are checked you can filter them out and get the names of the remaining ones. We'll do this using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\"><code>filter</code></a> and another <code>map</code>:</p>\n\n<pre><code>checkboxes.filter(checkbox =&gt; checkbox.checked)\n          .map(checkbox =&gt; checkbox.name);\n</code></pre>\n\n<hr>\n\n<p>Here's the full code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const option = document.querySelector('.option');\r\nconst names = ['Joe', 'Mike', 'Sara', 'Jack'];\r\n\r\nconst checkboxes = names.map(function(name) {\r\n\r\n  const html = `\r\n    &lt;div&gt;\r\n      &lt;input type=\"checkbox\" id=\"${name}\" name=\"${name}\"&gt;\r\n      &lt;label for=\"${name}\"&gt;${name}&lt;/label&gt;\r\n    &lt;/div&gt;\r\n  `.trim();\r\n\r\n  const wrapper = document.createElement('div');\r\n  wrapper.innerHTML = html;\r\n\r\n  const element = option.appendChild(wrapper.firstChild);\r\n\r\n  return element.querySelector('input');\r\n\r\n});\r\n\r\nsetTimeout(function() {\r\n\r\n  const selected = checkboxes.filter(checkbox =&gt; checkbox.checked);\r\n\r\n  console.log(selected.map(checkbox =&gt; checkbox.name));\r\n\r\n}, 3000)</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"option\"&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2640, "user_id": 10715551, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8x4H1HHVIAo/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hc2CYqXQnqd3r2sWKJNmN5NkurzQ/mo/photo.jpg?sz=128", "display_name": "Sara Ree", "link": "https://stackoverflow.com/users/10715551/sara-ree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 59547661, "answer_count": 2, "score": 1, "last_activity_date": 1577819959, "creation_date": 1577816677, "last_edit_date": 1577817139, "question_id": 59547420, "link": "https://stackoverflow.com/questions/59547420/generate-check-boxes-based-on-array-elements-then-populate-another-array-based-o", "title": "Generate check boxes based on array elements then populate another array based on checked check boxes", "body": "<p>Let's say we have an empty array that we want to populate it based on checked checkboxes :</p>\n\n<pre><code>let selected = [];\n</code></pre>\n\n<p>And another array of some person names:</p>\n\n<pre><code>let names = ['Joe', 'Mike', 'Sara', 'Jack'];\n</code></pre>\n\n<p>I want to generate checkboxes for each of the <code>name's</code> elements first, then I want to add each checked element to the <code>selected</code> array.</p>\n\n<p>I can do this with drop-downs (code below) but I have no idea how this could be done with checkboxes:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let dropDown = document.getElementById('names');\r\nlet selected = [];\r\nlet names = ['Joe', 'Mike', 'Sara', 'Jack'];\r\n\r\n// Loop through each of the voices.\r\nnames.forEach(function(e, i) {\r\n  // Create a new option element.\r\n  var option = document.createElement('option');\r\n\r\n  // Set the options value and text.\r\n  option.value = names[i];\r\n  option.innerHTML = names[i];\r\n\r\n  // Add the option to the voice selector.\r\n  dropDown.appendChild(option);\r\n});\r\n\r\n// 3 seconds to select the item\r\nsetTimeout(function() {\r\n\r\n  if (dropDown.value) {\r\n    selected.push(dropDown.value)\r\n  }\r\n\r\n  console.log(selected)\r\n\r\n}, 3000)</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"option\"&gt;\r\n\r\n  &lt;label for=\"voice\"&gt;US Pronunciation:&lt;/label&gt;\r\n  &lt;select name=\"voice\" id=\"names\"&gt;&lt;/select&gt;\r\n\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1577816924, "post_id": 59547409, "comment_id": 105263908, "body": "Your fiddle does not contain the javascript in question.  Also your html in the fiddle is invalid, as <code>div</code> elements are not allowed to be children of <code>ul</code>s."}, {"owner": {"reputation": 175, "user_id": 12447797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9a87160b2de712b1bba259392679561?s=128&d=identicon&r=PG&f=1", "display_name": "rec0nstr", "link": "https://stackoverflow.com/users/12447797/rec0nstr"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1577817108, "post_id": 59547409, "comment_id": 105263957, "body": "The question shouldn&#39;t be related to HTML structure. If you have multiple links nested and you use e.preventDefault() on the top parent of those nested links how to you &quot;put back&quot; the prevented behaviour on a nested <code>&lt;a&gt;</code>?"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1577817271, "post_id": 59547409, "comment_id": 105264000, "body": "The note about the html is a side note that the markup does not meet web standards.  Also, you do not &quot;put back&quot; behaviour.  You conditionally don&#39;t prevent it."}, {"owner": {"reputation": 175, "user_id": 12447797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9a87160b2de712b1bba259392679561?s=128&d=identicon&r=PG&f=1", "display_name": "rec0nstr", "link": "https://stackoverflow.com/users/12447797/rec0nstr"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1577817308, "post_id": 59547409, "comment_id": 105264010, "body": "The server markup is trash I know, just have to deal with it to get paid :/"}], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 12447797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9a87160b2de712b1bba259392679561?s=128&d=identicon&r=PG&f=1", "display_name": "rec0nstr", "link": "https://stackoverflow.com/users/12447797/rec0nstr"}, "edited": false, "score": 0, "creation_date": 1577817026, "post_id": 59547454, "comment_id": 105263933, "body": "No, still not working. See feature on the bottom right: <a href=\"http://wacdev.waclighting.com/product/oculux-architectural-3-5-7/#\" rel=\"nofollow noreferrer\">wacdev.waclighting.com/product/oculux-architectural-3-5-7/#</a> and add your code to the console. It&#39;s hard to explain the problem."}, {"owner": {"reputation": 22927, "user_id": 468592, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/24c893062f94d0e60db020e9e3163a2c?s=128&d=identicon&r=PG", "display_name": "Jeremy Harris", "link": "https://stackoverflow.com/users/468592/jeremy-harris"}, "reply_to_user": {"reputation": 175, "user_id": 12447797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9a87160b2de712b1bba259392679561?s=128&d=identicon&r=PG&f=1", "display_name": "rec0nstr", "link": "https://stackoverflow.com/users/12447797/rec0nstr"}, "edited": false, "score": 0, "creation_date": 1577817115, "post_id": 59547454, "comment_id": 105263962, "body": "&quot;Registration has been disabled&quot;"}, {"owner": {"reputation": 175, "user_id": 12447797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9a87160b2de712b1bba259392679561?s=128&d=identicon&r=PG&f=1", "display_name": "rec0nstr", "link": "https://stackoverflow.com/users/12447797/rec0nstr"}, "edited": false, "score": 0, "creation_date": 1577817165, "post_id": 59547454, "comment_id": 105263976, "body": "Thanks for your effort regardless. But here&#39;s the real question: The question shouldn&#39;t be related to HTML structure. If you have multiple links nested and you use e.preventDefault() on the top parent of those nested links how to you &quot;put back&quot; the prevented behaviour on a nested &lt;a&gt;?"}, {"owner": {"reputation": 175, "user_id": 12447797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9a87160b2de712b1bba259392679561?s=128&d=identicon&r=PG&f=1", "display_name": "rec0nstr", "link": "https://stackoverflow.com/users/12447797/rec0nstr"}, "edited": false, "score": 0, "creation_date": 1577817278, "post_id": 59547454, "comment_id": 105264002, "body": "How to prevent e.preventDefault() from bubbling into nestsed <code>&lt;a&gt;</code>&#39;s?"}, {"owner": {"reputation": 22927, "user_id": 468592, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/24c893062f94d0e60db020e9e3163a2c?s=128&d=identicon&r=PG", "display_name": "Jeremy Harris", "link": "https://stackoverflow.com/users/468592/jeremy-harris"}, "reply_to_user": {"reputation": 175, "user_id": 12447797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9a87160b2de712b1bba259392679561?s=128&d=identicon&r=PG&f=1", "display_name": "rec0nstr", "link": "https://stackoverflow.com/users/12447797/rec0nstr"}, "edited": false, "score": 0, "creation_date": 1577817379, "post_id": 59547454, "comment_id": 105264026, "body": "If you use a proper selector, you wouldn&#39;t be binding or doing prevent default on the nested anchors anyway."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "reply_to_user": {"reputation": 175, "user_id": 12447797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9a87160b2de712b1bba259392679561?s=128&d=identicon&r=PG&f=1", "display_name": "rec0nstr", "link": "https://stackoverflow.com/users/12447797/rec0nstr"}, "edited": false, "score": 0, "creation_date": 1577817759, "post_id": 59547454, "comment_id": 105264126, "body": "The event is not bubbling from a tag to a tag.  The markup does not have nested a tags, afaik @rec0nstr"}, {"owner": {"reputation": 175, "user_id": 12447797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9a87160b2de712b1bba259392679561?s=128&d=identicon&r=PG&f=1", "display_name": "rec0nstr", "link": "https://stackoverflow.com/users/12447797/rec0nstr"}, "edited": false, "score": 0, "creation_date": 1577818143, "post_id": 59547454, "comment_id": 105264211, "body": "I forgot to include jQuery, here is the exact replica: <a href=\"https://jsfiddle.net/o8fdhke5/1/\" rel=\"nofollow noreferrer\">jsfiddle.net/o8fdhke5/1</a> -- SO basically hose black squares (which wont be nearly as big) I want to be clicked (they have links). But because of <code>e.preventDefault()</code> they don&#39;t work as links :("}, {"owner": {"reputation": 22927, "user_id": 468592, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/24c893062f94d0e60db020e9e3163a2c?s=128&d=identicon&r=PG", "display_name": "Jeremy Harris", "link": "https://stackoverflow.com/users/468592/jeremy-harris"}, "edited": false, "score": 0, "creation_date": 1577821524, "post_id": 59547454, "comment_id": 105264910, "body": "Did you look at your browser console? For me it works except the download request is blocked because jsfiddle is on https and your download link is only http."}], "tags": [], "owner": {"reputation": 22927, "user_id": 468592, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/24c893062f94d0e60db020e9e3163a2c?s=128&d=identicon&r=PG", "display_name": "Jeremy Harris", "link": "https://stackoverflow.com/users/468592/jeremy-harris"}, "is_accepted": false, "score": 1, "last_activity_date": 1577816909, "creation_date": 1577816909, "answer_id": 59547454, "question_id": 59547409, "link": "https://stackoverflow.com/questions/59547409/using-e-preventdefault-on-a-elements-but-allowing-click-only-on-link-to-exte/59547454#59547454", "title": "Using e.preventDefault() on &lt;a&gt; elements but allowing click only on link to external document?", "body": "<p>Instead of targeting ALL <code>&lt;li&gt;</code> tags, use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/Child_combinator\" rel=\"nofollow noreferrer\">child combinator</a> to only select the top level direct descendants:</p>\n\n<pre><code>$(\"ul#dropdown-download-links &gt; li &gt; a\")\n</code></pre>\n\n<p>Then it won't target the nested <code>&lt;li&gt;</code> elements like it currently is.</p>\n"}], "owner": {"reputation": 175, "user_id": 12447797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9a87160b2de712b1bba259392679561?s=128&d=identicon&r=PG&f=1", "display_name": "rec0nstr", "link": "https://stackoverflow.com/users/12447797/rec0nstr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577816925, "creation_date": 1577816620, "last_edit_date": 1577816925, "question_id": 59547409, "link": "https://stackoverflow.com/questions/59547409/using-e-preventdefault-on-a-elements-but-allowing-click-only-on-link-to-exte", "title": "Using e.preventDefault() on &lt;a&gt; elements but allowing click only on link to external document?", "body": "<pre><code>$(document).ready(function() {\n  $(\"ul#dropdown-download-links li &gt; a\").unbind().click(function(e) {\n    var ulContainer = $(this).closest(\"li\").find(\"ul\");\n    e.preventDefault();\n    $(ulContainer).slideToggle();\n  });\n});\n</code></pre>\n\n<p>I have very simple code: When you click the <code>&lt;a&gt;</code> it will slideToggle() <code>$(ulContainer)</code> and prevent default action on links. However, is there a way to allow it for the inner links? HTML is like: <a href=\"https://jsfiddle.net/pcq20kjo/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/pcq20kjo/</a></p>\n\n<p>I didn't want to include it all as it's dynamic so not very intuitive but it's basically how to use <code>e.preventDefault()</code> but not allow it to propagate to deeper links?</p>\n\n<p>Here is a picture of the fucntionality if that helps: [<img src=\"https://i.stack.imgur.com/FLTdM.png\" alt=\"enter image description here[1]\"></p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 1567, "user_id": 6899860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29087aab9a7edfc6f52b1256fcf81f98?s=128&d=identicon&r=PG", "display_name": "Don Brody", "link": "https://stackoverflow.com/users/6899860/don-brody"}, "edited": false, "score": 1, "creation_date": 1577818581, "post_id": 59547400, "comment_id": 105264306, "body": "Please include any code that you have already tried."}, {"owner": {"reputation": 1587, "user_id": 2612640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ahRvd.jpg?s=128&g=1", "display_name": "Sgnl", "link": "https://stackoverflow.com/users/2612640/sgnl"}, "edited": false, "score": 0, "creation_date": 1577819828, "post_id": 59547400, "comment_id": 105264554, "body": "&quot;using indexOf or includes removes all occurences&quot; is not necessarily true... <code>indexOf</code> only returns the index or <code>-1</code>, it doesn&#39;t remove anything. <code>includes</code> method returns true or false, it also doesn&#39;t remove anything"}], "answers": [{"tags": [], "owner": {"reputation": 14270, "user_id": 1540854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e49f9de6321622f1fcebc76e72da708?s=128&d=identicon&r=PG", "display_name": "jeprubio", "link": "https://stackoverflow.com/users/1540854/jeprubio"}, "is_accepted": false, "score": 2, "last_activity_date": 1577816874, "last_edit_date": 1577816874, "creation_date": 1577816755, "answer_id": 59547430, "question_id": 59547400, "link": "https://stackoverflow.com/questions/59547400/remove-only-a-single-instance-of-a-character-from-a-string-javascript/59547430#59547430", "title": "Remove ONLY a Single instance of a character from a String Javascript", "body": "<p>I'ts simple, there are many ways of doing this. I would use a regex:</p>\n\n<pre><code>myStr.replace(/A/i, \"\");\n</code></pre>\n\n<p>The <code>i</code> flag is for ignoring case. If you wanted to replace more than one occurrence you need the <code>g</code> flag but it's not your case.</p>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 1347272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jhgDo.jpg?s=128&g=1", "display_name": "JoaquinFigueroa", "link": "https://stackoverflow.com/users/1347272/joaquinfigueroa"}, "is_accepted": false, "score": 0, "last_activity_date": 1577817660, "creation_date": 1577817660, "answer_id": 59547534, "question_id": 59547400, "link": "https://stackoverflow.com/questions/59547400/remove-only-a-single-instance-of-a-character-from-a-string-javascript/59547534#59547534", "title": "Remove ONLY a Single instance of a character from a String Javascript", "body": "<p>You can use regular expression in jscript, it's so easy:\nexample: alert(\"some text1, some tex2, some text3\".replace('text1', ''));\n<a href=\"https://stackoverflow.com/questions/23970079/remove-first-occurrence-of-comma-in-a-string\">Remove first occurrence of comma in a string</a></p>\n\n<p>I hope it is useful !</p>\n"}, {"tags": [], "owner": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "is_accepted": false, "score": 1, "last_activity_date": 1577823231, "last_edit_date": 1592644375, "creation_date": 1577823231, "answer_id": 59548136, "question_id": 59547400, "link": "https://stackoverflow.com/questions/59547400/remove-only-a-single-instance-of-a-character-from-a-string-javascript/59548136#59548136", "title": "Remove ONLY a Single instance of a character from a String Javascript", "body": "<p>Use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace\" rel=\"nofollow noreferrer\">String.replace</a> and pass a substring for the first argument.</p>\n<p>From the above link (emphasis mine):</p>\n<blockquote>\n<p>substr (pattern)</p>\n<p>A String that is to be replaced by newSubStr. It is treated as a verbatim string and is not interpreted as a regular expression. <strong>Only the first occurrence will be replaced.</strong></p>\n</blockquote>\n<p>Usage:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let originalString = \"QAWABAWONL\";\nlet result = originalString.replace(\"A\",\"\");\n\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 21, "user_id": 10569083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca248c51942388f977b65064206907b0?s=128&d=identicon&r=PG&f=1", "display_name": "Umesh M", "link": "https://stackoverflow.com/users/10569083/umesh-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1577823231, "creation_date": 1577816515, "last_edit_date": 1577822266, "question_id": 59547400, "link": "https://stackoverflow.com/questions/59547400/remove-only-a-single-instance-of-a-character-from-a-string-javascript", "title": "Remove ONLY a Single instance of a character from a String Javascript", "body": "<p>I have a string <code>\"QAWABAWONL\"</code>, from which I want to remove ONLY a single occurrence of the character 'A'. It does not matter whether the first occurrence or the second occurrence gets removed, either is fine. I've found that using <code>indexOf</code> or <code>includes</code> removes all occurrences.</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "ionic4"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1577818966, "post_id": 59547377, "comment_id": 105264393, "body": "Can we see how and where you call <code>scrollToBottom</code>?"}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1577819059, "post_id": 59547377, "comment_id": 105264405, "body": "@ConnorsFan Please see line <code>161</code> on the above gif."}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1577819245, "post_id": 59547377, "comment_id": 105264435, "body": "My suggestion: call <code>ChangeDetectorRef.detectChanges()</code> to update the view before calling <code>scrollToBottom()</code>."}, {"owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1577819421, "post_id": 59547377, "comment_id": 105264468, "body": "@ConnorsFan That is unnecessary overhead to the component since it&#39;ll re-run the change detection for the whole component. But <code>setTimeout()</code> is more efficient here."}], "answers": [{"tags": [], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "is_accepted": true, "score": 0, "last_activity_date": 1577818671, "creation_date": 1577818671, "answer_id": 59547639, "question_id": 59547377, "link": "https://stackoverflow.com/questions/59547377/angular-nativeelement-scrolltop-has-weird-behavior/59547639#59547639", "title": "Angular nativeElement.scrollTop has weird behavior", "body": "<p>It seems a bug on Angular when accessing the native DOM elements. I have done like below and working perfectly fine now. i.e. use <code>setTimeout()</code></p>\n\n<pre><code>scrollToBottom(): void {\n   setTimeout(() =&gt; { this.myScrollContainer.nativeElement.scrollTop = this.myScrollContainer.nativeElement.scrollHeight; }, 1);\n  }\n</code></pre>\n"}], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 832, "favorite_count": 0, "accepted_answer_id": 59547639, "answer_count": 1, "score": 0, "last_activity_date": 1577818671, "creation_date": 1577816347, "question_id": 59547377, "link": "https://stackoverflow.com/questions/59547377/angular-nativeelement-scrolltop-has-weird-behavior", "title": "Angular nativeElement.scrollTop has weird behavior", "body": "<p>Can you tell me why <code>this.myScrollContainer.nativeElement.scrollTop</code> doesn't get the assigned value of this <code>this.myScrollContainer.nativeElement.scrollHeight</code>? What is hapening here?</p>\n\n<p>.ts</p>\n\n<pre><code> @ViewChild('scrollMe', { static: false }) private myScrollContainer: ElementRef;\n\n  scrollToBottom(): void {\n     this.myScrollContainer.nativeElement.scrollTop =  this.myScrollContainer.nativeElement.scrollHeight;\n   }\n</code></pre>\n\n<p>.html</p>\n\n<pre><code>&lt;div class=\"row2\" #scrollMe&gt;\n      &lt;ion-row&gt;\n        &lt;ion-col&gt;\n          &lt;app-school&gt;&lt;/app-school&gt;\n        &lt;/ion-col&gt;\n      &lt;/ion-row&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>.scss</p>\n\n<pre><code>.content {\n    ion-grid {\n        display: flex;\n        flex-direction: column;\n        height: 100% !important;\n    }\n\n    .row1 {\n        flex: 2 !important;\n    }\n\n    .row2 {\n        flex: 5 !important;\n        overflow: scroll !important;\n    }\n}\n</code></pre>\n\n<p>Gif - click to see it on a big screen</p>\n\n<p><a href=\"https://i.stack.imgur.com/NVU4g.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NVU4g.gif\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 146, "user_id": 11023786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12db28a3f72a1b2abe139d56b570bf22?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Chadwick", "link": "https://stackoverflow.com/users/11023786/colin-chadwick"}, "reply_to_user": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1577816529, "post_id": 59547351, "comment_id": 105263787, "body": "All right, I just didn&#39;t want the question to be too similar to other questions related to that topic. Also, the cursor doesn&#39;t work without the JavaScript."}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1577817031, "post_id": 59547351, "comment_id": 105263935, "body": "Gotcha. It might be fine then since the change is probably minimal and localized, so the extra code shouldn&#39;t be too confusing."}], "answers": [{"comments": [{"owner": {"reputation": 146, "user_id": 11023786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12db28a3f72a1b2abe139d56b570bf22?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Chadwick", "link": "https://stackoverflow.com/users/11023786/colin-chadwick"}, "edited": false, "score": 0, "creation_date": 1577834627, "post_id": 59548088, "comment_id": 105267268, "body": "Thanks, but for some reason this doesn&#39;t seem to work in Chrome. For me the inner cursor stays white. In Safari, it works. Edit: Fixed the problem by using an intermediate div for the body."}], "tags": [], "owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "is_accepted": true, "score": 0, "last_activity_date": 1577822783, "creation_date": 1577822783, "answer_id": 59548088, "question_id": 59547351, "link": "https://stackoverflow.com/questions/59547351/mix-blend-mode-doesnt-work-on-custom-cursor/59548088#59548088", "title": "Mix-Blend mode doesn&#39;t work on custom cursor", "body": "<p>Just set <code>background:white</code> to both <code>body</code> and <code>.circle-cursor-inner</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Demo {\r\n  constructor() {\r\n    this.initCursor();\r\n    this.initHovers();\r\n  }\r\n \r\n\r\n  initCursor() {\r\n    const { Back } = window;\r\n    this.outerCursor = document.querySelector(\".circle-cursor-outer\");\r\n    this.innerCursor = document.querySelector(\".circle-cursor-inner\");\r\n    this.outerCursorBox = this.outerCursor.getBoundingClientRect();\r\n    this.outerCursorSpeed = 0;\r\n    this.easing = Back.easeOut.config(1.7);\r\n    this.clientX = -100;\r\n    this.clientY = -100;\r\n    this.showCursor = false;\r\n\r\n    const unveilCursor = () =&gt; {\r\n      TweenMax.set(this.innerCursor, {\r\n        x: this.clientX,\r\n        y: this.clientY\r\n      });\r\n      TweenMax.set(this.outerCursor, {\r\n        x: this.clientX - this.outerCursorBox.width / 2,\r\n        y: this.clientY - this.outerCursorBox.height / 2\r\n      });\r\n      setTimeout(() =&gt; {\r\n        this.outerCursorSpeed = 0.2;\r\n      }, 100);\r\n      this.showCursor = true;\r\n    };\r\n    document.addEventListener(\"mousemove\", unveilCursor);\r\n\r\n    document.addEventListener(\"mousemove\", e =&gt; {\r\n      this.clientX = e.clientX;\r\n      this.clientY = e.clientY;\r\n    });\r\n\r\n    const render = () =&gt; {\r\n      TweenMax.set(this.innerCursor, {\r\n        rotation: 90,\r\n        x: this.clientX,\r\n        y: this.clientY\r\n      });\r\n      if (!this.isStuck) {\r\n        TweenMax.to(this.outerCursor, this.outerCursorSpeed, {\r\n          x: this.clientX - this.outerCursorBox.width / 2,\r\n          y: this.clientY - this.outerCursorBox.height / 2\r\n        });\r\n      }\r\n      if (this.showCursor) {\r\n        document.removeEventListener(\"mousemove\", unveilCursor);\r\n      }\r\n      requestAnimationFrame(render);\r\n    };\r\n    requestAnimationFrame(render);\r\n  }\r\n\r\n  initHovers() {\r\n    const handleMouseEnter = e =&gt; {\r\n      this.isStuck = true;\r\n      const target = e.currentTarget;\r\n      const box = target.getBoundingClientRect();\r\n      this.outerCursorOriginals = {\r\n        width: this.outerCursorBox.width,\r\n        height: this.outerCursorBox.height\r\n      };\r\n      TweenMax.to(this.innerCursor, 0.2, {\r\n        x: box.left,\r\n        y: box.top,\r\n        width: box.width,\r\n        height: box.height,\r\n        opacity: 0.4,\r\n      });\r\n    };\r\n\r\n    const handleMouseLeave = () =&gt; {\r\n      this.isStuck = false;\r\n      TweenMax.to(this.innerCursor, 0.2, {\r\n        width: this.outerCursorOriginals.width,\r\n        height: this.outerCursorOriginals.height,\r\n        opacity: 0.2,\r\n      });\r\n    };\r\n\r\n    const mainNavHoverTween = TweenMax.to(this.innerCursor, 0.3, {\r\n      ease: this.easing,\r\n      paused: true,\r\n      opacity: 1,\r\n      width: 70,\r\n      height: 70,\r\n      left: -35,\r\n      top: -35\r\n    });\r\n\r\n    const mainNavMouseEnter = () =&gt; {\r\n      this.outerCursorSpeed = 0;\r\n      TweenMax.set(this.innerCursor, { opacity: 1 });\r\n      mainNavHoverTween.play();\r\n    };\r\n\r\n    const mainNavMouseLeave = () =&gt; {\r\n      this.outerCursorSpeed = 0.2;\r\n      TweenMax.set(this.innerCursor, { opacity: 1 });\r\n      mainNavHoverTween.reverse();\r\n    };\r\n\r\n    const mainNavLinks = document.querySelectorAll(\"a\");\r\n    mainNavLinks.forEach(item =&gt; {\r\n      item.addEventListener(\"mouseenter\", mainNavMouseEnter);\r\n      item.addEventListener(\"mouseleave\", mainNavMouseLeave);\r\n    });\r\n\r\n  \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n}\r\n\r\nconst demo = new Demo();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body{\r\n  height: 500vh; \r\n  background:white;\r\n}\r\n\r\na{\r\n  color: black;\r\n}\r\n\r\n.circle-cursor {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  pointer-events: none;\r\n  border-radius: 100%;\r\n}\r\n.circle-cursor-outer-badge {\r\n  opacity: 0.5;\r\n  transition: all 500ms ease-out;\r\n}\r\n.circle-cursor-inner {\r\n  width: 22.5px;\r\n  height: 22.5px;\r\n  left: -11.25px;\r\n  top: -11.25px;\r\n  z-index: 11000;\r\n  mix-blend-mode: difference;\r\n  background: white;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/TweenMax.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;body&gt;\r\n  &lt;a href=\"#\"&gt;I am a link&lt;/a&gt;\r\n  &lt;div class=\"circle-cursor circle-cursor-outer\"&gt;\r\n    &lt;img class=\"circle-cursor-outer-badge\" draggable=\"false\" width=\"120\" src=\"https://svgshare.com/i/H2V.svg\"&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"circle-cursor circle-cursor-inner\"&gt;&lt;/div&gt;\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 146, "user_id": 11023786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12db28a3f72a1b2abe139d56b570bf22?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Chadwick", "link": "https://stackoverflow.com/users/11023786/colin-chadwick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 409, "favorite_count": 0, "accepted_answer_id": 59548088, "answer_count": 1, "score": 1, "last_activity_date": 1577822783, "creation_date": 1577816116, "question_id": 59547351, "link": "https://stackoverflow.com/questions/59547351/mix-blend-mode-doesnt-work-on-custom-cursor", "title": "Mix-Blend mode doesn&#39;t work on custom cursor", "body": "<p>I would like to add a <code>mix-blend-mode: difference</code> to the inner cursor, but I can't get it to work. I heard that the <code>position: fixed</code> applied to the cursor may cause the problem here. But I can't remove that property, because the cursor needs to follow when scrolling down. Does anyone know how to fix the problem here? Thank you in advance.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Demo {\r\n  constructor() {\r\n    this.initCursor();\r\n    this.initHovers();\r\n  }\r\n \r\n\r\n  initCursor() {\r\n    const { Back } = window;\r\n    this.outerCursor = document.querySelector(\".circle-cursor-outer\");\r\n    this.innerCursor = document.querySelector(\".circle-cursor-inner\");\r\n    this.outerCursorBox = this.outerCursor.getBoundingClientRect();\r\n    this.outerCursorSpeed = 0;\r\n    this.easing = Back.easeOut.config(1.7);\r\n    this.clientX = -100;\r\n    this.clientY = -100;\r\n    this.showCursor = false;\r\n\r\n    const unveilCursor = () =&gt; {\r\n      TweenMax.set(this.innerCursor, {\r\n        x: this.clientX,\r\n        y: this.clientY\r\n      });\r\n      TweenMax.set(this.outerCursor, {\r\n        x: this.clientX - this.outerCursorBox.width / 2,\r\n        y: this.clientY - this.outerCursorBox.height / 2\r\n      });\r\n      setTimeout(() =&gt; {\r\n        this.outerCursorSpeed = 0.2;\r\n      }, 100);\r\n      this.showCursor = true;\r\n    };\r\n    document.addEventListener(\"mousemove\", unveilCursor);\r\n\r\n    document.addEventListener(\"mousemove\", e =&gt; {\r\n      this.clientX = e.clientX;\r\n      this.clientY = e.clientY;\r\n    });\r\n\r\n    const render = () =&gt; {\r\n      TweenMax.set(this.innerCursor, {\r\n        rotation: 90,\r\n        x: this.clientX,\r\n        y: this.clientY\r\n      });\r\n      if (!this.isStuck) {\r\n        TweenMax.to(this.outerCursor, this.outerCursorSpeed, {\r\n          x: this.clientX - this.outerCursorBox.width / 2,\r\n          y: this.clientY - this.outerCursorBox.height / 2\r\n        });\r\n      }\r\n      if (this.showCursor) {\r\n        document.removeEventListener(\"mousemove\", unveilCursor);\r\n      }\r\n      requestAnimationFrame(render);\r\n    };\r\n    requestAnimationFrame(render);\r\n  }\r\n\r\n  initHovers() {\r\n    const handleMouseEnter = e =&gt; {\r\n      this.isStuck = true;\r\n      const target = e.currentTarget;\r\n      const box = target.getBoundingClientRect();\r\n      this.outerCursorOriginals = {\r\n        width: this.outerCursorBox.width,\r\n        height: this.outerCursorBox.height\r\n      };\r\n      TweenMax.to(this.innerCursor, 0.2, {\r\n        x: box.left,\r\n        y: box.top,\r\n        width: box.width,\r\n        height: box.height,\r\n        opacity: 0.4,\r\n      });\r\n    };\r\n\r\n    const handleMouseLeave = () =&gt; {\r\n      this.isStuck = false;\r\n      TweenMax.to(this.innerCursor, 0.2, {\r\n        width: this.outerCursorOriginals.width,\r\n        height: this.outerCursorOriginals.height,\r\n        opacity: 0.2,\r\n      });\r\n    };\r\n\r\n    const mainNavHoverTween = TweenMax.to(this.innerCursor, 0.3, {\r\n      ease: this.easing,\r\n      paused: true,\r\n      opacity: 1,\r\n      width: 70,\r\n      height: 70,\r\n      left: -35,\r\n      top: -35\r\n    });\r\n\r\n    const mainNavMouseEnter = () =&gt; {\r\n      this.outerCursorSpeed = 0;\r\n      TweenMax.set(this.innerCursor, { opacity: 1 });\r\n      mainNavHoverTween.play();\r\n    };\r\n\r\n    const mainNavMouseLeave = () =&gt; {\r\n      this.outerCursorSpeed = 0.2;\r\n      TweenMax.set(this.innerCursor, { opacity: 1 });\r\n      mainNavHoverTween.reverse();\r\n    };\r\n\r\n    const mainNavLinks = document.querySelectorAll(\"a\");\r\n    mainNavLinks.forEach(item =&gt; {\r\n      item.addEventListener(\"mouseenter\", mainNavMouseEnter);\r\n      item.addEventListener(\"mouseleave\", mainNavMouseLeave);\r\n    });\r\n\r\n  \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n}\r\n\r\nconst demo = new Demo();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body{\r\n  height: 500vh;\r\n}\r\n\r\na{\r\n  color: black;\r\n}\r\n\r\n.circle-cursor {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  pointer-events: none;\r\n  border-radius: 100%;\r\n}\r\n.circle-cursor-outer-badge {\r\n  opacity: 0.5;\r\n  transition: all 500ms ease-out;\r\n}\r\n.circle-cursor-inner {\r\n  width: 22.5px;\r\n  height: 22.5px;\r\n  left: -11.25px;\r\n  top: -11.25px;\r\n  z-index: 11000;\r\n  mix-blend-mode: difference;\r\n  background-color: black;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/TweenMax.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;body&gt;\r\n  &lt;a href=\"#\"&gt;I am a link&lt;/a&gt;\r\n  &lt;div class=\"circle-cursor circle-cursor-outer\"&gt;\r\n    &lt;img class=\"circle-cursor-outer-badge\" draggable=\"false\" width=\"120\" src=\"https://svgshare.com/i/H2V.svg\"&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"circle-cursor circle-cursor-inner\"&gt;&lt;/div&gt;\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs", "react-native", "jestjs", "enzyme"], "answers": [{"tags": [], "owner": {"reputation": 653, "user_id": 3393030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca9496d758234de62db0bdaeafa247c7?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan W.", "link": "https://stackoverflow.com/users/3393030/ryan-w"}, "is_accepted": false, "score": 1, "last_activity_date": 1577816502, "creation_date": 1577816502, "answer_id": 59547396, "question_id": 59547315, "link": "https://stackoverflow.com/questions/59547315/how-to-use-document-getelementbyid-in-react-test-cases-jest-enzyme/59547396#59547396", "title": "How to use document.getElementById() in React Test cases (JEST+ ENZYME)", "body": "<p>Look into using <code>.createRef()</code> for getting the reference to the DOM element: <a href=\"https://reactjs.org/docs/refs-and-the-dom.html\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/refs-and-the-dom.html</a></p>\n"}], "owner": {"reputation": 103, "user_id": 3019647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce94beadfd432ce0445a850d71bbbfe?s=128&d=identicon&r=PG&f=1", "display_name": "user3019647", "link": "https://stackoverflow.com/users/3019647/user3019647"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577816502, "creation_date": 1577815844, "question_id": 59547315, "link": "https://stackoverflow.com/questions/59547315/how-to-use-document-getelementbyid-in-react-test-cases-jest-enzyme", "title": "How to use document.getElementById() in React Test cases (JEST+ ENZYME)", "body": "<p>I have a document as follows.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n\n&lt;h1&gt;My First Heading&lt;/h1&gt;\n\n&lt;p id=\"para\"&gt;My first paragraph.&lt;/p&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I am using below code in my React App</p>\n\n<pre><code>const fieldElement = document.getElementById(fieldError);\n</code></pre>\n\n<p>Now how do i test this particular line in my React test case scenario</p>\n\n<pre><code>it(\"should provide fieldElement for the id\", async () =&gt; {\n  let fieldError = \"para\"\n  // Need to write test for document.getElemetById here\n  });\n\n</code></pre>\n\n<p>Can someone please shed some light on this. </p>\n"}, {"tags": ["javascript", "node.js", "reactjs", "axios"], "comments": [{"owner": {"reputation": 587, "user_id": 3211319, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/49a0dfd7a00302207c6274c0751744a6?s=128&d=identicon&r=PG&f=1", "display_name": "Jithin P", "link": "https://stackoverflow.com/users/3211319/jithin-p"}, "edited": false, "score": 1, "creation_date": 1577815365, "post_id": 59547232, "comment_id": 105263459, "body": "did you checked the network tab and inspected the payload to check everything is ok from client?"}, {"owner": {"reputation": 5270, "user_id": 6356919, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/waPfK.png?s=128&g=1", "display_name": "Chaim Friedman", "link": "https://stackoverflow.com/users/6356919/chaim-friedman"}, "edited": false, "score": 0, "creation_date": 1577815567, "post_id": 59547232, "comment_id": 105263524, "body": "are you using body parser?"}, {"owner": {"reputation": 33, "user_id": 11730120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9cb228414b2e2d277e665c7e06d1f82?s=128&d=identicon&r=PG&f=1", "display_name": "OlegA", "link": "https://stackoverflow.com/users/11730120/olega"}, "edited": false, "score": 0, "creation_date": 1577815681, "post_id": 59547232, "comment_id": 105263555, "body": "Yes, using bodyParser. Nothing in Network tab... The strange thing is that I&#39;ve been using this Axios thing for months with no issues, and all of a sudden just plain not working... Very unreliable. console.trace is showing this when I toggle content-type to form urlencoded, {{&#39;.... the whole stringified JSON&#39;}:&#39;&#39;}. So the property name is my stringified JSON which is equal to an emptry string. Isn&#39;t making much sense..."}, {"owner": {"reputation": 33, "user_id": 11730120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9cb228414b2e2d277e665c7e06d1f82?s=128&d=identicon&r=PG&f=1", "display_name": "OlegA", "link": "https://stackoverflow.com/users/11730120/olega"}, "edited": false, "score": 1, "creation_date": 1577816040, "post_id": 59547232, "comment_id": 105263652, "body": "Solved issue the dumb way. Just put jQuery in the window object. Worked from first try. Really been wasting time with this Axios thing."}, {"owner": {"reputation": 6672, "user_id": 2446254, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/4SJnD.png?s=128&g=1", "display_name": "Cody \uff27", "link": "https://stackoverflow.com/users/2446254/cody-%ef%bc%a7"}, "edited": false, "score": 0, "creation_date": 1577817628, "post_id": 59547232, "comment_id": 105264095, "body": "The request in the network tab doesn&#39;t show the payload? Are you sure the payload isn&#39;t <code>undefined</code> when it&#39;s passed to axios.post?"}], "owner": {"reputation": 33, "user_id": 11730120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9cb228414b2e2d277e665c7e06d1f82?s=128&d=identicon&r=PG&f=1", "display_name": "OlegA", "link": "https://stackoverflow.com/users/11730120/olega"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577815872, "creation_date": 1577815205, "last_edit_date": 1577815872, "question_id": 59547232, "link": "https://stackoverflow.com/questions/59547232/why-will-all-of-a-sudden-req-body-be-empty", "title": "Why will all of a sudden req.body be empty?", "body": "<p>So I've been working on this React/Node application since August now. Never encountered such issue. Been trying to fix, but it just wouldn't happen.\nSo React is sending an Axios request to Express, and in the first middleware Tier req.body is empty. I tried to change headers back and forth. So changing them to urlencoded actually turns the req.body into this {'entire stringified payload':''} so as if it's an object with a stringified JSON payload as the property name. Setting the headers as application/json doesn't do anything.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>(async function(x) {\n    await Axios.post(`https://${x}/dispositionController/executeDisposition`,payload)\n})(this.props.correctEndpoint)\n</code></pre>\n\n<p>This is the piece of code that is sending data to Express. I didn't want to make it an IIFE, I tried many things, and made it an IIFE out of desperation. This is middleware tier in Express where req.body is empty it is actuall the first middleware tier after error-handling middleware tier for http.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>dispositionController.use((req,res,next)=&gt;{\n  console.trace(req.body,'req.body here');\n  console.trace(req.body.Note,'req.body.Note');\n  throw new Error('');\n  global.thisSocket.to(`${req.body.dispoSocketID}`).emit('postingDispo');\n  req.body.Note=req.body.Note.replace(/[^A-Za-z]/g,\"\");\n\n  switch(req.body.eventID) {\n    case 5:\n    req.body.typeOfRegular='Inbound';\n    break;\n    case !5:\n    req.body.typeOfRegular='Outbound';\n    break;\n  }\n  next();\n})\n</code></pre>\n\n<p>Please help.</p>\n"}, {"tags": ["javascript", "node.js"], "answers": [{"tags": [], "owner": {"reputation": 22927, "user_id": 468592, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/24c893062f94d0e60db020e9e3163a2c?s=128&d=identicon&r=PG", "display_name": "Jeremy Harris", "link": "https://stackoverflow.com/users/468592/jeremy-harris"}, "is_accepted": true, "score": 1, "last_activity_date": 1577815509, "creation_date": 1577815509, "answer_id": 59547273, "question_id": 59547222, "link": "https://stackoverflow.com/questions/59547222/having-an-issue-with-createclient/59547273#59547273", "title": "Having an issue with createClient", "body": "<p>You are more than likely overwriting the original connection, causing it to drop. You could instead make a connection factory and be able to create many connections.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nclass ClientFactory {\n\n    constructor(mc) {\n        this.mc = mc;\n        this.clients = {};\n    }\n\n    create(key, options) {\n        const client = this.mc.createClient(options);\n\n        this.clients[key] = client;\n\n        return client;\n    }\n\n    get(key) {\n        return this.clients[key];\n    }\n\n}\n\n// Instantiate factory\nconst client = new ClientFactory(mc);\n\n// Make first client\nclient1 = client.create('client1', {\n    host: \"2b2t.org\",\n    port: 25565,\n    username: username,\n    password: password,\n    version: \"1.12.2\"\n});\n\n// Make second client\nclient2 = client.create('client2', {\n    host: \"2b2t.org\",\n    port: 25565,\n    username: username,\n    password: password,\n    version: \"1.12.2\"\n});\n\n// Do something with one of them\nclient.get('client1').callSomething();\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 11940854, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8GR7Iq6Ce0c/AAAAAAAAAAI/AAAAAAAAAXs/DSeNjteCfHw/photo.jpg?sz=128", "display_name": "Kerchoo Kult", "link": "https://stackoverflow.com/users/11940854/kerchoo-kult"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 59547273, "answer_count": 1, "score": 0, "last_activity_date": 1577815509, "creation_date": 1577815147, "question_id": 59547222, "link": "https://stackoverflow.com/questions/59547222/having-an-issue-with-createclient", "title": "Having an issue with createClient", "body": "<p>Okay, so how my code works is that a discord bot in the index.js file has stored usernames and passwords.\nWhen I make a request to the minecraft file, using minecraft-protocol i create a login to a server called Client, </p>\n\n<pre><code>        clientName = mc.createClient({ // connect to 2b2t\n            host: \"2b2t.org\",\n            port: 25565,\n            username: username,\n            password: password,\n            version: \"1.12.2\"\n        });\n</code></pre>\n\n<p>an issue with this is, when a new user (while the current client is still going) trys to create a client, the old one is dropped for the new one. I need a way to identify one from the other.</p>\n"}, {"tags": ["javascript", "html", "css", "modal-dialog"], "comments": [{"owner": {"reputation": 22927, "user_id": 468592, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/24c893062f94d0e60db020e9e3163a2c?s=128&d=identicon&r=PG", "display_name": "Jeremy Harris", "link": "https://stackoverflow.com/users/468592/jeremy-harris"}, "edited": false, "score": 1, "creation_date": 1577815144, "post_id": 59547189, "comment_id": 105263397, "body": "Use a &lt;script&gt; tag to include it as a separate script."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 1, "creation_date": 1577815331, "post_id": 59547189, "comment_id": 105263448, "body": "Java is not short for JavaScript"}], "answers": [{"tags": [], "owner": {"reputation": 970, "user_id": 267706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57898b06cf611e1719aa39b126419a3b?s=128&d=identicon&r=PG", "display_name": "JohnC", "link": "https://stackoverflow.com/users/267706/johnc"}, "is_accepted": false, "score": 0, "last_activity_date": 1577817219, "creation_date": 1577817219, "answer_id": 59547489, "question_id": 59547189, "link": "https://stackoverflow.com/questions/59547189/html-css-javascript-modal-and-many-pages/59547489#59547489", "title": "HTML, CSS, JavaScript modal and many pages", "body": "<p>There is no way within html to include text from filea in file1,file2,file3 etc.\nIf it is not too much work copy and paste or search and replace in an editor might the quickest fix.</p>\n\n<p>Here are more complex solutions:\n<a href=\"https://stackoverflow.com/questions/8988855/include-another-html-file-in-a-html-file\">Include another HTML file in a HTML file</a></p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 12633416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc2e5ce368d3dd29bd1c6f29505576fc?s=128&d=identicon&r=PG&f=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/12633416/jon"}, "edited": false, "score": 0, "creation_date": 1577974417, "post_id": 59547760, "comment_id": 105297311, "body": "Not working in Xampp, but that is the idea I am looking for, being able to reference the file from the webpages. Something like a simple edit to this line of code that I have on the page now that does the work.  \t&lt;a href=&quot;#modal&quot; class=&quot;modal-open&quot;&gt;Open Modal&lt;/a&gt;"}], "tags": [], "owner": {"reputation": 236, "user_id": 3173001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ae34128633cb7eb2070223f051446e8?s=128&d=identicon&r=PG&f=1", "display_name": "KKGupta", "link": "https://stackoverflow.com/users/3173001/kkgupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1577819825, "creation_date": 1577819825, "answer_id": 59547760, "question_id": 59547189, "link": "https://stackoverflow.com/questions/59547189/html-css-javascript-modal-and-many-pages/59547760#59547760", "title": "HTML, CSS, JavaScript modal and many pages", "body": "<pre><code>If you are working on apace server like Xampp. You can create a file called modal.html\n\nNow you can reference the same file in all HTML pages with below code \n\n\n\n&lt;!-- Modalstarts --&gt; \n                &lt;!--#include virtual=\"modal.html\"--&gt; \n            &lt;!-- Modal ends --&gt;\n\nSetting in XAMPP for this to work\nOpen httpd.conf file at this path C:\\xampp\\apache\\conf in some editor\n\nSearch for AddType text/html .shtml\n and replce it by \n\nAddType text/html .html\n    AddOutputFilter INCLUDES .html\nand restart xampp\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 12633416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc2e5ce368d3dd29bd1c6f29505576fc?s=128&d=identicon&r=PG&f=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/12633416/jon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1577819825, "creation_date": 1577814967, "last_edit_date": 1577816295, "question_id": 59547189, "link": "https://stackoverflow.com/questions/59547189/html-css-javascript-modal-and-many-pages", "title": "HTML, CSS, JavaScript modal and many pages", "body": "<p>I have an HTML page that has a modal popup window on it. The page has Javascript and CSS and works fine. However, I have 24 pages that I need the same modal function on. Is there any way to link or reference the modal page or code from a simple syntax from the html page to a modal page? So I can have a separate modal only page that I can link from each of the 24 pages. Just to keep things simple. SAme way one links to a css page.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "api", "model-view-controller", "typeahead.js"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1577815035, "post_id": 59547174, "comment_id": 105263364, "body": "Post the entire text of the error, and tell us which line of code is causing it."}, {"owner": {"reputation": 59, "user_id": 11160248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4d543afd212f2437ce2612c0589fef?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Wolfe", "link": "https://stackoverflow.com/users/11160248/steve-wolfe"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1577815226, "post_id": 59547174, "comment_id": 105263419, "body": "Just made changes"}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1577815300, "post_id": 59547174, "comment_id": 105263440, "body": "Yep.  Now read the error message.  Are you missing a cast?"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 11160248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4d543afd212f2437ce2612c0589fef?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Wolfe", "link": "https://stackoverflow.com/users/11160248/steve-wolfe"}, "edited": false, "score": 0, "creation_date": 1577815836, "post_id": 59547251, "comment_id": 105263591, "body": "IQueryable&lt;VMRS&gt; vmrsQuery = _context.VMRS; is what fixed it. Thank you Very Much!!!"}], "tags": [], "owner": {"reputation": 4879, "user_id": 1212994, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0Z0E2.jpg?s=128&g=1", "display_name": "Todd Skelton", "link": "https://stackoverflow.com/users/1212994/todd-skelton"}, "is_accepted": true, "score": 1, "last_activity_date": 1577815326, "creation_date": 1577815326, "answer_id": 59547251, "question_id": 59547174, "link": "https://stackoverflow.com/questions/59547174/cannot-implicitly-convert-system-linq-an-explicit-conversion-exists-are-you-miss/59547251#59547251", "title": "cannot implicitly convert System.LINQ an explicit conversion exists are you missing a cast", "body": "<p>You shouldn't call <code>ToList()</code> on your context directly. This will pull every row from the database into memory before executing the where clause.</p>\n\n<p><code>vmrsQuery = vmrsQuery.ToList().Where(c =&gt; c.Description.Contains(query));</code></p>\n\n<p>should be </p>\n\n<p><code>vmrsQuery = vmrsQuery.Where(c =&gt; c.Description.Contains(query));</code></p>\n\n<p>Also, you probably need to explicitly define your variable.</p>\n\n<p><code>var vmrsQuery = _context.VMRS;</code></p>\n\n<p>should be </p>\n\n<p><code>IQueryable&lt;VMRS&gt; vmrsQuery = _context.VMRS;</code></p>\n\n<p>This is because the context could be a DbSet if using Entity Framework.</p>\n\n<p>You could also just put <code>_context.VMRS.AsQueryable()</code></p>\n"}], "owner": {"reputation": 59, "user_id": 11160248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4d543afd212f2437ce2612c0589fef?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Wolfe", "link": "https://stackoverflow.com/users/11160248/steve-wolfe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 59547251, "answer_count": 1, "score": 0, "last_activity_date": 1577815326, "creation_date": 1577814863, "last_edit_date": 1577815268, "question_id": 59547174, "link": "https://stackoverflow.com/questions/59547174/cannot-implicitly-convert-system-linq-an-explicit-conversion-exists-are-you-miss", "title": "cannot implicitly convert System.LINQ an explicit conversion exists are you missing a cast", "body": "<p>I am currently trying to implement TypeAhead plugin with an API search query. The below code is a snippit I recieved from a udemy class Mosh (<a href=\"https://github.com/mosh-hamedani/vidly-mvc-5/blob/master/Vidly/Controllers/Api/CustomersController.cs\" rel=\"nofollow noreferrer\">https://github.com/mosh-hamedani/vidly-mvc-5/blob/master/Vidly/Controllers/Api/CustomersController.cs</a>). Upon implementing the below code I am receiving the error of </p>\n\n<blockquote>\n  <p>Cannot implicitly convert type\n  'System.Linq.Iqueryable' to \n  System.Data.Entity.DbSet'. An Explicit conversion exists\n  (are you missing a cast)?</p>\n</blockquote>\n\n<p>This happens on this line of code </p>\n\n<pre><code>vmrsQuery = vmrsQuery.Where(c =&gt; c.Description.Contains(query));\n</code></pre>\n\n<p>Does anyone else have a workaround to get this to function correctly?</p>\n\n<pre><code>public IHttpActionResult GetVMRS(string query = null)\n    {\n\n        var vmrsQuery = _context.VMRS;\n\n        if (!String.IsNullOrWhiteSpace(query))\n            vmrsQuery = vmrsQuery.ToList().Where(c =&gt; c.Description.Contains(query));\n\n        var vmrsDtos = vmrsQuery\n            .ToList()\n            .Select(Mapper.Map&lt;VMRS, VMRSDto&gt;);\n\n        return Ok(vmrsDtos);\n    }\n</code></pre>\n"}, {"tags": ["javascript", "html", "vue.js"], "comments": [{"owner": {"reputation": 6045, "user_id": 330697, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0d575e232fbd3eb6dbd0fe4874c007d4?s=128&d=identicon&r=PG&f=1", "display_name": "painotpi", "link": "https://stackoverflow.com/users/330697/painotpi"}, "edited": false, "score": 7, "creation_date": 1577814768, "post_id": 59547124, "comment_id": 105263272, "body": "Won&#39;t <code>&amp;gt;hello&amp;lt;</code> work?"}, {"owner": {"reputation": 321, "user_id": 8778465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aOMtV.jpg?s=128&g=1", "display_name": "johnmikelridzz", "link": "https://stackoverflow.com/users/8778465/johnmikelridzz"}, "edited": false, "score": 0, "creation_date": 1577814812, "post_id": 59547124, "comment_id": 105263278, "body": "Wrap it with brackets but with template strings. Try <code>{{`&lt;hello&gt;`}}</code>"}, {"owner": {"reputation": 4275, "user_id": 5739288, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/mRf6m.jpg?s=128&g=1", "display_name": "Iggy", "link": "https://stackoverflow.com/users/5739288/iggy"}, "reply_to_user": {"reputation": 321, "user_id": 8778465, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aOMtV.jpg?s=128&g=1", "display_name": "johnmikelridzz", "link": "https://stackoverflow.com/users/8778465/johnmikelridzz"}, "edited": false, "score": 0, "creation_date": 1577814888, "post_id": 59547124, "comment_id": 105263309, "body": "@johnmikelridzz it didn&#39;t work. It complained: ` tag &lt;hello&gt; has no matching end tag.`"}, {"owner": {"reputation": 4275, "user_id": 5739288, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/mRf6m.jpg?s=128&g=1", "display_name": "Iggy", "link": "https://stackoverflow.com/users/5739288/iggy"}, "reply_to_user": {"reputation": 6045, "user_id": 330697, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0d575e232fbd3eb6dbd0fe4874c007d4?s=128&d=identicon&r=PG&f=1", "display_name": "painotpi", "link": "https://stackoverflow.com/users/330697/painotpi"}, "edited": false, "score": 1, "creation_date": 1577814953, "post_id": 59547124, "comment_id": 105263330, "body": "Yup! @pai.not.pi it works! \ud83d\udc4d Thank you very much. Can&#39;t believe I didn&#39;t think of it."}], "answers": [{"tags": [], "owner": {"reputation": 2955, "user_id": 6655126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DUGmM.jpg?s=128&g=1", "display_name": "T. Short", "link": "https://stackoverflow.com/users/6655126/t-short"}, "is_accepted": true, "score": 0, "last_activity_date": 1577878688, "creation_date": 1577878688, "answer_id": 59552160, "question_id": 59547124, "link": "https://stackoverflow.com/questions/59547124/how-to-display-strings-with-angle-brackets-in-vue/59552160#59552160", "title": "How to display strings with angle brackets in Vue?", "body": "<p>I see you went with the suggestion of using <code>&amp;gt;hello&amp;lt;</code>. Which is fine, I just wanted to share another method in case someone else stumbles upon this question.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;template&gt;\n  &lt;div&gt;{{ hello }}&lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nexport default {\n  data() {\n    return {\n      hello: \"&lt;hello&gt;\"\n    };\n  },\n};\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 4275, "user_id": 5739288, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/mRf6m.jpg?s=128&g=1", "display_name": "Iggy", "link": "https://stackoverflow.com/users/5739288/iggy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 59552160, "answer_count": 1, "score": 0, "last_activity_date": 1577878688, "creation_date": 1577814565, "question_id": 59547124, "link": "https://stackoverflow.com/questions/59547124/how-to-display-strings-with-angle-brackets-in-vue", "title": "How to display strings with angle brackets in Vue?", "body": "<p>I am trying to display, literally, angle brackets in Vue. Let's say I want to display on my page, The text <code>\"&lt;Hello&gt;\"</code>. I don't want Vue to render the HTML. </p>\n\n<p>What is the Vue way to do display <code>&lt;hello&gt;</code> on page? </p>\n\n<p>I've tried, unsuccessfully:</p>\n\n<p><a href=\"https://vuejs.org/v2/api/#v-pre\" rel=\"nofollow noreferrer\">v-pre</a>:</p>\n\n<pre><code>&lt;span v-pre&gt;{{ &lt;hello&gt; }}&lt;/span&gt;\n</code></pre>\n\n<p>adding it directly, surrounded by <code>{{}}</code></p>\n\n<pre><code>{{ &lt;hello&gt;}}\n</code></pre>\n\n<p>Adding it directly</p>\n\n<pre><code>&lt;hello&gt;\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "edited": false, "score": 0, "creation_date": 1577821366, "post_id": 59547121, "comment_id": 105264879, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/3508605/how-can-i-transition-height-0-to-height-auto-using-css\">How can I transition height: 0; to height: auto; using CSS?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 3289254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bb24dd8591ccbca2cca46eba31249a6?s=128&d=identicon&r=PG&f=1", "display_name": "user3289254", "link": "https://stackoverflow.com/users/3289254/user3289254"}, "is_accepted": false, "score": 0, "last_activity_date": 1577816379, "creation_date": 1577816379, "answer_id": 59547384, "question_id": 59547121, "link": "https://stackoverflow.com/questions/59547121/smooth-transition-on-content-change/59547384#59547384", "title": "smooth transition on content change", "body": "<p>In that case, \ncreate a separate transition class and add that class to that DIV along with the Javascript event.</p>\n\n<pre><code>document.getElementById('divID').className='CssTransitionClassName';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4166, "user_id": 11393381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SShVL.jpg?s=128&g=1", "display_name": "Awais", "link": "https://stackoverflow.com/users/11393381/awais"}, "is_accepted": false, "score": 0, "last_activity_date": 1577816475, "creation_date": 1577816475, "answer_id": 59547393, "question_id": 59547121, "link": "https://stackoverflow.com/questions/59547121/smooth-transition-on-content-change/59547393#59547393", "title": "smooth transition on content change", "body": "<blockquote>\n  <p>The basic strategy is to manually do what the browser refuses to:\n  calculate the full size of the element's contents, then CSS transition\n  the element to that explicit pixel size.</p>\n</blockquote>\n\n<p><strong><em>A Js solution which i prefer</em></strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// This is the important part!\r\n\r\nfunction collapseSection(element) {\r\n  // get the height of the element's inner content, regardless of its actual size\r\n  var sectionHeight = element.scrollHeight;\r\n  \r\n  // temporarily disable all css transitions\r\n  var elementTransition = element.style.transition;\r\n  element.style.transition = '';\r\n  \r\n  // on the next frame (as soon as the previous style change has taken effect),\r\n  // explicitly set the element's height to its current pixel height, so we \r\n  // aren't transitioning out of 'auto'\r\n  requestAnimationFrame(function() {\r\n    element.style.height = sectionHeight + 'px';\r\n    element.style.transition = elementTransition;\r\n    \r\n    // on the next frame (as soon as the previous style change has taken effect),\r\n    // have the element transition to height: 0\r\n    requestAnimationFrame(function() {\r\n      element.style.height = 0 + 'px';\r\n    });\r\n  });\r\n  \r\n  // mark the section as \"currently collapsed\"\r\n  element.setAttribute('data-collapsed', 'true');\r\n}\r\n\r\nfunction expandSection(element) {\r\n  // get the height of the element's inner content, regardless of its actual size\r\n  var sectionHeight = element.scrollHeight;\r\n  \r\n  // have the element transition to the height of its inner content\r\n  element.style.height = sectionHeight + 'px';\r\n\r\n  // when the next css transition finishes (which should be the one we just triggered)\r\n  element.addEventListener('transitionend', function(e) {\r\n    // remove this event listener so it only gets triggered once\r\n    element.removeEventListener('transitionend', arguments.callee);\r\n    \r\n    // remove \"height\" from the element's inline styles, so it can return to its initial value\r\n    element.style.height = null;\r\n  });\r\n  \r\n  // mark the section as \"currently not collapsed\"\r\n  element.setAttribute('data-collapsed', 'false');\r\n}\r\n\r\ndocument.querySelector('#toggle-button').addEventListener('click', function(e) {\r\n  var section = document.querySelector('.section.collapsible');\r\n  var isCollapsed = section.getAttribute('data-collapsed') === 'true';\r\n    \r\n  if(isCollapsed) {\r\n    expandSection(section)\r\n    section.setAttribute('data-collapsed', 'false')\r\n  } else {\r\n    collapseSection(section)\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.container .section {\r\n  overflow: hidden;\r\n  transition: height 0.3s ease-out;\r\n  height: auto;\r\n}\r\n\r\n* {\r\n  box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n  margin: 0;\r\n  padding: 10vh 10vw;\r\n  font-family: arial;\r\n}\r\n\r\np {\r\n  margin: 10px;\r\n}\r\n\r\n.container {\r\n  border: 3px solid #ffeb3b;\r\n  margin: 0 auto;\r\n  max-width: 300px;\r\n  border-radius: 3px;\r\n}\r\n.container .section {\r\n  border: 3px solid #4caf50;\r\n}\r\n\r\nbutton {\r\n  display: block;\r\n  --webkit-appearance: none;\r\n  font-size: 18px;\r\n  border: none;\r\n  border-radius: 3px;\r\n  background: #2196f3;\r\n  color: white;\r\n  margin: 15px auto;\r\n  padding: 15px;\r\n  cursor: pointer;\r\n  transition: box-shadow 0.2s ease-out;\r\n}\r\nbutton:hover {\r\n  box-shadow: 0px 0px 15px lightgrey;\r\n}\r\nbutton:active {\r\n  box-shadow: 0px 0px 10px lightgrey;\r\n}\r\nbutton:focus {\r\n  outline: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"container\"&gt;\r\n  &lt;div class=\"section\"&gt;\r\n    &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.&lt;/p&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"section collapsible\"&gt;\r\n    &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.&lt;/p&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"section\"&gt;\r\n   &lt;p&gt;Ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.&lt;/p&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;button id=\"toggle-button\"&gt;Toggle collapse&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You can read further <a href=\"https://css-tricks.com/using-css-transitions-auto-dimensions/\" rel=\"nofollow noreferrer\">Reference</a></p>\n"}, {"tags": [], "owner": {"reputation": 754, "user_id": 2574453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f89ded1910af30bd2bc01f8c15fb232?s=128&d=identicon&r=PG", "display_name": "chris", "link": "https://stackoverflow.com/users/2574453/chris"}, "is_accepted": false, "score": 2, "last_activity_date": 1577820306, "creation_date": 1577820306, "answer_id": 59547811, "question_id": 59547121, "link": "https://stackoverflow.com/questions/59547121/smooth-transition-on-content-change/59547811#59547811", "title": "smooth transition on content change", "body": "<p>This could be what you are looking for:\n<a href=\"https://stackoverflow.com/questions/2968909/animating-a-div-while-it-fits-to-dynamically-loaded-content\">Animating a div while it fits to dynamically loaded content</a></p>\n\n<p><strong><a href=\"https://jsfiddle.net/ebgfxajz/1/\" rel=\"nofollow noreferrer\">I refactored their solution here</a></strong> to account for adding content, though you can add/remove/alter it any way you need. This will animate to new height and width with appended content, regardless of the amount of content added.</p>\n\n<p>There is more to the code than this, but these are the basic steps of what's involved:</p>\n\n<pre><code>/* 1: Append Content to the animated element */\n$(element).append(content);\n\n/* 2: Set height &amp; width to auto */\n$(element).css({'width':'auto','height':'auto', 'padding':'15px 25px'});\n\n/* 3: Set height &amp; width to an initial value*/\n$(element).css({'width':oldWidth+'px','height':oldHeight+'px'});\n\n/* 4: Animate to the final values */\n$(element).animate({\n  'width':contentWidth+'px',\n  'height':contentHeight+'px',\n  'padding':'15px 25px'\n}, 500);\n</code></pre>\n\n<p>You can alter the <code>content</code> variable to be whatever html content you need, or change <code>$(element).append()</code> to <code>$(element).html()</code> to alter the contents completely instead of just appending items to them.</p>\n"}], "owner": {"reputation": 849, "user_id": 11188210, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1sk8i9qe6Vg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc6BKmYRyrLLeTqvprpnng6t90bCQ/mo/photo.jpg?sz=128", "display_name": "Phaelax z", "link": "https://stackoverflow.com/users/11188210/phaelax-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4689, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1577820306, "creation_date": 1577814548, "question_id": 59547121, "link": "https://stackoverflow.com/questions/59547121/smooth-transition-on-content-change", "title": "smooth transition on content change", "body": "<p>I have a DIV of unknown height with content that can be changed from a javascript event.  When the content changes, the DIV resizes to fit the new content.  What I'm trying to do is have the DIV transition to the different height smoothly rather than abruptly.</p>\n\n<p>I've tried adding this in to the DIV's CSS but it doesn't help. Not unless I set a specific height of the element.</p>\n\n<pre><code>transition: height 1s linear;\n</code></pre>\n\n<p>Is there a simple way to do this based on the content? Or do I have no choice but to write a javascript function and control it manually.? </p>\n"}, {"tags": ["javascript", "thunderbird", "thunderbird-webextensions"], "comments": [{"owner": {"reputation": 484, "user_id": 2318559, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/sZ6md.jpg?s=128&g=1", "display_name": "Peter Brand", "link": "https://stackoverflow.com/users/2318559/peter-brand"}, "edited": false, "score": 0, "creation_date": 1584886679, "post_id": 59547118, "comment_id": 107571300, "body": "Background.js runs in background merely to add the listener; your listener runs in foreground I think. So what you are looking to do is to replace the displayed message with your body variable?  I see a getDisplayedMessage function but not a set, so it looks like that is not possible. Content_scripts is to load your scripts onto the page, so that should work - maybe there was a spelling mistake of the filename in your manifest. Since you have the tabID of the current tab, why not call get(tabID) rather than getCurrent()."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 1511954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feb25317f7e5b590c20ea7cbbb529266?s=128&d=identicon&r=PG", "display_name": "blue", "link": "https://stackoverflow.com/users/1511954/blue"}, "is_accepted": false, "score": 0, "last_activity_date": 1592570282, "creation_date": 1592570282, "answer_id": 62470485, "question_id": 59547118, "link": "https://stackoverflow.com/questions/59547118/how-to-write-a-thunderbird-extension-webextension-to-modify-the-message-displa/62470485#62470485", "title": "How to write a Thunderbird extension (webextension) to modify the message display?", "body": "<p>Documentation <a href=\"https://thunderbird-webextensions.readthedocs.io/en/68/tabs.html#getcurrent\" rel=\"nofollow noreferrer\">https://thunderbird-webextensions.readthedocs.io/en/68/tabs.html#getcurrent</a>\nsays:</p>\n\n<blockquote>\n  <p>May be undefined if called from a non-tab context (for example: a background page or popup view).</p>\n</blockquote>\n\n<p>Since the background.js is not called from a tab context the tab is undefined.</p>\n"}, {"tags": [], "owner": {"reputation": 4454, "user_id": 3716552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/078Ob.jpg?s=128&g=1", "display_name": "Qeole", "link": "https://stackoverflow.com/users/3716552/qeole"}, "is_accepted": false, "score": 1, "last_activity_date": 1600245105, "last_edit_date": 1600245105, "creation_date": 1600201149, "answer_id": 63909297, "question_id": 59547118, "link": "https://stackoverflow.com/questions/59547118/how-to-write-a-thunderbird-extension-webextension-to-modify-the-message-displa/63909297#63909297", "title": "How to write a Thunderbird extension (webextension) to modify the message display?", "body": "<p>This was not possible to do when you wrote your question, the API for modifying displayed messages was missing.</p>\n<p>As of this writing (September 2020), the <strong><code>browser.messageDisplayScripts</code></strong> API landed a few days ago, see <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1504475\" rel=\"nofollow noreferrer\">bug 1504475</a> and related patch for examples. It works as follows: You can register your content script (to modify the displayed messages) like this</p>\n<pre class=\"lang-js prettyprint-override\"><code>let myPromise = browser.messageDisplayScripts.register({\n    css: [{\n        file: &quot;/style.css&quot;,\n    }],\n    js: [{\n        file: &quot;/content_script.js&quot;,\n    }],\n});\n</code></pre>\n<p>And you can later unregister with</p>\n<pre class=\"lang-js prettyprint-override\"><code>myPromise.then((script) =&gt; { script.unregister(); });\n</code></pre>\n<p>You need to register the script just once for all messages (you do not need a listener that would load it each time a message is displayed).</p>\n<p>Note that your <code>manifest.json</code> needs to include <strong>the <code>messagesModify</code> permission</strong> for this to work.</p>\n<p>The new API will be in <strong>Thunderbird version 82</strong>, so if I understand the release process correctly it should be in stable version 88 (unless it is backported before that). You can try it already (v82 is the current EarlyBird).</p>\n"}], "owner": {"reputation": 5013, "user_id": 1619432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/8SFy2.png?s=128&g=1", "display_name": "handle", "link": "https://stackoverflow.com/users/1619432/handle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1282, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1600245105, "creation_date": 1577814542, "last_edit_date": 1578682284, "question_id": 59547118, "link": "https://stackoverflow.com/questions/59547118/how-to-write-a-thunderbird-extension-webextension-to-modify-the-message-displa", "title": "How to write a Thunderbird extension (webextension) to modify the message display?", "body": "<p>I'd like to write an extension for Thunderbird that modifies the message display (e.g. insert/replace text/markup/image).<br>\nUnfortunately, the documentation is lacking (due to recent changes?).</p>\n\n<ul>\n<li><p><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Thunderbird/Thunderbird_extensions\" rel=\"noreferrer\">https://developer.mozilla.org/en-US/docs/Mozilla/Thunderbird/Thunderbird_extensions</a><br>\nis outdated</p></li>\n<li><p><a href=\"https://developer.thunderbird.net/\" rel=\"noreferrer\">https://developer.thunderbird.net/</a><br>\ndoes not have useful examples (yet)</p></li>\n<li><p><a href=\"https://thunderbird-webextensions.readthedocs.io/\" rel=\"noreferrer\">https://thunderbird-webextensions.readthedocs.io/</a><br>\nno examples either</p></li>\n</ul>\n\n<p>Some examples can be found at  </p>\n\n<ul>\n<li><a href=\"https://github.com/thundernest/sample-extensions\" rel=\"noreferrer\">https://github.com/thundernest/sample-extensions</a></li>\n</ul>\n\n<p>Building on <a href=\"https://github.com/thundernest/sample-extensions/tree/master/messageDisplay\" rel=\"noreferrer\">https://github.com/thundernest/sample-extensions/tree/master/messageDisplay</a></p>\n\n<p>I've modified <a href=\"https://github.com/thundernest/sample-extensions/blob/master/messageDisplay/background.js\" rel=\"noreferrer\">background.js</a></p>\n\n<pre><code>browser.messageDisplay.onMessageDisplayed.addListener((tabId, message) =&gt; {\n  console.log(`Message displayed in tab ${tabId}: ${message.subject}`);\n  console.log(message.id);\n  browser.messages.getFull(message.id).then((messagepart) =&gt; {\n      console.log(messagepart);\n      body = messagepart['parts'][0]['parts'][0]['body'];\n      console.log(body);\n      body += \"modified!\";\n      console.log(body);\n  });\n  browser.windows.getCurrent().then((window)=&gt;{\n    console.log(window.type);\n  });\n\n  browser.tabs.getCurrent().then((tab)=&gt;{\n    console.log(\"tab\",tab);\n  });\n});\n</code></pre>\n\n<p>which gives me the message body (using magic indexes) but expectedly, the change is not reflected in the message display.<br>\nThe window type returned is <code>normal</code>, not <code>messageDisplay</code>.<br>\nThe <code>tab</code> is <code>undefined</code> despite adding permissions</p>\n\n<pre><code>  \"permissions\": [\n    \"messagesRead\",\n    \"activeTab\",\n    \"tabs\",\n    \"tabHide\"\n  ],\n</code></pre>\n\n<p>but I assume that's because the script is running as <code>background</code>.</p>\n\n<p>So I'd need a script running on the content / access to the tab and then some hints on how to modify the displayed message content (I do not want to modify the message).</p>\n\n<p>Where would I find the equivalent documentation to </p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_scripts\" rel=\"noreferrer\">https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_scripts</a></li>\n</ul>\n\n<p>specific to Thunderbird?</p>\n\n<hr/>\n\n<p>Specifying <code>content_scripts</code> in manifest.json causes \"Error: Error reloading addon messageDisplay@sample.extensions.thunderbird.net: undefined\".</p>\n\n<p><code>executeScript()</code> from <code>background</code> does not seem to work either, even with tabId specified.</p>\n"}, {"tags": ["javascript", "json", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 16752, "user_id": 5567387, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dyfPK.jpg?s=128&g=1", "display_name": "Zohaib Ijaz", "link": "https://stackoverflow.com/users/5567387/zohaib-ijaz"}, "edited": false, "score": 0, "creation_date": 1577814433, "post_id": 59547080, "comment_id": 105263194, "body": "How do you expect to get index 0 from null?"}, {"owner": {"reputation": 16752, "user_id": 5567387, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dyfPK.jpg?s=128&g=1", "display_name": "Zohaib Ijaz", "link": "https://stackoverflow.com/users/5567387/zohaib-ijaz"}, "edited": false, "score": 0, "creation_date": 1577814485, "post_id": 59547080, "comment_id": 105263209, "body": "add checks if locations is null, render &quot;No Locations loaded&quot; etc"}, {"owner": {"reputation": 1677, "user_id": 507913, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oVYgP.jpg?s=128&g=1", "display_name": "Milind", "link": "https://stackoverflow.com/users/507913/milind"}, "reply_to_user": {"reputation": 16752, "user_id": 5567387, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dyfPK.jpg?s=128&g=1", "display_name": "Zohaib Ijaz", "link": "https://stackoverflow.com/users/5567387/zohaib-ijaz"}, "edited": false, "score": 0, "creation_date": 1577814532, "post_id": 59547080, "comment_id": 105263218, "body": "in componentDidMount if i put console.log it gives output"}, {"owner": {"reputation": 16752, "user_id": 5567387, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dyfPK.jpg?s=128&g=1", "display_name": "Zohaib Ijaz", "link": "https://stackoverflow.com/users/5567387/zohaib-ijaz"}, "edited": false, "score": 0, "creation_date": 1577814916, "post_id": 59547080, "comment_id": 105263316, "body": "put console in render function and you will see null"}, {"owner": {"reputation": 1677, "user_id": 507913, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oVYgP.jpg?s=128&g=1", "display_name": "Milind", "link": "https://stackoverflow.com/users/507913/milind"}, "reply_to_user": {"reputation": 16752, "user_id": 5567387, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dyfPK.jpg?s=128&g=1", "display_name": "Zohaib Ijaz", "link": "https://stackoverflow.com/users/5567387/zohaib-ijaz"}, "edited": false, "score": 0, "creation_date": 1577814949, "post_id": 59547080, "comment_id": 105263329, "body": "yes why it is so !!"}, {"owner": {"reputation": 16752, "user_id": 5567387, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dyfPK.jpg?s=128&g=1", "display_name": "Zohaib Ijaz", "link": "https://stackoverflow.com/users/5567387/zohaib-ijaz"}, "edited": false, "score": 0, "creation_date": 1577814988, "post_id": 59547080, "comment_id": 105263344, "body": "because your initial value is null and it will take time to get updated by api data"}, {"owner": {"reputation": 1677, "user_id": 507913, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oVYgP.jpg?s=128&g=1", "display_name": "Milind", "link": "https://stackoverflow.com/users/507913/milind"}, "reply_to_user": {"reputation": 16752, "user_id": 5567387, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dyfPK.jpg?s=128&g=1", "display_name": "Zohaib Ijaz", "link": "https://stackoverflow.com/users/5567387/zohaib-ijaz"}, "edited": false, "score": 0, "creation_date": 1577815016, "post_id": 59547080, "comment_id": 105263357, "body": "then how can I solve it !!"}, {"owner": {"reputation": 103, "user_id": 2228983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ade60186d30308900b3f4f05b60c307?s=128&d=identicon&r=PG&f=1", "display_name": "Varij Kapil", "link": "https://stackoverflow.com/users/2228983/varij-kapil"}, "reply_to_user": {"reputation": 16752, "user_id": 5567387, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dyfPK.jpg?s=128&g=1", "display_name": "Zohaib Ijaz", "link": "https://stackoverflow.com/users/5567387/zohaib-ijaz"}, "edited": false, "score": 0, "creation_date": 1577815078, "post_id": 59547080, "comment_id": 105263376, "body": "You are setting the Location property in a promise in the componentDidMount method. The value for Location is not set until that promise receives some data, therefore on first render, <code>this.state.Location</code> will be null. This is reason for your null error. as @ZohaibIjaz already mentioned, add a null check in your render for Location."}], "answers": [{"comments": [{"owner": {"reputation": 16752, "user_id": 5567387, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dyfPK.jpg?s=128&g=1", "display_name": "Zohaib Ijaz", "link": "https://stackoverflow.com/users/5567387/zohaib-ijaz"}, "reply_to_user": {"reputation": 1677, "user_id": 507913, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oVYgP.jpg?s=128&g=1", "display_name": "Milind", "link": "https://stackoverflow.com/users/507913/milind"}, "edited": false, "score": 1, "creation_date": 1577815897, "post_id": 59547212, "comment_id": 105263611, "body": "Dear, I explained earlier, if your code will try to do <code>something[0]</code> where something is <code>null</code> it will break. So you need to check if your variable is null or not. If null then do something else"}, {"owner": {"reputation": 1677, "user_id": 507913, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oVYgP.jpg?s=128&g=1", "display_name": "Milind", "link": "https://stackoverflow.com/users/507913/milind"}, "edited": false, "score": 0, "creation_date": 1577815970, "post_id": 59547212, "comment_id": 105263630, "body": "can we make function to check null and do output."}, {"owner": {"reputation": 1677, "user_id": 507913, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oVYgP.jpg?s=128&g=1", "display_name": "Milind", "link": "https://stackoverflow.com/users/507913/milind"}, "edited": false, "score": 0, "creation_date": 1577816575, "post_id": 59547212, "comment_id": 105263801, "body": "I tried but it did not works. I pass two parameter first any and another string. So first is null than empty other wise another string but as result is null it did not run :("}, {"owner": {"reputation": 16752, "user_id": 5567387, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dyfPK.jpg?s=128&g=1", "display_name": "Zohaib Ijaz", "link": "https://stackoverflow.com/users/5567387/zohaib-ijaz"}, "reply_to_user": {"reputation": 1677, "user_id": 507913, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oVYgP.jpg?s=128&g=1", "display_name": "Milind", "link": "https://stackoverflow.com/users/507913/milind"}, "edited": false, "score": 0, "creation_date": 1577816646, "post_id": 59547212, "comment_id": 105263823, "body": "I don&#39;t know much TypeScript"}], "tags": [], "owner": {"reputation": 16752, "user_id": 5567387, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dyfPK.jpg?s=128&g=1", "display_name": "Zohaib Ijaz", "link": "https://stackoverflow.com/users/5567387/zohaib-ijaz"}, "is_accepted": true, "score": 1, "last_activity_date": 1577815095, "creation_date": 1577815095, "answer_id": 59547212, "question_id": 59547080, "link": "https://stackoverflow.com/questions/59547080/react-state-array-gives-null-error-in-rendor/59547212#59547212", "title": "React state array gives null error in rendor", "body": "<p>Add a check to avoid <code>null</code> value</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public render(): React.ReactElement&lt;IWeatherProps&gt; {\r\n    const { Locations } = this.state;\r\n    return (\r\n      &lt;div className={styles.weather}&gt;\r\n       {Locations ? Locations.results[0].locations[0].adminArea5 : 'Not loaded'}\r\n      &lt;/div&gt;\r\n    )\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1677, "user_id": 507913, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oVYgP.jpg?s=128&g=1", "display_name": "Milind", "link": "https://stackoverflow.com/users/507913/milind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 59547212, "answer_count": 1, "score": 0, "last_activity_date": 1577815095, "creation_date": 1577814170, "question_id": 59547080, "link": "https://stackoverflow.com/questions/59547080/react-state-array-gives-null-error-in-rendor", "title": "React state array gives null error in rendor", "body": "<p>I am calling API which emit JSON  I am calling this promise api function in <strong>componentDidMount</strong> and setState and then call this in render method but it always emit null error.</p>\n\n<p>Please help me</p>\n\n<p><strong>interface for location</strong></p>\n\n<pre><code>export interface ILocation {\n  info: Info;\n  options: Options;\n  results: Result[];\n}\n\ninterface Result {\n  providedLocation: ProvidedLocation;\n  locations: Location[];\n}\n\ninterface Location {\n  street: string;\n  adminArea6: string;\n  adminArea6Type: string;\n  adminArea5: string;\n  adminArea5Type: string;\n  adminArea4: string;\n  adminArea4Type: string;\n  adminArea3: string;\n  adminArea3Type: string;\n  adminArea1: string;\n  adminArea1Type: string;\n  postalCode: string;\n  geocodeQualityCode: string;\n  geocodeQuality: string;\n  dragPoint: boolean;\n  sideOfStreet: string;\n  linkId: string;\n  unknownInput: string;\n  type: string;\n  latLng: LatLng;\n  displayLatLng: LatLng;\n  mapUrl: string;\n}\n\ninterface ProvidedLocation {\n  latLng: LatLng;\n}\n\ninterface LatLng {\n  lat: number;\n  lng: number;\n}\n\ninterface Options {\n  maxResults: number;\n  thumbMaps: boolean;\n  ignoreLatLngInput: boolean;\n}\n\ninterface Info {\n  statuscode: number;\n  copyright: Copyright;\n  messages: any[];\n}\n\ninterface Copyright {\n  text: string;\n  imageUrl: string;\n  imageAltText: string;\n}\n</code></pre>\n\n<p><strong>IWeatherStates</strong></p>\n\n<pre><code>export interface IWeatherStates {\n  Locations: ILocation\n}\n</code></pre>\n\n<p><strong>getLocation</strong></p>\n\n<pre><code>private getLocation(latitudes: number, longitude: number): Promise&lt;ILocation&gt; {\n\n    let promise: Promise&lt;ILocation&gt; = new Promise&lt;ILocation&gt;((resolve, reject) =&gt; {\n      let query = `${this.LIST_API_ENDPOINT}/location/${latitudes},${longitude}`\n      this.props.httpClient.get(query, HttpClient.configurations.v1, this.httpClientOptions).then((rawResponse: HttpClientResponse) =&gt; {\n        return rawResponse.json()\n      }).then((jsonResponse) =&gt; {\n        resolve(jsonResponse)\n      })\n    })\n    return promise\n  }\n}\n</code></pre>\n\n<p><strong>componentDidMount</strong></p>\n\n<pre><code>  public componentDidMount() {\n    this.getLocation(29.378586, 47.990341).then((location: ILocation) =&gt; {\n      this.setState({\n        Locations: location\n      })\n    })\n  }\n</code></pre>\n\n<p><strong>construction</strong></p>\n\n<pre><code>constructor(props: IWeatherProps) {\n    super(props)\n\n    this.state = {\n      Locations: null\n    }\n  }\n</code></pre>\n\n<p>**render which give error **</p>\n\n<pre><code>public render(): React.ReactElement&lt;IWeatherProps&gt; {\n    return (\n      &lt;div className={styles.weather}&gt;\n       {this.state.Locations.results[0].locations[0].adminArea5}\n      &lt;/div&gt;\n    )\n}\n</code></pre>\n\n<blockquote>\n  <blockquote>\n    <p>{this.state.Locations.results[0].locations[0].adminArea5}\n    results give null error </p>\n  </blockquote>\n</blockquote>\n"}, {"tags": ["javascript", "html", "json", "electron", "google-earth"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 12571422, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2tSx2QgIQ-E/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdh9J9tXS6GHW4yQPb25SGr18U2Pg/photo.jpg?sz=128", "display_name": "RT7", "link": "https://stackoverflow.com/users/12571422/rt7"}, "edited": false, "score": 0, "creation_date": 1577824812, "post_id": 59547632, "comment_id": 105265605, "body": "@ Nathan Hawks -Thanks!! I went with your option 1 and it resolved the pop-up, but now it&#39;s loading the first json url object instead of the one associated with the search expression?  Could you provide an example of how to reset the value after clicking the open button?  I want the user to be able to load several files as they search for kmz&#39;s I&#39;ve created as different layers."}, {"owner": {"reputation": 495, "user_id": 5823893, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GIHms2pRCno/AAAAAAAAAAI/AAAAAAAABFQ/fZhyIrJgTLw/photo.jpg?sz=128", "display_name": "Nathan Hawks", "link": "https://stackoverflow.com/users/5823893/nathan-hawks"}, "reply_to_user": {"reputation": 27, "user_id": 12571422, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2tSx2QgIQ-E/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdh9J9tXS6GHW4yQPb25SGr18U2Pg/photo.jpg?sz=128", "display_name": "RT7", "link": "https://stackoverflow.com/users/12571422/rt7"}, "edited": false, "score": 0, "creation_date": 1577830871, "post_id": 59547632, "comment_id": 105266672, "body": "@RT7 You just need to set <code>ignoreClick = false</code> at some point in order to reenable the click handler; I&#39;ve added an example implementation to my answer."}, {"owner": {"reputation": 27, "user_id": 12571422, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2tSx2QgIQ-E/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdh9J9tXS6GHW4yQPb25SGr18U2Pg/photo.jpg?sz=128", "display_name": "RT7", "link": "https://stackoverflow.com/users/12571422/rt7"}, "edited": false, "score": 0, "creation_date": 1578424508, "post_id": 59547632, "comment_id": 105431592, "body": "@ Nathan Hawks after further testing this is retrieving and opening the first url within the JSON file instead of the one listed next to each button.  Ideas?"}, {"owner": {"reputation": 495, "user_id": 5823893, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GIHms2pRCno/AAAAAAAAAAI/AAAAAAAABFQ/fZhyIrJgTLw/photo.jpg?sz=128", "display_name": "Nathan Hawks", "link": "https://stackoverflow.com/users/5823893/nathan-hawks"}, "reply_to_user": {"reputation": 27, "user_id": 12571422, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2tSx2QgIQ-E/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdh9J9tXS6GHW4yQPb25SGr18U2Pg/photo.jpg?sz=128", "display_name": "RT7", "link": "https://stackoverflow.com/users/12571422/rt7"}, "edited": false, "score": 1, "creation_date": 1578424788, "post_id": 59547632, "comment_id": 105431704, "body": "Apparently <code>value.url</code> is the wrong value. But that&#39;s far beyond the scope of this question."}], "tags": [], "owner": {"reputation": 495, "user_id": 5823893, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GIHms2pRCno/AAAAAAAAAAI/AAAAAAAABFQ/fZhyIrJgTLw/photo.jpg?sz=128", "display_name": "Nathan Hawks", "link": "https://stackoverflow.com/users/5823893/nathan-hawks"}, "is_accepted": true, "score": 0, "last_activity_date": 1577830821, "last_edit_date": 1577830821, "creation_date": 1577818584, "answer_id": 59547632, "question_id": 59547031, "link": "https://stackoverflow.com/questions/59547031/electron-another-program-is-using-this-file/59547632#59547632", "title": "Electron - another program is using this file?", "body": "<p>It's possible your click event is firing multiple times. If so, one possible solution can be found at <a href=\"https://stackoverflow.com/questions/14969960/jquery-click-events-firing-multiple-times#14991189\">jQuery click events firing multiple times</a> However quick that answer is, it's also a little bit more work to reverse, if you intend to re-enable the button later.</p>\n\n<p>Another couple options: set and check a variable, or just disable the button.</p>\n\n<h1>Option 1: set and check a var</h1>\n\n<p>In your application vars, at the top of your main entry point:</p>\n\n<p><code>var ignoreClick = false;</code></p>\n\n<p>Then in your click handler:</p>\n\n<pre><code>$(document).on(\"click\", \"#openBtn1\", function(event) {\n  if (ignoreClick) return;\n  ignoreClick = true;\n  shell.openItem(value.url);\n})\n\n</code></pre>\n\n<h1>Option 2: disable the button:</h1>\n\n<pre><code>$(document).on(\"click\", \"#openBtn1\", function(event) {\n  $('#openBtn1').attr('disabled', true);\n  shell.openItem(value.url);\n})\n\n</code></pre>\n\n<h1>Re-enabling the click-handler</h1>\n\n<p>Either way you will also have to decide by what logic the button gets re-enabled (or the <code>ignoreClick</code> variable gets reset to <code>false</code>). One possible example of doing this (expanding on Option 1 above) is to set a short (one second) timer:</p>\n\n<pre><code>$(document).on(\"click\", \"#openBtn1\", function(event) {\n  if (ignoreClick) return;\n  ignoreClick = true;\n  shell.openItem(value.url);\n  setTimeout(() =&gt; { ignoreClick = false; }, 1000);\n})\n\n</code></pre>\n\n<p>You can play around with that number at the end of the <code>setTimeout</code> line; it's in milliseconds, aka 1000 = 1 second. A half second or even less might suffice, albeit this is only a general/example solution.</p>\n"}], "owner": {"reputation": 27, "user_id": 12571422, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2tSx2QgIQ-E/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdh9J9tXS6GHW4yQPb25SGr18U2Pg/photo.jpg?sz=128", "display_name": "RT7", "link": "https://stackoverflow.com/users/12571422/rt7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 59547632, "answer_count": 1, "score": 1, "last_activity_date": 1577830821, "creation_date": 1577813698, "question_id": 59547031, "link": "https://stackoverflow.com/questions/59547031/electron-another-program-is-using-this-file", "title": "Electron - another program is using this file?", "body": "<p>I created a search bar that searches JSON and displays the info in html with an \"open link\" button.  The files are local kmz/kml files that are opened up in Google Earth when a user clicks the button.</p>\n\n<p>Why when I click the open button does Google Earth load it and then I receive a pop-up in my app that says \"Another program is currently using this file\" and then won't clear till i restart the app?</p>\n\n<pre><code>$(document).ready(function() {\n    $('#myInput').keyup(function() {\n        $('#aceCategory').html('');\n        var searchField = $('#myInput').val();\n        var expression = new RegExp(searchField, \"i\");\n        $.getJSON('jsoncleanmaster.json', function(data) {\n            $.each(data, function(key, value) {\n                if (value.category.search(expression) != -1 ||\n                    value.name.search(expression) != -1 ||\n                    value.desc.search(expression) != -1 ||\n                    value.url.search(expression) != -1) {\n                    $('#aceCategory').append(\"&lt;tr&gt;\" + \"&lt;td&gt;\" + \"&lt;b&gt;\" +\n                        value.name + \"---\" + \"(\" + value.category + \")\" + \"&lt;/b&gt;\" + \"&lt;br&gt;\" +\n                        value.desc + \"&lt;/br&gt;\" + \"&lt;input type='button' id='openBtn1' style='border-radius: 25px; outline: none' value='Open Link'  &gt;\" +\n                        \"&lt;/td&gt;\" + \"&lt;/tr\")\n                    const shell = require('electron').shell;\n                    $(document).on(\"click\", \"#openBtn1\", function(event) {\n                        shell.openItem(value.url);\n                    })\n                }\n\n            });\n        })\n\n    });\n});\n</code></pre>\n"}, {"tags": ["javascript", "webgl", "stride"], "answers": [{"tags": [], "owner": {"reputation": 82151, "user_id": 128511, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/KwGaJ.png?s=128&g=1", "display_name": "gman", "link": "https://stackoverflow.com/users/128511/gman"}, "is_accepted": true, "score": 1, "last_activity_date": 1577818285, "last_edit_date": 1577818285, "creation_date": 1577815184, "answer_id": 59547226, "question_id": 59547020, "link": "https://stackoverflow.com/questions/59547020/webgl-stride-not-working-doesnt-stride-past-values-in-buffer/59547226#59547226", "title": "Webgl: Stride not working. Doesn&#39;t stride past values in buffer", "body": "<p>The stride is wrong. Stride should just be <code>dims * 4</code> and if you only want x and y then size is just 2.</p>\n\n<p>Other issues</p>\n\n<ol>\n<li><p>Plus you can't normalize floats</p></li>\n<li><p>You should look up locations at init time not render time</p></li>\n<li><p>You should create one buffer and reuse it</p>\n\n<p>The code is currently creating a new buffer every frame and will eventually run out of memory</p></li>\n<li><p>The code is doing a conversion from a native JavaScript array to a new Float32Array every frame. That's also an allocation.</p>\n\n<p>You should just create one Float32Array and update the values in it</p></li>\n<li><p>The code is potentially allocating a new array inside WebGL each frame by calling <code>gl.bufferData</code>. Instead call <code>gl.bufferSubData</code> to just upload the data</p></li>\n<li><p>If you're changing data in a buffer often you should mark it as <code>gl.DYNAMIC_DRAW</code> to let WebGL know you plan to update it often. It can use that as a perf hint.</p></li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const gl = document.querySelector('canvas').getContext('webgl');\r\n\r\nconst vs = `\r\nattribute vec2 a_position;\r\nvoid main() {\r\n  gl_Position = vec4(a_position, 0, 1);\r\n  gl_PointSize = 5.0;\r\n}`;\r\n\r\nconst fs = `\r\nprecision mediump float;\r\nvoid main() {\r\n  gl_FragColor = vec4(1, 0, 0, 1);\r\n}`;\r\n\r\nconst prg = twgl.createProgram(gl, [vs, fs]);\r\nconst positionAttributeLocation = gl.getAttribLocation(prg, 'a_position');\r\n\r\nconst dims = 3;\r\nconst num = 100;\r\nconst positions = new Float32Array(dims * num);\r\n\r\n// create the buffer at init time\r\nconst positionBuffer = gl.createBuffer();\r\ngl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\r\n// just allocate space\r\ngl.bufferData(gl.ARRAY_BUFFER, positions.byteLength, gl.DYNAMIC_DRAW);\r\n\r\nfunction drawScene(gl, program, positions) {\r\n  gl.clearColor(0.0, 0.0, 0.0, 1.0);\r\n  gl.clear(gl.COLOR_BUFFER_BIT);\r\n\r\n  // update positions\r\n  gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\r\n  gl.bufferSubData(gl.ARRAY_BUFFER, 0, positions);\r\n  \r\n  gl.enableVertexAttribArray(positionAttributeLocation);\r\n\r\n  const size = 2;\r\n  const type = gl.FLOAT;\r\n  const normalize = false;\r\n  const stride = 4 * dims;\r\n  const offset = 0;\r\n  gl.vertexAttribPointer(\r\n    positionAttributeLocation, size, type, normalize, stride, offset);\r\n    \r\n  gl.useProgram(program);\r\n\r\n  const primitiveType = gl.POINTS;\r\n  const count = positions.length / dims;\r\n\r\n  gl.drawArrays(primitiveType, offset, count);\r\n}\r\n\r\nfunction render(time) {\r\n  time *= 0.001;\r\n  \r\n  for (let i = 0; i &lt; num * dims; i += dims) {\r\n    const u = i / dims / num;\r\n    const a = u * Math.PI * 2 + time;\r\n    positions[i    ] = Math.sin(a);\r\n    positions[i + 1] = Math.cos(a * 1.1);\r\n    positions[i + 2] = Math.cos(a * 1.2) * 1.2;\r\n  }\r\n  drawScene(gl, prg, positions);\r\n  requestAnimationFrame(render);\r\n}\r\nrequestAnimationFrame(render);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>canvas {\r\n  border: 1px solid black;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://twgljs.org/dist/4.x/twgl.min.js\"&gt;&lt;/script&gt;\r\n&lt;canvas&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Also it's more common to use a <a href=\"https://webglfundamentals.org/webgl/lessons/webgl-3d-orthographic.html\" rel=\"nofollow noreferrer\">projection matrix</a> and a <a href=\"https://webglfundamentals.org/webgl/lessons/webgl-3d-camera.html\" rel=\"nofollow noreferrer\">view matrix</a> to change the space represented by the canvas. Then instead of not using Z you could just choose a different space to be represented in the canvas, one that contains your Z range.</p>\n"}], "owner": {"reputation": 105, "user_id": 11295024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gEWYL.png?s=128&g=1", "display_name": "baal_imago", "link": "https://stackoverflow.com/users/11295024/baal-imago"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 59547226, "answer_count": 1, "score": 1, "last_activity_date": 1577818285, "creation_date": 1577813589, "last_edit_date": 1577814038, "question_id": 59547020, "link": "https://stackoverflow.com/questions/59547020/webgl-stride-not-working-doesnt-stride-past-values-in-buffer", "title": "Webgl: Stride not working. Doesn&#39;t stride past values in buffer", "body": "<p>I'm doing a lorenz-attractor in webgl and am playing around with multi-dimensional strange attractors in general. I made a particle system for this based in webgl which works fine, for the most part. The particle system works by rendering the x and y values of a gl.POINTS while keeping higher dimensions in the same buffer for calculations of their respective derivative. Buffer example: x=buffer[i], y=buffer[i+1], z=buffer[i+2], w=buffer[i+3] and so forth.</p>\n\n<p>I've noticed that the points disappear when z is above 1. This is another issue I can't solve at the moment, so I bypass it by simply striding over the values entirely since z shouldn't be a part of the visualization anyway, but this stride system doesn't work.</p>\n\n<p>I know an alternative solution would be to make a copy of the positions array containing only x and y values and pass that into the shader program as a 2 dimensional system, and this works! Doing so removes the \"disappearing points\" problem, but it causes some lag at high amounts of particles due to garbage collection which I'd like to be without.</p>\n\n<p>This is the buffer code:</p>\n\n<pre><code>dims = 3;\ndrawScene(gl, program, positions) {\n        gl.clearColor(0.0, 0.0, 0.0, 1.0);\n        gl.clear(gl.COLOR_BUFFER_BIT);\n\n        var positionAttributeLocation = gl.getAttribLocation(program, \"a_position\");        \n        var positionBuffer = gl.createBuffer();\n        gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n\n        // positions is array of x,y,z coordinates \n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(positions), gl.STATIC_DRAW);\n        gl.enableVertexAttribArray(positionAttributeLocation);\n\n        const size = this.dims;         \n        const type = gl.FLOAT;\n        const normalize = true; \n        const stride = 4 * (this.dims-2); // gl.FLOAT=4 bytes, then stride +1 extra per dim above 2\n        const offset = 0;\n        gl.vertexAttribPointer(\n            positionAttributeLocation, size, type, normalize, stride, offset);\n\n        const primitiveType = gl.POINTS;\n        const count = positions.length / this.dims;\n\n        gl.drawArrays(primitiveType, offset, count);\n    }\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "scroll", "parallax"], "answers": [{"comments": [{"owner": {"reputation": 66, "user_id": 11589384, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GCUQ8qskaSI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdZ9IiVGpbIIFh3IXR4cy6iavxqgQ/mo/photo.jpg?sz=128", "display_name": "the preacher", "link": "https://stackoverflow.com/users/11589384/the-preacher"}, "edited": false, "score": 0, "creation_date": 1577816616, "post_id": 59547163, "comment_id": 105263814, "body": "thanks, but another major problem that i am facing is when i scroll up till the end of the page and suddenly scroll up again to the top, it doesn&#39;t seem to work, i mean it freezes and after u scroll it again a bit it starts working, do u have any suggestion on how can i fix it or another way to achieve this kind of scrolling effect?"}, {"owner": {"reputation": 653, "user_id": 3393030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca9496d758234de62db0bdaeafa247c7?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan W.", "link": "https://stackoverflow.com/users/3393030/ryan-w"}, "reply_to_user": {"reputation": 66, "user_id": 11589384, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GCUQ8qskaSI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdZ9IiVGpbIIFh3IXR4cy6iavxqgQ/mo/photo.jpg?sz=128", "display_name": "the preacher", "link": "https://stackoverflow.com/users/11589384/the-preacher"}, "edited": false, "score": 0, "creation_date": 1577817205, "post_id": 59547163, "comment_id": 105263986, "body": "I made an edit. I&#39;m not able to test this. Consider adding a run-able snippet, if needed."}], "tags": [], "owner": {"reputation": 653, "user_id": 3393030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca9496d758234de62db0bdaeafa247c7?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan W.", "link": "https://stackoverflow.com/users/3393030/ryan-w"}, "is_accepted": true, "score": 3, "last_activity_date": 1577817160, "last_edit_date": 1577817160, "creation_date": 1577814775, "answer_id": 59547163, "question_id": 59546949, "link": "https://stackoverflow.com/questions/59546949/parallax-scroll-effect-getting-laggy/59547163#59547163", "title": "parallax scroll effect getting laggy", "body": "<p>For one, you are re-querying the DOM every time the scroll event fires. I would start by caching the selector outside of the event handler. </p>\n\n<pre><code>var $gallery = $(\"#gallery\");\n$(window).on('scroll', function () {\n  if (scrollY &gt;= 100) {\n    $gallery.css(\"margin-bottom\", -((scrollY - 100) / 4));\n  }\n});\n</code></pre>\n\n<p>You then might want to play around with wrapping your DOM manipulations in a setTimeout. </p>\n\n<pre><code>var $gallery = $(\"#gallery\");\nvar delay;\n$(window).on('scroll', function () {\n  delay = setTimeout(function() {\n    if (scrollY &gt;= 100) {\n      $gallery.css(\"margin-bottom\", -((scrollY - 100) / 4));\n    }\n  }, 50);\n});\n</code></pre>\n\n<p>EDIT: \nFor detecting scroll direction, try something like:</p>\n\n<pre><code>var $gallery = $(\"#gallery\");\nvar delay;\nvar lastScrollTop = 0;\n$(window).scroll(function(event){\n  var scrollPos = $(this).scrollTop();\n\n  delay = setTimeout(function() {\n\n    if (scrollPos &gt; lastScrollTop){\n      if (scrollY &gt;= 100) {\n        $gallery.css(\"margin-bottom\", -((scrollY - 100) / 4));\n      }\n    } else {\n      if (scrollY &lt; 100) {\n        $gallery.css(\"margin-bottom\", -((scrollY + 100) / 4));\n      }\n    }\n\n  }, 50);\n  lastScrollTop = st;\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1601, "user_id": 2983576, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a58baf40bff9f935232fb496aaa682f4?s=128&d=identicon&r=PG", "display_name": "MIdhun Krishna", "link": "https://stackoverflow.com/users/2983576/midhun-krishna"}, "is_accepted": false, "score": 1, "last_activity_date": 1577815478, "creation_date": 1577815478, "answer_id": 59547268, "question_id": 59546949, "link": "https://stackoverflow.com/questions/59546949/parallax-scroll-effect-getting-laggy/59547268#59547268", "title": "parallax scroll effect getting laggy", "body": "<p>The lag you experience is due to two main factors. </p>\n\n<ol>\n<li>There are a huge number of Scroll events fired when a page is\nscrolled </li>\n<li>Javascript implementations are primarily single\nthreaded.</li>\n</ol>\n\n<p><strong>What can we do two fix these problems?</strong></p>\n\n<p>To fix the first issue, you can either <code>debounce</code> or <code>throttle</code> the <code>onscroll</code> callback function. Here is a <a href=\"https://css-tricks.com/the-difference-between-throttling-and-debouncing/\" rel=\"nofollow noreferrer\">simple but good write</a> up about these techniques. </p>\n\n<p>To fix the second problem, is to give that single thread time to do other tasks as well. If you endup using <code>debounce</code> or <code>throttle</code>, it should help or you can rely on browsers eventloop. </p>\n\n<p>Basically, the idea is to tell the browser that <code>Hey, this is something I want you to do, but take your time</code>. The simplest ways to do that is by using <code>setTimeout</code> webapi. </p>\n\n<p>Rewriting your implementation, </p>\n\n<pre><code>var gallery = $(\"#gallery\");\nvar scrollHandler = function() {\n  if (scrollY &gt;= 100) {\n    gallery.css(\"margin-bottom\", -((scrollY - 100) / 4));\n  }\n}\n\n$(window).on('scroll', function() {\n  setTimeout(scrollHandler, 4)\n});\n</code></pre>\n"}], "owner": {"reputation": 66, "user_id": 11589384, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GCUQ8qskaSI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdZ9IiVGpbIIFh3IXR4cy6iavxqgQ/mo/photo.jpg?sz=128", "display_name": "the preacher", "link": "https://stackoverflow.com/users/11589384/the-preacher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 59547163, "answer_count": 2, "score": 1, "last_activity_date": 1577817160, "creation_date": 1577813027, "question_id": 59546949, "link": "https://stackoverflow.com/questions/59546949/parallax-scroll-effect-getting-laggy", "title": "parallax scroll effect getting laggy", "body": "<p>i wrote a script that basically gives the topper element a negative margin bottom,\nso it makes the element below it go up and it kind of makes a parallax like scroll, my problem is i wrote the function as a scroll and i think the function runs so much that it makes the page kind of laggy, here`s my code, i hope you guys can help me out.</p>\n\n<pre><code>$(window).on('scroll', function () {\n    if (scrollY &gt;= 100) {\n        $(\"#gallery\").css(\"margin-bottom\", -((scrollY - 100) / 4));\n    }\n\n});\n</code></pre>\n"}, {"tags": ["javascript", "string", "loops"], "comments": [{"owner": {"reputation": 3080, "user_id": 5499175, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Jwtxv.png?s=128&g=1", "display_name": "Aer0", "link": "https://stackoverflow.com/users/5499175/aer0"}, "edited": false, "score": 0, "creation_date": 1577813035, "post_id": 59546938, "comment_id": 105262813, "body": "Anything you&#39;ve already tried out yourself?"}, {"owner": {"reputation": 393, "user_id": 2202952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5577beb9ac3e713302241b2b0ea90b85?s=128&d=identicon&r=PG", "display_name": "Hejhejhej123", "link": "https://stackoverflow.com/users/2202952/hejhejhej123"}, "reply_to_user": {"reputation": 3080, "user_id": 5499175, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Jwtxv.png?s=128&g=1", "display_name": "Aer0", "link": "https://stackoverflow.com/users/5499175/aer0"}, "edited": false, "score": 0, "creation_date": 1577813427, "post_id": 59546938, "comment_id": 105262918, "body": "I have tried to use a forEach loop but I am not getting anywere because I don&#39;t know how to write &quot;if child contains &quot;2019&quot;. So I am really stuck"}, {"owner": {"reputation": 7004, "user_id": 6615163, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hSNqz.png?s=128&g=1", "display_name": "hygull", "link": "https://stackoverflow.com/users/6615163/hygull"}, "edited": false, "score": 0, "creation_date": 1577813693, "post_id": 59546938, "comment_id": 105262982, "body": "But the object you pasted here is just incomplete. Just put proper braces around to let user know about the actual structure."}], "answers": [{"comments": [{"owner": {"reputation": 393, "user_id": 2202952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5577beb9ac3e713302241b2b0ea90b85?s=128&d=identicon&r=PG", "display_name": "Hejhejhej123", "link": "https://stackoverflow.com/users/2202952/hejhejhej123"}, "edited": false, "score": 0, "creation_date": 1577904361, "post_id": 59547037, "comment_id": 105278881, "body": "Thanks, worked great. Just had to change &quot;monthlyAdjutedTimeSeries&quot; to data[&#39;Monthly Adjusted Time Series&#39;]"}, {"owner": {"reputation": 393, "user_id": 2202952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5577beb9ac3e713302241b2b0ea90b85?s=128&d=identicon&r=PG", "display_name": "Hejhejhej123", "link": "https://stackoverflow.com/users/2202952/hejhejhej123"}, "edited": false, "score": 0, "creation_date": 1577914411, "post_id": 59547037, "comment_id": 105280963, "body": "Hi again, the code works great but there is one thing I do not understand. Maybe it is a dumb question but I am trying to learn. What does the underscore do in the map function? This part: .map(([_, v])"}, {"owner": {"reputation": 1106, "user_id": 4208022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8PLXt.jpg?s=128&g=1", "display_name": "Brandon Dyer", "link": "https://stackoverflow.com/users/4208022/brandon-dyer"}, "reply_to_user": {"reputation": 393, "user_id": 2202952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5577beb9ac3e713302241b2b0ea90b85?s=128&d=identicon&r=PG", "display_name": "Hejhejhej123", "link": "https://stackoverflow.com/users/2202952/hejhejhej123"}, "edited": false, "score": 0, "creation_date": 1577974378, "post_id": 59547037, "comment_id": 105297284, "body": "The underscore is just a variable name that isn&#39;t being used. Starting a variable name with, or making the whole variable name, an underscore removes unused variable warnings from most linters."}], "tags": [], "owner": {"reputation": 1106, "user_id": 4208022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8PLXt.jpg?s=128&g=1", "display_name": "Brandon Dyer", "link": "https://stackoverflow.com/users/4208022/brandon-dyer"}, "is_accepted": true, "score": 1, "last_activity_date": 1577813723, "creation_date": 1577813723, "answer_id": 59547037, "question_id": 59546938, "link": "https://stackoverflow.com/questions/59546938/get-data-from-object-child-if-it-contains-a-certain-string-javascript/59547037#59547037", "title": "Get data from object child if it contains a certain string (JavaScript)", "body": "<p>You need to filter out the values that don't match, then reduce on the result.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Object.entries(monthlyAdjustedTimeSeries)\n    // Remove items that don't contain 2019\n    .filter(([k]) =&gt; k.includes(\"2019-\"))\n    // Get just the values\n    .map(([_, v]) =&gt; parseFloat(v[\"7. dividend amount\"]))\n    // Sum\n    .reduce((ac, v) =&gt; ac + v, 0);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16752, "user_id": 5567387, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dyfPK.jpg?s=128&g=1", "display_name": "Zohaib Ijaz", "link": "https://stackoverflow.com/users/5567387/zohaib-ijaz"}, "is_accepted": false, "score": 1, "last_activity_date": 1577814018, "creation_date": 1577814018, "answer_id": 59547066, "question_id": 59546938, "link": "https://stackoverflow.com/questions/59546938/get-data-from-object-child-if-it-contains-a-certain-string-javascript/59547066#59547066", "title": "Get data from object child if it contains a certain string (JavaScript)", "body": "<p>Let say, you got the main object containing other child objects for different years.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    const data = {\r\n            \"2019-12-31\": {\r\n                \"1. open\": \"37.4800\",\r\n                \"2. high\": \"39.4320\",\r\n                \"3. low\": \"36.9050\",\r\n                \"4. close\": \"38.9750\",\r\n                \"5. adjusted close\": \"38.9750\",\r\n                \"6. volume\": \"493073245\",\r\n                \"7. dividend amount\": \"0.0000\"\r\n            },\r\n            \"2019-11-29\": {\r\n                \"1. open\": \"38.9500\",\r\n                \"2. high\": \"39.7000\",\r\n                \"3. low\": \"36.4000\",\r\n                \"4. close\": \"37.3800\",\r\n                \"5. adjusted close\": \"37.3800\",\r\n                \"6. volume\": \"605847809\",\r\n                \"7. dividend amount\": \"0.1000\"\r\n            }\r\n            \r\n       };\r\n       \r\n       const output = Object.keys(data).reduce((sum, key) =&gt; {\r\n          if (key.indexOf('2019') &gt; -1) {\r\n            return sum + Number(data[key]['7. dividend amount']);\r\n          }\r\n          return sum;\r\n       }, 0);\r\n       \r\n       console.log(output);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 754, "user_id": 2574453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f89ded1910af30bd2bc01f8c15fb232?s=128&d=identicon&r=PG", "display_name": "chris", "link": "https://stackoverflow.com/users/2574453/chris"}, "is_accepted": false, "score": 0, "last_activity_date": 1577814586, "last_edit_date": 1577814586, "creation_date": 1577814255, "answer_id": 59547091, "question_id": 59546938, "link": "https://stackoverflow.com/questions/59546938/get-data-from-object-child-if-it-contains-a-certain-string-javascript/59547091#59547091", "title": "Get data from object child if it contains a certain string (JavaScript)", "body": "<p>You could use a <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in\" rel=\"nofollow noreferrer\">for...in</a></strong> loop, with a <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test\" rel=\"nofollow noreferrer\">RegExp.prototype.test()</a></strong></p>\n\n<pre><code>var data = [];\nfor(let e in obj[\"Monthly Adjusted Time Series\"]) {\n  if(/2019/.test(e)) {\n    data.push(obj[\"Monthly Adjusted Time Series\"][e]);\n  }\n}\nconsole.log(data);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 11464687, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qbAzFWOUEHg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf44ItArzJHLRP3pxUhEo5ZhVYLbw/mo/photo.jpg?sz=128", "display_name": "Inioluwa Sogelola", "link": "https://stackoverflow.com/users/11464687/inioluwa-sogelola"}, "is_accepted": false, "score": 0, "last_activity_date": 1577814827, "last_edit_date": 1577814827, "creation_date": 1577814410, "answer_id": 59547104, "question_id": 59546938, "link": "https://stackoverflow.com/questions/59546938/get-data-from-object-child-if-it-contains-a-certain-string-javascript/59547104#59547104", "title": "Get data from object child if it contains a certain string (JavaScript)", "body": "<p>Try something like this</p>\n\n<pre><code>Object.entries(obj).reduce((total, [key,])=&gt;{\nif(/2019/.test(key)) {\nreturn total + +obj[key][\"7. dividend amount\"]\n}},0);\n</code></pre>\n"}], "owner": {"reputation": 393, "user_id": 2202952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5577beb9ac3e713302241b2b0ea90b85?s=128&d=identicon&r=PG", "display_name": "Hejhejhej123", "link": "https://stackoverflow.com/users/2202952/hejhejhej123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 59547037, "answer_count": 4, "score": 0, "last_activity_date": 1577814827, "creation_date": 1577812964, "last_edit_date": 1577813044, "question_id": 59546938, "link": "https://stackoverflow.com/questions/59546938/get-data-from-object-child-if-it-contains-a-certain-string-javascript", "title": "Get data from object child if it contains a certain string (JavaScript)", "body": "<p>I am getting some data from an API (with JavaScript, the API is alphavantage.co) to get a stock dividends for a year. The API gives me the dividend per month. So what I need to do is sum the dividends from the child objects if they contain \"2019\". </p>\n\n<p>The API looks like this:</p>\n\n<pre><code>\"Monthly Adjusted Time Series\": {\n        \"2019-12-31\": {\n            \"1. open\": \"37.4800\",\n            \"2. high\": \"39.4320\",\n            \"3. low\": \"36.9050\",\n            \"4. close\": \"38.9750\",\n            \"5. adjusted close\": \"38.9750\",\n            \"6. volume\": \"493073245\",\n            \"7. dividend amount\": \"0.0000\"\n        },\n        \"2019-11-29\": {\n            \"1. open\": \"38.9500\",\n            \"2. high\": \"39.7000\",\n            \"3. low\": \"36.4000\",\n            \"4. close\": \"37.3800\",\n            \"5. adjusted close\": \"37.3800\",\n            \"6. volume\": \"605847809\",\n            \"7. dividend amount\": \"0.0000\"\n        },\n... And so on until year 2000\n</code></pre>\n\n<p>I understand I have to loop it, but how can I check if the child contains 2019? So it does not loop the other years? </p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 495, "user_id": 5823893, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GIHms2pRCno/AAAAAAAAAAI/AAAAAAAABFQ/fZhyIrJgTLw/photo.jpg?sz=128", "display_name": "Nathan Hawks", "link": "https://stackoverflow.com/users/5823893/nathan-hawks"}, "edited": false, "score": 0, "creation_date": 1577813271, "post_id": 59546937, "comment_id": 105262873, "body": "Any clue what&#39;s adding them? That&#39;s not coming from JQuery, at least not under normal circumstances. You might wanna add notes about other libraries in play."}, {"owner": {"reputation": 1477, "user_id": 5865492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/IgYyY.jpg?s=128&g=1", "display_name": "Lemonseed", "link": "https://stackoverflow.com/users/5865492/lemonseed"}, "reply_to_user": {"reputation": 495, "user_id": 5823893, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GIHms2pRCno/AAAAAAAAAAI/AAAAAAAABFQ/fZhyIrJgTLw/photo.jpg?sz=128", "display_name": "Nathan Hawks", "link": "https://stackoverflow.com/users/5823893/nathan-hawks"}, "edited": false, "score": 0, "creation_date": 1577813471, "post_id": 59546937, "comment_id": 105262930, "body": "This is a static web page with with no additional libraries aside from a reference to jQuery 3.4.1 and a stylesheet reference to Bootstrap 4.4.1 css."}, {"owner": {"reputation": 495, "user_id": 5823893, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GIHms2pRCno/AAAAAAAAAAI/AAAAAAAABFQ/fZhyIrJgTLw/photo.jpg?sz=128", "display_name": "Nathan Hawks", "link": "https://stackoverflow.com/users/5823893/nathan-hawks"}, "edited": false, "score": 0, "creation_date": 1577813773, "post_id": 59546937, "comment_id": 105263005, "body": "Check your DOCTYPE tag, is it XSLT? If so, that may be the problem."}, {"owner": {"reputation": 6236, "user_id": 2275490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FgA3k.png?s=128&g=1", "display_name": "Vickel", "link": "https://stackoverflow.com/users/2275490/vickel"}, "edited": false, "score": 0, "creation_date": 1577813959, "post_id": 59546937, "comment_id": 105263061, "body": "cannot reproduce, Google Chrome Version 79.0.3945.88 (Official Build) (64-bit)"}, {"owner": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "edited": false, "score": 0, "creation_date": 1577814258, "post_id": 59546937, "comment_id": 105263155, "body": "The <code>div#menu</code> element is already created. Your script is adding elements to this, not modifying the attributes. I would advise reviewing your Source with JavaScript disabled in Chrome and confirm that these attributes exist first."}, {"owner": {"reputation": 1477, "user_id": 5865492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/IgYyY.jpg?s=128&g=1", "display_name": "Lemonseed", "link": "https://stackoverflow.com/users/5865492/lemonseed"}, "reply_to_user": {"reputation": 495, "user_id": 5823893, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GIHms2pRCno/AAAAAAAAAAI/AAAAAAAABFQ/fZhyIrJgTLw/photo.jpg?sz=128", "display_name": "Nathan Hawks", "link": "https://stackoverflow.com/users/5823893/nathan-hawks"}, "edited": false, "score": 0, "creation_date": 1577814401, "post_id": 59546937, "comment_id": 105263188, "body": "@NathanHawks: Doc type is: <code>&lt;!DOCTYPE html PUBLIC &quot;-&#47;&#47;W3C&#47;&#47;DTD XHTML 1.0 Transitional&#47;&#47;EN&quot; &quot;http:&#47;&#47;www.w3.org&#47;TR&#47;xhtml1&#47;DTD&#47;xhtml1-transitional.dtd&quot;&gt;</code>"}, {"owner": {"reputation": 1477, "user_id": 5865492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/IgYyY.jpg?s=128&g=1", "display_name": "Lemonseed", "link": "https://stackoverflow.com/users/5865492/lemonseed"}, "reply_to_user": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "edited": false, "score": 0, "creation_date": 1577814551, "post_id": 59546937, "comment_id": 105263221, "body": "@Twisty: Yes, correct.  The resultant HTML posted above is obtained using the document inspector in Chrome (i.e., it does not exist until after the page is rendered).  The <code>createMenu()</code> function is called via <code>$(document).ready(function(){createMenu();});</code> ."}, {"owner": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "edited": false, "score": 1, "creation_date": 1577814945, "post_id": 59546937, "comment_id": 105263327, "body": "@Lemonseed yes, this is the case, as I said and the element <code>&lt;div xmlns=&quot;http:&#47;&#47;www.w3.org&#47;1999&#47;xhtml&quot; id=&quot;menu&quot; class=&quot;container&quot;&gt;</code> is not created by the <code>createMenu()</code> function. As you mentioned it&#39;s static content, that element already exists in the HTML Code as is. You could remove the attribute: <code>$(&quot;#menu&quot;).removeAttr(&quot;xmlns&quot;);</code>"}, {"owner": {"reputation": 495, "user_id": 5823893, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GIHms2pRCno/AAAAAAAAAAI/AAAAAAAABFQ/fZhyIrJgTLw/photo.jpg?sz=128", "display_name": "Nathan Hawks", "link": "https://stackoverflow.com/users/5823893/nathan-hawks"}, "edited": false, "score": 0, "creation_date": 1577815198, "post_id": 59546937, "comment_id": 105263411, "body": "The document inspector does not show your real source by default. Use the Source tab to confirm the attributes exist in the actual source."}, {"owner": {"reputation": 1477, "user_id": 5865492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/IgYyY.jpg?s=128&g=1", "display_name": "Lemonseed", "link": "https://stackoverflow.com/users/5865492/lemonseed"}, "reply_to_user": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "edited": false, "score": 0, "creation_date": 1577815407, "post_id": 59546937, "comment_id": 105263470, "body": "@Twisty: apologies, I see what you were saying.  @NathanHawks: Viewing the source will not show the elements generated by jQuery.  In any case the inspector is giving me inconsistent results.  Depending on what level of the document I select to inspect, the <code>xmlns</code> attribute is either missing, blank, or contains <code>http:&#47;&#47;www.w3.org&#47;1999&#47;xhtml</code>.  I am at a loss."}, {"owner": {"reputation": 495, "user_id": 5823893, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GIHms2pRCno/AAAAAAAAAAI/AAAAAAAABFQ/fZhyIrJgTLw/photo.jpg?sz=128", "display_name": "Nathan Hawks", "link": "https://stackoverflow.com/users/5823893/nathan-hawks"}, "edited": false, "score": 0, "creation_date": 1577815894, "post_id": 59546937, "comment_id": 105263610, "body": "Assuming these attributes also appear in the other browsers, perhaps a server-side transform is in play, i.e. a server plugin."}, {"owner": {"reputation": 1477, "user_id": 5865492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/IgYyY.jpg?s=128&g=1", "display_name": "Lemonseed", "link": "https://stackoverflow.com/users/5865492/lemonseed"}, "reply_to_user": {"reputation": 495, "user_id": 5823893, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GIHms2pRCno/AAAAAAAAAAI/AAAAAAAABFQ/fZhyIrJgTLw/photo.jpg?sz=128", "display_name": "Nathan Hawks", "link": "https://stackoverflow.com/users/5823893/nathan-hawks"}, "edited": false, "score": 0, "creation_date": 1577815993, "post_id": 59546937, "comment_id": 105263637, "body": "@NathanHawks: This is a local file, so there is actually no server.  I&#39;m starting to suspect that this is an issue with Chrome versus jQuery.  Can&#39;t think of any other factors at play.  I&#39;ve added a screen shot of the document inspector above for additional context."}, {"owner": {"reputation": 495, "user_id": 5823893, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GIHms2pRCno/AAAAAAAAAAI/AAAAAAAABFQ/fZhyIrJgTLw/photo.jpg?sz=128", "display_name": "Nathan Hawks", "link": "https://stackoverflow.com/users/5823893/nathan-hawks"}, "edited": false, "score": 0, "creation_date": 1577816153, "post_id": 59546937, "comment_id": 105263687, "body": "Then I second Twisty&#39;s suggestion that you shelve the forensic angle and just do a <code>.removeAttr()</code> ... Chrome is known to implement weird policies  EDIT: @Lemonseed maybe try a fresh copy of Chrome, it could be a browser plugin."}, {"owner": {"reputation": 1477, "user_id": 5865492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/IgYyY.jpg?s=128&g=1", "display_name": "Lemonseed", "link": "https://stackoverflow.com/users/5865492/lemonseed"}, "edited": false, "score": 0, "creation_date": 1577816469, "post_id": 59546937, "comment_id": 105263769, "body": "Thanks for the suggestions!  One way that I was able to fix it was by removing the following from the beginning of the document: <code>&lt;!DOCTYPE html PUBLIC &quot;-&#47;&#47;W3C&#47;&#47;DTD XHTML 1.0 Transitional&#47;&#47;EN&quot; &quot;http:&#47;&#47;www.w3.org&#47;TR&#47;xhtml1&#47;DTD&#47;xhtml1-transitional.dtd&quot;&gt; &lt;html xmlns=&quot;http:&#47;&#47;www.w3.org&#47;1999&#47;xhtml&quot; &gt;</code> and replacing with just <code>&lt;html&gt;</code>, as well as renaming the extension from <code>.aspx</code> to <code>.html</code>.  Any technical explanation to why this was effective?  (Remember, this is a local file on my hard drive with no server)"}, {"owner": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "edited": false, "score": 0, "creation_date": 1577817113, "post_id": 59546937, "comment_id": 105263959, "body": "@Lemonseed you said <i>remaining the extension from <code>.aspx</code> to <code>.html</code></i> ASPX is a scripting format for .NET. If you&#39;re running it locally, it would require some type of Web Service to handle the ASPX content. Sounds like there is more going on here than you lead with."}, {"owner": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "edited": false, "score": 0, "creation_date": 1577817212, "post_id": 59546937, "comment_id": 105263991, "body": "Also, the Element Inspector will not show you the Source; it shows you the DOM Elements, including any manipulation from JS/jQuery. Use <code>View Source</code> option to see the original HTML in the browser."}, {"owner": {"reputation": 1477, "user_id": 5865492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/IgYyY.jpg?s=128&g=1", "display_name": "Lemonseed", "link": "https://stackoverflow.com/users/5865492/lemonseed"}, "reply_to_user": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "edited": false, "score": 0, "creation_date": 1577817447, "post_id": 59546937, "comment_id": 105264045, "body": "@Twisty: I was making a static page to be eventually added to an IIS website.  That is why I started with the <code>.aspx</code> extension.  Since there was no server running and it was simply a static file, and opened directly in Chrome from a local folder on my desktop, there should be nothing special about the file extension being <code>aspx</code> vs <code>html</code> (or so I thought).  I can&#39;t think of a technical reason why Chrome would handle elements added with jQuery differently based on file extension."}, {"owner": {"reputation": 1477, "user_id": 5865492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/IgYyY.jpg?s=128&g=1", "display_name": "Lemonseed", "link": "https://stackoverflow.com/users/5865492/lemonseed"}, "edited": false, "score": 0, "creation_date": 1577817528, "post_id": 59546937, "comment_id": 105264069, "body": "View source only shows <code>&lt;div id=&quot;menu&quot; class=&quot;container&quot;&gt;&lt;&#47;div&gt;</code> with no insight into how the elements are dynamically added from JavaScript/jQuery."}, {"owner": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "edited": false, "score": 0, "creation_date": 1577823438, "post_id": 59546937, "comment_id": 105265304, "body": "@Lemonseed if the Source shows the DIV without the attribute, this suggests something added the attribute to the element after the fact. I don&#39;t have Chrome or the original content to test with, so you can investigate further if you want, but it sounds like you addressed it on your own."}], "owner": {"reputation": 1477, "user_id": 5865492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/IgYyY.jpg?s=128&g=1", "display_name": "Lemonseed", "link": "https://stackoverflow.com/users/5865492/lemonseed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577815911, "creation_date": 1577812955, "last_edit_date": 1577815911, "question_id": 59546937, "link": "https://stackoverflow.com/questions/59546937/jquery-xmlns-attribute-causing-formatting-problems-in-chrome", "title": "jQuery xmlns=&quot;...&quot; attribute causing formatting problems in Chrome", "body": "<p>I am using jQuery to dynamically build a table of items.  Below is a simplified version of the code that reproduces the issue I am running into.  Iterating a simple JSON object, I attempt to add a row for each item within the <code>item</code> div using jQuery's <code>append()</code> method.</p>\n\n<p><em>JSON:</em></p>\n\n<pre><code>var menuTemplate = [\n    {\n        \"label\":\"First Item\",\n    },\n    {\n        \"label\":\"Second Item\",\n    }\n];\n</code></pre>\n\n<p><em>JavaScript:</em></p>\n\n<pre><code>function createMenu() {\n    $.each(menuTemplate, function(index, item){\n        var row = $('&lt;div class=\"row\"&gt;&lt;/div&gt;');\n        var label = $('&lt;div class=\"col-sm\"&gt;' + item['label'] + '&lt;/div&gt;');\n        row.append(label);\n        $('#menu').append(row);\n    });\n}\n</code></pre>\n\n<p><em>HTML:</em></p>\n\n<pre><code>&lt;body style=\"background:#ffffff\"&gt;\n    &lt;div id=\"menu\" class=\"container\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>The resultant output is mostly correct, however it contains some <code>xmlns</code> attributes on some elements that cause layout problems in Chrome:</p>\n\n<pre><code>&lt;div xmlns=\"http://www.w3.org/1999/xhtml\" id=\"menu\" class=\"container\"&gt;\n    &lt;div xmlns=\"\" class=\"row\"&gt;\n        &lt;div class=\"col-sm\"&gt;First Item&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div xmlns=\"\" class=\"row\"&gt;\n        &lt;div class=\"col-sm\"&gt;Second Item&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Firefox and Edge don't seem to have issues displaying the content, but in Chrome, \"First Item\" and \"Second Item\" display on the same row with no space in between, as follows:</p>\n\n<blockquote>\n  <p>First ItemSecond Item</p>\n</blockquote>\n\n<p>whereas in Firefox and Edge, they are correctly displayed on their own lines as:</p>\n\n<blockquote>\n  <p>First Item</p>\n  \n  <p>Second Item</p>\n</blockquote>\n\n<p>My question is, <strong>Why is the formatting lost with the addition of the <code>xmlns</code> attribute?</strong>, and perhaps more essentially, <strong>How do I prevent the <code>xmlns</code> attribute from being added in the first place?</strong></p>\n\n<p><br/>\n<strong>EDIT:</strong> <br/>\nThis is what the generated source looks like from the view of the document inspector after the above JavaScript is run on document load:</p>\n\n<p><a href=\"https://i.stack.imgur.com/u9rzf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u9rzf.png\" alt=\"HTML source as viewed via document inspector\"></a></p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 1232, "user_id": 4392611, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d51acfa03e160656d97a3ccd9469a95f?s=128&d=identicon&r=PG&f=1", "display_name": "Zydnar", "link": "https://stackoverflow.com/users/4392611/zydnar"}, "edited": false, "score": 2, "creation_date": 1577813434, "post_id": 59546934, "comment_id": 105262920, "body": "This code style is scary - minifiers will put comas for you, don&#39;t do multi-line assigments by yourself, code readability drops by 100%. Don&#39;t do this: <code>on(&quot;scroll ready load resize resizeEnd</code> instead put it into separate function like function effect() and run this function inside separate events <code>.on(&#39;scroll&#39;, effect(o))</code> ... Also use normal names, clear code is more imporant in developement phase than performance."}, {"owner": {"reputation": 172, "user_id": 12299201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6c6cc8b41d0ddf93fc6f0a2025d0ad5?s=128&d=identicon&r=PG&f=1", "display_name": "sisaln", "link": "https://stackoverflow.com/users/12299201/sisaln"}, "reply_to_user": {"reputation": 1232, "user_id": 4392611, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d51acfa03e160656d97a3ccd9469a95f?s=128&d=identicon&r=PG&f=1", "display_name": "Zydnar", "link": "https://stackoverflow.com/users/4392611/zydnar"}, "edited": false, "score": 0, "creation_date": 1577856951, "post_id": 59546934, "comment_id": 105269378, "body": "@Zydnar as I mentioned, the code is taken from the js source of a minified file of the site that use the effect, I didn&#39;t modified it, it&#39;s only a copy from the original"}, {"owner": {"reputation": 1232, "user_id": 4392611, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d51acfa03e160656d97a3ccd9469a95f?s=128&d=identicon&r=PG&f=1", "display_name": "Zydnar", "link": "https://stackoverflow.com/users/4392611/zydnar"}, "edited": false, "score": 0, "creation_date": 1577888214, "post_id": 59546934, "comment_id": 105274998, "body": "If you have license for it - why not. But now it seems like you&#39;re asking to modify working code (it works on other website) what would be off topic. <i>Modify your question, so you will ask where exactly is your problem.</i> StackOverflow does not do job for you."}, {"owner": {"reputation": 172, "user_id": 12299201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6c6cc8b41d0ddf93fc6f0a2025d0ad5?s=128&d=identicon&r=PG&f=1", "display_name": "sisaln", "link": "https://stackoverflow.com/users/12299201/sisaln"}, "reply_to_user": {"reputation": 1232, "user_id": 4392611, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d51acfa03e160656d97a3ccd9469a95f?s=128&d=identicon&r=PG&f=1", "display_name": "Zydnar", "link": "https://stackoverflow.com/users/4392611/zydnar"}, "edited": false, "score": 0, "creation_date": 1577896067, "post_id": 59546934, "comment_id": 105276742, "body": "@Zydnar I don&#39;t want to modify the original code, I don&#39;t know if you have seen the link and the header with the effect, I just asking for a suggestion on how to achieve the same effect, the code is an example!"}, {"owner": {"reputation": 1232, "user_id": 4392611, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d51acfa03e160656d97a3ccd9469a95f?s=128&d=identicon&r=PG&f=1", "display_name": "Zydnar", "link": "https://stackoverflow.com/users/4392611/zydnar"}, "edited": false, "score": 1, "creation_date": 1577897898, "post_id": 59546934, "comment_id": 105277174, "body": "Use debugging - inspect element before effect and copy it&#39;s CSS properties and save it as class <code>.init</code> than do the same for state after effect and save properties as class <code>.after</code> add for changed element <code>animation: 1s all ease-in</code> and simply switch between two classes. It&#39;s just one of many possible solutions. Of course put everything inside <code>$(window).on(&#39;scroll</code>,...`"}, {"owner": {"reputation": 172, "user_id": 12299201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6c6cc8b41d0ddf93fc6f0a2025d0ad5?s=128&d=identicon&r=PG&f=1", "display_name": "sisaln", "link": "https://stackoverflow.com/users/12299201/sisaln"}, "reply_to_user": {"reputation": 1232, "user_id": 4392611, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d51acfa03e160656d97a3ccd9469a95f?s=128&d=identicon&r=PG&f=1", "display_name": "Zydnar", "link": "https://stackoverflow.com/users/4392611/zydnar"}, "edited": false, "score": 0, "creation_date": 1577899955, "post_id": 59546934, "comment_id": 105277784, "body": "I need to try, I was debugging the js code, but nor css. I will take a look also to the css and then try it on jsfoddle. It will apply the effect on the main section container and on the inner elements, but as I wrote, I need to inspect css first to be sure"}, {"owner": {"reputation": 172, "user_id": 12299201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6c6cc8b41d0ddf93fc6f0a2025d0ad5?s=128&d=identicon&r=PG&f=1", "display_name": "sisaln", "link": "https://stackoverflow.com/users/12299201/sisaln"}, "reply_to_user": {"reputation": 1232, "user_id": 4392611, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d51acfa03e160656d97a3ccd9469a95f?s=128&d=identicon&r=PG&f=1", "display_name": "Zydnar", "link": "https://stackoverflow.com/users/4392611/zydnar"}, "edited": false, "score": 1, "creation_date": 1577901033, "post_id": 59546934, "comment_id": 105278068, "body": "@Zydnar I&#39;ve debugged the css code, the translate, scale and opacity css properties are applied on scroll start. these rules are present on two elements inside the main header that seems to be only a container with no effect. I&#39;ve noted the initial values and the values when the scroll end and the section will be offscreen. I think now that the trick is with the calculations made in the js snippet."}], "owner": {"reputation": 172, "user_id": 12299201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6c6cc8b41d0ddf93fc6f0a2025d0ad5?s=128&d=identicon&r=PG&f=1", "display_name": "sisaln", "link": "https://stackoverflow.com/users/12299201/sisaln"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 445, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1577812925, "creation_date": 1577812925, "question_id": 59546934, "link": "https://stackoverflow.com/questions/59546934/translatey-css-effect-on-window-scroll", "title": "TranslateY css effect on window scroll", "body": "<p>I want to implement a nice scroll effect for the posts and pages title of my wordpress custom theme. You can see the effect in action <a href=\"https://designmodo.com/wpdb-object-wordpress/\" rel=\"nofollow noreferrer\">here</a>. Can someone guide me with the implementation? I've inspected the code, it will rely on the <code>window.scroll</code> function and on some css rules like translate and scale. \nHere is the snippet I've extracted from the minified version of the js file. </p>\n\n<pre><code>e(window).on(\"scroll ready load resize resizeEnd\", function(o) {\n            if (!window.isMobile) {\n                var i = e(window).scrollTop()\n                  , a = i / 2\n                  , r = i / 3\n                  , n = i / window.headerHeight\n                  , s = 1 - .1 * n\n                  , l = 1 - n\n                  , d = (i - window.articleOffsetTop) / (window.articleHeight - window.windowHeight / 6);\n                i &lt; window.headerHeight ? (e(\"section.header .title-container\").css({\n                    \"-webkit-transform\": \"translateY(\" + a + \"px) scale(\" + s + \")\",\n                    transform: \"translateY(\" + a + \"px) scale(\" + s + \")\",\n                    opacity: l\n                }),\n</code></pre>\n\n<p>I'm not a designer so I'm not very confortable with css effects or similar. Any help will be appreciated.</p>\n"}, {"tags": ["javascript", "reactjs", "react-hooks", "keyboard-events"], "comments": [{"owner": {"reputation": 4446, "user_id": 6079412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e5e6c2756113d7289e80bed137251db?s=128&d=identicon&r=PG&f=1", "display_name": "larz", "link": "https://stackoverflow.com/users/6079412/larz"}, "edited": false, "score": 0, "creation_date": 1577813968, "post_id": 59546928, "comment_id": 105263064, "body": "If you add an empty array as the second parameter to <code>useEffect</code>, does that fix it?  <code>useEffect(() =&gt; {...}, [])</code>"}, {"owner": {"reputation": 16662, "user_id": 9119186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFjFW.png?s=128&g=1", "display_name": "Vencovsky", "link": "https://stackoverflow.com/users/9119186/vencovsky"}, "edited": false, "score": 2, "creation_date": 1577814081, "post_id": 59546928, "comment_id": 105263094, "body": "You could take a look at <a href=\"https://usehooks.com/useKeyPress/\" rel=\"nofollow noreferrer\">useKeyPress</a>"}, {"owner": {"reputation": 410, "user_id": 1175323, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/35a45059718f9fcd7255860e16e345d2?s=128&d=identicon&r=PG", "display_name": "thomasjonas", "link": "https://stackoverflow.com/users/1175323/thomasjonas"}, "reply_to_user": {"reputation": 4446, "user_id": 6079412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e5e6c2756113d7289e80bed137251db?s=128&d=identicon&r=PG&f=1", "display_name": "larz", "link": "https://stackoverflow.com/users/6079412/larz"}, "edited": false, "score": 0, "creation_date": 1577892840, "post_id": 59546928, "comment_id": 105275959, "body": "@larz It kind of does, except it only works for one key at a time. It work when having 2 keys pressed at the same time. <a href=\"https://jsfiddle.net/9c85gdxk/\" rel=\"nofollow noreferrer\">jsfiddle.net/9c85gdxk</a>"}, {"owner": {"reputation": 410, "user_id": 1175323, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/35a45059718f9fcd7255860e16e345d2?s=128&d=identicon&r=PG", "display_name": "thomasjonas", "link": "https://stackoverflow.com/users/1175323/thomasjonas"}, "reply_to_user": {"reputation": 16662, "user_id": 9119186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFjFW.png?s=128&g=1", "display_name": "Vencovsky", "link": "https://stackoverflow.com/users/9119186/vencovsky"}, "edited": false, "score": 0, "creation_date": 1577892911, "post_id": 59546928, "comment_id": 105275971, "body": "@Vencovsky: that looks promising, especially the multi-keypress example. I also like the way how it&#39;s abstracted as some kind of custom hook."}], "answers": [{"comments": [{"owner": {"reputation": 410, "user_id": 1175323, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/35a45059718f9fcd7255860e16e345d2?s=128&d=identicon&r=PG", "display_name": "thomasjonas", "link": "https://stackoverflow.com/users/1175323/thomasjonas"}, "edited": false, "score": 0, "creation_date": 1577893088, "post_id": 59547134, "comment_id": 105276018, "body": "Good to know that I should use dependencies! It only slightly helped: keys don&#39;t get stuck anymore, but it doesn&#39;t work for multiple/2 keys at the same time. See updated fiddle :<a href=\"https://jsfiddle.net/9c85gdxk/\" rel=\"nofollow noreferrer\">jsfiddle.net/9c85gdxk</a>"}], "tags": [], "owner": {"reputation": 2128, "user_id": 10118832, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9iQT52v2fg0/AAAAAAAAAAI/AAAAAAAAAAo/6vfXeVCnyTQ/photo.jpg?sz=128", "display_name": "Michalis Garganourakis", "link": "https://stackoverflow.com/users/10118832/michalis-garganourakis"}, "is_accepted": false, "score": 1, "last_activity_date": 1577815284, "last_edit_date": 1577815284, "creation_date": 1577814634, "answer_id": 59547134, "question_id": 59546928, "link": "https://stackoverflow.com/questions/59546928/keydown-up-events-with-react-hooks-not-working-properly/59547134#59547134", "title": "Keydown/up events with React Hooks not working properly", "body": "<p><code>useEffect</code> runs on every render, resulting on adding/removing your listeners on each keypress. This could potential lead to a key press/release without a listener attached.</p>\n\n<p>Suppling an empty array <code>[]</code> as second parameter to <code>useEffect</code>, React will know that this effect does not depend on any of the props/state values so it never needs to re-run, attaching and cleaning up your listeners once</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  React.useEffect(() =&gt; {\n    document.addEventListener('keydown', handleKeyDown)\n    document.addEventListener('keyup', handleKeyUp)\n\n    return () =&gt; {\n      document.removeEventListener('keydown', handleKeyDown)\n      document.removeEventListener('keyup', handleKeyUp)\n    }\n  }, [])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 410, "user_id": 1175323, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/35a45059718f9fcd7255860e16e345d2?s=128&d=identicon&r=PG", "display_name": "thomasjonas", "link": "https://stackoverflow.com/users/1175323/thomasjonas"}, "edited": false, "score": 0, "creation_date": 1577893499, "post_id": 59547145, "comment_id": 105276112, "body": "Unfortunately that doesn&#39;t help. It also doesn&#39;t make a difference, but I do believe you&#39;re right with me breaking the rules of hooks. I&#39;ll keep them plain arrow functions."}], "tags": [], "owner": {"reputation": 89, "user_id": 3869223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b463f887923f6dcfa91c007e2e594ba7?s=128&d=identicon&r=PG", "display_name": "skoller", "link": "https://stackoverflow.com/users/3869223/skoller"}, "is_accepted": false, "score": 1, "last_activity_date": 1577814673, "last_edit_date": 1592644375, "creation_date": 1577814673, "answer_id": 59547145, "question_id": 59546928, "link": "https://stackoverflow.com/questions/59546928/keydown-up-events-with-react-hooks-not-working-properly/59547145#59547145", "title": "Keydown/up events with React Hooks not working properly", "body": "<p>I believe you're <a href=\"https://reactjs.org/warnings/invalid-hook-call-warning.html#breaking-the-rules-of-hooks\" rel=\"nofollow noreferrer\">Breaking the Rules of Hooks</a>:</p>\n<blockquote>\n<p>Do not call Hooks inside functions passed to <code>useMemo</code>, <code>useReducer</code>, or <code>useEffect</code>.</p>\n</blockquote>\n<p>You're calling the <code>setPressed</code> hook inside a function passed to <code>useCallback</code>, which basically uses <code>useMemo</code> under the hood.</p>\n<blockquote>\n<p><code>useCallback(fn, deps)</code> is equivalent to <code>useMemo(() =&gt; fn, deps)</code>.</p>\n</blockquote>\n<p><a href=\"https://reactjs.org/docs/hooks-reference.html#usecallback\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/hooks-reference.html#usecallback</a></p>\n<p>See if removing the <code>useCallback</code> in favor of a plain arrow function solves your problem.</p>\n"}, {"comments": [{"owner": {"reputation": 410, "user_id": 1175323, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/35a45059718f9fcd7255860e16e345d2?s=128&d=identicon&r=PG", "display_name": "thomasjonas", "link": "https://stackoverflow.com/users/1175323/thomasjonas"}, "edited": false, "score": 0, "creation_date": 1577893802, "post_id": 59548081, "comment_id": 105276182, "body": "Doesn&#39;t seem to help unfortunately. I still get stuck keys. When I use the empty deps array it doesn&#39;t get stuck keys, but it only works for 1 key at a time. So I&#39;m pretty sure it has something to do with the <code>pressed</code> state and some dependencies somewhere that I&#39;m not handling properly. I&#39;m now looking into <a href=\"https://usehooks.com/useKeyPress/\" rel=\"nofollow noreferrer\">useKeyPress</a> as suggested by @Vencovsky"}], "tags": [], "owner": {"reputation": 5791, "user_id": 664389, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/jjDUE.jpg?s=128&g=1", "display_name": "Laith", "link": "https://stackoverflow.com/users/664389/laith"}, "is_accepted": false, "score": 2, "last_activity_date": 1577822708, "creation_date": 1577822708, "answer_id": 59548081, "question_id": 59546928, "link": "https://stackoverflow.com/questions/59546928/keydown-up-events-with-react-hooks-not-working-properly/59548081#59548081", "title": "Keydown/up events with React Hooks not working properly", "body": "<pre><code>React.useEffect(() =&gt; {\n  document.addEventListener('keydown', handleKeyDown)\n  document.addEventListener('keyup', handleKeyUp)\n\n  return () =&gt; {\n    document.removeEventListener('keydown', handleKeyDown)\n    document.removeEventListener('keyup', handleKeyUp)\n  }\n}, [handleKeyDown, handleKeyUp]); // &lt;---- Add this deps array\n</code></pre>\n\n<p>You need to add the handlers as dependencies to the <code>useEffect</code>, otherwise it gets called on every render. </p>\n\n<p>Also, make sure your deps array is not empty <code>[]</code>, because your handlers could change based on the value of <code>pressed</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 410, "user_id": 1175323, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/35a45059718f9fcd7255860e16e345d2?s=128&d=identicon&r=PG", "display_name": "thomasjonas", "link": "https://stackoverflow.com/users/1175323/thomasjonas"}, "edited": false, "score": 1, "creation_date": 1577907829, "post_id": 59554065, "comment_id": 105279622, "body": "Yes, wonderful! Me not using the previous state was the last uncaught problem. (I see you also forgot it in your fiddle for the keyup, here&#39;s the final fiddle for completeness: <a href=\"https://jsfiddle.net/oh8x4smp/1/\" rel=\"nofollow noreferrer\">jsfiddle.net/oh8x4smp/1</a>) Thanks for all the time you put in! I think my use of <code>useCallback</code> wasn&#39;t necessary at all. Somebody else mentioned it as well. Just an arrow function seems to work fine. Even outside <code>useEffect</code>. Is there any specific reason it has to be inside <code>useEffect</code>?"}, {"owner": {"reputation": 12641, "user_id": 7599510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iJk2N.jpg?s=128&g=1", "display_name": "norbitrial", "link": "https://stackoverflow.com/users/7599510/norbitrial"}, "reply_to_user": {"reputation": 410, "user_id": 1175323, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/35a45059718f9fcd7255860e16e345d2?s=128&d=identicon&r=PG", "display_name": "thomasjonas", "link": "https://stackoverflow.com/users/1175323/thomasjonas"}, "edited": false, "score": 0, "creation_date": 1577907993, "post_id": 59554065, "comment_id": 105279665, "body": "@thomasjonas Great, happy to help! The reason is that you don&#39;t need anywhere else, just to attach or detach the event which is handled inside of <code>useEffect</code>. I like to create functions with the minimal scope what I can achieve if I&#39;m not using them anywhere else. I hope this clarifies."}, {"owner": {"reputation": 410, "user_id": 1175323, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/35a45059718f9fcd7255860e16e345d2?s=128&d=identicon&r=PG", "display_name": "thomasjonas", "link": "https://stackoverflow.com/users/1175323/thomasjonas"}, "edited": false, "score": 2, "creation_date": 1577911281, "post_id": 59554065, "comment_id": 105280329, "body": "Aha, that makes sense! One more thing: I&#39;ve noticed a lot of unnecessary re-renders. It seems like <code>!pressedKeys.includes(key)</code> in the <code>onKeyDown</code> handler does not work as the <code>pressedKeys</code> value is not updated. I assume that&#39;s because <code>pressedKeys</code> is not in the dependencies array of <code>useEffect</code>, right?"}, {"owner": {"reputation": 1245, "user_id": 1213550, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5b9f69f1698ab759c98be2c81bd4e468?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/1213550/dan"}, "edited": false, "score": 0, "creation_date": 1612857061, "post_id": 59554065, "comment_id": 116890294, "body": "I know this is an old post but what if the user wanted manually press the button with a mouse or touch event? You can\u2019t call the function inside of useEffect so how would this be done?"}], "tags": [], "owner": {"reputation": 12641, "user_id": 7599510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iJk2N.jpg?s=128&g=1", "display_name": "norbitrial", "link": "https://stackoverflow.com/users/7599510/norbitrial"}, "is_accepted": true, "score": 4, "last_activity_date": 1577896596, "last_edit_date": 1577896596, "creation_date": 1577895322, "answer_id": 59554065, "question_id": 59546928, "link": "https://stackoverflow.com/questions/59546928/keydown-up-events-with-react-hooks-not-working-properly/59554065#59554065", "title": "Keydown/up events with React Hooks not working properly", "body": "<p>There are 3 key things to do to make it work as expected just like your class component.</p>\n\n<p>As others mentioned for <code>useEffect</code> you need to add an <code>[]</code> as a dependency array which will trigger only once the <code>addEventLister</code> functions.</p>\n\n<p>The second thing which is the main issue is that you are not mutating the <code>pressed</code> array's <strong>previous state</strong> in functional component as you did in class component, just like below:</p>\n\n<pre><code>// onKeyDown event\nthis.setState(prevState =&gt; ({\n   pressed: [...prevState.pressed, key],\n}))\n\n// onKeyUp event\nthis.setState(prevState =&gt; ({\n   pressed: prevState.pressed.filter(k =&gt; k !== key),\n}))\n</code></pre>\n\n<p>You need to update in functional one as the following:</p>\n\n<pre><code>// onKeyDown event\nsetPressedKeys(previousPressedKeys =&gt; [...previousPressedKeys, key]);\n\n// onKeyUp event\nsetPressedKeys(previousPressedKeys =&gt; previousPressedKeys.filter(k =&gt; k !== key));\n</code></pre>\n\n<p>The third thing is that the definition of the <code>onKeyDown</code> and <code>onKeyUp</code> events have been moved inside of <code>useEffect</code> so you don't need to use <code>useCallback</code>.</p>\n\n<p>The mentioned things solved the issue on my end. Please find the following working GitHub repository what I've made which works as expected:</p>\n\n<blockquote>\n  <p><a href=\"https://github.com/norbitrial/react-keydown-useeffect-componentdidmount\" rel=\"nofollow noreferrer\">https://github.com/norbitrial/react-keydown-useeffect-componentdidmount</a></p>\n</blockquote>\n\n<p>Find a working JSFiddle version if you like it better here:</p>\n\n<blockquote>\n  <p><a href=\"https://jsfiddle.net/0aogqbyp/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/0aogqbyp/</a></p>\n</blockquote>\n\n<p>The <a href=\"https://github.com/norbitrial/react-keydown-useeffect-componentdidmount/blob/master/src/KeyDownFunctional.jsx\" rel=\"nofollow noreferrer\">essential part</a> from the repository, fully working component:</p>\n\n<pre><code>const KeyDownFunctional = () =&gt; {\n    const [pressedKeys, setPressedKeys] = useState([]);\n\n    useEffect(() =&gt; {\n        const onKeyDown = ({key}) =&gt; {\n            if (Consts.ALLOWED_KEYS.includes(key) &amp;&amp; !pressedKeys.includes(key)) {\n                setPressedKeys(previousPressedKeys =&gt; [...previousPressedKeys, key]);\n            }\n        }\n\n        const onKeyUp = ({key}) =&gt; {\n            if (Consts.ALLOWED_KEYS.includes(key)) {\n                setPressedKeys(previousPressedKeys =&gt; previousPressedKeys.filter(k =&gt; k !== key));\n            }\n        }\n\n        document.addEventListener('keydown', onKeyDown);\n        document.addEventListener('keyup', onKeyUp);\n\n        return () =&gt; {\n            document.removeEventListener('keydown', onKeyDown);\n            document.removeEventListener('keyup', onKeyUp);\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return &lt;&gt;\n        &lt;h3&gt;KeyDown Functional Component&lt;/h3&gt;\n        &lt;h4&gt;Pressed Keys:&lt;/h4&gt;\n\n        {pressedKeys.map(e =&gt; &lt;span key={e} className=\"key\"&gt;{e}&lt;/span&gt;)}\n    &lt;/&gt;\n}\n</code></pre>\n\n<p>The reason why I'm using <code>// eslint-disable-next-line react-hooks/exhaustive-deps</code> for the <code>useEffect</code> is because I don't want to reattach the events every single time once the <code>pressed</code> or <code>pressedKeys</code> array is changing.</p>\n\n<p>I hope this helps!</p>\n"}, {"tags": [], "owner": {"reputation": 410, "user_id": 1175323, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/35a45059718f9fcd7255860e16e345d2?s=128&d=identicon&r=PG", "display_name": "thomasjonas", "link": "https://stackoverflow.com/users/1175323/thomasjonas"}, "is_accepted": false, "score": 4, "last_activity_date": 1577895434, "creation_date": 1577895434, "answer_id": 59554079, "question_id": 59546928, "link": "https://stackoverflow.com/questions/59546928/keydown-up-events-with-react-hooks-not-working-properly/59554079#59554079", "title": "Keydown/up events with React Hooks not working properly", "body": "<p>User @Vencovsky mentioned the <a href=\"https://usehooks.com/useKeyPress/\" rel=\"nofollow noreferrer\">useKeyPress recipe</a> by Gabe Ragland. Implementing this made everything work as expected. The useKeyPress recipe:</p>\n\n<pre><code>// Hook\nconst useKeyPress = (targetKey) =&gt; {\n  // State for keeping track of whether key is pressed\n  const [keyPressed, setKeyPressed] = React.useState(false)\n\n  // If pressed key is our target key then set to true\n  const downHandler = ({ key }) =&gt; {\n    if (key === targetKey) {\n      setKeyPressed(true)\n    }\n  }\n\n  // If released key is our target key then set to false\n  const upHandler = ({ key }) =&gt; {\n    if (key === targetKey) {\n      setKeyPressed(false)\n    }\n  }\n\n  // Add event listeners\n  React.useEffect(() =&gt; {\n    window.addEventListener('keydown', downHandler)\n    window.addEventListener('keyup', upHandler)\n    // Remove event listeners on cleanup\n    return () =&gt; {\n      window.removeEventListener('keydown', downHandler)\n      window.removeEventListener('keyup', upHandler)\n    }\n  }, []) // Empty array ensures that effect is only run on mount and unmount\n\n  return keyPressed\n}\n</code></pre>\n\n<p>You can then use that \"hook\" as follows:</p>\n\n<pre><code>const KeyboardControls = () =&gt; {\n  const isUpPressed = useKeyPress('ArrowUp')\n  const isDownPressed = useKeyPress('ArrowDown')\n  const isLeftPressed = useKeyPress('ArrowLeft')\n  const isRightPressed = useKeyPress('ArrowRight')\n\n  return (\n    &lt;div className=\"keyboard-controls\"&gt;\n      &lt;div className={classNames('up-button', isUpPressed &amp;&amp; 'pressed')} /&gt;\n      &lt;div className={classNames('down-button', isDownPressed &amp;&amp; 'pressed')} /&gt;\n      &lt;div className={classNames('left-button', isLeftPressed &amp;&amp; 'pressed')} /&gt;\n      &lt;div className={classNames('right-button', isRightPressed &amp;&amp; 'pressed')} /&gt;\n    &lt;/div&gt;\n  )\n}\n</code></pre>\n\n<p>Complete fiddle can be found <a href=\"https://jsfiddle.net/upym1t4s/2/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>The difference with my code is that it use hooks and state <em>per key</em> instead of all the keys at once. I'm not sure why that would matter though. Would be great if somebody could explain that.</p>\n\n<p>Thanks to everyone who tried to help and made the hooks concept clearer for me. And thanks for @Vencovsky for pointing me to the usehooks.com website by Gabe Ragland.</p>\n"}, {"comments": [{"owner": {"reputation": 96, "user_id": 1090398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce2f4ff80e95485d7959139e473f11e?s=128&d=identicon&r=PG", "display_name": "cthorpe", "link": "https://stackoverflow.com/users/1090398/cthorpe"}, "edited": false, "score": 0, "creation_date": 1590685496, "post_id": 61972270, "comment_id": 109780761, "body": "Could you provide an example of this snippet implemented in a component, please?"}, {"owner": {"reputation": 5574, "user_id": 175825, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/1ZVkL.png?s=128&g=1", "display_name": "corysimmons", "link": "https://stackoverflow.com/users/175825/corysimmons"}, "reply_to_user": {"reputation": 96, "user_id": 1090398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce2f4ff80e95485d7959139e473f11e?s=128&d=identicon&r=PG", "display_name": "cthorpe", "link": "https://stackoverflow.com/users/1090398/cthorpe"}, "edited": false, "score": 1, "creation_date": 1590737267, "post_id": 61972270, "comment_id": 109798653, "body": "@cthorpe Actually, I have no idea how to use it... <a href=\"https://codesandbox.io/s/absolutely-no-idea-budl8\" rel=\"nofollow noreferrer\">codesandbox.io/s/absolutely-no-idea-budl8</a> I have no idea what React is doing half the time. I can collect all the keys using that hook, but actually making use of them seems impossible.  I ended up using a different approach on my own project that seems to be working where I collect them with a timestamp.  If anyone can help debug this! PLEASE DO. I&#39;ll update the answer and the demo."}, {"owner": {"reputation": 96, "user_id": 1090398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce2f4ff80e95485d7959139e473f11e?s=128&d=identicon&r=PG", "display_name": "cthorpe", "link": "https://stackoverflow.com/users/1090398/cthorpe"}, "edited": false, "score": 0, "creation_date": 1591380037, "post_id": 61972270, "comment_id": 110044576, "body": "Thanks- I sympathize! I, too, ended up going a different route using &#39;react-hotkeys-hook&#39;:  <code>import { useHotkeys } from &#39;react-hotkeys-hook&#39;;  export default function MyApp({ Component }) {   const addBodyClass = cName =&gt; document.body.classList.add(cName);   const removeBodyClass = cName=&gt; document.body.classList.remove(cName);   const setHotkey = (hotkey, cName) =&gt; {     useHotkeys(hotkey, () =&gt; document.body.classList.contains(cName) ? removeBodyClass(cName) : addBodyClass(cName));   };    setHotkey(&quot;ctrl+.&quot;, &#39;exampleClass&#39;);    return &lt;Component} &#47;&gt;; }</code>"}], "tags": [], "owner": {"reputation": 5574, "user_id": 175825, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/1ZVkL.png?s=128&g=1", "display_name": "corysimmons", "link": "https://stackoverflow.com/users/175825/corysimmons"}, "is_accepted": false, "score": 2, "last_activity_date": 1590247908, "last_edit_date": 1590247908, "creation_date": 1590238063, "answer_id": 61972270, "question_id": 59546928, "link": "https://stackoverflow.com/questions/59546928/keydown-up-events-with-react-hooks-not-working-properly/61972270#61972270", "title": "Keydown/up events with React Hooks not working properly", "body": "<p>All the solutions I found were pretty bad. For instance, the solutions in this thread only allow you to hold down 2 buttons, or they simply don't work like a lot of the use-hooks libraries.</p>\n\n<p>After working on this for a long time with @asafaviv from #Reactiflux I think this is my favorite solution:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { useState, useLayoutEffect } from 'react'\n\nconst specialKeys = [\n  `Shift`,\n  `CapsLock`,\n  `Meta`,\n  `Control`,\n  `Alt`,\n  `Tab`,\n  `Backspace`,\n  `Escape`,\n]\n\nconst useKeys = () =&gt; {\n  if (typeof window === `undefined`) return [] // Bail on SSR\n\n  const [keys, setKeys] = useState([])\n\n  useLayoutEffect(() =&gt; {\n    const downHandler = ({ key, shiftKey, repeat }) =&gt; {\n      if (repeat) return // Bail if they're holding down a key\n      setKeys(prevKeys =&gt; {\n        return [...prevKeys, { key, shiftKey }]\n      })\n    }\n    const upHandler = ({ key, shiftKey }) =&gt; {\n      setKeys(prevKeys =&gt; {\n        return prevKeys.filter(k =&gt; {\n          if (specialKeys.includes(key))\n            return false // Special keys being held down/let go of in certain orders would cause keys to get stuck in state\n          return JSON.stringify(k) !== JSON.stringify({ key, shiftKey }) // JS Objects are unique even if they have the same contents, this forces them to actually compare based on their contents\n        })\n      })\n    }\n\n    window.addEventListener(`keydown`, downHandler)\n    window.addEventListener(`keyup`, upHandler)\n    return () =&gt; {\n      // Cleanup our window listeners if the component goes away\n      window.removeEventListener(`keydown`, downHandler)\n      window.removeEventListener(`keyup`, upHandler)\n    }\n  }, [])\n\n  return keys.map(x =&gt; x.key) // return a clean array of characters (including special characters \ud83c\udf89)\n}\n\nexport default useKeys\n</code></pre>\n"}], "owner": {"reputation": 410, "user_id": 1175323, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/35a45059718f9fcd7255860e16e345d2?s=128&d=identicon&r=PG", "display_name": "thomasjonas", "link": "https://stackoverflow.com/users/1175323/thomasjonas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11499, "favorite_count": 3, "accepted_answer_id": 59554065, "answer_count": 6, "score": 3, "last_activity_date": 1590247908, "creation_date": 1577812894, "last_edit_date": 1577822312, "question_id": 59546928, "link": "https://stackoverflow.com/questions/59546928/keydown-up-events-with-react-hooks-not-working-properly", "title": "Keydown/up events with React Hooks not working properly", "body": "<p>I'm trying to create arrow based keyboard controls for a game I'm working on. Of course I'm trying to stay up to date with React so I wanted to create a function component and use hooks. I've created a <a href=\"https://jsfiddle.net/vus4nrfe/1/\" rel=\"nofollow noreferrer\">JSFiddle</a> for my buggy component. </p>\n\n<p>It's almost working as expected, except when I press a lot of the arrow keys at the same time. Then it seems like some <code>keyup</code> events aren't triggered. It could also be that the 'state' is not updated properly.</p>\n\n<p>Which I do like this:</p>\n\n<pre><code>  const ALLOWED_KEYS = ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight']\n  const [pressed, setPressed] = React.useState([])\n\n  const handleKeyDown = React.useCallback(event =&gt; {\n    const { key } = event\n    if (ALLOWED_KEYS.includes(key) &amp;&amp; !pressed.includes(key)) {\n      setPressed([...pressed, key])\n    }\n  }, [pressed])\n\n  const handleKeyUp = React.useCallback(event =&gt; {\n    const { key } = event\n    setPressed(pressed.filter(k =&gt; k !== key))\n  }, [pressed])\n\n  React.useEffect(() =&gt; {\n    document.addEventListener('keydown', handleKeyDown)\n    document.addEventListener('keyup', handleKeyUp)\n\n    return () =&gt; {\n      document.removeEventListener('keydown', handleKeyDown)\n      document.removeEventListener('keyup', handleKeyUp)\n    }\n  })\n</code></pre>\n\n<p>I have the idea that I'm doing it correctly, but being new to hooks it is very likely that this is where the problem is. Especially since I've re-created the same component as a class based component:\n<a href=\"https://jsfiddle.net/vus4nrfe/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/vus4nrfe/</a></p>\n\n<p>And that seems to work fine...</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 39638, "user_id": 8690857, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-47_HcdolAr0/AAAAAAAAAAI/AAAAAAAAB30/lD6xAXOWlu4/photo.jpg?sz=128", "display_name": "Drew Reese", "link": "https://stackoverflow.com/users/8690857/drew-reese"}, "is_accepted": true, "score": 2, "last_activity_date": 1577835854, "creation_date": 1577835854, "answer_id": 59549165, "question_id": 59546893, "link": "https://stackoverflow.com/questions/59546893/responsive-navigation-not-working-react/59549165#59549165", "title": "Responsive Navigation Not Working (React)", "body": "<p>Looks like you aren't toggling the expanded state. Try this.</p>\n\n<pre><code>handleToggle(e) {\n  e.preventDefault();\n  this.setState(prevState =&gt; ({\n    isExpanded: !prevState.isExpanded, // negate the previous expanded state\n  }));\n}\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 11721824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/984cce053b7fc6420687eac149af3482?s=128&d=identicon&r=PG&f=1", "display_name": "bpdg", "link": "https://stackoverflow.com/users/11721824/bpdg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 59549165, "answer_count": 1, "score": 0, "last_activity_date": 1577835854, "creation_date": 1577812664, "question_id": 59546893, "link": "https://stackoverflow.com/questions/59546893/responsive-navigation-not-working-react", "title": "Responsive Navigation Not Working (React)", "body": "<p>I'm creating a React Responsive Navigation with SCSS but some reason. Whenever I clicked on the hamburger button nothing is happening the menu is not sliding down on the mobile view. I have tried to Inspect in the in-browser to see if was the SCSS but adding the class <code>is-expanded</code>. </p>\n\n<p><code>isexpanded</code> is the CSS class that going to be called whenever you click on the hamburger but not working adding to the class to open the menu. </p>\n\n<p><strong>React Code:</strong> </p>\n\n<pre><code>import React from 'react';\nimport { BrowserRouter as Router, Link } from 'react-router-dom';\nimport Dropdown from \"../components/pages/dropdowns/dropdown.js\";\nimport hamburger from \"../components/images/menu.svg\";\n\nclass Navigation extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            isExpanded: false\n        };\n    }\n\n    handleToggle(e) {\n        e.preventDefault();\n        this.setState({\n            isExpanded: this.state.isExpanded\n        });\n    }\n\n    render() {\n\n        const { isExpanded } = this.state;\n\n      return (\n          &lt;Router&gt;\n              &lt;div className=\"FlexContainer NavbarContainer\"&gt;\n                  &lt;div className=\"mobilecontainer LeftNav\"&gt;\n                      &lt;h2 className=\"BrandName LeftNav mobileboxmenu inline FarRight\"&gt;Kommonplaces&lt;/h2&gt;\n                      &lt;div className=\"hamburger inlinev\" &gt;\n                          &lt;img \n                            onClick={e =&gt; this.handleToggle(e)}\n                            alt=\"menubtn\" \n                            src={hamburger}\n                          /&gt;\n                      &lt;/div&gt;\n                  &lt;/div&gt;\n\n\n                  &lt;ul className={`collapsed ${isExpanded ? \"is-expanded\" : \"NavBar\"}`}&gt;\n                        &lt;Dropdown/&gt;    \n                        &lt;li className=\"RightNav\"&gt;&lt;Link to=\"/\"&gt;Host Your Space&lt;/Link&gt;&lt;/li&gt;\n                        &lt;li className=\"RightNav\"&gt;&lt;Link to=\"/\"&gt;About Us&lt;/Link&gt;&lt;/li&gt;\n                        &lt;li className=\"RightNav\"&gt;&lt;Link to=\"/\"&gt;Contact Us&lt;/Link&gt;&lt;/li&gt;\n                        &lt;li className=\"RightNav\"&gt;&lt;Link to=\"/\"&gt;Sign Up&lt;/Link&gt;&lt;/li&gt;\n                        &lt;li className=\"RightNav\"&gt;&lt;Link to=\"/\"&gt;Login&lt;/Link&gt;&lt;/li&gt;\n                  &lt;/ul&gt;\n               &lt;/div&gt;\n         &lt;/Router&gt;\n      );\n    }\n}\n\n  export default Navigation;\n</code></pre>\n\n<p><strong>SCSS Code:</strong> </p>\n\n<pre><code>.NavbarContainer {\n    border-bottom: 1px #E7E7E7 solid;\n\n    .collapsed {\n        overflow: hidden;\n        max-height: 0;\n        -moz-transition-duration: 0.4s;\n        -webkit-transition-duration: 0.4s;\n        -o-transition-duration: 0.4s;\n        transition-duration: 0.4s;\n        -moz-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n        -webkit-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n        -o-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n        transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n    }\n\n    .is-expanded {\n        overflow: hidden;\n        max-height: 100vh;\n        -moz-transition-duration: 0.4s;\n        -webkit-transition-duration: 0.4s;\n        -o-transition-duration: 0.4s;\n        transition-duration: 0.4s;\n        -moz-transition-timing-function: ease-in;\n        -webkit-transition-timing-function: ease-in;\n        -o-transition-timing-function: ease-in;\n        transition-timing-function: ease-in;\n    }\n\n    .mobilecontainer {\n        margin: 2.1em;\n        .hamburger {\n            display: inline;\n            img {\n                width: 35px;\n                cursor: pointer;\n                float: right;\n            }\n        }\n    }\n\n    .NavBar {\n\n        .RightNav {\n            text-align: center;\n            padding: 27px 0;\n            border-right: none;\n            border-left: none;\n            border-bottom: 1px #E7E7E7 solid;\n            font-size: large;\n            a {\n                color: #0E0E0E;\n            }\n        }\n\n    }\n\n\n    .Dropdown {\n        float: none;\n        overflow: hidden;\n\n        .Dropdown-Content {\n            position: relative;\n            background-color: white;\n            z-index: 2;\n            min-width: 217px;       \n            a {\n                float: none;\n                display: block;\n                text-align: center;\n                border: 1px #E7E7E7 solid;\n                padding: 15px 22px;\n            }\n        }\n    }\n\n    .dropdown-content {\n        a {\n            &amp;:hover {\n                 background-color:  #ddd\n            }\n        }\n    }\n\n    .dropdown {\n        &amp;:hover {\n            .dropdown-content {\n                display: block;\n            }\n        }\n    }\n\n    .LeftNav {\n        flex-grow: 8.2;\n        font-weight: bold;\n        font-size: large;\n        display: flex;\n        align-items: center;\n    }\n\n    @media (min-width: 55em) {\n\n        .collapsed {\n            max-height: 100px;\n        }\n\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n        top: 0;\n        left: 0;\n        z-index: 9999;\n        width: 100%;\n        height: 60px;\n        background-color: #ffffff;\n        padding: 3em;\n        .LeftNav {\n            flex-grow: 0.2;\n            font-weight: bold;\n            font-size: large;\n        }\n\n        .mobilecontainer {\n            margin: 0;\n            .hamburger {\n                img {\n                    display: none\n                }\n            }\n        }\n\n        .NavBar {\n            display: flex;\n            .RightNav {\n                padding-left: 15px;\n                padding-right: 15px;\n                text-align: initial;\n                border-bottom: none;\n                font-size: large;\n            }\n\n            .FarRight {\n                flex-grow: 1;\n            }\n        }\n\n        .Dropdown {\n            float: left;\n            overflow: hidden;\n            .Dropdown-Content {\n                position: absolute;\n                top: 96px;\n                background-color: white;\n                z-index: 2;\n                min-width: 217px;       \n                a {\n                    text-align: left;\n                    padding: 15px 22px;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "firebase", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1577813007, "post_id": 59546879, "comment_id": 105262806, "body": "You can&#39;t nest documents immediately under other documents.  You&#39;ll need to use a named subcollection under the uid document for that, then add documents to that subcollection."}, {"owner": {"reputation": 69, "user_id": 12626654, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pgowpCeZicY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcWKruaBW5VhgExl09du8FKUldRbg/photo.jpg?sz=128", "display_name": "Rahul Kundu", "link": "https://stackoverflow.com/users/12626654/rahul-kundu"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1577813115, "post_id": 59546879, "comment_id": 105262835, "body": "For the subcollection what are modifications I need to make in the code."}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 12626654, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pgowpCeZicY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcWKruaBW5VhgExl09du8FKUldRbg/photo.jpg?sz=128", "display_name": "Rahul Kundu", "link": "https://stackoverflow.com/users/12626654/rahul-kundu"}, "edited": false, "score": 0, "creation_date": 1577848003, "post_id": 59548843, "comment_id": 105268580, "body": "I am trying to achieve something like this example. <a href=\"https://angularfirebase.com/lessons/managing-firebase-user-relationships-to-database-records\" rel=\"nofollow noreferrer\">angularfirebase.com/lessons/&hellip;</a>."}, {"owner": {"reputation": 9545, "user_id": 3068190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YDAi7.jpg?s=128&g=1", "display_name": "samthecodingman", "link": "https://stackoverflow.com/users/3068190/samthecodingman"}, "reply_to_user": {"reputation": 69, "user_id": 12626654, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pgowpCeZicY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcWKruaBW5VhgExl09du8FKUldRbg/photo.jpg?sz=128", "display_name": "Rahul Kundu", "link": "https://stackoverflow.com/users/12626654/rahul-kundu"}, "edited": false, "score": 0, "creation_date": 1577854598, "post_id": 59548843, "comment_id": 105269111, "body": "@RahulKundu The linked video is practices for the Realtime Database. The advice given doesn&#39;t completely apply to Cloud Firestore. I&#39;d recommend looking at <a href=\"https://angularfirebase.com/lessons/firestore-nosql-data-modeling-by-example/\" rel=\"nofollow noreferrer\">Model Relational Data in Firestore NoSQL</a> instead."}, {"owner": {"reputation": 9545, "user_id": 3068190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YDAi7.jpg?s=128&g=1", "display_name": "samthecodingman", "link": "https://stackoverflow.com/users/3068190/samthecodingman"}, "reply_to_user": {"reputation": 69, "user_id": 12626654, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pgowpCeZicY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcWKruaBW5VhgExl09du8FKUldRbg/photo.jpg?sz=128", "display_name": "Rahul Kundu", "link": "https://stackoverflow.com/users/12626654/rahul-kundu"}, "edited": false, "score": 0, "creation_date": 1577855252, "post_id": 59548843, "comment_id": 105269175, "body": "I&#39;ve also updated this answer with some more details"}, {"owner": {"reputation": 69, "user_id": 12626654, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pgowpCeZicY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcWKruaBW5VhgExl09du8FKUldRbg/photo.jpg?sz=128", "display_name": "Rahul Kundu", "link": "https://stackoverflow.com/users/12626654/rahul-kundu"}, "edited": false, "score": 0, "creation_date": 1577856395, "post_id": 59548843, "comment_id": 105269296, "body": "This is fantastic. I will go with the global pet collection then a single pet will be linked to their owners. According to the owner if he is logged in then I will show pets only related to him. For that I will use use the query that you have mentioned."}, {"owner": {"reputation": 69, "user_id": 12626654, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pgowpCeZicY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcWKruaBW5VhgExl09du8FKUldRbg/photo.jpg?sz=128", "display_name": "Rahul Kundu", "link": "https://stackoverflow.com/users/12626654/rahul-kundu"}, "edited": false, "score": 0, "creation_date": 1577856466, "post_id": 59548843, "comment_id": 105269309, "body": "Also I need one help. Can you please help me with the firebase Rolebased auth. In my application i have three roles admin employee and user. Based on their roles I want to show hide some parts of the ui"}, {"owner": {"reputation": 9545, "user_id": 3068190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YDAi7.jpg?s=128&g=1", "display_name": "samthecodingman", "link": "https://stackoverflow.com/users/3068190/samthecodingman"}, "reply_to_user": {"reputation": 69, "user_id": 12626654, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pgowpCeZicY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcWKruaBW5VhgExl09du8FKUldRbg/photo.jpg?sz=128", "display_name": "Rahul Kundu", "link": "https://stackoverflow.com/users/12626654/rahul-kundu"}, "edited": false, "score": 0, "creation_date": 1577856533, "post_id": 59548843, "comment_id": 105269323, "body": "@RahulKundu That&#39;s best asked as a separate question, but if you want to discuss it, message me on the <a href=\"https://firebase.community\" rel=\"nofollow noreferrer\">Firebase Slack</a>."}, {"owner": {"reputation": 69, "user_id": 12626654, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pgowpCeZicY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcWKruaBW5VhgExl09du8FKUldRbg/photo.jpg?sz=128", "display_name": "Rahul Kundu", "link": "https://stackoverflow.com/users/12626654/rahul-kundu"}, "edited": false, "score": 0, "creation_date": 1577857405, "post_id": 59548843, "comment_id": 105269423, "body": "Ok I will text you there."}, {"owner": {"reputation": 69, "user_id": 12626654, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pgowpCeZicY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcWKruaBW5VhgExl09du8FKUldRbg/photo.jpg?sz=128", "display_name": "Rahul Kundu", "link": "https://stackoverflow.com/users/12626654/rahul-kundu"}, "edited": false, "score": 0, "creation_date": 1577905993, "post_id": 59548843, "comment_id": 105279238, "body": "i am using Global Pets Collection technique. I am getting the result in console but when I am trying to use ngfor I can not see anything in the view. I have just posted a question regarding the issue."}], "tags": [], "owner": {"reputation": 9545, "user_id": 3068190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YDAi7.jpg?s=128&g=1", "display_name": "samthecodingman", "link": "https://stackoverflow.com/users/3068190/samthecodingman"}, "is_accepted": true, "score": 2, "last_activity_date": 1577855138, "last_edit_date": 1577855138, "creation_date": 1577831297, "answer_id": 59548843, "question_id": 59546879, "link": "https://stackoverflow.com/questions/59546879/firestore-nested-documents-with-random-id-inside-a-collection-document/59548843#59548843", "title": "Firestore Nested Documents with random ID inside a collection document", "body": "<p>Currently you wish to store a user's pets at <code>/pets/userId</code>. To add each pet at this location, you would need to use a subcollection as documents can't hold other documents. The following code adds a pet that will be stored at <code>/pets/userId/pets/somePetId</code>.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>addPet(ownerName, petName, type, breed, size){\n    let user = this.afAuth.auth.currentUser;\n    if (!user) {\n      return Promise.reject({code: 'unauthenticated', message: 'user not logged in'})\n    }\n    return this.afs.collection(\"pets\").doc(user.uid).collection(\"pets\").add({\n        OwnerName: ownerName,\n        OwnerID: user.uid,\n        PetName: petName,\n        PetType: type,\n        PetBreed: breed,\n        PetSize: size\n      });\n  }\n</code></pre>\n\n<p>However you have two other ways you could model this data.</p>\n\n<h3>Global Pets Collection</h3>\n\n<p>Instead of saving pets under a <code>userId</code>, instead each pet has their own ID and you link that pet to their owner's ID.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>addPet(ownerName, petName, type, breed, size){\n    let user = this.afAuth.auth.currentUser;\n    if (!user) {\n      return Promise.reject({code: 'unauthenticated', message: 'user not logged in'})\n    }\n    return this.afs.collection(\"pets\").add({\n        OwnerName: ownerName,\n        OwnerID: user.uid,\n        PetName: petName,\n        PetType: type,\n        PetBreed: breed,\n        PetSize: size\n      });\n  }\n</code></pre>\n\n<p>To get the an array of pets for a given user, you would use the following:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function getPetsForCurrentUser() {\n  let user = this.afAuth.auth.currentUser;\n  if (!user) {\n    return Promise.reject({code: 'unauthenticated', message: 'user not logged in'})\n  }\n  return this.afs.collection(\"pets\").where(\"OwnerID\", '==', user.uid).get()\n    .then(childrenAsArrayOfObjects)\n}\n</code></pre>\n\n<h3>Pets Subcollection of User</h3>\n\n<p>Because you are using Cloud Firestore and not the Realtime Database, you can save each pet as a subcollection of the owner's user data. Unlike the Realtime Database, when you fetch the data of <code>/users/userId</code>, you only get the data of that specific document and not all the data nested under that path. The code below assigns each pet their own ID and saves it to a subcollection of it's owner:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>addPet(ownerName, petName, type, breed, size){\n    let user = this.afAuth.auth.currentUser;\n    if (!user) {\n      return Promise.reject({code: 'unauthenticated', message: 'user not logged in'})\n    }\n    return this.afs.collection(\"users\").doc(user.uid).collection(\"pets\").add({\n        OwnerName: ownerName,\n        OwnerID: user.uid,\n        PetName: petName,\n        PetType: type,\n        PetBreed: breed,\n        PetSize: size\n      });\n  }\n</code></pre>\n\n<p>To get the an array of pets for a given user, you would use the following:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function getPetsForCurrentUser() {\n  let user = this.afAuth.auth.currentUser;\n  if (!user) {\n    return Promise.reject({code: 'unauthenticated', message: 'user not logged in'})\n  }\n  return this.afs.collection(\"users\").doc(user.uid).collection(\"pets\").get()\n    .then(childrenAsArrayOfObjects)\n}\n</code></pre>\n\n<p>With this data structure, if you wanted to query all pets, regardless of their owner, you would make use of a <a href=\"https://firebase.google.com/docs/firestore/query-data/queries#collection-group-query\" rel=\"nofollow noreferrer\">collection group query</a>.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let ragdollCatsQuery = db.collectionGroup('pets').where('PetType', '==', 'Cat').where('PetBreed', '==', 'Ragdoll');\nragdollCatsQuery.get()\n  .then(querySnapshot =&gt; {\n    console.log(\"Found \" + querySnapshot.size + \" cats with the breed: Ragdoll\");\n  })\n</code></pre>\n\n<h3>Other Notes</h3>\n\n<p>Please use a consistent casing style to prevent errors and typos. e.g. Change <code>Petname</code> to <code>PetName</code> to match the database key <code>OwnerName</code>'s TitleCase. Similarly, the convention is to use camelCase for variable names, so the variable <code>PetName</code> should be <code>petName</code>.</p>\n\n<p>The above functions both use the following transformation function:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function childrenAsArrayOfObjects(querySnapshot, idFieldName) {\n  let idFieldName = (idFieldName &amp;&amp; idFieldName + \"\") || \"id\";\n  let children = [];\n  querySnapshot.forEach(childDoc =&gt; {\n    children.push({...childDoc.data(), [idFieldName]: childDoc.id})\n  }\n  return children;\n}\n</code></pre>\n\n<p>If you wanted to use a different field name for the document ID when using this transformation, you would use:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>.then(querySnapshot =&gt; childrenAsArrayOfObjects(querySnapshot, \"PetID\"))\n</code></pre>\n\n<p>You can find other transforms <a href=\"https://gist.github.com/samthecodingman/09f91fd89fbd1bf4fdc14cdd1c94aaef\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 69, "user_id": 12626654, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pgowpCeZicY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcWKruaBW5VhgExl09du8FKUldRbg/photo.jpg?sz=128", "display_name": "Rahul Kundu", "link": "https://stackoverflow.com/users/12626654/rahul-kundu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 568, "favorite_count": 0, "accepted_answer_id": 59548843, "answer_count": 1, "score": 2, "last_activity_date": 1577855138, "creation_date": 1577812550, "question_id": 59546879, "link": "https://stackoverflow.com/questions/59546879/firestore-nested-documents-with-random-id-inside-a-collection-document", "title": "Firestore Nested Documents with random ID inside a collection document", "body": "<p>I am creating an application using Angular and firebase. Where I want to create a collection called PETS inside that collection the document ID will be currently logged in users UID. And inside that Document I want to create documents with random IDs based on my Form values.</p>\n\n<pre><code>-|pets\n   -|userId\n        -|RandomId which contains all the form values\n        -|RandomId which contains all the form values\n</code></pre>\n\n<p>Right Now I am using this method. Please tell me what are the changes that I need to make here. This method creating a collection with same ID as current users. But it's not creating separate documents inside the parent Document with users ID. Also I want to loop over those documents with random Ids and will show a list of PETS in fronted.</p>\n\n<pre><code>addPet(ownerName, PetName, type, breed, size){\n    let user = this.afAuth.auth.currentUser;\n    if (user) {\n      return new Promise((resolve, reject) =&gt; {\n        this.afs.collection(\"pets\").doc(user.uid).set({\n          OwnerName: ownerName,\n          Petname: PetName,\n          PetType: type,\n          PetBreed: breed,\n          PetSize: size\n        })\n        .then((response) =&gt; {\n            resolve(response)\n        })\n        .catch((error) =&gt; {\n            reject(error)\n        });\n      })\n    } else {\n        alert('user not logged in')\n    }\n  }\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "react-native", "local-storage"], "answers": [{"tags": [], "owner": {"reputation": 617, "user_id": 6717123, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kLAHu.jpg?s=128&g=1", "display_name": "Gev", "link": "https://stackoverflow.com/users/6717123/gev"}, "is_accepted": false, "score": 1, "last_activity_date": 1577817594, "creation_date": 1577817594, "answer_id": 59547523, "question_id": 59546874, "link": "https://stackoverflow.com/questions/59546874/how-to-push-multiple-items-into-an-array-and-load-into-async-storage-in-react-na/59547523#59547523", "title": "How to push multiple items into an array and load into async storage in react native?", "body": "<p><code>multiGet</code> is a Promise. Add <code>await</code> before calling it.</p>\n\n<pre><code>const localData = await AsyncStorage.multiGet(items, () =&gt; {\n  //to do something\n});\n</code></pre>\n"}], "owner": {"reputation": 1225, "user_id": 5855336, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bc92b648a3d3a88ad6883b626b17b232?s=128&d=identicon&r=PG&f=1", "display_name": "LoF10", "link": "https://stackoverflow.com/users/5855336/lof10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 814, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577817594, "creation_date": 1577812534, "last_edit_date": 1577814547, "question_id": 59546874, "link": "https://stackoverflow.com/questions/59546874/how-to-push-multiple-items-into-an-array-and-load-into-async-storage-in-react-na", "title": "How to push multiple items into an array and load into async storage in react native?", "body": "<p>I am attempting to push data into local storage in react native, in this case push multiple elements. I am attempting to use documentation pointed out here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/52963308/how-do-i-set-multiple-values-within-asyncstorage\">How do I set multiple values within Asyncstorage</a></p>\n\n<p>How would I go about doing this properly? Below is some code:</p>\n\n<p><strong>What I am currently doing</strong></p>\n\n<pre><code>const STORAGE_KEY = '@save_enableauto';\nconst DBLTIME_KEY = '@save_dbltime';\n\n    state={\n        times: Times,\n        messageTimes: {\n            dblTime: '12:00 pm',\n            genTime: '12:00 pm'\n        }\n        enableAuto:false\n    }\n\n\n    //retrieves automatic messaging status\n    _retrieveData = async () =&gt; {\n        try {\n\n          //pull data from local storage\n          const enableAuto = await AsyncStorage.getItem(STORAGE_KEY);\n          const dblTime = await AsyncStorage.getItem(DBLTIME_KEY);\n\n          console.log('auto messages set: ',enableAuto);\n          console.log('time data is:', dblTime);\n\n          //reset state for time if it exists in local storage\n          if(dblTime !==null) {\n            this.setState(prevState =&gt; ({\n                messageTimes: {                   // object that we want to update\n                    ...prevState.messageTimes,    // keep all other key-value pairs\n                    dblTime: dblTime       // update the value of specific key\n                }\n            }))\n          } \n\n          //reset state for notifications if exists in local storage \n          if (enableAuto !== null) {\n            // We have data!!\n            console.log('receiving from local storage: ',enableAuto);\n            this.setState({ enableAuto:eval(enableAuto) });\n          }\n        } catch (error) {\n            alert('failed to load previous settings.')\n          // Error retrieving data\n        }\n    };\n\n//trying to set it up with one call\n    _retrieveDataGroup = async () =&gt; {\n\n        const items = JSON.stringify([['k1', STORAGE_KEY], ['k2', DBLTIME_KEY]]);\n\n        try {\n            const localData = AsyncStorage.multiGet(items, () =&gt; {\n                //to do something\n            });\n\n            console.log('Group fetch: ',localData);\n\n        } catch (error) {\n            alert('failed to load previous settings.')\n          // Error retrieving data\n        }\n    };   \n</code></pre>\n\n<p>right now what I receive when console logging group fetching is a promise:</p>\n\n<pre><code>Group fetch:  Promise {\n  \"_40\": 0,\n  \"_55\": null,\n  \"_65\": 0,\n  \"_72\": null,\n}\n</code></pre>\n"}, {"tags": ["javascript", "python", "html", "django", "django-templates"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 11874778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ef17a6ab0c2921d8c8d5f6be134443d?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/11874778/john"}, "edited": false, "score": 0, "creation_date": 1577822419, "post_id": 59547068, "comment_id": 105265074, "body": "I have three questions for you, 1: What is the file size limit I should be using for this implementation? 2: What is the difference in using GET request vs passing something to the view method? 3: For converting a png to a BytesIO object, do I give it the path of the file? How does that work?"}, {"owner": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "reply_to_user": {"reputation": 15, "user_id": 11874778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ef17a6ab0c2921d8c8d5f6be134443d?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/11874778/john"}, "edited": false, "score": 0, "creation_date": 1577822740, "post_id": 59547068, "comment_id": 105265144, "body": "1) basically the amount of available memory you have 2) what do you mean by passing something to the view method? Using query parameters IS sending something to the view method"}, {"owner": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "reply_to_user": {"reputation": 15, "user_id": 11874778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ef17a6ab0c2921d8c8d5f6be134443d?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/11874778/john"}, "edited": false, "score": 0, "creation_date": 1577823312, "post_id": 59547068, "comment_id": 105265269, "body": "Added an example for using temp files"}, {"owner": {"reputation": 15, "user_id": 11874778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ef17a6ab0c2921d8c8d5f6be134443d?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/11874778/john"}, "edited": false, "score": 0, "creation_date": 1577824055, "post_id": 59547068, "comment_id": 105265455, "body": "Passing something to the view as an argument example: The href = &quot;{% url &#39;polls:vote&#39; question.id %}&quot;, The view: def vote(request, question_id): This would be useful to pass many things inside a dictionary rather than ?filename and ?filedata"}, {"owner": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "reply_to_user": {"reputation": 15, "user_id": 11874778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ef17a6ab0c2921d8c8d5f6be134443d?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/11874778/john"}, "edited": false, "score": 0, "creation_date": 1577824342, "post_id": 59547068, "comment_id": 105265514, "body": "You can always add more arguments to the view and the url definition"}, {"owner": {"reputation": 15, "user_id": 11874778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ef17a6ab0c2921d8c8d5f6be134443d?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/11874778/john"}, "edited": false, "score": 0, "creation_date": 1577826619, "post_id": 59547068, "comment_id": 105265942, "body": "What does the urlpattern list look like for a view that only is meant for something like this? The entry, path(&#39;&#39;, views.download_plot_png, name=&#39;download_plot_png&#39;) doesn&#39;t seem to be correct."}], "tags": [], "owner": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "is_accepted": true, "score": 0, "last_activity_date": 1577823299, "last_edit_date": 1577823299, "creation_date": 1577814026, "answer_id": 59547068, "question_id": 59546849, "link": "https://stackoverflow.com/questions/59546849/create-file-serve-for-download-delete-file-on-button-click-django-template/59547068#59547068", "title": "Create file, serve for download, delete file on button click, Django template", "body": "<p>The first thing you need to do is create a view that takes the name of the file that you want to convert</p>\n\n<pre><code>def get_converted_png(request):\n    try:\n        filename = request.GET['filename']\n        filedata = request.GET['filedata']\n    except KeyError:\n        raise Http404 # or another exception...\n</code></pre>\n\n<p>There are a couple of solutions to this, they depend on the size of the file and how the file is generated</p>\n\n<p>The first actually does not require any temporary files at all and should be slightly faster, if the file is too big or you cannot generate the file easily in a python method it may not be appropriate. It uses the <a href=\"https://docs.python.org/3/library/io.html#binary-i-o\" rel=\"nofollow noreferrer\"><code>io</code></a> module</p>\n\n<pre><code>from io import BytesIO\nfrom django.http import FileResponse\n\n\ndef get_converted_png(request):\n    try:\n        filename = request.GET['filename']\n        filedata = request.GET['filedata']\n    except KeyError:\n        raise Http404 # or another exception...\n\n    #\u00a0This create an in-memory file object\n    converted_png = BytesIO(method_that_converts_the_file(filedata))\n    return FileResponse(converted_png, filename=filename)\n</code></pre>\n\n<p>If you have to save the file to disk because of memory limitations you should look at the <a href=\"https://docs.python.org/2/library/tempfile.html\" rel=\"nofollow noreferrer\"><code>tempfile</code></a> module for writing the file to a tempfile first. An example:</p>\n\n<pre><code>from tempfile import TemporaryFile\nfrom django.http import FileResponse\n\n\ndef get_converted_png(request):\n    try:\n        filename = request.GET['filename']\n        filedata = request.GET['filedata']\n    except KeyError:\n        raise Http404 # or another exception...\n\n    with converted_png as TemporaryFile():\n        converted_png.write(method_that_converts_the_file(filedata))\n        return FileResponse(converted_png, filename=filename)\n</code></pre>\n\n<p>Then you create the link to your view like this</p>\n\n<pre><code>&lt;a href=\"{% url 'get_converted_png' %}?filename=x_vs_y.png&amp;filedata=...\"&gt;\n    &lt;button value=\"Download Plot\" /&gt;\n&lt;/a&gt;\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 11874778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ef17a6ab0c2921d8c8d5f6be134443d?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/11874778/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 675, "favorite_count": 0, "accepted_answer_id": 59547068, "answer_count": 1, "score": 0, "last_activity_date": 1577823299, "creation_date": 1577812272, "question_id": 59546849, "link": "https://stackoverflow.com/questions/59546849/create-file-serve-for-download-delete-file-on-button-click-django-template", "title": "Create file, serve for download, delete file on button click, Django template", "body": "<p>I have some data that can be used to create a png image if needed. I am trying not to create the png file anywhere unless the user requests the download. I was able to get the downloading to work successfully with:</p>\n\n<pre><code>    &lt;a href=\"{% static 'analyze/images/temp.png' %}\"\n       download=\"x_vs_y.png\" style=\"padding: 5px;\"&gt;\n        &lt;input type=\"submit\" value=\"Download Plot\"&gt;\n    &lt;/a&gt;\n</code></pre>\n\n<p>However, this approach requires the file to already exist somewhere at the 'analyze/images/temp.png' path.</p>\n\n<p>I would like to call a separate Django view to do the following:</p>\n\n<ol>\n<li>create the necessary file in a temp folder</li>\n<li>Serve the file for download (similar to how the href download works)</li>\n<li>delete the temp folder</li>\n<li>return to original view, the user has the file now</li>\n</ol>\n\n<p>I am unsure how to do the 1-3 steps. I thought about calling the view, creating the file, and giving the path of the file. This can then be downloaded with something similar to the following javascript example:</p>\n\n<pre><code>        &lt;script&gt; \n            function download(file, text) { \n\n                //creating an invisible element \n                var element = document.createElement('a'); \n                element.setAttribute('href', 'data:text/plain;charset=utf-8, ' \n                                     + encodeURIComponent(text)); \n                element.setAttribute('download', file); \n\n                //the above code is equivalent to \n                // &lt;a href=\"path of file\" download=\"file name\"&gt; \n\n                document.body.appendChild(element); \n\n                //onClick property \n                element.click(); \n\n                document.body.removeChild(element); \n            } \n\n            // Start file download. \n            document.getElementById(\"btn\").addEventListener(\"click\", function() { \n                // Generate download of hello.txt file with some content \n                var text = document.getElementById(\"text\").value; \n                var filename = \"GFG.txt\"; \n\n                download(filename, text); \n            }, false); \n        &lt;/script&gt; \n</code></pre>\n\n<p>But then once this is done the file will still exist, taking up space. Is there a solution to this or am I missing some key concept of web development and file usage?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript"], "answers": [{"comments": [{"owner": {"reputation": 354, "user_id": 9231161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a31c50af53048e633dd33e9ec3834e9?s=128&d=identicon&r=PG&f=1", "display_name": "\u041e\u043b\u0435\u0433 \u0412\u043e\u0439\u0442\u0438\u043d\u0441\u044c\u043a\u0438\u0439", "link": "https://stackoverflow.com/users/9231161/%d0%9e%d0%bb%d0%b5%d0%b3-%d0%92%d0%be%d0%b9%d1%82%d0%b8%d0%bd%d1%81%d1%8c%d0%ba%d0%b8%d0%b9"}, "edited": false, "score": 0, "creation_date": 1611928845, "post_id": 59546901, "comment_id": 116614685, "body": "Why do you do digit= n % 10; and n = Math.floor(n/10); What&#39;s the purpose of this ?"}, {"owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "reply_to_user": {"reputation": 354, "user_id": 9231161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a31c50af53048e633dd33e9ec3834e9?s=128&d=identicon&r=PG&f=1", "display_name": "\u041e\u043b\u0435\u0433 \u0412\u043e\u0439\u0442\u0438\u043d\u0441\u044c\u043a\u0438\u0439", "link": "https://stackoverflow.com/users/9231161/%d0%9e%d0%bb%d0%b5%d0%b3-%d0%92%d0%be%d0%b9%d1%82%d0%b8%d0%bd%d1%81%d1%8c%d0%ba%d0%b8%d0%b9"}, "edited": false, "score": 1, "creation_date": 1611929416, "post_id": 59546901, "comment_id": 116614930, "body": "@\u041e\u043b\u0435\u0433\u0412\u043e\u0439\u0442\u0438\u043d\u0441\u044c\u043a\u0438\u0439 <code>n % 10</code> returns the remainder of a division by 10, thus returning the last digit. <code>Math.floor(n &#47; 10)</code> removes the last digit."}], "tags": [], "owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "is_accepted": false, "score": 0, "last_activity_date": 1577812730, "creation_date": 1577812730, "answer_id": 59546901, "question_id": 59546839, "link": "https://stackoverflow.com/questions/59546839/leetcode-1281-subtract-the-product-and-sum-of-digits-of-an-integer/59546901#59546901", "title": "LeetCode: 1281. Subtract the Product and Sum of Digits of an Integer", "body": "<p>Your solution assumes the number has three digits, which is probably not what the problem intended.</p>\n\n<p>I'd run over the number and extract the digits one by one, and sum and multiply them as I go. Then, just subtract the two:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var subtractProductAndSum = function(n) {\n    // Initialize the sum and the product with neutral values\n    var sum = 0;\n    var product = 1;\n\n    while (n &gt; 0) {\n        var digit = n % 10;\n        sum += digit;\n        product *= digit;\n\n        n = Math.floor(n / 10);\n    }\n\n    return product - sum;\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1915, "user_id": 3991628, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j2pFg.png?s=128&g=1", "display_name": "Christopher Bradshaw", "link": "https://stackoverflow.com/users/3991628/christopher-bradshaw"}, "is_accepted": false, "score": 0, "last_activity_date": 1577812774, "creation_date": 1577812774, "answer_id": 59546910, "question_id": 59546839, "link": "https://stackoverflow.com/questions/59546839/leetcode-1281-subtract-the-product-and-sum-of-digits-of-an-integer/59546910#59546910", "title": "LeetCode: 1281. Subtract the Product and Sum of Digits of an Integer", "body": "<p>You can convert the integer into a string and then split it. Then using the array of digit strings, find the product of the digits and the sum of the digits by using the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\" rel=\"nofollow noreferrer\">reduce</a> function like so:</p>\n\n<pre><code>const subtractProductAndSum = function(n) {\n  const digitArray = n.toString().split('')\n  const digitProduct = digitArray.reduce((previousValue, currentValue) =&gt; previousValue * parseInt(currentValue), 1)\n  const digitSum = digitArray.reduce((previousValue, currentValue) =&gt; previousValue + parseInt(currentValue), 0)\n  return digitProduct - digitSum\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 11464687, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qbAzFWOUEHg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf44ItArzJHLRP3pxUhEo5ZhVYLbw/mo/photo.jpg?sz=128", "display_name": "Inioluwa Sogelola", "link": "https://stackoverflow.com/users/11464687/inioluwa-sogelola"}, "is_accepted": false, "score": 0, "last_activity_date": 1577813102, "creation_date": 1577813102, "answer_id": 59546959, "question_id": 59546839, "link": "https://stackoverflow.com/questions/59546839/leetcode-1281-subtract-the-product-and-sum-of-digits-of-an-integer/59546959#59546959", "title": "LeetCode: 1281. Subtract the Product and Sum of Digits of an Integer", "body": "<p>You can try</p>\n\n<pre><code>/**\n * @param {number} n\n * @return {number}\n */\n//n=234\nvar subtractProductAndSum = function(n) {\nlet product = (n+\"\").split(\"\").reduce((total,curr)=&gt;total * +curr,1);\nlet sum = (n+\"\").split(\"\").reduce((total,curr)=&gt;total + +curr,0);\n\nreturn product - sum;\n};\n</code></pre>\n\n<p>or </p>\n\n<pre><code>/**\n * @param {number} n\n * @return {number}\n */\n//n=234\nvar subtractProductAndSum = function(n) {\nlet  product = 1;\nlet sum = 0;\nn = n+\"\";\n\nfor(let  i = 0; i &lt; n.length; i++){\nproduct *= +n[i];\nsum += +n[i];\n}\n\nreturn product - sum;\n};\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1396, "user_id": 3382822, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WNyXk.png?s=128&g=1", "display_name": "Mohamed23gharbi", "link": "https://stackoverflow.com/users/3382822/mohamed23gharbi"}, "is_accepted": false, "score": 0, "last_activity_date": 1577813447, "creation_date": 1577813447, "answer_id": 59547002, "question_id": 59546839, "link": "https://stackoverflow.com/questions/59546839/leetcode-1281-subtract-the-product-and-sum-of-digits-of-an-integer/59547002#59547002", "title": "LeetCode: 1281. Subtract the Product and Sum of Digits of an Integer", "body": "<p>See the following :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/**\r\n * @param {number} n\r\n * @return {number}\r\n */\r\n//n=234\r\nvar subtractProductAndSum = function(n) {\r\n    var digits = n.split('');\r\n    //console.log(digits);\r\n    var prod = digits.reduce((a, b) =&gt; a * parseInt(b), 1);\r\n    //console.log(prod);\r\n    var sum = digits.reduce((a, b) =&gt; a + parseInt(b), 0);\r\n    //console.log(sum);\r\n    //console.log(prod - sum);\r\n    return prod - sum;\r\n};\r\n\r\nsubtractProductAndSum('234');</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 41, "user_id": 12633231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27454be8f6b792cefffedc89a46e8460?s=128&d=identicon&r=PG&f=1", "display_name": "Just_A_Kid_Seeking4Help", "link": "https://stackoverflow.com/users/12633231/just-a-kid-seeking4help"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 913, "favorite_count": 0, "answer_count": 4, "score": 4, "last_activity_date": 1577813447, "creation_date": 1577812219, "question_id": 59546839, "link": "https://stackoverflow.com/questions/59546839/leetcode-1281-subtract-the-product-and-sum-of-digits-of-an-integer", "title": "LeetCode: 1281. Subtract the Product and Sum of Digits of an Integer", "body": "<p>I have been trying to figure out this question however I'm a beginner in coding and don't know much about it. I chose to learn javascript and have had some progress in figuring out the problem.</p>\n\n<p>This is the problem: Given an integer number n, return the difference between the product of its digits and the sum of its digits.</p>\n\n<p>This is my code so far:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/**\r\n * @param {number} n\r\n * @return {number}\r\n */\r\n//n=234\r\nvar subtractProductAndSum = function(n) {\r\n    var z= n.toString().length;\r\n    var g= n.toString()\r\n    for(var i=0; i&lt;z; i++){\r\n      var p= g[i]+g[i+1]+g[i+2];\r\n    var y=g[i]*g[i+1]*g[i+2];\r\n        var d= y-p\r\n    }\r\n    return d;\r\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "arrays", "vue.js", "constants", "vuetify.js"], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 3345861, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001457125337/picture?type=large", "display_name": "Dilan", "link": "https://stackoverflow.com/users/3345861/dilan"}, "is_accepted": false, "score": 0, "last_activity_date": 1577824311, "creation_date": 1577824311, "answer_id": 59548253, "question_id": 59546838, "link": "https://stackoverflow.com/questions/59546838/vue-not-updating-vuetify-data-table-from-array-with-data-from-axios-request/59548253#59548253", "title": "Vue not updating Vuetify data-table from array with data from Axios request", "body": "<p>Finally found the answer.\nI fixed it by using Vue.set on the const \"mijndata\". </p>\n\n<p>Eg: <code>Vue.set(mijndata, 'signaalid', signaal.ac_id)</code></p>\n"}], "owner": {"reputation": 91, "user_id": 3345861, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001457125337/picture?type=large", "display_name": "Dilan", "link": "https://stackoverflow.com/users/3345861/dilan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 458, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577824311, "creation_date": 1577812210, "question_id": 59546838, "link": "https://stackoverflow.com/questions/59546838/vue-not-updating-vuetify-data-table-from-array-with-data-from-axios-request", "title": "Vue not updating Vuetify data-table from array with data from Axios request", "body": "<p>I have a problem and have been looking for hours to get it resolved, without any success. \nIn short: in a forEach loop I am adding my const \"mijndata\" to my array \"Signalen\". I can see that my array is filled successfully.</p>\n\n<p>However, my data-table component from Vuetify is not showing my data. If I click the sort column or if I do a search, my data suddenly appears. So the problem must be that Vue doesn't detect changes to the \"signalen\" array. </p>\n\n<p>I have already read multiple other threads on this issue and I have read: <a href=\"https://vuejs.org/v2/guide/list.html#Caveats\" rel=\"nofollow noreferrer\">https://vuejs.org/v2/guide/list.html#Caveats</a> </p>\n\n<p>But I am so far unable to resolve this issue.</p>\n\n<p>Note: if I do a direct push into my \"signalen\" array from the results of my Axios calls, I don't have this problem. But unfortunately this is not an option as I am needing to create an object which is then pushed into the array.</p>\n\n<p>Here is my problem in code: </p>\n\n<pre><code>mounted () {        \n        axios.get('/my api url').then(response =&gt; {\n            const signalen = response.data.resources;\n            signalen.forEach((signaal) =&gt; {\n            const mijndata = {};\n              axios.get('/my api url').then(response =&gt; {\n                const relatedSensoren = response.data.resources;\n                relatedSensoren.forEach(relatedSensor =&gt; {\n                    axios.get('/my api url').then(response =&gt; {\n                        const sensorConfigs = response.data.resources;\n                        sensorConfigs.forEach(sensorConfig =&gt; {\n                            axios.get('/my api url').then(response =&gt; {\n                                const alarmRegels = response.data.resources;\n                                alarmRegels.forEach(alarmRegel =&gt; {\n                                    axios.all([axios.get('/my api url')])\n                                    .then(axios.spread((...responses) =&gt; {   \n                                        mijndata.signaalid = signaal.ac_id;  \n                                        mijndata.signaalsettingid = alarmRegel.ar_id;           \n                                    }));\n                                }); \n                            });        \n                        });\n                    });                  \n                });\n              });\n              //A few more gets following the same logic as above...\n\n                //Push my const \"mijndata\" into my array \"signalen\"\n                this.signalen.push(mijndata)\n            });\n        });\n        //I can see that all of my objects are in my array \"signalen\"\n        window.console.log(this.signalen)\n    },\n</code></pre>\n\n<p>My data-table: </p>\n\n<pre><code>&lt;v-data-table\n    :headers=\"headers\"\n    :items=\"signalen\"\n    :search=\"search\"\n    class=\"elevation-1\"\n  &gt;\n</code></pre>\n\n<p>My array in my export:</p>\n\n<pre><code>export default {\n    data: () =&gt; ({\n      headers: [\n        {\n          text: 'Signaalnummer',\n          align: 'left',\n          value: 'signaalid',\n        },\n        { text: 'Wanneer gaat dit alarm af?', value: 'signaalsetting' },\n        { text: 'Manier van alarmeren', value: 'alarmsetting' },\n        { text: 'Geadresseerde', value: 'alarmpersoon' },\n        { text: 'Actions', value: 'action', sortable: false },\n      ],\n      signalen: [],\n    }),\n\n</code></pre>\n\n<p>The headers match the keys from my array. Like I said, the problem is purely in pushing my \"mijndata\" object  into my \"signalen\" array.</p>\n\n<p>I would really appreciate any help!</p>\n"}, {"tags": ["javascript", "arrays", "object", "functional-programming", "ramda.js"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1577812543, "post_id": 59546805, "comment_id": 105262677, "body": "Since this solution works and you&#39;re looking for improvements, consider posting on <a href=\"https://codereview.stackexchange.com\">Code Review</a>. Please do check the guidelines for what is acceptable over there and tailor the question appropriately."}, {"owner": {"reputation": 1217, "user_id": 9464680, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cPEjM.jpg?s=128&g=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/9464680/arthur"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1577812653, "post_id": 59546805, "comment_id": 105262711, "body": "@VLAZ, I&#39;m not sure I can get the answer there"}], "answers": [{"tags": [], "owner": {"reputation": 11144, "user_id": 4099454, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/hjZGE.png?s=128&g=1", "display_name": "Hitmands", "link": "https://stackoverflow.com/users/4099454/hitmands"}, "is_accepted": true, "score": 2, "last_activity_date": 1577812782, "creation_date": 1577812782, "answer_id": 59546914, "question_id": 59546805, "link": "https://stackoverflow.com/questions/59546805/remove-all-duplicates-and-undefined-in-arrays-ramda-js/59546914#59546914", "title": "Remove all duplicates and undefined in arrays. Ramda.js", "body": "<p><code>reject is nil</code> should do the job, you could eventually use <code>value =&gt; value === undefined</code> if you want to keep <code>null</code> values.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const clean = R.map(\r\n  R.pipe(R.reject(R.isNil), R.uniq),\r\n);\r\n\r\nconst data = {\r\n  '123': [1,1,3,2,undefined],\r\n  '321': [3,3,3,2,undefined,undefined],\r\n  '425': [null,2,2,4,2,null,null]\r\n};\r\n\r\n\r\nconsole.log(\r\n  clean(data),\r\n);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/ramda/0.26.1/ramda.js\" integrity=\"sha256-xB25ljGZ7K2VXnq087unEnoVhvTosWWtqXB4tAtZmHU=\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1217, "user_id": 9464680, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cPEjM.jpg?s=128&g=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/9464680/arthur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 0, "accepted_answer_id": 59546914, "answer_count": 1, "score": 0, "last_activity_date": 1577812782, "creation_date": 1577811933, "last_edit_date": 1577812288, "question_id": 59546805, "link": "https://stackoverflow.com/questions/59546805/remove-all-duplicates-and-undefined-in-arrays-ramda-js", "title": "Remove all duplicates and undefined in arrays. Ramda.js", "body": "<p>I have a such data structure:</p>\n\n<pre><code>{\n  '123': [1,1,3,2,undefined],\n  '321': [3,3,3,2,undefined,undefined],\n  '425': [null,2,2,4,2,null,null]\n}\n</code></pre>\n\n<p>I want to add item to group array and then check for undefined or duplicates exist.<br>\nI also have a solution but I think it's not good enough:</p>\n\n<p><strong><code>check-is-nil.js</code></strong></p>\n\n<pre><code>const checkIsNil = (groupId, data) =&gt; {\n  return over(lensProp(groupId), pipe(reject(isNil),uniq), data);\n}\n</code></pre>\n\n<p><strong><code>add-to-group.js</code></strong></p>\n\n<pre><code>const addToGroup = (groupId, newObj, data) =&gt; {\n  return over(lensProp(groupId), append(newObj), data);\n};\n</code></pre>\n\n<p><strong>Using:</strong>\n<code>checkIsNil('123', addToGroup('123', 1, data))</code><br>\n<strong>Result:</strong></p>\n\n<pre><code>{\n  '123': [1,3,2],\n  '321': [3,2],\n  '425': [2,4]\n}\n</code></pre>\n"}, {"tags": ["javascript", "vue.js"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 2, "creation_date": 1577811935, "post_id": 59546782, "comment_id": 105262487, "body": "The code you  posted is, on the whole, <b>not</b> a  &quot;function&quot;.  It&#39;s a variable declaration, wherein the variable &quot;intervalCounter&quot; is assigned the identifier returned from a call to <code>setInterval()</code>.  It&#39;s not clear where the code appears, but if that <code>let</code> declaration happens the interval timer will be started, and a new timer will be started each time that code runs."}, {"owner": {"reputation": 11, "user_id": 12633115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3644c4855726936d6de8037a634b1ca3?s=128&d=identicon&r=PG&f=1", "display_name": "cgrim", "link": "https://stackoverflow.com/users/12633115/cgrim"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1577812278, "post_id": 59546782, "comment_id": 105262601, "body": "You&#39;r right, I dont know why i called it function expression. Maybe syntactic similarity? Just to clarify, are you saying that since the setInterval() is stored in a variable it runs when the variable is declared?"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1577812352, "post_id": 59546782, "comment_id": 105262619, "body": "Yes, exactly. That declaration <b>starts</b> the interval timer. The value stored in &quot;intervalCounter&quot; is useful should your code ever want to stop it with <code>clearInterval()</code>."}, {"owner": {"reputation": 11, "user_id": 12633115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3644c4855726936d6de8037a634b1ca3?s=128&d=identicon&r=PG&f=1", "display_name": "cgrim", "link": "https://stackoverflow.com/users/12633115/cgrim"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1577812499, "post_id": 59546782, "comment_id": 105262662, "body": "Thank you so much! One other question, is this the case for any function declared in a variable? or is intervalCounter a special case or class of cases?"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1577812765, "post_id": 59546782, "comment_id": 105262747, "body": "Well what you&#39;ve got there is a simple function call expression \u2014 the call to the <code>setInterval()</code> function. A function definition expression is also involved, the <code>=&gt;</code> function passed as a <i>parameter</i> to <code>setInterval()</code>. The value of the declared variable will be the result of fully evaluating the whole expression, and so that&#39;s going to involve calling <code>setInterval()</code> to get its return value (the timer identifier)."}, {"owner": {"reputation": 11, "user_id": 12633115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3644c4855726936d6de8037a634b1ca3?s=128&d=identicon&r=PG&f=1", "display_name": "cgrim", "link": "https://stackoverflow.com/users/12633115/cgrim"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1577813029, "post_id": 59546782, "comment_id": 105262810, "body": "I&#39;m going to be doing some reading up on that. Again thank you so much for all the help. I&#39;m trying to figure out how to mark this question solved by you and whatever the equivalent of kudos are here. U definitely deserve the credit!"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 12633115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3644c4855726936d6de8037a634b1ca3?s=128&d=identicon&r=PG&f=1", "display_name": "cgrim", "link": "https://stackoverflow.com/users/12633115/cgrim"}, "is_accepted": true, "score": 0, "last_activity_date": 1577814227, "creation_date": 1577814227, "answer_id": 59547087, "question_id": 59546782, "link": "https://stackoverflow.com/questions/59546782/js-function-invokes-itself-without-being-called/59547087#59547087", "title": "JS Function invokes itself without being called", "body": "<p>As <a href=\"https://stackoverflow.com/users/182668/pointy\">Pointy</a> so aptly pointed out, The Function I inquired about is indeed <strong>NOT</strong> a function expression and is actually a variable declaration. In this case it is a function call expression and as pointy put it so succinctly: \"The value of the declared variable will be the result of fully evaluating the whole expression\". Thus declaring the variable with setInterval() as the value caused it to run.</p>\n\n<p>Hopefully my explanation will be adequate for future readers.</p>\n\n<p>Much thanks to Pointy!!!</p>\n"}], "owner": {"reputation": 11, "user_id": 12633115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3644c4855726936d6de8037a634b1ca3?s=128&d=identicon&r=PG&f=1", "display_name": "cgrim", "link": "https://stackoverflow.com/users/12633115/cgrim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 59547087, "answer_count": 1, "score": 1, "last_activity_date": 1577822612, "creation_date": 1577811812, "last_edit_date": 1577822612, "question_id": 59546782, "link": "https://stackoverflow.com/questions/59546782/js-function-invokes-itself-without-being-called", "title": "JS Function invokes itself without being called", "body": "<p>So I have this menu project I made for a company that I work for and it works fine, but I noticed this one quirk that I cannot explain and after days and days of searching I cannot find anything like it on the web. </p>\n\n<p>This is a Vue project that takes in some data from a DB and sorts it to display on a menu. I don't think I can paste the code in its entirety but I will paste the function in question and describe its position in the project as accurately as I can. </p>\n\n<p>So the function I'm speaking of resides inside of another function \"sortMenuItems()\" that is called on creation of the the Vue page. The \"sortMenuItems()\" function is defined in methods of the Vue file \"Fview.vue\", which is a component of \"Menu.vue\". </p>\n\n<p>Below is the function in question, which resides inside \"sortMenuItems()\".</p>\n\n<pre><code>let intervalCounter = setInterval(() =&gt; {\n     counter();\n     this.flowerArr = randomNarray(menuItems, 16);\n}, 27000);\n</code></pre>\n\n<p>As you can see, it is just a simple function expression used to contain an interval counter that periodically calls a function and redefines a variable necessary for the menu to change every 27 seconds. I know setInterval gets a bad rap and we are not supposed to use it, but it works for me here and I'm not pretending to be a pro at this. That being said, for some reason this function invokes itself. I used to call it, but it caused problems because it was already running. Now it is not called anywhere in in the entire project, yet it still runs when sortMenuItems() is called. I've done so much trying to figure out why this is and it bothers me that I don't know why. It obviously doesn't fit the constraints of an IIFE. The project works as it is and I could just probably make this a function declaration or something to write this code in a way that it is intended to behave, but honestly I've kept it around so that I would seek clarification on this. So here I am with my first post every on Stack Overflow. I throw myself to the mercy of code gods in hope of some sort of light on this.</p>\n\n<p>Project dependencies:</p>\n\n<ul>\n<li>axios</li>\n<li>concurrently (for my jerryrigged cors workaround that involves a separate js sever)</li>\n<li>core-js</li>\n<li>vue</li>\n<li>vuetify</li>\n</ul>\n"}, {"tags": ["javascript", "google-apps-script", "svelte-3"], "comments": [{"owner": {"reputation": 883, "user_id": 8990411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16bd5c0a4501292c0e76115a28fbe019?s=128&d=identicon&r=PG&f=1", "display_name": "Anatole Lucet", "link": "https://stackoverflow.com/users/8990411/anatole-lucet"}, "edited": false, "score": 0, "creation_date": 1577815854, "post_id": 59546779, "comment_id": 105263594, "body": "is it the bundled code on your screenshot?"}, {"owner": {"reputation": 13, "user_id": 12633207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c015c5f3b3aee1da7f84e4916f343b4f?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/12633207/james"}, "reply_to_user": {"reputation": 883, "user_id": 8990411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16bd5c0a4501292c0e76115a28fbe019?s=128&d=identicon&r=PG&f=1", "display_name": "Anatole Lucet", "link": "https://stackoverflow.com/users/8990411/anatole-lucet"}, "edited": false, "score": 0, "creation_date": 1577816557, "post_id": 59546779, "comment_id": 105263791, "body": "@Crayzzit This is code itself if you are asking about <code>{verifyUser}</code> becomes a string this is what it looks like if you look at that div from inspect element"}, {"owner": {"reputation": 883, "user_id": 8990411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16bd5c0a4501292c0e76115a28fbe019?s=128&d=identicon&r=PG&f=1", "display_name": "Anatole Lucet", "link": "https://stackoverflow.com/users/8990411/anatole-lucet"}, "edited": false, "score": 0, "creation_date": 1577817128, "post_id": 59546779, "comment_id": 105263966, "body": "well that&#39;s strange, if you look at the output of <a href=\"https://svelte.dev/repl/dd29c5c6453c47869baacacff59c96e9?version=3.16.7\" rel=\"nofollow noreferrer\">this RELP</a> the <code>verifyUser</code> function is given to the <code>data-callback</code> attribute as it should: <code>attr(div1, &quot;data-callback&quot;, verifyUser);</code>.  If I understand you question - in your <code>main.svelte</code> your passing the <code>verifyUser</code> function to <code>data-callback</code>, then when you bundle your code and check it in your navigator your function as became a string?"}, {"owner": {"reputation": 13, "user_id": 12633207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c015c5f3b3aee1da7f84e4916f343b4f?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/12633207/james"}, "reply_to_user": {"reputation": 883, "user_id": 8990411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16bd5c0a4501292c0e76115a28fbe019?s=128&d=identicon&r=PG&f=1", "display_name": "Anatole Lucet", "link": "https://stackoverflow.com/users/8990411/anatole-lucet"}, "edited": false, "score": 0, "creation_date": 1577817514, "post_id": 59546779, "comment_id": 105264062, "body": "Yes, {verifyUser} should not become string. I did some research and I saw that events work if using <code>on:</code> before event problem now is if I put <code>on:data-callback={verifyUser}</code> it does nothing. My understanding is that there is some other way to tell svelte that this is a function and not a string (or not to convert it to a string). I&#39;m not sure how to correctly do this so when user completes captcha it executes that function"}, {"owner": {"reputation": 883, "user_id": 8990411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16bd5c0a4501292c0e76115a28fbe019?s=128&d=identicon&r=PG&f=1", "display_name": "Anatole Lucet", "link": "https://stackoverflow.com/users/8990411/anatole-lucet"}, "edited": false, "score": 0, "creation_date": 1577819455, "post_id": 59546779, "comment_id": 105264477, "body": "I dont think this is because of your syntax, I think this is coming from your bundler. Which one are you using? Can you edit your question and add the config file in it?"}, {"owner": {"reputation": 13, "user_id": 12633207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c015c5f3b3aee1da7f84e4916f343b4f?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/12633207/james"}, "reply_to_user": {"reputation": 883, "user_id": 8990411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16bd5c0a4501292c0e76115a28fbe019?s=128&d=identicon&r=PG&f=1", "display_name": "Anatole Lucet", "link": "https://stackoverflow.com/users/8990411/anatole-lucet"}, "edited": false, "score": 0, "creation_date": 1577819730, "post_id": 59546779, "comment_id": 105264531, "body": "@Crayzzit Added. (I think this is what you mean by config)"}], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 7171578, "user_type": "registered", "profile_image": "https://graph.facebook.com/1498593660156416/picture?type=large", "display_name": "Nizom Sidiq", "link": "https://stackoverflow.com/users/7171578/nizom-sidiq"}, "is_accepted": true, "score": 2, "last_activity_date": 1577858113, "creation_date": 1577858113, "answer_id": 59550269, "question_id": 59546779, "link": "https://stackoverflow.com/questions/59546779/google-captcha-with-svelte/59550269#59550269", "title": "Google captcha with svelte", "body": "<p>im Rour- the guy from discord. I want to share solution here for others.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;script&gt;\nimport { onMount, onDestroy } from 'svelte';\n\nfunction verifyUser() {/* your fun here */}\n\nonMount(() =&gt; {\n  window.verifyUser = verifyUser;\n})\n\nonDestroy(() =&gt; {\n  window.verifyUser = null;\n})\n&lt;/script&gt;\n&lt;!-- then pass the name of function 'verifyUser' just as string' --&gt;\n&lt;div class=\"g-recaptcha\" data-sitekey=\"key\" data-callback=\"verifyUser\" /&gt;\n</code></pre>\n\n<p>Thinking that <code>data-callback</code> is searching for name of global function, so we define <code>verifyUser</code> as global function in the browser by assign it to the <code>window</code> variable</p>\n"}], "owner": {"reputation": 13, "user_id": 12633207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c015c5f3b3aee1da7f84e4916f343b4f?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/12633207/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 908, "favorite_count": 0, "accepted_answer_id": 59550269, "answer_count": 1, "score": 1, "last_activity_date": 1577858113, "creation_date": 1577811796, "last_edit_date": 1577819706, "question_id": 59546779, "link": "https://stackoverflow.com/questions/59546779/google-captcha-with-svelte", "title": "Google captcha with svelte", "body": "<p>So I had an issue with svelte and google Recaptcha API.</p>\n\n<p>My main HTML file</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset='utf-8'&gt;\n    &lt;meta name='viewport' content='width=device-width,initial-scale=1'&gt;\n\n    &lt;title&gt;Svelte app&lt;/title&gt;\n\n    &lt;link rel='icon' type='image/png' href='/favicon.png'&gt;\n    &lt;link rel='stylesheet' href='/global.css'&gt;\n    &lt;link rel='stylesheet' href='/build/bundle.css'&gt;\n    &lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css\"&gt;\n    &lt;link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Bitter:400,700\"&gt;\n    &lt;link rel=\"stylesheet\" href=\"/css/styles.min.css\"&gt;\n\n    &lt;script defer src='/build/bundle.js'&gt;&lt;/script&gt;\n    &lt;script src=\"https://www.google.com/recaptcha/api.js\" async defer&gt;&lt;/script&gt;\n    &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.bundle.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://cdn.jsdelivr.net/npm/sweetalert2@9\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>My main.svelte</p>\n\n<pre><code>&lt;script&gt;\n  import swal from \"sweetalert\";\n\n  function verifyUser() {\n    swal({\n      title: \"Please wait a minute!\",\n      text: \"Do not close or exit this tab, we are currently verifying you...\",\n      icon: \"info\",\n      backdrop: `rgba(0,0,0,1)`,\n      showConfirmButton: false,\n      allowOutsideClick: false,\n      allowEscapeKey: false\n    });\n  }\n&lt;/script&gt;\n\n&lt;div&gt;\n  &lt;div class=\"header-dark\"&gt;\n    &lt;nav class=\"navbar navbar-dark navbar-expand-lg navigation-clean-search\"&gt;\n      &lt;div class=\"container\"&gt;\n        &lt;a class=\"navbar-brand\" href=\"/\"&gt;QSP Human Verification Module&lt;/a&gt;\n        &lt;button class=\"navbar-toggler\" data-toggle=\"collapse\"&gt;\n          &lt;span class=\"sr-only\"&gt;Toggle navigation&lt;/span&gt;\n          &lt;span class=\"navbar-toggler-icon\" /&gt;\n        &lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/nav&gt;\n    &lt;div class=\"container hero\"&gt;\n      &lt;div class=\"row\"&gt;\n        &lt;div class=\"col-md-8 offset-md-2\"&gt;\n          &lt;h1 class=\"text-center\"&gt;\n            Please complete the Captcha challenge to continue to the server.\n          &lt;/h1&gt;\n\n          &lt;form action=\"\" method=\"post\"&gt;\n\n            &lt;div\n              class=\"g-recaptcha\"\n              data-sitekey=\"key\"\n              data-callback={verifyUser}\n             /&gt;\n          &lt;/form&gt;\n\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Problem is that function just becomes string of itself and can't be executed using just <code>\"verifyUser\" or</code>verifyUser()<code>returns</code>ReCAPTCHA couldn't find user-provided function: verifyUser`</p>\n\n<p>using <code>{verifyUser}</code> becomes string (for more <a href=\"https://prnt.sc/qhyc2w\" rel=\"nofollow noreferrer\">https://prnt.sc/qhyc2w</a>)</p>\n\n<p>executing like that returns:</p>\n\n<pre><code>ReCAPTCHA couldn't find user-provided function: function verifyUser() {\n        swal({\n            title: \"Please wait a minute!\",\n            text: \"Do not close or exit this tab, we are currently verifying you...\",\n            icon: \"info\",\n            backdrop: `rgba(0,0,0,1)`,\n            showConfirmButton: false,\n            allowOutsideClick: false,\n            allowEscapeKey: false\n        });\n    }\n</code></pre>\n\n<p>rollup config</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import svelte from 'rollup-plugin-svelte';\nimport resolve from '@rollup/plugin-node-resolve';\nimport commonjs from '@rollup/plugin-commonjs';\nimport livereload from 'rollup-plugin-livereload';\nimport { terser } from 'rollup-plugin-terser';\n\nconst production = !process.env.ROLLUP_WATCH;\n\nexport default {\n    input: 'src/main.js',\n    output: {\n        sourcemap: true,\n        format: 'iife',\n        name: 'app',\n        file: 'public/build/bundle.js'\n    },\n    plugins: [\n        svelte({\n            // enable run-time checks when not in production\n            dev: !production,\n            // we'll extract any component CSS out into\n            // a separate file \u2014 better for performance\n            css: css =&gt; {\n                css.write('public/build/bundle.css');\n            }\n        }),\n\n        // If you have external dependencies installed from\n        // npm, you'll most likely need these plugins. In\n        // some cases you'll need additional configuration \u2014\n        // consult the documentation for details:\n        // https://github.com/rollup/plugins/tree/master/packages/commonjs\n        resolve({\n            browser: true,\n            dedupe: importee =&gt; importee === 'svelte' || importee.startsWith('svelte/')\n        }),\n        commonjs(),\n\n        // In dev mode, call `npm run start` once\n        // the bundle has been generated\n        !production &amp;&amp; serve(),\n\n        // Watch the `public` directory and refresh the\n        // browser on changes when not in production\n        !production &amp;&amp; livereload('public'),\n\n        // If we're building for production (npm run build\n        // instead of npm run dev), minify\n        production &amp;&amp; terser()\n    ],\n    watch: {\n        clearScreen: false\n    }\n};\n\nfunction serve() {\n    let started = false;\n\n    return {\n        writeBundle() {\n            if (!started) {\n                started = true;\n\n                require('child_process').spawn('npm', ['run', 'start', '--', '--dev'], {\n                    stdio: ['ignore', 'inherit', 'inherit'],\n                    shell: true\n                });\n            }\n        }\n    };\n}\n\n</code></pre>\n\n<p>Any how to properly pass the function?</p>\n"}, {"tags": ["javascript", "arrays", "lodash"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1577811954, "post_id": 59546775, "comment_id": 105262492, "body": "You want to change the array in-place?"}, {"owner": {"reputation": 57, "user_id": 10458813, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BOhbmso77Zg/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXcxp53F1oE7KcUCeKu4gbvVS7reA/mo/photo.jpg?sz=128", "display_name": "Esporia", "link": "https://stackoverflow.com/users/10458813/esporia"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1577812146, "post_id": 59546775, "comment_id": 105262549, "body": "@VLAZ Yes, I want it"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1577812179, "post_id": 59546775, "comment_id": 105262562, "body": "Do you also want to retain a reference to the element, or you just want to remove it?"}, {"owner": {"reputation": 57, "user_id": 10458813, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BOhbmso77Zg/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXcxp53F1oE7KcUCeKu4gbvVS7reA/mo/photo.jpg?sz=128", "display_name": "Esporia", "link": "https://stackoverflow.com/users/10458813/esporia"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1577812248, "post_id": 59546775, "comment_id": 105262593, "body": "@VLAZ I just want to remove it"}], "answers": [{"tags": [], "owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "is_accepted": false, "score": 1, "last_activity_date": 1577812295, "creation_date": 1577812295, "answer_id": 59546852, "question_id": 59546775, "link": "https://stackoverflow.com/questions/59546775/lodash-how-to-extract-an-item-from-a-array-and-remove-from-the-initial-array/59546852#59546852", "title": "Lodash - How to extract an item from a array and remove from the initial array?", "body": "<p>You can use the <a href=\"https://lodash.com/docs/4.17.15#remove\" rel=\"nofollow noreferrer\"><code>_.remove</code></a> method to mutate an array and exclude an element from it.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let items = [\r\n    { id: 1 }, { id: 2 }, { id: 3 }\r\n]\r\n\r\n//mutate in-place\r\n_.remove(items, { id: 1 });\r\n\r\nconsole.log(items); // [{ id: 2 }, { id: 3 }]</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdn.jsdelivr.net/npm/lodash@4.17.15/lodash.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 12617531, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBPshGndlfougQV_wE_o0XAsa_jf-IZOhMKaqvGyg=k-s128", "display_name": "Tori ", "link": "https://stackoverflow.com/users/12617531/tori"}, "is_accepted": false, "score": 0, "last_activity_date": 1577812495, "creation_date": 1577812495, "answer_id": 59546870, "question_id": 59546775, "link": "https://stackoverflow.com/questions/59546775/lodash-how-to-extract-an-item-from-a-array-and-remove-from-the-initial-array/59546870#59546870", "title": "Lodash - How to extract an item from a array and remove from the initial array?", "body": "<p>You can use lodash filter to return a new array:</p>\n\n<pre><code>let rest = _.filter(items, {id: 1});\n</code></pre>\n\n<p>Similarly you could just use the js filter function\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter</a></p>\n\n<pre><code>let rest = items.filter(x =&gt; x.id !== 1);\n</code></pre>\n\n<p>or remove it from the original array with remove:</p>\n\n<pre><code>_.remove(items, {id: 1});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 89, "user_id": 3869223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b463f887923f6dcfa91c007e2e594ba7?s=128&d=identicon&r=PG", "display_name": "skoller", "link": "https://stackoverflow.com/users/3869223/skoller"}, "is_accepted": false, "score": 0, "last_activity_date": 1577812761, "creation_date": 1577812761, "answer_id": 59546906, "question_id": 59546775, "link": "https://stackoverflow.com/questions/59546775/lodash-how-to-extract-an-item-from-a-array-and-remove-from-the-initial-array/59546906#59546906", "title": "Lodash - How to extract an item from a array and remove from the initial array?", "body": "<p>No Lodash needed. If all you want to do is remove the first item:</p>\n\n<pre><code>let items = [\n    { id: 1 }, { id: 2 }, { id: 3 }\n];\n\nitems.shift(); // { id: 1 }\n\nlet rest = items; // [{ id: 2 }, { id: 3 }]\n</code></pre>\n\n<p>Otherwise, <code>filter</code> would be a good way to remove  specific item from a list, as Tori suggests.</p>\n"}], "owner": {"reputation": 57, "user_id": 10458813, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BOhbmso77Zg/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXcxp53F1oE7KcUCeKu4gbvVS7reA/mo/photo.jpg?sz=128", "display_name": "Esporia", "link": "https://stackoverflow.com/users/10458813/esporia"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "closed_date": 1577815709, "answer_count": 3, "score": -1, "last_activity_date": 1577812761, "creation_date": 1577811780, "question_id": 59546775, "link": "https://stackoverflow.com/questions/59546775/lodash-how-to-extract-an-item-from-a-array-and-remove-from-the-initial-array", "closed_reason": "Duplicate", "title": "Lodash - How to extract an item from a array and remove from the initial array?", "body": "<p>I'm wondering if it exists a simpler way to do the same thing as below with lodash :</p>\n\n<pre><code>let items = [\n    { id: 1 }, { id: 2 }, { id: 3 }\n]\nlet removedItem = _.pullAt(items, [_.findIndex(items, { id: 1 })])[0] // { id: 1 }\nlet rest = items; // [{ id: 2 }, { id: 3 }]\n</code></pre>\n"}, {"tags": ["javascript", "html", "reactjs", "jsx"], "comments": [{"owner": {"reputation": 6701, "user_id": 3591273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e9f02f036080c8be4e2abfcf753be75?s=128&d=identicon&r=PG", "display_name": "Nikos M.", "link": "https://stackoverflow.com/users/3591273/nikos-m"}, "edited": false, "score": 0, "creation_date": 1577812535, "post_id": 59546760, "comment_id": 105262673, "body": "possibly duplicate: <a href=\"https://stackoverflow.com/a/27958683/3591273\">stackoverflow.com/a/27958683/3591273</a>"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 12279290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78b772f20e5d7e9be9a8ae1c15ce4384?s=128&d=identicon&r=PG&f=1", "display_name": "scorpio", "link": "https://stackoverflow.com/users/12279290/scorpio"}, "edited": false, "score": 0, "creation_date": 1578043868, "post_id": 59546826, "comment_id": 105318841, "body": "I&#39;ve seen that when i researched on my problem but i&#39;d rather avoid using that because of how risky it is. I doubt i&#39;ll get a lot of users because this is for my portfolio, but i rather not rely on it right now than trying to get rid of my reliance later. But thank you."}], "tags": [], "owner": {"reputation": 92, "user_id": 3800287, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100000167799128/picture?type=large", "display_name": "user54987", "link": "https://stackoverflow.com/users/3800287/user54987"}, "is_accepted": false, "score": 2, "last_activity_date": 1577812100, "creation_date": 1577812100, "answer_id": 59546826, "question_id": 59546760, "link": "https://stackoverflow.com/questions/59546760/adding-a-line-break-dynamically-inside-a-jsx-expression/59546826#59546826", "title": "Adding a line break dynamically inside a JSX expression", "body": "<p>Use \"dangerouslySetInnerHTML\" to render the <code>&lt;br/&gt;</code></p>\n\n<p>dangerouslySetInnerHTML is React\u2019s replacement for using innerHTML in the browser DOM. In general, setting HTML from code is risky because it\u2019s easy to inadvertently expose your users to a cross-site scripting (XSS) attack. So, you can set HTML directly from React, but you have to type out dangerouslySetInnerHTML and pass an object with a __html key, to remind yourself that it\u2019s dangerous. For example:</p>\n\n<pre><code>function createMarkup() {\n  return {__html: 'First &amp;middot; Second'};\n}\n\nfunction MyComponent() {\n  return &lt;div dangerouslySetInnerHTML={createMarkup()} /&gt;;\n}\n</code></pre>\n\n<p>Reference: <a href=\"https://reactjs.org/docs/dom-elements.html\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/dom-elements.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 2475, "user_id": 968496, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8c7e97fd69d4b075b9babdb3258c1c90?s=128&d=identicon&r=PG", "display_name": "Brennan Cheung", "link": "https://stackoverflow.com/users/968496/brennan-cheung"}, "is_accepted": false, "score": 2, "last_activity_date": 1577813003, "creation_date": 1577813003, "answer_id": 59546944, "question_id": 59546760, "link": "https://stackoverflow.com/questions/59546760/adding-a-line-break-dynamically-inside-a-jsx-expression/59546944#59546944", "title": "Adding a line break dynamically inside a JSX expression", "body": "<p>It might be more idiomatic if you split on the newline and then map over the lines with a <code>p</code> element.</p>\n\n<p><code>const lines = lyrics.split(/(\\r\\n|\\n|\\r/)</code></p>\n\n<p><code>{lines.map(line =&gt; &lt;p&gt;{line}&lt;/p&gt;)}</code></p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 12279290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78b772f20e5d7e9be9a8ae1c15ce4384?s=128&d=identicon&r=PG&f=1", "display_name": "scorpio", "link": "https://stackoverflow.com/users/12279290/scorpio"}, "edited": false, "score": 0, "creation_date": 1578046871, "post_id": 59546979, "comment_id": 105320085, "body": "This splits the string received from the API and maps over the array of substrings and then returns it with a &lt;br/&gt; at the end. It works nicely but still looks off with how much white space is rendered but i think it&#39;s the best i&#39;m gonna get with what i have to work with to be honest. Don&#39;t know why i didn&#39;t think of that, thanks."}], "tags": [], "owner": {"reputation": 113, "user_id": 6410581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f3c2653fe76beb3896a5fbe3a091e6c?s=128&d=identicon&r=PG&f=1", "display_name": "forkerino", "link": "https://stackoverflow.com/users/6410581/forkerino"}, "is_accepted": true, "score": 4, "last_activity_date": 1577813261, "creation_date": 1577813261, "answer_id": 59546979, "question_id": 59546760, "link": "https://stackoverflow.com/questions/59546760/adding-a-line-break-dynamically-inside-a-jsx-expression/59546979#59546979", "title": "Adding a line break dynamically inside a JSX expression", "body": "<p>Maybe it's an idea to split the string and map over it? </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>lyrics.lyrics.lyrics_body.split(/\\r\\n|\\n|\\r/gm).map(line =&gt; {\n    return &lt;React.Fragment&gt;{line}&lt;br /&gt;&lt;/React.Fragment&gt;\n})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1119, "user_id": 2667792, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/r7ZWs.jpg?s=128&g=1", "display_name": "max3d", "link": "https://stackoverflow.com/users/2667792/max3d"}, "edited": false, "score": 0, "creation_date": 1619204238, "post_id": 59547052, "comment_id": 118843973, "body": "Brilliant answer! Thank you Tarnay!"}], "tags": [], "owner": {"reputation": 6672, "user_id": 55267, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ab742c6941c6dfd01a2853319f53ac47?s=128&d=identicon&r=PG&f=1", "display_name": "Tarnay K&#225;lm&#225;n", "link": "https://stackoverflow.com/users/55267/tarnay-k%c3%a1lm%c3%a1n"}, "is_accepted": false, "score": 3, "last_activity_date": 1577813851, "creation_date": 1577813851, "answer_id": 59547052, "question_id": 59546760, "link": "https://stackoverflow.com/questions/59546760/adding-a-line-break-dynamically-inside-a-jsx-expression/59547052#59547052", "title": "Adding a line break dynamically inside a JSX expression", "body": "<p>You can avoid this whole ordeal with CSS:</p>\n\n<pre><code>.card-text {\n    white-space: pre-line;\n}\n</code></pre>\n\n<p>This will cause the text to wrap on line breaks (and when necessary).</p>\n\n<p>Just render the lyrics_body as is:</p>\n\n<pre><code>&lt;p className=\"card-text\"&gt;\n    {lyrics.lyrics.lyrics_body}\n&lt;/p&gt;\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 12279290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78b772f20e5d7e9be9a8ae1c15ce4384?s=128&d=identicon&r=PG&f=1", "display_name": "scorpio", "link": "https://stackoverflow.com/users/12279290/scorpio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 649, "favorite_count": 0, "accepted_answer_id": 59546979, "answer_count": 4, "score": 2, "last_activity_date": 1577813851, "creation_date": 1577811653, "question_id": 59546760, "link": "https://stackoverflow.com/questions/59546760/adding-a-line-break-dynamically-inside-a-jsx-expression", "title": "Adding a line break dynamically inside a JSX expression", "body": "<p>So i'm making a React app that fetches lyrics of songs from an API</p>\n\n<p>The API gives me a lyrics_body that is a string and i'm using that to display the lyrics on the page, problem is, that it's not particularly nice to look at when react renders it because the api gives me this:</p>\n\n<p><code>They say \"Oh my god I see the way you shine\"\u21b5Take your hand, my dear</code>(This is part of the lyrics data that the API gives me back)</p>\n\n<p>It's this character: <code>\u21b5</code> that pose a problem, it's nice of them to give me anything at all that is supposed to be a linebreak. So i decided to replace that character with a <code>&lt;br /&gt;</code></p>\n\n<p>This is a piece of my code:</p>\n\n<pre><code>&lt;div className=\"card-body\"&gt;\n   &lt;p className=\"card-text\"&gt;\n      {lyrics.lyrics.lyrics_body.replace(/(\\r\\n|\\n|\\r)/gm, \"&lt;br /&gt;\")}\n   &lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>That will obviously not put a line break but it will just render <code>&lt;br /&gt;</code> directly into the paragraph and that's no good</p>\n\n<p>I'm quite new to JSX and what you can and can't do with it so i'm kind of lost here, i tried <code>/n</code> or <code>%0D%0A</code> or any other thing i found during my research but nothing worked</p>\n\n<p>I also tried concatenating via adding a variable like that:</p>\n\n<pre><code>const newLine = &lt;br /&gt;;\n\n&lt;div className=\"card-body\"&gt;\n   &lt;p className=\"card-text\"&gt;\n      {lyrics.lyrics.lyrics_body.replace(/(\\r\\n|\\n|\\r)/gm, `${newLine})}\n   &lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>But that just renders like that: </p>\n\n<p><code>They say \"Oh my god I see the way you shine\"[object Object]Take your hand, my dear</code></p>\n\n<p>TLDR:\nHow can i insert a line break anywhere where there is a \u21b5 ? I would be done with it if not for the JSX expression.</p>\n\n<p>I think i need to learn more about JSX</p>\n"}, {"tags": ["javascript", "recaptcha"], "comments": [{"owner": {"reputation": 2048, "user_id": 1169686, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Uh89d.jpg?s=128&g=1", "display_name": "Mihail Minkov", "link": "https://stackoverflow.com/users/1169686/mihail-minkov"}, "edited": false, "score": 0, "creation_date": 1577982271, "post_id": 59546714, "comment_id": 105301142, "body": "I think Recaptcha enables it, because otherwise it can&#39;t submit. Maybe you should make a callback once Recaptcha is loaded and disable the button from there and depend on the other inputs after that."}, {"owner": {"reputation": 2705, "user_id": 3146958, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002564225231/picture?type=large", "display_name": "KidBilly", "link": "https://stackoverflow.com/users/3146958/kidbilly"}, "reply_to_user": {"reputation": 2048, "user_id": 1169686, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Uh89d.jpg?s=128&g=1", "display_name": "Mihail Minkov", "link": "https://stackoverflow.com/users/1169686/mihail-minkov"}, "edited": false, "score": 0, "creation_date": 1577982492, "post_id": 59546714, "comment_id": 105301243, "body": "Makes sense.  Put a working example as an answer and I&#39;ll accept it."}], "answers": [{"comments": [{"owner": {"reputation": 2048, "user_id": 1169686, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Uh89d.jpg?s=128&g=1", "display_name": "Mihail Minkov", "link": "https://stackoverflow.com/users/1169686/mihail-minkov"}, "reply_to_user": {"reputation": 2705, "user_id": 3146958, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002564225231/picture?type=large", "display_name": "KidBilly", "link": "https://stackoverflow.com/users/3146958/kidbilly"}, "edited": false, "score": 1, "creation_date": 1577984231, "post_id": 59567003, "comment_id": 105302103, "body": "Hmm, can you try putting <code>document.getElementById(&#39;form-submit-btn&#39;).disabled = true;</code> after the render line?"}, {"owner": {"reputation": 333, "user_id": 4149432, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/cssMk.png?s=128&g=1", "display_name": "Mohamed Masmoudi", "link": "https://stackoverflow.com/users/4149432/mohamed-masmoudi"}, "edited": false, "score": 0, "creation_date": 1601535054, "post_id": 59567003, "comment_id": 113439248, "body": "When the user click the submit button, nothing happens, what code should i add so the submit works please ?"}, {"owner": {"reputation": 2048, "user_id": 1169686, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Uh89d.jpg?s=128&g=1", "display_name": "Mihail Minkov", "link": "https://stackoverflow.com/users/1169686/mihail-minkov"}, "reply_to_user": {"reputation": 333, "user_id": 4149432, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/cssMk.png?s=128&g=1", "display_name": "Mohamed Masmoudi", "link": "https://stackoverflow.com/users/4149432/mohamed-masmoudi"}, "edited": false, "score": 1, "creation_date": 1601573133, "post_id": 59567003, "comment_id": 113456819, "body": "It would seem your button is disabled, you should get the recaptcha if everything is configured correctly. You could create a question for that specific case or look for similar cases."}, {"owner": {"reputation": 333, "user_id": 4149432, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/cssMk.png?s=128&g=1", "display_name": "Mohamed Masmoudi", "link": "https://stackoverflow.com/users/4149432/mohamed-masmoudi"}, "edited": false, "score": 0, "creation_date": 1601586214, "post_id": 59567003, "comment_id": 113461755, "body": "Yes i did already created a question, but no good answer. <a href=\"https://stackoverflow.com/questions/64136658/in-my-recaptcha-google-why-submit-dont-work\" title=\"in my recaptcha google why submit dont work\">stackoverflow.com/questions/64136658/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2048, "user_id": 1169686, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Uh89d.jpg?s=128&g=1", "display_name": "Mihail Minkov", "link": "https://stackoverflow.com/users/1169686/mihail-minkov"}, "is_accepted": true, "score": 2, "last_activity_date": 1577985053, "last_edit_date": 1577985053, "creation_date": 1577983608, "answer_id": 59567003, "question_id": 59546714, "link": "https://stackoverflow.com/questions/59546714/google-recaptcha-enables-disabled-submit-button/59567003#59567003", "title": "Google Recaptcha enables disabled submit button", "body": "<p>As I told in my comment above you could use a callback when the Invisible Recaptcha is rendered.</p>\n\n<p>Try this code out and let me know if it worked:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!doctype html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;script&gt;\n        var onSubmit = function(token) {\n            console.log(token);\n            // You can check token here and decide what to do\n        };\n\n        var onloadCallback = function() {\n            grecaptcha.render('form-submit-btn', {\n                'sitekey' : '***************',\n                'callback' : onSubmit\n            });\n            document.getElementById('form-submit-btn').disabled = true;\n        };\n\n        /////\n        // code to enable your button when you have content in the inputs\n        /////\n    &lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n      &lt;form action=\"/action_page.php\" id=\"referral-form\"&gt;\n          First name:\n         &lt;br&gt;\n         &lt;input type=\"text\" name=\"firstname\"&gt;\n         &lt;br&gt;\n         Last name:\n         &lt;br&gt;\n         &lt;input type=\"text\" name=\"lastname\"&gt;\n         &lt;br&gt;\n         &lt;input type=\"submit\" id=\"form-submit-btn\" class=\"g-recaptcha\" value=\"Submit\"&gt;\n      &lt;/form&gt;\n\n      &lt;script src=\"https://www.google.com/recaptcha/api.js?onload=onloadCallback&amp;render=explicit\" async defer&gt;&lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I based this example on your code and <a href=\"https://developers.google.com/recaptcha/docs/invisible#examples\" rel=\"nofollow noreferrer\">this example</a> in Google Recaptcha's documentation.</p>\n"}, {"tags": [], "owner": {"reputation": 333, "user_id": 4149432, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/cssMk.png?s=128&g=1", "display_name": "Mohamed Masmoudi", "link": "https://stackoverflow.com/users/4149432/mohamed-masmoudi"}, "is_accepted": false, "score": 0, "last_activity_date": 1601742442, "creation_date": 1601742442, "answer_id": 64186479, "question_id": 59546714, "link": "https://stackoverflow.com/questions/59546714/google-recaptcha-enables-disabled-submit-button/64186479#64186479", "title": "Google Recaptcha enables disabled submit button", "body": "<p>To resolve this issue i have upgraded to reCaptcha v3, very easy to integrate and now i changed the submit from &lt;input type=&quot;submit&quot; to ....\nThe result is that the form now works perfectly.</p>\n"}], "owner": {"reputation": 2705, "user_id": 3146958, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002564225231/picture?type=large", "display_name": "KidBilly", "link": "https://stackoverflow.com/users/3146958/kidbilly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1352, "favorite_count": 0, "accepted_answer_id": 59567003, "answer_count": 2, "score": 4, "last_activity_date": 1601742442, "creation_date": 1577811353, "last_edit_date": 1577981951, "question_id": 59546714, "link": "https://stackoverflow.com/questions/59546714/google-recaptcha-enables-disabled-submit-button", "title": "Google Recaptcha enables disabled submit button", "body": "<p>I'm using <code>reCaptcha v2 invisible</code>.  I have a simple form with a <code>disabled</code> submit button.  Google reCAPTCHA is enabling my disabled button.  </p>\n\n<pre><code>&lt;script src=\"https://www.google.com/recaptcha/api.js\"&gt;&lt;/script&gt;\n\n&lt;form action=\"/action_page.php\" id=\"referral-form\"&gt;\n    First name:\n    &lt;br&gt;\n    &lt;input type=\"text\" name=\"firstname\"&gt;\n    &lt;br&gt;\n    Last name:\n    &lt;br&gt;\n    &lt;input type=\"text\" name=\"lastname\"&gt;\n    &lt;br&gt;\n    &lt;input type=\"submit\" id=\"form-submit-btn\" disabled=\"disabled\" class=\"g-recaptcha\" data-callback='onSubmit' data-sitekey=\"***************\" value=\"Submit\"&gt;\n&lt;/form&gt;\n\nfunction onSubmit() {\n    if (grecaptcha.getResponse() !== \"\") {\n        $('#referral-form').submit();\n    }\n        grecaptcha.reset();\n}\n</code></pre>\n\n<p>When I remove <code>class=\"g-recaptcha\"</code> the button is properly disabled.</p>\n"}, {"tags": ["javascript", "events", "event-handling", "dom-events"], "comments": [{"owner": {"reputation": 137, "user_id": 4027605, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "SPS", "link": "https://stackoverflow.com/users/4027605/sps"}, "edited": false, "score": 0, "creation_date": 1577812057, "post_id": 59546709, "comment_id": 105262526, "body": "Can you tell what game refers to in your insertFigure function?"}, {"owner": {"reputation": 1, "user_id": 12633009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b3f5d73522da92f1e997aff86b175d7?s=128&d=identicon&r=PG&f=1", "display_name": "TeeryBee", "link": "https://stackoverflow.com/users/12633009/teerybee"}, "reply_to_user": {"reputation": 137, "user_id": 4027605, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "SPS", "link": "https://stackoverflow.com/users/4027605/sps"}, "edited": false, "score": 0, "creation_date": 1577812216, "post_id": 59546709, "comment_id": 105262580, "body": "Sorry i&#39;ve fogotten to include it in my post:   let game = {         user: &#39;&#39;,         computer: &#39;&#39;,         currentPlayer: &#39;O&#39;,         moves: 1,         boxes: [&#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;],         score: {             playerX: 0,             playerO: 0         },         turn: &#39;&#39;     };"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1577813527, "post_id": 59546709, "comment_id": 105262941, "body": "Just test for <code>if (!event.target.childNodes[0].classList.contains(&quot;fa&quot;))</code>, as that is the class that all elements that had already been clicked on will have"}], "owner": {"reputation": 1, "user_id": 12633009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b3f5d73522da92f1e997aff86b175d7?s=128&d=identicon&r=PG&f=1", "display_name": "TeeryBee", "link": "https://stackoverflow.com/users/12633009/teerybee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577813905, "creation_date": 1577811302, "last_edit_date": 1577813905, "question_id": 59546709, "link": "https://stackoverflow.com/questions/59546709/is-there-a-way-to-prevent-disable-click-event-from-occurring-on-event-target", "title": "Is there a way to prevent/disable click event from occurring on event.target?", "body": "<p>I am working on a Tic Tac Toe game and decided to use an event bubbling concept in the project, so that every time a user clicks on 1 of the 9 fields inside a container (<code>event.currentTarget</code>), a certain figure (X or O) is inserted in one of the selected fields (in this case a span tag). However after the figure is inserted I would like to prevent/disable event listener from occurring again on the field which was already clicked. The event listener is set on the parent element, which in my case is the container for all 9 fields. Below you can find some sample code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function insertFigure (e) {\r\n    if (e.target !== e.currentTarget) {\r\n        \r\n        if (game.currentPlayer === \"O\") {\r\n            if (!event.target.childNodes[0].classList.contains(\"fa\", \"fa-circle-o\") || !event.target.childNodes[0].classList.contains(\"fa\", \"fa-times\")) {\r\n                event.target.childNodes[0].classList.add(\"fa\", \"fa-circle-o\");\r\n                \r\n            } else {\r\n                alert (\"There is already a figure\");\r\n            }\r\n        } else if (game.currentPlayer === \"X\") {\r\n            if (!event.target.childNodes[0].classList.contains(\"fa\", \"fa-times\") || !event.target.childNodes[0].classList.contains(\"fa\", \"fa-circle-o\")) {\r\n                event.target.childNodes[0].classList.add(\"fa\", \"fa-times\");\r\n\r\n            } else {\r\n                alert (\"There is already a figure\");\r\n            }\r\n            \r\n        }\r\n        \r\n    }\r\n    e.stopPropagation()\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>      &lt;div id=\"container-board\"&gt;\r\n             &lt;div id=\"cell-1\" class=\"cell bottom-right-border\"&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;\r\n             &lt;div id=\"cell-2\" class=\"cell bottom-right-border\"&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;\r\n             &lt;div id=\"cell-3\" class=\"cell bottom-border\"&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;\r\n             &lt;div id=\"cell-4\" class=\"cell bottom-right-border\"&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;\r\n             &lt;div id=\"cell-5\" class=\"cell bottom-right-border\"&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;\r\n             &lt;div id=\"cell-6\" class=\"cell bottom-border\"&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;\r\n             &lt;div id=\"cell-7\" class=\"cell right-border\"&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;\r\n             &lt;div id=\"cell-8\" class=\"cell right-border\"&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;\r\n             &lt;div id=\"cell-9\" class=\"cell\"&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "angular", "typescript", "amazon-web-services", "api"], "comments": [{"owner": {"reputation": 45894, "user_id": 271415, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8648256cc53b261c5e1d266380a256fc?s=128&d=identicon&r=PG", "display_name": "jarmod", "link": "https://stackoverflow.com/users/271415/jarmod"}, "edited": false, "score": 0, "creation_date": 1577902064, "post_id": 59546708, "comment_id": 105278320, "body": "If you&#39;re unable to make this work with the current version of aws4 then you might consider installing an older version that doesn&#39;t rely on, and has no dependencies  that rely on, Buffer."}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 11081132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f3245b7f08456c309bd963acdc02bc?s=128&d=identicon&r=PG&f=1", "display_name": "pmax", "link": "https://stackoverflow.com/users/11081132/pmax"}, "edited": false, "score": 0, "creation_date": 1577814915, "post_id": 59546748, "comment_id": 105263314, "body": "Thank you. I added Buffer as described, but now I am getting an error Cannot read property &#39;slice&#39; of undefined. Do you know how to proceed here?"}, {"owner": {"reputation": 2487, "user_id": 3399430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dXL2E.png?s=128&g=1", "display_name": "denixtry", "link": "https://stackoverflow.com/users/3399430/denixtry"}, "reply_to_user": {"reputation": 103, "user_id": 11081132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f3245b7f08456c309bd963acdc02bc?s=128&d=identicon&r=PG&f=1", "display_name": "pmax", "link": "https://stackoverflow.com/users/11081132/pmax"}, "edited": false, "score": 0, "creation_date": 1577816178, "post_id": 59546748, "comment_id": 105263692, "body": "Can paste some of the stack trace? I am guessing you are passing null somewhere to aws4"}, {"owner": {"reputation": 103, "user_id": 11081132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f3245b7f08456c309bd963acdc02bc?s=128&d=identicon&r=PG&f=1", "display_name": "pmax", "link": "https://stackoverflow.com/users/11081132/pmax"}, "edited": false, "score": 0, "creation_date": 1577817537, "post_id": 59546748, "comment_id": 105264075, "body": "I updated more of stack trace in the question above"}, {"owner": {"reputation": 2487, "user_id": 3399430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dXL2E.png?s=128&g=1", "display_name": "denixtry", "link": "https://stackoverflow.com/users/3399430/denixtry"}, "reply_to_user": {"reputation": 103, "user_id": 11081132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f3245b7f08456c309bd963acdc02bc?s=128&d=identicon&r=PG&f=1", "display_name": "pmax", "link": "https://stackoverflow.com/users/11081132/pmax"}, "edited": false, "score": 0, "creation_date": 1577817854, "post_id": 59546748, "comment_id": 105264144, "body": "Can you also just use this for importing aws4   import * as aws4 from &#39;aws4&#39;;"}, {"owner": {"reputation": 103, "user_id": 11081132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f3245b7f08456c309bd963acdc02bc?s=128&d=identicon&r=PG&f=1", "display_name": "pmax", "link": "https://stackoverflow.com/users/11081132/pmax"}, "edited": false, "score": 0, "creation_date": 1577819086, "post_id": 59546748, "comment_id": 105264409, "body": "I have updated the import accordingly, unfortunately the error did not change."}, {"owner": {"reputation": 2487, "user_id": 3399430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dXL2E.png?s=128&g=1", "display_name": "denixtry", "link": "https://stackoverflow.com/users/3399430/denixtry"}, "reply_to_user": {"reputation": 103, "user_id": 11081132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f3245b7f08456c309bd963acdc02bc?s=128&d=identicon&r=PG&f=1", "display_name": "pmax", "link": "https://stackoverflow.com/users/11081132/pmax"}, "edited": false, "score": 0, "creation_date": 1577821543, "post_id": 59546748, "comment_id": 105264913, "body": "Try using this library instead <a href=\"https://github.com/bhanuhiteshi/ngx-aws4#readme\" rel=\"nofollow noreferrer\">github.com/bhanuhiteshi/ngx-aws4#readme</a>"}, {"owner": {"reputation": 103, "user_id": 11081132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f3245b7f08456c309bd963acdc02bc?s=128&d=identicon&r=PG&f=1", "display_name": "pmax", "link": "https://stackoverflow.com/users/11081132/pmax"}, "edited": false, "score": 0, "creation_date": 1577825172, "post_id": 59546748, "comment_id": 105265684, "body": "I would like to use aws4 because it is far more popular and active. Has anyone been able to get this library to work with Angular 8 or is there another way of creating signed requests in Angular 8 for AWS API GW?"}, {"owner": {"reputation": 2487, "user_id": 3399430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dXL2E.png?s=128&g=1", "display_name": "denixtry", "link": "https://stackoverflow.com/users/3399430/denixtry"}, "reply_to_user": {"reputation": 103, "user_id": 11081132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f3245b7f08456c309bd963acdc02bc?s=128&d=identicon&r=PG&f=1", "display_name": "pmax", "link": "https://stackoverflow.com/users/11081132/pmax"}, "edited": false, "score": 0, "creation_date": 1577828386, "post_id": 59546748, "comment_id": 105266240, "body": "The problem is the crypto library they use in aws4. You could fork aws4 and replace crypto with crypto-browserify.  <a href=\"https://www.npmjs.com/package/crypto-browserify\" rel=\"nofollow noreferrer\">npmjs.com/package/crypto-browserify</a>"}], "tags": [], "owner": {"reputation": 2487, "user_id": 3399430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dXL2E.png?s=128&g=1", "display_name": "denixtry", "link": "https://stackoverflow.com/users/3399430/denixtry"}, "is_accepted": false, "score": 0, "last_activity_date": 1577811571, "creation_date": 1577811571, "answer_id": 59546748, "question_id": 59546708, "link": "https://stackoverflow.com/questions/59546708/generate-aws-signed-requests-in-angular/59546748#59546748", "title": "Generate AWS Signed Requests in Angular", "body": "<p>Install the buffer package using npm or yarn <code>npm install buffer</code>. And add the following into polyfills.ts ():</p>\n\n<pre><code>global.Buffer = global.Buffer || require('buffer').Buffer;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 103, "user_id": 11081132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f3245b7f08456c309bd963acdc02bc?s=128&d=identicon&r=PG&f=1", "display_name": "pmax", "link": "https://stackoverflow.com/users/11081132/pmax"}, "is_accepted": true, "score": 1, "last_activity_date": 1578082113, "creation_date": 1578082113, "answer_id": 59584746, "question_id": 59546708, "link": "https://stackoverflow.com/questions/59546708/generate-aws-signed-requests-in-angular/59584746#59584746", "title": "Generate AWS Signed Requests in Angular", "body": "<p>At first, I tried to use <em>crypto-browserify</em>, but unfortunately, I got the exact same error as I got with <em>crypto</em>.\nTherefore, I implemented the request signing myself using this example:\n<a href=\"https://docs.aws.amazon.com/general/latest/gr/sigv4-signed-request-examples.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/general/latest/gr/sigv4-signed-request-examples.html</a></p>\n\n<p>The example is for python, but can easily be adapted for Javascript/Typescript.</p>\n\n<p>As described here:\n<a href=\"https://docs.aws.amazon.com/general/latest/gr/signature-v4-examples.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/general/latest/gr/signature-v4-examples.html</a></p>\n\n<p>I used <strong><em>crypto-js</em></strong> instead of <em>crypto</em>, and did not get any errors.</p>\n"}], "owner": {"reputation": 103, "user_id": 11081132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f3245b7f08456c309bd963acdc02bc?s=128&d=identicon&r=PG&f=1", "display_name": "pmax", "link": "https://stackoverflow.com/users/11081132/pmax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 975, "favorite_count": 0, "accepted_answer_id": 59584746, "answer_count": 2, "score": 1, "last_activity_date": 1578082113, "creation_date": 1577811297, "last_edit_date": 1577817508, "question_id": 59546708, "link": "https://stackoverflow.com/questions/59546708/generate-aws-signed-requests-in-angular", "title": "Generate AWS Signed Requests in Angular", "body": "<p>From my Angular 8 app, I want to call a REST endpoint which is hosted on AWS API Gateway. The authorization of the endpoint is AWS_IAM, meaning that the request needs to be signed.</p>\n\n<p>How can signed request be done in Angular? There is a popular package aws4 (<a href=\"https://www.npmjs.com/package/aws4\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/aws4</a>) for JavaScript which would be my preferred option. However, I am not able to use this JS Package in my Angular app. This is what I did:</p>\n\n<ol>\n<li><code>npm install aws4</code> in angular project folder</li>\n<li><code>import * as aws4 from '../../../node_modules/aws4/aws4.js';</code> in my api.service.ts (which is the angular service for calling the APIs).</li>\n</ol>\n\n<p>When using the sign method from my API service</p>\n\n<pre><code>const signedRequest = aws4.sign(opts, {\naccessKeyId: accessKey,\nsecretAccessKey: secretKey,\nsessionToken: session})\n</code></pre>\n\n<p>I am getting following error:</p>\n\n<blockquote>\n  <p>Uncaught ReferenceError: Buffer is not defined at\n  Object../node_modules/core-util-is/lib/util.js at _webpack_require_</p>\n</blockquote>\n\n<p>I have also tried to use declare <code>declare var aws4: any</code>in my API service instead of importing, however I am always getting the error above.</p>\n\n<p>How can the package aws4 be imported to Angular 8 or alternatively, how can signed requests be generated for AWS in an Angular 8 app without implementing each step (meaning I want to use a library).</p>\n\n<p>Update:\nAfter adding Buffer, I am getting following error:</p>\n\n<blockquote>\n  <p>Uncaught TypeError: Cannot read property 'slice' of undefined\n      at Object../node_modules/readable-stream/lib/_stream_writable.js (_stream_writable.js:57)\n      at <strong>webpack_require</strong> (bootstrap:79)\n      at Object../node_modules/readable-stream/readable-browser.js (readable-browser.js:4)\n      at <strong>webpack_require</strong> (bootstrap:79)\n      at Object../node_modules/stream-browserify/index.js (index.js:28)\n      at <strong>webpack_require</strong> (bootstrap:79)\n      at Object../node_modules/hash-base/index.js (index.js:3)\n      at <strong>webpack_require</strong> (bootstrap:79)\n      at Object../node_modules/md5.js/index.js (index.js:3)\n      at <strong>webpack_require</strong> (bootstrap:79)</p>\n</blockquote>\n"}]