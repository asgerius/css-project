[{"tags": ["javascript", "jquery", "html", "json", "ajax"], "comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1557360043, "post_id": 56050450, "comment_id": 98742211, "body": "Add <code>dataType: &#39;json&#39;</code> to your <code>$.ajax()</code> options. This will tell jQuery to automatically parse the response as JSON into an <code>Object</code>. Longer term, if you can change the PHP, add <code>header(&#39;Content-type: application&#47;json&#39;);</code> before outputting the encoded JSON"}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1557360309, "post_id": 56050450, "comment_id": 98742253, "body": "Alternately, use <a href=\"https://api.jquery.com/jquery.getjson/\" rel=\"nofollow noreferrer\"><code>$.getJSON()</code></a> which sets the response data-type as JSON automatically"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1557360719, "post_id": 56050450, "comment_id": 98742319, "body": "FYI, to help with searching, there&#39;s no such thing as an &quot;associative array&quot; in JavaScript. There are objects, and there are arrays. What you show in the first sample is just an object with keys which happen to be parseable as numbers."}, {"owner": {"reputation": 53, "user_id": 11472768, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aZvL3VfoB7A/AAAAAAAAAAI/AAAAAAAAAFM/ogsxSloVgKg/photo.jpg?sz=128", "display_name": "Hit2Mo", "link": "https://stackoverflow.com/users/11472768/hit2mo"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1557397474, "post_id": 56050450, "comment_id": 98755194, "body": "Thanks @HereticMonkey I will keep that in mind."}, {"owner": {"reputation": 53, "user_id": 11472768, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aZvL3VfoB7A/AAAAAAAAAAI/AAAAAAAAAFM/ogsxSloVgKg/photo.jpg?sz=128", "display_name": "Hit2Mo", "link": "https://stackoverflow.com/users/11472768/hit2mo"}, "reply_to_user": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1557398732, "post_id": 56050450, "comment_id": 98755810, "body": "@Phil Is there a way to DRY this code and use a for loop to display all the array values in their corresponding checkboxes? Also, it should be able to add additional checkboxes if required. Any inputs are appreciated (:"}], "answers": [{"comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1557360397, "post_id": 56050468, "comment_id": 98742266, "body": "GET requests do not need to set a <code>contentType</code>"}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 1, "creation_date": 1557360642, "post_id": 56050468, "comment_id": 98742307, "body": "If OP was going to have CORS issues, they would have had them already. There is no difference in request handling between <code>$.ajax()</code> and <code>$.getJSON()</code> so I don&#39;t know what your comment means ~ <i>&quot;It will have issue with CORS when you use $.ajax()&quot;</i>"}, {"owner": {"reputation": 57, "user_id": 11472807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64fed584231adbfb7b5533bcfd231226?s=128&d=identicon&r=PG&f=1", "display_name": "Alice", "link": "https://stackoverflow.com/users/11472807/alice"}, "reply_to_user": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1557360743, "post_id": 56050468, "comment_id": 98742325, "body": "sorry, i tried reproduce use $.ajax() it show that error in console :)"}], "tags": [], "owner": {"reputation": 57, "user_id": 11472807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64fed584231adbfb7b5533bcfd231226?s=128&d=identicon&r=PG&f=1", "display_name": "Alice", "link": "https://stackoverflow.com/users/11472807/alice"}, "is_accepted": true, "score": 1, "last_activity_date": 1557360677, "last_edit_date": 1557360677, "creation_date": 1557360052, "answer_id": 56050468, "question_id": 56050450, "link": "https://stackoverflow.com/questions/56050450/how-to-fill-forms-using-an-api-having-associative-array/56050468#56050468", "title": "How to fill forms using an API having associative array?", "body": "<p>You need use console.log(data) for detail about data structure.</p>\n\n<p>I tried to reproduce with your JSON object, it worked.</p>\n\n<p>Also need add for ajax call</p>\n\n<pre><code>contentType: 'application/json',\n dataType: \"json\",\n</code></pre>\n\n<p>Updated:</p>\n\n<p>It will have issue with CORS when you use $.ajax()</p>\n\n<p>Try use <code>$.getJSON()</code>, it worked</p>\n\n<pre><code>    $.getJSON('https://interview.switchme.in/js/2019/builder_json.php',function(data){\n         //console.log(data);\n         $(\"#b1\").html(data[\"1\"]); \n})\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script&gt;\r\n\r\n      \r\n \r\n\r\n$.getJSON('https://interview.switchme.in/js/2019/builder_json.php',function(data){\r\n     //console.log(data);\r\n     $(\"#b1\").html(data[\"1\"]); \r\n})\r\n &lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;div class='builder_checkbox'&gt;\r\n        &lt;div&gt;Builders Filter 2&lt;/div&gt;\r\n        &lt;div id=\"b1\"&gt;&lt;input type=\"checkbox\"&gt;&lt;/div&gt;\r\n        &lt;div id=\"b2\"&gt;&lt;input type=\"checkbox\"&gt;&lt;/div&gt;\r\n        &lt;div id=\"b3\"&gt;&lt;input type=\"checkbox\"&gt;&lt;/div&gt;\r\n        &lt;div id=\"b4\"&gt;&lt;input type=\"checkbox\" checked&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1557360541, "post_id": 56050512, "comment_id": 98742288, "body": "Personally, I&#39;d use <code>dataType: &#39;json&#39;</code> or <code>$.getJSON()</code>. That way, if the parsing fails, it will fall through to the error / fail handler"}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "reply_to_user": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1557360557, "post_id": 56050512, "comment_id": 98742294, "body": "OK @Phil, I&#39;ll add that too."}, {"owner": {"reputation": 53, "user_id": 11472768, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aZvL3VfoB7A/AAAAAAAAAAI/AAAAAAAAAFM/ogsxSloVgKg/photo.jpg?sz=128", "display_name": "Hit2Mo", "link": "https://stackoverflow.com/users/11472768/hit2mo"}, "edited": false, "score": 0, "creation_date": 1557398023, "post_id": 56050512, "comment_id": 98755474, "body": "@JackBashford Thanks Jack. I was wondering whether there is a way I can use a for loop for looping all the values in the array to their corresponding checkboxes? Is that possible or do I have to repeat my code for each checkbox?"}], "tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": false, "score": 1, "last_activity_date": 1557360618, "last_edit_date": 1557360618, "creation_date": 1557360458, "answer_id": 56050512, "question_id": 56050450, "link": "https://stackoverflow.com/questions/56050450/how-to-fill-forms-using-an-api-having-associative-array/56050512#56050512", "title": "How to fill forms using an API having associative array?", "body": "<p>Your <code>$.ajax</code> is returning JSON, which is a string - you need to make the code treat it like a JavaScript object, so add <code>dataType: \"json\"</code> to the options object:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$.ajax({\r\n  type: 'GET',\r\n  url: 'https://interview.switchme.in/js/2019/builder_json.php',\r\n  dataType: \"json\",\r\n  success: function(data) {\r\n    $(\"#b1\").html(data[\"1\"]);\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class='builder_checkbox'&gt;\r\n  &lt;div&gt;Builders Filter 2&lt;/div&gt;\r\n  &lt;div id=\"b1\"&gt;&lt;input type=\"checkbox\"&gt;&lt;/div&gt;\r\n  &lt;div id=\"b2\"&gt;&lt;input type=\"checkbox\"&gt;&lt;/div&gt;\r\n  &lt;div id=\"b3\"&gt;&lt;input type=\"checkbox\"&gt;&lt;/div&gt;\r\n  &lt;div id=\"b4\"&gt;&lt;input type=\"checkbox\" checked&gt;&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 9273980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a67193e1290c9240705c7841fd618b31?s=128&d=identicon&r=PG&f=1", "display_name": "Necmettin", "link": "https://stackoverflow.com/users/9273980/necmettin"}, "is_accepted": false, "score": 0, "last_activity_date": 1557360633, "creation_date": 1557360633, "answer_id": 56050526, "question_id": 56050450, "link": "https://stackoverflow.com/questions/56050450/how-to-fill-forms-using-an-api-having-associative-array/56050526#56050526", "title": "How to fill forms using an API having associative array?", "body": "<p>Try this way:\n(And don't remember, javascript codes must be above of  tag)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;div class='builder_checkbox'&gt;\r\n        &lt;div&gt;Builders Filter 2&lt;/div&gt;\r\n        &lt;div id=\"b1\"&gt;&lt;input type=\"checkbox\"&gt;\r\n           &lt;span&gt;&lt;/span&gt; &lt;/div&gt;\r\n        &lt;div id=\"b2\"&gt;&lt;input type=\"checkbox\"&gt;            &lt;span&gt;&lt;/span&gt; \r\n       &lt;/div&gt;\r\n        &lt;div id=\"b3\"&gt;&lt;input type=\"checkbox\"&gt;            &lt;span&gt;&lt;/span&gt; \r\n       &lt;/div&gt;\r\n        &lt;div id=\"b4\"&gt;&lt;input type=\"checkbox\"checked&gt;\r\n           &lt;span&gt;&lt;/span&gt;\r\n       &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script&gt;\r\n      $.ajax({\r\n         type: 'GET',\r\n         url: 'https://interview.switchme.in/js/2019/builder_json.php',\r\n         success: function(value){\r\n            \r\n           var data = JSON.parse(value);\r\n            \r\n  \r\n                 $(\"#b1 span\").text(data[\"1\"]);\r\n              $(\"#b2 span\").text(data[\"2\"]);\r\n              $(\"#b3 span\").text(data[\"3\"]);\r\n              $(\"#b4 span\").text(data[\"4\"]);\r\n            \r\n         }\r\n      });\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 53, "user_id": 11472768, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aZvL3VfoB7A/AAAAAAAAAAI/AAAAAAAAAFM/ogsxSloVgKg/photo.jpg?sz=128", "display_name": "Hit2Mo", "link": "https://stackoverflow.com/users/11472768/hit2mo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 1, "accepted_answer_id": 56050468, "answer_count": 3, "score": 1, "last_activity_date": 1557360677, "creation_date": 1557359834, "last_edit_date": 1557360496, "question_id": 56050450, "link": "https://stackoverflow.com/questions/56050450/how-to-fill-forms-using-an-api-having-associative-array", "title": "How to fill forms using an API having associative array?", "body": "<p>I need to use Jquery and AJAX to access an API which has this associative array-</p>\n\n<pre><code>{\"1\":\"alamiz builder\",\"2\":\"souroy builder\",\"3\":\"vin selv builder\",\"4\":\"gol mat builder\",\"5\":\"sm dev builder\",\"6\":\"zahi builder\"}*\n</code></pre>\n\n<p>Because this array has numbers as keys, I am having a hard time displaying each value in a form element.</p>\n\n<p>I have tried using <code>$(selector).html(data[\"1\"])</code> but this is just displaying the first character of the data.</p>\n\n<p>My current code is-</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n      $.ajax({\n         type: 'GET',\n         url: 'https://interview.switchme.in/js/2019/builder_json.php',\n         success: function(data){\n                 $(\"#b1\").html(data[\"1\"]);    \n         }\n      });\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class='builder_checkbox'&gt;\n        &lt;div&gt;Builders Filter 2&lt;/div&gt;\n        &lt;div id=\"b1\"&gt;&lt;input type=\"checkbox\"&gt;&lt;/div&gt;\n        &lt;div id=\"b2\"&gt;&lt;input type=\"checkbox\"&gt;&lt;/div&gt;\n        &lt;div id=\"b3\"&gt;&lt;input type=\"checkbox\"&gt;&lt;/div&gt;\n        &lt;div id=\"b4\"&gt;&lt;input type=\"checkbox\" checked&gt;&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I expect that the checkboxes display all the data from the API dynamically.\nIn such a way-</p>\n\n<pre><code>&lt;div id=\"b1\"&gt;&lt;input type=\"checkbox\"&gt;alamiz builder&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "dom-events"], "answers": [{"tags": [], "owner": {"reputation": 1890, "user_id": 1573267, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/62cc057e89a0cbb0ce77b603b3b4926e?s=128&d=identicon&r=PG", "display_name": "Masoud Keshavarz", "link": "https://stackoverflow.com/users/1573267/masoud-keshavarz"}, "is_accepted": false, "score": 0, "last_activity_date": 1557381932, "creation_date": 1557381932, "answer_id": 56053110, "question_id": 56050440, "link": "https://stackoverflow.com/questions/56050440/dropdown-selection-loads-image-and-another-dropdown-menu-loads-info-on-another-c/56053110#56053110", "title": "Dropdown selection loads image and another dropdown menu loads info on another column", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.getElementsByTagName('select')[0].onchange = function() {\r\n\r\n  var elements = document.getElementsByClassName(\"toggleContent\");\r\n  \r\n  for(var i = 0, length = elements.length; i &lt; length; i++) {\r\n      elements[i].style.display = 'none';\r\n  }  \r\n  \r\n  var value = this.options[this.selectedIndex].value;\r\n  \r\n  document.getElementById(value).style.display = \"block\";\r\n  \r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.toggleContent{\r\n  display:none;\r\n}\r\n\r\n.defaultContent{\r\n  display:block;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"row\"&gt;\r\n\t&lt;select&gt;\r\n\t\t&lt;option value=\"1\"&gt;Please select an author:&lt;/option&gt;\r\n\t\t&lt;option value=\"2\"&gt;Gillian Flynn&lt;/option&gt;\r\n\t\t&lt;option value=\"3\"&gt;Robert Galbraith&lt;/option&gt;\r\n\t\t&lt;option value=\"4\"&gt;Khaled Hosseini&lt;/option&gt;\r\n\t&lt;/select&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div id=\"1\" class=\"toggleContent defaultContent\"&gt;11111111111111111111&lt;/div&gt;\r\n&lt;div id=\"2\" class=\"toggleContent\"&gt;22222222222222222222&lt;/div&gt;\r\n&lt;div id=\"3\" class=\"toggleContent\"&gt;33333333333333333333&lt;/div&gt;\r\n&lt;div id=\"4\" class=\"toggleContent\"&gt;44444444444444444444&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 11416209, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gbsUZ2Hduek/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf_GD_B_X-26KOYOmaQAS8TZt84Sw/mo/photo.jpg?sz=128", "display_name": "bazooka", "link": "https://stackoverflow.com/users/11416209/bazooka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1557568383, "creation_date": 1557359740, "last_edit_date": 1557568383, "question_id": 56050440, "link": "https://stackoverflow.com/questions/56050440/dropdown-selection-loads-image-and-another-dropdown-menu-loads-info-on-another-c", "title": "Dropdown selection loads image and another dropdown menu loads info on another column", "body": "<p>I have to make a dropdown menu in which selection of an option loads an image under it, and it also shows another dropdown menu under the image with options related to the selection. \nNow this second dropdown menu, when I select an option, I need an image and some info to load in another column on the same page. I'm new to JS so a bit too ignorant. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"row\"&gt;\r\n\t&lt;select&gt;\r\n\t\t&lt;option value=\"1\"&gt;Please select an author:&lt;/option&gt;\r\n\t\t&lt;option value=\"2\"&gt;Gillian Flynn&lt;/option&gt;\r\n\t\t&lt;option value=\"3\"&gt;Robert Galbraith&lt;/option&gt;\r\n\t\t&lt;option value=\"4\"&gt;Khaled Hosseini&lt;/option&gt;\r\n\t&lt;/select&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "variables", "ecmascript-6"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557359594, "post_id": 56050413, "comment_id": 98742114, "body": "There&#39;s no difference between them. All the declaration statements allow you to declare multiple variables, separating them with comma."}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1557359862, "post_id": 56050413, "comment_id": 98742181, "body": "Note that the second example is equivalent to <code>const num1 = 1, num2 = 2, num3 = 3;</code>. It is just formatted on multiple lines. Usually when formatting like this, the comma is at the end of each line instead of the beginning."}], "answers": [{"tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": false, "score": 2, "last_activity_date": 1557359679, "creation_date": 1557359679, "answer_id": 56050429, "question_id": 56050413, "link": "https://stackoverflow.com/questions/56050413/is-the-use-of-comma-instead-of-a-proper-variable-definition-like-const-var/56050429#56050429", "title": "Is the use of , (comma) instead of a proper variable definition like const, var or let, in a chain of declarations, a good JS practice?", "body": "<p>There's actually no difference, as long as you know that the comma syntax keeps the kind of variable (block scoping, constant) the same all the way through. So this:</p>\n\n<pre><code>const num1 = 1;\nconst num2 = 2;\nconst num3 = 3;\n</code></pre>\n\n<p>Is exactly the same as this:</p>\n\n<pre><code>const num1 = 1,\n  num2 = 2,\n  num3 = 3;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 57, "user_id": 11472807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64fed584231adbfb7b5533bcfd231226?s=128&d=identicon&r=PG&f=1", "display_name": "Alice", "link": "https://stackoverflow.com/users/11472807/alice"}, "is_accepted": true, "score": 1, "last_activity_date": 1557359706, "creation_date": 1557359706, "answer_id": 56050433, "question_id": 56050413, "link": "https://stackoverflow.com/questions/56050413/is-the-use-of-comma-instead-of-a-proper-variable-definition-like-const-var/56050433#56050433", "title": "Is the use of , (comma) instead of a proper variable definition like const, var or let, in a chain of declarations, a good JS practice?", "body": "<p>It is totally equivalent same.</p>\n\n<p>You can refer <strong>Declaring and initializing two variables</strong></p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var</a></p>\n"}, {"tags": [], "owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "is_accepted": false, "score": 0, "last_activity_date": 1616493725, "last_edit_date": 1616493725, "creation_date": 1557360013, "answer_id": 56050464, "question_id": 56050413, "link": "https://stackoverflow.com/questions/56050413/is-the-use-of-comma-instead-of-a-proper-variable-definition-like-const-var/56050464#56050464", "title": "Is the use of , (comma) instead of a proper variable definition like const, var or let, in a chain of declarations, a good JS practice?", "body": "<p>Note that the second example is equivalent to</p>\n<pre><code>const num1 = 1, num2 = 2, num3 = 3;\n</code></pre>\n<p>This makes it clear that you are just declaring a list of variables separated with a comma. Traditionally, this is formatted as</p>\n<pre><code>const num1 = 1,\n      num2 = 2,\n      num3 = 3;\n</code></pre>\n<p>Note that here the comma is at the end of the line. You just happened to stumble on this a slightly different form of this same thing.</p>\n"}], "owner": {"reputation": 25, "user_id": 11317744, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rS2bVlzFXL0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcRHOdYe3uOFjsUEWeKkTB1FBHSnQ/mo/photo.jpg?sz=128", "display_name": "VyTor BrB", "link": "https://stackoverflow.com/users/11317744/vytor-brb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 308, "favorite_count": 1, "closed_date": 1557360746, "accepted_answer_id": 56050433, "answer_count": 3, "score": 1, "last_activity_date": 1616493747, "creation_date": 1557359464, "last_edit_date": 1616493747, "question_id": 56050413, "link": "https://stackoverflow.com/questions/56050413/is-the-use-of-comma-instead-of-a-proper-variable-definition-like-const-var", "closed_reason": "Duplicate", "title": "Is the use of , (comma) instead of a proper variable definition like const, var or let, in a chain of declarations, a good JS practice?", "body": "<p>i've recently discovered that i can use <code>,</code> (comma) instead of declaring the variable properly like <code>const num1</code>, when in a chain mode, what i want to know is if there is any side effects in using it?</p>\n\n<p>the std way => </p>\n\n<pre><code>const num1 = 1\nconst num2 = 2\nconst num3 = 3\n</code></pre>\n\n<p>The , way => </p>\n\n<pre><code>const num1 = 1\n, num2 = 2\n, num3 = 3\n</code></pre>\n\n<p>! the console shows no syntax error on both of them !</p>\n"}, {"tags": ["javascript", "onclick"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557359155, "post_id": 56050321, "comment_id": 98742050, "body": "Is there any error in the console?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557359273, "post_id": 56050321, "comment_id": 98742071, "body": "Why is <code>changeExpression()</code> loading both files itself and then also calling <code>loadScript()</code> to load just one of them? Why do you have the <code>js&#47;</code> directory in one case?"}, {"owner": {"reputation": 45, "user_id": 11039464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89b44849ee8c7e6858aaf8dcc0c98db7?s=128&d=identicon&r=PG&f=1", "display_name": "Megan", "link": "https://stackoverflow.com/users/11039464/megan"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557360437, "post_id": 56050321, "comment_id": 98742275, "body": "Checking the console... it looks like when I load the page, and when I click the two options, there are errors saying &quot;Map container is already initialized.&quot; Good catch with the <code>js&#47;</code> directory, that had been an oversight."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557360651, "post_id": 56050321, "comment_id": 98742311, "body": "Sounds like the problem is in the code for the two expressions. They both try to create an object, and the code that creates it is designed to be run only once."}], "answers": [{"tags": [], "owner": {"reputation": 451, "user_id": 11053566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4333504b8fe2ba1414fc3cd9e1d6433?s=128&d=identicon&r=PG&f=1", "display_name": "mtm", "link": "https://stackoverflow.com/users/11053566/mtm"}, "is_accepted": false, "score": 0, "last_activity_date": 1557362953, "last_edit_date": 1557362953, "creation_date": 1557361966, "answer_id": 56050659, "question_id": 56050321, "link": "https://stackoverflow.com/questions/56050321/how-to-load-different-javascript-files-based-on-input/56050659#56050659", "title": "How to Load Different Javascript Files Based on Input", "body": "<ul>\n<li>Missing a semi-colon at end of line <code>loadScript(\"main_heat.js\")</code></li>\n<li>Check the paths to your scripts because they're different (in one place you omit the directory) and therefore are likely not found</li>\n<li>Check the console for any error like <code>net::ERR_ABORTED 404 (Not Found)</code></li>\n<li>Consider adding code to check if script is already appended because every click will append it again</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 11039464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89b44849ee8c7e6858aaf8dcc0c98db7?s=128&d=identicon&r=PG&f=1", "display_name": "Megan", "link": "https://stackoverflow.com/users/11039464/megan"}, "edited": false, "score": 1, "creation_date": 1557375774, "post_id": 56051158, "comment_id": 98745197, "body": "The second solution worked! Thank you! Just had to add <code>map.off()</code> and <code>map.remove()</code> to get everything to show up."}, {"owner": {"reputation": 207, "user_id": 2703920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBI3M.jpg?s=128&g=1", "display_name": "Arosha", "link": "https://stackoverflow.com/users/2703920/arosha"}, "reply_to_user": {"reputation": 45, "user_id": 11039464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89b44849ee8c7e6858aaf8dcc0c98db7?s=128&d=identicon&r=PG&f=1", "display_name": "Megan", "link": "https://stackoverflow.com/users/11039464/megan"}, "edited": false, "score": 1, "creation_date": 1557376844, "post_id": 56051158, "comment_id": 98745481, "body": "Great! Welcome. Is it required any map.off() or map.remove() in my answer? If so please correct."}], "tags": [], "owner": {"reputation": 207, "user_id": 2703920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBI3M.jpg?s=128&g=1", "display_name": "Arosha", "link": "https://stackoverflow.com/users/2703920/arosha"}, "is_accepted": true, "score": 0, "last_activity_date": 1557431471, "last_edit_date": 1557431471, "creation_date": 1557366967, "answer_id": 56051158, "question_id": 56050321, "link": "https://stackoverflow.com/questions/56050321/how-to-load-different-javascript-files-based-on-input/56051158#56051158", "title": "How to Load Different Javascript Files Based on Input", "body": "<p>There are couple of ways you can achieve what you want if you need to run different scripts based on 'onClick'.</p>\n\n<ol>\n<li>If the size of Js files does not matter best way is to add Js files with script tags in the 'index.html' file as below.</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;title&gt;Title of the document&lt;/title&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;div id =\"expression\"&gt;\r\n      &lt;h4&gt;Choose your expression&lt;/h4&gt;\r\n      &lt;a href=\"#\" onclick=\"changeExpression('heat');\"&gt;Heatmap&lt;/a&gt; |\r\n      &lt;a href=\"#\" onclick=\"changeExpression('prop');\"&gt;Proportional Symbols&lt;/a&gt;\r\n  &lt;/div&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;!--EXTERNAL SCRIPT LINKS--&gt;\r\n&lt;script type=\"text/javascript\" src=\"js/main_heat.js\"&gt;&lt;/script&gt;\r\n&lt;script type=\"text/javascript\" src=\"js/main.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ol start=\"2\">\n<li>In case you need to add those two scripts based on onClick, You can do it with a simple function as follows.</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;title&gt;Title of the document&lt;/title&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;div id =\"expression\"&gt;\r\n      &lt;h4&gt;Choose your expression&lt;/h4&gt;\r\n      &lt;a href=\"#\" onclick=\"changeExpression('heat');\"&gt;Heatmap&lt;/a&gt; |\r\n      &lt;a href=\"#\" onclick=\"changeExpression('prop');\"&gt;Proportional Symbols&lt;/a&gt;\r\n  &lt;/div&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;script type=\"text/javascript\"&gt;\r\n  let changeExpression = function (type) {\r\n    let elem = document.createElement(\"script\");\r\n    \r\n    if (type === 'heat') {\r\n      elem.src = \"js/main_heat.js\";\r\n    } else {\r\n      elem.src = \"js/main.js\";\r\n    }\r\n    map.off();\r\n    map.remove();\r\n    document.body.appendChild(elem);\r\n  }\r\n&lt;/script&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 45, "user_id": 11039464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89b44849ee8c7e6858aaf8dcc0c98db7?s=128&d=identicon&r=PG&f=1", "display_name": "Megan", "link": "https://stackoverflow.com/users/11039464/megan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "accepted_answer_id": 56051158, "answer_count": 2, "score": 1, "last_activity_date": 1557431471, "creation_date": 1557358481, "question_id": 56050321, "link": "https://stackoverflow.com/questions/56050321/how-to-load-different-javascript-files-based-on-input", "title": "How to Load Different Javascript Files Based on Input", "body": "<p>I'm working on a map that will allow the user to select one of two expressions of a dataset and toggle between them. Each expressions is set up in its own .js (main_heat.js for a heatmap, main.js for proportional symbols). </p>\n\n<p>My issue is setting up controls in my index.html file that will and load the selected expression based on a click. The following code doesn't throw errors, but doesn't produce the result (reloading a different expression) that I am expecting:</p>\n\n<p>index.html:</p>\n\n<pre><code>&lt;div id =\"expression\"&gt;\n    &lt;h4&gt;Choose your expression&lt;/h4&gt;\n    &lt;a href=\"#\" onclick=\"changeExpression('heat');\"&gt;Heatmap&lt;/a&gt; |\n    &lt;a href=\"#\" onclick=\"changeExpression('prop');\"&gt;Proportional Symbols&lt;/a&gt;\n&lt;/div&gt;\n&lt;!--EXTERNAL SCRIPT LINKS--&gt;\n&lt;script type=\"text/javascript\" src=\"js/main_heat.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"js/main.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>main.js:</p>\n\n<pre><code>function changeExpression(src){\n    var heat = document.createElement(\"script\");\n        heat.src = \"js/main_heat.js\";\n        document.body.appendChild(heat);\n    var prop = document.createElement(\"script\");\n        prop.src = \"js/main.js\";\n        document.body.appendChild(prop);\n\n    if (src === \"heat\"){\n        loadScript(\"main_heat.js\")\n    } else if (src === \"prop\"){\n        loadScript(\"main.js\");\n    }\n};\n\nfunction loadScript(src){\n    var el = document.createElement(\"script\");\n    el.src = src;\n    document.body.appendChild(el);\n}\n</code></pre>\n\n<p>Both <code>changeExpression</code> and <code>loadScript</code> are called in an initial callback function in main.js, and I'm struggling to see why the \"onclick\" in index.html doesn't produce a change. Does anybody see where I'm going wrong or have an insight on what might be causing this?</p>\n"}, {"tags": ["javascript", "ecmascript-6"], "comments": [{"owner": {"reputation": 3393, "user_id": 214143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61025b3df4700620a5d9099293f23a5d?s=128&d=identicon&r=PG", "display_name": "Jason Aller", "link": "https://stackoverflow.com/users/214143/jason-aller"}, "edited": false, "score": 0, "creation_date": 1557358561, "post_id": 56050310, "comment_id": 98741922, "body": "I don&#39;t see the use of destructuring in your code: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#Assigning_to_new_variable_names\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "edited": false, "score": 0, "creation_date": 1557361766, "post_id": 56050310, "comment_id": 98742505, "body": "He is using desructuring in the paramaters ({weight,height,country})"}, {"owner": {"reputation": 3, "user_id": 11461752, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-s2p_wGuaEq0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reH2ZnKl5oeQfmvoDShRClB-_xt7w/mo/photo.jpg?sz=128", "display_name": "Jordan kayinamura", "link": "https://stackoverflow.com/users/11461752/jordan-kayinamura"}, "edited": false, "score": 0, "creation_date": 1557390877, "post_id": 56050310, "comment_id": 98751367, "body": "is there a better way to do it?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11461752, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-s2p_wGuaEq0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reH2ZnKl5oeQfmvoDShRClB-_xt7w/mo/photo.jpg?sz=128", "display_name": "Jordan kayinamura", "link": "https://stackoverflow.com/users/11461752/jordan-kayinamura"}, "edited": false, "score": 0, "creation_date": 1557361727, "post_id": 56050587, "comment_id": 98742499, "body": "<code>const letsCalculateBMI = ()  =&gt;{         let query = document.querySelector(&#39;select&#39;);         let user = getSelectedUser(query.value);         let bmi=computeBMI(user);         console.log(bmi);         document.querySelector(&#39;#bi&#39;).innerHTML=bmi;            }\t;</code> this is how am calling the function"}], "tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": false, "score": 0, "last_activity_date": 1557361673, "last_edit_date": 1557361673, "creation_date": 1557361213, "answer_id": 56050587, "question_id": 56050310, "link": "https://stackoverflow.com/questions/56050310/how-to-create-a-computebmi-arrow-function-that-expects-a-user-parameter-but-imm/56050587#56050587", "title": "how to create a computeBMI arrow function that expects a user parameter, but immediately destructures it in weight,height,country", "body": "<p>How are you calling the function? When using destructuring you need to pass in an object.</p>\n\n<pre><code>computeBMI({ weight: 120, height: 1.6, country: 'Sierra Leone' });\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const computeBMI = ({weight,height,country}) =&gt;{\r\n  const countries = ['Chad', 'Sierra Leone', 'Mali', 'Gambia', 'Uganda', 'Ghana', 'Senegal', 'Somalia', 'Ivory Coast', 'Israel'];\r\n  const nuser = {\r\n\r\n    weight: weight,\r\n\r\n    height:height,\r\n\r\n    country: country\r\n\r\n  };\r\n  \r\n  let meter= height*0.3048;\r\n  \r\n  for(let c in countries){\r\n\r\n    if(countries[c] === country) return (weight/(meter**2))*0.82;\r\n  }\r\n  return (weight/(meter**2));\r\n}\r\n\r\nconst bmi = computeBMI({ weight: 120, height: 1.6, country: 'Sierra Leone' });\r\n\r\nconsole.log(bmi);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3, "user_id": 11461752, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-s2p_wGuaEq0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reH2ZnKl5oeQfmvoDShRClB-_xt7w/mo/photo.jpg?sz=128", "display_name": "Jordan kayinamura", "link": "https://stackoverflow.com/users/11461752/jordan-kayinamura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557361673, "creation_date": 1557358334, "question_id": 56050310, "link": "https://stackoverflow.com/questions/56050310/how-to-create-a-computebmi-arrow-function-that-expects-a-user-parameter-but-imm", "title": "how to create a computeBMI arrow function that expects a user parameter, but immediately destructures it in weight,height,country", "body": "<p>i want to create a computeBMI arrow function and pass it a parameter of a user object, i tried the destructuring method but i still have the same error \" Your BMI calculation is not correct. Review the instructions and continue.\" here is what i did.</p>\n\n<pre><code>const computeBMI = ({weight,height,country}) =&gt;{\n        const countries = ['Chad', 'Sierra Leone', 'Mali', 'Gambia', 'Uganda', 'Ghana', 'Senegal', 'Somalia', 'Ivory Coast', 'Israel'];\n        const nuser = {\n\n          weight: weight,\n\n          height:height,\n\n          country: country\n\n        }; let meter= height*0.3048;\n         for(let c in countries){\n\n           if(countries[c] === country) return (weight/(meter**2))*0.82;\n         }\n        return (weight/(meter**2));\n      }\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "redux-saga"], "comments": [{"owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "edited": false, "score": 0, "creation_date": 1557358717, "post_id": 56050303, "comment_id": 98741950, "body": "Typically you&#39;d have the value be in the redux store and consumed by your component via props. The saga can then handle updating this value. Is there a reason you want to have <code>department</code> be in the component&#39;s local state rather than in the redux store?"}, {"owner": {"reputation": 245, "user_id": 6767327, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1491523077540299/picture?type=large", "display_name": "Sonson Ixon", "link": "https://stackoverflow.com/users/6767327/sonson-ixon"}, "reply_to_user": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "edited": false, "score": 0, "creation_date": 1557358885, "post_id": 56050303, "comment_id": 98741981, "body": "I dont really like putting all my states in the redux store. Especially states for inputs like this that will only be use one time. I rather use the local state for this. I&#39;ve already tried that but Im thinking what if I have several forms using the same field, that would flood my redux store with same states."}, {"owner": {"reputation": 9953, "user_id": 8012206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/z0Yl9.jpg?s=128&g=1", "display_name": "Joseph D.", "link": "https://stackoverflow.com/users/8012206/joseph-d"}, "edited": false, "score": 0, "creation_date": 1557970248, "post_id": 56050303, "comment_id": 98947578, "body": "If <code>department</code> is a local state, why bother dispatching an action to redux-saga? Sagas purpose is to make sure side effects are properly managed when an action is dispatched that will affect the store."}], "answers": [{"comments": [{"owner": {"reputation": 245, "user_id": 6767327, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1491523077540299/picture?type=large", "display_name": "Sonson Ixon", "link": "https://stackoverflow.com/users/6767327/sonson-ixon"}, "edited": false, "score": 0, "creation_date": 1557362389, "post_id": 56050409, "comment_id": 98742607, "body": "Thanks for the insight. Will try this in a minute."}], "tags": [], "owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "is_accepted": false, "score": 0, "last_activity_date": 1557359885, "last_edit_date": 1557359885, "creation_date": 1557359433, "answer_id": 56050409, "question_id": 56050303, "link": "https://stackoverflow.com/questions/56050303/how-to-clear-local-state-after-dispatching-a-success-action-in-redux-saga/56050409#56050409", "title": "How to clear local state after dispatching a success action in redux saga?", "body": "<p>The approach i usually take with this is to have the saga update a value in the redux store, and have the component check for that change. This may include running some code in componentDidUpdate.</p>\n\n<p>If you'd like to avoid adding things to the store, i can think of another possibility, albeit a bit of a combersome one: you could create a promise and pass its resolve and reject methods as part of the action you dispatch. Then in the saga, it could call those to resolve the promise. For example:</p>\n\n<pre><code>export function* addDepartment(action) {\n  const { department, resolve, reject } = action;\n  try {\n    // do something async with department\n    resolve();\n  } catch (ex) {\n    reject(ex);\n  }\n}\n</code></pre>\n\n<p>To be used in the component's mapDispatchToProps like this:</p>\n\n<pre><code>const mapDispatchToProps = (dispatch) =&gt; ({\n  add: (department) =&gt; {\n    return new Promise((resolve, reject) =&gt; {\n      dispatch({ type: 'ADD', department, resolve, reject });\n    });\n  }\n});\n</code></pre>\n\n<p>... and in the component proper like this:</p>\n\n<pre><code>this.props.add('some department')\n  .then(() =&gt; this.setState({ department: '' })\n  .catch((err) =&gt; console.log('an error occurred', err));\n</code></pre>\n"}], "owner": {"reputation": 245, "user_id": 6767327, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1491523077540299/picture?type=large", "display_name": "Sonson Ixon", "link": "https://stackoverflow.com/users/6767327/sonson-ixon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 481, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557359885, "creation_date": 1557358281, "question_id": 56050303, "link": "https://stackoverflow.com/questions/56050303/how-to-clear-local-state-after-dispatching-a-success-action-in-redux-saga", "title": "How to clear local state after dispatching a success action in redux saga?", "body": "<p>Im trying to clear my component state after a successful call in redux saga. How do I do it?</p>\n\n<p>Im trying to use the component state for my input value</p>\n\n<pre><code>this.state = {\n    department: '',\n};\n</code></pre>\n\n<p>My current solution looks like this;</p>\n\n<pre><code>add(department).then(action =&gt; {\n    if(action.type.endsWith('SUCCESS')) {\n       this.setState({department: ''})\n    }\n})\n</code></pre>\n\n<p>Im trying to clear my input after a success call in saga.</p>\n"}, {"tags": ["javascript", "ab-testing", "google-optimize"], "comments": [{"owner": {"reputation": 1412, "user_id": 5168457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb51d358a087b9c63c2f47c00da965f?s=128&d=identicon&r=PG&f=1", "display_name": "kgrg", "link": "https://stackoverflow.com/users/5168457/kgrg"}, "edited": false, "score": 0, "creation_date": 1557377761, "post_id": 56050298, "comment_id": 98745702, "body": "Based on experience, I&#39;d say no, but I have no documentation to support this. How would Optimize know the variant-API value mapping to return, which you would set up yourself in your code? I&#39;m not aware of any ways to feed such data into Optimize."}, {"owner": {"reputation": 2538, "user_id": 820119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72c7712c49c633aff2b3ef4e51451c01?s=128&d=identicon&r=PG", "display_name": "Will Reese", "link": "https://stackoverflow.com/users/820119/will-reese"}, "reply_to_user": {"reputation": 1412, "user_id": 5168457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb51d358a087b9c63c2f47c00da965f?s=128&d=identicon&r=PG&f=1", "display_name": "kgrg", "link": "https://stackoverflow.com/users/5168457/kgrg"}, "edited": false, "score": 0, "creation_date": 1557383826, "post_id": 56050298, "comment_id": 98747803, "body": "I was hoping that I might be able to indicate the layoutId as a property of a variation that would be exposed to my callback."}, {"owner": {"reputation": 359, "user_id": 458627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/086b200160db05b061153360fcb326fc?s=128&d=identicon&r=PG", "display_name": "Robert Kingston", "link": "https://stackoverflow.com/users/458627/robert-kingston"}, "edited": false, "score": 0, "creation_date": 1573188880, "post_id": 56050298, "comment_id": 103808264, "body": "You might do better to use a client side assignment library like <a href=\"https://mojito.mx/\" rel=\"nofollow noreferrer\">mojito.mx</a> or roll the assignment logic yourself and then report exposures back to Google Optimize through its API: <a href=\"https://ga-dev-tools.appspot.com/dimensions-metrics-explorer/?#ga:experimentCombination\" rel=\"nofollow noreferrer\">ga-dev-tools.appspot.com/dimensions-metrics-explorer/&hellip;</a> ... then you won&#39;t have to wait for the API to return a response."}], "owner": {"reputation": 2538, "user_id": 820119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/72c7712c49c633aff2b3ef4e51451c01?s=128&d=identicon&r=PG", "display_name": "Will Reese", "link": "https://stackoverflow.com/users/820119/will-reese"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 204, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557358210, "creation_date": 1557358210, "question_id": 56050298, "link": "https://stackoverflow.com/questions/56050298/getting-api-parameter-data-from-google-optimize", "title": "Getting API Parameter Data from Google Optimize", "body": "<p>Is there a way to get Google Optimize to return specific data values or even JSON objects for use with experiment callbacks?</p>\n\n<p>We are using Google Optimize without using the visual editor. Instead, we simply want it to indicate which layout pattern to request from a separate API we set up a long time ago.</p>\n\n<pre><code>function gtag() {dataLayer.push(arguments)}\n\nfunction implementExperimentA(value) {\n  if (value ==  '0') {\n    // Provide code for visitors in the original.\n  } else if (value == '1') {\n    // Provide code for visitors in first variant.\n  } else if (value == '2') {\n    // Provide code for visitors in section variant.\n  }\n  ...\n}\n\ngtag('event', 'optimize.callback', {\n    name: '&lt;experiment_id_A&gt;',\n    callback: implementExperimentA\n });\n</code></pre>\n\n<p>This code example is everywhere and basically what I want to use, but instead of <code>value==1</code> etc, I want to to be able to use <code>value</code> as a request parameter.</p>\n\n<pre><code>$.get(url, {layoutId: value});\n</code></pre>\n\n<p>LayoutIds are not integers however. They are unique strings. So again, my question: Is there a way to get Google Optimize to return specific data values or even JSON objects for use with experiment callbacks? Or do I need to map all the Experiment indexes to their correlating API parameter values within my javascript code?</p>\n"}, {"tags": ["javascript", "leaflet", "requirejs"], "comments": [{"owner": {"reputation": 1746, "user_id": 5045467, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5f7350b4b36f235f103cb09e25f87915?s=128&d=identicon&r=PG&f=1", "display_name": "CascadiaJS", "link": "https://stackoverflow.com/users/5045467/cascadiajs"}, "edited": false, "score": 0, "creation_date": 1557359257, "post_id": 56050289, "comment_id": 98742068, "body": "Are you declaring <code>L</code> somewhere else in your code? In your code you show you&#39;re calling <code>.map</code> on <code>L</code>, but it&#39;s not declared, so the error is correct <code>L</code> is not defined."}, {"owner": {"reputation": 5251, "user_id": 551436, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9f3ca1db737cdb15bbded04d021da48a?s=128&d=identicon&r=PG", "display_name": "arthurakay", "link": "https://stackoverflow.com/users/551436/arthurakay"}, "edited": false, "score": 0, "creation_date": 1557365360, "post_id": 56050289, "comment_id": 98743195, "body": "Have you tried googling that error message? I did a moment ago and found more than a handful (for example, <a href=\"https://github.com/Leaflet/Leaflet/issues/6238\" rel=\"nofollow noreferrer\">this one</a>) but not knowing more about your app I can&#39;t say exactly which post would point you in the right direction."}, {"owner": {"reputation": 11, "user_id": 11472693, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4hE2UZ_oW2E/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf4uit9rug4oyDeWufFDjkALyA7yQ/mo/photo.jpg?sz=128", "display_name": "yurwd", "link": "https://stackoverflow.com/users/11472693/yurwd"}, "edited": false, "score": 0, "creation_date": 1557385413, "post_id": 56050289, "comment_id": 98748522, "body": "I&#39;m not declaring L anywhere. L.map is a leaflet function to initialize the map, and it&#39;s working, I&#39;m not getting the error on this line. The error &quot;L is not defined&quot; in console refers to the line in &quot;PruneCluster.js&quot; file."}, {"owner": {"reputation": 11, "user_id": 11472693, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4hE2UZ_oW2E/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf4uit9rug4oyDeWufFDjkALyA7yQ/mo/photo.jpg?sz=128", "display_name": "yurwd", "link": "https://stackoverflow.com/users/11472693/yurwd"}, "edited": false, "score": 0, "creation_date": 1557386000, "post_id": 56050289, "comment_id": 98748807, "body": "And of course, I&#39;ve tried to googling information about that error message. But there&#39;s a difference between situations: in most of the topics that I found on google or on StackOverflow, people have problems with referring to L from their own code, and in my code it works (for example L.map works fine), error appears only when there&#39;s a calling to L from clustering plugin code. Regardless, I&#39;ve also tried some of the solutions that I found on google (for example, I&#39;ve already tried to include an older version of leaflet or import it with cdn instead of including it locally via requirejs)."}], "owner": {"reputation": 11, "user_id": 11472693, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4hE2UZ_oW2E/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf4uit9rug4oyDeWufFDjkALyA7yQ/mo/photo.jpg?sz=128", "display_name": "yurwd", "link": "https://stackoverflow.com/users/11472693/yurwd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 896, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1557358146, "creation_date": 1557358146, "question_id": 56050289, "link": "https://stackoverflow.com/questions/56050289/referenceerror-l-is-not-defined-with-leaflet-clustering-plugins", "title": "&quot;ReferenceError: L is not defined&quot; with leaflet clustering plugins", "body": "<p>I've made the map that contains multiple markers and some of them have identical coordinates so I can see only one of them.\nI've been looking for a solution to this problem and find a few clustering plugins for leaflet (like leaflet.markercluster or PruneCluster) and I've tried to use some of them, but every time I got an error \"ReferenceError: L is not defined\"  within plugin code.</p>\n\n<p>First of all I'm including libraries and files:</p>\n\n<pre><code>$('head').append('&lt;link type=\"text/css\" rel=\"stylesheet\" href=\"/upl/' + w_code + '/widget/style.css\" &gt;');\n$('head').append('&lt;link type=\"text/css\" rel=\"stylesheet\" href=\"/upl/' + w_code + '/widget/libraries/leaflet.css\" &gt;');\n$('head').append('&lt;script data-main=\"scripts/main\" src=\"/upl/' + w_code + '/widget/libraries/require.js\"&gt;&lt;/script&gt;');\nrequirejs([\"/upl/\" + w_code + \"/widget/libraries/leaflet.js\"], function (leaflet) {});\nrequirejs([\"/upl/\" + w_code + \"/widget/libraries/PruneCluster.js\"], function (PruneCluster) {});\n</code></pre>\n\n<p>Later in code, I'm trying to initialize map and add the markers (mapMarkers object):</p>\n\n<pre><code>map = L.map('popup-map').setView([55.7504461, 37.6174943], 11);\n\nvar pruneCluster = new PruneClusterForLeaflet();\n\nmapMarkers.forEach(function (element) {\n  var marker = new PruneCluster.Marker(element.coords);\n  pruneCluster.RegisterMarker(marker);\n});\n\nmap.addLayer(pruneCluster);\n</code></pre>\n"}, {"tags": ["javascript", "vue.js", "nativescript"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 11182013, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GToFUfCJuX8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd4GmUtTyhUr2DXRbiIygoH4cnEJQ/mo/photo.jpg?sz=128", "display_name": "KarolekMasterek", "link": "https://stackoverflow.com/users/11182013/karolekmasterek"}, "edited": false, "score": 0, "creation_date": 1557360161, "post_id": 56050228, "comment_id": 98742226, "body": "so validator would contain more objects"}, {"owner": {"reputation": 1505, "user_id": 2634447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IqpKe.jpg?s=128&g=1", "display_name": "Dimitri Mockelyn", "link": "https://stackoverflow.com/users/2634447/dimitri-mockelyn"}, "reply_to_user": {"reputation": 37, "user_id": 11182013, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GToFUfCJuX8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd4GmUtTyhUr2DXRbiIygoH4cnEJQ/mo/photo.jpg?sz=128", "display_name": "KarolekMasterek", "link": "https://stackoverflow.com/users/11182013/karolekmasterek"}, "edited": false, "score": 0, "creation_date": 1557410088, "post_id": 56050228, "comment_id": 98762280, "body": "I edited my answer to take into account this usecase, but the principles behind it are the same :)"}], "tags": [], "owner": {"reputation": 1505, "user_id": 2634447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IqpKe.jpg?s=128&g=1", "display_name": "Dimitri Mockelyn", "link": "https://stackoverflow.com/users/2634447/dimitri-mockelyn"}, "is_accepted": true, "score": 0, "last_activity_date": 1557410051, "last_edit_date": 1557410051, "creation_date": 1557357500, "answer_id": 56050228, "question_id": 56050187, "link": "https://stackoverflow.com/questions/56050187/referenceerror-is-not-defined-accessing-variable-in-javascript/56050228#56050228", "title": "&quot;ReferenceError: is not defined&quot; accessing variable in javascript", "body": "<p>You exported <code>val1090</code> as default, so when you call this </p>\n\n<pre><code>import validator from \"./validator\"\n</code></pre>\n\n<p>You declare a variable <code>validator</code> containing what's exported by default in the validator file. Meaning that <code>validator</code> is the variable containing </p>\n\n<pre><code>    {\n     'validators': [\n        {\n            'name': 'RangeValidator',\n            'params': {\n                'minimum': 10,\n                'maximum': 90,\n                'errorMessage': 'Value must be between 10-90.',\n           }\n        },\n    ]\n  }\n</code></pre>\n\n<p>So you should use <code>validator</code> instead of <code>val1090</code> in your <code>runesMetadata.js</code>, or change your first line to </p>\n\n<pre><code>import val1090 from \"./validator\"\n</code></pre>\n\n<p>EDIT : If your validator has more objects, it works the same. The <code>export default</code> value will be contained in the variable you import it. so if you export this :</p>\n\n<pre><code>export default {\n    val1090,\n    val115\n}\n</code></pre>\n\n<p>and import it like this :</p>\n\n<pre><code>import validator from \"./validator\"\n</code></pre>\n\n<p>You basically create a variable <code>variable</code> with this value :</p>\n\n<pre><code>validator = {\n    val1090: val1090,\n    val115: val115\n}\n</code></pre>\n\n<p>And accessing the <code>val1090</code> value can be done like this :</p>\n\n<pre><code>validator.val1090\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "is_accepted": false, "score": 0, "last_activity_date": 1557357517, "creation_date": 1557357517, "answer_id": 56050232, "question_id": 56050187, "link": "https://stackoverflow.com/questions/56050187/referenceerror-is-not-defined-accessing-variable-in-javascript/56050232#56050232", "title": "&quot;ReferenceError: is not defined&quot; accessing variable in javascript", "body": "<p>Having just a property name in a object initializer, i.e. just <code>val1090</code> is new ES6+ \"shorthand\" for <code>val1090:val1090</code> see <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Object_initializer#New_notations_in_ECMAScript_2015\" rel=\"nofollow noreferrer\">MDN docs</a> ... for that to work, there MUST be a variable declared called <code>val1090</code> ... which isn't the case in your code</p>\n\n<p>e.g</p>\n\n<pre><code>var a = 'foo', b = 42, c = {};\nvar o = {a, b, c};\n</code></pre>\n\n<p>works, because a, b and c are declared variables</p>\n\n<pre><code>var a = 'foo', b = 42;\nvar o = {a, b, c};\n</code></pre>\n\n<p>fails, because <code>c</code> is not declared</p>\n"}], "owner": {"reputation": 37, "user_id": 11182013, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GToFUfCJuX8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd4GmUtTyhUr2DXRbiIygoH4cnEJQ/mo/photo.jpg?sz=128", "display_name": "KarolekMasterek", "link": "https://stackoverflow.com/users/11182013/karolekmasterek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 0, "accepted_answer_id": 56050228, "answer_count": 2, "score": 0, "last_activity_date": 1557410051, "creation_date": 1557357112, "last_edit_date": 1557360558, "question_id": 56050187, "link": "https://stackoverflow.com/questions/56050187/referenceerror-is-not-defined-accessing-variable-in-javascript", "title": "&quot;ReferenceError: is not defined&quot; accessing variable in javascript", "body": "<p>How to make variable named - <strong>val1090</strong> definied in <strong>validator.js</strong> accessible from <strong>runesMetadata.js</strong> ? </p>\n\n<p>Im using nativescript vuejs and thats are metadatas for raddataform if it matters in this case.</p>\n\n<p>I got error <code>[Vue warn]: Error in data(): \"ReferenceError: val1090 is not defined\"\nJS: found in\nJS: ---&gt; &lt;Runes&gt;\nJS:        &lt;NavigationEntry&gt;</code></p>\n\n<p><strong>runesMetadata.js</strong></p>\n\n<pre><code>import validator from \"./validator\";\n\nexport default {\n  mixins: validator,\n  data () {\n      return {\n        makeRuneMetadata: {\n          'isReadOnly': false,\n          'commitMode': 'OnLostFocus',\n          'validationMode': 'Immediate',\n          'propertyAnnotations':\n          [ \n            {\n              'name': 'r_makeRuneSpell',\n              'displayName': 'Make rune spell',\n              'index': 0,\n              'editor': 'Text',\n            },\n            {\n              'name': 'r_mpAbove',\n              'displayName': 'If MP above [%]',\n              'index': 1,\n              'editor': 'Number',\n               val1090, // &lt;--------------------------\n            },\n\n\n      }\n  }\n}\n</code></pre>\n\n<p><strong>validator.js</strong></p>\n\n<pre><code>const val1090 = {\n    'validators': [\n        {\n            'name': 'RangeValidator',\n            'params': {\n                'minimum': 10,\n                'maximum': 90,\n                'errorMessage': 'Value must be between 10-90.',\n            }\n        },\n    ]\n  }\n\nexport default val1090\n</code></pre>\n\n<p>**EDITED BELOW **</p>\n\n<p>so validator would contain more objects like this</p>\n\n<pre><code>onst val1090 = {\n\n            'name': 'RangeValidator',\n            'params': {\n                'minimum': 10,\n                'maximum': 90,\n                'errorMessage': 'Value must be between 10-90.'\n            }  \n\n};\n\nconst val115 = {\n\n    'name': 'RangeValidator',\n    'params': {\n      'minimum': 1,\n      'maximum': 15,\n      'errorMessage': 'Value must be between 1-15.'\n    }  \n\n};\n\n\nexport default{\n    val1090,\n    val115\n}\n</code></pre>\n\n<p>and in my component i made  </p>\n\n<pre><code>created() {\n    console.dir(val1090);\n  },\n</code></pre>\n\n<p>so it gives me   </p>\n\n<pre><code>==== object dump start ====\nJS: val1090: {\nJS:   \"name\": \"RangeValidator\",\nJS:   \"params\": {\nJS:     \"minimum\": 10,\nJS:     \"maximum\": 90,\nJS:     \"errorMessage\": \"Value must be between 10-90.\"\nJS:   }\nJS: }\nJS: val115: {\nJS:   \"name\": \"RangeValidator\",\nJS:   \"params\": {\nJS:     \"minimum\": 1,\nJS:     \"maximum\": 15,\nJS:     \"errorMessage\": \"Value must be between 1-15.\"\nJS:   }\nJS: }\nJS: ==== object dump end ====  \n</code></pre>\n\n<p>how to get only what val1090 object contains? only this i want </p>\n\n<pre><code>{\nJS:   \"name\": \"RangeValidator\",\nJS:   \"params\": {\nJS:     \"minimum\": 10,\nJS:     \"maximum\": 90,\nJS:     \"errorMessage\": \"Value must be between 10-90.\"\nJS:   }\nJS: }\n</code></pre>\n"}, {"tags": ["javascript", "graph", "setinterval", "amcharts", "amcharts4"], "owner": {"reputation": 11, "user_id": 11472632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cffc87a1fd07e57fd13644345052fbf5?s=128&d=identicon&r=PG&f=1", "display_name": "Dan C", "link": "https://stackoverflow.com/users/11472632/dan-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 992, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1557896386, "creation_date": 1557356999, "last_edit_date": 1557896386, "question_id": 56050172, "link": "https://stackoverflow.com/questions/56050172/amcharts-live-data-adding-multiple-series", "title": "amCharts Live Data -- adding multiple series", "body": "<p>Disclaimer:  I am still learning some of the basics and I am still learning proper terminology.  </p>\n\n<p>I am trying to use an example of amCharts with live data and add another series into the chart.  My goal is to have a single chart with two series/lines streaming data.  </p>\n\n<p>The basic example I am working from is here:<br>\n    <a href=\"https://codepen.io/team/amcharts/pen/MGVbNV\" rel=\"nofollow noreferrer\">https://codepen.io/team/amcharts/pen/MGVbNV</a> </p>\n\n<p>I have managed to get two line series working, however its extremely clunky at the moment.  </p>\n\n<p>Here is where I am at:</p>\n\n<pre><code>am4core.useTheme(am4themes_animated);\nam4core.useTheme(am4themes_dark);\n\nvar chart = am4core.create(\"chartdiv\", am4charts.XYChart);\nchart.hiddenState.properties.opacity = 0;\n\nchart.padding(0, 0, 0, 0);\n\nchart.zoomOutButton.disabled = true;\n\nvar data = [];\nvar upstream = 10;\nvar i = 0;\n\nfor (i = 0; i &lt;= 30; i++) {\n    upstream -= Math.round((Math.random() &lt; 0.5 ? 1 : -1) * Math.random() * 10);\n    data.push({ date: new Date().setSeconds(i - 30), Upstream: upstream });\n}\n var downstream = 10;\n var j = 0;\n for (j = 0; j &lt;= 30; j++) {\n   downstream -= Math.round((Math.random() &lt; 0.5 ? 1 : -1) * Math.random() * 10);\n   data.push({ date: new Date().setSeconds(j - 30), value: downstream });\n}\n\nchart.data = data;\n\nvar dateAxis = chart.xAxes.push(new am4charts.DateAxis());\ndateAxis.renderer.grid.template.location = 0;\ndateAxis.renderer.minGridDistance = 30;\ndateAxis.dateFormats.setKey(\"second\", \"ss\");\ndateAxis.periodChangeDateFormats.setKey(\"second\", \"[bold]h:mm a\");\ndateAxis.periodChangeDateFormats.setKey(\"minute\", \"[bold]h:mm a\");\ndateAxis.periodChangeDateFormats.setKey(\"hour\", \"[bold]h:mm a\");\ndateAxis.renderer.inside = true;\ndateAxis.renderer.axisFills.template.disabled = true;\ndateAxis.renderer.ticks.template.disabled = true;\n\nvar valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\nvalueAxis.tooltip.disabled = true;\nvalueAxis.interpolationDuration = 500;\nvalueAxis.rangeChangeDuration = 500;\nvalueAxis.renderer.inside = true;\nvalueAxis.renderer.minLabelPosition = 0.05;\nvalueAxis.renderer.maxLabelPosition = 0.95;\nvalueAxis.renderer.axisFills.template.disabled = true;\nvalueAxis.renderer.ticks.template.disabled = true;\n\nvar series1 = chart.series.push(new am4charts.LineSeries());\nseries1.dataFields.dateX = \"date\";\nseries1.dataFields.valueY = \"Upstream\";\nseries1.interpolationDuration = 500;\nseries1.defaultState.transitionDuration = 0;\nseries1.tensionX = 0.8;\n\nvar series2 = chart.series.push(new am4charts.LineSeries());\nseries2.dataFields.dateX = \"date\";\nseries2.dataFields.valueY = \"Downstream\";\nseries2.interpolationDuration = 500;\nseries2.defaultState.transitionDuration = 0;\nseries2.tensionX = 0.8;\n\nchart.events.on(\"datavalidated\", function () {\n    dateAxis.zoom({ start: 1 / 15, end: 1.2 }, false, true);\n});\n\ndateAxis.interpolationDuration = 500;\ndateAxis.rangeChangeDuration = 500;\n\ndocument.addEventListener(\"visibilitychange\", function() {\n    if (document.hidden) {\n        if (interval) {\n            clearInterval(interval);\n        }\n    }\n    else {\n        startInterval();\n    }\n}, false);\n\n// add data\nvar interval;\nfunction startInterval() {\n    interval = setInterval(function() {\n        upstream =\n            upstream + Math.round((Math.random() &lt; 0.5 ? 1 : -1) * Math.random() * 5);\n        var lastdataItem = series1.dataItems.getIndex(series1.dataItems.length - 1);\n        chart.addData(\n            { date: new Date(lastdataItem.dateX.getTime() + 1000), Upstream: upstream },\n            1\n        );\n        downstream =\n            downstream + Math.round((Math.random() &lt; 0.5 ? 1 : -1) * Math.random() * 1);\n        var lastdataItem = series2.dataItems.getIndex(series2.dataItems.length - 1);\n        chart.addData(\n            { date: new Date(lastdataItem.dateX.getTime() + 1000), Downstream: downstream },\n            1\n        );\n    }, 1000);\n}\n\nstartInterval();\n\n// all the below is optional, makes some fancy effects\n// gradient fill of the series\nseries1.fillOpacity = 1;\nvar gradient = new am4core.LinearGradient();\ngradient.addColor(chart.colors.getIndex(0), 0.2);\ngradient.addColor(chart.colors.getIndex(0), 0);\nseries1.fill = gradient;\n\n// this makes date axis labels to fade out\ndateAxis.renderer.labels.template.adapter.add(\"fillOpacity\", function (fillOpacity, target) {\n    var dataItem = target.dataItem;\n    return dataItem.position;\n})\n\n// need to set this, otherwise fillOpacity is not changed and not set\ndateAxis.events.on(\"validated\", function () {\n    am4core.iter.each(dateAxis.renderer.labels.iterator(), function (label) {\n        label.fillOpacity = label.fillOpacity;\n    })\n})\n\n// this makes date axis labels which are at equal minutes to be rotated\ndateAxis.renderer.labels.template.adapter.add(\"rotation\", function (rotation, target) {\n    var dataItem = target.dataItem;\n    if (dataItem.date.getTime() == am4core.time.round(new Date(dataItem.date.getTime()), \"minute\").getTime()) {\n\n      target.verticalCenter = \"middle\";  \n      target.horizontalCenter = \"left\";\n        return -90;\n    }\n    else {\n        target.verticalCenter = \"bottom\";  \n        target.horizontalCenter = \"middle\";\n        return 0;\n    }\n})\n\n// bullet at the front of the line\nvar bullet = series1.createChild(am4charts.CircleBullet);\nbullet.circle.radius = 5;\nbullet.fillOpacity = 1;\nbullet.fill = chart.colors.getIndex(0);\nbullet.isMeasured = false;\n\nseries1.events.on(\"validated\", function() {\n    bullet.moveTo(series1.dataItems.last.point);\n    bullet.validatePosition();\n});\n\n</code></pre>\n\n<p>Any insight and help on getting this to be smoother?  I think I need to do something with SetInterval() or combine functions somehow.  </p>\n"}, {"tags": ["javascript", "d3.js"], "answers": [{"tags": [], "owner": {"reputation": 90540, "user_id": 5768908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf0PS.jpg?s=128&g=1", "display_name": "Gerardo Furtado", "link": "https://stackoverflow.com/users/5768908/gerardo-furtado"}, "is_accepted": true, "score": 2, "last_activity_date": 1557371754, "last_edit_date": 1557371754, "creation_date": 1557362199, "answer_id": 56050684, "question_id": 56050159, "link": "https://stackoverflow.com/questions/56050159/how-to-update-the-fill-and-sorting-the-values-of-lollipop-chart/56050684#56050684", "title": "How to update the fill and sorting the values of lollipop chart?", "body": "<p><strong>Regarding the color</strong>:</p>\n\n<p>Your <code>if</code> condition...</p>\n\n<pre><code>.attr('fill', function(d) {\n    if (d[selectedVar] === 'total') {\n      return '#bfc0c1';\n    } else if (d[selectedVar] === 'positive') {\n      return '#5cdacc';\n    } else if (d[selectedVar] === 'negative') {\n      return '#ff1d34';\n    } else if (d[selectedVar] === 'balanced') {\n      return '#ffc750';\n    } else {\n      return '#ff8c50';\n    }\n});\n</code></pre>\n\n<p>... is incorrect, since <code>total</code>, <code>positive</code>, <code>negative</code> etc... are <strong>property</strong> names, not values. It should be just <code>if(selectedVar === \"total\")</code> etc.</p>\n\n<p>On top of that, you don't need that bunch of <code>if</code>s. Just use an scale:</p>\n\n<pre><code>const colorScale = d3.scaleOrdinal()\n    .domain([\"positive\", \"negative\", \"balanced\", \"informational\", \"total\"])\n    .range(['#5cdacc', '#ff1d34', '#ffc750', '#ff8c50', '#bfc0c1']);\n</code></pre>\n\n<p>And then it's as simple as:</p>\n\n<pre><code>.attr('fill', colorScale(selectedVar));\n</code></pre>\n\n<p><strong>Regarding the sorting issue</strong>:</p>\n\n<p>Use the property itself for sorting:</p>\n\n<pre><code>data.sort(function(a, b) {\n    return b[selectedVar] - a[selectedVar];\n});\n</code></pre>\n\n<p>Also, <code>sort</code> sorts in place, you don't need to reassign <code>data</code>.</p>\n\n<p>Here is your updated code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const csv = `media_outlet,positive,negative,balanced,informational,total\r\nLa Opini\u00f3n,149,296,142,101,688\r\nWall Street Journal,137,118,125,79,459\r\nUnivision,226,484,225,159,1094\r\nSan Diego Union Tribune,60,24,18,17,119\r\nFox News,73,102,58,60,293\r\nWashington Post,52,97,56,50,255\r\nCNN,127,160,102,88,477\r\nUSA Today,32,23,14,22,91\r\nThe Daily Beast,9,50,13,10,82\r\nBloomberg,251,183,158,119,711\r\nFusion,48,86,54,49,237\r\nNPR,20,30,12,14,76\r\nDallas Morning News,40,34,24,31,129\r\nTIME,26,30,17,17,90\r\nForbes,97,56,72,37,262\r\nChristian Science Monitor,19,15,21,7,62\r\nNBC News,23,34,19,22,98\r\nHuffington Post,232,344,219,85,880\r\nNew York TImes,90,129,74,62,355\r\nHouston Chronicle,40,32,31,24,127\r\nLos Angeles Times,66,75,45,45,231\r\nSan Antonio Express News,28,22,14,16,80\r\nArizona Daily Star,32,15,6,8,61\r\nVice News,17,169,44,12,242`;\r\n\r\nconst data = d3.csvParse(csv, function(d) {\r\n  d.positive = +d.positive;\r\n  d.negative = +d.negative;\r\n  d.balanced = +d.balanced;\r\n  d.informational = +d.informational;\r\n  d.total = +d.total;\r\n  return d;\r\n});\r\n\r\nconst width = 500,\r\n  height = 300;\r\nconst margin = {\r\n  left: 30,\r\n  right: 10,\r\n  top: 10,\r\n  bottom: 70\r\n};\r\n\r\nconst svg = d3\r\n  .select(\"body\")\r\n  .append('svg')\r\n  .attr('width', width + margin.left + margin.right)\r\n  .attr('height', height + margin.top + margin.bottom)\r\n  .append('g')\r\n  .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\r\n\r\n// Initialize the X axis\r\nconst x = d3\r\n  .scaleBand()\r\n  .range([0, width])\r\n  .padding(1);\r\n\r\nconst xAxis = svg.append('g').attr('transform', 'translate(0,' + height + ')');\r\n\r\n// Initialize the Y axis\r\nconst y = d3.scaleLinear().range([height, 0]);\r\n\r\nconst yAxis = svg.append('g').attr('class', 'myYaxis');\r\n\r\nconst colorScale = d3.scaleOrdinal()\r\n  .domain([\"positive\", \"negative\", \"balanced\", \"informational\", \"total\"])\r\n  .range(['#5cdacc', '#ff1d34', '#ffc750', '#ff8c50', '#bfc0c1']);\r\n\r\n// A function that create / update the plot for a given variable:\r\nfunction update(selectedVar) {\r\n  // Parse the Data\r\n\r\n  data.sort(function(a, b) {\r\n    return b[selectedVar] - a[selectedVar];\r\n  });\r\n\r\n  // X axis\r\n  x.domain(\r\n    data.map(function(d) {\r\n      return d.media_outlet;\r\n    })\r\n  );\r\n\r\n  xAxis\r\n    .transition()\r\n    .duration(1000)\r\n    .call(d3.axisBottom(x))\r\n    .selectAll('text')\r\n    .attr('transform', 'translate(-10,0)rotate(-40)')\r\n    .style('text-anchor', 'end');\r\n\r\n  // Add Y axis\r\n  y.domain([\r\n    0,\r\n    d3.max(data, function(d) {\r\n      return +d[selectedVar];\r\n    }),\r\n  ]);\r\n\r\n  yAxis\r\n    .transition()\r\n    .duration(1000)\r\n    .call(d3.axisLeft(y));\r\n\r\n  // variable u: map data to existing circle\r\n  const j = svg.selectAll('.myLine').data(data);\r\n  // update lines\r\n  j.enter()\r\n    .append('line')\r\n    .attr('class', 'myLine')\r\n    .merge(j)\r\n    .transition()\r\n    .duration(1000)\r\n    .attr('x1', function(d) {\r\n      //console.log(x(d.media_outlet));\r\n      return x(d.media_outlet);\r\n    })\r\n    .attr('x2', function(d) {\r\n      return x(d.media_outlet);\r\n    })\r\n    .attr('y1', y(0))\r\n    .attr('y2', function(d) {\r\n      return y(d[selectedVar]);\r\n    })\r\n    .attr('stroke', 'grey');\r\n\r\n  // variable u: map data to existing circle\r\n  const u = svg.selectAll('circle').data(data);\r\n  // update bars\r\n  u.enter()\r\n    .append('circle')\r\n    .merge(u)\r\n    .transition()\r\n    .duration(1000)\r\n    .attr('cx', function(d) {\r\n      return x(d.media_outlet);\r\n    })\r\n    .attr('cy', function(d) {\r\n      return y(d[selectedVar]);\r\n    })\r\n    .attr('r', 5)\r\n    .attr('fill', colorScale(selectedVar));\r\n}\r\n\r\nupdate('total');</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://d3js.org/d3.v5.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"container\"&gt;\r\n  &lt;div class=\"row justify-content-md-center\"&gt;\r\n    &lt;div class=\"col-auto\"&gt;\r\n      &lt;button class=\"positive p-2\" onclick=\"update('positive')\"&gt;\r\n            Positive\r\n          &lt;/button&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"col-auto\"&gt;\r\n      &lt;button class=\"negative p-2\" onclick=\"update('negative')\"&gt;\r\n            Negative\r\n          &lt;/button&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"col-auto\"&gt;\r\n      &lt;button class=\"balanced p-2\" onclick=\"update('balanced')\"&gt;\r\n            Balanced\r\n          &lt;/button&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"col-auto\"&gt;\r\n      &lt;button class=\"informational p-2\" onclick=\"update('informational')\"&gt;\r\n            Informational\r\n          &lt;/button&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"col-auto\"&gt;\r\n      &lt;button class=\"p-2\" id=\"total-button\" onclick=\"update('total')\"&gt;\r\n            Total\r\n          &lt;/button&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 87, "user_id": 9686732, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155523491052066/picture?type=large", "display_name": "Alonso Ag", "link": "https://stackoverflow.com/users/9686732/alonso-ag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 56050684, "answer_count": 1, "score": 3, "last_activity_date": 1557371754, "creation_date": 1557356890, "question_id": 56050159, "link": "https://stackoverflow.com/questions/56050159/how-to-update-the-fill-and-sorting-the-values-of-lollipop-chart", "title": "How to update the fill and sorting the values of lollipop chart?", "body": "<p>I'm trying to change the fill of the circles in my lollipop chart, as well as the order (sorting from largest to lowest) depending on the button the user clicks. I've successfully changed my y axis depending on the value but I'm having problems trying to change the other parameters. </p>\n\n<p>Here's the csv I'm using: </p>\n\n<pre><code>media_outlet,positive,negative,balanced,informational,total\nLa Opini\u00f3n,149,296,142,101,688\nWall Street Journal,137,118,125,79,459\nUnivision,226,484,225,159,1094\nSan Diego Union Tribune,60,24,18,17,119\nFox News,73,102,58,60,293\nWashington Post,52,97,56,50,255\nCNN,127,160,102,88,477\nUSA Today,32,23,14,22,91\nThe Daily Beast,9,50,13,10,82\nBloomberg,251,183,158,119,711\nFusion,48,86,54,49,237\nNPR,20,30,12,14,76\nDallas Morning News,40,34,24,31,129\nTIME,26,30,17,17,90\nForbes,97,56,72,37,262\nChristian Science Monitor,19,15,21,7,62\nNBC News,23,34,19,22,98\nHuffington Post,232,344,219,85,880\nNew York TImes,90,129,74,62,355\nHouston Chronicle,40,32,31,24,127\nLos Angeles Times,66,75,45,45,231\nSan Antonio Express News,28,22,14,16,80\nArizona Daily Star,32,15,6,8,61\nVice News,17,169,44,12,242 \n</code></pre>\n\n<p>My Javascript code starting the visualization sorting the chart with the total (I haven't figured out how or where to apply the sorting in the code when the button gets clicked):</p>\n\n<pre><code>const svg = d3\n  .select('#outlets-viz')\n  .append('svg')\n  .attr('width', width + margin.left + margin.right)\n  .attr('height', height + margin.top + margin.bottom)\n  .append('g')\n  .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n// Initialize the X axis\nconst x = d3\n  .scaleBand()\n  .range([0, width])\n  .padding(1);\n\nconst xAxis = svg.append('g').attr('transform', 'translate(0,' + height + ')');\n\n// Initialize the Y axis\nconst y = d3.scaleLinear().range([height, 0]);\n\nconst yAxis = svg.append('g').attr('class', 'myYaxis');\n\n\n// A function that create / update the plot for a given variable:\nfunction update(selectedVar) {\n  // Parse the Data\n\n  d3.csv('../data/media_tendency.csv').then(function(data) {\n    data.forEach(function(d) {\n      d.positive = +d.positive;\n      d.negative = +d.negative;\n      d.balanced = +d.balanced;\n      d.informational = +d.informational;\n      d.total = +d.total;\n    });\n\n    console.log(data);\n\n    data = data.sort(function(a, b) {\n      if (a.total &lt; b.total) {\n        return 1;\n      } else {\n        return -1;\n      }\n    });\n\n    // X axis\n    x.domain(\n      data.map(function(d) {\n        return d.media_outlet;\n      })\n    );\n\n    xAxis\n      .transition()\n      .duration(1000)\n      .call(d3.axisBottom(x))\n      .selectAll('text')\n      .attr('transform', 'translate(-10,0)rotate(-40)')\n      .style('text-anchor', 'end');\n\n    // Add Y axis\n    y.domain([\n      0,\n      d3.max(data, function(d) {\n        return +d[selectedVar];\n      }),\n    ]);\n\n    yAxis\n      .transition()\n      .duration(1000)\n      .call(d3.axisLeft(y));\n\n    // variable u: map data to existing circle\n    const j = svg.selectAll('.myLine').data(data);\n    // update lines\n    j.enter()\n      .append('line')\n      .attr('class', 'myLine')\n      .merge(j)\n      .transition()\n      .duration(1000)\n      .attr('x1', function(d) {\n        //console.log(x(d.media_outlet));\n        return x(d.media_outlet);\n      })\n      .attr('x2', function(d) {\n        return x(d.media_outlet);\n      })\n      .attr('y1', y(0))\n      .attr('y2', function(d) {\n        return y(d[selectedVar]);\n      })\n      .attr('stroke', 'grey');\n\n    // variable u: map data to existing circle\n    const u = svg.selectAll('circle').data(data);\n    // update bars\n    u.enter()\n      .append('circle')\n      .merge(u)\n      .transition()\n      .duration(1000)\n      .attr('cx', function(d) {\n        return x(d.media_outlet);\n      })\n      .attr('cy', function(d) {\n        return y(d[selectedVar]);\n      })\n      .attr('r', 5)\n      .attr('fill', function(d) {\n        if (d[selectedVar] === 'total') {\n          return '#bfc0c1';\n        } else if (d[selectedVar] === 'positive') {\n          return '#5cdacc';\n        } else if (d[selectedVar] === 'negative') {\n          return '#ff1d34';\n        } else if (d[selectedVar] === 'balanced') {\n          return '#ffc750';\n        } else {\n          return '#ff8c50';\n        }\n      });\n  });\n}\n\nupdate('total'); \n</code></pre>\n\n<p>An my html:</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n      &lt;div class=\"row justify-content-md-center\"&gt;\n        &lt;div class=\"col-auto\"&gt;\n          &lt;button class=\"positive p-2\" onclick=\"update('positive')\"&gt;\n            Positive\n          &lt;/button&gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-auto\"&gt;\n          &lt;button class=\"negative p-2\" onclick=\"update('negative')\"&gt;\n            Negative\n          &lt;/button&gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-auto\"&gt;\n          &lt;button class=\"balanced p-2\" onclick=\"update('balanced')\"&gt;\n            Balanced\n          &lt;/button&gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-auto\"&gt;\n          &lt;button class=\"informational p-2\" onclick=\"update('informational')\"&gt;\n            Informational\n          &lt;/button&gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-auto\"&gt;\n          &lt;button class=\"p-2\" id=\"total-button\" onclick=\"update('total')\"&gt;\n            Total\n          &lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt; \n</code></pre>\n\n<p>I'm new to d3 and I've started coding a few months ago, any guidance on how to improve or change the code will help me so much! Thank you for your invaluable help :) !</p>\n"}, {"tags": ["javascript", "node.js", "visual-studio-code", "next.js"], "answers": [{"tags": [], "owner": {"reputation": 913, "user_id": 1338204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4beb579790650ebb92872aacdce91fc8?s=128&d=identicon&r=PG", "display_name": "Andrei  Belokopytov", "link": "https://stackoverflow.com/users/1338204/andrei-belokopytov"}, "is_accepted": false, "score": 7, "last_activity_date": 1557470922, "creation_date": 1557470922, "answer_id": 56072179, "question_id": 56050061, "link": "https://stackoverflow.com/questions/56050061/debugging-next-js-with-vscode-debugger/56072179#56072179", "title": "debugging next.js with vscode debugger", "body": "<p>I managed to debug it without any additional arguments, my config:</p>\n\n<pre><code>{\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n      \"type\": \"node\",\n      \"request\": \"launch\",\n      \"name\": \"Launch Program\",\n      \"program\": \"${workspaceFolder}/node_modules/next/dist/bin/next\"\n    }\n  ]\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 636, "user_id": 1793469, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/bzGCL.jpg?s=128&g=1", "display_name": "proxy", "link": "https://stackoverflow.com/users/1793469/proxy"}, "edited": false, "score": 0, "creation_date": 1585920341, "post_id": 59002037, "comment_id": 107941319, "body": "it gives me  <code>Couldn&#39;t find a </code>pages` directory. Please create one under the project root`"}], "tags": [], "owner": {"reputation": 947, "user_id": 2728710, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4bcbb875888d938cc5786176337e4c19?s=128&d=identicon&r=PG&f=1", "display_name": "pom421", "link": "https://stackoverflow.com/users/2728710/pom421"}, "is_accepted": false, "score": 2, "last_activity_date": 1574458463, "creation_date": 1574458463, "answer_id": 59002037, "question_id": 56050061, "link": "https://stackoverflow.com/questions/56050061/debugging-next-js-with-vscode-debugger/59002037#59002037", "title": "debugging next.js with vscode debugger", "body": "<p>For future readers, there is my <code>launch.json</code> with small fixes from the vscode recipe you mentioned:</p>\n\n<pre><code>{\n\"version\": \"0.2.0\",\n\"configurations\": [\n    {\n        \"type\": \"chrome\",\n        \"request\": \"launch\",\n        \"name\": \"Next: Chrome\",\n        \"url\": \"http://localhost:3000\",\n        \"webRoot\": \"${workspaceFolder}\"\n    },\n    {\n        \"type\": \"node\",\n        \"request\": \"launch\",\n        \"name\": \"Next: Node\",\n        \"runtimeExecutable\": \"${workspaceFolder}/node_modules/next/dist/bin/next\",\n        \"env\": {\n            \"NODE_OPTIONS\": \"--inspect-brk\"\n        },\n        \"port\": 9229,\n        \"console\": \"integratedTerminal\"\n    }\n],\n\"compounds\": [\n    {\n        \"name\": \"Next: Full\",\n        \"configurations\": [\"Next: Node\", \"Next: Chrome\"]\n    }\n]\n}\n</code></pre>\n\n<p>The instructions are : Launch <code>\"Next: Full\"</code>, wait a moment to let time to Node to run Next. Then you can refresh the Chrome windows. </p>\n\n<p>On track record, the debug on Node is OK for me, however the debug in Chrome is partial : I can break up on lines but can't see all variables, I still can't know why?</p>\n"}, {"tags": [], "owner": {"reputation": 636, "user_id": 1793469, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/bzGCL.jpg?s=128&g=1", "display_name": "proxy", "link": "https://stackoverflow.com/users/1793469/proxy"}, "is_accepted": false, "score": 2, "last_activity_date": 1586164791, "last_edit_date": 1586164791, "creation_date": 1585922097, "answer_id": 61013488, "question_id": 56050061, "link": "https://stackoverflow.com/questions/56050061/debugging-next-js-with-vscode-debugger/61013488#61013488", "title": "debugging next.js with vscode debugger", "body": "<p>Potential pitfalls:\nIf your next project is in <strong>subfolder in your vscode workspace</strong>, you should set <code>sourceMapPathOverrides</code>.</p>\n\n<pre><code>{\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n      \"type\": \"node\",\n      \"request\": \"launch\",\n      \"name\": \"Example\",\n      \"runtimeExecutable\": \"node\",\n      \"runtimeArgs\": [\"--inspect\", \"node_modules/.bin/next\", \"dev\"],\n      \"port\": 9229,\n      \"cwd\": \"${workspaceFolder}/subfolder\",\n      \"sourceMapPathOverrides\": {\n        \"webpack:///./*\": \"${workspaceRoot}/subfolder/*\",\n      }\n    }\n  ]\n}\n</code></pre>\n\n<p><a href=\"https://github.com/microsoft/vscode/issues/94300#issue-592746846\" rel=\"nofollow noreferrer\">source</a></p>\n\n<p>You may also need a different type of source map, alter your next.config.js.</p>\n\n<pre><code>module.exports = {\n  webpack(config) {\n    config.devtool = 'cheap-module-eval-source-map';\n    return config;\n  }\n};\n</code></pre>\n\n<p>Also, <strong>Starting in version 9.3.1</strong>, do not add the --inspect flag in any configuration - it is passed automatically through the next command.</p>\n\n<p><a href=\"https://spectrum.chat/next-js/general/debugging-in-vscode~f93e5e29-6cce-4b43-8fed-e5a6d302d04e?m=MTU4NDc5Nzg5MDUyNg==\" rel=\"nofollow noreferrer\">source</a> with lots of info on topic.</p>\n"}], "owner": {"reputation": 2064, "user_id": 2631086, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/HQyBw.png?s=128&g=1", "display_name": "LiranC", "link": "https://stackoverflow.com/users/2631086/liranc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3721, "favorite_count": 2, "answer_count": 3, "score": 3, "last_activity_date": 1586164791, "creation_date": 1557356105, "question_id": 56050061, "link": "https://stackoverflow.com/questions/56050061/debugging-next-js-with-vscode-debugger", "title": "debugging next.js with vscode debugger", "body": "<p>I have installed a project using <a href=\"https://github.com/segmentio/create-next-app\" rel=\"nofollow noreferrer\">create-next-app</a>.\nI need to debug the server side rendering using my editor: vscode. So i have visited <a href=\"https://github.com/Microsoft/vscode-recipes/tree/master/Next-js\" rel=\"nofollow noreferrer\">vscode-recipes - how to debug next.js app</a>.</p>\n\n<p>I have made a slight change to the recipe so I won't have to install <code>Next</code> globally.</p>\n\n<p>that's my <code>launch.json</code> config file:</p>\n\n<pre><code>    {\n      \"type\": \"node\",\n      \"request\": \"launch\",\n      \"name\": \"Next: Node\",\n      \"runtimeExecutable\": \"${workspaceFolder}/node_modules/next/dist/bin/next\",\n      \"runtimeArgs\": [\"-inspect\"],\n      \"port\": 9229,\n      \"console\": \"integratedTerminal\"\n    }\n</code></pre>\n\n<p>While i'm running it I get the following error:</p>\n\n<p><code>Error: Use env variable NODE_OPTIONS instead: NODE_OPTIONS=\"--inspect\" next dev</code></p>\n\n<p>I'm trying to change <code>runtimeArgs</code> to following command that should work:\n<code>\"runtimeArgs\": [\"NODE_OPTIONS=--inspect\"]</code> and I am getting other error: </p>\n\n<pre><code>\nNo such directory exists as the project root: /Users/username/with-redux-thunk-app/NODE_OPTIONS=--inspect\n</code></pre>\n\n<p>How I can I correctly express <code>\"NODE_OPTIONS=--inspect\"</code> so it works with vscode debugger?</p>\n"}, {"tags": ["javascript", "appendchild"], "comments": [{"owner": {"reputation": 1113, "user_id": 11059320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MCWZp.jpg?s=128&g=1", "display_name": "shadow2020", "link": "https://stackoverflow.com/users/11059320/shadow2020"}, "edited": false, "score": 1, "creation_date": 1557356089, "post_id": 56050051, "comment_id": 98741415, "body": "is your script in any kind of onDOMready function?"}, {"owner": {"reputation": 181, "user_id": 6806594, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208268247758393/picture?type=large", "display_name": "Yoko Ishioka", "link": "https://stackoverflow.com/users/6806594/yoko-ishioka"}, "edited": false, "score": 0, "creation_date": 1557358966, "post_id": 56050051, "comment_id": 98742003, "body": "Your script is just putting the JS file into the header of your document. It&#39;s not doing anything else. You need to do an HTTP request in order to get the values, then extract the values in a loop if you want to read the file and get values from it. Album_Info is empty because you need to set it to something for the value to change."}, {"owner": {"reputation": 195, "user_id": 1591396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2d9fe1da73f207985667ad4dc923710?s=128&d=identicon&r=PG", "display_name": "M610", "link": "https://stackoverflow.com/users/1591396/m610"}, "edited": false, "score": 0, "creation_date": 1557361359, "post_id": 56050051, "comment_id": 98742431, "body": "I was using JS files in a recent project that did not involve a server. This one does. I should probably just go with httpRequests instead."}], "answers": [{"tags": [], "owner": {"reputation": 12410, "user_id": 5217142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57daeb5f96b7a591e3447d41e59bbc94?s=128&d=identicon&r=PG&f=1", "display_name": "traktor", "link": "https://stackoverflow.com/users/5217142/traktor"}, "is_accepted": false, "score": 0, "last_activity_date": 1557359419, "creation_date": 1557359419, "answer_id": 56050407, "question_id": 56050051, "link": "https://stackoverflow.com/questions/56050051/inserting-javascript-at-runtime-unable-to-access-the-variable/56050407#56050407", "title": "Inserting Javascript at runtime, unable to access the variable", "body": "<p>Loading a script element occurs asynchronously, sometime after appending it to the document. The posted code is trying to access \n<code>Raw_Album_Info</code> before the script has loaded.</p>\n\n<p>Try adding a load event handler to the script element to run code when after it loads -  can access the value of <code>Raw_Album_Info</code> in the handler for the first time.</p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 9816584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2356a22ae14f77563d5db8a97f385035?s=128&d=identicon&r=PG&f=1", "display_name": "Ken H", "link": "https://stackoverflow.com/users/9816584/ken-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1604506968, "last_edit_date": 1604506968, "creation_date": 1604504580, "answer_id": 64683211, "question_id": 56050051, "link": "https://stackoverflow.com/questions/56050051/inserting-javascript-at-runtime-unable-to-access-the-variable/64683211#64683211", "title": "Inserting Javascript at runtime, unable to access the variable", "body": "<p><strong>Raw_Album_Info</strong> is undefined until the document is done loading. You could do a document.readystate call or something, but below I use the function <strong>updatetest()</strong>, that uses setTimeout to keep calling itself until <strong>Raw_Album_Info</strong> is defined.</p>\n<p>In the album_info.js, it helps to use the <strong>slanted tick</strong> ` (below the ~ key).  The ` tick goes before and after the text you want in your <strong>var</strong> declaration.  If you use the tick, its easy to write a short script that will automate creating the .js files from the original text files.  For example, if your original text file was album_info.txt, a bash script would look like this:</p>\n<pre><code>echo -n &quot;var x=\\`&quot; &gt; album_info.js\ncat album_info.txt &gt;&gt; album_info.js\necho &quot;\\`&quot; &gt;&gt; album_info.js\n\n</code></pre>\n<p>You had the wrong dash in the <strong>Raw_Album_Info</strong> variable in your question write up.  Maybe it was just a write up error, but if that error was actually in your album_info.js code, it would have prevented the <strong>real</strong> <strong>Raw_Album_Info</strong> variable from getting a result.\nThe contents of my album_info.js for testing (Note, using the tick to create the .js file also <strong>preserves the linefeeds from your text file</strong>, so you can use var.split('\\n') in your code if you want to use an array):</p>\n<pre><code>var Raw_Album_Info = `image1.jpg\nimage2.jpg\n`\n</code></pre>\n<p>For demo purposes, I created an albumList array at the top, and a script at the bottom to so it shows a popup with the variable contents.  I commented out the alerts as they are not needed for this demo.  I commented out <strong>Raw_Album_Info=''</strong> because it needs to be undefined initially for <strong>updatetest()</strong> to work correctly.</p>\n<p>Contents of test.htm, tests OK in Firefox:</p>\n<pre><code>&lt;script&gt;\nvar albumList=[&quot;ipplr/&quot;,&quot;ipplr2/&quot;] //my test paths\n\nfunction Get_Slide_Show(Idx) {\n  //Raw_Album_Info = '';          //do not set, leave as undefined\n  //alert('Before: ' + Raw_Album_Info);\n  albumPath = '/home/ken/temp/' + albumList[Idx];\n  var script = document.createElement('script');\n  script.src = albumPath + '/album_info.js';\n  document.head.appendChild(script);\n  //document.getElementsByTagName('head')[0].appendChild(script);\n  //alert('After: ' + Raw_Album_Info);\n}\n\nfunction Load_Slide_Show(Idx) {\n  Get_Slide_Show(Idx);\n  Load_Album_Info();\n}\n\nfunction Init_Slide_Show() {\n  Load_Album_List(&quot;photos&quot;);\n  Load_Slide_Show(0);\n  showSlides();\n}\n&lt;/script&gt;\n\n&lt;script&gt;\nGet_Slide_Show(0)\nupdatetest()\n\nfunction updatetest()\n{\n  if (typeof(Raw_Album_Info)=='undefined'){\n    setTimeout('updatetest()',500)  //call back until defined\n  }else{\n    //you can alert, or just write to console to verify\n    alert(Raw_Album_Info)\n    console.log(Raw_Album_Info)\n  }\n}\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 195, "user_id": 1591396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2d9fe1da73f207985667ad4dc923710?s=128&d=identicon&r=PG", "display_name": "M610", "link": "https://stackoverflow.com/users/1591396/m610"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1604506968, "creation_date": 1557356007, "last_edit_date": 1557357112, "question_id": 56050051, "link": "https://stackoverflow.com/questions/56050051/inserting-javascript-at-runtime-unable-to-access-the-variable", "title": "Inserting Javascript at runtime, unable to access the variable", "body": "<p>I'm using javascript files to store lists of images and other stuff. I want to read one of these files at runtime, during page load and after clicking a button. I am able to load the javascript file as a script, but I can't immediately access its contents.</p>\n\n<p>This is my solution to not being able to use javascript to load local files.</p>\n\n<pre><code>&lt;script&gt;\nfunction Get_Slide_Show(Idx) {\n  Raw_Album_Info = '';\n  alert('Before: ' + Raw_Album_Info);\n  albumPath = 'photos/' + albumList[Idx];\n  var script = document.createElement('script');\n  script.src = albumPath + '/album_info.js';\n  // document.head.appendChild(script);\n  document.getElementsByTagName('head')[0].appendChild(script);\n  alert('After: ' + Raw_Album_Info);\n}\n\nfunction Load_Slide_Show(Idx) {\n  Get_Slide_Show(Idx);\n  Load_Album_Info();\n}\n\nfunction Init_Slide_Show() {\n  Load_Album_List(\"photos\");\n  Load_Slide_Show(0);\n  showSlides();\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>Init_Slide_Show runs when the page loads.</p>\n\n<p>Load_Slide_Show runs when the user clicks a button.</p>\n\n<p>The problem is in Get_Slide_Show. It loads and appends the selected javascript file, which is simply something like </p>\n\n<pre><code>Raw-Album_Info = 'image1.jpg\\n'+image2.jpg\\n';\n</code></pre>\n\n<p>I reset Raw_Album_Info at the start and the first alert confirms this. I expected the second alert to show the new value for Raw_Album_Info. It doesn't.</p>\n\n<p>If I remove the line</p>\n\n<pre><code>Album_Info = ''; \n</code></pre>\n\n<p>then the second time I run Get_Slide_Show the alerts show the value from the previous call.</p>\n\n<p>So I can read the variable, but I can't access it right away. Should I be using insertBefore, or calling some kind of refresh?</p>\n"}, {"tags": ["javascript", "jquery", "animation"], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 11147591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02177403f354c6e7c43890ce0d954bd3?s=128&d=identicon&r=PG&f=1", "display_name": "Alany", "link": "https://stackoverflow.com/users/11147591/alany"}, "edited": false, "score": 0, "creation_date": 1557403365, "post_id": 56050114, "comment_id": 98758402, "body": "Hey Hien, Thanks for the answer. The <code>first()</code> takes the first <code>.team-box</code>, but it&#39;s not what i&#39;m trying to do! I&#39;d like the others that i haven&#39;t clicked to disappear one by one"}, {"owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "reply_to_user": {"reputation": 147, "user_id": 11147591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02177403f354c6e7c43890ce0d954bd3?s=128&d=identicon&r=PG&f=1", "display_name": "Alany", "link": "https://stackoverflow.com/users/11147591/alany"}, "edited": false, "score": 0, "creation_date": 1557403534, "post_id": 56050114, "comment_id": 98758493, "body": "Do you want to click one box and other box will sequence hidden?"}, {"owner": {"reputation": 147, "user_id": 11147591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02177403f354c6e7c43890ce0d954bd3?s=128&d=identicon&r=PG&f=1", "display_name": "Alany", "link": "https://stackoverflow.com/users/11147591/alany"}, "edited": false, "score": 0, "creation_date": 1557404928, "post_id": 56050114, "comment_id": 98759269, "body": "Yes exactly! That how i should&#39;ve written it the first time"}], "tags": [], "owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "is_accepted": false, "score": 0, "last_activity_date": 1557356456, "creation_date": 1557356456, "answer_id": 56050114, "question_id": 56050041, "link": "https://stackoverflow.com/questions/56050041/hide-sibling-boxes-animation-using-javascript/56050114#56050114", "title": "Hide sibling boxes animation using Javascript", "body": "<p>You can use <code>first()</code> to get first siblings</p>\n\n<pre><code>$(\".team-box\").on(\"click\", function() {\n        event.preventDefault();\n        var first = $(this).siblings('.team-box').first();\n        $(first).hide();\n    });\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\".team-box\").on(\"click\", function() {\r\n        event.preventDefault();\r\n        var first = $(this).siblings('.team-box').first();\r\n        $(first).hide();\r\n    });</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"col-12 col-sm-6 col-lg-6 col-xl-3 border border-default py-5 team-box\"&gt;\r\n\r\n    &lt;h4 class=\"px-5\"&gt;Lorem ipsum dolor&lt;/h4&gt;\r\n\r\n    &lt;a href=\"#\" class=\"button-link px-5\"&gt;\r\n        Click Here\r\n        &lt;span class=\"btn-inner--icon\"&gt;\r\n            &lt;img\r\n            src=\"arrow-right-black.svg\"\r\n            alt=\"arrow-right-black\"\r\n            /&gt;\r\n        &lt;/span&gt;\r\n    &lt;/a&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"col-12 col-sm-6 col-lg-6 col-xl-3 border border-default py-5 team-box\"&gt;\r\n\r\n    &lt;h4 class=\"px-5\"&gt;Lorem ipsum dolor&lt;/h4&gt;\r\n\r\n    &lt;a href=\"#\" class=\"button-link px-5\"&gt;\r\n        Click Here\r\n        &lt;span class=\"btn-inner--icon\"&gt;\r\n            &lt;img\r\n            src=\"arrow-right-black.svg\"\r\n            alt=\"arrow-right-black\"\r\n            /&gt;\r\n        &lt;/span&gt;\r\n    &lt;/a&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div class=\"col-12 col-sm-6 col-lg-6 col-xl-3 border border-default py-5 team-box\"&gt;\r\n\r\n    &lt;h4 class=\"px-5\"&gt;Lorem ipsum dolor&lt;/h4&gt;\r\n\r\n    &lt;a href=\"#\" class=\"button-link px-5\"&gt;\r\n        Click Here\r\n        &lt;span class=\"btn-inner--icon\"&gt;\r\n            &lt;img\r\n            src=\"arrow-right-black.svg\"\r\n            alt=\"arrow-right-black\"\r\n            /&gt;\r\n        &lt;/span&gt;\r\n    &lt;/a&gt;\r\n\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 147, "user_id": 11147591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02177403f354c6e7c43890ce0d954bd3?s=128&d=identicon&r=PG&f=1", "display_name": "Alany", "link": "https://stackoverflow.com/users/11147591/alany"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1557356456, "creation_date": 1557355945, "question_id": 56050041, "link": "https://stackoverflow.com/questions/56050041/hide-sibling-boxes-animation-using-javascript", "title": "Hide sibling boxes animation using Javascript", "body": "<p>I'd like to animate some javascript here, but can't find a good solution. What i'm trying to do is :\n- When you click on a box, all the other boxes disapear one by one. \n- If the box is let's say last, then it would be coming from last to first bloc, sliding to the left and then next line as the boxes disapear </p>\n\n<p><a href=\"https://i.stack.imgur.com/kgCQ3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kgCQ3.jpg\" alt=\"The boxes\"></a></p>\n\n<p>Right now, i've made some simple jquery but they all disapear at the same time, so it's like ultra weird! But i can't figure out how to animate this correctly. My code looks like this right now :</p>\n\n<pre><code>&lt;div class=\"col-12 col-sm-6 col-lg-6 col-xl-3 border border-default py-5 team-box\"&gt;\n\n    &lt;h4 class=\"px-5\"&gt;Lorem ipsum dolor&lt;/h4&gt;\n\n    &lt;a href=\"#\" class=\"button-link px-5\"&gt;\n        Click Here\n        &lt;span class=\"btn-inner--icon\"&gt;\n            &lt;img\n            src=\"arrow-right-black.svg\"\n            alt=\"arrow-right-black\"\n            /&gt;\n        &lt;/span&gt;\n    &lt;/a&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<pre><code>$(\".team-box\").on(\"click\", function() {\n        event.preventDefault();\n        $(this).siblings().hide();\n    });\n</code></pre>\n\n<p>Could someone guide me on how to achieve this? Thanks a lot guys!</p>\n"}, {"tags": ["javascript", "reactjs", "gatsby"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 11326229, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eLvF1yJwNS0/AAAAAAAAAAI/AAAAAAAAACE/ElmW0saRrZg/photo.jpg?sz=128", "display_name": "Andrew Robinson", "link": "https://stackoverflow.com/users/11326229/andrew-robinson"}, "edited": false, "score": 0, "creation_date": 1557388025, "post_id": 56053506, "comment_id": 98749813, "body": "I did try this and have tried it again just now but it doesn&#39;t seem to work \u2014 I think it&#39;s something to do with Gatsby and how it&#39;s set up, thank you for pointing this out though."}], "tags": [], "owner": {"reputation": 1207, "user_id": 1501643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/iYmYd.jpg?s=128&g=1", "display_name": "henrik123", "link": "https://stackoverflow.com/users/1501643/henrik123"}, "is_accepted": false, "score": 0, "last_activity_date": 1557383801, "creation_date": 1557383801, "answer_id": 56053506, "question_id": 56050030, "link": "https://stackoverflow.com/questions/56050030/components-not-animating-with-react-transition-group-just-updates-instantly/56053506#56053506", "title": "Components not animating with react-transition-group, just updates instantly?", "body": "<p>Remove the opacity property from sidepage class. </p>\n\n<pre><code>.sidepage {\n  background: white;\n  padding: 10px;\n  height: 100%;\n  width: 90vw;\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 10;\n  opacity: 0.4; // remove me\n  transition: all 0.6s;\n}\n</code></pre>\n\n<p>The element get's added with a class of sidepage which has a opacity of 0.4, thats whats breaking the animation. Working demo <a href=\"https://codesandbox.io/s/40k9ol858w\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 11326229, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eLvF1yJwNS0/AAAAAAAAAAI/AAAAAAAAACE/ElmW0saRrZg/photo.jpg?sz=128", "display_name": "Andrew Robinson", "link": "https://stackoverflow.com/users/11326229/andrew-robinson"}, "is_accepted": false, "score": 0, "last_activity_date": 1557616496, "creation_date": 1557616496, "answer_id": 56094973, "question_id": 56050030, "link": "https://stackoverflow.com/questions/56050030/components-not-animating-with-react-transition-group-just-updates-instantly/56094973#56094973", "title": "Components not animating with react-transition-group, just updates instantly?", "body": "<p>Eventually found the solution \u2014 I had a styled <code>&lt;Wrapper&gt;</code> div created using emotion.sh styled components, I was using this to contain all of my content, not sure why but this didn't allow any animations \u2014 changing this to a simple <code>&lt;div&gt;</code> seemed to fix it.</p>\n\n<p>Edit: Probably because it was recreating the Wrapper component on every state change.</p>\n"}], "owner": {"reputation": 71, "user_id": 11326229, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eLvF1yJwNS0/AAAAAAAAAAI/AAAAAAAAACE/ElmW0saRrZg/photo.jpg?sz=128", "display_name": "Andrew Robinson", "link": "https://stackoverflow.com/users/11326229/andrew-robinson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 289, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1557616496, "creation_date": 1557355822, "question_id": 56050030, "link": "https://stackoverflow.com/questions/56050030/components-not-animating-with-react-transition-group-just-updates-instantly", "title": "Components not animating with react-transition-group, just updates instantly?", "body": "<p>I'm trying to animate a sidebar component following the first section on <a href=\"https://css-tricks.com/animating-between-views-in-react/#article-header-id-1\" rel=\"nofollow noreferrer\">this page</a>. When I follow this the component doesn't animate, but simply mounts/unmounts.</p>\n\n<p>The component <code>SidePage</code> is as follows:</p>\n\n<pre><code>import React from \"react\"\nimport { TransitionGroup, CSSTransition } from \"react-transition-group\"\nimport \"./sidePage.css\"\n\nclass SidePage extends React.Component {\n  componentWillMount() {\n    console.log(\"will mount\")\n  }\n  componentDidMount() {\n    console.log(\"did mount\")\n  }\n  componentWillUnmount() {\n    console.log(\"will unmount\")\n  }\n  render() {\n    const { content, sidePageOpen } = this.props\n    return (\n      &lt;TransitionGroup component={null}&gt;\n        {sidePageOpen &amp;&amp; (\n          &lt;CSSTransition key={content.id} classNames=\"sidepage\" timeout={2000}&gt;\n            &lt;div\n              key={content.id}\n              className=\"sidepage\"\n              dangerouslySetInnerHTML={{ __html: content.html }}\n            /&gt;\n          &lt;/CSSTransition&gt;\n        )}\n      &lt;/TransitionGroup&gt;\n    )\n  }\n}\n\nexport default SidePage\n</code></pre>\n\n<p>and the css file:</p>\n\n<pre><code>.sidepage-enter {\n  opacity: 0;\n}\n.sidepage-enter-active {\n  opacity: 1;\n  transition: all 2s;\n}\n.sidepage-exit {\n  opacity: 1;\n}\n.sidepage-exit-active {\n  opacity: 0;\n  transition: all 2s;\n}\n\n.sidepage {\n  background: white;\n  padding: 10px;\n  height: 100%;\n  width: 90vw;\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 10;\n  opacity: 0.4;\n  transition: all 0.6s;\n}\n</code></pre>\n\n<p>Basic stuff I think \u2014 the <code>sidePageOpen</code> is a boolean state passed down, I have a button on another page that toggles this state. If anyone has any ideas/suggestions that would be brilliant and appreciated.</p>\n"}, {"tags": ["javascript", "node.js", "ajax"], "comments": [{"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1557355717, "post_id": 56049994, "comment_id": 98741320, "body": "<code>function readTextFile(&#39;file.txt&#39;)</code>  function parameters are for passing parameters.."}, {"owner": {"reputation": 451, "user_id": 7621800, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5bgURX-h0ns/AAAAAAAAAAI/AAAAAAAABPI/YqTpmw3Jbbw/photo.jpg?sz=128", "display_name": "Atish Shakya", "link": "https://stackoverflow.com/users/7621800/atish-shakya"}, "edited": false, "score": 0, "creation_date": 1557369103, "post_id": 56049994, "comment_id": 98743922, "body": "In the directory where you have the node file.Did you do : npm init &amp;&amp; npm install"}, {"owner": {"reputation": 1489, "user_id": 8758206, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1fe86805d85e756009b155cc9b3a98f3?s=128&d=identicon&r=PG&f=1", "display_name": "user8758206", "link": "https://stackoverflow.com/users/8758206/user8758206"}, "reply_to_user": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1557382436, "post_id": 56049994, "comment_id": 98747248, "body": "re @Keith but in this other post it&#39;s the same: <a href=\"https://stackoverflow.com/questions/14446447/how-to-read-a-local-text-file\" title=\"how to read a local text file\">stackoverflow.com/questions/14446447/&hellip;</a> - how can i fix this?"}, {"owner": {"reputation": 1489, "user_id": 8758206, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1fe86805d85e756009b155cc9b3a98f3?s=128&d=identicon&r=PG&f=1", "display_name": "user8758206", "link": "https://stackoverflow.com/users/8758206/user8758206"}, "reply_to_user": {"reputation": 451, "user_id": 7621800, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5bgURX-h0ns/AAAAAAAAAAI/AAAAAAAABPI/YqTpmw3Jbbw/photo.jpg?sz=128", "display_name": "Atish Shakya", "link": "https://stackoverflow.com/users/7621800/atish-shakya"}, "edited": false, "score": 0, "creation_date": 1557382482, "post_id": 56049994, "comment_id": 98747268, "body": "re @AtishShakya no - do I have to download Node and run something in the command line? (I&#39;m not used to Node) Could you link to some instructions about this method? Thank you"}, {"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 1, "creation_date": 1557391468, "post_id": 56049994, "comment_id": 98751715, "body": "<code>but in this other post it&#39;s the same</code>  No it&#39;s not, it&#39;s <code>function readTextFile(file)</code>, that&#39;s different.."}], "answers": [{"comments": [{"owner": {"reputation": 1489, "user_id": 8758206, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1fe86805d85e756009b155cc9b3a98f3?s=128&d=identicon&r=PG&f=1", "display_name": "user8758206", "link": "https://stackoverflow.com/users/8758206/user8758206"}, "edited": false, "score": 0, "creation_date": 1557437382, "post_id": 56057936, "comment_id": 98775391, "body": "thank you! yes, you&#39;re right - i can see what I did wrong now. Of course - the function just passes in the variable that&#39;s defined &#39;text,txt&#39;!"}], "tags": [], "owner": {"reputation": 451, "user_id": 7621800, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5bgURX-h0ns/AAAAAAAAAAI/AAAAAAAABPI/YqTpmw3Jbbw/photo.jpg?sz=128", "display_name": "Atish Shakya", "link": "https://stackoverflow.com/users/7621800/atish-shakya"}, "is_accepted": true, "score": 1, "last_activity_date": 1557399687, "creation_date": 1557399687, "answer_id": 56057936, "question_id": 56049994, "link": "https://stackoverflow.com/questions/56049994/simply-get-each-line-in-a-txt-file-into-a-javascript-array/56057936#56057936", "title": "Simply get each line in a .txt file into a javascript array", "body": "<pre><code> function readTextFile(textFilePath) { //set a variable\n     var rawFile = new XMLHttpRequest();\n     rawFile.open(\"GET\", textFilePath, false); //user variable here\n     let fileNameArray= [];//defined array here for now\n     rawFile.onreadystatechange = function (){\n           if(rawFile.readyState === 4)\n           {\n              if(rawFile.status === 200 || rawFile.status == 0)\n              {\n                  var allText = rawFile.responseText;\n                  console.log(allText); //check in broswer console\n\n                  //alert(allText)\n                  //or enale the alert function\n\n                  fileNameArray = allText.split('\\n'); //split by line break and add to array\n                  console.log(fileNameArray)\n\n               }\n            }\n      }\n      rawFile.send(null);\n }\n\n readTextFile('./text.txt'); // call function and pass relative path of text file here\n</code></pre>\n"}], "owner": {"reputation": 1489, "user_id": 8758206, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1fe86805d85e756009b155cc9b3a98f3?s=128&d=identicon&r=PG&f=1", "display_name": "user8758206", "link": "https://stackoverflow.com/users/8758206/user8758206"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 56057936, "answer_count": 1, "score": 0, "last_activity_date": 1557399687, "creation_date": 1557355451, "question_id": 56049994, "link": "https://stackoverflow.com/questions/56049994/simply-get-each-line-in-a-txt-file-into-a-javascript-array", "title": "Simply get each line in a .txt file into a javascript array", "body": "<p>Thought this wouldn't be this difficult, but I'm simply trying to get the contents of a file and store each line into an array.</p>\n\n<p>The 'file.txt' file (formatted as plain text):</p>\n\n<pre><code>file1.dwg\nfile2.dwg\nfile3.pdf\nfile4.dwg\nfile5.pdf\n</code></pre>\n\n<p>My javascript code:</p>\n\n<pre><code>function readTextFile('file.txt') {\n    var rawFile = new XMLHttpRequest();\n    rawFile.open(\"GET\", 'file.txt', false);\n    rawFile.onreadystatechange = function ()\n    {\n        if(rawFile.readyState === 4)\n        {\n            if(rawFile.status === 200 || rawFile.status == 0)\n            {\n                var allText = rawFile.responseText;\n                alert(allText);\n            }\n        }\n    }\n    rawFile.send(null);\n}\n</code></pre>\n\n<p>The syntax errors shown in the console:\n<br>- safari: <code>SyntaxError: Unexpected string literal 'file.txt'. Expected a parameter pattern or a ')' in parameter list.</code>\n<br>- chrome: <code>Uncaught SyntaxError: Unexpected string</code></p>\n\n<p>I'm running the files on a simple live server, with the following file structure:\n<br>- file.txt\n<br>- page.html\n<br>- script.js</p>\n\n<p>The page.html just calls the script and is somewhere where I can work and open the console.</p>\n\n<p>Why are the errors occurring, and how can they be fixed? I've tried to follow the instructions from this other post, but it has also failed: <a href=\"https://stackoverflow.com/questions/14446447/how-to-read-a-local-text-file\">How to read a local text file?</a></p>\n\n<p>Then I also tried the node solution and made my code like this:</p>\n\n<pre><code>var fs = require('fs');\nvar array = fs.readFileSync('file.txt').toString().split(\"\\n\");\nfor(i in array) {\n    console.log(array[i]);\n}\n</code></pre>\n\n<p>I know nothing about Node but gave it a go - the errors were:\n<br>- chrome: Uncaught ReferenceError: require is not defined\n<br>- safari: ReferenceError: Can't find variable: require</p>\n\n<p>Thanks for any help here - I don't know how to fix this seemingly simple problem.</p>\n"}, {"tags": ["javascript", "for-loop", "animation", "canvas", "html5-canvas"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11461798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6baf5ea0e8615d741e38e1ec1282c4e7?s=128&d=identicon&r=PG&f=1", "display_name": "GeorgeJ", "link": "https://stackoverflow.com/users/11461798/georgej"}, "edited": false, "score": 0, "creation_date": 1557423602, "post_id": 56063558, "comment_id": 98769596, "body": "Yes your method worked beautifully although it makes the game a tad easier for the user. I am getting an issue where the snake trail falls on the 5 pixel grid I defined in the direction function so it looks collapsed. I feel I would get that issue with any method applied.    The harder method you mentioned was the one I was thinking about implementing. By creating a new direction variable and having it store that variable when pressed and when the snake moves to 30x30 grid point it would then move."}], "tags": [], "owner": {"reputation": 760, "user_id": 5548904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d4c162385f8ffae4e99e414ded49769?s=128&d=identicon&r=PG&f=1", "display_name": "aptriangle", "link": "https://stackoverflow.com/users/5548904/aptriangle"}, "is_accepted": true, "score": 0, "last_activity_date": 1557418214, "creation_date": 1557418214, "answer_id": 56063558, "question_id": 56049960, "link": "https://stackoverflow.com/questions/56049960/is-there-a-specific-method-to-decrease-animation-speed-without-losing-canvas-int/56063558#56063558", "title": "Is there a specific method to decrease animation speed without losing canvas integrity?", "body": "<p>The way I would deal with this is to add some tolerance to the part of your code where you determine whether the snake is touching the apple.</p>\n\n<p>If you change line 81 to:</p>\n\n<pre><code>if (Math.abs(snakeX - apple.x) &lt; pixel &amp;&amp; Math.abs(snakeY - apple.y) &lt; pixel) {\n</code></pre>\n\n<p>Then the apple will be collected if the snake is within \"pixel\" of the apple.</p>\n\n<p>Another approach would be to only allow the user to change the direction the snake was moving when they were exactly over a block. That would be a little more difficult to implement. </p>\n"}], "owner": {"reputation": 3, "user_id": 11461798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6baf5ea0e8615d741e38e1ec1282c4e7?s=128&d=identicon&r=PG&f=1", "display_name": "GeorgeJ", "link": "https://stackoverflow.com/users/11461798/georgej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 56063558, "answer_count": 1, "score": 0, "last_activity_date": 1557418214, "creation_date": 1557355252, "last_edit_date": 1557359230, "question_id": 56049960, "link": "https://stackoverflow.com/questions/56049960/is-there-a-specific-method-to-decrease-animation-speed-without-losing-canvas-int", "title": "Is there a specific method to decrease animation speed without losing canvas integrity?", "body": "<p>I am attempting to smooth out the animation of the snake in my snake game app. It is currently on a 30x30 pixel grid. Canvas is 600x600. When I change the increment labeled pixel to a number I feel works in my direction function. </p>\n\n<p>It throws the 30x30 grid off and moves along the new integer implemented. Thus causing the apple to not get eaten when moving over it.</p>\n\n<pre><code>//sets the starting pixel for the snake &amp; food\nlet pixel = 30;\n</code></pre>\n\n<pre><code> //moves snake according to which direction the user initiates\n    if (snakeDirection == \"LEFT\") snakeX -= pixel;\n    if (snakeDirection == \"UP\") snakeY -= pixel;\n    if (snakeDirection == \"RIGHT\") snakeX += pixel;\n    if (snakeDirection == \"DOWN\") snakeY += pixel;\n</code></pre>\n\n<p>And when it is changed to this:</p>\n\n<pre><code>//moves snake according to which direction the user initiates\n    if (snakeDirection == \"LEFT\") snakeX -= 5;\n    if (snakeDirection == \"UP\") snakeY -= 5;\n    if (snakeDirection == \"RIGHT\") snakeX += 5;\n    if (snakeDirection == \"DOWN\") snakeY += 5;\n</code></pre>\n\n<p>It causes the snake to move to my desired rate but throws it off the grid. </p>\n\n<p>I am drawing my snake calling the array in a for loop to increment in size:</p>\n\n<pre><code>//draws snake\n    for (let i = 0; i &lt; snake.length; i++) {\n        ctx.fillStyle = (i == 0) ? \"red\" : \"white\";\n        ctx.fillRect(snake[i].x, snake[i].y +4.66, pixel, pixel);\n\n        ctx.strokeStyle = (i ==0) ? \"white\" : \"black\";\n        ctx.strokeRect(snake[i].x, snake[i].y +4.66, pixel, pixel);\n    }\n</code></pre>\n\n<p>And I have my snake array set like this:</p>\n\n<pre><code>//creates snake array\nlet snake = [];\nsnake[0] = {\n    x: 15 * pixel,\n    y: 16 * pixel\n}\n</code></pre>\n\n<p>Here is my GitHub link <a href=\"https://github.com/George-Jindo/js-snake-game\" rel=\"nofollow noreferrer\">https://github.com/George-Jindo/js-snake-game</a></p>\n"}, {"tags": ["javascript", "jquery", "asp.net-core", "jquery-validate"], "comments": [{"owner": {"reputation": 94161, "user_id": 594235, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eef15424cd8fedae90eb33394b99cef1?s=128&d=identicon&r=PG", "display_name": "Sparky", "link": "https://stackoverflow.com/users/594235/sparky"}, "edited": false, "score": 0, "creation_date": 1557354776, "post_id": 56049882, "comment_id": 98741093, "body": "ASP?  Are you using the Unobtrusive Validation plugin or not?"}, {"owner": {"reputation": 5827, "user_id": 706346, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/rmF54.jpg?s=128&g=1", "display_name": "Avrohom Yisroel", "link": "https://stackoverflow.com/users/706346/avrohom-yisroel"}, "reply_to_user": {"reputation": 94161, "user_id": 594235, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eef15424cd8fedae90eb33394b99cef1?s=128&d=identicon&r=PG", "display_name": "Sparky", "link": "https://stackoverflow.com/users/594235/sparky"}, "edited": false, "score": 0, "creation_date": 1557355022, "post_id": 56049882, "comment_id": 98741160, "body": "@Sparky No I&#39;m not"}], "answers": [{"comments": [{"owner": {"reputation": 5827, "user_id": 706346, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/rmF54.jpg?s=128&g=1", "display_name": "Avrohom Yisroel", "link": "https://stackoverflow.com/users/706346/avrohom-yisroel"}, "edited": false, "score": 0, "creation_date": 1557404281, "post_id": 56052676, "comment_id": 98758910, "body": "That&#39;s great, exactly what I wanted. makes more sense to use <code>readonly</code> I guess, although I&#39;m still puzzled why the data was posted when I didn&#39;t use <code>jQuery.validate</code>"}], "tags": [], "owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "is_accepted": true, "score": 1, "last_activity_date": 1557379237, "creation_date": 1557379237, "answer_id": 56052676, "question_id": 56049882, "link": "https://stackoverflow.com/questions/56049882/asp-net-core-view-model-when-disabling-form-fields-with-jquery-validate/56052676#56052676", "title": "ASP.NET Core view model when disabling form fields with jQuery.validate", "body": "<p>The reason is that disabled inputs are not submitted with the form.Refer to <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#disabled\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://stackoverflow.com/questions/524222/how-can-i-get-the-form-value-from-a-disabled-input-element\">here</a>.</p>\n\n<p>You should use the <code>readonly</code> attribute rather than <code>disabled</code>. Read-only fields cannot be edited by the user, but are still submitted with the form.</p>\n\n<pre><code>submitHandler: function (form) {\n    $(\"form input\").prop('readonly', true);\n    form.submit();\n}\n</code></pre>\n"}], "owner": {"reputation": 5827, "user_id": 706346, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/rmF54.jpg?s=128&g=1", "display_name": "Avrohom Yisroel", "link": "https://stackoverflow.com/users/706346/avrohom-yisroel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 56052676, "answer_count": 1, "score": 0, "last_activity_date": 1557379237, "creation_date": 1557354664, "last_edit_date": 1557356236, "question_id": 56049882, "link": "https://stackoverflow.com/questions/56049882/asp-net-core-view-model-when-disabling-form-fields-with-jquery-validate", "title": "ASP.NET Core view model when disabling form fields with jQuery.validate", "body": "<p>I have an HTML form, and I would like it so that when the user clicks the submit button, the button and all input elements (textboxes mainly) in the form are disabled, to prevent them from changing any data, or clicking the button a second time. I'm using <code>jQuery.validate</code> on the form without the unobtrusive plug-in.</p>\n\n<p>The markup for the form looks like this (irrelevant markup removed for clarity)...</p>\n\n<pre><code>&lt;form method=\"post\" asp-controller=\"Home\" asp-action=\"Jim\"&gt;\n  &lt;div class=\"form-group row\"&gt;\n    &lt;label for=\"Name\"&gt;Your name&lt;/label&gt;\n    &lt;input type=\"text\" id=\"UserName\" name=\"UserName\"&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"form-group row\"&gt;\n    &lt;label for=\"Email\"&gt;Email&lt;/label&gt;\n    &lt;input type=\"text\" id=\"Email\" name=\"Email\"&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"form-group row\"&gt;\n    &lt;div&gt;\n      &lt;button type=\"submit\"&gt;Submit&lt;/button&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I have the following JavaScript that uses <code>jQuery.validate</code>...</p>\n\n<pre><code>$(\"form\").validate({\n  rules: {\n    UserName: {\n      required: true,\n      minlength: 3\n    },\n    Email: {\n      required: true\n    },\n    Message: {\n      required: true\n    }\n  },\n  submitHandler: function(form) {\n    form.submit();\n  }\n});\n</code></pre>\n\n<p>That's all the JavaScript on the page.</p>\n\n<p>This works fine. However, if I add one line into the submitHandler function...</p>\n\n<pre><code>  submitHandler: function(form) {\n    $(\"form input\").prop('disabled', true);\n    form.submit();\n  }\n</code></pre>\n\n<p>...then when the form is submitted, <code>Request.Form</code> is empty, so none of my data is sent to the server.</p>\n\n<p>It seems to be related to <code>jQuery.validate</code>, as if I completely replace the JavaScript with this...</p>\n\n<pre><code>$(function() {\n  $(\"form\").submit(function(form) {\n    $(\"form input\").prop('disabled', true);\n  });\n});\n</code></pre>\n\n<p>...then the controls are disabled and my data comes through fine. This seem to imply I'm doing something wrong with <code>jQuery.validate</code>.</p>\n\n<p>Anyone able to explain why my data doesn't come through when I disable the controls when using <code>jQuery.validate</code>?</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 2, "creation_date": 1557355133, "post_id": 56049858, "comment_id": 98741184, "body": "<code>onClick</code> will get fired after <code>onMouseUp</code>,  so your <code>onMouseUp</code> is getting triggered and it&#39;s setting the active to false, but then the <code>onClick</code> is triggered putting it back to true.  Try putting <code>console.log</code> in each event handler to see this happen."}, {"owner": {"reputation": 2591, "user_id": 4021059, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/dd30784b88dafdf2595541ab0e257acb?s=128&d=identicon&r=PG&f=1", "display_name": "user1234", "link": "https://stackoverflow.com/users/4021059/user1234"}, "reply_to_user": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1557355673, "post_id": 56049858, "comment_id": 98741306, "body": "my bad, apologies, I shoujld have added this extension. Wht im trying to do is when I click on the element a dropdown opens and the highlight shd stay, asa I click anywhere else the dd and the highlight should not be shown"}, {"owner": {"reputation": 4078, "user_id": 910328, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0a915e8e6fc03e06374254116618c94d?s=128&d=identicon&r=PG", "display_name": "Derek", "link": "https://stackoverflow.com/users/910328/derek"}, "edited": false, "score": 0, "creation_date": 1557355755, "post_id": 56049858, "comment_id": 98741334, "body": "<code>bind</code> vs arrow functions"}, {"owner": {"reputation": 2591, "user_id": 4021059, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/dd30784b88dafdf2595541ab0e257acb?s=128&d=identicon&r=PG&f=1", "display_name": "user1234", "link": "https://stackoverflow.com/users/4021059/user1234"}, "edited": false, "score": 0, "creation_date": 1557355866, "post_id": 56049858, "comment_id": 98741364, "body": "I guess the mouseup event is incorrect for a click release. when I click on the &lt;span&gt; element, first the mouseup is fired and then the onclick, which is fine since I get the active to true, but when I click anywhere outside, no event gets triggered"}, {"owner": {"reputation": 3821, "user_id": 6921829, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TjT5QWqGMDU/AAAAAAAAAAI/AAAAAAAAA9Q/DNCpJksOM88/photo.jpg?sz=128", "display_name": "kos", "link": "https://stackoverflow.com/users/6921829/kos"}, "edited": false, "score": 0, "creation_date": 1557355915, "post_id": 56049858, "comment_id": 98741375, "body": "@user1234, then use <code>onBlur</code> on the <code>select</code>"}, {"owner": {"reputation": 2591, "user_id": 4021059, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/dd30784b88dafdf2595541ab0e257acb?s=128&d=identicon&r=PG&f=1", "display_name": "user1234", "link": "https://stackoverflow.com/users/4021059/user1234"}, "edited": false, "score": 0, "creation_date": 1557355990, "post_id": 56049858, "comment_id": 98741392, "body": "its not only the select that I want to hide, its also the bg color I want to de-highight, onBlur does not help either way, I have tried as I mentioned in the question."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1557355994, "post_id": 56049858, "comment_id": 98741394, "body": "The <code>mouseup</code> event occurs when you release the mouse button. What you need is a second click handler that handles a click on the document. Like this: <a href=\"https://jsfiddle.net/khrismuc/q7xzr9cg/\" rel=\"nofollow noreferrer\">jsfiddle.net/khrismuc/q7xzr9cg</a>"}, {"owner": {"reputation": 2591, "user_id": 4021059, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/dd30784b88dafdf2595541ab0e257acb?s=128&d=identicon&r=PG&f=1", "display_name": "user1234", "link": "https://stackoverflow.com/users/4021059/user1234"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1557356232, "post_id": 56049858, "comment_id": 98741445, "body": "thanks @ChrisG, the bgcolor gets de-highlighted when I click outside the element, just a qq: is there a tweak when even if I click back on the element, it&#39;ll de-highlight the bgcolor"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1557356368, "post_id": 56049858, "comment_id": 98741475, "body": "Yes, just exit the click handler if <code>this.state.active</code> is already <code>true</code>. I updated the fiddle."}, {"owner": {"reputation": 2591, "user_id": 4021059, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/dd30784b88dafdf2595541ab0e257acb?s=128&d=identicon&r=PG&f=1", "display_name": "user1234", "link": "https://stackoverflow.com/users/4021059/user1234"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1557356430, "post_id": 56049858, "comment_id": 98741493, "body": "awesome @ChrisG. thank you!"}], "answers": [{"comments": [{"owner": {"reputation": 2591, "user_id": 4021059, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/dd30784b88dafdf2595541ab0e257acb?s=128&d=identicon&r=PG&f=1", "display_name": "user1234", "link": "https://stackoverflow.com/users/4021059/user1234"}, "edited": false, "score": 0, "creation_date": 1557359796, "post_id": 56050053, "comment_id": 98742164, "body": "hi @Andrew Dibble: thanks for the pure js answer, this helped me another scenario, could you also please suggest a way when clicked on the same element, how to de-highlight the bgcolor?"}, {"owner": {"reputation": 546, "user_id": 10055398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86542d502c061b17e1f5851932411309?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Dibble", "link": "https://stackoverflow.com/users/10055398/andrew-dibble"}, "reply_to_user": {"reputation": 2591, "user_id": 4021059, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/dd30784b88dafdf2595541ab0e257acb?s=128&d=identicon&r=PG&f=1", "display_name": "user1234", "link": "https://stackoverflow.com/users/4021059/user1234"}, "edited": false, "score": 0, "creation_date": 1557413860, "post_id": 56050053, "comment_id": 98764549, "body": "@user1234, I&#39;ve updated my response to answer this question."}, {"owner": {"reputation": 2591, "user_id": 4021059, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/dd30784b88dafdf2595541ab0e257acb?s=128&d=identicon&r=PG&f=1", "display_name": "user1234", "link": "https://stackoverflow.com/users/4021059/user1234"}, "edited": false, "score": 0, "creation_date": 1557422476, "post_id": 56050053, "comment_id": 98769100, "body": "hmm, thats confusing, coz when the user clicks on the &lt;span&gt; element (which is in active state), the handleBodyClick() (which has activeState: false) gets called first and then handleClick() (which negates false and return true) in turn the state being still active. something like: <a href=\"https://jsfiddle.net/zx0m4uwd/1/\" rel=\"nofollow noreferrer\">jsfiddle.net/zx0m4uwd/1</a>"}, {"owner": {"reputation": 546, "user_id": 10055398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86542d502c061b17e1f5851932411309?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Dibble", "link": "https://stackoverflow.com/users/10055398/andrew-dibble"}, "reply_to_user": {"reputation": 2591, "user_id": 4021059, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/dd30784b88dafdf2595541ab0e257acb?s=128&d=identicon&r=PG&f=1", "display_name": "user1234", "link": "https://stackoverflow.com/users/4021059/user1234"}, "edited": false, "score": 1, "creation_date": 1557435140, "post_id": 56050053, "comment_id": 98774542, "body": "You should add a class to those span elements so that the handleBodyClick will only change the state if you click on anything BUT that span element, like so: <a href=\"https://jsfiddle.net/oqtp1ye4/\" rel=\"nofollow noreferrer\">jsfiddle.net/oqtp1ye4</a>"}], "tags": [], "owner": {"reputation": 546, "user_id": 10055398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86542d502c061b17e1f5851932411309?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Dibble", "link": "https://stackoverflow.com/users/10055398/andrew-dibble"}, "is_accepted": true, "score": 1, "last_activity_date": 1557413844, "last_edit_date": 1557413844, "creation_date": 1557356018, "answer_id": 56050053, "question_id": 56049858, "link": "https://stackoverflow.com/questions/56049858/what-is-the-event-that-will-trigger-click-release-javascript-reactjs/56050053#56050053", "title": "What is the event that will trigger click release-Javascript/Reactjs", "body": "<p>I've never found a good way of doing this with just React, so I've fallen back on vanilla JS event listeners.</p>\n\n<pre><code>document.body.addEventListener('click', this.handleBodyClick);\n</code></pre>\n\n<p>This will listen for a click on the body and will fire off the function which will set the active state to false.</p>\n\n<p>Here it is in action: <a href=\"https://jsfiddle.net/sq2ajn8o/30/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/sq2ajn8o/30/</a></p>\n\n<p>If you want to have the active state toggle on click you should use a function that does something like this:</p>\n\n<pre><code>handleClick() {\n  const { activeState } = this.state;\n  this.setState({ activeState: !activeState });\n}\n</code></pre>\n\n<p>If the active state is true, it will change to false and vice versa.</p>\n"}], "owner": {"reputation": 2591, "user_id": 4021059, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/dd30784b88dafdf2595541ab0e257acb?s=128&d=identicon&r=PG&f=1", "display_name": "user1234", "link": "https://stackoverflow.com/users/4021059/user1234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 665, "favorite_count": 1, "accepted_answer_id": 56050053, "answer_count": 1, "score": 0, "last_activity_date": 1557413844, "creation_date": 1557354488, "last_edit_date": 1557355614, "question_id": 56049858, "link": "https://stackoverflow.com/questions/56049858/what-is-the-event-that-will-trigger-click-release-javascript-reactjs", "title": "What is the event that will trigger click release-Javascript/Reactjs", "body": "<p>I'm trying to highlight a  element on click and on release of click event anywhere on the page I want to de-highlight the same  element:</p>\n\n<p>fidde:\n<a href=\"https://jsfiddle.net/3jvpg9t1/2/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/3jvpg9t1/2/</a></p>\n\n<p>code:</p>\n\n<pre><code>    class Hello extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      activeState: false\n    };\n  }\nonmouseup() {\n    this.setState({active: false});\n}\nonClick() {\n    this.setState({active:true});\n}\n  render() {\n  const bgcolor = this.state.active ? \"#e9e9e9\" :\"\"\n    return &lt;div&gt;\n    &lt;span style={{backgroundColor: bgcolor}}onClick={this.onClick.bind(this)} onMouseUp={this.onmouseup.bind(this)}&gt;helo world&lt;/span&gt;\n    {this.state.active &amp;&amp;\n    &lt;select&gt;&lt;option&gt;A&lt;/option&gt;&lt;option&gt;B&lt;/option&gt;&lt;/select&gt;}\n    &lt;/div&gt;\n  }\n}\n\nReactDOM.render(\n  &lt;Hello name=\"World\" /&gt;,\n  document.getElementById('container')\n);\n</code></pre>\n\n<p>but for some reason I'm not getting the event that will trigger when the mouse click is release.\nI tried: <code>onMouseUp, onBlur</code></p>\n\n<p>any ideas?</p>\n"}, {"tags": ["javascript", "google-chrome", "google-cast", "google-cast-sdk"], "comments": [{"owner": {"reputation": 2374, "user_id": 10105321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X354S.gif?s=128&g=1", "display_name": "jess", "link": "https://stackoverflow.com/users/10105321/jess"}, "edited": false, "score": 1, "creation_date": 1557399916, "post_id": 56049833, "comment_id": 98756456, "body": "Can you add any details like: code used, error problem encountered? <a href=\"http://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>, <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a> Show the community what you have tried."}, {"owner": {"reputation": 1149, "user_id": 2710325, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50c913c4ba6622399d4f5c287a168bdb?s=128&d=identicon&r=PG&f=1", "display_name": "Molkobain", "link": "https://stackoverflow.com/users/2710325/molkobain"}, "reply_to_user": {"reputation": 2374, "user_id": 10105321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X354S.gif?s=128&g=1", "display_name": "jess", "link": "https://stackoverflow.com/users/10105321/jess"}, "edited": false, "score": 0, "creation_date": 1557402439, "post_id": 56049833, "comment_id": 98757906, "body": "Hi Jess, made some modifications, hope it&#39;s more clear now."}], "answers": [{"tags": [], "owner": {"reputation": 549, "user_id": 11318899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b73d5de9e8d9dc2294428273b9095f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Anjaneesh Rayapati", "link": "https://stackoverflow.com/users/11318899/anjaneesh-rayapati"}, "is_accepted": false, "score": 1, "last_activity_date": 1559851613, "creation_date": 1559851613, "answer_id": 56484414, "question_id": 56049833, "link": "https://stackoverflow.com/questions/56049833/retrieve-media-info-from-the-current-track-being-played-on-a-specific-chromecast/56484414#56484414", "title": "Retrieve media info from the current track being played on a specific Chromecast", "body": "<p>Please check this: cast.framework.CastContext.getInstance().getCurrentSession().getMediaSession() which has everything for the currently playing content including a media object which includes:\n<a href=\"https://developers.google.com/cast/docs/reference/chrome/chrome.cast.media.MediaInfo\" rel=\"nofollow noreferrer\">https://developers.google.com/cast/docs/reference/chrome/chrome.cast.media.MediaInfo</a></p>\n"}], "owner": {"reputation": 1149, "user_id": 2710325, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50c913c4ba6622399d4f5c287a168bdb?s=128&d=identicon&r=PG&f=1", "display_name": "Molkobain", "link": "https://stackoverflow.com/users/2710325/molkobain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1559851613, "creation_date": 1557354354, "last_edit_date": 1557402421, "question_id": 56049833, "link": "https://stackoverflow.com/questions/56049833/retrieve-media-info-from-the-current-track-being-played-on-a-specific-chromecast", "title": "Retrieve media info from the current track being played on a specific Chromecast", "body": "<p>I'm working on a webpage controling what is being played on a specific Chromecast (there are several on the network) but I'm having trouble with the <a href=\"https://developers.google.com/cast/docs/developers\" rel=\"noreferrer\">Google Cast SDK</a>.</p>\n\n<p>I don't want a sender app, nor register a for an API key, just retrieve the media info currently being played.</p>\n\n<p>On an Android smartphone, you get those information automatically as a notification, or directly in the Google Home application as you can see in the 2 screenshots below, even if you are not the one broadcasting the media.</p>\n\n<p><a href=\"https://i.stack.imgur.com/APa1Y.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/APa1Y.png\" alt=\"Automatic notification\"></a> <a href=\"https://i.stack.imgur.com/3LHOb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3LHOb.png\" alt=\"From Google Home app\"></a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/38269861/android-get-current-playing-media-on-chromecast\">This topic</a> is talking about something similar for an Android app, but I didn't find any similar notions in the Chrome Sender API (javascript).</p>\n\n<p>Using the <a href=\"https://developers.google.com/cast/docs/reference/chrome/\" rel=\"noreferrer\">Chrome Sender API</a>, I'm able to load a media on the chosen chromecast through a basic web app but that's not what I'm looking for. In the online documentation I did not find anything about this particular use case.</p>\n\n<p>FYI the things I have:</p>\n\n<ul>\n<li>ReceiverApplicationId casting to the chromecast</li>\n<li>Chromecast IP / Name / Mac address</li>\n</ul>\n\n<p>Does any of you have an idea how I could do that?\nThanks!</p>\n"}, {"tags": ["javascript", "arrays", "refactoring"], "answers": [{"tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": false, "score": 2, "last_activity_date": 1557354414, "creation_date": 1557354414, "answer_id": 56049848, "question_id": 56049825, "link": "https://stackoverflow.com/questions/56049825/how-would-i-write-a-function-that-takes-in-an-array-of-positive-integers-and-ret/56049848#56049848", "title": "How would I write a function that takes in an array of positive integers and returns an array of the factorials on the numbers?", "body": "<p>Just call <code>.map</code> with your current function:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const factorial = (n) =&gt; {\r\n  if (n === 0) {\r\n    return 1;\r\n  } else {\r\n    return n * factorial(n - 1);\r\n  }\r\n}\r\nconst factorials = arr =&gt; arr.map(factorial);\r\nconsole.log(factorials([2, 4, 6]));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 549, "user_id": 6003521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/raUye.jpg?s=128&g=1", "display_name": "Nasir Khan", "link": "https://stackoverflow.com/users/6003521/nasir-khan"}, "is_accepted": true, "score": 0, "last_activity_date": 1557356562, "creation_date": 1557356562, "answer_id": 56050121, "question_id": 56049825, "link": "https://stackoverflow.com/questions/56049825/how-would-i-write-a-function-that-takes-in-an-array-of-positive-integers-and-ret/56050121#56050121", "title": "How would I write a function that takes in an array of positive integers and returns an array of the factorials on the numbers?", "body": "<p>The reduce() method executes a reducer function (that you provide) on each element of the array, resulting in a single output value. <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\" rel=\"nofollow noreferrer\">See more</a></p>\n\n<p>With <code>.map()</code> you can do it like this-</p>\n\n<pre><code>function factorialize(num) {\n if (num &lt; 0) \n   return -1;\n else if (num == 0) \n   return 1;\n else {\n   return (num * factorialize(num - 1));\n }\n}\nconst numbers = [2,4,6];\nconst factorial = numbers.map(n =&gt; factorialize(n))\nconsole.log(factorial)\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 11461995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a58a2dfba34d84acbec6af50f2b3848?s=128&d=identicon&r=PG&f=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/11461995/jake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 56050121, "answer_count": 2, "score": 2, "last_activity_date": 1557356562, "creation_date": 1557354297, "last_edit_date": 1557354566, "question_id": 56049825, "link": "https://stackoverflow.com/questions/56049825/how-would-i-write-a-function-that-takes-in-an-array-of-positive-integers-and-ret", "title": "How would I write a function that takes in an array of positive integers and returns an array of the factorials on the numbers?", "body": "<p>I would like a function that takes in an array of positive integers and returns the factorials of those integers - using the <code>.map</code> or <code>.reduce</code> methods maybe? </p>\n\n<p>e.g</p>\n\n<p><code>[2, 4, 6]</code> returns <code>[2, 24, 720]</code></p>\n\n<p>The below code works correctly when it is a single integer, but does not return anything when an array is passed. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function factorial(n) {\n  if (n === 0) {\n    return 1;\n  } else {\n    return n * factorial(n - 1);\n  }\n}\n\nfactorial(5); // 120\n</code></pre>\n"}, {"tags": ["javascript", "next.js"], "comments": [{"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1557354460, "post_id": 56049819, "comment_id": 98741010, "body": "Why not do this with server side configuration? P.s. if you don&#39;t tell us exactly what errors you get, or have some idea what the pattern might be of when it happens, it&#39;s pretty difficult to help"}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1557354891, "post_id": 56049819, "comment_id": 98741128, "body": "<code>const loaded = await window.document</code> what&#39;s goin on here? is that some next.js magic?"}, {"owner": {"reputation": 107, "user_id": 9744446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/413728c356831485682bd5f5197ddd02?s=128&d=identicon&r=PG&f=1", "display_name": "basic", "link": "https://stackoverflow.com/users/9744446/basic"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1557357715, "post_id": 56049819, "comment_id": 98741774, "body": "@ADyson I&#39;ve tried to do this via server side but I was having more issues trying to implement a redirect on the backend using GraphQL Yoga rather than express. I can&#39;t pinpoint exactly what is going wrong, but if the browser doesn&#39;t detect an https href, it refreshes and redirects from HTTP to HTTPS. It&#39;s quite random but 1 out of 5 times entering www.example.com it fails to redirect to an ssl connection and cors jumps in and page just continually refreshes. I can fix this by manually refreshing myself. I asume this is something to do with my loaded check."}, {"owner": {"reputation": 107, "user_id": 9744446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/413728c356831485682bd5f5197ddd02?s=128&d=identicon&r=PG&f=1", "display_name": "basic", "link": "https://stackoverflow.com/users/9744446/basic"}, "reply_to_user": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1557357811, "post_id": 56049819, "comment_id": 98741797, "body": "@KevinB From what I understand it&#39;s the same as writing if (window.document) { let httpTokens = /^http:\\/\\/(.*)$/.exec(window.location.href);         if(httpTokens) {            window.location.replace(&#39;https://&#39; + httpTokens[1]);         } }"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1557381019, "post_id": 56049819, "comment_id": 98746698, "body": "Again, exactly what error do you get when this happens?"}], "owner": {"reputation": 107, "user_id": 9744446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/413728c356831485682bd5f5197ddd02?s=128&d=identicon&r=PG&f=1", "display_name": "basic", "link": "https://stackoverflow.com/users/9744446/basic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557354276, "creation_date": 1557354276, "question_id": 56049819, "link": "https://stackoverflow.com/questions/56049819/client-side-https-redirecting-issue", "title": "Client side HTTPS redirecting issue", "body": "<p>I'm having temperamental HTTP to HTTPS client side redirections, say if I enter example.com and www.example.com for most of the part they both redirect to <a href=\"https://www.example.com\" rel=\"nofollow noreferrer\">https://www.example.com</a> but on the odd occasion I run into cors issues and it doesn't redirect to HTTPS. I'm using next js for server-side rendering if that has any effect on why I'm experiencing this problem? Here is my code I am using</p>\n\n<pre><code>const httpsRedirect = async () =&gt; {\n      const loaded = await window.document\n      if(loaded) {\n        let httpTokens = /^http:\\/\\/(.*)$/.exec(window.location.href);\n        if(httpTokens) { \n          window.location.replace('https://' + httpTokens[1]);\n        }\n      }\n}\nhttpsRedirect()\n</code></pre>\n"}, {"tags": ["javascript", "callstack", "executioncontext"], "comments": [{"owner": {"reputation": 5440, "user_id": 417866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958d07f426a20a9bc1bb7db75086f9d5?s=128&d=identicon&r=PG", "display_name": "Arash Motamedi", "link": "https://stackoverflow.com/users/417866/arash-motamedi"}, "edited": false, "score": 0, "creation_date": 1557354806, "post_id": 56049818, "comment_id": 98741102, "body": "What do you mean by &quot;the string gets returned&quot;? Goes like this: Enter three -&gt; Enter two -&gt; Enter one -&gt; Return to two with string -&gt; Return to one with string -&gt; Return to global with string. Right?"}, {"owner": {"reputation": 95, "user_id": 6333201, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VTyCY.png?s=128&g=1", "display_name": "Eug", "link": "https://stackoverflow.com/users/6333201/eug"}, "reply_to_user": {"reputation": 5440, "user_id": 417866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958d07f426a20a9bc1bb7db75086f9d5?s=128&d=identicon&r=PG", "display_name": "Arash Motamedi", "link": "https://stackoverflow.com/users/417866/arash-motamedi"}, "edited": false, "score": 0, "creation_date": 1557355080, "post_id": 56049818, "comment_id": 98741178, "body": "I edited my question to be more specific. I meant the string that was returned from function one()."}], "answers": [{"comments": [{"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 1, "creation_date": 1557355549, "post_id": 56049948, "comment_id": 98741277, "body": "I think you was correct the first time, because if <code>one</code> doesn&#39;t get returned after <code>one()</code> is called, <code>two()</code> wouldn&#39;t be able to use the return from <code>one</code>, and that would just be silly.. :)"}, {"owner": {"reputation": 95, "user_id": 6333201, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VTyCY.png?s=128&g=1", "display_name": "Eug", "link": "https://stackoverflow.com/users/6333201/eug"}, "reply_to_user": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1557355850, "post_id": 56049948, "comment_id": 98741358, "body": "@Keith Hmmm, you make a good point. But when I tried running this piece of code in Chrome with the debugger set, &quot;I&#39;m function ONE!!!&quot; gets printed to the console AFTER the Call Stack was empty. Which led me to believe that  all functions that had to be popped off the stack for one() to return. Please correct me if I&#39;m wrong."}, {"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1557356287, "post_id": 56049948, "comment_id": 98741459, "body": "Why would <code>&quot;I&#39;m function ONE!!!&quot;</code> be logged to the console,  your not console logging anything?.  I&#39;m not sure what your trying to solve, but remember Javascript  UI is event driven, as such while Javascript is running some blocking code, the event queue does not run, so anything visual will be delayed, maybe it&#39;s this your referring too."}, {"owner": {"reputation": 95, "user_id": 6333201, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VTyCY.png?s=128&g=1", "display_name": "Eug", "link": "https://stackoverflow.com/users/6333201/eug"}, "reply_to_user": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1557363242, "post_id": 56049948, "comment_id": 98742777, "body": "I&#39;m not trying to solve anything. Per my question, it&#39;s the fundamentals of JS I&#39;m trying to understand. And it does print to the console if you run the code in any browser console. Also, I wasn&#39;t referring to any events as the above code does not refer to any web API&#39;s. I hope that clears things up."}, {"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1557391906, "post_id": 56049948, "comment_id": 98751947, "body": "I know your not using any event&#39;s, I never said you did.  I said if you block the UI,the event queue also gets blocked.  And the code you posted, prints nothing to the console, I&#39;ve even converted your code into a runable snippet.  If I run it here in Chrome nothing gets sent to the console, as would be expected, as your code doesn&#39;t have 1 line of code that sends anything to the console."}, {"owner": {"reputation": 95, "user_id": 6333201, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VTyCY.png?s=128&g=1", "display_name": "Eug", "link": "https://stackoverflow.com/users/6333201/eug"}, "reply_to_user": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1557414587, "post_id": 56049948, "comment_id": 98764982, "body": "I&#39;m not sure how your comment is adding to further the discussion on getting to a solution. Copy paste the code into a browser console, it should print what is getting returned."}, {"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 0, "creation_date": 1557418493, "post_id": 56049948, "comment_id": 98767308, "body": "Fair enough,.  I obviously just don&#39;t understand the problem, as such it&#39;s tricky for me to give you a solution.  If you could make a simple snippet demonstrating the problem, then it&#39;s more likely somebody might be able to give you a solution."}], "tags": [], "owner": {"reputation": 95, "user_id": 6333201, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VTyCY.png?s=128&g=1", "display_name": "Eug", "link": "https://stackoverflow.com/users/6333201/eug"}, "is_accepted": false, "score": -1, "last_activity_date": 1557414460, "last_edit_date": 1557414460, "creation_date": 1557355181, "answer_id": 56049948, "question_id": 56049818, "link": "https://stackoverflow.com/questions/56049818/call-stack-order-of-operations-in-javascript-js-foundational-concept/56049948#56049948", "title": "Call Stack order of operations in Javascript - JS foundational concept", "body": "<p>After going through my code with the debugger in the browser, I have come to the conclusion that \"I'm function ONE!!!\" gets returned after EVERY function (one, two, and three) is popped off the Call Stack.</p>\n\n<p>So I might have been wrong that \"I'm function ONE!!!\" gets returned right after one() is called.</p>\n"}], "owner": {"reputation": 95, "user_id": 6333201, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VTyCY.png?s=128&g=1", "display_name": "Eug", "link": "https://stackoverflow.com/users/6333201/eug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1557414460, "creation_date": 1557354273, "last_edit_date": 1557391749, "question_id": 56049818, "link": "https://stackoverflow.com/questions/56049818/call-stack-order-of-operations-in-javascript-js-foundational-concept", "title": "Call Stack order of operations in Javascript - JS foundational concept", "body": "<p>When running this piece of code, the JS engine pushes three(), two(), one() to the call stack, and in this order. \nMy question is:\nDoes the string \"I'm function ONE!!!\" return after one() is popped off the stack OR after two() and three() are popped off the stack? </p>\n\n<p>I'm under the assumption that \"I'm function ONE!!!\" gets returned right after one is popped off the stack, and NOT after every function is popped off the stack. </p>\n\n<p>Can someone correct me if I'm wrong?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function one() {\r\n  return \"I'm function ONE!!!\";\r\n}\r\n\r\nfunction two() {\r\n  return one();\r\n}\r\n\r\nfunction three() {\r\n  return two();\r\n}\r\n\r\nthree();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "node.js"], "comments": [{"owner": {"reputation": 893, "user_id": 3461747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FTFH3.jpg?s=128&g=1", "display_name": "RichS", "link": "https://stackoverflow.com/users/3461747/richs"}, "edited": false, "score": 1, "creation_date": 1557354233, "post_id": 56049771, "comment_id": 98740967, "body": "You just need to change the scope of the variable. Be careful though when expanding the scope of variables. I.e., you would set the title outside of your router callbacks, and then reference it inside."}, {"owner": {"reputation": 893, "user_id": 3461747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FTFH3.jpg?s=128&g=1", "display_name": "RichS", "link": "https://stackoverflow.com/users/3461747/richs"}, "edited": false, "score": 1, "creation_date": 1557354291, "post_id": 56049771, "comment_id": 98740983, "body": "A cleaner alternative could be using express&#39; built-in <code>app.set()</code> and <code>app.get()</code> methods for sharing variables. (I.e., <code>app.get(&#39;title&#39;)</code>)"}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "reply_to_user": {"reputation": 893, "user_id": 3461747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FTFH3.jpg?s=128&g=1", "display_name": "RichS", "link": "https://stackoverflow.com/users/3461747/richs"}, "edited": false, "score": 1, "creation_date": 1557354613, "post_id": 56049771, "comment_id": 98741047, "body": "@RichS Good idea, please post it as an answer with a full example"}], "answers": [{"tags": [], "owner": {"reputation": 893, "user_id": 3461747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FTFH3.jpg?s=128&g=1", "display_name": "RichS", "link": "https://stackoverflow.com/users/3461747/richs"}, "is_accepted": false, "score": 0, "last_activity_date": 1557356212, "last_edit_date": 1557356212, "creation_date": 1557355340, "answer_id": 56049976, "question_id": 56049771, "link": "https://stackoverflow.com/questions/56049771/how-can-i-get-data-from-a-get-function-to-another-function-in-the-same-js-file-i/56049976#56049976", "title": "How can I get data from a get function to another function in the same js file in node.js?", "body": "<p>You just need to change the scope of the variable. Be careful though when expanding the scope of variables. I.e., you would set the title outside of your router callbacks, and then reference it inside. Also, as your web app grows, it's possible you'll have many different pages, each with their own page titles. </p>\n\n<p>The easy way to make this work is to initialize the title outside the route handler:</p>\n\n<pre><code>// Here, I'm using Object.freeze, assuming you want the map to be \n// immutable (i.e., not accidentally changed by other parts of the code)\n// (const titles = { ... } won't achieve it)\nlet titles = Object.freeze({ /* Formatted as a \"route\" --&gt; \"title\" map */\n  index: 'Express'    \n});\n\nrouter.get('/', function(req, res, next) {\n  const routeName = 'index'\n  res.render(routeName, { title: titles[routeName] });\n});\n\nrouter.post('/', function(req, res) {\n  const routeName = 'index'\n  // Access your title here:\n  console.log(titles[routeName]);\n});\n</code></pre>\n\n<p>As an alternative, expressJS allows us to use <code>app.get()</code> and <code>app.set()</code> methods. Usually most expressJS apps start out like this:</p>\n\n<pre><code>let app = express();\n</code></pre>\n\n<p>You can stash variables associated with the app like this:</p>\n\n<pre><code>app.set('indexTitle', 'Express');\n</code></pre>\n\n<p>So that way in your route handler, you can access like this:</p>\n\n<pre><code>router.get('/', function(req, res, next) {\n  res.render(routeName, { title: app.get('indexTitle') });\n});\n\nrouter.post('/', function(req, res) {\n  // Access your title here:\n  console.log(app.get('indexTitle'));\n});\n</code></pre>\n\n<p>Yet, an even easier approach may be to let the front-end keep track of all the page titles, and, if the title is absolutely something the back-end needs, the front-end can simply post that in the <code>req.body</code>. Yes, might be overkill, but it would eliminate the need for the server to keep track of it:</p>\n\n<pre><code>router.post('/', function(req, res) {\n  // Access your title here:\n  console.log(req.body.pageTitle);\n});\n</code></pre>\n"}], "owner": {"reputation": 54, "user_id": 9659614, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CyBmQz72sGo/AAAAAAAAAAI/AAAAAAAAAEw/Gk3i2O42C7g/photo.jpg?sz=128", "display_name": "10ZKhaled", "link": "https://stackoverflow.com/users/9659614/10zkhaled"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557356212, "creation_date": 1557353994, "last_edit_date": 1557354075, "question_id": 56049771, "link": "https://stackoverflow.com/questions/56049771/how-can-i-get-data-from-a-get-function-to-another-function-in-the-same-js-file-i", "title": "How can I get data from a get function to another function in the same js file in node.js?", "body": "<p>I want to get data out of a <code>router.get()</code> function to another function located in the same JS file.</p>\n\n<p>I have a data sent to a get method:</p>\n\n<pre><code>router.get('/', function(req, res, next) {\n  res.render('index', { title: 'Express' });\n});\n</code></pre>\n\n<p>Now I want to use <code>title</code> variable in another method:</p>\n\n<pre><code>router.post('/', function(req, res) {\n // I want to use the title variable in here\n});\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["javascript", "reactjs", "jquery-isotope", "gatsby"], "comments": [{"owner": {"reputation": 67463, "user_id": 203130, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1RE8c.jpg?s=128&g=1", "display_name": "coreyward", "link": "https://stackoverflow.com/users/203130/coreyward"}, "edited": false, "score": 1, "creation_date": 1557373926, "post_id": 56049704, "comment_id": 98744818, "body": "If you want a masonry layout you may want to use <a href=\"https://www.npmjs.com/package/react-masonry-component\" rel=\"nofollow noreferrer\">react-masonry-component</a>, but as far as using Isotope and React together you&#39;re likely to run into issues because React doesn\u2019t expect other tools to manipulate the DOM, meanwhile Isotope expects all of your state to be in the DOM. They&#39;re like oil and water."}, {"owner": {"reputation": 235, "user_id": 8959368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25ceda5a7b653e0ad68d3ed76ba95498?s=128&d=identicon&r=PG&f=1", "display_name": "taylor018", "link": "https://stackoverflow.com/users/8959368/taylor018"}, "reply_to_user": {"reputation": 67463, "user_id": 203130, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1RE8c.jpg?s=128&g=1", "display_name": "coreyward", "link": "https://stackoverflow.com/users/203130/coreyward"}, "edited": false, "score": 0, "creation_date": 1557777080, "post_id": 56049704, "comment_id": 98871188, "body": "Thanks. I ended up using the react-masonry-component."}], "answers": [{"comments": [{"owner": {"reputation": 235, "user_id": 8959368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25ceda5a7b653e0ad68d3ed76ba95498?s=128&d=identicon&r=PG&f=1", "display_name": "taylor018", "link": "https://stackoverflow.com/users/8959368/taylor018"}, "edited": false, "score": 0, "creation_date": 1557356346, "post_id": 56050022, "comment_id": 98741471, "body": "Oh right, that was it. Thanks! It&#39;s still not displaying right though but that&#39;s a different issue."}], "tags": [], "owner": {"reputation": 9327, "user_id": 10340970, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vjxtktRxaKk/AAAAAAAAAAI/AAAAAAAAAOk/TCtUOY0N3T8/photo.jpg?sz=128", "display_name": "Derek Nguyen", "link": "https://stackoverflow.com/users/10340970/derek-nguyen"}, "is_accepted": true, "score": 0, "last_activity_date": 1557355730, "creation_date": 1557355730, "answer_id": 56050022, "question_id": 56049704, "link": "https://stackoverflow.com/questions/56049704/using-isotope-js-with-react-to-create-a-masonry-layout-with-filters/56050022#56050022", "title": "Using Isotope.js with React to create a masonry layout with filters?", "body": "<p>In this line</p>\n\n<pre><code>const posts = this.props.data.allMarkdownRemark.node\n</code></pre>\n\n<p>Didn't you mean to get <code>allMarkdownRemark.edges</code> instead? <code>allMarkdownRemark.node</code> is definitely undefined.</p>\n"}], "owner": {"reputation": 235, "user_id": 8959368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25ceda5a7b653e0ad68d3ed76ba95498?s=128&d=identicon&r=PG&f=1", "display_name": "taylor018", "link": "https://stackoverflow.com/users/8959368/taylor018"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1445, "favorite_count": 1, "accepted_answer_id": 56050022, "answer_count": 1, "score": 2, "last_activity_date": 1557355730, "creation_date": 1557353582, "question_id": 56049704, "link": "https://stackoverflow.com/questions/56049704/using-isotope-js-with-react-to-create-a-masonry-layout-with-filters", "title": "Using Isotope.js with React to create a masonry layout with filters?", "body": "<p>I'm building a blog with Gatsby and I'm trying to implement a masonry grid with filters to display my posts. In the past, I did this by using Isotope.js so I went with that again. But, it's not really working. I'm still very new to React so I can't figure out what wrong.</p>\n\n<p>I'm getting this error: <code>TypeError: Cannot read property 'map' of undefined</code></p>\n\n<pre><code>import React from 'react';\nimport Img from 'gatsby-image';\nimport { Link, StaticQuery } from 'gatsby';\nimport Isotope from \"isotope-layout/js/isotope\";\nimport PropTypes from 'prop-types';\n\nclass FilterGrid extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onFilterChange = this.onFilterChange.bind(this);\n  }\n\n  // Click Function\n  onFilterChange = (newFilter) =&gt; {\n    if (this.iso === undefined) {\n      this.iso = new Isotope('#grid-container', {\n        itemSelector: '.grid-item',\n        layoutMode: \"fitRows\",\n        percentPosition: true,\n        fitRows: {\n          gutter: '.gutter-sizer'\n        }\n      });\n    }\n    if(newFilter === '*') {\n      this.iso.arrange({ filter: `*` });\n    } else {\n      this.iso.arrange({ filter: `.${newFilter}` });\n    }\n  }\n\n  render() {\n    const posts = this.props.data.allMarkdownRemark.node\n\n    return(\n      // Filter Buttons\n      &lt;section className=\"section\"&gt;\n        &lt;div className=\"button-group filter-button-group grid-filters\"&gt;\n          &lt;div className=\"tabs is-centered is-toggle\"&gt;\n            &lt;ul id=\"portfolio-flters\"&gt;\n              &lt;li data-filter=\"*\" onClick={() =&gt; {this.onFilterChange(\"*\")}}&gt;All&lt;/li&gt;\n              &lt;li data-filter=\"brandy\" onClick={() =&gt; {this.onFilterChange(\"brandy\")}}&gt;Brandy&lt;/li&gt;\n              &lt;li data-filter=\"cacha\u00e7a\" onClick={() =&gt; {this.onFilterChange(\"cacha\u00e7a\")}}&gt;Cacha\u00e7a&lt;/li&gt;\n              &lt;li data-filter=\"gin\" onClick={() =&gt; {this.onFilterChange(\"gin\")}}&gt;Gin&lt;/li&gt;\n              &lt;li data-filter=\"mexcal\" onClick={() =&gt; {this.onFilterChange(\"mezcal\")}}&gt;Mezcal&lt;/li&gt;\n              &lt;li data-filter=\"rum\" onClick={() =&gt; {this.onFilterChange(\"rum\")}}&gt;Rum&lt;/li&gt;\n              &lt;li data-filter=\"tequila\" onClick={() =&gt; {this.onFilterChange(\"tequila\")}}&gt;Tequila&lt;/li&gt;\n              &lt;li data-filter=\"whiskey\" onClick={() =&gt; {this.onFilterChange(\"whiskey\")}}&gt;Whiskey&lt;/li&gt;\n              &lt;li data-filter=\"vodka\" onClick={() =&gt; {this.onFilterChange(\"vodka\")}}&gt;Vodka&lt;/li&gt;\n            &lt;/ul&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n\n      &lt;div className=\"grid\" id=\"grid-container\"&gt;\n        &lt;div className=\"grid-sizer\"&gt;&lt;/div&gt;\n        &lt;div className=\"gutter-sizer\"&gt;&lt;/div&gt;\n        {posts.map(post =&gt; (\n          &lt;div className=\"grid-item {post.frontmatter.category}\"&gt;\n              &lt;Link to={post.fields.slug}&gt;\n                  &lt;figure className=\"image\"&gt;\n                      &lt;Img fluid={post.frontmatter.image.childImageSharp.fluid} /&gt;\n                      &lt;figcaption&gt;\n                          &lt;h4 className=\"title is-4\"&gt;{post.frontmatter.title}&lt;/h4&gt;\n                      &lt;p className=\"grid-item-blurb\"&gt;{post.frontmatter.description}&lt;/p&gt;\n                      &lt;/figcaption&gt;\n                  &lt;/figure&gt;\n              &lt;/Link&gt;\n          &lt;/div&gt;\n        ))}\n      &lt;/div&gt;\n    &lt;/section&gt;\n    )\n  }\n}\n\nFilterGrid.propTypes = {\n  data: PropTypes.shape({\n    allMarkdownRemark: PropTypes.shape({\n      edges: PropTypes.array,\n    }),\n  }),\n}\n\nexport default () =&gt; (\n  &lt;StaticQuery\n    query = {graphql`\n      query FilterGridQuery {\n        allMarkdownRemark (\n          sort: { fields: [frontmatter___date], order: DESC}\n          filter: { frontmatter: {templateKey: {eq: \"recipe\"}}}\n          ) {\n        edges{\n          node{\n            id\n            frontmatter {\n               title\n               date\n               description\n               image {\n                 childImageSharp {\n                   resize(width: 1500, height: 1500) {\n                     src\n                   }\n                   fluid(maxWidth: 786) {\n                     ...GatsbyImageSharpFluid\n                   }\n                 }\n               }\n            }\n            fields {\n              slug\n            }\n          }\n        }\n      }\n    }\n  `}\n  render={(data, count) =&gt; &lt;FilterGrid data={data} count={count} /&gt;}\n  /&gt;\n\n)\n</code></pre>\n\n<p>I'm only trying to use Isotope.js because I've used it before but if there's a better way to do this please let me know! This is driving me crazy!</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["javascript", "python", "node.js"], "comments": [{"owner": {"reputation": 326, "user_id": 8229636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FcHyN.jpg?s=128&g=1", "display_name": "Lawrence", "link": "https://stackoverflow.com/users/8229636/lawrence"}, "edited": false, "score": 0, "creation_date": 1557353216, "post_id": 56049635, "comment_id": 98740707, "body": "Is this for node.js or client-side?"}, {"owner": {"reputation": 150, "user_id": 10985704, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qr9cGw8Pl-0/AAAAAAAAAAI/AAAAAAAAA-E/oVizkas6ZGM/photo.jpg?sz=128", "display_name": "Kai036", "link": "https://stackoverflow.com/users/10985704/kai036"}, "reply_to_user": {"reputation": 326, "user_id": 8229636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FcHyN.jpg?s=128&g=1", "display_name": "Lawrence", "link": "https://stackoverflow.com/users/8229636/lawrence"}, "edited": false, "score": 0, "creation_date": 1557353318, "post_id": 56049635, "comment_id": 98740742, "body": "This is for node.js."}, {"owner": {"reputation": 152, "user_id": 8968219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OhDIN.png?s=128&g=1", "display_name": "Mladen Skrbic", "link": "https://stackoverflow.com/users/8968219/mladen-skrbic"}, "edited": false, "score": 0, "creation_date": 1557353394, "post_id": 56049635, "comment_id": 98740761, "body": "you can run python in node.js enviroment, there are npm packages that will do that for you, but i dont think you can run python in browser enviroment without something like we asembly, but i am not really familiar with it"}, {"owner": {"reputation": 326, "user_id": 8229636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FcHyN.jpg?s=128&g=1", "display_name": "Lawrence", "link": "https://stackoverflow.com/users/8229636/lawrence"}, "edited": false, "score": 0, "creation_date": 1557353514, "post_id": 56049635, "comment_id": 98740797, "body": "The only way I know of to run python in node would be to spawn a child process, however it seems like you should be able to do what you want to do entirely in one language. <a href=\"https://stackoverflow.com/questions/34974712/node-js-capture-keyboard-press-and-mouse-movement-not-on-web-browser\">This post</a> shows two different methods of capturing keyboard input in node.js"}, {"owner": {"reputation": 3821, "user_id": 6921829, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TjT5QWqGMDU/AAAAAAAAAAI/AAAAAAAAA9Q/DNCpJksOM88/photo.jpg?sz=128", "display_name": "kos", "link": "https://stackoverflow.com/users/6921829/kos"}, "edited": false, "score": 1, "creation_date": 1557353638, "post_id": 56049635, "comment_id": 98740830, "body": "This question might help you with emitting keyboard events in JS: <a href=\"https://stackoverflow.com/questions/21848747/node-js-javascript-simulate-keypress-on-server-like-a-macro\">&quot;Node.js JavaScript: Simulate Keypress on Server (Like a Macro)&quot;</a>"}], "owner": {"reputation": 150, "user_id": 10985704, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qr9cGw8Pl-0/AAAAAAAAAAI/AAAAAAAAA-E/oVizkas6ZGM/photo.jpg?sz=128", "display_name": "Kai036", "link": "https://stackoverflow.com/users/10985704/kai036"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 395, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1557354528, "creation_date": 1557353057, "last_edit_date": 1557354528, "question_id": 56049635, "link": "https://stackoverflow.com/questions/56049635/run-a-python-function-in-javascript", "title": "Run a Python function in Javascript", "body": "<p>I have some code written in python that uses PyAutoGui:</p>\n\n<pre><code>import pyautogui\n\ndef mult_choice(OPTION):\n    if OPTION == 1:\n        pyautogui.press('1')\n    elif OPTION == 2:\n        pyautogui.press('2')\n    elif OPTION == 3:\n        pyautogui.press('3')\n    elif OPTION == 4:\n        pyautogui.press('4')\n    sleep(2)\n</code></pre>\n\n<p>I also plan to write some code in Javascript that will get the variable OPTION. As far as I know, you can't control the keyboard in Javascript, so I wrote that part in Python. However, I wasn't sure if it is possible to run a python function in a Javascript program. If this is possible, someone explaining it to me would be appreciated.</p>\n"}, {"tags": ["javascript", "highcharts"], "comments": [{"owner": {"reputation": 449, "user_id": 2833434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/403c8d8fcaba447f545e5ac85848a812?s=128&d=identicon&r=PG&f=1", "display_name": "Shail_bee", "link": "https://stackoverflow.com/users/2833434/shail-bee"}, "edited": false, "score": 0, "creation_date": 1557382845, "post_id": 56049621, "comment_id": 98747415, "body": "Please include a Minimal, Complete, and Verifiable example to your question. Otherwise it may be impossible to tell exactly where the issue lies."}, {"owner": {"reputation": 25325, "user_id": 8951377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MYqI.jpg?s=128&g=1", "display_name": "ppotaczek", "link": "https://stackoverflow.com/users/8951377/ppotaczek"}, "edited": false, "score": 0, "creation_date": 1557411235, "post_id": 56049621, "comment_id": 98762974, "body": "Hi @Bob Fleming, That chart type is not supported by default in Highcharts. You can try to combine two charts: <code>column</code> series in <code>polar</code> chart and <code>sunburst</code>. Please check this example: <a href=\"https://jsfiddle.net/BlackLabel/sgvoxf37/\" rel=\"nofollow noreferrer\">jsfiddle.net/BlackLabel/sgvoxf37</a>"}, {"owner": {"reputation": 3, "user_id": 2238134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b87c8d8175ae92061656c9b03c6e51ea?s=128&d=identicon&r=PG", "display_name": "Bob Fleming", "link": "https://stackoverflow.com/users/2238134/bob-fleming"}, "reply_to_user": {"reputation": 25325, "user_id": 8951377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MYqI.jpg?s=128&g=1", "display_name": "ppotaczek", "link": "https://stackoverflow.com/users/8951377/ppotaczek"}, "edited": false, "score": 0, "creation_date": 1557429869, "post_id": 56049621, "comment_id": 98772420, "body": "@ppotaczek that is great. I think this is just what we need. Thank you so much!"}, {"owner": {"reputation": 25325, "user_id": 8951377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MYqI.jpg?s=128&g=1", "display_name": "ppotaczek", "link": "https://stackoverflow.com/users/8951377/ppotaczek"}, "edited": false, "score": 0, "creation_date": 1557469636, "post_id": 56049621, "comment_id": 98782544, "body": "@Bob Fleming, I added the suggestion as an answer. If it was helpful you can accept it."}], "answers": [{"tags": [], "owner": {"reputation": 25325, "user_id": 8951377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MYqI.jpg?s=128&g=1", "display_name": "ppotaczek", "link": "https://stackoverflow.com/users/8951377/ppotaczek"}, "is_accepted": true, "score": 0, "last_activity_date": 1557469549, "creation_date": 1557469549, "answer_id": 56071878, "question_id": 56049621, "link": "https://stackoverflow.com/questions/56049621/is-it-possible-to-create-a-multi-level-stacked-donut-chart-with-variable-diame/56071878#56071878", "title": "Is it possible to create a multi level (stacked) donut chart with variable diameter on the last stack", "body": "<p>That chart type is not supported by default in Highcharts, but you can combine two charts: <code>column</code> series in <code>polar</code> chart and <code>sunburst</code>:</p>\n\n<pre><code>Highcharts.chart('container', {\n    chart: {\n        polar: true,\n        type: 'column',\n        ...\n    },\n    ...\n});\n\n\nHighcharts.chart('container2', {\n    chart: {\n        type: \"sunburst\",\n        ...\n    },\n    ...\n});\n</code></pre>\n\n<p><strong>Live demo:</strong> <a href=\"https://jsfiddle.net/BlackLabel/sgvoxf37/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/BlackLabel/sgvoxf37/</a></p>\n"}], "owner": {"reputation": 3, "user_id": 2238134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b87c8d8175ae92061656c9b03c6e51ea?s=128&d=identicon&r=PG", "display_name": "Bob Fleming", "link": "https://stackoverflow.com/users/2238134/bob-fleming"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 56071878, "answer_count": 1, "score": 0, "last_activity_date": 1557469549, "creation_date": 1557352963, "last_edit_date": 1557369443, "question_id": 56049621, "link": "https://stackoverflow.com/questions/56049621/is-it-possible-to-create-a-multi-level-stacked-donut-chart-with-variable-diame", "title": "Is it possible to create a multi level (stacked) donut chart with variable diameter on the last stack", "body": "<p>Is it possible to create a spider chart or sunburst or stacked doughnut chart in Highcharts or another charting library that has fixed width on the outer level and variable length similar to this one:</p>\n\n<p><a href=\"https://www.dropbox.com/s/b13tj46svjpxrku/image.png?dl=0\" rel=\"nofollow noreferrer\">https://www.dropbox.com/s/b13tj46svjpxrku/image.png?dl=0</a></p>\n\n<p>To confirm, I need to indicate the last data set visually by length so if one bar is 5 a and one is 10 then the second bar is twice as long.</p>\n"}, {"tags": ["javascript", "csv", "d3.js", "promise"], "comments": [{"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1557352714, "post_id": 56049572, "comment_id": 98740574, "body": "You have to call <code>.then</code> on a Promise to consume it"}, {"owner": {"reputation": 686, "user_id": 6332640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MiYOl.jpg?s=128&g=1", "display_name": "Luis Diego Hern&#225;ndez", "link": "https://stackoverflow.com/users/6332640/luis-diego-hern%c3%a1ndez"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1557353250, "post_id": 56049572, "comment_id": 98740722, "body": "Like @CertainPerformance said, you should first call <code>get_data</code> and do your D3 code on the then function. <code>get_data(&#39;2015;, d.key, &#39;Color&#39;).then(color =&gt; { console.log(color) })</code> (for whatever <code>d.key</code> is) should output <code>#F5F5F5</code> on the console."}, {"owner": {"reputation": 11, "user_id": 5377787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5547aee81ec6f8384de8fce868cef2b0?s=128&d=identicon&r=PG&f=1", "display_name": "Reuben", "link": "https://stackoverflow.com/users/5377787/reuben"}, "edited": false, "score": 0, "creation_date": 1557405688, "post_id": 56049572, "comment_id": 98759720, "body": "So I tried this: ```     svg.append(&quot;g&quot;)         .selectAll(&quot;g&quot;)         .data(series)         .enter().append(&quot;g&quot;)         .attr(&quot;fill&quot;, async function (d) {             return await get_data(&quot;2015&quot;, d.key, &quot;Color&quot;).then(D =&gt; )         })         .selectAll(&quot;rect&quot;)         .data(d =&gt; d)         .join(&quot;rect&quot;)         .attr(&quot;x&quot;, d =&gt; x(d[0]))         .attr(&quot;y&quot;, (d, i) =&gt; y(d.data.name))         .attr(&quot;width&quot;, d =&gt; x(d[1]) - x(d[0]))         .attr(&quot;height&quot;, y.bandwidth());  ```  Still no luck :/"}], "owner": {"reputation": 11, "user_id": 5377787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5547aee81ec6f8384de8fce868cef2b0?s=128&d=identicon&r=PG&f=1", "display_name": "Reuben", "link": "https://stackoverflow.com/users/5377787/reuben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 12, "favorite_count": 0, "closed_date": 1557352703, "answer_count": 0, "score": 0, "last_activity_date": 1557352672, "creation_date": 1557352672, "question_id": 56049572, "link": "https://stackoverflow.com/questions/56049572/how-do-i-feed-the-results-from-a-function-that-only-gives-me-promises-into-anyth", "closed_reason": "Duplicate", "title": "How do I feed the results from a function that only gives me promises into anything else?", "body": "<p>I created a helper function, \"get_data\", that is supposed to return a value from a CSV. In this example, I am trying to dynamically color svg elements. I use the year, the (political) party, and the property I want as attributes into get_data. Although get_data works, all the results are in the form of fulfilled promises and not the actual seven character string containing the RGB value of a political party's color.</p>\n\n<p>I have tried playing around with awaits, but no dice.</p>\n\n<pre><code>function get_data(year, party, property) {\n    return d3.csv(\"./raw_data/\" + year + \".csv\").then(function (d1) {\n        outputArray = d1.find(function (d2) {\n            return d2[\"Party\"] === party;\n        });\n\n        return outputArray[property]\n    });\n}\n\nconsole.log(get_data(\"2015\", \"PAP\", \"property\"));\n</code></pre>\n\n<pre><code> svg.append(\"g\")\n        .selectAll(\"g\")\n        .data(series)\n        .enter().append(\"g\")\n        .attr(\"fill\", d =&gt; get_data(\"2015\", d.key, \"Color\"))\n        .selectAll(\"rect\")\n        .data(d =&gt; d)\n        .join(\"rect\")\n        .attr(\"x\", d =&gt; x(d[0]))\n        .attr(\"y\", (d, i) =&gt; y(d.data.name))\n        .attr(\"width\", d =&gt; x(d[1]) - x(d[0]))\n        .attr(\"height\", y.bandwidth());\n</code></pre>\n\n<pre><code>Party,Pop_Vote,Vote_Share,Color\nPAP,1579183,69.86,#F5F5F5\nWP,282143,12.48,#ADD8E6\nSDP,84931,3.76,#B22222\nNSP,79826,3.53,#FFA500\n</code></pre>\n\n<p>get_data(\"2015\", \"PAP\", \"property\") should output the string \"#F5F5F5\", not a promise.</p>\n"}, {"tags": ["javascript", "java", "arrays"], "comments": [{"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1557352890, "post_id": 56049560, "comment_id": 98740618, "body": "Are you asking how to make an AJAX request?"}, {"owner": {"reputation": 33, "user_id": 6213753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a8572bd30d694d951ffe0dbf901d7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Zyzzx", "link": "https://stackoverflow.com/users/6213753/zyzzx"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1557354307, "post_id": 56049560, "comment_id": 98740987, "body": "@ADyson I&#39;m not sure what I need to make this work that&#39;s the issue. basically what I&#39;m asking for is advice as to how to proceed from this point forward. right now, what I want is a way for my JS code to receive data from the JAVA code assuming that ill is using the above code. And a way to send data from the JS code to the JAVA code that can also be READ by the above code."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1557354629, "post_id": 56049560, "comment_id": 98741051, "body": "Are you talking about JS running in a web page, in a browser, or server-side NodeJS? Either way, you can easily Google how to make a HTTP request from either of those environments (AJAX is the way you make a HTTP request from browser based JavaScript)."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1557354805, "post_id": 56049560, "comment_id": 98741101, "body": "P.s. are you actually running this Java code on a HTTP server? It&#39;s unclear."}, {"owner": {"reputation": 33, "user_id": 6213753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a8572bd30d694d951ffe0dbf901d7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Zyzzx", "link": "https://stackoverflow.com/users/6213753/zyzzx"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1557355773, "post_id": 56049560, "comment_id": 98741337, "body": "@ADyson this JS code runs on the browser yes. and regarding the HTTP request part can you please provide any guide that I can follow to implement that part in my JS code. and can the HTTP request be read by the code ive provided above?"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1557380941, "post_id": 56049560, "comment_id": 98746672, "body": "For making the request, just Google &quot;Ajax request tutorial&quot;...you&#39;ll find hundreds of examples. Try to find a modern one using the Fetch API if you can. As for the Java part, I&#39;m not a Java expert sorry, but I know there are various frameworks for hosting Java based web apps e.g. JSP,  and others. I don&#39;t know how you&#39;re currently hosting or executing this code. But again I imagine you can find tutorials/documentation online. Or perhaps a Java programmer will see this post and have some more insight"}], "owner": {"reputation": 33, "user_id": 6213753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a8572bd30d694d951ffe0dbf901d7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Zyzzx", "link": "https://stackoverflow.com/users/6213753/zyzzx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557355915, "creation_date": 1557352565, "last_edit_date": 1557355915, "question_id": 56049560, "link": "https://stackoverflow.com/questions/56049560/how-do-i-make-a-js-code-send-an-array-to-a-java-code-and-make-the-js-receive-dat", "title": "How do i make a JS code send an array to a JAVA code and make the JS receive data from that JAVA code", "body": "<p>Ok, so I've been trying to pass longitude and latitude to JS code and then I want the JS code to send an array of location (pairs of longitude and latitude) back to the JAVA code. I've managed to follow this guide <a href=\"https://docs.oracle.com/javase/tutorial/networking/urls/readingWriting.html\" rel=\"nofollow noreferrer\">Reading from and Writing to a URLConnection</a> but I can't find its opposing pair of code that will help me send the and receive data from the JS to JAVA. The code so far is below:</p>\n\n<pre><code>import java.net.*;\nimport java.io.*;\n\npublic class URLReader {\n    /* This one is responsible of sending any data that will be sent to the javascript code*/\n    URL javascript;\n    public URLReader() throws MalformedURLException{\n        javascript = new URL(\"http://www.oracle.com/\");\n    }\n    public void send(String longitude, String latitude) throws Exception{\n        String lon = URLEncoder.encode(longitude, \"UTF-8\");\n        String lat= URLEncoder.encode(latitude, \"UTF-8\");\n        URLConnection connection = javascript.openConnection();\n        connection.setDoOutput(true);\n        OutputStreamWriter out = new OutputStreamWriter(\n                connection.getOutputStream());\n        out.write(\"longitude =\" + lon);\n        out.write(\"latitude =\" + lat);\n        out.close();\n\n    }\n    /* This one is responsible of recieving any data that will be recieved from the javascript code*/\n   public String[] recieve() throws Exception{\n       String myArray[] = {};\n       URLConnection yc = javascript.openConnection();\n       BufferedReader in = new BufferedReader(new InputStreamReader(yc.getInputStream()));\n       String inputLine;\n       while ((inputLine = in.readLine()) != null)\n           System.out.println(inputLine);\n       in.close();\n       return myArray;\n   }\n}\n</code></pre>\n\n<p>The variable Latlng is the variable I want to send to my Android Studio code </p>\n\n<pre><code>latlng = {lat: parseFloat(position.coords.latitude), lng: parseFloat(position.coords.longitude)};\n</code></pre>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 3, "creation_date": 1557352697, "post_id": 56049539, "comment_id": 98740566, "body": "Well, <code>keys.slice(0, -2).forEach(key =&gt; stats.delete(key))</code>?"}, {"owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1557352787, "post_id": 56049539, "comment_id": 98740591, "body": "Still stats array has all items"}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 1, "creation_date": 1557353366, "post_id": 56049539, "comment_id": 98740754, "body": "It would help if you were a little more precise with the language. What is the <code>original array</code> I see a <code>Map</code> at the beginning. Do you want a <code>Map</code> at the end  or an <code>Array</code>? Right now you are creating an array of objects. Also you are sorting your keys which are strings. This means &quot;152&quot; sorts before &quot;52&quot; is that what you want?"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 1, "creation_date": 1557353726, "post_id": 56049539, "comment_id": 98740852, "body": "@MarkMeyer the details of this question are unintentionally relying on information shared in <a href=\"https://stackoverflow.com/q/56048715/1541563\">the previous question</a>. I agree that should be fixed."}, {"owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1557353803, "post_id": 56049539, "comment_id": 98740868, "body": "@PatrickRoberts : can you please check it , thank you."}, {"owner": {"reputation": 4217, "user_id": 9029328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3hFz.png?s=128&g=1", "display_name": "AuxTaco", "link": "https://stackoverflow.com/users/9029328/auxtaco"}, "edited": false, "score": 0, "creation_date": 1557355734, "post_id": 56049539, "comment_id": 98741331, "body": "<i>&quot;3. Sort the original Map&quot;</i> <code>Map</code>s have a single order: the order their entries were inserted. They can&#39;t be sorted. If you want a different order, you&#39;ll need to create a new <code>Map</code>, remove and reinsert the entries, or use a different structure."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1557359683, "post_id": 56049539, "comment_id": 98742138, "body": "It would be nice if you gave credit to where you got the code, like the license says you should..."}, {"owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "edited": false, "score": 0, "creation_date": 1557413529, "post_id": 56049539, "comment_id": 98764316, "body": "Can you please post the expected output result so that we know what needs to be done ?"}], "answers": [{"comments": [{"owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557352914, "post_id": 56049607, "comment_id": 98740623, "body": "When I do  stats.set(&#39;12&#39;, 20); again ,I get this error stats.set is not a function"}, {"owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "reply_to_user": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557352952, "post_id": 56049607, "comment_id": 98740636, "body": "Are you using chrome ? what browser are you using ? you can run the code here click on the Run code Snippet button"}, {"owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557353014, "post_id": 56049607, "comment_id": 98740651, "body": "I mean your code runs fine , after that when i need to push new values , i am unable to set."}, {"owner": {"reputation": 4217, "user_id": 9029328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3hFz.png?s=128&g=1", "display_name": "AuxTaco", "link": "https://stackoverflow.com/users/9029328/auxtaco"}, "edited": false, "score": 1, "creation_date": 1557353040, "post_id": 56049607, "comment_id": 98740657, "body": "@dota2pro The <code>forEach</code> line mutates <code>stats</code>. There&#39;s no need to redefine it afterwards."}, {"owner": {"reputation": 4217, "user_id": 9029328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3hFz.png?s=128&g=1", "display_name": "AuxTaco", "link": "https://stackoverflow.com/users/9029328/auxtaco"}, "edited": false, "score": 1, "creation_date": 1557353175, "post_id": 56049607, "comment_id": 98740688, "body": "...no. <code>keys.sort();</code>, then <code>keys.slice(0, -2).forEach(key =&gt; stats.delete(key));</code>. That&#39;s it. Nothing else required."}, {"owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "reply_to_user": {"reputation": 4217, "user_id": 9029328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3hFz.png?s=128&g=1", "display_name": "AuxTaco", "link": "https://stackoverflow.com/users/9029328/auxtaco"}, "edited": false, "score": 0, "creation_date": 1557353265, "post_id": 56049607, "comment_id": 98740726, "body": "@AuxTaco that prints an empty array  for me"}, {"owner": {"reputation": 4217, "user_id": 9029328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3hFz.png?s=128&g=1", "display_name": "AuxTaco", "link": "https://stackoverflow.com/users/9029328/auxtaco"}, "edited": false, "score": 0, "creation_date": 1557353473, "post_id": 56049607, "comment_id": 98740786, "body": "Bug in the snippet console. Check the browser console. Or <code>console.log([...stats.entries()])</code>."}, {"owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "reply_to_user": {"reputation": 4217, "user_id": 9029328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3hFz.png?s=128&g=1", "display_name": "AuxTaco", "link": "https://stackoverflow.com/users/9029328/auxtaco"}, "edited": false, "score": 0, "creation_date": 1557354173, "post_id": 56049607, "comment_id": 98740954, "body": "@AuxTaco , why did u use keys.slice(0, -2) , instead keys.slice(0,keys.length-2), I am looking for last 2 elements only."}, {"owner": {"reputation": 4217, "user_id": 9029328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3hFz.png?s=128&g=1", "display_name": "AuxTaco", "link": "https://stackoverflow.com/users/9029328/auxtaco"}, "reply_to_user": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557354856, "post_id": 56049607, "comment_id": 98741115, "body": "@Graciewilliams <code>keys.slice(0, -2)</code> is everything <i>except</i> the last two elements; <code>.forEach(key =&gt; stats.delete(key))</code> deletes them. <code>stats</code> minus (everything except the last two elements of <code>stats</code>) equals (the last two elements of <code>stats</code>)."}, {"owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557354914, "post_id": 56049607, "comment_id": 98741132, "body": "What if I have only 2 elements in starting ? Its not running foreach and its not sorting"}, {"owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "reply_to_user": {"reputation": 4217, "user_id": 9029328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3hFz.png?s=128&g=1", "display_name": "AuxTaco", "link": "https://stackoverflow.com/users/9029328/auxtaco"}, "edited": false, "score": 0, "creation_date": 1557355364, "post_id": 56049607, "comment_id": 98741241, "body": "@AuxTaco : no ur solution is deleting items in original array , but its not sorting"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "reply_to_user": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557360065, "post_id": 56049607, "comment_id": 98742213, "body": "Note that this answer redefines <code>stats</code> such that it is no longer a <code>Map</code>; it is an array of objects. @Graciewilliams that&#39;s why <code>set</code> does not work. But your original question wanted the results in a specific structure that wasn&#39;t the original structure. You need to decide if you still want the original structure (i.e., a <code>Map</code> with keys and values, an array of objects with string keys and numeric values, or whatever) or you want the new structure (an array of objects with <code>key</code> and <code>value</code> properties)."}, {"owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1557376750, "post_id": 56049607, "comment_id": 98745462, "body": "@HereticMonkey : I want original structure , how to do it ?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1557383819, "post_id": 56049607, "comment_id": 98747797, "body": "Placing my code after <code>keys = keys.slice(-2);</code> won&#39;t work as intended"}], "tags": [], "owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "is_accepted": false, "score": 0, "last_activity_date": 1557353082, "last_edit_date": 1557353082, "creation_date": 1557352864, "answer_id": 56049607, "question_id": 56049539, "link": "https://stackoverflow.com/questions/56049539/sort-and-remove-everything-except-last-n-items-in-array/56049607#56049607", "title": "Sort and remove everything except last n items in Array", "body": "<p>Copied @Bergi 's comment into code</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var stats = new Map([['22',10],['32',3],['42',22],['52',7]]);\r\n   // I set dynamic values like below inside ajax function , can be duplicate or new\r\n            stats.set('22', 20);\r\n            stats.set('12', 20);\r\n            // sort by key\r\n            var keys = Array.from(stats.keys());\r\n            keys.sort();\r\n            // get the last two\r\n            keys = keys.slice(-2);\r\n            // map the remaining keys to the desired structure\r\n            keys.slice(0, -2).forEach(key =&gt; stats.delete(key))\r\n            stats = keys.map(key =&gt; { \r\n              return { \r\n                key: key, \r\n                value: stats.get(key) \r\n              }; \r\n            });\r\n            \r\n            console.log(stats);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 181, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1557353082, "creation_date": 1557352444, "last_edit_date": 1557352691, "question_id": 56049539, "link": "https://stackoverflow.com/questions/56049539/sort-and-remove-everything-except-last-n-items-in-array", "title": "Sort and remove everything except last n items in Array", "body": "<p>I have a scenario like this , I get random values with key from an API request (around 100 per minute) , I need to do the following</p>\n\n<ol>\n<li>Push new items to the array</li>\n<li>Replace items if key is duplicate</li>\n<li>Sort the original Map and remove everything except last n elements in original array</li>\n</ol>\n\n<p>I have following code , but it does not remove the original array but duplicates an array with last 2 elements.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>      var stats = new Map([['22',10],['32',3],['42',22],['52',7]]);\r\n   // I set dynamic values like below inside ajax function , can be duplicate or new\r\n            stats.set('22', 20);\r\n            stats.set('12', 20);\r\n            // sort by key\r\n            var keys = Array.from(stats.keys());\r\n            keys.sort();\r\n            // get the last two\r\n            keys = keys.slice(-2);\r\n            // map the remaining keys to the desired structure\r\n            var result = keys.map(key =&gt; { \r\n              return { \r\n                key: key, \r\n                value: stats.get(key) \r\n              }; \r\n            });\r\n            console.log(result); </code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>`</p>\n"}, {"tags": ["javascript", "node.js", "return"], "comments": [{"owner": {"reputation": 2721, "user_id": 1710444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/23fb7b17ea705c9454dfc41d75f578a4?s=128&d=identicon&r=PG", "display_name": "Catalyst", "link": "https://stackoverflow.com/users/1710444/catalyst"}, "edited": false, "score": 0, "creation_date": 1557354026, "post_id": 56049536, "comment_id": 98740935, "body": "Just looking at the code it seems like <code>fieldObj.hasOwnProperty(&quot;relations&quot;)</code> must be coming out <code>false</code>"}, {"owner": {"reputation": 478, "user_id": 5569925, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/166440117ebe66fbf6618ed35562e991?s=128&d=identicon&r=PG&f=1", "display_name": "Goldfish", "link": "https://stackoverflow.com/users/5569925/goldfish"}, "reply_to_user": {"reputation": 2721, "user_id": 1710444, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/23fb7b17ea705c9454dfc41d75f578a4?s=128&d=identicon&r=PG", "display_name": "Catalyst", "link": "https://stackoverflow.com/users/1710444/catalyst"}, "edited": false, "score": 0, "creation_date": 1557355852, "post_id": 56049536, "comment_id": 98741359, "body": "@catalyst, yes that was part of the problem. As a result I needed to use .filter with that same <code>fieldObj.hasOwnProperty(&quot;relations&quot;)</code> then pass the result only to the function to ensure it is never false. If I complete my solution I will post"}], "answers": [{"tags": [], "owner": {"reputation": 478, "user_id": 5569925, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/166440117ebe66fbf6618ed35562e991?s=128&d=identicon&r=PG&f=1", "display_name": "Goldfish", "link": "https://stackoverflow.com/users/5569925/goldfish"}, "is_accepted": true, "score": 0, "last_activity_date": 1557432511, "creation_date": 1557432511, "answer_id": 56066841, "question_id": 56049536, "link": "https://stackoverflow.com/questions/56049536/returns-undefined-even-though-return-statement-is-present-and-variable-has-a-val/56066841#56066841", "title": "Returns undefined even though return statement is present and variable has a value NodeJS", "body": "<pre><code>fixExtraCodeListsFinal1 = fixExtraCodeListsFinal.filter(fieldObj =&gt; fieldObj.hasOwnProperty(\"relations\"))\nconst dependenciesResultToHydrate = fixExtraCodeListsFinal1.map(fieldObj =&gt; {\n</code></pre>\n\n<p>Replace the beginning of the function with above, this will ensure that the main function is never false and returning undefined by filtering for valid values only first</p>\n"}], "owner": {"reputation": 478, "user_id": 5569925, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/166440117ebe66fbf6618ed35562e991?s=128&d=identicon&r=PG&f=1", "display_name": "Goldfish", "link": "https://stackoverflow.com/users/5569925/goldfish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 56066841, "answer_count": 1, "score": 0, "last_activity_date": 1557432511, "creation_date": 1557352430, "question_id": 56049536, "link": "https://stackoverflow.com/questions/56049536/returns-undefined-even-though-return-statement-is-present-and-variable-has-a-val", "title": "Returns undefined even though return statement is present and variable has a value NodeJS", "body": "<p>I have a function that primarily has 2 if conditions at the top level. In the <code>if</code> and the <code>else</code> I tell it to return a value. </p>\n\n<p>Depending on the case different values are returned to the map function.</p>\n\n<p>During debugging I can see that the <code>if</code> return does have a value I am expecting but when I log the result of the entire function return values from the <code>if</code> are <code>undefined</code> while values in the <code>else</code> are coming through fine. </p>\n\n<p>The input file for this function can be found here: <a href=\"https://drive.google.com/file/d/1tBvav0HfGmPep9mbPLkJy6A5WivmWUro/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1tBvav0HfGmPep9mbPLkJy6A5WivmWUro/view?usp=sharing</a></p>\n\n<p>I have been working on this for a whole day and still do not understand why the return for the <code>else</code> does work but the <code>if</code> does not even though they are similar</p>\n\n<pre><code>const fs = require('fs')\nconst _ = require(\"lodash\")\nlet fixExtraCodeListsFinal = JSON.parse(fs.readFileSync(\"metadata.json\").toString())\n\nconst test = fixExtraCodeListsFinal.map(fieldObj =&gt; {\n    if (fieldObj.hasOwnProperty(\"relations\")){\n        fieldObjKeys = Object.keys(fieldObj.relations[0])\n        let result = {}\n        if (fieldObjKeys[0] == \"0\"){\n            codeListDependencies = fieldObj.relations[0][0].codeList.allOf\n           const codeListDependentList = codeListDependencies.map(codeListDependenciesObj =&gt; {\n                if (codeListDependenciesObj.value.listItems){\n                    resultDirty = {codeListDependentField: Object.keys(codeListDependenciesObj.attributes)[0], codeListItems: codeListDependenciesObj.value.listItems}\n                    result = {codeListDependentField: getParentPath1(resultDirty.codeListDependentField).path, codeListItems: codeListDependenciesObj.value.listItems}\n                    //console.log(result)\n                }\n                else  if (codeListDependenciesObj.value.links[0].href){\n                    dependentPath = Object.keys(codeListDependenciesObj.attributes)[0]\n                    result = {codeListDependentField: getParentPath1(dependentPath).path, relations: codeListDependenciesObj.value.links[0].href}\n                    //THIS IS WHERE U STOPPED WRITING CODE\n                    //console.log(result)\n                    //console.log('idk what this case is dependencies')\n                }\n                else{\n                    //console.log(\"unhandled metadata formatting, reach out to CE for a fix\")\n                }\n                return result\n        })\n        //console.log(codeListDependentList)\n        return codeListDependentList\n        }\n        else{\n            fieldObjKeys = Object.keys(fieldObj.relations[0])\n            fieldObjKeys.map(key =&gt; {\n                if (fieldObj.relations[0][key].hasOwnProperty(\"allOf\")){\n                    dependentFieldsArr = fieldObj.relations[0][key].allOf\n                    dependentFields = dependentFieldsArr.map(dependentFieldsArrObj =&gt; Object.keys(dependentFieldsArrObj.attributes))\n                }\n                else{\n                    dependentFields = Object.keys(fieldObj.relations[0][key].oneOf.attributes)\n                }\n            })\n            dependentPathADPFormat = _.flatten(dependentFields)\n            dependentPathsCEformat = dependentPathADPFormat.map(getParentPath1)\n            uniqueDependencyList = _.uniqBy(dependentPathsCEformat.map(obj =&gt; obj.path).map(dependentPath =&gt; fieldObj.conditionallyRequired = dependentPath))[0]\n\n            originalFieldObj = fieldObj.vendorPath\n            //console.log(JSON.stringify({uniqueDependencyList, originalFieldObj}))\n            result = {uniqueDependencyList, originalFieldObj}\n           return result\n\n        }\n        //this code needs to happen laters\n        //fieldObj.conditionallyRequired = uniqueDependencyList[0]\n\n        //console.log(JSON.stringify(fieldObj))\n    }\n    })\n   console.log(test)\n</code></pre>\n\n<p>I have truncated the output here. here is the current output</p>\n\n<pre><code>[ undefined,\n  undefined,\n  undefined,\n  { uniqueDependencyList: 'worker.businessCommunication.faxes[*].countryDialing',\n    originalFieldObj: 'businessCommunication.faxes[*].areaDialing' },\n  undefined,\n  { uniqueDependencyList: 'worker.businessCommunication.faxes[*].areaDialing',\n    originalFieldObj: 'businessCommunication.faxes[*].dialNumber' },\n  undefined,\n  { uniqueDependencyList: 'worker.businessCommunication.landlines[*].countryDialing',\n    originalFieldObj: 'businessCommunication.landlines[*].areaDialing' },\n  undefined,\n  { uniqueDependencyList: 'worker.businessCommunication.landlines[*].areaDialing',\n    originalFieldObj: 'businessCommunication.landlines[*].dialNumber' },\n  undefined,\n  undefined,\n  { uniqueDependencyList: 'worker.businessCommunication.mobiles[*].countryDialing',\n    originalFieldObj: 'businessCommunication.mobiles[*].areaDialing' },\n  undefined,\n  { uniqueDependencyList: 'worker.businessCommunication.mobiles[*].areaDialing',\n    originalFieldObj: 'businessCommunication.mobiles[*].dialNumber' },\n  undefined,\n  { uniqueDependencyList: 'worker.businessCommunication.pagers[*].countryDialing',\n    originalFieldObj: 'businessCommunication.pagers[*].areaDialing' },\n  undefined,\n  { uniqueDependencyList: 'worker.businessCommunication.pagers[*].areaDialing',\n    originalFieldObj: 'businessCommunication.pagers[*].dialNumber' },\n  undefined,\n  undefined,\n  undefined,\n  undefined.......\n</code></pre>\n\n<p>Here is my expected output also truncated</p>\n\n<pre><code>{\"uniqueDependencyList\":\"worker.person.governmentIDs[*].nameCode.codeValue.nameCode.codeValue\",\"originalFieldObj\":\"person.governmentIDs[*].idValue\"}\n{\"uniqueDependencyList\":\"worker.person.otherPersonalAddresses[*].countryCode\",\"originalFieldObj\":\"person.otherPersonalAddresses[*].cityName\"}\n{\"uniqueDependencyList\":\"worker.person.otherPersonalAddresses[*].countryCode\",\"originalFieldObj\":\"person.otherPersonalAddresses[*].countrySubdivisionLevel1\"}\n{\"uniqueDependencyList\":\"worker.person.otherPersonalAddresses[*].countryCode\",\"originalFieldObj\":\"\"}\n{\"uniqueDependencyList\":\"worker.person.otherPersonalAddresses[*].countryCode\",\"originalFieldObj\":\"person.otherPersonalAddresses[*].countrySubdivisionLevel1.shortName\"}\n{\"uniqueDependencyList\":\"worker.person.otherPersonalAddresses[*].countryCode\",\"originalFieldObj\":\"person.otherPersonalAddresses[*].lineOne\"}\n{\"uniqueDependencyList\":\"worker.person.otherPersonalAddresses[*].countryCode\",\"originalFieldObj\":\"person.otherPersonalAddresses[*].postalCode\"}\n{ codeListDependentField:\n   'worker.workAssignment.homeOrganizationalUnits[*].typeCode.codeValue',\n  relations:\n   '/codelists/hr/v3/worker-management/departments/WFN/1?$filter=foreignKey eq {payrollGroupCode}' }\n{ codeListDependentField:\n   'worker.workAssignment.homeOrganizationalUnits[*].typeCode.codeValue',\n  relations: '/codelists/hr/v3/worker-management/business-units/WFN/1' }\n{ codeListDependentField:\n   'worker.workAssignment.homeOrganizationalUnits[*].typeCode.codeValue',\n  codeListItems:\n   [ { codeValue: '00-1005-FRM-PA', shortName: 'Non Cert Job' },\n     { codeValue: '001000201', shortName: 'NON Cert job' },\n     { codeValue: '001101000', shortName: '001101000' },\n     { codeValue: '001101AA', shortName: '001101AA' },\n     { codeValue: '001101DM', shortName: '001101DM' },\n     { codeValue: '001101MA', shortName: '001101MA' }....\n</code></pre>\n"}, {"tags": ["javascript", "vue.js", "nuxt.js"], "comments": [{"owner": {"reputation": 152, "user_id": 8968219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OhDIN.png?s=128&g=1", "display_name": "Mladen Skrbic", "link": "https://stackoverflow.com/users/8968219/mladen-skrbic"}, "edited": false, "score": 0, "creation_date": 1557352827, "post_id": 56049526, "comment_id": 98740601, "body": "i dont think this is correct way to do that, it seems like this is vuetify, if it is you could use slot to pass video to carousel and you will probably nees some condtion based on type of data (image or video)."}, {"owner": {"reputation": 152, "user_id": 8968219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OhDIN.png?s=128&g=1", "display_name": "Mladen Skrbic", "link": "https://stackoverflow.com/users/8968219/mladen-skrbic"}, "edited": false, "score": 0, "creation_date": 1557353005, "post_id": 56049526, "comment_id": 98740648, "body": "also your data.content is invalid string you should probably use backticks there instead of single quotes"}], "answers": [{"tags": [], "owner": {"reputation": 467, "user_id": 9144272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1982ba98a7ab58e26186169640de8f6?s=128&d=identicon&r=PG&f=1", "display_name": "Vipul Bhardwaj", "link": "https://stackoverflow.com/users/9144272/vipul-bhardwaj"}, "is_accepted": false, "score": 2, "last_activity_date": 1557580651, "creation_date": 1557580651, "answer_id": 56090697, "question_id": 56049526, "link": "https://stackoverflow.com/questions/56049526/dynamic-conditional-carousel-item-selection-in-vue/56090697#56090697", "title": "Dynamic conditional carousel item selection in Vue", "body": "<p>You can use v-for on the template and later use v-if to do the check and insert one or the other as demonstrated here.</p>\n\n<p><code>https://vuejs.org/v2/guide/list.html#v-for-on-a-lt-template-gt</code></p>\n\n<p><code>https://codepen.io/autumnwoodberry/pen/qXGjXY?editors=1010</code></p>\n"}, {"comments": [{"owner": {"reputation": 467, "user_id": 9144272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1982ba98a7ab58e26186169640de8f6?s=128&d=identicon&r=PG&f=1", "display_name": "Vipul Bhardwaj", "link": "https://stackoverflow.com/users/9144272/vipul-bhardwaj"}, "edited": false, "score": 0, "creation_date": 1557629363, "post_id": 56092393, "comment_id": 98827444, "body": "The below mentioned answer is exactly the same thing, why write twice , I am kinda confused her e, isn&#39;t this part of code of conduct or something"}], "tags": [], "owner": {"reputation": 1368, "user_id": 5681953, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-28kWPsZks5A/AAAAAAAAAAI/AAAAAAAAAKc/QUafbKOp_9Y/photo.jpg?sz=128", "display_name": "Arun Redhu", "link": "https://stackoverflow.com/users/5681953/arun-redhu"}, "is_accepted": true, "score": 1, "last_activity_date": 1557593707, "last_edit_date": 1557593707, "creation_date": 1557593272, "answer_id": 56092393, "question_id": 56049526, "link": "https://stackoverflow.com/questions/56049526/dynamic-conditional-carousel-item-selection-in-vue/56092393#56092393", "title": "Dynamic conditional carousel item selection in Vue", "body": "<p>There is a trick by which you can implement your use-case. You can use the combination of both <code>v-if</code> and <code>v-for</code>. I did put condition based on either it is <code>content</code> or <code>src</code>. Additionally, I have added <code>id</code> attribute for all the data items. Here is the working link for the codepen <a href=\"https://codepen.io/arunredhu/pen/MdebLV\" rel=\"nofollow noreferrer\">https://codepen.io/arunredhu/pen/MdebLV</a></p>\n\n<pre><code>&lt;v-carousel&gt;\n    &lt;template v-for=\"item in items\" :key=\"item.id\"&gt;\n        &lt;v-carousel-item &gt;\n            &lt;img v-if=\"item.src\" :src=\"item.src\"/&gt;\n            &lt;div class=\"video-elem\" v-if=\"item.content\" v-html=\"item.content\"&gt;&lt;/div&gt;\n        &lt;/v-carousel-item&gt;\n     &lt;/template&gt;\n&lt;/v-carousel&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 391, "user_id": 6414183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8d6c792c6e722258b84652537fa9559?s=128&d=identicon&r=PG", "display_name": "TenshiGoan", "link": "https://stackoverflow.com/users/6414183/tenshigoan"}, "is_accepted": false, "score": 1, "last_activity_date": 1558089232, "last_edit_date": 1558089232, "creation_date": 1557730521, "answer_id": 56107123, "question_id": 56049526, "link": "https://stackoverflow.com/questions/56049526/dynamic-conditional-carousel-item-selection-in-vue/56107123#56107123", "title": "Dynamic conditional carousel item selection in Vue", "body": "<p>You can use template and <em>v-if='item.src'</em></p>\n\n<pre><code>&lt;div id=\"app\"&gt;\n  &lt;v-app&gt;\n    &lt;v-content&gt;\n      &lt;v-container&gt;\n        &lt;v-carousel&gt;\n          &lt;template v-for=\"item in items\" :key=\"item.id\"&gt;\n            &lt;v-carousel-item v-if=\"item.src\" :src=\"item.src\"&gt;&lt;/v-carousel-item&gt;\n            &lt;v-carousel-item v-else v-html=\"item.content\"&gt;&lt;/v-carousel-item&gt;\n          &lt;/template&gt;\n        &lt;/v-carousel&gt;\n      &lt;/v-container&gt;\n    &lt;/v-content&gt;\n  &lt;/v-app&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 852, "favorite_count": 0, "accepted_answer_id": 56092393, "answer_count": 3, "score": 2, "last_activity_date": 1558089232, "creation_date": 1557352353, "last_edit_date": 1557590770, "question_id": 56049526, "link": "https://stackoverflow.com/questions/56049526/dynamic-conditional-carousel-item-selection-in-vue", "title": "Dynamic conditional carousel item selection in Vue", "body": "<p>I'm working with Vuejs and Nuxt and would like to display a video in a carousel component along side jpeg and png images . The carousel component:</p>\n\n<pre><code>    &lt;template&gt;\n    &lt;section&gt;\n    &lt;v-card\n        class=\"mx-auto\"\n        color=\"#26c6da\"\n        dark\n        max-width=\"1200\"\n    &gt;\n\n    &lt;v-carousel&gt;\n        &lt;v-carousel-item v-for=\"(item,i) in items\" :key=\"i\" :src=\"item.src\"&gt;&lt;/v-carousel-item&gt;\n    &lt;/v-carousel&gt;\n\n    &lt;/v-card&gt;\n\n    &lt;/section&gt;\n\n    &lt;script&gt;\n\n    export default {\n      data() {\n        return {\n          items: [  {\n    id: '1',\n    content: '&lt;iframe width=\"560\" height=\"315\" ' +\n      'src=\"https://www.youtube.com/embed/zjcVPZCG4sM\" ' +\n      'frameborder=\"0\" allow=\"autoplay; encrypted-media\" ' +\n      'allowfullscreen&gt;&lt;/iframe&gt;'\n     },\n            {\n              src: \"https://cdn.vuetifyjs.com/images/carousel/sky.jpg\"\n            },\n            {\n              src: \"https://cdn.vuetifyjs.com/images/carousel/bird.jpg\"\n            },\n            {\n              src: \"https://cdn.vuetifyjs.com/images/carousel/planet.jpg\"\n            }\n          ]\n        };\n      }\n};\n\n    &lt;/script&gt;\n\n    &lt;/template&gt;\n</code></pre>\n\n<p>Based on The answer <a href=\"https://stackoverflow.com/questions/55911243/displaying-video-in-nuxt-carousel-component\">Displaying video in Nuxt carousel component</a> and <a href=\"https://codepen.io/anon/pen/MqBEqb\" rel=\"nofollow noreferrer\">https://codepen.io/anon/pen/MqBEqb</a></p>\n\n<p>I need:</p>\n\n<pre><code>&lt;v-carousel-item v-for=\"item in items\" :key=\"item.id\" v-html=\"item.content\"&gt;\n</code></pre>\n\n<p>for a video and</p>\n\n<pre><code> &lt;v-carousel-item v-for=\"(item,i) in items\" :key=\"i\" :src=\"item.src\"&gt;&lt;/v-carousel-item&gt;\n</code></pre>\n\n<p>for a jpg. How do I dynamically add 1 or the other based on the object in the exported data array?</p>\n"}, {"tags": ["javascript", "lodash", "throttling"], "answers": [{"tags": [], "owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "is_accepted": true, "score": 1, "last_activity_date": 1557353084, "creation_date": 1557353084, "answer_id": 56049637, "question_id": 56049516, "link": "https://stackoverflow.com/questions/56049516/lodash-throttle-throttled-method-not-being-called/56049637#56049637", "title": "lodash.throttle - throttled method not being called?", "body": "<p>You're creating a function that returns the throttled function.  Every time <code>resize</code> occurs, you're creating a <em>new</em> throttled function.  Just use the throttled function:</p>\n\n<pre><code>import throttle from \"lodash.throttle\"\n\nconst throttledHandleResize = throttle(() =&gt; {\n        console.log(\"resizing...\");\n    }, 200);\n\nwindow.addEventListener(\"resize\", throttledHandleResize);\n</code></pre>\n"}], "owner": {"reputation": 405, "user_id": 4700234, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/ce42f56d04c8a46ef213d95352826de8?s=128&d=identicon&r=PG&f=1", "display_name": "Jed", "link": "https://stackoverflow.com/users/4700234/jed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 0, "accepted_answer_id": 56049637, "answer_count": 1, "score": 0, "last_activity_date": 1557353084, "creation_date": 1557352273, "question_id": 56049516, "link": "https://stackoverflow.com/questions/56049516/lodash-throttle-throttled-method-not-being-called", "title": "lodash.throttle - throttled method not being called?", "body": "<p>I have an event listener, for which I am trying wrap with <code>lodash.throttle</code>:</p>\n\n<pre><code>import throttle from \"lodash.throttle\"\n\nconst throttledHandleResize = () =&gt; { \n\n    return(throttle(() =&gt; {\n        console.log(\"resizing...\");\n    }, 200));\n};\n\nwindow.addEventListener(\"resize\", throttledHandleResize);\n</code></pre>\n\n<p>The console does not log my string. The method works if I do not try to wrap it with <code>throttle</code>.</p>\n\n<p>Any assistance would be much appreciated!</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1557352236, "post_id": 56049511, "comment_id": 98740429, "body": "Trying to call <code>Math.ciel</code> will throw a <code>TypeError</code>. What is <code>leftvar</code>?"}, {"owner": {"reputation": 5, "user_id": 11472497, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xPHjuKK_rf8/AAAAAAAAAAI/AAAAAAAAFWg/3WitF-rwIEU/photo.jpg?sz=128", "display_name": "Dav", "link": "https://stackoverflow.com/users/11472497/dav"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1557352298, "post_id": 56049511, "comment_id": 98740450, "body": "I mistyped. It&#39;s supposed to be Math.ceil() - I also edited the code above which is where I left off before asking for help here :)"}, {"owner": {"reputation": 113065, "user_id": 1850609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0C56.jpg?s=128&g=1", "display_name": "acdcjunior", "link": "https://stackoverflow.com/users/1850609/acdcjunior"}, "edited": false, "score": 0, "creation_date": 1557352434, "post_id": 56049511, "comment_id": 98740489, "body": "Do you want to round all heights to the <b>same</b> multiple of 32px or each element to its nearest multiple of 32px?"}, {"owner": {"reputation": 5, "user_id": 11472497, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xPHjuKK_rf8/AAAAAAAAAAI/AAAAAAAAFWg/3WitF-rwIEU/photo.jpg?sz=128", "display_name": "Dav", "link": "https://stackoverflow.com/users/11472497/dav"}, "edited": false, "score": 0, "creation_date": 1557352491, "post_id": 56049511, "comment_id": 98740514, "body": "Round each element to a multiple of 32. So if there&#39;s two elements each with different heights, those individual elements will round up to the nearest multiple of 32."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1557353051, "post_id": 56049511, "comment_id": 98740661, "body": "<code>getElementsByClassName()</code> returns an array like structure.  Each of the elements in the structure may have an <code>outerHeight()</code> method, but the array will not.  So your very first line for defining <code>x</code> is an issue."}, {"owner": {"reputation": 5, "user_id": 11472497, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xPHjuKK_rf8/AAAAAAAAAAI/AAAAAAAAFWg/3WitF-rwIEU/photo.jpg?sz=128", "display_name": "Dav", "link": "https://stackoverflow.com/users/11472497/dav"}, "edited": false, "score": 0, "creation_date": 1557353179, "post_id": 56049511, "comment_id": 98740691, "body": "Should it be using some form of <code>$(&#39;.myclass&#39;)</code> instead?"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 11472497, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xPHjuKK_rf8/AAAAAAAAAAI/AAAAAAAAFWg/3WitF-rwIEU/photo.jpg?sz=128", "display_name": "Dav", "link": "https://stackoverflow.com/users/11472497/dav"}, "edited": false, "score": 0, "creation_date": 1557353762, "post_id": 56049670, "comment_id": 98740859, "body": "Amazing. Thank you so much! I&#39;m quite impressed as it looks like I was really close to your solution!"}], "tags": [], "owner": {"reputation": 113065, "user_id": 1850609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0C56.jpg?s=128&g=1", "display_name": "acdcjunior", "link": "https://stackoverflow.com/users/1850609/acdcjunior"}, "is_accepted": true, "score": 0, "last_activity_date": 1557353346, "creation_date": 1557353346, "answer_id": 56049670, "question_id": 56049511, "link": "https://stackoverflow.com/questions/56049511/how-to-target-all-elements-on-page-with-class-name-and-round-up-its-height-to-a/56049670#56049670", "title": "How to target all elements on page with class name and round up it&#39;s height to a multiple of 32?", "body": "<p>Equivalent of jQuery's <code>outerHeight()</code> is (for your scenario) <code>.offsetHeight</code>.</p>\n\n<p>Also, since you want:</p>\n\n<blockquote>\n  <p>Round each element to a multiple of 32. So if there's two elements each with different heights, those individual elements will round up to the nearest multiple of 32.</p>\n</blockquote>\n\n<p>You should move the calculation of the height into the loop:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var elements = document.getElementsByClassName('poo');\r\nfor (var i = 0; i &lt; elements.length; i++) {\r\n    var x = elements[i].offsetHeight;\r\n    var h = Math.ceil(x/32)*32;\r\n    elements[i].style.height= h + 'vw';\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"poo one\" style=\"background-color: red;\"&gt;one&lt;/div&gt;\r\n\r\n&lt;div class=\"poo two\" style=\"height: 60px; background-color: blue;\" &gt;two&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>jQuery equivalent:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\".poo\").height(function () {\r\n    var x = $(this).outerHeight();\r\n    var h = Math.ceil(x/32)*32;\r\n    return h + 'vw';\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div class=\"poo one\" style=\"background-color: red;\"&gt;one&lt;/div&gt;\r\n\r\n&lt;div class=\"poo two\" style=\"height: 60px; background-color: blue;\" &gt;two&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 5, "user_id": 11472497, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xPHjuKK_rf8/AAAAAAAAAAI/AAAAAAAAFWg/3WitF-rwIEU/photo.jpg?sz=128", "display_name": "Dav", "link": "https://stackoverflow.com/users/11472497/dav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 56049670, "answer_count": 1, "score": 0, "last_activity_date": 1557353346, "creation_date": 1557352209, "last_edit_date": 1557352442, "question_id": 56049511, "link": "https://stackoverflow.com/questions/56049511/how-to-target-all-elements-on-page-with-class-name-and-round-up-its-height-to-a", "title": "How to target all elements on page with class name and round up it&#39;s height to a multiple of 32?", "body": "<p>I'm trying to target all elements with a class name and round it's height up to a multiple of 32px using <code>Math.ciel()</code></p>\n\n<pre><code>var x = document.getElementsByClassName('poo').outerHeight();\nvar h = Math.ceil(x/32)*32;\n\nvar elements = document.getElementsByClassName('poo');\nfor (var i = 0; i &lt; elements.length; i++) {\n    elements[i].style.height= h + 'vw';\n}\n</code></pre>\n\n<p>I'm not very good at writing my own code so this is basically just a thing I patched up together from other code on this website when I was looking for an answer.</p>\n\n<p>The expected result basically is if a div height is '30', the output should change into '32'. '120' to '128', etc.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 10669, "user_id": 3684265, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4f365ab1670c41f5e966ef9abecf9903?s=128&d=identicon&r=PG", "display_name": "imvain2", "link": "https://stackoverflow.com/users/3684265/imvain2"}, "edited": false, "score": 0, "creation_date": 1557351820, "post_id": 56049404, "comment_id": 98740308, "body": "Looks like a typo <code>oldNumber</code> should be <code>d_oldNumber</code> in the <code>if</code> statement for <code>button1.checked</code>"}, {"owner": {"reputation": 10669, "user_id": 3684265, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4f365ab1670c41f5e966ef9abecf9903?s=128&d=identicon&r=PG", "display_name": "imvain2", "link": "https://stackoverflow.com/users/3684265/imvain2"}, "edited": false, "score": 0, "creation_date": 1557352026, "post_id": 56049404, "comment_id": 98740374, "body": "Also there is no object with the id of percentageIncrease and there is a typo for decreaseresults. And IDs are meant to be unique so you can&#39;t reuse percentage id."}, {"owner": {"reputation": 187, "user_id": 6352763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ls7QY.jpg?s=128&g=1", "display_name": "Terrance DeJesus", "link": "https://stackoverflow.com/users/6352763/terrance-dejesus"}, "reply_to_user": {"reputation": 10669, "user_id": 3684265, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4f365ab1670c41f5e966ef9abecf9903?s=128&d=identicon&r=PG", "display_name": "imvain2", "link": "https://stackoverflow.com/users/3684265/imvain2"}, "edited": false, "score": 0, "creation_date": 1557352442, "post_id": 56049404, "comment_id": 98740495, "body": "Yea that would do it lol Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 47115, "user_id": 235354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/097d761861529df52a6800744f1074d2?s=128&d=identicon&r=PG", "display_name": "jspcal", "link": "https://stackoverflow.com/users/235354/jspcal"}, "is_accepted": false, "score": 0, "last_activity_date": 1557351842, "creation_date": 1557351842, "answer_id": 56049452, "question_id": 56049404, "link": "https://stackoverflow.com/questions/56049404/how-to-use-radio-buttons-and-input-in-javascript-function-with-if-then-statement/56049452#56049452", "title": "How to Use Radio Buttons and Input in JavaScript Function with If/Then Statements", "body": "<p>This statement uses an undefined variable <code>oldNumber</code>. Perhaps change it to <code>d_oldNumber</code>?</p>\n\n<pre><code>            var decreaseresults = (decreaseValue / oldNumber) * 100;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2494, "user_id": 8659598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bZpWy.png?s=128&g=1", "display_name": "MichaelvE", "link": "https://stackoverflow.com/users/8659598/michaelve"}, "is_accepted": false, "score": 0, "last_activity_date": 1557352209, "creation_date": 1557352209, "answer_id": 56049512, "question_id": 56049404, "link": "https://stackoverflow.com/questions/56049404/how-to-use-radio-buttons-and-input-in-javascript-function-with-if-then-statement/56049512#56049512", "title": "How to Use Radio Buttons and Input in JavaScript Function with If/Then Statements", "body": "<p>You simply had some miss-spelled variables: d_oldNumber, oldNumber and the id oldNumber.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getPercentageChange() {\r\n  var button1 = document.getElementById(\"button1\");\r\n  var button2 = document.getElementById(\"button2\");\r\n\r\n  if (button1.checked) {\r\n    var d_oldNumber = document.getElementById('originalnumber').value;\r\n    var d_newNumber = document.getElementById('newnumber').value;\r\n    var decreaseValue = d_oldNumber - d_newNumber;\r\n    var decreaseresults = (decreaseValue / d_oldNumber) * 100;\r\n    document.getElementById('percentage').innerHTML = decreaseresults + '%';\r\n  } else if (button2.checked) {\r\n    var i_oldNumber = document.getElementById('originalnumber').value;\r\n    var i_newNumber = document.getElementById('newnumber').value;\r\n    var increaseValue = i_oldNumber - i_newNumber;\r\n    var increaseresults = (increaseValue / i_oldNumber) * 100;\r\n    document.getElementById('percentage').innerHTML = increaseresults + '%';\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Percentage Increase &lt;input type=\"radio\" name=\"radionbutton\" value=\"1\" id=\"button1\" /&gt;&lt;br&gt; Percentage Decrease &lt;input type=\"radio\" name=\"radionbutton\" value=\"2\" id=\"button2\" /&gt;&lt;br&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;\r\n\r\n\r\n&lt;p&gt;Original Number:\r\n  &lt;input type=\"numeric\" id=\"originalnumber\" value=\"\"&gt;&lt;br&gt; New Number:\r\n  &lt;input type=\"numeric\" id=\"newnumber\" value=\"\"&gt;&lt;br&gt;&lt;br&gt;\r\n&lt;/p&gt;\r\n\r\n&lt;input type=\"button\" value=\"Calculate\" onclick=\"getPercentageChange();\"&gt;\r\n&lt;div id=\"percentage\"&gt;&lt;/div&gt;\r\n\r\n\r\n&lt;p id=\"percentage\"&gt;&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 25691, "user_id": 1675954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zZXdA.jpg?s=128&g=1", "display_name": "Rachel Gallen", "link": "https://stackoverflow.com/users/1675954/rachel-gallen"}, "is_accepted": false, "score": 0, "last_activity_date": 1557353373, "creation_date": 1557353373, "answer_id": 56049677, "question_id": 56049404, "link": "https://stackoverflow.com/questions/56049404/how-to-use-radio-buttons-and-input-in-javascript-function-with-if-then-statement/56049677#56049677", "title": "How to Use Radio Buttons and Input in JavaScript Function with If/Then Statements", "body": "<p>As a few of your variables equate to the same result, you could simplify this function to save yourself mix-ups. There are a few instances where there were mis-spellings of variable names in your code</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getPercentageChange() {\r\n  var button1 = document.getElementById(\"button1\");\r\n  var button2 = document.getElementById(\"button2\");\r\n\r\n  var oldNumber = document.getElementById('originalnumber').value;\r\n  var newNumber = document.getElementById('newnumber').value;\r\n  var difference = oldNumber - newNumber;\r\n  var results = (difference / oldNumber) * 100;\r\n\r\n\r\n  if (button1.checked) {\r\n    document.getElementById('percentage').innerHTML = results + '%';\r\n  } else if (button2.checked) {\r\n    document.getElementById('percentage').innerHTML = results + '%';\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Percentage Increase &lt;input type=\"radio\" name=\"radionbutton\" value=\"1\" id=\"button1\" /&gt;&lt;br&gt; Percentage Decrease &lt;input type=\"radio\" name=\"radionbutton\" value=\"2\" id=\"button2\" /&gt;&lt;br&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp;\r\n\r\n\r\n&lt;p&gt;Original Number:\r\n  &lt;input type=\"numeric\" id=\"originalnumber\" value=\"\"&gt;&lt;br&gt; New Number:\r\n  &lt;input type=\"numeric\" id=\"newnumber\" value=\"\"&gt;&lt;br&gt;&lt;br&gt;\r\n&lt;/p&gt;\r\n\r\n&lt;input type=\"button\" value=\"Calculate\" onclick=\"getPercentageChange();\"&gt;\r\n&lt;div id=\"percentage\"&gt;&lt;/div&gt;\r\n\r\n\r\n&lt;p id=\"percentage\"&gt;&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 187, "user_id": 6352763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ls7QY.jpg?s=128&g=1", "display_name": "Terrance DeJesus", "link": "https://stackoverflow.com/users/6352763/terrance-dejesus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1557353373, "creation_date": 1557351545, "last_edit_date": 1557351756, "question_id": 56049404, "link": "https://stackoverflow.com/questions/56049404/how-to-use-radio-buttons-and-input-in-javascript-function-with-if-then-statement", "title": "How to Use Radio Buttons and Input in JavaScript Function with If/Then Statements", "body": "<p>I am working on creating a simple increase/decrease percentage calculator using HTML and JavaScript. I honestly am not sure where my actual code is going wrong. It worked fine until I added an if/then statement in the JavaScript. Everything \"appears\" to be right, but the result is not printing to the screen at the tag ID I specify. I am new to JavaScript and HTML so this is just some learning for me. Thanks in advance!</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>              function getPercentageChange() {\r\n              var button1 = document.getElementById(\"button1\");\r\n              var button2 = document.getElementById(\"button2\");\r\n\r\n              if (button1.checked){\r\n                var d_oldNumber = document.getElementById('originalnumber').value;\r\n                var d_newNumber = document.getElementById('newnumber').value;\r\n                var decreaseValue = d_oldNumber - d_newNumber;\r\n                var decreaseresults = (decreaseValue / oldNumber) * 100;\r\n                document.getElementById('percentageIncrease').innerHTML = descreaseresults + '%';\r\n              } else if (button2.checked) {\r\n                var i_oldNumber = document.getElementById('originalnumber').value;\r\n                var i_newNumber = document.getElementById('newnumber').value;\r\n                var increaseValue = i_oldNumber - i_newNumber;\r\n                var increaseresults = (increaseValue / i_oldNumber) * 100;\r\n                document.getElementById('percentage').innerHTML = increaseresults + '%';\r\n              }\r\n            }\r\n            </code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>          Percentage Increase &lt;input type=\"radio\" name=\"radionbutton\" value=\"1\" id=\"button1\"/&gt;&lt;br&gt;\r\n          Percentage Decrease &lt;input type=\"radio\" name=\"radionbutton\" value=\"2\" id=\"button2\"/&gt;&lt;br&gt;\r\n          &amp;nbsp;\r\n          &amp;nbsp;\r\n          &amp;nbsp;\r\n\r\n\r\n          &lt;p&gt;Original Number:\r\n            &lt;input type=\"numeric\" id=\"originalnumber\" value=\"\"&gt;&lt;br&gt;\r\n\r\n             New Number:\r\n            &lt;input type=\"numeric\" id=\"newnumber\" value=\"\"&gt;&lt;br&gt;&lt;br&gt;\r\n          &lt;/p&gt;\r\n\r\n           &lt;input type=\"button\" value=\"Calculate\" onclick=\"getPercentageChange();\"&gt;\r\n           &lt;div id = \"percentage\"&gt;&lt;/div&gt;\r\n\r\n\r\n            &lt;p id=\"percentage\"&gt;&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "promise", "fetch"], "comments": [{"owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "edited": false, "score": 2, "creation_date": 1557351808, "post_id": 56049397, "comment_id": 98740306, "body": "Doing this in Edge -&gt; <code>Promise.resolve().then(() =&gt; console.log(&quot;do this&quot;)).finally(() =&gt; console.log(&quot;finally&quot;))</code>  Shows <code>do this</code> <code>finally</code>, Are you able to knock up a reproducible test case."}, {"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1557351972, "post_id": 56049397, "comment_id": 98740356, "body": "It may have to do with <code>fetch</code> not returning a <i>native, built-in</i> Promise (that would inherit from <code>Promise.prototype.finally</code>), but that it returns a polyfill version that does not have a <code>.finally</code> method (not that sure though)"}, {"owner": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "edited": false, "score": 0, "creation_date": 1557352064, "post_id": 56049397, "comment_id": 98740387, "body": "While I&#39;ve seen weird bugs in Edge, I am not convinced about this one yet. What do you mean by not appearing to be working? Does it throw an error? Or does it jjust hang? Lets try to replucate the problem, show us some code that you consider not working in Edge, and we can run it ourselves."}, {"owner": {"reputation": 717, "user_id": 5812315, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1623503457932175/picture?type=large", "display_name": "Eric Harms", "link": "https://stackoverflow.com/users/5812315/eric-harms"}, "edited": false, "score": 0, "creation_date": 1557495488, "post_id": 56049397, "comment_id": 98795612, "body": "Let me add the error above."}, {"owner": {"reputation": 717, "user_id": 5812315, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1623503457932175/picture?type=large", "display_name": "Eric Harms", "link": "https://stackoverflow.com/users/5812315/eric-harms"}, "edited": false, "score": 0, "creation_date": 1557495538, "post_id": 56049397, "comment_id": 98795633, "body": "Could it be an issue with Whatwg-fetch polyfill?"}, {"owner": {"reputation": 5031, "user_id": 7177029, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/F4BB8.jpg?s=128&g=1", "display_name": "Kunal Mukherjee", "link": "https://stackoverflow.com/users/7177029/kunal-mukherjee"}, "edited": false, "score": 0, "creation_date": 1557495591, "post_id": 56049397, "comment_id": 98795660, "body": "<code>.finally(() =&gt; { });</code> I dont think its valid ES6"}, {"owner": {"reputation": 717, "user_id": 5812315, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1623503457932175/picture?type=large", "display_name": "Eric Harms", "link": "https://stackoverflow.com/users/5812315/eric-harms"}, "edited": false, "score": 0, "creation_date": 1557496699, "post_id": 56049397, "comment_id": 98796306, "body": "() =&gt; {} is function shorthand and transpiled via babel. The error posted is about the method finally()."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1557501914, "post_id": 56049397, "comment_id": 98799326, "body": "@EricHarms the reason the polyfill works in IE11 but not Edge is because the shim does not polyfill each method individually. Since IE11 has <i>no</i> <code>Promise</code> support, the entire polyfill is dropped in, but since Edge has ES2015 <code>Promise</code> support (<code>.finally()</code> was added in ES2017, but never implemented by Edge), the shim does not properly detect that <code>.finally()</code> needs to be patched on the existing native <code>Promise</code> implementation in Edge. My answer in the duplicate provides a simple patch that falls back to a polyfill if <code>.finally</code> does not already exist."}, {"owner": {"reputation": 717, "user_id": 5812315, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1623503457932175/picture?type=large", "display_name": "Eric Harms", "link": "https://stackoverflow.com/users/5812315/eric-harms"}, "edited": false, "score": 0, "creation_date": 1557515632, "post_id": 56049397, "comment_id": 98805468, "body": "Thanks for everything. Looking at the duplicate now. Much appreciated"}, {"owner": {"reputation": 717, "user_id": 5812315, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1623503457932175/picture?type=large", "display_name": "Eric Harms", "link": "https://stackoverflow.com/users/5812315/eric-harms"}, "edited": false, "score": 0, "creation_date": 1557516104, "post_id": 56049397, "comment_id": 98805650, "body": "I dropped the following code in before my main entry point and after the babel polyfill. No luck. Promise.prototype.finally = Promise.prototype.finally || { \t  finally (fn) { \t    const onFinally = cb =&gt; Promise.resolve(fn()).then(cb); \t    return this.then( \t      result =&gt; onFinally(() =&gt; result), \t      reason =&gt; onFinally(() =&gt; Promise.reject(reason)) \t    ); \t  } \t}.finally;"}], "owner": {"reputation": 717, "user_id": 5812315, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1623503457932175/picture?type=large", "display_name": "Eric Harms", "link": "https://stackoverflow.com/users/5812315/eric-harms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 373, "favorite_count": 0, "closed_date": 1557496483, "answer_count": 0, "score": 1, "last_activity_date": 1557496397, "creation_date": 1557351463, "last_edit_date": 1557496397, "question_id": 56049397, "link": "https://stackoverflow.com/questions/56049397/how-do-i-get-promises-finally-to-work-in-edge", "closed_reason": "Duplicate", "title": "How do I get promise&#39;s finally() to work in Edge?", "body": "<p>Basically, I have a function that returns a promise and calling <code>finally()</code> doesn't appear to be working on Edge. It is fine in <strong>IE11</strong> (weird huh?) The rest of the Promise API works great. I read this could be a bug with either Edge or the Babel <strong>Polyfill</strong> and a workaround is to wrap it somehow, but I have not seen a code example.</p>\n\n<p><strong>API</strong></p>\n\n<p>I have an API that returns a promise</p>\n\n<pre><code>/**\n * Return a promise containing a single employee.\n *\n * @param {string} [employeeID] The employeeID.\n *\n * @return {promise} The promise. \n */\nexport function getEmployee(employeeID) {\n    return fetch(api + \"?employeeID=\" + employeeID)\n        .then((resp) =&gt; {\n            return resp.json();\n        });\n}\n</code></pre>\n\n<p><strong>Calling Code</strong></p>\n\n<pre><code>    getEmployee(this.props.id)\n        .then((json) =&gt; {\n            this.setState({\n               // do some stuff\n            });\n        })\n        .finally(() =&gt; { });\n</code></pre>\n\n<p><strong>Notes</strong></p>\n\n<ul>\n<li>Using Babel Polyfill</li>\n<li>Using WhatWG Fetch</li>\n<li>Using Webpack</li>\n</ul>\n\n<p><strong>Error</strong></p>\n\n<blockquote>\n  <p>SCRIPT438: Object doesn't support property or method 'finally'</p>\n</blockquote>\n"}, {"tags": ["javascript", "jquery", "ajax"], "comments": [{"owner": {"reputation": 146, "user_id": 1405411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b605b9ec5518dcc986c72394b9822b6?s=128&d=identicon&r=PG", "display_name": "ulikus", "link": "https://stackoverflow.com/users/1405411/ulikus"}, "edited": false, "score": 2, "creation_date": 1557351782, "post_id": 56049396, "comment_id": 98740296, "body": "Not clear what are you trying to make. Want to replace php script with js script?"}, {"owner": {"reputation": 1914, "user_id": 2757519, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/hiIp7.jpg?s=128&g=1", "display_name": "Ainz-sama", "link": "https://stackoverflow.com/users/2757519/ainz-sama"}, "edited": false, "score": 0, "creation_date": 1557351873, "post_id": 56049396, "comment_id": 98740321, "body": "it&#39;s quite simple, the stringify method accepts an array or an object or an array of objects or a mixture of all and returns a JSON converted string. This should help: <a href=\"https://www.digitalocean.com/community/tutorials/how-to-work-with-json-in-javascript\" rel=\"nofollow noreferrer\">digitalocean.com/community/tutorials/&hellip;</a>"}, {"owner": {"reputation": 9, "user_id": 10833479, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Kfxmgj6UNJk/AAAAAAAAAAI/AAAAAAAAAW0/Hk3YnG3E1R4/photo.jpg?sz=128", "display_name": "fans", "link": "https://stackoverflow.com/users/10833479/fans"}, "reply_to_user": {"reputation": 146, "user_id": 1405411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b605b9ec5518dcc986c72394b9822b6?s=128&d=identicon&r=PG", "display_name": "ulikus", "link": "https://stackoverflow.com/users/1405411/ulikus"}, "edited": false, "score": 0, "creation_date": 1557425586, "post_id": 56049396, "comment_id": 98770522, "body": "@ulikus, yes, I want to replace the php script with js script. Sorry about the confusion, I&#39;ve re-edited the question. I don&#39;t know how to make the js script return a JSON object to the &quot;success: function (response) {}&quot; part."}, {"owner": {"reputation": 6306, "user_id": 1408759, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/efFVd.gif?s=128&g=1", "display_name": "ndugger", "link": "https://stackoverflow.com/users/1408759/ndugger"}, "edited": false, "score": 0, "creation_date": 1557425595, "post_id": 56049396, "comment_id": 98770525, "body": "You don&#39;t need jQuery <a href=\"https://github.com/you-dont-need-x/you-dont-need-jquery\" rel=\"nofollow noreferrer\">github.com/you-dont-need-x/you-dont-need-jquery</a>"}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1557425694, "post_id": 56049396, "comment_id": 98770580, "body": "a javascript file cannot &quot;return&quot; a value in the same sense that a php file can. In this specific case, the response will be the content of the js file (and it will go to the error callback because javascript isn&#39;t valid json.) If you just want json, perhaps a json file would make more sense."}, {"owner": {"reputation": 9, "user_id": 10833479, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Kfxmgj6UNJk/AAAAAAAAAAI/AAAAAAAAAW0/Hk3YnG3E1R4/photo.jpg?sz=128", "display_name": "fans", "link": "https://stackoverflow.com/users/10833479/fans"}, "reply_to_user": {"reputation": 1914, "user_id": 2757519, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/hiIp7.jpg?s=128&g=1", "display_name": "Ainz-sama", "link": "https://stackoverflow.com/users/2757519/ainz-sama"}, "edited": false, "score": 0, "creation_date": 1557426068, "post_id": 56049396, "comment_id": 98770745, "body": "@ImmortalDude, sorry I didn&#39;t explain my question clearly. I was not asking about the stringify method, but how to pass this json object back to the success function."}, {"owner": {"reputation": 9, "user_id": 10833479, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Kfxmgj6UNJk/AAAAAAAAAAI/AAAAAAAAAW0/Hk3YnG3E1R4/photo.jpg?sz=128", "display_name": "fans", "link": "https://stackoverflow.com/users/10833479/fans"}, "reply_to_user": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1557426776, "post_id": 56049396, "comment_id": 98771065, "body": "@KevinB, thanks for the reply. The reason I want to use a js file here is I need to manipulate some HDF5 files specified by the users. As far as I know, php cannot handle HDF5 files, but javascript can. I&#39;m not sure this makes more sense."}, {"owner": {"reputation": 1914, "user_id": 2757519, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/hiIp7.jpg?s=128&g=1", "display_name": "Ainz-sama", "link": "https://stackoverflow.com/users/2757519/ainz-sama"}, "edited": false, "score": 0, "creation_date": 1557504800, "post_id": 56049396, "comment_id": 98800758, "body": "So you want to replace your backend php file with a JavaScript file, well that won&#39;t work with Ajax, because Ajax is a wrapper for xhttp requests, you need a server to communicate with, you can try node scripts running on node js (if you really need JavaScript to be the one manipulating the files) or ditch the Ajax and do it in the same script file/codeblock"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 10833479, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Kfxmgj6UNJk/AAAAAAAAAAI/AAAAAAAAAW0/Hk3YnG3E1R4/photo.jpg?sz=128", "display_name": "fans", "link": "https://stackoverflow.com/users/10833479/fans"}, "edited": false, "score": 0, "creation_date": 1557428129, "post_id": 56065535, "comment_id": 98771653, "body": "Thanks! so it is okay to have a php file here, because a php file runs on the external host, but not so for a Javascript file because a js file runs on my own computer? I want to use a javascript file here because I need to work with HDF5 files specified by the users and get a return that can be displayed on the browser. Does this make more sense?"}], "tags": [], "owner": {"reputation": 7429, "user_id": 4811873, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/2ef5bab087ac0b70e03e34b0b0009fd5?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Robinson", "link": "https://stackoverflow.com/users/4811873/mike-robinson"}, "is_accepted": false, "score": 0, "last_activity_date": 1557426521, "creation_date": 1557426521, "answer_id": 56065535, "question_id": 56049396, "link": "https://stackoverflow.com/questions/56049396/how-to-return-the-response-from-a-javascript-file-in-jquery-ajax/56065535#56065535", "title": "How to return the response from a javascript file in JQuery .ajax()?", "body": "<p>Okay, here's where you're stumbling:</p>\n\n<blockquote>\n  <p>\"Now I want to replace the <strong>get_date.php</strong> with another <strong><em>javascript</em></strong> file\"</p>\n</blockquote>\n\n<p>You see, the <strong>$.ajax(...)</strong> construct in your source-code sends an <em>asynchronous</em> request to an <em>external</em> host, not \"the same computer.\"  Your computer will construct and send an <code>HTTP(S)</code> request to that computer, then proceed immediately with the next JavaScript statement in the program.</p>\n\n<p>However, <em>at some (unpredictable) future time,</em> the host will send its reply.  When it does so ... <em>(hence: \"asynchronously ...\" the \"A\" in AJAX ...),</em> and assuming that the request was <code>200 OK</code>, your JavaScript program will execute the <code>success:</code> function.</p>\n\n<p>The \"new\" scenario that you describe is fundamentally different from this \u2013 a  <em>JavaScript</em> file runs on \"your own\" computer (therefore: \"synchronously\"), not \"a different\" one.  And you simply can't swap one for the other.  You'll have to re-think your design.</p>\n\n<p>Of course, the community here will be happy to assist you.  Tell us more ...</p>\n"}, {"tags": [], "owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": false, "score": 0, "last_activity_date": 1557428690, "creation_date": 1557428690, "answer_id": 56066047, "question_id": 56049396, "link": "https://stackoverflow.com/questions/56049396/how-to-return-the-response-from-a-javascript-file-in-jquery-ajax/56066047#56066047", "title": "How to return the response from a javascript file in JQuery .ajax()?", "body": "<p>If you want to process files, stored on the client, with client-side JavaScript, then you need to be reading them with <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/File/Using_files_from_web_applications\" rel=\"nofollow noreferrer\">the file API</a> and not involving Ajax at all. </p>\n\n<p>If you want to run JavaScript server side, then you need to configure your server to run it (or replace the server with one designed to run JavaScript (Node.js + ExpressJS is a common choice)). You can't just submit an HTTP request to a JavaScript file that the server is configured to treat like any other static file for delivery direct to the client.</p>\n"}], "owner": {"reputation": 9, "user_id": 10833479, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Kfxmgj6UNJk/AAAAAAAAAAI/AAAAAAAAAW0/Hk3YnG3E1R4/photo.jpg?sz=128", "display_name": "fans", "link": "https://stackoverflow.com/users/10833479/fans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 313, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1557428690, "creation_date": 1557351452, "last_edit_date": 1557427460, "question_id": 56049396, "link": "https://stackoverflow.com/questions/56049396/how-to-return-the-response-from-a-javascript-file-in-jquery-ajax", "title": "How to return the response from a javascript file in JQuery .ajax()?", "body": "<p>I'm totally new to jQuery and javascript. Not sure if this is a valid question or not. I was reading the source code for the website I'm currently maintaining. At some places in the code, I need to get the responses from users and send them to a PHP file for data processing and return the result. An example may be as below.</p>\n\n<pre><code>$.ajax({\n    type: \"GET\",\n    url: \"get_date.php\",\n    data: {month: $('#month').val(), year: $('#year').val()},\n    dataType: \"json\",\n    success: function(response) {\n         console.log(response.date)\n    }\n    ....\n})\n</code></pre>\n\n<p>In the <strong>get_date.php</strong> file I can write something like this:</p>\n\n<pre><code>...\necho json_encode($output)\n</code></pre>\n\n<p>Now I want to replace the get_date.php with another javascript file, but <strong>I don't know how to return a JSON object like what I did in the get_date.php file</strong>. I tried the following code but it doesn't work.</p>\n\n<pre><code>var output = JSON.stringify(js_object)\nconsole.log(output)\n</code></pre>\n\n<p>Thanks for all the replies! The reason I want to use a js file here is I need to manipulate some HDF5 files specified by the users. As far as I know, php cannot handle HDF5 files easily, but javascript can. I hope this makes the problem clearer.</p>\n\n<p>Any comments would be appreciated!</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 104, "user_id": 9640472, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5TsqfpLl0xU/AAAAAAAAAAI/AAAAAAAAAAA/r9gvEof-GZk/photo.jpg?sz=128", "display_name": "Himanshu Singh", "link": "https://stackoverflow.com/users/9640472/himanshu-singh"}, "edited": false, "score": 0, "creation_date": 1557351941, "post_id": 56049370, "comment_id": 98740345, "body": "Please go through this once <a href=\"http://javascript.info/microtask-queue\" rel=\"nofollow noreferrer\">javascript.info/microtask-queue</a>  Might help."}, {"owner": {"reputation": 104, "user_id": 9640472, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5TsqfpLl0xU/AAAAAAAAAAI/AAAAAAAAAAA/r9gvEof-GZk/photo.jpg?sz=128", "display_name": "Himanshu Singh", "link": "https://stackoverflow.com/users/9640472/himanshu-singh"}, "edited": false, "score": 1, "creation_date": 1557352721, "post_id": 56049370, "comment_id": 98740577, "body": "okURL function will not return the <code>rules(object)</code> till the fetch is complete. But fetch calls setTimeout which is a macro task (low priority). You should use Promise.all API for this use case (each function can be called in async, once converted to a Promise)."}, {"owner": {"reputation": 4730, "user_id": 294260, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/92ba886b03a595085d0410bf2546854c?s=128&d=identicon&r=PG", "display_name": "GN.", "link": "https://stackoverflow.com/users/294260/gn"}, "reply_to_user": {"reputation": 104, "user_id": 9640472, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5TsqfpLl0xU/AAAAAAAAAAI/AAAAAAAAAAA/r9gvEof-GZk/photo.jpg?sz=128", "display_name": "Himanshu Singh", "link": "https://stackoverflow.com/users/9640472/himanshu-singh"}, "edited": false, "score": 0, "creation_date": 1557354430, "post_id": 56049370, "comment_id": 98741006, "body": "How would you use promise.all for this?"}], "answers": [{"comments": [{"owner": {"reputation": 4730, "user_id": 294260, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/92ba886b03a595085d0410bf2546854c?s=128&d=identicon&r=PG", "display_name": "GN.", "link": "https://stackoverflow.com/users/294260/gn"}, "edited": false, "score": 0, "creation_date": 1557358990, "post_id": 56050145, "comment_id": 98742006, "body": "ahh i see, return promise for all rules."}], "tags": [], "owner": {"reputation": 104, "user_id": 9640472, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5TsqfpLl0xU/AAAAAAAAAAI/AAAAAAAAAAA/r9gvEof-GZk/photo.jpg?sz=128", "display_name": "Himanshu Singh", "link": "https://stackoverflow.com/users/9640472/himanshu-singh"}, "is_accepted": true, "score": 0, "last_activity_date": 1557356748, "creation_date": 1557356748, "answer_id": 56050145, "question_id": 56049370, "link": "https://stackoverflow.com/questions/56049370/is-there-a-way-to-chain-methods-in-js-where-some-methods-are-async/56050145#56050145", "title": "Is there a way to chain methods in JS where some methods are async?", "body": "<pre><code>let cache = [];\n\nlet minLengthStr = function(object, property, propertyAlias = property) {\n                 return new Promise(function(resolve, reject) {\n                      const value = object[property];\n                      const message = typeof value === 'string' &amp;&amp; value.length &gt; 2 ? null : `${propertyAlias} is less than 2`;\n                      cache.push(message);\n                          resolve();\n                  });\n };\n\n\nlet emptyCollection = function(object,property, propertyAlias = property) {\n                 return new Promise(function(resolve, reject) {\n                      const value = object[property];\n                      const message = (Array.isArray(value) &amp;&amp; value.length &lt;= 0) ? `${propertyAlias} collection is empty` : null;\n                      cache.push(message);\n                          resolve();\n                  });\n        };\n\n let isString = function(object,property, propertyAlias = property) {\n                 return new Promise(function(resolve, reject) {\n                      const value = object[property];\n                      const message = typeof value === 'string' ? null : `${propertyAlias} is not a string`;\n                      cache.push(message);\n                          resolve();\n                  });\n        }\n\n\n  let okURL = function(object,property, propertyAlias = property) {\n                 return new Promise(function(resolve, reject) {\n                       const value = object[property];\n                       const message = /http/.test(value) ? `${value} is ok` : null;\n                       cache.push(message);                \n                       resolve();\n                  });\n  }\n\n\nfunction validateRunner(value) {\n    Promise.all([minLengthStr(value,'name','fakeName'), emptyCollection(value,'hobbies', 'fakeHobbies'), isString(value,'name', 'dummyString'), okURL(value, 'website', 'fakeWebsite')]).then(function() {\n      console.log('All completed', cache.filter(Boolean));\n    });\n}\n\n\nconst person = {\n        website: 'google.com',\n        name: null,\n        age: '23',\n        hobbies: []\n    };\n\n\nvalidateRunner(person);\n</code></pre>\n"}], "owner": {"reputation": 4730, "user_id": 294260, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/92ba886b03a595085d0410bf2546854c?s=128&d=identicon&r=PG", "display_name": "GN.", "link": "https://stackoverflow.com/users/294260/gn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 56050145, "answer_count": 1, "score": 0, "last_activity_date": 1557356748, "creation_date": 1557351312, "question_id": 56049370, "link": "https://stackoverflow.com/questions/56049370/is-there-a-way-to-chain-methods-in-js-where-some-methods-are-async", "title": "Is there a way to chain methods in JS where some methods are async?", "body": "<p>We have a validation library like so..</p>\n\n<pre><code>const cache = [];\n\nfunction rules(object) {\n\n    return {\n        addToCache(value) {\n            cache.push(value)\n        },\n        minLengthStr(property, propertyAlias = property) { \n            const value = object[property];\n\n            const message = \n                typeof value === 'string' &amp;&amp; value.length &gt; 2 ? null : `${propertyAlias} is less than 2`;\n            cache.push(message);\n            return rules(object);\n        },\n\n        emptyCollection(property, propertyAlias = property) {\n            const value = object[property];\n\n            const message = Array.isArray(value) &amp;&amp; value.length &lt;= 0 ?\n               `${propertyAlias} collection is empty` : null\n\n            cache.push(message);\n\n            return rules(object);\n        },\n\n        isString(property, propertyAlias = property) { \n            debugger;\n            const value = object[property];\n\n            const message = typeof value === 'string' ? null : `${propertyAlias} is not a string`;\n            cache.push(message);\n\n            return rules(object);\n        },\n\n        value() {\n            return cache.filter(Boolean);\n        }   \n    }\n}\n\n\nfunction validateRunner(value) {\n    return rules(value)\n}\n</code></pre>\n\n<p>You can call it like this...</p>\n\n<pre><code>const person = {\n        website: 'google.com',\n        name: 'Bi',\n        age: '23',\n        hobbies: [\n            'running',\n            'hiking'\n        ]\n    };\n\n const messages = validateRunner(person)\n            .minLengthStr('name', 'eeeeee')\n            .isString('name')\n            .emptyCollection('hobbies')\n            .value()\n\n\n      console.log(messages) \n</code></pre>\n\n<p><a href=\"https://codepen.io/stoplion/pen/yWYGaV?editors=1112\" rel=\"nofollow noreferrer\">Example on CodePen</a></p>\n\n<p>This has worked well so far.\nBut now we need to add some checks that are async..</p>\n\n<p>For example, the <code>OKUrl</code> method..</p>\n\n<pre><code>let cache = [];\n\n\nfunction fetchIt(url) {\n  return new Promise((res, rej) =&gt; {\n    setTimeout(() =&gt; {\n      const message = /http/.test(url) ? `${url} is ok` : null;\n      res(message);\n    }, 3000)\n  })\n}\n\n\nfunction rules(object) {\n\n  return {\n    addToCache(value) {\n      cache.push(value)\n    },\n\n    async okURL(property, propertyAlias = property) {\n      const message = await fetchIt(property);\n      return rules(object);\n    },\n\n    minLengthStr(property, propertyAlias = property) {\n      const value = object[property];\n\n      const message =\n        typeof value === 'string' &amp;&amp; value.length &gt; 2 ? null : `${propertyAlias} is less than 2`;\n      cache.push(message);\n      return rules(object);\n    },\n\n    emptyCollection(property, propertyAlias = property) {\n      const value = object[property];\n\n      const message = Array.isArray(value) &amp;&amp; value.length &lt;= 0 ?\n        `${propertyAlias} collection is empty` : null\n\n      cache.push(message);\n\n      return rules(object);\n    },\n\n    isString(property, propertyAlias = property) {\n      debugger;\n      const value = object[property];\n\n      const message = typeof value === 'string' ? null : `${propertyAlias} is not a string`;\n      cache.push(message);\n\n      return rules(object);\n    },\n\n    value() {\n      return cache.filter(Boolean);\n    }\n  }\n}\n\n\nfunction validateRunner(value) {\n  return rules(value)\n}\n\n\nconst person = {\n  website: 'google.com',\n  name: 'Bi',\n  age: '23',\n  hobbies: [\n    'running',\n    'hiking'\n  ]\n};\n\n\nconst messages = validateRunner(person)\n  .minLengthStr('name', 'eeeeee')\n  .isString('name')\n  .emptyCollection('hobbies')\n  .okURL('website')\n  .value()\n\n\nconsole.log(messages)   \n</code></pre>\n\n<p><a href=\"https://codepen.io/stoplion/pen/byVOwN?editors=1112\" rel=\"nofollow noreferrer\">WIP Example on Codepen</a> (This example does not work \u2014 just a WIP)</p>\n\n<p>Is it possible to have a chainable structure like this with one or two async methods? Or does it call for totally changing the way its called?</p>\n"}, {"tags": ["javascript", "dom-events"], "comments": [{"owner": {"reputation": 1083, "user_id": 11210376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f3b8e902e85a31fbffa3aee7af8a54f?s=128&d=identicon&r=PG", "display_name": "CoryCoolguy", "link": "https://stackoverflow.com/users/11210376/corycoolguy"}, "edited": false, "score": 2, "creation_date": 1557350851, "post_id": 56049214, "comment_id": 98739964, "body": "The emoji picker is a feature of Windows 10, not Chrome. So I don&#39;t think this question is specific to Chrome at all.  Instead of trying to prevent the input, why not filter out what you don&#39;t want and update the value of the input?"}, {"owner": {"reputation": 1083, "user_id": 11210376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f3b8e902e85a31fbffa3aee7af8a54f?s=128&d=identicon&r=PG", "display_name": "CoryCoolguy", "link": "https://stackoverflow.com/users/11210376/corycoolguy"}, "edited": false, "score": 0, "creation_date": 1557350875, "post_id": 56049214, "comment_id": 98739975, "body": "Dang! @jdgregson beat me to the punch on that!"}, {"owner": {"reputation": 1202, "user_id": 4017749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q1G4d.png?s=128&g=1", "display_name": "jdgregson", "link": "https://stackoverflow.com/users/4017749/jdgregson"}, "reply_to_user": {"reputation": 1083, "user_id": 11210376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f3b8e902e85a31fbffa3aee7af8a54f?s=128&d=identicon&r=PG", "display_name": "CoryCoolguy", "link": "https://stackoverflow.com/users/11210376/corycoolguy"}, "edited": false, "score": 1, "creation_date": 1557350915, "post_id": 56049214, "comment_id": 98739997, "body": "@CoryCoolguy I thought you beat me, so I deleted my answer :P"}, {"owner": {"reputation": 770, "user_id": 6126468, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/QXjJW.png?s=128&g=1", "display_name": "roskelld", "link": "https://stackoverflow.com/users/6126468/roskelld"}, "reply_to_user": {"reputation": 1083, "user_id": 11210376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f3b8e902e85a31fbffa3aee7af8a54f?s=128&d=identicon&r=PG", "display_name": "CoryCoolguy", "link": "https://stackoverflow.com/users/11210376/corycoolguy"}, "edited": false, "score": 0, "creation_date": 1557351068, "post_id": 56049214, "comment_id": 98740053, "body": "Ah, because I saw on the Chrome blog I presumed it was a Chrome feature it <a href=\"https://blog.chromium.org/2018/06/chrome-68-beta-add-to-home-screen.html\" rel=\"nofollow noreferrer\">blog.chromium.org/2018/06/&hellip;</a> so @CoryCoolguy you&#39;re suggesting I remove the emojis once added rather than look to block them beforehand?"}, {"owner": {"reputation": 1083, "user_id": 11210376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f3b8e902e85a31fbffa3aee7af8a54f?s=128&d=identicon&r=PG", "display_name": "CoryCoolguy", "link": "https://stackoverflow.com/users/11210376/corycoolguy"}, "edited": false, "score": 2, "creation_date": 1557351350, "post_id": 56049214, "comment_id": 98740157, "body": "That&#39;s what makes the most sense to me. Let&#39;s say the user pastes in the following string: &quot;Stack Overflow is LIT \ud83d\udd25&quot; If you cancel the the input, none of it would get entered, right? I could be wrong, but that&#39;s the functionality I&#39;d expect from that solution. So instead, I suggest you go through the value and remove characters you don&#39;t want whenever the input event is fired."}, {"owner": {"reputation": 1202, "user_id": 4017749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q1G4d.png?s=128&g=1", "display_name": "jdgregson", "link": "https://stackoverflow.com/users/4017749/jdgregson"}, "reply_to_user": {"reputation": 1083, "user_id": 11210376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f3b8e902e85a31fbffa3aee7af8a54f?s=128&d=identicon&r=PG", "display_name": "CoryCoolguy", "link": "https://stackoverflow.com/users/11210376/corycoolguy"}, "edited": false, "score": 2, "creation_date": 1557352333, "post_id": 56049214, "comment_id": 98740464, "body": "I like @CoryCoolguy&#39;s approach. And since the emoji library is constantly growing, you might have better luck only allowing things that you do want rather than blocking a list of Emojis. This might make it difficult to input other unicode characters, though."}], "answers": [{"comments": [{"owner": {"reputation": 1083, "user_id": 11210376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f3b8e902e85a31fbffa3aee7af8a54f?s=128&d=identicon&r=PG", "display_name": "CoryCoolguy", "link": "https://stackoverflow.com/users/11210376/corycoolguy"}, "edited": false, "score": 1, "creation_date": 1557410125, "post_id": 56050435, "comment_id": 98762301, "body": "Handling the paste event doesn&#39;t hurt, but as far as I can tell it works just fine with only the input event being handled. Which makes sense, because 1) pasting something in <i>is</i> inputting something, and 2) your regex isn&#39;t just replacing the last character or string entered, but the entire value (which I agree is the best approach)."}], "tags": [], "owner": {"reputation": 770, "user_id": 6126468, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/QXjJW.png?s=128&g=1", "display_name": "roskelld", "link": "https://stackoverflow.com/users/6126468/roskelld"}, "is_accepted": true, "score": 2, "last_activity_date": 1557359722, "creation_date": 1557359722, "answer_id": 56050435, "question_id": 56049214, "link": "https://stackoverflow.com/questions/56049214/block-emoji-from-being-inserted-into-text-field/56050435#56050435", "title": "Block Emoji from being inserted into text field", "body": "<p>Based on @CoryCoolguy's suggestion one solution is to remove characters from the text field after they're entered by checking the contents of the field.</p>\n\n<p>This solution uses a regex validator to locate any characters that are not part of a valid set, then replace them with a blank character.</p>\n\n<pre><code>textbox.addEventListener( \"input\", event =&gt; {\n textbox.value = textbox.value.replace( /[^a-zA-Z0-9 ]/gm, '');\n}, false);\n\ntextbox.addEventListener( \"paste\", event =&gt; {\n textbox.value = textbox.value.replace( /[^a-zA-Z0-9 ]/gm, '');\n}, false);\n</code></pre>\n\n<p>Using the <code>input</code> event, each time a character is typed or inserted via the Windows Emoji panel the value of the text box is scanned and any characters not matching the regex is removed.</p>\n\n<p>Adding a <code>paste</code> event listener will monitor anything pasted from the clipboard and will allow the contents to be pasted before removing any unwanted characters. This means that if there's a mix of valid and non-valid character in the clipboard, then the valid ones will still get pasted.</p>\n"}], "owner": {"reputation": 770, "user_id": 6126468, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/QXjJW.png?s=128&g=1", "display_name": "roskelld", "link": "https://stackoverflow.com/users/6126468/roskelld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2098, "favorite_count": 0, "accepted_answer_id": 56050435, "answer_count": 1, "score": 0, "last_activity_date": 1557359722, "creation_date": 1557350449, "last_edit_date": 1557351606, "question_id": 56049214, "link": "https://stackoverflow.com/questions/56049214/block-emoji-from-being-inserted-into-text-field", "title": "Block Emoji from being inserted into text field", "body": "<p>I have a text field for user input, but only allows a limited character set. Blocking keyboard characters works fine using <code>keydown</code> to first vet the keystroke, then <code>event.preventDefault()</code> if it doesn't pass.</p>\n\n<p>Windows has an Emoji menu which can be activated by <code>WIN+Period</code> or right click. The menu allows the user to click on Emoji icons and have them inserted into the text field. </p>\n\n<p>This event can be captured via <code>Input</code> and the character is shown in <code>event.data</code> for vetting. What I cannot resolve though is how to block the action <code>event.preventDefault()</code> does not stop this.</p>\n\n<p>Here's an example of the type of code I've tried.</p>\n\n<pre><code>textbox.addEventListener( \"input\", event =&gt; {\n if ( event.data === BAD ) {\n  event.preventDefault();\n }\n}, false);\n</code></pre>\n\n<p>Digging into the <code>event</code> data I see that <code>cancelable</code> is <code>false</code>, whereas for <code>keydown</code> it's <code>true</code>. </p>\n\n<p>Is there a perhaps another event other than <code>input</code> to capture this is earlier?</p>\n"}, {"tags": ["javascript", "oop", "design-patterns", "google-chrome-extension", "architecture"], "comments": [{"owner": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 0, "creation_date": 1557379757, "post_id": 56049213, "comment_id": 98746275, "body": "There&#39;s no special API for extensions to toggle features like that so the problem is generic, and there are lots of ways to solve it. Some of the extension API may be particularly useful though e.g. chrome.tabs.executeScript inside chrome.tabs.onUpdated."}], "owner": {"reputation": 339, "user_id": 332951, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/665f9e296ba8ab1d2b71af5552cfd61c?s=128&d=identicon&r=PG", "display_name": "user332951", "link": "https://stackoverflow.com/users/332951/user332951"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1557350440, "creation_date": 1557350440, "question_id": 56049213, "link": "https://stackoverflow.com/questions/56049213/create-architecture-design-for-dynamic-functionality-using-javascript", "title": "create architecture design for dynamic functionality using javascript", "body": "<p>We need to have the ability to turn on/off feature on the client side with control from the server.<br>\nExample:\nLet's say we release functionality A but we only want this feature going to set of customer.  Let's say customer 1.  At first pass, we will make API call to the server with customer information.  The server will say that feature A is on for customer 1.  But for customer 2 when he/she make API call feature A will be off.  We will leverage that and gradually increase to all customer and feature A will be permanent.  Same goes for feature B, C, D down the road.<br>\nIf we have a bunch of if and else and check for feature name we will have much dead code lying around.  Effort in remove and clean up will be cumbersome.  </p>\n\n<p>How can I design a javascript code that it will dynamically adapt and turn on off on new feature and be able to reuse that same logic for any future feature?  Can we use some type of the dynamic variable or object-oriented way to achieve this?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "foreach", "promise", "hashmap"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1557350749, "post_id": 56049178, "comment_id": 98739934, "body": "Just use <code>async</code>/<code>await</code>. It&#39;s the simplest and most efficient solution."}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1557350810, "post_id": 56049178, "comment_id": 98739949, "body": "To sequentially resolve a set of promises, you could do <code>Object.keys(obj).reduce((p, k) =&gt; p.then(() =&gt; doSomething(k)), Promise.resolve())</code>"}, {"owner": {"reputation": 13121, "user_id": 805266, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/eabce8cd59f72d8f9e7db06a0343bdb1?s=128&d=identicon&r=PG", "display_name": "nponeccop", "link": "https://stackoverflow.com/users/805266/nponeccop"}, "edited": false, "score": 0, "creation_date": 1557351023, "post_id": 56049178, "comment_id": 98740032, "body": "<code>Array.prototype.reduce()</code> is synchronous. I can use neither it nor foreach. If yielding from within for..in is supported, it may be promising. I&#39;ll give it a try"}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1557351206, "post_id": 56049178, "comment_id": 98740108, "body": "Yes, the iteration is synchronous, but the resolution is asynchronous. I have not yet had a chance to play around with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for-await...of\" rel=\"nofollow noreferrer\">async iterators</a> since they&#39;re still in draft."}, {"owner": {"reputation": 240, "user_id": 6646536, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-X1oD79H5feI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hZ7-2uhoR_L1aewDswh3cr_dwzag/mo/photo.jpg?sz=128", "display_name": "Jacob Thomas", "link": "https://stackoverflow.com/users/6646536/jacob-thomas"}, "edited": false, "score": 0, "creation_date": 1557359669, "post_id": 56049178, "comment_id": 98742132, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for-await...of\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13121, "user_id": 805266, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/eabce8cd59f72d8f9e7db06a0343bdb1?s=128&d=identicon&r=PG", "display_name": "nponeccop", "link": "https://stackoverflow.com/users/805266/nponeccop"}, "edited": false, "score": 0, "creation_date": 1557351596, "post_id": 56049381, "comment_id": 98740230, "body": "There are hundred thousand to hundred million keys. So the promise chain or Object.keys may weigh a lot."}], "tags": [], "owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "is_accepted": false, "score": 1, "last_activity_date": 1557351382, "creation_date": 1557351382, "answer_id": 56049381, "question_id": 56049178, "link": "https://stackoverflow.com/questions/56049178/for-in-loop-for-asynchronous-tasks-in-javascript/56049381#56049381", "title": "for..in loop for asynchronous tasks in Javascript", "body": "<p>You'll need to make a chain of promises. Here's an example with reduce:</p>\n\n<pre><code>Object.keys(obj).reduce((promiseSoFar, key) =&gt; \n  promiseSoFar.then(() =&gt; doSomethingWith(key, container[key])\n, Promise.resolve());\n</code></pre>\n\n<blockquote>\n  <p>Is there a way to iterate over keys without resorting to Object.keys() (which in my case is pretty long) and indices</p>\n</blockquote>\n\n<p>I'm not sure what the aversion to Object.keys is, but yes, you can build then chain of promises without Object.keys</p>\n\n<pre><code>let promiseSoFar = Promise.resolve();\nfor (let key in container) {\n   promiseSoFar = promiseSoFar.then(() =&gt; doSomethingWith(key, container[key]));\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "is_accepted": true, "score": 1, "last_activity_date": 1557352084, "creation_date": 1557352084, "answer_id": 56049493, "question_id": 56049178, "link": "https://stackoverflow.com/questions/56049178/for-in-loop-for-asynchronous-tasks-in-javascript/56049493#56049493", "title": "for..in loop for asynchronous tasks in Javascript", "body": "<p>Its a very simple demo, but I think this shows how async/await can be used to acheive what you need.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const container = {\r\n  name: \"test\",\r\n  value: \"test2\"\r\n};\r\n\r\nconst doSomethingWith = (x, y) =&gt; new Promise((resolve, reject) =&gt; {\r\n  console.log(x);\r\n  resolve(x);\r\n});\r\n\r\n(async() =&gt; {\r\n  for (let key in container) {\r\n    await doSomethingWith(key, container[key]);\r\n  }\r\n})();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 13121, "user_id": 805266, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/eabce8cd59f72d8f9e7db06a0343bdb1?s=128&d=identicon&r=PG", "display_name": "nponeccop", "link": "https://stackoverflow.com/users/805266/nponeccop"}, "is_accepted": false, "score": 1, "last_activity_date": 1557355244, "creation_date": 1557355244, "answer_id": 56049957, "question_id": 56049178, "link": "https://stackoverflow.com/questions/56049178/for-in-loop-for-asynchronous-tasks-in-javascript/56049957#56049957", "title": "for..in loop for asynchronous tasks in Javascript", "body": "<p>As I'm on node 4.9.1 I'm unable to use async/await. So here is my own take using <code>yield</code>:</p>\n\n<pre><code>function* keyGenerator(obj)\n{\n    for (const key in obj)\n    {\n        yield key\n    }\n}\n\nexports.asyncForIn = function (obj, doSomething)\n{\n    const keyGen = keyGenerator(obj)\n    const q = Q.defer()\n\n    const rec = () =&gt; {\n        const i = keyGen.next()\n        if (!i.done)\n        {\n            doSomething(i.value).done(rec, (x) =&gt; q.reject(x))\n        }\n        else\n        {\n            q.resolve()\n        }\n    }\n    rec()\n    return q.promise\n}\n</code></pre>\n"}], "owner": {"reputation": 13121, "user_id": 805266, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/eabce8cd59f72d8f9e7db06a0343bdb1?s=128&d=identicon&r=PG", "display_name": "nponeccop", "link": "https://stackoverflow.com/users/805266/nponeccop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 633, "favorite_count": 0, "accepted_answer_id": 56049493, "answer_count": 3, "score": 0, "last_activity_date": 1557355244, "creation_date": 1557350246, "question_id": 56049178, "link": "https://stackoverflow.com/questions/56049178/for-in-loop-for-asynchronous-tasks-in-javascript", "title": "for..in loop for asynchronous tasks in Javascript", "body": "<p>I have an associative container (key/value, \"hash\"). I iterate over it using the for..in loop:</p>\n\n<pre><code>for (key in container) {\n   doSomethingWith(key, container[key]\n}\n</code></pre>\n\n<p>Now I want doSomethingWith() to return a promise (Q or the standard one), and I want to iterate sequentially, not in parallel. That is, I want every call of doSomethingWith() to resolve its promise before calling it again.</p>\n\n<p>How do I do it? </p>\n\n<ol>\n<li><p>Is there a way to iterate over keys without resorting to Object.keys() (which in my case is pretty long) and indices? Are new Map class helpful?</p></li>\n<li><p>It may be already written by someone. Also, if I want to have a limited concurrency (e.g. 10 somethingWith() in progress, in the spirit of make -j 10), the complexity explodes, so a mature implementation must exist somewhere.</p></li>\n<li><p>How exactly do I chain it? My take is to use a helper function which calls itself from done():</p></li>\n</ol>\n\n<hr>\n\n<pre><code>function forEachKey(obj, doSomething) {\n    const q = Q.defer()\n    const keys = Object.keys(obj)\n    const idx = 0\n    const helper = () =&gt;\n       if (idx &lt; keys.length) {\n           doSomething(idx).done(helper)\n           idx += 1\n       }\n       else\n       {\n          q.resolve()\n       }\n}\n</code></pre>\n"}, {"tags": ["javascript", "php", "mysql", "arrays", "database"], "comments": [{"owner": {"reputation": 83063, "user_id": 2310830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P6rM1.png?s=128&g=1", "display_name": "RiggsFolly", "link": "https://stackoverflow.com/users/2310830/riggsfolly"}, "edited": false, "score": 0, "creation_date": 1557350488, "post_id": 56049175, "comment_id": 98739844, "body": "First of all you will need to spell the function correctly <code>json_encode()</code>"}, {"owner": {"reputation": 1387, "user_id": 9645594, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXfaz.png?s=128&g=1", "display_name": "Second2None", "link": "https://stackoverflow.com/users/9645594/second2none"}, "edited": false, "score": 0, "creation_date": 1557353740, "post_id": 56049175, "comment_id": 98740856, "body": "Second that&#39;s an object not an array (<code>chart_config</code> is an array). Here&#39;s a tip: <code>$config = new stdClass();</code> when posting a question you need to actually post code you have tried and the errors you are getting."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1557353847, "post_id": 56049175, "comment_id": 98740881, "body": "It really makes no sense to define a whole heap of variables and then assemble them into an array like that when you could declare an array of objects straight up in the first place."}], "answers": [{"comments": [{"owner": {"reputation": 2842, "user_id": 491754, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/587217eb4d0b8b1710372695336f2a58?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/491754/jerry"}, "edited": false, "score": 0, "creation_date": 1557370261, "post_id": 56050438, "comment_id": 98744140, "body": "Also, Archer: 1999 coming soon!"}], "tags": [], "owner": {"reputation": 2842, "user_id": 491754, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/587217eb4d0b8b1710372695336f2a58?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/491754/jerry"}, "is_accepted": true, "score": 1, "last_activity_date": 1557359734, "creation_date": 1557359734, "answer_id": 56050438, "question_id": 56049175, "link": "https://stackoverflow.com/questions/56049175/creating-a-php-array-and-then-convert-to-a-javascript-array-using-mysql-data/56050438#56050438", "title": "creating a php array and then convert to a javascript array using MySQL data", "body": "<p>Since you don't tell us anything about your mysql data, all I can tell you is that the php equivalent to the array you show above would be (in part):</p>\n\n<pre><code>$woodhouse = [\n    'parent' =&gt; $sterling,\n    'image' =&gt; 'img/woodhouse.png',\n},\n</code></pre>\n\n<p><code>json_encode</code> will then create JSON that looks like this for woodhouse:</p>\n\n<pre><code>{\n    parent: {\n        parent: { /* malory data here */ },\n        childrenDropLevel: 1,\n        image: \"img/sterling.png\"\n    },\n    image: \"img/woodhouse.png\"\n},\n</code></pre>\n\n<p>The important thing to recognize is that the <code>stirling</code> object in the original was also encoded recursively. JSON does not support object references like you have in your example.</p>\n\n<p>I suspect (but can't really know) that the JSON you actually need to create will look more like the data that came from your database \u2014 including an id for each person and the \"parent\" field holding the id of the parent, rather than a reference.</p>\n\n<p>Once that data comes over the wire, you can create the structure with references in your javascript client. </p>\n"}], "owner": {"reputation": 33, "user_id": 9264318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdd51d3d4bbb4cbca5031c0e22fe89db?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Silva", "link": "https://stackoverflow.com/users/9264318/pedro-silva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 56050438, "answer_count": 1, "score": -1, "last_activity_date": 1557359734, "creation_date": 1557350224, "last_edit_date": 1557350855, "question_id": 56049175, "link": "https://stackoverflow.com/questions/56049175/creating-a-php-array-and-then-convert-to-a-javascript-array-using-mysql-data", "title": "creating a php array and then convert to a javascript array using MySQL data", "body": "<p>i am trying to create an array using data from a MySQL database, this is to create a data tree using treant js (best method i could find) and i came to the conclusion that i have to create the array first in php and then json_encode() it in order for it to function properly. My question is how do I make the php array with the following format and how do I convert it using json_enconde ?</p>\n\n<p>the code from the javascript that constructs the data tree is the following:</p>\n\n<pre><code> Array approach\nvar config = {\n    container: \"#collapsable-example\",\n\n    animateOnInit: true,\n\n    node: {\n        collapsable: true\n    },\n    animation: {\n        nodeAnimation: \"easeOutBounce\",\n        nodeSpeed: 700,\n        connectorsAnimation: \"bounce\",\n        connectorsSpeed: 700\n    }\n},\nmalory = {\n    image: \"img/malory.png\"\n},\n\nlana = {\n    parent: malory,\n    image: \"img/lana.png\"\n}\n\nfiggs = {\n    parent: lana,\n    image: \"img/figgs.png\"\n}\n\nsterling = {\n    parent: malory,\n    childrenDropLevel: 1,\n    image: \"img/sterling.png\"\n},\n\nwoodhouse = {\n    parent: sterling,\n    image: \"img/woodhouse.png\"\n},\n\npseudo = {\n    parent: malory,\n    pseudo: true\n},\n\ncheryl = {\n    parent: pseudo,\n    image: \"img/cheryl.png\"\n},\n\npam = {\n    parent: pseudo,\n    image: \"img/pam.png\"\n},\n\nchart_config = [config, malory, lana, figgs, sterling, woodhouse, pseudo, pam, cheryl];\n</code></pre>\n\n<p>thanks in advance</p>\n"}, {"tags": ["javascript", "html", "angular", "aframe"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9298624"}, "edited": false, "score": 0, "creation_date": 1557350313, "post_id": 56049024, "comment_id": 98739768, "body": "I am not too sure what is happening in your code, tried to follow but you know how that can go. First thought, have you tried just using a simple if condition in the template to prevent the null errors."}, {"owner": {"reputation": 1914, "user_id": 2757519, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/hiIp7.jpg?s=128&g=1", "display_name": "Ainz-sama", "link": "https://stackoverflow.com/users/2757519/ainz-sama"}, "edited": false, "score": 0, "creation_date": 1557351088, "post_id": 56049024, "comment_id": 98740068, "body": "Does this run properly locally? Check your networks tab , maybe external loading is causing it to delay? Try with offline resources, or try throttling your network in chrome dev tools (network throttling) and see if the delay increases"}, {"owner": {"reputation": 1441, "user_id": 6713596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07ad4b23e67e07fd8a00a0dd164b5f2?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/6713596/dan"}, "edited": false, "score": 0, "creation_date": 1557351356, "post_id": 56049024, "comment_id": 98740159, "body": "I get the same error if I were to do <code>[attr.src]=&quot;&#39;&#39;&quot;</code>, empty string works here <code>src=&quot;&quot;</code>. The issue is that <code>src</code> doesn&#39;t exist alongside <code>a-asset-item</code> simultaneously when the element is first rendered."}], "answers": [{"tags": [], "owner": {"reputation": 1441, "user_id": 6713596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07ad4b23e67e07fd8a00a0dd164b5f2?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/6713596/dan"}, "is_accepted": true, "score": 0, "last_activity_date": 1558650522, "creation_date": 1558650522, "answer_id": 56283687, "question_id": 56049024, "link": "https://stackoverflow.com/questions/56049024/angular-does-not-bind-data-immediately-even-when-value-is-hardcoded/56283687#56283687", "title": "Angular does not bind data immediately even when value is hardcoded", "body": "<p>This can be a non-issue if I directly modify the A-Frame source code:</p>\n\n<p><em>Angular:</em></p>\n\n<pre><code>&lt;a-asset-item\n  *ngFor=\"let model of assetItems; trackBy: trackAsset\"\n  [attr.id]=\"model?.id\"\n  [attr.src]=\"model?.asset?.file?.uri\"&gt;\n&lt;/a-asset-item&gt;\n</code></pre>\n\n<p><em>aframe-v0.9.2.js:</em></p>\n\n<pre><code>registerElement('a-asset-item', {\n  prototype: Object.create(ANode.prototype, {\n    createdCallback: {\n      value: function () {\n        ...\n      }\n    },\n\n    attachedCallback: {\n      value: function () {\n        var self = this;\n        var src = this.getAttribute('src') || ''; // &lt;--- Modified line\n        ...\n      }\n    }\n  })\n});\n</code></pre>\n\n<p>This way, even though Angular is initially missing src before data-binding, the app does not error out. Src can still be updated and bound without issue.</p>\n"}], "owner": {"reputation": 1441, "user_id": 6713596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07ad4b23e67e07fd8a00a0dd164b5f2?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/6713596/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 56283687, "answer_count": 1, "score": 0, "last_activity_date": 1558650522, "creation_date": 1557349401, "last_edit_date": 1557350921, "question_id": 56049024, "link": "https://stackoverflow.com/questions/56049024/angular-does-not-bind-data-immediately-even-when-value-is-hardcoded", "title": "Angular does not bind data immediately even when value is hardcoded", "body": "<p>I am attempting to integrate A-Frame into Angular html template, but I do not fully understand how Angular handles data binding. A-Frame library is imported in the <code>polyfills.ts</code>.</p>\n\n<p>Given the template:</p>\n\n<pre><code>&lt;a-asset-item\n  [attr.id]=\"'cityModel'\"\n  [attr.src]=\"'https://cdn.aframe.io/test-models/models/glTF-2.0/virtualcity/VC.gltf'\"\n  (error)=\"error($event)\"\n  (loaded)=\"assetItemLoaded($event)\"&gt;\n&lt;/a-asset-item&gt;\n</code></pre>\n\n<p>Angular will first populate the dom with:</p>\n\n<pre><code>&lt;a-asset-item&gt;&lt;/a-asset-item&gt;\n</code></pre>\n\n<p>None of the data-bindings are bound <em>yet</em>. A-Frame proceeds to attempt to read from <code>&lt;a-asset-item&gt;</code> for the <code>id</code> and <code>src</code>, but because they are not yet bound (even though they are hard-coded in this example) they will cause a null error.</p>\n\n<pre><code>Cannot read lastIdexOf null\n</code></pre>\n\n<p>If we ignore this error, we will next see that both <code>id</code> and <code>src</code> are assigned in the DOM, just not at the same time as when <code>&lt;a-asset-item&gt;</code> was created.</p>\n\n<pre><code>&lt;a-asset id=\"cityModel\" src=\"https://cdn.aframe.io/test-models/models/glTF-2.0/virtualcity/VC.gltf\"&gt;\n</code></pre>\n\n<p>This results in a race. A-Frame is eager to read from <code>a-asset-item</code> as soon as it appears on the DOM. Angular is eager to append the element to the DOM without populating all its attributes.</p>\n\n<p>Is there a way to append the element and it's attributes at the same time into the DOM, while keeping the benefits of data-binding?</p>\n\n<hr>\n\n<p>Additional update:</p>\n\n<p>I was able to overcome the non-immediate binding issue with:</p>\n\n<pre><code>&lt;a-asset-item\n  id=\"\"\n  src=\"\"\n  [attr.id]=\"'cityModel'\"\n  [attr.src]=\"'https://cdn.aframe.io/test-models/models/glTF-2.0/virtualcity/VC.gltf'\"\n  (error)=\"error($event)\"\n  (loaded)=\"assetItemLoaded($event)\"&gt;\n&lt;/a-asset-item&gt;\n</code></pre>\n\n<p>Same time as element:</p>\n\n<pre><code>id=\"\"\nsrc=\"\"\n</code></pre>\n\n<p>After element:</p>\n\n<pre><code>[attr.id]=\"'cityModel'\"\n[attr.src]=\"'https://cdn.aframe.io/test-models/models/glTF-2.0/virtualcity/VC.gltf'\"\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 326, "user_id": 8229636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FcHyN.jpg?s=128&g=1", "display_name": "Lawrence", "link": "https://stackoverflow.com/users/8229636/lawrence"}, "edited": false, "score": 2, "creation_date": 1557349565, "post_id": 56049021, "comment_id": 98739528, "body": "Have you tried using <code>x.value</code>? I think you should be able to access the selected value this way."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557349656, "post_id": 56049021, "comment_id": 98739562, "body": "What are you expecting <code>document.forms[&#39;form1&#39;].dogInspector.value</code> to be? Does the form have an element with <code>name=&quot;dogInspector&quot;</code>?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557349717, "post_id": 56049021, "comment_id": 98739590, "body": "I think you mean <code>document.forms[&#39;form1&#39;][dogInspector]</code>"}, {"owner": {"reputation": 15, "user_id": 7601735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf5108ce7a506c012bbf6a9129c8f9fd?s=128&d=identicon&r=PG&f=1", "display_name": "CTM", "link": "https://stackoverflow.com/users/7601735/ctm"}, "edited": false, "score": 0, "creation_date": 1557349775, "post_id": 56049021, "comment_id": 98739609, "body": "I was expecting document.forms[&#39;form1&#39;].dogInspector.value to be &quot;cat1&quot;, the option that was selected from the dropdown menu."}, {"owner": {"reputation": 15, "user_id": 7601735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf5108ce7a506c012bbf6a9129c8f9fd?s=128&d=identicon&r=PG&f=1", "display_name": "CTM", "link": "https://stackoverflow.com/users/7601735/ctm"}, "edited": false, "score": 0, "creation_date": 1557351881, "post_id": 56049021, "comment_id": 98740326, "body": "Thank you, Lawrence. That worked perfectly."}], "answers": [{"tags": [], "owner": {"reputation": 8426, "user_id": 1253074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7359ba202d56b428b3698ea2016995ef?s=128&d=identicon&r=PG", "display_name": "Intervalia", "link": "https://stackoverflow.com/users/1253074/intervalia"}, "is_accepted": true, "score": 1, "last_activity_date": 1557349743, "creation_date": 1557349743, "answer_id": 56049086, "question_id": 56049021, "link": "https://stackoverflow.com/questions/56049021/how-to-get-value-of-select-in-javascript/56049086#56049086", "title": "How to get value of select in javascript?", "body": "<p>Use <code>x.value</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var x = document.getElementById(\"dogs\");\r\nx.addEventListener('change', (evt) =&gt; {\r\n  if(x.value === \"cat1\"){\r\n     alert(\"No cats allowed!\");\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;select name=\"dogs\" id=\"dogs\"&gt;                  \r\n  &lt;option value=\"dog1\"&gt;Dog 1&lt;/option&gt;                 \r\n  &lt;option value=\"dog2\"&gt;Dog 2&lt;/option&gt;\r\n  &lt;option value=\"cat1\"&gt;Cat 1&lt;/option&gt;\r\n&lt;/select&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 15, "user_id": 7601735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf5108ce7a506c012bbf6a9129c8f9fd?s=128&d=identicon&r=PG&f=1", "display_name": "CTM", "link": "https://stackoverflow.com/users/7601735/ctm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "closed_date": 1557349733, "accepted_answer_id": 56049086, "answer_count": 1, "score": 0, "last_activity_date": 1557349743, "creation_date": 1557349393, "question_id": 56049021, "link": "https://stackoverflow.com/questions/56049021/how-to-get-value-of-select-in-javascript", "closed_reason": "Duplicate", "title": "How to get value of select in javascript?", "body": "<p>I'm trying to get a value from a select and if it is bad selection you get an error. For example:</p>\n\n<pre><code>&lt;select name = \"dogs\" id = \"dogs\"&gt;                  \n&lt;option value=\"dog1\"&gt;Dog 1&lt;/option&gt;                 \n&lt;option value=\"dog2\"&gt;Dog 2&lt;/option&gt;\n&lt;option value=\"cat1\"&gt;Cat 1&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>If someone selected cat1, they would get an error.</p>\n\n<pre><code>var x = document.getElementById(\"dogs\");\nvar dogInspector = x.options[x.selectedIndex].value;\n\nif(document.forms['form1'].dogInspector.value === \"cat1\"){\n   document.getElementById(\"validate\").innerHTML = \"No cats allowed!\";\n   return false;\n}\n</code></pre>\n\n<p>I'm unsure why this isn't working? Is it the if statement?</p>\n"}, {"tags": ["javascript", "ecmascript-6"], "comments": [{"owner": {"reputation": 31554, "user_id": 768392, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b43bbab9d16d030a8744f17ca9c1da8d?s=128&d=identicon&r=PG", "display_name": "chris", "link": "https://stackoverflow.com/users/768392/chris"}, "edited": false, "score": 0, "creation_date": 1557349235, "post_id": 56048968, "comment_id": 98739430, "body": "I\u2019ve tried something using filter() after splitting the string but best i can get is removal of duplicates but it\u2019s case sensitive unfortunately (do not have code on phone will post later if required)"}], "answers": [{"comments": [{"owner": {"reputation": 12931, "user_id": 436976, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ca5523dd495f8c0a6a6b20db65db2ef4?s=128&d=identicon&r=PG", "display_name": "stevendesu", "link": "https://stackoverflow.com/users/436976/stevendesu"}, "edited": false, "score": 1, "creation_date": 1557350209, "post_id": 56049072, "comment_id": 98739724, "body": "Reducers are not the way to go, as this is not a reduction problem. If he wanted to find something like &quot;the most common letter&quot; then that would technically be a reduction problem (reducing a set of multiple letters to a single letter), albeit on that&#39;s actually hard to implement with reducers since they operate with little memory of the total state of the system."}, {"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "reply_to_user": {"reputation": 12931, "user_id": 436976, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ca5523dd495f8c0a6a6b20db65db2ef4?s=128&d=identicon&r=PG", "display_name": "stevendesu", "link": "https://stackoverflow.com/users/436976/stevendesu"}, "edited": false, "score": 0, "creation_date": 1557350311, "post_id": 56049072, "comment_id": 98739766, "body": "You <i>do</i> reduce the Array to a single value - the string consisting only of the required letters."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1557350372, "post_id": 56049072, "comment_id": 98739797, "body": "Why reassign <code>acc</code> just to return it then?"}, {"owner": {"reputation": 12931, "user_id": 436976, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ca5523dd495f8c0a6a6b20db65db2ef4?s=128&d=identicon&r=PG", "display_name": "stevendesu", "link": "https://stackoverflow.com/users/436976/stevendesu"}, "edited": false, "score": 0, "creation_date": 1557350609, "post_id": 56049072, "comment_id": 98739887, "body": "@connexo Are you perceiving the string as an array of letters, or as a single entity? Because in the former case, you&#39;ve performed a filter (mapping an array of letters to a smaller array consisting of a subset of those same letters). In the latter case, you&#39;ve performed a transformation (mapping a single value to a different single value). In neither case did you perform a reduction. You only reduce if in one instance you interpret the string as an array and in another you interpret it as a primitive."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1557350862, "post_id": 56049072, "comment_id": 98739968, "body": "Just remove the <code>{ return ... }</code> ?"}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1557351357, "post_id": 56049072, "comment_id": 98740160, "body": "By the way, a big problem that hasn&#39;t been mentioned with this answer is it takes a linear operation and makes it quadratic by virtue of the <code>.includes</code> operation. Use a set or object for O(1) lookup to preserve O(n) overall time complexity."}], "tags": [], "owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "is_accepted": false, "score": -1, "last_activity_date": 1557351609, "last_edit_date": 1557351609, "creation_date": 1557349679, "answer_id": 56049072, "question_id": 56048968, "link": "https://stackoverflow.com/questions/56048968/javascript-method-to-remove-case-insensitive-duplicates-from-string-numbers/56049072#56049072", "title": "JavaScript method to remove case insensitive duplicates from string/Numbers", "body": "<p>Using <code>Array.prototype.reduce</code> would be one way to address this.</p>\n\n<p><strong>Edit:</strong> As others have mentioned, there's valid reasons though not to use this for production level solutions. So just take it as one <em>possible</em>, though not <em>advisable</em> way.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>console.log(\r\n  [...\"AbCyTtaCc113\"]\r\n    .reduce(\r\n      (acc, val) =&gt; \r\n        acc.includes(val.toUpperCase()) || acc.includes(val.toLowerCase())\r\n          ? acc \r\n          : [...acc, val]\r\n        , []\r\n    )\r\n    .join(\"\")\r\n)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1557350322, "post_id": 56049151, "comment_id": 98739774, "body": "Btw, these are missused tagged template literals, so yes, thats valid ES6"}, {"owner": {"reputation": 12931, "user_id": 436976, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ca5523dd495f8c0a6a6b20db65db2ef4?s=128&d=identicon&r=PG", "display_name": "stevendesu", "link": "https://stackoverflow.com/users/436976/stevendesu"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1557350499, "post_id": 56049151, "comment_id": 98739848, "body": "Who is bored enough that they&#39;re going around giving a -1 to every single answer posted in this question? Every answer can be verified correct."}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1557350624, "post_id": 56049151, "comment_id": 98739889, "body": "@stevendesu they haven&#39;t all received a -1"}, {"owner": {"reputation": 12931, "user_id": 436976, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ca5523dd495f8c0a6a6b20db65db2ef4?s=128&d=identicon&r=PG", "display_name": "stevendesu", "link": "https://stackoverflow.com/users/436976/stevendesu"}, "reply_to_user": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1557350747, "post_id": 56049151, "comment_id": 98739932, "body": "@KevinB You&#39;re right, only Jonas Wilms hasn&#39;t. I guess he&#39;s the culprit :D (just kidding, who know who the culprit it, to the best of my knowledge votes on SO are anonymous and if they&#39;re not I&#39;d rather remain ignorant)"}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1557350757, "post_id": 56049151, "comment_id": 98739935, "body": "@stevendesu Pretty sure the downvoter is protesting the fact that a number of people answered a question that didn&#39;t include an attempt at solving it."}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 2, "creation_date": 1557355021, "post_id": 56049151, "comment_id": 98741159, "body": "Your second version doesn&#39;t preserve casing on the output."}], "tags": [], "owner": {"reputation": 12931, "user_id": 436976, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ca5523dd495f8c0a6a6b20db65db2ef4?s=128&d=identicon&r=PG", "display_name": "stevendesu", "link": "https://stackoverflow.com/users/436976/stevendesu"}, "is_accepted": false, "score": -1, "last_activity_date": 1557413745, "last_edit_date": 1557413745, "creation_date": 1557350107, "answer_id": 56049151, "question_id": 56048968, "link": "https://stackoverflow.com/questions/56048968/javascript-method-to-remove-case-insensitive-duplicates-from-string-numbers/56049151#56049151", "title": "JavaScript method to remove case insensitive duplicates from string/Numbers", "body": "<p>I believe @ggorlen has the appropriate solution, although he uses some rather modern JavaScript (I haven't seen a syntax before using back-ticks instead of parenthesis to call functions, but I'll trust it works in some interpreters)</p>\n\n<p>For a simpler \"old-school\" answer, try something like the following:</p>\n\n<pre><code>var input = \"AbCyTtaCc113\";\nvar output = \"\";\nvar unique = {};\nfor (var i = 0; i &lt; input.length; i++) {\n    if (!unique[input[i].toLowerCase()]) {\n        unique[input[i].toLowerCase()] = 1;\n        output += input[i];\n    }\n}\n</code></pre>\n\n<h2>Second update</h2>\n\n<p>The ES6 solution below was preserved for historical purposes, but @ggorlen pointed out that I failed to preserve casing on the output. Therefore the conversion to lowercase should only occur within the filter check and not prior:</p>\n\n<pre><code>var input = \"AbCyTtaCc113\";\nvar seen = new Set();\nvar output = input\n    .split(\"\")\n    .filter(x =&gt; !seen.has(x.toLowerCase()) &amp;&amp; seen.add(x.toLowerCase()))\n    .join(\"\")\n</code></pre>\n\n<h2>Update</h2>\n\n<p>Since everyone is having fun writing ES6 answers and trying to solve this with <code>reduce</code> or <code>map</code> or <code>Set</code> or some other such tool, let me write what I think is the <strong><em>best</em></strong> answer using ES6:</p>\n\n<pre><code>var input = \"AbCyTtaCc113\";\nvar seen = new Set();\nvar output = input\n    .split(\"\")\n    .map(x =&gt; x.toLowerCase())\n    .filter(x =&gt; !seen.has(x) &amp;&amp; seen.add(x))\n    .join(\"\")\n</code></pre>\n\n<p>Or, if you prefer unreadable one-line nonsense:</p>\n\n<pre><code>var input = \"AbCyTtaCc113\";\n\nvar seen = new Set(), output = input.split(\"\").map(x =&gt; x.toLowerCase()).filter(x =&gt; !seen.has(x) &amp;&amp; seen.add(x)).join(\"\");\n</code></pre>\n\n<p>I prefer this solution because:</p>\n\n<ol>\n<li>It utilizes method chaining to pass our input through a series of simple transforms which can be easily read and interpreted by future programmers (first split, then map, then filter, then join)</li>\n<li>It avoids syntax that isn't supported in many JavaScript interpreters (no spread operators, back-ticks, etc)</li>\n<li>It uses each method for its semantic purpose (split converts a string to an array, map modifies each value of an array, filter selects a subset of an array, join converts an array to a string)</li>\n</ol>\n\n<p>That said, if performance is your primary concern and you're running this in the Google Chrome console, I must admit that preliminary benchmarks peg Jonas Wilm's answer as faster than mine:</p>\n\n<pre><code>var d0 = new Date(); for (var i = 0; i &lt; 50000; i++) {\n    var input = \"AbCyTtaCc113\";\n    var output = [...input].filter((s =&gt; c =&gt; !s.has(c.toLowerCase()) &amp;&amp; s.add(c.toLowerCase()))(new Set)).join(\"\");\n} console.log(new Date() - d0);\n// ~175\n\nvar d0 = new Date(); for (var i = 0; i &lt; 50000; i++) {\n    var input = \"AbCyTtaCc113\";\n    var seen = new Set();\n    var output = input\n        .split(\"\")\n        .map(x =&gt; x.toLowerCase())\n        .filter(x =&gt; !seen.has(x) &amp;&amp; seen.add(x))\n        .join(\"\");\n} console.log(new Date() - d0);\n// ~231\n</code></pre>\n\n<p>I believe this is because <code>.map()</code> is allocating a new array in memory rather than modifying the array in-place (whereas his solution utilizing <code>.toLowerCase()</code> within <code>.has()</code> modifies the values in place so uses no extra memory), but I prefer this for clarity. Unless you're dealing with code where performance is of the utmost importance, I think being able to read the code is more important than eeking out an extra millisecond.</p>\n"}, {"comments": [{"owner": {"reputation": 12931, "user_id": 436976, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ca5523dd495f8c0a6a6b20db65db2ef4?s=128&d=identicon&r=PG", "display_name": "stevendesu", "link": "https://stackoverflow.com/users/436976/stevendesu"}, "edited": false, "score": 0, "creation_date": 1557350265, "post_id": 56049155, "comment_id": 98739749, "body": "Why on earth would you use <code>[...input]</code> to split a string into an array of one-character strings and not <code>.split(&quot;&quot;)</code>?"}, {"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "reply_to_user": {"reputation": 12931, "user_id": 436976, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ca5523dd495f8c0a6a6b20db65db2ef4?s=128&d=identicon&r=PG", "display_name": "stevendesu", "link": "https://stackoverflow.com/users/436976/stevendesu"}, "edited": false, "score": 1, "creation_date": 1557350395, "post_id": 56049155, "comment_id": 98739803, "body": "@stevendesu Why would you even consider using <code>input.split(&quot;&quot;)</code> if you can do <code>[...input]</code>?"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 2, "creation_date": 1557350447, "post_id": 56049155, "comment_id": 98739824, "body": "@kevin no, I&#39;m not that kind of answerer. Because I like the explicitness of turning something into an array. <code>[...stuff]</code> everyone sees that this is an array now."}, {"owner": {"reputation": 12931, "user_id": 436976, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ca5523dd495f8c0a6a6b20db65db2ef4?s=128&d=identicon&r=PG", "display_name": "stevendesu", "link": "https://stackoverflow.com/users/436976/stevendesu"}, "reply_to_user": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1557350450, "post_id": 56049155, "comment_id": 98739825, "body": "@connexo Because not all interpreters support the spread operator (namely NodeJS) and because the semantic of the spread operator are not as well understood by newbie developers"}, {"owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1557351788, "post_id": 56049155, "comment_id": 98740300, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\">Array.filter</a> have an extra argument you can use as <code>this</code> inside it. You can use it to pass a <code>new Set()</code> instead of using the closure, but you will have to avoid the arrow function expression for the filter callback."}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 4, "last_activity_date": 1557351048, "last_edit_date": 1557351048, "creation_date": 1557350135, "answer_id": 56049155, "question_id": 56048968, "link": "https://stackoverflow.com/questions/56048968/javascript-method-to-remove-case-insensitive-duplicates-from-string-numbers/56049155#56049155", "title": "JavaScript method to remove case insensitive duplicates from string/Numbers", "body": "<pre><code>  [...input].filter((s =&gt; c =&gt; !s.has(c.toLowerCase()) &amp;&amp; s.add(c.toLowerCase()))(new Set)).join(\"\")\n</code></pre>\n\n<p>Spreading a string results in an array with one character strings, by using a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set\" rel=\"nofollow noreferrer\">Set</a>  you can easily filter out duplicates. The logic is basically:</p>\n\n<ul>\n<li><p>Turn the string into an array of characters by spreading it (<code>[...input]</code>).</p></li>\n<li><p>Create a Set and store it inside of the closure as <code>s</code>. (<code>(s =&gt; ...)(new Set)</code>)</p></li>\n<li><p>Filter out the characters if</p>\n\n<ul>\n<li><p>the character is in the Set already (<code>!s.has(c.toLowerCase())</code></p></li>\n<li><p>if it is not, add it to the Set and keep it (<code>&amp;&amp; s.add(c.toLowerCase())</code>)</p></li>\n</ul></li>\n<li><p>Turn the filtered array back into a string by joining it.</p></li>\n</ul>\n\n<p>Or the case insensitive version:</p>\n\n<pre><code>[...new Set(input)].join(\"\")\n</code></pre>\n\n<hr>\n\n<p>The imperative version would be:</p>\n\n<pre><code>  let result = \"\";\n  {\n     const duplicates = new Set();\n     for(const char of input) {\n        if(!duplicates.has(char.toLowerCase()) {\n          duplicates.add(char.toLowerCase());\n          result += char;\n        }\n     }\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 1, "creation_date": 1557354934, "post_id": 56049601, "comment_id": 98741138, "body": "Note: quadratic time complexity due to <code>indexOf</code>."}, {"owner": {"reputation": 3976, "user_id": 9410412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v7cIX.jpg?s=128&g=1", "display_name": "ibrahim tanyalcin", "link": "https://stackoverflow.com/users/9410412/ibrahim-tanyalcin"}, "reply_to_user": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 2, "creation_date": 1557356136, "post_id": 56049601, "comment_id": 98741427, "body": "Yes it is O(n^2), I&#39;d really wonder if it would make any difference with string length of 50 average. 0.01ms?"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1557393630, "post_id": 56049601, "comment_id": 98752963, "body": "You realize that arrow functions are ES6 ?"}, {"owner": {"reputation": 3976, "user_id": 9410412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v7cIX.jpg?s=128&g=1", "display_name": "ibrahim tanyalcin", "link": "https://stackoverflow.com/users/9410412/ibrahim-tanyalcin"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1557405700, "post_id": 56049601, "comment_id": 98759729, "body": "@JonasWilms, indeed. I cheated to make the expression 8 letters shorter :)"}], "tags": [], "owner": {"reputation": 3976, "user_id": 9410412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v7cIX.jpg?s=128&g=1", "display_name": "ibrahim tanyalcin", "link": "https://stackoverflow.com/users/9410412/ibrahim-tanyalcin"}, "is_accepted": false, "score": 0, "last_activity_date": 1557352832, "creation_date": 1557352832, "answer_id": 56049601, "question_id": 56048968, "link": "https://stackoverflow.com/questions/56048968/javascript-method-to-remove-case-insensitive-duplicates-from-string-numbers/56049601#56049601", "title": "JavaScript method to remove case insensitive duplicates from string/Numbers", "body": "<p>this doesn't need ES6, it does not make it faster, nor cleaner for this case. Walk it once and reduce:</p>\n\n<pre><code>\"AbCyTtaCc113\"\n.split(\"\")\n.reduce((ac,d)=&gt;{!~ac.toLowerCase().indexOf(d.toLowerCase()) &amp;&amp; (ac += d); return ac;},\"\")\n</code></pre>\n"}], "owner": {"reputation": 31554, "user_id": 768392, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b43bbab9d16d030a8744f17ca9c1da8d?s=128&d=identicon&r=PG", "display_name": "chris", "link": "https://stackoverflow.com/users/768392/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 640, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1557413745, "creation_date": 1557349100, "question_id": 56048968, "link": "https://stackoverflow.com/questions/56048968/javascript-method-to-remove-case-insensitive-duplicates-from-string-numbers", "title": "JavaScript method to remove case insensitive duplicates from string/Numbers", "body": "<p>Looking for a clean way to remove duplicates and keep with the first occurrence of the duplicate number/letter found</p>\n\n<p>Let\u2019s say I have a string</p>\n\n<p>AbCyTtaCc113</p>\n\n<p>What I want remaining is </p>\n\n<p>AbCyT13  </p>\n"}, {"tags": ["javascript", "angular"], "owner": {"reputation": 104, "user_id": 9640472, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5TsqfpLl0xU/AAAAAAAAAAI/AAAAAAAAAAA/r9gvEof-GZk/photo.jpg?sz=128", "display_name": "Himanshu Singh", "link": "https://stackoverflow.com/users/9640472/himanshu-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1557349660, "creation_date": 1557349074, "last_edit_date": 1557349660, "question_id": 56048964, "link": "https://stackoverflow.com/questions/56048964/is-there-a-way-to-use-injectable-service-in-ngmodule-to-initialize-firebase-app", "title": "Is there a way to use Injectable Service in ngModule to initialize firebase app in angular 4?", "body": "<p>I'm using firebase in my application. The firebase configuration was stored in environment file.</p>\n\n<pre><code>export const environment = {\n  production: false,\n  firebase: {\n     apiKey: \"api-key\",\n     authDomain: \"project-id.firebaseapp.com\",\n     databaseURL: \"https://project-id.firebaseio.com\",\n     projectId: \"project-id\",\n     storageBucket: \"project-id.appspot.com\",\n     messagingSenderId: \"sender-id\",\n     appID: \"app-id\",\n  }\n};\n</code></pre>\n\n<p>And I initialized the firebase App using that config.</p>\n\n<pre><code>import { environment } from '../../../environments/environment';\nimport { AngularFireModule } from 'angularfire2';\n\n@NgModule({\n  imports: [\n    AngularFireModule.initializeApp(environment.firebase),\n    AngularFireDatabaseModule,\n  ],\n  declarations: [],\n  providers: [],\n  entryComponents: [],\n})\nexport class InboxModule {}\n</code></pre>\n\n<p>So far, so good. But I wanted to fetch firebase configuration from API call depending on the brand, and initialize the app based on the response.</p>\n\n<p>I wrote an Injectable Service, for storing the configuration.</p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class FirebaseService {\n  private _firebaseConfig = null;\n\n  constructor() {}\n\n  get firebaseConfig() {\n    return this._firebaseConfig;\n  }\n\n  set firebaseConfig(val) {\n    this._firebaseConfig = val;\n  }\n}\n</code></pre>\n\n<p>But I'm unable to use it in ngModule.</p>\n\n<pre><code>import { environment } from '../../../environments/environment';\nimport { AngularFireModule } from 'angularfire2';\nimport { FirebaseService } from '../services/firebase.service';\n\n@NgModule({\n  imports: [\n    AngularFireModule.initializeApp(environment.firebase),\n    AngularFireDatabaseModule,\n  ],\n  declarations: [],\n  providers: [],\n  entryComponents: [],\n})\nexport class InboxModule {\n  constructor(private firebaseService: FirebaseService) {\n   AngularFireModule.initializeApp(this.firebaseService.firebaseConfig);\n  }\n}\n</code></pre>\n\n<p>I'm getting this error.</p>\n\n<pre><code>Error: No provider for InjectionToken FirebaseAppConfigToken!\n</code></pre>\n\n<p>which is due to not initializing the app properly.</p>\n\n<pre><code>export class InboxModule {\n  constructor(private firebaseService: FirebaseService) {\n   console.log(this.firebaseService.firebaseConfig) // Works\n   // Unable to initialize the App though.\n   AngularFireModule.initializeApp(this.firebaseService.firebaseConfig);\n  }\n}\n</code></pre>\n\n<p>Any thing I'm missing? or any other way to solve this use case?</p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "edited": false, "score": 0, "creation_date": 1557349198, "post_id": 56048908, "comment_id": 98739412, "body": "So what isn&#39;t working?"}, {"owner": {"reputation": 7, "user_id": 8534330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bd821ba589a37969c2f2700f9ae415?s=128&d=identicon&r=PG&f=1", "display_name": "akil ahmed", "link": "https://stackoverflow.com/users/8534330/akil-ahmed"}, "edited": false, "score": 0, "creation_date": 1557349997, "post_id": 56048908, "comment_id": 98739672, "body": "well, i am sorry put only a part of my code now it is there"}], "answers": [{"tags": [], "owner": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "is_accepted": false, "score": 0, "last_activity_date": 1557349325, "creation_date": 1557349325, "answer_id": 56049005, "question_id": 56048908, "link": "https://stackoverflow.com/questions/56048908/how-to-show-or-hide-button-according-to-the-length-of-an-array/56049005#56049005", "title": "How to show or hide button according to the length of an array?", "body": "<p>When you append the button to the dom, you give it an <code>id</code> of \"button\", but when you go to remove it you are looking for an element with the <code>id</code> of \"bioButton\".</p>\n\n<p>So simply change <code>$('#bioButton').remove();</code> to <code>$('#button').remove();</code></p>\n"}, {"comments": [{"owner": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "edited": false, "score": 0, "creation_date": 1557349418, "post_id": 56049006, "comment_id": 98739479, "body": "No it won&#39;t, it will always be empty regardless in this example because you are creating a button with id <code>bioButo</code> but trying to remove one with id <code>bioButton</code>"}, {"owner": {"reputation": 998, "user_id": 3930220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s5PSO.jpg?s=128&g=1", "display_name": "Ugo T.", "link": "https://stackoverflow.com/users/3930220/ugo-t"}, "reply_to_user": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "edited": false, "score": 0, "creation_date": 1557349739, "post_id": 56049006, "comment_id": 98739601, "body": "The question was &quot;how to show or hide a button according to the length of an array ?&quot;, my snippet do exactly that. I don&#39;t get your point @IsaacVidrine ?"}], "tags": [], "owner": {"reputation": 998, "user_id": 3930220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s5PSO.jpg?s=128&g=1", "display_name": "Ugo T.", "link": "https://stackoverflow.com/users/3930220/ugo-t"}, "is_accepted": false, "score": -1, "last_activity_date": 1557349331, "creation_date": 1557349331, "answer_id": 56049006, "question_id": 56048908, "link": "https://stackoverflow.com/questions/56048908/how-to-show-or-hide-button-according-to-the-length-of-an-array/56049006#56049006", "title": "How to show or hide button according to the length of an array?", "body": "<p>Here a working example, the button will appear only if the array is empty :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var bios = [];\r\n\r\nif (bios.length === 0) {\r\n  $('#bioHead').append(`&lt;button id=\"bioButo\"&gt;button&lt;/button&gt;`)\r\n} else if (bios.length &gt; 0) {\r\n  $('#bioButton').remove();\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"bioHead\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 7, "user_id": 8534330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bd821ba589a37969c2f2700f9ae415?s=128&d=identicon&r=PG&f=1", "display_name": "akil ahmed", "link": "https://stackoverflow.com/users/8534330/akil-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1557349964, "creation_date": 1557348808, "last_edit_date": 1557349964, "question_id": 56048908, "link": "https://stackoverflow.com/questions/56048908/how-to-show-or-hide-button-according-to-the-length-of-an-array", "title": "How to show or hide button according to the length of an array?", "body": "<p>I want to show or hide a button according to the length of an array.</p>\n\n<p>Tried Doing conditional statement</p>\n\n<pre><code>var bios = [\n    {\n         id: 1,\n         biography: \"I am human\",\n    }\n];\n\nfunction addBio(bio) {\n    if (bios.length === 0) {\n        bios.push(bio);\n        appendToBioTable(bio);\n        $('bioHead').append(`&lt;button id=\"bioButton\"&gt;button&lt;/button&gt;`)\n    }\n    else if (bios.length &gt; 0) {\n        $('#bioButton').remove();\n    }\n}\n</code></pre>\n\n<p>I need to show or remove the button instantly according to the size of an array.</p>\n"}, {"tags": ["javascript", "firebase", "react-native", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1557364136, "post_id": 56048855, "comment_id": 98742936, "body": "Please make sure the code you provide is both minimal and complete/standalone. For example: what are <code>db</code> and <code>batch</code> defined/initialized as?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11469230"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1557392229, "post_id": 56048855, "comment_id": 98752138, "body": "@FrankvanPuffelen, please see the question again I have edited"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11469230"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1557392520, "post_id": 56048855, "comment_id": 98752331, "body": "Here I think the rror trigger with <code>batch.commit();</code>"}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1557412176, "post_id": 56048855, "comment_id": 98763533, "body": "I don&#39;t immediately see what could cause that error message. Can you reproduce it with a hardcoded array of message IDs (<code>messages</code> in your code)? If so, can you reproduce it with just a single message ID? Essentially: I&#39;m trying to help you isolate the problem, in hopes that it&#39;ll help identify the cause."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11469230"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1557416795, "post_id": 56048855, "comment_id": 98766395, "body": "@FrankvanPuffelen thank you of ur help, My Messages is:  ``` [ {id: &#39;39ieiddiewwwiie&#39;, text: &#39;Hi&#39;, date: new Date(), sent: false, seen: false}, {id: &#39;39ieiddieieeeiwieeiie&#39;, text: &#39;How are you&#39;, date: new Date(), sent: false, seen: false}, {id: &#39;39iei399eeiieddieiie&#39;, text: &#39;What are you doing&#39;, date: new Date(), sent: false, seen: false}, {id: &#39;39ieiddieidkdkKDKDie&#39;, text: &#39;Are you doing something&#39;, date: new Date(), sent: false, seen: false} ] ```"}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1557418089, "post_id": 56048855, "comment_id": 98767094, "body": "Don&#39;t post comments with significant chunks of code/data please. Instead, use the edit link under your question to add the additional information directly in your question itself. But also note that I asked more concrete questions that help <i>you</i> pinpoint the problem, as Stack Overflow is an notoriously inefficient interactive debugger."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11469230"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1557745321, "post_id": 56048855, "comment_id": 98855593, "body": "thank you @FrankvanPuffelen I completely skipped the batch operation, Now I am using the normal update within a loop may this works slow for a list of larg docs but for now I was not succed in using batch although I was using firestore docs."}], "owner": {"user_type": "does_not_exist", "display_name": "user11469230"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 181, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1557392193, "creation_date": 1557348576, "last_edit_date": 1557392193, "question_id": 56048855, "link": "https://stackoverflow.com/questions/56048855/typeerror-attempted-to-assign-to-readonly-property-batche-write-cloud-firest", "title": "TypeError: Attempted to assign to readonly property. [batche write, cloud firestore]", "body": "<p>However this question exists from befor related to other language and frameworks.</p>\n\n<p>But my problem is related to batch write of cloud firestore.</p>\n\n<p><strong><em>TypeError: Attempted to assign to readonly property</strong>. is the error when I execute the following code.</em></p>\n\n<pre><code>const db = firebase.firestore();\nconst batch = db.batch();\n\nexport default class App extends Component{\n\nupdateMultiDocsOnce(messages){\n  try {\n\n    let r = null;\n\n    for (let i = messages.length - 1; i &gt;= 0; i--) {\n\n       r = db.collection(\"messages\").doc(messages[i].id);\n\n       batch.update(r, { sent: true, seen: true });\n\n    }\n\n    batch.commit();\n\n   }catch (err) {\n     console.log('----Error----', err);\n   }\n\n  }\n\n  // another functions ......\n\n}\n</code></pre>\n\n<p>I am using firestore docs, but here I dont know what went wrong with it.</p>\n"}, {"tags": ["javascript", "arrays", "multithreading", "sorting", "mergesort"], "comments": [{"owner": {"reputation": 89, "user_id": 9509915, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215612247003756/picture?type=large", "display_name": "William Machado", "link": "https://stackoverflow.com/users/9509915/william-machado"}, "edited": false, "score": 0, "creation_date": 1557448636, "post_id": 56048853, "comment_id": 98777947, "body": "Threads documentation can be found here: <a href=\"https://www.npmjs.com/package/threads\" rel=\"nofollow noreferrer\">npmjs.com/package/threads</a>"}], "owner": {"reputation": 89, "user_id": 9509915, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215612247003756/picture?type=large", "display_name": "William Machado", "link": "https://stackoverflow.com/users/9509915/william-machado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1557514291, "creation_date": 1557348576, "last_edit_date": 1557514291, "question_id": 56048853, "link": "https://stackoverflow.com/questions/56048853/problems-implementing-multithreaded-mergesort-in-javascript", "title": "Problems Implementing Multithreaded mergeSort in Javascript", "body": "<p>I am new to coding for parallel processing and am attempting to implement a multithreaded Merge Sort algorithm. I am unclear on the proper usage of threads and how exactly it works, but I attempted to implement it anyway and this is where I landed. (tells me that slice is not a function)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function pMergeSort(input, done) {\r\n\tconst spawn = require('threads').spawn;\r\n\r\n\r\n\tif (input.length&lt; 2)\r\n\t\treturn input;\r\n\tfunction partition(arr) { \r\n\tlet middle = Math.floor(arr.length / 2);\r\n\tlet left = arr.sclice(0, middle);\r\n\tlet right = arr.slice(middle + 1, arr.length);\r\n\t}\r\n\t let left,right=partition(input);\r\n\tlet task = spawn(pMergeSort).send(left).on('done', function (arr) {\r\n\t\tif (result === undefined) {\r\n\t\t\tfor (let i = 0; i&lt; n.length; i++) {\r\n\t\t\t\tresult[i] = n[i];\r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\tmerge(result, n);\r\n\t\t\tleft.kill();\r\n\t\t}\r\n\t});\r\n\tpMergeSort(right, function (n) {\r\n\t\tif (result === undefined) {\r\n\t\t\tfor (let i = 0; i&lt; n.length; i++) {\r\n\t\t\t\tresult[i] = n[i];\r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\tmerge(result, n);\r\n\t\t\tright.kill();\r\n\t\t}\r\n\t});\r\n\r\n}\r\n\r\n/*\r\nfunction mergeSort (arr) {\r\n    if (arr.length === 1) {\r\n        // return once we hit an array with a single item\r\n        return arr\r\n    }\r\n\r\n    const middle = Math.floor(arr.length / 2) // get the middle item of the array rounded down\r\n    const left = arr.slice(0, middle) // items on the left side\r\n    const right = arr.slice(middle) // items on the right side\r\n\r\n    return merge(mergeSort(left), mergeSort(right))\r\n}*/\r\n\r\n// compare the arrays item by item and return the concatenated result\r\nfunction merge(left, right) {\r\n\tlet result = []\r\n\tlet indexLeft = 0\r\n\tlet indexRight = 0\r\n\r\n\twhile (indexLeft &lt; left.length &amp;&amp; indexRight &lt; right.length) {\r\n\t\tif (left[indexLeft] &lt; right[indexRight]) {\r\n\t\t\tresult.push(left[indexLeft])\r\n\t\t\tindexLeft++\r\n\t\t} else {\r\n\t\t\tresult.push(right[indexRight])\r\n\t\t\tindexRight++\r\n\t\t}\r\n\t}\r\n\treturn result.concat(left.slice(indexLeft)).concat(right.slice(indexRight))\r\n}\r\nfunction genArray(size) {\r\n\t// randomly fills arr\r\n\tvar arr = Array(size);\r\n\tfor (var i = 0; i &lt; size; i++) {\r\n\t\tarr[i] = Math.floor(Math.random() * 98);\r\n\t}\r\n\treturn arr\r\n}\r\nfunction testParallel(){\r\n\tvar array=genArray(Math.floor(Math.random()*100));\r\n\tpMergeSort(array, function(i){\r\n\t\tconsole.log(JSON.stringify(i));\r\n\t})\r\n}\r\nvar testArr = genArray(2);\r\npMergeSort(testArr, function (i) {\r\n\tconsole.log(JSON.stringify(i));\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>help implementing this would be amazing, but some simple questions that could push me in the right direction is, is the merge of <code>pMergeSort</code> supposed to be a callback function? how do you define your call back function? Would it be better to use a pool of threads rather than trying to spawn threads? And the function wrapped in pMergeSort should be merge sort + splitting into threads right?</p>\n"}, {"tags": ["javascript", "php", "json", "decode"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1557348623, "post_id": 56048821, "comment_id": 98739165, "body": "You have a syntax error on the <code>$jsonData</code> assignment line, because you&#39;re using double quotes as the string delimiter and also inside the string."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1557348649, "post_id": 56048821, "comment_id": 98739181, "body": "Use single quotes around the string: <code>$jsonData = &#39;[[[],[{&quot;file_id&quot;:&quot;1_697&quot;,&quot;sub_file_id&quot;:&quot;2_48281&quot;,option_fil&zwnj;&#8203;e&quot;:[0,0,57,28,14,0]}&zwnj;&#8203;]&#39;;</code>"}, {"owner": {"reputation": 624, "user_id": 1032017, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/688073291/picture?type=large", "display_name": "Editor", "link": "https://stackoverflow.com/users/1032017/editor"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557349076, "post_id": 56048821, "comment_id": 98739366, "body": "I made a nail error when editing the JSON file for the question. The original file does not have a nail error. I realized there was a missing part in JSON and I made the editing. I also looked at your profile. You&#39;re like PHP &amp; JS professor. :) @Barmar"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557349161, "post_id": 56048821, "comment_id": 98739398, "body": "<code>option_file</code> only has 2 elements, so the indexes are <code>0</code> and <code>1</code>. What are you expecting to print with <code>[2]</code>?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557349212, "post_id": 56048821, "comment_id": 98739422, "body": "<code>echo $jsonDec[0][1][0][&#39;file_id&#39;] . &quot; = &quot; . $jsonDec[0][1][0][&quot;option_file&quot;][1];</code> prints <code>2_U_3 = 3.44827586207</code>"}, {"owner": {"reputation": 624, "user_id": 1032017, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/688073291/picture?type=large", "display_name": "Editor", "link": "https://stackoverflow.com/users/1032017/editor"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557349444, "post_id": 56048821, "comment_id": 98739487, "body": "Yes! I told you. You&#39;re a professor! I&#39;m waiting for your post to accept dear professor @Barmar"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1557349534, "post_id": 56048821, "comment_id": 98739518, "body": "I&#39;m not posting an answer, I already closed the question as a duplicate of a general question that shows how to solve this in general."}, {"owner": {"reputation": 624, "user_id": 1032017, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/688073291/picture?type=large", "display_name": "Editor", "link": "https://stackoverflow.com/users/1032017/editor"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557349681, "post_id": 56048821, "comment_id": 98739570, "body": "I understand, thank you for your time! @Barmar"}], "owner": {"reputation": 624, "user_id": 1032017, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/688073291/picture?type=large", "display_name": "Editor", "link": "https://stackoverflow.com/users/1032017/editor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "closed_date": 1557348982, "answer_count": 0, "score": 0, "last_activity_date": 1557349213, "creation_date": 1557348438, "last_edit_date": 1557349213, "question_id": 56048821, "link": "https://stackoverflow.com/questions/56048821/json-decode-via-php", "closed_reason": "Duplicate", "title": "JSON Decode via PHP", "body": "<p>I have a JSON file, but I can't decode it like any other JSON file.\nWhere am I making a mistake?</p>\n\n<pre><code>$jsonData = '[[[],[{\"file_id\":\"2_U_3\",\"sub_file_id\":\"2_U_3_1\",\"option_file\":[0,3.44827586207],\"file_votes\":1}],[],[],[],[]],{}]';\n\n$jsonDec = json_decode($jsonData, TRUE);\n\necho $jsonDec[\"file_id\"] . \" = \" . $jsonDec[\"option_file\"][2];\n</code></pre>\n\n<blockquote>\n  <p>Result: empty screen</p>\n</blockquote>\n"}, {"tags": ["javascript", "r"], "comments": [{"owner": {"reputation": 15496, "user_id": 5792244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b8b7f62698a5d33a0bf49f47118d32b?s=128&d=identicon&r=PG&f=1", "display_name": "Dave2e", "link": "https://stackoverflow.com/users/5792244/dave2e"}, "edited": false, "score": 1, "creation_date": 1557348705, "post_id": 56048809, "comment_id": 98739204, "body": "Instead of inventing the wheel, have you looked at the rvest and/or the XML package.  They can read the url and then parse out the xml tags."}, {"owner": {"reputation": 21, "user_id": 11279657, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-THCtQKEGfbM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdLCYU1-020HkiCn1yZ-emsWdjCkw/mo/photo.jpg?sz=128", "display_name": "tnpchlk", "link": "https://stackoverflow.com/users/11279657/tnpchlk"}, "reply_to_user": {"reputation": 15496, "user_id": 5792244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b8b7f62698a5d33a0bf49f47118d32b?s=128&d=identicon&r=PG&f=1", "display_name": "Dave2e", "link": "https://stackoverflow.com/users/5792244/dave2e"}, "edited": false, "score": 0, "creation_date": 1557349149, "post_id": 56048809, "comment_id": 98739393, "body": "Yes, but as far as I&#39;m concerned, none of those functions return full list of actual, finally computed by the browser styles. Only those specified for the class/id etc. Or am I wrong?"}, {"owner": {"reputation": 162158, "user_id": 2372064, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vFfVt.jpg?s=128&g=1", "display_name": "MrFlick", "link": "https://stackoverflow.com/users/2372064/mrflick"}, "edited": false, "score": 2, "creation_date": 1557349352, "post_id": 56048809, "comment_id": 98739461, "body": "I would suggest you look instead into <a href=\"https://cran.r-project.org/package=RSelenium\" rel=\"nofollow noreferrer\">RSeenium</a> which lets you run a headless webserver in R"}, {"owner": {"reputation": 21, "user_id": 11279657, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-THCtQKEGfbM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdLCYU1-020HkiCn1yZ-emsWdjCkw/mo/photo.jpg?sz=128", "display_name": "tnpchlk", "link": "https://stackoverflow.com/users/11279657/tnpchlk"}, "edited": false, "score": 0, "creation_date": 1557349784, "post_id": 56048809, "comment_id": 98739610, "body": "Ok, will look into it but seems like it&#39;ll be a lot to wrap my head around."}], "owner": {"reputation": 21, "user_id": 11279657, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-THCtQKEGfbM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdLCYU1-020HkiCn1yZ-emsWdjCkw/mo/photo.jpg?sz=128", "display_name": "tnpchlk", "link": "https://stackoverflow.com/users/11279657/tnpchlk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557348394, "creation_date": 1557348394, "question_id": 56048809, "link": "https://stackoverflow.com/questions/56048809/r-js-loop-over-xml-nodes-and-return-getcomputedstyle-values-to-dataframe", "title": "R &lt;-&gt; JS: loop over XML nodes and return getComputedStyle values to dataframe", "body": "<p>In a nutshell, I want to write some code that will take in a URL and return a dataframe with this page's HTML elements and their CSS values. Now my major problem is finding a way to make JS and R communicate.</p>\n\n<p>At this point, I need to mention that I have a limited coding knowledge (i'm a marketer). I learn R and need to use it to complete the task.</p>\n\n<p>I've found that \"getComputedStyle\" is the JS function I need, but the page must be open in the browser to return the actual computed styles.</p>\n\n<p>Thus, I've come up with a solution below:</p>\n\n<p>Creating some simple Chrome plugin that would send the current site's URL to R, R would create a list of XML node paths and in a loop, using querySelector and getComputedStyle, populate a dataframe with the CSS values returned by the plugin.</p>\n\n<p>However, I don't know how to make JS and R communicate. </p>\n\n<p>I need to make it work for me only so should I somehow run R on localhost (I use Mac OS)? And then what? </p>\n\n<p>I've read a little about OpenCPU but am not sure if that's what I need.</p>\n\n<p>Or maybe there's some other solution?</p>\n"}, {"tags": ["javascript", "google-chrome"], "comments": [{"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 1, "creation_date": 1557348336, "post_id": 56048787, "comment_id": 98739068, "body": "welcome to the wonderful world of 64 bit arithmetic."}, {"owner": {"reputation": 4469, "user_id": 479156, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/x9N3C.jpg?s=128&g=1", "display_name": "Ivar", "link": "https://stackoverflow.com/users/479156/ivar"}, "edited": false, "score": 1, "creation_date": 1557348359, "post_id": 56048787, "comment_id": 98739082, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken\">Is floating point math broken?</a>"}, {"owner": {"reputation": 292139, "user_id": 965051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XgLe7.gif?s=128&g=1", "display_name": "adeneo", "link": "https://stackoverflow.com/users/965051/adeneo"}, "edited": false, "score": 1, "creation_date": 1557348374, "post_id": 56048787, "comment_id": 98739086, "body": "Depends on what you&#39;re doing, but you could just treat as a string and a remove the period ?"}, {"owner": {"reputation": 46605, "user_id": 663447, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/3c5a518c8611ad19f80640cc80fe4383?s=128&d=identicon&r=PG", "display_name": "Harry", "link": "https://stackoverflow.com/users/663447/harry"}, "reply_to_user": {"reputation": 4469, "user_id": 479156, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/x9N3C.jpg?s=128&g=1", "display_name": "Ivar", "link": "https://stackoverflow.com/users/479156/ivar"}, "edited": false, "score": 0, "creation_date": 1557348438, "post_id": 56048787, "comment_id": 98739105, "body": "@Ivar thanks got it on the why, what&#39;s the most recommended solution? I can treat it as a string and remove the period yeah. Is that the way to go?"}, {"owner": {"reputation": 4469, "user_id": 479156, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/x9N3C.jpg?s=128&g=1", "display_name": "Ivar", "link": "https://stackoverflow.com/users/479156/ivar"}, "edited": false, "score": 0, "creation_date": 1557349020, "post_id": 56048787, "comment_id": 98739339, "body": "@Harry Like adeneo said, it depends on what you are doing. You can use <code>.toFixed()</code> as <a href=\"https://stackoverflow.com/questions/21472828/js-multiplying-by-100-giving-wierd-result\">mentioned here</a> (<a href=\"https://stackoverflow.com/questions/21693552/wrong-value-after-multiplication-by-100\">and here</a>, <a href=\"https://stackoverflow.com/questions/14490496/how-to-multiply-in-javascript-problems-with-decimals\">and here</a>). That being said, I get the same result on Firefox and Edge. It doesn&#39;t seem to be Chrome specific."}], "answers": [{"tags": [], "owner": {"reputation": 10398, "user_id": 4398966, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Md0LP.jpg?s=128&g=1", "display_name": "DCR", "link": "https://stackoverflow.com/users/4398966/dcr"}, "is_accepted": true, "score": 1, "last_activity_date": 1557348687, "creation_date": 1557348687, "answer_id": 56048883, "question_id": 56048787, "link": "https://stackoverflow.com/questions/56048787/javascript-trying-to-drop-the-decimal/56048883#56048883", "title": "javascript trying to drop the decimal", "body": "<p>Generally speaking, if you're dealing with numbers it's usually better to stick with numbers.  It makes your code more readable and easier to follow. The Math library provides what you need.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var x = 62.29933;\r\nconsole.log(x*100);\r\nx = Math.floor(62.29933*100);\r\nconsole.log(x);\r\nx = Math.ceil(62.29933*100);\r\nconsole.log(x);\r\nx = Math.round(62.29933*100);\r\nconsole.log(x);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 46605, "user_id": 663447, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/3c5a518c8611ad19f80640cc80fe4383?s=128&d=identicon&r=PG", "display_name": "Harry", "link": "https://stackoverflow.com/users/663447/harry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 56048883, "answer_count": 1, "score": 1, "last_activity_date": 1557348876, "creation_date": 1557348245, "question_id": 56048787, "link": "https://stackoverflow.com/questions/56048787/javascript-trying-to-drop-the-decimal", "title": "javascript trying to drop the decimal", "body": "<p>I'm trying to format <code>65.32</code> to become <code>6532</code></p>\n\n<p><code>65.32 * 100</code> gets me <code>6531.999999999999</code>.</p>\n\n<p>Why does it do that? Is it a bug? Should I change it to a string and use string manipulation instead?</p>\n"}, {"tags": ["javascript", "reactjs", "underscore.js"], "comments": [{"owner": {"reputation": 154038, "user_id": 462627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0285ad1973e938e2d2f40254c247f6f?s=128&d=identicon&r=PG", "display_name": "Praveen Kumar Purushothaman", "link": "https://stackoverflow.com/users/462627/praveen-kumar-purushothaman"}, "edited": false, "score": 0, "creation_date": 1557348095, "post_id": 56048745, "comment_id": 98738963, "body": "Show us how one object from the JSON data look like?"}, {"owner": {"reputation": 120, "user_id": 8858439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a8TIF.jpg?s=128&g=1", "display_name": "James F", "link": "https://stackoverflow.com/users/8858439/james-f"}, "reply_to_user": {"reputation": 154038, "user_id": 462627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0285ad1973e938e2d2f40254c247f6f?s=128&d=identicon&r=PG", "display_name": "Praveen Kumar Purushothaman", "link": "https://stackoverflow.com/users/462627/praveen-kumar-purushothaman"}, "edited": false, "score": 0, "creation_date": 1557348313, "post_id": 56048745, "comment_id": 98739058, "body": "The date in the JSON is formatted as  {&quot;DATE2018&quot;:&quot;2017-10-16T23:00:00.000Z&quot;}. The format I need is YYYY-MM-DD"}, {"owner": {"reputation": 154038, "user_id": 462627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0285ad1973e938e2d2f40254c247f6f?s=128&d=identicon&r=PG", "display_name": "Praveen Kumar Purushothaman", "link": "https://stackoverflow.com/users/462627/praveen-kumar-purushothaman"}, "edited": false, "score": 0, "creation_date": 1557349074, "post_id": 56048745, "comment_id": 98739365, "body": "Check out my answer."}], "answers": [{"tags": [], "owner": {"reputation": 154038, "user_id": 462627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0285ad1973e938e2d2f40254c247f6f?s=128&d=identicon&r=PG", "display_name": "Praveen Kumar Purushothaman", "link": "https://stackoverflow.com/users/462627/praveen-kumar-purushothaman"}, "is_accepted": true, "score": 0, "last_activity_date": 1557348890, "creation_date": 1557348890, "answer_id": 56048921, "question_id": 56048745, "link": "https://stackoverflow.com/questions/56048745/how-can-i-correctly-render-the-correct-date-format-into-a-table-using-react/56048921#56048921", "title": "How can I correctly render the correct date format into a table using react?", "body": "<p>You don't need to do complex data filtering stuff. Instead, just do this:</p>\n\n<pre><code>var today = new Date().toISOString().slice(0,10); // \"2017-10-16\"\n// Check if this string is there.\nconst ready = this.state.live.filter(s =&gt; s.DATE2018.indexOf(today) === 0);\nthis.setState({\n  filtered: ready\n});\n</code></pre>\n\n<p>Map using <code>this.state.filtered</code> and you get the filtered states.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var live = [{\"DATE2018\":\"2017-10-16T23:00:00.000Z\"}, {\"DATE2018\":\"2019-05-08T23:00:00.000Z\"}];\r\nvar today = new Date().toISOString().slice(0,10); // \"2017-10-16\"\r\n// Check if this string is there.\r\nconst ready = live.filter(s =&gt; s.DATE2018.indexOf(today) === 0);\r\nconsole.log(ready);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 120, "user_id": 8858439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a8TIF.jpg?s=128&g=1", "display_name": "James F", "link": "https://stackoverflow.com/users/8858439/james-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 56048921, "answer_count": 1, "score": 0, "last_activity_date": 1557377925, "creation_date": 1557348054, "last_edit_date": 1557377925, "question_id": 56048745, "link": "https://stackoverflow.com/questions/56048745/how-can-i-correctly-render-the-correct-date-format-into-a-table-using-react", "title": "How can I correctly render the correct date format into a table using react?", "body": "<p>I'm trying to filter my JSON requests to match today's date. But when I render the data from the JSON it's in the incorrect format <code>(2018-03-04T00:00:00.000Z)</code>.</p>\n\n<p>How can I do this using react in the render method?</p>\n\n<pre><code>   // Fetch data\n    this.filterData();\n    fetch('http://localhost:5005/games')\n   .then((data) =&gt; data.json())\n   .then((data) =&gt; this.setState( { live: data } ));\n\n   // Filter data to match todays date\n   var today = new Date().toISOString().slice(0,10);\n   let db_datetime = new Date(res.DATE2019);\n   let formatted_date2 = db_datetime.getFullYear()  + \"-\" + \n   (db_datetime.getMonth() + 1) + \"-\" + db_datetime.getDate() ;\n   if(formatted_date1 === formatted_date2){return res}}\n    })\n\n   this.setState({\n   filtered: ready\n   });\n\n    // Render out filtered data in table etc..\n    &lt;table&gt;\n    // How can I format this?\n    &lt;td&gt;{item.DATE2018}&lt;/td&gt;\n    &lt;/table&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "forms", "accessibility"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557348057, "post_id": 56048718, "comment_id": 98738944, "body": "This sounds more like something the browser designers need to fix."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557348105, "post_id": 56048718, "comment_id": 98738968, "body": "jquery-validate recognizes the <code>required</code> attribute automatically and will show its validation messages."}], "answers": [{"comments": [{"owner": {"reputation": 4307, "user_id": 684776, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/0Gu0j.png?s=128&g=1", "display_name": "Michael Crenshaw", "link": "https://stackoverflow.com/users/684776/michael-crenshaw"}, "edited": false, "score": 1, "creation_date": 1557348735, "post_id": 56048816, "comment_id": 98739216, "body": "Ideally this would be paired with MutationObserver to handle new markup as well as changes to the <code>required</code> attribute."}], "tags": [], "owner": {"reputation": 1684, "user_id": 6737468, "user_type": "registered", "accept_rate": 15, "profile_image": "https://graph.facebook.com/10208826849841645/picture?type=large", "display_name": "Carlos Alves Jorge", "link": "https://stackoverflow.com/users/6737468/carlos-alves-jorge"}, "is_accepted": false, "score": 2, "last_activity_date": 1557348921, "last_edit_date": 1557348921, "creation_date": 1557348413, "answer_id": 56048816, "question_id": 56048718, "link": "https://stackoverflow.com/questions/56048718/using-required-on-an-input-isnt-accessible-is-there-an-easy-way-to-make-it/56048816#56048816", "title": "Using &quot;required&quot; on an &lt;input&gt; isn&#39;t accessible. Is there an easy way to make it accessible (JS) or do I have to abandon it?", "body": "<p>I imagine you can use jQuery to dynamically add the tags you need to all inputs with required. For the required before HTML5 I think it's aria-required...</p>\n\n<pre><code>$(':input[required]').prop('aria-required',true);\n</code></pre>\n\n<p>According to <a href=\"https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Techniques/Using_the_aria-required_attribute\" rel=\"nofollow noreferrer\">Mozilla</a> with aria-required screen readers should announce the field as required.</p>\n\n<p>For an alert you can have a script checking if all required inputs have a value onSubmit.</p>\n"}, {"tags": [], "owner": {"reputation": 15792, "user_id": 4540141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/870cef66c5ab7e060acfb97ab96a7924?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/4540141/adam"}, "is_accepted": true, "score": 4, "last_activity_date": 1557388362, "creation_date": 1557388362, "answer_id": 56054667, "question_id": 56048718, "link": "https://stackoverflow.com/questions/56048718/using-required-on-an-input-isnt-accessible-is-there-an-easy-way-to-make-it/56054667#56054667", "title": "Using &quot;required&quot; on an &lt;input&gt; isn&#39;t accessible. Is there an easy way to make it accessible (JS) or do I have to abandon it?", "body": "<p>The problem is not the presence of the <code>required</code> attribute which should be encouraged. Back in 2012, <a href=\"https://www.w3.org/WAI/GL/wiki/Techniques/HTML5/Using_the_required_attribute_to_indicate_a_required_input_field\" rel=\"nofollow noreferrer\">Using the required attribute to indicate a required input field</a> has been added a note about screenreader support. That was 7 years ago, and now the support is good with recent screenreaders.</p>\n\n<p>Now the problem is that you must have a visual indication about required fields:\n<a href=\"http://www.w3.org/TR/2016/NOTE-WCAG20-TECHS-20161007/H90\" rel=\"nofollow noreferrer\">H90: Indicating required form controls using label or legend</a>\nand that you must indicate fields with errors\n<a href=\"https://www.w3.org/TR/2016/NOTE-WCAG20-TECHS-20161007/G83\" rel=\"nofollow noreferrer\">G83: Providing text descriptions to identify required fields that were not completed</a></p>\n\n<p>The Paciello group has a good up-to-date page about that subject :\n<a href=\"https://developer.paciellogroup.com/blog/2019/02/required-attribute-requirements/\" rel=\"nofollow noreferrer\">Required attribute requirements</a> which provide more informations about screenreader / browser support (\"<em>with the exception of using TalkBack with Firefox and Chrome on Android.</em>\") and using <code>aria-invalid</code> or <code>aria-describedby</code> if a field has errors.</p>\n"}], "owner": {"reputation": 3776, "user_id": 2755339, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/8595bf90e9555ad5e05720279fe033d6?s=128&d=identicon&r=PG", "display_name": "BevansDesign", "link": "https://stackoverflow.com/users/2755339/bevansdesign"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 510, "favorite_count": 1, "accepted_answer_id": 56054667, "answer_count": 2, "score": 1, "last_activity_date": 1557388362, "creation_date": 1557347910, "question_id": 56048718, "link": "https://stackoverflow.com/questions/56048718/using-required-on-an-input-isnt-accessible-is-there-an-easy-way-to-make-it", "title": "Using &quot;required&quot; on an &lt;input&gt; isn&#39;t accessible. Is there an easy way to make it accessible (JS) or do I have to abandon it?", "body": "<p>My form has several input fields (email, first name, last name, etc.) that all use the \"required\" property.</p>\n\n<pre><code>&lt;input required&gt;&lt;/input&gt;\n</code></pre>\n\n<p>This causes a nice universal error message to display in each browser, and lets the browser validate the inputs for me.</p>\n\n<p>However, according to Accessible360, screen readers can't read those error messages.</p>\n\n<p>Is there a way to fix this that <strong>doesn't</strong> involve adding a bunch of extra tags, attributes, aria attributes, text, and Javascript? Maybe just a little Javascript that will convert those in-browser errors into alerts? I'm trying to keep my code clean.</p>\n\n<p>Thanks, I appreciate your help.</p>\n"}, {"tags": ["javascript", "arrays", "object"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 9, "creation_date": 1557348181, "post_id": 56048715, "comment_id": 98739000, "body": "Why are you using an array instead of an object whose keys are the names? That will do this automatically."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1557348223, "post_id": 56048715, "comment_id": 98739021, "body": "Before pushing the new value, search the array to see if the key already exists. If it does, replace it."}, {"owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557348275, "post_id": 56048715, "comment_id": 98739039, "body": "I want to sort it later by key , I guess thats not possible in object"}, {"owner": {"reputation": 3074, "user_id": 7253451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIjsy.jpg?s=128&g=1", "display_name": "G.aziz", "link": "https://stackoverflow.com/users/7253451/g-aziz"}, "edited": false, "score": 0, "creation_date": 1557348286, "post_id": 56048715, "comment_id": 98739046, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/36719477/array-push-and-unique-items\">Array.push() and unique items</a>"}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1557348346, "post_id": 56048715, "comment_id": 98739074, "body": "@Graciewilliams you can get and array from Object.keys or Object.items and sort when you need to."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 3074, "user_id": 7253451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIjsy.jpg?s=128&g=1", "display_name": "G.aziz", "link": "https://stackoverflow.com/users/7253451/g-aziz"}, "edited": false, "score": 0, "creation_date": 1557348350, "post_id": 56048715, "comment_id": 98739078, "body": "@G.aziz That question leaves the old object alone, it doesn&#39;t replace it."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 3074, "user_id": 7253451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIjsy.jpg?s=128&g=1", "display_name": "G.aziz", "link": "https://stackoverflow.com/users/7253451/g-aziz"}, "edited": false, "score": 2, "creation_date": 1557348354, "post_id": 56048715, "comment_id": 98739080, "body": "@g.aziz that duplicate sounds promising, but the answers to it are not."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1557348590, "post_id": 56048715, "comment_id": 98739158, "body": "You may want to look at <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\" rel=\"nofollow noreferrer\"><code>Map</code></a>. It won&#39;t solve the problem of replacing, but it&#39;s like an object, and you can get sorted keys a bit easier."}, {"owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557348629, "post_id": 56048715, "comment_id": 98739170, "body": "I have edited my question with objects , but in stack overflow ,they tell we cannot sort - <a href=\"https://stackoverflow.com/questions/12788051/how-to-sort-an-associative-array-by-value\" title=\"how to sort an associative array by value\">stackoverflow.com/questions/12788051/&hellip;</a>"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1557348720, "post_id": 56048715, "comment_id": 98739211, "body": "What are you doing with the keys/values that you need to sort them? You can get all of the keys as an array and sort them, then get the values..."}, {"owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557348752, "post_id": 56048715, "comment_id": 98739225, "body": "Yea seems like two steps , I actually need to sort them and remove first two items."}], "answers": [{"comments": [{"owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557348874, "post_id": 56048897, "comment_id": 98739280, "body": "Thank you works smooth , How do I remove everything except last 2 after sorting ?"}, {"owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557349181, "post_id": 56048897, "comment_id": 98739404, "body": "See @Triptych answer , he sorted it"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557349420, "post_id": 56048897, "comment_id": 98739481, "body": "@Graciewilliams see <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys#Description\" rel=\"nofollow noreferrer\"><code>Object.keys</code></a>, <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in#Deleted_added_or_modified_properties\" rel=\"nofollow noreferrer\"><code>for...in</code></a> and finally <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/delete#Cross-browser_notes\" rel=\"nofollow noreferrer\"><code>delete</code></a>. His answer is wrong. If you want guaranteed iteration order of keys, use a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\" rel=\"nofollow noreferrer\"><code>Map</code></a>, not an object."}, {"owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557349543, "post_id": 56048897, "comment_id": 98739521, "body": "I used something like  myObject.set(&#39;@&#39;, 2);  , but i push items randomly on ajax request ,so cannot push in order , I gotta sort it some how later , then remove except last two items."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557349845, "post_id": 56048897, "comment_id": 98739631, "body": "@Graciewilliams better?"}, {"owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557350361, "post_id": 56048897, "comment_id": 98739794, "body": "What about @dota2pro answer ? he was able to do it with array"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557350470, "post_id": 56048897, "comment_id": 98739837, "body": "Never said you <i>couldn&#39;t</i> do it with an array, just that you <i>shouldn&#39;t</i>. Replacing an entry in an array based on a key in the object entry is cumbersome and inefficient. Replacing a property on an object is a simple assignment that occurs in approximately constant time. You&#39;re welcome to accept whatever answer works best for you though."}, {"owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557350558, "post_id": 56048897, "comment_id": 98739867, "body": "I want optimal solution ,  I mean u sorted and u sliced like I asked , will urs work just in chrome latest ?"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557350747, "post_id": 56048897, "comment_id": 98739933, "body": "@Graciewilliams if you replace <code>const</code> with <code>var</code>, my answer works all the way back to internet explorer 9. If you polyfill <code>Object.keys()</code> and <code>Array.prototype.map()</code>, my answer would then even work on browsers such as netscape. Browser compatibility will not be an issue."}, {"owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557350869, "post_id": 56048897, "comment_id": 98739972, "body": "When i change to var , I get this - [ { &quot;key&quot;: &quot;8&quot;, &quot;value&quot;: &quot;O&quot; }, { &quot;key&quot;: &quot;9&quot;, &quot;value&quot;: &quot;b&quot; } ]"}, {"owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557350923, "post_id": 56048897, "comment_id": 98739999, "body": "I am just confused , u told u cannot sort object , so how is ur answer working perfectly ?"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557351157, "post_id": 56048897, "comment_id": 98740089, "body": "@Graciewilliams The problem was that <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/status\" rel=\"nofollow noreferrer\"><code>status</code></a> conflicted with a global variable declaration. Putting the code in an IIFE fixes that. I&#39;m also not sorting an object, I&#39;m sorting an array. Please read the comments and study the code."}, {"owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557351513, "post_id": 56048897, "comment_id": 98740205, "body": "I want to slice status , because there are 100&#39;s of data coming every second.status count is keep increasing."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557351643, "post_id": 56048897, "comment_id": 98740245, "body": "@Graciewilliams you&#39;re conflating two different problems. If you want the last 2 values <i>sorted by key</i>, you need to keep all of the properties anyway. If you want the last 2 <i>recently used</i> values, then that&#39;s an entirely different question than what you&#39;ve asked."}, {"owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557351740, "post_id": 56048897, "comment_id": 98740280, "body": ":( sorry , but my question has this point - delete except last 2 items"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557351932, "post_id": 56048897, "comment_id": 98740340, "body": "&quot;last 2 items&quot; <i>sorted by what criteria</i>? You&#39;ve already specified <i>sorted by key</i>, which requires you to keep all the properties in order to determine what the last 2 items of <i>all the data</i> sorted by key is. I&#39;m not editing my answer, and you shouldn&#39;t edit your question at this point since several people have already sufficiently answered the question you already asked. Ask a new question and make sure to be very specific about your desired output so you don&#39;t waste people&#39;s time again."}, {"owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557352021, "post_id": 56048897, "comment_id": 98740372, "body": "Ok will post new question"}], "tags": [], "owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "is_accepted": true, "score": 0, "last_activity_date": 1557351080, "last_edit_date": 1557351080, "creation_date": 1557348748, "answer_id": 56048897, "question_id": 56048715, "link": "https://stackoverflow.com/questions/56048715/javascript-replace-item-if-key-is-duplicate-and-sort-and-delete-except-last-2-it/56048897#56048897", "title": "Javascript Replace item if key is duplicate and sort and delete except last 2 items", "body": "<p>Instead of using an array, use an object:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>(function () {\r\n  var status = {};\r\n  status['BOB'] = 10;\r\n  status['TOM'] = 3;\r\n  status['ROB'] = 22;\r\n  status['JON'] = 7;\r\n  status['BOB'] = 20;\r\n  // convert to array\r\n  var output = Object.keys(status)\r\n    // sort by key\r\n    .sort()\r\n    // keep last two after sorting\r\n    .slice(-2)\r\n    // convert [key, value] to { key, value }\r\n    .map(function (key) {\r\n      return { key: key, value: status[key] };\r\n    });\r\n\r\n  console.log(output);\r\n})();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper{max-height:100%!important}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557350452, "post_id": 56048970, "comment_id": 98739826, "body": "Ok , what if I push something which does not already exists ? I think u dont have condition for it"}, {"owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "reply_to_user": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557350679, "post_id": 56048970, "comment_id": 98739905, "body": "added if (status1[&quot;key&quot;] === undefined) { // if doesnt exist"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1557350891, "post_id": 56048970, "comment_id": 98739983, "body": "<code>status1[&quot;key&quot;] === undefined</code> is <i>always</i> true. If you were to change <code>BOT</code> back to <code>BOB</code> you would then have the first entry replaced and a new entry added with the same key."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 1, "creation_date": 1557351450, "post_id": 56048970, "comment_id": 98740188, "body": "And now you&#39;re modifying the array prototype which just opens up a whole different can of worms..."}], "tags": [], "owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "is_accepted": false, "score": 0, "last_activity_date": 1557352230, "last_edit_date": 1557352230, "creation_date": 1557349112, "answer_id": 56048970, "question_id": 56048715, "link": "https://stackoverflow.com/questions/56048715/javascript-replace-item-if-key-is-duplicate-and-sort-and-delete-except-last-2-it/56048970#56048970", "title": "Javascript Replace item if key is duplicate and sort and delete except last 2 items", "body": "<p>if you want to do it the way others are suggesting you should use a <a href=\"https://www.geeksforgeeks.org/sets-in-javascript/\" rel=\"nofollow noreferrer\">set</a> set always have unique elements in them</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// initialize the map\r\nvar stats = new Set([['BOB',10],['TOM',3],['ROB',22],['JON',7]]);\r\n// set a specific key's value\r\nstats.add('BOB', 20);\r\n// sort by key\r\nvar keys = Array.from(stats.keys());\r\nkeys.sort();\r\n// get the last two\r\nkeys = keys.slice(-2);\r\n// map the remaining keys to the desired structure\r\nvar result = keys\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I think this answers all your questions</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let status1 = [];\r\nstatus1.push({\r\n    key: 'BOB',\r\n    value: 10\r\n}, {\r\n    key: 'TOM',\r\n    value: 3\r\n}, {\r\n    key: 'ROB',\r\n    value: 22\r\n}, {\r\n    key: 'JON',\r\n    value: 7\r\n});\r\n\r\nconsole.log('Initial array', status1);\r\n\r\n//const newItem = {\r\n//  key: 'BOB',\r\n//  value: 20\r\n//};\r\n\r\nconst newItem = {\r\n    key: 'BOB',\r\n    value: 99\r\n};\r\n\r\nfor (let i = 0; i &lt; status1.length; i++) {\r\n\r\n    if (status1[i].key === newItem.key) {\r\n        status1[i] = newItem;\r\n    }\r\n\r\n}\r\n\r\nArray.prototype.inArray = function(comparer) { \r\n    for(var i=0; i &lt; this.length; i++) { \r\n        if(comparer(this[i])) return true; \r\n    }\r\n    return false; \r\n}; \r\nArray.prototype.pushIfNotExist = function(element, comparer) { \r\n    if (!this.inArray(comparer)) {\r\n        this.push(element);\r\n    }\r\n}; \r\n\r\n//https://stackoverflow.com/questions/1988349/array-push-if-does-not-exist \r\n\r\nstatus1.pushIfNotExist(newItem, function(e) { \r\n    return e.key === newItem.key; \r\n});\r\n\r\nconsole.log('after push', status1);\r\n\r\nfunction sortByKey(array, key) {\r\n    return array.sort(function (a, b) {\r\n        var x = a[key];\r\n        var y = b[key];\r\n        return ((x &lt; y) ? -1 : ((x &gt; y) ? 1 : 0));\r\n    });\r\n}\r\n\r\nsortByKey(status1, 'key');\r\nconsole.log('AFter sort', status1);\r\n\r\nconsole.log('Last item', status1[status1.length - 1]);\r\nconsole.log('Second Last item', status1[status1.length - 2]);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "is_accepted": false, "score": 0, "last_activity_date": 1557350777, "last_edit_date": 1557350777, "creation_date": 1557349608, "answer_id": 56049060, "question_id": 56048715, "link": "https://stackoverflow.com/questions/56048715/javascript-replace-item-if-key-is-duplicate-and-sort-and-delete-except-last-2-it/56049060#56049060", "title": "Javascript Replace item if key is duplicate and sort and delete except last 2 items", "body": "<p>In the case you decide to keep the array of objects structure, you can implement a method using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex\" rel=\"nofollow noreferrer\">Array.findIndex()</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice\" rel=\"nofollow noreferrer\">Array.splice()</a> this way:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const pushWithCheck = (arr, obj) =&gt;\r\n{\r\n    let idx = arr.findIndex(({key}) =&gt; key === obj.key);\r\n\r\n    if (idx &gt;= 0)\r\n        arr.splice(idx, 1, obj);\r\n    else\r\n        arr.push(obj);\r\n}\r\n\r\nvar _status = [];\r\npushWithCheck(_status, {key: 'BOB', value: 10});\r\npushWithCheck(_status, {key: 'TOM', value: 3});\r\npushWithCheck(_status, {key: 'ROB', value: 22});\r\npushWithCheck(_status, {key: 'JON', value: 7});\r\nconsole.log(\"Before duplicated key:\", _status);\r\npushWithCheck(_status, {key: 'BOB', value: 20});\r\npushWithCheck(_status, {key: 'ROB', value: 99});\r\nconsole.log(\"After duplicated key:\", _status);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console {background-color:black !important; color:lime;}\r\n.as-console-wrapper {max-height:100% !important; top:0;}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Now, to sort by the <code>key</code> property of the objects and get last <code>2</code> elements, you can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\" rel=\"nofollow noreferrer\">Array.sort()</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice\" rel=\"nofollow noreferrer\">Array.slice()</a> with a negative (<code>-2</code>) argument, like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const pushWithCheck = (arr, obj) =&gt;\r\n{\r\n    let idx = arr.findIndex(({key}) =&gt; key === obj.key);\r\n\r\n    if (idx &gt;= 0)\r\n        arr.splice(idx, 1, obj);\r\n    else\r\n        arr.push(obj);\r\n}\r\n\r\n// Generate the _status array.\r\nvar _status = [];\r\npushWithCheck(_status, {key: 'BOB', value: 10});\r\npushWithCheck(_status, {key: 'TOM', value: 3});\r\npushWithCheck(_status, {key: 'ROB', value: 22});\r\npushWithCheck(_status, {key: 'JON', value: 7});\r\npushWithCheck(_status, {key: 'BOB', value: 20});\r\npushWithCheck(_status, {key: 'ROB', value: 99});\r\nconsole.log(\"_status is: \", _status);\r\n\r\n// Sort the _status array by ascending.\r\nlet sorted = _status.slice().sort((a, b) =&gt; a.key.localeCompare(b.key));\r\n\r\n// Get last two elements of the sorted array.\r\nlet lastTwo = sorted.slice(-2);\r\n\r\nconsole.log(\"Sorted is: \", sorted);\r\nconsole.log(\"Last two elements are: \", lastTwo);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console {background-color:black !important; color:lime;}\r\n.as-console-wrapper {max-height:100% !important; top:0;}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557351343, "post_id": 56049319, "comment_id": 98740153, "body": "status map count is increasing everytime i use set , if i use var stats instead var result  , will it work  ?"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "reply_to_user": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 0, "creation_date": 1557351480, "post_id": 56049319, "comment_id": 98740197, "body": "@Graciewilliams I&#39;m not sure what you mean. I just updated to use the variable name <code>stats</code> instead of <code>status</code> to get around the <code>window.status</code> issue. The <code>result</code> variable simply holds the new structure (an array of objects with key and value properties)."}, {"owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "edited": false, "score": 1, "creation_date": 1557351604, "post_id": 56049319, "comment_id": 98740232, "body": "I mean if do console.log(stats) again after slice , it should have same content of result... and reuse it again , because I am getting 100&#39;s of data every second ,"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1557351759, "post_id": 56049319, "comment_id": 98740288, "body": "This answer, like the others, answers the question posed. If you have further requirements which you did not mention in this question, please, ask a new question and make sure you mention all of the requirements up front."}, {"owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "edited": false, "score": 0, "creation_date": 1557352264, "post_id": 56049319, "comment_id": 98740440, "body": "I think its better to use set instead of a map since A set is a collection of items which are unique i.e no element can be repeated"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "edited": false, "score": 0, "creation_date": 1557352537, "post_id": 56049319, "comment_id": 98740527, "body": "@dota2pro a map has unique keys, and it provides a mapping from each key to a respective value. A set does not have that capability, and your answer using <code>Set</code> is completely wrong. Try logging <code>stats</code>, and also what <code>keys</code> is before you slice, and you&#39;ll see what I mean."}, {"owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "edited": false, "score": 0, "creation_date": 1557352699, "post_id": 56049319, "comment_id": 98740568, "body": "According to <a href=\"https://javascript.info/map-set-weakmap-weakset\" rel=\"nofollow noreferrer\">javascript.info/map-set-weakmap-weakset</a> Map is a collection of keyed data items, just like an Object. But the main difference is that Map allows keys of any type.  A Set is a collection of values, where each value may occur only once.  Do you have any source for your info ?"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "edited": false, "score": 1, "creation_date": 1557352831, "post_id": 56049319, "comment_id": 98740603, "body": "@dota2pro <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality\" rel=\"nofollow noreferrer\"><code>Map</code> key equality algorithm</a> ensures that no duplicate keys exist in a <code>Map</code>. It&#39;s the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set#Value_equality\" rel=\"nofollow noreferrer\">exact same algorithm that <code>Set</code> uses</a> for its values."}], "tags": [], "owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "is_accepted": false, "score": 1, "last_activity_date": 1557351525, "last_edit_date": 1557351525, "creation_date": 1557351057, "answer_id": 56049319, "question_id": 56048715, "link": "https://stackoverflow.com/questions/56048715/javascript-replace-item-if-key-is-duplicate-and-sort-and-delete-except-last-2-it/56049319#56049319", "title": "Javascript Replace item if key is duplicate and sort and delete except last 2 items", "body": "<p>I'd use a <code>Map</code> rather than an array or an object. Maps are like objects <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Objects_and_maps_compared\" rel=\"nofollow noreferrer\">but with some important differences</a>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// initialize the map\r\nvar stats = new Map([['BOB',10],['TOM',3],['ROB',22],['JON',7]]);\r\n// set a specific key's value\r\nstats.set('BOB', 20);\r\n// sort by key\r\nvar keys = Array.from(stats.keys());\r\nkeys.sort();\r\n// get the last two\r\nkeys = keys.slice(-2);\r\n// map the remaining keys to the desired structure\r\nvar result = keys.map(key =&gt; { \r\n  return { \r\n    key: key, \r\n    value: stats.get(key) \r\n  }; \r\n});\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 881, "user_id": 9352937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1df628a7d66baad4418e8da23326646?s=128&d=identicon&r=PG&f=1", "display_name": "Gracie williams", "link": "https://stackoverflow.com/users/9352937/gracie-williams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 56048897, "answer_count": 4, "score": 0, "last_activity_date": 1557352230, "creation_date": 1557347906, "last_edit_date": 1557351767, "question_id": 56048715, "link": "https://stackoverflow.com/questions/56048715/javascript-replace-item-if-key-is-duplicate-and-sort-and-delete-except-last-2-it", "title": "Javascript Replace item if key is duplicate and sort and delete except last 2 items", "body": "<p>I have array like below , I want to sort it by key and then remove everything except last 2 items  and delete remaining.</p>\n\n<pre><code>var status = new Array();\nstatus.push({key: 'BOB', value: 10});\nstatus.push({key: 'TOM', value: 3});\nstatus.push({key: 'ROB', value: 22});\nstatus.push({key: 'JON', value: 7});\n</code></pre>\n\n<p>If I again push below with duplicate key  for example : </p>\n\n<pre><code>status.push({key: 'BOB', value: 20});\n</code></pre>\n\n<p>I need following output , how do i achieve this in javascript.</p>\n\n<pre><code>[\n  {\n    \"key\": \"BOB\",\n    \"value\": 20\n  },\n  {\n    \"key\": \"TOM\",\n    \"value\": 3\n  },\n  {\n    \"key\": \"ROB\",\n    \"value\": 22\n  },\n  {\n    \"key\": \"JON\",\n    \"value\": 7\n  }\n]\n</code></pre>\n\n<p>Note : I need to sort this by key later.</p>\n\n<p>Edit : If I have object like this , How do i sort by keys ? and get only last 2 items and delete remaining.</p>\n\n<pre><code>var status = new Object();\nstatus['BOB'] = 10\nstatus['TOM'] = 3\nstatus['ROB'] = 22\nstatus['JON'] = 7\n</code></pre>\n"}, {"tags": ["javascript", "datetime", "d3.js"], "comments": [{"owner": {"reputation": 240, "user_id": 6646536, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-X1oD79H5feI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hZ7-2uhoR_L1aewDswh3cr_dwzag/mo/photo.jpg?sz=128", "display_name": "Jacob Thomas", "link": "https://stackoverflow.com/users/6646536/jacob-thomas"}, "edited": false, "score": 0, "creation_date": 1557348746, "post_id": 56048684, "comment_id": 98739220, "body": "is <code>i</code> ever <code>0</code> or <code>&gt;data.length</code>? <code>data</code> would return undefined rather than an object in those cases"}, {"owner": {"reputation": 1121, "user_id": 6084964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67805069c633399266ffd4a4f5063536?s=128&d=identicon&r=PG&f=1", "display_name": "Kartikeya Sharma", "link": "https://stackoverflow.com/users/6084964/kartikeya-sharma"}, "reply_to_user": {"reputation": 240, "user_id": 6646536, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-X1oD79H5feI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hZ7-2uhoR_L1aewDswh3cr_dwzag/mo/photo.jpg?sz=128", "display_name": "Jacob Thomas", "link": "https://stackoverflow.com/users/6646536/jacob-thomas"}, "edited": false, "score": 0, "creation_date": 1557355872, "post_id": 56048684, "comment_id": 98741365, "body": "@JacobThomas I don&#39;t think that is the problem as I am using a bisector function there to return an index!"}], "answers": [{"tags": [], "owner": {"reputation": 90540, "user_id": 5768908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf0PS.jpg?s=128&g=1", "display_name": "Gerardo Furtado", "link": "https://stackoverflow.com/users/5768908/gerardo-furtado"}, "is_accepted": true, "score": 1, "last_activity_date": 1557366216, "last_edit_date": 1557366216, "creation_date": 1557363515, "answer_id": 56050804, "question_id": 56048684, "link": "https://stackoverflow.com/questions/56048684/typeerror-cannot-read-property-year-of-undefined/56050804#56050804", "title": "TypeError: Cannot read property &#39;year&#39; of undefined", "body": "<p>Since <code>x</code> is a time scale, the returned value of...</p>\n\n<pre><code>var x0 = x.invert(d3.mouse(this)[0])\n</code></pre>\n\n<p>... is a <strong>date object</strong>, like this:</p>\n\n<pre><code>Fri Nov 29 1996 19:56:00\n</code></pre>\n\n<p>However, in your data, you have <strong>strings</strong>:</p>\n\n<pre><code>[{year: \"1996\", value: 387.65}, {year: \"1997\", value: 410.32} etc...];\n</code></pre>\n\n<p>The solution is quite straightforward, just format the dates:</p>\n\n<pre><code>var x0 = d3.timeFormat(\"%Y\")(x.invert(d3.mouse(this)[0]))\n</code></pre>\n\n<p>Here is your code with that change:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var gdp = [387.65, 410.32, 415.73, 452.69, 462.14,\r\n  478.96, 508.06, 599.59, 699.68, 808.90,\r\n  920.31, 1201.11, 1186.95, 1323.94, 1656.61,\r\n  1823.04, 1827.63, 1856.72, 2039.12, 2102.39,\r\n  2274.22, 2600.81\r\n]; //y or GDP of India\r\nvar years = ['1996', '1997', '1998', '1999', '2000', '2001', '2002', '2003', '2004', '2005', '2006', '2007', '2008', '2009', '2010', '2011', '2012', '2013', '2014', '2015', '2016', '2017'];\r\n\r\nvar data_gdp = []\r\nfor (i = 0; i &lt; years.length; i++) {\r\n  data_gdp.push({\r\n    year: years[i],\r\n    value: gdp[i]\r\n  })\r\n}\r\n\r\nfunction drawChart_gdp(data, class_name) {\r\n  var svgWidth = 1200,\r\n    svgHeight = 400;\r\n  var margin = {\r\n    top: 60,\r\n    right: 60,\r\n    bottom: 60,\r\n    left: 60\r\n  };\r\n  var width = svgWidth - margin.left - margin.right;\r\n  var height = svgHeight - margin.top - margin.bottom;\r\n  var svg = d3.select(class_name)\r\n    .attr(\"width\", svgWidth)\r\n    .attr(\"height\", svgHeight);\r\n  var bisectDate = d3.bisector(function(d) {\r\n    return d.year;\r\n  }).left;\r\n  var g = svg.append(\"g\")\r\n    .attr(\"transform\",\r\n      \"translate(\" + margin.left + \",\" + margin.top + \")\"\r\n    );\r\n  var x = d3.scaleTime().range([0, width]);\r\n  var y = d3.scaleLinear().rangeRound([height, 0]);\r\n\r\n  var line = d3.line()\r\n    .x(function(d) {\r\n      return x(new Date(parseInt(d.year), 0))\r\n    })\r\n    .y(function(d) {\r\n      return y(d.value)\r\n    })\r\n  x.domain(d3.extent(data, function(d) {\r\n    return new Date(parseInt(d.year), 0);\r\n  }));\r\n  y.domain(d3.extent(data, function(d) {\r\n    return d.value\r\n  }));\r\n\r\n  g.append(\"g\")\r\n    .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n    .call(d3.axisBottom(x))\r\n    .append(\"text\")\r\n    .attr(\"fill\", \"#000\")\r\n    .text(\"Year\")\r\n    .attr(\"dy\", \"1.90em\")\r\n    .attr(\"y\", 5)\r\n    .attr(\"x\", 500)\r\n    .attr(\"font-size\", \"20px\")\r\n    .select(\".domain\")\r\n    .remove();\r\n\r\n  g.append(\"g\")\r\n    .call(d3.axisLeft(y))\r\n    .append(\"text\")\r\n    .attr(\"fill\", \"#000\")\r\n    .attr(\"transform\", \"rotate(-90)\")\r\n    .attr(\"y\", -80)\r\n    .attr(\"x\", -55)\r\n    .attr(\"dy\", \"1.90em\")\r\n    .attr(\"text-anchor\", \"center\")\r\n    .attr(\"font-size\", \"20px\")\r\n    .text(\"GDP ($)\")\r\n\r\n  g.append(\"path\")\r\n    .datum(data)\r\n    .attr(\"fill\", \"none\")\r\n    .attr(\"stroke\", \"steelblue\")\r\n    .attr(\"stroke-linejoin\", \"round\")\r\n    .attr(\"stroke-linecap\", \"round\")\r\n    .attr(\"stroke-width\", 1.5)\r\n    .attr(\"d\", line);\r\n\r\n  var focus = g.append(\"g\")\r\n    .attr(\"class\", \"focus\")\r\n    .style(\"display\", \"none\");\r\n\r\n  focus.append(\"line\")\r\n    .attr(\"class\", \"x-hover-line hover-line\")\r\n    .attr(\"y1\", 0)\r\n    .attr(\"y2\", height);\r\n\r\n  focus.append(\"line\")\r\n    .attr(\"class\", \"y-hover-line hover-line\")\r\n    .attr(\"x1\", width)\r\n    .attr(\"x2\", width);\r\n\r\n  focus.append(\"circle\")\r\n    .attr(\"r\", 7.5);\r\n\r\n  focus.append(\"text\")\r\n    .attr(\"x\", 15)\r\n    .attr(\"dy\", \".31em\");\r\n\r\n  svg.append(\"rect\")\r\n    .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\r\n    .attr(\"class\", \"overlay\")\r\n    .attr(\"width\", width)\r\n    .attr(\"height\", height)\r\n    .on(\"mouseover\", function() {\r\n      focus.style(\"display\", null);\r\n    })\r\n    .on(\"mouseout\", function() {\r\n      focus.style(\"display\", \"none\");\r\n    })\r\n    .on(\"mousemove\", function() { //problem in this function\r\n      var x0 = d3.timeFormat(\"%Y\")(x.invert(d3.mouse(this)[0])),\r\n        i = bisectDate(data, x0, 1);\r\n      d0 = data[i - 1],\r\n        d1 = data[i],\r\n        d = x0 - d0.year &gt; d1.year - x0 ? d1 : d0;\r\n      focus.attr(\"transform\", \"translate(\" + x(d.year) + \",\" + y(d.value) + \")\");\r\n      focus.select(\"text\").text(function() {\r\n        return d.value;\r\n      });\r\n      focus.select(\".x-hover-line\").attr(\"y2\", height - y(d.value));\r\n      focus.select(\".y-hover-line\").attr(\"x2\", width + width);\r\n    });\r\n\r\n}\r\ndrawChart_gdp(data_gdp, '.line-chart2');</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;head&gt;\r\n  &lt;style&gt;\r\n    circle {\r\n      fill: steelblue;\r\n    }\r\n    \r\n    body {\r\n      font: 12px Arial;\r\n    }\r\n    \r\n    path {\r\n      stroke: steelblue;\r\n      stroke-width: 2;\r\n      fill: none;\r\n    }\r\n    \r\n    .axis path,\r\n    .axis line {\r\n      fill: none;\r\n      stroke: grey;\r\n      stroke-width: 1;\r\n      shape-rendering: crispEdges;\r\n    }\r\n    \r\n    div.tooltip {\r\n      position: absolute;\r\n      text-align: center;\r\n      width: 80px;\r\n      height: 64px;\r\n      padding: 2px;\r\n      font: 14px sans-serif;\r\n      color: black;\r\n      background: lightsteelblue;\r\n      border: 0px;\r\n      border-radius: 8px;\r\n      pointer-events: none;\r\n    }\r\n    \r\n    .overlay {\r\n      fill: none;\r\n      pointer-events: all;\r\n    }\r\n    \r\n    .focus circle {\r\n      fill: #F1F3F3;\r\n      stroke: #6F257F;\r\n      stroke-width: 5px;\r\n    }\r\n    \r\n    .hover-line {\r\n      stroke: #6F257F;\r\n      stroke-width: 2px;\r\n      stroke-dasharray: 3, 3;\r\n    }\r\n  &lt;/style&gt;\r\n\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;svg class='line-chart2'&gt;&lt;/svg&gt;\r\n  &lt;script src=\"https://d3js.org/d3.v4.min.js\"&gt;&lt;/script&gt;\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1121, "user_id": 6084964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67805069c633399266ffd4a4f5063536?s=128&d=identicon&r=PG&f=1", "display_name": "Kartikeya Sharma", "link": "https://stackoverflow.com/users/6084964/kartikeya-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1669, "favorite_count": 0, "accepted_answer_id": 56050804, "answer_count": 1, "score": 0, "last_activity_date": 1557366216, "creation_date": 1557347780, "last_edit_date": 1557363554, "question_id": 56048684, "link": "https://stackoverflow.com/questions/56048684/typeerror-cannot-read-property-year-of-undefined", "title": "TypeError: Cannot read property &#39;year&#39; of undefined", "body": "<p>I am trying to create an interactive line chart with mouseover function. When you place your mouse over the line you can see the value of the GDP and the year at that certain point. But for some reason,I am getting the below error but I am not sure why it is happening as i am passing the right format data-set into the function.</p>\n\n<pre><code>Uncaught TypeError: Cannot read property 'year' of undefined\n</code></pre>\n\n<p>My code is below:</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;htmL&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n  &lt;head&gt;\n    &lt;style&gt;\n      .line-chart2{\n        margin-top:200px;\n        margin-left:100px;\n        border:1px solid lightgray;\n      }\n      circle {\n        fill: steelblue;\n      }\n      body { \n        font: 12px Arial;}\n      path { \n        stroke: steelblue;\n        stroke-width: 2;\n        fill: none;\n      }\n      .axis path,\n      .axis line {\n        fill: none;\n        stroke: grey;\n        stroke-width: 1;\n        shape-rendering: crispEdges;\n      }\n\n      div.tooltip { \n          position: absolute;           \n          text-align: center;           \n          width: 80px;                  \n          height: 64px;                 \n          padding: 2px;             \n          font: 14px sans-serif;\n          color: black;     \n          background: lightsteelblue;   \n          border: 0px;      \n          border-radius: 8px;           \n          pointer-events: none;         \n      }\n      .overlay {\n          fill: none;\n          pointer-events: all;\n        }\n      .focus circle {\n        fill: #F1F3F3;\n        stroke: #6F257F;\n        stroke-width: 5px;\n      }\n      .hover-line {\n        stroke: #6F257F;\n        stroke-width: 2px;\n        stroke-dasharray: 3,3;\n      }\n\n  &lt;/style&gt;\n\n  &lt;/head&gt;\n  &lt;body&gt;\n      &lt;svg class='line-chart2'&gt;&lt;/svg&gt;\n      &lt;script src=\"https://d3js.org/d3.v4.min.js\"&gt;&lt;/script&gt; \n      &lt;script src=\"math.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n      &lt;script src=\"./regression.js\"&gt;&lt;/script&gt;\n  &lt;/body&gt;\n&lt;/htmL&gt;\n</code></pre>\n\n<p>Javascript</p>\n\n<pre><code>var gdp=[ 387.65,   410.32,  415.73,  452.69,  462.14,\n  478.96,  508.06,  599.59,  699.68,  808.90,\n  920.31, 1201.11, 1186.95, 1323.94, 1656.61,\n 1823.04, 1827.63, 1856.72, 2039.12,  2102.39,\n 2274.22, 2600.81]; //y or GDP of India\nvar years=['1996','1997','1998','1999','2000','2001','2002','2003','2004','2005','2006','2007','2008','2009','2010','2011','2012','2013','2014','2015','2016','2017'];\n\nvar data_gdp=[]\n  for(i=0;i&lt;forexp.length;i++){\n    data_gdp.push({year:years[i],value:gdp[i]})\n    }\n\nfunction drawChart_gdp(data,class_name) {\n  var svgWidth = 1200, svgHeight = 400;\n  var margin = { top: 60, right: 60, bottom: 60, left: 60 };\n  var width = svgWidth - margin.left - margin.right;\n  var height = svgHeight - margin.top - margin.bottom;\n  var svg = d3.select(class_name)\n    .attr(\"width\", svgWidth)\n    .attr(\"height\", svgHeight);\n  var bisectDate= d3.bisector(function(d) { return d.year; }).left;\n  var g = svg.append(\"g\")\n    .attr(\"transform\", \n       \"translate(\" + margin.left + \",\" + margin.top + \")\"\n    );\n  var x = d3.scaleTime().range([0,width]);\n  var y = d3.scaleLinear().rangeRound([height, 0]);\n\n  var line = d3.line()\n   .x(function(d) { return x(new Date(parseInt(d.year),0))})\n   .y(function(d) { return y(d.value)})\n   x.domain(d3.extent(data, function (d) { return new Date(parseInt(d.year),0); }));\n   y.domain(d3.extent(data, function(d) { return d.value }));\n\n   g.append(\"g\")\n   .attr(\"transform\", \"translate(0,\" + height + \")\")\n   .call(d3.axisBottom(x))\n   .append(\"text\")\n    .attr(\"fill\", \"#000\")\n    .text(\"Year\")\n    .attr(\"dy\", \"1.90em\")\n    .attr(\"y\", 5)\n    .attr(\"x\",500)\n    .attr(\"font-size\", \"20px\")\n    .select(\".domain\")\n    .remove();\n\n   g.append(\"g\")\n   .call(d3.axisLeft(y))\n   .append(\"text\")\n   .attr(\"fill\", \"#000\")\n   .attr(\"transform\", \"rotate(-90)\")\n   .attr(\"y\", -80)\n   .attr(\"x\",-55)\n   .attr(\"dy\", \"1.90em\")\n   .attr(\"text-anchor\", \"center\")\n   .attr(\"font-size\", \"20px\")\n   .text(\"GDP ($)\")\n\n  g.append(\"path\")\n   .datum(data)\n   .attr(\"fill\", \"none\")\n   .attr(\"stroke\", \"steelblue\")\n   .attr(\"stroke-linejoin\", \"round\")\n   .attr(\"stroke-linecap\", \"round\")\n   .attr(\"stroke-width\", 1.5)\n   .attr(\"d\", line);\n\n   var focus = g.append(\"g\")\n   .attr(\"class\", \"focus\")\n   .style(\"display\", \"none\");\n\n  focus.append(\"line\")\n    .attr(\"class\", \"x-hover-line hover-line\")\n    .attr(\"y1\", 0)\n    .attr(\"y2\", height);\n\n  focus.append(\"line\")\n    .attr(\"class\", \"y-hover-line hover-line\")\n    .attr(\"x1\", width)\n    .attr(\"x2\", width);\n\n  focus.append(\"circle\")\n    .attr(\"r\", 7.5);\n\n  focus.append(\"text\")\n    .attr(\"x\", 15)\n    .attr(\"dy\", \".31em\");\n\n  svg.append(\"rect\")\n    .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n    .attr(\"class\", \"overlay\")\n    .attr(\"width\", width)\n    .attr(\"height\", height)\n    .on(\"mouseover\", function() { focus.style(\"display\", null); })\n    .on(\"mouseout\", function() { focus.style(\"display\", \"none\"); })\n    .on(\"mousemove\",  function() { //problem in this function\n      var x0 = x.invert(d3.mouse(this)[0]),\n          i = bisectDate(data, x0, 1),\n          d0 = data[i - 1],\n          d1 = data[i],\n          d = x0 - d0.year &gt; d1.year - x0 ? d1 : d0;\n      focus.attr(\"transform\", \"translate(\" + x(d.year) + \",\" + y(d.value) + \")\");\n      focus.select(\"text\").text(function() { return d.value; });\n      focus.select(\".x-hover-line\").attr(\"y2\", height - y(d.value));\n      focus.select(\".y-hover-line\").attr(\"x2\", width + width);\n     });\n\n  }\ndrawChart_gdp(data_gdp,'.line-chart2');\n\n</code></pre>\n"}, {"tags": ["javascript", "dropzone.js", "function-expression"], "answers": [{"tags": [], "owner": {"reputation": 398, "user_id": 168117, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/acb1beba0647ed00f58ca67382d1d9d8?s=128&d=identicon&r=PG", "display_name": "Rachel Martin", "link": "https://stackoverflow.com/users/168117/rachel-martin"}, "is_accepted": true, "score": 0, "last_activity_date": 1557757514, "creation_date": 1557757514, "answer_id": 56114411, "question_id": 56048579, "link": "https://stackoverflow.com/questions/56048579/how-can-i-set-named-function-expressions-on-my-dropzone-options/56114411#56114411", "title": "How can I set named function expressions on my Dropzone options?", "body": "<p>I figured out the syntax:</p>\n\n<pre><code>Dropzone.options[item.substring(1, item.length)] = {\n    acceptedFiles: files,\n    maxFilesize: 512,\n    previewTemplate: document.getElementById('tpl').innerHTML,\n    init: function () {\n        this.on(\"success\", function (file, response) { return DropzoneOnSuccess(file, response, item, persist, btn) });\n    },\n    sending: function (file) {\n        Dropzone.forElement(item).removeAllFiles();\n    },\n    removedfile: function (file) { return DropzoneRemoved(file, item, persist, saver, btn); }\n};\n\nvar DropzoneAccept = function (file, done) {\n    file.acceptDimensions = done;\n    file.rejectDimensions = function () { done(\"Image must be at least 450 pixels wide.\"); }\n};\n\nvar DropzoneCheckThumbnail = function (file) {\n    if (file.width !== undefined) {\n        if (file.width &lt; 3 * 150) {   // File must be at least 3 blocks wide\n            file.rejectDimensions();\n        } else {\n            file.acceptDimensions();\n        }\n    }\n};\n\nvar DropzoneOnSuccess = function (file, response, persist) {\n    // code\n    generateUIDs(Dropzone.forElement(item).files, persist);\n    //more code\n};\n\nvar DropzoneRemoved = function (file, persist) {\n    // code\n    generateUIDs(Dropzone.forElement(item).files, persist);\n    // more code\n};\n</code></pre>\n"}], "owner": {"reputation": 398, "user_id": 168117, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/acb1beba0647ed00f58ca67382d1d9d8?s=128&d=identicon&r=PG", "display_name": "Rachel Martin", "link": "https://stackoverflow.com/users/168117/rachel-martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 56114411, "answer_count": 1, "score": 0, "last_activity_date": 1557757514, "creation_date": 1557347288, "question_id": 56048579, "link": "https://stackoverflow.com/questions/56048579/how-can-i-set-named-function-expressions-on-my-dropzone-options", "title": "How can I set named function expressions on my Dropzone options?", "body": "<p>I have multiple Dropzones in my project that are all very similar. On one of them, I had to create a minimum file width, but the video Dropzone doesn't work with the file width code. I ended up having to create a separate options call for each Dropzone. This created a lot of duplicated code for the functions that are on both options calls. Is there a way I can create named function expressions for all my options and use the names so that I don't have so much duplicated code?</p>\n\n<pre><code>Dropzone.options[item.substring(1, item.length)] = {\n    acceptedFiles: files,\n    previewTemplate: document.getElementById('tpl').innerHTML,\n    accept: function(file, done) {\n        file.acceptDimensions = done;\n        file.rejectDimensions = function () { done(\"Image must be at least 450 pixels wide.\"); }\n    },\n    init: function () {\n        this.on(\"thumbnail\", function (file) {\n            if (file.width !== undefined) {\n                if (file.width &lt; 3 * 150) {   // File must be at least 3 blocks wide\n                    file.rejectDimensions();\n                } else {\n                    file.acceptDimensions();\n                }\n            }\n        });\n        this.on(\"success\", function (file, response) {\n            // code here, including persist variable, which I need to pass in\n            generateUIDs(Dropzone.forElement(item).files, persist);\n            // more code\n        });\n    },\n    sending: function (file) {\n        Dropzone.forElement(item).removeAllFiles();\n    },\n    removedfile: function (file) {\n        // code here, also need persist for this call\n        generateUIDs(Dropzone.forElement(item).files, persist);\n        //more code\n    }\n};\n</code></pre>\n\n<p>Ideally, I'd like for accept, sending, and removedFile to each be one line to reference a named function expression, with my persist variable being passed in. I'd like the init events to do the same thing.</p>\n"}, {"tags": ["javascript", "reactjs", "react-table"], "comments": [{"owner": {"reputation": 661, "user_id": 6951294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bbd8dc89996f9cbba023d0ac0bb01e7?s=128&d=identicon&r=PG&f=1", "display_name": "sloppypasta", "link": "https://stackoverflow.com/users/6951294/sloppypasta"}, "edited": false, "score": 0, "creation_date": 1557347295, "post_id": 56048566, "comment_id": 98738623, "body": "Wrap the &lt;ReactTable&gt; element with a &lt;div&gt; and give that &lt;div&gt; an id. <code>return &lt;div id=&#39;someId&#39;&gt;&lt;ReactTable data={props.data} columns={columns} showPagination={false} minRows={5} style={{height :&quot;400px&quot;}} id=&#39;someId&#39;&#47;&gt;&lt;&#47;div&gt;</code>"}, {"owner": {"reputation": 7275, "user_id": 1114201, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/hTmi0.jpg?s=128&g=1", "display_name": "lexith", "link": "https://stackoverflow.com/users/1114201/lexith"}, "edited": false, "score": 1, "creation_date": 1557347508, "post_id": 56048566, "comment_id": 98738725, "body": "question is, why do you need an id? if you want to access it you should do it the react way using a ref."}, {"owner": {"reputation": 23, "user_id": 4194553, "user_type": "registered", "profile_image": "https://graph.facebook.com/630791898/picture?type=large", "display_name": "Fernando De La Via", "link": "https://stackoverflow.com/users/4194553/fernando-de-la-via"}, "edited": false, "score": 0, "creation_date": 1557347725, "post_id": 56048566, "comment_id": 98738821, "body": "Automation team asked for them, just because of that"}], "answers": [{"comments": [{"owner": {"reputation": 187400, "user_id": 43089, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cbdcba7870660c048cf9d6db74a3ef29?s=128&d=identicon&r=PG", "display_name": "Triptych", "link": "https://stackoverflow.com/users/43089/triptych"}, "reply_to_user": {"reputation": 23, "user_id": 4194553, "user_type": "registered", "profile_image": "https://graph.facebook.com/630791898/picture?type=large", "display_name": "Fernando De La Via", "link": "https://stackoverflow.com/users/4194553/fernando-de-la-via"}, "edited": false, "score": 0, "creation_date": 1557348222, "post_id": 56048686, "comment_id": 98739018, "body": "Thanks - feel free to upvote and accept, using the up-arrow and checkmark in the upper left of this post. Welcome to Stack Overflow :)"}, {"owner": {"reputation": 23, "user_id": 4194553, "user_type": "registered", "profile_image": "https://graph.facebook.com/630791898/picture?type=large", "display_name": "Fernando De La Via", "link": "https://stackoverflow.com/users/4194553/fernando-de-la-via"}, "edited": false, "score": 0, "creation_date": 1557348831, "post_id": 56048686, "comment_id": 98739261, "body": "I already did :) my upvote doesn&#39;t show up because I&#39;m too new, but I checkmarked it as well. Thanks again!"}], "tags": [], "owner": {"reputation": 187400, "user_id": 43089, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cbdcba7870660c048cf9d6db74a3ef29?s=128&d=identicon&r=PG", "display_name": "Triptych", "link": "https://stackoverflow.com/users/43089/triptych"}, "is_accepted": true, "score": 6, "last_activity_date": 1557347795, "creation_date": 1557347795, "answer_id": 56048686, "question_id": 56048566, "link": "https://stackoverflow.com/questions/56048566/how-to-add-an-id-to-react-table-component/56048686#56048686", "title": "How to add an ID to react-table component?", "body": "<p>Looks like React Table handles this via the <code>getProps</code> attribute on the ReactTable element, which takes a callback that should return your custom attributes.  Try the below snippet in your <code>render()</code> function.</p>\n\n<pre><code>const customProps = { id: 'my-table-id' };\n\nreturn (\n  &lt;ReactTable\n    data={props.data}\n    columns={columns}\n    showPagination={false}\n    minRows={5}\n    style={{height :\"400px\"}}\n\n    getProps={() =&gt; customProps}\n  /&gt;\n);\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 4194553, "user_type": "registered", "profile_image": "https://graph.facebook.com/630791898/picture?type=large", "display_name": "Fernando De La Via", "link": "https://stackoverflow.com/users/4194553/fernando-de-la-via"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4677, "favorite_count": 1, "accepted_answer_id": 56048686, "answer_count": 1, "score": 2, "last_activity_date": 1557347795, "creation_date": 1557347217, "question_id": 56048566, "link": "https://stackoverflow.com/questions/56048566/how-to-add-an-id-to-react-table-component", "title": "How to add an ID to react-table component?", "body": "<p>I'm trying to add a unique id to a bunch of react-tables I have created.\nI created a custom component that uses react-table.</p>\n\n<p>I've tried adding the id prop to the  tag but that is not working, I'm guessing that's because there is no id prop defined on the library ?</p>\n\n<pre><code>return &lt;ReactTable data={props.data} columns={columns} showPagination={false} minRows={5} style={{height :\"400px\"}} id='someId'/&gt;;\n</code></pre>\n\n<p>I was expecting for this to add the id attribute into the the div created by the react-table library but that's not happening</p>\n"}, {"tags": ["javascript", "webcam", "p5.js"], "comments": [{"owner": {"reputation": 1661, "user_id": 1978785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e08f5c90566378fb14da4ced95c9f022?s=128&d=identicon&r=PG", "display_name": "Charlie Wallace", "link": "https://stackoverflow.com/users/1978785/charlie-wallace"}, "edited": false, "score": 0, "creation_date": 1557351271, "post_id": 56048531, "comment_id": 98740127, "body": "Take a look at what you are pushing into the target array. target.push(TargetColor(color(255,127,80))); You are just calling TargetColor. Are you really wanting to use new an push a TargetColor object into the array?"}, {"owner": {"reputation": 1661, "user_id": 1978785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e08f5c90566378fb14da4ced95c9f022?s=128&d=identicon&r=PG", "display_name": "Charlie Wallace", "link": "https://stackoverflow.com/users/1978785/charlie-wallace"}, "edited": false, "score": 0, "creation_date": 1557351389, "post_id": 56048531, "comment_id": 98740168, "body": "Also double check this line: fill(target.rgb); target is an array so it won&#39;t have an rgb attribute. Are you looking at your web console for errors?"}, {"owner": {"reputation": 1661, "user_id": 1978785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e08f5c90566378fb14da4ced95c9f022?s=128&d=identicon&r=PG", "display_name": "Charlie Wallace", "link": "https://stackoverflow.com/users/1978785/charlie-wallace"}, "edited": false, "score": 0, "creation_date": 1557352213, "post_id": 56048531, "comment_id": 98740425, "body": "target = new TargetColor(video.get(mouseX, mouseY)); should be    target.push( new TargetColor(video.get(mouseX, mouseY)));"}], "owner": {"reputation": 11, "user_id": 11471929, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-C6v9VM_X6ek/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rezdHlnTv8HL5VTRanDERxOENVsmQ/mo/photo.jpg?sz=128", "display_name": "Yasmin Morgan", "link": "https://stackoverflow.com/users/11471929/yasmin-morgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1557349364, "creation_date": 1557347080, "last_edit_date": 1557349364, "question_id": 56048531, "link": "https://stackoverflow.com/questions/56048531/how-can-i-track-two-colors-in-p5-js", "title": "How can I track two colors in p5.js?", "body": "<p>Firstly, this is my first ever post on stack, so I'm sorry for being a noob and bad code formatting!</p>\n\n<p>My project is based on tracking 3D printed refresh icons - one coloured orange and one coloured blue. I want both to be tracked (ellipse will show). I am using p5.js (even though I would like to use openCV in the future).</p>\n\n<p>I have already been successful at tracking the orange icon! From my understanding, when I look through the array of pixels to identify the colours, I also need to traverse the target array (so that it can hold more than one colour).</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>//code that tracks the orange\n\nvar video;\nvar target;\n\n// XY coordinate of closest color\nvar closestX = 0;\nvar closestY = 0;\n\nvar threshold = 25;\n\nfunction setup() {\n    createCanvas(640, 480);\n    pixelDensity(1);\n    video = createCapture(VIDEO);\n    video.hide();\n    noStroke();\n\n    target = new TargetColor(color(255,127,80));\n}\n\nfunction draw() {\n    background(0);\n    image(video, 0, 0);\n    video.loadPixels();\n\n    var worldRecord = 500;\n\n\n    for (var x = 0; x &lt; video.width; x += 1){\n        for (var y = 0; y &lt; video.height; y += 1) {\n\n            var index = (x + (y * video.width)) * 4;\n            var redSource = video.pixels[index + 0];\n            var greenSource = video.pixels[index + 1];\n            var blueSource = video.pixels[index + 2];\n\n            var d = dist(redSource, greenSource, blueSource, target.red,\n                target.green, target.blue);\n\n\n            if (d &lt; worldRecord) {\n                worldRecord = d;\n                closestX = x;\n                closestY = y;\n            }\n        }\n    }\n\n    if (worldRecord &lt; 10) {\n\n        //draw ellipse\n\n        fill(target.rgb);\n        strokeWeight(4);\n        stroke(0);\n        ellipse(closestX, closestY, 16, 16);\n    }  \n}  \n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>//snippet of code that should allow multiple color tracking\n\n//TWO - COLOR TRACKING\n\nvar video;\nvar target = [] // Empty array for targets so we can have more than 1\n\"object-colors\"\n\nvar particles = [] //empty array of particles\n\n// XY coordinate of closest color\nvar closestX = 0;\nvar closestY = 0;\n\nvar threshold = 25;\n\nfunction setup() {\n    createCanvas(640, 480);\n    pixelDensity(1);\n    video = createCapture(VIDEO);\n    video.hide();\n    noStroke();\n\n    //pushing an object of type Target Color on the target array\n\n    target.push(TargetColor(color(255,127,80)));\n}\n\nfunction draw() {\n    background(0);\n    image(video, 0, 0);\n    video.loadPixels();   \n\n    var worldRecord = 500;\n\n    //For loop - Access each individual pixel in video by iterating \n    through array\n\n\n    //for loop that allows us to loop over the contents of the array - targets\n\n\n    for (var i = 0; i &lt; target.length; i++){\n        for (var x = 0; x &lt; video.width; x += 1){\n            for (var y = 0; y &lt; video.height; y += 1) {\n\n            var index = (x + (y * video.width)) * 4;\n            var redSource = video.pixels[index + 0];\n            var greenSource = video.pixels[index + 1];\n            var blueSource = video.pixels[index + 2];\n\n            var d = dist(redSource, greenSource, blueSource, target[i].red,\n                target[i].green, target[i].blue);\n\n\n            if (d &lt; worldRecord) {\n                worldRecord = d;\n                closestX = x;\n                closestY = y;\n                }\n            }\n        }\n    }\n\n    if (worldRecord &lt; 10) {\n\n        //draw ellipse\n\n        fill(target.rgb);\n        strokeWeight(4);\n        stroke(0);\n        ellipse(closestX, closestY, 16, 16);\n    } \n}\n\n\nfunction mousePressed() {\n    // Save color where the mouse is clicked in target variable\n    target = new TargetColor(video.get(mouseX, mouseY));\n}\n\nfunction TargetColor(_color){\n    this.rgb = _color;\n    this.red = red(_color);\n    this.green = green(_color);\n    this.blue = blue(_color);\n}\n</code></pre>\n\n<p>I have put the for loop for the targets in several different places in the nested loop but I still can't figure it out. The result I get is a black screen stating 'Uncaught Type Error: Cannot read property 'red' of undefined.' </p>\n\n<p>However, isn't it already defined? What am I missing?</p>\n\n<p>I will really appreciate any tips and ways to move forward!</p>\n"}, {"tags": ["javascript", "vue.js", "vuejs2"], "answers": [{"comments": [{"owner": {"reputation": 730, "user_id": 4639995, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-6TfJgnPf37c/AAAAAAAAAAI/AAAAAAAABVc/qNjfsuIev8c/photo.jpg?sz=128", "display_name": "nidabdella", "link": "https://stackoverflow.com/users/4639995/nidabdella"}, "edited": false, "score": 0, "creation_date": 1557474678, "post_id": 56048888, "comment_id": 98784864, "body": "thank you for your answer Ahmad, you&#39;re right on that part, I previously updated my data prop in the Vue instance (I didn&#39;t include that part here), and since it didn&#39;t work I tried to update the prop directly in the component (didn&#39;t know that I can&#39;t)"}], "tags": [], "owner": {"reputation": 3796, "user_id": 5458806, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/W2bL0.jpg?s=128&g=1", "display_name": "Ahmad Mobaraki", "link": "https://stackoverflow.com/users/5458806/ahmad-mobaraki"}, "is_accepted": false, "score": 1, "last_activity_date": 1557348703, "creation_date": 1557348703, "answer_id": 56048888, "question_id": 56048508, "link": "https://stackoverflow.com/questions/56048508/data-variable-is-returned-as-ob/56048888#56048888", "title": "data variable is returned as __ob__", "body": "<p>You are overwriting a <code>prop</code>! And you're not using it!\nYou are not supposed to manipulate <code>props</code> in your vue component! Instead, use another data property with a different name : </p>\n\n<pre><code> Vue.component(\"line-plot\", {\n        extends: VueChartJs.Line,\n        props: [\"label\", \"data\", \"options\"],\n        data(){\n            return {\n                 newData = this.data\n                 // now you can manipulate this.newData\n            }\n        }\n        mounted(){\n                fetch('api/data/monthlypaid')\n                    .then(response =&gt; response.json()\n                    .then(data =&gt;{this.newData = data;\n                                  console.log(data);\n                                  console.log(this.newData); #replacing the statment above \n                                  }));\n                this.renderLineChart();\n        }, \n        watch: {newData: function () {\n                          if (this._chart) {\n                             this._chart.destroy();\n                          }\n                          this.renderLineChart();\n                      }\n        }\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8012146, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159823171995206/picture?type=large", "display_name": "Anh Le", "link": "https://stackoverflow.com/users/8012146/anh-le"}, "is_accepted": false, "score": 0, "last_activity_date": 1557348867, "creation_date": 1557348867, "answer_id": 56048917, "question_id": 56048508, "link": "https://stackoverflow.com/questions/56048508/data-variable-is-returned-as-ob/56048917#56048917", "title": "data variable is returned as __ob__", "body": "<p>I believe the <code>__ob__: Observer</code> is part of Vue's reactivity system. If you don't see your API's response data along with the observer, it means that your <code>this.data</code> was not updated.</p>\n\n<p>Look like you are trying to set <code>this.data</code> from a props, so it's possible that your parent component is changing <code>this.data</code>. I suggests that in your \"line-plot\" component, you create a variable, set it to <code>this.data</code>, then manipulate your variable instead:</p>\n\n<pre><code>data() {\n    return {data2: this.data}}\n},watch: {data2: function () {\n    ...\n}\n</code></pre>\n\n<p>Also, instead of console logging, you should get the Vue Devtool for your browser to inspect the value of your variables. <a href=\"https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd?hl=en\" rel=\"nofollow noreferrer\">https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd?hl=en</a></p>\n"}, {"tags": [], "owner": {"reputation": 730, "user_id": 4639995, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-6TfJgnPf37c/AAAAAAAAAAI/AAAAAAAABVc/qNjfsuIev8c/photo.jpg?sz=128", "display_name": "nidabdella", "link": "https://stackoverflow.com/users/4639995/nidabdella"}, "is_accepted": true, "score": 0, "last_activity_date": 1557500788, "creation_date": 1557500788, "answer_id": 56080312, "question_id": 56048508, "link": "https://stackoverflow.com/questions/56048508/data-variable-is-returned-as-ob/56080312#56080312", "title": "data variable is returned as __ob__", "body": "<p>As @Ahmad mentioned, it is not good practice to manipulate component props inside the component itself. However this wasn't my problem. my problem was much simpler than that.</p>\n\n<p>my Line chart is a <code>chartjs</code> chart, so the <code>labels</code> and the <code>data</code> inside the <code>dataset</code> must be passed as an <code>array</code>. My API was sending data as JSON objects.\nIt is natural that 'Vuejs' converts the fetched data to an <code>__ob__</code>.</p>\n\n<p>the solution was to either change the API output (which I did), or to loop througth the object which looks like <code>{0:200, 1:455, ..., 20:90}</code>. using a function like the following:</p>\n\n<pre><code>var group = {0:200, 1:455, 2:44, 3:355, 20:90}; # this is how my object looks like\nvar dt = [];\nvar numbers = Object.keys(group);\nnumbers.forEach(function(number) {\n  var item = Object.values(group[person]);\n  dt.push(item);\n});\nreturn dt\n</code></pre>\n\n<p>This returns the dt as an array which makes it usable with <code>chartjs</code></p>\n"}], "owner": {"reputation": 730, "user_id": 4639995, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-6TfJgnPf37c/AAAAAAAAAAI/AAAAAAAABVc/qNjfsuIev8c/photo.jpg?sz=128", "display_name": "nidabdella", "link": "https://stackoverflow.com/users/4639995/nidabdella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 0, "accepted_answer_id": 56080312, "answer_count": 3, "score": 0, "last_activity_date": 1557500788, "creation_date": 1557346971, "question_id": 56048508, "link": "https://stackoverflow.com/questions/56048508/data-variable-is-returned-as-ob", "title": "data variable is returned as __ob__", "body": "<p>I'm trying to have a line chart using vue-chart.js </p>\n\n<p>I'm using the following vue component:</p>\n\n<pre><code>  Vue.component(\"line-plot\", {\n            extends: VueChartJs.Line,\n            props: [\"label\", \"data\", \"options\"],\n            mounted(){\n                    fetch('api/data/monthlypaid')\n                        .then(response =&gt; response.json()\n                        .then(data =&gt;{this.data = data;\n                                      console.log(data);\n                                      console.log(this.data); #replacing the statment above \n                                      }));\n                    this.renderLineChart();\n            }, \n            methods:{\n                    renderLineChart: function () {\n                        this.renderChart({\n                            labels: this.data[\"DateReceived\"],\n                            datasets: [{\n                                data: this.data ? this.data[\"AmountPaid\"] : []\n                                       }]\n\n                            },\n                            this.options )}\n            },\n            watch: {data: function () {\n                              if (this._chart) {\n                                 this._chart.destroy();\n                              }\n                              this.renderLineChart();\n                          }\n            }\n    })\n</code></pre>\n\n<p>then I create my Vue app instance that contains the options for my chart.\nThe problem I have is with the data from the API. \nI have two <code>console.log</code> statments, the first returns the json data from the api, and the second is supposed to return the same thing since <code>this.data</code> is updated with <code>data</code> from the API call, however I get an <code>__ob__</code>. Any idea how to get the <code>this.data</code> to contain the json from the call to the API?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 1113, "user_id": 11059320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MCWZp.jpg?s=128&g=1", "display_name": "shadow2020", "link": "https://stackoverflow.com/users/11059320/shadow2020"}, "edited": false, "score": 0, "creation_date": 1557347009, "post_id": 56048499, "comment_id": 98738497, "body": "Can we see the functions you&#39;re calling <code>displayLevels</code> and <code>displayPoints</code>"}, {"owner": {"reputation": 751, "user_id": 3716394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769855cb2ab79bdb83a07af2e551c112?s=128&d=identicon&r=PG", "display_name": "Juan Scolari", "link": "https://stackoverflow.com/users/3716394/juan-scolari"}, "edited": false, "score": 1, "creation_date": 1557347175, "post_id": 56048499, "comment_id": 98738568, "body": "I think you have a typo: <code>_total_points !== total_points </code>"}, {"owner": {"reputation": 11, "user_id": 11163366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fcfae095afc85b9fd5bf1de14090500?s=128&d=identicon&r=PG&f=1", "display_name": "j rz", "link": "https://stackoverflow.com/users/11163366/j-rz"}, "edited": false, "score": 0, "creation_date": 1557347178, "post_id": 56048499, "comment_id": 98738569, "body": "Yes, they&#39;ve been added to the question"}, {"owner": {"reputation": 11, "user_id": 11163366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fcfae095afc85b9fd5bf1de14090500?s=128&d=identicon&r=PG&f=1", "display_name": "j rz", "link": "https://stackoverflow.com/users/11163366/j-rz"}, "edited": false, "score": 0, "creation_date": 1557347213, "post_id": 56048499, "comment_id": 98738588, "body": "I see what you&#39;re talking about Juan, I&#39;ll try it out"}, {"owner": {"reputation": 240, "user_id": 6646536, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-X1oD79H5feI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hZ7-2uhoR_L1aewDswh3cr_dwzag/mo/photo.jpg?sz=128", "display_name": "Jacob Thomas", "link": "https://stackoverflow.com/users/6646536/jacob-thomas"}, "edited": false, "score": 1, "creation_date": 1557347727, "post_id": 56048499, "comment_id": 98738823, "body": "Might be worth noting that you will gain a level for 101, 102, 103 .. etc. <code>total_points % 100 == 0</code> might be better than <code>total_points &gt;= 100</code> if you are not subtracting points"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1557347757, "post_id": 56048499, "comment_id": 98738827, "body": "I guess you should reset <code>total_points</code> when increasing the level?"}], "answers": [{"tags": [], "owner": {"reputation": 331, "user_id": 9685324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ybR3o.jpg?s=128&g=1", "display_name": "JozeV", "link": "https://stackoverflow.com/users/9685324/jozev"}, "is_accepted": false, "score": 0, "last_activity_date": 1557509463, "last_edit_date": 1557509463, "creation_date": 1557347861, "answer_id": 56048704, "question_id": 56048499, "link": "https://stackoverflow.com/questions/56048499/want-to-increment-1-level-for-every-100-points-scored-level-counter-not-working/56048704#56048704", "title": "Want to increment 1 level for every 100 points scored, level counter not working", "body": "<p>Maybe you should check if modulus of _total_points and 100 are zero?\nI made an example for loop to demonstrate it</p>\n\n<pre><code>let _total_points = 0;\nlet _total_levels = 0;\n\nfor (let index = 0; index &lt; 500; index++) {\n  _total_points += 1;\n  console.log(\"_total_points \" + _total_points);\n// if _total_points can be devided by 100, and remainder is zero\n  if (_total_points % 100 === 0) {\n    _total_levels += 1;\n\n    console.log(\"_total_levels \" + _total_levels);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11163366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fcfae095afc85b9fd5bf1de14090500?s=128&d=identicon&r=PG&f=1", "display_name": "j rz", "link": "https://stackoverflow.com/users/11163366/j-rz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557509463, "creation_date": 1557346914, "last_edit_date": 1557347161, "question_id": 56048499, "link": "https://stackoverflow.com/questions/56048499/want-to-increment-1-level-for-every-100-points-scored-level-counter-not-working", "title": "Want to increment 1 level for every 100 points scored, level counter not working", "body": "<p>Basically, I want to increment 1 \"level\" every time 100 \"points\" are scored. The points work fine, but the levels will not increment for every 100 points. The problem exists in this small bit of code. Any ideas?</p>\n\n<pre><code>if (my.collisions()) {\n                _total_points += 1;\n                my.displayPoints();\n\n                if (total_points &gt;= 100) {\n                  _total_levels += 1;\n                  my.displayLevels();\n                }\n            }\n</code></pre>\n\n<p>Here are my displayPoints and displayLevels functions</p>\n\n<pre><code>        my.displayPoints = function () {\n            gcontext.clearRect(0, 0, 200, 100);\n            gcontext.fillStyle = \"#ffffff\";\n            gcontext.fillRect(0, 0, 200, 100);\n            gcontext.font = \"30px Arial\";\n            gcontext.fillStyle = \"#000000\";\n            gcontext.fillText(\"Score: \" + _total_points, 10, 50);\n\n        };\n\n        my.displayLevels = function () {\n            gcontext.clearRect(100, 100, 200, 100);\n            gcontext.fillStyle = \"#ffffff\";\n            gcontext.fillRect(0, 100, 200, 100);\n            gcontext.font = \"30px Arial\";\n            gcontext.fillStyle = \"#000000\";\n            gcontext.fillText(\"Level: \" + _total_levels, 10, 150);\n\n        };\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "json", "web", "vue.js"], "comments": [{"owner": {"reputation": 1434, "user_id": 5799673, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f1eb668cc8e910aba87ad3d0502d7da0?s=128&d=identicon&r=PG&f=1", "display_name": "ebbishop", "link": "https://stackoverflow.com/users/5799673/ebbishop"}, "edited": false, "score": 0, "creation_date": 1557346662, "post_id": 56048424, "comment_id": 98738325, "body": "Can you share more of the code you&#39;ve tried so far? Show us some methods, etc that you&#39;re working with."}, {"owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1557346675, "post_id": 56048424, "comment_id": 98738331, "body": "If you have a <code>JSON</code> string as input, you may consider to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse\" rel=\"nofollow noreferrer\">JSON.parse()</a> first and then get the data you need from its result."}, {"owner": {"reputation": 862, "user_id": 4409834, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-G015Bz1NxeA/AAAAAAAAAAI/AAAAAAAAAEc/3QFP2KQPfyQ/photo.jpg?sz=128", "display_name": "Vishnu", "link": "https://stackoverflow.com/users/4409834/vishnu"}, "edited": false, "score": 0, "creation_date": 1557346863, "post_id": 56048424, "comment_id": 98738422, "body": "the string you provided have some additional brackets before the second object, if this is of the proper json string formate JSON.parse will work here"}, {"owner": {"reputation": 23, "user_id": 11133136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e72f51f50e6afa6db8bf1d6f6eb38b3?s=128&d=identicon&r=PG&f=1", "display_name": "JamCode", "link": "https://stackoverflow.com/users/11133136/jamcode"}, "edited": false, "score": 0, "creation_date": 1557346878, "post_id": 56048424, "comment_id": 98738429, "body": "It is not a JSON string, just looks very similar to it. I could not use JSON.parse() on it"}, {"owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1557347143, "post_id": 56048424, "comment_id": 98738549, "body": "share the actual string then?"}, {"owner": {"reputation": 23, "user_id": 11133136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e72f51f50e6afa6db8bf1d6f6eb38b3?s=128&d=identicon&r=PG&f=1", "display_name": "JamCode", "link": "https://stackoverflow.com/users/11133136/jamcode"}, "edited": false, "score": 0, "creation_date": 1557347160, "post_id": 56048424, "comment_id": 98738557, "body": "&quot;Uncaught SyntaxError: Unexpected token { in JSON at position&quot; is the error I am getting while trying to use JSON.parse"}, {"owner": {"reputation": 971, "user_id": 322712, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/84a548c49577eb0b289c64b3baa250b2?s=128&d=identicon&r=PG", "display_name": "Esger", "link": "https://stackoverflow.com/users/322712/esger"}, "edited": false, "score": 0, "creation_date": 1557347389, "post_id": 56048424, "comment_id": 98738672, "body": "I guess you&#39;ll have to use indexOf(&#39;name&#39;) and indexOf(&#39;email&#39;) to find the following name and email. Remove the first part {} of the string and repeat."}], "answers": [{"tags": [], "owner": {"reputation": 810, "user_id": 3082288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc9a8d10e4832649b32734db7c8391d3?s=128&d=identicon&r=PG&f=1", "display_name": "jcbdrn", "link": "https://stackoverflow.com/users/3082288/jcbdrn"}, "is_accepted": false, "score": 0, "last_activity_date": 1557347760, "creation_date": 1557347760, "answer_id": 56048678, "question_id": 56048424, "link": "https://stackoverflow.com/questions/56048424/how-to-split-a-json-lookalike-string-and-display-it-on-vue-js/56048678#56048678", "title": "How to split a JSON lookalike string and display it on vue.js", "body": "<p>Where is this string coming from? It looks like a set of JSON objects concatenated together? To munge it into a JSON string you can do the below. But this is ugly, better to fix the source of the string so its proper JSON.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let string = '{ \"name\" : \"XYZ\", \"email\" : \"XYZ@ABC.com\" } { \"name\" : \"PQR\", \"email\" : \"PQR@ABC.com\" } ';\r\nstring = string.replace(/}\\s*{/,\"},{\");\r\nconsole.log(JSON.parse(`[${string}]`));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 23, "user_id": 11133136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e72f51f50e6afa6db8bf1d6f6eb38b3?s=128&d=identicon&r=PG&f=1", "display_name": "JamCode", "link": "https://stackoverflow.com/users/11133136/jamcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1557347760, "creation_date": 1557346550, "last_edit_date": 1557347546, "question_id": 56048424, "link": "https://stackoverflow.com/questions/56048424/how-to-split-a-json-lookalike-string-and-display-it-on-vue-js", "title": "How to split a JSON lookalike string and display it on vue.js", "body": "<p>I have a string of the form:</p>\n\n<pre><code>\"{ \"name\" : \"XYZ\", \"email\" : \"XYZ@ABC.com\" }  { \"name\" : \"PQR\", \"email\" : \"PQR@ABC.com\" } \"\n</code></pre>\n\n<p>How do I split this string/parse it and ID it in a proper way to display just the names and the emails on the client side?</p>\n\n<p>Expect something like this ---</p>\n\n<pre><code>XYZ\nXYZ@ABC.com\n\nPQR\nPQR@ABC.com\n</code></pre>\n"}, {"tags": ["javascript", "r", "web-scraping", "rvest"], "owner": {"reputation": 1205, "user_id": 8061552, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tIopT.png?s=128&g=1", "display_name": "captcoma", "link": "https://stackoverflow.com/users/8061552/captcoma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 226, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1557442099, "creation_date": 1557346532, "last_edit_date": 1557442099, "question_id": 56048418, "link": "https://stackoverflow.com/questions/56048418/r-scraping-aspx-with-content-from-dopostback-script", "title": "R: Scraping aspx with content from doPostBack script", "body": "<p><strong>UPDATE 2</strong></p>\n\n<p><strong><em>Since I made some advance, I opened a new, more precise question:</em></strong>\n<a href=\"https://stackoverflow.com/questions/56068532/r-scraping-data-after-post-only-works-for-first-page\">R: scraping data after POST only works for first page</a></p>\n\n<p><strong>My plan:</strong></p>\n\n<p>I would like to scrape drug informations offered by the Swiss government for an University research project from:</p>\n\n<p><a href=\"http://www.spezialitaetenliste.ch/ShowPreparations.aspx?searchType=Substance&amp;searchValue=\" rel=\"nofollow noreferrer\">http://www.spezialitaetenliste.ch/ShowPreparations.aspx?searchType=Substance&amp;searchValue=</a></p>\n\n<p>The page does offer a robotx.txt file, however, it's content is freely available to the public and I assume that scraping this data is unprohibited. </p>\n\n<p><strong>What I've already achieved:</strong></p>\n\n<p>I could manage to scrape the html table of the first search page:</p>\n\n<pre><code>library(\"rvest\")\nlibrary(\"dplyr)\")\n\nurl&lt;-\"http://www.spezialitaetenliste.ch/ShowPreparations.aspx?searchType=Substance&amp;searchValue=\"\n\nread_html(url) %&gt;%\n  html_nodes(xpath='//*[@id=\"ctl00_cphContent_gvwPreparations\"]') %&gt;%\n  html_table() %&gt;%\n  bind_rows() %&gt;%\n  tibble()\n</code></pre>\n\n<p>Now I would like to scrape the details of the listed drugs (which appears at the page bottom if I click on the link in the Pr\u00e4parat=preparation column).\nHowever, this link is not a simple hmtl, it is a doPostBack javascript.</p>\n\n<p>I figured out that these scripts follow this rule:</p>\n\n<blockquote>\n  <p>javascript:__doPostBack('ctl00$cphContent$gvwPreparations$ctl02$ctl00','')\n  javascript:__doPostBack('ctl00$cphContent$gvwPreparations$ctl03$ctl00','')\n  ...\n  javascript:__doPostBack('ctl00$cphContent$gvwPreparations$ctl16$ctl00','')</p>\n</blockquote>\n\n<p>so </p>\n\n<blockquote>\n  <p>gvw$Preparations$.. = gvw$Preparations$ctl(Nr in the List +1)$ct100</p>\n</blockquote>\n\n<p><strong>Where I fail:</strong></p>\n\n<p>I tried to implement this solution to ge the detailed drug information:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/41574742/scrape-website-with-r-by-navigating-dopostback?rq=1\">Scrape website with R by navigating doPostBack</a></p>\n\n<p>however, </p>\n\n<pre><code>url&lt;-\"http://www.spezialitaetenliste.ch/ShowPreparations.aspx?searchType=Substance&amp;searchValue=\"\n\npgsession&lt;-html_session(url)\npgform&lt;-html_form(pgsession)[[1]]\npage&lt;-rvest:::request_POST(pgsession,\"http://www.spezialitaetenliste.ch/ShowPreparations.aspx?searchType=Substance&amp;searchValue=\",\n                           body=list(\n                             `__VIEWSTATE`=pgform$fields$`__VIEWSTATE`$value,\n                             `__EVENTTARGET`=\"ctl00$cphContent$gvwPreparations$ctl02$ctl00\",\n                             `__EVENTARGUMENT`=\"\",\n                             `__VIEWSTATEGENERATOR`=pgform$fields$`__VIEWSTATEGENERATOR`$value,\n                             `__VIEWSTATEENCRYPTED`=pgform$fields$`__VIEWSTATEENCRYPTED`$value,\n                             `__EVENTVALIDATION`=pgform$fields$`__EVENTVALIDATION`$value\n                           ),\n                           encode=\"form\"\n)\n\n\nread_html(page) %&gt;% html_nodes(css=\"ctl00_cphContent_fvwPreparation\") \n</code></pre>\n\n<p>gives me <code>{xml_nodeset (0)}</code></p>\n\n<p>I assume that my <code>request_POST</code> is not correct...\nHowever, I could not figure out what's wrong.</p>\n\n<p><strong>So the open points are:</strong></p>\n\n<ul>\n<li><p>What is the correct way to get the detailed information of the\ndoPostBack java scripts (i.e. the table that appears at the end of the page if one clicks on the link in the first column)</p></li>\n<li><p>How can I get the results of the other pages (935)? Do I have to use\n<code>RSelenium</code> and click through the results, if yes, how can the <code>RSelenium</code> and <code>rvest</code> approach be combined? Or is there an easier way\nto do so?</p></li>\n</ul>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I could solve the first point (at least partially) with this help from <em>hrbrmstr</em>:</p>\n\n<p><a href=\"https://www.queryxchange.com/q/27_51801321/getting-xml-nodeset-0-when-using-html-nodes-from-rvest-package-in-r/\" rel=\"nofollow noreferrer\">https://www.queryxchange.com/q/27_51801321/getting-xml-nodeset-0-when-using-html-nodes-from-rvest-package-in-r/</a></p>\n\n<pre><code>read_html(page) %&gt;% html_nodes(xpath = '//*[@id=\"ctl00_cphContent_fvwPreparation\"]') %&gt;% html_text\n</code></pre>\n\n<p>which gives me the detailed information (in a bit an unstructured form).</p>\n\n<p>however, I still do not know, how to get the info from all other pages.</p>\n\n<p>With RSelenium I would do something like: </p>\n\n<pre><code>library(\"RSelenium\")\n\n# star selenum\nsel &lt;- remoteDr(browserName = \"chrome\", port = 4445L)\n\n# go to the URL \nsel %&gt;% \n  go(\"http://www.spezialitaetenliste.ch/ShowPreparations.aspx?searchType=Substance&amp;searchValue=\")\n\n\n# chose max page\nsel %&gt;% \n  findElement(using = 'xpath', \"//*/option[@value = '100']\") %&gt;%  # find the submit button \n  elementClick()  # click it \n</code></pre>\n\n<p>However, I do not know how to combine <code>RSelenium</code> and <code>rvest</code></p>\n\n<p>Is it possible to select the maximum of displayed pages with the URL, something like</p>\n\n<pre><code>http://www.spezialitaetenliste.ch/ShowPreparations.aspx?PageSize=500\n</code></pre>\n\n<p>And then chose the next page with</p>\n\n<pre><code>http://www.spezialitaetenliste.ch/ShowPreparations.aspx?PageSize=500&amp;PageNr=2\n</code></pre>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p><strong><em>Since I made some advance, I opened a new, more precise question:</em></strong>\n<a href=\"https://stackoverflow.com/questions/56068532/r-scraping-data-after-post-only-works-for-first-page\">R: scraping data after POST only works for first page</a></p>\n"}, {"tags": ["javascript", "css", "reactjs", "import", "jsx"], "answers": [{"comments": [{"owner": {"reputation": 683, "user_id": 5513005, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f3f9294e35b4164e265cbac26372608?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Karanke", "link": "https://stackoverflow.com/users/5513005/yash-karanke"}, "edited": false, "score": 1, "creation_date": 1557347266, "post_id": 56048481, "comment_id": 98738612, "body": "Can you explain how would one use <code>*</code>?"}], "tags": [], "owner": {"reputation": 3074, "user_id": 7253451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIjsy.jpg?s=128&g=1", "display_name": "G.aziz", "link": "https://stackoverflow.com/users/7253451/g-aziz"}, "is_accepted": true, "score": 4, "last_activity_date": 1557347419, "last_edit_date": 1557347419, "creation_date": 1557346806, "answer_id": 56048481, "question_id": 56048399, "link": "https://stackoverflow.com/questions/56048399/how-to-reduce-import-from-react/56048481#56048481", "title": "How to Reduce import from react", "body": "<p>Images, SVG and those kind of files you cannot use <code>named export</code> the only way is to </p>\n\n<p><strong>import them one by one</strong> </p>\n\n<p>You can use <code>named export {}</code> for example for multiple <code>functions</code> or <code>variables</code> in same file. </p>\n\n<pre><code>export const example = () =&gt; () ; \n</code></pre>\n\n<p>so you can after </p>\n\n<p>import them like :</p>\n\n<pre><code>import {example, example2,example3} from \"./examples\";\n</code></pre>\n\n<p>or using the <code>*</code> to import all the export <code>functions</code> or <code>variables</code> </p>\n\n<pre><code> import * as Foo  from \"./examples\";\n\n const x = Foo.example();\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 9077999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OmTXg.png?s=128&g=1", "display_name": "Mateen Kazia", "link": "https://stackoverflow.com/users/9077999/mateen-kazia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 378, "favorite_count": 0, "accepted_answer_id": 56048481, "answer_count": 1, "score": 2, "last_activity_date": 1557347419, "creation_date": 1557346438, "question_id": 56048399, "link": "https://stackoverflow.com/questions/56048399/how-to-reduce-import-from-react", "title": "How to Reduce import from react", "body": "<p>I'm trying to reduce the amount of imports in my react files, I how do I group the imports so I  can use the { } to get more then one from a file. </p>\n\n<pre><code>  // assets\n  import location from \"../../assets/home/header/location.svg\";\n  import banner from \"../../assets/home/header/banner.jpg\";\n  import delivery from \"../../assets/home/section-a/delivery.svg\";\n  import arrow from \"../../assets/home/section-b/arrow.svg\";\n  import stock1 from \"../../assets/home/section-c/stock-1.jpg\";\n  import stock2 from \"../../assets/home/section-c/stock-2.jpg\";\n  import stock3 from \"../../assets/home/section-c/stock-3.jpg\";\n\n  // components\n  import IconList from \"./IconList\";\n  import Image from \"../../components/Image\";\n  import DisplayCard from \"../../components/CardGroup/DisplayCard\";\n  import ListDetail from \"../../components/CardGroup/ListDetail\";\n  import Slide from \"../../components/Slide/index\";\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "cordova"], "comments": [{"owner": {"reputation": 1537, "user_id": 6702203, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/596141044cac45a2b336c0f8f5c92a82?s=128&d=identicon&r=PG", "display_name": "JM-AGMS", "link": "https://stackoverflow.com/users/6702203/jm-agms"}, "edited": false, "score": 0, "creation_date": 1557350319, "post_id": 56048331, "comment_id": 98739771, "body": "This seems pretty easy, unless I&#39;m missing something. When you login and are provided the version number, then dynamically load the correct JS that is hosted on that server. <code>https:&#47;&#47;www.example.com&#47;scripts&#47;{appVersion}&#47;app.js</code>."}, {"owner": {"reputation": 164, "user_id": 2194601, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/75a949bb9c7bf95bc9992a537cb77845?s=128&d=identicon&r=PG", "display_name": "The mentalist Coder", "link": "https://stackoverflow.com/users/2194601/the-mentalist-coder"}, "reply_to_user": {"reputation": 1537, "user_id": 6702203, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/596141044cac45a2b336c0f8f5c92a82?s=128&d=identicon&r=PG", "display_name": "JM-AGMS", "link": "https://stackoverflow.com/users/6702203/jm-agms"}, "edited": false, "score": 0, "creation_date": 1557379972, "post_id": 56048331, "comment_id": 98746342, "body": "Actually this is a AngularJs application converted to mobile application using Cordova. So there is no version of client that is hosted anywhere.... it\u2019s a hybrid mobile app"}, {"owner": {"reputation": 1537, "user_id": 6702203, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/596141044cac45a2b336c0f8f5c92a82?s=128&d=identicon&r=PG", "display_name": "JM-AGMS", "link": "https://stackoverflow.com/users/6702203/jm-agms"}, "edited": false, "score": 0, "creation_date": 1557409810, "post_id": 56048331, "comment_id": 98762108, "body": "I realize how Cordova works. You can still host your AngularJS code on a server that you control then load the correct version after you login. Similar to how a CDN works."}, {"owner": {"reputation": 164, "user_id": 2194601, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/75a949bb9c7bf95bc9992a537cb77845?s=128&d=identicon&r=PG", "display_name": "The mentalist Coder", "link": "https://stackoverflow.com/users/2194601/the-mentalist-coder"}, "reply_to_user": {"reputation": 1537, "user_id": 6702203, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/596141044cac45a2b336c0f8f5c92a82?s=128&d=identicon&r=PG", "display_name": "JM-AGMS", "link": "https://stackoverflow.com/users/6702203/jm-agms"}, "edited": false, "score": 0, "creation_date": 1557415239, "post_id": 56048331, "comment_id": 98765380, "body": "@JM-AGMS : Actually this AngularJs application is not hosted in any single server. Every customer\u2019s machine has their own separate AngularJs website client hosted and they can be on any version of the server."}], "owner": {"reputation": 164, "user_id": 2194601, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/75a949bb9c7bf95bc9992a537cb77845?s=128&d=identicon&r=PG", "display_name": "The mentalist Coder", "link": "https://stackoverflow.com/users/2194601/the-mentalist-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557346155, "creation_date": 1557346155, "question_id": 56048331, "link": "https://stackoverflow.com/questions/56048331/how-to-trigger-specific-angularjs-uiclient-application-based-on-a-server-call", "title": "How to trigger specific Angularjs UIClient application based on a server call?", "body": "<p>I have an AngularJs application named \"DataUIClient\". Every month after the release of the DataUIClient in production we have a new version of this AngularJs application.</p>\n\n<p>Every version of AngularJs application is tied to specific version of the Server. For example, if the server version is 12.0 then the Angular Application also must be 12.0.</p>\n\n<p>However, According to the new requirement, what I need to do is to convert this AngularJs application as mobile compatible hybrid app using cordova which I have done. Now this converted cordova app, when we plan to host in play store or app store, if user downloads it then it should check the server version (let's say server version is 12.0) and load the appropriate version client (angularjs app which we converted through cordova) i.e. 12.0 version.</p>\n\n<p>I should clarify here that we get to know the version of the server only after successful login into the application.</p>\n\n<p>Now, How do I achieve this ?</p>\n\n<p><strong>Tried Option</strong> : I can keep upto three client versions under one directory structure and try and trigger the latest angularjs application which can define routes to navigate to previous version/s based on the server version.</p>\n\n<p><strong>[outcome]</strong>: The application is so tightly coupled in layers of directives, services and templates that the amount of changes I went through were humongous. That would not solve the problem.</p>\n\n<p>I did look into the option of having multiple roots but there are too many changes involved in re-factoring the application as it is one humongous application.</p>\n"}, {"tags": ["javascript", "arrays", "function"], "comments": [{"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1557346317, "post_id": 56048290, "comment_id": 98738197, "body": "The first problem is that <code>fillSquare()</code> only takes one argument but you are trying to call it with two arrays."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1557348816, "post_id": 56048290, "comment_id": 98739253, "body": "Your loops are fine actually\u2026"}], "answers": [{"comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1557348867, "post_id": 56048446, "comment_id": 98739276, "body": "I think OP wants the function to return new arrays, not mutate the arguments."}, {"owner": {"reputation": 240, "user_id": 6646536, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-X1oD79H5feI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hZ7-2uhoR_L1aewDswh3cr_dwzag/mo/photo.jpg?sz=128", "display_name": "Jacob Thomas", "link": "https://stackoverflow.com/users/6646536/jacob-thomas"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1557349578, "post_id": 56048446, "comment_id": 98739534, "body": "threw in a clone just in case he does."}], "tags": [], "owner": {"reputation": 240, "user_id": 6646536, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-X1oD79H5feI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hZ7-2uhoR_L1aewDswh3cr_dwzag/mo/photo.jpg?sz=128", "display_name": "Jacob Thomas", "link": "https://stackoverflow.com/users/6646536/jacob-thomas"}, "is_accepted": true, "score": 1, "last_activity_date": 1557349555, "last_edit_date": 1557349555, "creation_date": 1557346658, "answer_id": 56048446, "question_id": 56048290, "link": "https://stackoverflow.com/questions/56048290/my-function-does-not-return-the-expected-output-and-i-cant-figure-out-why-can/56048446#56048446", "title": "My function does not return the expected output and I can&#39;t figure out why; can somebody point out something I&#39;m missing?", "body": "<p>When debugging, it seems:</p>\n\n<pre><code>let arrayMatrix = new Array(arr.length).fill(\n   new Array(maxArrayLength).fill(null)\n);\n\n// arrayMatrix[1] == arrayMatrix[0] =&gt; true\n</code></pre>\n\n<p>is only creating 1 array instance. setting 1 value on one sets it on both.</p>\n\n<p>heres how to fix your issue</p>\n\n<pre><code>let arrayMatrix = new Array(arr.length).fill(0).map( _ =&gt; new Array(maxArrayLength).fill(null));\n</code></pre>\n\n<p>this is my version - now immutable</p>\n\n<pre><code>function fillSquare(arr) {\n    let clone = [...arr]\n    let maxDepth = arr.reduce( (c, subarr) =&gt; c = Math.max(c, subarr.length), 0)\n    clone.forEach((subarr, index) =&gt; {\n        let len = clone[index].length;\n        clone[index].length = maxDepth;\n        clone[index].fill(null, len, maxDepth);\n    })\n    return clone;\n}\n</code></pre>\n\n<p>the import notes are you can set the length and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/fill\" rel=\"nofollow noreferrer\">fill</a> the gaps. Also check out <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\" rel=\"nofollow noreferrer\">reduce</a> if you need.</p>\n"}, {"tags": [], "owner": {"reputation": 862, "user_id": 4409834, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-G015Bz1NxeA/AAAAAAAAAAI/AAAAAAAAAEc/3QFP2KQPfyQ/photo.jpg?sz=128", "display_name": "Vishnu", "link": "https://stackoverflow.com/users/4409834/vishnu"}, "is_accepted": false, "score": -2, "last_activity_date": 1557348386, "creation_date": 1557348386, "answer_id": 56048806, "question_id": 56048290, "link": "https://stackoverflow.com/questions/56048290/my-function-does-not-return-the-expected-output-and-i-cant-figure-out-why-can/56048806#56048806", "title": "My function does not return the expected output and I can&#39;t figure out why; can somebody point out something I&#39;m missing?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const fillSquare = function(arr){\r\n  let minLengthArr = arr[0];\r\n  let maxLength = arr[1].length;\r\n  \r\n  if(arr[1].length &lt; arr[0].length){    \r\n    minLengthArr= arr[1];\r\n    maxLength = arr[0].length;\r\n  }\r\n  \r\n  let itemsToPush = maxLength - minLengthArr.length;\r\n  for(let i=0;i&lt;itemsToPush;i++){\r\n    minLengthArr.push(null);\r\n }\r\n  return arr;  \r\n}\r\n\r\nvar r = fillSquare([[1,2,3],[1,2,3,4,5]]);\r\nconsole.log(r);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3, "user_id": 10751840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d24cb9fde53821ddc34343a6021259f1?s=128&d=identicon&r=PG&f=1", "display_name": "TonyDMorris", "link": "https://stackoverflow.com/users/10751840/tonydmorris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "closed_date": 1557348765, "accepted_answer_id": 56048446, "answer_count": 2, "score": -1, "last_activity_date": 1557349555, "creation_date": 1557345981, "last_edit_date": 1557347178, "question_id": 56048290, "link": "https://stackoverflow.com/questions/56048290/my-function-does-not-return-the-expected-output-and-i-cant-figure-out-why-can", "closed_reason": "Duplicate", "title": "My function does not return the expected output and I can&#39;t figure out why; can somebody point out something I&#39;m missing?", "body": "<p>my function has to take 2 arrays and if one of the arrays is shorter than the other it needs to fill in the blanks with nulls.</p>\n\n<p>so i could do this easier now that i think about it but i would really like to know what i have missed.</p>\n\n<p>the specific part of my code is the nested forEach loops i cant understand that when i invoke my function like this </p>\n\n<pre><code>fillSquare([1,2,3],[1,2,3,4,5])\n</code></pre>\n\n<p>I get <code>[[1,2,3,4,5],[1,2,3,4,5]]</code> instead of <code>[[1,2,3,null,null][1,2,3,4,5]]</code></p>\n\n<pre><code>const fillSquare = arr =&gt; {\n  const maxArrayLength = Math.max(\n    ...arr.map(arr =&gt; {\n      return arr.length;\n    })\n  );\n\n\n\n  let arrayMatrix = new Array(arr.length).fill(\n    new Array(maxArrayLength).fill(null)\n  );\n\n  arr.forEach((arry, mainIndex) =&gt; {\n    arry.forEach((item, subIndex) =&gt; {\n      console.log(mainIndex, \"&lt;--main\", \"sub--&gt;\", subIndex, \"=\", item);\n      arrayMatrix[mainIndex][subIndex] = item;\n    });\n  });\n  console.log(arrayMatrix);\n  return arrayMatrix;\n};\n\n</code></pre>\n"}, {"tags": ["javascript", "ecmascript-6"], "comments": [{"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 3, "creation_date": 1557346062, "post_id": 56048287, "comment_id": 98738088, "body": "In the first line, <code>this.validate</code> is a function that is not being immediately invoked or called. It&#39;s being stored for later. The code says &quot;when clicked, I want you to call <code>this.validate</code>&quot;. In the example on line 2, that&#39;s a totally different context. There, you actually want to call it because its return value is being evaluated as part of a boolean expression rather than stored for later use. Line three says, &quot;is the key equal to &quot;Enter&quot; and is this function definition truthy?&quot; which doesn&#39;t make sense here (although you may want to ask whether a function var is defined, i.e. truthy)."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1557347349, "post_id": 56048287, "comment_id": 98738653, "body": "@yury I&#39;m not sure if this duplicate is appropriate. Yes it is definetly a good read for the OP, however we might benefit from an answer taking JS / React into account. That the answer below received two upvotes is a clear indicator of that."}], "answers": [{"comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1557347162, "post_id": 56048519, "comment_id": 98738560, "body": "Nothing is coerced into a boolean though."}, {"owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1557348099, "post_id": 56048519, "comment_id": 98738966, "body": "Well, I was just trying to explain the algorithm on a high-level. Of <i>course</i> &quot;coercion&quot; and &quot;cast&quot; are not <i>exactly</i> true, IMO but they explain what&#39;s happening."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1557348174, "post_id": 56048519, "comment_id": 98738994, "body": "No, thats not happening at all. Functions are just truthy. Nothing is casted or coerced into a boolean. Actually if <code>e.key === &quot;Enter&quot;</code> is truthy, the last part will just be evaluated and returned."}], "tags": [], "owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "is_accepted": false, "score": 3, "last_activity_date": 1557347179, "last_edit_date": 1557347179, "creation_date": 1557347020, "answer_id": 56048519, "question_id": 56048287, "link": "https://stackoverflow.com/questions/56048287/when-to-use-parentheses-after-function-name-call-es6/56048519#56048519", "title": "When to use parentheses after function name call (es6)", "body": "<p><code>onClick</code> is an attribute that takes a function - under the hood, React, when receiving <code>&lt;some-element onClick={someFunction}/&gt;</code>, saves <code>someFunction</code> for later (notice that it doesn't <em>call</em> the function), and <em>then calls</em> the function when the user clicks. Note that you can rewrite this as <code>&lt;some-element onClick={(...args) =&gt; someFunction(...args)}/&gt;</code>, if that makes more sense to you.</p>\n\n<p>Now here's what happens when the user presses on an element where <code>onKeyPress={e =&gt; e.key === 'Enter' &amp;&amp; this.validate()}</code> is present:</p>\n\n<ol>\n<li>The function <code>e =&gt; e.key === 'Enter' &amp;&amp; this.validate()</code> is called</li>\n<li><code>e.key === 'Enter' &amp;&amp; this.validate()</code> is evaluated</li>\n<li><code>e.key === 'Enter'</code> is evaluated. If it evaluates to <code>true</code>, then:</li>\n<li><code>this.validate()</code> is called and evaluated as a boolean</li>\n</ol>\n\n<p>Notice how it is slighly different than when <code>onKeyPress={e =&gt; e.key === 'Enter' &amp;&amp; this.validate}</code> is written instead:</p>\n\n<ol>\n<li>The function <code>e =&gt; e.key === 'Enter' &amp;&amp; this.validate</code> is called</li>\n<li><code>e.key === 'Enter' &amp;&amp; this.validate</code> is evaluated</li>\n<li><code>e.key === 'Enter'</code> is evaluated. If it evaluates to <code>true</code>, then:</li>\n<li><code>this.validate</code> is evaluated as a boolean. If the function exists, it is coerced into the boolean <code>true</code>, else <code>this.validate</code> evaluates to <code>undefined</code>, which is coerced into the boolean <code>false</code>. Notice how <code>this.validate</code> <em>did not get called</em>. I'd regard this as a bug, except if you expressively want this behavior to happen.</li>\n</ol>\n"}], "owner": {"reputation": 377, "user_id": 6291285, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/338e6eb1a70f2961f24d69ba2ec7071c?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/6291285/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "closed_date": 1557347078, "answer_count": 1, "score": -2, "last_activity_date": 1557347179, "creation_date": 1557345967, "last_edit_date": 1557346998, "question_id": 56048287, "link": "https://stackoverflow.com/questions/56048287/when-to-use-parentheses-after-function-name-call-es6", "closed_reason": "Duplicate", "title": "When to use parentheses after function name call (es6)", "body": "<p>I am wondering why some function calls work without parentheses? How do you know when it is appropriate not to use parentheses after function name? See example below. Why doesn't the 3rd line not work?</p>\n\n<pre><code>onClick={this.validate} // why does function work here without parentheses?\nonKeyPress={e =&gt; e.key === 'Enter' &amp;&amp; this.validate()} // works\nonKeyPress={e =&gt; e.key === 'Enter' &amp;&amp; this.validate} // doesn't work\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 1035, "user_id": 5471957, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9ab5dd64f5bb608b4a5c788135931350?s=128&d=identicon&r=PG&f=1", "display_name": "SpeedOfRound", "link": "https://stackoverflow.com/users/5471957/speedofround"}, "edited": false, "score": 0, "creation_date": 1557345703, "post_id": 56048210, "comment_id": 98737942, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/Window/localStorage</a>"}, {"owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "edited": false, "score": 4, "creation_date": 1557346025, "post_id": 56048210, "comment_id": 98738073, "body": "<b><i>SECURITY ADVICE</i></b>: do <b><i>not</i></b> store JWT inside <code>localStorage</code> or <code>sessionStorage</code>, use HTTP-only cookies instead (<a href=\"https://stackoverflow.com/questions/44133536/is-it-safe-to-store-a-jwt-in-localstorage-with-reactjs\">1</a>, <a href=\"https://dev.to/rdegges/please-stop-using-local-storage-1i04\" rel=\"nofollow noreferrer\">2</a>, <a href=\"https://security.stackexchange.com/questions/175783/is-the-owasp-recommendation-regarding-localstorage-still-valid\">3</a>)"}], "answers": [{"tags": [], "owner": {"reputation": 734, "user_id": 3328466, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J8ZO5.jpg?s=128&g=1", "display_name": "Josh Sanger", "link": "https://stackoverflow.com/users/3328466/josh-sanger"}, "is_accepted": true, "score": 2, "last_activity_date": 1557349105, "last_edit_date": 1557349105, "creation_date": 1557346691, "answer_id": 56048457, "question_id": 56048210, "link": "https://stackoverflow.com/questions/56048210/how-to-store-and-retrieve-a-string-from-local-browser-storage-in-react-app/56048457#56048457", "title": "How to store and retrieve a string from local browser storage in react app?", "body": "<p>When the component mounts or in the constructor, you can check to see if the user's browser has this data already using <code>localstorage.getItem('webToken')</code> and/or set it using <code>localstorage.setItem('webToken', token)</code>. To clear it on logout you could remove it by using <code>localstorage.removeItem('webToken')</code>.</p>\n\n<p>See <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\" rel=\"nofollow noreferrer\">local storage docs</a></p>\n\n<p>It should be noted that users may not click log out, but instead just leave or close the page. This means it is possible that the local storage item will persist on the next page load. Since local storage does not expire, this could pose potential issues.</p>\n"}], "owner": {"reputation": 381, "user_id": 10974990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LLk12.png?s=128&g=1", "display_name": "PatMan10", "link": "https://stackoverflow.com/users/10974990/patman10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 56048457, "answer_count": 1, "score": 0, "last_activity_date": 1557349105, "creation_date": 1557345641, "question_id": 56048210, "link": "https://stackoverflow.com/questions/56048210/how-to-store-and-retrieve-a-string-from-local-browser-storage-in-react-app", "title": "How to store and retrieve a string from local browser storage in react app?", "body": "<p>I'm new to react and I wanna know how to store a string like a JSON Web Token in the browser after user logs in...?</p>\n\n<p>And also how to remove when user logs out?</p>\n"}, {"tags": ["javascript", "stripe-payments", "nock"], "answers": [{"tags": [], "owner": {"reputation": 5115, "user_id": 602210, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/637a0e1f50816d88828e0db32918a9fb?s=128&d=identicon&r=PG", "display_name": "Zack Shapiro", "link": "https://stackoverflow.com/users/602210/zack-shapiro"}, "is_accepted": false, "score": 0, "last_activity_date": 1557346796, "creation_date": 1557346796, "answer_id": 56048475, "question_id": 56048200, "link": "https://stackoverflow.com/questions/56048200/nock-is-not-intercepting-the-request-in-my-test/56048475#56048475", "title": "Nock is not intercepting the request in my test", "body": "<p>The issue was housing this in the function <code>const productNock = (productId) =&gt; {</code></p>\n\n<p>Just having this with a stubbed productId in my <code>test.before</code> function got it working.</p>\n\n<pre><code>baseNock\n  .get(`/v1/products/product_123456`)\n  .reply('200', getTestStripeProduct(productId));\n</code></pre>\n\n<p>I hope that helps someone out!</p>\n"}], "owner": {"reputation": 5115, "user_id": 602210, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/637a0e1f50816d88828e0db32918a9fb?s=128&d=identicon&r=PG", "display_name": "Zack Shapiro", "link": "https://stackoverflow.com/users/602210/zack-shapiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 364, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557346796, "creation_date": 1557345589, "last_edit_date": 1557346337, "question_id": 56048200, "link": "https://stackoverflow.com/questions/56048200/nock-is-not-intercepting-the-request-in-my-test", "title": "Nock is not intercepting the request in my test", "body": "<p>At the beginning of my test file, I set up my nocks, one of them being:</p>\n\n<pre><code>test.before(async () =&gt; {\n  const baseNock = nock('https://api.stripe.com');\n  const productNock = (productId) =&gt; {\n    return baseNock\n      .get(`/v1/products/${productId}`)\n      .reply('200', getTestStripeProduct(productId));\n  };\n</code></pre>\n\n<p>Then in my test, when I hit my internal API endpoint which calls <code>api.stripe.com/v1/products/{id}</code>, it should hit my <code>productNock</code>. However, I don't get the value of <code>getTestStripeProduct(productId)</code> I'm logging a value inside of that function before the object returns.</p>\n\n<p>What am I missing here? Thanks </p>\n\n<p>Edit:</p>\n\n<p>I've tried moving the declaration of <code>baseNock</code> and <code>productNock</code> into my test itself with no additional luck</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 1, "creation_date": 1557345670, "post_id": 56048142, "comment_id": 98737925, "body": "You could send a Set along of values you already handled / verified?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557345753, "post_id": 56048142, "comment_id": 98737964, "body": "That will allow you to halt the infinite recursion, but will you be able to tell if the circular object is at the same place in both arguments?"}, {"owner": {"reputation": 827, "user_id": 9627490, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D-94VTM7p3E/AAAAAAAAAAI/AAAAAAAALHo/gWB3KoqdEYE/photo.jpg?sz=128", "display_name": "John John", "link": "https://stackoverflow.com/users/9627490/john-john"}, "reply_to_user": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1557345774, "post_id": 56048142, "comment_id": 98737976, "body": "@Icepickle I don&#39;t quite get it"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557345890, "post_id": 56048142, "comment_id": 98738025, "body": "<a href=\"https://stackoverflow.com/a/17121110/1491895\">this answer</a> claims that the <code>_.isEqual()</code> function in underscore.js will do this. However, the documentation doesn&#39;t say so."}, {"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557345907, "post_id": 56048142, "comment_id": 98738030, "body": "@Barmar I haven&#39;t read that much of the question yet \ud83e\udd23 i was only checking the recursion part"}, {"owner": {"reputation": 827, "user_id": 9627490, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D-94VTM7p3E/AAAAAAAAAAI/AAAAAAAALHo/gWB3KoqdEYE/photo.jpg?sz=128", "display_name": "John John", "link": "https://stackoverflow.com/users/9627490/john-john"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557345972, "post_id": 56048142, "comment_id": 98738054, "body": "@Barmar is there a way to implement it in plain JavaScript ?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557346088, "post_id": 56048142, "comment_id": 98738100, "body": "Of course there is. Underscore.js is written in plain JavaScript, so look at how it does it."}, {"owner": {"reputation": 827, "user_id": 9627490, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D-94VTM7p3E/AAAAAAAAAAI/AAAAAAAALHo/gWB3KoqdEYE/photo.jpg?sz=128", "display_name": "John John", "link": "https://stackoverflow.com/users/9627490/john-john"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557346195, "post_id": 56048142, "comment_id": 98738155, "body": "@Barmar I never did it before. I will try to look it up .OMG ;)"}, {"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1557346683, "post_id": 56048142, "comment_id": 98738337, "body": "What is actually the output you expect, <code>true</code> in the above case? Do you just want to know if your code has circular references? I am just asking, because the 2 parameters you are given are not really equal, they are just similar"}, {"owner": {"reputation": 827, "user_id": 9627490, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D-94VTM7p3E/AAAAAAAAAAI/AAAAAAAALHo/gWB3KoqdEYE/photo.jpg?sz=128", "display_name": "John John", "link": "https://stackoverflow.com/users/9627490/john-john"}, "reply_to_user": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1557347086, "post_id": 56048142, "comment_id": 98738527, "body": "@Icepickle I need true or false. I will adjust the input to get <code>true</code>"}, {"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1557347213, "post_id": 56048142, "comment_id": 98738589, "body": "So, if I get it right, as soon as exactly part of your input is true, it should be true?"}, {"owner": {"reputation": 827, "user_id": 9627490, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D-94VTM7p3E/AAAAAAAAAAI/AAAAAAAALHo/gWB3KoqdEYE/photo.jpg?sz=128", "display_name": "John John", "link": "https://stackoverflow.com/users/9627490/john-john"}, "reply_to_user": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1557347356, "post_id": 56048142, "comment_id": 98738658, "body": "@Icepickle yes , as long as two object are equak it should return <code>true</code>"}], "answers": [{"comments": [{"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 1, "creation_date": 1557346862, "post_id": 56048468, "comment_id": 98738419, "body": "Couldn&#39;t you include <code>Set</code> and <code>Array.isArray</code> in your answer? :) I like the depth of your answer, but I would also venture to use <code>===</code> versus <code>==</code>. And I think there is a small typo for <code>var b = {foo: bar]</code>"}, {"owner": {"reputation": 12931, "user_id": 436976, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ca5523dd495f8c0a6a6b20db65db2ef4?s=128&d=identicon&r=PG", "display_name": "stevendesu", "link": "https://stackoverflow.com/users/436976/stevendesu"}, "reply_to_user": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1557347010, "post_id": 56048468, "comment_id": 98738498, "body": "I actually haven&#39;t worked with <code>Set</code> before, so without doing some Googling I couldn&#39;t include it :) Although <code>Array.isArray</code> is definitely worth adding, because once you start using <code>typeof</code> to check for <code>object</code> you need a way to differentiate between arrays and objects before you compare them. I&#39;ll be sure to add that."}, {"owner": {"reputation": 827, "user_id": 9627490, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D-94VTM7p3E/AAAAAAAAAAI/AAAAAAAALHo/gWB3KoqdEYE/photo.jpg?sz=128", "display_name": "John John", "link": "https://stackoverflow.com/users/9627490/john-john"}, "edited": false, "score": 0, "creation_date": 1557347273, "post_id": 56048468, "comment_id": 98738616, "body": "@stevendesu answering to your question regarding usage of the existing libraries like deep-equal. I need to implement it in plain JS"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1557348099, "post_id": 56048468, "comment_id": 98738965, "body": "<code>objectsWeveSeen = new Set;</code>, then <code>objectsWeveSeen.add(someObj)</code> and <code>objectsWeveSeen.has(someObj)</code>. That will greatly reduce time complexity. Otherwise great answer."}, {"owner": {"reputation": 827, "user_id": 9627490, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D-94VTM7p3E/AAAAAAAAAAI/AAAAAAAALHo/gWB3KoqdEYE/photo.jpg?sz=128", "display_name": "John John", "link": "https://stackoverflow.com/users/9627490/john-john"}, "edited": false, "score": 0, "creation_date": 1557348764, "post_id": 56048468, "comment_id": 98739232, "body": "@stevendesu <code>Object.prototype.toString</code> this hack is borrowed from MDN documentation  - section <code>Using toString() to detect object class</code>.  Your answer is a working solution . But to tell you the truth I have to digest it before full understanding. Thank you for your effort!"}], "tags": [], "owner": {"reputation": 12931, "user_id": 436976, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ca5523dd495f8c0a6a6b20db65db2ef4?s=128&d=identicon&r=PG", "display_name": "stevendesu", "link": "https://stackoverflow.com/users/436976/stevendesu"}, "is_accepted": false, "score": 4, "last_activity_date": 1557349463, "last_edit_date": 1557349463, "creation_date": 1557346760, "answer_id": 56048468, "question_id": 56048142, "link": "https://stackoverflow.com/questions/56048142/comparing-circular-self-referenced-objects-in-javascript/56048468#56048468", "title": "Comparing circular (self-referenced) objects in JavaScript", "body": "<h2>Before we begin</h2>\n\n<p>Is there a reason you aren't using an existing library like <a href=\"https://www.npmjs.com/package/deep-equal\" rel=\"nofollow noreferrer\">deep-equal</a>? Sometimes it's easier to use code that's already written for you than to write it yourself</p>\n\n<h2>Now fixing a few simple issues in the code</h2>\n\n<p>For starters, utilizing <code>Object.prototype.toString</code> to determine the type feels like a hack, and might risk bugs in the future if different browsers implement the <code>toString</code> method differently. If someone knows whether or not the <code>toString</code> method's return value is explicitly defined in the ECMAScript specification, please chime in. Otherwise, I would avoid this hack, because JavaScript provides a perfect alternative: <code>typeof</code> <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/typeof\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/typeof</a></p>\n\n<p>Interestingly <code>typeof value</code> will return the same for both objects <strong><em>and</em></strong> arrays, because as far as ECMAScript is concerned, arrays are a subclass of objects. Therefore your later comparison for <code>[Object object]</code> and <code>[Object Array]</code> can be simplified to just checking the type for <code>object</code></p>\n\n<p>Once you start using <code>typeof value</code> instead of <code>Object.prototype.toString.apply(value)</code>, you will need a way to differentiate objects from arrays for comparison. For this purpose, you can use <code>Array.isArray</code></p>\n\n<h2>On to the meat of the problem</h2>\n\n<p>Now regarding self-references, the issue you're referring to is a <strong><em>cycle</em></strong>. A simple cycle would be:</p>\n\n<pre><code>var a = {};\na.foo = a;\n</code></pre>\n\n<p>This creates the cycle: <code>a.foo.foo.foo.foo.foo.... == a</code></p>\n\n<p>There is a nice way to check if two references point to the same object in JavaScript, which is good for determining when equality is <strong><em>true</em></strong>, but it won't help in the case when equality is <strong><em>false</em></strong>. To check if two references point to the same object, just use the <code>==</code> operator! This returns <code>true</code> is the objects point to the exact same instance in memory. For instance:</p>\n\n<pre><code>var a = {foo: \"bar\"}\nvar b = {foo: \"bar\"}\nvar c = a;\n\na == b; // false\na == c; // true\nb == c; // false\n</code></pre>\n\n<p>So you can trivially see if two references are the same by checking that <code>item1 == item2</code></p>\n\n<p>But when they <strong><em>don't</em></strong> equal, you will still do a <code>complexCompare</code>, which will dive into each self-reference, and will have the same stack overflow. To resolve this, you need a way to detect cycles. As with deep equality, <a href=\"https://www.npmjs.com/package/cycle\" rel=\"nofollow noreferrer\">there are libraries for this</a>, but for intellectual reasons we'll see if we can recreate them.</p>\n\n<p>To do this, we need to remember <strong><em>every other object we've seen</em></strong>, and compare with them as we recurse. A simple solution might look like:</p>\n\n<pre><code>var objectsWeveSeen = [];\n\nfunction decycle(obj) {\n    for (var key in obj) {\n        if (typeof obj[key] == \"object\") {\n            for (var i = 0; i &lt; objectsWeveSeen.length; i++) {\n                if (objectsWeveSeen[i] == obj[key]) {\n                    obj[key] = \"CYCLE! -- originally seen at index \" + i;\n                }\n            }\n            objectsWeveSeen.push(obj[key]);\n        }\n    }\n}\n</code></pre>\n\n<p>(NOTE: This decycle function is destructive. It modifies the original object. Also, this decycle function isn't recursive, so it actually sucks. But it at least gives you the general idea and you can try to write your own, or look at how others have done it)</p>\n\n<p>We could then pass an object to it like so:</p>\n\n<pre><code>var a = {foo: {}};\na.baz = a.foo;\nconsole.log(decycle(a));\n// Outputs: {foo: {}, baz: \"CYCLE! -- originally seen at index 0\"}\n</code></pre>\n\n<p>Since this object lacks cycles, you can now perform your complex comparison on it:</p>\n\n<pre><code>complexCompare(decycle(a));\n</code></pre>\n\n<p>Of course there are still some edge cases to consider. Are two <code>Date</code> objects equivalent if they reference the same time, but have different timezones? Does <code>null</code> equal <code>null</code>? And my simple decycle algorithm fails to account for a reference to the <strong><em>root</em></strong> object, it only remembers all <strong><em>keys</em></strong> that it has seen (although this should be simple for you to add if you think about it)</p>\n\n<h2>A not-quite-perfect but working-on-it solution</h2>\n\n<p>I haven't written out a perfect deep-equals implementation for two reasons:</p>\n\n<ol>\n<li>I feel like writing code is the best way to learn, not copying and pasting it from others</li>\n<li>I'm sure there are edge cases I'm not thinking about (which is the reason you should use a battle-tested library like Lodash instead of writing your own code) and by admitting that this is an incomplete solution instead of selling it as what it isn't, you will be encouraged to go find someone who has written a more complete answer</li>\n</ol>\n\n<pre><code>function complexCompare(value, other) {\n    var objectsWeveSeen = [];\n    function nonDestructiveDecycle(obj) {\n        var newObj = {};\n        for (var key in obj) {\n            newObj[key] = obj[key];\n            if (typeof obj[key] == \"object\") {\n                for (var i = 0; i &lt; objectsWeveSeen.length; i++) {\n                    if (objectsWeveSeen[i] == obj[key]) {\n                        newObj[key] = \"CYCLE! -- originally seen at index \" + i;\n                        break;\n                    }\n                }\n                objectsWeveSeen.push(obj[key]);\n            }\n        }\n        return newObj;\n    }\n\n    var type = typeof value;\n    if (type !== typeof other) return false;\n\n    if (type !== \"object\") return value === other;\n\n    if (Array.isArray(value)) {\n        if (!Array.isArray(other)) return false;\n\n        if (value.length !== other.length) return false;\n\n        for (var i = 0; i &lt; value.length; i++) {\n            if (!complexCompare(value[i], other[i])) return false;\n        }\n\n        return true;\n    }\n\n    // TODO: Handle other \"object\" types, like Date\n\n    // Now we're dealing with JavaScript Objects...\n    var decycledValue = nonDestructiveDecycle(value);\n    var decycleOther = nonDestructiveDecycle(other);\n\n    for (var key in value) {\n        if (!complexCompare(decycledValue[key], decycleOther[key])) return false;\n    }\n\n    return true;\n}\n</code></pre>\n\n<h2>Update</h2>\n\n<p>In response to comments:</p>\n\n<h3><code>==</code> versus <code>===</code></h3>\n\n<p><code>==</code> performs a \"loose\" comparison between two variables. For instance, <code>3 == \"3\"</code> will return true. <code>===</code> performs a \"strict\" comparison between two variables. So <code>3 === \"3\"</code> will return false. In our case, you can use whichever you prefer and there should be no difference in the outcome, because:</p>\n\n<ul>\n<li><code>typeof</code> always returns a string. Therefore <code>typeof x == typeof y</code> is the exact same as <code>typeof x === typeof y</code></li>\n<li>If you check that two variables are the same type <strong>before</strong> you compare their values, you should never run into one of the edge cases where <code>==</code> and <code>===</code> return different results. For instance, <code>0 == false</code> but <code>typeof 0 != typeof false</code> (<code>0</code> is a \"number\" and <code>false</code> is a \"boolean\")</li>\n</ul>\n\n<p>I stuck with <code>==</code> for my examples because I felt like it would be more familiar to avoid any confusion between the two</p>\n\n<h3><code>[]</code> versus <code>Set</code></h3>\n\n<p>I took a look at using <code>Set</code> to re-write <code>decycle</code> and quickly ran into an issue. You can use <code>Set</code> to detect if there <strong><em>is</em></strong> a cycle, but you can't trivially use it to detect that two cycles are identical. Notice that in my <code>decycle</code> method that I replace a cycle with the string <code>CYCLE! -- originally seen at index X</code>. The reason for this \"at index X\" is because it tell you <strong><em>which</em></strong> object was referenced. Instead of just having \"some object we've seen before\", we have \"THAT object that we've seen before\". Now if two objects reference the same one, we can detect that (because the strings will be equal, having the same index). If two objects reference <strong>different</strong> ones, we will detect that as well (because the strings will not be equal)</p>\n\n<p>There is, however, a problem with my solution. Consider the following:</p>\n\n<pre><code>var a = {};\na.foo = a;\n\nvar b = {};\nb.foo = b;\n\nvar c = {};\nc.foo = a;\n</code></pre>\n\n<p>In this case my code would claim <code>a</code> and <code>c</code> are equal (because they both reference the same object) but <code>a</code> and <code>b</code> are <strong>not</strong> (because even though they have the same values, same patterns, and same structures - they reference different objects)</p>\n\n<p>A better solution may be to replace the \"index\" (a number representing the order in which we found the objects) with \"path\" (a string representing how to reach the object)</p>\n\n<pre><code>var objectsWeveSeen = []\n\nfunction nonDestructiveRecursiveDecycle(obj, path) {\n    var newObj = {};\n    for (var key in obj) {\n        var newPath = path + \".\" + key;\n        newObj[key] = obj[key];\n        if (typeof obj[key] == \"object\") {\n            for (var i = 0; i &lt; objectsWeveSeen.length; i++) {\n                if (objectsWeveSeen[i].obj == obj[key]) {\n                    newObj[key] = \"$ref:\" + objectsWeveSeen[i].path;\n                    break;\n                }\n            }\n            if (typeof newObj[key] != \"string\") {\n                objectsWeveSeen.push({obj: obj[key], path: newPath});\n                newObj[key] = nonDestructiveRecursiveDecycle(obj[key], newPath);\n            }\n        }\n    }\n    return newObj;\n}\n\nvar decycledValue = nonDestructiveRecursiveDecycle(value, \"@root\");\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 827, "user_id": 9627490, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D-94VTM7p3E/AAAAAAAAAAI/AAAAAAAALHo/gWB3KoqdEYE/photo.jpg?sz=128", "display_name": "John John", "link": "https://stackoverflow.com/users/9627490/john-john"}, "edited": false, "score": 0, "creation_date": 1557348811, "post_id": 56048606, "comment_id": 98739252, "body": "Thank you for your contribution it helps a lot !"}], "tags": [], "owner": {"reputation": 101, "user_id": 3235580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d00fec4a8083c11ff79e92128ac397ee?s=128&d=identicon&r=PG", "display_name": "increscent", "link": "https://stackoverflow.com/users/3235580/increscent"}, "is_accepted": true, "score": 2, "last_activity_date": 1557347406, "creation_date": 1557347406, "answer_id": 56048606, "question_id": 56048142, "link": "https://stackoverflow.com/questions/56048142/comparing-circular-self-referenced-objects-in-javascript/56048606#56048606", "title": "Comparing circular (self-referenced) objects in JavaScript", "body": "<p>I like @stevendesu's response. He addresses the problem of the circular structure well. I wrote up a solution using your code that might be helpful as well.</p>\n\n<pre><code>const equalsComplex = function(value, other, valueRefs, otherRefs) {\n  valueRefs = valueRefs || [];\n  otherRefs = otherRefs || [];\n\n  // Get the value type\n  const type = Object.prototype.toString.call(value);\n\n  // If the two objects are not the same type, return false\n  if (type !== Object.prototype.toString.call(other)) return false;\n\n  // If items are not an object or array, return false\n  if (['[object Array]', '[object Object]'].indexOf(type) &lt; 0) return false;\n\n  // We know that the items are objects or arrays, so let's check if we've seen this reference before.\n  // If so, it's a circular reference so we know that the branches match. If both circular references\n  // are in the same index of the list then they are equal.\n  valueRefIndex = valueRefs.indexOf(value);\n  otherRefIndex = otherRefs.indexOf(other);\n  if (valueRefIndex == otherRefIndex &amp;&amp; valueRefIndex &gt;= 0) return true;\n  // Add the references into the list\n  valueRefs.push(value);\n  otherRefs.push(other);\n\n  // Compare the length of the length of the two items\n  const valueLen =\n    type === '[object Array]' ? value.length : Object.keys(value).length;\n  const otherLen =\n    type === '[object Array]' ? other.length : Object.keys(other).length;\n  if (valueLen !== otherLen) return false;\n\n  // Compare two items\n  const compare = function(item1, item2) {\n    // Get the object type\n    const itemType = Object.prototype.toString.call(item1);\n\n    // If an object or array, compare recursively\n    if (['[object Array]', '[object Object]'].indexOf(itemType) &gt;= 0) {\n      if (!equalsComplex(item1, item2, valueRefs.slice(), otherRefs.slice())) return false;\n    }\n\n    // Otherwise, do a simple comparison\n    else {\n      // If the two items are not the same type, return false\n      if (itemType !== Object.prototype.toString.call(item2)) return false;\n\n      // Else if it's a function, convert to a string and compare\n      // Otherwise, just compare\n      if (itemType === '[object Function]') {\n        if (item1.toString() !== item2.toString()) return false;\n      } else {\n        if (item1 !== item2) return false;\n      }\n    }\n  };\n\n  // Compare properties\n  if (type === '[object Array]') {\n    for (let i = 0; i &lt; valueLen; i++) {\n      if (compare(value[i], other[i]) === false) return false;\n    }\n  } else {\n    for (let key in value) {\n      if (value.hasOwnProperty(key)) {\n        if (compare(value[key], other[key]) === false) return false;\n      }\n    }\n  }\n\n  // If nothing failed, return true\n  return true;\n};\nconst r = { a: 1 };\nr.b = {c: r};\nconst d = { a: 1 };\nd.b = {c: d};\n\nconsole.log(\n  equalsComplex(\n    {\n      a: 2,\n      b: '2',\n      c: false,\n      g: [\n        { a: { j: undefined } },\n        { a: 2, b: '2', c: false, g: [{ a: { j: undefined } }] },\n        r\n      ]\n    },\n    {\n      a: 2,\n      b: '2',\n      c: false,\n      g: [\n        { a: { j: undefined } },\n        { a: 2, b: '2', c: false, g: [{ a: { j: undefined } }] },\n        d\n      ]\n    }\n  )\n);\n</code></pre>\n\n<p>Basically, you keep track of the references to objects and arrays that you have seen so far in each branch (the slice() method makes a shallow copy of the array of references). Then, every time you see an object or an array you check your history of references to see if it's a circular reference. If so, you make sure both circular references point to the same part of the history (this is important because both circular references might point to different places in the object structures).</p>\n\n<p>I would recommend using a library for this since I haven't deeply tested my code, but there's a simple solution for you.</p>\n"}], "owner": {"reputation": 827, "user_id": 9627490, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D-94VTM7p3E/AAAAAAAAAAI/AAAAAAAALHo/gWB3KoqdEYE/photo.jpg?sz=128", "display_name": "John John", "link": "https://stackoverflow.com/users/9627490/john-john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 525, "favorite_count": 0, "accepted_answer_id": 56048606, "answer_count": 2, "score": 2, "last_activity_date": 1557509032, "creation_date": 1557345323, "last_edit_date": 1557509032, "question_id": 56048142, "link": "https://stackoverflow.com/questions/56048142/comparing-circular-self-referenced-objects-in-javascript", "title": "Comparing circular (self-referenced) objects in JavaScript", "body": "<p>I am comparing two objects that contains values as <code>string</code>, <code>number</code>, <code>array</code> and <code>object</code>. To this point there is no problem. When I am trying to compare self-referenced objects I am getting the following error <code>RangeError: Maximum call stack size exceeded</code>. Self-referenced objects should be considered equal if they are referenced to the same level of the other object. My question is how to implement it. Here is my code :</p>\n\n<pre><code>const equalsComplex = function(value, other) {\n  // Get the value type\n  const type = Object.prototype.toString.call(value);\n\n  // If the two objects are not the same type, return false\n  if (type !== Object.prototype.toString.call(other)) return false;\n\n  // If items are not an object or array, return false\n  if (['[object Array]', '[object Object]'].indexOf(type) &lt; 0) return false;\n\n  // Compare the length of the length of the two items\n  const valueLen =\n    type === '[object Array]' ? value.length : Object.keys(value).length;\n  const otherLen =\n    type === '[object Array]' ? other.length : Object.keys(other).length;\n  if (valueLen !== otherLen) return false;\n\n  // Compare two items\n  const compare = function(item1, item2) {\n    // Get the object type\n    const itemType = Object.prototype.toString.call(item1);\n\n    // If an object or array, compare recursively\n    if (['[object Array]', '[object Object]'].indexOf(itemType) &gt;= 0) {\n      if (!equalsComplex(item1, item2)) return false;\n    }\n\n    // Otherwise, do a simple comparison\n    else {\n      // If the two items are not the same type, return false\n      if (itemType !== Object.prototype.toString.call(item2)) return false;\n\n      // Else if it's a function, convert to a string and compare\n      // Otherwise, just compare\n      if (itemType === '[object Function]') {\n        if (item1.toString() !== item2.toString()) return false;\n      } else {\n        if (item1 !== item2) return false;\n      }\n    }\n  };\n\n  // Compare properties\n  if (type === '[object Array]') {\n    for (let i = 0; i &lt; valueLen; i++) {\n      if (compare(value[i], other[i]) === false) return false;\n    }\n  } else {\n    for (let key in value) {\n      if (value.hasOwnProperty(key)) {\n        if (compare(value[key], other[key]) === false) return false;\n      }\n    }\n  }\n\n  // If nothing failed, return true\n  return true;\n};\nconst r = { a: 1 };\nr.b = r;\nconst d = { a: 1 };\nd.b = d;\n\nconsole.log(\n  equalsComplex(\n    {\n      a: 2,\n      b: '2',\n      c: false,\n      g: [\n        { a: { j: undefined } },\n        { a: 2, b: '2', c: false, g: [{ a: { j: undefined } }] },\n        r\n      ]\n    },\n    {\n      a: 2,\n      b: '2',\n      c: false,\n      g: [\n        { a: { j: undefined } },\n        { a: 2, b: '2', c: false, g: [{ a: { j: undefined } }] },\n        r\n      ]\n    }\n  )\n);\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 2, "creation_date": 1557345328, "post_id": 56048129, "comment_id": 98737824, "body": "So just always call <code>.toString()</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 12931, "user_id": 436976, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ca5523dd495f8c0a6a6b20db65db2ef4?s=128&d=identicon&r=PG", "display_name": "stevendesu", "link": "https://stackoverflow.com/users/436976/stevendesu"}, "is_accepted": true, "score": 3, "last_activity_date": 1557346947, "last_edit_date": 1557346947, "creation_date": 1557345408, "answer_id": 56048157, "question_id": 56048129, "link": "https://stackoverflow.com/questions/56048129/convert-number-to-string-returns-empty-if-number-0/56048157#56048157", "title": "convert number to string returns empty if number 0", "body": "<p>Because 0 is \"false-y\" in JavaScript, as you've already figured out, you can't utilized it in a conditional. Instead, ask yourself what the conditional is <strong><em>really</em></strong> trying to solve.</p>\n\n<p>Are you worried about null / undefined values? Perhaps this is better:</p>\n\n<pre><code>const num = (typeof this.str !== \"undefined\" &amp;&amp; this.str !== null) ? this.str.toString() : \"\";\n</code></pre>\n\n<p>Odds are you really only care if <code>this.str</code> is a <strong><code>Number</code></strong>, and in all other cases want to ignore it. What if <code>this.str</code> is a <code>Date</code>, or an <code>Array</code>? Both <code>Date</code> and <code>Array</code> have a <code>.toString()</code> method, which means you may have some weird bugs crop up if one slips into your function unexpectedly.</p>\n\n<p>So a better solution may be:</p>\n\n<pre><code>const num = (typeof this.str === \"number\") ? this.str.toString() : \"\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 626, "user_id": 9860461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aff28ffeee344dbe7d9e640d8d041e4f?s=128&d=identicon&r=PG&f=1", "display_name": "Observablerxjs", "link": "https://stackoverflow.com/users/9860461/observablerxjs"}, "is_accepted": false, "score": 2, "last_activity_date": 1557346563, "creation_date": 1557346563, "answer_id": 56048428, "question_id": 56048129, "link": "https://stackoverflow.com/questions/56048129/convert-number-to-string-returns-empty-if-number-0/56048428#56048428", "title": "convert number to string returns empty if number 0", "body": "<p>You can also put your code in a try catch block </p>\n\n<pre><code>const num = ''\ntry {\n  num = this.str.toString();\n} catch(e) {\n  // Do something here if you want.\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2304, "user_id": 5264501, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh5.googleusercontent.com/-ZVUTKavAkNE/AAAAAAAAAAI/AAAAAAAAEKM/Vjq_EgjFw04/photo.jpg?sz=128", "display_name": "Yvonne Aburrow", "link": "https://stackoverflow.com/users/5264501/yvonne-aburrow"}, "is_accepted": false, "score": 0, "last_activity_date": 1589376093, "last_edit_date": 1589376093, "creation_date": 1589309817, "answer_id": 61759808, "question_id": 56048129, "link": "https://stackoverflow.com/questions/56048129/convert-number-to-string-returns-empty-if-number-0/61759808#61759808", "title": "convert number to string returns empty if number 0", "body": "<p>In my case, the zero (number) that I wanted to converted to a string (which was the value of an option in a select element) was a value in an enum.</p>\n\n<p>So I did this, since the enum was generated by another process and I could not change it:</p>\n\n<pre><code>  let stringValue = '';\n  if (this.input.enumValue === 0) {\n    stringValue = '0'; \n  } else {\n    stringValue = this.input.enumValue.toString();\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3383, "user_id": 2676500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/697226bd2ba299d2d8509410e8406cb0?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Tiurin", "link": "https://stackoverflow.com/users/2676500/eugene-tiurin"}, "is_accepted": false, "score": 1, "last_activity_date": 1589527907, "last_edit_date": 1589527907, "creation_date": 1589378536, "answer_id": 61776697, "question_id": 56048129, "link": "https://stackoverflow.com/questions/56048129/convert-number-to-string-returns-empty-if-number-0/61776697#61776697", "title": "convert number to string returns empty if number 0", "body": "<p>Just adding to given answers - if you do:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>x &gt;&gt; 0\n</code></pre>\n\n<p>you will convert <code>anything</code> to a <code>Number</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>'7' &gt;&gt; 0 // 7\n'' &gt;&gt; 0 // 0\ntrue &gt;&gt; 0 // 1\n[7] &gt;&gt; 0 // 7\n</code></pre>\n\n<p>It's a <em>right shift bit operation</em>. You can do magic with this in many real life cases, like described in <a href=\"https://blog.logrocket.com/interesting-use-cases-for-javascript-bitwise-operators/\" rel=\"nofollow noreferrer\">this article</a>.</p>\n"}], "owner": {"reputation": 1182, "user_id": 1373036, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0443e7efe685d646c5c56f272323c80b?s=128&d=identicon&r=PG", "display_name": "Rasta", "link": "https://stackoverflow.com/users/1373036/rasta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 417, "favorite_count": 0, "accepted_answer_id": 56048157, "answer_count": 4, "score": 1, "last_activity_date": 1589527907, "creation_date": 1557345243, "last_edit_date": 1557345297, "question_id": 56048129, "link": "https://stackoverflow.com/questions/56048129/convert-number-to-string-returns-empty-if-number-0", "title": "convert number to string returns empty if number 0", "body": "<p>Trying to convert string to a number, works fine apart from when the number is zero it returns an empty string;</p>\n\n<p>I understand 0 is false, but I just need a neat way of it returning the string \"0\"</p>\n\n<p>I'm using:</p>\n\n<pre><code>const num = this.str ? this.str.toString() : '' ;\n</code></pre>\n\n<p>I even thought of using es6 and simply <code>${this.str}</code> but that didn't work</p>\n"}, {"tags": ["javascript", "html", "css", "reactjs", "material-ui"], "answers": [{"tags": [], "owner": {"reputation": 42001, "user_id": 7495930, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BvE1j04g-0c/AAAAAAAAAAI/AAAAAAAAB34/GwTEooh9wPo/photo.jpg?sz=128", "display_name": "Ryan Cogswell", "link": "https://stackoverflow.com/users/7495930/ryan-cogswell"}, "is_accepted": true, "score": 2, "last_activity_date": 1557346237, "creation_date": 1557346237, "answer_id": 56048351, "question_id": 56048105, "link": "https://stackoverflow.com/questions/56048105/material-ui-change-the-checkbox-color/56048351#56048351", "title": "material ui change the checkbox color", "body": "<p>Your error was due to the <code>import</code> being incorrect.\nInstead of</p>\n\n<pre><code>import { MuiThemeProvider, createMuiTheme } from \"material-ui/styles\";\n</code></pre>\n\n<p>It should be</p>\n\n<pre><code>import { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\n</code></pre>\n\n<p>I also added specifying the <code>color</code> property on the Checkbox.</p>\n\n<p>Here's a working version of your sandbox: <a href=\"https://codesandbox.io/s/w68nm77o0k\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/w68nm77o0k</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10972884"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4604, "favorite_count": 0, "accepted_answer_id": 56048351, "answer_count": 1, "score": 2, "last_activity_date": 1557346237, "creation_date": 1557345143, "question_id": 56048105, "link": "https://stackoverflow.com/questions/56048105/material-ui-change-the-checkbox-color", "title": "material ui change the checkbox color", "body": "<ul>\n<li>I am trying to change the color of the checkboxes and radio button.</li>\n<li><p>so I did a research and got this link. <a href=\"https://stackoverflow.com/questions/47904859/material-ui-change-inputs-active-color\">Material UI change Input&#39;s active color</a></p></li>\n<li><p>but still I am getting the error. <code>(0 , _styles2.createMuiTheme) is not a function</code></p></li>\n<li>can you tell me how to change the checkbox colors so that I can use it other places</li>\n</ul>\n\n<p><a href=\"https://codesandbox.io/s/m7z2l1j09y\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/m7z2l1j09y</a></p>\n\n<pre><code>const theme = createMuiTheme({\n  palette: {\n    secondary: {\n      main: \"#E33E7F\"\n    },\n\n    formControl: {\n      color: \"black\"\n    }\n  }\n});\n\n&lt;MuiThemeProvider theme={theme}&gt;\n          &lt;FormControl component=\"fieldset\" className={classes.formControl}&gt;\n            &lt;FormLabel component=\"legend\"&gt;Gender&lt;/FormLabel&gt;\n            &lt;RadioGroup\n              aria-label=\"Gender\"\n              name=\"gender1\"\n              className={classes.group}\n              value={this.state.value}\n              onChange={this.handleChange}\n            &gt;\n              {radioValues.map(radio =&gt; {\n                return (\n                  &lt;FormControlLabel\n                    value={radio.value}\n                    control={&lt;Radio /&gt;}\n                    label={radio.label}\n                  /&gt;\n                );\n              })}\n            &lt;/RadioGroup&gt;\n            {checkBoxvalues.map((check, index) =&gt; {\n              return (\n                &lt;FormControlLabel\n                  key={check.value}\n                  control={\n                    &lt;Checkbox\n                      checked={check.checked}\n                      onChange={this.handleCheckBoxChange(check.value, index)}\n                      value={check.value}\n                    /&gt;\n                  }\n                  label={check.label}\n                /&gt;\n              );\n            })}\n          &lt;/FormControl&gt;\n        &lt;/MuiThemeProvider&gt;\n</code></pre>\n"}, {"tags": ["javascript", "php", "paypal", "paypal-sandbox"], "comments": [{"owner": {"reputation": 719, "user_id": 1065520, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/y5Br4.jpg?s=128&g=1", "display_name": "optimus", "link": "https://stackoverflow.com/users/1065520/optimus"}, "edited": false, "score": 0, "creation_date": 1557391396, "post_id": 56048097, "comment_id": 98751680, "body": "Yes you can do it, you can call your server to capture some data. are you facing any problem ?"}, {"owner": {"reputation": 395, "user_id": 4583076, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c3c695601811fbede1dcde4d5a0a8ccc?s=128&d=identicon&r=PG&f=1", "display_name": "BackTrack57", "link": "https://stackoverflow.com/users/4583076/backtrack57"}, "reply_to_user": {"reputation": 719, "user_id": 1065520, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/y5Br4.jpg?s=128&g=1", "display_name": "optimus", "link": "https://stackoverflow.com/users/1065520/optimus"}, "edited": false, "score": 0, "creation_date": 1557422262, "post_id": 56048097, "comment_id": 98769009, "body": "@optimus Yes, i&#39;m a bit lost with javascript... I don&#39;t have figured how to do it. I would like to get all datas and store them in MySQL or at least the most importants datas. Can you explain/show me how i can archive that please ?"}], "owner": {"reputation": 395, "user_id": 4583076, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c3c695601811fbede1dcde4d5a0a8ccc?s=128&d=identicon&r=PG&f=1", "display_name": "BackTrack57", "link": "https://stackoverflow.com/users/4583076/backtrack57"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557345117, "creation_date": 1557345117, "last_edit_date": 1592644375, "question_id": 56048097, "link": "https://stackoverflow.com/questions/56048097/paypal-after-success-transaction-store-data-to-mysql", "title": "Paypal after success transaction store data to MySQL", "body": "<p>I have followed the &quot;Basic Integration&quot; from Paypal here : <a href=\"https://developer.paypal.com/docs/checkout/integrate/\" rel=\"nofollow noreferrer\">PayPal Checkout</a></p>\n<p>I have tested it with sandbox &quot;buyer&quot; and &quot;facilator&quot; transactions works fine and button too.</p>\n<p>How could I make the Paypal javascript below send the POST value I already have on the page to another page PHP if success for example ?</p>\n<p>Here is Paypal button code :</p>\n<pre><code>        &lt;div id=&quot;paypal-button-container&quot; align=&quot;center&quot;&gt;&lt;/div&gt;\n\n      &lt;script&gt;\n        paypal.Buttons({\n            style: {\n    layout:  'vertical',\n    color:   'blue',\n    shape:   'rect',\n    label:   'paypal',\n  },\n    createOrder: function(data, actions) {\n      return actions.order.create({\n        purchase_units: [{\n          amount: {\n            value: '&lt;?php echo $total_total_euro_photo ?&gt;'\n          }\n        }]\n      });\n    },\n    onApprove: function(data, actions) {\n      return actions.order.capture().then(function(details) {\n        alert('Transaction completed by ' + details.payer.name.given_name);\n        // Call your server to save the transaction\n        return fetch('/paypal-transaction-complete', {\n          method: 'post',\n          headers: {\n            'content-type': 'application/json'\n          },\n          body: JSON.stringify({\n            orderID: data.orderID\n          })\n        });\n      });\n    }\n  }).render('#paypal-button-container');\n      &lt;/script&gt;\n</code></pre>\n<p>In the approve function it is writed <code>// Call your server to save the transaction</code>\nCan I put there some code that is execute in background exemple savecommande.php?somevalue:anothervalue:etc\n?\nIf it could submit the form on the current page it would works too after transaction is successfull.</p>\n<p>Some help would be very much appriciate.</p>\n"}, {"tags": ["javascript", "openlayers"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9059756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6TcXv.jpg?s=128&g=1", "display_name": "Sama", "link": "https://stackoverflow.com/users/9059756/sama"}, "edited": false, "score": 0, "creation_date": 1557347824, "post_id": 56048398, "comment_id": 98738860, "body": "How would the implementation be?      zIndex: 1, (for which I want it to be below) and,      zIndex: 2, (for which I want it to be above the previous one)"}, {"owner": {"reputation": 10351, "user_id": 10118270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4d02f5140e2c09fe0425854f39a6596?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/10118270/mike"}, "reply_to_user": {"reputation": 3, "user_id": 9059756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6TcXv.jpg?s=128&g=1", "display_name": "Sama", "link": "https://stackoverflow.com/users/9059756/sama"}, "edited": false, "score": 0, "creation_date": 1557348489, "post_id": 56048398, "comment_id": 98739134, "body": "Yes, higher values will position the feature above lower values."}], "tags": [], "owner": {"reputation": 10351, "user_id": 10118270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4d02f5140e2c09fe0425854f39a6596?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/10118270/mike"}, "is_accepted": true, "score": 0, "last_activity_date": 1557346435, "creation_date": 1557346435, "answer_id": 56048398, "question_id": 56048081, "link": "https://stackoverflow.com/questions/56048081/how-to-give-priority-to-image-icon-in-openlayers/56048398#56048398", "title": "How to give priority to image icon in openlayers?", "body": "<p>Set the zIndex of the parent style:</p>\n\n<pre><code>new ol.style.Style({\n  image: new ol.style.Icon({\n    ...\n    ...\n  }),\n  zIndex: ... \n})\n</code></pre>\n\n<p>or to change a feature where a style is already set</p>\n\n<pre><code>feature.getStyle().setZIndex(...);\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9059756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6TcXv.jpg?s=128&g=1", "display_name": "Sama", "link": "https://stackoverflow.com/users/9059756/sama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 56048398, "answer_count": 1, "score": -1, "last_activity_date": 1572971901, "creation_date": 1557345055, "last_edit_date": 1572971901, "question_id": 56048081, "link": "https://stackoverflow.com/questions/56048081/how-to-give-priority-to-image-icon-in-openlayers", "title": "How to give priority to image icon in openlayers?", "body": "<p>Good morning, is there any way to prioritize an image icon within the open layer? Since I would like to bring some icons that I have left under others and wanting to move them I have to zoom in a lot so that they are isolated from the rest.</p>\n\n<p>The problem is that these icons are of origin and destination of NOMINATIM use addresses and based on those a line with bus stops is drawn.</p>\n\n<p>The code is the following:</p>\n\n<pre><code>image: new i({\n //scale: .7,\n anchor: [0.5, 46],\n anchorXUnits: 'fraction',\n anchorYUnits: 'pixels',\n opacity: 0.95,\n src: g\n})\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 971, "user_id": 322712, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/84a548c49577eb0b289c64b3baa250b2?s=128&d=identicon&r=PG", "display_name": "Esger", "link": "https://stackoverflow.com/users/322712/esger"}, "edited": false, "score": 0, "creation_date": 1557346179, "post_id": 56048072, "comment_id": 98738147, "body": "the <code>&lt;embed&gt;</code> tag can&#39;t be put inside the <code>&lt;script&gt;</code> tag. And then you should set the src attribute of the embed tag, not the window.location; that&#39;s the page itself."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 7125692, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-EVLKvai2V1g/AAAAAAAAAAI/AAAAAAAAAtg/p-1CM4sJ2L0/photo.jpg?sz=128", "display_name": "adam", "link": "https://stackoverflow.com/users/7125692/adam"}, "edited": false, "score": 0, "creation_date": 1557346088, "post_id": 56048213, "comment_id": 98738101, "body": "Alright, thank you so much... do you have any idea how you could make the window clickable with a redirect to that page?"}, {"owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "reply_to_user": {"reputation": 67, "user_id": 7125692, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-EVLKvai2V1g/AAAAAAAAAAI/AAAAAAAAAtg/p-1CM4sJ2L0/photo.jpg?sz=128", "display_name": "adam", "link": "https://stackoverflow.com/users/7125692/adam"}, "edited": false, "score": 0, "creation_date": 1557346346, "post_id": 56048213, "comment_id": 98738209, "body": "There&#39;s already a question on SO detailing <a href=\"https://stackoverflow.com/questions/3317917/use-iframe-as-a-link\">how to use an iframe as a link</a>"}, {"owner": {"reputation": 971, "user_id": 322712, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/84a548c49577eb0b289c64b3baa250b2?s=128&d=identicon&r=PG", "display_name": "Esger", "link": "https://stackoverflow.com/users/322712/esger"}, "edited": false, "score": 0, "creation_date": 1557346359, "post_id": 56048213, "comment_id": 98738213, "body": "wrap the <code>&lt;embed&gt;</code> tag in an <code>&lt;a&gt;</code> tag with the same url as href attribute."}], "tags": [], "owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "is_accepted": true, "score": 1, "last_activity_date": 1557345664, "creation_date": 1557345664, "answer_id": 56048213, "question_id": 56048072, "link": "https://stackoverflow.com/questions/56048072/select-random-url-and-display-in-embed-window/56048213#56048213", "title": "Select Random URL and display in Embed window", "body": "<p>There are many errors in your code, for example the fact that you set the location of the current window with <code>window.location = ...</code> instead of setting the URL of the <code>&lt;iframe&gt;</code>, or that you have HTML code inside your JS, etc.</p>\n\n<p>In any case, you should chose the URL before and <em>then</em> add an <code>&lt;iframe&gt;</code> to the DOM and set its url. Here's an example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const urls = [\r\n  'https://example.com',\r\n  'https://example.org',\r\n];\r\n\r\nconst iframe = document.createElement('iframe');\r\niframe.src = urls[Math.floor(Math.random()*urls.length)];\r\ndocument.body.appendChild(iframe);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 67, "user_id": 7125692, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-EVLKvai2V1g/AAAAAAAAAAI/AAAAAAAAAtg/p-1CM4sJ2L0/photo.jpg?sz=128", "display_name": "adam", "link": "https://stackoverflow.com/users/7125692/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 56048213, "answer_count": 1, "score": 0, "last_activity_date": 1557345664, "creation_date": 1557345033, "question_id": 56048072, "link": "https://stackoverflow.com/questions/56048072/select-random-url-and-display-in-embed-window", "title": "Select Random URL and display in Embed window", "body": "<p>What I'm trying to achieve is have a random URL selected, then that URL's page displayed in an embed that you can then click and go to that page. I've been having trouble however and would appreciate any help. This is what I got so far:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\nvar urls = new Array();\nurls[0] = \"https://www.google.com\";\nurls[1] = \"https://www.yahoo.com\";\nurls[2] = \"https://www.bing.com\";\n\nvar random = Math.floor(Math.random()*urls.length);\n\nwindow.location = urls[random];\n\n&lt;embed src=\"urls\" style=\"width:500px; height: 300px;\"&gt;\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "google-apps-script", "google-sheets", "google-sheets-formula", "google-sheets-custom-function"], "answers": [{"comments": [{"owner": {"reputation": 4919, "user_id": 1884546, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/16beefb4d52297a1461cf9365bfdf77d?s=128&d=identicon&r=PG", "display_name": "midnite", "link": "https://stackoverflow.com/users/1884546/midnite"}, "edited": false, "score": 0, "creation_date": 1557348893, "post_id": 56048788, "comment_id": 98739290, "body": "Yes. You are right. Using <code>setFormula(&#39;=NA()&#39;)</code> can achieve this. But in my case it is a bit difficult to change it to the <code>setFormula()</code> way. My function takes a Range (one cell, or an array, or a 2D array), check the values inside, and return an array of the same number of items. For example, it takes <code>A1:D4</code>. Check the values, some <code>TRUE</code> and some <code>FALSE</code>. Then return an 4x4 array. If <code>E1=myFunc(A1:D4)</code>, it fills <code>E1:H4</code>. If <code>D3</code> and <code>D4</code> are blanks, I want <code>H3</code> and <code>H4</code> get the values <code>#N&#47;A</code>."}], "tags": [], "owner": {"reputation": 1641, "user_id": 5297307, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-h7ln1-cKdag/AAAAAAAAAAI/AAAAAAAAAAA/54ldIkyWZBY/photo.jpg?sz=128", "display_name": "J. G. ", "link": "https://stackoverflow.com/users/5297307/j-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1592093266, "last_edit_date": 1592093266, "creation_date": 1557348254, "answer_id": 56048788, "question_id": 56048053, "link": "https://stackoverflow.com/questions/56048053/how-to-return-n-a-from-google-sheet-app-script/56048788#56048788", "title": "How to return #N/A from Google Sheet App Script?", "body": "<p>What if you </p>\n\n<pre><code>return \"=NA()\"?\n</code></pre>\n\n<p>I'm unclear from the way that you are using this why you want a gas solution, because you are using it as an in-cell function anyway.</p>\n\n<p>If you are doing a normal script, you can use something like this</p>\n\n<pre><code>ss.getRange(1,1).setFormula('NA()');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1641, "user_id": 5297307, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-h7ln1-cKdag/AAAAAAAAAAI/AAAAAAAAAAA/54ldIkyWZBY/photo.jpg?sz=128", "display_name": "J. G. ", "link": "https://stackoverflow.com/users/5297307/j-g"}, "edited": false, "score": 0, "creation_date": 1557364557, "post_id": 56050902, "comment_id": 98743031, "body": "sorry, this won&#39;t precisely work either, I&#39;m not sure why, I&#39;ll look at it in the morning"}], "tags": [], "owner": {"reputation": 1641, "user_id": 5297307, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-h7ln1-cKdag/AAAAAAAAAAI/AAAAAAAAAAA/54ldIkyWZBY/photo.jpg?sz=128", "display_name": "J. G. ", "link": "https://stackoverflow.com/users/5297307/j-g"}, "is_accepted": false, "score": -1, "last_activity_date": 1557364411, "creation_date": 1557364411, "answer_id": 56050902, "question_id": 56048053, "link": "https://stackoverflow.com/questions/56048053/how-to-return-n-a-from-google-sheet-app-script/56050902#56050902", "title": "How to return #N/A from Google Sheet App Script?", "body": "<p>i'm actually intrigued by this because I generally don't do inline functions (too slow enmasse).</p>\n\n<p>you have to call it with the range you want in quotation marks (as a string) but this works.</p>\n\n<pre><code>function getThing(aRange){\n  var sheet = SpreadsheetApp.getActiveSpreadsheet();\n  var data = sheet.getRange(aRange).getValues();\n  Logger.log(data);\n\n  var result = [];\n  for (var i=0; i&lt;data.length;i++)\n    {\n      var row = [];\n      for (var j=0; j&lt;data[0].length; j++)\n          {\n               if (data[i][j] == \"\")\n                   { \n                   row.push(\"=NA()\"); \n                   continue;}                  \n\n               var value = data[i][j];\n               // DO OTHER LOGIC TO GET WHAT YOU WANT TO RETURN\n               row.push(value);\n          }//for loop\n       result.push(row);\n\n    }//for loop\n\n  return result;\n\n}//*****************************************************************************\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23873, "user_id": 1595451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/08TCi.jpg?s=128&g=1", "display_name": "Rub&#233;n", "link": "https://stackoverflow.com/users/1595451/rub%c3%a9n"}, "is_accepted": false, "score": 0, "last_activity_date": 1592095541, "creation_date": 1592095541, "answer_id": 62367176, "question_id": 56048053, "link": "https://stackoverflow.com/questions/56048053/how-to-return-n-a-from-google-sheet-app-script/62367176#62367176", "title": "How to return #N/A from Google Sheet App Script?", "body": "<p>At this time it's not possible because the supported return values for custom functions are string, number, boolean and Date.</p>\n\n<p>As you already noticed returning <code>NA()</code> doesn't work.</p>\n\n<p>A custom function can't return a formula, user <code>return '=NA()'</code>  is set in Google Sheets as a TEXT value until the user manually edit the cell value (or put the cell in edit mode then press <kbd>Enter</kbd>.</p>\n\n<p>Related</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/26152630/1595451\">Throwing custom exceptions and error messages in Google Sheets custom function?</a></li>\n</ul>\n\n<p>Reference</p>\n\n<ul>\n<li><a href=\"https://developers.google.com/apps-script/guides/sheets/functions\" rel=\"nofollow noreferrer\">https://developers.google.com/apps-script/guides/sheets/functions</a></li>\n</ul>\n"}], "owner": {"reputation": 4919, "user_id": 1884546, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/16beefb4d52297a1461cf9365bfdf77d?s=128&d=identicon&r=PG", "display_name": "midnite", "link": "https://stackoverflow.com/users/1884546/midnite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 930, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1592095541, "creation_date": 1557344964, "last_edit_date": 1592095191, "question_id": 56048053, "link": "https://stackoverflow.com/questions/56048053/how-to-return-n-a-from-google-sheet-app-script", "title": "How to return #N/A from Google Sheet App Script?", "body": "<p>This seems like a trivial question. But I have spent some times, I still cannot find any clues from the Internet. I have been trying the work-arounds. They all are not nice. Returning <code>null</code> or <code>undefined</code> will just result in a blank cell. Of course return \"#N/A\" (as a string) is far far far from good.</p>\n\n<p>For instance, we have a function in Google App Script.</p>\n\n<pre><code>function GIVE_ME_NA() {\n    return NA();     // This won't work\n}\n</code></pre>\n\n<p>And in cells A1 and A2</p>\n\n<pre><code>A1 =GIVE_ME_NA()\nA2 =ISNA(A1)\n</code></pre>\n\n<p>The desired results showing in A1 and A2 are</p>\n\n<pre><code>    A       B\n1  #N/A   TRUE\n</code></pre>\n\n<p>In the sheet formula, we can simply use <code>=NA()</code>. But in App Script, I cannot.</p>\n"}, {"tags": ["javascript", "html", "node.js", "next.js"], "comments": [{"owner": {"reputation": 4330, "user_id": 5736236, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UHJW49zI260/AAAAAAAAAAI/AAAAAAAAAqs/QeHB6Qr5kMI/photo.jpg?sz=128", "display_name": "Kamil Naja", "link": "https://stackoverflow.com/users/5736236/kamil-naja"}, "edited": false, "score": 2, "creation_date": 1557346062, "post_id": 56048034, "comment_id": 98738089, "body": "For me, your explanation is very unclear. Can you post working, minimal example that will show us an error?"}, {"owner": {"reputation": 1, "user_id": 11471970, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cNg3qlVoZbg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcrg1y-XxYa5tN3FsLpBsZQBRzMjQ/mo/photo.jpg?sz=128", "display_name": "Yifu Tang", "link": "https://stackoverflow.com/users/11471970/yifu-tang"}, "reply_to_user": {"reputation": 4330, "user_id": 5736236, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UHJW49zI260/AAAAAAAAAAI/AAAAAAAAAqs/QeHB6Qr5kMI/photo.jpg?sz=128", "display_name": "Kamil Naja", "link": "https://stackoverflow.com/users/5736236/kamil-naja"}, "edited": false, "score": 0, "creation_date": 1557350241, "post_id": 56048034, "comment_id": 98739736, "body": "I added the code below which is I added in the html, there is no error but I can&#39;t see any difference on my website after I quoted the index.js."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1557353083, "post_id": 56048034, "comment_id": 98740669, "body": "&quot;Now I want to make it run in my html file using node.js&quot; ... What do you mean? NodeJS is a server side framework, it does not run in the browser"}], "owner": {"reputation": 1, "user_id": 11471970, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cNg3qlVoZbg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcrg1y-XxYa5tN3FsLpBsZQBRzMjQ/mo/photo.jpg?sz=128", "display_name": "Yifu Tang", "link": "https://stackoverflow.com/users/11471970/yifu-tang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557349988, "creation_date": 1557344872, "last_edit_date": 1557349988, "question_id": 56048034, "link": "https://stackoverflow.com/questions/56048034/javascript-file-did-not-work-in-html-when-changing-next-js-to-node-js", "title": "JavaScript file did not work in html when changing next.js to node.js", "body": "<p>I wrote a javascript before, and using the guide of next.js to run it(npm run dev)and it worked. Now I want to make it run in my html file using node.js(node app.js) but it seems not work.</p>\n\n<p>in the html I used \"\" (index.js is my previous js which created when using next.js) And I have already put index.js into assets/js</p>\n\n<p>Below is index.js</p>\n\n<pre><code>/*jshint esversion: 6 */\nimport styled from 'styled-components';\n\nconst TiltWrap = styled.div`\n    perspective: 500px;\n    text-align: center;\n    display: grid;\n    justify-content: center;\n`;\nconst TiltStyles = styled.div`\n    background-image: url('images/drone.jpg');\n    background-size: contain;\n    border: 1px solid grey;\n    width: 300px;\n    height: 200px;\n    color: white;\n    transform: \n    rotateX(${30}deg)\n    rotateY(${20}deg)\n    rotate(${50}deg);\n    position: relative;\n`;\n\nconst Index = ({pitch, roll, yaw}) =&gt; (\n    &lt;TiltWrap&gt;\n        Pitch: {pitch}\n        Roll: {roll}\n        Yaw: {yaw}\n        &lt;TiltStyles pitch={pitch} roll={roll} yaw={yaw} /&gt;\n    &lt;/TiltWrap&gt;\n);\n\nIndex.defaultProps = {\n    pitch: 0,\n    roll: 0,\n    yaw: 0,\n};\n\nexport default Index;\n\n//for the html, I used below\n&lt;script src=\"assets/js/index.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>I want it run in my html but after I added it, nothing happened on my website(also didn't work in DreamWeaver)\nShould I modify other files? Like package-lock.jason? app.js?</p>\n"}, {"tags": ["javascript", "node.js", "js-beautify"], "comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 2, "creation_date": 1557344941, "post_id": 56048028, "comment_id": 98737665, "body": "Jup, thats the reason I turned off beautify ..."}], "owner": {"reputation": 25462, "user_id": 1137669, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ynWJw.jpg?s=128&g=1", "display_name": "basickarl", "link": "https://stackoverflow.com/users/1137669/basickarl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1557364304, "creation_date": 1557344838, "last_edit_date": 1557364304, "question_id": 56048028, "link": "https://stackoverflow.com/questions/56048028/beautify-settings-for-require-destructuring", "title": "Beautify settings for require destructuring", "body": "<p>I'm using js-beautify to make my JavaScript sexy. However there are a few things which just aren't sexy.</p>\n\n<p>This:</p>\n\n<pre><code>const { ExecutionTime, log } = require('application/lib/log');\n</code></pre>\n\n<p>Gets turned into this:</p>\n\n<pre><code>const {\n    ExecutionTime,\n    log\n} = require('application/lib/log');\n</code></pre>\n\n<p>I would like requires to stay on one line! Anyone know how?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 189597, "user_id": 616443, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/907798bf02efdaf6f9d07d3c0552868f?s=128&d=identicon&r=PG", "display_name": "j08691", "link": "https://stackoverflow.com/users/616443/j08691"}, "edited": false, "score": 6, "creation_date": 1557344768, "post_id": 56048013, "comment_id": 98737583, "body": "Browsers know people make misteaks"}, {"owner": {"reputation": 7275, "user_id": 1114201, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/hTmi0.jpg?s=128&g=1", "display_name": "lexith", "link": "https://stackoverflow.com/users/1114201/lexith"}, "edited": false, "score": 1, "creation_date": 1557344933, "post_id": 56048013, "comment_id": 98737660, "body": "<code>&lt;br&#47;&gt;</code> is valid, but <code>&lt;&#47;br&gt;</code> is not"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1557345026, "post_id": 56048013, "comment_id": 98737708, "body": "<code>&lt;br&gt;</code> would actually be invalid too."}, {"owner": {"reputation": 29, "user_id": 2461316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be972f54b08d711a0778c5f3e23ce4ce?s=128&d=identicon&r=PG", "display_name": "Andrew Rey C Zaragoza", "link": "https://stackoverflow.com/users/2461316/andrew-rey-c-zaragoza"}, "edited": false, "score": 0, "creation_date": 1557345239, "post_id": 56048013, "comment_id": 98737787, "body": "I believe you mean new line with html. Also, <a href=\"https://stackoverflow.com/questions/1946426/html-5-is-it-br-br-or-br\">here</a> is the answer."}], "answers": [{"tags": [], "owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "is_accepted": true, "score": 2, "last_activity_date": 1557345124, "creation_date": 1557345124, "answer_id": 56048099, "question_id": 56048013, "link": "https://stackoverflow.com/questions/56048013/does-document-write-br-produce-valid-html-and-if-so-why/56048099#56048099", "title": "Does document.write(&quot;&lt;/br&gt;&quot;) produce valid html and if so why?", "body": "<p><code>document.write(\"&lt;/br&gt;\");</code> does <em>not</em> produces valid HTML.</p>\n\n<p><em>However</em> it is frequent to observe browser-side HTML error correction mechanisms. In the wild, most small invalid HTML errors get corrrected and valid HTML ends up in the DOM: closing tags at the end of a file that can be deduced from the rest of the content, <code>&lt;br/&gt;</code> or <code>&lt;br&gt;&lt;/br&gt;</code> instead of <code>&lt;br&gt;</code>, <code>&lt;input ... /&gt;</code> instead of <code>&lt;input ... &gt;</code>, and so on.</p>\n\n<p>Different browsers offer different error correction mechanisms and they don't follow any particular standard so it's always good to avoid relying on them.</p>\n"}], "owner": {"reputation": 57, "user_id": 3991799, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f81b78c156c2c0c26f86736a3b70dd6e?s=128&d=identicon&r=PG&f=1", "display_name": "crazy", "link": "https://stackoverflow.com/users/3991799/crazy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 56048099, "answer_count": 1, "score": 0, "last_activity_date": 1557345124, "creation_date": 1557344736, "question_id": 56048013, "link": "https://stackoverflow.com/questions/56048013/does-document-write-br-produce-valid-html-and-if-so-why", "title": "Does document.write(&quot;&lt;/br&gt;&quot;) produce valid html and if so why?", "body": "<p><code>document.write(\"&lt;/br&gt;\");</code> was written on the board by our teacher as an example for how to make a new line with javascript. In my experience as a web developer I have never seen this slash in front of br. But when I test it with chrome web development tools it works and it simply converts <code>&lt;/br&gt;</code> to <code>&lt;br&gt;</code>. Yet I do not understand why.</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 1166, "user_id": 3224608, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0d3eO.png?s=128&g=1", "display_name": "daddygames", "link": "https://stackoverflow.com/users/3224608/daddygames"}, "edited": false, "score": 2, "creation_date": 1557345625, "post_id": 56048006, "comment_id": 98737912, "body": "what is int()? Did you write that function yourself or did you expect that to convert the value to an integer?"}, {"owner": {"reputation": 101, "user_id": 10459524, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_pKkxLphCtM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXOcS299Ti5FvUNwWqd044Ta50yAQ/mo/photo.jpg?sz=128", "display_name": "Udasi Tharani", "link": "https://stackoverflow.com/users/10459524/udasi-tharani"}, "reply_to_user": {"reputation": 1166, "user_id": 3224608, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0d3eO.png?s=128&g=1", "display_name": "daddygames", "link": "https://stackoverflow.com/users/3224608/daddygames"}, "edited": false, "score": 0, "creation_date": 1557346400, "post_id": 56048006, "comment_id": 98738232, "body": "I expect it to convert the value to an integer"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 10459524, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_pKkxLphCtM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXOcS299Ti5FvUNwWqd044Ta50yAQ/mo/photo.jpg?sz=128", "display_name": "Udasi Tharani", "link": "https://stackoverflow.com/users/10459524/udasi-tharani"}, "edited": false, "score": 0, "creation_date": 1557415448, "post_id": 56048701, "comment_id": 98765521, "body": "Hi there! I really appreciate that you tried to help me with this problem! Your answer works fine! But there is a little problem. The input field also allows input greater than max value when I type those values. Do youhave any idea why that might be happening?"}, {"owner": {"reputation": 1166, "user_id": 3224608, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0d3eO.png?s=128&g=1", "display_name": "daddygames", "link": "https://stackoverflow.com/users/3224608/daddygames"}, "reply_to_user": {"reputation": 101, "user_id": 10459524, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_pKkxLphCtM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXOcS299Ti5FvUNwWqd044Ta50yAQ/mo/photo.jpg?sz=128", "display_name": "Udasi Tharani", "link": "https://stackoverflow.com/users/10459524/udasi-tharani"}, "edited": false, "score": 0, "creation_date": 1557417256, "post_id": 56048701, "comment_id": 98766637, "body": "I&#39;ve tested this in IE11, Chrome 73, and Firefox 60. When a value greater than max is entered, the value is set to 0. The code does not allow for greater than max. Are you getting any errors in the console?"}], "tags": [], "owner": {"reputation": 1166, "user_id": 3224608, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0d3eO.png?s=128&g=1", "display_name": "daddygames", "link": "https://stackoverflow.com/users/3224608/daddygames"}, "is_accepted": false, "score": 1, "last_activity_date": 1557347855, "creation_date": 1557347855, "answer_id": 56048701, "question_id": 56048006, "link": "https://stackoverflow.com/questions/56048006/how-to-fix-input-exceeding-max-value-in-html-input-type-number/56048701#56048701", "title": "How to fix input exceeding max value in html input type = &#39;number&#39;?", "body": "<p><code>int</code> is not a built-in function for the current version of JavaScript. The syntax is <code>parseInt(value)</code>;</p>\n\n<p>Read about <code>parseInt</code> here -> <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseInt\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseInt</a></p>\n\n<p>You can use the <code>oninput</code> event to detect when the value changes. This is where you check the value and adjust, if needed. <strong>However, it's important to note</strong> that once you reach the max or min value, the arrows on the control will not fire this event. So you can't just roll it over from MAX_VALUE to MIN_VALUE using the arrow keys. </p>\n\n<p>Read more here -> <a href=\"https://stackoverflow.com/questions/3940258/what-events-does-an-input-type-number-fire-when-its-value-is-changed\">What events does an &lt;input type=&quot;number&quot; /&gt; fire when it&#39;s value is changed?</a></p>\n\n<p>Putting this all together...</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;input type=\"number\" id=\"customer-age-input\" max=\"120\" min=\"0\" oninput=\"checkValue(this);\" /&gt;\n</code></pre>\n\n<p>JavaScript</p>\n\n<pre><code>// this function will convert a string to an integer\n// beware this will throw an exception if the value does not parse properly\nfunction int(value) {\n    return parseInt(value);\n}\n\n// this checks the value and updates it on the control, if needed\nfunction checkValue(sender) {\n    let min = sender.min;\n    let max = sender.max;\n    let value = int(sender.value);\n    if (value&gt;max) {\n        sender.value = min;\n    } else if (value&lt;min) {\n        sender.value = max;\n    }\n}\n</code></pre>\n\n<p>I've only created the int function out of courtesy of your design. You can just use parseInt in place of the customized int function in the code above. The new code would look something like:</p>\n\n<p>JavaScript</p>\n\n<pre><code>// this checks the value and updates it on the control, if needed\nfunction checkValue(sender) {\n    let min = sender.min;\n    let max = sender.max;\n    // here we perform the parsing instead of calling another function\n    let value = parseInt(sender.value);\n    if (value&gt;max) {\n        sender.value = min;\n    } else if (value&lt;min) {\n        sender.value = max;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2665, "user_id": 4323201, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QefSh.png?s=128&g=1", "display_name": "RyanNerd", "link": "https://stackoverflow.com/users/4323201/ryannerd"}, "edited": false, "score": 6, "creation_date": 1578657063, "post_id": 59680827, "comment_id": 105519395, "body": "Code only answers are rarely helpful. Please comment your code or expound on why this is the solution to the question."}], "tags": [], "owner": {"reputation": 1, "user_id": 12689090, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDrAL89vN9wuJH3t_ZoQc4hT5o6-1Pg9FU7z5sSLQ=k-s128", "display_name": "Abhishek Sinha", "link": "https://stackoverflow.com/users/12689090/abhishek-sinha"}, "is_accepted": false, "score": 0, "last_activity_date": 1579291627, "last_edit_date": 1579291627, "creation_date": 1578655807, "answer_id": 59680827, "question_id": 56048006, "link": "https://stackoverflow.com/questions/56048006/how-to-fix-input-exceeding-max-value-in-html-input-type-number/59680827#59680827", "title": "How to fix input exceeding max value in html input type = &#39;number&#39;?", "body": "<p>Max value only work if the value is inserted using arrow keys or using up or down button on input tag.\nIt is also validated when the form is submitted but if you want to force the browser to not let the user enter any greater value then max value then you can check the input value at keydown event and if the new value will exceed the max value then you can add preventdefault for the event. This way the value will not be inserted. This is the demo code for doing this trick using jquery.\nYou can also do the same trick for min value by changing the condition accordingly. </p>\n\n<pre>\n    \n          `$('input[type=number]').on('keydown' , (event)=>{\n                let key = event.key;\n                let value = event.target.value;\n                let new_value = Number(value + key);\n                let max = Number(event.target.max);\n                if(new_value > max){ event.preventDefault(); }\n          });`\n    \n</pre>\n"}], "owner": {"reputation": 101, "user_id": 10459524, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_pKkxLphCtM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXOcS299Ti5FvUNwWqd044Ta50yAQ/mo/photo.jpg?sz=128", "display_name": "Udasi Tharani", "link": "https://stackoverflow.com/users/10459524/udasi-tharani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1296, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1579291627, "creation_date": 1557344718, "last_edit_date": 1557344934, "question_id": 56048006, "link": "https://stackoverflow.com/questions/56048006/how-to-fix-input-exceeding-max-value-in-html-input-type-number", "title": "How to fix input exceeding max value in html input type = &#39;number&#39;?", "body": "<p>I want the number type html input element to take the input through  keyboard, and if the last number pressed makes it exceed the max value, that last key press should be discarded.</p>\n\n<p>I tried using javascript to accomplish that.</p>\n\n<p>Here's the code</p>\n\n<pre><code>&lt;input type=\"number\" id = 'customer-age-input' max=\"120\" min=\"0\" onkeypress=\"javascript: if (int(this.value) &gt; int(this.max)) this.value = 0;\"&gt;\n</code></pre>\n\n<p>What is actually happening is different from expected. It takes whatever inout I type-'123', '1234' etc. but when I press the arrow up key it doesn't increase the value as it does by default when the value is less than max. Also, when I press arrow-down key, it reduces it to the max value.</p>\n"}, {"tags": ["javascript", "php", "mysql"], "comments": [{"owner": {"reputation": 26118, "user_id": 3603681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bSAfF.jpg?s=128&g=1", "display_name": "Professor Abronsius", "link": "https://stackoverflow.com/users/3603681/professor-abronsius"}, "reply_to_user": {"reputation": 7454, "user_id": 5827005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Rxwgh.png?s=128&g=1", "display_name": "GrumpyCrouton", "link": "https://stackoverflow.com/users/5827005/grumpycrouton"}, "edited": false, "score": 0, "creation_date": 1557345152, "post_id": 56047999, "comment_id": 98737760, "body": "@GrumpyCrouton - seems like valid syntax to me"}, {"owner": {"reputation": 3, "user_id": 11467102, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Uc63zkzb8Jw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfY5zjYpUqUmw5IDHGoZZlZNWDwig/mo/photo.jpg?sz=128", "display_name": "user12842890", "link": "https://stackoverflow.com/users/11467102/user12842890"}, "reply_to_user": {"reputation": 7454, "user_id": 5827005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Rxwgh.png?s=128&g=1", "display_name": "GrumpyCrouton", "link": "https://stackoverflow.com/users/5827005/grumpycrouton"}, "edited": false, "score": 0, "creation_date": 1557345240, "post_id": 56047999, "comment_id": 98737789, "body": "@GrumpyCrouton Thank you so much for the help. But this I mean current code I can send data with 200 ok code. When I change the wrong syntax to correct syntax code you&#39;ve sent, I am getting this error:"}, {"owner": {"reputation": 3, "user_id": 11467102, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Uc63zkzb8Jw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfY5zjYpUqUmw5IDHGoZZlZNWDwig/mo/photo.jpg?sz=128", "display_name": "user12842890", "link": "https://stackoverflow.com/users/11467102/user12842890"}, "edited": false, "score": 0, "creation_date": 1557345246, "post_id": 56047999, "comment_id": 98737792, "body": "Fetch API cannot load <a href=\"https://www.example.com/islem.php\" rel=\"nofollow noreferrer\">example.com/islem.php</a>. Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. Origin &#39;<a href=\"https://www.haxball.com\" rel=\"nofollow noreferrer\">haxball.com</a>&#39; is therefore not allowed access. If an opaque response serves your needs, set the request&#39;s mode to &#39;no-cors&#39; to fetch the resource with CORS disabled.  In the console ^^"}, {"owner": {"reputation": 7454, "user_id": 5827005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Rxwgh.png?s=128&g=1", "display_name": "GrumpyCrouton", "link": "https://stackoverflow.com/users/5827005/grumpycrouton"}, "reply_to_user": {"reputation": 26118, "user_id": 3603681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bSAfF.jpg?s=128&g=1", "display_name": "Professor Abronsius", "link": "https://stackoverflow.com/users/3603681/professor-abronsius"}, "edited": false, "score": 0, "creation_date": 1557345916, "post_id": 56047999, "comment_id": 98738035, "body": "@RamRaider Interesting, never seen that syntax before but you do appear to be correct."}, {"owner": {"reputation": 7454, "user_id": 5827005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Rxwgh.png?s=128&g=1", "display_name": "GrumpyCrouton", "link": "https://stackoverflow.com/users/5827005/grumpycrouton"}, "edited": false, "score": 0, "creation_date": 1557345954, "post_id": 56047999, "comment_id": 98738042, "body": "@user12842890 I recently saw that error in my own project, it was because the part of my site that was trying to contact the API was being called in an AJAX request which was not allowed by the server I was connecting to."}, {"owner": {"reputation": 704, "user_id": 4792552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a528513962a9c962ff32df92a1a350b?s=128&d=identicon&r=PG", "display_name": "Berkant Ipek", "link": "https://stackoverflow.com/users/4792552/berkant-ipek"}, "edited": false, "score": 0, "creation_date": 1557346130, "post_id": 56047999, "comment_id": 98738126, "body": "The preflight request indicates the OPTIONS request sent by the browser for the legitimacy of the target host. Most probably the web server fails to reply with necessary access control headers to that OPTIONS request."}, {"owner": {"reputation": 3, "user_id": 11467102, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Uc63zkzb8Jw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfY5zjYpUqUmw5IDHGoZZlZNWDwig/mo/photo.jpg?sz=128", "display_name": "user12842890", "link": "https://stackoverflow.com/users/11467102/user12842890"}, "reply_to_user": {"reputation": 7454, "user_id": 5827005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Rxwgh.png?s=128&g=1", "display_name": "GrumpyCrouton", "link": "https://stackoverflow.com/users/5827005/grumpycrouton"}, "edited": false, "score": 0, "creation_date": 1557346460, "post_id": 56047999, "comment_id": 98738253, "body": "@GrumpyCrouton I can send a request to Discord api with fetch. I don&#39;t think I have some block to make requests. The problem is even I set cors to enabled, it still says me &quot;no access controll allow origin header is presented on the requested source. Idk why"}, {"owner": {"reputation": 7454, "user_id": 5827005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Rxwgh.png?s=128&g=1", "display_name": "GrumpyCrouton", "link": "https://stackoverflow.com/users/5827005/grumpycrouton"}, "edited": false, "score": 0, "creation_date": 1557346637, "post_id": 56047999, "comment_id": 98738313, "body": "@user &quot;<i><b>on the requested source</b></i>&quot;; as in not your site, but the resource your site is requesting. It could be many things, in my case I got this error (From the Spotify API) when trying to refresh my access token (which requires a page redirect)."}, {"owner": {"reputation": 26118, "user_id": 3603681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bSAfF.jpg?s=128&g=1", "display_name": "Professor Abronsius", "link": "https://stackoverflow.com/users/3603681/professor-abronsius"}, "edited": false, "score": 0, "creation_date": 1557347015, "post_id": 56047999, "comment_id": 98738501, "body": "so - are you saying that the POST request never even reaches the PHP code because of the lack of the <code>Access-Control-Allow-Origin</code> header?"}, {"owner": {"reputation": 3, "user_id": 11467102, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Uc63zkzb8Jw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfY5zjYpUqUmw5IDHGoZZlZNWDwig/mo/photo.jpg?sz=128", "display_name": "user12842890", "link": "https://stackoverflow.com/users/11467102/user12842890"}, "reply_to_user": {"reputation": 26118, "user_id": 3603681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bSAfF.jpg?s=128&g=1", "display_name": "Professor Abronsius", "link": "https://stackoverflow.com/users/3603681/professor-abronsius"}, "edited": false, "score": 0, "creation_date": 1557347181, "post_id": 56047999, "comment_id": 98738571, "body": "@RamRaider yes exactly"}, {"owner": {"reputation": 3, "user_id": 11467102, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Uc63zkzb8Jw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfY5zjYpUqUmw5IDHGoZZlZNWDwig/mo/photo.jpg?sz=128", "display_name": "user12842890", "link": "https://stackoverflow.com/users/11467102/user12842890"}, "edited": false, "score": 0, "creation_date": 1557347670, "post_id": 56047999, "comment_id": 98738793, "body": "but the problem is, today I&#39;ve sent requests with 200 ok code. So I don&#39;t think there is any block in both side. I don&#39;t know why that is happening now."}, {"owner": {"reputation": 3, "user_id": 11467102, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Uc63zkzb8Jw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfY5zjYpUqUmw5IDHGoZZlZNWDwig/mo/photo.jpg?sz=128", "display_name": "user12842890", "link": "https://stackoverflow.com/users/11467102/user12842890"}, "edited": false, "score": 0, "creation_date": 1557347920, "post_id": 56047999, "comment_id": 98738900, "body": "<a href=\"http://prntscr.com/nm6ccm\" rel=\"nofollow noreferrer\">prntscr.com/nm6ccm</a> look, I can send fetch request to discord api, but not to my server. And I don&#39;t think Discord api is manually allowed. Because other people sending fetch requests to their server but I can&#39;t."}, {"owner": {"reputation": 3, "user_id": 11467102, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Uc63zkzb8Jw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfY5zjYpUqUmw5IDHGoZZlZNWDwig/mo/photo.jpg?sz=128", "display_name": "user12842890", "link": "https://stackoverflow.com/users/11467102/user12842890"}, "reply_to_user": {"reputation": 26118, "user_id": 3603681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bSAfF.jpg?s=128&g=1", "display_name": "Professor Abronsius", "link": "https://stackoverflow.com/users/3603681/professor-abronsius"}, "edited": false, "score": 0, "creation_date": 1557348335, "post_id": 56047999, "comment_id": 98739067, "body": "@RamRaider  ^^^ check the screenshot"}, {"owner": {"reputation": 26118, "user_id": 3603681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bSAfF.jpg?s=128&g=1", "display_name": "Professor Abronsius", "link": "https://stackoverflow.com/users/3603681/professor-abronsius"}, "edited": false, "score": 0, "creation_date": 1557348877, "post_id": 56047999, "comment_id": 98739283, "body": "is the target url <code>http</code> or <code>https</code>?"}, {"owner": {"reputation": 3, "user_id": 11467102, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Uc63zkzb8Jw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfY5zjYpUqUmw5IDHGoZZlZNWDwig/mo/photo.jpg?sz=128", "display_name": "user12842890", "link": "https://stackoverflow.com/users/11467102/user12842890"}, "reply_to_user": {"reputation": 26118, "user_id": 3603681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bSAfF.jpg?s=128&g=1", "display_name": "Professor Abronsius", "link": "https://stackoverflow.com/users/3603681/professor-abronsius"}, "edited": false, "score": 0, "creation_date": 1557349851, "post_id": 56047999, "comment_id": 98739633, "body": "@RamRaider https"}, {"owner": {"reputation": 26118, "user_id": 3603681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bSAfF.jpg?s=128&g=1", "display_name": "Professor Abronsius", "link": "https://stackoverflow.com/users/3603681/professor-abronsius"}, "edited": false, "score": 0, "creation_date": 1557350008, "post_id": 56047999, "comment_id": 98739674, "body": "so, the javascript <code>fetch</code> code is correct other than the URL? The PHP code is also correct and as being used now on your site?IE: We are looking at virtually the exact code that is giving errors - is that correct?"}, {"owner": {"reputation": 3, "user_id": 11467102, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Uc63zkzb8Jw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfY5zjYpUqUmw5IDHGoZZlZNWDwig/mo/photo.jpg?sz=128", "display_name": "user12842890", "link": "https://stackoverflow.com/users/11467102/user12842890"}, "edited": false, "score": 0, "creation_date": 1557351049, "post_id": 56047999, "comment_id": 98740042, "body": "1- Javascript code runs in another server, php code runs in another server."}, {"owner": {"reputation": 3, "user_id": 11467102, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Uc63zkzb8Jw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfY5zjYpUqUmw5IDHGoZZlZNWDwig/mo/photo.jpg?sz=128", "display_name": "user12842890", "link": "https://stackoverflow.com/users/11467102/user12842890"}, "edited": false, "score": 0, "creation_date": 1557351071, "post_id": 56047999, "comment_id": 98740054, "body": "2- Yes all of these codes is running now on my server."}], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 11473797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b3a6b6506a083235c564dc0b4bdb25d?s=128&d=identicon&r=PG", "display_name": "fastphp", "link": "https://stackoverflow.com/users/11473797/fastphp"}, "is_accepted": true, "score": 0, "last_activity_date": 1557385791, "last_edit_date": 1557385791, "creation_date": 1557381396, "answer_id": 56053005, "question_id": 56047999, "link": "https://stackoverflow.com/questions/56047999/i-cant-add-posted-data-to-database-sent-from-javascript-where-executed-in-php/56053005#56053005", "title": "I can&#39;t add posted data to database sent from javascript where executed in PHP", "body": "<pre><code>fetch(\"https://example.com/test.php\", {\n    method: 'POST',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    mode: 'cors',\n    body: JSON.stringify({\n        'isim': lastPlayersTouched[0].name,\n        'sure': getTime(scores)\n    })\n});\n</code></pre>\n\n<p>database connection (host parameter missing)</p>\n\n<pre><code>$db=new PDO(\"mysql:host=localhost;dbname=test1_evet;charset=utf8\",'test1_evet','N#rK%*?PkTki');\n</code></pre>\n\n<p>Access-Control-Allow-Headers (xhr header missing)</p>\n\n<pre><code>header('Access-Control-Allow-Headers: Origin, Content-Type, X-Auth-Token , Authorization, X-Requested-With');\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11467102, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Uc63zkzb8Jw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfY5zjYpUqUmw5IDHGoZZlZNWDwig/mo/photo.jpg?sz=128", "display_name": "user12842890", "link": "https://stackoverflow.com/users/11467102/user12842890"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 56053005, "answer_count": 1, "score": 0, "last_activity_date": 1557430958, "creation_date": 1557344697, "last_edit_date": 1557430958, "question_id": 56047999, "link": "https://stackoverflow.com/questions/56047999/i-cant-add-posted-data-to-database-sent-from-javascript-where-executed-in-php", "title": "I can&#39;t add posted data to database sent from javascript where executed in PHP", "body": "<p>I have problem with my code.</p>\n\n<p>In this code I am sending some data to another server.</p>\n\n<pre><code>fetch(\"https://example.com/test.php\", {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n\n  },\n  body: JSON.stringify({\n\"isim\": lastPlayersTouched[0].name,\n\"sure\": getTime(scores)\n  })\n\n});\n</code></pre>\n\n<p>And here I have database connection:</p>\n\n<pre><code>&lt;?php \n\ntry {\n\n    $db=new PDO(\"mysql:localhost;dbname=test1_evet;charset=utf8\",'test1_evet','N#rK%*?PkTki');\n    //echo \"ok\";\n\n} \n\ncatch (PDOException $e) {\n    echo $e-&gt;getMessage();\n}\n\n?&gt;\n</code></pre>\n\n<p>And the final part here I am trying to add posted things to add my database:</p>\n\n<pre><code>&lt;?php \nheader('Access-Control-Allow-Origin: *'); \n    header(\"Access-Control-Allow-Credentials: true\");\n    header('Access-Control-Allow-Methods: GET, PUT, POST, DELETE, OPTIONS');\n    header('Access-Control-Max-Age: 1000');\n    header('Access-Control-Allow-Headers: Origin, Content-Type, X-Auth-Token , Authorization');\n\nrequire_once 'baglan.php';\n\n// if (isset($_POST)) {\n\nif ($_SERVER['REQUEST_METHOD'] == 'POST') {\n  $arr = json_decode(file_get_contents('php://input'), true);\n\n    $kaydet=$db-&gt;prepare(\"INSERT into test SET\n        isim=:isim,\n        sure=:sure\n        \");\n\n    $insert=$kaydet-&gt;execute(array(\n\n        // 'isim' =&gt; $_POST['isim'],\n        'isim' =&gt; $arr['isim'],\n        // 'sure' =&gt; $_POST['sure']\n        'sure' =&gt; $arr['sure']\n\n    ));\n\n}\n\n// }\n\n?&gt;\n</code></pre>\n\n<p>But the problem is,  I can send data from another server to my current server with 200 OK code. But PHP doesn't add things I've sent to database. I mean not inserting to database. Can someone help me on that? I will be very happy if you guys help me. </p>\n\n<p>Any fix?</p>\n"}, {"tags": ["javascript", "lodash"], "answers": [{"tags": [], "owner": {"reputation": 458, "user_id": 5831347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d94454de7fc6cb7f97a892e5bdfaad?s=128&d=identicon&r=PG&f=1", "display_name": "Mehrdad", "link": "https://stackoverflow.com/users/5831347/mehrdad"}, "is_accepted": false, "score": 0, "last_activity_date": 1557346111, "creation_date": 1557346111, "answer_id": 56048316, "question_id": 56047989, "link": "https://stackoverflow.com/questions/56047989/filtering-non-empty-or-undefined-object-value/56048316#56048316", "title": "filtering non empty or undefined object value", "body": "<p>use a custome function maybe?</p>\n\n<pre><code>function sanitize(a) {\n  let b = JSON.parse(JSON.stringify(a))\n  for (const key in b) {\n    if (Array.isArray(b[key])) {\n      if (_.isEmpty(b[key][0])) delete b[key]\n    }\n  }\n  return b;\n}\nconst filteredActiveCard = sanitize(activeCard)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": false, "score": 0, "last_activity_date": 1557346581, "last_edit_date": 1557346581, "creation_date": 1557346240, "answer_id": 56048352, "question_id": 56047989, "link": "https://stackoverflow.com/questions/56047989/filtering-non-empty-or-undefined-object-value/56048352#56048352", "title": "filtering non empty or undefined object value", "body": "<p>Use <code>_.filter()</code> and check with <code>Array.some()</code> (or lodash <code>_.some()</code>) if the property's array contains an <code>account_value</code> which is not <code>nil</code>. Then flatten the results to a single array.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const activeCard = {\"cardValue1\":[{\"account_value\":\"4422444443333004\",\"country\":\"US\",\"month\":\"01\",\"year\":\"2029\",\"confirmation\":[null]}],\"cardValue2\":[{}],\"cardValue3\":[{}]}\r\n\r\nconst result = _.flatten(_.filter(activeCard, arr =&gt; \r\n  arr.some(o =&gt; !_.isNil(o.account_value))\r\n))\r\n\r\nconsole.log(result)</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.11/lodash.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>With lodash/fp you can create a function that filters by iterating with <code>_.some()</code>, getting the <code>account_value</code>, and checking if it's not <code>nil</code>. Then flattens the results to a single array.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const { filter, some, flow, get, negate, isNil, flatten } = _\r\n\r\nconst fn = flow(\r\n  filter(some(flow(\r\n    get('account_value'),\r\n    negate(isNil)\r\n  ))),\r\n  flatten\r\n)\r\n\r\nconst activeCard = {\"cardValue1\":[{\"account_value\":\"4422444443333004\",\"country\":\"US\",\"month\":\"01\",\"year\":\"2029\",\"confirmation\":[null]}],\"cardValue2\":[{}],\"cardValue3\":[{}]}\r\n\r\nconst result = fn(activeCard)\r\n\r\nconsole.log(result)</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src='https://cdn.jsdelivr.net/g/lodash@4(lodash.min.js+lodash.fp.min.js)'&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 187400, "user_id": 43089, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cbdcba7870660c048cf9d6db74a3ef29?s=128&d=identicon&r=PG", "display_name": "Triptych", "link": "https://stackoverflow.com/users/43089/triptych"}, "is_accepted": false, "score": 0, "last_activity_date": 1557346877, "last_edit_date": 1557346877, "creation_date": 1557346480, "answer_id": 56048409, "question_id": 56047989, "link": "https://stackoverflow.com/questions/56047989/filtering-non-empty-or-undefined-object-value/56048409#56048409", "title": "filtering non empty or undefined object value", "body": "<p>Lodash makes this super easy.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const cards = {\r\n cardValue1: \r\n   [ { account_value: '4422444443333004',\r\n       country: 'US',\r\n       month: '01',\r\n       year: '2029',\r\n       confirmation: [Object] } ],\r\n  cardValue2: [ { account_value: undefined } ],\r\n  cardValue3: [ { account_value: undefined } ] \r\n }\r\n\r\nconst activeCards = _(cards)\r\n      .pickBy(v =&gt; v.length)\r\n      .values()\r\n      .flatten()\r\n      .filter('account_value')\r\n      \r\nconsole.log(activeCards);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdn.jsdelivr.net/npm/lodash@4.17.11/lodash.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 45, "user_id": 2185163, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/f2f9ede3caef078f4b5769bf1c268af3?s=128&d=identicon&r=PG", "display_name": "Jlearner", "link": "https://stackoverflow.com/users/2185163/jlearner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1557346877, "creation_date": 1557344665, "question_id": 56047989, "link": "https://stackoverflow.com/questions/56047989/filtering-non-empty-or-undefined-object-value", "title": "filtering non empty or undefined object value", "body": "<p>Trying to filter out undefined object values.</p>\n\n<pre><code>const activeCard = _.pickBy(cards);\n</code></pre>\n\n<p>console output of activeCard shows the below object.</p>\n\n<pre><code> { cardValue1: \n   [ { account_value: '4422444443333004',\n       country: 'US',\n       month: '01',\n       year: '2029',\n       confirmation: [Object] } ],\n  cardValue2: [ { account_value: undefined } ],\n  cardValue3: [ { account_value: undefined } ] }\n\n</code></pre>\n\n<p>I tried something like this which didnt work </p>\n\n<pre><code>const newObject = _.omitBy(activeCard, _.isNil);\n\n// also tried to filter out at the level of _.pickBy which didnt work\n\nconst activeCard = _.pickBy(cards, (value) =&gt; { return value.length &gt; 0; });\n\n// output i am looking for is something like below\n[ { account_value: '4422444443333004',\n       country: 'US',\n       month: '01',\n       year: '2029',\n       confirmation: [Object] } ]\n// So basically, Im looking for output with 'undefined' object values filtered out.\n</code></pre>\n"}, {"tags": ["javascript", "vue.js", "nuxt.js"], "comments": [{"owner": {"reputation": 361, "user_id": 11303576, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wyROJTUYo2o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdiUN4--rN8YlweWwETDcECbR6I0w/mo/photo.jpg?sz=128", "display_name": "\u738b\u4ec1\u5b8f", "link": "https://stackoverflow.com/users/11303576/%e7%8e%8b%e4%bb%81%e5%ae%8f"}, "edited": false, "score": 1, "creation_date": 1557345494, "post_id": 56047982, "comment_id": 98737877, "body": "do not change <code>value</code> because it will compare <code>options</code>  to determin show / hide options in view. make a computed is more better."}, {"owner": {"reputation": 361, "user_id": 11303576, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wyROJTUYo2o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdiUN4--rN8YlweWwETDcECbR6I0w/mo/photo.jpg?sz=128", "display_name": "\u738b\u4ec1\u5b8f", "link": "https://stackoverflow.com/users/11303576/%e7%8e%8b%e4%bb%81%e5%ae%8f"}, "edited": false, "score": 1, "creation_date": 1557345687, "post_id": 56047982, "comment_id": 98737934, "body": "<a href=\"https://codepen.io/anon/pen/PvPxoQ\" rel=\"nofollow noreferrer\">codepen.io/anon/pen/PvPxoQ</a>"}, {"owner": {"reputation": 1711, "user_id": 1361687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://graph.facebook.com/1197961179/picture?type=large", "display_name": "&#194;ngelo Rigo", "link": "https://stackoverflow.com/users/1361687/%c3%82ngelo-rigo"}, "reply_to_user": {"reputation": 361, "user_id": 11303576, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wyROJTUYo2o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdiUN4--rN8YlweWwETDcECbR6I0w/mo/photo.jpg?sz=128", "display_name": "\u738b\u4ec1\u5b8f", "link": "https://stackoverflow.com/users/11303576/%e7%8e%8b%e4%bb%81%e5%ae%8f"}, "edited": false, "score": 0, "creation_date": 1557346294, "post_id": 56047982, "comment_id": 98738185, "body": "Thank you @\u738b\u4ec1\u5b8f your solution  is very clear, did not know i could access the value in this way using the javascript map"}, {"owner": {"reputation": 1711, "user_id": 1361687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://graph.facebook.com/1197961179/picture?type=large", "display_name": "&#194;ngelo Rigo", "link": "https://stackoverflow.com/users/1361687/%c3%82ngelo-rigo"}, "reply_to_user": {"reputation": 361, "user_id": 11303576, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wyROJTUYo2o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdiUN4--rN8YlweWwETDcECbR6I0w/mo/photo.jpg?sz=128", "display_name": "\u738b\u4ec1\u5b8f", "link": "https://stackoverflow.com/users/11303576/%e7%8e%8b%e4%bb%81%e5%ae%8f"}, "edited": false, "score": 0, "creation_date": 1557348328, "post_id": 56047982, "comment_id": 98739065, "body": "How can i reset the array so i can have just one value at every time i select one option from the select box ?"}, {"owner": {"reputation": 361, "user_id": 11303576, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wyROJTUYo2o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdiUN4--rN8YlweWwETDcECbR6I0w/mo/photo.jpg?sz=128", "display_name": "\u738b\u4ec1\u5b8f", "link": "https://stackoverflow.com/users/11303576/%e7%8e%8b%e4%bb%81%e5%ae%8f"}, "edited": false, "score": 1, "creation_date": 1557348699, "post_id": 56047982, "comment_id": 98739199, "body": "if you mean what value changed,  <a href=\"https://vue-multiselect.js.org/#sub-events\" rel=\"nofollow noreferrer\">vue-multiselect.js.org/#sub-events</a>  add @select attr and give a function to access <code>selectedOption</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1711, "user_id": 1361687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://graph.facebook.com/1197961179/picture?type=large", "display_name": "&#194;ngelo Rigo", "link": "https://stackoverflow.com/users/1361687/%c3%82ngelo-rigo"}, "edited": false, "score": 0, "creation_date": 1557346321, "post_id": 56048218, "comment_id": 98738199, "body": "Thank you @ebbishop"}], "tags": [], "owner": {"reputation": 1434, "user_id": 5799673, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f1eb668cc8e910aba87ad3d0502d7da0?s=128&d=identicon&r=PG&f=1", "display_name": "ebbishop", "link": "https://stackoverflow.com/users/5799673/ebbishop"}, "is_accepted": true, "score": 1, "last_activity_date": 1557345674, "creation_date": 1557345674, "answer_id": 56048218, "question_id": 56047982, "link": "https://stackoverflow.com/questions/56047982/vuejs-multiselect-how-to-get-just-the-selected-option-when-enabling-the-multiple/56048218#56048218", "title": "Vuejs-Multiselect how to get just the selected option when enabling the multiple option", "body": "<p>You can use a computed property for that. Do something like this:</p>\n\n<pre><code>  computed: {\n    valueIds() {\n      return this.value.map(v =&gt; v.id);\n    }\n  }\n</code></pre>\n\n<p>See this working example:</p>\n\n<p><a href=\"https://jsfiddle.net/ebbishop/7eku4vf0/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/ebbishop/7eku4vf0/</a></p>\n"}], "owner": {"reputation": 1711, "user_id": 1361687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://graph.facebook.com/1197961179/picture?type=large", "display_name": "&#194;ngelo Rigo", "link": "https://stackoverflow.com/users/1361687/%c3%82ngelo-rigo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 856, "favorite_count": 0, "accepted_answer_id": 56048218, "answer_count": 1, "score": 1, "last_activity_date": 1557345677, "creation_date": 1557344623, "last_edit_date": 1557345677, "question_id": 56047982, "link": "https://stackoverflow.com/questions/56047982/vuejs-multiselect-how-to-get-just-the-selected-option-when-enabling-the-multiple", "title": "Vuejs-Multiselect how to get just the selected option when enabling the multiple option", "body": "<p>I am new to VueJS, and i am using <a href=\"https://vue-multiselect.js.org\" rel=\"nofollow noreferrer\">Vuejs-Multiselect</a>, enabling the multiple option.</p>\n\n<p>I need to pass the selected value to the <code>toggleSelected</code> method .</p>\n\n<p>In this pen, there is a simulation : <a href=\"https://codepen.io/amrigo/pen/arvadE\" rel=\"nofollow noreferrer\">https://codepen.io/amrigo/pen/arvadE</a></p>\n\n<p>I see the values are concatenated, eg.: when i choose the first value i can see using console.log : [object Object], choosing the second [object Object],[object Object] and so on.</p>\n\n<p>How can i get just the selected value and so the code value from the options array?</p>\n\n<p>In the html i do use :</p>\n\n<pre><code>&lt;div id=\"app\"&gt;    \n          &lt;multiselect \n            v-model=\"value\" \n            :options=\"options\"\n            :multiple=\"true\"\n            track-by=\"name\"\n            :hide-selected=\"true\" \n            :close-on-select=\"false\"\n            :custom-label=\"customLabel\"\n            :searchable=\"false\" \n            placeholder=\"\" \n            :show-labels=\"false\"\n            @input=\"toggleSelected(value)\"\n            &gt;           \n          &lt;/multiselect&gt;      \n            &lt;pre&gt;{{ value }}&lt;/pre&gt; \n        &lt;/div&gt;\n</code></pre>\n\n<p>In the script i do use :</p>\n\n<pre><code>new Vue({\n            components: {\n                Multiselect: VueMultiselect.default\n            },\n            data: {\n                value: [],\n                options: [\n                        { name: 'Agriculture', code: '1' },\n                        { name: 'Police', code: '2' },\n                        { name: 'Medical', code: '3' }                  \n                ]\n            },\n          methods: {\n            customLabel (option) {\n              return `${option.name}`\n            },\n            toggleSelected(value) {\n              alert( `${value.name}` )\n              console.log(' &gt;&gt; '+ `${value}` )\n            }\n          }\n        }).$mount('#app')\n</code></pre>\n"}, {"tags": ["javascript", "amazon-web-services", "amazon-s3", "streaming"], "comments": [{"owner": {"reputation": 162605, "user_id": 174777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6PnNW.jpg?s=128&g=1", "display_name": "John Rotenstein", "link": "https://stackoverflow.com/users/174777/john-rotenstein"}, "edited": false, "score": 1, "creation_date": 1557350869, "post_id": 56047969, "comment_id": 98739971, "body": "It is probably related to the <b>content type</b> that was put on the object (or, most likely, <i>NOT</i> put) when the object was uploaded. See: <a href=\"https://stackoverflow.com/q/29643455/174777\">How do I set Content-Type when uploading to S3 with AWS CLI?</a>"}, {"owner": {"reputation": 13, "user_id": 3593287, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001721671855/picture?type=large", "display_name": "Saurabh Kulkarni", "link": "https://stackoverflow.com/users/3593287/saurabh-kulkarni"}, "reply_to_user": {"reputation": 162605, "user_id": 174777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6PnNW.jpg?s=128&g=1", "display_name": "John Rotenstein", "link": "https://stackoverflow.com/users/174777/john-rotenstein"}, "edited": false, "score": 0, "creation_date": 1557429400, "post_id": 56047969, "comment_id": 98772213, "body": "Thanks for the reply, @JohnRotenstein ! Is there a way to manage it on the browser itself or in javascript code? I&#39;m connecting to a customer&#39;s aws environment and they are unaware of what content type is being set while uploading the files."}, {"owner": {"reputation": 13, "user_id": 3593287, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001721671855/picture?type=large", "display_name": "Saurabh Kulkarni", "link": "https://stackoverflow.com/users/3593287/saurabh-kulkarni"}, "reply_to_user": {"reputation": 162605, "user_id": 174777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6PnNW.jpg?s=128&g=1", "display_name": "John Rotenstein", "link": "https://stackoverflow.com/users/174777/john-rotenstein"}, "edited": false, "score": 0, "creation_date": 1557430180, "post_id": 56047969, "comment_id": 98772547, "body": "@JohnRotenstein I did check the content type by doing another API call to AWS for specific file and I got the content type as audio/wav"}], "owner": {"reputation": 13, "user_id": 3593287, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001721671855/picture?type=large", "display_name": "Saurabh Kulkarni", "link": "https://stackoverflow.com/users/3593287/saurabh-kulkarni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 468, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1557350779, "creation_date": 1557344569, "last_edit_date": 1557350779, "question_id": 56047969, "link": "https://stackoverflow.com/questions/56047969/streaming-wav-files-in-browser-from-pre-signed-aws-s3-url", "title": "Streaming WAV files in browser from pre-signed AWS S3 URL", "body": "<p>I have pre signed URL from Amazon S3 something like below\n<a href=\"https://bucketname.s3.amazonaws.com/audios/myfile.wav?AWSAccessKeyId=XXXXXXXXXXXXX&amp;Expires=1556734678&amp;Signature=A1BL1tnidbSM6AGXYwvlA99vXEk%3D\" rel=\"nofollow noreferrer\">https://bucketname.s3.amazonaws.com/audios/myfile.wav?AWSAccessKeyId=XXXXXXXXXXXXX&amp;Expires=1556734678&amp;Signature=A1BL1tnidbSM6AGXYwvlA99vXEk%3D</a></p>\n\n<p>This URL works fine and gives me the audio file. However, browser doesn't really play the file automatically and instead I have to right click, save as WAV file and they play it on my local player. </p>\n\n<p>I want it to be played/streamed then and there on the browser. The browser shows default Chrome audio player, but it stays disabled.</p>\n\n<p>Is there a setting in AWS for this or can I use some audio player libraries to play it or there is different way to get the URL? I have been searching this on the forums but couldn't get a solution that will work for me.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557344547, "post_id": 56047924, "comment_id": 98737500, "body": "Search for &quot;debouncing&quot; as a way to rate-limit an event handler."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 11421356, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PkkDN.png?s=128&g=1", "display_name": "Its O Yo", "link": "https://stackoverflow.com/users/11421356/its-o-yo"}, "edited": false, "score": 0, "creation_date": 1557346774, "post_id": 56048400, "comment_id": 98738380, "body": "I am unable to do this as I am currently using Jquery 3.4 and 3.4 has removed stuff like let and const"}, {"owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "reply_to_user": {"reputation": 51, "user_id": 11421356, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PkkDN.png?s=128&g=1", "display_name": "Its O Yo", "link": "https://stackoverflow.com/users/11421356/its-o-yo"}, "edited": false, "score": 0, "creation_date": 1557346922, "post_id": 56048400, "comment_id": 98738454, "body": "changed to jquery-3.4.1 const and let is replacement of var in new Javascript ECMA standards , should work now"}, {"owner": {"reputation": 51, "user_id": 11421356, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PkkDN.png?s=128&g=1", "display_name": "Its O Yo", "link": "https://stackoverflow.com/users/11421356/its-o-yo"}, "edited": false, "score": 0, "creation_date": 1557347244, "post_id": 56048400, "comment_id": 98738602, "body": "Does the integrity and crossorigin stuff have anything to do with this? I currently do not have them implemented and it doesn&#39;t work. If they are required, can you explain to me what they are/what they do?"}, {"owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "reply_to_user": {"reputation": 51, "user_id": 11421356, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PkkDN.png?s=128&g=1", "display_name": "Its O Yo", "link": "https://stackoverflow.com/users/11421356/its-o-yo"}, "edited": false, "score": 0, "creation_date": 1557347290, "post_id": 56048400, "comment_id": 98738621, "body": "you should be able to run the code here in Stackoverflow there is a &quot;Run code snippet&quot; button"}, {"owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "reply_to_user": {"reputation": 51, "user_id": 11421356, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PkkDN.png?s=128&g=1", "display_name": "Its O Yo", "link": "https://stackoverflow.com/users/11421356/its-o-yo"}, "edited": false, "score": 0, "creation_date": 1557348153, "post_id": 56048400, "comment_id": 98738987, "body": "Short answer no, just copy the javascript"}, {"owner": {"reputation": 51, "user_id": 11421356, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PkkDN.png?s=128&g=1", "display_name": "Its O Yo", "link": "https://stackoverflow.com/users/11421356/its-o-yo"}, "edited": false, "score": 1, "creation_date": 1557348939, "post_id": 56048400, "comment_id": 98739310, "body": "Was just tinkering around and it works without integrity or crossorigin somehow. The reason it didnt originally work was because my IDE (IntelliJ IDEA Ultimate) and or GlassFish wasn&#39;t properly refreshing/reloading the code so it kept running the old version of my code.  Thank you for your help :)"}], "tags": [], "owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "is_accepted": true, "score": 1, "last_activity_date": 1557346883, "last_edit_date": 1557346883, "creation_date": 1557346439, "answer_id": 56048400, "question_id": 56047924, "link": "https://stackoverflow.com/questions/56047924/prevent-users-from-pressing-enter-to-active-bootstrap-button/56048400#56048400", "title": "Prevent users from pressing &quot;Enter&quot; to active bootstrap button", "body": "<p>This prevents user from spamming enter key on a button</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var counter = 0;\r\nvar AddMoney = function() {\r\n  console.log('I was clicked ' + counter + ' times');\r\n  counter++;\r\n}\r\n$(\"#Click\").keypress(function(e) {\r\n  //Enter key\r\n  if (e.which == 13) {\r\n    return false;\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script\r\n  src=\"https://code.jquery.com/jquery-3.4.1.min.js\"\r\n  integrity=\"sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=\"\r\n  crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n  &lt;link href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" rel=\"stylesheet\" /&gt;\r\n&lt;button id=\"Click\" onclick=\"AddMoney()\" type=\"button\" class=\"btn btn-primary btn-clicker\"&gt;Click!&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 51, "user_id": 11421356, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PkkDN.png?s=128&g=1", "display_name": "Its O Yo", "link": "https://stackoverflow.com/users/11421356/its-o-yo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 56048400, "answer_count": 1, "score": 1, "last_activity_date": 1580932769, "creation_date": 1557344379, "question_id": 56047924, "link": "https://stackoverflow.com/questions/56047924/prevent-users-from-pressing-enter-to-active-bootstrap-button", "title": "Prevent users from pressing &quot;Enter&quot; to active bootstrap button", "body": "<p>I'm creating a clicker game for a school project and a big bug that comes up is users being able to click and hold down enter on a button that gives them the game's currency at an accelerated rate. I was wondering if anybody knows how to make it so the button can only be activated by holding down enter every X seconds?</p>\n\n<p><strong>For example:</strong></p>\n\n<p>I've held down enter on a button for 5 seconds, so the button's actions was only really activated 5 times.</p>\n\n<p><strong>Button code</strong> (using Bootstrap 4 if that helps)</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;button id=\"Click\" onclick=\"AddMoney()\" type=\"button\" class=\"btn btn-primary btn-clicker\"&gt;Click!&lt;/button&gt;\n</code></pre>\n\n<p>Answer could be in either JQuery or Javascript</p>\n\n<p>Thank you so much for all the help</p>\n"}, {"tags": ["javascript", "sorting", "vue.js", "vuex", "mutation"], "comments": [{"owner": {"reputation": 1434, "user_id": 5799673, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f1eb668cc8e910aba87ad3d0502d7da0?s=128&d=identicon&r=PG&f=1", "display_name": "ebbishop", "link": "https://stackoverflow.com/users/5799673/ebbishop"}, "edited": false, "score": 0, "creation_date": 1557346561, "post_id": 56047923, "comment_id": 98738290, "body": "It looks like you&#39;re sorting <code>state.replenJobs</code>, not <code>state.jobs</code>. This will sort <code>state.replenJobs</code> in place (which I don&#39;t see in your sample code) and leave <code>state.jobs</code> untouched."}, {"owner": {"reputation": 1982, "user_id": 2664815, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mmDaY.jpg?s=128&g=1", "display_name": "aCarella", "link": "https://stackoverflow.com/users/2664815/acarella"}, "reply_to_user": {"reputation": 1434, "user_id": 5799673, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f1eb668cc8e910aba87ad3d0502d7da0?s=128&d=identicon&r=PG&f=1", "display_name": "ebbishop", "link": "https://stackoverflow.com/users/5799673/ebbishop"}, "edited": false, "score": 0, "creation_date": 1557346704, "post_id": 56047923, "comment_id": 98738344, "body": "@ebbishop That&#39;s my mistake. That&#39;s a typo. <code>replenJobs</code> is supposed to say <code>jobs</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1982, "user_id": 2664815, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mmDaY.jpg?s=128&g=1", "display_name": "aCarella", "link": "https://stackoverflow.com/users/2664815/acarella"}, "edited": false, "score": 0, "creation_date": 1557349560, "post_id": 56048762, "comment_id": 98739526, "body": "!!!! This was kind of what I needed. Really, what it was was I was trying to reference the sort key parameter as <code>a.sortKey</code> and <code>b.sortKey</code>, when it should have really been <code>a[sortKey]</code> and <code>b[sortKey]</code>. The function was probably literally trying to sort by a field named &quot;sortKey&quot;. I guess my follow up question would be why that is, and what the notation for a[sortKey] (brackets) is called. Thanks so much!"}], "tags": [], "owner": {"reputation": 1434, "user_id": 5799673, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f1eb668cc8e910aba87ad3d0502d7da0?s=128&d=identicon&r=PG&f=1", "display_name": "ebbishop", "link": "https://stackoverflow.com/users/5799673/ebbishop"}, "is_accepted": true, "score": 10, "last_activity_date": 1557401922, "last_edit_date": 1557401922, "creation_date": 1557348137, "answer_id": 56048762, "question_id": 56047923, "link": "https://stackoverflow.com/questions/56047923/how-to-sort-data-in-vuex-state-with-mutation/56048762#56048762", "title": "How to sort data in Vuex state with mutation", "body": "<p>Arrays are tricky in Vue.  Take a look at these <a href=\"https://vuejs.org/2016/02/06/common-gotchas/\" rel=\"noreferrer\">common gotchas</a>.</p>\n\n<p>Instead of mutating the array in place, try making a copy, sorting the copy and setting <code>state.jobs</code> to that sorted array.</p>\n\n<p>Something like this:</p>\n\n<pre><code>  mutations: {\n    sortJobs(state, sortKey) {\n        console.log('running mutation');\n        const jobs = this.state.jobs;\n        jobs.sort((a, b) =&gt; {\n            let compare = 0;\n            if (a[sortKey] &gt; b[sortKey]) {\n                compare = 1;\n            } else if (b[sortKey] &gt; a[sortKey]) {\n                compare = -1;\n            }\n            return compare;\n        });\n        state.jobs = jobs;\n    }\n  },\n</code></pre>\n\n<p>Also:</p>\n\n<ul>\n<li>move the instantiation of the compare variable into the sort callback, so it'll be new each time you sort two list items.</li>\n<li>instead of using <code>a.sortKey</code>, which will literally look for the <code>sortKey</code> property, use <code>a[sortKey]</code>, which will let you access a variable attribute.</li>\n</ul>\n\n<p>Working example, without vuex:\n<a href=\"https://jsfiddle.net/ebbishop/7eku4vf0/\" rel=\"noreferrer\">https://jsfiddle.net/ebbishop/7eku4vf0/</a></p>\n"}, {"tags": [], "owner": {"reputation": 996, "user_id": 4571911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/781b802717609f8a82267fd3dbd63b91?s=128&d=identicon&r=PG&f=1", "display_name": "key", "link": "https://stackoverflow.com/users/4571911/key"}, "is_accepted": false, "score": 0, "last_activity_date": 1614725816, "creation_date": 1614725816, "answer_id": 66448345, "question_id": 56047923, "link": "https://stackoverflow.com/questions/56047923/how-to-sort-data-in-vuex-state-with-mutation/66448345#66448345", "title": "How to sort data in Vuex state with mutation", "body": "<p>Picking up on @Ebbishops Answer you can modify this further by checking your current sort direction like so:</p>\n<pre><code>// html\n&lt;th scope=&quot;col&quot; @click=&quot;sort('title')&quot;&gt;Title&lt;/th&gt;\n&lt;th scope=&quot;col&quot; @click=&quot;sort('content')&quot;&gt;Content&lt;/th&gt;\n\n// script\n    methods: {\n        ...mapActions(['articles/SORT_ARTICLES']),\n        sort(s) {\n          this.$store.dispatch('articles/' + 'SORT_ARTICLES', s)\n        }\n      },\n\n\n// state\nexport const state = () =&gt; ({\n  articles: {},\n  currentSort: 'title',\n  currentSortDir: 'asc',\n});\n\n\n//mutations\n  SET_SORT_ARTICLES: (state, sortKey) =&gt; {\n    if(sortKey === state.currentSort) {\n      state.currentSortDir = state.currentSortDir === 'asc' ? 'desc' : 'asc';\n    }\n    state.currentSort = sortKey;\n\n      state.articles.sort((a,b) =&gt; {\n        let modifier = 1;\n        if(state.currentSortDir === 'desc') modifier = -1;\n        if(a[state.currentSort] &lt; b[state.currentSort]) return -1 * modifier;\n        if(a[state.currentSort] &gt; b[state.currentSort]) return modifier;\n        return state.articles;\n      });\n  },\n</code></pre>\n<p>this allows you to sort in both directions</p>\n"}], "owner": {"reputation": 1982, "user_id": 2664815, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mmDaY.jpg?s=128&g=1", "display_name": "aCarella", "link": "https://stackoverflow.com/users/2664815/acarella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4728, "favorite_count": 0, "accepted_answer_id": 56048762, "answer_count": 2, "score": 3, "last_activity_date": 1614725816, "creation_date": 1557344378, "last_edit_date": 1557346720, "question_id": 56047923, "link": "https://stackoverflow.com/questions/56047923/how-to-sort-data-in-vuex-state-with-mutation", "title": "How to sort data in Vuex state with mutation", "body": "<p>I have an array of objects that displays in a table on my html page in one of my Vue components. The array of objects is data in the state of a Vuex store.</p>\n\n<pre><code>export const store = new Vuex.Store({\n    state: {\n        jobs: [{...},{...},{...},{...},{...},{...}]\n    },\n    mutations: {\n        sortJobs(state, sortKey) {\n            console.log('running mutation');\n            let compare = 0;\n            this.state.jobs.sort((a, b) =&gt; {\n                if (a.sortKey &gt; b.sortKey) {\n                    compare = 1;\n                } else if (b.sortKey &gt; a.sortKey) {\n                    compare = -1;\n                }\n                return compare;\n            });\n        }\n    },\n    getters: {\n        jobs: state =&gt; state.jobs\n    }\n});\n</code></pre>\n\n<p>I am trying to sort the array of objects in the mutation <code>sortJobs</code>, but it will not work. I am calling the mutation in one of my components.</p>\n\n<pre><code>methods: {\n    sortBy: function(sortKey) {\n        this.$store.commit('sortJobs', sortKey);\n    }\n}\n</code></pre>\n\n<p>This will not change the order of the array of objects, nor in my table. I've tested to see if I can do anything to the array of objects, and when I replace <code>this.state.jobs.sort(...)</code> with <code>this.state.jobs.shift();</code>, the first object element in the array disappears off of my table. But when it comes to sorting, I can't get this to sort at all. What am I doing wrong?</p>\n"}, {"tags": ["javascript", "arrays", "javascript-objects"], "comments": [{"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1557344502, "post_id": 56047921, "comment_id": 98737476, "body": "What would happen with an array like <code>[&#39;1&#39;, &#39;Male&#39;, &#39;Female&#39;]</code> or <code>[&#39;Female&#39;]</code>? Would you then get <code>{&#39;1&#39;: { &#39;Male&#39;: { &#39;Female&#39;: 100 } } }</code> or <code>{ &#39;Female&#39;: 100 }</code>?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1557344838, "post_id": 56047921, "comment_id": 98737612, "body": "Here&#39;s a better duplicate: <a href=\"https://stackoverflow.com/questions/34054601/populate-nested-object-from-array\" title=\"populate nested object from array\">stackoverflow.com/questions/34054601/&hellip;</a>"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557345326, "post_id": 56047921, "comment_id": 98737823, "body": "@Barmar, this target assigns for each level amn object without checking, if a value/object exists."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1557345483, "post_id": 56047921, "comment_id": 98737870, "body": "@NinaScholz Not sure what you mean. It creates the object at each level, how can it not exist?"}], "answers": [{"comments": [{"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1557356684, "post_id": 56048070, "comment_id": 98741549, "body": "So I upvoted it when first answering myself, but it keeps me occupied in so far that I believe it&#39;s a bit overly complicated, and it doesn&#39;t as much create an object as does it mutate a given argument, and I&#39;m not sure the OP wants that. Not only that but how the value gets added is a bit obscure (and I do think that&#39;s why you mutate rather than create), so I am in doubt :)"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1557385706, "post_id": 56048070, "comment_id": 98748670, "body": "@Icepickle this kind of questions tends to a later wanted upgrade that the function should keep all properties and add just a new one. and while this function already works with an empty object, there is noting obscure. the functionality is straight forward, from the array of properties is the last one store and for all other, the reducing takes place which returns either a known property or add a new property to the last object. finally the last property is take for assigning a value."}, {"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1557386112, "post_id": 56048070, "comment_id": 98748860, "body": "That&#39;s a nice assumption, I was only talking about how you added the last property, which you couldn&#39;t have done in case you would return the object, so in that way, I found it a bit obfuscated (is probably a better word than obscure). The only other thing is that I am not a big fan of mutating arguments, cause that leads to side effects which the OP might not expect yet :) I guess in a sense, you could create another function to create a new object, set the value on that and return it, then the OP has 2 ways to go about it"}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 2, "last_activity_date": 1557345022, "creation_date": 1557345022, "answer_id": 56048070, "question_id": 56047921, "link": "https://stackoverflow.com/questions/56047921/convert-list-of-objects-when-the-levels-are-given-in-an-array/56048070#56048070", "title": "Convert list of Objects when the levels are given in an array", "body": "<p>You could save the last property and reduce the object. At the end assign the value to the last property.</p>\n\n<p>This solution respects already given properties.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function setValue(object, path, value) {\r\n   var last = path.pop();\r\n   path.reduce((o, k) =&gt; o[k] = o[k] || {}, object)[last] = value;\r\n}\r\n\r\nvar object = {};\r\n\r\nsetValue(object, [\"1\", \"Male\"], 100);\r\nconsole.log(object);\r\n\r\nsetValue(object, [\"1\", \"Female\"], 200);\r\nconsole.log(object);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "is_accepted": false, "score": 3, "last_activity_date": 1557345365, "last_edit_date": 1557345365, "creation_date": 1557345056, "answer_id": 56048082, "question_id": 56047921, "link": "https://stackoverflow.com/questions/56047921/convert-list-of-objects-when-the-levels-are-given-in-an-array/56048082#56048082", "title": "Convert list of Objects when the levels are given in an array", "body": "<p>You could use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduceright\" rel=\"nofollow noreferrer\"><code>reduceRight</code></a> for this. Use <code>value</code> as the <code>initialValue</code> of reduce and create a new level of nesting in every loop.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function createObj(paths, value) { \r\n  return paths.reduceRight((r, key) =&gt;  ({ [key] : r }), value)  \r\n}\r\n\r\nconsole.log(createObj([\"1\", \"Male\"], 100))\r\nconsole.log(createObj([\"level 1\", \"level 2\", \"level 3\" ], \"value\"))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 23, "user_id": 9798336, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dr.Murder", "link": "https://stackoverflow.com/users/9798336/dr-murder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 56048070, "answer_count": 2, "score": 2, "last_activity_date": 1557345365, "creation_date": 1557344374, "question_id": 56047921, "link": "https://stackoverflow.com/questions/56047921/convert-list-of-objects-when-the-levels-are-given-in-an-array", "title": "Convert list of Objects when the levels are given in an array", "body": "<p>Suppose I have an array which tells me the list of labels and a value that I need to add them into a JSON object. How do you transform it so?</p>\n\n<p>So basically I have is an array and a value <code>100</code></p>\n\n<pre><code>arr = [\"1\", \"Male\"]\n</code></pre>\n\n<p>Should be transform it into a object as so. </p>\n\n<pre><code>obj = {\n    \"1\":{\n        \"Male\":100\n        }\n    }\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "server", "ejs"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8012146, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159823171995206/picture?type=large", "display_name": "Anh Le", "link": "https://stackoverflow.com/users/8012146/anh-le"}, "is_accepted": false, "score": 0, "last_activity_date": 1557351445, "creation_date": 1557351445, "answer_id": 56049395, "question_id": 56047853, "link": "https://stackoverflow.com/questions/56047853/how-do-i-display-ejs-data-on-html-file/56049395#56049395", "title": "How do I display ejs data on html file?", "body": "<p>I would make another API endpoint that return <code>formdata</code>. After the user successfully post a response, instead of rendering output.ejs, have your form page make this API call to get the newly updated <code>formdata</code>, then process on the frontend as you please.</p>\n"}], "owner": {"reputation": 23, "user_id": 11205254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea7d5b6895ec7de1483a7fbde4fd0a02?s=128&d=identicon&r=PG&f=1", "display_name": "ergenaty", "link": "https://stackoverflow.com/users/11205254/ergenaty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557351445, "creation_date": 1557344047, "question_id": 56047853, "link": "https://stackoverflow.com/questions/56047853/how-do-i-display-ejs-data-on-html-file", "title": "How do I display ejs data on html file?", "body": "<p>I want users to fill out a form embedded a section of an HTML website, and have their submitted responses be updated every time on the same HTML file, rather than displaying their responses on a separate output.ejs file. I just don't know how beyond this point. What would I change in my server file? </p>\n\n<pre><code>var express = require('express')\nvar app = express()\nvar formdata = [];\n\nvar bodyParser = require('body-parser');\nvar urlencodedParser = bodyParser.urlencoded({ extended: true }); \n   app.use(urlencodedParser);\n\n   app.get('/', function (req, res) {\n   res.render('index');\n    })\n\n   app.use(express.static(__dirname + '/public'));\n   app.set('view engine', 'ejs');\n\n   app.post('/processform', function(req,res) {\n\n    let data = new Object();\n    data.street = req.body.street;\n    data.pet = req.body.pet;\n\n\n    formdata.push(data);\n\n    let passedindata = new Object();\n    passedindata.formdata = formdata;\n\n\n  res.render(\"output.ejs\", passedindata);\n});\n</code></pre>\n"}, {"tags": ["javascript", "react-native", "es6-modules"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1557344361, "post_id": 56047846, "comment_id": 98737408, "body": "<i>&quot;I can only image this happens because the index.js validates all declared exports, even when they&#39;re not used.&quot;</i> Nope, that&#39;s not how ES2015 modules (ESM) work. If <code>index.js</code> includes only <code>ComponentOne.js</code>, nothing is going to magically make it depend on <code>ComponentTwo.js</code> (and thus to dependency X). Something <i>else</i> is doing that (your bundler or similar), not ESM. Please update your question with the details of <b>exactly</b> what error you&#39;re getting, from what tool(s), and what your environment is (browser, Node.js, ...)."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1557344708, "post_id": 56047846, "comment_id": 98737559, "body": "<a href=\"https://github.com/facebook/metro/issues/227\" rel=\"nofollow noreferrer\">github.com/facebook/metro/issues/227</a> found via <a href=\"https://stackoverflow.com/questions/50272240/does-react-native-perform-tree-shaking\" title=\"does react native perform tree shaking\">stackoverflow.com/questions/50272240/&hellip;</a>"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1557344746, "post_id": 56047846, "comment_id": 98737571, "body": "@t.j. &quot;React Native&quot; is actually all we need ... ;)"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1557345565, "post_id": 56047846, "comment_id": 98737897, "body": "&quot;<i>I can only image this happens because the index.js validates all declared exports, even when they&#39;re not used.</i>&quot; - yes, when <code>index.js</code> imports (or exports from) both components, then importing the index.js file will load all the imported components, no matter whether they are used or not. Sounds like you really want two distinct packages with different npm dependencies. The alternative would be some kind of build switch."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1557383545, "post_id": 56047846, "comment_id": 98747684, "body": "@ mauricio - Are you saying you have an <code>index.js</code> with <code>import { One, Two } from &#39;components&#39;</code> in it in a project that doesn&#39;t use component <code>Two</code>? If so, then of course that means you need to install <code>Two</code>&#39;s dependencies. To avoid that, use a different <code>index.js</code> that <i>doesn&#39;t</i> reference <code>Two</code>, since you don&#39;t use it. In my comment above, I assumed you had a different <code>index.js</code> that didn&#39;t reference <code>Two</code> in the project that doesn&#39;t use it."}, {"owner": {"reputation": 379, "user_id": 3991137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iR9Zw.jpg?s=128&g=1", "display_name": "Maur&#237;cio Araldi", "link": "https://stackoverflow.com/users/3991137/maur%c3%adcio-araldi"}, "edited": false, "score": 0, "creation_date": 1557405330, "post_id": 56047846, "comment_id": 98759490, "body": "I have an index.js with  <code>export * from &#39;.&#47;ComponentOne.js&#39;;export * from &#39;.&#47;ComponentTwo.js&#39;;</code>  and on project one I only do <code>import { ComponentOne } from &#39;components&#39;;</code>"}], "owner": {"reputation": 379, "user_id": 3991137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iR9Zw.jpg?s=128&g=1", "display_name": "Maur&#237;cio Araldi", "link": "https://stackoverflow.com/users/3991137/maur%c3%adcio-araldi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 719, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1557405445, "creation_date": 1557344020, "last_edit_date": 1557405445, "question_id": 56047846, "link": "https://stackoverflow.com/questions/56047846/problems-using-index-js-to-import-es6-js-modules", "title": "Problems using &quot;index.js&quot; to import ES6 JS Modules", "body": "<p>I'm working with <em>React Native</em> and using <strong>index.js</strong> to manage modules. I have many projects consuming from the same components folder, which has a structure like this:</p>\n\n<pre><code>components\n|_ComponentOne.js\n|_ComponentTwo.js\n|_index.js\n</code></pre>\n\n<p>In which the index.js looks like this:</p>\n\n<pre><code>export * from './ComponentOne.js';\nexport * from './ComponentTwo.js';\n</code></pre>\n\n<hr>\n\n<p>Now lets say I have three projects:</p>\n\n<ul>\n<li><strong>ProjectOne</strong>, which uses ComponentOne;</li>\n<li><strong>ProjectTwo</strong>, which uses ComponentTwo;</li>\n<li><strong>ProjectThree</strong>, which uses both;</li>\n</ul>\n\n<p>Every project has its own files, but they refer to this same folder to use components (like a shared assets folder). Everything works fine while all the projects have all dependencies for all components.</p>\n\n<p>In another words, I have a problem when one of the projects doesn't install a dependency for one of the components, <strong>even when the project doesn't uses that component</strong>.</p>\n\n<p>Let's take as an example <strong>ProjectOne</strong>, which uses only <strong>ComponentOne</strong>. If <strong>ComponentTwo</strong> (which is not used in this project) has dependency X, I have to <em>npm install</em> dependency X even on <strong>ProjectOne</strong>, or an error is given. Again, <strong>ProjectOne</strong> doesn't use dependency X.</p>\n\n<p>I can only image this happens because the <em>index.js</em> validates all declared exports, even when they're not used.</p>\n\n<p>I'm trying to find an alternative to not be forced to install plugins and other things that I won't even use in my projects. I know that if I remove the <em>index.js</em> and start importing files directly on projects, it will work, but I would like to keep the <em>index.js</em> structure (to be able to use multi import syntax <code>import { ComponentOne, ComponentTwo } from 'components'</code>).</p>\n\n<p>Any suggestion?</p>\n\n<hr>\n\n<p><strong>Update:</strong></p>\n\n<p>The error I get, when I <strong>do not</strong> <em>npm install dependency X</em> is</p>\n\n<p><code>Module `X` does not exist in the Haste module map</code></p>\n\n<p>If I install it, everything works.</p>\n\n<p>I'm using the terminal to install the application directly into an android phone. The JS bundle is automatically created by Metro (RN default).</p>\n"}, {"tags": ["javascript", "xml", "google-chrome"], "comments": [{"owner": {"reputation": 11701, "user_id": 8376184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U6TIU.jpg?s=128&g=1", "display_name": "FZs", "link": "https://stackoverflow.com/users/8376184/fzs"}, "edited": false, "score": 0, "creation_date": 1557344278, "post_id": 56047822, "comment_id": 98737379, "body": "Create a HTML file and inside wrap the script between <code>&lt;script&gt;</code> and <code>&lt;&#47;script&gt;</code> tags"}, {"owner": {"reputation": 91, "user_id": 9908409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Fph_tvFS-BA/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3TCWtHc4AyOE3Jf-MsgD329Foteg/mo/photo.jpg?sz=128", "display_name": "Jay.F", "link": "https://stackoverflow.com/users/9908409/jay-f"}, "reply_to_user": {"reputation": 11701, "user_id": 8376184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U6TIU.jpg?s=128&g=1", "display_name": "FZs", "link": "https://stackoverflow.com/users/8376184/fzs"}, "edited": false, "score": 0, "creation_date": 1557344496, "post_id": 56047822, "comment_id": 98737472, "body": "So assuming I do that and drop it onto my server, access the html file from my browser: I&#39;ve nothing actually displaying the log output on the html page. If I access the console now should it show log output?"}], "owner": {"reputation": 91, "user_id": 9908409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Fph_tvFS-BA/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3TCWtHc4AyOE3Jf-MsgD329Foteg/mo/photo.jpg?sz=128", "display_name": "Jay.F", "link": "https://stackoverflow.com/users/9908409/jay-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557343922, "creation_date": 1557343922, "question_id": 56047822, "link": "https://stackoverflow.com/questions/56047822/how-to-check-console-log-output-in-chrome-need-to-debug-a-js-file-that-uses-xm", "title": "How to check console.log output in chrome? Need to debug a .js file that uses XMLHttpRequest", "body": "<p>Here is my utube.js (copy of a tutorial):</p>\n\n<pre><code>let getXMLFile = function(path, callback) {\n  let request = new XMLHttpRequest();\n   request.open(\"GET\", path);\n   request.onreadystatechange = function() {\n      if(request.readyState === 4 &amp;&amp; request.status === 200)\n          {\n            callback(request.responseXML);\n          }\n   };\n   request.send();\n};\n\ngetXMLFile(\"https://cors.io/?http://api.irishrail.ie/realtime/realtime.asmx/getStationDataByCodeXML_WithNumMins?StationCode='+Stationcode+'&amp;NumMins=90&amp;format=xml\", function(xml) {\n  console.log(xml);\n});\n</code></pre>\n\n<p>How can I check that this is gets the XML data I need? The content creator states 'you need to place it on a server or local host...' I tried placing the .js itself on my server and this simply opens it in a text format when I access it from my browser. Running the .js directly gives me a compile error (line 2, char 5, ';' expected).</p>\n\n<p>The creator can debug from the chrome console (console displayed error in red, when fixed he could read the actual XML data in the console output). How do I get to this step?:\n<a href=\"https://i.stack.imgur.com/xo7ri.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xo7ri.png\" alt=\"enter image description here\"></a></p>\n\n<p>I suspect I need to place the .js in a html doc, place that on my server and then access it from my browser? Not sure where the console comes into play however.</p>\n\n<p>Thanks for any help. This is my first time seriously using JS or attempting to use the console please try keep it simple!</p>\n"}, {"tags": ["javascript", "reactjs", "react-bootstrap", "kendo-react-ui"], "answers": [{"tags": [], "owner": {"reputation": 451, "user_id": 2668334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FutyL.png?s=128&g=1", "display_name": "Xizario", "link": "https://stackoverflow.com/users/2668334/xizario"}, "is_accepted": true, "score": 1, "last_activity_date": 1557907463, "creation_date": 1557907463, "answer_id": 56144350, "question_id": 56047789, "link": "https://stackoverflow.com/questions/56047789/using-kendoreact-dropdownlist-into-reactbootstrap-modal/56144350#56144350", "title": "Using KendoReact DropDownList into ReactBootstrap Modal", "body": "<p>Set bigger z-index for the animation container of the popup using CSS. And it will be on top of the modal to resolve it.</p>\n\n<pre><code>.k-animation-container{\n    z-index: 10000\n  }\n</code></pre>\n\n<p>Leave it to be rendered into the document. Since if you render it using appendTo to the Modal, the DropdDown will not be entirely visible when opened, or scrollbar will appear in your dialog. This is the purpose it is rendered into the document.</p>\n"}], "owner": {"reputation": 107, "user_id": 7788144, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155123507983498/picture?type=large", "display_name": "LePioo", "link": "https://stackoverflow.com/users/7788144/lepioo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 326, "favorite_count": 0, "accepted_answer_id": 56144350, "answer_count": 1, "score": 0, "last_activity_date": 1557907463, "creation_date": 1557343760, "question_id": 56047789, "link": "https://stackoverflow.com/questions/56047789/using-kendoreact-dropdownlist-into-reactbootstrap-modal", "title": "Using KendoReact DropDownList into ReactBootstrap Modal", "body": "<p>when I use a <a href=\"https://www.telerik.com/kendo-react-ui/components/dropdowns/dropdownlist/\" rel=\"nofollow noreferrer\">KendoReact DropDownList</a> into a <a href=\"https://react-bootstrap.netlify.com/components/modal/\" rel=\"nofollow noreferrer\">ReactBootstrap Modal</a> the expanded list appears UNDER the modal so it can't be interacted with.</p>\n\n<p>I read several issues that was pointing to a focus loss, which is not exactly my case, due to the fact that Kendo PopUp was append to body instead of the Modal itself, and the 'appendTo' prop seems to be a good solution for me but it exists only for the Kendo PopUp component, not for the Kendo DropDownList one (which uses PopUp underlying)...</p>\n\n<p>I've made a repo illustrating this issue : <a href=\"https://github.com/lePioo/react_kendo_dropdown_into_bootstrap_modal\" rel=\"nofollow noreferrer\">https://github.com/lePioo/react_kendo_dropdown_into_bootstrap_modal</a></p>\n\n<p>And a LIVE demo for this repo (take some time to load):<a href=\"https://react-kendo-dropdown-into-boot.herokuapp.com/\" rel=\"nofollow noreferrer\">https://react-kendo-dropdown-into-boot.herokuapp.com/</a></p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 2585, "user_id": 3061689, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/kUP4K.jpg?s=128&g=1", "display_name": "Eddwin Paz", "link": "https://stackoverflow.com/users/3061689/eddwin-paz"}, "edited": false, "score": 2, "creation_date": 1557346916, "post_id": 56047784, "comment_id": 98738450, "body": "possible duplicate: <a href=\"https://stackoverflow.com/a/19618212/3061689\">stackoverflow.com/a/19618212/3061689</a>"}, {"owner": {"reputation": 1337, "user_id": 903766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94253e3b2045fbf75c05e81a92035e37?s=128&d=identicon&r=PG", "display_name": "ctt", "link": "https://stackoverflow.com/users/903766/ctt"}, "edited": false, "score": 0, "creation_date": 1557349099, "post_id": 56047784, "comment_id": 98739376, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/19618169/jquery-onclick-change-background-color-for-table-cells-always-when-clicked\">jQuery - OnClick, change background color for table cells always when clicked</a>"}, {"owner": {"reputation": 2478, "user_id": 1586231, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/sRho9.jpg?s=128&g=1", "display_name": "Max von Hippel", "link": "https://stackoverflow.com/users/1586231/max-von-hippel"}, "edited": false, "score": 2, "creation_date": 1557350408, "post_id": 56047784, "comment_id": 98739809, "body": "Can you clarify in what way it &quot;did not work out&quot;?  The more clearly you can describe your problem, the easier it will be for us to help.  Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 7464052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21633d50bb349a49d2bb5de7e144022c?s=128&d=identicon&r=PG", "display_name": "DooM", "link": "https://stackoverflow.com/users/7464052/doom"}, "is_accepted": true, "score": 0, "last_activity_date": 1557348537, "creation_date": 1557348537, "answer_id": 56048845, "question_id": 56047784, "link": "https://stackoverflow.com/questions/56047784/jquery-coloring-cells-on-mouse-click-or-hold/56048845#56048845", "title": "jQuery - coloring cells on mouse click or hold", "body": "<p>Try listen to mouseover event and check if the button was pressed. It would look somehow like:</p>\n\n<pre><code>$(\"#canvas\").on(\"mouseover\", function(e) {\nif(e.buttons == 1)\n Draw(e.target);\n});\n</code></pre>\n\n<p>I made quick example for you (in vanilla JS unfortunately, I dont use jQuery anymore):\n<a href=\"https://codepen.io/DooMxDD/pen/RmWqjM\" rel=\"nofollow noreferrer\">https://codepen.io/DooMxDD/pen/RmWqjM</a></p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 11244882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2efa1350c7a78a4a713433bf00f86262?s=128&d=identicon&r=PG&f=1", "display_name": "michaldb", "link": "https://stackoverflow.com/users/11244882/michaldb"}, "is_accepted": false, "score": 0, "last_activity_date": 1557423986, "creation_date": 1557423986, "answer_id": 56064918, "question_id": 56047784, "link": "https://stackoverflow.com/questions/56047784/jquery-coloring-cells-on-mouse-click-or-hold/56064918#56064918", "title": "jQuery - coloring cells on mouse click or hold", "body": "<p>It worked out by adding these lines of code.</p>\n\n<pre><code>// Adding the selected color to coloring function\nfunction kleur(target) {\n    target.style.backgroundColor = color;\n}\n// Coloring when mouse is held down\n$(\"#canvas\").on(\"mouseover\", function(e) {\n    if(e.buttons == 1)\n     kleur(e.target);\n});\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11244882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2efa1350c7a78a4a713433bf00f86262?s=128&d=identicon&r=PG&f=1", "display_name": "michaldb", "link": "https://stackoverflow.com/users/11244882/michaldb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 56048845, "answer_count": 2, "score": 0, "last_activity_date": 1557423986, "creation_date": 1557343722, "last_edit_date": 1557361922, "question_id": 56047784, "link": "https://stackoverflow.com/questions/56047784/jquery-coloring-cells-on-mouse-click-or-hold", "title": "jQuery - coloring cells on mouse click or hold", "body": "<p>I am making a task to recreate paint kind of by making 100 x 50 cells and onlcick giving them a background color that is selected. But to make the drawing easier a user should be able to hold his mouse button and drag over the cells to make them fill in with a background color. As soon as he releases the mouse button the drawing should stop and you are back to clicking or have to hold the mouse button again. </p>\n\n<p>I have tried to do this with a .mousemove but that did not work out.</p>\n\n<pre><code>// MAKING THE GRID\nfor (let i = 1; i &lt;= 49; i++){\n    $('#canvas').append('&lt;tr id=\"table' + i + '\"&lt;/tr&gt;');\n    for(let j = 1; j &lt;= 100; j++){\n        $('#table' + i).append('&lt;td&gt;&lt;/td&gt;');\n    }\n}\n\n// ADDING A COLOR ON CLICK\n$('td').click(function kleur(){\n    if($(this).attr('style')){\n        $(this).removeAttr('style')\n    } else {\n        $(this).attr('style', 'background-color:' + color);\n    }\n})\n\n// SELECTING COLOR ON RIGHT CLICK\n$('td').mousedown(function(e) {\n    switch (event.which) {\n        case 3:\n        $('.popup').show();\n        $('.popup').css({left: e.pageX});\n        $('.popup').css({top: e.pageY});\n    }\n});\n</code></pre>\n"}, {"tags": ["javascript", "opl"], "comments": [{"owner": {"reputation": 10669, "user_id": 3684265, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4f365ab1670c41f5e966ef9abecf9903?s=128&d=identicon&r=PG", "display_name": "imvain2", "link": "https://stackoverflow.com/users/3684265/imvain2"}, "edited": false, "score": 0, "creation_date": 1557344077, "post_id": 56047766, "comment_id": 98737305, "body": "You could use <code>fetch</code> to open the file (<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fe&zwnj;&#8203;tch</a>). However, that is only part of your problem. The the other part is the processing of your <code>dat</code> file. If you were able to convert to XML or jSON, parsing would be rather simple as parsing them is built into the browser."}, {"owner": {"reputation": 350, "user_id": 6444557, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh6.googleusercontent.com/-h_y6yzKOSHg/AAAAAAAAAAI/AAAAAAAAAAA/t43cjwS-Y6g/photo.jpg?sz=128", "display_name": "Elliott Addi", "link": "https://stackoverflow.com/users/6444557/elliott-addi"}, "reply_to_user": {"reputation": 10669, "user_id": 3684265, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4f365ab1670c41f5e966ef9abecf9903?s=128&d=identicon&r=PG", "display_name": "imvain2", "link": "https://stackoverflow.com/users/3684265/imvain2"}, "edited": false, "score": 0, "creation_date": 1557345958, "post_id": 56047766, "comment_id": 98738045, "body": "I&#39;m not planning on using JS as part of a web-app, but with IBM&#39;s OPL (I dont know if that changes anything)"}], "owner": {"reputation": 350, "user_id": 6444557, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh6.googleusercontent.com/-h_y6yzKOSHg/AAAAAAAAAAI/AAAAAAAAAAA/t43cjwS-Y6g/photo.jpg?sz=128", "display_name": "Elliott Addi", "link": "https://stackoverflow.com/users/6444557/elliott-addi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 235, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1557346094, "creation_date": 1557343603, "last_edit_date": 1557346094, "question_id": 56047766, "link": "https://stackoverflow.com/questions/56047766/import-dat-file-in-js", "title": "Import .dat file in JS", "body": "<p>This may seem like a silly question as I am starting to study JS...<br>\nI have a .dat file called <code>adressCoordinates</code> looking like this :  </p>\n\n<pre><code>addressBase = {\n    &lt;1.9600642,48.4508028,  \"39 Rue des Pavillons\", 91410, \"Authon-la-Plaine\", \"France\"&gt;,\n    &lt;1.9597052,48.4506145,  \"33 Rue des Pavillons\", 91410, \"Authon-la-Plaine\", \"France\"&gt;,\n    \u2026\n}\n</code></pre>\n\n<p>With the help of a JS function, I'd like to return the longitude/latitude coordinates of an address passed by a parameter.</p>\n\n<pre><code>function getAddressCoordinates (address) {\n    // search address in file\n    return {\n        longitude: longitude, \n        latitude: latitude\n    };\n}\n</code></pre>\n\n<p>I have no idea how to do this, although i saw in JS documentation that you could import modules like this: <code>import * as data from 'path/adressCoordinates.dat';</code> but this does not work as it is not a JS file.</p>\n\n<p>What would be a correct/elegant way of doing this? (any documentation link would be greatly appreciated)  </p>\n\n<p>Thanks !</p>\n"}, {"tags": ["javascript", "html", "google-apps-script", "html-select"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1557343498, "post_id": 56047693, "comment_id": 98737048, "body": "<code>textContent</code> is the way to go."}, {"owner": {"reputation": 161, "user_id": 11176729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c639cf91600bebac7b0e838acc6a1000?s=128&d=identicon&r=PG", "display_name": "kiki", "link": "https://stackoverflow.com/users/11176729/kiki"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1557343621, "post_id": 56047693, "comment_id": 98737108, "body": "textContent and innerHTML both don&#39;t work with me, nothing changes. updated with the screenshot of how my dropdown looks."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1557343876, "post_id": 56047693, "comment_id": 98737226, "body": "Actually, <code>text</code> is fine for an <code>option</code> element. Clicking Run code snippet doesn&#39;t do much here because it&#39;s not in a Google App context. When I remove the code <code>google.</code>* it seems to work fine. I do see that you don&#39;t call <code>changeOptions</code> anywhere in your code. Perhaps that&#39;s it/"}, {"owner": {"reputation": 161, "user_id": 11176729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c639cf91600bebac7b0e838acc6a1000?s=128&d=identicon&r=PG", "display_name": "kiki", "link": "https://stackoverflow.com/users/11176729/kiki"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1557343950, "post_id": 56047693, "comment_id": 98737260, "body": "This line calls it: google.script.run.withSuccessHandler(changeOptions).calculat&zwnj;&#8203;eWeeks()"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1557347321, "post_id": 56047693, "comment_id": 98738637, "body": "Are you sure it&#39;s being called? I&#39;d put a <code>console.log(&#39;changeOptions&#39;)</code> within the function and see if it shows up... Also, that doesn&#39;t look like a standard drop-down; it may be that you have to have the text in the options before it&#39;s rendered..."}, {"owner": {"reputation": 26870, "user_id": 2946873, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/pIQti.jpg?s=128&g=1", "display_name": "Alan Wells", "link": "https://stackoverflow.com/users/2946873/alan-wells"}, "edited": false, "score": 0, "creation_date": 1557347975, "post_id": 56047693, "comment_id": 98738927, "body": "If you ever want more than one drop down list, and want to get a specific list, then I wouldn&#39;t use <code>var elems = document.querySelectorAll(&#39;select&#39;);</code>  And I wouldn&#39;t give every option an id, because you might want dynamic lists with different numbers of options.  You can add options one at a time, or get all the options and loop through them.  The value is the same as the ID, so you don&#39;t need the ID in order to know what option was choosen.   In an option list, the value can be different than the text content.  For example: <code>&lt;option value=&quot;1week&quot; id =&quot;wk1&quot; &gt;Week One&lt;&#47;option&gt;</code>"}, {"owner": {"reputation": 23873, "user_id": 1595451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/08TCi.jpg?s=128&g=1", "display_name": "Rub&#233;n", "link": "https://stackoverflow.com/users/1595451/rub%c3%a9n"}, "edited": false, "score": 0, "creation_date": 1557372251, "post_id": 56047693, "comment_id": 98744503, "body": "The use <code>google.script.run</code> makes the code to be no executable and in such case Stack Snippet should not be use."}, {"owner": {"reputation": 161, "user_id": 11176729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c639cf91600bebac7b0e838acc6a1000?s=128&d=identicon&r=PG", "display_name": "kiki", "link": "https://stackoverflow.com/users/11176729/kiki"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1557422709, "post_id": 56047693, "comment_id": 98769212, "body": "@HereticMonkey it&#39;s called as I get data from there. When I click white options the text appears then. Here&#39;s how it&#39;s been called <a href=\"https://developers.google.com/apps-script/guides/html/reference/run#withSuccessHandler(Function)\" rel=\"nofollow noreferrer\">developers.google.com/apps-script/guides/html/reference/&hellip;</a>"}, {"owner": {"reputation": 161, "user_id": 11176729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c639cf91600bebac7b0e838acc6a1000?s=128&d=identicon&r=PG", "display_name": "kiki", "link": "https://stackoverflow.com/users/11176729/kiki"}, "reply_to_user": {"reputation": 23873, "user_id": 1595451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/08TCi.jpg?s=128&g=1", "display_name": "Rub&#233;n", "link": "https://stackoverflow.com/users/1595451/rub%c3%a9n"}, "edited": false, "score": 0, "creation_date": 1557422747, "post_id": 56047693, "comment_id": 98769234, "body": "@Rub&#233;n where do I need to put my code instead?"}, {"owner": {"reputation": 23873, "user_id": 1595451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/08TCi.jpg?s=128&g=1", "display_name": "Rub&#233;n", "link": "https://stackoverflow.com/users/1595451/rub%c3%a9n"}, "edited": false, "score": 1, "creation_date": 1557424351, "post_id": 56047693, "comment_id": 98769953, "body": "@kiki instead of using Stack Snippet for Google Apps Script code use the other code formatting options described at <a href=\"https://stackoverflow.com/editing-help#code\">stackoverflow.com/editing-help#code</a>"}], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 11176729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c639cf91600bebac7b0e838acc6a1000?s=128&d=identicon&r=PG", "display_name": "kiki", "link": "https://stackoverflow.com/users/11176729/kiki"}, "edited": false, "score": 0, "creation_date": 1557422626, "post_id": 56048914, "comment_id": 98769173, "body": "For some reason this doesn&#39;t work with me. Is it possible to create options dynamically at all?"}, {"owner": {"reputation": 26870, "user_id": 2946873, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/pIQti.jpg?s=128&g=1", "display_name": "Alan Wells", "link": "https://stackoverflow.com/users/2946873/alan-wells"}, "reply_to_user": {"reputation": 161, "user_id": 11176729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c639cf91600bebac7b0e838acc6a1000?s=128&d=identicon&r=PG", "display_name": "kiki", "link": "https://stackoverflow.com/users/11176729/kiki"}, "edited": false, "score": 0, "creation_date": 1557427582, "post_id": 56048914, "comment_id": 98771424, "body": "The data in the <code>weeks</code> object needs to be structured a certain way.  I&#39;ve created a <a href=\"https://jsfiddle.net/Blueprinter/dz7cyew1/2/\" rel=\"nofollow noreferrer\">js fiddle</a> that adds options to the list.  The js fiddle runs when the page load.  In the js fiddle example, the values for <code>weeks</code> object is hard coded.  That&#39;s just to provide an example.  So, the js fiddle proves that it works.  But the data coming back from the server either needs to be in the format of the object, or if the data isn&#39;t in an object, you can change the data structure.  So, &quot;yes&quot; it&#39;s possible to dynamically add options to the list."}, {"owner": {"reputation": 161, "user_id": 11176729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c639cf91600bebac7b0e838acc6a1000?s=128&d=identicon&r=PG", "display_name": "kiki", "link": "https://stackoverflow.com/users/11176729/kiki"}, "edited": false, "score": 0, "creation_date": 1557436178, "post_id": 56048914, "comment_id": 98774926, "body": "thank you, Alan. The fiddle works well. I changed (even hardcoded) my weeks from an array to an object and it&#39;s not working still. Don&#39;t get what&#39;s wrong. Can somebosy correct my client&#39;server communication code?"}, {"owner": {"reputation": 161, "user_id": 11176729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c639cf91600bebac7b0e838acc6a1000?s=128&d=identicon&r=PG", "display_name": "kiki", "link": "https://stackoverflow.com/users/11176729/kiki"}, "edited": false, "score": 0, "creation_date": 1557436806, "post_id": 56048914, "comment_id": 98775170, "body": "How can I scustomize it when using this select?  <a href=\"https://materializecss.com/select.html\" rel=\"nofollow noreferrer\">materializecss.com/select.html</a> Maybe it has somehing to do with this framework. In fiddle it wotks, on practice doesn&#39;t."}, {"owner": {"reputation": 26870, "user_id": 2946873, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/pIQti.jpg?s=128&g=1", "display_name": "Alan Wells", "link": "https://stackoverflow.com/users/2946873/alan-wells"}, "reply_to_user": {"reputation": 161, "user_id": 11176729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c639cf91600bebac7b0e838acc6a1000?s=128&d=identicon&r=PG", "display_name": "kiki", "link": "https://stackoverflow.com/users/11176729/kiki"}, "edited": false, "score": 1, "creation_date": 1557444947, "post_id": 56048914, "comment_id": 98777230, "body": "On that materializecss page for the drop downs, I inspected the html from the browser developer tools, and the materilizecss drop down list is actually an un-ordered list <code>&lt;ul&gt;&lt;li&gt;&lt;&#47;li&gt;&lt;&#47;ul&gt;</code>  sitting underneath an input field.  So, if that&#39;s the case, then the code I provided is not going to work.  I don&#39;t know how materilizecss works.  Does the markup html code get converted to something else?  I don&#39;t know.  I searched for information about how to update a materializecss drop down, but didn&#39;t find anything.  Right click the drop down and choose &quot;inspect&quot; and look at the actual html."}, {"owner": {"reputation": 161, "user_id": 11176729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c639cf91600bebac7b0e838acc6a1000?s=128&d=identicon&r=PG", "display_name": "kiki", "link": "https://stackoverflow.com/users/11176729/kiki"}, "edited": false, "score": 0, "creation_date": 1557485985, "post_id": 56048914, "comment_id": 98790638, "body": "Alan, agree with you on that framework. And thank you for your contrubutions! I guess I can try other frameworks or something. If someone knows the solution I a ppreciate your advice."}, {"owner": {"reputation": 26870, "user_id": 2946873, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/pIQti.jpg?s=128&g=1", "display_name": "Alan Wells", "link": "https://stackoverflow.com/users/2946873/alan-wells"}, "reply_to_user": {"reputation": 161, "user_id": 11176729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c639cf91600bebac7b0e838acc6a1000?s=128&d=identicon&r=PG", "display_name": "kiki", "link": "https://stackoverflow.com/users/11176729/kiki"}, "edited": false, "score": 1, "creation_date": 1557490664, "post_id": 56048914, "comment_id": 98792987, "body": "There are many material design frameworks to choose from.  I have my own opinion, but don&#39;t want to state it here.  People have different requirements and preferences.  I looked at the Materialize docs some more, and they do have methods and properties that can be used on the select element.  There are only two methods, <code>.getSelectedValues()</code> and <code>.destroy()</code>  There is nothing for setting options.  I did find the following StackOverflow post:  <a href=\"https://stackoverflow.com/a/50879519/2946873\">How to dynamically modify &lt;select&gt; in materialize css framework</a>"}], "tags": [], "owner": {"reputation": 26870, "user_id": 2946873, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/pIQti.jpg?s=128&g=1", "display_name": "Alan Wells", "link": "https://stackoverflow.com/users/2946873/alan-wells"}, "is_accepted": false, "score": 0, "last_activity_date": 1557427673, "last_edit_date": 1557427673, "creation_date": 1557348849, "answer_id": 56048914, "question_id": 56047693, "link": "https://stackoverflow.com/questions/56047693/set-options-text-that-is-displayed-to-users-of-select-tag/56048914#56048914", "title": "Set options text (that is displayed to users) of &lt;select&gt; tag", "body": "<p><a href=\"https://jsfiddle.net/Blueprinter/dz7cyew1/2/\" rel=\"nofollow noreferrer\">JS Fiddle - Add options dynamically</a></p>\n\n<p>I would add an id to the select tag, and not give the options elements an ID attribute. If you are adding options to the select tag with code, then you don't need to enter pre-existing options tag html</p>\n\n<pre><code>&lt;select id=\"idWkChoice\"&gt;&lt;!-- select tag with only the first option --&gt;\n  &lt;option value=\"\" disabled selected&gt;Choose week&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>Get the select element, which contains all the options as children.</p>\n\n<pre><code>var slctTagWeeks = document.getElementById('idWkChoice');//Get drop down element\n</code></pre>\n\n<p>Add options to the list:</p>\n\n<pre><code>var slctTagWeeks = document.getElementById('idWkChoice');//Get drop down element\nvar option = document.createElement(\"option\");\noption.text = \"Week 1\";\noption.value = \"wk1\";//Add a value code that is different than the show text\nslctTagWeeks.add(option);\n</code></pre>\n\n<p>The above code adds an option to the list that didn't exist before.</p>\n\n<p>Then you could create a loop, and add the number of options in the list:</p>\n\n<pre><code>var option;\nvar slctTagWeeks = document.getElementById('idWkChoice');//Get drop down element\n\nvar weeks = {\n  wk1:'Week One',\n  wk2:'Week Two',\n  wk3:'Week Three'\n}\n\nfor (var k in weeks) {\n  thisID = k;\n  thisText = weeks[k];\n  option = document.createElement(\"option\");\n  option.text = thisText;\n  option.value = thisID;//Add a value code that is different than the show text\n  slctTagWeeks.add(option);\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 11176729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c639cf91600bebac7b0e838acc6a1000?s=128&d=identicon&r=PG", "display_name": "kiki", "link": "https://stackoverflow.com/users/11176729/kiki"}, "is_accepted": true, "score": 0, "last_activity_date": 1557601929, "creation_date": 1557601929, "answer_id": 56093490, "question_id": 56047693, "link": "https://stackoverflow.com/questions/56047693/set-options-text-that-is-displayed-to-users-of-select-tag/56093490#56093490", "title": "Set options text (that is displayed to users) of &lt;select&gt; tag", "body": "<p>The solutions was to add to the select tag this class: \"browser-default\".</p>\n\n<p>It cancelled the conversion of the select element to ul element that Materializecss framework does.</p>\n\n<p>So with the code above I pass values dynamically now.</p>\n"}], "owner": {"reputation": 161, "user_id": 11176729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c639cf91600bebac7b0e838acc6a1000?s=128&d=identicon&r=PG", "display_name": "kiki", "link": "https://stackoverflow.com/users/11176729/kiki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 56093490, "answer_count": 2, "score": 0, "last_activity_date": 1557601929, "creation_date": 1557343305, "last_edit_date": 1557372173, "question_id": 56047693, "link": "https://stackoverflow.com/questions/56047693/set-options-text-that-is-displayed-to-users-of-select-tag", "title": "Set options text (that is displayed to users) of &lt;select&gt; tag", "body": "<p>I created a dialog with <code>&lt;select&gt;</code> dropdown on Google sheets.\nI used this <a href=\"https://materializecss.com/select.html\" rel=\"nofollow noreferrer\">Materializecss</a> framework code for select.\nThe dropdown has to show my dynamically updated data.</p>\n\n<p>I call the function from backend to get my data <strong>to show it in select options as text</strong> that people see in dropdown, user's text.</p>\n\n<p>But the data is not showing visible to the eye in a dropdown (see the screenshot of white options below). </p>\n\n<p>In a dropdown I get the options in white with no color and when I click on them only then I can see my data shown in a row as a chosen variant.</p>\n\n<p>In other words, you don't see what you choose even thought everithing in on the right place.</p>\n\n<p>I need <strong>to add data to the visible dropdown selection so you can see what you choose.</strong></p>\n\n<p>I was trying to add it as an options object ({}) as mentions on the framework site, but it didn't work with me.</p>\n\n<p>Appreciate any help.</p>\n\n<p>The code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    //on loading DOM select initialization, run my function\n    document.addEventListener('DOMContentLoaded', function() {\n        var elems = document.querySelectorAll('select');\n        var options = addWeeks()\n        var instances = M.FormSelect.init(elems, options);\n        });\n\n    function addWeeks() {\n        //get data from backend and pass it to changeOptions function as arguments\n        var weeks = google.script.run.withSuccessHandler(changeOptions).calculateWeeks()\n\n        return weeks\n     }\n\n        function changeOptions(weeks) {\n\n\n        var week1 = document.getElementById(\"1week\").text = weeks[0]\n        var week2 = document.getElementById(\"2week\").text = weeks[1]\n        var week3 = document.getElementById(\"3week\").text = weeks[2]  \n\n        var weeksTexts = {1: week1, 2: week2, 3: week3}\n\n        return weeksTexts\n    }\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>  &lt;select&gt;  \n  &lt;option value=\"\" disabled selected&gt;Choose week&lt;/option&gt;\n  &lt;option value=\"1week\" id =\"1week\" &gt;&lt;/option&gt;\n  &lt;option value=\"2week\" id =\"2week\" &gt;&lt;/option&gt;\n  &lt;option value=\"3week\" id =\"3week\" &gt;&lt;/option&gt;\n  &lt;/select&gt;\n</code></pre>\n\n\n\n<p><a href=\"https://i.stack.imgur.com/PTYJ9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PTYJ9.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "angular", "angular-template", "lifecycle-hook"], "comments": [{"owner": {"reputation": 4920, "user_id": 8144405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1430257373725355/picture?type=large", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8144405/sergey"}, "edited": false, "score": 2, "creation_date": 1557343358, "post_id": 56047684, "comment_id": 98736986, "body": "Why not using a setter? Like <code>@Input() set myUpdatingVar(val) {}</code>. Also it would be really helpful if you reproduced your problem on StackBlitz or similar."}, {"owner": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "edited": false, "score": 1, "creation_date": 1557344012, "post_id": 56047684, "comment_id": 98737283, "body": "you cant&#39; try to access viewchildren until the afterviewinit hook. You&#39;ll need to do a check in your onchanges hook to see if the component is initialized yet and skip if not, and also put in an initial run in the afterviewinit hook.  That being said, there probably is a much more angular way to do this."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user11390576"}, "is_accepted": false, "score": 0, "last_activity_date": 1557344009, "creation_date": 1557344009, "answer_id": 56047844, "question_id": 56047684, "link": "https://stackoverflow.com/questions/56047684/template-variable-always-undefined-ngonchanges/56047844#56047844", "title": "template variable always undefined ngOnChanges", "body": "<p>For DOM manipulation, you should use the <code>ngAfterViewInit</code> lifecycle hook, to ensure the template has loaded into the DOM. </p>\n\n<p><code>ngOnChanges</code> fires once early, even before <code>ngOnInit</code>.  Far too early for DOM manipulation. </p>\n\n<p>You can use an <code>isViewInitialized</code> Boolean and set it to true in <code>ngAfterViewInit</code>, and then use it in an <code>if</code> condition in <code>ngOnChanges</code>. </p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11390576"}, "edited": false, "score": 0, "creation_date": 1557344514, "post_id": 56047879, "comment_id": 98737482, "body": "I would advise against ever calling ngOnChanges manually.  It\u2019s likely unnecessary anyway as I\u2019m sure he\u2019s not depending on the initial onChanges as that is not a \u201creal\u201d change and would be bad practice."}, {"owner": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "edited": false, "score": 0, "creation_date": 1557344603, "post_id": 56047879, "comment_id": 98737518, "body": "I&#39;d normally agree but it seems like he may need the initial run as he seems to be manually manipulating the DOM.  This whole thing could likely be improved, but this is the answer to the question asked."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11390576"}, "edited": false, "score": 0, "creation_date": 1557345127, "post_id": 56047879, "comment_id": 98737747, "body": "If simply the initially binded value is needed then ngOnInit or ngAfterViewInit will suffice.  If changes are actually needed, all he has to do is add the initialization Boolean I described in my answer."}, {"owner": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "edited": false, "score": 0, "creation_date": 1557345265, "post_id": 56047879, "comment_id": 98737804, "body": "i mean it sounds like you&#39;d be more comfortable if there was some 3rd function that contained the onchanges logic that both afterviewinit on onchanges called... which is fine stylistically, but is more or less the same.  a view initialisation boolean is identical to checking if the viewchild is instantiated. Neither is better or worse than the other for any reason other than stylistic preference. The OP is free to edit my answer to fit his style prefs."}], "tags": [], "owner": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "is_accepted": false, "score": 1, "last_activity_date": 1557344169, "creation_date": 1557344169, "answer_id": 56047879, "question_id": 56047684, "link": "https://stackoverflow.com/questions/56047684/template-variable-always-undefined-ngonchanges/56047879#56047879", "title": "template variable always undefined ngOnChanges", "body": "<p>As others have said, onchanges runs too early for accessing viewchildren, you'll need something like this:</p>\n\n<pre><code>@ViewChild('myContainer', {read: ElementRef}) myContainer: ElementRef;\n@Input() myUpdatingVar\n\nngOnChanges(): void {\n  if (this.myContainer) {\n    if (this.myUpdatingVar === someValue) {\n       this.myFunc(this.someValue1);\n     } else {\n       this.myFunc(this.someValue2);\n     }\n   }\n}\n\nngAfterViewInit() {\n  this.ngOnChanges();\n}\n\nmyFunc(param){\n   do stuff....\n   this.updateDom(anotherParam);\n}\n\nupdateDom(param) {\n// If I use setTimeout this works\nthis.myContainer.nativeElement.querySelector(`#someId`); // Undefined\n}\n</code></pre>\n\n<p>This way you skip the logic if the view hasn't been initialized and you manually trigger a run of ngOnChanges after the view is initialized.</p>\n\n<p>All this said, there's probably a far more angular way of accomplishing this goal, unless you're interacting with some poorly integrated 3rd party lib.</p>\n"}, {"tags": [], "owner": {"reputation": 1301, "user_id": 8599991, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0fad7af0f28a27dec223ef5c8c9e7907?s=128&d=identicon&r=PG&f=1", "display_name": "rjustin", "link": "https://stackoverflow.com/users/8599991/rjustin"}, "is_accepted": false, "score": 1, "last_activity_date": 1557344187, "creation_date": 1557344187, "answer_id": 56047883, "question_id": 56047684, "link": "https://stackoverflow.com/questions/56047684/template-variable-always-undefined-ngonchanges/56047883#56047883", "title": "template variable always undefined ngOnChanges", "body": "<p>Checkout this guide: <a href=\"https://angular.io/guide/lifecycle-hooks\" rel=\"nofollow noreferrer\">https://angular.io/guide/lifecycle-hooks</a></p>\n\n<p>Angular lifecycle events fire in a specific order and some happen before the dom elements are loaded.</p>\n\n<p>ngAfterViewInit is the hook that lets you know that the DOM(or at least the abstraction you see) is ready to be queried. This means template variables and viewchildren among other things wont work properly before this event has triggered.</p>\n\n<p>EDIT:\nit sounds like you understand the timing. To fix this I suggest checking that the template variable is defined before using it in onChanges(now it will happen on all subsequent calls to onChanges) then do the same thing in ngAfterViewInit if you need to run it once at the beginning.</p>\n"}, {"tags": [], "owner": {"reputation": 347, "user_id": 6233714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a50ed3d1bfe200a20846104a84bd1f93?s=128&d=identicon&r=PG&f=1", "display_name": "Torab Shaikh", "link": "https://stackoverflow.com/users/6233714/torab-shaikh"}, "is_accepted": false, "score": 2, "last_activity_date": 1557348295, "last_edit_date": 1557348295, "creation_date": 1557347874, "answer_id": 56048707, "question_id": 56047684, "link": "https://stackoverflow.com/questions/56047684/template-variable-always-undefined-ngonchanges/56048707#56048707", "title": "template variable always undefined ngOnChanges", "body": "<p>Instead of using <code>ngOnChanges</code>, You can detect changes using a <code>setter</code>.</p>\n\n<p>Here is what you need to do</p>\n\n<pre><code>@Input()\nset myUpdatingVar(value: any) {\n   if(value) {\n        this.myFunc(value);\n   }\n}\n</code></pre>\n\n<p>It will not only load when initializing the view but also Whenever something is changed in the <code>myUpdatingVar</code>, Angular will run setter and execute your function. Also, <code>ngOnChanges</code> is an expensive lifecycle hook. If you don't use it carefully, It will run everytime something is changed in the component.</p>\n\n<p>But if you want to use <code>ngOnChanges</code>, you should use changes it detects in the variable instead of using the variable itself.</p>\n\n<p>Here is the example</p>\n\n<pre><code>ngOnChanges(changes: SimpleChanges): void {\n  if (changes.myUpdatingVar.currentValue === someValue) {\n      this.myFunc(changes.myUpdatingVar.currentValue);\n   } else {\n      this.myFunc(changes.myUpdatingVar.currentValue);\n   }\n}\n</code></pre>\n\n<p>You can check if it is the first change and can also get <code>currentValue</code> and <code>previousValue</code> which is useful in this case.</p>\n\n<p>I hope my answer helped you somehow.\nHappy Coding!</p>\n"}, {"tags": [], "owner": {"reputation": 3565, "user_id": 58142, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/21fd2f605fd1bbc07eb3d69e90147210?s=128&d=identicon&r=PG", "display_name": "Spikolynn", "link": "https://stackoverflow.com/users/58142/spikolynn"}, "is_accepted": false, "score": 1, "last_activity_date": 1584369497, "creation_date": 1584369497, "answer_id": 60707948, "question_id": 56047684, "link": "https://stackoverflow.com/questions/56047684/template-variable-always-undefined-ngonchanges/60707948#60707948", "title": "template variable always undefined ngOnChanges", "body": "<p>With newer angular (9.x) I solved this problem by setting static to true:</p>\n\n<pre><code>@ViewChild('myContainer', {static: true})\n</code></pre>\n"}], "owner": {"reputation": 1182, "user_id": 1373036, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0443e7efe685d646c5c56f272323c80b?s=128&d=identicon&r=PG", "display_name": "Rasta", "link": "https://stackoverflow.com/users/1373036/rasta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1930, "favorite_count": 0, "answer_count": 5, "score": 0, "last_activity_date": 1584369497, "creation_date": 1557343261, "last_edit_date": 1557345530, "question_id": 56047684, "link": "https://stackoverflow.com/questions/56047684/template-variable-always-undefined-ngonchanges", "title": "template variable always undefined ngOnChanges", "body": "<p>I have a child component that is used twice within its parent, it uses ngOnChages to update values;</p>\n\n<p>This all worked fine, but now I'm trying to manipulate the template, within the child, according to information passed it via <code>@Input</code> variables.</p>\n\n<p>What I'm finding is; when the parent component is first loaded, the template variables are undefined, within a function call</p>\n\n<p>This makes sense because this function is called within the <code>onChanges</code> method and does not give the template enough time to load.</p>\n\n<p>I need to refactor my code, but how?</p>\n\n<p>At the moment it works if I use <code>setTimeout</code></p>\n\n<p>So to simply:</p>\n\n<pre><code>@ViewChild('myContainer', {read: ElementRef}) myContainer: ElementRef;\n@Input() myUpdatingVar\n\nngOnChanges(): void {\n  if (this.myUpdatingVar === someValue) {\n      this.myFunc(this.someValue1);\n   } else {\n      this.myFunc(this.someValue2);\n   }\n}\n\nmyFunc(param){\n   do stuff....\n   this.updateDom(anotherParam);\n}\n\nupdateDom(param) {\n// If I use setTimeout this works\nthis.myContainer.nativeElement.querySelector(`#someId`); // Undefined\n}\n</code></pre>\n"}, {"tags": ["javascript", "c#", "jquery", "ajax", "asp.net-mvc"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 9929833, "user_type": "registered", "profile_image": "https://graph.facebook.com/2123944514288902/picture?type=large", "display_name": "Taylor Casselman", "link": "https://stackoverflow.com/users/9929833/taylor-casselman"}, "is_accepted": true, "score": 0, "last_activity_date": 1557416867, "creation_date": 1557416867, "answer_id": 56063218, "question_id": 56047672, "link": "https://stackoverflow.com/questions/56047672/how-to-update-partial-view-with-value-depending-on-dropdown-list-choice/56063218#56063218", "title": "How to update partial view with value depending on dropdown list choice", "body": "<p>I changed the javascript function to this:</p>\n\n<pre><code>$(function(){\n    $(\"#ProjectId\").change(function(e){\n        var val=$(this).val();\n        var url='@Url.Action(\"TimesheetModalAction\",\"Timesheet\")';\n        $(\"#myTimesheetModal\").load(url, { projectId: val });\n    });\n});\n</code></pre>\n\n<p>and now it works. <code>#Project</code> is now <code>#ProjectId</code> and I changed the <code>.load</code> function to take a url generated with <code>Url.Action</code>. I also changed the second parameter of <code>.load</code> so now it passes the val instead of concatenating it onto the end of the url string.</p>\n\n<p>Now when the first dropdown value selection is changed, the <code>TimesheetModalAction</code> function is successfully called, with the new <code>ProjectId</code> being passed through. </p>\n"}], "owner": {"reputation": 31, "user_id": 9929833, "user_type": "registered", "profile_image": "https://graph.facebook.com/2123944514288902/picture?type=large", "display_name": "Taylor Casselman", "link": "https://stackoverflow.com/users/9929833/taylor-casselman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "accepted_answer_id": 56063218, "answer_count": 1, "score": 0, "last_activity_date": 1557416867, "creation_date": 1557343226, "last_edit_date": 1557343653, "question_id": 56047672, "link": "https://stackoverflow.com/questions/56047672/how-to-update-partial-view-with-value-depending-on-dropdown-list-choice", "title": "How to update partial view with value depending on dropdown list choice", "body": "<p>I have a dropdown menu within a partial view, that needs to change another dropdown menu in the same partial view depending on the selection from the first one. </p>\n\n<p>The dropdowns within the partial view:</p>\n\n<pre><code>&lt;div class=\"form-inline\"&gt;\n    &lt;div class=\"form-group\"&gt;\n        @if (Model != null)\n        {\n            &lt;label asp-for=\"ProjectId\"&gt;Projects&lt;/label&gt;\n            &lt;select asp-for=\"ProjectId\" asp-items=\"Model.Projects\" class=\"form-control\" style=\"width: 195px; margin-right: 5px;\" id=\"ProjectId\"&gt;&lt;/select&gt;\n\n            &lt;label asp-for=\"RoleId\"&gt;Project Role&lt;/label&gt;\n            &lt;select asp-for=\"RoleId\" asp-items=\"Model.ProjectRoles\" class=\"form-control\" style=\"width: 160px !important;\" id=\"RoleId\"&gt;&lt;/select&gt;\n        }\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Javascript function also within the partial view:</p>\n\n<pre><code>&lt;script&gt;\n        $(function(){\n            $(\"#Projects\").change(function(e){\n                var val=$(this).val();\n                $(\"#myTimesheetModal\").load(\"/Timesheet/TimesheetModalAction/\"+val);\n            });\n        });  \n&lt;/script&gt;\n</code></pre>\n\n<p>I am not sure what <code>#myTimesheetModal</code> is supposed to be. </p>\n\n<p>Here is the TimesheetModalAction within the Timesheet controller:</p>\n\n<pre><code>public IActionResult TimesheetModalAction(int projectId)\n{\n    AddTimesheetViewModel addTimesheetViewModel = new AddTimesheetViewModel();\n\n    //unnecessary code redacted\n    //use the projectId here\n\n    return PartialView(\"_TimesheetPartialModal\", addTimesheetViewModel);\n}\n</code></pre>\n\n<p>This code works the first time it's reached with a button press, but I can't figure out how to get back to this function with the new selected value of <code>ProjectId</code></p>\n\n<p>This code is from the index page, where the partial view is rendered from initially:</p>\n\n<pre><code>&lt;a class=\"btn btn-xs btn-primary pull-right\" asp-action=\"TimesheetModalAction\" asp-controller=\"Timesheet\" style=\"margin-right:8px;\" data-toggle=\"modal\" data-target=\"#myTimesheetModal\"&gt;Add Time&lt;/a&gt;\n</code></pre>\n\n<pre><code>&lt;div class=\"modal fade\" id=\"myTimesheetModal\"&gt;\n    &lt;div class=\"modal-dialog\" role=\"document\"&gt;\n        &lt;div class=\"modal-content\"&gt;\n            @Html.Partial(\"_TimesheetPartialModal\", new AddTimesheetViewModel())\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>So as far as I can tell I am not properly using the Javascript function to pass the selected value of ProjectId back to the Timesheet controller action in order to update the partial view</p>\n"}, {"tags": ["javascript", "angular", "typescript", "tensorflow", "tensorflow.js"], "answers": [{"tags": [], "owner": {"reputation": 8183, "user_id": 5148197, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7F7nc.jpg?s=128&g=1", "display_name": "Ricardo Rocha", "link": "https://stackoverflow.com/users/5148197/ricardo-rocha"}, "is_accepted": true, "score": 0, "last_activity_date": 1557344142, "creation_date": 1557344142, "answer_id": 56047871, "question_id": 56047654, "link": "https://stackoverflow.com/questions/56047654/tensorflowjs-typeerror-cannot-read-property-fetch-of-undefined/56047871#56047871", "title": "TensorflowJS: TypeError: Cannot read property &#39;fetch&#39; of undefined", "body": "<p>I found out that the problem was that I had different versions for @tensorflow/tfs and @tensorflow/tfjs-core on my packade.json.</p>\n\n<p>So, I change my package config from:</p>\n\n<pre><code>...\n\"@tensorflow/tfjs\": \"^1.1.2\",\n\"@tensorflow/tfjs-core\": \"^1.0.2\",\n...\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>...\n\"@tensorflow/tfjs\": \"^1.1.2\",\n\"@tensorflow/tfjs-core\": \"^1.1.2\",\n...\n</code></pre>\n\n<p>And the error vanished.</p>\n"}], "owner": {"reputation": 8183, "user_id": 5148197, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/7F7nc.jpg?s=128&g=1", "display_name": "Ricardo Rocha", "link": "https://stackoverflow.com/users/5148197/ricardo-rocha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 0, "accepted_answer_id": 56047871, "answer_count": 1, "score": 1, "last_activity_date": 1557419228, "creation_date": 1557343172, "last_edit_date": 1557419228, "question_id": 56047654, "link": "https://stackoverflow.com/questions/56047654/tensorflowjs-typeerror-cannot-read-property-fetch-of-undefined", "title": "TensorflowJS: TypeError: Cannot read property &#39;fetch&#39; of undefined", "body": "<p>I have an angular 7 application and I'm trying to load the mobilenet model by following <a href=\"https://github.com/tensorflow/tfjs-models/tree/master/mobilenet\" rel=\"nofollow noreferrer\">this</a> example.</p>\n\n<p>I installed the tensorflowjs by running <code>npm install @tensorflow/tfjs</code> (following <a href=\"https://www.tensorflow.org/js/tutorials/setup\" rel=\"nofollow noreferrer\">this</a> instructions) and the mobilenet model by running <code>@tensorflow-models/mobilenet</code>.</p>\n\n<p>After that I imported the mobile net by doing:</p>\n\n<pre><code>import * as mobilenet from '@tensorflow-models/mobilenet';\n</code></pre>\n\n<p>And execute the following code in order to load the model:</p>\n\n<pre><code>mobilenet.load().then(() =&gt; {\n     obs.next();\n}).catch((err) =&gt; {\n     console.log(err);\n     console.log(\"ERROR\");\n});\n</code></pre>\n\n<p>But I'm receiving the following error:</p>\n\n<pre><code>TypeError: Cannot read property 'fetch' of undefined\n    at new e (tf-core.esm.js:17)\n    at browserHTTPRequest (tf-core.esm.js:17)\n    at httpRequestRouter (tf-core.esm.js:17)\n    at tf-core.esm.js:17\n    at Array.forEach (&lt;anonymous&gt;)\n    at Function.e.getHandlers (tf-core.esm.js:17)\n    at Function.e.getLoadHandlers (tf-core.esm.js:17)\n    at Object.getLoadHandlers (tf-core.esm.js:17)\n    at e.findIOHandler (tf-converter.esm.js:17)\n    at e.&lt;anonymous&gt; (tf-converter.esm.js:17)\n</code></pre>\n\n<p>Does anyone know what is the issue?</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 2, "creation_date": 1557343263, "post_id": 56047640, "comment_id": 98736939, "body": "Suggestion: Remove all code that is not related to the problem. Try to create a very simple HTML/JS combination that shows your problem. Please don&#39;t copy paste an entire section of code. That will make others more willing to help since right now it requires a lot of reading and it&#39;s hard to tell what your actual question is."}, {"owner": {"reputation": 2912, "user_id": 3081206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaKOY.jpg?s=128&g=1", "display_name": "takendarkk", "link": "https://stackoverflow.com/users/3081206/takendarkk"}, "edited": false, "score": 2, "creation_date": 1557343679, "post_id": 56047640, "comment_id": 98737138, "body": "Its called a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}], "answers": [{"comments": [{"owner": {"reputation": 469, "user_id": 11183052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3njk.jpg?s=128&g=1", "display_name": "Ada", "link": "https://stackoverflow.com/users/11183052/ada"}, "edited": false, "score": 0, "creation_date": 1557345276, "post_id": 56047970, "comment_id": 98737807, "body": "I just added a link. I will prefer to have the logic inside <code>letsCalculateBMI</code>"}], "tags": [], "owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "is_accepted": false, "score": 1, "last_activity_date": 1557344570, "creation_date": 1557344570, "answer_id": 56047970, "question_id": 56047640, "link": "https://stackoverflow.com/questions/56047640/how-can-i-obtain-a-selected-value-from-an-html-element-and-pass-the-value-to-a-f/56047970#56047970", "title": "How can I obtain a selected value from an HTML element and pass the value to a function call,", "body": "<p>The code you presented is not a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete and verifiable example</a> so it's hard to build on it, but the gist is basically that for <code>&lt;input&gt;</code>, <code>&lt;select&gt;</code> and other form elements, you can access their value with the <code>.value</code> property. Note that the value is always a string, so for numbers you have to convert it first so as to avoid bugs (for example by adding a <code>+</code> in front of the string value).</p>\n\n<p>Once you get the values of the country, the weight and the height, it's simple JS-side programming. Here's a quick BMI calculator:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const computeBMI = () =&gt; {\r\n  let country = document.querySelector('#country').value;\r\n  let weight = +document.querySelector('#weight').value;\r\n  let height = +document.querySelector('#height').value;\r\n  let bmi = weight / (height^2);\r\n  document.querySelector('#result').innerHTML = bmi;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p&gt;\r\n  Country:\r\n  &lt;select id=\"country\"&gt;\r\n    &lt;option value=\"usa\"&gt;USA&lt;/option&gt;\r\n    &lt;option value=\"other\"&gt;Rest of the world&lt;/option&gt;\r\n  &lt;/select&gt;\r\n&lt;/p&gt;\r\n&lt;p&gt;\r\n  Weight:\r\n  &lt;input id=\"weight\" type=\"number\" value=\"0\"&gt;\r\n  (in kg)\r\n&lt;/p&gt;\r\n&lt;p&gt;\r\n  Height:\r\n  &lt;input id=\"height\" type=\"number\" value=\"0\"&gt;\r\n  (in m)\r\n&lt;/p&gt;\r\n&lt;p&gt;\r\n  Your BMI is &lt;span id=\"result\"&gt;(not computed yet)&lt;/span&gt;\r\n  &lt;button onclick=\"computeBMI()\"&gt;Compute BMI&lt;/button&gt;\r\n&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10124474, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TBp7Erf-xh0/AAAAAAAAAAI/AAAAAAAAAAs/UU7Pnw1xTfU/photo.jpg?sz=128", "display_name": "Aminu Zack", "link": "https://stackoverflow.com/users/10124474/aminu-zack"}, "is_accepted": false, "score": 0, "last_activity_date": 1557375622, "last_edit_date": 1557375622, "creation_date": 1557367858, "answer_id": 56051259, "question_id": 56047640, "link": "https://stackoverflow.com/questions/56047640/how-can-i-obtain-a-selected-value-from-an-html-element-and-pass-the-value-to-a-f/56051259#56051259", "title": "How can I obtain a selected value from an HTML element and pass the value to a function call,", "body": "<p>In your letsCalculateBMI function, the getSelectedUser function should only receive value as an argument (not target.value).</p>\n"}], "owner": {"reputation": 469, "user_id": 11183052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3njk.jpg?s=128&g=1", "display_name": "Ada", "link": "https://stackoverflow.com/users/11183052/ada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1557375622, "creation_date": 1557343099, "last_edit_date": 1557347998, "question_id": 56047640, "link": "https://stackoverflow.com/questions/56047640/how-can-i-obtain-a-selected-value-from-an-html-element-and-pass-the-value-to-a-f", "title": "How can I obtain a selected value from an HTML element and pass the value to a function call,", "body": "<p>I am building an app that is supposed to calculate the BMI of a user based on their <code>weight</code>, <code>height</code> and <code>country</code>.</p>\n\n<p>So in my <code>letsCalculateBMI</code> arrow function, I need to get it to obtain the selected value from the <code>select</code> element and inside the same <code>letsCalculateBMI</code> function pass that value to a <code>getSelectedUser</code> function call, which should return the user object for the selected value. This user object should be assigned to a user variable.</p>\n\n<p>Summarily what this <code>letsCalculateBMI</code> function should achieve is to claculate the user's BMI. It should do this by calling <code>computeBMI</code> and passing it <code>user</code>. It then sets the return value from invoking <code>computeBMI</code> to a <code>bmi</code> variable, which is finally set as the text content of the <code>PARAGRAPH</code> within the #outcome DIV </p>\n\n<p>Here's a <a href=\"https://www.w3schools.com/code/tryit.asp?filename=G3UKUV01YLKW\" rel=\"nofollow noreferrer\">link</a></p>\n\n<p>index.js</p>\n\n<pre><code>const users = [];\n\n      const countriesWithLowerBmi = [\"Chad\", \"Sierra Leone\", \"Mali\", \"Gambia\", \"Uganda\", \"Ghana\", \"Senegal\", \"Somalia\", \"Ivory Coast\", \"Isreal\"];      \n\n      const featToMeter = 0.3048;\n\n      const bmiCountryRatio = 0.82;\n\n      const computeBMI = ({weight, height, country}) =&gt; {\n        const heightInMeters = height * featToMeter;\n        let BMI = weight / (heightInMeters^2);\n\n       if (countriesWithLowerBmi.includes(country)) \n         BMI *= bmiCountryRatio;\n\n       return Math.round(BMI, 2);\n      };\n\n      const getSelectedUser = (userId) =&gt; {\n        return users.find(({id}) =&gt; id === userId);\n      };\n\n\n      const letsCalculateBMI = () =&gt; {\n\n        const value = document.querySelector('.select-text').value;\n        const user =getSelectedUser(target.value);      \n\n        const bmi = computeBMI(user);\n\n        document.querySelector('.bmi-text').innerHTML = bmi\n      };\n\n      const powerupTheUI = () =&gt; {\n        const button = document.querySelector('#oracle');\n\n        const select = document.querySelector('.select-text');\n\n        select.addEventListener('change', displaySelectedUser);\n\n        button.addEventListener('click',letsCalculateBMI);\n      }; \n\n</code></pre>\n\n<p>index.html</p>\n\n<pre><code>&lt;div class=\"select\"&gt;\n      &lt;select class=\"select-text\"&gt;\n        &lt;option disabled selected&gt;Select User&lt;/option&gt;        \n      &lt;/select&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"user-photo\"&gt;\n      &lt;img src=\"https://via.placeholder.com/200\" alt=\"Placeholder\" &gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"details mdc-elevation--z3\"&gt;\n      &lt;p&gt;\n        &lt;span class=\"prop\" data-age&gt;Age :&lt;/span&gt;\n        &lt;span class=\"value\" data-age-value&gt;23 years&lt;/span&gt;\n      &lt;/p&gt;\n      &lt;p&gt;\n        &lt;span class=\"prop\" data-height&gt;Height :&lt;/span&gt;\n        &lt;span class=\"value\" data-height-value&gt;169cm&lt;/span&gt;\n      &lt;/p&gt;\n      &lt;p&gt;\n        &lt;span class=\"prop\" data-weight&gt;Weight :&lt;/span&gt;\n        &lt;span class=\"value\" data-weight-value&gt;68kg&lt;/span&gt;\n      &lt;/p&gt;\n      &lt;p&gt;\n        &lt;span class=\"prop\" data-gender&gt;Gender :&lt;/span&gt;\n        &lt;span class=\"value\" data-gender-value&gt;Female&lt;/span&gt;\n      &lt;/p&gt;\n      &lt;p&gt;\n        &lt;span class=\"prop\" data-country&gt;Country :&lt;/span&gt;\n        &lt;span class=\"value\" data-country-value&gt;Nigerian&lt;/span&gt;\n      &lt;/p&gt;\n    &lt;/div&gt;\n\n    &lt;button id=\"oracle\" class=\"mdc-button\"&gt;Calculate BMI&lt;/button&gt;\n    &lt;div id=\"outcome\"&gt;\n      &lt;h5 class=\"mdc-typography--headline5\" &gt;\n        BMI\n      &lt;/h5&gt;\n      &lt;p&gt;&lt;/p&gt; //This is the P element      \n    &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 99450, "user_id": 1686485, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g3GW9.png?s=128&g=1", "display_name": "tymeJV", "link": "https://stackoverflow.com/users/1686485/tymejv"}, "edited": false, "score": 1, "creation_date": 1557343133, "post_id": 56047633, "comment_id": 98736876, "body": "<code>elements</code> is a collection - you have to iterate it and set each element, or specify an index - <code>elements[0].classList</code>"}, {"owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "edited": false, "score": 0, "creation_date": 1557343290, "post_id": 56047633, "comment_id": 98736959, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/17896746/document-getelementsbyclassname-innerhtml-always-returns-undefined\">document.getElementsByClassName().innerHTML always returns &quot;undefined&quot;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "edited": false, "score": 0, "creation_date": 1557343584, "post_id": 56047662, "comment_id": 98737089, "body": "Don&#39;t you think this example might be a little too complex for the person who is not able to figure out its an array ?"}, {"owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "reply_to_user": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "edited": false, "score": 0, "creation_date": 1557343761, "post_id": 56047662, "comment_id": 98737178, "body": "It might but I&#39;m not so sure about that. Some users are experienced in JavaScript because of Node programming but don&#39;t have in-depth knowledge of how the DOM works. I&#39;d say that a two-line code that almost sounds English when you read it can&#39;t be <i>that</i> complex."}], "tags": [], "owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "is_accepted": false, "score": 2, "last_activity_date": 1557343196, "creation_date": 1557343196, "answer_id": 56047662, "question_id": 56047633, "link": "https://stackoverflow.com/questions/56047633/how-to-fix-error-typeerror-elements-classlist-is-undefined/56047662#56047662", "title": "How to fix error: TypeError: elements.classList is undefined?", "body": "<p>This is not jQuery, you can't add a class on all elements by referencing the element list. You have to iterate on all the elements, for example like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Array.from(document.getElementsByClassName(\"icon\"))\n.foreach(elt =&gt; elt.classList.add('blackbackdrop'))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 10991042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s7Nck.png?s=128&g=1", "display_name": "Indexerrowaty", "link": "https://stackoverflow.com/users/10991042/indexerrowaty"}, "edited": false, "score": 2, "creation_date": 1557343735, "post_id": 56047665, "comment_id": 98737166, "body": "In 4 minutes I will click check icon because I can accept answer after 4 minutes"}], "tags": [], "owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "is_accepted": true, "score": 5, "last_activity_date": 1557343201, "creation_date": 1557343201, "answer_id": 56047665, "question_id": 56047633, "link": "https://stackoverflow.com/questions/56047633/how-to-fix-error-typeerror-elements-classlist-is-undefined/56047665#56047665", "title": "How to fix error: TypeError: elements.classList is undefined?", "body": "<p>Try this  </p>\n\n<pre><code>   function blackBackDropIcon() {\n        var elements = document.getElementsByClassName(\"icon\");\n        for (i = 0; i &lt; elements.length; i++) {\n            elements[i].classList.add('blackbackdrop');\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 530, "user_id": 6128516, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CzyIl.png?s=128&g=1", "display_name": "Samir Lakhani", "link": "https://stackoverflow.com/users/6128516/samir-lakhani"}, "is_accepted": false, "score": 1, "last_activity_date": 1582008870, "creation_date": 1582008870, "answer_id": 60275335, "question_id": 56047633, "link": "https://stackoverflow.com/questions/56047633/how-to-fix-error-typeerror-elements-classlist-is-undefined/60275335#60275335", "title": "How to fix error: TypeError: elements.classList is undefined?", "body": "<p>it returns array so you need to add the class via loop all elements of the array and add one by one. </p>\n\n<p>here is code...</p>\n\n<pre><code>function blackBackDropIcon() {\n        var elements = document.getElementsByClassName(\"icon\");\n        for (a = 0; a &lt; elements.length; a++) {\n            elements[a].classList.add('blackbackdrop');\n        }\n    }\n</code></pre>\n\n<p><strong>Explanation:</strong> \nYou Can't give all elements array class directly you can give it via array.</p>\n"}, {"tags": [], "owner": {"reputation": 89, "user_id": 6114486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mK4H0.jpg?s=128&g=1", "display_name": "CaptainGenesisX", "link": "https://stackoverflow.com/users/6114486/captaingenesisx"}, "is_accepted": false, "score": 1, "last_activity_date": 1604328542, "creation_date": 1604328542, "answer_id": 64647786, "question_id": 56047633, "link": "https://stackoverflow.com/questions/56047633/how-to-fix-error-typeerror-elements-classlist-is-undefined/64647786#64647786", "title": "How to fix error: TypeError: elements.classList is undefined?", "body": "<p>Here is how I accomplished this task:</p>\n<pre><code>var topics = document.querySelectorAll(&quot;.topic&quot;);\n\n    for (i = 0; i &lt; topics.length; i++) {\n        topics[i].classList.remove('displayed-element');\n        topics[i].classList.add('hidden-element');\n    }\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10991042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s7Nck.png?s=128&g=1", "display_name": "Indexerrowaty", "link": "https://stackoverflow.com/users/10991042/indexerrowaty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5096, "favorite_count": 0, "accepted_answer_id": 56047665, "answer_count": 4, "score": 2, "last_activity_date": 1604328542, "creation_date": 1557343069, "question_id": 56047633, "link": "https://stackoverflow.com/questions/56047633/how-to-fix-error-typeerror-elements-classlist-is-undefined", "title": "How to fix error: TypeError: elements.classList is undefined?", "body": "<p>I'm trying to add a class called \"blackbackdrop\" to every element that has a class called \"icon\" using classList.\nUnfortunately it does not work because of error <code>TypeError: elements.classList is undefined</code></p>\n\n<p>I'm using this code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function blackBackDropIcon() {\n  var elements = document.getElementsByClassName(\"icon\");\n  elements.classList.add('blackbackdrop');\n}\n</code></pre>\n"}, {"tags": ["javascript", "polymer", "web-component", "polymer-2.x", "polymer-2.0"], "comments": [{"owner": {"reputation": 370, "user_id": 1156249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Re7e2.jpg?s=128&g=1", "display_name": "Andr&#233;s Rond&#225;n Mulero", "link": "https://stackoverflow.com/users/1156249/andr%c3%a9s-rond%c3%a1n-mulero"}, "edited": false, "score": 0, "creation_date": 1557669068, "post_id": 56047507, "comment_id": 98834617, "body": "how do you set the nbFailure property?"}, {"owner": {"reputation": 937, "user_id": 2363069, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ZibB7.jpg?s=128&g=1", "display_name": "Jonathan Anctil", "link": "https://stackoverflow.com/users/2363069/jonathan-anctil"}, "reply_to_user": {"reputation": 370, "user_id": 1156249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Re7e2.jpg?s=128&g=1", "display_name": "Andr&#233;s Rond&#225;n Mulero", "link": "https://stackoverflow.com/users/1156249/andr%c3%a9s-rond%c3%a1n-mulero"}, "edited": false, "score": 0, "creation_date": 1557849749, "post_id": 56047507, "comment_id": 98899923, "body": "<code>this.set(`data.${index}.nbFailure`, value);</code>and isInFailure return true or false according to the new value. The if is execute when I click somewhere in the component, otherwise, nothing happen."}, {"owner": {"reputation": 126, "user_id": 8199396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef50d80fe78093d252868b9da8011dd?s=128&d=identicon&r=PG&f=1", "display_name": "Vin", "link": "https://stackoverflow.com/users/8199396/vin"}, "edited": false, "score": 0, "creation_date": 1559037388, "post_id": 56047507, "comment_id": 99284510, "body": "Have you tried adding restamp=true to the dom-if template as this will remove and add the template(with all the changes) for change of if value."}], "owner": {"reputation": 937, "user_id": 2363069, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ZibB7.jpg?s=128&g=1", "display_name": "Jonathan Anctil", "link": "https://stackoverflow.com/users/2363069/jonathan-anctil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557343748, "creation_date": 1557342566, "last_edit_date": 1557343748, "question_id": 56047507, "link": "https://stackoverflow.com/questions/56047507/weird-behavior-using-dom-if-template-in-a-list-element", "title": "Weird behavior using dom-if template in a list element", "body": "<p>I have a weird problem with the use of dom-if. I have a list of elements that displayed a status with different colors when something is failing and also displaying the count of children elements failing. </p>\n\n<p>The change of color is working fine (<code>data-status$</code>) but the displayed of the count does not work correctly. </p>\n\n<p>To hide the count I've made a function <code>isInFailure</code> that return a boolean depending of a count value, but the dom-if is only execute when I click on the <code>li</code> element, like is digest cycle is not completed yet:</p>\n\n<pre><code>isInFailure(entity) {\n    return entity.nbFailure &gt; 0;\n}\n</code></pre>\n\n<p>My html look like this:</p>\n\n<pre><code>...\n&lt;li on-click=\"selectEntity\" class=\"entity\"&gt;\n    &lt;span class=\"name\"&gt;{{item.name}}&lt;/span&gt;\n    &lt;div class=\"status\"&gt;\n        &lt;span class=\"label-value\"&gt;Entity Status&lt;/span&gt;\n        &lt;span class=\"value\" data-status$=\"{{item.value}}\"&gt;{{item.value}}&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div class=\"alerts\"&gt;\n        &lt;div class=\"pill\"&gt;                                                \n            &lt;template is=\"dom-if\" if=\"[[isInFailure(item)]]\"&gt;\n                 &lt;span class=\"badge\" data-status$=\"{{item.value}}\"&gt;[[item.nbFailure]]&lt;/span&gt;\n            &lt;/template&gt;\n        &lt;/div&gt;                                        \n    &lt;/div&gt;\n&lt;/li&gt;\n</code></pre>\n"}]