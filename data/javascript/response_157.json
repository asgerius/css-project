[{"tags": ["javascript", "events", "addeventlistener", "preventdefault"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1515628726, "post_id": 48197960, "comment_id": 83377035, "body": "perhaps the <code>e.preventDefault();</code> in <code>deleteTask</code> should be inside the <code>if</code> condition ONLY"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9127206"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1515628839, "post_id": 48197960, "comment_id": 83377063, "body": "Nothing changed :/"}, {"owner": {"reputation": 10593, "user_id": 1347953, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/315f975f0f6f3b02f09ba70a366f05d7?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien", "link": "https://stackoverflow.com/users/1347953/s%c3%a9bastien"}, "edited": false, "score": 0, "creation_date": 1515629573, "post_id": 48197960, "comment_id": 83377292, "body": "Please post your HTML as well."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1515629806, "post_id": 48197960, "comment_id": 83377364, "body": "Why don&#39;t you just do <code>href.addEventListener(&quot;click&quot;, deleteTask)</code> instead of adding the listener to the body?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9127206"}, "edited": false, "score": 0, "creation_date": 1515629971, "post_id": 48197960, "comment_id": 83377419, "body": "<a href=\"https://jsfiddle.net/ouc0o7sq/\" rel=\"nofollow noreferrer\">jsfiddle.net/ouc0o7sq</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9127206"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1515630437, "post_id": 48197960, "comment_id": 83377539, "body": "I tried at the first, but I couldnt reach items with that way @Barmar"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9127206"}, "edited": false, "score": 0, "creation_date": 1515631716, "post_id": 48198227, "comment_id": 83377848, "body": "But May I ask something ? <code>e.preventDefault()</code> is in a function, it should work in this function locally. why does it prevent other function or event?"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 0, "last_activity_date": 1515630691, "creation_date": 1515630691, "answer_id": 48198227, "question_id": 48197960, "link": "https://stackoverflow.com/questions/48197960/javascript-event-dosent-work-with-the-other-event/48198227#48198227", "title": "Javascript- Event dosen&#39;t work with the other event", "body": "<p>Put <code>e.preventDefault()</code> inside the <code>if</code>. Otherwise, it's preventing the <code>click</code> event from propagating to the other elements.</p>\n\n<p>I know you said you tried that, but it works here.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const task = document.querySelector('#task');\r\nconst form = document.querySelector('#task-form');\r\nconst ul = document.querySelector('ul');\r\n\r\nform.addEventListener('submit', newTask);\r\n\r\ndocument.body.addEventListener('click', deleteTask);\r\n\r\nfunction newTask(e) {\r\n  if (task.value) {\r\n    let li = document.createElement('li');\r\n    li.className = \"collection-item\";\r\n    li.appendChild(document.createTextNode(task.value));\r\n    let href = document.createElement('a');\r\n    href.className = \"delete-item secondary-content\";\r\n    href.innerHTML = '&lt;i class=\"fa fa-remove\"&gt;X&lt;/i&gt;';\r\n    href.setAttribute('href', '#');\r\n    li.appendChild(href);\r\n    ul.appendChild(li);\r\n  } else {\r\n    alert('Please type something');\r\n  }\r\n  e.preventDefault();\r\n  form.reset();\r\n}\r\n\r\nfunction deleteTask(e) {\r\n  if (e.target.classList.contains('fa-remove')) {\r\n    e.target.parentElement.parentElement.remove();\r\n    e.preventDefault();\r\n  }\r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"container\"&gt;\r\n  &lt;div class=\"row\"&gt;\r\n    &lt;div class=\"col s12\"&gt;\r\n      &lt;div id=\"main\" class=\"card\"&gt;\r\n        &lt;div class=\"card-content\"&gt;\r\n          &lt;span class=\"card-title\"&gt;Task List&lt;/span&gt;\r\n          &lt;div class=\"row\"&gt;\r\n            &lt;p style=\"background-color:red;color:white;text-align:center\" id=\"error\"&gt;&lt;/p&gt;\r\n            &lt;form id=\"task-form\"&gt;\r\n              &lt;div class=\"input-field col s12\"&gt;\r\n                &lt;input type=\"text\" name=\"task\" id=\"task\"&gt;\r\n                &lt;label for=\"task\"&gt;New Task&lt;/label&gt;\r\n              &lt;/div&gt;\r\n          &lt;/div&gt;\r\n          &lt;input type=\"submit\" value=\"Add Task\" class=\"btn\"&gt;\r\n          &lt;/form&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"card-action\"&gt;\r\n          &lt;h5 id=\"task-title\"&gt;Tasks&lt;/h5&gt;\r\n          &lt;ul class=\"collection\"&gt;\r\n            &lt;li class=\"collection-item\"&gt;\r\n              List Item\r\n              &lt;a href=\"#\" class=\"delete-item secondary-content\"&gt;\r\n                &lt;i class=\"fa fa-remove\"&gt;&lt;/i&gt;\r\n              &lt;/a&gt;\r\n            &lt;/li&gt;\r\n            &lt;li class=\"collection-item\"&gt;\r\n              List Item\r\n              &lt;a href=\"#\" class=\"delete-item secondary-content\"&gt;\r\n                &lt;i class=\"fa fa-remove\"&gt;&lt;/i&gt;\r\n              &lt;/a&gt;\r\n            &lt;/li&gt;\r\n            &lt;li class=\"collection-item\"&gt;\r\n              List Item\r\n              &lt;a href=\"#\" class=\"delete-item secondary-content\"&gt;\r\n                &lt;i class=\"fa fa-remove\"&gt;&lt;/i&gt;\r\n              &lt;/a&gt;\r\n            &lt;/li&gt;\r\n            &lt;li class=\"collection-item\"&gt;\r\n              List Item\r\n              &lt;a href=\"#\" class=\"delete-item secondary-content\"&gt;\r\n                &lt;i class=\"fa fa-remove\"&gt;&lt;/i&gt;\r\n              &lt;/a&gt;\r\n            &lt;/li&gt;\r\n            &lt;li class=\"collection-item\"&gt;\r\n              List Item\r\n              &lt;a href=\"#\" class=\"delete-item secondary-content\"&gt;\r\n                &lt;i class=\"fa fa-remove\"&gt;&lt;/i&gt;\r\n              &lt;/a&gt;\r\n            &lt;/li&gt;\r\n          &lt;/ul&gt;\r\n          &lt;button class=\"btn black\" id=\"clear-tasks\"&gt;Clear Tasks&lt;/button&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9127206"}, "edited": false, "score": 0, "creation_date": 1515631586, "post_id": 48198238, "comment_id": 83377809, "body": "But  e.preventDefault() is in a function, it should work in this function locally. why does it prevent other functions?"}, {"owner": {"reputation": 10593, "user_id": 1347953, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/315f975f0f6f3b02f09ba70a366f05d7?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien", "link": "https://stackoverflow.com/users/1347953/s%c3%a9bastien"}, "edited": false, "score": 1, "creation_date": 1515631822, "post_id": 48198238, "comment_id": 83377882, "body": "Simply because it is captured first, as <code>&lt;body&gt;</code> contains the other elements. You need only prevent the default action once. As soon as you have done it the click is disabled for the contained elements as well."}], "tags": [], "owner": {"reputation": 10593, "user_id": 1347953, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/315f975f0f6f3b02f09ba70a366f05d7?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien", "link": "https://stackoverflow.com/users/1347953/s%c3%a9bastien"}, "is_accepted": false, "score": 0, "last_activity_date": 1515630800, "creation_date": 1515630800, "answer_id": 48198238, "question_id": 48197960, "link": "https://stackoverflow.com/questions/48197960/javascript-event-dosent-work-with-the-other-event/48198238#48198238", "title": "Javascript- Event dosen&#39;t work with the other event", "body": "<p>The following event handler captures <strong>all</strong> clicks on the body:</p>\n\n<pre><code>document.body.addEventListener('click', deleteTask);\n</code></pre>\n\n<p>So when you prevent the default behaviour on click in your <code>deleteTask</code> function you also prevent the default action on the other buttons, including the \"add task\" button.</p>\n\n<p>Given that you already check the target of the click you should also <em>only</em> prevent the default click action in that condition:</p>\n\n<pre><code>function deleteTask(e) {\n  if (e.target.classList.contains('fa-remove')) {\n    e.target.parentElement.parentElement.remove();\n    e.preventDefault(); // Move preventDefault here\n  }\n}\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const task = document.querySelector('#task');\r\nconst form = document.querySelector('#task-form');\r\nconst ul = document.querySelector('ul');\r\n\r\nform.addEventListener('submit', newTask);\r\n\r\ndocument.body.addEventListener('click', deleteTask);\r\n\r\nfunction newTask(e) {\r\n  if (task.value) {\r\n    let li = document.createElement('li');\r\n    li.className = \"collection-item\";\r\n    li.appendChild(document.createTextNode(task.value));\r\n    let href = document.createElement('a');\r\n    href.className = \"delete-item secondary-content\";\r\n    href.innerHTML = '&lt;i class=\"fa fa-remove\"&gt;&lt;/i&gt;';\r\n    href.setAttribute('href', '#');\r\n    li.appendChild(href);\r\n    ul.appendChild(li);\r\n  } else {\r\n    alert('Please type something');\r\n  }\r\n  e.preventDefault();\r\n  form.reset();\r\n}\r\n\r\nfunction deleteTask(e) {\r\n  if (e.target.classList.contains('fa-remove')) {\r\n    e.target.parentElement.parentElement.remove();\r\n    e.preventDefault();\r\n  }\r\n  //\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;body&gt;\r\n  &lt;div class=\"container\"&gt;\r\n    &lt;div class=\"row\"&gt;\r\n      &lt;div class=\"col s12\"&gt;\r\n        &lt;div id=\"main\" class=\"card\"&gt;\r\n          &lt;div class=\"card-content\"&gt;\r\n            &lt;span class=\"card-title\"&gt;Task List&lt;/span&gt;\r\n            &lt;div class=\"row\"&gt;\r\n              &lt;p style=\"background-color:red;color:white;text-align:center\" id=\"error\"&gt;&lt;/p&gt;\r\n              &lt;form id=\"task-form\"&gt;\r\n                &lt;div class=\"input-field col s12\"&gt;\r\n                  &lt;input type=\"text\" name=\"task\" id=\"task\"&gt;\r\n                  &lt;label for=\"task\"&gt;New Task&lt;/label&gt;\r\n                &lt;/div&gt;\r\n            &lt;input type=\"submit\" value=\"Add Task\" class=\"btn\"&gt;\r\n            &lt;/form&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=\"card-action\"&gt;\r\n            &lt;h5 id=\"task-title\"&gt;Tasks&lt;/h5&gt;\r\n            &lt;ul class=\"collection\"&gt;\r\n              &lt;li class=\"collection-item\"&gt;\r\n                List Item\r\n                &lt;a href=\"#\" class=\"delete-item secondary-content\"&gt;\r\n                  &lt;i class=\"fa fa-remove\"&gt;&lt;/i&gt;\r\n                &lt;/a&gt;\r\n              &lt;/li&gt;\r\n              &lt;li class=\"collection-item\"&gt;\r\n                List Item\r\n                &lt;a href=\"#\" class=\"delete-item secondary-content\"&gt;\r\n                  &lt;i class=\"fa fa-remove\"&gt;&lt;/i&gt;\r\n                &lt;/a&gt;\r\n              &lt;/li&gt;\r\n              &lt;li class=\"collection-item\"&gt;\r\n                List Item\r\n                &lt;a href=\"#\" class=\"delete-item secondary-content\"&gt;\r\n                  &lt;i class=\"fa fa-remove\"&gt;&lt;/i&gt;\r\n                &lt;/a&gt;\r\n              &lt;/li&gt;\r\n              &lt;li class=\"collection-item\"&gt;\r\n                List Item\r\n                &lt;a href=\"#\" class=\"delete-item secondary-content\"&gt;\r\n                  &lt;i class=\"fa fa-remove\"&gt;&lt;/i&gt;\r\n                &lt;/a&gt;\r\n              &lt;/li&gt;\r\n              &lt;li class=\"collection-item\"&gt;\r\n                List Item\r\n                &lt;a href=\"#\" class=\"delete-item secondary-content\"&gt;\r\n                  &lt;i class=\"fa fa-remove\"&gt;&lt;/i&gt;\r\n                &lt;/a&gt;\r\n              &lt;/li&gt;\r\n            &lt;/ul&gt;\r\n            &lt;button class=\"btn black\" id=\"clear-tasks\"&gt;Clear Tasks&lt;/button&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9127206"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 48198227, "answer_count": 2, "score": 0, "last_activity_date": 1515631985, "creation_date": 1515628608, "last_edit_date": 1515631985, "question_id": 48197960, "link": "https://stackoverflow.com/questions/48197960/javascript-event-dosent-work-with-the-other-event", "title": "Javascript- Event dosen&#39;t work with the other event", "body": "<p>I'm trying to do \"todo\" app with pure javascript. I created a \"newTask\" event, it worked as well, after that I created <code>deleteTask</code> event and it worked too. But I realized that I can't create a new task with <code>deleteTask</code> event codes, if I remove deleteTask codes, it works again ?</p>\n\n<p>What is my mistake in here ?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const task = document.querySelector('#task');\r\nconst form = document.querySelector('#task-form');\r\nconst ul = document.querySelector('ul');\r\n\r\nform.addEventListener('submit', newTask);\r\n\r\ndocument.body.addEventListener('click', deleteTask);\r\n\r\nfunction newTask(e) {\r\n  if (task.value) {\r\n    let li = document.createElement('li');\r\n    li.className = \"collection-item\";\r\n    li.appendChild(document.createTextNode(task.value));\r\n    let href = document.createElement('a');\r\n    href.className = \"delete-item secondary-content\";\r\n    href.innerHTML = '&lt;i class=\"fa fa-remove\"&gt;&lt;/i&gt;';\r\n    href.setAttribute('href', '#');\r\n    li.appendChild(href);\r\n    ul.appendChild(li);\r\n  } else {\r\n    alert('Please type something');\r\n  }\r\n  e.preventDefault();\r\n  form.reset();\r\n}\r\n\r\nfunction deleteTask(e) {\r\n  if (e.target.classList.contains('fa-remove')) {\r\n    e.target.parentElement.parentElement.remove();\r\n  }\r\n  e.preventDefault();\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;body&gt;\r\n  &lt;div class=\"container\"&gt;\r\n    &lt;div class=\"row\"&gt;\r\n      &lt;div class=\"col s12\"&gt;\r\n        &lt;div id=\"main\" class=\"card\"&gt;\r\n          &lt;div class=\"card-content\"&gt;\r\n            &lt;span class=\"card-title\"&gt;Task List&lt;/span&gt;\r\n            &lt;div class=\"row\"&gt;\r\n              &lt;p style=\"background-color:red;color:white;text-align:center\" id=\"error\"&gt;&lt;/p&gt;\r\n              &lt;form id=\"task-form\"&gt;\r\n                &lt;div class=\"input-field col s12\"&gt;\r\n                  &lt;input type=\"text\" name=\"task\" id=\"task\"&gt;\r\n                  &lt;label for=\"task\"&gt;New Task&lt;/label&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;input type=\"submit\" value=\"Add Task\" class=\"btn\"&gt;\r\n            &lt;/form&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=\"card-action\"&gt;\r\n            &lt;h5 id=\"task-title\"&gt;Tasks&lt;/h5&gt;\r\n            &lt;ul class=\"collection\"&gt;\r\n              &lt;li class=\"collection-item\"&gt;\r\n                List Item\r\n                &lt;a href=\"#\" class=\"delete-item secondary-content\"&gt;\r\n                  &lt;i class=\"fa fa-remove\"&gt;&lt;/i&gt;\r\n                &lt;/a&gt;\r\n              &lt;/li&gt;\r\n              &lt;li class=\"collection-item\"&gt;\r\n                List Item\r\n                &lt;a href=\"#\" class=\"delete-item secondary-content\"&gt;\r\n                  &lt;i class=\"fa fa-remove\"&gt;&lt;/i&gt;\r\n                &lt;/a&gt;\r\n              &lt;/li&gt;\r\n              &lt;li class=\"collection-item\"&gt;\r\n                List Item\r\n                &lt;a href=\"#\" class=\"delete-item secondary-content\"&gt;\r\n                  &lt;i class=\"fa fa-remove\"&gt;&lt;/i&gt;\r\n                &lt;/a&gt;\r\n              &lt;/li&gt;\r\n              &lt;li class=\"collection-item\"&gt;\r\n                List Item\r\n                &lt;a href=\"#\" class=\"delete-item secondary-content\"&gt;\r\n                  &lt;i class=\"fa fa-remove\"&gt;&lt;/i&gt;\r\n                &lt;/a&gt;\r\n              &lt;/li&gt;\r\n              &lt;li class=\"collection-item\"&gt;\r\n                List Item\r\n                &lt;a href=\"#\" class=\"delete-item secondary-content\"&gt;\r\n                  &lt;i class=\"fa fa-remove\"&gt;&lt;/i&gt;\r\n                &lt;/a&gt;\r\n              &lt;/li&gt;\r\n            &lt;/ul&gt;\r\n            &lt;button class=\"btn black\" id=\"clear-tasks\"&gt;Clear Tasks&lt;/button&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "iframe", "eval", "content-security-policy"], "comments": [{"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1515628975, "post_id": 48197920, "comment_id": 83377103, "body": "The second option should currently be possible using <code>postMessage</code>."}, {"owner": {"reputation": 61150, "user_id": 441757, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/921df025d1d7c99fad4553ac83bd8bdf?s=128&d=identicon&r=PG", "display_name": "sideshowbarker", "link": "https://stackoverflow.com/users/441757/sideshowbarker"}, "edited": false, "score": 0, "creation_date": 1515630145, "post_id": 48197920, "comment_id": 83377461, "body": "You say, \u201cI need to embed Vega-js library (a heavy user of <code>new Function()</code> evals) into a site with the locked down CSP (no eval allowed)\u201d but then one of the options you say you\u2019re considering is to add use of <code>nonce</code>. If by \u201clocked down\u201d you mean you can\u2019t change the policy at all, then it\u2019s unclear how you\u2019d plan to adjust it to include a <code>nonce</code> source\u2026"}, {"owner": {"reputation": 6690, "user_id": 177275, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/jBMYN.jpg?s=128&g=1", "display_name": "Yuri Astrakhan", "link": "https://stackoverflow.com/users/177275/yuri-astrakhan"}, "reply_to_user": {"reputation": 61150, "user_id": 441757, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/921df025d1d7c99fad4553ac83bd8bdf?s=128&d=identicon&r=PG", "display_name": "sideshowbarker", "link": "https://stackoverflow.com/users/441757/sideshowbarker"}, "edited": false, "score": 0, "creation_date": 1515631545, "post_id": 48197920, "comment_id": 83377797, "body": "@sideshowbarker I can adjust the site&#39;s policy (e.g. add a <code>nonce</code>), but the security engineers do not want to allow <code>eval</code> for all of the site. They are ok to allow it for a specific library."}, {"owner": {"reputation": 61150, "user_id": 441757, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/921df025d1d7c99fad4553ac83bd8bdf?s=128&d=identicon&r=PG", "display_name": "sideshowbarker", "link": "https://stackoverflow.com/users/441757/sideshowbarker"}, "edited": false, "score": 1, "creation_date": 1515631862, "post_id": 48197920, "comment_id": 83377891, "body": "Ah OK. Well then it definitely seems like the <code>&lt;iframe&gt;</code> approach you describe may be the only practical option."}], "answers": [{"tags": [], "owner": {"reputation": 61150, "user_id": 441757, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/921df025d1d7c99fad4553ac83bd8bdf?s=128&d=identicon&r=PG", "display_name": "sideshowbarker", "link": "https://stackoverflow.com/users/441757/sideshowbarker"}, "is_accepted": true, "score": 1, "last_activity_date": 1515630207, "last_edit_date": 1515630207, "creation_date": 1515629789, "answer_id": 48198110, "question_id": 48197920, "link": "https://stackoverflow.com/questions/48197920/enabling-csps-unsafe-eval-in-an-iframe/48198110#48198110", "title": "Enabling CSP&#39;s unsafe-eval in an iframe", "body": "<blockquote>\n  <p>I don't know if it is possible for an <code>&lt;iframe&gt;</code> on a locked down site to have a more lax security settings (allow evals) than its parent.</p>\n</blockquote>\n\n<p>It is actually possible for the <code>&lt;iframe&gt;</code> to have a more-lax CSP policy that its parent. Unless it\u2019s an <code>&lt;iframe srcdoc=\u2026&gt;</code>, it inherits nothing from the CSP policy of the parent and has no relationship to the parent CSP policy at all.</p>\n\n<p>See the answer at <em><a href=\"https://stackoverflow.com/questions/43236626/what-csp-child-iframe-inherits-from-its-parent/43237443#43237443\">What CSP child iframe inherits from its parent?</a></em> and the section of the CSP spec at <a href=\"https://w3c.github.io/webappsec-csp/2/#which-policy-applies\" rel=\"nofollow noreferrer\">https://w3c.github.io/webappsec-csp/2/#which-policy-applies</a> that covers <em>\u201cAny resource included via <code>iframe</code>, <code>object</code>, or <code>embed</code>\u201d</em>.</p>\n\n<blockquote>\n  <p><code>nonce</code> - serve the eval-using script via the <code>nonce</code> directive, hoping that eval() error will not be triggered. This assumption might not be correct - I'm still trying to comprehend <code>nonce</code> limitations.</p>\n</blockquote>\n\n<p>See the answer at <em><a href=\"https://stackoverflow.com/questions/42922784/what-s-the-purpose-of-the-html-nonce-attribute-for-script-and-style-elements/42924000#42924000\">What\u2019s the purpose of the HTML &quot;nonce&quot; attribute for script and style elements?</a></em> for a detailed explanation about how <code>nonce</code> works.</p>\n\n<p>But even if you are use <code>nonce</code> to \u201cwhitelist\u201d a particular script, that\u2019s not going to allow use of <code>eval</code> by that script. With a CSP policy in place, the only way to allow use of  <code>eval</code> is to specify <code>'unsafe-eval'</code>. And if you specify that, it will allow use of <code>eval</code> by all scripts the document embeds \u2014 there\u2019s no way to only allow use of <code>eval</code> by  particular scripts but not by others.</p>\n"}], "owner": {"reputation": 6690, "user_id": 177275, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/jBMYN.jpg?s=128&g=1", "display_name": "Yuri Astrakhan", "link": "https://stackoverflow.com/users/177275/yuri-astrakhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1006, "favorite_count": 0, "accepted_answer_id": 48198110, "answer_count": 1, "score": 1, "last_activity_date": 1515630207, "creation_date": 1515628307, "question_id": 48197920, "link": "https://stackoverflow.com/questions/48197920/enabling-csps-unsafe-eval-in-an-iframe", "title": "Enabling CSP&#39;s unsafe-eval in an iframe", "body": "<p>I need to embed Vega-js library (a heavy user of <code>new Function()</code> evals) into a site with the locked down CSP (no eval allowed). I have been exploring two options, and would love feedback on the best path to take:</p>\n\n<ul>\n<li><code>nonce</code> - serve the eval-using script via the <code>nonce</code> directive, hoping that eval() error will not be triggered. This assumption might not be correct - I'm still trying to comprehend <code>nonce</code> limitations.</li>\n<li>place Vega graph in an <code>&lt;iframe sandbox='allow-scripts'&gt;...&lt;/&gt;</code>, and communicate with it via messages. I don't know if it is possible for an <code>&lt;iframe&gt;</code> on a locked down site to have a more lax security settings (allow evals) than its parent.</li>\n</ul>\n"}, {"tags": ["javascript", "angularjs", "angular-promise", "q"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1515628352, "post_id": 48197912, "comment_id": 83376943, "body": "<code>Promise gets returned instead of the actual images</code> - yes, and it always will, because Promise chains always result in a Promise ... you can&#39;t make asynchronous results return synchronously (which is what you are attempting to do)"}, {"owner": {"reputation": 2248, "user_id": 3116805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b2d9cae31b42b7645470258dffcd88c?s=128&d=identicon&r=PG&f=1", "display_name": "Hoyen", "link": "https://stackoverflow.com/users/3116805/hoyen"}, "edited": false, "score": 0, "creation_date": 1515628431, "post_id": 48197912, "comment_id": 83376965, "body": "You are making an asynchronous request. There is no way for you to do what you are requesting. Why would you want to change the code?"}, {"owner": {"reputation": 6825, "user_id": 1054937, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6b85a31d8e69d0ce9fe80df2ed567969?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1054937/jon"}, "edited": false, "score": 0, "creation_date": 1515628548, "post_id": 48197912, "comment_id": 83376996, "body": "I am just trying to refactor my code by moving more logic from my controller into my service. I am hoping that once the Promise is resolved, the service will return the result to my controller without me having to call <code>then()</code>."}, {"owner": {"reputation": 6672, "user_id": 2446254, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/4SJnD.png?s=128&g=1", "display_name": "Cody \uff27", "link": "https://stackoverflow.com/users/2446254/cody-%ef%bc%a7"}, "edited": false, "score": 0, "creation_date": 1515629914, "post_id": 48197912, "comment_id": 83377406, "body": "&quot;without me having to call then&quot; sounds like you want to move to async/await then :)... or go back to callbacks HA"}, {"owner": {"reputation": 6672, "user_id": 2446254, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/4SJnD.png?s=128&g=1", "display_name": "Cody \uff27", "link": "https://stackoverflow.com/users/2446254/cody-%ef%bc%a7"}, "edited": false, "score": 0, "creation_date": 1515630477, "post_id": 48197912, "comment_id": 83377548, "body": "old but illustrative <a href=\"http://embed.plnkr.co/bx8eGvIFWhqdzCqpB7fb/\" rel=\"nofollow noreferrer\">embed.plnkr.co/bx8eGvIFWhqdzCqpB7fb</a> (beware you need try/catch... )"}], "answers": [{"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": false, "score": 0, "last_activity_date": 1515631435, "creation_date": 1515631435, "answer_id": 48198313, "question_id": 48197912, "link": "https://stackoverflow.com/questions/48197912/angularjs-service-to-return-an-object-instead-of-a-promise/48198313#48198313", "title": "AngularJS Service to Return an Object Instead of a Promise", "body": "<p>This can be done by same recipe that is used in <code>$resource</code>. Empty object (array) is returned which is filled with data asynchronously. A promise should be returned as well, in case there's a need to know when and how a request finished:</p>\n\n<pre><code>var result = {\n  data: [],\n  promise: $http(...).then(response =&gt; {\n    return Object.assign(result.data, response.data);\n  })\n};\n\nreturn result;\n</code></pre>\n\n<p>Then <code>imageService.data</code> array is bound in view. </p>\n\n<p>This pattern has its pros and cons. It is natural to have <code>then</code> in controller to unwrap promises.</p>\n"}], "owner": {"reputation": 6825, "user_id": 1054937, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6b85a31d8e69d0ce9fe80df2ed567969?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1054937/jon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 463, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1515631435, "creation_date": 1515628226, "question_id": 48197912, "link": "https://stackoverflow.com/questions/48197912/angularjs-service-to-return-an-object-instead-of-a-promise", "title": "AngularJS Service to Return an Object Instead of a Promise", "body": "<p>I am trying to refactor my AngularJS code by having my service resolve a promise call that will automatically bind an object to to my scope.</p>\n\n<pre><code>// converting this:\nimageService.getImages(userId)\n.then(images =&gt; {\n    $scope.images = images;\n});\n\n// into this:\n$scope.images = imageService.getImages(userId);\n</code></pre>\n\n<p>My current solution I am trying to refactor is:</p>\n\n<pre><code>function getImages(userId) {\n    const config = {\n        method: 'get',\n        url: '/a/images',\n        params: { userId: userId }\n    };\n\n    return $http(config).then(onGetImagesSuccess, onGetImagesError);\n}\n\nfunction onGetImagesSuccess(response) {\n    $log.info('Get image success', response);\n    return response.data;\n}\n\nfunction onGetImagesError(response) {\n    $log.info('Get image error', response);\n}\n</code></pre>\n\n<p>I started playing around with <code>$q.defer()</code> and I got my <code>getImages()</code> to this following state. The problem is that I <code>imageService.getImages()</code> returns a Promise instead of the images. It is interesting that the list of images do get logged tho.</p>\n\n<pre><code>function getImages(userId) {\n    const deferred = $q.defer();\n    const config = {\n        method: 'get',\n        url: '/a/images',\n        params: { userId: userId }\n    };\n\n    let call = $http(config).then(onGetImagesSuccess, onGetImagesError);\n    deferred.resolve(call);\n\n    return deferred.promise.then(images =&gt; {\n        $log.info(images); // List of images does get logged\n        return images; // Promise gets returned instead of the actual images\n    });\n}\n</code></pre>\n\n<p>I am wondering what do I need to do to refactor my code to get my <code>imageService.getImages()</code> to return a list of images instead of a Promise.</p>\n"}, {"tags": ["javascript", "jquery", "loops", "svg", "each"], "answers": [{"comments": [{"owner": {"reputation": 1266, "user_id": 4087261, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/QZ4c7.jpg?s=128&g=1", "display_name": "Andrew Nguyen", "link": "https://stackoverflow.com/users/4087261/andrew-nguyen"}, "edited": false, "score": 0, "creation_date": 1515630250, "post_id": 48198095, "comment_id": 83377492, "body": "Tried it your suggestion, but unfortunately not the root the problem. What is happening now is closer to what I describe in my question, where it appears that the total number of circles is being divided amongst the four svgs."}, {"owner": {"reputation": 2296, "user_id": 4209136, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000376796894/picture?type=large", "display_name": "bigless", "link": "https://stackoverflow.com/users/4209136/bigless"}, "reply_to_user": {"reputation": 1266, "user_id": 4087261, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/QZ4c7.jpg?s=128&g=1", "display_name": "Andrew Nguyen", "link": "https://stackoverflow.com/users/4087261/andrew-nguyen"}, "edited": false, "score": 1, "creation_date": 1515631100, "post_id": 48198095, "comment_id": 83377680, "body": "@Andrew Nguyen I see there many mistakes. For example there is <code>data[index]</code> which means that you dont get current element of array but rather element of array based on index of current DOM element.."}, {"owner": {"reputation": 2296, "user_id": 4209136, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000376796894/picture?type=large", "display_name": "bigless", "link": "https://stackoverflow.com/users/4209136/bigless"}, "reply_to_user": {"reputation": 1266, "user_id": 4087261, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/QZ4c7.jpg?s=128&g=1", "display_name": "Andrew Nguyen", "link": "https://stackoverflow.com/users/4087261/andrew-nguyen"}, "edited": false, "score": 0, "creation_date": 1515631338, "post_id": 48198095, "comment_id": 83377733, "body": "@AndrewNguyen Another thing is that you are iterating all elements with class homerun in document. There is more and more and you still rewrites their attr.."}, {"owner": {"reputation": 1266, "user_id": 4087261, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/QZ4c7.jpg?s=128&g=1", "display_name": "Andrew Nguyen", "link": "https://stackoverflow.com/users/4087261/andrew-nguyen"}, "edited": false, "score": 0, "creation_date": 1515639937, "post_id": 48198095, "comment_id": 83379607, "body": "Do you have a code snippet that you would like to share?"}, {"owner": {"reputation": 2296, "user_id": 4209136, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000376796894/picture?type=large", "display_name": "bigless", "link": "https://stackoverflow.com/users/4209136/bigless"}, "reply_to_user": {"reputation": 1266, "user_id": 4087261, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/QZ4c7.jpg?s=128&g=1", "display_name": "Andrew Nguyen", "link": "https://stackoverflow.com/users/4087261/andrew-nguyen"}, "edited": false, "score": 0, "creation_date": 1515665725, "post_id": 48198095, "comment_id": 83390076, "body": "I have not time to rewrite your code, but somebody already did it bellow. Also I think that point out issues and let you solve it is better for your understanding than serving complete code.."}], "tags": [], "owner": {"reputation": 2296, "user_id": 4209136, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000376796894/picture?type=large", "display_name": "bigless", "link": "https://stackoverflow.com/users/4209136/bigless"}, "is_accepted": false, "score": 1, "last_activity_date": 1515630121, "last_edit_date": 1515630121, "creation_date": 1515629707, "answer_id": 48198095, "question_id": 48197795, "link": "https://stackoverflow.com/questions/48197795/incorrect-number-of-circles-appended-to-svg/48198095#48198095", "title": "Incorrect number of circles appended to svg", "body": "<p>You are using classname <code>layer_1</code> in javascript and capitalized <code>Layer_1</code> in html. Since jQuery selectors are case sensitive, this could be the main issue.</p>\n"}, {"tags": [], "owner": {"reputation": 80101, "user_id": 1292848, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd043aba9d97059108cbc719f73fc4a8?s=128&d=identicon&r=PG", "display_name": "Paul LeBeau", "link": "https://stackoverflow.com/users/1292848/paul-lebeau"}, "is_accepted": false, "score": 3, "last_activity_date": 1515990062, "last_edit_date": 1515990062, "creation_date": 1515653242, "answer_id": 48201256, "question_id": 48197795, "link": "https://stackoverflow.com/questions/48197795/incorrect-number-of-circles-appended-to-svg/48201256#48201256", "title": "Incorrect number of circles appended to svg", "body": "<p>Your approach is a bit wrong.</p>\n\n<p>Firstly you don't need to create an SVG for every circle. Just add circles to the SVGs.  For each ballpark image, loop through the data, add a circle if it's the right year.</p>\n\n<pre><code>    $.ajax({\n        url: 'ozuna.json',\n        method: 'GET',\n        dataType: \"json\",\n    }).then(function(data){\n\n    // Marlins Park\n    addHomeRuns(data, '.layer_1', 'all');\n    addHomeRuns(data, '.layer_2', 2017);\n    // Busch\n    addHomeRuns(data, '.layer_3', 'all');\n    addHomeRuns(data, '.layer_4', 2017);\n\n    });\n\n\n  // On each of the SVG's of the baseball stadiums, use a for loop to iterate over each of the 48 items in the array. Then, append a circle with a class of `homerun` to the div.\n  function addHomeRuns(data, layerClass, year)\n  {\n    var svg = $(layerClass).get(0);\n\n    $.each(data, function(i, obj) {\n\n      var showHomer = year === 'all' || obj.game_year === year;\n      if (showHomer)\n      {\n        var circle = document.createElementNS(svg.namespaceURI, 'circle');\n        circle.setAttribute('cx', obj.hc_x);\n        circle.setAttribute('cy', obj.hc_y);\n        circle.setAttribute('r', 4.71);\n        circle.setAttribute('fill', \"#a82254\");\n        circle.setAttribute('stroke', \"#000\");\n        circle.setAttribute('stroke-width', 1);\n        svg.appendChild(circle);\n      }\n\n      $(circle).hover(function() {\n        changeText(obj);\n        showSidebar();\n      });\n    });\n  }\n</code></pre>\n\n<p><a href=\"https://codepen.io/PaulLeBeau/project/editor/DNqYzV\" rel=\"nofollow noreferrer\">Updated Codepen here</a></p>\n"}], "owner": {"reputation": 1266, "user_id": 4087261, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/QZ4c7.jpg?s=128&g=1", "display_name": "Andrew Nguyen", "link": "https://stackoverflow.com/users/4087261/andrew-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1515990062, "creation_date": 1515627332, "question_id": 48197795, "link": "https://stackoverflow.com/questions/48197795/incorrect-number-of-circles-appended-to-svg", "title": "Incorrect number of circles appended to svg", "body": "<h1>Objective</h1>\n\n<ul>\n<li>I'm trying to iterate over items in an array using a <code>for loop</code> and use jQuery's <code>.append()</code> method to add a series of circles, which represent this particular player's home runs over their career, atop four svgs of a baseball stadium, in order to create a spray chart of hits.</li>\n</ul>\n\n<h1>Codepen:</h1>\n\n<p><a href=\"https://codepen.io/onlyandrewn/project/editor/DkaEvW\" rel=\"nofollow noreferrer\">https://codepen.io/onlyandrewn/project/editor/DkaEvW</a></p>\n\n<h1>Problem</h1>\n\n<p>The correct number of circles are not being appended to the four svgs, which I expect to be 48 red dots (career home runs) and 22 red dots (this past season).</p>\n\n<h2>What I've tried</h2>\n\n<ul>\n<li><strong>On lines 18-21:</strong> Within the for loop, I've tried using jQuery to target each of the individual svgs based on their classes (<code>.layer_1</code>, <code>.layer_2</code> etc.), but it appears that the total number of dots are being divided over the four svgs, instead of having all 48 dots (career home runs) or all 22 (season home runs) show up on one chart</li>\n<li><strong>On lines 24-31:</strong> I tried to show just <code>data[i].game_year</code> using an if-statement in order to get the home runs from this past 2017 season, but the dots that were being displayed were not from this past year.</li>\n<li>Also tried, switching the classes to ids and using <code>each</code> and <code>forEach</code> to try to target the parent svgs individually.</li>\n</ul>\n\n<h2>scripts.js</h2>\n\n<pre><code>$(function(){\n\n    // Make a GET request with an AJAX call to fetch data from the json file, which contains stats on Marcell Ozuna's career homeruns from MLB Statcast via BaseballSavant.com\n\n    // Documentation: http://api.jquery.com/jquery.ajax/\n    // Example GET request: https://stackoverflow.com/questions/9269265/ajax-jquery-simple-get-request\n\n    $.ajax({\n        url: 'ozuna.json',\n        method: 'GET',\n        dataType: \"json\",\n    }).then(function(data){\n\n        for (i = 0; i &lt; data.length; i++) {\n\n            // On each of the SVG's of the baseball stadiums, use a for loop to iterate over each of the 48 items in the array. Then, append a circle with a class of `homerun` to the div.\n\n            $(\".layer_1\").append(\"&lt;svg&gt;&lt;circle class='homerun'&gt;&lt;/svg&gt;\");\n            $(\".layer_2\").append(\"&lt;svg&gt;&lt;circle class='homerun'&gt;&lt;/svg&gt;\");\n            $(\".layer_3\").append(\"&lt;svg&gt;&lt;circle class='homerun'&gt;&lt;/svg&gt;\");\n            $(\".layer_4\").append(\"&lt;svg&gt;&lt;circle class='homerun'&gt;&lt;/svg&gt;\");\n\n            // Marcell Ozuna hit a total of 22 homeruns last season\n            // if (data[i].game_year === 2017) {\n            //  // console.log(data[i].game_year);\n            //  // $(\".layer_2\").append(\"&lt;svg&gt;&lt;circle class='homerun'&gt;&lt;/svg&gt;\");\n            //  // $(\".layer_3\").append(\"&lt;svg&gt;&lt;circle class='homerun'&gt;&lt;/svg&gt;\");\n            // } else {\n            //  // $(\".layer_1\").append(\"&lt;svg&gt;&lt;circle class='homerun'&gt;&lt;/svg&gt;\");\n            //  // $(\".layer_4\").append(\"&lt;svg&gt;&lt;circle class='homerun'&gt;&lt;/svg&gt;\");\n            // }\n\n            // This refers to each of the circles. Each of the circles contains the following attributes. The user sees a small red dot with a black border.\n            $(\".homerun\").each(function(index){\n                $(this).attr({\n                    cx: data[index].hc_x,\n                    cy: data[index].hc_y, \n                    r: 4.71,\n                    fill: \"#a82254\",\n                    stroke: \"#000\",\n                    \"stroke-width\": 1, \n                })\n\n                $(this).hover(function(){\n                    changeText(data, index);\n                    showSidebar();\n                })\n            });\n        }\n    });\n\n    // When you hover over one of the circles, change the text in the sidebar. It takes two parameters, the data from the AJAX call and the index of the object in the array.\n    function changeText(data, index) {\n        $(\".sidebar__date\").html(data[index].game_date);\n        $(\".team--home\").html(data[index].home_team);\n        $(\".team--away\").html(data[index].away_team);\n        $(\".sidebar__tb\").html(data[index].inning_topbot);\n        $(\".sidebar__inning\").html(data[index].inning);\n        $(\".sidebar__description\").html(data[index].des_long);\n        $(\".sidebar__pitch\").html(data[index].pitch_type);\n        $(\".value--balls\").html(data[index].balls);\n        $(\".value--strikes\").html(data[index].strikes);\n        $(\".value--outs\").html(data[index].outs_when_up);\n    }\n\n    // Show the game details. By default, the sidebar is empty and a user will see only the attribution until they hover over the first red dot.\n    function showSidebar() {\n        $(\".sidebar\").show();\n    }\n});\n</code></pre>\n\n<h2>Example of json data</h2>\n\n<pre><code>[\n  {\n    \"pitch_type\": \"four-seam fastball\",\n    \"release_speed\": 92.4,\n    \"game_date\": \"March 31, 2014\",\n    \"game_year\": 2014,\n    \"des_long\": \"In the bottom of the 3rd, Marcell Ozuna homers off a 92.4 mph four-seam fastball to left field. A. J. Ellis scores. Christian Yelich scores. Giancarlo Stanton scores.\",\n    \"des_short\": \"Marcell Ozuna homers on a line drive to left field.\",\n    \"home_team\": \"MIA\",\n    \"away_team\": \"COL\",\n    \"balls\": 3,\n    \"strikes\": 1,\n    \"outs_when_up\": 0,\n    \"inning_topbot\": \"bottom\",\n    \"inning\": \"3rd\",\n    \"hc_x\": 19.08,\n    \"hc_y\": 85.34,\n    \"hit_distance_sc\": \"null\"\n  },\n</code></pre>\n"}, {"tags": ["javascript", "asp.net", "validation"], "comments": [{"owner": {"reputation": 2010, "user_id": 3034193, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/iUvK1.png?s=128&g=1", "display_name": "DaniDev", "link": "https://stackoverflow.com/users/3034193/danidev"}, "edited": false, "score": 0, "creation_date": 1515629803, "post_id": 48197744, "comment_id": 83377360, "body": "&quot;However, because the page is validated, so the error messages are shown on the page. &quot; Is this what you menat to type? Can You clarify what it is you are asking do you want to validate on the client or not?"}, {"owner": {"reputation": 553, "user_id": 214024, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2cfc278724e006d857e268b409cc4d54?s=128&d=identicon&r=PG", "display_name": "Nan Li", "link": "https://stackoverflow.com/users/214024/nan-li"}, "reply_to_user": {"reputation": 2010, "user_id": 3034193, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/iUvK1.png?s=128&g=1", "display_name": "DaniDev", "link": "https://stackoverflow.com/users/3034193/danidev"}, "edited": false, "score": 0, "creation_date": 1515687108, "post_id": 48197744, "comment_id": 83403951, "body": "on the client using javascript, because I called Page_ClientValidate(), so the form is validated and the flag Page_IsValid is set, but it also causes the error message to display in the &lt;asp:ValidationSummary ... /&gt; control. What I&#39;m looking for is to be able to check if the page is valid without showing those error messages. Thanks"}, {"owner": {"reputation": 2010, "user_id": 3034193, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/iUvK1.png?s=128&g=1", "display_name": "DaniDev", "link": "https://stackoverflow.com/users/3034193/danidev"}, "edited": false, "score": 0, "creation_date": 1515701698, "post_id": 48197744, "comment_id": 83412060, "body": "?? I guess I still don&#39;t really understand. Do you want to validate your input Yes/No?  Presumambly Yes!  Do you want to validate on the client Yes/No? (Presumably Yes!)  Do you want to alert user regarding input Yes/No (Presumably Yes!)  . If yes the you can use the ASP Validation controls (with validation summary)  they will handle validation on the client without you having to write any JavaScript at all! Or you can NOT use ASP validation control and write your own JavaScript validation code (using Page_ClientValidate() )."}, {"owner": {"reputation": 553, "user_id": 214024, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2cfc278724e006d857e268b409cc4d54?s=128&d=identicon&r=PG", "display_name": "Nan Li", "link": "https://stackoverflow.com/users/214024/nan-li"}, "reply_to_user": {"reputation": 2010, "user_id": 3034193, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/iUvK1.png?s=128&g=1", "display_name": "DaniDev", "link": "https://stackoverflow.com/users/3034193/danidev"}, "edited": false, "score": 0, "creation_date": 1515710595, "post_id": 48197744, "comment_id": 83415949, "body": "&quot;Do you want to validate your input Yes/No?&quot; actually no. I want to check if the page is valid without any side effect. Calling Page_ClientValidate() causes a side effect which is the error msg being displayed on the page. And also, using Page_ClientValidate() is not &quot;write your own JavaScript validation code&quot;, it&#39;s just triggering the validation you created with asp.net forms validation."}], "owner": {"reputation": 553, "user_id": 214024, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2cfc278724e006d857e268b409cc4d54?s=128&d=identicon&r=PG", "display_name": "Nan Li", "link": "https://stackoverflow.com/users/214024/nan-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515626994, "creation_date": 1515626994, "question_id": 48197744, "link": "https://stackoverflow.com/questions/48197744/with-asp-net-forms-client-validation-how-to-check-if-the-page-is-valid-or-not-w", "title": "With asp.net forms client validation, how to check if the page is valid or not without triggering the actual validation", "body": "<p>With asp.net forms client validation, we can call Page_ClientValidate() to validate the page, and then check Page_IsValid to determine if the page is valid or not. However, because the page is validated, so the error messages are shown on the page. Is there a way to check if the page is valid or not without calling Page_ClientValidate() in javascript?</p>\n"}, {"tags": ["javascript", "php", "jquery", "html", "video"], "comments": [{"owner": {"reputation": 851, "user_id": 3185580, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4d9a0d273cc49e05b5bbe6fbb57fd050?s=128&d=identicon&r=PG", "display_name": "SaschaP", "link": "https://stackoverflow.com/users/3185580/saschap"}, "edited": false, "score": 0, "creation_date": 1519411032, "post_id": 48197711, "comment_id": 84915091, "body": "did you try it without inserting a video to the textarea? what happens if you just submit e.g. <code>foo</code>?"}, {"owner": {"reputation": 13, "user_id": 7759153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4f23543fcaa85aae16a6874a9279f39?s=128&d=identicon&r=PG&f=1", "display_name": "Bern", "link": "https://stackoverflow.com/users/7759153/bern"}, "reply_to_user": {"reputation": 851, "user_id": 3185580, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4d9a0d273cc49e05b5bbe6fbb57fd050?s=128&d=identicon&r=PG", "display_name": "SaschaP", "link": "https://stackoverflow.com/users/3185580/saschap"}, "edited": false, "score": 0, "creation_date": 1519501142, "post_id": 48197711, "comment_id": 84939386, "body": "The problem that I asked solved when I upload summernote files to the xammp server, but I do know why it doesnt outside the serve. Thank you"}, {"owner": {"reputation": 851, "user_id": 3185580, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4d9a0d273cc49e05b5bbe6fbb57fd050?s=128&d=identicon&r=PG", "display_name": "SaschaP", "link": "https://stackoverflow.com/users/3185580/saschap"}, "edited": false, "score": 0, "creation_date": 1519510520, "post_id": 48197711, "comment_id": 84941884, "body": "<code>PHP</code> needs a server to run properly. If you just opened the html-file with a browser, it&#39;s clear that it could not work."}, {"owner": {"reputation": 13, "user_id": 7759153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4f23543fcaa85aae16a6874a9279f39?s=128&d=identicon&r=PG&f=1", "display_name": "Bern", "link": "https://stackoverflow.com/users/7759153/bern"}, "reply_to_user": {"reputation": 851, "user_id": 3185580, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4d9a0d273cc49e05b5bbe6fbb57fd050?s=128&d=identicon&r=PG", "display_name": "SaschaP", "link": "https://stackoverflow.com/users/3185580/saschap"}, "edited": false, "score": 0, "creation_date": 1519725364, "post_id": 48197711, "comment_id": 85016028, "body": "Thank you for your short and clean answer. If you want add your responce as an answer to mark it as the right one"}], "owner": {"reputation": 13, "user_id": 7759153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4f23543fcaa85aae16a6874a9279f39?s=128&d=identicon&r=PG&f=1", "display_name": "Bern", "link": "https://stackoverflow.com/users/7759153/bern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1181, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515626789, "creation_date": 1515626789, "question_id": 48197711, "link": "https://stackoverflow.com/questions/48197711/summernote-wysiwyg-video-issue", "title": "Summernote WYSIWYG video issue", "body": "<p>I am using summernote wysiwyg editor and it function OK, except the video module which works only in Mozilla Firefox, but not in Google Chrome and Opera (I haven't tested in Safari).</p>\n\n<p>After I involve a video in a summernote textarea, than I want to submit/post the created summernote code for that video to a database using post.php file.</p>\n\n<p>Below is the code and print screen of index.html and post.php</p>\n\n<p>Thank you</p>\n\n<p><a href=\"https://i.stack.imgur.com/cNHjr.png\" rel=\"nofollow noreferrer\">index.html</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/ZQ44U.png\" rel=\"nofollow noreferrer\">post.php</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n&lt;head&gt;\r\n  &lt;meta charset=\"UTF-8\"&gt;\r\n  &lt;title&gt;Summernote&lt;/title&gt;\r\n  &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"bootstrap-3.3.7/css/bootstrap.css\"&gt;\r\n  &lt;script src=\"jquery-3.2.1/jquery-3.2.1.js\"&gt;&lt;/script&gt; \r\n  &lt;script src=\"bootstrap-3.3.7/js/bootstrap.js\"&gt;&lt;/script&gt;\r\n  &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"summernote.css\"&gt;\r\n  &lt;script src=\"summernote.js\"&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n  \r\n&lt;form method=\"post\" action=\"post.php\"&gt;\r\n  \r\n&lt;textarea id=\"summernote\" name=\"textarea\"&gt;Hello Summernote&lt;/textarea&gt;\r\n\r\n  &lt;script&gt;\r\n    $('#summernote').summernote({\r\n      height: 350,\r\n      toolbar: [\r\n        ['style', ['style']],\r\n        ['font', ['bold', 'italic', 'underline', 'strikethrough', 'superscript', 'subscript', 'clear']],\r\n        ['fontname', ['fontname']],\r\n        ['color', ['color']],\r\n        ['para', ['ul', 'ol', 'paragraph']],\r\n        ['height', ['height']],\r\n        ['table', ['table']],\r\n        ['insert', ['link', 'unlink', 'picture', 'video','hr']],\r\n        ['view', ['fullscreen', 'codeview']],\r\n        ['help', ['help']]\r\n      ],\r\n    });\r\n  &lt;/script&gt;\r\n  \r\n  &lt;input type=\"submit\" /&gt;\r\n  \r\n&lt;/form&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n&lt;head&gt;\r\n  &lt;meta charset=\"UTF-8\"&gt;\r\n  &lt;title&gt;Summernote&lt;/title&gt;\r\n  &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"bootstrap-3.3.7/css/bootstrap.css\"&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n&lt;?php\r\n\r\n  $textarea=$_POST['textarea'];\r\n  \r\n  echo $textarea;\r\n  \r\n  // ...Here will be the code for inserting the textarea  content (code) to a database like long text data type\r\n\r\n?&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery", "promise"], "comments": [{"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1515627021, "post_id": 48197701, "comment_id": 83376584, "body": "Where is <code>createWidget</code> called? Also no parameter is defined for either <code>constructWidget_1</code> or <code>constructWidget_2</code> functions, though <code>{id: widget_id}</code> is passed as parameter."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1515627034, "post_id": 48197701, "comment_id": 83376588, "body": "you need to understand that Promises don&#39;t make asynchronous code synchronous. <code>CreateWidget_1({id: widget_id}).then(x =&gt; ...)</code> x could be what you need, if only you returned it"}, {"owner": {"reputation": 499, "user_id": 1341156, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/cSxSl.png?s=128&g=1", "display_name": "jonlink", "link": "https://stackoverflow.com/users/1341156/jonlink"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1515627191, "post_id": 48197701, "comment_id": 83376634, "body": "@guest271314 Sorry, that was dumb. I&#39;ve been banging my head on this code too long. Fixed the example."}, {"owner": {"reputation": 499, "user_id": 1341156, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/cSxSl.png?s=128&g=1", "display_name": "jonlink", "link": "https://stackoverflow.com/users/1341156/jonlink"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1515627633, "post_id": 48197701, "comment_id": 83376756, "body": "Thanks, @JaromandaX, I&#39;ve got that. What I don&#39;t have is how to get to an object that has a promise as a method in an asynch way."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1515627861, "post_id": 48197701, "comment_id": 83376817, "body": "so, something like <a href=\"https://jsfiddle.net/32bpj3e4/\" rel=\"nofollow noreferrer\">jsfiddle.net/32bpj3e4</a>"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1515628079, "post_id": 48197701, "comment_id": 83376870, "body": "of course, you can&#39;t just <code>let book = {}; book[page][widget_id] = ....</code> - you have to &quot;create&quot; the intermediate <code>book[page]</code>"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 2, "creation_date": 1515628124, "post_id": 48197701, "comment_id": 83376880, "body": "@guest271314 ... <b><i>something like</i></b> - there are bound to be easy to fix typos - <a href=\"https://jsfiddle.net/32bpj3e4/2/\" rel=\"nofollow noreferrer\">jsfiddle.net/32bpj3e4/2</a>"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "reply_to_user": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1515628212, "post_id": 48197701, "comment_id": 83376905, "body": "@guest271314 - but <code>createWidget({ id: widget_id }).constructWidget()</code> does - read the code"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1515628564, "post_id": 48197701, "comment_id": 83377000, "body": "I basically copied the code in the question, removed the second &quot;construct&quot; code as that was very wrong, forgot to rename some stuff, didn&#39;t check the original codes typos, and added a much needed <code>return this</code> - so, bound to be SOME typos in there seeing as the original code would actually fail and not even, as the OP claims <code>hydrates the object with everything just fine</code> - there are fundamental errors that would prevent this code from running at all"}, {"owner": {"reputation": 499, "user_id": 1341156, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/cSxSl.png?s=128&g=1", "display_name": "jonlink", "link": "https://stackoverflow.com/users/1341156/jonlink"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1515629811, "post_id": 48197701, "comment_id": 83377366, "body": "Hey @JaromandaX thanks for bearing with me through the typos. The actual code is fairly complex, so I was trying to quickly simplify it. I&#39;ve literally been at this for a full day. I&#39;ve obviously read some stupid articles because at some point I read that a return inside a <code>then()</code> was meaningless. That along with the await bit worked. I&#39;ll clean up my code, but if you want to throw that fiddle into an answer I&#39;d like to chose that as the answer."}, {"owner": {"reputation": 499, "user_id": 1341156, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/cSxSl.png?s=128&g=1", "display_name": "jonlink", "link": "https://stackoverflow.com/users/1341156/jonlink"}, "edited": false, "score": 1, "creation_date": 1515629995, "post_id": 48197701, "comment_id": 83377428, "body": "I should mention that the <code>constructWidget_2()</code> was meant to <code>return this</code> and not the promise. It obviously isn&#39;t right, but that&#39;s what I was trying to illustrate... that I was screwing up :)"}], "answers": [{"comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1515627216, "post_id": 48197767, "comment_id": 83376646, "body": "the only issue with this ... neither <code>constructWidget_1</code> nor <code>constructWidget_2</code> return anything useful"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1515627537, "post_id": 48197767, "comment_id": 83376726, "body": "<code>only one returns it</code> - sure, but it returns a promise that resolves to <code>undefined</code>"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 2, "creation_date": 1515627969, "post_id": 48197767, "comment_id": 83376837, "body": "adding <code>return this</code> after <code>this.data = widget.data;</code> in <code>constructWidget_1</code> will help"}, {"owner": {"reputation": 3575, "user_id": 1026502, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f6ef451a05bf9f96370671bfb9935ecd?s=128&d=identicon&r=PG", "display_name": "Madd0g", "link": "https://stackoverflow.com/users/1026502/madd0g"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1515629437, "post_id": 48197767, "comment_id": 83377253, "body": "in this case it doesn&#39;t matter what it resolves to, because they manipulate some external object, which is obviously not a good approach but I didn&#39;t want to overwhelm"}, {"owner": {"reputation": 499, "user_id": 1341156, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/cSxSl.png?s=128&g=1", "display_name": "jonlink", "link": "https://stackoverflow.com/users/1341156/jonlink"}, "edited": false, "score": 0, "creation_date": 1515629873, "post_id": 48197767, "comment_id": 83377392, "body": "How about &quot;overwhelm&quot; and let&#39;s do it right? I appreciate the <i>get it working</i> sentiment, but <i>get it done right</i> is always a better tune."}], "tags": [], "owner": {"reputation": 3575, "user_id": 1026502, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f6ef451a05bf9f96370671bfb9935ecd?s=128&d=identicon&r=PG", "display_name": "Madd0g", "link": "https://stackoverflow.com/users/1026502/madd0g"}, "is_accepted": false, "score": 0, "last_activity_date": 1515627217, "last_edit_date": 1515627217, "creation_date": 1515627151, "answer_id": 48197767, "question_id": 48197701, "link": "https://stackoverflow.com/questions/48197701/jquery-return-the-object-with-the-promise/48197767#48197767", "title": "JQuery Return the Object with the Promise", "body": "<p>you need to wait for these promises somehow</p>\n\n<p>simplest (well, the shorter code example at least) way is to use async/await</p>\n\n<pre><code>async function() {\n  book[page][widget_id] = await CreateWidget_1({id: widget_id}) //the promise :(\n  book[page][widget_id] = await CreateWidget_2({id: widget_id}) //maybe...\n  $(`#current_page`).append(`&lt;div&gt;${book[page][widget_id]}&lt;/div&gt;`); //nope, that'll be undefined because the promise isn't complete this isn't an asynch approach, dummy\n</code></pre>\n\n<p>or the longer promises based</p>\n\n<pre><code>Promise.all[CreateWidget_1(...), CreateWidget_2(...)])\n  .then(function() { $(`#current_page`).append(...) })\n</code></pre>\n\n<p>Also, chaining is one of the most important concepts of promises, to properly use promise, they need to be returned, both your functions need to return the promise (only one returns it)</p>\n"}, {"tags": [], "owner": {"reputation": 499, "user_id": 1341156, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/cSxSl.png?s=128&g=1", "display_name": "jonlink", "link": "https://stackoverflow.com/users/1341156/jonlink"}, "is_accepted": true, "score": 0, "last_activity_date": 1515633079, "creation_date": 1515633079, "answer_id": 48198493, "question_id": 48197701, "link": "https://stackoverflow.com/questions/48197701/jquery-return-the-object-with-the-promise/48198493#48198493", "title": "JQuery Return the Object with the Promise", "body": "<p>The issue was that I needed to return <code>this</code> as part of the promise. I wasn't doing that. Huge thanks to @JaromandaX for that.</p>\n\n<p>Returning the promise and the object means that I continue on a asynchronous path. Simplified example answer below.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const createWidget = ({\r\n   id    = undefined,\r\n   name  = 'new widget',\r\n   style = 'vertical_list',\r\n   html  = undefined,\r\n\r\n} = {}) =&gt; ({\r\n   id,\r\n   name,\r\n   style,\r\n   data,\r\n   \r\n   constructWidget () {\r\n     return $.ajax({\r\n        url : '/my/url',\r\n        type: 'POST',\r\n        data: {\r\n            '_token'   : window.xsrf_token,\r\n            'widget_id': this.id,\r\n        },\r\n        dataType: 'json',\r\n    }).then(reponse =&gt; {\r\n        let widget = response.widget;\r\n        this.name  = widget.name;\r\n        this.style = widget.style;\r\n        this.html  = widget.html;\r\n        return this; // &lt;-- here's what I was missing.\r\n    });\r\n  },\r\n}) \r\n\r\n\r\nlet book      = {};\r\nlet page      = 'example page';\r\nbook[page]    = book[page] || {};\r\nlet widget_id = 88;\r\n\r\nCreateWidget({id: widget_id})\r\n  .constructWidget()\r\n  .then(widget =&gt; {\r\n    book[page][widget_id] = widget;\r\n    $(`#current_page`).append(`\r\n       &lt;div id=\"widget_${widget.id}\" class=\"${style}\"&gt;\r\n         &lt;b&gt;${widget.name}&lt;/b&gt;\r\n         ${widget.html}\r\n       &lt;/div&gt;`\r\n    ); \r\n  })\r\n  .fail(error =&gt; console.error);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>A pox upon the article that said a return inside the <code>then</code> was meaningless!</p>\n"}], "owner": {"reputation": 499, "user_id": 1341156, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/cSxSl.png?s=128&g=1", "display_name": "jonlink", "link": "https://stackoverflow.com/users/1341156/jonlink"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 48198493, "answer_count": 2, "score": 0, "last_activity_date": 1515633249, "creation_date": 1515626670, "last_edit_date": 1515633249, "question_id": 48197701, "link": "https://stackoverflow.com/questions/48197701/jquery-return-the-object-with-the-promise", "title": "JQuery Return the Object with the Promise", "body": "<p>I've got multiple pages of widgets. The contents of the widgets are static, though their display can change. I need to be able to store these, so I'm building an multi-dimensional object.</p>\n\n<p>I need to store the object and display the object. </p>\n\n<p>Here's a simplified version of my factory:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const createWidget = ({\r\n   id    = undefined,\r\n   name  = 'new widget',\r\n   style = 'vertical_list',\r\n   html  = undefined,\r\n\r\n} = {}) =&gt; ({\r\n   id,\r\n   name,\r\n   style,\r\n   data,\r\n   \r\n   constructWidget () {\r\n     return $.ajax({\r\n        url: '/my/url',\r\n        type: 'POST',\r\n        data: {\r\n            '_token'   : window.xsrf_token,\r\n            'widget_id': this.id,\r\n        },\r\n        dataType: 'json',\r\n    }).then(reponse =&gt; {\r\n        let widget = response.widget;\r\n        this.name  = widget.name;\r\n        this.style = widget.style;\r\n        this.html  = widget.html;\r\n    });\r\n  },\r\n}) </code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>That hydrates the object with everything just fine, but I can't get the object back. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let book      = {};\r\nlet page      = 'example page';\r\nbook[page]    = book[page] || {};\r\nlet widget_id = 88;\r\n\r\n// TRYING TO STORE\r\n// this just give me the promise and I can't get at the object :(\r\nbook[page][widget_id] = CreateWidget({id: widget_id}).constructWidget();  \r\n\r\n\r\n// TRYING TO DISPLAY\r\nlet widget = book[page][widget_id];\r\n$(`#current_page`).append(`\r\n    &lt;div id=\"widget_${widget.id}\" class=\"${style}\"&gt;\r\n      &lt;b&gt;${widget.name}&lt;/b&gt;\r\n      ${widget.html}\r\n    &lt;/div&gt;`\r\n ); \r\n </code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So? Why is this approach stupid and how do I fix it? I've tried messing with promises a bunch, but without access to the hydrated object I can't seem to do a dang thing.</p>\n"}, {"tags": ["javascript", "meteor", "meteor-autoform"], "comments": [{"owner": {"reputation": 1583, "user_id": 5253108, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/o5DQ1.jpg?s=128&g=1", "display_name": "Trenton Tyler", "link": "https://stackoverflow.com/users/5253108/trenton-tyler"}, "edited": false, "score": 0, "creation_date": 1515627213, "post_id": 48197660, "comment_id": 83376643, "body": "We need some more information. Do you have any existing code? If so, add it to your question."}, {"owner": {"reputation": 7125, "user_id": 3975309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r5v7W.jpg?s=128&g=1", "display_name": "Mikkel", "link": "https://stackoverflow.com/users/3975309/mikkel"}, "edited": false, "score": 0, "creation_date": 1515644622, "post_id": 48197660, "comment_id": 83380526, "body": "Please provide your code"}, {"owner": {"reputation": 3000, "user_id": 1144978, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2e6d5e50747574df97e104a51a298436?s=128&d=identicon&r=PG", "display_name": "iiro", "link": "https://stackoverflow.com/users/1144978/iiro"}, "edited": false, "score": 0, "creation_date": 1515649583, "post_id": 48197660, "comment_id": 83381965, "body": "Have you read and tried tutorials?"}, {"owner": {"reputation": 4767, "user_id": 992964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05d73e837359063dfa0684e9e4eccdec?s=128&d=identicon&r=PG", "display_name": "Fred Stark", "link": "https://stackoverflow.com/users/992964/fred-stark"}, "edited": false, "score": 0, "creation_date": 1515709964, "post_id": 48197660, "comment_id": 83415728, "body": "Welcome to StackOverflow! Have you tried anything so far? StackOverflow isn&#39;t a free code-writing service, and expects you to try to solve your own problem first. Please update your question to show what you have already tried, showing the specific problem you are facing in a <a href=\"http://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. For further information, please see <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask good questions</a>, and take the <a href=\"http://stackoverflow.com/tour\">tour of the site</a>."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9201166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4e6441e16c4424da983599b7392b400?s=128&d=identicon&r=PG&f=1", "display_name": "coderw3", "link": "https://stackoverflow.com/users/9201166/coderw3"}, "edited": false, "score": 0, "creation_date": 1515694255, "post_id": 48206074, "comment_id": 83408272, "body": "Thanks! Exactly what I was looking for and worked great!"}], "tags": [], "owner": {"reputation": 489, "user_id": 4601487, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a61f8dea2ad49c41fdf34335b92a6f87?s=128&d=identicon&r=PG", "display_name": "Ga&#235;tan Rouzi&#232;s", "link": "https://stackoverflow.com/users/4601487/ga%c3%abtan-rouzi%c3%a8s"}, "is_accepted": true, "score": 0, "last_activity_date": 1515670403, "creation_date": 1515670403, "answer_id": 48206074, "question_id": 48197660, "link": "https://stackoverflow.com/questions/48197660/meteor-creating-a-single-cms-form/48206074#48206074", "title": "Meteor: Creating a single CMS form", "body": "<p>If your form and the element showing your text are in different template, you have to use <strong>Session</strong>.</p>\n\n<p><strong>In your first template (page 1):</strong> Attach an event to your input so when you type text you update the Session variable.</p>\n\n<p><strong>In your second template (page 2):</strong> Use a simple helper returning the value of the Session variable</p>\n\n<p>Here's the code:</p>\n\n<pre><code>&lt;template name=\"page1\"&gt;\n    &lt;input type=\"text\" class=\"js-change-text\"&gt;\n&lt;/template&gt;\n\nTemplate.page1.events({\n    \"keyup .js-change-text\"(event, instance) {\n        let inputValue = event.target.value);\n        Session.set('inputValue', inputValue);\n    },\n});\n\n&lt;template name=\"page2\"&gt;\n    &lt;h1&gt;{{getInputValue}}&lt;/h1&gt;\n&lt;/template&gt;\n\nTemplate.page2.helpers({\n    getInputValue() {\n        return Session.get('inputValue');\n    },\n});\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9201166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4e6441e16c4424da983599b7392b400?s=128&d=identicon&r=PG&f=1", "display_name": "coderw3", "link": "https://stackoverflow.com/users/9201166/coderw3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 48206074, "answer_count": 1, "score": -3, "last_activity_date": 1515670403, "creation_date": 1515626331, "last_edit_date": 1515640064, "question_id": 48197660, "link": "https://stackoverflow.com/questions/48197660/meteor-creating-a-single-cms-form", "title": "Meteor: Creating a single CMS form", "body": "<p>So I am having difficulty creating a single form that, when updated, updates HTML text.</p>\n\n<p>For example, on page 1 of my site, there is a form with the words <strong><em>TITLE</em></strong> written in it. Now on page 2 the only words on the page are <strong><em>TITLE</em></strong>. Now I want to be able to update that form to now say <strong><em>TITLE 2</em></strong> and have is update page 2 instantly.</p>\n\n<p>I want to make lots of these forms so what is the way to do this with the least amount of code?</p>\n"}, {"tags": ["javascript", "reactjs", "ecmascript-6", "mobx"], "answers": [{"tags": [], "owner": {"reputation": 134258, "user_id": 785065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qAbxM.jpg?s=128&g=1", "display_name": "loganfsmyth", "link": "https://stackoverflow.com/users/785065/loganfsmyth"}, "is_accepted": true, "score": 0, "last_activity_date": 1515626958, "creation_date": 1515626958, "answer_id": 48197740, "question_id": 48197656, "link": "https://stackoverflow.com/questions/48197656/invariant-failed-changing-observed-observable-values-outside-actions-is-not-all/48197740#48197740", "title": "Invariant failed: Changing observed observable values outside actions is not allowed", "body": "<p>MobX has a whole page in their documentation about writing async actions. That would be the place to start, <a href=\"https://mobx.js.org/best/actions.html\" rel=\"nofollow noreferrer\">https://mobx.js.org/best/actions.html</a>, and in fact the first example is exactly the issue you're facing with the note</p>\n\n<blockquote>\n  <p>The above example would throw exceptions, as the callbacks passed to the fethGithubProjectsSomehow promise are not part of the fetchProjects action, as actions only apply to the current stack.</p>\n</blockquote>\n\n<p>Given your snippet, the easiest fix is to use <code>runInAction</code></p>\n\n<pre><code>@action saveMode() {\n\n  axios.post('/Course/Post', { Name: \"test41515\"})\n    .then(response =&gt; {\n      runInAction(() =&gt; {\n        console.log(response, this.isEditing);\n        this.isEditing = !this.isEditing;\n        this.failedValidation = [];\n      });\n    })\n\n}\n</code></pre>\n"}], "owner": {"reputation": 74696, "user_id": 130015, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/13871016e7ff62f95d47c0eeb9194674?s=128&d=identicon&r=PG", "display_name": "chobo2", "link": "https://stackoverflow.com/users/130015/chobo2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1498, "favorite_count": 0, "accepted_answer_id": 48197740, "answer_count": 1, "score": 0, "last_activity_date": 1515626958, "creation_date": 1515626306, "question_id": 48197656, "link": "https://stackoverflow.com/questions/48197656/invariant-failed-changing-observed-observable-values-outside-actions-is-not-all", "title": "Invariant failed: Changing observed observable values outside actions is not allowed", "body": "<p>How can I write this with mobx and axios? I am trying to use the arrow function to keep the scope of \"this\" but I might be doing it wrong.</p>\n\n<pre><code>@action saveMode() {\n\n    axios.post('/Course/Post', { Name: \"test41515\"})\n        .then(response =&gt; {\n            console.log(response, this.isEditing);\n            this.isEditing = !this.isEditing;\n            this.failedValidation = [];\n        })\n\n}\n\nUncaught (in promise) Error: [mobx] Invariant failed: Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: Course@5.isEditing\n    at invariant (app.bundle.js:7316)\n    at fail (app.bundle.js:7311)\n    at checkIfStateModificationsAreAllowed (app.bundle.js:7880)\n    at ObservableValue.prepareNewValue (app.bundle.js:5786)\n    at setPropertyValue (app.bundle.js:6663)\n    at Course.set [as isEditing] (app.bundle.js:6631)\n    at app.bundle.js:62336\n    at &lt;anonymous&gt;\n</code></pre>\n"}, {"tags": ["javascript", "css", "twitter-bootstrap", "bootstrap-table"], "answers": [{"comments": [{"owner": {"reputation": 6671, "user_id": 2242044, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220021af6dbb03bde70f36ddbabb5562?s=128&d=identicon&r=PG", "display_name": "user2242044", "link": "https://stackoverflow.com/users/2242044/user2242044"}, "edited": false, "score": 0, "creation_date": 1515646546, "post_id": 48199977, "comment_id": 83380985, "body": "Thanks. I did see the table header thing. The tricky part is I need it just on the new rows, not the whole column."}, {"owner": {"reputation": 1045, "user_id": 5531969, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6de834b263000895e5c6cf5242b4065c?s=128&d=identicon&r=PG&f=1", "display_name": "davidatthepark", "link": "https://stackoverflow.com/users/5531969/davidatthepark"}, "reply_to_user": {"reputation": 6671, "user_id": 2242044, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220021af6dbb03bde70f36ddbabb5562?s=128&d=identicon&r=PG", "display_name": "user2242044", "link": "https://stackoverflow.com/users/2242044/user2242044"}, "edited": false, "score": 0, "creation_date": 1515647639, "post_id": 48199977, "comment_id": 83381339, "body": "There are a few ways you can do that. Check this out <a href=\"http://jsfiddle.net/85h32nyz/\" rel=\"nofollow noreferrer\">jsfiddle.net/85h32nyz</a>"}], "tags": [], "owner": {"reputation": 1045, "user_id": 5531969, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6de834b263000895e5c6cf5242b4065c?s=128&d=identicon&r=PG&f=1", "display_name": "davidatthepark", "link": "https://stackoverflow.com/users/5531969/davidatthepark"}, "is_accepted": true, "score": 4, "last_activity_date": 1515654100, "last_edit_date": 1515654100, "creation_date": 1515646376, "answer_id": 48199977, "question_id": 48197566, "link": "https://stackoverflow.com/questions/48197566/using-cellstyle-when-adding-rows-with-bootstraptable/48199977#48199977", "title": "Using CellStyle when adding rows with BootstrapTable", "body": "<p>Something similar to this? <a href=\"http://jsfiddle.net/fp61qL0k/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/fp61qL0k/</a></p>\n\n<p>The documentation says you should be adding the function to the table column header, not the table itself. From here it's just manipulating the function. </p>\n\n<pre><code>{\n   field: 'text2',\n   title: 'TEXT 2',\n   cellStyle: cellStyle,\n}\n</code></pre>\n"}], "owner": {"reputation": 6671, "user_id": 2242044, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220021af6dbb03bde70f36ddbabb5562?s=128&d=identicon&r=PG", "display_name": "user2242044", "link": "https://stackoverflow.com/users/2242044/user2242044"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3057, "favorite_count": 0, "accepted_answer_id": 48199977, "answer_count": 1, "score": 4, "last_activity_date": 1515654100, "creation_date": 1515625674, "question_id": 48197566, "link": "https://stackoverflow.com/questions/48197566/using-cellstyle-when-adding-rows-with-bootstraptable", "title": "Using CellStyle when adding rows with BootstrapTable", "body": "<p>I have a Bootstrap-Table with a a button to add a new row of data. I would like to color the cell of a certain column (text2) for each new row as it's inserted. I am using the built in method <code>cellStyle()</code> as shown here: <a href=\"http://jsfiddle.net/wenyi/e3nk137y/9/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/wenyi/e3nk137y/9/</a>, but the function method never seems to be called. </p>\n\n<p>Documentation for Bootstrap-Table:\n<a href=\"http://bootstrap-table.wenzhixin.net.cn/documentation/\" rel=\"nofollow noreferrer\">http://bootstrap-table.wenzhixin.net.cn/documentation/</a></p>\n\n<p>Table declaration with cellStyle parameter:</p>\n\n<pre><code>&lt;table id=\"table\" data-pagination=\"true\"  data-cell-style=\"cellStyle\" class=\"table table-striped\"&gt;&lt;/table&gt;\n</code></pre>\n\n<p>function to add style:</p>\n\n<pre><code>function cellStyle(value, row, index, field) {\n  if (index === 0 &amp;&amp; field == 'text2') {\n    return {classes: 'warning'};\n  }\n  else {\n    return {};\n  }\n}\n</code></pre>\n\n<p>My full code:</p>\n\n<p><a href=\"http://jsfiddle.net/wtg54xpy/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/wtg54xpy/</a></p>\n"}, {"tags": ["javascript"], "answers": [{"comments": [{"owner": {"reputation": 7532, "user_id": 1826354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7b8892507cb6ede85be9ccb17132a6d1?s=128&d=identicon&r=PG", "display_name": "Charlie Martin", "link": "https://stackoverflow.com/users/1826354/charlie-martin"}, "edited": false, "score": 0, "creation_date": 1515631813, "post_id": 48197640, "comment_id": 83377878, "body": "Also, if you are coming from an OOP background, the <code>class</code> keyword is available in most modern browsers now and will be much more familiar <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}], "tags": [], "owner": {"reputation": 7532, "user_id": 1826354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7b8892507cb6ede85be9ccb17132a6d1?s=128&d=identicon&r=PG", "display_name": "Charlie Martin", "link": "https://stackoverflow.com/users/1826354/charlie-martin"}, "is_accepted": false, "score": 2, "last_activity_date": 1515626224, "creation_date": 1515626224, "answer_id": 48197640, "question_id": 48197553, "link": "https://stackoverflow.com/questions/48197553/how-can-i-override-superclass-in-javascript/48197640#48197640", "title": "How can I override superclass in JavaScript", "body": "<p>Change the subclass constructor to...</p>\n\n<pre><code>var toRun = function(bottom, right, space) {\n  toWalk.apply(this, arguments);\n  this.$node = $('&lt;span class=\"runner\"&gt;&lt;/span&gt;');\n};\n</code></pre>\n\n<p>Notice that I swapped the order, so you override <code>this.$node</code> <strong>after</strong> calling super. Before you were declaring <code>this.$node</code> and then calling the constructor (with the same <code>this</code>) and it was overriding what you had just set in <code>this.$node</code></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6398538"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1515626232, "creation_date": 1515625639, "last_edit_date": 1515626232, "question_id": 48197553, "link": "https://stackoverflow.com/questions/48197553/how-can-i-override-superclass-in-javascript", "title": "How can I override superclass in JavaScript", "body": "<p>I have a superclass here:</p>\n\n<pre><code>// SUPERCLASS\nvar toWalk = function(bottom, right, space) {\n  this.$node = $('&lt;span class=\"walker\"&gt;&lt;/span&gt;');\n  this.space = space;\n  this.step();\n  this.setPosition(bottom, right);\n};\n\ntoWalk.prototype.step = function() {\n  setTimeout(this.step.bind(this), this.space);\n};\n\ntoWalk.prototype.setPosition = function(bottom, right) {\n  var styleSettings = {\n    bottom: bottom,\n    right: right\n  };\n\n  this.$node.css(styleSettings);\n};\n</code></pre>\n\n<p>This basically sets a walker span that walks a character. class walker has its own CSS. And now what I want to attain is to override its CSS as well as its position (bottom and right) so what I did is that on my new instance I put on a new node with a class runner that has its own CSS too and apply the arguments to the instance superclass but this doesn't override what I have on the superclass on this new instance.</p>\n\n<pre><code>// SUBCLASS\n\nvar toRun = function(bottom, right, space) {\n  this.$node = $('&lt;span class=\"runner\"&gt;&lt;/span&gt;');\n  toWalk.apply(this, arguments);\n};\n\n\ntoRun.prototype = Object.create(toWalk.prototype);\n\ntoRun.prototype.constructor = toRun;\n\ntoRun.prototype.step = function() {\n  toWalk.prototype.step.call(this);\n\n  this.$node.toggleClass('size');\n\n};\n\ntoWalk.prototype.setPosition = function(bottom, right) {\n  var styleSettings = {\n    bottom: bottom,\n    right: right\n  };\n\n  this.$node.css(styleSettings);\n};\n</code></pre>\n\n<p>Any idea what am I doing wrong? How can I also override the position such as the bottom and right?</p>\n"}, {"tags": ["javascript", "html", "audio"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 2, "creation_date": 1515625560, "post_id": 48197533, "comment_id": 83376138, "body": "Don&#39;t block the UI thread.  Instead, use <code>setTimeout</code>."}, {"owner": {"reputation": 149, "user_id": 4303419, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/62001bb676846c2a84996afa93cfd64a?s=128&d=identicon&r=PG&f=1", "display_name": "sandy", "link": "https://stackoverflow.com/users/4303419/sandy"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1515625632, "post_id": 48197533, "comment_id": 83376167, "body": "Tried with setTimeout also. It&#39;s not working. The audio sounds are not paused correctly."}, {"owner": {"reputation": 1, "user_id": 2801559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9538ef609067e6d6a842dfef189b77d2?s=128&d=identicon&r=PG", "display_name": "guest271314", "link": "https://stackoverflow.com/users/2801559/guest271314"}, "edited": false, "score": 0, "creation_date": 1515626501, "post_id": 48197533, "comment_id": 83376456, "body": "Where are <code>2s</code>, <code>1s</code>, and <code>3s</code> derived from?"}, {"owner": {"reputation": 149, "user_id": 4303419, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/62001bb676846c2a84996afa93cfd64a?s=128&d=identicon&r=PG&f=1", "display_name": "sandy", "link": "https://stackoverflow.com/users/4303419/sandy"}, "edited": false, "score": 0, "creation_date": 1515627181, "post_id": 48197533, "comment_id": 83376629, "body": "These are random times taken between each note (do, re, mi....) while pressing the keys corresponding to each note (do, re, mi....)"}, {"owner": {"reputation": 149, "user_id": 4303419, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/62001bb676846c2a84996afa93cfd64a?s=128&d=identicon&r=PG&f=1", "display_name": "sandy", "link": "https://stackoverflow.com/users/4303419/sandy"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1515674224, "post_id": 48197533, "comment_id": 83395383, "body": "@SLaks... thank you for the hint of setTimeout than setInterval. I solved it."}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 4303419, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/62001bb676846c2a84996afa93cfd64a?s=128&d=identicon&r=PG&f=1", "display_name": "sandy", "link": "https://stackoverflow.com/users/4303419/sandy"}, "edited": false, "score": 0, "creation_date": 1515627366, "post_id": 48197692, "comment_id": 83376687, "body": "thank you for the help. Well this will play all the notes after an equall interval of 500 ms. In reality, the note keys might be pressed with different time intervals. I want to play the tune the way keys are pressed."}, {"owner": {"reputation": 153, "user_id": 7049547, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7c23f32afa255271fe76abbe147eadd5?s=128&d=identicon&r=PG", "display_name": "Omer", "link": "https://stackoverflow.com/users/7049547/omer"}, "reply_to_user": {"reputation": 149, "user_id": 4303419, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/62001bb676846c2a84996afa93cfd64a?s=128&d=identicon&r=PG&f=1", "display_name": "sandy", "link": "https://stackoverflow.com/users/4303419/sandy"}, "edited": false, "score": 1, "creation_date": 1515667572, "post_id": 48197692, "comment_id": 83391359, "body": "@sandy I edited the code to better suit your need. check it out:  Add a <code>pause</code> array variable and set the break time you need. When a user set a note to be played and it&#39;s length, the <code>tune</code> variable takes the note to play and <code>pause</code> variable takes the time gap you need.  So <code>tune[0]</code> will have <code>pause[0]</code> break after it, <code>tune[1]</code> will have <code>pause[1]</code> break after it and so on."}, {"owner": {"reputation": 149, "user_id": 4303419, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/62001bb676846c2a84996afa93cfd64a?s=128&d=identicon&r=PG&f=1", "display_name": "sandy", "link": "https://stackoverflow.com/users/4303419/sandy"}, "edited": false, "score": 0, "creation_date": 1515674143, "post_id": 48197692, "comment_id": 83395333, "body": "Hello @Omer thank you for your effort.... I also solved it. I used recursive setTimeout and it is working as I want. With recursive setTimeout I can pass different time pause so I don&#39;t need to pass a separate pause as you used for each setInterval.  setTimeout is better than setInterval in running program after certain interval .... here is the link for knowledge boosting <a href=\"https://javascript.info/settimeout-setinterval\" rel=\"nofollow noreferrer\">link</a>"}], "tags": [], "owner": {"reputation": 153, "user_id": 7049547, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7c23f32afa255271fe76abbe147eadd5?s=128&d=identicon&r=PG", "display_name": "Omer", "link": "https://stackoverflow.com/users/7049547/omer"}, "is_accepted": false, "score": 0, "last_activity_date": 1515667313, "last_edit_date": 1515667313, "creation_date": 1515626596, "answer_id": 48197692, "question_id": 48197533, "link": "https://stackoverflow.com/questions/48197533/how-to-create-continuous-tunes-with-audio-elements/48197692#48197692", "title": "How to create continuous tunes with audio elements", "body": "<p>Try declaring a variable outside a <code>setInterval</code> which will be equal to 0, let's say <code>var noteIndex = 0</code>. Inside the <code>setInterval</code> play the first note: <code>tune[noteIndex]</code> and then increment <code>noteIndex</code>.</p>\n\n<p>So your code should be something like that:</p>\n\n<pre><code>var tune = [];                      //Set tunes to play\nvar pause = [];                     //Set tunes breaks\nvar noteIndex = 0;\n\nvar playNotes = setInterval(function(){\n    tune[noteIndex].play();\n    noteIndex++;\n    if (noteIndex &gt; tune.length) {  //Stop the interval if all notes are played.\n        noteIndex = 0;              //Reset 'noteIndex' for next use.\n        break;\n    }\n}, pause[noteIndex]);\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 149, "user_id": 4303419, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/62001bb676846c2a84996afa93cfd64a?s=128&d=identicon&r=PG&f=1", "display_name": "sandy", "link": "https://stackoverflow.com/users/4303419/sandy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515667313, "creation_date": 1515625488, "question_id": 48197533, "link": "https://stackoverflow.com/questions/48197533/how-to-create-continuous-tunes-with-audio-elements", "title": "How to create continuous tunes with audio elements", "body": "<p>I am trying to make a simple piano based on Do Re Mi etc keys. My idea is, each sound (Do Re Mi..) will be played corresponding to the keypress event. I am collecting each valid audio element in an array in the order they are chosen by keypress. Later, once user will press the \"play\" button, all the sounds will be played together as a tune.</p>\n\n<p>Things are working fine so far. However, during the tune playing all the sounds are played together. Seems like, they are overlapped with each other. I want the pause to be added after each sound the way they were initially played. </p>\n\n<blockquote>\n  <p>Ex : Do (2s pause), Re(no Pause)Re, (1s pause)Mi, Do(3s pause),....</p>\n</blockquote>\n\n<p>I tried to add pause with a sleep function but it is not working. In my console output the array elements (where the audio elements and corresponding pauses are collected) are printed correctly and the pause is also taken correctly however, during the audio play the pause is not maintained. Any help is very much appreciated. Here is my code,</p>\n\n<p><strong>HTML</strong> </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n   &lt;head&gt;\n    &lt;title&gt;do-re-mi keyboard&lt;/title&gt;\n    &lt;link type=\"text/css\" href=\"style.css\" rel=\"stylesheet\"/&gt;\n   &lt;/head&gt;\n   &lt;body&gt;\n    &lt;div id=\"main-div\"&gt;\n        &lt;h1&gt;Let's create some awesome music ....&lt;/h1&gt;\n        &lt;div class=\"keys\"&gt;\n            &lt;div data-key=\"68\" class=\"musicKey\"&gt;&lt;p&gt;D&lt;/p&gt;&lt;span&gt;(Do)&lt;/span&gt;&lt;/div&gt;\n            &lt;div data-key=\"82\" class=\"musicKey\"&gt;&lt;p&gt;R&lt;/p&gt;&lt;span&gt;(Re)&lt;/span&gt;&lt;/div&gt;\n            &lt;div data-key=\"77\" class=\"musicKey\"&gt;&lt;p&gt;M&lt;/p&gt;&lt;span&gt;(Mi)&lt;/span&gt;&lt;/div&gt;\n            &lt;div data-key=\"70\" class=\"musicKey\"&gt;&lt;p&gt;F&lt;/p&gt;&lt;span&gt;(Fa)&lt;/span&gt;&lt;/div&gt;\n            &lt;div data-key=\"83\" class=\"musicKey\"&gt;&lt;p&gt;S&lt;/p&gt;&lt;span&gt;(So)&lt;/span&gt;&lt;/div&gt;\n            &lt;div data-key=\"76\" class=\"musicKey\"&gt;&lt;p&gt;L&lt;/p&gt;&lt;span&gt;(La)&lt;/span&gt;&lt;/div&gt;\n            &lt;div data-key=\"84\" class=\"musicKey\"&gt;&lt;p&gt;T&lt;/p&gt;&lt;span&gt;(Ti)&lt;/span&gt;&lt;/div&gt;\n            &lt;button id=\"playTune\"&gt;Play&lt;/button&gt;\n            &lt;button id=\"refresh\"&gt;Refresh&lt;/button&gt;\n        &lt;/div&gt;\n\n    &lt;/div&gt; &lt;!--main div ends --&gt;\n    &lt;audio data-key=\"68\" src=\"audio/do.mp3\" type=\"audio/mpeg\"&gt;&lt;/audio&gt;\n    &lt;audio data-key=\"82\" src=\"audio/re.mp3\" type=\"audio/mpeg\"&gt;&lt;/audio&gt;\n    &lt;audio data-key=\"77\" src=\"audio/mi.mp3\" type=\"audio/mpeg\"&gt;&lt;/audio&gt;\n    &lt;audio data-key=\"70\" src=\"audio/fa.mp3\" type=\"audio/mpeg\"&gt;&lt;/audio&gt;\n    &lt;audio data-key=\"83\" src=\"audio/so.mp3\" type=\"audio/mpeg\"&gt;&lt;/audio&gt;\n    &lt;audio data-key=\"76\" src=\"audio/la.mp3\" type=\"audio/mpeg\"&gt;&lt;/audio&gt;\n    &lt;audio data-key=\"84\" src=\"audio/ti.mp3\" type=\"audio/mpeg\"&gt;&lt;/audio&gt;\n\n    &lt;script src=\"soundBox.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n   &lt;/body&gt;\n\n&lt;/html&gt; \n</code></pre>\n\n<p><strong>CSS</strong></p>\n\n<pre><code>body{\n    margin:0;\n}\n\n#main-div{\n\n    height:100vh;\n    width:100%;\n    background-color: #ffffcc;\n    background:url('image/sand.jpg');\n}\n\nh1{\n    text-align: center;\n    margin-top:0;\n    padding-top: 50px;\n    font-family: 'Rouge Script', cursive; \n    font-size: 40px; font-weight:bolder; \n    line-height: 48px; margin: 0 0 20px;\n    color: #e65c00;\n    text-shadow: 1px 1px 2px #803300; \n}\n\n.keys{\n    height: 200px;\n    width:700px;\n    position:absolute;\n    top:50%;\n    left:50%;\n    background-color:yellow;\n    transform:translate(-50%,-50%);\n    align-items: center;\n}\n\n.musicKey{\n    height : 80px;\n    width:80px;\n    border-radius: 10px;\n    background-color:red;\n    margin-top:60px;\n    margin-left:10px;\n    margin-right:10px;\n    float:left;\n    align-items:center;\n   /* box-shadow: inset -3px -5px 2px 1px #515151;*/\n    text-align:center;\n    transition:all 0.07s;\n}\n\n.musicKey span{\n    text-align:center;\n    font-size: medium;\n    padding-top:30px;\n}\n\n.musicKeyPressed{\n    transform:scale(1.1);\n    border-color:black;\n    box-shadow: 3px 1px 1px 1px #515151;\n}\n\n#playTune{\n    float:right;\n    height:40px;\n    width:80px;\n    background-color:gray;\n    margin:10px;\n}\n\n#refresh{\n\n    float:right;\n    height:40px;\n    width:80px;\n    background-color:green;\n    margin:10px;\n\n}\n</code></pre>\n\n<p><strong>JavaScript</strong></p>\n\n<pre><code>document.addEventListener(\"keydown\",playMusic);\n\nlet keyArr = document.querySelectorAll(\".musicKey\");\n\nvar audioKeyProp = {};\nvar tune = [];\nvar keyCount =0;\nvar start =0;\nvar oldStart =0;\n\nfunction sleepFunc(time) {\n  var start = new Date().getTime();\n  for (var i = 0; i &lt; 1e7; i++) {\n    if ((new Date().getTime() - start) &gt; time){\n      break;\n    }\n  }\n}\n\ndocument.getElementById(\"refresh\").addEventListener(\"click\",function(){\n    tune = [];\n    start =0;\n    oldStart =0;\n    keyCount =0;\n});\n\ndocument.getElementById(\"playTune\").addEventListener(\"click\",function(){\n\n    //console.log(\"tune array = \" + tune);\n    if(tune.length &gt; 0)\n    {\n        tune.forEach(function(item){\n           // console.log(\"tune item = \"+ item);\n            if(typeof(item) === \"number\")\n            {\n                sleepFunc(item);\n            }\n            else\n            {\n                item.play();\n                item.currentTime=0;\n            }\n\n            });\n    }\n\n});\n\nkeyArr.forEach(function(item){\n\n    let tempVal = item.getAttribute('data-key');\n    audioKeyProp[tempVal] = document.querySelector(`audio[data-key=\"${tempVal}\"]`);\n});\n\nfunction backToOriginalPosition(e)\n{\n    if(e.propertyName !== \"transform\") return;\n    this.classList.remove(\"musicKeyPressed\");\n}\n\nfunction playMusic(event)\n{\n    var pressedKey = event.keyCode;\n    var timeElapse = 0;\n    start = new Date().getTime();\n\n    if(keyCount &gt;= 1)\n    {\n        timeElapse = start - oldStart;\n    }\n\n    var keyDiv = document.querySelector(`div[data-key=\"${pressedKey}\"]`);\n    var audioElement = audioKeyProp[pressedKey];\n\n    if(audioElement &amp;&amp; keyDiv)\n    {\n        console.log(\"duration= \" + audioElement.duration);\n        oldStart = start;\n        keyCount++;\n        tune.push(timeElapse);\n        tune.push(audioElement);\n\n        audioElement.currentTime =0;\n        audioElement.play();\n        keyDiv.classList.add(\"musicKeyPressed\");\n        keyDiv.addEventListener(\"transitionend\",backToOriginalPosition);\n    }\n   }\n</code></pre>\n"}, {"tags": ["javascript", "react-native", "react-native-fetch-blob"], "comments": [{"owner": {"reputation": 1975, "user_id": 4698074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UkOt8.jpg?s=128&g=1", "display_name": "H. Tugkan Kibar", "link": "https://stackoverflow.com/users/4698074/h-tugkan-kibar"}, "edited": false, "score": 0, "creation_date": 1515627444, "post_id": 48197441, "comment_id": 83376709, "body": "Could you try adding the following to your fetch? You should be able to determine if file is empty by the length of base64 it produces. <code>.then((res) =&gt; {     let base64Str = res.base64(); });</code>"}, {"owner": {"reputation": 6761, "user_id": 4698242, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6757cccdf8e414d1ee8f833242334cda?s=128&d=identicon&r=PG&f=1", "display_name": "kojow7", "link": "https://stackoverflow.com/users/4698242/kojow7"}, "reply_to_user": {"reputation": 1975, "user_id": 4698074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UkOt8.jpg?s=128&g=1", "display_name": "H. Tugkan Kibar", "link": "https://stackoverflow.com/users/4698074/h-tugkan-kibar"}, "edited": false, "score": 0, "creation_date": 1515628412, "post_id": 48197441, "comment_id": 83376962, "body": "Hmmm, that&#39;s interesting, base64Str seems to contain a Promise object. Why would it contain a promise when <code>then</code> should have dealt with it? When displaying the results of base64Str to the console I am getting <code>Promise {_40: 0, _65: 0, _55: null, _72: null}</code>"}, {"owner": {"reputation": 1975, "user_id": 4698074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UkOt8.jpg?s=128&g=1", "display_name": "H. Tugkan Kibar", "link": "https://stackoverflow.com/users/4698074/h-tugkan-kibar"}, "edited": false, "score": 0, "creation_date": 1515630815, "post_id": 48197441, "comment_id": 83377627, "body": "Yes that is interesting, the snippet is right from the documentation. Could you try to see what is in that Promise (attach another then to it, to see what it holds)"}, {"owner": {"reputation": 6761, "user_id": 4698242, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6757cccdf8e414d1ee8f833242334cda?s=128&d=identicon&r=PG&f=1", "display_name": "kojow7", "link": "https://stackoverflow.com/users/4698242/kojow7"}, "reply_to_user": {"reputation": 1975, "user_id": 4698074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UkOt8.jpg?s=128&g=1", "display_name": "H. Tugkan Kibar", "link": "https://stackoverflow.com/users/4698074/h-tugkan-kibar"}, "edited": false, "score": 0, "creation_date": 1515638773, "post_id": 48197441, "comment_id": 83379392, "body": "Hmm, even stranger, if I add another .then to the chain and do a <code>console.log(res)</code> I get <code>undefined</code>."}, {"owner": {"reputation": 1975, "user_id": 4698074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UkOt8.jpg?s=128&g=1", "display_name": "H. Tugkan Kibar", "link": "https://stackoverflow.com/users/4698074/h-tugkan-kibar"}, "edited": false, "score": 0, "creation_date": 1515678343, "post_id": 48197441, "comment_id": 83397894, "body": "Not to the chain, inside the first then you should write <code>res.then(console.log)</code>."}, {"owner": {"reputation": 6761, "user_id": 4698242, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6757cccdf8e414d1ee8f833242334cda?s=128&d=identicon&r=PG&f=1", "display_name": "kojow7", "link": "https://stackoverflow.com/users/4698242/kojow7"}, "reply_to_user": {"reputation": 1975, "user_id": 4698074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UkOt8.jpg?s=128&g=1", "display_name": "H. Tugkan Kibar", "link": "https://stackoverflow.com/users/4698074/h-tugkan-kibar"}, "edited": false, "score": 0, "creation_date": 1515682892, "post_id": 48197441, "comment_id": 83401047, "body": "@H.TugkanKibar I now get <code>TypeError: res.then is not a function</code>"}, {"owner": {"reputation": 1975, "user_id": 4698074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UkOt8.jpg?s=128&g=1", "display_name": "H. Tugkan Kibar", "link": "https://stackoverflow.com/users/4698074/h-tugkan-kibar"}, "reply_to_user": {"reputation": 6761, "user_id": 4698242, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6757cccdf8e414d1ee8f833242334cda?s=128&d=identicon&r=PG&f=1", "display_name": "kojow7", "link": "https://stackoverflow.com/users/4698242/kojow7"}, "edited": false, "score": 0, "creation_date": 1515682932, "post_id": 48197441, "comment_id": 83401068, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/162993/discussion-between-h-tugkan-kibar-and-kojow7\">continue this discussion in chat</a>."}], "owner": {"reputation": 6761, "user_id": 4698242, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6757cccdf8e414d1ee8f833242334cda?s=128&d=identicon&r=PG&f=1", "display_name": "kojow7", "link": "https://stackoverflow.com/users/4698242/kojow7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1129, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1520442063, "creation_date": 1515624959, "last_edit_date": 1520442063, "question_id": 48197441, "link": "https://stackoverflow.com/questions/48197441/rnfetchblob-still-creates-empty-file-when-none-exists-to-download", "title": "RNFetchBlob still creates empty file when none exists to download", "body": "<p>I am using the react-native-fetch-blob library. However, when a 404 message is sent it creates an empty file and calls it blag6.zip. This is my code:</p>\n\n<pre><code>try {\n    response = await RNFetchBlob\n    .config({\n        path: RNFetchBlob.fs.dirs.DocumentDir + \"/temp/blag6.zip\"\n    })\n    .fetch(\n        'POST',\n        'http://example.com/data/getTestSet.php',\n        {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        JSON.stringify({\n            'passcode': \"pass123\",\n            'group_id': \"1\",\n            'file': \"ShgRG/suvA/blag.zip\"\n        })\n    )\n\n\n    temp_file = RNFS.DocumentDirectoryPath + \"/temp/blag6.zip\"\n    output_path = RNFS.DocumentDirectoryPath + \"/output\n\n    await ZipArchive.unzip(temp_file, output_path)\n    console.log(\"This line is never reached.\")\n}\ncatch (err){\n    console.log(err)\n}\n</code></pre>\n\n<p>I get the following error:</p>\n\n<p><code>Error: Failed to extract file File too short to be a zip file: 0</code></p>\n\n<p>Is there a way to prevent RNFetchBlob from saving empty files and throw an error instead? How can I tell what the error is?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>For now I am using a temporary fix with the following:</p>\n\n<pre><code>status = response.info().status\n\n//check if file exists here, throw error otherwise\n\nfile_name = RNFetchBlob.fs.dirs.DocumentDir + \"/temp/blag6.zip\"\n\nfile_stat = await RNFS.stat(file_name);\nfile_size = file_stat.size;\n\nif (status != 200 || file_size == 0){\n    await RNFS.unlink(file_name);\n    throw \"My error message\";\n}\n</code></pre>\n\n<p>Is there a reason that RNFetchBlob still creates a file if none was available? Is there any way to prevent it from creating an empty file if there is no file to save?</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 4, "creation_date": 1515624933, "post_id": 48197411, "comment_id": 83375913, "body": "Change that code to do what you want?"}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1515625032, "post_id": 48197411, "comment_id": 83375942, "body": "Yeah, just add another click event."}], "answers": [{"comments": [{"owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1515625151, "post_id": 48197474, "comment_id": 83375987, "body": "display overlay should probably be before the submit, since the submit will trigger a page reload (most likely)"}, {"owner": {"reputation": 55, "user_id": 980817, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f5fa04de437f7ee8b7424af4f4c7d974?s=128&d=identicon&r=PG", "display_name": "Brian Spraker", "link": "https://stackoverflow.com/users/980817/brian-spraker"}, "edited": false, "score": 0, "creation_date": 1515625247, "post_id": 48197474, "comment_id": 83376032, "body": "Because all of the coding of this application already has the &quot;submit()&quot; built into all of it.  So all of the code would have to be re-written - which is probably 100+ updates."}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 2, "creation_date": 1515625403, "post_id": 48197474, "comment_id": 83376082, "body": "Good thing find/replace exists in most editors. Several have even expanded that to find/replace within folder."}, {"owner": {"reputation": 55, "user_id": 980817, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f5fa04de437f7ee8b7424af4f4c7d974?s=128&d=identicon&r=PG", "display_name": "Brian Spraker", "link": "https://stackoverflow.com/users/980817/brian-spraker"}, "edited": false, "score": 0, "creation_date": 1515627210, "post_id": 48197474, "comment_id": 83376641, "body": "Kevin B - I have already used --- grep -r &quot;function submit&quot; /path/ along with a few other finding options.  This submit() function appears to be an embedded javascript feature."}], "tags": [], "owner": {"reputation": 153, "user_id": 7049547, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7c23f32afa255271fe76abbe147eadd5?s=128&d=identicon&r=PG", "display_name": "Omer", "link": "https://stackoverflow.com/users/7049547/omer"}, "is_accepted": false, "score": 0, "last_activity_date": 1515625121, "creation_date": 1515625121, "answer_id": 48197474, "question_id": 48197411, "link": "https://stackoverflow.com/questions/48197411/modify-javascript-submit-function/48197474#48197474", "title": "Modify Javascript Submit() Function", "body": "<p>Why not calling the <code>submit()</code> function through another function and add whatever you want:</p>\n\n<pre><code>function myFunction() {\n    document.forms.submit();\n    document.getElementById(\"overlay\").style.display = 'block';\n}\n</code></pre>\n\n<p>While calling <code>myFunction()</code> with the <code>onclick</code> method</p>\n"}, {"comments": [{"owner": {"reputation": 55, "user_id": 980817, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f5fa04de437f7ee8b7424af4f4c7d974?s=128&d=identicon&r=PG", "display_name": "Brian Spraker", "link": "https://stackoverflow.com/users/980817/brian-spraker"}, "edited": false, "score": 0, "creation_date": 1515627298, "post_id": 48197525, "comment_id": 83376667, "body": "I appreciate the responses - this is a &#39;workaround&#39; and not fully the solution.   This would have been the last option for me to do if no one had an answer to modify the submit() function directly."}, {"owner": {"reputation": 1340, "user_id": 4065790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b770d3b9b80eb7d3531b2d24e1d92271?s=128&d=identicon&r=PG&f=1", "display_name": "Cemal", "link": "https://stackoverflow.com/users/4065790/cemal"}, "reply_to_user": {"reputation": 55, "user_id": 980817, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f5fa04de437f7ee8b7424af4f4c7d974?s=128&d=identicon&r=PG", "display_name": "Brian Spraker", "link": "https://stackoverflow.com/users/980817/brian-spraker"}, "edited": false, "score": 0, "creation_date": 1515629371, "post_id": 48197525, "comment_id": 83377225, "body": "Well, given the lack of actual code click function, the options are limited. See the edit to answer."}], "tags": [], "owner": {"reputation": 1340, "user_id": 4065790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b770d3b9b80eb7d3531b2d24e1d92271?s=128&d=identicon&r=PG&f=1", "display_name": "Cemal", "link": "https://stackoverflow.com/users/4065790/cemal"}, "is_accepted": false, "score": 0, "last_activity_date": 1515629596, "last_edit_date": 1515629596, "creation_date": 1515625447, "answer_id": 48197525, "question_id": 48197411, "link": "https://stackoverflow.com/questions/48197411/modify-javascript-submit-function/48197525#48197525", "title": "Modify Javascript Submit() Function", "body": "<p>You can add another method to click event of the submit and call the previous function from that after you show the overlay, if you don't want to edit/don't have access to the old javascript method</p>\n\n<pre><code>&lt;input type=\"submit\" onclick=\"myNewFunction()\" value=\"Submit\" /&gt;\n</code></pre>\n\n<p>Javascript</p>\n\n<pre><code>function myNewFunction() {\n  document.getElementById(\"overlay\").style.display='block';\n  oldFunction();\n}\n</code></pre>\n\n<p>using jquery, you can bind a click event to submit, then use the previous function as below.</p>\n\n<pre><code>$(window).ready(function() {\n  $(\"input[type='submit']\").on('click',function(e) {\n    $(\".overlay\").show();\n    oldFunction(); //unless it's already binded and will be called\n   });\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13669, "user_id": 1340674, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FN0lM.jpg?s=128&g=1", "display_name": "Pevara", "link": "https://stackoverflow.com/users/1340674/pevara"}, "is_accepted": false, "score": 1, "last_activity_date": 1515625912, "creation_date": 1515625912, "answer_id": 48197603, "question_id": 48197411, "link": "https://stackoverflow.com/questions/48197411/modify-javascript-submit-function/48197603#48197603", "title": "Modify Javascript Submit() Function", "body": "<p>No reason why you can't have multiple listeners for your click event. Why not just add another \"universal\" listener somewhere? </p>\n\n<pre><code>$('.button').on('click', function() {\n    $('#overlay').show();\n});\n</code></pre>\n\n<p>Just make sure this snippet runs on page load and you should be good I guess.</p>\n"}], "owner": {"reputation": 55, "user_id": 980817, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f5fa04de437f7ee8b7424af4f4c7d974?s=128&d=identicon&r=PG", "display_name": "Brian Spraker", "link": "https://stackoverflow.com/users/980817/brian-spraker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "closed_date": 1515627258, "answer_count": 3, "score": 0, "last_activity_date": 1515629596, "creation_date": 1515624811, "last_edit_date": 1515624908, "question_id": 48197411, "link": "https://stackoverflow.com/questions/48197411/modify-javascript-submit-function", "closed_reason": "Needs details or clarity", "title": "Modify Javascript Submit() Function", "body": "<p>Attempting to modify an existing program.</p>\n\n<p>When a button is clicked, it calls an <code>OnClick</code> method that calls something like:</p>\n\n<pre><code>document.forms.submit()\n</code></pre>\n\n<p>I'd like to just use the same code but add in:</p>\n\n<pre><code>document.getElementById(\"overlay\").style.display = 'block';\n</code></pre>\n\n<p>That will essentially unhide a page overlay with a loading overlay.</p>\n\n<p>Is there some place where this could be done to just add this to the processing?</p>\n"}, {"tags": ["javascript", "recursion", "return"], "comments": [{"owner": {"reputation": 1555, "user_id": 6313007, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/74799df08583d3fffcac5c333ee7bb06?s=128&d=identicon&r=PG&f=1", "display_name": "meow", "link": "https://stackoverflow.com/users/6313007/meow"}, "edited": false, "score": 1, "creation_date": 1515625156, "post_id": 48197408, "comment_id": 83375990, "body": "Cause you build up a stack that is resolved after you hit your base condition. This means that for each function call you get your base return value plus the one that was added at the respective call.   Just google recursion you will find many sites explaining the concept you didn&#39;t yet fully understand!"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1515625221, "post_id": 48197408, "comment_id": 83376018, "body": "<code>I only have the return &#39;xxx&#39;;</code> - no you don&#39;t ... you also have <code>return reverseString(str.substr(1)) + str.charAt(0);</code> - clearly you don&#39;t understand your own code"}], "answers": [{"tags": [], "owner": {"reputation": 408, "user_id": 3320915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d806f237d34e6bfbb09d028ab2dcd30d?s=128&d=identicon&r=PG&f=1", "display_name": "badri", "link": "https://stackoverflow.com/users/3320915/badri"}, "is_accepted": false, "score": 0, "last_activity_date": 1515625558, "creation_date": 1515625558, "answer_id": 48197542, "question_id": 48197408, "link": "https://stackoverflow.com/questions/48197408/return-in-js-recursion/48197542#48197542", "title": "Return in js recursion", "body": "<p>You will see the magic when you remove <code>xxx</code> from the return and replace with a <code>''</code> if you wanted to perform a reverse of a string in a recursive way. You are not handling the base case properly </p>\n"}, {"tags": [], "owner": {"reputation": 1610, "user_id": 206543, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/InXhM.png?s=128&g=1", "display_name": "Dylon", "link": "https://stackoverflow.com/users/206543/dylon"}, "is_accepted": true, "score": 0, "last_activity_date": 1515625823, "creation_date": 1515625823, "answer_id": 48197593, "question_id": 48197408, "link": "https://stackoverflow.com/questions/48197408/return-in-js-recursion/48197593#48197593", "title": "Return in js recursion", "body": "<p>You have the following:</p>\n\n<pre><code>reverseString(\"abc\")\n== reverseString(\"bc\") + \"a\"\n== reverseString(\"c\") + \"b\" + \"a\"\n== reverseString(\"\") + \"c\" + \"b\" + \"a\"\n== \"xxx\" + \"c\" + \"b\" + \"a\"\n== \"xxxcba\"\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 6438080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNDpM.jpg?s=128&g=1", "display_name": "Kirill", "link": "https://stackoverflow.com/users/6438080/kirill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 48197593, "answer_count": 2, "score": 0, "last_activity_date": 1515625823, "creation_date": 1515624807, "question_id": 48197408, "link": "https://stackoverflow.com/questions/48197408/return-in-js-recursion", "title": "Return in js recursion", "body": "<p>Can you please explain me why is this code returning </p>\n\n<blockquote>\n  <p>'xxxcba'</p>\n</blockquote>\n\n<p>while I only have the <code>return 'xxx';</code> command?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function reverseString(str) {\r\n  if (str === '')\r\n    return 'xxx';\r\n  else\r\n    return reverseString(str.substr(1)) + str.charAt(0);\r\n}\r\n\r\nconsole.log(reverseString('abc'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "express", "mongoose"], "comments": [{"owner": {"reputation": 1194, "user_id": 7196144, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/JqkLR.jpg?s=128&g=1", "display_name": "Mikita Melnikau", "link": "https://stackoverflow.com/users/7196144/mikita-melnikau"}, "edited": false, "score": 1, "creation_date": 1515625487, "post_id": 48197334, "comment_id": 83376108, "body": "usially that means that your try to use <code>delete</code> on array. if you did that -&gt; try to use <code>for-of</code> loop (<code>for</code> for browser) to delete all the same properties into array of elements"}], "answers": [{"tags": [], "owner": {"reputation": 1780, "user_id": 7475314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AA6yE.jpg?s=128&g=1", "display_name": "Tomasz Buba\u0142a", "link": "https://stackoverflow.com/users/7475314/tomasz-buba%c5%82a"}, "is_accepted": false, "score": 0, "last_activity_date": 1515624734, "creation_date": 1515624734, "answer_id": 48197397, "question_id": 48197334, "link": "https://stackoverflow.com/questions/48197334/cant-use-delete-operator-on-mongoose-query-results/48197397#48197397", "title": "Can&#39;t use &quot;delete&quot; operator on mongoose query results", "body": "<p>Will work in some versions: </p>\n\n<pre><code>myObject.set('property_to_delete', undefined, {strict: false} );\nmyObject.save();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 691, "user_id": 6727369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/770e4f054d98b62390558b4b2825ad3d?s=128&d=identicon&r=PG", "display_name": "Rafael Hovsepyan", "link": "https://stackoverflow.com/users/6727369/rafael-hovsepyan"}, "is_accepted": false, "score": 0, "last_activity_date": 1515625023, "creation_date": 1515625023, "answer_id": 48197457, "question_id": 48197334, "link": "https://stackoverflow.com/questions/48197334/cant-use-delete-operator-on-mongoose-query-results/48197457#48197457", "title": "Can&#39;t use &quot;delete&quot; operator on mongoose query results", "body": "<p>Use lodash pickby method.\nDocs: <a href=\"https://lodash.com/docs/#pickBy\" rel=\"nofollow noreferrer\">https://lodash.com/docs/#pickBy</a></p>\n"}, {"tags": [], "owner": {"reputation": 13960, "user_id": 8574934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/131cee6fb081f9edbccdd36a76b69eee?s=128&d=identicon&r=PG", "display_name": "Mika Sundland", "link": "https://stackoverflow.com/users/8574934/mika-sundland"}, "is_accepted": false, "score": 1, "last_activity_date": 1515625208, "creation_date": 1515625208, "answer_id": 48197491, "question_id": 48197334, "link": "https://stackoverflow.com/questions/48197334/cant-use-delete-operator-on-mongoose-query-results/48197491#48197491", "title": "Can&#39;t use &quot;delete&quot; operator on mongoose query results", "body": "<p>Convert the Mongoose document object to an ordinary Javascript object first:</p>\n\n<pre><code>const newObj = myObject.toObject();\ndelete newObj.property;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4593, "user_id": 7965720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f871a6402211c6c5c4f0e931fe8e7d?s=128&d=identicon&r=PG", "display_name": "Juan", "link": "https://stackoverflow.com/users/7965720/juan"}, "is_accepted": false, "score": 0, "last_activity_date": 1515625556, "creation_date": 1515625556, "answer_id": 48197541, "question_id": 48197334, "link": "https://stackoverflow.com/questions/48197334/cant-use-delete-operator-on-mongoose-query-results/48197541#48197541", "title": "Can&#39;t use &quot;delete&quot; operator on mongoose query results", "body": "<p>delete returns true except when the property is non-configurable.\nSo your key is indeed deleted. You still see the key because it is available in the prototype chain when deleted in the Mongoose document instance.</p>\n\n<p>Try a transform instead:</p>\n\n<pre><code>let Schema = new mongoose.Schema({\n  myProperty: String,\n  myOtherProperty: String\n}, {\n  toObject: {\n    transform: function (doc, ret) {\n      delete ret.myOtherProperty;\n    }\n  },\n  toJSON: {\n    transform: function (doc, ret) {\n      delete ret.myOtherProperty;\n    }\n  }\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9862, "user_id": 2757916, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/y2HgZ.jpg?s=128&g=1", "display_name": "Govind Rai", "link": "https://stackoverflow.com/users/2757916/govind-rai"}, "is_accepted": true, "score": 4, "last_activity_date": 1516139829, "last_edit_date": 1516139829, "creation_date": 1515625873, "answer_id": 48197599, "question_id": 48197334, "link": "https://stackoverflow.com/questions/48197334/cant-use-delete-operator-on-mongoose-query-results/48197599#48197599", "title": "Can&#39;t use &quot;delete&quot; operator on mongoose query results", "body": "<p>As MikaS states, you need to convert to convert the Mongoose document object into an ordinary object first:</p>\n\n<pre><code>const newObj = myObject.toObject();\ndelete newObj.property;\n</code></pre>\n\n<p>This should be fine if you're doing this once. However, if you have to repeat this logic everywhere you return this this type of document with certain keys omitted or other transformations, you should define transformations on your schema:</p>\n\n<pre><code>// specify the transform schema option\nif (!schema.options.toObject) schema.options.toObject = {};\nschema.options.toObject.transform = function (doc, ret, options) {\n  // any kind of simple/complicated transformation logic here\n  // remove the _id of every document before returning the result\n  delete ret._id;\n  return ret;\n}\n\n// without the transformation in the schema\ndoc.toObject(); // { _id: 'anId', name: 'Wreck-it Ralph' }\n\n// with the transformation\ndoc.toObject(); // { name: 'Wreck-it Ralph' }\n</code></pre>\n\n<p>Read about <a href=\"http://mongoosejs.com/docs/api.html#document_Document-toObject\" rel=\"nofollow noreferrer\">Document#toObject and transformations</a> in the docs</p>\n"}, {"tags": [], "owner": {"reputation": 1163, "user_id": 6685623, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/5S5pO.jpg?s=128&g=1", "display_name": "twknab", "link": "https://stackoverflow.com/users/6685623/twknab"}, "is_accepted": false, "score": 0, "last_activity_date": 1580367776, "creation_date": 1580367776, "answer_id": 59980652, "question_id": 48197334, "link": "https://stackoverflow.com/questions/48197334/cant-use-delete-operator-on-mongoose-query-results/59980652#59980652", "title": "Can&#39;t use &quot;delete&quot; operator on mongoose query results", "body": "<p>I found a solution for myself, where I just create a little helper method on the Schema to remove whatever field it may be.</p>\n\n<p>Example User Schema (simplified):</p>\n\n<pre><code>const UserSchema = new Schema(\n  {\n    name: {\n      type: String,\n      required: true,\n      trim: true\n    },\n    email: {\n      type: String,\n      required: true,\n      trim: true,\n    },\n    password: {\n      type: String,\n      required: true,\n      trim: true\n    },\n  },\n  {\n    timestamps: true\n  }\n);\n\nconst User = mongoose.model(\"User\", UserSchema);\nmodule.exports = User;\n</code></pre>\n\n<p>For a reasons of security, I like removing the password salt from a User object when sending back to client. I might make a helper method in my <code>UserSchema</code>, like:</p>\n\n<pre><code>UserSchema.methods.hidePasswordSalt = function() {\n  let self = this;\n  self = self.toObject();\n  if (self.password) {\n    delete self.password;\n  }\n  return self;\n};\n</code></pre>\n\n<p>Then, in my Controller, etc, when I retrieve my <code>User</code>, I call the method and send the result:</p>\n\n<pre><code>User.findOne({ _id: req.session.userId })\n  .then(user =&gt; {\n    user = user.hidePasswordSalt(); // removes password field\n    return res.status(200).json(user);\n  })\n  .catch(error =&gt; {\n    return res.status(403).json(error.errors);\n  });\n</code></pre>\n"}], "owner": {"reputation": 2061, "user_id": 80544, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/HtN07.jpg?s=128&g=1", "display_name": "Glenn", "link": "https://stackoverflow.com/users/80544/glenn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 500, "favorite_count": 1, "accepted_answer_id": 48197599, "answer_count": 6, "score": 5, "last_activity_date": 1580367776, "creation_date": 1515624407, "question_id": 48197334, "link": "https://stackoverflow.com/questions/48197334/cant-use-delete-operator-on-mongoose-query-results", "title": "Can&#39;t use &quot;delete&quot; operator on mongoose query results", "body": "<p>I'm trying to delete a key before sending data back to the browser. For some reason, maybe because it is a mongoose object, this isn't working:</p>\n\n<pre><code>delete myObject.property\n</code></pre>\n\n<p>If I do <code>console.log(delete myObject.property)</code> I get <code>true</code> which I understand means the property was not deleted. How can I get rid of this key?</p>\n\n<p>(More background: I know I could leave it off by using a mongoose select query, but I do need to select the key initially. I can also set it to null, which works fine, but I'd much rather get rid of the key completely)</p>\n"}, {"tags": ["javascript", "html", "node.js", "mongodb", "handlebars.js"], "answers": [{"tags": [], "owner": {"reputation": 50397, "user_id": 1318694, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JPEVC.png?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/1318694/matt"}, "is_accepted": false, "score": 3, "last_activity_date": 1515632305, "creation_date": 1515632305, "answer_id": 48198400, "question_id": 48197197, "link": "https://stackoverflow.com/questions/48197197/handlebars-error-each-doesnt-match-else/48198400#48198400", "title": "Handlebars - Error: each doesn&#39;t match else", "body": "<p>The error is from Handlebars, an <code>#each</code> iterator should be closed with <code>/each</code></p>\n\n<pre><code>{{#each ideas}}\n &lt;div&gt;\n   &lt;p&gt;{{tip}}&lt;/p&gt;\n &lt;/div&gt;\n{{/each}}\n</code></pre>\n\n<p><code>else</code> can be used for when there is an empty list, if it is inside the <code>each</code> section:</p>\n\n<pre><code>{{#each ideas}}\n &lt;div&gt;\n   &lt;p&gt;{{tip}}&lt;/p&gt;\n &lt;/div&gt;\n{{else}}\n &lt;div&gt;\n   &lt;p&gt;none&lt;/p&gt;\n &lt;/div&gt;\n{{/each}}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 10604423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43df762b9b5e3cfaa7ef7d9d8b48aa1a?s=128&d=identicon&r=PG", "display_name": "Damilare Oyediran", "link": "https://stackoverflow.com/users/10604423/damilare-oyediran"}, "is_accepted": false, "score": 1, "last_activity_date": 1594223701, "creation_date": 1594223701, "answer_id": 62798683, "question_id": 48197197, "link": "https://stackoverflow.com/questions/48197197/handlebars-error-each-doesnt-match-else/62798683#62798683", "title": "Handlebars - Error: each doesn&#39;t match else", "body": "<p>I know you should have fixed this by now, But I want to answer this just for people that might run into this type of error in the future.</p>\n<p>Looking at your code, the error is in your HTML file (Handlebars syntax) not server.js.</p>\n<p>Your <code>{{#each}}</code> iterator should close with <code>{{/each}}</code> not <code>{{/else}}</code>.</p>\n<p>So your code should look like this:</p>\n<p>\u00a0 \u00a0</p>\n<pre><code>{{#each ideas}}\n\n    &lt;div&gt;\n\n     &lt;p&gt;{{tip}}&lt;/p&gt;\n\n    &lt;/div&gt;\n\n{{else}}\n\n    &lt;div&gt;\n\n     &lt;p&gt;Do nothing&lt;/p&gt;\n\n    &lt;/div&gt;\n\n{{/each}}\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 7401830, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BUdm5YNbxrk/AAAAAAAAAAI/AAAAAAAAAAw/OUhPrgM_bhU/photo.jpg?sz=128", "display_name": "Assaf petronio", "link": "https://stackoverflow.com/users/7401830/assaf-petronio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1184, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1594223701, "creation_date": 1515623632, "question_id": 48197197, "link": "https://stackoverflow.com/questions/48197197/handlebars-error-each-doesnt-match-else", "title": "Handlebars - Error: each doesn&#39;t match else", "body": "<p>I'm trying to inject my MongoDB data to the HTML, but i keep getting this:\n\"Error: each doesn't match else\", I tried to change a few lines but i still getting this error, it's my first project with MongoDB or databases.\nWhat to i need to change in order my code to work? is it HTML or node problem?</p>\n\n<p>HTML</p>\n\n<pre><code>{{#each ideas}}\n &lt;div&gt;\n   &lt;p&gt;{{tip}}&lt;/p&gt;\n &lt;/div&gt;\n{{/else}}\n</code></pre>\n\n<p>server.js</p>\n\n<pre><code> const path = require('path');\n const express = require('express');\n const exphbs = require('express-handlebars');\n const bodyParser = require('body-parser')\n const mongoose = require('mongoose');\n const handlebars = require('handlebars')\n const app = express();\n\n\n //map global promise - get rid of warning\n mongoose.Promise = global.Promise;\n\n // connect to  mongoose\n mongoose.connect('mongodb://localhost/peppino-calc', {\n   useMongoClient: true\n })\n .then(() =&gt; { console.log('MongoDB connected...')})\n .catch(err =&gt; console.log(err));\n\n //Load salaryModel\n require('./modles/Idea.js');\n const Idea = mongoose.model('ideas');\n\n\n\n //handlebars middleware\n  app.engine('handlebars', exphbs({defaultLayout: 'main'}));\n  app.set('view engine', 'handlebars');\n\n\n  handlebars.registerHelper(\"toLowerCase\", function(input) {\n      var output = input.toLowerCase();\n      return output.replace(\" \", \"\");\n  });\n\n\n //body parser middleware\n app.use(bodyParser.urlencoded({extended: false}))\n app.use(bodyParser.json())\n\n\n // post history page\n app.get('/history', (req, res) =&gt; {\n   Idea.find({})\n    .sort({date: 'desc'})\n    .then(ideas =&gt; {\n      res.render('../js/newJs/history', {\n        ideas:ideas\n      })\n    });\n })\n\n\n  //process form\n  app.post('/ideas', (req, res) =&gt; {\n    let errors = [];\n    if(errors.length &gt; 0) {\n      console.log(errors[0]);\n    } else {\n      const newUser = {\n        amount: req.body.totalamount,\n        hours: req.body.totalhours,\n        salary: req.body.totalsalary,\n        tip: req.body.totaltip,\n        date: req.body.datetotal\n      }\n      new Idea(newUser)\n      .save()\n      .then(idea =&gt; {\n        res.redirect('/history');\n      })\n    }\n  });\n\n  app.use(express.static(path.join(__dirname, './js/newJs')));\n  app.set('port', process.env.PORT || 5700);\n\n  var server = app.listen(app.get('port'), function() {\n    console.log('listening on port ', server.address().port);\n  });\n</code></pre>\n"}, {"tags": ["javascript", "html5-canvas"], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 8242536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e57fb78593d2d027ffc1cf9bebac21c8?s=128&d=identicon&r=PG&f=1", "display_name": "omar A.R", "link": "https://stackoverflow.com/users/8242536/omar-a-r"}, "edited": false, "score": 0, "creation_date": 1515666950, "post_id": 48198077, "comment_id": 83390933, "body": "i do know the amount of sections but i was hoping to make it reusable so that i dont have to worry about continuosly adding  <code>document.getElementById(&#39;someSection&#39;)</code>  i think i am going about it the wrong way. also the canvas animated for the background is heavy on the cpu,  add the fact that i am doing a smooth scroll also with <code>requestAnimationFrame</code>"}], "tags": [], "owner": {"reputation": 1087, "user_id": 1082007, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/VIi3c.jpg?s=128&g=1", "display_name": "elliottregan", "link": "https://stackoverflow.com/users/1082007/elliottregan"}, "is_accepted": false, "score": 1, "last_activity_date": 1515629600, "creation_date": 1515629600, "answer_id": 48198077, "question_id": 48197155, "link": "https://stackoverflow.com/questions/48197155/how-to-call-requestanimationframe-multiple-times-for-different-functions/48198077#48198077", "title": "How to call requestAnimationFrame multiple times for different functions?", "body": "<p>Try to limit the amount that happens inside of <code>requestAnimationFrame</code>. Right now, it needs to find every <code>&lt;section&gt;</code> and iterate through that list. </p>\n\n<p>Can you identify all the sections before you start to scroll? Before you call <code>requestAnimationFrame()</code>? </p>\n"}], "owner": {"reputation": 81, "user_id": 8242536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e57fb78593d2d027ffc1cf9bebac21c8?s=128&d=identicon&r=PG&f=1", "display_name": "omar A.R", "link": "https://stackoverflow.com/users/8242536/omar-a-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 449, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1515629600, "creation_date": 1515623380, "question_id": 48197155, "link": "https://stackoverflow.com/questions/48197155/how-to-call-requestanimationframe-multiple-times-for-different-functions", "title": "How to call requestAnimationFrame multiple times for different functions?", "body": "<p>I was trying to draw an animated background using canvas as well as monitor the scroll position and smooth scroll (without jquery) i ended up calling requestAnimationFrame multiple times which quickly slowed down site.</p>\n\n<p>my app.js</p>\n\n<pre><code>  var delayTransition = 10;\n    var padding = 60;\n    var last_known_scroll = 0;\n    var canvas = document.querySelector(\"#canvas\");\n    fitToContainer(canvas);\n    function fitToContainer(canvas) {\n        canvas.style.width = \"100%\";\n        canvas.style.height = \"100%\";\n        canvas.width = canvas.offsetWidth;\n        canvas.height = canvas.offsetHeight;\n    }\n    var ctx = canvas.getContext(\"2d\");\n\n    document.addEventListener(\"DOMContentLoaded\", function() {\n        last_known_scroll = window.scrollY;\n\n        scrollToActive(last_known_scroll);\n    });\n\n    var ticking = false;\n    document.addEventListener(\"scroll\", function(event) {\n        last_known_scroll = window.scrollY;\n        if (!ticking) {\n        requestAnimationFrame(function(){// and here\n            scrollToActive(last_known_scroll)\n\n        });\n            ticking = true;\n        }\n    });\n    // change active nav-item on scroll\n    function scrollToActive(startScroll) {\n        var sections = document.getElementsByTagName(\"section\");\n        var i = 0;\n        var offSet = padding + 10;\n        var length = sections.length;\n        while (i &lt; sections.length) {\n            if (\n                startScroll + offSet &gt;= sections[i].offsetTop - offSet &amp;&amp;\n                startScroll + offSet &lt; sections[length - 1].offsetTop - offSet\n            ) {\n                changeToActive(sections[i].id + \"-link\");\n            } else if (\n                startScroll + offSet &gt;= sections[length - 1].offsetTop - offSet &amp;&amp;\n                startScroll + offSet &gt; sections[length - 2].offsetTop - offSet\n            ) {\n                changeToActive(sections[length - 1].id + \"-link\");\n            }\n            i++;\n        }\n    }\n\n    //change active nav-item to active\n    function changeToActive(elem) {\n      //loop through nav elements and highlight correct one\n    }\n\n    function scrollIt(destination, duration = 200, callback) {\n        const start = window.pageYOffset;\n        const start_time =\n            \"now\" in window.performance ? performance.now() : new Date().getTime();\n\n        const documentHeight = Math.max(\n            document.body.scrollHeight,\n            document.body.offsetHeight,\n            document.documentElement.clientHeight,\n            document.documentElement.scrollHeight,\n            document.documentElement.offsetHeight\n        );\n        const windowHeight =\n            window.innerHeight ||\n            document.documentElement.clientHeight ||\n            document.getElementsByTagName(\"body\")[0].clientHeight;\n        const destinationOffset =\n            typeof destination === \"number\" ? destination : destination.offsetTop;\n        const destinationOffsetToScroll = Math.round(\n            documentHeight - destinationOffset &lt; windowHeight\n                ? documentHeight - windowHeight\n                : destinationOffset - padding\n        );\n        if (\"requestAnimationFrame\" in window === false) {\n            window.scroll(0, destinationOffsetToScroll);\n            if (callback) {\n                callback();\n            }\n            return;\n        }\n        function scroll() {\n            const now =\n                \"now\" in window.performance\n                    ? performance.now()\n                    : new Date().getTime();\n            const time = Math.min(1, (now - start_time) / duration);\n            window.scroll(\n                0,\n                Math.ceil(time * (destinationOffsetToScroll - start) + start)\n            );\n\n            if (window.pageYOffset === destinationOffsetToScroll) {\n                if (callback) {\n                    callback();\n                }\n                return;\n            }\n\n            requestAnimationFrame(scroll);//here\n        }\n\n        scroll();\n    }\n    document\n        .querySelector(\"#about-link\")\n        .addEventListener(\"click\", () =&gt;\n            scrollIt(document.getElementById(\"about\"), 200, () =&gt;\n                changeToActive(\"about-link\")\n            )\n        );\n\n    document\n        .querySelector(\"#contact-link\")\n        .addEventListener(\"click\", () =&gt;\n            scrollIt(document.getElementById(\"contact\"), 200, () =&gt;\n                changeToActive(\"contact-link\")\n            )\n        );\n\n    function Particle(x, y, radius, dx, dy) {\n        //create particles\n    }\n    var particles = [];\n    var movingParticles = [];\n    function init() {\n      // initlaize partciles\n    }\n    function animate() {\n        requestAnimationFrame(animate); //here\n\n        ctx.clearRect(0, 0, innerWidth, canvas.height);\n\n        for (var i = 0; i &lt; particles.length; i++) {\n            particles[i].draw();\n        }\n        for (var j = 0; j &lt; movingParticles.length; j++) {\n            movingParticles[j].update();\n        }\n    }\n\n    init();\n    animate();\n</code></pre>\n\n<p>The <code>scrollIt</code> function, the <code>animate</code> function as well as the <code>document.addEventListener('scroll')</code> all seem to need RAF seperately, but that is slowing everything down. Any advice on how to best call RAF multiple times without affecting performance </p>\n"}, {"tags": ["javascript", "angular", "sockets", "rxjs"], "comments": [{"owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 1, "creation_date": 1515625331, "post_id": 48197154, "comment_id": 83376064, "body": "That&#39;s what the async pipe does - unwraps an observable and updates whenever new data is received. Have you tried this and it&#39;s not working? Or are you just asking if conceptually your approach is correct?"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1515692583, "post_id": 48197154, "comment_id": 83407377, "body": "I was hoping for an example where the <code>Observable&lt;Alert[]&gt;</code> is initialized in <code>ngOnInit()</code>, but remains in contact with and is being pushed to by the server, thus causing the table to update automatically with fresh alerts.  All the examples I have seen thus far refresh the Observable by making a new http client rest request, replacing the observable reference with a new cold observable returned from the http request.  It also looks like the entire table would have to be rerendered in this case."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1515693085, "post_id": 48197154, "comment_id": 83407680, "body": "Does Angular have a way to both receive delta updates to the observable that are Hot updates (In other words they are adding to the current state of the obserable) not replacing it, and does it also have a way to render the updates, additions, deletions only (I think that&#39;s what react does ... ) ... might be a different question ..."}, {"owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1515693309, "post_id": 48197154, "comment_id": 83407799, "body": "Well, react works with immutable state, so it pushes an entire state, which is exactly what rxjs does. I believe they work exactly the same. By using a &quot;hot&quot; observable, you close on a reference to an object, and modify that object, thus breaking immutability. It&#39;s not the end of the world, but when doing state it is pretty widely agreed upon that immutability should be used when possible."}, {"owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1515693534, "post_id": 48197154, "comment_id": 83407935, "body": "After re-reading your request, it sounds like you want an observable with a <code>websocket</code> connection, not to http rest calls, is that right? That way, as new data is published from the server, your websocket connection will read it and update the observable, rather than issuing a new http request each time it grabs data. Am I understanding correctly?"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1515693588, "post_id": 48197154, "comment_id": 83407951, "body": "I think I know what you mean.  Hmmm - I&#39;m starting to realize that I&#39;m looking for an observable where values are cached but can also be deleted (Which I don&#39;t think fits the observable definition).  So for example if an alert is cleared, then it is removed from the observable cache and the table refreshed by only deleting that one row."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1515693608, "post_id": 48197154, "comment_id": 83407959, "body": "Yes to the websocket question."}, {"owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1515693692, "post_id": 48197154, "comment_id": 83408006, "body": "In that case, I would look into &quot;websockets with rxjs&quot;, there are a few good articles and libraries out there. I have not personally used any of them, so I can&#39;t give any recommendations, but that should get you started"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1515693774, "post_id": 48197154, "comment_id": 83408035, "body": "OK great thanks!  Taking a peek now."}, {"owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1515693779, "post_id": 48197154, "comment_id": 83408038, "body": "<a href=\"https://stackoverflow.com/questions/45968054/websocket-in-angular-4-and-rxjs-confusion\">This stack Q&amp;A may help</a>"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "reply_to_user": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1515693934, "post_id": 48197154, "comment_id": 83408106, "body": "Super thanks - also just found this which seems to hit the sweet spot: <a href=\"https://tutorialedge.net/typescript/angular/angular-socket-io-tutorial/#turning-websockets-into-rxjs-subjects\" rel=\"nofollow noreferrer\">tutorialedge.net/typescript/angular/angular-socket-io-tutori&zwnj;&#8203;al/&hellip;</a>"}, {"owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1515694929, "post_id": 48197154, "comment_id": 83408660, "body": "Sweet, thanks for reporting back. I know I will be doing something like this in the near future, so having a good reference will be handy."}], "answers": [{"comments": [{"owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1515693113, "post_id": 48198624, "comment_id": 83407702, "body": "Great explanation"}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1515693302, "post_id": 48198624, "comment_id": 83407796, "body": "Great answer - do you know if there is a way to keep the observable reference connected in real time to the alertService?  I assume in the above case that a user would have to click a button or trigger some event that causes the alertService to refresh the alert observable?"}, {"owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "reply_to_user": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1515693595, "post_id": 48198624, "comment_id": 83407957, "body": "@Ole Yes, that is called a websocket connection"}], "tags": [], "owner": {"reputation": 6088, "user_id": 5932590, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ENub0.jpg?s=128&g=1", "display_name": "vince", "link": "https://stackoverflow.com/users/5932590/vince"}, "is_accepted": true, "score": 2, "last_activity_date": 1515634411, "creation_date": 1515634411, "answer_id": 48198624, "question_id": 48197154, "link": "https://stackoverflow.com/questions/48197154/ngfor-loop-with-async-pipe-and-hot-socket-connected-observable/48198624#48198624", "title": "*ngFor loop with async pipe and hot socket connected observable?", "body": "<p>The <code>async</code> pipe subscribes to the Observable for you and subsequently cleans up the Subscription when it is no longer needed. You can apply the <code>async</code> pipe to any Observable, hot or cold, and it will create a new Subscription to render the content of that Observable to the template (or pass it to a child component through an input). For example, let's say I have an <code>alerts$</code> Observable: </p>\n\n<pre><code>alerts$: Observable&lt;Alert[]&gt; = alertService.getAlerts();\n</code></pre>\n\n<p>And I want to render a list of those alerts, like you show in your question:</p>\n\n<pre><code>&lt;ul&gt;\n  &lt;li *ngFor=\"let alert of alerts$ | async\"&gt;{{ alert }}&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>I can also subscribe to the alerts$ Observable in my template and do stuff with the data there.</p>\n\n<p>Let's make another property to hold the alert and a property to hold the subscription for cleanup.</p>\n\n<pre><code>mostRecentAlert: Alert;\nalertsSubscription: Subscription;\n</code></pre>\n\n<p>And give it a value in the <code>ngOnInit</code> lifecycle hook.</p>\n\n<pre><code>ngOnInit() {\n  this.alertsSubScription = alerts$.subscribe((next: Alert[]) =&gt; {\n    mostRecentAlert = next[0];\n  }\n}\n</code></pre>\n\n<p>Then clean it up in the <code>ngOnDestroy</code> lifecycle hook.</p>\n\n<pre><code>ngOnDestroy() {\n this.alertsSubscription.unsubscribe();\n}\n</code></pre>\n\n<p><code>alerts$</code> is now technically a \"hot\" Observable because it has an active subscription, but you can still use it in your template as before.</p>\n\n<p>In short, the <code>async</code> pipe is just a handy tool for subscribing to Observables in the template. It allows you to render asynchronous data without handling any of the clean up. </p>\n\n<p>To answer your question about what <em>type</em> of Observables would be appropriate for this context: whenever you are getting data through some sort of service or store (if you're using ngrx or something similar), it will most likely arrive as a stream. Even Angular's Http utilities use rxjs Observables. This allows you to use all of the powerful rxjs operators to mold your data into the form you want and just leave that final Observable \"cold\" in your component class. Then just throw the <code>async</code> pipe on it in your template and you have a very neat way to render asynchronous data or pass it into other components.</p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 615, "favorite_count": 0, "accepted_answer_id": 48198624, "answer_count": 1, "score": 0, "last_activity_date": 1515693326, "creation_date": 1515623379, "last_edit_date": 1515693326, "question_id": 48197154, "link": "https://stackoverflow.com/questions/48197154/ngfor-loop-with-async-pipe-and-hot-socket-connected-observable", "title": "*ngFor loop with async pipe and hot socket connected observable?", "body": "<p>Suppose we have alerts rendering into a list using <code>*ngFor</code> like this: </p>\n\n<pre><code>*ngFor=\"let alert of alerts | async\"\n</code></pre>\n\n<p>Is it possible to have the <code>alerts</code> property be a hot observable that is being pushed to by the server and causing the list containing the alerts to refresh correspondingly?  If so what type of Observable(s) would be appropriate in this type of context?</p>\n"}, {"tags": ["javascript", "json", "node.js", "foreach"], "comments": [{"owner": {"reputation": 4664, "user_id": 7575111, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Ql3GC.jpg?s=128&g=1", "display_name": "NullDev", "link": "https://stackoverflow.com/users/7575111/nulldev"}, "edited": false, "score": 0, "creation_date": 1515623470, "post_id": 48197140, "comment_id": 83375356, "body": "There is no <code>prices</code> item/key in the response of the API. That&#39;s why <code>prices.prices</code> is undefined."}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1515623560, "post_id": 48197140, "comment_id": 83375394, "body": "Why are you parsing a string literal?"}, {"owner": {"reputation": 7, "user_id": 5091699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a54044709734aa236a960f45513aae?s=128&d=identicon&r=PG&f=1", "display_name": "\u0422\u043e\u043d\u0438 \u041d\u0438\u043a\u043e\u043b\u043e\u0432", "link": "https://stackoverflow.com/users/5091699/%d0%a2%d0%be%d0%bd%d0%b8-%d0%9d%d0%b8%d0%ba%d0%be%d0%bb%d0%be%d0%b2"}, "edited": false, "score": 0, "creation_date": 1515624525, "post_id": 48197140, "comment_id": 83375758, "body": "i try to convert prices from csgofast to model like a bitskins but yea json is different my bad .... thanks guys i will try another model :)"}], "answers": [{"tags": [], "owner": {"reputation": 408, "user_id": 3320915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d806f237d34e6bfbb09d028ab2dcd30d?s=128&d=identicon&r=PG&f=1", "display_name": "badri", "link": "https://stackoverflow.com/users/3320915/badri"}, "is_accepted": false, "score": 0, "last_activity_date": 1515624851, "creation_date": 1515624851, "answer_id": 48197423, "question_id": 48197140, "link": "https://stackoverflow.com/questions/48197140/nodejs-cannot-read-property-foreach-of-undefined/48197423#48197423", "title": "nodejs Cannot read property &#39;forEach&#39; of undefined", "body": "<p><code>prices.prices</code> is undefined. You can however try to store the reponse/data in <code>prices.txt</code></p>\n\n<pre><code>Array.from(prices).forEach(function(item){...};\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 5091699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a54044709734aa236a960f45513aae?s=128&d=identicon&r=PG&f=1", "display_name": "\u0422\u043e\u043d\u0438 \u041d\u0438\u043a\u043e\u043b\u043e\u0432", "link": "https://stackoverflow.com/users/5091699/%d0%a2%d0%be%d0%bd%d0%b8-%d0%9d%d0%b8%d0%ba%d0%be%d0%bb%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4142, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515624851, "creation_date": 1515623310, "question_id": 48197140, "link": "https://stackoverflow.com/questions/48197140/nodejs-cannot-read-property-foreach-of-undefined", "title": "nodejs Cannot read property &#39;forEach&#39; of undefined", "body": "<p>guys i get this error in my nodejs application but i not understand what is wrong and what is problem with 'forEach'.\nTypeError: Cannot read property 'forEach' of undefined,</p>\n\n<pre><code>var request = require('request');\nvar log4js = require('log4js');\nvar logger = log4js.getLogger();\nvar fs = require('fs');\nvar prices;\nsetInterval(function(){\n    request('https://api.csgofast.com/price/all', function(error, response, body) {\n        prices = JSON.parse(body);\n        var newprice = JSON.parse('{\"response\":{\"success\":1,\"current_time\":1464567644,\"items\":{}}}');\nprices.prices.forEach(function(item) {\n                                newprice.response.items['migration_time_validation'] = JSON.stringify(database_params);\n                                newprice.response.items[item.market_hash_name] = {\n                                        \"value\": item.price\n\n                                }\n                        });\n        fs.writeFileSync('C:/Program Files (x86)/Ampps/www/test/prices.txt', body);\n        logger.trace('New prices loaded.');\n    });\n}, 3);\n</code></pre>\n"}, {"tags": ["javascript", "vue.js", "vuejs2", "axios"], "answers": [{"tags": [], "owner": {"reputation": 1853, "user_id": 5746074, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0df465732eeb9ce0ef0b96813aa0786b?s=128&d=identicon&r=PG", "display_name": "Ewomazino Ukah", "link": "https://stackoverflow.com/users/5746074/ewomazino-ukah"}, "is_accepted": false, "score": 0, "last_activity_date": 1515626559, "creation_date": 1515626559, "answer_id": 48197689, "question_id": 48197136, "link": "https://stackoverflow.com/questions/48197136/vue-js-axios-delete-method-deleting-the-wrong-object-in-the-array/48197689#48197689", "title": "Vue.js Axios delete method deleting the wrong object in the array", "body": "<p>change </p>\n\n<pre><code>&lt;button type=\"button\" class=\"btn btn-danger pull-right\" data-toggle=\"modal\" v-on:submit.prevent=\"deleteData(index)\" @click=\"deleteData(results, index) in result\"&gt;Delete&lt;/button&gt;\n</code></pre>\n\n<p>to </p>\n\n<pre><code>&lt;button type=\"button\" class=\"btn btn-danger pull-right\" data-toggle=\"modal\" @click=\"deleteData(results, index)\"&gt;Delete&lt;/button&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1704, "user_id": 5373949, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WQRei.jpg?s=128&g=1", "display_name": "Thamer", "link": "https://stackoverflow.com/users/5373949/thamer"}, "is_accepted": true, "score": 6, "last_activity_date": 1590063113, "last_edit_date": 1590063113, "creation_date": 1515627759, "answer_id": 48197852, "question_id": 48197136, "link": "https://stackoverflow.com/questions/48197136/vue-js-axios-delete-method-deleting-the-wrong-object-in-the-array/48197852#48197852", "title": "Vue.js Axios delete method deleting the wrong object in the array", "body": "<p>as I can see, you pass two params to your <code>deleteData</code> method. the second param it's the index of results array it's not your real id of results.</p>\n\n<p>here, you just need to replace your <code>deleteData</code> method by this :</p>\n\n<pre><code> deleteData: function(result, id) {\n      axios.delete('https://my-json-server.typicode.com/json/posts/' + result.id)\n      .then(response =&gt; {\n        this.result.splice(id, 1)\n        console.log(this.result);\n      });\n    },\n</code></pre>\n\n<p>as you can see above,we have just changed your <code>id</code> by <code>result.id</code>  </p>\n"}, {"comments": [{"owner": {"reputation": 783, "user_id": 10403061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/35yNU.jpg?s=128&g=1", "display_name": "liakoyras", "link": "https://stackoverflow.com/users/10403061/liakoyras"}, "edited": false, "score": 0, "creation_date": 1605897900, "post_id": 64932038, "comment_id": 114803463, "body": "As you can see, this question is already answered, and your solution has nothing to do with the real problem in it..."}], "tags": [], "owner": {"reputation": 1, "user_id": 14487270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f1a44cb4348a6c047c6b267f2e60b55?s=128&d=identicon&r=PG&f=1", "display_name": "user14487270", "link": "https://stackoverflow.com/users/14487270/user14487270"}, "is_accepted": false, "score": -1, "last_activity_date": 1605885470, "creation_date": 1605885470, "answer_id": 64932038, "question_id": 48197136, "link": "https://stackoverflow.com/questions/48197136/vue-js-axios-delete-method-deleting-the-wrong-object-in-the-array/64932038#64932038", "title": "Vue.js Axios delete method deleting the wrong object in the array", "body": "<p>It's a 404 error meaning the it's unable to the page. It might be the link is incorrect. Please look at the url once again! The same thing happened with me, then I realized the URL which I was trying to reach was incorrect.</p>\n"}], "owner": {"reputation": 372, "user_id": 4882389, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3e00222e3b43d1c30d080210c4286808?s=128&d=identicon&r=PG&f=1", "display_name": "themanwiththemasterplan", "link": "https://stackoverflow.com/users/4882389/themanwiththemasterplan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14905, "favorite_count": 1, "accepted_answer_id": 48197852, "answer_count": 3, "score": 3, "last_activity_date": 1605885470, "creation_date": 1515623277, "last_edit_date": 1515661109, "question_id": 48197136, "link": "https://stackoverflow.com/questions/48197136/vue-js-axios-delete-method-deleting-the-wrong-object-in-the-array", "title": "Vue.js Axios delete method deleting the wrong object in the array", "body": "<p>I have an issue where my axios.delete method is deleting the wrong objects in the array. There are 3 objects total, coming from an api, the objects with id 2 and 3 fine when I delete in the index.html file, but it throws a 'Uncaught (in promise) Error: Request failed with status code 404' error when I try to delete the first object in the array coming from my API.</p>\n\n<p>My index file (includes the delete button)</p>\n\n<pre><code> &lt;body&gt;\n        &lt;div id=\"app\"&gt;\n          &lt;template v-for=\"(results, index) in result\"&gt;\n\n              &lt;div  class=\"card\" style=\"width: 20rem; display:inline-block;\"&gt;\n                &lt;div class=\"card-block\"&gt;\n                 &lt;p&gt;{{ results }}&lt;/p&gt;\n\n                 &lt;button type=\"button\" class=\"btn btn-danger pull-right\" data-toggle=\"modal\" v-on:submit.prevent=\"deleteData(index)\" @click=\"deleteData(results, index) in result\"&gt;Delete&lt;/button&gt;\n\n                 &lt;h1&gt; {{ results.comments}} &lt;/h1&gt;\n\n              &lt;/div&gt;\n              &lt;/div&gt;\n\n            &lt;/template&gt;\n\n        &lt;/div&gt;\n        &lt;script src=\"https://unpkg.com/axios/dist/axios.min.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"https://unpkg.com/vue\"&gt;&lt;/script&gt;\n        &lt;script src=\"src/main.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Main.js</p>\n\n<pre><code>var vm = new Vue ({\n  el: '#app',\n  data: {\n    result: ''\n  },\n\n  created: function(){\n    this.getResult();\n  },\n\n  methods: {\n\n    deleteData: function(result, id) {\n      axios.delete('https://my-json-server.typicode.com/json/posts/' + id)\n      .then(response =&gt; {\n        this.result.splice(id, 1)\n        console.log(this.result);\n      });\n    },\n\n    getResult: function() {\n      // this.results = 'Loading...';\n      axios.get('https://my-json-server.typicode.com/json/db')\n      .then(response =&gt; {\n        // console.log(response.data);\n        this.result = response.data.posts;\n        console.log(this.result);\n      });\n    }\n  }\n  });\n</code></pre>\n"}, {"tags": ["javascript", "css", "syntax"], "comments": [{"owner": {"reputation": 19338, "user_id": 804867, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8810169ef7462910a465e3d45e6fea8c?s=128&d=identicon&r=PG&f=1", "display_name": "hungerstar", "link": "https://stackoverflow.com/users/804867/hungerstar"}, "edited": false, "score": 0, "creation_date": 1515623243, "post_id": 48197102, "comment_id": 83375269, "body": "Your question is a bit unclear. What are you attempting to achieve? Why do you want to do this?"}, {"owner": {"reputation": 6598, "user_id": 5283476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hafRX.jpg?s=128&g=1", "display_name": "UncaughtTypeError", "link": "https://stackoverflow.com/users/5283476/uncaughttypeerror"}, "edited": false, "score": 0, "creation_date": 1515623315, "post_id": 48197102, "comment_id": 83375296, "body": "Why do you want to do it that way? What is the method motivating this irregular approach?"}, {"owner": {"reputation": 1003, "user_id": 7083045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1005449309578357/picture?type=large", "display_name": "Hayden Passmore", "link": "https://stackoverflow.com/users/7083045/hayden-passmore"}, "edited": false, "score": 0, "creation_date": 1515623339, "post_id": 48197102, "comment_id": 83375308, "body": "Not sure why you would want to do this but you might be able to use javascripts <a href=\"https://www.w3schools.com/jsref/prop_html_innerhtml.asp\" rel=\"nofollow noreferrer\">innerhtml</a> to achieve this"}, {"owner": {"reputation": 307, "user_id": 1677995, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/4371660d7db41ea23724ed08c112fa59?s=128&d=identicon&r=PG", "display_name": "user5248", "link": "https://stackoverflow.com/users/1677995/user5248"}, "edited": false, "score": 0, "creation_date": 1515623551, "post_id": 48197102, "comment_id": 83375388, "body": "It always amazes me that everytime I post something on stackoverflow my motives are always questioned. Do you guys really need the whole story?"}, {"owner": {"reputation": 4278, "user_id": 1639566, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/25WM3.jpg?s=128&g=1", "display_name": "Matthew Johnson", "link": "https://stackoverflow.com/users/1639566/matthew-johnson"}, "edited": false, "score": 2, "creation_date": 1515623869, "post_id": 48197102, "comment_id": 83375507, "body": "@user5248 I think they&#39;re questioning because it&#39;s a very odd thing to want to do.  It seems like <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">the x y problem</a>.  It looks like you&#39;re wanting CSS on the page, so you&#39;re trying to hack your way around Drupal pulling it out.  The underlying problem could probably be better solved with a different approach than adding the styles with JS."}, {"owner": {"reputation": 4278, "user_id": 1639566, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/25WM3.jpg?s=128&g=1", "display_name": "Matthew Johnson", "link": "https://stackoverflow.com/users/1639566/matthew-johnson"}, "edited": false, "score": 0, "creation_date": 1515623917, "post_id": 48197102, "comment_id": 83375532, "body": "For example, why can&#39;t you put those styles in a style sheet and include <i>that</i> on the page?  I&#39;m not the down voter, but I&#39;d bet that&#39;s a big part of the reason."}, {"owner": {"reputation": 307, "user_id": 1677995, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/4371660d7db41ea23724ed08c112fa59?s=128&d=identicon&r=PG", "display_name": "user5248", "link": "https://stackoverflow.com/users/1677995/user5248"}, "edited": false, "score": 0, "creation_date": 1515623950, "post_id": 48197102, "comment_id": 83375546, "body": "The purpose of that is to avoid Drupal from deleting my css from page when I&#39;m saving it. On save it deletes all css styles on page, but allows javascript stay. So I want to trick Drupal not to erase my css from page on save by wrapping css in javascript."}, {"owner": {"reputation": 4278, "user_id": 1639566, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/25WM3.jpg?s=128&g=1", "display_name": "Matthew Johnson", "link": "https://stackoverflow.com/users/1639566/matthew-johnson"}, "edited": false, "score": 1, "creation_date": 1515624026, "post_id": 48197102, "comment_id": 83375576, "body": "But the underlying problem, besides Drupal pulling out styles, is that you can&#39;t get the styles you want on the page, correct?  Would adding those styles in a style sheet solve it?  Adding JS to insert a block of CSS is highly unconventional."}, {"owner": {"reputation": 307, "user_id": 1677995, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/4371660d7db41ea23724ed08c112fa59?s=128&d=identicon&r=PG", "display_name": "user5248", "link": "https://stackoverflow.com/users/1677995/user5248"}, "edited": false, "score": 1, "creation_date": 1515624040, "post_id": 48197102, "comment_id": 83375581, "body": "I would put them in a style sheet, but right now I don&#39;t have the access to the stylesheet."}, {"owner": {"reputation": 307, "user_id": 1677995, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/4371660d7db41ea23724ed08c112fa59?s=128&d=identicon&r=PG", "display_name": "user5248", "link": "https://stackoverflow.com/users/1677995/user5248"}, "edited": false, "score": 0, "creation_date": 1515624105, "post_id": 48197102, "comment_id": 83375600, "body": "I need a quick fix. I will do a proper fix later when I have access and time."}, {"owner": {"reputation": 208794, "user_id": 229044, "user_type": "moderator", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/591426cbbacd4025d920467bad356911?s=128&d=identicon&r=PG&f=1", "display_name": "meagar", "link": "https://stackoverflow.com/users/229044/meagar"}, "edited": false, "score": 1, "creation_date": 1515624616, "post_id": 48197102, "comment_id": 83375792, "body": "@user5248 See <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\" title=\"what is the xy problem\">meta.stackexchange.com/questions/66377/what-is-the-xy-proble&zwnj;&#8203;m</a>. We&#39;re not &quot;questioning your motives&quot;, we&#39;re <i>trying to help you</i>. Stack Overflow is not about answering your immediate question, it&#39;s about identifying common problems in software development, and building a canonical list of the <i>best</i> solutions."}, {"owner": {"reputation": 19338, "user_id": 804867, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8810169ef7462910a465e3d45e6fea8c?s=128&d=identicon&r=PG&f=1", "display_name": "hungerstar", "link": "https://stackoverflow.com/users/804867/hungerstar"}, "edited": false, "score": 0, "creation_date": 1515769751, "post_id": 48197102, "comment_id": 83439797, "body": "@user5248 you shouldn&#39;t need to do what you need to do to prevent Drupal from doing what it is doing. You&#39;re approach and reasoning suggests a fair amount of naivete in what you&#39;re doing. That&#39;s why it gets questioned."}], "answers": [{"tags": [], "owner": {"reputation": 3087, "user_id": 5278432, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/PgZfk.jpg?s=128&g=1", "display_name": "Alberto Rivera", "link": "https://stackoverflow.com/users/5278432/alberto-rivera"}, "is_accepted": false, "score": 0, "last_activity_date": 1515624342, "creation_date": 1515624342, "answer_id": 48197319, "question_id": 48197102, "link": "https://stackoverflow.com/questions/48197102/echo-css-in-javascript/48197319#48197319", "title": "Echo css in javascript", "body": "<p>Try doing this from your script tag. </p>\n\n<pre><code>var styleEl = document.createElement('style');\nstyleEl.innerHTML = `body{color:blue; ... other styles}`;\ndocument.head.appendChild(styleEl);\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 1677995, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/4371660d7db41ea23724ed08c112fa59?s=128&d=identicon&r=PG", "display_name": "user5248", "link": "https://stackoverflow.com/users/1677995/user5248"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1515624342, "creation_date": 1515623102, "last_edit_date": 1515623477, "question_id": 48197102, "link": "https://stackoverflow.com/questions/48197102/echo-css-in-javascript", "title": "Echo css in javascript", "body": "<p>I want to be able to put css in javascript like so</p>\n\n<pre><code>&lt;script&gt;\n  &lt;style&gt;dump bunch of css here&lt;/style&gt;\n&lt;/script&gt;\n</code></pre>\n\n<p>What is the proper syntax to be able to wrap css in javascript?\nThe purpose of that is to avoid Drupal from deleting my css from page. On save it deletes all css styles, but allows javascript stay. So I want to trick Drupal not to erase my css from page on save by wrapping css in javascript.</p>\n\n<p>This is the CSS I need to put in javascript</p>\n\n<pre><code>&lt;style&gt;\ndt a {font-size:18px;margin-left:10px; display:block;color:#E45700;font-family: 'Lucida Grande',sans-serif;cursor: hand; cursor: pointer;background: url('http://libraries.idaho.gov/files/arrow-down.png') no-repeat center right;}\n         dt {background:#EECC82;margin-bottom:15px;padding: 3px 15px 0 10px}\n         dt a:hover {text-decoration:none!important;color:#fff;opacity:0.75;}\n         dd {overflow:hidden}\n        .key-points {overflow:hidden;padding:0!important;margin-bottom:30px;}\n        .key-points li {width:32%;float:left;list-style-type:none;padding:0 10px 0 0;margin-left:0!important;}\n        .key-points li.last {padding:0!important;}\n        .key-points .text {overflow:hidden;}\n        .key-points img {width:56px; height:56px;float:left;padding-right:10px;}\n&lt;/style&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "express", "google-chrome-devtools"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user784540"}, "edited": false, "score": 0, "creation_date": 1515623160, "post_id": 48197088, "comment_id": 83375247, "body": "I am not experienced with nodejs, but have you tried to specify <code>debugger;</code> instruction in places where you want the application to stop. It should work."}, {"owner": {"reputation": 2242, "user_id": 1575639, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/u6XMY.png?s=128&g=1", "display_name": "Hamid", "link": "https://stackoverflow.com/users/1575639/hamid"}, "edited": false, "score": 0, "creation_date": 1515679001, "post_id": 48197088, "comment_id": 83398272, "body": "@RafaelOsipov Thanks for your comment, in the new method, there is no need to put debugger, you just simply add your breakpoints graphically."}], "answers": [{"comments": [{"owner": {"reputation": 815, "user_id": 4826195, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UJKn9.png?s=128&g=1", "display_name": "randomsock", "link": "https://stackoverflow.com/users/4826195/randomsock"}, "edited": false, "score": 1, "creation_date": 1525994399, "post_id": 48209265, "comment_id": 87582067, "body": "are you sure that&#39;s what fixed it?  I am having the same problem and unfortunately this hasn&#39;t fixed it for me, so is it possible you did something else too that might have made a difference?"}, {"owner": {"reputation": 2242, "user_id": 1575639, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/u6XMY.png?s=128&g=1", "display_name": "Hamid", "link": "https://stackoverflow.com/users/1575639/hamid"}, "reply_to_user": {"reputation": 815, "user_id": 4826195, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UJKn9.png?s=128&g=1", "display_name": "randomsock", "link": "https://stackoverflow.com/users/4826195/randomsock"}, "edited": false, "score": 0, "creation_date": 1526303107, "post_id": 48209265, "comment_id": 87678105, "body": "@randomsock Yes it works for me every time I run the command  &quot;node --inspect-brk ./bin/www&quot; and going to chrome://inspect on browser."}], "tags": [], "owner": {"reputation": 2242, "user_id": 1575639, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/u6XMY.png?s=128&g=1", "display_name": "Hamid", "link": "https://stackoverflow.com/users/1575639/hamid"}, "is_accepted": true, "score": 0, "last_activity_date": 1515680605, "creation_date": 1515680605, "answer_id": 48209265, "question_id": 48197088, "link": "https://stackoverflow.com/questions/48197088/breakpoints-on-chrome-devtools-for-node-wont-work/48209265#48209265", "title": "Breakpoints on Chrome DevTools for node won&#39;t work", "body": "<p>I found the solution. I had to inspect the target (deployed) folder and also I don't need step 1. When I run the debugger it will run the app. So instead of </p>\n\n<pre><code>node --inspect-brk app.js\n</code></pre>\n\n<p>I had to run this:</p>\n\n<pre><code>node --inspect-brk ./bin/www\n</code></pre>\n"}], "owner": {"reputation": 2242, "user_id": 1575639, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/u6XMY.png?s=128&g=1", "display_name": "Hamid", "link": "https://stackoverflow.com/users/1575639/hamid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 807, "favorite_count": 0, "accepted_answer_id": 48209265, "answer_count": 1, "score": 1, "last_activity_date": 1541205455, "creation_date": 1515623026, "question_id": 48197088, "link": "https://stackoverflow.com/questions/48197088/breakpoints-on-chrome-devtools-for-node-wont-work", "title": "Breakpoints on Chrome DevTools for node won&#39;t work", "body": "<p>I'm trying to debug a node app with Chrom DevTools. Here is the instruction that I followed: \n<a href=\"https://medium.com/@paul_irish/debugging-node-js-nightlies-with-chrome-devtools-7c4a1b95ae27\" rel=\"nofollow noreferrer\">Instruction</a></p>\n\n<p>In brief I do this:\n1- Run my app with command line <code>npm start</code>\n2- Run the inspector with command <code>node --inspect-brk app.js</code>\n3- Open chrome://inspect I see the following view:</p>\n\n<p><a href=\"https://i.stack.imgur.com/GYt2e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GYt2e.png\" alt=\"enter image description here\"></a></p>\n\n<p>4- click on \"Open dedicated DevTools for node\" link\n5- I see thatit shows the files under (no domain) folder not (file:///) like bellow</p>\n\n<p><a href=\"https://i.stack.imgur.com/8IWA5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8IWA5.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I ping the service with postman, breakpoints will not pause the app. What am I doing wrong here?</p>\n"}, {"tags": ["javascript", "reactjs", "webpack", "yarnpkg", "wavesurfer.js"], "answers": [{"tags": [], "owner": {"reputation": 2552, "user_id": 1418771, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/CDm2R.png?s=128&g=1", "display_name": "Emil Re&#241;a Enriquez", "link": "https://stackoverflow.com/users/1418771/emil-re%c3%b1a-enriquez"}, "is_accepted": false, "score": 0, "last_activity_date": 1587671648, "creation_date": 1587671648, "answer_id": 61395826, "question_id": 48197078, "link": "https://stackoverflow.com/questions/48197078/adding-webpack-config-to-react-create-app-using-react-app-rewired/61395826#61395826", "title": "Adding webpack config to react-create-app using react-app-rewired", "body": "<p>Use the npm version instead, add wavesurfer to your package.json file under the dependencies and then do an <code>npm install</code> or if you're using yarn do <code>yarn install</code></p>\n\n<p>How to use inside project.</p>\n\n<pre><code>import WaveSurfer from 'wavesurfer.js';\n</code></pre>\n"}], "owner": {"reputation": 2620, "user_id": 2884250, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d880b0bfc6c878de208f1cc98b90e49a?s=128&d=identicon&r=PG&f=1", "display_name": "beek", "link": "https://stackoverflow.com/users/2884250/beek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1315, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1587671648, "creation_date": 1515622986, "last_edit_date": 1515627029, "question_id": 48197078, "link": "https://stackoverflow.com/questions/48197078/adding-webpack-config-to-react-create-app-using-react-app-rewired", "title": "Adding webpack config to react-create-app using react-app-rewired", "body": "<p>Warning: I'm new to this. </p>\n\n<p>I'm working on a react app that uses react-create-app via yarn. </p>\n\n<p>I'm trying to install react-wavesurfer using these instructions\n<a href=\"https://github.com/mspae/react-wavesurfer#prerequisites-and-common-pitfalls\" rel=\"nofollow noreferrer\">https://github.com/mspae/react-wavesurfer#prerequisites-and-common-pitfalls</a></p>\n\n<p>I need to get Wavesurfer.js into the application somehow. These instructions include making changes to the webpack config, which I'm trying to avoid ejecting. </p>\n\n<p>I found this react-app-rewired and this article <a href=\"https://jaketrent.com/post/change-webpack-config-create-react-app-without-ejecting/\" rel=\"nofollow noreferrer\">https://jaketrent.com/post/change-webpack-config-create-react-app-without-ejecting/</a></p>\n\n<p>So I've added this to config-overrides.js</p>\n\n<pre><code>const rewireProvidePlugin = require('react-app-rewire-provide-plugin')\n\n// Use `webpack.ProvidePlugin` to add jQuery globally\n\n\nmodule.exports = function override(config, env) {\n  // add a plugin\n  config = rewireProvidePlugin(config, env, {\n    'WaveSurfer': 'wavesurfer.js',\n  })\n\n    resolve: {\n        alias: {\n            wavesurfer: require.resolve('wavesurfer.js')\n        }\n    }\n\n  return config\n}\n</code></pre>\n\n<p>Which builds, but I still can't access wavesurfer in the page which has these imports</p>\n\n<pre><code>import React, {Component} from 'react'\nimport history from '../../../history'\nimport Wavesurfer from 'react-wavesurfer'\n\nimport * as _ from 'lodash'\n\nrequire('wavesurfer.js')\nrequire('wavesurfer.js/dist/plugin/wavesurfer.timeline.min.js')\nrequire('wavesurfer.js/dist/plugin/wavesurfer.regions.min.js')\nrequire('wavesurfer.js/dist/plugin/wavesurfer.minimap.min.js')\n</code></pre>\n\n<p>When I try and run react-app-rewired start</p>\n\n<p>Any clues on how to fix this? </p>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 255971, "user_id": 464744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3dfd6067f4c69986a652444f44bb6d7c?s=128&d=identicon&r=PG", "display_name": "Blender", "link": "https://stackoverflow.com/users/464744/blender"}, "edited": false, "score": 0, "creation_date": 1515623041, "post_id": 48197073, "comment_id": 83375191, "body": "How would jQuery help you push an element into an array?"}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1515623232, "post_id": 48197073, "comment_id": 83375266, "body": "Instead of using <code>document.all</code>, check whether the features you want actually exist."}, {"owner": {"reputation": 163, "user_id": 8198837, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2a7493669e9518fb885de4fc44e272b5?s=128&d=identicon&r=PG&f=1", "display_name": "BeeLee", "link": "https://stackoverflow.com/users/8198837/beelee"}, "reply_to_user": {"reputation": 255971, "user_id": 464744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3dfd6067f4c69986a652444f44bb6d7c?s=128&d=identicon&r=PG", "display_name": "Blender", "link": "https://stackoverflow.com/users/464744/blender"}, "edited": false, "score": 0, "creation_date": 1515623465, "post_id": 48197073, "comment_id": 83375353, "body": "@Blender Sorry for the misunderstood and thank you for your time.I wasn&#39;t meaning using jQuery for this operation only but, globally on my project, jQuery is not allowed for those who can provide a help with it that&#39;s it. :)"}, {"owner": {"reputation": 163, "user_id": 8198837, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2a7493669e9518fb885de4fc44e272b5?s=128&d=identicon&r=PG&f=1", "display_name": "BeeLee", "link": "https://stackoverflow.com/users/8198837/beelee"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1515623538, "post_id": 48197073, "comment_id": 83375380, "body": "@SLaks Thank you for your time. That&#39;s why I came here as I found no serious documentation about the subject yet. If you have anything please share."}, {"owner": {"reputation": 1479, "user_id": 297827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b69fccaa235ecc07eb934fd31fd16f4?s=128&d=identicon&r=PG", "display_name": "mike123", "link": "https://stackoverflow.com/users/297827/mike123"}, "edited": false, "score": 0, "creation_date": 1515623884, "post_id": 48197073, "comment_id": 83375519, "body": "Would this work? <code>var arr = []  function gText (e) {  var text = (document.all) ? document.selection.createRange().text : document.getSelection();  document.getElementById(&#39;input&#39;).value = text;  arr.push(text); }</code> May be i&#39;m missing something ..."}, {"owner": {"reputation": 163, "user_id": 8198837, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2a7493669e9518fb885de4fc44e272b5?s=128&d=identicon&r=PG&f=1", "display_name": "BeeLee", "link": "https://stackoverflow.com/users/8198837/beelee"}, "reply_to_user": {"reputation": 1479, "user_id": 297827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b69fccaa235ecc07eb934fd31fd16f4?s=128&d=identicon&r=PG", "display_name": "mike123", "link": "https://stackoverflow.com/users/297827/mike123"}, "edited": false, "score": 0, "creation_date": 1515625689, "post_id": 48197073, "comment_id": 83376187, "body": "@mike123 thank you for your time but Drongo had the final word! :)"}], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 8198837, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2a7493669e9518fb885de4fc44e272b5?s=128&d=identicon&r=PG&f=1", "display_name": "BeeLee", "link": "https://stackoverflow.com/users/8198837/beelee"}, "edited": false, "score": 0, "creation_date": 1515625770, "post_id": 48197508, "comment_id": 83376210, "body": "This exactly what I needed. It always look obvious when I got help but it is still impressive ;) Thank you for your time Drongo! you rock 5*"}], "tags": [], "owner": {"reputation": 89, "user_id": 4509133, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2d2aac9b14d994c0d5735208a72f8e2d?s=128&d=identicon&r=PG&f=1", "display_name": "Drongo", "link": "https://stackoverflow.com/users/4509133/drongo"}, "is_accepted": true, "score": 1, "last_activity_date": 1515625322, "creation_date": 1515625322, "answer_id": 48197508, "question_id": 48197073, "link": "https://stackoverflow.com/questions/48197073/store-each-highlightes-selection-on-an-array-vanilla-js/48197508#48197508", "title": "Store each highlightes selection on an array Vanilla Js", "body": "<p>If I understand you correctly you want to store the value of any selection made on a page? If so...</p>\n\n<pre><code>&lt;script&gt;\n\n/**\n* Store selection in an array and only store same value once.\n*/\n\nvar selectionArray = [];\n\nfunction storeSelection(e){\n    var selectedText = window.getSelection().toString();\n    if(selectedText.length &amp;&amp; selectionArray.indexOf(selectedText) === -1){\n        selectionArray[selectionArray.length] = selectedText;\n    }\n    console.log(selectionArray);\n}   \ndocument.addEventListener('mouseup', storeSelection);\n\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 163, "user_id": 8198837, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2a7493669e9518fb885de4fc44e272b5?s=128&d=identicon&r=PG&f=1", "display_name": "BeeLee", "link": "https://stackoverflow.com/users/8198837/beelee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 48197508, "answer_count": 1, "score": 0, "last_activity_date": 1515625322, "creation_date": 1515622968, "question_id": 48197073, "link": "https://stackoverflow.com/questions/48197073/store-each-highlightes-selection-on-an-array-vanilla-js", "title": "Store each highlightes selection on an array Vanilla Js", "body": "<p>I have dummy text and I wish to store each highlighted text selection on an array with vanilla javascript.</p>\n\n<p>This my first trial for displaying a single select in another a textarea tag.</p>\n\n<pre><code>&lt;div&gt;Lorem ipsum dolor sit amet consectetur adipisicing elit. Iure sed ea aperiam voluptas error assumenda iusto, sequi unde non, nesciunt autem. Atque eveniet delectus tenetur nostrum quaerat explicabo debitis iste.\nIpsa a nobis voluptatem dolores ducimus reiciendis iste unde, dolorum ut eveniet inventore consequatur illum provident similique quas rem quidem odit officiis eaque illo impedit tenetur quam atque ab! Velit!\nCommodi voluptas saepe cupiditate mollitia. Dolores delectus explicabo laborum exercitationem suscipit ullam quod dignissimos molestiae? Animi, commodi quod vel nesciunt ab possimus nostrum explicabo fugiat tenetur magni dolor illo aliquam?\n&lt;/div&gt;\n\n&lt;textarea\n type='text'\n id='input'&gt;\n&lt;/textarea&gt;\n\n&lt;script&gt;\nvar text = []\nfunction gText (e) {\n text = (document.all) ? document.selection.createRange().text : document.getSelection()\n document.getElementById('input').value = text\n}\ndocument.onmouseup = gText\nif (!document.all) document.captureEvents(Event.mouseup)\n&lt;/script&gt;\n</code></pre>\n\n<p>Now I guess that I need to push each selection on an the array with a\nforeach loop but I really have no idea how to do this without jquery. Any help please?</p>\n"}, {"tags": ["javascript", "json", "performance", "asynchronous", "async-await"], "comments": [{"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1515622810, "post_id": 48197012, "comment_id": 83375101, "body": "Get the timestamp from json response  (convert to number if needed), do a <code>setTimeout(this.getData, timestamp - new Date().getTime())</code> to schedule another fetch once that timestamp has passed?"}, {"owner": {"reputation": 78607, "user_id": 319403, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e92a9af9e53cc8e5af575c4b18b34c21?s=128&d=identicon&r=PG", "display_name": "cHao", "link": "https://stackoverflow.com/users/319403/chao"}, "edited": false, "score": 0, "creation_date": 1515622815, "post_id": 48197012, "comment_id": 83375102, "body": "Google <code>setTimeout</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1556, "user_id": 6126033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/183fcfeb21349bea904dfe711bd2c177?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6126033/peter"}, "is_accepted": true, "score": 2, "last_activity_date": 1515624611, "last_edit_date": 1515624611, "creation_date": 1515624252, "answer_id": 48197305, "question_id": 48197012, "link": "https://stackoverflow.com/questions/48197012/how-to-call-async-await-in-js-such-that-after-a-certain-time-it-fetches-again/48197305#48197305", "title": "How to call async await in JS such that after a certain time it fetches again?", "body": "<p>This code is do what you asked for, I left <code>/* Put Your DOM update code here*/</code> where you can put your dom manipulation code.</p>\n\n\n\n<pre class=\"lang-js prettyprint-override\"><code>function sleep(ms) {\n  return new Promise(resolve =&gt; setTimeout(resolve, ms));\n}\n\n// This looks weird because jQuery does not like async code in document ready.\n$(() =&gt; { (async () =&gt; {\n    let getData = async () =&gt; {\n        console.log('getData');\n        let response = await fetch(\n            \"https://d2nzqyyfd6k6c7.cloudfront.net/nova-player-history/nova969-current.json\"\n        )\n        let json = await response.json()\n        let tDiff = json.finish - Math.round((new Date()).getTime() / 1000);\n        console.log(json)\n        console.log(`Refresh in ${tDiff}s`)\n        /* Put Your DOM update code here*/\n\n        await sleep(tDiff * 1000)\n    }\n\n    // Run It forever\n    for (;;) await getData()\n\n})()});\n</code></pre>\n\n\n"}], "owner": {"reputation": 2767, "user_id": 1887791, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/SqZlf.jpg?s=128&g=1", "display_name": "Hello Universe", "link": "https://stackoverflow.com/users/1887791/hello-universe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 48197305, "answer_count": 1, "score": 1, "last_activity_date": 1515624611, "creation_date": 1515622624, "question_id": 48197012, "link": "https://stackoverflow.com/questions/48197012/how-to-call-async-await-in-js-such-that-after-a-certain-time-it-fetches-again", "title": "How to call async await in JS such that after a certain time it fetches again?", "body": "<p>I have an <strong>async awai</strong>t as below where I am just fetching some JSON data. It is fetching ok. However, if you look in the console, you will notice that in the JSON data, there is a value finish that is basically a Unix timestamp. </p>\n\n<p><strong>When user's current timestamp gets larger than that Unix timestamp, I need to fetch the JSON data again. Then, I need to check the timestamp again and keep on doing this infinitely.</strong>  The json data changes as soon as the current time is above the finish timestamp.</p>\n\n<p>How can I do this?</p>\n\n<p>Here is a sample codepen about this\n<a href=\"https://codepen.io/hellouniverse/pen/XVEBXY?editors=1012\" rel=\"nofollow noreferrer\">https://codepen.io/hellouniverse/pen/XVEBXY?editors=1012</a></p>\n\n<pre><code>class aClass {\n async getData() {\n    try {\n        let response = await fetch(\n            \"https://d2nzqyyfd6k6c7.cloudfront.net/nova-player-history/nova969-current.json\"\n        );\n        let json = await response.json();\n        return json;\n    } catch (e) {\n        console.log(\"Error!\", e);\n    }\n }\n}\n\n$(document).ready(function() {\n    const myClass = new aClass();\n      var promise = myClass.getData()\n            .then(function(data){\n                console.log(data);\n            });   \n});\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "regex"], "comments": [{"owner": {"reputation": 32973, "user_id": 3903374, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f154c343ddbc43f16a09e2098ddf4965?s=128&d=identicon&r=PG&f=1", "display_name": "Rick Hitchcock", "link": "https://stackoverflow.com/users/3903374/rick-hitchcock"}, "edited": false, "score": 0, "creation_date": 1515622767, "post_id": 48196990, "comment_id": 83375087, "body": "You&#39;ll need to escape the plus sign, assuming you&#39;re matching a literal plus sign:  <code>&quot;(\\\\+|-)? *[0-9]* *&quot;</code>.  Don&#39;t know if that will solve your problem, though."}, {"owner": {"reputation": 56, "user_id": 4032170, "user_type": "registered", "profile_image": "https://graph.facebook.com/1520650122/picture?type=large", "display_name": "karimhk", "link": "https://stackoverflow.com/users/4032170/karimhk"}, "edited": false, "score": 0, "creation_date": 1515622862, "post_id": 48196990, "comment_id": 83375120, "body": "can you post an example of a &quot;correct&quot; regex that would be generated so we know what your code is supposed to output? and have you validated that that is a valid regex?"}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1515622970, "post_id": 48196990, "comment_id": 83375164, "body": "BTW, use <code>.join()</code>."}, {"owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "edited": false, "score": 1, "creation_date": 1515623157, "post_id": 48196990, "comment_id": 83375245, "body": "Just use <code>[+-]? *\\d* *</code>. The <code>+</code> is a special character (quantifier)"}, {"owner": {"reputation": 155, "user_id": 7520592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gC2tg.jpg?s=128&g=1", "display_name": "kovalenko-alex", "link": "https://stackoverflow.com/users/7520592/kovalenko-alex"}, "edited": false, "score": 0, "creation_date": 1515623559, "post_id": 48196990, "comment_id": 83375393, "body": "When in doubt, test your RegExps: <a href=\"http://regex101.com/\" rel=\"nofollow noreferrer\">regex101.com</a>"}, {"owner": {"reputation": 1, "user_id": 7249928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7208e81eff1d7279173030f01c94f3a4?s=128&d=identicon&r=PG&f=1", "display_name": "Ragan", "link": "https://stackoverflow.com/users/7249928/ragan"}, "edited": false, "score": 0, "creation_date": 1515624883, "post_id": 48196990, "comment_id": 83375894, "body": "the problem was with the plus sign. thanks guys, escaping it with \\\\ fixed everything"}], "owner": {"reputation": 1, "user_id": 7249928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7208e81eff1d7279173030f01c94f3a4?s=128&d=identicon&r=PG&f=1", "display_name": "Ragan", "link": "https://stackoverflow.com/users/7249928/ragan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 682, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515624769, "creation_date": 1515622533, "last_edit_date": 1515624769, "question_id": 48196990, "link": "https://stackoverflow.com/questions/48196990/node-js-syntaxerror-invalid-regular-expression-nothing-to-repeat", "title": "Node.js SyntaxError: Invalid regular expression: Nothing to repeat", "body": "<p>I know this is a duplicate question, sorry guys, but i've already read and tried out the solutions to similar questions here, but it doesn't seem to work (probably because i didn't really understand the problem).</p>\n\n<p>I am making a discord dice-roll bot using Node.js for me and my friends to use when we play D&amp;D. When searching for (dis)advantage in rolls, im making a RegExp, but when using <code>new RegExp(regExpString);</code>, Node gives me <code>SyntaxError: Invalid regular expression: Nothing to repeat</code>.</p>\n\n<p>There doesn't seem to be a problem when i use a regular expression directly instead of creating one from a string, but that isn't that helpfull to me, because i build my regular expression using an array easily customizable valis words for advantage/disadvantage.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>const advantageWords = [\n    \"example\",\n    \"list\",\n    \"of\",\n    \"valid\",\n    \"words\"\n];\n\nlet advRegExp = \"(+|-)? *[0-9]* *\";\n\nfor (i in advantageWords) {\n    if (i != 0)\n        advRegExp += \"|\";\n    advRegExp += advantageWords[i];\n}\n\nadvRegExp += \" *(+|-)? *[0-9]*\";\n\nlet reg = new RegExp(advRegExp, \"i\");\n</code></pre>\n\n<p>I've seen things about double escaping backlashes, and even though i didn't quite get why, i tried doing it in a few different ways and it didn't help.</p>\n\n<p>PS: im using Node.js 8.9.2</p>\n\n<p>edit: the problem was with scaping the plus sign. \"+\" -> \"\\+\"</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 5813, "user_id": 390508, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a3278c9fc3fe983c632edd3d8e95070d?s=128&d=identicon&r=PG", "display_name": "ReactiveRaven", "link": "https://stackoverflow.com/users/390508/reactiveraven"}, "edited": false, "score": 1, "creation_date": 1515622723, "post_id": 48196959, "comment_id": 83375069, "body": "Returned values don&#39;t hang around. Once you call a function, it returns a value, without holding on to it. You can&#39;t call <code>fullName</code> without giving the two names, so <code>fullName()</code> doesn&#39;t make sense. You&#39;d have to call <code>fullNameAndAge</code> like this in stead: <code>fullNameAndAge(&quot;Jason&quot;, &quot;Doe&quot;, 33)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 8643, "user_id": 2411859, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/efggF.jpg?s=128&g=1", "display_name": "Joe Hawkins", "link": "https://stackoverflow.com/users/2411859/joe-hawkins"}, "edited": false, "score": 0, "creation_date": 1515622923, "post_id": 48197025, "comment_id": 83375147, "body": "Your explanation was great! I added some code for clarity."}, {"owner": {"reputation": 33, "user_id": 5579672, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/19j1I.png?s=128&g=1", "display_name": "agzamovich", "link": "https://stackoverflow.com/users/5579672/agzamovich"}, "edited": false, "score": 0, "creation_date": 1515623204, "post_id": 48197025, "comment_id": 83375259, "body": "Maybe I should have asked the question differently, seems like people didnt really understood what I wanted"}, {"owner": {"reputation": 8643, "user_id": 2411859, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/efggF.jpg?s=128&g=1", "display_name": "Joe Hawkins", "link": "https://stackoverflow.com/users/2411859/joe-hawkins"}, "reply_to_user": {"reputation": 33, "user_id": 5579672, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/19j1I.png?s=128&g=1", "display_name": "agzamovich", "link": "https://stackoverflow.com/users/5579672/agzamovich"}, "edited": false, "score": 0, "creation_date": 1515623360, "post_id": 48197025, "comment_id": 83375317, "body": "@agzamovich You stated your problem clearly and the problems were obvious. No worries"}, {"owner": {"reputation": 1494, "user_id": 1771700, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/8d0a590a1567337e7c1b270013e4817b?s=128&d=identicon&r=PG", "display_name": "jas7457", "link": "https://stackoverflow.com/users/1771700/jas7457"}, "reply_to_user": {"reputation": 33, "user_id": 5579672, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/19j1I.png?s=128&g=1", "display_name": "agzamovich", "link": "https://stackoverflow.com/users/5579672/agzamovich"}, "edited": false, "score": 0, "creation_date": 1515623615, "post_id": 48197025, "comment_id": 83375415, "body": "@agzamovich is there something with Joe&#39;s code that you don&#39;t want it to do? I&#39;m not sure what data type you are looking to get returned and what you expect to be sent. You could return an array from fullName and destructure it in your fullNameAndAge function"}, {"owner": {"reputation": 8643, "user_id": 2411859, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/efggF.jpg?s=128&g=1", "display_name": "Joe Hawkins", "link": "https://stackoverflow.com/users/2411859/joe-hawkins"}, "reply_to_user": {"reputation": 33, "user_id": 5579672, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/19j1I.png?s=128&g=1", "display_name": "agzamovich", "link": "https://stackoverflow.com/users/5579672/agzamovich"}, "edited": false, "score": 0, "creation_date": 1515623790, "post_id": 48197025, "comment_id": 83375477, "body": "@jas7457 Take a look at @PM 77-1 answer. You&#39;ll notice that he didn&#39;t change the function signatures. It seems as though @agzamovich liked the function signatures, but wasn&#39;t sure about how to make <code>fullNameAndAge()</code> call <code>fullName()</code>"}, {"owner": {"reputation": 33, "user_id": 5579672, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/19j1I.png?s=128&g=1", "display_name": "agzamovich", "link": "https://stackoverflow.com/users/5579672/agzamovich"}, "edited": false, "score": 0, "creation_date": 1515623986, "post_id": 48197025, "comment_id": 83375561, "body": "Honestly, I am kind of new to the javascript and I will accept the easier way to do it. Joe&#39;s code was simple and straightforward."}], "tags": [], "owner": {"reputation": 1494, "user_id": 1771700, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/8d0a590a1567337e7c1b270013e4817b?s=128&d=identicon&r=PG", "display_name": "jas7457", "link": "https://stackoverflow.com/users/1771700/jas7457"}, "is_accepted": true, "score": 2, "last_activity_date": 1515624323, "last_edit_date": 1592644375, "creation_date": 1515622679, "answer_id": 48197025, "question_id": 48196959, "link": "https://stackoverflow.com/questions/48196959/i-cant-figure-out-how-to-call-previously-created-function-inside-another-functi/48197025#48197025", "title": "I can&#39;t figure out How to call previously created function inside another function?", "body": "<p>You have a few things wrong with this.</p>\n<ol>\n<li>You aren't <code>return</code>ing anything from your functions.</li>\n<li><code>fullNameAndAge</code> expects 3 arguments passed to it. Even if <code>fullName</code> returned something, it would only be passing 2 arguments to <code>fullNameAndAge</code></li>\n<li>You aren't passing anything to <code>fullName</code> inside of your <code>fullNameAndAge</code> call.</li>\n</ol>\n<h3>Edit</h3>\n<p>Your code should look like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function fullName(firstName, lastName) {\n        return firstName + \" \" + lastName;\n    }\n    \n    fullName(\"Jason\", \"Doe\");\n    \n    \n    function fullNameAndAge(fullName, age) {\n        console.log(fullName + \" \" + age);\n    }\n    \n    fullNameAndAge(fullName(\"Jason\", \"Doe\"), 33);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 10043, "user_id": 566920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fcb6510f4d282e5469403c04f6ff777?s=128&d=identicon&r=PG", "display_name": "Peter Collingridge", "link": "https://stackoverflow.com/users/566920/peter-collingridge"}, "is_accepted": false, "score": 0, "last_activity_date": 1515622823, "creation_date": 1515622823, "answer_id": 48197048, "question_id": 48196959, "link": "https://stackoverflow.com/questions/48196959/i-cant-figure-out-how-to-call-previously-created-function-inside-another-functi/48197048#48197048", "title": "I can&#39;t figure out How to call previously created function inside another function?", "body": "<p>If you want to call the first function inside the second function then you can put it inside that function:</p>\n\n<pre><code>function fullNameAndAge(firstName, lastName, age) {\n    fullName(firstName, lastName);\n    console.log(firstName +\" \"+ lastName +\" \"+ age);  \n}\nfullNameAndAge(\"Jason\", \"Doe\", 33);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11660, "user_id": 2055998, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Vx3A.jpg?s=128&g=1", "display_name": "PM 77-1", "link": "https://stackoverflow.com/users/2055998/pm-77-1"}, "is_accepted": false, "score": 1, "last_activity_date": 1515622833, "creation_date": 1515622833, "answer_id": 48197052, "question_id": 48196959, "link": "https://stackoverflow.com/questions/48196959/i-cant-figure-out-how-to-call-previously-created-function-inside-another-functi/48197052#48197052", "title": "I can&#39;t figure out How to call previously created function inside another function?", "body": "<p>If you want to call one function from another then just simply do it.</p>\n\n<p>Something like thisL</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function fullName(firstName, lastName){\r\n  console.log(firstName +\" \"+ lastName);\r\n}\r\n\r\nfunction fullNameAndAge(firstName, lastName, age){\r\n    fullName(firstName, lastName);\r\n    console.log(age);  \r\n}\r\nfullNameAndAge('John', `Doe`, 33);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 55, "user_id": 9165979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d74532ed95dacf84ff3eab243716dc7?s=128&d=identicon&r=PG&f=1", "display_name": "Karen12345", "link": "https://stackoverflow.com/users/9165979/karen12345"}, "is_accepted": false, "score": 0, "last_activity_date": 1515622898, "creation_date": 1515622898, "answer_id": 48197062, "question_id": 48196959, "link": "https://stackoverflow.com/questions/48196959/i-cant-figure-out-how-to-call-previously-created-function-inside-another-functi/48197062#48197062", "title": "I can&#39;t figure out How to call previously created function inside another function?", "body": "<p>Is this what you were after?</p>\n\n<pre><code>function fullName(firstName, lastName){\n  return (firstName +\" \"+ lastName);\n}\n\nfunction fullNameAndAge(firstName, lastName, age){\n\n   return fullName(firstname, lastname)+\" \"+ age);  \n}\nfullNameAndAge(\"Jason\", \"Doe\", 33);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 5579672, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/19j1I.png?s=128&g=1", "display_name": "agzamovich", "link": "https://stackoverflow.com/users/5579672/agzamovich"}, "edited": false, "score": 0, "creation_date": 1515623511, "post_id": 48197109, "comment_id": 83375374, "body": "I am kind of new to the javascript and wanted to make it look as simple as possible. I know there are several ways to do it though"}, {"owner": {"reputation": 570, "user_id": 6351303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QqtBT.jpg?s=128&g=1", "display_name": "Jackson Lenhart", "link": "https://stackoverflow.com/users/6351303/jackson-lenhart"}, "reply_to_user": {"reputation": 33, "user_id": 5579672, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/19j1I.png?s=128&g=1", "display_name": "agzamovich", "link": "https://stackoverflow.com/users/5579672/agzamovich"}, "edited": false, "score": 0, "creation_date": 1515623758, "post_id": 48197109, "comment_id": 83375467, "body": "Yep that&#39;s perfectly fine. Honestly returning a string makes more sense in the context of your question anyway. I would however highly recommend learning about object literals if you are new to them, they are very fundamental to javascript: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Object_initializer\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}], "tags": [], "owner": {"reputation": 570, "user_id": 6351303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QqtBT.jpg?s=128&g=1", "display_name": "Jackson Lenhart", "link": "https://stackoverflow.com/users/6351303/jackson-lenhart"}, "is_accepted": false, "score": 0, "last_activity_date": 1515623133, "creation_date": 1515623133, "answer_id": 48197109, "question_id": 48196959, "link": "https://stackoverflow.com/questions/48196959/i-cant-figure-out-how-to-call-previously-created-function-inside-another-functi/48197109#48197109", "title": "I can&#39;t figure out How to call previously created function inside another function?", "body": "<p>There are a few problems here. I will try to articulate as best I can what you are doing wrong and possible methods to fix.</p>\n\n<p>First, You are calling fullName without its arguments here:</p>\n\n<pre><code>fullNameAndAge(fullName(), 33);\n</code></pre>\n\n<p>Once you define a function as taking a certain amount of arguments, you (generally speaking) always want to call it with those arguments.</p>\n\n<p>Second, the function fullName does not return anything, it only calls console.log. In order for you to use the return value of fullName in fullNameAndAge, you must return the values from fullName. One suggestion would be</p>\n\n<pre><code>function fullName(firstName, lastName){\n  return { firstName, lastName };\n}\n</code></pre>\n\n<p>Here we are returning an object literal with the keys firstName and lastName mapping onto the values contained therein. We can now access this from fullNameAndAge:</p>\n\n<pre><code>function fullNameAndAge(fullNameObj, age){\n  console.log(fullNameObj.firstName +\" \"+ fullNameObj.lastName +\" \"+ age);  \n}\n</code></pre>\n\n<p>So we can now call it like this:</p>\n\n<pre><code>fullNameAndAge(fullName(\"Jason\", \"Doe\"), 33);\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function fullName(firstName, lastName){\r\n  return { firstName, lastName };\r\n}\r\n\r\nfunction fullNameAndAge(fullNameObj, age){\r\n  console.log(fullNameObj.firstName +\" \"+ fullNameObj.lastName +\" \"+ age);  \r\n}\r\n\r\nfullNameAndAge(fullName(\"Jason\", \"Doe\"), 33);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 33, "user_id": 5579672, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/19j1I.png?s=128&g=1", "display_name": "agzamovich", "link": "https://stackoverflow.com/users/5579672/agzamovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 48197025, "answer_count": 5, "score": 0, "last_activity_date": 1515624323, "creation_date": 1515622357, "question_id": 48196959, "link": "https://stackoverflow.com/questions/48196959/i-cant-figure-out-how-to-call-previously-created-function-inside-another-functi", "title": "I can&#39;t figure out How to call previously created function inside another function?", "body": "<p>Here is my example:\n//This is my first function created and works just fine</p>\n\n<pre><code>function fullName(firstName, lastName){\n  console.log(firstName +\" \"+ lastName);\n}\nfullName(\"Jason\", \"Doe\");\n</code></pre>\n\n<p>//Below is my second function created after the first function and now I want to call \"Jason, Doe 33\" inside a fullNameAndAge function getting the Jason Doe form above function.</p>\n\n<pre><code>function fullNameAndAge(firstName, lastName, age){\n\n    console.log(firstName +\" \"+ lastName +\" \"+ age);  \n}\nfullNameAndAge(fullName(), 33);\n</code></pre>\n"}, {"tags": ["javascript", "html", "button"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1515622616, "post_id": 48196953, "comment_id": 83375013, "body": "In <code>createstatusbutton</code> you&#39;re assigning to <code>delbtn</code> properties instead of <code>statusbtn</code> properties."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1515622716, "post_id": 48196953, "comment_id": 83375066, "body": "This should be making a tiny, empty status button, and the delete button should be normal. I don&#39;t understand why you&#39;re getting the opposite."}, {"owner": {"reputation": 1628, "user_id": 7461941, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/f0d483bb3b340537a57ce53ce4463721?s=128&d=identicon&r=PG&f=1", "display_name": "Luv33preet", "link": "https://stackoverflow.com/users/7461941/luv33preet"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1515622769, "post_id": 48196953, "comment_id": 83375088, "body": "yeah me too, I dont understand. Anyway, any other way to create 2 buttons like this?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1515622937, "post_id": 48196953, "comment_id": 83375154, "body": "Your way is fine. Just fix the typo."}, {"owner": {"reputation": 460, "user_id": 1837562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af98eb74ea2dc33479523eade911e225?s=128&d=identicon&r=PG", "display_name": "Bruno Sousa", "link": "https://stackoverflow.com/users/1837562/bruno-sousa"}, "edited": false, "score": 0, "creation_date": 1515623923, "post_id": 48196953, "comment_id": 83375534, "body": "looks like createdeletebutton and createstatusbutton are outside the view object."}], "owner": {"reputation": 1628, "user_id": 7461941, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/f0d483bb3b340537a57ce53ce4463721?s=128&d=identicon&r=PG&f=1", "display_name": "Luv33preet", "link": "https://stackoverflow.com/users/7461941/luv33preet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515622701, "creation_date": 1515622343, "last_edit_date": 1515622701, "question_id": 48196953, "link": "https://stackoverflow.com/questions/48196953/creating-multiple-children-using-appendchild", "title": "creating multiple children using appendChild", "body": "<p>I am creating a simple todo app.</p>\n\n<p>When I add a todo and list them, I want to show <code>delete</code> and <code>change status</code> button with every todo,</p>\n\n<p>But only one button appears,</p>\n\n<p><a href=\"https://i.stack.imgur.com/YrC6E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YrC6E.png\" alt=\"enter image description here\"></a></p>\n\n<p>See, first button(delete button) is very tiny and doesn't even function. But it works perfectly when I add only 1 button.</p>\n\n<p>Here is the js for adding the list item and button,</p>\n\n<pre><code>var view = {\n  displaytodos: function(){\n  var todoul = document.querySelector('ul');\n  todoul.innerHTML = '';\n  for (var i=0;i &lt; todolist.todos.length;i++){\n    var newli = document.createElement('li');\n    newli.setAttribute('class','text-success');\n    var todotextwithstatus = '';\n    if (todolist.todos[i].completed === true){\n      todotextwithstatus = '(X) - ' + todolist.todos[i].todotext + ' --&gt; ';\n    }\n    else{\n      todotextwithstatus = '( ) - ' + todolist.todos[i].todotext + ' --&gt; ';\n    }\n\n    newli.id = i;\n    newli.textContent = todotextwithstatus;\n    delbtn = this.createdeletebutton();\n    statusbtn = this.createstatusbutton();\n    newli.appendChild(statusbtn);\n    newli.appendChild(delbtn);\n    todoul.appendChild(newli);\n  }\n},\ncreatedeletebutton: function(){\n  var delbtn = document.createElement('button');\n  delbtn.textContent = 'Delete';\n  delbtn.className = 'DeleteElement';\n  return delbtn;\n},\ncreatestatusbutton: function(){\n  var statusbtn = document.createElement('button');\n  delbtn.textContent = 'Change Status';\n  delbtn.className = 'changestatusbutton';\n  return statusbtn;\n},\n</code></pre>\n\n<p>This is the html, </p>\n\n<pre><code>&lt;div class='col-xs-4'&gt;\n  &lt;h3&gt;Your todos will appear here.&lt;/h3&gt;\n  &lt;ul&gt;\n    &lt;li&gt;You have not added any todos yet.&lt;/li&gt;\n  &lt;/ul&gt;\n  &lt;button onclick='handlers.toggle_all()'&gt;Change status of all Todos&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>What is the solution for this? Why is this happening?</p>\n"}, {"tags": ["javascript", "css", "infragistics"], "answers": [{"tags": [], "owner": {"reputation": 191, "user_id": 1071010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL3x5.jpg?s=128&g=1", "display_name": "Alex Marinov", "link": "https://stackoverflow.com/users/1071010/alex-marinov"}, "is_accepted": false, "score": 0, "last_activity_date": 1516006358, "creation_date": 1516006358, "answer_id": 48259566, "question_id": 48196924, "link": "https://stackoverflow.com/questions/48196924/infragistics-webdialogwindow-fadeout-on-close/48259566#48259566", "title": "Infragistics WebDialogWindow FadeOut on Close", "body": "<p>Do you think jQuery \"fadeOut\" method would do the work for you?\nIt would look like something like this:</p>\n\n<pre><code> &lt;script type=\"text/javascript\"&gt;\n    function complete() {\n        oDialog1 = $find('&lt;%= dialogMessage.ClientID %&gt;');\n        oDialog1.set_windowState($IG.DialogWindowState.Hidden);\n        return false;\n    }\n\n    function hideWindow() {\n        $(\"#dialogMessage\").fadeOut(2000, complete);\n        return false;\n\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>You can set the animation's duration in the first argument (in the example - 2 seconds). \n<a href=\"http://api.jquery.com/fadeout/\" rel=\"nofollow noreferrer\">.fadeOut()</a></p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 9200971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a5b7c031dc424c104c62864bd5cd0fc?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Konkle", "link": "https://stackoverflow.com/users/9200971/kevin-konkle"}, "is_accepted": false, "score": 0, "last_activity_date": 1517434821, "creation_date": 1517434821, "answer_id": 48551898, "question_id": 48196924, "link": "https://stackoverflow.com/questions/48196924/infragistics-webdialogwindow-fadeout-on-close/48551898#48551898", "title": "Infragistics WebDialogWindow FadeOut on Close", "body": "<p>I just ended up making 2 fadeInOut CSS classes, one for 3 seconds, and one for 5.  Then I apply that class to the dialog window, and call a function called timedHide() with the same number of seconds. That function will wait that many seconds and then call the original hideWindow() function at around the same time the fadeInOut script is finishing up.</p>\n\n<p>CSS</p>\n\n<pre><code>@keyframes fadeinout {\n  0% {opacity: 0;}\n  10%{opacity: .2;}\n  20%{opacity: .4;}\n  30%{opacity: .6;}\n  40%{opacity: .8;}\n  50%{opacity: 1;}\n  60%{opacity: .8;}\n  70%{opacity: .6;}\n  80%{opacity: .4;}\n  90%{opacity: .2;} \n  100% {opacity: 0;}        \n}\n</code></pre>\n\n<p>Javascript</p>\n\n<pre><code>function timedHide(numSeconds) {\n    var timeout = 1000 * numSeconds;\n\n    setTimeout(\"hideWindow()\", timeout);\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 9200971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a5b7c031dc424c104c62864bd5cd0fc?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Konkle", "link": "https://stackoverflow.com/users/9200971/kevin-konkle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1517434821, "creation_date": 1515622195, "question_id": 48196924, "link": "https://stackoverflow.com/questions/48196924/infragistics-webdialogwindow-fadeout-on-close", "title": "Infragistics WebDialogWindow FadeOut on Close", "body": "<p>I am creating a dialog window for a program.  It will be a simple popup that can display whatever message we pass, as well as an image for success or error.</p>\n\n<p>I can make the WebDialogWindow fade in by simply adding the CSS class \"FadeIn3\" to the window itself. (Code is below)  The window fades into view and works great.  I have a button inside the window that will call a Javascript function to close the window.  When that's clicked, instead of the window instantly disappearing I'd like to have the window fade away over the course of 1 or 2 seconds.  Does anyone know how I can achieve this?</p>\n\n<p><strong>WebDialogWindow</strong></p>\n\n<pre><code>&lt;ig:WebDialogWindow ID=\"dialogMessage\" runat=\"server\" WindowState=\"Hidden\" \nWidth=\"300px\" Height=\"150px\" Modal=\"true\" InitialLocation=\"Centered\" \nCssClass=\"fadeIn3\" StyleSetName=\"Default\"&gt;\n\n    ...\n\n    &lt;asp:Button ID=\"btnCloseWindow\" runat=\"server\" Text=\"Close\" OnClientClick=\"return hideWindow();\" /&gt;\n&lt;/ig:WebDialogWindow&gt;\n</code></pre>\n\n<p><strong>CSS</strong></p>\n\n<pre><code>.fadeIn3 {\n-webkit-animation: fadein 3s; /* Safari, Chrome and Opera &gt; 12.1 */\n   -moz-animation: fadein 3s; /* Firefox &lt; 16 */\n     -o-animation: fadein 3s; /* Opera &lt; 12.1 */\n        animation: fadein 3s;\n}\n\n@keyframes fadein {\n  from { opacity: 0; }\n  to   { opacity: 1; }\n}\n/* Firefox &lt; 16 */\n@-moz-keyframes fadein {\n  from { opacity: 0; }\n  to   { opacity: 1; }\n}\n/* Safari, Chrome and Opera &gt; 12.1 */\n@-webkit-keyframes fadein {\n  from { opacity: 0; }\n  to   { opacity: 1; }\n}\n/* Opera &lt; 12.1 */\n@-o-keyframes fadein {\n  from { opacity: 0; }\n  to   { opacity: 1; }\n}\n</code></pre>\n\n<p><strong>Javascript</strong></p>\n\n<pre><code>function hideWindow() {\n    oDialog1 = $find('&lt;%= dialogMessage.ClientID %&gt;');\n\n    //I think I need something here to add a \"fadeOut\" CSS class to the window\n    // that would cause it to fade out.  If I add it directly to the\n    // CSSClass property then the window fades in, fades out, then appears\n    // until the close button is clicked, at which point it instantly disappears.\n\n    oDialog1.set_windowState($IG.DialogWindowState.Hidden);\n\n    return false;\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 38258, "user_id": 560593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99c93a3c235763708dd7263e197acdc6?s=128&d=identicon&r=PG", "display_name": "Patrick Evans", "link": "https://stackoverflow.com/users/560593/patrick-evans"}, "edited": false, "score": 4, "creation_date": 1515622241, "post_id": 48196911, "comment_id": 83374873, "body": "Chrome and possibly other browsers will block popups if more than one are attempted to be opened right after each other, check that it isnt doing that (should be an icon at the end of the address bar indicating it)"}, {"owner": {"reputation": 177, "user_id": 8316914, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/umBCB.png?s=128&g=1", "display_name": "Hiurako", "link": "https://stackoverflow.com/users/8316914/hiurako"}, "reply_to_user": {"reputation": 38258, "user_id": 560593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99c93a3c235763708dd7263e197acdc6?s=128&d=identicon&r=PG", "display_name": "Patrick Evans", "link": "https://stackoverflow.com/users/560593/patrick-evans"}, "edited": false, "score": 0, "creation_date": 1515622439, "post_id": 48196911, "comment_id": 83374946, "body": "Ok, it worked! :) Thanks"}, {"owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "reply_to_user": {"reputation": 38258, "user_id": 560593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99c93a3c235763708dd7263e197acdc6?s=128&d=identicon&r=PG", "display_name": "Patrick Evans", "link": "https://stackoverflow.com/users/560593/patrick-evans"}, "edited": false, "score": 0, "creation_date": 1515623081, "post_id": 48196911, "comment_id": 83375211, "body": "@PatrickEvans Out of curiosity, is there documentation on this? I&#39;m wondering what defines &quot;right after each other&quot;?"}], "answers": [{"comments": [{"owner": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "edited": false, "score": 1, "creation_date": 1515623717, "post_id": 48197186, "comment_id": 83375446, "body": ":D why the <code>!1</code>?? isn&#39;t <code>0</code> simpler? BTW it&#39;s <code>false</code> by default; and <code>window.addEventListener(&#39;load&#39;, main)</code> is even shorter."}, {"owner": {"reputation": 29848, "user_id": 5958455, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lBWIE.png?s=128&g=1", "display_name": "iBug", "link": "https://stackoverflow.com/users/5958455/ibug"}, "edited": false, "score": 2, "creation_date": 1515658847, "post_id": 48197186, "comment_id": 83385896, "body": "Thank you for this code snippet, which might provide some limited, immediate help. A <a href=\"//meta.stackexchange.com/q/114762/350567\">proper explanation would greatly improve its long-term value</a> by showing <i>why</i> this is a good solution to the problem, and would make it more useful to future readers with other, similar questions. Please <a href=\"https://stackoverflow.com/posts/48197186/edit\">edit</a> your answer to add some explanation, including the assumptions you&#39;ve made."}], "tags": [], "owner": {"reputation": 16, "user_id": 7580041, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UHwD5t5drjk/AAAAAAAAAAI/AAAAAAAAABw/qrXIj46XGcU/photo.jpg?sz=128", "display_name": "Say", "link": "https://stackoverflow.com/users/7580041/say"}, "is_accepted": false, "score": 0, "last_activity_date": 1515623568, "creation_date": 1515623568, "answer_id": 48197186, "question_id": 48196911, "link": "https://stackoverflow.com/questions/48196911/how-to-open-array-of-links-correctly/48197186#48197186", "title": "How to open array of links correctly?", "body": "<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;script type='text/javascript'&gt;\n            var urls = [\"https://www.google.com\", \"https://www.facebook.com\"];\n            function main() {\n                for (var i = 0; i &lt; urls.length; i++) {\n                    var el = document.querySelector('#hidden') ;\n                    //window.open(urls[i], '_blank');\n                    var a = document.createElement('a');\n                    a.href = urls[i];\n                    a.target = '_blank';\n                    el.appendChild(a);\n                    a.click();\n                }\n            }\n            window.addEventListener('load', function () { main();}, !1);\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id='hidden'&gt;&lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 8316914, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/umBCB.png?s=128&g=1", "display_name": "Hiurako", "link": "https://stackoverflow.com/users/8316914/hiurako"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 180, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515623568, "creation_date": 1515622097, "question_id": 48196911, "link": "https://stackoverflow.com/questions/48196911/how-to-open-array-of-links-correctly", "title": "How to open array of links correctly?", "body": "<p>I have a question, how do I open all link from an array at the same time, not only one like it does now, I've tried something like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var urls = [\"https://www.google.com\", \"https://www.facebook.com\"];\r\nlet main = function() {\r\n\tfor (var i = 0; i &lt; urls.length; i++) {\r\n\t\twindow.open(urls[i], '_blank');\r\n\t}\r\n};\r\nmain();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Can anybody show some examples? Thanks! :p</p>\n"}, {"tags": ["javascript", "dynamics-crm", "dynamics-365", "dynamics-crm-365", "crm-sitemap"], "comments": [{"owner": {"reputation": 51, "user_id": 8261759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6bdeceb51da741f0d499407e2873cfe?s=128&d=identicon&r=PG&f=1", "display_name": "Hadley Pettigrew", "link": "https://stackoverflow.com/users/8261759/hadley-pettigrew"}, "edited": false, "score": 1, "creation_date": 1515632606, "post_id": 48196876, "comment_id": 83378078, "body": "Have you tried referencing a web resource that has Javascript to dynamically set the URL based off a setting held within CRM?"}, {"owner": {"reputation": 20105, "user_id": 7920473, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/10155688613669453/picture?type=large", "display_name": "Arun Vinoth", "link": "https://stackoverflow.com/users/7920473/arun-vinoth"}, "reply_to_user": {"reputation": 51, "user_id": 8261759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6bdeceb51da741f0d499407e2873cfe?s=128&d=identicon&r=PG&f=1", "display_name": "Hadley Pettigrew", "link": "https://stackoverflow.com/users/8261759/hadley-pettigrew"}, "edited": false, "score": 0, "creation_date": 1515706177, "post_id": 48196876, "comment_id": 83414054, "body": "@HadleyPettigrew thank you, this is what I ended up. also Sitemap should evolve like Ribbon/command bar for more control with custom code, etc"}], "answers": [{"comments": [{"owner": {"reputation": 20105, "user_id": 7920473, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/10155688613669453/picture?type=large", "display_name": "Arun Vinoth", "link": "https://stackoverflow.com/users/7920473/arun-vinoth"}, "edited": false, "score": 0, "creation_date": 1600008208, "post_id": 48216068, "comment_id": 112946283, "body": "We can store the required destination url as a key value pair in a custom configuration entity and each environment can have its unique value. This has to be maintained in each environment and can be queried in above web resource instead of hard coding."}], "tags": [], "owner": {"reputation": 20105, "user_id": 7920473, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/10155688613669453/picture?type=large", "display_name": "Arun Vinoth", "link": "https://stackoverflow.com/users/7920473/arun-vinoth"}, "is_accepted": true, "score": 2, "last_activity_date": 1515706060, "creation_date": 1515706060, "answer_id": 48216068, "question_id": 48196876, "link": "https://stackoverflow.com/questions/48196876/tweak-crm-sitemap-to-have-different-url-navigations-for-different-environments/48216068#48216068", "title": "Tweak CRM Sitemap to have different URL navigations for different environments", "body": "<p>I ended up doing this workaround as we cannot pass dynamic variable url to Sitemap.</p>\n\n<p>1.Created a Sub-Area with url to custom HTML web resource as below:</p>\n\n<pre><code>$webresource:pub/Scripts/External/navigation.html\n</code></pre>\n\n<p>2.Just used the below content to open a new window based on org url:</p>\n\n<pre><code>&lt;html&gt;&lt;head&gt;\n&lt;script src=\"../../../ClientGlobalContext.js.aspx\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script language=\"javascript\"&gt;\nvar crmUrl = parent.Xrm.Page.context.getClientUrl();\n\nif (crmUrl.indexOf('devinstance.crm.dynamics.com') &gt; 0)\n            parent.window.open('http://mydevhub.com/home.aspx');\n\nif (crmUrl.indexOf('uatinstance.crm.dynamics.com') &gt; 0)\n            parent.window.open('http://myuathub.com/home.aspx');\n\n&lt;/script&gt;\n&lt;/head&gt;&lt;body&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 20105, "user_id": 7920473, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/10155688613669453/picture?type=large", "display_name": "Arun Vinoth", "link": "https://stackoverflow.com/users/7920473/arun-vinoth"}, "edited": false, "score": 0, "creation_date": 1599824144, "post_id": 63845780, "comment_id": 112901275, "body": "I think you misunderstood the question"}, {"owner": {"reputation": 11, "user_id": 9187213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4be27f4d2f671a9a5dff879afeafbe8?s=128&d=identicon&r=PG&f=1", "display_name": "A_R_", "link": "https://stackoverflow.com/users/9187213/a-r"}, "reply_to_user": {"reputation": 20105, "user_id": 7920473, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/10155688613669453/picture?type=large", "display_name": "Arun Vinoth", "link": "https://stackoverflow.com/users/7920473/arun-vinoth"}, "edited": false, "score": 0, "creation_date": 1601552516, "post_id": 63845780, "comment_id": 113446626, "body": "@ArunVinoth I was referring to this part in your answer -     parent.Xrm.Page.context.getClientUrl();   Xrm.Page is deprecated and the recommended approach is now using Xrm.Utility"}], "tags": [], "owner": {"reputation": 11, "user_id": 9187213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4be27f4d2f671a9a5dff879afeafbe8?s=128&d=identicon&r=PG&f=1", "display_name": "A_R_", "link": "https://stackoverflow.com/users/9187213/a-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1599822133, "creation_date": 1599822133, "answer_id": 63845780, "question_id": 48196876, "link": "https://stackoverflow.com/questions/48196876/tweak-crm-sitemap-to-have-different-url-navigations-for-different-environments/63845780#63845780", "title": "Tweak CRM Sitemap to have different URL navigations for different environments", "body": "<p>In case anyone else lands here (and since I can't comment yet) the answer provided is deprecated.</p>\n<p>The newer way of achieving this is</p>\n<pre><code>var globalContext = Xrm.Utility.getGlobalContext();\nglobalContext.getClientUrl();\n</code></pre>\n<p>(<a href=\"https://docs.microsoft.com/en-us/powerapps/developer/model-driven-apps/clientapi/reference/GetGlobalContext-ClientGlobalContext.js.aspx\" rel=\"nofollow noreferrer\">Source</a>)</p>\n"}], "owner": {"reputation": 20105, "user_id": 7920473, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/10155688613669453/picture?type=large", "display_name": "Arun Vinoth", "link": "https://stackoverflow.com/users/7920473/arun-vinoth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 338, "favorite_count": 1, "accepted_answer_id": 48216068, "answer_count": 2, "score": 0, "last_activity_date": 1599822133, "creation_date": 1515621959, "last_edit_date": 1550982030, "question_id": 48196876, "link": "https://stackoverflow.com/questions/48196876/tweak-crm-sitemap-to-have-different-url-navigations-for-different-environments", "title": "Tweak CRM Sitemap to have different URL navigations for different environments", "body": "<p>We want to have different Sitemap subarea Url, so that the Sitemap can be independent of environments &amp; worryfree when we refresh the environments from higher region to lower. Even deployments can be error free &amp; can avoid manual step in post deployment activity. </p>\n\n<p>Dev: </p>\n\n<pre><code>&lt;SubArea Id=\"nav_hub\" ResourceId=\"Hub_SubArea_Title\" DescriptionResourceId=\"Hub_SubArea_Description\" \n   ToolTipResourseId=\"Hub_SubArea_ToolTip\" Icon=\"/_imgs/Hub_32.png\" \n     Url=\"http://mydevhub.com/home.aspx\" AvailableOffline=\"false\" /&gt;\n</code></pre>\n\n<p>UAT:</p>\n\n<pre><code>&lt;SubArea Id=\"nav_hub\" ResourceId=\"Hub_SubArea_Title\" DescriptionResourceId=\"Hub_SubArea_Description\" \n    ToolTipResourseId=\"Hub_SubArea_ToolTip\" Icon=\"/_imgs/Hub_32.png\" \n       Url=\"http://myuathub.com/home.aspx\" AvailableOffline=\"false\" /&gt;\n</code></pre>\n\n<p>Any idea to do that?</p>\n"}, {"tags": ["javascript", "jquery", "html", "safari"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1515623877, "post_id": 48196870, "comment_id": 83375511, "body": "I see the same log messages when I drag a GIF in both Safari 11 and Chrome 63. &quot;DragEnter Called&quot;, &quot;onDrop Called&quot;, &quot;Value of a:&quot;. There&#39;s no value shown in either case."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1515623894, "post_id": 48196870, "comment_id": 83375521, "body": "I used the GIF at <a href=\"https://media.giphy.com/media/CwbErAWpTQDxS/giphy.gif\" rel=\"nofollow noreferrer\">media.giphy.com/media/CwbErAWpTQDxS/giphy.gif</a> in my test."}, {"owner": {"reputation": 11, "user_id": 9186097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebc170ca68c7d373ddc2ee03ded21873?s=128&d=identicon&r=PG&f=1", "display_name": "LegendaryPotato", "link": "https://stackoverflow.com/users/9186097/legendarypotato"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1515624086, "post_id": 48196870, "comment_id": 83375593, "body": "Thankyou for having a look, and yeah that is an expected result.  modify the line <code>var a = event.dataTransfer.getData(&quot;text&quot;);</code> to say <code>var a = event.dataTransfer.getData(&quot;text&#47;html&quot;);</code> and you should get a result in chrome."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1515624170, "post_id": 48196870, "comment_id": 83375624, "body": "Why would an image have type <code>text&#47;html</code>?"}, {"owner": {"reputation": 11, "user_id": 9186097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebc170ca68c7d373ddc2ee03ded21873?s=128&d=identicon&r=PG&f=1", "display_name": "LegendaryPotato", "link": "https://stackoverflow.com/users/9186097/legendarypotato"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1515624886, "post_id": 48196870, "comment_id": 83375897, "body": "The DnD Data does. It seems to take the whole element with it. Here is an example output when the datatype is set to text/html  Value of a: <code>&lt;img style=&quot;-webkit-user-select: none;background-position: 0px 0px, 10px 10px;background-size: 20px 20px;background-image:linear-gradient(45deg, #eee 25%, transparent 25%, transparent 75%, #eee 75%, #eee 100%),linear-gradient(45deg, #eee 25%, white 25%, white 75%, #eee 75%, #eee 100%);cursor: zoom-in;&quot; src=&quot;https:&#47;&#47;upload.wikimedia.org&#47;wikipedia&#47;commons&#47;4&#47;47&#47;Rus&zwnj;&#8203;set_potato_cultivar_&zwnj;&#8203;with_sprouts.jpg&quot; width=&quot;958&quot; height=&quot;483&quot;&gt;</code>"}], "owner": {"reputation": 11, "user_id": 9186097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebc170ca68c7d373ddc2ee03ded21873?s=128&d=identicon&r=PG&f=1", "display_name": "LegendaryPotato", "link": "https://stackoverflow.com/users/9186097/legendarypotato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 222, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1515623495, "creation_date": 1515621916, "last_edit_date": 1515623495, "question_id": 48196870, "link": "https://stackoverflow.com/questions/48196870/is-there-a-way-to-get-drag-and-drop-data-in-safari-11-or-is-that-broken", "title": "Is there a way to get drag and drop data in safari 11 or is that broken?", "body": "<p>I created an webpage that lets users drag and drop images from a website into a div. </p>\n\n<p>If I drag an image of a potato from google images into the box of this webpage , the image's url should get logged to the jconsole.</p>\n\n<p>This works perfectly in windows but not on mac.</p>\n\n<p>Using safari 11 on mac, <code>getData</code> never returns anything</p>\n\n<p>Using Chrome on mac, <code>getData</code> only returns with text/html</p>\n\n<p>using Firefox on mac, <code>getData</code> returns both text/plain and text/html</p>\n\n<p>I'm fine with chrome and firefox. </p>\n\n<p>My problem is that getData never returns anything no matter what I have tried so far.</p>\n\n<p>Code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function dragenterhandle(elem, event) {\r\n  event.preventDefault();\r\n  console.log(\"DragEnter Called\\n\");\r\n  return true;\r\n}\r\n\r\nfunction dragoverhandle(elem, event) {\r\n  event.preventDefault();\r\n  //console.log(\"Dragover Called\\n\");\r\n  return true;\r\n}\r\n\r\nfunction ondrophandle(elem, event) {\r\n  event.preventDefault();\r\n  console.log(\"ondrop Called\\n\");\r\n  var a = event.dataTransfer.getData(\"text\");\r\n  console.log(\"Value of a:\\n\" + a);\r\n}\r\n\r\nfunction dragstarthandler(event) {\r\n  console.log(\"dragstart Called\\n\");\r\n  event.dataTransfer.effectAllowed = \"all\";\r\n  return true;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n  &lt;title&gt;Test&lt;/title&gt;\r\n  &lt;style type=\"text/css\"&gt;\r\n    .img-bx {\r\n      border-style: dashed;\r\n      word-wrap: break-word;\r\n      width: 100%;\r\n      min-height: 500px;\r\n    }\r\n  &lt;/style&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;div class='img-bx' ondragenter=\"dragenterhandle(this, event);\" ondragover=\"dragoverhandle(this, event);\" ondrop=\"ondrophandle(this, event);\" ondragstart=\"dragstarthandler(event);\"&gt;\r\n  &lt;/div&gt;\r\n  &lt;script src=\"eng.js\"&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "node.js"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 1, "creation_date": 1515621767, "post_id": 48196826, "comment_id": 83374684, "body": "Node.js does not create implicit globals."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1515621927, "post_id": 48196826, "comment_id": 83374750, "body": "Additionally to what @SLaks said: browsers consoles are unique environments with a lot of tiny nuances: if you want to ensure something works as expected - put your js in a <code>&lt;script&gt;</code> tag and run."}, {"owner": {"reputation": 5797, "user_id": 957186, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/GTIlv.jpg?s=128&g=1", "display_name": "klewis", "link": "https://stackoverflow.com/users/957186/klewis"}, "edited": false, "score": 0, "creation_date": 1515622483, "post_id": 48196826, "comment_id": 83374961, "body": "ahhh - That may be a good thing if I am trying to avoid implicit globals overall in my understanding of JavaScript. Thank you node.js for preventive measures!"}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 2, "creation_date": 1515622858, "post_id": 48196826, "comment_id": 83375117, "body": "You should always use <code>&#39;use strict&#39;;</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1515625848, "post_id": 48196826, "comment_id": 83376244, "body": "In a browser, the global <code>window</code> object is the default context for <code>this</code>."}], "answers": [{"tags": [], "owner": {"reputation": 313, "user_id": 5465023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FXFHi.jpg?s=128&g=1", "display_name": "\u4e9a\u91cc\u58eb\u6731\u5fb7", "link": "https://stackoverflow.com/users/5465023/%e4%ba%9a%e9%87%8c%e5%a3%ab%e6%9c%b1%e5%be%b7"}, "is_accepted": true, "score": 1, "last_activity_date": 1515626667, "creation_date": 1515626667, "answer_id": 48197700, "question_id": 48196826, "link": "https://stackoverflow.com/questions/48196826/variable-scope-on-this-returns-undefined-in-node-js/48197700#48197700", "title": "Variable scope on this returns undefined in node.js", "body": "<p>In browser</p>\n\n<pre><code>function foo() {\n    console.log( this.bar ); //\"this\" point to \"window\" it equals to: console.log(window.bar)\n}\n\nvar bar = \"global\";\nfoo();\n</code></pre>\n\n<p>In Node.js</p>\n\n<pre><code>function foo() {\n    console.log( this.bar );\n}\n\nbar = \"global\"; //implicit declaration variable will be global object's property\nfoo();\n</code></pre>\n"}], "owner": {"reputation": 5797, "user_id": 957186, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/GTIlv.jpg?s=128&g=1", "display_name": "klewis", "link": "https://stackoverflow.com/users/957186/klewis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 48197700, "answer_count": 1, "score": 1, "last_activity_date": 1515626667, "creation_date": 1515621714, "last_edit_date": 1515621769, "question_id": 48196826, "link": "https://stackoverflow.com/questions/48196826/variable-scope-on-this-returns-undefined-in-node-js", "title": "Variable scope on this returns undefined in node.js", "body": "<p>Why is it that within Google Chrome, if I open the console and put in the following logic...</p>\n\n<pre><code>function foo() {\n    console.log( this.bar );\n}\n\nvar bar = \"global\";\nfoo();\n</code></pre>\n\n<p>...I get <code>\"global\"</code> as a result for calling foo();</p>\n\n<p>But if I place the same logic into a file called app.js within Visual Studio Code, and from the terminal run <code>node app.js</code>, I get  <code>undefined</code> ?</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 67, "user_id": 9119788, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/35f6474ef00003e0242cd9647b049de1?s=128&d=identicon&r=PG&f=1", "display_name": "Victor  ", "link": "https://stackoverflow.com/users/9119788/victor"}, "edited": false, "score": 0, "creation_date": 1515622575, "post_id": 48196810, "comment_id": 83375000, "body": "I have followed this article too however, for unknown reason this code is not working"}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1515623183, "post_id": 48196810, "comment_id": 83375252, "body": "if you can be a bit more clear on what the unknown reason is (in your question) i will consider reopening if it makes it not a duplicate."}], "owner": {"reputation": 67, "user_id": 9119788, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/35f6474ef00003e0242cd9647b049de1?s=128&d=identicon&r=PG&f=1", "display_name": "Victor  ", "link": "https://stackoverflow.com/users/9119788/victor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "closed_date": 1515621722, "answer_count": 0, "score": 0, "last_activity_date": 1515621677, "creation_date": 1515621614, "last_edit_date": 1515621677, "question_id": 48196810, "link": "https://stackoverflow.com/questions/48196810/jquery-to-javascript-code-for-document-ready", "closed_reason": "Duplicate", "title": "jQuery to Javascript code for document.ready", "body": "<p>I am working to build a confetti effect with pure JavaScript. right now i am getting nan error when i try to convert the following code with DOMContentlocaded method:</p>\n\n<pre><code>$(document).ready(function(){\n\n    console.log(\"Inside the DOMCONTENT LOADED FUNCTION\")\n      SetGlobals();\n      //InitializeButton();\n      InitializeConfetti();\n\n      window.resize = function (event) {\n          W = window.innerWidth;\n          H = window.innerHeight;\n          canvas.width = W;\n          canvas.height = H;\n      };\n      window.setTimeout(DeactivateConfetti, 4000000);\n  });\n</code></pre>\n\n<p>Here's the fiddle link: <a href=\"https://jsfiddle.net/zo4am34e/\" rel=\"nofollow noreferrer\">Confetti Link</a> </p>\n"}, {"tags": ["javascript", "visual-studio-code", "atom-editor", "eslint", "linter"], "comments": [{"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1515708024, "post_id": 48196791, "comment_id": 83414950, "body": "By &quot;fundamental JavaScript&quot; I assume you are talking about the language and not all the mess that browsers and the DOM make, so you probably were going to use node as a REPL anyway?"}, {"owner": {"reputation": 199, "user_id": 8527096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P9RTu.png?s=128&g=1", "display_name": "Michael Treat", "link": "https://stackoverflow.com/users/8527096/michael-treat"}, "reply_to_user": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1515727970, "post_id": 48196791, "comment_id": 83420127, "body": "Good point, that&#39;s accidentally misleading. For clarity, we are teaching the fundamentals of web development, so basic HTML, CSS, and JavaScript. We use the Chrome dev tools, and use repl.it and codepen as alternative repl environments. We introduce node in 5 instead of week 1 in order to reduce complexity, and so the students can focus on more fundamental stuff."}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 2, "creation_date": 1515729081, "post_id": 48196791, "comment_id": 83420365, "body": "TBH, I think beginners will do fine without a linter for the first 4 weeks. How exactly do you plan to use the linter in your course?"}, {"owner": {"reputation": 199, "user_id": 8527096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P9RTu.png?s=128&g=1", "display_name": "Michael Treat", "link": "https://stackoverflow.com/users/8527096/michael-treat"}, "reply_to_user": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1515879392, "post_id": 48196791, "comment_id": 83471580, "body": "We use the linter to enforce a strict style, and helps prevent them from forming bad habits while they are learning."}], "answers": [{"comments": [{"owner": {"reputation": 199, "user_id": 8527096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P9RTu.png?s=128&g=1", "display_name": "Michael Treat", "link": "https://stackoverflow.com/users/8527096/michael-treat"}, "edited": false, "score": 0, "creation_date": 1515867063, "post_id": 48227554, "comment_id": 83468068, "body": "Thanks, we actually use the Eslint for VSCode as soon as we introduce Node.js. We were hoping that there was a very basic extension or other alternative that had built in linter capabilities that we could use without having to introduce Node. All my research has led to me to the same conclusion as you though, so we will most likely adjust our curriculum. I&#39;ll leave this open for now and then choose this answer if nothing else turns up."}], "tags": [], "owner": {"reputation": 32716, "user_id": 53788, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ccbc66bc886b0605decec37c74cb1a7d?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/53788/paul"}, "is_accepted": true, "score": 2, "last_activity_date": 1515764765, "creation_date": 1515764765, "answer_id": 48227554, "question_id": 48196791, "link": "https://stackoverflow.com/questions/48196791/eslint-for-vscode-without-using-node-or-alternative/48227554#48227554", "title": "ESlint for VSCode without using node or alternative?", "body": "<p>There is an eslint extension for VS Code that MS supports: <a href=\"https://github.com/Microsoft/vscode-eslint\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/vscode-eslint</a></p>\n\n<p>FWIW, I found that by googling \"ESLint vscode\". ;)</p>\n\n<p>Given that the MS supported version still wants you to install eslint via npm, this is probably the only way to go. </p>\n\n<p>FWIW, Atom itself is written in Node, so I'm guessing that it's doing the same thing, just hidden behind some UI snazziness.  </p>\n"}], "owner": {"reputation": 199, "user_id": 8527096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P9RTu.png?s=128&g=1", "display_name": "Michael Treat", "link": "https://stackoverflow.com/users/8527096/michael-treat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1984, "favorite_count": 0, "accepted_answer_id": 48227554, "answer_count": 1, "score": 3, "last_activity_date": 1515764765, "creation_date": 1515621564, "last_edit_date": 1515727161, "question_id": 48196791, "link": "https://stackoverflow.com/questions/48196791/eslint-for-vscode-without-using-node-or-alternative", "title": "ESlint for VSCode without using node or alternative?", "body": "<p>We are teaching fundamental JavaScript to beginners and have recently switched from the Atom editor to VSCode. The problem with this is that VSCode requires us to install node and then <code>npm install eslint</code>, whereas in Atom, we can use the atom package manager to download a linter-eslint package that we can then point directly at a gloabl .eslint file. While it's not a huge deal to install and use node, we are trying to reserve all things node related for a later more advanced class so we can focus on fundamentals.</p>\n\n<p>Is there a way to use ESlint in VSCode without downloading and installing it through node, or is there another alternative extension that we can use that would give us similar functionality?</p>\n"}, {"tags": ["javascript", "c#", "sql", "sql-server"], "comments": [{"owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1515621887, "post_id": 48196763, "comment_id": 83374737, "body": "Try preventing form submit using script and checking string length in browser. Then check length received on submit. Finding source of issue seems like best approach"}, {"owner": {"reputation": 241, "user_id": 9164717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3881b75ee2ec0fcc1728ca605235723a?s=128&d=identicon&r=PG&f=1", "display_name": "Chris ", "link": "https://stackoverflow.com/users/9164717/chris"}, "reply_to_user": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1515622307, "post_id": 48196763, "comment_id": 83374894, "body": "It looks like it is coming from my javascript calendar.  Using a simple alert(strDate.length) I get the value of 13 as soon as I click on a new date. I&#39;m using glDatePicker which is pretty straight forward."}, {"owner": {"reputation": 241, "user_id": 9164717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3881b75ee2ec0fcc1728ca605235723a?s=128&d=identicon&r=PG&f=1", "display_name": "Chris ", "link": "https://stackoverflow.com/users/9164717/chris"}, "reply_to_user": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1515624104, "post_id": 48196763, "comment_id": 83375598, "body": "The problem is the line feed character \\n...Thanks @charlietfl !!! Sometimes when you chase a rabbit down a rabbit hole, you get tunnel vision and forget to do the obvious."}, {"owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1515626240, "post_id": 48196763, "comment_id": 83376373, "body": "Not sure how a date ends up with line feed but glad it worked out. Sounded like a very strange scenario that could easily be resolved though"}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 2, "creation_date": 1515626387, "post_id": 48196763, "comment_id": 83376425, "body": "&quot;When I hit my run button, the inputted information including this date goes to a SProc in SQL Server.&quot;  Well there&#39;s your problem. Your web-server should ideally deal with this at some point between receiving the http request and talking to the database. The tools available for processing this in C# or <i>just about any language</i> are going to be <i>far</i> more appropriate than the tools available in TSQL."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1515627197, "post_id": 48196763, "comment_id": 83376637, "body": "I&#39;m not sure why there is a requirement to store the date as a string.  That&#39;s generally a really bad idea that causes problems...just like this."}], "owner": {"reputation": 241, "user_id": 9164717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3881b75ee2ec0fcc1728ca605235723a?s=128&d=identicon&r=PG&f=1", "display_name": "Chris ", "link": "https://stackoverflow.com/users/9164717/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515626320, "creation_date": 1515621466, "question_id": 48196763, "link": "https://stackoverflow.com/questions/48196763/date-string-has-non-visible-characters-how-do-we-get-rid-of-them", "title": "date string has non visible characters. How do we get rid of them?", "body": "<p>I've got a web application that uses a javascript calendar.  When the user clicks on a date it populates the date label (e.g. 1/10/2018).  When I hit my run button, the inputted information including this date goes to a SProc in SQL Server.  For some reason I've got extra characters that you can't see.  For instance:</p>\n\n<pre><code> Exec Get_Date '2','6/1/2018', 1, 100, 101, 500, 50\n</code></pre>\n\n<p>Imediately throws an error. If I retype the date like this: </p>\n\n<pre><code>'6/1/2018'\n</code></pre>\n\n<p>it works fine.  Obviously visually there isn't anything different between the two dates.  I did a little investigating using SQL to look at character values using this script:</p>\n\n<pre><code>DECLARE @nstring NVARCHAR(100)\nSET @nstring ='\u200e6\u200e/\u200e1\u200e/\u200e2018'\n\nDECLARE @position INT\n SET @position = 1\n\nDECLARE @CharList TABLE (\n Position INT,\n UnicodeChar NVARCHAR(1),\n UnicodeValue INT\n )\n\nWHILE @position &lt;= DATALENGTH(@nstring)\n BEGIN\n INSERT @CharList\n SELECT @position as Position\n ,CONVERT(nchar(1),SUBSTRING(@nstring, @position, 1)) as UnicodeChar\n ,UNICODE(SUBSTRING(@nstring, @position, 1)) as UnicodeValue\n SET @position = @position + 1\n END\n\nSELECT * FROM @CharList\n</code></pre>\n\n<p>Once I run this script I get the attached output.  As you can see, I have ? being added (e.g. ?6/?1/?2018) and I have a bunch of trailing spaces that don't even have Unicode equivallents(I tried the rtrim function and that didn't do anything). If I do this:</p>\n\n<pre><code>Select Len('6/1/2018') or Select(rtrim('6/1/2018))\n</code></pre>\n\n<p>I would expect that a value of 8 should come back, or at the very least , a value of 11 which would account for the question marks in front of the numbers; however, I get a value of 13.  I tried converting the string in C sharp before I pass it to the query string, but it also immediately fails. How do I clean this seemingly correct date of type string (string strDate), in either javascript or c sharp? \n<a href=\"https://i.stack.imgur.com/b1nUx.png\" rel=\"nofollow noreferrer\">SQL Output</a></p>\n"}, {"tags": ["javascript", "jquery", "leaflet"], "owner": {"reputation": 11, "user_id": 6436779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/490d63d6b020992c20d0e9ac00bdacb3?s=128&d=identicon&r=PG&f=1", "display_name": "Vince Zell", "link": "https://stackoverflow.com/users/6436779/vince-zell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1515658290, "creation_date": 1515621458, "last_edit_date": 1515658290, "question_id": 48196761, "link": "https://stackoverflow.com/questions/48196761/leaflet-map-extending-to-next-page-when-printing", "title": "Leaflet map extending to next page when printing", "body": "<p>I've been working on a web project that involves mapping, and I've run into an issue where a leaflet panel will show up on the next page. </p>\n\n<p><img src=\"https://i.imgur.com/Wt9wV8c.png\" alt=\"Issue displayed here\"></p>\n\n<p>When I resize the map, the extra bit on the next page moves with it, and the extra panel has the correct image for its placement relative to the main map. Is this an issue with Leaflet, or am I missing something about how to print it?</p>\n\n<p>I'm using jquery 1.12.3 and leaflet 1.2.0, and it shows up on every browser I've checked with.</p>\n"}, {"tags": ["javascript", "google-apps-script", "google-sheets"], "comments": [{"owner": {"reputation": 23873, "user_id": 1595451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/08TCi.jpg?s=128&g=1", "display_name": "Rub&#233;n", "link": "https://stackoverflow.com/users/1595451/rub%c3%a9n"}, "edited": false, "score": 0, "creation_date": 1515636495, "post_id": 48196760, "comment_id": 83378898, "body": "Stack snippets should be used only for executable JavaScript/HTML/CSS. Google Apps Script isn&#39;t executable."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 9193513, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FMoJKVYts9A/AAAAAAAAAAI/AAAAAAAAAIs/qvB_jaEbR9c/photo.jpg?sz=128", "display_name": "Anthony Bahl", "link": "https://stackoverflow.com/users/9193513/anthony-bahl"}, "edited": false, "score": 0, "creation_date": 1515630221, "post_id": 48197638, "comment_id": 83377484, "body": "That worked amazing! Thank you so much. I also noticed that I left out the getElementByID in my original post, which I did have before I started trying to clean up the garbage so I could post it haha."}, {"owner": {"reputation": 25, "user_id": 9193513, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FMoJKVYts9A/AAAAAAAAAAI/AAAAAAAAAIs/qvB_jaEbR9c/photo.jpg?sz=128", "display_name": "Anthony Bahl", "link": "https://stackoverflow.com/users/9193513/anthony-bahl"}, "edited": false, "score": 0, "creation_date": 1515630271, "post_id": 48197638, "comment_id": 83377496, "body": "Anyways, I do have a follow up question. Do you know why it comes through as a 2 dimensional array? I would have loved just a regular array. My best guess is that ranges are always two dimensional, just in case. But possibly it was a mistake in my .gs file?"}, {"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "reply_to_user": {"reputation": 25, "user_id": 9193513, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FMoJKVYts9A/AAAAAAAAAAI/AAAAAAAAAIs/qvB_jaEbR9c/photo.jpg?sz=128", "display_name": "Anthony Bahl", "link": "https://stackoverflow.com/users/9193513/anthony-bahl"}, "edited": false, "score": 0, "creation_date": 1515630788, "post_id": 48197638, "comment_id": 83377617, "body": "@Anthony Bahl <code>google.script.run.withSuccessHandler(addOption_list).getList&zwnj;&#8203;()</code> means that at first, <code>getList()</code> of GAS is run, and when <code>getList()</code> was completely run, <code>addOption_list()</code> of RemoveAnyone.html is run by <code>withSuccessHandler(addOption_list)</code>. At this time, at <code>getList()</code> in your script, <code>range.getValues();</code> is returned. This value is sent to <code>addOption_list()</code>. In my modified script, the value is given to <code>options</code> by <code>addOption_list(options)</code>. By this, it was found that <code>options</code> is 2 dimensional array. Is my understanding of your comment correct?"}], "tags": [], "owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "is_accepted": true, "score": 1, "last_activity_date": 1515626216, "creation_date": 1515626216, "answer_id": 48197638, "question_id": 48196760, "link": "https://stackoverflow.com/questions/48196760/google-sheets-app-script-html-onload-not-working/48197638#48197638", "title": "Google Sheets App Script Html onload not working", "body": "<p><code>google.script.run</code> doesn't return values. When you want to return values from GAS, please use <code>withSuccessHandler</code>. And the data retrieved by <code>getValues()</code> is 2 dimensional array. So how about this modification?</p>\n\n<h2>Modified script :</h2>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n  &lt;base target=\"_top\"&gt;\n  &lt;script&gt;\n    window.onload = function() {\n      google.script.run.withSuccessHandler(addOption_list).getList();\n    }\n    function addOption_list(options) {\n      document.getElementById(\"output\").innerHTML = \"test\";\n      var select = document.getElementById('selectEmployee');\n      for ( var i in options) {\n        var optn = document.createElement('option');\n        optn.value = options[i][0];\n        optn.text = options[i][0];\n        select.appendChild(optn);\n      }\n    }\n  &lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n  &lt;form id=\"myForm\" onsubmit=\"submitForm(this)\"&gt;\n    &lt;select id=\"selectEmployee\"&gt;\n      &lt;option&gt;Choose an employee&lt;/option&gt;\n     &lt;/select&gt;\n  &lt;/form&gt;\n  &lt;div id=\"output\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<h2>Reference :</h2>\n\n<ul>\n<li><a href=\"https://developers.google.com/apps-script/guides/html/reference/run\" rel=\"nofollow noreferrer\">google.script.run</a></li>\n<li><a href=\"https://developers.google.com/apps-script/reference/spreadsheet/range#getValues()\" rel=\"nofollow noreferrer\">getValues()</a></li>\n</ul>\n\n<p>If I misunderstand your question, I'm sorry.</p>\n"}], "owner": {"reputation": 25, "user_id": 9193513, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FMoJKVYts9A/AAAAAAAAAAI/AAAAAAAAAIs/qvB_jaEbR9c/photo.jpg?sz=128", "display_name": "Anthony Bahl", "link": "https://stackoverflow.com/users/9193513/anthony-bahl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1477, "favorite_count": 0, "accepted_answer_id": 48197638, "answer_count": 1, "score": 0, "last_activity_date": 1562555021, "creation_date": 1515621454, "last_edit_date": 1515636454, "question_id": 48196760, "link": "https://stackoverflow.com/questions/48196760/google-sheets-app-script-html-onload-not-working", "title": "Google Sheets App Script Html onload not working", "body": "<p>I'm using google sheets and I'm creating a document that will pull through employees that are out of the office. I have a menu option to remove employee data, and it opens the sidebar where I have an HTML form (<a href=\"https://i.stack.imgur.com/0CRwB.png\" rel=\"nofollow noreferrer\">Image of my project</a>). I'm trying to have it generate a dropdown list of current employees on the list.</p>\n\n<p>I've developed the code to pull through the data I need:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function removeAnyone() {\n  var html = HtmlService.createHtmlOutputFromFile('RemoveAnyone');\n  SpreadsheetApp.getUi()\n    .showSidebar(html);\n}\n\nfunction getList() {\n  var headerRows = 1;\n  var sheet = SpreadsheetApp.getActive().getSheetByName(\"Data\");\n  var range = sheet.getRange(headerRows + 1, 1, sheet.getMaxRows() - headerRows, 1);\n  var arrayValues = range.getValues();\n  return arrayValues;\n}\n</code></pre>\n\n\n\n<p>Now we move over to my html, where I am simply trying to load the dropdown list using a for loop in the header:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n  &lt;base target=\"_top\"&gt;\n  &lt;script&gt;\n    function addOption_list() {\n\n     document.getElementById(\"output\").innerHTML = \"test\";\n\n    var options = google.script.run.getList();\n\n    for (var i = 0; i &lt; options.length; ++i;) {\n      var optn = document.createElement(\"OPTION\");\n      optn.text = options[i];\n      optn.value = options[i];\n      document.myForm.selectEmployee.options.add(optn);\n\n      }\n    }\n  &lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body onload=\"addOption_list()\"&gt;\n  &lt;form id=\"myForm\" onsubmit=\"submitForm(this)\"&gt;\n    &lt;select id=\"selectEmployee\"&gt;\n      &lt;option&gt;Choose an employee&lt;/option&gt;\n     &lt;/select&gt;\n  &lt;/form&gt;\n  &lt;div id=\"output\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n\n\n<p>I threw a div in the body and have the function changing the value to \"test\" at the start, this was just to check and see if the function was even being called, which it doesn't seem like it is.</p>\n\n<p>I also tried using window.onload (as shown below), but that didn't get me anywhere either.:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>window.onload = function {\n\n     document.getElementById(\"output\").innerHTML = \"test\";\n\n    var options = google.script.run.getList();\n\n    for (var i = 0; i &lt; options.length; ++i;) {\n      var optn = document.createElement(\"OPTION\");\n      optn.text = options[i];\n      optn.value = options[i];\n      document.myForm.selectEmployee.options.add(optn);\n\n      }\n    }\n</code></pre>\n\n\n\n<p>Any guidance you can give me would be really appreciated!</p>\n"}, {"tags": ["javascript", "ecmascript-6", "redux"], "comments": [{"owner": {"reputation": 6433, "user_id": 5326603, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/3rFep.png?s=128&g=1", "display_name": "nbkhope", "link": "https://stackoverflow.com/users/5326603/nbkhope"}, "edited": false, "score": 0, "creation_date": 1515621777, "post_id": 48196734, "comment_id": 83374690, "body": "You didn&#39;t include the definition of save()..."}, {"owner": {"reputation": 3803, "user_id": 2903708, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/F78uQ.jpg?s=128&g=1", "display_name": "nolawi", "link": "https://stackoverflow.com/users/2903708/nolawi"}, "reply_to_user": {"reputation": 6433, "user_id": 5326603, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/3rFep.png?s=128&g=1", "display_name": "nbkhope", "link": "https://stackoverflow.com/users/5326603/nbkhope"}, "edited": false, "score": 0, "creation_date": 1515622876, "post_id": 48196734, "comment_id": 83375126, "body": "meant to say add"}], "answers": [{"tags": [], "owner": {"reputation": 6433, "user_id": 5326603, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/3rFep.png?s=128&g=1", "display_name": "nbkhope", "link": "https://stackoverflow.com/users/5326603/nbkhope"}, "is_accepted": false, "score": 1, "last_activity_date": 1515621734, "creation_date": 1515621734, "answer_id": 48196833, "question_id": 48196734, "link": "https://stackoverflow.com/questions/48196734/how-to-return-a-promise-for-a-simple-redux-action-creator/48196833#48196833", "title": "How to return a promise for a simple redux action creator?", "body": "<p>First you have to understand what <code>this.props.save()</code> returns. If it returns a promise, then you need only return that from add:</p>\n\n<pre><code>const add = (foo) =&gt; { return this.props.save(foo); }\n</code></pre>\n\n<p>So the problem is just what the definition of save is. </p>\n"}, {"comments": [{"owner": {"reputation": 6433, "user_id": 5326603, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/3rFep.png?s=128&g=1", "display_name": "nbkhope", "link": "https://stackoverflow.com/users/5326603/nbkhope"}, "edited": false, "score": 0, "creation_date": 1515630365, "post_id": 48196834, "comment_id": 83377522, "body": "Assuming <code>ApiUtil.patch()</code> returns a promise, you can chain it from the callee, at the <code>this.props.save()</code> call, but it does not necessarily mean the promise returned was resolved or got rejected the way you have in this answer. This is actually a big issue with redux-thunk (see  <a href=\"https://github.com/reactjs/redux/issues/1676\" rel=\"nofollow noreferrer\">github.com/reactjs/redux/issues/1676</a> )."}], "tags": [], "owner": {"reputation": 5535, "user_id": 9200817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91bdda21dbfbeabc9496aadb2d42d670?s=128&d=identicon&r=PG&f=1", "display_name": "casieber", "link": "https://stackoverflow.com/users/9200817/casieber"}, "is_accepted": true, "score": 2, "last_activity_date": 1515621739, "creation_date": 1515621739, "answer_id": 48196834, "question_id": 48196734, "link": "https://stackoverflow.com/questions/48196734/how-to-return-a-promise-for-a-simple-redux-action-creator/48196834#48196834", "title": "How to return a promise for a simple redux action creator?", "body": "<p>It looks to me like you are using redux-thunk for async actions, since your <code>add</code> action creator is in fact returning a function that accepts <code>dispatch</code> rather than a simple action object.</p>\n\n<p>If you are using redux-thunk, then whatever you return from your thunk will be propagated back out. So if you modify your code such that:</p>\n\n<pre><code>let add = (foo) =&gt; this.props.save(foo); // Now returns result of save\n</code></pre>\n\n<p>Then update your thunk to:</p>\n\n<pre><code>export const add = (something) =&gt; (dispatch) =&gt;\n    ApiUtil.patch(`google.com`, { data: { something } })\n        .then(() =&gt; { dispatch({ type: Constants.SET_FALSE }); },\n            () =&gt; { dispatch({ type: Constants.SET_SAVE_FAILED, payload: { saveFailed: true }});}\n        );\n</code></pre>\n\n<p>(Where you'll notice I removed the outside-most curlies), then the promise from ApiUtil should bubble all the way back up and you should be able to .then on it.</p>\n"}], "owner": {"reputation": 3803, "user_id": 2903708, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/F78uQ.jpg?s=128&g=1", "display_name": "nolawi", "link": "https://stackoverflow.com/users/2903708/nolawi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 733, "favorite_count": 0, "accepted_answer_id": 48196834, "answer_count": 2, "score": 1, "last_activity_date": 1515624190, "creation_date": 1515621306, "last_edit_date": 1515624190, "question_id": 48196734, "link": "https://stackoverflow.com/questions/48196734/how-to-return-a-promise-for-a-simple-redux-action-creator", "title": "How to return a promise for a simple redux action creator?", "body": "<p>I have a function <code>add</code> where no promises is returned to the caller.</p>\n\n<p>For example:</p>\n\n<pre><code>let add = (foo) =&gt; {this.props.save(foo)};\n</code></pre>\n\n<p>And in another function of my application I would like to do:</p>\n\n<pre><code>...\nreturn  add()\n        .then( ... do something else here ... );\n</code></pre>\n\n<p>I just want to wait till <code>add()</code> is done and then do something else. I understand async <code>save</code> does not return a promise. Its a simple redux action. </p>\n\n<pre><code> export const save = (something) =&gt; (dispatch) =&gt; {\n\n  ApiUtil.patch(`google.com`, { data: { \n something  } }).\n   then(() =&gt; {\n  dispatch({ type: Constants.SET_FALSE });\n  },\n() =&gt; {\n  dispatch({ type: Constants.SET_SAVE_FAILED,\n    payload: { saveFailed: true } });\n});\n};\n</code></pre>\n\n<p>I have pasted it here to show action</p>\n"}, {"tags": ["javascript", "html", "button"], "comments": [{"owner": {"reputation": 89, "user_id": 7667523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-1yIlekW8oqY/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOSuFZ7mi4N6N8AO119Pq0xOOkSaQ/mo/photo.jpg?sz=128", "display_name": "Caspar Nuel", "link": "https://stackoverflow.com/users/7667523/caspar-nuel"}, "reply_to_user": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1515621519, "post_id": 48196728, "comment_id": 83374568, "body": "The buttons has onclick=&#39;A()&#39;, i&#39;m editting the code. Sorry if this was Unclear :/"}], "answers": [{"tags": [], "owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "is_accepted": false, "score": 0, "last_activity_date": 1515621499, "creation_date": 1515621499, "answer_id": 48196771, "question_id": 48196728, "link": "https://stackoverflow.com/questions/48196728/change-button-onclick-after-first-click/48196771#48196771", "title": "Change button onclick after first click", "body": "<p>You can use Jquery to change any attribute of a button onclick.  Below, I update the <code>onclick</code> attribute to instead execute function <code>B()</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function A() {\r\n  $('#toggler').attr('onclick', 'B()');\r\n}\r\n\r\nfunction B() {\r\n  console.log('Updated to B()!');\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;button id=\"toggler\" onclick=\"A()\"&gt;Click me!&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 10043, "user_id": 566920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fcb6510f4d282e5469403c04f6ff777?s=128&d=identicon&r=PG", "display_name": "Peter Collingridge", "link": "https://stackoverflow.com/users/566920/peter-collingridge"}, "is_accepted": false, "score": 1, "last_activity_date": 1515621518, "creation_date": 1515621518, "answer_id": 48196778, "question_id": 48196728, "link": "https://stackoverflow.com/questions/48196728/change-button-onclick-after-first-click/48196778#48196778", "title": "Change button onclick after first click", "body": "<p>You're calling B with <code>B()</code>.</p>\n\n<p>Use <code>document.getElementById(\"button\").onclick=B;</code>. Note that there's no parentheses after <code>B</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 5587, "user_id": 8202589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38422395dfead452885eafad3d5e5f84?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan86", "link": "https://stackoverflow.com/users/8202589/ivan86"}, "is_accepted": false, "score": 0, "last_activity_date": 1515622426, "last_edit_date": 1515622426, "creation_date": 1515621594, "answer_id": 48196800, "question_id": 48196728, "link": "https://stackoverflow.com/questions/48196728/change-button-onclick-after-first-click/48196800#48196800", "title": "Change button onclick after first click", "body": "<p>Use an <code>id</code> instead of the <code>onclick</code> for the <code>button</code> then target it from <code>javascript</code> like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function b()\r\n{\r\n   console.log('I am in B.')\r\n}\r\n\r\nfunction a()\r\n{\r\n  console.log('I am inside A.');\r\n\r\n  button1.removeEventListener('click', a);\r\n  button1.addEventListener('click', b);\r\n}\r\n\r\nvar button1 = document.getElementById('button1');  // get the button element\r\n\r\nbutton1.addEventListener('click',a); // assigns a click listener to a() at the beginning</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;Button id=\"button1\"&gt;Click me&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 89, "user_id": 7667523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-1yIlekW8oqY/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOSuFZ7mi4N6N8AO119Pq0xOOkSaQ/mo/photo.jpg?sz=128", "display_name": "Caspar Nuel", "link": "https://stackoverflow.com/users/7667523/caspar-nuel"}, "edited": false, "score": 0, "creation_date": 1515625352, "post_id": 48196805, "comment_id": 83376069, "body": "Well this fixed the issue, and it&#39;s explained pretty well. Thank you man :)"}], "tags": [], "owner": {"reputation": 6856, "user_id": 828864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0031af6f469d31621363e4fdf14601f?s=128&d=identicon&r=PG", "display_name": "skyline3000", "link": "https://stackoverflow.com/users/828864/skyline3000"}, "is_accepted": true, "score": 1, "last_activity_date": 1515621603, "creation_date": 1515621603, "answer_id": 48196805, "question_id": 48196728, "link": "https://stackoverflow.com/questions/48196728/change-button-onclick-after-first-click/48196805#48196805", "title": "Change button onclick after first click", "body": "<p>When you write a function name with the parenthesis, like <code>B()</code>, that invokes the function immediately. Instead, you'll want to set <code>onclick</code> to be just the name of the function, <code>A</code> or <code>B</code>.</p>\n\n<p>Your overall solution could look something like this:</p>\n\n<pre><code>function A(event) {\n  // Function logic...\n  event.target.onclick = B;\n}\n\nfunction B() {\n  // Function logic...\n}\n\ndocument.getElementById(\"button\").onclick = A;\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 7667523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-1yIlekW8oqY/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOSuFZ7mi4N6N8AO119Pq0xOOkSaQ/mo/photo.jpg?sz=128", "display_name": "Caspar Nuel", "link": "https://stackoverflow.com/users/7667523/caspar-nuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 653, "favorite_count": 0, "accepted_answer_id": 48196805, "answer_count": 4, "score": 1, "last_activity_date": 1531377058, "creation_date": 1515621276, "last_edit_date": 1515621715, "question_id": 48196728, "link": "https://stackoverflow.com/questions/48196728/change-button-onclick-after-first-click", "title": "Change button onclick after first click", "body": "<p>I'm having some struggles getting this to work.\nI have a button, and I want it to execute Javascript function A, and in that function A, i want to change the Onclick to function B. Thus getting as result when the user taps the button a SECOND time, it's executing B. With the</p>\n\n<pre><code>&lt;Button onclick=\"A();\"&gt;Click me&lt;/button&gt;\n&lt;script&gt;\nFunction A() {\ndocument.getElementById(\"button\").onclick=B();\n}\nFunction B() {\nAlert(\"hello world\");\n}\n</code></pre>\n\n<p>In function A(), it doesn't execute FIRST A and after that B, it instantly executes B. Could anyone help me? Thanks :)</p>\n"}, {"tags": ["javascript", "google-chrome", "google-chrome-app"], "answers": [{"tags": [], "owner": {"reputation": 15264, "user_id": 6143482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MD37S.jpg?s=128&g=1", "display_name": "noogui", "link": "https://stackoverflow.com/users/6143482/noogui"}, "is_accepted": false, "score": 2, "last_activity_date": 1515659616, "creation_date": 1515659616, "answer_id": 48202704, "question_id": 48196715, "link": "https://stackoverflow.com/questions/48196715/chrome-webusb-not-recognizing-devices-cac-cards-smart-cards/48202704#48202704", "title": "Chrome WebUSB not recognizing devices (CAC cards, smart cards)", "body": "<p>This <a href=\"https://developer.chrome.com/apps/app_usb#caveats\" rel=\"nofollow noreferrer\">Chrome USB Devices</a> states that not all USB devices are supported and can be read:</p>\n\n<p><strong>Caveats</strong></p>\n\n<blockquote>\n  <p>Not all devices can be accessed through the USB API. In general,\n  devices are not accessible because either the Operating System's\n  kernel or a native driver holds them off from user space code. Some\n  examples are devices with HID profiles on OSX systems, and USB pen\n  drives.</p>\n  \n  <p>On most Linux systems, USB devices are mapped with read-only\n  permissions by default. To open a device through this API, your user\n  will need to have write access to it too. A simple solution is to set\n  a udev rule. Create a file /etc/udev/rules.d/50-yourdevicename.rules\n  with the following content:</p>\n</blockquote>\n\n<pre><code>SUBSYSTEM==\"usb\", ATTR{idVendor}==\"[yourdevicevendor]\", MODE=\"0664\", GROUP=\"plugdev\"\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9200906, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gu05FAIzc2g/AAAAAAAAAAI/AAAAAAAAAB8/NyMZc6Dol6E/photo.jpg?sz=128", "display_name": "P. K. O.", "link": "https://stackoverflow.com/users/9200906/p-k-o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 997, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1515659616, "creation_date": 1515621209, "last_edit_date": 1515623255, "question_id": 48196715, "link": "https://stackoverflow.com/questions/48196715/chrome-webusb-not-recognizing-devices-cac-cards-smart-cards", "title": "Chrome WebUSB not recognizing devices (CAC cards, smart cards)", "body": "<p>I have made a script to load all of the USB devices connected to Chrome using <code>chrome.usb.getDevices</code>. So far, it has listed a second-generation iPod touch as well as a mouse, keyboard, and two unknown items from Intel. However, it has not recognized any USB flash drives, and it does not recognize any Smart Cards that I have. I've also installed Chrome's Smart Card Connector app into Chrome, but I can still not get Chrome to recognize these Smart Cards. I can't continue to use Java nor ActiveX to for smartcard interactions in the browser. How can I get CAC/smartcard authentication through the browser without having to install a slew of other dependencies? </p>\n\n<p>Edit: I also installed WinUSB as their drivers in place of their default HID drivers, but the results remained.</p>\n"}, {"tags": ["javascript", "node.js", "server"], "comments": [{"owner": {"reputation": 32716, "user_id": 53788, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ccbc66bc886b0605decec37c74cb1a7d?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/53788/paul"}, "edited": false, "score": 2, "creation_date": 1515621910, "post_id": 48196706, "comment_id": 83374745, "body": "The error is telling you the problem.  &#39;/&#39; is an invalid URL format.  &#39;/&#39; is a path.  For it to be a valid URL it needs a host, protocol, and path."}], "answers": [{"comments": [{"owner": {"reputation": 336, "user_id": 9189180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zxktr.png?s=128&g=1", "display_name": "Thom", "link": "https://stackoverflow.com/users/9189180/thom"}, "edited": false, "score": 0, "creation_date": 1532618090, "post_id": 51525433, "comment_id": 90052074, "body": "I like your solution. We could abstract the baseURL string building to a function that figures out the protocol, perhaps?"}, {"owner": {"reputation": 177680, "user_id": 367456, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/MGhY2.png?s=128&g=1", "display_name": "hakre", "link": "https://stackoverflow.com/users/367456/hakre"}, "edited": false, "score": 0, "creation_date": 1612585896, "post_id": 51525433, "comment_id": 116819357, "body": "How about making the base URL exemplary to express that it is mandatory yet still exemplary? Example: <code>&#39;example:&#47;&#47;example.test&#39;</code>. Notes: Leave the ending slash out to keep parsing the <i><code>pathname</code></i> from the relative URL. The relative nature of the pathname then can be verified afterwards more easily (first (few) character(s)). <code>.origin</code> will be <code>null</code> unless the protocol of the relative URL gives an acceptable origin. Benefit is there is no hidden dependency of the <i>Request</i> while it still applies to IANA / RFC conformance, <i>not</i> misleading on the URI scheme (misnamed <i><code>protocol</code></i> in Node URL)."}], "tags": [], "owner": {"reputation": 176, "user_id": 10082269, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XhpNszQqedA/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pj8pl0qx3XVsbr0wAscAcIsiFpMA/mo/photo.jpg?sz=128", "display_name": "Jeshurun Hembd", "link": "https://stackoverflow.com/users/10082269/jeshurun-hembd"}, "is_accepted": true, "score": 16, "last_activity_date": 1532543032, "creation_date": 1532543032, "answer_id": 51525433, "question_id": 48196706, "link": "https://stackoverflow.com/questions/48196706/new-url-whatwg-url-api/51525433#51525433", "title": "new URL() - WHATWG URL API", "body": "<p>As Joshua Wise pointed out on Github (<a href=\"https://github.com/nodejs/node/issues/12682\" rel=\"noreferrer\">https://github.com/nodejs/node/issues/12682</a>), the problem is that request.url is NOT an absolute URL. It can be used as a path or relative URL, but it is missing the host and protocol.</p>\n\n<p>Following the <a href=\"https://nodejs.org/api/url.html#url_constructor_new_url_input_base\" rel=\"noreferrer\">API documentation</a>, you can construct a valid URL by supplying a base URL as the second argument. This is still awkward because the protocol is not easily available from request.headers. I simply assumed HTTP:</p>\n\n<pre><code>var baseURL = 'http://' + request.headers.host + '/';\nvar myURL = new URL(request.url, baseURL);\n</code></pre>\n\n<p>This is obviously not an ideal solution, but at least you can take advantage of the query string parsing. For example,</p>\n\n<pre><code>URL {\n  href: 'http://localhost:8080/?key1=value1&amp;key2=value2',\n  origin: 'http://localhost:8080',\n  protocol: 'http:',\n  username: '',\n  password: '',\n  host: 'localhost:8080',\n  hostname: 'localhost',\n  port: '8080',\n  pathname: '/',\n  search: '?key1=value1&amp;key2=value2',\n  searchParams: URLSearchParams { 'key1' =&gt; 'value1', 'key2' =&gt; 'value2' },\n  hash: '' }\n</code></pre>\n"}], "owner": {"reputation": 336, "user_id": 9189180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zxktr.png?s=128&g=1", "display_name": "Thom", "link": "https://stackoverflow.com/users/9189180/thom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15199, "favorite_count": 2, "accepted_answer_id": 51525433, "answer_count": 1, "score": 19, "last_activity_date": 1532543032, "creation_date": 1515621172, "last_edit_date": 1516056886, "question_id": 48196706, "link": "https://stackoverflow.com/questions/48196706/new-url-whatwg-url-api", "title": "new URL() - WHATWG URL API", "body": "<p>I'm messing around with node and I'm trying to get an instance of the URL class (because of those handy properties). Like:</p>\n\n<pre><code>const { URL } = require('url');\n(...)\nhttp.createServer((request,response) =&gt; {\n    let uri = new URL(request.url);\n    (...)\n}\n</code></pre>\n\n<p>But it fails with</p>\n\n<pre><code>TypeError [ERR_INVALID_URL]: Invalid URL: /\n</code></pre>\n\n<p>It's funny because </p>\n\n<pre><code>const url = require('url');\nurl.parse();\n</code></pre>\n\n<p>works. So I got curious about it. I understand this later method is older.</p>\n\n<p>I'm developing locally so to send a request I use localhost:8000 in the browser.</p>\n\n<p>How do I use the information in <code>request</code> to instantiate a new URL object?</p>\n\n<p>Info and things I've looked on already:</p>\n\n<pre><code>node -v\nv9.3.0\n\nhttps://nodejs.org/api/url.html#url_class_url\nhttps://stackoverflow.com/questions/44738065/uncaught-typeerror-url-is-not-a-constructor-using-whatwg-url-object-support-for\nhttps://stackoverflow.com/questions/45047840/in-node-js-how-to-get-construct-url-string-from-whatwg-url-including-user-and-pa\nhttps://stackoverflow.com/questions/47481784/does-url-parse-protect-against-in-a-url\nhttps://stackoverflow.com/questions/17184791/node-js-url-parse-and-pathname-property\n</code></pre>\n"}, {"tags": ["javascript", "php", "security"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 2, "creation_date": 1515621311, "post_id": 48196704, "comment_id": 83374480, "body": "if the browser can run the code, the user can read the code. <code>prevent people from accessing one of those urls from the address bar</code> - make it a POST request. address bar urls use GET request"}, {"owner": {"reputation": 165027, "user_id": 1902010, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a19f9308334d07d4be19c8f6d11151ff?s=128&d=identicon&r=PG", "display_name": "ceejayoz", "link": "https://stackoverflow.com/users/1902010/ceejayoz"}, "edited": false, "score": 2, "creation_date": 1515621385, "post_id": 48196704, "comment_id": 83374509, "body": "Obfuscating it in the code won&#39;t stop a smart attacker from using the network tab to find the requests. Nothing you send to the browser can be fully protected. Period."}, {"owner": {"reputation": 691, "user_id": 6727369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/770e4f054d98b62390558b4b2825ad3d?s=128&d=identicon&r=PG", "display_name": "Rafael Hovsepyan", "link": "https://stackoverflow.com/users/6727369/rafael-hovsepyan"}, "edited": false, "score": 0, "creation_date": 1515621535, "post_id": 48196704, "comment_id": 83374584, "body": "Consider to secure your urls on server side. What is a point to hide them ?"}, {"owner": {"reputation": 167, "user_id": 9052749, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bbedda6b1d36fb76a13d559adb0eb8be?s=128&d=identicon&r=PG&f=1", "display_name": "Ed91gg", "link": "https://stackoverflow.com/users/9052749/ed91gg"}, "reply_to_user": {"reputation": 691, "user_id": 6727369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/770e4f054d98b62390558b4b2825ad3d?s=128&d=identicon&r=PG", "display_name": "Rafael Hovsepyan", "link": "https://stackoverflow.com/users/6727369/rafael-hovsepyan"}, "edited": false, "score": 0, "creation_date": 1515622484, "post_id": 48196704, "comment_id": 83374962, "body": "Thanks everyone for your answers... @RafaelHovsepyan Is a personal desire. So how do other website hide that content? One of those that I looked for is gamespot.com ... You can&#39;t see either server side extensions (.php por example) or any other url regarding the site itself... I was thinking on playing with sessions on the ajax url requests to prevent people from accessing them on the address bar."}, {"owner": {"reputation": 6259, "user_id": 1505169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7587c1565b83cc140aed311aca770d78?s=128&d=identicon&r=PG", "display_name": "Patrick Q", "link": "https://stackoverflow.com/users/1505169/patrick-q"}, "edited": false, "score": 1, "creation_date": 1515622884, "post_id": 48196704, "comment_id": 83375130, "body": "FYI, a URL doesn&#39;t have to explicitly have &quot;.php&quot; in it to go to a PHP file.  A lot of modern frameworks use routing so that you have a URL such as example.com/controller/action/param1/value1.  Using Zend as an example, such a request would hit index.php and then call the actionAction() function in the application/controllers/ControllerController.php file."}, {"owner": {"reputation": 167, "user_id": 9052749, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bbedda6b1d36fb76a13d559adb0eb8be?s=128&d=identicon&r=PG&f=1", "display_name": "Ed91gg", "link": "https://stackoverflow.com/users/9052749/ed91gg"}, "reply_to_user": {"reputation": 6259, "user_id": 1505169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7587c1565b83cc140aed311aca770d78?s=128&d=identicon&r=PG", "display_name": "Patrick Q", "link": "https://stackoverflow.com/users/1505169/patrick-q"}, "edited": false, "score": 0, "creation_date": 1515624028, "post_id": 48196704, "comment_id": 83375578, "body": "@PatrickQ Thank you very much! Yes I know frameworks have tons of stuff I&#39;m not familiarized with since I usually code vanilla. Thank you, I actually came to some conclusions."}], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 7580041, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UHwD5t5drjk/AAAAAAAAAAI/AAAAAAAAABw/qrXIj46XGcU/photo.jpg?sz=128", "display_name": "Say", "link": "https://stackoverflow.com/users/7580041/say"}, "is_accepted": true, "score": 0, "last_activity_date": 1515624324, "creation_date": 1515624324, "answer_id": 48197314, "question_id": 48196704, "link": "https://stackoverflow.com/questions/48196704/how-to-hide-ajax-calls-urls-from-the-browser-page-source-code/48197314#48197314", "title": "How to hide AJAX calls/urls from the browser page source code?", "body": "<p>create an ajax router file php. js send to ajax router and router call function from true url</p>\n"}], "owner": {"reputation": 167, "user_id": 9052749, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bbedda6b1d36fb76a13d559adb0eb8be?s=128&d=identicon&r=PG&f=1", "display_name": "Ed91gg", "link": "https://stackoverflow.com/users/9052749/ed91gg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1354, "favorite_count": 0, "accepted_answer_id": 48197314, "answer_count": 1, "score": 1, "last_activity_date": 1515624324, "creation_date": 1515621161, "question_id": 48196704, "link": "https://stackoverflow.com/questions/48196704/how-to-hide-ajax-calls-urls-from-the-browser-page-source-code", "title": "How to hide AJAX calls/urls from the browser page source code?", "body": "<p>I haven't find a right answer for this and decided to post it... I just finished a website that took me a while to get it done. This site is too interactive so it has quite a few ajax calls everywhere and the urls are visible (obviously), my website is done with php, vanilla js, jquery and mysql.</p>\n\n<p>I can't deploy this website until I find a way to hide or at least prevent people from accessing one of those urls from the address bar. I don't know if the \"robots.txt\" might help here.</p>\n\n<p>I've seen tons of sites that if I enter the \"view source code\" I can't see any url from that particular site. I can't also see any file extension such as .php or .py or whatver.. I can just see some .js files from external links such as the jquery CDN.</p>\n\n<p>I hope I could get some help here since I'm excited to deploy this website. Thanks!</p>\n"}, {"tags": ["javascript", "node.js", "puppeteer"], "comments": [{"owner": {"reputation": 624, "user_id": 7445289, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh3.googleusercontent.com/-GHwkvczrbwE/AAAAAAAAAAI/AAAAAAAAAKM/6zYmCdhsfsY/photo.jpg?sz=128", "display_name": "Nagarjun Prasad", "link": "https://stackoverflow.com/users/7445289/nagarjun-prasad"}, "edited": false, "score": 0, "creation_date": 1522135301, "post_id": 48196682, "comment_id": 86017326, "body": "If you have found a solution please do update."}, {"owner": {"reputation": 15385, "user_id": 9276329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MpGhl.jpg?s=128&g=1", "display_name": "Munim Munna", "link": "https://stackoverflow.com/users/9276329/munim-munna"}, "edited": false, "score": 0, "creation_date": 1522665328, "post_id": 48196682, "comment_id": 86225658, "body": "Post your code so that people willing to help gets some more insight of the scenario."}, {"owner": {"reputation": 20402, "user_id": 15410, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/0b876cb059e6b31d050d4728184c3b62?s=128&d=identicon&r=PG", "display_name": "Rippo", "link": "https://stackoverflow.com/users/15410/rippo"}, "edited": false, "score": 0, "creation_date": 1523183681, "post_id": 48196682, "comment_id": 86446844, "body": "You may need to do this in 2 steps. Click all buttons then wait and then loop through the pages array after all the tabs have finished loading, e.g.  <code>let pages = await browser.pages();</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1662, "user_id": 5949657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22e5f144256bdc1befebf4994e37f5ca?s=128&d=identicon&r=PG&f=1", "display_name": "Vikash Kumar", "link": "https://stackoverflow.com/users/5949657/vikash-kumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1522673334, "creation_date": 1522673334, "answer_id": 49611631, "question_id": 48196682, "link": "https://stackoverflow.com/questions/48196682/how-to-shift-puppeteers-focus-to-a-pop-up-window/49611631#49611631", "title": "How to shift puppeteers focus to a pop up window", "body": "<p>There are two scenarios in you case \nFirst,If you are using version less than v0.13.0 you won't be able to do it\nSecond if you are using node version 6 you have to build node components manually</p>\n\n<pre><code>cd node_modules/puppeteer\nnpm run build\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123, "user_id": 789682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fb3201b5b889119247629ba6f27d7b4?s=128&d=identicon&r=PG", "display_name": "Bryce W", "link": "https://stackoverflow.com/users/789682/bryce-w"}, "is_accepted": false, "score": 1, "last_activity_date": 1523801915, "creation_date": 1523801915, "answer_id": 49842945, "question_id": 48196682, "link": "https://stackoverflow.com/questions/48196682/how-to-shift-puppeteers-focus-to-a-pop-up-window/49842945#49842945", "title": "How to shift puppeteers focus to a pop up window", "body": "<p>I've solved a similar use case where I'm testing a page that opens a new window via window.open, and I need to find it after to run some tests. Adding a listener for \"targetcreated\" works, as long as you register the listener before opening the new window.</p>\n\n<p>This is my test runner which does the following:</p>\n\n<ol>\n<li><p>Adds a listener for the \"targetcreated\" event, in which it:</p></li>\n<li><p>Finds the newly opened page object</p></li>\n<li><p>Runs some tests on the opened page.</p></li>\n<li><p>Finally, a call to \"openSearchWindow\" which actually triggers the window.open.</p></li>\n</ol>\n\n<p>Here is the test runner. I've replaced my own code with comments to make it easier for you to use.</p>\n\n<pre><code>await browser.on('targetcreated', async () =&gt; {\n    const foundPage = await changePage(theNewURLOfThePopUpWindow);\n    if(foundPage) {\n        //Run some basic tests on the new page\n        const hasLoaded = await runSomeTestsHere();\n        expect(hasLoaded).to.be.true;\n        done();\n    } else {\n        done('Failed to find new page.');\n    }\n});\n//Opens the new popup window by clicking a button\nawait openSearchWindow(page);\n</code></pre>\n\n<p>changePage is a simple function that loops through all open browser pages and saves the page object for the page with a matching url. After running this you can use the new page for your tests, if it is opened.</p>\n\n<pre><code>async function changePage(url) {\n    let pages = await browser.pages();\n    let foundPage = false;\n    for(let i = 0; i &lt; pages.length; i += 1) {\n        if(pages[i].url() === url) {\n            foundPage = true;\n            module.exports.page = pages[i];//set the new working page as the popup\n            break;\n        }\n    }\n    return foundPage;\n}\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 2669129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11021c760063fbc84cb36f2de5fde291?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/2669129/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2517, "favorite_count": 0, "answer_count": 2, "score": 6, "last_activity_date": 1523801915, "creation_date": 1515621085, "last_edit_date": 1522676077, "question_id": 48196682, "link": "https://stackoverflow.com/questions/48196682/how-to-shift-puppeteers-focus-to-a-pop-up-window", "title": "How to shift puppeteers focus to a pop up window", "body": "<p>I'm using Puppeteer to run a test within a website. Once a button has been clicked, a new popup browser window appears with a report. Within that new window is information I'd like to extract. How can I get puppeteer to shift it's focus to this newly created browser window?</p>\n\n<p>I have multiple print buttons on my puppeteer page clicking on which creates a popup, I am trying to get a pdf of those pages. Here is the code I am using.</p>\n\n<pre><code>let printButtons = await this.page.$$('#printNowButton');\nfor (var i = 0; i &lt; printButtons.length; i++) {\n    printButtons[i].click();\n    const fileName = ('Document'+ i + '.pdf');\n    browser.on('targetcreated', async target =&gt; {\n        if ((target.url() !== 'about:blank')) {\n            try {\n                const pageList = await browser.pages();\n                const newPage = await pageList[pageList.length - 1];\n                await newPage.pdf({\n                    path: fileName,\n                    format: 'A4'\n                }).then(() =&gt; {\n                    newPage.close();\n                });\n            } catch (e) {\n                console.log('Error: ' + e);\n            }\n        }\n    });\n}\n</code></pre>\n\n<p>I am using puppeteer version 0.13.0\nAny other way to obtain what I am trying to achieve is also appreciated.</p>\n"}, {"tags": ["javascript", "c#", "encryption", "aes", "cryptojs"], "answers": [{"comments": [{"owner": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1515673872, "post_id": 48201034, "comment_id": 83395143, "body": "The problem with AES-GCM is it&#39;s unavailability on some popular platforms."}, {"owner": {"reputation": 1, "user_id": 8826084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71550746f57009d008318486043873ec?s=128&d=identicon&r=PG&f=1", "display_name": "Dlong26", "link": "https://stackoverflow.com/users/8826084/dlong26"}, "edited": false, "score": 0, "creation_date": 1515678505, "post_id": 48201034, "comment_id": 83397970, "body": "Once I added the code above it changed them into wordArrays and i dont know how to accept them on the C# side of things"}], "tags": [], "owner": {"reputation": 8643, "user_id": 1718554, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/n3jD1.jpg?s=128&g=1", "display_name": "Luke Joshua Park", "link": "https://stackoverflow.com/users/1718554/luke-joshua-park"}, "is_accepted": false, "score": 1, "last_activity_date": 1515652274, "creation_date": 1515652274, "answer_id": 48201034, "question_id": 48196656, "link": "https://stackoverflow.com/questions/48196656/using-cryptojs-to-encrypt-and-aes-manager-to-decrypt/48201034#48201034", "title": "Using CryptoJS to encrypt and Aes Manager to decrypt", "body": "<p>You should explicitly pass the key, plaintext and IV as binary data rather than strings:</p>\n\n<pre><code>let iv = CryptoJS.enc.Utf8.parse(\"helllooohelllooo\");\nlet pt = CryptoJS.enc.Utf8.parse(\"hello\");\nlet key = CryptoJS.enc.Utf8.parse(\"yyyyyyyyyyyyyyyyyyyyyyyyyyyyykey\");\n</code></pre>\n\n<p>Then use in the code like so:</p>\n\n<pre><code>CryptoJS.AES.encrypt(pt, key, ...);\n</code></pre>\n\n<p>Note that your use of zero padding, fixed IV, and no HMAC or AEAD mode makes the code you have completely insecure.  You definitely should not use it.  Consult <a href=\"https://github.com/luke-park/SecureCompatibleEncryptionExamples\" rel=\"nofollow noreferrer\">this GitHub repository</a> for examples of secure encryption between JavaScript and C#.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8826084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71550746f57009d008318486043873ec?s=128&d=identicon&r=PG&f=1", "display_name": "Dlong26", "link": "https://stackoverflow.com/users/8826084/dlong26"}, "is_accepted": false, "score": 0, "last_activity_date": 1515690597, "creation_date": 1515690597, "answer_id": 48212477, "question_id": 48196656, "link": "https://stackoverflow.com/questions/48196656/using-cryptojs-to-encrypt-and-aes-manager-to-decrypt/48212477#48212477", "title": "Using CryptoJS to encrypt and Aes Manager to decrypt", "body": "<p>I was able to fix my problem i was not converting the original key to utf8 and once i did that it fixed itself </p>\n\n<p><a href=\"https://social.msdn.microsoft.com/Forums/vstudio/en-US/47800a60-4461-4f8e-a8d1-751fa62c7884/aes-encrypt-in-javascript-and-decrypt-in-c?forum=csharpgeneral\" rel=\"nofollow noreferrer\">Resource</a></p>\n"}], "owner": {"reputation": 1, "user_id": 8826084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71550746f57009d008318486043873ec?s=128&d=identicon&r=PG&f=1", "display_name": "Dlong26", "link": "https://stackoverflow.com/users/8826084/dlong26"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 600, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1515690597, "creation_date": 1515620940, "last_edit_date": 1515637095, "question_id": 48196656, "link": "https://stackoverflow.com/questions/48196656/using-cryptojs-to-encrypt-and-aes-manager-to-decrypt", "title": "Using CryptoJS to encrypt and Aes Manager to decrypt", "body": "<p>I am using CryptoJS to encrypt a message and send it to the server, and decrypting it on the other end in C# using Aes Manager. I get a response back when I send it to the server, but it isn't correct.</p>\n\n<p>Javascript:</p>\n\n<pre><code>this.CryptoJS=require(\"crypto-js\");\nvar temp=this.CryptoJS.AES.encrypt(\"hello\",\"yyyyyyyyyyyyyyyyyyyyyyyyyyyyykey\",{\n  keySize:128/8,\n  iv:this.CryptoJS.enc.Utf8.parse(\"helllooohelllooo\"),\n  mode:this.CryptoJS.mode.CBC,\n  padding:this.CryptoJS.pad.ZeroPadding\n});\ndata.text=temp.toString(); // This is how I send it to the server\n</code></pre>\n\n<p>C#:</p>\n\n<pre><code>byte[] Key = UTF8Encoding.UTF8.GetBytes(\"yyyyyyyyyyyyyyyyyyyyyyyyyyyyykey\");\nbyte[] toBytes = UTF8Encoding.UTF8.GetBytes(\"helllooohelllooo\");\nAesManaged aes = new AesManaged();\naes.Key = Key;\naes.IV = toBytes;\naes.Padding = PaddingMode.Zeros;\naes.Mode = CipherMode.CBC;\naes.KeySize = 128;\naes.BlockSize = 128;\nbyte[] bytes = Convert.FromBase64String(data.text);\nUTF8Encoding utf8 = new UTF8Encoding();\n\nusing (ICryptoTransform decryptor = aes.CreateDecryptor(aes.Key, aes.IV))\n{\n    MemoryStream MS = new MemoryStream(bytes);\n    CryptoStream CS = new CryptoStream(MS, decryptor, CryptoStreamMode.Write);\n    CS.Write(bytes, 0, bytes.Length);\n    CS.FlushFinalBlock();\n    MS.Position = 0;\n    bytes = new byte[MS.Length];\n    MS.Read(bytes, 0, bytes.Length);\n    Plaintext = utf8.GetString(bytes);\n    var temp = 5;\n}\n</code></pre>\n\n<p>This is what I get as a result from the <code>Plaintext</code> variable: <code>t\ufffdk\ufffd\\a``\\u007f\ufffd\ufffd\u00dc\ufffd\ufffd\ufffd\ufffd\\f^,F~\\u0017\ufffd\\u001fp\ufffd\ufffd#5\ufffd\\u007f\\\\</code></p>\n"}, {"tags": ["javascript", "arrays", "typescript", "angular2-services"], "comments": [{"owner": {"reputation": 1008, "user_id": 9162349, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Jx5B2AU3KxE/AAAAAAAAAAI/AAAAAAAAABE/RhmzWiGJ6H4/photo.jpg?sz=128", "display_name": "Ashraful Islam", "link": "https://stackoverflow.com/users/9162349/ashraful-islam"}, "edited": false, "score": 0, "creation_date": 1515747560, "post_id": 48196607, "comment_id": 83426682, "body": "I don&#39;t understand why you are using this kind of data flow pattern? I think the most convenient way for doing this is working with an observable. Use an observable. Send a message to that observable from the success of <code>populateUsers</code> method. Then subscribe for that observable from the component you want."}, {"owner": {"reputation": 11, "user_id": 8228377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6442451b5fd015ec07f65547bbc7a14?s=128&d=identicon&r=PG&f=1", "display_name": "P. Lynch", "link": "https://stackoverflow.com/users/8228377/p-lynch"}, "reply_to_user": {"reputation": 1008, "user_id": 9162349, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Jx5B2AU3KxE/AAAAAAAAAAI/AAAAAAAAABE/RhmzWiGJ6H4/photo.jpg?sz=128", "display_name": "Ashraful Islam", "link": "https://stackoverflow.com/users/9162349/ashraful-islam"}, "edited": false, "score": 0, "creation_date": 1516118571, "post_id": 48196607, "comment_id": 83554843, "body": "You may be right.  I don&#39;t know.  Can you show me how you would implement your suggestion?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8228377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6442451b5fd015ec07f65547bbc7a14?s=128&d=identicon&r=PG&f=1", "display_name": "P. Lynch", "link": "https://stackoverflow.com/users/8228377/p-lynch"}, "edited": false, "score": 0, "creation_date": 1515623567, "post_id": 48196742, "comment_id": 83375399, "body": "Thank you.  I will try this.  But, it looks to me like it will populate the array every time I call getUsers().  Which is not what I want to do.  I want to populate the array one time and then get the already populated array every time I call getUsers()."}], "tags": [], "owner": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "is_accepted": false, "score": 0, "last_activity_date": 1515624776, "last_edit_date": 1515624776, "creation_date": 1515621358, "answer_id": 48196742, "question_id": 48196607, "link": "https://stackoverflow.com/questions/48196607/angular-2-service-how-to-return-an-array-of-objects/48196742#48196742", "title": "Angular 2 service - How to return an array of objects?", "body": "<p>The easiest I have found is to convert your http calls to a <code>promise</code> and then use <code>async</code> and <code>await</code>. This is what I have done in my own solutions:</p>\n\n<pre><code>async populateUsers() {\n    this._containerUsers  = await this._containerService.getContainerUsers().toPromise();  \n}\n\ngetUsers() {\n    return this._containerUsers;\n}\n\nasync ngOninit() {\n    await populateUsers();\n} \n</code></pre>\n\n<p>I really like this pattern because it simplifies everything, no need for callbacks.</p>\n"}], "owner": {"reputation": 11, "user_id": 8228377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6442451b5fd015ec07f65547bbc7a14?s=128&d=identicon&r=PG&f=1", "display_name": "P. Lynch", "link": "https://stackoverflow.com/users/8228377/p-lynch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1451, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515624776, "creation_date": 1515620751, "question_id": 48196607, "link": "https://stackoverflow.com/questions/48196607/angular-2-service-how-to-return-an-array-of-objects", "title": "Angular 2 service - How to return an array of objects?", "body": "<p>I have Angular 2 service component that populates an array of objects.  I want to get that array from other components in the program.  But, in the code shown below getUsers() always returns null.</p>\n\n<p>How can I make getUsers() return the array that was populated in populateUsers()?</p>\n\n<p>Service Component code:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ContainerUser } from '../models/container-user';\nimport { ContainerService } from './container.service';\nimport { OnInit } from '@angular/core';\n\n@Injectable()\nexport class UserService {\nprivate _containerUsers: ContainerUser[];\nprivate _currentUserId: string;\nprivate _currentUserName: string;\nerrorMessage: string;\n\nconstructor(private _containerService: ContainerService, private _router: Router) { this.populateUsers(); };\n\npopulateUsers() {\n    this._containerService.getContainerUsers()\n        .subscribe(\n        users =&gt; {\n            this._containerUsers = users;  &lt;--The array is good here.\n        },\n        error =&gt; {\n            this.errorMessage = error;\n            if (error.includes(\"expired\")) {\n                alert(\"Login has expired.\");\n                this._router.navigate(['/login']);\n            }\n        });\n}\n\ngetUsers() {\n    return this._containerUsers;  &lt;--This returns null.\n}\n\nsetCurrentUserId(userId: string) {\n    this._currentUserId = userId;\n    var index = this._containerUsers.findIndex(i =&gt; i.login === userId);\n    this._currentUserName = this._containerUsers[index].name;\n    document.getElementById('userName').innerHTML = this._currentUserName;\n    document.getElementById('loggedIn').innerHTML = 'selected.';\n}\n\ngetCurrentUserId() {\n    return this._currentUserId;\n}\n\ngetCurrentUserName() {\n    return this._currentUserName;\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["javascript", "node.js", "ecmascript-6", "electron"], "answers": [{"comments": [{"owner": {"reputation": 3611, "user_id": 2742189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa2038e19735e13bf3e2be52a12eea8c?s=128&d=identicon&r=PG&f=1", "display_name": "OJ Kwon", "link": "https://stackoverflow.com/users/2742189/oj-kwon"}, "edited": false, "score": 0, "creation_date": 1515621024, "post_id": 48196665, "comment_id": 83374355, "body": "reference: <a href=\"https://github.com/electron/electron/blob/master/docs/api/web-contents.md#contentsexecutejavascriptcode-usergesture-callback\" rel=\"nofollow noreferrer\">github.com/electron/electron/blob/master/docs/api/&hellip;</a>"}, {"owner": {"reputation": 5463, "user_id": 6025788, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/179054cae7d50ca26d58411cf1ae3294?s=128&d=identicon&r=PG&f=1", "display_name": "Slbox", "link": "https://stackoverflow.com/users/6025788/slbox"}, "edited": false, "score": 0, "creation_date": 1515621191, "post_id": 48196665, "comment_id": 83374427, "body": "I&#39;m trying to get the <code>innerHTML</code> value of an element on a page, but this does not seem to be do-able with the result that this produces.  In the example shown the returned value does not come from the page running the Javascript."}, {"owner": {"reputation": 3611, "user_id": 2742189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa2038e19735e13bf3e2be52a12eea8c?s=128&d=identicon&r=PG&f=1", "display_name": "OJ Kwon", "link": "https://stackoverflow.com/users/2742189/oj-kwon"}, "reply_to_user": {"reputation": 5463, "user_id": 6025788, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/179054cae7d50ca26d58411cf1ae3294?s=128&d=identicon&r=PG&f=1", "display_name": "Slbox", "link": "https://stackoverflow.com/users/6025788/slbox"}, "edited": false, "score": 0, "creation_date": 1515621702, "post_id": 48196665, "comment_id": 83374655, "body": "how do you able to get <code>innerHTML</code> via ipc? afaik it&#39;s non-serializable that you can&#39;t send via ipc as well. Moreover, if you need to send innerHTML to other processes, I&#39;d recommend rearchitect code flow to not to those - fundamentally all process communication is based on platform specific process communication comes with a cost for large blob / frequent exchange."}, {"owner": {"reputation": 5463, "user_id": 6025788, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/179054cae7d50ca26d58411cf1ae3294?s=128&d=identicon&r=PG&f=1", "display_name": "Slbox", "link": "https://stackoverflow.com/users/6025788/slbox"}, "edited": false, "score": 0, "creation_date": 1515622271, "post_id": 48196665, "comment_id": 83374881, "body": "I&#39;m not quite sure what you mean. You can get innerHTML with something simple like: <code>mainWindow.webContents.executeJavaScript(&#39;    document.getElementById(&quot;someID&quot;).innerHTML;&#39;);</code> You just can&#39;t get the value out of the page with it..."}, {"owner": {"reputation": 4240, "user_id": 2550156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AdYzH.png?s=128&g=1", "display_name": "pergy", "link": "https://stackoverflow.com/users/2550156/pergy"}, "reply_to_user": {"reputation": 5463, "user_id": 6025788, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/179054cae7d50ca26d58411cf1ae3294?s=128&d=identicon&r=PG&f=1", "display_name": "Slbox", "link": "https://stackoverflow.com/users/6025788/slbox"}, "edited": false, "score": 1, "creation_date": 1516007765, "post_id": 48196665, "comment_id": 83502488, "body": "@Slbox You can with this: <code>contents.executeJavaScript(`       function getTest() {         return document.getElementById(&quot;test&quot;).innerHTML       }       getTest()     `).then((ans) =&gt; {       console.log(ans)     })</code>"}], "tags": [], "owner": {"reputation": 3611, "user_id": 2742189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa2038e19735e13bf3e2be52a12eea8c?s=128&d=identicon&r=PG&f=1", "display_name": "OJ Kwon", "link": "https://stackoverflow.com/users/2742189/oj-kwon"}, "is_accepted": false, "score": 0, "last_activity_date": 1515621008, "creation_date": 1515621008, "answer_id": 48196665, "question_id": 48196595, "link": "https://stackoverflow.com/questions/48196595/get-a-return-value-from-electrons-webcontents-executejavascript-with-nodeintegr/48196665#48196665", "title": "Get a return value from Electron&#39;s webContents.executeJavaScript with NodeIntegration disabled - Possible?", "body": "<p><code>executeJavascript</code> have return value:</p>\n\n<blockquote>\n  <p>Returns Promise - A promise that resolves with the result of the\n  executed code or is rejected if the result of the code is a rejected\n  promise.</p>\n</blockquote>\n\n<p>that value of your function execution result. You can't get non-serializable results still though.</p>\n"}], "owner": {"reputation": 5463, "user_id": 6025788, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/179054cae7d50ca26d58411cf1ae3294?s=128&d=identicon&r=PG&f=1", "display_name": "Slbox", "link": "https://stackoverflow.com/users/6025788/slbox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1535, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515621008, "creation_date": 1515620682, "question_id": 48196595, "link": "https://stackoverflow.com/questions/48196595/get-a-return-value-from-electrons-webcontents-executejavascript-with-nodeintegr", "title": "Get a return value from Electron&#39;s webContents.executeJavaScript with NodeIntegration disabled - Possible?", "body": "<p>I know when <a href=\"https://github.com/electron/electron/blob/master/docs/api/web-contents.md\" rel=\"nofollow noreferrer\">NodeIntegration</a> is on, you can potentially use ipcRenderer. Is there anything at all you can do to get a return value without NodeIntegration?</p>\n"}, {"tags": ["javascript", "php", "wordpress", "reactjs"], "comments": [{"owner": {"reputation": 418, "user_id": 5895412, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/1c710e5f49c2b3d2bcf681ef0b7d1fb7?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Breen", "link": "https://stackoverflow.com/users/5895412/peter-breen"}, "edited": false, "score": 0, "creation_date": 1515621735, "post_id": 48196561, "comment_id": 83374667, "body": "It looks like I could use oAuth, but that seems unnecessary, because I&#39;m not really a third party application.  How do I communicate from WordPress to React back to Wordpress that I am a logged in editor?"}], "answers": [{"comments": [{"owner": {"reputation": 418, "user_id": 5895412, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/1c710e5f49c2b3d2bcf681ef0b7d1fb7?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Breen", "link": "https://stackoverflow.com/users/5895412/peter-breen"}, "edited": false, "score": 1, "creation_date": 1515624623, "post_id": 48197069, "comment_id": 83375794, "body": "That&#39;s the exact article I was starting to work from.  Good to know I&#39;m on the right track. Thanks!"}, {"owner": {"reputation": 115, "user_id": 5251188, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-Qn8nWjiaBv4/AAAAAAAAAAI/AAAAAAAAA6M/UOPPTjZ9wfo/photo.jpg?sz=128", "display_name": "Andrew Salib", "link": "https://stackoverflow.com/users/5251188/andrew-salib"}, "reply_to_user": {"reputation": 418, "user_id": 5895412, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/1c710e5f49c2b3d2bcf681ef0b7d1fb7?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Breen", "link": "https://stackoverflow.com/users/5895412/peter-breen"}, "edited": false, "score": 1, "creation_date": 1515624817, "post_id": 48197069, "comment_id": 83375869, "body": "No worries, let us know if you have any success creating and using the nonce and if that resolves your 401 issue :)"}, {"owner": {"reputation": 418, "user_id": 5895412, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/1c710e5f49c2b3d2bcf681ef0b7d1fb7?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Breen", "link": "https://stackoverflow.com/users/5895412/peter-breen"}, "edited": false, "score": 0, "creation_date": 1515626835, "post_id": 48197069, "comment_id": 83376538, "body": "Getting closer.  I generated the nonce using the method in apppresser tutorial.  Then I set it to a window variable so React could see it.  But now, I&#39;m getting a 403 forbidden error saying that my nonce token doesn&#39;t match my cookie.  I&#39;m looking into this now."}, {"owner": {"reputation": 418, "user_id": 5895412, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/1c710e5f49c2b3d2bcf681ef0b7d1fb7?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Breen", "link": "https://stackoverflow.com/users/5895412/peter-breen"}, "edited": false, "score": 0, "creation_date": 1515701242, "post_id": 48197069, "comment_id": 83411836, "body": "It looks like the problem is that my response header doesn&#39;t contain a cookie attribute.  I&#39;m working on an alternate fix using a form submitting through admin-post.php and the post request that generates has a cookie attribute."}, {"owner": {"reputation": 115, "user_id": 5251188, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-Qn8nWjiaBv4/AAAAAAAAAAI/AAAAAAAAA6M/UOPPTjZ9wfo/photo.jpg?sz=128", "display_name": "Andrew Salib", "link": "https://stackoverflow.com/users/5251188/andrew-salib"}, "reply_to_user": {"reputation": 418, "user_id": 5895412, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/1c710e5f49c2b3d2bcf681ef0b7d1fb7?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Breen", "link": "https://stackoverflow.com/users/5895412/peter-breen"}, "edited": false, "score": 0, "creation_date": 1515713207, "post_id": 48197069, "comment_id": 83416803, "body": "Interesting... would be good to see if you can get it to work eventually"}, {"owner": {"reputation": 418, "user_id": 5895412, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/1c710e5f49c2b3d2bcf681ef0b7d1fb7?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Breen", "link": "https://stackoverflow.com/users/5895412/peter-breen"}, "edited": false, "score": 1, "creation_date": 1515778429, "post_id": 48197069, "comment_id": 83444839, "body": "I&#39;m giving up for the time being.  I&#39;ve got it working for my needs using admin-post.php instead of the API, which is fine because I&#39;m doing all my submissions from the admin panel anyways so I don&#39;t need verification."}, {"owner": {"reputation": 115, "user_id": 5251188, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-Qn8nWjiaBv4/AAAAAAAAAAI/AAAAAAAAA6M/UOPPTjZ9wfo/photo.jpg?sz=128", "display_name": "Andrew Salib", "link": "https://stackoverflow.com/users/5251188/andrew-salib"}, "reply_to_user": {"reputation": 418, "user_id": 5895412, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/1c710e5f49c2b3d2bcf681ef0b7d1fb7?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Breen", "link": "https://stackoverflow.com/users/5895412/peter-breen"}, "edited": false, "score": 0, "creation_date": 1515970491, "post_id": 48197069, "comment_id": 83492654, "body": "&quot;It is important to keep in mind that this authentication method relies on WordPress cookies. As a result, this method is only applicable when the REST API is used inside of WordPress and the current user is logged in. In addition, the current user must have the appropriate capability to perform the action being performed.&quot;  Not sure if this helps you at all, but I thought I might share anyway?  <a href=\"https://developer.wordpress.org/rest-api/using-the-rest-api/authentication/\" rel=\"nofollow noreferrer\">developer.wordpress.org/rest-api/using-the-rest-api/&hellip;</a>"}], "tags": [], "owner": {"reputation": 115, "user_id": 5251188, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-Qn8nWjiaBv4/AAAAAAAAAAI/AAAAAAAAA6M/UOPPTjZ9wfo/photo.jpg?sz=128", "display_name": "Andrew Salib", "link": "https://stackoverflow.com/users/5251188/andrew-salib"}, "is_accepted": false, "score": 1, "last_activity_date": 1515622956, "creation_date": 1515622956, "answer_id": 48197069, "question_id": 48196561, "link": "https://stackoverflow.com/questions/48196561/making-post-request-from-reactjs-app-built-on-wordpress/48197069#48197069", "title": "Making POST request from ReactJS app built on WordPress", "body": "<p>It looks like you're on the right track.</p>\n\n<p>A quick read of this: <a href=\"https://apppresser.com/wp-api-post-submission/\" rel=\"nofollow noreferrer\">https://apppresser.com/wp-api-post-submission/</a>\nshows me that all you're missing is a \"nonce\" in order for the WP API to recognise and validate your request successfully.</p>\n\n<p>In the guide above, the dev created a JS written in JQuery that sends XHR/AJAX requests to the WP API and in their plugin.php they enqueue and localize the script with some variables from WP to help with the request inside the JS.</p>\n\n<p>The takeaway here is that they used <code>wp_create_nonce('wp_rest')</code>and assigned this to a localized variable <code>nonce</code> so they could easily reference that later inside the JS and assign <code>nonce</code> to their <code>X-WP-Nonce</code> header inside the request!</p>\n\n<p>If you look into this further you might find a suitable alternative for you that will work as I'm not entirely sure how you're loading your JSX files but this guide may come in handy for you to enqueue your JSX scripts/files: <a href=\"http://blog.milandinic.com/2015/12/01/using-react-jsx-in-wordpress/\" rel=\"nofollow noreferrer\">http://blog.milandinic.com/2015/12/01/using-react-jsx-in-wordpress/</a></p>\n\n<p><strong>More information</strong></p>\n\n<p><a href=\"https://codex.wordpress.org/Function_Reference/wp_localize_script\" rel=\"nofollow noreferrer\">https://codex.wordpress.org/Function_Reference/wp_localize_script</a>\n<a href=\"https://developer.wordpress.org/reference/functions/wp_enqueue_script/\" rel=\"nofollow noreferrer\">https://developer.wordpress.org/reference/functions/wp_enqueue_script/</a></p>\n"}, {"tags": [], "owner": {"reputation": 418, "user_id": 5895412, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/1c710e5f49c2b3d2bcf681ef0b7d1fb7?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Breen", "link": "https://stackoverflow.com/users/5895412/peter-breen"}, "is_accepted": false, "score": 0, "last_activity_date": 1517850569, "creation_date": 1517850569, "answer_id": 48627861, "question_id": 48196561, "link": "https://stackoverflow.com/questions/48196561/making-post-request-from-reactjs-app-built-on-wordpress/48627861#48627861", "title": "Making POST request from ReactJS app built on WordPress", "body": "<p>I was able to solve this problem by, instead of having a straight post request from React, using a Jquery AJAX submission outside of React that uses data from a form inside React.  This caused the request to contain the necessary cookies (I don't understand exactly why this is the case)</p>\n"}], "owner": {"reputation": 418, "user_id": 5895412, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/1c710e5f49c2b3d2bcf681ef0b7d1fb7?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Breen", "link": "https://stackoverflow.com/users/5895412/peter-breen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1427, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1537351337, "creation_date": 1515620544, "question_id": 48196561, "link": "https://stackoverflow.com/questions/48196561/making-post-request-from-reactjs-app-built-on-wordpress", "title": "Making POST request from ReactJS app built on WordPress", "body": "<p>I'm building a ReactJS app on top of a WordPress backend.  The React App is running on the same domain, embedded in the WordPress site.  Most of the tutorials I've been following cover how to get data from WordPress to React.  I've been successful at this, but need to figure out how to submit data from my React app to WordPress (preferably via the REST API).</p>\n\n<p>This will be a custom admin page for logged in editors, either available in the admin panel or from the front-end.</p>\n\n<p>As an example to create a post, I'm naively trying the following function:</p>\n\n<pre><code>  saveGrid() {\n    const url = \"/wp-json/wp/v2/posts\";\n    const body = JSON.stringify({\n      \"title\":\"internet\",\n      \"content\":\"teapot\"\n    });\n\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body:body\n\n    });\n  }    \n</code></pre>\n\n<p>I get back a 401 unauthorized response.  What is the easiest way to authorize myself for a POST submission (secure solution preferred)?</p>\n"}, {"tags": ["javascript", "node.js", "angular", "express"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 2, "creation_date": 1515620711, "post_id": 48196558, "comment_id": 83374205, "body": "Your server works fine. It&#39;s your client that for some reason interprets it as a json."}, {"owner": {"reputation": 8322, "user_id": 381422, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ade86c4ec5595b82e5ecb340383743a8?s=128&d=identicon&r=PG", "display_name": "xdumaine", "link": "https://stackoverflow.com/users/381422/xdumaine"}, "edited": false, "score": 1, "creation_date": 1515620725, "post_id": 48196558, "comment_id": 83374211, "body": "It looks like that error is coming from client side code, trying to parse the response, but you&#39;re showing server side code."}, {"owner": {"reputation": 8322, "user_id": 381422, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ade86c4ec5595b82e5ecb340383743a8?s=128&d=identicon&r=PG", "display_name": "xdumaine", "link": "https://stackoverflow.com/users/381422/xdumaine"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 1, "creation_date": 1515620743, "post_id": 48196558, "comment_id": 83374225, "body": "@zerkms fastest gun in the west"}, {"owner": {"reputation": 834, "user_id": 9104819, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1e85af1e7024dc8acb23cb461cbcb96e?s=128&d=identicon&r=PG&f=1", "display_name": "null", "link": "https://stackoverflow.com/users/9104819/null"}, "edited": false, "score": 0, "creation_date": 1515621470, "post_id": 48196558, "comment_id": 83374549, "body": "It seems like you guys are right but when I set <code>&#39;Content-Type&#39;: &#39;image&#47;jpeg&#39;</code> still same issue."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1515621512, "post_id": 48196558, "comment_id": 83374563, "body": "@null it&#39;s impossible to suggest anything else unless you provide your client code"}, {"owner": {"reputation": 8322, "user_id": 381422, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ade86c4ec5595b82e5ecb340383743a8?s=128&d=identicon&r=PG", "display_name": "xdumaine", "link": "https://stackoverflow.com/users/381422/xdumaine"}, "edited": false, "score": 0, "creation_date": 1515622661, "post_id": 48196558, "comment_id": 83375036, "body": "@null it&#39;s not the content type header you need to change, it&#39;s what&#39;s done with the data when it comes back (sometimes referred to as dataType from jquery days). What is <code>this.http</code> in your client code? Is that a module for making http requests you&#39;re pulling in? You&#39;d have to look at what happens in <code>this.http.get</code> when the result returns."}, {"owner": {"reputation": 834, "user_id": 9104819, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1e85af1e7024dc8acb23cb461cbcb96e?s=128&d=identicon&r=PG&f=1", "display_name": "null", "link": "https://stackoverflow.com/users/9104819/null"}, "edited": false, "score": 0, "creation_date": 1515939399, "post_id": 48196558, "comment_id": 83483390, "body": "I still haven&#39;t got this working. Anyone who can help me with this out?"}], "owner": {"reputation": 834, "user_id": 9104819, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1e85af1e7024dc8acb23cb461cbcb96e?s=128&d=identicon&r=PG&f=1", "display_name": "null", "link": "https://stackoverflow.com/users/9104819/null"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1251, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515766440, "creation_date": 1515620538, "last_edit_date": 1515766440, "question_id": 48196558, "link": "https://stackoverflow.com/questions/48196558/keep-getting-syntaxerror-unexpected-token-in-json-at-position-0-at-json-parse", "title": "keep getting SyntaxError: Unexpected token \ufffd in JSON at position 0 at JSON.parse", "body": "<p>I am trying to send a jpeg image using expressjs api. But I am keep getting below error.</p>\n\n<pre><code>HttpErrorResponse {headers: HttpHeaders, status: 200, statusText: \"OK\", url: \"http://localhost:3000/api/1.0/profile/avatar\", ok: false, \u2026}\nerror\n:\nerror\n:\nSyntaxError: Unexpected token \ufffd in JSON at position 0 at JSON.parse (&lt;anonymous&gt;) at XMLHttpRequest.onLoad (http://localhost:8100/build/vendor.js:48937:37) at t.invokeTask (http://localhost:8100/build/polyfills.js:3:15660) at Object.onInvokeTask (http://localhost:8100/build/vendor.js:4973:33) at t.invokeTask (http://localhost:8100/build/polyfills.js:3:15581) at r.runTask (http://localhost:8100/build/polyfills.js:3:10834) at e.invokeTask [as invoke] (http://localhost:8100/build/polyfills.js:3:16794) at p (http://localhost:8100/build/polyfills.js:2:27648) at XMLHttpRequest.v (http://localhost:8100/build/polyfills.js:2:27893)\ntext\n:\n\"\ufffd\ufffd\ufffd\ufffdJFIF\ufffd\ufffd\ufffd   \n( %!1!%3+...383,7(-.+\u21b5\u21b5\u21b5+++++++++++++++-+++++++++++++++++++++++++++++++++++\ufffd\ufffd\ufffd\ufffd\"\ufffd\ufffd\ufffd\ufffd7!1AQaq\ufffd\ufffd\ufffd\"23\ufffd4BRr\ufffd\ufffd\ufffd\ufffd#b\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd?\ufffd\ufffdN\ufffd\ufffd:0b\ufffd\ufffd[\ufffd\u01fdW_\u074f\ufffdg\ufffd\u061a\ufffd\ufffdez\ufffd\ufffd\ufffdMgi\ufffd\u21b5\ufffd\ufffdr\ufffd\ufffdFw&amp;\":\ufffd\ufffd\ufffd\ufffdRfr\ufffdG\ufffd\ufffd+\ufffdr\ufffd\ufffd]^\ufffd~\ufffd\ufffd]qD{\ufffd\ufffd93\\\ufffd6\ufffd\ufffd\ufffd/\ufffd\ufffd\ufffd3\ufffdu\ufffd\ufffd\ufffd n\ufffd\ufffdf~M5O\ufffd1\u077d]\ufffd\ufffdT\ufffdumN\ufffdS\ufffd\ufffd\ufffd\ufffd\ufffd\ufdb1;\ufffd\ufffd\ufffdf.TN(\ufffd*\ufffd\ufffd[@.\u070bV\ufffd\ufffd\ufffd\ufffdP\ufffd\ufffd\ufffd\\\u03bd)\ufffd\ufffd\ufffd3?\ufffd#i\ufffd_L\ufffd\ufffd\ufffd\ufffd},^\ufffd3\ufffd\ufffd:\ufffdn\ufffd\u023bn&amp;\ufffd\ufffdK\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdP\ufffd\ufffd\u02a3\ufffdz'*\ufffdj:X\\\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd(\ufffd\ufffd=S\ufffd\ufffdM9Y\ufffd\u0757\ufffd \ufffd2q?\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd^XF\ufffd\ufffd\ufffd^\ufffdi\ufffd\ufffd\ufffdV\ufffdG-'\ufffd\ufffd\u21b5 O\ufffdMWziNQ\ufffd\ufffd8i\ufffdt\ufffdq\ufffd\ufffd\ufffd\ufffdz3\ufffd\ufffd.\ufffd/\ufffd\u02af\ufffdj\ufffd\ufffd\ufffd~\ufffdO|\ufffd$\ufffd\ufffd/F\ufffdU\ufffd\ufffd\ufffd=S\ufffd\ufffd[\ufffd\ufffdLW\u0122\ufffdm{\ufffdO-\ufffdA\ufffdk\ufffdt\ufffd9\ufffdD\u03de\ufffd\u05ad\ufffd[\ufffd\ufffdr[\ufffd\u060c=Q\ufffd3\ufffd\ufffd\ufffd \ufffdZ\ufffdt\ufffdQ\ufffdI\ue77f\ufffd\ufffd\ufffd\ufffd~\ufffd\ufffd\ufffd[Ld4\ufffdj\ufffd\ufffdx\ufffd\ufffdn\ufffdV\ufffd5O(\ufffd;\ufffd\ufffd\ufffd\ufffd&gt;;^\ufffd;\ufffd=\ufffd\ufffd\ufffd7\ufffd\ufffd3Nt\ufffd\ufffd~\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdLG\ufffd\ufffd0\n\u21b5b\ufffd]=.\ufffd\ufffd\ufffd\ufffd|\ufffdqt\ufffd\ufffd\ufffd\ufffd67ZcL\ufffdgH\ufffd&amp;\ufffd\ufffd/r*\ufffdM1\ufffdD\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd{\ufffdT\ufffdY\ufffdy\ufffd \u056a\ufffd\ufffd\u061d\uda21\uddd0p\ufffd\ufffd\ufffd\ufffd\ufffdn\u048f\ufffdnt19O8\ufffd\u01d2\ufffd.#E\ufffd\ufffd:\ufffd\n:\u03cfRu\ufffd}w\ufffdr\ufffd\ufffd\ufffd\ufffdO\ufffd\ufffd\ufffd\ufffd\u0729\ufffd\ufffd\ufffdL\ufffd\ufffd\ufffd\ufffd\ufffd\\\ufffd2z')\ufffd~K\\m7\ufffd\ufffd\ufffdb+\ufffd\u03f9\u024c\ufffd\ufffd\ufffd;8\ufffd\ufffd|3\ufffduU\ufffd7\ufffd\ufffdT\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd&gt;`\ufffd9\ufffdi\ufffd:\ufffd\ufffd\u0148\ufffdTZ\u048f~\ufffd\u037c\ufffdo\ufffd\ufffd|s\ufffd?\ufffd\ufffd#\ufffd&lt;G\ufffd\u0391=*\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdF\ufffd\ufffd}e\ufffd\ufffdrz\ufffdh\ufffd\ufffd\ufffd]\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd^M\ufffd8\ufffdN\ufffd\ufffd\u02f65\ufffd-\u04c0~\ufffd\ufffd\ufffd\ufffd9\ufffd11\ufffdO\ufffd[\ufffdmU\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdO-1\ufffd\ufffd\ufffd\ufffdS-\u070b\ufffd\ufffdnbc\ufffd\ufffd1\ufffd\ufffdp\ufffd|U\ufffd\ufffdJ\ufffd\ufffd\ufffd\ufffd'*i7=\ufffd\ufffdL\ufffd\u049f\ufffdE9:\u06eemW\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd&lt;db#*\ufffd\ufffd\ufffd\ufffd\ufffd$;L\ufffdk\ufffd\ufffdx\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdO\ufffd@d#p\ufffd\ufffd\ufffd\"\n__proto__\n:\nObject\nheaders\n:\nHttpHeaders {normalizedNames: Map(0), lazyUpdate: null, lazyInit: \u0192}\nmessage\n:\n\"Http failure during parsing for http://localhost:3000/api/1.0/profile/avatar\"\nname\n:\n\"HttpErrorResponse\"\nok\n:\nfalse\nstatus\n:\n200\nstatusText\n:\n\"OK\"\nurl\n:\n\"http://localhost:3000/api/1.0/profile/avatar\"\n</code></pre>\n\n<p>Below is my code. What I am trying to do here is that I get an image from directory and send send it over after writing head to it. I am not sure why am I getting this error. Any idea how to overcome this?</p>\n\n<pre><code>let imagepath = __dirname + '/../images/avatar.jpeg';\nlet image = fs.readFileSync(imagepath);\nlet mime = fileType(image).mime;\n\nconsole.log(image);\n\nresponse.writeHead(200, {'Content-Type': mime });\nresponse.end(image, 'binary');\n</code></pre>\n\n<p>Here is update for my client side code.</p>\n\n<pre><code>    let myHeaders = new HttpHeaders({\n        'Content-Type': 'image/jpeg',\n        'withCredentials': 'true',\n        'Authorization': localStorage.getItem('token')\n    });\n\n    return this.http.get('http://localhost:3000/api/1.0/profile/avatar', { headers: myHeaders });\n</code></pre>\n\n<p>UPDATE for this question.</p>\n\n<p>So I replaced the <code>this.http.get</code> with following</p>\n\n<pre><code>return this.http.get('http://localhost:3000/api/1.0/profile/avatar', { headers: myHeaders, responseType: 'blob', }).map(blob =&gt; {\n        let urlCreator = window.URL;\n        return this.sanitizer.bypassSecurityTrustUrl(urlCreator.createObjectURL(blob));\n    });\n</code></pre>\n\n<p>which is returning response which is base64. Now I tried to render that base64 image using <code>img</code> tag but somehow it is not rendering. Below is the code I am using for rendering.</p>\n\n<pre><code>this.profileService.getUserAvatar().subscribe(avatar =&gt; {\n            response[0]['image'] = 'data:image/jpeg;base64,' + btoa(avatar);\n        }, error =&gt; {\n            console.log(error);\n        });\n\n  this.profile = response; // this.profile works fine. when I console.log this.profile then is show property image which I use in template below to render.\n</code></pre>\n\n<p>here is the html</p>\n\n<pre><code>&lt;div *ngFor=\"let p of profile\"&gt;\n        &lt;img [src]=\"p.image\"&gt;\n    &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 11, "user_id": 9200854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42fd10884747554f661ab997d18fbfc9?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandra", "link": "https://stackoverflow.com/users/9200854/alexandra"}, "reply_to_user": {"reputation": 66169, "user_id": 4248328, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c79397906b2ce54ceae05c89fd5f024d?s=128&d=identicon&r=PG&f=1", "display_name": "Serving Quarantine period", "link": "https://stackoverflow.com/users/4248328/serving-quarantine-period"}, "edited": false, "score": 0, "creation_date": 1515651814, "post_id": 48196554, "comment_id": 83382807, "body": "and what book  can you advice me to read about javascript and jQuery?"}, {"owner": {"reputation": 11, "user_id": 9200854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42fd10884747554f661ab997d18fbfc9?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandra", "link": "https://stackoverflow.com/users/9200854/alexandra"}, "reply_to_user": {"reputation": 66169, "user_id": 4248328, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c79397906b2ce54ceae05c89fd5f024d?s=128&d=identicon&r=PG&f=1", "display_name": "Serving Quarantine period", "link": "https://stackoverflow.com/users/4248328/serving-quarantine-period"}, "edited": false, "score": 0, "creation_date": 1515653000, "post_id": 48196554, "comment_id": 83383282, "body": "ok,thank you very much"}, {"owner": {"reputation": 66169, "user_id": 4248328, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c79397906b2ce54ceae05c89fd5f024d?s=128&d=identicon&r=PG&f=1", "display_name": "Serving Quarantine period", "link": "https://stackoverflow.com/users/4248328/serving-quarantine-period"}, "edited": false, "score": 0, "creation_date": 1515659952, "post_id": 48196554, "comment_id": 83386456, "body": "For learning you can go for . 1:-<a href=\"http://api.jquery.com/\" rel=\"nofollow noreferrer\">api.jquery.com</a>  2:- <a href=\"https://www.w3schools.com/\" rel=\"nofollow noreferrer\">w3schools.com</a>  3:- <a href=\"https://www.lynda.com/jQuery-tutorials/jQuery-Essential-Training/494389-2.html\" rel=\"nofollow noreferrer\">lynda.com/jQuery-tutorials/jQuery-Essential-Training/&hellip;</a>  . Also you can refer any book which started javascript/jQuery from basics and move towards professional.Try to read and masters javascripts first. jQuery will become very very very easy to lear after that."}], "answers": [{"tags": [], "owner": {"reputation": 66169, "user_id": 4248328, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c79397906b2ce54ceae05c89fd5f024d?s=128&d=identicon&r=PG&f=1", "display_name": "Serving Quarantine period", "link": "https://stackoverflow.com/users/4248328/serving-quarantine-period"}, "is_accepted": true, "score": 0, "last_activity_date": 1515623708, "creation_date": 1515623708, "answer_id": 48197212, "question_id": 48196554, "link": "https://stackoverflow.com/questions/48196554/how-do-i-increment-data-attributesint-using-jquery/48197212#48197212", "title": "How do I increment data attributes(int) using jquery?", "body": "<p>You can do it like below:-</p>\n\n<p>check pre-existing <code>li</code> length and add 1 to it and add it as data-id of newly created <code>li</code></p>\n\n<pre><code>var newLi = $('&lt;li data-id=\"'+($('li').length+1)+'\"&gt;' + value + '&lt;/li&gt;');// check pre-existing `li` length and add 1 to it and add it as data-id of newly created `li`\n</code></pre>\n\n<p>Working snippet:-</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\".add\").click(function() {\r\n  var $val = $(\".taskk\");\r\n  var value = $val.val();\r\n  if(value === \"\") {\r\n    $(\".error\").text(\"Fill in the task\");\r\n  } else {\r\n    $(\".error\").text(\"\");\r\n    var newLi = $('&lt;li data-id=\"'+($('li').length+1)+'\"&gt;' + value + '&lt;/li&gt;');\r\n    $('.toDo ol').append((newLi));\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n    background-color: #34545E;\r\n}\r\n.wrapper {\r\n    max-width: 1200px;\r\n    width: 100%;\r\n    margin: auto;\r\n}\r\n.flexbox {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin-top: 100px;\r\n}\r\n.box {\r\n    min-width:  280px;\r\n    min-height: 250px;\r\n    border: 2px solid transparent;\r\n    background-color: grey;\r\n    \r\n}\r\nh1 {\r\n    text-align: center;\r\n    background-color: aliceblue;\r\n    padding: 5px;\r\n}\r\nform {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-top: 40px;\r\n   \r\n}\r\ninput[type=\"text\"] {\r\n    height: 80px;\r\n}\r\ninput[type=\"button\"], button {\r\n    padding: 10px;\r\n    width: 100px;\r\n    margin-top: 20px;\r\n    background-color: #000;\r\n    border: 1px solid transparent;\r\n    color: #fff;\r\n    font-weight: bold;\r\n    cursor: pointer;\r\n}\r\nol {\r\n    list-style-position: inside;\r\n}\r\nol li {\r\n    padding: 7px;\r\n    margin-top: 2px;\r\n    word-wrap: break-word;\r\n}\r\n.toDo ol li {\r\n    background-color: #ffffff;\r\n}\r\n.compl ol li {\r\n    background-color: #F35369;\r\n}\r\n.draft ol li {\r\n    background-color: #ffffff;\r\n    color: grey;\r\n    opacity: 0.8;\r\n    text-decoration: line-through;\r\n}\r\n.delete {\r\n    background-color: #000000;\r\n}\r\n.error {\r\n    padding-top: 20px;\r\n    color: red;\r\n\r\n}\r\n.add {\r\n    padding: 20px;\r\n    background-color: black;\r\n    margin-top: 20px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"wrapper\"&gt;\r\n    &lt;div class=\"flexbox\"&gt;\r\n        &lt;div class=\"box1\"&gt;\r\n            &lt;h1&gt;To do list&lt;/h1&gt;\r\n            &lt;div class=\"box toDo\"&gt;\r\n                &lt;ol&gt;\r\n\r\n                &lt;/ol&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"box2\"&gt;\r\n            &lt;h1&gt;Drafts&lt;/h1&gt;\r\n            &lt;div class=\"box draft\"&gt;\r\n                &lt;ol&gt;\r\n\r\n                &lt;/ol&gt;\r\n            &lt;/div&gt;\r\n            &lt;button type=\"submit\"&gt;Delete&lt;/button&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=\"box3\"&gt;\r\n            &lt;h1&gt;Add a task&lt;/h1&gt;\r\n            &lt;div class=\"box\"&gt;\r\n                &lt;p class=\"error\"&gt;&lt;/p&gt;\r\n                &lt;form action=\"\" method=\"post\"&gt;\r\n                    &lt;input type=\"text\" name=\"name\" placeholder=\"Description\" class=\"taskk\"&gt;\r\n                    &lt;input type=\"button\" name=\"add\" value=\"Add task\" class=\"add\"&gt;\r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 11, "user_id": 9200854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42fd10884747554f661ab997d18fbfc9?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandra", "link": "https://stackoverflow.com/users/9200854/alexandra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 383, "favorite_count": 0, "accepted_answer_id": 48197212, "answer_count": 1, "score": 0, "last_activity_date": 1515648535, "creation_date": 1515620514, "last_edit_date": 1515648535, "question_id": 48196554, "link": "https://stackoverflow.com/questions/48196554/how-do-i-increment-data-attributesint-using-jquery", "title": "How do I increment data attributes(int) using jquery?", "body": "<p>I want to add somethin y input in my ol, i do it, \nwhen i write something in input filed and click add \ni create li, then i want to add to li data attribute \nwhich will increment, when will create new li in the picture there is a code[1]: <a href=\"https://i.stack.imgur.com/oAr6V.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/oAr6V.png</a></p>\n\n<p><strong><em>this is what i tried so far (data-id is not adding to newlt created li's):-</em></strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\".add\").click(function() {\r\n  var $val = $(\".taskk\");\r\n  var value = $val.val();\r\n  if(value === \"\") {\r\n      $(\".error\").text(\"Fill in the task\");\r\n  } else {\r\n    $(\".error\").text(\"\");\r\n    var newLi = $('&lt;li&gt;' + value + '&lt;/li&gt;');\r\n    $('.toDo ol').append((newLi));\r\n\r\n    /*newLi.each(function() {\r\n        $(this).attr(\"data-id\", i++);\r\n        console.log(i++);\r\n        $('.toDo ol').append((newLi));\r\n    });\r\n    $('.toDo ol').append((newLi)); */\r\n    }\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n    background-color: #34545E;\r\n}\r\n.wrapper {\r\n    max-width: 1200px;\r\n    width: 100%;\r\n    margin: auto;\r\n}\r\n.flexbox {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin-top: 100px;\r\n}\r\n.box {\r\n    min-width:  280px;\r\n    min-height: 250px;\r\n    border: 2px solid transparent;\r\n    background-color: grey;\r\n    \r\n}\r\nh1 {\r\n    text-align: center;\r\n    background-color: aliceblue;\r\n    padding: 5px;\r\n}\r\nform {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-top: 40px;\r\n   \r\n}\r\ninput[type=\"text\"] {\r\n    height: 80px;\r\n}\r\ninput[type=\"button\"], button {\r\n    padding: 10px;\r\n    width: 100px;\r\n    margin-top: 20px;\r\n    background-color: #000;\r\n    border: 1px solid transparent;\r\n    color: #fff;\r\n    font-weight: bold;\r\n    cursor: pointer;\r\n}\r\nol {\r\n    list-style-position: inside;\r\n}\r\nol li {\r\n    padding: 7px;\r\n    margin-top: 2px;\r\n    word-wrap: break-word;\r\n}\r\n.toDo ol li {\r\n    background-color: #ffffff;\r\n}\r\n.compl ol li {\r\n    background-color: #F35369;\r\n}\r\n.draft ol li {\r\n    background-color: #ffffff;\r\n    color: grey;\r\n    opacity: 0.8;\r\n    text-decoration: line-through;\r\n}\r\n.delete {\r\n    background-color: #000000;\r\n}\r\n.error {\r\n    padding-top: 20px;\r\n    color: red;\r\n\r\n}\r\n.add {\r\n    padding: 20px;\r\n    background-color: black;\r\n    margin-top: 20px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"wrapper\"&gt;\r\n  &lt;div class=\"flexbox\"&gt;\r\n      &lt;div class=\"box1\"&gt;\r\n          &lt;h1&gt;To do list&lt;/h1&gt;\r\n          &lt;div class=\"box toDo\"&gt;\r\n              &lt;ol&gt;\r\n\r\n              &lt;/ol&gt;\r\n          &lt;/div&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=\"box2\"&gt;\r\n          &lt;h1&gt;Drafts&lt;/h1&gt;\r\n          &lt;div class=\"box draft\"&gt;\r\n              &lt;ol&gt;\r\n\r\n              &lt;/ol&gt;\r\n          &lt;/div&gt;\r\n          &lt;button type=\"submit\"&gt;Delete&lt;/button&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;div class=\"box3\"&gt;\r\n          &lt;h1&gt;Add a task&lt;/h1&gt;\r\n          &lt;div class=\"box\"&gt;\r\n              &lt;p class=\"error\"&gt;&lt;/p&gt;\r\n              &lt;form action=\"\" method=\"post\"&gt;\r\n                  &lt;input type=\"text\" name=\"name\" placeholder=\"Description\" class=\"taskk\"&gt;\r\n                  &lt;input type=\"button\" name=\"add\" value=\"Add task\" class=\"add\"&gt;\r\n              &lt;/form&gt;\r\n          &lt;/div&gt;\r\n\r\n      &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery", "events", "ember.js", "clipboarddata"], "comments": [{"owner": {"reputation": 21, "user_id": 7613436, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sW3tMm3Z_GU/AAAAAAAAAAI/AAAAAAAAAFw/s4Gr2M7hzCQ/photo.jpg?sz=128", "display_name": "Adam Beshir", "link": "https://stackoverflow.com/users/7613436/adam-beshir"}, "edited": false, "score": 0, "creation_date": 1515620637, "post_id": 48196541, "comment_id": 83374170, "body": "FYI the doc entry for customEvents is the same for 2.6 as 2.15"}], "answers": [{"tags": [], "owner": {"reputation": 6587, "user_id": 1313855, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3f799b9b57c839cc3c5e978080466103?s=128&d=identicon&r=PG", "display_name": "Steve H.", "link": "https://stackoverflow.com/users/1313855/steve-h"}, "is_accepted": false, "score": 1, "last_activity_date": 1515794680, "last_edit_date": 1515794680, "creation_date": 1515793983, "answer_id": 48234517, "question_id": 48196541, "link": "https://stackoverflow.com/questions/48196541/capture-paste-content-in-ember-2-6/48234517#48234517", "title": "Capture Paste Content in Ember 2.6", "body": "<p>Your mileage may vary, but I am capturing a paste event like this:</p>\n\n<pre><code>if (event.originalEvent.clipboardData) {\n  items = event.originalEvent.clipboardData.getData('Text').split('\\r');\n} else {\n  items = window.clipboardData.getData('Text').split('\\r');\n}\n</code></pre>\n\n<p>The <code>split</code> is assuming a multi-line paste (so each line is a different item) for my use case, but it should work the same if you don't have multiple lines in the paste.</p>\n"}], "owner": {"reputation": 21, "user_id": 7613436, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sW3tMm3Z_GU/AAAAAAAAAAI/AAAAAAAAAFw/s4Gr2M7hzCQ/photo.jpg?sz=128", "display_name": "Adam Beshir", "link": "https://stackoverflow.com/users/7613436/adam-beshir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1515794680, "creation_date": 1515620451, "question_id": 48196541, "link": "https://stackoverflow.com/questions/48196541/capture-paste-content-in-ember-2-6", "title": "Capture Paste Content in Ember 2.6", "body": "<p>I have an Ember App (Ember 2.6) and I am trying to capture paste data before it is pasted into a input component. I have tried registering a custom event in my Ember App following the docs.</p>\n\n<p><a href=\"https://emberjs.com/api/ember/2.15/classes/Ember.Application/properties/customEvents?anchor=customEvents&amp;show=inherited%2Cprotected%2Cprivate%2Cdeprecated\" rel=\"nofollow noreferrer\">https://emberjs.com/api/ember/2.15/classes/Ember.Application/properties/customEvents?anchor=customEvents&amp;show=inherited%2Cprotected%2Cprivate%2Cdeprecated</a></p>\n\n<p>Then in my component...</p>\n\n<pre><code>paste: function(event) {\n    console.log(event.originalEvent.clipboardData.getData('text/plain'))\n}\n</code></pre>\n\n<p>This returns an empty string when pasting \"foo\".</p>\n\n<p>I also tried this with jquery...</p>\n\n<pre><code>$('.table').on('paste',function(event) {\n  console.log(event.originalEvent.clipboardData.getData('text/plain'))\n}\n</code></pre>\n\n<p>This also returns an empty string.</p>\n\n<p>I have read other stack overflow answers surrounding this issue and haven't found a solution that works for me. I have tried...</p>\n\n<pre><code>event.clipboardData.getData('text/plain')\nwindow.clipboardData..getData('text/plain')\n</code></pre>\n\n<p>For getData() I have also tried...</p>\n\n<pre><code>'text', and 'Text'\n</code></pre>\n\n<p>What do I do?</p>\n"}, {"tags": ["javascript", "jquery", "css", "anchor", "lightbox"], "comments": [{"owner": {"reputation": 11914, "user_id": 1592845, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/71827032ba1a3342c77c1c232f26f3ae?s=128&d=identicon&r=PG", "display_name": "SaidbakR", "link": "https://stackoverflow.com/users/1592845/saidbakr"}, "edited": false, "score": 0, "creation_date": 1515620823, "post_id": 48196509, "comment_id": 83374264, "body": "What is the problem? If I could understand well, your problem is what you called <b>history entries</b>! What is this problem and what could it cause bad?"}, {"owner": {"reputation": 171, "user_id": 4333321, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/aea491f2f55c40e6c7bd1c5f09aef648?s=128&d=identicon&r=PG&f=1", "display_name": "nr159", "link": "https://stackoverflow.com/users/4333321/nr159"}, "reply_to_user": {"reputation": 11914, "user_id": 1592845, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/71827032ba1a3342c77c1c232f26f3ae?s=128&d=identicon&r=PG", "display_name": "SaidbakR", "link": "https://stackoverflow.com/users/1592845/saidbakr"}, "edited": false, "score": 0, "creation_date": 1515620961, "post_id": 48196509, "comment_id": 83374327, "body": "@SaidbakR it\u2019s because when an anchor is clicked on within the page, it adds an additional entry to the browser\u2019s history, which I do not want."}, {"owner": {"reputation": 11914, "user_id": 1592845, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/71827032ba1a3342c77c1c232f26f3ae?s=128&d=identicon&r=PG", "display_name": "SaidbakR", "link": "https://stackoverflow.com/users/1592845/saidbakr"}, "edited": false, "score": 0, "creation_date": 1515621314, "post_id": 48196509, "comment_id": 83374482, "body": "Do you mean the image src URL?"}, {"owner": {"reputation": 171, "user_id": 4333321, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/aea491f2f55c40e6c7bd1c5f09aef648?s=128&d=identicon&r=PG&f=1", "display_name": "nr159", "link": "https://stackoverflow.com/users/4333321/nr159"}, "reply_to_user": {"reputation": 11914, "user_id": 1592845, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/71827032ba1a3342c77c1c232f26f3ae?s=128&d=identicon&r=PG", "display_name": "SaidbakR", "link": "https://stackoverflow.com/users/1592845/saidbakr"}, "edited": false, "score": 1, "creation_date": 1515621393, "post_id": 48196509, "comment_id": 83374514, "body": "@SaidbakR No, the page&#39;s url gets appended when I click on an anchor link, not the image&#39;s."}], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 4333321, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/aea491f2f55c40e6c7bd1c5f09aef648?s=128&d=identicon&r=PG&f=1", "display_name": "nr159", "link": "https://stackoverflow.com/users/4333321/nr159"}, "edited": false, "score": 1, "creation_date": 1515621476, "post_id": 48196700, "comment_id": 83374552, "body": "Hmm, ok... But this doesn&#39;t activate the lightbox at all."}], "tags": [], "owner": {"reputation": 556, "user_id": 877131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7a7ec09452f3af0eea0cc32186fb07f?s=128&d=identicon&r=PG", "display_name": "Ersin Demirtas", "link": "https://stackoverflow.com/users/877131/ersin-demirtas"}, "is_accepted": false, "score": 0, "last_activity_date": 1515621134, "creation_date": 1515621134, "answer_id": 48196700, "question_id": 48196509, "link": "https://stackoverflow.com/questions/48196509/is-there-an-alternative-method-to-replace-these-anchor-links/48196700#48196700", "title": "Is There an Alternative Method to Replace These Anchor Links?", "body": "<p>I accidentally posted this answer but, you can remove anchor tags and and just add cursor: pointer; css to your .pic class.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.pic &gt; img').click(function() {\r\n  var srcToCopy = $(this).attr('src');\r\n  $('body').find('.imgsrc').attr('src', srcToCopy);\r\n  $('body').addClass('no-scroll');\r\n});\r\n\r\n$('#customlightbox-controls').on('click', function() {\r\n  $('body').removeClass('no-scroll');\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  margin: 0;\r\n  padding: 0;\r\n  border: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\nbody.no-scroll {\r\n  overflow: hidden;\r\n}\r\n\r\n.pic,\r\n#imgsrc {\r\n  display: inline-block;\r\n  cursor: pointer;\r\n}\r\n\r\nimg {\r\n  width: 100px\r\n}\r\n\r\na {\r\n  display: inline-block;\r\n  line-height: 0;\r\n}\r\n\r\n.container {\r\n  display: block;\r\n  width: 100%;\r\n  line-height: 0;\r\n}\r\n\r\n.customlightbox {\r\n  top: 0%;\r\n  bottom: 0%;\r\n  box-sizing: border-box;\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  z-index: -5;\r\n  opacity: 0;\r\n}\r\n\r\n.customlightbox-imgwrap {\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 20px;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  text-align: center;\r\n}\r\n\r\n.customlightbox img {\r\n  width: auto;\r\n  margin: auto;\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n  opacity: 0;\r\n  position: relative;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n}\r\n\r\n#customlightbox-controls {\r\n  box-sizing: border-box;\r\n  position: fixed;\r\n  height: 50px;\r\n  width: 50px;\r\n  top: -50px;\r\n  right: -3px;\r\n  z-index: 5;\r\n  border-left: 2px solid white;\r\n  border-bottom: 2px solid white;\r\n  opacity: .7;\r\n}\r\n\r\n#close-customlightbox {\r\n  display: block;\r\n  position: absolute;\r\n  overflow: hidden;\r\n  height: 30px;\r\n  width: 30px;\r\n  right: 10px;\r\n  top: 10px;\r\n  -webkit-transform: rotate(45deg);\r\n  -moz-transform: rotate(45deg);\r\n  -ms-transform: rotate(45deg);\r\n  -o-transform: rotate(45deg);\r\n  transform: rotate(45deg);\r\n}\r\n\r\n#close-customlightbox:before {\r\n  content: \"\";\r\n  display: block;\r\n  position: absolute;\r\n  height: 0px;\r\n  width: 2px;\r\n  left: 14px;\r\n  top: 0;\r\n  background: white;\r\n  border-radius: 2px;\r\n}\r\n\r\n#close-customlightbox:after {\r\n  content: \"\";\r\n  display: block;\r\n  position: absolute;\r\n  width: 0px;\r\n  height: 2px;\r\n  top: 14px;\r\n  left: 0;\r\n  background: white;\r\n  border-radius: 2px;\r\n}\r\n\r\n.customlightbox:target {\r\n  z-index: 4;\r\n  opacity: 1;\r\n  display: inline-block;\r\n}\r\n\r\n.customlightbox:target img {\r\n  opacity: 1;\r\n}\r\n\r\n.customlightbox:target~#customlightbox-controls {\r\n  top: -3px;\r\n}\r\n\r\n.customlightbox:target~#customlightbox-controls #close-customlightbox:after {\r\n  width: 30px;\r\n}\r\n\r\n.customlightbox:target~#customlightbox-controls #close-customlightbox:before {\r\n  height: 30px;\r\n}\r\n\r\n.lb-animate {\r\n  -webkit-transition: 0.5s ease-in-out;\r\n  -moz-transition: 0.5s ease-in-out;\r\n  -ms-transition: 0.5s ease-in-out;\r\n  -o-transition: 0.5s ease-in-out;\r\n  transition: 0.5s ease-in-out;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;!-- Lightbox Instance 1 --&gt;\r\n&lt;div class=\"container\"&gt;\r\n    &lt;div class=\"pic\"&gt;\r\n      &lt;img src=\"https://syedimranrocks.files.wordpress.com/2012/09/flower01low1.png\"&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;!-- Lightbox Instance 2 --&gt;\r\n&lt;div class=\"container\"&gt;\r\n    &lt;div class=\"pic\"&gt;\r\n      &lt;img src=\"http://downloadicons.net/sites/default/files/Rose-Coral-Icon-906534.png\"&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;!-- Lightbox Instance 3 --&gt;\r\n&lt;div class=\"container\"&gt;\r\n    &lt;div class=\"pic\"&gt;\r\n      &lt;img src=\"https://images.vexels.com/media/users/3/136645/isolated/lists/54b1517db1906889a6971939de45d2a8-purple-sunflower-cartoon.png\"&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;!-- Lightbox Prompt --&gt;\r\n&lt;div class=\"customlightbox lb-animate\" id=\"view\"&gt;\r\n  &lt;div class=\"customlightbox-imgwrap\"&gt;\r\n    &lt;img class=\"imgsrc\" id=\"customlightbox-img\" src=\"\"&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;div id=\"customlightbox-controls\" class=\"lb-animate\"&gt;\r\n  &lt;a id=\"close-customlightbox\" class=\"lb-animate\" href=\"#!\"&gt;&lt;/a&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 171, "user_id": 4333321, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/aea491f2f55c40e6c7bd1c5f09aef648?s=128&d=identicon&r=PG&f=1", "display_name": "nr159", "link": "https://stackoverflow.com/users/4333321/nr159"}, "edited": false, "score": 0, "creation_date": 1515633481, "post_id": 48198506, "comment_id": 83378275, "body": "thanks for checking my post. I appreciate the suggestion, but it doesn&#39;t seem to work when I applied it to the snippet... Still stumped."}], "tags": [], "owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "is_accepted": false, "score": 0, "last_activity_date": 1515633161, "creation_date": 1515633161, "answer_id": 48198506, "question_id": 48196509, "link": "https://stackoverflow.com/questions/48196509/is-there-an-alternative-method-to-replace-these-anchor-links/48198506#48198506", "title": "Is There an Alternative Method to Replace These Anchor Links?", "body": "<p>You could just prevent the default action and not add the hash to the url (or history)</p>\n\n<pre><code>$('a[href^=\"#\"]').click(function(evt){\n   evt.preventDefault()\n});\n</code></pre>\n\n<p>Has been a long time since I have used Lightbox and not sure if this will conflict with it's features or not</p>\n"}], "owner": {"reputation": 171, "user_id": 4333321, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/aea491f2f55c40e6c7bd1c5f09aef648?s=128&d=identicon&r=PG&f=1", "display_name": "nr159", "link": "https://stackoverflow.com/users/4333321/nr159"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 1, "closed_date": 1515872415, "answer_count": 2, "score": 1, "last_activity_date": 1515720176, "creation_date": 1515620353, "last_edit_date": 1515621285, "question_id": 48196509, "link": "https://stackoverflow.com/questions/48196509/is-there-an-alternative-method-to-replace-these-anchor-links", "closed_reason": "Duplicate", "title": "Is There an Alternative Method to Replace These Anchor Links?", "body": "<p>I have developed a lightbox feature, made with CSS for the most part. Though it functions well at a glance, I've been facing some complications with the way that it opens and closes with anchor links, <strong>the primary issue being that it adds on entries to the browser history</strong>.</p>\n\n<p>Here's an example of what I am referring to:</p>\n\n<ol>\n<li>I load a page with an image with the lightbox feature applied.</li>\n<li>I click on the image, and the lightbox window opens.</li>\n<li>Then I close the lightbox window and it returns back to the page; however, doing this has now <strong>added 2 additional history entries</strong> by opening and closing the lightbox via the anchor links behavior, (which append the page's URL with <code>http://SITEURL.com/PAGEURL#theanchor</code>).</li>\n</ol>\n\n<p>Judging from previous responders, linking to anchors seem to be the least recommended for producing this sort of functionality. If that is the case, how else could I implement this, (and would I potentially be able to avoid the use of anchors altogether)?</p>\n\n<p>Here is a full snippet that presents the lightbox feature in action, as well as the anchor link behavior:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.pic &gt; img').click(function() {\r\n  var srcToCopy = $(this).attr('src');\r\n  $('body').find('.imgsrc').attr('src', srcToCopy);\r\n  $('body').addClass('no-scroll');\r\n});\r\n\r\n$('#customlightbox-controls').on('click', function() {\r\n  $('body').removeClass('no-scroll');\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  margin: 0;\r\n  padding: 0;\r\n  border: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\nbody.no-scroll {\r\n  overflow: hidden;\r\n}\r\n\r\n.pic,\r\n#imgsrc {\r\n  display: inline-block;\r\n}\r\n\r\nimg {\r\n  width: 100px\r\n}\r\n\r\na {\r\n  display: inline-block;\r\n  line-height: 0;\r\n}\r\n\r\n.container {\r\n  display: block;\r\n  width: 100%;\r\n  line-height: 0;\r\n}\r\n\r\n.customlightbox {\r\n  top: 0%;\r\n  bottom: 0%;\r\n  box-sizing: border-box;\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  z-index: -5;\r\n  opacity: 0;\r\n}\r\n\r\n.customlightbox-imgwrap {\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 20px;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  text-align: center;\r\n}\r\n\r\n.customlightbox img {\r\n  width: auto;\r\n  margin: auto;\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n  opacity: 0;\r\n  position: relative;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n}\r\n\r\n#customlightbox-controls {\r\n  box-sizing: border-box;\r\n  position: fixed;\r\n  height: 50px;\r\n  width: 50px;\r\n  top: -50px;\r\n  right: -3px;\r\n  z-index: 5;\r\n  border-left: 2px solid white;\r\n  border-bottom: 2px solid white;\r\n  opacity: .7;\r\n}\r\n\r\n#close-customlightbox {\r\n  display: block;\r\n  position: absolute;\r\n  overflow: hidden;\r\n  height: 30px;\r\n  width: 30px;\r\n  right: 10px;\r\n  top: 10px;\r\n  -webkit-transform: rotate(45deg);\r\n  -moz-transform: rotate(45deg);\r\n  -ms-transform: rotate(45deg);\r\n  -o-transform: rotate(45deg);\r\n  transform: rotate(45deg);\r\n}\r\n\r\n#close-customlightbox:before {\r\n  content: \"\";\r\n  display: block;\r\n  position: absolute;\r\n  height: 0px;\r\n  width: 2px;\r\n  left: 14px;\r\n  top: 0;\r\n  background: white;\r\n  border-radius: 2px;\r\n}\r\n\r\n#close-customlightbox:after {\r\n  content: \"\";\r\n  display: block;\r\n  position: absolute;\r\n  width: 0px;\r\n  height: 2px;\r\n  top: 14px;\r\n  left: 0;\r\n  background: white;\r\n  border-radius: 2px;\r\n}\r\n\r\n.customlightbox:target {\r\n  z-index: 4;\r\n  opacity: 1;\r\n  display: inline-block;\r\n}\r\n\r\n.customlightbox:target img {\r\n  opacity: 1;\r\n}\r\n\r\n.customlightbox:target~#customlightbox-controls {\r\n  top: -3px;\r\n}\r\n\r\n.customlightbox:target~#customlightbox-controls #close-customlightbox:after {\r\n  width: 30px;\r\n}\r\n\r\n.customlightbox:target~#customlightbox-controls #close-customlightbox:before {\r\n  height: 30px;\r\n}\r\n\r\n.lb-animate {\r\n  -webkit-transition: 0.5s ease-in-out;\r\n  -moz-transition: 0.5s ease-in-out;\r\n  -ms-transition: 0.5s ease-in-out;\r\n  -o-transition: 0.5s ease-in-out;\r\n  transition: 0.5s ease-in-out;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;!-- Lightbox Instance 1 --&gt;\r\n&lt;div class=\"container\"&gt;\r\n  &lt;a href=\"#view\"&gt;\r\n    &lt;div class=\"pic\"&gt;\r\n      &lt;img src=\"https://syedimranrocks.files.wordpress.com/2012/09/flower01low1.png\"&gt;\r\n    &lt;/div&gt;\r\n  &lt;/a&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;!-- Lightbox Instance 2 --&gt;\r\n&lt;div class=\"container\"&gt;\r\n  &lt;a href=\"#view\"&gt;\r\n    &lt;div class=\"pic\"&gt;\r\n      &lt;img src=\"http://downloadicons.net/sites/default/files/Rose-Coral-Icon-906534.png\"&gt;\r\n    &lt;/div&gt;\r\n  &lt;/a&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;!-- Lightbox Instance 3 --&gt;\r\n&lt;div class=\"container\"&gt;\r\n  &lt;a href=\"#view\"&gt;\r\n    &lt;div class=\"pic\"&gt;\r\n      &lt;img src=\"https://images.vexels.com/media/users/3/136645/isolated/lists/54b1517db1906889a6971939de45d2a8-purple-sunflower-cartoon.png\"&gt;\r\n    &lt;/div&gt;\r\n  &lt;/a&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;!-- Lightbox Prompt --&gt;\r\n&lt;div class=\"customlightbox lb-animate\" id=\"view\"&gt;\r\n  &lt;div class=\"customlightbox-imgwrap\"&gt;\r\n    &lt;img class=\"imgsrc\" id=\"customlightbox-img\" src=\"\"&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;div id=\"customlightbox-controls\" class=\"lb-animate\"&gt;\r\n  &lt;a id=\"close-customlightbox\" class=\"lb-animate\" href=\"#!\"&gt;&lt;/a&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Hopefully there is some sort of referable solution. </p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1515620370, "post_id": 48196478, "comment_id": 83374032, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14693758/passing-form-data-to-another-html-page\">passing form data to another HTML page</a>"}], "answers": [{"tags": [], "owner": {"reputation": 297, "user_id": 8827896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6c567f8a0570aa388e704bd74cc2ec7?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen Alluri", "link": "https://stackoverflow.com/users/8827896/praveen-alluri"}, "is_accepted": false, "score": 0, "last_activity_date": 1515620315, "creation_date": 1515620315, "answer_id": 48196498, "question_id": 48196478, "link": "https://stackoverflow.com/questions/48196478/javascript-navigate-between-pages-with-data/48196498#48196498", "title": "Javascript Navigate between pages with data", "body": "<p>You can store the data in your browser localstorage and access it in page 2.</p>\n"}, {"tags": [], "owner": {"reputation": 8426, "user_id": 1253074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7359ba202d56b428b3698ea2016995ef?s=128&d=identicon&r=PG", "display_name": "Intervalia", "link": "https://stackoverflow.com/users/1253074/intervalia"}, "is_accepted": false, "score": 1, "last_activity_date": 1515620397, "creation_date": 1515620397, "answer_id": 48196519, "question_id": 48196478, "link": "https://stackoverflow.com/questions/48196478/javascript-navigate-between-pages-with-data/48196519#48196519", "title": "Javascript Navigate between pages with data", "body": "<p>If these are totally different pages and both are loaded by hitting the server then you have the following options:</p>\n\n<ol>\n<li>Send all the data to the server and have the new page render using that data.</li>\n<li>Save the data in <a href=\"http://devdocs.io/dom/window/localstorage\" rel=\"nofollow noreferrer\">localStorage</a> and have the new page read that data out of localStorage</li>\n</ol>\n"}], "owner": {"reputation": 6583, "user_id": 1041205, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cd6c00d476506c50004def2ff4ad2f61?s=128&d=identicon&r=PG&f=1", "display_name": "Kurkula", "link": "https://stackoverflow.com/users/1041205/kurkula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1515620397, "creation_date": 1515620227, "question_id": 48196478, "link": "https://stackoverflow.com/questions/48196478/javascript-navigate-between-pages-with-data", "title": "Javascript Navigate between pages with data", "body": "<p>I have 2 pages and I am trying to navigate from page 2 to page 1. Is there any option to bind object from page 2 to page 1 element with plain javascript?</p>\n\n<p>The below is the basic algorithm I am trying. I am trying to check if that is possible or not and implement based on some pointers.</p>\n\n<p><strong>Page 1 code</strong></p>\n\n<pre><code>&lt;div id=\"page1Element\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Page 2 code</strong>\nGo Back</p>\n\n<pre><code>&lt;script&gt;\n    goBack();\n    function goBack() {\n        var obj = {some object values};\n        document.getElementById(\"page1Element\").innerHTML = obj.value;\n        window.history.back();\n    }\n\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "cordova", "sapui5", "barcode-scanner"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 4130206, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N6w-9iTGrP8/AAAAAAAAAAI/AAAAAAAAJZk/dCBatyxtUNg/photo.jpg?sz=128", "display_name": "Mike", "link": "https://stackoverflow.com/users/4130206/mike"}, "edited": false, "score": 1, "creation_date": 1515794925, "post_id": 48197243, "comment_id": 83451918, "body": "Switching to just looking for the &#39;input&#39; event did the trick."}], "tags": [], "owner": {"reputation": 1556, "user_id": 769938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6741b0776cce2a17ad67212ad1bf9e87?s=128&d=identicon&r=PG", "display_name": "Brian Anderson", "link": "https://stackoverflow.com/users/769938/brian-anderson"}, "is_accepted": false, "score": 0, "last_activity_date": 1515623863, "creation_date": 1515623863, "answer_id": 48197243, "question_id": 48196385, "link": "https://stackoverflow.com/questions/48196385/handling-barcode-scanner-input-from-zebra-device-tc51-56/48197243#48197243", "title": "Handling Barcode Scanner Input From Zebra Device (TC51/56)", "body": "<p>Is there a reason you can't listen for an input or change event instead of keyup / keydown? Javascript is going to take the ball and run with it unless you tie the event listener to the change of the input field.</p>\n"}, {"tags": [], "owner": {"reputation": 1023, "user_id": 4564002, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-t5qCvqjG7mY/AAAAAAAAAAI/AAAAAAAAABw/J62uXwEXa_k/photo.jpg?sz=128", "display_name": "Darryn Campbell", "link": "https://stackoverflow.com/users/4564002/darryn-campbell"}, "is_accepted": false, "score": 3, "last_activity_date": 1515655713, "creation_date": 1515655713, "answer_id": 48201848, "question_id": 48196385, "link": "https://stackoverflow.com/questions/48196385/handling-barcode-scanner-input-from-zebra-device-tc51-56/48201848#48201848", "title": "Handling Barcode Scanner Input From Zebra Device (TC51/56)", "body": "<p>I suggest you use Intent output rather than keyboard output as the device outputs key events rather than key presses so some devices will not register them properly in the browser.  </p>\n\n<p>There is a tutorial on using Intents with Cordova at <a href=\"https://developer.zebra.com/community/android/android-forums/android-blogs/blog/2016/08/04/integrating-datawedge-into-your-cordova-application\" rel=\"nofollow noreferrer\">https://developer.zebra.com/community/android/android-forums/android-blogs/blog/2016/08/04/integrating-datawedge-into-your-cordova-application</a> </p>\n"}], "owner": {"reputation": 31, "user_id": 4130206, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N6w-9iTGrP8/AAAAAAAAAAI/AAAAAAAAJZk/dCBatyxtUNg/photo.jpg?sz=128", "display_name": "Mike", "link": "https://stackoverflow.com/users/4130206/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1743, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1572254756, "creation_date": 1515619794, "last_edit_date": 1572254756, "question_id": 48196385, "link": "https://stackoverflow.com/questions/48196385/handling-barcode-scanner-input-from-zebra-device-tc51-56", "title": "Handling Barcode Scanner Input From Zebra Device (TC51/56)", "body": "<p>I have a Cordova app which will be using the Zebra TC51/56 device for input. The device has a hard button on each side which activates the barcode scanning laser.</p>\n\n<p>The issue I'm having is that if I monitor for a keyup or keydown event the whole barcode doesn't get placed into the input box where I want it....only the 1st character.</p>\n\n<p>I've noticed that if I use the Chrome debugger and put a breakpoint in the event listener so that is stops then I get the whole barcode. I'm using SAP UI5/Fiori components as well if that makes any difference.</p>\n\n<p>Has anyone dealt with input from the Zebra devices before?</p>\n"}, {"tags": ["javascript", "php", "html", "image"], "comments": [{"owner": {"reputation": 3147, "user_id": 5317298, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/401be6c325351c75350647a26067f2b3?s=128&d=identicon&r=PG&f=1", "display_name": "RGS", "link": "https://stackoverflow.com/users/5317298/rgs"}, "reply_to_user": {"reputation": 41497, "user_id": 661872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yqbSi.png?s=128&g=1", "display_name": "Lawrence Cherone", "link": "https://stackoverflow.com/users/661872/lawrence-cherone"}, "edited": false, "score": 0, "creation_date": 1515620004, "post_id": 48196376, "comment_id": 83373849, "body": "@LawrenceCherone it shows image/gif here"}, {"owner": {"reputation": 5497, "user_id": 1215827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40471ba2c4e3550f7f8ed6c0c4dd8581?s=128&d=identicon&r=PG", "display_name": "rlanvin", "link": "https://stackoverflow.com/users/1215827/rlanvin"}, "edited": false, "score": 0, "creation_date": 1515620026, "post_id": 48196376, "comment_id": 83373856, "body": "What is your question exactly? Content-type returned by this url is &quot;text/html&quot;."}, {"owner": {"reputation": 1725, "user_id": 608781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6025f3a269555ed2b203e184ef14a72?s=128&d=identicon&r=PG", "display_name": "Tim G", "link": "https://stackoverflow.com/users/608781/tim-g"}, "edited": false, "score": 0, "creation_date": 1515620036, "post_id": 48196376, "comment_id": 83373858, "body": "the header returned from that url is Content-Type =&gt; image/gif"}, {"owner": {"reputation": 550, "user_id": 5499292, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wArRAlyGZn0/AAAAAAAAAAI/AAAAAAAAAAA/1NaZf8Z7Tl0/photo.jpg?sz=128", "display_name": "Robot70", "link": "https://stackoverflow.com/users/5499292/robot70"}, "edited": false, "score": 0, "creation_date": 1515620045, "post_id": 48196376, "comment_id": 83373863, "body": "php curl get header then check what you get?"}, {"owner": {"reputation": 3147, "user_id": 5317298, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/401be6c325351c75350647a26067f2b3?s=128&d=identicon&r=PG&f=1", "display_name": "RGS", "link": "https://stackoverflow.com/users/5317298/rgs"}, "edited": false, "score": 0, "creation_date": 1515620174, "post_id": 48196376, "comment_id": 83373924, "body": "it is returning here image/gif my question is how to solve it because when I add image html tag on it, it will not show the image. How can I check it to not add image html tag on that."}, {"owner": {"reputation": 5497, "user_id": 1215827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40471ba2c4e3550f7f8ed6c0c4dd8581?s=128&d=identicon&r=PG", "display_name": "rlanvin", "link": "https://stackoverflow.com/users/1215827/rlanvin"}, "edited": false, "score": 0, "creation_date": 1515620456, "post_id": 48196376, "comment_id": 83374073, "body": "Open the link in your browser and check the response header there. The content type will be text/html."}, {"owner": {"reputation": 3147, "user_id": 5317298, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/401be6c325351c75350647a26067f2b3?s=128&d=identicon&r=PG&f=1", "display_name": "RGS", "link": "https://stackoverflow.com/users/5317298/rgs"}, "reply_to_user": {"reputation": 5497, "user_id": 1215827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40471ba2c4e3550f7f8ed6c0c4dd8581?s=128&d=identicon&r=PG", "display_name": "rlanvin", "link": "https://stackoverflow.com/users/1215827/rlanvin"}, "edited": false, "score": 0, "creation_date": 1515620577, "post_id": 48196376, "comment_id": 83374139, "body": "@rlanvin in my browser yes, but my function will return image/gif. and I don&#39;t know why."}, {"owner": {"reputation": 5497, "user_id": 1215827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40471ba2c4e3550f7f8ed6c0c4dd8581?s=128&d=identicon&r=PG", "display_name": "rlanvin", "link": "https://stackoverflow.com/users/1215827/rlanvin"}, "reply_to_user": {"reputation": 1725, "user_id": 608781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6025f3a269555ed2b203e184ef14a72?s=128&d=identicon&r=PG", "display_name": "Tim G", "link": "https://stackoverflow.com/users/608781/tim-g"}, "edited": false, "score": 1, "creation_date": 1515620627, "post_id": 48196376, "comment_id": 83374165, "body": "This has nothing to do with your function. Check the answer from @TimG below."}], "answers": [{"comments": [{"owner": {"reputation": 14139, "user_id": 830247, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb2e9e58089444c77b786eece683bad8?s=128&d=identicon&r=PG", "display_name": "Brian Glaz", "link": "https://stackoverflow.com/users/830247/brian-glaz"}, "reply_to_user": {"reputation": 3147, "user_id": 5317298, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/401be6c325351c75350647a26067f2b3?s=128&d=identicon&r=PG&f=1", "display_name": "RGS", "link": "https://stackoverflow.com/users/5317298/rgs"}, "edited": false, "score": 1, "creation_date": 1515620730, "post_id": 48196534, "comment_id": 83374216, "body": "@RickJoe unless you want to hard-code it, and just deny all URL&#39;s starting with <code>media.giphy.com</code>"}, {"owner": {"reputation": 1725, "user_id": 608781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6025f3a269555ed2b203e184ef14a72?s=128&d=identicon&r=PG", "display_name": "Tim G", "link": "https://stackoverflow.com/users/608781/tim-g"}, "edited": false, "score": 1, "creation_date": 1515620770, "post_id": 48196534, "comment_id": 83374240, "body": "I would inspect the url for the presence of &quot;giphy.com&quot; and adjust accordingly.  either you want to forbid the adding of giphy.com images or you need to adjust the way you display them with special logic elsewhere in your application."}, {"owner": {"reputation": 5497, "user_id": 1215827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40471ba2c4e3550f7f8ed6c0c4dd8581?s=128&d=identicon&r=PG", "display_name": "rlanvin", "link": "https://stackoverflow.com/users/1215827/rlanvin"}, "edited": false, "score": 1, "creation_date": 1515621172, "post_id": 48196534, "comment_id": 83374413, "body": "@TimG I was curious so I did a test with curl. You are right it is indeed the Accept header - as soon as it contains &quot;text/html&quot; giphy will serve the html page instead of the gif."}, {"owner": {"reputation": 1725, "user_id": 608781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6025f3a269555ed2b203e184ef14a72?s=128&d=identicon&r=PG", "display_name": "Tim G", "link": "https://stackoverflow.com/users/608781/tim-g"}, "reply_to_user": {"reputation": 5497, "user_id": 1215827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40471ba2c4e3550f7f8ed6c0c4dd8581?s=128&d=identicon&r=PG", "display_name": "rlanvin", "link": "https://stackoverflow.com/users/1215827/rlanvin"}, "edited": false, "score": 0, "creation_date": 1515621397, "post_id": 48196534, "comment_id": 83374516, "body": "@rlanvin, so it might be that one could set up an ajax call to a proxy script on the OP&#39;s server that sets the headers appropriately to load the image, base64 encode it, and deliver it back to the browser.  all in all way too heavy handed.  darn those clever giphy engineers!"}, {"owner": {"reputation": 1725, "user_id": 608781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6025f3a269555ed2b203e184ef14a72?s=128&d=identicon&r=PG", "display_name": "Tim G", "link": "https://stackoverflow.com/users/608781/tim-g"}, "reply_to_user": {"reputation": 5497, "user_id": 1215827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40471ba2c4e3550f7f8ed6c0c4dd8581?s=128&d=identicon&r=PG", "display_name": "rlanvin", "link": "https://stackoverflow.com/users/1215827/rlanvin"}, "edited": false, "score": 1, "creation_date": 1515621414, "post_id": 48196534, "comment_id": 83374526, "body": "@rlanvin thanks for the investigation - I WAS super curious. :)"}, {"owner": {"reputation": 3147, "user_id": 5317298, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/401be6c325351c75350647a26067f2b3?s=128&d=identicon&r=PG&f=1", "display_name": "RGS", "link": "https://stackoverflow.com/users/5317298/rgs"}, "edited": false, "score": 1, "creation_date": 1515921257, "post_id": 48196534, "comment_id": 83478810, "body": "if (strpos($url, &#39;media.giphy.com&#39;) == true) { return false; }"}], "tags": [], "owner": {"reputation": 1725, "user_id": 608781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6025f3a269555ed2b203e184ef14a72?s=128&d=identicon&r=PG", "display_name": "Tim G", "link": "https://stackoverflow.com/users/608781/tim-g"}, "is_accepted": true, "score": 3, "last_activity_date": 1515620435, "creation_date": 1515620435, "answer_id": 48196534, "question_id": 48196376, "link": "https://stackoverflow.com/questions/48196376/function-to-check-if-website-is-an-image/48196534#48196534", "title": "Function to check if website is an image", "body": "<p>I believe giphy is sniffing the http header \"accept\" - or perhaps the user agent string.  In any case, when I used a tool to show headers for that url I see \"image/gif\", but chrome inspector reveals a web page being delivered with text/html as content type.</p>\n\n<p>giphy has a web page talking about how to embed.  There may be a way around this with ajax, but that's out of scope for your question.  As is, it appears that giphy does not want hotlinking.</p>\n\n<p><a href=\"https://giphy.com/posts/how-to-embed-giphy-gifs-on-your-website\" rel=\"nofollow noreferrer\">Giphy Article on Embedding Images</a></p>\n"}], "owner": {"reputation": 3147, "user_id": 5317298, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/401be6c325351c75350647a26067f2b3?s=128&d=identicon&r=PG&f=1", "display_name": "RGS", "link": "https://stackoverflow.com/users/5317298/rgs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 48196534, "answer_count": 1, "score": 2, "last_activity_date": 1515620435, "creation_date": 1515619753, "last_edit_date": 1515620026, "question_id": 48196376, "link": "https://stackoverflow.com/questions/48196376/function-to-check-if-website-is-an-image", "title": "Function to check if website is an image", "body": "<p>I have a function to check if url is an image or not.\nThe problem is that when a user posted a gif image it didn't work. \nIt shows an X instead of the image. The website is in html but it gets it as a image/gif.</p>\n\n<p>any ideas?</p>\n\n<p>what user posted: <a href=\"https://media.giphy.com/media/CwbErAWpTQDxS/giphy.gif\" rel=\"nofollow noreferrer\">https://media.giphy.com/media/CwbErAWpTQDxS/giphy.gif</a>\nit is an html page not a gif.</p>\n\n<p>my function:</p>\n\n<pre><code>function isImage($url){\n$url_headers=get_headers($url, 1);\n\nif($url_headers[0] == 'HTTP/1.1 404 Not Found') {\n   $url_exists = false;\n} \nelse {\n    $url_exists = true;\n}\n\nif($url_exists){\n    if(isset($url_headers['Content-Type'])){\n        $type=strtolower($url_headers['Content-Type']);\n\n        $valid_image_type=array();\n        $valid_image_type['image/png']='';\n        $valid_image_type['image/jpg']='';\n        $valid_image_type['image/jpeg']='';\n        $valid_image_type['image/jpe']='';\n        $valid_image_type['image/gif']='';\n\n        if(isset($valid_image_type[$type])){\n            return true;\n        }\n        else{\n            return false;\n        }\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["javascript", "highcharts"], "comments": [{"owner": {"reputation": 9106, "user_id": 3898339, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/k2GV8.png?s=128&g=1", "display_name": "Deep 3015", "link": "https://stackoverflow.com/users/3898339/deep-3015"}, "edited": false, "score": 0, "creation_date": 1515650079, "post_id": 48196369, "comment_id": 83382138, "body": "Difficult to understand. what is the work of <code>$playButton.click</code>  and <code>$clickButton.click</code>. What is your final requirement."}], "answers": [{"comments": [{"owner": {"reputation": 708, "user_id": 2597259, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ea4031435c4b60acb0c8a45d96cc6586?s=128&d=identicon&r=PG&f=1", "display_name": "Tester", "link": "https://stackoverflow.com/users/2597259/tester"}, "edited": false, "score": 0, "creation_date": 1515685927, "post_id": 48202906, "comment_id": 83403113, "body": "Thanks! Can you explain what is <code>block the browser rendering liek in for...loop</code>?"}, {"owner": {"reputation": 16187, "user_id": 4432208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VAU8q.png?s=128&g=1", "display_name": "beaver", "link": "https://stackoverflow.com/users/4432208/beaver"}, "reply_to_user": {"reputation": 708, "user_id": 2597259, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ea4031435c4b60acb0c8a45d96cc6586?s=128&d=identicon&r=PG&f=1", "display_name": "Tester", "link": "https://stackoverflow.com/users/2597259/tester"}, "edited": false, "score": 0, "creation_date": 1515687732, "post_id": 48202906, "comment_id": 83404370, "body": "This is related to Event Loop in JS (see <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop</a>). You can find al lot of articles and samples to avoid &quot;UI blocking&quot; (e.g. <a href=\"https://stackoverflow.com/questions/27323772/javascript-function-and-ui-updates\" title=\"javascript function and ui updates\">stackoverflow.com/questions/27323772/&hellip;</a>, <a href=\"https://stackoverflow.com/questions/24193548/how-to-do-a-loop-in-javascript-that-doesnt-block-the-ui\" title=\"how to do a loop in javascript that doesnt block the ui\">stackoverflow.com/questions/24193548/&hellip;</a>)"}], "tags": [], "owner": {"reputation": 16187, "user_id": 4432208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VAU8q.png?s=128&g=1", "display_name": "beaver", "link": "https://stackoverflow.com/users/4432208/beaver"}, "is_accepted": true, "score": 1, "last_activity_date": 1515660435, "creation_date": 1515660435, "answer_id": 48202906, "question_id": 48196369, "link": "https://stackoverflow.com/questions/48196369/generate-animation-plotlines-in-highchart/48202906#48202906", "title": "Generate animation plotLines in highchart", "body": "<p>If you insert your <code>drawNextPlotline</code> function inside a <code>setInterval()</code> you avoid to block the browser rendering like in <code>for...loop</code>:</p>\n\n<pre><code>var i = 0, nr = 5;\nvar intervalId = setInterval(function() {   \n   if (i &lt; nr) {\n     drawNextPlotline(chart);\n   } else {\n     clearInterval(intervalId);\n   }\n   i++;\n}, 1000)\n</code></pre>\n\n<p>Check the fiddle updated: <a href=\"https://jsfiddle.net/beaver71/18L1nng6/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/beaver71/18L1nng6/</a></p>\n"}], "owner": {"reputation": 708, "user_id": 2597259, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ea4031435c4b60acb0c8a45d96cc6586?s=128&d=identicon&r=PG&f=1", "display_name": "Tester", "link": "https://stackoverflow.com/users/2597259/tester"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 48202906, "answer_count": 1, "score": 1, "last_activity_date": 1515660435, "creation_date": 1515619724, "question_id": 48196369, "link": "https://stackoverflow.com/questions/48196369/generate-animation-plotlines-in-highchart", "title": "Generate animation plotLines in highchart", "body": "<p>I want to implement an animation x-axis plotLines in highchart. When I click play button, there is a new plotline will be generated every one second to replace the last plotline in the x-axis.</p>\n\n<p>Please see this <a href=\"https://jsfiddle.net/dodoflying/kaqv13bp/\" rel=\"nofollow noreferrer\">fiddle</a>. When I click <code>click</code> button, it is working properly. When I click <code>play</code> button. It only displays the first and last plotline.</p>\n\n<pre><code>var chart = Highcharts.chart('container', {\n\n  xAxis: {\n    categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n    plotLines: [{\n      value: 0,\n      color: 'blue',\n      width: 2,\n      zIndex: 10\n    }]\n  },\n\n  series: [{\n    data: [29.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4]\n  }]\n});\n\n\nvar drawNextPlotline = function(chart) {\n  //console.log(i);\n  //console.log(chart.xAxis[0].options);\n  var newValue = (chart.xAxis[0].options.plotLines[0].value + 1) % 10;\n  //var newValue = i;\n  chart.xAxis[0].options.plotLines[0].value = newValue;\n  chart.xAxis[0].update();\n}\n\nfunction sleep(miliseconds) {\n  var currentTime = new Date().getTime();\n\n  while (currentTime + miliseconds &gt;= new Date().getTime()) {}\n}\n\n// the button action\nvar $playButton = $('#play');\nvar $clickButton = $('#click');\n\n//\n$playButton.click(function() {\n\n  for (var i = 0; i &lt;= 2; i++) {\n    drawNextPlotline(chart);\n    sleep(1000);\n  }\n\n});\n\n$clickButton.click(function() {\n\n    drawNextPlotline(chart);\n\n});\n</code></pre>\n"}, {"tags": ["javascript", "algorithm"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 9200873, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rRS50I4QW4Y/AAAAAAAAAAI/AAAAAAAAANI/keJHTOehRoY/photo.jpg?sz=128", "display_name": "Sisi Qin", "link": "https://stackoverflow.com/users/9200873/sisi-qin"}, "edited": false, "score": 0, "creation_date": 1515622796, "post_id": 48196507, "comment_id": 83375097, "body": "Awesome! Thank you!"}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 0, "last_activity_date": 1515620788, "last_edit_date": 1515620788, "creation_date": 1515620352, "answer_id": 48196507, "question_id": 48196360, "link": "https://stackoverflow.com/questions/48196360/leetcode-subset-javascript-code-returns-empty-array/48196507#48196507", "title": "leetcode subset javascript code returns empty array", "body": "<p>The problem is, you push the same array reference to the result set. As result, you see the array of the last loop for all arrays.</p>\n\n<p>For getting all single arrays, you need to get a copy with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice\" rel=\"nofollow noreferrer\"><code>Array#slice</code></a> for pushing.</p>\n\n<pre><code>result.push(list.slice());\n</code></pre>\n\n<p>This creates a new array with all values.\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const subsets = (nums) =&gt; {\r\n    let result = []; \r\n    let list = [];\r\n    \r\n    const helper = (result, list, nums, position) =&gt; {\r\n        for (let i = position; i &lt; nums.length; i++) {\r\n            list.push(nums[i]);\r\n            helper(result, list, nums, i + 1);\r\n            list.pop();\r\n        }\r\n        result.push(list.slice());\r\n    }\r\n\r\n    helper(result, list, nums, 0);\r\n    return result;\r\n}\r\n\r\nconsole.log(subsets([1, 2, 3]));</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 37, "user_id": 9200873, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rRS50I4QW4Y/AAAAAAAAAAI/AAAAAAAAANI/keJHTOehRoY/photo.jpg?sz=128", "display_name": "Sisi Qin", "link": "https://stackoverflow.com/users/9200873/sisi-qin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 48196507, "answer_count": 1, "score": 1, "last_activity_date": 1515620788, "creation_date": 1515619684, "question_id": 48196360, "link": "https://stackoverflow.com/questions/48196360/leetcode-subset-javascript-code-returns-empty-array", "title": "leetcode subset javascript code returns empty array", "body": "<p>i am new to algorithms and have a silly question about a leetcode problem. The problem is asking for all subsets for a given array which only contains distinct integers. </p>\n\n<p>In my code, the console.log of the list array gives me what I want, which is a group of subsets of the input. But it does not pass down to result. The result returns something like this:\n[ [], [], [], [], [], [], [], [] ]</p>\n\n<p>Below is my code: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> const subsets = (nums) =&gt; {\r\n    let result = []; \r\n    let list = [];\r\n    \r\n    const helper = (result, list, nums, position) =&gt; {\r\n        for (let i = position; i &lt; nums.length; i++) {\r\n            list.push(nums[i]);\r\n            helper(result, list, nums, i + 1);\r\n            list.pop();\r\n        }\r\n        console.log(list) // this is what I want. but it does not pass down to result!!! \r\n        result.push(list);\r\n    }\r\n\r\n    helper(result, list, nums, 0)\r\n    return result;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Any thoughts would be awesome! Thank you!</p>\n"}, {"tags": ["javascript", "date"], "comments": [{"owner": {"reputation": 4813, "user_id": 1771994, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/92bb8a32559190ac0aa783c02c3c0299?s=128&d=identicon&r=PG&f=1", "display_name": "Tom O.", "link": "https://stackoverflow.com/users/1771994/tom-o"}, "edited": false, "score": 0, "creation_date": 1515619723, "post_id": 48196318, "comment_id": 83373719, "body": "Can you post the code that calls the <code>fillTodaysDate()</code> function? This code just shows the function declaration."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1515619725, "post_id": 48196318, "comment_id": 83373721, "body": "how is <code>fillTodaysDate</code> called? as a guess, you&#39;re calling it on page load and, since you mention &quot;forms&quot;, you&#39;re submitting the form, the form has no action attribute, and you don&#39;t prevent default submit action, therefore current page is reloaded. which means anything performed on page load is executed"}, {"owner": {"reputation": 2822, "user_id": 4603295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PYo4w.jpg?s=128&g=1", "display_name": "Adriano", "link": "https://stackoverflow.com/users/4603295/adriano"}, "edited": false, "score": 0, "creation_date": 1515619736, "post_id": 48196318, "comment_id": 83373728, "body": "Are you using an actual <code>&lt;form&gt;</code>element in your code?"}, {"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1515628318, "post_id": 48196318, "comment_id": 83376932, "body": "How does the page know that the form has already been submitted? Are you using cookies? Local storage? Do users log in so have an authenticated session? Pretty simple to stop the update: don&#39;t run the function! But you need to include the criteria for when to run it and help with possible solutions."}, {"owner": {"reputation": 1, "user_id": 6205696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/322e7f1bc3d2716702b1a76d93976ed9?s=128&d=identicon&r=PG&f=1", "display_name": "Ms.Sing", "link": "https://stackoverflow.com/users/6205696/ms-sing"}, "edited": false, "score": 0, "creation_date": 1515681565, "post_id": 48196318, "comment_id": 83400111, "body": "Updated post with additional information"}], "owner": {"reputation": 1, "user_id": 6205696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/322e7f1bc3d2716702b1a76d93976ed9?s=128&d=identicon&r=PG&f=1", "display_name": "Ms.Sing", "link": "https://stackoverflow.com/users/6205696/ms-sing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515681554, "creation_date": 1515619541, "last_edit_date": 1515681554, "question_id": 48196318, "link": "https://stackoverflow.com/questions/48196318/setdate-javascript-is-firing-every-time-the-document-is-opened", "title": "setdate javascript is firing every time the document is opened", "body": "<p>We're using the following javascript to automatically set the current date via the onload function when a student accesses one of our online forms. We do have an actual form tag on the form</p>\n\n<pre><code>            function fillTodaysDate()\n            {\n                if(document.getElementById('todaydate').value.length &lt; 5){\n                       var d = new Date();\n                       var dateString = (d.getMonth()+1) + \"/\" + d.getDate() + \"/\" + d.getFullYear();\n                       document.getElementById('todaydate').value = dateString;     \n                }                      \n            }\n</code></pre>\n\n<p>The date populates as expected, however, it continues to update every time the document is opened after the student has submitted it (the forms are sent to a document management system where we review them).  </p>\n\n<p>How can we prevent the date from continuing to update once the form has been submitted?</p>\n\n<p>Below is the code for the actual field:</p>\n\n<pre><code>  &lt;table style=\"BORDER-BOTTOM: #000000 1px solid; BORDER-LEFT: #000000 1px solid; WIDTH: 250px; HEIGHT: 26px; BORDER-TOP: #000000 1px solid; BORDER-RIGHT: #000000 1px solid\"&gt;\n    &lt;tbody&gt;\n      &lt;tr class=\"singlepropertyrow\"&gt;\n        &lt;td class=\"propertylabel\"&gt;Today's Date&lt;/td&gt;\n        &lt;td style=\"WIDTH: 50%\" class=\"propertycontent\"&gt;\n          &lt;input style=\"WIDTH: 100%\" \n          class=\"propertytextinput\" type=\"text\" readonly=\"true\" name=\"todaydate\" id=\"todaydate\"&gt;\n            &lt;xsl:attribute name=\"value\"&gt;\n              &lt;xsl:value-of select=\"_301YV5R_002E2MVLT0001HR_\" /&gt;\n            &lt;/xsl:attribute&gt;\n          &lt;/input&gt;\n        &lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/tbody&gt;\n  &lt;/table&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "passport.js", "passport-local"], "answers": [{"tags": [], "owner": {"reputation": 691, "user_id": 6727369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/770e4f054d98b62390558b4b2825ad3d?s=128&d=identicon&r=PG", "display_name": "Rafael Hovsepyan", "link": "https://stackoverflow.com/users/6727369/rafael-hovsepyan"}, "is_accepted": true, "score": 0, "last_activity_date": 1515619682, "creation_date": 1515619682, "answer_id": 48196359, "question_id": 48196293, "link": "https://stackoverflow.com/questions/48196293/referenceerror-user-is-not-defined-at-function-module-exports-getuserbyid-passp/48196359#48196359", "title": "ReferenceError: user is not defined at Function.module.exports.getUserById passportjs", "body": "<p><code>module.exports.getUserById = function(id, callback){\n  user.findById(id, callback);\n}</code></p>\n\n<p>Capitalize <code>user</code> to <code>User</code> </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8331511"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 967, "favorite_count": 0, "accepted_answer_id": 48196359, "answer_count": 1, "score": 0, "last_activity_date": 1515619682, "creation_date": 1515619394, "question_id": 48196293, "link": "https://stackoverflow.com/questions/48196293/referenceerror-user-is-not-defined-at-function-module-exports-getuserbyid-passp", "title": "ReferenceError: user is not defined at Function.module.exports.getUserById passportjs", "body": "<p>I believe I have everything setup for passport to work but I am getting an error defined User error when I login.</p>\n\n<p>Here is my code so far:</p>\n\n<p>user.js model</p>\n\n<pre><code>const express = require('express');\nconst mongoose = require('mongoose');\nconst bcrypt = require('bcryptjs');\n\nvar app = express();\n\nif (app.get('env') === 'production') {\n  mongoose.connect(process.env.DATABASE_URL);\n} else {\n  mongoose.connect('mongodb://localhost/pol-development');\n}\n\nvar db = mongoose.connection;\n\ndb.on('error', console.error.bind(console, 'connection error:'));\ndb.once('open', function() {\n  console.log(\"Connection has been established\");\n});\n\nvar UserSchema = mongoose.Schema({\n  schoolName: String,\n  schoolAddress: String,\n  schoolAddress2: String,\n  city: String,\n  zipCode: String,\n  addressCheck: Boolean,\n  postalAddress: String,\n  postalCity: String,\n  postalZipCode: String,\n  telephone: Number,\n  fax: Number,\n  email: String,\n  password: String,\n  schoolType: String,\n  schoolDistrict: String,\n  schoolRegion: String,\n  curriculum: String,\n  participationBefore: Boolean,\n  participationYears: Number,\n  directorName: String,\n  directorTelephone: Number,\n  directorEmail: String,\n  directorAttendanceRehersal: Boolean,\n  directorAttendanceEvent: Boolean,\n  schoolLiaisonName: String,\n  schoolLiaisonTelephone: Number,\n  schoolLiaisonEmail: String,\n  schoolLiaisonPosition: String,\n  schoolLiaisonOtherPosition: String,\n  schoolLiaisonTShirt: String,\n  schoolLiaisonTutorMentor: String,\n  attendanceRehersal: Boolean,\n  attendanceEvent: Boolean\n});\n\nvar User = module.exports = mongoose.model('User', UserSchema);\n\nmodule.exports.createUser = function(newUser, callback){\n  bcrypt.genSalt(10, function(err, salt) {\n    bcrypt.hash(newUser.password, salt, function(err, hash) {\n      newUser.password = hash;\n      newUser.save(callback);\n    });\n  });\n}\n\nmodule.exports.getUserByEmail = function(email, callback){\n  var query = {email: email};\n  User.findOne(query, callback);\n}\n\nmodule.exports.getUserById = function(id, callback){\n  user.findById(id, callback);\n}\n\nmodule.exports.comparePassword = function(candidatePassword, hash, callback) {\n  bcrypt.compare(candidatePassword, hash, function(err, isMatch) {\n    if(err) throw err;\n    callback(null, isMatch);\n  });\n}\n</code></pre>\n\n<p>user.js routes</p>\n\n<pre><code>const express = require('express');\nconst router = express.Router();\nconst passport = require('passport');\nconst LocalStrategy = require('passport-local').Strategy;\n\nvar User = require('../models/user');\n\nrouter.get('/register', (req, res) =&gt; {\n  res.render('register.hbs', {\n    pageTitle: 'Register'\n  });\n});\n\nrouter.get('/login', (req, res) =&gt; {\n  res.render('login.hbs', {\n    pageTitle: 'Login'\n  });\n});\n\nrouter.post('/register', (req, res) =&gt; {\n  var schoolName = req.body.schoolName;\n  var schoolAddress = req.body.schoolAddress;\n  var city = req.body.city;\n  var zipCode = req.body.zipCode;\n  var postalAddress = req.body.postalAddress;\n  var postalCity = req.body.postalCity;\n  var postalZipCode = req.body.postalZipCode;\n  var telephone = req.body.telephone;\n  var email = req.body.email;\n  var password = req.body.password;\n  var schoolType = req.body.schoolType;\n  var schoolDistrict = req.body.schoolDistrict;\n  var schoolRegion = req.body.schoolRegion;\n  var curriculum = req.body.curriculum;\n  var directorName = req.body.directorName;\n  var directorTelephone = req.body.directorTelephone;\n  var directorEmail = req.body.directorEmail;\n  var schoolLiaisonName = req.body.schoolLiaisonName;\n  var schoolLiaisonTelephone = req.body.schoolLiaisonTelephone;\n  var schoolLiaisonEmail = req.body.schoolLiaisonEmail;\n  var schoolLiaisonPosition = req.body.schoolLiaisonPosition;\n  var schoolLiaisonTShirt = req.body.schoolLiaisonTShirt;\n  var schoolLiaisonTutorMentor = req.body.schoolLiaisonTutorMentor;\n\n  // validations\n  req.checkBody('schoolName', 'The school name is required').notEmpty();\n  req.checkBody('schoolAddress', 'The school address is required').notEmpty();\n  req.checkBody('city', 'The city is required').notEmpty();\n  req.checkBody('zipCode', 'This zip code is required').notEmpty();\n  // req.checkBody('postalAddress', 'The postal address is required').notEmpty();\n  // req.checkBody('postalCity', 'The postal city is required').notEmpty();\n  // req.checkBody('postalZipCode', 'The postal zip code is required').notEmpty();\n  req.checkBody('telephone', 'A telephone number is required').notEmpty();\n  req.checkBody('email', 'An account email is required').notEmpty();\n  // req.checkBody('email', 'This account email is not valid').isEmail();\n  req.checkBody('password', 'An account password is required').notEmpty();\n  req.checkBody('schoolType', 'A school type is required').notEmpty();\n  req.checkBody('schoolDistrict', 'A school district is required').notEmpty();\n  req.checkBody('schoolRegion', 'A school region is required').notEmpty();\n  req.checkBody('curriculum', 'A curriculum is required').notEmpty();\n  req.checkBody('directorName', 'A directors name is required').notEmpty();\n  req.checkBody('directorTelephone', 'A directors telephone is required').notEmpty();\n  req.checkBody('directorEmail', 'A directors email is required').notEmpty();\n  req.checkBody('directorEmail', 'This email is not valid').isEmail();\n  req.checkBody('schoolLiaisonName', 'A school liaison name is required').notEmpty();\n  req.checkBody('schoolLiaisonTelephone', 'A school liaison telephone is required').notEmpty();\n  req.checkBody('schoolLiaisonEmail', 'The school liaison email is not valid').isEmail();\n  req.checkBody('schoolLiaisonEmail', 'A school liaison email is required').notEmpty();\n  req.checkBody('schoolLiaisonPosition', 'A school liaison position is required').notEmpty();\n  req.checkBody('schoolLiaisonTShirt', 'A school liaison t-shirt size is required').notEmpty();\n  req.checkBody('schoolLiaisonTutorMentor', 'A school liaison tutor/mentor is required').notEmpty();\n\n  var errors = req.validationErrors();\n\n  if (errors) {\n    res.render('register', {\n      errors:errors\n    });\n  } else {\n    var newUser = new User({\n      schoolName: schoolName,\n      schoolAddress: schoolAddress,\n      city: city,\n      zipCode: zipCode,\n      postalAddress: postalAddress,\n      postalCity: postalCity,\n      postalZipCode: postalZipCode,\n      telephone: telephone,\n      email: email,\n      password: password,\n      schoolType: schoolType,\n      schoolDistrict: schoolDistrict,\n      schoolRegion: schoolRegion,\n      curriculum: curriculum,\n      directorName: directorName,\n      directorTelephone: directorTelephone,\n      directorEmail: directorEmail,\n      schoolLiaisonName: schoolLiaisonName,\n      schoolLiaisonTelephone: schoolLiaisonTelephone,\n      schoolLiaisonEmail: schoolLiaisonEmail,\n      schoolLiaisonPosition: schoolLiaisonPosition,\n      schoolLiaisonTShirt: schoolLiaisonTShirt,\n      schoolLiaisonTutorMentor: schoolLiaisonTutorMentor,\n    });\n\n    User.createUser(newUser, function(err, user) {\n      if(err) throw err;\n      console.log(user);\n    });\n\n    req.flash('success_msg', 'You are now registered, you can now login!');\n    res.redirect('/users/login');\n  }\n});\n\npassport.use(new LocalStrategy({\n  usernameField: 'email'\n  },\n  function(email, password, done) {\n    User.getUserByEmail(email, function(err, user){\n      if(err) throw err;\n      if(!user){\n        return done(null, false, {message: 'Unknown Email Address'});\n      }\n\n      User.comparePassword(password, user.password, function(err, ismatch){\n        if(err) throw err;\n        if(ismatch){\n          return done(null, user);\n        } else {\n          return done(null, false, {message: 'Invalid password'});\n        }\n      });\n    });\n  }));\n\npassport.serializeUser(function(user, done) {\n  done(null, user.id);\n});\n\npassport.deserializeUser(function(id, done) {\n  User.getUserById(id, function(err, user) {\n    done(err, user);\n  });\n});\n\nrouter.post('/login', passport.authenticate('local', {\n  successRedirect: '/dashboard',\n  failureRedirect: '/users/login',\n  successFlash: 'Welcome!',\n  failureFlash: 'Invalid email or password.'\n}), function(req, res) {\n  // res.redirect('/' + req.user.username);\n  res.redirect('/');\n});\n\nrouter.get('/logout', function(req, res) {\n  req.logout();\n  req.flash('success_msg', 'You are now logged out!')\n  res.redirect('/');\n});\n\nmodule.exports = router;\n</code></pre>\n\n<p>The redirect occurs but I get the undefined error, so I believe everything is setup correctly apart from this error.</p>\n\n<p>Any help here would be fantastic.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["javascript", "node.js", "express", "kue"], "comments": [{"owner": {"reputation": 1565, "user_id": 5093377, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/C9O8p.jpg?s=128&g=1", "display_name": "Milan Velebit", "link": "https://stackoverflow.com/users/5093377/milan-velebit"}, "edited": false, "score": 0, "creation_date": 1515619322, "post_id": 48196227, "comment_id": 83373565, "body": "Is the env set to prod or dev?"}, {"owner": {"reputation": 9222, "user_id": 307428, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a598c573fb032f717dd0754250366cc9?s=128&d=identicon&r=PG", "display_name": "jdog", "link": "https://stackoverflow.com/users/307428/jdog"}, "reply_to_user": {"reputation": 1565, "user_id": 5093377, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/C9O8p.jpg?s=128&g=1", "display_name": "Milan Velebit", "link": "https://stackoverflow.com/users/5093377/milan-velebit"}, "edited": false, "score": 0, "creation_date": 1515704023, "post_id": 48196227, "comment_id": 83413113, "body": "Sorry I am new to all this. Do you mean a env variable set in node or express? Or the sever?"}, {"owner": {"reputation": 1565, "user_id": 5093377, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/C9O8p.jpg?s=128&g=1", "display_name": "Milan Velebit", "link": "https://stackoverflow.com/users/5093377/milan-velebit"}, "edited": false, "score": 0, "creation_date": 1515708090, "post_id": 48196227, "comment_id": 83414978, "body": "The NODE_ENV var, Node behaves very differently when it comes to its env. And what exactly is a &#39;jobs&#39; class?"}, {"owner": {"reputation": 9222, "user_id": 307428, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a598c573fb032f717dd0754250366cc9?s=128&d=identicon&r=PG", "display_name": "jdog", "link": "https://stackoverflow.com/users/307428/jdog"}, "reply_to_user": {"reputation": 1565, "user_id": 5093377, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/C9O8p.jpg?s=128&g=1", "display_name": "Milan Velebit", "link": "https://stackoverflow.com/users/5093377/milan-velebit"}, "edited": false, "score": 0, "creation_date": 1516117777, "post_id": 48196227, "comment_id": 83554254, "body": "Jobs is a is a priority job queue backed by redis for node. <a href=\"https://github.com/Automattic/kue\" rel=\"nofollow noreferrer\">github.com/Automattic/kue</a>"}, {"owner": {"reputation": 392, "user_id": 1375394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CXOYJ.jpg?s=128&g=1", "display_name": "John Paul Barbagallo", "link": "https://stackoverflow.com/users/1375394/john-paul-barbagallo"}, "edited": false, "score": 1, "creation_date": 1521137365, "post_id": 48196227, "comment_id": 85615069, "body": "Perhaps a shot in the dark, but if you&#39;re using the <code>-w</code> flag to watch for file changes, ensure you&#39;re narrowing your scope by also using --watchDirectory. If you don&#39;t specify the root location, the root of the file system will be used (which causes 100%+ CPU utilization)."}], "owner": {"reputation": 9222, "user_id": 307428, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a598c573fb032f717dd0754250366cc9?s=128&d=identicon&r=PG", "display_name": "jdog", "link": "https://stackoverflow.com/users/307428/jdog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515619302, "creation_date": 1515619084, "last_edit_date": 1515619302, "question_id": 48196227, "link": "https://stackoverflow.com/questions/48196227/why-is-this-node-express-code-is-causing-memory-leaks-and-spikes", "title": "Why is this Node Express code is causing memory leaks and spikes?", "body": "<p>I am new to JS/Express/Node/Kue (using Forever to keep it running). I have taken on this code base, which is causing our EC2 instance to spike the CPU utilization to 100% every 6 hours. Usage grows steadily from 0% at 08UTC to 100% at 14UTC to 0% at 20UTC to 100% at 08UTC. This happens non stop so looks like hills valley hill valley.</p>\n\n<p>What is odd is that for this business there is 0 activity between 10pm and 8am on this app.</p>\n\n<p>I am looking at the code, which is mostly post requests. I see some params that are not marked as a var so that makes it a global object correct? Wondering if those are not being destroyed? The <code>initMe</code> function is filled with objects not marked as vars either. I have looked at others POST code and they do not delete their <code>post_options</code> or <code>post_options</code> either?</p>\n\n<pre><code>jobs.process('notify_me', 50, function(job, done){\n  var token = null;\n  var ems_id = null;\n  var title = null;\n  var message = null;\n  var type = null;\n  var websocket_server = null;\n  var payload = null;\n\n  function initMe(){\n    logMe(\"Got the following from payload: \" + JSON.stringify(job));\n    ems_id = job.data.ems_id;\n    logMe(\"ems_id: \" + ems_id);\n    title = job.data.title;\n    logMe(\"title: \" + title);\n    message = job.data.message;\n    logMe(\"message: \" + message);\n    type = job.data.type;\n    logMe(\"type: \" + type);\n    websocket_server = job.data.websocket_server;\n    logMe(\"websocket_server: \" + websocket_server);\n    payload = {'title': title, 'message': message, 'type': type}\n\n    login();\n  }\n\n  function displayTime() {\n    var str = \"\";\n\n    var currentTime = new Date()\n    var hours = currentTime.getHours()\n    var minutes = currentTime.getMinutes()\n    var seconds = currentTime.getSeconds()\n\n    if (minutes &lt; 10) {\n        minutes = \"0\" + minutes\n    }\n    if (seconds &lt; 10) {\n        seconds = \"0\" + seconds\n    }\n    str += hours + \":\" + minutes + \":\" + seconds;\n    return str;\n  }\n\n  function logMe(str){\n    console.log(displayTime() + \" : \" + str);\n    job.log(displayTime() + \" : \" + str);\n  }\n\n  function login(){\n    logMe(\"start login\");\n    params = {\n      api_key: ***,\n      email: ********,\n      password: *******\n    };\n    var post_data = querystring.stringify(params);\n    var post_options = {\n        hostname: DOMAIN,\n        port: 443,\n        path: \"/v1/login_bot\",\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n          'Content-Length': post_data.length\n        }\n    };\n    var post_req = https.request(post_options, function(res) {\n      res.setEncoding('utf8');\n      res.on('data', function (chunk) {\n        token = JSON.parse(chunk).token;\n        logMe(\"retrieved token: \" + token);\n        notifyME();\n      });\n    });\n    post_req.write(post_data);\n    post_req.end();\n  }\n\n  function notifyME(){\n    logMe(\"connecting to \" + websocket_server);\n    var socket = io.connect(websocket_server, {'force new connection': true});\n    socket.on('connect', function(){\n      logMe(\"notifying ems: \" + ems_id);\n      socket.emit('notify_me', 'ems_' + ems_id, JSON.stringify({payload: payload}));\n      socket.disconnect();\n    });\n    done();\n  }\n\n  initMe();\n});\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "testing"], "answers": [{"comments": [{"owner": {"reputation": 791, "user_id": 6317210, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f1e88eec6a9c880188673aad8764c7bc?s=128&d=identicon&r=PG&f=1", "display_name": "MadCatm2", "link": "https://stackoverflow.com/users/6317210/madcatm2"}, "edited": false, "score": 0, "creation_date": 1515621813, "post_id": 48196425, "comment_id": 83374713, "body": "Ok, I think I understand the general principle, I am creating a custom event.  However, I am not sure how this would work in my specific case.  All I need to do is move my mouse to a specific point in the page, like so: <code>await mouse.move(innerWidth&#47;2, innerHeight&#47;2);</code> and then trigger a mouse scroll event.  In other words, it is not tied to a specific DOM node."}, {"owner": {"reputation": 2112, "user_id": 8023022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c3315b021ac1d71e530939df988841d?s=128&d=identicon&r=PG&f=1", "display_name": "orabis", "link": "https://stackoverflow.com/users/8023022/orabis"}, "reply_to_user": {"reputation": 791, "user_id": 6317210, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f1e88eec6a9c880188673aad8764c7bc?s=128&d=identicon&r=PG&f=1", "display_name": "MadCatm2", "link": "https://stackoverflow.com/users/6317210/madcatm2"}, "edited": false, "score": 0, "creation_date": 1515622287, "post_id": 48196425, "comment_id": 83374885, "body": "Whoever is reading my comment, I will be really happy to find that I am mistaken because I have been searching this for a long time. You cannot control mouse or keyboards as per se in your browser. What you can do is to create custom events, and trigger them via dom nodes. Make sure that this will go through the pipeline of your event listeners."}], "tags": [], "owner": {"reputation": 2112, "user_id": 8023022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c3315b021ac1d71e530939df988841d?s=128&d=identicon&r=PG&f=1", "display_name": "orabis", "link": "https://stackoverflow.com/users/8023022/orabis"}, "is_accepted": false, "score": 1, "last_activity_date": 1515619979, "creation_date": 1515619979, "answer_id": 48196425, "question_id": 48196218, "link": "https://stackoverflow.com/questions/48196218/trigger-mouse-wheel-scroll-event-puppeteer/48196425#48196425", "title": "Trigger mouse wheel scroll event - puppeteer", "body": "<p>What you are asking for is to use pure JS to implement mousewheel, and test it; i.e. invoke custom events.</p>\n\n<p>In order to add a mouse wheel listener</p>\n\n<pre><code>yourdomNode.addEventListener('mousewheel', ()=&gt;{\n    //Some mousewheel listener\n});\n</code></pre>\n\n<p>And if you would like to send a custom event, which is intended for testing, you can do as below. You can certainly add more information to the created event that can match your test purposes.</p>\n\n<pre><code>var cEvent = new Event('mousewheel');\n\ncEvent.detail = 0;\ncEvent.wheelDeltaY = someWheelDeltaY;\ncEvent.wheelDeltaX = someWeelDeltaX;\n\nif (cEvent.wheelDeltaY) {\n  cEvent.wheelDelta = somewheelDeltaY;\n} else if (cEvent.wheelDeltaX) {\n  cEvent.wheelDelta = someWheelDeltaX;\n}\n\nyourdomNode.dispatchEvent(cEvent);\n</code></pre>\n"}], "owner": {"reputation": 791, "user_id": 6317210, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f1e88eec6a9c880188673aad8764c7bc?s=128&d=identicon&r=PG&f=1", "display_name": "MadCatm2", "link": "https://stackoverflow.com/users/6317210/madcatm2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4168, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1515619979, "creation_date": 1515619019, "last_edit_date": 1515619165, "question_id": 48196218, "link": "https://stackoverflow.com/questions/48196218/trigger-mouse-wheel-scroll-event-puppeteer", "title": "Trigger mouse wheel scroll event - puppeteer", "body": "<p>I have a script in which I need to test the scrolling functionality on my page.  I have two scroll bars, one for the browser window and another for my grid in which I have implemented infinite scroll.  I am testing the browser window scroll like so:</p>\n\n<pre><code>(async () =&gt; {\n\n    const innerWidth = await page.evaluate(_ =&gt; { return window.innerWidth} );\n    const innerHeight = await page.evaluate(_ =&gt; { return window.innerHeight} );\n    const mouse = page.mouse\n    await mouse.move(innerWidth/2, innerHeight/2);\n\n    await page.waitFor(500);\n\n    // Scroll Window\n    page.evaluate(_ =&gt; {\n        window.scrollBy(0, innerHeight);\n    });     \n    ...\n}();\n</code></pre>\n\n<p>This works fine for the window scroll, however, I cannot use this to test the mouse wheel scroll in the grid.  I understand that there is a way to create a mouse wheel event in JQuery like so:</p>\n\n<pre><code>$(\".testdiv\").on('mousewheel', function(e){\n  console.log(e);\n\n})\nvar event = jQuery.Event( \"mousewheel\" );\nevent.deltaY = -1;\n$(\".testdiv\").trigger(event); \n</code></pre>\n\n<p>I need to do this in pure JS.  Is there a way to implement this in my script with pure JS?</p>\n"}, {"tags": ["javascript", "node.js", "express"], "comments": [{"owner": {"reputation": 1, "user_id": 9049765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c2d533c5ce9ba8685fa9bd4be3c7813?s=128&d=identicon&r=PG&f=1", "display_name": "Ghar", "link": "https://stackoverflow.com/users/9049765/ghar"}, "edited": false, "score": 0, "creation_date": 1515620246, "post_id": 48196129, "comment_id": 83373969, "body": "Bump, any help?"}, {"owner": {"reputation": 13960, "user_id": 8574934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/131cee6fb081f9edbccdd36a76b69eee?s=128&d=identicon&r=PG", "display_name": "Mika Sundland", "link": "https://stackoverflow.com/users/8574934/mika-sundland"}, "edited": false, "score": 0, "creation_date": 1515620838, "post_id": 48196129, "comment_id": 83374271, "body": "I couldn&#39;t reproduce your problem. I get &quot;Test&quot; when I go to /api/g."}, {"owner": {"reputation": 1, "user_id": 9049765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c2d533c5ce9ba8685fa9bd4be3c7813?s=128&d=identicon&r=PG&f=1", "display_name": "Ghar", "link": "https://stackoverflow.com/users/9049765/ghar"}, "reply_to_user": {"reputation": 13960, "user_id": 8574934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/131cee6fb081f9edbccdd36a76b69eee?s=128&d=identicon&r=PG", "display_name": "Mika Sundland", "link": "https://stackoverflow.com/users/8574934/mika-sundland"}, "edited": false, "score": 0, "creation_date": 1515622253, "post_id": 48196129, "comment_id": 83374878, "body": "@MikaS, mind sharing your source code?"}, {"owner": {"reputation": 13960, "user_id": 8574934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/131cee6fb081f9edbccdd36a76b69eee?s=128&d=identicon&r=PG", "display_name": "Mika Sundland", "link": "https://stackoverflow.com/users/8574934/mika-sundland"}, "edited": false, "score": 0, "creation_date": 1515624971, "post_id": 48196129, "comment_id": 83375928, "body": "It looks like <a href=\"https://pastebin.com/UYEcYJpA\" rel=\"nofollow noreferrer\">this</a>. I renamed the path to just <code>&quot;&#47;build&quot;</code>. In that folder, I made a file called index.html with some random HTML as content."}, {"owner": {"reputation": 1, "user_id": 9049765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c2d533c5ce9ba8685fa9bd4be3c7813?s=128&d=identicon&r=PG&f=1", "display_name": "Ghar", "link": "https://stackoverflow.com/users/9049765/ghar"}, "reply_to_user": {"reputation": 13960, "user_id": 8574934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/131cee6fb081f9edbccdd36a76b69eee?s=128&d=identicon&r=PG", "display_name": "Mika Sundland", "link": "https://stackoverflow.com/users/8574934/mika-sundland"}, "edited": false, "score": 0, "creation_date": 1515625308, "post_id": 48196129, "comment_id": 83376055, "body": "@MikaS, but was it with react?"}], "owner": {"reputation": 1, "user_id": 9049765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c2d533c5ce9ba8685fa9bd4be3c7813?s=128&d=identicon&r=PG&f=1", "display_name": "Ghar", "link": "https://stackoverflow.com/users/9049765/ghar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515619062, "creation_date": 1515618608, "last_edit_date": 1515619062, "question_id": 48196129, "link": "https://stackoverflow.com/questions/48196129/express-node-sendfile-weird-behavior", "title": "Express / Node sendFile weird behavior", "body": "<p>I'm trying to combine Node/Express and serve React files but its not working as desired.</p>\n\n<p>server.js (my own REST API)</p>\n\n<pre><code>var express = require('express')\nvar app = express()\nvar public = __dirname + \"/../frontend/build\";\napp.use(express.static(public));\n\napp.get('/', (req, res) =&gt; {\n  res.sendFile(public + \"/index.html\");\n});\n\napp.get('/api/g', (req, res) =&gt; {\n    res.send(\"Test\")\n}) \n\n\napp.listen(3001);\n</code></pre>\n\n<p>My React build is in the <code>public</code> variable location. </p>\n\n<p>Now when I go to <code>localhost:3001</code> where my node server runs, I get this page\n<a href=\"https://i.stack.imgur.com/KrCAn.png\" rel=\"nofollow noreferrer\">Page</a></p>\n\n<p><strong>but</strong> the issue is when I go to <code>localhost:3001/api/g</code> I <em>still get the same page.</em> Meaning, I <strong>dont</strong> get my \"res.send\" part, I have no idea why this is happening. Can anyone familiar with Node/Express help me out? </p>\n"}, {"tags": ["javascript", "reactjs", "react-router", "react-transition-group"], "answers": [{"tags": [], "owner": {"reputation": 1619, "user_id": 1838547, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed9cf17c9a25199bad156e828183c670?s=128&d=identicon&r=PG", "display_name": "Leopold Kristjansson", "link": "https://stackoverflow.com/users/1838547/leopold-kristjansson"}, "is_accepted": true, "score": 2, "last_activity_date": 1516035377, "creation_date": 1516035377, "answer_id": 48267506, "question_id": 48196099, "link": "https://stackoverflow.com/questions/48196099/renderroutes-and-the-location-property-on-switch/48267506#48267506", "title": "renderRoutes and the location property on &lt;Switch&gt;", "body": "<pre><code>{renderRoutes(this.props.route.routes, null, {\n    location: this.props.location\n})}\n</code></pre>\n\n<p>This is the answer. However, currently <strong>this only works with the latest version of react-router-config</strong>, which is <a href=\"https://github.com/JounQin/modules/tree/react-router-config\" rel=\"nofollow noreferrer\">available from GitHub</a>, but not from NPM. I had the NPM version and what the official react-router-config documentation was suggesting would only give me an error.</p>\n\n<pre><code>renderRoutes(routes, extraProps = {}, switchProps = {})\n</code></pre>\n\n<p>Now things like react-transition-group seem to work fine.</p>\n"}], "owner": {"reputation": 1619, "user_id": 1838547, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed9cf17c9a25199bad156e828183c670?s=128&d=identicon&r=PG", "display_name": "Leopold Kristjansson", "link": "https://stackoverflow.com/users/1838547/leopold-kristjansson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1061, "favorite_count": 1, "accepted_answer_id": 48267506, "answer_count": 1, "score": 1, "last_activity_date": 1516035377, "creation_date": 1515618467, "question_id": 48196099, "link": "https://stackoverflow.com/questions/48196099/renderroutes-and-the-location-property-on-switch", "title": "renderRoutes and the location property on &lt;Switch&gt;", "body": "<p>I'm trying to use the <a href=\"https://github.com/reactjs/react-transition-group\" rel=\"nofollow noreferrer\">react-transition-group</a> library for page transition in an app using <a href=\"https://github.com/ReactTraining/react-router/tree/master/packages/react-router-config\" rel=\"nofollow noreferrer\">react-router-config</a>.</p>\n\n<p>For <a href=\"https://github.com/reactjs/react-transition-group\" rel=\"nofollow noreferrer\">react-transition-group</a> to work, I need to add a location property on <code>&lt;Switch&gt;</code>, like so:</p>\n\n<p><code>&lt;Switch location={location}&gt;</code></p>\n\n<p>However, since there is no <code>&lt;Switch&gt;</code> when using the <a href=\"https://github.com/ReactTraining/react-router/tree/master/packages/react-router-config\" rel=\"nofollow noreferrer\">react-router-config</a> syntax, I am a bit lost. Any suggestions?</p>\n\n<p>There is a discussion on the matter <a href=\"https://github.com/ReactTraining/react-router/pull/5752\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/ReactTraining/react-router/commit/d1071993e6262bc2e752c79b52a445979ce67111\" rel=\"nofollow noreferrer\">here</a>, but no solution yet it seems.</p>\n\n<p>My current component looks like this and the transition works buggy.</p>\n\n<pre><code>class App extends Component {\n    render() {\n        const currentKey = this.props.location.pathname;\n        const timeout = 2000;\n        return (\n            &lt;div&gt;\n                &lt;TransitionGroup component=\"main\" className=\"page-main\"&gt;\n                    &lt;CSSTransition\n                        key={currentKey}\n                        timeout={timeout}\n                        classNames=\"fade\"\n                        mountOnEnter={true}\n                        unmountOnExit={true}\n                        appear\n                    &gt;\n                        {renderRoutes(this.props.route.routes)}\n                    &lt;/CSSTransition&gt;\n                &lt;/TransitionGroup&gt;\n            &lt;/div&gt;\n        );\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic-framework", "http-headers"], "answers": [{"tags": [], "owner": {"reputation": 302, "user_id": 3462687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t8eCd.png?s=128&g=1", "display_name": "Hung Tran", "link": "https://stackoverflow.com/users/3462687/hung-tran"}, "is_accepted": true, "score": 1, "last_activity_date": 1515629430, "creation_date": 1515629430, "answer_id": 48198061, "question_id": 48196092, "link": "https://stackoverflow.com/questions/48196092/send-data-in-a-http-post-in-angular-2/48198061#48198061", "title": "Send data in a http post in angular 2?", "body": "<p>There are two things you need to modify:</p>\n\n<ol>\n<li><p>Your headers passed into the http post method missed one step. It should contain the following:</p>\n\n<pre><code>let options = new RequestOptions({ headers: headers });\n</code></pre>\n\n<p>Ensure you import <code>RequestOptions</code> from <code>@angular/http</code></p>\n\n<p>Then pass <code>options</code> into your post method as follows:</p>\n\n<pre><code>return this.http.post(url, body, options)...\n</code></pre></li>\n<li><p>The http post method body can only be a string. Therefore, it should be as follows:</p>\n\n<pre><code>let body = 'grant_type=password' + '&amp;scope=profile';\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 101, "user_id": 7384064, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh6.googleusercontent.com/-Sl_MnfhvTNI/AAAAAAAAAAI/AAAAAAAAAFk/b_b5cxk-6jM/photo.jpg?sz=128", "display_name": "bECkO", "link": "https://stackoverflow.com/users/7384064/becko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1168, "favorite_count": 0, "accepted_answer_id": 48198061, "answer_count": 1, "score": 0, "last_activity_date": 1515629430, "creation_date": 1515618429, "question_id": 48196092, "link": "https://stackoverflow.com/questions/48196092/send-data-in-a-http-post-in-angular-2", "title": "Send data in a http post in angular 2?", "body": "<p>I'm trying to send data with http post following differents threads, but I can't do it.\nI need to send this data, tested in postman.</p>\n\n<p>Headers.\nContent-Type: application/x-www-form-urlencoded\nAuthorization: Basic user:pass</p>\n\n<p>Body.\ngrant_type: password\nscope: profile</p>\n\n<p>This is my code.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>login() {\r\n\r\n    let url = URL_LOGIN;\r\n\r\n    let headers = new Headers(\r\n      {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Basic user:pass'\r\n      });\r\n\r\n    let body = {\r\n      'grant_type': 'password',\r\n      'scope': 'profile'\r\n    }\r\n\r\n    return this.http.post(url, body, { headers: headers })\r\n      .map((response: Response) =&gt; {\r\n        var result = response.json();\r\n        return result;\r\n      })\r\n\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Thanks in advance!!</p>\n"}, {"tags": ["javascript", "css", "reactjs", "react-native"], "comments": [{"owner": {"reputation": 303, "user_id": 8313410, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/d0d27f2c72235508da8d28a9bdaef79c?s=128&d=identicon&r=PG&f=1", "display_name": "dutchkillsg", "link": "https://stackoverflow.com/users/8313410/dutchkillsg"}, "edited": false, "score": 0, "creation_date": 1515618501, "post_id": 48196048, "comment_id": 83373190, "body": "I should add that I have changed the props of the Image to this.props.book_image as shown in the api but still no luck. Is it perhaps my styling? I can see the image url in the react-devtools"}], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 8313410, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/d0d27f2c72235508da8d28a9bdaef79c?s=128&d=identicon&r=PG&f=1", "display_name": "dutchkillsg", "link": "https://stackoverflow.com/users/8313410/dutchkillsg"}, "edited": false, "score": 0, "creation_date": 1515620318, "post_id": 48196162, "comment_id": 83374003, "body": "thank you very much! Some of the old resources for native do not have updated information on Image rendering"}], "tags": [], "owner": {"reputation": 1975, "user_id": 4698074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UkOt8.jpg?s=128&g=1", "display_name": "H. Tugkan Kibar", "link": "https://stackoverflow.com/users/4698074/h-tugkan-kibar"}, "is_accepted": true, "score": 1, "last_activity_date": 1515618758, "creation_date": 1515618758, "answer_id": 48196162, "question_id": 48196048, "link": "https://stackoverflow.com/questions/48196048/image-rendering-from-api-call-react-native/48196162#48196162", "title": "Image rendering from API Call - React Native", "body": "<p>In react-native, to render images from external sources you need to provide something along the lines;</p>\n\n<p><code>{ uri: 'http://example.com/example.png }</code></p>\n\n<p>Therefore you should edit your <code>Image</code>'s <code>source</code> prop into;</p>\n\n<p><code>source={{ uri: this.props.cover_URL }}</code></p>\n"}], "owner": {"reputation": 303, "user_id": 8313410, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/d0d27f2c72235508da8d28a9bdaef79c?s=128&d=identicon&r=PG&f=1", "display_name": "dutchkillsg", "link": "https://stackoverflow.com/users/8313410/dutchkillsg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1055, "favorite_count": 0, "accepted_answer_id": 48196162, "answer_count": 1, "score": 0, "last_activity_date": 1515618758, "creation_date": 1515618252, "question_id": 48196048, "link": "https://stackoverflow.com/questions/48196048/image-rendering-from-api-call-react-native", "title": "Image rendering from API Call - React Native", "body": "<p>I have a flatlist where I am running an API call from the NYT. \nI am able to render the information of each book I need but I am having trouble rendering the book image from the API call. </p>\n\n<pre><code>import React, { Component } from \"react\";\nimport { StyleSheet, Text, View, Image, FlatList } from \"react-native\"\n\nimport BookItem from \"./src/BookItem\"\nimport fetchBooks from \"./src/API\" //function to call api\n\n\nclass NYT extends Component {\n    constructor(props){\n        super(props);\n        this.state = { data: [] };\n    }\n\n    componentDidMount() {\n        this._refreshData();\n    }\n\n    _renderItem = ({item}) =&gt; {\n        return (\n            &lt;BookItem\n                coverURL = {item.book_image}\n                title= {item.key}\n                author={item.author}\n            /&gt;\n        );\n    }\n\n    _addKeysToBooks = books =&gt; {\n        //Takes the API response from the NYTimes\n        //and adds a key property to the object\n        //for rendering\n        return books.map(book =&gt; {\n            return Object.assign(book, {key: book.title})\n        });\n    };\n\n    _refreshData = () =&gt; {\n        fetchBooks().then(books =&gt; {\n            this.setState({ data: this._addKeysToBooks(books)})\n        });\n    };\n\n    render(){\n        return &lt;FlatList data = {this.state.data}\n        renderItem={this._renderItem} /&gt;\n    }\n}\n\nconst styles = StyleSheet.create({\n    continer: {\n        flex: 1,\n        paddingTop: 22\n    }\n});\n\nexport default NYT;\n</code></pre>\n\n<p>The above code does not run any errors but I am not sure if I am adding the proper props to the BookItem.js code below</p>\n\n<pre><code>import React, { Component } from \"react\";\n\nimport { StyleSheet, Text, View, Image, ListView } from \"react-native\";\n\n\nclass BookItem extends Component {\n    render(){\n        return (\n            &lt;View style = {styles.bookItem}&gt;\n                &lt;Image style  = {styles.cover} source = {this.props.cover_URL} /&gt; //does not render the image from API\n                &lt;View style = {styles.info}&gt;\n                    &lt;Text style = {styles.author}&gt;{this.props.author}&lt;/Text&gt;\n                    &lt;Text style = {styles.title}&gt;{this.props.title}&lt;/Text&gt;\n                &lt;/View&gt;\n            &lt;/View&gt;\n        );\n    }\n}\n\nconst styles = StyleSheet.create({\n    bookItem: {\n        flexDirection: \"row\",\n        backgroundColor: \"#FFFFFF\",\n        borderBottomColor: \"#AAAAAA\",\n        borderBottomWidth: 2,\n        padding: 5,\n        height: 175\n    },\n    cover: {\n        flex: 1,\n        height: 150,\n        width: 150,\n        resizeMode: \"contain\"\n    },\n    info: {\n        flex: 3,\n        alignItems: \"flex-end\",\n        flexDirection: \"column\",\n        alignSelf: \"center\",\n        padding: 20\n    },\n    author: { fontSize: 18 },\n    title: {fontSize: 18, fontWeight: \"bold\"}\n});\nexport default BookItem;\n</code></pre>\n\n<p>I believe the books I am using on React Native might be out of date with how an image renders and I do not seem to quite grasp the docs fb seems to put out. </p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 3, "creation_date": 1515618338, "post_id": 48196044, "comment_id": 83373114, "body": "You should use <code>max-width</code> in CSS &amp; get rid of all of your JS."}, {"owner": {"reputation": 3699, "user_id": 375399, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2ee1c857b767375e1fc848279f64584b?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/375399/nick"}, "edited": false, "score": 0, "creation_date": 1515618750, "post_id": 48196044, "comment_id": 83373324, "body": "If there are more than a few images, this will make windowing systems that do live updates pretty slow."}, {"owner": {"reputation": 867, "user_id": 2622984, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/ZPf9s.jpg?s=128&g=1", "display_name": "Ambulare", "link": "https://stackoverflow.com/users/2622984/ambulare"}, "edited": false, "score": 0, "creation_date": 1515619006, "post_id": 48196044, "comment_id": 83373429, "body": "Couldn&#39;t you use css media queries to change the displayed image dimensions for different document widths?"}], "answers": [{"tags": [], "owner": {"reputation": 14587, "user_id": 5724303, "user_type": "registered", "profile_image": "https://graph.facebook.com/1100229700001875/picture?type=large", "display_name": "Kosh", "link": "https://stackoverflow.com/users/5724303/kosh"}, "is_accepted": true, "score": 2, "last_activity_date": 1515619680, "last_edit_date": 1515619680, "creation_date": 1515619361, "answer_id": 48196286, "question_id": 48196044, "link": "https://stackoverflow.com/questions/48196044/resize-all-images-in-the-page-after-resizing-the-browser/48196286#48196286", "title": "resize all images in the page after resizing the browser", "body": "<p>Your problem can be solved without Javascript.<br>\nIf your images sizes depend on window width then consider using <code>vw</code> units.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#tpReport {\r\n  float: right;\r\n  background-color: yellow;\r\n  display: inline-block;\r\n  width: 45%;\r\n}\r\n\r\n#square {\r\n  width: 9vw\r\n}\r\n\r\n#rectangular {\r\n  width: 15vw\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"tpReport\" style=\"\"&gt;\r\n  &lt;p&gt;Try to resize the browser window to display the windows height and width.&lt;/p&gt;\r\n  &lt;span style=\"bottom: 60%; left: 41%;clear:both;\"&gt;\r\n           &lt;a href=\"#\"&gt; \r\n            &lt;img id=\"rectangular\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/Pear_DS.jpg/220px-Pear_DS.jpg\" /&gt; \r\n           &lt;/a&gt;\r\n         &lt;/span&gt;\r\n\r\n  &lt;span style=\"bottom: 10%; left: 41%;float:right;\"&gt;\r\n           &lt;a href=\"#\"&gt; \r\n             &lt;img id=\"square\" src=\"http://tweedfruitexchange.com.au/wp-content/uploads/2016/08/burre-pear-e1471916917953.png\" /&gt; \r\n           &lt;/a&gt;\r\n         &lt;/span&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 237, "user_id": 9099842, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/868273c97ce3fdde5c7ded98d3b04676?s=128&d=identicon&r=PG&f=1", "display_name": "HTownGirl17", "link": "https://stackoverflow.com/users/9099842/htowngirl17"}, "is_accepted": false, "score": 0, "last_activity_date": 1515619399, "creation_date": 1515619399, "answer_id": 48196295, "question_id": 48196044, "link": "https://stackoverflow.com/questions/48196044/resize-all-images-in-the-page-after-resizing-the-browser/48196295#48196295", "title": "resize all images in the page after resizing the browser", "body": "<p>Get rid all the scripts. You don't need JS. Change the width however you like it in a separate CSS file. Below is an example of what you could do. Change size of the widths I use to fit your needs. Also, everywhere you have styling done on your html file, you need to put that on your CSS file, too. It cleans up your html &amp; makes it easier to read.</p>\n\n<p><strong>In CSS:</strong></p>\n\n<pre><code>#rectangle{\nwidth: 60px;\n}\n\n#square {\nwidth: 80px;\n}\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 8132464, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/813006916118819049d498fd14b1186e?s=128&d=identicon&r=PG&f=1", "display_name": "window", "link": "https://stackoverflow.com/users/8132464/window"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 48196286, "answer_count": 2, "score": 2, "last_activity_date": 1515619680, "creation_date": 1515618225, "last_edit_date": 1515618569, "question_id": 48196044, "link": "https://stackoverflow.com/questions/48196044/resize-all-images-in-the-page-after-resizing-the-browser", "title": "resize all images in the page after resizing the browser", "body": "<p>I am trying to resize the images in my page after resizing the browser. I could manage but I just want to know if there is a better way to resize all images with different width (square, rectangular,..) without the need to call the <code>displayWindowSize();</code> for every image and setting different value <code>3,5</code> . The value is the relation between the tpReport width and the image width.</p>\n\n<p>What is the best way to resize all images with different width in the page?</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n   &lt;head&gt;\n      &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js\"&gt;&lt;/script&gt;\n      &lt;script&gt;\n         $(window).resize(function() {\n         if(this.resizeTO) clearTimeout(this.resizeTO);\n             this.resizeTO = setTimeout(function() {\n               $(this).trigger('windowResize');\n             }, 200); \n         });\n\n         $(window).on('windowResize', function() {\n            console.log($(window).width()); \n             var tpReportWidth = $(\"#tpReport\").width();\n\n             //var squareWidth = $(\"#square\").width();\n             displayWindowSize(5, tpReportWidth,\"#square\");\n\n             //var rectangularWidth = $(\"#rectangular\").width();\n             displayWindowSize(3, tpReportWidth,\"#rectangular\");\n\n         });\n\n         function displayWindowSize(value, tpReportWidth, selector) {  \n           var newIconWidth = Math.round(tpReportWidth/value).toFixed(2);\n           console.log('iconWidth after: ' + newIconWidth);\n           //$(selector).attr('height',newIconWidth);\n          $(selector).attr('width',newIconWidth);\n         };         \n      &lt;/script&gt;\n   &lt;/head&gt;\n   &lt;body&gt;\n      &lt;p id=\"demo\"&gt;&lt;/p&gt;\n      &lt;div id=\"tpReport\"  style=\"float:right;background-color:yellow; display:inline-block; width:45%;\"&gt;\n         &lt;p&gt;Try to resize the browser window to display the windows height and width.&lt;/p&gt;\n         &lt;span  style=\"bottom: 60%; left: 41%;clear:both;\" &gt;\n           &lt;a href=\"#\"&gt; \n            &lt;img id=\"rectangular\" src=\"rectangular.png\" /&gt; \n           &lt;/a&gt;\n         &lt;/span&gt; \n\n          &lt;span  style=\"bottom: 10%; left: 41%;float:right;\" &gt;\n           &lt;a href=\"#\"&gt; \n             &lt;img id=\"square\" src=\"square.png\" /&gt; \n           &lt;/a&gt;\n         &lt;/span&gt; \n      &lt;/div&gt;\n   &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "spring"], "comments": [{"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1515667808, "post_id": 48196009, "comment_id": 83391523, "body": "For what purpose did you tag this with <code>java</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9188449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/576ff673505c7939d5b90fbc6dc4f0e1?s=128&d=identicon&r=PG&f=1", "display_name": "Brij Patel", "link": "https://stackoverflow.com/users/9188449/brij-patel"}, "edited": false, "score": 0, "creation_date": 1515620057, "post_id": 48196090, "comment_id": 83373874, "body": "Works! Thank you, and yea changing visibility worked out much better!"}], "tags": [], "owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "is_accepted": true, "score": 0, "last_activity_date": 1515618422, "creation_date": 1515618422, "answer_id": 48196090, "question_id": 48196009, "link": "https://stackoverflow.com/questions/48196009/change-a-table-row-dynamically-using-jquery-javascrpit/48196090#48196090", "title": "Change a table row dynamically using JQuery/Javascrpit", "body": "<p>Pass the element into <code>onclick</code> so you can traverse from that element</p>\n\n<pre><code>&lt;a href=\"#\" onclick=\"toggle(this)\" &gt;\n</code></pre>\n\n<p>JS</p>\n\n<pre><code>function togglet(el){\n    $(el).siblings('.wantTotoggleThis, .iWantToReplaceItWithThis').toggle();            \n }\n</code></pre>\n\n<p>Note that using <code>onclick</code> is an outdated practice and it is better to use modern unobtrusive event listeners.</p>\n\n<p>Also going to run into funky table layouts as a result of toggling individual cells. Changing <code>visibility</code> might be a better approach</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 9188449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/576ff673505c7939d5b90fbc6dc4f0e1?s=128&d=identicon&r=PG&f=1", "display_name": "Brij Patel", "link": "https://stackoverflow.com/users/9188449/brij-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1515699109, "creation_date": 1515699109, "answer_id": 48214556, "question_id": 48196009, "link": "https://stackoverflow.com/questions/48196009/change-a-table-row-dynamically-using-jquery-javascrpit/48214556#48214556", "title": "Change a table row dynamically using JQuery/Javascrpit", "body": "<p>I also found another way of doing this if anyone else is interested by using a function </p>\n\n<pre><code>function toggleSomething(element){\n  var row = $(element).closest.('tr');\n  row.find('.iwantTotoggleThis').toggle();\n  row.find('.iWantToReplaceItWithThis').toggle();\n }\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9188449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/576ff673505c7939d5b90fbc6dc4f0e1?s=128&d=identicon&r=PG&f=1", "display_name": "Brij Patel", "link": "https://stackoverflow.com/users/9188449/brij-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 48196090, "answer_count": 2, "score": -1, "last_activity_date": 1517405832, "creation_date": 1515618104, "last_edit_date": 1517405832, "question_id": 48196009, "link": "https://stackoverflow.com/questions/48196009/change-a-table-row-dynamically-using-jquery-javascrpit", "title": "Change a table row dynamically using JQuery/Javascrpit", "body": "<p>So I've made a table using a for loop in java spring and I want to toggle parts of it on and off when a button is clicked so a super simplified version looks something like this</p>\n\n<pre><code>&lt;jsp:attribute name= \"scripts\"&gt;\n       &lt;script type=\"text/javascript\"&gt;\n        function togglet(){\n            $('.wantTotoggleThis').toggle();\n            $('.iWantToReplaceItWithThis').toggle();\n        }\n    &lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        $(document).ready(function(){\n            $('.iWantToReplaceItWithThis').hide();\n        })\n    &lt;/script&gt;\n&lt;/jsp:attribute&gt;\n&lt;table&gt;\n&lt;tbody&gt;\n    &lt;c:foreach var = \"whatever\" items = \"$list\"&gt;\n    &lt;td class = \"wantTotoggleThis\"&gt; Hello &lt;/td&gt;\n    &lt;td class = \"iWantToReplaceItWithThis\"&gt; Replaced &lt;/td&gt;\n    &lt;a href=\"#\" onclick=\"toggle()\" &gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>The way I toggle them right now is I just use a toggle function, but the draw back to that is that every single in the entry in the table gets toggled. I only want to be able to toggle the row where I clicked the button on.</p>\n"}, {"tags": ["javascript", "c#", "google-maps", "google-maps-api-3"], "answers": [{"comments": [{"owner": {"reputation": 14372, "user_id": 654019, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/438148c9a2ac0c1bb66f92a3adbafac2?s=128&d=identicon&r=PG", "display_name": "mans", "link": "https://stackoverflow.com/users/654019/mans"}, "edited": false, "score": 0, "creation_date": 1515619279, "post_id": 48196095, "comment_id": 83373541, "body": "I am looking to find the length of all roads that are inside the polygon and not the size of polygon sides.Assume that the user draw a polygon that covers London city center, I want to calculate the length of all roads that are inside that polygon."}, {"owner": {"reputation": 20, "user_id": 8008094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4baf3154ad331ca2c6407af3bc2004f4?s=128&d=identicon&r=PG&f=1", "display_name": "James P.", "link": "https://stackoverflow.com/users/8008094/james-p"}, "reply_to_user": {"reputation": 14372, "user_id": 654019, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/438148c9a2ac0c1bb66f92a3adbafac2?s=128&d=identicon&r=PG", "display_name": "mans", "link": "https://stackoverflow.com/users/654019/mans"}, "edited": false, "score": 0, "creation_date": 1515619887, "post_id": 48196095, "comment_id": 83373799, "body": "Wow. Okay. That might me a little difficult to rebuild the wheel on. Do you consider all the neighborhood subdivisions as roads? What about dirt roads?  It would be easier if you found a way to manipulate the Distance Matrix API to return information in such a way that you just have to sum it up.  I would suggest that you attempt to get from the API a list of ALL roads that fall inside that polygon, and their respective length. Then sum them together. This logic would work for any roads that both begin, and end, within the polygon. However, not for example, hwy 85 that goes from FL to NY."}, {"owner": {"reputation": 20, "user_id": 8008094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4baf3154ad331ca2c6407af3bc2004f4?s=128&d=identicon&r=PG&f=1", "display_name": "James P.", "link": "https://stackoverflow.com/users/8008094/james-p"}, "reply_to_user": {"reputation": 14372, "user_id": 654019, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/438148c9a2ac0c1bb66f92a3adbafac2?s=128&d=identicon&r=PG", "display_name": "mans", "link": "https://stackoverflow.com/users/654019/mans"}, "edited": false, "score": 0, "creation_date": 1515620429, "post_id": 48196095, "comment_id": 83374058, "body": "If a road did begin and end outside the polygon, for example imagine a single raw spaghetti  laying across the top of a glass of water. (The spaghetti being the road, and the glass&#39;s rim being the metaphorical polygon.) You would need to trim off the ends of the spaghetti, on both sides, exactly where the glass makes contact with it. In which case, you may be able to manipulate the Distance Matrix API to &quot;trim off&quot; the road by setting the starting and ending points of map directions, to match that of the polygon&#39;s parameter."}, {"owner": {"reputation": 14372, "user_id": 654019, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/438148c9a2ac0c1bb66f92a3adbafac2?s=128&d=identicon&r=PG", "display_name": "mans", "link": "https://stackoverflow.com/users/654019/mans"}, "edited": false, "score": 0, "creation_date": 1515620879, "post_id": 48196095, "comment_id": 83374290, "body": "which api call give me the list of roads that fell inside a polygon?"}, {"owner": {"reputation": 20, "user_id": 8008094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4baf3154ad331ca2c6407af3bc2004f4?s=128&d=identicon&r=PG&f=1", "display_name": "James P.", "link": "https://stackoverflow.com/users/8008094/james-p"}, "reply_to_user": {"reputation": 14372, "user_id": 654019, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/438148c9a2ac0c1bb66f92a3adbafac2?s=128&d=identicon&r=PG", "display_name": "mans", "link": "https://stackoverflow.com/users/654019/mans"}, "edited": false, "score": 0, "creation_date": 1515621211, "post_id": 48196095, "comment_id": 83374437, "body": "Are you able to get all the corners of the polygon in terms of longitude or latitude? if so, you can use simple linear algebra to derive an equation to find every single point that falls on the perimeter of the polygon, in terms of latitude and longitude. Then, if any of the roads intercept the perimeter, you have a way of checking if this is true or not."}, {"owner": {"reputation": 20, "user_id": 8008094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4baf3154ad331ca2c6407af3bc2004f4?s=128&d=identicon&r=PG&f=1", "display_name": "James P.", "link": "https://stackoverflow.com/users/8008094/james-p"}, "reply_to_user": {"reputation": 14372, "user_id": 654019, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/438148c9a2ac0c1bb66f92a3adbafac2?s=128&d=identicon&r=PG", "display_name": "mans", "link": "https://stackoverflow.com/users/654019/mans"}, "edited": false, "score": 0, "creation_date": 1515621653, "post_id": 48196095, "comment_id": 83374633, "body": "containsLocation()  containsLocation(point:LatLng, polygon:Polygon)  To find whether a given point falls within a polygon, pass the point and the polygon to google.maps.geometry.poly.containsLocation(). The functions returns true if the point is within the polygon or on its edge"}], "tags": [], "owner": {"reputation": 20, "user_id": 8008094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4baf3154ad331ca2c6407af3bc2004f4?s=128&d=identicon&r=PG&f=1", "display_name": "James P.", "link": "https://stackoverflow.com/users/8008094/james-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1517255553, "last_edit_date": 1517255553, "creation_date": 1515618446, "answer_id": 48196095, "question_id": 48195918, "link": "https://stackoverflow.com/questions/48195918/how-to-find-the-length-of-all-roads-inside-a-polygon-in-google-map/48196095#48196095", "title": "How to find the length of all roads inside a polygon in google map?", "body": "<p>If you are calculating the length of the sides of the polygon, that is much easier, as the sides are straight lines from one corner to another. You will need to declare a point of origin, (0,0), then find where each of the corners end, then calculate the length of that single side of the polygon using the distance formula, (that square root formula from middle school that we all loved so much): <a href=\"http://www.mathwarehouse.com/algebra/distance_formula/index.php\" rel=\"nofollow noreferrer\">http://www.mathwarehouse.com/algebra/distance_formula/index.php</a></p>\n\n<p>If instead, you are trying to calculate the length of the individual roads that fall within the polygon. This would be much more tricky, as there are not very many roads that are perfectly straight lines. You'll need to use the arch length formula: <a href=\"http://tutorial.math.lamar.edu/Classes/CalcII/ArcLength.aspx\" rel=\"nofollow noreferrer\">http://tutorial.math.lamar.edu/Classes/CalcII/ArcLength.aspx</a></p>\n\n<p>Both formulas are easy to use, but the difficult part is setting up the equations for each of the lines. The curved lines will be much more difficult as you will need to somehow graph the roads using equations. Which depending on how Google Map's API works, you may have to get creative with you mathematical logic.</p>\n\n<p>I would be interested in coding this with you. Do you have a GitHub repository?</p>\n"}], "owner": {"reputation": 14372, "user_id": 654019, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/438148c9a2ac0c1bb66f92a3adbafac2?s=128&d=identicon&r=PG", "display_name": "mans", "link": "https://stackoverflow.com/users/654019/mans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 705, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1517255561, "creation_date": 1515617714, "last_edit_date": 1517255561, "question_id": 48195918, "link": "https://stackoverflow.com/questions/48195918/how-to-find-the-length-of-all-roads-inside-a-polygon-in-google-map", "title": "How to find the length of all roads inside a polygon in google map?", "body": "<p>I am trying to develop a web application that uses 'Google Map' (JavaScript API).</p>\n\n<p>The user should be able to draw a polygon on the map, and then the system calculates the length of all roads on that polygon.</p>\n\n<p>I can draw the polygon on the map, but I don't know how to calculate the length of roads that are inside the polygons.</p>\n\n<p>How can I do this?</p>\n\n<p>I am using 'ASP.Net MVC' and I am able to send the polygons data to the server if it is easier to calculate it in C#.</p>\n"}, {"tags": ["javascript", "arrays", "object"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8897421"}, "edited": false, "score": 0, "creation_date": 1515617641, "post_id": 48195887, "comment_id": 83372771, "body": "Solve it by sorting if you can. Or be safe and use an array of objects. There are rules for the ordering, which I think now put numeric indexes first and sequential. Before that it was implementation defined, so there were no guarantees."}, {"owner": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "edited": false, "score": 4, "creation_date": 1515617941, "post_id": 48195887, "comment_id": 83372909, "body": "If you can, change <code>aloha</code> to a <code>Map</code>, it respects order when you insert. Otherwise you&#39;re going to have a hard time with hashes."}, {"owner": {"reputation": 1835, "user_id": 6731368, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ac246a4251b40daa1893524ded0927f0?s=128&d=identicon&r=PG&f=1", "display_name": "a2441918", "link": "https://stackoverflow.com/users/6731368/a2441918"}, "edited": false, "score": 0, "creation_date": 1515618323, "post_id": 48195887, "comment_id": 83373109, "body": "How do you want the solution to look like?"}, {"owner": {"reputation": 11, "user_id": 9200672, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OQoUgUc2ge0/AAAAAAAAAAI/AAAAAAAAAR8/gM0rOiqqo8I/photo.jpg?sz=128", "display_name": "max 1337", "link": "https://stackoverflow.com/users/9200672/max-1337"}, "edited": false, "score": 0, "creation_date": 1515618440, "post_id": 48195887, "comment_id": 83373164, "body": "solution for given example should look like this &gt;&gt; [   [&#39;this&#39;, &#39;is&#39;],   [&#39;not&#39;, &#39;so&#39;],    [&#39;hard&#39;, &#39;really o_O ?!&#39;],    [&#39;a&#39;, &#39;xxx&#39;],    [1, &#39;-----&#39;] ]"}], "owner": {"reputation": 11, "user_id": 9200672, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OQoUgUc2ge0/AAAAAAAAAAI/AAAAAAAAAR8/gM0rOiqqo8I/photo.jpg?sz=128", "display_name": "max 1337", "link": "https://stackoverflow.com/users/9200672/max-1337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "closed_date": 1515618321, "answer_count": 0, "score": 1, "last_activity_date": 1515621208, "creation_date": 1515617579, "last_edit_date": 1515618281, "question_id": 48195887, "link": "https://stackoverflow.com/questions/48195887/return-the-array-of-the-key-value-pairs-of-object-js", "closed_reason": "Duplicate", "title": "return the array of the key-value pairs of object js", "body": "<p>I have to return the array of the key-value pairs of object via a method. I'm using <strong>Object.entries()</strong>, but it changes the order of properties(in example you can see that numerical property is moved to the first place in returned array).</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Object.toPairs = function (obj) {return Object.entries(obj);}\n\nvar aloha = {\n  this: 'is',\n  not: 'so',\n  hard: 'really o_O ?!',\n  a: 'xxx',\n  1: '-----',\n};\nObject.toPairs(aloha)\n</code></pre>\n\n<p>\nresult is </p>\n\n<pre><code>[ [ '1', '-----' ], [ 'this', 'is' ], [ 'not', 'so' ], [ 'hard', 'really o_O ?!' ], [ 'a', 'xxx' ] ]\n</code></pre>\n\n<p>How can it be properly solved? </p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1515617644, "post_id": 48195882, "comment_id": 83372773, "body": "you might have to pad with a leading <code>0</code>"}, {"owner": {"reputation": 10010, "user_id": 1894021, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/JXt2j.jpg?s=128&g=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/1894021/isaac"}, "edited": false, "score": 2, "creation_date": 1515617743, "post_id": 48195882, "comment_id": 83372814, "body": "I don&#39;t think this question is poor quality, it&#39;s clear what they&#39;re asking and clear what their issue is. They need to pad their output."}], "answers": [{"comments": [{"owner": {"reputation": 1329, "user_id": 4760460, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0fd604a869d111d6abad3a13fbf799a9?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/4760460/anthony"}, "edited": false, "score": 1, "creation_date": 1515619269, "post_id": 48195913, "comment_id": 83373535, "body": "I think Mona is trying to find a darker range of color. Swapping <code>g</code> and <code>b</code>, sets the <code>firstColor</code> to green instead of a darker blue, <a href=\"https://jsfiddle.net/ufk2ha0j/1/\" rel=\"nofollow noreferrer\">see here</a>. Without swapping seems to give what Mona is looking for, <a href=\"https://jsfiddle.net/ufk2ha0j/2/\" rel=\"nofollow noreferrer\">see here</a>."}, {"owner": {"reputation": 8426, "user_id": 1253074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7359ba202d56b428b3698ea2016995ef?s=128&d=identicon&r=PG", "display_name": "Intervalia", "link": "https://stackoverflow.com/users/1253074/intervalia"}, "reply_to_user": {"reputation": 1329, "user_id": 4760460, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0fd604a869d111d6abad3a13fbf799a9?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/4760460/anthony"}, "edited": false, "score": 0, "creation_date": 1515619779, "post_id": 48195913, "comment_id": 83373750, "body": "It is RGB and the code in the article was making it RBG. I had figured that out about an hour before this questions was asked. That is why I switched the <code>g</code> and the <code>b</code> in the code."}, {"owner": {"reputation": 1329, "user_id": 4760460, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0fd604a869d111d6abad3a13fbf799a9?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/4760460/anthony"}, "edited": false, "score": 1, "creation_date": 1515621152, "post_id": 48195913, "comment_id": 83374403, "body": "You have to switch it everywhere in the function not just in the return statement."}, {"owner": {"reputation": 5710, "user_id": 2426488, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/srdPe.png?s=128&g=1", "display_name": "Mona Coder", "link": "https://stackoverflow.com/users/2426488/mona-coder"}, "edited": false, "score": 1, "creation_date": 1515622132, "post_id": 48195913, "comment_id": 83374820, "body": "Hi Intervalia and Anthony and thank you guys both for helping me on this. @Intevalia, with respect on what you have done I think Anthony is right because I am getting greenish color on darker blue! when using your solutin"}, {"owner": {"reputation": 8426, "user_id": 1253074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7359ba202d56b428b3698ea2016995ef?s=128&d=identicon&r=PG", "display_name": "Intervalia", "link": "https://stackoverflow.com/users/1253074/intervalia"}, "edited": false, "score": 1, "creation_date": 1515622532, "post_id": 48195913, "comment_id": 83374978, "body": "Sorry, when I wrote my version of this code I had fixed the reading of <code>b</code> and <code>g</code>. So I needed to also fix the output line. I have updated the answer to match what you have been saying. <b>Thank you for pointing it out.</b>"}], "tags": [], "owner": {"reputation": 8426, "user_id": 1253074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7359ba202d56b428b3698ea2016995ef?s=128&d=identicon&r=PG", "display_name": "Intervalia", "link": "https://stackoverflow.com/users/1253074/intervalia"}, "is_accepted": true, "score": 3, "last_activity_date": 1515622458, "last_edit_date": 1515622458, "creation_date": 1515617695, "answer_id": 48195913, "question_id": 48195882, "link": "https://stackoverflow.com/questions/48195882/how-to-calculate-a-darker-hex-color/48195913#48195913", "title": "How to calculate a darker hex color", "body": "<p>Change this:</p>\n\n<pre><code>(usePound?\"#\":\"\") + (g | (b &lt;&lt; 8) | (r &lt;&lt; 16)).toString(16);\n</code></pre>\n\n<p>to this</p>\n\n<pre><code>(usePound?\"#\":\"\") + ('00000'+(b | (g &lt;&lt; 8) | (r &lt;&lt; 16)).toString(16)).slice(-6);\n</code></pre>\n\n<p>This will make sure that there are 6 digits and it fixes the green and blue location which were off in the original article.</p>\n\n<ul>\n<li><code>(r &lt;&lt; 16)</code> moves the red to bits 32 to 47</li>\n<li><code>(g &lt;&lt; 8)</code> moves the green to bits 16 to 31</li>\n<li>and <code>b</code> leaves the blue in bits 0-15.</li>\n</ul>\n\n<p><strong>UPDATE</strong> </p>\n\n<p>As was pointed out the <code>b</code> and <code>g</code> variables are reading the wrong values as well. So you want to do the following as well:</p>\n\n<pre><code>var g = ((num &gt;&gt; 8) &amp; 0x00FF) + amt;\n\nvar b = (num &amp; 0x0000FF) + amt;\n</code></pre>\n\n<p>Swap where the <code>b</code> and <code>g</code> get their values.</p>\n\n<p>If you don't want to swap those then change my original line to this:</p>\n\n<pre><code>(usePound?\"#\":\"\") + ('00000'+(g | (b &lt;&lt; 8) | (r &lt;&lt; 16)).toString(16)).slice(-6);\n</code></pre>\n"}], "owner": {"reputation": 5710, "user_id": 2426488, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/srdPe.png?s=128&g=1", "display_name": "Mona Coder", "link": "https://stackoverflow.com/users/2426488/mona-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 48195913, "answer_count": 1, "score": 2, "last_activity_date": 1561758390, "creation_date": 1515617565, "last_edit_date": 1561758390, "question_id": 48195882, "link": "https://stackoverflow.com/questions/48195882/how-to-calculate-a-darker-hex-color", "title": "How to calculate a darker hex color", "body": "<p>Using <a href=\"https://css-tricks.com/snippets/javascript/lighten-darken-color/\" rel=\"nofollow noreferrer\">this solution</a> I am trying to calculate the darker range of a color but the output is doesn't look like correct Hex value (missing one value).</p>\n\n<pre><code>&gt; #84079\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function LightenDarkenColor(col, amt) {\r\n  \r\n    var usePound = false;\r\n  \r\n    if (col[0] == \"#\") {\r\n        col = col.slice(1);\r\n        usePound = true;\r\n    }\r\n \r\n    var num = parseInt(col,16);\r\n \r\n    var r = (num &gt;&gt; 16) + amt;\r\n \r\n    if (r &gt; 255) r = 255;\r\n    else if  (r &lt; 0) r = 0;\r\n \r\n    var b = ((num &gt;&gt; 8) &amp; 0x00FF) + amt;\r\n \r\n    if (b &gt; 255) b = 255;\r\n    else if  (b &lt; 0) b = 0;\r\n \r\n    var g = (num &amp; 0x0000FF) + amt;\r\n \r\n    if (g &gt; 255) g = 255;\r\n    else if (g &lt; 0) g = 0;\r\n \r\n    return (usePound?\"#\":\"\") + (g | (b &lt;&lt; 8) | (r &lt;&lt; 16)).toString(16);\r\n  \r\n}\r\nvar firstColor = LightenDarkenColor(\"#3068A1\", -20); \r\nvar NewColor = LightenDarkenColor(firstColor, -20); \r\n\r\nconsole.log(NewColor);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "node.js", "reactjs", "webpack", "gulp"], "answers": [{"comments": [{"owner": {"reputation": 4455, "user_id": 592419, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f57895d93211a409b1b8cb1c8c6dae93?s=128&d=identicon&r=PG", "display_name": "user592419", "link": "https://stackoverflow.com/users/592419/user592419"}, "edited": false, "score": 0, "creation_date": 1515618538, "post_id": 48195975, "comment_id": 83373210, "body": "Unfortunately that didn&#39;t solve the issue. Any other ideas?"}, {"owner": {"reputation": 653, "user_id": 6023988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c35ede9fd1a48845d17d1248f409e18?s=128&d=identicon&r=PG", "display_name": "Stephen Collins", "link": "https://stackoverflow.com/users/6023988/stephen-collins"}, "reply_to_user": {"reputation": 4455, "user_id": 592419, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f57895d93211a409b1b8cb1c8c6dae93?s=128&d=identicon&r=PG", "display_name": "user592419", "link": "https://stackoverflow.com/users/592419/user592419"}, "edited": false, "score": 0, "creation_date": 1515619439, "post_id": 48195975, "comment_id": 83373618, "body": "I added my entire set up for an app I&#39;m working on, for my webpack.config.js, package.json, and .babelrc to help clarify. What is the error you&#39;re getting now, or are you getting the same error?"}, {"owner": {"reputation": 4455, "user_id": 592419, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f57895d93211a409b1b8cb1c8c6dae93?s=128&d=identicon&r=PG", "display_name": "user592419", "link": "https://stackoverflow.com/users/592419/user592419"}, "edited": false, "score": 0, "creation_date": 1515622192, "post_id": 48195975, "comment_id": 83374854, "body": "It&#39;s the same error. I&#39;ll look through your setup and see if anything triggers."}], "tags": [], "owner": {"reputation": 653, "user_id": 6023988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c35ede9fd1a48845d17d1248f409e18?s=128&d=identicon&r=PG", "display_name": "Stephen Collins", "link": "https://stackoverflow.com/users/6023988/stephen-collins"}, "is_accepted": false, "score": 0, "last_activity_date": 1515619275, "last_edit_date": 1515619275, "creation_date": 1515617936, "answer_id": 48195975, "question_id": 48195835, "link": "https://stackoverflow.com/questions/48195835/webpack-gulp-and-react-loading-errors/48195975#48195975", "title": "Webpack, Gulp, and React loading errors", "body": "<p>This issue is due to your babel setup. You need to install <a href=\"https://www.npmjs.com/package/babel-plugin-transform-react-jsx\" rel=\"nofollow noreferrer\"><code>babel-plugin-transform-react-jsx</code></a> and adjust your <code>.babelrc</code> file. Like this:</p>\n\n<pre><code>{\n  \"presets\": [\"env\", \"es2015\", \"react\"],\n  \"plugins\": [\"transform-react-jsx\", \"transform-object-rest-spread\"]\n\n}\n</code></pre>\n\n<p>example webpack.config.js:</p>\n\n<pre><code>const path = require('path')\n\nconst config = {\n  entry: {\n    app: ['whatwg-fetch','./src/index.js'],\n  },\n  devtool: 'inline-source-map',\n  devServer: {\n    contentBase: './public'\n  },\n  module: {\n    loaders: [\n      {\n        test: /\\.js$/,\n        exclude: /node_modules/,\n        loader: 'eslint-loader'\n      },\n      {\n        test: /\\.css/,\n        exclude: /node_modules/,\n        use: ['style-loader', 'css-loader'],\n      },\n      {\n        test: /.jsx?$/,\n        loader: 'babel-loader',\n        exclude: /node_modules/,\n        query: {\n          presets: ['es2015', 'react']\n        }\n      },\n    ]\n  },\n  output: {\n    filename: 'app.bundle.js',\n    path: path.resolve(__dirname, 'public')\n  }\n}\n\nmodule.exports = config\n</code></pre>\n\n<p>example package.json:</p>\n\n<pre><code>{\n  \"name\": \"react-news-app\",\n  \"version\": \"1.0.0\",\n  \"description\": \"get news and sentiment from headline articles\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"jest --watch\",\n    \"start\": \"webpack-dev-server --port 3000\"\n  },\n  \"keywords\": [\n    \"api\",\n    \"react\"\n  ],\n  \"author\": \"Stephen Collins\",\n  \"license\": \"MIT\",\n  \"dependencies\": {\n    \"babel-core\": \"^6.26.0\",\n    \"babel-loader\": \"^7.1.2\",\n    \"babel-preset-es2015\": \"^6.24.1\",\n    \"babel-preset-react\": \"^6.24.1\",\n    \"react\": \"^16.2.0\",\n    \"react-dom\": \"^16.2.0\",\n    \"whatwg-fetch\": \"^2.0.3\"\n  },\n  \"devDependencies\": {\n    \"babel-jest\": \"^22.0.4\",\n    \"babel-plugin-transform-object-rest-spread\": \"^6.26.0\",\n    \"babel-plugin-transform-react-jsx\": \"^6.24.1\",\n    \"babel-preset-env\": \"^1.6.1\",\n    \"chai\": \"^4.1.2\",\n    \"clean-webpack-plugin\": \"^0.1.17\",\n    \"css-loader\": \"^0.28.8\",\n    \"enzyme\": \"^3.3.0\",\n    \"enzyme-adapter-react-16\": \"^1.1.1\",\n    \"eslint\": \"^4.15.0\",\n    \"eslint-loader\": \"^1.9.0\",\n    \"jest\": \"^22.0.4\",\n    \"prop-types\": \"^15.6.0\",\n    \"sinon\": \"^4.1.3\",\n    \"style-loader\": \"^0.19.1\",\n    \"webpack\": \"^3.10.0\",\n    \"webpack-dev-server\": \"^2.10.0\"\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 4455, "user_id": 592419, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f57895d93211a409b1b8cb1c8c6dae93?s=128&d=identicon&r=PG", "display_name": "user592419", "link": "https://stackoverflow.com/users/592419/user592419"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 254, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515619275, "creation_date": 1515617367, "question_id": 48195835, "link": "https://stackoverflow.com/questions/48195835/webpack-gulp-and-react-loading-errors", "title": "Webpack, Gulp, and React loading errors", "body": "<p>My setup is below. If I run <code>gulp</code> in the directory with these files, then I get a boatload of errors that look like the following. They all have a similar signature but are failing to find a different part of react-bootstrap, react-dom, or the like.</p>\n\n<pre><code>Module not found: Error: Can't resolve 'react-bootstrap/lib/Input' in '...a/scripts/components'\n @ ./a/scripts/components/SearchBar.js 7:12-48\n @ ./a/scripts/pages/HomePage.js\n @ ./a/scripts/routes.js\n @ ./a/scripts/index.js\n @ multi webpack-dev-server/client?http://localhost:8083 webpack/hot/only-dev-server ./a/scripts/index\n</code></pre>\n\n<p>This makes me think it's to do with the loader. And in fact, if I run <code>npm install</code>, then after verifying that everything is installed and making a bundle.js, this error occurs:</p>\n\n<pre><code>ERROR in ./a/scripts/index.js\nModule parse failed: Unexpected token (19:15)\nYou may need an appropriate loader to handle this file type.\n| \n| Router.run(routes, Router.HistoryLocation, function(Handler) {\n|   React.render(&lt;Handler /&gt;, document.getElementById('entry'));\n| });\n| \n @ multi ./a/scripts/index\n</code></pre>\n\n<p>Which also suggests it's with the loader. I've since spent a lot of time trying to figure out why the loader wouldn't be working and am coming up blank. Help would be greatly appreciated.</p>\n\n<p>package.json</p>\n\n<pre><code>{\n  \"version\": \"1.0.0\",\n  \"main\": \"index.js\",\n  \"engines\": {\n    \"node\": \"0.12.7\",\n    \"npm\": \"2.7.5\"\n  },\n  \"scripts\": {\n    \"postinstall\": \"gulp build\"\n  },\n  \"author\": \"\",\n  \"license\": \"none\",\n  \"devDependencies\": {\n    \"babel-core\": \"^6.26.0\",\n    \"babel-loader\": \"^7.1.2\",\n    \"babel-preset-env\": \"^1.6.1\",\n    \"css-loader\": \"^0.28.8\",\n    \"del\": \"^3.0.0\",\n    \"file-loader\": \"^1.1.6\",\n    \"gulp\": \"^3.9.1\",\n    \"gulp-autoprefixer\": \"^4.1.0\",\n    \"gulp-cache\": \"^1.0.2\",\n    \"gulp-clean-css\": \"^3.9.2\",\n    \"gulp-concat\": \"^2.5.2\",\n    \"gulp-imagemin\": \"^4.1.0\",\n    \"gulp-jshint\": \"^2.1.0\",\n    \"gulp-livereload\": \"^3.8.0\",\n    \"gulp-notify\": \"^3.1.0\",\n    \"gulp-rename\": \"^1.2.0\",\n    \"gulp-ruby-sass\": \"^3.0.0\",\n    \"gulp-uglify\": \"^3.0.0\",\n    \"jsx\": \"^0.9.89\",\n    \"jsx-loader\": \"^0.13.2\",\n    \"lodash\": \"^4.17.4\",\n    \"moment\": \"^2.9.0\",\n    \"node-sass\": \"^4.7.2\",\n    \"plugin-error\": \"^0.1.2\",\n    \"react\": \"^16.2.0\",\n    \"react-bootstrap\": \"^0.32.0\",\n    \"react-hot-loader\": \"^3.1.3\",\n    \"react-router\": \"^4.2.0\",\n    \"react-script-loader\": \"^0.0.1\",\n    \"run-sequence\": \"^2.2.1\",\n    \"sass-loader\": \"^6.0.6\",\n    \"sass-material-colors\": \"0.0.5\",\n    \"style-loader\": \"^0.19.1\",\n    \"superagent\": \"^3.8.2\",\n    \"underscore\": \"^1.8.3\",\n    \"url-loader\": \"^0.6.2\",\n    \"webpack\": \"^3.10.0\",\n    \"webpack-dev-server\": \"2.10.1\"\n  },\n  \"dependencies\": {\n    \"babel-preset-es2015\": \"^6.24.1\",\n    \"babel-preset-react\": \"^6.24.1\",\n    \"babel-preset-stage-2\": \"^6.24.1\"\n  },\n}\n</code></pre>\n\n<p>.babelrc</p>\n\n<pre><code>{\n    \"presets\": [\"env\", \"react\"]\n}\n</code></pre>\n\n<p>gulpfile.babel.js</p>\n\n<pre><code>var gulp = require('gulp'),\n    sass = require('gulp-ruby-sass'),\n    autoprefixer = require('gulp-autoprefixer'),\n    cleanCSS = require('gulp-clean-css'),\n    rename = require('gulp-rename');\nvar log = require('fancy-log');\nvar PluginError = require('plugin-error');\nvar webpack = require('webpack');\nvar WebpackDevServer = require('webpack-dev-server');\nvar webpackConfig = require(\"./webpack.config.js\");\nvar runSequence = require('run-sequence');\nvar path = require('path');\nvar del = require('del');\n\nvar watch = true;\nvar verbose = true;\n\n// Default to Dev Server\ngulp.task('default', [\"js-dev-server\"]);\n\n// Clean output directory\ngulp.task('clean', () =&gt; del(['a/static/js/build/*', 'a/static/css/*'], {dot:true}))\n\ngulp.task('styles', function() {\n  return sass('a/static/scss/styles.scss', { style: 'expanded' })\n    .pipe(autoprefixer('last 2 version', 'safari 5', 'ie 8', 'ie 9', 'opera 12.1'))\n    .pipe(gulp.dest('a/static/css'))\n    .pipe(rename({suffix: '.min'}))\n    .pipe(cleanCSS())\n    .pipe(gulp.dest('a/static/css'));\n});\n\ngulp.task('watch', function() {\n  gulp.watch('a/static/scss/**/*.scss', ['styles']);\n});\n\ngulp.task('bundle', function() {\n  function bundle(err, stats) {\n    if (err) {\n      throw new PluginError(\"build\", err);\n    }\n\n    console.log(stats.toString({\n      colors: true,\n      hash: verbose,\n      version: verbose,\n      timings: verbose,\n      chunks: verbose,\n      chunkModules: verbose,\n      cached: verbose,\n      cachedAssets: verbose\n    }));\n  }\n\n  webpack(webpackConfig).run(bundle)\n});\n\ngulp.task('build', ['clean'], cb =&gt; { runSequence(['styles', 'bundle']); });\n\ngulp.task(\"js-dev-server\", function(callback){\n  // modify some webpack config options\n  var myConfig = Object.create(webpackConfig);\n  myConfig.devtool = \"eval-source-map\";\n  myConfig.entry = [\n      'webpack-dev-server/client?http://localhost:8083',\n      'webpack/hot/only-dev-server',\n      './a/scripts/index'\n  ];\n  myConfig.plugins = [\n      new webpack.HotModuleReplacementPlugin(),\n      new webpack.NoEmitOnErrorsPlugin(),\n      new webpack.LoaderOptionsPlugin({debug: true})\n  ];\n  myConfig.output['publicPath'] = \"http://localhost:8083/static/js/build/\"\n  myConfig.module = {\n      loaders: [\n          {\n              test: /\\.jsx?$/,\n              exclude: /node_modules/,\n              loaders: ['react-hot-loader/webpack', 'jsx-loader?harmony', 'babel-loader']\n          },\n        { test: /\\.woff(\\?v=\\d+\\.\\d+\\.\\d+)?$/,\n          loader: \"url-loader?limit=10000&amp;minetype=a/font-woff\" },\n        { test: /\\.woff2(\\?v=\\d+\\.\\d+\\.\\d+)?$/,\n          loader: \"url-loader?limit=10000&amp;minetype=a/font-woff\" },\n        { test: /\\.ttf(\\?v=\\d+\\.\\d+\\.\\d+)?$/,\n          loader: \"url-loader?limit=10000&amp;minetype=a/octet-stream\" },\n        { test: /\\.eot(\\?v=\\d+\\.\\d+\\.\\d+)?$/,\n          loader: \"file-loader\" },\n        { test: /\\.svg(\\?v=\\d+\\.\\d+\\.\\d+)?$/,\n          loader: \"url-loader?limit=10000&amp;minetype=image/svg+xml\" },\n        { test: /\\.scss$/, loader: \"style-loader!css-loader!sass-loader?includePaths[]=\" +\n          path.resolve(__dirname, \"./a/static/scss/\")\n        }\n    ]\n  };\n\n  // Start a webpack-dev-server\n  new WebpackDevServer(webpack(myConfig), {\n    publicPath: \"http://localhost:8083/static/js/build/\",\n    stats: {\n      colors: true\n    },\n    inline: true,\n    hot: true,\n    historyApiFallback: true,\n    contentBase: 'http://localhost:5000/'\n  }).listen(8083, \"localhost\", function(err) {\n    if(err) throw new PluginError(\"webpack-dev-server\", err);\n    log(\"[webpack-dev-server]\",\n        \"http://localhost:8083/webpack-dev-server/index.html\");\n  });\n});\n</code></pre>\n\n<p>webpack.config.js</p>\n\n<pre><code>var webpack = require('webpack');\nvar path = require('path');\n\nvar DEBUG = true;\n\nmodule.exports = {\n    entry: [\n        __dirname + '/a/scripts/index'\n    ],\n    output: {\n        path: __dirname + '/a/static/js/build',\n        filename: 'bundle.js',\n    },\n    plugins: [\n        new webpack.NoEmitOnErrorsPlugin(),\n        new webpack.optimize.UglifyJsPlugin({sourceMap: false,\n                                             output: {comments: false}}),\n    ],\n    resolve: {\n        extensions: ['.js', '.jsx'],\n        modules: ['node_modules', 'web_modules', 'scripts', 'lib'],\n    },\n    module: {\n        rules: [\n            {\n                test: /\\*.js.x?$/,\n                exclude: /node_modules/,\n                loaders: (DEBUG ? ['react-hot-loader/webpack'] : []).concat(['babel-loader'])\n            },\n            { test: /\\.woff(\\?v=\\d+\\.\\d+\\.\\d+)?$/, loader: \"url-loader?limit=10000&amp;minetype=application/font-woff\" },\n            { test: /\\.woff2(\\?v=\\d+\\.\\d+\\.\\d+)?$/, loader: \"url-loader?limit=10000&amp;minetype=application/font-woff\" },\n            { test: /\\.ttf(\\?v=\\d+\\.\\d+\\.\\d+)?$/, loader: \"url-loader?limit=10000&amp;minetype=application/octet-stream\" },\n            { test: /\\.eot(\\?v=\\d+\\.\\d+\\.\\d+)?$/, loader: \"file-loader\" },\n            { test: /\\.svg(\\?v=\\d+\\.\\d+\\.\\d+)?$/, loader: \"url-loader?limit=10000&amp;minetype=image/svg+xml\" },\n            { test: /\\.scss$/, loader: \"style-loader!css-loader!sass-loader?includePaths[]=\" +\n              path.resolve(__dirname, \"./a/static/scss/\")\n            }\n        ]\n    },\n    externals: {\n        \"jquery\": \"jQuery\"\n    }\n};\n</code></pre>\n\n<p>index.js</p>\n\n<pre><code>'use strict';\n\nvar React = require('react'),\n    Router = require('react-router'),\n    routes = require('routes');\n\n// set up in order to receive actions\nvar NotificationStore = require('stores/NotificationStore');\n\nrequire('csrf'); // injects CSRF token into all $.ajax calls\n\nrequire('../static/scss/playground.scss'); // loads stylesheet into JS\n\nRouter.run(routes, Router.HistoryLocation, function(Handler) {\n  React.render(&lt;Handler /&gt;, document.getElementById('entry'));\n});\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 1, "creation_date": 1515618071, "post_id": 48195819, "comment_id": 83372965, "body": "What is the actual question and specific problem? Read this several times and it seems strange to me but can&#39;t figure out your issue"}, {"owner": {"reputation": 11880, "user_id": 1480018, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/adc85b2c054f3eb102da8eb68545dca4?s=128&d=identicon&r=PG", "display_name": "Paul Taylor", "link": "https://stackoverflow.com/users/1480018/paul-taylor"}, "reply_to_user": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1515618764, "post_id": 48195819, "comment_id": 83373328, "body": "@charlietfl How do I programmatically select all the value son a select element ?"}], "answers": [{"comments": [{"owner": {"reputation": 11880, "user_id": 1480018, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/adc85b2c054f3eb102da8eb68545dca4?s=128&d=identicon&r=PG", "display_name": "Paul Taylor", "link": "https://stackoverflow.com/users/1480018/paul-taylor"}, "edited": false, "score": 0, "creation_date": 1515619273, "post_id": 48196067, "comment_id": 83373537, "body": "great that works, if you would like to explain it a little, for example how does it automatically remove items from first list I cant see the code that does that ?"}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 11880, "user_id": 1480018, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/adc85b2c054f3eb102da8eb68545dca4?s=128&d=identicon&r=PG", "display_name": "Paul Taylor", "link": "https://stackoverflow.com/users/1480018/paul-taylor"}, "edited": false, "score": 0, "creation_date": 1515619374, "post_id": 48196067, "comment_id": 83373593, "body": "@PaulTaylor I didn&#39;t add that code because your question didn&#39;t seem to specifically ask for that. I will update the answer to include it."}, {"owner": {"reputation": 11880, "user_id": 1480018, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/adc85b2c054f3eb102da8eb68545dca4?s=128&d=identicon&r=PG", "display_name": "Paul Taylor", "link": "https://stackoverflow.com/users/1480018/paul-taylor"}, "edited": false, "score": 0, "creation_date": 1515620112, "post_id": 48196067, "comment_id": 83373900, "body": "you misunderstood me, your original code DID remove item from first list when added to 2nd list but I couldnt understand why"}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 11880, "user_id": 1480018, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/adc85b2c054f3eb102da8eb68545dca4?s=128&d=identicon&r=PG", "display_name": "Paul Taylor", "link": "https://stackoverflow.com/users/1480018/paul-taylor"}, "edited": false, "score": 0, "creation_date": 1515620444, "post_id": 48196067, "comment_id": 83374064, "body": "@PaulTaylor Oh, that&#39;s the native behavior of <code>appendChild()</code>. It essentially moves the element to the location that you specify. This seems to be the correct behavior for what you are doing, but if you don&#39;t want that, you can clone the <code>option</code> (with the <code>.clone()</code> method) first and then <code>appendChild()</code> with the clone."}, {"owner": {"reputation": 11880, "user_id": 1480018, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/adc85b2c054f3eb102da8eb68545dca4?s=128&d=identicon&r=PG", "display_name": "Paul Taylor", "link": "https://stackoverflow.com/users/1480018/paul-taylor"}, "edited": false, "score": 0, "creation_date": 1515620737, "post_id": 48196067, "comment_id": 83374221, "body": "it does work apart from I would prefer if they were added back in alphabetical order instead of at the end, does your revised method do that ?"}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 11880, "user_id": 1480018, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/adc85b2c054f3eb102da8eb68545dca4?s=128&d=identicon&r=PG", "display_name": "Paul Taylor", "link": "https://stackoverflow.com/users/1480018/paul-taylor"}, "edited": false, "score": 0, "creation_date": 1515623715, "post_id": 48196067, "comment_id": 83375444, "body": "@PaulTaylor It does not, but again, I didn&#39;t see that as part of your original question. This would be done by keeping the <code>option</code> values in an array and then sorting the array and then re-organizing the <code>option</code>."}, {"owner": {"reputation": 11880, "user_id": 1480018, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/adc85b2c054f3eb102da8eb68545dca4?s=128&d=identicon&r=PG", "display_name": "Paul Taylor", "link": "https://stackoverflow.com/users/1480018/paul-taylor"}, "edited": false, "score": 0, "creation_date": 1515662419, "post_id": 48196067, "comment_id": 83387830, "body": "no it wasn&#39;t just occurred to me, thanks for your help"}], "tags": [], "owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "is_accepted": true, "score": 1, "last_activity_date": 1515619660, "last_edit_date": 1515619660, "creation_date": 1515618311, "answer_id": 48196067, "question_id": 48195819, "link": "https://stackoverflow.com/questions/48195819/how-do-i-make-all-values-in-html-select-element-selected-using-javascript/48196067#48196067", "title": "How do I make all values in html select element selected using Javascript", "body": "<p>You have some HTML validation issues with your <code>table</code> and you really should not use inline CSS or HTML event attributes (i.e. <code>onclick</code>) as <a href=\"https://stackoverflow.com/questions/43459890/javascript-function-doesnt-work-when-link-is-clicked/43459991#43459991\">they have many harmful side-effects</a>.</p>\n\n<p>See the inline comments in the code snippet below and note that you need the <code>checked</code> CSS pseudo-class, rather than <code>selected</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Get references to the two lists\r\nvar allCountries = document.getElementById('preferred_countries_all');\r\nvar selectedCountries = document.getElementById('preferred_countries_selected');\r\n\r\nfunction add_preferred_countries(operation) {\r\n\r\n  if(operation === \"add\"){\r\n       // Get the selected countries from list one into an array\r\n  var allPreferredSelected = Array.prototype.slice.call(allCountries.querySelectorAll('option:checked'));\r\n     \r\n  // Loop over the array\r\n  allPreferredSelected.forEach(function(selOption){\r\n    selectedCountries.appendChild(selOption);  // Add each to the second list\r\n  });\r\n \r\n  // Loop through the second list and select each option\r\n  Array.prototype.slice.call(selectedCountries.querySelectorAll(\"option\")).forEach(function(opt){\r\n    opt.selected = \"selected\";\r\n  });\r\n    console.log(\"Item added\");\r\n  } else {\r\n    // Do remove operation here\r\n// Loop over the selected countries in the second list\r\nArray.prototype.slice.call(selectedCountries.querySelectorAll(\"option:checked\")).forEach(function(opt){\r\n        selectedCountries.removeChild(opt);  // Remove country\r\n    });\r\n\r\n    console.log(\"Item removed\");\r\n  }\r\n}\r\n\r\n// Get the add and remove buttons into an array and loop over the array\r\nArray.prototype.slice.call(document.querySelectorAll(\"button[id^='preferred_countries']\")).forEach(function(btn){\r\n  // Set up a click event handler for the button\r\n  btn.addEventListener(\"click\", function(){\r\n    add_preferred_countries(this.dataset.action);  // Call the add/remove function with the right arg\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>/* Do your styling separate from the HTML */\r\nbutton[id^='preferred_countries'] { width:100px; }\r\nselect { width:200px; height:20em; }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form action=\"/fixsongs.fix\"&gt;\r\n  &lt;table&gt;\r\n    &lt;tr&gt;\r\n      &lt;td colspan=\"2\"&gt;\r\n        &lt;span title=\"Potential Releases from these countries get their score boosted\"&gt;\r\n          Preferred Release Countries\r\n        &lt;/span&gt;\r\n      &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;\r\n        &lt;select id=\"preferred_countries_all\" multiple=\"multiple\"&gt;\r\n          &lt;option value=\" AF\"&gt;Afghanistan&lt;/option&gt;\r\n          &lt;option value=\"AX\"&gt;\u00c5land Islands&lt;/option&gt;\r\n          &lt;option value=\"AL\"&gt;Albania&lt;/option&gt;\r\n          &lt;option value=\"DZ\"&gt;Algeria&lt;/option&gt;\r\n          &lt;option value=\"AS\"&gt;American Samoa&lt;/option&gt;\r\n          &lt;option value=\"AD\"&gt;Andorra&lt;/option&gt;\r\n          &lt;option value=\"AO\"&gt;Angola&lt;/option&gt;\r\n          &lt;option value=\"AI\"&gt;Anguilla&lt;/option&gt;\r\n          &lt;option value=\"AQ\"&gt;Antarctica&lt;/option&gt;\r\n          &lt;option value=\"AG\"&gt;Antigua and Barbuda&lt;/option&gt;\r\n          &lt;option value=\"AR\"&gt;Argentina&lt;/option&gt;&lt;option value=\"AM\"&gt;Armenia&lt;/option&gt;\r\n          &lt;option value=\"AW\"&gt;Aruba&lt;/option&gt;\r\n          &lt;option value=\"AU\"&gt;Australia&lt;/option&gt;\r\n          &lt;option value=\"AT\"&gt;Austria&lt;/option&gt;\r\n          &lt;option value=\"AZ\"&gt;Azerbaijan&lt;/option&gt;\r\n          &lt;option value=\"BS\"&gt;Bahamas&lt;/option&gt;&lt;option value=\"BH\"&gt;Bahrain&lt;/option&gt;\r\n          ...\r\n          &lt;option value=\"ZW\"&gt;Zimbabwe&lt;/option&gt;\r\n        &lt;/select&gt;\r\n      &lt;/td&gt;\r\n      &lt;td&gt;\r\n        &lt;button type=\"button\" id=\"preferred_countries_add\" data-action=\"add\"&gt;Add&lt;/button&gt;\r\n        &lt;br&gt;\r\n        &lt;button type=\"button\" id=\"preferred_countries_remove\" data-action=\"remove\"&gt;Remove&lt;/button&gt;\r\n      &lt;/td&gt;\r\n      &lt;td&gt;\r\n        &lt;select id=\"preferred_countries_selected\" name=\"preferred_countries_selected\" multiple=\"multiple\"&gt;\r\n          &lt;option value=\"GB\"&gt;United Kingdom&lt;/option&gt;\r\n        &lt;/select&gt;\r\n      &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/table&gt;\r\n  &lt;input type=\"submit\" value=\"Start\"&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 11880, "user_id": 1480018, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/adc85b2c054f3eb102da8eb68545dca4?s=128&d=identicon&r=PG", "display_name": "Paul Taylor", "link": "https://stackoverflow.com/users/1480018/paul-taylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 48196067, "answer_count": 1, "score": 0, "last_activity_date": 1515619660, "creation_date": 1515617287, "question_id": 48195819, "link": "https://stackoverflow.com/questions/48195819/how-do-i-make-all-values-in-html-select-element-selected-using-javascript", "title": "How do I make all values in html select element selected using Javascript", "body": "<p>In Html have two select tags, the first contains all the worlds countries, the second contains only the countries selected by user. </p>\n\n<pre><code>&lt;form action=\"/fixsongs.fix\"&gt;\n     &lt;table&gt;\n                            &lt;tr&gt;\n                                &lt;td colspan=\"2\"&gt;\n                                    &lt;label title=\"Potential Releases from these countries get their score boosted\"&gt;\n                                        Preferred Release Countries\n                                    &lt;/label&gt;\n                                &lt;/td&gt;\n                            &lt;/tr&gt;\n                            &lt;tr&gt;\n                                &lt;td&gt;\n                                    &lt;select id=\"preferred_countries_all\" size=\"15\" style=\"width:200px\" multiple=\"multiple\"&gt;\n                                        &lt;option value=\" AF\"&gt;Afghanistan&lt;/option&gt;&lt;option value=\"AX\"&gt;\u00c5land Islands&lt;/option&gt;&lt;option value=\"AL\"&gt;Albania&lt;/option&gt;&lt;option value=\"DZ\"&gt;Algeria&lt;/option&gt;&lt;option value=\"AS\"&gt;American Samoa&lt;/option&gt;&lt;option value=\"AD\"&gt;Andorra&lt;/option&gt;&lt;option value=\"AO\"&gt;Angola&lt;/option&gt;&lt;option value=\"AI\"&gt;Anguilla&lt;/option&gt;&lt;option value=\"AQ\"&gt;Antarctica&lt;/option&gt;&lt;option value=\"AG\"&gt;Antigua and Barbuda&lt;/option&gt;&lt;option value=\"AR\"&gt;Argentina&lt;/option&gt;&lt;option value=\"AM\"&gt;Armenia&lt;/option&gt;&lt;option value=\"AW\"&gt;Aruba&lt;/option&gt;&lt;option value=\"AU\"&gt;Australia&lt;/option&gt;&lt;option value=\"AT\"&gt;Austria&lt;/option&gt;&lt;option value=\"AZ\"&gt;Azerbaijan&lt;/option&gt;&lt;option value=\"BS\"&gt;Bahamas&lt;/option&gt;&lt;option value=\"BH\"&gt;Bahrain&lt;/option&gt;...&lt;option value=\"ZW\"&gt;Zimbabwe&lt;/option&gt;\n                                    &lt;/select&gt;\n                                &lt;/td&gt;\n                                &lt;td&gt;\n                                    &lt;button style=\"width:100px\" type=\"button\" id=\"preferred_countries_add\" onclick=\"add_preferred_countries();\"&gt;\n                                        Add\n                                    &lt;/button&gt;\n                                    &lt;br&gt;\n                                    &lt;button style=\"width:100px\" type=\"button\" id=\"preferred_countries_remove\" onclick=\"remove_preferred_countries();\"&gt;\n                                        Remove\n                                    &lt;/button&gt;\n                                &lt;/td&gt;\n                                &lt;td&gt;\n                                    &lt;select id=\"preferred_countries_selected\" name=\"preferred_countries_selected\" size=\"15\" style=\"width:200px\" multiple=\"multiple\"&gt;\n                                        &lt;option value=\"GB\"&gt;United Kingdom&lt;/option&gt;\n                                    &lt;/select&gt;\n                                &lt;/td&gt;\n                            &lt;/tr&gt;\n                        &lt;/table&gt;\n&lt;input type=\"submit\" value=\"Start\"&gt;\n</code></pre>\n\n<p>The user selects them by highlighting and then click on button which invokes the following Javascript function.</p>\n\n<pre><code>function add_preferred_countries() {\n     allCountries      = document.getElementById('preferred_countries_all');\n     selectedCountries = document.getElementById('preferred_countries_selected');\n     var length=$('#preferred_countries_all option:selected').length;\n     if(length==0) { \n        return false;\n     }\n\n     $('#preferred_countries_all option:selected').each(function(){\n        $('#preferred_countries_selected').append($(this));\n     });\n     //selectedCountries.value = \"\";\n\n\n      for (var i = 0; i &lt; selectedCountries.options.length; i++) { \n             selectedCountries.options[i].selected = selected; \n    } \n}\n</code></pre>\n\n<p>'\nThat bits works fine, but I have realized that when I finally submit the form containing this and various other options that it will send items in the select list that are actually selected. So in the absence of a better solution I want to automatically select all values in the preferred_countries_selected whenever user adds new countries, so that when user submits form the preferred countries will be sent to server</p>\n\n<p>I thought this would work, but has no effect</p>\n\n<pre><code>for (var i = 0; i &lt; selectedCountries.options.length; i++) { \n                 selectedCountries.options[i].selected = selected; \n</code></pre>\n\n<p>I know the existing function has some JQuery in it, but I would prefer pure javascript solution as I don't really understand JQuery syntax.</p>\n\n<p>Ideally I would prefer to do this just as they press submit, but that is another question.</p>\n"}, {"tags": ["javascript", "jquery", "python", "ajax", "django"], "comments": [{"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 0, "creation_date": 1515617840, "post_id": 48195813, "comment_id": 83372853, "body": "So do you know why you&#39;re getting <code>NoneType</code> for <code>end</code> and/or <code>begin</code>?"}, {"owner": {"reputation": 686, "user_id": 4454435, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/mKdSJ.png?s=128&g=1", "display_name": "BRHSM", "link": "https://stackoverflow.com/users/4454435/brhsm"}, "reply_to_user": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 0, "creation_date": 1515618306, "post_id": 48195813, "comment_id": 83373100, "body": "No that&#39;s part of the question... I know the request gets to the view but i don&#39;t understand the errors that occure then"}], "answers": [{"tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": false, "score": 2, "last_activity_date": 1515618590, "creation_date": 1515618590, "answer_id": 48196124, "question_id": 48195813, "link": "https://stackoverflow.com/questions/48195813/ajax-request-to-django-view-not-returning-response/48196124#48196124", "title": "Ajax request to django view not returning response", "body": "<p><code>args</code> and <code>kwargs</code> in a view are for arguments that are passed in the URL and captured in the URL pattern. You don't have any of these; your Ajax is sending the values in the GET querystring. So you need to get them from <code>request.GET</code>. Also note, the values will be strings, so you need to convert them to ints.</p>\n\n<pre><code>begin = int(request.GET['begin'])\nend = int(request.GET['end'])\n</code></pre>\n\n<p>The other error is explained in the error message itself; you can't order after slicing. You should do it before.</p>\n"}], "owner": {"reputation": 686, "user_id": 4454435, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/mKdSJ.png?s=128&g=1", "display_name": "BRHSM", "link": "https://stackoverflow.com/users/4454435/brhsm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515618590, "creation_date": 1515617271, "question_id": 48195813, "link": "https://stackoverflow.com/questions/48195813/ajax-request-to-django-view-not-returning-response", "title": "Ajax request to django view not returning response", "body": "<p>I'm making a website where I want to load user submitted comments on elements and I want to be able to dynamically display them and not have the webpage have to load them all at once. so I setup this ajax request function: </p>\n\n<pre><code>function loadcomments(){\n   $.ajax({\n        url: '/ajax/getcomments/',\n        data: {\n            'identifier': {{ identifier }}\n            'begin': 0,\n            'end': 30\n        },\n        dataType: 'json',\n        success: function (data) {\n            alert(data.comments);\n        }\n   });\n};\n</code></pre>\n\n<p>And a view to respond to that request:</p>\n\n<pre><code>def obtain_comments(request, *args, **kwargs):\n    begin = kwargs.get('begin');\n    end = kwargs.get('end');\n    comments = end - begin\n    all_before = Comment.objects.order_by('-uploaded')[:end]\n    data = {\n        'comments': all_before.order_by('uploaded')[:comments]\n    }\n    return JsonResponse(data)\n</code></pre>\n\n<p>But I'm not getting a response. I'm not seeing any errors inside the browser console, however in the django runserver terminal I see: </p>\n\n<pre><code>Internal Server Error: /ajax/getcomments/\nTraceback (most recent call last):\n  File \"/home/trie/Desktop/django/venv/lib/python3.5/site-packages/django/core/handlers/exception.py\", line 35, in inner\n    response = get_response(request)\n  File \"/home/trie/Desktop/django/venv/lib/python3.5/site-packages/django/core/handlers/base.py\", line 128, in _get_response\n    response = self.process_exception_by_middleware(e, request)\n  File \"/home/trie/Desktop/django/venv/lib/python3.5/site-packages/django/core/handlers/base.py\", line 126, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/home/trie/Desktop/django/vidmiotest/player/views.py\", line 64, in obtain_comments\n    comments = end - begin\nTypeError: unsupported operand type(s) for -: 'NoneType' and 'NoneType'\n</code></pre>\n\n<p>or if I set begin and end to a fixed value instead of kwargs:</p>\n\n<pre><code>Internal Server Error: /ajax/getcomments/\nTraceback (most recent call last):\n  File \"/home/trie/Desktop/django/venv/lib/python3.5/site-packages/django/core/handlers/exception.py\", line 35, in inner\n    response = get_response(request)\n  File \"/home/trie/Desktop/django/venv/lib/python3.5/site-packages/django/core/handlers/base.py\", line 128, in _get_response\n    response = self.process_exception_by_middleware(e, request)\n  File \"/home/trie/Desktop/django/venv/lib/python3.5/site-packages/django/core/handlers/base.py\", line 126, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/home/trie/Desktop/django/vidmiotest/player/views.py\", line 67, in obtain_comments\n    'comments': all_before.order_by('uploaded')[:comments]\n  File \"/home/trie/Desktop/django/venv/lib/python3.5/site-packages/django/db/models/query.py\", line 1012, in order_by\n    \"Cannot reorder a query once a slice has been taken.\"\nAssertionError: Cannot reorder a query once a slice has been taken.\n</code></pre>\n\n<p>I tried removing the element Identifier from the 'obtain_comments' view so I would get any comments in the database. I'm however expecting the view to respond 1 comment I manually inserted into the database.</p>\n\n<p>inside <code>urls.py</code> i defined the url like this:</p>\n\n<pre><code>path('ajax/getcomments/', obtain_comments),\n</code></pre>\n\n<p>Why am I not geting a response?</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8897421"}, "edited": false, "score": 0, "creation_date": 1515617436, "post_id": 48195803, "comment_id": 83372656, "body": "After your first clone and append, how many  elements with that class are now in the document? Two. So when you click again, how many are you now cloning? Two, resulting in four... and so on."}, {"owner": {"reputation": 11687, "user_id": 1680836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7bb9af77981f04237f59efd6826d949?s=128&d=identicon&r=PG", "display_name": "War10ck", "link": "https://stackoverflow.com/users/1680836/war10ck"}, "edited": false, "score": 0, "creation_date": 1515617455, "post_id": 48195803, "comment_id": 83372665, "body": "Add <code>console.log($(&#39;.table-vac--study&#39;).length);</code> to your click handler. My guess is that you have multiple elements with that classname..."}, {"owner": {"reputation": 4713, "user_id": 4828524, "user_type": "registered", "profile_image": "https://graph.facebook.com/835603479808018/picture?type=large", "display_name": "Alen.Toma", "link": "https://stackoverflow.com/users/4828524/alen-toma"}, "edited": false, "score": 0, "creation_date": 1515617464, "post_id": 48195803, "comment_id": 83372669, "body": "Cant se anything wrong but try this instead  $(this).parent().children(&#39;.table-vac--study:first&#39;).clone([&zwnj;&#8203;true]).appendTo(&quot;.fo&zwnj;&#8203;rm__item__study&quot;);"}, {"owner": {"reputation": 27, "user_id": 8844243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0ec410407d632c7cefed750aa09c5f?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey_Danilov", "link": "https://stackoverflow.com/users/8844243/alexey-danilov"}, "edited": false, "score": 0, "creation_date": 1515618360, "post_id": 48195803, "comment_id": 83373125, "body": "@rockstar, yes,it&#39;s true"}, {"owner": {"reputation": 27, "user_id": 8844243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0ec410407d632c7cefed750aa09c5f?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey_Danilov", "link": "https://stackoverflow.com/users/8844243/alexey-danilov"}, "reply_to_user": {"reputation": 11687, "user_id": 1680836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7bb9af77981f04237f59efd6826d949?s=128&d=identicon&r=PG", "display_name": "War10ck", "link": "https://stackoverflow.com/users/1680836/war10ck"}, "edited": false, "score": 0, "creation_date": 1515618482, "post_id": 48195803, "comment_id": 83373182, "body": "@War10ck,no, only one"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 8844243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0ec410407d632c7cefed750aa09c5f?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey_Danilov", "link": "https://stackoverflow.com/users/8844243/alexey-danilov"}, "edited": false, "score": 0, "creation_date": 1515623249, "post_id": 48195977, "comment_id": 83375274, "body": "$(&#39;.table-vac--study:first&#39;).clone([true]).appendTo(&quot;.form__&zwnj;&#8203;item__study&quot;); - it&#39;s true for me. Thank you!"}], "tags": [], "owner": {"reputation": 7325, "user_id": 2359687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b567febb6032c881398226a28bedc09c?s=128&d=identicon&r=PG", "display_name": "devlin carnate", "link": "https://stackoverflow.com/users/2359687/devlin-carnate"}, "is_accepted": true, "score": 1, "last_activity_date": 1515619040, "last_edit_date": 1515619040, "creation_date": 1515617945, "answer_id": 48195977, "question_id": 48195803, "link": "https://stackoverflow.com/questions/48195803/cloning-objects-in-jquery/48195977#48195977", "title": "Cloning objects in jquery", "body": "<p>Your problem is that you have multiple elements with the class <code>table-vac--study</code> after you have added the first clone to the DOM:</p>\n\n<pre><code>$('.table-vac--study')  //this gets all elements with the class\n</code></pre>\n\n<p>If you only want one element with the class, you need to specify what element in the class you want.</p>\n\n<p>If you want to the closest element with the class <code>table-vac--study</code>, you can use DOM traversal:</p>\n\n<pre><code>$(this).closest('.table-vac--study').clone([true]).appendTo(\".form__item__study\");\n</code></pre>\n\n<p>If you always want the first element with the class:</p>\n\n<pre><code>$('.table-vac--study:first').clone([true]).appendTo(\".form__item__study\");\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 8844243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0ec410407d632c7cefed750aa09c5f?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey_Danilov", "link": "https://stackoverflow.com/users/8844243/alexey-danilov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 48195977, "answer_count": 1, "score": 0, "last_activity_date": 1515619040, "creation_date": 1515617242, "last_edit_date": 1515618419, "question_id": 48195803, "link": "https://stackoverflow.com/questions/48195803/cloning-objects-in-jquery", "title": "Cloning objects in jquery", "body": "<p>When you click on the buttons <code>+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0441\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u044b</code> and <code>+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0435\u0431\u043d\u043e\u0435 \u0437\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u0435</code> this object should be copied and appear for information input. 1 click = 1 clone. But I get a lot of clones. What was I wrong about? <a href=\"http://test.bikstart.ru/niz-vac/index2.html\" rel=\"nofollow noreferrer\">http://test.bikstart.ru/niz-vac/index2.html</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.add-study').on('click', function() {\r\n  $('.table-vac--study').clone([true]).appendTo(\".form__item__study\");\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"form__item form__item__study\"&gt;\r\n  &lt;div class=\"form__item__wrap\"&gt;\r\n    &lt;img src=\"img/numer-quest.png\" alt=\"\"&gt;\r\n    &lt;!--&lt;span&gt;1&lt;/span&gt;--&gt;\r\n    &lt;div class=\"form__wrap\"&gt;\r\n      &lt;h2 class=\"h2-quest\"&gt;\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435&lt;/h2&gt;\r\n      &lt;span&gt;\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0443\u0447\u0435\u0431\u043d\u044b\u0435 \u0437\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u044f, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0412\u044b \u0443\u0447\u0438\u043b\u0438\u0441\u044c \u0438\u043b\u0438 \u0443\u0447\u0438\u0442\u0435\u0441\u044c&lt;/span&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;table class='table-vac table-vac--study table-vac-none'&gt;\r\n    &lt;tr class='tr-vac'&gt;\r\n      &lt;td class='td-vac quest-title'&gt;\u0423\u0447\u0435\u0431\u043d\u043e\u0435 \u0437\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u0435&lt;/td&gt;\r\n      &lt;td class='td-vac'&gt;&lt;input type=\"text\" placeholder=\"\u0423\u0447\u0435\u0431\u043d\u043e\u0435 \u0437\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u0435\" required id=\"study\"&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\n    &lt;tr class='tr-vac'&gt;\r\n      &lt;td class='td-vac quest-title'&gt;&lt;span class='star'&gt;*&lt;/span&gt; \u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c&lt;/td&gt;\r\n      &lt;td class='td-vac'&gt;&lt;input type=\"text\" placeholder=\"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c\" required id=\"specialty\"&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\n    &lt;tr class='tr-vac'&gt;\r\n      &lt;td class='td-vac quest-title'&gt;&lt;span class='star'&gt;*&lt;/span&gt; \u0413\u043e\u0434 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f&lt;/td&gt;\r\n      &lt;td class='td-vac'&gt;&lt;input type=\"number\" required id=\"year-ending\"&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\n    &lt;tr class='tr-vac'&gt;\r\n      &lt;td&gt;&lt;/td&gt;\r\n      &lt;td class=\"add-study\"&gt;+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0435\u0431\u043d\u043e\u0435 \u0437\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u0435&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/table&gt;\r\n\r\n\r\n  &lt;div class=\"pseudo-table\"&gt;\r\n    &lt;div class=\"pseudo-table__item\"&gt;\r\n      &lt;pseudo-table-title&gt;\u0423\u0447\u0435\u0431\u043d\u043e\u0435 \u0437\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u0435&lt;/pseudo-table-title&gt;\r\n      &lt;input type=\"text\" placeholder=\"\u0423\u0447\u0435\u0431\u043d\u043e\u0435 \u0437\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u0435\" required id=\"study1\"&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"pseudo-table__item\"&gt;\r\n      &lt;pseudo-table-title&gt;&lt;span class='star'&gt;*&lt;/span&gt; \u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c&lt;/pseudo-table-title&gt;\r\n      &lt;input type=\"text\" placeholder=\"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c\" required id=\"specialty1\"&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"pseudo-table__item\"&gt;\r\n      &lt;pseudo-table-title&gt;&lt;span class='star'&gt;*&lt;/span&gt; \u0413\u043e\u0434 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f&lt;/pseudo-table-title&gt;\r\n      &lt;input type=\"number\" required id=\"year-ending1\"&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;!--&lt;span class=\"add-study\"&gt;+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0435\u0431\u043d\u043e\u0435 \u0437\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u0435&lt;/span&gt;--&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery", "html", "knockout.js"], "comments": [{"owner": {"reputation": 585, "user_id": 5063323, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/75HdC.png?s=128&g=1", "display_name": "Mark Carpenter Jr", "link": "https://stackoverflow.com/users/5063323/mark-carpenter-jr"}, "edited": false, "score": 1, "creation_date": 1515618498, "post_id": 48195787, "comment_id": 83373189, "body": "What does the template for your <code>&lt;li&gt;</code>&#39;s look like? it looks like you&#39;ve attached the click function to the entire list and not each individual item."}], "answers": [{"tags": [], "owner": {"reputation": 815, "user_id": 6298705, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f6e58f9dd0c6448de4e4dff9de68c9f1?s=128&d=identicon&r=PG&f=1", "display_name": "vicnoob", "link": "https://stackoverflow.com/users/6298705/vicnoob"}, "is_accepted": true, "score": 0, "last_activity_date": 1515645950, "creation_date": 1515645950, "answer_id": 48199910, "question_id": 48195787, "link": "https://stackoverflow.com/questions/48195787/cant-pass-variable-in-knockoutjs-when-coming-from-a-searchable-list/48199910#48199910", "title": "Can&#39;t pass variable in KnockoutJS, when coming from a searchable list?", "body": "<p>You are binding click function to , you should bind it to each li. Because li is under foreach binding, you should use $root or $parent to call your function - ex $parent.newLocation ( in this case both parent and root should work)</p>\n\n<pre><code>&lt;div id=\"mySidenav\" class=\"sidenav\"&gt;\n  &lt;a href=\"javascript:void(0)\" class=\"closebtn\" onclick=\"closeNav()\"&gt;&amp;times;&lt;/a&gt;\n  &lt;form class= \"search\" action=\"#\"&gt;\n    &lt;input class = \"searchBar\" placeholder=\"Search\u2026\" type=\"search\" name=\"q\" data-bind=\"value: query, valueUpdate: 'keyup'\" autocomplete=\"on\"&gt;\n  &lt;/form&gt;\n  &lt;div class=\"content\"&gt;\n    &lt;a class = \"searchable\" href=\"#\" &gt;\n     &lt;ul class= \"locList\" data-bind = \"foreach:locations\"&gt;\n     &lt;li class= \"bullet\"&gt;\n    &lt;strong data-bind=\"text: name, click: $root.newLocation\"&gt;&lt;/strong&gt;&lt;hr&gt;\n  &lt;/li&gt;\n     &lt;/ul&gt;\n    &lt;/a&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>or if you still want template binding</p>\n\n<pre><code>&lt;div id=\"mySidenav\" class=\"sidenav\"&gt;\n  &lt;a href=\"javascript:void(0)\" class=\"closebtn\" onclick=\"closeNav()\"&gt;&amp;times;&lt;/a&gt;\n  &lt;form class= \"search\" action=\"#\"&gt;\n    &lt;input class = \"searchBar\" placeholder=\"Search\u2026\" type=\"search\" name=\"q\" data-bind=\"value: query, valueUpdate: 'keyup'\" autocomplete=\"on\"&gt;\n  &lt;/form&gt;\n  &lt;div class=\"content\"&gt;\n    &lt;a class = \"searchable\" href=\"#\" &gt;\n     &lt;ul class= \"locList\" data-bind = \"template: {name:'location', foreach:locations}\"&gt;\n     &lt;/ul&gt;\n    &lt;/a&gt;\n &lt;/div&gt;\n\n &lt;script type=\"text/html\" id=\"location\"&gt;\n  &lt;li class= \"bullet\"&gt;\n    &lt;strong data-bind=\"text: name, , click: $parent.newLocation\"&gt;&lt;/strong&gt;&lt;hr&gt;\n  &lt;/li&gt;\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5386787, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1037413652956490/picture?type=large", "display_name": "Jacob Voyles", "link": "https://stackoverflow.com/users/5386787/jacob-voyles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 48199910, "answer_count": 1, "score": 0, "last_activity_date": 1515645950, "creation_date": 1515617172, "last_edit_date": 1515619130, "question_id": 48195787, "link": "https://stackoverflow.com/questions/48195787/cant-pass-variable-in-knockoutjs-when-coming-from-a-searchable-list", "title": "Can&#39;t pass variable in KnockoutJS, when coming from a searchable list?", "body": "<p>I am using Knockout to make a searchable list, using an array. Once a user searches and clicks on an option I am trying to get it to run a function. I am very new to knockout and thought that I could use 'click:' to get it work, but am unsure how to get the specific option the user selected. This is what I have so far, any help would be appreciated.</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;div id=\"mySidenav\" class=\"sidenav\"&gt;\n  &lt;a href=\"javascript:void(0)\" class=\"closebtn\" onclick=\"closeNav()\"&gt;&amp;times;&lt;/a&gt;\n  &lt;form class= \"search\" action=\"#\"&gt;\n    &lt;input class = \"searchBar\" placeholder=\"Search\u2026\" type=\"search\" name=\"q\" data-bind=\"value: query, valueUpdate: 'keyup'\" autocomplete=\"on\"&gt;\n  &lt;/form&gt;\n  &lt;div class=\"content\"&gt;\n    &lt;a class = \"searchable\" href=\"#\" &gt;\n     &lt;ul class= \"locList\" data-bind = \"template: {name:'location', foreach:locations}, click: function(index) { newLocation(places.indexOf({name:'location'})[0], index)}\"&gt;\n     &lt;/ul&gt;\n    &lt;/a&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;script type=\"text/html\" id=\"location\"&gt;\n  &lt;li class= \"bullet\"&gt;\n    &lt;strong data-bind=\"text: name\"&gt;&lt;/strong&gt;&lt;hr&gt;\n  &lt;/li&gt;\n&lt;/script&gt;\n</code></pre>\n\n<p>JS</p>\n\n<pre><code>  var places = [\n    ['Fort Lewis', 47.1261838830712, -122.50854491937491, 5],\n    ['NAS Whidbey Island', 48.34709388383968, -122.66647338617179, 4],\n    ['Bangor Base', 47.72035804907695, -122.70973205316398, 3],\n    ['Keyport Base', 47.697255902139425, -122.62184142816398, 2],\n    ['Naval Base Kitsap', 47.56028140643856, -122.64587402093741, 1]\n  ];\n\n\n  var map;\n  var infowindow;\n\n  function initMap() {\n    var latlng = {lat: 47.6410663, lng: -122.6881319};\n    var mapOptions = {\n        center: latlng,\n        zoom: 8\n    };\n    map = new google.maps.Map(document.getElementById('map'), mapOptions);\n    infowindow = new google.maps.InfoWindow();\n    for (var i = 0; i &lt; places.length; i++) {\n        addMarkers(places[i]);\n    }\n  }\n\n  function addMarkers(newPlace) {\n    var marker = new google.maps.Marker({\n        position:{lat: newPlace[1], lng: newPlace[2]},\n        map: map\n    });\n    marker.addListener('click', function() {\n       infowindow.setContent(newPlace[0]);\n       infowindow.open(map, this);\n    });\n  }\n\n  var locations = [\n    {\n    name: \"Fort Lewis\",\n    index: 0},\n  {\n    name: \"NAS Whidbey Island\",\n    index: 3},\n  {\n    name: \"Bangor Base\",\n    index: 1},\n  {\n    name: \"Keyport Base\",\n    index: 2},\n  {\n    name: \"Naval Base Kitsap\",\n    index: 4}\n  ];\n  /* Sortable Lists */\n  $(function() {\n\n  var viewModel = {\n    query: ko.observable(''),\n\n    newLocation: function (index)\n    {\n      console.log(index);\n      currentMarker = new google.maps.Marker({\n          position:{lat: places[1][1], lng: places[1][2]},\n          map: map\n      });\n      map.setCenter(new google.maps.LatLng(places[1][1], places[1][2]));\n      currentMarker.addListener('center_changed', function() {\n         infowindow.open(map, this);\n      });\n    }\n  };\n\nviewModel.locations = ko.dependentObservable(function() {\n    var search = this.query().toLowerCase();\n    return ko.utils.arrayFilter(locations, function(location) {\n        return location.name.toLowerCase().indexOf(search) &gt;= 0;\n    });\n}, viewModel);\n\nko.applyBindings(viewModel);\n});\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "sharepoint"], "comments": [{"owner": {"reputation": 2222, "user_id": 1498401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b41de959f8403da285e0a23aabe603c6?s=128&d=identicon&r=PG", "display_name": "tinamou", "link": "https://stackoverflow.com/users/1498401/tinamou"}, "edited": false, "score": 0, "creation_date": 1516292215, "post_id": 48195783, "comment_id": 83636925, "body": "What is your list relationship model? Departments have lookup to organizations and groups have both lookup for organizations and departments?"}, {"owner": {"reputation": 6686, "user_id": 9086466, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JI5yN.png?s=128&g=1", "display_name": "Ctznkane525", "link": "https://stackoverflow.com/users/9086466/ctznkane525"}, "edited": false, "score": 0, "creation_date": 1516750925, "post_id": 48195783, "comment_id": 83815157, "body": "I recommend you check this thread if one of the fields are required.  Keep in mind this library was built for 2007/2010 <a href=\"http://spservices.codeplex.com/discussions/657744\" rel=\"nofollow noreferrer\">spservices.codeplex.com/discussions/657744</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1361, "user_id": 4983713, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/1300402182/picture?type=large", "display_name": "DrewB", "link": "https://stackoverflow.com/users/4983713/drewb"}, "edited": false, "score": 0, "creation_date": 1516807955, "post_id": 48321878, "comment_id": 83842183, "body": "I verified that SPServices does work with the most recent jQuery."}], "tags": [], "owner": {"reputation": 2292, "user_id": 862892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gDS01.jpg?s=128&g=1", "display_name": "Gautam Sheth", "link": "https://stackoverflow.com/users/862892/gautam-sheth"}, "is_accepted": false, "score": -1, "last_activity_date": 1516280069, "creation_date": 1516280069, "answer_id": 48321878, "question_id": 48195783, "link": "https://stackoverflow.com/questions/48195783/spservices-spcascadedropdowns-not-cascading-properly/48321878#48321878", "title": "SPServices.SPCascadeDropdowns not cascading properly", "body": "<p>Looks like the issue is because you are using <code>jQuery 3.2.1</code>.</p>\n\n<p>According to documentation, its recommended that you use <code>jQuery 1.10 or greater</code>.</p>\n\n<p>Would recommend that you remove the <code>3.2.1</code> version and instead use <code>1.12</code> version and then check.</p>\n\n<p>Reference -</p>\n\n<p><a href=\"http://sympmarc.github.io/SPServices/general-instructions.html\" rel=\"nofollow noreferrer\">SPServices General documentation</a></p>\n\n<p><a href=\"https://github.com/cdnjs/cdnjs/blob/master/ajax/libs/jquery.SPServices/2014.02/jquery.SPServices-2014.02.js\" rel=\"nofollow noreferrer\">jquery.SPServices-2014.02.js</a></p>\n\n<p>Download link for jQuery - <a href=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js\" rel=\"nofollow noreferrer\">jQuery.min.js</a></p>\n"}, {"comments": [{"owner": {"reputation": 1361, "user_id": 4983713, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/1300402182/picture?type=large", "display_name": "DrewB", "link": "https://stackoverflow.com/users/4983713/drewb"}, "edited": false, "score": 1, "creation_date": 1516807919, "post_id": 48341452, "comment_id": 83842149, "body": "Well, your answer led me to the correct code.  Turns out that the parentColumn field in the SPCascadeDropdowns function will try to use a jQuery to find the select element with the title specified in parentColumn.  I thought that the title would be &quot;Organization&quot;, but SharePoint was setting the title to &quot;Organization Required Field&quot;."}, {"owner": {"reputation": 2222, "user_id": 1498401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b41de959f8403da285e0a23aabe603c6?s=128&d=identicon&r=PG", "display_name": "tinamou", "link": "https://stackoverflow.com/users/1498401/tinamou"}, "reply_to_user": {"reputation": 1361, "user_id": 4983713, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/1300402182/picture?type=large", "display_name": "DrewB", "link": "https://stackoverflow.com/users/4983713/drewb"}, "edited": false, "score": 0, "creation_date": 1516808240, "post_id": 48341452, "comment_id": 83842433, "body": "glad you found it!"}], "tags": [], "owner": {"reputation": 2222, "user_id": 1498401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b41de959f8403da285e0a23aabe603c6?s=128&d=identicon&r=PG", "display_name": "tinamou", "link": "https://stackoverflow.com/users/1498401/tinamou"}, "is_accepted": true, "score": 1, "last_activity_date": 1516365874, "creation_date": 1516365874, "answer_id": 48341452, "question_id": 48195783, "link": "https://stackoverflow.com/questions/48195783/spservices-spcascadedropdowns-not-cascading-properly/48341452#48341452", "title": "SPServices.SPCascadeDropdowns not cascading properly", "body": "<p>Taking into consideration that you didn't provided your data structure, i've brought mine ;)</p>\n\n<p>Use this PowerShell script to create structure in a specific site collection:</p>\n\n<pre><code>$web = get-spweb &lt;YOUR URL&gt;\n$template = $web.ListTemplates | where name -eq 'Custom List'\n$organizationsListId = $web.Lists.Add(\"Organizations\", \"\", $template)\n$departmentsListId = $web.Lists.Add(\"Departments\", \"\", $template)\n$groupsListId = $web.Lists.Add(\"Groups\", \"\", $template)\n\n$organizationsLookup = $web.Fields.AddLookup(\"OrganizationsLookup\", $organizationsListId, $false)\n$departmentsLookup = $web.Fields.AddLookup(\"DepartmentsLookup\", $departmentsListId, $false)\n\n$organizations = $web.Lists[$organizationsListId]\n$departments = $web.Lists[$departmentsListId]\n$groups = $web.Lists[$groupsListId]\n\n$departments.Fields.Add($web.Fields.GetFieldByInternalName(\"OrganizationsLookup\"))\n$groups.Fields.Add($web.Fields.GetFieldByInternalName(\"DepartmentsLookup\"))\n$groups.Fields.Add($web.Fields.GetFieldByInternalName(\"OrganizationsLookup\"))\n\n$organizationsLookupInList = $departments.Fields.GetFieldByInternalName(\"OrganizationsLookup\");\n$organizationsLookupInList.LookupField = \"Title\"\n$organizationsLookupInList.Update()\n\n$departmentsLookupInList = $groups.Fields.GetFieldByInternalName(\"DepartmentsLookup\");\n$departmentsLookupInList.LookupField = \"Title\"\n$departmentsLookupInList.Update()\n\n$organizationsLookupInList1 = $groups.Fields.GetFieldByInternalName(\"OrganizationsLookup\");\n$organizationsLookupInList1.LookupField = \"Title\"\n$organizationsLookupInList1.Update()\n\nfunction AddListItem($list, $title)\n{\n    $itm = $list.AddItem()\n    $itm[\"Title\"] = $title \n    $itm.Update()\n    return $itm\n}\n\nfunction AddListItemDepartments($list, $title, $lookupIdOrg)\n{\n    $itm = AddListItem $list $title\n    $itm[\"OrganizationsLookup\"] = $lookupIdOrg\n    $itm.Update();\n    return $itm\n}\n\nfunction AddListItemGroups($list, $title, $lookupIdOrg, $lookupIdDep)\n{\n    $itm = AddListItemDepartments $list $title $lookupIdOrg\n    $itm[\"DepartmentsLookup\"] = $lookupIdDep\n    $itm.Update();\n    return $itm\n}\n\n$org1Id = (AddListItem $organizations \"AAA NET\").ID\n$org2Id = (AddListItem $organizations \"BBB NET\").ID\n$org3Id = (AddListItem $organizations \"CCC NET\").ID\n$org4Id = (AddListItem $organizations \"DDD NET\").ID\n\n\n$dep1Id = (AddListItemDepartments $departments \"Finance\" $org1Id).ID\n$dep2Id = (AddListItemDepartments $departments \"IT\" $org1Id).ID\n$dep3Id = (AddListItemDepartments $departments \"Finance\" $org2Id).ID\n$dep4Id = (AddListItemDepartments $departments \"Social\" $org2Id).ID\n$dep5Id = (AddListItemDepartments $departments \"Fun\" $org2Id).ID\n$dep6Id = (AddListItemDepartments $departments \"Sport\" $org2Id).ID\n$dep7Id = (AddListItemDepartments $departments \"Knowledge\" $org3Id).ID\n$dep8Id = (AddListItemDepartments $departments \"Sport\" $org3Id).ID\n</code></pre>\n\n<p>Next: </p>\n\n<ol>\n<li>Open groups list newform page.</li>\n<li>Hit edit page from top-right settings.</li>\n<li><p>Edit xsltlistviewformwebpart, attach jquery and spservices to <code>JSLink</code> property\nie:</p>\n\n<p><code>~site/siteassets/jquery-3.2.1.min.js | ~site/siteassets/jquery.SPServices-2014.02.min.js</code></p></li>\n<li><p>Add CEWP to page, move it below form webpart and insert your js cascading dropdowns code:</p></li>\n</ol>\n\n<p>Code (see comments)</p>\n\n<pre><code>$(document).ready(function(){\n    $().SPServices.SPCascadeDropdowns({\n        relationshipList: \"{xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx}\", // Your departments list id\n        relationshipListParentColumn: \"OrganizationsLookup\",\n        relationshipListChildColumn: \"Title\",\n        parentColumn: \"OrganizationsLookup\",\n        childColumn: \"DepartmentsLookup\",\n        debug: true\n    });\n});\n</code></pre>\n\n<p>And this should work (also with jquery 3.2.1)</p>\n"}], "owner": {"reputation": 1361, "user_id": 4983713, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/1300402182/picture?type=large", "display_name": "DrewB", "link": "https://stackoverflow.com/users/4983713/drewb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1906, "favorite_count": 0, "accepted_answer_id": 48341452, "answer_count": 2, "score": 4, "last_activity_date": 1516365874, "creation_date": 1515617154, "last_edit_date": 1516260987, "question_id": 48195783, "link": "https://stackoverflow.com/questions/48195783/spservices-spcascadedropdowns-not-cascading-properly", "title": "SPServices.SPCascadeDropdowns not cascading properly", "body": "<p>I have three SharePoint 2016 lists:</p>\n\n<ul>\n<li>Organizations</li>\n<li>Departments</li>\n<li>Groups</li>\n</ul>\n\n<p>Groups are sorted by Department and Departments are sorted by Organization.</p>\n\n<p>The title field in each list is used for the name of the group, org or dept and there is a dropdown in each list to select the parent of that respective item.</p>\n\n<p>In one of my forms, the user is supposed to select the org, dept and group who owns a specific software title.  I am attempting to use SPServices.SPCascadeDropdowns to show only the departments for the selected org, but it isn't doing anything at all.</p>\n\n<p>The relavent fields in the form are:</p>\n\n<pre><code>&lt;td valign=\"top\" class=\"ms-formlabel\"&gt;\n  &lt;H3 class=\"ms-standardheader\"&gt;\n    &lt;nobr&gt;Organization&lt;span class=\"ms-formvalidation\"&gt; *&lt;/span&gt;&lt;/nobr&gt;\n  &lt;/H3&gt;\n&lt;/td&gt;\n&lt;td valign=\"top\" class=\"ms-formbody\"&gt;\n  &lt;SharePoint:FormField runat=\"server\" id=\"ff9{$Pos}\" ControlMode=\"New\"\n   FieldName=\"Organization\" \n   __designer:bind=\"{ddwrt:DataBind('i',concat('ff9',$Pos),'Value','ValueChanged','ID',ddwrt:EscapeDelims(string(@ID)),'@Organization')}\"/&gt;\n  &lt;SharePoint:FieldDescription runat=\"server\" id=\"ff9description{$Pos}\" FieldName=\"Organization\" ControlMode=\"New\"/&gt;\n&lt;/td&gt;\n&lt;td valign=\"top\" class=\"ms-formlabel\"&gt;\n  &lt;H3 class=\"ms-standardheader\"&gt;\n    &lt;nobr&gt;Department&lt;span class=\"ms-formvalidation\"&gt; *&lt;/span&gt;&lt;/nobr&gt;\n  &lt;/H3&gt;\n&lt;/td&gt;\n&lt;td valign=\"top\" class=\"ms-formbody\"&gt;\n  &lt;SharePoint:FormField runat=\"server\" id=\"ff10{$Pos}\" ControlMode=\"New\"\n  FieldName=\"Department\"\n  __designer:bind=\"{ddwrt:DataBind('i',concat('ff10',$Pos),'Value','ValueChanged','ID',ddwrt:EscapeDelims(string(@ID)),'@Department')}\"/&gt;\n  &lt;SharePoint:FieldDescription runat=\"server\" id=\"ff10description{$Pos}\" FieldName=\"Department\" ControlMode=\"New\"/&gt;\n&lt;/td&gt;\n</code></pre>\n\n<p>The Javascript I'm using is:</p>\n\n<pre><code>$(document).ready(function(){\n    $().SPServices.SPCascadeDropdowns({\n        relationshipList: \"{xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx}\",\n        relationshipListParentColumn: \"Organization\",\n        relationshipListChildColumn: \"Title\",\n        parentColumn: \"Organization\",\n        childColumn: \"Department\",\n        debug: true\n    });\n});\n</code></pre>\n\n<p>I've loaded jQuery 3.2.1 and jQuery.SPServices-2014.02.min.js.  I'm getting no errors in Chrome console, it just isn't doing anything at all.  If I put a break at $().SPServices, it does hit so I know it's being called.  Any idea what I'm doing wrong?</p>\n"}, {"tags": ["javascript", "ios", "json", "node.js", "swift"], "comments": [{"owner": {"reputation": 1556, "user_id": 6126033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/183fcfeb21349bea904dfe711bd2c177?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6126033/peter"}, "edited": false, "score": 0, "creation_date": 1515617370, "post_id": 48195761, "comment_id": 83372617, "body": "<code>var title = request.body.title;</code> <code>var body = request.body.body;</code> <code>var icon = request.body.photoUrl;</code> more info: <a href=\"https://firebase.google.com/docs/functions/http-events#read_values_from_the_request\" rel=\"nofollow noreferrer\">firebase.google.com/docs/functions/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6354073"}, "reply_to_user": {"reputation": 1556, "user_id": 6126033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/183fcfeb21349bea904dfe711bd2c177?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6126033/peter"}, "edited": false, "score": 0, "creation_date": 1515617931, "post_id": 48195761, "comment_id": 83372905, "body": "@Peter Not working. log shows: <code>{ notification: { title: undefined, body: undefined, icon: undefined } }</code>. Any reason why this might be?"}, {"owner": {"reputation": 1556, "user_id": 6126033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/183fcfeb21349bea904dfe711bd2c177?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6126033/peter"}, "edited": false, "score": 0, "creation_date": 1515617969, "post_id": 48195761, "comment_id": 83372922, "body": "what the <code>console.log</code> for <code>request.body</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6354073"}, "reply_to_user": {"reputation": 1556, "user_id": 6126033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/183fcfeb21349bea904dfe711bd2c177?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6126033/peter"}, "edited": false, "score": 0, "creation_date": 1515618216, "post_id": 48195761, "comment_id": 83373044, "body": "log shows: <code>{ &#39;{&quot;body&quot;:&quot; John Doe is now following you.&quot;,&quot;photoUrl&quot;:&quot;url&quot;,&quot;title&quot;:&quot;Congrats! You have a new follower.&quot;,&quot;tokenId&quot;:&quot;tokenId-12345&quot;}&#39;: &#39;&#39; }</code>"}, {"owner": {"reputation": 1556, "user_id": 6126033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/183fcfeb21349bea904dfe711bd2c177?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6126033/peter"}, "edited": false, "score": 0, "creation_date": 1515618836, "post_id": 48195761, "comment_id": 83373362, "body": "ohh i see the whole post message is a key of the object. try this: <code>var body = JSON.parse(Object.keys(request.body)[0]); console.log(body)</code> - this is an ugly and quick fix don&#39;t use it in production, Just try to figure out whats went wrong with the body parser)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6354073"}, "reply_to_user": {"reputation": 1556, "user_id": 6126033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/183fcfeb21349bea904dfe711bd2c177?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6126033/peter"}, "edited": false, "score": 0, "creation_date": 1515620436, "post_id": 48195761, "comment_id": 83374060, "body": "@Peter Thanks, this worked. Parsing JSON and sending to Apple Push Notification Service is the only responsibility of this function. It doesn&#39;t get any more complex than this. Why else wouldn&#39;t I use this in production? Really new to javascript so I don&#39;t have time to dig deeper and figure out something more elegant."}, {"owner": {"reputation": 1556, "user_id": 6126033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/183fcfeb21349bea904dfe711bd2c177?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6126033/peter"}, "edited": false, "score": 0, "creation_date": 1515622641, "post_id": 48195761, "comment_id": 83375027, "body": "because something wrong with the post, or with the body parser and this is a workaround the bug."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6354073"}, "edited": false, "score": 0, "creation_date": 1515618732, "post_id": 48195980, "comment_id": 83373313, "body": "No luck. log: <code>{ notification: { title: undefined, body: undefined, icon: undefined } }</code>. I already removed <code>if (request.params)</code> before testing."}, {"owner": {"reputation": 1, "user_id": 3773246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001064490914/picture?type=large", "display_name": "None", "link": "https://stackoverflow.com/users/3773246/none"}, "edited": false, "score": 0, "creation_date": 1515619391, "post_id": 48195980, "comment_id": 83373602, "body": "can you try from the web broswer?"}, {"owner": {"reputation": 1, "user_id": 3773246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001064490914/picture?type=large", "display_name": "None", "link": "https://stackoverflow.com/users/3773246/none"}, "edited": false, "score": 0, "creation_date": 1515619461, "post_id": 48195980, "comment_id": 83373627, "body": "i did firebase functions a while back. <a href=\"https://github.com/huyvanvo94/university-library-mobile-app/blob/master/firebase-functions/functions/index.js\" rel=\"nofollow noreferrer\">github.com/huyvanvo94/university-library-mobile-app/blob/mas&zwnj;&#8203;ter/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6354073"}, "edited": false, "score": 0, "creation_date": 1515620222, "post_id": 48195980, "comment_id": 83373957, "body": "I ultimately got working solution from Peter. Thanks for sharing this!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6354073"}, "edited": false, "score": 0, "creation_date": 1515620527, "post_id": 48195980, "comment_id": 83374112, "body": "on client side was your data structured the same as mine? Just key/value pairs?"}, {"owner": {"reputation": 1, "user_id": 3773246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001064490914/picture?type=large", "display_name": "None", "link": "https://stackoverflow.com/users/3773246/none"}, "edited": false, "score": 0, "creation_date": 1515621026, "post_id": 48195980, "comment_id": 83374357, "body": "some like: &quot;www.url.com/?test=1&quot;. I just built the url."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6354073"}, "edited": false, "score": 0, "creation_date": 1515627390, "post_id": 48195980, "comment_id": 83376696, "body": "When ready to send a notification to device I call sendToDevice method which takes a String as an argument. A resource from GitHub says its a  device notification token. Firebase says its a &quot;registration token that comes from the client FCM SDKs&quot;. What should be the input here?"}, {"owner": {"reputation": 1, "user_id": 3773246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001064490914/picture?type=large", "display_name": "None", "link": "https://stackoverflow.com/users/3773246/none"}, "edited": false, "score": 0, "creation_date": 1515627546, "post_id": 48195980, "comment_id": 83376732, "body": "Should put on another question. Stackoverflow does not like this."}], "tags": [], "owner": {"reputation": 1, "user_id": 3773246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001064490914/picture?type=large", "display_name": "None", "link": "https://stackoverflow.com/users/3773246/none"}, "is_accepted": false, "score": 0, "last_activity_date": 1516885884, "last_edit_date": 1516885884, "creation_date": 1515617969, "answer_id": 48195980, "question_id": 48195761, "link": "https://stackoverflow.com/questions/48195761/how-to-read-json-values-from-post-request-in-javascript/48195980#48195980", "title": "How to read JSON values from POST Request in Javascript", "body": "<p>Use <code>query</code></p>\n\n<pre><code>    var title = request.query.title;\n    var body = request.query.body;\n    var icon = request.query.photoUrl;\n</code></pre>\n\n<p>Also, remove  <code>if (request.params)</code>   </p>\n\n<p>Do</p>\n\n<pre><code> if(title &amp;&amp; body &amp;&amp; icon){ \n     // do something\n }\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6354073"}, "is_accepted": false, "score": 0, "last_activity_date": 1515622734, "creation_date": 1515622734, "answer_id": 48197031, "question_id": 48195761, "link": "https://stackoverflow.com/questions/48195761/how-to-read-json-values-from-post-request-in-javascript/48197031#48197031", "title": "How to read JSON values from POST Request in Javascript", "body": "<p>To use <code>request.query.myKey</code>, add <code>URLQueryItem</code>'s to the url from client, rather than adding dictionary to <code>urlRequest</code> <code>body</code>.      </p>\n\n<pre><code>   var urlComponents: URLComponents {\n            var components = URLComponents(string: urlString)!\n            let tokenIdQueryItem = URLQueryItem(name: \"TokenId\", value: \"tokenId-12345\")\n            let titleQueryItem = URLQueryItem(name: \"title\", value: \"Congrats! You have a new follower.\")\n            let bodyQueryItem = URLQueryItem(name: \"body\", value: \"John Doe is now following you\")\n            let photoUrlQueryItem  = URLQueryItem(name: \"photoUrl\", value: \"photoUrl...\")\n            components.queryItems = [tokenIdQueryItem, titleQueryItem, bodyQueryItem, photoUrlQueryItem]\n            return components\n        }\n\n   var request = URLRequest(url: urlComponents.url!)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6354073"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1516885884, "creation_date": 1515617076, "question_id": 48195761, "link": "https://stackoverflow.com/questions/48195761/how-to-read-json-values-from-post-request-in-javascript", "title": "How to read JSON values from POST Request in Javascript", "body": "<p>How can I read values from POST request sent from client? I send <code>POST</code> request from client in Swift like so: </p>\n\n<pre><code>    let data = [ \"tokenId\": \"tokenId-12345\",\n                 \"title\": \"Congrats! You have a new follower.\",\n                 \"body\" : \" John Doe is now following you.\",\n                 \"photoUrl\" : \"url\" ]\n\n    let body = try! JSONSerialization.data(withJSONObject: data, options: .sortedKeys)\n    request.httpBody = body\n    URLSession.shared.dataTask(with: request) { (data, response, error) in\n        // handle response.\n    }\n</code></pre>\n\n<p>On backend I need to get values from request, so I can send push notification. </p>\n\n<pre><code> const functions = require('firebase-functions');\n const admin = require('firebase-admin');\n var serviceAccount = require(\"./service-account.json\");\n admin.initializeApp(functions.config().firebase);\n\n exports.isMutual = functions.https.onRequest((request, response) =&gt; {\n\n    if (request.params) {\n\n        // get values. This doesn't work..\n        var title = request.params.title;\n        var body = request.params.body;\n        var icon = request.params.photoUrl;\n\n        const payload = {\n            notification: {\n              title:title,\n              body: body,\n              icon: icon\n            }\n          };\n\n        response.send(payload);\n        console.log(payload);\n    }\n\n   });\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "function", "math"], "comments": [{"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1515617345, "post_id": 48195749, "comment_id": 83372602, "body": "How do you call <code>doControllerConversion</code>? What does <code>MessageOut</code> return?"}, {"owner": {"reputation": 10593, "user_id": 1347953, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/315f975f0f6f3b02f09ba70a366f05d7?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien", "link": "https://stackoverflow.com/users/1347953/s%c3%a9bastien"}, "edited": false, "score": 0, "creation_date": 1515617348, "post_id": 48195749, "comment_id": 83372604, "body": "Do you get any errors in the console? What is <code>MessageOut</code>?"}, {"owner": {"reputation": 23, "user_id": 9197334, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155997242578194/picture?type=large", "display_name": "Alec", "link": "https://stackoverflow.com/users/9197334/alec"}, "edited": false, "score": 0, "creation_date": 1515617579, "post_id": 48195749, "comment_id": 83372736, "body": "MessageOut(x); simply returns a specificied console message that either gives a confirmation or an error. It\u2019s basically my error handler."}, {"owner": {"reputation": 23, "user_id": 9197334, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155997242578194/picture?type=large", "display_name": "Alec", "link": "https://stackoverflow.com/users/9197334/alec"}, "edited": false, "score": 0, "creation_date": 1515617633, "post_id": 48195749, "comment_id": 83372766, "body": "I get a \u201cuserSettings.x undefined.\u201d It can\u2019t pick up anything from this object from inside the function. Any idea why?"}, {"owner": {"reputation": 23, "user_id": 9197334, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155997242578194/picture?type=large", "display_name": "Alec", "link": "https://stackoverflow.com/users/9197334/alec"}, "reply_to_user": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1515617838, "post_id": 48195749, "comment_id": 83372852, "body": "@trincot You can call it like doControllerConversion(\u2018phase\u2019,\u2019toRaw\u2019); . It\u2019ll detect which model I\u2019m using (that part works) from the raw array, detect if I want to/fromRaw (eg multiply or divide) the object userSettings.X\u2019s value (in this case, userSettings.phaseCurrentLimit, which is a two digit number)."}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1515618509, "post_id": 48195749, "comment_id": 83373196, "body": "btw, you could omit the <code>else</code> part after <code>return</code>, because return ends the function. a simple on going <code>if</code> is sufficient."}, {"owner": {"reputation": 23, "user_id": 9197334, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155997242578194/picture?type=large", "display_name": "Alec", "link": "https://stackoverflow.com/users/9197334/alec"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1515618566, "post_id": 48195749, "comment_id": 83373227, "body": "@Nina Scholz, will do! Great to know!"}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1515620253, "post_id": 48195749, "comment_id": 83373975, "body": "Can you provide a small (! so not the 1000 lines you have on <code>wire.bike</code>), runnable snippet, that calls the function and produces the error you mention?"}, {"owner": {"reputation": 23, "user_id": 9197334, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155997242578194/picture?type=large", "display_name": "Alec", "link": "https://stackoverflow.com/users/9197334/alec"}, "reply_to_user": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1515620448, "post_id": 48195749, "comment_id": 83374067, "body": "@trincot, sure! I\u2019ll post it within 30min from now. Thanks so much!"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1515620610, "post_id": 48195749, "comment_id": 83374155, "body": "btw, in <code>bitFlagsToRaw</code> (and at some more places!), you do not check the values, but assign the value in the <code>if</code> clause, where you included the early exit approach."}, {"owner": {"reputation": 23, "user_id": 9197334, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155997242578194/picture?type=large", "display_name": "Alec", "link": "https://stackoverflow.com/users/9197334/alec"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1515620822, "post_id": 48195749, "comment_id": 83374263, "body": "@NinaScholz You\u2019re right, I should comment those lines out as it\u2019s a total work in progress. Right now I\u2019m focusing on specifically the array, the object and the single function noted here. I\u2019ll post a proper sample once I get back at the computer! Thanks so much."}, {"owner": {"reputation": 12410, "user_id": 5217142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57daeb5f96b7a591e3447d41e59bbc94?s=128&d=identicon&r=PG&f=1", "display_name": "traktor", "link": "https://stackoverflow.com/users/5217142/traktor"}, "edited": false, "score": 0, "creation_date": 1515622124, "post_id": 48195749, "comment_id": 83374817, "body": "The offsite code doesn&#39;t call <code>doControllerConversion</code>. Adding a call after page load didn&#39;t produce any errors. Logging the type of <code>userSettings</code> said &quot;object&quot;.  Make sure to show the call that produces the error to your edited question - and at least check you are not calling it before the declaration of <code>userSettings</code>  has been executed (shouldn&#39;t be an issue)."}, {"owner": {"reputation": 12410, "user_id": 5217142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57daeb5f96b7a591e3447d41e59bbc94?s=128&d=identicon&r=PG&f=1", "display_name": "traktor", "link": "https://stackoverflow.com/users/5217142/traktor"}, "edited": false, "score": 0, "creation_date": 1515622602, "post_id": 48195749, "comment_id": 83375009, "body": "And going out on a limb, check the code you actually used to test doesn&#39;t have an edit error and defines <code>doControllerConversion</code> twice :-)"}, {"owner": {"reputation": 23, "user_id": 9197334, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155997242578194/picture?type=large", "display_name": "Alec", "link": "https://stackoverflow.com/users/9197334/alec"}, "edited": false, "score": 0, "creation_date": 1515622880, "post_id": 48195749, "comment_id": 83375127, "body": "I figured it out, somehow, please refer to my edit question! Thanks for all your help."}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1515701520, "post_id": 48195749, "comment_id": 83411980, "body": "Posting answers inside the question is not helpful for this site. Then you might as well delete the question. Instead, restore the original question, and post the answer as ... an answer. It is acceptable to answer your own questions."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 9197334, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155997242578194/picture?type=large", "display_name": "Alec", "link": "https://stackoverflow.com/users/9197334/alec"}, "edited": false, "score": 0, "creation_date": 1515617966, "post_id": 48195912, "comment_id": 83372920, "body": "Hey @Sam. rawUserSettings[26] already equals 1. Forgot to include that part of the array. Any other ideas?"}, {"owner": {"reputation": 23, "user_id": 9197334, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155997242578194/picture?type=large", "display_name": "Alec", "link": "https://stackoverflow.com/users/9197334/alec"}, "edited": false, "score": 0, "creation_date": 1515618196, "post_id": 48195912, "comment_id": 83373034, "body": "As to your edit \u2014 I can\u2019t seem to grab any object\u2019s value, eg \u201cObject.item\u201d from inside a function. However, outside arrays work from inside the function, eg \u201cObject[item]\u201d."}, {"owner": {"reputation": 23, "user_id": 9197334, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155997242578194/picture?type=large", "display_name": "Alec", "link": "https://stackoverflow.com/users/9197334/alec"}, "edited": false, "score": 0, "creation_date": 1515618221, "post_id": 48195912, "comment_id": 83373046, "body": "The if\u2019s work if I remove any reference to the object, if that helps clear things up. :)"}], "tags": [], "owner": {"reputation": 1264, "user_id": 7796634, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YhYxU.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/7796634/sam"}, "is_accepted": false, "score": 0, "last_activity_date": 1515617971, "last_edit_date": 1515617971, "creation_date": 1515617694, "answer_id": 48195912, "question_id": 48195749, "link": "https://stackoverflow.com/questions/48195749/using-an-object-property-as-a-variable-to-multiply-a-number/48195912#48195912", "title": "Using an object property as a variable to multiply a number?", "body": "<p>Your function <code>doControllerConversion</code> returns <code>undefined</code> in many cases. These <code>if</code> conditions do not cover all the options. Maybe this is the answer.</p>\n"}], "owner": {"reputation": 23, "user_id": 9197334, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155997242578194/picture?type=large", "display_name": "Alec", "link": "https://stackoverflow.com/users/9197334/alec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 297, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515623116, "creation_date": 1515617022, "last_edit_date": 1515623116, "question_id": 48195749, "link": "https://stackoverflow.com/questions/48195749/using-an-object-property-as-a-variable-to-multiply-a-number", "title": "Using an object property as a variable to multiply a number?", "body": "<p>EDIT \u2013 I ended up solving it!</p>\n\n<p>Here's the working code snippet: <a href=\"https://jsbin.com/hiqekuwisa/edit?js,console\" rel=\"nofollow noreferrer\">https://jsbin.com/hiqekuwisa/edit?js,console</a>\n (Try doControllerConversion('phase','toRaw'); , etc.)</p>\n\n<p>If I define a variable, in this case, \"y\" to my object key before any if's or math is done, it works just fine.</p>\n\n<p>Fixed code posted here for reference:</p>\n\n<pre><code>function doControllerConversion(selector, orientation) {\n\n    var x; // final auto-input depending on controller type\n    var y = userSettings.phaseCurrentLimit; // grab user's desired value (from object)\n    var z = userSettings.controllerType; // grab controller type (from object)\n\n    if (z == 'KH606') { //for controller type 1\n        if (selector == 'phase') {\n            if (orientation == 'toRaw') {\n                x = y * 2.85;\n                return x;\n            } if (orientation == 'fromRaw') {\n                x = y / 2.85;\n                return x;\n            }\n        } if (selector == 'battery') {\n            if (orientation == 'toRaw') {\n                x = y * 5.10;\n                return x;\n            } if (orientation == 'fromRaw') {\n                x = y / 5.10;\n                return x;\n            }\n        } else {\n            return MessageOut(1);\n        }\n    }\n\n    if (z == 'KH609') { //for controller type 2\n        if (selector == 'phase') {\n            if (orientation == 'toRaw') {\n                var x = y * 2.46;\n                return x;\n            } if (orientation == 'fromRaw') {\n                x = y / 2.46;\n                return x;\n            }\n        } if (selector == 'battery') {\n            if (orientation == 'toRaw') {\n                x = y * 5.10;\n                return x;\n            } if (orientation == 'fromRaw') {\n                x = y / 5.10;\n                return x;\n            }\n        } else {\n            return MessageOut(1);\n        }\n    }\n\n    if (z == 'KH612') { //for controller type 3\n        if (selector == 'phase') {\n            if (orientation == 'toRaw') {\n                x = y * 1.20;\n                return x;\n            } if (orientation == 'fromRaw')\n            return userInput / 1.20;\n        }\n    } if (selector == 'battery') {\n        if (orientation == 'toRaw') {\n            x = y * 2.73;\n            return x;\n        } if (orientation == 'fromRaw') {\n            x = y / 2.73;\n            return x;\n        }\n    }\n    else {\n            return MessageOut(1);\n    }\n\n    if (z == 'KH615') { //for controller type 4\n        if (selector == 'phase') {\n            if (orientation == 'toRaw') {\n                x = y * 0.79;\n                return x;\n            } if (orientation == 'fromRaw') {\n                return userInput / 0.79;\n            }\n        } if (selector == 'battery') {\n            if (orientation == 'toRaw') {\n                x = y * 2.55;\n                return x;\n            } if (orientation == 'fromRaw') {\n                x = y / 2.55;\n                return x;\n            }\n        }\n        else {\n            return MessageOut(1);\n        }\n    }\n\n    if (z == 'KH618') { //for controller type 5\n        if (selector == 'phase') {\n            if (orientation == 'toRaw') {\n                x = y * 0.53;\n                return x;\n            } else if (orientation == 'fromRaw') {\n                x = y / 0.53;\n                return x;\n            }\n        } else if (selector == 'battery') {\n            if (orientation == 'toRaw') {\n                x = y * 1.70;\n                return x;\n            } else if (orientation == 'fromRaw') {\n                x = y / 1.70;\n                return x;\n            }\n        }\n        else {\n            return MessageOut(1);\n        }\n    }\n    else { // return general error\n    console.log('General error on data conversion!');\n    return;\n    }\n\n}\n</code></pre>\n\n<p>Thanks for your help everybody!</p>\n\n<h2>Original post below</h2>\n\n<p>Within a function, I'm trying to utilize the values of an array property and an object property. They're simple numbers. For some reason, the Array seems to work from inside the function but the object comes back as undefined?</p>\n\n<p><strike>Here's the code:</p>\n\n<pre><code>function doControllerConversion(selector, orientation) {\n\n    if (rawUserSettings[24] == '1') {\n        if (selector == 'phase') {\n            if (orientation == 'toRaw') {\n                MessageOut(4);\n                var x = userSettings.phaseCurrentLimit * 2.85;\n                return x;\n            } else if (orientation == 'fromRaw') {\n                MessageOut(5);\n                var x = userSettings.phaseCurrentLimit / 2.85;\n                return x;\n            }\n        } else if (selector == 'battery') {\n            if (orientation == 'toRaw') {\n                MessageOut(4);\n                var x = userSettings.batteryCurrentLimit * 5.10;\n                return x;\n            } else if (orientation == 'fromRaw') {\n                MessageOut(5);\n                var x = userSettings.batteryCurrentLimit / 5.10;\n                return x;\n            }\n        } else {\n            return MessageOut(1);\n        }\n    }\n</code></pre>\n\n<p>So I have an array rawUserSettings, which looks like this:</p>\n\n<pre><code> var rawUserSettings = [];\n\n // unknown, default 2\nrawUserSettings[0] = \"2\"; ///\n//////////////////////////\n\n// unknown, default 15\nrawUserSettings[1] = \"15\"; //\n//////////////////////////\n\n// phase current limit, amps\n// 0-255\nrawUserSettings[2] = \"255\",\n\n// battery current limit, amps\n// 0-255\nrawUserSettings[3] = \"255\";\n\n// low voltage cutout, voltage\n// 0-255\nrawUserSettings[4] = \"255\";\n\n// tolerance (turn controller back on after low voltage)\n// 0-255\nrawUserSettings[5] = \"255\";\n\n// speed limit (0-99%)\n// 1-96\nrawUserSettings[6] = \"96\";\n\n// speed mode (\"1-4\")\n// 0-3\nrawUserSettings[7] = \"3\";\n\n// speed 1 setting\n// 0-104\nrawUserSettings[8] = \"104\";\n</code></pre>\n\n<p>and so on...</p>\n\n<p>And a more friendly object called userSettings, which looks like this:</p>\n\n<pre><code>var userSettings = {\n    controllerType: \"KH606\",\n    phaseCurrentLimit: 90,\n    batteryCurrentLimit: \"70\",\n    voltageCutoutLimit: \"50\",\n    powerRestoreLimit: \"50\",\n    speedLimit: \"45\",\n    speedLimitMode: \"0\",\n    speedLimit1: \"30\",\n    speedLimit2: \"40\",\n    speedLimit3: \"50\",\n    speedLimit4: \"60\",\n    blockTime: \"20\",\n    autoCruiseTime: \"20\",\n    slipChargeMode: \"1\",\n    ledMode: \"1\",\n</code></pre>\n\n<p>And so on.</p>\n\n<p>What's going on here? Thanks for your help! </strike></p>\n"}, {"tags": ["javascript", "node.js", "sockets"], "comments": [{"owner": {"reputation": 2818, "user_id": 3743683, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1a2184dc575adac6e364c25d1708397d?s=128&d=identicon&r=PG&f=1", "display_name": "Abhyudit Jain", "link": "https://stackoverflow.com/users/3743683/abhyudit-jain"}, "edited": false, "score": 0, "creation_date": 1515617007, "post_id": 48195726, "comment_id": 83372429, "body": "You should add auth to your socket to identify them."}, {"owner": {"reputation": 155, "user_id": 8847981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e5946aca153608c12451f5d835a63b07?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Barinov", "link": "https://stackoverflow.com/users/8847981/anton-barinov"}, "reply_to_user": {"reputation": 2818, "user_id": 3743683, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1a2184dc575adac6e364c25d1708397d?s=128&d=identicon&r=PG&f=1", "display_name": "Abhyudit Jain", "link": "https://stackoverflow.com/users/3743683/abhyudit-jain"}, "edited": false, "score": 0, "creation_date": 1515617100, "post_id": 48195726, "comment_id": 83372474, "body": "Maybe you could get an advice, how to do that? or maybe any link with tutorial or smth else? thanks"}], "answers": [{"tags": [], "owner": {"reputation": 2818, "user_id": 3743683, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1a2184dc575adac6e364c25d1708397d?s=128&d=identicon&r=PG&f=1", "display_name": "Abhyudit Jain", "link": "https://stackoverflow.com/users/3743683/abhyudit-jain"}, "is_accepted": true, "score": 0, "last_activity_date": 1515653322, "creation_date": 1515653322, "answer_id": 48201270, "question_id": 48195726, "link": "https://stackoverflow.com/questions/48195726/how-to-distinguish-web-sockets-on-server/48201270#48201270", "title": "How to distinguish web sockets on server", "body": "<p>You should add auth to your sockets so you can identify the client.</p>\n\n<p>Refer to this: <a href=\"https://www.npmjs.com/package/socketio-auth\" rel=\"nofollow noreferrer\">socketio-auth</a></p>\n\n<p>You can issue unique keys to clients and workers or whoever you want and then require them to emit to \"authenticate\" event.</p>\n\n<p>You can distinguish them by having a key \"type\" in the db.</p>\n\n<p>From npm:</p>\n\n<p><strong>Client</strong>:</p>\n\n<pre><code>var socket = io.connect('http://localhost');\nsocket.on('connect', function(){\n  socket.emit('authentication', {username: \"John\", password: \"secret\"});\n  socket.on('authenticated', function() {\n    // use the socket as usual \n  });\n});\n</code></pre>\n\n<p><strong>Server</strong>:</p>\n\n<pre><code>var io = require('socket.io').listen(app);\n\nrequire('socketio-auth')(io, {\n  authenticate: function (socket, data, callback) {\n    //get credentials sent by the client \n    var key = data.key;\n\n    db.findUser('Users', {secret: key}, function(err, user) {\n\n      //inform the callback of auth success/failure \n      if (err || !user) return callback(new Error(\"User not found\"));\n      return callback(null, user);\n    });\n  }\n});\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 8847981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e5946aca153608c12451f5d835a63b07?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Barinov", "link": "https://stackoverflow.com/users/8847981/anton-barinov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "accepted_answer_id": 48201270, "answer_count": 1, "score": 0, "last_activity_date": 1515653322, "creation_date": 1515616904, "question_id": 48195726, "link": "https://stackoverflow.com/questions/48195726/how-to-distinguish-web-sockets-on-server", "title": "How to distinguish web sockets on server", "body": "<p>I am trying to create a server with clients. Each client has a websocket and a web worker, and each worker has an own websocket to the server. \nThe problem is, that i have a place on the server, where i am storing all connections </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>wss.on('connection', function connection(ws) {\r\n    var cid = \"\" + ++cid_counter;\r\n    server.users[cid] = ws;\r\n    ...\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But now they are all storing in server.users[], and i want to store clients sockets in server.users and worker sockets in server.wokers[], but i have no idea, how to distinguish there two different types of web sockets. Maybe i could send a message, when creating a new web socket or any other solutions?</p>\n\n<p>Thanks in forward</p>\n"}, {"tags": ["javascript", "java", "html", "jsp"], "answers": [{"tags": [], "owner": {"reputation": 76644, "user_id": 330057, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/i6yM6.png?s=128&g=1", "display_name": "corsiKa", "link": "https://stackoverflow.com/users/330057/corsika"}, "is_accepted": false, "score": 0, "last_activity_date": 1515616945, "creation_date": 1515616945, "answer_id": 48195734, "question_id": 48195707, "link": "https://stackoverflow.com/questions/48195707/how-to-create-an-event-triggered-alarm-signal-in-html-which-lasts-a-fixed-amount/48195734#48195734", "title": "How to create an event-triggered alarm signal in HTML which lasts a fixed amount of time (say 1 hour)?", "body": "<p>I would simply query the database for any alarms that went off in the past hour.</p>\n\n<p>If you acknowledge an alarm while it's up, though, you'll want to make sure to send that ack to the database so when you open it up later (assuming you're still in the hour) that you only grab alarms that haven't been acked.</p>\n\n<p>That's your basic algorithm. If you wanted specifics, you'd have to post a question with code.</p>\n"}], "owner": {"reputation": 664, "user_id": 7659255, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2a842e79fcecbacf732ff2c2b1fa9b27?s=128&d=identicon&r=PG&f=1", "display_name": "Peng", "link": "https://stackoverflow.com/users/7659255/peng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1515616945, "creation_date": 1515616790, "question_id": 48195707, "link": "https://stackoverflow.com/questions/48195707/how-to-create-an-event-triggered-alarm-signal-in-html-which-lasts-a-fixed-amount", "title": "How to create an event-triggered alarm signal in HTML which lasts a fixed amount of time (say 1 hour)?", "body": "<p>I am developing a web application to create an event-triggered alarm signal. </p>\n\n<ol>\n<li><p>Trigger event</p>\n\n<p>The trigger event is any changes in my schedule table database. That is, whenever there is a change in my schedule table, it triggers the alarm signal</p></li>\n<li><p>Alarm signal</p>\n\n<p>The alarm signal could be a red flashing icon which lasts for 1 hour. If there is no new change, the alarm signal should go off.  </p></li>\n</ol>\n\n<p>Please note that the browser could be closed. But I want to make sure next time when I open this application in the browser and if I am still within the 1 hour window of a schedule change, my web application should automatically catch this and turn on the alarm for a duration left in the 1 hour window. </p>\n\n<p>Currently I got stuck on how I can make the alarm to last 1 hour? How can my program detect the changes even after the browser is closed and re-opened again? </p>\n\n<p>P.S. I am using JSP on the back-end on Windows platform. </p>\n"}, {"tags": ["javascript", "node.js", "parsing", "recursion", "antlr4"], "comments": [{"owner": {"reputation": 5418, "user_id": 1886753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSGad.png?s=128&g=1", "display_name": "GRosenberg", "link": "https://stackoverflow.com/users/1886753/grosenberg"}, "edited": false, "score": 0, "creation_date": 1515623395, "post_id": 48195702, "comment_id": 83375327, "body": "Is <code>-e</code> a negative constant or an inverted positive constant expression? To avoid the philosophical question (and ANTLR&#39;s operative difficulty with it), redefine your <code>CONSTANT</code> rule to <code>&#39;-&#39;? ( &#39;e&#39; | &#39;pi&#39;)</code>. This should preclude the parser from having to deal with the problem."}, {"owner": {"reputation": 199, "user_id": 1118270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9ZlJ2.jpg?s=128&g=1", "display_name": "Derk", "link": "https://stackoverflow.com/users/1118270/derk"}, "reply_to_user": {"reputation": 5418, "user_id": 1886753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSGad.png?s=128&g=1", "display_name": "GRosenberg", "link": "https://stackoverflow.com/users/1886753/grosenberg"}, "edited": false, "score": 0, "creation_date": 1515632636, "post_id": 48195702, "comment_id": 83378087, "body": "It&#39;s a good suggestion, but I had tried that before and the test gives the following parsing error for input like &#39;-expo&#39;: &quot;line 1:2 extraneous input &#39;xpo&#39; expecting &lt;EOF&gt;&quot;.  The lexer is interpreting the &#39;-e&#39; as the CONSTANT and chopping it off early."}, {"owner": {"reputation": 199, "user_id": 1118270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9ZlJ2.jpg?s=128&g=1", "display_name": "Derk", "link": "https://stackoverflow.com/users/1118270/derk"}, "reply_to_user": {"reputation": 5418, "user_id": 1886753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSGad.png?s=128&g=1", "display_name": "GRosenberg", "link": "https://stackoverflow.com/users/1886753/grosenberg"}, "edited": false, "score": 0, "creation_date": 1515633230, "post_id": 48195702, "comment_id": 83378216, "body": "With regard to the importance between interpreting &#39;-e&#39; as a negative constant real value vs an inverted real expression, they have different semantic meanings: the first is declarative and does not imply that an expression be evaluated by my VM at runtime.  This is important for my purposes since my VM is a secure VM that only runs in the cloud.  But my parser and associated parse tree visitors need to be able to run in a user&#39;s browser.  Therefore the parse tree visitors throw an exception when expressions are encountered during the parse tree conversions to JavaScript objects."}, {"owner": {"reputation": 5418, "user_id": 1886753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSGad.png?s=128&g=1", "display_name": "GRosenberg", "link": "https://stackoverflow.com/users/1886753/grosenberg"}, "edited": false, "score": 1, "creation_date": 1515634446, "post_id": 48195702, "comment_id": 83378463, "body": "Add a <code>MINUS: &#39;-&#39; ;</code> rule at the end of the lexer and modify the inversion alt and <code>INTEGER</code> fragment to use <code>MINUS</code>."}, {"owner": {"reputation": 199, "user_id": 1118270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9ZlJ2.jpg?s=128&g=1", "display_name": "Derk", "link": "https://stackoverflow.com/users/1118270/derk"}, "reply_to_user": {"reputation": 5418, "user_id": 1886753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSGad.png?s=128&g=1", "display_name": "GRosenberg", "link": "https://stackoverflow.com/users/1886753/grosenberg"}, "edited": false, "score": 0, "creation_date": 1515682392, "post_id": 48195702, "comment_id": 83400716, "body": "Yes, I tried that approach as well and it still gives the &quot;Error: &#39;InversionExpressionContext&#39; === &#39;RealExpressionContext&#39;&quot; unit test error when I uncomment the factorial expression subrule.  The problem is that in both cases the lexer is returning the right token (and defining only one token for &#39;-&#39;) but the parser is getting the precedence wrong and invoking the wrong expression subrule."}, {"owner": {"reputation": 199, "user_id": 1118270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9ZlJ2.jpg?s=128&g=1", "display_name": "Derk", "link": "https://stackoverflow.com/users/1118270/derk"}, "reply_to_user": {"reputation": 5418, "user_id": 1886753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSGad.png?s=128&g=1", "display_name": "GRosenberg", "link": "https://stackoverflow.com/users/1886753/grosenberg"}, "edited": false, "score": 0, "creation_date": 1515688986, "post_id": 48195702, "comment_id": 83405211, "body": "UPDATE: I tested the same grammar using the generated Java parser and it works fine, so this is a bug in the code generator for the JavaScript parser.  In the generated Java parser the order of the &#39;case&#39; blocks in the ExpressionContext:expression() method are the same as the order of the sub-rules in the expression rule, thus preserving the precedence order.  In the generated JavaScript parser the order of the case blocks appears to be random (hash order perhaps?) and thus the precedence is not maintained. The github example: <a href=\"https://github.com/derknorton/antlr4-bug-example\" rel=\"nofollow noreferrer\">github.com/derknorton/antlr4-bug-example</a> has been updated."}], "answers": [{"tags": [], "owner": {"reputation": 199, "user_id": 1118270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9ZlJ2.jpg?s=128&g=1", "display_name": "Derk", "link": "https://stackoverflow.com/users/1118270/derk"}, "is_accepted": true, "score": 1, "last_activity_date": 1516054341, "last_edit_date": 1516054341, "creation_date": 1515690680, "answer_id": 48212505, "question_id": 48195702, "link": "https://stackoverflow.com/questions/48195702/my-antlr-4-left-recursive-expression-not-preserving-the-expression-precedence-or/48212505#48212505", "title": "My antlr 4 left recursive expression not preserving the expression precedence order", "body": "<p>This problem turned out to be with a earlier versions of the antlr 4 parser generator.  My Grunt.js file was using the <code>grunt-antlr4</code> task which hasn't been updated to use the latest version of antlr4.  It was using version 4.5.1.  The problem seems to have been fixed after that version.  Full details of this realization are documented here: <a href=\"https://github.com/antlr/antlr4/issues/2201\" rel=\"nofollow noreferrer\">https://github.com/antlr/antlr4/issues/2201</a></p>\n"}], "owner": {"reputation": 199, "user_id": 1118270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9ZlJ2.jpg?s=128&g=1", "display_name": "Derk", "link": "https://stackoverflow.com/users/1118270/derk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 0, "accepted_answer_id": 48212505, "answer_count": 1, "score": 0, "last_activity_date": 1516054341, "creation_date": 1515616758, "question_id": 48195702, "link": "https://stackoverflow.com/questions/48195702/my-antlr-4-left-recursive-expression-not-preserving-the-expression-precedence-or", "title": "My antlr 4 left recursive expression not preserving the expression precedence order", "body": "<p>I defined the following simple left recursive expression grammar for antlr4:</p>\n\n<pre><code>grammar BugExample;\n\n// Rule Definitions\n\nvalue: expression EOF ;\n\nreal:\n    '-'? CONSTANT    #constantReal |\n    FLOAT            #variableReal\n;\n\nvariable: IDENTIFIER ;\n\nexpression:  // Precedence (highest to lowest)\n    real             #realExpression      |\n    variable         #variableExpression  |\n//  expression '!'   #factorialExpression |\n    '-' expression   #inversionExpression\n;\n\n\n// Token Definitions\n\nFRACTION: '.' ('0'..'9')* '1'..'9' ;\n\nCONSTANT: 'e' | 'pi' ;\n\nFLOAT: INTEGER FRACTION? ('e' INTEGER)? ;\n\nIDENTIFIER: ('a'..'z'|'A'..'Z') ('a'..'z'|'A'..'Z'|'0'..'9')* ;\n\nSPACE: (' '|'\\t'|'\\r'|'\\n')+ -&gt; channel(HIDDEN) ;\n\nfragment\nNATURAL: '1'..'9' ('0'..'9')* ;\n\nfragment\nINTEGER: '0' | '-'? NATURAL ;\n</code></pre>\n\n<p>Notice the commented out factorial expression in the expression types. Also notice that the definition of a FLOAT token allows for negative values so a negative real expression should take precedence over an inversion expression.  With the factorial expression commented out, the generated JS parser does indeed parse a negative constant '-e' correctly as a real expression.  However, if we uncomment the factorial expression and regenerate the parser, the '-e' is suddenly parsed as an inversion expression.  Here is the test code showing it:</p>\n\n<pre><code>'use strict';\n\nvar language = require('../BugExample');\nvar testCase = require('nodeunit').testCase;\n\nmodule.exports = testCase({\n    'Test Parser': function(test) {\n        var testValues = ['5.27e-15', '-5.3e22','e', '-e', 'expo', '-expo'];\n        var expectedResults = [\n            'RealExpressionContext',      // positive real number\n            'RealExpressionContext',      // negative real number\n            'RealExpressionContext',      // positive real constant\n            'RealExpressionContext',      // positive real constant\n            'VariableExpressionContext',  // variable value\n            'InversionExpressionContext'  // negative variable value\n        ];\n        test.expect(testValues.length);\n        for (var i = 0; i &lt; testValues.length; i++) {\n            var value = testValues[i];\n            console.log('\\nTesting: ' + value);\n            var expression = language.parseValue(value).getChild(0);\n            test.strictEqual(expression.constructor.name, expectedResults[i]);\n        }\n        test.done();\n    }\n});\n</code></pre>\n\n<p>It turns out that adding <em>any</em> left recursive sub-rule type listed in the \"Definitive Antlr 4 Reference\" that begins with the expression e.g. \"binary\", \"ternary\", and \"unary suffix\" expressions, will cause this problem. I have only verified this for the generated JS parser.  When I look at the generated parser code it appears that the order of the case blocks in the expression() function get randomized when the problem occurs whereas they are in precedence order when the factorial expression is commented out.  Not sure if this is the cause or not, the code is too complex for me to understand ;-)</p>\n\n<p>I placed the JavaScript project showing this example out at GitHub:\n<a href=\"https://github.com/derknorton/antlr4-bug-example\" rel=\"nofollow noreferrer\">https://github.com/derknorton/antlr4-bug-example</a></p>\n\n<p>To test it out do the following:</p>\n\n<pre><code>git clone https://github.com/derknorton/antlr4-bug-example\ncd antlr4-bug-example\nnpm install\ngrunt generate build\n# it should work correctly\n# then edit test/TestBugExample.js  to remove commented factorial expression\ngrunt generate build\n# it should now show the problem\n</code></pre>\n\n<p>Hopefully I have provided enough detail for the antlr4 experts to determine the problem.  Any help will be greatly appreciated.</p>\n"}, {"tags": ["javascript", "webpack", "pouchdb"], "answers": [{"comments": [{"owner": {"reputation": 2064, "user_id": 4888854, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/996db3d05e77486a17f75f72a8bec0ea?s=128&d=identicon&r=PG&f=1", "display_name": "lcharbon", "link": "https://stackoverflow.com/users/4888854/lcharbon"}, "edited": false, "score": 0, "creation_date": 1516471691, "post_id": 48333013, "comment_id": 83705623, "body": "I created a module(file) and named it database.js. Included pouchdb in this file as above then included database.js were needed and webpack dealt with the rest."}], "tags": [], "owner": {"reputation": 1507, "user_id": 930301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KYJf3.jpg?s=128&g=1", "display_name": "Bernhard Gschwantner", "link": "https://stackoverflow.com/users/930301/bernhard-gschwantner"}, "is_accepted": true, "score": 0, "last_activity_date": 1516326588, "creation_date": 1516326588, "answer_id": 48333013, "question_id": 48195698, "link": "https://stackoverflow.com/questions/48195698/adding-pouchdb-to-webpack/48333013#48333013", "title": "Adding PouchDB to Webpack?", "body": "<p>The documentation refers to building a customized PouchDB build, which you will not need probably.</p>\n\n<p>For using PouchDb, just <code>require()</code> it in your normal JavaScript code and use it:</p>\n\n<pre><code>// ES5\nvar PouchDB = require('pouchdb-browser');\nvar db = new PouchDB('dbname');\n\ndb.put({\n  _id: 'dave@gmail.com',\n  name: 'David',\n  age: 69\n});\n</code></pre>\n\n<p>That's it! Webpack will resolve and bundle PouchDB automatically!</p>\n"}], "owner": {"reputation": 2064, "user_id": 4888854, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/996db3d05e77486a17f75f72a8bec0ea?s=128&d=identicon&r=PG&f=1", "display_name": "lcharbon", "link": "https://stackoverflow.com/users/4888854/lcharbon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 48333013, "answer_count": 1, "score": 0, "last_activity_date": 1516326588, "creation_date": 1515616738, "question_id": 48195698, "link": "https://stackoverflow.com/questions/48195698/adding-pouchdb-to-webpack", "title": "Adding PouchDB to Webpack?", "body": "<p>What is the best way to include <code>pouchdb-browser</code> to a project's Webpack config?</p>\n\n<p>The PouchDB documentation mentions customs builds should use Webpack:</p>\n\n<p><a href=\"https://pouchdb.com/custom.html\" rel=\"nofollow noreferrer\">https://pouchdb.com/custom.html</a></p>\n"}, {"tags": ["javascript", "jquery", "html", "ios", "css"], "comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1515616824, "post_id": 48195694, "comment_id": 83372347, "body": "<code>-webkit-appearance: none;</code>?"}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1515616876, "post_id": 48195694, "comment_id": 83372373, "body": "<code>onfocus=&quot;(this.type=&#39;time&#39;)</code> instead of <code>input type=&quot;time&quot;</code>?"}, {"owner": {"reputation": 40, "user_id": 5486971, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-nBBPhCeEi1c/AAAAAAAAAAI/AAAAAAAAAmw/AAu3_fM7PQU/photo.jpg?sz=128", "display_name": "ItzBulkDev", "link": "https://stackoverflow.com/users/5486971/itzbulkdev"}, "reply_to_user": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1515617100, "post_id": 48195694, "comment_id": 83372475, "body": "-webkit-appearance: none; is added to remove iOS&#39;s ugly default box for inputs. I already said onfocus=&quot;(this.type=&#39;time&#39;) is because It wouldn&#39;t show at all at first so I added it and it says Time but when clicked it turns into time selector. Although now it shows but when clicked opens keyboard but makes the input disappear"}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1515617369, "post_id": 48195694, "comment_id": 83372616, "body": "Can you explain what you are trying to do? It just seems like you want a place to automatically put the current time and that you don&#39;t actually want the user to enter a time."}, {"owner": {"reputation": 40, "user_id": 5486971, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-nBBPhCeEi1c/AAAAAAAAAAI/AAAAAAAAAmw/AAu3_fM7PQU/photo.jpg?sz=128", "display_name": "ItzBulkDev", "link": "https://stackoverflow.com/users/5486971/itzbulkdev"}, "reply_to_user": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1515617814, "post_id": 48195694, "comment_id": 83372842, "body": "@ScottMarcus I used the Javascript to display the current time because instead it would show as default &quot;--:--: --&quot;. I just want it to be displayed on iOS"}], "owner": {"reputation": 40, "user_id": 5486971, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-nBBPhCeEi1c/AAAAAAAAAAI/AAAAAAAAAmw/AAu3_fM7PQU/photo.jpg?sz=128", "display_name": "ItzBulkDev", "link": "https://stackoverflow.com/users/5486971/itzbulkdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 323, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515616716, "creation_date": 1515616716, "question_id": 48195694, "link": "https://stackoverflow.com/questions/48195694/html-ios-form-input-time-not-showing", "title": "HTML iOS form input time not showing", "body": "<p>Alright so i'm creating a website and in a form I have there is an HTML time selector supported by every major browser, I'm having an issue only with iOS where the input is not displayed, it's replaced by a blank space, when you click on that space you can then select a time and after that it will appear. Wanting to know how to fix this. My code is a little sloppy but here:</p>\n\n<p>CSS:</p>\n\n<pre><code>input[type=\"time\"] {\n-webkit-appearance: none;\nborder-radius: 0;    \nborder: 2px solid white;\npadding: 10px 40px; \nbox-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 \nrgba(0,0,0,0.19);\nbackground: white;border-radius: 0px;width: 15rem;\n}\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;input input placeholder=\"Time\" class=\"textbox-n\" type=\"text\" onfocus=\"(this.type='time');\" onclick='timeChange()' id=\"time\" name=\"time\"&gt;\n</code></pre>\n\n<p>I added an onfocus event because at first it didn't show at all then I set it as textbox but when clicked would turn into time picker, works, however when clicking it disappears. You then have to click blank space again as previously stated. </p>\n\n<p>The onClick i added because I thought maybe by setting a value using JavaScript it would appear on it's own, doesn't work, heres the JS code:</p>\n\n<pre><code>function timeChange(){\n  $('input[type=\"time\"][value=\"now\"]').each(function(){    \n    var d = new Date(),        \n        h = d.getHours(),\n        m = d.getMinutes();\n    if(h &lt; 10) h = '0' + h; \n    if(m &lt; 10) m = '0' + m; \n    $(this).attr({\n      'value': h + ':' + m\n    });\n  });\n}\n</code></pre>\n\n<p>Please help thanks</p>\n"}, {"tags": ["javascript", "react-native", "socket.io"], "comments": [{"owner": {"reputation": 1975, "user_id": 4698074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UkOt8.jpg?s=128&g=1", "display_name": "H. Tugkan Kibar", "link": "https://stackoverflow.com/users/4698074/h-tugkan-kibar"}, "edited": false, "score": 1, "creation_date": 1515617477, "post_id": 48195674, "comment_id": 83372676, "body": "Could you try and share results of the following;  1) Move <code>this.socket.on</code> into <code>componentDidMount();</code>  2) Instead of <code>socket.emit</code>, try <code>socket.broadcast.emit</code>"}, {"owner": {"reputation": 444, "user_id": 7872016, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/da474b9d5109755cb2ccb510c2ed4411?s=128&d=identicon&r=PG&f=1", "display_name": "I&#39;m not human", "link": "https://stackoverflow.com/users/7872016/im-not-human"}, "reply_to_user": {"reputation": 1975, "user_id": 4698074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UkOt8.jpg?s=128&g=1", "display_name": "H. Tugkan Kibar", "link": "https://stackoverflow.com/users/4698074/h-tugkan-kibar"}, "edited": false, "score": 0, "creation_date": 1515618957, "post_id": 48195674, "comment_id": 83373410, "body": "If I do number one not even the emitter receives the alert but with number two it works! But if I use it like that all users online will receive the alert. How can I do it like this &quot;io.sockets.in(data.receiverId).emit(&#39;save room&#39;, data);&quot;?"}, {"owner": {"reputation": 1975, "user_id": 4698074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UkOt8.jpg?s=128&g=1", "display_name": "H. Tugkan Kibar", "link": "https://stackoverflow.com/users/4698074/h-tugkan-kibar"}, "edited": false, "score": 0, "creation_date": 1515619508, "post_id": 48195674, "comment_id": 83373643, "body": "<code>socket.broadcast.emit</code> emits your message to everyone except the sender. So the problem should be with you not being recognized as sender. Could you try to add <code>this.socket.open()</code> in constructor before <code>this.socket.on</code>?"}, {"owner": {"reputation": 444, "user_id": 7872016, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/da474b9d5109755cb2ccb510c2ed4411?s=128&d=identicon&r=PG&f=1", "display_name": "I&#39;m not human", "link": "https://stackoverflow.com/users/7872016/im-not-human"}, "reply_to_user": {"reputation": 1975, "user_id": 4698074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UkOt8.jpg?s=128&g=1", "display_name": "H. Tugkan Kibar", "link": "https://stackoverflow.com/users/4698074/h-tugkan-kibar"}, "edited": false, "score": 0, "creation_date": 1515619683, "post_id": 48195674, "comment_id": 83373705, "body": "yes, sorry it emits the message to everyone except the sender"}, {"owner": {"reputation": 444, "user_id": 7872016, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/da474b9d5109755cb2ccb510c2ed4411?s=128&d=identicon&r=PG&f=1", "display_name": "I&#39;m not human", "link": "https://stackoverflow.com/users/7872016/im-not-human"}, "reply_to_user": {"reputation": 1975, "user_id": 4698074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UkOt8.jpg?s=128&g=1", "display_name": "H. Tugkan Kibar", "link": "https://stackoverflow.com/users/4698074/h-tugkan-kibar"}, "edited": false, "score": 0, "creation_date": 1515621160, "post_id": 48195674, "comment_id": 83374406, "body": "I found out that I could do this: socket.broadcast.to(data.receiverId).emit(&#39;save room&#39;, data); and it gives me the expected result. But why socket.emit would not work on both ends?"}, {"owner": {"reputation": 17405, "user_id": 3225108, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/JmhYB.jpg?s=128&g=1", "display_name": "azium", "link": "https://stackoverflow.com/users/3225108/azium"}, "edited": false, "score": 1, "creation_date": 1515624527, "post_id": 48195674, "comment_id": 83375759, "body": "<a href=\"https://socket.io/docs/emit-cheatsheet/\" rel=\"nofollow noreferrer\">socket.io/docs/emit-cheatsheet</a>"}], "answers": [{"tags": [], "owner": {"reputation": 444, "user_id": 7872016, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/da474b9d5109755cb2ccb510c2ed4411?s=128&d=identicon&r=PG&f=1", "display_name": "I&#39;m not human", "link": "https://stackoverflow.com/users/7872016/im-not-human"}, "is_accepted": true, "score": 0, "last_activity_date": 1515797683, "creation_date": 1515797683, "answer_id": 48235131, "question_id": 48195674, "link": "https://stackoverflow.com/questions/48195674/socket-emit-only-emitting-to-emitter/48235131#48235131", "title": "socket.emit only emitting to emitter", "body": "<p>Thanks to <strong>@H. Tugkan kibar</strong> and <strong>@azium</strong> I realized that the problem was on my server side the correct way to emit to a specific user is like this:</p>\n\n<pre><code>socket.broadcast.to().emit();\n</code></pre>\n"}], "owner": {"reputation": 444, "user_id": 7872016, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/da474b9d5109755cb2ccb510c2ed4411?s=128&d=identicon&r=PG&f=1", "display_name": "I&#39;m not human", "link": "https://stackoverflow.com/users/7872016/im-not-human"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 48235131, "answer_count": 1, "score": 0, "last_activity_date": 1515797683, "creation_date": 1515616668, "question_id": 48195674, "link": "https://stackoverflow.com/questions/48195674/socket-emit-only-emitting-to-emitter", "title": "socket.emit only emitting to emitter", "body": "<p>I am using react-native with socket.io to send and receive contact requests but my code is only emitting to the emitter and to no one else.</p>\n\n<p><strong>This is the server side:</strong></p>\n\n<pre><code>users = []; // Each time a new user joins the server they are saved in this array\nsocket.on('create connection', function(data, callback) {\n            if(data.receiverId in users) { // If the user you want to add is online then callback is true else callback is false\n                // The underneath line is the one that I will be using but nothing happend\n                //io.sockets.in(data.receiverId).emit('save room', data);\n                // So I created this one to see if I actually was emitting something\n                socket.emit('save room', data); // I found out that the emitting was working but only with the emitter\n                callback(true);\n            }else\n                callback(false);\n        });\n</code></pre>\n\n<p>So my conclusion is that my server side is correct and the problem lies on my client side</p>\n\n<p><strong>This is my client side:</strong> </p>\n\n<pre><code>constructor() {\n        this.socket = SocketIOClient('http://192.168.15.4:8000');\n\n        this.socket.on('save room', function (data) { // This is where the server calls the emit. It was at first inside the connect function but I moved it to the constructor to see if that way all clients could get it, results are the same\n            Alert.alert(\n                'Accept Connection?',\n                'User: '+data.emitterId+' sent you a connection request',\n                [\n                    {\n                        text: 'Accept',\n                        onPress: () =&gt; {},\n                    },\n                    {\n                        text: 'Refuse',\n                        onPress: () =&gt; {},\n                    },\n                ],\n                {cancellable: false}\n            );\n        })\n    }\n\n@action connect(data, callback1) { // this access the function we had previously in the server\n        this.socket.emit('create connection', data, function (callback2) {\n            if(!callback2)\n                Alert.alert(\n                    'User Offline',\n                    'This user is currently offline try again later',\n                    [\n                        {\n                            text: 'OK',\n                            onPress: () =&gt; {callback1(false)},\n                        },\n                    ],\n                    {cancellable: false}\n                );\n            else {\n                callback1(true)\n            }\n        });\n    }\n</code></pre>\n\n<p>I think the problem lies on where I place the <strong><em>this.socket.on('save room')</em></strong> function, but in react-native I really do not know where to put it.</p>\n"}, {"tags": ["javascript", "optimization", "artificial-intelligence", "web-worker"], "comments": [{"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1515616816, "post_id": 48195664, "comment_id": 83372344, "body": "Don&#39;t make your worker every time a function is called.  Make the worker up front and communicate with it over the course of your apps lifetime.  Also, what is your exact problem?  Are you getting an error?"}, {"owner": {"reputation": 105, "user_id": 7127237, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b703f221077da5a0b5efdf09acabb78f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7127237/alex"}, "reply_to_user": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1515616903, "post_id": 48195664, "comment_id": 83372389, "body": "The problem is that the variable <code>move</code> is always undefined. (ReferenceError: move is not defined). Even when I do a console.log() inside the <code>worker.onmessage</code> function, it doesn&#39;t display anything."}, {"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1515617425, "post_id": 48195664, "comment_id": 83372650, "body": "What about <code>index.html</code>"}, {"owner": {"reputation": 105, "user_id": 7127237, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b703f221077da5a0b5efdf09acabb78f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7127237/alex"}, "reply_to_user": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1515617726, "post_id": 48195664, "comment_id": 83372809, "body": "Just added <code>index.html</code> too."}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 7127237, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b703f221077da5a0b5efdf09acabb78f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7127237/alex"}, "edited": false, "score": 0, "creation_date": 1515619490, "post_id": 48196077, "comment_id": 83373638, "body": "I&#39;ve made the <code>worker</code> in the <code>init.js</code> file and I&#39;ve also sent the <code>board</code> from <code>ticAlpha.js</code> to <code>worker.js</code> with <code>postMessage</code>. In the <code>worker.js</code> I define a new variable <code>var board = e.data;</code>. And the <code>choice</code> is defined now. It still doesn&#39;t want to work. Thanks for the help!"}], "tags": [], "owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "is_accepted": false, "score": 0, "last_activity_date": 1515618366, "creation_date": 1515618366, "answer_id": 48196077, "question_id": 48195664, "link": "https://stackoverflow.com/questions/48195664/create-a-web-worker-when-a-function-is-called-javascript/48196077#48196077", "title": "Create a web worker when a function is called | JavaScript", "body": "<p>Well one issue is that it looks like you are expecting the worker to have access to all of the variables that are available on the main thread, it won't.  You have to maintain board state in both the main thread and worker and synchronize them through messages.  That's another reason to make the worker up front and keep the same one throughout the lifetime of the app.</p>\n\n<p>Consider your call to <code>miniMax(board, 0, -Infinity, Infinity);</code> in <code>worker.js</code>.  This call is likely throwing an error in the thread because <code>board</code> isn't defined so <code>miniMax</code> tries to access it in the function body and throws.</p>\n\n<p>Additionally, you also call <code>postMessage(choice)</code> in your worker, but <code>choice</code> isn't defined anywhere.</p>\n"}], "owner": {"reputation": 105, "user_id": 7127237, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b703f221077da5a0b5efdf09acabb78f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7127237/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1515618366, "creation_date": 1515616625, "last_edit_date": 1515618037, "question_id": 48195664, "link": "https://stackoverflow.com/questions/48195664/create-a-web-worker-when-a-function-is-called-javascript", "title": "Create a web worker when a function is called | JavaScript", "body": "<p>I have a Tic Tac Toe 3D game which I want to optimize because at this moment, it crashes my web browser. It uses the MiniMax alpha-beta-pruning algorithm and I've split the code in 3 different files:</p>\n\n<p>TTT3D <br>\n|-js <br>\n&nbsp;&nbsp;|---init.js # where I define all variables (as winningCombos, human, computer etc)\n<br>\n&nbsp;&nbsp;|---worker.js # the miniMax algorithm and at the end, I send as message the <code>choice</code> variable\n<br>\n&nbsp;&nbsp;|---ticAlpha.js # the worker is built and trying to get the response<br>\n|-index.html<br></p>\n\n<p>Here is the code:</p>\n\n<p>index.html</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Tic Tac Toe 3D&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"css/main.css\"&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"css/bootstrap.min.css\"&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;section id=\"intro\"&gt;\n        &lt;div class=\"container\"&gt;\n            &lt;div class=\"row\"&gt;\n                &lt;div class=\"col-md-8 col-md-offset-2\" style=\"text-align: center;\"&gt;\n                    &lt;h1&gt;Hi there! Let's play &lt;b&gt;Tic Tac Toe&lt;/b&gt;! Choose your player!&lt;/h1&gt;\n                    &lt;button value=\"X\" id=\"X\" onclick=\"startGame('X')\"&gt;X&lt;/button&gt;\n                    &lt;button value=\"O\" id=\"O\" onclick=\"startGame('O')\"&gt;O&lt;/button&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/section&gt;\n\n    &lt;section id=\"board\" class=\"hidden\"&gt;\n        &lt;div class=\"container\"&gt;\n            &lt;div class=\"row bottom\"&gt;\n                &lt;div class=\"col-md-3\"&gt;&lt;/div&gt;\n                &lt;div class=\"col-md-2 boxContent\"&gt;\n                    &lt;ul&gt;\n                        &lt;li&gt;\n                            &lt;h2&gt;X&lt;/h2&gt;\n                        &lt;/li&gt;\n                        &lt;li style=\"float: right !important;\"&gt;\n                            &lt;input type=\"text\" name=\"xPlayerScore\" id=\"xPlayerScore\" value=\"-\" readonly&gt;\n                        &lt;/li&gt;\n                    &lt;/ul&gt;\n                &lt;/div&gt;\n\n                &lt;div class=\"col-md-2 boxContent\"&gt;\n                    &lt;ul&gt;\n                        &lt;li&gt;\n                            &lt;h2&gt;O&lt;/h2&gt;\n                        &lt;/li&gt;\n                        &lt;li style=\"float: right !important;\"&gt;\n                            &lt;input type=\"text\" name=\"oPlayerScore\" id=\"oPlayerScore\" value=\"-\" readonly&gt;\n                        &lt;/li&gt;\n                    &lt;/ul&gt;\n                &lt;/div&gt;\n                &lt;button class=\"col-md-2\" onclick=\"playAgain()\" style=\"margin-left: 7px;\"&gt;\n                    &lt;img src=\"images/again.png\" width=\"16\"&gt;\n                Play Again\n                &lt;/button&gt;\n\n\n                &lt;div class=\"col-md-3\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"canvas1\"&gt;\n            &lt;div class=\"row\"&gt;\n                &lt;div class=\"tile\" boardcol=\"0\" boardrow=\"0\" boardlevel=\"0\" onclick=\"makeMove(0)\" id=\"0\"&gt;&lt;/div&gt;\n                &lt;div class=\"tile\" boardcol=\"1\" boardrow=\"0\" boardlevel=\"0\" onclick=\"makeMove(1)\" id=\"1\"&gt;&lt;/div&gt;\n                &lt;div class=\"tile\" boardcol=\"2\" boardrow=\"0\" boardlevel=\"0\"onclick=\"makeMove(2)\" id=\"2\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"row\"&gt;\n                &lt;div class=\"tile\" boardcol=\"0\" boardrow=\"1\" boardlevel=\"0\"onclick=\"makeMove(3)\" id=\"3\"&gt;&lt;/div&gt;\n                &lt;div class=\"tile\" boardcol=\"1\" boardrow=\"1\" boardlevel=\"0\"onclick=\"makeMove(4)\" id=\"4\"&gt;&lt;/div&gt;\n                &lt;div class=\"tile\" boardcol=\"2\" boardrow=\"1\" boardlevel=\"0\"onclick=\"makeMove(5)\" id=\"5\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"row\"&gt;\n                &lt;div class=\"tile\" boardcol=\"0\" boardrow=\"2\" boardlevel=\"0\"onclick=\"makeMove(6)\" id=\"6\"&gt;&lt;/div&gt;\n                &lt;div class=\"tile\" boardcol=\"1\" boardrow=\"2\" boardlevel=\"0\"onclick=\"makeMove(7)\" id=\"7\"&gt;&lt;/div&gt;\n                &lt;div class=\"tile\" boardcol=\"2\" boardrow=\"2\" boardlevel=\"0\"onclick=\"makeMove(8)\" id=\"8\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"canvas2\"&gt;\n            &lt;div class=\"row\"&gt;\n                &lt;div class=\"tile\" boardcol=\"0\" boardrow=\"0\" boardlevel=\"1\"onclick=\"makeMove(9)\" id=\"9\"&gt;&lt;/div&gt;\n                &lt;div class=\"tile\" boardcol=\"1\" boardrow=\"0\" boardlevel=\"1\"onclick=\"makeMove(10)\" id=\"10\"&gt;&lt;/div&gt;\n                &lt;div class=\"tile\" boardcol=\"2\" boardrow=\"0\" boardlevel=\"1\"onclick=\"makeMove(11)\" id=\"11\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"row\"&gt;\n                &lt;div class=\"tile\" boardcol=\"0\" boardrow=\"1\" boardlevel=\"1\"onclick=\"makeMove(12)\" id=\"12\"&gt;&lt;/div&gt;\n                &lt;div class=\"tile\" boardcol=\"1\" boardrow=\"1\" boardlevel=\"1\"onclick=\"makeMove(13)\" id=\"13\"&gt;&lt;/div&gt;\n                &lt;div class=\"tile\" boardcol=\"2\" boardrow=\"1\" boardlevel=\"1\"onclick=\"makeMove(14)\" id=\"14\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"row\"&gt;\n                &lt;div class=\"tile\" boardcol=\"0\" boardrow=\"2\" boardlevel=\"1\"onclick=\"makeMove(15)\" id=\"15\"&gt;&lt;/div&gt;\n                &lt;div class=\"tile\" boardcol=\"1\" boardrow=\"2\" boardlevel=\"1\"onclick=\"makeMove(16)\" id=\"16\"&gt;&lt;/div&gt;\n                &lt;div class=\"tile\" boardcol=\"2\" boardrow=\"2\" boardlevel=\"1\"onclick=\"makeMove(17)\" id=\"17\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"canvas3\"&gt;\n            &lt;div class=\"row\"&gt;\n                &lt;div class=\"tile\" boardcol=\"0\" boardrow=\"0\" boardlevel=\"2\"onclick=\"makeMove(18)\" id=\"18\"&gt;&lt;/div&gt;\n                &lt;div class=\"tile\" boardcol=\"1\" boardrow=\"0\" boardlevel=\"2\"onclick=\"makeMove(19)\" id=\"19\"&gt;&lt;/div&gt;\n                &lt;div class=\"tile\" boardcol=\"2\" boardrow=\"0\" boardlevel=\"2\"onclick=\"makeMove(20)\" id=\"20\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"row\"&gt;\n                &lt;div class=\"tile\" boardcol=\"0\" boardrow=\"1\" boardlevel=\"2\"onclick=\"makeMove(21)\" id=\"21\"&gt;&lt;/div&gt;\n                &lt;div class=\"tile\" boardcol=\"1\" boardrow=\"1\" boardlevel=\"2\"onclick=\"makeMove(22)\" id=\"22\"&gt;&lt;/div&gt;\n                &lt;div class=\"tile\" boardcol=\"2\" boardrow=\"1\" boardlevel=\"2\"onclick=\"makeMove(23)\" id=\"23\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"row\"&gt;\n                &lt;div class=\"tile\" boardcol=\"0\" boardrow=\"2\" boardlevel=\"2\"onclick=\"makeMove(24)\" id=\"24\"&gt;&lt;/div&gt;\n                &lt;div class=\"tile\" boardcol=\"1\" boardrow=\"2\" boardlevel=\"2\"onclick=\"makeMove(25)\" id=\"25\"&gt;&lt;/div&gt;\n                &lt;div class=\"tile\" boardcol=\"2\" boardrow=\"2\" boardlevel=\"2\"onclick=\"makeMove(26)\" id=\"26\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/section&gt;\n\n\n\n    &lt;script src=\"https://code.jquery.com/jquery-3.1.1.js\"\n    integrity=\"sha256-16cdPddA6VdVInumRGo6IbivbERE8p7CQR3HzTBuELA=\"\n    crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n    &lt;script src=\"js/init.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"js/ticAlpha.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>init.js</p>\n\n<pre><code>var winningCombos   = new Array();\n\nwinningCombos[0]    = [0, 1, 2];\nwinningCombos[1]    = [3, 4, 5];\nwinningCombos[2]    = [6, 7, 8];\n\n// Per columns\n\nwinningCombos[3]    = [0, 3, 6];\nwinningCombos[4]    = [1, 4, 7];\nwinningCombos[5]    = [2, 5, 8];\n\n// Diagonals\n\nwinningCombos[6]    = [0, 4, 8];\nwinningCombos[7]    = [2, 4, 6];\n\n\n// Second board\n\n//Per lines\n\nwinningCombos[8]    = [9, 10, 11];\nwinningCombos[9]    = [12, 13, 14];\nwinningCombos[10]   = [15, 16, 17];\n\n// Per columns\n\nwinningCombos[11]   = [9, 12, 15];\nwinningCombos[12]   = [10, 13, 16];\nwinningCombos[13]   = [11, 14, 17];\n\n// Diagonals\n\nwinningCombos[14]   = [9, 13, 17];\nwinningCombos[15]   = [11, 13, 15];\n\n\n// Third board\n\n// Per lines\n\nwinningCombos[16]   = [18, 19, 20];\nwinningCombos[17]   = [21, 22, 23];\nwinningCombos[18]   = [24, 25, 26];\n\n// Per columns\n\nwinningCombos[19]   = [18, 21, 24];\nwinningCombos[20]   = [19, 22, 25];\nwinningCombos[21]   = [20, 23, 26];\n\n// Diagonals\n\nwinningCombos[22]   = [18, 22, 26];\nwinningCombos[23]   = [20, 22, 24];\n\n\n// 3D Winning\n\nwinningCombos[24]   = [0, 13, 26];\nwinningCombos[25]   = [20, 13, 6];\n\n// Per lines\n\nwinningCombos[26]   = [0, 10, 20];\nwinningCombos[27]   = [3, 13, 23];\nwinningCombos[28]   = [6, 16, 26];\n\nvar free            = ' ';\nvar boardSize       = 27;\nvar board           = new Array();\nvar activePlayer    = 'Human';\nvar i;\nvar choice;\nvar human;\nvar humanTurn;\nvar computer;\nvar computerTurn;\nvar humanWin = 0;\nvar computerWin = 0;\n\n$(document).ready(function() {\n    $(\"button\").click(function(){\n        $(\"#intro\").addClass(\"hidden\");\n        $(\"#board\").removeClass(\"hidden\");\n    });\n});\n\nfunction startGame(player) {\n    for (i = 0; i &lt; boardSize; i += 1) {\n        board[i] = free;\n    }\n\n    activePlayer = 'Human';\n\n    if (player == \"X\") {\n        human = \"X\";\n        humanTurn = \"&lt;p&gt;X&lt;/p&gt;\";\n        computer = \"O\";\n        computerTurn = \"&lt;p&gt;O&lt;/p&gt;\";\n    } else {\n        human = \"O\";\n        humanTurn = \"&lt;p&gt;O&lt;/p&gt;\";\n        computer = \"X\";\n        computerTurn = \"&lt;p&gt;X&lt;/p&gt;\";\n    }\n}\n</code></pre>\n\n<p>ticAlpha.js</p>\n\n<pre><code>function makeMove(pos) {\n    if (board[pos] === free &amp;&amp; !gameOver(board)) {\n        board[pos] = human;\n        document.getElementById(pos).innerHTML = humanTurn;\n\n        if (!gameOver(board)) {\n            activePlayer = 'Computer';\n            makeComputerMove();\n        }\n    }\n}\n\nfunction makeComputerMove() {\n    // miniMax(board, 0, -Infinity, +Infinity);\n\n    var worker = new Worker('worker.js');\n    worker.postMessage('its time');\n\n    worker.onmessage = function(event) {\n        var move = event.data;\n    };\n\n    board[move] = computer;\n    document.getElementById(move).innerHTML = computerTurn;\n    choice = [];\n    activePlayer = 'Human';\n}\n\nfunction score(possibleGame) {\n    var score = getWinner(possibleGame);\n\n    if (score === 3) {\n        return 0;\n    } else if (score === 1) {\n        return -1;\n    } else if (score === 2) {\n        return 1;\n    }\n}\n\nfunction miniMax(node, depth, alpha, beta) {\n    if (getWinner(node) !== 0) {\n        return score(node);\n    }\n\n    depth += 1;\n    // var scores   = new Array();\n    // var moves    = new Array();\n    var availableMoves = getAvailableMoves(node);\n    var move, result, possibleGame;\n    if (activePlayer === 'Computer'){\n        for (var i = 0; i &lt; availableMoves.length; i += 1) {\n            move = availableMoves[i];\n            possibleGame = generateNewGame(move, node);\n            result = miniMax(possibleGame, depth, alpha, beta);\n            node = undoMove(node, move);\n\n            if (result &gt; alpha) {\n                alpha = result;\n                if (depth === 1) {\n                    choice = move;\n                } else if (alpha &gt;= beta) {\n                    return alpha;\n                }\n            }\n        }\n        return alpha;\n    } else if (activePlayer === 'Human') { \n        for (var i = 0; i &lt; availableMoves.length; i += 1) {\n            move = availableMoves[i];\n            possibleGame = generateNewGame(move, node);\n            result = miniMax(possibleGame, depth, alpha, beta);\n            node = undoMove(node, move);\n\n            if (result &lt; beta) {\n                beta = result;\n                if (depth === 1) {\n                    choice = move;\n                } else if (alpha &gt;= beta) {\n                    return beta;\n                }\n            }\n        }\n\n        return beta;\n    }\n}\n\nfunction undoMove(possibleGame, move) {\n    possibleGame[move] = free;\n    changePlayerTurn();\n    return possibleGame;\n}\n\nfunction getAvailableMoves(tempBoard) {\n    var availableMoves = new Array();\n    for (var i = 0; i &lt; boardSize; i += 1) {\n        if (board[i] === free) {\n            availableMoves.push(i);\n        }\n    }\n    return availableMoves;\n}\n\nfunction generateNewGame(move, possibleGame) {\n    var piece = changePlayerTurn();\n    possibleGame[move] = piece;\n    return possibleGame;\n}\n\nfunction changePlayerTurn() {\n    var turn;\n    if (activePlayer === 'Computer') {\n        turn = computer;\n        activePlayer = 'Human';\n    } else {\n        turn = human;\n        activePlayer = 'Computer';\n    }\n\n    return turn;\n}\n\nfunction gameOver(tempBoard) {\n    if (getWinner(tempBoard) === 0) {\n        return 0;\n    } else if (getWinner(tempBoard) === 1) {\n        alert(\"You won!\");\n        humanWin += 1;\n        if (human === \"X\") {\n            document.getElementById(\"xPlayerScore\").value = humanWin;\n        } else {\n            document.getElementById(\"oPlayerScore\").value = humanWin;\n        }\n    } else if (getWinner(tempBoard) === 2) {\n        alert(\"Computer won!\");\n        computerWin += 1;\n        if (computer === \"X\") {\n            document.getElementById(\"xPlayerScore\").value = computerWin;\n        } else {\n            document.getElementById(\"oPlayerScore\").value = computerWin;\n        }\n    } else if (getWinner(tempBoard) === 3) {\n        alert(\"The game was a draw!\");\n    }\n    return 1;\n}\n\nfunction getWinner(tempBoard) {\n    for (i = 0; i &lt; winningCombos.length; i += 1) {\n        if (tempBoard[winningCombos[i][0]] === human &amp;&amp;\n            tempBoard[winningCombos[i][1]] === human &amp;&amp;\n            tempBoard[winningCombos[i][2]] === human) {\n            return 1; // human won\n        } else if (tempBoard[winningCombos[i][0]] === computer &amp;&amp;\n            tempBoard[winningCombos[i][1]] === computer &amp;&amp;\n            tempBoard[winningCombos[i][2]] === computer) {\n            return 2; // computer won\n        }\n    }\n\n    if (tempBoard.indexOf(free) &gt;= 0) {\n        return 0; // not finished yet\n    }\n\n    return 3; // the game was a draw\n}\n\nfunction gameOver(tempBoard) {\n    if (getWinner(tempBoard) === 0) {\n        return 0;\n    } else if (getWinner(tempBoard) === 1) {\n        alert(\"You won!\");\n        humanWin += 1;\n        if (human === \"X\") {\n            document.getElementById(\"xPlayerScore\").value = humanWin;\n        } else {\n            document.getElementById(\"oPlayerScore\").value = humanWin;\n        }\n    } else if (getWinner(tempBoard) === 2) {\n        alert(\"Computer won!\");\n        computerWin += 1;\n        if (computer === \"X\") {\n            document.getElementById(\"xPlayerScore\").value = computerWin;\n        } else {\n            document.getElementById(\"oPlayerScore\").value = computerWin;\n        }\n    } else if (getWinner(tempBoard) === 3) {\n        alert(\"The game was a draw!\");\n    }\n    return 1;\n}\n\nfunction getWinner(tempBoard) {\n    for (i = 0; i &lt; winningCombos.length; i += 1) {\n        if (tempBoard[winningCombos[i][0]] === human &amp;&amp;\n            tempBoard[winningCombos[i][1]] === human &amp;&amp;\n            tempBoard[winningCombos[i][2]] === human) {\n            return 1; // human won\n        } else if (tempBoard[winningCombos[i][0]] === computer &amp;&amp;\n            tempBoard[winningCombos[i][1]] === computer &amp;&amp;\n            tempBoard[winningCombos[i][2]] === computer) {\n            return 2; // computer won\n        }\n    }\n\n    if (tempBoard.indexOf(free) &gt;= 0) {\n        return 0; // not finished yet\n    }\n\n    return 3; // the game was a draw\n}\n\nfunction playAgain() {\n    if (getWinner(board) != 0) {\n        for (var j = 0; j &lt; boardSize; j += 1) {\n            document.getElementById(j).innerHTML = \"\";\n        }\n        resetBoard();\n    }\n}\n\nfunction resetBoard() {\n    for (i = 0; i &lt; boardSize; i += 1) {\n        board[i] = free;\n    }\n}\n</code></pre>\n\n<p>worker.js</p>\n\n<pre><code>function miniMax(node, depth, alpha, beta) {\n    if (getWinner(node) !== 0) {\n        return score(node);\n    }\n\n    depth += 1;\n    // var scores   = new Array();\n    // var moves    = new Array();\n    var availableMoves = getAvailableMoves(node);\n    var move, result, possibleGame;\n    if (activePlayer === 'Computer'){\n        for (var i = 0; i &lt; availableMoves.length; i += 1) {\n            move = availableMoves[i];\n            possibleGame = generateNewGame(move, node);\n            result = miniMax(possibleGame, depth, alpha, beta);\n            node = undoMove(node, move);\n\n            if (result &gt; alpha) {\n                alpha = result;\n                if (depth === 1) {\n                    choice = move;\n                } else if (alpha &gt;= beta) {\n                    return alpha;\n                }\n            }\n        }\n        return alpha;\n    } else if (activePlayer === 'Human') { \n        for (var i = 0; i &lt; availableMoves.length; i += 1) {\n            move = availableMoves[i];\n            possibleGame = generateNewGame(move, node);\n            result = miniMax(possibleGame, depth, alpha, beta);\n            node = undoMove(node, move);\n\n            if (result &lt; beta) {\n                beta = result;\n                if (depth === 1) {\n                    choice = move;\n                } else if (alpha &gt;= beta) {\n                    return beta;\n                }\n            }\n        }\n\n        return beta;\n    }\n}\n\nfunction undoMove(possibleGame, move) {\n    possibleGame[move] = free;\n    changePlayerTurn();\n    return possibleGame;\n}\n\nfunction getAvailableMoves(tempBoard) {\n    var availableMoves = new Array();\n    for (var i = 0; i &lt; boardSize; i += 1) {\n        if (board[i] === free) {\n            availableMoves.push(i);\n        }\n    }\n    return availableMoves;\n}\n\nfunction generateNewGame(move, possibleGame) {\n    var piece = changePlayerTurn();\n    possibleGame[move] = piece;\n    return possibleGame;\n}\n\nfunction changePlayerTurn() {\n    var turn;\n    if (activePlayer === 'Computer') {\n        turn = computer;\n        activePlayer = 'Human';\n    } else {\n        turn = human;\n        activePlayer = 'Computer';\n    }\n\n    return turn;\n}\n\nfunction gameOver(tempBoard) {\n    if (getWinner(tempBoard) === 0) {\n        return 0;\n    } else if (getWinner(tempBoard) === 1) {\n        alert(\"You won!\");\n        humanWin += 1;\n        if (human === \"X\") {\n            document.getElementById(\"xPlayerScore\").value = humanWin;\n        } else {\n            document.getElementById(\"oPlayerScore\").value = humanWin;\n        }\n    } else if (getWinner(tempBoard) === 2) {\n        alert(\"Computer won!\");\n        computerWin += 1;\n        if (computer === \"X\") {\n            document.getElementById(\"xPlayerScore\").value = computerWin;\n        } else {\n            document.getElementById(\"oPlayerScore\").value = computerWin;\n        }\n    } else if (getWinner(tempBoard) === 3) {\n        alert(\"The game was a draw!\");\n    }\n    return 1;\n}\n\nfunction getWinner(tempBoard) {\n    for (i = 0; i &lt; winningCombos.length; i += 1) {\n        if (tempBoard[winningCombos[i][0]] === human &amp;&amp;\n            tempBoard[winningCombos[i][1]] === human &amp;&amp;\n            tempBoard[winningCombos[i][2]] === human) {\n            return 1; // human won\n        } else if (tempBoard[winningCombos[i][0]] === computer &amp;&amp;\n            tempBoard[winningCombos[i][1]] === computer &amp;&amp;\n            tempBoard[winningCombos[i][2]] === computer) {\n            return 2; // computer won\n        }\n    }\n\n    if (tempBoard.indexOf(free) &gt;= 0) {\n        return 0; // not finished yet\n    }\n\n    return 3; // the game was a draw\n}\n\nonmessage = function(e) {\n    miniMax(board, 0, -Infinity, Infinity);\n    postMessage(choice);\n};\n</code></pre>\n\n<p>The problem is that the variable <code>move</code> is always undefined and even if I do a <code>console.log()</code> inside the <code>worker.onmessage</code> function, it doesn't display anything.</p>\n\n<p>It's more likely to misunderstood the concept of what a web worker is and should be used but I am trying for more than 24 hours to solve it and it feels like 0 progress. Would appreciate your help if possible. Thanks a lot!</p>\n"}, {"tags": ["javascript", "arrays", "object", "lodash"], "answers": [{"comments": [{"owner": {"reputation": 3418, "user_id": 4750401, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh5.googleusercontent.com/-frQmKv_69Gs/AAAAAAAAAAI/AAAAAAAAA44/3Kk20TKi8-s/photo.jpg?sz=128", "display_name": "SakoBu", "link": "https://stackoverflow.com/users/4750401/sakobu"}, "edited": false, "score": 0, "creation_date": 1515616672, "post_id": 48195643, "comment_id": 83372281, "body": "How the hell did that not occur to me? I need some sleep. Thanks!"}], "tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": true, "score": 3, "last_activity_date": 1515616783, "last_edit_date": 1515616783, "creation_date": 1515616557, "answer_id": 48195643, "question_id": 48195602, "link": "https://stackoverflow.com/questions/48195602/assigning-the-key-of-the-object-as-a-value-inside-that-object/48195643#48195643", "title": "Assigning the key of the object as a value inside that object", "body": "<p>With lodash you can achieve the reverse using <a href=\"https://lodash.com/docs/4.17.4#mapValues\" rel=\"nofollow noreferrer\"><code>_.mapValues()</code></a>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const posts = {\r\n  123: {\r\n    title: 'Hello' \r\n  },\r\n  321: {\r\n    title: 'World'\r\n  }\r\n}\r\n\r\nconst result = _.mapValues(posts, (value, id) =&gt; _.assign({}, value, { id }));\r\n\r\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1515616774, "post_id": 48195646, "comment_id": 83372323, "body": "simpler than library methods"}], "tags": [], "owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "is_accepted": false, "score": 2, "last_activity_date": 1515616562, "creation_date": 1515616562, "answer_id": 48195646, "question_id": 48195602, "link": "https://stackoverflow.com/questions/48195602/assigning-the-key-of-the-object-as-a-value-inside-that-object/48195646#48195646", "title": "Assigning the key of the object as a value inside that object", "body": "<p>Just iterate all the keys and add them as <code>id</code> on the Object:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const posts = {\r\n  123: {\r\n    title: 'Hello' \r\n  },\r\n  321: {\r\n    title: 'World'\r\n  }\r\n}\r\n\r\nObject.keys(posts).forEach(k=&gt;{\r\n    posts[k].id = k;\r\n});\r\n\r\nconsole.log(posts);\r\n\r\n/*\r\nconst posts = {\r\n  123: {\r\n    id: 123,\r\n    title: 'Hello' \r\n  },\r\n  321: {\r\n    id: 321,\r\n    title: 'World'\r\n  }\r\n}\r\n*/</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3418, "user_id": 4750401, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh5.googleusercontent.com/-frQmKv_69Gs/AAAAAAAAAAI/AAAAAAAAA44/3Kk20TKi8-s/photo.jpg?sz=128", "display_name": "SakoBu", "link": "https://stackoverflow.com/users/4750401/sakobu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 48195643, "answer_count": 2, "score": 0, "last_activity_date": 1515616783, "creation_date": 1515616321, "question_id": 48195602, "link": "https://stackoverflow.com/questions/48195602/assigning-the-key-of-the-object-as-a-value-inside-that-object", "title": "Assigning the key of the object as a value inside that object", "body": "<p>In lodash we have the _mapKeys method that I'm using like this:</p>\n\n<p>Here is an array of objects:</p>\n\n<pre><code>const posts = [\n  {\n    id: 123,\n    title: 'Hello',\n  },\n  {\n    id: 321,\n    title: 'World',\n  },\n];\n</code></pre>\n\n<p>From there I use the method like so:</p>\n\n<pre><code>const postsObjWithKeys = _.mapKeys(posts, 'id');\n\nconsole.log(postsObjWithKeys);\n</code></pre>\n\n<p>And the result is: </p>\n\n<pre><code>{\n  123: {id: 123, title: 'Hello'},\n  321: {id: 321, title: 'World'}\n}\n</code></pre>\n\n<p>Perfect! Exactly what I want!</p>\n\n<p><strong>The question is how would I achieve this in 'reverse'? Meaning if I had an object like this:</strong></p>\n\n<pre><code>const posts = {\n  123: {\n    title: 'Hello' \n  },\n  321: {\n    title: 'World'\n  }\n}\n</code></pre>\n\n<p>Is it possible to take the key and assign it as a value if id? The end result being:</p>\n\n<pre><code>const posts = {\n  123: {\n    id: 123,\n    title: 'Hello' \n  },\n  321: {\n    id: 321,\n    title: 'World'\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "leaflet", "gzip"], "comments": [{"owner": {"reputation": 839, "user_id": 7113839, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hONZg.jpg?s=128&g=1", "display_name": "BStill", "link": "https://stackoverflow.com/users/7113839/bstill"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1515616790, "post_id": 48195554, "comment_id": 83372328, "body": "@SLaks Thank you for the reply. I thought the compression library is the middleware for it?"}, {"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1515619031, "post_id": 48195554, "comment_id": 83373439, "body": "How do you know it isn&#39;t already gzipped?  The <code>app.use(compression);</code> should make it so that everything is gzipped when sent."}, {"owner": {"reputation": 839, "user_id": 7113839, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hONZg.jpg?s=128&g=1", "display_name": "BStill", "link": "https://stackoverflow.com/users/7113839/bstill"}, "reply_to_user": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1515619505, "post_id": 48195554, "comment_id": 83373642, "body": "@zero298 well thats the thing. It should be gzipped but I thought that It would allow me to add that header, but when I do. I get an error that it isn&#39;t properly compressed."}, {"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1515619602, "post_id": 48195554, "comment_id": 83373674, "body": "Curl your endpoint without setting the header.  I&#39;m pretty sure that <code>compression</code> sets the header for you.  Why do you want to set the header again?"}, {"owner": {"reputation": 839, "user_id": 7113839, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hONZg.jpg?s=128&g=1", "display_name": "BStill", "link": "https://stackoverflow.com/users/7113839/bstill"}, "reply_to_user": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1515619999, "post_id": 48195554, "comment_id": 83373846, "body": "@zero298 I updated the post to show the results when I curl my endpoint and it doesn&#39;t have the header. I need it because it is the only solution I can find for the error I get when trying to render VectorTiles from .pbf&#39;s"}, {"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1515620244, "post_id": 48195554, "comment_id": 83373967, "body": "This is very strange.  Maybe check <a href=\"https://github.com/expressjs/compression/issues/108\" rel=\"nofollow noreferrer\">this issue on compression&#39;s GitHub</a>.  Maybe you are experiencing something similar."}, {"owner": {"reputation": 839, "user_id": 7113839, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hONZg.jpg?s=128&g=1", "display_name": "BStill", "link": "https://stackoverflow.com/users/7113839/bstill"}, "reply_to_user": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1515620843, "post_id": 48195554, "comment_id": 83374273, "body": "@zero298 That sounds like exactly what I am experiencing. They don&#39;t offer a solution though."}, {"owner": {"reputation": 839, "user_id": 7113839, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hONZg.jpg?s=128&g=1", "display_name": "BStill", "link": "https://stackoverflow.com/users/7113839/bstill"}, "edited": false, "score": 0, "creation_date": 1515629057, "post_id": 48195554, "comment_id": 83377141, "body": "Do you think it could have something to do with me using a jade template? Should I just try to render and html?"}, {"owner": {"reputation": 839, "user_id": 7113839, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hONZg.jpg?s=128&g=1", "display_name": "BStill", "link": "https://stackoverflow.com/users/7113839/bstill"}, "edited": false, "score": 0, "creation_date": 1515642794, "post_id": 48195554, "comment_id": 83380174, "body": "When I run it with debug, it is showing that it is compressing some of the files."}], "answers": [{"tags": [], "owner": {"reputation": 839, "user_id": 7113839, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hONZg.jpg?s=128&g=1", "display_name": "BStill", "link": "https://stackoverflow.com/users/7113839/bstill"}, "is_accepted": true, "score": 0, "last_activity_date": 1516304984, "last_edit_date": 1516304984, "creation_date": 1515711182, "answer_id": 48217104, "question_id": 48195554, "link": "https://stackoverflow.com/questions/48195554/how-can-i-gzip-a-jade-template-in-node-js/48217104#48217104", "title": "How can I gzip a jade template in Node JS", "body": "<p>So I have realized that it was in fact gzipping it. I was running the <code>curl -I --compress</code> command which just makes a HEAD request. Since there is no body to compress, it will not add the header. Instead use the <code>curl -is --compress</code> command so that you can see if it is compressing the body or not. </p>\n"}], "owner": {"reputation": 839, "user_id": 7113839, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hONZg.jpg?s=128&g=1", "display_name": "BStill", "link": "https://stackoverflow.com/users/7113839/bstill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "accepted_answer_id": 48217104, "answer_count": 1, "score": 1, "last_activity_date": 1516304984, "creation_date": 1515616139, "last_edit_date": 1515657629, "question_id": 48195554, "link": "https://stackoverflow.com/questions/48195554/how-can-i-gzip-a-jade-template-in-node-js", "title": "How can I gzip a jade template in Node JS", "body": "<p>I would like to gzip my index.pug because apparently it is required so that I can use certain VectorTiles on leaflet. </p>\n\n<p>Here is my server.js </p>\n\n<p>`</p>\n\n<pre><code>var loopback = require('loopback');\nvar boot = require('loopback-boot');\nvar compression = require('compression');\nvar bodyParser = require('body-parser');\nvar $ = require('jquery');\nvar app = module.exports = loopback();\nvar session = require('client-sessions');\nvar path = require('path');\napp.set('views', path.join(__dirname, '../views'));\napp.set('view engine', 'pug');\n\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({extended: true}));\napp.use(compression());\napp.use(loopback.static(__dirname+'../views'));\n\napp.use(session({\n  cookieName: 'session',\n  secret: 'random_string_goes_here',\n  duration: 30 * 60 * 1000,\n  activeDuration: 5 * 60 * 1000,\n}));\n\napp.start = function() {\n  // start the web server\n  return app.listen(function() {\n    app.emit('started');\n    var baseUrl = app.get('url').replace(/\\/$/, '');\n    console.log('Web server listening at: %s', baseUrl);\n    if (app.get('loopback-component-explorer')) {\n      var explorerPath = app.get('loopback-component-explorer').mountPath;\n      console.log('Browse your REST API at %s%s', baseUrl, explorerPath);\n    }\n  });\n};\n`\n</code></pre>\n\n<p>And this is where I render my '.pug' file</p>\n\n<pre><code>`    \n module.exports = function (app) {\n   app.get('/', function (req, res) {\n     //res.setHeader('Content-Encoding', 'gzip');\n     res.render('index.pug');\n   });\n };\n`\n</code></pre>\n\n<p>I need to be able to set the header <strong>res.setHeader('Content-Encoding', 'gzip');</strong>, but when I do I get this error: ERR_CONTENT_DECODING_FAILED</p>\n\n<p>I read that the error is caused by the file not being compressed.</p>\n\n<p>This is what I get when I run curl:\n<code>\n    HTTP/1.1 200 OK\n    vary: Origin, Accept-Encoding\n    access-control-allow-credentials: true\n    x-xss-protection: 1; mode=block\n    x-download-options: noopen\n    x-content-type-options: nosniff\n    content-type: text/html; charset=utf-8\n    content-length: 26424\n    etag: W/\"6738-EwRjd2/5wySxOECqPhvhuiz7rTc\"\n    date: Wed, 10 Jan 2018 22:22:40 GMT\n    X-BACKEND: apps-proxy\n</code></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>So I think the problem is that compression is compressing it with zlib when I need it to be gzip. Any ideas how to change that?</p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "mongoose"], "comments": [{"owner": {"reputation": 5778, "user_id": 8698101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a32951f0068d47dfdc1dfc90ff44612b?s=128&d=identicon&r=PG&f=1", "display_name": "B. Fleming", "link": "https://stackoverflow.com/users/8698101/b-fleming"}, "edited": false, "score": 0, "creation_date": 1515616491, "post_id": 48195553, "comment_id": 83372193, "body": "It seems to me that it&#39;s failing to match any of the documents (note the <code>n: 0</code>). I see nothing wrong with your query itself, so I would recommend ensuring that the ids both on the document and in your query are of the correct type (e.g. make sure you&#39;re not comparing strings to ObjectIds). I would also recommend attempting a simple find on your fields individually and then together to help isolate the problem."}, {"owner": {"reputation": 47877, "user_id": 414062, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/xc7mu.jpg?s=128&g=1", "display_name": "Dominic", "link": "https://stackoverflow.com/users/414062/dominic"}, "reply_to_user": {"reputation": 5778, "user_id": 8698101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a32951f0068d47dfdc1dfc90ff44612b?s=128&d=identicon&r=PG&f=1", "display_name": "B. Fleming", "link": "https://stackoverflow.com/users/8698101/b-fleming"}, "edited": false, "score": 0, "creation_date": 1515616625, "post_id": 48195553, "comment_id": 83372253, "body": "thanks, I am passing in IDs as strings, I wonder if I have to wrap them in ObjectId&#39;s. I&#39;ll double check the IDs are correct but I think they are"}, {"owner": {"reputation": 5778, "user_id": 8698101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a32951f0068d47dfdc1dfc90ff44612b?s=128&d=identicon&r=PG&f=1", "display_name": "B. Fleming", "link": "https://stackoverflow.com/users/8698101/b-fleming"}, "edited": false, "score": 0, "creation_date": 1515616802, "post_id": 48195553, "comment_id": 83372337, "body": "Yes, they absolutely must be ObjectIds. There are some methods like <code>findByIdAndUpdate</code> which take an id string, but methods that don&#39;t explicitly operate on ids typically expect your id strings to be wrapped within an ObjectId."}, {"owner": {"reputation": 5778, "user_id": 8698101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a32951f0068d47dfdc1dfc90ff44612b?s=128&d=identicon&r=PG&f=1", "display_name": "B. Fleming", "link": "https://stackoverflow.com/users/8698101/b-fleming"}, "edited": false, "score": 0, "creation_date": 1515616979, "post_id": 48195553, "comment_id": 83372419, "body": "Additionally, methods like <code>findByIdAndUpdate</code> only take an id string as one parameter. When you&#39;re associating an id with a document field (e.g. <code>{$set: {key: some_id}}</code>), you must always, always use an ObjectId. This is true for every part of a query, from the match to the update. String representations of ids are a very special case and should always be treated as the exception to the rule."}, {"owner": {"reputation": 47877, "user_id": 414062, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/xc7mu.jpg?s=128&g=1", "display_name": "Dominic", "link": "https://stackoverflow.com/users/414062/dominic"}, "reply_to_user": {"reputation": 5778, "user_id": 8698101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a32951f0068d47dfdc1dfc90ff44612b?s=128&d=identicon&r=PG&f=1", "display_name": "B. Fleming", "link": "https://stackoverflow.com/users/8698101/b-fleming"}, "edited": false, "score": 0, "creation_date": 1515617391, "post_id": 48195553, "comment_id": 83372627, "body": "YES! Thanks that worked!! With mongoose <code>String</code> seems to work on <code>_id</code>, but failed on <code>&#39;en-GB._id</code>&#39;. Feel free to add it as an answer"}, {"owner": {"reputation": 5778, "user_id": 8698101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a32951f0068d47dfdc1dfc90ff44612b?s=128&d=identicon&r=PG&f=1", "display_name": "B. Fleming", "link": "https://stackoverflow.com/users/8698101/b-fleming"}, "edited": false, "score": 0, "creation_date": 1515617807, "post_id": 48195553, "comment_id": 83372839, "body": "I&#39;m glad to know that the problem is resolved! I&#39;ve added the answer for the sake of documenting the solution."}], "answers": [{"tags": [], "owner": {"reputation": 5778, "user_id": 8698101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a32951f0068d47dfdc1dfc90ff44612b?s=128&d=identicon&r=PG&f=1", "display_name": "B. Fleming", "link": "https://stackoverflow.com/users/8698101/b-fleming"}, "is_accepted": true, "score": 1, "last_activity_date": 1515618029, "last_edit_date": 1515618029, "creation_date": 1515617717, "answer_id": 48195920, "question_id": 48195553, "link": "https://stackoverflow.com/questions/48195553/mongodb-updating-array-item-in-collection-is-not-working/48195920#48195920", "title": "MongoDB: Updating array item in collection is not working", "body": "<p>As discussed in the comments on the question, the issue is directly related to passing in a string representation of an id in the query as opposed to using an ObjectId. In general, it's good practice to treat the use of ObjectIds as the rule and the use of string representations as special exceptions (e.g. in methods like <code>findByIdAndUpdate</code>) in order to avoid this issue.</p>\n\n<pre><code>const { ObjectId } = require('mongodb');\n\n.update({\n  _id: ObjectId(projectId),\n  'en-GB._id': ObjectId(entryId),\n})\n</code></pre>\n"}], "owner": {"reputation": 47877, "user_id": 414062, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/xc7mu.jpg?s=128&g=1", "display_name": "Dominic", "link": "https://stackoverflow.com/users/414062/dominic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 48195920, "answer_count": 1, "score": 0, "last_activity_date": 1515618029, "creation_date": 1515616137, "question_id": 48195553, "link": "https://stackoverflow.com/questions/48195553/mongodb-updating-array-item-in-collection-is-not-working", "title": "MongoDB: Updating array item in collection is not working", "body": "<p>I have a structure like this:</p>\n\n<pre><code>{\n  ...\n  _id: &lt;projectId&gt;\n  en-GB: [{\n    _id: &lt;entryId&gt;,\n    key: 'some key',\n    value: 'some value',\n  }]\n}\n</code></pre>\n\n<p>And I've tried updating it with Mongoose (and raw mongodb too) like this:</p>\n\n<pre><code>const result = await Project\n  .update({\n    _id: projectId,\n    'en-GB._id': entryId,\n  }, {\n    $set: {\n      'en-GB.$.key': 'g000gle!!',\n    },\n  })\n  .exec();\n</code></pre>\n\n<p>I've checked that the IDs are correct. But it doesn't update anything:</p>\n\n<pre><code>{ n: 0, nModified: 0, ok: 1 }\n</code></pre>\n\n<p>What am I doing wrong? Thanks</p>\n"}, {"tags": ["javascript", "reactjs", "multipartform-data", "multer"], "comments": [{"owner": {"reputation": 2452, "user_id": 5082427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b04ffa64c1eeae620048e1ed31dab54f?s=128&d=identicon&r=PG&f=1", "display_name": "Wazner", "link": "https://stackoverflow.com/users/5082427/wazner"}, "edited": false, "score": 2, "creation_date": 1515616026, "post_id": 48195480, "comment_id": 83371979, "body": "You don&#39;t want to use toDataURL. Instead, you want to use the canvas.toBlob method. Then add the blob to the FormData."}, {"owner": {"reputation": 879, "user_id": 757550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f3543eb803fdbf6fa1095168d2eeb72d?s=128&d=identicon&r=PG", "display_name": "wbruntra", "link": "https://stackoverflow.com/users/757550/wbruntra"}, "reply_to_user": {"reputation": 2452, "user_id": 5082427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b04ffa64c1eeae620048e1ed31dab54f?s=128&d=identicon&r=PG&f=1", "display_name": "Wazner", "link": "https://stackoverflow.com/users/5082427/wazner"}, "edited": false, "score": 0, "creation_date": 1515616379, "post_id": 48195480, "comment_id": 83372145, "body": "It worked, thank you."}], "answers": [{"comments": [{"owner": {"reputation": 3280, "user_id": 2990656, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QuT1B.png?s=128&g=1", "display_name": "Steven Jeffries", "link": "https://stackoverflow.com/users/2990656/steven-jeffries"}, "edited": false, "score": 1, "creation_date": 1564885481, "post_id": 48195693, "comment_id": 101174777, "body": "A small code snippet showing this in action would go a long way."}, {"owner": {"reputation": 2452, "user_id": 5082427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b04ffa64c1eeae620048e1ed31dab54f?s=128&d=identicon&r=PG&f=1", "display_name": "Wazner", "link": "https://stackoverflow.com/users/5082427/wazner"}, "reply_to_user": {"reputation": 3280, "user_id": 2990656, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QuT1B.png?s=128&g=1", "display_name": "Steven Jeffries", "link": "https://stackoverflow.com/users/2990656/steven-jeffries"}, "edited": false, "score": 0, "creation_date": 1564951009, "post_id": 48195693, "comment_id": 101187869, "body": "@StevenJeffries Thx for the tip. I added an example."}, {"owner": {"reputation": 2452, "user_id": 5082427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b04ffa64c1eeae620048e1ed31dab54f?s=128&d=identicon&r=PG&f=1", "display_name": "Wazner", "link": "https://stackoverflow.com/users/5082427/wazner"}, "reply_to_user": {"reputation": 156, "user_id": 6385904, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/jHAcg.jpg?s=128&g=1", "display_name": "Tamaghna Banerjee", "link": "https://stackoverflow.com/users/6385904/tamaghna-banerjee"}, "edited": false, "score": 0, "creation_date": 1597328883, "post_id": 48195693, "comment_id": 112102470, "body": "@TamaghnaBanerjee In what way doesn&#39;t it work? What errors do you get? Perhaps I could assist you."}, {"owner": {"reputation": 156, "user_id": 6385904, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/jHAcg.jpg?s=128&g=1", "display_name": "Tamaghna Banerjee", "link": "https://stackoverflow.com/users/6385904/tamaghna-banerjee"}, "edited": false, "score": 1, "creation_date": 1597822924, "post_id": 48195693, "comment_id": 112255557, "body": "The form-data is not sending like how file upload works, I actually create an API which accepts and expects file upload as form-data like traditional file upload we do through upload button. I want to use same process just converting the canvas data to that format. Is it feasible?"}], "tags": [], "owner": {"reputation": 2452, "user_id": 5082427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b04ffa64c1eeae620048e1ed31dab54f?s=128&d=identicon&r=PG&f=1", "display_name": "Wazner", "link": "https://stackoverflow.com/users/5082427/wazner"}, "is_accepted": true, "score": 18, "last_activity_date": 1564950991, "last_edit_date": 1564950991, "creation_date": 1515616714, "answer_id": 48195693, "question_id": 48195480, "link": "https://stackoverflow.com/questions/48195480/sending-canvas-todataurl-as-formdata/48195693#48195693", "title": "Sending canvas.toDataURL() as FormData", "body": "<p>To send binary data in a POST request, you want to use a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Blob\" rel=\"noreferrer\">Blob</a>. A Blob represents raw binary data. To get a Blob of a Canvas, you can use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob\" rel=\"noreferrer\">toBlob</a> method.</p>\n\n<p>Once you have the Blob instance, you can add the Blob to the FormData using the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/FormData/append\" rel=\"noreferrer\">append</a> method. The append method accepts Blob instances as the second argument. You can even pass an optional third argument to append to specify the filename to send with the Blob to the server.</p>\n\n<p>The blob will be received on the server as file data.</p>\n\n<p>An example of this in action:</p>\n\n<pre><code>const canvas = document.getElementById('my-canvas');\ncanvas.toBlob(function(blob) {\n  const formData = new FormData();\n  formData.append('my-file', blob, 'filename.png');\n\n  // Post via axios or other transport method\n  axios.post('/api/upload', formData);\n});\n</code></pre>\n"}], "owner": {"reputation": 879, "user_id": 757550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f3543eb803fdbf6fa1095168d2eeb72d?s=128&d=identicon&r=PG", "display_name": "wbruntra", "link": "https://stackoverflow.com/users/757550/wbruntra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8805, "favorite_count": 3, "accepted_answer_id": 48195693, "answer_count": 1, "score": 7, "last_activity_date": 1588330850, "creation_date": 1515615798, "question_id": 48195480, "link": "https://stackoverflow.com/questions/48195480/sending-canvas-todataurl-as-formdata", "title": "Sending canvas.toDataURL() as FormData", "body": "<p>I am trying to use html2canvas to render a DOM element as a .png image, which I then want to upload to the server. Here is my code:</p>\n\n<pre><code>import React, { Component, PropTypes } from 'react';\nimport html2canvas from 'html2canvas';\nimport axios from 'axios';\n\n\nconst sendScreenshot = (img) =&gt; {\n  const config = {\n      headers: {\n          'content-type': 'multipart/form-data'\n      }\n  }\n  let data = new FormData();\n  data.append('screenshot', img);      \n  return axios.post('/api/upload', data)\n}\n\nexport default class Export extends Component {\n\n  printDocument() {\n    const input = document.getElementById('divToPrint');\n    html2canvas(input).then(canvas =&gt; {\n      document.body.appendChild(canvas);\n      const imgData = canvas.toDataURL('image/png');\n      sendScreenshot(imgData)\n    });\n  }\n\n  ...\n</code></pre>\n\n<p>I can see that the DOM element is being converted to an image properly because I can see it appended to the page. </p>\n\n<p>On the node.js server end, I can see that the form is coming through, but 'screenshot' is being received as a text field, not as a file. I am using multer and I confirmed that I can properly receive and save file uploads, at least when I use Postman.</p>\n\n<p>So I guess the basic problem is that I need to indicate that the item I am appending to FormData is a file, not a text field. But I can't figure out how to do that. I tried using append with three arguments, and I tried converting the imgData into a blob like so:</p>\n\n<p><code>const blob = new Blob([img], {type: 'image/png'});</code></p>\n\n<p>But the results did not put me any closer to what I wanted. </p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "edited": false, "score": 0, "creation_date": 1515615788, "post_id": 48195456, "comment_id": 83371833, "body": "You want to sort by <code>id</code>?"}, {"owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1515615807, "post_id": 48195456, "comment_id": 83371845, "body": "Show what you actually tried."}, {"owner": {"reputation": 6967, "user_id": 5735030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8xypv.jpg?s=128&g=1", "display_name": "Alexandre Annic", "link": "https://stackoverflow.com/users/5735030/alexandre-annic"}, "edited": false, "score": 1, "creation_date": 1515615839, "post_id": 48195456, "comment_id": 83371869, "body": "This is a duplicate of <a href=\"https://stackoverflow.com/questions/1129216/sort-array-of-objects-by-string-property-value-in-javascript\" title=\"sort array of objects by string property value in javascript\">stackoverflow.com/questions/1129216/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 401, "user_id": 9189704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yQKT0.jpg?s=128&g=1", "display_name": "fl0psy", "link": "https://stackoverflow.com/users/9189704/fl0psy"}, "is_accepted": true, "score": 15, "last_activity_date": 1515616809, "creation_date": 1515616809, "answer_id": 48195712, "question_id": 48195456, "link": "https://stackoverflow.com/questions/48195456/order-array-of-objects-with-typescript-by-value/48195712#48195712", "title": "Order array of objects with Typescript by value", "body": "<p>Sorting an array of objects can be a little tricky. You have to pass in a custom sorting function to define how you want to compare the objects. How else would .sort() know you want to sort by id? Maybe you want to sort by weight instead.</p>\n\n<p>I've put together an example at <a href=\"https://codepen.io/anon/pen/PEReGE?editors=0012\" rel=\"noreferrer\">https://codepen.io/anon/pen/PEReGE?editors=0012</a>. You can replace the id references with any property if you'd like it sorted by that instead.</p>\n\n<pre><code>items.sort((a, b) =&gt; {\n  if(a.id &gt; b.id) {\n    return 1;\n  } else if(a.id &lt; b.id) {\n    return -1;\n  } else {\n    return 0;\n  }\n});\n</code></pre>\n\n<p>If you are sorting by a numeric property you can use this shorthand:</p>\n\n<pre><code>items.sort((a, b) =&gt; {\n  return a.id - b.id;\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3591, "user_id": 725376, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0ad91a3cd643e8a2977f29cc8b872450?s=128&d=identicon&r=PG", "display_name": "Novo", "link": "https://stackoverflow.com/users/725376/novo"}, "edited": false, "score": 0, "creation_date": 1515663845, "post_id": 48195844, "comment_id": 83388798, "body": "Your code works but I don&#39;t want to include 3rd party libraries, upvoted."}], "tags": [], "owner": {"reputation": 1835, "user_id": 6731368, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ac246a4251b40daa1893524ded0927f0?s=128&d=identicon&r=PG&f=1", "display_name": "a2441918", "link": "https://stackoverflow.com/users/6731368/a2441918"}, "is_accepted": false, "score": 3, "last_activity_date": 1515617796, "last_edit_date": 1515617796, "creation_date": 1515617397, "answer_id": 48195844, "question_id": 48195456, "link": "https://stackoverflow.com/questions/48195456/order-array-of-objects-with-typescript-by-value/48195844#48195844", "title": "Order array of objects with Typescript by value", "body": "<p>You can use lodash to achieve what you want. You can also use multiple sorting options by passing in the keys in the array inside the sortBy function.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = [\r\n{\"id\": 3, \"ref\": \"P-201721\", \"active\": 1, \"visible\": 1, \"weight\": 0.3},\r\n{\"id\": 4, \"ref\": \"P-201722\", \"active\": 1, \"visible\": 1, \"weight\": 0.3},\r\n{\"id\": 1, \"ref\": \"P-201710\", \"active\": 1, \"visible\": 1, \"weight\": 0.5},\r\n{\"id\": 2, \"ref\": \"P-201711\", \"active\": 1, \"visible\": 1, \"weight\": 0.5},\r\n{\"id\": 5, \"ref\": \"P-201831\", \"active\": 1, \"visible\": 1, \"weight\": 0.2},\r\n{\"id\": 6, \"ref\": \"P-201832\", \"active\": 1, \"visible\": 1, \"weight\": 0.2}\r\n]\r\n\r\nvar sort = _.sortBy(data, [\"id\",\"weight\"]);\r\n\r\nconsole.log(sort);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3591, "user_id": 725376, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0ad91a3cd643e8a2977f29cc8b872450?s=128&d=identicon&r=PG", "display_name": "Novo", "link": "https://stackoverflow.com/users/725376/novo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17261, "favorite_count": 2, "accepted_answer_id": 48195712, "answer_count": 2, "score": 2, "last_activity_date": 1515617796, "creation_date": 1515615694, "question_id": 48195456, "link": "https://stackoverflow.com/questions/48195456/order-array-of-objects-with-typescript-by-value", "title": "Order array of objects with Typescript by value", "body": "<p>How can I oder this array of Objects by Object value? Im using Typescript</p>\n\n<p>console.log(this.items);</p>\n\n<pre><code>(6) [{\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}]\n{id: 3, ref: \"P-201721\", active: 1, visible: 1, weigth: 0.3,\u00a0\u2026}\n{id: 4, ref: \"P-201722\", active: 1, visible: 1, weigth: 0.3,\u00a0\u2026}\n{id: 1, ref: \"P-201710\", active: 1, visible: 1, weigth: 0.5,\u00a0\u2026}\n{id: 2, ref: \"P-201711\", active: 1, visible: 1, weigth: 0.5,\u00a0\u2026}\n{id: 5, ref: \"P-201831\", active: 1, visible: 1, weigth: 0.2,\u00a0\u2026}\n{id: 6, ref: \"P-201832\", active: 1, visible: 1, weigth: 0.2,\u00a0\u2026}\n</code></pre>\n\n<p>I tried this but the array mantains the same order\n<a href=\"https://stackoverflow.com/questions/5435228/sort-an-array-with-arrays-in-it-by-string\">Sort an array with arrays in it by string</a></p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "edited": false, "score": 0, "creation_date": 1515615898, "post_id": 48195446, "comment_id": 83371901, "body": "Is this order purely for visual reasons? As you can control the order via CSS and just render it in any DOM order. CSS will rearrange it for you. It&#39;s easy with grid layouts."}, {"owner": {"reputation": 1871, "user_id": 1479976, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6da8c804cd3731fc9dd8dbf5fd621523?s=128&d=identicon&r=PG", "display_name": "Simons0n", "link": "https://stackoverflow.com/users/1479976/simons0n"}, "edited": false, "score": 0, "creation_date": 1515615946, "post_id": 48195446, "comment_id": 83371927, "body": "I wanted to recommend the same, a css grid would be perfekt for this."}, {"owner": {"reputation": 29068, "user_id": 149436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4c5aa5126e36603eabdfdc57c46583?s=128&d=identicon&r=PG", "display_name": "Evan Trimboli", "link": "https://stackoverflow.com/users/149436/evan-trimboli"}, "edited": false, "score": 0, "creation_date": 1515617578, "post_id": 48195446, "comment_id": 83372734, "body": "The same problem applies though no? Assuming the layout is determined by js, then OP still needs to generate css or apply styles to the elements to control said order."}, {"owner": {"reputation": 29068, "user_id": 149436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4c5aa5126e36603eabdfdc57c46583?s=128&d=identicon&r=PG", "display_name": "Evan Trimboli", "link": "https://stackoverflow.com/users/149436/evan-trimboli"}, "edited": false, "score": 0, "creation_date": 1515619073, "post_id": 48195446, "comment_id": 83373458, "body": "Do you need to pass different props to each panel? Or are they the same?"}, {"owner": {"reputation": 73, "user_id": 5504939, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-H5rsk99gf8g/AAAAAAAAAAI/AAAAAAAAAcg/P4Iq9YR1ers/photo.jpg?sz=128", "display_name": "Dan Haddigan", "link": "https://stackoverflow.com/users/5504939/dan-haddigan"}, "reply_to_user": {"reputation": 29068, "user_id": 149436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4c5aa5126e36603eabdfdc57c46583?s=128&d=identicon&r=PG", "display_name": "Evan Trimboli", "link": "https://stackoverflow.com/users/149436/evan-trimboli"}, "edited": false, "score": 0, "creation_date": 1515622271, "post_id": 48195446, "comment_id": 83374882, "body": "@EvanTrimboli Yeah, each panel will get different props"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 5504939, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-H5rsk99gf8g/AAAAAAAAAAI/AAAAAAAAAcg/P4Iq9YR1ers/photo.jpg?sz=128", "display_name": "Dan Haddigan", "link": "https://stackoverflow.com/users/5504939/dan-haddigan"}, "edited": false, "score": 0, "creation_date": 1515623461, "post_id": 48196649, "comment_id": 83375351, "body": "I like the simplicity of Method 2, but I don&#39;t think it&#39;s viable for my use case because I need to pass different props to each of the panel components."}, {"owner": {"reputation": 34013, "user_id": 674326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb1ffcb8355a833bc34334d75cefeb3d?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/674326/brandon"}, "reply_to_user": {"reputation": 73, "user_id": 5504939, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-H5rsk99gf8g/AAAAAAAAAAI/AAAAAAAAAcg/P4Iq9YR1ers/photo.jpg?sz=128", "display_name": "Dan Haddigan", "link": "https://stackoverflow.com/users/5504939/dan-haddigan"}, "edited": false, "score": 0, "creation_date": 1515626367, "post_id": 48196649, "comment_id": 83376414, "body": "Evan\u2019s answer will support that use case then."}], "tags": [], "owner": {"reputation": 34013, "user_id": 674326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb1ffcb8355a833bc34334d75cefeb3d?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/674326/brandon"}, "is_accepted": false, "score": 2, "last_activity_date": 1515620918, "creation_date": 1515620918, "answer_id": 48196649, "question_id": 48195446, "link": "https://stackoverflow.com/questions/48195446/rendering-react-components-in-a-specified-order/48196649#48196649", "title": "Rendering React Components in a Specified Order", "body": "<p>Method 1:</p>\n\n<p>Just transform the settings array into an array of Components once before you render:</p>\n\n<pre><code>const settings = {\n        layout: [\n            \"panela\",\n            \"panelb\",\n            \"panelc\"\n        ]\n    };\n\nconst panels = settings.layout.map(c =&gt; {\n  switch (c) {\n    case \"panela\": return { Component: PanelA, key: c };\n    case \"panelb\": return { Component: PanelA, key: c };\n    ...\n  }\n});\n\n// Now use panels array to render:\n\nclass MyComponent extends React.Component {\n  // ...\n  renderComponentsInOrder() {\n    return panels.map(({Component, key}) =&gt; (\n      &lt;Component key={key} {.../* some state*/} /&gt;\n    ));\n  }\n\n  // ...\n}\n</code></pre>\n\n<p>Method 2:</p>\n\n<p>Just create a mapping table:</p>\n\n<pre><code>const settings = {\n        layout: [\n            \"panela\",\n            \"panelb\",\n            \"panelc\"\n        ]\n    };\n\nconst panelLookup = {\n  \"panela\": PanelA,\n  \"panelb\": PanelB,\n   ...\n};\n\n// Now use lookup to render:\n// Now use panels array to render:\n\nclass MyComponent extends React.Component {\n  // ...\n  renderComponentsInOrder() {\n    return settings.layout.map(key =&gt; {\n      const Component = panelLookup[key];\n      return &lt;Component key={key} {.../* some state*/} /&gt;;\n    });\n  }\n\n  // ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 5504939, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-H5rsk99gf8g/AAAAAAAAAAI/AAAAAAAAAcg/P4Iq9YR1ers/photo.jpg?sz=128", "display_name": "Dan Haddigan", "link": "https://stackoverflow.com/users/5504939/dan-haddigan"}, "edited": false, "score": 0, "creation_date": 1515644391, "post_id": 48197359, "comment_id": 83380472, "body": "Perfect! The only thing missing is <code>return</code>s in the switch cases"}, {"owner": {"reputation": 29068, "user_id": 149436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4c5aa5126e36603eabdfdc57c46583?s=128&d=identicon&r=PG", "display_name": "Evan Trimboli", "link": "https://stackoverflow.com/users/149436/evan-trimboli"}, "reply_to_user": {"reputation": 73, "user_id": 5504939, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-H5rsk99gf8g/AAAAAAAAAAI/AAAAAAAAAcg/P4Iq9YR1ers/photo.jpg?sz=128", "display_name": "Dan Haddigan", "link": "https://stackoverflow.com/users/5504939/dan-haddigan"}, "edited": false, "score": 0, "creation_date": 1515647068, "post_id": 48197359, "comment_id": 83381153, "body": "Indeed, fixed. Thanks."}], "tags": [], "owner": {"reputation": 29068, "user_id": 149436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4c5aa5126e36603eabdfdc57c46583?s=128&d=identicon&r=PG", "display_name": "Evan Trimboli", "link": "https://stackoverflow.com/users/149436/evan-trimboli"}, "is_accepted": true, "score": 5, "last_activity_date": 1515647061, "last_edit_date": 1515647061, "creation_date": 1515624571, "answer_id": 48197359, "question_id": 48195446, "link": "https://stackoverflow.com/questions/48195446/rendering-react-components-in-a-specified-order/48197359#48197359", "title": "Rendering React Components in a Specified Order", "body": "<p>A slightly different take on the answer given by Brandon. You could have a function to generate the component based on the state/props:</p>\n\n<pre><code>const settings = {\n    layout: [\n        \"panela\",\n        \"panelb\",\n        \"panelc\"\n    ]\n};\n\nconst panels = settings.layout.map(c =&gt; {\n  switch (c) {\n    case \"panela\": return (props, state) =&gt; &lt;PanelA key=\"a\" foo={state.foo} /&gt;\n    case \"panelb\": return (props, state) =&gt; &lt;PanelB key=\"b\" bar={state.bar} /&gt;\n  }\n});\n\n// Now use panels array to render:\n\nclass MyComponent extends React.Component {\n  render() {\n    const props = this.props;\n    const state = this.state;\n    const ordered = panels.map(p =&gt; p(props, state));\n\n    return &lt;div&gt;{ordered}&lt;/div&gt;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 5504939, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-H5rsk99gf8g/AAAAAAAAAAI/AAAAAAAAAcg/P4Iq9YR1ers/photo.jpg?sz=128", "display_name": "Dan Haddigan", "link": "https://stackoverflow.com/users/5504939/dan-haddigan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4005, "favorite_count": 1, "accepted_answer_id": 48197359, "answer_count": 2, "score": 6, "last_activity_date": 1515647061, "creation_date": 1515615671, "last_edit_date": 1515618417, "question_id": 48195446, "link": "https://stackoverflow.com/questions/48195446/rendering-react-components-in-a-specified-order", "title": "Rendering React Components in a Specified Order", "body": "<p>Having a bit of a hard time finding anything about this specific pattern, and I'm not even exactly sure how to describe it in search terms so apologies if this is a duplicate question (although I don't think it is).</p>\n\n<p>I want to output a React layout based on an order passed to the app that the user can set via a settings panel. The idea is that there are a few different containers to output on the page that I want the user to be able to re-arrange. It's important to note that this order <strong>is not</strong> changeable after the app renders. (I want the user to be able to say \"Show me PanelA, PanelC and PanelB in that order\")</p>\n\n<p>Now, I've figured out how to accomplish this using the following pattern:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// user-ordered array is passed to the app:\r\n    const settings = {\r\n        layout: [\r\n            \"panela\",\r\n            \"panelb\",\r\n            \"panelc\"\r\n        ]\r\n    }\r\n\r\n    class MyComponent extends React.Component {\r\n        constructor(props) {\r\n            super(props)\r\n            this.state = {\r\n                // some state\r\n            }\r\n        }\r\n        renderComponentsInOrder() {\r\n            return settings.layout.map(component =&gt; {\r\n                switch(component) {\r\n                    case \"panela\":\r\n                        return \r\n                            &lt;PanelA {.../* some state */} /&gt;\r\n                    case \"panelb\":\r\n                        return \r\n                            &lt;PanelB {.../* some state */} /&gt;\r\n                    case \"panelc\":\r\n                        return \r\n                            &lt;PanelC {.../* some state */} /&gt;\r\n                    default: return null\r\n                }\r\n            })\r\n        }\r\n\r\n        render() {\r\n            return this.renderComponentsInOrder()\r\n        }\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>but this strikes me as really inefficient. The order of the components shouldn't need to be re-calculated every time render runs because the order won't change while the app is running. I've tried doing things like memoizing the renderComponentsInOrder method to cache the calculated layout or renaming the values in the settings.layout array and calling them directly, but haven't been able to get anything to work because the components need to update based on state.</p>\n\n<p>Any help or advice would be greatly appreciated. Thanks!</p>\n\n<p>EDIT: Ideally I'm looking for a JS-based solution as compatibility is a bit of an issue and I don't want to rely solely on the browser's implementation of CSS. </p>\n"}, {"tags": ["javascript", "node.js", "facebook", "express"], "answers": [{"tags": [], "owner": {"reputation": 409, "user_id": 7411879, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154740586695977/picture?type=large", "display_name": "Pouya Larjani", "link": "https://stackoverflow.com/users/7411879/pouya-larjani"}, "is_accepted": false, "score": 0, "last_activity_date": 1515627912, "creation_date": 1515627912, "answer_id": 48197873, "question_id": 48195432, "link": "https://stackoverflow.com/questions/48195432/facebook-bot-and-node-empty-req-query/48197873#48197873", "title": "Facebook Bot and Node: Empty req.query", "body": "<p>the body of the webhooks from Facebook is only json encoded, so get rid of the line that adds url encoding:</p>\n\n<pre><code>app.use(bodyParser.urlencoded({extended: false}));\n</code></pre>\n\n<p>Also the request is encrypted using your app secret, so you'd need to decode that before using bodyParser.json()</p>\n\n<pre><code>app.use(xhub({algorithm: 'sha1', secret: process.env.APP_SECRET }));\n</code></pre>\n\n<p>of course you wanna set your env variable APP_SECRET in the heroku console</p>\n\n<p>For a complete example usage of webhooks, look at <a href=\"https://github.com/mduppes/webhooks_test/blob/master/index.js\" rel=\"nofollow noreferrer\">https://github.com/mduppes/webhooks_test/blob/master/index.js</a></p>\n"}], "owner": {"reputation": 41, "user_id": 6613877, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-otIy20UD2Ik/AAAAAAAAAAI/AAAAAAABWHE/uKoJHpmruhk/photo.jpg?sz=128", "display_name": "Antonio Rossi", "link": "https://stackoverflow.com/users/6613877/antonio-rossi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515627912, "creation_date": 1515615607, "last_edit_date": 1515619045, "question_id": 48195432, "link": "https://stackoverflow.com/questions/48195432/facebook-bot-and-node-empty-req-query", "title": "Facebook Bot and Node: Empty req.query", "body": "<p>this is my first post on StackOverflow!</p>\n\n<p>I have a problem with a new bot I'm creating.</p>\n\n<p>First of all, this is my code in <strong>app.js</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import express from 'express';\r\nimport bodyParser from 'body-parser';\r\nimport mongoose from \"mongoose\";\r\n\r\nimport { VERIFY_TOKEN, PORT, MONGODB_URI } from './config';\r\nimport { botLogic } from './logic';\r\n\r\nmongoose.Promise = global.Promise;\r\nmongoose.connect(MONGODB_URI, { useMongoClient: true });\r\n\r\nconst app = express();\r\n\r\napp.use(bodyParser.urlencoded({extended: false}));\r\napp.use(bodyParser.json());\r\n\r\napp.get('/', (req, res) =&gt; {\r\n  res.send('Correcly deployed!');\r\n});\r\n\r\napp.get('/webhook', (req, res) =&gt; {\r\n  if(req.query['hub.verify_token'] === VERIFY_TOKEN) {\r\n    res.send(req.query['hub.challenge']);\r\n  }\r\n  res.send('Invalid credentials');\r\n});\r\n\r\napp.post('/webhook/', async (req, res) =&gt; {\r\n  try {\r\n    await res.sendStatus(200);\r\n    await Promise.all(req.body.entry.map(async entry =&gt; {\r\n      await Promise.all(entry.messaging.map(async update =&gt; {\r\n        console.log(`Received update from ${update.sender.id}`);\r\n        await botLogic(update);\r\n      }));           \r\n    }));\r\n  } catch (e) {\r\n    console.error(e);\r\n  }\r\n});\r\n\r\napp.get('*', (req, res) =&gt; {\r\n  res.status('404').send('Nothing interesting here');\r\n});\r\n\r\napp.listen(PORT, function() {\r\n  console.log('running on port', PORT);\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I created the app on the Facebook Developer page and the webhook is linked:\n<a href=\"https://i.stack.imgur.com/QEf0Y.png\" rel=\"nofollow noreferrer\">Facebook developer page: webhook</a></p>\n\n<p>If you go on <a href=\"https://my-personal-bot.herokuapp.com/\" rel=\"nofollow noreferrer\">https://my-personal-bot.herokuapp.com/</a> it should say </p>\n\n<blockquote>\n  <p>correctly deployed</p>\n</blockquote>\n\n<p>but If you go here </p>\n\n<blockquote>\n  <p><a href=\"https://my-personal-bot.herokuapp.com/webhook\" rel=\"nofollow noreferrer\">https://my-personal-bot.herokuapp.com/webhook</a></p>\n</blockquote>\n\n<p>is gonna say: </p>\n\n<blockquote>\n  <p>Invalid credentials</p>\n</blockquote>\n\n<p>and if I log <code>req.query</code> the result is an empty object.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Nf7Ft.png\" rel=\"nofollow noreferrer\">Logs screenshot</a></p>\n\n<p>I built a couple of bots before and this initial setup was quite straightforward, however, I this particular case, I can't figure out where is the problem. The API version that I'm using is <strong>v2.11</strong>, it's the only difference with my previous bots.</p>\n\n<p>Thank you in advance for any advice!</p>\n"}, {"tags": ["javascript", "arrays", "math"], "comments": [{"owner": {"reputation": 3498, "user_id": 6801443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09cba631e2b30cf9b6b8fa433996ef1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sean F", "link": "https://stackoverflow.com/users/6801443/sean-f"}, "edited": false, "score": 0, "creation_date": 1515615285, "post_id": 48195338, "comment_id": 83371557, "body": "what is the diagonal of an array?  what is the antidiagonal?"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1515615287, "post_id": 48195338, "comment_id": 83371559, "body": "How would you do it by hand, now convert that to code."}, {"owner": {"reputation": 221545, "user_id": 535871, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/nhcvo.jpg?s=128&g=1", "display_name": "Ted Hopp", "link": "https://stackoverflow.com/users/535871/ted-hopp"}, "edited": false, "score": 0, "creation_date": 1515615291, "post_id": 48195338, "comment_id": 83371561, "body": "I don&#39;t understand what you&#39;re after. What&#39;s the input and what&#39;s the output for what you&#39;re trying to compute? Do you want the index corresponding to a particular position on a diagonal or antidiagonal? Or do you want to somehow go from an index to another index on the diagonal/antidiagonal? Or something else?"}, {"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 0, "creation_date": 1515615321, "post_id": 48195338, "comment_id": 83371581, "body": "Diagonal is where <code>row</code> equals to <code>col</code>"}, {"owner": {"reputation": 3498, "user_id": 6801443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09cba631e2b30cf9b6b8fa433996ef1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sean F", "link": "https://stackoverflow.com/users/6801443/sean-f"}, "edited": false, "score": 0, "creation_date": 1515615414, "post_id": 48195338, "comment_id": 83371631, "body": "ok, I get it, the width indicates that we in fact have a 2 dimensional array stored in just 1 dimension"}, {"owner": {"reputation": 264295, "user_id": 24874, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b85169daf0d165b94ea4fa70f409686c?s=128&d=identicon&r=PG", "display_name": "Drew Noakes", "link": "https://stackoverflow.com/users/24874/drew-noakes"}, "edited": false, "score": 1, "creation_date": 1515615775, "post_id": 48195338, "comment_id": 83371825, "body": "Please edit your question to include some examples as it&#39;s not clear exactly what you&#39;re asking. What outputs would you expect for a given set of inputs?"}], "answers": [{"comments": [{"owner": {"reputation": 229, "user_id": 4305551, "user_type": "registered", "profile_image": "https://graph.facebook.com/660066990/picture?type=large", "display_name": "\u039d\u03b9\u03ba\u03cc\u03bb\u03b1\u03bf\u03c2 \u039c\u03b1\u03bd\u03c9\u03bb\u03b1\u03ba\u03bf\u03c2", "link": "https://stackoverflow.com/users/4305551/%ce%9d%ce%b9%ce%ba%cf%8c%ce%bb%ce%b1%ce%bf%cf%82-%ce%9c%ce%b1%ce%bd%cf%89%ce%bb%ce%b1%ce%ba%ce%bf%cf%82"}, "edited": false, "score": 0, "creation_date": 1515619534, "post_id": 48195821, "comment_id": 83373651, "body": "Good start but I need the reverse. Givin the index, what is the diagonal. Two index&#39;s on the same diagonal should have the same value."}, {"owner": {"reputation": 3498, "user_id": 6801443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09cba631e2b30cf9b6b8fa433996ef1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sean F", "link": "https://stackoverflow.com/users/6801443/sean-f"}, "reply_to_user": {"reputation": 229, "user_id": 4305551, "user_type": "registered", "profile_image": "https://graph.facebook.com/660066990/picture?type=large", "display_name": "\u039d\u03b9\u03ba\u03cc\u03bb\u03b1\u03bf\u03c2 \u039c\u03b1\u03bd\u03c9\u03bb\u03b1\u03ba\u03bf\u03c2", "link": "https://stackoverflow.com/users/4305551/%ce%9d%ce%b9%ce%ba%cf%8c%ce%bb%ce%b1%ce%bf%cf%82-%ce%9c%ce%b1%ce%bd%cf%89%ce%bb%ce%b1%ce%ba%ce%bf%cf%82"}, "edited": false, "score": 0, "creation_date": 1515620332, "post_id": 48195821, "comment_id": 83374006, "body": "I do not understand what you mean.  The for loop above prints out each diagonal.  For diagonal 0, replace k with 0.  For diagonal 1, replace k with 1."}, {"owner": {"reputation": 3498, "user_id": 6801443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09cba631e2b30cf9b6b8fa433996ef1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sean F", "link": "https://stackoverflow.com/users/6801443/sean-f"}, "reply_to_user": {"reputation": 229, "user_id": 4305551, "user_type": "registered", "profile_image": "https://graph.facebook.com/660066990/picture?type=large", "display_name": "\u039d\u03b9\u03ba\u03cc\u03bb\u03b1\u03bf\u03c2 \u039c\u03b1\u03bd\u03c9\u03bb\u03b1\u03ba\u03bf\u03c2", "link": "https://stackoverflow.com/users/4305551/%ce%9d%ce%b9%ce%ba%cf%8c%ce%bb%ce%b1%ce%bf%cf%82-%ce%9c%ce%b1%ce%bd%cf%89%ce%bb%ce%b1%ce%ba%ce%bf%cf%82"}, "edited": false, "score": 0, "creation_date": 1515620684, "post_id": 48195821, "comment_id": 83374191, "body": "I have no idea what you mean by &quot;two indexes on the same diagonal should have the same value&quot;.  You have an array, it has indexes, if two indexes have the same value you are talking about the same array element."}], "tags": [], "owner": {"reputation": 3498, "user_id": 6801443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09cba631e2b30cf9b6b8fa433996ef1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sean F", "link": "https://stackoverflow.com/users/6801443/sean-f"}, "is_accepted": false, "score": 0, "last_activity_date": 1515621457, "last_edit_date": 1515621457, "creation_date": 1515617293, "answer_id": 48195821, "question_id": 48195338, "link": "https://stackoverflow.com/questions/48195338/how-to-get-diagonal-and-antidiagonal-number/48195821#48195821", "title": "How to get diagonal and antidiagonal number", "body": "<p>Based on the numbering in your example....</p>\n\n<p>Diagonal k indices are:</p>\n\n<pre><code>i * width + k - i\n</code></pre>\n\n<p>for i ranging from 0 to k.</p>\n\n<p>For example, to print diagonal k, </p>\n\n<pre><code>for(int i = 0; i &lt;= k; i++) {\n    System.out.println(array[i * (width - 1) + k]);\n}\n</code></pre>\n\n<p>The above loop is written in java, the javascript loop is similar.</p>\n\n<p>This gives the diagonals from diagonal 0 to diagonal width - 1.\nFor the remaining diagonals, you use for each k (where k ranges from width to 2 * width - 1)</p>\n\n<pre><code>for(int i = k - (width - 1); i &lt; width - 1; i++) {\n    System.out.println(array[i * (width - 1) + k]);\n}\n</code></pre>\n\n<p>For example, if you have width 5, then use k = 0 to 4 in the first for loop, then use k = 6 to 9 in the second for loop, to get your 9 diagonals.</p>\n\n<p>For the anti diagonal indices, just subtract each diagonal value from width - 1</p>\n\n<pre><code>width - 1 - (i * width + k - i)\n</code></pre>\n\n<p>for i ranging as indicated in the above for loops</p>\n"}, {"tags": [], "owner": {"reputation": 229, "user_id": 4305551, "user_type": "registered", "profile_image": "https://graph.facebook.com/660066990/picture?type=large", "display_name": "\u039d\u03b9\u03ba\u03cc\u03bb\u03b1\u03bf\u03c2 \u039c\u03b1\u03bd\u03c9\u03bb\u03b1\u03ba\u03bf\u03c2", "link": "https://stackoverflow.com/users/4305551/%ce%9d%ce%b9%ce%ba%cf%8c%ce%bb%ce%b1%ce%bf%cf%82-%ce%9c%ce%b1%ce%bd%cf%89%ce%bb%ce%b1%ce%ba%ce%bf%cf%82"}, "is_accepted": false, "score": 0, "last_activity_date": 1515683118, "creation_date": 1515683118, "answer_id": 48210104, "question_id": 48195338, "link": "https://stackoverflow.com/questions/48195338/how-to-get-diagonal-and-antidiagonal-number/48210104#48210104", "title": "How to get diagonal and antidiagonal number", "body": "<p>found a way</p>\n\n<pre><code>diagonal: function (s) {\n  return row(s) - col(s);\n},\n\nantidiagonal: function (s) {\n  return row(s) + col(s);\n},\n</code></pre>\n"}], "owner": {"reputation": 229, "user_id": 4305551, "user_type": "registered", "profile_image": "https://graph.facebook.com/660066990/picture?type=large", "display_name": "\u039d\u03b9\u03ba\u03cc\u03bb\u03b1\u03bf\u03c2 \u039c\u03b1\u03bd\u03c9\u03bb\u03b1\u03ba\u03bf\u03c2", "link": "https://stackoverflow.com/users/4305551/%ce%9d%ce%b9%ce%ba%cf%8c%ce%bb%ce%b1%ce%bf%cf%82-%ce%9c%ce%b1%ce%bd%cf%89%ce%bb%ce%b1%ce%ba%ce%bf%cf%82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 929, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1515683118, "creation_date": 1515615124, "last_edit_date": 1515617712, "question_id": 48195338, "link": "https://stackoverflow.com/questions/48195338/how-to-get-diagonal-and-antidiagonal-number", "title": "How to get diagonal and antidiagonal number", "body": "<p>If you can get the row and col from a 1-dimensional array, given the width and formulas below. how would you get the diagonals and anti-diagonals? my example is trivial. Looking for something that scales to MxN, and is general.</p>\n\n<h2>pseudo code</h2>\n\n<pre><code>A = array[26];\nwidth = 5;\nrow(index)    = floor((index / width))\ncolumn(index) = index % width\ndigonal(index) = //???\nantidigonal(index) = //???\n</code></pre>\n\n<h2>example values</h2>\n\n<pre><code>row 5:  26  27  28  29  30\nrow 4:  21  22  23  24  25\nrow 3:  16  17  18  19  20\nrow 2:  11  12  13  14  15\nrow 1:  6   7   8   9   10\nrow 0:  1   2   3   4   5\n--------------------------      \ncolumn: 0   1   2   3   4\n\ndiag 0: 1               \ndiag 1: 6, 2                \ndiag 2: 3, 7, 11                \ndiag 3: 4, 8, 12, 16                \netc.            \n\nantidiag 0: 5               \nantidiag 1: 4, 10               \nantidiag 2: 3, 9, 15\netc.            \n</code></pre>\n\n<p>Related to <a href=\"https://stackoverflow.com/questions/11821899/how-to-get-row-and-column-from-index\">How to get row and column from index?</a></p>\n"}, {"tags": ["javascript", "node.js", "nightmare"], "comments": [{"owner": {"reputation": 20333, "user_id": 774078, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/seSXR.png?s=128&g=1", "display_name": "Sterling Archer", "link": "https://stackoverflow.com/users/774078/sterling-archer"}, "edited": false, "score": 0, "creation_date": 1515615127, "post_id": 48195286, "comment_id": 83371478, "body": "You shouldn&#39;t need [0] on an ID selector because only 1 element should exist"}, {"owner": {"reputation": 38, "user_id": 8898048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pOksH.jpg?s=128&g=1", "display_name": "Zel", "link": "https://stackoverflow.com/users/8898048/zel"}, "reply_to_user": {"reputation": 20333, "user_id": 774078, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/seSXR.png?s=128&g=1", "display_name": "Sterling Archer", "link": "https://stackoverflow.com/users/774078/sterling-archer"}, "edited": false, "score": 0, "creation_date": 1515617715, "post_id": 48195286, "comment_id": 83372803, "body": "Thanks! That was not the problem though"}, {"owner": {"reputation": 3260, "user_id": 786559, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e3e079a622decf7ca77827a222c8f8ce?s=128&d=identicon&r=PG", "display_name": "Ciprian Tomoiag\u0103", "link": "https://stackoverflow.com/users/786559/ciprian-tomoiag%c4%83"}, "edited": false, "score": 0, "creation_date": 1515954317, "post_id": 48195286, "comment_id": 83487929, "body": "@Zel please tell us what the problem was. It helps fellow users, like me, who need an answer to your question. And if you answer your own question you also get reputation :)"}, {"owner": {"reputation": 38, "user_id": 8898048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pOksH.jpg?s=128&g=1", "display_name": "Zel", "link": "https://stackoverflow.com/users/8898048/zel"}, "edited": false, "score": 0, "creation_date": 1516227604, "post_id": 48195286, "comment_id": 83607668, "body": "Think I am having a problem similar to <a href=\"https://stackoverflow.com/questions/27109563/download-a-file-using-nightmare\">link</a>. The proposed solution there doesn&#39;t fix the problem for me though"}], "owner": {"reputation": 38, "user_id": 8898048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pOksH.jpg?s=128&g=1", "display_name": "Zel", "link": "https://stackoverflow.com/users/8898048/zel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 498, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1515614914, "creation_date": 1515614914, "question_id": 48195286, "link": "https://stackoverflow.com/questions/48195286/nightmare-js-how-to-download-file-clicking-the-download-button-opens-a-new-wi", "title": "Nightmare JS: How to Download file - clicking the download button opens a new window that automatically closes afterwards", "body": "<p>I tried and did not download the file:</p>\n\n<p>1) using nightmare-download-manager &amp; nightmare-inline-download plugin \n2) execute nightmare without the graphic active {show:false}</p>\n\n<p>1) &amp; 2) Result: \nAfter clicking download - a new electron window opens and just hangs there...</p>\n\n<p>3) overwriting the window target='_self' </p>\n\n<p><code>.evaluate(() =&gt; {\n      window.open(jQuery('#download')[0].click, '_self'); \n   }</code></p>\n\n<p>Electron opens 2 new windows( _self window and normal window) and both just hangs there....</p>\n\n<p>Please help :(</p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["javascript", "angular", "rxjs"], "comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 3, "creation_date": 1515614946, "post_id": 48195265, "comment_id": 83371383, "body": "Move code to ngOnInit hook"}, {"owner": {"reputation": 684, "user_id": 7491837, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/65adac70903164651b524a048c773ba8?s=128&d=identicon&r=PG&f=1", "display_name": "Adriano", "link": "https://stackoverflow.com/users/7491837/adriano"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1515615082, "post_id": 48195265, "comment_id": 83371461, "body": "still error <code>this.sumListEvents.subscribe is not a function</code>"}], "answers": [{"tags": [], "owner": {"reputation": 3311, "user_id": 3007184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/naWg8.jpg?s=128&g=1", "display_name": "Chybie", "link": "https://stackoverflow.com/users/3007184/chybie"}, "is_accepted": true, "score": 1, "last_activity_date": 1515639780, "creation_date": 1515639780, "answer_id": 48199186, "question_id": 48195265, "link": "https://stackoverflow.com/questions/48195265/how-to-subscribe-input-property-to-call-out-function-angular-2/48199186#48199186", "title": "How to subscribe Input property to call out function Angular 2+", "body": "<p><code>sumListEvents</code> is not available at the moment you need it. You can use <code>*ngIf</code> to subscribe only when <code>sumListEvents</code> available.</p>\n\n<pre><code>&lt;em-event-list *ngIf [sumListEvents]=\"sumListEvents\"&gt;&lt;/em-event-list&gt;\n</code></pre>\n\n<p>This will work but it might not be a best practise to pass event to the child and subscribe it in a child.</p>\n\n<p>You may refer to <a href=\"https://scotch.io/tutorials/3-ways-to-pass-async-data-to-angular-2-child-components\" rel=\"nofollow noreferrer\">https://scotch.io/tutorials/3-ways-to-pass-async-data-to-angular-2-child-components</a> for other ways to pass async data to child component.</p>\n"}, {"tags": [], "owner": {"reputation": 9429, "user_id": 4159572, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/h25zb.png?s=128&g=1", "display_name": "Bazinga", "link": "https://stackoverflow.com/users/4159572/bazinga"}, "is_accepted": false, "score": 0, "last_activity_date": 1515675689, "creation_date": 1515675689, "answer_id": 48207752, "question_id": 48195265, "link": "https://stackoverflow.com/questions/48195265/how-to-subscribe-input-property-to-call-out-function-angular-2/48207752#48207752", "title": "How to subscribe Input property to call out function Angular 2+", "body": "<p>A better approach will be to use the <code>async</code> pipe and a <code>setter</code>.</p>\n\n<pre><code>&lt;em-event-list *ngIf [sumList]=\"sumListEvents$ | async\"&gt;&lt;/em-event-list&gt;\n\n @Input() set sumList(value) {\n   if(value) {\n     this.events = this.dataService.showEvents(value);\n   }      \n }\n\n private events: Event[] = [];\n\n constructor(private dataService: EventListService) { }\n</code></pre>\n"}], "owner": {"reputation": 684, "user_id": 7491837, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/65adac70903164651b524a048c773ba8?s=128&d=identicon&r=PG&f=1", "display_name": "Adriano", "link": "https://stackoverflow.com/users/7491837/adriano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 48199186, "answer_count": 2, "score": 0, "last_activity_date": 1515675689, "creation_date": 1515614843, "question_id": 48195265, "link": "https://stackoverflow.com/questions/48195265/how-to-subscribe-input-property-to-call-out-function-angular-2", "title": "How to subscribe Input property to call out function Angular 2+", "body": "<p>Hi I have an issue like in subject:\nMy Parent component passes the value to his child component like this:</p>\n\n<pre><code>&lt;em-event-list  [sumListEvents]=\"sumListEvents\"&gt;&lt;/em-event-list&gt;\n</code></pre>\n\n<p>So when when value <em>sumListEvents</em> will change I want to subscribe that value to call out the function from Service. This is how my children component looks:</p>\n\n<pre><code> @Input() sumListEvents: Observable&lt;number&gt;;\n private events: Event[] = [];\n\n constructor(private dataService: EventListService) { \n    let loadSubscription = this.sumListEvents.subscribe(\n      value =&gt; {\n        this.events = this.dataService.showEvents(value)\n      }\n    )\n  }\n</code></pre>\n\n<p>But I receive error on subscribe <code>Cannot read property 'subscribe' of undefined</code> in the <em>sumListEvents</em>. Any ideas?</p>\n"}, {"tags": ["javascript", "reactjs", "flowtype"], "answers": [{"tags": [], "owner": {"reputation": 1285, "user_id": 1320782, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/fb521373a1d92593d4e58b0afd2355f2?s=128&d=identicon&r=PG", "display_name": "Lucas Raines", "link": "https://stackoverflow.com/users/1320782/lucas-raines"}, "is_accepted": false, "score": 1, "last_activity_date": 1515682639, "creation_date": 1515682639, "answer_id": 48209947, "question_id": 48195261, "link": "https://stackoverflow.com/questions/48195261/create-flowtype-for-react-component-with-static-fields/48209947#48209947", "title": "Create flowtype for React component with static fields", "body": "<p>Looks like with some more research I found a solution (using <code>flow-bin@0.63.1</code>).</p>\n\n<p>The answer is flow's <a href=\"https://flow.org/en/docs/types/utilities/#toc-subtype\" rel=\"nofollow noreferrer\"><code>$Subtype&lt;T&gt;</code></a> utility type:</p>\n\n<pre><code>export type SettingsComponent = {\n  name: string;\n} &amp; $Subtype&lt;React.ComponentType&lt;Object&gt;&gt;\n\nexport type VisualizationComponent = {\n  settings: Array&lt;SettingsComponent&gt;;\n} &amp; $Subtype&lt;React.ComponentType&lt;Object&gt;&gt;\n</code></pre>\n\n<p>Though I'll add that while my previous flow errors are gone and errors do show up when using a component with missing static fields or accessing non-existent fields, my editor (Atom + Nuclide) doesn't show tooltips for the type anymore.</p>\n"}], "owner": {"reputation": 1285, "user_id": 1320782, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/fb521373a1d92593d4e58b0afd2355f2?s=128&d=identicon&r=PG", "display_name": "Lucas Raines", "link": "https://stackoverflow.com/users/1320782/lucas-raines"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 507, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1515682639, "creation_date": 1515614826, "question_id": 48195261, "link": "https://stackoverflow.com/questions/48195261/create-flowtype-for-react-component-with-static-fields", "title": "Create flowtype for React component with static fields", "body": "<p>I'm expecting React components like so:</p>\n\n<pre><code>class MySetting extends React.Component&lt;{}&gt; {\n  static name = 'My Setting';\n\n  render() {\n    return (&lt;div&gt;{'setting here'}&lt;/div&gt;);\n  }\n}\n\nclass Widget extends React.Component&lt;{}&gt; {\n  static settings = [ MySetting ]\n\n  render() {\n    return (&lt;div&gt;{'widget here'}&lt;/div&gt;);\n  }\n}\n</code></pre>\n\n<p>And I'd like to make a flow definition for them that essentially mean:</p>\n\n<ul>\n<li>A react component that has a static field <code>name</code></li>\n<li>A react component that has a static field <code>settings</code> which is of the above type</li>\n</ul>\n\n<p>How do I do this? I've tried a couple things like:</p>\n\n<pre><code>interface Settings {\n  name: string;\n}\n\nexport type SettingsComponent = React.ComponentType&lt;Object&gt; &amp; Settings\n\ninterface Widget {\n  settings: Array&lt;SettingComponent&gt;;\n}\n\nexport type WidgetComponent = React.ComponentType&lt;Object&gt; &amp; Widget\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>declare class SettingsComponent&lt;Props, State = void&gt; extends React$Component&lt;Props, State&gt; {\n  static name: string;\n}\n\ndeclare class WidgetComponent&lt;Props, State = void&gt; extends React$Component&lt;Props, State&gt; {\n  static settings: Array&lt;Class&lt;SettingsComponent&lt;any, any&gt;&gt;&gt;\n}\n</code></pre>\n\n<p>But they inevitably throw various flow errors that are awkward to decipher. Is there a generally accepted way of doing this?</p>\n"}, {"tags": ["javascript", "text-to-speech", "html5-audio"], "answers": [{"tags": [], "owner": {"reputation": 1048, "user_id": 3120500, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/g566D.jpg?s=128&g=1", "display_name": "pollaris", "link": "https://stackoverflow.com/users/3120500/pollaris"}, "is_accepted": true, "score": 0, "last_activity_date": 1517587088, "creation_date": 1517587088, "answer_id": 48586415, "question_id": 48195256, "link": "https://stackoverflow.com/questions/48195256/phone-wont-play-calls-both-audio-element-and-speech-synthesis/48586415#48586415", "title": "Phone won&#39;t play calls both audio element and speech synthesis", "body": "<p>Unfortunately, this occurs in version 1703 as observed.  It was fixed in version 1709.  It was working in 1607.  Phones running 1703 will experience this weird behavior.</p>\n"}], "owner": {"reputation": 1048, "user_id": 3120500, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/g566D.jpg?s=128&g=1", "display_name": "pollaris", "link": "https://stackoverflow.com/users/3120500/pollaris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 48586415, "answer_count": 1, "score": 0, "last_activity_date": 1517587088, "creation_date": 1515614798, "last_edit_date": 1516481478, "question_id": 48195256, "link": "https://stackoverflow.com/questions/48195256/phone-wont-play-calls-both-audio-element-and-speech-synthesis", "title": "Phone won&#39;t play calls both audio element and speech synthesis", "body": "<p>In a UWP Javascript app using Visual Studio 2017 I have two pieces of code.\nIf I execute the first, subsequent calls to the second won't play.  If I execute\nthe second, subsequent calls to the first won't play.  This is happening on my\nWindows Phone.  The desktop behaves normally.  What is happening to the output\non my phone?</p>\n\n<p>update: this is failing on an Acer running version 1703. \nHowever both work fine on a Nokia Lumia running version 1607.</p>\n\n<pre><code>var speech = new SpeechSynthesisUtterance(\"hello\");\nwindow.speechSynthesis.speak(speech);  \n\n...\n\nplayer.src = \"ms-appx:///audioo/\" + \"song.wav\";\nplayer.play();\n</code></pre>\n"}, {"tags": ["javascript", "polymer-2.x"], "answers": [{"tags": [], "owner": {"reputation": 338, "user_id": 1744637, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8jMas.png?s=128&g=1", "display_name": "Viktor Lukashov", "link": "https://stackoverflow.com/users/1744637/viktor-lukashov"}, "is_accepted": false, "score": 0, "last_activity_date": 1519582985, "creation_date": 1519582985, "answer_id": 48976891, "question_id": 48195238, "link": "https://stackoverflow.com/questions/48195238/can-i-change-element-tag-name-with-polymer-data-binding/48976891#48976891", "title": "Can I change element tag name with Polymer data binding?", "body": "<p>Polymer data binding does not work for tag names. What you might do to implement this kind of behavior is to create another custom element that accepts the item type as a property and dynamically creates an element of that type:</p>\n\n<pre><code>&lt;template is=\"dom-repeat\" items=\"{{itemMap}}\" as=\"itemType\" id=\"item-grid\"&gt;\n  &lt;iron-list id=\"[[itemType.type]]-list\" as=\"item\" grid items=\"[[itemType.instances]]\"&gt;\n    &lt;template&gt;\n      &lt;div class=\"item\"&gt;\n        &lt;x-item-selector type=[[itemType.type]] properties=[[item]]&gt;&lt;/x-item-selector&gt;\n      &lt;/div&gt;\n    &lt;/template&gt;\n  &lt;/iron-list&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p>There could be several ways to implement the <code>x-item-selector</code> element: declarative and imperative:</p>\n\n<ul>\n<li><p><strong>Declarative: Create a set of <code>&lt;dom-if&gt;</code>s--one per type</strong></p>\n\n<p>If there are only a few element types and you can list them all, you could create a template for the <code>x-item-selector</code> like below:</p>\n\n<pre><code>&lt;template&gt;\n    &lt;template is=\"dom-if\" if=\"[[_isEqual(type, 'item-1')]]\" restamp&gt;\n        &lt;item-1 properties=\"[[properties]]\"&gt;&lt;/item-1&gt;\n    &lt;/template&gt;\n    ...\n&lt;/template&gt;\n</code></pre></li>\n<li><p><strong>Imperative: Observe the <code>type</code> property and update the child element manually</strong></p>\n\n<p>If you are going to support many types of elements, you might want to avoid a large set of <code>&lt;dom-if&gt;</code>s, and update the children of the <code>x-item-selector</code> element imperatively whenever the <code>type</code> property changes. As a downside, the mapping for the <code>properties</code> property you'll also have to establish manually.</p>\n\n<pre><code>_onTypeChanged(newType, oldType) {\n    if (newType !== oldType) {\n        for (let child of this.children) {\n            this.removeChild(child);\n        }\n        const newChild = document.createElement(newType);\n        newChild.properties = this.properties;\n        // also need to add some code to update newChild.properties\n        // when this.properties change \n        this.appendChild(newChild);\n    }\n}\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 10420, "user_id": 1491707, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/rOXkJ.png?s=128&g=1", "display_name": "Nick Felker", "link": "https://stackoverflow.com/users/1491707/nick-felker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1519582985, "creation_date": 1515614720, "last_edit_date": 1515615227, "question_id": 48195238, "link": "https://stackoverflow.com/questions/48195238/can-i-change-element-tag-name-with-polymer-data-binding", "title": "Can I change element tag name with Polymer data binding?", "body": "<p>I have this application which contains many types of Polymer elements that can be added to a main Polymer app element. This main element manages instances of these elements and shows them in a UI.</p>\n\n<p>eg.</p>\n\n<ul>\n<li>item1.html</li>\n<li>item2.html</li>\n<li>item3.html</li>\n<li>my-app.html</li>\n</ul>\n\n<p>As I add new types of items (eg. item4.html), I need to make several changes to the main UI to handle creating, managing, and showing them. Each type is unique enough that I do not want to merge them into a single item type.</p>\n\n<p>What I'd like to do is have each Polymer element 'register' itself into my-app by calling a function which can add a new object to an array.</p>\n\n<p>To do this, my-app will have a property called <code>itemMap</code> which is an array of objects. One property in this object is the type of item.</p>\n\n<pre><code>itemMap: [\n  {\n    type: 'item-1',\n    instances: []\n  }, {\n    type: 'item-2',\n    instances: []\n  }\n  ...\n]\n</code></pre>\n\n<p>This implementation works in code. When adding a new instance, I can add a new object to the <code>instances</code> array for that type. However, I do not know how to show the items in the UI. As each type is a different Polymer element, I cannot use a simple <code>dom-repeat</code> template. At the same time, I do not want to hardcode each type in the main UI to improve modularity.</p>\n\n<p>Right now I have:</p>\n\n<pre><code>&lt;iron-list id=\"item-1-list\" items=\"[[item1_array]]\" as=\"item\" grid&gt;\n  &lt;template&gt;\n    &lt;div class=\"item\"&gt;\n      &lt;item-1 properties=[[item]]&gt;&lt;/item-1&gt;\n    &lt;/div&gt;\n  &lt;/template&gt;\n&lt;/iron-list&gt;\n\n&lt;iron-list id=\"item-2-list\" items=\"[[item2_array]]\" as=\"item\" grid&gt;\n  &lt;template&gt;\n    &lt;div class=\"item\"&gt;\n      &lt;item-2 properties=[[item]]&gt;&lt;/item-2&gt;\n    &lt;/div&gt;\n  &lt;/template&gt;\n&lt;/iron-list&gt;\n</code></pre>\n\n<p>What I want to do is something like the snippet below, which would work for any type I create.</p>\n\n<pre><code>&lt;template is=\"dom-repeat\" items=\"{{itemMap}}\" as=\"itemType\" id=\"item-grid\"&gt;\n  &lt;iron-list id=\"[[itemType.type]]-list\" as=\"item\" grid items=\"[[itemType.instances]]\"&gt;\n    &lt;template&gt;\n      &lt;div class=\"item\"&gt;\n        &lt;[[itemType.type]] properties=[[item]]&gt;&lt;/[[itemType.type]]&gt;\n      &lt;/div&gt;\n    &lt;/template&gt;\n  &lt;/iron-list&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p>However, this does not work.</p>\n\n<p>Is this possible, or something equivalent, or am I going down the wrong path completely?</p>\n"}, {"tags": ["javascript", "wordpress"], "comments": [{"owner": {"reputation": 2495, "user_id": 8053001, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jGiEdnst-tU/AAAAAAAAAAI/AAAAAAAAAA0/_4G4uR9CtTg/photo.jpg?sz=128", "display_name": "Samvel Aleqsanyan", "link": "https://stackoverflow.com/users/8053001/samvel-aleqsanyan"}, "edited": false, "score": 1, "creation_date": 1515614943, "post_id": 48195220, "comment_id": 83371382, "body": "try with wrapping your js code into some delaying function, like <code>set_timeout</code>, <code>jQuery(document).ready</code> and etc."}, {"owner": {"reputation": 3301, "user_id": 3183717, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/521483588/picture?type=large", "display_name": "user3183717", "link": "https://stackoverflow.com/users/3183717/user3183717"}, "edited": false, "score": 1, "creation_date": 1515615157, "post_id": 48195220, "comment_id": 83371498, "body": "Wrapping my code in &quot;$(document).ready(function(){});&quot; fixed it, thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 2495, "user_id": 8053001, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jGiEdnst-tU/AAAAAAAAAAI/AAAAAAAAAA0/_4G4uR9CtTg/photo.jpg?sz=128", "display_name": "Samvel Aleqsanyan", "link": "https://stackoverflow.com/users/8053001/samvel-aleqsanyan"}, "is_accepted": true, "score": 0, "last_activity_date": 1515615701, "creation_date": 1515615701, "answer_id": 48195457, "question_id": 48195220, "link": "https://stackoverflow.com/questions/48195220/wp-customize-previewer-bind-cannot-read-property-bind-of-undefined/48195457#48195457", "title": "wp.customize.previewer.bind: &quot;Cannot read property &#39;bind&#39; of undefined", "body": "<p>Considering discussion on your question: wrap your function into <code>jQuery(document).ready</code> function to prevent your code running earlier than defined <code>variable</code> from other js script you're trying to use.</p>\n"}], "owner": {"reputation": 3301, "user_id": 3183717, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/521483588/picture?type=large", "display_name": "user3183717", "link": "https://stackoverflow.com/users/3183717/user3183717"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 650, "favorite_count": 0, "accepted_answer_id": 48195457, "answer_count": 1, "score": 1, "last_activity_date": 1515615701, "creation_date": 1515614641, "question_id": 48195220, "link": "https://stackoverflow.com/questions/48195220/wp-customize-previewer-bind-cannot-read-property-bind-of-undefined", "title": "wp.customize.previewer.bind: &quot;Cannot read property &#39;bind&#39; of undefined", "body": "<p>I am trying to follow <a href=\"https://code.tutsplus.com/tutorials/customizer-javascript-apis-the-previewer--cms-27313\" rel=\"nofollow noreferrer\">this tutorial</a> on the WordPress Customizer JavaScript API, but I am running into the following snag: </p>\n\n<p>When I try to run this code, I get the following error: \n<code>Uncaught TypeError: Cannot read property 'bind' of undefined</code></p>\n\n<pre><code>(function($){\n\n  var customize = wp.customize;\n\n  customize.previewer.bind( 'preview-edit', function( data ) {\n     // Some code\n  } );\n\n})(jQuery);\n</code></pre>\n\n<p>I am enqueueing the script in my <code>functions.php</code> with the following hook:</p>\n\n<pre><code>function wf_customize_control_js() {\n    wp_enqueue_script( 'wf_customizer_control', get_template_directory_uri() . '/assets/js/wf-customize.js', array( 'customize-controls', 'jquery' ), null, true );\n}\nadd_action( 'customize_controls_enqueue_scripts', 'wf_customize_control_js' );\n</code></pre>\n"}]